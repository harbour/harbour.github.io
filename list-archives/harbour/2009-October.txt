From niki at synel.co.il  Thu Oct  1 02:19:02 2009
From: niki at synel.co.il (Chen Kedem)
Date: Thu Oct  1 02:19:11 2009
Subject: [Harbour] SF tracker#2871130: 5 AdsOpenTable and Free Tables with
	DD (patch)
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7A237D26@Mail-yoq.SYNEL-COMPANY.LTD>

The following patch was submitted to our bug tracker:
http://sourceforge.net/tracker/index.php?func=detail&aid=2871130&group_id=681&atid=300681

Anonymous wrote:
----------------------------------------------------
In ads1.c (adsOpen function call), when a DD is used, there are instances
where free table access might still be desired. This fix solves the problem
by introducing a second call to AdsOpenTable after the inital call fails to
find the free table in the DD. This procedure was commented on by Alex Wong
in the Advantage.xHarbour newsgroup with his approval. See comment with my
name Andy Ross in the source to locate the change.
----------------------------------------------------

Please review and apply if it is the correct solution.


  Chen.
From harbour.01 at syenar.hu  Thu Oct  1 02:41:43 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct  1 02:41:53 2009
Subject: [Harbour] Compile Error Using BCC 6.20
In-Reply-To: <4AC3E679.3050104@gmail.com>
References: <4AC3E679.3050104@gmail.com>
Message-ID: <A840EE34-0FF8-4EFC-AA02-901757D07EC1@syenar.hu>

Hi Mario,

I don't have this compiler. You'll have to find out
which bcc system lib holds this symbol.

grep WSAIoctl *.lib

Brgds,
Viktor

On 2009 Oct 1, at 01:15, Mario H. Sabado wrote:

> Hi Viktor,
>
> I have the following error when compiling Harbour under Windows XP  
> using BCC 6.20.
> **********************************************************
> ilink32.exe -q -Gn -C -aa -Tpd -Gi -x  c0d32.obj @__dyn__.tmp
> Error: Unresolved external 'WSAIoctl' referenced from D:\HARBOUR 
> \SOURCE\RTL\OBJ\WIN\BCC\HBSOCKET_DYN.OBJ
> Error: Unable to perform link
> mingw32-make.exe[3]: *** [harbour-20-bcc.dll] Error 2
> mingw32-make.exe[2]: *** [descend] Error 2
> mingw32-make.exe[1]: *** [dynlib.inst] Error 2
> mingw32-make.exe: *** [source.inst] Error 2
>
> ******************************************************
> Thank you for any help.
>
> Regards,
> Mario
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Oct  1 04:01:26 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct  1 04:01:34 2009
Subject: [Harbour] Forced ANSI Windows API calls
Message-ID: <2F0E3B4F-AF83-443B-9FF7-0B857A33450D@syenar.hu>

Hi Przemek (and All),

When you find some spare time, could you help in
converting these ANSI Windows API calls to native
ones?:

---
       source/common/hbver.c:264:      if( GetVersionExA( &osVer ) )
       source/common/hbver.c:306:                  if( GetVersionExA 
( ( OSVERSIONINFOA * ) &osVerEx ) )
       source/common/hbgete.c:75:      DWORD size =  
GetEnvironmentVariableA( szName, NULL, 0 );
       source/common/hbgete.c:80:         GetEnvironmentVariableA 
( szName, pszBuffer, size );
       source/common/hbgete.c:114:   bRetVal = GetEnvironmentVariableA 
( szName, szBuffer, nSize ) != 0;
       source/common/hbgete.c:157:   return SetEnvironmentVariableA 
( szName, szValue ) != 0;
       source/rtl/filesys.c:2687:   fResult = GetCurrentDirectoryA 
( ulSize, pszBuffer );
       source/rtl/filesys.c:2876:      type = GetDriveTypeA( buffer );
       source/rtl/fstemp.c:153:         if( ! GetTempPathA( ( DWORD )  
( HB_PATH_MAX - 1 ), pszName ) )
       source/rtl/fstemp.c:270:         if( ! GetTempPathA( ( DWORD )  
HB_PATH_MAX, szTempDir ) )
       source/rtl/fstemp.c:278:      fResult = GetTempFileNameA 
( szTempDir, pszPrefix ? pszPrefix : "hb", 0, pszBuffer );
       source/rtl/net.c:157:   GetComputerNameA( pszValue, &ulLen );
       source/rtl/net.c:186:   GetUserNameA( pszValue, &ulLen );
       contrib/hbwin/win_prn2.c:169:      DWORD dwSize =  
GetProfileStringA( "windows", "device", "", pPrinterName,  
*pdwBufferSize );
       + plus a few dynamically called ones, but I'm not exactly sure
         how to handle them properly.
---

I could start doing it, but I fear that I'd do it either
in not very optimal way, and/or would break something along
the way :(

If you'd just modify the typical cases, I could apply the
logic to the rest of occurrences.

This move would be important to untie Unicode Harbour versions
from Windows's internal ANSI-Unicode conversion and be able to
take it in our hands. It's also simply good practice to use
non-ANSI versions in Unicode programs.

Brgds,
Viktor

From dmacias at mail.udg.mx  Thu Oct  1 04:56:49 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Oct  1 04:58:38 2009
Subject: [Harbour] Re: Harbour under OS/2 - 12624
Message-ID: <4AC46ED1.7000309@mail.udg.mx>

Viktor:

[...]
>did create a potential problem if users are mixing
>gcc3 and gcc4.

>One of them is not a specific need, it's simply
>to INCOMPATIBLE groups of gcc compilers: <= 3.3 and >= 3.4.

>Hence gcc3 and gcc4 seems like a logical choice here.

>In hbmk2 compiler choice is managed by -compiler= option.
>And for consistency I'd like to keep it this way.

>[...] so still gcc3/gcc4 compiler names are better here.

I was thinking this matter had been completely clarified: we do not need
gcc3/gcc4 separation

Along these messages I have seen how misunderstandings come again and
again even after they have been explained
You confused much of the explanations and your review of the information
provided has been on surface. Perhaps you ever did a check of "diff
output" content
Recalling again explanations may lead to new or older confutions.

I have made the work and know exactly what it need and where, it has
been explained many times in many ways

A lot of time and efforts has been lost on an issue that is so simple to
understand and as exposed, very easy to implement

Yes I know you do not want any new value in Harbour build scheme, but we
need only one to inform Harbour that we are building with alternative
library format in OS/2 platform
Does not need any specification of gcc3 or gcc4 as you think

David Macias



From druzus at acn.waw.pl  Thu Oct  1 05:27:49 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Oct  1 05:27:57 2009
Subject: [Harbour] SF tracker#2871130: 5 AdsOpenTable and Free Tables
	with DD (patch)
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7A237D26@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D26@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20091001092749.GA24018@uran.home.aster.pl>

On Thu, 01 Oct 2009, Chen Kedem wrote:

Hi,

> The following patch was submitted to our bug tracker:
> http://sourceforge.net/tracker/index.php?func=detail&aid=2871130&group_id=681&atid=300681
> Anonymous wrote:
> ----------------------------------------------------
> In ads1.c (adsOpen function call), when a DD is used, there are instances
> where free table access might still be desired. This fix solves the problem
> by introducing a second call to AdsOpenTable after the inital call fails to
> find the free table in the DD. This procedure was commented on by Alex Wong
> in the Advantage.xHarbour newsgroup with his approval. See comment with my
> name Andy Ross in the source to locate the change.
> ----------------------------------------------------
> Please review and apply if it is the correct solution.

1. it's for old code with bugs which were fixed
2. if 1-st call to AdsOpenTable() success then uninitialized fRetry
   is used as loop stop condition so the behavior is random and depends
   on C stack context - potentialy it's infinit loop.
   Classic example why clear indenting is necessary - due to dropped
   indenting very serious bug cannot be seen immediately.
3. for non ADS_DATABASE_CONNECTION it repeates exactly the same call
   which fail before so the next one will also fail
4. fixing above problems is trivial but still the final modification
   can be source of very serious problems when free tables with the
   same names as the ones in DD exists. If for some reasons DD tables
   cannot be accessed, i.e. they are open in exclusive mode by other
   clients then silently the free tables are open instead without
   any information for user what may cause that important data will
   be stored in temporary tables which will be removed later or some
   other similar bad things. In such context the argument that free
   tables are usable sometimes we have to revert to "free tables are
   very danger" and we will havew to fix above "fix".
5. it still does not allow to control by programmer table location
   and DD has higher priority hiding free tables with the same name.

if ADS users really need such functionality then current
code allows to access free tables using different connections and
connection can be passed as dbUseArea() parameter.
Anyhow if it's still not enough for and users wants to use the
same connection then we can add option to force free table access
by some function or using new ADS* RDD which will inherit from
ADS. The second version allows to use COPY TO / APPEND FROM
between free tables and DD using the same table names.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Oct  1 05:35:03 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct  1 05:35:12 2009
Subject: [Harbour] Re: Harbour under OS/2 - 12624
In-Reply-To: <4AC46ED1.7000309@mail.udg.mx>
References: <4AC46ED1.7000309@mail.udg.mx>
Message-ID: <BBADFA2D-331B-4A63-AB07-A42294729DF5@syenar.hu>

>> [...] so still gcc3/gcc4 compiler names are better here.
>
> I was thinking this matter had been completely clarified: we do not  
> need
> gcc3/gcc4 separation
>
> Along these messages I have seen how misunderstandings come again and
> again even after they have been explained
> You confused much of the explanations and your review of the  
> information
> provided has been on surface. Perhaps you ever did a check of "diff
> output" content
> Recalling again explanations may lead to new or older confutions.

I've read your messages. Perhaps you didn't read mine,
since I haven't seen a single answer to any specific
comments I've made to your solution. No wonder this
discussion is going nowhere.

> I have made the work and know exactly what it need and where, it has
> been explained many times in many ways
>
> A lot of time and efforts has been lost on an issue that is so  
> simple to
> understand and as exposed, very easy to implement

You've chosen the easy and hacky way. I don't like hacks
in Harbour. You tackled three new knobs into the system
to solve your issues instead of thinking in the system
at large. I don't like extra knobs. Especially when there
are better, more elegant ways. You also missed all concerns
regarding your solution. I won't repeat them.

> Yes I know you do not want any new value in Harbour build scheme,  
> but we
> need only one to inform Harbour that we are building with alternative
> library format in OS/2 platform
> Does not need any specification of gcc3 or gcc4 as you think

No new value? Perhaps you missed the few thousand commits
which went into make systems and hbmk2. (much of it went to
OS/2 port, which essentially 3 ppl uses from the whole
userbase, perhaps you should say 'thanks' instead of telling
insults.)

Case closed from my side.

Brgds,
Viktor

From macdavid at users.sourceforge.net  Thu Oct  1 05:41:47 2009
From: macdavid at users.sourceforge.net (macdavid@users.sourceforge.net)
Date: Thu Oct  1 05:41:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12630] trunk/harbour
Message-ID: <E1MtIAV-0000di-AT@d5vjzd1.ch3.sourceforge.com>

Revision: 12630
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12630&view=rev
Author:   macdavid
Date:     2009-10-01 09:41:25 +0000 (Thu, 01 Oct 2009)

Log Message:
-----------
2009-10-01 4:25 UTC-0500 David Arturo Macias Corona (dmacias/at/mail.udg.mx)
  * harbour/config/os2/gcc.mk
  * harbour/utils/hbmk2/hbmk2.prg
    + Added support of OMF library format
      To select alternative OMF library format, use:
            set HB_OS2_OMF=yes
  * INSTALL
    + Added note for OMF library format

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Thu Oct  1 05:44:06 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Oct  1 05:44:16 2009
Subject: [Harbour] Re: Harbour under OS/2 - 12624
In-Reply-To: <BBADFA2D-331B-4A63-AB07-A42294729DF5@syenar.hu>
References: <4AC46ED1.7000309@mail.udg.mx>
	<BBADFA2D-331B-4A63-AB07-A42294729DF5@syenar.hu>
Message-ID: <4AC479E6.8030700@mweb.co.za>

Viktor Szak?ts wrote:

>> Yes I know you do not want any new value in Harbour build scheme, but we
>> need only one to inform Harbour that we are building with alternative
>> library format in OS/2 platform
>> Does not need any specification of gcc3 or gcc4 as you think
> 
> No new value? Perhaps you missed the few thousand commits
> which went into make systems and hbmk2. (much of it went to
> OS/2 port, which essentially 3 ppl uses from the whole
> userbase, perhaps you should say 'thanks' instead of telling
> insults.)

I think he means "new environment value", no insult intended.

Regards
Alex

From vszakats at users.sourceforge.net  Thu Oct  1 05:59:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Oct  1 05:59:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12631] trunk/harbour
Message-ID: <E1MtIRI-0004hk-U0@c3vjzd1.ch3.sourceforge.com>

Revision: 12631
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12631&view=rev
Author:   vszakats
Date:     2009-10-01 09:58:44 +0000 (Thu, 01 Oct 2009)

Log Message:
-----------
2009-10-01 11:53 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
  * utils/hbmk2/hbmk2.prg
    + Added autodetection for win/msvcia64 compiler.

  * INSTALL
    + Tweaks to links.

  * ChangeLog
    ! Fixed wrong entry header in my prev commit.

  * INSTALL
  * utils/hbmk2/hbmk2.prg
  * config/os2/gcc.mk
    ! Reverted "rogue" patch. I'd like to kindly ask David, 
      to commit when doubts are cleared, otherwise I will 
      have to revoke R/W rights to avoid extra cleanup work.
      This solution is wrong, for specific concerns see dev list.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Thu Oct  1 06:04:05 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Oct  1 06:04:33 2009
Subject: [Harbour] Re: Harbour under OS/2 - 12624
Message-ID: <4AC47E95.5040606@mail.udg.mx>

Viktor:

 >No new value? Perhaps you missed the few thousand commits
 >which went into make systems and hbmk2. (much of it went to
 >OS/2 port, which essentially 3 ppl uses from the whole
 >userbase, perhaps you should say 'thanks' instead of telling
 >insults.)

 >Case closed from my side.

You misread again
Just to clarify it, along time on some of your responses you tend to 
suggest that I am against your work and that is not true. How easily 
jumped in when seeing a different POV

Only avoid these suggestions, somebody may believe it is true and I do 
not have that style. For me every Harbour developer/contributor/user are 
valuable

David Macias

From harbour.01 at syenar.hu  Thu Oct  1 06:29:55 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct  1 06:30:05 2009
Subject: [Harbour] Re: Harbour under OS/2 - 12624
In-Reply-To: <4AC47E95.5040606@mail.udg.mx>
References: <4AC47E95.5040606@mail.udg.mx>
Message-ID: <8A6ED2DE-86AA-4CC6-BF76-52D48321E0D8@syenar.hu>

> >Case closed from my side.
>
> You misread again
> Just to clarify it, along time on some of your responses you tend to  
> suggest that I am against your work and that is not true. How easily  
> jumped in when seeing a different POV
>
> Only avoid these suggestions, somebody may believe it is true and I  
> do not have that style. For me every Harbour developer/contributor/ 
> user are valuable

I guess you'll have to write more precisely.
You wrote "no new value in Harbour build scheme".

If you meant "no new control setting", or "no new environment
value" (as Alex suggested), you're absolutely right. Since
I'm working to REDUCE number of control knobs, I don't want
to add new ones for no good reason. I'm sorry if you
can't grasp the benefits of this direction. See below a
little explanation:

Every such knob needs to be documented, maintained, kept
working. Besides each of these knobs will have to be
understood by users, and we as developers will have to
support them in this. Each of these knobs will have different
branches inside the make system also to _test_. Each of these
extra knobs adds to the complexity of the design, which
means each of these "simple" and "easy" solutions will turn
out to cause much more trouble on the long run, than you're
saving on the design side. That is why creating a simple
design is in fact much complicated than a messy one. [ Plus
one: This specific extra know will have to be carefully
synced by user to the gcc environment he uses. This is not
obvious from the knob's name "HB_OS2_OMF", which suggest
this is a general option to choose object format, but this
is just one little issue with such design. ]

So, I don't like them. We still have such knob for MSVC
which sets some internal details depending on MSVC version.
I don't like it either, and I certainly wouldn't like to
duplicate such bad solution.

Please comment on the concerns and maybe we can find a
good solution, like gcc4, which you can't tell why you
don't like, or autodetection of non-OMF vs. OMF environment.
Although this again goes best with gcc4 solution to keep
internal logic clean. Notice there are solutions to avoid
.mk logic duplication even in this case (just change
HB_OS2_OMF=yes checks to HB_COMPILER=gcc4 checks). Granted,
it needs a little more work to complete, since gcc4 needs
to be introduced to a few places.

[ As for the wlink hack (two extra knobs), it's so marginal
that IMO we should just drop it. And every word spent on
discussing it just time wasted. If you want to experiment
with it locally, just create a new compiler .mk file ]

Plus we stil have the cmdline problem, which isn't solved
yet properly, so that gcc4 becomes ready for SVN. Maybe
it's not the "easy" way, but in Harbour we value the
_proper_ way, instead of the "easy" one.

Brgds,
Viktor

From mhsabado at gmail.com  Thu Oct  1 06:48:31 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Thu Oct  1 06:48:49 2009
Subject: [Harbour] Re: Compile Error Using BCC 6.20
In-Reply-To: <4ac47a18.0108c00a.3157.0478SMTPIN_ADDED@mx.google.com>
References: <4ac47a18.0108c00a.3157.0478SMTPIN_ADDED@mx.google.com>
Message-ID: <4AC488FF.5020606@gmail.com>

Hi Viktor,
> ------------------------------
>
> Message: 4
> Date: Thu, 1 Oct 2009 08:41:43 +0200
> From: Viktor Szak?ts <harbour.01@syenar.hu>
> Subject: Re: [Harbour] Compile Error Using BCC 6.20
> To: "Harbour Project Main Developer List."
> 	<harbour@harbour-project.org>
> Message-ID: <A840EE34-0FF8-4EFC-AA02-901757D07EC1@syenar.hu>
> Content-Type: text/plain; charset=us-ascii; format=flowed; delsp=yes
>
> Hi Mario,
>
> I don't have this compiler. You'll have to find out
> which bcc system lib holds this symbol.
>
> grep WSAIoctl *.lib
>
> Brgds,
> Viktor
I have the following results:

Binary file import32.lib matches
Binary file intraweb_100_140.lib matches
Binary file ws2_32.lib matches

How can I include these libs to build Harbour?

Thanks,
Mario


From harbour.01 at syenar.hu  Thu Oct  1 07:13:36 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct  1 07:13:45 2009
Subject: [Harbour] Re: Compile Error Using BCC 6.20
In-Reply-To: <4AC488FF.5020606@gmail.com>
References: <4ac47a18.0108c00a.3157.0478SMTPIN_ADDED@mx.google.com>
	<4AC488FF.5020606@gmail.com>
Message-ID: <8ED22964-3686-4EB7-AB86-179FF42F3312@syenar.hu>

Hi Mario,

>> I don't have this compiler. You'll have to find out
>> which bcc system lib holds this symbol.
>>
>> grep WSAIoctl *.lib
>>
>> Brgds,
>> Viktor
> I have the following results:
>
> Binary file import32.lib matches
> Binary file intraweb_100_140.lib matches
> Binary file ws2_32.lib matches
>
> How can I include these libs to build Harbour?

Thanks. ws2_32 is already on the liblist, so the problem
may lie elsewhere

>
> Thanks,
> Mario
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Oct  1 07:14:46 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct  1 07:14:55 2009
Subject: [Harbour] Re: Compile Error Using BCC 6.20
In-Reply-To: <8ED22964-3686-4EB7-AB86-179FF42F3312@syenar.hu>
References: <4ac47a18.0108c00a.3157.0478SMTPIN_ADDED@mx.google.com>
	<4AC488FF.5020606@gmail.com>
	<8ED22964-3686-4EB7-AB86-179FF42F3312@syenar.hu>
Message-ID: <24C252BF-3552-4073-A5A7-0177B93EA16D@syenar.hu>

> Hi Mario,
>
>>> I don't have this compiler. You'll have to find out
>>> which bcc system lib holds this symbol.
>>>
>>> grep WSAIoctl *.lib
>>>
>>> Brgds,
>>> Viktor
>> I have the following results:
>>
>> Binary file import32.lib matches
>> Binary file intraweb_100_140.lib matches
>> Binary file ws2_32.lib matches
>>
>> How can I include these libs to build Harbour?
>
> Thanks. ws2_32 is already on the liblist, so the problem
> may lie elsewhere

Pressed send by mistake, well, check your BCC setup,
I'd guess it's wrong.

Brgds,
Viktor

From druzus at users.sourceforge.net  Thu Oct  1 07:22:18 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Oct  1 07:22:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12632] trunk/harbour
Message-ID: <E1MtJjm-0004ui-BL@bj8yhf1.ch3.sourceforge.com>

Revision: 12632
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12632&view=rev
Author:   druzus
Date:     2009-10-01 11:22:17 +0000 (Thu, 01 Oct 2009)

Log Message:
-----------
2009-10-01 13:22 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbrdddbf.h
  * harbour/source/rdd/dbf1.c
    ! resolve pending relations before clearing WA filter

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbrdddbf.h
    trunk/harbour/source/rdd/dbf1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Thu Oct  1 07:48:11 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Oct  1 07:48:38 2009
Subject: [Harbour] Google wave invitation
Message-ID: <609353e70910010448g2bdea9a6qbcd9bfafb4200504@mail.gmail.com>

I search a google wave invitation for massimo.belgrano at    gmail.comThanks

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091001/9b8c1ec3/attachment.html
From druzus at users.sourceforge.net  Thu Oct  1 08:12:15 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Oct  1 08:12:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12633] trunk/harbour
Message-ID: <E1MtKW7-0006Rc-GR@74yxhf1.ch3.sourceforge.com>

Revision: 12633
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12633&view=rev
Author:   druzus
Date:     2009-10-01 12:12:14 +0000 (Thu, 01 Oct 2009)

Log Message:
-----------
2009-10-01 14:12 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rdd/dbfcdx/dbfcdx1.c
  * harbour/source/rdd/dbf1.c
  * harbour/contrib/rddads/ads1.c
    ! resolve pending relations before clearing or setting WA filter
      directly or indirectly by SUPER method call

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/source/rdd/dbf1.c
    trunk/harbour/source/rdd/dbfcdx/dbfcdx1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Thu Oct  1 10:07:44 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Oct  1 10:08:15 2009
Subject: [Harbour] Re: Harbour under OS/2 - 12624
Message-ID: <4AC4B7B0.8020502@mail.udg.mx>

Viktor:

You reverted my first commit in Harbour SVN age  :-)
I hope this was an temporary action because content of code changes are 
self-explained

I was based in doc\howtosvn.txt and this does not work in my case
  6) svn commit --editor-cmd notepad.exe --username sfuser
  ( svn report missing log after using EPM OS/2 editor )
so I used Ryszard alternative
     svn commit -F file_with_saved_ChangeLog_changes --username sfuser


Now back to your response, included entirely below to avoid quoting parts

As you know I am in Harbour since February 1999 and seen the "Harbour 
History" near allmost
So I know that one of your better personality characteristics is the 
cooperative work and help to reach goals even if them are not yours
The hard part sometimes is that you reject until you understand it 
entirely. Not allways is possible

So this is the spirit of your phrase:
"Please comment on the concerns and maybe we can find a
good solution,"
I as allways appreciate it and want to reach goals as you have seen

but this part tell me you are still confused  :-) :
  "like gcc4"

As this subject of OMF felt into a long chain of David/Viktor/Maurilio 
unuseful messages, I moved from words to productive actions, as commit 
to SVN

I am not an expert in OS/2 and/or os2gcc, but I am not a fool
Every message I posted is based in carefully checked/tested info

I started to test OMF/gcc335/gcc4xx since Oct 2008, and reported to 
Harbour group in August 16 2009 "Harbour under OS/2 - eCS gcc", first as 
long messages containing a lot of info, then summaries, then diff output 
and last as SVN commit

But I do not want to get tired to anyone with this long list of messages 
and explanations  :-)

Based in all these works, I do not have doubts about we need to do and I 
posted in summary. It imply os2gcc internals related to these works

I understand clearly that you do not know os2gcc internals, and of 
course you do not need to know every detail
I understand clearly that Maurilio do not know ALL os2gcc internals, but 
can catch quickly what they mean. For sure is our OS/2 expert  :-)

So when at first time a presented my work I was prepared to take care of 
each of the questions/doubts that may arise by your part and/or 
Maurilio, so them have answer in each message directly or indirectly 
included in info presented

I supposed any doubts were solved  :-)
but as ghosts some of them return many times and they avoid to add 
benefits to Harbour capabilities

Since first message I added a lot of relationed info, enough to clarify 
any doubts. One of them was reference and part of
    svn.netlabs.org/libc/wiki/kOptions
(entire page is included below)

which start explaining:
"GCC on OS/2 supports several extra options. Most start with -Z. With 
the exception of -Zomf (others?) they are affecting the linking."

so I explained many times with different words: "we need to tell Harbour 
about an specific os2gcc feature"

and repeated: "we do not need gcc3/gcc4 separation"

My additional function is to save you or any other to work in solutions 
which lead to unnecessary work, based in your (theirs) remaining doubts

As I said: "subject is os2gcc library format types, not gcc3 vs gcc4"

Perhaps changing style from long messages to short explanations (like 
FAQ) we can go faster:

- Why OMF ? Because is native to OS/2. os2-OWatcom default to OMF too
- And why we were using a.out ? Because it was only alternative when 
OS/2 support was added to Harbour
- Why a.out is default in os2gcc: Because was only way available when 
gcc was ported to OS/2. OMF support was added later with proper 
implementation and unavoidable switch
- We need to drop a.out ? No, we can use either a.out or OMF
- What need Harbour to use OMF ? Just to inform him in some way "hey, 
Harbour, build you in OMF type in OS/2"
- Needs for gcc ? Inform him to use OMF type (-Zomf) and optionally set 
some os2gcc values
- Needs for Harbour ? Inform him to inform gcc to use OMF type and set 
some values for Harbour
- Which values for gcc ? -Zomf and optionally EMXOMFLD_TYPE, EMXOMFLD_LINKER
- Which values for Harbour ? Specification to use OMF (somebody proposed 
HB_OS2_OMF) and corresponding values as .obj, .lib, emxomfar, ...
- What are EMXOMFLD_TYPE, EMXOMFLD_LINKER ? Optional values which inform 
os2gcc what to use to link. Defaults are VAC365 and ilink.exe
- And what are emxomfar.exe, emxomfld.exe ?
   os2gcc use for:
   + a.out type: gcc, ar and ld
   + OMF: gcc, emxomfar and emxomfld. Emxomfld use as final linker 
values specified by EMXOMFLD_TYPE, EMXOMFLD_LINKER, or defaults if are 
not set
- We are forced to use wlink ? No, is optional. User can apply other 
prefered final linker
- Which final linker is suggested ? Harbour with OMF support has been 
tested with LINK386.exe and WL.exe. First have many limitations 
explained in messages and WL.exe gave best results. WL.exe is an 
modified OpenWatcom WLINK.exe to add support of debuggers in HLL format
- Which are benefits for Harbour adding OMF ? Enhance Harbour-OS/2 
adding possibilities to use native format and newer gcc compilers.
Is specific to OS/2. Harbour can use an ported type (a.out) and a native 
type (OMF)
- May I use gcc335 ? Yes, gcc335 support both a.out and OMF types
- Can I use gcc4xx ? Yes, gcc4xx support OMF type
- Why gcc4xx does not support a.out ? Because a problem with an old tool 
(emxbind) used to manage a.out type in OS/2
- gcc335 will be droped in Harbour ? No, it can continue working as ever
- And what happen if Harbour does not add support of OS/2 OMF ? Harbour 
will remain attached to older os2gcc and non-native a.out library format
- Is hard to add support of OS/2 OMF to Harbour ? Is very easy
- Adding OMF support will affect to Harbour ? No, in any sense
- Adding OMF support will affect to Harbour users ? No, in any sense
As on other platforms/compilers proper settings are responsability of 
end-users
- ...

and this type of FAQ can be growing and at last may recall so same 
confutions  :-)
Note: In exercise of FAQ nothing was new info, all belong to old messages

Another potential problem you sketched: collision of version files
- .o vs .obj: does not happen
- .a vs .lib: does not happen
- .dll vs .dll: it happen. Is a problem ? have same content ?
- implib: a.out create harbour?.a and OMF create harbour?.lib
- ...


As explained many times, in my local directories Harbour have support of 
OMF library type and near everything is working fine, as a result of all 
works made to include that support
As a good surprise I repeated: changes are minimal and implementation 
are very easy

Yes, I found and explained why harbourm.dll is failing in OMF type, but 
is a minimal case which must not to stop rest of work
Of course, as in past cases, I am trying to find solution

And for "HB_OS2_OMF": since beginning I requested for a way to "tell 
Harbour to tell os2gcc to use OMF type" and I suggested an environmental 
variable
So for me:
  HB_ : belong to Harbour
   OS2_ : is specific os2gcc value
    OMF : tell to os2gcc to use OMF type in Harbour

We can talk of this value as "switch", variable, "control setting", 
"knob" or else. Is used to specify something to Harbour which will 
specify to os2gcc

If the choice is "environmental variable", it can be named as 
HB_OS2_OMF, HB_MYNEWIDEA, HB_ANYTHING, ... We what just the function/purpose

About your proposal "HB_COMPILER=gcc4": is not matter of os2gcc release, 
is matter of library type so is improper to create two gcc versions

This kind of confutions/doubts is what I am trying to avoid

Is not hard to mantain HB_OS2_OMF or something as it
Until now we only need in two areas:
- To build Harbour: gcc.mk
- To build programs made with Harbour: hbmk2.prg
We can keep it limited

And believe me, solution I posted in SVN is, changing word "easy", a 
__proper__ solution
Why ?
- gcc335 can be used as ever, as a.out remain as default
- gcc335 can be used in OMF
- Harbour immediatly jump to gcc4xx support without additional changes 
and without compiler releases separation
- and clearly, is os2gcc specific

It does not hurt anyone, and specially Harbour development
Of course, a little of info in INSTALL may help

As allways I will keep open to alternatives,
I just landed some in SVN so any potential Harbour-OS/2 user can 
test/apply them immediatly, and not just me locally
For sure if are not proper they can be changed easily as you know

And for sure any idea you present in code form I can test immediatly in 
real OS/2 environment. We can left out words and go to actions

I am certain of two things:
- Any alternative you present will be longer than mine because I 
presented only which os2gcc need to know, and Harbour need to manage
- You will see that is not too much what we need
As I said, that was my surprise: is very easy to add this feature

David Macias



svn.netlabs.org/libc/wiki/kOptions

GCC on OS/2 supports several extra options. Most start with -Z. With the 
exception of -Zomf (others?) they are affecting the linking.

     * -Zcrtdll: link the C library dynamically
     * -Zdll: create a dynamic link library
     * -Zexe: create foo which is executable which calls foo.exe which 
is also created.
     * -Zhigh-mem: link so that the C library calls in the program make 
use of "high memory". This is similiar to specifying OBJ_ANY to OS/2 API 
memory calls. If you use this option you should include os2safe.h as the 
first include file in every C file that uses OS/2 APIs.
     * -Zlinker: pass option through to linker (like -Zlinker /EXEPACK:2 
-Zlinker /PACKCODE)
     * -Zmap: tell linker or emxbind to create a .map file that contains 
the addresses of all symbols
     * -Zno-autoconv: switch off automatic conversion between a.out and 
OMF format when linking.
     * -Zautoconv: switch on automatic conversion between a.out and OMF 
format when linking.
     * -Zomf: compile and link using OMF format instead of a.out.
     * -Zargs-wild: call _wildcard() (see below) automatically on startup
     * -Zargs-resp: call _reponse() (see below) automatically on startup
     * -Zdll-search: Enables dlls as valid libraries. (default disabled)
     * -Zsym: Invoke mapsym.cmd on the mapfile to produce a .sym file. 
Requires -Zmap

These may not be OS/2 specific

     * -Bstatic, -non_shared, -dn, -static: Link with static libraries.
     * -Bshared, -call_shared, -dy: Link with shared libraries. (default)

These are mentioned in ReleaseNotes?.os2 but not sure what they do exactly:

     * -Zhigh-low: ??
     * -Zno-fork: turn off the fork() function?
     * -Zno-unix: non-unix like mode, affects slash handling and fork()?

These were supported options with EMX/gcc 2.8.x, not sure if they are 
still supported now:

     * -Zbin-files: open files in binary mode by default (still supported)
     * -Zbsd-signals: select the `BSD' signal processing model
     * -Zmt: multithread code (now default)
     * -Zmtd: multithread code, link C library dynamically
     * -Zmts: multithread code, link C library statically
     * -Zno-rte: create DLL without runtime environment
     * -Zsmall-conv: use small, fast, and inaccurate routines for 
converting decimal numbers to binary and vice versa
     * -Zstack: set the stack size
     * -Zso: create stand-alone DLL
     * -Zsys: create stand-alone OS/2 program (no emx.dll) - there's 
nothing similar for current libc, if you use new gcc with new libc, you 
always need the libcxxx.dll
     * -Zsysv-signals: select the `System V' signal processing model

There are also various environmental variables that affect the linker 
type. (from the output of emxomfld 0.6.3)

Environment variables:

     EMXOMFLD_TYPE:

         The type of linker we're using. Values: WLINK, VAC365, VAC308, 
LINK386.

             WLINK wlink.exe from Open Watcom v1.5 or later. VAC365 
ilink.exe from IBM C and C++ Compilers for OS/2 v3.6 or later. VAC308 
ilink.exe from Visual Age for C++ v3.08. LINK386 link386 form OS/2 
install or DDK.

     EMXOMFLD_LINKER:

         Name of the linker to use and optionally extra parameters. 
Spaces in the linker name or path is not supported. Quotes are not 
supported either.

The default values for these two variables are VAC365 and ilink.exe.

     EMXOMFLD_RC_TYPE:

         The type of resource compiler we're using. Values: RC,WRC.

             RC rc.exe as shipped with OS/2 or found in the Toolkit WRC 
wrc.exe from Open Watcom v1.6 or later.

     EMXOMFLD_RC:

         Name of the resource compiler to use and optionally extra 
parameters. Spaces or quotes in the name or path are not supported.

The default values for these two variables are RC and rc.exe. Finally, 
there are a couple of special functions which simplify porting of Unix 
programs:

     * _wildcard (int *argc, char ***argv): Same as in EMX, i.e. it 
expands it's arguments like a unix shell would do (but OS/2 cmd.exe 
doesn't), so you typically want to use this when porting a unix command 
line application. Instead of adding this to a program, compilation with 
-Zargs-wild can be used.
     * _response (int *argc, char ***argv): Same as in EMX. Expand 
response files (@FILENAME). The FILENAME contains a list of arguments, 
one per line. Arguments enclosed in double quotes will not be expanded. 
If a response file can not be opened, the argument is kept the same. 
-Zargs-resp will automatically compile this in.





I guess you'll have to write more precisely.
You wrote "no new value in Harbour build scheme".

If you meant "no new control setting", or "no new environment
value" (as Alex suggested), you're absolutely right. Since
I'm working to REDUCE number of control knobs, I don't want
to add new ones for no good reason. I'm sorry if you
can't grasp the benefits of this direction. See below a
little explanation:

Every such knob needs to be documented, maintained, kept
working. Besides each of these knobs will have to be
understood by users, and we as developers will have to
support them in this. Each of these knobs will have different
branches inside the make system also to _test_. Each of these
extra knobs adds to the complexity of the design, which
means each of these "simple" and "easy" solutions will turn
out to cause much more trouble on the long run, than you're
saving on the design side. That is why creating a simple
design is in fact much complicated than a messy one. [ Plus
one: This specific extra know will have to be carefully
synced by user to the gcc environment he uses. This is not
obvious from the knob's name "HB_OS2_OMF", which suggest
this is a general option to choose object format, but this
is just one little issue with such design. ]

So, I don't like them. We still have such knob for MSVC
which sets some internal details depending on MSVC version.
I don't like it either, and I certainly wouldn't like to
duplicate such bad solution.

Please comment on the concerns and maybe we can find a
good solution, like gcc4, which you can't tell why you
don't like, or autodetection of non-OMF vs. OMF environment.
Although this again goes best with gcc4 solution to keep
internal logic clean. Notice there are solutions to avoid
.mk logic duplication even in this case (just change
HB_OS2_OMF=yes checks to HB_COMPILER=gcc4 checks). Granted,
it needs a little more work to complete, since gcc4 needs
to be introduced to a few places.

[ As for the wlink hack (two extra knobs), it's so marginal
that IMO we should just drop it. And every word spent on
discussing it just time wasted. If you want to experiment
with it locally, just create a new compiler .mk file ]

Plus we stil have the cmdline problem, which isn't solved
yet properly, so that gcc4 becomes ready for SVN. Maybe
it's not the "easy" way, but in Harbour we value the
_proper_ way, instead of the "easy" one.



From harbour.01 at syenar.hu  Thu Oct  1 11:05:09 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct  1 11:05:19 2009
Subject: [Harbour] Re: Harbour under OS/2 - 12624
In-Reply-To: <4AC4B7B0.8020502@mail.udg.mx>
References: <4AC4B7B0.8020502@mail.udg.mx>
Message-ID: <D04AA839-3DBB-437F-9391-ADE63C945F9D@syenar.hu>

Sorry, but I've been asking some specific questions and now you
begin with a long tirade starting from 1999.

Let's cut it short:

Please correct me, if I'm wrong:
- There is 3.3.4 and lower, supporting COFF (or whatever else, let's  
call it non-OMF)
- There is 3.3.5, which supports both OMF and non-OMF.
- There is 4.0.0 and upper, which support both, but non-OMF is broken,  
so it doesn't work,
   so it only supports OMF.
- Should we REALLY concentrate on 3.3.5 ? Is it some sort of widely  
used version,
   we should design Harbour around? If so, change my proposition to  
gccomf.mk from gcc4.mk,
   and this problem is also solved.
- All these options are free and gratis.
- How to autodetect 3.3.4 or lower vs. 4.0.0 or upper by checking a  
presence of a file in PATH?
- GCC 4.x port is in beta status AFAIK, so linker problems which you try
   to workaround using WLINK are not proper/final solutions we should  
implement
   in Harbour. Instead, you should report these problems to port  
maintainers
   for fix. (if it's really a showstopper).

Some notes:

- You seem to be stuck at giving too many options (alternatives) for
   a too small user community (customizable linker because of WLINK,  
gcc 3.3.5,
   when gcc 4.x and gcc 3.3.4 are also free options with similar  
features).
   Please weight these, because it's not you who will support
   them on the long run, but volunteers like me in their free time.
   To me it looks we need to add proper support for GCC 4.x with
   supplied linker and we had done a 100% coverage of the problem,
   maybe except your case.

   [ I remember how aggressively you've been fighting for  
make_gcc_os2.cmd,
   and bld_os2.cmd back then. After someone added it, you _never ever_  
updated
   those files, telling you're only a tester. After that I had to  
update them
   several dozens of times. ]

- "easy" addition of any feature is not a virtue in Harbour. It's not  
even
   and argument.
   IOW, it doesn't serve Harbour or its users the best if an  
implementation
   of a feature is "easy" for the developer. It only serves the  
committer
   because he could save some time for himself. This is great and all  
that,
   but not a value for the community.

- You still didn't fix gcc4 (or gccomf) to handle
   long cmdlines. Telling that it's "too complicated" to one of
   my suggestions. If you're only interested in "easy" solutions and  
nothing
   which is "complicated" (but is right), then it will be very  
difficult to
   come to a Harbour-quality resolution for this matter.

Brgds,
Viktor

On 2009 Oct 1, at 16:07, David Arturo Macias Corona wrote:

> Viktor:
>
> You reverted my first commit in Harbour SVN age  :-)
> I hope this was an temporary action because content of code changes  
> are self-explained
>
> I was based in doc\howtosvn.txt and this does not work in my case
> 6) svn commit --editor-cmd notepad.exe --username sfuser
> ( svn report missing log after using EPM OS/2 editor )
> so I used Ryszard alternative
>    svn commit -F file_with_saved_ChangeLog_changes --username sfuser
>
>
> Now back to your response, included entirely below to avoid quoting  
> parts
>
> As you know I am in Harbour since February 1999 and seen the  
> "Harbour History" near allmost
> So I know that one of your better personality characteristics is the  
> cooperative work and help to reach goals even if them are not yours
> The hard part sometimes is that you reject until you understand it  
> entirely. Not allways is possible
>
> So this is the spirit of your phrase:
> "Please comment on the concerns and maybe we can find a
> good solution,"
> I as allways appreciate it and want to reach goals as you have seen
>
> but this part tell me you are still confused  :-) :
> "like gcc4"
>
> As this subject of OMF felt into a long chain of David/Viktor/ 
> Maurilio unuseful messages, I moved from words to productive  
> actions, as commit to SVN
>
> I am not an expert in OS/2 and/or os2gcc, but I am not a fool
> Every message I posted is based in carefully checked/tested info
>
> I started to test OMF/gcc335/gcc4xx since Oct 2008, and reported to  
> Harbour group in August 16 2009 "Harbour under OS/2 - eCS gcc",  
> first as long messages containing a lot of info, then summaries,  
> then diff output and last as SVN commit
>
> But I do not want to get tired to anyone with this long list of  
> messages and explanations  :-)
>
> Based in all these works, I do not have doubts about we need to do  
> and I posted in summary. It imply os2gcc internals related to these  
> works
>
> I understand clearly that you do not know os2gcc internals, and of  
> course you do not need to know every detail
> I understand clearly that Maurilio do not know ALL os2gcc internals,  
> but can catch quickly what they mean. For sure is our OS/2 expert  :-)
>
> So when at first time a presented my work I was prepared to take  
> care of each of the questions/doubts that may arise by your part and/ 
> or Maurilio, so them have answer in each message directly or  
> indirectly included in info presented
>
> I supposed any doubts were solved  :-)
> but as ghosts some of them return many times and they avoid to add  
> benefits to Harbour capabilities
>
> Since first message I added a lot of relationed info, enough to  
> clarify any doubts. One of them was reference and part of
>   svn.netlabs.org/libc/wiki/kOptions
> (entire page is included below)
>
> which start explaining:
> "GCC on OS/2 supports several extra options. Most start with -Z.  
> With the exception of -Zomf (others?) they are affecting the linking."
>
> so I explained many times with different words: "we need to tell  
> Harbour about an specific os2gcc feature"
>
> and repeated: "we do not need gcc3/gcc4 separation"
>
> My additional function is to save you or any other to work in  
> solutions which lead to unnecessary work, based in your (theirs)  
> remaining doubts
>
> As I said: "subject is os2gcc library format types, not gcc3 vs gcc4"
>
> Perhaps changing style from long messages to short explanations  
> (like FAQ) we can go faster:
>
> - Why OMF ? Because is native to OS/2. os2-OWatcom default to OMF too
> - And why we were using a.out ? Because it was only alternative when  
> OS/2 support was added to Harbour
> - Why a.out is default in os2gcc: Because was only way available  
> when gcc was ported to OS/2. OMF support was added later with proper  
> implementation and unavoidable switch
> - We need to drop a.out ? No, we can use either a.out or OMF
> - What need Harbour to use OMF ? Just to inform him in some way  
> "hey, Harbour, build you in OMF type in OS/2"
> - Needs for gcc ? Inform him to use OMF type (-Zomf) and optionally  
> set some os2gcc values
> - Needs for Harbour ? Inform him to inform gcc to use OMF type and  
> set some values for Harbour
> - Which values for gcc ? -Zomf and optionally EMXOMFLD_TYPE,  
> EMXOMFLD_LINKER
> - Which values for Harbour ? Specification to use OMF (somebody  
> proposed HB_OS2_OMF) and corresponding values as .obj, .lib,  
> emxomfar, ...
> - What are EMXOMFLD_TYPE, EMXOMFLD_LINKER ? Optional values which  
> inform os2gcc what to use to link. Defaults are VAC365 and ilink.exe
> - And what are emxomfar.exe, emxomfld.exe ?
>  os2gcc use for:
>  + a.out type: gcc, ar and ld
>  + OMF: gcc, emxomfar and emxomfld. Emxomfld use as final linker  
> values specified by EMXOMFLD_TYPE, EMXOMFLD_LINKER, or defaults if  
> are not set
> - We are forced to use wlink ? No, is optional. User can apply other  
> prefered final linker
> - Which final linker is suggested ? Harbour with OMF support has  
> been tested with LINK386.exe and WL.exe. First have many limitations  
> explained in messages and WL.exe gave best results. WL.exe is an  
> modified OpenWatcom WLINK.exe to add support of debuggers in HLL  
> format
> - Which are benefits for Harbour adding OMF ? Enhance Harbour-OS/2  
> adding possibilities to use native format and newer gcc compilers.
> Is specific to OS/2. Harbour can use an ported type (a.out) and a  
> native type (OMF)
> - May I use gcc335 ? Yes, gcc335 support both a.out and OMF types
> - Can I use gcc4xx ? Yes, gcc4xx support OMF type
> - Why gcc4xx does not support a.out ? Because a problem with an old  
> tool (emxbind) used to manage a.out type in OS/2
> - gcc335 will be droped in Harbour ? No, it can continue working as  
> ever
> - And what happen if Harbour does not add support of OS/2 OMF ?  
> Harbour will remain attached to older os2gcc and non-native a.out  
> library format
> - Is hard to add support of OS/2 OMF to Harbour ? Is very easy
> - Adding OMF support will affect to Harbour ? No, in any sense
> - Adding OMF support will affect to Harbour users ? No, in any sense
> As on other platforms/compilers proper settings are responsability  
> of end-users
> - ...
>
> and this type of FAQ can be growing and at last may recall so same  
> confutions  :-)
> Note: In exercise of FAQ nothing was new info, all belong to old  
> messages
>
> Another potential problem you sketched: collision of version files
> - .o vs .obj: does not happen
> - .a vs .lib: does not happen
> - .dll vs .dll: it happen. Is a problem ? have same content ?
> - implib: a.out create harbour?.a and OMF create harbour?.lib
> - ...
>
>
> As explained many times, in my local directories Harbour have  
> support of OMF library type and near everything is working fine, as  
> a result of all works made to include that support
> As a good surprise I repeated: changes are minimal and  
> implementation are very easy
>
> Yes, I found and explained why harbourm.dll is failing in OMF type,  
> but is a minimal case which must not to stop rest of work
> Of course, as in past cases, I am trying to find solution
>
> And for "HB_OS2_OMF": since beginning I requested for a way to "tell  
> Harbour to tell os2gcc to use OMF type" and I suggested an  
> environmental variable
> So for me:
> HB_ : belong to Harbour
>  OS2_ : is specific os2gcc value
>   OMF : tell to os2gcc to use OMF type in Harbour
>
> We can talk of this value as "switch", variable, "control setting",  
> "knob" or else. Is used to specify something to Harbour which will  
> specify to os2gcc
>
> If the choice is "environmental variable", it can be named as  
> HB_OS2_OMF, HB_MYNEWIDEA, HB_ANYTHING, ... We what just the function/ 
> purpose
>
> About your proposal "HB_COMPILER=gcc4": is not matter of os2gcc  
> release, is matter of library type so is improper to create two gcc  
> versions
>
> This kind of confutions/doubts is what I am trying to avoid
>
> Is not hard to mantain HB_OS2_OMF or something as it
> Until now we only need in two areas:
> - To build Harbour: gcc.mk
> - To build programs made with Harbour: hbmk2.prg
> We can keep it limited
>
> And believe me, solution I posted in SVN is, changing word "easy", a  
> __proper__ solution
> Why ?
> - gcc335 can be used as ever, as a.out remain as default
> - gcc335 can be used in OMF
> - Harbour immediatly jump to gcc4xx support without additional  
> changes and without compiler releases separation
> - and clearly, is os2gcc specific
>
> It does not hurt anyone, and specially Harbour development
> Of course, a little of info in INSTALL may help
>
> As allways I will keep open to alternatives,
> I just landed some in SVN so any potential Harbour-OS/2 user can  
> test/apply them immediatly, and not just me locally
> For sure if are not proper they can be changed easily as you know
>
> And for sure any idea you present in code form I can test immediatly  
> in real OS/2 environment. We can left out words and go to actions
>
> I am certain of two things:
> - Any alternative you present will be longer than mine because I  
> presented only which os2gcc need to know, and Harbour need to manage
> - You will see that is not too much what we need
> As I said, that was my surprise: is very easy to add this feature
>
> David Macias
>
>
>
> svn.netlabs.org/libc/wiki/kOptions
>
> GCC on OS/2 supports several extra options. Most start with -Z. With  
> the exception of -Zomf (others?) they are affecting the linking.
>
>    * -Zcrtdll: link the C library dynamically
>    * -Zdll: create a dynamic link library
>    * -Zexe: create foo which is executable which calls foo.exe which  
> is also created.
>    * -Zhigh-mem: link so that the C library calls in the program  
> make use of "high memory". This is similiar to specifying OBJ_ANY to  
> OS/2 API memory calls. If you use this option you should include  
> os2safe.h as the first include file in every C file that uses OS/2  
> APIs.
>    * -Zlinker: pass option through to linker (like -Zlinker /EXEPACK: 
> 2 -Zlinker /PACKCODE)
>    * -Zmap: tell linker or emxbind to create a .map file that  
> contains the addresses of all symbols
>    * -Zno-autoconv: switch off automatic conversion between a.out  
> and OMF format when linking.
>    * -Zautoconv: switch on automatic conversion between a.out and  
> OMF format when linking.
>    * -Zomf: compile and link using OMF format instead of a.out.
>    * -Zargs-wild: call _wildcard() (see below) automatically on  
> startup
>    * -Zargs-resp: call _reponse() (see below) automatically on startup
>    * -Zdll-search: Enables dlls as valid libraries. (default disabled)
>    * -Zsym: Invoke mapsym.cmd on the mapfile to produce a .sym file.  
> Requires -Zmap
>
> These may not be OS/2 specific
>
>    * -Bstatic, -non_shared, -dn, -static: Link with static libraries.
>    * -Bshared, -call_shared, -dy: Link with shared libraries.  
> (default)
>
> These are mentioned in ReleaseNotes?.os2 but not sure what they do  
> exactly:
>
>    * -Zhigh-low: ??
>    * -Zno-fork: turn off the fork() function?
>    * -Zno-unix: non-unix like mode, affects slash handling and fork()?
>
> These were supported options with EMX/gcc 2.8.x, not sure if they  
> are still supported now:
>
>    * -Zbin-files: open files in binary mode by default (still  
> supported)
>    * -Zbsd-signals: select the `BSD' signal processing model
>    * -Zmt: multithread code (now default)
>    * -Zmtd: multithread code, link C library dynamically
>    * -Zmts: multithread code, link C library statically
>    * -Zno-rte: create DLL without runtime environment
>    * -Zsmall-conv: use small, fast, and inaccurate routines for  
> converting decimal numbers to binary and vice versa
>    * -Zstack: set the stack size
>    * -Zso: create stand-alone DLL
>    * -Zsys: create stand-alone OS/2 program (no emx.dll) - there's  
> nothing similar for current libc, if you use new gcc with new libc,  
> you always need the libcxxx.dll
>    * -Zsysv-signals: select the `System V' signal processing model
>
> There are also various environmental variables that affect the  
> linker type. (from the output of emxomfld 0.6.3)
>
> Environment variables:
>
>    EMXOMFLD_TYPE:
>
>        The type of linker we're using. Values: WLINK, VAC365,  
> VAC308, LINK386.
>
>            WLINK wlink.exe from Open Watcom v1.5 or later. VAC365  
> ilink.exe from IBM C and C++ Compilers for OS/2 v3.6 or later.  
> VAC308 ilink.exe from Visual Age for C++ v3.08. LINK386 link386 form  
> OS/2 install or DDK.
>
>    EMXOMFLD_LINKER:
>
>        Name of the linker to use and optionally extra parameters.  
> Spaces in the linker name or path is not supported. Quotes are not  
> supported either.
>
> The default values for these two variables are VAC365 and ilink.exe.
>
>    EMXOMFLD_RC_TYPE:
>
>        The type of resource compiler we're using. Values: RC,WRC.
>
>            RC rc.exe as shipped with OS/2 or found in the Toolkit  
> WRC wrc.exe from Open Watcom v1.6 or later.
>
>    EMXOMFLD_RC:
>
>        Name of the resource compiler to use and optionally extra  
> parameters. Spaces or quotes in the name or path are not supported.
>
> The default values for these two variables are RC and rc.exe.  
> Finally, there are a couple of special functions which simplify  
> porting of Unix programs:
>
>    * _wildcard (int *argc, char ***argv): Same as in EMX, i.e. it  
> expands it's arguments like a unix shell would do (but OS/2 cmd.exe  
> doesn't), so you typically want to use this when porting a unix  
> command line application. Instead of adding this to a program,  
> compilation with -Zargs-wild can be used.
>    * _response (int *argc, char ***argv): Same as in EMX. Expand  
> response files (@FILENAME). The FILENAME contains a list of  
> arguments, one per line. Arguments enclosed in double quotes will  
> not be expanded. If a response file can not be opened, the argument  
> is kept the same. -Zargs-resp will automatically compile this in.
>
>
>
>
>
> I guess you'll have to write more precisely.
> You wrote "no new value in Harbour build scheme".
>
> If you meant "no new control setting", or "no new environment
> value" (as Alex suggested), you're absolutely right. Since
> I'm working to REDUCE number of control knobs, I don't want
> to add new ones for no good reason. I'm sorry if you
> can't grasp the benefits of this direction. See below a
> little explanation:
>
> Every such knob needs to be documented, maintained, kept
> working. Besides each of these knobs will have to be
> understood by users, and we as developers will have to
> support them in this. Each of these knobs will have different
> branches inside the make system also to _test_. Each of these
> extra knobs adds to the complexity of the design, which
> means each of these "simple" and "easy" solutions will turn
> out to cause much more trouble on the long run, than you're
> saving on the design side. That is why creating a simple
> design is in fact much complicated than a messy one. [ Plus
> one: This specific extra know will have to be carefully
> synced by user to the gcc environment he uses. This is not
> obvious from the knob's name "HB_OS2_OMF", which suggest
> this is a general option to choose object format, but this
> is just one little issue with such design. ]
>
> So, I don't like them. We still have such knob for MSVC
> which sets some internal details depending on MSVC version.
> I don't like it either, and I certainly wouldn't like to
> duplicate such bad solution.
>
> Please comment on the concerns and maybe we can find a
> good solution, like gcc4, which you can't tell why you
> don't like, or autodetection of non-OMF vs. OMF environment.
> Although this again goes best with gcc4 solution to keep
> internal logic clean. Notice there are solutions to avoid
> .mk logic duplication even in this case (just change
> HB_OS2_OMF=yes checks to HB_COMPILER=gcc4 checks). Granted,
> it needs a little more work to complete, since gcc4 needs
> to be introduced to a few places.
>
> [ As for the wlink hack (two extra knobs), it's so marginal
> that IMO we should just drop it. And every word spent on
> discussing it just time wasted. If you want to experiment
> with it locally, just create a new compiler .mk file ]
>
> Plus we stil have the cmdline problem, which isn't solved
> yet properly, so that gcc4 becomes ready for SVN. Maybe
> it's not the "easy" way, but in Harbour we value the
> _proper_ way, instead of the "easy" one.
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mhsabado at gmail.com  Thu Oct  1 11:42:00 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Thu Oct  1 11:42:14 2009
Subject: [Harbour] Compile Error Using BCC 6.20
In-Reply-To: <4ac4b822.a253f10a.3bd9.605fSMTPIN_ADDED@mx.google.com>
References: <4ac4b822.a253f10a.3bd9.605fSMTPIN_ADDED@mx.google.com>
Message-ID: <4AC4CDC8.8020807@gmail.com>

Hi Viktor,
> ------------------------------
>
> Message: 6
> Date: Thu, 1 Oct 2009 13:14:46 +0200
> From: Viktor Szak?ts <harbour.01@syenar.hu>
> Subject: Re: [Harbour] Re: Compile Error Using BCC 6.20
> To: Viktor Szak?ts <harbour.01@syenar.hu>
> Cc: "Harbour Project Main Developer List."
> 	<harbour@harbour-project.org>
> Message-ID: <24C252BF-3552-4073-A5A7-0177B93EA16D@syenar.hu>
> Content-Type: text/plain; charset=us-ascii; format=flowed
>
>   
>> Hi Mario,
>>
>>     
>>>> I don't have this compiler. You'll have to find out
>>>> which bcc system lib holds this symbol.
>>>>
>>>> grep WSAIoctl *.lib
>>>>
>>>> Brgds,
>>>> Viktor
>>>>         
>>> I have the following results:
>>>
>>> Binary file import32.lib matches
>>> Binary file intraweb_100_140.lib matches
>>> Binary file ws2_32.lib matches
>>>
>>> How can I include these libs to build Harbour?
>>>       
>> Thanks. ws2_32 is already on the liblist, so the problem
>> may lie elsewhere
>>     
>
> Pressed send by mistake, well, check your BCC setup,
> I'd guess it's wrong.
>
>   
I can compile Harbour with BCC 5.82 successfully.  What I have noticed 
is that WSAIoctl from BCC 5.82 only exist with ws2_32.lib, while from 
BCC 6.20, it is present both with import32.lib and ws2_32.lib.  Would 
the ordering of these two libs help in resolving the issue?

Thanks and best regards,

Mario

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091001/d79ee606/attachment.html
From harbour.01 at syenar.hu  Thu Oct  1 11:48:12 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct  1 11:48:21 2009
Subject: [Harbour] Compile Error Using BCC 6.20
In-Reply-To: <4AC4CDC8.8020807@gmail.com>
References: <4ac4b822.a253f10a.3bd9.605fSMTPIN_ADDED@mx.google.com>
	<4AC4CDC8.8020807@gmail.com>
Message-ID: <F2D70C1F-BB6A-4E60-8531-6D98F909B6D7@syenar.hu>

>>>>> I don't have this compiler. You'll have to find out
>>>>> which bcc system lib holds this symbol.
>>>>>
>>>>> grep WSAIoctl *.lib
>>>>>
>>>>> Brgds,
>>>>> Viktor
>>>>>
>>>>>
>>>> I have the following results:
>>>>
>>>> Binary file import32.lib matches
>>>> Binary file intraweb_100_140.lib matches
>>>> Binary file ws2_32.lib matches
>>>>
>>>> How can I include these libs to build Harbour?
>>>>
>>>>
>>> Thanks. ws2_32 is already on the liblist, so the problem
>>> may lie elsewhere
>>>
>>>
>>
>> Pressed send by mistake, well, check your BCC setup,
>> I'd guess it's wrong.
>>
>>
>>
> I can compile Harbour with BCC 5.82 successfully.  What I have  
> noticed is that WSAIoctl from BCC 5.82 only exist with ws2_32.lib,  
> while from BCC 6.20, it is present both with import32.lib and  
> ws2_32.lib.  Would the ordering of these two libs help in resolving  
> the issue?

I don't think so, since import32.lib isn't used at all in this case.

Please verify your BCC 6.20 installation, .cfg files. If these are  
wrong,
you can still build all other versions of BCC (which happen to be
configured right).

Brgds,
Viktor

From mhsabado at gmail.com  Thu Oct  1 12:01:51 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Thu Oct  1 12:02:04 2009
Subject: [Harbour] Compile Error Using BCC 6.20
In-Reply-To: <4ac4d002.0908c00a.2e88.32afSMTPIN_ADDED@mx.google.com>
References: <4ac4d002.0908c00a.2e88.32afSMTPIN_ADDED@mx.google.com>
Message-ID: <4AC4D26F.2070506@gmail.com>

Hi Viktor,
> Message: 3
> Date: Thu, 1 Oct 2009 17:48:12 +0200
> From: Viktor Szak?ts <harbour.01@syenar.hu>
> Subject: Re: [Harbour] Compile Error Using BCC 6.20
> To: "Harbour Project Main Developer List."
> 	<harbour@harbour-project.org>
> Message-ID: <F2D70C1F-BB6A-4E60-8531-6D98F909B6D7@syenar.hu>
> Content-Type: text/plain; charset=us-ascii; format=flowed; delsp=yes
>
>   
>>>>>> >>>>> I don't have this compiler. You'll have to find out
>>>>>> >>>>> which bcc system lib holds this symbol.
>>>>>> >>>>>
>>>>>> >>>>> grep WSAIoctl *.lib
>>>>>> >>>>>
>>>>>> >>>>> Brgds,
>>>>>> >>>>> Viktor
>>>>>> >>>>>
>>>>>> >>>>>
>>>>>>             
>>>>> >>>> I have the following results:
>>>>> >>>>
>>>>> >>>> Binary file import32.lib matches
>>>>> >>>> Binary file intraweb_100_140.lib matches
>>>>> >>>> Binary file ws2_32.lib matches
>>>>> >>>>
>>>>> >>>> How can I include these libs to build Harbour?
>>>>> >>>>
>>>>> >>>>
>>>>>           
>>>> >>> Thanks. ws2_32 is already on the liblist, so the problem
>>>> >>> may lie elsewhere
>>>> >>>
>>>> >>>
>>>>         
>>> >>
>>> >> Pressed send by mistake, well, check your BCC setup,
>>> >> I'd guess it's wrong.
>>> >>
>>> >>
>>> >>
>>>       
>> > I can compile Harbour with BCC 5.82 successfully.  What I have  
>> > noticed is that WSAIoctl from BCC 5.82 only exist with ws2_32.lib,  
>> > while from BCC 6.20, it is present both with import32.lib and  
>> > ws2_32.lib.  Would the ordering of these two libs help in resolving  
>> > the issue?
>>     
>
> I don't think so, since import32.lib isn't used at all in this case.
>
> Please verify your BCC 6.20 installation, .cfg files. If these are  
> wrong,
> you can still build all other versions of BCC (which happen to be
> configured right).
>   
I tried to rename import32.lib from BCC 6.20 to test if it's being used 
and I got the following error:
bcc32.exe -q -tWM -w -w-sig- -Q -d -6 -O2 -OS -Ov -Oi -Oc 
-e..\..\..\..\..\bin\win\bcc\hbpp.exe hbpp.obj 
-L../../../../../lib/win/bcc   ../../../../../lib/win/bcc/hbnortl.lib 
../../../../../lib/win/bcc/hbcommon.lib kernel32.lib user32.lib 
ws2_32.lib advapi32.lib gdi32.lib
Fatal: Unable to open file 'IMPORT32.LIB'
mingw32-make.exe[3]: *** [hbpp.exe] Error 1
rm hbpp.obj
mingw32-make.exe[2]: *** [descend] Error 2
mingw32-make.exe[1]: *** [pp.inst] Error 2
mingw32-make.exe: *** [source.inst] Error 2

Anyway, I can stick BCC 5.82 at the moment which is working fine.  
Thanks again for your time.

Best regards,
Mario


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091002/04713aa7/attachment.html
From adam_l at poczta.onet.pl  Thu Oct  1 12:03:10 2009
From: adam_l at poczta.onet.pl (Adam Lubszczyk)
Date: Thu Oct  1 12:03:17 2009
Subject: [Harbour] How to create and use DLL like HRB
Message-ID: <25698377.post@talk.nabble.com>


Hi!

In my program, I want to allow users to add their modules.
This works very well with the modules in the HRB.
However, in modules HRB can not add blocks in C (for example, inserts the
code referring APIs ).
I found information that can be just as HRB, use DLLs.
In message: 
http://www.nabble.com/Pcode-and-hb_LibDo%28%29...-what-has-changed--td11161011.html
http://www.nabble.com/Pcode-and-hb_LibDo%28%29...-what-has-changed--td11161011.html 
You write that use HB_LIBLOAD() function, and found the sample programs.
But this sample not work (may be I wrong compiling it ?).
Therefore, I looked to the sources HB_LIBLOAD() function.
This function only loads the library (API LoadLibrary() ) and attempts to
perform functions such INIT.
So, I think I have to put yourself in the library operations that add to an
array of symbols the new my functions, and do it during the loading library
using the APIs DllEntryPoint() function.

So please give examples of sources program and librarie and how they build
(options for BCC32 and ILINK32).
-- 
View this message in context: http://www.nabble.com/How-to-create-and-use-DLL-like-HRB-tp25698377p25698377.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Thu Oct  1 12:04:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Oct  1 12:04:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12634] trunk/harbour
Message-ID: <E1MtO8b-00035m-8Q@74yxhf1.ch3.sourceforge.com>

Revision: 12634
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12634&view=rev
Author:   vszakats
Date:     2009-10-01 16:04:11 +0000 (Thu, 01 Oct 2009)

Log Message:
-----------

2009-10-01 17:58 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
  * utils/hbmk2/hbmk2.prg
  * config/os2/gcc.mk
  + config/os2/gccomf.mk
    + Added OS/2 GCC OMF support.
      This tries to fix resource support in hbmk2 compared to David's 
      solution. hbmk2 support is completely newly done, .mk support was imported 
      as is, with little change in actication logic.
    ! Fixed to use $(ECHOQUOTE) in some $(ECHO) command parameters.
    ; NOTE: Until we don't add autodetection for OMF supporting GCC versions, 
            it will have to be selected manually using HB_COMPILER=gccomf.
            Notice that for GCC 4.x this is obligatory since COFF support is 
            broken in these versions.
            Additional EMX* envvar options are left as an excercise for the 
            users, I intentionally didn't document these in INSTALL, as INSTALL 
            servers as Harbour documentation, not 3rd party tools like GCC.

  * config/global.mk
    ! Minor in comment.

  * contrib/hbqt/Makefile
  * contrib/hbqt/hbqts/Makefile
  * contrib/gtqtc/gtqtcs/Makefile
  * contrib/gtqtc/Makefile
    ! Disabled QT dependent parts for msvcia64 targets.
    ; Fails with error:
      ---
      z:\devl\qt\4.5.2\include\qtcore\../../src/corelib/tools/qvector.h(541) : warning C4346: 'QVector<T>::iterator' : dependent name is not a type
              prefix with 'typename' to indicate a type
      z:\devl\qt\4.5.2\include\qtcore\../../src/corelib/tools/qvector.h(541) : error C2143: syntax error : missing ';' before 'QVector<T>::insert'
      z:\devl\qt\4.5.2\include\qtcore\../../src/corelib/tools/qvector.h(541) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int
      z:\devl\qt\4.5.2\include\qtcore\../../src/corelib/tools/qvector.h(541) : fatal error C1903: unable to recover from previous error(s); stopping compilation
      ---

  * package/winuni/HARBOUR_README_MINGWARM
    * Minor raw update to document newly found --force-local tar switch.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/contrib/gtqtc/Makefile
    trunk/harbour/contrib/gtqtc/gtqtcs/Makefile
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/hbqts/Makefile
    trunk/harbour/package/winuni/HARBOUR_README_MINGWARM
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/config/os2/gccomf.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Oct  1 12:05:58 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct  1 12:06:05 2009
Subject: [Harbour] Compile Error Using BCC 6.20
In-Reply-To: <4AC4D26F.2070506@gmail.com>
References: <4ac4d002.0908c00a.2e88.32afSMTPIN_ADDED@mx.google.com>
	<4AC4D26F.2070506@gmail.com>
Message-ID: <2DB88B36-FDB4-49BE-BF5D-B934BDF52D89@syenar.hu>

>> Please verify your BCC 6.20 installation, .cfg files. If these are
>> wrong,
>> you can still build all other versions of BCC (which happen to be
>> configured right).
>>
>>
> I tried to rename import32.lib from BCC 6.20 to test if it's being  
> used and I got the following error:
> bcc32.exe -q -tWM -w -w-sig- -Q -d -6 -O2 -OS -Ov -Oi -Oc -e..\..\.. 
> \..\..\bin\win\bcc\hbpp.exe hbpp.obj -L../../../../../lib/win/ 
> bcc   ../../../../../lib/win/bcc/hbnortl.lib ../../../../../lib/win/ 
> bcc/hbcommon.lib kernel32.lib user32.lib ws2_32.lib advapi32.lib  
> gdi32.lib
> Fatal: Unable to open file 'IMPORT32.LIB'
> mingw32-make.exe[3]: *** [hbpp.exe] Error 1
> rm hbpp.obj
> mingw32-make.exe[2]: *** [descend] Error 2
> mingw32-make.exe[1]: *** [pp.inst] Error 2
> mingw32-make.exe: *** [source.inst] Error 2
>
> Anyway, I can stick BCC 5.82 at the moment which is working fine.   
> Thanks again for your time.

So import32.lib is automatically pulled by BCC linker. We can't
really do too much about it.

Anyhow you should still try to fix your BCC .cfg files. Maybe they
point to other BCC version dir.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Oct  1 12:09:23 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct  1 12:09:32 2009
Subject: [Harbour] OS/2 cmdline hack removal
Message-ID: <27169765-5F79-476D-9AD2-D0D7812B1778@syenar.hu>

Hi Maurilio, David, All,

Does anyone of you want to remove config/global/watcom.mk hacks
added to workaround recently fixed GNU Make bugs?

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Oct  1 13:43:04 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct  1 13:43:25 2009
Subject: [Harbour] Harbour Itanium build success
Message-ID: <C579F6D6-9B61-4197-BB2E-444E3E77544E@syenar.hu>

Hi All,

Harbour Windows MSVC 2008 Itanium target was just tested OK.
It needs MSVC 2008 Team Suite (I just get hold of a legal copy).
(maybe 2005 works also, I don't know)

Brgds,
Viktor

From druzus at users.sourceforge.net  Thu Oct  1 20:19:29 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Oct  1 20:19:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12635] trunk/harbour
Message-ID: <E1MtVrt-00051C-Ka@74yxhf1.ch3.sourceforge.com>

Revision: 12635
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12635&view=rev
Author:   druzus
Date:     2009-10-02 00:19:28 +0000 (Fri, 02 Oct 2009)

Log Message:
-----------
2009-10-02 02:19 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbrdddbf.h
  * harbour/include/hbrddnsx.h
  * harbour/include/hbrddcdx.h
  * harbour/include/hbrddfpt.h
  * harbour/include/hbrddntx.h
  * harbour/source/rdd/dbf1.c
  * harbour/source/rdd/dbffpt/dbffpt1.c
  * harbour/source/rdd/dbfntx/dbfntx1.c
  * harbour/source/rdd/dbfnsx/dbfnsx1.c
  * harbour/source/rdd/dbfcdx/dbfcdx1.c
  * harbour/contrib/hbbmcdx/hbbmcdx.h
    * code cleanup

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbmcdx/hbbmcdx.h
    trunk/harbour/include/hbrddcdx.h
    trunk/harbour/include/hbrdddbf.h
    trunk/harbour/include/hbrddfpt.h
    trunk/harbour/include/hbrddnsx.h
    trunk/harbour/include/hbrddntx.h
    trunk/harbour/source/rdd/dbf1.c
    trunk/harbour/source/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/source/rdd/dbffpt/dbffpt1.c
    trunk/harbour/source/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/source/rdd/dbfntx/dbfntx1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Fri Oct  2 00:42:50 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Oct  2 00:42:55 2009
Subject: [Harbour] 2.0beta3 deployment success
Message-ID: <9257026e0910012142t587e5062uf5dc29810e2635b3@mail.gmail.com>

So far logs are clean and phones are quiet :)

I'd like to thank all ( in particular Przemyslaw and Viktor ) for the
great job done in the last months.

With the new "standard" make, clean, install build system is really
easy to import harbour as a standard Eclipse C Makefile project.

After the "-fpic" discussion, I've packed my full ERP into few shared
libs so that the former 1-3MB executables are now 10KB ( yes 10KB on
both linux and win )  and are made of 1 function call. The main
advantage is that now a small fix or an entire new release can be done
simply uploading a new shared lib ( and in Linux it can be done even
when users are working ).

Many thanks again to all.

best regards,
Lorenzo
From maurilio.longo at libero.it  Fri Oct  2 04:24:33 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Oct  2 04:24:42 2009
Subject: [Harbour] OS/2 cmdline hack removal
In-Reply-To: <27169765-5F79-476D-9AD2-D0D7812B1778@syenar.hu>
References: <27169765-5F79-476D-9AD2-D0D7812B1778@syenar.hu>
Message-ID: <4AC5B8C1.1040003@libero.it>

Viktor,

I haven't watcom installed; but I think that gcc on OS/2 has some hack also
wich I'll look at asap.

Maurilio.


Viktor Szak?ts wrote:
> Hi Maurilio, David, All,
> 
> Does anyone of you want to remove config/global/watcom.mk hacks
> added to workaround recently fixed GNU Make bugs?
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From M.Horodyski at pzuzycie.com.pl  Fri Oct  2 04:26:38 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Oct  2 04:26:47 2009
Subject: [Harbour] 2.0beta3 deployment success
In-Reply-To: <9257026e0910012142t587e5062uf5dc29810e2635b3@mail.gmail.com>
References: <9257026e0910012142t587e5062uf5dc29810e2635b3@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C950288E158@PINK.zycie.pzu>

>-----Original Message-----
>From: Lorenzo Fiorini [mailto:lorenzo.fiorini@gmail.com] 
>Sent: Friday, October 02, 2009 6:43 AM
>To: Harbour Project Main Developer List.
>Subject: [Harbour] 2.0beta3 deployment success
>
>So far logs are clean and phones are quiet :)
>
>I'd like to thank all ( in particular Przemyslaw and Viktor ) 
>for the great job done in the last months.
>
>With the new "standard" make, clean, install build system is 
>really easy to import harbour as a standard Eclipse C Makefile project.
>
>After the "-fpic" discussion, I've packed my full ERP into few 
>shared libs so that the former 1-3MB executables are now 10KB 
>( yes 10KB on both linux and win )  and are made of 1 function 
>call. The main advantage is that now a small fix or an entire 

We need in distro any exemple, how can man build so small app.

Regards,
Marek Horodyski
From mbelgrano at deltain.it  Fri Oct  2 04:50:16 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Oct  2 04:50:25 2009
Subject: [Harbour] 2.0beta3 deployment success
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C950288E158@PINK.zycie.pzu>
References: <9257026e0910012142t587e5062uf5dc29810e2635b3@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288E158@PINK.zycie.pzu>
Message-ID: <609353e70910020150q1ff1ac70l30d865592a66e708@mail.gmail.com>

+1

2009/10/2 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>

> >-----Original Message-----
> >From: Lorenzo Fiorini [mailto:lorenzo.fiorini@gmail.com]
> >Sent: Friday, October 02, 2009 6:43 AM
> >To: Harbour Project Main Developer List.
> >Subject: [Harbour] 2.0beta3 deployment success
> >
> >So far logs are clean and phones are quiet :)
> >
> >I'd like to thank all ( in particular Przemyslaw and Viktor )
> >for the great job done in the last months.
> >
> >With the new "standard" make, clean, install build system is
> >really easy to import harbour as a standard Eclipse C Makefile project.
> >
> >After the "-fpic" discussion, I've packed my full ERP into few
> >shared libs so that the former 1-3MB executables are now 10KB
> >( yes 10KB on both linux and win )  and are made of 1 function
> >call. The main advantage is that now a small fix or an entire
>
> We need in distro any exemple, how can man build so small app.
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica -
Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091002/7d3485c4/attachment.html
From lorenzo.fiorini at gmail.com  Fri Oct  2 05:49:40 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Oct  2 05:49:45 2009
Subject: [Harbour] 2.0beta3 deployment success
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C950288E158@PINK.zycie.pzu>
References: <9257026e0910012142t587e5062uf5dc29810e2635b3@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288E158@PINK.zycie.pzu>
Message-ID: <9257026e0910020249l67c8b9bfr9aa311a69e8c0ff5@mail.gmail.com>

On Fri, Oct 2, 2009 at 10:26 AM, Horodyski Marek (PZUZ)
<M.Horodyski@pzuzycie.com.pl> wrote:

> We need in distro any exemple, how can man build so small app.

There is nothing to show. Every static lib can be converted to a
shared lib ( I use hb-mkslib dllname libname .... ) then you link your
app against it. I've simply moved all the functions in libs and in
appx.prg I've left:

procedure main( ... )

   appx( ... )

return

this creates a 10KB app1 executable that uses the 4MB shared libs that
are shared between all the executables.

So before it was:

app1.exe = 1.5MB
app2.exe = 3.0MB
app3.exe = 2.1MB
...

now is:

app1.exe = 10KB
app2.exe = 10KB
app3.exe = 10KB
...

appdata.dll + appgui.dll + appsys.dll + harbour.dll + hb*.dll = 8MB

in appdata, appgui and appsys there are the same functions that before
where in app*.prg.
Clearly name collisions and statics have to be fixed.

best regards,
Lorenzo
From mbelgrano at deltain.it  Fri Oct  2 05:59:28 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Oct  2 05:59:54 2009
Subject: [Harbour] Caro giovanni GRAZIE
Message-ID: <609353e70910020259w675cb501hca07af2cea065cd1@mail.gmail.com>

Mi sono ricordato che sta arrivando il mio compleanno perch? ho ricevuto un
vassoio di torroni siciliani
 da parte di un amico che mi scrive :"per la tua grande
disponibilit?"Sentitamente
ringrazio per la sua grande gentilezza


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091002/e6fc54ac/attachment.html
From harbour.01 at syenar.hu  Fri Oct  2 06:14:15 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Oct  2 06:14:36 2009
Subject: [Harbour] OS/2 cmdline hack removal
In-Reply-To: <4AC5B8C1.1040003@libero.it>
References: <27169765-5F79-476D-9AD2-D0D7812B1778@syenar.hu>
	<4AC5B8C1.1040003@libero.it>
Message-ID: <F9EA9EFC-B648-4039-87C5-CFDE2D6A9D58@syenar.hu>

Thanks a lot Maurilio.

Brgds,
Viktor

On 2009 Oct 2, at 10:24, Maurilio Longo wrote:

> Viktor,
>
> I haven't watcom installed; but I think that gcc on OS/2 has some  
> hack also
> wich I'll look at asap.
>
> Maurilio.
>
>
> Viktor Szak?ts wrote:
>> Hi Maurilio, David, All,
>>
>> Does anyone of you want to remove config/global/watcom.mk hacks
>> added to workaround recently fixed GNU Make bugs?
>>
>> Brgds,
>> Viktor
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> -- 
> __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Fri Oct  2 06:22:09 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Oct  2 06:22:22 2009
Subject: [Harbour] Re: Caro giovanni GRAZIE
In-Reply-To: <609353e70910020259w675cb501hca07af2cea065cd1@mail.gmail.com>
References: <609353e70910020259w675cb501hca07af2cea065cd1@mail.gmail.com>
Message-ID: <609353e70910020322w7c6098f3gfe5f990068baa80c@mail.gmail.com>

Sorrymy error addressing

Il giorno 02 ottobre 2009 11.59, Massimo Belgrano <mbelgrano@deltain.it> ha
scritto:

> Mi sono ricordato che sta arrivando il mio compleanno perch? ho ricevuto un
> vassoio di torroni siciliani
>  da parte di un amico che mi scrive :"per la tua grande disponibilit?"Sentitamente
> ringrazio per la sua grande gentilezza
>
>
> --
> Massimo Belgrano
>
>
>


-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica -
Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091002/5bca3c19/attachment.html
From lorenzo.fiorini at gmail.com  Fri Oct  2 06:43:53 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Oct  2 06:43:59 2009
Subject: [Harbour] What about adding a config/local.mk for env setup?
Message-ID: <9257026e0910020343vb2a755ejc2643d0dffcda461@mail.gmail.com>

To build Harbour I use:

export HB_INSTALL_PREFIX=/opt/harbour
export HB_COMMERCE=yes
export HB_BUILD_DLL=no
export HB_EXTERNALLIBS="zlib pcre sqlite3"
export HB_CONTRIBLIBS="hbct hblog hbxml hbmzip hbtip hbvpdf hbgd
hbpgsql hbcurl hbmysql hbsqlit3 hbssl hbodbc"
export HB_WITH_QT=/opt/qtsdk/qt/include
export HB_WITH_ZLIB=local
export HB_WITH_PCRE=local
export HB_WITH_SQLITE3=local
export HB_USER_CFLAGS="-fpic -DHB_OPENSSL_OLD_OSX_"

keep this env synced in Linux, Windows, OSX and Eclipse ( that when
doesn't start from shell needs its own env ) can be complicate and
since they are only useful at build time having them in the env is
useless.

I've tried to include $(ROOT)config/local.mk at the begin of the main Makefile:

#
# $Id: Makefile 12624 2009-09-28 20:51:46Z vszakats $
#

ROOT := ./

include $(ROOT)config/local.mk
include $(ROOT)config/global.mk

and moved in config/local.mk the above vars.
The advantage is that the file is bound in the tree so it follows the
sources and that the syntax is not OS dependent.
The drawback is that f.e. HB_USER_CFLAGS IS OS dependent so I need to
manually update it.

Could it be implemented in a better way?

best regards,
Lorenzo
From dmacias at mail.udg.mx  Fri Oct  2 07:00:16 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Oct  2 07:00:27 2009
Subject: [Harbour] Re: Harbour under OS/2 - 12624
Message-ID: <4AC5DD40.7080206@mail.udg.mx>

Viktor:

 >Sorry, but I've been asking some specific questions and now you
 >begin with a long tirade starting from 1999.

Sorry too, I could not resist  :-)


 >Let's cut it short:

You are near to have whole picture
With information I provided and information you searched you are going 
to understanding more close

Note: with your recent reintroduction of OMF support in Harbour, things 
changed and is unnecessary to extend in explanations

I will try to be brief  :-)

 >Please correct me, if I'm wrong:
 >- There is 3.3.4 and lower, supporting COFF (or whatever else, let's
 >call it non-OMF)
Yes, a.out type

 >- There is 3.3.5, which supports both OMF and non-OMF.
Yes

 >- There is 4.0.0 and upper, which support both, but non-OMF is broken,
 >so it doesn't work, so it only supports OMF.
Yes, due failure in emxbind from gcc335

 >- Should we REALLY concentrate on 3.3.5 ? Is it some sort of widely
 >used version, we should design Harbour around? If so, change my 
 >proposition to gccomf.mk from gcc4.mk, and this problem is also solved.
Now is solved and we are not attached to gcc335-a.out only

Changing the image of compiler (gcc4.mk) to image of OMF (gccomf.mk) is 
the key. Forget gcc versions and concentrate in gcc feature

 >- All these options are free and gratis.
Yes

 >- How to autodetect 3.3.4 or lower vs. 4.0.0 or upper by checking a
 >presence of a file in PATH?

IMPORTANT: We do not need to detect gcc version, for our case. We are 
focused in a feature

 >- GCC 4.x port is in beta status AFAIK,
Not. Is mature and I have months using them

 >so linker problems which you try to workaround using WLINK are not
 >proper/final solutions we should implement in Harbour. Instead, you
 >should report these problems to port maintainers for fix. (if it's 
 >really a showstopper).

As OMF can use many "final linkers", is convenient to focus in best of them
OS/2-gcc developers show preference for WL.exe, a modified WLINK.exe and 
are enhanced it to avoid many problems found with LINK386, VAC, ...

So I suggest to follow the main-stream of WL.exe

I tested LINK386.exe, WLINK.exe and WL.exe
They included to WL.exe support for HLL format, so they can use debuggers


 >- You seem to be stuck at giving too many options (alternatives) for
 > a too small user community (customizable linker because of WLINK,
 > gcc 3.3.5, when gcc 4.x and gcc 3.3.4 are also free options with
 >similar features).

I am doing for Harbour-OS/2 in particular what you are doing for Harbour 
in general: many compilers and options, and maybe some of them you are 
the only tester

This way, as you have seen along time, enrich Harbour in general
Problems found in one side make strong other sides

And I am taking care to mantain "backward compatibility" with gcc335-a.out

 >   Please weight these, because it's not you who will support
 >   them on the long run, but volunteers like me in their free time.
 >   To me it looks we need to add proper support for GCC 4.x with
 >   supplied linker and we had done a 100% coverage of the problem,
 >   maybe except your case.

Here near all of us are volunteers in free or busy time
In my case, I made necessary work to add OS/2-OMF support in Harbour and 
reported how to apply it, reaching gccxxx support at same time

 >   [ I remember how aggressively you've been fighting for 
 >make_gcc_os2.cmd,
 > and bld_os2.cmd back then. After someone added it, you _never ever_
 >updated those files, telling you're only a tester. After that I had to
 >update them several dozens of times. ]

You have seen along time that my good area is in testing Harbour, not 
developing. Each one have their strong points

 >- "easy" addition of any feature is not a virtue in Harbour. It's not 
 >even and argument.
 >IOW, it doesn't serve Harbour or its users the best if an
 >implementation of a feature is "easy" for the developer. It only serves
 >the committer because he could save some time for himself. This is
 >great and all that, but not a value for the community.

I did not used "easy", "simple" as synonymous of weak, incomplete, "it 
server just for me" and so on.
I used it sense of solid minimal work need to achieve a goal
In this sense, your work for Harbour build and/or hbmk2.prg is "easy"
I like quality work of everyone and of course I start with me

 >- You still didn't fix gcc4 (or gccomf) to handle long cmdlines.
 >Telling that it's "too complicated" to one of my suggestions. If you're
 >only interested in "easy" solutions and nothing which is "complicated"
 >(but is right), then it will be very difficult to come to a 
 >Harbour-quality resolution for this matter.

Problem with harbourm.dll rised recently after Maurilio put it to work, 
and immediatly I reported this new problem marking as pending
Of course I am looking for solution, as I did for all problems raised to 
add OMF support

Weeks ago (Aug 17, "Re: Harbour under OS/2 - eCS gc") with problems with 
WLINK.exe and HLL format I reported that in:
   svn.netlabs.org/repos/libc/trunk/emx/src/emxomf
exist the code of emxomfld.c
There are many components of os2gcc too

I do not know C, so I just figure what is doing emxomfld.exe reviewing 
emxomfld.c

Until know the problem seem located in the "caller" (gcc335, gcc4xx) and 
not "receiver" (emxomfld.exe) and him just report improper info received

Today we only know that gcc send info to emxomfld.exe and him report 
invalid info. As I explained and you remember, only difference between 
dynlib and dynlib\mt are one level deeper, which cause long expression

When Przemek added mt feature ( a year ago :-) ) he used source\vm\vmmt 
dir, so later source\dynlib\mt was used. Perhaps if he had used 
source\vmmt in place we were talking of source\dynlibmt now. That 
decision exploited now a problem with os2gcc (335 and 4xx) limit

David Macias


From M.Horodyski at pzuzycie.com.pl  Fri Oct  2 07:20:20 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Oct  2 07:20:28 2009
Subject: [Harbour] 2.0beta3 deployment success
In-Reply-To: <9257026e0910020249l67c8b9bfr9aa311a69e8c0ff5@mail.gmail.com>
References: <9257026e0910012142t587e5062uf5dc29810e2635b3@mail.gmail.com><FFAFD6EA63A3FC4784FBDA52BE7A7C950288E158@PINK.zycie.pzu>
	<9257026e0910020249l67c8b9bfr9aa311a69e8c0ff5@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C950288E203@PINK.zycie.pzu>

>-----Original Message-----
>From: Lorenzo Fiorini [mailto:lorenzo.fiorini@gmail.com] 
>Sent: Friday, October 02, 2009 11:50 AM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] 2.0beta3 deployment success

[...]

>So before it was:
>
>app1.exe = 1.5MB
>app2.exe = 3.0MB
>app3.exe = 2.1MB
>...
>
>now is:
>
>app1.exe = 10KB
>app2.exe = 10KB
>app3.exe = 10KB
>...
>
>appdata.dll + appgui.dll + appsys.dll + harbour.dll + hb*.dll = 8MB

I talked about the example. So in tests folder, where user can be with
HBMK2 generated *.exe and *.dll files.
Any working example. A certain difficulty is linking example.

Regards,
Marek Horodyski
From harbour.01 at syenar.hu  Fri Oct  2 07:45:20 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Oct  2 07:45:29 2009
Subject: [Harbour] What about adding a config/local.mk for env setup?
In-Reply-To: <9257026e0910020343vb2a755ejc2643d0dffcda461@mail.gmail.com>
References: <9257026e0910020343vb2a755ejc2643d0dffcda461@mail.gmail.com>
Message-ID: <18d502870910020445j4768f3c0jc063a1d52087e059@mail.gmail.com>

Hi Lorenzo,
This should be done a little differently, such "local.mk"
should be included from global.mk using '-include' command.
I'd rather name it user.mk and require placement in source
root (instead of /config).

WIth above solution user.mk is optional. Please note that in
your example some settings aren't portable and this method is
useful if only portable settings are included (as you say), which
limits its usage and complicate properly documenting it.

Probably we should merge this feature with already existing
config.mk support, to not duplicate it, and maybe the name
config.mk is even better, and it should be also placed to root.

Brgds,
Viktor

On Fri, Oct 2, 2009 at 12:43 PM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com>wrote:

> To build Harbour I use:
>
> export HB_INSTALL_PREFIX=/opt/harbour
> export HB_COMMERCE=yes
> export HB_BUILD_DLL=no
> export HB_EXTERNALLIBS="zlib pcre sqlite3"
> export HB_CONTRIBLIBS="hbct hblog hbxml hbmzip hbtip hbvpdf hbgd
> hbpgsql hbcurl hbmysql hbsqlit3 hbssl hbodbc"
> export HB_WITH_QT=/opt/qtsdk/qt/include
> export HB_WITH_ZLIB=local
> export HB_WITH_PCRE=local
> export HB_WITH_SQLITE3=local
> export HB_USER_CFLAGS="-fpic -DHB_OPENSSL_OLD_OSX_"
>
> keep this env synced in Linux, Windows, OSX and Eclipse ( that when
> doesn't start from shell needs its own env ) can be complicate and
> since they are only useful at build time having them in the env is
> useless.
>
> I've tried to include $(ROOT)config/local.mk at the begin of the main
> Makefile:
>
> #
> # $Id: Makefile 12624 2009-09-28 20:51:46Z vszakats $
> #
>
> ROOT := ./
>
> include $(ROOT)config/local.mk
> include $(ROOT)config/global.mk
>
> and moved in config/local.mk the above vars.
> The advantage is that the file is bound in the tree so it follows the
> sources and that the syntax is not OS dependent.
> The drawback is that f.e. HB_USER_CFLAGS IS OS dependent so I need to
> manually update it.
>
> Could it be implemented in a better way?
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091002/bfd30168/attachment.html
From druzus at acn.waw.pl  Fri Oct  2 07:52:43 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Oct  2 07:52:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <4AC21116.3070107@mweb.co.za>
References: <E1MprLO-00063j-K6@c3vjzd1.ch3.sourceforge.com>
	<4AB88DF5.7090704@dbtopas.lt> <4ABA2AB9.4020101@dbtopas.lt>
	<20090924102614.GA25988@uran.home.aster.pl>
	<d6fa31440909240915w76e61d0bv7b9985fd2752d6fc@mail.gmail.com>
	<A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu>
	<4AC21116.3070107@mweb.co.za>
Message-ID: <20091002115243.GA21975@uran.home.aster.pl>

Hi All,

First I think that Alexander should comment this subject not me.
So far I was not interested in LetoDB code anyhow seeing your messages
I invested some time to look at this code closer and I've found that
there are some problems which have tro be fixed:

1. it tries to use DBF record buffer but does not support all field types
   and features supported by core DBF* RDDs
2. it does not support timestamp values
3. numeric values in some operations like SEEK are converted to strings so
   they cannot be safely used with double values because such conversions
   round them to number of decimal places used to show numeric item on
   the screen
4. it does not optimize multirecord skips on filtered or set_deleted
   workareas
5. it does not use aliases on server side so expressions sent to server
   cannot use aliases too (.f. index key/for, filters, ...)
6. relations are implemented only on client side and this code is not
   finished - it needs fixes in many places,
   missing server side relations seriously reduce functionality and
   performance in programs which use aliases though without server side
   support for aliases it still not be fully usable.
7. it does not respect many of _SET_* settings and also does not inform
   server about settings  like _SET_DATEFORMAT, _SET_EPOCH, _SET_TIMEFORMAT,
   _SET_DECIMALS, _SET_FIXED, _SET_EXACT, ... which are important for
   correct execution of user expressions on server side
8. some important RDDI_*, DBI_*, DBOI_*, DBRI_*, DBS_* actions are not
   implemented at all or are implemented wrongly what breaks some other
   code, i.e. there is no DBI_GETLOCKARRAY so dbRlockList() function does
   not work or it informs GT that it uses DBF compatible record buffer
   and can transfer whole records but such functionality is not implemented
   so optimized by RDD code COPY TO ... and APPEND FROM ... operations
   fail
9. it tries to optimize some operations like dbAppend() but it's done
   in unsafe way which is not compatible with Clipper RDDs, i.e. dbAppend()
   is buffered and always return success though other client may set
   FLOCK() on the table so it will fail later when such appended record
   is sent to the server. For some programs it introduce other bugs
   because some algorithms may use APPEND rlocks for synchronization
   and to protect other stations against setting FLOCK so such behavior
   will causes total desynchronization
10. in some methods it does not send all parameters and settings to server
   so some operations may not work as expected, i.e. important ordCondSet()
   settings are not transfer to server side
11. some methods are implemented as dummy ones what only disables error
   messages when user tries to use them so he does not even know that
   they failed silently,
   such things have to be eliminated and I hope it's only unfinished code
12. some operations are hacked to work only in some very limited
   situations, i.e. DBOI_KEYADD/DBOI_KEYDELETE works only with string
   key values which does not have any embedded 0
13. some things are implemented wrongly, i.e. if current record is
   locked (unlocked) then dbRlock( <nRecXX> ) (dbRUnLock( <nRecXX> ))
   calls are ignored
14. the transaction code also looks like unfinished, now it makes only
   one thing: it delays sending modifications to the server side with
   only very basic support for modifying the same record more then once,
   it may be usable in some applications but probably breaks most of
   programs which were not designed from beginning to work with RDDs where
   modifications are not visible during updates, missing documentation
   for exact isolation level causes that such transactions can be safely
   used only by LETO code authors who well know the internal behavior
   and created .prg code compatible with it
15. it's not MT safe and needs very serious internal modifications
   to work with user MT applications. As I can see so far it's
   not ever defined how it should be done so it's necessary to
   design such model from scratch.
16. it encodes/decodes messages using sprintf()/sscanf() functions
   what introduce some additional problems, i.e.:
   - this is very slow method of data encoding and decoding though
     in comparison to TCP/IP delay it's not critical
   - C compilers quite often provide *printf()/*scanf() functions
     in two version for ST and MT modes so for MT mode it's very important
     to use MT safe CRTL and leto code have to be always compiled with MT
     C compiler flags. We have our own hb_sprintf() function which is
     fully reentrant safe but we do not support hb_sscanf() so it's
     potential problem
   - it's very unsafe and hard to protect against buffer overflow and
     current leto code has a lot of potential buffer overflows which
     can cause server or client crash or hangup if user pass some data
     exploiting them
   - these functions operate on text data but LetoDB needs to transfer also
     binary data so programmers have to mix text and binary data what
     complicates message format and is source of some mistakes/bugs,
     now some messages are wrongly encoded what may cause server or
     client hangup
17. I do not see any documentation for the protocol, looks that each
   new message is added "as is" to client and server code, it means
   that even now it's hard to introduce extensions without careful
   checking of existing code to avoid possible conflicts,
18. I do not see any documentation which divides actions on client
   and server side so it's hard to add the extensions keeping
   original author vision, in the moment when such projects
   stops to be single author code such at least very basic
   documentation is a must, otherwise we will end with set of
   functions and RDD methods often replicating existing functionality
   because each developer tried to resolved his local problems in
   his own way, it also causes that bug fixing is very hard because
   developers seeing that sth is potentially wrong have to analyze
   whole code for possible workarounds in different places, i.e.
   I'm not able to verify everything what I see after looking at
   this code without investing day or two in deep analyzing
19. it does not use hbsocket.h API so it may have portability problems
   and it does not address some problems which existed in original
   Giancarlo Inet* implementation and were copied to LetoDB
20. server uses internally own threads but does not use hbthread.h API
   what creates problems with portability and adding some extensions
   in the future, i.e. simultaneous executing .prg code by such threads
   is impossible now, it also blocks using HVM threads which could
   resolve important problems in current server implementation
21. I do not understand some parts of server code, i.e. there
   is an option to reuse existing tables between connections but
   why it was added? It cannot work without disabling most of
   server side processing because there is only single area
   structure so everything have to be shared between clients
   what creates series of problems, i.e. filter set by one client
   changes other client skip/seek operations, etc.
   I cannot even say that it is work in progress because it will
   never be fully functional option
22. it keeps support for some old Harbour and xHarbour compilers
   what in few places makes the code more complicated and less
   readable then necessary, in some cases like own non HVM threads
   it seriously limits farther developing so such support have to be
   removed if we want to resolve all above problems

This is what I can see after rather short code look up mostly on
client side.
In summary to resolve these problems we will have to rewrite most
of current LetoDB code dropping xHarbour and old Harbour support.
I haven't analyzed this code very deeply but seems that we can keep
only very small part of existing LetoDB code.
For me it is much easier to create new project with such functionality
from scratch then trying to update current LetoDB code. For sure it
will take less time and I will make much less mistakes so I do not
find big motivation to work on it. I know myself and if I start to
update it then I'll end with completely rewritten code but using the
same project name and original authors' copyrights.

I do not need such remote server for my own use - all my applications
are executed fully on the server side so I do not want to reduce it
to ADS like level.
In the past I started to work on NETRDD and I documented the
server and client part and defined basic communication protocol
but so far I haven't time to finish it. Seeing what happens with
my code in xHarbour I also do not find big motivation to finish
it and public as free OpenSource project but I also do not have
any precise plans about commercial releasing. Just simply I haven't
taken the decision yet. Maybe I'll finish it and release as close
source binary library which can be freely used with Harbour but
only with applications which do not use any commercial libraries.
Or maybe I'll invest much more time in it and try to write full
RDBMS with transactions, SQL support and query optimizer and
release it as commercial project. I do not know yet but I think
I should inform you about it because maybe in the future I will
not be on neutral position here so you should take your really
own decision about LetoDB future in Harbour contrib code and my
opinion and above text is only small help which you can ignore.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Oct  2 07:59:25 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Oct  2 07:59:34 2009
Subject: [Harbour] Re: Harbour under OS/2 - 12624
In-Reply-To: <4AC5DD40.7080206@mail.udg.mx>
References: <4AC5DD40.7080206@mail.udg.mx>
Message-ID: <18d502870910020459h76899638w6f914d5ae3b936a0@mail.gmail.com>

Thanks for the answers.


> >so linker problems which you try to workaround using WLINK are not
> >proper/final solutions we should implement in Harbour. Instead, you
> >should report these problems to port maintainers for fix. (if it's >really
> a showstopper).
>
> As OMF can use many "final linkers", is convenient to focus in best of them
> OS/2-gcc developers show preference for WL.exe, a modified WLINK.exe and
> are enhanced it to avoid many problems found with LINK386, VAC, ...
>
> So I suggest to follow the main-stream of WL.exe
>
> I tested LINK386.exe, WLINK.exe and WL.exe
> They included to WL.exe support for HLL format, so they can use debuggers


AFAIU this is an internal EMX configuration setting, so
we in Harbour have nothing to do with it. It can be just
used, if someone needs it. If this is not the case, we
should focus on the working alternative instead of explicitly
supporting everything.


> >   Please weight these, because it's not you who will support
> >   them on the long run, but volunteers like me in their free time.
> >   To me it looks we need to add proper support for GCC 4.x with
> >   supplied linker and we had done a 100% coverage of the problem,
> >   maybe except your case.
>
> Here near all of us are volunteers in free or busy time
> In my case, I made necessary work to add OS/2-OMF support in Harbour and
> reported how to apply it, reaching gccxxx support at same time


You should realize however that by you adding a feature in
5 minutes, you're at the same time generating 5 times "n"
amount of maintenance work for other volunteer developers.
I reckon you rarely contribute to latter task, so those who
are should have a(n even final) word about such features.


> >- "easy" addition of any feature is not a virtue in Harbour. It's not
> >even and argument.
> >IOW, it doesn't serve Harbour or its users the best if an
> >implementation of a feature is "easy" for the developer. It only serves
> >the committer because he could save some time for himself. This is
> >great and all that, but not a value for the community.
>
> I did not used "easy", "simple" as synonymous of weak, incomplete, "it
> server just for me" and so on.
> I used it sense of solid minimal work need to achieve a goal
> In this sense, your work for Harbour build and/or hbmk2.prg is "easy"
> I like quality work of everyone and of course I start with me


Notice that my committed solution is just as "easy", but
let's please focus on quality. Many times quality solution
isn't the easiest.


> Problem with harbourm.dll rised recently after Maurilio put it to work, and
> immediatly I reported this new problem marking as pending
> Of course I am looking for solution, as I did for all problems raised to
> add OMF support
>
> Weeks ago (Aug 17, "Re: Harbour under OS/2 - eCS gc") with problems with
> WLINK.exe and HLL format I reported that in:
>  svn.netlabs.org/repos/libc/trunk/emx/src/emxomf
> exist the code of emxomfld.c
> There are many components of os2gcc too
>
> I do not know C, so I just figure what is doing emxomfld.exe reviewing
> emxomfld.c
>
> Until know the problem seem located in the "caller" (gcc335, gcc4xx) and
> not "receiver" (emxomfld.exe) and him just report improper info received
>
> Today we only know that gcc send info to emxomfld.exe and him report
> invalid info. As I explained and you remember, only difference between
> dynlib and dynlib\mt are one level deeper, which cause long expression
>

Could be bug in any of these tools having some internal limits.
Tool maintainers have to look into it. Probably some standalone
example can help them.


> When Przemek added mt feature ( a year ago :-) ) he used source\vm\vmmt
> dir, so later source\dynlib\mt was used. Perhaps if he had used source\vmmt
> in place we were talking of source\dynlibmt now. That decision exploited now
> a problem with os2gcc (335 and 4xx) limit
>

If find original placement okay and logical.
We're using the exact same concept in several
places in Harbour. (SSL version of hbtip, static
version of certain libs, etc). Probably the same
method will be used in the future to generate
both dll and non-dll based utils. Flattening
all these would result in an extremely messy
dir layout. Plus we don't know what other sub
versions of our libs will be added in the future.

Let's please fix things where they are broken.
This part is broken somewhere inside GCC EMX port.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091002/7e18e796/attachment-0001.html
From dmacias at mail.udg.mx  Fri Oct  2 08:30:06 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Oct  2 08:30:21 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12634] trunk/harbour
Message-ID: <4AC5F24E.80900@mail.udg.mx>

Viktor:

 >2009-10-01 17:58 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
 >  * INSTALL
 >  * utils/hbmk2/hbmk2.prg
 >  * config/os2/gcc.mk
 >  + config/os2/gccomf.mk
 >    + Added OS/2 GCC OMF support.
 >      This tries to fix resource support in hbmk2 compared to David's
 >      solution. hbmk2 support is completely newly done, .mk support was
 > imported as is, with little change in actication logic.
 >    ! Fixed to use $(ECHOQUOTE) in some $(ECHO) command parameters.
 >    ; NOTE: Until we don't add autodetection for OMF supporting GCC
 >versions, it will have to be selected manually using
 >HB_COMPILER=gccomf.
 >            Notice that for GCC 4.x this is obligatory since COFF
 >support is broken in these versions.
 >           Additional EMX* envvar options are left as an excercise for
 >the users, I intentionally didn't document these in INSTALL, as INSTALL
 >       servers as Harbour documentation, not 3rd party tools like GCC.

Congratulations for us

Now we are in second stage of adding support of OS/2 OMF
First stage: Add to SVN first entry of support, by others or maybe me
Second stage: Confirmations or adjustments required by specific needs of 
gcc.mk and hbmk2.prg
Third stage: rearrange and clean ups

I made first stage to put work publicaly available so other can 
test/review which only existed in my machine

One purpose was to remove waters at minimal, adding changes only in 
specific and limited points just to cover sufficient needs of OMF 
support. I tried not to affect Maurilio environment  :-)
For me hbmk2.prg is strange land so I put feet on carefully. I decided 
not to change more than necessary just putting values after existing ones.
With gcc.mk I am familiar due many tests

Now you made rearrange which cover exactly the needs specified
Revert my commit was not necessary, just to make some adjustment

I tested build with gcc335-a.out, gcc335-OMF, gcc433-OMF and all is 
working except for known errors

In general implementation is fine and follow the first stage guidelines

As I said I do not like HB_COMPILER=gccomf because is not a different 
compiler, just a feature of same compiler, but since you presented as 
gcc3/4 I saw is a consequence of HB_COMPILER requirements. You just 
follow requirements of your own implementation
Considered as an different compiler, which is not, force to own .mk 
file, own dirs, consideration in list of compilers, and so on
The good point is: it avoid entirely any filename collision

In OS/2 is usual to distribute packages containing both library formats
in same directories
Example:
-------------------
Directory of F:\mysql41\lib

18/01/05  8:49a       129,720      0 a---  libmysql41_dll.a
18/01/05  8:49a        68,096      0 a---  libmysql41_dll.lib
-------------------


For now HB_COMPILER=gccomf is doing HB_OS2_OMF work

And for autodetection, remember these facts even they are evidents
- Autodetection work if exist or not something to detect
- When OMF support was added to os2gcc, an switch was added: -Zomf and 
is "unavoidable". a.out was left as default
- A switch for same purpose in Harbour is unavoidable, even if we left 
a.out or OMF as default. The purpose is to state: use the other
- "Detection" to use OMF based in gcc files and/or gcc version is 
impossible. This specification does not exist there. Is a feature we can 
use or not at moment of gcc execution:
   Exist -Zomf: go for OMF path
   Does not exist -Zomf: go for a.out path
- We can set OMF as default, but considering backward compatibility, we 
need same swicth to say "use the other"
- I repeated, in previous time to do anything with Harbour we need "to 
tell Harbour to tell gcc to use OMF". Can be hard-wired in .mk files 
and/or environmental variables and/or a passed parameter and/or "new 
compiler"


Information in INSTALL is incorrect
====================
       --- GCC 4.x
       C:\usr\bin\gccenv.cmd
       set HB_COMPILER=gccomf
       os2-make
====================

C:\usr\bin\gccenv.cmd is default of gcc335
Using it with gcc4xx will set gcc335 environment

For gcc4xx must be any other, for example
       C:\usr\local433\gccenv.cmd

or to use parameters gccenv.cmd sPath sLinker
sLinker can be used to set EMXOMLD... variables

I suggest to remove this info. It belong to own user preferences to set 
gcc environment


I said in best friendly way: I warned you

- Alternative you presented is longer than mine and reach same goal but 
with greater effort
Using HB_OS2_OMF=yes I limited changes to controlled zones in gcc.mk and 
hbmk2.prg, so they are perfectly isolated
And you using HB_COMPILER=gccomf to simulate a new compiler by means of 
HB_COMPILER structure are forced to consider it (gccomf), for now and 
ever, in any reference to compilers list and cases, in "make" process 
and along entire hbmk2.prg
Fortunatelly hbmk2.prg is your land and you know it perfectly together 
with "make" process so you can make changes more safely than others

- You saw that "is not too much what we need" to include OS/2 OMF 
support. It is clearly defined.


Anyway, we made the big step, we are at second stage and implementations 
can be enhanced
Congratulations again


David Macias


From dmacias at mail.udg.mx  Fri Oct  2 08:42:22 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Oct  2 08:42:32 2009
Subject: [Harbour] Re: OS/2 cmdline hack removal
Message-ID: <4AC5F52E.3090003@mail.udg.mx>

Viktor, Maurilio:

 >Does anyone of you want to remove config/global/watcom.mk hacks
 >added to workaround recently fixed GNU Make bugs?

 >I haven't watcom installed; but I think that gcc on OS/2 has some hack
 >also wich I'll look at asap.

os2\gcc.mk and global\watcom.mk have similar hacks to deal with fixed 
Make problems

Recently I posted that I presented summary for OMF support before any 
"hacks removal" because maybe they can be used in new changes

We have pending problem with emxomf* and use of hacks can be useful still

Of course removal in config\watcom.mk can be done independently but I am 
expecting to do together with gcc.mk for comparison and cleanups in both 
sides together with tests

David Macias


From abe.buch at att.net  Fri Oct  2 08:42:38 2009
From: abe.buch at att.net (AbeB)
Date: Fri Oct  2 08:42:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <20091002115243.GA21975@uran.home.aster.pl>
References: <E1MprLO-00063j-K6@c3vjzd1.ch3.sourceforge.com>
	<4AB88DF5.7090704@dbtopas.lt> <4ABA2AB9.4020101@dbtopas.lt>
	<20090924102614.GA25988@uran.home.aster.pl>
	<d6fa31440909240915w76e61d0bv7b9985fd2752d6fc@mail.gmail.com>
	<A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu>
	<4AC21116.3070107@mweb.co.za>
	<20091002115243.GA21975@uran.home.aster.pl>
Message-ID: <1254487358421-3755135.post@n2.nabble.com>




Przemyslaw Czerpak wrote:
> 
> 
> 
> ....
> ....
> all these analysis with a short scan thru the source code. Wooh. 
> 
> 
>>I do not need such remote server for my own use - all my applications
>>are executed fully on the server side so I do not want to reduce it
>>to ADS like level.
> 
> How do you achieve that?
> 
>>In the past I started to work on NETRDD and I documented the
>>server and client part and defined basic communication protocol
>>but so far I haven't time to finish it. Seeing what happens with
>>my code in xHarbour I also do not find big motivation to finish
>>it and public as free OpenSource project but I also do not have
> 
> Missed that story. (wasn't Harboured then) 
> 
>>any precise plans about commercial releasing. 
> I Wiiiiiiish.
> 
> 
> Just simply I haven't
> taken the decision yet. Maybe I'll finish it and release as close
> source binary library which can be freely used with Harbour but
> only with applications which do not use any commercial libraries.
> Or maybe I'll invest much more time in it and try to write full
> RDBMS with transactions, SQL support and query optimizer and
> release it as commercial project. 
> 
> Sounds good too... I wiiiiiish.
> 
> 
> Best rgrds
> Abe.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-12593-trunk-harbour-tp3688876p3755135.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From sscc at mweb.co.za  Fri Oct  2 08:59:07 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Oct  2 08:59:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <20091002115243.GA21975@uran.home.aster.pl>
References: <E1MprLO-00063j-K6@c3vjzd1.ch3.sourceforge.com>	<4AB88DF5.7090704@dbtopas.lt>
	<4ABA2AB9.4020101@dbtopas.lt>	<20090924102614.GA25988@uran.home.aster.pl>	<d6fa31440909240915w76e61d0bv7b9985fd2752d6fc@mail.gmail.com>	<A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu>	<4AC21116.3070107@mweb.co.za>
	<20091002115243.GA21975@uran.home.aster.pl>
Message-ID: <4AC5F91B.2030203@mweb.co.za>

Przemyslaw Czerpak wrote:

> This is what I can see after rather short code look up mostly on
> client side.
> In summary to resolve these problems we will have to rewrite most
> of current LetoDB code dropping xHarbour and old Harbour support.
> I haven't analyzed this code very deeply but seems that we can keep
> only very small part of existing LetoDB code.
> For me it is much easier to create new project with such functionality
> from scratch then trying to update current LetoDB code. For sure it
> will take less time and I will make much less mistakes so I do not
> find big motivation to work on it. I know myself and if I start to
> update it then I'll end with completely rewritten code but using the
> same project name and original authors' copyrights.

That is a shame.

> I do not need such remote server for my own use - all my applications
> are executed fully on the server side so I do not want to reduce it
> to ADS like level.
> In the past I started to work on NETRDD and I documented the
> server and client part and defined basic communication protocol
> but so far I haven't time to finish it. Seeing what happens with
> my code in xHarbour I also do not find big motivation to finish
> it and public as free OpenSource project but I also do not have
> any precise plans about commercial releasing. Just simply I haven't
> taken the decision yet. Maybe I'll finish it and release as close
> source binary library which can be freely used with Harbour but
> only with applications which do not use any commercial libraries.
> Or maybe I'll invest much more time in it and try to write full
> RDBMS with transactions, SQL support and query optimizer and
> release it as commercial project. I do not know yet but I think
> I should inform you about it because maybe in the future I will
> not be on neutral position here so you should take your really
> own decision about LetoDB future in Harbour contrib code and my
> opinion and above text is only small help which you can ignore.

I personally would be willing to contribute monetarily, which of course, is an 
easy thing to say, until you see the price. I would like to hear the opinions of 
others in this regard. In the past, I have toyed with the idea of asking whether 
you would be open to such an idea, but refrained because I thought it might be rude.

On the assumption that you did follow a commercial release, I would ask that at 
whatever price, or license arrangement, that the source be made available. It is 
a great comfort knowing that should the worst come to the worst, there is some 
way to investigate and fix problems.

I see once again that your work has been incorporated in xHarbour without proper 
attribution (although I have not actually looked at the changelog - only the 
e-mails), so I sympathise with your reservations.

Regards
Alex
From druzus at users.sourceforge.net  Fri Oct  2 09:14:34 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Oct  2 09:14:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12636] trunk/harbour
Message-ID: <E1Mthxy-0003Am-5m@74yxhf1.ch3.sourceforge.com>

Revision: 12636
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12636&view=rev
Author:   druzus
Date:     2009-10-02 13:14:33 +0000 (Fri, 02 Oct 2009)

Log Message:
-----------
2009-10-02 15:14 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rdd/dbf1.c
    ! two fixes for 32bit record numbers

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rdd/dbf1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Fri Oct  2 10:53:49 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Oct  2 10:53:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12637] trunk/harbour
Message-ID: <E1MtjW1-0005Hm-VY@74yxhf1.ch3.sourceforge.com>

Revision: 12637
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12637&view=rev
Author:   druzus
Date:     2009-10-02 14:53:49 +0000 (Fri, 02 Oct 2009)

Log Message:
-----------
2009-10-02 16:53 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/mpkg_src.sh
    ! fixed default root path settings after moving the file from bin
      directory

  * harbour/include/hbdefs.h
    ! fixed Linux GCC 2.XX builds

  * harbour/harbour.spec
    ! added missing export in build settings

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/harbour.spec
    trunk/harbour/include/hbdefs.h
    trunk/harbour/mpkg_src.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From alxokhotnikov at gmail.com  Fri Oct  2 12:35:32 2009
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Fri Oct  2 12:35:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <20091002115243.GA21975@uran.home.aster.pl>
References: <E1MprLO-00063j-K6@c3vjzd1.ch3.sourceforge.com>
	<4AB88DF5.7090704@dbtopas.lt> <4ABA2AB9.4020101@dbtopas.lt>
	<20090924102614.GA25988@uran.home.aster.pl>
	<d6fa31440909240915w76e61d0bv7b9985fd2752d6fc@mail.gmail.com>
	<A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu>
	<4AC21116.3070107@mweb.co.za>
	<20091002115243.GA21975@uran.home.aster.pl>
Message-ID: <d6fa31440910020935i7eb67916x18f90e416be3672@mail.gmail.com>

Hi

Take as an axiom: in the harbour need open replacement ADS (for
multi-user environment) for those who still uses DBF and can not be
(not wants) to switch to SQL

2009/10/2 Przemyslaw Czerpak <druzus@acn.waw.pl>:
> Hi All,
>
> 1. it tries to use DBF record buffer but does not support all field types
> ? and features supported by core DBF* RDDs
> 2. it does not support timestamp values

The main types are (my opinion that this long enough), add the rest
later (for DBF, they are not critical)

> 3. numeric values in some operations like SEEK are converted to strings so
> ? they cannot be safely used with double values because such conversions
> ? round them to number of decimal places used to show numeric item on
> ? the screen

SEEK: for numeric fields to translate a string based on the dimension
of the field (no loss of accuracy)

> 4. it does not optimize multirecord skips on filtered or set_deleted
> ? workareas
> 5. it does not use aliases on server side so expressions sent to server
> ? cannot use aliases too (.f. index key/for, filters, ...)
> 6. relations are implemented only on client side and this code is not
> ? finished - it needs fixes in many places,
> ? missing server side relations seriously reduce functionality and
> ? performance in programs which use aliases though without server side
> ? support for aliases it still not be fully usable.

Using ADS almost the same :)

> 7. it does not respect many of _SET_* settings and also does not inform
> ? server about settings ?like _SET_DATEFORMAT, _SET_EPOCH, _SET_TIMEFORMAT,
> ? _SET_DECIMALS, _SET_FIXED, _SET_EXACT, ... which are important for
> ? correct execution of user expressions on server side

I think to finish (or customize a specific case) will not take much time

> 8. some important RDDI_*, DBI_*, DBOI_*, DBRI_*, DBS_* actions are not
> ? implemented at all or are implemented wrongly what breaks some other
> ? code, i.e. there is no DBI_GETLOCKARRAY so dbRlockList() function does
> ? not work or it informs GT that it uses DBF compatible record buffer
> ? and can transfer whole records but such functionality is not implemented
> ? so optimized by RDD code COPY TO ... and APPEND FROM ... operations
> ? fail
> 9. it tries to optimize some operations like dbAppend() but it's done
> ? in unsafe way which is not compatible with Clipper RDDs, i.e. dbAppend()
> ? is buffered and always return success though other client may set
> ? FLOCK() on the table so it will fail later when such appended record
> ? is sent to the server. For some programs it introduce other bugs
> ? because some algorithms may use APPEND rlocks for synchronization
> ? and to protect other stations against setting FLOCK so such behavior
> ? will causes total desynchronization

Confirm

> 10. in some methods it does not send all parameters and settings to server
> ? so some operations may not work as expected, i.e. important ordCondSet()
> ? settings are not transfer to server side
> 11. some methods are implemented as dummy ones what only disables error
> ? messages when user tries to use them so he does not even know that
> ? they failed silently,
> ? such things have to be eliminated and I hope it's only unfinished code
> 12. some operations are hacked to work only in some very limited
> ? situations, i.e. DBOI_KEYADD/DBOI_KEYDELETE works only with string
> ? key values which does not have any embedded 0
> 13. some things are implemented wrongly, i.e. if current record is
> ? locked (unlocked) then dbRlock( <nRecXX> ) (dbRUnLock( <nRecXX> ))
> ? calls are ignored
> 14. the transaction code also looks like unfinished, now it makes only
> ? one thing: it delays sending modifications to the server side with
> ? only very basic support for modifying the same record more then once,
> ? it may be usable in some applications but probably breaks most of
> ? programs which were not designed from beginning to work with RDDs where
> ? modifications are not visible during updates, missing documentation
> ? for exact isolation level causes that such transactions can be safely
> ? used only by LETO code authors who well know the internal behavior
> ? and created .prg code compatible with it
> 15. it's not MT safe and needs very serious internal modifications
> ? to work with user MT applications. As I can see so far it's
> ? not ever defined how it should be done so it's necessary to
> ? design such model from scratch.
> 16. it encodes/decodes messages using sprintf()/sscanf() functions
> ? what introduce some additional problems, i.e.:
> ? - this is very slow method of data encoding and decoding though
> ? ? in comparison to TCP/IP delay it's not critical
> ? - C compilers quite often provide *printf()/*scanf() functions
> ? ? in two version for ST and MT modes so for MT mode it's very important
> ? ? to use MT safe CRTL and leto code have to be always compiled with MT
> ? ? C compiler flags. We have our own hb_sprintf() function which is
> ? ? fully reentrant safe but we do not support hb_sscanf() so it's
> ? ? potential problem
> ? - it's very unsafe and hard to protect against buffer overflow and
> ? ? current leto code has a lot of potential buffer overflows which
> ? ? can cause server or client crash or hangup if user pass some data
> ? ? exploiting them
> ? - these functions operate on text data but LetoDB needs to transfer also
> ? ? binary data so programmers have to mix text and binary data what
> ? ? complicates message format and is source of some mistakes/bugs,
> ? ? now some messages are wrongly encoded what may cause server or
> ? ? client hangup

I did not look so deep

> 17. I do not see any documentation for the protocol, looks that each
> ? new message is added "as is" to client and server code, it means
> ? that even now it's hard to introduce extensions without careful
> ? checking of existing code to avoid possible conflicts,
> 18. I do not see any documentation which divides actions on client
> ? and server side so it's hard to add the extensions keeping
> ? original author vision, in the moment when such projects
> ? stops to be single author code such at least very basic
> ? documentation is a must, otherwise we will end with set of
> ? functions and RDD methods often replicating existing functionality
> ? because each developer tried to resolved his local problems in
> ? his own way, it also causes that bug fixing is very hard because
> ? developers seeing that sth is potentially wrong have to analyze
> ? whole code for possible workarounds in different places, i.e.
> ? I'm not able to verify everything what I see after looking at
> ? this code without investing day or two in deep analyzing

And that, in the harbour is not so?
I could not find documentation on the RDD (as in the rest of the
implementation of what either), but this does not prevent me to use
the harbour

> 19. it does not use hbsocket.h API so it may have portability problems
> ? and it does not address some problems which existed in original
> ? Giancarlo Inet* implementation and were copied to LetoDB
> 20. server uses internally own threads but does not use hbthread.h API
> ? what creates problems with portability and adding some extensions
> ? in the future, i.e. simultaneous executing .prg code by such threads
> ? is impossible now, it also blocks using HVM threads which could
> ? resolve important problems in current server implementation

Maybe, maybe not

> 21. I do not understand some parts of server code, i.e. there
> ? is an option to reuse existing tables between connections but
> ? why it was added? It cannot work without disabling most of
> ? server side processing because there is only single area
> ? structure so everything have to be shared between clients
> ? what creates series of problems, i.e. filter set by one client
> ? changes other client skip/seek operations, etc.
> ? I cannot even say that it is work in progress because it will
> ? never be fully functional option

Checked - everything is working properly

> 22. it keeps support for some old Harbour and xHarbour compilers
> ? what in few places makes the code more complicated and less
> ? readable then necessary, in some cases like own non HVM threads
> ? it seriously limits farther developing so such support have to be
> ? removed if we want to resolve all above problems
>
> best regards,
> Przemek

As a result, there is no alternative to ADS (DBFCDX use the network impossible)
and are forced to buy xHarbour (where it is more or less available)

All the above is my personal opinion

LetoDB - works (may not always correctly, but can be used)
I vote for inclusion in the harbour

Best regards,
Alexander
From mbelgrano at deltain.it  Fri Oct  2 13:16:52 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Oct  2 13:16:59 2009
Subject: [Harbour] Will G-WAN or WT open web to harbour?
Message-ID: <609353e70910021016x44d01858n539a5613df2395a7@mail.gmail.com>

Will G-WAN or WT  open web to harbour?
G-WAN is an?application server?(hence the other 50 KB). Its 'edit &
play' ANSI C89
TrustLeap has released the G-WAN application server in July 2009.
TrustLeap G-WAN, which runs in user-mode, offers 'edit & play'
scripted C servlets that match Microsoft's IIS 7.0 static pages
performances (which run in kernel-mode).
http://trustleap.com/

Wt is an open source web application framework for the C++ programming
language developed by Emweb. It has an API that resembles the C++
desktop application library Qt (toolkit), using also a widget tree and
event-driven signal/slot programming model.
http://www.webtoolkit.eu/wt


--
Massimo Belgrano
From harbour.01 at syenar.hu  Fri Oct  2 13:47:14 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Oct  2 13:47:24 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12634] trunk/harbour
In-Reply-To: <4AC5F24E.80900@mail.udg.mx>
References: <4AC5F24E.80900@mail.udg.mx>
Message-ID: <EC41D3AF-96CB-4464-B9C6-B7230890EBC0@syenar.hu>

> As I said I do not like HB_COMPILER=gccomf because is not a  
> different compiler, just a feature of same compiler, but since you  
> presented as gcc3/4 I saw is a consequence of HB_COMPILER  
> requirements. You just follow requirements of your own implementation
> Considered as an different compiler, which is not, force to own .mk  
> file, own dirs, consideration in list of compilers, and so on
> The good point is: it avoid entirely any filename collision

It's not a different compiler but the same in a different mode  
altogether,
and/or different version.

> In OS/2 is usual to distribute packages containing both library  
> formats
> in same directories
> Example:
> -------------------
> Directory of F:\mysql41\lib
>
> 18/01/05  8:49a       129,720      0 a---  libmysql41_dll.a
> 18/01/05  8:49a        68,096      0 a---  libmysql41_dll.lib
> -------------------
>
>
> For now HB_COMPILER=gccomf is doing HB_OS2_OMF work

Yes, and it's a big difference, since you added a new "dimension"
to the existing set of settings, while I've only extended existing
dimensions with a new value.

> And for autodetection, remember these facts even they are evidents
> - Autodetection work if exist or not something to detect
> - When OMF support was added to os2gcc, an switch was added: -Zomf  
> and is "unavoidable". a.out was left as default

Default mode doesn't work in GCC 4.x. Kinda strange to me,
and this leaves this while discussion rather theoretic.

> - A switch for same purpose in Harbour is unavoidable, even if we  
> left a.out or OMF as default. The purpose is to state: use the other

"a.out" is COFF.

> - "Detection" to use OMF based in gcc files and/or gcc version is  
> impossible. This specification does not exist there. Is a feature we  
> can use or not at moment of gcc execution:
>  Exist -Zomf: go for OMF path

If you mean to check -Zomf inside HB_USER_CFLAGS and act upon
that, it's doable without introducing a new explicit setting,
although it doesn't really change anything on the end-result
side: You've just made the switch hidden.

> Information in INSTALL is incorrect
> ====================
>      --- GCC 4.x
>      C:\usr\bin\gccenv.cmd
>      set HB_COMPILER=gccomf
>      os2-make
> ====================
>
> C:\usr\bin\gccenv.cmd is default of gcc335
> Using it with gcc4xx will set gcc335 environment
>
> For gcc4xx must be any other, for example
>      C:\usr\local433\gccenv.cmd
>
> or to use parameters gccenv.cmd sPath sLinker
> sLinker can be used to set EMXOMLD... variables
>
> I suggest to remove this info. It belong to own user preferences to  
> set gcc environment

These are examples. All of them are meant to reflect "typical"
cases. Not all cases, and not cases to as-is in any setup.
They are meant to give an idea how to start, with the hope that
it works in a "typical" setup.

> I said in best friendly way: I warned you
>
> - Alternative you presented is longer than mine and reach same goal  
> but with greater effort
> Using HB_OS2_OMF=yes I limited changes to controlled zones in gcc.mk  
> and hbmk2.prg, so they are perfectly isolated
> And you using HB_COMPILER=gccomf to simulate a new compiler by means  
> of HB_COMPILER structure are forced to consider it (gccomf), for now  
> and ever, in any reference to compilers list and cases, in "make"  
> process and along entire hbmk2.prg
> Fortunatelly hbmk2.prg is your land and you know it perfectly  
> together with "make" process so you can make changes more safely  
> than others

"longer", "easier". Do you want to compare implementations solely by
number of bytes added? ;)

Finally and most importantly:

I didn't understand your words on autodetection. Since GCC 4.x ONLY
supports gccomf mode, it would be logical to detect this version (by
checking some files which are present in 4.x, but not present in < 4.x),
and select gccomf BY DEFAULT in this case. This is just to aid users.
This still allows to select the other mode by setting HB_COMPILER  
manually.

[ In case you're expecting that COFF mode will work again in 4.x once in
the future, we could still do autodetection and tune default object mode
depending on GCC version used, but in this case OS/2 users should decide
which should be the preferred object mode. ]

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Oct  2 14:07:25 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Oct  2 14:07:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <20091002115243.GA21975@uran.home.aster.pl>
References: <E1MprLO-00063j-K6@c3vjzd1.ch3.sourceforge.com>
	<4AB88DF5.7090704@dbtopas.lt> <4ABA2AB9.4020101@dbtopas.lt>
	<20090924102614.GA25988@uran.home.aster.pl>
	<d6fa31440909240915w76e61d0bv7b9985fd2752d6fc@mail.gmail.com>
	<A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu>
	<4AC21116.3070107@mweb.co.za>
	<20091002115243.GA21975@uran.home.aster.pl>
Message-ID: <4A532D47-F71E-4C4E-AF22-C9C022CE431D@syenar.hu>

Hi Przemek and All,

Thanks for the insightful comments and detailed code analysis.

For me the conclusion for now is that while it would be nice
to "refactor" (hate the word) LetoDB code so that it 'becomes'
Harbour quality and most probably a viable FOSS ADS replacement,
this whole work would effectively done by you (Przemek), and
your POV and concerns are perfectly understandable to me. If
you won't work on it, I see not much point having it in our
repository. To me the code looks quite complicated to even
cleanup, so while I could contribute in this area, I'm not sure
it would give huge results/benefits in this case, since the
problems to solve are much deeper.

So overall, simply having a copy of LetoDB inside our contrib
area doesn't have a point.

However sad this is. I'd be also happy to have such "NETRDD",
but maybe it should be reached by some other means.

[ I'd be even happier with a GTNET driver though ;) Which,
seems much simpler to implement and even more efficient, but
only for CUI apps. ]

Brgds,
Viktor

On 2009 Oct 2, at 13:52, Przemyslaw Czerpak wrote:

> Hi All,
>
> First I think that Alexander should comment this subject not me.
> So far I was not interested in LetoDB code anyhow seeing your messages
> I invested some time to look at this code closer and I've found that
> there are some problems which have tro be fixed:
>
> 1. it tries to use DBF record buffer but does not support all field  
> types
>   and features supported by core DBF* RDDs
> 2. it does not support timestamp values
> 3. numeric values in some operations like SEEK are converted to  
> strings so
>   they cannot be safely used with double values because such  
> conversions
>   round them to number of decimal places used to show numeric item on
>   the screen
> 4. it does not optimize multirecord skips on filtered or set_deleted
>   workareas
> 5. it does not use aliases on server side so expressions sent to  
> server
>   cannot use aliases too (.f. index key/for, filters, ...)
> 6. relations are implemented only on client side and this code is not
>   finished - it needs fixes in many places,
>   missing server side relations seriously reduce functionality and
>   performance in programs which use aliases though without server side
>   support for aliases it still not be fully usable.
> 7. it does not respect many of _SET_* settings and also does not  
> inform
>   server about settings  like _SET_DATEFORMAT, _SET_EPOCH,  
> _SET_TIMEFORMAT,
>   _SET_DECIMALS, _SET_FIXED, _SET_EXACT, ... which are important for
>   correct execution of user expressions on server side
> 8. some important RDDI_*, DBI_*, DBOI_*, DBRI_*, DBS_* actions are not
>   implemented at all or are implemented wrongly what breaks some other
>   code, i.e. there is no DBI_GETLOCKARRAY so dbRlockList() function  
> does
>   not work or it informs GT that it uses DBF compatible record buffer
>   and can transfer whole records but such functionality is not  
> implemented
>   so optimized by RDD code COPY TO ... and APPEND FROM ... operations
>   fail
> 9. it tries to optimize some operations like dbAppend() but it's done
>   in unsafe way which is not compatible with Clipper RDDs, i.e.  
> dbAppend()
>   is buffered and always return success though other client may set
>   FLOCK() on the table so it will fail later when such appended record
>   is sent to the server. For some programs it introduce other bugs
>   because some algorithms may use APPEND rlocks for synchronization
>   and to protect other stations against setting FLOCK so such behavior
>   will causes total desynchronization
> 10. in some methods it does not send all parameters and settings to  
> server
>   so some operations may not work as expected, i.e. important  
> ordCondSet()
>   settings are not transfer to server side
> 11. some methods are implemented as dummy ones what only disables  
> error
>   messages when user tries to use them so he does not even know that
>   they failed silently,
>   such things have to be eliminated and I hope it's only unfinished  
> code
> 12. some operations are hacked to work only in some very limited
>   situations, i.e. DBOI_KEYADD/DBOI_KEYDELETE works only with string
>   key values which does not have any embedded 0
> 13. some things are implemented wrongly, i.e. if current record is
>   locked (unlocked) then dbRlock( <nRecXX> ) (dbRUnLock( <nRecXX> ))
>   calls are ignored
> 14. the transaction code also looks like unfinished, now it makes only
>   one thing: it delays sending modifications to the server side with
>   only very basic support for modifying the same record more then  
> once,
>   it may be usable in some applications but probably breaks most of
>   programs which were not designed from beginning to work with RDDs  
> where
>   modifications are not visible during updates, missing documentation
>   for exact isolation level causes that such transactions can be  
> safely
>   used only by LETO code authors who well know the internal behavior
>   and created .prg code compatible with it
> 15. it's not MT safe and needs very serious internal modifications
>   to work with user MT applications. As I can see so far it's
>   not ever defined how it should be done so it's necessary to
>   design such model from scratch.
> 16. it encodes/decodes messages using sprintf()/sscanf() functions
>   what introduce some additional problems, i.e.:
>   - this is very slow method of data encoding and decoding though
>     in comparison to TCP/IP delay it's not critical
>   - C compilers quite often provide *printf()/*scanf() functions
>     in two version for ST and MT modes so for MT mode it's very  
> important
>     to use MT safe CRTL and leto code have to be always compiled  
> with MT
>     C compiler flags. We have our own hb_sprintf() function which is
>     fully reentrant safe but we do not support hb_sscanf() so it's
>     potential problem
>   - it's very unsafe and hard to protect against buffer overflow and
>     current leto code has a lot of potential buffer overflows which
>     can cause server or client crash or hangup if user pass some data
>     exploiting them
>   - these functions operate on text data but LetoDB needs to  
> transfer also
>     binary data so programmers have to mix text and binary data what
>     complicates message format and is source of some mistakes/bugs,
>     now some messages are wrongly encoded what may cause server or
>     client hangup
> 17. I do not see any documentation for the protocol, looks that each
>   new message is added "as is" to client and server code, it means
>   that even now it's hard to introduce extensions without careful
>   checking of existing code to avoid possible conflicts,
> 18. I do not see any documentation which divides actions on client
>   and server side so it's hard to add the extensions keeping
>   original author vision, in the moment when such projects
>   stops to be single author code such at least very basic
>   documentation is a must, otherwise we will end with set of
>   functions and RDD methods often replicating existing functionality
>   because each developer tried to resolved his local problems in
>   his own way, it also causes that bug fixing is very hard because
>   developers seeing that sth is potentially wrong have to analyze
>   whole code for possible workarounds in different places, i.e.
>   I'm not able to verify everything what I see after looking at
>   this code without investing day or two in deep analyzing
> 19. it does not use hbsocket.h API so it may have portability problems
>   and it does not address some problems which existed in original
>   Giancarlo Inet* implementation and were copied to LetoDB
> 20. server uses internally own threads but does not use hbthread.h API
>   what creates problems with portability and adding some extensions
>   in the future, i.e. simultaneous executing .prg code by such threads
>   is impossible now, it also blocks using HVM threads which could
>   resolve important problems in current server implementation
> 21. I do not understand some parts of server code, i.e. there
>   is an option to reuse existing tables between connections but
>   why it was added? It cannot work without disabling most of
>   server side processing because there is only single area
>   structure so everything have to be shared between clients
>   what creates series of problems, i.e. filter set by one client
>   changes other client skip/seek operations, etc.
>   I cannot even say that it is work in progress because it will
>   never be fully functional option
> 22. it keeps support for some old Harbour and xHarbour compilers
>   what in few places makes the code more complicated and less
>   readable then necessary, in some cases like own non HVM threads
>   it seriously limits farther developing so such support have to be
>   removed if we want to resolve all above problems
>
> This is what I can see after rather short code look up mostly on
> client side.
> In summary to resolve these problems we will have to rewrite most
> of current LetoDB code dropping xHarbour and old Harbour support.
> I haven't analyzed this code very deeply but seems that we can keep
> only very small part of existing LetoDB code.
> For me it is much easier to create new project with such functionality
> from scratch then trying to update current LetoDB code. For sure it
> will take less time and I will make much less mistakes so I do not
> find big motivation to work on it. I know myself and if I start to
> update it then I'll end with completely rewritten code but using the
> same project name and original authors' copyrights.
>
> I do not need such remote server for my own use - all my applications
> are executed fully on the server side so I do not want to reduce it
> to ADS like level.
> In the past I started to work on NETRDD and I documented the
> server and client part and defined basic communication protocol
> but so far I haven't time to finish it. Seeing what happens with
> my code in xHarbour I also do not find big motivation to finish
> it and public as free OpenSource project but I also do not have
> any precise plans about commercial releasing. Just simply I haven't
> taken the decision yet. Maybe I'll finish it and release as close
> source binary library which can be freely used with Harbour but
> only with applications which do not use any commercial libraries.
> Or maybe I'll invest much more time in it and try to write full
> RDBMS with transactions, SQL support and query optimizer and
> release it as commercial project. I do not know yet but I think
> I should inform you about it because maybe in the future I will
> not be on neutral position here so you should take your really
> own decision about LetoDB future in Harbour contrib code and my
> opinion and above text is only small help which you can ignore.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Fri Oct  2 14:53:57 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Oct  2 14:54:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <4A532D47-F71E-4C4E-AF22-C9C022CE431D@syenar.hu>
References: <E1MprLO-00063j-K6@c3vjzd1.ch3.sourceforge.com> 
	<4AB88DF5.7090704@dbtopas.lt> <4ABA2AB9.4020101@dbtopas.lt> 
	<20090924102614.GA25988@uran.home.aster.pl>
	<d6fa31440909240915w76e61d0bv7b9985fd2752d6fc@mail.gmail.com> 
	<A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu>
	<4AC21116.3070107@mweb.co.za> 
	<20091002115243.GA21975@uran.home.aster.pl>
	<4A532D47-F71E-4C4E-AF22-C9C022CE431D@syenar.hu>
Message-ID: <609353e70910021153w6b96236eted75063a586acde9@mail.gmail.com>

2009/10/2 Viktor Szak?ts <harbour.01@syenar.hu>:
> However sad this is. I'd be also happy to have such "NETRDD",
> but maybe it should be reached by some other means.
+1
But also a commercial product by Przemek will be rock
fullRDBMS with transactions, SQL support and query optimizer


 Seeing what happens with Przemek's code in xHarbour we must find a solution
Possible that is not possible a special Exception to Harbour License?
Is Denied use this code in another compiler


> [ I'd be even happier with a GTNET driver though ;) Which,
> seems much simpler to implement and even more efficient, but
> only for CUI apps. ]
+1++
GT net will open this door and may be that other product like Vianemo
product will extend

-- 
Massimo Belgrano
From bedipritpal at hotmail.com  Fri Oct  2 17:47:39 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Oct  2 17:47:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <20091002115243.GA21975@uran.home.aster.pl>
References: <E1MprLO-00063j-K6@c3vjzd1.ch3.sourceforge.com>
	<4AB88DF5.7090704@dbtopas.lt> <4ABA2AB9.4020101@dbtopas.lt>
	<20090924102614.GA25988@uran.home.aster.pl>
	<d6fa31440909240915w76e61d0bv7b9985fd2752d6fc@mail.gmail.com>
	<A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu>
	<4AC21116.3070107@mweb.co.za>
	<20091002115243.GA21975@uran.home.aster.pl>
Message-ID: <25722081.post@talk.nabble.com>


Hello Przemek


Przemyslaw Czerpak-2 wrote:
> 
> This is what I can see after rather short code look up mostly on
> client side.
> In summary to resolve these problems we will have to rewrite most
> of current LetoDB code dropping xHarbour and old Harbour support.
> I haven't analyzed this code very deeply but seems that we can keep
> only very small part of existing LetoDB code.
> For me it is much easier to create new project with such functionality
> from scratch then trying to update current LetoDB code. For sure it
> will take less time and I will make much less mistakes so I do not
> find big motivation to work on it. I know myself and if I start to
> update it then I'll end with completely rewritten code but using the
> same project name and original authors' copyrights.
> 

Absolutely correct assertion. 



> I do not need such remote server for my own use - all my applications
> are executed fully on the server side so I do not want to reduce it
> to ADS like level.
> 

The whole Harbour community knows about you and 
your capabilities, and know it well. 

Having said that, whatever you have contributed to Harbour till date 
may be comprising a small part of your projects, but still you contributed, 
contributed for the sake of creativity and a with a great sense to provide
a stable platform to your fellow developers, and we all feel indebted
for it, thank you.



> In the past I started to work on NETRDD and I documented the
> server and client part and defined basic communication protocol
> but so far I haven't time to finish it. Seeing what happens with
> my code in xHarbour I also do not find big motivation to finish
> it and public as free OpenSource project but I also do not have
> any precise plans about commercial releasing. Just simply I haven't
> taken the decision yet. Maybe I'll finish it and release as close
> source binary library which can be freely used with Harbour but
> only with applications which do not use any commercial libraries.
> Or maybe I'll invest much more time in it and try to write full
> RDBMS with transactions, SQL support and query optimizer and
> release it as commercial project. I do not know yet but I think
> I should inform you about it because maybe in the future I will
> not be on neutral position here so you should take your really
> own decision about LetoDB future in Harbour contrib code and my
> opinion and above text is only small help which you can ignore.
> 

We know your concerns and which are right ones.
But still community is looking at you with great aspirations and 
hopes to realize the dream of a remote rdd, which, only and only 
you can bring to fruitation. It does not matter how you would 
like to publish it, free open-source, free closed-source, or, 
commercial open/closed-source, but it MATTERS that you just 
start it and let us make optimistic about our futures. 

Again, please note that, Harbour community is indebted 
to your all great contributions...

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12593--trunk-harbour-tp25551911p25722081.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From jerryfinuliar at yahoo.com  Fri Oct  2 20:19:10 2009
From: jerryfinuliar at yahoo.com (Jerry Finuliar via Yahoo!)
Date: Fri Oct  2 20:19:16 2009
Subject: [Harbour] Jerry Finuliar invites you to connect
Message-ID: <792c351adf45967276a97ec6d30a4b2b@ft1.msg.mud.yahoo.com>

Join Jerry Finuliar on Yahoo! Messenger.

Hi! Come join me on Yahoo! Messenger so we can chat, share files, watch videos and more.

Stay in the loop with all your friends.
Get started : http://invite.msg.yahoo.com/invite?op=accept&intl=ph&sig=K..o9KhLuelj0LnjIr6kgcvTeDJeSZeu0DngJFtHCEMoyUjfiFHYnupsuhOO

* Stay connected at home, at work, or on the go
* Have fun with games, emoticons, and more
* Join a community of over 100 million people from around the world

Join Your Friends : http://invite.msg.yahoo.com/invite?op=accept&intl=ph&sig=K..o9KhLuelj0LnjIr6kgcvTeDJeSZeu0DngJFtHCEMoyUjfiFHYnupsuhOO

--
this email was sent to you by an automated system - please do not reply directly

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091002/b0e419e7/attachment.html
From alxokhotnikov at gmail.com  Sat Oct  3 01:11:14 2009
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Sat Oct  3 01:11:22 2009
Subject: [Harbour] hbxbp
Message-ID: <d6fa31440910022211q5988cfdco430a97ab98e16e85@mail.gmail.com>

Hi Pritpal

After last commit 12637 (linux and windows)

In hbxbp/test

Unrecoverable error 6005: Exception SIGSEGV at address 0x8
Called from QT_CONNECT_EVENT(0)
Called from XBPDRAWINGAREA:CONNECTEVENT(0) in ../../../xbpwindow.prg
Called from XBPDRAWINGAREA:CONNECTWINDOWEVENTS(0) in ../../../xbpwindow.prg
Called from XBPDRAWINGAREA:CREATE(0) in ../../../xbpdialog.prg
Called from XBPDIALOG:CREATE(0) in ../../../xbpdialog.prg
Called from GUISTDDIALOG(312) in demoxbp.prg
Called from BUILDADIALOG(117) in demoxbp.prg
Called from _BUILDADIALOG(106) in demoxbp.prg
Called from MAIN(96) in demoxbp.prg

Best regards
Alexander
From vouchcac at users.sourceforge.net  Sat Oct  3 02:40:06 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Oct  3 02:40:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12638] trunk/harbour
Message-ID: <E1MtyHm-0003po-2K@3kljzd1.ch3.sourceforge.com>

Revision: 12638
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12638&view=rev
Author:   vouchcac
Date:     2009-10-03 06:40:05 +0000 (Sat, 03 Oct 2009)

Log Message:
-----------
2009-10-02 23:35 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbpappevent.prg
  * contrib/hbxbp/xbpbrowse.prg
  * contrib/hbxbp/xbpdialog.prg
  * contrib/hbxbp/xbpgeneric.prg
  * contrib/hbxbp/xbpwindow.prg
    ! Changes to reflect modifications in hbqt.lib where QMainWindow()
      is subclassed to catch and fine-tune MT windows and memory management.
      This commit had to be along previous one but somehow I skipped.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/xbpappevent.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbpdialog.prg
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From alxokhotnikov at gmail.com  Sat Oct  3 03:06:22 2009
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Sat Oct  3 03:06:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12638] trunk/harbour
In-Reply-To: <E1MtyHm-0003po-2K@3kljzd1.ch3.sourceforge.com>
References: <E1MtyHm-0003po-2K@3kljzd1.ch3.sourceforge.com>
Message-ID: <d6fa31440910030006g33433578pee3380043e42379@mail.gmail.com>

Hi

Thank you

but now when you close the window DemoXbp falls

Unrecoverable error 6005: Exception SIGSEGV at address 0x1010
Called from QT_QEVENTLOOP_PROCESSEVENTS(0)
Called from (b)QEVENTLOOP(0) in ../../../TQEventLoop.prg
Called from QEVENTLOOP:PROCESSEVENTS(0) in ../../../TQEventLoop.prg
Called from APPEVENT(0) in ../../../xbpgeneric.prg
Called from BUILDADIALOG(201) in demoxbp.prg
Called from _BUILDADIALOG(106) in demoxbp.prg
Called from MAIN(96) in demoxbp.prg

2009/10/3  <vouchcac@users.sourceforge.net>:
> Revision: 12638
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12638&view=rev
> Author: ? vouchcac
> Date: ? ? 2009-10-03 06:40:05 +0000 (Sat, 03 Oct 2009)
>
> Log Message:
> -----------
> 2009-10-02 23:35 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> ?* contrib/hbxbp/xbpappevent.prg
> ?* contrib/hbxbp/xbpbrowse.prg
> ?* contrib/hbxbp/xbpdialog.prg
> ?* contrib/hbxbp/xbpgeneric.prg
> ?* contrib/hbxbp/xbpwindow.prg
> ? ?! Changes to reflect modifications in hbqt.lib where QMainWindow()
> ? ? ?is subclassed to catch and fine-tune MT windows and memory management.
> ? ? ?This commit had to be along previous one but somehow I skipped.
From vszakats at users.sourceforge.net  Sat Oct  3 07:25:32 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Oct  3 07:25:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12639] trunk/harbour
Message-ID: <E1Mu2k0-0000nW-2c@3kljzd1.ch3.sourceforge.com>

Revision: 12639
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12639&view=rev
Author:   vszakats
Date:     2009-10-03 11:25:30 +0000 (Sat, 03 Oct 2009)

Log Message:
-----------
2009-10-03 13:21 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Added MSVC Itanium build example.
    + Added generic build instructions/advices for Windows x64 hosts.
    + Added build examples for Windows x64 hosts.
      (most of the 32-bit Windows examples work as is, so I've 
      only added a few where there are differences and which I've 
      tested)
      NOTE: x64 build of mingw32-make isn't used in these 
            examples yet.
    ! Minor fixes to OS/2 build examples.

  * ChangeLog
    ! Few typos.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Sat Oct  3 09:06:14 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sat Oct  3 09:06:37 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12634] trunk/harbour
Message-ID: <4AC74C46.7070904@mail.udg.mx>

Viktor:

>It's not a different compiler but the same in a different mode
>altogether, and/or different version.

>Yes, and it's a big difference, since you added a new "dimension"
>to the existing set of settings, while I've only extended existing
>dimensions with a new value.

Do not fool ourselves
HB_COMPILER=gccomf is an "virtual" compiler managed by your HB_COMPILER
structure forced to maintainance in compilers list/cases

You applied this alternative for many reasons, firstly:
- HB_COMPILER structure can do it
- You know how to implement it
- You are worried about "compilers" filenames collision
- You rejected my "new dimension" proposal even it is perfectly controlled

For now HB_COMPILER=gccomf is doing HB_OS2_OMF work


>Default mode doesn't work in GCC 4.x. Kinda strange to me,
>and this leaves this while discussion rather theoretic.

Is easy to understand, see below

>If you mean to check -Zomf inside HB_USER_CFLAGS and act upon
>that, it's doable without introducing a new explicit setting,
>although it doesn't really change anything on the end-result
>side: You've just made the switch hidden.

See below


>>      --- GCC 4.x
>>      C:\usr\bin\gccenv.cmd
>>      set HB_COMPILER=gccomf
>>      os2-make

>These are examples. All of them are meant to reflect "typical"
>cases. Not all cases, and not cases to as-is in any setup.
>They are meant to give an idea how to start, with the hope that
>it works in a "typical" setup.

Is wrong information which must be fixed or droped

I suggest you to use info I included in revision 12630 which cover our
two OS/2 specific cases, replacing HB_OS2_OMF with HB_COMPILER

Updated info: your revision 12639 fixes partially
c:\usr\local433\gccenv.cmd does not exist. User must refer to included
examples to set environment or to use an modified gccenv.cmd, mine is
gccenv433.cmd
Drop that info and preferably include my revision 12630 info, it does
not lead to wrong compiler environment settings and lead easily to OMF use


>"longer", "easier". Do you want to compare implementations solely by
>number of bytes added? ;)

Is stupid to use that measure   :-)

>Finally and most importantly:

>I didn't understand your words on autodetection. Since GCC 4.x ONLY
>supports gccomf mode, it would be logical to detect this version (by
>checking some files which are present in 4.x, but not present in <
>4.x), and select gccomf BY DEFAULT in this case. This is just to aid
>users. This still allows to select the other mode by setting
>HB_COMPILER manually.

>[ In case you're expecting that COFF mode will work again in 4.x once
>in the future, we could still do autodetection and tune default object
>mode depending on GCC version used, but in this case OS/2 users should
>decide which should be the preferred object mode. ]

I presented a lot of info and some of them you confirmed when you made
your search

- When gcc was ported to OS/2 it only support a.out type
- Harbour for OS/2 was based in that scenario
- OMF type is native to OS/2
- OS/2 gcc porters/developers added some tools to convert a.out to OMF
"library".a is converted to "library".lib using emxomf.exe
- A lot of OS/2-gcc developers continued work to add support of OMF to
os2gcc. In the path they enhanced many tools and added others
- An "unavoidable" switch was added to specify new alternative: -Zomf
and of course some other necessary values
- OS/2-gcc developers continued trying for OMF for a clear reason: reach
a better scenario than a.out
It was not a vague purpose
- Many of these works were added or made within Innotek OS/2-gcc version
around 2003-2005
Innotek is the same company which created VirtualBox now property of Sun
Some of their developers are OS/2 experts
Mainly of these works are now contained/mantained/available in netlabs.org
- As they were trying to get the best with OMF, they enhanced some tools
to achieve it, for example WL.exe based in WLINK
- For 2005-2007 all work has been done and OMF support reach maturity

- Many OS/2 developers moved to this new scenario: now OS/2 developers
are centered on OS/2 OMF and a.out is legacy

- a.out continue historically by default and -Zomf are unavoidable
Rest of settings for OMF are optional

- As they moved to OMF converted their scripts for OMF using
"unavoidable -Zomf" leaving optionally a.out support as legacy
- They are accustomed to OMF and to use -Zomf does not cause
nuisance

- When gcc4xx arrived they found problem for a.out with emxbind. But who
cares ? They are doing things very well with OMF for years
Just continued using OMF and converted pending scripts from a.out

- Officially os2gcc keep with a.out as default but in practice work is
using OMF
Nobody is worried to change it. Just use unavoidable -Zomf and all is done
They will fix emxbind for gcc4xx ? I do not think so, they are no need
For these reasons are not strange as you think

- They need to "mark" OMF as default in gcc4xx because it fail with
a.out ? No. Just use "unavoidable -Zomf" as they are doing for years
For this reason there are nothing in gcc version files which can be used
for "autodetection". No difference for 4.x or < 4.x

- They will drop a.out ? I do not think so and there are not need. Some
people are happy there still

- And Harbour ? while OS/2 developers moved from a.out to OMF and some
from gcc3xx to gcc4xx, Harbour continued based in a.out and gcc3xx as
only option

Now with our work Harbour for OS/2 moved to where actions are: OS/2 OMF
scenario and newer compiler versions

Using my words of previous message:
-------------------------------
- I repeated, in previous time to do anything with Harbour we need "to
tell Harbour to tell gcc to use OMF". Can be hard-wired in .mk files
and/or environmental variables and/or a passed parameter and/or "new
compiler"
-------------------------------

Your comment of "-Zomf inside HB_USER_CFLAGS" belong to my explanation
Yes, this choice are hidden to user, as hard-wired in .mk files and
other choices are too.
I do not like anything which is hidden to user or which force to user to
edit/change some Harbour file

For that reason I selected "environmental variable" as choice because
are exposed to user and have same behaviour / purpose than rest of our
environmental variables: values set by user to inform Harbour to do
something which we want

In this case HB_OS2_OMF or some like it, as "unavoidable switch", inform
to Harbour to inform gcc the use of his "unavoidable -Zomf switch"

You found and now have clear this need/behaviour when you made your
changes for replace my commit (with HB_OS2_OMF) with your commit (with
HB_COMPILER)

Do not waste time trying to implement autodetection, here does not apply
And maybe you should revert your "gccomf" implementation later

As you understand clearly all these discussions exist and are due you
reject my "new dimension" proposal even it is perfectly controlled,
which is an unavoidable switch in Harbour for an unavoidable switch in
os2gcc

Consequences of capability to manage two choices  :-)
If you want one at a time, you need an unavoidable declaration

os2gcc manage two choices and declarate one with -Zomf, Harbour manage
two choices and declarate one with HB_OS2_OMF or something like it

os2gcc will mantain a.out as default and will not drop -Zomf

Harbour can mantain a.out as default or set OMF as default, but at last
need the "unavoidable" switch, either my HB_OS2_OMF=yes|other or your
HB_COMPILER=gccomf|gcc

If we use only OMF in Harbour we do not need any choice and you have to
revert/remove the wires of your gccomf

Since beginning this option was considered: select one type, and you
requested it some times
As you have seen, I allways defend the two-choices option with
unavoidable switch, mainly by:
- os2gcc have that capacity and Harbour can have it too
- Maurilio expressed preference for a.out without having tested OMF

I explained many times: I made work to mantain a.out as default and use
optionally OMF without affect anything
People can be working with a.out as ever without need to know about OMF
choice with optional HB_OS2_OMF

But now Maurilio are closer to test OMF because work for it are not in
my machine but publicly in SVN

If he find OMF maturity and well behaviour in Harbour then we can think
to set as only option in Harbour for OS/2
And now he can use gcc4xx immediatly too

I suggest:
- Keep for a time current implementation with gccomf until we confirm
maturity and resolve any pending problems
Yes, I know, harbourm.dll overflow  :-)
- Forget to waste time for autodetection meanwhile
- Then we can drop safely a.out and disassemble work for two choices

But, a GREAT BUT, I prefer to leave two choices as "undocumented
feature" available with HB_OS2_AOUT (now a.out is not default) and not
HB_COMPILER=gccomf
Yes, I know you do not like "undocumented feature" but they are useful
and Harbour have many of them
And yes, you want HB_COMPILER structure but involve more maintenance
than HB_OS2_AOUT. In future somebody will ask: which is gccomf (or
gccaout or gcccoff ) compiler ?

Remember two things:
- Is much easy to remove than construct. Both implementations do the
same work, just choose one with minimal requirements
- For me to add OMF support to gcc.mk was easy, but to add to hbmk2.prg
was hard (browse in more than 7,000 lines to find where to put
something) so I applied in extremaly short section and only where it is
required
In your implementation you must take care of gccomf across all hbmk2.prg
Obviously the best is an combination of my controlled application and
your style using your well-known hbmk2.prg structures like
   AAdd( hbmk[ _HBMK_aOPTC ], "-Zomf" )
That was planned for third stage


Notes about OpenWatcom for OS/2
- I started to test OpenWatcom for OS/2 a year ago
- At start it does not work with Harbour, then Przemek gave me
guidelines and he corrected anything necessary to put to work
- Then you, Przemek and other mantained OpenWatcom as a good option for
Harbour including OS/2
- At that time I commented my nice surprise with OpenWatcom for OS/2:
a great compiler, complete, well done, fast, easy to setup,
well-documented, many tools, cross-platform and so on
- OpenWatcom use OS/2-OMF natively
- OpenWatcom build entirely Harbour in 8 minutes
gcc335-a.out does in 25 and gcc335-OMF does in 32 minutes

OpenWatcom for OS/2 have many clear advantages over os2gcc
If forced to choose a compiler for Harbour-OS/2 I immediatly will select
OpenWatcom. This also leave behind many problems with os2gcc

I do not choice mainly:
- I want to mantain support for available compilers used in Harbour-OS/2
- Main universe of OS/2 developers are in os2gcc


I am sure forget two or three things on the way, I hope it does not
raise or recall doubts  :-)
If so, just let me know

David Macias




From harbour.01 at syenar.hu  Sat Oct  3 10:11:57 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Oct  3 10:12:13 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12634] trunk/harbour
In-Reply-To: <4AC74C46.7070904@mail.udg.mx>
References: <4AC74C46.7070904@mail.udg.mx>
Message-ID: <D6B86401-C7F3-42FA-AD80-940ACF1C2B22@syenar.hu>

>> It's not a different compiler but the same in a different mode
>> altogether, and/or different version.
>
>> Yes, and it's a big difference, since you added a new "dimension"
>> to the existing set of settings, while I've only extended existing
>> dimensions with a new value.
>
> Do not fool ourselves
> HB_COMPILER=gccomf is an "virtual" compiler managed by your  
> HB_COMPILER
> structure forced to maintainance in compilers list/cases
>
> You applied this alternative for many reasons, firstly:
> - HB_COMPILER structure can do it
> - You know how to implement it
> - You are worried about "compilers" filenames collision
> - You rejected my "new dimension" proposal even it is perfectly  
> controlled
>
> For now HB_COMPILER=gccomf is doing HB_OS2_OMF work

I'm sorry you don't perceive the difference,
you will just have to trust my decision then,
and I accept that you'd do it differently.

>>>     --- GCC 4.x
>>>     C:\usr\bin\gccenv.cmd
>>>     set HB_COMPILER=gccomf
>>>     os2-make
>
>> These are examples. All of them are meant to reflect "typical"
>> cases. Not all cases, and not cases to as-is in any setup.
>> They are meant to give an idea how to start, with the hope that
>> it works in a "typical" setup.
>
> Is wrong information which must be fixed or droped
>
> I suggest you to use info I included in revision 12630 which cover our
> two OS/2 specific cases, replacing HB_OS2_OMF with HB_COMPILER
>
> Updated info: your revision 12639 fixes partially
> c:\usr\local433\gccenv.cmd does not exist. User must refer to included
> examples to set environment or to use an modified gccenv.cmd, mine is
> gccenv433.cmd
> Drop that info and preferably include my revision 12630 info, it does
> not lead to wrong compiler environment settings and lead easily to  
> OMF use

I'm only copying these informations from your e-mails.

Please supply "typical" examples then and I'll update them.
If these .cmd files were created by you, supply the content,
and I'll update to that instead.

Or, if this takes so many rounds, I'll just delete OS/2
related entries from INSTALL and call it a day. I simply
have not that much free time to wait for bits of information.

>> [ In case you're expecting that COFF mode will work again in 4.x once
>> in the future, we could still do autodetection and tune default  
>> object
>> mode depending on GCC version used, but in this case OS/2 users  
>> should
>> decide which should be the preferred object mode. ]
>
> I presented a lot of info and some of them you confirmed when you made
> your search

You didn't provide any means to autodetect 4.x.

> - When gcc was ported to OS/2 it only support a.out type
> - Harbour for OS/2 was based in that scenario
> - OMF type is native to OS/2
> - OS/2 gcc porters/developers added some tools to convert a.out to OMF
> "library".a is converted to "library".lib using emxomf.exe
> - A lot of OS/2-gcc developers continued work to add support of OMF to
> os2gcc. In the path they enhanced many tools and added others
> - An "unavoidable" switch was added to specify new alternative: -Zomf
> and of course some other necessary values
> - OS/2-gcc developers continued trying for OMF for a clear reason:  
> reach
> a better scenario than a.out
> It was not a vague purpose
> - Many of these works were added or made within Innotek OS/2-gcc  
> version
> around 2003-2005
> Innotek is the same company which created VirtualBox now property of  
> Sun
> Some of their developers are OS/2 experts
> Mainly of these works are now contained/mantained/available in netlabs.org
> - As they were trying to get the best with OMF, they enhanced some  
> tools
> to achieve it, for example WL.exe based in WLINK
> - For 2005-2007 all work has been done and OMF support reach maturity
> - Many OS/2 developers moved to this new scenario: now OS/2 developers
> are centered on OS/2 OMF and a.out is legacy
>
> - a.out continue historically by default and -Zomf are unavoidable
> Rest of settings for OMF are optional
>
> - As they moved to OMF converted their scripts for OMF using
> "unavoidable -Zomf" leaving optionally a.out support as legacy
> - They are accustomed to OMF and to use -Zomf does not cause
> nuisance
>
> - When gcc4xx arrived they found problem for a.out with emxbind. But  
> who
> cares ? They are doing things very well with OMF for years
> Just continued using OMF and converted pending scripts from a.out
>
> - Officially os2gcc keep with a.out as default but in practice work is
> using OMF
> Nobody is worried to change it. Just use unavoidable -Zomf and all  
> is done
> They will fix emxbind for gcc4xx ? I do not think so, they are no need
> For these reasons are not strange as you think
>
> - They need to "mark" OMF as default in gcc4xx because it fail with
> a.out ? No. Just use "unavoidable -Zomf" as they are doing for years
> For this reason there are nothing in gcc version files which can be  
> used
> for "autodetection". No difference for 4.x or < 4.x
>
> - They will drop a.out ? I do not think so and there are not need.  
> Some
> people are happy there still
>
> - And Harbour ? while OS/2 developers moved from a.out to OMF and some
> from gcc3xx to gcc4xx, Harbour continued based in a.out and gcc3xx as
> only option

To sum it up: OMF is the future for OS/2. COFF is dropped.

> Do not waste time trying to implement autodetection, here does not  
> apply
> And maybe you should revert your "gccomf" implementation later

> As you understand clearly all these discussions exist and are due you
> reject my "new dimension" proposal even it is perfectly controlled,
> which is an unavoidable switch in Harbour for an unavoidable switch in
> os2gcc

Now it isn't "perfectly controlled"?

> If we use only OMF in Harbour we do not need any choice and you have  
> to
> revert/remove the wires of your gccomf

Well, if you ask me, I'd have simply switched to OMF format
and at the same dropped COFF format, if this is the clear
future for OS/2. This can be done anytime and easily.

> Since beginning this option was considered: select one type, and you
> requested it some times
> As you have seen, I allways defend the two-choices option with
> unavoidable switch, mainly by:
> - os2gcc have that capacity and Harbour can have it too
> - Maurilio expressed preference for a.out without having tested OMF
>
> I explained many times: I made work to mantain a.out as default and  
> use
> optionally OMF without affect anything
> People can be working with a.out as ever without need to know about  
> OMF
> choice with optional HB_OS2_OMF
>
> But now Maurilio are closer to test OMF because work for it are not in
> my machine but publicly in SVN
>
> If he find OMF maturity and well behaviour in Harbour then we can  
> think
> to set as only option in Harbour for OS/2
> And now he can use gcc4xx immediatly too
>
> I suggest:
> - Keep for a time current implementation with gccomf until we confirm
> maturity and resolve any pending problems
> Yes, I know, harbourm.dll overflow  :-)
> - Forget to waste time for autodetection meanwhile
> - Then we can drop safely a.out and disassemble work for two choices
>
> But, a GREAT BUT, I prefer to leave two choices as "undocumented
> feature" available with HB_OS2_AOUT (now a.out is not default) and not
> HB_COMPILER=gccomf
> Yes, I know you do not like "undocumented feature" but they are useful
> and Harbour have many of them
> And yes, you want HB_COMPILER structure but involve more maintenance
> than HB_OS2_AOUT. In future somebody will ask: which is gccomf (or
> gccaout or gcccoff ) compiler ?

> Remember two things:
> - Is much easy to remove than construct. Both implementations do the
> same work, just choose one with minimal requirements
> - For me to add OMF support to gcc.mk was easy, but to add to  
> hbmk2.prg
> was hard (browse in more than 7,000 lines to find where to put
> something) so I applied in extremaly short section and only where it  
> is
> required
> In your implementation you must take care of gccomf across all  
> hbmk2.prg
> Obviously the best is an combination of my controlled application and
> your style using your well-known hbmk2.prg structures like
>  AAdd( hbmk[ _HBMK_aOPTC ], "-Zomf" )
> That was planned for third stage

To put it short: I'll keep what we have now, and if OMF support
is "matured" and COFF support isn't needed anymore, we can drop
gccomf.mk and make OMF the default with gcc.mk. Any "hidden",
"non-hidden" or "unavoidable" extra switches will just stay extra
OS/2 and compile specific hacks whatever we call them.

For me "mature" is again unclear here, so I guess you mean the
point where COFF isn't required anymore for OS/2 app development.
(f.e. all commercial libs are accessible as OMF libs). I'm not
an OS/2 user, but based on your e-mail this step could just be
made even now.

At the same time I think that gcc 4.x autodetection would be
crucial for all present and future scenarios. It'd probably
enough to look for some libs in lib dirs or some extra OMF
support .exe file in bin.

> - At that time I commented my nice surprise with OpenWatcom for OS/2:
> a great compiler, complete, well done, fast, easy to setup,
> well-documented, many tools, cross-platform and so on
> - OpenWatcom use OS/2-OMF natively
> - OpenWatcom build entirely Harbour in 8 minutes
> gcc335-a.out does in 25 and gcc335-OMF does in 32 minutes
>
> OpenWatcom for OS/2 have many clear advantages over os2gcc
> If forced to choose a compiler for Harbour-OS/2 I immediatly will  
> select
> OpenWatcom. This also leave behind many problems with os2gcc
>
> I do not choice mainly:
> - I want to mantain support for available compilers used in Harbour- 
> OS/2
> - Main universe of OS/2 developers are in os2gcc
>
> I am sure forget two or three things on the way, I hope it does not
> raise or recall doubts  :-)
> If so, just let me know

Thanks for the information. We'd like to keep os2/watcom target
anyway, the only concern is recently added hacks.

BTW, os2/watcom .dll support is also missing yet.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Oct  3 14:05:27 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Oct  3 14:05:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12640] trunk/harbour
Message-ID: <E1Mu8z1-0003cj-FA@74yxhf1.ch3.sourceforge.com>

Revision: 12640
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12640&view=rev
Author:   vszakats
Date:     2009-10-03 18:05:26 +0000 (Sat, 03 Oct 2009)

Log Message:
-----------
2009-10-03 20:02 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    ! Minor fix to OS/2 example.

  * utils/hbmk2/hbmk2.prg
  * config/os2/gcc.mk
    ! Fixed to use 'stripomf' tool instead of 'strip' in gccomf mode.

  ; Please only post comments on above patch if it contains real 
    information. I'm not interested in "This is wrong.", "You messed it up." 
    kind of comments, only in real information, since I'm not OS/2 user.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Oct  3 14:18:25 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Oct  3 14:18:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12638] trunk/harbour
In-Reply-To: <d6fa31440910030006g33433578pee3380043e42379@mail.gmail.com>
References: <E1MtyHm-0003po-2K@3kljzd1.ch3.sourceforge.com>
	<d6fa31440910030006g33433578pee3380043e42379@mail.gmail.com>
Message-ID: <25731321.post@talk.nabble.com>


Hi


Alexandr Okhotnikov wrote:
> 
> Hi
> but now when you close the window DemoXbp falls
> 
> Unrecoverable error 6005: Exception SIGSEGV at address 0x1010
> Called from QT_QEVENTLOOP_PROCESSEVENTS(0)
> Called from (b)QEVENTLOOP(0) in ../../../TQEventLoop.prg
> Called from QEVENTLOOP:PROCESSEVENTS(0) in ../../../TQEventLoop.prg
> Called from APPEVENT(0) in ../../../xbpgeneric.prg
> Called from BUILDADIALOG(201) in demoxbp.prg
> Called from _BUILDADIALOG(106) in demoxbp.prg
> Called from MAIN(96) in demoxbp.prg
> 

Which OS? On Windows XP it is behaving OK.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12638--trunk-harbour-tp25726161p25731321.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From alxokhotnikov at gmail.com  Sat Oct  3 14:36:49 2009
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Sat Oct  3 14:36:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12638] trunk/harbour
In-Reply-To: <25731321.post@talk.nabble.com>
References: <E1MtyHm-0003po-2K@3kljzd1.ch3.sourceforge.com>
	<d6fa31440910030006g33433578pee3380043e42379@mail.gmail.com>
	<25731321.post@talk.nabble.com>
Message-ID: <d6fa31440910031136u2f8b65e4j919bbcda8c739ac6@mail.gmail.com>

Hi

Sorry
forgot to specify

Linux kubuntu

2009/10/3 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hi
>
>
> Alexandr Okhotnikov wrote:
>>
>> Hi
>> but now when you close the window DemoXbp falls
>>
>> Unrecoverable error 6005: Exception SIGSEGV at address 0x1010
>> Called from QT_QEVENTLOOP_PROCESSEVENTS(0)
>> Called from (b)QEVENTLOOP(0) in ../../../TQEventLoop.prg
>> Called from QEVENTLOOP:PROCESSEVENTS(0) in ../../../TQEventLoop.prg
>> Called from APPEVENT(0) in ../../../xbpgeneric.prg
>> Called from BUILDADIALOG(201) in demoxbp.prg
>> Called from _BUILDADIALOG(106) in demoxbp.prg
>> Called from MAIN(96) in demoxbp.prg
>>
>
> Which OS? On Windows XP it is behaving OK.
>
> Regards
> Pritpal Bedi
From fernando_athayde at yahoo.com.br  Sat Oct  3 14:51:52 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Sat Oct  3 14:51:59 2009
Subject: [Harbour] freeimage harbour conflicts with hwgui
Message-ID: <906077.50890.qm@web52208.mail.re2.yahoo.com>

i'm testing freeimage in gui mode
and I've a problem with funciona fi_ (cause GPF)
in hwgui don't have the same parameters, and don't have all functions 
is there any way, to pass this problem?


Thanks,
Fernando



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091003/6c24ae31/attachment.html
From info at fsgiudice.com  Sat Oct  3 18:07:54 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sat Oct  3 18:08:13 2009
Subject: [Harbour] freeimage harbour conflicts with hwgui
In-Reply-To: <906077.50890.qm@web52208.mail.re2.yahoo.com>
References: <906077.50890.qm@web52208.mail.re2.yahoo.com>
Message-ID: <4AC7CB3A.8050503@fsgiudice.com>

Hi Fernando,

Il 03/10/2009 20.51, Fernando Athayde ha scritto:
> i'm testing freeimage in gui mode
> and I've a problem with funciona fi_ (cause GPF)
> in hwgui don't have the same parameters, and don't have all functions
> is there any way, to pass this problem?
> 
> 
could you kindly post some details and possible a sample ?

Best Regards,
Francesco


From fernando_athayde at yahoo.com.br  Sat Oct  3 21:15:09 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Sat Oct  3 21:15:15 2009
Subject: Res: [Harbour] freeimage harbour conflicts with hwgui
In-Reply-To: <4AC7CB3A.8050503@fsgiudice.com>
References: <906077.50890.qm@web52208.mail.re2.yahoo.com>
	<4AC7CB3A.8050503@fsgiudice.com>
Message-ID: <918172.26102.qm@web52203.mail.re2.yahoo.com>

   fi_Initialise()
   msginfo("ok")
   msginfo(fi_GetVersion())

>>   hImage := fi_Load( FIF_JPEG, "e:\fjfrigohb\digitalizados\almoxarifado\sample1.jpg", JPEG_DEFAULT )
this line causes GPF

   msginfo("ok")
   hImage := fi_Load( FIF_BMP, "digitalizados\almoxarifado\" +cArquivo+".bmp", BMP_DEFAULT )
   msginfo("ok")
   fi_Save( FIF_JPEG, hImage, "digitalizados\almoxarifado\" +cArquivo+".jpg", JPEG_DEFAULT )
   msginfo("ok")
   fi_Unload( hImage )
   msginfo("ok")
   fi_Deinitialise()

if i use test in contrib function perfectly
only causes GPF in hwgui
is there in hwgui a class HFreeImage

Thanks,
Fernando




________________________________
De: Francesco Saverio Giudice <info@fsgiudice.com>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: S?bado, 3 de Outubro de 2009 19:07:54
Assunto: Re: [Harbour] freeimage harbour conflicts with hwgui

Hi Fernando,

Il 03/10/2009 20.51, Fernando Athayde ha scritto:
> i'm testing freeimage in gui mode
> and I've a problem with funciona fi_ (cause GPF)
> in hwgui don't have the same parameters, and don't have all functions
> is there any way, to pass this problem?
> 
> 
could you kindly post some details and possible a sample ?

Best Regards,
Francesco


_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091003/6f90bfcd/attachment.html
From harbour.01 at syenar.hu  Sat Oct  3 21:25:18 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Oct  3 21:25:28 2009
Subject: Res: [Harbour] freeimage harbour conflicts with hwgui
In-Reply-To: <918172.26102.qm@web52203.mail.re2.yahoo.com>
References: <906077.50890.qm@web52208.mail.re2.yahoo.com>
	<4AC7CB3A.8050503@fsgiudice.com>
	<918172.26102.qm@web52203.mail.re2.yahoo.com>
Message-ID: <A10EF64D-4AC6-4B54-8FC5-6719D98FB7C0@syenar.hu>

This should be fixed in HWGUI.

Either by using their own namespace, or by using hbfimage functionality
as is, or by at least fixing internal dependencies so that external
freeimage wrapper can be used with core HWGUI functionality.

IOW: Not a Harbour problem.

Brgds,
Viktor

On 2009 Oct 4, at 03:15, Fernando Athayde wrote:

>    fi_Initialise()
>    msginfo("ok")
>    msginfo(fi_GetVersion())
>
> >>   hImage := fi_Load( FIF_JPEG, "e:\fjfrigohb\digitalizados 
> \almoxarifado\sample1.jpg", JPEG_DEFAULT )
> this line causes GPF
>
>    msginfo("ok")
>    hImage := fi_Load( FIF_BMP, "digitalizados\almoxarifado\"  
> +cArquivo+".bmp", BMP_DEFAULT )
>    msginfo("ok")
>    fi_Save( FIF_JPEG, hImage, "digitalizados\almoxarifado\" +cArquivo 
> +".jpg", JPEG_DEFAULT )
>    msginfo("ok")
>    fi_Unload( hImage )
>    msginfo("ok")
>    fi_Deinitialise()
>
> if i use test in contrib function perfectly
> only causes GPF in hwgui
> is there in hwgui a class HFreeImage
>
> Thanks,
> Fernando
>
> De: Francesco Saverio Giudice <info@fsgiudice.com>
> Para: Harbour Project Main Developer List. <harbour@harbour-project.org 
> >
> Enviadas: S?bado, 3 de Outubro de 2009 19:07:54
> Assunto: Re: [Harbour] freeimage harbour conflicts with hwgui
>
> Hi Fernando,
>
> Il 03/10/2009 20.51, Fernando Athayde ha scritto:
> > i'm testing freeimage in gui mode
> > and I've a problem with funciona fi_ (cause GPF)
> > in hwgui don't have the same parameters, and don't have all  
> functions
> > is there any way, to pass this problem?
> >
> >
> could you kindly post some details and possible a sample ?
>
> Best Regards,
> Francesco
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 -  
> Celebridades - M?sica -  
> Esportes_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sun Oct  4 06:03:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Oct  4 06:03:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12641]
	trunk/harbour/ChangeLog
Message-ID: <E1MuNwP-0001Ec-GJ@3kljzd1.ch3.sourceforge.com>

Revision: 12641
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12641&view=rev
Author:   vszakats
Date:     2009-10-04 10:03:44 +0000 (Sun, 04 Oct 2009)

Log Message:
-----------
2009-10-04 12:02 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * ChangeLog
    + Added links to a few external component bug reports of the past.

  ; Submitted GNU Make Win64 patch:
       http://savannah.gnu.org/bugs/index.php?27590
  ; Submitted GNU Make $(wildcard) bug in latest CVS:
       http://savannah.gnu.org/bugs/index.php?27591

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Oct  4 06:50:20 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Oct  4 06:50:29 2009
Subject: [Harbour] bugs: gtwvt and gtwin + UNICODE
Message-ID: <50D5AE5C-A1C1-4ED4-BACE-7FA6E7FA83B5@syenar.hu>

Hi All,

I've just tested msvc64 target which now has UNICODE
mode enabled by default, and there are a few issues:

a) in GTWVT the font is wrongly selected, it's apparently
    the system font instead of Courier New. Drawing chars are
    wrongly displayed. (maybe more, but it's difficult to tell
    by looking at the screen).

    This may also explain why WinCE output is also wrong.

b) in GTWIN the accented chars are wrong in UNICODE mode.

c) GTWIN has positioning and/or window handling problems
    in msvc64 targets. It may be related to ctwin, but it's
    just a guess, since hbrun is right, my app is wrong and
    the latter uses ctwin. (although the culprit must be
    somewhere inside GTWIN code, since these issues are
    completely missing when using GTWVT)

Could someone look at these?

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Sun Oct  4 07:07:41 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Oct  4 07:07:47 2009
Subject: [Harbour] Issue about hbmk2 hbhpdf and libpng
Message-ID: <9257026e0910040407m3a96d633p7d051b630a142bac@mail.gmail.com>

I'm testing Harbour in a clean Fedora 12 rawhide VM. I've built harbour using:

HB_USER_CFLAGS=-fpic
HB_COMMERCE=yes
HB_INSTALL_PREFIX=/opt/harbour
HB_BUILD_DLL=no

If I move to contrib/hbhpdf/tests and run hbmk2 harupdf I get:

hbmk2: Processing local make script: hbmk.hbm
hbmk2: Processing configuration: /opt/harbour/bin/hbmk.cfg
Harbour 2.0.0beta3 (Rev. 12629)
...
/usr/bin/ld: cannot find -llibpng
...

libpng-devel is installed everything works if I use:
hbmk -n harupdf -lhbhpdf -llibhpdf -lpng

So the issue seems to be that ../hbhpdf.hbc contains:
...
libs=libhpdf libpng
...

while the build defaults to the sys installed png devel and says:
...
make[3]: `../../../../../lib/linux/gcc/liblibhpdf.a' is up to date.
! 'libpng' library skipped (unused)
...

I don't see an easy solution since hbc file should be different for
local png and system png ( the same could be if also libharu be a sys
lib ).

Also IMHO the "lib" prefix in front of libpng and libhpdf can be misleading.
They become liblibhpdf.a and liblibpng.a while it's usual to refer to
libs using -lhpdf and -lpng and not -llibhpdf and -llibpng.

I note that zlib, sqlite3 and pcre don't have "lib" prefix.

It's not a real problem, but I'd add some doc in INSTALL.
It is normal in a developer setup to have png-devel and zlib-devel
already installed since they are required by many packages.

best regards,
Lorenzo
From mbelgrano at deltain.it  Sun Oct  4 07:15:54 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Oct  4 07:16:20 2009
Subject: [Harbour] bugs: gtwvt and gtwin + UNICODE
In-Reply-To: <50D5AE5C-A1C1-4ED4-BACE-7FA6E7FA83B5@syenar.hu>
References: <50D5AE5C-A1C1-4ED4-BACE-7FA6E7FA83B5@syenar.hu>
Message-ID: <609353e70910040415w3c7c2969p19e694eccd6eec38@mail.gmail.com>

Can  you post sample,Information for compile sample?
I have a Win7 64 bit with Visual studio 2008"


2009/10/4 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi All,
>
> I've just tested msvc64 target which now has UNICODE
> mode enabled by default, and there are a few issues:
>
> a) in GTWVT the font is wrongly selected, it's apparently
> ? the system font instead of Courier New. Drawing chars are
> ? wrongly displayed. (maybe more, but it's difficult to tell
> ? by looking at the screen).
>
> ? This may also explain why WinCE output is also wrong.
>
> b) in GTWIN the accented chars are wrong in UNICODE mode.
>
> c) GTWIN has positioning and/or window handling problems
> ? in msvc64 targets. It may be related to ctwin, but it's
> ? just a guess, since hbrun is right, my app is wrong and
> ? the latter uses ctwin. (although the culprit must be
> ? somewhere inside GTWIN code, since these issues are
> ? completely missing when using GTWVT)
>
> Could someone look at these?
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From niki at synel.co.il  Sun Oct  4 07:13:44 2009
From: niki at synel.co.il (Chen Kedem)
Date: Sun Oct  4 07:18:31 2009
Subject: [Harbour] RE: SF tracker#2871130: 5 AdsOpenTable and Free Tables
 with DD (patch)
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7A237D26@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D26@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7A237D31@Mail-yoq.SYNEL-COMPANY.LTD>

Przemek,

>> http://sourceforge.net/tracker/index.php?func=detail&aid=2871130&group_id=681&atid=300681

> 1. it's for old code with bugs which were fixed
> :

Thanks for the reply, it was added as a comment to the tracker.
Tracker report was closed and marked as "Rejected".

  Chen.
From harbour.01 at syenar.hu  Sun Oct  4 07:23:29 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Oct  4 07:23:37 2009
Subject: [Harbour] Issue about hbmk2 hbhpdf and libpng
In-Reply-To: <9257026e0910040407m3a96d633p7d051b630a142bac@mail.gmail.com>
References: <9257026e0910040407m3a96d633p7d051b630a142bac@mail.gmail.com>
Message-ID: <17A3B8E8-EDE8-44C4-A28E-2B59CDD9329B@syenar.hu>

Hi Lorenzo,

I don't plan to try to sync hbmk2 behavior with the multitude
of little differences we can still create at Harbour build time.
It looks like tedious task with little benefit (for me definitely).
Maybe in the future someone will have a good idea, or maybe we
should add conditional lib specs, like 'trylibs=', and hbmk2
will pick the first which exists, but this will need some more
intimacy with platform specific details.

So now .hbc files are to hold some sane defaults based on platform/ 
compiler,
and if it doesn't work, users will have to adapt them locally
(or override the default .hbc mechanism). In this case we should
remove the external lib for *nix targets:

libs=libhpdf
{!unix}libs=libpng

Pls test if it solves the problem.

The 'lib' prefix may be misleading, but it's (partially) correct,
some lib names have the name 'lib' in them, this is not be confused
with 'lib' prefix used by GCC. Unfortunately lib names aren't the
same on all platforms (IOW the naming isn't consistently used),
but this is a somewhat different problem which can try to cover
also by checking target platform in .hbc files.

Brgds,
Viktor

On 2009 Oct 4, at 13:07, Lorenzo Fiorini wrote:

> I'm testing Harbour in a clean Fedora 12 rawhide VM. I've built  
> harbour using:
>
> HB_USER_CFLAGS=-fpic
> HB_COMMERCE=yes
> HB_INSTALL_PREFIX=/opt/harbour
> HB_BUILD_DLL=no
>
> If I move to contrib/hbhpdf/tests and run hbmk2 harupdf I get:
>
> hbmk2: Processing local make script: hbmk.hbm
> hbmk2: Processing configuration: /opt/harbour/bin/hbmk.cfg
> Harbour 2.0.0beta3 (Rev. 12629)
> ...
> /usr/bin/ld: cannot find -llibpng
> ...
>
> libpng-devel is installed everything works if I use:
> hbmk -n harupdf -lhbhpdf -llibhpdf -lpng
>
> So the issue seems to be that ../hbhpdf.hbc contains:
> ...
> libs=libhpdf libpng
> ...
>
> while the build defaults to the sys installed png devel and says:
> ...
> make[3]: `../../../../../lib/linux/gcc/liblibhpdf.a' is up to date.
> ! 'libpng' library skipped (unused)
> ...
>
> I don't see an easy solution since hbc file should be different for
> local png and system png ( the same could be if also libharu be a sys
> lib ).
>
> Also IMHO the "lib" prefix in front of libpng and libhpdf can be  
> misleading.
> They become liblibhpdf.a and liblibpng.a while it's usual to refer to
> libs using -lhpdf and -lpng and not -llibhpdf and -llibpng.
>
> I note that zlib, sqlite3 and pcre don't have "lib" prefix.
>
> It's not a real problem, but I'd add some doc in INSTALL.
> It is normal in a developer setup to have png-devel and zlib-devel
> already installed since they are required by many packages.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Oct  4 07:27:10 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Oct  4 07:27:18 2009
Subject: [Harbour] bugs: gtwvt and gtwin + UNICODE
In-Reply-To: <609353e70910040415w3c7c2969p19e694eccd6eec38@mail.gmail.com>
References: <50D5AE5C-A1C1-4ED4-BACE-7FA6E7FA83B5@syenar.hu>
	<609353e70910040415w3c7c2969p19e694eccd6eec38@mail.gmail.com>
Message-ID: <40D85E0A-0E94-4235-AB2D-3AC5D60551BE@syenar.hu>

> Can  you post sample,Information for compile sample?
> I have a Win7 64 bit with Visual studio 2008"

I've committed it to INSTALL yesterday.

Most probably the simplest GTWVT app will show these obstacles,
but I expect even 32-bit UNICODE programs will have them.
These can be built using HB_USER_CFLAGS=-DUNICODE.

Brgds,
Viktor

From druzus at acn.waw.pl  Sun Oct  4 08:02:12 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Oct  4 08:02:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <d6fa31440910020935i7eb67916x18f90e416be3672@mail.gmail.com>
References: <E1MprLO-00063j-K6@c3vjzd1.ch3.sourceforge.com>
	<4AB88DF5.7090704@dbtopas.lt> <4ABA2AB9.4020101@dbtopas.lt>
	<20090924102614.GA25988@uran.home.aster.pl>
	<d6fa31440909240915w76e61d0bv7b9985fd2752d6fc@mail.gmail.com>
	<A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu>
	<4AC21116.3070107@mweb.co.za>
	<20091002115243.GA21975@uran.home.aster.pl>
	<d6fa31440910020935i7eb67916x18f90e416be3672@mail.gmail.com>
Message-ID: <20091004120212.GA32231@uran.home.aster.pl>

On Fri, 02 Oct 2009, Alexandr Okhotnikov wrote:

Hi,

> Take as an axiom: in the harbour need open replacement ADS (for
> multi-user environment) for those who still uses DBF and can not be
> (not wants) to switch to SQL

Rather for people who do not want to move his code to server side.
ADS is only partial solution and much better and more efficient is
moving whole application to the server and execute it remotely.

> > 2. it does not support timestamp values
> The main types are (my opinion that this long enough), add the rest
> later (for DBF, they are not critical)

These are only your personal preferences.

> > 3. numeric values in some operations like SEEK are converted to strings so
> > ? they cannot be safely used with double values because such conversions
> > ? round them to number of decimal places used to show numeric item on
> > ? the screen
> SEEK: for numeric fields to translate a string based on the dimension
> of the field (no loss of accuracy)

You do not understand the problem. It is problem and it's very serious bug.
> 
> > 4. it does not optimize multirecord skips on filtered or set_deleted
> > ? workareas
> > 5. it does not use aliases on server side so expressions sent to server
> > ? cannot use aliases too (.f. index key/for, filters, ...)
> > 6. relations are implemented only on client side and this code is not
> > ? finished - it needs fixes in many places,
> > ? missing server side relations seriously reduce functionality and
> > ? performance in programs which use aliases though without server side
> > ? support for aliases it still not be fully usable.
> Using ADS almost the same :)

"almost" makes huge difference and unfortunately my code for client
side relations in ADS RDD was not fully replicated in LetoDB.
As long as it will not be fixed using relations in LetoDB is very
danger and may cause data corruption because related area are wrongly
positioned in some places.

> > 7. it does not respect many of _SET_* settings and also does not inform
> > ? server about settings ?like _SET_DATEFORMAT, _SET_EPOCH, _SET_TIMEFORMAT,
> > ? _SET_DECIMALS, _SET_FIXED, _SET_EXACT, ... which are important for
> > ? correct execution of user expressions on server side
> I think to finish (or customize a specific case) will not take much time

It's not the question about the time necessary to implement it but rather
how it should be done to keep original author vision which is unknown.
I can imagine at least three different implementation which will give
different final functionality. Some implementation strongly depends on
used communication protocols some others may badly work with .hrb modules
automatically registered on server side by clients (i.e. with UDFs used
by client in filter or index expressions), etc.
I do not know what is the final goal of LetoDB development and to implement
it I will have to take some arbitrary decisions which may create problems
in the future.

> > 18. I do not see any documentation which divides actions on client
> > ? and server side so it's hard to add the extensions keeping
> > ? original author vision, in the moment when such projects
> > ? stops to be single author code such at least very basic
> > ? documentation is a must, otherwise we will end with set of
> > ? functions and RDD methods often replicating existing functionality
> > ? because each developer tried to resolved his local problems in
> > ? his own way, it also causes that bug fixing is very hard because
> > ? developers seeing that sth is potentially wrong have to analyze
> > ? whole code for possible workarounds in different places, i.e.
> > ? I'm not able to verify everything what I see after looking at
> > ? this code without investing day or two in deep analyzing
> 
> And that, in the harbour is not so?

It isn't.

> I could not find documentation on the RDD (as in the rest of the
> implementation of what either), but this does not prevent me to use
> the harbour

You can use RDD section in CA-Clipper 5.3 Technical Reference.
Harbour RDD model follow very closely Clipper one. There are only
few small differences and extensions and it was the place were
I started before I touched Harbour RDD code.

> > 20. server uses internally own threads but does not use hbthread.h API
> > ? what creates problems with portability and adding some extensions
> > ? in the future, i.e. simultaneous executing .prg code by such threads
> > ? is impossible now, it also blocks using HVM threads which could
> > ? resolve important problems in current server implementation
> Maybe, maybe not

I do not understand what you try to say.
There is not place for any "maybe" here.
For sure such threads cannot execute simultaneously .prg code and
for sure LetoDB performance in concurrent access is strongly reduced
by serialized execution using ST HVM.

> > 21. I do not understand some parts of server code, i.e. there
> > ? is an option to reuse existing tables between connections but
> > ? why it was added? It cannot work without disabling most of
> > ? server side processing because there is only single area
> > ? structure so everything have to be shared between clients
> > ? what creates series of problems, i.e. filter set by one client
> > ? changes other client skip/seek operations, etc.
> > ? I cannot even say that it is work in progress because it will
> > ? never be fully functional option
> Checked - everything is working properly

LetoDB server on each SKIP, SEEK, GOTOP, GOBOTTOM and DBOI_KEYCOUNT+
DBOI_POSITION resets the following settings:
   _SET_CODEPAGE
   _SET_DATEFORMAT,
   _set_century,
   _SET_DELETED,
   current order
   recno (SKIP, DBOI_POSITION)
   workarea filter
   tag scope (SEEK have to be fixed)
so these things will work but with horrible cost in concurrent access.
GOTO (restoring RECNO) resets index caches so each SKIP internally has
to activate SEEK to find original record what strongly increases the
operation time and makes LetDB unusable with some index formats like
pure DBFNTX without RDDI_SORTRECNO (Harbour extensions) when index
contains great number of repeated key values due to fatal performance.
Resetting WA filters badly interact with filter optimizations in RDDs
like RMDBF*, etc. In practice it means that all internal optimizations
are disabled. When you make test with single client then it's not visible
but I can quite easy create test with concurrent access (it's enough to
open the same table in aliased workarea) where LetoDB will be much slower
then pure file IO access in LAN.
Additionally still not all attributes are saved and restored, i.e.
I do not see anything to safe/restore index DESCEND flag which can be
modified by DBOI_ISDESC. If someone will finish LetoDB adding support
for server side processing for all possible things then he will end
with the code which consumes 99% of time to save and restore user
settings in WA.

If you want to see what it means in practice then please try the
code below. It shows only thr cost of scope setting/restoring in
current LetoDB (3-rd value).
Here are results in my Linux box and localhost connection.
1. using local file access:
   RDD: DBFCDX _tst2
   creating table...            0.20 sec.
   indexing...                  0.03 sec.
   testing...                   0.07 sec.

2. using NETIO:
   RDD: DBFCDX NET:127.0.0.1:/_tst2
   creating table...            0.72 sec.
   indexing...                  0.14 sec.
   testing...                   0.20 sec.

3. using LetoDB:
   RDD: LETO //127.0.0.1:2812/_tst2
   creating table...            2.43 sec.
   indexing...                  0.05 sec.
   testing...                  86.17 sec.

So in this test LetoDB is  431 _times_ slower then NETIO and believe
me it's not the worst case. If you want you can try to increase number
of records and you will see what will happen.
If you repeat this tests in LAN then network overhead should reduce
the difference but I do not think that LetoDB will be faster.
If you have a while then I'm interesting in your results in LAN.

> As a result, there is no alternative to ADS (DBFCDX use the network
> impossible) and are forced to buy xHarbour (where it is more or less
> available)

For me ADS is only partial solution which is not serious alternative
but it's nothing more then my personal opinion.
But what xHarbour offers what is not available in Harbour except RDDSQL
(you can use Mediator) and my DBRMAP code (RMDBF{CDX,NTX,NSX} RDDs) that
you have to buy it?

> LetoDB - works (may not always correctly, but can be used)

See above test results. How LetoDB works strongly depends on user code.
The funny things is that non optimized code which use pure SET FILTER TO
without any index scopes settings needs RDD which makes automatic scope
optimization like COMIX or RMDBF*. Otherwise it works very slow using
file IO API in network environment and here switching to LetoDB may help
though not always.
But for code optimized by programmer which expensively use scopes then
switching to LetoDB may cause very serious slownes.

> I vote for inclusion in the harbour

As I said I will not vote and it should be group opinion anyhow
I think you should give some arguments why it's your choice and
how LetoDB can benefit from it and why keeping LetoDB as separate
projects reduce it. Please also remember that it will be project
fork so we will have additional job necessary to adopt modifications
in original project.

best regards,
Przemek




#define N_RECCOUNT 10000
REQUEST LETO
REQUEST DBFCDX
field F
proc main(rdd)
   local cFile := "_tst2", fileFunc, x, t
   if empty(rdd)
      cFile := "//127.0.0.1:2812/" + cFile
      rddSetDefault( "LETO" )
      fileFunc:=@leto_file()
   else
      if upper(rdd)="NET:"
         cFile := "NET:127.0.0.1:/" + cFile
      endif
      rddSetDefault( "DBFCDX" )
      fileFunc:=@dbExists()
   endif
   ? "RDD:", rddSetDefault(), cFile
   if !fileFunc:exec( cFile + ".dbf" )
      ? padr( "creating table...", 20 )
      t := seconds()
      dbCreate( cFile, {{"F","C",100,0},{"F2","L",1,0}} )
      use (cFile) alias tst
      while lastrec() < N_RECCOUNT
         dbAppend(); F := l2bin( recno() ) + repl( "x", 100 )
      enddo
      t := seconds() - t
      ?? t, "sec."
      ? padr( "indexing...", 20 )
      t := seconds()
      index on F tag T to (cFile)
      t := seconds() - t
      ?? t, "sec."
      close
   endif
   use (cFile) alias tst
   set index to (cFile)
   ? padr( "testing...", 20 )
   t := seconds()
   ordScope( 0, l2bin( 0 ) + "x" )
   dbGoTop()
   while !eof()
      x := ordKeyNo() / ordKeyCount()
      dbSkip()
   enddo
   t := seconds() - t
   ?? t, "sec."
   close
return
From dmacias at mail.udg.mx  Sun Oct  4 08:28:57 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Oct  4 08:29:21 2009
Subject: [Harbour] OS/2: harbourm.dll
Message-ID: <4AC89509.2040205@mail.udg.mx>

Viktor, Maurilio, Przemek:

I reported in 28 Sep 2009 "Harbour under OS/2 - eCS 12604 -12621" about
problem to build harbourm.dll in OMF mode, either with gcc335 or gcc4xx,
and stated:
   "Confirmed. The guilty is length of command line"
based on tests where only difference is length of line due an deeper
level of source\dynlib\mt directory

I wrote:
==================
So the reason for emxomfld failure is due to length of long list of
object files in section:

--------------------------
..\..\..\..\..\..\source\common\obj\os2\gcc\expropt1.obj

[rest of .obj files list]

..\..\..\..\..\..\source\vm\vmmt\obj\os2\gcc\vm.obj
--------------------------

This harbourm.dll list is longer than harbour.dll list by a value of:
  "..\" length multiplied by number of total object files plus
  "vmmt\" length multiplied by number of vmmt object files

  3*593 + 5*21 = 1779 + 105 = 1884 bytes

so seem to arrive truncated to emxomfld.exe and cause "invalid argument"
error
Moving up one dir resolve need of at least 1779 bytes plus others for -L
and -o switchs
==================

Later I commented that problem seem not related to emxomfld.exe itself
as "receiver" but gcc as "caller"

I have not clear in which of these two stages happen the error:
- at gcc, before to call emxomfld.exe
   Perhaps gcc detect a problem with line and avoid to call emxomfld.exe
- at emxomfld
   Perhaps emxomfld detect a problem with line an reject operation

I was making tests and problem cause are not located yet

Surprisely, using current HB_COMPILER=gccomf implementation, moving
source\dynlib\mt an dir up to source\dynlibmt, can not build
harbourm.dll as before did with this movement and HB_OS2_OMF

The explanation is: "gccomf" is longer than "gcc" so even command len
result smaller reducing "..\", it is increased again due "omf" len

I was searching info in code but most of them are strange for me  :-)
Remember, I do not know C and/or OS/2 and gcc internals

But next are some of my notes:

We are looking for cause of:
  "gcc: gcc: error executing emxomfld.exe: Invalid argument"

raised after:
gcc -Zomf -shared -L../../../../../../lib/os2/gcc -v  -o
../../../../../../bin/os2/gcc/harbour.dll @__dyn__.tmp __dyn__.def -lsocket


I started reviewing:
   svn.netlabs.org/repos/libc/trunk/emx/src/emxomf
and emxomfld.c

and here does not any exist that error message exactly or in compound
form resulting of other evaluations

So, emxomfld.c are not rising the error

As I have seen the flow are follow:

gcc evaluate: -Zomf -shared -L../../../../../../lib/os2/gcc -v  -o
../../../../../../bin/os2/gcc/harbour.dll @__dyn__.tmp __dyn__.def -lsocket

he read __dyn__.tmp and expand content as a long list of objects and
this list are passed to emxomfld.exe if it is executed
As I said I am unsure if emxomfld.exe is executed

What is clear is: emxomfld never touch read/touch __dyn__.tmp and just
receive our long list of objects

This part of code in emxomfld.c confirm it:
--------------
/* List of object files.  Each file given on the command line which
    does not match *.def, *.lib and *.res is added to this list.
    add_obj_fnames is used to add another entry at the end of the
    list. */
static name_list *obj_fnames = NULL;
static name_list **add_obj_fnames = &obj_fnames;

/* List of library files.  Each file matching *.lib given on the
    command line is added to this list.  The -l option also adds an
    entry to this list. add_lib_fnames is used to add another entry at
    the end of the list.
    The flags member indicates library search method. If set search for
    static lib, if clear search for shared lib before search for
    static lib. */
static name_list *lib_fnames = NULL;
static name_list **add_lib_fnames = &lib_fnames;
	
/* List of linker options.  Linker options can be specified with the
    -O option.  add_options is used to add another entry at the end of
    the list. */
static name_list *options = NULL;
static name_list **add_options = &options;

/* The command line passed to the linker. */
static char command_line[260];

/* The current length of the command line. */
static int line_len;
--------------

If emxomfld.exe is executed it receive parameters, rearranging them
based in final linker (default or based in EMXOMFLD_TYPE,
EMXOMFLD_LINKER) and evaluating linking with "weakld linker" before
calling final linker

But for our harbourm.dll case, emxomfld.exe is not guilty

Later I review the files on Paul Smedley site:
GCC 4.3.2 2009-01-16 patches:
http://download.smedley.info/gcc-4.3.2-os2-20090116-patch.zip

These files contain the os2gcc specific code for gcc432, which are
applied in original gcc432 code. Explained in readme.os2

I expanded file in dir:
   e:\GCC-4.3.2-OS2-20090116-PATCH
with many subdirectories

So problem could be in os2gcc specific code
Same case: in any file on all directories does not any exist that error
message exactly or in compound form resulting of other evaluations

At last the message seem raised for gcc432 general code, not specific
os2gcc code

Most of info/code are strange/cryptic for me, as expected  :-)

WARNING: this os2gcc432 patch may differ of os2gcc335 patch

Some interesting parts of
  e:\GCC-4.3.2-OS2-20090116-PATCH\gcc\config\i386\emx.h
---------------------
    Copyright (C) 2003-2004 Knut St. Osmundsen
    Modified for GCC 4.3.2 by Paul Smedley 2008
This file is part of the InnoTek port of GNU CC.
[...]
/* Provide extra args to the linker and extra switch-translations.  */
#define LINK_SPEC
        \
   "%{Zexe} %{Zstack*} %{Zmap*} %{Zsym} %{Zdll} %{shared:-Zdll}
%{static:-static}" \
   "%{!o*:-o %b%{Zdll|shared:.dll}%{!Zdll:%{!shared:%{!Zexe:.exe}}}} "
         \
   "%{static:%{Zcrtdll*:%e-static and -Zcrtdll are incompatible}}"
         \
   "%{Zomf:%{Zaout:%e-Zomf and -Zaout are incompatible}}"
         \
   "%{Zdll:%{Zexe:%e-Zdll and -Zexe are incompatible}}"
         \
   "%{shared:%{Zexe:%e-shared and -Zexe are incompatible}}"
         \
   "%{Zsmall-conv:%{Zcrtdll*:%e-Zsmall-conv and -Zcrtdll are incompatible}}"
[...]
/* Override the default linker program (collect2).  */
#define LINKER_NAME                     "%{Zomf:emxomf}ld.exe"
[...]
/* Override the default linker program (collect2).  */
#define LINKER_NAME "%{!Zaout:emxomf}ld.exe"
---------------------


and
  e:\GCC-4.3.2-OS2-20090116-PATCH\gcc\config\i386\xm-emx.h
---------------------
/* Pathname components are separated by '/' or '\\'. */
#undef DIR_SEPARATOR
#define DIR_SEPARATOR           '/'
#undef DIR_SEPARATOR_2
#define DIR_SEPARATOR_2         '\\'
---------------------

above explain why gcc4xx .dll build only work with \\ or / but not \
I added to config\os2\gcc.mk
    @$(ECHO) $(subst $(DIRSEP),/,$(file))>> __dyn__.tmp

In gcc335 work with \, \\ or /

That problem clarified me that gcc is processing __dyn__.tmp file and
are not touched by emxomfld

gcc4xx report missing all object files, in example for:
   ..\..\..\..\..\source\common\obj\os2\gcc\expropt1.obj
it report missing:
   ..........sourcecommonobjos2gcc\expropt1.obj

Obviously gcc4xx strip "\" found in __dyn__.tmp


and in
  e:\GCC-4.3.2-OS2-20090116-PATCH\libtool.gcc
-----------------------
# The linker used to build libraries.
LD="ld"
[...]
# What is the maximum length of a command?
max_cmd_len=12289

and have some sections as:

         if len=`expr "X$test_cmds" : ".*"` &&
            test $len -le $max_cmd_len; then
           :
         else
	  # The command line is too long to link in one step, link piecewise.
           $echo "creating reloadable object files..."

	  # Save the value of $output and $libobjs because we want to
	  # use them later.  If we have whole_archive_flag_spec, we
	  # want to use save_libobjs as it was before
	  # whole_archive_flag_spec was expanded, because we can't
	  # assume the linker understands whole_archive_flag_spec.
	  # This may have to be revisited, in case too many
	  # convenience libraries get linked in and end up exceeding
	  # the spec.
	  if test -z "$convenience" || test -z "$whole_archive_flag_spec"; then
	    save_libobjs=$libobjs
	  fi
           save_output=$output

	  # Clear the reloadable object creation command queue and
	  # initialize k to one.
           test_cmds=
           concat_cmds=
           objlist=
           delfiles=
           last_robj=
           k=1
           output=$output_objdir/$save_output-${k}.$objext
	  # Loop over the list of objects to be linked.
           for obj in $save_libobjs
           do
             eval test_cmds=\"$reload_cmds $objlist $last_robj\"
             if test "X$objlist" = X ||
	       { len=`expr "X$test_cmds" : ".*"` &&
                  test $len -le $max_cmd_len; }; then
               objlist="$objlist $obj"
             else
	      # The command $test_cmds is almost too long, add a
	      # command to the queue.
               if test $k -eq 1 ; then
	        # The first file doesn't have a previous command to add.
                 eval concat_cmds=\"$reload_cmds $objlist $last_robj\"
               else
	        # All subsequent reloadable object files will link in
	        # the last one created.
                 eval concat_cmds=\"\$concat_cmds~$reload_cmds $objlist
$last_robj\"
               fi
               last_robj=$output_objdir/$save_output-${k}.$objext
               k=`expr $k + 1`
               output=$output_objdir/$save_output-${k}.$objext
               objlist=$obj
               len=1
             fi
           done
	  # Handle the remaining objects by creating one last
	  # reloadable object file.  All subsequent reloadable object
	  # files will link in the last one created.
	  test -z "$concat_cmds" || concat_cmds=$concat_cmds~
           eval concat_cmds=\"\${concat_cmds}$reload_cmds $objlist
$last_robj\"

-----------------------


At last gcc is expanding __dyn__.tmp generating a long expression

I am intrigued with long expression reported as obtained with -v in gcc

Recalling the parsed structure:
-----------------------

  emxomfld.exe -Zdll
-o ../../../../../bin/os2/gcc/harbour.dll
E:/usr/lib/dll0.obj
-L../../../../../lib/os2/gcc
-LE:/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5
-LE:/usr/lib/gcc-lib
-LE:/usr/lib/gcc-lib/i386-pc-os2-emx/3.3.5
-LE:/usr/lib
-LE:/harbour909f/harbour/source/dynlib/obj/os2/gcc
-LE:/USR/lib/gcc-lib/i386-pc-os2-emx/3.3.5
-LE:/usr/i386-pc-os2-emx/lib
-LE:/USR/i386-pc-os2-emx/lib
-LE:/usr/lib
-LE:/usr/lib

..\..\..\..\..\source\common\obj\os2\gcc\expropt1.obj

[rest of .obj files list]

..\..\..\..\..\source\vm\obj\os2\gcc\vm.obj
__dyn__.def -lsocket
-lc_alias
-lc_dll
-los2
-lgcc_so_d
-lc_alias
-lc_dll
-los2
-lend
--------------------------

excluding "ld.exe" or "emxomfld.exe" rest are send to ld or emxomfld
Is a long chain

So I made tests suspecting something. These are files length containing
only information within previous structure:

3a.txt:  29,897 bytes  gcc335, a.out, harbour.dll
3am.txt  31,793  gcc335, a.out, harbourm.dll
3o.txt   32,757  gcc335, OMF, harbour.dll
3om.txt  34,653  gcc335, OMF, harbourm.dll
3omu.txt 32,865  gcc335, OMF, harbourm.dll, one dir up

First three build fine, while last two fail
Each group are below and up of this limit:
    2**15 = 2**(16-1) = 32768 bytes = 32 Kbytes

Somewhere gcc is using 32 Kb limit for our case
   gcc --> emxomfld.exe

( or is OS/2 limit ?   :-) )

And do not found explicitly this limit, but may be within some specific
gcc / C macro conventions

Maurilio and Viktor suggested to contact os2gcc developers to expose
this error case
Before, with problems with os2make I suggested Przemek to contact
Andreas Buening and other to expose os2make case
Maurilio did it and os2make was fixed

I explained that even I can contact them, I will be knocked out at first
technical questions so is better someone with technical knowledge to
make contact

Knut St. Osmundsen, alias Bird, appear in many source files, so I
searched in Internet for a recent e-mail

Now him is answering questions about to "build VirtualBox under Mac OS X
10.5"  :-)

He is at Sun, as "Senior Staff Engineer, VirtualBox"

-----------------------
Re: [vbox-dev] sed error, building on Mac OS X 10.5

Knut St. Osmundsen
Wed, 30 Sep 2009 01:50:08 -0700

Jacques Du Preez wrote:
> Hi,
>
> I'm trying to build VirtualBox on Mac OS X, 10.5. When I run
> ./configure I receive the following error: "sed: 1:
> "install_sh=/Users/jacqu ...": command i expects \ followed by text"
>
> It seems there's a problem with my sed. Has anyone else seen this
> error? Any ideas on how I can fix it? I am trying to find more info
> about it as I'm typing this, but other than that there's a problem with
> my sed I do not know...
>
> Thank you for any help or advice given,
>

That's probably caused by some program or script that configure is
invoking.  Take a look at configure.log and use that to figure out where
it is in the detection process and which program/script on your system
which is failing.  If you cannot figure it out, you can try post the
configure.log here.

-- 

Kind regards / Mit freundlichen Gruessen / Vennlig hilsen,
   Knut

--

Sun Microsystems GmbH        Knut St. Osmundsen
Werkstrasse 24               Senior Staff Engineer, VirtualBox
71384 Weinstadt, Germany     mailto:b...@sun.com
-----------------------

Knut St. Osmundsen and many well known developers in OS/2 world are now
in Sun developing VirtualBox

Sander van Leeuwen and maybe Andreas Buening
   http://vbox.innotek.de/pipermail/vbox-dev/2009-February/001177.html

Natural path due they started VirtualBox in Innotek, which released
Innotek os2gcc existing now in netlabs.org


Knut St. Osmundsen e-mail is bird at sun.com

Someone want to contact him, or I make first try ?


When Harbour face some problem with platform and/or compiler, exist 4
alternatives
1) do nothing
2) adjustments in OS/compiler
3) adjustments in Harbour
4) adjustments in OS/compiler and Harbour

Usually choice is 3) so Harbour support now many OS / compilers

For each alternative:
1) It mean drop harbourm.dll creation or disable it
   Undesired because Harbour build result incomplete
2) If source of problem are found, it force a new release of gcc335,
gcc346, gcc404, gcc432, gcc433, gcc440
I think Knut is more occupied and interested in VirtualBox developing
than in os2gcc fixes  :-)
Good for VirtualBox world ( I hope they fix current problem with
Mandriva 2009.1 / kde4x )

So we can not expect a solution with this alternative

And if is OS/2 limit ?

4) Mixture of 2) and 3)

3) Alternative where we have control so is prefered
We can make some adjustments in Harbour, for example
  3a) Move source\dynlib\mt one dir up
    Yes, I know, was discarded when presented
    Now fail too due length of "gccomf" string
  3b) Build of harbour?.dll in pieces
    (adding libraries one by one to harbour?.dll)
    I do not know if this is possible
    Maurilio made work for harbour?.dll so he know what can be done
    I do not know if .def file requirement avoid this way

    I think this way is most suitable
    May depend of emxomfld.exe requirements/features/parameters

  3c) Reduce length of long expression resulting of parsing __dyn__.tmp
    From any side 32 Kbytes is a long string  :-)
    One cause of long string is directories depth
    Perhaps we can reduce size replacing
        obj\platform\compiler
    with
        objplatformcompiler
    so
        ..\..\..\..\..\source\common\obj\os2\gcc\expropt1.obj
    result as
        ..\..\source\common\objos2gcc\expropt1.obj

    Viktor is our expert in this structure so he can evaluate it


  3d) Reduce size of components
    It will not solve harbourm.dll problem but I want to comment similar
cases
    In last months I have found three overflows:
    - gccOMF:hbrtl: LINK386 can not build it due limit in number of objects
    - OpenWatcom:hbrun: GPF due problem with hbextern
      Przemek explained this was solved by Viktor increasing value
    - harbourm.dll: a long chain of objects list

    The common problem is: some Harbour components (hbrtl, hbextern) and
harbour?.dll have a lot of objects and we are having overflows, maybe in
other OS/compilers too (as OpenWatcom:hbrun case)
    Harbour growed too much and will continue growing, and other
compilers may become to have problems
    Common solutions to overflows is to split components, other is
reduce objects number, other is to work on pieces

    Harbour developers may start to begin to think in these overflows

  3e) suggestions are welcome


David Macias



From vszakats at users.sourceforge.net  Sun Oct  4 08:34:54 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Oct  4 08:34:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12642] trunk/harbour
Message-ID: <E1MuQIg-0006US-5q@c3vjzd1.ch3.sourceforge.com>

Revision: 12642
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12642&view=rev
Author:   vszakats
Date:     2009-10-04 12:34:45 +0000 (Sun, 04 Oct 2009)

Log Message:
-----------
2009-10-04 14:33 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    * MSVC/Itanium cleanups.

  * contrib/hbhpdf/hbhpdf.hbc
    * Changed to not add libpng lib on *nix systems.
      Attempt to move close to 'typical' (default) cases.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbhpdf/hbhpdf.hbc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Oct  4 09:09:08 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Oct  4 09:09:18 2009
Subject: [Harbour] OS/2: harbourm.dll
In-Reply-To: <4AC89509.2040205@mail.udg.mx>
References: <4AC89509.2040205@mail.udg.mx>
Message-ID: <C981ADA9-7B43-4208-A12C-C5D83A7376E8@syenar.hu>

> Someone want to contact him, or I make first try ?
>
>
> When Harbour face some problem with platform and/or compiler, exist 4
> alternatives
> 1) do nothing
> 2) adjustments in OS/compiler
> 3) adjustments in Harbour
> 4) adjustments in OS/compiler and Harbour
>
> Usually choice is 3) so Harbour support now many OS / compilers
>
> For each alternative:
> 1) It mean drop harbourm.dll creation or disable it
>  Undesired because Harbour build result incomplete
> 2) If source of problem are found, it force a new release of gcc335,
> gcc346, gcc404, gcc432, gcc433, gcc440
> I think Knut is more occupied and interested in VirtualBox developing
> than in os2gcc fixes  :-)
> Good for VirtualBox world ( I hope they fix current problem with
> Mandriva 2009.1 / kde4x )
>
> So we can not expect a solution with this alternative
>
> And if is OS/2 limit ?

Disk files are meant to get around OS limits.

> 4) Mixture of 2) and 3)
>
> 3) Alternative where we have control so is prefered
> We can make some adjustments in Harbour, for example
> 3a) Move source\dynlib\mt one dir up
>   Yes, I know, was discarded when presented
>   Now fail too due length of "gccomf" string

Temp solution which also creates mess for all targets
to workaround a non-Harbour problem with one target.

It will break again when we add some more objects and
what's next? Move everything to root?

> 3b) Build of harbour?.dll in pieces
>   (adding libraries one by one to harbour?.dll)
>   I do not know if this is possible
>   Maurilio made work for harbour?.dll so he know what can be done
>   I do not know if .def file requirement avoid this way
>
>   I think this way is most suitable
>   May depend of emxomfld.exe requirements/features/parameters

AFAIK this isn't possible, it's one link operation. Just
like for .exes.

> 3c) Reduce length of long expression resulting of parsing __dyn__.tmp
>   From any side 32 Kbytes is a long string  :-)
>   One cause of long string is directories depth
>   Perhaps we can reduce size replacing
>       obj\platform\compiler
>   with
>       objplatformcompiler
>   so
>       ..\..\..\..\..\source\common\obj\os2\gcc\expropt1.obj
>   result as
>       ..\..\source\common\objos2gcc\expropt1.obj
>
>   Viktor is our expert in this structure so he can evaluate it

We could save '..\..\' for each object, but that would
need a total redesign of the make system, which I had no
success in so far. Current method uses the recommended
way, and such move would mean to move to some strange
waters.

And again: Temporary. After adding some new objects,
OS/2 will fail again.

> 3d) Reduce size of components
>   It will not solve harbourm.dll problem but I want to comment similar
> cases
>   In last months I have found three overflows:
>   - gccOMF:hbrtl: LINK386 can not build it due limit in number of  
> objects
>   - OpenWatcom:hbrun: GPF due problem with hbextern
>     Przemek explained this was solved by Viktor increasing value
>   - harbourm.dll: a long chain of objects list
>
>   The common problem is: some Harbour components (hbrtl, hbextern) and
> harbour?.dll have a lot of objects and we are having overflows,  
> maybe in
> other OS/compilers too (as OpenWatcom:hbrun case)
>   Harbour growed too much and will continue growing, and other
> compilers may become to have problems
>   Common solutions to overflows is to split components, other is
> reduce objects number, other is to work on pieces

There are projects with much higher number of components.

The solution is usually two-fold:
- Using tool facilities which are meant to solve just this
   problem. (in this case: script files or stdin to feed cmd options)
- Sadly, but dropping platforms which can't cope with such limits
   in any conceivable way.

Unluckily for OS/2, the script files are implemented in a way
that they don't add any extra value (since they are converted
to cmdline and passed as-is to sub-processes, as suspected).

>   Harbour developers may start to begin to think in these overflows
>
> 3e) suggestions are welcome

The problem with all suggestions which suggest to start
modifying Harbour is quite similar to the OS/2 problem:

I'm personally not interested in redesigning current make
system to introduce temporary workarounds OS/2 GCC compiler
bugs. Even if I had plenty of time and interest, this would
be the wrong thing to do for multiple reasons, so I vote
against it, and instead vote to pass this problem to OS/2
GCC maintainers, in the hope they can fix the platform.
If there aren't such developers, or there isn't anyone
interested or capable of doing this, I guess we can take
this OS as an unsupported one, what is broken beyond repair.

Hopefully though there will be someone who can create a
fix for one of the next OS/2 GCC releases. I don't even
think it's necessary to fix _all_ existing GCC releases,
since (again) all of them are free, and it's a luxury to
use 10 different GCC compilers even on Windows. One
working version is just enough.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Oct  4 09:13:39 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Oct  4 09:13:50 2009
Subject: [Harbour] OS/2: harbourm.dll
In-Reply-To: <C981ADA9-7B43-4208-A12C-C5D83A7376E8@syenar.hu>
References: <4AC89509.2040205@mail.udg.mx>
	<C981ADA9-7B43-4208-A12C-C5D83A7376E8@syenar.hu>
Message-ID: <14E5BA67-D689-4F1A-AEF4-0AD07FEDEB39@syenar.hu>

>> 3b) Build of harbour?.dll in pieces
>>  (adding libraries one by one to harbour?.dll)
>>  I do not know if this is possible
>>  Maurilio made work for harbour?.dll so he know what can be done
>>  I do not know if .def file requirement avoid this way
>>
>>  I think this way is most suitable
>>  May depend of emxomfld.exe requirements/features/parameters
>
> AFAIK this isn't possible, it's one link operation. Just
> like for .exes.

There may be one way: Assembling libs from objects and pass these
libs to ld for conversion to .dll. If such feature exist for OS/2
ld.

If it does, there is still a fair amount of tricks to be made in
this case to first create some temp libs from partial object lists.
And it's tricky to create them in a way that they be maintenance
free.

Anyhow it's an exercise for real OS/2 users.

Brgds,
Viktor

From mbelgrano at deltain.it  Sun Oct  4 09:38:25 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Oct  4 09:38:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <20091004120212.GA32231@uran.home.aster.pl>
References: <E1MprLO-00063j-K6@c3vjzd1.ch3.sourceforge.com>
	<4AB88DF5.7090704@dbtopas.lt> <4ABA2AB9.4020101@dbtopas.lt>
	<20090924102614.GA25988@uran.home.aster.pl>
	<d6fa31440909240915w76e61d0bv7b9985fd2752d6fc@mail.gmail.com>
	<A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu>
	<4AC21116.3070107@mweb.co.za>
	<20091002115243.GA21975@uran.home.aster.pl>
	<d6fa31440910020935i7eb67916x18f90e416be3672@mail.gmail.com>
	<20091004120212.GA32231@uran.home.aster.pl>
Message-ID: <609353e70910040638t1694bb3fp5feeacc2886a5405@mail.gmail.com>

How can be possible in windows move code to server side?
Terminal server have a limited scalability
will gtnet be a safe solution for 100 councurrent access?

2009/10/4 Przemyslaw Czerpak <druzus@acn.waw.pl>:
> On Fri, 02 Oct 2009, Alexandr Okhotnikov wrote:
>
> Hi,
>
>> Take as an axiom: in the harbour need open replacement ADS (for
>> multi-user environment) for those who still uses DBF and can not be
>> (not wants) to switch to SQL
>
> Rather for people who do not want to move his code to server side.
> ADS is only partial solution and much better and more efficient is
> moving whole application to the server and execute it remotely.

-- 
Massimo Belgrano
From dmacias at mail.udg.mx  Sun Oct  4 09:39:48 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Oct  4 09:40:10 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12634] trunk/harbour
Message-ID: <4AC8A5A4.9010209@mail.udg.mx>

Viktor:

 >>>>     --- GCC 4.x
 >>>>     C:\usr\bin\gccenv.cmd
 >>>>     set HB_COMPILER=gccomf
 >>>>     os2-make
[...]
 >> Updated info: your revision 12639 fixes partially
 >> c:\usr\local433\gccenv.cmd does not exist. User must refer to
 >>included
 >> examples to set environment or to use an modified gccenv.cmd, mine is
 >> gccenv433.cmd
 >> Drop that info and preferably include my revision 12630 info, it does
 >> not lead to wrong compiler environment settings and lead easily to
 >> OMF use

 >I'm only copying these informations from your e-mails.

This statement is partially false
You copied some info from my e-mails but other are derived by you 
considering correct when is not and are your own mistakes
This is the case of GCC 4.x environment named by me as gcc4xx

In August 16 "Harbour under OS/2 - eCS gcc" I wrote, mainly for Maurilio:

--------------------
- Compiler: all files provided by Paul Smedley
   \usr\local440
      gcc-4.4.0-os2-20090503.zip
      ( change local44 for local440 )
   \usr\local432
      gcc-4.3.2-os2-20081116.zip
   \usr\local433
      gcc-4.3.3-os2-20090224.zip

- Some compiler packages does not contain binutils
    Use this file and copy to proper compiler directory
     binutils-2.19.1-os2-20090427.zip
    Does not include ld.exe due emxbind problem

- Setting each compiler environment with a modified gccenv.cmd
   The change is to use a modified line, for example for local432
   call GCC322plus sPath, 'gcc432', 0, sLinker;
   Just change 432 for xyz of each localxyz directory
   ( Again, use 440 in place of 44 )
--------------------

Somewhere I wrote e:\usr\bin\gccenv.cmd to set gcc335 environment or to 
use parameters, or you found it too in your searchs for os2gcc

But yourself concluded:

 >>>>     --- GCC 4.x
 >>>>     C:\usr\bin\gccenv.cmd

based on: if gccenv.cmd is for gcc335, then is for gcc4xx too.
Bad conclusion and I explained you

--------------------
C:\usr\bin\gccenv.cmd is default of gcc335
Using it with gcc4xx will set gcc335 environment

For gcc4xx must be any other, for example
        C:\usr\local433\gccenv.cmd

or to use parameters gccenv.cmd sPath sLinker
sLinker can be used to set EMXOMLD... variables

I suggest to remove this info. It belong to own user preferences to set
gcc environment
--------------------

I did it: C:\usr\local433\gccenv.cmd, missing "modified"

After seeing C:\usr\local433\gccenv.cmd in INSTALL I posted (fix of the 
fix):

--------------------
 >> Updated info: your revision 12639 fixes partially
 >> c:\usr\local433\gccenv.cmd does not exist. User must refer to
 >>included
 >> examples to set environment or to use an modified gccenv.cmd, mine is
 >> gccenv433.cmd
--------------------

and finally current line in INSTALL

   C:\usr\local433\gcc440.cmd

is your own creation (mixed 433, 440). Nobody forced to you

Again:
"I suggest to remove this info. It belong to own user preferences to set
gcc environment"


 >To sum it up: OMF is the future for OS/2. COFF is dropped.

Yes, is present and future   :-)

 >Well, if you ask me, I'd have simply switched to OMF format
 >and at the same dropped COFF format, if this is the clear
 >future for OS/2. This can be done anytime and easily.

Wait, we need Maurilio response

 >At the same time I think that gcc 4.x autodetection would be
 >crucial for all present and future scenarios. It'd probably
 >enough to look for some libs in lib dirs or some extra OMF
 >support .exe file in bin.

Explained in previous messages
Said in other words:
gcc4xx support a.out and OMF, but an intermediate tool fail for a.out
It have all logic of a.out too and is default type
Maybe intermediate tool will be fixed but no difference exist in os2gcc 
versions source files to detect which option will use the user

 >Thanks for the information. We'd like to keep os2/watcom target
 >anyway, the only concern is recently added hacks.

 >BTW, os2/watcom .dll support is also missing yet.

On Sept 23 "OS/2: library format" you wrote:

"(extra features, like .dll support is rather just a challenge)."
watcom also brings OS/2 ..."

On Sept 24 "Harbour under OS/2 - eCS 12604" I wrote:

------------------
build fine with OpenWatcom 1.8

0 errors
many warnings, included below. There are many news

Build results include .dlls:
   24/09/09  5:48a     3,231,453      0 a---  harbour.dll
   24/09/09  5:48a     3,263,217      0 a---  harbourm.dll

How can I test them ?
------------------

Now you wrote:
"BTW, os2/watcom .dll support is also missing yet."

	
So I am not sure what you are referring

David Macias


From harbour.01 at syenar.hu  Sun Oct  4 09:48:50 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Oct  4 09:48:58 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12634] trunk/harbour
In-Reply-To: <4AC8A5A4.9010209@mail.udg.mx>
References: <4AC8A5A4.9010209@mail.udg.mx>
Message-ID: <AEDDFDC4-7242-4A32-A01A-0776ED9DE8D6@syenar.hu>

> Build results include .dlls:
>  24/09/09  5:48a     3,231,453      0 a---  harbour.dll
>  24/09/09  5:48a     3,263,217      0 a---  harbourm.dll
>
> How can I test them ?
> ------------------
>
> Now you wrote:
> "BTW, os2/watcom .dll support is also missing yet."
>
> 	
> So I am not sure what you are referring

Yes, I've added it even, just forgot about it.
Anyhow was it ever tested? I don't think so, so it should be.

It's one thing .dlls are generated, and another that they
actually work. hbmk2 -shared os2/watcom, os2/gcc support is
also untested. (just like many other os2 hbmk2 features)

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Sun Oct  4 11:34:17 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Oct  4 11:34:23 2009
Subject: [Harbour] Issue about hbmk2 hbhpdf and libpng
In-Reply-To: <17A3B8E8-EDE8-44C4-A28E-2B59CDD9329B@syenar.hu>
References: <9257026e0910040407m3a96d633p7d051b630a142bac@mail.gmail.com>
	<17A3B8E8-EDE8-44C4-A28E-2B59CDD9329B@syenar.hu>
Message-ID: <9257026e0910040834o2edd264bl91c60d5182b7ea4f@mail.gmail.com>

On Sun, Oct 4, 2009 at 1:23 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> So now .hbc files are to hold some sane defaults based on platform/compiler,
> and if it doesn't work, users will have to adapt them locally
> (or override the default .hbc mechanism). In this case we should
> remove the external lib for *nix targets:
>
> libs=libhpdf
> {!unix}libs=libpng
>
> Pls test if it solves the problem.

To have it working ( in some way ) we need to add also:

{unix}libs=png

> The 'lib' prefix may be misleading, but it's (partially) correct,

I simply noted that in /external 3 of 5 don't have lib prefix while
they are all "libs".

I think we should avoid "liblib*" names and this will automatically
solve the problem.

I understand that they named it libharu but f.e. PHP call it simply
haru ( http://pecl.php.net/package/haru ) and even libharu in their
official zip files they don't have any "libharu" file but they use
hpdf which ends in libhpdf.lib and libhpdf.dll ( like we also do ).
But in INSTALL is referred as HB_WITH_LIBHARU, while we don't use use
HB_WITH_LIBPNG but HB_WITH_PNG.

So for me the library names in the Makefiles should be hpdf, hbhpdf
and png and the HB_ var should be HB_WITH_HPDF.

This would be consistent with gnuwin32 that has a libpng package.

In this way ../hbhpdf.hbc can be simply:

libs=hpdf png

for both local and system build option.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sun Oct  4 11:42:17 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Oct  4 11:42:26 2009
Subject: [Harbour] Issue about hbmk2 hbhpdf and libpng
In-Reply-To: <9257026e0910040834o2edd264bl91c60d5182b7ea4f@mail.gmail.com>
References: <9257026e0910040407m3a96d633p7d051b630a142bac@mail.gmail.com>
	<17A3B8E8-EDE8-44C4-A28E-2B59CDD9329B@syenar.hu>
	<9257026e0910040834o2edd264bl91c60d5182b7ea4f@mail.gmail.com>
Message-ID: <D83A2A2A-9B20-4882-B3FB-D2463D206880@syenar.hu>

>> Pls test if it solves the problem.
>
> To have it working ( in some way ) we need to add also:
>
> {unix}libs=png

Will do it. Thanks.

>
>> The 'lib' prefix may be misleading, but it's (partially) correct,
>
> I simply noted that in /external 3 of 5 don't have lib prefix while
> they are all "libs".
>
> I think we should avoid "liblib*" names and this will automatically
> solve the problem.

No it won't. I've added it for a reason.

> I understand that they named it libharu but f.e. PHP call it simply
> haru ( http://pecl.php.net/package/haru ) and even libharu in their
> official zip files they don't have any "libharu" file but they use
> hpdf which ends in libhpdf.lib and libhpdf.dll ( like we also do ).
> But in INSTALL is referred as HB_WITH_LIBHARU, while we don't use use
> HB_WITH_LIBPNG but HB_WITH_PNG.
>
> So for me the library names in the Makefiles should be hpdf, hbhpdf
> and png and the HB_ var should be HB_WITH_HPDF.
>
> This would be consistent with gnuwin32 that has a libpng package.

?

> In this way ../hbhpdf.hbc can be simply:
>
> libs=hpdf png
>
> for both local and system build option.

Sorry this wouldn't build with some other packages default.
(like default ones on Windows).

Brgds,
Viktor

From teo at windtelsoft.com  Sun Oct  4 12:23:21 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sun Oct  4 12:23:30 2009
Subject: [Harbour] Snow Leopard; How to build an 32-bit Harbour
Message-ID: <D3EBF671-2E62-47F1-969B-F74B2613FB76@windtelsoft.com>

Hello [Victor],

May be I overlooked something, but I'm unable to find an easy way (I  
want to use some flag parameter to the make command) to build the  
Harbour libs as i386 ones.



best regards,

Teo

From teo at windtelsoft.com  Sun Oct  4 12:38:57 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sun Oct  4 12:39:05 2009
Subject: [Harbour] Snow Leopard; How to build an 32-bit Harbour
In-Reply-To: <D3EBF671-2E62-47F1-969B-F74B2613FB76@windtelsoft.com>
References: <D3EBF671-2E62-47F1-969B-F74B2613FB76@windtelsoft.com>
Message-ID: <D82769A8-3EEB-40A7-9F29-2CC2A13429E7@windtelsoft.com>


On Oct 4, 2009, at 11:23 AM, Teo Fonrouge wrote:

> Hello [Victor],
>

Sorry, the name is Viktor, my stupid typo.

> May be I overlooked something, but I'm unable to find an easy way (I  
> want to use some flag parameter to the make command) to build the  
> Harbour libs as i386 ones.
>
>
>
> best regards,
>
> Teo
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Oct  4 13:13:19 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Oct  4 13:13:27 2009
Subject: [Harbour] Snow Leopard; How to build an 32-bit Harbour
In-Reply-To: <D82769A8-3EEB-40A7-9F29-2CC2A13429E7@windtelsoft.com>
References: <D3EBF671-2E62-47F1-969B-F74B2613FB76@windtelsoft.com>
	<D82769A8-3EEB-40A7-9F29-2CC2A13429E7@windtelsoft.com>
Message-ID: <3A8AA092-3571-4F6A-B5DF-2D9D6CADA068@syenar.hu>

Hi Teo,

> On Oct 4, 2009, at 11:23 AM, Teo Fonrouge wrote:
>
>> Hello [Victor],
>>
>
> Sorry, the name is Viktor, my stupid typo.

No prob, Victor is also fine :)

>> May be I overlooked something, but I'm unable to find an easy way  
>> (I want to use some flag parameter to the make command) to build  
>> the Harbour libs as i386 ones.

for i386 only:

export HB_USER_LDFLAGS=-arch i386
export HB_USER_CFLAGS=$(HB_USER_LDFLAGS)
export HB_COMPILER=gcc

or, for 10.5 Leopard Unibin:

export HB_USER_LDFLAGS=-arch i386 -arch ppc
export HB_USER_CFLAGS=$(HB_USER_LDFLAGS)
export HB_COMPILER=gcc

You can combine any -arch flags below:
-arch i386
-arch x86_64
-arch ppc
-arch ppc64

[ 'export HB_COMPILER=gcc' is needed on Snow Leopard
only to force gcc, since the default is clang there,
and clang doesn't support PPC arch anymore. ]

Brgds,
Viktor

From teo at windtelsoft.com  Sun Oct  4 14:10:23 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sun Oct  4 14:10:31 2009
Subject: [Harbour] Snow Leopard; How to build an 32-bit Harbour
In-Reply-To: <3A8AA092-3571-4F6A-B5DF-2D9D6CADA068@syenar.hu>
References: <D3EBF671-2E62-47F1-969B-F74B2613FB76@windtelsoft.com>
	<D82769A8-3EEB-40A7-9F29-2CC2A13429E7@windtelsoft.com>
	<3A8AA092-3571-4F6A-B5DF-2D9D6CADA068@syenar.hu>
Message-ID: <E4E78ADA-D19D-40AA-BDE1-53FDFC21E2C6@windtelsoft.com>


On Oct 4, 2009, at 12:13 PM, Viktor Szak?ts wrote:

> Hi Teo,
>
>> On Oct 4, 2009, at 11:23 AM, Teo Fonrouge wrote:
>>
>>> Hello [Victor],
>>>
>>
>> Sorry, the name is Viktor, my stupid typo.
>
> No prob, Victor is also fine :)
>
>>> May be I overlooked something, but I'm unable to find an easy way  
>>> (I want to use some flag parameter to the make command) to build  
>>> the Harbour libs as i386 ones.
>
> for i386 only:
>
> export HB_USER_LDFLAGS=-arch i386
> export HB_USER_CFLAGS=$(HB_USER_LDFLAGS)
> export HB_COMPILER=gcc
>
> or, for 10.5 Leopard Unibin:
>
> export HB_USER_LDFLAGS=-arch i386 -arch ppc
> export HB_USER_CFLAGS=$(HB_USER_LDFLAGS)
> export HB_COMPILER=gcc
>
> You can combine any -arch flags below:
> -arch i386
> -arch x86_64
> -arch ppc
> -arch ppc64

I've tried the above to no avail. The following error shows (make  
clean was made before):

<output>
gcc  -I. -I../../../../../include -fno-common -Wall -W -O3   -o hbpp.o  
-c ../../../hbpp.c
gcc -fno-common -Wall -W -O3 -o ../../../../../bin/darwin/gcc/hbpp  
hbpp.o  -L../../../../../lib/darwin/gcc  -arch -lhbnortl -lhbcommon -lm
gcc-4.2: Invalid arch name : -lhbnortl
make[3]: *** [hbpp] Error 1
rm hbpp.o
make[2]: *** [descend] Error 2
make[1]: *** [pp] Error 2
make: *** [source] Error 2
</output>

However, I have already managed to successfully build i386 libraries  
by modifying the HB_CMP variable on the config/darwin/gcc.mk file:

from:
HB_CMP := gcc

to:
HB_CMP := gcc -arch i386


So, what about to have an HB_ARCH flag in the following form in  
the .mk file:

ifneq($(HB_ARCH),)
	HB_CMP += -arch $(HB_ARCH)
endif

So we simply we need to do:

export HB_ARCH=i386 ;


>
> [ 'export HB_COMPILER=gcc' is needed on Snow Leopard
> only to force gcc, since the default is clang there,
> and clang doesn't support PPC arch anymore. ]

clang compiler is fine here.

I've already created i386 libraries from object files from this  
compiler.


BTW: You have done a fantastic work here simplifying the process to  
build harbour in almost *every* platform, my sincere congrats.


best regards,

Teo
From phil at newstar.rinet.ru  Sun Oct  4 15:20:48 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Sun Oct  4 15:21:13 2009
Subject: [Harbour] Snow Leopard; How to build an 32-bit Harbour
In-Reply-To: <E4E78ADA-D19D-40AA-BDE1-53FDFC21E2C6@windtelsoft.com>
References: <D3EBF671-2E62-47F1-969B-F74B2613FB76@windtelsoft.com> 
	<D82769A8-3EEB-40A7-9F29-2CC2A13429E7@windtelsoft.com>
	<3A8AA092-3571-4F6A-B5DF-2D9D6CADA068@syenar.hu> 
	<E4E78ADA-D19D-40AA-BDE1-53FDFC21E2C6@windtelsoft.com>
Message-ID: <c10dbf450910041220r37cec1f3j2ed24ad8e0a38130@mail.gmail.com>

On Sun, Oct 4, 2009 at 10:10 PM, Teo Fonrouge <teo@windtelsoft.com> wrote:
> On Oct 4, 2009, at 12:13 PM, Viktor Szak?ts wrote:
>> export HB_USER_LDFLAGS=-arch i386

export HB_USER_LDFLAGS="-arch i386"

>  -L../../../../../lib/darwin/gcc  -arch -lhbnortl -lhbcommon -lm
> gcc-4.2: Invalid arch name : -lhbnortl

You just need to quote the variable containing spaces, like shown above.

-- Ph.
From harbour.01 at syenar.hu  Sun Oct  4 15:36:30 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Oct  4 15:36:39 2009
Subject: [Harbour] Snow Leopard; How to build an 32-bit Harbour
In-Reply-To: <E4E78ADA-D19D-40AA-BDE1-53FDFC21E2C6@windtelsoft.com>
References: <D3EBF671-2E62-47F1-969B-F74B2613FB76@windtelsoft.com>
	<D82769A8-3EEB-40A7-9F29-2CC2A13429E7@windtelsoft.com>
	<3A8AA092-3571-4F6A-B5DF-2D9D6CADA068@syenar.hu>
	<E4E78ADA-D19D-40AA-BDE1-53FDFC21E2C6@windtelsoft.com>
Message-ID: <B8741D72-A75B-485E-A667-E58FACB8C3FB@syenar.hu>

No need to do this just correct my typos:
export HB_BLABLABLA="-arch i386"
export HB_JGJHG=${HB_BLABLABLA}

etcetc

Brgds,
Viktor

On 2009 Oct 4, at 20:10, Teo Fonrouge wrote:

>
> On Oct 4, 2009, at 12:13 PM, Viktor Szak?ts wrote:
>
>> Hi Teo,
>>
>>> On Oct 4, 2009, at 11:23 AM, Teo Fonrouge wrote:
>>>
>>>> Hello [Victor],
>>>>
>>>
>>> Sorry, the name is Viktor, my stupid typo.
>>
>> No prob, Victor is also fine :)
>>
>>>> May be I overlooked something, but I'm unable to find an easy way  
>>>> (I want to use some flag parameter to the make command) to build  
>>>> the Harbour libs as i386 ones.
>>
>> for i386 only:
>>
>> export HB_USER_LDFLAGS=-arch i386
>> export HB_USER_CFLAGS=$(HB_USER_LDFLAGS)
>> export HB_COMPILER=gcc
>>
>> or, for 10.5 Leopard Unibin:
>>
>> export HB_USER_LDFLAGS=-arch i386 -arch ppc
>> export HB_USER_CFLAGS=$(HB_USER_LDFLAGS)
>> export HB_COMPILER=gcc
>>
>> You can combine any -arch flags below:
>> -arch i386
>> -arch x86_64
>> -arch ppc
>> -arch ppc64
>
> I've tried the above to no avail. The following error shows (make  
> clean was made before):
>
> <output>
> gcc  -I. -I../../../../../include -fno-common -Wall -W -O3   -o  
> hbpp.o -c ../../../hbpp.c
> gcc -fno-common -Wall -W -O3 -o ../../../../../bin/darwin/gcc/hbpp  
> hbpp.o  -L../../../../../lib/darwin/gcc  -arch -lhbnortl -lhbcommon - 
> lm
> gcc-4.2: Invalid arch name : -lhbnortl
> make[3]: *** [hbpp] Error 1
> rm hbpp.o
> make[2]: *** [descend] Error 2
> make[1]: *** [pp] Error 2
> make: *** [source] Error 2
> </output>
>
> However, I have already managed to successfully build i386 libraries  
> by modifying the HB_CMP variable on the config/darwin/gcc.mk file:
>
> from:
> HB_CMP := gcc
>
> to:
> HB_CMP := gcc -arch i386
>
>
> So, what about to have an HB_ARCH flag in the following form in  
> the .mk file:
>
> ifneq($(HB_ARCH),)
> 	HB_CMP += -arch $(HB_ARCH)
> endif
>
> So we simply we need to do:
>
> export HB_ARCH=i386 ;
>
>
>>
>> [ 'export HB_COMPILER=gcc' is needed on Snow Leopard
>> only to force gcc, since the default is clang there,
>> and clang doesn't support PPC arch anymore. ]
>
> clang compiler is fine here.
>
> I've already created i386 libraries from object files from this  
> compiler.
>
>
> BTW: You have done a fantastic work here simplifying the process to  
> build harbour in almost *every* platform, my sincere congrats.
>
>
> best regards,
>
> Teo_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Sun Oct  4 15:38:58 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Oct  4 15:39:03 2009
Subject: [Harbour] Issue about hbmk2 hbhpdf and libpng
In-Reply-To: <D83A2A2A-9B20-4882-B3FB-D2463D206880@syenar.hu>
References: <9257026e0910040407m3a96d633p7d051b630a142bac@mail.gmail.com>
	<17A3B8E8-EDE8-44C4-A28E-2B59CDD9329B@syenar.hu>
	<9257026e0910040834o2edd264bl91c60d5182b7ea4f@mail.gmail.com>
	<D83A2A2A-9B20-4882-B3FB-D2463D206880@syenar.hu>
Message-ID: <9257026e0910041238j2546d1d8q9080ffcd36e7bc03@mail.gmail.com>

On Sun, Oct 4, 2009 at 5:42 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> No it won't. I've added it for a reason.

Sorry I can't understand: zlib, sqlite3 and pcre doesn't have lib prefix.

> Sorry this wouldn't build with some other packages default.
> (like default ones on Windows).

I've just done a Win build after removing the lib from Makefiles of
libhpdf anf libpng and I don't see any problem.

best regards,
Lorenzo
From teo at windtelsoft.com  Sun Oct  4 15:51:22 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sun Oct  4 15:51:36 2009
Subject: [Harbour] Snow Leopard; How to build an 32-bit Harbour
In-Reply-To: <c10dbf450910041220r37cec1f3j2ed24ad8e0a38130@mail.gmail.com>
References: <D3EBF671-2E62-47F1-969B-F74B2613FB76@windtelsoft.com>
	<D82769A8-3EEB-40A7-9F29-2CC2A13429E7@windtelsoft.com>
	<3A8AA092-3571-4F6A-B5DF-2D9D6CADA068@syenar.hu>
	<E4E78ADA-D19D-40AA-BDE1-53FDFC21E2C6@windtelsoft.com>
	<c10dbf450910041220r37cec1f3j2ed24ad8e0a38130@mail.gmail.com>
Message-ID: <707EC190-1BEA-445C-B1E9-C4B74DBBCB43@windtelsoft.com>


On Oct 4, 2009, at 2:20 PM, Phil Krylov wrote:

> On Sun, Oct 4, 2009 at 10:10 PM, Teo Fonrouge <teo@windtelsoft.com>  
> wrote:
>> On Oct 4, 2009, at 12:13 PM, Viktor Szak?ts wrote:
>>> export HB_USER_LDFLAGS=-arch i386
>
> export HB_USER_LDFLAGS="-arch i386"
>
>> -L../../../../../lib/darwin/gcc  -arch -lhbnortl -lhbcommon -lm
>> gcc-4.2: Invalid arch name : -lhbnortl
>
> You just need to quote the variable containing spaces, like shown  
> above.
>

You are right, thanks Phil.


best regards,

Teo

From vszakats at users.sourceforge.net  Sun Oct  4 15:57:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Oct  4 15:57:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12643] trunk/harbour
Message-ID: <E1MuXCa-0007AF-FB@c3vjzd1.ch3.sourceforge.com>

Revision: 12643
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12643&view=rev
Author:   vszakats
Date:     2009-10-04 19:56:27 +0000 (Sun, 04 Oct 2009)

Log Message:
-----------
2009-10-04 21:54 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Added "Unibin" example for Mac OS X.
    + Added separate HOWTO section for Mac OS X listing XCode as 
      prerequisite.
    ! Minor corrections in punctuation.

  * contrib/hbhpdf/hbhpdf.hbc
    ! Added png lib for *nix systems. Thanks Lorenzo.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbhpdf/hbhpdf.hbc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From teo at windtelsoft.com  Sun Oct  4 15:57:39 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sun Oct  4 15:57:47 2009
Subject: [Harbour] Snow Leopard; How to build an 32-bit Harbour
In-Reply-To: <B8741D72-A75B-485E-A667-E58FACB8C3FB@syenar.hu>
References: <D3EBF671-2E62-47F1-969B-F74B2613FB76@windtelsoft.com>
	<D82769A8-3EEB-40A7-9F29-2CC2A13429E7@windtelsoft.com>
	<3A8AA092-3571-4F6A-B5DF-2D9D6CADA068@syenar.hu>
	<E4E78ADA-D19D-40AA-BDE1-53FDFC21E2C6@windtelsoft.com>
	<B8741D72-A75B-485E-A667-E58FACB8C3FB@syenar.hu>
Message-ID: <C5B92B21-66D4-4741-8245-FC7E74B026B3@windtelsoft.com>


On Oct 4, 2009, at 2:36 PM, Viktor Szak?ts wrote:

> No need to do this just correct my typos:
> export HB_BLABLABLA="-arch i386"
> export HB_JGJHG=${HB_BLABLABLA}

Sorry Viktor, this still don't work:

<output>
gcc  -I. -I../../../../../include -fno-common -Wall -W -O3   -o hbpp.o  
-c ../../../hbpp.c
gcc -fno-common -Wall -W -O3 -o ../../../../../bin/darwin/gcc/hbpp  
hbpp.o  -L../../../../../lib/darwin/gcc  -arch i386 -lhbnortl - 
lhbcommon -lm
ld: warning: in hbpp.o, file is not of required architecture
ld: warning: in ../../../../../lib/darwin/gcc/libhbnortl.a, file is  
not of required architecture
ld: warning: in ../../../../../lib/darwin/gcc/libhbcommon.a, file is  
not of required architecture
Undefined symbols:
   "_main", referenced from:
       start in crt1.10.6.o
ld: symbol(s) not found
collect2: ld returned 1 exit status
make[3]: *** [hbpp] Error 1
rm hbpp.o
make[2]: *** [descend] Error 2
make[1]: *** [pp] Error 2
make: *** [source] Error 2
</output>

As you see, hbpp.c is compiled without "-arch i386" and then the obj  
obtained is used to produce an "-arch i386" lib.


best regards,

Teo

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091004/8582e122/attachment-0001.html
From teo at windtelsoft.com  Sun Oct  4 16:00:59 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sun Oct  4 16:01:08 2009
Subject: [Harbour] Snow Leopard; How to build an 32-bit Harbour
In-Reply-To: <C5B92B21-66D4-4741-8245-FC7E74B026B3@windtelsoft.com>
References: <D3EBF671-2E62-47F1-969B-F74B2613FB76@windtelsoft.com>
	<D82769A8-3EEB-40A7-9F29-2CC2A13429E7@windtelsoft.com>
	<3A8AA092-3571-4F6A-B5DF-2D9D6CADA068@syenar.hu>
	<E4E78ADA-D19D-40AA-BDE1-53FDFC21E2C6@windtelsoft.com>
	<B8741D72-A75B-485E-A667-E58FACB8C3FB@syenar.hu>
	<C5B92B21-66D4-4741-8245-FC7E74B026B3@windtelsoft.com>
Message-ID: <92EA927F-87F5-40AC-9D3F-5C4F16058D48@windtelsoft.com>


On Oct 4, 2009, at 2:57 PM, Teo Fonrouge wrote:

>
> On Oct 4, 2009, at 2:36 PM, Viktor Szak?ts wrote:
>
>> No need to do this just correct my typos:
>> export HB_BLABLABLA="-arch i386"
>> export HB_JGJHG=${HB_BLABLABLA}
>
> Sorry Viktor, this still don't work:
>
> <output>
> gcc  -I. -I../../../../../include -fno-common -Wall -W -O3   -o  
> hbpp.o -c ../../../hbpp.c
> gcc -fno-common -Wall -W -O3 -o ../../../../../bin/darwin/gcc/hbpp  
> hbpp.o  -L../../../../../lib/darwin/gcc  -arch i386 -lhbnortl - 
> lhbcommon -lm
> ld: warning: in hbpp.o, file is not of required architecture
> ld: warning: in ../../../../../lib/darwin/gcc/libhbnortl.a, file is  
> not of required architecture
> ld: warning: in ../../../../../lib/darwin/gcc/libhbcommon.a, file is  
> not of required architecture
> Undefined symbols:
>   "_main", referenced from:
>       start in crt1.10.6.o
> ld: symbol(s) not found
> collect2: ld returned 1 exit status
> make[3]: *** [hbpp] Error 1
> rm hbpp.o
> make[2]: *** [descend] Error 2
> make[1]: *** [pp] Error 2
> make: *** [source] Error 2
> </output>
>
> As you see, hbpp.c is compiled without "-arch i386" and then the obj  
> obtained is used to produce an "-arch i386" lib.


My fault, it all have to do with the syntax of the exported vars.

Now it works fine.


Thanks.



best regards,

Teo

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091004/b04bea3e/attachment.html
From harbour.01 at syenar.hu  Sun Oct  4 16:03:48 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Oct  4 16:03:56 2009
Subject: [Harbour] Issue about hbmk2 hbhpdf and libpng
In-Reply-To: <9257026e0910041238j2546d1d8q9080ffcd36e7bc03@mail.gmail.com>
References: <9257026e0910040407m3a96d633p7d051b630a142bac@mail.gmail.com>
	<17A3B8E8-EDE8-44C4-A28E-2B59CDD9329B@syenar.hu>
	<9257026e0910040834o2edd264bl91c60d5182b7ea4f@mail.gmail.com>
	<D83A2A2A-9B20-4882-B3FB-D2463D206880@syenar.hu>
	<9257026e0910041238j2546d1d8q9080ffcd36e7bc03@mail.gmail.com>
Message-ID: <C991EE33-BABD-4E7A-B2E4-1D8231926868@syenar.hu>

> On Sun, Oct 4, 2009 at 5:42 PM, Viktor Szak?ts <harbour. 
> 01@syenar.hu> wrote:
>
>> No it won't. I've added it for a reason.
>
> Sorry I can't understand: zlib, sqlite3 and pcre doesn't have lib  
> prefix.

I just used the names used by the creators of these libs.
zlib is called "zlib", sqlite3 is called "sqlite3", pcre is
called "pcre", png is called "libpng", harupd is called
"libharu". Probably everyone can come up with examples to
disapprove my findings, but these seemed the best, most
official, etc, names I could find out by carefully checking
the matter. These names are NOT used consistently in all
documents, not even in all official documents, and by far
not used consistently when naming their actual binary
build of libs on different platforms.

BTW, for example "png" means the PNG format. Not the lib
which deals with it.

Unfortunately it's an imperfect world, and I don't plan
to create peace and love in this matter ;)

>> Sorry this wouldn't build with some other packages default.
>> (like default ones on Windows).
>
> I've just done a Win build after removing the lib from Makefiles of
> libhpdf anf libpng and I don't see any problem.

Did you check all possible platform/compiler combinations?
If you remove "lib" from png lib name, f.e. the msvc, bcc
builds are instantly broken. Anyway you will cause headaches
for some users on some platforms and you'll end up needing
a much more complicated logic than current one to deal with it.

Brgds,
Viktor

From toninhofwi at yahoo.com.br  Sun Oct  4 19:43:28 2009
From: toninhofwi at yahoo.com.br (ToninhoFWi)
Date: Sun Oct  4 19:43:34 2009
Subject: [Harbour] Compile Error Using BCC 6.20
In-Reply-To: <4AC4D26F.2070506@gmail.com>
References: <4ac4d002.0908c00a.2e88.32afSMTPIN_ADDED@mx.google.com>
	<4AC4D26F.2070506@gmail.com>
Message-ID: <1jcic59s3o51kt61klbs4fcaifcg35o8ca@4ax.com>

Hi Mario,

Try to look into bcc32.cfg and ilink32.cfg, there are some paths there
that need be filled, here is my files:

---bcc32.cfg---
-IC:\bcc\include;C:\bcc\include\dinkumware
-LC:\bcc\lib
-O2
-d
-5
-6
-a8
---bcc32.cfg---

---ilink32.cfg---
-LC:\bcc\lib
---ilink32.cfg---


Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From druzus at users.sourceforge.net  Mon Oct  5 01:32:41 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Oct  5 01:32:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12644] trunk/harbour
Message-ID: <E1MugBd-00089l-It@d5vjzd1.ch3.sourceforge.com>

Revision: 12644
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12644&view=rev
Author:   druzus
Date:     2009-10-05 05:32:40 +0000 (Mon, 05 Oct 2009)

Log Message:
-----------
2009-10-05 07:32 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rdd/dbf1.c
    ! fixed typo in record CP translation condition

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rdd/dbf1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Mon Oct  5 02:07:19 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Oct  5 02:07:25 2009
Subject: [Harbour] Issue about hbmk2 hbhpdf and libpng
In-Reply-To: <C991EE33-BABD-4E7A-B2E4-1D8231926868@syenar.hu>
References: <9257026e0910040407m3a96d633p7d051b630a142bac@mail.gmail.com>
	<17A3B8E8-EDE8-44C4-A28E-2B59CDD9329B@syenar.hu>
	<9257026e0910040834o2edd264bl91c60d5182b7ea4f@mail.gmail.com>
	<D83A2A2A-9B20-4882-B3FB-D2463D206880@syenar.hu>
	<9257026e0910041238j2546d1d8q9080ffcd36e7bc03@mail.gmail.com>
	<C991EE33-BABD-4E7A-B2E4-1D8231926868@syenar.hu>
Message-ID: <9257026e0910042307l1cb04d85va31da938b5e9ca3b@mail.gmail.com>

On Sun, Oct 4, 2009 at 10:03 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> I just used the names used by the creators of these libs.
> ...
> Did you check all possible platform/compiler combinations?
> If you remove "lib" from png lib name, f.e. the msvc, bcc
> builds are instantly broken. Anyway you will cause headaches
> for some users on some platforms and you'll end up needing
> a much more complicated logic than current one to deal with it.

I've just installed Visual C++ 2008 Express edition and done a clean
win-make build and hbmk2 -gtwvt harupdf works like a charm without the
lib prefix.

I've also noted that there no other libs that start with lib so it
doesn't seem a platform requirement.

Libpng is used by other graphical libs ( f.e. gd ) so it could be
source of collisions.
Probably hbpng would be a better name for the local lib.

I haven't found an official deb or rpm for libharu but to be included
in Debian or Fedora Harbour has to respect the system packaging
guidelines.
F.e. in Fedora there is a complete mingw32 cross compiling system that
provide not only the compiler but also the most used libs. So the
{unix}{win} difference can be misleading for a Linux developer that
want to create a Windows target ( like me :).

best regards,
Lorenzo
From mbelgrano at deltain.it  Mon Oct  5 02:21:22 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct  5 02:21:50 2009
Subject: [Harbour] Wich is the official harbour's user group?
Message-ID: <609353e70910042321j267ad548xdf9732ef24e158a9@mail.gmail.com>

Wich is the official harbour's user group?

https://sourceforge.net/apps/phpbb/harbour-project/index.php
or
http://lists.harbour-project.org/pipermail/harbour-users/

-- 
Massimo Belgrano
From philb at philb.us  Mon Oct  5 02:33:17 2009
From: philb at philb.us (Phil Barnett)
Date: Mon Oct  5 02:33:25 2009
Subject: [Harbour] hbmemio issue
In-Reply-To: <10EBF46A-6DF8-4275-AA86-FBC93EB5B5CE@syenar.hu>
References: <1AFCE99C-AC9C-4384-B540-4F34FB4A64AE@syenar.hu>
	<4AB8D43F.3060607@dbtopas.lt>
	<10EBF46A-6DF8-4275-AA86-FBC93EB5B5CE@syenar.hu>
Message-ID: <1254724397.2045.20.camel@SunSpot>

On Tue, 2009-09-22 at 18:23 +0200, Viktor Szak?ts wrote:
> Yes, with real FS it's okay with our APIs, but
> such date/time/random based solution aren't rock
> solid (uniqueness isn't guaranteed), so indeed
> something better would be good.

pseudocode

do

   RandomFileName = SomeRandomFileNameCreator(basename)

   if not exist RandomFileName
	exit
   end if

loop

There's still a very very small chance of a race condition, but unless
you are going to use a semaphore supplied by the OS or Server, that's a
cross you have to bear. But it's a very tiny race condition and I've
never found it to be a problem in production code, especially if the
random number is large and is properly reseeded.

From harbour.01 at syenar.hu  Mon Oct  5 02:44:07 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 02:44:17 2009
Subject: [Harbour] hbmemio issue
In-Reply-To: <1254724397.2045.20.camel@SunSpot>
References: <1AFCE99C-AC9C-4384-B540-4F34FB4A64AE@syenar.hu>
	<4AB8D43F.3060607@dbtopas.lt>
	<10EBF46A-6DF8-4275-AA86-FBC93EB5B5CE@syenar.hu>
	<1254724397.2045.20.camel@SunSpot>
Message-ID: <8A9DCA78-2BDF-4A21-842C-D7433EBE310C@syenar.hu>

Thanks Phil for the idea, this could indeed work.

[ Been using something similar for real .dbfs.
It was quite though to implement properly, but luckily
for mem files some of the problem cases can be disregarded. ]

Brgds,
Viktor

On 2009 Oct 5, at 08:33, Phil Barnett wrote:

> On Tue, 2009-09-22 at 18:23 +0200, Viktor Szak?ts wrote:
>> Yes, with real FS it's okay with our APIs, but
>> such date/time/random based solution aren't rock
>> solid (uniqueness isn't guaranteed), so indeed
>> something better would be good.
>
> pseudocode
>
> do
>
>   RandomFileName = SomeRandomFileNameCreator(basename)
>
>   if not exist RandomFileName
> 	exit
>   end if
>
> loop
>
> There's still a very very small chance of a race condition, but unless
> you are going to use a semaphore supplied by the OS or Server,  
> that's a
> cross you have to bear. But it's a very tiny race condition and I've
> never found it to be a problem in production code, especially if the
> random number is large and is properly reseeded.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Oct  5 02:48:23 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 02:48:34 2009
Subject: [Harbour] Wich is the official harbour's user group?
In-Reply-To: <609353e70910042321j267ad548xdf9732ef24e158a9@mail.gmail.com>
References: <609353e70910042321j267ad548xdf9732ef24e158a9@mail.gmail.com>
Message-ID: <DC2BE7A5-9955-4441-BA96-C6ECC50B8B94@syenar.hu>

I guess the first one, but we didn't make an "official"
decision yet. But we should. And since we still have the
old one linked from the homepage, ppl seem to find it
instead of the forum.

If there are no better ideas, we should remove users-list
link from homepage. This way it's confusing.

Brgds,
Viktor

On 2009 Oct 5, at 08:21, Massimo Belgrano wrote:

> Wich is the official harbour's user group?
>
> https://sourceforge.net/apps/phpbb/harbour-project/index.php
> or
> http://lists.harbour-project.org/pipermail/harbour-users/
>
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Mon Oct  5 03:06:44 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct  5 03:07:10 2009
Subject: [Harbour] Wich is the official harbour's user group?
In-Reply-To: <DC2BE7A5-9955-4441-BA96-C6ECC50B8B94@syenar.hu>
References: <609353e70910042321j267ad548xdf9732ef24e158a9@mail.gmail.com> 
	<DC2BE7A5-9955-4441-BA96-C6ECC50B8B94@syenar.hu>
Message-ID: <609353e70910050006r200ccbb1qdb240c2f2327930@mail.gmail.com>

Yes agree
Better having only one indication

IMO  in future we can also share a way with an harbour distribution
called MINIGUI http://www.hmgforum.com/


2009/10/5 Viktor Szak?ts <harbour.01@syenar.hu>:
> I guess the first one, but we didn't make an "official"
> decision yet. But we should. And since we still have the
> old one linked from the homepage, ppl seem to find it
> instead of the forum.
>
> If there are no better ideas, we should remove users-list
> link from homepage. This way it's confusing.
>
> Brgds,
> Viktor
>
> On 2009 Oct 5, at 08:21, Massimo Belgrano wrote:
>
>> Wich is the official harbour's user group?
>>
>> https://sourceforge.net/apps/phpbb/harbour-project/index.php
>> or
>> http://lists.harbour-project.org/pipermail/harbour-users/
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Oct  5 03:15:11 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 03:15:19 2009
Subject: [Harbour] Wich is the official harbour's user group?
In-Reply-To: <609353e70910050006r200ccbb1qdb240c2f2327930@mail.gmail.com>
References: <609353e70910042321j267ad548xdf9732ef24e158a9@mail.gmail.com>
	<DC2BE7A5-9955-4441-BA96-C6ECC50B8B94@syenar.hu>
	<609353e70910050006r200ccbb1qdb240c2f2327930@mail.gmail.com>
Message-ID: <57D7083C-0B38-489F-B3E2-2F6A89A57C11@syenar.hu>

> IMO  in future we can also share a way with an harbour distribution
> called MINIGUI http://www.hmgforum.com/

To me these seems rather problematic:

- I still couldn't decipher the difference between
   HMG and MINIGUI, and your above sentence fully describes
   the confusion.
- HMG (and MINIGUI?) ships with customized Harbour
   version which they are also shipping along their libs.
   They also repackage a lot of contribs with different
   names.

So their forums cannot be used to discuss general
Harbour issues.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Oct  5 03:28:20 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 03:28:29 2009
Subject: [Harbour] Windows SDK 7 compiler tools
Message-ID: <F27DAA19-2F78-49CD-BDF5-C8425C1E7456@syenar.hu>

Hi All,

Maybe someone is interested: in Windows SDK 7, there are
also C++ *compiler tools* included to build x86, x64 and ia64
targets. This seems to mean that these targets can now be
built for free.

F.e. formerly Visual Studio Team Suite was needed for
ia64 and Std/Pro for x64.

Brgds,
Viktor

From mbelgrano at deltain.it  Mon Oct  5 03:35:09 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct  5 03:35:36 2009
Subject: [Harbour] Wich is the official harbour's user group?
In-Reply-To: <57D7083C-0B38-489F-B3E2-2F6A89A57C11@syenar.hu>
References: <609353e70910042321j267ad548xdf9732ef24e158a9@mail.gmail.com> 
	<DC2BE7A5-9955-4441-BA96-C6ECC50B8B94@syenar.hu>
	<609353e70910050006r200ccbb1qdb240c2f2327930@mail.gmail.com> 
	<57D7083C-0B38-489F-B3E2-2F6A89A57C11@syenar.hu>
Message-ID: <609353e70910050035n41d71a61t6fbc1dd74c96c46d@mail.gmail.com>

Minigui is a guilib for harbour, HMG is a distribution that include
Harbour customised and minigui (with the original distribution)
Other are Minigui distribution based on modified version of source
(extended,oohg) and not include harbour afaik
IMO contrib name can be changed to be uniform
Join of Minigui and harbour give  Free / Open Source xBase WIN32 / GUI
Development System
Today HMG have a strong comunity and Harbour have a strong compiler
multiplatform
Vianemo will be another way to give multiplatform to minigui

Please Roberto lopez when you see this messages post your right reply

Will harbour and hmg share an harbour corner to made assistance to
either final user?



2009/10/5 Viktor Szak?ts <harbour.01@syenar.hu>:
>> IMO ?in future we can also share a way with an harbour distribution
>> called MINIGUI http://www.hmgforum.com/
>
> To me these seems rather problematic:
>
> - I still couldn't decipher the difference between
> ?HMG and MINIGUI, and your above sentence fully describes
> ?the confusion.
> - HMG (and MINIGUI?) ships with customized Harbour
> ?version which they are also shipping along their libs.
> ?They also repackage a lot of contribs with different
> ?names.
>
> So their forums cannot be used to discuss general
> Harbour issues.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From alxokhotnikov at gmail.com  Mon Oct  5 03:37:23 2009
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Mon Oct  5 03:37:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <20091004120212.GA32231@uran.home.aster.pl>
References: <E1MprLO-00063j-K6@c3vjzd1.ch3.sourceforge.com>
	<4AB88DF5.7090704@dbtopas.lt> <4ABA2AB9.4020101@dbtopas.lt>
	<20090924102614.GA25988@uran.home.aster.pl>
	<d6fa31440909240915w76e61d0bv7b9985fd2752d6fc@mail.gmail.com>
	<A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu>
	<4AC21116.3070107@mweb.co.za>
	<20091002115243.GA21975@uran.home.aster.pl>
	<d6fa31440910020935i7eb67916x18f90e416be3672@mail.gmail.com>
	<20091004120212.GA32231@uran.home.aster.pl>
Message-ID: <d6fa31440910050037h74879e59g1e8aef36c26bdda0@mail.gmail.com>

Hi

2009/10/4 Przemyslaw Czerpak <druzus@acn.waw.pl>:
>
> Rather for people who do not want to move his code to server side.
> ADS is only partial solution and much better and more efficient is
> moving whole application to the server and execute it remotely.

50-100 councurrent access

1. very large load on the server
2. Given the current local machine (very productive) - why do we need
a decision like Terminal-server?
3. not everything can be transferred to the server (browse...)

>> The main types are (my opinion that this long enough), add the rest
>> later (for DBF, they are not critical)
>
> These are only your personal preferences.

I wrote that this is only my opinion

>> SEEK: for numeric fields to translate a string based on the dimension
>> of the field (no loss of accuracy)
>
> You do not understand the problem. It is problem and it's very serious bug.

For SEEK, I do not see the problem. What exactly I do not understand?

>> > 7. it does not respect many of _SET_* settings
>> I think to finish (or customize a specific case) will not take much time
>
> how it should be done to keep original author vision which is unknown.
> I can imagine at least three different implementation which will give
> different final functionality. Some implementation strongly depends on
> used communication protocols some others may badly work with .hrb modules
> automatically registered on server side by clients (i.e. with UDFs used
> by client in filter or index expressions), etc.
> I do not know what is the final goal of LetoDB development and to implement
> it I will have to take some arbitrary decisions which may create problems
> in the future.

What exactly would the author - one must ask the author. In any case
the project is completed by the author (based on activity over the
past year)
Now we are not talking about the UDF. I would like to, but it means a
change that just lead to incompatibility with the current
implementation

> You can use RDD section in CA-Clipper 5.3 Technical Reference.
> Harbour RDD model follow very closely Clipper one. There are only
> few small differences and extensions and it was the place were
> I started before I touched Harbour RDD code.

"few small differences and extensions"  :)

> If you want to see what it means in practice then please try the
> code below. It shows only thr cost of scope setting/restoring in
> current LetoDB (3-rd value).
> Here are results in my Linux box and localhost connection.
> 1. using local file access:
> ? RDD: DBFCDX _tst2
> ? creating table... ? ? ? ? ? ?0.20 sec.
> ? indexing... ? ? ? ? ? ? ? ? ?0.03 sec.
> ? testing... ? ? ? ? ? ? ? ? ? 0.07 sec.
>
> 2. using NETIO:
> ? RDD: DBFCDX NET:127.0.0.1:/_tst2
> ? creating table... ? ? ? ? ? ?0.72 sec.
> ? indexing... ? ? ? ? ? ? ? ? ?0.14 sec.
> ? testing... ? ? ? ? ? ? ? ? ? 0.20 sec.
>
> 3. using LetoDB:
> ? RDD: LETO //127.0.0.1:2812/_tst2
> ? creating table... ? ? ? ? ? ?2.43 sec.
> ? indexing... ? ? ? ? ? ? ? ? ?0.05 sec.
> ? testing... ? ? ? ? ? ? ? ? ?86.17 sec.
>
> So in this test LetoDB is ?431 _times_ slower then NETIO and believe
> me it's not the worst case. If you want you can try to increase number
> of records and you will see what will happen.
> If you repeat this tests in LAN then network overhead should reduce
> the difference but I do not think that LetoDB will be faster.
> If you have a while then I'm interesting in your results in LAN.

Key values (for a real application) are three:
1. use SHARED!
2. LAN (not local)
3. Simultaneous access to the table more than one application (even if
the SHARED and one, for instance, windows optimize queries)

My example (two connections to the table):

RDD: DBFCDX \\192.168.170.11\income\_tst2
testing...                   25.58 sec.

RDD: LETO //192.168.170.11:2812/_tst2
testing...                  56.09 sec.


But since I do not use OrdKeyNo () for each record (and what is it
for?), Then I rewrote at SEEK

/*  dbGoTop()
  while !eof()
     x := ordKeyNo()// / ordKeyCount()
     dbSkip()
  enddo*/
  for i := 1 to lastrec()
      seek (  l2bin( i ) + "x" )
      if ! found()
          ? "!!!!!!!!!!!!!!!!!!"
      endif
  next

RDD: DBFCDX \\192.168.170.11\income\_tst2
testing...                   17.59 sec.

RDD: LETO //192.168.170.11:2812/_tst2
testing...                  8.12 sec.


> See above test results. How LetoDB works strongly depends on user code.
> The funny things is that non optimized code which use pure SET FILTER TO
> without any index scopes settings needs RDD which makes automatic scope
> optimization like COMIX or RMDBF*. Otherwise it works very slow using
> file IO API in network environment and here switching to LetoDB may help
> though not always.
> But for code optimized by programmer which expensively use scopes then
> switching to LetoDB may cause very serious slownes.

I see other results
Plus, a stable job (do not affect client hangs), in contrast to DBFCDX
and NETIO (even more important than speed)

>
>
> best regards,
> Przemek
>
>
> #define N_RECCOUNT 10000
> REQUEST LETO
> REQUEST DBFCDX
> field F
> proc main(rdd)
> ? local cFile := "_tst2", fileFunc, x, t
> ? if empty(rdd)
> ? ? ?cFile := "//127.0.0.1:2812/" + cFile
> ? ? ?rddSetDefault( "LETO" )
> ? ? ?fileFunc:=@leto_file()
> ? else
> ? ? ?if upper(rdd)="NET:"
> ? ? ? ? cFile := "NET:127.0.0.1:/" + cFile
> ? ? ?endif
> ? ? ?rddSetDefault( "DBFCDX" )
> ? ? ?fileFunc:=@dbExists()
> ? endif
> ? ? "RDD:", rddSetDefault(), cFile
> ? if !fileFunc:exec( cFile + ".dbf" )
> ? ? ?? padr( "creating table...", 20 )
> ? ? ?t := seconds()
> ? ? ?dbCreate( cFile, {{"F","C",100,0},{"F2","L",1,0}} )
> ? ? ?use (cFile) alias tst
> ? ? ?while lastrec() < N_RECCOUNT
> ? ? ? ? dbAppend(); F := l2bin( recno() ) + repl( "x", 100 )
> ? ? ?enddo
> ? ? ?t := seconds() - t
> ? ? ??? t, "sec."
> ? ? ?? padr( "indexing...", 20 )
> ? ? ?t := seconds()
> ? ? ?index on F tag T to (cFile)
> ? ? ?t := seconds() - t
> ? ? ??? t, "sec."
> ? ? ?close
> ? endif
> ? use (cFile) alias tst
> ? set index to (cFile)
> ? ? padr( "testing...", 20 )
> ? t := seconds()
> ? ordScope( 0, l2bin( 0 ) + "x" )
> ? dbGoTop()
> ? while !eof()
> ? ? ?x := ordKeyNo() / ordKeyCount()
> ? ? ?dbSkip()
> ? enddo
> ? t := seconds() - t
> ? ?? t, "sec."
> ? close
> return
From harbour.01 at syenar.hu  Mon Oct  5 03:55:37 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 03:55:45 2009
Subject: [Harbour] Wich is the official harbour's user group?
In-Reply-To: <609353e70910050035n41d71a61t6fbc1dd74c96c46d@mail.gmail.com>
References: <609353e70910042321j267ad548xdf9732ef24e158a9@mail.gmail.com>
	<DC2BE7A5-9955-4441-BA96-C6ECC50B8B94@syenar.hu>
	<609353e70910050006r200ccbb1qdb240c2f2327930@mail.gmail.com>
	<57D7083C-0B38-489F-B3E2-2F6A89A57C11@syenar.hu>
	<609353e70910050035n41d71a61t6fbc1dd74c96c46d@mail.gmail.com>
Message-ID: <F04BB702-B417-49C1-ABD7-7FF7C005EE58@syenar.hu>

> Minigui is a guilib for harbour, HMG is a distribution that include
> Harbour customised and minigui (with the original distribution)
> Other are Minigui distribution based on modified version of source
> (extended,oohg) and not include harbour afaik
> IMO contrib name can be changed to be uniform
> Join of Minigui and harbour give  Free / Open Source xBase WIN32 / GUI
> Development System
> Today HMG have a strong comunity and Harbour have a strong compiler
> multiplatform
> Vianemo will be another way to give multiplatform to minigui
>
> Please Roberto lopez when you see this messages post your right reply
>
> Will harbour and hmg share an harbour corner to made assistance to
> either final user?

For me it would seem a much healthier separation that
we concentrate on Harbour and we're allowing 3rd parties
to easily "plugin" into the system.

Of course all this doesn't and shouldn't prevent any
3rd party forums to give general Harbour support.

[ So far though I'm usually approached by ppl using
a MiniGUI+Harbour combination, which I cannot comment
on at all, and f.e. telling that pls check latest SVN
isn't an option, etctetcetc. ]

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Oct  5 04:02:09 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 04:02:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <d6fa31440910050037h74879e59g1e8aef36c26bdda0@mail.gmail.com>
References: <E1MprLO-00063j-K6@c3vjzd1.ch3.sourceforge.com>
	<4AB88DF5.7090704@dbtopas.lt> <4ABA2AB9.4020101@dbtopas.lt>
	<20090924102614.GA25988@uran.home.aster.pl>
	<d6fa31440909240915w76e61d0bv7b9985fd2752d6fc@mail.gmail.com>
	<A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu>
	<4AC21116.3070107@mweb.co.za>
	<20091002115243.GA21975@uran.home.aster.pl>
	<d6fa31440910020935i7eb67916x18f90e416be3672@mail.gmail.com>
	<20091004120212.GA32231@uran.home.aster.pl>
	<d6fa31440910050037h74879e59g1e8aef36c26bdda0@mail.gmail.com>
Message-ID: <4F3ACD31-975F-4B66-A113-A2CDE3FAE290@syenar.hu>

What you say is that "it works for me" which is not an indication
of quality, nor design, nor proven stability, etcetc.

TBROWSE() comes to mind as an example, which also "worked for me"
for a lot of ppl, yet it had to be reimplemented from scratch
(which a huge amount of testing and work investment) to
*really* make it work, not "just for me" but for *all* possible
uses and users with full Clipper compatibility.

I don't doubt LetoDB can work in many situations and for many
users and it's a very nice effort and project on its own, but
cited issues are real ones. If we had disregarded such issues
in other places of Harbour, our project would be nowhere it is
now.

Brgds,
Viktor

On 2009 Oct 5, at 09:37, Alexandr Okhotnikov wrote:

> Hi
>
> 2009/10/4 Przemyslaw Czerpak <druzus@acn.waw.pl>:
>>
>> Rather for people who do not want to move his code to server side.
>> ADS is only partial solution and much better and more efficient is
>> moving whole application to the server and execute it remotely.
>
> 50-100 councurrent access
>
> 1. very large load on the server
> 2. Given the current local machine (very productive) - why do we need
> a decision like Terminal-server?
> 3. not everything can be transferred to the server (browse...)
>
>>> The main types are (my opinion that this long enough), add the rest
>>> later (for DBF, they are not critical)
>>
>> These are only your personal preferences.
>
> I wrote that this is only my opinion
>
>>> SEEK: for numeric fields to translate a string based on the  
>>> dimension
>>> of the field (no loss of accuracy)
>>
>> You do not understand the problem. It is problem and it's very  
>> serious bug.
>
> For SEEK, I do not see the problem. What exactly I do not understand?
>
>>>> 7. it does not respect many of _SET_* settings
>>> I think to finish (or customize a specific case) will not take  
>>> much time
>>
>> how it should be done to keep original author vision which is  
>> unknown.
>> I can imagine at least three different implementation which will give
>> different final functionality. Some implementation strongly depends  
>> on
>> used communication protocols some others may badly work with .hrb  
>> modules
>> automatically registered on server side by clients (i.e. with UDFs  
>> used
>> by client in filter or index expressions), etc.
>> I do not know what is the final goal of LetoDB development and to  
>> implement
>> it I will have to take some arbitrary decisions which may create  
>> problems
>> in the future.
>
> What exactly would the author - one must ask the author. In any case
> the project is completed by the author (based on activity over the
> past year)
> Now we are not talking about the UDF. I would like to, but it means a
> change that just lead to incompatibility with the current
> implementation
>
>> You can use RDD section in CA-Clipper 5.3 Technical Reference.
>> Harbour RDD model follow very closely Clipper one. There are only
>> few small differences and extensions and it was the place were
>> I started before I touched Harbour RDD code.
>
> "few small differences and extensions"  :)
>
>> If you want to see what it means in practice then please try the
>> code below. It shows only thr cost of scope setting/restoring in
>> current LetoDB (3-rd value).
>> Here are results in my Linux box and localhost connection.
>> 1. using local file access:
>>   RDD: DBFCDX _tst2
>>   creating table...            0.20 sec.
>>   indexing...                  0.03 sec.
>>   testing...                   0.07 sec.
>>
>> 2. using NETIO:
>>   RDD: DBFCDX NET:127.0.0.1:/_tst2
>>   creating table...            0.72 sec.
>>   indexing...                  0.14 sec.
>>   testing...                   0.20 sec.
>>
>> 3. using LetoDB:
>>   RDD: LETO //127.0.0.1:2812/_tst2
>>   creating table...            2.43 sec.
>>   indexing...                  0.05 sec.
>>   testing...                  86.17 sec.
>>
>> So in this test LetoDB is  431 _times_ slower then NETIO and believe
>> me it's not the worst case. If you want you can try to increase  
>> number
>> of records and you will see what will happen.
>> If you repeat this tests in LAN then network overhead should reduce
>> the difference but I do not think that LetoDB will be faster.
>> If you have a while then I'm interesting in your results in LAN.
>
> Key values (for a real application) are three:
> 1. use SHARED!
> 2. LAN (not local)
> 3. Simultaneous access to the table more than one application (even if
> the SHARED and one, for instance, windows optimize queries)
>
> My example (two connections to the table):
>
> RDD: DBFCDX \\192.168.170.11\income\_tst2
> testing...                   25.58 sec.
>
> RDD: LETO //192.168.170.11:2812/_tst2
> testing...                  56.09 sec.
>
>
> But since I do not use OrdKeyNo () for each record (and what is it
> for?), Then I rewrote at SEEK
>
> /*  dbGoTop()
>  while !eof()
>     x := ordKeyNo()// / ordKeyCount()
>     dbSkip()
>  enddo*/
>  for i := 1 to lastrec()
>      seek (  l2bin( i ) + "x" )
>      if ! found()
>          ? "!!!!!!!!!!!!!!!!!!"
>      endif
>  next
>
> RDD: DBFCDX \\192.168.170.11\income\_tst2
> testing...                   17.59 sec.
>
> RDD: LETO //192.168.170.11:2812/_tst2
> testing...                  8.12 sec.
>
>
>> See above test results. How LetoDB works strongly depends on user  
>> code.
>> The funny things is that non optimized code which use pure SET  
>> FILTER TO
>> without any index scopes settings needs RDD which makes automatic  
>> scope
>> optimization like COMIX or RMDBF*. Otherwise it works very slow using
>> file IO API in network environment and here switching to LetoDB may  
>> help
>> though not always.
>> But for code optimized by programmer which expensively use scopes  
>> then
>> switching to LetoDB may cause very serious slownes.
>
> I see other results
> Plus, a stable job (do not affect client hangs), in contrast to DBFCDX
> and NETIO (even more important than speed)
>
>>
>>
>> best regards,
>> Przemek
>>
>>
>> #define N_RECCOUNT 10000
>> REQUEST LETO
>> REQUEST DBFCDX
>> field F
>> proc main(rdd)
>>   local cFile := "_tst2", fileFunc, x, t
>>   if empty(rdd)
>>      cFile := "//127.0.0.1:2812/" + cFile
>>      rddSetDefault( "LETO" )
>>      fileFunc:=@leto_file()
>>   else
>>      if upper(rdd)="NET:"
>>         cFile := "NET:127.0.0.1:/" + cFile
>>      endif
>>      rddSetDefault( "DBFCDX" )
>>      fileFunc:=@dbExists()
>>   endif
>>   ? "RDD:", rddSetDefault(), cFile
>>   if !fileFunc:exec( cFile + ".dbf" )
>>      ? padr( "creating table...", 20 )
>>      t := seconds()
>>      dbCreate( cFile, {{"F","C",100,0},{"F2","L",1,0}} )
>>      use (cFile) alias tst
>>      while lastrec() < N_RECCOUNT
>>         dbAppend(); F := l2bin( recno() ) + repl( "x", 100 )
>>      enddo
>>      t := seconds() - t
>>      ?? t, "sec."
>>      ? padr( "indexing...", 20 )
>>      t := seconds()
>>      index on F tag T to (cFile)
>>      t := seconds() - t
>>      ?? t, "sec."
>>      close
>>   endif
>>   use (cFile) alias tst
>>   set index to (cFile)
>>   ? padr( "testing...", 20 )
>>   t := seconds()
>>   ordScope( 0, l2bin( 0 ) + "x" )
>>   dbGoTop()
>>   while !eof()
>>      x := ordKeyNo() / ordKeyCount()
>>      dbSkip()
>>   enddo
>>   t := seconds() - t
>>   ?? t, "sec."
>>   close
>> return
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From dmacias at mail.udg.mx  Mon Oct  5 04:16:31 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Oct  5 04:17:07 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12634] trunk/harbour
Message-ID: <4AC9AB5F.8090005@mail.udg.mx>

Viktor:

>> How can I test them ?

>Yes, I've added it even, just forgot about it.
>Anyhow was it ever tested? I don't think so, so it should be.

How can I test them ?

>It's one thing .dlls are generated, and another that they
>actually work. hbmk2 -shared os2/watcom, os2/gcc support is
>also untested. (just like many other os2 hbmk2 features)

David Macias




From M.Horodyski at pzuzycie.com.pl  Mon Oct  5 04:24:23 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Oct  5 04:24:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <d6fa31440910050037h74879e59g1e8aef36c26bdda0@mail.gmail.com>
References: <E1MprLO-00063j-K6@c3vjzd1.ch3.sourceforge.com><4AB88DF5.7090704@dbtopas.lt>
	<4ABA2AB9.4020101@dbtopas.lt><20090924102614.GA25988@uran.home.aster.pl><d6fa31440909240915w76e61d0bv7b9985fd2752d6fc@mail.gmail.com><A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu><4AC21116.3070107@mweb.co.za><20091002115243.GA21975@uran.home.aster.pl><d6fa31440910020935i7eb67916x18f90e416be3672@mail.gmail.com><20091004120212.GA32231@uran.home.aster.pl>
	<d6fa31440910050037h74879e59g1e8aef36c26bdda0@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C950288E346@PINK.zycie.pzu>

>-----Original Message-----
>From: Alexandr Okhotnikov [mailto:alxokhotnikov@gmail.com] 
>Sent: Monday, October 05, 2009 9:37 AM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] SF.net SVN: harbour-project:[12593] 
>trunk/harbour
>
>Hi
>
>2009/10/4 Przemyslaw Czerpak <druzus@acn.waw.pl>:
>>
>> Rather for people who do not want to move his code to server side.
>> ADS is only partial solution and much better and more efficient is 
>> moving whole application to the server and execute it remotely.
>
>50-100 councurrent access

I see the needs around 4 thousand and more connections.
We use these applications. Servers are on PHP or Java (or mixed !) and
web-technology work.
I therefore support the ideas from Mindaugas.
We need a high-performance web server and serving web services.

Regards,
Marek Horodyski
From mbelgrano at deltain.it  Mon Oct  5 04:36:41 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct  5 04:37:09 2009
Subject: [Harbour] Wich is the official harbour's user group?
In-Reply-To: <F04BB702-B417-49C1-ABD7-7FF7C005EE58@syenar.hu>
References: <609353e70910042321j267ad548xdf9732ef24e158a9@mail.gmail.com> 
	<DC2BE7A5-9955-4441-BA96-C6ECC50B8B94@syenar.hu>
	<609353e70910050006r200ccbb1qdb240c2f2327930@mail.gmail.com> 
	<57D7083C-0B38-489F-B3E2-2F6A89A57C11@syenar.hu>
	<609353e70910050035n41d71a61t6fbc1dd74c96c46d@mail.gmail.com> 
	<F04BB702-B417-49C1-ABD7-7FF7C005EE58@syenar.hu>
Message-ID: <609353e70910050136v3786de4aw37c439899fecc824@mail.gmail.com>

My proposal is join the forum not the product, also if name of contrib
library must be same
Better having one site that made good assistance that one that give
not good assistance

2009/10/5 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Minigui is a guilib for harbour, HMG is a distribution that include
>> Harbour customised and minigui (with the original distribution)
>> Other are Minigui distribution based on modified version of source
>> (extended,oohg) and not include harbour afaik
>> IMO contrib name can be changed to be uniform
>> Join of Minigui and harbour give ?Free / Open Source xBase WIN32 / GUI
>> Development System
>> Today HMG have a strong comunity and Harbour have a strong compiler
>> multiplatform
>> Vianemo will be another way to give multiplatform to minigui
>>
>> Please Roberto lopez when you see this messages post your right reply
>>
>> Will harbour and hmg share an harbour corner to made assistance to
>> either final user?
>
> For me it would seem a much healthier separation that
> we concentrate on Harbour and we're allowing 3rd parties
> to easily "plugin" into the system.
>
> Of course all this doesn't and shouldn't prevent any
> 3rd party forums to give general Harbour support.
>
> [ So far though I'm usually approached by ppl using
> a MiniGUI+Harbour combination, which I cannot comment
> on at all, and f.e. telling that pls check latest SVN
> isn't an option, etctetcetc. ]
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Oct  5 04:38:14 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 04:38:22 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12634] trunk/harbour
In-Reply-To: <4AC9AB5F.8090005@mail.udg.mx>
References: <4AC9AB5F.8090005@mail.udg.mx>
Message-ID: <3A9BDB1A-DA27-4F92-87E6-ADA623603734@syenar.hu>

>>> How can I test them ?
>
>> Yes, I've added it even, just forgot about it.
>> Anyhow was it ever tested? I don't think so, so it should be.
>
> How can I test them ?

hbmk2 -shared ...

In general hbmk2 with whatever parametrization on OS/2.
I don't know you can look at INSTALL examples, or any .hbp/.hbm
files.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Oct  5 04:43:19 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 04:43:29 2009
Subject: [Harbour] Wich is the official harbour's user group?
In-Reply-To: <609353e70910050136v3786de4aw37c439899fecc824@mail.gmail.com>
References: <609353e70910042321j267ad548xdf9732ef24e158a9@mail.gmail.com>
	<DC2BE7A5-9955-4441-BA96-C6ECC50B8B94@syenar.hu>
	<609353e70910050006r200ccbb1qdb240c2f2327930@mail.gmail.com>
	<57D7083C-0B38-489F-B3E2-2F6A89A57C11@syenar.hu>
	<609353e70910050035n41d71a61t6fbc1dd74c96c46d@mail.gmail.com>
	<F04BB702-B417-49C1-ABD7-7FF7C005EE58@syenar.hu>
	<609353e70910050136v3786de4aw37c439899fecc824@mail.gmail.com>
Message-ID: <A71F193F-51E0-4B55-B46D-9FDE13D5446F@syenar.hu>

> My proposal is join the forum not the product, also if name of contrib
> library must be same
> Better having one site that made good assistance that one that give
> not good assistance

It's not something we can decide about anyway, users will use where
they find proper help.

Brgds,
Viktor

From alxokhotnikov at gmail.com  Mon Oct  5 04:45:21 2009
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Mon Oct  5 04:45:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <4F3ACD31-975F-4B66-A113-A2CDE3FAE290@syenar.hu>
References: <E1MprLO-00063j-K6@c3vjzd1.ch3.sourceforge.com>
	<20090924102614.GA25988@uran.home.aster.pl>
	<d6fa31440909240915w76e61d0bv7b9985fd2752d6fc@mail.gmail.com>
	<A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu>
	<4AC21116.3070107@mweb.co.za>
	<20091002115243.GA21975@uran.home.aster.pl>
	<d6fa31440910020935i7eb67916x18f90e416be3672@mail.gmail.com>
	<20091004120212.GA32231@uran.home.aster.pl>
	<d6fa31440910050037h74879e59g1e8aef36c26bdda0@mail.gmail.com>
	<4F3ACD31-975F-4B66-A113-A2CDE3FAE290@syenar.hu>
Message-ID: <d6fa31440910050145n35e2e53cs78df278017a8caf8@mail.gmail.com>

Hi

	
I'm not saying that LetoDB works everywhere correctly

But this is the replacement of ADS, which is at least as it works (and
which can be completed).
Unlike NETIO and CDXDBF, which are compatible with the clipper, and so forth,
but in real applications are not applicable (I do not think that the
destruction of the
tables and indexes in networking someone brings delight)

(Show me alternative, our project under GPL and we cannot use a paid software)

2009/10/5 Viktor Szak?ts <harbour.01@syenar.hu>:
> What you say is that "it works for me" which is not an indication
> of quality, nor design, nor proven stability, etcetc.
>
> TBROWSE() comes to mind as an example, which also "worked for me"
> for a lot of ppl, yet it had to be reimplemented from scratch
> (which a huge amount of testing and work investment) to
> *really* make it work, not "just for me" but for *all* possible
> uses and users with full Clipper compatibility.
>
> I don't doubt LetoDB can work in many situations and for many
> users and it's a very nice effort and project on its own, but
> cited issues are real ones. If we had disregarded such issues
> in other places of Harbour, our project would be nowhere it is
> now.
>
> Brgds,
> Viktor
From harbour.01 at syenar.hu  Mon Oct  5 05:06:37 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 05:06:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <d6fa31440910050145n35e2e53cs78df278017a8caf8@mail.gmail.com>
References: <E1MprLO-00063j-K6@c3vjzd1.ch3.sourceforge.com>
	<20090924102614.GA25988@uran.home.aster.pl>
	<d6fa31440909240915w76e61d0bv7b9985fd2752d6fc@mail.gmail.com>
	<A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu>
	<4AC21116.3070107@mweb.co.za>
	<20091002115243.GA21975@uran.home.aster.pl>
	<d6fa31440910020935i7eb67916x18f90e416be3672@mail.gmail.com>
	<20091004120212.GA32231@uran.home.aster.pl>
	<d6fa31440910050037h74879e59g1e8aef36c26bdda0@mail.gmail.com>
	<4F3ACD31-975F-4B66-A113-A2CDE3FAE290@syenar.hu>
	<d6fa31440910050145n35e2e53cs78df278017a8caf8@mail.gmail.com>
Message-ID: <FD826D1E-6483-41F7-8582-B4F73DB3023C@syenar.hu>

> I'm not saying that LetoDB works everywhere correctly
>
> But this is the replacement of ADS, which is at least as it works (and
> which can be completed).
> Unlike NETIO and CDXDBF, which are compatible with the clipper, and  
> so forth,
> but in real applications are not applicable (I do not think that the
> destruction of the
> tables and indexes in networking someone brings delight)
>
> (Show me alternative, our project under GPL and we cannot use a paid  
> software)

I think the point of the e-mail wasn't about alternatives, but
rather the technical analysis of LetoDB. The fact that we don't
have any other free alternatives cannot clear up technical
concerns. This would be burying our head in the sand.

I hope eventually there will be a proper alternative,
although I personally believe in moving the whole app
server side in a thin/UI-client fashion. Even ADS/LetoDB
cannot work well through slow connections, which is a real
limitation.

BTW, plain DBFCDX works solid on LANs and without
the bugs present in Clipper implementation. Of course I'd
be also much happier if I wouldn't have to count on network
hardware stability for a stable database. Sometimes
networks fail and they are not under app developers'
control.

Brgds,
Viktor

>
> 2009/10/5 Viktor Szak?ts <harbour.01@syenar.hu>:
>> What you say is that "it works for me" which is not an indication
>> of quality, nor design, nor proven stability, etcetc.
>>
>> TBROWSE() comes to mind as an example, which also "worked for me"
>> for a lot of ppl, yet it had to be reimplemented from scratch
>> (which a huge amount of testing and work investment) to
>> *really* make it work, not "just for me" but for *all* possible
>> uses and users with full Clipper compatibility.
>>
>> I don't doubt LetoDB can work in many situations and for many
>> users and it's a very nice effort and project on its own, but
>> cited issues are real ones. If we had disregarded such issues
>> in other places of Harbour, our project would be nowhere it is
>> now.
>>
>> Brgds,
>> Viktor
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Mon Oct  5 05:27:02 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 05:27:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <d6fa31440910050037h74879e59g1e8aef36c26bdda0@mail.gmail.com>
References: <4AB88DF5.7090704@dbtopas.lt> <4ABA2AB9.4020101@dbtopas.lt>
	<20090924102614.GA25988@uran.home.aster.pl>
	<d6fa31440909240915w76e61d0bv7b9985fd2752d6fc@mail.gmail.com>
	<A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu>
	<4AC21116.3070107@mweb.co.za>
	<20091002115243.GA21975@uran.home.aster.pl>
	<d6fa31440910020935i7eb67916x18f90e416be3672@mail.gmail.com>
	<20091004120212.GA32231@uran.home.aster.pl>
	<d6fa31440910050037h74879e59g1e8aef36c26bdda0@mail.gmail.com>
Message-ID: <20091005092701.GA12943@uran.home.aster.pl>

On Mon, 05 Oct 2009, Alexandr Okhotnikov wrote:

Hi,

> > Rather for people who do not want to move his code to server side.
> > ADS is only partial solution and much better and more efficient is
> > moving whole application to the server and execute it remotely.
> 50-100 councurrent access

Over 100 in one of my installations.

> 1. very large load on the server

No at least in programs I wrote. The most expensive is database access
and rest is unimportant.

> 2. Given the current local machine (very productive) - why do we need
> a decision like Terminal-server?

Sorry I do not use terminal server so I do not know what answer do you
expect from me.

> 3. not everything can be transferred to the server (browse...)

I still do not understand.
In my case whole applications are executed on server side.

> >> SEEK: for numeric fields to translate a string based on the dimension
> >> of the field (no loss of accuracy)
> > You do not understand the problem. It is problem and it's very serious bug.
> For SEEK, I do not see the problem. What exactly I do not understand?

For me it's obvious that seek may not work properly and I do not
understand why I have to clarify such simple things.
Please try this code with pure DBFCDX and LetoDB.

   REQUEST DBFCDX
   REQUEST LETO
   field F
   proc main(rdd)
      local cFile := "_tst"
      if empty( rdd )
         cFile := "//127.0.0.1:2812/" + cFile
         rddSetDefault( "LETO" )
      else
         rddSetDefault( "DBFCDX" )
      endif
      dbCreate( cFile, {{"F","N",10,4}} )
      use (cFile)
      ? rddSetDefault(), alias(), used()
      index on F tag T to (cFile)
      dbAppend(); F := 1 / 8
      ? "FOUND:", dbSeek( 1 / 8 )
      close
   return

If you plan to answer in your next message that you do not use seek
in such context so it's not a problem then please do not waste my
time.

> What exactly would the author - one must ask the author. In any case
> the project is completed by the author (based on activity over the
> past year)
> Now we are not talking about the UDF. I would like to, but it means a
> change that just lead to incompatibility with the current
> implementation

And it's the reason I do not want to touch LetoDB code and I strongly
prefer to create sth new from scratch using my own ideas for final
code. Most of the problems which have to be resolved in such fully
functional remote server implementation I resolved adding MT mode to
Harbour so now it's enough to use this functionality but it also mean
that the new code will not work with older Harbour versions or with
xHarbour.

> > You can use RDD section in CA-Clipper 5.3 Technical Reference.
> > Harbour RDD model follow very closely Clipper one. There are only
> > few small differences and extensions and it was the place were
> > I started before I touched Harbour RDD code.
> "few small differences and extensions"  :)

Your comment clearly shows that you haven't invest even 5 minutes to
compare Clipper documentation with Harbour RDD implementations.
We may return to this discussion when you will have something serious
to say or some precise questions for which you cannot find answers in
Clipper documentation.
I also suggest to look into ChangeLog and if possible into xHarbour
ChangeLog too. A lot of RDD code I committed in the past working on
xHarbour as primary repository. Together with Clipper documentation
it address everything.

> > If you want to see what it means in practice then please try the
> > code below. It shows only thr cost of scope setting/restoring in
> > current LetoDB (3-rd value).
> > Here are results in my Linux box and localhost connection.
> > 1. using local file access:
> > ? RDD: DBFCDX _tst2
> > ? creating table... ? ? ? ? ? ?0.20 sec.
> > ? indexing... ? ? ? ? ? ? ? ? ?0.03 sec.
> > ? testing... ? ? ? ? ? ? ? ? ? 0.07 sec.
> > 2. using NETIO:
> > ? RDD: DBFCDX NET:127.0.0.1:/_tst2
> > ? creating table... ? ? ? ? ? ?0.72 sec.
> > ? indexing... ? ? ? ? ? ? ? ? ?0.14 sec.
> > ? testing... ? ? ? ? ? ? ? ? ? 0.20 sec.
> > 3. using LetoDB:
> > ? RDD: LETO //127.0.0.1:2812/_tst2
> > ? creating table... ? ? ? ? ? ?2.43 sec.
> > ? indexing... ? ? ? ? ? ? ? ? ?0.05 sec.
> > ? testing... ? ? ? ? ? ? ? ? ?86.17 sec.
> > So in this test LetoDB is ?431 _times_ slower then NETIO and believe
> > me it's not the worst case. If you want you can try to increase number
> > of records and you will see what will happen.
> > If you repeat this tests in LAN then network overhead should reduce
> > the difference but I do not think that LetoDB will be faster.
> > If you have a while then I'm interesting in your results in LAN.
> Key values (for a real application) are three:
> 1. use SHARED!

Yes,

> 2. LAN (not local)

Only local table access by remotely executed application.
LAN access even using real remote are only partial solutions for me
with some exception when real local access on client side is intentionally
introduced for some special type of applications, i.e. which have to work
without any network access for some time.
Of course you do not have to agree with me but it's not my problem.

> 3. Simultaneous access to the table more than one application (even if
> the SHARED and one, for instance, windows optimize queries)

Yes, it is and here LetoDB is very inefficient because is disables
existing RDD optimizations.

> My example (two connections to the table):
> RDD: DBFCDX \\192.168.170.11\income\_tst2
> testing...                   25.58 sec.
> RDD: LETO //192.168.170.11:2812/_tst2
> testing...                  56.09 sec.

1. what is 'your example' in this test?
2. how many records (N_RECCOUNT) you tested?
3. can you also show results for my example?

> But since I do not use OrdKeyNo () for each record (and what is it
> for?)

It was only example, looking at LetoDB code I've found that it has to
kill the performance for such operations anyhow it was also real life
example from people using:
   nBar := ordKeyNo() / ordKeyCount()
to calculate vertical progress bar in browse() and I was asked to
optimize it few years ago. I guess you will write that they do not
create real applications or that they can change their code and for
sure at least the second conclusion is true anyhow if you accept it
then you have to also clearly say that LetoDB cannot work with
acceptable performance with any Clipper code.

> Then I rewrote at SEEK

Which quite well hides internal LetoDB problems, i.e. activating seek
on each skip() during simultaneous access. Additionally SEEK in LetoDB
is broken and does not restore SCOPE settings.

> /*  dbGoTop()
>   while !eof()
>      x := ordKeyNo()// / ordKeyCount()
>      dbSkip()
>   enddo*/
>   for i := 1 to lastrec()
>       seek (  l2bin( i ) + "x" )
>       if ! found()
>           ? "!!!!!!!!!!!!!!!!!!"
>       endif
>   next
> RDD: DBFCDX \\192.168.170.11\income\_tst2
> testing...                   17.59 sec.
> RDD: LETO //192.168.170.11:2812/_tst2
> testing...                  8.12 sec.

We have two loops in above test so which one you tested?,
how many records were used in this test?
did you removed scope settings in the code?

In this test the most expensive is TCPIP overhead so LetoDB which
uses less frames have to win. Anyhow it does not change the fact
that the difference is very small and should be much bigger and
does not fix internal LetoDB problems.

> > See above test results. How LetoDB works strongly depends on user code.
> > The funny things is that non optimized code which use pure SET FILTER TO
> > without any index scopes settings needs RDD which makes automatic scope
> > optimization like COMIX or RMDBF*. Otherwise it works very slow using
> > file IO API in network environment and here switching to LetoDB may help
> > though not always.
> > But for code optimized by programmer which expensively use scopes then
> > switching to LetoDB may cause very serious slownes.
> I see other results

Because you have different code and this is LetoDB problem. Such things
should not happen and any user database code should be improved by using
remote RDD or at least should not be slow down.

> Plus, a stable job (do not affect client hangs), in contrast to DBFCDX
> and NETIO (even more important than speed)

For sure non local data base access using real remote RDD is much more
safer then using file IO in LAN (just like for sure local access by
remotely executed application is safer then using remote RDD) but
I haven't found anyone on this list who did not agree with it so
I do not know what you want to show saying it.

best regards,
Przemek
From jerryfinuliar at operamail.com  Mon Oct  5 05:31:53 2009
From: jerryfinuliar at operamail.com (Jerry Finuliar)
Date: Mon Oct  5 05:32:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
Message-ID: <20091005093153.C4C377BD6D@ws5-10.us4.outblaze.com>

Hi,

> Unlike NETIO and CDXDBF, which are compatible with the clipper, and so forth,
> but in real applications are not applicable (I do not think that the
> destruction of the
> tables and indexes in networking someone brings delight)

Im going to the wish list instead for NETIO

1. Option for server side commands( to avoid corruption). Like indexing, replace commands etc etc
2. Data partitioning ( scatter and gather )
3. Security ( user id and password )
4. Data integrity check upon initialization of the server( run hrb to setup indexes or 
something )
5. And full copyright license to Harbour compiler only. 

Hope one wish will get through.

Jerry



-- 
_______________________________________________
Surf the Web in a faster, safer and easier way:
Download Opera 9 at http://www.opera.com

Powered by Outblaze
From hernad at sigma-com.net  Mon Oct  5 05:48:32 2009
From: hernad at sigma-com.net (Ernad Husremovic)
Date: Mon Oct  5 05:48:44 2009
Subject: [Harbour] What is Przemek's architecture ?
In-Reply-To: <24491095.21254735957288.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net>

Talks about LetoDb inclusion in the harbour tree were really productive.
Przemek gave as such a valuable technical introspection to the current state of LetoDB.

I will be the honest, his explanations lead me to the choice to cease our migration to LetoDb  RDD engine.

During this discussions, Przemek explained that he has no needs for client server RDD:

".. In my case whole applications are executed on server side " ?

Please, can you explain us what is the architecture of your applications ?

Especially how do you implement client side ?


Regards, 
Ernad

----- "Przemyslaw Czerpak" <druzus@acn.waw.pl> wrote:

> On Mon, 05 Oct 2009, Alexandr Okhotnikov wrote:
> 
> Hi,
> 
> > > Rather for people who do not want to move his code to server
> side.
> > > ADS is only partial solution and much better and more efficient
> is
> > > moving whole application to the server and execute it remotely.
> > 50-100 councurrent access
> 
> Over 100 in one of my installations.
> 
> > 1. very large load on the server
> 
> No at least in programs I wrote. The most expensive is database
> access
> and rest is unimportant.
> 
> > 2. Given the current local machine (very productive) - why do we
> need
> > a decision like Terminal-server?
> 
> Sorry I do not use terminal server so I do not know what answer do
> you
> expect from me.
> > 3. not everything can be transferred to the server (browse...)
> 
> I still do not understand.
> In my case whole applications are executed on server side.
> 





From druzus at users.sourceforge.net  Mon Oct  5 06:23:51 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Oct  5 06:23:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12645] trunk/harbour
Message-ID: <E1MukjP-0000BP-TV@bj8yhf1.ch3.sourceforge.com>

Revision: 12645
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12645&view=rev
Author:   druzus
Date:     2009-10-05 10:23:50 +0000 (Mon, 05 Oct 2009)

Log Message:
-----------
2009-10-05 12:23 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbsocket.h
  * harbour/source/rtl/hbsocket.c
    + added new function hb_socketSetNoDelay() which turn off the nagle
      algorithm for the specified socket.
      The nagle algorithm says that we should delay sending
      partial packets in the hopes of getting more data.
      Be careful using this functions. It may help to improve performance
      in some cases but in some other it may cause very serious overhead.
      Programmer should well know what it does.
    * set socket error in all hb_socket[SG]et*() functions

  * harbour/contrib/hbnetio/netiocli.c
  * harbour/contrib/hbnetio/netiosrv.c
    * use hb_socketSetNoDelay() - it can be safely used in this code
      though it probably does not improve the speed because I used
      protocol which was nagle algorithm friendly. Anyhow now we
      can disable NETIO_SYNC messages without performance reduction
      due to bad interaction with nagle algorithm.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbnetio/netiocli.c
    trunk/harbour/contrib/hbnetio/netiosrv.c
    trunk/harbour/include/hbsocket.h
    trunk/harbour/source/rtl/hbsocket.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mhsabado at gmail.com  Mon Oct  5 06:52:56 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Mon Oct  5 06:53:13 2009
Subject: [Harbour] Re: Compile Error Using BCC 6.20
In-Reply-To: <4ac997a4.2608c00a.6a64.5bd7SMTPIN_ADDED@mx.google.com>
References: <4ac997a4.2608c00a.6a64.5bd7SMTPIN_ADDED@mx.google.com>
Message-ID: <4AC9D008.7010809@gmail.com>

Hi Toninho,
> Message: 3
> Date: Sun, 04 Oct 2009 20:43:28 -0300
> From: ToninhoFWi <toninhofwi@yahoo.com.br>
> Subject: Re: Re: [Harbour] Compile Error Using BCC 6.20
> To: "Harbour Project Main Developer List."
> 	<harbour@harbour-project.org>
> Message-ID: <1jcic59s3o51kt61klbs4fcaifcg35o8ca@4ax.com>
> Content-Type: text/plain; charset=us-ascii
>
> Hi Mario,
>
> Try to look into bcc32.cfg and ilink32.cfg, there are some paths there
> that need be filled, here is my files:
>
> ---bcc32.cfg---
> -IC:\bcc\include;C:\bcc\include\dinkumware
> -LC:\bcc\lib
> -O2
> -d
> -5
> -6
> -a8
> ---bcc32.cfg---
>
> ---ilink32.cfg---
> -LC:\bcc\lib
> ---ilink32.cfg---
>   
I have tried as you have suggested but still got error.  The strange 
thing is I can build xHarbour CVS successfully.  Anything else I could 
possibly try adjusting?

Thanks and best regards,
Mario

From druzus at acn.waw.pl  Mon Oct  5 06:56:20 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 06:56:26 2009
Subject: [Harbour] What is Przemek's architecture ?
In-Reply-To: <8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net>
References: <24491095.21254735957288.JavaMail.root@zimbra-1.sigma-com.net>
	<8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <20091005105620.GA23594@uran.home.aster.pl>

On Mon, 05 Oct 2009, Ernad Husremovic wrote:

Hi,

> During this discussions, Przemek explained that he has no needs for client
> server RDD:
> ".. In my case whole applications are executed on server side " ?
> Please, can you explain us what is the architecture of your applications ?
> Especially how do you implement client side ?

It's nothing amazing but standard *nix functionality.
My applications are executed remotely on the server side usually
using some terminal emulators.
I wrote my own 'screen' like program which keeps alive applications
executed on the server side even if client station disconnect or
crashes. In such case program is still running and when user login
again he continues his job using the same instance of programs.
If he want then he can start working with the program in the office
then he can close terminal program without logout from my application
and login from home or on next day and continue his work. For users
there is not difference it's WAN or LAN access.
Because pure terminal programs does not give to the remote program
access to all local resources on client side then we are using also
small servers installed on client computers which are controlled
remotely by application on the server so we can share serial or
USB ports, display pictures, access to local printers or drives,
activate some programs on client computer, etc., We usually use
SHH connections with internal tunnels for our client side services.

In the future GTNET should give the same functionality for all
multiprocess platforms (single process platforms like DOS or WinCE
can be only clients) and should contain buildin most important client
side services with support for executing .hrb code sent dynamically
from the server side so programmers can easy extend it in any way he
want also dynamically not only by static relinking client side code.
Now this functionality is available if user collects (in some cases
creates) all peaces himself though it's not very hard work.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Oct  5 07:17:13 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 07:17:20 2009
Subject: [Harbour] Re: Compile Error Using BCC 6.20
In-Reply-To: <8ED22964-3686-4EB7-AB86-179FF42F3312@syenar.hu>
References: <4ac47a18.0108c00a.3157.0478SMTPIN_ADDED@mx.google.com>
	<4AC488FF.5020606@gmail.com>
	<8ED22964-3686-4EB7-AB86-179FF42F3312@syenar.hu>
Message-ID: <20091005111712.GA19377@uran.home.aster.pl>

On Thu, 01 Oct 2009, Szak?ts Viktor wrote:

Hi Viktor,

>> Binary file import32.lib matches
>> Binary file intraweb_100_140.lib matches
>> Binary file ws2_32.lib matches
>> How can I include these libs to build Harbour?
> Thanks. ws2_32 is already on the liblist, so the problem
> may lie elsewhere

As I can see ws2_32 is not given when harbour.dll is linked.
We have:
   ilink32.exe -q -Gn -C -aa -Tpd -Gi -x  c0d32.obj @__dyn__.tmp
and inside __dyn__.tmp:
   ..\..\..\..\..\source\common\obj\win\bcc\expropt1_dyn.obj +
   [...]
   ..\..\..\..\..\source\vm\obj\win\bcc\vm_dyn.obj +
   , ..\..\..\..\..\bin\win\bcc\harbour-20-bcc.dll,, cw32mt.lib import32.lib

so only w32mt.lib and import32.lib which are hrdcoded in win/bcc.mk
are passed and it could be the source of problem.
For me it looks like a typo and instead of 
   DLIBS := $(foreach lib,$(LIBS),$(LIB_DIR)/$(lib)$(LIB_EXT))
we should have 
   DLIBS := $(foreach lib,$(LIBS) $(SYSLIBS),$(lib)$(LIB_EXT))

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Oct  5 07:27:18 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 07:27:28 2009
Subject: [Harbour] Re: Compile Error Using BCC 6.20
In-Reply-To: <20091005111712.GA19377@uran.home.aster.pl>
References: <4ac47a18.0108c00a.3157.0478SMTPIN_ADDED@mx.google.com>
	<4AC488FF.5020606@gmail.com>
	<8ED22964-3686-4EB7-AB86-179FF42F3312@syenar.hu>
	<20091005111712.GA19377@uran.home.aster.pl>
Message-ID: <5732472B-693D-4D9B-8972-0BF44A6298C1@syenar.hu>

Thanks Przemek.

Indeed you're right. With one small correction, I think $(LIB_DIR)
must be needed for BCC when run in WINE env (according to your
comments in .mk), so this line should be added instead, after  
'DLIBS :=' line:

DLIBS += $(foreach lib,$(SYSLIBS),$(lib)$(LIB_EXT))

I cannot retest it now even with 5.5 (where it was working anyway),
I hope Mario can report some results with 6.2 and someone else with
5.5. After that we should commit.

Brgds,
Viktor

On 2009 Oct 5, at 13:17, Przemyslaw Czerpak wrote:

> On Thu, 01 Oct 2009, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>>> Binary file import32.lib matches
>>> Binary file intraweb_100_140.lib matches
>>> Binary file ws2_32.lib matches
>>> How can I include these libs to build Harbour?
>> Thanks. ws2_32 is already on the liblist, so the problem
>> may lie elsewhere
>
> As I can see ws2_32 is not given when harbour.dll is linked.
> We have:
>   ilink32.exe -q -Gn -C -aa -Tpd -Gi -x  c0d32.obj @__dyn__.tmp
> and inside __dyn__.tmp:
>   ..\..\..\..\..\source\common\obj\win\bcc\expropt1_dyn.obj +
>   [...]
>   ..\..\..\..\..\source\vm\obj\win\bcc\vm_dyn.obj +
>   , ..\..\..\..\..\bin\win\bcc\harbour-20-bcc.dll,, cw32mt.lib  
> import32.lib
>
> so only w32mt.lib and import32.lib which are hrdcoded in win/bcc.mk
> are passed and it could be the source of problem.
> For me it looks like a typo and instead of
>   DLIBS := $(foreach lib,$(LIBS),$(LIB_DIR)/$(lib)$(LIB_EXT))
> we should have
>   DLIBS := $(foreach lib,$(LIBS) $(SYSLIBS),$(lib)$(LIB_EXT))
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Mon Oct  5 07:31:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Oct  5 07:31:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12646] trunk/harbour
Message-ID: <E1MulmV-00087u-Uc@3kljzd1.ch3.sourceforge.com>

Revision: 12646
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12646&view=rev
Author:   vszakats
Date:     2009-10-05 11:31:06 +0000 (Mon, 05 Oct 2009)

Log Message:
-----------

2009-10-05 13:28 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + More details to MS Windows SDK 7.

  * utils/hbmk2/hbmk2.prg
    ! Minor typo in comment.

  * config/win/bcc.mk
    + Added syslibs to dynlib link command. This seems to be needed 
      for some newer (6.20) versions of BCC.
      Thanks Przemek for noticing, Mario for reporting.
      And please test, I didn't do it for either BCC versions due 
      to lack of time.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From alxokhotnikov at gmail.com  Mon Oct  5 07:36:56 2009
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Mon Oct  5 07:37:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <20091005092701.GA12943@uran.home.aster.pl>
References: <4AB88DF5.7090704@dbtopas.lt>
	<20090924102614.GA25988@uran.home.aster.pl>
	<d6fa31440909240915w76e61d0bv7b9985fd2752d6fc@mail.gmail.com>
	<A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu>
	<4AC21116.3070107@mweb.co.za>
	<20091002115243.GA21975@uran.home.aster.pl>
	<d6fa31440910020935i7eb67916x18f90e416be3672@mail.gmail.com>
	<20091004120212.GA32231@uran.home.aster.pl>
	<d6fa31440910050037h74879e59g1e8aef36c26bdda0@mail.gmail.com>
	<20091005092701.GA12943@uran.home.aster.pl>
Message-ID: <d6fa31440910050436m3d7943b8p734c9b683a174a00@mail.gmail.com>

Hi

2009/10/5 Przemyslaw Czerpak <druzus@acn.waw.pl>:
>> 50-100 councurrent access
>
> Over 100 in one of my installations.
>
>> 1. very large load on the server
>
> No at least in programs I wrote. The most expensive is database access
> and rest is unimportant.

>> 3. not everything can be transferred to the server (browse...)
>
> I still do not understand.
> In my case whole applications are executed on server side.

I am very happy for you
But we speak now not about your program.
"I wrote my own 'screen' like program which keeps alive applications
executed on the server side"
In fact, this terminal-server
	
We have a lot of calculations and terminal access is not suitable (as
is your decision)

> For me it's obvious that seek may not work properly and I do not
> understand why I have to clarify such simple things.
> Please try this code with pure DBFCDX and LetoDB.
>
> ? REQUEST DBFCDX
> ? REQUEST LETO
> ? field F
> ? proc main(rdd)
> ? ? ?local cFile := "_tst"
> ? ? ?if empty( rdd )
> ? ? ? ? cFile := "//127.0.0.1:2812/" + cFile
> ? ? ? ? rddSetDefault( "LETO" )
> ? ? ?else
> ? ? ? ? rddSetDefault( "DBFCDX" )
> ? ? ?endif
> ? ? ?dbCreate( cFile, {{"F","N",10,4}} )
> ? ? ?use (cFile)
> ? ? ?? rddSetDefault(), alias(), used()
> ? ? ?index on F tag T to (cFile)
> ? ? ?dbAppend(); F := 1 / 8
> ? ? ?? "FOUND:", dbSeek( 1 / 8 )
> ? ? ?close
> ? return
>
> If you plan to answer in your next message that you do not use seek
> in such context so it's not a problem then please do not waste my
> time.

I (honestly) do not understand the meaning of this example, since a
long time (even with the clipper 5.2) away from such actions (unstable
floating-point on different machines and operating systems)
Use for just such a character string (always predictable results)

    index on STR(F,10,4) tag T to (cFile)
    dbSeek( STR( 1 / 8, 10, 4 ) )

>> What exactly would the author - one must ask the author. In any case
>> the project is completed by the author (based on activity over the
>> past year)
>> Now we are not talking about the UDF. I would like to, but it means a
>> change that just lead to incompatibility with the current
>> implementation
>
> And it's the reason I do not want to touch LetoDB code and I strongly
> prefer to create sth new from scratch using my own ideas for final
> code. Most of the problems which have to be resolved in such fully
> functional remote server implementation I resolved adding MT mode to
> Harbour so now it's enough to use this functionality but it also mean
> that the new code will not work with older Harbour versions or with
> xHarbour.

What we do with the current functionality? Bright and well into the
future and the present is bad?

>> > You can use RDD section in CA-Clipper 5.3 Technical Reference.
>> > Harbour RDD model follow very closely Clipper one. There are only
>> > few small differences and extensions and it was the place were
>> > I started before I touched Harbour RDD code.
>> "few small differences and extensions" ?:)
>
> Your comment clearly shows that you haven't invest even 5 minutes to
> compare Clipper documentation with Harbour RDD implementations.
> We may return to this discussion when you will have something serious
> to say or some precise questions for which you cannot find answers in
> Clipper documentation.
> I also suggest to look into ChangeLog and if possible into xHarbour
> ChangeLog too. A lot of RDD code I committed in the past working on
> xHarbour as primary repository. Together with Clipper documentation
> it address everything.

No one wanted to offend


> Yes, it is and here LetoDB is very inefficient because is disables
> existing RDD optimizations.
>
>> My example (two connections to the table):
>> RDD: DBFCDX \\192.168.170.11\income\_tst2
>> testing... ? ? ? ? ? ? ? ? ? 25.58 sec.
>> RDD: LETO //192.168.170.11:2812/_tst2
>> testing... ? ? ? ? ? ? ? ? ?56.09 sec.
>
> 1. what is 'your example' in this test?
> 2. how many records (N_RECCOUNT) you tested?
> 3. can you also show results for my example?

This is your example, but the network

>> But since I do not use OrdKeyNo () for each record (and what is it
>> for?)
>
> It was only example, looking at LetoDB code I've found that it has to
> kill the performance for such operations anyhow it was also real life
> example from people using:
> ? nBar := ordKeyNo() / ordKeyCount()
> to calculate vertical progress bar in browse() and I was asked to
> optimize it few years ago. I guess you will write that they do not
> create real applications or that they can change their code and for
> sure at least the second conclusion is true anyhow if you accept it
> then you have to also clearly say that LetoDB cannot work with
> acceptable performance with any Clipper code.

Yes, there are problems with OrdKeyNo ()
But even for the "calculate vertical progress bar in browse ()" do not
call it 10000 times as in the example

>> Then I rewrote at SEEK
>
> Which quite well hides internal LetoDB problems, i.e. activating seek
> on each skip() during simultaneous access. Additionally SEEK in LetoDB
> is broken and does not restore SCOPE settings.
>
>> /* ?dbGoTop()
>> ? while !eof()
>> ? ? ?x := ordKeyNo()// / ordKeyCount()
>> ? ? ?dbSkip()
>> ? enddo*/
>> ? for i := 1 to lastrec()
>> ? ? ? seek ( ?l2bin( i ) + "x" )
>> ? ? ? if ! found()
>> ? ? ? ? ? ? "!!!!!!!!!!!!!!!!!!"
>> ? ? ? endif
>> ? next
>> RDD: DBFCDX \\192.168.170.11\income\_tst2
>> testing... ? ? ? ? ? ? ? ? ? 17.59 sec.
>> RDD: LETO //192.168.170.11:2812/_tst2
>> testing... ? ? ? ? ? ? ? ? ?8.12 sec.
>
> We have two loops in above test so which one you tested?,
> how many records were used in this test?
> did you removed scope settings in the code?

This is your example (with alteration of SEEK)

> In this test the most expensive is TCPIP overhead so LetoDB which
> uses less frames have to win. Anyhow it does not change the fact
> that the difference is very small and should be much bigger and
> does not fix internal LetoDB problems.

Repeat:
At least twice LetoDB faster (in reality, almost 4 times)

RDD: DBFCDX \\192.168.170.11\income\_tst2
testing...                   17.59 sec.
RDD: LETO //192.168.170.11:2812/_tst2
testing...                  8.12 sec.

> Because you have different code and this is LetoDB problem. Such things
> should not happen and any user database code should be improved by using
> remote RDD or at least should not be slow down.

#define N_RECCOUNT 10000
REQUEST LETO
REQUEST DBFCDX
field F
proc main(rdd)
  local cFile := "_tst2", fileFunc, x, t, i
  if empty(rdd)
     cFile := "//192.168.170.11:2812/" + cFile
     rddSetDefault( "LETO" )
     fileFunc:=@leto_file()
  else
     if upper(rdd)="NET:"
        cFile := "NET:127.0.0.1:/" + cFile
     else
        cFile := "\\192.168.170.11\income\" + cFile
     endif
     rddSetDefault( "DBFCDX" )
     fileFunc:=@dbExists()
  endif
  ? "RDD:", rddSetDefault(), cFile
  if !fileFunc:exec( cFile + ".dbf" )
     ? padr( "creating table...", 20 )
     t := seconds()
     dbCreate( cFile, {{"F","C",100,0},{"F2","L",1,0}} )
     use (cFile) alias tst
     while lastrec() < N_RECCOUNT
        dbAppend(); F := l2bin(recno()) + repl( "x", 100 )
     enddo
     t := seconds() - t
     ?? t, "sec."
     ? padr( "indexing...", 20 )
     t := seconds()
     index on F tag T to (cFile)
     t := seconds() - t
     ?? t, "sec."
     close
  endif
  use (cFile) alias tst shared
  set index to (cFile)
  ? padr( "testing...", 20 )
  wait  // !!!! launch a second instance !!!!!!!!!! LAN !!!!!!!!!!
  t := seconds()
  ordScope( 0, l2bin(0) + "x" )
  for i := 1 to lastrec()
      seek ( l2bin(i) + "x" )
      if ! found()
          ? "!!!!!!!!!!!!!!!!!!"
      endif
      x := F
  next
  t := seconds() - t
  ?? t, "sec."
  close
return
From druzus at acn.waw.pl  Mon Oct  5 07:57:55 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 07:58:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <d6fa31440910050436m3d7943b8p734c9b683a174a00@mail.gmail.com>
References: <20090924102614.GA25988@uran.home.aster.pl>
	<d6fa31440909240915w76e61d0bv7b9985fd2752d6fc@mail.gmail.com>
	<A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu>
	<4AC21116.3070107@mweb.co.za>
	<20091002115243.GA21975@uran.home.aster.pl>
	<d6fa31440910020935i7eb67916x18f90e416be3672@mail.gmail.com>
	<20091004120212.GA32231@uran.home.aster.pl>
	<d6fa31440910050037h74879e59g1e8aef36c26bdda0@mail.gmail.com>
	<20091005092701.GA12943@uran.home.aster.pl>
	<d6fa31440910050436m3d7943b8p734c9b683a174a00@mail.gmail.com>
Message-ID: <20091005115755.GA31756@uran.home.aster.pl>

On Mon, 05 Oct 2009, Alexandr Okhotnikov wrote:

Hi,

> > Yes, it is and here LetoDB is very inefficient because is disables
> > existing RDD optimizations.
> >> My example (two connections to the table):
> >> RDD: DBFCDX \\192.168.170.11\income\_tst2
> >> testing... ? ? ? ? ? ? ? ? ? 25.58 sec.
> >> RDD: LETO //192.168.170.11:2812/_tst2
> >> testing... ? ? ? ? ? ? ? ? ?56.09 sec.
> > 1. what is 'your example' in this test?
> > 2. how many records (N_RECCOUNT) you tested?
> > 3. can you also show results for my example?
> This is your example, but the network

Can you explain how it's possible that in your network it works faster
then on my computer locally? Without modification in the code I sent
it seems impossible for me.

best regards,
Przemek
From mbelgrano at deltain.it  Mon Oct  5 08:07:19 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct  5 08:07:46 2009
Subject: [Harbour] What is Przemek's architecture ?
In-Reply-To: <20091005105620.GA23594@uran.home.aster.pl>
References: <24491095.21254735957288.JavaMail.root@zimbra-1.sigma-com.net> 
	<8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net> 
	<20091005105620.GA23594@uran.home.aster.pl>
Message-ID: <609353e70910050507s4936a18bnc09000ab573c1edb@mail.gmail.com>

Thanks
your vision will extend life of harbour application
Today is my birthday and your vision is the best present
gtnet will be a important solution for many user here
how gtnet in windows will recognise user at login to reestablish his session?

2009/10/5 Przemyslaw Czerpak <druzus@acn.waw.pl>:
> On Mon, 05 Oct 2009, Ernad Husremovic wrote:
>
> Hi,
>
>> During this discussions, Przemek explained that he has no needs for client
>> server RDD:
>> ".. In my case whole applications are executed on server side " ?
>> Please, can you explain us what is the architecture of your applications ?
>> Especially how do you implement client side ?
>
> It's nothing amazing but standard *nix functionality.
> My applications are executed remotely on the server side usually
> using some terminal emulators.
> I wrote my own 'screen' like program which keeps alive applications
> executed on the server side even if client station disconnect or
> crashes. In such case program is still running and when user login
> again he continues his job using the same instance of programs.
> If he want then he can start working with the program in the office
> then he can close terminal program without logout from my application
> and login from home or on next day and continue his work. For users
> there is not difference it's WAN or LAN access.
> Because pure terminal programs does not give to the remote program
> access to all local resources on client side then we are using also
> small servers installed on client computers which are controlled
> remotely by application on the server so we can share serial or
> USB ports, display pictures, access to local printers or drives,
> activate some programs on client computer, etc., We usually use
> SHH connections with internal tunnels for our client side services.
>
> In the future GTNET should give the same functionality for all
> multiprocess platforms (single process platforms like DOS or WinCE
> can be only clients) and should contain buildin most important client
> side services with support for executing .hrb code sent dynamically
> from the server side so programmers can easy extend it in any way he
> want also dynamically not only by static relinking client side code.
> Now this functionality is available if user collects (in some cases
> creates) all peaces himself though it's not very hard work.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Mon Oct  5 08:12:20 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 08:12:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <d6fa31440910050436m3d7943b8p734c9b683a174a00@mail.gmail.com>
References: <20090924102614.GA25988@uran.home.aster.pl>
	<d6fa31440909240915w76e61d0bv7b9985fd2752d6fc@mail.gmail.com>
	<A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu>
	<4AC21116.3070107@mweb.co.za>
	<20091002115243.GA21975@uran.home.aster.pl>
	<d6fa31440910020935i7eb67916x18f90e416be3672@mail.gmail.com>
	<20091004120212.GA32231@uran.home.aster.pl>
	<d6fa31440910050037h74879e59g1e8aef36c26bdda0@mail.gmail.com>
	<20091005092701.GA12943@uran.home.aster.pl>
	<d6fa31440910050436m3d7943b8p734c9b683a174a00@mail.gmail.com>
Message-ID: <20091005121220.GB31756@uran.home.aster.pl>

On Mon, 05 Oct 2009, Alexandr Okhotnikov wrote:

Hi,

> I (honestly) do not understand the meaning of this example, since a
> long time (even with the clipper 5.2) away from such actions (unstable
> floating-point on different machines and operating systems)
> Use for just such a character string (always predictable results)
>     index on STR(F,10,4) tag T to (cFile)
>     dbSeek( STR( 1 / 8, 10, 4 ) )

In some index formats like NTX such rounding and conversion to string
is done automatically at C level so it's not necessary to slow down
the code by repeating the same job at .prg level.
In CDX and NSX format numeric and date values are stored as modified
IEEE758 double values without any rounding and people often use this
fact to store number with some very wide range where precision cannot
be strictly defined. They do not need exact comparison so FL arithmetic
difference are not a problem at all. Any hidden rounding like in LetoDB
makes such code unusable so in my opinion it should be fixed.

> What we do with the current functionality? Bright and well into the
> future and the present is bad?

For me the main problem is with time necessary to update existing code.
I can make some minor cleanups, casting, update code for current SVN,
etc. quite easy but to make serious fixes and modifications I will
have to double the work necessary for creating such code from scratch
because I will have to carefully follow existing code and integrate
my own strongly different ideas with it.
Looking at current LetoDB code I've found the only one thing which
I would like to copy and integrate with Harbour: blowfish encryption
of course if we do not have it yet in contrib or RTL.

best regards,
Przemek
From alxokhotnikov at gmail.com  Mon Oct  5 08:12:46 2009
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Mon Oct  5 08:12:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <20091005115755.GA31756@uran.home.aster.pl>
References: <20090924102614.GA25988@uran.home.aster.pl>
	<A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu>
	<4AC21116.3070107@mweb.co.za>
	<20091002115243.GA21975@uran.home.aster.pl>
	<d6fa31440910020935i7eb67916x18f90e416be3672@mail.gmail.com>
	<20091004120212.GA32231@uran.home.aster.pl>
	<d6fa31440910050037h74879e59g1e8aef36c26bdda0@mail.gmail.com>
	<20091005092701.GA12943@uran.home.aster.pl>
	<d6fa31440910050436m3d7943b8p734c9b683a174a00@mail.gmail.com>
	<20091005115755.GA31756@uran.home.aster.pl>
Message-ID: <d6fa31440910050512o17b991b9v3617a47634992dec@mail.gmail.com>

Hi

2009/10/5 Przemyslaw Czerpak <druzus@acn.waw.pl>:

>> >> My example (two connections to the table):
>> >> RDD: DBFCDX \\192.168.170.11\income\_tst2
>> >> testing... ? ? ? ? ? ? ? ? ? 25.58 sec.
>> >> RDD: LETO //192.168.170.11:2812/_tst2
>> >> testing... ? ? ? ? ? ? ? ? ?56.09 sec.
>> > 1. what is 'your example' in this test?
>> > 2. how many records (N_RECCOUNT) you tested?
>> > 3. can you also show results for my example?
>> This is your example, but the network
>
> Can you explain how it's possible that in your network it works faster
> then on my computer locally? Without modification in the code I sent
> it seems impossible for me.

Client - winXP
Server - Win2003

Linux (client) - much longer (Thus DBFCDX even more slowly)

Time depends on the network and OS (the cost of operations themselves
are minimal, as it works fast local DBFCDX)

Best regards
Alexander
From M.Horodyski at pzuzycie.com.pl  Mon Oct  5 08:15:43 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Oct  5 08:15:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <20091005092701.GA12943@uran.home.aster.pl>
References: <4AB88DF5.7090704@dbtopas.lt>
	<4ABA2AB9.4020101@dbtopas.lt><20090924102614.GA25988@uran.home.aster.pl><d6fa31440909240915w76e61d0bv7b9985fd2752d6fc@mail.gmail.com><A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu><4AC21116.3070107@mweb.co.za><20091002115243.GA21975@uran.home.aster.pl><d6fa31440910020935i7eb67916x18f90e416be3672@mail.gmail.com><20091004120212.GA32231@uran.home.aster.pl><d6fa31440910050037h74879e59g1e8aef36c26bdda0@mail.gmail.com>
	<20091005092701.GA12943@uran.home.aster.pl>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C950288E445@PINK.zycie.pzu>

>-----Original Message-----
>From: Przemyslaw Czerpak [mailto:druzus@acn.waw.pl] 
>Sent: Monday, October 05, 2009 11:27 AM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] SF.net SVN: harbour-project:[12593] 
>trunk/harbour

[...]

>No at least in programs I wrote. The most expensive is 
>database access and rest is unimportant.

It's true.

>> 2. Given the current local machine (very productive) - why 
>do we need 
>> a decision like Terminal-server?
>
>Sorry I do not use terminal server so I do not know what 
>answer do you expect from me.

Can I start a terminal window on a Windows applications working on Linux
?
For example via putty or another terminal ?
What GT in app shuld then linked ?

>I still do not understand.
>In my case whole applications are executed on server side.

Not universally used is Linux :(

Regards,
Marek Horodyski
From harbour.01 at syenar.hu  Mon Oct  5 08:16:48 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 08:16:58 2009
Subject: [Harbour] What is Przemek's architecture ?
In-Reply-To: <609353e70910050507s4936a18bnc09000ab573c1edb@mail.gmail.com>
References: <24491095.21254735957288.JavaMail.root@zimbra-1.sigma-com.net>
	<8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net>
	<20091005105620.GA23594@uran.home.aster.pl>
	<609353e70910050507s4936a18bnc09000ab573c1edb@mail.gmail.com>
Message-ID: <69581067-DDBE-4CE8-BDD5-2DDB73B2E6C2@syenar.hu>

Happy Birthday Massimo!

BTW, I've started some work originally based on 'terminal' by
Pritpal, when I was doing it we didn't have a C level socket
API, so I started with a GTUSER GT with .prg callbacks. The
overall idea is indeed quite straightforwards but the devil
is in the details and quality implementation (the tricky bits
are printing / remote app launching and file transfer).
Honestly I couldn't present any meaningful results yet, but
I haven't given up. I'd need some continuous time for
concentration (which apparently comes very rarely). Surely
some ideas / code can even be used from hbnetio.

Brgds,
Viktor

On 2009 Oct 5, at 14:07, Massimo Belgrano wrote:

> Thanks
> your vision will extend life of harbour application
> Today is my birthday and your vision is the best present
> gtnet will be a important solution for many user here
> how gtnet in windows will recognise user at login to reestablish his  
> session?
>
> 2009/10/5 Przemyslaw Czerpak <druzus@acn.waw.pl>:
>> On Mon, 05 Oct 2009, Ernad Husremovic wrote:
>>
>> Hi,
>>
>>> During this discussions, Przemek explained that he has no needs  
>>> for client
>>> server RDD:
>>> ".. In my case whole applications are executed on server side " ?
>>> Please, can you explain us what is the architecture of your  
>>> applications ?
>>> Especially how do you implement client side ?
>>
>> It's nothing amazing but standard *nix functionality.
>> My applications are executed remotely on the server side usually
>> using some terminal emulators.
>> I wrote my own 'screen' like program which keeps alive applications
>> executed on the server side even if client station disconnect or
>> crashes. In such case program is still running and when user login
>> again he continues his job using the same instance of programs.
>> If he want then he can start working with the program in the office
>> then he can close terminal program without logout from my application
>> and login from home or on next day and continue his work. For users
>> there is not difference it's WAN or LAN access.
>> Because pure terminal programs does not give to the remote program
>> access to all local resources on client side then we are using also
>> small servers installed on client computers which are controlled
>> remotely by application on the server so we can share serial or
>> USB ports, display pictures, access to local printers or drives,
>> activate some programs on client computer, etc., We usually use
>> SHH connections with internal tunnels for our client side services.
>>
>> In the future GTNET should give the same functionality for all
>> multiprocess platforms (single process platforms like DOS or WinCE
>> can be only clients) and should contain buildin most important client
>> side services with support for executing .hrb code sent dynamically
>> from the server side so programmers can easy extend it in any way he
>> want also dynamically not only by static relinking client side code.
>> Now this functionality is available if user collects (in some cases
>> creates) all peaces himself though it's not very hard work.
>>
>> best regards,
>> Przemek
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Oct  5 08:18:03 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 08:18:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <20091005121220.GB31756@uran.home.aster.pl>
References: <20090924102614.GA25988@uran.home.aster.pl>
	<d6fa31440909240915w76e61d0bv7b9985fd2752d6fc@mail.gmail.com>
	<A3EA09D8-46A6-4D52-BB0B-5F98A41E192E@syenar.hu>
	<4AC21116.3070107@mweb.co.za>
	<20091002115243.GA21975@uran.home.aster.pl>
	<d6fa31440910020935i7eb67916x18f90e416be3672@mail.gmail.com>
	<20091004120212.GA32231@uran.home.aster.pl>
	<d6fa31440910050037h74879e59g1e8aef36c26bdda0@mail.gmail.com>
	<20091005092701.GA12943@uran.home.aster.pl>
	<d6fa31440910050436m3d7943b8p734c9b683a174a00@mail.gmail.com>
	<20091005121220.GB31756@uran.home.aster.pl>
Message-ID: <06B3EF67-7109-4465-85E2-70BAB7FDFFEF@syenar.hu>

> Looking at current LetoDB code I've found the only one thing which
> I would like to copy and integrate with Harbour: blowfish encryption
> of course if we do not have it yet in contrib or RTL.

We don't have blowfish yet.

Brgds,
Viktor

From M.Horodyski at pzuzycie.com.pl  Mon Oct  5 08:20:41 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Oct  5 08:20:51 2009
Subject: [Harbour] What is Przemek's architecture ?
In-Reply-To: <8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net>
References: <24491095.21254735957288.JavaMail.root@zimbra-1.sigma-com.net>
	<8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C950288E447@PINK.zycie.pzu>

>-----Original Message-----
>From: Ernad Husremovic [mailto:hernad@sigma-com.net] 
>Sent: Monday, October 05, 2009 11:49 AM

...

>Especially how do you implement client side ?

Switch to Linux :)

Regards,
Marek Horodyski
From harbour.01 at syenar.hu  Mon Oct  5 08:21:11 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 08:21:20 2009
Subject: [Harbour] win64 results
Message-ID: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>

Hi All,

I managed to port static libcurl, libssh and openssl libs
to Windows x64, so my apps are now fully supporting this
platform. Nothing much to do on the Harbour level, everything
was working fine.

The only issues are UNICODE in gtwvt [so I'll probably
disable it there while we fix it]. (Also gtwin, but
gtwin isn't really critical for me, it will fade quite
soon)

Ops, the other issue is -shared mode GPF. Maybe I'll make
some more tests. Anyhow I don't use it either.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Oct  5 08:24:53 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 08:24:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C950288E445@PINK.zycie.pzu>
References: <4AB88DF5.7090704@dbtopas.lt>
	<20091005092701.GA12943@uran.home.aster.pl>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288E445@PINK.zycie.pzu>
Message-ID: <20091005122453.GA20824@uran.home.aster.pl>

On Mon, 05 Oct 2009, Horodyski Marek (PZUZ) wrote:

Hi,

> Can I start a terminal window on a Windows applications working on Linux
> ?
> For example via putty or another terminal ?
> What GT in app shuld then linked ?

yes, you can use PuTTY as terminal emulator login to some *nix machine
and execute any harbour application linked with GTTRM.

> >In my case whole applications are executed on server side.
> Not universally used is Linux :(

Clients do not even know where to program is running and which OS is used
on server machine. They can use any OS they like on his own computers if
some terminal emulators are supported, i.e. recently very popular is using
cellar phones as such remote terminals.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Oct  5 08:30:19 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 08:30:26 2009
Subject: [Harbour] win64 results
In-Reply-To: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>
Message-ID: <20091005123019.GA27470@uran.home.aster.pl>

On Mon, 05 Oct 2009, Szak?ts Viktor wrote:

Hi,

> The only issues are UNICODE in gtwvt [so I'll probably
> disable it there while we fix it]. (Also gtwin, but
> gtwin isn't really critical for me, it will fade quite
> soon)

Without real windows access it will be hard for me to help in
this problem.

> Ops, the other issue is -shared mode GPF. Maybe I'll make
> some more tests. Anyhow I don't use it either.

Have you used -fpic switch for dynlib code compilation?

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Oct  5 08:31:41 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 08:31:50 2009
Subject: [Harbour] What is Przemek's architecture ?
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C950288E447@PINK.zycie.pzu>
References: <24491095.21254735957288.JavaMail.root@zimbra-1.sigma-com.net>
	<8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288E447@PINK.zycie.pzu>
Message-ID: <B62C2061-5457-4FC7-A1CF-32B1383A29CE@syenar.hu>

>> -----Original Message-----
>> From: Ernad Husremovic [mailto:hernad@sigma-com.net]
>> Sent: Monday, October 05, 2009 11:49 AM
>
> ...
>
>> Especially how do you implement client side ?
>
> Switch to Linux :)

Aside from jokes, IMO it'd be much convenient to use our
own thin-client app, than apps like putty. putty has a
hard time handling several key combinations. And it's
usually a PITA to sync it with server side, encoding,
mouse and whatnot. (maybe it's just me, but we certainly
cannot call it a "plug&play" experience).

Hard is now perfectly suited to provide such thin clients
for all important OSes, and the same can be said about the
server-side.

Now Harbour make system makes it easy to integrate OpenSSL
into such GTNET lib, so this is also not such an obstacle
anymore as it was, say a year ago.

Another idea: Given well documented GTNET protocol, client
could even be written in Java, which makes it uber-portable
and even embeddable into webpage.

Brgds,
Viktor

From hernad at sigma-com.net  Mon Oct  5 08:35:30 2009
From: hernad at sigma-com.net (Ernad Husremovic)
Date: Mon Oct  5 08:35:40 2009
Subject: [Harbour] What is Przemek's architecture ?
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C950288E447@PINK.zycie.pzu>
Message-ID: <17432833.71254746130364.JavaMail.root@zimbra-1.sigma-com.net>

 > >Especially how do you implement client side ?
> 
> Switch to Linux :)

I am on linux :). But my custumers are not :( 

Regards,
Ernad
From snaiperis at users.sourceforge.net  Mon Oct  5 08:39:25 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Mon Oct  5 08:39:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12647] trunk/harbour
Message-ID: <E1Mumqb-0001DI-SM@3kljzd1.ch3.sourceforge.com>

Revision: 12647
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12647&view=rev
Author:   snaiperis
Date:     2009-10-05 12:39:24 +0000 (Mon, 05 Oct 2009)

Log Message:
-----------
2009-10-05 15:35 UTC+0300 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * contrib/hbmemio/memio.c
    ! fixed memory corruption on hb_memfsTruncAt() call
    ! added required memory clear on hb_memfsTruncAt() call
    + implemeted file handles different from internal structure pointers. 
      Now memory FS file handle is index in file structure array. Thus,
      wrong memory FS is more safe for wrong external calls like:
         HB_FHANDLE  hF = hb_memfsOpen( szFilename, iFlags );
         hb_memfsClose( hF );
         hb_memfsClose( hF );
      The second hb_memfsClose() call was wrongly re-releasing memory 
      resources and causing memory corruption before memory handles were 
      added.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmemio/memio.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Oct  5 08:41:17 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 08:41:24 2009
Subject: [Harbour] Re: Compile Error Using BCC 6.20
In-Reply-To: <5732472B-693D-4D9B-8972-0BF44A6298C1@syenar.hu>
References: <4ac47a18.0108c00a.3157.0478SMTPIN_ADDED@mx.google.com>
	<4AC488FF.5020606@gmail.com>
	<8ED22964-3686-4EB7-AB86-179FF42F3312@syenar.hu>
	<20091005111712.GA19377@uran.home.aster.pl>
	<5732472B-693D-4D9B-8972-0BF44A6298C1@syenar.hu>
Message-ID: <20091005124117.GA2492@uran.home.aster.pl>

On Mon, 05 Oct 2009, Szak?ts Viktor wrote:

Hi,

> Indeed you're right. With one small correction, I think $(LIB_DIR)
> must be needed for BCC when run in WINE env (according to your
> comments in .mk), so this line should be added instead, after 'DLIBS :=' 
> line:
> DLIBS += $(foreach lib,$(SYSLIBS),$(lib)$(LIB_EXT))

Yes sure though as far as I know we do not use any LIBS yet to create
harbour*.dll so it should also work.

> I cannot retest it now even with 5.5 (where it was working anyway),
> I hope Mario can report some results with 6.2 and someone else with
> 5.5. After that we should commit.

I tested it with 5.5. and WINE and it works.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Oct  5 08:44:39 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 08:44:45 2009
Subject: [Harbour] What is Przemek's architecture ?
In-Reply-To: <17432833.71254746130364.JavaMail.root@zimbra-1.sigma-com.net>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C950288E447@PINK.zycie.pzu>
	<17432833.71254746130364.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <20091005124439.GA11536@uran.home.aster.pl>

On Mon, 05 Oct 2009, Ernad Husremovic wrote:
>  > >Especially how do you implement client side ?
> > Switch to Linux :)
> I am on linux :). But my custumers are not :( 

But only your application needs Linux or other *nix like OS
and your customer can still use the same OS as so far.
Believe me that I also do not plan to force any OS on client
computers.

best regards,
Przemek
From mauriliolongo at users.sourceforge.net  Mon Oct  5 08:44:55 2009
From: mauriliolongo at users.sourceforge.net (mauriliolongo@users.sourceforge.net)
Date: Mon Oct  5 08:45:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12648] trunk/harbour
Message-ID: <E1Mumvv-0003IP-Ja@c3vjzd1.ch3.sourceforge.com>

Revision: 12648
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12648&view=rev
Author:   mauriliolongo
Date:     2009-10-05 12:44:54 +0000 (Mon, 05 Oct 2009)

Log Message:
-----------
2009-10-05 14:45 UTC+0200 Maurilio Longo (maurilio.longo@libero.it)
   * config/os2/gcc.mk
     * removed for %i in ... hack for library creation in OS/2 gcc build.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/os2/gcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Oct  5 08:45:28 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 08:45:37 2009
Subject: [Harbour] win64 results
In-Reply-To: <20091005123019.GA27470@uran.home.aster.pl>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>
	<20091005123019.GA27470@uran.home.aster.pl>
Message-ID: <C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>

Hi Przemek,

>> The only issues are UNICODE in gtwvt [so I'll probably
>> disable it there while we fix it]. (Also gtwin, but
>> gtwin isn't really critical for me, it will fade quite
>> soon)
>
> Without real windows access it will be hard for me to help in
> this problem.

I still maintain my offer, if you want to have some
fun with the issue ;) (and have time) I can pass you
RDP access to a freshly installed VM with 64-bit
Windows and dev tools. Since it's on my MBP, we only
have to sync schedules.

If this isn't appropriate I can make some screenshots,
maybe it gives you some clues about the situation.

Well, here they are:

http://www.syenar.hu/harbour/win64.png
http://www.syenar.hu/harbour/win64u.png

>> Ops, the other issue is -shared mode GPF. Maybe I'll make
>> some more tests. Anyhow I don't use it either.
>
> Have you used -fpic switch for dynlib code compilation?

Thanks for the tip, I'll have a try a bit later.
(indeed the problem was only with mingw64)

Brgds,
Viktor

From M.Horodyski at pzuzycie.com.pl  Mon Oct  5 08:45:52 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Oct  5 08:46:00 2009
Subject: [Harbour] What is Przemek's architecture ?
In-Reply-To: <609353e70910050507s4936a18bnc09000ab573c1edb@mail.gmail.com>
References: <24491095.21254735957288.JavaMail.root@zimbra-1.sigma-com.net>
	<8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net>
	<20091005105620.GA23594@uran.home.aster.pl>
	<609353e70910050507s4936a18bnc09000ab573c1edb@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C950288E451@PINK.zycie.pzu>


 >-----Original Message-----
>From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
>Sent: Monday, October 05, 2009 2:07 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] What is Przemek's architecture ?
>
>Thanks
>your vision will extend life of harbour application Today is 
>my birthday and your vision is the best present gtnet will be 
>a important solution for many user here how gtnet in windows 
>will recognise user at login to reestablish his session?

100 anni !

Saluti,
Marek Horodyski
From dbtopas at dbtopas.lt  Mon Oct  5 08:46:39 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Oct  5 08:46:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12647] trunk/harbour
In-Reply-To: <E1Mumqb-0001DI-SM@3kljzd1.ch3.sourceforge.com>
References: <E1Mumqb-0001DI-SM@3kljzd1.ch3.sourceforge.com>
Message-ID: <4AC9EAAF.6060805@dbtopas.lt>

Hi,


> 2009-10-05 15:35 UTC+0300 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
>   * contrib/hbmemio/memio.c
>     ! fixed memory corruption on hb_memfsTruncAt() call
>     ! added required memory clear on hb_memfsTruncAt() call
>     + implemeted file handles different from internal structure pointers. 
>       Now memory FS file handle is index in file structure array. Thus,
>       wrong memory FS is more safe for wrong external calls like:
>          HB_FHANDLE  hF = hb_memfsOpen( szFilename, iFlags );
>          hb_memfsClose( hF );
>          hb_memfsClose( hF );
>       The second hb_memfsClose() call was wrongly re-releasing memory 
>       resources and causing memory corruption before memory handles were 
>       added.


I do not find unpredictable crashes any more in a complex application 
using MemIO driver. Please test and report if you have any problems with it.


Regards,
Mindaugas
From harbour.01 at syenar.hu  Mon Oct  5 08:47:30 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 08:47:39 2009
Subject: [Harbour] Re: Compile Error Using BCC 6.20
In-Reply-To: <20091005124117.GA2492@uran.home.aster.pl>
References: <4ac47a18.0108c00a.3157.0478SMTPIN_ADDED@mx.google.com>
	<4AC488FF.5020606@gmail.com>
	<8ED22964-3686-4EB7-AB86-179FF42F3312@syenar.hu>
	<20091005111712.GA19377@uran.home.aster.pl>
	<5732472B-693D-4D9B-8972-0BF44A6298C1@syenar.hu>
	<20091005124117.GA2492@uran.home.aster.pl>
Message-ID: <3C7EF1C4-AB6B-4DB4-9905-FCA0D1AB93AF@syenar.hu>


On 2009 Oct 5, at 14:41, Przemyslaw Czerpak wrote:

> On Mon, 05 Oct 2009, Szak?ts Viktor wrote:
>
> Hi,
>
>> Indeed you're right. With one small correction, I think $(LIB_DIR)
>> must be needed for BCC when run in WINE env (according to your
>> comments in .mk), so this line should be added instead, after  
>> 'DLIBS :='
>> line:
>> DLIBS += $(foreach lib,$(SYSLIBS),$(lib)$(LIB_EXT))
>
> Yes sure though as far as I know we do not use any LIBS yet to create
> harbour*.dll so it should also work.

True. I didn't read the patch carefully enough.
Anyhow I've left $(LIBS) to stay in sync with other compilers.

>> I cannot retest it now even with 5.5 (where it was working anyway),
>> I hope Mario can report some results with 6.2 and someone else with
>> 5.5. After that we should commit.
>
> I tested it with 5.5. and WINE and it works.

Thank you. Already committed.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Mon Oct  5 08:58:14 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Oct  5 08:58:19 2009
Subject: [Harbour] What is Przemek's architecture ?
In-Reply-To: <B62C2061-5457-4FC7-A1CF-32B1383A29CE@syenar.hu>
References: <24491095.21254735957288.JavaMail.root@zimbra-1.sigma-com.net>
	<8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288E447@PINK.zycie.pzu>
	<B62C2061-5457-4FC7-A1CF-32B1383A29CE@syenar.hu>
Message-ID: <9257026e0910050558q68cf3cf0gc1c20ee1838735de@mail.gmail.com>

On Mon, Oct 5, 2009 at 2:31 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Aside from jokes, IMO it'd be much convenient to use our
> own thin-client app, than apps like putty. putty has a
> hard time handling several key combinations. And it's
> usually a PITA to sync it with server side, encoding,
> mouse and whatnot. (maybe it's just me, but we certainly
> cannot call it a "plug&play" experience).

Lately xming has become almost usable.
I'm not using it in production but it makes available a gtxwc app
behind a single icon on the Windows Desktop.
It gives some help if you need to show pdfs at server side.

Probably suitable for specific applications.

best regards,
Lorenzo
From hernad at sigma-com.net  Mon Oct  5 08:59:35 2009
From: hernad at sigma-com.net (Ernad Husremovic)
Date: Mon Oct  5 08:59:47 2009
Subject: [Harbour] What is Przemek's architecture ?
In-Reply-To: <7525899.141254747467039.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <11391903.161254747575538.JavaMail.root@zimbra-1.sigma-com.net>

> On Mon, 05 Oct 2009, Ernad Husremovic wrote:
> >  > >Especially how do you implement client side ?
> > > Switch to Linux :)
> > I am on linux :). But my custumers are not :( 
> 
> But only your application needs Linux or other *nix like OS
> and your customer can still use the same OS as so far.
> Believe me that I also do not plan to force any OS on client
> computers.

I know, but there is still problem with single PC and small LAN installations 
(where file server PC is workstation also)  

Many of our users are in this class. 
From maurilio.longo at libero.it  Mon Oct  5 09:07:22 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Oct  5 09:07:36 2009
Subject: [Harbour] double postinst call?
Message-ID: <4AC9EF8A.9060303@libero.it>

Viktor,

latest svn code calls both postinst.prg and postinst.cmd

! 'hbxbp' library skipped
./bin/os2/gcc/hbrun.exe --hb:gtcgi ./bin/postinst.prg
! Making e:\harbour\bin\hbmk.cfg...
.\bin\postinst.cmd


Is this something I'm seeing because of OS/2 use, or is it a general issue?

Best regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From hernad at sigma-com.net  Mon Oct  5 09:13:12 2009
From: hernad at sigma-com.net (Ernad Husremovic)
Date: Mon Oct  5 09:13:22 2009
Subject: [Harbour] What is Przemek's architecture ?
In-Reply-To: <11391903.161254747575538.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <20777571.191254748392383.JavaMail.root@zimbra-1.sigma-com.net>

> I know, but there is still problem with single PC and small LAN
> installations
> (where file server PC is workstation also)

My mistake, problem with single PC instalation is quite meaningless in the context of this discussion :(.
We have DBFCDX RDD + native windows harbour aplication.
From druzus at acn.waw.pl  Mon Oct  5 09:16:40 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 09:16:47 2009
Subject: [Harbour] win64 results
In-Reply-To: <C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>
	<20091005123019.GA27470@uran.home.aster.pl>
	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>
Message-ID: <20091005131640.GA2634@uran.home.aster.pl>

On Mon, 05 Oct 2009, Szak?ts Viktor wrote:
>>> The only issues are UNICODE in gtwvt [so I'll probably
>>> disable it there while we fix it]. (Also gtwin, but
>>> gtwin isn't really critical for me, it will fade quite
>>> soon)
>> Without real windows access it will be hard for me to help in
>> this problem.
> I still maintain my offer, if you want to have some
> fun with the issue ;) (and have time) I can pass you
> RDP access to a freshly installed VM with 64-bit
> Windows and dev tools. Since it's on my MBP, we only
> have to sync schedules.

Thank you for your proposition and I'll ask you about it
if we cannot resolve the problem in other way.

> If this isn't appropriate I can make some screenshots,
> maybe it gives you some clues about the situation.
> Well, here they are:
> http://www.syenar.hu/harbour/win64.png
> http://www.syenar.hu/harbour/win64u.png

Looks that non ASCII glyphs are missed.
Is it local to Win64 or the same happens also in Win32?

best regards,
Przemek
From mbelgrano at deltain.it  Mon Oct  5 09:24:31 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct  5 09:24:59 2009
Subject: [Harbour] What is Przemek's architecture ?
In-Reply-To: <11391903.161254747575538.JavaMail.root@zimbra-1.sigma-com.net>
References: <7525899.141254747467039.JavaMail.root@zimbra-1.sigma-com.net> 
	<11391903.161254747575538.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <609353e70910050624s46a9f52fq4cdd53ab40741302@mail.gmail.com>

You can use Use linux on windows using virual machine microsoft,vmware

you can download an Ubuntu 8.04 (Desktop) VMware Image. This virtual
Linux system with all its applications is usable out-of-the-box (e.g.
with the free VMware Player)
http://jars.de/english/ubuntu-804-vmware-image-download-english


2009/10/5 Ernad Husremovic <hernad@sigma-com.net>:
>> On Mon, 05 Oct 2009, Ernad Husremovic wrote:
>> > ?> >Especially how do you implement client side ?
>> > > Switch to Linux :)
>> > I am on linux :). But my custumers are not :(
>>
>> But only your application needs Linux or other *nix like OS
>> and your customer can still use the same OS as so far.
>> Believe me that I also do not plan to force any OS on client
>> computers.
>
> I know, but there is still problem with single PC and small LAN installations
> (where file server PC is workstation also)
>
> Many of our users are in this class.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Mon Oct  5 09:29:16 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 09:29:22 2009
Subject: [Harbour] double postinst call?
In-Reply-To: <4AC9EF8A.9060303@libero.it>
References: <4AC9EF8A.9060303@libero.it>
Message-ID: <20091005132916.GA21057@uran.home.aster.pl>

On Mon, 05 Oct 2009, Maurilio Longo wrote:

Hi,

> latest svn code calls both postinst.prg and postinst.cmd
> ! 'hbxbp' library skipped
> ./bin/os2/gcc/hbrun.exe --hb:gtcgi ./bin/postinst.prg
> ! Making e:\harbour\bin\hbmk.cfg...
> .\bin\postinst.cmd
> Is this something I'm seeing because of OS/2 use, or is it a general issue?

There are also other problems with postinst.prg.
It makes HB_BUILD_PARTS=compiler unusable because to compile hbrun
it's necessary to recompile whole core code. Now it simply does not
work.
Additionally in some package compilation which can be done using
non real directories but for final system wide installation (i.e. RPMs)
hbrun is linked with shared harbour library but cannot be executed
from the temporary build time directories.

In summary I'm not sure it's good idea to use it. Instead of making
things simpler it introduce additional dependencies.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Oct  5 09:43:23 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 09:43:34 2009
Subject: [Harbour] double postinst call?
In-Reply-To: <4AC9EF8A.9060303@libero.it>
References: <4AC9EF8A.9060303@libero.it>
Message-ID: <077DF1EF-BFAC-4C8E-88EF-38813FCF0F5E@syenar.hu>

Hi Maurilio,

> latest svn code calls both postinst.prg and postinst.cmd
>
> ! 'hbxbp' library skipped
> ./bin/os2/gcc/hbrun.exe --hb:gtcgi ./bin/postinst.prg
> ! Making e:\harbour\bin\hbmk.cfg...
> .\bin\postinst.cmd
>
>
> Is this something I'm seeing because of OS/2 use, or is it a general  
> issue?

I've left support for shell native postinst files
intentionally. They might be useful for some local
uses, Przemek asked for them, plus some tasks still
need it. Anyhow it should only be executed if
present, and ignored if not found. Latter should
be the case for OS/2.

If not there, yet it tries to be executed, it's a bug.

BTW thanks for the dehacking of gcc.mak.

Brgds,
Viktor

From mhsabado at gmail.com  Mon Oct  5 09:45:18 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Mon Oct  5 09:45:31 2009
Subject: [Harbour] Re: Compile Error Using BCC 6.20
In-Reply-To: <4ac9eeba.2308c00a.217b.ffffb712SMTPIN_ADDED@mx.google.com>
References: <4ac9eeba.2308c00a.217b.ffffb712SMTPIN_ADDED@mx.google.com>
Message-ID: <4AC9F86E.1040304@gmail.com>


Przemek and Viktor,
> Date: Mon, 5 Oct 2009 14:41:17 +0200
> From: Przemyslaw Czerpak <druzus@acn.waw.pl>
> Subject: Re: [Harbour] Re: Compile Error Using BCC 6.20
> To: "Harbour Project Main Developer List."
> 	<harbour@harbour-project.org>
> Message-ID: <20091005124117.GA2492@uran.home.aster.pl>
> Content-Type: text/plain; charset=utf-8
>
> On Mon, 05 Oct 2009, Szak???ts Viktor wrote:
>
> Hi,
>
>   
>> > Indeed you're right. With one small correction, I think $(LIB_DIR)
>> > must be needed for BCC when run in WINE env (according to your
>> > comments in .mk), so this line should be added instead, after 'DLIBS :=' 
>> > line:
>> > DLIBS += $(foreach lib,$(SYSLIBS),$(lib)$(LIB_EXT))
>>     
>
> Yes sure though as far as I know we do not use any LIBS yet to create
> harbour*.dll so it should also work.
>
>   
>> > I cannot retest it now even with 5.5 (where it was working anyway),
>> > I hope Mario can report some results with 6.2 and someone else with
>> > 5.5. After that we should commit.
>>     
>
> I tested it with 5.5. and WINE and it works.
>   
I have now successfully built Harbour from the latest SVN using BCC 6.20!

Thank you very much for looking into this issue and fixing.

Best regards,
Mario
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091005/23ad597e/attachment-0001.html
From harbour.01 at syenar.hu  Mon Oct  5 09:45:18 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 09:45:35 2009
Subject: [Harbour] win64 results
In-Reply-To: <20091005131640.GA2634@uran.home.aster.pl>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>
	<20091005123019.GA27470@uran.home.aster.pl>
	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>
	<20091005131640.GA2634@uran.home.aster.pl>
Message-ID: <5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>

>>>> The only issues are UNICODE in gtwvt [so I'll probably
>>>> disable it there while we fix it]. (Also gtwin, but
>>>> gtwin isn't really critical for me, it will fade quite
>>>> soon)
>>> Without real windows access it will be hard for me to help in
>>> this problem.
>> I still maintain my offer, if you want to have some
>> fun with the issue ;) (and have time) I can pass you
>> RDP access to a freshly installed VM with 64-bit
>> Windows and dev tools. Since it's on my MBP, we only
>> have to sync schedules.
>
> Thank you for your proposition and I'll ask you about it
> if we cannot resolve the problem in other way.

Okay, no problem.

>
>> If this isn't appropriate I can make some screenshots,
>> maybe it gives you some clues about the situation.
>> Well, here they are:
>> http://www.syenar.hu/harbour/win64.png
>> http://www.syenar.hu/harbour/win64u.png
>
> Looks that non ASCII glyphs are missed.
> Is it local to Win64 or the same happens also in Win32?

Will try to test it later. It's not just the glyphs,
notice the font is not the right one. (and placement
is also wrong, but that may be a consequence of former).

Brgds,
Viktor

From hernad at sigma-com.net  Mon Oct  5 09:45:26 2009
From: hernad at sigma-com.net (Ernad Husremovic)
Date: Mon Oct  5 09:45:41 2009
Subject: [Harbour] What is Przemek's architecture ?
In-Reply-To: <609353e70910050624s46a9f52fq4cdd53ab40741302@mail.gmail.com>
Message-ID: <5065629.221254750326154.JavaMail.root@zimbra-1.sigma-com.net>


----- "Massimo Belgrano" <mbelgrano@deltain.it> wrote:

> You can use Use linux on windows using virual machine
> microsoft,vmware
> 
> you can download an Ubuntu 8.04 (Desktop) VMware Image. This virtual
> Linux system with all its applications is usable out-of-the-box (e.g.
> with the free VMware Player)
> http://jars.de/english/ubuntu-804-vmware-image-download-english
> 

Thank you Massimo for your suggestion, but we are talking about small budget customers, 
with small budget hardware (read low capacity hardware).

That would be easily begin nightmare to maintain.

By the way, We have experience with virtualization tools like vmware, virtualbox.

In your proposed scenario vmware server (free also) or virtualbox would be better match than vmware player. 


> 2009/10/5 Ernad Husremovic <hernad@sigma-com.net>:
> >> On Mon, 05 Oct 2009, Ernad Husremovic wrote:
> >> > ?> >Especially how do you implement client side ?
> >> > > Switch to Linux :)
> >> > I am on linux :). But my custumers are not :(
> >>
> >> But only your application needs Linux or other *nix like OS
> >> and your customer can still use the same OS as so far.
> >> Believe me that I also do not plan to force any OS on client
> >> computers.
> >
> > I know, but there is still problem with single PC and small LAN
> installations
> > (where file server PC is workstation also)
> >
> > Many of our users are in this class.
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> 
> 
> 
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
From hernad at sigma-com.net  Mon Oct  5 09:47:36 2009
From: hernad at sigma-com.net (Ernad Husremovic)
Date: Mon Oct  5 09:47:46 2009
Subject: [Harbour] What is Przemek's architecture ?
In-Reply-To: <5065629.221254750326154.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <1571666.251254750456297.JavaMail.root@zimbra-1.sigma-com.net>

Oh, I forgot, Massimo happy birthday !

Regards,
Ernad
From harbour.01 at syenar.hu  Mon Oct  5 09:49:21 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 09:49:34 2009
Subject: [Harbour] double postinst call?
In-Reply-To: <20091005132916.GA21057@uran.home.aster.pl>
References: <4AC9EF8A.9060303@libero.it>
	<20091005132916.GA21057@uran.home.aster.pl>
Message-ID: <5EF375D0-D050-4360-9A10-4F00799FDC39@syenar.hu>

>> latest svn code calls both postinst.prg and postinst.cmd
>> ! 'hbxbp' library skipped
>> ./bin/os2/gcc/hbrun.exe --hb:gtcgi ./bin/postinst.prg
>> ! Making e:\harbour\bin\hbmk.cfg...
>> .\bin\postinst.cmd
>> Is this something I'm seeing because of OS/2 use, or is it a  
>> general issue?
>
> There are also other problems with postinst.prg.
> It makes HB_BUILD_PARTS=compiler unusable because to compile hbrun
> it's necessary to recompile whole core code. Now it simply does not
> work.
> Additionally in some package compilation which can be done using
> non real directories but for final system wide installation (i.e.  
> RPMs)
> hbrun is linked with shared harbour library but cannot be executed
> from the temporary build time directories.
>
> In summary I'm not sure it's good idea to use it. Instead of making
> things simpler it introduce additional dependencies.

That's why I was asking about it before making any move.
Well maybe the shared vs non-shared issues should be solved
for all occasions in some ways.

I see some benefit in this setup because we do have to eat
our own dog food. Plus of course it allows to create a
shell independent postinst in a language which is well
understood by everyone. So so far I like it despite the
extra issues you mention. I believe these can be solved
in some ways.

Brgds,
Viktor

From sami-site1 at laham.com.br  Mon Oct  5 10:17:19 2009
From: sami-site1 at laham.com.br (Sami Laham)
Date: Mon Oct  5 10:18:21 2009
Subject: RES: [Harbour] SF.net SVN: harbour-project:[12647] trunk/harbour
In-Reply-To: <4AC9EAAF.6060805@dbtopas.lt>
Message-ID: <20091005141754.05A817A37EC@hm2086.locaweb.com.br>

Hello folks, I would like know what GUI can i use with WINCE for developer
to mobile devices, someone use HWGUI to WINCE ? 

From mbelgrano at deltain.it  Mon Oct  5 10:18:59 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct  5 10:19:28 2009
Subject: [Harbour] What is Przemek's architecture ?
In-Reply-To: <5065629.221254750326154.JavaMail.root@zimbra-1.sigma-com.net>
References: <609353e70910050624s46a9f52fq4cdd53ab40741302@mail.gmail.com> 
	<5065629.221254750326154.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <609353e70910050718q7f93a7aem26a4b41b0e75322d@mail.gmail.com>

IMO In your scenario, Przemek's architecture is not needed
because this is few remote users like few budget
yoy can run on native os

But i hope that Gtnet will be a solution when ready and invite Przemek
to work on his wornderfull universal solution


2009/10/5 Ernad Husremovic <hernad@sigma-com.net>:
>
> ----- "Massimo Belgrano" <mbelgrano@deltain.it> wrote:
>
>> You can use Use linux on windows using virual machine
>> microsoft,vmware
>>
>> you can download an Ubuntu 8.04 (Desktop) VMware Image. This virtual
>> Linux system with all its applications is usable out-of-the-box (e.g.
>> with the free VMware Player)
>> http://jars.de/english/ubuntu-804-vmware-image-download-english
>>
>
> Thank you Massimo for your suggestion, but we are talking about small budget customers,
> with small budget hardware (read low capacity hardware).
>
> That would be easily begin nightmare to maintain.
>
> By the way, We have experience with virtualization tools like vmware, virtualbox.
>
> In your proposed scenario vmware server (free also) or virtualbox would be better match than vmware player.
>
>
>> 2009/10/5 Ernad Husremovic <hernad@sigma-com.net>:
>> >> On Mon, 05 Oct 2009, Ernad Husremovic wrote:
>> >> > ?> >Especially how do you implement client side ?
>> >> > > Switch to Linux :)
>> >> > I am on linux :). But my custumers are not :(
>> >>
>> >> But only your application needs Linux or other *nix like OS
>> >> and your customer can still use the same OS as so far.
>> >> Believe me that I also do not plan to force any OS on client
>> >> computers.
>> >
>> > I know, but there is still problem with single PC and small LAN
>> installations
>> > (where file server PC is workstation also)
>> >
>> > Many of our users are in this class.
>> > _______________________________________________
>> > Harbour mailing list
>> > Harbour@harbour-project.org
>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>> >
>>
>>
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Mon Oct  5 10:22:44 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 10:22:50 2009
Subject: [Harbour] What is Przemek's architecture ?
In-Reply-To: <609353e70910050507s4936a18bnc09000ab573c1edb@mail.gmail.com>
References: <24491095.21254735957288.JavaMail.root@zimbra-1.sigma-com.net>
	<8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net>
	<20091005105620.GA23594@uran.home.aster.pl>
	<609353e70910050507s4936a18bnc09000ab573c1edb@mail.gmail.com>
Message-ID: <20091005142244.GA3328@uran.home.aster.pl>

On Mon, 05 Oct 2009, Massimo Belgrano wrote:

Hi Massimo,

> Today is my birthday and your vision is the best present

happy birthday

> gtnet will be a important solution for many user here
> how gtnet in windows will recognise user at login to reestablish his session?

It will depend on the authentication method and used encryption
in final code.

best regards,
Przemek
From amigosam at adinet.com.uy  Mon Oct  5 10:24:06 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Oct  5 10:24:45 2009
Subject: [Harbour] Re: What is Przemek's architecture ?
In-Reply-To: <8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net>
References: <24491095.21254735957288.JavaMail.root@zimbra-1.sigma-com.net>
	<8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <hacvi1$67h$1@ger.gmane.org>

What is Przemek's architecture ?

It's simple, he only programs text applications.

Nowadays I'm using a similar but GUI solution:
I share xbase++ aplications runing under wine+samba tru FREENX SERVER. 
The drawback is you can?t use local resources as printers. For this I 
had to develop a client/server printing program.

I'm waiting eagerly the day I can use QTGUI (hbxbp) on my apps to 
eliminate wine and/or samba from my deployment chain.


HTH
Angel



From harbour.01 at syenar.hu  Mon Oct  5 10:24:04 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 10:25:13 2009
Subject: [Harbour] Re: Compile Error Using BCC 6.20
In-Reply-To: <4AC9F86E.1040304@gmail.com>
References: <4ac9eeba.2308c00a.217b.ffffb712SMTPIN_ADDED@mx.google.com>
	<4AC9F86E.1040304@gmail.com>
Message-ID: <131A4860-B090-4AB5-AB0E-65839B4DF539@syenar.hu>

Thanks for the feedback Mario.

Brgds,
Viktor

On 2009 Oct 5, at 15:45, Mario H. Sabado wrote:

>
> Przemek and Viktor,
>> Date: Mon, 5 Oct 2009 14:41:17 +0200
>> From: Przemyslaw Czerpak
>> <druzus@acn.waw.pl>
>>
>> Subject: Re: [Harbour] Re: Compile Error Using BCC 6.20
>> To: "Harbour Project Main Developer List."
>> 	
>> <harbour@harbour-project.org>
>>
>> Message-ID:
>> <20091005124117.GA2492@uran.home.aster.pl>
>>
>> Content-Type: text/plain; charset=utf-8
>>
>> On Mon, 05 Oct 2009, Szak???ts Viktor wrote:
>>
>> Hi,
>>
>>
>>
>>> >
>>> Indeed you're right. With one small correction, I think $(LIB_DIR)
>>>
>>> >
>>> must be needed for BCC when run in WINE env (according to your
>>>
>>> >
>>> comments in .mk), so this line should be added instead, after  
>>> 'DLIBS :='
>>>
>>> >
>>> line:
>>>
>>> >
>>> DLIBS += $(foreach lib,$(SYSLIBS),$(lib)$(LIB_EXT))
>>>
>>>
>>
>> Yes sure though as far as I know we do not use any LIBS yet to create
>> harbour*.dll so it should also work.
>>
>>
>>
>>> >
>>> I cannot retest it now even with 5.5 (where it was working anyway),
>>>
>>> >
>>> I hope Mario can report some results with 6.2 and someone else with
>>>
>>> >
>>> 5.5. After that we should commit.
>>>
>>>
>>
>> I tested it with 5.5. and WINE and it works.
>>
>>
> I have now successfully built Harbour from the latest SVN using BCC  
> 6.20!
>
> Thank you very much for looking into this issue and fixing.
>
> Best regards,
> Mario
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Mon Oct  5 10:32:34 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct  5 10:33:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12647] trunk/harbour
In-Reply-To: <20091005141754.05A817A37EC@hm2086.locaweb.com.br>
References: <4AC9EAAF.6060805@dbtopas.lt>
	<20091005141754.05A817A37EC@hm2086.locaweb.com.br>
Message-ID: <609353e70910050732j5491a122vefe0b023a7595b98@mail.gmail.com>

AKAIK
The only free amd opensource gui for wince is the upcoming
VIANEMO http://blog.viaopen.com/
Yon can use Gt , istead of gui, so you are able to run  clipper
application with little modification

Commercial GUI
ViaCoral at http://www.viaopen.com/
FiveWin for Pocket PC at http://www.fivetechsoft.com/english/fwppc.html

2009/10/5 Sami Laham <sami-site1@laham.com.br>:
> Hello folks, I would like know what GUI can i use with WINCE for developer
> to mobile devices, someone use HWGUI to WINCE ?
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Mon Oct  5 10:48:04 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct  5 10:48:30 2009
Subject: [Harbour] Re: What is Przemek's architecture ?
In-Reply-To: <hacvi1$67h$1@ger.gmane.org>
References: <24491095.21254735957288.JavaMail.root@zimbra-1.sigma-com.net> 
	<8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net> 
	<hacvi1$67h$1@ger.gmane.org>
Message-ID: <609353e70910050748u54dbf833ta49b664569837875@mail.gmail.com>

Can you post same screenshoot?

Have you tried hbxbp (Qt based ) on your apps ?
A qt application will be used in gui mode with FREENX SERVER. ?
>NX is an exciting new technology for remote display. It provides near local speed application
>responsiveness over high latency, low bandwidth links

I invite you (and everybody) post screenshoot also on facebook group of
Harbour Project at
http://www.facebook.com/home.php#/group.php?gid=48795263775&ref=ts
or authorize me post your screenshoot




2009/10/5 Angel Pais <amigosam@adinet.com.uy>:
> What is Przemek's architecture ?
>
> It's simple, he only programs text applications.
>
> Nowadays I'm using a similar but GUI solution:
> I share xbase++ aplications runing under wine+samba tru FREENX SERVER. The
> drawback is you can?t use local resources as printers. For this I had to
> develop a client/server printing program.
>
> I'm waiting eagerly the day I can use QTGUI (hbxbp) on my apps to eliminate
> wine and/or samba from my deployment chain.
>
>
> HTH
> Angel
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Oct  5 10:53:17 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 10:53:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12647] trunk/harbour
In-Reply-To: <609353e70910050732j5491a122vefe0b023a7595b98@mail.gmail.com>
References: <4AC9EAAF.6060805@dbtopas.lt>
	<20091005141754.05A817A37EC@hm2086.locaweb.com.br>
	<609353e70910050732j5491a122vefe0b023a7595b98@mail.gmail.com>
Message-ID: <30B2DCF4-898E-410A-943D-C03AF651AD40@syenar.hu>

QT also runs on WinCE, so it should be possible to
build hbqt and hbxbp for WinCE.

Brgds,
Viktor

On 2009 Oct 5, at 16:32, Massimo Belgrano wrote:

> AKAIK
> The only free amd opensource gui for wince is the upcoming
> VIANEMO http://blog.viaopen.com/
> Yon can use Gt , istead of gui, so you are able to run  clipper
> application with little modification
>
> Commercial GUI
> ViaCoral at http://www.viaopen.com/
> FiveWin for Pocket PC at http://www.fivetechsoft.com/english/ 
> fwppc.html
>
> 2009/10/5 Sami Laham <sami-site1@laham.com.br>:
>> Hello folks, I would like know what GUI can i use with WINCE for  
>> developer
>> to mobile devices, someone use HWGUI to WINCE ?
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Mon Oct  5 11:02:54 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 11:03:00 2009
Subject: [Harbour] Re: What is Przemek's architecture ?
In-Reply-To: <hacvi1$67h$1@ger.gmane.org>
References: <24491095.21254735957288.JavaMail.root@zimbra-1.sigma-com.net>
	<8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net>
	<hacvi1$67h$1@ger.gmane.org>
Message-ID: <20091005150254.GA5451@uran.home.aster.pl>

On Mon, 05 Oct 2009, Angel Pais wrote:

Hi,

> Nowadays I'm using a similar but GUI solution:
> I share xbase++ aplications runing under wine+samba tru FREENX SERVER. The 
> drawback is you can?t use local resources as printers. For this I had to 
> develop a client/server printing program.

Have you ever measured the WINE overhead in IO operations?
It's over 10 times slower then native code.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Oct  5 11:06:10 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 11:06:20 2009
Subject: [Harbour] bzip2 wrapper for Harbour
Message-ID: <ABFEF337-AE1F-4732-BC9B-4F3D0AC6DD56@syenar.hu>

Hi All,

Anyone knows about a bzip2 compression lib wrapper for Harbour?

Extra question: and for 7-zip?

Brgds,
Viktor

From amigosam at adinet.com.uy  Mon Oct  5 11:16:10 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Oct  5 11:22:33 2009
Subject: [Harbour] Re: What is Przemek's architecture ?
In-Reply-To: <20091005150254.GA5451@uran.home.aster.pl>
References: <24491095.21254735957288.JavaMail.root@zimbra-1.sigma-com.net>	<8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net>	<hacvi1$67h$1@ger.gmane.org>
	<20091005150254.GA5451@uran.home.aster.pl>
Message-ID: <had2jk$icn$1@ger.gmane.org>

Przemyslaw Czerpak escribi?:
> On Mon, 05 Oct 2009, Angel Pais wrote:
> 
> Hi,
> 
>> Nowadays I'm using a similar but GUI solution:
>> I share xbase++ aplications runing under wine+samba tru FREENX SERVER. The 
>> drawback is you can?t use local resources as printers. For this I had to 
>> develop a client/server printing program.
> 
> Have you ever measured the WINE overhead in IO operations?
> It's over 10 times slower then native code.
> 
> best regards,
> Przemek

I know that.
But my clients wont accept a console application, so I'm in a trap I 
have to live with.
Hence the need for a linux gui development platform and/or a client 
server RDD.

Regards
Angel

From druzus at users.sourceforge.net  Mon Oct  5 11:29:50 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Oct  5 11:29:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12649] trunk/harbour
Message-ID: <E1MupVW-00049O-3S@d5vjzd1.ch3.sourceforge.com>

Revision: 12649
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12649&view=rev
Author:   druzus
Date:     2009-10-05 15:29:34 +0000 (Mon, 05 Oct 2009)

Log Message:
-----------
2009-10-05 17:28 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/gtwvt/gtwvt.c
    ! fixed font selection in UNICODE builds - it was not selected at all
    ! fixed possible double font freeing in non UNICODE builds

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/gtwvt/gtwvt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Oct  5 11:31:39 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 11:31:45 2009
Subject: [Harbour] Re: What is Przemek's architecture ?
In-Reply-To: <had2jk$icn$1@ger.gmane.org>
References: <24491095.21254735957288.JavaMail.root@zimbra-1.sigma-com.net>
	<8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net>
	<hacvi1$67h$1@ger.gmane.org>
	<20091005150254.GA5451@uran.home.aster.pl>
	<had2jk$icn$1@ger.gmane.org>
Message-ID: <20091005153139.GA27838@uran.home.aster.pl>

On Mon, 05 Oct 2009, Angel Pais wrote:

Hi,

> I know that.
> But my clients wont accept a console application, so I'm in a trap I have 
> to live with.
> Hence the need for a linux gui development platform and/or a client server 
> RDD.

So maybe you should try XHGTK or some other native Linux GUI library
and execute them remotely using client side XServers?

best regards,
Przemek
From druzus at acn.waw.pl  Mon Oct  5 11:36:53 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 11:37:00 2009
Subject: [Harbour] win64 results
In-Reply-To: <5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>
	<20091005123019.GA27470@uran.home.aster.pl>
	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>
	<20091005131640.GA2634@uran.home.aster.pl>
	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>
Message-ID: <20091005153653.GA30432@uran.home.aster.pl>

On Mon, 05 Oct 2009, Szak?ts Viktor wrote:
>> Looks that non ASCII glyphs are missed.
>> Is it local to Win64 or the same happens also in Win32?
> Will try to test it later. It's not just the glyphs,
> notice the font is not the right one. (and placement
> is also wrong, but that may be a consequence of former).

Please try Win64 builds with current SVN code.
I've just committed:

   2009-10-05 17:28 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
     * harbour/source/rtl/gtwvt/gtwvt.c
       ! fixed font selection in UNICODE builds - it was not selected at all
       ! fixed possible double font freeing in non UNICODE builds

but I cannot test it - WINE does not replicate precisely MS-Windows font
selection and encoding.

best regards,
Przemek
From amigosam at adinet.com.uy  Mon Oct  5 11:46:15 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Oct  5 11:46:53 2009
Subject: [Harbour] Re: What is Przemek's architecture ?
In-Reply-To: <20091005153139.GA27838@uran.home.aster.pl>
References: <24491095.21254735957288.JavaMail.root@zimbra-1.sigma-com.net>	<8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net>	<hacvi1$67h$1@ger.gmane.org>	<20091005150254.GA5451@uran.home.aster.pl>	<had2jk$icn$1@ger.gmane.org>
	<20091005153139.GA27838@uran.home.aster.pl>
Message-ID: <had4c1$p85$1@ger.gmane.org>

Przemyslaw Czerpak escribi?:
> On Mon, 05 Oct 2009, Angel Pais wrote:
> 
> Hi,
> 
>> I know that.
>> But my clients wont accept a console application, so I'm in a trap I have 
>> to live with.
>> Hence the need for a linux gui development platform and/or a client server 
>> RDD.
> 
> So maybe you should try XHGTK or some other native Linux GUI library
> and execute them remotely using client side XServers?
> 
> best regards,
> Przemek

I'm feeling very bad about xhgtk, I'm under the impression it isn't 
ready for bussiness programmers like me ( translate as very dumb if you 
like ).
Only people who developed it know how to get it straight, no documents, 
no prg examples, nothing. And lib authors are almost unreachable also.
Could it be a good idea to integrate xhgtk in harbour's tree ?
The most promising lib nowadays is hbqt but Pritpal is fighting some 
memory leaks.
Anyway I'm confident it's only a matter of time until a usable linux gui 
lib arises (otherwise consider this compiler dead), so I can drop wine 
and samba from my deployment stack.

thank you Przemek for your time and willingness to discuss this kind of 
things with me
Angel

From harbour.01 at syenar.hu  Mon Oct  5 11:50:37 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 11:51:02 2009
Subject: [Harbour] win64 results
In-Reply-To: <20091005153653.GA30432@uran.home.aster.pl>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>
	<20091005123019.GA27470@uran.home.aster.pl>
	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>
	<20091005131640.GA2634@uran.home.aster.pl>
	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>
	<20091005153653.GA30432@uran.home.aster.pl>
Message-ID: <0677120A-C125-4B16-819D-36F44BC0B82F@syenar.hu>

Thanks Przemek. I'll do it this evening.

Brgds,
Viktor

On 2009 Oct 5, at 17:36, Przemyslaw Czerpak wrote:

> On Mon, 05 Oct 2009, Szak?ts Viktor wrote:
>>> Looks that non ASCII glyphs are missed.
>>> Is it local to Win64 or the same happens also in Win32?
>> Will try to test it later. It's not just the glyphs,
>> notice the font is not the right one. (and placement
>> is also wrong, but that may be a consequence of former).
>
> Please try Win64 builds with current SVN code.
> I've just committed:
>
>   2009-10-05 17:28 UTC+0200 Przemyslaw Czerpak (druzus/at/ 
> priv.onet.pl)
>     * harbour/source/rtl/gtwvt/gtwvt.c
>       ! fixed font selection in UNICODE builds - it was not selected  
> at all
>       ! fixed possible double font freeing in non UNICODE builds
>
> but I cannot test it - WINE does not replicate precisely MS-Windows  
> font
> selection and encoding.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bruno.luciani at gmail.com  Mon Oct  5 12:25:59 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Mon Oct  5 12:26:06 2009
Subject: [Harbour] LIBHBHPDF
Message-ID: <133778360910050925x598e2739v69536a3621ef99de@mail.gmail.com>

I am  helping a friend to use this library and he has some questions

1 -  How to use units in milimeters  ?

2 - How to make position 0,0 be UP and LEFT instead of DOWN and LEFT that is
like now

3 - How to set the correct Codepage for correct display of characters

4 - He only can print PNG images , it is a way to use another images types ?

thanks in advance

Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091005/b7a09406/attachment.html
From roberbox at gmail.com  Mon Oct  5 12:56:26 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Mon Oct  5 12:56:36 2009
Subject: [Harbour] Wich is the official harbour's user group?
In-Reply-To: <0677120A-C125-4B16-819D-36F44BC0B82F@syenar.hu>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>	<20091005123019.GA27470@uran.home.aster.pl>	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>	<20091005131640.GA2634@uran.home.aster.pl>	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>	<20091005153653.GA30432@uran.home.aster.pl>
	<0677120A-C125-4B16-819D-36F44BC0B82F@syenar.hu>
Message-ID: <4ACA253A.7010602@gmail.com>

Massimo Belgrano wrote:

  > Please Roberto lopez when you see this messages post your right reply
 >
 > Will harbour and hmg share an harbour corner to made assistance to
 > either final user?
 >

At first, regarding the name:

When I've created the library, It was only a simple experiment about 
Harbour-C interface, so, I've not care about the name so much :)

I've picked "MiniGUI" because the library featured only a minimal 
functionality/GUI object set, so, it appeared to be a good choice.

Some time later, I've realized that a Linux product existed with the 
same name, so I've decided to add 'Harbour' to the name.

 From that time, the library was called 'Harbour MiniGUI'. So, avoiding 
the name conflict and also made clear my compiler preferece.

There was another problem to solve, I had LOTS of support requests 
regarding issues about Harbour and C compiler installation/compatibility.

Then I've decided to package all needed things ready to use with zero 
configuration (this was possible with the great help of Lorenzo Fiorini 
on MingW compatibility issues).

 From the first 'ready to use' distribution (MiniGUI library + MingW + 
Harbour) I've decided to use an alternate name: "HMG". Of course, it 
stands for *H*arbour *M*ini *G*ui (indeed, "Harbour MiniGUI" is a not 
good one name at all :) )

Regarding the HMG Forum, Viktor is rigth about that the Harbour version 
bundled with HMG is a customized version. Moreover, the customization is 
minimal (contrib library names are not changed).

Moreover, there is certainly a lack of 'official' Harbour support to users.

Across years I've received tons of bugs reports about Harbour, that I 
can't handle because lack of time or knowledge (mostly about 
rdd/database issues).

Harbour official users lists is usually inactive, then, some users come 
here (not the right place, of course).

HMG Forum site owner and admin is Rathinagiri (a long time HMG user and 
contributor) so, he is the right person to ask about this.

 From my part (I've not followed the complete thread about this) there 
is no problem to add a specific area on the forum to give support to 
Harbour compiler specific issues, but, of course, we will need the 
collaboration of some of the Harbour 'masters' to succeed.

 From about one year ago, HMG includes Harbour 1.01 and MingW 3.4.5, so 
most questions will surely related to that combo (I'm waiting for 
Harbour 2.0 final to replace 1.01 and MingW with 4.x).


Regards,

Roberto.








From abe.buch at att.net  Mon Oct  5 14:00:05 2009
From: abe.buch at att.net (AbeB)
Date: Mon Oct  5 14:00:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12649] trunk/harbour
In-Reply-To: <E1MupVW-00049O-3S@d5vjzd1.ch3.sourceforge.com>
References: <E1MupVW-00049O-3S@d5vjzd1.ch3.sourceforge.com>
Message-ID: <1254765605833-3770472.post@n2.nabble.com>


Thanks, this fixed it in WinCE too. thanks.



druzus wrote:
> 
> Revision: 12649
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12649&view=rev
> Author:   druzus
> Date:     2009-10-05 15:29:34 +0000 (Mon, 05 Oct 2009)
> 
> Log Message:
> -----------
> 2009-10-05 17:28 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/source/rtl/gtwvt/gtwvt.c
>     ! fixed font selection in UNICODE builds - it was not selected at all
>     ! fixed possible double font freeing in non UNICODE builds
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/source/rtl/gtwvt/gtwvt.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-12649-trunk-harbour-tp3769565p3770472.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Mon Oct  5 14:26:15 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Oct  5 14:26:21 2009
Subject: [Harbour] What is Przemek's architecture ?
In-Reply-To: <hacvi1$67h$1@ger.gmane.org>
References: <8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net>
	<hacvi1$67h$1@ger.gmane.org>
Message-ID: <25755586.post@talk.nabble.com>


Hello Angel


Angel Pais wrote:
> 
> I'm waiting eagerly the day I can use QTGUI (hbxbp) on my apps to 
> eliminate wine and/or samba from my deployment chain.
> 

It is there.

But I have never forwarded with any input 
how the whole concept is shaping-up? Is it going towards
Xbase++ compatibility or not? Any pitfalls, etc.
At least I was expecting such experiments from you, as 
you are one of the real users of Xbase++ and also you are the 
original who floated idea of Qt.

Still, effort is on, the only issue I am fighting with Qt is the 
memory leaks and paint-engine glitch in multi-window mode.
Hopefully, some day Przemek would jump in the project 
and it will be set straight.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/What-is-Przemek%27s-architecture---tp25747913p25755586.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From amigosam at adinet.com.uy  Mon Oct  5 14:33:40 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Oct  5 14:35:02 2009
Subject: [Harbour] Re: What is Przemek's architecture ?
In-Reply-To: <25755586.post@talk.nabble.com>
References: <8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net>	<hacvi1$67h$1@ger.gmane.org>
	<25755586.post@talk.nabble.com>
Message-ID: <hade5t$u0r$1@ger.gmane.org>

Pritpal Bedi escribi?:
> Hello Angel
> 
> 
> Angel Pais wrote:
>> I'm waiting eagerly the day I can use QTGUI (hbxbp) on my apps to 
>> eliminate wine and/or samba from my deployment chain.
>>
> 
> It is there.
> 
> But I have never forwarded with any input 
> how the whole concept is shaping-up? Is it going towards
> Xbase++ compatibility or not? Any pitfalls, etc.
> At least I was expecting such experiments from you, as 
> you are one of the real users of Xbase++ and also you are the 
> original who floated idea of Qt.
> 
> Still, effort is on, the only issue I am fighting with Qt is the 
> memory leaks and paint-engine glitch in multi-window mode.
> Hopefully, some day Przemek would jump in the project 
> and it will be set straight.
> 
> Regards
> Pritpal Bedi
> 

I stopped all experiments since I read about memory leaks you were 
fighting. I promise I will do some real examples of use with the library 
in order to help you debug it.
Thank you very much Pritpal.

Angel

From sami-site1 at laham.com.br  Mon Oct  5 15:06:06 2009
From: sami-site1 at laham.com.br (Sami Laham)
Date: Mon Oct  5 15:08:00 2009
Subject: [Harbour] Harbour Wince GUI  
In-Reply-To: <4AC9EAAF.6060805@dbtopas.lt>
Message-ID: <mailman.3.1254769680.3660.harbour@harbour-project.org>

Hello folks, I would like know what GUI can i use with WINCE for developer
to mobile devices, someone use HWGUI to WINCE ? 

From harbour.01 at syenar.hu  Mon Oct  5 15:46:26 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 15:46:37 2009
Subject: [Harbour] Wich is the official harbour's user group?
In-Reply-To: <4ACA253A.7010602@gmail.com>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>	<20091005123019.GA27470@uran.home.aster.pl>	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>	<20091005131640.GA2634@uran.home.aster.pl>	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>	<20091005153653.GA30432@uran.home.aster.pl>
	<0677120A-C125-4B16-819D-36F44BC0B82F@syenar.hu>
	<4ACA253A.7010602@gmail.com>
Message-ID: <011B05AB-E5AF-459F-A93D-1BA84D024592@syenar.hu>

Hi Roberto,

Thanks for the explanation, it certainly makes some gray issues clear.

[ Still not all though, as there exists another package called
MiniGUI Extended, which actually ships with Harbour 2.0.0b2, I'm
not sure how's that related, and maybe some of my comments belong
to this project. Sorry about this. This one is also called HMG
and also MiniGUI so for me it's difficult to know which I'm
looking at to this very day. But I'm trying :) ]

It's really your project and your decision, but IMO it'd be a big
step if you'd use a vanilla Harbour build (without customization).
This way it'd be easier to swap components and general Harbour support
could be given for both bundled and standalone Harbour distros without
first identifying which build is in question. Moreover, general
Harbour support could be given at any forums without being concerned
about where this build comes from. Same goes for MiniGUI: Support
could be given even here or other official or unofficial Harbour
forums.

For Harboor MiniGUI Extended I think the difference is tget*.prg,
for normal Harbour MiniGUI I couldn't find information, about the
nature of build customization.

I still have plans to make the "plugin" concept even stronger. In
Python, Perl, Ruby, this issue is solved beautifully and no one has
to pack the base system with extra libs. One important component
of this effort is hbmk2.

Brgds,
Viktor

On 2009 Oct 5, at 18:56, Roberto Lopez wrote:

> Massimo Belgrano wrote:
>
> > Please Roberto lopez when you see this messages post your right  
> reply
> >
> > Will harbour and hmg share an harbour corner to made assistance to
> > either final user?
> >
>
> At first, regarding the name:
>
> When I've created the library, It was only a simple experiment about  
> Harbour-C interface, so, I've not care about the name so much :)
>
> I've picked "MiniGUI" because the library featured only a minimal  
> functionality/GUI object set, so, it appeared to be a good choice.
>
> Some time later, I've realized that a Linux product existed with the  
> same name, so I've decided to add 'Harbour' to the name.
>
> From that time, the library was called 'Harbour MiniGUI'. So,  
> avoiding the name conflict and also made clear my compiler preferece.
>
> There was another problem to solve, I had LOTS of support requests  
> regarding issues about Harbour and C compiler installation/ 
> compatibility.
>
> Then I've decided to package all needed things ready to use with  
> zero configuration (this was possible with the great help of Lorenzo  
> Fiorini on MingW compatibility issues).
>
> From the first 'ready to use' distribution (MiniGUI library + MingW  
> + Harbour) I've decided to use an alternate name: "HMG". Of course,  
> it stands for *H*arbour *M*ini *G*ui (indeed, "Harbour MiniGUI" is a  
> not good one name at all :) )
>
> Regarding the HMG Forum, Viktor is rigth about that the Harbour  
> version bundled with HMG is a customized version. Moreover, the  
> customization is minimal (contrib library names are not changed).
>
> Moreover, there is certainly a lack of 'official' Harbour support to  
> users.
>
> Across years I've received tons of bugs reports about Harbour, that  
> I can't handle because lack of time or knowledge (mostly about rdd/ 
> database issues).
>
> Harbour official users lists is usually inactive, then, some users  
> come here (not the right place, of course).
>
> HMG Forum site owner and admin is Rathinagiri (a long time HMG user  
> and contributor) so, he is the right person to ask about this.
>
> From my part (I've not followed the complete thread about this)  
> there is no problem to add a specific area on the forum to give  
> support to Harbour compiler specific issues, but, of course, we will  
> need the collaboration of some of the Harbour 'masters' to succeed.
>
> From about one year ago, HMG includes Harbour 1.01 and MingW 3.4.5,  
> so most questions will surely related to that combo (I'm waiting for  
> Harbour 2.0 final to replace 1.01 and MingW with 4.x).
>
>
> Regards,
>
> Roberto.
>
>
>
>
>
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From fernando_athayde at yahoo.com.br  Mon Oct  5 16:25:46 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Mon Oct  5 16:25:51 2009
Subject: [Harbour] BLOB data and databases
Message-ID: <143511.92121.qm@web52202.mail.re2.yahoo.com>

how to write a jpg in a field blob
i'm using tmysql
i saw something with BlobDirectImport in harbour, but seems that functions only in DBF
i heard something about bytearray, but i don't found in harbour

then
i want to make a database of digitalized files
i use mysql as database

Thanks
Fernando



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091005/80812726/attachment-0001.html
From amigosam at adinet.com.uy  Mon Oct  5 16:36:14 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Oct  5 16:36:49 2009
Subject: [Harbour] Re: Wich is the official harbour's user group?
In-Reply-To: <011B05AB-E5AF-459F-A93D-1BA84D024592@syenar.hu>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>	<20091005123019.GA27470@uran.home.aster.pl>	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>	<20091005131640.GA2634@uran.home.aster.pl>	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>	<20091005153653.GA30432@uran.home.aster.pl>	<0677120A-C125-4B16-819D-36F44BC0B82F@syenar.hu>	<4ACA253A.7010602@gmail.com>
	<011B05AB-E5AF-459F-A93D-1BA84D024592@syenar.hu>
Message-ID: <hadlbn$q9d$1@ger.gmane.org>

Hi Viktor:

There are 3 versions of MiniGUI:

1) "Official Version" by Roberto Lopez. This is the most conservative of 
the 3. It uses only stable versions of Harbour so it is actually using 
september/2008 version of harbour and waiting a new 2.0 version release 
of Harbour to step in.

2) MiniGui Extended by grigory Fillatov and others. This a more agresive 
     version, It uses last Harbour from SVN and included some extra 
components to the offcial version. Eg: TSBrowse

3) OOHG (object oriented Harbour Gui) by Ciro Vargas and Vicente Lopez. 
This version of Minigui implement the same library but using real oopp 
and clases. It also uses last version of Harbour from svn.

Hope you have it more clear now.

Regards
Angel

From sami-site1 at laham.com.br  Mon Oct  5 16:33:46 2009
From: sami-site1 at laham.com.br (Sami Laham)
Date: Mon Oct  5 16:37:19 2009
Subject: RES: [Harbour] Wich is the official harbour's user group?
In-Reply-To: <011B05AB-E5AF-459F-A93D-1BA84D024592@syenar.hu>
Message-ID: <20091005203440.6693ED85E33@hm1974.locaweb.com.br>

Viktor you are talking about hmg-extended   

Harbour MiniGUI Extended is a fork up from Official HMG created March 2005.
It aims to follow a more aggressive development path, and be more responsive
to user's input.

http://www.hmgextended.com

http://www.hmgextended.com/files/CONTRIB/hmg-1.7-74-setup.zip


Grigory Filatov <gfilatov@freemail.ru>




As it stands at this point, HMG Extended offers Syntax extensions over
Official HMG, including:

-----Mensagem original-----
De: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] Em nome de Viktor Szak?ts
Enviada em: segunda-feira, 5 de outubro de 2009 16:46
Para: Harbour Project Main Developer List.
Assunto: Re: [Harbour] Wich is the official harbour's user group?

Hi Roberto,

Thanks for the explanation, it certainly makes some gray issues clear.

[ Still not all though, as there exists another package called
MiniGUI Extended, which actually ships with Harbour 2.0.0b2, I'm
not sure how's that related, and maybe some of my comments belong
to this project. Sorry about this. This one is also called HMG
and also MiniGUI so for me it's difficult to know which I'm
looking at to this very day. But I'm trying :) ]

It's really your project and your decision, but IMO it'd be a big
step if you'd use a vanilla Harbour build (without customization).
This way it'd be easier to swap components and general Harbour support
could be given for both bundled and standalone Harbour distros without
first identifying which build is in question. Moreover, general
Harbour support could be given at any forums without being concerned
about where this build comes from. Same goes for MiniGUI: Support
could be given even here or other official or unofficial Harbour
forums.

For Harboor MiniGUI Extended I think the difference is tget*.prg,
for normal Harbour MiniGUI I couldn't find information, about the
nature of build customization.

I still have plans to make the "plugin" concept even stronger. In
Python, Perl, Ruby, this issue is solved beautifully and no one has
to pack the base system with extra libs. One important component
of this effort is hbmk2.

Brgds,
Viktor

On 2009 Oct 5, at 18:56, Roberto Lopez wrote:

> Massimo Belgrano wrote:
>
> > Please Roberto lopez when you see this messages post your right  
> reply
> >
> > Will harbour and hmg share an harbour corner to made assistance to
> > either final user?
> >
>
> At first, regarding the name:
>
> When I've created the library, It was only a simple experiment about  
> Harbour-C interface, so, I've not care about the name so much :)
>
> I've picked "MiniGUI" because the library featured only a minimal  
> functionality/GUI object set, so, it appeared to be a good choice.
>
> Some time later, I've realized that a Linux product existed with the  
> same name, so I've decided to add 'Harbour' to the name.
>
> From that time, the library was called 'Harbour MiniGUI'. So,  
> avoiding the name conflict and also made clear my compiler preferece.
>
> There was another problem to solve, I had LOTS of support requests  
> regarding issues about Harbour and C compiler installation/ 
> compatibility.
>
> Then I've decided to package all needed things ready to use with  
> zero configuration (this was possible with the great help of Lorenzo  
> Fiorini on MingW compatibility issues).
>
> From the first 'ready to use' distribution (MiniGUI library + MingW  
> + Harbour) I've decided to use an alternate name: "HMG". Of course,  
> it stands for *H*arbour *M*ini *G*ui (indeed, "Harbour MiniGUI" is a  
> not good one name at all :) )
>
> Regarding the HMG Forum, Viktor is rigth about that the Harbour  
> version bundled with HMG is a customized version. Moreover, the  
> customization is minimal (contrib library names are not changed).
>
> Moreover, there is certainly a lack of 'official' Harbour support to  
> users.
>
> Across years I've received tons of bugs reports about Harbour, that  
> I can't handle because lack of time or knowledge (mostly about rdd/ 
> database issues).
>
> Harbour official users lists is usually inactive, then, some users  
> come here (not the right place, of course).
>
> HMG Forum site owner and admin is Rathinagiri (a long time HMG user  
> and contributor) so, he is the right person to ask about this.
>
> From my part (I've not followed the complete thread about this)  
> there is no problem to add a specific area on the forum to give  
> support to Harbour compiler specific issues, but, of course, we will  
> need the collaboration of some of the Harbour 'masters' to succeed.
>
> From about one year ago, HMG includes Harbour 1.01 and MingW 3.4.5,  
> so most questions will surely related to that combo (I'm waiting for  
> Harbour 2.0 final to replace 1.01 and MingW with 4.x).
>
>
> Regards,
>
> Roberto.
>
>
>
>
>
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

Nenhum v?rus encontrado nessa mensagem recebida.
Verificado por AVG - www.avgbrasil.com.br 
Vers?o: 8.5.420 / Banco de dados de v?rus: 270.14.3/2415 - Data de
Lan?amento: 10/05/09 06:19:00

From bedipritpal at hotmail.com  Mon Oct  5 16:37:21 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Oct  5 16:37:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12647] trunk/harbour
In-Reply-To: <4AC9EAAF.6060805@dbtopas.lt>
References: <E1Mumqb-0001DI-SM@3kljzd1.ch3.sourceforge.com>
	<4AC9EAAF.6060805@dbtopas.lt>
Message-ID: <25757006.post@talk.nabble.com>


Hello


Mindaugas Kavaliauskas wrote:
> 
> I do not find unpredictable crashes any more in a complex application 
> using MemIO driver. Please test and report if you have any problems with
> it.
> 

I am not around my dev-environment so cannot test.
Is this fix has to do anything with memory consumption 
I had reported ?

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12647--trunk-harbour-tp25750085p25757006.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Oct  5 16:48:05 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 16:48:14 2009
Subject: [Harbour] Re: Wich is the official harbour's user group?
In-Reply-To: <hadlbn$q9d$1@ger.gmane.org>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>	<20091005123019.GA27470@uran.home.aster.pl>	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>	<20091005131640.GA2634@uran.home.aster.pl>	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>	<20091005153653.GA30432@uran.home.aster.pl>	<0677120A-C125-4B16-819D-36F44BC0B82F@syenar.hu>	<4ACA253A.7010602@gmail.com>
	<011B05AB-E5AF-459F-A93D-1BA84D024592@syenar.hu>
	<hadlbn$q9d$1@ger.gmane.org>
Message-ID: <0A0D4AB4-BF57-4CD0-AC51-46BC3B1C611A@syenar.hu>

Thanks a lot Angel, this clarifies the whole situation.

Brgds,
Viktor

On 2009 Oct 5, at 22:36, Angel Pais wrote:

> Hi Viktor:
>
> There are 3 versions of MiniGUI:
>
> 1) "Official Version" by Roberto Lopez. This is the most  
> conservative of the 3. It uses only stable versions of Harbour so it  
> is actually using september/2008 version of harbour and waiting a  
> new 2.0 version release of Harbour to step in.
>
> 2) MiniGui Extended by grigory Fillatov and others. This a more  
> agresive     version, It uses last Harbour from SVN and included  
> some extra components to the offcial version. Eg: TSBrowse
>
> 3) OOHG (object oriented Harbour Gui) by Ciro Vargas and Vicente  
> Lopez. This version of Minigui implement the same library but using  
> real oopp and clases. It also uses last version of Harbour from svn.
>
> Hope you have it more clear now.
>
> Regards
> Angel
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Oct  5 16:48:59 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 16:49:07 2009
Subject: RES: [Harbour] Wich is the official harbour's user group?
In-Reply-To: <20091005203440.6693ED85E33@hm1974.locaweb.com.br>
References: <20091005203440.6693ED85E33@hm1974.locaweb.com.br>
Message-ID: <1F5F2BE3-69E4-4E21-AB84-0E7CDAE2908C@syenar.hu>

Thank you Sami.

Brgds,
Viktor

On 2009 Oct 5, at 22:33, Sami Laham wrote:

> Viktor you are talking about hmg-extended
>
> Harbour MiniGUI Extended is a fork up from Official HMG created  
> March 2005.
> It aims to follow a more aggressive development path, and be more  
> responsive
> to user's input.
>
> http://www.hmgextended.com
>
> http://www.hmgextended.com/files/CONTRIB/hmg-1.7-74-setup.zip
>
>
> Grigory Filatov <gfilatov@freemail.ru>
>
>
>
>
> As it stands at this point, HMG Extended offers Syntax extensions over
> Official HMG, including:
>
> -----Mensagem original-----
> De: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] Em nome de Viktor Szak?ts
> Enviada em: segunda-feira, 5 de outubro de 2009 16:46
> Para: Harbour Project Main Developer List.
> Assunto: Re: [Harbour] Wich is the official harbour's user group?
>
> Hi Roberto,
>
> Thanks for the explanation, it certainly makes some gray issues clear.
>
> [ Still not all though, as there exists another package called
> MiniGUI Extended, which actually ships with Harbour 2.0.0b2, I'm
> not sure how's that related, and maybe some of my comments belong
> to this project. Sorry about this. This one is also called HMG
> and also MiniGUI so for me it's difficult to know which I'm
> looking at to this very day. But I'm trying :) ]
>
> It's really your project and your decision, but IMO it'd be a big
> step if you'd use a vanilla Harbour build (without customization).
> This way it'd be easier to swap components and general Harbour support
> could be given for both bundled and standalone Harbour distros without
> first identifying which build is in question. Moreover, general
> Harbour support could be given at any forums without being concerned
> about where this build comes from. Same goes for MiniGUI: Support
> could be given even here or other official or unofficial Harbour
> forums.
>
> For Harboor MiniGUI Extended I think the difference is tget*.prg,
> for normal Harbour MiniGUI I couldn't find information, about the
> nature of build customization.
>
> I still have plans to make the "plugin" concept even stronger. In
> Python, Perl, Ruby, this issue is solved beautifully and no one has
> to pack the base system with extra libs. One important component
> of this effort is hbmk2.
>
> Brgds,
> Viktor
>
> On 2009 Oct 5, at 18:56, Roberto Lopez wrote:
>
>> Massimo Belgrano wrote:
>>
>>> Please Roberto lopez when you see this messages post your right
>> reply
>>>
>>> Will harbour and hmg share an harbour corner to made assistance to
>>> either final user?
>>>
>>
>> At first, regarding the name:
>>
>> When I've created the library, It was only a simple experiment about
>> Harbour-C interface, so, I've not care about the name so much :)
>>
>> I've picked "MiniGUI" because the library featured only a minimal
>> functionality/GUI object set, so, it appeared to be a good choice.
>>
>> Some time later, I've realized that a Linux product existed with the
>> same name, so I've decided to add 'Harbour' to the name.
>>
>> From that time, the library was called 'Harbour MiniGUI'. So,
>> avoiding the name conflict and also made clear my compiler preferece.
>>
>> There was another problem to solve, I had LOTS of support requests
>> regarding issues about Harbour and C compiler installation/
>> compatibility.
>>
>> Then I've decided to package all needed things ready to use with
>> zero configuration (this was possible with the great help of Lorenzo
>> Fiorini on MingW compatibility issues).
>>
>> From the first 'ready to use' distribution (MiniGUI library + MingW
>> + Harbour) I've decided to use an alternate name: "HMG". Of course,
>> it stands for *H*arbour *M*ini *G*ui (indeed, "Harbour MiniGUI" is a
>> not good one name at all :) )
>>
>> Regarding the HMG Forum, Viktor is rigth about that the Harbour
>> version bundled with HMG is a customized version. Moreover, the
>> customization is minimal (contrib library names are not changed).
>>
>> Moreover, there is certainly a lack of 'official' Harbour support to
>> users.
>>
>> Across years I've received tons of bugs reports about Harbour, that
>> I can't handle because lack of time or knowledge (mostly about rdd/
>> database issues).
>>
>> Harbour official users lists is usually inactive, then, some users
>> come here (not the right place, of course).
>>
>> HMG Forum site owner and admin is Rathinagiri (a long time HMG user
>> and contributor) so, he is the right person to ask about this.
>>
>> From my part (I've not followed the complete thread about this)
>> there is no problem to add a specific area on the forum to give
>> support to Harbour compiler specific issues, but, of course, we will
>> need the collaboration of some of the Harbour 'masters' to succeed.
>>
>> From about one year ago, HMG includes Harbour 1.01 and MingW 3.4.5,
>> so most questions will surely related to that combo (I'm waiting for
>> Harbour 2.0 final to replace 1.01 and MingW with 4.x).
>>
>>
>> Regards,
>>
>> Roberto.
>>
>>
>>
>>
>>
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> Nenhum v?rus encontrado nessa mensagem recebida.
> Verificado por AVG - www.avgbrasil.com.br
> Vers?o: 8.5.420 / Banco de dados de v?rus: 270.14.3/2415 - Data de
> Lan?amento: 10/05/09 06:19:00
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Oct  5 16:56:23 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 16:56:31 2009
Subject: [Harbour] win64 results
In-Reply-To: <20091005153653.GA30432@uran.home.aster.pl>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>
	<20091005123019.GA27470@uran.home.aster.pl>
	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>
	<20091005131640.GA2634@uran.home.aster.pl>
	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>
	<20091005153653.GA30432@uran.home.aster.pl>
Message-ID: <3491BD91-02FE-4A65-8AC3-6823799BCD22@syenar.hu>

Hi Przemek,

Just tested it, and visual glitches are now all gone in
GTWVT UNICODE mode. Thank you very much.

What remains is the char encoding problem. It seems as
if in UNICODE mode the HB_GTI_CODEPAGE setting is ignored.
I'm getting line-drawing chars in place of 852 accented chars.

[ Something similar happens in UNICODE GTWIN, but there I'm
seeing '?' chars. ]

Brgds,
Viktor

On 2009 Oct 5, at 17:36, Przemyslaw Czerpak wrote:

> On Mon, 05 Oct 2009, Szak?ts Viktor wrote:
>>> Looks that non ASCII glyphs are missed.
>>> Is it local to Win64 or the same happens also in Win32?
>> Will try to test it later. It's not just the glyphs,
>> notice the font is not the right one. (and placement
>> is also wrong, but that may be a consequence of former).
>
> Please try Win64 builds with current SVN code.
> I've just committed:
>
>   2009-10-05 17:28 UTC+0200 Przemyslaw Czerpak (druzus/at/ 
> priv.onet.pl)
>     * harbour/source/rtl/gtwvt/gtwvt.c
>       ! fixed font selection in UNICODE builds - it was not selected  
> at all
>       ! fixed possible double font freeing in non UNICODE builds
>
> but I cannot test it - WINE does not replicate precisely MS-Windows  
> font
> selection and encoding.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Mon Oct  5 16:59:29 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 16:59:36 2009
Subject: [Harbour] double postinst call?
In-Reply-To: <5EF375D0-D050-4360-9A10-4F00799FDC39@syenar.hu>
References: <4AC9EF8A.9060303@libero.it>
	<20091005132916.GA21057@uran.home.aster.pl>
	<5EF375D0-D050-4360-9A10-4F00799FDC39@syenar.hu>
Message-ID: <20091005205929.GA10589@uran.home.aster.pl>

On Mon, 05 Oct 2009, Szak?ts Viktor wrote:

Hi Viktor,

>> There are also other problems with postinst.prg.
>> It makes HB_BUILD_PARTS=compiler unusable because to compile hbrun
>> it's necessary to recompile whole core code. Now it simply does not
>> work.
>> Additionally in some package compilation which can be done using
>> non real directories but for final system wide installation (i.e. RPMs)
>> hbrun is linked with shared harbour library but cannot be executed
>> from the temporary build time directories.
>> In summary I'm not sure it's good idea to use it. Instead of making
>> things simpler it introduce additional dependencies.
> That's why I was asking about it before making any move.
> Well maybe the shared vs non-shared issues should be solved
> for all occasions in some ways.

But what we should with HB_BUILD_PARTS=compiler?
Now this option is unusable. To create native hbrun binaries
it's necessary to recompile whole core code.

The second very important problem is support for installation
in some temporary directory tree for some packages like RPM
or mpkg_tgz.sh. We have to introduce sth like:
   HB_INSTALL_PREFIXTMP
(or any other name you may preffer) which will be used as prefix
in all places where HB_*_INSTALL envvars are used.
This is important to restore long time existing functionality
which is broken now.

> I see some benefit in this setup because we do have to eat
> our own dog food. Plus of course it allows to create a
> shell independent postinst in a language which is well
> understood by everyone. So so far I like it despite the
> extra issues you mention. I believe these can be solved
> in some ways.

I do not see any easy way to eliminate OS shell scripts.
Please also note that we do not have in core code any platform
dependent extensions and if you want to continue using .prg
file to finish installation phase then we will have to introduce
wrappers for POSIX functions like umask(), chmod(), chowm(), chgrp()
getuid(), getgid(), getpwnam(), getpwuid(), getpwent(), ...
to set user permission, owner, groups, makes conversions between
numeric and literal user/group names, etc.
Now all such things are available as simple shell instruction
and we do not have to build them yourself using .prg wrappers
to low level C functions.
I really think it will be much more work then updating simple
script. In real life it will not be using .prg code but it will
be adding to core Harbour code .prg wrappers for platform specific
functions when sth new will have to be set in installation phase.
BTW do you know what we may need in VMS?
For DOS/WIN/OS2 the installation code is nearly the same and
can be quite easy moved to .mk files. We can use it for all
platforms to copy or create config files and then we can execute
native scripts to make operations which are strongly platform
specific. In practice we talk here only about other systems.
For DOS/WIN/OS2 such files can be empty.

best regards,
Przemek
From cvc at oohg.org  Mon Oct  5 17:06:21 2009
From: cvc at oohg.org (Ciro Vargas C)
Date: Mon Oct  5 17:06:27 2009
Subject: [Harbour] Re: Wich is the official harbour's user group?
In-Reply-To: <hadlbn$q9d$1@ger.gmane.org>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>
	<20091005123019.GA27470@uran.home.aster.pl>
	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>
	<20091005131640.GA2634@uran.home.aster.pl>
	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>
	<20091005153653.GA30432@uran.home.aster.pl>
	<0677120A-C125-4B16-819D-36F44BC0B82F@syenar.hu>
	<4ACA253A.7010602@gmail.com>
	<011B05AB-E5AF-459F-A93D-1BA84D024592@syenar.hu>
	<hadlbn$q9d$1@ger.gmane.org>
Message-ID: <d6500b450910051406u5341152cj424c7f9fae1dd7d2@mail.gmail.com>

A little Fix  ;)

>
> 3) OOHG (object oriented Harbour Gui) by Ciro Vargas and Vicente Lopez. This

Is Vicente Guerra.


> version of Minigui implement the same library but using real oopp and
> clases. It also uses last version of Harbour from svn.
>


best regards
Ciro


-- 
http://www.oohg.prg
http://sistemascvc.tripod.com

donaciones para CVC de ooHG

https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
From amigosam at adinet.com.uy  Mon Oct  5 17:13:37 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Oct  5 17:14:31 2009
Subject: [Harbour] Re: Wich is the official harbour's user group?
In-Reply-To: <d6500b450910051406u5341152cj424c7f9fae1dd7d2@mail.gmail.com>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>	<20091005123019.GA27470@uran.home.aster.pl>	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>	<20091005131640.GA2634@uran.home.aster.pl>	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>	<20091005153653.GA30432@uran.home.aster.pl>	<0677120A-C125-4B16-819D-36F44BC0B82F@syenar.hu>	<4ACA253A.7010602@gmail.com>	<011B05AB-E5AF-459F-A93D-1BA84D024592@syenar.hu>	<hadlbn$q9d$1@ger.gmane.org>
	<d6500b450910051406u5341152cj424c7f9fae1dd7d2@mail.gmail.com>
Message-ID: <hadnho$1t6$1@ger.gmane.org>

Ciro Vargas C escribi?:
> A little Fix  ;)
> 
>> 3) OOHG (object oriented Harbour Gui) by Ciro Vargas and Vicente Lopez. This
> 
> Is Vicente Guerra.
> 
> 
>> version of Minigui implement the same library but using real oopp and
>> clases. It also uses last version of Harbour from svn.
>>
> 
> 
> best regards
> Ciro
> 
> 

Sorry Ciro, and sorry Vicente my mistake =))

From druzus at acn.waw.pl  Mon Oct  5 17:14:48 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 17:15:06 2009
Subject: [Harbour] win64 results
In-Reply-To: <3491BD91-02FE-4A65-8AC3-6823799BCD22@syenar.hu>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>
	<20091005123019.GA27470@uran.home.aster.pl>
	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>
	<20091005131640.GA2634@uran.home.aster.pl>
	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>
	<20091005153653.GA30432@uran.home.aster.pl>
	<3491BD91-02FE-4A65-8AC3-6823799BCD22@syenar.hu>
Message-ID: <20091005211448.GA3974@uran.home.aster.pl>

On Mon, 05 Oct 2009, Szak?ts Viktor wrote:

Hi,

> Just tested it, and visual glitches are now all gone in
> GTWVT UNICODE mode. Thank you very much.

Fine.
I would like to ask about keeping some builds in UNICODE mode
so thay can be tested in the future. AFAIR UNICODE mode was fully
functional about two years ago and we lost it by some modifications
which were not well tested.
I hope that now all basic GTWVT functionality

> What remains is the char encoding problem. It seems as
> if in UNICODE mode the HB_GTI_CODEPAGE setting is ignored.

Yes it is and it's intentional.
HB_GTI_CODEPAGE is MS-Windows only extension used in non UNICODE
mode.
Use hb_setTermpCP()/hb_setKeyCP()/hb_setDispCP() just like in
all other GTs. See tests/gtchars.prg

> I'm getting line-drawing chars in place of 852 accented chars.

see above.

> [ Something similar happens in UNICODE GTWIN, but there I'm
> seeing '?' chars. ]

GTWIN was never updated to work internally in UNICODE mode so
I guess it has problem with non ASCII characters. It should be
quite easy to add support for UNICODE mode for someone who
can verify the results on the screen.

best regards,
Przemek
From niki at synel.co.il  Mon Oct  5 17:17:21 2009
From: niki at synel.co.il (Chen Kedem)
Date: Mon Oct  5 17:17:58 2009
Subject: [Harbour] SF bug tracker#2873146: Lang ES850c not fully compatible
 with clipper
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>

I forward this from the SF bug tracker
http://sourceforge.net/tracker/?func=detail&atid=100681&aid=2873146&group_id=681

Maurizio  Faccio (maufacc) wrote:
-----------------------------------------------------------------
I have aleatory corrupted indexes that include and UPPER,
I've found that some accented letters are not converted identically in clipper and harbour 2.0beta1.
Here I send you the results of a test program that I have run in clipper and harbour.
Here are the ascii conversions of clipper an harbour, and their UPPER and lower caracters.
-----------------------------------------------------------------

The original message contain a list of characters, but I'm almost sure my mail program
is going to mess the output, so look at the link if you need that info.

I don't have access to the repository now, so I don't know if current
SVN gives better results.


   Chen.
From harbour.01 at syenar.hu  Mon Oct  5 18:17:01 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 18:17:28 2009
Subject: [Harbour] win64 results
In-Reply-To: <20091005123019.GA27470@uran.home.aster.pl>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>
	<20091005123019.GA27470@uran.home.aster.pl>
Message-ID: <4215075F-9165-4F01-A9DB-B1241E13A568@syenar.hu>

> Without real windows access it will be hard for me to help in
> this problem.
>
>> Ops, the other issue is -shared mode GPF. Maybe I'll make
>> some more tests. Anyhow I don't use it either.
>
> Have you used -fpic switch for dynlib code compilation?

I'm getting this:

---
x86_64-w64-mingw32-gcc  -I. -I../../../../../include  -Wall -W -O3 - 
fomit-frame-pointer  -DUNICODE  -oexpropt1_dyn.o -DHB_DYNLIB -fpic - 
c ../../../expropt1.c
../../../expropt1.c:1:0: warning: -fpic ignored for target (all code  
is position independent)
---

Brgds,
Viktor

From druzus at users.sourceforge.net  Mon Oct  5 18:25:57 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Oct  5 18:26:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12650] trunk/harbour
Message-ID: <E1Muw0D-0004Zh-29@74yxhf1.ch3.sourceforge.com>

Revision: 12650
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12650&view=rev
Author:   druzus
Date:     2009-10-05 22:25:55 +0000 (Mon, 05 Oct 2009)

Log Message:
-----------
2009-10-06 00:25 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/gtwin/gtwin.c
    + added support for UNICODE builds - please make tests in real
      MS-Windows environment

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/gtwin/gtwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Oct  5 18:28:03 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 18:28:30 2009
Subject: [Harbour] win64 results
In-Reply-To: <4215075F-9165-4F01-A9DB-B1241E13A568@syenar.hu>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>
	<20091005123019.GA27470@uran.home.aster.pl>
	<4215075F-9165-4F01-A9DB-B1241E13A568@syenar.hu>
Message-ID: <20091005222803.GA24995@uran.home.aster.pl>

On Tue, 06 Oct 2009, Szak?ts Viktor wrote:
>>> Ops, the other issue is -shared mode GPF. Maybe I'll make
>>> some more tests. Anyhow I don't use it either.
>> Have you used -fpic switch for dynlib code compilation?
> I'm getting this:
> ---
> x86_64-w64-mingw32-gcc  -I. -I../../../../../include  -Wall -W -O3 
> -fomit-frame-pointer  -DUNICODE  -oexpropt1_dyn.o -DHB_DYNLIB -fpic -c 
> ../../../expropt1.c
> ../../../expropt1.c:1:0: warning: -fpic ignored for target (all code is 
> position independent)
> ---

So it has to be sth else.
Maybe you can catch were it GPFs using GDB.

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Oct  5 18:35:12 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Oct  5 18:35:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12651] trunk/harbour
Message-ID: <E1Muw9A-0004gp-9Y@74yxhf1.ch3.sourceforge.com>

Revision: 12651
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12651&view=rev
Author:   druzus
Date:     2009-10-05 22:35:11 +0000 (Mon, 05 Oct 2009)

Log Message:
-----------
2009-10-06 00:35 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    ! fixed typo in .c file generated by hbmk script

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Oct  5 18:40:28 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 18:40:50 2009
Subject: [Harbour] win64 results
In-Reply-To: <20091005222803.GA24995@uran.home.aster.pl>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>
	<20091005123019.GA27470@uran.home.aster.pl>
	<4215075F-9165-4F01-A9DB-B1241E13A568@syenar.hu>
	<20091005222803.GA24995@uran.home.aster.pl>
Message-ID: <BB677C8F-BBB6-471D-8351-28AA2FF4389A@syenar.hu>

>>>> Ops, the other issue is -shared mode GPF. Maybe I'll make
>>>> some more tests. Anyhow I don't use it either.
>>> Have you used -fpic switch for dynlib code compilation?
>> I'm getting this:
>> ---
>> x86_64-w64-mingw32-gcc  -I. -I../../../../../include  -Wall -W -O3
>> -fomit-frame-pointer  -DUNICODE  -oexpropt1_dyn.o -DHB_DYNLIB -fpic  
>> -c
>> ../../../expropt1.c
>> ../../../expropt1.c:1:0: warning: -fpic ignored for target (all  
>> code is
>> position independent)
>> ---
>
> So it has to be sth else.
> Maybe you can catch were it GPFs using GDB.

No gdb for mingw64, yet. Or at least not in this distro. I'll keep an  
open eye.
Could be it's compiler/toolchain bug, after all it's alpha.

Brgds,
Viktor

From dbtopas at dbtopas.lt  Mon Oct  5 18:55:54 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Oct  5 18:55:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12647] trunk/harbour
In-Reply-To: <25757006.post@talk.nabble.com>
References: <E1Mumqb-0001DI-SM@3kljzd1.ch3.sourceforge.com>	<4AC9EAAF.6060805@dbtopas.lt>
	<25757006.post@talk.nabble.com>
Message-ID: <4ACA797A.1070502@dbtopas.lt>

Hi,

> I am not around my dev-environment so cannot test.
> Is this fix has to do anything with memory consumption 
> I had reported ?

Since this is related to memory corruption, it can also be related to 
memory consumption, GPF and anything else. But no memory leaks were found.


Regards,
Mindaugas

From harbour.01 at syenar.hu  Mon Oct  5 19:34:10 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 19:34:23 2009
Subject: [Harbour] double postinst call?
In-Reply-To: <20091005205929.GA10589@uran.home.aster.pl>
References: <4AC9EF8A.9060303@libero.it>
	<20091005132916.GA21057@uran.home.aster.pl>
	<5EF375D0-D050-4360-9A10-4F00799FDC39@syenar.hu>
	<20091005205929.GA10589@uran.home.aster.pl>
Message-ID: <BA84D576-6208-40D6-A083-D1D5C1FCF701@syenar.hu>

Hi Przemek,

On 2009 Oct 5, at 22:59, Przemyslaw Czerpak wrote:

> On Mon, 05 Oct 2009, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>>> There are also other problems with postinst.prg.
>>> It makes HB_BUILD_PARTS=compiler unusable because to compile hbrun
>>> it's necessary to recompile whole core code. Now it simply does not
>>> work.
>>> Additionally in some package compilation which can be done using
>>> non real directories but for final system wide installation (i.e.  
>>> RPMs)
>>> hbrun is linked with shared harbour library but cannot be executed
>>> from the temporary build time directories.
>>> In summary I'm not sure it's good idea to use it. Instead of making
>>> things simpler it introduce additional dependencies.
>> That's why I was asking about it before making any move.
>> Well maybe the shared vs non-shared issues should be solved
>> for all occasions in some ways.
>
> But what we should with HB_BUILD_PARTS=compiler?
> Now this option is unusable. To create native hbrun binaries
> it's necessary to recompile whole core code.

Honestly I don't find this a huge problem, since HB_BUILD_PARTS
seems really just an optimization option. [ possible that I'm
still missing something here. ]. In the future we may also need
hbmk2 to build some Harbour components (like contribs), plus hbmk2
is already used in postinst phase for non-*nix shells (and
unfortunately since it's shell dependent, these things aren't
done equally in cross-build scenarios). So to me it looks like
building these Harbour tools is rather unavoidable sooner or later.
So it's better to make them work. HB_BUILD_PARTS still stays a suitable
build optimization switch as it can turn off some time consuming parts.

> The second very important problem is support for installation
> in some temporary directory tree for some packages like RPM
> or mpkg_tgz.sh. We have to introduce sth like:
>   HB_INSTALL_PREFIXTMP
> (or any other name you may preffer) which will be used as prefix
> in all places where HB_*_INSTALL envvars are used.
> This is important to restore long time existing functionality
> which is broken now.

I'm using subdirs inside 'pkg' dir for similar purpose on non-*nix
packaging. Could this work also in this scenario?

If this isn't good we can add a new dir. I'll be able to tell a
better name if I understand the exact purpose.

>> I see some benefit in this setup because we do have to eat
>> our own dog food. Plus of course it allows to create a
>> shell independent postinst in a language which is well
>> understood by everyone. So so far I like it despite the
>> extra issues you mention. I believe these can be solved
>> in some ways.
>
> I do not see any easy way to eliminate OS shell scripts.
> Please also note that we do not have in core code any platform
> dependent extensions and if you want to continue using .prg
> file to finish installation phase then we will have to introduce
> wrappers for POSIX functions like umask(), chmod(), chowm(), chgrp()
> getuid(), getgid(), getpwnam(), getpwuid(), getpwent(), ...
> to set user permission, owner, groups, makes conversions between
> numeric and literal user/group names, etc.

This is not necessary, as these functions can be called from
.prg code using hb_run() or similar method.

> Now all such things are available as simple shell instruction
> and we do not have to build them yourself using .prg wrappers
> to low level C functions.
> I really think it will be much more work then updating simple
> script. In real life it will not be using .prg code but it will
> be adding to core Harbour code .prg wrappers for platform specific
> functions when sth new will have to be set in installation phase.
> BTW do you know what we may need in VMS?

Hm, not really, all I know it has a totally different shell
than anything else, different cmd names for everything, so it
looks a 3rd world next to win/dos/os2 and *nix.

> For DOS/WIN/OS2 the installation code is nearly the same and
> can be quite easy moved to .mk files. We can use it for all
> platforms to copy or create config files and then we can execute
> native scripts to make operations which are strongly platform
> specific. In practice we talk here only about other systems.
> For DOS/WIN/OS2 such files can be empty.

Moving DOS/WIN/OS2 logic to make is absolutely great and
definitely better than any sort of postinst solution.

What I don't know is how to eliminate most of the still significant
amount of .sh code, plus special pkg creation logic currently used.
F.e. we've been talking about creating .spec file on the fly, but
writing this in .sh doesn't seem to enhance much, since we'd just
swap one proprietary solution to another, and the resulting .sh
code would be quite cryptic for most ppl. If we could move it to
.prg code though, it would certainly be more maintainable / digestable.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Oct  5 19:52:14 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 19:52:22 2009
Subject: [Harbour] double postinst call?
In-Reply-To: <BA84D576-6208-40D6-A083-D1D5C1FCF701@syenar.hu>
References: <4AC9EF8A.9060303@libero.it>
	<20091005132916.GA21057@uran.home.aster.pl>
	<5EF375D0-D050-4360-9A10-4F00799FDC39@syenar.hu>
	<20091005205929.GA10589@uran.home.aster.pl>
	<BA84D576-6208-40D6-A083-D1D5C1FCF701@syenar.hu>
Message-ID: <20091005235214.GA24640@uran.home.aster.pl>

On Tue, 06 Oct 2009, Szak?ts Viktor wrote:

Hi,

> I'm using subdirs inside 'pkg' dir for similar purpose on non-*nix
> packaging. Could this work also in this scenario?

I have no idea what it does.
In general I ask about sth what allows to set HB_*_INSTALL envvars
so they will be stored in any configuration files and but real
file copy will be done in some different prefixed place.
Just simply make mpkg_tgz.sh working from normal user account in
any *nix system.

>> I do not see any easy way to eliminate OS shell scripts.
>> Please also note that we do not have in core code any platform
>> dependent extensions and if you want to continue using .prg
>> file to finish installation phase then we will have to introduce
>> wrappers for POSIX functions like umask(), chmod(), chowm(), chgrp()
>> getuid(), getgid(), getpwnam(), getpwuid(), getpwent(), ...
>> to set user permission, owner, groups, makes conversions between
>> numeric and literal user/group names, etc.
> This is not necessary, as these functions can be called from
> .prg code using hb_run() or similar method.

Sorry but now I'm really confused. What is the reason thay you
want to replace shell scrpits by .prg code which calls shell
commands?

> What I don't know is how to eliminate most of the still significant
> amount of .sh code, plus special pkg creation logic currently used.

Why you want to eliminate it?
What is wrong with shell scripts?

> F.e. we've been talking about creating .spec file on the fly, but
> writing this in .sh doesn't seem to enhance much, since we'd just
> swap one proprietary solution to another, and the resulting .sh
> code would be quite cryptic for most ppl. If we could move it to
> .prg code though, it would certainly be more maintainable / digestable.

We was talking about generating spec files as workaround for
integration with current make system but for me it was never
goal itself but rather temporary hack.

Please make it in the way you prefer but I would like to ask you
to restore functionality which is broken now: RPMs and TGZ packages.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Oct  5 20:10:30 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 20:10:42 2009
Subject: [Harbour] double postinst call?
In-Reply-To: <20091005235214.GA24640@uran.home.aster.pl>
References: <4AC9EF8A.9060303@libero.it>
	<20091005132916.GA21057@uran.home.aster.pl>
	<5EF375D0-D050-4360-9A10-4F00799FDC39@syenar.hu>
	<20091005205929.GA10589@uran.home.aster.pl>
	<BA84D576-6208-40D6-A083-D1D5C1FCF701@syenar.hu>
	<20091005235214.GA24640@uran.home.aster.pl>
Message-ID: <6B2A2305-AF28-4316-BC8E-D76FD2315EB8@syenar.hu>

>> I'm using subdirs inside 'pkg' dir for similar purpose on non-*nix
>> packaging. Could this work also in this scenario?
>
> I have no idea what it does.
> In general I ask about sth what allows to set HB_*_INSTALL envvars
> so they will be stored in any configuration files and but real
> file copy will be done in some different prefixed place.
> Just simply make mpkg_tgz.sh working from normal user account in
> any *nix system.

'pkg' dir inside the source tree, serves just this purpose.
It's a temp location where final package layout is built and
the dir packaged.

>>> I do not see any easy way to eliminate OS shell scripts.
>>> Please also note that we do not have in core code any platform
>>> dependent extensions and if you want to continue using .prg
>>> file to finish installation phase then we will have to introduce
>>> wrappers for POSIX functions like umask(), chmod(), chowm(), chgrp()
>>> getuid(), getgid(), getpwnam(), getpwuid(), getpwent(), ...
>>> to set user permission, owner, groups, makes conversions between
>>> numeric and literal user/group names, etc.
>> This is not necessary, as these functions can be called from
>> .prg code using hb_run() or similar method.
>
> Sorry but now I'm really confused. What is the reason thay you
> want to replace shell scrpits by .prg code which calls shell
> commands?

.prg code may still contain shell-specific parts if there is
no better solution. If there is a portable way, of course it
should be used instead. [ Even if such shell specific parts are
used, the code is one common code with simple branches, instead
of duplicate code written in different shell languages. ]

>> What I don't know is how to eliminate most of the still significant
>> amount of .sh code, plus special pkg creation logic currently used.
>
> Why you want to eliminate it?
> What is wrong with shell scripts?

They aren't portable across shells and they contain lots of
duplicated and redundant logic, which very few developers (you)
can keep updated.

>> F.e. we've been talking about creating .spec file on the fly, but
>> writing this in .sh doesn't seem to enhance much, since we'd just
>> swap one proprietary solution to another, and the resulting .sh
>> code would be quite cryptic for most ppl. If we could move it to
>> .prg code though, it would certainly be more maintainable /  
>> digestable.
>
> We was talking about generating spec files as workaround for
> integration with current make system but for me it was never
> goal itself but rather temporary hack.
>
> Please make it in the way you prefer but I would like to ask you
> to restore functionality which is broken now: RPMs and TGZ packages.

And here comes the problem: I have no idea how to do this.
Given that I had never installed Harbour with sudo and I will
never do, plus I don't have an .rpm based distro, this is a
flight in the dark for me. Your help would be needed. Or,
I'll try to reimplement it in .prg (at least the .tgz part,
which I can test).

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Oct  5 20:10:49 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 20:10:57 2009
Subject: [Harbour] win64 results
In-Reply-To: <20091005211448.GA3974@uran.home.aster.pl>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>
	<20091005123019.GA27470@uran.home.aster.pl>
	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>
	<20091005131640.GA2634@uran.home.aster.pl>
	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>
	<20091005153653.GA30432@uran.home.aster.pl>
	<3491BD91-02FE-4A65-8AC3-6823799BCD22@syenar.hu>
	<20091005211448.GA3974@uran.home.aster.pl>
Message-ID: <4203E918-B833-47A1-9194-1E68FF21D428@syenar.hu>

>> Just tested it, and visual glitches are now all gone in
>> GTWVT UNICODE mode. Thank you very much.
>
> Fine.
> I would like to ask about keeping some builds in UNICODE mode
> so thay can be tested in the future. AFAIR UNICODE mode was fully
> functional about two years ago and we lost it by some modifications
> which were not well tested.

I've recently enabled UNICODE for all non-x86 win builds
exactly for above reason.

I'll also enable it for MSVC 2008, as this compiler doesn't
support Win9x anyway. This will need a little more work for
generic compiler version setting.

>> What remains is the char encoding problem. It seems as
>> if in UNICODE mode the HB_GTI_CODEPAGE setting is ignored.
>
> Yes it is and it's intentional.
> HB_GTI_CODEPAGE is MS-Windows only extension used in non UNICODE
> mode.
> Use hb_setTermpCP()/hb_setKeyCP()/hb_setDispCP() just like in
> all other GTs. See tests/gtchars.prg

Oh I see. I was missing hb_setTermCP() in Windows builds.
Adding it fixed GTWVT UNICODE build. (I didn't retest non-UNICODE
yet, I hope it stays OK too)

Plus, after your latest GTWIN fix, the CP is working good
here also. Very nice, thanks!

With GTWIN the remaining problems are HB_GTI_WINTITLE
CP in UNICODE mode (I didn't report this before), plus the
high level drawing (seemingly window related) problem. I'll
try to make tests with 32-bit UNICODE to check what exactly
enables this.

>> [ Something similar happens in UNICODE GTWIN, but there I'm
>> seeing '?' chars. ]
>
> GTWIN was never updated to work internally in UNICODE mode so
> I guess it has problem with non ASCII characters. It should be
> quite easy to add support for UNICODE mode for someone who
> can verify the results on the screen.

Hm, I can verify it. But modifying it was beyond my knowledge,
last time I changed this part. Update: Your fix verified OK.

Brgds,
Viktor
	
From druzus at acn.waw.pl  Mon Oct  5 20:31:41 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 20:31:55 2009
Subject: [Harbour] double postinst call?
In-Reply-To: <6B2A2305-AF28-4316-BC8E-D76FD2315EB8@syenar.hu>
References: <4AC9EF8A.9060303@libero.it>
	<20091005132916.GA21057@uran.home.aster.pl>
	<5EF375D0-D050-4360-9A10-4F00799FDC39@syenar.hu>
	<20091005205929.GA10589@uran.home.aster.pl>
	<BA84D576-6208-40D6-A083-D1D5C1FCF701@syenar.hu>
	<20091005235214.GA24640@uran.home.aster.pl>
	<6B2A2305-AF28-4316-BC8E-D76FD2315EB8@syenar.hu>
Message-ID: <20091006003141.GA17437@uran.home.aster.pl>

On Tue, 06 Oct 2009, Szak?ts Viktor wrote:

Hi,

>> Please make it in the way you prefer but I would like to ask you
>> to restore functionality which is broken now: RPMs and TGZ packages.
> And here comes the problem: I have no idea how to do this.
> Given that I had never installed Harbour with sudo and I will
> never do, plus I don't have an .rpm based distro, this is a
> flight in the dark for me. Your help would be needed. Or,
> I'll try to reimplement it in .prg (at least the .tgz part,
> which I can test).

Your recent modification forced using sudo for simple mpkg_tgz.sh.
I want to restore previous functionality which didn't need any special
user rights to create Harbour binaries using mpkg_tgz.sh.
So I'm asking about restoring pure shell script functionality
here. No sudo and no RPM at all. I want to be able to execute
mpkg_tgz.sh without sudo as it was possible in the past.

In the last months I was updating .spec files after your modifications
but I do not think it was good idea because each time after few days you
used to change sth and they stop to work again.
Last time it was not even 24 hours. I updated them:
   2009-09-23 22:05 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
and your modifications:
   2009-09-24 17:42 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
made my fixes unusable. You have to begin to control it yourself or at
least you should not commit modifications which break some builds.
If you can restore mpkg_tgz.sh functionality then I can try to adopt
your solution to RPMs and once again hack .spec files and build
script to work with current make system.

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Oct  5 20:52:32 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Oct  5 20:52:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12652] trunk/harbour
Message-ID: <E1MuyI4-0002eR-MS@c3vjzd1.ch3.sourceforge.com>

Revision: 12652
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12652&view=rev
Author:   vszakats
Date:     2009-10-06 00:52:28 +0000 (Tue, 06 Oct 2009)

Log Message:
-----------
2009-10-06 02:31 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
  * config/global.mk
  * config/wce/msvcarm.mk
  * config/win/msvc.mk
    + Replaced MSVC specific compiler version setting with generic 
      compiler version setting.
      HB_VISUALC_VER_PRE80 and HB_VISUALC_VER_PRE70 setting are 
      deleted and HB_COMPILER_VER is activated.
    ; INCOMPATIBLE.

  * config/global.mk
    + Added MSVC compiler version autodetection.
      (6.0, 7.x, 8.0, 9.0)

  * config/win/msvc.mk
    + Enabled UNICODE mode for MSVC 2008 (9.0) and above.
      This compiler version doesn't support Win9x anyway.

  * utils/hbmk2/hbmk2.prg
    - Deleted support for HB_VISUALC_VER_PRE80 in hbmk2.
      (HB_COMPILER_VER was already supported in hbmk2)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.mk
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Oct  5 20:53:54 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct  5 20:54:02 2009
Subject: [Harbour] win64 results
In-Reply-To: <4203E918-B833-47A1-9194-1E68FF21D428@syenar.hu>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>
	<20091005123019.GA27470@uran.home.aster.pl>
	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>
	<20091005131640.GA2634@uran.home.aster.pl>
	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>
	<20091005153653.GA30432@uran.home.aster.pl>
	<3491BD91-02FE-4A65-8AC3-6823799BCD22@syenar.hu>
	<20091005211448.GA3974@uran.home.aster.pl>
	<4203E918-B833-47A1-9194-1E68FF21D428@syenar.hu>
Message-ID: <20091006005354.GA32526@uran.home.aster.pl>

On Tue, 06 Oct 2009, Szak?ts Viktor wrote:
> I've recently enabled UNICODE for all non-x86 win builds
> exactly for above reason.

Thank you very much and also for your tests.

> Oh I see. I was missing hb_setTermCP() in Windows builds.
> Adding it fixed GTWVT UNICODE build. (I didn't retest non-UNICODE
> yet, I hope it stays OK too)

In non unicode builds it can be used only for character translations
but it cannot change font encoding. It can be done only using MS CP
number with HB_GTI_CODEPAGE though if someone has a while then he
can create function which will translate our unicode CPs to MS CP
numbers and we can use it inside SETDISPCP() method to automatically
set font encoding in non unicode GTWIN and GTWVT builds.

> With GTWIN the remaining problems are HB_GTI_WINTITLE
> CP in UNICODE mode (I didn't report this before), plus the

I guess you are talking about national characters but it's
general problem which should be covered globally for all
windows Unicode translation inside common/hbwince.c which
should respect HVM CP.
As temporary workaround you can add additional translation
using _SET_OSCODEPAGE so it will work like for file names.

> high level drawing (seemingly window related) problem. I'll
> try to make tests with 32-bit UNICODE to check what exactly
> enables this.

AFAIK Windows does not use 32-bit UNICODE values and support only U16.
What is the exact problem?
If you are talking about save/restore which drops box characters
then you should disable VGA compatible video buffer and enable
extended attributes in {Save,Rest}Screen() data by:

   hb_gtInfo( HB_GTI_COMPATBUFFER, .F. )

best regards,
Przemek
From jerryfinuliar at operamail.com  Mon Oct  5 21:07:08 2009
From: jerryfinuliar at operamail.com (Jerry Finuliar)
Date: Mon Oct  5 21:07:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
Message-ID: <20091006010709.0E3817BD6E@ws5-10.us4.outblaze.com>

Hi,

You may be interested   http://www.schneier.com/blowfish-download.html

Jerry
> ----- Original Message -----
> From: "Viktor Szak?ts" <harbour.01@syenar.hu>
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Subject: Re: [Harbour] SF.net SVN: harbour-project:[12593] trunk/harbour
> Date: Mon, 5 Oct 2009 14:18:03 +0200
> 
> 
> > Looking at current LetoDB code I've found the only one thing which
> > I would like to copy and integrate with Harbour: blowfish encryption
> > of course if we do not have it yet in contrib or RTL.
> 
> We don't have blowfish yet.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

>


-- 
_______________________________________________
Surf the Web in a faster, safer and easier way:
Download Opera 9 at http://www.opera.com

Powered by Outblaze
From harbour.01 at syenar.hu  Mon Oct  5 21:09:15 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 21:09:27 2009
Subject: [Harbour] win64 results
In-Reply-To: <20091006005354.GA32526@uran.home.aster.pl>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>
	<20091005123019.GA27470@uran.home.aster.pl>
	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>
	<20091005131640.GA2634@uran.home.aster.pl>
	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>
	<20091005153653.GA30432@uran.home.aster.pl>
	<3491BD91-02FE-4A65-8AC3-6823799BCD22@syenar.hu>
	<20091005211448.GA3974@uran.home.aster.pl>
	<4203E918-B833-47A1-9194-1E68FF21D428@syenar.hu>
	<20091006005354.GA32526@uran.home.aster.pl>
Message-ID: <7411C954-12BB-4E8B-BE62-6A35F480CE4C@syenar.hu>

> In non unicode builds it can be used only for character translations
> but it cannot change font encoding. It can be done only using MS CP
> number with HB_GTI_CODEPAGE though if someone has a while then he
> can create function which will translate our unicode CPs to MS CP
> numbers and we can use it inside SETDISPCP() method to automatically
> set font encoding in non unicode GTWIN and GTWVT builds.

I have this code:
---
      IF hb_GTInfo( HB_GTI_ISGRAPHIC )
           // GTWVT
           SWITCH Upper( hb_cdpUniID( app[_APP_cNatCP] ) )
           CASE "ISO8859-2"
           CASE "CP1250" ; hb_gtInfo( HB_GTI_CODEPAGE, 238 ) /*  
EASTEUROPE_CHARSET */ ; EXIT
           CASE "ISO8859-5"
           CASE "CP1251" ; hb_gtInfo( HB_GTI_CODEPAGE, 204 ) /*  
RUSSIAN_CHARSET */    ; EXIT
           CASE "ISO8859-1"
           CASE "CP1252" ; hb_gtInfo( HB_GTI_CODEPAGE,   0 ) /*  
ANSI_CHARSET */       ; EXIT
           CASE "CP1253" ; hb_gtInfo( HB_GTI_CODEPAGE, 161 ) /*  
GREEK_CHARSET */      ; EXIT
           CASE "CP1254" ; hb_gtInfo( HB_GTI_CODEPAGE, 162 ) /*  
TURKISH_CHARSET */    ; EXIT
           CASE "CP1255" ; hb_gtInfo( HB_GTI_CODEPAGE, 177 ) /*  
HEBREW_CHARSET */     ; EXIT
           CASE "CP1256" ; hb_gtInfo( HB_GTI_CODEPAGE, 178 ) /*  
ARABIC_CHARSET */     ; EXIT
           CASE "CP1257" ; hb_gtInfo( HB_GTI_CODEPAGE, 186 ) /*  
BALTIC_CHARSET */     ; EXIT
           CASE "CP1258" ; hb_gtInfo( HB_GTI_CODEPAGE, 163 ) /*  
VIETNAMESE_CHARSET */ ; EXIT
           CASE "CP874"  ; hb_gtInfo( HB_GTI_CODEPAGE, 222 ) /*  
THAI_CHARSET */       ; EXIT
           OTHERWISE     ; hb_gtInfo( HB_GTI_CODEPAGE, 255 ) /*  
OEM_CHARSET */
           ENDSWITCH
      ELSE
           // GTWIN
           SWITCH Upper( hb_cdpUniID( app[_APP_cNatCP] ) )
           CASE "ISO8859-2"
           CASE "CP1250" ; hb_gtInfo( HB_GTI_CODEPAGE, 1250 ) /*  
EASTEUROPE_CHARSET */ ; EXIT
           CASE "ISO8859-5"
           CASE "CP1251" ; hb_gtInfo( HB_GTI_CODEPAGE, 1251 ) /*  
RUSSIAN_CHARSET */    ; EXIT
           CASE "ISO8859-1"
           CASE "CP1252" ; hb_gtInfo( HB_GTI_CODEPAGE, 1252 ) /*  
ANSI_CHARSET */       ; EXIT
           OTHERWISE     ; hb_gtInfo( HB_GTI_CODEPAGE, 852 )  /*  
OEM_CHARSET */
           ENDSWITCH
      ENDIF
---

The downside with this solution is that it cannot be complete, as
f.e. 852 CP isn't supported in GTWVT mode (due to Windows API
limits). Could be of course that it can be done, but I missed it.

>> With GTWIN the remaining problems are HB_GTI_WINTITLE
>> CP in UNICODE mode (I didn't report this before), plus the
>
> I guess you are talking about national characters but it's
> general problem which should be covered globally for all
> windows Unicode translation inside common/hbwince.c which
> should respect HVM CP.
> As temporary workaround you can add additional translation
> using _SET_OSCODEPAGE so it will work like for file names.

Thanks. I'm already doing such translation, but it seems difficult
to get it right from .prg level for different builds. I'm now
doing a DOS to WIN CP conversion, where WIN CP equals to
_SET_OSCODEPAGE. Maybe my implementation has bugs.

Also WIN_RUNDETACHED() and WAPI_SHELLEXECUTE() needs OS CP
conversion.

>> high level drawing (seemingly window related) problem. I'll
>> try to make tests with 32-bit UNICODE to check what exactly
>> enables this.
>
> AFAIK Windows does not use 32-bit UNICODE values and support only U16.
> What is the exact problem?

Sorry I was talking about Win32 UNICODE build.

The screen is just messed up, menus are drawn in wrong windows,
window titles are written onto wrong windows, window width
is wrongly detected, so the menu is wrapped. These sorts of
things.

I have now the logic for MSVC 2008 UNICODE defaulting in place,
so I'll rebuild MSVC 32-bit component chain.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Oct  5 21:27:06 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct  5 21:27:21 2009
Subject: [Harbour] double postinst call?
In-Reply-To: <20091006003141.GA17437@uran.home.aster.pl>
References: <4AC9EF8A.9060303@libero.it>
	<20091005132916.GA21057@uran.home.aster.pl>
	<5EF375D0-D050-4360-9A10-4F00799FDC39@syenar.hu>
	<20091005205929.GA10589@uran.home.aster.pl>
	<BA84D576-6208-40D6-A083-D1D5C1FCF701@syenar.hu>
	<20091005235214.GA24640@uran.home.aster.pl>
	<6B2A2305-AF28-4316-BC8E-D76FD2315EB8@syenar.hu>
	<20091006003141.GA17437@uran.home.aster.pl>
Message-ID: <1C046248-5978-4424-BAA1-8BC8CFE24EF6@syenar.hu>

> Your recent modification forced using sudo for simple mpkg_tgz.sh.
> I want to restore previous functionality which didn't need any special
> user rights to create Harbour binaries using mpkg_tgz.sh.
> So I'm asking about restoring pure shell script functionality
> here. No sudo and no RPM at all. I want to be able to execute
> mpkg_tgz.sh without sudo as it was possible in the past.
>
> In the last months I was updating .spec files after your modifications
> but I do not think it was good idea because each time after few days  
> you
> used to change sth and they stop to work again.
> Last time it was not even 24 hours. I updated them:
>   2009-09-23 22:05 UTC+0200 Przemyslaw Czerpak (druzus/at/ 
> priv.onet.pl)
> and your modifications:
>   2009-09-24 17:42 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
> made my fixes unusable. You have to begin to control it yourself or at
> least you should not commit modifications which break some builds.
> If you can restore mpkg_tgz.sh functionality then I can try to adopt
> your solution to RPMs and once again hack .spec files and build
> script to work with current make system.

You probably know my goal, and in order to reach it, we
must go through these iterations. I can do no better
than "pull" other parts this way. And many times even if
I want I can't update these parts. Believe me I don't
want to intentionally break these features.

The main problem is that conceptually .spec and lots of
.sh files are simply wrong now. They are on the wrong end
of the process, so they are duplicating make logic, and
they need to be synced permanently with every little change.
For me most of time it's difficult to detect any connection,
since different setting names are used and logic connections
are difficult to detect. This also means there is no clear
interface between these parts and other parts of the make
system. They are doing duplicate detection, they are expecting
some later automatically set variables to be set manually etc
etc. [ I understand some of these may exist by technical
properties/limitations of pkg creator tools. ]

It should be cleanup up, but it's difficult to do it alone.

Maybe above sounds harsh, but for sure there are quite
a few 'no-no's in this area.

[ BTW, another goal is/was to eliminate as much .bat code
from Harbour build process as possible, and this one is
almost reached now, postinst.bat will disappear sooner or
later and only hb-mkimp.bat remains, which is quite an
independent part and could even be converted to .prg. ]

Few areas which would need improvements:
- mpkg_src.sh is something we'd need for other shells
   as well, so it would be better to solve in a shell
   independent way.
- I still don't understand why we have mpkg_rpm_from_svn.sh
- mpkg_deb.sh seems redundant and replaceable with debian/rules.
- mpkg_rpm.sh/mpkg_rpm_wce.sh/mpkg_rpm_win.sh should IMO
   be merged into one .sh and an extra HB_PLATFORM parameter.
- All packages related files be moved inside /package dir.
   (*spec, mpkg*.*, debian/ if possible)

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Oct  5 21:29:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Oct  5 21:29:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12653] trunk/harbour
Message-ID: <E1MuyrN-0000Pj-En@3kljzd1.ch3.sourceforge.com>

Revision: 12653
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12653&view=rev
Author:   vszakats
Date:     2009-10-06 01:29:00 +0000 (Tue, 06 Oct 2009)

Log Message:
-----------
2009-10-06 03:28 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_misc.c
    + Added TODO (hb_osEncodeCP()).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_misc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Tue Oct  6 03:14:00 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Oct  6 03:14:08 2009
Subject: [Harbour] Index compatible bug?
Message-ID: <B46F5E45EED64EFAA975ED0CD2ABE918@emag>

The following sample prints 102 (in Clipper also):

FUNCTION MAIN()

    SET DELETED ON

    DBCREATE( "BUGTEST", { { "CODICE", "N", 3, 0 } } )

    USE BUGTEST

    APPEND BLANK

    REPLACE FIELD -> codice WITH 101

    DELETE

    APPEND BLANK

    REPLACE FIELD -> codice WITH 101

    APPEND BLANK

    REPLACE FIELD -> codice WITH 102

    INDEX ON FIELD -> codice TO BUGTEST UNIQUE

    GO TOP

    WHILE !EOF()
        ? FIELD -> codice
        SKIP
    ENDDO

    CLOSE

    INKEY( 0 )

    RETURN NIL

I wonder if it should print 101 and 102.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic
From mbelgrano at deltain.it  Tue Oct  6 03:14:39 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct  6 03:15:07 2009
Subject: [Harbour] Wich is the official harbour's user group?
In-Reply-To: <011B05AB-E5AF-459F-A93D-1BA84D024592@syenar.hu>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu> 
	<20091005123019.GA27470@uran.home.aster.pl>
	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu> 
	<20091005131640.GA2634@uran.home.aster.pl>
	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu> 
	<20091005153653.GA30432@uran.home.aster.pl>
	<0677120A-C125-4B16-819D-36F44BC0B82F@syenar.hu> 
	<4ACA253A.7010602@gmail.com>
	<011B05AB-E5AF-459F-A93D-1BA84D024592@syenar.hu>
Message-ID: <609353e70910060014h1d1f51a6sdf541434ebb03727@mail.gmail.com>

Hi Rathinagiri.Viktor,Roberto (and everybody)

Will harbour and hmg share an harbour corner to made good assistance
to either final user?
http://www.hmgforum.com/

Which is the idea of Rathinagiri HMG Forum site owner and admin ?
How is possible have identity of harbour on harbour corner?
is possible use a wiki on www.hmgforum?
Can harbour and minigui share experience about documentation ? (hbdoc+hmgdoc)

Can HMG/Roberto lopez include last version from cvs so we have a final
version error free?
HMG have a large userbase
As ready to use situation i suggest the ready to use Viktor's version
at http://www.syenar.hu/harbour/


2009/10/5 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Roberto,
>
> Thanks for the explanation, it certainly makes some gray issues clear.
>
> [ Still not all though, as there exists another package called
> MiniGUI Extended, which actually ships with Harbour 2.0.0b2, I'm
> not sure how's that related, and maybe some of my comments belong
> to this project. Sorry about this. This one is also called HMG
> and also MiniGUI so for me it's difficult to know which I'm
> looking at to this very day. But I'm trying :) ]
>
> It's really your project and your decision, but IMO it'd be a big
> step if you'd use a vanilla Harbour build (without customization).
> This way it'd be easier to swap components and general Harbour support
> could be given for both bundled and standalone Harbour distros without
> first identifying which build is in question. Moreover, general
> Harbour support could be given at any forums without being concerned
> about where this build comes from. Same goes for MiniGUI: Support
> could be given even here or other official or unofficial Harbour
> forums.
>
> For Harboor MiniGUI Extended I think the difference is tget*.prg,
> for normal Harbour MiniGUI I couldn't find information, about the
> nature of build customization.
>
> I still have plans to make the "plugin" concept even stronger. In
> Python, Perl, Ruby, this issue is solved beautifully and no one has
> to pack the base system with extra libs. One important component
> of this effort is hbmk2.
>
> Brgds,
> Viktor
>
> On 2009 Oct 5, at 18:56, Roberto Lopez wrote:
>
>> Massimo Belgrano wrote:
>>
>> > Please Roberto lopez when you see this messages post your right reply
>> >
>> > Will harbour and hmg share an harbour corner to made assistance to
>> > either final user?
>> >
>>
>> At first, regarding the name:
>>
>> When I've created the library, It was only a simple experiment about
>> Harbour-C interface, so, I've not care about the name so much :)
>>
>> I've picked "MiniGUI" because the library featured only a minimal
>> functionality/GUI object set, so, it appeared to be a good choice.
>>
>> Some time later, I've realized that a Linux product existed with the same
>> name, so I've decided to add 'Harbour' to the name.
>>
>> From that time, the library was called 'Harbour MiniGUI'. So, avoiding the
>> name conflict and also made clear my compiler preferece.
>>
>> There was another problem to solve, I had LOTS of support requests
>> regarding issues about Harbour and C compiler installation/compatibility.
>>
>> Then I've decided to package all needed things ready to use with zero
>> configuration (this was possible with the great help of Lorenzo Fiorini on
>> MingW compatibility issues).
>>
>> From the first 'ready to use' distribution (MiniGUI library + MingW +
>> Harbour) I've decided to use an alternate name: "HMG". Of course, it stands
>> for *H*arbour *M*ini *G*ui (indeed, "Harbour MiniGUI" is a not good one name
>> at all :) )
>>
>> Regarding the HMG Forum, Viktor is rigth about that the Harbour version
>> bundled with HMG is a customized version. Moreover, the customization is
>> minimal (contrib library names are not changed).
>>
>> Moreover, there is certainly a lack of 'official' Harbour support to
>> users.
>>
>> Across years I've received tons of bugs reports about Harbour, that I
>> can't handle because lack of time or knowledge (mostly about rdd/database
>> issues).
>>
>> Harbour official users lists is usually inactive, then, some users come
>> here (not the right place, of course).
>>
>> HMG Forum site owner and admin is Rathinagiri (a long time HMG user and
>> contributor) so, he is the right person to ask about this.
>>
>> From my part (I've not followed the complete thread about this) there is
>> no problem to add a specific area on the forum to give support to Harbour
>> compiler specific issues, but, of course, we will need the collaboration of
>> some of the Harbour 'masters' to succeed.
>>
>> From about one year ago, HMG includes Harbour 1.01 and MingW 3.4.5, so
>> most questions will surely related to that combo (I'm waiting for Harbour
>> 2.0 final to replace 1.01 and MingW with 4.x).
>>
>>
>> Regards,
>>
>> Roberto.
>>
>>
>>
>>
>>
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Tue Oct  6 03:36:47 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Oct  6 03:45:15 2009
Subject: [Harbour] win64 results
In-Reply-To: <7411C954-12BB-4E8B-BE62-6A35F480CE4C@syenar.hu>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>
	<20091005123019.GA27470@uran.home.aster.pl>
	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>
	<20091005131640.GA2634@uran.home.aster.pl>
	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>
	<20091005153653.GA30432@uran.home.aster.pl>
	<3491BD91-02FE-4A65-8AC3-6823799BCD22@syenar.hu>
	<20091005211448.GA3974@uran.home.aster.pl>
	<4203E918-B833-47A1-9194-1E68FF21D428@syenar.hu>
	<20091006005354.GA32526@uran.home.aster.pl>
	<7411C954-12BB-4E8B-BE62-6A35F480CE4C@syenar.hu>
Message-ID: <6D2C099A-94D5-499C-A572-F33EFDB38D9C@syenar.hu>

>>> high level drawing (seemingly window related) problem. I'll
>>> try to make tests with 32-bit UNICODE to check what exactly
>>> enables this.
>>
>> AFAIK Windows does not use 32-bit UNICODE values and support only  
>> U16.
>> What is the exact problem?
>
> Sorry I was talking about Win32 UNICODE build.

Just tested MSVC 2008 x86 now default UNICODE build
and I'm having the same display problems in GTWIN
as in x64.

As it turns out, it's not related to UNICODE build
though. The console app was starting up with default
screen dimensions which is 80x300, and apparently
this messes it up. I'll have to investigate further
how can any screen dimension mess up such things
as windows handling. [ and now Windows doesn't seem
to allow me to reset the value to original defaults,
well, time to go anyway. ]

Brgds,
Viktor

From niki at synel.co.il  Tue Oct  6 03:54:38 2009
From: niki at synel.co.il (Chen Kedem)
Date: Tue Oct  6 03:54:47 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c not fully
 compatible with clipper
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>

After some checks:

1) The file is source/codepage/cpes850c.c (and not source/lang/...).
2) Current SVN version is besically the same version as originally
    added to the repository.
3) I can't find in the dev list any remarks regarding its validity since
    the day it was added.

NOTE: I'm not a user of this Spanish codepage and have no idea how it is implemented in Clipper. I'm just the guy who forward bug reports from SF to this list.


  Chen.
From druzus at acn.waw.pl  Tue Oct  6 03:56:01 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Oct  6 03:56:07 2009
Subject: [Harbour] Index compatible bug?
In-Reply-To: <B46F5E45EED64EFAA975ED0CD2ABE918@emag>
References: <B46F5E45EED64EFAA975ED0CD2ABE918@emag>
Message-ID: <20091006075601.GA3161@uran.home.aster.pl>

On Tue, 06 Oct 2009, Enrico Maria Giordano wrote:
> The following sample prints 102 (in Clipper also):
> FUNCTION MAIN()
>    SET DELETED ON
>    DBCREATE( "BUGTEST", { { "CODICE", "N", 3, 0 } } )
>    USE BUGTEST
>    APPEND BLANK
>    REPLACE FIELD -> codice WITH 101
>    DELETE
>    APPEND BLANK
>    REPLACE FIELD -> codice WITH 101
>    APPEND BLANK
>    REPLACE FIELD -> codice WITH 102
>    INDEX ON FIELD -> codice TO BUGTEST UNIQUE
>    GO TOP
>    WHILE !EOF()
>        ? FIELD -> codice
>        SKIP
>    ENDDO
>    CLOSE
>    INKEY( 0 )
>    RETURN NIL
> I wonder if it should print 101 and 102.

The behavior is correct. Index contain record 1 with value 101 but
is filter by your SET DELETE ON filter. If you want to filter such
records when index is created then use USEFILTER clause in INDEX ON
command, i.e.:
   INDEX ON FIELD -> codice TO BUGTEST UNIQUE USEFILTER
In such case record 1 (101) will not be added to filter but
record 2 which has the same key.

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Tue Oct  6 04:23:26 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Oct  6 04:23:32 2009
Subject: [Harbour] Index compatible bug?
References: <B46F5E45EED64EFAA975ED0CD2ABE918@emag>
	<20091006075601.GA3161@uran.home.aster.pl>
Message-ID: <03B79F069EBF4505902FB902279EBCD4@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: marted? 6 ottobre 2009 9.56
Oggetto: Re: [Harbour] Index compatible bug?


> The behavior is correct. Index contain record 1 with value 101 but
> is filter by your SET DELETE ON filter. If you want to filter such
> records when index is created then use USEFILTER clause in INDEX ON
> command, i.e.:
>   INDEX ON FIELD -> codice TO BUGTEST UNIQUE USEFILTER
> In such case record 1 (101) will not be added to filter but
> record 2 which has the same key.

Thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at acn.waw.pl  Tue Oct  6 04:54:05 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Oct  6 04:54:13 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c not fully
	compatible with clipper
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20091006085405.GA19653@uran.home.aster.pl>

On Tue, 06 Oct 2009, Chen Kedem wrote:

Hi,

> After some checks:
> 1) The file is source/codepage/cpes850c.c (and not source/lang/...).
> 2) Current SVN version is besically the same version as originally
>     added to the repository.
> 3) I can't find in the dev list any remarks regarding its validity since
>     the day it was added.
> NOTE: I'm not a user of this Spanish codepage and have no idea how it is implemented in Clipper. I'm just the guy who forward bug reports from SF to this list.

Try the code below.
It generates characters strings which can be used to create CP definition
in Harbour. It's enough to compile this code using Clipper and then link
with given Clipper sort module (usually ntx*.obj) file and then execute.
If there is a problem with cpes850c.c then the upper and lower strings
will be different. If Spanish user can confirm it then we will update
cpes850c.c. Please only remember to attach information about exact version
of used sort modules. In some countries there were different sort modules
with the same CP name, i.e. distributed with CA-Clipper and with SIx3
library.

best regards,
Przemek

/*
 * cpinfo.prg
 */
proc main()
   local cLo, cUp, c, cl, cu, i, a

   set alternate to cpinfo.txt additive
   set alternate on

   a := array( 256 )
   for i := 1 to len( a )
      a[ i ] := i
   next
   asort( a,,, { |x,y| chr( x ) + chr( 0 ) < chr( y ) + chr( 0 ) } )

   ? date(), time(), os(), version()
   ? "Character encoding:"
   ? "==================="
   cLo := cUp := ""
   for i := 1 to len( a )
      c := chr( a[i] )
      if isalpha( c )
         cl := lower( c )
         cu := upper( c )
         cLo += cl
         cUp += cu
         if cl == cu
            ? "upper " + charval( cu ) + " and lower " + charval( cl ) + ;
              " equal"
         elseif !isalpha( cl )
            ? "wrongly defined character " + ;
              charval( c ) + ":" + charinfo( c ) + ;
              ", lower " + charval( cl ) + ":" + charinfo( cl )
         elseif !isalpha( cu )
            ? "wrongly defined character " + ;
              charval( c ) + ":" + charinfo( c ) + ;
              ", upper " + charval( cu ) + ":" + charinfo( cu )
         endif
      elseif islower( c ) .or. isupper( c )
         ? "wrongly defined character " + ;
           charval( c ) + ":" + charinfo( c )
      endif
   next
   ? 'upper: "' + cUp + '"'
   ? 'loerr: "' + cLo + '"'
   ? "==================="
   ?
return

static function charval( c )
return "'" + c + "' (" + ltrim( str( asc( c ) ) ) + ")"

static function charinfo( c )
   local cInfo
   cInfo :=   "ISALPHA->" + iif( isalpha( c ), "Y", "N" )
   cInfo += ", ISUPPER->" + iif( isupper( c ), "Y", "N" )
   cInfo += ", ISLOWER->" + iif( islower( c ), "Y", "N" )
return cInfo
From druzus at users.sourceforge.net  Tue Oct  6 05:16:56 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Oct  6 05:17:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12654] trunk/harbour
Message-ID: <E1Mv6AC-0000T9-Ua@74yxhf1.ch3.sourceforge.com>

Revision: 12654
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12654&view=rev
Author:   druzus
Date:     2009-10-06 09:16:56 +0000 (Tue, 06 Oct 2009)

Log Message:
-----------
2009-10-06 11:16 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  + harbour/tests/cpinfo.prg
    + added  simple program to generate information for Harbour CP module
      definition. Compile it with Clipper and link with given national
      sorting module (usually ntx*.obj) and then execute to generate
      letters strings for given national sorting module. Then use this
      string to define Harbour CP module in source/codepage/ directory.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/tests/cpinfo.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Oct  6 05:22:10 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Oct  6 05:22:16 2009
Subject: [Harbour] win64 results
In-Reply-To: <6D2C099A-94D5-499C-A572-F33EFDB38D9C@syenar.hu>
References: <C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>
	<20091005131640.GA2634@uran.home.aster.pl>
	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>
	<20091005153653.GA30432@uran.home.aster.pl>
	<3491BD91-02FE-4A65-8AC3-6823799BCD22@syenar.hu>
	<20091005211448.GA3974@uran.home.aster.pl>
	<4203E918-B833-47A1-9194-1E68FF21D428@syenar.hu>
	<20091006005354.GA32526@uran.home.aster.pl>
	<7411C954-12BB-4E8B-BE62-6A35F480CE4C@syenar.hu>
	<6D2C099A-94D5-499C-A572-F33EFDB38D9C@syenar.hu>
Message-ID: <20091006092210.GA18485@uran.home.aster.pl>

On Tue, 06 Oct 2009, Szak?ts Viktor wrote:
> Just tested MSVC 2008 x86 now default UNICODE build
> and I'm having the same display problems in GTWIN
> as in x64.
> As it turns out, it's not related to UNICODE build
> though. The console app was starting up with default
> screen dimensions which is 80x300, and apparently
> this messes it up. I'll have to investigate further
> how can any screen dimension mess up such things
> as windows handling. [ and now Windows doesn't seem
> to allow me to reset the value to original defaults,
> well, time to go anyway. ]

It's expected behavior. In Win2K and higher the size of console
buffer is returned as window size. If you do not need such big
area then simply change to size of console buffer in application
preferences or use setMode()

best regards,
Przemek
From druzus at acn.waw.pl  Tue Oct  6 05:29:03 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Oct  6 05:29:10 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c not fully
	compatible with clipper
In-Reply-To: <20091006085405.GA19653@uran.home.aster.pl>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>
	<20091006085405.GA19653@uran.home.aster.pl>
Message-ID: <20091006092903.GA25897@uran.home.aster.pl>

On Tue, 06 Oct 2009, Przemyslaw Czerpak wrote:

Hi,

> Try the code below.

I've just committed a little bit extended version of this code to
harbour/tests/cpinfo.prg.

best regards,
Przemek
From niki at synel.co.il  Tue Oct  6 05:46:42 2009
From: niki at synel.co.il (Chen Kedem)
Date: Tue Oct  6 05:46:51 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c not fully
 compatible with clipper
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>

Przemek,

> I've just committed a little bit extended version of this code to
> harbour/tests/cpinfo.prg.

The attached results were made with the program you posted in the list
(going to check your new one soon).

Tested with Clipper 5.2e once with NTXSPA.OBJ and once with MDXSPA.OBJ
(I included the internal version string from these files)

And Harbour Rev.12653 build with BCC5.5.1 with ES850C (the "compatible")
and ES850 (modern Spanish)

Both on an NT 4.0 workstation Hebrew enabled.


  Chen.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cpinfo.zip
Type: application/x-zip-compressed
Size: 730 bytes
Desc: cpinfo.zip
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091006/663ceab0/cpinfo.bin
From niki at synel.co.il  Tue Oct  6 06:11:41 2009
From: niki at synel.co.il (Chen Kedem)
Date: Tue Oct  6 06:15:09 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c not fully
 compatible with clipper
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>

Attached with Rev.12654 of tests/cpinfo.prg results.

Clipper 5.2e + NTXSPA.OBJ (NTXSORT v1.21e x15 24/Jun/93)
Harbour Rev.12654 and codepage ES850C

  Chen.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cpinfo.zip
Type: application/x-zip-compressed
Size: 503 bytes
Desc: cpinfo.zip
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091006/d8b10183/cpinfo.bin
From dmacias at mail.udg.mx  Tue Oct  6 07:31:35 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Tue Oct  6 07:32:02 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12648] trunk/harbour
Message-ID: <4ACB2A97.9080106@mail.udg.mx>

Maurilio, Viktor, Przemek:

>2009-10-05 14:45 UTC+0200 Maurilio Longo (maurilio.longo at libero.it)
>   * config/os2/gcc.mk
>     * removed for %i in ... hack for library creation in OS/2 gcc
>build.

Work fine with gcc335-a.out (obviously, change was for a.out)

I do not know what are "pros" and "cons" of "for %i ", but if this kind
must be removed, then it apply to OMF type too

Testing some changes in config\os2\gcc.mk work fine with gcc335-OMF and
I suppose gcc4xx-OMF should work because is only "make" related

By lack of technical knowledge on it I do not know if it is right or
need correction, so adjustments are welcome


Replace this section:

-----------------------------
# NOTE: The empty line directly before 'endef' HAS TO exist!
#       It causes that every command will be separated by LF
define lib_object
    @$(ECHO) $(ECHOQUOTE)ADDMOD $(file)$(ECHOQUOTE) >> __lib__.tmp

endef

ifeq ($(HB_COMPILER),gccomf)
    define create_library
       $(if $(wildcard $(subst /,$(DIRSEP),$(LIB_FILE))),@$(RM) $(subst
/,$(DIRSEP),$(LIB_FILE)),)
       for %i in ( *$(OBJ_EXT) ) do $(AR) $(ARFLAGS) $(HB_USER_AFLAGS)
-p128 r $(LIB_DIR)/$@ %i$(ECHOQUOTE)
    endef
else
    # We have to use a script to overcome the AR limit of max 850 characters
    # in commmand line
    define create_library
       $(if $(wildcard $(subst /,$(DIRSEP),$(LIB_FILE))),@$(RM) $(subst
/,$(DIRSEP),$(LIB_FILE)),)
       @$(ECHO) $(ECHOQUOTE)CREATE $(LIB_DIR)/$@$(ECHOQUOTE) > __lib__.tmp
       $(foreach file,$^,$(lib_object))
       @$(ECHO) $(ECHOQUOTE)SAVE$(ECHOQUOTE) >> __lib__.tmp
       @$(ECHO) $(ECHOQUOTE)END$(ECHOQUOTE) >> __lib__.tmp
       $(AR) $(ARFLAGS) $(HB_USER_AFLAGS) -M < __lib__.tmp
    endef
endif
-----------------------------


with this section:

-----------------------------
ifeq ($(HB_COMPILER),gccomf)
    # NOTE: The empty line directly before 'endef' HAS TO exist!
    #       It causes that every command will be separated by LF
    define lib_object
       $(AR) $(ARFLAGS) $(HB_USER_AFLAGS) -p128 r $(LIB_DIR)/$@
$(file)$(ECHOQUOTE)

    endef

    define create_library
       $(if $(wildcard $(subst /,$(DIRSEP),$(LIB_FILE))),@$(RM) $(subst
/,$(DIRSEP),$(LIB_FILE)),)
       $(foreach file,$^,$(lib_object))
    endef
else
    # NOTE: The empty line directly before 'endef' HAS TO exist!
    #       It causes that every command will be separated by LF
    define lib_object
       @$(ECHO) $(ECHOQUOTE)ADDMOD $(file)$(ECHOQUOTE) >> __lib__.tmp

    endef

    # We have to use a script to overcome the AR limit of max 850 characters
    # in commmand line
    define create_library
       $(if $(wildcard $(subst /,$(DIRSEP),$(LIB_FILE))),@$(RM) $(subst
/,$(DIRSEP),$(LIB_FILE)),)
       @$(ECHO) $(ECHOQUOTE)CREATE $(LIB_DIR)/$@$(ECHOQUOTE) > __lib__.tmp
       $(foreach file,$^,$(lib_object))
       @$(ECHO) $(ECHOQUOTE)SAVE$(ECHOQUOTE) >> __lib__.tmp
       @$(ECHO) $(ECHOQUOTE)END$(ECHOQUOTE) >> __lib__.tmp
       $(AR) $(ARFLAGS) $(HB_USER_AFLAGS) -M < __lib__.tmp
    endef
endif
---------------------


David Macias



From sami-site1 at laham.com.br  Tue Oct  6 07:42:02 2009
From: sami-site1 at laham.com.br (Sami Laham)
Date: Tue Oct  6 07:43:03 2009
Subject: RES: [Harbour] Harbour Wince GUI  
In-Reply-To: <20091005190845.CA5AC90975B44@c9mailgw60.amadis.com>
Message-ID: <20091006113908.8F8B2192C73@hm1583.locaweb.com.br>

Tks Viktor and Massimo 

Sami  


QT also runs on WinCE, so it should be possible to build hbqt and hbxbp for
WinCE.

Brgds,
Viktor

On 2009 Oct 5, at 16:32, Massimo Belgrano wrote:

> AKAIK
> The only free amd opensource gui for wince is the upcoming VIANEMO 
> http://blog.viaopen.com/ Yon can use Gt , istead of gui, so you are 
> able to run  clipper application with little modification
>
> Commercial GUI
> ViaCoral at http://www.viaopen.com/
> FiveWin for Pocket PC at http://www.fivetechsoft.com/english/
> fwppc.html
>
> 2009/10/5 Sami Laham <sami-site1@laham.com.br>:
>> Hello folks, I would like know what GUI can i use with WINCE for 
>> developer to mobile devices, someone use HWGUI to WINCE ?
>>

From druzus at acn.waw.pl  Tue Oct  6 08:04:58 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Oct  6 08:05:05 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c not fully
	compatible with clipper
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20091006120458.GA10568@uran.home.aster.pl>

On Tue, 06 Oct 2009, Chen Kedem wrote:

Hi,

> > I've just committed a little bit extended version of this code to
> > harbour/tests/cpinfo.prg.
> The attached results were made with the program you posted in the list
> (going to check your new one soon).
> Tested with Clipper 5.2e once with NTXSPA.OBJ and once with MDXSPA.OBJ
> (I included the internal version string from these files)
> And Harbour Rev.12653 build with BCC5.5.1 with ES850C (the "compatible")
> and ES850 (modern Spanish)

So for sure ES850C in Harbour is not compatible with ntxspa.obj.
Interesting is that mdx and ntx use different sorting. I haven't
expected it. Maybe it's result of some historical decisions or simply
bug. For me the ordering in MDXSPA does not look correctly but maybe
in some cases accented characters should be sorted before unaccented
ones. It's the question to Spanish user not for me.
Anyhow I'll update cpinfo.prg code to show more precise information
which should help in replicating exact Clipper behavior.
If I find a while then I also try to add alternative method to define
CP in Harbour so it will be possible to adopt Clipper's definitions
"as is" and generate them automatically from cpinfo.prg.

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Oct  6 08:07:21 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Oct  6 08:07:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12655] trunk/harbour
Message-ID: <E1Mv8p7-00070I-VH@c3vjzd1.ch3.sourceforge.com>

Revision: 12655
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12655&view=rev
Author:   druzus
Date:     2009-10-06 12:07:20 +0000 (Tue, 06 Oct 2009)

Log Message:
-----------
2009-10-06 14:07 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  + harbour/tests/cpinfo.prg
    * modified to show more precise information about code page definition

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/tests/cpinfo.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Oct  6 08:47:40 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Oct  6 08:48:08 2009
Subject: [Harbour] win64 results
In-Reply-To: <20091006092210.GA18485@uran.home.aster.pl>
References: <C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>
	<20091005131640.GA2634@uran.home.aster.pl>
	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>
	<20091005153653.GA30432@uran.home.aster.pl>
	<3491BD91-02FE-4A65-8AC3-6823799BCD22@syenar.hu>
	<20091005211448.GA3974@uran.home.aster.pl>
	<4203E918-B833-47A1-9194-1E68FF21D428@syenar.hu>
	<20091006005354.GA32526@uran.home.aster.pl>
	<7411C954-12BB-4E8B-BE62-6A35F480CE4C@syenar.hu>
	<6D2C099A-94D5-499C-A572-F33EFDB38D9C@syenar.hu>
	<20091006092210.GA18485@uran.home.aster.pl>
Message-ID: <97A4E2E1-60ED-4FCA-A5F4-EB0CE2A1399B@syenar.hu>

> On Tue, 06 Oct 2009, Szak?ts Viktor wrote:
>> Just tested MSVC 2008 x86 now default UNICODE build
>> and I'm having the same display problems in GTWIN
>> as in x64.
>> As it turns out, it's not related to UNICODE build
>> though. The console app was starting up with default
>> screen dimensions which is 80x300, and apparently
>> this messes it up. I'll have to investigate further
>> how can any screen dimension mess up such things
>> as windows handling. [ and now Windows doesn't seem
>> to allow me to reset the value to original defaults,
>> well, time to go anyway. ]
>
> It's expected behavior. In Win2K and higher the size of console
> buffer is returned as window size. If you do not need such big
> area then simply change to size of console buffer in application
> preferences or use setMode()

I know this. I need to clarify, by "messed up" I don't
mean the scrollbars and whatnot when using such big
buffer. Instead I mean that the displayed (by Harbour
app) _screen content_ is wrong. It looks like as if
(ctwin) windowing gets confused about current window,
so it's painting to the wrong one and returning size of
the wrong one. But I'll make some real tests later,
could be my app code.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Oct  6 09:13:36 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Oct  6 09:13:43 2009
Subject: [Harbour] win64 results
In-Reply-To: <97A4E2E1-60ED-4FCA-A5F4-EB0CE2A1399B@syenar.hu>
References: <5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>
	<20091005153653.GA30432@uran.home.aster.pl>
	<3491BD91-02FE-4A65-8AC3-6823799BCD22@syenar.hu>
	<20091005211448.GA3974@uran.home.aster.pl>
	<4203E918-B833-47A1-9194-1E68FF21D428@syenar.hu>
	<20091006005354.GA32526@uran.home.aster.pl>
	<7411C954-12BB-4E8B-BE62-6A35F480CE4C@syenar.hu>
	<6D2C099A-94D5-499C-A572-F33EFDB38D9C@syenar.hu>
	<20091006092210.GA18485@uran.home.aster.pl>
	<97A4E2E1-60ED-4FCA-A5F4-EB0CE2A1399B@syenar.hu>
Message-ID: <20091006131336.GA31761@uran.home.aster.pl>

On Tue, 06 Oct 2009, Szak?ts Viktor wrote:
> I know this. I need to clarify, by "messed up" I don't
> mean the scrollbars and whatnot when using such big
> buffer. Instead I mean that the displayed (by Harbour
> app) _screen content_ is wrong. It looks like as if
> (ctwin) windowing gets confused about current window,
> so it's painting to the wrong one and returning size of
> the wrong one. But I'll make some real tests later,
> could be my app code.

It's possible that there is sth wrong in CTWIN though it should
work correctly - at least I do not see any problems looking at
the code.
If you have some additional extensions then please check if you
do not have some places which may cause coordinates casting to BYTE
or which may calculate screen offset or index in screen buffer using
[U]SHORT value.
Try to reduce number of rows to 255 and check if it helps.
Few years ago I made some tests with very large screen buffers in
MS-Windows console and I've found some bugs in MS-Windows console
code so it's possible that the problem is caused by exploiting them.

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Oct  6 10:46:48 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Oct  6 10:46:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12656] trunk/harbour
Message-ID: <E1MvBJQ-0001Ge-42@c3vjzd1.ch3.sourceforge.com>

Revision: 12656
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12656&view=rev
Author:   druzus
Date:     2009-10-06 14:46:46 +0000 (Tue, 06 Oct 2009)

Log Message:
-----------
2009-10-06 16:46 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/instsh.mk
  * harbour/bin/hb-func.sh
  * harbour/bin/postinst.sh
    + added support for HB_INST_PKGPREF which can be used as package
      temporary install directory

  * harbour/mpkg_tgz.sh
    ! use HB_INST_PKGPREF to allow creating install packages without
      special user rights and to protect against damaging original system
      installation during package building if sufficient user rights were
      guarantied

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/postinst.sh
    trunk/harbour/config/instsh.mk
    trunk/harbour/mpkg_tgz.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From M.Horodyski at pzuzycie.com.pl  Tue Oct  6 11:04:01 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Tue Oct  6 11:04:11 2009
Subject: [Harbour] Wich is the official harbour's user group?
In-Reply-To: <4ACA253A.7010602@gmail.com>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>	<20091005123019.GA27470@uran.home.aster.pl>	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>	<20091005131640.GA2634@uran.home.aster.pl>	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>	<20091005153653.GA30432@uran.home.aster.pl><0677120A-C125-4B16-819D-36F44BC0B82F@syenar.hu>
	<4ACA253A.7010602@gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C950288E665@PINK.zycie.pzu>

>-----Original Message-----
>From: Roberto Lopez [mailto:roberbox@gmail.com] 
>Sent: Monday, October 05, 2009 6:56 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Wich is the official harbour's user group?

[...]

> From about one year ago, HMG includes Harbour 1.01 and MingW 
>3.4.5, so most questions will surely related to that combo 
>(I'm waiting for Harbour 2.0 final to replace 1.01 and MingW with 4.x).


Viktor, more developers with its products pending a stable version.
F.e. OTC with Mediator.

Regards,
Marek Horodyski
From Istvan.Bisz at t-online.hu  Tue Oct  6 12:15:56 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Tue Oct  6 12:16:03 2009
Subject: [Harbour] UPPER error iwith some CP-s
Message-ID: <000301ca46a0$4936cbc0$dba46340$@Bisz@t-online.hu>

Hi,

 

I found a quite strange behavior in  some CP settings necessary in my
project.

 

See the following sample:

 

CODE

proc main()

   set alternate to uperr.txt additive

   set alternate on

   REQUEST HB_CODEPAGE_TR857

   HB_SETCODEPAGE( "TR857" )

   ? "diag=diag", UPPER("diag=diag")

   ? "diag", UPPER("diag")

return

ENDCODE

 

generating the wrong output:

 

diag=diag D?AG=D?AG

diag DIAG

 

Best regards,

Istv?n Bisz

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091006/18fb68a2/attachment.html
From druzus at users.sourceforge.net  Tue Oct  6 12:34:59 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Oct  6 12:35:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12657] trunk/harbour
Message-ID: <E1MvD07-00086C-Uc@3kljzd1.ch3.sourceforge.com>

Revision: 12657
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12657&view=rev
Author:   druzus
Date:     2009-10-06 16:34:58 +0000 (Tue, 06 Oct 2009)

Log Message:
-----------
2009-10-06 18:34 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/harbour.spec
    ! fixed to build with postinst.prg executed by shared linked hbrun

  * harbour/bin/hb-func.sh
  * harbour/debian/rules
  * harbour/harbour.spec
    % use HB_INST_PKGPREF instead of _DEFAULT_*_DIR
      Please test DEB building in Debian, Ubuntu or in other DPKG
      based distro. It probably has the same problem with postinst.prg
      as all other builds.

  * harbour/debian/rules
  * harbour/harbour.spec
  * harbour/mpkg_tgz.sh
  * harbour/source/compiler/gencobj.c
    * updated harbour.cfg localization in *nix builds

  * harbour/utils/hbrun/Makefile
    ! restored support for default include directory in system wide builds

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/debian/rules
    trunk/harbour/harbour.spec
    trunk/harbour/mpkg_tgz.sh
    trunk/harbour/source/compiler/gencobj.c
    trunk/harbour/utils/hbrun/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Oct  6 12:55:14 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Oct  6 12:55:27 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12648] trunk/harbour
In-Reply-To: <4ACB2A97.9080106@mail.udg.mx>
References: <4ACB2A97.9080106@mail.udg.mx>
Message-ID: <799E4B64-C6BD-4E28-AD90-CC9EF08C0869@syenar.hu>

> with this section:
>
> -----------------------------
> ifeq ($(HB_COMPILER),gccomf)
>   # NOTE: The empty line directly before 'endef' HAS TO exist!
>   #       It causes that every command will be separated by LF
>   define lib_object
>      $(AR) $(ARFLAGS) $(HB_USER_AFLAGS) -p128 r $(LIB_DIR)/$@
> $(file)$(ECHOQUOTE)
>
>   endef
>
>   define create_library
>      $(if $(wildcard $(subst /,$(DIRSEP),$(LIB_FILE))),@$(RM) $(subst
> /,$(DIRSEP),$(LIB_FILE)),)
>      $(foreach file,$^,$(lib_object))
>   endef
> else
>   # NOTE: The empty line directly before 'endef' HAS TO exist!
>   #       It causes that every command will be separated by LF
>   define lib_object
>      @$(ECHO) $(ECHOQUOTE)ADDMOD $(file)$(ECHOQUOTE) >> __lib__.tmp
>
>   endef
>
>   # We have to use a script to overcome the AR limit of max 850  
> characters
>   # in commmand line
>   define create_library
>      $(if $(wildcard $(subst /,$(DIRSEP),$(LIB_FILE))),@$(RM) $(subst
> /,$(DIRSEP),$(LIB_FILE)),)
>      @$(ECHO) $(ECHOQUOTE)CREATE $(LIB_DIR)/$@$(ECHOQUOTE) >  
> __lib__.tmp
>      $(foreach file,$^,$(lib_object))
>      @$(ECHO) $(ECHOQUOTE)SAVE$(ECHOQUOTE) >> __lib__.tmp
>      @$(ECHO) $(ECHOQUOTE)END$(ECHOQUOTE) >> __lib__.tmp
>      $(AR) $(ARFLAGS) $(HB_USER_AFLAGS) -M < __lib__.tmp
>   endef
> endif
> ---------------------

Thanks David, I'll commit it. Please make sure to test it, as copying
code from e-mail body is quite error prone due to required manual
reformat.

Any takers to remove OS/2 watcom hacks?

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Oct  6 12:58:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Oct  6 12:58:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12658] trunk/harbour
Message-ID: <E1MvDMj-0007xF-9Q@74yxhf1.ch3.sourceforge.com>

Revision: 12658
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12658&view=rev
Author:   vszakats
Date:     2009-10-06 16:58:20 +0000 (Tue, 06 Oct 2009)

Log Message:
-----------
2009-10-06 18:57 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    - Deleted sudo from one pkg creation command.

  * config/global.mk
    + Added MSVS 10.0 compiler version autodetection.

  * config/os2/gcc.mk
    % Deleted OS/2 make bug workarounds from OMF specific code.
      Submitted by David Arturo Macias Corona.
      Please test/review.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.mk
    trunk/harbour/config/os2/gcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Oct  6 12:58:57 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Oct  6 12:59:05 2009
Subject: [Harbour] UPPER error iwith some CP-s
In-Reply-To: <000301ca46a0$4936cbc0$dba46340$@Bisz@t-online.hu>
References: <000301ca46a0$4936cbc0$dba46340$@Bisz@t-online.hu>
Message-ID: <20091006165857.GA23286@uran.home.aster.pl>

On Tue, 06 Oct 2009, Bisz Istv?n wrote:

Hi,

> I found a quite strange behavior in  some CP settings necessary in my
> project.
> See the following sample:
> CODE
> proc main()
>    set alternate to uperr.txt additive
>    set alternate on
>    REQUEST HB_CODEPAGE_TR857
>    HB_SETCODEPAGE( "TR857" )
>    ? "diag=diag", UPPER("diag=diag")
>    ? "diag", UPPER("diag")
> return
> ENDCODE
> generating the wrong output:
> diag=diag D?AG=D?AG
> diag DIAG

It's Clipper compatible behavior in UPPER() optimization.
Clipper optimize UPPER( <cConst> ) at compile time if <cConst>
contains only characters like [A-Za-z0-9 ] and as result if
gives <cUpperConst> where characters like [a-z] are converted
to [A-Z]. During compilation CP is unknown so only such strings
are translated and only pure Latin letters.
In Harbour Clipper behavior is fully replicated because
some code which initialize static variables needs it, i.e.:
   static s := upper( "diag" )
Unfortunately it creates problems for Turkish CPs where upper("i")
is not "I" but due to compile time optimization it's wrongly
translated to "I".
In your example first string contains "=" character what disables
compile time UPPER() optimization so it's correctly translated at
runtime but the second string is fully optimized.
The only one solution I can give you is not using UPPER() with
string constant values containing Turkish strings. Maybe in the
future I'll add new -k? switch to disable UPPER() optimization
but I cannot make it in default builds due to compatibility with
existing code. If it's critical for you now then you can disable
UPPER() optimization in Harbour compiler code and recompile your
custom Harbour version.

best regards,
Przemek
From roberbox at gmail.com  Tue Oct  6 14:04:50 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Tue Oct  6 14:04:59 2009
Subject: [Harbour] Wich is the official harbour's user group?
In-Reply-To: <011B05AB-E5AF-459F-A93D-1BA84D024592@syenar.hu>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>	<20091005123019.GA27470@uran.home.aster.pl>	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>	<20091005131640.GA2634@uran.home.aster.pl>	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>	<20091005153653.GA30432@uran.home.aster.pl>	<0677120A-C125-4B16-819D-36F44BC0B82F@syenar.hu>	<4ACA253A.7010602@gmail.com>
	<011B05AB-E5AF-459F-A93D-1BA84D024592@syenar.hu>
Message-ID: <4ACB86C2.8060705@gmail.com>

Viktor Szak?ts wrote:
<...>
> [ Still not all though, as there exists another package called
> MiniGUI Extended, which actually ships with Harbour 2.0.0b2, 

There was only one project from 2002 to 2005 (the one I've started) from 
then, two forks emerged: "HMG extended" and "OOHG" (I'm only responsible 
for "HMG").

> It's really your project and your decision, but IMO it'd be a big
> step if you'd use a vanilla Harbour build (without customization).
> This way it'd be easier to swap components and general Harbour support
> could be given for both bundled and standalone Harbour distros without
> first identifying which build is in question. Moreover, general
> Harbour support could be given at any forums without being concerned
> about where this build comes from. Same goes for MiniGUI: Support
> could be given even here or other official or unofficial Harbour
> forums.

It's a good idea.

The current HMG distribution uses Harbour 1.01 for MingW build 
downloaded from Sourceforge. I've removed 'binutils' not required by HMG 
and (of course) added libraries and other things, but this shoud be not 
   create problems regarding Harbour compiler support.

Moreover, I'll begin experimenting with Harbour 2.0 beta and publish a 
test HMG release ASAP.

If something goes wrong, I'll seek for help here, prior to attempt a 
dirty hack, I promise :)

So, hopefully, we will have full 'Harbour support compatible' HMG releases.


Regards,

Roberto

From harbour.01 at syenar.hu  Tue Oct  6 14:12:08 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Oct  6 14:12:17 2009
Subject: [Harbour] Wich is the official harbour's user group?
In-Reply-To: <4ACB86C2.8060705@gmail.com>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>	<20091005123019.GA27470@uran.home.aster.pl>	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>	<20091005131640.GA2634@uran.home.aster.pl>	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>	<20091005153653.GA30432@uran.home.aster.pl>	<0677120A-C125-4B16-819D-36F44BC0B82F@syenar.hu>	<4ACA253A.7010602@gmail.com>
	<011B05AB-E5AF-459F-A93D-1BA84D024592@syenar.hu>
	<4ACB86C2.8060705@gmail.com>
Message-ID: <72759E0A-F5FB-4563-ABD1-E9CBAF3DF0CC@syenar.hu>

Hi Roberto,

>> [ Still not all though, as there exists another package called
>> MiniGUI Extended, which actually ships with Harbour 2.0.0b2,
>
> There was only one project from 2002 to 2005 (the one I've started)  
> from then, two forks emerged: "HMG extended" and "OOHG" (I'm only  
> responsible for "HMG").

Okay, now I see the whole picture.

>> It's really your project and your decision, but IMO it'd be a big
>> step if you'd use a vanilla Harbour build (without customization).
>> This way it'd be easier to swap components and general Harbour  
>> support
>> could be given for both bundled and standalone Harbour distros  
>> without
>> first identifying which build is in question. Moreover, general
>> Harbour support could be given at any forums without being concerned
>> about where this build comes from. Same goes for MiniGUI: Support
>> could be given even here or other official or unofficial Harbour
>> forums.
>
> It's a good idea.
>
> The current HMG distribution uses Harbour 1.01 for MingW build  
> downloaded from Sourceforge. I've removed 'binutils' not required by  
> HMG and (of course) added libraries and other things, but this shoud  
> be not   create problems regarding Harbour compiler support.
>
> Moreover, I'll begin experimenting with Harbour 2.0 beta and publish  
> a test HMG release ASAP.

Good news. mingw is actually included now starting with 2.0 beta  
releases.

Please start with beta 3, as this is the closed to current state,
even if it's not "official" release.

> If something goes wrong, I'll seek for help here, prior to attempt a  
> dirty hack, I promise :)
>
> So, hopefully, we will have full 'Harbour support compatible' HMG  
> releases.

Great, feel free to tell us any problems you run into.

Brgds,
Viktor

From roberbox at gmail.com  Tue Oct  6 14:12:37 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Tue Oct  6 14:12:47 2009
Subject: [Harbour] Wich is the official harbour's user group?
In-Reply-To: <609353e70910060014h1d1f51a6sdf541434ebb03727@mail.gmail.com>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>
	<20091005123019.GA27470@uran.home.aster.pl>	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>
	<20091005131640.GA2634@uran.home.aster.pl>	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>
	<20091005153653.GA30432@uran.home.aster.pl>	<0677120A-C125-4B16-819D-36F44BC0B82F@syenar.hu>
	<4ACA253A.7010602@gmail.com>	<011B05AB-E5AF-459F-A93D-1BA84D024592@syenar.hu>
	<609353e70910060014h1d1f51a6sdf541434ebb03727@mail.gmail.com>
Message-ID: <4ACB8895.7080708@gmail.com>

Massimo Belgrano wrote:
> Hi Rathinagiri.Viktor,Roberto (and everybody)
> 
> Will harbour and hmg share an harbour corner to made good assistance
> to either final user?
> http://www.hmgforum.com/

 From my part (and Rathinagiri agrees)  there is no problem at all.

But as I've said, we will need help from Harbour experts to succeed.

<...>

> Can harbour and minigui share experience about documentation ? (hbdoc+hmgdoc)

<...>

It could be done.

And I guess that some kind of Wiki, could be great. Specially, using as 
base the current official Harbour docs.

But (again) we will need LOTS of help of Harbour developers and users to 
succeed.

Let mi think about it...

Regards,


Roberto.

From Istvan.Bisz at t-online.hu  Tue Oct  6 14:12:49 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Tue Oct  6 14:12:57 2009
Subject: [Harbour] UPPER error iwith some CP-s
In-Reply-To: <20091006165857.GA23286@uran.home.aster.pl>
References: <000301ca46a0$4936cbc0$dba46340$@Bisz@t-online.hu>
	<20091006165857.GA23286@uran.home.aster.pl>
Message-ID: <001101ca46b0$9d4f9fb0$d7eedf10$@Bisz@t-online.hu>

Hi Przemek,

Unfortunately this i to ? (LATIN CAPITAL LETTER I WITH DOT ABOVE - 0x98 <152> in CP857) upper conversion generates more problems, now in MEMOEDIT:

Error BASE/1004  Message not found: HBMEMOED?TOR:HBEDITOR
Called from __ERRRT_SBASE(0)  
Called from HBMEMOED?TOR:ERROR(0)  
Called from (b)HBOBJECT(0)  
Called from HBMEMOED?TOR:MSGNOTFOUND(0)  
Called from HBMEMOED?TOR:HBEDITOR(0)  
Called from HBMEMOED?TOR:EDIT(0)  
Called from MEMOEDIT(0)  

The missed I in 'HBMEMOED?TOR' is this ? ugly character. I don't know how to handle this.

Thank you in advance,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Przemyslaw Czerpak
Sent: 2009. okt?ber 6. 18:59
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] UPPER error iwith some CP-s

On Tue, 06 Oct 2009, Bisz Istv?n wrote:

Hi,

> I found a quite strange behavior in  some CP settings necessary in my
> project.
> See the following sample:
> CODE
> proc main()
>    set alternate to uperr.txt additive
>    set alternate on
>    REQUEST HB_CODEPAGE_TR857
>    HB_SETCODEPAGE( "TR857" )
>    ? "diag=diag", UPPER("diag=diag")
>    ? "diag", UPPER("diag")
> return
> ENDCODE
> generating the wrong output:
> diag=diag D?AG=D?AG
> diag DIAG

It's Clipper compatible behavior in UPPER() optimization.
Clipper optimize UPPER( <cConst> ) at compile time if <cConst>
contains only characters like [A-Za-z0-9 ] and as result if
gives <cUpperConst> where characters like [a-z] are converted
to [A-Z]. During compilation CP is unknown so only such strings
are translated and only pure Latin letters.
In Harbour Clipper behavior is fully replicated because
some code which initialize static variables needs it, i.e.:
   static s := upper( "diag" )
Unfortunately it creates problems for Turkish CPs where upper("i")
is not "I" but due to compile time optimization it's wrongly
translated to "I".
In your example first string contains "=" character what disables
compile time UPPER() optimization so it's correctly translated at
runtime but the second string is fully optimized.
The only one solution I can give you is not using UPPER() with
string constant values containing Turkish strings. Maybe in the
future I'll add new -k? switch to disable UPPER() optimization
but I cannot make it in default builds due to compatibility with
existing code. If it's critical for you now then you can disable
UPPER() optimization in Harbour compiler code and recompile your
custom Harbour version.

best regards,
Przemek
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Tue Oct  6 14:52:21 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Oct  6 14:52:28 2009
Subject: [Harbour] UPPER error iwith some CP-s
In-Reply-To: <001101ca46b0$9d4f9fb0$d7eedf10$@Bisz@t-online.hu>
References: <20091006165857.GA23286@uran.home.aster.pl>
	<001101ca46b0$9d4f9fb0$d7eedf10$@Bisz@t-online.hu>
Message-ID: <20091006185221.GA14857@uran.home.aster.pl>

On Tue, 06 Oct 2009, Bisz Istv?n wrote:

Hi,

> Unfortunately this i to ? (LATIN CAPITAL LETTER I WITH DOT ABOVE - 0x98 <152>
> in CP857) upper conversion generates more problems, now in MEMOEDIT:
> 
> Error BASE/1004  Message not found: HBMEMOED?TOR:HBEDITOR
> Called from __ERRRT_SBASE(0)  
> Called from HBMEMOED?TOR:ERROR(0)  
> Called from (b)HBOBJECT(0)  
> Called from HBMEMOED?TOR:MSGNOTFOUND(0)  
> Called from HBMEMOED?TOR:HBEDITOR(0)  
> Called from HBMEMOED?TOR:EDIT(0)  
> Called from MEMOEDIT(0)  
> 
> The missed I in 'HBMEMOED?TOR' is this ? ugly character.
> I don't know how to handle this.

In practice setting such CP causes that all symbols containing 'i'
may not be properly converted if .prg code use UPPER(). In above
case it's working and only class name looks ugly bad it should
not cause bigger bad side effects as long as you do not want to
make sth with such class name, i.e. use it in macro compiler.
The above can be quite easy resolved by small modification in
include/hbclass.ch. It's enough to change:
   HBClass():new( <(ClassName)>
to:
   HBClass():new( Upper( <(ClassName)> )
and compile time optimization for UPPER resolves the problem so
it's enough to recompile the Harbour code.
Anyhow seems that it will be good to add new function i.e.
HB_ASCIIUPPER() and use it instead of UPPER() in core library
code in all places where we are operating on compiler symbols
or other ASCII identifiers.

[ Viktor I think we should make it. ]

Please only remember that you also have to be careful writing
your own code.
BTW How are you leaving with such CPs? ;-)

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Oct  6 15:01:48 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Oct  6 15:01:57 2009
Subject: [Harbour] UPPER error iwith some CP-s
In-Reply-To: <20091006185221.GA14857@uran.home.aster.pl>
References: <20091006165857.GA23286@uran.home.aster.pl>
	<001101ca46b0$9d4f9fb0$d7eedf10$@Bisz@t-online.hu>
	<20091006185221.GA14857@uran.home.aster.pl>
Message-ID: <091122A9-5AA0-41B7-A78B-EDE7B6698446@syenar.hu>

>> The missed I in 'HBMEMOED?TOR' is this ? ugly character.
>> I don't know how to handle this.
>
> In practice setting such CP causes that all symbols containing 'i'
> may not be properly converted if .prg code use UPPER(). In above
> case it's working and only class name looks ugly bad it should
> not cause bigger bad side effects as long as you do not want to
> make sth with such class name, i.e. use it in macro compiler.
> The above can be quite easy resolved by small modification in
> include/hbclass.ch. It's enough to change:
>   HBClass():new( <(ClassName)>
> to:
>   HBClass():new( Upper( <(ClassName)> )
> and compile time optimization for UPPER resolves the problem so
> it's enough to recompile the Harbour code.
> Anyhow seems that it will be good to add new function i.e.
> HB_ASCIIUPPER() and use it instead of UPPER() in core library
> code in all places where we are operating on compiler symbols
> or other ASCII identifiers.
>
> [ Viktor I think we should make it. ]

I agree. I'd rather user hb_upperAscii() though, to
keep names well aligned (i.e. it's a sub-type of
upper()).

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Oct  6 15:13:33 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Oct  6 15:13:40 2009
Subject: [Harbour] UPPER error iwith some CP-s
In-Reply-To: <091122A9-5AA0-41B7-A78B-EDE7B6698446@syenar.hu>
References: <20091006165857.GA23286@uran.home.aster.pl>
	<20091006185221.GA14857@uran.home.aster.pl>
	<091122A9-5AA0-41B7-A78B-EDE7B6698446@syenar.hu>
Message-ID: <20091006191333.GA17827@uran.home.aster.pl>

On Tue, 06 Oct 2009, Szak?ts Viktor wrote:
> I agree. I'd rather user hb_upperAscii() though, to
> keep names well aligned (i.e. it's a sub-type of
> upper()).

Fine though if we plan to add also other ASCII oriented functions
for LOWER, ISALPHA, ISUPPER, ISLOWER, ISDIGIT operations then IMO
using hb_ascii*() prefix will be better to keep names aligned.
Just like now we have set of hb_utf8*() functions:
   HB_UTF8CHR(), HB_UTF8LEN(), HB_UTF8LEFT(), HB_UTF8RIGHT(),
   HB_UTF8STUFF(), HB_UTF8SUBSTR(), HB_UTF8STRTRAN(),
   HB_UTF8PEEK(), HB_UTF8POKE(), HB_UTF8TOSTR()

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Oct  6 15:14:37 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Oct  6 15:14:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12659] trunk/harbour
Message-ID: <E1MvFUb-0001Yr-KL@74yxhf1.ch3.sourceforge.com>

Revision: 12659
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12659&view=rev
Author:   druzus
Date:     2009-10-06 19:14:36 +0000 (Tue, 06 Oct 2009)

Log Message:
-----------
2009-10-06 21:14 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/harbour-win-spec
  * harbour/harbour-wce-spec
    - commented out HB_BUILD_PARTS=compiler as workaround for using
      postinst.prg
    % use -undef:.ARCH.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Oct  6 15:20:09 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Oct  6 15:20:17 2009
Subject: [Harbour] UPPER error iwith some CP-s
In-Reply-To: <20091006191333.GA17827@uran.home.aster.pl>
References: <20091006165857.GA23286@uran.home.aster.pl>
	<20091006185221.GA14857@uran.home.aster.pl>
	<091122A9-5AA0-41B7-A78B-EDE7B6698446@syenar.hu>
	<20091006191333.GA17827@uran.home.aster.pl>
Message-ID: <BDE49763-B58F-47D3-A0B2-5AF600FB7D00@syenar.hu>

Okay, fine with me.

Brds,
Viktor

On 2009 Oct 6, at 21:13, Przemyslaw Czerpak wrote:

> On Tue, 06 Oct 2009, Szak?ts Viktor wrote:
>> I agree. I'd rather user hb_upperAscii() though, to
>> keep names well aligned (i.e. it's a sub-type of
>> upper()).
>
> Fine though if we plan to add also other ASCII oriented functions
> for LOWER, ISALPHA, ISUPPER, ISLOWER, ISDIGIT operations then IMO
> using hb_ascii*() prefix will be better to keep names aligned.
> Just like now we have set of hb_utf8*() functions:
>   HB_UTF8CHR(), HB_UTF8LEN(), HB_UTF8LEFT(), HB_UTF8RIGHT(),
>   HB_UTF8STUFF(), HB_UTF8SUBSTR(), HB_UTF8STRTRAN(),
>   HB_UTF8PEEK(), HB_UTF8POKE(), HB_UTF8TOSTR()
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From Istvan.Bisz at t-online.hu  Tue Oct  6 15:24:52 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Tue Oct  6 15:25:01 2009
Subject: [Harbour] UPPER error iwith some CP-s
In-Reply-To: <20091006185221.GA14857@uran.home.aster.pl>
References: <20091006165857.GA23286@uran.home.aster.pl>	<001101ca46b0$9d4f9fb0$d7eedf10$@Bisz@t-online.hu>
	<20091006185221.GA14857@uran.home.aster.pl>
Message-ID: <001501ca46ba$ae276840$0a7638c0$@Bisz@t-online.hu>

Thanks, I am engaged in a project covering Greece, Hungary, Turkey etc. BTW, please find attached the missing ISO National Collation Support Module for Greece and Turkey.

Best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Przemyslaw Czerpak
Sent: 2009. okt?ber 6. 20:52
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] UPPER error iwith some CP-s

On Tue, 06 Oct 2009, Bisz Istv?n wrote:

Hi,

> Unfortunately this i to ? (LATIN CAPITAL LETTER I WITH DOT ABOVE - 0x98 <152>
> in CP857) upper conversion generates more problems, now in MEMOEDIT:
> 
> Error BASE/1004  Message not found: HBMEMOED?TOR:HBEDITOR
> Called from __ERRRT_SBASE(0)  
> Called from HBMEMOED?TOR:ERROR(0)  
> Called from (b)HBOBJECT(0)  
> Called from HBMEMOED?TOR:MSGNOTFOUND(0)  
> Called from HBMEMOED?TOR:HBEDITOR(0)  
> Called from HBMEMOED?TOR:EDIT(0)  
> Called from MEMOEDIT(0)  
> 
> The missed I in 'HBMEMOED?TOR' is this ? ugly character.
> I don't know how to handle this.

In practice setting such CP causes that all symbols containing 'i'
may not be properly converted if .prg code use UPPER(). In above
case it's working and only class name looks ugly bad it should
not cause bigger bad side effects as long as you do not want to
make sth with such class name, i.e. use it in macro compiler.
The above can be quite easy resolved by small modification in
include/hbclass.ch. It's enough to change:
   HBClass():new( <(ClassName)>
to:
   HBClass():new( Upper( <(ClassName)> )
and compile time optimization for UPPER resolves the problem so
it's enough to recompile the Harbour code.
Anyhow seems that it will be good to add new function i.e.
HB_ASCIIUPPER() and use it instead of UPPER() in core library
code in all places where we are operating on compiler symbols
or other ASCII identifiers.

[ Viktor I think we should make it. ]

Please only remember that you also have to be careful writing
your own code.
BTW How are you leaving with such CPs? ;-)

best regards,
Przemek
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
A non-text attachment was scrubbed...
Name: codepage.zip
Type: application/x-zip-compressed
Size: 4898 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091006/4f3f120e/codepage-0001.bin
From roberbox at gmail.com  Tue Oct  6 17:41:01 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Tue Oct  6 17:41:10 2009
Subject: [Harbour] Wich is the official harbour's user group?
In-Reply-To: <72759E0A-F5FB-4563-ABD1-E9CBAF3DF0CC@syenar.hu>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>	<20091005123019.GA27470@uran.home.aster.pl>	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>	<20091005131640.GA2634@uran.home.aster.pl>	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>	<20091005153653.GA30432@uran.home.aster.pl>	<0677120A-C125-4B16-819D-36F44BC0B82F@syenar.hu>	<4ACA253A.7010602@gmail.com>	<011B05AB-E5AF-459F-A93D-1BA84D024592@syenar.hu>	<4ACB86C2.8060705@gmail.com>
	<72759E0A-F5FB-4563-ABD1-E9CBAF3DF0CC@syenar.hu>
Message-ID: <4ACBB96D.9020709@gmail.com>

Viktor Szak?ts wrote:

> Good news. mingw is actually included now starting with 2.0 beta releases.
> 
> Please start with beta 3, as this is the closed to current state,
> even if it's not "official" release.

Ok.

> Great, feel free to tell us any problems you run into.

Thanks, I'll do.


Regards,

Roberto.

From harbour.01 at syenar.hu  Tue Oct  6 18:23:43 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Oct  6 18:23:54 2009
Subject: [Harbour] win64 results
In-Reply-To: <20091006131336.GA31761@uran.home.aster.pl>
References: <5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>
	<20091005153653.GA30432@uran.home.aster.pl>
	<3491BD91-02FE-4A65-8AC3-6823799BCD22@syenar.hu>
	<20091005211448.GA3974@uran.home.aster.pl>
	<4203E918-B833-47A1-9194-1E68FF21D428@syenar.hu>
	<20091006005354.GA32526@uran.home.aster.pl>
	<7411C954-12BB-4E8B-BE62-6A35F480CE4C@syenar.hu>
	<6D2C099A-94D5-499C-A572-F33EFDB38D9C@syenar.hu>
	<20091006092210.GA18485@uran.home.aster.pl>
	<97A4E2E1-60ED-4FCA-A5F4-EB0CE2A1399B@syenar.hu>
	<20091006131336.GA31761@uran.home.aster.pl>
Message-ID: <C398B714-8049-422D-A87E-E3F2771ABF68@syenar.hu>

Hi Przemek,

On 2009 Oct 6, at 15:13, Przemyslaw Czerpak wrote:

> On Tue, 06 Oct 2009, Szak?ts Viktor wrote:
>> I know this. I need to clarify, by "messed up" I don't
>> mean the scrollbars and whatnot when using such big
>> buffer. Instead I mean that the displayed (by Harbour
>> app) _screen content_ is wrong. It looks like as if
>> (ctwin) windowing gets confused about current window,
>> so it's painting to the wrong one and returning size of
>> the wrong one. But I'll make some real tests later,
>> could be my app code.
>
> It's possible that there is sth wrong in CTWIN though it should
> work correctly - at least I do not see any problems looking at
> the code.
> If you have some additional extensions then please check if you
> do not have some places which may cause coordinates casting to BYTE
> or which may calculate screen offset or index in screen buffer using
> [U]SHORT value.
> Try to reduce number of rows to 255 and check if it helps.
> Few years ago I made some tests with very large screen buffers in
> MS-Windows console and I've found some bugs in MS-Windows console
> code so it's possible that the problem is caused by exploiting them.

Some more results, this time using GTWVT, as it seems the
problem isn't GTWIN specific, so:

1) SetMode( 80, 255 ) // works as expected

2) SetMode( 80, 256 ) // works with display artifact (will check it  
further to eliminate local cause)
                          The artifact is slightly different in Win32  
and Win64 mode.
                          In Win32 only current window is messed up,  
while in Win64 mode
                          some additional problems are visible, like  
mentioned wrapped menu
                          on screen.

3) SetMode( 80, 257 ) // not accepted by GTWVT, resulting in default  
80, 25 dimensions. Both in Win32 and Win64.
                          (notice however that it would use such  
bigger resolutions if it is
                          the system default, this may of course only  
happen with GTWIN)

4) SetMode( 250, 80 ) // will result in a "no window" situation, where  
the app works, but there is
                          no visible screen. Experienced with GTWVT.

Case 3) may be wrong, at least I see no reason why Harbour
should limit dimensions this way. It's of course possible
that this is the threshold value where window couldn't fit
on screen anymore and 256 vs. 257 is just a coincidence.

In case 2) the "desktop" (CTWIN) window creation will fail and
return -1, and my app isn't ready to handle that, causing
mentioned "mess". Traces pointed to these lines in ctwin.c:

#define HB_CTWIN_MAXROWS      255
#define HB_CTWIN_MAXCOLS      255

Which artificially limits max window size.
Removing the size validation in window creation code fixes
all artifacts experienced in 2). Shall I commit it?

In case 3) it's again an artificial limit controlled by
#define WVT_MAX_ROWS          256
#define WVT_MAX_COLS          256
Do we need this, or should we raise this limit?

This leaves 4) on the TOFIX list.

Brgds,
Viktor

From druzus at users.sourceforge.net  Tue Oct  6 18:28:26 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Oct  6 18:28:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12660] trunk/harbour
Message-ID: <E1MvIWA-00039z-K1@d5vjzd1.ch3.sourceforge.com>

Revision: 12660
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12660&view=rev
Author:   druzus
Date:     2009-10-06 22:28:23 +0000 (Tue, 06 Oct 2009)

Log Message:
-----------
2009-10-07 00:27 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/Makefile
  + harbour/source/rtl/hbascii.c
  * harbour/include/hbextern.ch
    + added new .prg functions which operates on pure ASCII strings:
      hb_asciiUpper(), hb_asciiLower(), hb_asciiIsAlpha(),
      hb_asciiIsUpper(), hb_asciiIsLower(), hb_asciiIsDigit()

  * harbour/source/rtl/objfunc.prg
  * harbour/source/rtl/tget.prg
  * harbour/source/rtl/treport.prg
  * harbour/source/rtl/tpersist.prg
  * harbour/source/rtl/memoedit.prg
  * harbour/source/rtl/menuto.prg
  * harbour/source/rtl/tgetlist.prg
  * harbour/source/rtl/tclass.prg
    ! use hb_asciiUpper() instead of Upper() to convert identifiers
      and pictures

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbextern.ch
    trunk/harbour/source/rtl/Makefile
    trunk/harbour/source/rtl/memoedit.prg
    trunk/harbour/source/rtl/menuto.prg
    trunk/harbour/source/rtl/objfunc.prg
    trunk/harbour/source/rtl/tclass.prg
    trunk/harbour/source/rtl/tget.prg
    trunk/harbour/source/rtl/tgetlist.prg
    trunk/harbour/source/rtl/tpersist.prg
    trunk/harbour/source/rtl/treport.prg

Added Paths:
-----------
    trunk/harbour/source/rtl/hbascii.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Oct  6 19:17:48 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Oct  6 19:17:55 2009
Subject: [Harbour] win64 results
In-Reply-To: <C398B714-8049-422D-A87E-E3F2771ABF68@syenar.hu>
References: <3491BD91-02FE-4A65-8AC3-6823799BCD22@syenar.hu>
	<20091005211448.GA3974@uran.home.aster.pl>
	<4203E918-B833-47A1-9194-1E68FF21D428@syenar.hu>
	<20091006005354.GA32526@uran.home.aster.pl>
	<7411C954-12BB-4E8B-BE62-6A35F480CE4C@syenar.hu>
	<6D2C099A-94D5-499C-A572-F33EFDB38D9C@syenar.hu>
	<20091006092210.GA18485@uran.home.aster.pl>
	<97A4E2E1-60ED-4FCA-A5F4-EB0CE2A1399B@syenar.hu>
	<20091006131336.GA31761@uran.home.aster.pl>
	<C398B714-8049-422D-A87E-E3F2771ABF68@syenar.hu>
Message-ID: <20091006231748.GA3063@uran.home.aster.pl>

On Wed, 07 Oct 2009, Szak?ts Viktor wrote:
> Some more results, this time using GTWVT, as it seems the
> problem isn't GTWIN specific, so:
> 1) SetMode( 80, 255 ) // works as expected
> 2) SetMode( 80, 256 ) // works with display artifact (will check it further 
> to eliminate local cause)
>                          The artifact is slightly different in Win32 and 
> Win64 mode.
>                          In Win32 only current window is messed up, while 
> in Win64 mode
>                          some additional problems are visible, like 
> mentioned wrapped menu
>                          on screen.
> 3) SetMode( 80, 257 ) // not accepted by GTWVT, resulting in default 80, 25 
> dimensions. Both in Win32 and Win64.
>                          (notice however that it would use such bigger 
> resolutions if it is
>                          the system default, this may of course only happen 
> with GTWIN)

GTWVT is limited at compile time to:
   #define WVT_MAX_ROWS          256
   #define WVT_MAX_COLS          256

It's historical limit in very old xHarbour code which can be removed
from current code.

> 4) SetMode( 250, 80 ) // will result in a "no window" situation, where the 
> app works, but there is
>                          no visible screen. Experienced with GTWVT.

I guess it's side effect of code which tries to allocate font which
fits given dimensions. The original code was working in different way.
BTW There is no support for automatic scroll bars in GTWVT and I think
it will be nice to add it.

> Case 3) may be wrong, at least I see no reason why Harbour
> should limit dimensions this way. It's of course possible
> that this is the threshold value where window couldn't fit
> on screen anymore and 256 vs. 257 is just a coincidence.

This limit was taken arbitrary by Peter and it was the size of screen
buffer in very old GTWVT implementation. When I was rewriting GT core
code I removed this limit from GTWVT and I left only #define for
backward compatibility. You can safely remove them but please only
remember to add dynamically allocate in RESIZE() method TCHAR[cols]
string and use in hb_gt_wvt_PaintText() function instes of text[].
BTW there is typo: 'text[ WVT_MAX_ROWS ]' instead of
    'text[ WVT_MAX_COLS ]' though without bad side effects because
    both defines are equal.

> In case 2) the "desktop" (CTWIN) window creation will fail and
> return -1, and my app isn't ready to handle that, causing
> mentioned "mess". Traces pointed to these lines in ctwin.c:
> #define HB_CTWIN_MAXROWS      255
> #define HB_CTWIN_MAXCOLS      255

It's only for strict CT3 compatibility.

> Which artificially limits max window size.
> Removing the size validation in window creation code fixes
> all artifacts experienced in 2). Shall I commit it?

The only bad side effect will be internal error (out of memory)
if user tries to create very huge window.

> In case 3) it's again an artificial limit controlled by
> #define WVT_MAX_ROWS          256
> #define WVT_MAX_COLS          256
> Do we need this, or should we raise this limit?

This can be eliminated. If we fix the code for automatic font
resizing then limitation by screen dimensions should begin to
work just like in old GTWVT code.
We can introduce minimal font size (i.e. 4x2 or 6x3) to resolve
the problem.

> This leaves 4) on the TOFIX list.

You can disable the code for font resizing by:
   HB_GTINFO( HB_GTI_RESIZEMODE, HB_GTI_RESIZEMODE_ROWS )
and it should resolve the problem. I have no idea what is expected
behavior for:
   SetMode( 250, 250 )
when HB_GTI_RESIZEMODE_FONT is set. We have few possible choices, i.e.:
   1. chose default window dimensions: 25x80
   2. resize rows and cols like in HB_GTI_RESIZEMODE_ROWS
   3. refuse to create window (SETMODE()->FALSE).
Users using HB_GTI_RESIZEMODE_FONT should chose sth what they prefer.

best regards,
Przemek
From jarabal at gmail.com  Tue Oct  6 20:03:19 2009
From: jarabal at gmail.com (Xavi)
Date: Tue Oct  6 20:05:36 2009
Subject: [Harbour] SF bug tracker#2873146: Lang ES850c not fully compatible
	with clipper
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <4ACBDAC7.80304@gmail.com>

> I have aleatory corrupted indexes that include and UPPER,

Remember Clipper documentation .-
"
    Note: Changing the collation sequence in an application with
          existing indexes will cause index corruption. You should
          rebuild all indexes before the application is used.
...
    By using the //INFO command line switch with your application, you
    can determine what National Language Drivers have been linked into
    your application. For example,

      C:\> MYAPP //INFO
"

Different *versions* of National Language Drivers can not update the same index.
If you need to update an existing index, IMO .-
"
> cpinfo.prg code to show more precise information
> which should help in replicating exact Clipper behavior.
" (thanks for this)

to customize the/your Harbour codepage C file.

-- 
Xavi

Chen Kedem escribi?:
> I forward this from the SF bug tracker
> http://sourceforge.net/tracker/?func=detail&atid=100681&aid=2873146&group_id=681
> 
> Maurizio  Faccio (maufacc) wrote:
> -----------------------------------------------------------------
> I have aleatory corrupted indexes that include and UPPER,
> I've found that some accented letters are not converted identically in clipper and harbour 2.0beta1.
> Here I send you the results of a test program that I have run in clipper and harbour.
> Here are the ascii conversions of clipper an harbour, and their UPPER and lower caracters.
> -----------------------------------------------------------------
> 
> The original message contain a list of characters, but I'm almost sure my mail program
> is going to mess the output, so look at the link if you need that info.
> 
> I don't have access to the repository now, so I don't know if current
> SVN gives better results.
> 
> 
>    Chen.






From ssbbstw at pchome.com.tw  Tue Oct  6 22:40:42 2009
From: ssbbstw at pchome.com.tw (WenSheng)
Date: Tue Oct  6 22:40:57 2009
Subject: [Harbour] UPPER error iwith some CP-s
In-Reply-To: <20091006191333.GA17827@uran.home.aster.pl>
References: <091122A9-5AA0-41B7-A78B-EDE7B6698446@syenar.hu>
	<20091006191333.GA17827@uran.home.aster.pl>
Message-ID: <20091007104038.2935.84A669A0@mail.zzz.com.tw>


Hi!!

  Do you have to think about 'TransForm()' ?
This is difficult function!!

> 
> Fine though if we plan to add also other ASCII oriented functions
> for LOWER, ISALPHA, ISUPPER, ISLOWER, ISDIGIT operations then IMO
> using hb_ascii*() prefix will be better to keep names aligned.
> Just like now we have set of hb_utf8*() functions:
>    HB_UTF8CHR(), HB_UTF8LEN(), HB_UTF8LEFT(), HB_UTF8RIGHT(),
>    HB_UTF8STUFF(), HB_UTF8SUBSTR(), HB_UTF8STRTRAN(),
>    HB_UTF8PEEK(), HB_UTF8POKE(), HB_UTF8TOSTR()
> 

From roberbox at gmail.com  Tue Oct  6 23:31:22 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Tue Oct  6 23:31:28 2009
Subject: [Harbour] Harbour 2.0 changes...
In-Reply-To: <72759E0A-F5FB-4563-ABD1-E9CBAF3DF0CC@syenar.hu>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>	<20091005123019.GA27470@uran.home.aster.pl>	<C8CA0BB7-8D01-4EC0-A8E7-D8E5C620271B@syenar.hu>	<20091005131640.GA2634@uran.home.aster.pl>	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>	<20091005153653.GA30432@uran.home.aster.pl>	<0677120A-C125-4B16-819D-36F44BC0B82F@syenar.hu>	<4ACA253A.7010602@gmail.com>	<011B05AB-E5AF-459F-A93D-1BA84D024592@syenar.hu>	<4ACB86C2.8060705@gmail.com>
	<72759E0A-F5FB-4563-ABD1-E9CBAF3DF0CC@syenar.hu>
Message-ID: <4ACC0B8A.3040707@gmail.com>


Viktor:

I'm trying to compile HMG code (working on Harbour 1.0) with 2.0 and I'm 
  getting lot of errors on 'hb_storni' 'hb_stornl' and hb_parc.

I've searched the changelog for changes on these functions, but I've not 
found any help on that there.

The error message is 'too many arguments'.

TIA.

Regards,

Roberto.
From cvc at oohg.org  Tue Oct  6 23:43:05 2009
From: cvc at oohg.org (Ciro Vargas C)
Date: Tue Oct  6 23:43:14 2009
Subject: [Harbour] Harbour 2.0 changes...
In-Reply-To: <4ACC0B8A.3040707@gmail.com>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>
	<20091005131640.GA2634@uran.home.aster.pl>
	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>
	<20091005153653.GA30432@uran.home.aster.pl>
	<0677120A-C125-4B16-819D-36F44BC0B82F@syenar.hu>
	<4ACA253A.7010602@gmail.com>
	<011B05AB-E5AF-459F-A93D-1BA84D024592@syenar.hu>
	<4ACB86C2.8060705@gmail.com>
	<72759E0A-F5FB-4563-ABD1-E9CBAF3DF0CC@syenar.hu>
	<4ACC0B8A.3040707@gmail.com>
Message-ID: <d6500b450910062043l4150303g9224b91eb3e1e782@mail.gmail.com>

Roberto I can help you

I write in private.

best regards
Ciro


2009/10/6 Roberto Lopez <roberbox@gmail.com>:
>
> Viktor:
>
> I'm trying to compile HMG code (working on Harbour 1.0) with 2.0 and I'm
> ?getting lot of errors on 'hb_storni' 'hb_stornl' and hb_parc.
>
> I've searched the changelog for changes on these functions, but I've not
> found any help on that there.
>
> The error message is 'too many arguments'.
>
> TIA.
>
> Regards,
>
> Roberto.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
http://www.oohg.prg
http://sistemascvc.tripod.com

donaciones para CVC de ooHG

https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
From roberbox at gmail.com  Wed Oct  7 00:07:03 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Wed Oct  7 00:07:11 2009
Subject: [Harbour] Harbour 2.0 changes...
In-Reply-To: <d6500b450910062043l4150303g9224b91eb3e1e782@mail.gmail.com>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>	<20091005131640.GA2634@uran.home.aster.pl>	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>	<20091005153653.GA30432@uran.home.aster.pl>	<0677120A-C125-4B16-819D-36F44BC0B82F@syenar.hu>	<4ACA253A.7010602@gmail.com>	<011B05AB-E5AF-459F-A93D-1BA84D024592@syenar.hu>	<4ACB86C2.8060705@gmail.com>	<72759E0A-F5FB-4563-ABD1-E9CBAF3DF0CC@syenar.hu>	<4ACC0B8A.3040707@gmail.com>
	<d6500b450910062043l4150303g9224b91eb3e1e782@mail.gmail.com>
Message-ID: <4ACC13E7.8030307@gmail.com>

Ciro Vargas C escribi?:
> Roberto I can help you
> 
> I write in private.
> 

Ok.

Regards,

Roberto.
From vszakats at users.sourceforge.net  Wed Oct  7 01:37:23 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Oct  7 01:37:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12661] trunk/harbour
Message-ID: <E1MvPDH-0000Vd-Mz@d5vjzd1.ch3.sourceforge.com>

Revision: 12661
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12661&view=rev
Author:   vszakats
Date:     2009-10-07 05:37:22 +0000 (Wed, 07 Oct 2009)

Log Message:
-----------
2009-10-07 07:36 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbct/ctwin.c
    + Added HB_C52_STRICT guard around artificial windows 
      size limits. Please review me.
      HB_C52_STRICT macros should be renamed to HB_CLP_STRICT 
      to reflect usage of recent years, where it's also used 
      to cover 5.3 strictness f.e..

  * source/rtl/gtwvt/gtwvt.c
    ! Minor formatting.
    ! Fixed to use WVT_MAX_COLS instead of WVT_MAX_ROWS in one 
      place.

  * source/codepage/Makefile
  + source/codepage/cpeliso.c
  + source/codepage/cptriso.c
    + Added two new codepage modules.
      Patch submitted by Istvan Bisz.

  * include/hbextcdp.ch
    + Added above codepages to codepage list.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/ctwin.c
    trunk/harbour/include/hbextcdp.ch
    trunk/harbour/source/codepage/Makefile
    trunk/harbour/source/rtl/gtwvt/gtwvt.c

Added Paths:
-----------
    trunk/harbour/source/codepage/cpeliso.c
    trunk/harbour/source/codepage/cptriso.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Oct  7 01:44:07 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct  7 01:44:16 2009
Subject: [Harbour] win64 results
In-Reply-To: <20091006231748.GA3063@uran.home.aster.pl>
References: <3491BD91-02FE-4A65-8AC3-6823799BCD22@syenar.hu>
	<20091005211448.GA3974@uran.home.aster.pl>
	<4203E918-B833-47A1-9194-1E68FF21D428@syenar.hu>
	<20091006005354.GA32526@uran.home.aster.pl>
	<7411C954-12BB-4E8B-BE62-6A35F480CE4C@syenar.hu>
	<6D2C099A-94D5-499C-A572-F33EFDB38D9C@syenar.hu>
	<20091006092210.GA18485@uran.home.aster.pl>
	<97A4E2E1-60ED-4FCA-A5F4-EB0CE2A1399B@syenar.hu>
	<20091006131336.GA31761@uran.home.aster.pl>
	<C398B714-8049-422D-A87E-E3F2771ABF68@syenar.hu>
	<20091006231748.GA3063@uran.home.aster.pl>
Message-ID: <EC1CB187-8D46-49FD-8392-80FD24957713@syenar.hu>

Hi Przemek,

>> with GTWIN)
>
> GTWVT is limited at compile time to:
>   #define WVT_MAX_ROWS          256
>   #define WVT_MAX_COLS          256
>
> It's historical limit in very old xHarbour code which can be removed
> from current code.
>
>> 4) SetMode( 250, 80 ) // will result in a "no window" situation,  
>> where the
>> app works, but there is
>>                         no visible screen. Experienced with GTWVT.
>
> I guess it's side effect of code which tries to allocate font which
> fits given dimensions. The original code was working in different way.
> BTW There is no support for automatic scroll bars in GTWVT and I think
> it will be nice to add it.

Indeed, especially for WinCE users, on desktop
I expect it to be used rather rarely, although it
may also be useful f.e. when connecting to a remote
GT with higher resolutions.

>> Case 3) may be wrong, at least I see no reason why Harbour
>> should limit dimensions this way. It's of course possible
>> that this is the threshold value where window couldn't fit
>> on screen anymore and 256 vs. 257 is just a coincidence.
>
> This limit was taken arbitrary by Peter and it was the size of screen
> buffer in very old GTWVT implementation. When I was rewriting GT core
> code I removed this limit from GTWVT and I left only #define for
> backward compatibility. You can safely remove them but please only
> remember to add dynamically allocate in RESIZE() method TCHAR[cols]
> string and use in hb_gt_wvt_PaintText() function instes of text[].
> BTW there is typo: 'text[ WVT_MAX_ROWS ]' instead of
>    'text[ WVT_MAX_COLS ]' though without bad side effects because
>    both defines are equal.

If possible, I'd like to ask to make this modification,
as I'm almost sure my solution wouldn't be good enough.

BTW, GTXWC also has the same artificial limit.

>> In case 2) the "desktop" (CTWIN) window creation will fail and
>> return -1, and my app isn't ready to handle that, causing
>> mentioned "mess". Traces pointed to these lines in ctwin.c:
>> #define HB_CTWIN_MAXROWS      255
>> #define HB_CTWIN_MAXCOLS      255
>
> It's only for strict CT3 compatibility.

I've added a strict guard there.

>> Which artificially limits max window size.
>> Removing the size validation in window creation code fixes
>> all artifacts experienced in 2). Shall I commit it?
>
> The only bad side effect will be internal error (out of memory)
> if user tries to create very huge window.

Perhaps other guards could be added to avoid that,
but otherwise this is expected behavior.

>> In case 3) it's again an artificial limit controlled by
>> #define WVT_MAX_ROWS          256
>> #define WVT_MAX_COLS          256
>> Do we need this, or should we raise this limit?
>
> This can be eliminated. If we fix the code for automatic font
> resizing then limitation by screen dimensions should begin to
> work just like in old GTWVT code.
> We can introduce minimal font size (i.e. 4x2 or 6x3) to resolve
> the problem.

Such thing would be nice.

>> This leaves 4) on the TOFIX list.
>
> You can disable the code for font resizing by:
>   HB_GTINFO( HB_GTI_RESIZEMODE, HB_GTI_RESIZEMODE_ROWS )
> and it should resolve the problem. I have no idea what is expected
> behavior for:
>   SetMode( 250, 250 )
> when HB_GTI_RESIZEMODE_FONT is set. We have few possible choices,  
> i.e.:
>   1. chose default window dimensions: 25x80
>   2. resize rows and cols like in HB_GTI_RESIZEMODE_ROWS
>   3. refuse to create window (SETMODE()->FALSE).
> Users using HB_GTI_RESIZEMODE_FONT should chose sth what they prefer.

I'd vote for 3. (and 1. as the second choice)

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Oct  7 02:12:05 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Oct  7 02:12:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12662] trunk/harbour
Message-ID: <E1MvPkr-0000zw-2H@d5vjzd1.ch3.sourceforge.com>

Revision: 12662
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12662&view=rev
Author:   vszakats
Date:     2009-10-07 06:12:03 +0000 (Wed, 07 Oct 2009)

Log Message:
-----------
2009-10-07 08:09 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
  * config/detect.mk
    + Added support for optional user.mk file (requires GNU Make 
      syntax) in Harbour source tree root to store user-specific 
      build settings. In general all documented settings from 
      INSTALL can be used here, but most probably you'll only 
      want to store portable settings (like HB_CONTRIBLIBS). 
      Usually you'll want to use 
        'export HB_BUILD_* := <value>' syntax to specify them.
      user.mk should not rely on any internal variables set 
      by our GNU Make system (like HB_PLATFORM), as they are 
      set later on the process thus not available at this 
      point.
      Please note that this is yet an experience and details 
      or even presence of the feature may change in the future, 
      we should see how useful it turns out to be.
    * Changed conf.mk support, so that the file got renamed 
      to config.mk and moved to source tree root (next to user.mk).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/detect.mk
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Oct  7 02:21:58 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Oct  7 02:22:05 2009
Subject: [Harbour] UPPER error iwith some CP-s
In-Reply-To: <20091007104038.2935.84A669A0@mail.zzz.com.tw>
References: <091122A9-5AA0-41B7-A78B-EDE7B6698446@syenar.hu>
	<20091006191333.GA17827@uran.home.aster.pl>
	<20091007104038.2935.84A669A0@mail.zzz.com.tw>
Message-ID: <20091007062158.GA3841@uran.home.aster.pl>

On Wed, 07 Oct 2009, WenSheng wrote:

Hi,

>   Do you have to think about 'TransForm()' ?

No, we do not use it in any context which needs to force pure
ASCII processing.

best regards,
Przemek
From druzus at users.sourceforge.net  Wed Oct  7 03:11:29 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Oct  7 03:11:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12663] trunk/harbour
Message-ID: <E1MvQgL-000314-FL@bj8yhf1.ch3.sourceforge.com>

Revision: 12663
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12663&view=rev
Author:   druzus
Date:     2009-10-07 07:11:28 +0000 (Wed, 07 Oct 2009)

Log Message:
-----------
2009-10-07 09:11 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/gtwvt/gtwvt.h
  * harbour/source/rtl/gtwvt/gtwvt.c
    * use dynamic line buffers - now WVT_MAX_{ROW,COL} macros can be
      simply removed

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/gtwvt/gtwvt.c
    trunk/harbour/source/rtl/gtwvt/gtwvt.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Wed Oct  7 03:30:42 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Oct  7 03:30:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12662] trunk/harbour
In-Reply-To: <E1MvPkr-0000zw-2H@d5vjzd1.ch3.sourceforge.com>
References: <E1MvPkr-0000zw-2H@d5vjzd1.ch3.sourceforge.com>
Message-ID: <9257026e0910070030r70daa4d7pa71f48820a90221c@mail.gmail.com>

On Wed, Oct 7, 2009 at 8:12 AM,  <vszakats@users.sourceforge.net> wrote:

> -----------
> ? ?+ Added support for optional user.mk file (requires GNU Make
> ? ? ?syntax) in Harbour source tree root to store user-specific
> ? ? ?build settings. In general all documented settings from
> ? ? ?INSTALL can be used here, but most probably you'll only
> ? ? ?want to store portable settings (like HB_CONTRIBLIBS).

Many thanks.

best regards,
Lorenzo
From mbelgrano at deltain.it  Wed Oct  7 03:42:31 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Oct  7 03:42:57 2009
Subject: [Harbour] win64 results
In-Reply-To: <20091006231748.GA3063@uran.home.aster.pl>
References: <3491BD91-02FE-4A65-8AC3-6823799BCD22@syenar.hu> 
	<4203E918-B833-47A1-9194-1E68FF21D428@syenar.hu>
	<20091006005354.GA32526@uran.home.aster.pl> 
	<7411C954-12BB-4E8B-BE62-6A35F480CE4C@syenar.hu>
	<6D2C099A-94D5-499C-A572-F33EFDB38D9C@syenar.hu> 
	<20091006092210.GA18485@uran.home.aster.pl>
	<97A4E2E1-60ED-4FCA-A5F4-EB0CE2A1399B@syenar.hu> 
	<20091006131336.GA31761@uran.home.aster.pl>
	<C398B714-8049-422D-A87E-E3F2771ABF68@syenar.hu> 
	<20091006231748.GA3063@uran.home.aster.pl>
Message-ID: <609353e70910070042r81c25d7s7b2f3cb8b8107940@mail.gmail.com>

2009/10/7 Przemyslaw Czerpak <druzus@acn.waw.pl>:
>> 4) SetMode( 250, 80 ) // will result in a "no window" situation, where the
>> app works, but there is
>> ? ? ? ? ? ? ? ? ? ? ? ? ?no visible screen. Experienced with GTWVT.
>
> I guess it's side effect of code which tries to allocate font which
> fits given dimensions. The original code was working in different way.
> BTW There is no support for automatic scroll bars in GTWVT and I think
> it will be nice to add it.
+1



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Wed Oct  7 03:46:28 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Oct  7 03:46:55 2009
Subject: [Harbour] Harbour 2.0 changes...
In-Reply-To: <4ACC0B8A.3040707@gmail.com>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu> 
	<20091005131640.GA2634@uran.home.aster.pl>
	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu> 
	<20091005153653.GA30432@uran.home.aster.pl>
	<0677120A-C125-4B16-819D-36F44BC0B82F@syenar.hu> 
	<4ACA253A.7010602@gmail.com>
	<011B05AB-E5AF-459F-A93D-1BA84D024592@syenar.hu> 
	<4ACB86C2.8060705@gmail.com>
	<72759E0A-F5FB-4563-ABD1-E9CBAF3DF0CC@syenar.hu> 
	<4ACC0B8A.3040707@gmail.com>
Message-ID: <609353e70910070046l38c54780i4685a6debed191dd@mail.gmail.com>

for a prev post of Viktor
--------------------------------------
Please note my addition to the entry (to be found in ChangeLog file):

   ; NOTE: INCOMPATIBLE. You'll need to modify hb_par*()/hb_stor*()
           instances where they are used with extra parameter to
           hb_parv*()/hb_storv*(). [vszakats]

While you can change *all* calls, that makes your app prone
to all problems which this patch is meant to solve, so I can
just recommend to change names *only* for calls which use
_the extra array index parameter_. Leave the rest as is for best
results.

2009/10/7 Roberto Lopez <roberbox@gmail.com>:
>
> Viktor:
>
> I'm trying to compile HMG code (working on Harbour 1.0) with 2.0 and I'm
> ?getting lot of errors on 'hb_storni' 'hb_stornl' and hb_parc.
>
> I've searched the changelog for changes on these functions, but I've not
> found any help on that there.
>
> The error message is 'too many arguments'.
>
> TIA.
>
> Regards,
>
> Roberto.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From vszakats at users.sourceforge.net  Wed Oct  7 03:58:24 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Oct  7 03:58:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12664] trunk/harbour
Message-ID: <E1MvRPk-0002eU-9r@3kljzd1.ch3.sourceforge.com>

Revision: 12664
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12664&view=rev
Author:   vszakats
Date:     2009-10-07 07:58:23 +0000 (Wed, 07 Oct 2009)

Log Message:
-----------
2009-10-07 09:58 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/rtl/gtwvt/gtwvt.h
  * source/rtl/gtwvt/gtwvt.c
    - Deleted artificial screen dimension limits and WVT_MAX_{ROW,COL} macros.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/gtwvt/gtwvt.c
    trunk/harbour/source/rtl/gtwvt/gtwvt.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Oct  7 03:59:11 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct  7 03:59:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12663] trunk/harbour
In-Reply-To: <E1MvQgL-000314-FL@bj8yhf1.ch3.sourceforge.com>
References: <E1MvQgL-000314-FL@bj8yhf1.ch3.sourceforge.com>
Message-ID: <D18F0414-FEA4-46E0-863C-5F24A42CED10@syenar.hu>

Thank you very much.

Brgds,
Viktor

On 2009 Oct 7, at 09:11, druzus@users.sourceforge.net wrote:

> Revision: 12663
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12663&view=rev
> Author:   druzus
> Date:     2009-10-07 07:11:28 +0000 (Wed, 07 Oct 2009)
>
> Log Message:
> -----------
> 2009-10-07 09:11 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/source/rtl/gtwvt/gtwvt.h
>  * harbour/source/rtl/gtwvt/gtwvt.c
>    * use dynamic line buffers - now WVT_MAX_{ROW,COL} macros can be
>      simply removed
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/source/rtl/gtwvt/gtwvt.c
>    trunk/harbour/source/rtl/gtwvt/gtwvt.h
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From niki at synel.co.il  Wed Oct  7 03:59:56 2009
From: niki at synel.co.il (Chen Kedem)
Date: Wed Oct  7 04:00:06 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c not fully
 compatible with clipper
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>

Xavi,

> Different *versions* of National Language Drivers can not update the same index.

I know.

But the whole idea of Harbour' codepage ES850C was to supply a driver that is
Clipper compatible (this is the "C" in the codepage name) to allow such mutual
updates.

And now we found out that it is not (at least for the Clipper version that me and
the reporting user have).

I made my testing with 5.2e, users with 5.3 (or other version ) should repeat these
tests so we could see if we can find a match, and then document it to work with
only that version, or just fix it to match the results I made with 5.2e

It is best that a user who uses the Spanish locales will do these tests to verify the
results.


  Chen.
From vszakats at users.sourceforge.net  Wed Oct  7 04:48:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Oct  7 04:48:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12665] trunk/harbour
Message-ID: <E1MvSBr-0004a8-2d@bj8yhf1.ch3.sourceforge.com>

Revision: 12665
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12665&view=rev
Author:   vszakats
Date:     2009-10-07 08:48:05 +0000 (Wed, 07 Oct 2009)

Log Message:
-----------
2009-10-07 10:47 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
  * config/global.mk
    * Adapting to mingw64 distro change, where they've fixed 
      toolchain prefix of 32-bit builds.
      (to i686-w64-mingw32- from x64_64-w64-mingw32-)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Oct  7 05:18:34 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Oct  7 05:18:42 2009
Subject: [Harbour] win64 results
In-Reply-To: <EC1CB187-8D46-49FD-8392-80FD24957713@syenar.hu>
References: <4203E918-B833-47A1-9194-1E68FF21D428@syenar.hu>
	<20091006005354.GA32526@uran.home.aster.pl>
	<7411C954-12BB-4E8B-BE62-6A35F480CE4C@syenar.hu>
	<6D2C099A-94D5-499C-A572-F33EFDB38D9C@syenar.hu>
	<20091006092210.GA18485@uran.home.aster.pl>
	<97A4E2E1-60ED-4FCA-A5F4-EB0CE2A1399B@syenar.hu>
	<20091006131336.GA31761@uran.home.aster.pl>
	<C398B714-8049-422D-A87E-E3F2771ABF68@syenar.hu>
	<20091006231748.GA3063@uran.home.aster.pl>
	<EC1CB187-8D46-49FD-8392-80FD24957713@syenar.hu>
Message-ID: <20091007091834.GA6214@uran.home.aster.pl>

On Wed, 07 Oct 2009, Szak?ts Viktor wrote:

Hi,

> Indeed, especially for WinCE users, on desktop
> I expect it to be used rather rarely, although it
> may also be useful f.e. when connecting to a remote
> GT with higher resolutions.

Yes but it's also usable if user creates many console windows
using them just like CTWIN and wants to scroll some of them
automatically.

> BTW, GTXWC also has the same artificial limit.

Yes though it has a little bit different meaning in GTXWC
because maximal and minimal console window size and resize
factor is send to XServer so it's process out of Harbour
application on the client side.
Anyhow I can remove this limits too.

>> You can disable the code for font resizing by:
>>   HB_GTINFO( HB_GTI_RESIZEMODE, HB_GTI_RESIZEMODE_ROWS )
>> and it should resolve the problem. I have no idea what is expected
>> behavior for:
>>   SetMode( 250, 250 )
>> when HB_GTI_RESIZEMODE_FONT is set. We have few possible choices, i.e.:
>>   1. chose default window dimensions: 25x80
>>   2. resize rows and cols like in HB_GTI_RESIZEMODE_ROWS
>>   3. refuse to create window (SETMODE()->FALSE).
>> Users using HB_GTI_RESIZEMODE_FONT should chose sth what they prefer.
> I'd vote for 3. (and 1. as the second choice)

In fact we already have 3 but the problem is when application starts
and default or user settings creates too big for screen size.
I'll commit small modification in a while which will check if startup
(default or user) parameters are do not exceed screen dimension and
if yes then they will be reduced to the screen size.

BTW set mode does not automatically change the font size. Maybe it will
    be good to add such functionality but please remember that we have
    problem here with priority of object to update: window size or font
    size so I think it's important to first define expected behavior
    (algorithm) and document it and later update the code so anyone
    working on GTWVT will know expected behavior and can keep it adding
    own modifications. And of course it should be possible to disable it
    because not always our algorithm with its arbitrary decisions will
    follow user preferences.

best regards,
Przemek
From druzus at users.sourceforge.net  Wed Oct  7 05:24:15 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Oct  7 05:24:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12666] trunk/harbour
Message-ID: <E1MvSkp-0005Cv-Ae@bj8yhf1.ch3.sourceforge.com>

Revision: 12666
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12666&view=rev
Author:   druzus
Date:     2009-10-07 09:24:14 +0000 (Wed, 07 Oct 2009)

Log Message:
-----------
2009-10-07 11:23 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/gtwvt/gtwvt.c
    * check if startup (default or user (SetMode())) console window dimensions
      do not exceed screen size and if yes then reduce the initial number of
      console window rows and cols to the screen size also in
      HB_GTI_RESIZEMODE_FONT mode.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/gtwvt/gtwvt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Oct  7 05:27:37 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct  7 05:27:47 2009
Subject: [Harbour] win64 results
In-Reply-To: <20091007091834.GA6214@uran.home.aster.pl>
References: <4203E918-B833-47A1-9194-1E68FF21D428@syenar.hu>
	<20091006005354.GA32526@uran.home.aster.pl>
	<7411C954-12BB-4E8B-BE62-6A35F480CE4C@syenar.hu>
	<6D2C099A-94D5-499C-A572-F33EFDB38D9C@syenar.hu>
	<20091006092210.GA18485@uran.home.aster.pl>
	<97A4E2E1-60ED-4FCA-A5F4-EB0CE2A1399B@syenar.hu>
	<20091006131336.GA31761@uran.home.aster.pl>
	<C398B714-8049-422D-A87E-E3F2771ABF68@syenar.hu>
	<20091006231748.GA3063@uran.home.aster.pl>
	<EC1CB187-8D46-49FD-8392-80FD24957713@syenar.hu>
	<20091007091834.GA6214@uran.home.aster.pl>
Message-ID: <15BD12A9-EE02-4761-A13B-1331963C2D40@syenar.hu>

>> BTW, GTXWC also has the same artificial limit.
>
> Yes though it has a little bit different meaning in GTXWC
> because maximal and minimal console window size and resize
> factor is send to XServer so it's process out of Harbour
> application on the client side.
> Anyhow I can remove this limits too.

I trust your judgment, can't really oversee the consequences,
from an app developer POV, it would be nice to have similar
(artificial) limits in all GTs.

>>> You can disable the code for font resizing by:
>>>  HB_GTINFO( HB_GTI_RESIZEMODE, HB_GTI_RESIZEMODE_ROWS )
>>> and it should resolve the problem. I have no idea what is expected
>>> behavior for:
>>>  SetMode( 250, 250 )
>>> when HB_GTI_RESIZEMODE_FONT is set. We have few possible choices,  
>>> i.e.:
>>>  1. chose default window dimensions: 25x80
>>>  2. resize rows and cols like in HB_GTI_RESIZEMODE_ROWS
>>>  3. refuse to create window (SETMODE()->FALSE).
>>> Users using HB_GTI_RESIZEMODE_FONT should chose sth what they  
>>> prefer.
>> I'd vote for 3. (and 1. as the second choice)
>
> In fact we already have 3 but the problem is when application starts
> and default or user settings creates too big for screen size.
> I'll commit small modification in a while which will check if startup
> (default or user) parameters are do not exceed screen dimension and
> if yes then they will be reduced to the screen size.
>
> BTW set mode does not automatically change the font size. Maybe it  
> will
>    be good to add such functionality but please remember that we have
>    problem here with priority of object to update: window size or font
>    size so I think it's important to first define expected behavior
>    (algorithm) and document it and later update the code so anyone
>    working on GTWVT will know expected behavior and can keep it adding
>    own modifications. And of course it should be possible to disable  
> it
>    because not always our algorithm with its arbitrary decisions will
>    follow user preferences.

SetMode() works for me (with GTWVT) on app startup to resize font
to make the requested (by cmdline) dimensions fit on the screen.
[ My app will later switch to dim resize mode to behave the same
regardless of GT, and this also seemed more convenient for users,
but of course one's milage may vary. ]

Thanks in advance for anything you can do to make it better, since
it still doesn't look perfect yet.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Oct  7 05:35:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Oct  7 05:35:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12667] trunk/harbour
Message-ID: <E1MvSvq-0003mI-Mc@d5vjzd1.ch3.sourceforge.com>

Revision: 12667
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12667&view=rev
Author:   vszakats
Date:     2009-10-07 09:35:33 +0000 (Wed, 07 Oct 2009)

Log Message:
-----------

2009-10-07 11:22 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * tests/transtst.prg
  * doc/pp.txt
  * doc/en-EN/string.txt
  * doc/en-EN/terminal.txt
  * doc/en-EN/dbstrux.txt
  * include/hbpp.h
  * include/std.ch
  * include/hbclass.ch
  * include/hbsetup.ch
  * include/hbdefs.h
  * include/dbedit.ch
  * include/hbapigt.h
  * include/hbextern.ch
  * include/hbexprb.c
  * ChangeLog
  * source/pp/ppcore.c
  * source/vm/macro.c
  * source/vm/hvm.c
  * source/vm/cmdarg.c
  * source/vm/arrays.c
  * source/vm/proc.c
  * source/vm/memvars.c
  * source/vm/arrayshb.c
  * source/vm/memvclip.c
  * source/common/hbverdsp.c
  * source/common/hbstr.c
  * source/common/hbdate.c
  * source/rtl/setposbs.c
  * source/rtl/round.c
  * source/rtl/oldbox.c
  * source/rtl/trim.c
  * source/rtl/tpopup.prg
  * source/rtl/einstvau.prg
  * source/rtl/setta.prg
  * source/rtl/transfrm.c
  * source/rtl/browse.prg
  * source/rtl/tget.prg
  * source/rtl/setfunc.prg
  * source/rtl/achoice.prg
  * source/rtl/strzero.c
  * source/rtl/natmsgu.c
  * source/rtl/strtran.c
  * source/rtl/errapiu.c
  * source/rtl/einstvar.prg
  * source/rtl/dbedit.prg
  * source/rtl/einstv52.prg
  * source/rtl/console.c
  * source/rtl/mousehb.c
  * source/rtl/chrasc.c
  * source/rtl/dircmd.prg
  * source/rtl/oldclear.c
  * source/rtl/hbgtcore.c
  * source/rtl/dirdrive.c
  * source/rtl/mlcfunc.c
  * source/rtl/datesx.c
  * source/rtl/accept.c
  * source/rtl/defpathu.c
  * source/rtl/tgetlist.prg
  * source/rtl/input.prg
  * source/rtl/alert.prg
  * source/rtl/tmenuitm.prg
  * source/rtl/shadowu.c
  * source/rtl/tbrowse.prg
  * source/rdd/dbfntx/dbfntx1.c
  * source/rdd/dbdelim.prg
  * source/rdd/rddordu.prg
  * source/rdd/workarea.c
  * source/rdd/dbnubs.c
  * source/rdd/rddinfo.c
  * source/rdd/dbstruxu.prg
  * source/rdd/sdf1.c
  * source/rdd/dbfnsx/dbfnsx1.c
  * source/rdd/dbcmd.c
  * source/rdd/dbfcdx/dbfcdx1.c
  * source/rdd/dbdrop.c
  * source/rdd/delim1.c
  * source/rdd/dbf1.c
  * source/rdd/dbrename.c
  * source/rdd/dbexists.c
  * source/rdd/fieldhb.c
  * contrib/hbct/ctwin.c
  * contrib/hbct/cursor.c
  * contrib/xhb/xhbver.prg
  * contrib/xhb/xhbtrim.c
  * utils/hbtest/rt_main.ch
  * utils/hbtest/rt_trans.prg
  * utils/hbtest/rt_misc.prg
  * utils/hbtest/rt_stra.prg
  * utils/hbtest/rt_array.prg
  * examples/hbdoc/examples/core_es/dbstrux.txt
  *  examples/hbdoc2/hbdoc2.prg
    * HB_C52_STRICT -> HB_CLP_STRICT
      We use it cover strict Clipper compatibility in general, not 
      just for C5.2.
    * HB_C52_UNDOC -> HB_CLP_UNDOC
      We use it cover Clipper undocumented stuff in general, not 
      just C5.2 version specific ones.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/ctwin.c
    trunk/harbour/contrib/hbct/cursor.c
    trunk/harbour/contrib/xhb/xhbtrim.c
    trunk/harbour/contrib/xhb/xhbver.prg
    trunk/harbour/doc/en-EN/dbstrux.txt
    trunk/harbour/doc/en-EN/string.txt
    trunk/harbour/doc/en-EN/terminal.txt
    trunk/harbour/doc/pp.txt
    trunk/harbour/examples/hbdoc/examples/core_es/dbstrux.txt
    trunk/harbour/examples/hbdoc2/hbdoc2.prg
    trunk/harbour/include/dbedit.ch
    trunk/harbour/include/hbapigt.h
    trunk/harbour/include/hbclass.ch
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbexprb.c
    trunk/harbour/include/hbextern.ch
    trunk/harbour/include/hbpp.h
    trunk/harbour/include/hbsetup.ch
    trunk/harbour/include/std.ch
    trunk/harbour/source/common/hbdate.c
    trunk/harbour/source/common/hbstr.c
    trunk/harbour/source/common/hbverdsp.c
    trunk/harbour/source/pp/ppcore.c
    trunk/harbour/source/rdd/dbcmd.c
    trunk/harbour/source/rdd/dbdelim.prg
    trunk/harbour/source/rdd/dbdrop.c
    trunk/harbour/source/rdd/dbexists.c
    trunk/harbour/source/rdd/dbf1.c
    trunk/harbour/source/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/source/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/source/rdd/dbfntx/dbfntx1.c
    trunk/harbour/source/rdd/dbnubs.c
    trunk/harbour/source/rdd/dbrename.c
    trunk/harbour/source/rdd/dbstruxu.prg
    trunk/harbour/source/rdd/delim1.c
    trunk/harbour/source/rdd/fieldhb.c
    trunk/harbour/source/rdd/rddinfo.c
    trunk/harbour/source/rdd/rddordu.prg
    trunk/harbour/source/rdd/sdf1.c
    trunk/harbour/source/rdd/workarea.c
    trunk/harbour/source/rtl/accept.c
    trunk/harbour/source/rtl/achoice.prg
    trunk/harbour/source/rtl/alert.prg
    trunk/harbour/source/rtl/browse.prg
    trunk/harbour/source/rtl/chrasc.c
    trunk/harbour/source/rtl/console.c
    trunk/harbour/source/rtl/datesx.c
    trunk/harbour/source/rtl/dbedit.prg
    trunk/harbour/source/rtl/defpathu.c
    trunk/harbour/source/rtl/dircmd.prg
    trunk/harbour/source/rtl/dirdrive.c
    trunk/harbour/source/rtl/einstv52.prg
    trunk/harbour/source/rtl/einstvar.prg
    trunk/harbour/source/rtl/einstvau.prg
    trunk/harbour/source/rtl/errapiu.c
    trunk/harbour/source/rtl/hbgtcore.c
    trunk/harbour/source/rtl/input.prg
    trunk/harbour/source/rtl/mlcfunc.c
    trunk/harbour/source/rtl/mousehb.c
    trunk/harbour/source/rtl/natmsgu.c
    trunk/harbour/source/rtl/oldbox.c
    trunk/harbour/source/rtl/oldclear.c
    trunk/harbour/source/rtl/round.c
    trunk/harbour/source/rtl/setfunc.prg
    trunk/harbour/source/rtl/setposbs.c
    trunk/harbour/source/rtl/setta.prg
    trunk/harbour/source/rtl/shadowu.c
    trunk/harbour/source/rtl/strtran.c
    trunk/harbour/source/rtl/strzero.c
    trunk/harbour/source/rtl/tbrowse.prg
    trunk/harbour/source/rtl/tget.prg
    trunk/harbour/source/rtl/tgetlist.prg
    trunk/harbour/source/rtl/tmenuitm.prg
    trunk/harbour/source/rtl/tpopup.prg
    trunk/harbour/source/rtl/transfrm.c
    trunk/harbour/source/rtl/trim.c
    trunk/harbour/source/vm/arrays.c
    trunk/harbour/source/vm/arrayshb.c
    trunk/harbour/source/vm/cmdarg.c
    trunk/harbour/source/vm/hvm.c
    trunk/harbour/source/vm/macro.c
    trunk/harbour/source/vm/memvars.c
    trunk/harbour/source/vm/memvclip.c
    trunk/harbour/source/vm/proc.c
    trunk/harbour/tests/transtst.prg
    trunk/harbour/utils/hbtest/rt_array.prg
    trunk/harbour/utils/hbtest/rt_main.ch
    trunk/harbour/utils/hbtest/rt_misc.prg
    trunk/harbour/utils/hbtest/rt_stra.prg
    trunk/harbour/utils/hbtest/rt_trans.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Wed Oct  7 05:42:38 2009
From: Istvan.Bisz at t-online.hu (=?UTF-8?Q?Bisz_Istv=C3=A1n?=)
Date: Wed Oct  7 05:42:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12660] trunk/harbour
In-Reply-To: <E1MvIWA-00039z-K1@d5vjzd1.ch3.sourceforge.com>
References: <E1MvIWA-00039z-K1@d5vjzd1.ch3.sourceforge.com>
Message-ID: <000301ca4732$82014a60$8603df20$@Bisz@t-online.hu>

Thank you Przemek!
After rebuilding harbour and small adaptations in my project the mentioned issues are fixed.

Best regards,
Istv?n 

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of druzus@users.sourceforge.net
Sent: 2009. okt?ber 7. 0:28
To: harbour@harbour-project.org
Subject: [Harbour] SF.net SVN: harbour-project:[12660] trunk/harbour

Revision: 12660
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12660&view=rev
Author:   druzus
Date:     2009-10-06 22:28:23 +0000 (Tue, 06 Oct 2009)

Log Message:
-----------
2009-10-07 00:27 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/Makefile
  + harbour/source/rtl/hbascii.c
  * harbour/include/hbextern.ch
    + added new .prg functions which operates on pure ASCII strings:
      hb_asciiUpper(), hb_asciiLower(), hb_asciiIsAlpha(),
      hb_asciiIsUpper(), hb_asciiIsLower(), hb_asciiIsDigit()

  * harbour/source/rtl/objfunc.prg
  * harbour/source/rtl/tget.prg
  * harbour/source/rtl/treport.prg
  * harbour/source/rtl/tpersist.prg
  * harbour/source/rtl/memoedit.prg
  * harbour/source/rtl/menuto.prg
  * harbour/source/rtl/tgetlist.prg
  * harbour/source/rtl/tclass.prg
    ! use hb_asciiUpper() instead of Upper() to convert identifiers
      and pictures

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbextern.ch
    trunk/harbour/source/rtl/Makefile
    trunk/harbour/source/rtl/memoedit.prg
    trunk/harbour/source/rtl/menuto.prg
    trunk/harbour/source/rtl/objfunc.prg
    trunk/harbour/source/rtl/tclass.prg
    trunk/harbour/source/rtl/tget.prg
    trunk/harbour/source/rtl/tgetlist.prg
    trunk/harbour/source/rtl/tpersist.prg
    trunk/harbour/source/rtl/treport.prg

Added Paths:
-----------
    trunk/harbour/source/rtl/hbascii.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From jarabal at gmail.com  Wed Oct  7 07:02:50 2009
From: jarabal at gmail.com (Xavi)
Date: Wed Oct  7 07:05:09 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c not fully
	compatible with clipper
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <4ACC755A.2080209@gmail.com>

Chen,

> But the whole idea of Harbour' codepage ES850C was to supply a driver that is
> Clipper compatible (this is the "C" in the codepage name) to allow such mutual
> updates.
	
Maybe for don't have cpinfo.
Only by changing one version, the collation sequence is different .-

10/06/09 17:45:02 DOS 5.00 Clipper (R) 5.2d Intl. (x215)  (1994.03.25)
Character encoding: NTXSORT v1.21e x15 24/Jun/93
==================================================
character '?' (151:A L ) is the same as upper and lower
number of upper and lower characters is different
Warning: irregular CP which needs special definition in Harbour
upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
lower: "a bcde?fghi?jklmn?o?pqrstu?vwxy?z???"
==================================================

and may use any version of National Language Drivers .-

10/06/09 17:43:55 DOS 5.00 Clipper (R) 5.01
Character encoding: NATSORT v1.2i x14 19/Mar/93
==================================================
simple byte sorting !!!
character '?' (151:A   ) not defined as upper or lower
number of upper and lower characters is different
letters are not sorted continuously
Warning: irregular CP which needs special definition in Harbour
upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ??????"
lower: "abcdefghijklmnopqrstuvwxyz????? ???"
==================================================

Not mention of MDXSORT.
To allow such mutual updates we need a codepage for each.
What is the solution, change ES850C to a single specify version?

-- 
Xavi

From harbour.01 at syenar.hu  Wed Oct  7 07:08:06 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct  7 07:08:15 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c not fully
	compatible with clipper
In-Reply-To: <4ACC755A.2080209@gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>
	<4ACC755A.2080209@gmail.com>
Message-ID: <2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>

Hi Xavi,

Our reference compiler version is 5.2e. Results
for older versions/revisions don't matter for Harbour.

Since we also support 5.3b, we may also try to
replicate it as an extra (if possible to solve
in a reasonable way), so such tests are also
useful to see.

Brgds,
Viktor

On 2009 Oct 7, at 13:02, Xavi wrote:

> Chen,
>
>> But the whole idea of Harbour' codepage ES850C was to supply a  
>> driver that is
>> Clipper compatible (this is the "C" in the codepage name) to allow  
>> such mutual
>> updates.
> 	
> Maybe for don't have cpinfo.
> Only by changing one version, the collation sequence is different .-
>
> 10/06/09 17:45:02 DOS 5.00 Clipper (R) 5.2d Intl. (x215)  (1994.03.25)
> Character encoding: NTXSORT v1.21e x15 24/Jun/93
> ==================================================
> character '?' (151:A L ) is the same as upper and lower
> number of upper and lower characters is different
> Warning: irregular CP which needs special definition in Harbour
> upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
> lower: "a bcde?fghi?jklmn?o?pqrstu?vwxy?z???"
> ==================================================
>
> and may use any version of National Language Drivers .-
>
> 10/06/09 17:43:55 DOS 5.00 Clipper (R) 5.01
> Character encoding: NATSORT v1.2i x14 19/Mar/93
> ==================================================
> simple byte sorting !!!
> character '?' (151:A   ) not defined as upper or lower
> number of upper and lower characters is different
> letters are not sorted continuously
> Warning: irregular CP which needs special definition in Harbour
> upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ??????"
> lower: "abcdefghijklmnopqrstuvwxyz????? ???"
> ==================================================
>
> Not mention of MDXSORT.
> To allow such mutual updates we need a codepage for each.
> What is the solution, change ES850C to a single specify version?
>
> -- 
> Xavi
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Wed Oct  7 07:12:08 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Oct  7 07:12:14 2009
Subject: [Harbour] win64 results
In-Reply-To: <15BD12A9-EE02-4761-A13B-1331963C2D40@syenar.hu>
References: <7411C954-12BB-4E8B-BE62-6A35F480CE4C@syenar.hu>
	<6D2C099A-94D5-499C-A572-F33EFDB38D9C@syenar.hu>
	<20091006092210.GA18485@uran.home.aster.pl>
	<97A4E2E1-60ED-4FCA-A5F4-EB0CE2A1399B@syenar.hu>
	<20091006131336.GA31761@uran.home.aster.pl>
	<C398B714-8049-422D-A87E-E3F2771ABF68@syenar.hu>
	<20091006231748.GA3063@uran.home.aster.pl>
	<EC1CB187-8D46-49FD-8392-80FD24957713@syenar.hu>
	<20091007091834.GA6214@uran.home.aster.pl>
	<15BD12A9-EE02-4761-A13B-1331963C2D40@syenar.hu>
Message-ID: <20091007111208.GA32327@uran.home.aster.pl>

On Wed, 07 Oct 2009, Szak?ts Viktor wrote:
>> BTW set mode does not automatically change the font size. Maybe it will
>>    be good to add such functionality but please remember that we have
>>    problem here with priority of object to update: window size or font
>>    size so I think it's important to first define expected behavior
>>    (algorithm) and document it and later update the code so anyone
>>    working on GTWVT will know expected behavior and can keep it adding
>>    own modifications. And of course it should be possible to disable it
>>    because not always our algorithm with its arbitrary decisions will
>>    follow user preferences.
> SetMode() works for me (with GTWVT) on app startup to resize font
> to make the requested (by cmdline) dimensions fit on the screen.

Yes but only on startup and only when it's possible to find font
small enough for whole console window. If it's not possible to find
such font then current GTWVT uses default font (not the smallest
available one and reduces number of rows and/or columns.
If try to use SetMode() to resize existing console window then given
dimensions are validated using current font size not the smallest
available so SetMode() returns .F. is current font is too big without
trying to find smaller one. See SETMODE() method in GTWVT. We can add
such automatic default font size decreasing but without precise algorithm
which can increase font size when SetMode() is used to reduce number
of rows and columns it will be only one way feature.

best regards,
Przemek
From jarabal at gmail.com  Wed Oct  7 07:35:00 2009
From: jarabal at gmail.com (Xavi)
Date: Wed Oct  7 07:37:19 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c not
	fully	compatible with clipper
In-Reply-To: <2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>
	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>
Message-ID: <4ACC7CE4.30700@gmail.com>

Viktor,

I would like to remark that we refer to a specific version of the driver, not of the compiler, in order to allow such mutual
updates.

-- 
Xavi

Viktor Szakts escribi:
> Hi Xavi,
> 
> Our reference compiler version is 5.2e. Results
> for older versions/revisions don't matter for Harbour.
> 
> Since we also support 5.3b, we may also try to
> replicate it as an extra (if possible to solve
> in a reasonable way), so such tests are also
> useful to see.
> 
> Brgds,
> Viktor
> 
> On 2009 Oct 7, at 13:02, Xavi wrote:
> 
>> Chen,
>>
>>> But the whole idea of Harbour' codepage ES850C was to supply a driver 
>>> that is
>>> Clipper compatible (this is the "C" in the codepage name) to allow 
>>> such mutual
>>> updates.
>>     
>> Maybe for don't have cpinfo.
>> Only by changing one version, the collation sequence is different .-
>>
>> 10/06/09 17:45:02 DOS 5.00 Clipper (R) 5.2d Intl. (x215)  (1994.03.25)
>> Character encoding: NTXSORT v1.21e x15 24/Jun/93
>> ==================================================
>> character '' (151:A L ) is the same as upper and lower
>> number of upper and lower characters is different
>> Warning: irregular CP which needs special definition in Harbour
>> upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
>> lower: "a bcdefghijklmnopqrstuvwxyz"
>> ==================================================
>>
>> and may use any version of National Language Drivers .-
>>
>> 10/06/09 17:43:55 DOS 5.00 Clipper (R) 5.01
>> Character encoding: NATSORT v1.2i x14 19/Mar/93
>> ==================================================
>> simple byte sorting !!!
>> character '' (151:A   ) not defined as upper or lower
>> number of upper and lower characters is different
>> letters are not sorted continuously
>> Warning: irregular CP which needs special definition in Harbour
>> upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
>> lower: "abcdefghijklmnopqrstuvwxyz "
>> ==================================================
>>
>> Not mention of MDXSORT.
>> To allow such mutual updates we need a codepage for each.
>> What is the solution, change ES850C to a single specify version?
>>
>> -- 
>> Xavi
>>



From dmacias at mail.udg.mx  Wed Oct  7 07:40:40 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Oct  7 07:41:04 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12648] trunk/harbour
Message-ID: <4ACC7E38.9000505@mail.udg.mx>

Viktor:

 >Thanks David, I'll commit it. Please make sure to test it, as copying
 >code from e-mail body is quite error prone due to required manual
 >reformat.

 >2009-10-06 18:57 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
 >  * config/os2/gcc.mk
 >    % Deleted OS/2 make bug workarounds from OMF specific code.
 >      Submitted by David Arturo Macias Corona.
 >      Please test/review.

It is working fine


 >Any takers to remove OS/2 watcom hacks?

I tested it before but I was waiting until os2gcc-OMF stabilization
Now we are at third stage

There are two watcom "hacks", for LD_RULE and AR_RULE
Both workarounds were added by Przemek to solve OS/2-Watcom Harbour 
build (end of July 2009, "Harbour under OS/2 - eCS")

Second one (AR_RULE) are solved removing entire section in 
config\common\watcom.mk
-----------------
ifeq ($(HB_SHELL),os2)
[...]
endif
-----------------


After it we have two pendings:

a) First OS/2 workaround: LD_RULE using comma, LDFILES_COMMA, LDLIBS_COMMA
This are now as "general way" in config\common\watcom.mk
For OS/2 LD_RULE can be used in two ways:
  a.1) Using general way
  a.2) Using original way based on:
      define link_file
      define link_lib
      define link_exe_file
    either in OS/2 section in common\watcom.mk or os2\watcom.mk
  Both ways work fine

Should be general way mantained as common one for Owatcom ?

b) Drop config\common\watcom.mk
This file mainly contain code for OS/2 and DOS
Removing both "hacks" for OS/2 then it will serve to DOS only which can 
be readded to config\dos\watcom.mk

Rest of settings can be readded to original compiler\watcom.mk files

so config\common\watcom.mk can be removed and watcom will return to 
plain structure as gcc have

David Macias


From harbour.01 at syenar.hu  Wed Oct  7 07:46:17 2009
From: harbour.01 at syenar.hu (=?windows-1252?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct  7 07:46:28 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c not
	fully	compatible with clipper
In-Reply-To: <4ACC7CE4.30700@gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>
	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>
	<4ACC7CE4.30700@gmail.com>
Message-ID: <959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>

> I would like to remark that we refer to a specific version of the  
> driver, not of the compiler, in order to allow such mutual
> updates.

Okay I see.

Although in 5.2e I see two Spanish sorting modules:
MDXSPA 1.3e
NTXSPA 1.21e
With 5.3b, these two are shipped:
MDXSPA 1.3e
NTXSPA 1.31f

If they are different and we'd like to support all of them,
it may be a problem. In this case I'd pick one of them instead
of adding yet new versions. Anyhow even the current wrong one
  was never reported in 10 years as a bug, so I guess we are
also free to fix it or choose the *best* version.

The latest (and probably the best) is NTXSPA 1.31f (dated 1997).

Brgds,
Viktor

From dmacias at mail.udg.mx  Wed Oct  7 07:48:12 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Oct  7 07:48:42 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12648] trunk/harbour
Message-ID: <4ACC7FFC.803@mail.udg.mx>

Viktor:

 >Second one (AR_RULE) are solved removing entire section in
 >config\common\watcom.mk
 >-----------------
 >ifeq ($(HB_SHELL),os2)
 >[...]
 >endif
 >-----------------

Question:
Should we remove in source\pp\makefile this line too ?
  -@$(RM) hbpp$(OBJ_EXT)

David Macias


From harbour.01 at syenar.hu  Wed Oct  7 07:52:57 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct  7 07:53:11 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12648] trunk/harbour
In-Reply-To: <4ACC7E38.9000505@mail.udg.mx>
References: <4ACC7E38.9000505@mail.udg.mx>
Message-ID: <92BB1525-08FD-41EF-B1B1-6AA2DACBC2F7@syenar.hu>

> After it we have two pendings:
>
> a) First OS/2 workaround: LD_RULE using comma, LDFILES_COMMA,  
> LDLIBS_COMMA
> This are now as "general way" in config\common\watcom.mk

Yes, this one isn't OS/2, but general. I don't like it,
and maybe it should also be removed. I didn't want to do
it yet to avoid adding regression. It's a different issue,
so pls lets discuss it later.

> For OS/2 LD_RULE can be used in two ways:
> a.1) Using general way
> a.2) Using original way based on:
>     define link_file
>     define link_lib
>     define link_exe_file
>   either in OS/2 section in common\watcom.mk or os2\watcom.mk
> Both ways work fine

We must keep as much in general as possible. This
means everything besides dynlib creation. (maybe later
even that can be moved there, but this is different
issue)

> Should be general way mantained as common one for Owatcom ?
>
> b) Drop config\common\watcom.mk
> This file mainly contain code for OS/2 and DOS
> Removing both "hacks" for OS/2 then it will serve to DOS only which  
> can be readded to config\dos\watcom.mk

Should *not* be removed, it's used by all watcom platforms,
and this is how it's meant to be.

> Rest of settings can be readded to original compiler\watcom.mk files
>
> so config\common\watcom.mk can be removed and watcom will return to  
> plain structure as gcc have

No, only the OS/2 specific hacks should be removed from
config/common/watcom.mk.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Oct  7 08:03:17 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct  7 08:03:33 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12648] trunk/harbour
In-Reply-To: <4ACC7FFC.803@mail.udg.mx>
References: <4ACC7FFC.803@mail.udg.mx>
Message-ID: <7AB11852-91DD-4326-9712-B794CABBA9CB@syenar.hu>

Hi David,

On 2009 Oct 7, at 13:48, David Arturo Macias Corona wrote:

> Viktor:
>
> >Second one (AR_RULE) are solved removing entire section in
> >config\common\watcom.mk
> >-----------------
> >ifeq ($(HB_SHELL),os2)
> >[...]
> >endif
> >-----------------
>
> Question:
> Should we remove in source\pp\makefile this line too ?
> -@$(RM) hbpp$(OBJ_EXT)

Unfortunately not.

Few targets (os2/gcc, win/mingw) still need this hack in .dll
creation phase. We could remove it, if we added HB_DYN_COPT = - 
DHB_DYNLIB
to these targets, but this would make build process take much
longer due to extra C compilation pass. So it would be very
costly to remove this hack ATM.

Brgds,
Viktor

From dmacias at mail.udg.mx  Wed Oct  7 08:12:44 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Oct  7 08:12:59 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12648] trunk/harbour
Message-ID: <4ACC85BC.8080808@mail.udg.mx>

Viktor:

 >Yes, this one isn't OS/2, but general. I don't like it,
 >and maybe it should also be removed. I didn't want to do
 >it yet to avoid adding regression. It's a different issue,
 >so pls lets discuss it later.

 >> -@$(RM) hbpp$(OBJ_EXT)
 >Unfortunately not.

OK

So just we need to remove entire section in config\common\watcom.mk
-----------------
ifeq ($(HB_SHELL),os2)
[...]
endif
-----------------


David Macias



From maufacc at adinet.com.uy  Wed Oct  7 08:13:12 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Wed Oct  7 08:13:22 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c not
	fully	compatible with clipper
In-Reply-To: <2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>
	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>
Message-ID: <4ACC85D8.1080801@adinet.com.uy>

Hi

I've started the bug report.
//INFO report.
Clipper (R) 5.2d Intl. (Rev. 215) SPANISH - SPANISH DBFNTX Collation
CauseWay 386 DOS extender version 3.49 in use.
Active host is DPMI.
Virtual Memory Manager is not active.

I am using the clipper without using any NTX*.OBJ, the native Spanish 
version of clipper
I will run the CPINFO and send you the resultant txt
The test that I have made was:
- create a database with this structure without indexes.
ASCII N 3 0
CLICHAR C 1 0
CLIUPPER C 1 0
CLILOWER C 1 0
CLIUPNRO N 3 0
CLILONRO N 3 0
HRBCHAR C 1 0
HRBUPPER C 1 0
HRBLOWER C 1 0
HRBUPNRO N 3 0
HRBLONRO N 3 0

I fill the database with ascii 1 to 255
Then I've wrote two programs that write the char, upper, lower char, and 
the ascii number of each character, one in clipper and one in harbour.

while !eof()
FIELD->clichar:=CHR(nronro)
FIELD->cliupper:=UPPER(CHR(nronro))
FIELD->clilower:=LOWER(CHR(nronro))
FIELD->cliupnro:=ASC(UPPER(CHR(nronro)))
FIELD->clilonro:=ASC(LOWER(CHR(nronro)))
DBSKIP()
ENDDO


Then I filter wich clipper and harbour UPPER and LOWER generates 
different characters.


Thamk you



Viktor Szakts escribi:
> Hi Xavi,
>
> Our reference compiler version is 5.2e. Results
> for older versions/revisions don't matter for Harbour.
>
> Since we also support 5.3b, we may also try to
> replicate it as an extra (if possible to solve
> in a reasonable way), so such tests are also
> useful to see.
>
> Brgds,
> Viktor
>
> On 2009 Oct 7, at 13:02, Xavi wrote:
>
>> Chen,
>>
>>> But the whole idea of Harbour' codepage ES850C was to supply a 
>>> driver that is
>>> Clipper compatible (this is the "C" in the codepage name) to allow 
>>> such mutual
>>> updates.
>>
>> Maybe for don't have cpinfo.
>> Only by changing one version, the collation sequence is different .-
>>
>> 10/06/09 17:45:02 DOS 5.00 Clipper (R) 5.2d Intl. (x215) (1994.03.25)
>> Character encoding: NTXSORT v1.21e x15 24/Jun/93
>> ==================================================
>> character '' (151:A L ) is the same as upper and lower
>> number of upper and lower characters is different
>> Warning: irregular CP which needs special definition in Harbour
>> upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
>> lower: "a bcdefghijklmnopqrstuvwxyz"
>> ==================================================
>>
>> and may use any version of National Language Drivers .-
>>
>> 10/06/09 17:43:55 DOS 5.00 Clipper (R) 5.01
>> Character encoding: NATSORT v1.2i x14 19/Mar/93
>> ==================================================
>> simple byte sorting !!!
>> character '' (151:A ) not defined as upper or lower
>> number of upper and lower characters is different
>> letters are not sorted continuously
>> Warning: irregular CP which needs special definition in Harbour
>> upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
>> lower: "abcdefghijklmnopqrstuvwxyz "
>> ==================================================
>>
>> Not mention of MDXSORT.
>> To allow such mutual updates we need a codepage for each.
>> What is the solution, change ES850C to a single specify version?
>>
>> -- 
>> Xavi
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ES850C.DBF
Type: application/octet-stream
Size: 695 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091007/cb164acb/ES850C.obj
From harbour.01 at syenar.hu  Wed Oct  7 08:23:07 2009
From: harbour.01 at syenar.hu (=?windows-1252?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct  7 08:23:23 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c not
	fully	compatible with clipper
In-Reply-To: <4ACC85D8.1080801@adinet.com.uy>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>
	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>
	<4ACC85D8.1080801@adinet.com.uy>
Message-ID: <12CBB15E-63B8-494E-B529-50658A19034F@syenar.hu>

Hi Maurizio,

Could you report results using cpinfo and Clipper 5.2e (as opposed to  
'd')?

Brgds,
Viktor

On 2009 Oct 7, at 14:13, Maurizio Faccio adinet wrote:

> Hi
>
> I've started the bug report.
> //INFO report.
> Clipper (R) 5.2d Intl. (Rev. 215) SPANISH - SPANISH DBFNTX Collation
> CauseWay 386 DOS extender version 3.49 in use.
> Active host is DPMI.
> Virtual Memory Manager is not active.
>
> I am using the clipper without using any NTX*.OBJ, the native  
> Spanish version of clipper
> I will run the CPINFO and send you the resultant txt
> The test that I have made was:
> - create a database with this structure without indexes.
> ASCII N 3 0
> CLICHAR C 1 0
> CLIUPPER C 1 0
> CLILOWER C 1 0
> CLIUPNRO N 3 0
> CLILONRO N 3 0
> HRBCHAR C 1 0
> HRBUPPER C 1 0
> HRBLOWER C 1 0
> HRBUPNRO N 3 0
> HRBLONRO N 3 0
>
> I fill the database with ascii 1 to 255
> Then I've wrote two programs that write the char, upper, lower char,  
> and the ascii number of each character, one in clipper and one in  
> harbour.
>
> while !eof()
> FIELD->clichar:=CHR(nronro)
> FIELD->cliupper:=UPPER(CHR(nronro))
> FIELD->clilower:=LOWER(CHR(nronro))
> FIELD->cliupnro:=ASC(UPPER(CHR(nronro)))
> FIELD->clilonro:=ASC(LOWER(CHR(nronro)))
> DBSKIP()
> ENDDO
>
>
> Then I filter wich clipper and harbour UPPER and LOWER generates  
> different characters.
>
>
> Thamk you
>
>
>
> Viktor Szak?ts escribi?:
>> Hi Xavi,
>>
>> Our reference compiler version is 5.2e. Results
>> for older versions/revisions don't matter for Harbour.
>>
>> Since we also support 5.3b, we may also try to
>> replicate it as an extra (if possible to solve
>> in a reasonable way), so such tests are also
>> useful to see.
>>
>> Brgds,
>> Viktor
>>
>> On 2009 Oct 7, at 13:02, Xavi wrote:
>>
>>> Chen,
>>>
>>>> But the whole idea of Harbour' codepage ES850C was to supply a  
>>>> driver that is
>>>> Clipper compatible (this is the "C" in the codepage name) to  
>>>> allow such mutual
>>>> updates.
>>>
>>> Maybe for don't have cpinfo.
>>> Only by changing one version, the collation sequence is different .-
>>>
>>> 10/06/09 17:45:02 DOS 5.00 Clipper (R) 5.2d Intl. (x215)  
>>> (1994.03.25)
>>> Character encoding: NTXSORT v1.21e x15 24/Jun/93
>>> ==================================================
>>> character '?' (151:A L ) is the same as upper and lower
>>> number of upper and lower characters is different
>>> Warning: irregular CP which needs special definition in Harbour
>>> upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
>>> lower: "a bcde?fghi?jklmn?o?pqrstu?vwxy?z???"
>>> ==================================================
>>>
>>> and may use any version of National Language Drivers .-
>>>
>>> 10/06/09 17:43:55 DOS 5.00 Clipper (R) 5.01
>>> Character encoding: NATSORT v1.2i x14 19/Mar/93
>>> ==================================================
>>> simple byte sorting !!!
>>> character '?' (151:A ) not defined as upper or lower
>>> number of upper and lower characters is different
>>> letters are not sorted continuously
>>> Warning: irregular CP which needs special definition in Harbour
>>> upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ??????"
>>> lower: "abcdefghijklmnopqrstuvwxyz????? ???"
>>> ==================================================
>>>
>>> Not mention of MDXSORT.
>>> To allow such mutual updates we need a codepage for each.
>>> What is the solution, change ES850C to a single specify version?
>>>
>>> -- 
>>> Xavi
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
> <ES850C.DBF>_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Wed Oct  7 08:29:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Oct  7 08:29:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12668] trunk/harbour
Message-ID: <E1MvVdj-0006FH-KB@d5vjzd1.ch3.sourceforge.com>

Revision: 12668
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12668&view=rev
Author:   vszakats
Date:     2009-10-07 12:29:03 +0000 (Wed, 07 Oct 2009)

Log Message:
-----------
2009-10-07 14:27 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * package/winuni/RELNOTES
    + Note about upx update. (still no win64 support, but there are 
      some other goodies for OS X and Linux)

  * utils/hbmk2/hbmk2.prg
    + Enabled upx support on darwin. (You need to install it via 
      macports)

  * INSTALL
    + Added upx to macports install list for darwin.
    + Added few missing '$' prefixes from commands included in text.

  * config/common/watcom.mk
    - Deleted OS/2 make bug workaround.
      Thanks to David Arturo Macias Corona for instructions/tests.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/common/watcom.mk
    trunk/harbour/package/winuni/RELNOTES
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maufacc at adinet.com.uy  Wed Oct  7 08:36:49 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Wed Oct  7 08:36:57 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c
	not	fully	compatible with clipper
In-Reply-To: <959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>
	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>
Message-ID: <4ACC8B61.7000805@adinet.com.uy>

I have seen in forums reports about index corruption between clipper and 
harbour, and they always say that the trouble are locking differences 
between clipper and harbour.
This trouble, or simply using another codepage different from that  
clipper use (spanish users using harbour default). An corrupt the 
indexes if they use UPPER, etc.
I think that you must put more explicitly that situation in 
documentation despite they will not use harbour cause they thing they 
are not compatible to work together.

Thank you

Maurizio


Viktor Szak?ts escribi?:
>> I would like to remark that we refer to a specific version of the 
>> driver, not of the compiler, in order to allow such mutual
>> updates.
>
> Okay I see.
>
> Although in 5.2e I see two Spanish sorting modules:
> MDXSPA 1.3e
> NTXSPA 1.21e
> With 5.3b, these two are shipped:
> MDXSPA 1.3e
> NTXSPA 1.31f
>
> If they are different and we'd like to support all of them,
> it may be a problem. In this case I'd pick one of them instead
> of adding yet new versions. Anyhow even the current wrong one
>  was never reported in 10 years as a bug, so I guess we are
> also free to fix it or choose the *best* version.
>
> The latest (and probably the best) is NTXSPA 1.31f (dated 1997).
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
From maufacc at adinet.com.uy  Wed Oct  7 08:37:35 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Wed Oct  7 08:37:43 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c
	not	fully	compatible with clipper
Message-ID: <4ACC8B8F.3000809@adinet.com.uy>

Where do I obtain 5.2e.?


Viktor Szak?ts escribi?:
> Hi Maurizio,
>
> Could you report results using cpinfo and Clipper 5.2e (as opposed to 
> 'd')?
>
> Brgds,
> Viktor
>
> On 2009 Oct 7, at 14:13, Maurizio Faccio adinet wrote:
>
>> Hi
>>
>> I've started the bug report.
>> //INFO report.
>> Clipper (R) 5.2d Intl. (Rev. 215) SPANISH - SPANISH DBFNTX Collation
>> CauseWay 386 DOS extender version 3.49 in use.
>> Active host is DPMI.
>> Virtual Memory Manager is not active.
>>
>> I am using the clipper without using any NTX*.OBJ, the native Spanish 
>> version of clipper
>> I will run the CPINFO and send you the resultant txt
>> The test that I have made was:
>> - create a database with this structure without indexes.
>> ASCII N 3 0
>> CLICHAR C 1 0
>> CLIUPPER C 1 0
>> CLILOWER C 1 0
>> CLIUPNRO N 3 0
>> CLILONRO N 3 0
>> HRBCHAR C 1 0
>> HRBUPPER C 1 0
>> HRBLOWER C 1 0
>> HRBUPNRO N 3 0
>> HRBLONRO N 3 0
>>
>> I fill the database with ascii 1 to 255
>> Then I've wrote two programs that write the char, upper, lower char, 
>> and the ascii number of each character, one in clipper and one in 
>> harbour.
>>
>> while !eof()
>> FIELD->clichar:=CHR(nronro)
>> FIELD->cliupper:=UPPER(CHR(nronro))
>> FIELD->clilower:=LOWER(CHR(nronro))
>> FIELD->cliupnro:=ASC(UPPER(CHR(nronro)))
>> FIELD->clilonro:=ASC(LOWER(CHR(nronro)))
>> DBSKIP()
>> ENDDO
>>
>>
>> Then I filter wich clipper and harbour UPPER and LOWER generates 
>> different characters.
>>
>>
>> Thamk you
>>
>>
>>
>> Viktor Szak?ts escribi?:
>>> Hi Xavi,
>>>
>>> Our reference compiler version is 5.2e. Results
>>> for older versions/revisions don't matter for Harbour.
>>>
>>> Since we also support 5.3b, we may also try to
>>> replicate it as an extra (if possible to solve
>>> in a reasonable way), so such tests are also
>>> useful to see.
>>>
>>> Brgds,
>>> Viktor
>>>
>>> On 2009 Oct 7, at 13:02, Xavi wrote:
>>>
>>>> Chen,
>>>>
>>>>> But the whole idea of Harbour' codepage ES850C was to supply a 
>>>>> driver that is
>>>>> Clipper compatible (this is the "C" in the codepage name) to allow 
>>>>> such mutual
>>>>> updates.
>>>>
>>>> Maybe for don't have cpinfo.
>>>> Only by changing one version, the collation sequence is different .-
>>>>
>>>> 10/06/09 17:45:02 DOS 5.00 Clipper (R) 5.2d Intl. (x215) (1994.03.25)
>>>> Character encoding: NTXSORT v1.21e x15 24/Jun/93
>>>> ==================================================
>>>> character '?' (151:A L ) is the same as upper and lower
>>>> number of upper and lower characters is different
>>>> Warning: irregular CP which needs special definition in Harbour
>>>> upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
>>>> lower: "a bcde?fghi?jklmn?o?pqrstu?vwxy?z???"
>>>> ==================================================
>>>>
>>>> and may use any version of National Language Drivers .-
>>>>
>>>> 10/06/09 17:43:55 DOS 5.00 Clipper (R) 5.01
>>>> Character encoding: NATSORT v1.2i x14 19/Mar/93
>>>> ==================================================
>>>> simple byte sorting !!!
>>>> character '?' (151:A ) not defined as upper or lower
>>>> number of upper and lower characters is different
>>>> letters are not sorted continuously
>>>> Warning: irregular CP which needs special definition in Harbour
>>>> upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ??????"
>>>> lower: "abcdefghijklmnopqrstuvwxyz????? ???"
>>>> ==================================================
>>>>
>>>> Not mention of MDXSORT.
>>>> To allow such mutual updates we need a codepage for each.
>>>> What is the solution, change ES850C to a single specify version?
>>>>
>>>> -- 
>>>> Xavi
>>>>
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>>
>> <ES850C.DBF>_______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>

-- 
________________________
Ing. Maurizio Faccio
Merbe Ltda.
Av. Italia 2346. Paysand?, Uruguay
web: www.merbe.com.uy
Tel : 598-72-29043 Int. 130
Fax: 598-72-22591 
Cel: 598-99-007030



From harbour.01 at syenar.hu  Wed Oct  7 08:50:46 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct  7 08:50:56 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c
	not	fully	compatible with clipper
In-Reply-To: <4ACC8B8F.3000809@adinet.com.uy>
References: <4ACC8B8F.3000809@adinet.com.uy>
Message-ID: <A4E191BA-A665-49A3-8898-01781916B175@syenar.hu>

> Where do I obtain 5.2e.?

There were patches made available back then.

Maybe some Spanish-speaking users still have it.

Brgds,
Viktor

>
>
> Viktor Szak?ts escribi?:
>> Hi Maurizio,
>>
>> Could you report results using cpinfo and Clipper 5.2e (as opposed  
>> to 'd')?
>>
>> Brgds,
>> Viktor
>>
>> On 2009 Oct 7, at 14:13, Maurizio Faccio adinet wrote:
>>
>>> Hi
>>>
>>> I've started the bug report.
>>> //INFO report.
>>> Clipper (R) 5.2d Intl. (Rev. 215) SPANISH - SPANISH DBFNTX Collation
>>> CauseWay 386 DOS extender version 3.49 in use.
>>> Active host is DPMI.
>>> Virtual Memory Manager is not active.
>>>
>>> I am using the clipper without using any NTX*.OBJ, the native  
>>> Spanish version of clipper
>>> I will run the CPINFO and send you the resultant txt
>>> The test that I have made was:
>>> - create a database with this structure without indexes.
>>> ASCII N 3 0
>>> CLICHAR C 1 0
>>> CLIUPPER C 1 0
>>> CLILOWER C 1 0
>>> CLIUPNRO N 3 0
>>> CLILONRO N 3 0
>>> HRBCHAR C 1 0
>>> HRBUPPER C 1 0
>>> HRBLOWER C 1 0
>>> HRBUPNRO N 3 0
>>> HRBLONRO N 3 0
>>>
>>> I fill the database with ascii 1 to 255
>>> Then I've wrote two programs that write the char, upper, lower  
>>> char, and the ascii number of each character, one in clipper and  
>>> one in harbour.
>>>
>>> while !eof()
>>> FIELD->clichar:=CHR(nronro)
>>> FIELD->cliupper:=UPPER(CHR(nronro))
>>> FIELD->clilower:=LOWER(CHR(nronro))
>>> FIELD->cliupnro:=ASC(UPPER(CHR(nronro)))
>>> FIELD->clilonro:=ASC(LOWER(CHR(nronro)))
>>> DBSKIP()
>>> ENDDO
>>>
>>>
>>> Then I filter wich clipper and harbour UPPER and LOWER generates  
>>> different characters.
>>>
>>>
>>> Thamk you
>>>
>>>
>>>
>>> Viktor Szak?ts escribi?:
>>>> Hi Xavi,
>>>>
>>>> Our reference compiler version is 5.2e. Results
>>>> for older versions/revisions don't matter for Harbour.
>>>>
>>>> Since we also support 5.3b, we may also try to
>>>> replicate it as an extra (if possible to solve
>>>> in a reasonable way), so such tests are also
>>>> useful to see.
>>>>
>>>> Brgds,
>>>> Viktor
>>>>
>>>> On 2009 Oct 7, at 13:02, Xavi wrote:
>>>>
>>>>> Chen,
>>>>>
>>>>>> But the whole idea of Harbour' codepage ES850C was to supply a  
>>>>>> driver that is
>>>>>> Clipper compatible (this is the "C" in the codepage name) to  
>>>>>> allow such mutual
>>>>>> updates.
>>>>>
>>>>> Maybe for don't have cpinfo.
>>>>> Only by changing one version, the collation sequence is  
>>>>> different .-
>>>>>
>>>>> 10/06/09 17:45:02 DOS 5.00 Clipper (R) 5.2d Intl. (x215)  
>>>>> (1994.03.25)
>>>>> Character encoding: NTXSORT v1.21e x15 24/Jun/93
>>>>> ==================================================
>>>>> character '?' (151:A L ) is the same as upper and lower
>>>>> number of upper and lower characters is different
>>>>> Warning: irregular CP which needs special definition in Harbour
>>>>> upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
>>>>> lower: "a bcde?fghi?jklmn?o?pqrstu?vwxy?z???"
>>>>> ==================================================
>>>>>
>>>>> and may use any version of National Language Drivers .-
>>>>>
>>>>> 10/06/09 17:43:55 DOS 5.00 Clipper (R) 5.01
>>>>> Character encoding: NATSORT v1.2i x14 19/Mar/93
>>>>> ==================================================
>>>>> simple byte sorting !!!
>>>>> character '?' (151:A ) not defined as upper or lower
>>>>> number of upper and lower characters is different
>>>>> letters are not sorted continuously
>>>>> Warning: irregular CP which needs special definition in Harbour
>>>>> upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ??????"
>>>>> lower: "abcdefghijklmnopqrstuvwxyz????? ???"
>>>>> ==================================================
>>>>>
>>>>> Not mention of MDXSORT.
>>>>> To allow such mutual updates we need a codepage for each.
>>>>> What is the solution, change ES850C to a single specify version?
>>>>>
>>>>> -- 
>>>>> Xavi
>>>>>
>>>>> _______________________________________________
>>>>> Harbour mailing list
>>>>> Harbour@harbour-project.org
>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>>
>>> <ES850C.DBF>_______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
> -- 
> ________________________
> Ing. Maurizio Faccio
> Merbe Ltda.
> Av. Italia 2346. Paysand?, Uruguay
> web: www.merbe.com.uy
> Tel : 598-72-29043 Int. 130
> Fax: 598-72-22591 Cel: 598-99-007030
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From roberbox at gmail.com  Wed Oct  7 10:04:38 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Wed Oct  7 10:04:44 2009
Subject: [Harbour] Harbour 2.0 changes...
In-Reply-To: <609353e70910070046l38c54780i4685a6debed191dd@mail.gmail.com>
References: <23AF6C07-4659-4C10-A1A1-5F78D48B9770@syenar.hu>
	<20091005131640.GA2634@uran.home.aster.pl>	<5C2D0CAC-FB74-4AE4-B1A3-F81D005E024C@syenar.hu>
	<20091005153653.GA30432@uran.home.aster.pl>	<0677120A-C125-4B16-819D-36F44BC0B82F@syenar.hu>
	<4ACA253A.7010602@gmail.com>	<011B05AB-E5AF-459F-A93D-1BA84D024592@syenar.hu>
	<4ACB86C2.8060705@gmail.com>	<72759E0A-F5FB-4563-ABD1-E9CBAF3DF0CC@syenar.hu>
	<4ACC0B8A.3040707@gmail.com>
	<609353e70910070046l38c54780i4685a6debed191dd@mail.gmail.com>
Message-ID: <4ACC9FF6.3090300@gmail.com>

Massimo Belgrano wrote:
> for a prev post of Viktor
> --------------------------------------
> Please note my addition to the entry (to be found in ChangeLog file):
> 
>    ; NOTE: INCOMPATIBLE. You'll need to modify hb_par*()/hb_stor*()
>            instances where they are used with extra parameter to
>            hb_parv*()/hb_storv*(). [vszakats]

Thanks!

Regards,

Roberto.
From mhsabado at gmail.com  Wed Oct  7 10:34:49 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Wed Oct  7 10:35:03 2009
Subject: [Harbour] Program Loading Too Slow After 2009-10-07 14:27 UTC+0200
Message-ID: <4ACCA709.2090008@gmail.com>

Hi Przemek,

After above SVN, my program takes too long to startup (takes about ~20 
seconds from local).  I've encountered it with GTWVT and GTWIN using BCC 
6.20. 

Thanks,
Mario

From mhsabado at gmail.com  Wed Oct  7 10:43:25 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Wed Oct  7 10:43:39 2009
Subject: [Harbour] Re: Program Loading Too Slow After 2009-10-07 14:27
	UTC+0200
In-Reply-To: <4ACCA709.2090008@gmail.com>
References: <4ACCA709.2090008@gmail.com>
Message-ID: <4ACCA90D.1080206@gmail.com>


Mario H. Sabado wrote:
> Hi Przemek,
>
> After above SVN, my program takes too long to startup (takes about ~20 
> seconds from local).  I've encountered it with GTWVT and GTWIN using 
> BCC 6.20.
> Thanks,
> Mario
This happens when I'm trying to connect to HBNETIO server and the used 
IP can not be found in the network.


From vszakats at users.sourceforge.net  Wed Oct  7 12:32:29 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Oct  7 12:32:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12669] trunk/harbour
Message-ID: <E1MvZRF-0002Pv-2r@74yxhf1.ch3.sourceforge.com>

Revision: 12669
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12669&view=rev
Author:   vszakats
Date:     2009-10-07 16:32:27 +0000 (Wed, 07 Oct 2009)

Log Message:
-----------
2009-10-07 18:32 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Enabled upx support on all *nix system.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vobrdlik at centrum.cz  Wed Oct  7 15:16:10 2009
From: vobrdlik at centrum.cz (=?UTF-8?B?Vm9qdMSbY2ggT2JyZGzDrWs=?=)
Date: Wed Oct  7 15:16:17 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c	not,	fully
	compatible with clipper
Message-ID: <4ACCE8FA.6080800@centrum.cz>

Hi,

I've found that on Phil Barnett's marvelous old Clipper (TM) site - The 
Oasis -

is available patch Clipper 5.2e for both US and Intl. version.

url: http://www.the-oasis.net/ftpmaster.php3?content=ftp_ca.htm

Regards

Vojtech Obrdlik

 > Message: 1
 > Date: Wed, 7 Oct 2009 14:50:46 +0200
 > From: Viktor Szak?ts <harbour.01@syenar.hu>
 > Subject: Re: [Harbour] Re: SF bug tracker#2873146: Lang ES850c    not
 >     fully    compatible with clipper
 > To: "Harbour Project Main Developer List."
 >     <harbour@harbour-project.org>
 > Message-ID: <A4E191BA-A665-49A3-8898-01781916B175@syenar.hu>
 > Content-Type: text/plain; charset=utf-8; format=flowed; delsp=yes
 >
 >   
 >> Where do I obtain 5.2e.?
 >>     
 >
 > There were patches made available back then.
 >
 > Maybe some Spanish-speaking users still have it.
 >
 > Brgds,
 > Viktor

From jarabal at gmail.com  Wed Oct  7 15:23:06 2009
From: jarabal at gmail.com (Xavi)
Date: Wed Oct  7 15:25:25 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c
	not	fully	compatible with clipper
In-Reply-To: <959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>
	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>
Message-ID: <4ACCEA9A.7090508@gmail.com>

I've located a 5.3 and curiously when I run cpinfo with NTXSPA.OBJ date 26/6/95 5:30 .-

Clipper (R) 5.3 Intl. (Rev. 330) SPANISH - SPANISH DBFNTX Collation
DS=2BBD:0000  DS avail=46KB  OS avail=399KB  EMM avail=0KB

10/07/09 18:12:46 DOS 5.00 Clipper (R) 5.3 Intl.
Character encoding: NTXSORT v1.21e x15 24/Jun/93
==================================================
character '?' (151:A L ) is the same as upper and lower
number of upper and lower characters is different
Warning: irregular CP which needs special definition in Harbour
upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
lower: "a?bcde?fghi?jklmn?o?pqrstu?vwxy?z???"
==================================================
(Fixed heap=6KB/2)

Is the same that I've with 5.2 and 5.01 and the same that Maurizio.
Could someone post the different versions whit te last cpinfo.prg?

-- 
Xavi

From harbour.01 at syenar.hu  Wed Oct  7 15:50:16 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct  7 15:50:26 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c
	not	fully	compatible with clipper
In-Reply-To: <4ACCEA9A.7090508@gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>
	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>
	<4ACCEA9A.7090508@gmail.com>
Message-ID: <A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>

It would be good to see 5.3_b_, the last 5.3 version, released
two years after initial 5.3.

In Intl. version the NTXSORT module *was* updated between these
versions.

[ Strange, these SPANISH Clipper editions were never patched
to the latest patch level? ]

Brgds,
Viktor

On 2009 Oct 7, at 21:23, Xavi wrote:

> I've located a 5.3 and curiously when I run cpinfo with NTXSPA.OBJ  
> date 26/6/95 5:30 .-
>
> Clipper (R) 5.3 Intl. (Rev. 330) SPANISH - SPANISH DBFNTX Collation
> DS=2BBD:0000  DS avail=46KB  OS avail=399KB  EMM avail=0KB
>
> 10/07/09 18:12:46 DOS 5.00 Clipper (R) 5.3 Intl.
> Character encoding: NTXSORT v1.21e x15 24/Jun/93
> ==================================================
> character '?' (151:A L ) is the same as upper and lower
> number of upper and lower characters is different
> Warning: irregular CP which needs special definition in Harbour
> upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
> lower: "a?bcde?fghi?jklmn?o?pqrstu?vwxy?z???"
> ==================================================
> (Fixed heap=6KB/2)
>
> Is the same that I've with 5.2 and 5.01 and the same that Maurizio.
> Could someone post the different versions whit te last cpinfo.prg?
>
> -- 
> Xavi
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Oct  7 17:07:21 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct  7 17:07:36 2009
Subject: [Harbour] source -> src dir rename
Message-ID: <88AEC534-64C9-4687-960A-D019A5BC0E6E@syenar.hu>

Hi All,

To close Harbour dir layout to other FOSS projects,
I'd like to rename source to src. Most projects use
this shorter name.

Any opinions/objections?

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Oct  7 17:57:02 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Oct  7 17:57:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12670] trunk/harbour
Message-ID: <E1MveVK-0000zw-2b@bj8yhf1.ch3.sourceforge.com>

Revision: 12670
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12670&view=rev
Author:   vszakats
Date:     2009-10-07 21:57:01 +0000 (Wed, 07 Oct 2009)

Log Message:
-----------
2009-10-07 23:56 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbnetio/utils/netiosrv.hbp
    * Renamed netiosrv to hbnetio.
    + Adding CPU type to hbnetio executable name if it's not x86.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbnetio/utils/netiosrv.hbp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Wed Oct  7 18:46:32 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Oct  7 18:46:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12671] trunk/harbour
Message-ID: <E1MvfHE-0007r1-Ln@74yxhf1.ch3.sourceforge.com>

Revision: 12671
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12671&view=rev
Author:   vouchcac
Date:     2009-10-07 22:46:31 +0000 (Wed, 07 Oct 2009)

Log Message:
-----------
2009-10-07 15:30 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/gtwvg/wvtwin.ch
    + Added more WINAPI constants.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvtwin.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Wed Oct  7 19:25:07 2009
From: jarabal at gmail.com (Xavi)
Date: Wed Oct  7 19:27:28 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang
	ES850c	not	fully	compatible with clipper
In-Reply-To: <A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>
	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>
Message-ID: <4ACD2353.3080103@gmail.com>

Viktor,

Remember that we refer to a specific version of the driver, not of the compiler. :)

http://www.google.com/search?&q=Download+CA+Clipper

Could someone post the different versions whit te last cpinfo.prg?

-- 
Xavi

Viktor Szak?ts escribi?:
> It would be good to see 5.3_b_, the last 5.3 version, released
> two years after initial 5.3.
> 
> In Intl. version the NTXSORT module *was* updated between these
> versions.
> 
> [ Strange, these SPANISH Clipper editions were never patched
> to the latest patch level? ]
> 
> Brgds,
> Viktor
> 
> On 2009 Oct 7, at 21:23, Xavi wrote:
> 
>> I've located a 5.3 and curiously when I run cpinfo with NTXSPA.OBJ 
>> date 26/6/95 5:30 .-
>>
>> Clipper (R) 5.3 Intl. (Rev. 330) SPANISH - SPANISH DBFNTX Collation
>> DS=2BBD:0000  DS avail=46KB  OS avail=399KB  EMM avail=0KB
>>
>> 10/07/09 18:12:46 DOS 5.00 Clipper (R) 5.3 Intl.
>> Character encoding: NTXSORT v1.21e x15 24/Jun/93
>> ==================================================
>> character '?' (151:A L ) is the same as upper and lower
>> number of upper and lower characters is different
>> Warning: irregular CP which needs special definition in Harbour
>> upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
>> lower: "a?bcde?fghi?jklmn?o?pqrstu?vwxy?z???"
>> ==================================================
>> (Fixed heap=6KB/2)
>>
>> Is the same that I've with 5.2 and 5.01 and the same that Maurizio.
>> Could someone post the different versions whit te last cpinfo.prg?
>>
>> -- 
>> Xavi
>>


From vouchcac at users.sourceforge.net  Wed Oct  7 19:27:40 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Oct  7 19:27:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12672] trunk/harbour
Message-ID: <E1Mvfv2-0006bE-FA@c3vjzd1.ch3.sourceforge.com>

Revision: 12672
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12672&view=rev
Author:   vouchcac
Date:     2009-10-07 23:27:38 +0000 (Wed, 07 Oct 2009)

Log Message:
-----------
2009-10-07 16:26 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/gtwvg/wvtwin.ch
    + Added more WINAPI constants.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvtwin.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Oct  7 19:52:29 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct  7 19:52:40 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang
	ES850c	not	fully	compatible with clipper
In-Reply-To: <4ACD2353.3080103@gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>
	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>
	<4ACD2353.3080103@gmail.com>
Message-ID: <5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>

> Viktor,
>
> Remember that we refer to a specific version of the driver, not of  
> the compiler. :)

We should refer to the specific version of the drivers
which came with 5.2e and/or 5.3b revision, the rest is
irrelevant from Harbour's POV. Pls read my prev mail
where I listed these driver versions.

I've been looking at the INTL edition there, but multiple
users are citing SPANISH edition. I'd guess it's using the
same driver version numbers, but to know for sure, users
owning this edition should publish driver versions with
SPANISH 5.2e / 5.3b revisions. (If these revisions exist at
all in SPANISH edition.)

Anyhow for consistency and to make testing possible I'd
personally suggest to use *5.2e / 5.3b INTL* edition as
a base for Harbour compatibility with Spanish collation
(this translates to driver versions 1.3e / 1.31f).

Or alternatively, Spanish users should suggest *one*
driver revision to be replicated in cpes850c.

> http://www.google.com/search?&q=Download+CA+Clipper
>
> Could someone post the different versions whit te last cpinfo.prg?

I have no working MS-DOS environment at the moment
(had switched to 64-bit Windows recently).

Brgds,
Viktor

From vszakats at users.sourceforge.net  Thu Oct  8 08:22:15 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Oct  8 08:22:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12673] trunk/harbour
Message-ID: <E1Mvs0d-00024y-64@74yxhf1.ch3.sourceforge.com>

Revision: 12673
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12673&view=rev
Author:   vszakats
Date:     2009-10-08 12:22:14 +0000 (Thu, 08 Oct 2009)

Log Message:
-----------
2009-10-08 14:21 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * package/winuni/mpkg_win_uni.bat
    * Changed to use 7za instead of 7z as 7zip cmdline tool name.

  * contrib/hbsqlit3/hbsqlit3.ch
    * Formatting.
    ; TOFIX: ? What is the meaning of this snipped in the header:
      ---
      #ifdef SQLITE_TEXT
         #undef SQLITE_TEXT
      #else
         #define SQLITE_TEXT               3
      #endif
      ---
      Seems wrong to me.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbsqlit3/hbsqlit3.ch
    trunk/harbour/package/winuni/mpkg_win_uni.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Thu Oct  8 08:34:29 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Oct  8 08:34:54 2009
Subject: [Harbour] OS/2: build tests
Message-ID: <4ACDDC55.2050209@mail.udg.mx>

( We are at third stage )

I made some tests changing AR_RULE for os2gcc-a.out
Tested with gcc335-a.out

Background:
config\os2\gcc.mk are using for a.out:
----------------------
    # We have to use a script to overcome the AR limit of max 850 characters
    # in commmand line
    define create_library
    [...]
AR_RULE = $(create_library) $(ARSTRIP) & $(RM) __lib__.tmp
----------------------


Based in win, linux, I changed AR_RULE to use:
AR_RULE = ( $(AR) $(ARFLAGS) $(HB_USER_AFLAGS) rcs $(LIB_DIR)/$@ $(^F) 
$(ARSTRIP) ) || $(RM) $(subst /,$(DIRSEP),$(LIB_DIR)/$@)

Everything goes fine ( 9 *.a files, 2 *.exe files created ) until we get 
a beautiful error:
--------------------
SYS0008: There is not enough memory available to process this command.
All available memory is in use.
make[3]: *** [hbrtl.a] Segmentation fault
make[2]: *** [descend] Error 2
make[1]: *** [rtl] Error 2
make: *** [source] Error 2
--------------------

trying to execute this long line:
----------------------
( ar   rcs ../../../../../lib/os2/gcc/hbrtl.a abs.o accept.o ampm.o
[...]
typefilx.o valtoexp.o wait.o  ) || ..\..\..\..\..\config\os2rm -f
..\..\..\..\..\lib\os2\gcc\hbrtl.a
----------------------

Line have around 2,463 bytes

HELP show:
----------------------
SYS0008: There is not enough memory available to process this command.
All available memory is in use.

EXPLANATION: If segment swapping is active, the swap file may be full
or an input/output (I/O) error may have occurred on the auxiliary
storage device that contains the swap file.

ACTION: Do one of the following and then retry the command:
o  Reduce the number of running programs.
o  Reduce the value of the BUFFERS=, TRACEBUF=, DISKCACHE=, THREADS=,
    RMSIZE=, or DEVICE=VDISK.SYS statement in the CONFIG.SYS file and
    then restart the system.
o  Remove unwanted files from the swap file disk and restart the system.
o  Install additional memory on your system.
o  Check the swap file disk for an I/O error.
----------------------

Computer have 2 Gb RAM

Based on message and explanations, this is not a problem of limit of 
characters in command line, but a problem of AR.exe execution with a lot 
of work to do, around 251 *.o files

Fourth overflow I have seen in last months due long list of object files

We do not need to fix this case which is managed with auxiliary 
__lib__.tmp file, I am just reporting what is happening

David Macias


From jlcapel2 at gmail.com  Thu Oct  8 09:16:15 2009
From: jlcapel2 at gmail.com (=?ISO-8859-1?Q?Jos=E9_Luis_Capel?=)
Date: Thu Oct  8 09:16:21 2009
Subject: [Harbour] hbmk2: Error: Running Harbour compiler (internal). 1
Message-ID: <ab2a7b4c0910080616u7c412089je04443fde35328d4@mail.gmail.com>

Hi,

Using hbmk2 (created from lastest svn) I try to compile an old clipper app.
I use same .clp file as follow:

hbmk2 @miappl.clp

Finally (after showing a syntax error on my app) shows this message:

1 error
no code generated.

hbmk2: Error: Running Harbour compiler (internal). 1
(e:\programacion_ant\hb_mingw\bin\harbour.exe) -n2 @hbtrade.clp
-ie:/programacion_ant/hb_mingw/include
Thanks and regards,
Jos? Luis Capel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091008/821aac79/attachment.html
From harbour.01 at syenar.hu  Thu Oct  8 09:30:29 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct  8 09:30:39 2009
Subject: [Harbour] hbmk2: Error: Running Harbour compiler (internal). 1
In-Reply-To: <ab2a7b4c0910080616u7c412089je04443fde35328d4@mail.gmail.com>
References: <ab2a7b4c0910080616u7c412089je04443fde35328d4@mail.gmail.com>
Message-ID: <CE6B3BB2-822E-457D-B817-F294A882B101@syenar.hu>

Hi Jose,

.clp support is highly experimental, I don't know too
much about this feature and never used it personally.

Anyhow what you report doesn't seem to be wrong, if
there is a syntax error in your app, such error is
what happens. hbmk2 won't be able to fix it.

Other tips: Maybe @hbtrade.clp is wrong, maybe @.clp
interact badly with -n2. I need input from users,
and also feel free to fix @.clp related issues directly
in hbmk2 code.

I'll however change "(internal)" to read "(embedded)".

Brgds,
Viktor

On 2009 Oct 8, at 15:16, Jos? Luis Capel wrote:

> Hi,
>
> Using hbmk2 (created from lastest svn) I try to compile an old  
> clipper app.  I use same .clp file as follow:
>
> hbmk2 @miappl.clp
>
> Finally (after showing a syntax error on my app) shows this message:
>
> 1 error
> no code generated.
>
> hbmk2: Error: Running Harbour compiler (internal). 1
> (e:\programacion_ant\hb_mingw\bin\harbour.exe) -n2 @hbtrade.clp -ie:/ 
> programacion_ant/hb_mingw/include
> Thanks and regards,
> Jos? Luis Capel
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From labitas at gmail.com  Thu Oct  8 09:58:48 2009
From: labitas at gmail.com (Saulius Zrelskis)
Date: Thu Oct  8 09:58:55 2009
Subject: [Harbour] DBINFO(DBI_MEMOHANDLE)
Message-ID: <2386af1b0910080658u3309215dwc7405f18b524fe4d@mail.gmail.com>

Hi Przemek,

Sample below GPFs:

-----<<<<<
#include "dbinfo.ch"

PROC main()
 DBCREATE("test", {{"F1", "C", 20, 0}},, .T., "test")

 ? DBINFO(DBI_MEMOHANDLE)

 DBCLOSEALL()

RETURN
----->>>>>

Best regards,
Saulius
From druzus at acn.waw.pl  Thu Oct  8 10:08:03 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Oct  8 10:08:09 2009
Subject: [Harbour] hbmk2: Error: Running Harbour compiler (internal). 1
In-Reply-To: <ab2a7b4c0910080616u7c412089je04443fde35328d4@mail.gmail.com>
References: <ab2a7b4c0910080616u7c412089je04443fde35328d4@mail.gmail.com>
Message-ID: <20091008140803.GA17510@uran.home.aster.pl>

On Thu, 08 Oct 2009, Jos? Luis Capel wrote:

Hi,

> Using hbmk2 (created from lastest svn) I try to compile an old clipper app.
> I use same .clp file as follow:
> hbmk2 @miappl.clp
> Finally (after showing a syntax error on my app) shows this message:
> 1 error
> no code generated.
> hbmk2: Error: Running Harbour compiler (internal). 1
> (e:\programacion_ant\hb_mingw\bin\harbour.exe) -n2 @hbtrade.clp
> -ie:/programacion_ant/hb_mingw/include

So it's syntax error in your application code.
If you need help then we have to know what exactly your code contain
in given line.
It's also possible that automatic -n mode detection (-n2 switch) does
not work with you code. In such case try to use -n- switch, i.e.:
   hbmk2 -n- @miappl.clp

best regards,
Przemek
From vszakats at users.sourceforge.net  Thu Oct  8 10:11:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Oct  8 10:11:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12674] trunk/harbour
Message-ID: <E1Mvtig-0002X9-G1@c3vjzd1.ch3.sourceforge.com>

Revision: 12674
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12674&view=rev
Author:   vszakats
Date:     2009-10-08 14:11:49 +0000 (Thu, 08 Oct 2009)

Log Message:
-----------
2009-10-08 16:11 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.pt_BR.po
  * utils/hbmk2/hbmk2.hu_HU.po
  * utils/hbmk2/hbmk2.prg
    * "(internal") -> "(embedded)" (also HU translation)
      To avoid possible misunderstandings in some contexts.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.hu_HU.po
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Thu Oct  8 10:42:26 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Oct  8 10:42:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12675] trunk/harbour
Message-ID: <E1MvuCI-0008CK-2k@bj8yhf1.ch3.sourceforge.com>

Revision: 12675
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12675&view=rev
Author:   druzus
Date:     2009-10-08 14:42:24 +0000 (Thu, 08 Oct 2009)

Log Message:
-----------
2009-10-08 16:42 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rdd/dbfntx/dbfntx1.c
  * harbour/source/rdd/dbfnsx/dbfnsx1.c
  * harbour/source/rdd/dbfcdx/dbfcdx1.c
    * minor cleanup

  * harbour/source/rdd/dbf1.c
    ! fixed GPF trap in DBINFO( DBI_MEMOHANDLE ) executed for tables without
      any memo fields - thank to Saulius for information and self contain
      example.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rdd/dbf1.c
    trunk/harbour/source/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/source/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/source/rdd/dbfntx/dbfntx1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Oct  8 10:45:26 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Oct  8 10:45:33 2009
Subject: [Harbour] DBINFO(DBI_MEMOHANDLE)
In-Reply-To: <2386af1b0910080658u3309215dwc7405f18b524fe4d@mail.gmail.com>
References: <2386af1b0910080658u3309215dwc7405f18b524fe4d@mail.gmail.com>
Message-ID: <20091008144526.GB17510@uran.home.aster.pl>

On Thu, 08 Oct 2009, Saulius Zrelskis wrote:

Hi,

> Sample below GPFs:
> -----<<<<<
> #include "dbinfo.ch"
> PROC main()
>  DBCREATE("test", {{"F1", "C", 20, 0}},, .T., "test")
>  ? DBINFO(DBI_MEMOHANDLE)
>  DBCLOSEALL()
> RETURN

Thank you very much for information.
Fixed.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Oct  8 13:05:48 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct  8 13:06:11 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12666] trunk/harbour
In-Reply-To: <E1MvSko-0005Co-JJ@bj8yhf1.ch3.sourceforge.com>
References: <E1MvSko-0005Co-JJ@bj8yhf1.ch3.sourceforge.com>
Message-ID: <FBDAAAE9-0378-47A9-8A16-AE2EC2A9D794@syenar.hu>

Hi Przemek,

Thanks, I just verified it.

Well, the screen res is now set to max which can fit
using default font size (or something similar), which
is okay, but now a new weird effect came to play: When
I requested SetMode( 300, 80 ) at startup, the screen
got resized to about 48 x 130, and it seems that my
CUI "desktop" window remained at 300 x 80. On the other
hand MaxRow/Col(.T.) seems to return 48 x 130, as the
extra windows are centered right. [ I didn't put
traces in my app, so these are based on guessing by the
appearance of the app without code changes. It might
be wrong conclusion, even expected behavior given my app
code. Anyway I wanted to share. ]

Brgds,
Viktor

On 2009 Oct 7, at 11:24, druzus@users.sourceforge.net wrote:

> Revision: 12666
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12666&view=rev
> Author:   druzus
> Date:     2009-10-07 09:24:14 +0000 (Wed, 07 Oct 2009)
>
> Log Message:
> -----------
> 2009-10-07 11:23 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/source/rtl/gtwvt/gtwvt.c
>    * check if startup (default or user (SetMode())) console window  
> dimensions
>      do not exceed screen size and if yes then reduce the initial  
> number of
>      console window rows and cols to the screen size also in
>      HB_GTI_RESIZEMODE_FONT mode.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/source/rtl/gtwvt/gtwvt.c
>
> Modified: trunk/harbour/ChangeLog
> ===================================================================
> --- trunk/harbour/ChangeLog	2009-10-07 08:48:05 UTC (rev 12665)
> +++ trunk/harbour/ChangeLog	2009-10-07 09:24:14 UTC (rev 12666)
> @@ -17,6 +17,13 @@
>    past entries belonging to author(s): Viktor Szakats.
> */
>
> +2009-10-07 11:23 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> +  * harbour/source/rtl/gtwvt/gtwvt.c
> +    * check if startup (default or user (SetMode())) console window  
> dimensions
> +      do not exceed screen size and if yes then reduce the initial  
> number of
> +      console window rows and cols to the screen size also in
> +      HB_GTI_RESIZEMODE_FONT mode.
> +
> 2009-10-07 10:47 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * utils/hbmk2/hbmk2.prg
>   * config/global.mk
>
> Modified: trunk/harbour/source/rtl/gtwvt/gtwvt.c
> ===================================================================
> --- trunk/harbour/source/rtl/gtwvt/gtwvt.c	2009-10-07 08:48:05 UTC  
> (rev 12665)
> +++ trunk/harbour/source/rtl/gtwvt/gtwvt.c	2009-10-07 09:24:14 UTC  
> (rev 12666)
> @@ -731,6 +731,8 @@
>             height = ( ( int ) ( pWVT->PTEXTSIZE.y * pWVT->ROWS ) )  
> + borderHeight;
>
>             SetWindowPos( pWVT->hWnd, NULL, 0, 0, width, height,  
> SWP_NOZORDER | SWP_NOMOVE );
> +            if( width > maxWidth || height > maxHeight )
> +               hb_gt_wvt_FitRows( pWVT );
>          }
>
>          HB_GTSELF_EXPOSEAREA( pWVT->pGT, 0, 0, pWVT->ROWS, pWVT- 
> >COLS );
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.

From harbour.01 at syenar.hu  Thu Oct  8 13:09:27 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct  8 13:09:44 2009
Subject: [Harbour] hb_setTermCP() + GTWVT UNICODE vs non-UNICODE
Message-ID: <5FCA7CD7-FEFB-45FF-9B62-2B365C4BA90D@syenar.hu>

Hi All,

hb_setTermCP() will mess up the keyboard input for national
chars when used in UNICODE builds, while it won't for non-UNICODE
builds. Tested with GTWVT.

The point here is not the "mess up" part, but rather that
app behavior is different in UNICODE and non-UNICODE builds.
This is most probably not right this way. (the culprit is
hb_setKeyCP() behavior)

Brgds,
Viktor

From maufacc at adinet.com.uy  Thu Oct  8 13:32:54 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Thu Oct  8 13:33:05 2009
Subject: [Harbour] Re: SF bug tracker#2873146:
	Lang	ES850c	not	fully	compatible with clipper
In-Reply-To: <5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>
	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>
Message-ID: <4ACE2246.3040406@adinet.com.uy>

CLIPPER CPINFO

Clipper (R) 5.2e
Copyright (c) 1985-1995, Computer Associates International, Inc.
Microsoft C Floating Point Support Routines
Copyright (c) Microsoft Corp 1984-1987.  All Rights Reserved.
272K available
Compiling CPINFO.PRG
Code size 1649, Symbols 272, Constants 703

Ntxsort and msg are created from ntxspa y msgspa with nacion.bat
My  cpinfo.lnk

FILE cpinfo,ntxsort,msg
SEARCH 1STCLASS
LIB CLIPPER,EXTEND,TERMINAL,DBFNTX



I do not understand why I obtain a CPINFO.exe that  generates the 
following CPINFO.TXT header.

10/08/09 09:43:26 DOS 5.00 Clipper (R) 5.2d Intl. (x215)  (1994.03.25)
Character encoding: NTXSORT v1.21e x15 24/Jun/93

I send you the CPINFO.txt generated.
I've compare the files NTXSPA.OBJ for patched clipper and un-patched 
clipper, and they are the same, despite they have diferent time stamps.
PATCHED NTXSPA.OBJ. 07/02/95 5:25
UNPATCHED NTXSPA.OBJ. 25/03/94 6:24

Thanks

Maurizio




> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------

10/08/09 11:20:23 DOS 5.00 Clipper (R) 5.2d Intl. (x215)  (1994.03.25)
Character encoding: NTXSORT v1.21e x15 24/Jun/93
==================================================
character '?' (151:A L ) is the same as upper and lower
number of upper and lower characters is different
Warning: irregular CP which needs special definition in Harbour
upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
lower: "a?bcde?fghi?jklmn?o?pqrstu?vwxy?z???"
==================================================

10/08/09 11:21:53 Windows XP 5.1.2600 Service Pack 3 Harbour 1.1.0dev (Rev. 9908)
Character encoding: ES850C
==================================================
upper: "A?BCDE?FGHI?JKLMN?O?PQRSTU??VWXYZ"
lower: "a?bcde?fghi?jklmn?o?pqrstu??vwxyz"
==================================================

From druzus at acn.waw.pl  Thu Oct  8 14:47:25 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Oct  8 14:47:31 2009
Subject: [Harbour] hb_setTermCP() + GTWVT UNICODE vs non-UNICODE
In-Reply-To: <5FCA7CD7-FEFB-45FF-9B62-2B365C4BA90D@syenar.hu>
References: <5FCA7CD7-FEFB-45FF-9B62-2B365C4BA90D@syenar.hu>
Message-ID: <20091008184725.GA12929@uran.home.aster.pl>

On Thu, 08 Oct 2009, Szak?ts Viktor wrote:

Hi,

> hb_setTermCP() will mess up the keyboard input for national
> chars when used in UNICODE builds, while it won't for non-UNICODE
> builds. Tested with GTWVT.
> The point here is not the "mess up" part, but rather that
> app behavior is different in UNICODE and non-UNICODE builds.
> This is most probably not right this way. (the culprit is
> hb_setKeyCP() behavior)

I do not understand what is the problem in your case but for sure
above does not discribe GTWVT behvior.
For both UNICODE and non UNICODE modes all you should use:

   hb_setTermCP( <cTermCP>, <cHostCP> )

where <cTermCP> is OS encoding and <cHostCP> is HVM encoding.
When <cHostCP> is not given then _SET_CODEPAGE is used.
The only one difference between UNICODE and non UNICODE mode
is the fact that in UNICODE mode <cTermCP> is ignored and only
<cHostCP> is significant but for user code it does not create
any differences.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Oct  8 15:15:01 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct  8 15:15:13 2009
Subject: [Harbour] hb_setTermCP() + GTWVT UNICODE vs non-UNICODE
In-Reply-To: <20091008184725.GA12929@uran.home.aster.pl>
References: <5FCA7CD7-FEFB-45FF-9B62-2B365C4BA90D@syenar.hu>
	<20091008184725.GA12929@uran.home.aster.pl>
Message-ID: <2C7E2B24-56AC-4EF9-B3F3-3FCC9FCA8F18@syenar.hu>

>> hb_setTermCP() will mess up the keyboard input for national
>> chars when used in UNICODE builds, while it won't for non-UNICODE
>> builds. Tested with GTWVT.
>> The point here is not the "mess up" part, but rather that
>> app behavior is different in UNICODE and non-UNICODE builds.
>> This is most probably not right this way. (the culprit is
>> hb_setKeyCP() behavior)
>
> I do not understand what is the problem in your case but for sure
> above does not discribe GTWVT behvior.
> For both UNICODE and non UNICODE modes all you should use:
>
>   hb_setTermCP( <cTermCP>, <cHostCP> )
>
> where <cTermCP> is OS encoding and <cHostCP> is HVM encoding.
> When <cHostCP> is not given then _SET_CODEPAGE is used.
> The only one difference between UNICODE and non UNICODE mode
> is the fact that in UNICODE mode <cTermCP> is ignored and only
> <cHostCP> is significant but for user code it does not create
> any differences.

Yes, sorry, I mixed the cases, it's ignored in UNICODE and
not ignored in UNICODE as you say.

It means I have to manually adjust CP setup for each platform,
build type and active GT (even WINE, but that's probably not
Harbour's fault). GTWIN works differently than GTWVT,
GTWVT works differently in UNICODE and non-UNICODE mode, and
things work a little bit differently with other GTs. Things
will be a bit more complicated on Windows, after my app switched
to ISO CP from DOS.

Now I had to drop hb_setTermCP() as it seems dangerous in
portable code. Instead I'm adjusting DispCP and KeyCP separately
depending on above factors. KeyCP is only set on *nix systems.
Plus HB_GTI_CODEPAGE on win when ISO CP is used. I didn't
test UNICODE mode in this scenario yet.

For me this is a little confusing. Prone to break easily.

Brgds,
Viktor

From roberbox at gmail.com  Thu Oct  8 16:22:56 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Thu Oct  8 16:23:02 2009
Subject: [Harbour] Harbour 2.0 compatibility issue.
In-Reply-To: <2C7E2B24-56AC-4EF9-B3F3-3FCC9FCA8F18@syenar.hu>
References: <5FCA7CD7-FEFB-45FF-9B62-2B365C4BA90D@syenar.hu>	<20091008184725.GA12929@uran.home.aster.pl>
	<2C7E2B24-56AC-4EF9-B3F3-3FCC9FCA8F18@syenar.hu>
Message-ID: <4ACE4A20.2020500@gmail.com>

Hi All,

I've changed hb_stor* / hb_par* function calls by hb_parv* / hb_storv* 
in my code when they are used with extra parameters to make it work in 2.0.

Compiled fine, but application GPFs at the following function:

----------------------------------------------------------------
HB_FUNC ( ADDLISTVIEWITEMS )
{

	char *caption;
	LV_ITEM LI;
	HWND h;
	int l;
	int s;
	int c;

	h = (HWND) hb_parnl( 1 ) ;
	l = hb_parinfa( 2, 0 ) - 1 ;

	c = ListView_GetItemCount (h);
	caption [0] = 0 ;
	caption	= hb_parvc ( 2 , 1 ); // <------------ CHANGED

	LI.mask=LVIF_TEXT | LVIF_IMAGE ;	
	LI.state=0;
	LI.stateMask=0;
         LI.iImage=hb_parni( 3 );	
         LI.iSubItem=0;
	LI.iItem=c;
	LI.pszText=caption;
	ListView_InsertItem(h,&LI);

	for (s = 1 ; s<=l ; s=s+1 )
	{
		caption	= hb_parvc ( 2 , s + 1 ); // <---------- CHANGED
		ListView_SetItemText(h,c,s,caption);
	}

}
-------------------------------------------------------------------

hb_out.log is:

-------------------------------------------------------------------

Application Internal Error - C:\HMG30\SAMPLES\GRID.01\demo.exe
Terminated at: 2009.10.08 17:13:18
Unrecoverable error 6005: Exception error:

     Exception Code:C0000005
     Exception Address:0040CD1D
     EAX:00000000  EBX:003E89A4  ECX:00390578  EDX:00000030
     ESI:003E7ED4  EDI:00120296  EBP:0022FA38
     CS:EIP:001B:0040CD1D  SS:ESP:0023:0022F9B0
     DS:0023  ES:0023  FS:003B  GS:0000
     Flags:00010202
     CS:EIP: C6 05 00 00 00 00 00 C7 44 24 04 01 00 00 00 C7
     SS:ESP: 00120296 00001004 00000000 00000000 00573130 00000000 
00000000 00000002 75DB92E9 75DB9312 CD41CD68 0022FA90 0000101B 00000000 
00000000 003E89A4

     C stack:
     EIP:     EBP:       Frame: OldEBP, RetAddr, Params...
     0040CD1D 0022FA38   0022FA6C 0046C8AB 0022FA6C 003E89E4 003E8A04 
0045FCDD 003E89E4 003E8A04 7660888D 00000024


Modules:
0x00400000 0x00181000 C:\HMG30\SAMPLES\GRID.01\demo.exe
0x77B80000 0x0013C000 C:\Windows\SYSTEM32\ntdll.dll
0x777E0000 0x000D4000 C:\Windows\system32\kernel32.dll
0x75F50000 0x0004A000 C:\Windows\system32\KERNELBASE.dll
0x75FF0000 0x000A0000 C:\Windows\system32\ADVAPI32.DLL
0x77710000 0x000AC000 C:\Windows\system32\msvcrt.dll
0x778C0000 0x00019000 C:\Windows\SYSTEM32\sechost.dll
0x766C0000 0x000A1000 C:\Windows\system32\RPCRT4.dll
0x75DA0000 0x00084000 
C:\Windows\WinSxS\x86_microsoft.windows.common-controls_6595b64144ccf1df_5.82.7600.16385_none_ebf82fc36c758ad5\COMCTL32.DLL
0x764C0000 0x0004E000 C:\Windows\system32\GDI32.dll
0x765F0000 0x000C9000 C:\Windows\system32\USER32.dll
0x76800000 0x0000A000 C:\Windows\system32\LPK.dll
0x763C0000 0x0009D000 C:\Windows\system32\USP10.dll
0x76510000 0x0007B000 C:\Windows\system32\COMDLG32.DLL
0x76460000 0x00057000 C:\Windows\system32\SHLWAPI.dll
0x76AC0000 0x00C49000 C:\Windows\system32\SHELL32.dll
0x71920000 0x00021000 C:\Windows\system32\MSVFW32.DLL
0x74190000 0x00032000 C:\Windows\system32\WINMM.dll
0x778E0000 0x0015C000 C:\Windows\system32\OLE32.dll
0x76770000 0x0008F000 C:\Windows\system32\OLEAUT32.DLL
0x71640000 0x00051000 C:\Windows\system32\WINSPOOL.DRV
0x777C0000 0x0001F000 C:\Windows\system32\IMM32.DLL
0x76810000 0x000CC000 C:\Windows\system32\MSCTF.dll
0x75C20000 0x0000C000 C:\Windows\system32\CRYPTBASE.dll
0x74AE0000 0x00040000 C:\Windows\system32\uxtheme.dll
0x747B0000 0x00013000 C:\Windows\system32\dwmapi.dll

Called from ADDLISTVIEWITEMS(0)
Called from _ADDGRIDROW(382) in c:/hmg30/source/h_grid.prg
Called from _DEFINEGRID(313) in c:/hmg30/source/h_grid.prg
Called from MAIN(50) in demo.prg
------------------------------------------------------------------------

Any help is welcome.

TIA.

Regards,

Roberto.

From harbour.01 at syenar.hu  Thu Oct  8 16:56:43 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct  8 16:56:52 2009
Subject: [Harbour] Harbour 2.0 compatibility issue.
In-Reply-To: <4ACE4A20.2020500@gmail.com>
References: <5FCA7CD7-FEFB-45FF-9B62-2B365C4BA90D@syenar.hu>	<20091008184725.GA12929@uran.home.aster.pl>
	<2C7E2B24-56AC-4EF9-B3F3-3FCC9FCA8F18@syenar.hu>
	<4ACE4A20.2020500@gmail.com>
Message-ID: <C9D46571-CEB9-4B6F-B89F-9CD7DAF35B96@syenar.hu>

Hi Roberto,

> Compiled fine, but application GPFs at the following function:
>
> ----------------------------------------------------------------
> HB_FUNC ( ADDLISTVIEWITEMS )
> {
>
> 	char *caption;

This should be declared 'const'.

> 	LV_ITEM LI;
> 	HWND h;
> 	int l;
> 	int s;
> 	int c;
>
> 	h = (HWND) hb_parnl( 1 ) ;

Here, it's best to use hb_parnint() for 64-bit compatibility
(or even hb_parptr(), but that will break API compatibility).

> 	l = hb_parinfa( 2, 0 ) - 1 ;
>
> 	c = ListView_GetItemCount (h);
> 	caption [0] = 0 ;

Above line assigns 0 to a non-allocated memory area. It
can cause a GPF. It's not necessary anyway, so it should
be simply deleted.

> 	caption	= hb_parvc ( 2 , 1 ); // <------------ CHANGED
>
> 	LI.mask=LVIF_TEXT | LVIF_IMAGE ;	
> 	LI.state=0;
> 	LI.stateMask=0;
>        LI.iImage=hb_parni( 3 );	
>        LI.iSubItem=0;
> 	LI.iItem=c;
> 	LI.pszText=caption;

Here, probably a copy of the original buffer should be
stored in LI.pszText. It's declared as non-const, so
it's possible that Windows will touch the buffer content.

> 	ListView_InsertItem(h,&LI);
>
> 	for (s = 1 ; s<=l ; s=s+1 )
> 	{
> 		caption	= hb_parvc ( 2 , s + 1 ); // <---------- CHANGED
> 		ListView_SetItemText(h,c,s,caption);

This looks safe since const string is expected, although
'caption' variable can be optimized out completely.

[ Both above hb_parvc() usage works for non-UNICODE builds only. ]

Brgds,
Viktor

From druzus at acn.waw.pl  Thu Oct  8 17:12:39 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Oct  8 17:12:46 2009
Subject: [Harbour] hb_setTermCP() + GTWVT UNICODE vs non-UNICODE
In-Reply-To: <2C7E2B24-56AC-4EF9-B3F3-3FCC9FCA8F18@syenar.hu>
References: <5FCA7CD7-FEFB-45FF-9B62-2B365C4BA90D@syenar.hu>
	<20091008184725.GA12929@uran.home.aster.pl>
	<2C7E2B24-56AC-4EF9-B3F3-3FCC9FCA8F18@syenar.hu>
Message-ID: <20091008211239.GA2620@uran.home.aster.pl>

On Thu, 08 Oct 2009, Szak?ts Viktor wrote:
>> I do not understand what is the problem in your case but for sure
>> above does not discribe GTWVT behvior.
>> For both UNICODE and non UNICODE modes all you should use:
>>   hb_setTermCP( <cTermCP>, <cHostCP> )
>> where <cTermCP> is OS encoding and <cHostCP> is HVM encoding.
>> When <cHostCP> is not given then _SET_CODEPAGE is used.
>> The only one difference between UNICODE and non UNICODE mode
>> is the fact that in UNICODE mode <cTermCP> is ignored and only
>> <cHostCP> is significant but for user code it does not create
>> any differences.
> Yes, sorry, I mixed the cases, it's ignored in UNICODE and
> not ignored in UNICODE as you say.
> It means I have to manually adjust CP setup for each platform,
> build type and active GT (even WINE, but that's probably not
> Harbour's fault). GTWIN works differently than GTWVT,

??? I do not see any difference and I still do not understand what
is the problem. In UNICODE builds we do not have to know OS character
encoding. Just simply such knowledge is unnecessary for us because
we are exchange data between OS using UNICODE characters.
In non unicode builds we have to set valid OS CP used by font
and/or keyboard input. Here default setting depends on country
and user locale settings.

> GTWVT works differently in UNICODE and non-UNICODE mode, and
> things work a little bit differently with other GTs. Things
> will be a bit more complicated on Windows, after my app switched
> to ISO CP from DOS.

Can you explain precisely what's the difference for you?
I.e. some small self contain example.

> Now I had to drop hb_setTermCP() as it seems dangerous in
> portable code. Instead I'm adjusting DispCP and KeyCP separately
> depending on above factors. KeyCP is only set on *nix systems.
> Plus HB_GTI_CODEPAGE on win when ISO CP is used. I didn't
> test UNICODE mode in this scenario yet.

WIN CP settings are ignored in UNICODE builds.

> For me this is a little confusing. Prone to break easily.

For me hb_set{Term,Disp,Key}CP() works perfectly and I do not
see any thing wrong in portability. In general I still do not
understand what is your problem.
Self contain examples will make things more precise.
Probably I'm missing sth important for you.

best regards,
Przemek
From roberbox at gmail.com  Thu Oct  8 17:41:18 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Thu Oct  8 17:41:21 2009
Subject: [Harbour] Harbour 2.0 compatibility issue.
In-Reply-To: <C9D46571-CEB9-4B6F-B89F-9CD7DAF35B96@syenar.hu>
References: <5FCA7CD7-FEFB-45FF-9B62-2B365C4BA90D@syenar.hu>	<20091008184725.GA12929@uran.home.aster.pl>	<2C7E2B24-56AC-4EF9-B3F3-3FCC9FCA8F18@syenar.hu>	<4ACE4A20.2020500@gmail.com>
	<C9D46571-CEB9-4B6F-B89F-9CD7DAF35B96@syenar.hu>
Message-ID: <4ACE5C7E.9040305@gmail.com>

Viktor Szak?ts wrote:

> This should be declared 'const'.
<...>

Thanks for the quick response.

Regards,

Roberto.





From roberbox at gmail.com  Thu Oct  8 18:20:02 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Thu Oct  8 18:20:10 2009
Subject: [Harbour] Another 2.0 possible issue.
In-Reply-To: <20091008211239.GA2620@uran.home.aster.pl>
References: <5FCA7CD7-FEFB-45FF-9B62-2B365C4BA90D@syenar.hu>	<20091008184725.GA12929@uran.home.aster.pl>	<2C7E2B24-56AC-4EF9-B3F3-3FCC9FCA8F18@syenar.hu>
	<20091008211239.GA2620@uran.home.aster.pl>
Message-ID: <4ACE6592.5090507@gmail.com>

Hi All,


'testdll.prg' sample bundled with Harbour, GPFs in XP and Win7 (I've not 
tested Vista).

The sample is located at:

contrib\hbwin\tests\testdll.prg

I've built with:

hbmk2 -lhbwin testdll.prg

I've used a 'default-configured', untouched Harbour 2.0 beta3 build.

TIA.

Regards,

Roberto.

From jarabal at gmail.com  Thu Oct  8 18:59:40 2009
From: jarabal at gmail.com (Xavi)
Date: Thu Oct  8 19:02:01 2009
Subject: [Harbour] Re: SF bug
	tracker#2873146:	Lang	ES850c	not	fully	compatible with clipper
In-Reply-To: <4ACE2246.3040406@adinet.com.uy>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>
	<4ACE2246.3040406@adinet.com.uy>
Message-ID: <4ACE6EDC.2030901@gmail.com>

Thanks Maurizio,

I have the same.

> I do not understand why I obtain a CPINFO.exe that  generates the 
> following CPINFO.TXT header.

Because it shows how short and convert the driver used in the application Clipper.
Remember that we have ES850 to compile Clipper code but "You should rebuild all indexes before the application is used".	
The same happen if you change the driver in your application Clipper.

Hopefully someone post the versions 1.31f.

-- 
Xavi


From bedipritpal at hotmail.com  Thu Oct  8 20:23:36 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Oct  8 20:23:43 2009
Subject: [Harbour] HBQT - HBXBP : Garbage Collection
Message-ID: <25813841.post@talk.nabble.com>


Hello Przemek, All

I would like to have an analysis how Harbour
implements garbage collection in GUI mode, I mean, 
where there is no inkey() or similar call ?

With last modifications in HBQT, changing the way 
destructors are called, all objects are being deleted 
properly. This I verified by accessing the deleted object
again which GPFs. But still memory keeps on growing.

What I suspect is, probably, that this could be related
to GC in Harbour. All objects coming to PRG via "new" 
opeartor are returned as a pointer : 

hb_retptr( new QSomeObject() )

which are supposed to be covered by GC. But I am 
wondering at what point of application loop, Harbour
is performing garbage collection.

Any point leading to memory issue in HBQT will 
be of great help to push Harbour to next levels.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/HBQT---HBXBP-%3A-Garbage-Collection-tp25813841p25813841.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Oct  8 22:35:35 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct  8 22:35:45 2009
Subject: [Harbour] HBQT - HBXBP : Garbage Collection
In-Reply-To: <25813841.post@talk.nabble.com>
References: <25813841.post@talk.nabble.com>
Message-ID: <6C111374-7FA2-468D-BAA1-FFAE33167E16@syenar.hu>

Hi Pritpal,

> I would like to have an analysis how Harbour
> implements garbage collection in GUI mode, I mean,
> where there is no inkey() or similar call ?
>
> With last modifications in HBQT, changing the way
> destructors are called, all objects are being deleted
> properly. This I verified by accessing the deleted object
> again which GPFs. But still memory keeps on growing.
>
> What I suspect is, probably, that this could be related
> to GC in Harbour. All objects coming to PRG via "new"
> opeartor are returned as a pointer :
>
> hb_retptr( new QSomeObject() )
>
> which are supposed to be covered by GC. But I am
> wondering at what point of application loop, Harbour
> is performing garbage collection.

AFAIU above won't be covered by GC at all.

In order to let GC collect these pointer automatically
you need to use hb_retptrGC(), along with a callback
to the freeing.

Brgds,
Viktor

From yamamoto at rocketmail.com  Fri Oct  9 00:36:10 2009
From: yamamoto at rocketmail.com (Mitja Podgornik)
Date: Fri Oct  9 00:36:15 2009
Subject: [Harbour] hb_xgrab requested to allocate zero bytes
Message-ID: <153435.98614.qm@web30704.mail.mud.yahoo.com>

Hi, please, can anybody help?

This function occasional causes GPF   
and occurs sporadic only on some xp/vista machines
>
> >> Application Internal Error ...
> >> Terminated at: ....
> >> Info: Harbour MiniGUI 1.7 Extended Edition (Build 74) - 2009.09.30
> >> Unrecoverable error 9023: hb_xgrab requested to allocate zero bytes
> >> Called from SOCKETRECEIVE(0)


regards, Mitja


HB_FUNC( SOCKETRECEIVE )
{
   SOCKET   m_hSocket = INVALID_SOCKET;

   if( bInit && hb_parclen(1) == sizeof(m_hSocket) && ISCHAR(2) && ISBYREF(2) )
   {
      /* Copy m_hSocket from caller method */
      strncpy( ( char * ) &m_hSocket, hb_parc(1), sizeof(m_hSocket) );
      if( m_hSocket != INVALID_SOCKET )
      {
         int   nLen = hb_parclen( 2 );
         if ( nLen > 0 )
         {
            char  *pRead = ( char * ) hb_xgrab( nLen + 1 );
            if( ISNUM(3) )
            {
               int   recvtimeout = hb_parni( 3 );
               if( recvtimeout != -1 )
               { 
                  setsockopt( m_hSocket, SOL_SOCKET, SO_RCVTIMEO, ( char * ) &recvtimeout, sizeof(recvtimeout) );
               }
            }

            nLen = recv( m_hSocket, pRead, nLen, 0 );
            hb_storclen( pRead, nLen, 2 );
            hb_xfree( pRead );
            hb_retni( nLen );
         }
         else
         {
            hb_retni( 0 );         
         }
      }
      else
      {
         hb_retni( 0 );
      }
   }
   else
   {
      hb_retni( 0 );
   }
}


      
From bedipritpal at hotmail.com  Fri Oct  9 02:44:59 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Oct  9 02:45:06 2009
Subject: [Harbour] HBQT - HBXBP : Garbage Collection
In-Reply-To: <6C111374-7FA2-468D-BAA1-FFAE33167E16@syenar.hu>
References: <25813841.post@talk.nabble.com>
	<6C111374-7FA2-468D-BAA1-FFAE33167E16@syenar.hu>
Message-ID: <25816231.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> In order to let GC collect these pointer automatically
> you need to use hb_retptrGC(), along with a callback
> to the freeing.
> 

So, I tried like this:


static HB_GARBAGE_FUNC( QMessageBox_release )
{
   void ** ph = ( void ** ) Cargo;

   /* Check if pointer is not NULL to avoid multiple freeing */
   if( ph && * ph )
   {
      /* Destroy the object */
      delete ( ( QMessageBox * ) ph );

      /* set pointer to NULL to avoid multiple freeing */
      * ph = NULL;
   }
}

static QMessageBox* xhbqt_par_QMessageBox( int iParam )
{
   void ** ph = ( void ** ) hb_parptrGC( QMessageBox_release, iParam );

   return ph ? ( QMessageBox * ) ph : NULL;
}

HB_FUNC( QT_QMESSAGEBOX )
{
   void ** ph = ( void ** ) hb_gcAlloc( sizeof( QMessageBox ),
QMessageBox_release );

   * ph = new QMessageBox();

   hb_retptrGC( ( QMessageBox * ) ph );
}

/*
 * DESTRUCTOR
 */
HB_FUNC( QT_QMESSAGEBOX_DESTROY )
{
   void ** ph = ( void ** ) hb_parptrGC( QMessageBox_release, 1 );

   if( ph && * ph )
   {
      delete ( ( QMessageBox * ) ph );
      * ph = NULL;
   }
}

HB_FUNC( QT_QMESSAGEBOX_SETINFORMATIVETEXT )
{
   xhbqt_par_QMessageBox( 1 )->setInformativeText( hbqt_par_QString( 2 ) );
}

The code compiles fine but produces GPF as

   oMB :=  QMessageBox():new()
   ^^^^^^^^^^^^^^^^^^^     OK
   oMB:setInformativeText( "PushButton" ) 
   ^^^^^^^^^^^^^^^^^^^^^^^^     GPF

I mean any next call produces this.
What I am doing wrong?

Regards
Pritpal Bedi
   
-- 
View this message in context: http://www.nabble.com/HBQT---HBXBP-%3A-Garbage-Collection-tp25813841p25816231.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From jlcapel2 at gmail.com  Fri Oct  9 03:02:22 2009
From: jlcapel2 at gmail.com (=?ISO-8859-1?Q?Jos=E9_Luis_Capel?=)
Date: Fri Oct  9 03:02:30 2009
Subject: [Harbour] Error 9011 on harbour
Message-ID: <ab2a7b4c0910090002w78c3a1a0g730da84025a355f2@mail.gmail.com>

Hi,

Making some tests of .clp files I found this error on harbour when I typed
wrongly the name of a clp file:


c:\> harbour @myapp.clp
Harbour 2.0.0beta3 (Rev. 12672)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Cannot open input file: myapp.clp
Unrecoverable error 9011: hb_xfree called with a NULL pointer


MyApp.clp does not exist.


Regards,
Jos? Luis Capel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091009/54f13a8d/attachment.html
From jlcapel2 at gmail.com  Fri Oct  9 03:09:45 2009
From: jlcapel2 at gmail.com (=?ISO-8859-1?Q?Jos=E9_Luis_Capel?=)
Date: Fri Oct  9 03:09:54 2009
Subject: [Harbour] hbmk2: Error: Running Harbour compiler (internal). 1
In-Reply-To: <20091008140803.GA17510@uran.home.aster.pl>
References: <ab2a7b4c0910080616u7c412089je04443fde35328d4@mail.gmail.com>
	<20091008140803.GA17510@uran.home.aster.pl>
Message-ID: <ab2a7b4c0910090009nb449dc4m1e9a621d414c6de4@mail.gmail.com>

Viktor, Przemek,

Thanks for your answers.

Seemed tha I had some syntax errors.  Once corrected I could compile without
any incidences except for a missing function that I reported on harbour user
list.

Regards,
Jos? Luis Capel

2009/10/8 Przemyslaw Czerpak <druzus@acn.waw.pl>

>  On Thu, 08 Oct 2009, Jos? Luis Capel wrote:
>
> Hi,
>
> > Using hbmk2 (created from lastest svn) I try to compile an old clipper
> app.
> > I use same .clp file as follow:
> > hbmk2 @miappl.clp
> > Finally (after showing a syntax error on my app) shows this message:
> > 1 error
> > no code generated.
> > hbmk2: Error: Running Harbour compiler (internal). 1
> > (e:\programacion_ant\hb_mingw\bin\harbour.exe) -n2 @hbtrade.clp
> > -ie:/programacion_ant/hb_mingw/include
>
> So it's syntax error in your application code.
> If you need help then we have to know what exactly your code contain
> in given line.
> It's also possible that automatic -n mode detection (-n2 switch) does
> not work with you code. In such case try to use -n- switch, i.e.:
>   hbmk2 -n- @miappl.clp
>
> best regards,
> Przemek
>  _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091009/817aaee0/attachment-0001.html
From druzus at users.sourceforge.net  Fri Oct  9 04:13:30 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Oct  9 04:17:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12676] trunk/harbour
Message-ID: <E1MwAbS-0000bY-GH@bj8yhf1.ch3.sourceforge.com>

Revision: 12676
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12676&view=rev
Author:   druzus
Date:     2009-10-09 08:13:29 +0000 (Fri, 09 Oct 2009)

Log Message:
-----------
2009-10-09 10:13 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/compiler/hbmain.c
    ! fixed unnecessary hb_xfree() call when given @<name>.clp file
      does not exist. Thanks to Jose Luis Capel for information about
      the problem.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/compiler/hbmain.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Oct  9 04:13:19 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Oct  9 04:17:24 2009
Subject: [Harbour] Error 9011 on harbour
In-Reply-To: <ab2a7b4c0910090002w78c3a1a0g730da84025a355f2@mail.gmail.com>
References: <ab2a7b4c0910090002w78c3a1a0g730da84025a355f2@mail.gmail.com>
Message-ID: <20091009081319.GA15058@uran.home.aster.pl>

On Fri, 09 Oct 2009, Jos? Luis Capel wrote:

Hi,

> Making some tests of .clp files I found this error on harbour when I typed
> wrongly the name of a clp file:
> c:\> harbour @myapp.clp
> Harbour 2.0.0beta3 (Rev. 12672)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Cannot open input file: myapp.clp
> Unrecoverable error 9011: hb_xfree called with a NULL pointer
> MyApp.clp does not exist.

Thank you very much forn information.
Fixed,

best regards,
Przemek
From druzus at acn.waw.pl  Fri Oct  9 04:43:16 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Oct  9 04:43:22 2009
Subject: [Harbour] hb_xgrab requested to allocate zero bytes
In-Reply-To: <153435.98614.qm@web30704.mail.mud.yahoo.com>
References: <153435.98614.qm@web30704.mail.mud.yahoo.com>
Message-ID: <20091009084315.GB15058@uran.home.aster.pl>

On Thu, 08 Oct 2009, Mitja Podgornik wrote:
> Hi, please, can anybody help?
> This function occasional causes GPF   
> and occurs sporadic only on some xp/vista machines
> > >> Application Internal Error ...
> > >> Terminated at: ....
> > >> Info: Harbour MiniGUI 1.7 Extended Edition (Build 74) - 2009.09.30
> > >> Unrecoverable error 9023: hb_xgrab requested to allocate zero bytes
> > >> Called from SOCKETRECEIVE(0)

recv() on error returns -1 not 0.

>             nLen = recv( m_hSocket, pRead, nLen, 0 );
>             hb_storclen( pRead, nLen, 2 );
                                  ^^^^
And in such case error appears here.
As short hackt o resolve the problem you can add hust after recv()
   if( nLen < 0 ) nLen = 0;
This function can be also greatly optimized though it's maybe less
important. Anyhow I suggest to convert this code to use internally
hb_socket*() functions. This functions can create some other problems
changing socket options, i.e. as parameter for SOL_SOCKET->SO_RCVTIMEO
struct timeval (the same as in select()) should be used but this code
uses integer. I've never used it on Windows so it's possible it's a
bug in MS-Windows BSD socket implementation and it really needs int
value but I suggest to verify it. Please also note that it changes
socket parameters and then does not restore them so next calls will
use timeouts setting set by previous calls. Of course if they work
and someone can confirm that SOL_SOCKET->SO_RCVTIMEO uses 'int' as
parameter in MS-Windows.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Oct  9 04:58:42 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Oct  9 04:58:49 2009
Subject: [Harbour] HBQT - HBXBP : Garbage Collection
In-Reply-To: <25816231.post@talk.nabble.com>
References: <25813841.post@talk.nabble.com>
	<6C111374-7FA2-468D-BAA1-FFAE33167E16@syenar.hu>
	<25816231.post@talk.nabble.com>
Message-ID: <20091009085842.GC15058@uran.home.aster.pl>

On Thu, 08 Oct 2009, Pritpal Bedi wrote:

Hi,

> > In order to let GC collect these pointer automatically
> > you need to use hb_retptrGC(), along with a callback
> > to the freeing.
> So, I tried like this:
> 
> static HB_GARBAGE_FUNC( QMessageBox_release )
> {
>    void ** ph = ( void ** ) Cargo;
> 
>    /* Check if pointer is not NULL to avoid multiple freeing */
>    if( ph && * ph )
>    {
>       /* Destroy the object */
>       delete ( ( QMessageBox * ) ph );
>       /* set pointer to NULL to avoid multiple freeing */
>       * ph = NULL;
>    }
> }
> 
> static QMessageBox* xhbqt_par_QMessageBox( int iParam )
> {
>    void ** ph = ( void ** ) hb_parptrGC( QMessageBox_release, iParam );
>    return ph ? ( QMessageBox * ) ph : NULL;
> }

Here is mistake. The last line should be changed to:
   return ph ? ( QMessageBox * ) * ph : NULL;

> HB_FUNC( QT_QMESSAGEBOX )
> {
>    void ** ph = ( void ** ) hb_gcAlloc( sizeof( QMessageBox ),
>                                         QMessageBox_release );
>    * ph = new QMessageBox();
>    hb_retptrGC( ( QMessageBox * ) ph );
> }
> 
> /*
>  * DESTRUCTOR
>  */
> HB_FUNC( QT_QMESSAGEBOX_DESTROY )
> {
>    void ** ph = ( void ** ) hb_parptrGC( QMessageBox_release, 1 );
>    if( ph && * ph )
>    {
>       delete ( ( QMessageBox * ) ph );
>       * ph = NULL;
>    }
> }

Very good. Please only remember that QT_QMESSAGEBOX_DESTROY is optional.
You do not have to implement this function because destructor will be
automatically activated when the last .prg item holding the pointer
to QMessageBox will be released (cleared or overwritten).
In some cases you may also need function DETACH which will be used for
widgets attached to some other QT widgets so they will be released
automatically with parent objects and should not be release by our GC.
I.e.:
   void xhbqt_detach_QMessageBox( PHB_ITEM pItem )
   {
      void ** ph = ( void ** ) hb_itemGetPtrGC( pItem, QMessageBox_release );
      if( ph && *ph )
         *ph = NULL;
   }

In most of cases such function should be called by C code which attach
widget to parent object but if you really need it then you can create
.prg wrapper two:
   HB_FUNC( QT_QMESSAGEBOX_DETACH )
   {
      xhbqt_detach_QMessageBox( hb_param( 1, HB_IT_POINTER ) );
   }
Please only remember that after detaching GC will not free the object
automatically and it has to be freed in other way, i.e. by parent object.

best regards,
Przemek
From gfilatov at front.ru  Fri Oct  9 04:59:58 2009
From: gfilatov at front.ru (Grigory Filatov)
Date: Fri Oct  9 05:00:05 2009
Subject: [Harbour] hb_xgrab requested to allocate zero bytes
In-Reply-To: <20091009084315.GB15058@uran.home.aster.pl>
References: <153435.98614.qm@web30704.mail.mud.yahoo.com>
	<20091009084315.GB15058@uran.home.aster.pl>
Message-ID: <25817794.post@talk.nabble.com>


Hi Przemek,

Thanks for your suggestion!

> someone can confirm that SOL_SOCKET->SO_RCVTIMEO uses 'int' as parameter
> in MS-Windows.

There is the following definition in the header file winsock.h from BCC:

int PASCAL FAR setsockopt (
                           IN SOCKET s,
                           IN int level,
                           IN int optname,
                           IN const char FAR * optval,
                           IN int optlen);

--
Kind Regards,
Grigory Filatov


Przemyslaw Czerpak-2 wrote:
> 
> On Thu, 08 Oct 2009, Mitja Podgornik wrote:
>> Hi, please, can anybody help?
>> This function occasional causes GPF   
>> and occurs sporadic only on some xp/vista machines
>> > >> Application Internal Error ...
>> > >> Terminated at: ....
>> > >> Info: Harbour MiniGUI 1.7 Extended Edition (Build 74) - 2009.09.30
>> > >> Unrecoverable error 9023: hb_xgrab requested to allocate zero bytes
>> > >> Called from SOCKETRECEIVE(0)
> 
> recv() on error returns -1 not 0.
> 
>>             nLen = recv( m_hSocket, pRead, nLen, 0 );
>>             hb_storclen( pRead, nLen, 2 );
>                                   ^^^^
> And in such case error appears here.
> As short hackt o resolve the problem you can add hust after recv()
>    if( nLen < 0 ) nLen = 0;
> This function can be also greatly optimized though it's maybe less
> important. Anyhow I suggest to convert this code to use internally
> hb_socket*() functions. This functions can create some other problems
> changing socket options, i.e. as parameter for SOL_SOCKET->SO_RCVTIMEO
> struct timeval (the same as in select()) should be used but this code
> uses integer. I've never used it on Windows so it's possible it's a
> bug in MS-Windows BSD socket implementation and it really needs int
> value but I suggest to verify it. Please also note that it changes
> socket parameters and then does not restore them so next calls will
> use timeouts setting set by previous calls. Of course if they work
> and someone can confirm that SOL_SOCKET->SO_RCVTIMEO uses 'int' as
> parameter in MS-Windows.
> 
> best regards,
> Przemek
> 
> 

-- 
View this message in context: http://www.nabble.com/hb_xgrab-requested-to-allocate-zero-bytes-tp25815411p25817794.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Fri Oct  9 05:17:55 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Oct  9 05:18:01 2009
Subject: [Harbour] hb_xgrab requested to allocate zero bytes
In-Reply-To: <25817794.post@talk.nabble.com>
References: <153435.98614.qm@web30704.mail.mud.yahoo.com>
	<20091009084315.GB15058@uran.home.aster.pl>
	<25817794.post@talk.nabble.com>
Message-ID: <20091009091755.GD15058@uran.home.aster.pl>

On Fri, 09 Oct 2009, Grigory Filatov wrote:

Hi,

> Thanks for your suggestion!
> > someone can confirm that SOL_SOCKET->SO_RCVTIMEO uses 'int' as parameter
> > in MS-Windows.
> There is the following definition in the header file winsock.h from BCC:
> int PASCAL FAR setsockopt (
>                            IN SOCKET s,
>                            IN int level,
>                            IN int optname,
>                            IN const char FAR * optval,
>                            IN int optlen);

I know but it's the standard definition in all BSD * socket implementations
though POSIX standard suggest to use as last two parameters:
   const void *optval,
   socklen_t optlen
anyhow it does not inform what is the internal structure of value pointed
by optval. Different options use different parameters. You have to check
in the documentation expected value for each socket option you are using
and pass as parameter valid structure, i.e. here is Linux documentation
for SO_RCVTIMEO and SO_SNDTIMEO which is semantically compatible with
original BSD documentation:
   SO_RCVTIMEO and SO_SNDTIMEO
      Specify the receiving or sending  timeouts  until  reporting  an
      error.   The parameter is a struct timeval.  If an input or out?
      put function blocks for this period of time, and data  has  been
      sent  or received, the return value of that function will be the
      amount of data transferred; if no data has been transferred  and
      the  timeout has been reached then -1 is returned with errno set
      to EAGAIN or EWOULDBLOCK just as if the socket was specified  to
      be  non-blocking.   If  the timeout is set to zero (the default)
      then the operation  will  never  timeout.   Timeouts  only  have
      effect  for system calls that perform socket I/O (e.g., read(2),
      recvmsg(2), send(2), sendmsg(2)); timeouts have  no  effect  for
      select(2), poll(2), epoll_wait(2), etc.

As long as you do not know any MS-Windows socket documentations which
explicitly says that WINSOCK uses different structure as SOL_SOCKET->
SO_RCVTIMEO parameter then I strongly suggest to use original BSD
socket documentation and in this case modify the code to use pointer
to 'struct timeval' instead of pointer to 'int' as parameter for
setsockopt( sd, SOL_SOCKET, SO_RCVTIMEO, ... ).

best regards,
Przemek
From maufacc at adinet.com.uy  Fri Oct  9 06:09:02 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Fri Oct  9 06:09:20 2009
Subject: [Harbour] Re: SF
	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible with clipper
In-Reply-To: <4ACE6EDC.2030901@gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>
	<4ACE6EDC.2030901@gmail.com>
Message-ID: <4ACF0BBE.2010607@adinet.com.uy>

What I do not understand is that:

Compiler says that the patch was applied correctly
Clipper (R) 5.2e
Copyright (c) 1985-1995, Computer Associates International, Inc.

But VERSION() in clipper tolds ->  5.2d Intl. (x215)  (1994.03.25)



Xavi escribi?:
> Thanks Maurizio,
>
> I have the same.
>
>> I do not understand why I obtain a CPINFO.exe that  generates the 
>> following CPINFO.TXT header.
>
> Because it shows how short and convert the driver used in the 
> application Clipper.
> Remember that we have ES850 to compile Clipper code but "You should 
> rebuild all indexes before the application is used".   
> The same happen if you change the driver in your application Clipper.
>
> Hopefully someone post the versions 1.31f.
>
From harbour.01 at syenar.hu  Fri Oct  9 06:14:37 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Oct  9 06:14:46 2009
Subject: [Harbour] Re: SF
	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible with clipper
In-Reply-To: <4ACF0BBE.2010607@adinet.com.uy>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>
	<4ACE6EDC.2030901@gmail.com> <4ACF0BBE.2010607@adinet.com.uy>
Message-ID: <EF23B6F0-99D0-4C21-AE09-E83E5263AA4E@syenar.hu>

> What I do not understand is that:
>
> Compiler says that the patch was applied correctly
> Clipper (R) 5.2e
> Copyright (c) 1985-1995, Computer Associates International, Inc.
>
> But VERSION() in clipper tolds ->  5.2d Intl. (x215)  (1994.03.25)

It seems the .lib files (or at least some of them) didn't get updated,
but the compiler did.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Oct  9 06:15:35 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Oct  9 06:15:44 2009
Subject: [Harbour] Re: SF
	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible with clipper
In-Reply-To: <EF23B6F0-99D0-4C21-AE09-E83E5263AA4E@syenar.hu>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>
	<4ACE6EDC.2030901@gmail.com> <4ACF0BBE.2010607@adinet.com.uy>
	<EF23B6F0-99D0-4C21-AE09-E83E5263AA4E@syenar.hu>
Message-ID: <FD9BDAC5-FA23-4D92-8EBD-1A20F0A4FA15@syenar.hu>

or, it's possible you have multiple copies of Clipper .libs,
and the non-patched one gets picked by the linker.

Brgds,
Viktor

On 2009 Oct 9, at 12:14, Viktor Szak?ts wrote:

>> What I do not understand is that:
>>
>> Compiler says that the patch was applied correctly
>> Clipper (R) 5.2e
>> Copyright (c) 1985-1995, Computer Associates International, Inc.
>>
>> But VERSION() in clipper tolds ->  5.2d Intl. (x215)  (1994.03.25)
>
> It seems the .lib files (or at least some of them) didn't get updated,
> but the compiler did.
>
> Brgds,
> Viktor
>

From druzus at acn.waw.pl  Fri Oct  9 06:16:32 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Oct  9 06:16:39 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c not fully
	compatible with clipper
In-Reply-To: <4ACF0BBE.2010607@adinet.com.uy>
References: <2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>
	<4ACC7CE4.30700@gmail.com>
	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>
	<4ACCEA9A.7090508@gmail.com>
	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>
	<4ACD2353.3080103@gmail.com>
	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>
	<4ACE2246.3040406@adinet.com.uy> <4ACE6EDC.2030901@gmail.com>
	<4ACF0BBE.2010607@adinet.com.uy>
Message-ID: <20091009101632.GA4278@uran.home.aster.pl>

On Fri, 09 Oct 2009, Maurizio Faccio adinet wrote:
> What I do not understand is that:
> Compiler says that the patch was applied correctly
> Clipper (R) 5.2e
> Copyright (c) 1985-1995, Computer Associates International, Inc.
> But VERSION() in clipper tolds ->  5.2d Intl. (x215)  (1994.03.25)

It means that you linked final application with 5.2d libraries.
So you haven;t patched your libraries or it's a result of some
mistakes in LIB envvar settings.

best regards,
Przemek
From maufacc at adinet.com.uy  Fri Oct  9 06:36:16 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Fri Oct  9 06:43:08 2009
Subject: [Harbour] Re:
	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible with clipper
In-Reply-To: <EF23B6F0-99D0-4C21-AE09-E83E5263AA4E@syenar.hu>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>
	<4ACF0BBE.2010607@adinet.com.uy>
	<EF23B6F0-99D0-4C21-AE09-E83E5263AA4E@syenar.hu>
Message-ID: <4ACF1220.9020305@adinet.com.uy>

The only lib that patch told me that can not update are CLIPPER.LIB and 
CLD.LIB (debugger). Maybe CLIPPER.lib , I guess that VERSION() is 
included in CLIPPER.LIB (i saw inside it, with a hex viewer)
But, ntxspa.obj and msgspa.obj and DBFNTX.LIB was updated with the patch.

Thanks


Viktor Szak?ts escribi?:
>> What I do not understand is that:
>>
>> Compiler says that the patch was applied correctly
>> Clipper (R) 5.2e
>> Copyright (c) 1985-1995, Computer Associates International, Inc.
>>
>> But VERSION() in clipper tolds ->  5.2d Intl. (x215)  (1994.03.25)
>
> It seems the .lib files (or at least some of them) didn't get updated,
> but the compiler did.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

   
From jarabal at gmail.com  Fri Oct  9 06:56:17 2009
From: jarabal at gmail.com (Xavi)
Date: Fri Oct  9 06:58:40 2009
Subject: [Harbour] Re:
	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible with clipper
In-Reply-To: <4ACF0BBE.2010607@adinet.com.uy>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>
	<4ACF0BBE.2010607@adinet.com.uy>
Message-ID: <4ACF16D1.5090307@gmail.com>

But this is irrelevant the important is that you are using .-

> Character encoding: NTXSORT v1.21e x15 24/Jun/93 
[...]
> Character encoding: NTXSORT v1.21e x15 24/Jun/93
> ==================================================
> character '' (151:A L ) is the same as upper and lower
> number of upper and lower characters is different
> Warning: irregular CP which needs special definition in Harbour
> upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
> lower: "a bcdefghijklmnopqrstuvwxyz"
> ==================================================

This driver for collation and build index.

-- 
Xavi

Maurizio Faccio adinet escribi:
> What I do not understand is that:
> 
> Compiler says that the patch was applied correctly
> Clipper (R) 5.2e
> Copyright (c) 1985-1995, Computer Associates International, Inc.
> 
> But VERSION() in clipper tolds ->  5.2d Intl. (x215)  (1994.03.25)
> 
> 
> 
> Xavi escribi:
>> Thanks Maurizio,
>>
>> I have the same.
>>
>>> I do not understand why I obtain a CPINFO.exe that  generates the 
>>> following CPINFO.TXT header.
>>
>> Because it shows how short and convert the driver used in the 
>> application Clipper.
>> Remember that we have ES850 to compile Clipper code but "You should 
>> rebuild all indexes before the application is used".   The same happen 
>> if you change the driver in your application Clipper.
>>
>> Hopefully someone post the versions 1.31f.
>>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 




From maufacc at adinet.com.uy  Fri Oct  9 07:01:05 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Fri Oct  9 07:01:13 2009
Subject: [Harbour] Re:
	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible with clipper
In-Reply-To: <FD9BDAC5-FA23-4D92-8EBD-1A20F0A4FA15@syenar.hu>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>
	<4ACF0BBE.2010607@adinet.com.uy>	<EF23B6F0-99D0-4C21-AE09-E83E5263AA4E@syenar.hu>
	<FD9BDAC5-FA23-4D92-8EBD-1A20F0A4FA15@syenar.hu>
Message-ID: <4ACF17F1.8090104@adinet.com.uy>

Yes I have but I take care that pick the correct one.
I've just can patch to CLIPPER 5.2e library. Just run "patch 52elib" 
under de .\LIB directory.

I've binary compare the file NTXSPA.obj patched and unpatched are the 
same, despite they change of time stamps.
Viewing with a hex viewer I found in the .OBJ -> NTXSORT v1.21e x15 
24/Jun/93?? - SPANISH DBFNTX Collation
I also view with the hex viewer the patched CLIPPER.LIB -> NTXSORT 
v1.21e x15 24/Jun/93?? - SPANISH DBFNTX Collation
I send you the new cpinfo.txt

1- Clipper patched without clipper.lib patch
2- Harbour es850c
3- Clipper patched with clipper.lib patch

Thanks

Maurizio





Viktor Szak?ts escribi?:
> or, it's possible you have multiple copies of Clipper .libs,
> and the non-patched one gets picked by the linker.
>
> Brgds,
> Viktor
>
> On 2009 Oct 9, at 12:14, Viktor Szak?ts wrote:
>
>>> What I do not understand is that:
>>>
>>> Compiler says that the patch was applied correctly
>>> Clipper (R) 5.2e
>>> Copyright (c) 1985-1995, Computer Associates International, Inc.
>>>
>>> But VERSION() in clipper tolds ->  5.2d Intl. (x215)  (1994.03.25)
>>
>> It seems the .lib files (or at least some of them) didn't get updated,
>> but the compiler did.
>>
>> Brgds,
>> Viktor
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-------------- next part --------------

10/08/09 11:20:23 DOS 5.00 Clipper (R) 5.2d Intl. (x215)  (1994.03.25)
Character encoding: NTXSORT v1.21e x15 24/Jun/93
==================================================
character '?' (151:A L ) is the same as upper and lower
number of upper and lower characters is different
Warning: irregular CP which needs special definition in Harbour
upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
lower: "a?bcde?fghi?jklmn?o?pqrstu?vwxy?z???"
==================================================

10/08/09 11:21:53 Windows XP 5.1.2600 Service Pack 3 Harbour 1.1.0dev (Rev. 9908)
Character encoding: ES850C
==================================================
upper: "A?BCDE?FGHI?JKLMN?O?PQRSTU??VWXYZ"
lower: "a?bcde?fghi?jklmn?o?pqrstu??vwxyz"
==================================================

10/09/09 08:53:49 DOS 5.00 Clipper (R) 5.2e Intl. (x216)  (1995.02.07)
Character encoding: NTXSORT v1.21e x15 24/Jun/93
==================================================
character '?' (151:A L ) is the same as upper and lower
number of upper and lower characters is different
Warning: irregular CP which needs special definition in Harbour
upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
lower: "a?bcde?fghi?jklmn?o?pqrstu?vwxy?z???"
==================================================

From maufacc at adinet.com.uy  Fri Oct  9 07:04:23 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Fri Oct  9 07:04:30 2009
Subject: [Harbour]
	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4ACF16D1.5090307@gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>
	<4ACF16D1.5090307@gmail.com>
Message-ID: <4ACF18B7.5030601@adinet.com.uy>

Clipper.lib is relevant because usually I do not compile linking 
ntxspa.obj, I link with to this test.
As I can see CLIPPER.LIB have the native collation of clipper version.

Maurizio




Xavi escribi:
> But this is irrelevant the important is that you are using .-
>
>> Character encoding: NTXSORT v1.21e x15 24/Jun/93 
> [...]
>> Character encoding: NTXSORT v1.21e x15 24/Jun/93
>> ==================================================
>> character '' (151:A L ) is the same as upper and lower
>> number of upper and lower characters is different
>> Warning: irregular CP which needs special definition in Harbour
>> upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
>> lower: "a bcdefghijklmnopqrstuvwxyz"
>> ==================================================
>
> This driver for collation and build index.
>
From harbour.01 at syenar.hu  Fri Oct  9 07:14:03 2009
From: harbour.01 at syenar.hu (=?windows-1252?Q?Viktor_Szak=E1ts?=)
Date: Fri Oct  9 07:14:11 2009
Subject: [Harbour]
	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4ACF18B7.5030601@adinet.com.uy>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>
	<4ACF16D1.5090307@gmail.com> <4ACF18B7.5030601@adinet.com.uy>
Message-ID: <F154BDC7-5244-4DA5-B2A0-A0D8B8F87F33@syenar.hu>

SPANISH and INTL edition seem to use the same collations.

Am I concluding right?

Brgds,
Viktor

On 2009 Oct 9, at 13:04, Maurizio Faccio adinet wrote:

> Clipper.lib is relevant because usually I do not compile linking  
> ntxspa.obj, I link with to this test.
> As I can see CLIPPER.LIB have the native collation of clipper version.
>
> Maurizio
>
>
>
>
> Xavi escribi?:
>> But this is irrelevant the important is that you are using .-
>>
>>> Character encoding: NTXSORT v1.21e x15 24/Jun/93
>> [...]
>>> Character encoding: NTXSORT v1.21e x15 24/Jun/93
>>> ==================================================
>>> character '?' (151:A L ) is the same as upper and lower
>>> number of upper and lower characters is different
>>> Warning: irregular CP which needs special definition in Harbour
>>> upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
>>> lower: "a bcde?fghi?jklmn?o?pqrstu?vwxy?z???"
>>> ==================================================
>>
>> This driver for collation and build index.
>>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From maufacc at adinet.com.uy  Fri Oct  9 07:21:34 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Fri Oct  9 07:21:45 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <F154BDC7-5244-4DA5-B2A0-A0D8B8F87F33@syenar.hu>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>
	<4ACF18B7.5030601@adinet.com.uy>
	<F154BDC7-5244-4DA5-B2A0-A0D8B8F87F33@syenar.hu>
Message-ID: <4ACF1CBE.7080409@adinet.com.uy>


I guess that you are right

Maurizio


Viktor Szak?ts escribi?:
> SPANISH and INTL edition seem to use the same collations.
>
> Am I concluding right?
>
> Brgds,
> Viktor
>
> On 2009 Oct 9, at 13:04, Maurizio Faccio adinet wrote:
>
>> Clipper.lib is relevant because usually I do not compile linking 
>> ntxspa.obj, I link with to this test.
>> As I can see CLIPPER.LIB have the native collation of clipper version.
>>
>> Maurizio
>>
>>
>>
>>
>> Xavi escribi?:
>>> But this is irrelevant the important is that you are using .-
>>>
>>>> Character encoding: NTXSORT v1.21e x15 24/Jun/93
>>> [...]
>>>> Character encoding: NTXSORT v1.21e x15 24/Jun/93
>>>> ==================================================
>>>> character '?' (151:A L ) is the same as upper and lower
>>>> number of upper and lower characters is different
>>>> Warning: irregular CP which needs special definition in Harbour
>>>> upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
>>>> lower: "a bcde?fghi?jklmn?o?pqrstu?vwxy?z???"
>>>> ==================================================
>>>
>>> This driver for collation and build index.
>>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
From jarabal at gmail.com  Fri Oct  9 07:29:44 2009
From: jarabal at gmail.com (Xavi)
Date: Fri Oct  9 07:32:06 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4ACF18B7.5030601@adinet.com.uy>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>
	<4ACF18B7.5030601@adinet.com.uy>
Message-ID: <4ACF1EA8.9010205@gmail.com>

Maurizio,
> Clipper.lib is relevant because usually I do not compile linking ntxspa.obj, I link with to this test.
> As I can see CLIPPER.LIB have the native collation of clipper version. 

In this case you would have .-

Clipper (R) 5.3 Intl. (Rev. 330) US - ASCII Collation
DS=2BE1:0000  DS avail=48KB  OS avail=399KB  EMM avail=0KB

10/09/09 13:20:18 DOS 5.00 Clipper (R) 5.3 Intl.
Character encoding: NATSORT v1.3i x19 06/Mar/95
==================================================
simple byte sorting !!!
upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
lower: "abcdefghijklmnopqrstuvwxyz"
==================================================

Which is not compatible with Spanish collation.


Viktor,
> SPANISH and INTL edition seem to use the same collations.
> Am I concluding right? 

Sorry, I don't understand.

-- 
Xavi

From harbour.01 at syenar.hu  Fri Oct  9 07:44:17 2009
From: harbour.01 at syenar.hu (=?windows-1252?Q?Viktor_Szak=E1ts?=)
Date: Fri Oct  9 07:44:27 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4ACF1EA8.9010205@gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>
	<4ACF18B7.5030601@adinet.com.uy> <4ACF1EA8.9010205@gmail.com>
Message-ID: <9C33EE33-FFA3-47C6-9CD4-1EA2BA085974@syenar.hu>

> Clipper (R) 5.3 Intl. (Rev. 330) US - ASCII Collation
> DS=2BE1:0000  DS avail=48KB  OS avail=399KB  EMM avail=0KB

Wrong again. 5.3b Intl. (Rev. 338) is the version we're
interested in.

Please don't tell me that we're not looking at Clipper
versions but collation file revisions, because the two
are related to each other (i.e. specific collation revisions
come with specific Clipper versions).

Since we cannot guess whether CA changed sorting revision
in between these Clipper version updates, it's best to
do all testing with latest Clipper version.

All older versions are irrelevant and serve no other
purpose than confusing Harbour developers.

> 10/09/09 13:20:18 DOS 5.00 Clipper (R) 5.3 Intl.
> Character encoding: NATSORT v1.3i x19 06/Mar/95
> ==================================================
> simple byte sorting !!!
> upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
> lower: "abcdefghijklmnopqrstuvwxyz"
> ==================================================
>
> Which is not compatible with Spanish collation.
>
>
> Viktor,
>> SPANISH and INTL edition seem to use the same collations.
>> Am I concluding right?
>
> Sorry, I don't understand.

 From mails sent to this list I understood there was a special
SPANISH edition of Clipper. There was definitely an INTERNATIONAL
(INTL) version of Clipper too, this was the version most
Harbour developers been using for reference so far. (plus there
was the US version, which is irrelevant now)

Some users are reporting collations with SPANISH, some others
with INTL versions. So far, they seem to use the same collation
files and revisions.

If they are the same: good.
If not, we should look at the INTL version for reference.
(unless Spanish users suggest otherwise in case of Spanish
collations)

Brgds,
Viktor

From maufacc at adinet.com.uy  Fri Oct  9 07:47:56 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Fri Oct  9 07:48:11 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4ACF1EA8.9010205@gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>	<4ACF18B7.5030601@adinet.com.uy>
	<4ACF1EA8.9010205@gmail.com>
Message-ID: <4ACF22EC.5050400@adinet.com.uy>

Xavi.

You are trying Clipper 5.3, US version. I own 5.2 International edition, 
that have the spanish collation by default as i see.

Maurizio

Xavi escribi?:
> Maurizio,
>> Clipper.lib is relevant because usually I do not compile linking 
>> ntxspa.obj, I link with to this test.
>> As I can see CLIPPER.LIB have the native collation of clipper version. 
>
> In this case you would have .-
>
> Clipper (R) 5.3 Intl. (Rev. 330) US - ASCII Collation
> DS=2BE1:0000  DS avail=48KB  OS avail=399KB  EMM avail=0KB
>
> 10/09/09 13:20:18 DOS 5.00 Clipper (R) 5.3 Intl.
> Character encoding: NATSORT v1.3i x19 06/Mar/95
> ==================================================
> simple byte sorting !!!
> upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
> lower: "abcdefghijklmnopqrstuvwxyz"
> ==================================================
>
> Which is not compatible with Spanish collation.
>
>
> Viktor,
>> SPANISH and INTL edition seem to use the same collations.
>> Am I concluding right? 
>
> Sorry, I don't understand.
>
From itamarlins at bol.com.br  Fri Oct  9 08:37:53 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Fri Oct  9 08:40:19 2009
Subject: [Harbour] Problem with set filter
Message-ID: <hanaud$bqo$1@ger.gmane.org>

Hi!

My reports now with set filter fail, for exemple, if I use date criteria.
set date to brit
inicio := fim := ctod('23/10/09')
Set Filter to pd->data_compr >= inicio .and. pd->data_compr <= fim
the "set filter" not works, get all records of data base.
Testing with  * $Id: ChangeLog 12672 2009-10-07 23:27:38Z vouchcac $
Before, works fine, but I don't know the version of SVN what run ok. :-(

Best regards,
Itamar M. Lins Jr.



From druzus at acn.waw.pl  Fri Oct  9 10:04:47 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Oct  9 10:04:56 2009
Subject: [Harbour] Problem with set filter
In-Reply-To: <hanaud$bqo$1@ger.gmane.org>
References: <hanaud$bqo$1@ger.gmane.org>
Message-ID: <20091009140447.GA7501@uran.home.aster.pl>

On Fri, 09 Oct 2009, Itamar Lins wrote:

Hi,

> My reports now with set filter fail, for exemple, if I use date criteria.
> set date to brit
> inicio := fim := ctod('23/10/09')
> Set Filter to pd->data_compr >= inicio .and. pd->data_compr <= fim
> the "set filter" not works, get all records of data base.
> Testing with  * $Id: ChangeLog 12672 2009-10-07 23:27:38Z vouchcac $
> Before, works fine, but I don't know the version of SVN what run ok. :-(

If you need any help then please create self contain example.
Otherwise I have to think it nothing more then problem your created
yourself in your own code.
I created this example:

   proc main()
      field F
      local inicio, fim
      set date to brit
      dbcreate("_tst",{{"F","D",8,0}})
      use _tst
      dbappend(); F := ctod('22/10/09')
      dbappend(); F := ctod('23/10/09')
      dbappend(); F := ctod('24/10/09')
      dbappend(); F := ctod('25/10/09')
      dbgotop()
      while !eof()
         ? recno(), F
         dbskip()
      enddo
      ?
      inicio := ctod('23/10/09')
      fim    := ctod('24/10/09')
      set filter to F >= inicio .and. F <= fim
      dbgotop()
      while !eof()
         ? recno(), F
         dbskip()
      enddo
   return

and it works perfectly.

It's very important for us to have user feedback with information
about real problems so we can fix them. But false bag reports reduce
the time we can invest in Harbour development so I kindly ask you and
all other Harbour users to make at least even basic verification of
the problem during creating self contain example and then check if
this example compiled by Clipper gives different results and if yes
then finally report the problem to the list attaching the _self_contain_
code example which developers can compile to easy verify the problem.

best regards,
Przemek
From roberbox at gmail.com  Fri Oct  9 10:37:40 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Fri Oct  9 10:37:42 2009
Subject: [Harbour] RDDADO on Beta3
In-Reply-To: <hanaud$bqo$1@ger.gmane.org>
References: <hanaud$bqo$1@ger.gmane.org>
Message-ID: <4ACF4AB4.2000907@gmail.com>

Hi All,

I continue testing beta3 and found a problem with rddado sample.

The sample (contrib\rddado\access1.prg) works, but exiting browse with 
[ESC] it gives the following error:

Error BASE/3012  Argument error: FIND
Called from WIN_OLEAUTO:FIND(0)  OPEN
Called from ADO_LOCATE(0)  N(0)
Called from __DBLOCATE(0)
Called from MAIN(34)  0)
Called from MAIN(11)

I've compiled with: 'hbmk2 access2.prg'

If you modify the sample to display recno() value you'll find that it 
always return 0 (It worked fine in Harbour 1.01)

This problem causes that HMG RDDADO Browse samples to crash, since HMG 
browse control relies on values returned by recno() function (of course, 
this is a problem for non-HMG users too).


Regards,

Roberto.







From vszakats at users.sourceforge.net  Fri Oct  9 10:54:23 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Oct  9 10:54:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12677] trunk/harbour
Message-ID: <E1MwGrP-0003rh-8u@dn4whf1.ch3.sourceforge.com>

Revision: 12677
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12677&view=rev
Author:   vszakats
Date:     2009-10-09 14:54:14 +0000 (Fri, 09 Oct 2009)

Log Message:
-----------
2009-10-09 16:53 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  - source
  + src
  * src/Makefile
  * src/dynlib/mt/Makefile
  * src/dynlib/Makefile
  * INSTALL
  * Makefile
  * ChangeLog
  * harbour.spec
  * mpkg_tgz.sh
    * Renamed 'source' dir to 'src' to move closer to other FOSS 
      projects. It's also easier to type, plus it has the side 
      effect that some cmdlines will be shorter in the 
      build process.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/Makefile
    trunk/harbour/harbour.spec
    trunk/harbour/mpkg_tgz.sh
    trunk/harbour/src/Makefile
    trunk/harbour/src/dynlib/Makefile
    trunk/harbour/src/dynlib/mt/Makefile

Added Paths:
-----------
    trunk/harbour/src/

Removed Paths:
-------------
    trunk/harbour/source/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Oct  9 10:53:52 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Oct  9 10:58:04 2009
Subject: [Harbour] RDDADO on Beta3
In-Reply-To: <4ACF4AB4.2000907@gmail.com>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com>
Message-ID: <16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>

Hi Roberto,

Yes, RDDADO is broken. Unfortunately seemingly nobody
was so far interested enough to fix it :( Help would be
appreciated, apparently nobody on the dev list uses this
component.

It's possible that some things got broken because we
now use a fully rewritten OLE connector engine and
there are some small differences. But could be that it's
something else.

Brgds,
Viktor

On 2009 Oct 9, at 16:37, Roberto Lopez wrote:

> Hi All,
>
> I continue testing beta3 and found a problem with rddado sample.
>
> The sample (contrib\rddado\access1.prg) works, but exiting browse  
> with [ESC] it gives the following error:
>
> Error BASE/3012  Argument error: FIND
> Called from WIN_OLEAUTO:FIND(0)  OPEN
> Called from ADO_LOCATE(0)  N(0)
> Called from __DBLOCATE(0)
> Called from MAIN(34)  0)
> Called from MAIN(11)
>
> I've compiled with: 'hbmk2 access2.prg'
>
> If you modify the sample to display recno() value you'll find that  
> it always return 0 (It worked fine in Harbour 1.01)
>
> This problem causes that HMG RDDADO Browse samples to crash, since  
> HMG browse control relies on values returned by recno() function (of  
> course, this is a problem for non-HMG users too).
>
>
> Regards,
>
> Roberto.
>
>
>
>
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From jarabal at gmail.com  Fri Oct  9 11:25:39 2009
From: jarabal at gmail.com (Xavi)
Date: Fri Oct  9 11:28:06 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4ACF22EC.5050400@adinet.com.uy>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>	<4ACF18B7.5030601@adinet.com.uy>	<4ACF1EA8.9010205@gmail.com>
	<4ACF22EC.5050400@adinet.com.uy>
Message-ID: <4ACF55F3.1080708@gmail.com>

Maurizio,
> I own 5.2 International edition, that have the spanish collation by default as i see.

Please, could you publish this version of cpinfo.txt because I don' t have this information.
Only by removing the obj to link .-

FILE cpinfo

Thanks.

-- 
Xavi

Maurizio Faccio adinet escribi?:
> Xavi.
> 
> You are trying Clipper 5.3, US version. I own 5.2 International edition, 
> that have the spanish collation by default as i see.
> 
> Maurizio
> 
> Xavi escribi?:
>> Maurizio,
>>> Clipper.lib is relevant because usually I do not compile linking 
>>> ntxspa.obj, I link with to this test.
>>> As I can see CLIPPER.LIB have the native collation of clipper version. 
>>
>> In this case you would have .-
>>
>> Clipper (R) 5.3 Intl. (Rev. 330) US - ASCII Collation
>> DS=2BE1:0000  DS avail=48KB  OS avail=399KB  EMM avail=0KB
>>
>> 10/09/09 13:20:18 DOS 5.00 Clipper (R) 5.3 Intl.
>> Character encoding: NATSORT v1.3i x19 06/Mar/95
>> ==================================================
>> simple byte sorting !!!
>> upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
>> lower: "abcdefghijklmnopqrstuvwxyz"
>> ==================================================
>>
>> Which is not compatible with Spanish collation.
>>
>>
>> Viktor,
>>> SPANISH and INTL edition seem to use the same collations.
>>> Am I concluding right? 
>>
>> Sorry, I don't understand.
>>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From bedipritpal at hotmail.com  Fri Oct  9 11:31:46 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Oct  9 11:31:51 2009
Subject: [Harbour] HBQT - HBXBP : Garbage Collection
In-Reply-To: <20091009085842.GC15058@uran.home.aster.pl>
References: <25813841.post@talk.nabble.com>
	<6C111374-7FA2-468D-BAA1-FFAE33167E16@syenar.hu>
	<25816231.post@talk.nabble.com>
	<20091009085842.GC15058@uran.home.aster.pl>
Message-ID: <25823139.post@talk.nabble.com>


Hello Przemek

Thank for the corrections and insight.


Przemyslaw Czerpak-2 wrote:
> 
>> static QMessageBox* xhbqt_par_QMessageBox( int iParam )
>> {
>>    void ** ph = ( void ** ) hb_parptrGC( QMessageBox_release, iParam );
>>    return ph ? ( QMessageBox * ) ph : NULL;
>> }
> 
> Here is mistake. The last line should be changed to:
>    return ph ? ( QMessageBox * ) * ph : NULL;
> 
> 

But I cannot compile with this change.
Error reported is : cannot convert 'QMessageBox*' to 'void**' in assignment



> Very good. Please only remember that QT_QMESSAGEBOX_DESTROY is optional.
> You do not have to implement this function because destructor will be
> automatically activated when the last .prg item holding the pointer
> to QMessageBox will be released (cleared or overwritten).
> 

Yes, I know. I just kept it if incase appln wants to free it explicitly,
though in practive it will not be required.



> In some cases you may also need function DETACH which will be used for
> widgets attached to some other QT widgets so they will be released
> automatically with parent objects and should not be release by our GC.
> I.e.:
>    void xhbqt_detach_QMessageBox( PHB_ITEM pItem )
>    {
>       void ** ph = ( void ** ) hb_itemGetPtrGC( pItem, QMessageBox_release
> );
>       if( ph && *ph )
>          *ph = NULL;
>    }
> 
> In most of cases such function should be called by C code which attach
> widget to parent object but if you really need it then you can create
> .prg wrapper two:
>    HB_FUNC( QT_QMESSAGEBOX_DETACH )
>    {
>       xhbqt_detach_QMessageBox( hb_param( 1, HB_IT_POINTER ) );
>    }
> Please only remember that after detaching GC will not free the object
> automatically and it has to be freed in other way, i.e. by parent object.
> 

A good idea. I will try to implement it. But perhaps I need to know 
more how Qt destroys the child objects, I mean, its life-cycle.

Regards
Pritpal Bedi

PS :  BTW can you analyze why Qt keeps on consuming more memory?

-- 
View this message in context: http://www.nabble.com/HBQT---HBXBP-%3A-Garbage-Collection-tp25813841p25823139.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Fri Oct  9 11:43:31 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Oct  9 11:43:37 2009
Subject: [Harbour] HBQT - HBXBP : Garbage Collection
In-Reply-To: <25823139.post@talk.nabble.com>
References: <25813841.post@talk.nabble.com>
	<6C111374-7FA2-468D-BAA1-FFAE33167E16@syenar.hu>
	<25816231.post@talk.nabble.com>
	<20091009085842.GC15058@uran.home.aster.pl>
	<25823139.post@talk.nabble.com>
Message-ID: <25823179.post@talk.nabble.com>


Hi

Sorry my mistake. Hold on...

Regards
Pritpal Bedi


Pritpal Bedi wrote:
> 
> Hello Przemek
> 
> Thank for the corrections and insight.
> 
> 
> Przemyslaw Czerpak-2 wrote:
>> 
>>> static QMessageBox* xhbqt_par_QMessageBox( int iParam )
>>> {
>>>    void ** ph = ( void ** ) hb_parptrGC( QMessageBox_release, iParam );
>>>    return ph ? ( QMessageBox * ) ph : NULL;
>>> }
>> 
>> Here is mistake. The last line should be changed to:
>>    return ph ? ( QMessageBox * ) * ph : NULL;
>> 
>> 
> 
> But I cannot compile with this change.
> Error reported is : cannot convert 'QMessageBox*' to 'void**' in
> assignment
> 
> 
> 
>> Very good. Please only remember that QT_QMESSAGEBOX_DESTROY is optional.
>> You do not have to implement this function because destructor will be
>> automatically activated when the last .prg item holding the pointer
>> to QMessageBox will be released (cleared or overwritten).
>> 
> 
> Yes, I know. I just kept it if incase appln wants to free it explicitly,
> though in practive it will not be required.
> 
> 
> 
>> In some cases you may also need function DETACH which will be used for
>> widgets attached to some other QT widgets so they will be released
>> automatically with parent objects and should not be release by our GC.
>> I.e.:
>>    void xhbqt_detach_QMessageBox( PHB_ITEM pItem )
>>    {
>>       void ** ph = ( void ** ) hb_itemGetPtrGC( pItem,
>> QMessageBox_release );
>>       if( ph && *ph )
>>          *ph = NULL;
>>    }
>> 
>> In most of cases such function should be called by C code which attach
>> widget to parent object but if you really need it then you can create
>> .prg wrapper two:
>>    HB_FUNC( QT_QMESSAGEBOX_DETACH )
>>    {
>>       xhbqt_detach_QMessageBox( hb_param( 1, HB_IT_POINTER ) );
>>    }
>> Please only remember that after detaching GC will not free the object
>> automatically and it has to be freed in other way, i.e. by parent object.
>> 
> 
> A good idea. I will try to implement it. But perhaps I need to know 
> more how Qt destroys the child objects, I mean, its life-cycle.
> 
> Regards
> Pritpal Bedi
> 
> PS :  BTW can you analyze why Qt keeps on consuming more memory?
> 
> 

-- 
View this message in context: http://www.nabble.com/HBQT---HBXBP-%3A-Garbage-Collection-tp25813841p25823179.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Oct  9 11:51:53 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Oct  9 11:52:02 2009
Subject: [Harbour] HBQT - HBXBP : Garbage Collection
In-Reply-To: <25823139.post@talk.nabble.com>
References: <25813841.post@talk.nabble.com>
	<6C111374-7FA2-468D-BAA1-FFAE33167E16@syenar.hu>
	<25816231.post@talk.nabble.com>
	<20091009085842.GC15058@uran.home.aster.pl>
	<25823139.post@talk.nabble.com>
Message-ID: <FC2ED9CC-A139-49C1-A5B2-BB15FD7A22F2@syenar.hu>

Hi Pritpal,

>> Very good. Please only remember that QT_QMESSAGEBOX_DESTROY is  
>> optional.
>> You do not have to implement this function because destructor will be
>> automatically activated when the last .prg item holding the pointer
>> to QMessageBox will be released (cleared or overwritten).
>>
>
> Yes, I know. I just kept it if incase appln wants to free it  
> explicitly,
> though in practive it will not be required.

Still not needed as it can be replicated by: 'object := NIL'

Creating a function for each object with equivalent functionality
would just create unnecessary bloat.

Brgds,
Viktor

From itamarlins at bol.com.br  Fri Oct  9 11:57:20 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Fri Oct  9 11:59:47 2009
Subject: [Harbour] Re: Problem with set filter
References: <hanaud$bqo$1@ger.gmane.org>
	<20091009140447.GA7501@uran.home.aster.pl>
Message-ID: <hanmkc$m9f$1@ger.gmane.org>

Hi!
Thanks for response.
Please analize my file, because it was make with old xHarbour.
http://www.4shared.com/file/139644752/e204a705/encomenda.html

proc main()
    local inicio, fim
    set date to brit
    use encomenda new alias 'pd'
    dbgotop()
      inicio := ctod('20/08/09')
      fim    := ctod('28/08/09')

      while !eof()
         If pd->data_compr >= inicio .and. pd->data_compr <= fim
           ? recno(), pd->data_compr
        endif
        dbskip()
      enddo
      ?
      set filter to pd->data_compr >= inicio .and. pd->data_compr <= fim
      dbgotop()
      while !eof()
         ? recno(), pd->data_compr
         dbskip()
      enddo
   return

Very strange for me results.

Best regards,
Itamar M. Lins Jr. 



From info at sigia.net  Fri Oct  9 12:20:17 2009
From: info at sigia.net (info@sigia.net)
Date: Fri Oct  9 12:20:23 2009
Subject: [Harbour] Re: Problem with set filter
References: <hanaud$bqo$1@ger.gmane.org>,
	<20091009140447.GA7501@uran.home.aster.pl>,
	<hanmkc$m9f$1@ger.gmane.org>
Message-ID: <200910091820106940687@sigia.net>


I think...

use encomenda new alias pd    and not 'pd'

best regard's
Andrea


From mbelgrano at deltain.it  Fri Oct  9 12:20:16 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Oct  9 12:20:43 2009
Subject: [Harbour] RDDADO on Beta3
In-Reply-To: <16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com> 
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
Message-ID: <609353e70910090920y4aa02aaao247044a96330efb4@mail.gmail.com>

What about the idea of rddtest.prg That verify all rdd operation
supported by all harbour rdd?

Database rdd database function  :?BoF(), DbGoBottom(), DbGoTop(),
DbSkip(), Eof(), Found(), rlock(),DbSetFilter(),OrdFindRec(),
OrdKeyGoto(), OrdWildSeek(),?,RecNo() ,dbseek(),
Index rdd index function:DbCreateIndex(), DbReindex(), DbSetIndex(),
DbSetOrder(), OrdListClear(), ?indexkey(),Indexord()
Other rdd function :  dbExists(  ),  dbDrop( )

2009/10/9 Viktor Szak?ts <harbour.01@syenar.hu>
>
> Hi Roberto,
>
> Yes, RDDADO is broken. Unfortunately seemingly nobody
> was so far interested enough to fix it :( Help would be
> appreciated, apparently nobody on the dev list uses this
> component.
>
> It's possible that some things got broken because we
> now use a fully rewritten OLE connector engine and
> there are some small differences. But could be that it's
> something else.
>
> Brgds,
> Viktor
>
> On 2009 Oct 9, at 16:37, Roberto Lopez wrote:
>
>> Hi All,
>>
>> I continue testing beta3 and found a problem with rddado sample.
>>
>> The sample (contrib\rddado\access1.prg) works, but exiting browse with [ESC] it gives the following error:
>>
>> Error BASE/3012 ?Argument error: FIND
>> Called from WIN_OLEAUTO:FIND(0) ?OPEN
>> Called from ADO_LOCATE(0) ?N(0)
>> Called from __DBLOCATE(0)
>> Called from MAIN(34) ?0)
>> Called from MAIN(11)
>>
>> I've compiled with: 'hbmk2 access2.prg'
>>
>> If you modify the sample to display recno() value you'll find that it always return 0 (It worked fine in Harbour 1.01)
>>
>> This problem causes that HMG RDDADO Browse samples to crash, since HMG browse control relies on values returned by recno() function (of course, this is a problem for non-HMG users too).
>>
>>
>> Regards,
>>
>> Roberto.
>>
>>
>>
>>
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour



--
Massimo Belgrano
From roberbox at gmail.com  Fri Oct  9 13:16:05 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Fri Oct  9 13:16:09 2009
Subject: [Harbour] RDDADO on Beta3
In-Reply-To: <16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com>
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
Message-ID: <4ACF6FD5.4010706@gmail.com>

Viktor Szak?ts wrote:

> Yes, RDDADO is broken. Unfortunately seemingly nobody
> was so far interested enough to fix it :( 
<...>

Ok.

Thanks for your quick response.

Regards,

Roberto.

From druzus at acn.waw.pl  Fri Oct  9 13:22:12 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Oct  9 13:22:19 2009
Subject: [Harbour] Re: Problem with set filter
In-Reply-To: <hanmkc$m9f$1@ger.gmane.org>
References: <hanaud$bqo$1@ger.gmane.org>
	<20091009140447.GA7501@uran.home.aster.pl>
	<hanmkc$m9f$1@ger.gmane.org>
Message-ID: <20091009172212.GA31114@uran.home.aster.pl>

On Fri, 09 Oct 2009, Itamar Lins wrote:

Hi,

> Thanks for response.
> Please analize my file, because it was make with old xHarbour.
> http://www.4shared.com/file/139644752/e204a705/encomenda.html
> proc main()
>     local inicio, fim
>     set date to brit
>     use encomenda new alias 'pd'
>     dbgotop()
>       inicio := ctod('20/08/09')
>       fim    := ctod('28/08/09')
>       while !eof()
>          If pd->data_compr >= inicio .and. pd->data_compr <= fim
>            ? recno(), pd->data_compr
>         endif
>         dbskip()
>       enddo
>       ?
>       set filter to pd->data_compr >= inicio .and. pd->data_compr <= fim
>       dbgotop()
>       while !eof()
>          ? recno(), pd->data_compr
>          dbskip()
>       enddo
>    return
> Very strange for me results.

For me above code gives expected results.
Harbour, xHarbour and Clipper gives exactly the same results:
empty record set.
There is no bug in any of the above compilers and they behave as
it's documented. This is why I'm asking to create self contain examples.
HINT: add this line at the end of your code:
   ? hb_dtoc( inicio, "DD/MM/YYYY" ), hb_dtoc( fim, "DD/MM/YYYY" )
and read in Clipper documention what does SET EPOCH TO ...

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Oct  9 13:33:14 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Oct  9 13:33:22 2009
Subject: [Harbour] Re: Problem with set filter
In-Reply-To: <20091009172212.GA31114@uran.home.aster.pl>
References: <hanaud$bqo$1@ger.gmane.org>
	<20091009140447.GA7501@uran.home.aster.pl>
	<hanmkc$m9f$1@ger.gmane.org>
	<20091009172212.GA31114@uran.home.aster.pl>
Message-ID: <2C0D979A-3399-4176-A5DD-0B3370B61393@syenar.hu>

>> proc main()
>>    local inicio, fim
>>    set date to brit
>>    use encomenda new alias 'pd'
>>    dbgotop()
>>      inicio := ctod('20/08/09')
>>      fim    := ctod('28/08/09')

Just a general comment/advice for every Harbour/Clipper programmer:

Using CTOD() is a bad idea in almost all usage cases.
Use STOD() instead.

Brgds,
Viktor

From roberbox at gmail.com  Fri Oct  9 13:42:13 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Fri Oct  9 13:42:14 2009
Subject: (2) [Harbour] RDDADO on Beta3
In-Reply-To: <16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com>
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
Message-ID: <4ACF75F5.5050700@gmail.com>

Viktor Szak?ts escribi?:
> Hi Roberto,
<...>
> It's possible that some things got broken because we
> now use a fully rewritten OLE connector engine and
> there are some small differences. But could be that it's
> something else.

I'm not sure about that.

I've rebuilt the library (librddado.a) from the following source version:

"* $Id: adordd.prg 8953 2008-07-08 06:06:06Z vszakats $"

And it is working fine (librddado.a was the only thing I replaced).

Regards,

Roberto.

> 
> Brgds,
> Viktor
> 
> On 2009 Oct 9, at 16:37, Roberto Lopez wrote:
> 
>> Hi All,
>>
>> I continue testing beta3 and found a problem with rddado sample.
>>
>> The sample (contrib\rddado\access1.prg) works, but exiting browse with 
>> [ESC] it gives the following error:
>>
>> Error BASE/3012  Argument error: FIND
>> Called from WIN_OLEAUTO:FIND(0)  OPEN
>> Called from ADO_LOCATE(0)  N(0)
>> Called from __DBLOCATE(0)
>> Called from MAIN(34)  0)
>> Called from MAIN(11)
>>
>> I've compiled with: 'hbmk2 access2.prg'
>>
>> If you modify the sample to display recno() value you'll find that it 
>> always return 0 (It worked fine in Harbour 1.01)
>>
>> This problem causes that HMG RDDADO Browse samples to crash, since HMG 
>> browse control relies on values returned by recno() function (of 
>> course, this is a problem for non-HMG users too).
>>
>>
>> Regards,
>>
>> Roberto.
>>
>>
>>
>>
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From roberbox at gmail.com  Fri Oct  9 13:57:49 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Fri Oct  9 14:03:59 2009
Subject: Re(3): [Harbour] RDDADO on Beta3
In-Reply-To: <16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com>
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
Message-ID: <4ACF799D.9000501@gmail.com>

Roberto Lopez wrote:

 >I've rebuilt the library (librddado.a) from the following source >version:

 >"* $Id: adordd.prg 8953 2008-07-08 06:06:06Z vszakats $"

Sorry. I was wrong.

This version works better (ie: recno() works) but still having other 
problems.

Regards,

Roberto.

From harbour.01 at syenar.hu  Fri Oct  9 14:04:42 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Oct  9 14:04:51 2009
Subject: (2) [Harbour] RDDADO on Beta3
In-Reply-To: <4ACF75F5.5050700@gmail.com>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com>
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
	<4ACF75F5.5050700@gmail.com>
Message-ID: <1781515E-CD96-462D-B87A-856EA379AACD@syenar.hu>

Can you make this test with revision 11014 of rddado?

Brgds,
Viktor

On 2009 Oct 9, at 19:42, Roberto Lopez wrote:

> Viktor Szak?ts escribi?:
>> Hi Roberto,
> <...>
>> It's possible that some things got broken because we
>> now use a fully rewritten OLE connector engine and
>> there are some small differences. But could be that it's
>> something else.
>
> I'm not sure about that.
>
> I've rebuilt the library (librddado.a) from the following source  
> version:
>
> "* $Id: adordd.prg 8953 2008-07-08 06:06:06Z vszakats $"
>
> And it is working fine (librddado.a was the only thing I replaced).
>
> Regards,
>
> Roberto.
>
>> Brgds,
>> Viktor
>> On 2009 Oct 9, at 16:37, Roberto Lopez wrote:
>>> Hi All,
>>>
>>> I continue testing beta3 and found a problem with rddado sample.
>>>
>>> The sample (contrib\rddado\access1.prg) works, but exiting browse  
>>> with [ESC] it gives the following error:
>>>
>>> Error BASE/3012  Argument error: FIND
>>> Called from WIN_OLEAUTO:FIND(0)  OPEN
>>> Called from ADO_LOCATE(0)  N(0)
>>> Called from __DBLOCATE(0)
>>> Called from MAIN(34)  0)
>>> Called from MAIN(11)
>>>
>>> I've compiled with: 'hbmk2 access2.prg'
>>>
>>> If you modify the sample to display recno() value you'll find that  
>>> it always return 0 (It worked fine in Harbour 1.01)
>>>
>>> This problem causes that HMG RDDADO Browse samples to crash, since  
>>> HMG browse control relies on values returned by recno() function  
>>> (of course, this is a problem for non-HMG users too).
>>>
>>>
>>> Regards,
>>>
>>> Roberto.
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Fri Oct  9 14:16:27 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Oct  9 14:16:54 2009
Subject: (2) [Harbour] RDDADO on Beta3
In-Reply-To: <1781515E-CD96-462D-B87A-856EA379AACD@syenar.hu>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com> 
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
	<4ACF75F5.5050700@gmail.com> 
	<1781515E-CD96-462D-B87A-856EA379AACD@syenar.hu>
Message-ID: <609353e70910091116s1b6fbc94od7e9ed22a792c09@mail.gmail.com>

Here last version of rddado
http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/rddado/

Revision 11014 seem not aivable from svn
http://harbour-project.svn.sourceforge.net/viewvc/harbour-project?view=rev&revision=11014+


2009/10/9 Viktor Szak?ts <harbour.01@syenar.hu>:
> Can you make this test with revision 11014 of rddado?
>
> Brgds,
> Viktor
>
> On 2009 Oct 9, at 19:42, Roberto Lopez wrote:
>
>> Viktor Szak?ts escribi?:
>>>
>>> Hi Roberto,
>>
>> <...>
>>>
>>> It's possible that some things got broken because we
>>> now use a fully rewritten OLE connector engine and
>>> there are some small differences. But could be that it's
>>> something else.
>>
>> I'm not sure about that.
>>
>> I've rebuilt the library (librddado.a) from the following source version:
>>
>> "* $Id: adordd.prg 8953 2008-07-08 06:06:06Z vszakats $"
>>
>> And it is working fine (librddado.a was the only thing I replaced).
>>
>> Regards,
>>
>> Roberto.
>>
>>> Brgds,
>>> Viktor
>>> On 2009 Oct 9, at 16:37, Roberto Lopez wrote:
>>>>
>>>> Hi All,
>>>>
>>>> I continue testing beta3 and found a problem with rddado sample.
>>>>
>>>> The sample (contrib\rddado\access1.prg) works, but exiting browse with
>>>> [ESC] it gives the following error:
>>>>
>>>> Error BASE/3012 ?Argument error: FIND
>>>> Called from WIN_OLEAUTO:FIND(0) ?OPEN
>>>> Called from ADO_LOCATE(0) ?N(0)
>>>> Called from __DBLOCATE(0)
>>>> Called from MAIN(34) ?0)
>>>> Called from MAIN(11)
>>>>
>>>> I've compiled with: 'hbmk2 access2.prg'
>>>>
>>>> If you modify the sample to display recno() value you'll find that it
>>>> always return 0 (It worked fine in Harbour 1.01)
>>>>
>>>> This problem causes that HMG RDDADO Browse samples to crash, since HMG
>>>> browse control relies on values returned by recno() function (of course,
>>>> this is a problem for non-HMG users too).
>>>>
>>>>
>>>> Regards,
>>>>
>>>> Roberto.
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From roberbox at gmail.com  Fri Oct  9 14:20:43 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Fri Oct  9 14:20:45 2009
Subject: (2) [Harbour] RDDADO on Beta3
In-Reply-To: <1781515E-CD96-462D-B87A-856EA379AACD@syenar.hu>
References: <hanaud$bqo$1@ger.gmane.org>
	<4ACF4AB4.2000907@gmail.com>	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF75F5.5050700@gmail.com>
	<1781515E-CD96-462D-B87A-856EA379AACD@syenar.hu>
Message-ID: <4ACF7EFB.8090007@gmail.com>

Viktor Szak?ts wrote:
> Can you make this test with revision 11014 of rddado?

If CVS is needed to get it, I can do it, but not right now, since I have 
not installed/configured at this moment.

Regards,

Roberto.

From roberbox at gmail.com  Fri Oct  9 14:29:19 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Fri Oct  9 14:29:21 2009
Subject: (2) [Harbour] RDDADO on Beta3
In-Reply-To: <609353e70910091116s1b6fbc94od7e9ed22a792c09@mail.gmail.com>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com>
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF75F5.5050700@gmail.com>
	<1781515E-CD96-462D-B87A-856EA379AACD@syenar.hu>
	<609353e70910091116s1b6fbc94od7e9ed22a792c09@mail.gmail.com>
Message-ID: <4ACF80FF.7070003@gmail.com>

Massimo Belgrano escribi?:
> Here last version of rddado
> http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/contrib/rddado/
> 
> Revision 11014 seem not aivable from svn
> http://harbour-project.svn.sourceforge.net/viewvc/harbour-project?view=rev&revision=11014+

Thanks Massimo.

Regards,

Roberto.
From jarabal at gmail.com  Fri Oct  9 15:29:00 2009
From: jarabal at gmail.com (Xavi)
Date: Fri Oct  9 15:55:44 2009
Subject: [Harbour]
	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4ACF17F1.8090104@adinet.com.uy>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<EF23B6F0-99D0-4C21-AE09-E83E5263AA4E@syenar.hu>	<FD9BDAC5-FA23-4D92-8EBD-1A20F0A4FA15@syenar.hu>
	<4ACF17F1.8090104@adinet.com.uy>
Message-ID: <4ACF8EFC.3070204@gmail.com>

Ops... Sorry I misplace this email. :(

Wonderful world of Clipper's patches and versions.
At the moment I see only one version.

-- 
Xavi

Maurizio Faccio adinet escribi?:
> Yes I have but I take care that pick the correct one.
> I've just can patch to CLIPPER 5.2e library. Just run "patch 52elib" 
> under de .\LIB directory.
> 
> I've binary compare the file NTXSPA.obj patched and unpatched are the 
> same, despite they change of time stamps.
> Viewing with a hex viewer I found in the .OBJ -> NTXSORT v1.21e x15 
> 24/Jun/93?? - SPANISH DBFNTX Collation
> I also view with the hex viewer the patched CLIPPER.LIB -> NTXSORT 
> v1.21e x15 24/Jun/93?? - SPANISH DBFNTX Collation
> I send you the new cpinfo.txt
> 
> 1- Clipper patched without clipper.lib patch
> 2- Harbour es850c
> 3- Clipper patched with clipper.lib patch
> 
> Thanks
> 
> Maurizio
> 
> 
> 
> 
> 
> Viktor Szak?ts escribi?:
>> or, it's possible you have multiple copies of Clipper .libs,
>> and the non-patched one gets picked by the linker.
>>
>> Brgds,
>> Viktor
>>
>> On 2009 Oct 9, at 12:14, Viktor Szak?ts wrote:
>>
>>>> What I do not understand is that:
>>>>
>>>> Compiler says that the patch was applied correctly
>>>> Clipper (R) 5.2e
>>>> Copyright (c) 1985-1995, Computer Associates International, Inc.
>>>>
>>>> But VERSION() in clipper tolds ->  5.2d Intl. (x215)  (1994.03.25)
>>>
>>> It seems the .lib files (or at least some of them) didn't get updated,
>>> but the compiler did.
>>>
>>> Brgds,
>>> Viktor
>>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour




From itamarlins at bol.com.br  Fri Oct  9 15:01:02 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Fri Oct  9 16:21:31 2009
Subject: [Harbour] Re: Re: Problem with set filter
References: <hanaud$bqo$1@ger.gmane.org><20091009140447.GA7501@uran.home.aster.pl><hanmkc$m9f$1@ger.gmane.org>
	<20091009172212.GA31114@uran.home.aster.pl>
Message-ID: <hao1cq$pu3$1@ger.gmane.org>

Hi again!
After searching this problem for a few hours... normal to the learner, got
the following result.

proc main()
field f
local inicio, fim
set date to brit
set epoch to 1970
dbcreate("_tst",{{"F","D",8,0}})
use _tst

dbappend(); f := ctod('22/09/09')
dbappend(); f := ctod('23/09/09')
dbappend(); f := ctod('28/09/09')
dbappend(); f := ctod('28/09/09')
close all
use _tst new alias 't1' shared
use _tst new alias 't2' shared

      inicio := ctod('22/09/09')
      fim    := ctod('22/09/09')

      while !t1->(eof())
        ? t1->(recno()), t1->f
        t1->(dbskip())
      enddo
      ?
      set filter to t1->f >= inicio .and. t1->f <= fim
      t1->(dbgotop())
      while !t1->(eof())
         ? t1->(recno()), t1->f
         t1->(dbskip())
      enddo
   return

Please comment shared option while open dbf file.
use _tst new alias 't1'
use _tst new alias 't2'
try again.

Best regards,
Itamar M. Lins Jr.



From itamarlins at bol.com.br  Fri Oct  9 14:48:27 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Fri Oct  9 16:21:37 2009
Subject: [Harbour] Re: Re: Problem with set filter
References: <hanaud$bqo$1@ger.gmane.org><20091009140447.GA7501@uran.home.aster.pl><hanmkc$m9f$1@ger.gmane.org>
	<20091009172212.GA31114@uran.home.aster.pl>
Message-ID: <hao0l8$ncv$1@ger.gmane.org>

Hi again!
After searching this problem for a few hours... normal to the learner, got 
the following result.

proc main()
field f
local inicio, fim
set date to brit
set epoch to 1970
dbcreate("_tst",{{"F","D",8,0}})
use _tst

dbappend(); f := ctod('22/09/09')
dbappend(); f := ctod('23/09/09')
dbappend(); f := ctod('28/09/09')
dbappend(); f := ctod('28/09/09')
close all
use _tst new alias 't1' shared
use _tst new alias 't2' shared

      inicio := ctod('22/09/09')
      fim    := ctod('22/09/09')

      while !t1->(eof())
        ? t1->(recno()), t1->f
        t1->(dbskip())
      enddo
      ?
      set filter to t1->f >= inicio .and. t1->f <= fim
      t1->(dbgotop())
      while !t1->(eof())
         ? t1->(recno()), t1->f
         t1->(dbskip())
      enddo
   return

Please comment shared option while open dbf file.
use _tst new alias 't1'
use _tst new alias 't2'
try again.

Best regards,
Itamar M. Lins Jr. 



From vszakats at users.sourceforge.net  Fri Oct  9 16:22:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Oct  9 16:22:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12678] trunk/harbour
Message-ID: <E1MwLz2-0004th-CM@74yxhf1.ch3.sourceforge.com>

Revision: 12678
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12678&view=rev
Author:   vszakats
Date:     2009-10-09 20:22:35 +0000 (Fri, 09 Oct 2009)

Log Message:
-----------
2009-10-09 22:22 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * ChangeLog
    * Marked TODO/TOFIX items as DONE.

  * utils/hbmk2/hbmk2.prg
    % Cleaned -KPIC option handling.

  * contrib/hbsqlit3/hbsqlit3.ch
    - Deleted hack with SQLITE_TEXT macro.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbsqlit3/hbsqlit3.ch
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From roberbox at gmail.com  Fri Oct  9 14:42:20 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Fri Oct  9 16:29:54 2009
Subject: (2) [Harbour] RDDADO on Beta3
In-Reply-To: <1781515E-CD96-462D-B87A-856EA379AACD@syenar.hu>
References: <hanaud$bqo$1@ger.gmane.org>
	<4ACF4AB4.2000907@gmail.com>	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF75F5.5050700@gmail.com>
	<1781515E-CD96-462D-B87A-856EA379AACD@syenar.hu>
Message-ID: <4ACF840C.2050102@gmail.com>

Viktor Szak?ts wrote:
> Can you make this test with revision 11014 of rddado?

With 11014 the problem stills.

Regards,

Roberto.


From harbour.01 at syenar.hu  Fri Oct  9 16:40:51 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Oct  9 16:41:00 2009
Subject: (2) [Harbour] RDDADO on Beta3
In-Reply-To: <4ACF840C.2050102@gmail.com>
References: <hanaud$bqo$1@ger.gmane.org>
	<4ACF4AB4.2000907@gmail.com>	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF75F5.5050700@gmail.com>
	<1781515E-CD96-462D-B87A-856EA379AACD@syenar.hu>
	<4ACF840C.2050102@gmail.com>
Message-ID: <B6B1ACC2-4E7E-47EC-8F4E-C46B99DBA203@syenar.hu>

I guess it must have been broken when syncing Harbour's adordd
with the xhb version.

Brgds,
Viktor

On 2009 Oct 9, at 20:42, Roberto Lopez wrote:

> Viktor Szak?ts wrote:
>> Can you make this test with revision 11014 of rddado?
>
> With 11014 the problem stills.
>
> Regards,
>
> Roberto.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Oct  9 14:30:57 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Oct  9 16:42:30 2009
Subject: (2) [Harbour] RDDADO on Beta3
In-Reply-To: <609353e70910091116s1b6fbc94od7e9ed22a792c09@mail.gmail.com>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com>
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
	<4ACF75F5.5050700@gmail.com>
	<1781515E-CD96-462D-B87A-856EA379AACD@syenar.hu>
	<609353e70910091116s1b6fbc94od7e9ed22a792c09@mail.gmail.com>
Message-ID: <C53A07D0-B641-46E6-966F-A0E227A6CE39@syenar.hu>

> Revision 11014 seem not aivable from svn
> http://harbour-project.svn.sourceforge.net/viewvc/harbour-project?view=rev&revision=11014+

All revisions are available from SVN.

Just remove the extra '+' typo from the URL.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Oct  9 14:31:28 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Oct  9 16:44:11 2009
Subject: (2) [Harbour] RDDADO on Beta3
In-Reply-To: <4ACF7EFB.8090007@gmail.com>
References: <hanaud$bqo$1@ger.gmane.org>
	<4ACF4AB4.2000907@gmail.com>	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF75F5.5050700@gmail.com>
	<1781515E-CD96-462D-B87A-856EA379AACD@syenar.hu>
	<4ACF7EFB.8090007@gmail.com>
Message-ID: <C5D4CA98-B057-4FD6-9002-C053D53A79F4@syenar.hu>

> Viktor Szak?ts wrote:
>> Can you make this test with revision 11014 of rddado?
>
> If CVS is needed to get it, I can do it, but not right now, since I  
> have not installed/configured at this moment.

SVN is needed for it.

Brgds,
Viktor

From maufacc at adinet.com.uy  Fri Oct  9 16:55:29 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Fri Oct  9 16:55:55 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4ACF8EFC.3070204@gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<EF23B6F0-99D0-4C21-AE09-E83E5263AA4E@syenar.hu>	<FD9BDAC5-FA23-4D92-8EBD-1A20F0A4FA15@syenar.hu>	<4ACF17F1.8090104@adinet.com.uy>
	<4ACF8EFC.3070204@gmail.com>
Message-ID: <4ACFA341.1040100@adinet.com.uy>

How do I patch my harbour version to manage safely the clipper indexes 
with upper. So I can test the solution of this trouble, and use both 
clipper and harbour versions until I change all my programs to a 
harbour-only environment, or the 850c  we arrive  to the conclusion that 
850c must be  patched.

I do not understand how do i change the cpes850c.c


Thanks

From roberbox at gmail.com  Fri Oct  9 17:44:02 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Fri Oct  9 17:44:04 2009
Subject: (2) [Harbour] RDDADO on Beta3
In-Reply-To: <C53A07D0-B641-46E6-966F-A0E227A6CE39@syenar.hu>
References: <hanaud$bqo$1@ger.gmane.org>
	<4ACF4AB4.2000907@gmail.com>	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF75F5.5050700@gmail.com>	<1781515E-CD96-462D-B87A-856EA379AACD@syenar.hu>	<609353e70910091116s1b6fbc94od7e9ed22a792c09@mail.gmail.com>
	<C53A07D0-B641-46E6-966F-A0E227A6CE39@syenar.hu>
Message-ID: <4ACFAEA2.5040906@gmail.com>

Viktor Szak?ts wrote:

> All revisions are available from SVN.
> Just remove the extra '+' typo from the URL.

Thanks.

I've downloaded various versions for test.

I've found that versions prior to mid-2008 appears to work fine with mdb 
files, but give me problems with MySql.

In the case that I'll find some useful I'll post here.

Regards,

Roberto.

From harbour.01 at syenar.hu  Fri Oct  9 18:34:56 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Oct  9 18:35:06 2009
Subject: [Harbour] FreeDOS in VMWare VM
Message-ID: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>

Hi All,

I'm looking for a preinstalled FreeDOS in a VMWare VM.

Anybody knows about such thing?

I have MS-DOS running under Linux in DOSEMU, but I'd like
to have one in a separate VM. Can't get through normal
install process.

[ DOSBOX is available for native Mac OS X, but it's
crashing when executing 32-bit DOS PM apps, like
dos-make.exe, at least on the default x86_64 MacPort
build. For plain real-mode Clipper testing, it's okay
though. ]

Brgds,
Viktor

From bruno.luciani at gmail.com  Fri Oct  9 20:51:10 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Oct  9 20:51:17 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
Message-ID: <133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>

Did you try to execute DOS aplications in WINE ?

works very well

Bruno

2009/10/9 Viktor Szak?ts <harbour.01@syenar.hu>

> Hi All,
>
> I'm looking for a preinstalled FreeDOS in a VMWare VM.
>
> Anybody knows about such thing?
>
> I have MS-DOS running under Linux in DOSEMU, but I'd like
> to have one in a separate VM. Can't get through normal
> install process.
>
> [ DOSBOX is available for native Mac OS X, but it's
> crashing when executing 32-bit DOS PM apps, like
> dos-make.exe, at least on the default x86_64 MacPort
> build. For plain real-mode Clipper testing, it's okay
> though. ]
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091009/c516b240/attachment.html
From harbour.01 at syenar.hu  Fri Oct  9 21:04:31 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Oct  9 21:04:39 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>
Message-ID: <C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>

Hi Bruno,

> Did you try to execute DOS aplications in WINE ?
>
> works very well

Thanks for the tip.

Since I'd like to use it for Clipper/DOS reference
testing in context of Harbour development, I'd
like to use a DOS environment as close to MS-DOS
as possible, wine seems to thick of a layer for
this purpose and I'm not sure their main goal is
MS-DOS compatibility.

It also isn't supported on Mac OS X wine port:
---
fixme:module:wine_load_dos_exe DOS executables not supported on this  
platform
---

I'm looking for something which works in a VMWare
Fusion VM directly.

Brgds,
Viktor

From jarabal at gmail.com  Fri Oct  9 21:12:00 2009
From: jarabal at gmail.com (Xavi)
Date: Fri Oct  9 21:14:24 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4ACFA341.1040100@adinet.com.uy>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<EF23B6F0-99D0-4C21-AE09-E83E5263AA4E@syenar.hu>	<FD9BDAC5-FA23-4D92-8EBD-1A20F0A4FA15@syenar.hu>	<4ACF17F1.8090104@adinet.com.uy>	<4ACF8EFC.3070204@gmail.com>
	<4ACFA341.1040100@adinet.com.uy>
Message-ID: <4ACFDF60.8000702@gmail.com>

> I do not understand how do i change the cpes850c.c	

What happen if you change? .-

...
static HB_CODEPAGE s_codepage = { "ES850C",
     HB_CPID_850, HB_UNITB_850, NUMBER_OF_CHARACTERS,
     "AABCDE?FGHIIJKLMN?OOPQRSTU?VWXY?Z???",
     "a?bcde?fghi?jklmn?o?pqrstu?vwxy?z???",
     IS_LATIN, ACCENTED_EQUAL, ACCENTED_INTERLEAVED, 0, 0, NULL, NULL, NULL, NULL, 0, NULL };
...

For .-

10/09/09 08:53:49 DOS 5.00 Clipper (R) 5.2e Intl. (x216)  (1995.02.07)
Character encoding: NTXSORT v1.21e x15 24/Jun/93
==================================================
character '?' (151:A L ) is the same as upper and lower
number of upper and lower characters is different
Warning: irregular CP which needs special definition in Harbour
upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
lower: "a?bcde?fghi?jklmn?o?pqrstu?vwxy?z???"
==================================================

-- 
Xavi

Maurizio Faccio adinet escribi?:
> How do I patch my harbour version to manage safely the clipper indexes 
> with upper. So I can test the solution of this trouble, and use both 
> clipper and harbour versions until I change all my programs to a 
> harbour-only environment, or the 850c  we arrive  to the conclusion that 
> 850c must be  patched.
> 
> I do not understand how do i change the cpes850c.c
> 
> 
> Thanks
> 



From vouchcac at users.sourceforge.net  Fri Oct  9 22:13:58 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Oct  9 22:14:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12679] trunk/harbour
Message-ID: <E1MwRT4-0002kS-Ko@bj8yhf1.ch3.sourceforge.com>

Revision: 12679
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12679&view=rev
Author:   vouchcac
Date:     2009-10-10 02:13:57 +0000 (Sat, 10 Oct 2009)

Log Message:
-----------
2009-10-09 19:10 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/qth/QApplication.qth
  * contrib/hbqt/qth/QBoxLayout.qth
  * contrib/hbqt/qth/QBrush.qth
  * contrib/hbqt/qth/QClipboard.qth
  * contrib/hbqt/qth/QColorDialog.qth
  * contrib/hbqt/qth/QCursor.qth
  * contrib/hbqt/qth/QInputEvent.qth
  * contrib/hbqt/qth/QList.qth
  * contrib/hbqt/qth/QSizeF.qth
  * contrib/hbqt/qth/QTextBlockGroup.qth
  * contrib/hbqt/qth/QTextCodec.qth
  * contrib/hbqt/qth/QTextObject.qth
  * contrib/hbqt/qth/QWebFrame.qth
  * contrib/hbqt/qth/QWebHistory.qth
  * contrib/hbqt/qth/QWebSettings.qth
    ! Preliminaries for next massive update, probably.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/qth/QApplication.qth
    trunk/harbour/contrib/hbqt/qth/QBoxLayout.qth
    trunk/harbour/contrib/hbqt/qth/QBrush.qth
    trunk/harbour/contrib/hbqt/qth/QClipboard.qth
    trunk/harbour/contrib/hbqt/qth/QColorDialog.qth
    trunk/harbour/contrib/hbqt/qth/QCursor.qth
    trunk/harbour/contrib/hbqt/qth/QInputEvent.qth
    trunk/harbour/contrib/hbqt/qth/QList.qth
    trunk/harbour/contrib/hbqt/qth/QSizeF.qth
    trunk/harbour/contrib/hbqt/qth/QTextBlockGroup.qth
    trunk/harbour/contrib/hbqt/qth/QTextCodec.qth
    trunk/harbour/contrib/hbqt/qth/QTextObject.qth
    trunk/harbour/contrib/hbqt/qth/QWebFrame.qth
    trunk/harbour/contrib/hbqt/qth/QWebHistory.qth
    trunk/harbour/contrib/hbqt/qth/QWebSettings.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Fri Oct  9 22:46:13 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Oct  9 22:46:19 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>
	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>
Message-ID: <133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>

I think that DOSEMU isn't it a good choice too
Wine works better than DOSEMU

May be your choice is good , freedos in vmware

Take a look at this link

http://www.youtube.com/watch?v=sIxK9qO95p8


Bruno


2009/10/9 Viktor Szak?ts <harbour.01@syenar.hu>

> Hi Bruno,
>
>  Did you try to execute DOS aplications in WINE ?
>>
>> works very well
>>
>
> Thanks for the tip.
>
> Since I'd like to use it for Clipper/DOS reference
> testing in context of Harbour development, I'd
> like to use a DOS environment as close to MS-DOS
> as possible, wine seems to thick of a layer for
> this purpose and I'm not sure their main goal is
> MS-DOS compatibility.
>
> It also isn't supported on Mac OS X wine port:
> ---
> fixme:module:wine_load_dos_exe DOS executables not supported on this
> platform
> ---
>
> I'm looking for something which works in a VMWare
> Fusion VM directly.
>
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091009/f8a25f43/attachment-0001.html
From lorenzo.fiorini at gmail.com  Sat Oct 10 00:12:52 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Oct 10 00:13:00 2009
Subject: [Harbour] hbssl warnings with openssl 1.0 beta3
Message-ID: <9257026e0910092112l6c4b3efrb95fa398311fa3fa@mail.gmail.com>

I'm building under F12 rawhide.

googling for "OpenSSL 1.0.0 betas break SSL_SESSION_cmp" I've found:
...
The idea of this was to avoid various types of casting. The best
solution is to update code to use the lh_SSL_SESSION_*() API, that
should work with both 0.9.8 and 1.0.
...

Just a report.

best regards,
Lorenzo

../../../ssl.c: In function ?HB_FUN_SSL_GET_SSL_METHOD?:
../../../ssl.c:577: warning: initialization discards qualifiers from
pointer target type
../../../ssl.c: In function ?HB_FUN_SSL_GET_CURRENT_CIPHER?:
../../../ssl.c:608: warning: passing argument 1 of ?hb_retptr?
discards qualifiers from pointer target type
../../../../../include/hbapi.h:683: note: expected ?void *? but
argument is of type ?const struct SSL_CIPHER *?
../../../sslctx.c: In function ?hb_ssl_method_id_to_ptr?:
../../../sslctx.c:92: warning: assignment discards qualifiers from
pointer target type
../../../sslctx.c:93: warning: assignment discards qualifiers from
pointer target type
../../../sslctx.c:94: warning: assignment discards qualifiers from
pointer target type
../../../sslctx.c:95: warning: assignment discards qualifiers from
pointer target type
../../../sslctx.c:96: warning: assignment discards qualifiers from
pointer target type
../../../sslctx.c:97: warning: assignment discards qualifiers from
pointer target type
../../../sslctx.c:98: warning: assignment discards qualifiers from
pointer target type
../../../sslctx.c:99: warning: assignment discards qualifiers from
pointer target type
../../../sslctx.c:100: warning: assignment discards qualifiers from
pointer target type
../../../sslctx.c:101: warning: assignment discards qualifiers from
pointer target type
../../../sslctx.c:102: warning: assignment discards qualifiers from
pointer target type
../../../sslctx.c:103: warning: assignment discards qualifiers from
pointer target type
../../../sslctx.c:104: warning: assignment discards qualifiers from
pointer target type
../../../sslsess.c: In function ?HB_FUN_SSL_SESSION_CMP?:
../../../sslsess.c:104: warning: implicit declaration of function
?SSL_SESSION_cmp?
../../../sslsess.c: In function ?HB_FUN_SSL_SESSION_HASH?:
../../../sslsess.c:169: warning: implicit declaration of function
?SSL_SESSION_hash?
From yamamoto at rocketmail.com  Sat Oct 10 04:49:53 2009
From: yamamoto at rocketmail.com (Mitja Podgornik)
Date: Sat Oct 10 04:50:01 2009
Subject: [Harbour] hb_xgrab requested to allocate zero bytes
In-Reply-To: <153435.98614.qm@web30704.mail.mud.yahoo.com>
Message-ID: <804496.53812.qm@web30707.mail.mud.yahoo.com>

Przemek,

thank You for the explanation and for hack suggestion!

Regards, Mitja

recv() on error returns -1 not 0.
>
>>             nLen = recv( m_hSocket, pRead, nLen, 0 );
>>             hb_storclen( pRead, nLen, 2 );
>                                   ^^^^
> And in such case error appears here.
> As short hackt o resolve the problem you can add hust after recv()
>    if( nLen < 0 ) nLen = 0;




      
From harbour.01 at syenar.hu  Sat Oct 10 05:40:50 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Oct 10 05:41:00 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>
	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>
	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>
Message-ID: <95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>

Thanks Bruno, that did the trick!

Now I have to find out how to mount the host
system as a drive :)

Brgds,
Viktor

On 2009 Oct 10, at 04:46, Bruno Luciani wrote:

> I think that DOSEMU isn't it a good choice too
> Wine works better than DOSEMU
>
> May be your choice is good , freedos in vmware
>
> Take a look at this link
>
> http://www.youtube.com/watch?v=sIxK9qO95p8
>
>
> Bruno
>
>
> 2009/10/9 Viktor Szak?ts <harbour.01@syenar.hu>
> Hi Bruno,
>
>
> Did you try to execute DOS aplications in WINE ?
>
> works very well
>
> Thanks for the tip.
>
> Since I'd like to use it for Clipper/DOS reference
> testing in context of Harbour development, I'd
> like to use a DOS environment as close to MS-DOS
> as possible, wine seems to thick of a layer for
> this purpose and I'm not sure their main goal is
> MS-DOS compatibility.
>
> It also isn't supported on Mac OS X wine port:
> ---
> fixme:module:wine_load_dos_exe DOS executables not supported on this  
> platform
> ---
>
> I'm looking for something which works in a VMWare
> Fusion VM directly.
>
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From maufacc at adinet.com.uy  Sat Oct 10 05:42:24 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Sat Oct 10 05:42:31 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4ACF55F3.1080708@gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>	<4ACF18B7.5030601@adinet.com.uy>	<4ACF1EA8.9010205@gmail.com>	<4ACF22EC.5050400@adinet.com.uy>
	<4ACF55F3.1080708@gmail.com>
Message-ID: <4AD05700.7050502@adinet.com.uy>

Ok I do not try yet because I still cannot make harbour compilation 
works, I wish to compile in a windows environment.
And I've think that this warning needs special management in the cpes850c

"Warning: irregular CP which needs special definition in Harbour"

Thanks

Maurizio Faccio


Xavi escribi?:
> Maurizio,
>> I own 5.2 International edition, that have the spanish collation by 
>> default as i see.
>
> Please, could you publish this version of cpinfo.txt because I don' t 
> have this information.
> Only by removing the obj to link .-
>
> FILE cpinfo
>
> Thanks.
>
From harbour.01 at syenar.hu  Sat Oct 10 05:56:09 2009
From: harbour.01 at syenar.hu (=?windows-1252?Q?Viktor_Szak=E1ts?=)
Date: Sat Oct 10 05:56:18 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4AD05700.7050502@adinet.com.uy>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>	<4ACF18B7.5030601@adinet.com.uy>	<4ACF1EA8.9010205@gmail.com>	<4ACF22EC.5050400@adinet.com.uy>
	<4ACF55F3.1080708@gmail.com> <4AD05700.7050502@adinet.com.uy>
Message-ID: <AA0D6469-3C0C-4F1C-9F1B-E015DF425A0E@syenar.hu>

> Ok I do not try yet because I still cannot make harbour compilation  
> works, I wish to compile in a windows environment.

Post your problem, this should work without much hassle.

Brgds,
Viktor

From dmacias at mail.udg.mx  Sat Oct 10 06:18:45 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sat Oct 10 06:19:13 2009
Subject: [Harbour] Re: OS/2: harbourm.dll
Message-ID: <4AD05F85.6070303@mail.udg.mx>

 >So I made tests suspecting something. These are files length containing
 >only information within previous structure:

 >3a.txt:  29,897 bytes  gcc335, a.out, harbour.dll
 >3am.txt  31,793  gcc335, a.out, harbourm.dll
 >3o.txt   32,757  gcc335, OMF, harbour.dll
 >3om.txt  34,653  gcc335, OMF, harbourm.dll
 >3omu.txt 32,865  gcc335, OMF, harbourm.dll, one dir up

 >First three build fine, while last two fail
 >Each group are below and up of this limit:
 >   2**15 = 2**(16-1) = 32768 bytes = 32 Kbytes

 >Somewhere gcc is using 32 Kb limit for our case
 >  gcc --> emxomfld.exe

 >( or is OS/2 limit ?   :-) )


Recently new object files were added (593 vs 596)
  hbascii
  cpeliso
  cptriso

harbour.dll exceded 32 Kb limit and does not build in OS/2-OMF (gccomf, 
3o.txt)
3am.txt are near to fail too

Now both harbour.dll and harbourm.dll does not build in gccomf due 
mainly long strings used to reference directories/files exploited by 32 
Kb limit

David Macias


From harbour.01 at syenar.hu  Sat Oct 10 06:31:30 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Oct 10 06:31:41 2009
Subject: [Harbour] Re: OS/2: harbourm.dll
In-Reply-To: <4AD05F85.6070303@mail.udg.mx>
References: <4AD05F85.6070303@mail.udg.mx>
Message-ID: <09D37B65-13B7-41C1-AE30-C94B6F8E569F@syenar.hu>

> >So I made tests suspecting something. These are files length  
> containing
> >only information within previous structure:
>
> >3a.txt:  29,897 bytes  gcc335, a.out, harbour.dll
> >3am.txt  31,793  gcc335, a.out, harbourm.dll
> >3o.txt   32,757  gcc335, OMF, harbour.dll
> >3om.txt  34,653  gcc335, OMF, harbourm.dll
> >3omu.txt 32,865  gcc335, OMF, harbourm.dll, one dir up
>
> >First three build fine, while last two fail
> >Each group are below and up of this limit:
> >   2**15 = 2**(16-1) = 32768 bytes = 32 Kbytes
>
> >Somewhere gcc is using 32 Kb limit for our case
> >  gcc --> emxomfld.exe
>
> >( or is OS/2 limit ?   :-) )
>
>
> Recently new object files were added (593 vs 596)
> hbascii
> cpeliso
> cptriso
>
> harbour.dll exceded 32 Kb limit and does not build in OS/2-OMF  
> (gccomf, 3o.txt)
> 3am.txt are near to fail too
>
> Now both harbour.dll and harbourm.dll does not build in gccomf due  
> mainly long strings used to reference directories/files exploited by  
> 32 Kb limit

That's why I told that adding temp hack won't really help this
case. It's expected that we are getting more object files.

We've been also discussing about merging some libs in the
past, which IMO would still be a good thing, if this happens,
it will again cause problems with OS/2 bugs.

So, this seems like something to be fixed inside OS/2 GCC. Or
some new OS/2 specific hacks need to be implement to work it
around.

Brgds,
Viktor

From druzus at acn.waw.pl  Sat Oct 10 07:04:31 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Oct 10 07:04:37 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>
Message-ID: <20091010110431.GA1316@uran.home.aster.pl>

On Fri, 09 Oct 2009, Bruno Luciani wrote:
> Did you try to execute DOS aplications in WINE ?
> works very well

AFAIK it's impossible and WINE cannot be used to execute
DOS applications.
Are you sure that you eve executed DOS binaries using WINE?
What file shows for such binaries?

best regards,
Przemek
From cvc at oohg.org  Sat Oct 10 08:21:14 2009
From: cvc at oohg.org (Ciro Vargas C)
Date: Sat Oct 10 08:21:30 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>
	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>
	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>
	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
Message-ID: <d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>

Hi Viktor:

Wine has a configuration file where you can assign a drive letter to a folder.
You can edit this file with normal text linux editor or use wineconf.

If the folder is in another machine, before activate  the NFS daemon.

and mount the folder in the current machine from the another like in windows


regards
Ciro


2009/10/10 Viktor Szak?ts <harbour.01@syenar.hu>:
> Thanks Bruno, that did the trick!
>
> Now I have to find out how to mount the host
> system as a drive :)
>
> Brgds,
> Viktor
>
> On 2009 Oct 10, at 04:46, Bruno Luciani wrote:
>
>> I think that DOSEMU isn't it a good choice too
>> Wine works better than DOSEMU
>>
>> May be your choice is good , freedos in vmware
>>
>> Take a look at this link
>>
>> http://www.youtube.com/watch?v=sIxK9qO95p8
>>
>>
>> Bruno
>>
>>
>> 2009/10/9 Viktor Szak?ts <harbour.01@syenar.hu>
>> Hi Bruno,
>>
>>
>> Did you try to execute DOS aplications in WINE ?
>>
>> works very well
>>
>> Thanks for the tip.
>>
>> Since I'd like to use it for Clipper/DOS reference
>> testing in context of Harbour development, I'd
>> like to use a DOS environment as close to MS-DOS
>> as possible, wine seems to thick of a layer for
>> this purpose and I'm not sure their main goal is
>> MS-DOS compatibility.
>>
>> It also isn't supported on Mac OS X wine port:
>> ---
>> fixme:module:wine_load_dos_exe DOS executables not supported on this
>> platform
>> ---
>>
>> I'm looking for something which works in a VMWare
>> Fusion VM directly.
>>
>>
>> Brgds,
>> Viktor
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
http://www.oohg.prg
http://sistemascvc.tripod.com

donaciones para CVC de ooHG

https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
From bruno.luciani at gmail.com  Sat Oct 10 09:10:30 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sat Oct 10 09:10:37 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <20091010110431.GA1316@uran.home.aster.pl>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>
	<20091010110431.GA1316@uran.home.aster.pl>
Message-ID: <133778360910100610l607d67b9ib5c981c8d6d03754@mail.gmail.com>

Wine executes DOS applications from some time ago

It have a Wine CMD console too

I try severall clipper applications with sucessfull

Bruno


See this

http://www.winehq.org/myths




2009/10/10 Przemyslaw Czerpak <druzus@acn.waw.pl>

> On Fri, 09 Oct 2009, Bruno Luciani wrote:
> > Did you try to execute DOS aplications in WINE ?
> > works very well
>
> AFAIK it's impossible and WINE cannot be used to execute
> DOS applications.
> Are you sure that you eve executed DOS binaries using WINE?
> What file shows for such binaries?
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091010/3b350c47/attachment.html
From roberbox at gmail.com  Sat Oct 10 10:04:44 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Sat Oct 10 10:04:44 2009
Subject: [Harbour] Debugger in 2.0
In-Reply-To: <09D37B65-13B7-41C1-AE30-C94B6F8E569F@syenar.hu>
References: <4AD05F85.6070303@mail.udg.mx>
	<09D37B65-13B7-41C1-AE30-C94B6F8E569F@syenar.hu>
Message-ID: <4AD0947C.8040104@gmail.com>

Hi All,

In 1.0, linking hbdebug library and if 'init.cld' file (containing 
OPTIONS NORUNATSTARTUP) is present in app folder, the debugger starts 
automatically.

I can achieve that in 2.0.

Has something changed or am I missing something?

TIA.

Regards,

Roberto.

From bruno.luciani at gmail.com  Sat Oct 10 10:15:23 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sat Oct 10 10:15:30 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <20091010110431.GA1316@uran.home.aster.pl>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>
	<20091010110431.GA1316@uran.home.aster.pl>
Message-ID: <133778360910100715u1fc27fckc4baca38fae3e5ef@mail.gmail.com>

The console command  in Wine is

wineconsole cmd

this starts a windows command console

And i you try to click some DOS excutables may be you get a surprise :-)

Bruno

2009/10/10 Przemyslaw Czerpak <druzus@acn.waw.pl>

> On Fri, 09 Oct 2009, Bruno Luciani wrote:
> > Did you try to execute DOS aplications in WINE ?
> > works very well
>
> AFAIK it's impossible and WINE cannot be used to execute
> DOS applications.
> Are you sure that you eve executed DOS binaries using WINE?
> What file shows for such binaries?
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091010/587e9e4d/attachment.html
From harbour.01 at syenar.hu  Sat Oct 10 10:48:48 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Oct 10 10:48:57 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>
	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>
	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>
	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>
Message-ID: <5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>

Hi Ciro,

> Hi Viktor:
>
> Wine has a configuration file where you can assign a drive letter to  
> a folder.
> You can edit this file with normal text linux editor or use wineconf.
>
> If the folder is in another machine, before activate  the NFS daemon.
>
> and mount the folder in the current machine from the another like in  
> windows

I'm interested networking in FreeDOS under VMWare configuration.

For wine it's working fine (but it doesn't support DOS).

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Oct 10 10:56:14 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Oct 10 10:56:23 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <133778360910100715u1fc27fckc4baca38fae3e5ef@mail.gmail.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>
	<20091010110431.GA1316@uran.home.aster.pl>
	<133778360910100715u1fc27fckc4baca38fae3e5ef@mail.gmail.com>
Message-ID: <262CF3DE-0CD8-46EE-BF23-3FC4D0220B99@syenar.hu>

On OS X Snow Leopard, this launches a cmd session (which BTW
isn't equal to DOS support per se), and the result is a window
where I can see a blinking cursor and everything appears in
black on black background. It seems to work for basic
commands (like 'exit'), but I can't see anything.

Brgds,
Viktor

On 2009 Oct 10, at 16:15, Bruno Luciani wrote:

> The console command  in Wine is
>
> wineconsole cmd
>
> this starts a windows command console
>
> And i you try to click some DOS excutables may be you get a  
> surprise :-)
>
> Bruno
>
> 2009/10/10 Przemyslaw Czerpak <druzus@acn.waw.pl>
> On Fri, 09 Oct 2009, Bruno Luciani wrote:
> > Did you try to execute DOS aplications in WINE ?
> > works very well
>
> AFAIK it's impossible and WINE cannot be used to execute
> DOS applications.
> Are you sure that you eve executed DOS binaries using WINE?
> What file shows for such binaries?
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Sat Oct 10 11:32:21 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Oct 10 11:32:27 2009
Subject: [Harbour] HBQT - HBXBP : Garbage Collection
In-Reply-To: <FC2ED9CC-A139-49C1-A5B2-BB15FD7A22F2@syenar.hu>
References: <25813841.post@talk.nabble.com>
	<6C111374-7FA2-468D-BAA1-FFAE33167E16@syenar.hu>
	<25816231.post@talk.nabble.com>
	<20091009085842.GC15058@uran.home.aster.pl>
	<25823139.post@talk.nabble.com>
	<FC2ED9CC-A139-49C1-A5B2-BB15FD7A22F2@syenar.hu>
Message-ID: <25835251.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> Still not needed as it can be replicated by: 'object := NIL'
> 
> Creating a function for each object with equivalent functionality
> would just create unnecessary bloat.
> 

Agreed.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HBQT---HBXBP-%3A-Garbage-Collection-tp25813841p25835251.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sat Oct 10 12:19:22 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Oct 10 12:19:28 2009
Subject: [Harbour] HBQT - HBXBP : Garbage Collection
In-Reply-To: <20091009085842.GC15058@uran.home.aster.pl>
References: <25813841.post@talk.nabble.com>
	<6C111374-7FA2-468D-BAA1-FFAE33167E16@syenar.hu>
	<25816231.post@talk.nabble.com>
	<20091009085842.GC15058@uran.home.aster.pl>
Message-ID: <25835783.post@talk.nabble.com>


Hi Przemek


Przemyslaw Czerpak-2 wrote:
> 
> Here is mistake. The last line should be changed to:
>    return ph ? ( QMessageBox * ) * ph : NULL;
> 

Yep. And now GC pointers are working as expected.

BUT I have run into another trouble.
HBQT implements this prg level class 

CREATE CLASS QWidget INHERIT QObject, QPaintDevice
   VAR     pPtr
   METHOD  New()
   METHOD  setWindowTitle( cTitle )            INLINE 
Qt_QWidget_setWindowTitle( ::pPtr, cTitle )

   ENDCLASS



CREATE CLASS QMainWindow INHERIT QWidget
   VAR     pPtr
   METHOD  New()
 
   ENDCLASS


PRG Code:

   oWnd := QMainWindow():new()
   oWnd:setWindowTitle( "My First Window" )

Without GC pointers methods called from parent class were
being executed properly as in corresponding .cpp pointers were being 
typecasted to its native class no matter from where they were being 
supplied.

Now with GC implementation I could not achieve dynamic casting 
and so the appln generates GPF when a method is called from parent 
class. Current .cpp code looks like this:

QWidget.cpp
=========

static HB_GARBAGE_FUNC( QWidget_release )
{
   void ** ph = ( void ** ) Cargo;
   if( ph && * ph )
   {
      delete ( ( QWidget * ) * ph );
      * ph = NULL;
   }
}

static QWidget * qt_par_QWidget( int iParam )
{
   void ** ph = ( void ** ) hb_parptrGC( QWidget_release, iParam );
   return ph ? ( QWidget * ) * ph : NULL;
}

HB_FUNC( QT_QWIDGET )
{
   void ** ph = ( void ** ) hb_gcAlloc( sizeof( QObject ), Q_Object_release
);

   * ph = new QWidget( hbqt_par_QWidget( 1 ), ( Qt::WindowFlags ) hb_parni(
2 ) ) ;

   hb_retptrGC( ph );
}

HB_FUNC( QT_QWIDGET_SETWINDOWTITLE )
{
   qt_par_QWidget( 1 )->setWindowTitle( hbqt_par_QString( 2 ) );
}

QMainWindow.cpp
=============

static HB_GARBAGE_FUNC( QMainWindow_release )
{
   void ** ph = ( void ** ) Cargo;
   if( ph && * ph )
   {
      delete ( ( QMainWindow * ) * ph );
      * ph = NULL;
   }
}

static QMainWindow * qt_par_QMainWindow( int iParam )
{
   void ** ph = ( void ** ) hb_parptrGC( QMainWindow_release, iParam );
   return ph ? ( QMainWindow * ) * ph : NULL;
}

HB_FUNC( QT_QMAINWINDOW )
{
   void ** ph = ( void ** ) hb_gcAlloc( sizeof( QMainWindow ),
QMainWindow_release );

   * ph = new QMainWindow( hbqt_par_QWidget( 1 ), ( Qt::WindowFlags )
hb_parni( 2 ) ) ;

   hb_retptrGC( ph );
}

HB_FUNC( QT_QMAINWINDOW_SETANIMATED )
{
   qt_par_QMainWindow( 1 )->setAnimated( hb_parl( 2 ) );
}

Before   qt_par_QMainWindow()  was defined as 
   #define qt_par_QMainWindow( n )     ( ( QMainWindow * ) hb_parptr( n ) )

and qt_par_QWidget() was defined as 
   #define qt_par_QWidget( n )     ( ( QWidget * ) hb_parptr( n ) )

And as the calls were made to parent objects with the sam pointer 
created in child class and then in parent those were typecasted to 
its native object and hence call was carried out properly.

Under current scenario qt_par_QMainWindow() and qt_par_QWidget()
are static functions returning the current specific object the previous
functionality is no more applicable. There may be a way to define 
GC pointers dynamically and we may have some mechanism to typecast 
them dynamically, but at least I do not know how to.

Can you guide us to this direction?

Regards
Pritpal Bedi

PS: It may be highly possible that I could not explain the problem properly,
      so please bear with me.

-- 
View this message in context: http://www.nabble.com/HBQT---HBXBP-%3A-Garbage-Collection-tp25813841p25835783.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Sat Oct 10 12:39:16 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Oct 10 12:39:45 2009
Subject: [Harbour] will harbour run on present and future os for small 
	device?
In-Reply-To: <916B96A9-739F-47C5-81FE-1E97DEF30352@syenar.hu>
References: <609353e70907110049k3172b59fsf03f4b4359c0fc43@mail.gmail.com> 
	<BD3DC30F-CF33-4548-953B-C0C275C345DB@syenar.hu>
	<609353e70907200654j1f7a8489nf09a2514ea3eebb0@mail.gmail.com> 
	<916B96A9-739F-47C5-81FE-1E97DEF30352@syenar.hu>
Message-ID: <609353e70910100939r4ed62743l447e752919d22ec3@mail.gmail.com>

Google's Android will be the second-largest smartphone platform in as
little as three years, according to Gartner analyst Ken Dulaney

Native C applications for Android
http://devphone.com/java-why-not-write-an-android-application-in-c
http://groups.google.com/group/android-developers/browse_thread/thread/dffafba924e3a2e6/185fa4fdcc99bd8e
Last ndk
http://developer.android.com/sdk/ndk/1.6_r1/index.htmll


2009/7/20 Viktor Szak?ts <harbour.01@syenar.hu>:
> It says "part of application" can be written in C/C++,
> which practically means you can use program parts
> for your Java Android program, just like you can write
> C/C++ parts for your Harbour/Clipper program.
>
> From here the question is what functionality do they
> support for such C modules. The answer is right on
> the download page:
>
> C RTL, math lib, JNI (similar to Harbour extend/item API),
> zlib, logging.
>
> JNI could be the escape route here, but quick search
> didn't reveal some important areas it should cover for
> serious app programming on the C level.
>
> If C level is okey, still needs to be tackled onto/under
> this layer.
>
> Brgds,
> Viktor
>
> On 2009.07.20., at 3:54, Massimo Belgrano wrote:
>
>>
>> 2009/7/11 Viktor Szak?ts <harbour.01@syenar.hu>
>> Android
>> http://www.android.com/
>>
>> It's Java based, so chances aren't very high.
>>
>> not only java based
>> the cross-toolchain that comes with the NDK (or even the Android build
>> system)
>> is built with Cygwin and will require a Cygwin installation (the rest of
>> the
>> NDK could trivially depend on mingw binaries only).
>>
>> Curiosity: Is present also a intel x86 version of android
>> http://code.google.com/p/live-android/
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Sat Oct 10 12:50:51 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Oct 10 12:51:00 2009
Subject: [Harbour] will harbour run on present and future os for small
	device?
In-Reply-To: <609353e70910100939r4ed62743l447e752919d22ec3@mail.gmail.com>
References: <609353e70907110049k3172b59fsf03f4b4359c0fc43@mail.gmail.com>
	<BD3DC30F-CF33-4548-953B-C0C275C345DB@syenar.hu>
	<609353e70907200654j1f7a8489nf09a2514ea3eebb0@mail.gmail.com>
	<916B96A9-739F-47C5-81FE-1E97DEF30352@syenar.hu>
	<609353e70910100939r4ed62743l447e752919d22ec3@mail.gmail.com>
Message-ID: <F1310799-C08D-4C98-935D-7C8B5A73D424@syenar.hu>

> Google's Android will be the second-largest smartphone platform in as
> little as three years, according to Gartner analyst Ken Dulaney

Oh yeah, "analyst" companies and all those great graphs
predicting the future with so high accuracy ;)

[ Here's a good examples:
    http://en.wikipedia.org/wiki/Itanium#History ]

To me these look like charts ordered by marketing departments,
so they are rather jokes.

Anyway, maybe Android have indeed a rosy future, but still,
as already discussed Harbour isn't a Java add-on, so Android
doesn't seem like reality for us, unless Google opens it for
C apps.

Brgds,
Viktor

From teo at windtelsoft.com  Sat Oct 10 12:57:05 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sat Oct 10 12:57:14 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
Message-ID: <B4552D94-F79F-497F-BFE0-ED8085119548@windtelsoft.com>

Hello Viktor,

On Oct 9, 2009, at 5:34 PM, Viktor Szak?ts wrote:

> Hi All,
>
> I'm looking for a preinstalled FreeDOS in a VMWare VM.
>
> Anybody knows about such thing?
>
> I have MS-DOS running under Linux in DOSEMU, but I'd like
> to have one in a separate VM. Can't get through normal
> install process.
>
> [ DOSBOX is available for native Mac OS X, but it's
> crashing when executing 32-bit DOS PM apps, like
> dos-make.exe, at least on the default x86_64 MacPort
> build. For plain real-mode Clipper testing, it's okay
> though. ]

I've found a couple of related threads on installing msdos 6.22:

for vmware:
http://communities.vmware.com/message/476641;jsessionid=5FE6CDE4DF2CF4997675EC274EA4B49D

for virtualbox:
http://blog.mdijksman.nl/item/69/catid/5


HTH,


best regards,

Teo

From jarabal at gmail.com  Sat Oct 10 12:56:36 2009
From: jarabal at gmail.com (Xavi)
Date: Sat Oct 10 12:59:01 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4AD05700.7050502@adinet.com.uy>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>	<4ACF18B7.5030601@adinet.com.uy>	<4ACF1EA8.9010205@gmail.com>	<4ACF22EC.5050400@adinet.com.uy>	<4ACF55F3.1080708@gmail.com>
	<4AD05700.7050502@adinet.com.uy>
Message-ID: <4AD0BCC4.6030807@gmail.com>

> "Warning: irregular CP which needs special definition in Harbour"

Maybe or maybe not with a small change (local/temporal patch) in cdpapi.c but I'm not sure.

<------------- cdpapi.c(324) ----------------------->

   cdpage->s_chars = ( BYTE * ) hb_xgrab( 256 );
   memset( cdpage->s_chars, '\0', 256 );
   cdpage->s_upper = ( BYTE * ) hb_xgrab( 256 );
   memset( cdpage->s_upper, '\0', 256 );
   cdpage->s_lower = ( BYTE * ) hb_xgrab( 256 );
   memset( cdpage->s_lower, '\0', 256 );

<------------- cdpapi.c(398) ----------------------->
   if( !cdpage->s_upper[il] || cdpage->s_upper[il] == cdpage->s_lower[il] ) cdpage->s_upper[il] = *ptrUpper;
   if( !cdpage->s_lower[iu] || cdpage->s_upper[iu] == cdpage->s_lower[iu] ) cdpage->s_lower[iu] = *ptrLower;

<---------------------------------------------------->

This allows repeat characters in the definition taking the first only for this unic case.

...
static HB_CODEPAGE s_codepage = { "ES850C",
     HB_CPID_850, HB_UNITB_850, NUMBER_OF_CHARACTERS,
     "AABCDE?FGHIIJKLMN?OOPQRSTU?VWXY?Z???",
     "a?bcde?fghi?jklmn?o?pqrstu?vwxy?z???",
     IS_LATIN, ACCENTED_EQUAL, ACCENTED_INTERLEAVED, 0, 0, NULL, NULL, NULL, NULL, 0, NULL };
...

Of course, while find alternative method.

> If I find a while then I also try to add alternative method to define
> CP in Harbour so it will be possible to adopt Clipper's definitions
> "as is" and generate them automatically from cpinfo.prg.

Please Przemek or someone, could you check/comment this patch.
I don't have very much tested.

-- 
Xavi


From mbelgrano at deltain.it  Sat Oct 10 13:01:38 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Oct 10 13:02:05 2009
Subject: [Harbour] will harbour run on present and future os for small 
	device?
In-Reply-To: <F1310799-C08D-4C98-935D-7C8B5A73D424@syenar.hu>
References: <609353e70907110049k3172b59fsf03f4b4359c0fc43@mail.gmail.com> 
	<BD3DC30F-CF33-4548-953B-C0C275C345DB@syenar.hu>
	<609353e70907200654j1f7a8489nf09a2514ea3eebb0@mail.gmail.com> 
	<916B96A9-739F-47C5-81FE-1E97DEF30352@syenar.hu>
	<609353e70910100939r4ed62743l447e752919d22ec3@mail.gmail.com> 
	<F1310799-C08D-4C98-935D-7C8B5A73D424@syenar.hu>
Message-ID: <609353e70910101001u1f48ab5eyb85d0c77f5df752@mail.gmail.com>

Native C applications for Android?
http://devphone.com/java-why-not-write-an-android-application-in-c
http://groups.google.com/group/android-developers/browse_thread/thread/dffafba924e3a2e6/185fa4fdcc99bd8e
http://groups.google.com/group/android-developers/browse_thread/thread/f31003bbed8bf7a9/

http://www.google.it/search?rlz=1C1CHMG_itIT299IT303&sourceid=chrome&ie=UTF-8&q=Native+C+applications+for+Android

2009/10/10 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Google's Android will be the second-largest smartphone platform in as
>> little as three years, according to Gartner analyst Ken Dulaney
>
> Oh yeah, "analyst" companies and all those great graphs
> predicting the future with so high accuracy ;)
>
> [ Here's a good examples:
> ? http://en.wikipedia.org/wiki/Itanium#History ]
>
> To me these look like charts ordered by marketing departments,
> so they are rather jokes.
>
> Anyway, maybe Android have indeed a rosy future, but still,
> as already discussed Harbour isn't a Java add-on, so Android
> doesn't seem like reality for us, unless Google opens it for
> C apps.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From jarabal at gmail.com  Sat Oct 10 13:26:05 2009
From: jarabal at gmail.com (Xavi)
Date: Sat Oct 10 13:28:30 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4AD0BCC4.6030807@gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D42@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>	<4ACF18B7.5030601@adinet.com.uy>	<4ACF1EA8.9010205@gmail.com>	<4ACF22EC.5050400@adinet.com.uy>	<4ACF55F3.1080708@gmail.com>
	<4AD05700.7050502@adinet.com.uy> <4AD0BCC4.6030807@gmail.com>
Message-ID: <4AD0C3AD.5030706@gmail.com>

Sorry, bad typo in post patch. I just change.

<------------- cdpapi.c(398) ----------------------->
	if( cdpage->s_upper[il] == cdpage->s_lower[il] ) cdpage->s_upper[il] = *ptrUpper;
	if( cdpage->s_upper[iu] == cdpage->s_lower[iu] ) cdpage->s_lower[iu] = *ptrLower;
<---------------------------------------------------->

-- 
Xavi

Xavi escribi?:
> 
> <------------- cdpapi.c(324) ----------------------->
> 
>   cdpage->s_chars = ( BYTE * ) hb_xgrab( 256 );
>   memset( cdpage->s_chars, '\0', 256 );
>   cdpage->s_upper = ( BYTE * ) hb_xgrab( 256 );
>   memset( cdpage->s_upper, '\0', 256 );
>   cdpage->s_lower = ( BYTE * ) hb_xgrab( 256 );
>   memset( cdpage->s_lower, '\0', 256 );
> 
> <------------- cdpapi.c(398) ----------------------->
>   if( !cdpage->s_upper[il] || cdpage->s_upper[il] == cdpage->s_lower[il] 
> ) cdpage->s_upper[il] = *ptrUpper;
>   if( !cdpage->s_lower[iu] || cdpage->s_upper[iu] == cdpage->s_lower[iu] 
> ) cdpage->s_lower[iu] = *ptrLower;
> 
> <---------------------------------------------------->
> 

From vouchcac at users.sourceforge.net  Sat Oct 10 14:06:36 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Oct 10 14:06:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12680]
	trunk/harbour/contrib/hbqt/qth
Message-ID: <E1MwgKy-0004z0-15@d5vjzd1.ch3.sourceforge.com>

Revision: 12680
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12680&view=rev
Author:   vouchcac
Date:     2009-10-10 18:06:35 +0000 (Sat, 10 Oct 2009)

Log Message:
-----------
2009-10-10 11:02 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/qth/QPen.qth
  * contrib/hbqt/qth/QPrintPreviewDialog.qth
  * contrib/hbqt/qth/QRegion.qth
  * contrib/hbqt/qth/QTextStream.qth
    ! The next round.

Modified Paths:
--------------
    trunk/harbour/contrib/hbqt/qth/QPen.qth
    trunk/harbour/contrib/hbqt/qth/QPrintPreviewDialog.qth
    trunk/harbour/contrib/hbqt/qth/QRegion.qth
    trunk/harbour/contrib/hbqt/qth/QTextStream.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Oct 10 14:08:28 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Oct 10 14:08:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12681]
	trunk/harbour/ChangeLog
Message-ID: <E1MwgMm-00051r-Az@d5vjzd1.ch3.sourceforge.com>

Revision: 12681
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12681&view=rev
Author:   vouchcac
Date:     2009-10-10 18:08:22 +0000 (Sat, 10 Oct 2009)

Log Message:
-----------


Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Sat Oct 10 14:06:53 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sat Oct 10 14:09:47 2009
Subject: [Harbour] Linux to Windows from Fedora 11
Message-ID: <001b01ca49d4$73128b50$5937a1f0$@Bisz@t-online.hu>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: linux-to-windows.zip
Type: application/x-zip-compressed
Size: 21613 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091010/adce0a16/linux-to-windows-0001.bin
From cvc at oohg.org  Sat Oct 10 14:34:03 2009
From: cvc at oohg.org (Ciro Vargas C)
Date: Sat Oct 10 14:34:13 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>
	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>
	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>
	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>
	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
Message-ID: <d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>

Sorry but Wine support DOS applications.  please test it and you got surpraised

Best
regards
Ciro

2009/10/10 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Ciro,
>
>> Hi Viktor:
>>
>> Wine has a configuration file where you can assign a drive letter to a
>> folder.
>> You can edit this file with normal text linux editor or use wineconf.
>>
>> If the folder is in another machine, before activate ?the NFS daemon.
>>
>> and mount the folder in the current machine from the another like in
>> windows
>
> I'm interested networking in FreeDOS under VMWare configuration.
>
> For wine it's working fine (but it doesn't support DOS).
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
http://www.oohg.prg
http://sistemascvc.tripod.com

donaciones para CVC de ooHG

https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
From roberbox at gmail.com  Sat Oct 10 16:57:12 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Sat Oct 10 16:57:11 2009
Subject: [Harbour] Debugger in 2.0?
In-Reply-To: <d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>
Message-ID: <4AD0F528.9060907@gmail.com>

Hi All,

Has anybody used the debugger in 2.0 beta 3?

How it should be invoked?

I can`t make it run.

Any help is welcome.

TIA.

Regards,

Roberto.
From teo at windtelsoft.com  Sat Oct 10 17:11:52 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sat Oct 10 17:12:03 2009
Subject: [Harbour] Debugger in 2.0?
In-Reply-To: <4AD0F528.9060907@gmail.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>
	<4AD0F528.9060907@gmail.com>
Message-ID: <66114623-A5D2-45D5-87DA-8AB18119B521@windtelsoft.com>


On Oct 10, 2009, at 3:57 PM, Roberto Lopez wrote:

> Hi All,
>
> Has anybody used the debugger in 2.0 beta 3?
>
> How it should be invoked?
>
> I can`t make it run.
>
> Any help is welcome.

Roberto,

Debugger is working in 2.0 here, ( just make sure that you are linking  
in the hbdebug lib).

Do you have any error message ?


best regards,

Teo

From roberbox at gmail.com  Sat Oct 10 17:18:47 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Sat Oct 10 17:18:48 2009
Subject: [Harbour] Debugger in 2.0?
In-Reply-To: <66114623-A5D2-45D5-87DA-8AB18119B521@windtelsoft.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>	<4AD0F528.9060907@gmail.com>
	<66114623-A5D2-45D5-87DA-8AB18119B521@windtelsoft.com>
Message-ID: <4AD0FA37.2010603@gmail.com>

Teo Fonrouge wrote:

> Roberto,
> Debugger is working in 2.0 here, ( just make sure that you are linking 
> in the hbdebug lib).
> Do you have any error message ?

Thanks for the response.

I'm using hbmk2 and I've added -lhbdebug to command line.

No error message.

I'll still trying.

Thanks again.

Regards,

Roberto.

From teo at windtelsoft.com  Sat Oct 10 17:43:34 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sat Oct 10 17:43:49 2009
Subject: [Harbour] Debugger in 2.0?
In-Reply-To: <4AD0FA37.2010603@gmail.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>	<4AD0F528.9060907@gmail.com>
	<66114623-A5D2-45D5-87DA-8AB18119B521@windtelsoft.com>
	<4AD0FA37.2010603@gmail.com>
Message-ID: <2328AD33-6E96-4767-9274-A98A9F448AD8@windtelsoft.com>


On Oct 10, 2009, at 4:18 PM, Roberto Lopez wrote:

> Teo Fonrouge wrote:
>
>> Roberto,
>> Debugger is working in 2.0 here, ( just make sure that you are  
>> linking in the hbdebug lib).
>> Do you have any error message ?
>
> Thanks for the response.
>
> I'm using hbmk2 and I've added -lhbdebug to command line.
>


Try with the following sample source:

<source>

FUNCTION Main()

   AltD()

   ? "Hello"

RETURN NIL

</source>

build it with:

hbmk2 -b yoursource.prg


(tested with WinXP MinGW)


best regards,

Teo

From roberbox at gmail.com  Sat Oct 10 17:46:08 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Sat Oct 10 17:46:06 2009
Subject: [Harbour] Debugger in 2.0?
In-Reply-To: <66114623-A5D2-45D5-87DA-8AB18119B521@windtelsoft.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>	<4AD0F528.9060907@gmail.com>
	<66114623-A5D2-45D5-87DA-8AB18119B521@windtelsoft.com>
Message-ID: <4AD100A0.4010909@gmail.com>

Teo Fonrouge wrote:

> Debugger is working in 2.0 here, ( just make sure that you are linking 
> in the hbdebug lib).

I had created a custom batch to build my app and debugger is working 
fine now. The problem was with hbmk2 (maybe something more be necessary 
besides invoke the library).

Thanks again.

Regards,

Roberto.
From roberbox at gmail.com  Sat Oct 10 17:47:21 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Sat Oct 10 17:47:20 2009
Subject: [Harbour] Debugger in 2.0?
In-Reply-To: <2328AD33-6E96-4767-9274-A98A9F448AD8@windtelsoft.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>	<4AD0F528.9060907@gmail.com>	<66114623-A5D2-45D5-87DA-8AB18119B521@windtelsoft.com>	<4AD0FA37.2010603@gmail.com>
	<2328AD33-6E96-4767-9274-A98A9F448AD8@windtelsoft.com>
Message-ID: <4AD100E9.9000600@gmail.com>

Teo Fonrouge wrote:

> Try with the following sample source:
<...>

Thanks!

Regards,

Roberto.
From roberbox at gmail.com  Sat Oct 10 18:00:26 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Sat Oct 10 18:00:27 2009
Subject: [Harbour] Debugger in 2.0?
In-Reply-To: <2328AD33-6E96-4767-9274-A98A9F448AD8@windtelsoft.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>	<4AD0F528.9060907@gmail.com>	<66114623-A5D2-45D5-87DA-8AB18119B521@windtelsoft.com>	<4AD0FA37.2010603@gmail.com>
	<2328AD33-6E96-4767-9274-A98A9F448AD8@windtelsoft.com>
Message-ID: <4AD103FA.1030303@gmail.com>

Teo:

Do you know if it is possible to tell hbmk2 to search at the current 
folder for include files?

I've attempted '-i.' but it not worked.

TIA.

Regards,

Roberto.

From teo at windtelsoft.com  Sat Oct 10 18:56:11 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sat Oct 10 18:56:33 2009
Subject: [Harbour] Debugger in 2.0?
In-Reply-To: <4AD103FA.1030303@gmail.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>	<4AD0F528.9060907@gmail.com>	<66114623-A5D2-45D5-87DA-8AB18119B521@windtelsoft.com>	<4AD0FA37.2010603@gmail.com>
	<2328AD33-6E96-4767-9274-A98A9F448AD8@windtelsoft.com>
	<4AD103FA.1030303@gmail.com>
Message-ID: <D8D14623-3ABC-4717-A1E7-CC4650502E88@windtelsoft.com>


On Oct 10, 2009, at 5:00 PM, Roberto Lopez wrote:

> Teo:
>
> Do you know if it is possible to tell hbmk2 to search at the current  
> folder for include files?
>
> I've attempted '-i.' but it not worked.

I'm not skilled enough in hbmk2 as I want to be,  but I'll try my best.

At first sight, seems that it's not hbmk2 problem but path in your  
sources for your include files

if you have the folowing source:

<source>

#include "myinclude.ch"
#include "subdir/otherinclude.ch"

</source>

and your source files, both prg's and ch's are in the same directory  
except "otherinclude.ch" which is located in the "./subdir", then you  
just need to do:

hbmk2 yoursource.prg

It will found the "myinclude.ch", so you don't need to declare "-i."

So far, I believe that the same applies to C headers too.

However, please try to see the full help for hbmk2:

hbmk2 --help



best regards,

Teo




From harbour.01 at syenar.hu  Sat Oct 10 19:06:07 2009
From: harbour.01 at syenar.hu (=?windows-1252?Q?Viktor_Szak=E1ts?=)
Date: Sat Oct 10 19:06:16 2009
Subject: [Harbour] hbssl warnings with openssl 1.0 beta3
In-Reply-To: <9257026e0910092112l6c4b3efrb95fa398311fa3fa@mail.gmail.com>
References: <9257026e0910092112l6c4b3efrb95fa398311fa3fa@mail.gmail.com>
Message-ID: <A8C24F92-BDB3-4440-B096-5E5ABD73DD0D@syenar.hu>

> I'm building under F12 rawhide.
>
> googling for "OpenSSL 1.0.0 betas break SSL_SESSION_cmp" I've found:
> ...
> The idea of this was to avoid various types of casting. The best
> solution is to update code to use the lh_SSL_SESSION_*() API, that
> should work with both 0.9.8 and 1.0.
> ...
>
> Just a report.

Thank you. Unfortunately I can find no reference to
these lh_* versions in 0.9.8, plus it wouldn't solve
all problems, so I guess only the ugly way remains to
fix it (branching by lib version).

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Oct 10 20:14:35 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Oct 10 20:14:44 2009
Subject: [Harbour] Linux to Windows from Fedora 11
In-Reply-To: <001b01ca49d4$73128b50$5937a1f0$@Bisz@t-online.hu>
References: <001b01ca49d4$73128b50$5937a1f0$@Bisz@t-online.hu>
Message-ID: <34F6AFE8-3774-4121-A1E7-57C123F43D5B@syenar.hu>

> The goal of this test case is to analyze the scenario:
> -        1. Develop Harbour project on Linux, targeting a  
> multiplatform  solution (Linux or Windows).
> -        2. Test the developed project on Linux.
> -        3. Deploy the developed project components on Windows and  
> Linux.
> This scenario is not far away from the corresponding ?Mingw? project  
> under Fedora 11 and above:https://fedoraproject.org/wiki/Features/ 
> Windows_cross_compiler#Summary.
>
> Take as a prerequisite to achieve this scenario a build sequence of  
> the Harbour components (my thoughts): ?build-harbour-win.sh?.
>
> Errors detected during fine tunings of the components :
> 1.      ?export HB_WITH_PCRE=no? or ?export HB_WITH_PCRE=/usr/i686- 
> pc-mingw32/sys-root/mingw/include?  generates compiler error
> Solution is: ?export HB_WITH_PCRE=? or missing.
> 2.      ?export HB_WITH_ZLIB=/usr/i686-pc-mingw32/sys-root/mingw/ 
> include?  generates compiler error
> Solution is: ?export HB_WITH_ZLIB=local?
> 3.      ?export HB_WITH_SQLITE3=/usr/i686-pc-mingw32/sys-root/mingw/ 
> include?  sqlite3 is skipped
> Solution is: ?export HB_INC_SQLITE3=local?
> 4.      ?export HB_WITH_QT=/usr/i686-pc-mingw32/sys-root/mingw/ 
> include? generates error: no WebKit package.
>        Solution is: ?export HB_WITH_QT=no?
>
> This test case was broken by the monolith construction of the hbqt  
> library, as the Webkit is not yet implemented in mingw port of the  
> Qt-4.5.2. My proposal is to split it into ?Gui?, ?Network? and  
> ?Webkit? with the necessary build detections too.
> Please reflect on these, as this decision needs a common thinking.

I agree with splitting hbqt, probably it would be best to create new
subdirs under current hbqt dir for each major qt component (GUI,
Network and WebKit). This would have numerous benefits.

Brgds,
Viktor

From bruno.luciani at gmail.com  Sat Oct 10 20:15:35 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sat Oct 10 20:15:44 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>
	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>
	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>
	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>
	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>
Message-ID: <133778360910101715j393ceb7ay10beb43c5566734f@mail.gmail.com>

Look at this printscreen in my linux box

http://www.lw3dtr.com.ar/images/dos.png

Bruno

2009/10/10 Ciro Vargas C <cvc@oohg.org>

> Sorry but Wine support DOS applications.  please test it and you got
> surpraised
>
> Best
> regards
> Ciro
>
> 2009/10/10 Viktor Szak?ts <harbour.01@syenar.hu>:
> > Hi Ciro,
> >
> >> Hi Viktor:
> >>
> >> Wine has a configuration file where you can assign a drive letter to a
> >> folder.
> >> You can edit this file with normal text linux editor or use wineconf.
> >>
> >> If the folder is in another machine, before activate  the NFS daemon.
> >>
> >> and mount the folder in the current machine from the another like in
> >> windows
> >
> > I'm interested networking in FreeDOS under VMWare configuration.
> >
> > For wine it's working fine (but it doesn't support DOS).
> >
> > Brgds,
> > Viktor
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
>
>
>
> --
> http://www.oohg.prg
> http://sistemascvc.tripod.com
>
> donaciones para CVC de ooHG
>
>
> https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091010/71029a4a/attachment.html
From harbour.01 at syenar.hu  Sat Oct 10 20:21:03 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Oct 10 20:21:12 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>
	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>
	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>
	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>
	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>
Message-ID: <5E0C885B-879E-4466-9187-7DEA88724312@syenar.hu>

We can continue this discussion forever :) but I can assure you
that Wine on OS X _doesn't_ support DOS. I've posted the error
message. (Well, maybe it does some more when run from wine
cmd prompt, but as I wrote in a prev mail, here the color scheme
is black on black, so it's difficult to see it :)

I didn't emphasis that in my first mail (sorry for that), but
my host OS is Mac OS X, so I'm interested in finding solution
for this platform.

After dumping my Windows machine (after it broke) I've fully
moved to OS X as a host platform and running XP 64-bit in
a VMWare Fusion VM. BTW I managed to fix the broken Windows
machine, but decided to dump it anyway.

Brgds,
Viktor

On 2009 Oct 10, at 20:34, Ciro Vargas C wrote:

> Sorry but Wine support DOS applications.  please test it and you got  
> surpraised
>
> Best
> regards
> Ciro
>
> 2009/10/10 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Hi Ciro,
>>
>>> Hi Viktor:
>>>
>>> Wine has a configuration file where you can assign a drive letter  
>>> to a
>>> folder.
>>> You can edit this file with normal text linux editor or use  
>>> wineconf.
>>>
>>> If the folder is in another machine, before activate  the NFS  
>>> daemon.
>>>
>>> and mount the folder in the current machine from the another like in
>>> windows
>>
>> I'm interested networking in FreeDOS under VMWare configuration.
>>
>> For wine it's working fine (but it doesn't support DOS).
>>
>> Brgds,
>> Viktor
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> -- 
> http://www.oohg.prg
> http://sistemascvc.tripod.com
>
> donaciones para CVC de ooHG
>
> https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Oct 10 20:22:14 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Oct 10 20:22:22 2009
Subject: [Harbour] Debugger in 2.0?
In-Reply-To: <4AD0FA37.2010603@gmail.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>	<4AD0F528.9060907@gmail.com>
	<66114623-A5D2-45D5-87DA-8AB18119B521@windtelsoft.com>
	<4AD0FA37.2010603@gmail.com>
Message-ID: <7979BBFB-257F-401B-94C5-16D3A6A6F601@syenar.hu>

>> Roberto,
>> Debugger is working in 2.0 here, ( just make sure that you are  
>> linking in the hbdebug lib).
>> Do you have any error message ?
>
> Thanks for the response.
>
> I'm using hbmk2 and I've added -lhbdebug to command line.

With hbmk2 you should never supply a system lib manually.

For debug mode, simply use -b switch.

Brgds,
Viktor

From teo at windtelsoft.com  Sat Oct 10 20:32:10 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sat Oct 10 20:32:27 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <5E0C885B-879E-4466-9187-7DEA88724312@syenar.hu>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>
	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>
	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>
	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>
	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>
	<5E0C885B-879E-4466-9187-7DEA88724312@syenar.hu>
Message-ID: <147BE08E-C8D1-4CE8-B1FE-8CD3CB6490C5@windtelsoft.com>


On Oct 10, 2009, at 7:21 PM, Viktor Szak?ts wrote:

> We can continue this discussion forever :) but I can assure you
> that Wine on OS X _doesn't_ support DOS. I've posted the error
> message. (Well, maybe it does some more when run from wine
> cmd prompt, but as I wrote in a prev mail, here the color scheme
> is black on black, so it's difficult to see it :)
>
> I didn't emphasis that in my first mail (sorry for that), but
> my host OS is Mac OS X, so I'm interested in finding solution
> for this platform.
>
> After dumping my Windows machine (after it broke) I've fully
> moved to OS X as a host platform and running XP 64-bit in
> a VMWare Fusion VM. BTW I managed to fix the broken Windows
> machine, but decided to dump it anyway.


-------------- next part --------------
A non-text attachment was scrubbed...
Name: screen-capture.png
Type: image/png
Size: 45951 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091010/c13dbb21/screen-capture-0001.png
-------------- next part --------------

MSDOS 7 with VirtualBox


best regards,

Teo

From harbour.01 at syenar.hu  Sat Oct 10 20:34:21 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Oct 10 20:34:30 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <B4552D94-F79F-497F-BFE0-ED8085119548@windtelsoft.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
	<B4552D94-F79F-497F-BFE0-ED8085119548@windtelsoft.com>
Message-ID: <E94AD8DF-25FC-4A6A-AD02-61E50917775A@syenar.hu>

Thanks Teo.

I've eased on my plans. I'll probably settle with dosbox
for simple Clipper compatibility tests, this is easily
available via MacPorts on OS X.

For more demanding tests like Harbour builds on MS-DOS
host, I'll use dosemu under Linux just like before, I
want to do such thing quite rarely anyway.

In both cases host drive is readily available, so it's
way easier than being locked in a native MS-DOS VM.

Brgds,
Viktor

On 2009 Oct 10, at 18:57, Teo Fonrouge wrote:

> Hello Viktor,
>
> On Oct 9, 2009, at 5:34 PM, Viktor Szak?ts wrote:
>
>> Hi All,
>>
>> I'm looking for a preinstalled FreeDOS in a VMWare VM.
>>
>> Anybody knows about such thing?
>>
>> I have MS-DOS running under Linux in DOSEMU, but I'd like
>> to have one in a separate VM. Can't get through normal
>> install process.
>>
>> [ DOSBOX is available for native Mac OS X, but it's
>> crashing when executing 32-bit DOS PM apps, like
>> dos-make.exe, at least on the default x86_64 MacPort
>> build. For plain real-mode Clipper testing, it's okay
>> though. ]
>
> I've found a couple of related threads on installing msdos 6.22:
>
> for vmware:
> http://communities.vmware.com/message/476641;jsessionid=5FE6CDE4DF2CF4997675EC274EA4B49D
>
> for virtualbox:
> http://blog.mdijksman.nl/item/69/catid/5
>
>
> HTH,
>
>
> best regards,
>
> Teo
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From roberbox at gmail.com  Sat Oct 10 20:40:15 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Sat Oct 10 20:40:12 2009
Subject: [Harbour] Debugger in 2.0?
In-Reply-To: <D8D14623-3ABC-4717-A1E7-CC4650502E88@windtelsoft.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>	<4AD0F528.9060907@gmail.com>	<66114623-A5D2-45D5-87DA-8AB18119B521@windtelsoft.com>	<4AD0FA37.2010603@gmail.com>	<2328AD33-6E96-4767-9274-A98A9F448AD8@windtelsoft.com>	<4AD103FA.1030303@gmail.com>
	<D8D14623-3ABC-4717-A1E7-CC4650502E88@windtelsoft.com>
Message-ID: <4AD1296F.3000001@gmail.com>

Teo Fonrouge wrote:

> I'm not skilled enough in hbmk2 as I want to be,  but I'll try my best.
<...>
> At first sight, seems that it's not hbmk2 problem but path in your 
> sources for your include files

Thanks.

I'm invoking hbmk2 from a batch file and in my test, the include is 
generated with a preprocessor directive, perhaps some of that, makes the 
difference.

Anyway, I've solved using %CD% variable, available in batch files.

It looks like: hbmk2 -incpath=%CD% ...

Thanks again.

Regards,

Roberto.





From harbour.01 at syenar.hu  Sat Oct 10 20:40:19 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Oct 10 20:40:27 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <147BE08E-C8D1-4CE8-B1FE-8CD3CB6490C5@windtelsoft.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>
	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>
	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>
	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>
	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>
	<5E0C885B-879E-4466-9187-7DEA88724312@syenar.hu>
	<147BE08E-C8D1-4CE8-B1FE-8CD3CB6490C5@windtelsoft.com>
Message-ID: <A4DC40E8-E981-4231-A9C8-E310E1F3EEE3@syenar.hu>

>> We can continue this discussion forever :) but I can assure you
>> that Wine on OS X _doesn't_ support DOS. I've posted the error
>> message. (Well, maybe it does some more when run from wine
>> cmd prompt, but as I wrote in a prev mail, here the color scheme
>> is black on black, so it's difficult to see it :)
>>
>> I didn't emphasis that in my first mail (sorry for that), but
>> my host OS is Mac OS X, so I'm interested in finding solution
>> for this platform.
>>
>> After dumping my Windows machine (after it broke) I've fully
>> moved to OS X as a host platform and running XP 64-bit in
>> a VMWare Fusion VM. BTW I managed to fix the broken Windows
>> machine, but decided to dump it anyway.
>
>
> <screen-capture.png>
> MSDOS 7 with VirtualBox

Nice. But I've dumped my legal MS-DOS copy long ago
(it was 5.0 IIRC), plus the networking struggle. I think I'm
not enough of a fanatic to start building clever CONFIG.SYS
and AUTOEXEC.BAT again from scratch :)

Too bad dosemu isn't available for Mac OS X, I hope it will
be eventually ported.

Brgds,
Viktor

From roberbox at gmail.com  Sat Oct 10 20:42:29 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Sat Oct 10 20:42:28 2009
Subject: [Harbour] Debugger in 2.0?
In-Reply-To: <7979BBFB-257F-401B-94C5-16D3A6A6F601@syenar.hu>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>	<4AD0F528.9060907@gmail.com>	<66114623-A5D2-45D5-87DA-8AB18119B521@windtelsoft.com>	<4AD0FA37.2010603@gmail.com>
	<7979BBFB-257F-401B-94C5-16D3A6A6F601@syenar.hu>
Message-ID: <4AD129F5.2010904@gmail.com>

Viktor Szak?ts wrote:

> With hbmk2 you should never supply a system lib manually.
> For debug mode, simply use -b switch.

I don't knew that.

Thanks for your help.

Is working fine now.

Regards,

Roberto.

From bedipritpal at hotmail.com  Sat Oct 10 22:58:47 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Oct 10 22:58:53 2009
Subject: [Harbour] Linux to Windows from Fedora 11
In-Reply-To: <34F6AFE8-3774-4121-A1E7-57C123F43D5B@syenar.hu>
References: <001b01ca49d4$73128b50$5937a1f0$@Bisz@t-online.hu>
	<34F6AFE8-3774-4121-A1E7-57C123F43D5B@syenar.hu>
Message-ID: <25840397.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> I agree with splitting hbqt, probably it would be best to create new
> subdirs under current hbqt dir for each major qt component (GUI,
> Network and WebKit). This would have numerous benefits.
> 

For sure yes.

But let us find solution to every-growing memory usage first.
If we cannot resolve this issue, there is no point to continue with HBQT
probably.

I am in the process of some experiments. Will let you know if 
I could succeed.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Linux-to-Windows-from-Fedora-11-tp25836895p25840397.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Sun Oct 11 04:52:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Oct 11 04:52:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12682] trunk/harbour
Message-ID: <E1MwuAJ-0002s0-2v@bj8yhf1.ch3.sourceforge.com>

Revision: 12682
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12682&view=rev
Author:   vszakats
Date:     2009-10-11 08:52:30 +0000 (Sun, 11 Oct 2009)

Log Message:
-----------
2009-10-11 10:51 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbssl/sslsess.c
  * contrib/hbssl/ssl.c
  * contrib/hbssl/hbssl.h
  * contrib/hbssl/sslctx.c
    + Added partial support for OpenSSL 1.0.0beta3.
      Partial because I'm getting a few errors which I cannot resolve, 
      help/input is welcome from interested parties:
      ---
      cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c- -MT   -IC:\devl\openssl-1.0.0-beta3\include -DOPENSSL_OPT_WINDLL -DUNICODE  -Fossl.obj -c ../../../ssl.c
      ssl.c
      ../../../ssl.c(1366) : error C2440: '<function-style-cast>' : cannot convert from 'LPCSTR' to 'HB_FUN_SSL_GET_CLIENT_CA_LIST::stack_st_'
              Source or target has incomplete type
      ../../../ssl.c(1366) : error C2059: syntax error : ')'
      ../../../ssl.c(1374) : error C2059: syntax error : ')'
      ../../../ssl.c(1391) : error C2440: '<function-style-cast>' : cannot convert from 'LPCSTR' to 'HB_FUN_SSL_LOAD_CLIENT_CA_FILE::stack_st_'
              Source or target has incomplete type
      ../../../ssl.c(1391) : error C2059: syntax error : ')'
      ../../../ssl.c(1399) : error C2059: syntax error : ')'
      ---
      The same in sslctx, plus another weird one regarding X509_NAME.

  * INSTALL
    * Updated e-mail size limit on dev list.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbssl/hbssl.h
    trunk/harbour/contrib/hbssl/ssl.c
    trunk/harbour/contrib/hbssl/sslctx.c
    trunk/harbour/contrib/hbssl/sslsess.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sun Oct 11 05:07:22 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Oct 11 05:07:29 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>
	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>
	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>
	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>
	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>
Message-ID: <20091011090722.GA21784@uran.home.aster.pl>

On Sat, 10 Oct 2009, Ciro Vargas C wrote:
> Sorry but Wine support DOS applications.
>  please test it and you got surpraised

I think you will be surprised if you create pure DOS application.
Let's try:

/*** t76.prg ***/
proc main()
   ? date(), time()
   ? os()
   ? version()
   ? procname()
   wait
return

druzus:/tmp/24# file t76.exe
t76.exe: MS-DOS executable, MZ for MS-DOS

druzus:/tmp/24# wineconsole t76.exe
fixme:mixer:ALSA_MixerInit No master control found on HDA ATI HDMI, disabling mixer
winevdm: unable to exec 'Z:\tmp\24\t76.exe': DOS memory range unavailable
druzus:/tmp/24#

Let's hack the kernel and unblock access to low memory:

root:~# sysctl -w vm.mmap_min_addr=0
vm.mmap_min_addr = 0

and then again:

druzus:/tmp/24# wineconsole t76.exe
fixme:mixer:ALSA_MixerInit No master control found on HDA ATI HDMI, disabling mixer
wine: Unhandled page fault on read access to 0x0d96f002 at address 0x7e8e15b1 (thread 001a), starting debugger...

Let's try to execute pure clipper.exe binaries:

druzus:/tmp/24# wineconsole /mnt/nwe/lng/clipper5/bin/clipper.exe
fixme:mixer:ALSA_MixerInit No master control found on HDA ATI HDMI, disabling mixer
wine: Unhandled page fault on read access to 0x19bf8002 at address 0x7e8e85b1 (thread 001a), starting debugger...

WINE does not support DOS application. For such support it's necessary
to emulate whole DOS with all DOS interrupts and memory regions, emulate
BIOS interrupts, etc. so to make it well it's necessary to replicate FreeDOS
or other DOS inside Wine with some emulation layers given by DOSEMU which
are not available in pure WINE.
I have no idea what you have tested.
Maybe it's possible to execute DOS application using WINE indirectly,
i.e. using some emulation layer which comes with real MS-Windows installed
on the same computer when WINE is configured to use original MS-Windows
code and original Windows installation contains MS-DOS emulator for executing
DOS application. I've never tested it so I cannot confirm if it works or not.
Anyhow it does not change the fact that WINE cannot execute DOS programs and
it only executes DOS emulator which executes DOS programs. In such case
I suggest to use DOSEMU to reduce number of emulation layers.

best regards,
Przemek
From druzus at acn.waw.pl  Sun Oct 11 05:24:05 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Oct 11 05:24:11 2009
Subject: [Harbour] Re: Re: Problem with set filter
In-Reply-To: <hao0l8$ncv$1@ger.gmane.org>
References: <20091009172212.GA31114@uran.home.aster.pl>
	<hao0l8$ncv$1@ger.gmane.org>
Message-ID: <20091011092405.GB21784@uran.home.aster.pl>

On Fri, 09 Oct 2009, Itamar Lins wrote:
> After searching this problem for a few hours... normal to the learner, got 
> the following result.
> proc main()
> field f
> local inicio, fim
> set date to brit
> set epoch to 1970
> dbcreate("_tst",{{"F","D",8,0}})
> use _tst
> dbappend(); f := ctod('22/09/09')
> dbappend(); f := ctod('23/09/09')
> dbappend(); f := ctod('28/09/09')
> dbappend(); f := ctod('28/09/09')
> close all
> use _tst new alias 't1' shared
> use _tst new alias 't2' shared
> 
>       inicio := ctod('22/09/09')
>       fim    := ctod('22/09/09')
> 
>       while !t1->(eof())
>         ? t1->(recno()), t1->f
>         t1->(dbskip())
>       enddo
>       ?
>       set filter to t1->f >= inicio .and. t1->f <= fim
>       t1->(dbgotop())
>       while !t1->(eof())
>          ? t1->(recno()), t1->f
>          t1->(dbskip())
>       enddo
>    return
> Please comment shared option while open dbf file.
> use _tst new alias 't1'
> use _tst new alias 't2'
> try again.

If you need any help then please start testing your examples with
Clipper. It's the last time when I'm answering for message with
not verified problems.
The above code compiled by Harbour, xHarbour and Clipper gives
exactly the same results.

         1 22/09/09
         2 23/09/09
         3 28/09/09
         4 28/09/09

         1 22/09/09
         2 23/09/09
         3 28/09/09
         4 28/09/09

what is perfect behavior because you are setting filter on 'T2' area
but skip test is done on 'T1'.
I think that such messages should be sent to Harbour user group.
The developer list is not the place to learn Clipper programming.

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Sun Oct 11 08:25:12 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Oct 11 08:25:17 2009
Subject: [Harbour] hbmk under Snow Leopard gives unrecognized ...
	"-Wno-long-double"
Message-ID: <9257026e0910110525l4294275cxa92008378cda9afb@mail.gmail.com>

hbmk test.prg gives:
cc1: error: unrecognized command line option "-Wno-long-double"

I've set HB_COMPILER=gcc

gcc says:
i686-apple-darwin10-gcc-4.2.1: no input files

It seems that the option has been deleted from recent gcc.

best regards,
Lorenzo
From druzus at users.sourceforge.net  Sun Oct 11 08:52:57 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Oct 11 08:53:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12683] trunk/harbour
Message-ID: <E1Mwxuz-0004lR-P1@3kljzd1.ch3.sourceforge.com>

Revision: 12683
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12683&view=rev
Author:   druzus
Date:     2009-10-11 12:52:56 +0000 (Sun, 11 Oct 2009)

Log Message:
-----------
2009-10-11 14:52 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    - removed from hb* scripts old GCC options not longer used to build
      Harbour core code

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Sun Oct 11 09:17:30 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Oct 11 09:17:36 2009
Subject: [Harbour] 32-64 bit status
Message-ID: <9257026e0910110617ida2f7a8l910e62c1bd6db980@mail.gmail.com>

I'm working on a new Snow Leopard and I get:
ld: warning: in /opt/pgsql/lib/libpq.dylib, missing required
architecture x86_64 in file

Beside the specific fact it seems that the moment to release both the
32bit and the 64bit version of the apps has come.

Can I build a 32bit version of my apps in a 64bit env?

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Sun Oct 11 09:18:15 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Oct 11 09:18:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12683] trunk/harbour
In-Reply-To: <E1Mwxuz-0004lR-P1@3kljzd1.ch3.sourceforge.com>
References: <E1Mwxuz-0004lR-P1@3kljzd1.ch3.sourceforge.com>
Message-ID: <9257026e0910110618t30c0717ekd045d690ce36b7dd@mail.gmail.com>

On Sun, Oct 11, 2009 at 2:52 PM,  <druzus@users.sourceforge.net> wrote:

> ?* harbour/bin/hb-func.sh
> ? ?- removed from hb* scripts old GCC options not longer used to build
> ? ? ?Harbour core code

Many thanks.

Lorenzo
From mbelgrano at deltain.it  Sun Oct 11 09:52:35 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Oct 11 09:53:03 2009
Subject: [Harbour] Possible do scalability experiments also for harbour.
Message-ID: <609353e70910110652y6f086d54qb203fc7e8db10b2d@mail.gmail.com>

 How possible do scalability experiments also for harbour?
Steffen F. Pirsigs made similar work as you can see in his  weblog
from http://databear.wordpress.com/ or in  twitter
http://twitter.com/databear


-- 
Massimo Belgrano
From itamarmlj at yahoo.com.br  Sun Oct 11 09:33:02 2009
From: itamarmlj at yahoo.com.br (Itamar M. L.  Jr.)
Date: Sun Oct 11 10:05:17 2009
Subject: [Harbour] Re: Re: Re: Problem with set filter
References: <20091009172212.GA31114@uran.home.aster.pl><hao0l8$ncv$1@ger.gmane.org>
	<20091011092405.GB21784@uran.home.aster.pl>
Message-ID: <hasn2s$lm9$1@ger.gmane.org>

Hi!
Ok, but if I omit shared flag, get error and with shared flag run without 
error.
I am not clipper user, I am is Harbour user.

> The developer list is not the place to learn Clipper programming.

My problem was that unintentionally area was changed and set filter stopped 
working or is working with error. In my view an error set filter, despite 
the respect that harbour compatibility with clipper but for me it is a 
mistake to harbour, because I never used clipper. If I'm using alias to set 
area in which the filter should be applied.
So if the command "set filter" does not work with alias should show an error 
when compiled

Best regards,
Itamar M. Lins Jr.

"Przemyslaw Czerpak" <druzus@acn.waw.pl> 
escreveu na mensagem news:20091011092405.GB21784@uran.home.aster.pl...
> On Fri, 09 Oct 2009, Itamar Lins wrote:
>> After searching this problem for a few hours... normal to the learner, 
>> got
>> the following result.
>> proc main()
>> field f
>> local inicio, fim
>> set date to brit
>> set epoch to 1970
>> dbcreate("_tst",{{"F","D",8,0}})
>> use _tst
>> dbappend(); f := ctod('22/09/09')
>> dbappend(); f := ctod('23/09/09')
>> dbappend(); f := ctod('28/09/09')
>> dbappend(); f := ctod('28/09/09')
>> close all
>> use _tst new alias 't1' shared
>> use _tst new alias 't2' shared
>>
>>       inicio := ctod('22/09/09')
>>       fim    := ctod('22/09/09')
>>
>>       while !t1->(eof())
>>         ? t1->(recno()), t1->f
>>         t1->(dbskip())
>>       enddo
>>       ?
>>       set filter to t1->f >= inicio .and. t1->f <= fim
>>       t1->(dbgotop())
>>       while !t1->(eof())
>>          ? t1->(recno()), t1->f
>>          t1->(dbskip())
>>       enddo
>>    return
>> Please comment shared option while open dbf file.
>> use _tst new alias 't1'
>> use _tst new alias 't2'
>> try again.
>
> If you need any help then please start testing your examples with
> Clipper. It's the last time when I'm answering for message with
> not verified problems.
> The above code compiled by Harbour, xHarbour and Clipper gives
> exactly the same results.
>
>         1 22/09/09
>         2 23/09/09
>         3 28/09/09
>         4 28/09/09
>
>         1 22/09/09
>         2 23/09/09
>         3 28/09/09
>         4 28/09/09
>
> what is perfect behavior because you are setting filter on 'T2' area
> but skip test is done on 'T1'.
> I think that such messages should be sent to Harbour user group.
> The developer list is not the place to learn Clipper programming.
>
> best regards,
> Przemek 



From druzus at acn.waw.pl  Sun Oct 11 10:51:35 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Oct 11 10:51:41 2009
Subject: [Harbour] Re: Re: Re: Problem with set filter
In-Reply-To: <hasn2s$lm9$1@ger.gmane.org>
References: <20091011092405.GB21784@uran.home.aster.pl>
	<hasn2s$lm9$1@ger.gmane.org>
Message-ID: <20091011145135.GA11268@uran.home.aster.pl>

On Sun, 11 Oct 2009, Itamar M. L.  Jr. wrote:

Hi,

> My problem was that unintentionally area was changed and set filter stopped 
> working or is working with error. In my view an error set filter, despite 
> the respect that harbour compatibility with clipper but for me it is a 
> mistake to harbour, because I never used clipper. If I'm using alias to set 
> area in which the filter should be applied.

The problems you presented so far are your own bugs in .prg code
and I'm really sorry but I do not have time to help each Harbour
programmer in creating .prg code and fix their own bugs.
Maybe you should look for some payments assistance in the future
if you need help in such situations.

> So if the command "set filter" does not work with alias should show an error 
> when compiled

SET FILTER works perfectly. Aliases are fully separated so SET FILTER in
one workarea does not change the behavior of other workareas what is
expected behavior and very important functionality.

best regards,
Przemek 
From harbour.01 at syenar.hu  Sun Oct 11 11:59:16 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Oct 11 11:59:25 2009
Subject: [Harbour] 32-64 bit status
In-Reply-To: <9257026e0910110617ida2f7a8l910e62c1bd6db980@mail.gmail.com>
References: <9257026e0910110617ida2f7a8l910e62c1bd6db980@mail.gmail.com>
Message-ID: <EC57D949-24E5-4329-B1D3-DD2F24325184@syenar.hu>

Hi Lorenzo,

On 2009 Oct 11, at 15:17, Lorenzo Fiorini wrote:

> I'm working on a new Snow Leopard and I get:
> ld: warning: in /opt/pgsql/lib/libpq.dylib, missing required
> architecture x86_64 in file

You'll need to rebuild MacPorts packages after upgrading
to SL. Some suggest to uninstall it completely and reinstall
all pkgs (I can second this recommendation). You'll also
need latest MacPorts installer.

> Beside the specific fact it seems that the moment to release both the
> 32bit and the 64bit version of the apps has come.
>
> Can I build a 32bit version of my apps in a 64bit env?

Yes. Check -arch option. It's also included in INSTALL doc.

Brgds,
Viktor

From itamarmlj at yahoo.com.br  Sun Oct 11 13:30:49 2009
From: itamarmlj at yahoo.com.br (Itamar M. L.  Jr.)
Date: Sun Oct 11 13:35:59 2009
Subject: [Harbour] Re: Re: Re: Re: Problem with set filter
References: <20091011092405.GB21784@uran.home.aster.pl><hasn2s$lm9$1@ger.gmane.org>
	<20091011145135.GA11268@uran.home.aster.pl>
Message-ID: <hat50o$s3h$1@ger.gmane.org>

Hi!
I'm sorry do you lost your precious time. "Big Guru"
However I still think it is a mistake the harbour, my code has been 
corrected to work this way, without alias.
> Maybe you should look for some payments assistance in the future
> if you need help in such situations.
This subject, I learned that although the command "set filter" accept the 
syntax with alias but ignores it. It was just the problem.
Next time I will have more carefully before you bother him.
The end.

Best regards,
Itamar M. Lins Jr.

"Przemyslaw Czerpak" <druzus@acn.waw.pl> 
escreveu na mensagem news:20091011145135.GA11268@uran.home.aster.pl...
> On Sun, 11 Oct 2009, Itamar M. L.  Jr. wrote:
>
> Hi,
>
>> My problem was that unintentionally area was changed and set filter 
>> stopped
>> working or is working with error. In my view an error set filter, despite
>> the respect that harbour compatibility with clipper but for me it is a
>> mistake to harbour, because I never used clipper. If I'm using alias to 
>> set
>> area in which the filter should be applied.
>
> The problems you presented so far are your own bugs in .prg code
> and I'm really sorry but I do not have time to help each Harbour
> programmer in creating .prg code and fix their own bugs.
> Maybe you should look for some payments assistance in the future
> if you need help in such situations.
>
>> So if the command "set filter" does not work with alias should show an 
>> error
>> when compiled
>
> SET FILTER works perfectly. Aliases are fully separated so SET FILTER in
> one workarea does not change the behavior of other workareas what is
> expected behavior and very important functionality.
>
> best regards,
> Przemek 



From lorenzo.fiorini at gmail.com  Sun Oct 11 13:36:35 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Oct 11 13:36:41 2009
Subject: [Harbour] 32-64 bit status
In-Reply-To: <EC57D949-24E5-4329-B1D3-DD2F24325184@syenar.hu>
References: <9257026e0910110617ida2f7a8l910e62c1bd6db980@mail.gmail.com>
	<EC57D949-24E5-4329-B1D3-DD2F24325184@syenar.hu>
Message-ID: <9257026e0910111036j606d118fgbf58461717cc4c86@mail.gmail.com>

On Sun, Oct 11, 2009 at 5:59 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> You'll need to rebuild MacPorts packages after upgrading
> to SL. Some suggest to uninstall it completely and reinstall
> all pkgs (I can second this recommendation). You'll also
> need latest MacPorts installer.

Many thanks. This is a completely new Mac that came with SL installed.
However my question was more general and not related to OSX or pgsql.

I'll try to be more clear.

Which is the best setup to build 32 and 64 bit version of the same application?

Can I build a 32 bit version of Harbour under a 64bit Linux or is
better to have 2 different VM?

But what about Windows 7 ( or Vista )? Is it possible to create 32bit
within a 64 bit Windows 7?

Do we need to add some switches or envvars to Harbour?

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sun Oct 11 13:49:05 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Oct 11 13:49:14 2009
Subject: [Harbour] Re: Re: Re: Re: Problem with set filter
In-Reply-To: <hat50o$s3h$1@ger.gmane.org>
References: <20091011092405.GB21784@uran.home.aster.pl><hasn2s$lm9$1@ger.gmane.org>
	<20091011145135.GA11268@uran.home.aster.pl>
	<hat50o$s3h$1@ger.gmane.org>
Message-ID: <F841F1B1-D7EF-4DE7-987C-DB2507EEA2E7@syenar.hu>

> I'm sorry do you lost your precious time. "Big Guru"
> However I still think it is a mistake the harbour, my code has been
> corrected to work this way, without alias.

It's not a mistake in Harbour, the language works this way.

>> Maybe you should look for some payments assistance in the future
>> if you need help in such situations.
> This subject, I learned that although the command "set filter"  
> accept the
> syntax with alias but ignores it. It was just the problem.

You should reread documentation about SET FILTER, it's
working as intended and absolutely in sync with other
parts of the language. Maybe you should use the function
call format of SET FILTER to make your error clear for
yourself.

> Next time I will have more carefully before you bother him.
> The end.

Users' forums for programming issues. Please use it.

Before you post here, make sure there is indeed a problem
with Harbour. The simplest way to do this is to build your
test code with Clipper and compare results.

In this case, you've been posting plain app programming
errors on the dev list, which is a waste of time for everyone
hanging here.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Oct 11 13:54:26 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Oct 11 13:54:34 2009
Subject: [Harbour] 32-64 bit status
In-Reply-To: <9257026e0910111036j606d118fgbf58461717cc4c86@mail.gmail.com>
References: <9257026e0910110617ida2f7a8l910e62c1bd6db980@mail.gmail.com>
	<EC57D949-24E5-4329-B1D3-DD2F24325184@syenar.hu>
	<9257026e0910111036j606d118fgbf58461717cc4c86@mail.gmail.com>
Message-ID: <1A842834-A7BB-4E3F-ABB7-467732DD722F@syenar.hu>

>> You'll need to rebuild MacPorts packages after upgrading
>> to SL. Some suggest to uninstall it completely and reinstall
>> all pkgs (I can second this recommendation). You'll also
>> need latest MacPorts installer.
>
> Many thanks. This is a completely new Mac that came with SL installed.
> However my question was more general and not related to OSX or pgsql.
>
> I'll try to be more clear.
>
> Which is the best setup to build 32 and 64 bit version of the same  
> application?
>
> Can I build a 32 bit version of Harbour under a 64bit Linux or is
> better to have 2 different VM?

Probably similar to darwin: you set some compiler
switch to chose CPU arch. Since Linux doesn't have "unibin"
support, you may want to additionally set HB_BUILD_NAME
to maintain multiple CPU archs in parallel.

> But what about Windows 7 ( or Vista )? Is it possible to create 32bit
> within a 64 bit Windows 7?

On win the host systems CPU arch won't influence default
target CPUs selected by compilers, so you basically do
everything the same way as on 32-bit Windows systems.
Again see INSTALL for examples for all above situations.

The only difference if you use 64-bit win, is that you
can use native x64 compiler binaries. Currently only
MSVC has them (and mingw64, but I couldn't make them work).

Brgds,
Viktor

From druzus at users.sourceforge.net  Sun Oct 11 13:55:23 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Oct 11 13:55:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12684] trunk/harbour
Message-ID: <E1Mx2df-00041j-Rr@d5vjzd1.ch3.sourceforge.com>

Revision: 12684
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12684&view=rev
Author:   druzus
Date:     2009-10-11 17:55:14 +0000 (Sun, 11 Oct 2009)

Log Message:
-----------
2009-10-11 19:54 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapicdp.h
  * harbour/src/rtl/cdpapi.c
  * harbour/src/rtl/is.c
    * moved hb_charIs*() functions to cdpapi.c file for easier updating
      in the future
    % optimized memory allocation for new codepages

  * harbour/contrib/hbct/pos1.c
    * use hb_charIs*() functions instead of accessing HB_CODEPAGE
      structure members

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/pos1.c
    trunk/harbour/include/hbapicdp.h
    trunk/harbour/src/rtl/cdpapi.c
    trunk/harbour/src/rtl/is.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Sun Oct 11 14:49:56 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Oct 11 14:50:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12685] trunk/harbour
Message-ID: <E1Mx3US-00068g-QV@74yxhf1.ch3.sourceforge.com>

Revision: 12685
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12685&view=rev
Author:   druzus
Date:     2009-10-11 18:49:55 +0000 (Sun, 11 Oct 2009)

Log Message:
-----------
2009-10-11 20:49 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/cdpapi.c
    ! fixed bad typo in last commit

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/cdpapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Sun Oct 11 16:14:18 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Oct 11 16:14:25 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <20091011090722.GA21784@uran.home.aster.pl>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>
	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>
	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>
	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>
	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>
	<20091011090722.GA21784@uran.home.aster.pl>
Message-ID: <133778360910111314x25f19d8elcd8c22aeaa1a203d@mail.gmail.com>

I think that some configuration may be necesary

I don' t use wine dos emulation , but  what you see in the png file
is a real clipper old aplication running in my home directory in kubuntu
linux
using wine 1.1.26

only one click and it run without use the wineconsole command

I don' t know if it is diferent but how you can see  it run

May be not all dos applications works

I use wine running my OOHG- Harbour(windows) program in linux boxes
conected to a lin ux server via smbclient.

It is in a test stage but works ok , at least until I can create a real
linux native graphical
application to manage my business .

Thanks

Bruno


2009/10/11 Przemyslaw Czerpak <druzus@acn.waw.pl>

> On Sat, 10 Oct 2009, Ciro Vargas C wrote:
> > Sorry but Wine support DOS applications.
> >  please test it and you got surpraised
>
> I think you will be surprised if you create pure DOS application.
> Let's try:
>
> /*** t76.prg ***/
> proc main()
>   ? date(), time()
>   ? os()
>   ? version()
>   ? procname()
>   wait
> return
>
> druzus:/tmp/24# file t76.exe
> t76.exe: MS-DOS executable, MZ for MS-DOS
>
> druzus:/tmp/24# wineconsole t76.exe
> fixme:mixer:ALSA_MixerInit No master control found on HDA ATI HDMI,
> disabling mixer
> winevdm: unable to exec 'Z:\tmp\24\t76.exe': DOS memory range unavailable
> druzus:/tmp/24#
>
> Let's hack the kernel and unblock access to low memory:
>
> root:~# sysctl -w vm.mmap_min_addr=0
> vm.mmap_min_addr = 0
>
> and then again:
>
> druzus:/tmp/24# wineconsole t76.exe
> fixme:mixer:ALSA_MixerInit No master control found on HDA ATI HDMI,
> disabling mixer
> wine: Unhandled page fault on read access to 0x0d96f002 at address
> 0x7e8e15b1 (thread 001a), starting debugger...
>
> Let's try to execute pure clipper.exe binaries:
>
> druzus:/tmp/24# wineconsole /mnt/nwe/lng/clipper5/bin/clipper.exe
> fixme:mixer:ALSA_MixerInit No master control found on HDA ATI HDMI,
> disabling mixer
> wine: Unhandled page fault on read access to 0x19bf8002 at address
> 0x7e8e85b1 (thread 001a), starting debugger...
>
> WINE does not support DOS application. For such support it's necessary
> to emulate whole DOS with all DOS interrupts and memory regions, emulate
> BIOS interrupts, etc. so to make it well it's necessary to replicate
> FreeDOS
> or other DOS inside Wine with some emulation layers given by DOSEMU which
> are not available in pure WINE.
> I have no idea what you have tested.
> Maybe it's possible to execute DOS application using WINE indirectly,
> i.e. using some emulation layer which comes with real MS-Windows installed
> on the same computer when WINE is configured to use original MS-Windows
> code and original Windows installation contains MS-DOS emulator for
> executing
> DOS application. I've never tested it so I cannot confirm if it works or
> not.
> Anyhow it does not change the fact that WINE cannot execute DOS programs
> and
> it only executes DOS emulator which executes DOS programs. In such case
> I suggest to use DOSEMU to reduce number of emulation layers.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091011/9ab07b72/attachment.html
From druzus at users.sourceforge.net  Sun Oct 11 18:35:18 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Oct 11 18:35:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12686] trunk/harbour
Message-ID: <E1Mx70Y-0006kX-Ao@3kljzd1.ch3.sourceforge.com>

Revision: 12686
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12686&view=rev
Author:   druzus
Date:     2009-10-11 22:35:16 +0000 (Sun, 11 Oct 2009)

Log Message:
-----------
2009-10-12 00:34 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/debian/copyright
  * harbour/debian/rules
  * harbour/src/common/hbtrace.c
  * harbour/src/rdd/usrrdd/rdds/logrdd.prg
  * harbour/tests/cpinfo.prg
  * harbour/doc/gtapi.txt
  * harbour/doc/en-EN/string.txt
  * harbour/doc/en-EN/license.txt
  * harbour/doc/en-EN/compiler.txt
  * harbour/doc/en-EN/terminal.txt
  * harbour/doc/en-EN/dbstrux.txt
  * harbour/doc/en-EN/idle.txt
  * harbour/doc/en-EN/garbage.txt
  * harbour/doc/en-EN/browse.txt
  * harbour/doc/en-EN/lang.txt
  * harbour/doc/en-EN/misc.txt
  * harbour/doc/windll.txt
  * harbour/doc/whatsnew.txt
  * harbour/COPYING
    * finished some missed source/ -> src/ translations

Modified Paths:
--------------
    trunk/harbour/COPYING
    trunk/harbour/ChangeLog
    trunk/harbour/debian/copyright
    trunk/harbour/debian/rules
    trunk/harbour/doc/en-EN/browse.txt
    trunk/harbour/doc/en-EN/compiler.txt
    trunk/harbour/doc/en-EN/dbstrux.txt
    trunk/harbour/doc/en-EN/garbage.txt
    trunk/harbour/doc/en-EN/idle.txt
    trunk/harbour/doc/en-EN/lang.txt
    trunk/harbour/doc/en-EN/license.txt
    trunk/harbour/doc/en-EN/misc.txt
    trunk/harbour/doc/en-EN/string.txt
    trunk/harbour/doc/en-EN/terminal.txt
    trunk/harbour/doc/gtapi.txt
    trunk/harbour/doc/whatsnew.txt
    trunk/harbour/doc/windll.txt
    trunk/harbour/src/common/hbtrace.c
    trunk/harbour/src/rdd/usrrdd/rdds/logrdd.prg
    trunk/harbour/tests/cpinfo.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Oct 11 18:46:38 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Oct 11 18:46:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12686] trunk/harbour
In-Reply-To: <E1Mx70Y-0006kX-Ao@3kljzd1.ch3.sourceforge.com>
References: <E1Mx70Y-0006kX-Ao@3kljzd1.ch3.sourceforge.com>
Message-ID: <FC709A8D-654E-4156-8D93-33C326697F94@syenar.hu>

Thank you.

Brgds,
Viktor

On 2009 Oct 12, at 00:35, druzus@users.sourceforge.net wrote:

> Revision: 12686
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12686&view=rev
> Author:   druzus
> Date:     2009-10-11 22:35:16 +0000 (Sun, 11 Oct 2009)
>
> Log Message:
> -----------
> 2009-10-12 00:34 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/debian/copyright
>  * harbour/debian/rules
>  * harbour/src/common/hbtrace.c
>  * harbour/src/rdd/usrrdd/rdds/logrdd.prg
>  * harbour/tests/cpinfo.prg
>  * harbour/doc/gtapi.txt
>  * harbour/doc/en-EN/string.txt
>  * harbour/doc/en-EN/license.txt
>  * harbour/doc/en-EN/compiler.txt
>  * harbour/doc/en-EN/terminal.txt
>  * harbour/doc/en-EN/dbstrux.txt
>  * harbour/doc/en-EN/idle.txt
>  * harbour/doc/en-EN/garbage.txt
>  * harbour/doc/en-EN/browse.txt
>  * harbour/doc/en-EN/lang.txt
>  * harbour/doc/en-EN/misc.txt
>  * harbour/doc/windll.txt
>  * harbour/doc/whatsnew.txt
>  * harbour/COPYING
>    * finished some missed source/ -> src/ translations
>
> Modified Paths:
> --------------
>    trunk/harbour/COPYING
>    trunk/harbour/ChangeLog
>    trunk/harbour/debian/copyright
>    trunk/harbour/debian/rules
>    trunk/harbour/doc/en-EN/browse.txt
>    trunk/harbour/doc/en-EN/compiler.txt
>    trunk/harbour/doc/en-EN/dbstrux.txt
>    trunk/harbour/doc/en-EN/garbage.txt
>    trunk/harbour/doc/en-EN/idle.txt
>    trunk/harbour/doc/en-EN/lang.txt
>    trunk/harbour/doc/en-EN/license.txt
>    trunk/harbour/doc/en-EN/misc.txt
>    trunk/harbour/doc/en-EN/string.txt
>    trunk/harbour/doc/en-EN/terminal.txt
>    trunk/harbour/doc/gtapi.txt
>    trunk/harbour/doc/whatsnew.txt
>    trunk/harbour/doc/windll.txt
>    trunk/harbour/src/common/hbtrace.c
>    trunk/harbour/src/rdd/usrrdd/rdds/logrdd.prg
>    trunk/harbour/tests/cpinfo.prg
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at users.sourceforge.net  Sun Oct 11 19:15:11 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Oct 11 19:15:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12687] trunk/harbour
Message-ID: <E1Mx7d9-0006k0-Md@dn4whf1.ch3.sourceforge.com>

Revision: 12687
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12687&view=rev
Author:   druzus
Date:     2009-10-11 23:15:09 +0000 (Sun, 11 Oct 2009)

Log Message:
-----------
2009-10-12 01:14 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/debian/rules
    ! fixed typo: HB_INC_INSTALL<->HB_LIB_INSTALL

  * harbour/debian/changelog
    * updated version number

  * harbour/mpkg_deb.sh
    * do not create unnecessary source code archive

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/debian/changelog
    trunk/harbour/debian/rules
    trunk/harbour/mpkg_deb.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From philb at philb.us  Sun Oct 11 23:13:20 2009
From: philb at philb.us (Phil Barnett)
Date: Sun Oct 11 23:13:31 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c	not,	fully
	compatible with clipper
In-Reply-To: <4ACCE8FA.6080800@centrum.cz>
References: <4ACCE8FA.6080800@centrum.cz>
Message-ID: <1255317200.2088.437.camel@SunSpot>

On Wed, 2009-10-07 at 21:16 +0200, Vojt?ch Obrdl?k wrote:
> Hi,
> 
> I've found that on Phil Barnett's marvelous old Clipper (TM) site - The 
> Oasis -
> 
> is available patch Clipper 5.2e for both US and Intl. version.
> 
> url: http://www.the-oasis.net/ftpmaster.php3?content=ftp_ca.htm

You all cannot believe how much traffic that site still gets. Over a gig
a month of downloads.

From druzus at users.sourceforge.net  Sun Oct 11 23:29:23 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Oct 11 23:29:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12688] trunk/harbour
Message-ID: <E1MxBb9-0003Ce-KE@3kljzd1.ch3.sourceforge.com>

Revision: 12688
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12688&view=rev
Author:   druzus
Date:     2009-10-12 03:29:22 +0000 (Mon, 12 Oct 2009)

Log Message:
-----------
2009-10-12 05:29 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/darwin/gcc.mk
  * harbour/config/darwin/icc.mk
  * harbour/config/darwin/clang.mk
  * harbour/config/linux/gcc.mk
    ! fixed soft links to harbour shared library - they should not contain
      any paths

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/darwin/clang.mk
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/darwin/icc.mk
    trunk/harbour/config/linux/gcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Oct 12 00:02:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Oct 12 00:02:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12689] trunk/harbour
Message-ID: <E1MxC6v-00045s-77@d5vjzd1.ch3.sourceforge.com>

Revision: 12689
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12689&view=rev
Author:   vszakats
Date:     2009-10-12 04:02:12 +0000 (Mon, 12 Oct 2009)

Log Message:
-----------
2009-10-12 06:01 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbssl/evpciph.c
  * contrib/hbssl/evpmd.c
  * contrib/hbssl/evpenc.c
  * contrib/hbssl/hbssl.h
  * contrib/hbssl/evppkey.c
    ! Cleaned header usage. Should fix some C++ mode link errors.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbssl/evpciph.c
    trunk/harbour/contrib/hbssl/evpenc.c
    trunk/harbour/contrib/hbssl/evpmd.c
    trunk/harbour/contrib/hbssl/evppkey.c
    trunk/harbour/contrib/hbssl/hbssl.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From M.Horodyski at pzuzycie.com.pl  Mon Oct 12 05:22:56 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Oct 12 05:23:05 2009
Subject: [Harbour] RDDADO on Beta3
In-Reply-To: <4ACF6FD5.4010706@gmail.com>
References: <hanaud$bqo$1@ger.gmane.org>
	<4ACF4AB4.2000907@gmail.com><16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
	<4ACF6FD5.4010706@gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>

>-----Original Message-----
>From: Roberto Lopez [mailto:roberbox@gmail.com] 
>Sent: Friday, October 09, 2009 7:16 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] RDDADO on Beta3
>
>Viktor Szak?ts wrote:
>
>> Yes, RDDADO is broken. Unfortunately seemingly nobody was so far 
>> interested enough to fix it :(
><...>
>
>Ok.
>
>Thanks for your quick response.

Roberto, 
Much better is SQLMIX. I work with this ODBC rdd with different databases.

Regards,
Marek Horodyski
From roberbox at gmail.com  Mon Oct 12 07:05:06 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Mon Oct 12 07:05:14 2009
Subject: [Harbour] RDDADO on Beta3
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com><16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>
Message-ID: <4AD30D62.5050707@gmail.com>

Horodyski Marek (PZUZ) wrote:
> Roberto, 
> Much better is SQLMIX. I work with this ODBC rdd with different databases.

Yes. I think so too.

I've adapted samples from Harbour contrib to HMG 3.0 Test already and 
published.

Regards,

Roberto.
From mbelgrano at deltain.it  Mon Oct 12 07:05:50 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct 12 07:06:18 2009
Subject: [Harbour] RDDADO on Beta3
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com> 
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
	<4ACF6FD5.4010706@gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>
Message-ID: <609353e70910120405u3c9c0c81mc1be2354f4e707cb@mail.gmail.com>

Follow doc by Mindaugas

Hi,


I've also had a problem like this. I've implemented some universal
interface to access SQL databases. It's done via RDD, but class
interface can be implemented also. I have implemented SQLBASE, SQLMIX
(see below) RDDs and SDD (see below) for accessing MySQL, FireBird and
PostgreSQL. But only MySQL SDD I've used in real application, so other
implementation could be not complete.

I've tried to document my idea some time ago (2007-10-09). Some
implementation details could be changed general idea is the same.


===================================================================
                     Simple SQL Interface for Harbour



1. Introduction

    Simple SQL interface implements accessing SQL query result via RDD
interface. It is not intended to be replacement for "transparent" move of
DBFCDX application to SQL world.

    I want to discuss this in more detail. Many current RDDs for SQL
servers
(ex. SQLRDD from xHarbour.com) tries to make a feeling you are working
with
DBF file, but not with SQL database. SQL server does not support many
features, ex. RECNO(), deleted flag, file locks, record locks. These RDDs
are emulating these features to make feeling of DBF. DELETED() function is
emulated by creating additional table columns to store delete flag. Some
"hidden system" tables are used to register locking operations and emulate
record and file locks in DBF style. The idea of SQL query is also lost. If
you do a simple loop

  DBUSEAREA(, "select * from my_table")
  DO WHILE ! EOF()
    somefunc( FIELD->some_sql_field )
    DBSKIP()
  ENDDO

RDD usualy will read SQL rows in portions, let's say 100 records per
query.
So, hidden queries are generated. If you are using indexes these queries
are really complicated. Let's have index on FIELD1 + STR(FIELD2). A seek
to
value cValue1 + STR(nValue2) will generate a query like:

  SELECT * FROM my_table
      WHERE (FIELD1 == cValue1 and FIELD2 >= nValue2) or FIELD1 > cValue1
      ORDER BY FIELD1, FIELD2, _RECNO
      LIMIT 100

After evaluation of first 100 cached records, next query will be
generated:

  SELECT * FROM my_table
      WHERE (FIELD1 == cLastField1 and FIELD2 == nLastValue2 and _RECNO
 > nLastRecno) or
            (FIELD1 == cLastField1 and FIELD2 > nLastValue2) or
            FIELD1 > cLastValue1
      ORDER BY FIELD1, FIELD2, _RECNO
      LIMIT 100

To optimize these queries the SQL index expresion should be
"FIELD1,FIELD2,_RECNO", but not "FIELD1,FIELD2" as written in INDEX ON
command.

    "Simple SQL interface" is too long to repeat every time I want to
address this library. I'll also use acronym "SSI" to address it.

    The idea of SSI is different. It does not make hidden queries. All
queries should be made explicitly by programmer. SSI gives access to query
result via RDD interface, it does not tries to emulate DBF and be
"plug-and-play" solution for DBF to SQL migration. If you do

  DBUSEAREA(, "select * from my_table")

all query (it could contain millions of records!) will be cached.

    The features of SSI approach are:

- It's possible to access SQL database of other applications. Other
  applications usualy does not follow agreement of "plug-and-play" SQL
drivers
  about additional DELETED column, _RECNO in the end of index
expression, etc.
  Access of SQL database of other applications is sometimes not possible.

- It's query oriented. That means a simple DO WHILE ! EOF() loop will
iterate
  each records once and only once. This is not true for "plug-and-play"
SQL
  drivers, if indexing is used. Just like in the case of loop over DBF
file.
  It is not guaranteed that all records are included! Yes! If key value
of the
  first record in index is changed to be the last record in index
during the
  phase of record processing, DO WHILE ! EOF() loop will iterate only
this
  single records even if the database contains millions of records.
Your sould
  do FLOCK() on DBF to guarantee the records are not changed. Do you
use FLOCK()
  before readonly DO WHILE ! EOF() loops? :)



2. Architecture


              +-------------+
              |             |
              | SQLMIX RDD  |
              |             |
              +-------------+
                   |  ^
                   V  |
              +-------------+    +---------+
              |             |--->|         |
              | SQLBASE RDD |    |   SDD   |
              |             |<---|         |
              +-------------+    +---------+


    SQLBASE RDD implements basic functionality for accessing SQL query
result
via RDD interface. This RDD could be used, if indexing of query result
is not
necessary or all indexing is done by SQL server (by using ORDER BY
clause).

    SQLMIX RDD implements indexing of query result. This indexing is not
related to SQL server ORDER BY clause. SQLMIX do indexing of the query
on the
client side.

    SDD is acronym for Sql Database Driver. RDD is used to implement
access
of different database formats like DBF, SDF, etc. SDD is used to implement
access of different SQL databases. Every SQL server (MySQL, PostgreSQL,
etc.)
has a corresponding SDD. SDD driver implements a specific part of data
exchange interface between SQLBASE and SQL server.

    A few additional functions are also implemented, ex. HB_SQLCONNECT().
Usualy these functions are just a shorter version of corresponding
RDDINFO()
call.



3. Modifying database

    SSI presents a query result via RDD interface and generates no hidden
SQL queries. So, how database can be changed? Does DBAPPEND() and
FIELDPUT()
works, or is it readonly SQL interface?
    DBAPPEND(), FIELDPUT() and other similiar functions work on cached
query
result, i.e. query can be appended by new rows and field values can be
changed, but SQL database is not changed. DBCREATE() function can also be
used to create an "empty query result" but no table is created on SQL
server.
So, SSI can also be used as implementation of "array RDD".
    The programmer must call SQL command explicitly to modify SQL tables.
SSI provides a method to detect which cached rows was changed or appended.

===================================================================



Best regards,
Mindaugas


2009/10/12 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>:
>>-----Original Message-----
>>From: Roberto Lopez [mailto:roberbox@gmail.com]
>>Sent: Friday, October 09, 2009 7:16 PM
>>To: Harbour Project Main Developer List.
>>Subject: Re: [Harbour] RDDADO on Beta3
>>
>>Viktor Szak?ts wrote:
>>
>>> Yes, RDDADO is broken. Unfortunately seemingly nobody was so far
>>> interested enough to fix it :(
>><...>
>>
>>Ok.
>>
>>Thanks for your quick response.
>
> Roberto,
> Much better is SQLMIX. I work with this ODBC rdd with different databases.
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From roberbox at gmail.com  Mon Oct 12 07:09:50 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Mon Oct 12 07:09:59 2009
Subject: [Harbour] RDDADO on Beta3
In-Reply-To: <609353e70910120405u3c9c0c81mc1be2354f4e707cb@mail.gmail.com>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com>
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>
	<609353e70910120405u3c9c0c81mc1be2354f4e707cb@mail.gmail.com>
Message-ID: <4AD30E7E.8050001@gmail.com>

Massimo Belgrano wrote:
> Follow doc by Mindaugas
<...>

I know, I've already published samples in new HMG distribution.

Thanks for the advice.

Regards,

Roberto.



From roberbox at gmail.com  Mon Oct 12 07:16:07 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Mon Oct 12 07:16:17 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com><16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>
Message-ID: <4AD30FF7.6070308@gmail.com>


Hi All,

Based on an interesting idea from Massimo Belgrano we
decided to add an specific area on www.hmgforum.com for
Harbour compiler related issues.

We published an experimental HMG release based on
100% 'pure' Harbour 2.0 build subset. So, supporting
Harbour compiler bundled in HMG, shouldn't be
a problem to Harbour developers 
(http://www.hmgforum.com/viewtopic.php?f=2&t=879).

Another interesting Massimo idea is to have a Wiki to help
to create a (really needed) Harbour documentation.

We already added a Wiki to the site (TikiWiki). You can
access it in: http://www.hmgforum.com/wiki

A good starting point could be to use the current Harbour
documentation published at Harbour site. If you agree,
the first main task should be to import it.

We will succeed, only with Harbour community
support, so we need your help.

So, you are welcome to participate in any of the two
projects. All is already set and working.

Thanks in advance.


Rathinagiri & Roberto Lopez - HMG Forum.

From harbour.01 at syenar.hu  Mon Oct 12 07:27:18 2009
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 12 07:27:28 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <4AD30FF7.6070308@gmail.com>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com><16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>
	<4AD30FF7.6070308@gmail.com>
Message-ID: <C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>

Hi Roberto,

> We published an experimental HMG release based on
> 100% 'pure' Harbour 2.0 build subset. So, supporting
> Harbour compiler bundled in HMG, shouldn't be
> a problem to Harbour developers (http://www.hmgforum.com/viewtopic.php?f=2&t=879 
> ).
>
> Another interesting Massimo idea is to have a Wiki to help
> to create a (really needed) Harbour documentation.

Thanks Roberto. I think though, that this still isn't a
complete Harbour distro, as its missing crucial parts as
hbmk2, hbrun, hbi18n, .dlls and INSTALL doc. Which means
the even the most important pointers and tools are missing
which are used as a starting point in normal Harbour usage
and support. Anyhow now it's at least possible to replace
bundled Harbour with an official distro, which is good,
but for me it seems that giving support for the bundled
one is not easily possible yet.

Brgds,
Viktor

From mbelgrano at deltain.it  Mon Oct 12 07:34:19 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct 12 07:34:47 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <4AD30FF7.6070308@gmail.com>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com> 
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
	<4ACF6FD5.4010706@gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu> 
	<4AD30FF7.6070308@gmail.com>
Message-ID: <609353e70910120434n6ff49b6bofd96765774f32ef@mail.gmail.com>

Very Good news
I am sure that hmg user base will help in having more realibility
Please include hbmk2 in harbour distribution

About DOC you must kwnow:
Doc on Harbour site is a way
hbdoc2 is another way  not jet ready
a hpl documentation came from HMG extended
Harbour Online Help Manual at http://www.voych.info/harbour

Is possible export from wiki to a PDF?

2009/10/12 Roberto Lopez <roberbox@gmail.com>:
>
> Hi All,
>
> Based on an interesting idea from Massimo Belgrano we
> decided to add an specific area on www.hmgforum.com for
> Harbour compiler related issues.
>
> We published an experimental HMG release based on
> 100% 'pure' Harbour 2.0 build subset. So, supporting
> Harbour compiler bundled in HMG, shouldn't be
> a problem to Harbour developers
> (http://www.hmgforum.com/viewtopic.php?f=2&t=879).
>
> Another interesting Massimo idea is to have a Wiki to help
> to create a (really needed) Harbour documentation.
>
> We already added a Wiki to the site (TikiWiki). You can
> access it in: http://www.hmgforum.com/wiki
>
> A good starting point could be to use the current Harbour
> documentation published at Harbour site. If you agree,
> the first main task should be to import it.
>
> We will succeed, only with Harbour community
> support, so we need your help.
>
> So, you are welcome to participate in any of the two
> projects. All is already set and working.
>
> Thanks in advance.
>
>
> Rathinagiri & Roberto Lopez - HMG Forum.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Mon Oct 12 07:35:11 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct 12 07:35:38 2009
Subject: [Harbour] RDDADO on Beta3
In-Reply-To: <16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com> 
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
Message-ID: <609353e70910120435m2920caabnf984df0e57056821@mail.gmail.com>

as author of rddado i hope that Fernando Mancera or  Antonio Linares help us
for having a error free rddado?




2009/10/9 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Roberto,
>
> Yes, RDDADO is broken. Unfortunately seemingly nobody
> was so far interested enough to fix it :( Help would be
> appreciated, apparently nobody on the dev list uses this
> component.
>
> It's possible that some things got broken because we
> now use a fully rewritten OLE connector engine and
> there are some small differences. But could be that it's
> something else.
>
> Brgds,
> Viktor
>
> On 2009 Oct 9, at 16:37, Roberto Lopez wrote:
>
>> Hi All,
>>
>> I continue testing beta3 and found a problem with rddado sample.
>>
>> The sample (contrib\rddado\access1.prg) works, but exiting browse with
>> [ESC] it gives the following error:
>>
>> Error BASE/3012 ?Argument error: FIND
>> Called from WIN_OLEAUTO:FIND(0) ?OPEN
>> Called from ADO_LOCATE(0) ?N(0)
>> Called from __DBLOCATE(0)
>> Called from MAIN(34) ?0)
>> Called from MAIN(11)
>>
>> I've compiled with: 'hbmk2 access2.prg'
>>
>> If you modify the sample to display recno() value you'll find that it
>> always return 0 (It worked fine in Harbour 1.01)
>>
>> This problem causes that HMG RDDADO Browse samples to crash, since HMG
>> browse control relies on values returned by recno() function (of course,
>> this is a problem for non-HMG users too).
>>
>>
>> Regards,
>>
>> Roberto.
>>
>>
>>
>>
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From srgiri at dataone.in  Mon Oct 12 07:56:46 2009
From: srgiri at dataone.in (S Rathinagiri)
Date: Mon Oct 12 07:58:25 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <609353e70910120434n6ff49b6bofd96765774f32ef@mail.gmail.com>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com>
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
	<4ACF6FD5.4010706@gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>
	<4AD30FF7.6070308@gmail.com>
	<609353e70910120434n6ff49b6bofd96765774f32ef@mail.gmail.com>
Message-ID: <4AD3197E.9010402@dataone.in>

Massimo Belgrano wrote:
> Very Good news
> I am sure that hmg user base will help in having more realibility
> Please include hbmk2 in harbour distribution
>
> About DOC you must kwnow:
> Doc on Harbour site is a way
> hbdoc2 is another way  not jet ready
> a hpl documentation came from HMG extended
> Harbour Online Help Manual at http://www.voych.info/harbour
>
> Is possible export from wiki to a PDF?
>
>   
Thanks Massimo Belgrano,

Yes, it is possible to export from wiki page to a pdf. However, if we 
want to export the whole contents including the categories-subcategories 
and table of contents, I think it is under construction. Soon it will be 
available.

S. Rathinagiri.
From roberbox at gmail.com  Mon Oct 12 08:07:28 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Mon Oct 12 08:07:35 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com><16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>
	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>
Message-ID: <4AD31C00.9070107@gmail.com>

Viktor:

> Thanks Roberto. I think though, that this still isn't a
> complete Harbour distro, as its missing crucial parts as
> hbmk2, hbrun, hbi18n, .dlls and INSTALL doc. Which means
> the even the most important pointers and tools are missing
> which are used as a starting point in normal Harbour usage
> and support. 

I not agree.

IMHO, HMG IS NOT a Harbour distribution.

HMG is an xBase Windows-GUI development system that uses Harbour as 
xBase compiler.

I've preferred Harbour over other compilers for a lot of reasons, but 
eventually (if conditions changes) it could be replaced for any other 
freely redistributable one.

> Anyhow now it's at least possible to replace
> bundled Harbour with an official distro, which is good,
> but for me it seems that giving support for the bundled
> one is not easily possible yet.

One of the features of HMG is to be compact. The official distro is 
plenty of things that are usually not needed for HMG users (that 
eventually could download the full Harbour distro if needed).

All Harbour and contrib libraries are 'intact' (exactly as are 
distributed). The same applies for 'harbour.exe' and basic docs. So, 
bugs in Harbour compiler found by HMG users should be not a problem for 
Harbour developers.

In the technical side:

I've attempted to include and use HMBK2 in HMG but I've faced a serious 
problem.

Report and forms in HMG can be in separate text files that can be 
included in prgs.

The problem is that we use commands to do that, that are translated by 
PP to #includes.

So, HBMK do not recognize them as include files and changes do not force 
recompilation of prgs.


Regards,

Roberto.
From harbour.01 at syenar.hu  Mon Oct 12 08:34:54 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 12 08:35:04 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <4AD31C00.9070107@gmail.com>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com><16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>
	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>
	<4AD31C00.9070107@gmail.com>
Message-ID: <560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>

>> Thanks Roberto. I think though, that this still isn't a
>> complete Harbour distro, as its missing crucial parts as
>> hbmk2, hbrun, hbi18n, .dlls and INSTALL doc. Which means
>> the even the most important pointers and tools are missing
>> which are used as a starting point in normal Harbour usage
>> and support.
>
> I not agree.
>
> IMHO, HMG IS NOT a Harbour distribution.
>
> HMG is an xBase Windows-GUI development system that uses Harbour as  
> xBase compiler.
>
> I've preferred Harbour over other compilers for a lot of reasons,  
> but eventually (if conditions changes) it could be replaced for any  
> other freely redistributable one.

While this is perfectly okay, I don't agree with your
approach to distribute crippled Harbour.

Maybe we should have our license extended to not allow
that to happen. This way there is no point at all to give
general support on HMG site, as the toolset is a partial
one, not containing important parts. Even if these parts
are not to the direct benefit of all HMG users or developers.

If your goal is to supply a compact package for users,
IMO you should simply just not include Harbour itself
and mingw, but rather simply install into existing Harbour
install and provide links to Harbour installer to users.

This is an interesting area, and there are few more steps
that could be done to make that easier. F.e. storing
Harbour install dir in registry and finalize placement of
3rd party files inside the Harbour dir tree.

>> Anyhow now it's at least possible to replace
>> bundled Harbour with an official distro, which is good,
>> but for me it seems that giving support for the bundled
>> one is not easily possible yet.
>
> One of the features of HMG is to be compact. The official distro is  
> plenty of things that are usually not needed for HMG users (that  
> eventually could download the full Harbour distro if needed).
>
> All Harbour and contrib libraries are 'intact' (exactly as are  
> distributed). The same applies for 'harbour.exe' and basic docs. So,  
> bugs in Harbour compiler found by HMG users should be not a problem  
> for Harbour developers.

This is not true. Important elements from distribution
are left out. The most basic doc is INSTALL, which is
also left out. Harbour isn't equal to harbour.exe + selected
set of static libs. It can work, but it's incomplete.

We haven't been talking about bug reports, we've been talking
about giving "general Harbour support". Giving general Harbour
support is not possible if major parts of Harbour are missing.

So if a user comes by and says, "I've installed HMG and I'd like
to create a hello world app, how can I do it?", Someone could say:
"type hbmk2 hello.prg". User won't know what I'm talking about.

Instead he will find a COMPILE.BAT, which no Harbour developer
knows anything about.

Usually all bug analysis start with getting to know how the app
was built, and many time the build process is at fault, or it
can even create strange results very difficult to anticipate.

So, current step is one in the good direction, but not enough to
achieve original goal (proposed by Massimo).

To sum it up the two crucial part which is missing from distro
are: hbmk2.exe and INSTALL.

If you want to save space hbrun.exe can be left out, and hbi18n.exe
is replaced by hbmk2 for the most part, so it's not crucial. You
can also save space by including a .dll built hbrun.exe +
harbour*.dlls. Even hbmk2 can be built against the .dll.

> In the technical side:
>
> I've attempted to include and use HMBK2 in HMG but I've faced a  
> serious problem.
>
> Report and forms in HMG can be in separate text files that can be  
> included in prgs.
> The problem is that we use commands to do that, that are translated  
> by PP to #includes.
>
> So, HBMK do not recognize them as include files and changes do not  
> force recompilation of prgs.

Can you describe this process in a little more detail? Last
time I've implemented some hbmk2 features specifically for HMG,
but got no response after I've sent to you the solution, so
I don't know where to pickup this thread exactly.

In the meantime, I'd like to suggest to give support for general
Harbour issues on Harbour's official forums. Otherwise users will
meet with a crippled Harbour, which defeats the whole point of
recent discussions, and support will just be scattered in even
more places and adds more confusion to current state IMO.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Oct 12 08:41:48 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 12 08:41:58 2009
Subject: [Harbour] RDDADO
Message-ID: <E8B2C88B-86C4-4DBC-9584-04A1A46AE67A@syenar.hu>

Hi All,

In case there are no objections and nobody volunteers to touch
RDDADO code to make it work after xhb sync and maybe some other
recent changes, I'd like to propose to delete it from repository
or move it to examples.

We have RDDSQL as a nice replacement, even if write support
isn't fully equivalent (or maybe some other differences I
failed to grasp).

Having a non-working RDDADO has not much point IMO, and we're
approaching a final release.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Oct 12 09:28:23 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct 12 09:28:30 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <4AD31C00.9070107@gmail.com>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF6FD5.4010706@gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>
	<4AD30FF7.6070308@gmail.com>
	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>
	<4AD31C00.9070107@gmail.com>
Message-ID: <20091012132823.GA1578@uran.home.aster.pl>

On Mon, 12 Oct 2009, Roberto Lopez wrote:

Hi,

> All Harbour and contrib libraries are 'intact' (exactly as are 
> distributed). The same applies for 'harbour.exe' and basic docs. So, bugs 
> in Harbour compiler found by HMG users should be not a problem for Harbour 
> developers.

My personal experience is that the most often the sources of user problems
are wrongly synced with Harbour core code build scripts in different add
on libraries.
Recently hbmk2 strongly reduced such "bug" reports and I'm very happy
from that. I think that also HMG users can benefit from it.

Additionally you cannot say that sth is not necessary for HMG users
as long as you do not give them a chance to try it. I.e. I do not
believe that non of HMG users have ever tried to create multi language
application looking for I18N support. If you do not include hb18n
or hbmk2 (it can be used to replace hb18n) then you are not giving
them very important functionality which allows to easy create metalanguage
application. I also do not believe that non of HMG users have ever needed
to execute some .prg code as scripts. Such functionality is given by
hbrun which can execute .hrb files but also directly .prg files, i.e.:
   hbrun mycode.prg
and unlike all other script like tools for .prg code hbrun is fully
functional compiler with _ALL_ harbour compiler features which compiles
.prg code on the fly giving the same PCODE as stand alone Harbour compiler
and then executes it with full HVM speed.
Additionally hbrun can be executed without parameters and in such case
it works like .dot command prompt xbase interpreter.
I think you should give HMG users a chance to try such tools so they can
decide if they really need them or not and it should not be your arbitrary
decision. Now Harbour included in HMG is seriously reduced in basic
functionality, i.e. it does not even contain Harbour shared libraries.

> The problem is that we use commands to do that, that are translated by PP 
> to #includes.
> So, HBMK do not recognize them as include files and changes do not force 
> recompilation of prgs.

Do you use tool which emulates Harbour PP use to analyze .prg files
for automatic dependencies checking?
Can you write sth more about it? What exact functionality do you need?

best regards,
Przemek
From mbelgrano at deltain.it  Mon Oct 12 09:33:49 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct 12 09:34:16 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <4AD3197E.9010402@dataone.in>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com> 
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
	<4ACF6FD5.4010706@gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu> 
	<4AD30FF7.6070308@gmail.com>
	<609353e70910120434n6ff49b6bofd96765774f32ef@mail.gmail.com> 
	<4AD3197E.9010402@dataone.in>
Message-ID: <609353e70910120633n44ac1531s5f8b20753d7c194a@mail.gmail.com>

Great!
Good that will export entire site from wiki to a PDF
Now i suggest a little Diffferent structure
>From actual
#Homepage,Hmg, #  Compiler Options,# ADSClearAOF(),# The idle states,#
The Garbage Collector
# Harbour Extensions,# License,# ADSCustomizeAOF()

How use ?
  Quick Start
  # Compiler Option
  hbmk2 option
  Use harbour By svn
  Harbour sample
Harbour Concept who you must undestrand for use harbour in extended mode
  # License
  MultiTread
  Rdd (standard and contrib) with cross table of rdd in column, function in row
  GT (standard ann contrib) and remote GT
   #The idle state
  GUI
  Harbour contrib Quick Description
  Harbour extension that differ from The Clipper documentation
Reference of Harbour Command & Function

2009/10/12 S Rathinagiri <srgiri@dataone.in>:

>> Is possible export from wiki to a PDF?
> Yes, it is possible to export from wiki page to a pdf. However, if we want
> to export the whole contents including the categories-subcategories and
> table of contents, I think it is under construction. Soon it will be
> available.
>
> S. Rathinagiri.

-- 
Massimo Belgrano
From roberbox at gmail.com  Mon Oct 12 09:58:59 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Mon Oct 12 09:59:07 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com><16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>
	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>
Message-ID: <4AD33623.3010004@gmail.com>

Viktor:

Prior to continue, I must point that this is a 'friendly' message.

I respect you and your work. You (among others) made possible Harbour 
resurrection possible, when the project was almost 'dead'.

> I don't agree with your
> approach to distribute crippled Harbour.
> Maybe we should have our license extended to not allow
> that to happen. 

IMHO, this is clearly contrary to Harbour project founders spirit.

They were very generous (Harbour exception in license demonstrates it). 
That decision towards against that spirit.

Since I'm using your Harbour distribution in HMG 3.0 test already 
published and considering that you do not agree with the way I'm using 
it, the right thing will be retire the involved files from SourceForge, 
until I create my own Harbour build from SVN (while license allows to me 
to do that :) ).

> This way there is no point at all to give
> general support on HMG site, as the toolset is a partial
> one, not containing important parts. Even if these parts
> are not to the direct benefit of all HMG users or developers.

Its your decision.

> If your goal is to supply a compact package for users,
> IMO you should simply just not include Harbour itself
> and mingw, but rather simply install into existing Harbour
> install and provide links to Harbour installer to users.

Because Harbour distribution is not compact :)

And it goes against other of the HMG principles: To be easy to use and 
install.

> We haven't been talking about bug reports, we've been talking

Sorry, I was talking about that.

  > So if a user comes by and says, "I've installed HMG and I'd like
> to create a hello world app, how can I do it?", Someone could say:
> "type hbmk2 hello.prg". User won't know what I'm talking about.
> 
> Instead he will find a COMPILE.BAT, which no Harbour developer
> knows anything about.

So, to make this possible, HMG (as it is currently) should dissaper to 
be transformed in a folder in Harbour contrib?

I will not do that.

> Usually all bug analysis start with getting to know how the app
> was built, and many time the build process is at fault, or it
> can even create strange results very difficult to anticipate.

I have not your knowledge about Harbour, but I think that using exactly 
the same compiler and libraries is very unlikely that such thing happens .

Regards,

Roberto.


From mbelgrano at deltain.it  Mon Oct 12 10:09:54 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct 12 10:10:21 2009
Subject: [Harbour] RDDADO
In-Reply-To: <E8B2C88B-86C4-4DBC-9584-04A1A46AE67A@syenar.hu>
References: <E8B2C88B-86C4-4DBC-9584-04A1A46AE67A@syenar.hu>
Message-ID: <609353e70910120709m6cabf2d2i978119b71c055343@mail.gmail.com>

For the windows platform
rddado is better for old application that use  seek,recno ecc.
rddsql is good for new application that will give the power of sql
rddsql need more example so invite everybody use it post a sample

sync rddado with xharbour seem me very difficult becase we have
different ole,rdd


I Agree moving in example if nobody is able to

2009/10/12 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi All,
>
> In case there are no objections and nobody volunteers to touch
> RDDADO code to make it work after xhb sync and maybe some other
> recent changes, I'd like to propose to delete it from repository
> or move it to examples.
>
> We have RDDSQL as a nice replacement, even if write support
> isn't fully equivalent (or maybe some other differences I
> failed to grasp).
>
> Having a non-working RDDADO has not much point IMO, and we're
> approaching a final release.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Mon Oct 12 10:10:34 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct 12 10:10:40 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <133778360910111314x25f19d8elcd8c22aeaa1a203d@mail.gmail.com>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>
	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>
	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>
	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>
	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>
	<20091011090722.GA21784@uran.home.aster.pl>
	<133778360910111314x25f19d8elcd8c22aeaa1a203d@mail.gmail.com>
Message-ID: <20091012141033.GA16227@uran.home.aster.pl>

On Sun, 11 Oct 2009, Bruno Luciani wrote:

Hi,

> I think that some configuration may be necesary
> I don' t use wine dos emulation , but  what you see in the png file
> is a real clipper old aplication running in my home directory in kubuntu
> linux
> using wine 1.1.26
> only one click and it run without use the wineconsole command

Maybe you have binfmt configured to execute DOS applications with DOSEMU.
It works in such way.

> I don' t know if it is diferent but how you can see  it run

Can you send here result of this command:
   file yourdosapp.exe

> May be not all dos applications works

None of pure DOS application can work because WINE does not have
code necessary to execute them. But as I said it's possible that
you have DOS emulation layer with your MS-Windows libraries and
it's used automatically. Do you have MS-Windows installed on your
computer (on different partitions) or only Linux is installed
without any MS code.

> I use wine running my OOHG- Harbour(windows) program in linux boxes
> conected to a lin ux server via smbclient.

Windows applications can be executed without any problems using WINE
but the performance of IO operations is fatal. Even simple tests show
that database access is over 10 times slower then in native applications.
DOS applications executed by DOSEMU are only about 2-3 times slower.

best regards,
Przemek
From roberbox at gmail.com  Mon Oct 12 10:28:26 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Mon Oct 12 10:28:36 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <20091012132823.GA1578@uran.home.aster.pl>
References: <hanaud$bqo$1@ger.gmane.org>
	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>
	<20091012132823.GA1578@uran.home.aster.pl>
Message-ID: <4AD33D0A.5090309@gmail.com>

Przemyslaw Czerpak wrote:

  > My personal experience is that the most often the sources of user 
problems
> are wrongly synced with Harbour core code build scripts in different add
> on libraries.
<...>

I respect you and your work a lot (the same as Viktor).

Is not my intention to disturb you and the list with this.

The only thing that I have to say is that I have a different POV about that.

Regarding problems with HMBK2 there is various, maybe I post a detailed 
report when I finish the tests.

Regards,

Roberto.



From harbour.01 at syenar.hu  Mon Oct 12 10:31:17 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 12 10:31:36 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <4AD33623.3010004@gmail.com>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com><16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>
	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>
	<4AD33623.3010004@gmail.com>
Message-ID: <5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>

Hi Roberto,

>> If your goal is to supply a compact package for users,
>> IMO you should simply just not include Harbour itself
>> and mingw, but rather simply install into existing Harbour
>> install and provide links to Harbour installer to users.
>
> Because Harbour distribution is not compact :)

Well, it's 40-50MB. Probably we can find places and users in
the world where this sounds like a huge package, but even
a required (and reasonable) C compiler is much bigger than
that, not to mention other tools used these days. So I assume
a software developer in 2009 is able to deal with it in some ways.

Notice that it's possible to create a light Harbour
installer pkg, but it turned out to be much less successful
in previous tests, so we've dropped it. But all this only
influence download times, installed size can be easily
tweaked by users.

> And it goes against other of the HMG principles: To be easy to use  
> and install.
>
>> We haven't been talking about bug reports, we've been talking
>
> Sorry, I was talking about that.

Than it must have been a misunderstanding on your part.
I reckon it's very nice for HMG if Harbour bug reports
can be passed "as is" to Harbour development list, but
originally we've been also talking about the other way
round: HMG forums can as well help in _general Harbour
issues_. Please reread original messages, so we're
talking on common ground.

> > So if a user comes by and says, "I've installed HMG and I'd like
>> to create a hello world app, how can I do it?", Someone could say:
>> "type hbmk2 hello.prg". User won't know what I'm talking about.
>> Instead he will find a COMPILE.BAT, which no Harbour developer
>> knows anything about.
>
> So, to make this possible, HMG (as it is currently) should dissaper  
> to be transformed in a folder in Harbour contrib?

Not a contrib, but an "add on". Technically they are
similar, but contribs are part of Harbour SVN, while
"add ons" are 3rd party packages, developed outside
Harbour. Notice the name "add on" can be changed to anything,
it just so happens I've personally chose that, thinking it's
a positive name.

If you look at any serious development packages, which
also had much wider acceptance than Harbour, they all
use such approach. This has a multitude of advantages.

> I will not do that.

I'd be interested in reason.

IMO that's a pity and if this seems to be the approach
from most Harbour package developers, Harbour's future is
almost surely deemed to slow death. That's of course my
opinion only, albeit quite a strong one.

Only an open, modular approach, with well separated
components can make Harbour a *platform*, where each
component is easy to plug together in any combination,
and be developed separately. This was the spirit of
CA-Cl*pper. This was in fact one of the key to its success,
and this is also true to the Harbour spirit.

[ Can you imaging a Clipper add-on package which bundled
Clipper with itself, and the two could only be used together,
not with other tools? ]

Notice that above modular approach is used by quite some
popular development platform. Just to name a few:
    PYTHON, RUBY, PERL.

Just install any of them and see.

Now with HMG, you force users to install a parallel
Harbour universe in C:\hmg dir (which is also fixed, due
to .bat based build system with hardcoded paths).

This is great for everyone who feels fine to use your
own Harbour universe *only*, but it closes out every
other libs from this world and it closes out every user
with a real Harbour installation from using HMG in
the normal and easy way.

Harbour's user base is pretty small, and above tactics
*slices* existing user base to even smaller communities
*without connection* to the others. Smaller communities
have less chance to survive and they are much less able
to contribute to Harbour in general.

HMG is a set of addon libs to Harbour, so technically
there is little reason to create a parallel universe.
(of course you save yourself any sort of support headaches,
which could be caused by using external libs, but there
is a high price to pay)

>> Usually all bug analysis start with getting to know how the app
>> was built, and many time the build process is at fault, or it
>> can even create strange results very difficult to anticipate.
>
> I have not your knowledge about Harbour, but I think that using  
> exactly the same compiler and libraries is very unlikely that such  
> thing happens .

Well, I have. Having spent quite some years seeing thousands
of problem reports I can assure you this is very likely to
happen. First problem is definition of "exactly the same".
Now it's exactly the same, but after a release it won't be,
so it will an never ending catch me if you can game and a
never ending syncing effort.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Oct 12 10:34:20 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 12 10:34:31 2009
Subject: [Harbour] RDDADO
In-Reply-To: <609353e70910120709m6cabf2d2i978119b71c055343@mail.gmail.com>
References: <E8B2C88B-86C4-4DBC-9584-04A1A46AE67A@syenar.hu>
	<609353e70910120709m6cabf2d2i978119b71c055343@mail.gmail.com>
Message-ID: <77EE79BA-9647-4682-B530-0C2E844612C9@syenar.hu>

> For the windows platform
> rddado is better for old application that use  seek,recno ecc.

Maybe better, but notice that it's not working at all.

> rddsql is good for new application that will give the power of sql
> rddsql need more example so invite everybody use it post a sample
>
> sync rddado with xharbour seem me very difficult becase we have
> different ole,rdd

It's already synced, and it was synced before OLE changes.

Brgds,
Viktor

From amigosam at adinet.com.uy  Mon Oct 12 10:42:46 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Oct 12 10:43:08 2009
Subject: [Harbour] Re: FreeDOS in VMWare VM
In-Reply-To: <20091012141033.GA16227@uran.home.aster.pl>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>	<20091011090722.GA21784@uran.home.aster.pl>	<133778360910111314x25f19d8elcd8c22aeaa1a203d@mail.gmail.com>
	<20091012141033.GA16227@uran.home.aster.pl>
Message-ID: <havf8r$v30$1@ger.gmane.org>

Przemyslaw Czerpak escribi?:
> On Sun, 11 Oct 2009, Bruno Luciani wrote:
> 
> Windows applications can be executed without any problems using WINE
> but the performance of IO operations is fatal. Even simple tests show
> that database access is over 10 times slower then in native applications.
> DOS applications executed by DOSEMU are only about 2-3 times slower.
> 
> best regards,
> Przemek

You're failing the comparison point.
Meassuring apples against bananas.
We cannot compare gui applications against console apps.
Console ones are faster even on windows.
Unless you are developpping a web server, i/o access is a minimal part 
of all your app running time.
Even considering that, most apps are running over a network and 
performance is even worst and people are used to it.
Until Harbour has a working GUI development API, denigrating WINE is a 
no-no, as for now, is the only usable platform on the linux world for 
real apps.
If you want to achieve optimus performance then you have to make real 2 
or 3 tier apps. Tier 1:being a gui app client under wine or anything 
else. Tier 2: a console app server under pure linux and an opcional 3rd. 
Tiers with a rdbms if you don't like dbfs.
The serious candidate for this is uhttpd but the are missing a protocol 
for serialize-transmit-deserialize data in a 2 way relationship.

Just my humble oppinion about our technological status.
Let's work all together to improve this marvelous plattform instead.
My hat off for this great meeting of great programmers Harbour has earned.

Best Regards
Angel

From harbour.01 at syenar.hu  Mon Oct 12 10:46:37 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 12 10:46:48 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <4AD33D0A.5090309@gmail.com>
References: <hanaud$bqo$1@ger.gmane.org>
	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>
	<20091012132823.GA1578@uran.home.aster.pl>
	<4AD33D0A.5090309@gmail.com>
Message-ID: <2998366B-FAB9-4846-9949-131555C41370@syenar.hu>

For reference, here is my posted solution which "plugs into"
current HMG distro:

[ NOTE: the batch file is only needed to keep current "feel"
of the distro, the .hbc could be places in any standard place
instead and let it be automatically or manually picked. ]

--- BATCH\hbmk2.bat
@set PATH=%~dp0..\MINGW\bin
@"%~dp0..\HARBOUR\bin\hbmk2.exe" "%~dp0hmg.hbc" %*
---

--- BATCH\hmg.hbc
#
# $Id$
#

# Usage:
# > hbmk2 test.prg C:\hmg\HARBOUR\bin\hmg.hbc

{win}incpaths=..\include
{win}libpaths=..\lib
# The "tricky" bits
{win}sources=${hb_curdir}*.rc
{win}sources=..\resources\minigui.rc

{win}gt=gtgui

# core
{win}libs=minigui
# core #2
{win}libs=gui
{win}libs=dll
# contribs
{win}libs=crypt edit editex graph ini report
# Harbour contribs
{win}libs=hbmzip
{win}libs=hbwin
# system
{win}libs=vfw32
---

Brgds,
Viktor

On 2009 Oct 12, at 16:28, Roberto Lopez wrote:

> Przemyslaw Czerpak wrote:
>
> > My personal experience is that the most often the sources of user  
> problems
>> are wrongly synced with Harbour core code build scripts in  
>> different add
>> on libraries.
> <...>
>
> I respect you and your work a lot (the same as Viktor).
>
> Is not my intention to disturb you and the list with this.
>
> The only thing that I have to say is that I have a different POV  
> about that.
>
> Regarding problems with HMBK2 there is various, maybe I post a  
> detailed report when I finish the tests.
>
> Regards,
>
> Roberto.
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Oct 12 10:56:28 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 12 10:56:40 2009
Subject: [Harbour] Re: FreeDOS in VMWare VM
In-Reply-To: <havf8r$v30$1@ger.gmane.org>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>	<20091011090722.GA21784@uran.home.aster.pl>	<133778360910111314x25f19d8elcd8c22aeaa1a203d@mail.gmail.com>
	<20091012141033.GA16227@uran.home.aster.pl>
	<havf8r$v30$1@ger.gmane.org>
Message-ID: <A13C1811-65DF-4FEC-A250-7DB859775AA5@syenar.hu>


On 2009 Oct 12, at 16:42, Angel Pais wrote:

> Przemyslaw Czerpak escribi?:
>> On Sun, 11 Oct 2009, Bruno Luciani wrote:
>> Windows applications can be executed without any problems using WINE
>> but the performance of IO operations is fatal. Even simple tests show
>> that database access is over 10 times slower then in native  
>> applications.
>> DOS applications executed by DOSEMU are only about 2-3 times slower.
>> best regards,
>> Przemek
>
> You're failing the comparison point.
> Meassuring apples against bananas.
> We cannot compare gui applications against console apps.

To me it seems "2-3 slower" is comparing native DOS environment
vs DOSEMU, while "10 times slower" is native WIN environment
vs WINE. Not DOS[EMU] vs WIN[E].

> Console ones are faster even on windows.
> Unless you are developpping a web server, i/o access is a minimal  
> part of all your app running time.

I/O also means network IO to me. If this is true, also networked
apps are affected by WINE I/O performance overhead. In a remote
terminal situation even local I/O overhead is crucial in a database
app.

It's also not unimportant whether a reindex takes 15 minutes or
150. But that's just one (stupid) example. If a query takes 20 secs
instead of 2, that's even worse.

The other issue is that every emulation layer has its own set of
issues, so it really adds up to complexity, maintenance, fragility,
proneness to errors, and at the end stability. Certainly not ideal,
but good to hear it can work reliably, if not fast.

Is serialize/deserialize is such a huge task to implement in uhttpd?
We have core function calls to do that, so I wonder?

Brgds,
Viktor

From roberbox at gmail.com  Mon Oct 12 11:04:05 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Mon Oct 12 11:04:13 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com><16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>	<4AD33623.3010004@gmail.com>
	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>
Message-ID: <4AD34565.2000008@gmail.com>

Viktor,

I want to put a final point to this discussion (at least, by now).

I understand your POV, but simply I think differently.

The last thing that I want to say todoay about that, is that we could 
think Harbour future as Linux one.

There is dozens (hundreds?) of distros.

As you know, each distro has his own group of developers that creates an 
'special' one, suited for a clear purpose from the same code base (Linux 
kernel and GNU utils).

Even there is distros based on other distros that are based on other 
distros (Mint->Ubuntu->Debian).

So, The users make his choice and Linux become more and more stronger.

The same could happen to Harbour.

So, to succeed, Harbour must be OPEN to be suited as needed by users.

The best thing that could happen to Harbour is that more distros emerge 
from the same code base.

Just my humble and 'friendly' opinion :)

Regards,

Roberto.







From mbelgrano at deltain.it  Mon Oct 12 11:36:03 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct 12 11:36:32 2009
Subject: [Harbour] Re: FreeDOS in VMWare VM
In-Reply-To: <havf8r$v30$1@ger.gmane.org>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu> 
	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com> 
	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com> 
	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com> 
	<20091011090722.GA21784@uran.home.aster.pl>
	<133778360910111314x25f19d8elcd8c22aeaa1a203d@mail.gmail.com> 
	<20091012141033.GA16227@uran.home.aster.pl>
	<havf8r$v30$1@ger.gmane.org>
Message-ID: <609353e70910120836i2e297c7cje51f693b28c9a53@mail.gmail.com>

2009/10/12 Angel Pais <amigosam@adinet.com.uy>:
>> Windows applications can be executed without any problems using WINE
>> but the performance of IO operations is fatal. Even simple tests show
>> that database access is over 10 times slower then in native applications.
>> DOS applications executed by DOSEMU are only about 2-3 times slower.
> You're failing the comparison point.
> Meassuring apples against bananas.
> We cannot compare gui applications against console apps.
> Console ones are faster even on windows.
> Unless you are developpping a web server, i/o access is a minimal part of
> all your app running time.
To me comparision sound right becasue In the same machine with wine
you access data and use a gui
In my application IO access is the most important element
In all my harbour application (ADS and dbxcdx) When Upgrade Speed of
disk and lan my application work fast


> Even considering that, most apps are running over a network and performance
> is even worst and people are used to it.
> Until Harbour has a working GUI development API, denigrating WINE is a
> no-no, as for now, is the only usable platform on the linux world for real
> apps.
> If you want to achieve optimus performance then you have to make real 2 or 3
> tier apps. Tier 1:being a gui app client under wine or anything else. Tier
> 2: a console app server under pure linux and an opcional 3rd. Tiers with a
> rdbms if you don't like dbfs.
> The serious candidate for this is uhttpd but the are missing a protocol for
> serialize-transmit-deserialize data in a 2 way relationship.
> Just my humble oppinion about our technological status.
> Let's work all together to improve this marvelous plattform instead.
> My hat off for this great meeting of great programmers Harbour has earned.

Multi  Tier application is good for scalability  of application
with more that 200 user you must -will use a multi Tier application so
you can expand speed Database server Or applIication server changing
cpu,memory,disk when user grow
How many user use your  xbase++ aplications under wine+samba +freenx server ?
wine+samba +freenx  are 1 tier becase run on same machine
IMO will  be better harbour+Xhb+hbqt+freenx server

-- 
Massimo Belgrano
From druzus at acn.waw.pl  Mon Oct 12 11:38:04 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct 12 11:38:11 2009
Subject: [Harbour] Re: FreeDOS in VMWare VM
In-Reply-To: <havf8r$v30$1@ger.gmane.org>
References: <C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>
	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>
	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>
	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>
	<20091011090722.GA21784@uran.home.aster.pl>
	<133778360910111314x25f19d8elcd8c22aeaa1a203d@mail.gmail.com>
	<20091012141033.GA16227@uran.home.aster.pl>
	<havf8r$v30$1@ger.gmane.org>
Message-ID: <20091012153804.GA21367@uran.home.aster.pl>

On Mon, 12 Oct 2009, Angel Pais wrote:
> You're failing the comparison point.
> Meassuring apples against bananas.
> We cannot compare gui applications against console apps.

I do not compare user interface at all.
I compare only simple IO operations in SEEK or SKIP which are
the same in GUI and CUI application. The same reports created
by application under WINE control are over 10 times slower.

> Console ones are faster even on windows.

I haven't tried to measure it. It's unimportant in current days.
We have such fast computers that if sth is done in 1/100 sec. or
1/10 sec then for users it does not creates any differences.
But if report is created in 1 hour by native code and then in 10
hours by the same code executed by WINE then it sth what blocks
using WINE in bigger installations. None of my clients can accept it.
And of course I'm talking about local file access. In remote access
using file server the difference is much bigger then 100 times.

> Unless you are developpping a web server, i/o access is a minimal part of 
> all your app running time.

The time is important only in long operations. In the rest is not
important at all. At least is not visible for users. In current
days it doesn't matter it's CUI or GUI application. In both cases
the code is executed fast enough to work interactively without any
problems. User can see the slowness only when he tries to collect
some data from tables and such operations needs some deeper analyzes.
And here the speed overhead in WINE is the biggest one.
If you execute pure .prg code, i.e. simple FOR/NEXT loop then code
in WINE works with the same speed as native applications. Just execute
speedtst.prg compiled as native application and as windows application.
It's even possible that the windows one will be a little bit faster.
But if you try to read or write from/to files or sockets then you will
find that code executed by WINE is very slow.

> Even considering that, most apps are running over a network and performance 
> is even worst and people are used to it.
> Until Harbour has a working GUI development API, denigrating WINE is a 
> no-no, as for now, is the only usable platform on the linux world for real 
> apps.
> If you want to achieve optimus performance then you have to make real 2 or 
> 3 tier apps. Tier 1:being a gui app client under wine or anything else. 
> Tier 2: a console app server under pure linux and an opcional 3rd. Tiers 
> with a rdbms if you don't like dbfs.

I can understand that using RDBMS when tables are access remotely
can increase the performance but it still will be many times slower
then local access by remotely executed applications. User interface
is less important here. You can divide your applications into two
parts and execute native GUI code on client side which will communicate
with application on server side which process data locally.
Creating simple RPC protocol is not very complicated job. We have all
things necessary to implement it inside HBRTL. It's enough to collect
them together.

RDBMS does not exclude using DBFs as storage format.
ADS is RDBMS and can use DBFs. I've never understood why Clipper
users used to think that SQL == RDBMS and DBFs != SQL or DBFs != RDBMS.
These are three different things which can be used in one product or
in separate products. It's quite easy to add SQL support to DBF tables
but it will not convert the program to RDBMS. Just like RDBMS can use
DBF format to store data because unlike common opinion said it's one of
the most efficient data base formats in many situations.

> The serious candidate for this is uhttpd but the are missing a protocol for 
> serialize-transmit-deserialize data in a 2 way relationship.

I rather suggest to write simple RPC server from scratch.
Using HTTP protocol and some universal HTTP server is not
very good idea. At least it will be very inefficient in some
cases and you will have to deal with many of problems caused
by sateless protocol like HTTP.

> Just my humble oppinion about our technological status.
> Let's work all together to improve this marvelous plattform instead.
> My hat off for this great meeting of great programmers Harbour has earned.

In some spare time I'll write simple RPC server for Harbour.
Maybe you and other users find it interesting.

best regards,
Przemek
From mbelgrano at deltain.it  Mon Oct 12 11:38:24 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct 12 11:38:51 2009
Subject: [Harbour] Re: What is Przemek's architecture ?
In-Reply-To: <hade5t$u0r$1@ger.gmane.org>
References: <8669931.41254736112726.JavaMail.root@zimbra-1.sigma-com.net> 
	<hacvi1$67h$1@ger.gmane.org> <25755586.post@talk.nabble.com> 
	<hade5t$u0r$1@ger.gmane.org>
Message-ID: <609353e70910120838r73243a6dwf7e3ac5aba2a7a6f@mail.gmail.com>

If possible send your real example also at me
Thanks

>
> I stopped all experiments since I read about memory leaks you were fighting.
> I promise I will do some real examples of use with the library in order to
> help you debug it.
> Thank you very much Pritpal.
>
> Angel
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Oct 12 11:42:32 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 12 11:42:41 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <4AD34565.2000008@gmail.com>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com><16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>	<4AD33623.3010004@gmail.com>
	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>
	<4AD34565.2000008@gmail.com>
Message-ID: <2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>

> I understand your POV, but simply I think differently.
>
> The last thing that I want to say todoay about that, is that we  
> could think Harbour future as Linux one.
>
> There is dozens (hundreds?) of distros.
>
> As you know, each distro has his own group of developers that  
> creates an 'special' one, suited for a clear purpose from the same  
> code base (Linux kernel and GNU utils).
>
> Even there is distros based on other distros that are based on other  
> distros (Mint->Ubuntu->Debian).
>
> So, The users make his choice and Linux become more and more stronger.

If these groups are big enough to compete with
each other, this can be beneficial, but in case
of Harbour - let's face it - the complete Harbour
user base is barely enough to make it survive,
and each competing group is so small, that the
effect you say just doesn't hold for Harbour in
practice. [ Or will you continue Harbour development,
in case the rest of the Harbour universe dies? ]

Moreover, some parallelisms are rather blocking
Linux to get more widespread adoption: Having two
incompatible packaging systems is IMO a huge drawback
with no perceivable benefit for users, just more
headaches. Of course a lot of other parallelisms can
be interesting and useful, but not all of them and
not forever.

> The same could happen to Harbour.

It's a pipe dream at this point in time. It could,
but it won't unless the user base gets much wider.
If you scatter distros this hardly will happen.

Currently the best thing we could do is to *JOIN*
efforts, rather than each developer goes into his
own direction.

It's far enough to have Harbour and xhb splitting
user base into two, with HMG one half is split again
(not to mention the other 2-3 HMG variants, of which
one also supplies Harbour).

BTW, having separate distros shouldn't mean these
distros should be unable to interoperate.
Everyone is encouraged to create binary builds.
But it's best to keep them *compatible* and it's not
a satanic idea to use some sort of common dir layout,
and follow other common *standards*. Otherwise users
will be just *locked-in* to one distro or another.

So I'd say, if someone feels like competing, the
best interest of all Harbour users is to compete
on some compatible grounds. Offer some more, but
keep your stuff open and interoperable.

Unfortunately in case of HMG, I just can't seen
openness, or free of choice now, Harbour version
is fixed, compiler type is fixed, toolset is bare
minimum, std build tool is dropped.

With latest move you benefited that your users can
come here to complain about harbour bugs, but you
effectively closed the door to offer support for
non-HMG Harbour users on your own forums. Plus for
sure you shut out some Harbour developers/users from
effective participation on your forums.

> So, to succeed, Harbour must be OPEN to be suited as needed by users.
>
> The best thing that could happen to Harbour is that more distros  
> emerge from the same code base.

Which are not compatible with each other, so they
don't allow users to easily move between them.

> Just my humble and 'friendly' opinion :)

To me excluding hbmk2 and crucial docs from a Harbour
distro is not very friendly. Sorry to say, but that's
how I feel about it. Definitely not something which
will bring different Harbour universes closer.

BTW, if you have specific hbmk2 problems I'm interested
in hearing them, at least those can be cleared in
case we get around politics in the future ;)

I tested recently posted .hbc file (+ .bat file) successfully
with 2.9.x HMG version, and while I might have missed
something, it's certainly doesn't seem like a mission impossible.
Also notice that extra .hbc/.hbm files can easily be
added to samples which need it.

Brgds,
Viktor

From mbelgrano at deltain.it  Mon Oct 12 11:47:34 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct 12 11:48:04 2009
Subject: [Harbour] Re: FreeDOS in VMWare VM
In-Reply-To: <20091012153804.GA21367@uran.home.aster.pl>
References: <C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu> 
	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com> 
	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com> 
	<20091011090722.GA21784@uran.home.aster.pl>
	<133778360910111314x25f19d8elcd8c22aeaa1a203d@mail.gmail.com> 
	<20091012141033.GA16227@uran.home.aster.pl>
	<havf8r$v30$1@ger.gmane.org> 
	<20091012153804.GA21367@uran.home.aster.pl>
Message-ID: <609353e70910120847k1e3fff88h418a82b52a85a130@mail.gmail.com>

Good!
as stated by wikipedia Remote procedure call (RPC) is an Inter-process
communication technology that allows a computer program to cause a
subroutine or procedure to execute in another address space (commonly
on another computer on a shared network) without the programmer
explicitly coding the details for this remote interaction

Is rpc a steep toward GTNET?

2009/10/12 Przemyslaw Czerpak <druzus@acn.waw.pl>:
>
> In some spare time I'll write simple RPC server for Harbour.
> Maybe you and other users find it interesting.
>


-- 
Massimo Belgrano
From amigosam at adinet.com.uy  Mon Oct 12 12:07:46 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Oct 12 12:08:28 2009
Subject: [Harbour] Re: FreeDOS in VMWare VM
In-Reply-To: <20091012153804.GA21367@uran.home.aster.pl>
References: <C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>	<20091011090722.GA21784@uran.home.aster.pl>	<133778360910111314x25f19d8elcd8c22aeaa1a203d@mail.gmail.com>	<20091012141033.GA16227@uran.home.aster.pl>	<havf8r$v30$1@ger.gmane.org>
	<20091012153804.GA21367@uran.home.aster.pl>
Message-ID: <havk8b$i9j$1@ger.gmane.org>

Hi Przemek

First of all thank you for your time.
I agree with you in almost all you've said.
Sometimes is good to stop and rethink where we are going as a community. 
So far the last year has been VERY productive and the new tools and 
features (hbmk2, netio, threads) have improved que quality of the 
product 100'd times.
I'm also happy that people like Roberto Lopez are joining the 
discussions. He has a very clear vision of how a clipper compatible 
product has to be from the cliperhead point of view.
It's not easy to join c-oriented heads with 4th or 5th level programmers 
( scripting kiddies if you like to name us like that ).


Przemyslaw Czerpak escribi?:
> On Mon, 12 Oct 2009, Angel Pais wrote:
>> You're failing the comparison point.
>> Meassuring apples against bananas.
>> We cannot compare gui applications against console apps.
> 
> I do not compare user interface at all.
> I compare only simple IO operations in SEEK or SKIP which are
> the same in GUI and CUI application. The same reports created
> by application under WINE control are over 10 times slower.

Agreed. An be sure I will get rid of wine as soon as I can.

> 
> The time is important only in long operations. In the rest is not
> important at all. At least is not visible for users. In current
> days it doesn't matter it's CUI or GUI application. In both cases
> the code is executed fast enough to work interactively without any
> problems. User can see the slowness only when he tries to collect
> some data from tables and such operations needs some deeper analyzes.
> And here the speed overhead in WINE is the biggest one.
> If you execute pure .prg code, i.e. simple FOR/NEXT loop then code
> in WINE works with the same speed as native applications. Just execute
> speedtst.prg compiled as native application and as windows application.
> It's even possible that the windows one will be a little bit faster.
> But if you try to read or write from/to files or sockets then you will
> find that code executed by WINE is very slow.

Agreed

> RDBMS does not exclude using DBFs as storage format.
> ADS is RDBMS and can use DBFs. I've never understood why Clipper
> users used to think that SQL == RDBMS and DBFs != SQL or DBFs != RDBMS.
> These are three different things which can be used in one product or
> in separate products. It's quite easy to add SQL support to DBF tables
> but it will not convert the program to RDBMS. Just like RDBMS can use
> DBF format to store data because unlike common opinion said it's one of
> the most efficient data base formats in many situations.

I know that. I said dbf as I could've said sqlite, mdb or any other file 
based methodology.

>> The serious candidate for this is uhttpd but the are missing a protocol for 
>> serialize-transmit-deserialize data in a 2 way relationship.
> 
> I rather suggest to write simple RPC server from scratch.
> Using HTTP protocol and some universal HTTP server is not
> very good idea. At least it will be very inefficient in some
> cases and you will have to deal with many of problems caused
> by sateless protocol like HTTP.

Very interesting !

>> Just my humble oppinion about our technological status.
>> Let's work all together to improve this marvelous plattform instead.
>> My hat off for this great meeting of great programmers Harbour has earned.
> 
> In some spare time I'll write simple RPC server for Harbour.
> Maybe you and other users find it interesting.
> 

For sure !!! It will bring a new world for us, all clipperheads.


My best regards

Angel

From amigosam at adinet.com.uy  Mon Oct 12 12:19:28 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Oct 12 12:20:07 2009
Subject: [Harbour] Re: Harbour Forum and Wiki.
In-Reply-To: <2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com><16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>	<4AD33623.3010004@gmail.com>	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>	<4AD34565.2000008@gmail.com>
	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>
Message-ID: <havku5$l0v$1@ger.gmane.org>

PMFJI Viktor.

Maybe here we are having language barriers difficulting communication, 
but in the experimental HMG 3.0, Roberto have icluded hbmk2 and is using 
it.
He is running some tests to report here later the things he finds.
Roberto has issued 3 versions of HMG in 2 days for his community to test 
and report back compatibility issues. He is making a big effort to 
include all tools from latest Harbour.
Go download it from sourceforge an see for yourself.
The reason Robertos is including mingw and harbour in the binary package 
is for practical purpouses and to minimize support to only "stable" 
versions of all tools involved.

HTH
Angel

From vszakats at users.sourceforge.net  Mon Oct 12 12:25:29 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Oct 12 12:25:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12690] trunk/harbour
Message-ID: <E1MxNiD-0006G8-Vw@dn4whf1.ch3.sourceforge.com>

Revision: 12690
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12690&view=rev
Author:   vszakats
Date:     2009-10-12 16:25:28 +0000 (Mon, 12 Oct 2009)

Log Message:
-----------
2009-10-12 18:24 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtip/encqp.prg
    + Implemented quoted-printable encoder/decoder.
      Not yet used. Not extremely well tested, just something 
      to start with. Please review. Probably should be done 
      in C for speed, but anyway.

  * contrib/hbtip/sendmail.prg
  * contrib/hbtip/mail.prg
    + Added 'charset' property and setting hb_sendmail().
      Not yet effective, as Harbour uses 7-bit encoding yet.

  * utils/hbmk2/examples/hmg.hbc
    * Updated HMG hbmk2 config file with some extra tricks.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/encqp.prg
    trunk/harbour/contrib/hbtip/mail.prg
    trunk/harbour/contrib/hbtip/sendmail.prg
    trunk/harbour/utils/hbmk2/examples/hmg.hbc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Oct 12 12:33:01 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 12 12:33:10 2009
Subject: [Harbour] Re: Harbour Forum and Wiki.
In-Reply-To: <havku5$l0v$1@ger.gmane.org>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com><16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>	<4AD33623.3010004@gmail.com>	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>	<4AD34565.2000008@gmail.com>
	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>
	<havku5$l0v$1@ger.gmane.org>
Message-ID: <C81094E0-4A3D-4CEF-8DCF-CC4EB19F24FB@syenar.hu>

Hi Angel,

On 2009 Oct 12, at 18:19, Angel Pais wrote:

> PMFJI Viktor.
>
> Maybe here we are having language barriers difficulting  
> communication, but in the experimental HMG 3.0, Roberto have icluded  
> hbmk2 and is using it.
> He is running some tests to report here later the things he finds.
> Roberto has issued 3 versions of HMG in 2 days for his community to  
> test and report back compatibility issues. He is making a big effort  
> to include all tools from latest Harbour.
> Go download it from sourceforge an see for yourself.

That is what I did today. Maybe there is a newer release since
earlier today (about noon local time), mine is dated 2009-10-12,
3.0 test version, containing 2.0.0b3 Harbour.

I've made all my claims based on this release, which doesn't
include hbmk2.

> The reason Robertos is including mingw and harbour in the binary  
> package is for practical purpouses and to minimize support to only  
> "stable" versions of all tools involved.

My concern isn't about mingw or even inclusion of given
Harbour binary distro inside the lib distro, but
about missing major Harbour components and docs (hbmk2,
hbrun, INSTALL).

Anyway I hope Roberto will manage with hbmk2 and these
parts can be included. I'm ready to help in the process,
if there is an actual problem to solve.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Oct 12 12:48:32 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Oct 12 12:48:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12691] trunk/harbour
Message-ID: <E1MxO4W-0006uq-Bf@d5vjzd1.ch3.sourceforge.com>

Revision: 12691
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12691&view=rev
Author:   vszakats
Date:     2009-10-12 16:48:28 +0000 (Mon, 12 Oct 2009)

Log Message:
-----------
2009-10-12 18:42 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtip/sendmail.prg
    ! Fixed wrongly referring to 7-bit encoding.
    ! Fixed some more hardcoded charsets.
    + Added support for user-selectable encoding.
    ; TOFIX: Still doesn't work for some reason.

  * contrib/hbtip/encqp.prg
  * contrib/hbtip/mail.prg
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/encqp.prg
    trunk/harbour/contrib/hbtip/mail.prg
    trunk/harbour/contrib/hbtip/sendmail.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Mon Oct 12 13:19:37 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct 12 13:20:05 2009
Subject: [Harbour] RDDADO
In-Reply-To: <77EE79BA-9647-4682-B530-0C2E844612C9@syenar.hu>
References: <E8B2C88B-86C4-4DBC-9584-04A1A46AE67A@syenar.hu> 
	<609353e70910120709m6cabf2d2i978119b71c055343@mail.gmail.com> 
	<77EE79BA-9647-4682-B530-0C2E844612C9@syenar.hu>
Message-ID: <609353e70910121019w1fac6d28id0747f6577d75fc7@mail.gmail.com>

I try post follow analysis also if is without success
Hi hope that somebody will help us to resolve follow problem

1) a possible problem with new ole
2) recno return 0
3) argument error win_oleauto:find in ADO_LOCATE
4) various things

Hope that somebody will help
1---ole
Queries or attaches user-defined data to a work area of a user-defined RDD.
Follow row Where are created ole object
   LOCAL oConnection := win_OleCreateObject( "ADODB.Connection" )
   LOCAL oCatalog    := win_OleCreateObject( "ADOX.Catalog" )
  aWAData[ WA_CONNECTION ] := win_OleCreateObject( "ADODB.Connection" )
  oRecordSet := win_OleCreateObject( "ADODB.Recordset" )
  aWAData[ WA_CATALOG ] := win_OleCreateObject( "ADOX.Catalog" )
  oIndex := win_OleCreateObject( "ADOX.Index" )
Here recno function that not works
STATIC FUNCTION ADO_RECNO( nWA, nRecNo )
   LOCAL oRecordSet := USRRDD_AREADATA( nWA )[ WA_RECORDSET ]
   LOCAL nResult    := HB_SUCCESS
   TRY
      IF USRRDD_AREADATA( nWA )[WA_CONNECTION]:State != adStateClosed
         nRecno := iif( oRecordSet:AbsolutePosition == -3,
oRecordSet:RecordCount() + 1, oRecordSet:AbsolutePosition )
      ELSE
         nRecno  := 0
         nResult := HB_FAILURE
      ENDIF
   CATCH
      nRecNo  := 0
      nResult := HB_FAILURE
   END
   RETURN nResult


STATIC FUNCTION ADO_LOCATE( nWA, lContinue )
   LOCAL aWAData    := USRRDD_AREADATA( nWA )
   LOCAL oRecordSet := aWAData[ WA_RECORDSET ]
   oRecordSet:Find( aWAData[ WA_SCOPEINFO ][ UR_SI_CFOR ], iif(
lContinue, 1, 0 ) )
   aWAData[ WA_FOUND ] := ! oRecordSet:EOF
   aWAData[ WA_EOF ] := oRecordSet:EOF
   RETURN HB_SUCCESS
Here oRecordSet:Find( aWAData[ WA_SCOPEINFO ][ UR_SI_CFOR ], iif(
lContinue, 1, 0 ) )
return argument error
UR_SI_CFOR is  defined in usrrdd.ch
Find method allow
rst.Find "SupplierID = 20 And CategoryID = 1"

4) varie
Will be usefull a function that return ado version using  oConnection.Version

The only source of rddado.lib is rddado.prg & adordd.ch a rdd wil be
done in prg thanks  to usrrdd


2009/10/12 Viktor Szak?ts <harbour.01@syenar.hu>:
>> For the windows platform
>> rddado is better for old application that use ?seek,recno ecc.
>
> Maybe better, but notice that it's not working at all.
>
>> rddsql is good for new application that will give the power of sql
>> rddsql need more example so invite everybody use it post a sample
>>
>> sync rddado with xharbour seem me very difficult becase we have
>> different ole,rdd
>
> It's already synced, and it was synced before OLE changes.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From bruno.luciani at gmail.com  Mon Oct 12 14:46:46 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Mon Oct 12 14:46:55 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <20091012141033.GA16227@uran.home.aster.pl>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>
	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>
	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>
	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>
	<20091011090722.GA21784@uran.home.aster.pl>
	<133778360910111314x25f19d8elcd8c22aeaa1a203d@mail.gmail.com>
	<20091012141033.GA16227@uran.home.aster.pl>
Message-ID: <133778360910121146t4baf26e3k768bd42704b4657@mail.gmail.com>

You are right Przemyslaw my mistake

The console aplication that I test was compiled using Harbour

Talking with a friend of mine , make me notes that diference

and trying a real 16 bit binary , not work

Bruno

2009/10/12 Przemyslaw Czerpak <druzus@acn.waw.pl>

> On Sun, 11 Oct 2009, Bruno Luciani wrote:
>
> Hi,
>
> > I think that some configuration may be necesary
> > I don' t use wine dos emulation , but  what you see in the png file
> > is a real clipper old aplication running in my home directory in kubuntu
> > linux
> > using wine 1.1.26
> > only one click and it run without use the wineconsole command
>
> Maybe you have binfmt configured to execute DOS applications with DOSEMU.
> It works in such way.
>
> > I don' t know if it is diferent but how you can see  it run
>
> Can you send here result of this command:
>   file yourdosapp.exe
>
> > May be not all dos applications works
>
> None of pure DOS application can work because WINE does not have
> code necessary to execute them. But as I said it's possible that
> you have DOS emulation layer with your MS-Windows libraries and
> it's used automatically. Do you have MS-Windows installed on your
> computer (on different partitions) or only Linux is installed
> without any MS code.
>
> > I use wine running my OOHG- Harbour(windows) program in linux boxes
> > conected to a lin ux server via smbclient.
>
> Windows applications can be executed without any problems using WINE
> but the performance of IO operations is fatal. Even simple tests show
> that database access is over 10 times slower then in native applications.
> DOS applications executed by DOSEMU are only about 2-3 times slower.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091012/eb66c57c/attachment-0001.html
From phil at newstar.rinet.ru  Mon Oct 12 15:13:38 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Mon Oct 12 15:14:03 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <20091012141033.GA16227@uran.home.aster.pl>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu> 
	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>
	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com> 
	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com> 
	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com> 
	<20091011090722.GA21784@uran.home.aster.pl>
	<133778360910111314x25f19d8elcd8c22aeaa1a203d@mail.gmail.com> 
	<20091012141033.GA16227@uran.home.aster.pl>
Message-ID: <c10dbf450910121213rcd9dd46t56772aa140ecef73@mail.gmail.com>

On Mon, Oct 12, 2009 at 6:10 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:
> None of pure DOS application can work because WINE does not have
> code necessary to execute them.

Sorry, you're wrong. It's been long since I tried to run any 16-bit
DOS apps using Wine (BTW it's written like this, not WINE), but they
(not all but some) did work. Now I'm on 64-bit which needs some
additional hacks to run 16-bit DOS code, but the code in Wine is still
there:

http://source.winehq.org/source/dlls/winedos/

It's a kind of ntvdm emulation.

-- Ph.
From druzus at acn.waw.pl  Mon Oct 12 16:27:04 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct 12 16:27:10 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <c10dbf450910121213rcd9dd46t56772aa140ecef73@mail.gmail.com>
References: <C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>
	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>
	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>
	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>
	<20091011090722.GA21784@uran.home.aster.pl>
	<133778360910111314x25f19d8elcd8c22aeaa1a203d@mail.gmail.com>
	<20091012141033.GA16227@uran.home.aster.pl>
	<c10dbf450910121213rcd9dd46t56772aa140ecef73@mail.gmail.com>
Message-ID: <20091012202704.GA14922@uran.home.aster.pl>

On Mon, 12 Oct 2009, Phil Krylov wrote:
> > None of pure DOS application can work because WINE does not have
> > code necessary to execute them.
> Sorry, you're wrong. It's been long since I tried to run any 16-bit
> DOS apps using Wine (BTW it's written like this, not WINE), but they
> (not all but some) did work. Now I'm on 64-bit which needs some
> additional hacks to run 16-bit DOS code, but the code in Wine is still
> there:
> http://source.winehq.org/source/dlls/winedos/
> It's a kind of ntvdm emulation.

Thank you very much for the information. So winevdm emulation exists
in WINE and it's not dummy code as i thought but can be used  to execute
some of DOS applications and it's not necessary to use native MS-Windows
ntvdm.
It's interesting why it's not working for me even for very simple
application which only calls int 21 to terminate process.
I'll try to look at it closer when I'll find some spare time.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Oct 12 16:28:56 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct 12 16:29:03 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <133778360910121146t4baf26e3k768bd42704b4657@mail.gmail.com>
References: <C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>
	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>
	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>
	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>
	<20091011090722.GA21784@uran.home.aster.pl>
	<133778360910111314x25f19d8elcd8c22aeaa1a203d@mail.gmail.com>
	<20091012141033.GA16227@uran.home.aster.pl>
	<133778360910121146t4baf26e3k768bd42704b4657@mail.gmail.com>
Message-ID: <20091012202856.GB14922@uran.home.aster.pl>

On Mon, 12 Oct 2009, Bruno Luciani wrote:
> You are right Przemyslaw my mistake
> The console aplication that I test was compiled using Harbour
> Talking with a friend of mine , make me notes that diference
> and trying a real 16 bit binary , not work

Looks that I was wrong and WINE has some own VDM code though for some
reasons it does not work for me.
I'm interesting if it's working for anyone else.

best regards,
Przemek
From fsgiudice at users.sourceforge.net  Mon Oct 12 16:34:08 2009
From: fsgiudice at users.sourceforge.net (fsgiudice@users.sourceforge.net)
Date: Mon Oct 12 16:34:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12692] trunk/harbour
Message-ID: <E1MxRaq-0003TH-K9@bj8yhf1.ch3.sourceforge.com>

Revision: 12692
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12692&view=rev
Author:   fsgiudice
Date:     2009-10-12 20:34:07 +0000 (Mon, 12 Oct 2009)

Log Message:
-----------
2009-10-12 22:28 UTC+0200 Francesco Saverio Giudice (info/at/fsgiudice.com)
  * harbour/src/rtl/hbini.prg
    * Splitted hb_IniRdLow() internal function into two functions:
       hb_IniFileLow( cFileSpec ) -> cData
       hb_IniStringLow( hIni, cData, lKeyCaseSens, cSplitters, lAutoMain ) -> hIni
    + Added new hb_IniString() funtion
       hb_IniString( cData, lKeyCaseSens, cSplitters, lAutoMain ) -> hIni
       that reads directly from a string.
       So hb_IniRead() read from a file, hb_IniString() read from memory string.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/hbini.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Oct 12 16:39:01 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Oct 12 16:39:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12692] trunk/harbour
In-Reply-To: <E1MxRaq-0003TH-K9@bj8yhf1.ch3.sourceforge.com>
References: <E1MxRaq-0003TH-K9@bj8yhf1.ch3.sourceforge.com>
Message-ID: <756657A9-3D7E-4F93-8AE8-02DB92C69E4C@syenar.hu>

Thank you Francesco. Could you add the new function to hbextern.ch?

Brgds,
Viktor

On 2009 Oct 12, at 22:34, fsgiudice@users.sourceforge.net wrote:

> Revision: 12692
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12692&view=rev
> Author:   fsgiudice
> Date:     2009-10-12 20:34:07 +0000 (Mon, 12 Oct 2009)
>
> Log Message:
> -----------
> 2009-10-12 22:28 UTC+0200 Francesco Saverio Giudice (info/at/ 
> fsgiudice.com)
>  * harbour/src/rtl/hbini.prg
>    * Splitted hb_IniRdLow() internal function into two functions:
>       hb_IniFileLow( cFileSpec ) -> cData
>       hb_IniStringLow( hIni, cData, lKeyCaseSens, cSplitters,  
> lAutoMain ) -> hIni
>    + Added new hb_IniString() funtion
>       hb_IniString( cData, lKeyCaseSens, cSplitters, lAutoMain ) ->  
> hIni
>       that reads directly from a string.
>       So hb_IniRead() read from a file, hb_IniString() read from  
> memory string.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/src/rtl/hbini.prg
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From info at fsgiudice.com  Mon Oct 12 16:45:11 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Oct 12 16:45:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12692] trunk/harbour
In-Reply-To: <756657A9-3D7E-4F93-8AE8-02DB92C69E4C@syenar.hu>
References: <E1MxRaq-0003TH-K9@bj8yhf1.ch3.sourceforge.com>
	<756657A9-3D7E-4F93-8AE8-02DB92C69E4C@syenar.hu>
Message-ID: <4AD39557.8020506@fsgiudice.com>

Sure
Best regards,
Francesco

Il 12/10/2009 22.39, Viktor Szak?ts ha scritto:
> Thank you Francesco. Could you add the new function to hbextern.ch?
> 
> Brgds,
> Viktor
> 

From fsgiudice at users.sourceforge.net  Mon Oct 12 16:48:51 2009
From: fsgiudice at users.sourceforge.net (fsgiudice@users.sourceforge.net)
Date: Mon Oct 12 16:48:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12693] trunk/harbour
Message-ID: <E1MxRp5-0003lD-7X@bj8yhf1.ch3.sourceforge.com>

Revision: 12693
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12693&view=rev
Author:   fsgiudice
Date:     2009-10-12 20:48:50 +0000 (Mon, 12 Oct 2009)

Log Message:
-----------
2009-10-12 22:47 UTC+0200 Francesco Saverio Giudice (info/at/fsgiudice.com)
  * harbour/include/hbextern.ch
     + Added hb_IniString() external declaration

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbextern.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Oct 12 16:52:43 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 12 16:52:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12692] trunk/harbour
In-Reply-To: <4AD39557.8020506@fsgiudice.com>
References: <E1MxRaq-0003TH-K9@bj8yhf1.ch3.sourceforge.com>
	<756657A9-3D7E-4F93-8AE8-02DB92C69E4C@syenar.hu>
	<4AD39557.8020506@fsgiudice.com>
Message-ID: <1D0BFCDF-3575-4AE5-9C73-F2F94F9BA027@syenar.hu>

Thank you, I see it committed already.

Brdgs,
Viktor

On 2009 Oct 12, at 22:45, Francesco Saverio Giudice wrote:

> Sure
> Best regards,
> Francesco
>
> Il 12/10/2009 22.39, Viktor Szak?ts ha scritto:
>> Thank you Francesco. Could you add the new function to hbextern.ch?
>> Brgds,
>> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Mon Oct 12 17:01:53 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct 12 17:02:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12692] trunk/harbour
In-Reply-To: <E1MxRaq-0003TH-K9@bj8yhf1.ch3.sourceforge.com>
References: <E1MxRaq-0003TH-K9@bj8yhf1.ch3.sourceforge.com>
Message-ID: <20091012210153.GA16503@uran.home.aster.pl>

On Mon, 12 Oct 2009, fsgiudice@users.sourceforge.net wrote:

Hi,

> 2009-10-12 22:28 UTC+0200 Francesco Saverio Giudice (info/at/fsgiudice.com)
>     + Added new hb_IniString() funtion
>        hb_IniString( cData, lKeyCaseSens, cSplitters, lAutoMain ) -> hIni
>        that reads directly from a string.
>        So hb_IniRead() read from a file, hb_IniString() read from memory string.

Maybe you should call it hb_iniReadStr() ?
If you need such function then sooner or later someone else will need also
function to convert hash table to string in .ini file format so natural
will be adding:
   hb_iniWriteStr( hIni, cCommentBegin, cCommentEnd, lAutoMain )
         -> cData | NIL
or maybe you can even add such function too.

best regards,
Przemek
From info at fsgiudice.com  Mon Oct 12 17:08:58 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Oct 12 17:09:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12692] trunk/harbour
In-Reply-To: <20091012210153.GA16503@uran.home.aster.pl>
References: <E1MxRaq-0003TH-K9@bj8yhf1.ch3.sourceforge.com>
	<20091012210153.GA16503@uran.home.aster.pl>
Message-ID: <4AD39AEA.5090009@fsgiudice.com>

Hi Przemek,

Il 12/10/2009 23.01, Przemyslaw Czerpak ha scritto:
> On Mon, 12 Oct 2009, fsgiudice@users.sourceforge.net wrote:
> 
> Hi,
> 
>> 2009-10-12 22:28 UTC+0200 Francesco Saverio Giudice (info/at/fsgiudice.com)
>>     + Added new hb_IniString() funtion
>>        hb_IniString( cData, lKeyCaseSens, cSplitters, lAutoMain ) -> hIni
>>        that reads directly from a string.
>>        So hb_IniRead() read from a file, hb_IniString() read from memory string.
> 
> Maybe you should call it hb_iniReadStr() ?
> If you need such function then sooner or later someone else will need also
> function to convert hash table to string in .ini file format so natural
> will be adding:
>    hb_iniWriteStr( hIni, cCommentBegin, cCommentEnd, lAutoMain )
>          -> cData | NIL
> or maybe you can even add such function too.
> 
I'm just adding it.
I thought as name: hb_IniFromString(), instead of hb_IniString(), and 
hb_IniToString().
But I will follow your suggestion: hb_IniReadStr() and hb_IniWriteStr().

I will upload in minutes.

Thank you.
Best Regards,
Francesco

From roberbox at gmail.com  Mon Oct 12 17:13:21 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Mon Oct 12 17:13:30 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com><16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>	<4AD33623.3010004@gmail.com>	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>	<4AD34565.2000008@gmail.com>
	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>
Message-ID: <4AD39BF1.3050800@gmail.com>

Viktor:

I'm very sad because your interpretation of the facts.

Maybe, as Angel said, it could be because idiomatic barriers (English is 
not my native tongue).

Anyway, the facts, are that I've been working during all the weekend to 
make hbmk2 to work with HMG and published a build containing it.

When discovered that incremental builds containing forms or reports will 
be not created correctly, I've removed it, and replaced with a simple 
batch file, protecting the users from potential problems. That's all.

I guess that both (you and me) expossed our opinions deeply enough 
already, so I prefer to not continue with this thread by the moment.


Regards,

Roberto.

From phil at newstar.rinet.ru  Mon Oct 12 17:29:07 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Mon Oct 12 17:29:34 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <20091012202856.GB14922@uran.home.aster.pl>
References: <C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu> 
	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com> 
	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com> 
	<20091011090722.GA21784@uran.home.aster.pl>
	<133778360910111314x25f19d8elcd8c22aeaa1a203d@mail.gmail.com> 
	<20091012141033.GA16227@uran.home.aster.pl>
	<133778360910121146t4baf26e3k768bd42704b4657@mail.gmail.com> 
	<20091012202856.GB14922@uran.home.aster.pl>
Message-ID: <c10dbf450910121429l438f85f1maed2e8daff84a3f8@mail.gmail.com>

On Tue, Oct 13, 2009 at 12:28 AM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:
> On Mon, 12 Oct 2009, Bruno Luciani wrote:
>> You are right Przemyslaw my mistake
>> The console aplication that I test was compiled using Harbour
>> Talking with a friend of mine , make me notes that diference
>> and trying a real 16 bit binary , not work
>
> Looks that I was wrong and WINE has some own VDM code though for some
> reasons it does not work for me.
> I'm interesting if it's working for anyone else.
>

This is an Ubuntu 9.04 on an Athlon 1800+ PC with all updates and Wine
taken from WineHQ repository: 1.1.20~winehq~ubuntu~8.04-0ubuntu1. Hmmm
the Wine repository refers to 8.04, probably i did not update the
address. Anyway, it works:

http://tuffnatty.dialup.corbina.ru/~phil/nc.png

-- Ph.
From mbelgrano at deltain.it  Mon Oct 12 17:30:19 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct 12 17:30:49 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <4AD39BF1.3050800@gmail.com>
References: <hanaud$bqo$1@ger.gmane.org> <4AD30FF7.6070308@gmail.com> 
	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>
	<4AD31C00.9070107@gmail.com> 
	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>
	<4AD33623.3010004@gmail.com> 
	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>
	<4AD34565.2000008@gmail.com> 
	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>
	<4AD39BF1.3050800@gmail.com>
Message-ID: <609353e70910121430s1be8c93bt3f5b0be6cec8aa7e@mail.gmail.com>

I agree with  Angel about  idiomatic barriers (English is not my
native language).
more important see facts that interpreter post
Facts are an active community that want share his experiences for
having a better product
Your Point of View is important because is similar to a lot of user
Same decision (no light version) is result of various steep
I suggest Viktor trasform prev post in GUIDELINE.TXT


about hbmk2 can you post a little sample (also with minigui) so i will try
Facts are that Viktor have modified each error post here regarding hbmk2



2009/10/12 Roberto Lopez <roberbox@gmail.com>:
> Viktor:
>
> I'm very sad because your interpretation of the facts.
>
> Maybe, as Angel said, it could be because idiomatic barriers (English is not
> my native tongue).
>
> Anyway, the facts, are that I've been working during all the weekend to make
> hbmk2 to work with HMG and published a build containing it.
>
> When discovered that incremental builds containing forms or reports will be
> not created correctly, I've removed it, and replaced with a simple batch
> file, protecting the users from potential problems. That's all.
>
> I guess that both (you and me) expossed our opinions deeply enough already,
> so I prefer to not continue with this thread by the moment.
>
>
> Regards,
>
> Roberto.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Mon Oct 12 17:31:53 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct 12 17:32:20 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <c10dbf450910121429l438f85f1maed2e8daff84a3f8@mail.gmail.com>
References: <C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu> 
	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com> 
	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com> 
	<20091011090722.GA21784@uran.home.aster.pl>
	<133778360910111314x25f19d8elcd8c22aeaa1a203d@mail.gmail.com> 
	<20091012141033.GA16227@uran.home.aster.pl>
	<133778360910121146t4baf26e3k768bd42704b4657@mail.gmail.com> 
	<20091012202856.GB14922@uran.home.aster.pl>
	<c10dbf450910121429l438f85f1maed2e8daff84a3f8@mail.gmail.com>
Message-ID: <609353e70910121431w51a46cccn20702730d2482f1@mail.gmail.com>

Nice see nc.exe
Norton commander!

2009/10/12 Phil Krylov <phil@newstar.rinet.ru>:
> On Tue, Oct 13, 2009 at 12:28 AM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:
>> On Mon, 12 Oct 2009, Bruno Luciani wrote:
>>> You are right Przemyslaw my mistake
>>> The console aplication that I test was compiled using Harbour
>>> Talking with a friend of mine , make me notes that diference
>>> and trying a real 16 bit binary , not work
>>
>> Looks that I was wrong and WINE has some own VDM code though for some
>> reasons it does not work for me.
>> I'm interesting if it's working for anyone else.
>>
>
> This is an Ubuntu 9.04 on an Athlon 1800+ PC with all updates and Wine
> taken from WineHQ repository: 1.1.20~winehq~ubuntu~8.04-0ubuntu1. Hmmm
> the Wine repository refers to 8.04, probably i did not update the
> address. Anyway, it works:
>
> http://tuffnatty.dialup.corbina.ru/~phil/nc.png
>
> -- Ph.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Oct 12 17:50:57 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 12 17:51:09 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <4AD39BF1.3050800@gmail.com>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com><16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>	<4AD33623.3010004@gmail.com>	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>	<4AD34565.2000008@gmail.com>
	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>
	<4AD39BF1.3050800@gmail.com>
Message-ID: <3B960DE0-4A96-47AA-A6EF-0A5851D801FE@syenar.hu>


On 2009 Oct 12, at 23:13, Roberto Lopez wrote:

> Viktor:
>
> I'm very sad because your interpretation of the facts.
>
> Maybe, as Angel said, it could be because idiomatic barriers  
> (English is not my native tongue).
>
> Anyway, the facts, are that I've been working during all the weekend  
> to make hbmk2 to work with HMG and published a build containing it.
>
> When discovered that incremental builds containing forms or reports  
> will be not created correctly, I've removed it, and replaced with a  
> simple batch file, protecting the users from potential problems.  
> That's all.

Sorry, I didn't see the background from here. In all HMG
distros I ever saw, build system was always COMPILE.BAT
based.

Although I still can't see what is exactly the problem you
mention, so can't recommend anything regarding hbmk2.

To tell anything more, probably the best would be if you'd
post an hbmk2 cmdline as you tried it. I don't understand
what sort of preprocessing takes place what makes in unusable.
I must be something outside the realm of built-in procedures.

> I guess that both (you and me) expossed our opinions deeply enough  
> already, so I prefer to not continue with this thread by the moment.

I'd also rather prefer to continue with something
technical.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Oct 12 18:05:58 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 12 18:06:09 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <609353e70910121430s1be8c93bt3f5b0be6cec8aa7e@mail.gmail.com>
References: <hanaud$bqo$1@ger.gmane.org> <4AD30FF7.6070308@gmail.com>
	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>
	<4AD31C00.9070107@gmail.com>
	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>
	<4AD33623.3010004@gmail.com>
	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>
	<4AD34565.2000008@gmail.com>
	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>
	<4AD39BF1.3050800@gmail.com>
	<609353e70910121430s1be8c93bt3f5b0be6cec8aa7e@mail.gmail.com>
Message-ID: <EF9AA7E6-E1BF-4619-AB8F-DA22D7B5E744@syenar.hu>

> more important see facts that interpreter post
> Facts are an active community that want share his experiences for
> having a better product
> Your Point of View is important because is similar to a lot of user
> Same decision (no light version) is result of various steep
> I suggest Viktor trasform prev post in GUIDELINE.TXT

GUIDELINE.TXT seems a bit early, but simply by looking
to the dir layout of beta3 is enough to find out placements
for most components. For the rest I'd prefer to keep it
interactive, since there would be no point for me to design
something "in a laboratory" and expect it to be used as is.
So only I was interested in this whole matter (which I
find rather strange BTW).

Anyhow embedded compilers are in /comp/*/, the base
structure is the same as our source tree, with bin, lib,
include and tests dir. Inside lib we have /plat/comp/*
as libs.

Addons like HMG would normally go to /addons/*/ dirs,
which in case of hmg would be /addons/hmg/*/ inside
that comes hmg.hbc, and the actual dir structure is
pretty much own decision of addon developers. Probably
no one agrees with it for various reasons, but I'd
personally recommend using /bin, /lib/plat/comp,
/include, /samples, /resources, /src inside that tree, where the
most important thing is /lib/plat/comp to allow for
multicompiler setups. This would cause that .hbc file
automatically gets picked up wherever the source
files are.

If this seems to be maturing and accepted by some
of the important 3rd party projects, I'll write such
guideline.

> about hbmk2 can you post a little sample (also with minigui) so i  
> will try
> Facts are that Viktor have modified each error post here regarding  
> hbmk2

I doubt it's an error. Anyhow I've spend at least 1-2
days adding features to support HMG, probably some more
can be done, but without knowing the issue it's difficult
to tell.

Brgds,
Viktor

From fsgiudice at users.sourceforge.net  Mon Oct 12 18:22:39 2009
From: fsgiudice at users.sourceforge.net (fsgiudice@users.sourceforge.net)
Date: Mon Oct 12 18:22:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12694] trunk/harbour
Message-ID: <E1MxTHr-0003Us-Uo@d5vjzd1.ch3.sourceforge.com>

Revision: 12694
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12694&view=rev
Author:   fsgiudice
Date:     2009-10-12 22:22:37 +0000 (Mon, 12 Oct 2009)

Log Message:
-----------
2009-10-13 00:21 UTC+0200 Francesco Saverio Giudice (info/at/fsgiudice.com)
  * harbour/src/rtl/hbini.prg
     * Changed hb_IniString() function name to hb_IniReadStr()
     + Added hb_IniWriteStr() that returns a string from an Ini hash
        hb_iniWriteStr( hIni, cCommentBegin, cCommentEnd, lAutoMain )
         -> cData | NIL
        ! Fixed a previous error in logic in case of hIni with missing MAIN section
  * harbour/include/hbextern.ch
     - Removed hb_IniString() declaration
     + Added hb_IniReadStr() and hb_IniWriteStr() external declarations
  * harbour/tests/parseini.prg
     + Added samples of hb_IniReadStr() and hb_IniWriteStr() functions

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbextern.ch
    trunk/harbour/src/rtl/hbini.prg
    trunk/harbour/tests/parseini.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Oct 12 18:32:56 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct 12 18:33:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12694] trunk/harbour
In-Reply-To: <E1MxTHr-0003Us-Uo@d5vjzd1.ch3.sourceforge.com>
References: <E1MxTHr-0003Us-Uo@d5vjzd1.ch3.sourceforge.com>
Message-ID: <20091012223256.GA28770@uran.home.aster.pl>

On Mon, 12 Oct 2009, fsgiudice@users.sourceforge.net wrote:
> 2009-10-13 00:21 UTC+0200 Francesco Saverio Giudice (info/at/fsgiudice.com)
[...]

Thank you very much.

best regards,
Przemek
From info at fsgiudice.com  Mon Oct 12 18:35:14 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Oct 12 18:35:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12694] trunk/harbour
In-Reply-To: <20091012223256.GA28770@uran.home.aster.pl>
References: <E1MxTHr-0003Us-Uo@d5vjzd1.ch3.sourceforge.com>
	<20091012223256.GA28770@uran.home.aster.pl>
Message-ID: <4AD3AF22.4010509@fsgiudice.com>


Il 13/10/2009 0.32, Przemyslaw Czerpak ha scritto:
> 
> Thank you very much.

You are welcome.

Best Regards,
Francesco

From druzus at acn.waw.pl  Mon Oct 12 18:49:32 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct 12 18:49:39 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <c10dbf450910121429l438f85f1maed2e8daff84a3f8@mail.gmail.com>
References: <95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>
	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>
	<20091011090722.GA21784@uran.home.aster.pl>
	<133778360910111314x25f19d8elcd8c22aeaa1a203d@mail.gmail.com>
	<20091012141033.GA16227@uran.home.aster.pl>
	<133778360910121146t4baf26e3k768bd42704b4657@mail.gmail.com>
	<20091012202856.GB14922@uran.home.aster.pl>
	<c10dbf450910121429l438f85f1maed2e8daff84a3f8@mail.gmail.com>
Message-ID: <20091012224932.GA29869@uran.home.aster.pl>

On Tue, 13 Oct 2009, Phil Krylov wrote:
> This is an Ubuntu 9.04 on an Athlon 1800+ PC with all updates and Wine
> taken from WineHQ repository: 1.1.20~winehq~ubuntu~8.04-0ubuntu1. Hmmm
> the Wine repository refers to 8.04, probably i did not update the
> address. Anyway, it works:
> http://tuffnatty.dialup.corbina.ru/~phil/nc.png

Thank you. Seems that I will have new toy to test ;-)
BTW can you execute also pure Clipper applications?

best regards,
Przemek
From bedipritpal at hotmail.com  Mon Oct 12 19:46:03 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Oct 12 19:46:10 2009
Subject: [Harbour] HBQT - HBXBP : Garbage Collection
In-Reply-To: <25813841.post@talk.nabble.com>
References: <25813841.post@talk.nabble.com>
Message-ID: <25865022.post@talk.nabble.com>


Hello Przemek, All

I did a few experiments which lead to some 
satisfying results but also with some weired ones,
which at the moment I am unable to fix, your help is 
requested in highest needs.

1. Download attached are files which outlines my concept.
    http://www.nabble.com/file/p25865022/hbqt_misc.zip hbqt_misc.zip 

2. Redistribute them in respective folders.
3. Make the following change in QWidget.cpp

/*
 * QSize size () const
 */
HB_FUNC( QT_QWIDGET_SIZE )
{
   #if 0
   hb_retptr( new QSize( hbqt_par_QWidget( 1 )->size() ) );
   #else
   void ** ph = ( void ** ) hb_gcAlloc( sizeof( void * ), QObject_release );
   * ph = new QSize( hbqt_par_QWidget( 1 )->size() ) ;
   hb_retptrGC( ph );
   #endif
}

4. Issue - \harbour\contrib\hbqt\generator:\>hbmk2 hbqtgen -run
5. Recompile HBQT.lib.
6. Move to tests folder and compile demoqt.prg as
    hbmk2 demoqt -lxhb -Lc:\qt\2009.01\qt\lib -run
7. Open up some debugger utility to view the debug messages.

You may uncomment block at line # 143 to generate GPF right 
after demoqt.exe shows up.


THE REAL ISSUE: hbqt_slots.cpp
                       ===========

HB_GARBAGE_FUNC( QObject_release )
{
   char str[50];

   void ** ph = ( void ** ) Cargo;
hb_snprintf( str, sizeof( str ), "QObject_release 0" );  OutputDebugString(
str );
   if( ph && * ph )
   {
      try
      {
         const QMetaObject * m = ( ( QObject * ) * ph )->metaObject();
hb_snprintf( str, sizeof( str ), "QObject_release 000" ); 
OutputDebugString( str );
         if( m != NULL )
         {
            const char * name = m->className();
hb_snprintf( str, sizeof( str ), "QObject_release 1 %s", m->className() ); 
OutputDebugString( str );
            delete ( ( QObject * ) * ph );
         }
         * ph = NULL;
      }
      catch ( int &e )
      {

      }
   }
hb_snprintf( str, sizeof( str ), "QObject_release 2" );  OutputDebugString(
str );
}


The GPF is generated right at 
    const QMetaObject * m = ( ( QObject * ) * ph )->metaObject();

This can happen in two situations:
   1. If the <ph> is not of type <QObject> : in case we 
      uncomment block  shown above.
   2. If the object is released by Qt itself and detection line if( ph && *
ph )
      does not reconizes that the pointer has been releases.

Please note that try{}catch{} mechanism is not helping any way.

I need following favours:
   1. If it can be detected the <ph> is a valid pointer.
   2. If it could be determined which type of object <ph> is referring to.
       [ All objects deriving from QObject are detected fine but any other 
         class does not respect this construct, i.e. QSize and allied
classes ]
   3. If GPF could be trapped anyway if any of the above implementions are
not possible.

NOTE: Memory is almost constant with above changes if GPF is not generated 
         at the time of memory is freed.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/HBQT---HBXBP-%3A-Garbage-Collection-tp25813841p25865022.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From teo at windtelsoft.com  Mon Oct 12 20:02:06 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Mon Oct 12 20:02:19 2009
Subject: [Harbour] HBQT - HBXBP : Garbage Collection
In-Reply-To: <25865022.post@talk.nabble.com>
References: <25813841.post@talk.nabble.com> <25865022.post@talk.nabble.com>
Message-ID: <5886601D-A944-4678-A53E-ECA03565E4DF@windtelsoft.com>


On Oct 12, 2009, at 6:46 PM, Pritpal Bedi wrote:

>
> Hello Przemek, All
>
> I did a few experiments which lead to some
> satisfying results but also with some weired ones,
> which at the moment I am unable to fix, your help is
> requested in highest needs.

[snip]

Hello Pritpal,

Even that this is not the solution to your current problem, I highly  
suggest you to use a nice feature on QT called "guarded pointers".  
Please check the following link:

http://doc.trolltech.com/4.2/qpointer.html#details

This is a nice feature that helps to check if a pointer to a QT  
object, really is currently in use or has been released.


HTH,

best regards,

Teo

From bedipritpal at hotmail.com  Mon Oct 12 20:38:19 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Oct 12 20:38:24 2009
Subject: [Harbour] HBQT - HBXBP : Garbage Collection
In-Reply-To: <5886601D-A944-4678-A53E-ECA03565E4DF@windtelsoft.com>
References: <25813841.post@talk.nabble.com> <25865022.post@talk.nabble.com>
	<5886601D-A944-4678-A53E-ECA03565E4DF@windtelsoft.com>
Message-ID: <25865463.post@talk.nabble.com>


Thank you Toe.


Teo Fonrouge wrote:
> 
> Even that this is not the solution to your current problem, I highly  
> suggest you to use a nice feature on QT called "guarded pointers".  
> Please check the following link:
> 
> http://doc.trolltech.com/4.2/qpointer.html#details
> 
> This is a nice feature that helps to check if a pointer to a QT  
> object, really is currently in use or has been released.
> 

Certainly this will be useful. I will experiment with this.

Quick constructor skeleton:

HB_FUNC( QT_QWIDGET )
{
   void ** ph = ( void ** ) hb_gcAlloc( sizeof( void * ), QObject_release );
   QPointer< QWidget > pObj = new QWidget( hbqt_par_QWidget( 1 ), (
Qt::WindowFlags ) hb_parni( 2 ) ) ;
   * ph = pObj;
   hb_retptrGC( ph );
}

Is working fine. One guard is done with.
Sadly this only operates on <QObject> derived classes.
Please keep on posting if you find any info about other
type of classes too, a very important matter.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HBQT---HBXBP-%3A-Garbage-Collection-tp25813841p25865463.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Mon Oct 12 20:44:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Oct 12 20:44:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12695] trunk/harbour
Message-ID: <E1MxVUr-0005SV-3y@d5vjzd1.ch3.sourceforge.com>

Revision: 12695
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12695&view=rev
Author:   vszakats
Date:     2009-10-13 00:44:12 +0000 (Tue, 13 Oct 2009)

Log Message:
-----------
2009-10-13 02:42 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtip/sendmail.prg
    + Fixed to allow inclusion of descriptive name in "from" address.

  * contrib/hbtip/mail.prg
    * Minor formatting.
    + Apply Q encoding to subject/from/to fields.
      (descriptive name part only for from/to fields)
    ; NOTE: Please make necessary corrections.

  * contrib/hbtip/encqp.prg
    ! Also encode ASC 127.
    + Also encode a few more chars to make EBDIC systems happy 
      in sync with RFC recommendation.

  * contrib/hbtip/client.prg
    + Changed to make CR LF chars appear in log output.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/client.prg
    trunk/harbour/contrib/hbtip/encqp.prg
    trunk/harbour/contrib/hbtip/mail.prg
    trunk/harbour/contrib/hbtip/sendmail.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Oct 12 21:05:34 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct 12 21:05:41 2009
Subject: [Harbour] HBQT - HBXBP : Garbage Collection
In-Reply-To: <25865022.post@talk.nabble.com>
References: <25813841.post@talk.nabble.com> <25865022.post@talk.nabble.com>
Message-ID: <20091013010534.GA19784@uran.home.aster.pl>

On Mon, 12 Oct 2009, Pritpal Bedi wrote:

Hi,

> I did a few experiments which lead to some 
> satisfying results but also with some weired ones,
> which at the moment I am unable to fix, your help is 
> requested in highest needs.
> 1. Download attached are files which outlines my concept.
>     http://www.nabble.com/file/p25865022/hbqt_misc.zip hbqt_misc.zip 
> 2. Redistribute them in respective folders.
> 3. Make the following change in QWidget.cpp
> /*
>  * QSize size () const
>  */
> HB_FUNC( QT_QWIDGET_SIZE )
> {
>    #if 0
>    hb_retptr( new QSize( hbqt_par_QWidget( 1 )->size() ) );
>    #else
>    void ** ph = ( void ** ) hb_gcAlloc( sizeof( void * ), QObject_release );
>    * ph = new QSize( hbqt_par_QWidget( 1 )->size() ) ;
>    hb_retptrGC( ph );
>    #endif
> }
> 4. Issue - \harbour\contrib\hbqt\generator:\>hbmk2 hbqtgen -run
> 5. Recompile HBQT.lib.
> 6. Move to tests folder and compile demoqt.prg as
>     hbmk2 demoqt -lxhb -Lc:\qt\2009.01\qt\lib -run
> 7. Open up some debugger utility to view the debug messages.
> You may uncomment block at line # 143 to generate GPF right 
> after demoqt.exe shows up.
> THE REAL ISSUE: hbqt_slots.cpp
>                        ===========
> HB_GARBAGE_FUNC( QObject_release )
> {
>    char str[50];
>    void ** ph = ( void ** ) Cargo;
> hb_snprintf( str, sizeof( str ), "QObject_release 0" );  OutputDebugString(
> str );
>    if( ph && * ph )
>    {
>       try
>       {
>          const QMetaObject * m = ( ( QObject * ) * ph )->metaObject();
> hb_snprintf( str, sizeof( str ), "QObject_release 000" ); 
> OutputDebugString( str );
>          if( m != NULL )
>          {
>             const char * name = m->className();
> hb_snprintf( str, sizeof( str ), "QObject_release 1 %s", m->className() ); 
> OutputDebugString( str );
>             delete ( ( QObject * ) * ph );
>          }
>          * ph = NULL;
>       }
>       catch ( int &e )
>       {
> 
>       }
>    }
> hb_snprintf( str, sizeof( str ), "QObject_release 2" );  OutputDebugString(
> str );
> }
> The GPF is generated right at 
>     const QMetaObject * m = ( ( QObject * ) * ph )->metaObject();
> This can happen in two situations:
>    1. If the <ph> is not of type <QObject> : in case we 
>       uncomment block  shown above.

What seem to be expected.

>    2. If the object is released by Qt itself and detection line if( ph && * ph )
>       does not reconizes that the pointer has been releases.

This detection works only for object released by GC block destructors
or released/detached by your own helper functions which explicitly clear
the reference inside ph. It does not help in any way to detect that
object was released by QT code. To resolve this problem you should
"detach" all objects which are managed by QT and will be released by
QT code. If it's hard for you to implement such detaching then you
should use guarded pointers as Teo suggested and store them in GC
block instead of direct QObject pointers.

> Please note that try{}catch{} mechanism is not helping any way.

It usually do not help to resolve programmers errors so it's not a solution.
Never create code which uses try/catch as some type of workaround for bugs
in code, i.e. to hide problems with doubly free pointers.

> I need following favours:
>    1. If it can be detected the <ph> is a valid pointer.

See above.

>    2. If it could be determined which type of object <ph> is referring to.
>        [ All objects deriving from QObject are detected fine but any other 
>          class does not respect this construct, i.e. QSize and allied
> classes ]

You have to use different GC blocks with different destructors for each
class which do not have common destructor. You can also add 'type' filed
and try to implement it using single GC destructor function but IMO it's
not good idea.

>    3. If GPF could be trapped anyway if any of the above implementions are
> not possible.

It can be trapped but it will not resolve any problems so fighting
with it it's a waste of time and in the worst case you will only
hide very serious application bugs which will still exists but
problems will be exploited in different places, i.e. GPFs in valid
code which fails due to memory corruption caused by hidden real
errors.

best regards,
Przemek
From roberbox at gmail.com  Mon Oct 12 21:07:37 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Mon Oct 12 21:07:43 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <609353e70910121430s1be8c93bt3f5b0be6cec8aa7e@mail.gmail.com>
References: <hanaud$bqo$1@ger.gmane.org> <4AD30FF7.6070308@gmail.com>
	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>
	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>	<4AD33623.3010004@gmail.com>
	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>	<4AD34565.2000008@gmail.com>
	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>	<4AD39BF1.3050800@gmail.com>
	<609353e70910121430s1be8c93bt3f5b0be6cec8aa7e@mail.gmail.com>
Message-ID: <4AD3D2D9.6040607@gmail.com>

Massimo Belgrano wrote:

> about hbmk2 can you post a little sample (also with minigui) so i will try
> Facts are that Viktor have modified each error post here regarding hbmk2

I've explained in a post on Sunday:

http://www.hmgforum.com/viewtopic.php?p=5494#p5494

Regards,

Roberto.
From druzus at acn.waw.pl  Mon Oct 12 21:32:15 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Oct 12 21:32:23 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <4AD3D2D9.6040607@gmail.com>
References: <C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>
	<4AD31C00.9070107@gmail.com>
	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>
	<4AD33623.3010004@gmail.com>
	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>
	<4AD34565.2000008@gmail.com>
	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>
	<4AD39BF1.3050800@gmail.com>
	<609353e70910121430s1be8c93bt3f5b0be6cec8aa7e@mail.gmail.com>
	<4AD3D2D9.6040607@gmail.com>
Message-ID: <20091013013215.GA21586@uran.home.aster.pl>

On Mon, 12 Oct 2009, Roberto Lopez wrote:

Hi,

>> about hbmk2 can you post a little sample (also with minigui) so i will try
>> Facts are that Viktor have modified each error post here regarding hbmk2
> I've explained in a post on Sunday:
> http://www.hmgforum.com/viewtopic.php?p=5494#p5494

The text is clear for me but it's not clear for me what you used
so far. In my opinion such functionality can be implemented only
inside PP and all tools which tries to make it without replicating
whole PP logic with all compiler predefined settings and macros are
buggy by definitions and users can always create some code which will
confuse them. HBMK2 is not an exception here (I haven't even know
that it tries to make that) so I'm interesting what is your alternative
and what you used so far.

I can add such functionality for .prg code to Harbour compiler
(GCC already have it for C code) and it's the only one place where
it can be well implemented. So far only Lorenzo asked about it.
If it's really important then I'll implement it but I do not understand
why hbmk2 cannot be used without this feature and what is the core
of problem. One of the most important hbmk2 job is hiding differences
between C compilers and some Harbour internals like platform or
installation dependent settings so it can be always used as simple
wrapper to Harbour and C compilers and linker. The incremental mode
is only additional functionality which you do not have to use.
Anyhow if HBMK2 tries to detect automatically included files then
it should be done correctly though I can still imagine situations
when only manually created dependence list will work.
BTW does HBMK2 supports dependencies list defined by user?

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Oct 12 21:35:00 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 12 21:35:10 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <4AD3D2D9.6040607@gmail.com>
References: <hanaud$bqo$1@ger.gmane.org> <4AD30FF7.6070308@gmail.com>
	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>
	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>	<4AD33623.3010004@gmail.com>
	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>	<4AD34565.2000008@gmail.com>
	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>	<4AD39BF1.3050800@gmail.com>
	<609353e70910121430s1be8c93bt3f5b0be6cec8aa7e@mail.gmail.com>
	<4AD3D2D9.6040607@gmail.com>
Message-ID: <BA04863A-DD75-47EC-A303-6E3CEC482C07@syenar.hu>

> Massimo Belgrano wrote:
>
>> about hbmk2 can you post a little sample (also with minigui) so i  
>> will try
>> Facts are that Viktor have modified each error post here regarding  
>> hbmk2
>
> I've explained in a post on Sunday:
>
> http://www.hmgforum.com/viewtopic.php?p=5494#p5494

Thank you. [ Sorry, but I'm not following HMG forums. ]

So I understand the problem now.

Current hbmk2 implementation of #include dependency
detection is pretty basic (see NOTE in source), it
only detects '#include "filename"' format and nothing
else. Since I'm not using anything else for me it was
more than enough, and it probably covers 95% of cases,
and even the rest is easy to adapt.

More complex cases can be added, but I don't really
like them as they slow down detection too much for
too little gain.

For your case this wouldn't be enough though.

To cover it, hbmk2 would need real source parsing,
including PP processing to find all such "hidden" header
dependencies. To avoid duplicating PP logic in hbmk2
.prg code, ideally this should better be solved using
some __PP_*() function which returns some information
(in this case array of dependent header filenames).

Depending on how quick this process would be, this
method could either replace one existing level
if dependency detection, or we can add a new one,
like (-head:pp). So, the user interface side is easy
to solve.

I can't solve the PP parser part, but if such
function gets added to core, I'm ready to add support
for it in hbmk2.

Przemek, do you think that such function would be possible
to implement?

__PP_INCLUDELIST( <cPRGFileName>, <cOptions> ) -> <aINCLUDEFileName>

(or something with similar effect)

Brgds,
Viktor

From bedipritpal at hotmail.com  Mon Oct 12 21:35:48 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Oct 12 21:35:53 2009
Subject: [Harbour] HBQT - HBXBP : Garbage Collection
In-Reply-To: <20091013010534.GA19784@uran.home.aster.pl>
References: <25813841.post@talk.nabble.com> <25865022.post@talk.nabble.com>
	<20091013010534.GA19784@uran.home.aster.pl>
Message-ID: <25865871.post@talk.nabble.com>


Hello Przemek


Przemyslaw Czerpak-2 wrote:
> 
>>    2. If the object is released by Qt itself and detection line if( ph &&
>> * ph )
>>       does not reconizes that the pointer has been releases.
> 
> This detection works only for object released by GC block destructors
> or released/detached by your own helper functions which explicitly clear
> the reference inside ph. It does not help in any way to detect that
> object was released by QT code. To resolve this problem you should
> "detach" all objects which are managed by QT and will be released by
> QT code. If it's hard for you to implement such detaching then you
> should use guarded pointers as Teo suggested and store them in GC
> block instead of direct QObject pointers.
> 

Yep. And I have already implemented it. It gives guard against pointer
for classes derived from QObject and this is a majot part of Qt.
I am looking for another class type ( very few but there ).




>> Please note that try{}catch{} mechanism is not helping any way.
> 
> It usually do not help to resolve programmers errors so it's not a
> solution.
> Never create code which uses try/catch as some type of workaround for bugs
> in code, i.e. to hide problems with doubly free pointers.
> 

Agreed.



>>    2. If it could be determined which type of object <ph> is referring
>> to.
>>        [ All objects deriving from QObject are detected fine but any
>> other 
>>          class does not respect this construct, i.e. QSize and allied
>> classes ]
> 
> You have to use different GC blocks with different destructors for each
> class which do not have common destructor. You can also add 'type' filed
> and try to implement it using single GC destructor function but IMO it's
> not good idea.
> 

I am thinking of separate GC destructor. 
However I would like to experiment with "type" field, what is this 
and how it will behave? Some small code snippet will be handy.



>>    3. If GPF could be trapped anyway if any of the above implementions
>> are
>> not possible.
> 
> It can be trapped but it will not resolve any problems so fighting
> with it it's a waste of time and in the worst case you will only
> hide very serious application bugs which will still exists but
> problems will be exploited in different places, i.e. GPFs in valid
> code which fails due to memory corruption caused by hidden real
> errors.
> 

Agreed.

Thanks for your imput.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HBQT---HBXBP-%3A-Garbage-Collection-tp25813841p25865871.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Oct 12 21:44:49 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Oct 12 21:44:57 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <20091013013215.GA21586@uran.home.aster.pl>
References: <C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>
	<4AD31C00.9070107@gmail.com>
	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>
	<4AD33623.3010004@gmail.com>
	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>
	<4AD34565.2000008@gmail.com>
	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>
	<4AD39BF1.3050800@gmail.com>
	<609353e70910121430s1be8c93bt3f5b0be6cec8aa7e@mail.gmail.com>
	<4AD3D2D9.6040607@gmail.com>
	<20091013013215.GA21586@uran.home.aster.pl>
Message-ID: <D61610CA-4469-46AE-86D2-5D8ADF3F8ABB@syenar.hu>

Hi Przemek,

> The text is clear for me but it's not clear for me what you used
> so far. In my opinion such functionality can be implemented only
> inside PP and all tools which tries to make it without replicating
> whole PP logic with all compiler predefined settings and macros are
> buggy by definitions and users can always create some code which will
> confuse them. HBMK2 is not an exception here (I haven't even know
> that it tries to make that) so I'm interesting what is your  
> alternative
> and what you used so far.
>
> I can add such functionality for .prg code to Harbour compiler
> (GCC already have it for C code) and it's the only one place where
> it can be well implemented. So far only Lorenzo asked about it.
> If it's really important then I'll implement it but I do not  
> understand
> why hbmk2 cannot be used without this feature and what is the core
> of problem. One of the most important hbmk2 job is hiding differences
> between C compilers and some Harbour internals like platform or
> installation dependent settings so it can be always used as simple
> wrapper to Harbour and C compilers and linker. The incremental mode
> is only additional functionality which you do not have to use.
> Anyhow if HBMK2 tries to detect automatically included files then
> it should be done correctly though I can still imagine situations
> when only manually created dependence list will work.
> BTW does HBMK2 supports dependencies list defined by user?

Current detection is very simple. It fits my case perfectly,
since I only use the bare standard syntax for #includes.
I left a NOTE about "beefing it up" for more exotic scenarios.
But I had no interest in it and didn't want to slow it down.

User defined dependencies in the sense of GNU Make and RMAKE
aren't possible and these fall far from the original idea of
hbmk2.

Due to simple nature of detection, it's possible to "fake"
dependencies using syntax: '// #include "myfile.ch"'

I believe with proper PP processing it's possible to find
out header dependencies in an accurate way, so such manual
method can be left as a thing of the past. Automatic detection
works in most modern build environments.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Oct 12 21:48:42 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Oct 12 21:48:50 2009
Subject: [Harbour] HBQT - HBXBP : Garbage Collection
In-Reply-To: <25865871.post@talk.nabble.com>
References: <25813841.post@talk.nabble.com> <25865022.post@talk.nabble.com>
	<20091013010534.GA19784@uran.home.aster.pl>
	<25865871.post@talk.nabble.com>
Message-ID: <F94E220D-B0C1-4788-9541-C8FE546D75EF@syenar.hu>

>>>   2. If it could be determined which type of object <ph> is  
>>> referring
>>> to.
>>>       [ All objects deriving from QObject are detected fine but any
>>> other
>>>         class does not respect this construct, i.e. QSize and allied
>>> classes ]
>>
>> You have to use different GC blocks with different destructors for  
>> each
>> class which do not have common destructor. You can also add 'type'  
>> filed
>> and try to implement it using single GC destructor function but IMO  
>> it's
>> not good idea.
>>
>
> I am thinking of separate GC destructor.
> However I would like to experiment with "type" field, what is this
> and how it will behave? Some small code snippet will be handy.

IMO this would make the code monolithic, so it would indeed
be a (very) bad idea. Using the "type" method you'd have one
central release routine which calls _all_ destructors depending
on object type.

This in practice means that any HBQT based apps would have to
link in the *all* QT classes in final executable. Thus causing
significant bloat.

It's better to simply have them separately, and it's also much
better fits to current code layout. It also makes it easier to
debug.

Brgds,
Viktor

From bedipritpal at hotmail.com  Mon Oct 12 21:52:41 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Oct 12 21:52:47 2009
Subject: [Harbour] HBQT - HBXBP : PRG Call Equivalent in C
In-Reply-To: <25813841.post@talk.nabble.com>
References: <25813841.post@talk.nabble.com>
Message-ID: <25866026.post@talk.nabble.com>


Hello All

/*
 * QWidget( QWidget * parent = 0, Qt::WindowFlags f = 0 )
 * ~QWidget ()
 */
HB_FUNC( QT_QWIDGET )
{
   void ** ph = ( void ** ) hb_gcAlloc( sizeof( void * ), QObject_release );
   QPointer< QWidget > pObj = new QWidget( hbqt_par_QWidget( 1 ), (
Qt::WindowFlags ) hb_parni( 2 ) ) ;
   * ph = pObj;
   hb_retptrGC( ph );
}

Above is a .prg callable function in QWidget.cpp.

At another function of same .cpp ( or from any other .cpp ) we need to 
create a new instance of same or another class, like 

/*
 * QSize size () const
 */
HB_FUNC( QT_QWIDGET_SIZE )
{
   void ** ph = ( void ** ) hb_gcAlloc( sizeof( void * ), QObject_release );
   * ph = new QSize( hbqt_par_QWidget( 1 )->size() ) ;
   hb_retptrGC( ph );
}

At this point I need to call the constructor function from QSize.cpp but 
that is a .prg callable function. I know that I can execute
    HB_FUNC_EXEC( QT_QSIZE )
but this call effectively transfers its own parameter stack to called
function.
I do not know to send the parametrs which effectively are obtained from
calling
function only, in above case, QSize( hbqt_par_QWidget( 1 )->size() ).
                                                 ^^^^^^^^^^^^^^^^^^^
Is there a way to do so, or any C equivalent funtion which returns the 
hb_retptrGC( ph ); . It must be done dynamically as number and type of
parameters 
are unknown at parse time.

This is not a show=stopper but effectively eliminates the need to generate
sources
with repetitions.

Regards
Pritpal Bedi





-- 
View this message in context: http://www.nabble.com/HBQT---HBXBP-%3A-Garbage-Collection-tp25813841p25866026.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Mon Oct 12 21:59:46 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Oct 12 21:59:51 2009
Subject: [Harbour] HBQT - HBXBP : Garbage Collection
In-Reply-To: <F94E220D-B0C1-4788-9541-C8FE546D75EF@syenar.hu>
References: <25813841.post@talk.nabble.com> <25865022.post@talk.nabble.com>
	<20091013010534.GA19784@uran.home.aster.pl>
	<25865871.post@talk.nabble.com>
	<F94E220D-B0C1-4788-9541-C8FE546D75EF@syenar.hu>
Message-ID: <25866075.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
>> I am thinking of separate GC destructor.
>> However I would like to experiment with "type" field, what is this
>> and how it will behave? Some small code snippet will be handy.
> 
> IMO this would make the code monolithic, so it would indeed
> be a (very) bad idea. Using the "type" method you'd have one
> central release routine which calls _all_ destructors depending
> on object type.
> 
> This in practice means that any HBQT based apps would have to
> link in the *all* QT classes in final executable. Thus causing
> significant bloat.
> 
> It's better to simply have them separately, and it's also much
> better fits to current code layout. It also makes it easier to
> debug.
> 

Not exactly.

The if statement will be like this

if object == QObject ( 97% of Qt, may be more )
else if object == QSize
else if object == QPoint

Only very few are left, may be 20 at the most, and 
all are used extensively in hbxbp.lib.

I ran into difficulties when I tried to write for each 
class. Actually I had started like that but ended with what 
you see in the zipped code.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HBQT---HBXBP-%3A-Garbage-Collection-tp25813841p25866075.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Oct 12 22:08:08 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Oct 12 22:08:17 2009
Subject: [Harbour] HBQT - HBXBP : Garbage Collection
In-Reply-To: <25866075.post@talk.nabble.com>
References: <25813841.post@talk.nabble.com> <25865022.post@talk.nabble.com>
	<20091013010534.GA19784@uran.home.aster.pl>
	<25865871.post@talk.nabble.com>
	<F94E220D-B0C1-4788-9541-C8FE546D75EF@syenar.hu>
	<25866075.post@talk.nabble.com>
Message-ID: <AC37ACCC-D5A7-46C6-BE4B-80DCABF1AE51@syenar.hu>

>> This in practice means that any HBQT based apps would have to
>> link in the *all* QT classes in final executable. Thus causing
>> significant bloat.
>>
>> It's better to simply have them separately, and it's also much
>> better fits to current code layout. It also makes it easier to
>> debug.
>>
>
> Not exactly.
>
> The if statement will be like this
>
> if object == QObject ( 97% of Qt, may be more )
> else if object == QSize
> else if object == QPoint
>
> Only very few are left, may be 20 at the most, and
> all are used extensively in hbxbp.lib.
>
> I ran into difficulties when I tried to write for each
> class. Actually I had started like that but ended with what
> you see in the zipped code.

I still can't imagine what sort of difficulties
you can get this way, it's used like this is every
place inside Harbour. Also the logic stays the same,
the separate one is cleaner, the merged one is more
error prone and less generic.

Also notice that for 'type' solution, you'll need
to maintain an extra "holder" structure, allocate
memory for it each time and release it each time.

So it's also much less efficient.

Brgds,
Viktor

From roberbox at gmail.com  Tue Oct 13 00:28:55 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Tue Oct 13 00:29:02 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <20091013013215.GA21586@uran.home.aster.pl>
References: <C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>	<4AD33623.3010004@gmail.com>	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>	<4AD34565.2000008@gmail.com>	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>	<4AD39BF1.3050800@gmail.com>	<609353e70910121430s1be8c93bt3f5b0be6cec8aa7e@mail.gmail.com>	<4AD3D2D9.6040607@gmail.com>
	<20091013013215.GA21586@uran.home.aster.pl>
Message-ID: <4AD40207.2090909@gmail.com>

Przemyslaw Czerpak wrote:

> The text is clear for me but it's not clear for me what you used
> so far... 

Windows definitions can be (optionally) stored in external text files 
with '.fmg' extension.

This is very useful, ie, to editing purposes (I've created a visual 
editor to do that).

This functionality had been in HMG for about five (perhaps six) years.

The complete command directives are:

	#xcommand LOAD WINDOW <w> ;
	=> ;
	DECLARE WINDOW <w> ;;
	_HMG_SYSDATA \[ 214 \] := <"w"> ;;
	#include \<<w>.fmg\>

And:

	#xcommand LOAD WINDOW <ww> AS <w> ;
	=> ;
	DECLARE WINDOW <w> ;;
	_HMG_SYSDATA \[ 214 \] := <"w"> ; #include \<<ww>.fmg\>


Recently I've added similar functionality for reports:

	#xcommand LOAD REPORT <w> ;
	=> ;
	_HMG_SYSDATA \[ 162 \] := <"w"> ;;
	#include \<<w>.rmg\>  ;;
	#xtranslate \<w\> . Execute ( \<p1\> , \<p2\> ) => ExecuteReport ( 
\<"w"\> , \<p1\> , \<p2\> )


I've solved the problem some years ago creating a tool called HMG-MAKE 
(now embedded in HMG-IDE) that cares about it.

I've simply attempted to give to the users an ALTERNATIVE and since 
HBMK2 appears to be a nice tool, I've tried to use.

That's all.

Thanks for your attention.

Regards,

Roberto.


From M.Horodyski at pzuzycie.com.pl  Tue Oct 13 03:10:48 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Tue Oct 13 03:10:56 2009
Subject: [Harbour] CodePage and RDDSQL
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909A04@PINK.zycie.pzu>

Mindaugas, RDDSQL/SQLMIX ignored CP parametr in function :

dbUseArea( <.nw.>, <rdd>, <(db)>, <(a)>, if(<.sh.> .or. <.ex.>, !<.ex.>,
NIL), <.ro.> [, <cp>] )

Can you add support for this parameter?

Regards,
Marek Horodyski
From mbelgrano at deltain.it  Tue Oct 13 03:14:56 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct 13 03:15:24 2009
Subject: [Harbour] HBQT - HBXBP : Garbage Collection
In-Reply-To: <25865463.post@talk.nabble.com>
References: <25813841.post@talk.nabble.com> <25865022.post@talk.nabble.com> 
	<5886601D-A944-4678-A53E-ECA03565E4DF@windtelsoft.com>
	<25865463.post@talk.nabble.com>
Message-ID: <609353e70910130014l5974b23jd78f6fc198ed0b25@mail.gmail.com>

Follow my link
"An implicitly shared class has total control of its internal data. In
any member function that modify its data, it automatically detaches
before modifying the data."
http://www.kde.gr.jp/~ichi/qt-2.3.2/shclass.html

"Memory manager in qt..with Qt it is possible to emulate garbage
collection for child and parent classes that are derived from
QObject."
http://silmor.de/33


The Qt memory management is fine as long as you don't do things like
sharing objects or keeping objects around in caches. But it wouldn't
hurt Trolltech to use shared ptrs, because their parenting is a case
covered by reference counting.
I also found the following line in Qt's source code:
> pa.detach(); // Explicit sharing is stupid.
If Trolltech used shared ptrs, then there would not be a need for
explicit sharing, and their developers would not put these comments in
the code





2009/10/13 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Thank you Toe.
>
>
> Teo Fonrouge wrote:
>>
>> Even that this is not the solution to your current problem, I highly
>> suggest you to use a nice feature on QT called "guarded pointers".
>> Please check the following link:
>>
>> http://doc.trolltech.com/4.2/qpointer.html#details
>>
>> This is a nice feature that helps to check if a pointer to a QT
>> object, really is currently in use or has been released.
>>
>
> Certainly this will be useful. I will experiment with this.
>
> Quick constructor skeleton:
>
> HB_FUNC( QT_QWIDGET )
> {
> ? void ** ph = ( void ** ) hb_gcAlloc( sizeof( void * ), QObject_release );
> ? QPointer< QWidget > pObj = new QWidget( hbqt_par_QWidget( 1 ), (
> Qt::WindowFlags ) hb_parni( 2 ) ) ;
> ? * ph = pObj;
> ? hb_retptrGC( ph );
> }
>
> Is working fine. One guard is done with.
> Sadly this only operates on <QObject> derived classes.
> Please keep on posting if you find any info about other
> type of classes too, a very important matter.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context: http://www.nabble.com/HBQT---HBXBP-%3A-Garbage-Collection-tp25813841p25865463.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From fmancera at viaopen.com  Tue Oct 13 04:36:27 2009
From: fmancera at viaopen.com (fmancera@viaopen.com)
Date: Tue Oct 13 04:36:34 2009
Subject: [Harbour] RDDADO on Beta3
In-Reply-To: <609353e70910120435m2920caabnf984df0e57056821@mail.gmail.com>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com>
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
	<609353e70910120435m2920caabnf984df0e57056821@mail.gmail.com>
Message-ID: <61d17767307257ff5e7a4981c3f73f29@viaopen.com>

Hello everybody,

I long work with SQL directly, and that's what I am recommending to others
who ask me about ADORDD.
I vote to eliminate it of harbor.
Anyway Antonio Linares has long held a post in their forums about adordd
with a downloadable version.
Anyone who wants to use it can go there, sure Antonio is happy to help.

http://forums.fivetechsupport.com/viewtopic.php?f=3&t=6814

Best Regards,

Fernando Mancera
www.viaopen.com

From mbelgrano at deltain.it  Tue Oct 13 04:53:01 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct 13 04:53:29 2009
Subject: [Harbour] RDDADO on Beta3
In-Reply-To: <61d17767307257ff5e7a4981c3f73f29@viaopen.com>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com> 
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
	<609353e70910120435m2920caabnf984df0e57056821@mail.gmail.com> 
	<61d17767307257ff5e7a4981c3f73f29@viaopen.com>
Message-ID: <609353e70910130153xd204884ibed4eacae981ad6@mail.gmail.com>

Posted problem and i follow Answer
http://forums.fivetechsupport.com/viewtopic.php?f=3&t=6814&p=88290#p88290
i invite everybody interested participate to discussion

2009/10/13  <fmancera@viaopen.com>:
> Hello everybody,
>
> I long work with SQL directly, and that's what I am recommending to others
> who ask me about ADORDD.
> I vote to eliminate it of harbor.
> Anyway Antonio Linares has long held a post in their forums about adordd
> with a downloadable version.
> Anyone who wants to use it can go there, sure Antonio is happy to help.
>
> http://forums.fivetechsupport.com/viewtopic.php?f=3&t=6814
>
> Best Regards,
>
> Fernando Mancera
> www.viaopen.com
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Tue Oct 13 05:27:01 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Oct 13 05:27:07 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <BA04863A-DD75-47EC-A303-6E3CEC482C07@syenar.hu>
References: <4AD31C00.9070107@gmail.com>
	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>
	<4AD33623.3010004@gmail.com>
	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>
	<4AD34565.2000008@gmail.com>
	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>
	<4AD39BF1.3050800@gmail.com>
	<609353e70910121430s1be8c93bt3f5b0be6cec8aa7e@mail.gmail.com>
	<4AD3D2D9.6040607@gmail.com>
	<BA04863A-DD75-47EC-A303-6E3CEC482C07@syenar.hu>
Message-ID: <20091013092701.GA10786@uran.home.aster.pl>

On Tue, 13 Oct 2009, Szak?ts Viktor wrote:

Hi,

> I can't solve the PP parser part, but if such
> function gets added to core, I'm ready to add support
> for it in hbmk2.
> Przemek, do you think that such function would be possible
> to implement?
> __PP_INCLUDELIST( <cPRGFileName>, <cOptions> ) -> <aINCLUDEFileName>
> (or something with similar effect)

It has to be fully integrated with compiler because included files
may depend on conditional compilation so you have to activate compiler
with all compiler switches which are used for normal compilation (plus
switch(es) which enable autodependent checking) to preproces .prg files
otherwise it will not work for situations like:

   #xcommand INCLUDEFILE <file> => #include <file>
   #xcommand INCLUDEAGAIN => #ifndef _AGAIN; #define _AGAIN;;
                                             INCLUDEFILE __FILE__ ; #endif
   #define SHOW_DATA #pragma __streaminclude "data.inc"|? %s
   #ifdef _AGAIN
      ? "SECOND PASS"
      SHOW_DATA
      ? "===="
   #else
      proc main()
         ? "main()"
         #if __HARBOUR__ + 0 >= 0x20000 .and. !defined( MYDEF )
            INCLUDEAGAIN
         #endif
      return
   #endif

when you compile this code with and without -DMYDEF parameter.
I think that you can easy imagine much more complicated situations.
In poractice you have to activate the compiler with all it's setting
and macros to fully replicate conditional compilation.
Please also remember that Harbour supports also #pragma __[c]streaminclude
which should also be detected and in the future may support some other
extensions like using compiler switches in #if expressions, i.e.:

   #if enabled( -kh )
      #include "hbext_rules.ch"
   #endif

in summary it means that the only one method to generate correct
dependencies list which will always work is compiler (or code
which fully replicates compiler and PP behavior).
I'll add to compiler support for such functionality.
It will work like -M in GCC.
For hbmk2 which uses embedded Harbour compiler I also add support
for function which will return list of dependencies instead of
sending them to stdout.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Oct 13 05:39:05 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Oct 13 05:39:13 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <20091013092701.GA10786@uran.home.aster.pl>
References: <4AD31C00.9070107@gmail.com>
	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>
	<4AD33623.3010004@gmail.com>
	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>
	<4AD34565.2000008@gmail.com>
	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>
	<4AD39BF1.3050800@gmail.com>
	<609353e70910121430s1be8c93bt3f5b0be6cec8aa7e@mail.gmail.com>
	<4AD3D2D9.6040607@gmail.com>
	<BA04863A-DD75-47EC-A303-6E3CEC482C07@syenar.hu>
	<20091013092701.GA10786@uran.home.aster.pl>
Message-ID: <1844CBA8-F5AF-4CFF-851F-E886FADD9D0D@syenar.hu>

> It has to be fully integrated with compiler because included files
> may depend on conditional compilation so you have to activate compiler
> with all compiler switches which are used for normal compilation (plus
> switch(es) which enable autodependent checking) to preproces .prg  
> files
> otherwise it will not work for situations like:
>
>   #xcommand INCLUDEFILE <file> => #include <file>
>   #xcommand INCLUDEAGAIN => #ifndef _AGAIN; #define _AGAIN;;
>                                             INCLUDEFILE __FILE__ ;  
> #endif
>   #define SHOW_DATA #pragma __streaminclude "data.inc"|? %s
>   #ifdef _AGAIN
>      ? "SECOND PASS"
>      SHOW_DATA
>      ? "===="
>   #else
>      proc main()
>         ? "main()"
>         #if __HARBOUR__ + 0 >= 0x20000 .and. !defined( MYDEF )
>            INCLUDEAGAIN
>         #endif
>      return
>   #endif
>
> when you compile this code with and without -DMYDEF parameter.
> I think that you can easy imagine much more complicated situations.
> In poractice you have to activate the compiler with all it's setting
> and macros to fully replicate conditional compilation.
> Please also remember that Harbour supports also #pragma __[c] 
> streaminclude
> which should also be detected and in the future may support some other
> extensions like using compiler switches in #if expressions, i.e.:
>
>   #if enabled( -kh )
>      #include "hbext_rules.ch"
>   #endif

I didn't know we have such feature :) In this case full
compilation is indeed unavoidable.

> in summary it means that the only one method to generate correct
> dependencies list which will always work is compiler (or code
> which fully replicates compiler and PP behavior).
> I'll add to compiler support for such functionality.
> It will work like -M in GCC.
> For hbmk2 which uses embedded Harbour compiler I also add support
> for function which will return list of dependencies instead of
> sending them to stdout.

Thanks Przemek, that would be great.

Brgds,
Viktor

From M.Horodyski at pzuzycie.com.pl  Tue Oct 13 05:42:27 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Tue Oct 13 05:42:36 2009
Subject: [Harbour] RDDADO on Beta3
In-Reply-To: <61d17767307257ff5e7a4981c3f73f29@viaopen.com>
References: <hanaud$bqo$1@ger.gmane.org>
	<4ACF4AB4.2000907@gmail.com><16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu><609353e70910120435m2920caabnf984df0e57056821@mail.gmail.com>
	<61d17767307257ff5e7a4981c3f73f29@viaopen.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909A6A@PINK.zycie.pzu>

>-----Original Message-----
>From: fmancera@viaopen.com [mailto:fmancera@viaopen.com] 
>Sent: Tuesday, October 13, 2009 10:36 AM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] RDDADO on Beta3
>
>Hello everybody,
>
>I long work with SQL directly, and that's what I am 
>recommending to others who ask me about ADORDD.
>I vote to eliminate it of harbor.
>Anyway Antonio Linares has long held a post in their forums 
>about adordd with a downloadable version.
>Anyone who wants to use it can go there, sure Antonio is happy to help.
>
>http://forums.fivetechsupport.com/viewtopic.php?f=3&t=6814

I have tested ADO from contrib.
>From Oracle correctly maps only field type CHARACTER.
For others types, gives the value of U.
SQLMIX properly at the moment gives me a values of various types for
ORACLE and MS SQL SERVER.

Regards,
Marek Horodyski
From mbelgrano at deltain.it  Tue Oct 13 06:08:59 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct 13 06:09:37 2009
Subject: [Harbour] RDDADO on Beta3
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909A6A@PINK.zycie.pzu>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com> 
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
	<609353e70910120435m2920caabnf984df0e57056821@mail.gmail.com> 
	<61d17767307257ff5e7a4981c3f73f29@viaopen.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909A6A@PINK.zycie.pzu>
Message-ID: <609353e70910130308r448204dcq59f918041a3f3357@mail.gmail.com>

2009/10/13 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>:
>>-----Original Message-----
> I have tested ADO from contrib.
> >From Oracle correctly maps only field type CHARACTER.
> For others types, gives the value of U.
Can you post a sample (that recreate your problem )
http://forums.fivetechsupport.com/viewtopic.php?f=3&t=6814
follow my untested sample

#include "adordd.ch"
REQUEST ADORDD
function Main(x_string)
OPEN CONNECTION x_string
aDbf := {}
AADD( aDbf, { "FN", "N", 10, 0 } )
AADD( aDbf, { "FNF", "N", 12, 4 } )
AADD( aDbf, { "FC", "C", 40, 0 } )
AADD( aDbf, { "FD", "D", 8, 0 } )
AADD( aDbf, { "FL", "L", 1, 0 } )
AADD( aDbf, { "FM", "M", 0, 0 } )
dbCreate("dbtest",aDbf)
? "Creating test database - inserting", nrec, " records"
use dbtest  SHARED via "adordd"
IF NETERR()
   ? "Unable to open DBTEST "
ENDIF
? "INSERT 10    "
for i = 1 to 10
        append blank
        replace fn with A
        replace fnf with A*A
        replace fc with replicate( CHR(65+A ), 40 )
        replace fd with date() + A
        replace fl with A*2
next
browse()

> SQLMIX properly at the moment gives me a values of various types for
> ORACLE and MS SQL SERVER.

also here a sample
-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Tue Oct 13 06:41:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Oct 13 06:41:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12696] trunk/harbour
Message-ID: <E1Mxeoh-0006M6-CD@74yxhf1.ch3.sourceforge.com>

Revision: 12696
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12696&view=rev
Author:   vszakats
Date:     2009-10-13 10:41:18 +0000 (Tue, 13 Oct 2009)

Log Message:
-----------
2009-10-13 12:40 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn2.c
    ! alter hb_PrintFileRaw() to open printed file in FILE_SHARE_READ mode.
      (borrowed from xhb, patch by Peter Rees <peter(AT)rees.co.nz>)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Oct 13 06:42:29 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Oct 13 06:42:49 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <1844CBA8-F5AF-4CFF-851F-E886FADD9D0D@syenar.hu>
References: <4AD33623.3010004@gmail.com>
	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>
	<4AD34565.2000008@gmail.com>
	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>
	<4AD39BF1.3050800@gmail.com>
	<609353e70910121430s1be8c93bt3f5b0be6cec8aa7e@mail.gmail.com>
	<4AD3D2D9.6040607@gmail.com>
	<BA04863A-DD75-47EC-A303-6E3CEC482C07@syenar.hu>
	<20091013092701.GA10786@uran.home.aster.pl>
	<1844CBA8-F5AF-4CFF-851F-E886FADD9D0D@syenar.hu>
Message-ID: <20091013104229.GA30346@uran.home.aster.pl>

On Tue, 13 Oct 2009, Szak?ts Viktor wrote:
>> Please also remember that Harbour supports also #pragma __[c]streaminclude
>> which should also be detected and in the future may support some other
>> extensions like using compiler switches in #if expressions, i.e.:
>>   #if enabled( -kh )
>>      #include "hbext_rules.ch"
>>   #endif
> I didn't know we have such feature :) In this case full
> compilation is indeed unavoidable.

support for enabled() does not exist yet and I'm not sure it will be added
in the future anyhow do not forget about Clipper compatible features and
files included by compiler not PP, i.e. try this code:

   proc main()
      do file1
      _procReq_( "file2" + ".def" )
   return

In Clipper and Harbour above code tries to open "file1.prg" and
"file2.def" and in both cases it's done by compiler after analyzing
existing code not by PP.

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Tue Oct 13 07:20:33 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Oct 13 07:21:40 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <20091013092701.GA10786@uran.home.aster.pl>
References: <4AD31C00.9070107@gmail.com> <4AD33623.3010004@gmail.com>
	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>
	<4AD34565.2000008@gmail.com>
	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>
	<4AD39BF1.3050800@gmail.com>
	<609353e70910121430s1be8c93bt3f5b0be6cec8aa7e@mail.gmail.com>
	<4AD3D2D9.6040607@gmail.com>
	<BA04863A-DD75-47EC-A303-6E3CEC482C07@syenar.hu>
	<20091013092701.GA10786@uran.home.aster.pl>
Message-ID: <9257026e0910130420g2acaa34elbcc3f8f388d7abd3@mail.gmail.com>

On Tue, Oct 13, 2009 at 11:27 AM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> I'll add to compiler support for such functionality.
> It will work like -M in GCC.
> For hbmk2 which uses embedded Harbour compiler I also add support
> for function which will return list of dependencies instead of
> sending them to stdout.

Many thanks.

best regards,
Lorenzo
From roberbox at gmail.com  Tue Oct 13 08:09:39 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Tue Oct 13 08:09:46 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <20091013092701.GA10786@uran.home.aster.pl>
References: <4AD31C00.9070107@gmail.com>	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>	<4AD33623.3010004@gmail.com>	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>	<4AD34565.2000008@gmail.com>	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>	<4AD39BF1.3050800@gmail.com>	<609353e70910121430s1be8c93bt3f5b0be6cec8aa7e@mail.gmail.com>	<4AD3D2D9.6040607@gmail.com>	<BA04863A-DD75-47EC-A303-6E3CEC482C07@syenar.hu>
	<20091013092701.GA10786@uran.home.aster.pl>
Message-ID: <4AD46E03.90704@gmail.com>

Przemyslaw Czerpak wrote:

> in summary it means that the only one method to generate correct
> dependencies list which will always work is compiler (or code
> which fully replicates compiler and PP behavior).
> I'll add to compiler support for such functionality.
> It will work like -M in GCC.
> For hbmk2 which uses embedded Harbour compiler I also add support
> for function which will return list of dependencies instead of
> sending them to stdout.

Thanks.

Regards,

Roberto.


From druzus at users.sourceforge.net  Tue Oct 13 09:17:16 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Oct 13 09:17:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12697] trunk/harbour
Message-ID: <E1MxhFc-0007Zd-Ba@d5vjzd1.ch3.sourceforge.com>

Revision: 12697
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12697&view=rev
Author:   druzus
Date:     2009-10-13 13:17:15 +0000 (Tue, 13 Oct 2009)

Log Message:
-----------
2009-10-13 15:16 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbpp.h
  * harbour/include/hbcompdf.h
  * harbour/src/pp/ppcore.c
  * harbour/src/compiler/hbmain.c
  * harbour/src/compiler/cmdcheck.c
  * harbour/src/compiler/ppcomp.c
  * harbour/src/compiler/hbusage.c
  * harbour/doc/man/harbour.1
    + added support for new compiler switch -sm which can be used to
      generate dependencies list.
    * modified HB_COMPILEBUF() function to return dependencies list
      instead of .HRB file body when -sm switch is used. Files in
      single module are separated by spaces and modules are separated
      by TABs (chr(9))
      To reduce overhead I suggest to use in programs like hbmk2
      together with -sm also -kj switch - it disables some time
      consuming optimizations in compiler code.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/man/harbour.1
    trunk/harbour/include/hbcompdf.h
    trunk/harbour/include/hbpp.h
    trunk/harbour/src/compiler/cmdcheck.c
    trunk/harbour/src/compiler/hbmain.c
    trunk/harbour/src/compiler/hbusage.c
    trunk/harbour/src/compiler/ppcomp.c
    trunk/harbour/src/pp/ppcore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Oct 13 09:26:53 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct 13 09:27:22 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <20091013092701.GA10786@uran.home.aster.pl>
References: <4AD31C00.9070107@gmail.com> <4AD33623.3010004@gmail.com> 
	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>
	<4AD34565.2000008@gmail.com> 
	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>
	<4AD39BF1.3050800@gmail.com> 
	<609353e70910121430s1be8c93bt3f5b0be6cec8aa7e@mail.gmail.com> 
	<4AD3D2D9.6040607@gmail.com>
	<BA04863A-DD75-47EC-A303-6E3CEC482C07@syenar.hu> 
	<20091013092701.GA10786@uran.home.aster.pl>
Message-ID: <609353e70910130626n1fef82d9i5797879e568132d6@mail.gmail.com>

Very Good
Thanks!

2009/10/13 Przemyslaw Czerpak <druzus@acn.waw.pl>:
> On Tue, 13 Oct 2009, Szak?ts Viktor wrote:
>
> in summary it means that the only one method to generate correct
> dependencies list which will always work is compiler (or code
> which fully replicates compiler and PP behavior).
> I'll add to compiler support for such functionality.
> It will work like -M in GCC.
> For hbmk2 which uses embedded Harbour compiler I also add support
> for function which will return list of dependencies instead of
> sending them to stdout.
>
> best regards,
> Przemek

-- 
Massimo Belgrano
From roberbox at gmail.com  Tue Oct 13 09:45:49 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Tue Oct 13 09:45:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12697] trunk/harbour
In-Reply-To: <E1MxhFc-0007Zd-Ba@d5vjzd1.ch3.sourceforge.com>
References: <E1MxhFc-0007Zd-Ba@d5vjzd1.ch3.sourceforge.com>
Message-ID: <4AD4848D.9030409@gmail.com>

druzus@users.sourceforge.net wrote:
>     + added support for new compiler switch -sm which can be used to
>       generate dependencies list.
>     * modified HB_COMPILEBUF() function to return dependencies list
>       instead of .HRB file body when -sm switch is used. Files in
>       single module are separated by spaces and modules are separated
>       by TABs (chr(9))
>       To reduce overhead I suggest to use in programs like hbmk2
>       together with -sm also -kj switch - it disables some time
>       consuming optimizations in compiler code.

Thanks!

Regards,

Roberto.
From M.Horodyski at pzuzycie.com.pl  Tue Oct 13 10:05:45 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Tue Oct 13 10:05:53 2009
Subject: [Harbour] RDDADO on Beta3
In-Reply-To: <609353e70910130308r448204dcq59f918041a3f3357@mail.gmail.com>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com>
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu><609353e70910120435m2920caabnf984df0e57056821@mail.gmail.com>
	<61d17767307257ff5e7a4981c3f73f29@viaopen.com><FFAFD6EA63A3FC4784FBDA52BE7A7C9502909A6A@PINK.zycie.pzu>
	<609353e70910130308r448204dcq59f918041a3f3357@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909B59@PINK.zycie.pzu>

>-----Original Message-----
>From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
>Sent: Tuesday, October 13, 2009 12:09 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] RDDADO on Beta3
>
>2009/10/13 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>:
>>>-----Original Message-----
>> I have tested ADO from contrib.
>> >From Oracle correctly maps only field type CHARACTER.
>> For others types, gives the value of U.
>Can you post a sample (that recreate your problem )
>http://forums.fivetechsupport.com/viewtopic.php?f=3&t=6814
>follow my untested sample
>
>#include "adordd.ch"
>REQUEST ADORDD
>function Main(x_string)
>OPEN CONNECTION x_string
>aDbf := {}
>AADD( aDbf, { "FN", "N", 10, 0 } )
>AADD( aDbf, { "FNF", "N", 12, 4 } )
>AADD( aDbf, { "FC", "C", 40, 0 } )
>AADD( aDbf, { "FD", "D", 8, 0 } )
>AADD( aDbf, { "FL", "L", 1, 0 } )
>AADD( aDbf, { "FM", "M", 0, 0 } )
>dbCreate("dbtest",aDbf)
>? "Creating test database - inserting", nrec, " records"
>use dbtest  SHARED via "adordd"
>IF NETERR()
>   ? "Unable to open DBTEST "
>ENDIF
>? "INSERT 10    "
>for i = 1 to 10
>        append blank
>        replace fn with A
>        replace fnf with A*A
>        replace fc with replicate( CHR(65+A ), 40 )
>        replace fd with date() + A
>        replace fl with A*2
>next
>browse()
>
>> SQLMIX properly at the moment gives me a values of various types for 
>> ORACLE and MS SQL SERVER.

Can you try it with Oracle ?
Here is my query sended via ADO :

select id_dekretacja, to_char( id_dekretacja, '99') dekret, opis,
           to_char( sum( case when gr_ik = '3' then kwota else 0 end ),
'999999999999.99') kwota_ik,
           to_char( sum( case when gr_ik = '2' then kwota else 0 end ),
'999999999999.99') kwota_gr,
           to_char( sum(                            kwota            ),
'999999999999.99') kwota_og
           from ( ...

I must all converted to character type, and later to another type from
character.
When have you acces to Oracle server, I can prepare any example.

Regards,
Marek Horodyski
From mbelgrano at deltain.it  Tue Oct 13 10:19:15 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct 13 10:19:41 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <4AD30FF7.6070308@gmail.com>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com> 
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
	<4ACF6FD5.4010706@gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu> 
	<4AD30FF7.6070308@gmail.com>
Message-ID: <609353e70910130719u10bb37eakcdcc7ec816dfacf0@mail.gmail.com>

I noticed that Antonio Linares have a right idea
request contribute in the wiki for fivetech product and pay with
fivetech product
and seem also having a good response
Compliment!
What can we do something of similar?
Can we search any kind of collaboration with Fivetech?


>Help to complete the wiki and get a free FWH 9.07 !!!
>We need your help to complete the FiveTech wiki, so lets make a deal
>If you contribute in the wiki for:
>* 25 functions documentation
>or
>* 20 Commands
>or
>* 15 Classes
>then you will get a free FWH 9.07
>Some rules to follow:
>1. The content format has to be similar to the existing ones.
>2. The main indexes have to be completed to point to the new created wiki entries.
>if you don't have access to the FiveTech wiki, just send me an email to request access

http://wiki.fivetechsoft.com


2009/10/12 Roberto Lopez <roberbox@gmail.com>:
>
> Hi All,
>
> Based on an interesting idea from Massimo Belgrano we
> decided to add an specific area on www.hmgforum.com for
> Harbour compiler related issues.
>
> We published an experimental HMG release based on
> 100% 'pure' Harbour 2.0 build subset. So, supporting
> Harbour compiler bundled in HMG, shouldn't be
> a problem to Harbour developers
> (http://www.hmgforum.com/viewtopic.php?f=2&t=879).
>
> Another interesting Massimo idea is to have a Wiki to help
> to create a (really needed) Harbour documentation.
>
> We already added a Wiki to the site (TikiWiki). You can
> access it in: http://www.hmgforum.com/wiki
>
> A good starting point could be to use the current Harbour
> documentation published at Harbour site. If you agree,
> the first main task should be to import it.
>
> We will succeed, only with Harbour community
> support, so we need your help.
>
> So, you are welcome to participate in any of the two
> projects. All is already set and working.
>
> Thanks in advance.
>
>
> Rathinagiri & Roberto Lopez - HMG Forum.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Tue Oct 13 10:37:23 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct 13 10:37:50 2009
Subject: [Harbour] RDDADO on Beta3
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909B59@PINK.zycie.pzu>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com> 
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
	<609353e70910120435m2920caabnf984df0e57056821@mail.gmail.com> 
	<61d17767307257ff5e7a4981c3f73f29@viaopen.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909A6A@PINK.zycie.pzu> 
	<609353e70910130308r448204dcq59f918041a3f3357@mail.gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909B59@PINK.zycie.pzu>
Message-ID: <609353e70910130737h9eb94c8pd6b573e9f5c9d7e9@mail.gmail.com>

I can try i Need Connection string and structure/data
Oracle can give more way from ado
OLE DB Provider for Oracle (from Microsoft)
strConnect = _T("Provider=MSDAORA;Data Source=MyOracleDB;User Id=myUsername;"
"Password=myPassword;");
OLE DB Standard Provider for Oracle (from Oracle).
strConnect = _T("Provider=OraOLEDB.Oracle;Data Source=MyOracleDB;"
        "User Id=myUsername;Password=myPassword;");
OLE DB Trusted Provider for Oracle (from Oracle).
strConnect = _T("Provider=OraOLEDB.Oracle;Data Source=MyOracleDB;OSAuthent=1;"
and using Microsoft OLE DB Provider for ODBC Drivers we have a log of way

I can try mssql, and oracle from same customer

Why In your selection string you convert all value to char?
http://www.techonthenet.com/oracle/functions/to_char.php


2009/10/13 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>:
>>-----Original Message-----
>>From: Massimo Belgrano [mailto:mbelgrano@deltain.it]
>>Sent: Tuesday, October 13, 2009 12:09 PM
>>To: Harbour Project Main Developer List.
>>Subject: Re: [Harbour] RDDADO on Beta3
>>
>>2009/10/13 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>:
>>>>-----Original Message-----
>>> I have tested ADO from contrib.
>>> >From Oracle correctly maps only field type CHARACTER.
>>> For others types, gives the value of U.
>>Can you post a sample (that recreate your problem )
>>http://forums.fivetechsupport.com/viewtopic.php?f=3&t=6814
>>follow my untested sample
>>
>>#include "adordd.ch"
>>REQUEST ADORDD
>>function Main(x_string)
>>OPEN CONNECTION x_string
>>aDbf := {}
>>AADD( aDbf, { "FN", "N", 10, 0 } )
>>AADD( aDbf, { "FNF", "N", 12, 4 } )
>>AADD( aDbf, { "FC", "C", 40, 0 } )
>>AADD( aDbf, { "FD", "D", 8, 0 } )
>>AADD( aDbf, { "FL", "L", 1, 0 } )
>>AADD( aDbf, { "FM", "M", 0, 0 } )
>>dbCreate("dbtest",aDbf)
>>? "Creating test database - inserting", nrec, " records"
>>use dbtest ?SHARED via "adordd"
>>IF NETERR()
>> ? ? "Unable to open DBTEST "
>>ENDIF
>>? "INSERT 10 ? ?"
>>for i = 1 to 10
>> ? ? ? ?append blank
>> ? ? ? ?replace fn with A
>> ? ? ? ?replace fnf with A*A
>> ? ? ? ?replace fc with replicate( CHR(65+A ), 40 )
>> ? ? ? ?replace fd with date() + A
>> ? ? ? ?replace fl with A*2
>>next
>>browse()
>>
>>> SQLMIX properly at the moment gives me a values of various types for
>>> ORACLE and MS SQL SERVER.
>
> Can you try it with Oracle ?
> Here is my query sended via ADO :
>
> select id_dekretacja, to_char( id_dekretacja, '99') dekret, opis,
> ? ? ? ? ? to_char( sum( case when gr_ik = '3' then kwota else 0 end ),
> '999999999999.99') kwota_ik,
> ? ? ? ? ? to_char( sum( case when gr_ik = '2' then kwota else 0 end ),
> '999999999999.99') kwota_gr,
> ? ? ? ? ? to_char( sum( ? ? ? ? ? ? ? ? ? ? ? ? ? ?kwota ? ? ? ? ? ?),
> '999999999999.99') kwota_og
> ? ? ? ? ? from ( ...
>
> I must all converted to character type, and later to another type from
> character.
> When have you acces to Oracle server, I can prepare any example.
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at users.sourceforge.net  Tue Oct 13 10:47:55 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Oct 13 10:48:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12698] trunk/harbour
Message-ID: <E1MxifL-0003V4-1n@c3vjzd1.ch3.sourceforge.com>

Revision: 12698
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12698&view=rev
Author:   druzus
Date:     2009-10-13 14:47:49 +0000 (Tue, 13 Oct 2009)

Log Message:
-----------
2009-10-13 16:47 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/compiler/hbmain.c
    * do not set TAB after last dependencies list generated by -sm
      switch

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/compiler/hbmain.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Oct 13 11:14:43 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Oct 13 11:14:52 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <609353e70910130719u10bb37eakcdcc7ec816dfacf0@mail.gmail.com>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com>
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
	<4ACF6FD5.4010706@gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>
	<4AD30FF7.6070308@gmail.com>
	<609353e70910130719u10bb37eakcdcc7ec816dfacf0@mail.gmail.com>
Message-ID: <D3A501F4-F353-4424-9A03-11B0B767F880@syenar.hu>

> I noticed that Antonio Linares have a right idea
> request contribute in the wiki for fivetech product and pay with
> fivetech product
> and seem also having a good response
> Compliment!
> What can we do something of similar?
> Can we search any kind of collaboration with Fivetech?

FiveTech wants to outsource this job (since 2-3 years),
now you offer to outsource this job to FiveTech :)

Someone will need to do some coding. Passing the ball
to each other won't fix any RDDADO bugs.

Brgds,
Viktor

From mbelgrano at deltain.it  Tue Oct 13 11:27:48 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct 13 11:28:15 2009
Subject: [Harbour] Harbour Forum and Wiki.
In-Reply-To: <D3A501F4-F353-4424-9A03-11B0B767F880@syenar.hu>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com> 
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
	<4ACF6FD5.4010706@gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu> 
	<4AD30FF7.6070308@gmail.com>
	<609353e70910130719u10bb37eakcdcc7ec816dfacf0@mail.gmail.com> 
	<D3A501F4-F353-4424-9A03-11B0B767F880@syenar.hu>
Message-ID: <609353e70910130827t3579f074ma697533cd347a3ef@mail.gmail.com>

You are right
also if last Offer of fivetech is started from Aug 20, 2009 and
reading post i think that about 20 user have completed works/request
copies
Fivewin for [x]Harbour have 69000 messages (90.00 total) so is a big
comunity 1500 user
This comunity know and use Harbour so i think a way of cooperation
I have post messages yesterday on fivetech regarding rdd forum and
hope in a reply



2009/10/13 Viktor Szak?ts <harbour.01@syenar.hu>:
>> I noticed that Antonio Linares have a right idea
>> request contribute in the wiki for fivetech product and pay with
>> fivetech product
>> and seem also having a good response
>> Compliment!
>> What can we do something of similar?
>> Can we search any kind of collaboration with Fivetech?
>
> FiveTech wants to outsource this job (since 2-3 years),
> now you offer to outsource this job to FiveTech :)
>
> Someone will need to do some coding. Passing the ball
> to each other won't fix any RDDADO bugs.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Tue Oct 13 11:52:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Oct 13 11:53:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12699] trunk/harbour
Message-ID: <E1MxjgI-0005qp-EX@bj8yhf1.ch3.sourceforge.com>

Revision: 12699
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12699&view=rev
Author:   vszakats
Date:     2009-10-13 15:52:57 +0000 (Tue, 13 Oct 2009)

Log Message:
-----------
2009-10-13 17:51 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.pt_BR.po
  * utils/hbmk2/hbmk2.hu_HU.po
  * utils/hbmk2/hbmk2.prg
    + Added support for new dependency checking method which uses 
      Harbour compiler to find out dependent files in incremental 
      mode. This of course only works for .prg sources, .c/rc source 
      dependency checking will continue to use simple method 
      which looks for '#include "' string.
      Enable new mode with: -head=real cmdline or "head=real" .hbc 
      option. When this mode is active .c/.rc dependency checking 
      will be set to default 'partial' level.
      NOTE: The activation method is tentative and will be finalized 
            after doing some functional and performance testing 
            with this new feature.
    ; TODO: Multimodule support in incremental mode isn't complete 
            and should be added. Currently all modules are considered 
            as equal dependencies of parent source. I'd appreciate if 
            this code would be peer-reviewed as I didn't make any 
            multimodule tests.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.hu_HU.po
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Oct 13 12:18:22 2009
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Viktor_Szak=E1ts?=)
Date: Tue Oct 13 12:18:32 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu>
Message-ID: <1BE1DD9F-ADC6-4EDC-89D2-707F24A5CDB6@syenar.hu>

Hi Marek,

> Toninho, pls. test this code, it work for my :
>
> // test Web Servicess
> PROCEDURE Main()
> LOCAL oSoapClient := CreateObject( "MSSOAP.SoapClient" )
> Cls
>
> ? 'Test czy typ klienta jest dost?pny :', ValType( oSoapClient)
> oSoapClient:msSoapInit(  'http://www.dataaccess.com/ 
> webservicesserver/textcasing.wso?WSDL')
> ? oSoapClient:InvertStringCase( "lower UPPER" )
>
> InKey( 0)
> RETURN
> // end test

What do I need to install to get MSSOAP.SoapClient object
on my machine?

Brgds,
Viktor

From mbelgrano at deltain.it  Tue Oct 13 12:25:19 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct 13 12:25:46 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <1BE1DD9F-ADC6-4EDC-89D2-707F24A5CDB6@syenar.hu>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu> 
	<1BE1DD9F-ADC6-4EDC-89D2-707F24A5CDB6@syenar.hu>
Message-ID: <609353e70910130925o58db0a32v3344967c74555b77@mail.gmail.com>

IMO
dotnet framework
or
soap sdk 3.0 toolkit
http://www.microsoft.com/downloads/details.aspx?FamilyId=C943C0DD-CEEC-4088-9753-86F052EC8450&displaylang=en

2009/10/13 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Marek,
>
>> Toninho, pls. test this code, it work for my :
>>
>> // test Web Servicess
>> PROCEDURE Main()
>> LOCAL oSoapClient := CreateObject( "MSSOAP.SoapClient" )
>> Cls
>>
>> ? 'Test czy typ klienta jest dost?pny :', ValType( oSoapClient)
>> oSoapClient:msSoapInit(
>> ?'http://www.dataaccess.com/webservicesserver/textcasing.wso?WSDL')
>> ? oSoapClient:InvertStringCase( "lower UPPER" )
>>
>> InKey( 0)
>> RETURN
>> // end test
>
> What do I need to install to get MSSOAP.SoapClient object
> on my machine?
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>


-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Tue Oct 13 12:33:39 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Oct 13 12:33:48 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <609353e70910130925o58db0a32v3344967c74555b77@mail.gmail.com>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu>
	<1BE1DD9F-ADC6-4EDC-89D2-707F24A5CDB6@syenar.hu>
	<609353e70910130925o58db0a32v3344967c74555b77@mail.gmail.com>
Message-ID: <E26D1C87-EC0D-469E-8FA2-2D2C2F756840@syenar.hu>

Thanks.

SOAP Toolkit is deprecated by .NET Framework.

I have the latter on the machine, it was a prerequisite
of MSVS 2008, I've installed it (them) through Windows
Update after installing the VM.

Yet, this example doesn't work.

Any ideas?

Brgds,
Viktor


On 2009 Oct 13, at 18:25, Massimo Belgrano wrote:

> IMO
> dotnet framework
> or
> soap sdk 3.0 toolkit
> http://www.microsoft.com/downloads/details.aspx?FamilyId=C943C0DD-CEEC-4088-9753-86F052EC8450&displaylang=en
>
> 2009/10/13 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Hi Marek,
>>
>>> Toninho, pls. test this code, it work for my :
>>>
>>> // test Web Servicess
>>> PROCEDURE Main()
>>> LOCAL oSoapClient := CreateObject( "MSSOAP.SoapClient" )
>>> Cls
>>>
>>> ? 'Test czy typ klienta jest dost?pny :', ValType( oSoapClient)
>>> oSoapClient:msSoapInit(
>>>  'http://www.dataaccess.com/webservicesserver/textcasing.wso?WSDL')
>>> ? oSoapClient:InvertStringCase( "lower UPPER" )
>>>
>>> InKey( 0)
>>> RETURN
>>> // end test
>>
>> What do I need to install to get MSSOAP.SoapClient object
>> on my machine?
>>
>> Brgds,
>> Viktor
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Tue Oct 13 13:02:18 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct 13 13:02:44 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <E26D1C87-EC0D-469E-8FA2-2D2C2F756840@syenar.hu>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu> 
	<1BE1DD9F-ADC6-4EDC-89D2-707F24A5CDB6@syenar.hu>
	<609353e70910130925o58db0a32v3344967c74555b77@mail.gmail.com> 
	<E26D1C87-EC0D-469E-8FA2-2D2C2F756840@syenar.hu>
Message-ID: <609353e70910131002k12c5f763wd8dc61c18efa813b@mail.gmail.com>

Hope be usefull

http://objectmix.com/dotnet/107166-where-get-mssoap-soapclient.html
http://support.microsoft.com/kb/307033/it
http://www.codeproject.com/KB/XML/vcsoapclient.aspx?msg=1111223

But you can also other way like
CreateObject("MSSOAP.SoapClient30")


2009/10/13 Viktor Szak?ts <harbour.01@syenar.hu>:
> Thanks.
>
> SOAP Toolkit is deprecated by .NET Framework.
>
> I have the latter on the machine, it was a prerequisite
> of MSVS 2008, I've installed it (them) through Windows
> Update after installing the VM.
>
> Yet, this example doesn't work.
>
> Any ideas?
>
> Brgds,
> Viktor
>
>
> On 2009 Oct 13, at 18:25, Massimo Belgrano wrote:
>
>> IMO
>> dotnet framework
>> or
>> soap sdk 3.0 toolkit
>>
>> http://www.microsoft.com/downloads/details.aspx?FamilyId=C943C0DD-CEEC-4088-9753-86F052EC8450&displaylang=en
>>
>> 2009/10/13 Viktor Szak?ts <harbour.01@syenar.hu>:
>>>
>>> Hi Marek,
>>>
>>>> Toninho, pls. test this code, it work for my :
>>>>
>>>> // test Web Servicess
>>>> PROCEDURE Main()
>>>> LOCAL oSoapClient := CreateObject( "MSSOAP.SoapClient" )
>>>> Cls
>>>>
>>>> ? 'Test czy typ klienta jest dost?pny :', ValType( oSoapClient)
>>>> oSoapClient:msSoapInit(
>>>> ?'http://www.dataaccess.com/webservicesserver/textcasing.wso?WSDL')
>>>> ? oSoapClient:InvertStringCase( "lower UPPER" )
>>>>
>>>> InKey( 0)
>>>> RETURN
>>>> // end test
>>>
>>> What do I need to install to get MSSOAP.SoapClient object
>>> on my machine?
>>>
>>> Brgds,
>>> Viktor
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Tue Oct 13 13:45:42 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Oct 13 13:45:52 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <609353e70910131002k12c5f763wd8dc61c18efa813b@mail.gmail.com>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu>
	<1BE1DD9F-ADC6-4EDC-89D2-707F24A5CDB6@syenar.hu>
	<609353e70910130925o58db0a32v3344967c74555b77@mail.gmail.com>
	<E26D1C87-EC0D-469E-8FA2-2D2C2F756840@syenar.hu>
	<609353e70910131002k12c5f763wd8dc61c18efa813b@mail.gmail.com>
Message-ID: <CF042D48-C858-40CF-84EC-83B1EA5AEBF5@syenar.hu>

I've found these links on Google also.

Anyhow I realized how it works now, while SOAP Toolkit
is "superceded" by .NET Framework, in MS parlance
this means that SOAP Toolkit is *abandoned*, and instead
you must use .NET Framework to access similar functionality
through other means.

Which means I had to install SOAP Toolkit 3.0. After
little modification of OLE object name (adding '30')
it works OK.

Thank you for input.

Brgds,
Viktor

On 2009 Oct 13, at 19:02, Massimo Belgrano wrote:

> Hope be usefull
>
> http://objectmix.com/dotnet/107166-where-get-mssoap-soapclient.html
> http://support.microsoft.com/kb/307033/it
> http://www.codeproject.com/KB/XML/vcsoapclient.aspx?msg=1111223
>
> But you can also other way like
> CreateObject("MSSOAP.SoapClient30")
>
>
> 2009/10/13 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Thanks.
>>
>> SOAP Toolkit is deprecated by .NET Framework.
>>
>> I have the latter on the machine, it was a prerequisite
>> of MSVS 2008, I've installed it (them) through Windows
>> Update after installing the VM.
>>
>> Yet, this example doesn't work.
>>
>> Any ideas?
>>
>> Brgds,
>> Viktor
>>
>>
>> On 2009 Oct 13, at 18:25, Massimo Belgrano wrote:
>>
>>> IMO
>>> dotnet framework
>>> or
>>> soap sdk 3.0 toolkit
>>>
>>> http://www.microsoft.com/downloads/details.aspx?FamilyId=C943C0DD-CEEC-4088-9753-86F052EC8450&displaylang=en
>>>
>>> 2009/10/13 Viktor Szak?ts <harbour.01@syenar.hu>:
>>>>
>>>> Hi Marek,
>>>>
>>>>> Toninho, pls. test this code, it work for my :
>>>>>
>>>>> // test Web Servicess
>>>>> PROCEDURE Main()
>>>>> LOCAL oSoapClient := CreateObject( "MSSOAP.SoapClient" )
>>>>> Cls
>>>>>
>>>>> ? 'Test czy typ klienta jest dost?pny :', ValType( oSoapClient)
>>>>> oSoapClient:msSoapInit(
>>>>>  'http://www.dataaccess.com/webservicesserver/textcasing.wso? 
>>>>> WSDL')
>>>>> ? oSoapClient:InvertStringCase( "lower UPPER" )
>>>>>
>>>>> InKey( 0)
>>>>> RETURN
>>>>> // end test
>>>>
>>>> What do I need to install to get MSSOAP.SoapClient object
>>>> on my machine?
>>>>
>>>> Brgds,
>>>> Viktor
>>>>
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>
>>>
>>> --
>>> Massimo Belgrano
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Tue Oct 13 13:54:32 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Oct 13 13:54:38 2009
Subject: [Harbour] About the new -sm option
Message-ID: <9257026e0910131054i6024ad8aq25cdc656802f5db0@mail.gmail.com>

I'm trying to figure out how to use it in my makefiles with hb* scripts.

To avoid the double call of hbcmp, I'm trying to create a make depend
target that creates a .d file.

Is this the supposed usage?

best regards,
Lorenzo
From vszakats at users.sourceforge.net  Tue Oct 13 14:03:24 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Oct 13 14:03:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12700] trunk/harbour
Message-ID: <E1MxliW-0007Rc-Js@dn4whf1.ch3.sourceforge.com>

Revision: 12700
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12700&view=rev
Author:   vszakats
Date:     2009-10-13 18:03:23 +0000 (Tue, 13 Oct 2009)

Log Message:
-----------
2009-10-13 20:02 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/tests/testole.prg
    + Added SOAP client call example. Based on the one sent to the 
      dev list by Marek Horodyski.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/tests/testole.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Tue Oct 13 15:10:38 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Oct 13 15:10:44 2009
Subject: [Harbour] HBQT - HBXBP : Garbage Collection
In-Reply-To: <609353e70910130014l5974b23jd78f6fc198ed0b25@mail.gmail.com>
References: <25813841.post@talk.nabble.com> <25865022.post@talk.nabble.com>
	<5886601D-A944-4678-A53E-ECA03565E4DF@windtelsoft.com>
	<25865463.post@talk.nabble.com>
	<609353e70910130014l5974b23jd78f6fc198ed0b25@mail.gmail.com>
Message-ID: <25878910.post@talk.nabble.com>


Hello Massimo


Massimo Belgrano-3 wrote:
> 
> "Memory manager in qt..with Qt it is possible to emulate garbage
> collection for child and parent classes that are derived from
> QObject."
> http://silmor.de/33
> 

Thanks for the links.

But this is not what fits our purpose though it has 
provided some more insight. Thanks anyway.

Regards
Prirpal Bedi


-- 
View this message in context: http://www.nabble.com/HBQT---HBXBP-%3A-Garbage-Collection-tp25813841p25878910.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From maufacc at adinet.com.uy  Tue Oct 13 16:10:08 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Tue Oct 13 16:10:18 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4AD0C3AD.5030706@gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>	<4ACF18B7.5030601@adinet.com.uy>	<4ACF1EA8.9010205@gmail.com>	<4ACF22EC.5050400@adinet.com.uy>	<4ACF55F3.1080708@gmail.com>	<4AD05700.7050502@adinet.com.uy>
	<4AD0BCC4.6030807@gmail.com> <4AD0C3AD.5030706@gmail.com>
Message-ID: <4AD4DEA0.5070300@adinet.com.uy>

I've tried the suggestion that Xavi proposed, but it produces a bad 
conversion.
1- Changing the es850C as proposed by CPINFO.
2- Changing cdpapi as XAVI propose and (1). It produce UPPER()-> B
3- original cdpapi with the following change in de es850c as detailed in 
the CPINFO.txt.

I guess that the last works fine, i've tried with the program that send 
I you previously and it produce the same result in clipper and harbour 
,no difference between both programs.
(OPENFILE and CLOSEFILE, are User defined functions I have wrote that 
helps me opening and closing files, change them to DBUSEAREA and 
DBCLOSEAREA)

I will test more this solution.


Thanks
Maurizio Faccio



Xavi escribi:
> Sorry, bad typo in post patch. I just change.
>
> <------------- cdpapi.c(398) ----------------------->
>     if( cdpage->s_upper[il] == cdpage->s_lower[il] ) 
> cdpage->s_upper[il] = *ptrUpper;
>     if( cdpage->s_upper[iu] == cdpage->s_lower[iu] ) 
> cdpage->s_lower[iu] = *ptrLower;
> <---------------------------------------------------->
>
-------------- next part --------------


10/13/09 15:05:42 Windows XP 5.1.2600 Service Pack 3 Harbour 2.0.0beta1 (Rev. 11287)
Character encoding: ES850C             850C WITHOUT CHANGING CDPAPI
==================================================
number of upper and lower characters is different
letters are not sorted continuously
Warning: irregular CP which needs special definition in Harbour
upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
lower: "abcdefghijklmnopqrstuvwxyz"
==================================================

10/13/09 17:12:47 Windows XP 5.1.2600 Service Pack 3 Harbour 2.0.0beta1 (Rev. 11287)
Character encoding: ES850C          XAVI proposed
==================================================
character '' (132:A L ) is the same as upper and lower
character '' (134:A L ) is the same as upper and lower
character '' (148:A L ) is the same as upper and lower
number of upper and lower characters is different
letters are not sorted continuously
Warning: irregular CP which needs special definition in Harbour
upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
lower: "abcdefghijklmnopqrstuvwxyz"
==================================================


10/13/09 17:34:30 Windows XP 5.1.2600 Service Pack 3 Harbour 2.0.0beta1 (Rev. 11287)
Character encoding: ES850C
==================================================
number of upper and lower characters is different
letters are not sorted continuously
Warning: irregular CP which needs special definition in Harbour
upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
lower: "abcdefghijklmnopqrstuvwxyz"
==================================================

New es850c:

static HB_CODEPAGE s_codepage = { "ES850C",
    HB_CPID_850, HB_UNITB_850, NUMBER_OF_CHARACTERS,
    "AABCDEFGHIIJKLMNOOPQRSTUUVWXYZ",
    "abcdefghijklmnopqrstuvwxyz",
    IS_LATIN, ACCENTED_EQUAL, ACCENTED_INTERLEAVED, 0, 0, NULL, NULL, NULL, NULL, 0, NULL };


-------------- next part --------------
/*
 * $Id: cpes850c.c 10194 2009-02-06 19:03:27Z vszakats $
 */

/*
 * Harbour Project source code:
 * National Collation Support Module (ES850C - Spanish Clipper compatible)
 *
 * Copyright 2002 Alexander S.Kresin <alex@belacy.belgorod.su>
 * www - http://www.harbour-project.org
 * Spanish MS-DOS support by Antonio Linares <alinares@fivetechsoft.com>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software; see the file COPYING.  If not, write to
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
 *
 * As a special exception, the Harbour Project gives permission for
 * additional uses of the text contained in its release of Harbour.
 *
 * The exception is that, if you link the Harbour libraries with other
 * files to produce an executable, this does not by itself cause the
 * resulting executable to be covered by the GNU General Public License.
 * Your use of that executable is in no way restricted on account of
 * linking the Harbour library code into it.
 *
 * This exception does not however invalidate any other reasons why
 * the executable file might be covered by the GNU General Public License.
 *
 * This exception applies only to the code released by the Harbour
 * Project under the name Harbour.  If you copy code from other
 * Harbour Project or Free Software Foundation releases into a copy of
 * Harbour, as the General Public License permits, the exception does
 * not apply to the code that you add in this way.  To avoid misleading
 * anyone as to the status of such modified files, you must delete
 * this exception notice from them.
 *
 * If you write modifications of your own for Harbour, it is your choice
 * whether to permit this exception to apply to your modifications.
 * If you do not wish that, delete this exception notice.
 *
 */

/* Language name: Spanish */
/* ISO language code (2 chars): ES */
/* Codepage: 850 */

#include "hbapi.h"
#include "hbapicdp.h"

#define NUMBER_OF_CHARACTERS  33    /* The number of single characters in the
                                       alphabet, two-as-one aren't considered
                                       here, accented - are considered. */
#define IS_LATIN               1    /* Should be 1, if the national alphabet
                                       is based on Latin */
#define ACCENTED_EQUAL         0    /* Should be 1, if accented character
                                       has the same weight as appropriate
                                       unaccented. */
#define ACCENTED_INTERLEAVED   0    /* Should be 1, if accented characters
                                       sort after their unaccented counterparts
                                       only if the unaccented versions of all
                                       characters being compared are the same
                                       ( interleaving ) */

/* If ACCENTED_EQUAL or ACCENTED_INTERLEAVED is 1, you need to mark the
   accented characters with the symbol '~' before each of them, for example:
      a~_
   If there is two-character sequence, which is considered as one, it should
   be marked with '.' before and after it, for example:
      ... h.ch.i ...

   The Upper case string and the Lower case string should be absolutely the
   same excepting the characters case, of course.
 */

static HB_CODEPAGE s_codepage = { "ES850C",
    HB_CPID_850, HB_UNITB_850, NUMBER_OF_CHARACTERS,
    "AABCDEFGHIIJKLMNOOPQRSTUUVWXYZ",
    "abcdefghijklmnopqrstuvwxyz",
    IS_LATIN, ACCENTED_EQUAL, ACCENTED_INTERLEAVED, 0, 0, NULL, NULL, NULL, NULL, 0, NULL };

/*static HB_CODEPAGE s_codepage = { "ES850C",
    HB_CPID_850, HB_UNITB_850, NUMBER_OF_CHARACTERS,
    "ABCDEFGHIJKLMNOPQRSTUVWXYZ",
    "abcdefghijklmnopqrstuvwxyz",
    IS_LATIN, ACCENTED_EQUAL, ACCENTED_INTERLEAVED, 0, 0, NULL, NULL, NULL, NULL, 0, NULL };*/

HB_CODEPAGE_INIT( ES850C )

#if defined( HB_PRAGMA_STARTUP )
   #pragma startup hb_codepage_Init_ES850C
#elif defined( HB_MSC_STARTUP )
   #if defined( HB_OS_WIN_64 )
      #pragma section( HB_MSC_START_SEGMENT, long, read )
   #endif
   #pragma data_seg( HB_MSC_START_SEGMENT )
   static HB_$INITSYM hb_vm_auto_hb_codepage_Init_ES850C = hb_codepage_Init_ES850C;
   #pragma data_seg()
#endif
-------------- next part --------------
REQUEST HB_LANG_ES
REQUEST HB_CODEPAGE_ES850C

function main()

HB_SETCODEPAGE('ES850C')
HB_LANGSELECT('ES')


OPENFILE({"nrochar"},.t.,.t.)
SELECT("nrochar")
DBGOTOP()
while !eof()
       bloquea("R")
       FIELD->HRBchar:=CHR(nronro)
       FIELD->HRBupper:=UPPER(CHR(nronro))
       FIELD->HRBlower:=LOWER(CHR(nronro))
      FIELD->HRBupnro:=ASC(UPPER(CHR(nronro)))
       FIELD->HRBLOnro:=ASC(LOWER(CHR(nronro)))
       BLOQUEA()
       DBSKIP()
ENDDO
CLOSEFILE({"NROCHAR"})

From harbour.01 at syenar.hu  Tue Oct 13 16:22:22 2009
From: harbour.01 at syenar.hu (=?windows-1252?Q?Viktor_Szak=E1ts?=)
Date: Tue Oct 13 16:22:31 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4AD4DEA0.5070300@adinet.com.uy>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>	<4ACF18B7.5030601@adinet.com.uy>	<4ACF1EA8.9010205@gmail.com>	<4ACF22EC.5050400@adinet.com.uy>	<4ACF55F3.1080708@gmail.com>	<4AD05700.7050502@adinet.com.uy>
	<4AD0BCC4.6030807@gmail.com> <4AD0C3AD.5030706@gmail.com>
	<4AD4DEA0.5070300@adinet.com.uy>
Message-ID: <38EE09BE-0A77-494A-AA25-8857A9BA8EAB@syenar.hu>

Hi Maurizio,

Please post any patches, source files, etc, zipped and attached.

In some mailers (like Apple Mail) such mails like this will
flow text attachments directly into mail body, so it's impossible
to extract them without spending valuable time on reformatting
them manually.

Also see section 13 in INSTALL.

Brgds,
Viktor

On 2009 Oct 13, at 22:10, Maurizio Faccio adinet wrote:

> I've tried the suggestion that Xavi proposed, but it produces a bad  
> conversion.
> 1- Changing the es850C as proposed by CPINFO.
> 2- Changing cdpapi as XAVI propose and (1). It produce UPPER(?)-> B
> 3- original cdpapi with the following change in de es850c as  
> detailed in the CPINFO.txt.
>
> I guess that the last works fine, i've tried with the program that  
> send I you previously and it produce the same result in clipper and  
> harbour ,no difference between both programs.
> (OPENFILE and CLOSEFILE, are User defined functions I have wrote  
> that helps me opening and closing files, change them to DBUSEAREA  
> and DBCLOSEAREA)
>
> I will test more this solution.
>
>
> Thanks
> Maurizio Faccio
>
>
>
> Xavi escribi?:
>> Sorry, bad typo in post patch. I just change.
>>
>> <------------- cdpapi.c(398) ----------------------->
>>    if( cdpage->s_upper[il] == cdpage->s_lower[il] ) cdpage->s_upper 
>> [il] = *ptrUpper;
>>    if( cdpage->s_upper[iu] == cdpage->s_lower[iu] ) cdpage->s_lower 
>> [iu] = *ptrLower;
>> <---------------------------------------------------->
>>
>
>
> 10/13/09 15:05:42 Windows XP 5.1.2600 Service Pack 3 Harbour  
> 2.0.0beta1 (Rev. 11287)
> Character encoding: ES850C             850C WITHOUT CHANGING CDPAPI
> ==================================================
> number of upper and lower characters is different
> letters are not sorted continuously
> Warning: irregular CP which needs special definition in Harbour
> upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
> lower: "a bcde?fghi?jklmn?o?pqrstu?vwxy?z???"
> ==================================================
>
> 10/13/09 17:12:47 Windows XP 5.1.2600 Service Pack 3 Harbour  
> 2.0.0beta1 (Rev. 11287)
> Character encoding: ES850C          XAVI proposed
> ==================================================
> character '?' (132:A L ) is the same as upper and lower
> character '?' (134:A L ) is the same as upper and lower
> character '?' (148:A L ) is the same as upper and lower
> number of upper and lower characters is different
> letters are not sorted continuously
> Warning: irregular CP which needs special definition in Harbour
> upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
> lower: "a bcde?fghi?jklmn?o?pqrstu?vwxyz????"
> ==================================================
>
>
> 10/13/09 17:34:30 Windows XP 5.1.2600 Service Pack 3 Harbour  
> 2.0.0beta1 (Rev. 11287)
> Character encoding: ES850C
> ==================================================
> number of upper and lower characters is different
> letters are not sorted continuously
> Warning: irregular CP which needs special definition in Harbour
> upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
> lower: " abcde?fgh?ijklmn??opqrst?uvwxy?z???"
> ==================================================
>
> New es850c:
>
> static HB_CODEPAGE s_codepage = { "ES850C",
>    HB_CPID_850, HB_UNITB_850, NUMBER_OF_CHARACTERS,
>    "AABCDE?FGHIIJKLMN?OOPQRSTUUVWXY?Z???",
>    " abcde?fgh?ijklmn??opqrst?uvwxy?z???",
>    IS_LATIN, ACCENTED_EQUAL, ACCENTED_INTERLEAVED, 0, 0, NULL, NULL,  
> NULL, NULL, 0, NULL };
>
> /*
> * $Id: cpes850c.c 10194 2009-02-06 19:03:27Z vszakats $
> */
>
> /*
> * Harbour Project source code:
> * National Collation Support Module (ES850C - Spanish Clipper  
> compatible)
> *
> * Copyright 2002 Alexander S.Kresin <alex@belacy.belgorod.su>
> * www - http://www.harbour-project.org
> * Spanish MS-DOS support by Antonio Linares  
> <alinares@fivetechsoft.com>
> *
> * This program is free software; you can redistribute it and/or modify
> * it under the terms of the GNU General Public License as published by
> * the Free Software Foundation; either version 2, or (at your option)
> * any later version.
> *
> * This program is distributed in the hope that it will be useful,
> * but WITHOUT ANY WARRANTY; without even the implied warranty of
> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
> * GNU General Public License for more details.
> *
> * You should have received a copy of the GNU General Public License
> * along with this software; see the file COPYING.  If not, write to
> * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
> * Boston, MA 02111-1307 USA (or visit the web site http:// 
> www.gnu.org/).
> *
> * As a special exception, the Harbour Project gives permission for
> * additional uses of the text contained in its release of Harbour.
> *
> * The exception is that, if you link the Harbour libraries with other
> * files to produce an executable, this does not by itself cause the
> * resulting executable to be covered by the GNU General Public  
> License.
> * Your use of that executable is in no way restricted on account of
> * linking the Harbour library code into it.
> *
> * This exception does not however invalidate any other reasons why
> * the executable file might be covered by the GNU General Public  
> License.
> *
> * This exception applies only to the code released by the Harbour
> * Project under the name Harbour.  If you copy code from other
> * Harbour Project or Free Software Foundation releases into a copy of
> * Harbour, as the General Public License permits, the exception does
> * not apply to the code that you add in this way.  To avoid misleading
> * anyone as to the status of such modified files, you must delete
> * this exception notice from them.
> *
> * If you write modifications of your own for Harbour, it is your  
> choice
> * whether to permit this exception to apply to your modifications.
> * If you do not wish that, delete this exception notice.
> *
> */
>
> /* Language name: Spanish */
> /* ISO language code (2 chars): ES */
> /* Codepage: 850 */
>
> #include "hbapi.h"
> #include "hbapicdp.h"
>
> #define NUMBER_OF_CHARACTERS  33    /* The number of single  
> characters in the
>                                       alphabet, two-as-one aren't  
> considered
>                                       here, accented - are  
> considered. */
> #define IS_LATIN               1    /* Should be 1, if the national  
> alphabet
>                                       is based on Latin */
> #define ACCENTED_EQUAL         0    /* Should be 1, if accented  
> character
>                                       has the same weight as  
> appropriate
>                                       unaccented. */
> #define ACCENTED_INTERLEAVED   0    /* Should be 1, if accented  
> characters
>                                       sort after their unaccented  
> counterparts
>                                       only if the unaccented  
> versions of all
>                                       characters being compared are  
> the same
>                                       ( interleaving ) */
>
> /* If ACCENTED_EQUAL or ACCENTED_INTERLEAVED is 1, you need to mark  
> the
>   accented characters with the symbol '~' before each of them, for  
> example:
>      a~_
>   If there is two-character sequence, which is considered as one, it  
> should
>   be marked with '.' before and after it, for example:
>      ... h.ch.i ...
>
>   The Upper case string and the Lower case string should be  
> absolutely the
>   same excepting the characters case, of course.
> */
>
> static HB_CODEPAGE s_codepage = { "ES850C",
>    HB_CPID_850, HB_UNITB_850, NUMBER_OF_CHARACTERS,
>    "AABCDE?FGHIIJKLMN?OOPQRSTUUVWXY?Z???",
>    " abcde?fgh?ijklmn??opqrst?uvwxy?z???",
>    IS_LATIN, ACCENTED_EQUAL, ACCENTED_INTERLEAVED, 0, 0, NULL, NULL,  
> NULL, NULL, 0, NULL };
>
> /*static HB_CODEPAGE s_codepage = { "ES850C",
>    HB_CPID_850, HB_UNITB_850, NUMBER_OF_CHARACTERS,
>    "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???",
>    "a bcde?fghi?jklmn?o?pqrstu?vwxy?z???",
>    IS_LATIN, ACCENTED_EQUAL, ACCENTED_INTERLEAVED, 0, 0, NULL, NULL,  
> NULL, NULL, 0, NULL };*/
>
> HB_CODEPAGE_INIT( ES850C )
>
> #if defined( HB_PRAGMA_STARTUP )
>   #pragma startup hb_codepage_Init_ES850C
> #elif defined( HB_MSC_STARTUP )
>   #if defined( HB_OS_WIN_64 )
>      #pragma section( HB_MSC_START_SEGMENT, long, read )
>   #endif
>   #pragma data_seg( HB_MSC_START_SEGMENT )
>   static HB_$INITSYM hb_vm_auto_hb_codepage_Init_ES850C =  
> hb_codepage_Init_ES850C;
>   #pragma data_seg()
> #endif
> REQUEST HB_LANG_ES
> REQUEST HB_CODEPAGE_ES850C
>
> function main()
>
> HB_SETCODEPAGE('ES850C')
> HB_LANGSELECT('ES')
>
>
> OPENFILE({"nrochar"},.t.,.t.)
> SELECT("nrochar")
> DBGOTOP()
> while !eof()
>       bloquea("R")
>       FIELD->HRBchar:=CHR(nronro)
>       FIELD->HRBupper:=UPPER(CHR(nronro))
>       FIELD->HRBlower:=LOWER(CHR(nronro))
>      FIELD->HRBupnro:=ASC(UPPER(CHR(nronro)))
>       FIELD->HRBLOnro:=ASC(LOWER(CHR(nronro)))
>       BLOQUEA()
>       DBSKIP()
> ENDDO
> CLOSEFILE({"NROCHAR"})
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From maufacc at adinet.com.uy  Tue Oct 13 16:41:22 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Tue Oct 13 16:41:31 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <38EE09BE-0A77-494A-AA25-8857A9BA8EAB@syenar.hu>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>	<4ACF18B7.5030601@adinet.com.uy>	<4ACF1EA8.9010205@gmail.com>	<4ACF22EC.5050400@adinet.com.uy>	<4ACF55F3.1080708@gmail.com>	<4AD05700.7050502@adinet.com.uy>	<4AD0BCC4.6030807@gmail.com>
	<4AD0C3AD.5030706@gmail.com>	<4AD4DEA0.5070300@adinet.com.uy>
	<38EE09BE-0A77-494A-AA25-8857A9BA8EAB@syenar.hu>
Message-ID: <4AD4E5F2.7070303@adinet.com.uy>

Ok I send the zipped patch

I do not find the section 13 in INSTALL

THANKS


Viktor Szak?ts escribi?:
> Hi Maurizio,
>
> Please post any patches, source files, etc, zipped and attached.
>
> In some mailers (like Apple Mail) such mails like this will
> flow text attachments directly into mail body, so it's impossible
> to extract them without spending valuable time on reformatting
> them manually.
>
> Also see section 13 in INSTALL.
>
> Brgds,
> Viktor
>
> On 2009 Oct 13, at 22:10, Maurizio Faccio adinet wrote:
>
>> I've tried the suggestion that Xavi proposed, but it produces a bad 
>> conversion.
>> 1- Changing the es850C as proposed by CPINFO.
>> 2- Changing cdpapi as XAVI propose and (1). It produce UPPER(?)-> B
>> 3- original cdpapi with the following change in de es850c as detailed 
>> in the CPINFO.txt.
>>
>> I guess that the last works fine, i've tried with the program that 
>> send I you previously and it produce the same result in clipper and 
>> harbour ,no difference between both programs.
>> (OPENFILE and CLOSEFILE, are User defined functions I have wrote that 
>> helps me opening and closing files, change them to DBUSEAREA and 
>> DBCLOSEAREA)
>>
>> I will test more this solution.
>>
>>
>> Thanks
>> Maurizio Faccio
>>
>>
>>
>> Xavi escribi?:
>>> Sorry, bad typo in post patch. I just change.
>>>
>>> <------------- cdpapi.c(398) ----------------------->
>>>    if( cdpage->s_upper[il] == cdpage->s_lower[il] ) 
>>> cdpage->s_upper[il] = *ptrUpper;
>>>    if( cdpage->s_upper[iu] == cdpage->s_lower[iu] ) 
>>> cdpage->s_lower[iu] = *ptrLower;
>>> <---------------------------------------------------->
>>>
>>
>>
>> 10/13/09 15:05:42 Windows XP 5.1.2600 Service Pack 3 Harbour 
>> 2.0.0beta1 (Rev. 11287)
>> Character encoding: ES850C             850C WITHOUT CHANGING CDPAPI
>> ==================================================
>> number of upper and lower characters is different
>> letters are not sorted continuously
>> Warning: irregular CP which needs special definition in Harbour
>> upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
>> lower: "a bcde?fghi?jklmn?o?pqrstu?vwxy?z???"
>> ==================================================
>>
>> 10/13/09 17:12:47 Windows XP 5.1.2600 Service Pack 3 Harbour 
>> 2.0.0beta1 (Rev. 11287)
>> Character encoding: ES850C          XAVI proposed
>> ==================================================
>> character '?' (132:A L ) is the same as upper and lower
>> character '?' (134:A L ) is the same as upper and lower
>> character '?' (148:A L ) is the same as upper and lower
>> number of upper and lower characters is different
>> letters are not sorted continuously
>> Warning: irregular CP which needs special definition in Harbour
>> upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
>> lower: "a bcde?fghi?jklmn?o?pqrstu?vwxyz????"
>> ==================================================
>>
>>
>> 10/13/09 17:34:30 Windows XP 5.1.2600 Service Pack 3 Harbour 
>> 2.0.0beta1 (Rev. 11287)
>> Character encoding: ES850C
>> ==================================================
>> number of upper and lower characters is different
>> letters are not sorted continuously
>> Warning: irregular CP which needs special definition in Harbour
>> upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
>> lower: " abcde?fgh?ijklmn??opqrst?uvwxy?z???"
>> ==================================================
>>
>> New es850c:
>>
>> static HB_CODEPAGE s_codepage = { "ES850C",
>>    HB_CPID_850, HB_UNITB_850, NUMBER_OF_CHARACTERS,
>>    "AABCDE?FGHIIJKLMN?OOPQRSTUUVWXY?Z???",
>>    " abcde?fgh?ijklmn??opqrst?uvwxy?z???",
>>    IS_LATIN, ACCENTED_EQUAL, ACCENTED_INTERLEAVED, 0, 0, NULL, NULL, 
>> NULL, NULL, 0, NULL };
>>
>> /*
>> * $Id: cpes850c.c 10194 2009-02-06 19:03:27Z vszakats $
>> */
>>
>> /*
>> * Harbour Project source code:
>> * National Collation Support Module (ES850C - Spanish Clipper 
>> compatible)
>> *
>> * Copyright 2002 Alexander S.Kresin <alex@belacy.belgorod.su>
>> * www - http://www.harbour-project.org
>> * Spanish MS-DOS support by Antonio Linares <alinares@fivetechsoft.com>
>> *
>> * This program is free software; you can redistribute it and/or modify
>> * it under the terms of the GNU General Public License as published by
>> * the Free Software Foundation; either version 2, or (at your option)
>> * any later version.
>> *
>> * This program is distributed in the hope that it will be useful,
>> * but WITHOUT ANY WARRANTY; without even the implied warranty of
>> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
>> * GNU General Public License for more details.
>> *
>> * You should have received a copy of the GNU General Public License
>> * along with this software; see the file COPYING.  If not, write to
>> * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
>> * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
>> *
>> * As a special exception, the Harbour Project gives permission for
>> * additional uses of the text contained in its release of Harbour.
>> *
>> * The exception is that, if you link the Harbour libraries with other
>> * files to produce an executable, this does not by itself cause the
>> * resulting executable to be covered by the GNU General Public License.
>> * Your use of that executable is in no way restricted on account of
>> * linking the Harbour library code into it.
>> *
>> * This exception does not however invalidate any other reasons why
>> * the executable file might be covered by the GNU General Public 
>> License.
>> *
>> * This exception applies only to the code released by the Harbour
>> * Project under the name Harbour.  If you copy code from other
>> * Harbour Project or Free Software Foundation releases into a copy of
>> * Harbour, as the General Public License permits, the exception does
>> * not apply to the code that you add in this way.  To avoid misleading
>> * anyone as to the status of such modified files, you must delete
>> * this exception notice from them.
>> *
>> * If you write modifications of your own for Harbour, it is your choice
>> * whether to permit this exception to apply to your modifications.
>> * If you do not wish that, delete this exception notice.
>> *
>> */
>>
>> /* Language name: Spanish */
>> /* ISO language code (2 chars): ES */
>> /* Codepage: 850 */
>>
>> #include "hbapi.h"
>> #include "hbapicdp.h"
>>
>> #define NUMBER_OF_CHARACTERS  33    /* The number of single 
>> characters in the
>>                                       alphabet, two-as-one aren't 
>> considered
>>                                       here, accented - are 
>> considered. */
>> #define IS_LATIN               1    /* Should be 1, if the national 
>> alphabet
>>                                       is based on Latin */
>> #define ACCENTED_EQUAL         0    /* Should be 1, if accented 
>> character
>>                                       has the same weight as appropriate
>>                                       unaccented. */
>> #define ACCENTED_INTERLEAVED   0    /* Should be 1, if accented 
>> characters
>>                                       sort after their unaccented 
>> counterparts
>>                                       only if the unaccented versions 
>> of all
>>                                       characters being compared are 
>> the same
>>                                       ( interleaving ) */
>>
>> /* If ACCENTED_EQUAL or ACCENTED_INTERLEAVED is 1, you need to mark the
>>   accented characters with the symbol '~' before each of them, for 
>> example:
>>      a~_
>>   If there is two-character sequence, which is considered as one, it 
>> should
>>   be marked with '.' before and after it, for example:
>>      ... h.ch.i ...
>>
>>   The Upper case string and the Lower case string should be 
>> absolutely the
>>   same excepting the characters case, of course.
>> */
>>
>> static HB_CODEPAGE s_codepage = { "ES850C",
>>    HB_CPID_850, HB_UNITB_850, NUMBER_OF_CHARACTERS,
>>    "AABCDE?FGHIIJKLMN?OOPQRSTUUVWXY?Z???",
>>    " abcde?fgh?ijklmn??opqrst?uvwxy?z???",
>>    IS_LATIN, ACCENTED_EQUAL, ACCENTED_INTERLEAVED, 0, 0, NULL, NULL, 
>> NULL, NULL, 0, NULL };
>>
>> /*static HB_CODEPAGE s_codepage = { "ES850C",
>>    HB_CPID_850, HB_UNITB_850, NUMBER_OF_CHARACTERS,
>>    "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???",
>>    "a bcde?fghi?jklmn?o?pqrstu?vwxy?z???",
>>    IS_LATIN, ACCENTED_EQUAL, ACCENTED_INTERLEAVED, 0, 0, NULL, NULL, 
>> NULL, NULL, 0, NULL };*/
>>
>> HB_CODEPAGE_INIT( ES850C )
>>
>> #if defined( HB_PRAGMA_STARTUP )
>>   #pragma startup hb_codepage_Init_ES850C
>> #elif defined( HB_MSC_STARTUP )
>>   #if defined( HB_OS_WIN_64 )
>>      #pragma section( HB_MSC_START_SEGMENT, long, read )
>>   #endif
>>   #pragma data_seg( HB_MSC_START_SEGMENT )
>>   static HB_$INITSYM hb_vm_auto_hb_codepage_Init_ES850C = 
>> hb_codepage_Init_ES850C;
>>   #pragma data_seg()
>> #endif
>> REQUEST HB_LANG_ES
>> REQUEST HB_CODEPAGE_ES850C
>>
>> function main()
>>
>> HB_SETCODEPAGE('ES850C')
>> HB_LANGSELECT('ES')
>>
>>
>> OPENFILE({"nrochar"},.t.,.t.)
>> SELECT("nrochar")
>> DBGOTOP()
>> while !eof()
>>       bloquea("R")
>>       FIELD->HRBchar:=CHR(nronro)
>>       FIELD->HRBupper:=UPPER(CHR(nronro))
>>       FIELD->HRBlower:=LOWER(CHR(nronro))
>>      FIELD->HRBupnro:=ASC(UPPER(CHR(nronro)))
>>       FIELD->HRBLOnro:=ASC(LOWER(CHR(nronro)))
>>       BLOQUEA()
>>       DBSKIP()
>> ENDDO
>> CLOSEFILE({"NROCHAR"})
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Patch es850c.zip
Type: application/octet-stream
Size: 3204 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091013/108a3034/Patches850c-0001.obj
From harbour.01 at syenar.hu  Tue Oct 13 16:49:28 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Oct 13 16:49:36 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4AD4E5F2.7070303@adinet.com.uy>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>	<4ACF18B7.5030601@adinet.com.uy>	<4ACF1EA8.9010205@gmail.com>	<4ACF22EC.5050400@adinet.com.uy>	<4ACF55F3.1080708@gmail.com>	<4AD05700.7050502@adinet.com.uy>	<4AD0BCC4.6030807@gmail.com>
	<4AD0C3AD.5030706@gmail.com>	<4AD4DEA0.5070300@adinet.com.uy>
	<38EE09BE-0A77-494A-AA25-8857A9BA8EAB@syenar.hu>
	<4AD4E5F2.7070303@adinet.com.uy>
Message-ID: <A45C2169-D5B9-4EB9-B8E0-BA5A28AFA0D2@syenar.hu>

> Ok I send the zipped patch

Thank you.

> I do not find the section 13 in INSTALL

Just try, it's there. [ it has been added a
few weeks ago, maybe you use older sources ]

Brgds,
Viktor

From mbelgrano at deltain.it  Tue Oct 13 17:32:19 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct 13 17:32:47 2009
Subject: [Harbour] HBQT - HBXBP : Garbage Collection
In-Reply-To: <25878910.post@talk.nabble.com>
References: <25813841.post@talk.nabble.com> <25865022.post@talk.nabble.com> 
	<5886601D-A944-4678-A53E-ECA03565E4DF@windtelsoft.com>
	<25865463.post@talk.nabble.com> 
	<609353e70910130014l5974b23jd78f6fc198ed0b25@mail.gmail.com> 
	<25878910.post@talk.nabble.com>
Message-ID: <609353e70910131432o58ed23b3ja5f102106c18ddb9@mail.gmail.com>

Glad to be usefull, and thanks for your effort

2009/10/13 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hello Massimo
>
>
> Massimo Belgrano-3 wrote:
>>
>> "Memory manager in qt..with Qt it is possible to emulate garbage
>> collection for child and parent classes that are derived from
>> QObject."
>> http://silmor.de/33
>>
>
> Thanks for the links.
>
> But this is not what fits our purpose though it has
> provided some more insight. Thanks anyway.
>
> Regards
> Prirpal Bedi
>
>
> --
> View this message in context: http://www.nabble.com/HBQT---HBXBP-%3A-Garbage-Collection-tp25813841p25878910.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Tue Oct 13 17:33:20 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct 13 17:33:47 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <CF042D48-C858-40CF-84EC-83B1EA5AEBF5@syenar.hu>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu> 
	<1BE1DD9F-ADC6-4EDC-89D2-707F24A5CDB6@syenar.hu>
	<609353e70910130925o58db0a32v3344967c74555b77@mail.gmail.com> 
	<E26D1C87-EC0D-469E-8FA2-2D2C2F756840@syenar.hu>
	<609353e70910131002k12c5f763wd8dc61c18efa813b@mail.gmail.com> 
	<CF042D48-C858-40CF-84EC-83B1EA5AEBF5@syenar.hu>
Message-ID: <609353e70910131433k4b59e756y96c8e8d36e4c8556@mail.gmail.com>

Glad to be usefull, and thanks for your effort

2009/10/13 Viktor Szak?ts <harbour.01@syenar.hu>:
> I've found these links on Google also.
>
> Anyhow I realized how it works now, while SOAP Toolkit
> is "superceded" by .NET Framework, in MS parlance
> this means that SOAP Toolkit is *abandoned*, and instead
> you must use .NET Framework to access similar functionality
> through other means.
>
> Which means I had to install SOAP Toolkit 3.0. After
> little modification of OLE object name (adding '30')
> it works OK.
>
> Thank you for input.
>
> Brgds,
> Viktor
>
> On 2009 Oct 13, at 19:02, Massimo Belgrano wrote:
>
>> Hope be usefull
>>
>> http://objectmix.com/dotnet/107166-where-get-mssoap-soapclient.html
>> http://support.microsoft.com/kb/307033/it
>> http://www.codeproject.com/KB/XML/vcsoapclient.aspx?msg=1111223
>>
>> But you can also other way like
>> CreateObject("MSSOAP.SoapClient30")
>>
>>
>> 2009/10/13 Viktor Szak?ts <harbour.01@syenar.hu>:
>>>
>>> Thanks.
>>>
>>> SOAP Toolkit is deprecated by .NET Framework.
>>>
>>> I have the latter on the machine, it was a prerequisite
>>> of MSVS 2008, I've installed it (them) through Windows
>>> Update after installing the VM.
>>>
>>> Yet, this example doesn't work.
>>>
>>> Any ideas?
>>>
>>> Brgds,
>>> Viktor
>>>
>>>
>>> On 2009 Oct 13, at 18:25, Massimo Belgrano wrote:
>>>
>>>> IMO
>>>> dotnet framework
>>>> or
>>>> soap sdk 3.0 toolkit
>>>>
>>>>
>>>> http://www.microsoft.com/downloads/details.aspx?FamilyId=C943C0DD-CEEC-4088-9753-86F052EC8450&displaylang=en
>>>>
>>>> 2009/10/13 Viktor Szak?ts <harbour.01@syenar.hu>:
>>>>>
>>>>> Hi Marek,
>>>>>
>>>>>> Toninho, pls. test this code, it work for my :
>>>>>>
>>>>>> // test Web Servicess
>>>>>> PROCEDURE Main()
>>>>>> LOCAL oSoapClient := CreateObject( "MSSOAP.SoapClient" )
>>>>>> Cls
>>>>>>
>>>>>> ? 'Test czy typ klienta jest dost?pny :', ValType( oSoapClient)
>>>>>> oSoapClient:msSoapInit(
>>>>>> ?'http://www.dataaccess.com/webservicesserver/textcasing.wso?WSDL')
>>>>>> ? oSoapClient:InvertStringCase( "lower UPPER" )
>>>>>>
>>>>>> InKey( 0)
>>>>>> RETURN
>>>>>> // end test
>>>>>
>>>>> What do I need to install to get MSSOAP.SoapClient object
>>>>> on my machine?
>>>>>
>>>>> Brgds,
>>>>> Viktor
>>>>>
>>>>> _______________________________________________
>>>>> Harbour mailing list
>>>>> Harbour@harbour-project.org
>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>>
>>>>
>>>>
>>>> --
>>>> Massimo Belgrano
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>>
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Tue Oct 13 18:15:27 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Oct 13 18:15:34 2009
Subject: [Harbour] About the new -sm option
In-Reply-To: <9257026e0910131054i6024ad8aq25cdc656802f5db0@mail.gmail.com>
References: <9257026e0910131054i6024ad8aq25cdc656802f5db0@mail.gmail.com>
Message-ID: <20091013221527.GA1699@uran.home.aster.pl>

On Tue, 13 Oct 2009, Lorenzo Fiorini wrote:
> I'm trying to figure out how to use it in my makefiles with hb* scripts.
> To avoid the double call of hbcmp, I'm trying to create a make depend
> target that creates a .d file.
> Is this the supposed usage?

If you want to use it in such context then why not, i.e. use this
script to generate .d file for .prg file given as 1-st parameter:

   #!/bin/sh
   echo -n "${1%.prg}.o: " > "${1%.prg}.d"
   hbcmp -n2 -sm -q2 "$1" >> "${1%.prg}.d"

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Oct 13 18:16:31 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Oct 13 18:16:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12701] trunk/harbour
Message-ID: <E1MxpfT-0004he-UU@dn4whf1.ch3.sourceforge.com>

Revision: 12701
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12701&view=rev
Author:   druzus
Date:     2009-10-13 22:16:30 +0000 (Tue, 13 Oct 2009)

Log Message:
-----------
2009-10-14 00:16 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbcomp.h
  * harbour/src/compiler/hbmain.c
  * harbour/src/compiler/complex.c
  * harbour/src/compiler/harbour.y
  * harbour/src/compiler/harbour.yyc
    % disable grammar parser when -sm switch is used

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbcomp.h
    trunk/harbour/src/compiler/complex.c
    trunk/harbour/src/compiler/harbour.y
    trunk/harbour/src/compiler/harbour.yyc
    trunk/harbour/src/compiler/hbmain.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Oct 13 18:19:41 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Oct 13 18:19:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12701] trunk/harbour
In-Reply-To: <E1MxpfT-0004he-UU@dn4whf1.ch3.sourceforge.com>
References: <E1MxpfT-0004he-UU@dn4whf1.ch3.sourceforge.com>
Message-ID: <08DFE3A5-B942-4ADC-9DDC-177B6D563F1E@syenar.hu>

Thank you. You read my mind :)

Brgds,
Viktor

On 2009 Oct 14, at 00:16, druzus@users.sourceforge.net wrote:

> Revision: 12701
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12701&view=rev
> Author:   druzus
> Date:     2009-10-13 22:16:30 +0000 (Tue, 13 Oct 2009)
>
> Log Message:
> -----------
> 2009-10-14 00:16 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbcomp.h
>  * harbour/src/compiler/hbmain.c
>  * harbour/src/compiler/complex.c
>  * harbour/src/compiler/harbour.y
>  * harbour/src/compiler/harbour.yyc
>    % disable grammar parser when -sm switch is used
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/include/hbcomp.h
>    trunk/harbour/src/compiler/complex.c
>    trunk/harbour/src/compiler/harbour.y
>    trunk/harbour/src/compiler/harbour.yyc
>    trunk/harbour/src/compiler/hbmain.c
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at users.sourceforge.net  Tue Oct 13 19:04:06 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Oct 13 19:04:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12702] trunk/harbour
Message-ID: <E1MxqPW-0005gR-FP@dn4whf1.ch3.sourceforge.com>

Revision: 12702
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12702&view=rev
Author:   druzus
Date:     2009-10-13 23:04:05 +0000 (Tue, 13 Oct 2009)

Log Message:
-----------
2009-10-14 01:03 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/compiler/cmdcheck.c
    * minor formatting

  * harbour/src/compiler/complex.c
    % disabled lexer when -sm is used with -m switch.
      In Harbour compiler lexer is only simple translator between PP and
      grammar parser tokens so the overhead is rather small anyhow it
      eliminates executing some unnecessary code.
      If -sm switch is used then we need lexer to detect files included by
      statements like:
         DO <file> [WITH ... ]
         _procReq_( <file> )
         _procReq_( <file> + <ext> )
      -m switch disable including such files so we can fully eliminate
      lexer and preprocess PP tokens directly in a loop.
      Now the cost of -sm switch is reduced to the PP cost plus some
      minor static overhead.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/compiler/cmdcheck.c
    trunk/harbour/src/compiler/complex.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Oct 13 19:09:02 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Oct 13 19:09:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12701] trunk/harbour
In-Reply-To: <08DFE3A5-B942-4ADC-9DDC-177B6D563F1E@syenar.hu>
References: <E1MxpfT-0004he-UU@dn4whf1.ch3.sourceforge.com>
	<08DFE3A5-B942-4ADC-9DDC-177B6D563F1E@syenar.hu>
Message-ID: <20091013230902.GA24379@uran.home.aster.pl>

On Wed, 14 Oct 2009, Szak?ts Viktor wrote:
> Thank you. You read my mind :)

:-)
Please also look at next commit.

If hbmk2 uses all harbour compiler parameters set by user also with
-sm switch (does it?) then passing -m to hbmk2 should give some additional
small improvement.
In practice it finish optimizations for -sm which can be done at compiler
level.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Oct 13 19:37:45 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Oct 13 19:37:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12701] trunk/harbour
In-Reply-To: <20091013230902.GA24379@uran.home.aster.pl>
References: <E1MxpfT-0004he-UU@dn4whf1.ch3.sourceforge.com>
	<08DFE3A5-B942-4ADC-9DDC-177B6D563F1E@syenar.hu>
	<20091013230902.GA24379@uran.home.aster.pl>
Message-ID: <E470A1C6-3A76-4F06-99DD-2F47B12AEAF9@syenar.hu>

> On Wed, 14 Oct 2009, Szak?ts Viktor wrote:
>> Thank you. You read my mind :)
>
> :-)
> Please also look at next commit.
>
> If hbmk2 uses all harbour compiler parameters set by user also with
> -sm switch (does it?) then passing -m to hbmk2 should give some  
> additional

Yes, it does.

> small improvement.
> In practice it finish optimizations for -sm which can be done at  
> compiler
> level.

Even greater! I've added -m to my local projects, now it makes
sense. After that I just did two quick tests with -head=real option
and without it, and it came up a little bit slower then default
mode: 23.67 secs vs. 20.11 secs. Not bad result at all. This was
tested on a host share from XP64 VM.

Maybe it could be further reduced if hbmk2 would make only one
compiler call with all modules in one pass.

This way it could even be possible to optimize parsing by
skipping files which had already been traversed once. (it is done
this way in hbmk2 default mode)

Brgds,
Viktor

From bruno.luciani at gmail.com  Tue Oct 13 19:56:43 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Oct 13 19:56:49 2009
Subject: [Harbour] Using RDD CDX
Message-ID: <133778360910131656se0d9c86o42abeaf4d0256006@mail.gmail.com>

I need to know , how is the correct way to iniate RDD CDX
in windows and in linux

I have some problems using it and may be is the way that I use



thanks in advance

Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091013/d783a500/attachment-0001.html
From harbour.01 at syenar.hu  Tue Oct 13 19:58:30 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Oct 13 19:58:41 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4AD4E5F2.7070303@adinet.com.uy>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>	<4ACF18B7.5030601@adinet.com.uy>	<4ACF1EA8.9010205@gmail.com>	<4ACF22EC.5050400@adinet.com.uy>	<4ACF55F3.1080708@gmail.com>	<4AD05700.7050502@adinet.com.uy>	<4AD0BCC4.6030807@gmail.com>
	<4AD0C3AD.5030706@gmail.com>	<4AD4DEA0.5070300@adinet.com.uy>
	<38EE09BE-0A77-494A-AA25-8857A9BA8EAB@syenar.hu>
	<4AD4E5F2.7070303@adinet.com.uy>
Message-ID: <3DB27711-E433-4363-8C6D-FF5EB3AC46B3@syenar.hu>

Hi Maurizio,

Could you post the Clipper versions and NATSORT modules
versions you used for reference? These lines are missing
from CPINFO output.

Brgds,
Viktor

On 2009 Oct 13, at 22:41, Maurizio Faccio adinet wrote:

> Ok I send the zipped patch
>
> I do not find the section 13 in INSTALL
>
> THANKS
>
>
> Viktor Szak?ts escribi?:
>> Hi Maurizio,
>>
>> Please post any patches, source files, etc, zipped and attached.
>>
>> In some mailers (like Apple Mail) such mails like this will
>> flow text attachments directly into mail body, so it's impossible
>> to extract them without spending valuable time on reformatting
>> them manually.
>>
>> Also see section 13 in INSTALL.
>>
>> Brgds,
>> Viktor
>>
>> On 2009 Oct 13, at 22:10, Maurizio Faccio adinet wrote:
>>
>>> I've tried the suggestion that Xavi proposed, but it produces a  
>>> bad conversion.
>>> 1- Changing the es850C as proposed by CPINFO.
>>> 2- Changing cdpapi as XAVI propose and (1). It produce UPPER(?)-> B
>>> 3- original cdpapi with the following change in de es850c as  
>>> detailed in the CPINFO.txt.
>>>
>>> I guess that the last works fine, i've tried with the program that  
>>> send I you previously and it produce the same result in clipper  
>>> and harbour ,no difference between both programs.
>>> (OPENFILE and CLOSEFILE, are User defined functions I have wrote  
>>> that helps me opening and closing files, change them to DBUSEAREA  
>>> and DBCLOSEAREA)
>>>
>>> I will test more this solution.
>>>
>>>
>>> Thanks
>>> Maurizio Faccio
>>>
>>>
>>>
>>> Xavi escribi?:
>>>> Sorry, bad typo in post patch. I just change.
>>>>
>>>> <------------- cdpapi.c(398) ----------------------->
>>>>   if( cdpage->s_upper[il] == cdpage->s_lower[il] ) cdpage->s_upper 
>>>> [il] = *ptrUpper;
>>>>   if( cdpage->s_upper[iu] == cdpage->s_lower[iu] ) cdpage->s_lower 
>>>> [iu] = *ptrLower;
>>>> <---------------------------------------------------->
>>>>
>>>
>>>
>>> 10/13/09 15:05:42 Windows XP 5.1.2600 Service Pack 3 Harbour  
>>> 2.0.0beta1 (Rev. 11287)
>>> Character encoding: ES850C             850C WITHOUT CHANGING CDPAPI
>>> ==================================================
>>> number of upper and lower characters is different
>>> letters are not sorted continuously
>>> Warning: irregular CP which needs special definition in Harbour
>>> upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
>>> lower: "a bcde?fghi?jklmn?o?pqrstu?vwxy?z???"
>>> ==================================================
>>>
>>> 10/13/09 17:12:47 Windows XP 5.1.2600 Service Pack 3 Harbour  
>>> 2.0.0beta1 (Rev. 11287)
>>> Character encoding: ES850C          XAVI proposed
>>> ==================================================
>>> character '?' (132:A L ) is the same as upper and lower
>>> character '?' (134:A L ) is the same as upper and lower
>>> character '?' (148:A L ) is the same as upper and lower
>>> number of upper and lower characters is different
>>> letters are not sorted continuously
>>> Warning: irregular CP which needs special definition in Harbour
>>> upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
>>> lower: "a bcde?fghi?jklmn?o?pqrstu?vwxyz????"
>>> ==================================================
>>>
>>>
>>> 10/13/09 17:34:30 Windows XP 5.1.2600 Service Pack 3 Harbour  
>>> 2.0.0beta1 (Rev. 11287)
>>> Character encoding: ES850C
>>> ==================================================
>>> number of upper and lower characters is different
>>> letters are not sorted continuously
>>> Warning: irregular CP which needs special definition in Harbour
>>> upper: "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???"
>>> lower: " abcde?fgh?ijklmn??opqrst?uvwxy?z???"
>>> ==================================================
>>>
>>> New es850c:
>>>
>>> static HB_CODEPAGE s_codepage = { "ES850C",
>>>   HB_CPID_850, HB_UNITB_850, NUMBER_OF_CHARACTERS,
>>>   "AABCDE?FGHIIJKLMN?OOPQRSTUUVWXY?Z???",
>>>   " abcde?fgh?ijklmn??opqrst?uvwxy?z???",
>>>   IS_LATIN, ACCENTED_EQUAL, ACCENTED_INTERLEAVED, 0, 0, NULL,  
>>> NULL, NULL, NULL, 0, NULL };
>>>
>>> /*
>>> * $Id: cpes850c.c 10194 2009-02-06 19:03:27Z vszakats $
>>> */
>>>
>>> /*
>>> * Harbour Project source code:
>>> * National Collation Support Module (ES850C - Spanish Clipper  
>>> compatible)
>>> *
>>> * Copyright 2002 Alexander S.Kresin <alex@belacy.belgorod.su>
>>> * www - http://www.harbour-project.org
>>> * Spanish MS-DOS support by Antonio Linares <alinares@fivetechsoft.com 
>>> >
>>> *
>>> * This program is free software; you can redistribute it and/or  
>>> modify
>>> * it under the terms of the GNU General Public License as  
>>> published by
>>> * the Free Software Foundation; either version 2, or (at your  
>>> option)
>>> * any later version.
>>> *
>>> * This program is distributed in the hope that it will be useful,
>>> * but WITHOUT ANY WARRANTY; without even the implied warranty of
>>> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
>>> * GNU General Public License for more details.
>>> *
>>> * You should have received a copy of the GNU General Public License
>>> * along with this software; see the file COPYING.  If not, write to
>>> * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
>>> * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/ 
>>> ).
>>> *
>>> * As a special exception, the Harbour Project gives permission for
>>> * additional uses of the text contained in its release of Harbour.
>>> *
>>> * The exception is that, if you link the Harbour libraries with  
>>> other
>>> * files to produce an executable, this does not by itself cause the
>>> * resulting executable to be covered by the GNU General Public  
>>> License.
>>> * Your use of that executable is in no way restricted on account of
>>> * linking the Harbour library code into it.
>>> *
>>> * This exception does not however invalidate any other reasons why
>>> * the executable file might be covered by the GNU General Public  
>>> License.
>>> *
>>> * This exception applies only to the code released by the Harbour
>>> * Project under the name Harbour.  If you copy code from other
>>> * Harbour Project or Free Software Foundation releases into a copy  
>>> of
>>> * Harbour, as the General Public License permits, the exception does
>>> * not apply to the code that you add in this way.  To avoid  
>>> misleading
>>> * anyone as to the status of such modified files, you must delete
>>> * this exception notice from them.
>>> *
>>> * If you write modifications of your own for Harbour, it is your  
>>> choice
>>> * whether to permit this exception to apply to your modifications.
>>> * If you do not wish that, delete this exception notice.
>>> *
>>> */
>>>
>>> /* Language name: Spanish */
>>> /* ISO language code (2 chars): ES */
>>> /* Codepage: 850 */
>>>
>>> #include "hbapi.h"
>>> #include "hbapicdp.h"
>>>
>>> #define NUMBER_OF_CHARACTERS  33    /* The number of single  
>>> characters in the
>>>                                      alphabet, two-as-one aren't  
>>> considered
>>>                                      here, accented - are  
>>> considered. */
>>> #define IS_LATIN               1    /* Should be 1, if the  
>>> national alphabet
>>>                                      is based on Latin */
>>> #define ACCENTED_EQUAL         0    /* Should be 1, if accented  
>>> character
>>>                                      has the same weight as  
>>> appropriate
>>>                                      unaccented. */
>>> #define ACCENTED_INTERLEAVED   0    /* Should be 1, if accented  
>>> characters
>>>                                      sort after their unaccented  
>>> counterparts
>>>                                      only if the unaccented  
>>> versions of all
>>>                                      characters being compared are  
>>> the same
>>>                                      ( interleaving ) */
>>>
>>> /* If ACCENTED_EQUAL or ACCENTED_INTERLEAVED is 1, you need to  
>>> mark the
>>>  accented characters with the symbol '~' before each of them, for  
>>> example:
>>>     a~_
>>>  If there is two-character sequence, which is considered as one,  
>>> it should
>>>  be marked with '.' before and after it, for example:
>>>     ... h.ch.i ...
>>>
>>>  The Upper case string and the Lower case string should be  
>>> absolutely the
>>>  same excepting the characters case, of course.
>>> */
>>>
>>> static HB_CODEPAGE s_codepage = { "ES850C",
>>>   HB_CPID_850, HB_UNITB_850, NUMBER_OF_CHARACTERS,
>>>   "AABCDE?FGHIIJKLMN?OOPQRSTUUVWXY?Z???",
>>>   " abcde?fgh?ijklmn??opqrst?uvwxy?z???",
>>>   IS_LATIN, ACCENTED_EQUAL, ACCENTED_INTERLEAVED, 0, 0, NULL,  
>>> NULL, NULL, NULL, 0, NULL };
>>>
>>> /*static HB_CODEPAGE s_codepage = { "ES850C",
>>>   HB_CPID_850, HB_UNITB_850, NUMBER_OF_CHARACTERS,
>>>   "ABCDE?FGHIJKLMN?OPQRSTUVWXY?Z???",
>>>   "a bcde?fghi?jklmn?o?pqrstu?vwxy?z???",
>>>   IS_LATIN, ACCENTED_EQUAL, ACCENTED_INTERLEAVED, 0, 0, NULL,  
>>> NULL, NULL, NULL, 0, NULL };*/
>>>
>>> HB_CODEPAGE_INIT( ES850C )
>>>
>>> #if defined( HB_PRAGMA_STARTUP )
>>>  #pragma startup hb_codepage_Init_ES850C
>>> #elif defined( HB_MSC_STARTUP )
>>>  #if defined( HB_OS_WIN_64 )
>>>     #pragma section( HB_MSC_START_SEGMENT, long, read )
>>>  #endif
>>>  #pragma data_seg( HB_MSC_START_SEGMENT )
>>>  static HB_$INITSYM hb_vm_auto_hb_codepage_Init_ES850C =  
>>> hb_codepage_Init_ES850C;
>>>  #pragma data_seg()
>>> #endif
>>> REQUEST HB_LANG_ES
>>> REQUEST HB_CODEPAGE_ES850C
>>>
>>> function main()
>>>
>>> HB_SETCODEPAGE('ES850C')
>>> HB_LANGSELECT('ES')
>>>
>>>
>>> OPENFILE({"nrochar"},.t.,.t.)
>>> SELECT("nrochar")
>>> DBGOTOP()
>>> while !eof()
>>>      bloquea("R")
>>>      FIELD->HRBchar:=CHR(nronro)
>>>      FIELD->HRBupper:=UPPER(CHR(nronro))
>>>      FIELD->HRBlower:=LOWER(CHR(nronro))
>>>     FIELD->HRBupnro:=ASC(UPPER(CHR(nronro)))
>>>      FIELD->HRBLOnro:=ASC(LOWER(CHR(nronro)))
>>>      BLOQUEA()
>>>      DBSKIP()
>>> ENDDO
>>> CLOSEFILE({"NROCHAR"})
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
> <Patch es850c.zip>_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Oct 13 19:59:52 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Oct 13 20:00:00 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <3DB27711-E433-4363-8C6D-FF5EB3AC46B3@syenar.hu>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>	<4ACF18B7.5030601@adinet.com.uy>	<4ACF1EA8.9010205@gmail.com>	<4ACF22EC.5050400@adinet.com.uy>	<4ACF55F3.1080708@gmail.com>	<4AD05700.7050502@adinet.com.uy>	<4AD0BCC4.6030807@gmail.com>
	<4AD0C3AD.5030706@gmail.com>	<4AD4DEA0.5070300@adinet.com.uy>
	<38EE09BE-0A77-494A-AA25-8857A9BA8EAB@syenar.hu>
	<4AD4E5F2.7070303@adinet.com.uy>
	<3DB27711-E433-4363-8C6D-FF5EB3AC46B3@syenar.hu>
Message-ID: <FCCD108A-669E-4DAE-9A59-DF29E6B86CF1@syenar.hu>


On 2009 Oct 14, at 01:58, Viktor Szak?ts wrote:

> Hi Maurizio,
>
> Could you post the Clipper versions and NATSORT modules
> versions you used for reference? These lines are missing
> from CPINFO output.

[ sry, not missing: these the Harbour output only. ]


From harbour.01 at syenar.hu  Tue Oct 13 20:04:26 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Oct 13 20:04:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12701] trunk/harbour
In-Reply-To: <E470A1C6-3A76-4F06-99DD-2F47B12AEAF9@syenar.hu>
References: <E1MxpfT-0004he-UU@dn4whf1.ch3.sourceforge.com>
	<08DFE3A5-B942-4ADC-9DDC-177B6D563F1E@syenar.hu>
	<20091013230902.GA24379@uran.home.aster.pl>
	<E470A1C6-3A76-4F06-99DD-2F47B12AEAF9@syenar.hu>
Message-ID: <B6CFB23E-8D5B-49D0-995B-B1C4AB475667@syenar.hu>

> This way it could even be possible to optimize parsing by
> skipping files which had already been traversed once. (it is done
> this way in hbmk2 default mode)

I'm afraid this latter cannot be done using PP method.
Sorry for the noise.

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Tue Oct 13 20:53:04 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Oct 13 20:53:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12703] trunk/harbour
Message-ID: <E1Mxs6y-0007Vk-9C@dn4whf1.ch3.sourceforge.com>

Revision: 12703
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12703&view=rev
Author:   vouchcac
Date:     2009-10-14 00:53:02 +0000 (Wed, 14 Oct 2009)

Log Message:
-----------
2009-10-13 17:46 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/qth/QBitmap.qth
  * contrib/hbqt/qth/QBrush.qth
  * contrib/hbqt/qth/QColor.qth
  * contrib/hbqt/qth/QConicalGradient.qth
  * contrib/hbqt/qth/QCursor.qth
  * contrib/hbqt/qth/QDateTime.qth
  * contrib/hbqt/qth/QDir.qth
  * contrib/hbqt/qth/QDragMoveEvent.qth
  * contrib/hbqt/qth/QDropEvent.qth
  * contrib/hbqt/qth/QEvent.qth
  * contrib/hbqt/qth/QEventLoop.qth
  * contrib/hbqt/qth/QFont.qth
  * contrib/hbqt/qth/QFontDatabase.qth
  * contrib/hbqt/qth/QFontInfo.qth
  * contrib/hbqt/qth/QFontMetrics.qth
  * contrib/hbqt/qth/QFontMetricsF.qth
  * contrib/hbqt/qth/QIcon.qth
  * contrib/hbqt/qth/QImage.qth
  * contrib/hbqt/qth/QImageReader.qth
  * contrib/hbqt/qth/QImageWriter.qth
  * contrib/hbqt/qth/QInputEvent.qth
  * contrib/hbqt/qth/QKeySequence.qth
  * contrib/hbqt/qth/QLatin1Char.qth
  * contrib/hbqt/qth/QLatin1String.qth
  * contrib/hbqt/qth/QLine.qth
  * contrib/hbqt/qth/QLinearGradient.qth
  * contrib/hbqt/qth/QList.qth
  * contrib/hbqt/qth/QListWidgetItem.qth
  * contrib/hbqt/qth/QModelIndex.qth
  * contrib/hbqt/qth/QMouseEvent.qth
  * contrib/hbqt/qth/QPainter.qth
  * contrib/hbqt/qth/QPaintEvent.qth
  * contrib/hbqt/qth/QPalette.qth
  * contrib/hbqt/qth/QPen.qth
  * contrib/hbqt/qth/QPicture.qth
  * contrib/hbqt/qth/QPixmap.qth
  * contrib/hbqt/qth/QPoint.qth
  * contrib/hbqt/qth/QPointF.qth
  * contrib/hbqt/qth/QPrinter.qth
  * contrib/hbqt/qth/QRadialGradient.qth
  * contrib/hbqt/qth/QRect.qth
  * contrib/hbqt/qth/QRectF.qth
  * contrib/hbqt/qth/QRegion.qth
  * contrib/hbqt/qth/QResource.qth
  * contrib/hbqt/qth/QSize.qth
  * contrib/hbqt/qth/QSizeF.qth
  * contrib/hbqt/qth/QSizePolicy.qth
  * contrib/hbqt/qth/QStandardItem.qth
  * contrib/hbqt/qth/QStringList.qth
  * contrib/hbqt/qth/QStyleFactory.qth
  * contrib/hbqt/qth/QStyleOption.qth
  * contrib/hbqt/qth/QStyleOptionButton.qth
  * contrib/hbqt/qth/QStyleOptionComboBox.qth
  * contrib/hbqt/qth/QStyleOptionComplex.qth
  * contrib/hbqt/qth/QStyleOptionDockWidget.qth
  * contrib/hbqt/qth/QStyleOptionFocusRect.qth
  * contrib/hbqt/qth/QStyleOptionFrame.qth
  * contrib/hbqt/qth/QStyleOptionGroupBox.qth
  * contrib/hbqt/qth/QStyleOptionHeader.qth
  * contrib/hbqt/qth/QStyleOptionMenuItem.qth
  * contrib/hbqt/qth/QStyleOptionProgressBar.qth
  * contrib/hbqt/qth/QStyleOptionSizeGrip.qth
  * contrib/hbqt/qth/QStyleOptionSlider.qth
  * contrib/hbqt/qth/QStyleOptionSpinBox.qth
  * contrib/hbqt/qth/QStyleOptionTab.qth
  * contrib/hbqt/qth/QStyleOptionTabBarBase.qth
  * contrib/hbqt/qth/QStyleOptionTabWidgetFrame.qth
  * contrib/hbqt/qth/QStyleOptionTitleBar.qth
  * contrib/hbqt/qth/QStyleOptionToolBar.qth
  * contrib/hbqt/qth/QStyleOptionToolBox.qth
  * contrib/hbqt/qth/QStyleOptionToolButton.qth
  * contrib/hbqt/qth/QStyleOptionViewItem.qth
  * contrib/hbqt/qth/QStylePainter.qth
  * contrib/hbqt/qth/QTableWidgetItem.qth
  * contrib/hbqt/qth/QTextBlock.qth
  * contrib/hbqt/qth/QTextBlockFormat.qth
  * contrib/hbqt/qth/QTextBoundaryFinder.qth
  * contrib/hbqt/qth/QTextCharFormat.qth
  * contrib/hbqt/qth/QTextCursor.qth
  * contrib/hbqt/qth/QTextDecoder.qth
  * contrib/hbqt/qth/QTextDocumentFragment.qth
  * contrib/hbqt/qth/QTextDocumentWriter.qth
  * contrib/hbqt/qth/QTextEncoder.qth
  * contrib/hbqt/qth/QTextFormat.qth
  * contrib/hbqt/qth/QTextFragment.qth
  * contrib/hbqt/qth/QTextFrameFormat.qth
  * contrib/hbqt/qth/QTextImageFormat.qth
  * contrib/hbqt/qth/QTextInlineObject.qth
  * contrib/hbqt/qth/QTextItem.qth
  * contrib/hbqt/qth/QTextLayout.qth
  * contrib/hbqt/qth/QTextLength.qth
  * contrib/hbqt/qth/QTextLine.qth
  * contrib/hbqt/qth/QTextStream.qth
  * contrib/hbqt/qth/QTreeWidgetItem.qth
  * contrib/hbqt/qth/QUrl.qth
  * contrib/hbqt/qth/QVariant.qth
  * contrib/hbqt/qth/QWebHistoryItem.qth
  * contrib/hbqt/qth/QWebHitTestResult.qth
  * contrib/hbqt/qth/QWebSecurityOrigin.qth
  * contrib/hbqt/qth/QWidgetItem.qth
    ! One more round of "REFORMS".

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/qth/QBitmap.qth
    trunk/harbour/contrib/hbqt/qth/QBrush.qth
    trunk/harbour/contrib/hbqt/qth/QColor.qth
    trunk/harbour/contrib/hbqt/qth/QConicalGradient.qth
    trunk/harbour/contrib/hbqt/qth/QCursor.qth
    trunk/harbour/contrib/hbqt/qth/QDateTime.qth
    trunk/harbour/contrib/hbqt/qth/QDir.qth
    trunk/harbour/contrib/hbqt/qth/QDragMoveEvent.qth
    trunk/harbour/contrib/hbqt/qth/QDropEvent.qth
    trunk/harbour/contrib/hbqt/qth/QEvent.qth
    trunk/harbour/contrib/hbqt/qth/QEventLoop.qth
    trunk/harbour/contrib/hbqt/qth/QFont.qth
    trunk/harbour/contrib/hbqt/qth/QFontDatabase.qth
    trunk/harbour/contrib/hbqt/qth/QFontInfo.qth
    trunk/harbour/contrib/hbqt/qth/QFontMetrics.qth
    trunk/harbour/contrib/hbqt/qth/QFontMetricsF.qth
    trunk/harbour/contrib/hbqt/qth/QIcon.qth
    trunk/harbour/contrib/hbqt/qth/QImage.qth
    trunk/harbour/contrib/hbqt/qth/QImageReader.qth
    trunk/harbour/contrib/hbqt/qth/QImageWriter.qth
    trunk/harbour/contrib/hbqt/qth/QInputEvent.qth
    trunk/harbour/contrib/hbqt/qth/QKeySequence.qth
    trunk/harbour/contrib/hbqt/qth/QLatin1Char.qth
    trunk/harbour/contrib/hbqt/qth/QLatin1String.qth
    trunk/harbour/contrib/hbqt/qth/QLine.qth
    trunk/harbour/contrib/hbqt/qth/QLinearGradient.qth
    trunk/harbour/contrib/hbqt/qth/QList.qth
    trunk/harbour/contrib/hbqt/qth/QListWidgetItem.qth
    trunk/harbour/contrib/hbqt/qth/QModelIndex.qth
    trunk/harbour/contrib/hbqt/qth/QMouseEvent.qth
    trunk/harbour/contrib/hbqt/qth/QPaintEvent.qth
    trunk/harbour/contrib/hbqt/qth/QPainter.qth
    trunk/harbour/contrib/hbqt/qth/QPalette.qth
    trunk/harbour/contrib/hbqt/qth/QPen.qth
    trunk/harbour/contrib/hbqt/qth/QPicture.qth
    trunk/harbour/contrib/hbqt/qth/QPixmap.qth
    trunk/harbour/contrib/hbqt/qth/QPoint.qth
    trunk/harbour/contrib/hbqt/qth/QPointF.qth
    trunk/harbour/contrib/hbqt/qth/QPrinter.qth
    trunk/harbour/contrib/hbqt/qth/QRadialGradient.qth
    trunk/harbour/contrib/hbqt/qth/QRect.qth
    trunk/harbour/contrib/hbqt/qth/QRectF.qth
    trunk/harbour/contrib/hbqt/qth/QRegion.qth
    trunk/harbour/contrib/hbqt/qth/QResource.qth
    trunk/harbour/contrib/hbqt/qth/QSize.qth
    trunk/harbour/contrib/hbqt/qth/QSizeF.qth
    trunk/harbour/contrib/hbqt/qth/QSizePolicy.qth
    trunk/harbour/contrib/hbqt/qth/QStandardItem.qth
    trunk/harbour/contrib/hbqt/qth/QStringList.qth
    trunk/harbour/contrib/hbqt/qth/QStyleFactory.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOption.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionButton.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionComboBox.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionComplex.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionDockWidget.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionFocusRect.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionFrame.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionGroupBox.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionHeader.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionMenuItem.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionProgressBar.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionSizeGrip.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionSlider.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionSpinBox.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionTab.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionTabBarBase.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionTabWidgetFrame.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionTitleBar.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionToolBar.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionToolBox.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionToolButton.qth
    trunk/harbour/contrib/hbqt/qth/QStyleOptionViewItem.qth
    trunk/harbour/contrib/hbqt/qth/QStylePainter.qth
    trunk/harbour/contrib/hbqt/qth/QTableWidgetItem.qth
    trunk/harbour/contrib/hbqt/qth/QTextBlock.qth
    trunk/harbour/contrib/hbqt/qth/QTextBlockFormat.qth
    trunk/harbour/contrib/hbqt/qth/QTextBoundaryFinder.qth
    trunk/harbour/contrib/hbqt/qth/QTextCharFormat.qth
    trunk/harbour/contrib/hbqt/qth/QTextCursor.qth
    trunk/harbour/contrib/hbqt/qth/QTextDecoder.qth
    trunk/harbour/contrib/hbqt/qth/QTextDocumentFragment.qth
    trunk/harbour/contrib/hbqt/qth/QTextDocumentWriter.qth
    trunk/harbour/contrib/hbqt/qth/QTextEncoder.qth
    trunk/harbour/contrib/hbqt/qth/QTextFormat.qth
    trunk/harbour/contrib/hbqt/qth/QTextFragment.qth
    trunk/harbour/contrib/hbqt/qth/QTextFrameFormat.qth
    trunk/harbour/contrib/hbqt/qth/QTextImageFormat.qth
    trunk/harbour/contrib/hbqt/qth/QTextInlineObject.qth
    trunk/harbour/contrib/hbqt/qth/QTextItem.qth
    trunk/harbour/contrib/hbqt/qth/QTextLayout.qth
    trunk/harbour/contrib/hbqt/qth/QTextLength.qth
    trunk/harbour/contrib/hbqt/qth/QTextLine.qth
    trunk/harbour/contrib/hbqt/qth/QTextStream.qth
    trunk/harbour/contrib/hbqt/qth/QTreeWidgetItem.qth
    trunk/harbour/contrib/hbqt/qth/QUrl.qth
    trunk/harbour/contrib/hbqt/qth/QVariant.qth
    trunk/harbour/contrib/hbqt/qth/QWebHistoryItem.qth
    trunk/harbour/contrib/hbqt/qth/QWebHitTestResult.qth
    trunk/harbour/contrib/hbqt/qth/QWebSecurityOrigin.qth
    trunk/harbour/contrib/hbqt/qth/QWidgetItem.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From philb at philb.us  Tue Oct 13 22:10:43 2009
From: philb at philb.us (Phil Barnett)
Date: Tue Oct 13 22:10:52 2009
Subject: [Harbour] Re: Harbour Forum and Wiki.
In-Reply-To: <havku5$l0v$1@ger.gmane.org>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com>
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
	<4ACF6FD5.4010706@gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>
	<4AD30FF7.6070308@gmail.com>
	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>
	<4AD31C00.9070107@gmail.com>
	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>
	<4AD33623.3010004@gmail.com>
	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>
	<4AD34565.2000008@gmail.com>
	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>
	<havku5$l0v$1@ger.gmane.org>
Message-ID: <1255486243.2088.506.camel@SunSpot>

On Mon, 2009-10-12 at 14:19 -0200, Angel Pais wrote:

> Maybe here we are having language barriers difficulting communication, 
> but in the experimental HMG 3.0, Roberto have icluded hbmk2 and is using 
> it.
> He is running some tests to report here later the things he finds.
> Roberto has issued 3 versions of HMG in 2 days for his community to test 
> and report back compatibility issues. He is making a big effort to 
> include all tools from latest Harbour.
> Go download it from sourceforge an see for yourself.
> The reason Robertos is including mingw and harbour in the binary package 
> is for practical purpouses and to minimize support to only "stable" 
> versions of all tools involved.

Wouldn't this be better served by creating a script that fetches a
stable version of each product and prividing a place where they can be
downloaded from?

It keeps you from having to customize yet allows you to have a fixed
point to work around.

Then, you can update portions of it as needed.

This is always better served when there are stable versions being
distributed, which is currently the 1.x version of Harbour.

And when 2.x is released, you once again have a stable version to work
with.

With that in mind, would a better solution be to move quickly as
possible to a stable 2.0 Harbour release? This would be good for all
parties involved. Grabbing an unstable version of Harbour to make some
other process stable is very work intensive and counterproductive in the
long run.

From druzus at acn.waw.pl  Tue Oct 13 22:44:40 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Oct 13 22:44:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12699] trunk/harbour
In-Reply-To: <E1MxjgI-0005qp-EX@bj8yhf1.ch3.sourceforge.com>
References: <E1MxjgI-0005qp-EX@bj8yhf1.ch3.sourceforge.com>
Message-ID: <20091014024440.GA749@uran.home.aster.pl>

On Tue, 13 Oct 2009, vszakats@users.sourceforge.net wrote:

Hi,

> 2009-10-13 17:51 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * utils/hbmk2/hbmk2.pt_BR.po
>   * utils/hbmk2/hbmk2.hu_HU.po
>   * utils/hbmk2/hbmk2.prg
>     + Added support for new dependency checking method which uses 
>       Harbour compiler to find out dependent files in incremental 
>       mode. This of course only works for .prg sources, .c/rc source 
>       dependency checking will continue to use simple method 
>       which looks for '#include "' string.

In GCC builds you can use -M or -MM GCC switches to parse .c files
and generate real dependency list.
Maybe it will be good to add support for it to hbmk2?

best regards,
Przemek
From amigosam at adinet.com.uy  Tue Oct 13 23:47:44 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Tue Oct 13 23:48:06 2009
Subject: [Harbour] Re: Harbour Forum and Wiki.
In-Reply-To: <1255486243.2088.506.camel@SunSpot>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com>	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>	<4AD33623.3010004@gmail.com>	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>	<4AD34565.2000008@gmail.com>	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>	<havku5$l0v$1@ger.gmane.org>
	<1255486243.2088.506.camel@SunSpot>
Message-ID: <hb3hkj$j61$1@ger.gmane.org>

Yes of course Phil

This problem arose form success.
Programmers want to use all new toys Harbour is having right now, and 
this is putting pressure on products like HMG.
So let's not count this a a difficulty but a pain derived from growth.
Additionally more people testing Harbour on different scenarios only 
contributes to a more rich featured and solid compiler.

About scripts or links I don't know, they tend to change and/or 
dissapear over time.

Regards
Angel


Barnett escribi?:
> On Mon, 2009-10-12 at 14:19 -0200, Angel Pais wrote:
> 
> 
> Wouldn't this be better served by creating a script that fetches a
> stable version of each product and prividing a place where they can be
> downloaded from?
> 
> It keeps you from having to customize yet allows you to have a fixed
> point to work around.
> 
> Then, you can update portions of it as needed.
> 
> This is always better served when there are stable versions being
> distributed, which is currently the 1.x version of Harbour.
> 
> And when 2.x is released, you once again have a stable version to work
> with.
> 
> With that in mind, would a better solution be to move quickly as
> possible to a stable 2.0 Harbour release? This would be good for all
> parties involved. Grabbing an unstable version of Harbour to make some
> other process stable is very work intensive and counterproductive in the
> long run.
> 

From lorenzo.fiorini at gmail.com  Wed Oct 14 01:52:00 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Oct 14 01:52:06 2009
Subject: [Harbour] About the new -sm option
In-Reply-To: <20091013221527.GA1699@uran.home.aster.pl>
References: <9257026e0910131054i6024ad8aq25cdc656802f5db0@mail.gmail.com>
	<20091013221527.GA1699@uran.home.aster.pl>
Message-ID: <9257026e0910132252m10f50e42x6ff1eeb9ded1a4e7@mail.gmail.com>

On Wed, Oct 14, 2009 at 12:15 AM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> ? #!/bin/sh
> ? echo -n "${1%.prg}.o: " > "${1%.prg}.d"
> ? hbcmp -n2 -sm -q2 "$1" >> "${1%.prg}.d"

What about integrate it with hbcmp itself?

This is a typical rules file I use in a hrb+js+xml app where prg
includes many js and xml using streaminclude:

...
PRGFILES=$(wildcard $(ROOT)*.prg)
PPXFILES=$(patsubst %.prg,%.hrb,$(PRGFILES))
HRBFILES=$(subst $(ROOT),,$(PPXFILES))

-include $(HRBFILES:.hrb=.d)

%.hrb: $(ROOT)%.prg
	hbcmp -km -w3 -es0 -q0 -gh -n -D__hrb__ -I../dbl/ $?

if hbcmp would accepts -sM or -sMM and would produce a "target:
dependeces" it would great.

This will also be in sync with "standard" make like in:

OBJS := foo.o bar.o

# link
proggie: $(OBJS)
	gcc $(OBJS) -o proggie

# pull in dependency info for *existing* .o files
-include $(OBJS:.o=.d)

# compile and generate dependency info
%.o: %.c
	gcc -c $(CFLAGS) $*.c -o $*.o
	gcc -MM $(CFLAGS) $*.c > $*.d

Just an idea.

best regards,
Lorenzo
From druzus at acn.waw.pl  Wed Oct 14 03:52:15 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Oct 14 03:52:24 2009
Subject: [Harbour] About the new -sm option
In-Reply-To: <9257026e0910132252m10f50e42x6ff1eeb9ded1a4e7@mail.gmail.com>
References: <9257026e0910131054i6024ad8aq25cdc656802f5db0@mail.gmail.com>
	<20091013221527.GA1699@uran.home.aster.pl>
	<9257026e0910132252m10f50e42x6ff1eeb9ded1a4e7@mail.gmail.com>
Message-ID: <20091014075215.GA13588@uran.home.aster.pl>

On Wed, 14 Oct 2009, Lorenzo Fiorini wrote:
> > ? #!/bin/sh
> > ? echo -n "${1%.prg}.o: " > "${1%.prg}.d"
> > ? hbcmp -n2 -sm -q2 "$1" >> "${1%.prg}.d"
> What about integrate it with hbcmp itself?
> This is a typical rules file I use in a hrb+js+xml app where prg
> includes many js and xml using streaminclude:
> ...
> PRGFILES=$(wildcard $(ROOT)*.prg)
> PPXFILES=$(patsubst %.prg,%.hrb,$(PRGFILES))
> HRBFILES=$(subst $(ROOT),,$(PPXFILES))
> -include $(HRBFILES:.hrb=.d)
> %.hrb: $(ROOT)%.prg
> 	hbcmp -km -w3 -es0 -q0 -gh -n -D__hrb__ -I../dbl/ $?
> 
> if hbcmp would accepts -sM or -sMM and would produce a "target:
> dependeces" it would great.
> This will also be in sync with "standard" make like in:
> 
> OBJS := foo.o bar.o
> # link
> proggie: $(OBJS)
> 	gcc $(OBJS) -o proggie
> # pull in dependency info for *existing* .o files
> -include $(OBJS:.o=.d)
> # compile and generate dependency info
> %.o: %.c
> 	gcc -c $(CFLAGS) $*.c -o $*.o
> 	gcc -MM $(CFLAGS) $*.c > $*.d
> Just an idea.

You do not need any new hbcmp script switches to replicate such
behavior, i.e.:

PRGFLAGS=-km -w3 -es0 -q0 -gh -n -D__hrb__ -I../dbl/

%.hrb: $(ROOT)%.prg
	hbcmp $(PRGFLAGS) $?
	( echo $@ ; hbcmp $(PRGFLAGS) -q2 -sm $? ) > $(?:.prg=.d)

best regards,
Przemek
From mbelgrano at deltain.it  Wed Oct 14 04:10:18 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Oct 14 04:10:46 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu>
Message-ID: <609353e70910140110y28cbfadfoc37082be3aa28568@mail.gmail.com>

Hi marek
You have made an interesting question follow my info
i have not an harbour reply but somebody can help, translate
>But I do not know how cam mad build server of web services
	
Web Services can convert your application into a Web-application,
which can publish its function or message to the rest of the world.
basic Web Services platform is XML + HTTP.
SOAP (Simple Object Access Protocol) FOR applications exchange
information over HTTP.
UDDI (Universal Description, Discovery and Integration) a directory
for storing information about web services
WSDL (Web Services Description Language)  XML-based language for
locating and describing Web services.

 example we will use ASP.NET to create a simple Web Service that
converts the temperature from Fahrenheit to Celsius

<%@ WebService Language="VBScript" Class="TempConvert" %>

Imports System
Imports System.Web.Services

Public Class TempConvert :Inherits WebService

<WebMethod()> Public Function FahrenheitToCelsius
(ByVal Fahrenheit As String) As String
  dim fahr
  fahr=trim(replace(Fahrenheit,",","."))
  if fahr="" or IsNumeric(fahr)=false then return "Error"
  return ((((fahr) - 32) / 9) * 5)
end function

<WebMethod()> Public Function CelsiusToFahrenheit
(ByVal Celsius As String) As String
  dim cel
  cel=trim(replace(Celsius,",","."))
  if cel="" or IsNumeric(cel)=false then return "Error"
  return ((((cel) * 9) / 5) + 32)
end function

end class

For microsoft webservice are evolved in WCF
http://msdn.microsoft.com/en-us/library/ms731082.aspx
Simple Web Service using WCF
http://www.codeproject.com/KB/WCF/WCFWebService.aspx

2009/9/25 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>:
>>-----Original Message-----
>>From: ToninhoFWi [mailto:toninhofwi@yahoo.com.br]
>>Sent: Thursday, September 24, 2009 10:46 PM
>>To: harbour@harbour-project.org
>>Subject: [Harbour] Web Services in Harbour
>>
>>Hi ppl,
>>
>>How I do to access web services in Harbour please ?
>
>
>
> Toninho, pls. test this code, it work for my :
>
> // test Web Servicess
> PROCEDURE Main()
> LOCAL oSoapClient := CreateObject( "MSSOAP.SoapClient" )
> Cls
>
> ? 'Test czy typ klienta jest dost?pny :', ValType( oSoapClient)
> oSoapClient:msSoapInit( ?'http://www.dataaccess.com/webservicesserver/textcasing.wso?WSDL')
> ? oSoapClient:InvertStringCase( "lower UPPER" )
>
> InKey( 0)
> RETURN
> // end test
>
> But I do not know how cam mad build server of webservices :(
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Wed Oct 14 04:24:39 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Oct 14 04:24:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12704] trunk/harbour
Message-ID: <E1Mxz9z-0003iV-MM@74yxhf1.ch3.sourceforge.com>

Revision: 12704
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12704&view=rev
Author:   vszakats
Date:     2009-10-14 08:24:38 +0000 (Wed, 14 Oct 2009)

Log Message:
-----------
2009-10-14 10:18 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.pt_BR.po
  * utils/hbmk2/hbmk2.hu_HU.po
  * utils/hbmk2/hbmk2.prg
    * Renamed header parsing mode 'real' to 'native'.
      Looks to be the final.
    ! Fixed minor error in prev: one debug message was always on.
    ! Turn off native .prg header parsing in -xhb and -hb10 operating 
      modes.
    ; TODO: for .prg header parsing use one compiler call instead of 
            one for each .prg.
    ; TODO: with gcc family compilers use 'gcc -MM' mode for header 
            parsing. Probably needs separate control, as (at first) 
            it seems to be much slower than current simple method.

  * src/codepage/cpes850c.c
    ! Updated to be compatible with CA-Cl*pper.
      Submitted by Maurizio Faccio.

  * src/codepage/cpesisoc.c
  * src/codepage/cpeswinc.c
    * Synced with cpes850c.

  * contrib/hbwin/tests/testole.prg
    * Minor cleanups.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/tests/testole.prg
    trunk/harbour/src/codepage/cpes850c.c
    trunk/harbour/src/codepage/cpesisoc.c
    trunk/harbour/src/codepage/cpeswinc.c
    trunk/harbour/utils/hbmk2/hbmk2.hu_HU.po
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Oct 14 04:27:57 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Oct 14 04:28:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12699] trunk/harbour
In-Reply-To: <20091014024440.GA749@uran.home.aster.pl>
References: <E1MxjgI-0005qp-EX@bj8yhf1.ch3.sourceforge.com>
	<20091014024440.GA749@uran.home.aster.pl>
Message-ID: <303EF840-9C7E-4ADB-A721-CC2A76C0D457@syenar.hu>

Hi Przemek,

>> 2009-10-13 17:51 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>  * utils/hbmk2/hbmk2.pt_BR.po
>>  * utils/hbmk2/hbmk2.hu_HU.po
>>  * utils/hbmk2/hbmk2.prg
>>    + Added support for new dependency checking method which uses
>>      Harbour compiler to find out dependent files in incremental
>>      mode. This of course only works for .prg sources, .c/rc source
>>      dependency checking will continue to use simple method
>>      which looks for '#include "' string.
>
> In GCC builds you can use -M or -MM GCC switches to parse .c files
> and generate real dependency list.

Thanks for the tip, I didn't know. -MM is what fits
Harbour, as we're generally not interested in C system
headers for Harbour C modules, -M could also greatly
slow down the evaluation process.

> Maybe it will be good to add support for it to hbmk2?

Yes, could be done. My only concern is parsing speed,
gcc seems to be rather slow here. This means it may need
separate option to toggle.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Wed Oct 14 04:33:08 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Oct 14 04:33:15 2009
Subject: [Harbour] About the new -sm option
In-Reply-To: <20091014075215.GA13588@uran.home.aster.pl>
References: <9257026e0910131054i6024ad8aq25cdc656802f5db0@mail.gmail.com>
	<20091013221527.GA1699@uran.home.aster.pl>
	<9257026e0910132252m10f50e42x6ff1eeb9ded1a4e7@mail.gmail.com>
	<20091014075215.GA13588@uran.home.aster.pl>
Message-ID: <9257026e0910140133y28984997hfcc5a129a0d51f7@mail.gmail.com>

On Wed, Oct 14, 2009 at 9:52 AM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> You do not need any new hbcmp script switches to replicate such
> behavior, i.e.:
>
> PRGFLAGS=-km -w3 -es0 -q0 -gh -n -D__hrb__ -I../dbl/
>
> %.hrb: $(ROOT)%.prg
> ? ? ? ?hbcmp $(PRGFLAGS) $?
> ? ? ? ?( echo $@ ; hbcmp $(PRGFLAGS) -q2 -sm $? ) > $(?:.prg=.d)

Many thanks. I've also tried sth like that but I get:

../hrb/anaedt.d:1: *** missing separator.  Stop.

when I add -include $(DFILES)

.d files are not in the form that can be used directly in make.

best regards,
Lorenzo
From mbelgrano at deltain.it  Wed Oct 14 05:06:02 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Oct 14 05:06:10 2009
Subject: [Harbour] RDDADO on Beta3
In-Reply-To: <609353e70910130153xd204884ibed4eacae981ad6@mail.gmail.com>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com>
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
	<609353e70910120435m2920caabnf984df0e57056821@mail.gmail.com>
	<61d17767307257ff5e7a4981c3f73f29@viaopen.com>
	<609353e70910130153xd204884ibed4eacae981ad6@mail.gmail.com>
Message-ID: <609353e70910140206p4e8fe953q2f8a48a036323dda@mail.gmail.com>

I post Reply of Antonio and wait a reply of Roberto or samebody

can we report extra ole information to better understand ole error?
http://forums.fivetechsupport.com/viewtopic.php?f=3&t=6814&start=165
--------------------------------
Massimo,

In Harbour's OLE implementation, the error value returned in HRESULT
from a Method call is reported as an arguments error, without
providing any extra OLE error information:
CODE: SELECT ALL  EXPAND VIEW

      if( lOleError != S_OK )
         hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME,
HB_ERR_ARGS_BASEPARAMS );


A workaround to get more info about the OLE error is to modify the error block:
CODE: SELECT ALL  EXPAND VIEW

   ErrorBlock( { | o | MsgInfo( WIN_OLEERRORTEXT() ) } )


that way Roberto will be able to get a better feedback about the error


2009/10/13 Massimo Belgrano <mbelgrano@deltain.it>:
> Posted problem and i follow Answer
> http://forums.fivetechsupport.com/viewtopic.php?f=3&t=6814&p=88290#p88290
> i invite everybody interested participate to discussion
>
> 2009/10/13 ?<fmancera@viaopen.com>:
>> Hello everybody,
>>
>> I long work with SQL directly, and that's what I am recommending to others
>> who ask me about ADORDD.
>> I vote to eliminate it of harbor.
>> Anyway Antonio Linares has long held a post in their forums about adordd
>> with a downloadable version.
>> Anyone who wants to use it can go there, sure Antonio is happy to help.
>>
>> http://forums.fivetechsupport.com/viewtopic.php?f=3&t=6814
>>
>> Best Regards,
>>
>> Fernando Mancera
>> www.viaopen.com
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> Massimo Belgrano
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Wed Oct 14 05:49:33 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Oct 14 05:49:40 2009
Subject: [Harbour] RDDADO on Beta3
In-Reply-To: <609353e70910140206p4e8fe953q2f8a48a036323dda@mail.gmail.com>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com>
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
	<609353e70910120435m2920caabnf984df0e57056821@mail.gmail.com>
	<61d17767307257ff5e7a4981c3f73f29@viaopen.com>
	<609353e70910130153xd204884ibed4eacae981ad6@mail.gmail.com>
	<609353e70910140206p4e8fe953q2f8a48a036323dda@mail.gmail.com>
Message-ID: <609353e70910140249w720ec88bu5a12ae42b152cd3@mail.gmail.com>

Reply of Antonio is at
http://forums.fivetechsupport.com/viewtopic.php?p=88375#p88375


-- 
Massimo Belgrano
From jarabal at gmail.com  Wed Oct 14 06:38:42 2009
From: jarabal at gmail.com (Xavi)
Date: Wed Oct 14 06:41:15 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4AD4DEA0.5070300@adinet.com.uy>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>	<4ACF18B7.5030601@adinet.com.uy>	<4ACF1EA8.9010205@gmail.com>	<4ACF22EC.5050400@adinet.com.uy>	<4ACF55F3.1080708@gmail.com>	<4AD05700.7050502@adinet.com.uy>	<4AD0BCC4.6030807@gmail.com>
	<4AD0C3AD.5030706@gmail.com> <4AD4DEA0.5070300@adinet.com.uy>
Message-ID: <4AD5AA32.3010509@gmail.com>

>  2- Changing cdpapi as XAVI propose and (1). It produce UPPER(?)-> B
Sorry, to me it's ok as in clipper.

? '? Upper', Upper( '?' ), 'Lower', Lower( '?' ) // ? Upper A Lower ?

Is it possible you're doing something wrong?
I attached files, please update repositories and check.

-- 
Xavi

-------------- next part --------------
A non-text attachment was scrubbed...
Name: patch_es850c.zip
Type: application/x-zip
Size: 11911 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091014/67c38c51/patch_es850c.bin
From lorenzo.fiorini at gmail.com  Wed Oct 14 06:46:33 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Oct 14 06:46:39 2009
Subject: [Harbour] About the new -sm option
In-Reply-To: <9257026e0910140133y28984997hfcc5a129a0d51f7@mail.gmail.com>
References: <9257026e0910131054i6024ad8aq25cdc656802f5db0@mail.gmail.com>
	<20091013221527.GA1699@uran.home.aster.pl>
	<9257026e0910132252m10f50e42x6ff1eeb9ded1a4e7@mail.gmail.com>
	<20091014075215.GA13588@uran.home.aster.pl>
	<9257026e0910140133y28984997hfcc5a129a0d51f7@mail.gmail.com>
Message-ID: <9257026e0910140346w2ba7b54m27a7190ab9d4d158@mail.gmail.com>

On Wed, Oct 14, 2009 at 10:33 AM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com> wrote:

> .d files are not in the form that can be used directly in make.

Adding -n to echo and replacing $? with $< I got it working.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Wed Oct 14 06:57:06 2009
From: harbour.01 at syenar.hu (=?windows-1252?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct 14 06:57:16 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4AD5AA32.3010509@gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>	<4ACF18B7.5030601@adinet.com.uy>	<4ACF1EA8.9010205@gmail.com>	<4ACF22EC.5050400@adinet.com.uy>	<4ACF55F3.1080708@gmail.com>	<4AD05700.7050502@adinet.com.uy>	<4AD0BCC4.6030807@gmail.com>
	<4AD0C3AD.5030706@gmail.com> <4AD4DEA0.5070300@adinet.com.uy>
	<4AD5AA32.3010509@gmail.com>
Message-ID: <8F0C8AFE-67A1-41C2-8500-38C123C73081@syenar.hu>

Thank you. I'd like to ask Przemek to review these modifications,
as they are also altering the CP engine.

Brgds,
Viktor

On 2009 Oct 14, at 12:38, Xavi wrote:

>> 2- Changing cdpapi as XAVI propose and (1). It produce UPPER(?)-> B
> Sorry, to me it's ok as in clipper.
>
> ? '? Upper', Upper( '?' ), 'Lower', Lower( '?' ) // ? Upper A Lower ?
>
> Is it possible you're doing something wrong?
> I attached files, please update repositories and check.
>
> -- 
> Xavi
>
> <patch_es850c.zip>

From vatzct at polly.com.ua  Wed Oct 14 07:23:38 2009
From: vatzct at polly.com.ua (vatzct)
Date: Wed Oct 14 07:23:34 2009
Subject: [Harbour] build harbour on Deli Linux
Message-ID: <4AD5B4BA.1050301@polly.com.ua>

Hi!

I'm try to build harbour on Deli Linux 0.8 and get this error:

sh-3.2# make
! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
! MAKE: make 3.81 /bin/sh  
! HB_HOST_PLAT: linux (x86)  HB_SHELL: sh
! HB_PLATFORM: linux (x86) (autodetected)
! HB_COMPILER: gcc (autodetected: /usr/bin/)
! Component: 'zlib' found in /usr/include
! Component: 'pcre' found in /usr/include
! Component: 'openssl' found in /usr/include
! Component: 'gpm' found in /usr/include
! Component: 'slang' found in /usr/include
! Component: 'curses' found in /usr/include
! Component: 'x11' found in /usr/include
! Component: 'wattcp/watt-32' not supported on linux platform
! HB_INSTALL_PREFIX automatically set to: /usr/local
...
../../../../../lib/linux/gcc/libhbcommon.a(hbprintf.o): In function 
`hb_vsnprintf':
../../../../../lib/linux/gcc/libhbcommon.a(hbprintf.o): In function 
`hb_vsnprintf':
hbprintf.c:(.text+0xa31): undefined reference to `__finitel'
hbprintf.c:(.text+0xa31): undefined reference to `__finitel'
hbprintf.c:(.text+0xa52): undefined reference to `__isnanl'
hbprintf.c:(.text+0xa52): undefined reference to `__isnanl'
hbprintf.c:(.text+0xa76): undefined reference to `__isinfl'
hbprintf.c:(.text+0xa76): undefined reference to `__isinfl'
hbprintf.c:(.text+0x1434): undefined reference to `__signbitl'
hbprintf.c:(.text+0x1434): undefined reference to `__signbitl'
hbprintf.c:(.text+0x148f): undefined reference to `modfl'
hbprintf.c:(.text+0x148f): undefined reference to `modfl'
hbprintf.c:(.text+0x1503): undefined reference to `modfl'
hbprintf.c:(.text+0x1503): undefined reference to `modfl'
hbprintf.c:(.text+0x1632): undefined reference to `modfl'
hbprintf.c:(.text+0x1632): undefined reference to `modfl'
hbprintf.c:(.text+0x170f): undefined reference to `modfl'
hbprintf.c:(.text+0x170f): undefined reference to `modfl'
collect2: ld returned 1 exit status
collect2: ld returned 1 exit status
make[3]: *** [hbpp] Error 1
make[3]: *** [hbpp] Error 1
make[2]: *** [descend] Error 2
make[2]: *** [descend] Error 2
make[1]: *** [pp] Error 2
make[1]: *** [pp] Error 2
make: *** [src] Error 2
make: *** [src] Error 2


What i should do to fix it?

Thanks!

Regards,
Alexey Myronenko
From vszakats at users.sourceforge.net  Wed Oct 14 07:45:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Oct 14 07:45:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12705] trunk/harbour
Message-ID: <E1My2I0-0001tA-Jk@dn4whf1.ch3.sourceforge.com>

Revision: 12705
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12705&view=rev
Author:   vszakats
Date:     2009-10-14 11:45:07 +0000 (Wed, 14 Oct 2009)

Log Message:
-----------
2009-10-14 13:43 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added 'gcc -MM' based C header dependency detection in -head=native mode.
      Please note that it's slower than regular methods, so for projects 
      with many .c source files this setting may not be ideal.
    ! Added gccomf to a few more places where checking for gcc family.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ranier at cultura.com.br  Wed Oct 14 08:14:37 2009
From: ranier at cultura.com.br (Ranier Vilela)
Date: Wed Oct 14 08:12:14 2009
Subject: [Harbour] Re: Harbour Forum and Wiki.
In-Reply-To: <1255486243.2088.506.camel@SunSpot>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com>	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>	<4AD33623.3010004@gmail.com>	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>	<4AD34565.2000008@gmail.com>	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>	<havku5$l0v$1@ger.gmane.org>
	<1255486243.2088.506.camel@SunSpot>
Message-ID: <4AD5C0AD.3090406@cultura.com.br>

Phil Barnett escreveu:
> On Mon, 2009-10-12 at 14:19 -0200, Angel Pais wrote:
>
>   
>> Maybe here we are having language barriers difficulting communication, 
>> but in the experimental HMG 3.0, Roberto have icluded hbmk2 and is using 
>> it.
>> He is running some tests to report here later the things he finds.
>> Roberto has issued 3 versions of HMG in 2 days for his community to test 
>> and report back compatibility issues. He is making a big effort to 
>> include all tools from latest Harbour.
>> Go download it from sourceforge an see for yourself.
>> The reason Robertos is including mingw and harbour in the binary package 
>> is for practical purpouses and to minimize support to only "stable" 
>> versions of all tools involved.
>>     
>
> Wouldn't this be better served by creating a script that fetches a
> stable version of each product and prividing a place where they can be
> downloaded from?
>
> It keeps you from having to customize yet allows you to have a fixed
> point to work around.
>
> Then, you can update portions of it as needed.
>
> This is always better served when there are stable versions being
> distributed, which is currently the 1.x version of Harbour.
>
> And when 2.x is released, you once again have a stable version to work
> with.
>
> With that in mind, would a better solution be to move quickly as
> possible to a stable 2.0 Harbour release? This would be good for all
> parties involved. Grabbing an unstable version of Harbour to make some
> other process stable is very work intensive and counterproductive in the
> long run.
>   
Hi,
Is time to Harbour 2.0 stable release?

Best regards,

Ranier Vilela
From mbelgrano at deltain.it  Wed Oct 14 08:25:47 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Oct 14 08:25:54 2009
Subject: [Harbour] Re: Harbour Forum and Wiki.
In-Reply-To: <4AD5C0AD.3090406@cultura.com.br>
References: <hanaud$bqo$1@ger.gmane.org> <4AD31C00.9070107@gmail.com>
	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>
	<4AD33623.3010004@gmail.com>
	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>
	<4AD34565.2000008@gmail.com>
	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>
	<havku5$l0v$1@ger.gmane.org> <1255486243.2088.506.camel@SunSpot>
	<4AD5C0AD.3090406@cultura.com.br>
Message-ID: <609353e70910140525i68e52714s6beadf89d13310ee@mail.gmail.com>

There Is any available any time frame for the next stable release
In My opinion  this because harbour wait maturation of  same internal
part (hbtq,xbp)
Maj be same component wait a final implementation (gtnet.... i hope)
IMO we wait same week

2009/10/14 Ranier Vilela <ranier@cultura.com.br>:
> Phil Barnett escreveu:
>>
>> On Mon, 2009-10-12 at 14:19 -0200, Angel Pais wrote:
>>
>>
>>>
>>> Maybe here we are having language barriers difficulting communication,
>>> but in the experimental HMG 3.0, Roberto have icluded hbmk2 and is using it.
>>> He is running some tests to report here later the things he finds.
>>> Roberto has issued 3 versions of HMG in 2 days for his community to test
>>> and report back compatibility issues. He is making a big effort to include
>>> all tools from latest Harbour.
>>> Go download it from sourceforge an see for yourself.
>>> The reason Robertos is including mingw and harbour in the binary package
>>> is for practical purpouses and to minimize support to only "stable" versions
>>> of all tools involved.
>>>
>>
>> Wouldn't this be better served by creating a script that fetches a
>> stable version of each product and prividing a place where they can be
>> downloaded from?
>>
>> It keeps you from having to customize yet allows you to have a fixed
>> point to work around.
>>
>> Then, you can update portions of it as needed.
>>
>> This is always better served when there are stable versions being
>> distributed, which is currently the 1.x version of Harbour.
>>
>> And when 2.x is released, you once again have a stable version to work
>> with.
>>
>> With that in mind, would a better solution be to move quickly as
>> possible to a stable 2.0 Harbour release? This would be good for all
>> parties involved. Grabbing an unstable version of Harbour to make some
>> other process stable is very work intensive and counterproductive in the
>> long run.
>>
>
> Hi,
> Is time to Harbour 2.0 stable release?
>
> Best regards,
>
> Ranier Vilela
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Oct 14 08:42:15 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct 14 08:42:27 2009
Subject: [Harbour] Re: Harbour Forum and Wiki.
In-Reply-To: <4AD5C0AD.3090406@cultura.com.br>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com>	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>	<4AD33623.3010004@gmail.com>	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>	<4AD34565.2000008@gmail.com>	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>	<havku5$l0v$1@ger.gmane.org>
	<1255486243.2088.506.camel@SunSpot>
	<4AD5C0AD.3090406@cultura.com.br>
Message-ID: <990D31B3-F79F-4BFC-A2D1-C17EFEE41099@syenar.hu>

>> Wouldn't this be better served by creating a script that fetches a
>> stable version of each product and prividing a place where they can  
>> be
>> downloaded from?
>>
>> It keeps you from having to customize yet allows you to have a fixed
>> point to work around.
>>
>> Then, you can update portions of it as needed.
>>
>> This is always better served when there are stable versions being
>> distributed, which is currently the 1.x version of Harbour.
>>
>> And when 2.x is released, you once again have a stable version to  
>> work
>> with.
>>
>> With that in mind, would a better solution be to move quickly as
>> possible to a stable 2.0 Harbour release? This would be good for all
>> parties involved. Grabbing an unstable version of Harbour to make  
>> some
>> other process stable is very work intensive and counterproductive  
>> in the
>> long run.
>>
> Hi,
> Is time to Harbour 2.0 stable release?

There's a whatsnew doc to be completed, and I won't
be able to complete it anytime soon. (already spent
quite some time to process part of it, but the
change list is quite huge)

We'd also need to start making platform tests.
Since the set of supported platforms is much wider
now than with 1.x, we should make some priorities.

We should decide whether we want to wait for HBQT to
finalize. Probably not.

Next, someone will need to make the final release
binaries. For me, only the windows release takes
two complete days (not working days, two complete
days), seeing the zero amount of supporters with
beta3 and relatively low amount of downloads, I
don't feel extremely inclined to dedicate that much
resources to it yet another time.

IOW, we need volunteers to help on some of these
jobs, the code itself is ready for an RC, or even
a final.

Finally: Does anyone have anything else pending?
	
[ Some more from my pending list:
- ChangeLog rename to CHANGES
- postinst further cleanup (can be done after the release though)
- type cleanup (definitely after a release)
- dir layout standardization as proposed by Przemek.
   (probably after a release, since the job looks big with
   lot of testing involved)
- hbmk2 autodetection reform (probably after release) ]

Brgds,
Viktor

From sscc at mweb.co.za  Wed Oct 14 08:52:31 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Oct 14 08:52:39 2009
Subject: [Harbour] Re: Harbour Forum and Wiki.
In-Reply-To: <990D31B3-F79F-4BFC-A2D1-C17EFEE41099@syenar.hu>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com>	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>	<4AD33623.3010004@gmail.com>	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>	<4AD34565.2000008@gmail.com>	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>	<havku5$l0v$1@ger.gmane.org>	<1255486243.2088.506.camel@SunSpot>	<4AD5C0AD.3090406@cultura.com.br>
	<990D31B3-F79F-4BFC-A2D1-C17EFEE41099@syenar.hu>
Message-ID: <4AD5C98F.7060305@mweb.co.za>

Viktor Szak?ts wrote:

> Finally: Does anyone have anything else pending?

Is there any consensus on the desirability of extending Przemek's replaceable 
file driver to standard file functions? For example:

	fopen("net:\fred.txt")

Regards
Alex
From druzus at acn.waw.pl  Wed Oct 14 08:54:01 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Oct 14 08:54:08 2009
Subject: [Harbour] About the new -sm option
In-Reply-To: <9257026e0910140133y28984997hfcc5a129a0d51f7@mail.gmail.com>
References: <9257026e0910131054i6024ad8aq25cdc656802f5db0@mail.gmail.com>
	<20091013221527.GA1699@uran.home.aster.pl>
	<9257026e0910132252m10f50e42x6ff1eeb9ded1a4e7@mail.gmail.com>
	<20091014075215.GA13588@uran.home.aster.pl>
	<9257026e0910140133y28984997hfcc5a129a0d51f7@mail.gmail.com>
Message-ID: <20091014125401.GA7349@uran.home.aster.pl>

On Wed, 14 Oct 2009, Lorenzo Fiorini wrote:
> > You do not need any new hbcmp script switches to replicate such
> > behavior, i.e.:
> > PRGFLAGS=-km -w3 -es0 -q0 -gh -n -D__hrb__ -I../dbl/
> > %.hrb: $(ROOT)%.prg
> > ? ? ? ?hbcmp $(PRGFLAGS) $?
> > ? ? ? ?( echo $@ ; hbcmp $(PRGFLAGS) -q2 -sm $? ) > $(?:.prg=.d)
> Many thanks. I've also tried sth like that but I get:
> ../hrb/anaedt.d:1: *** missing separator.  Stop.
> when I add -include $(DFILES)
> .d files are not in the form that can be used directly in make.

Please simply modify above example and instead of 'echo $@' use
'echo "$@: "', i.e.:

      ( echo "$@: " ; hbcmp $(PRGFLAGS) -q2 -sm $? ) > $(?:.prg=.d)

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Oct 14 09:10:12 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct 14 09:10:22 2009
Subject: [Harbour] Re: Harbour Forum and Wiki.
In-Reply-To: <4AD5C98F.7060305@mweb.co.za>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com>	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>	<4AD33623.3010004@gmail.com>	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>	<4AD34565.2000008@gmail.com>	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>	<havku5$l0v$1@ger.gmane.org>	<1255486243.2088.506.camel@SunSpot>	<4AD5C0AD.3090406@cultura.com.br>
	<990D31B3-F79F-4BFC-A2D1-C17EFEE41099@syenar.hu>
	<4AD5C98F.7060305@mweb.co.za>
Message-ID: <D5CBD541-E553-4D3E-AA91-8B9EEF701F62@syenar.hu>

> Viktor Szak?ts wrote:
>
>> Finally: Does anyone have anything else pending?
>
> Is there any consensus on the desirability of extending Przemek's  
> replaceable file driver to standard file functions? For example:
>
> 	fopen("net:\fred.txt")

This is a nice feature to have overall, but I'm not sure how
much work does it take to complete (and if there is any drawback
to deal with, and if Przemek have enough time to implement it
before release). IMO this feature can be added anytime in the
future without breaking compatibility so it shouldn't be
a show stopper for current release.

Brgds,
Viktor

From mbelgrano at deltain.it  Wed Oct 14 09:13:50 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Oct 14 09:14:19 2009
Subject: [Harbour] Re: Harbour Forum and Wiki.
In-Reply-To: <4AD5C98F.7060305@mweb.co.za>
References: <hanaud$bqo$1@ger.gmane.org> <4AD33623.3010004@gmail.com> 
	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>
	<4AD34565.2000008@gmail.com> 
	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>
	<havku5$l0v$1@ger.gmane.org> 
	<1255486243.2088.506.camel@SunSpot> <4AD5C0AD.3090406@cultura.com.br> 
	<990D31B3-F79F-4BFC-A2D1-C17EFEE41099@syenar.hu>
	<4AD5C98F.7060305@mweb.co.za>
Message-ID: <609353e70910140613q4cf4b65coe63fddbdaf3b20ca@mail.gmail.com>

Yes interesting but i think better having  NETGT/GTNET


2009/10/14 Alex Strickland <sscc@mweb.co.za>:
> Viktor Szak?ts wrote:
>
>> Finally: Does anyone have anything else pending?
>
> Is there any consensus on the desirability of extending Przemek's
> replaceable file driver to standard file functions? For example:
>
> ? ? ? ?fopen("net:\fred.txt")
>
> Regards
> Alex
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Oct 14 09:19:00 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct 14 09:19:09 2009
Subject: [Harbour] Re: Harbour Forum and Wiki.
In-Reply-To: <609353e70910140613q4cf4b65coe63fddbdaf3b20ca@mail.gmail.com>
References: <hanaud$bqo$1@ger.gmane.org> <4AD33623.3010004@gmail.com>
	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>
	<4AD34565.2000008@gmail.com>
	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>
	<havku5$l0v$1@ger.gmane.org> <1255486243.2088.506.camel@SunSpot>
	<4AD5C0AD.3090406@cultura.com.br>
	<990D31B3-F79F-4BFC-A2D1-C17EFEE41099@syenar.hu>
	<4AD5C98F.7060305@mweb.co.za>
	<609353e70910140613q4cf4b65coe63fddbdaf3b20ca@mail.gmail.com>
Message-ID: <8332C237-BEE1-429A-8762-E2372D12F0FE@syenar.hu>

> Yes interesting but i think better having  NETGT/GTNET

It's a different issue. FOPEN( "driver:" ) support isn't
just for "net:", in fact it offers the less extra with
":net" driver. Check TODO for more usage scenarios.

But FOPEN( "mem:" ) could also be an interesting one,
or "com:", etc.
	
Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Wed Oct 14 09:20:01 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Oct 14 09:20:09 2009
Subject: [Harbour] About the new -sm option
In-Reply-To: <20091014125401.GA7349@uran.home.aster.pl>
References: <9257026e0910131054i6024ad8aq25cdc656802f5db0@mail.gmail.com>
	<20091013221527.GA1699@uran.home.aster.pl>
	<9257026e0910132252m10f50e42x6ff1eeb9ded1a4e7@mail.gmail.com>
	<20091014075215.GA13588@uran.home.aster.pl>
	<9257026e0910140133y28984997hfcc5a129a0d51f7@mail.gmail.com>
	<20091014125401.GA7349@uran.home.aster.pl>
Message-ID: <9257026e0910140620j760f0d69j150755cf80a1f533@mail.gmail.com>

On Wed, Oct 14, 2009 at 2:54 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> Please simply modify above example and instead of 'echo $@' use
> 'echo "$@: "', i.e.:
>
> ? ? ?( echo "$@: " ; hbcmp $(PRGFLAGS) -q2 -sm $? ) > $(?:.prg=.d)

Many thanks.

This is the final form:

...
DFILES=$(HRBFILES:.hrb=.d)

PRGFLAGS=-km -w3 -es0 -q0 -gh -n -D__hrb__ -I../dbl/

-include $(DFILES)

%.hrb: $(ROOT)%.prg
	hbcmp $(PRGFLAGS) $<
	( echo -n "$@: " ; hbcmp $(PRGFLAGS) -q2 -sm $< ) > $(@:.hrb=.d)
...

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Wed Oct 14 10:34:10 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Oct 14 10:34:16 2009
Subject: [Harbour] About the new -sm option
In-Reply-To: <20091014125401.GA7349@uran.home.aster.pl>
References: <9257026e0910131054i6024ad8aq25cdc656802f5db0@mail.gmail.com>
	<20091013221527.GA1699@uran.home.aster.pl>
	<9257026e0910132252m10f50e42x6ff1eeb9ded1a4e7@mail.gmail.com>
	<20091014075215.GA13588@uran.home.aster.pl>
	<9257026e0910140133y28984997hfcc5a129a0d51f7@mail.gmail.com>
	<20091014125401.GA7349@uran.home.aster.pl>
Message-ID: <9257026e0910140734r117b5728k64ec2e1a1ec5dd39@mail.gmail.com>

On Wed, Oct 14, 2009 at 2:54 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> Please simply modify above example and instead of 'echo $@' use
> 'echo "$@: "', i.e.:
>
> ? ? ?( echo "$@: " ; hbcmp $(PRGFLAGS) -q2 -sm $? ) > $(?:.prg=.d)

It doesn't work when I use it in prg -> o hbcmp.

make stop with Error 1 on the first prg but it works if I use make -i
( ignore error )

I can't really see the difference ( beside the fact that it creates .o
instead of .hrb ).

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Wed Oct 14 10:42:45 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Oct 14 10:42:51 2009
Subject: [Harbour] About the new -sm option
In-Reply-To: <9257026e0910140734r117b5728k64ec2e1a1ec5dd39@mail.gmail.com>
References: <9257026e0910131054i6024ad8aq25cdc656802f5db0@mail.gmail.com>
	<20091013221527.GA1699@uran.home.aster.pl>
	<9257026e0910132252m10f50e42x6ff1eeb9ded1a4e7@mail.gmail.com>
	<20091014075215.GA13588@uran.home.aster.pl>
	<9257026e0910140133y28984997hfcc5a129a0d51f7@mail.gmail.com>
	<20091014125401.GA7349@uran.home.aster.pl>
	<9257026e0910140734r117b5728k64ec2e1a1ec5dd39@mail.gmail.com>
Message-ID: <9257026e0910140742q192da406kadd4cecf9e0f9536@mail.gmail.com>

On Wed, Oct 14, 2009 at 4:34 PM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com> wrote:

> I can't really see the difference ( beside the fact that it creates .o
> instead of .hrb ).

If I add -gh to the

>      ( echo "$@: " ; hbcmp $(PRGFLAGS) -gh -q2 -sm $? ) > $(?:.prg=.d)

it works.

So it could be the hb_cc that gets execute while it should be skipped with -sm.

best regards,
Lorenzo
From druzus at acn.waw.pl  Wed Oct 14 10:54:16 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Oct 14 10:54:23 2009
Subject: [Harbour] About the new -sm option
In-Reply-To: <9257026e0910140734r117b5728k64ec2e1a1ec5dd39@mail.gmail.com>
References: <9257026e0910131054i6024ad8aq25cdc656802f5db0@mail.gmail.com>
	<20091013221527.GA1699@uran.home.aster.pl>
	<9257026e0910132252m10f50e42x6ff1eeb9ded1a4e7@mail.gmail.com>
	<20091014075215.GA13588@uran.home.aster.pl>
	<9257026e0910140133y28984997hfcc5a129a0d51f7@mail.gmail.com>
	<20091014125401.GA7349@uran.home.aster.pl>
	<9257026e0910140734r117b5728k64ec2e1a1ec5dd39@mail.gmail.com>
Message-ID: <20091014145416.GA28185@uran.home.aster.pl>

On Wed, 14 Oct 2009, Lorenzo Fiorini wrote:
> On Wed, Oct 14, 2009 at 2:54 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:
> > Please simply modify above example and instead of 'echo $@' use
> > 'echo "$@: "', i.e.:
> > ? ? ?( echo "$@: " ; hbcmp $(PRGFLAGS) -q2 -sm $? ) > $(?:.prg=.d)
> It doesn't work when I use it in prg -> o hbcmp.

There is no difference on the harbour side (I intentionally did not
add "<destination.exe>: " to dependencies list generated by harbour
compiler to not move such problems to compiler code) so the problem
is in your Makefile.

> make stop with Error 1 on the first prg but it works if I use make -i
> ( ignore error )
> I can't really see the difference ( beside the fact that it creates .o
> instead of .hrb ).

And for harbour compiler and hb* scripts such difference does not
exists so it has to be sth in your Makefile settings.
I cannot help you without seeing your exact Makefile code.
(I guess you added -n to above echo command).

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Oct 14 11:01:14 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct 14 11:01:23 2009
Subject: [Harbour] About the new -sm option
In-Reply-To: <9257026e0910140742q192da406kadd4cecf9e0f9536@mail.gmail.com>
References: <9257026e0910131054i6024ad8aq25cdc656802f5db0@mail.gmail.com>
	<20091013221527.GA1699@uran.home.aster.pl>
	<9257026e0910132252m10f50e42x6ff1eeb9ded1a4e7@mail.gmail.com>
	<20091014075215.GA13588@uran.home.aster.pl>
	<9257026e0910140133y28984997hfcc5a129a0d51f7@mail.gmail.com>
	<20091014125401.GA7349@uran.home.aster.pl>
	<9257026e0910140734r117b5728k64ec2e1a1ec5dd39@mail.gmail.com>
	<9257026e0910140742q192da406kadd4cecf9e0f9536@mail.gmail.com>
Message-ID: <C700AC85-49B8-4F64-BD38-02ACB1597A33@syenar.hu>

Hi Lorenzo,

BTW, is there anything still missing from hbmk2 which
makes it unsuitable for your case? I'd be interested
in your view.

Brgds,
Viktor

On 2009 Oct 14, at 16:42, Lorenzo Fiorini wrote:

> On Wed, Oct 14, 2009 at 4:34 PM, Lorenzo Fiorini
> <lorenzo.fiorini@gmail.com> wrote:
>
>> I can't really see the difference ( beside the fact that it  
>> creates .o
>> instead of .hrb ).
>
> If I add -gh to the
>
>>     ( echo "$@: " ; hbcmp $(PRGFLAGS) -gh -q2 -sm $? ) > $(?:.prg=.d)
>
> it works.
>
> So it could be the hb_cc that gets execute while it should be  
> skipped with -sm.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Wed Oct 14 11:01:43 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Oct 14 11:01:50 2009
Subject: [Harbour] About the new -sm option
In-Reply-To: <20091014145416.GA28185@uran.home.aster.pl>
References: <9257026e0910131054i6024ad8aq25cdc656802f5db0@mail.gmail.com>
	<20091013221527.GA1699@uran.home.aster.pl>
	<9257026e0910132252m10f50e42x6ff1eeb9ded1a4e7@mail.gmail.com>
	<20091014075215.GA13588@uran.home.aster.pl>
	<9257026e0910140133y28984997hfcc5a129a0d51f7@mail.gmail.com>
	<20091014125401.GA7349@uran.home.aster.pl>
	<9257026e0910140734r117b5728k64ec2e1a1ec5dd39@mail.gmail.com>
	<20091014145416.GA28185@uran.home.aster.pl>
Message-ID: <9257026e0910140801x36a0ed4esff409c4dc2372294@mail.gmail.com>

On Wed, Oct 14, 2009 at 4:54 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> I cannot help you without seeing your exact Makefile code.
> (I guess you added -n to above echo command).

Did you see my msg about adding -gh and hb_cc?

best regards,
Lorenzo
From druzus at acn.waw.pl  Wed Oct 14 11:07:47 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Oct 14 11:07:53 2009
Subject: [Harbour] About the new -sm option
In-Reply-To: <9257026e0910140742q192da406kadd4cecf9e0f9536@mail.gmail.com>
References: <9257026e0910131054i6024ad8aq25cdc656802f5db0@mail.gmail.com>
	<20091013221527.GA1699@uran.home.aster.pl>
	<9257026e0910132252m10f50e42x6ff1eeb9ded1a4e7@mail.gmail.com>
	<20091014075215.GA13588@uran.home.aster.pl>
	<9257026e0910140133y28984997hfcc5a129a0d51f7@mail.gmail.com>
	<20091014125401.GA7349@uran.home.aster.pl>
	<9257026e0910140734r117b5728k64ec2e1a1ec5dd39@mail.gmail.com>
	<9257026e0910140742q192da406kadd4cecf9e0f9536@mail.gmail.com>
Message-ID: <20091014150747.GB28185@uran.home.aster.pl>

On Wed, 14 Oct 2009, Lorenzo Fiorini wrote:
> > I can't really see the difference ( beside the fact that it creates .o
> > instead of .hrb ).
> If I add -gh to the
> >      ( echo "$@: " ; hbcmp $(PRGFLAGS) -gh -q2 -sm $? ) > $(?:.prg=.d)
> it works.
> So it could be the hb_cc that gets execute while it should be skipped with -sm.

You are right though it's not the problem of executing hb_cc but
missing .c file as result of harbour compiler call. hb_cmp looks
for such file when -gc[0-3] is used or non of -g* switch is passed
by user. Using -gh or -go as workaround resolves the problem.
I'll update hb* scripts in a while. Thank you for information.

best regards,
Przemek
From druzus at users.sourceforge.net  Wed Oct 14 11:19:30 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Oct 14 11:19:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12706] trunk/harbour
Message-ID: <E1My5dS-0005aR-VJ@c3vjzd1.ch3.sourceforge.com>

Revision: 12706
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12706&view=rev
Author:   druzus
Date:     2009-10-14 15:19:16 +0000 (Wed, 14 Oct 2009)

Log Message:
-----------
2009-10-14 17:18 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    ! do not look for .c files as result of hbcmp script executed
      with -s or -sm switch and without -g[oh] * switches.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Wed Oct 14 11:22:38 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Oct 14 11:22:45 2009
Subject: [Harbour] About the new -sm option
In-Reply-To: <C700AC85-49B8-4F64-BD38-02ACB1597A33@syenar.hu>
References: <9257026e0910131054i6024ad8aq25cdc656802f5db0@mail.gmail.com>
	<20091013221527.GA1699@uran.home.aster.pl>
	<9257026e0910132252m10f50e42x6ff1eeb9ded1a4e7@mail.gmail.com>
	<20091014075215.GA13588@uran.home.aster.pl>
	<9257026e0910140133y28984997hfcc5a129a0d51f7@mail.gmail.com>
	<20091014125401.GA7349@uran.home.aster.pl>
	<9257026e0910140734r117b5728k64ec2e1a1ec5dd39@mail.gmail.com>
	<9257026e0910140742q192da406kadd4cecf9e0f9536@mail.gmail.com>
	<C700AC85-49B8-4F64-BD38-02ACB1597A33@syenar.hu>
Message-ID: <9257026e0910140822y30551034n47ff253f3404e80@mail.gmail.com>

On Wed, Oct 14, 2009 at 5:01 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> BTW, is there anything still missing from hbmk2 which
> makes it unsuitable for your case? I'd be interested
> in your view.

Sorry I haven't looked at hbmk2 so far.
I've customized hb-funcs to integrate contribs like gd and pgsql and
local libs so it would take time to rethink the whole make system.

best regards,
Lorenzo
From M.Horodyski at pzuzycie.com.pl  Wed Oct 14 11:22:40 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Oct 14 11:22:53 2009
Subject: [Harbour] RDDADO on Beta3
In-Reply-To: <609353e70910130737h9eb94c8pd6b573e9f5c9d7e9@mail.gmail.com>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com>
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu><609353e70910120435m2920caabnf984df0e57056821@mail.gmail.com>
	<61d17767307257ff5e7a4981c3f73f29@viaopen.com><FFAFD6EA63A3FC4784FBDA52BE7A7C9502909A6A@PINK.zycie.pzu>
	<609353e70910130308r448204dcq59f918041a3f3357@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909B59@PINK.zycie.pzu>
	<609353e70910130737h9eb94c8pd6b573e9f5c9d7e9@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D26@PINK.zycie.pzu>

>-----Original Message-----
>From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
>Sent: Tuesday, October 13, 2009 4:37 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] RDDADO on Beta3
>
>I can try i Need Connection string and structure/data Oracle 

...

>Source=MyOracleDB;OSAuthent=1;"
>and using Microsoft OLE DB Provider for ODBC Drivers we have a 
>log of way
>
>I can try mssql, and oracle from same customer

HB_AdoSetEngine( 'ORACLE' )
HB_AdoSetServer( "ALIAS_FROM_FILE_TNSNAMES.ORA" )
HB_AdoSetUser( "USER_SCHEMA_NAME_IN_DATABASE" )
HB_AdoSetPassword( "PASSWORD" )
HB_AdoSetQuery( "here long query or name variabel")
dbUseArea( .T., "ADORDD", "ALIAS_NAME",, Nil, .F. )


>Why In your selection string you convert all value to char?
>http://www.techonthenet.com/oracle/functions/to_char.php


Why ?
>From another types than character, fields in "ALIAS_NAME" have no value.

Regards,
Marek Horodyski

P.S.
Promises to me reading from DB2
From sscc at mweb.co.za  Wed Oct 14 11:40:34 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Oct 14 11:40:44 2009
Subject: [Harbour] COM Arrays of COM Objects
Message-ID: <4AD5F0F2.5090609@mweb.co.za>

Hi all

My code is failing on an a COM call which is supposed to return an array of COM 
objects. Is that even supposed to work?

I get NIL, not an error.

Thanks and regards
Alex
From lorenzo.fiorini at gmail.com  Wed Oct 14 11:55:42 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Oct 14 11:55:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12706] trunk/harbour
In-Reply-To: <E1My5dS-0005aR-VJ@c3vjzd1.ch3.sourceforge.com>
References: <E1My5dS-0005aR-VJ@c3vjzd1.ch3.sourceforge.com>
Message-ID: <9257026e0910140855g7c7b4c04s1d36d63ff59343d@mail.gmail.com>

On Wed, Oct 14, 2009 at 5:19 PM,  <druzus@users.sourceforge.net> wrote:

> 2009-10-14 17:18 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> ?* harbour/bin/hb-func.sh
> ? ?! do not look for .c files as result of hbcmp script executed
> ? ? ?with -s or -sm switch and without -g[oh] * switches.

Thanks it's ok now.

best regards,
Lorenzo
From mbelgrano at deltain.it  Wed Oct 14 11:57:44 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Oct 14 11:58:11 2009
Subject: [Harbour] RDDADO on Beta3
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D26@PINK.zycie.pzu>
References: <hanaud$bqo$1@ger.gmane.org> <4ACF4AB4.2000907@gmail.com> 
	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>
	<609353e70910120435m2920caabnf984df0e57056821@mail.gmail.com> 
	<61d17767307257ff5e7a4981c3f73f29@viaopen.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909A6A@PINK.zycie.pzu> 
	<609353e70910130308r448204dcq59f918041a3f3357@mail.gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909B59@PINK.zycie.pzu> 
	<609353e70910130737h9eb94c8pd6b573e9f5c9d7e9@mail.gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D26@PINK.zycie.pzu>
Message-ID: <609353e70910140857i75202248w8328c6746c9afbe5@mail.gmail.com>

Hi Marek
i suggest you post a reduced working sample at fivewin forum where
adonet seem live
http://forums.fivetechsupport.com/viewtopic.php?f=3&t=6814&start=165
In your simplified sample  i pleased you Use  one field only (if problem occur)
NO noise of other question that your problem
Create your test_db in your reduced/working sample
so is sufficient modify server,username,password and running the sample


2009/10/14 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>:
>>-----Original Message-----
>>From: Massimo Belgrano [mailto:mbelgrano@deltain.it]
>>Sent: Tuesday, October 13, 2009 4:37 PM
>>To: Harbour Project Main Developer List.
>>Subject: Re: [Harbour] RDDADO on Beta3
>>
>>I can try i Need Connection string and structure/data Oracle
>
> ...
>
>>Source=MyOracleDB;OSAuthent=1;"
>>and using Microsoft OLE DB Provider for ODBC Drivers we have a
>>log of way
>>
>>I can try mssql, and oracle from same customer
>
> HB_AdoSetEngine( 'ORACLE' )
> HB_AdoSetServer( "ALIAS_FROM_FILE_TNSNAMES.ORA" )
> HB_AdoSetUser( "USER_SCHEMA_NAME_IN_DATABASE" )
> HB_AdoSetPassword( "PASSWORD" )
> HB_AdoSetQuery( "here long query or name variabel")
> dbUseArea( .T., "ADORDD", "ALIAS_NAME",, Nil, .F. )
>
>
>>Why In your selection string you convert all value to char?
>>http://www.techonthenet.com/oracle/functions/to_char.php
>
>
> Why ?
> >From another types than character, fields in "ALIAS_NAME" have no value.
>
> Regards,
> Marek Horodyski
>
> P.S.
> Promises to me reading from DB2
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From M.Horodyski at pzuzycie.com.pl  Wed Oct 14 11:59:18 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Oct 14 11:59:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12700] trunk/harbour
In-Reply-To: <E1MxliW-0007Rc-Js@dn4whf1.ch3.sourceforge.com>
References: <E1MxliW-0007Rc-Js@dn4whf1.ch3.sourceforge.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D28@PINK.zycie.pzu>

>-----Original Message-----
>From: vszakats@users.sourceforge.net 
>[mailto:vszakats@users.sourceforge.net] 
>Sent: Tuesday, October 13, 2009 8:03 PM
>To: harbour@harbour-project.org
>Subject: [Harbour] SF.net SVN: harbour-project:[12700] trunk/harbour
>
>Revision: 12700
>          
>http://harbour-project.svn.sourceforge.net/harbour-project/?rev
=12700&view=rev
>Author:   vszakats
>Date:     2009-10-13 18:03:23 +0000 (Tue, 13 Oct 2009)
>
>Log Message:
>-----------
>2009-10-13 20:02 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>  * contrib/hbwin/tests/testole.prg
>    + Added SOAP client call example. Based on the one sent to the 
>      dev list by Marek Horodyski.
>

This example was published by Ron Pinkas many years ago on xHarbour list.
This service expires refinement.
In atachment ar code in Java - soap  server and soap client.
It works in my intranet to test. I'm try use it from Harbour :

LOCAL oSoapClient := CreateObject( "MSSOAP.SoapClient" )
? ValType( oSoapClient)
oSoapClient:msSoapInit(  'http://10.16.24.97:7001/SampleServices/pl/pzu/ws/sampleservice/VerySimpleService?WSDL')
? oSoapClient:addNumbers( 5.00, 7.00)

(how can I write type xsd:long, 5 or 5.00 ?)

But in result have I crash with :

Stack :
(b)ERRORSYS(259)
TOLEAUTO:ADDNUMBERS(0)
(b)KOMPILATOR(0)
BOSS(0)
(b)KOMPILATOR(0)
BOSS(0)
KODKLAW(0)
OPCJA(0)
(b)KOMPILATOR(0)
BOSS(0)
MAIN(244)

Object error :
oErr:severity_____         2
oErr:osCode_______         0
oErr:subsystem()__BASE
oErr:subCode______      3012
oErr:description__Nieprawid?owy argument
oErr:filename_____
oErr:operation____ADDNUMBERS
oErr:genCode______         1
oErr:args_________A
Argumenty:
  1.[N]         5.00
  2.[N]         7.00

Why ? From java it works.

Another question : how can we receive array or object (can be complex/composite array) from web services ?
And the most important question :
 how can we serve such messages from Harbour ?

Best regards,
Marek Horodyski
-------------- next part --------------
A non-text attachment was scrubbed...
Name: VerySimpleServiceConsumer.zip
Type: application/x-zip-compressed
Size: 13922 bytes
Desc: VerySimpleServiceConsumer.zip
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091014/6775f483/VerySimpleServiceConsumer-0001.bin
From druzus at acn.waw.pl  Wed Oct 14 12:09:12 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Oct 14 12:09:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12705] trunk/harbour
In-Reply-To: <E1My2I0-0001tA-Jk@dn4whf1.ch3.sourceforge.com>
References: <E1My2I0-0001tA-Jk@dn4whf1.ch3.sourceforge.com>
Message-ID: <20091014160912.GA30963@uran.home.aster.pl>

On Wed, 14 Oct 2009, vszakats@users.sourceforge.net wrote:

Hi,

> 2009-10-14 13:43 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * utils/hbmk2/hbmk2.prg
>     + Added 'gcc -MM' based C header dependency detection in -head=native mode.
>       Please note that it's slower than regular methods, so for projects 
>       with many .c source files this setting may not be ideal.

Thank you very much.
-M* GCC switches were designed to use with static dependencies files
not to scan source code on each make call so the speed was less important
because dependencies list is created once at startup and then only rebuilt
if some files in the list is modified.
If you can add support for optional files with explicit dependencies then
it's possible to use this functionality in the same way with hbmk2 as with
GCC and GNU make, i.e. you can read .d files. They have format like:

   <dstfile>: <srcfiles,...>

\ as last non blank character concatenates lines. To simplify the format
and resolve possible conflicts with '\' ad path separator in DOS/Windows
we can define that it has to follow blank (TAB or SPACE) character or is
the only one non blank character in the line.

Below I'm attaching code which creates hash array indexed by files with
array of dependent files so it's enough to check if given file is in
such array, i.e.:

   if cFile $ hDeps
      for each cDep in hDeps[ cFile ]
         if hb_FGetDateTime( cDep, @tDepTime ) .and. tDepTime > tFileTime
            lRebuild := .t.
            exit
         endif
      next
   endif

Can you add it?

best regards,
Przemek


   static function deplst_read( cFileBody )
      local cList := "", cLine
      local nLine := 0
      local hDeps := {=>}
      cFileBody := StrTran( cFileBody, Chr( 13 ) + Chr( 10 ), Chr( 10 ) )
      cFileBody := StrTran( cFileBody, Chr( 9 ), Chr( 32 ) )
      for each cLine in hb_aTokens( cFileBody, Chr( 10 ) )
         ++nLine
         cLine := AllTrim( cLine )
         if cLine == "\" .or. right( cLine, 2 ) == " \"
            cList += Left( cLine, Len( cLine ) - 1 )
         else 
            cList += cLine
            if !deplst_add( hDeps, cList )
               ? "error at line: ", nLine, cList
               return nil
            endif
            cList := ""
         endif
      next
      if !deplst_add( hDeps, cList )
         ? "error at line: ", nLine, cList
         return nil
      endif
   return hDeps

   static function deplst_add( hDeps, cList )
      local cFile
      local aList
      local n
      if !empty( cList )
         n := At( ":", cList )
         if n != 0 .and. !empty( cFile := AllTrim( Left( cList, n - 1 ) ) )
            aList := hb_aTokens( SubStr( cList, n + 1 ) )
            if cFile $ hDeps
               AMerge( hDeps[ cFile ], aList )
            else
               hDeps[ cFile ] := aList
            endif
         else
            return .f.
         endif
      endif
   return .t.

   static function AMerge( aDst, aSrc )
      local item
      for each item in aSrc
         if hb_AScan( aDst, item,,, .T. ) == 0
            AAdd( aDst, item )
         endif
      next
   return aDst
From M.Horodyski at pzuzycie.com.pl  Wed Oct 14 12:24:07 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Oct 14 12:24:15 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <609353e70910140110y28cbfadfoc37082be3aa28568@mail.gmail.com>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com><FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu>
	<609353e70910140110y28cbfadfoc37082be3aa28568@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D2A@PINK.zycie.pzu>

>-----Original Message-----
>From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
>Sent: Wednesday, October 14, 2009 10:10 AM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Web Services in Harbour
>
>Hi marek
>You have made an interesting question follow my info i have 
>not an harbour reply but somebody can help, translate

[...]

>UDDI (Universal Description, Discovery and Integration) a 
>directory for storing information about web services WSDL (Web 
>Services Description Language)  XML-based language for 
>locating and describing Web services.
>
> example we will use ASP.NET to create a simple Web Service 
>that converts the temperature from Fahrenheit to Celsius

On the Wikipedia page could read a lot more:)


[...]
><WebMethod()> Public Function CelsiusToFahrenheit (ByVal 
>Celsius As String) As String
>  dim cel
>  cel=trim(replace(Celsius,",","."))
>  if cel="" or IsNumeric(cel)=false then return "Error"
>  return ((((cel) * 9) / 5) + 32)
>end function
>
>end class
>
>For microsoft webservice are evolved in WCF 
>http://msdn.microsoft.com/en-us/library/ms731082.aspx
>Simple Web Service using WCF
>http://www.codeproject.com/KB/WCF/WCFWebService.aspx

I need such an example - but it served in Harbor. 
In our business applications are beginning to talk with him after
SOAP.CLIENT - SOAP.SERVE.
In the middle there is intermediate bus for WebServices.

Regards,
Marek Horodyski
From vszakats at users.sourceforge.net  Wed Oct 14 12:48:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Oct 14 12:48:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12707] trunk/harbour
Message-ID: <E1My71W-0007JX-S1@c3vjzd1.ch3.sourceforge.com>

Revision: 12707
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12707&view=rev
Author:   vszakats
Date:     2009-10-14 16:48:25 +0000 (Wed, 14 Oct 2009)

Log Message:
-----------

2009-10-14 18:46 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
   * contrib/hbwin/win_misc.c
   * contrib/hbwin/wapi_shellapi.c
     + Added _SET_OSCODEPAGE support for WAPI_SHELLEXECUTE() and 
       WIN_RUNDETACHED(). This may make these functions incompatible 
       in some situations. This clears to TODOs in source.

   * INSTALL
     * Minor.

   * ChangeLog
     + Item marked DONE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbwin/wapi_shellapi.c
    trunk/harbour/contrib/hbwin/win_misc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Wed Oct 14 13:10:54 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Oct 14 13:10:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12706] trunk/harbour
In-Reply-To: <E1My5dS-0005aR-VJ@c3vjzd1.ch3.sourceforge.com>
References: <E1My5dS-0005aR-VJ@c3vjzd1.ch3.sourceforge.com>
Message-ID: <9257026e0910141010r71809418l7a04262671a34f0@mail.gmail.com>

On Wed, Oct 14, 2009 at 5:19 PM,  <druzus@users.sourceforge.net> wrote:

> ?* harbour/bin/hb-func.sh
> ? ?! do not look for .c files as result of hbcmp script executed
> ? ? ?with -s or -sm switch and without -g[oh] * switches.

I've locally added a -MD switch to hb-func.sh:

...
        -MD=*)       HB_MD="\${v#*=}" ;;
...

hb_cmp()
{
    ${hb_cmpname} "\$@" \${HB_OPT} \${HB_PATHS} && \\
    ( [ "\${HB_GEN//c/}" != "" ] || [ "\${HB_NOC}" = "yes" ] || \\
    ( [ -f "\${FOUTC}" ] && \\
    hb_cc -c "\${FOUTC}" -o "\${FOUTO}" && \\
    ( [ "\${HB_GEN}" = "c" ] || rm -f "\${FOUTC}" ) ) )
    if [ -n "\${HB_MD}" ]; then
       MDOUT=\`${hb_cmpname} "\$@" -q0 -m -sm \${HB_OPT} \${HB_PATHS}\`
       echo \${FILEOUT}: \${MDOUT} > \${HB_MD}
    fi
}

...

The rules.mk so looks like:
...
-include $(DFILES)

%.hrb: $(ROOT)%.prg
	hbcmp $(PRGFLAGS) -MD=$(@:.hrb=.d) $< -o$@
...

The requirements are to define -o file and use -MD=file.d.

Do you see any better way to do it or any problem with it?

best regards,
Lorenzo
From vszakats at users.sourceforge.net  Wed Oct 14 14:10:34 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Oct 14 14:10:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12708] trunk/harbour
Message-ID: <E1My8J0-0000RR-T3@c3vjzd1.ch3.sourceforge.com>

Revision: 12708
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12708&view=rev
Author:   vszakats
Date:     2009-10-14 18:10:33 +0000 (Wed, 14 Oct 2009)

Log Message:
-----------
2009-10-14 20:09 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/gtwvt/gtwvt.c
    + Added _SET_OSCODEPAGE support for HB_GTINFO( HB_GTI_WINTITLE ) 
      and HB_GTINFO( HB_GTI_SELECTCOPY ).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/gtwvt/gtwvt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From roberbox at gmail.com  Wed Oct 14 14:25:21 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Wed Oct 14 14:25:39 2009
Subject: [Harbour] Re: Harbour Forum and Wiki.
In-Reply-To: <990D31B3-F79F-4BFC-A2D1-C17EFEE41099@syenar.hu>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com>	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>	<4AD33623.3010004@gmail.com>	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>	<4AD34565.2000008@gmail.com>	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>	<havku5$l0v$1@ger.gmane.org>	<1255486243.2088.506.camel@SunSpot>	<4AD5C0AD.3090406@cultura.com.br>
	<990D31B3-F79F-4BFC-A2D1-C17EFEE41099@syenar.hu>
Message-ID: <4AD61791.6010909@gmail.com>

Przemyslaw, Viktor,

At first, I've tested the new feature for HBMK2 with HMG samples using 
LOAD WINDOW command and all goes fine. So I've already published new HMG 
test build INCLUDING HBMK2 and various mult-ifile samples showing how to 
work with it.

Thanks again for your help on that. All HMG projects family keeps 
compatibily with LOAD WINDOW command, so these are good news for a lot 
of people.

Regarding the Harbour files included in the HMG distribution, I've made 
some tests and discovered an interesting thing.

The files I've excluded (mainly: most of \bin, \doc, \examples and 
\tests) has a compressed size about 8MB (standard zip).

That size makes a notable difference to me, but I've noticed about one 
important thing: Using Inno Setup to do the installer with the 
lzma/ultra64 compression mode (I'm using it) the initial compressed size 
of 8MB, becomes about only 2MB. So, I've decided to INCLUDE those files 
on the HMG distribution.

I hope that helps.

Regards,

Roberto.
From harbour.01 at syenar.hu  Wed Oct 14 14:31:06 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Oct 14 14:31:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12705] trunk/harbour
In-Reply-To: <20091014160912.GA30963@uran.home.aster.pl>
References: <E1My2I0-0001tA-Jk@dn4whf1.ch3.sourceforge.com>
	<20091014160912.GA30963@uran.home.aster.pl>
Message-ID: <7C41F3F5-01F3-4E94-A2CB-F589079E0E20@syenar.hu>

Hi Przemek,

> Thank you very much.

You're welcome.

> -M* GCC switches were designed to use with static dependencies files
> not to scan source code on each make call so the speed was less  
> important
> because dependencies list is created once at startup and then only  
> rebuilt
> if some files in the list is modified.
> If you can add support for optional files with explicit dependencies  
> then
> it's possible to use this functionality in the same way with hbmk2  
> as with
> GCC and GNU make, i.e. you can read .d files. They have format like:
>
>   <dstfile>: <srcfiles,...>
>
> \ as last non blank character concatenates lines. To simplify the  
> format
> and resolve possible conflicts with '\' ad path separator in DOS/ 
> Windows
> we can define that it has to follow blank (TAB or SPACE) character  
> or is
> the only one non blank character in the line.
>
> Below I'm attaching code which creates hash array indexed by files  
> with
> array of dependent files so it's enough to check if given file is in
> such array, i.e.:
>
>   if cFile $ hDeps
>      for each cDep in hDeps[ cFile ]
>         if hb_FGetDateTime( cDep, @tDepTime ) .and. tDepTime >  
> tFileTime
>            lRebuild := .t.
>            exit
>         endif
>      next
>   endif
>
> Can you add it?

I'll commit something, but I'd like to ask you to test it.
Feel free to even make corrections.

Before I do, I have a few questions:
- Shouldn't Harbour compiler also use this same .d format, so
   we can use the method for .prg files, too?
- Am I right that these .d files are supposed to be autodetected?
   If so, what is the name? filename.d or filename.c.d?
   Here I have a little worry that this extra file existence
   check in mass will slow down normal make process, especially
   on network shares. I have projects with up to 800 files.
   Other options are passing these .d files explicitly, or
   add a new switch to enable parsing of .d files, like -head=d.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Oct 14 14:42:39 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct 14 14:42:47 2009
Subject: [Harbour] Re: Harbour Forum and Wiki.
In-Reply-To: <4AD61791.6010909@gmail.com>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com>	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>	<4AD33623.3010004@gmail.com>	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>	<4AD34565.2000008@gmail.com>	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>	<havku5$l0v$1@ger.gmane.org>	<1255486243.2088.506.camel@SunSpot>	<4AD5C0AD.3090406@cultura.com.br>
	<990D31B3-F79F-4BFC-A2D1-C17EFEE41099@syenar.hu>
	<4AD61791.6010909@gmail.com>
Message-ID: <EDBEC06A-5E15-4520-B686-22BAFA8ED2F3@syenar.hu>

Hi Roberto,

On 2009 Oct 14, at 20:25, Roberto Lopez wrote:

> Przemyslaw, Viktor,
>
> At first, I've tested the new feature for HBMK2 with HMG samples  
> using LOAD WINDOW command and all goes fine. So I've already  
> published new HMG test build INCLUDING HBMK2 and various mult-ifile  
> samples showing how to work with it.

Very good news. Thank you very much and all the effort you put into it.

> Thanks again for your help on that. All HMG projects family keeps  
> compatibily with LOAD WINDOW command, so these are good news for a  
> lot of people.
>
> Regarding the Harbour files included in the HMG distribution, I've  
> made some tests and discovered an interesting thing.
>
> The files I've excluded (mainly: most of \bin, \doc, \examples and  
> \tests) has a compressed size about 8MB (standard zip).
>
> That size makes a notable difference to me, but I've noticed about  
> one important thing: Using Inno Setup to do the installer with the  
> lzma/ultra64 compression mode (I'm using it) the initial compressed  
> size of 8MB, becomes about only 2MB. So, I've decided to INCLUDE  
> those files on the HMG distribution.
>
> I hope that helps.

This is great news! Many thanks, I'm sure this way everyone benefits.
I'm looking forward installing latest HMG version.

I haven't checked yet, but if possible please also include INSTALL doc
(next to ChangeLog, TODO and COPYING in Harbour root dir), this file
mainly contains information on how to build Harbour, but it's more than
that and contains useful information even for binary distro users,
like hbmk2 samples, etc.

BTW, in NSIS installer which I used for Harbour Windows binary distros,
there is an option as well to use lzma + solid compression:

   SetCompressor /solid lzma

It makes end result size comparable to .7z compression, which is quite  
good.

You can check /package/winuni/mpkg_win_uni.nsi for a complete, working  
example.

[ OFF: Even UPX supports lzma compression, starting with 3.0. It gives  
huge
drop in executable size, with a slightly longer loading time. ]

Brgds,
Viktor

From toninhofwi at yahoo.com.br  Wed Oct 14 15:18:49 2009
From: toninhofwi at yahoo.com.br (ToninhoFWi)
Date: Wed Oct 14 15:18:56 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <1BE1DD9F-ADC6-4EDC-89D2-707F24A5CDB6@syenar.hu>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu>
	<1BE1DD9F-ADC6-4EDC-89D2-707F24A5CDB6@syenar.hu>
Message-ID: <qs8cd5hcfdvu2tibstp0h4do2s9baim9jn@4ax.com>

>What do I need to install to get MSSOAP.SoapClient object
>on my machine?

Viktor, IMO the best is change to PocketSoap, since Microsoft
abandoned MSSOAP.

This is a working sample:

---cut---
local oEnvelope := Win_OleCreateObject( "PocketSOAP.Envelope.2" )
local oHttp := Win_OleCreateObject( "PocketSOAP.HTTPTransport.2" )

oEnvelope:EncodingStyle = ""
oEnvelope:SetMethod( "InvertStringCase",
"http://www.dataaccess.com/webservicesserver/" )
oEnvelope:Parameters:Create( "sAString", "THIS IS LOWER - this is
upper" )

oHttp:Send(
"http://www.dataaccess.com/webservicesserver/textcasing.wso?WSDL",
oEnvelope:Serialize() )

oEnvelope:Parse( oHttp )

MsgInfo( oEnvelope:Parameters:Item( 0 ):Value )
---cut---

You can get Pocket Soap from: http://www.pocketsoap.com/


Best Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From harbour.01 at syenar.hu  Wed Oct 14 15:25:31 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct 14 15:25:41 2009
Subject: [Harbour] FreeDOS in VMWare VM
In-Reply-To: <5E0C885B-879E-4466-9187-7DEA88724312@syenar.hu>
References: <0D121412-7DFF-4D15-B5AA-1F6AC3A866B1@syenar.hu>
	<133778360910091751o27acf0f0if1cd8c92c5e60348@mail.gmail.com>
	<C85913BE-028A-4C9F-8A45-DCFAF80C919B@syenar.hu>
	<133778360910091946t5935a7bbn4e9b68f58f475fd2@mail.gmail.com>
	<95FF18E9-75F6-4AEA-AB6A-BE00C99D22E4@syenar.hu>
	<d6500b450910100521u7f924d72n570632ccdbc1abf3@mail.gmail.com>
	<5DE44478-C22E-4BBA-9358-FD668A9FBBDE@syenar.hu>
	<d6500b450910101134w24128cactefc8f14d64fd23da@mail.gmail.com>
	<5E0C885B-879E-4466-9187-7DEA88724312@syenar.hu>
Message-ID: <63F21E67-2C0E-4CD1-95C9-9002A38A97CA@syenar.hu>

I've updated to latest Wine on OS X (previous version was few weeks  
old),
and now cmd prompt works okay (now colors are ugly but at least  
visible),
and it still can't run DOS executables, but it can run Win16  
application,
in more or less usable way. I have only one Win16 app on my HDD, so it's
not a thorough test.

Few important Win32 apps like Far Manager, foobar2000 work about ok, but
it didn't test them in "production". Maybe one day I can replace my
native Win installations with it, saving lot of memory (and replacing
one sort of headache with other kinds :).

Brgds,
Viktor

On 2009 Oct 11, at 02:21, Viktor Szak?ts wrote:

> We can continue this discussion forever :) but I can assure you
> that Wine on OS X _doesn't_ support DOS. I've posted the error
> message. (Well, maybe it does some more when run from wine
> cmd prompt, but as I wrote in a prev mail, here the color scheme
> is black on black, so it's difficult to see it :)
>
> I didn't emphasis that in my first mail (sorry for that), but
> my host OS is Mac OS X, so I'm interested in finding solution
> for this platform.
>
> After dumping my Windows machine (after it broke) I've fully
> moved to OS X as a host platform and running XP 64-bit in
> a VMWare Fusion VM. BTW I managed to fix the broken Windows
> machine, but decided to dump it anyway.
>
> Brgds,
> Viktor
>
> On 2009 Oct 10, at 20:34, Ciro Vargas C wrote:
>
>> Sorry but Wine support DOS applications.  please test it and you  
>> got surpraised
>>
>> Best
>> regards
>> Ciro
>>
>> 2009/10/10 Viktor Szak?ts <harbour.01@syenar.hu>:
>>> Hi Ciro,
>>>
>>>> Hi Viktor:
>>>>
>>>> Wine has a configuration file where you can assign a drive letter  
>>>> to a
>>>> folder.
>>>> You can edit this file with normal text linux editor or use  
>>>> wineconf.
>>>>
>>>> If the folder is in another machine, before activate  the NFS  
>>>> daemon.
>>>>
>>>> and mount the folder in the current machine from the another like  
>>>> in
>>>> windows
>>>
>>> I'm interested networking in FreeDOS under VMWare configuration.
>>>
>>> For wine it's working fine (but it doesn't support DOS).
>>>
>>> Brgds,
>>> Viktor
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>>
>>
>> -- 
>> http://www.oohg.prg
>> http://sistemascvc.tripod.com
>>
>> donaciones para CVC de ooHG
>>
>> https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>

From mbelgrano at deltain.it  Wed Oct 14 15:31:14 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Oct 14 15:31:40 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D2A@PINK.zycie.pzu>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu> 
	<609353e70910140110y28cbfadfoc37082be3aa28568@mail.gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D2A@PINK.zycie.pzu>
Message-ID: <609353e70910141231g20f7dc1cmf8c57084b7e159a1@mail.gmail.com>

Hi Marek

harbour have a solution for SOAP.CLIENT and  afaik is not possible a
soap server, but harbour have a lot of capability underground

A SOAP server is simply special code that listens for SOAP messages
and acts as a distributor and interpreter of SOAP documents. External
Web services may interact with application servers, which process SOAP
requests from a variety of clients.

The Windows Communication Foundation (or WCF), is an API for building
connected, service-oriented applications.
WCF can use SOAP messages between two processes
http://www.microsoft.com/downloads/details.aspx?FamilyID=2a8e06d9-188d-4ec8-ba2d-d3deb96fc06d&DisplayLang=en

Please post  here any info that you have

2009/10/14 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>:
>>-----Original Message-----
>>From: Massimo Belgrano [mailto:mbelgrano@deltain.it]
>>Sent: Wednesday, October 14, 2009 10:10 AM
>>To: Harbour Project Main Developer List.
>>Subject: Re: [Harbour] Web Services in Harbour
>>
>>Hi marek
>>You have made an interesting question follow my info i have
>>not an harbour reply but somebody can help, translate
>
> [...]
>
>>UDDI (Universal Description, Discovery and Integration) a
>>directory for storing information about web services WSDL (Web
>>Services Description Language) ?XML-based language for
>>locating and describing Web services.
>>
>> example we will use ASP.NET to create a simple Web Service
>>that converts the temperature from Fahrenheit to Celsius
>
> On the Wikipedia page could read a lot more:)
>
>
> [...]
>><WebMethod()> Public Function CelsiusToFahrenheit (ByVal
>>Celsius As String) As String
>> ?dim cel
>> ?cel=trim(replace(Celsius,",","."))
>> ?if cel="" or IsNumeric(cel)=false then return "Error"
>> ?return ((((cel) * 9) / 5) + 32)
>>end function
>>
>>end class
>>
>>For microsoft webservice are evolved in WCF
>>http://msdn.microsoft.com/en-us/library/ms731082.aspx
>>Simple Web Service using WCF
>>http://www.codeproject.com/KB/WCF/WCFWebService.aspx
>
> I need such an example - but it served in Harbor.
> In our business applications are beginning to talk with him after
> SOAP.CLIENT - SOAP.SERVE.
> In the middle there is intermediate bus for WebServices.
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Wed Oct 14 15:38:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Oct 14 15:38:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12709] trunk/harbour
Message-ID: <E1My9gO-0008S6-4l@74yxhf1.ch3.sourceforge.com>

Revision: 12709
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12709&view=rev
Author:   vszakats
Date:     2009-10-14 19:38:47 +0000 (Wed, 14 Oct 2009)

Log Message:
-----------
2009-10-14 21:37 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added .d file parsing routines contributed by Przemek.
      with few minor adaptations for hbmk2 and formatting.
    ; NOTE: Not yet used.

  * contrib/hbwin/tests/testole.prg
    + Added PocketSOAP example. Contributed by Toninho.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/tests/testole.prg
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Oct 14 15:40:28 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Oct 14 15:40:37 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <qs8cd5hcfdvu2tibstp0h4do2s9baim9jn@4ax.com>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu>
	<1BE1DD9F-ADC6-4EDC-89D2-707F24A5CDB6@syenar.hu>
	<qs8cd5hcfdvu2tibstp0h4do2s9baim9jn@4ax.com>
Message-ID: <AE42B744-8AC7-453A-A04B-153B8B2B71CA@syenar.hu>

Thanks Toninho. It works fine, I've added it to testole.prg.

The interface seem much more "elaborate" than MS SOAP, but
this one is alive :)

Brgds,
Viktor

On 2009 Oct 14, at 21:18, ToninhoFWi wrote:

>> What do I need to install to get MSSOAP.SoapClient object
>> on my machine?
>
> Viktor, IMO the best is change to PocketSoap, since Microsoft
> abandoned MSSOAP.
>
> This is a working sample:
>
> ---cut---
> local oEnvelope := Win_OleCreateObject( "PocketSOAP.Envelope.2" )
> local oHttp := Win_OleCreateObject( "PocketSOAP.HTTPTransport.2" )
>
> oEnvelope:EncodingStyle = ""
> oEnvelope:SetMethod( "InvertStringCase",
> "http://www.dataaccess.com/webservicesserver/" )
> oEnvelope:Parameters:Create( "sAString", "THIS IS LOWER - this is
> upper" )
>
> oHttp:Send(
> "http://www.dataaccess.com/webservicesserver/textcasing.wso?WSDL",
> oEnvelope:Serialize() )
>
> oEnvelope:Parse( oHttp )
>
> MsgInfo( oEnvelope:Parameters:Item( 0 ):Value )
> ---cut---
>
> You can get Pocket Soap from: http://www.pocketsoap.com/
>
>
> Best Regards,
>
> Toninho.
>
> __________________________________________________
> Fa?a liga??es para outros computadores com o novo Yahoo! Messenger
> http://br.beta.messenger.yahoo.com/
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vouchcac at users.sourceforge.net  Wed Oct 14 16:23:45 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Oct 14 16:23:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12710] trunk/harbour
Message-ID: <E1MyANt-0006ax-8x@bj8yhf1.ch3.sourceforge.com>

Revision: 12710
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12710&view=rev
Author:   vouchcac
Date:     2009-10-14 20:23:44 +0000 (Wed, 14 Oct 2009)

Log Message:
-----------
2009-10-14 13:18 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/qth/QFileDialog.qth
  * contrib/hbqt/qth/QFontDatabase.qth
  * contrib/hbqt/qth/QFontDialog.qth
  * contrib/hbqt/qth/QFontInfo.qth
  * contrib/hbqt/qth/QMouseEvent.qth
  * contrib/hbqt/qth/QPaintEvent.qth
  * contrib/hbqt/qth/QTableWidgetItem.qth
  * contrib/hbqt/qth/QTextBlock.qth
  * contrib/hbqt/qth/QWebHistoryItem.qth
  * contrib/hbqt/qth/QWebSecurityOrigin.qth
    ! Another round of reforms.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/qth/QFileDialog.qth
    trunk/harbour/contrib/hbqt/qth/QFontDatabase.qth
    trunk/harbour/contrib/hbqt/qth/QFontDialog.qth
    trunk/harbour/contrib/hbqt/qth/QFontInfo.qth
    trunk/harbour/contrib/hbqt/qth/QMouseEvent.qth
    trunk/harbour/contrib/hbqt/qth/QPaintEvent.qth
    trunk/harbour/contrib/hbqt/qth/QTableWidgetItem.qth
    trunk/harbour/contrib/hbqt/qth/QTextBlock.qth
    trunk/harbour/contrib/hbqt/qth/QWebHistoryItem.qth
    trunk/harbour/contrib/hbqt/qth/QWebSecurityOrigin.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From roberbox at gmail.com  Wed Oct 14 17:39:37 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Wed Oct 14 17:39:44 2009
Subject: [Harbour] Re: Harbour Forum and Wiki.
In-Reply-To: <EDBEC06A-5E15-4520-B686-22BAFA8ED2F3@syenar.hu>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com>	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>	<4AD33623.3010004@gmail.com>	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>	<4AD34565.2000008@gmail.com>	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>	<havku5$l0v$1@ger.gmane.org>	<1255486243.2088.506.camel@SunSpot>	<4AD5C0AD.3090406@cultura.com.br>	<990D31B3-F79F-4BFC-A2D1-C17EFEE41099@syenar.hu>	<4AD61791.6010909@gmail.com>
	<EDBEC06A-5E15-4520-B686-22BAFA8ED2F3@syenar.hu>
Message-ID: <4AD64519.8080209@gmail.com>

Viktor Szak?ts wrote:

> I haven't checked yet, but if possible please also include INSTALL doc
> (next to ChangeLog, TODO and COPYING in Harbour root dir), this file
> mainly contains information on how to build Harbour, but it's more than
> that and contains useful information even for binary distro users,
> like hbmk2 samples, etc.

I've not included INSTALL, becuase I've believed that it could be not be 
useful in a binary distribution, but I can do it from the next test release.

Regards,

Roberto.

From harbour.01 at syenar.hu  Wed Oct 14 17:48:47 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct 14 17:48:56 2009
Subject: [Harbour] Re: Harbour Forum and Wiki.
In-Reply-To: <4AD64519.8080209@gmail.com>
References: <hanaud$bqo$1@ger.gmane.org>	<4ACF4AB4.2000907@gmail.com>	<16BDAE4B-F1AF-497D-B575-B12686BB22FD@syenar.hu>	<4ACF6FD5.4010706@gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029098C8@PINK.zycie.pzu>	<4AD30FF7.6070308@gmail.com>	<C326B9AD-C99D-403D-B370-4AFA24DCAB16@syenar.hu>	<4AD31C00.9070107@gmail.com>	<560D1709-ECE8-4AD9-96B2-244926817258@syenar.hu>	<4AD33623.3010004@gmail.com>	<5F6722C8-A839-4B77-8E48-580B162D8456@syenar.hu>	<4AD34565.2000008@gmail.com>	<2DD22CBC-6D8D-4C4A-98DF-9DDE30B1C7C3@syenar.hu>	<havku5$l0v$1@ger.gmane.org>	<1255486243.2088.506.camel@SunSpot>	<4AD5C0AD.3090406@cultura.com.br>	<990D31B3-F79F-4BFC-A2D1-C17EFEE41099@syenar.hu>	<4AD61791.6010909@gmail.com>
	<EDBEC06A-5E15-4520-B686-22BAFA8ED2F3@syenar.hu>
	<4AD64519.8080209@gmail.com>
Message-ID: <812C2EA7-750C-43C1-851A-914501956D98@syenar.hu>

> Viktor Szak?ts wrote:
>
>> I haven't checked yet, but if possible please also include INSTALL  
>> doc
>> (next to ChangeLog, TODO and COPYING in Harbour root dir), this file
>> mainly contains information on how to build Harbour, but it's more  
>> than
>> that and contains useful information even for binary distro users,
>> like hbmk2 samples, etc.
>
> I've not included INSTALL, becuase I've believed that it could be  
> not be useful in a binary distribution, but I can do it from the  
> next test release.

Thank you Roberto.

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Oct 14 18:08:06 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Oct 14 18:22:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12705] trunk/harbour
In-Reply-To: <7C41F3F5-01F3-4E94-A2CB-F589079E0E20@syenar.hu>
References: <E1My2I0-0001tA-Jk@dn4whf1.ch3.sourceforge.com>
	<20091014160912.GA30963@uran.home.aster.pl>
	<7C41F3F5-01F3-4E94-A2CB-F589079E0E20@syenar.hu>
Message-ID: <20091014220806.GA32011@uran.home.aster.pl>

On Wed, 14 Oct 2009, Szak?ts Viktor wrote:

Hi,

> I'll commit something, but I'd like to ask you to test it.
> Feel free to even make corrections.
> Before I do, I have a few questions:
> - Shouldn't Harbour compiler also use this same .d format, so
>   we can use the method for .prg files, too?

I'm not sure I understood you.
Are you asking about adding to current -sm output "<desfile>: "
at the beginning of each line?
If yes then I haven't implement it intentionally because final
<destfile> may be different then the one which harbour compiler
can set. Harbour does not generate .{o,obj} files naively and
user may need it as destination rule. Anyhow I also plan to add
option to create .d files by compiler in one pass with compilation
so they will be created without any noticeable speed overhead and
in this case I will have to arbitrary chose <destfile> extension
using information from -g? switch though maybe I'll try to add also
an option to set the extension by user because in many cases
user will need .{o,obj} but with -gc* used to generate .c files.

> - Am I right that these .d files are supposed to be autodetected?

How thay will be used depends on user. The general idea is 

>   If so, what is the name? filename.d or filename.c.d?

filename.d and it's -MD GCC option behavior.

>   Here I have a little worry that this extra file existence
>   check in mass will slow down normal make process, especially
>   on network shares. I have projects with up to 800 files.

You do not have to make it automatically. Just simply recognize .d
files given by user in command line with wildcard extension in non
POSIX shell environment and load all dependencies sets inside each
of them into one hash table. Then inside code which checks for
dependencies check if scanned file belongs to this hash table and
if yes then take defined dependencies list.

>   Other options are passing these .d files explicitly, or
>   add a new switch to enable parsing of .d files, like -head=d.

exactly though -head=d should only disable other methods used to
detect dependencies. HBMK2 should always recognize .d files given
at command line and load dependencies into hash table. This hash
table should always be used to check if file has to be rebuilt.
If it does not give positive answer then there is a question if
we should try to use other methods. And here we have 3 choices:
1. never use other methods
2. always use other methods
3. use other method only if '! <destfile> $ hDeps' so adding
   <destfile> to one of .d files even with empty dependencies list
   will disable other method used to detect if file should be
   recompiled.
I can imagine situations where each method can be usable so maybe
we should have option to chose one of them.
I'm leaving the decision for you. You know HBMK2 code much better
then any of us.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Oct 14 18:24:57 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Oct 14 18:25:04 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c not fully
	compatible with clipper
In-Reply-To: <8F0C8AFE-67A1-41C2-8500-38C123C73081@syenar.hu>
References: <4ACF18B7.5030601@adinet.com.uy> <4ACF1EA8.9010205@gmail.com>
	<4ACF22EC.5050400@adinet.com.uy> <4ACF55F3.1080708@gmail.com>
	<4AD05700.7050502@adinet.com.uy> <4AD0BCC4.6030807@gmail.com>
	<4AD0C3AD.5030706@gmail.com> <4AD4DEA0.5070300@adinet.com.uy>
	<4AD5AA32.3010509@gmail.com>
	<8F0C8AFE-67A1-41C2-8500-38C123C73081@syenar.hu>
Message-ID: <20091014222457.GB32011@uran.home.aster.pl>

On Wed, 14 Oct 2009, Szak?ts Viktor wrote:

Hi,

> Thank you. I'd like to ask Przemek to review these modifications,
> as they are also altering the CP engine.

It breaks Turkish CPs so we cannot use it in such form.

I'll add soon alternative method to register CPs.
It will use 4 tables with 256 bytes each of them. One for
upper translation, second for lower translation, third for
sorting and forth with bits describing character attributes
(alpha, digit, upper, lower) for IS*() functions.
It will allow to automatically generate CP modules for Harbour
from Clipper applications what should definitely resolve the
problem for all programs which have to share data with Clipper.
Anyone will be able to create CP module for Harbour himself.
But for such definitions I have to change existing code used for
translations and update some code which now directly access
CharsUpper and CharsLower HB_CODEPAGE members (mostly GT code).

best regards,
Przemek
From labitas at gmail.com  Thu Oct 15 02:50:30 2009
From: labitas at gmail.com (Saulius Zrelskis)
Date: Thu Oct 15 02:50:36 2009
Subject: [Harbour] hb_fsIsDrv()
Message-ID: <2386af1b0910142350u1671eb6fqbaab5551e1639b08@mail.gmail.com>

Hi All,

In file \source\rtl\filesys.c there is note before function fsIsDrv:

...
/* TOFIX: This isn't fully compliant because CA-Cl*pper doesn't access
          the drive before checking. hb_fsIsDrv only returns TRUE
          if there is a disk in the drive. */

USHORT hb_fsIsDrv( BYTE nDrive )
...

Can it be that API GetLogicalDrives() is better candidate for such action?

Best regards,
Saulius
From mbelgrano at deltain.it  Thu Oct 15 03:16:56 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Oct 15 03:17:23 2009
Subject: [Harbour] hb_fsIsDrv()
In-Reply-To: <2386af1b0910142350u1671eb6fqbaab5551e1639b08@mail.gmail.com>
References: <2386af1b0910142350u1671eb6fqbaab5551e1639b08@mail.gmail.com>
Message-ID: <609353e70910150016g154ee448m95750fbbdf44cdcd@mail.gmail.com>

Hi Saulius
I made a non technical observation
I want made compliment for your post are Simply,Clear,Complete
Compliment! I must learn from you.
I think that you speak English as native language

2009/10/15 Saulius Zrelskis <labitas@gmail.com>:
> Hi All,
>
> In file \source\rtl\filesys.c there is note before function fsIsDrv:
>
> ...
> /* TOFIX: This isn't fully compliant because CA-Cl*pper doesn't access
> ? ? ? ? ?the drive before checking. hb_fsIsDrv only returns TRUE
> ? ? ? ? ?if there is a disk in the drive. */
>
> USHORT hb_fsIsDrv( BYTE nDrive )
> ...
>
> Can it be that API GetLogicalDrives() is better candidate for such action?
>
> Best regards,
> Saulius
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From M.Horodyski at pzuzycie.com.pl  Thu Oct 15 03:23:43 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Oct 15 03:23:52 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <qs8cd5hcfdvu2tibstp0h4do2s9baim9jn@4ax.com>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com><FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu><1BE1DD9F-ADC6-4EDC-89D2-707F24A5CDB6@syenar.hu>
	<qs8cd5hcfdvu2tibstp0h4do2s9baim9jn@4ax.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D7B@PINK.zycie.pzu>

>-----Original Message-----
>From: ToninhoFWi [mailto:toninhofwi@yahoo.com.br] 
>Sent: Wednesday, October 14, 2009 9:19 PM
>To: Harbour Project Main Developer List.
>Subject: Re: Re: [Harbour] Web Services in Harbour
>
...

>This is a working sample:
>
>---cut---
>local oEnvelope := Win_OleCreateObject( 
>"PocketSOAP.Envelope.2" ) local oHttp := Win_OleCreateObject( 
>"PocketSOAP.HTTPTransport.2" )
>
>oEnvelope:EncodingStyle = ""
>oEnvelope:SetMethod( "InvertStringCase", 
>"http://www.dataaccess.com/webservicesserver/" ) 
>oEnvelope:Parameters:Create( "sAString", "THIS IS LOWER - this 
>is upper" )
>
>oHttp:Send(
>"http://www.dataaccess.com/webservicesserver/textcasing.wso?WSDL",
>oEnvelope:Serialize() )
>
>oEnvelope:Parse( oHttp )
>
>MsgInfo( oEnvelope:Parameters:Item( 0 ):Value )
>---cut---

This sample is too working for me (after install PocketSOAP).
But here I see 2 pcs of objects. 
These new elements, like serialize, create parameters etc.
How in this example to look something like this?

*----
LOCAL oSoapClient := CreateObject( "MSSOAP.SoapClient" )
? ValType( oSoapClient)
oSoapClient:msSoapInit(
'http://10.16.24.97:7001/SampleServices/pl/pzu/ws/sampleservice/VerySimp
leService?WSDL')
? oSoapClient:addNumbers( 5.00, 7.00)
*----

Can I receive as a result of the complex result (array, object ) ?

Regards,
Marek Horodyski
From M.Horodyski at pzuzycie.com.pl  Thu Oct 15 03:54:42 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Oct 15 03:54:50 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <609353e70910141231g20f7dc1cmf8c57084b7e159a1@mail.gmail.com>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com><FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu>
	<609353e70910140110y28cbfadfoc37082be3aa28568@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D2A@PINK.zycie.pzu>
	<609353e70910141231g20f7dc1cmf8c57084b7e159a1@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D92@PINK.zycie.pzu>

>-----Original Message-----
>From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
>Sent: Wednesday, October 14, 2009 9:31 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Web Services in Harbour
>
>Hi Marek
>
>harbour have a solution for SOAP.CLIENT and  afaik is not 
>possible a soap server, but harbour have a lot of capability 
>underground

Not yet, but in the future ?
Today seems to be necessary.
In the company we have nearly 800 applications.
Those who will not know how to integrate with others will be eliminated.
Integration platform is the SOAP.
Putting SOAP messages on the server database does not always meet the
need.
The application serves SOAP is much more powerful.

In the Harbor App I doing in seconds something that large applications
can not do in the hour session.
But I can not [bowl | serve] a SOAP service.

Regards,
Marek Horodyski
From harbour.01 at syenar.hu  Thu Oct 15 03:55:34 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct 15 03:55:45 2009
Subject: [Harbour] hb_fsIsDrv()
In-Reply-To: <2386af1b0910142350u1671eb6fqbaab5551e1639b08@mail.gmail.com>
References: <2386af1b0910142350u1671eb6fqbaab5551e1639b08@mail.gmail.com>
Message-ID: <6A6B1938-5341-4921-8EB8-6DAD1A201B95@syenar.hu>

Hi Saulius,

Good point. I can't do side-by-side comparisons with
Clipper anymore, but it seems right. [ I think it's
my TOFIX comment. ]

I can make this modification, but I'd like to ask for
tests against Clipper.

Brgds,
Viktor

On 2009 Oct 15, at 08:50, Saulius Zrelskis wrote:

> Hi All,
>
> In file \source\rtl\filesys.c there is note before function fsIsDrv:
>
> ...
> /* TOFIX: This isn't fully compliant because CA-Cl*pper doesn't access
>          the drive before checking. hb_fsIsDrv only returns TRUE
>          if there is a disk in the drive. */
>
> USHORT hb_fsIsDrv( BYTE nDrive )
> ...
>
> Can it be that API GetLogicalDrives() is better candidate for such  
> action?
>
> Best regards,
> Saulius
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Oct 15 04:00:50 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Oct 15 04:01:01 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D92@PINK.zycie.pzu>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com><FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu>
	<609353e70910140110y28cbfadfoc37082be3aa28568@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D2A@PINK.zycie.pzu>
	<609353e70910141231g20f7dc1cmf8c57084b7e159a1@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D92@PINK.zycie.pzu>
Message-ID: <B80C439B-D599-4E4E-B741-FFB128535977@syenar.hu>

Hi Marek,

Is there any sort of existing library or other sort
of external package which helps to implement such server?

SOAP is supposed to be an open standard (although it
does seem quite MS centric regardless), so I suppose
such server side functionality may exist somewhere
already, and shouldn't be written from ground up for
tools like Harbour.

So, is there anything we could use?

Brgds,
Viktor

On 2009 Oct 15, at 09:54, Horodyski Marek (PZUZ) wrote:

>> -----Original Message-----
>> From: Massimo Belgrano [mailto:mbelgrano@deltain.it]
>> Sent: Wednesday, October 14, 2009 9:31 PM
>> To: Harbour Project Main Developer List.
>> Subject: Re: [Harbour] Web Services in Harbour
>>
>> Hi Marek
>>
>> harbour have a solution for SOAP.CLIENT and  afaik is not
>> possible a soap server, but harbour have a lot of capability
>> underground
>
> Not yet, but in the future ?
> Today seems to be necessary.
> In the company we have nearly 800 applications.
> Those who will not know how to integrate with others will be  
> eliminated.
> Integration platform is the SOAP.
> Putting SOAP messages on the server database does not always meet the
> need.
> The application serves SOAP is much more powerful.
>
> In the Harbor App I doing in seconds something that large applications
> can not do in the hour session.
> But I can not [bowl | serve] a SOAP service.
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Thu Oct 15 04:19:41 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Oct 15 04:19:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12711] trunk/harbour
Message-ID: <E1MyLYj-0005HW-IX@74yxhf1.ch3.sourceforge.com>

Revision: 12711
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12711&view=rev
Author:   vszakats
Date:     2009-10-15 08:19:40 +0000 (Thu, 15 Oct 2009)

Log Message:
-----------
2009-10-15 10:03 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/filesys.c
    ! hb_fsIsDrv() changed on win platform to use GetLogicalDrives() API 
      instead of GetDriveTypeA(). This should fix existing TOFIX.
      Thanks for Saulius Zrelskis for the suggestion.
      I'd like to ask users to make side-by-side comparisons with 
      CA-Cl*pper to see if we're compatible.
    ! Fixed hb_fsIsDrv() on non-win platforms to always set 
      internal error to zero. CA-Cl*pper does the same.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/filesys.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From M.Horodyski at pzuzycie.com.pl  Thu Oct 15 04:48:28 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Oct 15 04:48:39 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <B80C439B-D599-4E4E-B741-FFB128535977@syenar.hu>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com><FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu><609353e70910140110y28cbfadfoc37082be3aa28568@mail.gmail.com><FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D2A@PINK.zycie.pzu><609353e70910141231g20f7dc1cmf8c57084b7e159a1@mail.gmail.com><FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D92@PINK.zycie.pzu>
	<B80C439B-D599-4E4E-B741-FFB128535977@syenar.hu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909DB6@PINK.zycie.pzu>

>-----Original Message-----
>From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
>Sent: Thursday, October 15, 2009 10:01 AM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Web Services in Harbour
>
>Hi Marek,
>
>Is there any sort of existing library or other sort of 
>external package which helps to implement such server?
>
>SOAP is supposed to be an open standard (although it does seem 
>quite MS centric regardless), so I suppose such server side 
>functionality may exist somewhere already, and shouldn't be 
>written from ground up for tools like Harbour.
>
>So, is there anything we could use?

I do not know. Do not even know how to look this via google.
I am an economist who writes the programs necessary for 25 years.
This question is more to Przemek, Pripital and Mindaugas.
>From observation I would say that WebServices very simplify integration between applications (ie Web-based messages, so applications can work on Linux, Windows, Solaris, etc.).

Regards,
Marek Horodyski
From harbour.01 at syenar.hu  Thu Oct 15 05:06:08 2009
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct 15 05:06:18 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909DB6@PINK.zycie.pzu>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com><FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu><609353e70910140110y28cbfadfoc37082be3aa28568@mail.gmail.com><FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D2A@PINK.zycie.pzu><609353e70910141231g20f7dc1cmf8c57084b7e159a1@mail.gmail.com><FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D92@PINK.zycie.pzu>
	<B80C439B-D599-4E4E-B741-FFB128535977@syenar.hu>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909DB6@PINK.zycie.pzu>
Message-ID: <79B68B01-8691-4FCE-BA30-05FE9E1B2A5D@syenar.hu>

>> SOAP is supposed to be an open standard (although it does seem
>> quite MS centric regardless), so I suppose such server side
>> functionality may exist somewhere already, and shouldn't be
>> written from ground up for tools like Harbour.
>>
>> So, is there anything we could use?
>
> I do not know. Do not even know how to look this via google.
> I am an economist who writes the programs necessary for 25 years.
> This question is more to Przemek, Pripital and Mindaugas.

I don't think so, it's a question for those who are interested
in the topic. It's easy to pass balls, but such research can
be done by anyone, I googled "SOAP server" with lots of results.
I don't have time and enough interest to look into it ATM,
that's why I asked about it.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Thu Oct 15 05:48:33 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Oct 15 05:48:39 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <B80C439B-D599-4E4E-B741-FFB128535977@syenar.hu>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu>
	<609353e70910140110y28cbfadfoc37082be3aa28568@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D2A@PINK.zycie.pzu>
	<609353e70910141231g20f7dc1cmf8c57084b7e159a1@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D92@PINK.zycie.pzu>
	<B80C439B-D599-4E4E-B741-FFB128535977@syenar.hu>
Message-ID: <9257026e0910150248o1ddb548bscdfa3b81b50f59c5@mail.gmail.com>

On Thu, Oct 15, 2009 at 10:00 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> So, is there anything we could use?

We services are essentially mutithreading, sockets and XML, so we
surely lack a strong XML support.

Harbour need a server or a container ( like Tomcat, Geronimo,  .Net )
that dynamically loads small modules at request ( HRBs could be used
with an extended usability ).

It's not rocket science but as you said probably the Harbour user base
is too small for this kind of applications.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Thu Oct 15 05:58:11 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct 15 05:58:21 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <9257026e0910150248o1ddb548bscdfa3b81b50f59c5@mail.gmail.com>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu>
	<609353e70910140110y28cbfadfoc37082be3aa28568@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D2A@PINK.zycie.pzu>
	<609353e70910141231g20f7dc1cmf8c57084b7e159a1@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D92@PINK.zycie.pzu>
	<B80C439B-D599-4E4E-B741-FFB128535977@syenar.hu>
	<9257026e0910150248o1ddb548bscdfa3b81b50f59c5@mail.gmail.com>
Message-ID: <67568C52-51D7-4364-B83D-60F11D87D877@syenar.hu>

Thanks Lorenzo.

Surely XML is missing. I started creating wrappers for
libxml2, maybe I'll publish it, but only if there is
interested and others are willing to contribute.

Brgds,
Viktor

On 2009 Oct 15, at 11:48, Lorenzo Fiorini wrote:

> On Thu, Oct 15, 2009 at 10:00 AM, Viktor Szak?ts <harbour. 
> 01@syenar.hu> wrote:
>
>> So, is there anything we could use?
>
> We services are essentially mutithreading, sockets and XML, so we
> surely lack a strong XML support.
>
> Harbour need a server or a container ( like Tomcat, Geronimo,  .Net )
> that dynamically loads small modules at request ( HRBs could be used
> with an extended usability ).
>
> It's not rocket science but as you said probably the Harbour user base
> is too small for this kind of applications.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Thu Oct 15 06:01:16 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Oct 15 06:01:44 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <B80C439B-D599-4E4E-B741-FFB128535977@syenar.hu>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu> 
	<609353e70910140110y28cbfadfoc37082be3aa28568@mail.gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D2A@PINK.zycie.pzu> 
	<609353e70910141231g20f7dc1cmf8c57084b7e159a1@mail.gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D92@PINK.zycie.pzu> 
	<B80C439B-D599-4E4E-B741-FFB128535977@syenar.hu>
Message-ID: <609353e70910150301y1912d2c0p25e4a3c254cbb28e@mail.gmail.com>

Here is a very simple soap server
http://www.vivtek.com/wftk/doc/code/python/soap_server.html



2009/10/15 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Marek,
>
> Is there any sort of existing library or other sort
> of external package which helps to implement such server?
>
> SOAP is supposed to be an open standard (although it
> does seem quite MS centric regardless), so I suppose
> such server side functionality may exist somewhere
> already, and shouldn't be written from ground up for
> tools like Harbour.
>
> So, is there anything we could use?
>
> Brgds,
> Viktor
>
> On 2009 Oct 15, at 09:54, Horodyski Marek (PZUZ) wrote:
>
>>> -----Original Message-----
>>> From: Massimo Belgrano [mailto:mbelgrano@deltain.it]
>>> Sent: Wednesday, October 14, 2009 9:31 PM
>>> To: Harbour Project Main Developer List.
>>> Subject: Re: [Harbour] Web Services in Harbour
>>>
>>> Hi Marek
>>>
>>> harbour have a solution for SOAP.CLIENT and ?afaik is not
>>> possible a soap server, but harbour have a lot of capability
>>> underground
>>
>> Not yet, but in the future ?
>> Today seems to be necessary.
>> In the company we have nearly 800 applications.
>> Those who will not know how to integrate with others will be eliminated.
>> Integration platform is the SOAP.
>> Putting SOAP messages on the server database does not always meet the
>> need.
>> The application serves SOAP is much more powerful.
>>
>> In the Harbor App I doing in seconds something that large applications
>> can not do in the hour session.
>> But I can not [bowl | serve] a SOAP service.
>>
>> Regards,
>> Marek Horodyski
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From lorenzo.fiorini at gmail.com  Thu Oct 15 06:29:41 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Oct 15 06:29:47 2009
Subject: [Harbour] How to enter and view data in 5 languages?
Message-ID: <9257026e0910150329lbc5cf8ao4820b8cb4def495@mail.gmail.com>

I mean the users need to enter, edit, view and print item descriptions
stored in DBF's character fields in 5 West Europe languages:
Italian, English, German, Spanish and French.

Is it possible?

best regards,
Lorenzo
From vszakats at users.sourceforge.net  Thu Oct 15 07:57:59 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Oct 15 07:58:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12712] trunk/harbour
Message-ID: <E1MyOxz-0003lG-EL@c3vjzd1.ch3.sourceforge.com>

Revision: 12712
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12712&view=rev
Author:   vszakats
Date:     2009-10-15 11:57:57 +0000 (Thu, 15 Oct 2009)

Log Message:
-----------
2009-10-15 13:49 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.pt_BR.po
  * utils/hbmk2/hbmk2.hu_HU.po
  * utils/hbmk2/hbmk2.prg
    + Added support for .d dependency files as source files in both 
      command line and .hbc sources= line.
    * Changed to use hash operators instead of functions in FindNewerHeaders().
      [ Probably hashes could be used much more in hbmk2 code to optimize 
      some parts. ]
    * Synced the way hb_FGetDateTime() call success is handled.
    + Added more provision for inctrypath handling in conjunction 
      with new dependency checking techniques. Still doesn't work 
      though.
    ; TOFIX: inctrypath with new dependency checking techniques.
    ; Please test .d support.
    ; NOTE: As for different fallback techniques when .d files are used, 
            well, maybe this should be somehow signaled on a .d file basis, 
            inside the .d file, like continue to check, stop checking, etc.
    ; NOTE: There is a slight chance for regressions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.hu_HU.po
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From labitas at gmail.com  Thu Oct 15 08:13:02 2009
From: labitas at gmail.com (Saulius Zrelskis)
Date: Thu Oct 15 08:13:11 2009
Subject: [Harbour] hb_fsIsDrv()
In-Reply-To: <609353e70910150016g154ee448m95750fbbdf44cdcd@mail.gmail.com>
References: <2386af1b0910142350u1671eb6fqbaab5551e1639b08@mail.gmail.com>
	<609353e70910150016g154ee448m95750fbbdf44cdcd@mail.gmail.com>
Message-ID: <2386af1b0910150513s1ba42c79paedad9c0b39f03ee@mail.gmail.com>

Hi Massimo,

> I think that you speak English as native language

We have common language - Harbour language, and
to speak in program lines is very clear for all of us :)

Best regards,
Saulius
From labitas at gmail.com  Thu Oct 15 08:30:05 2009
From: labitas at gmail.com (Saulius Zrelskis)
Date: Thu Oct 15 08:30:12 2009
Subject: [Harbour] hb_fsIsDrv()
In-Reply-To: <6A6B1938-5341-4921-8EB8-6DAD1A201B95@syenar.hu>
References: <2386af1b0910142350u1671eb6fqbaab5551e1639b08@mail.gmail.com>
	<6A6B1938-5341-4921-8EB8-6DAD1A201B95@syenar.hu>
Message-ID: <2386af1b0910150530g43eda9a3n79ba04939defc5c4@mail.gmail.com>

Hi Viktor,

> Good point. I can't do side-by-side comparisons with
> Clipper anymore, but it seems right. [ I think it's
> my TOFIX comment. ]
>
> I can make this modification, but I'd like to ask for
> tests against Clipper.

Now code looks more graceful, thank you.

Clipper's API _fsIsDrv() uses:
INT 11 (GET EQUIPMENT LIST) for floppy disk(s)
INT 21/AH=36 (GET FREE DISK SPACE) for others.
Clipper can't see CD-ROM equipment if there is
no disk inserted, Harbour can before and now.

Best regards,
Saulius
From sscc at mweb.co.za  Thu Oct 15 08:50:48 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Oct 15 08:50:57 2009
Subject: [Harbour] COM Arrays of COM Objects
In-Reply-To: <4AD5F0F2.5090609@mweb.co.za>
References: <4AD5F0F2.5090609@mweb.co.za>
Message-ID: <4AD71AA8.40502@mweb.co.za>

Alex Strickland wrote:

> My code is failing on an a COM call which is supposed to return an array 
> of COM objects. Is that even supposed to work?
> 
> I get NIL, not an error.

If anyone is willing to work on this issue and ActiveX support for HWGUI on a 
commercial basis, please contact me by e-mail. Any improvements will of course 
be committed to SVN.

Regards
Alex

From labitas at gmail.com  Thu Oct 15 08:56:30 2009
From: labitas at gmail.com (Saulius Zrelskis)
Date: Thu Oct 15 08:56:40 2009
Subject: [Harbour] hb_fsIsDrv()
In-Reply-To: <6A6B1938-5341-4921-8EB8-6DAD1A201B95@syenar.hu>
References: <2386af1b0910142350u1671eb6fqbaab5551e1639b08@mail.gmail.com>
	<6A6B1938-5341-4921-8EB8-6DAD1A201B95@syenar.hu>
Message-ID: <2386af1b0910150556w177302anb8c62f341794cdc2@mail.gmail.com>

Hi Viktor,

One more question regarding filesys.c function hb_fsCurDirBuff.
Is there any reason for which on win platform uses API
GetCurrentDirectoryA, but not _getdcwd ?

Best regards,
Saulius
From harbour.01 at syenar.hu  Thu Oct 15 09:04:44 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct 15 09:04:54 2009
Subject: [Harbour] hb_fsIsDrv()
In-Reply-To: <2386af1b0910150556w177302anb8c62f341794cdc2@mail.gmail.com>
References: <2386af1b0910142350u1671eb6fqbaab5551e1639b08@mail.gmail.com>
	<6A6B1938-5341-4921-8EB8-6DAD1A201B95@syenar.hu>
	<2386af1b0910150556w177302anb8c62f341794cdc2@mail.gmail.com>
Message-ID: <9223B90A-3B1E-409C-A0B3-9C3B3B3BF7E1@syenar.hu>

Hi Saulius,

On 2009 Oct 15, at 14:56, Saulius Zrelskis wrote:

> Hi Viktor,
>
> One more question regarding filesys.c function hb_fsCurDirBuff.
> Is there any reason for which on win platform uses API
> GetCurrentDirectoryA, but not _getdcwd ?

Generally in Harbour we prefer to use either ANSI C functions
or direct OS APIs, instead of C RTL specific calls. It's
better this way for portability and one less level of abstraction
to worry about.

Brgds,
Viktor

From amigosam at adinet.com.uy  Thu Oct 15 09:26:39 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Thu Oct 15 09:27:00 2009
Subject: [Harbour] Re: Web Services in Harbour
In-Reply-To: <B80C439B-D599-4E4E-B741-FFB128535977@syenar.hu>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com><FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu>	<609353e70910140110y28cbfadfoc37082be3aa28568@mail.gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D2A@PINK.zycie.pzu>	<609353e70910141231g20f7dc1cmf8c57084b7e159a1@mail.gmail.com>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D92@PINK.zycie.pzu>
	<B80C439B-D599-4E4E-B741-FFB128535977@syenar.hu>
Message-ID: <hb77tv$h5s$1@ger.gmane.org>

Viktor Szak?ts escribi?:
> Hi Marek,
> 
> Is there any sort of existing library or other sort
> of external package which helps to implement such server?
> 
> SOAP is supposed to be an open standard (although it
> does seem quite MS centric regardless), so I suppose
> such server side functionality may exist somewhere
> already, and shouldn't be written from ground up for
> tools like Harbour.
> 
> So, is there anything we could use?
> 
> Brgds,
> Viktor
> 
> On 2009 Oct 15, at 09:54, Horodyski Marek (PZUZ) wrote:
> 
>>> -----Original Message-----
>>> From: Massimo Belgrano 
>>> [mailto:mbelgrano@deltain.it]
>>> Sent: Wednesday, October 14, 2009 9:31 PM
>>> To: Harbour Project Main Developer List.
>>> Subject: Re: [Harbour] Web Services in Harbour
>>>
>>> Hi Marek
>>>
>>> harbour have a solution for SOAP.CLIENT and  afaik is not
>>> possible a soap server, but harbour have a lot of capability
>>> underground
>>
>> Not yet, but in the future ?
>> Today seems to be necessary.
>> In the company we have nearly 800 applications.
>> Those who will not know how to integrate with others will be eliminated.
>> Integration platform is the SOAP.
>> Putting SOAP messages on the server database does not always meet the
>> need.
>> The application serves SOAP is much more powerful.
>>
>> In the Harbor App I doing in seconds something that large applications
>> can not do in the hour session.
>> But I can not [bowl | serve] a SOAP service.
>>
>> Regards,
>> Marek Horodyski
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

Hi Viktor

A SOAP server IS an HTTP server that returns XML formated files instead 
of HTML formated ones.
There's a RFC published by the w3 consortium on how to format them.
Harbour already has an HTML server, it only takes one volunteer to study 
that paper and modify it to serve SOAP messages also.

Just a Hint...

Regards Angel

From vszakats at users.sourceforge.net  Thu Oct 15 09:56:41 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Oct 15 09:56:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12713] trunk/harbour
Message-ID: <E1MyQor-0003Cj-Pj@d5vjzd1.ch3.sourceforge.com>

Revision: 12713
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12713&view=rev
Author:   vszakats
Date:     2009-10-15 13:56:40 +0000 (Thu, 15 Oct 2009)

Log Message:
-----------
2009-10-15 15:55 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * src/common/hbgete.c
  * src/rtl/filesys.c
  * src/rtl/net.c
    + Changed to use native instead of fixed ANSI version of win API calls.
    ; Please review me, all these are critical low level functions, 
      so any mistakes can be deadly.

    ; TODO: There are still some forced ANSI calls in Harbour code:
            (plus some dynamically called ones)
      ---
      source/common/hbver.c:264:      if( GetVersionExA( &osVer ) )
      source/common/hbver.c:306:                  if( GetVersionExA( ( OSVERSIONINFOA * ) &osVerEx ) )
      source/rtl/fstemp.c:153:         if( ! GetTempPathA( ( DWORD ) ( HB_PATH_MAX - 1 ), pszName ) )
      source/rtl/fstemp.c:270:         if( ! GetTempPathA( ( DWORD ) HB_PATH_MAX, szTempDir ) )
      source/rtl/fstemp.c:278:      fResult = GetTempFileNameA( szTempDir, pszPrefix ? pszPrefix : "hb", 0, pszBuffer );
      contrib/hbwin/win_prn2.c:169:      DWORD dwSize = GetProfileStringA( "windows", "device", "", pPrinterName, *pdwBufferSize );
      ---

  * src/rtl/fstemp.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/common/hbgete.c
    trunk/harbour/src/rtl/filesys.c
    trunk/harbour/src/rtl/fstemp.c
    trunk/harbour/src/rtl/net.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Thu Oct 15 11:04:06 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Oct 15 11:04:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12714] trunk/harbour
Message-ID: <E1MyRs6-0004d9-Jc@d5vjzd1.ch3.sourceforge.com>

Revision: 12714
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12714&view=rev
Author:   druzus
Date:     2009-10-15 15:04:02 +0000 (Thu, 15 Oct 2009)

Log Message:
-----------
2009-10-15 17:03 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rdd/dbfcdx/dbfcdx1.c
    * removed old unused macros

  * harbour/include/hbcompdf.h
  * harbour/src/compiler/hbmain.c
  * harbour/src/compiler/cmdcheck.c
  * harbour/src/compiler/complex.c
  * harbour/src/compiler/hbcomp.c
  * harbour/src/compiler/gencobj.c
  * harbour/src/compiler/hbusage.c
    + added support for -gd[.<destExt>] switch.
      When used Harbour compiler generates also .d file with dependencies
      list in the form like for make systems:
         <destFile>: <sourceFiles,...>
      optional .<destExt> parameter value can be used to replace default
      extension in <destFile>.
      Now users can generate .d files without additional overhead in the
      same pass as normal compilation by simple adding -gd[.<destExt>]
      switch to compilation command instead of executing harbour compiler
      second time with -sm switch.

  * harbour/doc/man/harbour.1
    * updated man page

  * harbour/utils/hbmk2/hbmk2.prg
    * removed -kj switch - it's not longer necessary to improve -sm
    * minor formatting

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/man/harbour.1
    trunk/harbour/include/hbcompdf.h
    trunk/harbour/src/compiler/cmdcheck.c
    trunk/harbour/src/compiler/complex.c
    trunk/harbour/src/compiler/gencobj.c
    trunk/harbour/src/compiler/hbcomp.c
    trunk/harbour/src/compiler/hbmain.c
    trunk/harbour/src/compiler/hbusage.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Oct 15 11:17:52 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Oct 15 11:17:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12715] trunk/harbour
Message-ID: <E1MyS5Q-0002dS-1S@3kljzd1.ch3.sourceforge.com>

Revision: 12715
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12715&view=rev
Author:   vszakats
Date:     2009-10-15 15:17:50 +0000 (Thu, 15 Oct 2009)

Log Message:
-----------
2009-10-15 17:14 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * src/common/hbver.c
  * src/rtl/fstemp.c
  * contrib/hbwin/win_prn2.c
    + Changed to use native instead of fixed ANSI version of win API calls.
    ; Please review me, all these are critical low level functions, 
      so any mistakes can be deadly.
    ; TODO: Remaining dynamic versions, although maybe for dynamically 
            loaded win API functions it's better to stay with ANSI 
            version for compatibility.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/src/common/hbver.c
    trunk/harbour/src/rtl/fstemp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Oct 15 11:31:51 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Oct 15 11:31:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12706] trunk/harbour
In-Reply-To: <9257026e0910141010r71809418l7a04262671a34f0@mail.gmail.com>
References: <E1My5dS-0005aR-VJ@c3vjzd1.ch3.sourceforge.com>
	<9257026e0910141010r71809418l7a04262671a34f0@mail.gmail.com>
Message-ID: <20091015153151.GA5730@uran.home.aster.pl>

On Wed, 14 Oct 2009, Lorenzo Fiorini wrote:
> > ?* harbour/bin/hb-func.sh
> > ? ?! do not look for .c files as result of hbcmp script executed
> > ? ? ?with -s or -sm switch and without -g[oh] * switches.
> I've locally added a -MD switch to hb-func.sh:
> ...
>         -MD=*)       HB_MD="\${v#*=}" ;;
> ...
> hb_cmp()
> {
>     ${hb_cmpname} "\$@" \${HB_OPT} \${HB_PATHS} && \\
>     ( [ "\${HB_GEN//c/}" != "" ] || [ "\${HB_NOC}" = "yes" ] || \\
>     ( [ -f "\${FOUTC}" ] && \\
>     hb_cc -c "\${FOUTC}" -o "\${FOUTO}" && \\
>     ( [ "\${HB_GEN}" = "c" ] || rm -f "\${FOUTC}" ) ) )
>     if [ -n "\${HB_MD}" ]; then
>        MDOUT=\`${hb_cmpname} "\$@" -q0 -m -sm \${HB_OPT} \${HB_PATHS}\`
>        echo \${FILEOUT}: \${MDOUT} > \${HB_MD}
>     fi
> }
> ...
> The rules.mk so looks like:
> ...
> -include $(DFILES)
> %.hrb: $(ROOT)%.prg
> 	hbcmp $(PRGFLAGS) -MD=$(@:.hrb=.d) $< -o$@
> ...
> The requirements are to define -o file and use -MD=file.d.
> Do you see any better way to do it or any problem with it?

I intentionally haven't implemented such switch at hb* scripts
level because it has to execute Harbour compiler twice so it
causes additional speed overhead.
Now Harbour supports -gd option which enable such functionality
directly in compiler so .d files can be generated without any
additional time cost caused by second .prg files preprocessing.
It means that your final rules can look like:

%.hrb: $(ROOT)%.prg
	hbcmp $(PRGFLAGS) -gh -gd $< -o$@

%.o: $(ROOT)%.prg
	hbcmp $(PRGFLAGS) -gc0 -gd.o $< -o$@

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Thu Oct 15 11:50:54 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Oct 15 11:51:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12706] trunk/harbour
In-Reply-To: <20091015153151.GA5730@uran.home.aster.pl>
References: <E1My5dS-0005aR-VJ@c3vjzd1.ch3.sourceforge.com>
	<9257026e0910141010r71809418l7a04262671a34f0@mail.gmail.com>
	<20091015153151.GA5730@uran.home.aster.pl>
Message-ID: <9257026e0910150850l2d54a1daib445de6c323cf9fc@mail.gmail.com>

On Thu, Oct 15, 2009 at 5:31 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> I intentionally haven't implemented such switch at hb* scripts
> level because it has to execute Harbour compiler twice so it
> causes additional speed overhead.

And I've added it to hbcmp to avoid the sh.exe overhead in msys :)

> Now Harbour supports -gd option which enable such functionality
> directly in compiler so .d files can be generated without any
> additional time cost caused by second .prg files preprocessing.

What can I say? :)

Many, many thanks.

best regards,
Lorenzo
From toninhofwi at yahoo.com.br  Thu Oct 15 12:01:15 2009
From: toninhofwi at yahoo.com.br (ToninhoFWi)
Date: Thu Oct 15 12:01:18 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D7B@PINK.zycie.pzu>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com><FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu><1BE1DD9F-ADC6-4EDC-89D2-707F24A5CDB6@syenar.hu>
	<qs8cd5hcfdvu2tibstp0h4do2s9baim9jn@4ax.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D7B@PINK.zycie.pzu>
Message-ID: <qlhed55frh44s9glvako7s48u2bdejsth2@4ax.com>

Hi Marek

>Can I receive as a result of the complex result (array, object ) ?

There are a lot of samples in pockesoap home. As I can see pocketsoap
is much more complete compared to mssoap, but is more hard to use,
maybe because it have more features ?

BTW try to use WsdlWizard from that site. WsdlWizard generate a VB
code based in a WSDL

Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From druzus at users.sourceforge.net  Thu Oct 15 12:01:40 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Oct 15 12:01:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12716] trunk/harbour
Message-ID: <E1MySlo-0005jy-Fw@d5vjzd1.ch3.sourceforge.com>

Revision: 12716
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12716&view=rev
Author:   druzus
Date:     2009-10-15 16:01:39 +0000 (Thu, 15 Oct 2009)

Log Message:
-----------
2009-10-15 18:01 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/compiler/genc.c
  * harbour/src/compiler/compi18n.c
    * use "w' instead of "wb" in hb_fopen flags. It causes that in some
      systems like DOS or Windows if CRTL supports it then all \n in
      generated files will be automatically translated to native EOLs
      (\r\n).
      This modification should make .pot and .c files generated by
      Harbour compiler more readable for DOS and Windows users.

  * harbour/src/compiler/gencobj.c
    ! fixed wrong hb_fopen() flags 't' is not documented fopen() flag
      so some systems may refuse to open files when it's used.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/compiler/compi18n.c
    trunk/harbour/src/compiler/genc.c
    trunk/harbour/src/compiler/gencobj.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Oct 15 12:24:47 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Oct 15 12:24:54 2009
Subject: [Harbour] HBQT - Garbage Collection - Almost done: Do I...
Message-ID: <25911744.post@talk.nabble.com>


Hello All

GC implementation in HBQT is almost done, to me 
at the levels of production usage. So far so good.

But have to worl little more to set HBXBP to work with 
this massive change. Probably it will due to the "variable 
scopes" and hope to complete it within a week.

Demoqt.exe is working fine and we gain a chance to 
experiment further with this implementation.

So the question is, should I commit code? Or wait until 
demoxbp.exe is also working ? The question is targetted 
for those who have based their own implementations on HBQT.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/HBQT---Garbage-Collection---Almost-done%3A-Do-I...-tp25911744p25911744.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Oct 15 12:29:49 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Oct 15 12:29:56 2009
Subject: [Harbour] HBQT - Signal-Slots - Change in parameters
Message-ID: <25911835.post@talk.nabble.com>


Hello All

I plan to change the number of parameters posted 
back to .prg code from a SIGNAL.

Presently 1st parameter of a SIGNAL proto is the reference
to the object sending it, which I inplan to remove. This 
will lead to changes in your sources based on HBQT 
and SIGNAL-SLOTS.

This will improve the speed for sure.

Any objections?

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HBQT---Signal-Slots---Change-in-parameters-tp25911835p25911835.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From jarabal at gmail.com  Thu Oct 15 12:31:04 2009
From: jarabal at gmail.com (Xavi)
Date: Thu Oct 15 12:33:42 2009
Subject: [Harbour] Re: SF bug tracker#2873146: Lang ES850c not
	fully	compatible with clipper
In-Reply-To: <20091014222457.GB32011@uran.home.aster.pl>
References: <4ACF18B7.5030601@adinet.com.uy>
	<4ACF1EA8.9010205@gmail.com>	<4ACF22EC.5050400@adinet.com.uy>
	<4ACF55F3.1080708@gmail.com>	<4AD05700.7050502@adinet.com.uy>
	<4AD0BCC4.6030807@gmail.com>	<4AD0C3AD.5030706@gmail.com>
	<4AD4DEA0.5070300@adinet.com.uy>	<4AD5AA32.3010509@gmail.com>	<8F0C8AFE-67A1-41C2-8500-38C123C73081@syenar.hu>
	<20091014222457.GB32011@uran.home.aster.pl>
Message-ID: <4AD74E48.5030304@gmail.com>

Przemek,

>  It breaks Turkish CPs so we cannot use it in such form.
Ops... This could be solved easily with more patches but... :)

>  I'll add soon alternative method to register CPs.
Ok you do, thanks.

IMHO, NTXSPA is a very bad collation for Spanish, to me is a bug.	
ES850 is better but can not share indices with Clipper.
While is the new method the issue is solved for local repositories.
Of course, not share with Turkish CPs. :(

Regards,

-- 
Xavi

Przemyslaw Czerpak escribi?:
> On Wed, 14 Oct 2009, Szak?ts Viktor wrote:
> 
> Hi,
> 
>> Thank you. I'd like to ask Przemek to review these modifications,
>> as they are also altering the CP engine.
> 
> It breaks Turkish CPs so we cannot use it in such form.
> 
> I'll add soon alternative method to register CPs.
> It will use 4 tables with 256 bytes each of them. One for
> upper translation, second for lower translation, third for
> sorting and forth with bits describing character attributes
> (alpha, digit, upper, lower) for IS*() functions.
> It will allow to automatically generate CP modules for Harbour
> from Clipper applications what should definitely resolve the
> problem for all programs which have to share data with Clipper.
> Anyone will be able to create CP module for Harbour himself.
> But for such definitions I have to change existing code used for
> translations and update some code which now directly access
> CharsUpper and CharsLower HB_CODEPAGE members (mostly GT code).
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 



From mbelgrano at deltain.it  Thu Oct 15 14:40:57 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Oct 15 14:41:24 2009
Subject: [Harbour] HBQT - Garbage Collection - Almost done: Do I...
In-Reply-To: <25911744.post@talk.nabble.com>
References: <25911744.post@talk.nabble.com>
Message-ID: <609353e70910151140x5a6eea4bte32bed0edd2467e0@mail.gmail.com>

Better commit modification now so every body that is working on qt
modify his source code in right direction

2009/10/15 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hello All
>
> GC implementation in HBQT is almost done, to me
> at the levels of production usage. So far so good.
>
> But have to worl little more to set HBXBP to work with
> this massive change. Probably it will due to the "variable
> scopes" and hope to complete it within a week.
>
> Demoqt.exe is working fine and we gain a chance to
> experiment further with this implementation.
>
> So the question is, should I commit code? Or wait until
> demoxbp.exe is also working ? The question is targetted
> for those who have based their own implementations on HBQT.
>
> Regards
> Pritpal Bedi
> --
> View this message in context: http://www.nabble.com/HBQT---Garbage-Collection---Almost-done%3A-Do-I...-tp25911744p25911744.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From vouchcac at users.sourceforge.net  Thu Oct 15 15:57:01 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Oct 15 15:57:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12717] trunk/harbour
Message-ID: <E1MyWRZ-00085z-8D@dn4whf1.ch3.sourceforge.com>

Revision: 12717
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12717&view=rev
Author:   vouchcac
Date:     2009-10-15 19:57:00 +0000 (Thu, 15 Oct 2009)

Log Message:
-----------
2009-10-15 12:53 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/qth/QIODevice.qth
  * contrib/hbqt/qth/QWidget.qth
    ! Commented out Windows specific function.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/qth/QIODevice.qth
    trunk/harbour/contrib/hbqt/qth/QWidget.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Thu Oct 15 17:27:48 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Oct 15 17:28:15 2009
Subject: [Harbour] Re: Web Services in Harbour
In-Reply-To: <hb77tv$h5s$1@ger.gmane.org>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu> 
	<609353e70910140110y28cbfadfoc37082be3aa28568@mail.gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D2A@PINK.zycie.pzu> 
	<609353e70910141231g20f7dc1cmf8c57084b7e159a1@mail.gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D92@PINK.zycie.pzu> 
	<B80C439B-D599-4E4E-B741-FFB128535977@syenar.hu>
	<hb77tv$h5s$1@ger.gmane.org>
Message-ID: <609353e70910151427i6da8bca0hea87b91be4bad6fb@mail.gmail.com>

Here same link
xb2.net soap.server for xbase++
http://www.sqlexpress.net/xb2net/Xb2NET.pdf

SOAPing without a Web Server
http://www.codeproject.com/KB/ATL-Server/soaptransport.aspx

client/server SOAP library in pure C at SourceForge.ne
http://sourceforge.net/projects/csoap/


UDDI is part of solution , here microsoft implementation
http://www.microsoft.com/windowsserver2003/technologies/idm/uddi/default.mspx

2009/10/15 Angel Pais <amigosam@adinet.com.uy>:
> Viktor Szak?ts escribi?:
>>
>> Hi Marek,
>>
>> Is there any sort of existing library or other sort
>> of external package which helps to implement such server?
>>
>> SOAP is supposed to be an open standard (although it
>> does seem quite MS centric regardless), so I suppose
>> such server side functionality may exist somewhere
>> already, and shouldn't be written from ground up for
>> tools like Harbour.
>>
>> So, is there anything we could use?
>>
>> Brgds,
>> Viktor
>>
>> On 2009 Oct 15, at 09:54, Horodyski Marek (PZUZ) wrote:
>>
>>>> -----Original Message-----
>>>> From: Massimo Belgrano [mailto:mbelgrano@deltain.it]
>>>> Sent: Wednesday, October 14, 2009 9:31 PM
>>>> To: Harbour Project Main Developer List.
>>>> Subject: Re: [Harbour] Web Services in Harbour
>>>>
>>>> Hi Marek
>>>>
>>>> harbour have a solution for SOAP.CLIENT and ?afaik is not
>>>> possible a soap server, but harbour have a lot of capability
>>>> underground
>>>
>>> Not yet, but in the future ?
>>> Today seems to be necessary.
>>> In the company we have nearly 800 applications.
>>> Those who will not know how to integrate with others will be eliminated.
>>> Integration platform is the SOAP.
>>> Putting SOAP messages on the server database does not always meet the
>>> need.
>>> The application serves SOAP is much more powerful.
>>>
>>> In the Harbor App I doing in seconds something that large applications
>>> can not do in the hour session.
>>> But I can not [bowl | serve] a SOAP service.
>>>
>>> Regards,
>>> Marek Horodyski
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> Hi Viktor
>
> A SOAP server IS an HTTP server that returns XML formated files instead of
> HTML formated ones.
> There's a RFC published by the w3 consortium on how to format them.
> Harbour already has an HTML server, it only takes one volunteer to study
> that paper and modify it to serve SOAP messages also.
>
> Just a Hint...
>
> Regards Angel
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From jarabal at gmail.com  Wed Oct 14 06:28:30 2009
From: jarabal at gmail.com (Xavi)
Date: Thu Oct 15 18:12:25 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4AD4DEA0.5070300@adinet.com.uy>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D43@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>	<4ACF18B7.5030601@adinet.com.uy>	<4ACF1EA8.9010205@gmail.com>	<4ACF22EC.5050400@adinet.com.uy>	<4ACF55F3.1080708@gmail.com>	<4AD05700.7050502@adinet.com.uy>	<4AD0BCC4.6030807@gmail.com>
	<4AD0C3AD.5030706@gmail.com> <4AD4DEA0.5070300@adinet.com.uy>
Message-ID: <4AD5A7CE.7090303@gmail.com>

> 2- Changing cdpapi as XAVI propose and (1). It produce UPPER()-> B
Sorry, to me it's ok as in clipper.

? ' Upper', Upper( '' ), 'Lower', Lower( '' ) //  Upper A Lower 
	 	
Is it possible you're doing something wrong?
I attached files, please update repositories and check.

-- 
Xavi



-------------- next part --------------
/*
 * $Id: cpes850c.c 10194 2009-02-06 19:03:27Z vszakats $
 */

/*
 * Harbour Project source code:
 * National Collation Support Module (ES850C - Spanish Clipper compatible)
 *
 * Copyright 2002 Alexander S.Kresin <alex@belacy.belgorod.su>
 * www - http://www.harbour-project.org
 * Spanish MS-DOS support by Antonio Linares <alinares@fivetechsoft.com>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software; see the file COPYING.  If not, write to
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
 *
 * As a special exception, the Harbour Project gives permission for
 * additional uses of the text contained in its release of Harbour.
 *
 * The exception is that, if you link the Harbour libraries with other
 * files to produce an executable, this does not by itself cause the
 * resulting executable to be covered by the GNU General Public License.
 * Your use of that executable is in no way restricted on account of
 * linking the Harbour library code into it.
 *
 * This exception does not however invalidate any other reasons why
 * the executable file might be covered by the GNU General Public License.
 *
 * This exception applies only to the code released by the Harbour
 * Project under the name Harbour.  If you copy code from other
 * Harbour Project or Free Software Foundation releases into a copy of
 * Harbour, as the General Public License permits, the exception does
 * not apply to the code that you add in this way.  To avoid misleading
 * anyone as to the status of such modified files, you must delete
 * this exception notice from them.
 *
 * If you write modifications of your own for Harbour, it is your choice
 * whether to permit this exception to apply to your modifications.
 * If you do not wish that, delete this exception notice.
 *
 */

/* Language name: Spanish */
/* ISO language code (2 chars): ES */
/* Codepage: 850 */

#include "hbapi.h"
#include "hbapicdp.h"

#define NUMBER_OF_CHARACTERS  36    /* The number of single characters in the
                                       alphabet, two-as-one aren't considered
                                       here, accented - are considered. */
#define IS_LATIN               1    /* Should be 1, if the national alphabet
                                       is based on Latin */
#define ACCENTED_EQUAL         0    /* Should be 1, if accented character
                                       has the same weight as appropriate
                                       unaccented. */
#define ACCENTED_INTERLEAVED   0    /* Should be 1, if accented characters
                                       sort after their unaccented counterparts
                                       only if the unaccented versions of all
                                       characters being compared are the same
                                       ( interleaving ) */

/* If ACCENTED_EQUAL or ACCENTED_INTERLEAVED is 1, you need to mark the
   accented characters with the symbol '~' before each of them, for example:
      a~_
   If there is two-character sequence, which is considered as one, it should
   be marked with '.' before and after it, for example:
      ... h.ch.i ...

   The Upper case string and the Lower case string should be absolutely the
   same excepting the characters case, of course.
 */

static HB_CODEPAGE s_codepage = { "ES850C",
    HB_CPID_850, HB_UNITB_850, NUMBER_OF_CHARACTERS,
    "AABCDEFGHIIJKLMNOOPQRSTUVWXYZ",
    "abcdefghijklmnopqrstuvwxyz",
    IS_LATIN, ACCENTED_EQUAL, ACCENTED_INTERLEAVED, 0, 0, NULL, NULL, NULL, NULL, 0, NULL };

HB_CODEPAGE_INIT( ES850C )

#if defined( HB_PRAGMA_STARTUP )
   #pragma startup hb_codepage_Init_ES850C
#elif defined( HB_MSC_STARTUP )
   #if defined( HB_OS_WIN_64 )
      #pragma section( HB_MSC_START_SEGMENT, long, read )
   #endif
   #pragma data_seg( HB_MSC_START_SEGMENT )
   static HB_$INITSYM hb_vm_auto_hb_codepage_Init_ES850C = hb_codepage_Init_ES850C;
   #pragma data_seg()
#endif

-------------- next part --------------
/*
 * $Id$
 */

/*
 * Harbour Project source code:
 * The CodePages API
 *
 * Copyright 2002 Alexander S.Kresin <alex@belacy.belgorod.su>
 * www - http://www.harbour-project.org
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software; see the file COPYING.  If not, write to
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
 *
 * As a special exception, the Harbour Project gives permission for
 * additional uses of the text contained in its release of Harbour.
 *
 * The exception is that, if you link the Harbour libraries with other
 * files to produce an executable, this does not by itself cause the
 * resulting executable to be covered by the GNU General Public License.
 * Your use of that executable is in no way restricted on account of
 * linking the Harbour library code into it.
 *
 * This exception does not however invalidate any other reasons why
 * the executable file might be covered by the GNU General Public License.
 *
 * This exception applies only to the code released by the Harbour
 * Project under the name Harbour.  If you copy code from other
 * Harbour Project or Free Software Foundation releases into a copy of
 * Harbour, as the General Public License permits, the exception does
 * not apply to the code that you add in this way.  To avoid misleading
 * anyone as to the status of such modified files, you must delete
 * this exception notice from them.
 *
 * If you write modifications of your own for Harbour, it is your choice
 * whether to permit this exception to apply to your modifications.
 * If you do not wish that, delete this exception notice.
 *
 */

#include "hbapi.h"

#ifndef HB_CDP_SUPPORT_OFF

#include "hbapiitm.h"
#include "hbapicdp.h"
#include "hbapierr.h"

#define HB_CDP_MAX_  128

/* Now we are using only 16bit Unicode values so the maximum size
 * of single character encoded in UTF8 is 3 though ISO 10646 Universal
 * Character Set (UCS) occupies even a 31-bit code space and to encode
 * all UCS values we will need 6 bytes. Now in practice no one uses
 * Unicode character over 0xFFFF but it may change in the future so
 * it's safer to use macro for maximum UTF8 character size. [druzus]
 */
#define HB_MAX_UTF8        3

#define NUMBER_OF_CHARS    256

static USHORT s_uniCodes[ NUMBER_OF_CHARS ] =
{
   0x0020, 0x263A, 0x263B, 0x2665, 0x2666, 0x2663, 0x2660, 0x2022,
   0x25D8, 0x25CB, 0x25D9, 0x2642, 0x2640, 0x266A, 0x266B, 0x263C,
   0x25BA, 0x25C4, 0x2195, 0x203C, 0x00B6, 0x00A7, 0x25AC, 0x21A8,
   0x2191, 0x2193, 0x2192, 0x2190, 0x2319, 0x2194, 0x25B2, 0x25BC,
   0x0020, 0x0021, 0x0022, 0x0023, 0x0024, 0x0025, 0x0026, 0x0027,
   0x0028, 0x0029, 0x002A, 0x002B, 0x002C, 0x002D, 0x002E, 0x002F,
   0x0030, 0x0031, 0x0032, 0x0033, 0x0034, 0x0035, 0x0036, 0x0037,
   0x0038, 0x0039, 0x003A, 0x003B, 0x003C, 0x003D, 0x003E, 0x003F,
   0x0040, 0x0041, 0x0042, 0x0043, 0x0044, 0x0045, 0x0046, 0x0047,
   0x0048, 0x0049, 0x004A, 0x004B, 0x004C, 0x004D, 0x004E, 0x004F,
   0x0050, 0x0051, 0x0052, 0x0053, 0x0054, 0x0055, 0x0056, 0x0057,
   0x0058, 0x0059, 0x005A, 0x005B, 0x005C, 0x005D, 0x005E, 0x005F,
   0x0060, 0x0061, 0x0062, 0x0063, 0x0064, 0x0065, 0x0066, 0x0067,
   0x0068, 0x0069, 0x006A, 0x006B, 0x006C, 0x006D, 0x006E, 0x006F,
   0x0070, 0x0071, 0x0072, 0x0073, 0x0074, 0x0075, 0x0076, 0x0077,
   0x0078, 0x0079, 0x007A, 0x007B, 0x007C, 0x007D, 0x007E, 0x007F,
   0x00C7, 0x00FC, 0x00E9, 0x00E2, 0x00E4, 0x00E0, 0x00E5, 0x00E7,
   0x00EA, 0x00EB, 0x00E8, 0x00EF, 0x00EE, 0x00EC, 0x00C4, 0x00C5,
   0x00C9, 0x00E6, 0x00C6, 0x00F4, 0x00F6, 0x00F2, 0x00FB, 0x00F9,
   0x00FF, 0x00D6, 0x00DC, 0x00A2, 0x00A3, 0x00A5, 0x20A7, 0x0192,
   0x00E1, 0x00ED, 0x00F3, 0x00FA, 0x00F1, 0x00D1, 0x00AA, 0x00BA,
   0x00BF, 0x2310, 0x00AC, 0x00BD, 0x00BC, 0x00A1, 0x00AB, 0x00BB,
   0x2591, 0x2592, 0x2593, 0x2502, 0x2524, 0x2561, 0x2562, 0x2556,
   0x2555, 0x2563, 0x2551, 0x2557, 0x255D, 0x255C, 0x255B, 0x2510,
   0x2514, 0x2534, 0x252C, 0x251C, 0x2500, 0x253C, 0x255E, 0x255F,
   0x255A, 0x2554, 0x2569, 0x2566, 0x2560, 0x2550, 0x256C, 0x2567,
   0x2568, 0x2564, 0x2565, 0x2559, 0x2558, 0x2552, 0x2553, 0x256B,
   0x256A, 0x2518, 0x250C, 0x2588, 0x2584, 0x258C, 0x2590, 0x2580,
   0x03B1, 0x00DF, 0x0393, 0x03C0, 0x03A3, 0x03C3, 0x00B5, 0x03C4,
   0x03A6, 0x0398, 0x03A9, 0x03B4, 0x221E, 0x03C6, 0x03B5, 0x2229,
   0x2261, 0x00B1, 0x2265, 0x2264, 0x2320, 0x2321, 0x00F7, 0x2248,
   0x00B0, 0x2219, 0x00B7, 0x221A, 0x207F, 0x00B2, 0x25A0, 0x00A0
};

HB_UNITABLE hb_uniTbl_437 = { HB_CPID_437, NUMBER_OF_CHARS, FALSE, s_uniCodes };

static HB_CODEPAGE s_en_codepage =
   { "EN", HB_CPID_437, HB_UNITB_437, 0, NULL, NULL, 0, 0, 0, 0, 0, NULL, NULL, NULL, NULL, 0, NULL };

HB_CODEPAGE_ANNOUNCE( EN )

static PHB_CODEPAGE s_cdpList[HB_CDP_MAX_] = { &s_en_codepage };

/* pseudo codepage for translations only */
static HB_CODEPAGE s_utf8_codepage =
   { "UTF8", HB_CPID_437, HB_UNITB_437, 0, NULL, NULL, 0, 0, 0, 0, 0, NULL, NULL, NULL, NULL, 0, NULL };

static int utf8Size( USHORT uc )
{
   if( uc < 0x0080 )
      return 1;
   else if( uc < 0x0800 )
      return 2;
   else                         /* if( uc <= 0xffff ) */
      return 3;
}

static int u16toutf8( char * szUTF8, USHORT uc )
{
   int n;

   if( uc < 0x0080 )
   {
      szUTF8[0] = uc & 0xff;
      n = 1;
   }
   else if( uc < 0x0800 )
   {
      szUTF8[0] = 0xc0 | ( ( uc >> 6 ) & 0x1f );
      szUTF8[1] = 0x80 | ( uc & 0x3f );
      n = 2;
   }
   else                         /* if( uc <= 0xffff ) */
   {
      szUTF8[0] = 0xe0 | ( ( uc >> 12 ) & 0x0f );
      szUTF8[1] = 0x80 | ( ( uc >> 6 ) & 0x3f );
      szUTF8[2] = 0x80 | ( uc & 0x3f );
      n = 3;
   }
/*
   else
   {
      n = 0;
   }
*/
   return n;
}

static BOOL utf8tou16nextchar( UCHAR ucChar, int *n, USHORT * uc )
{
   if( *n > 0 )
   {
      if( ( ucChar & 0xc0 ) != 0x80 )
         return FALSE;
      *uc = ( *uc << 6 ) | ( ucChar & 0x3f );
      ( *n )--;
      return TRUE;
   }

   *n = 0;
   *uc = ucChar;
   if( ucChar >= 0xc0 )
   {
      if( ucChar < 0xe0 )
      {
         *uc &= 0x1f;
         *n = 1;
      }
      else if( ucChar < 0xf0 )
      {
         *uc &= 0x0f;
         *n = 2;
      }
      else if( ucChar < 0xf8 )
      {
         *uc &= 0x07;
         *n = 3;
      }
      else if( ucChar < 0xfc )
      {
         *uc &= 0x03;
         *n = 4;
      }
      else if( ucChar < 0xfe )
      {
         *uc &= 0x01;
         *n = 5;
      }
   }
   return TRUE;
}

#   if 0                        /* currently unused, it will in the future */
static int utf8tou16( const char * szUTF8, USHORT * uc )
{
   int n = 1, m = 1;
   UINT32 u32;

   u32 = ( UCHAR ) *szUTF8;
   if( u32 >= 0xc0 )
   {
      if( u32 < 0xe0 )
      {
         u32 &= 0x1f;
         m = 2;
      }
      else if( u32 < 0xf0 )
      {
         u32 &= 0x0f;
         m = 3;
      }
      else if( u32 < 0xf8 )
      {
         u32 &= 0x07;
         m = 4;
      }
      else if( u32 < 0xfc )
      {
         u32 &= 0x03;
         m = 5;
      }
      else if( u32 < 0xfe )
      {
         u32 &= 0x01;
         m = 6;
      }
      while( n < m && ( ( UCHAR ) szUTF8[ n ] & 0xc0 ) == 0x80 )
      {
         u32 = ( u32 << 6 ) | ( ( UCHAR ) szUTF8[n++] & 0x3f );
      }
      if( n < m )
      {
         u32 <<= 6 * ( m - n );
      }
   }

   *uc = ( USHORT ) u32;
   return n;
}
#   endif

static ULONG utf8pos( const char * szUTF8, ULONG ulLen, ULONG ulUTF8Pos )
{
   if( ulUTF8Pos )
   {
      ULONG ul, ul2;
      USHORT uc;
      int n = 0;

      for( ul = ul2 = 0; ul < ulLen; ++ul )
      {
         if( utf8tou16nextchar( ( UCHAR ) szUTF8[ ul ], &n, &uc ) )
         {
            if( n == 0 )
            {
               if( --ulUTF8Pos == 0 )
                  return ul2 + 1;
               ul2 = ul + 1;
            }
         }
      }
   }
   return 0;
}

static int hb_cdpFindPos( const char *pszID )
{
   int iPos;

   if( pszID != NULL )
   {
      for( iPos = 0; iPos < HB_CDP_MAX_ && s_cdpList[iPos]; iPos++ )
      {
         if( strcmp( s_cdpList[iPos]->id, pszID ) == 0 )
            return iPos;
      }
   }

   return -1;
}

BOOL hb_cdpRegister( PHB_CODEPAGE cdpage )
{
   HB_TRACE( HB_TR_DEBUG, ( "hb_cdpRegister(%p)", cdpage ) );

   if( cdpage )
   {
      int iPos = hb_cdpFindPos( cdpage->id );

      if( iPos == -1 )
      {
         for( iPos = 0; iPos < HB_CDP_MAX_; iPos++ )
         {
            if( !s_cdpList[iPos] )
            {
               int i, ia, iu, il, iumax = 0, ilmax = 0;
               char *ptrUpper = ( char * ) cdpage->CharsUpper;
               char *ptrLower = ( char * ) cdpage->CharsLower;
               char *ptr;
               HB_MULTICHAR multi[12];
               int nMulti = 0;

               s_cdpList[iPos] = cdpage;

               cdpage->lSort = cdpage->lAccInterleave || cdpage->lAccEqual;
               if( cdpage->nChars )
               {
                  int nAddLower = cdpage->nChars + ( ( cdpage->lLatin ) ? 6 : 0 ),
                      size = 0x300, nUpper = 0, nLower = 0;
                  unsigned char * pszBuffer;

                  if( cdpage->lAccInterleave )
                     size += 0x300;
                  if( strpbrk( cdpage->CharsUpper, "~." ) != NULL )
                  {
                     nUpper = ( int ) strlen( cdpage->CharsUpper );
                     size += nUpper + 1;
                  }
                  if( strpbrk( cdpage->CharsLower, "~." ) != NULL )
                  {
                     nLower = ( int ) strlen( cdpage->CharsLower );
                     size += nLower + 1;
                  }
                  pszBuffer = cdpage->buffer = ( unsigned char * ) hb_xgrab( size );
                  memset( pszBuffer, '\0', size );
                  cdpage->s_chars = pszBuffer;
                  cdpage->s_upper = pszBuffer + 0x100;
                  cdpage->s_lower = pszBuffer + 0x200;
                  pszBuffer += 0x300;
                  if( cdpage->lAccInterleave )
                  {
                     cdpage->s_accent = pszBuffer;
                     pszBuffer += 0x100;
                  }
                  if( nUpper )
                  {
                     cdpage->CharsUpper = ptrUpper = ( char * )
                              memcpy( pszBuffer, cdpage->CharsUpper, nUpper );
                     pszBuffer += nUpper + 1;
                  }
                  if( nLower )
                  {
                     cdpage->CharsLower = ptrLower = ( char * )
                              memcpy( pszBuffer, cdpage->CharsLower, nLower );
                  }
                  for( i = 0; i < 256; i++ )
                  {
                     cdpage->s_upper[ i ] = ( char ) HB_TOUPPER( ( UCHAR ) i );
                     cdpage->s_lower[ i ] = ( char ) HB_TOLOWER( ( UCHAR ) i );
                  }
                  for( i = ia = 1; *ptrUpper; i++, ia++, ptrUpper++, ptrLower++ )
                  {
                     if( ( cdpage->lAccEqual || cdpage->lAccInterleave ) &&
                         *ptrUpper == '~' && *ptrLower == '~' )
                     {
                        for( ptr = ptrUpper + 1; *ptr; ptr++ )
                           *( ptr - 1 ) = *ptr;
                        *( ptr - 1 ) = '\0';
                        for( ptr = ptrLower + 1; *ptr; ptr++ )
                           *( ptr - 1 ) = *ptr;
                        *( ptr - 1 ) = '\0';
                        if( cdpage->lAccEqual )
                           i--;
                     }
                     else if( *ptrUpper == '.' && *ptrLower == '.' &&
                              ptrUpper[1] && ptrUpper[2] && ptrUpper[3] == '.' &&
                              ptrLower[1] && ptrLower[2] && ptrLower[3] == '.' )
                     {
                        multi[nMulti].cFirst[0] = *( ptrUpper + 1 );
                        multi[nMulti].cFirst[1] = *( ptrLower + 1 );
                        multi[nMulti].cLast[0] = *( ptrUpper + 2 );
                        multi[nMulti].cLast[1] = *( ptrLower + 2 );
                        multi[nMulti].nCode = i;

                        for( ptr = ptrUpper + 4; *ptr; ptr++ )
                           *( ptr - 4 ) = *ptr;
                        *( ptr - 4 ) = '\0';
                        for( ptr = ptrLower + 4; *ptr; ptr++ )
                           *( ptr - 4 ) = *ptr;
                        *( ptr - 4 ) = '\0';

                        nMulti++;
                        ptrUpper--;
                        ptrLower--;
                        cdpage->lSort = TRUE;
                        continue;
                     }
                     iu = ( UCHAR ) * ptrUpper;
                     il = ( UCHAR ) * ptrLower;
                     if( iu < iumax || il < ilmax )
                        cdpage->lSort = TRUE;
                     iumax = iu;
                     ilmax = il;

                     cdpage->s_chars[iu] = ( char ) i;
                     cdpage->s_chars[il] = ( char ) ( i + nAddLower );
                     if( cdpage->lAccInterleave )
                     {
                        cdpage->s_accent[iu] = ( char ) ia;
                        cdpage->s_accent[il] = ( char ) ( ia + nAddLower );
                     }
                     /* NOTE: Support ES850C [jarabal] */
                     if( cdpage->s_upper[il] == cdpage->s_lower[il] ) cdpage->s_upper[il] = *ptrUpper;
                     if( cdpage->s_upper[iu] == cdpage->s_lower[iu] ) cdpage->s_lower[iu] = *ptrLower;
                  }
                  if( cdpage->lLatin )
                  {
                     for( i = 91; i <= 96; i++ )
                     {
                        if( !cdpage->s_chars[ i ] )
                           cdpage->s_chars[ i ] = ( char ) ( cdpage->nChars + ( i - 90 ) );
                     }
                     for( i = 123; i < 256; i++ )
                     {
                        if( !cdpage->s_chars[ i ] )
                           cdpage->s_chars[ i ] = ( char ) ( cdpage->nChars + nAddLower + ( i - 122 ) );
                     }
                  }
                  /*
                     for( i=0; i<32; i++ )
                     printf( "\n %3d %3d %3d %3d %3d %3d %3d %3d",cdpage->s_chars[i*8],
                     cdpage->s_chars[i*8+1],cdpage->s_chars[i*8+2],
                     cdpage->s_chars[i*8+3],cdpage->s_chars[i*8+4],
                     cdpage->s_chars[i*8+5],cdpage->s_chars[i*8+6],
                     cdpage->s_chars[i*8+7] );
                     if( nMulti )
                     {
                     printf( "\n" );
                     for( i=0; i<nMulti; i++ )
                     printf( "\n %c%c %c%c %d",multi[ i ].cFirst[0],
                     multi[ i ].cFirst[1],multi[ i ].cLast[0],multi[ i ].cLast[1],multi[ i ].nCode );
                     }
                   */
                  if( nMulti )
                  {
                     cdpage->multi = ( PHB_MULTICHAR ) hb_xgrab( sizeof( HB_MULTICHAR ) * nMulti );
                     memcpy( cdpage->multi, multi, sizeof( HB_MULTICHAR ) * nMulti );
                     cdpage->nMulti = nMulti;
                  }
                  else
                     cdpage->multi = NULL;
               }
               return TRUE;
            }
         }
      }
   }

   return FALSE;
}

BOOL hb_charIsDigit( int iChar )
{
   return HB_ISDIGIT( ( unsigned char ) iChar );
}

BOOL hb_charIsAlpha( int iChar )
{
   if( HB_ISALPHA( ( unsigned char ) iChar ) )
      return TRUE;
   else
   {
      PHB_CODEPAGE cdp = hb_vmCDP();
      /* ( char * ) casting for MSVC */
      if( cdp && cdp->nChars && iChar &&
          ( strchr( ( char * ) cdp->CharsUpper, iChar ) ||
            strchr( ( char * ) cdp->CharsLower, iChar ) ) )
         return TRUE;
   }

   return FALSE;
}

BOOL hb_charIsLower( int iChar )
{
   if( HB_ISLOWER( ( unsigned char ) iChar ) )
      return TRUE;
   else
   {
      PHB_CODEPAGE cdp = hb_vmCDP();
      /* ( char * ) casting for MSVC */
      if( cdp && cdp->nChars && iChar &&
          strchr( ( char * ) cdp->CharsLower, iChar ) )
         return TRUE;
   }

   return FALSE;
}

BOOL hb_charIsUpper( int iChar )
{
   if( HB_ISUPPER( ( unsigned char ) iChar ) )
      return TRUE;
   else
   {
      PHB_CODEPAGE cdp = hb_vmCDP();
      /* ( char * ) casting for MSVC */
      if( cdp && cdp->nChars && iChar &&
          strchr( ( char * ) cdp->CharsUpper, iChar ) )
         return TRUE;
   }

   return FALSE;
}

PHB_CODEPAGE hb_cdpFind( const char *pszID )
{
   int iPos;

   HB_TRACE( HB_TR_DEBUG, ( "hb_cdpFind(%s)", pszID ) );

   iPos = hb_cdpFindPos( pszID );

   return ( iPos != -1 ) ? s_cdpList[iPos] : NULL;
}

PHB_CODEPAGE hb_cdpFindExt( const char *pszID )
{
   int iPos;

   HB_TRACE( HB_TR_DEBUG, ( "hb_cdpFindExt(%s)", pszID ) );

   if( pszID && strcmp( pszID, "UTF8" ) == 0 )
      return &s_utf8_codepage;

   iPos = hb_cdpFindPos( pszID );

   return ( iPos != -1 ) ? s_cdpList[iPos] : NULL;
}

PHB_CODEPAGE hb_cdpSelect( PHB_CODEPAGE cdpage )
{
   PHB_CODEPAGE cdpOld;

   HB_TRACE( HB_TR_DEBUG, ( "hb_cdpSelect(%p)", cdpage ) );

   cdpOld = hb_vmCDP();
   if( cdpage )
      hb_vmSetCDP( cdpage );

   return cdpOld;
}

const char * hb_cdpID( void )
{
   PHB_CODEPAGE cdp;

   HB_TRACE( HB_TR_DEBUG, ( "hb_cdpID()" ) );

   cdp = hb_vmCDP();

   return cdp ? cdp->id : NULL;
}

const char * hb_cdpSelectID( const char *pszID )
{
   const char * pszIDOld;

   HB_TRACE( HB_TR_DEBUG, ( "hb_cdpSelectID(%s)", pszID ) );

   pszIDOld = hb_cdpID();
   hb_cdpSelect( hb_cdpFind( pszID ) );

   return pszIDOld;
}

void hb_cdpTranslate( char *psz, PHB_CODEPAGE cdpIn, PHB_CODEPAGE cdpOut )
{
   if( cdpIn != cdpOut && cdpIn->nChars == cdpOut->nChars )
   {
      if( cdpIn->lAccEqual )
      {
         for( ; *psz; psz++ )
         {
            char * ptr;

            /* ( char * ) casting for MSVC */
            ptr = strchr( ( char * ) cdpIn->CharsUpper, *psz );
            if( ptr )
               *psz = cdpOut->CharsUpper[ ptr - cdpIn->CharsUpper ];
            else
            {
               /* ( char * ) casting for MSVC */
               ptr = strchr( ( char * ) cdpIn->CharsLower, *psz );
               if( ptr )
                  *psz = cdpOut->CharsLower[ ptr - cdpIn->CharsLower ];
            }
         }
      }
      else
      {
         int nAddLower = ( cdpIn->lLatin ) ? 6 : 0;

         for( ; *psz; psz++ )
         {
            int n = ( int ) cdpIn->s_chars[( UCHAR ) * psz];

            if( n != 0 &&
                ( n <= cdpOut->nChars || ( n > ( cdpOut->nChars + nAddLower ) &&
                                           n <= ( cdpOut->nChars * 2 + nAddLower ) ) ) )
            {
               n--;
               *psz = ( n >= ( cdpOut->nChars + nAddLower ) ) ?
                  cdpOut->CharsLower[ n - cdpOut->nChars - nAddLower ] : cdpOut->CharsUpper[ n ];
            }
         }
      }
   }
}

void hb_cdpnTranslate( char *psz, PHB_CODEPAGE cdpIn, PHB_CODEPAGE cdpOut, ULONG nChars )
{
   if( cdpIn != cdpOut && cdpIn->nChars == cdpOut->nChars )
   {
      if( cdpIn->lAccEqual )
      {
         for( ; nChars--; psz++ )
         {
            char * ptr;

            /* ( char * ) casting for MSVC */
            ptr = strchr( ( char * ) cdpIn->CharsUpper, *psz );
            if( ptr )
               *psz = cdpOut->CharsUpper[ ptr - cdpIn->CharsUpper ];
            else
            {
               /* ( char * ) casting for MSVC */
               ptr = strchr( ( char * ) cdpIn->CharsLower, *psz );
               if( ptr )
                  *psz = cdpOut->CharsLower[ ptr - cdpIn->CharsLower ];
            }
         }
      }
      else
      {
         int nAddLower = ( cdpIn->lLatin ) ? 6 : 0;

         for( ; nChars--; psz++ )
         {
            int n = ( int ) cdpIn->s_chars[( UCHAR ) * psz];

            if( n != 0 &&
                ( n <= cdpOut->nChars || ( n > ( cdpOut->nChars + nAddLower ) &&
                                           n <= ( cdpOut->nChars * 2 + nAddLower ) ) ) )
            {
               n--;
               *psz = ( n >= ( cdpOut->nChars + nAddLower ) ) ?
                  cdpOut->CharsLower[n - cdpOut->nChars - nAddLower] : cdpOut->CharsUpper[ n ];
            }
         }
      }
   }
}

USHORT hb_cdpGetU16( PHB_CODEPAGE cdp, BOOL fCtrl, UCHAR ch )
{
   if( ( fCtrl || ch >= 32 ) && cdp && cdp->uniTable &&
       cdp->uniTable->uniCodes && ch < cdp->uniTable->nChars )
      return cdp->uniTable->uniCodes[ ch ];
   else
      return ch;
}

UCHAR hb_cdpGetChar( PHB_CODEPAGE cdp, BOOL fCtrl, USHORT uc )
{
   if( ( fCtrl || uc >= 32 ) && cdp && cdp->uniTable && cdp->uniTable->uniCodes )
   {
      int i;

      for( i = fCtrl ? 0 : 32; i < cdp->uniTable->nChars; i++ )
      {
         if( cdp->uniTable->uniCodes[ i ] == uc )
         {
            uc = ( USHORT ) i;
            break;
         }
      }
   }
   return uc >= 0x100 ? '?' : ( UCHAR ) uc;
}

/* caller must free the returned buffer if not NULL */
char *hb_cdpUTF8StringSubstr( const char * pSrc, ULONG ulLen,
                              ULONG ulFrom, ULONG ulCount, ULONG * pulDest )
{
   ULONG ul, ulCnt, ulDst = 0;
   USHORT uc;
   int n;
   char *pDst = NULL;

   if( ulCount && ulLen )
   {
      n = 0;
      for( ul = 0; ul < ulLen && ulFrom; ++ul )
      {
         if( utf8tou16nextchar( pSrc[ ul ], &n, &uc ) )
         {
            if( n == 0 )
               --ulFrom;
         }
      }

      if( ul < ulLen )
      {
         ulFrom = ul;
         ulCnt = ulCount;
         n = 0;
         do
         {
            if( utf8tou16nextchar( pSrc[ ul ], &n, &uc ) )
            {
               if( n == 0 )
                  --ulCnt;
            }
         }
         while( ++ul < ulLen && ulCnt );

         ulDst = ul - ulFrom;
         pDst = ( char * ) hb_xgrab( ulDst + 1 );
         memcpy( pDst, &pSrc[ ulFrom ], ulDst );
         pDst[ ulDst ] = '\0';
      }
   }

   if( pulDest )
      *pulDest = ulDst;

   return pDst;
}

ULONG hb_cdpUTF8StringPeek( const char * pSrc, ULONG ulLen, ULONG ulPos )
{
   if( ulLen )
   {
      ULONG ul;
      USHORT uc = 0;
      int n = 0;

      for( ul = 0; ul < ulLen && ulPos; ++ul )
      {
         if( utf8tou16nextchar( ( UCHAR ) pSrc[ ul ], &n, &uc ) )
         {
            if( n == 0 )
               --ulPos;
         }
      }

      if( ul < ulLen )
      {
         n = 0;
         do
         {
            if( utf8tou16nextchar( ( UCHAR ) pSrc[ ul ], &n, &uc ) )
            {
               if( n == 0 )
                  return uc;
            }
         }
         while( ++ul < ulLen );
      }
   }

   return 0;
}

ULONG hb_cdpUTF8StringLength( const char * pSrc, ULONG ulLen )
{
   ULONG ul, ulDst;
   USHORT uc;
   int n = 0;

   for( ul = ulDst = 0; ul < ulLen; ++ul )
   {
      if( utf8tou16nextchar( ( UCHAR ) pSrc[ ul ], &n, &uc ) )
      {
         if( n == 0 )
            ++ulDst;
      }
   }

   return ulDst;
}

ULONG hb_cdpStringInUTF8Length( PHB_CODEPAGE cdp, BOOL fCtrl,
                                const char * pSrc, ULONG ulLen )
{
   ULONG ul, ulDst;

   for( ul = ulDst = 0; ul < ulLen; ++ul )
   {
      ulDst += utf8Size( hb_cdpGetU16( cdp, fCtrl, ( UCHAR ) pSrc[ ul ] ) );
   }

   return ulDst;
}

ULONG hb_cdpStringInUTF8Length2( PHB_CODEPAGE cdp, BOOL fCtrl,
                                 const char * pSrc, ULONG ulLen, ULONG ulMax )
{
   ULONG ul, ulDst;
   int n;

   for( ul = ulDst = 0; ul < ulLen; ++ul )
   {
      n = utf8Size( hb_cdpGetU16( cdp, fCtrl, ( UCHAR ) pSrc[ ul ] ) );
      if( ulDst + n > ulMax )
         break;
      ulDst += n;
   }

   return ulDst;
}

ULONG hb_cdpUTF8ToStrn( PHB_CODEPAGE cdp, BOOL fCtrl,
                        const char * pSrc, ULONG ulSrc,
                        char * pDst, ULONG ulDst )
{
   ULONG ulS, ulD;
   USHORT uc = 0;
   int n = 0;

   for( ulS = ulD = 0; ulS < ulSrc; ++ulS )
   {
      if( utf8tou16nextchar( ( UCHAR ) pSrc[ulS], &n, &uc ) )
      {
         if( n == 0 )
         {
            if( ulD < ulDst )
            {
               if( ( fCtrl || uc >= 32 ) && cdp->uniTable && cdp->uniTable->uniCodes )
               {
                  int i;

                  for( i = fCtrl ? 0 : 32; i < cdp->uniTable->nChars; i++ )
                  {
                     if( cdp->uniTable->uniCodes[ i ] == uc )
                     {
                        uc = ( USHORT ) i;
                        break;
                     }
                  }
               }
               pDst[ulD] = uc >= 0x100 ? '?' : ( UCHAR ) uc;
            }
            ++ulD;
         }
      }
   }

   if( ulD < ulDst )
      pDst[ulD] = '\0';

   return ulD;
}

BOOL hb_cdpGetFromUTF8( PHB_CODEPAGE cdp, BOOL fCtrl, UCHAR ch,
                        int *n, USHORT * uc )
{
   if( utf8tou16nextchar( ch, n, uc ) )
   {
      if( *n == 0 && cdp && ( fCtrl || *uc >= 32 ) && cdp->uniTable && cdp->uniTable->uniCodes )
      {
         int i;

         for( i = fCtrl ? 0 : 32; i < cdp->uniTable->nChars; i++ )
         {
            if( cdp->uniTable->uniCodes[ i ] == *uc )
            {
               *uc = ( USHORT ) i;
               break;
            }
         }
      }
      return TRUE;
   }
   return FALSE;
}

ULONG hb_cdpStrnToUTF8( PHB_CODEPAGE cdp, BOOL fCtrl,
                        const char * pSrc, ULONG ulLen, char * pDst )
{
   USHORT u, *uniCodes, nChars;
   ULONG i, n;

   if( cdp && cdp->uniTable )
   {
      if( cdp->nMulti || cdp->uniTable->lMulti )
      {
         /*
          * TODO: this translation is bad, please fix me!!!
          */
         for( i = 0, n = 0; i < ulLen; i++ )
         {
            u = hb_cdpGetU16( cdp, fCtrl, ( UCHAR ) pSrc[ i ] );
            n += u16toutf8( &pDst[ n ], u );
         }
         pDst[ n ] = '\0';
         return n;
      }
      else
      {
         uniCodes = cdp->uniTable->uniCodes;
         nChars = ( USHORT ) cdp->uniTable->nChars;
      }
   }
   else
   {
      nChars = 0;
      uniCodes = NULL;
   }

   for( i = 0, n = 0; i < ulLen; i++ )
   {
      u = ( UCHAR ) pSrc[ i ];
      if( uniCodes && u < nChars && ( fCtrl || u >= 32 ) )
         u = uniCodes[ u ];
      n += u16toutf8( &pDst[ n ], u );
   }
   pDst[ n ] = '\0';

   return n;
}

ULONG hb_cdpStrnToUTF8n( PHB_CODEPAGE cdp, BOOL fCtrl,
                         const char * pSrc, ULONG ulLen,
                         char * pDst, ULONG ulDst )
{
   USHORT u, *uniCodes, nChars;
   ULONG i, n, l;

   if( cdp && cdp->uniTable )
   {
      if( cdp->nMulti || cdp->uniTable->lMulti )
      {
         /*
          * TODO: this translation is bad, please fix me!!!
          */
         for( i = 0, n = 0; i < ulLen; i++ )
         {
            u = hb_cdpGetU16( cdp, fCtrl, ( UCHAR ) pSrc[ i ] );
            l = utf8Size( u );
            if( n + l <= ulDst )
            {
               u16toutf8( &pDst[ n ], u );
               n += l;
            }
            else
               break;
         }
         if( n < ulDst )
            pDst[ n ] = '\0';
         return n;
      }
      else
      {
         uniCodes = cdp->uniTable->uniCodes;
         nChars = ( USHORT ) cdp->uniTable->nChars;
      }
   }
   else
   {
      nChars = 0;
      uniCodes = NULL;
   }

   for( i = 0, n = 0; i < ulLen; i++ )
   {
      u = ( UCHAR ) pSrc[ i ];
      if( uniCodes && u < nChars && ( fCtrl || u >= 32 ) )
         u = uniCodes[ u ];
      l = utf8Size( u );
      if( n + l <= ulDst )
      {
         u16toutf8( &pDst[ n ], u );
         n += l;
      }
      else
         break;
   }
   if( n < ulDst )
      pDst[ n ] = '\0';

   return n;
}

ULONG hb_cdpStrnToU16( PHB_CODEPAGE cdp, BOOL fCtrl,
                       const char * pSrc, ULONG ulLen, char * pDst )
{
   USHORT u, *uniCodes, nChars;
   ULONG i;

   if( cdp && cdp->uniTable )
   {
      if( cdp->nMulti || cdp->uniTable->lMulti )
      {
         /*
          * TODO: this translation is bad, please fix me!!!
          */
         for( i = 0; i < ulLen; i++, pDst += 2 )
         {
            u = hb_cdpGetU16( cdp, fCtrl, ( UCHAR ) pSrc[ i ] );
            HB_PUT_BE_UINT16( pDst, u );
         }
         return i << 1;
      }
      else
      {
         uniCodes = cdp->uniTable->uniCodes;
         nChars = ( USHORT ) cdp->uniTable->nChars;
      }
   }
   else
   {
      nChars = 0;
      uniCodes = NULL;
   }

   for( i = 0; i < ulLen; i++, pDst += 2 )
   {
      u = ( UCHAR ) pSrc[ i ];
      if( uniCodes && u < nChars && ( fCtrl || u >= 32 ) )
         u = uniCodes[ u ];
      HB_PUT_BE_UINT16( pDst, u );
   }
   return i << 1;
}

ULONG hb_cdpnDupLen( const char * pszSrc, ULONG ulLen,
                     PHB_CODEPAGE cdpIn, PHB_CODEPAGE cdpOut )
{
   if( cdpIn && cdpOut && cdpIn != cdpOut && ulLen )
   {
      if( cdpIn == &s_utf8_codepage )
         ulLen = hb_cdpUTF8StringLength( pszSrc, ulLen );
      else if( cdpOut == &s_utf8_codepage )
         ulLen = hb_cdpStringInUTF8Length( cdpIn, FALSE, pszSrc, ulLen );
      else
      {
         /* TODO: add unicode base translation which can respect
          * multibyte characters
          */
      }
   }

   return ulLen;
}

ULONG hb_cdpnDup2Len( const char * pszSrc, ULONG ulLen, ULONG ulMax,
                      PHB_CODEPAGE cdpIn, PHB_CODEPAGE cdpOut )
{
   if( cdpIn && cdpOut && cdpIn != cdpOut && ulLen )
   {
      if( cdpIn == &s_utf8_codepage )
         ulLen = hb_cdpUTF8StringLength( pszSrc, ulLen );
      else if( cdpOut == &s_utf8_codepage )
         ulLen = hb_cdpStringInUTF8Length2( cdpIn, FALSE, pszSrc, ulLen, ulMax );
      else
      {
         /* TODO: add unicode base translation which can respect
          * multibyte characters
          */
      }
   }
   if( ulLen > ulMax )
      ulLen = ulMax;

   return ulLen;
}

char * hb_cdpDup( const char * pszSrc, PHB_CODEPAGE cdpIn, PHB_CODEPAGE cdpOut )
{
   ULONG ulLen = strlen( pszSrc );
   return hb_cdpnDup( pszSrc, &ulLen, cdpIn, cdpOut );
}

char * hb_cdpnDup( const char * pszSrc, ULONG * pulLen,
                   PHB_CODEPAGE cdpIn, PHB_CODEPAGE cdpOut )
{
   char * pszDst;
   ULONG ulDst;

   if( cdpIn && cdpOut && cdpIn != cdpOut )
   {
      if( cdpIn == &s_utf8_codepage )
      {
         ulDst = hb_cdpUTF8StringLength( pszSrc, *pulLen );
         pszDst = ( char * ) hb_xgrab( ulDst + 1 );
         hb_cdpUTF8ToStrn( cdpOut, FALSE, pszSrc, *pulLen, pszDst, ulDst + 1 );
      }
      else if( cdpOut == &s_utf8_codepage )
      {
         ulDst = hb_cdpStringInUTF8Length( cdpIn, FALSE, pszSrc, *pulLen );
         pszDst = ( char * ) hb_xgrab( ulDst + 1 );
         hb_cdpStrnToUTF8( cdpIn, FALSE, pszSrc, *pulLen, pszDst );
      }
      else
      {
         /* TODO: add unicode base translation which can respect
          * multibyte characters
          */
         ulDst = *pulLen;
         pszDst = ( char * ) hb_xgrab( ulDst + 1 );
         memcpy( pszDst, pszSrc, ulDst );
         pszDst[ ulDst ] = '\0';
         hb_cdpnTranslate( pszDst, cdpIn, cdpOut, ulDst );
      }
   }
   else
   {
      ulDst = *pulLen;
      pszDst = ( char * ) hb_xgrab( ulDst + 1 );
      memcpy( pszDst, pszSrc, ulDst );
      pszDst[ ulDst ] = '\0';
   }

   *pulLen = ulDst;

   return pszDst;
}

const char * hb_cdpnDup2( const char * pszSrc, ULONG ulSrc,
                          char * pszDst, ULONG * pulDst,
                          PHB_CODEPAGE cdpIn, PHB_CODEPAGE cdpOut )
{
   if( cdpIn && cdpOut && cdpIn != cdpOut )
   {
      if( cdpIn == &s_utf8_codepage )
         *pulDst = hb_cdpUTF8ToStrn( cdpOut, FALSE, pszSrc, ulSrc, pszDst, *pulDst );
      else if( cdpOut == &s_utf8_codepage )
         *pulDst = hb_cdpStrnToUTF8n( cdpIn, FALSE, pszSrc, ulSrc, pszDst, *pulDst );
      else
      {
         /* TODO: add unicode base translation which can respect
          * multibyte characters
          */
         if( *pulDst > ulSrc )
         {
            *pulDst = ulSrc;
            pszDst[ ulSrc ] = '\0';
         }
         else
            ulSrc = *pulDst;
         memcpy( pszDst, pszSrc, ulSrc );
         hb_cdpnTranslate( pszDst, cdpIn, cdpOut, ulSrc );
      }
   }
   else
   {
      if( *pulDst > ulSrc )
      {
         *pulDst = ulSrc;
         pszDst[ ulSrc ] = '\0';
      }
      else
         ulSrc = *pulDst;
      memcpy( pszDst, pszSrc, ulSrc );
   }

   return pszDst;
}

const char * hb_cdpnDup3( const char * pszSrc, ULONG ulSrc,
                          char * pszDst, ULONG * pulDst,
                          char ** pszFree, ULONG * pulSize,
                          PHB_CODEPAGE cdpIn, PHB_CODEPAGE cdpOut )
{
   if( cdpIn && cdpOut && cdpIn != cdpOut && ulSrc )
   {
      char * pszPrev = NULL;
      ULONG ulDst = cdpOut != &s_utf8_codepage ? ulSrc :
                     hb_cdpStringInUTF8Length( cdpIn, FALSE, pszSrc, ulSrc );

      if( pszDst == NULL )
      {
         pszDst = *pszFree;
         if( pszDst == NULL && *pulSize > 0 )
            pszDst = ( char * ) pszSrc;
      }

      if( ulDst >= *pulSize ||
          ( pszDst == pszSrc && cdpOut == &s_utf8_codepage ) )
      {
         pszPrev = *pszFree;
         pszDst = *pszFree = ( char * ) hb_xgrab( ulDst + 1 );
         *pulSize = ulDst + 1;
      }

      if( cdpIn == &s_utf8_codepage )
         ulDst = hb_cdpUTF8ToStrn( cdpOut, FALSE, pszSrc, ulSrc, pszDst, *pulSize );
      else if( cdpOut == &s_utf8_codepage )
         ulDst = hb_cdpStrnToUTF8n( cdpIn, FALSE, pszSrc, ulSrc, pszDst, *pulSize );
      else
      {
         /* TODO: add unicode base translation which can respect
          * multibyte characters
          */
         if( pszDst != pszSrc )
            memcpy( pszDst, pszSrc, ulDst );
         pszDst[ ulDst ] = '\0';
         hb_cdpnTranslate( pszDst, cdpIn, cdpOut, ulSrc );
      }
      if( pszPrev )
         hb_xfree( pszPrev );
      if( *pulDst )
         *pulDst = ulDst;
      return pszDst;
   }

   if( *pulDst )
      *pulDst = ulSrc;
   return pszSrc;
}

int hb_cdpchrcmp( char cFirst, char cSecond, PHB_CODEPAGE cdpage )
{
   int n1, n2;

   if( cFirst == cSecond )
      return 0;

   if( ( n1 = ( int ) cdpage->s_chars[ ( UCHAR ) cFirst ] ) != 0 &&
       ( n2 = ( int ) cdpage->s_chars[ ( UCHAR ) cSecond ] ) != 0 )
      return ( n1 < n2 ) ? -1 : 1;

   return ( ( UCHAR ) cFirst < ( UCHAR ) cSecond ) ? -1 : 1;
}

static int hb_cdpMultiWeight( PHB_CODEPAGE cdpage, const char *szChar )
{
   PHB_MULTICHAR pmulti = cdpage->multi;
   int j;

   for( j = 0; j < cdpage->nMulti; ++j, ++pmulti )
   {
      if( ( *szChar == pmulti->cFirst[0] ||
            *szChar == pmulti->cFirst[1] ) &&
          ( *( szChar + 1 ) == pmulti->cLast[0] || *( szChar + 1 ) == pmulti->cLast[1] ) )
      {
         return pmulti->nCode +
            ( ( *szChar == pmulti->cFirst[0] ) ? 0 :
              ( cdpage->nChars + ( cdpage->lLatin ? 6 : 0 ) ) );
      }
   }

   return 0;
}

int hb_cdpcmp( const char *szFirst, ULONG ulLenFirst,
               const char *szSecond, ULONG ulLenSecond,
               PHB_CODEPAGE cdpage, BOOL fExact )
{
   int iRet = 0, iAcc = 0, n1 = 0, n2 = 0;
   ULONG ul, ulLen;

   ulLen = ulLenFirst < ulLenSecond ? ulLenFirst : ulLenSecond;
   for( ul = 0; ul < ulLen; ++szFirst, ++szSecond, ++ul )
   {
      if( *szFirst != *szSecond )
      {
         if( cdpage->nMulti )
         {
            int nd1, nd2;

            if( ul > 0 )
            {
               nd1 = hb_cdpMultiWeight( cdpage, szFirst - 1 );
               nd2 = hb_cdpMultiWeight( cdpage, szSecond - 1 );
               if( nd1 )
               {
                  if( nd2 )
                  {
                     if( nd1 == nd2 )
                     {
                        nd1 = ( UCHAR ) cdpage->s_chars[ ( UCHAR ) * szFirst ];
                        nd2 = ( UCHAR ) cdpage->s_chars[ ( UCHAR ) * szSecond ];
                        if( nd1 == nd2 || !nd1 || !nd2 )
                        {
                           nd1 = ( UCHAR ) * szFirst;
                           nd2 = ( UCHAR ) * szSecond;
                        }
                     }
                  }
                  else
                     nd2 = n2;
                  iRet = ( nd1 < nd2 ) ? -1 : 1;
                  break;
               }
               else if( nd2 )
               {
                  iRet = ( n1 < nd2 ) ? -1 : 1;
                  break;
               }
            }
            nd1 = ( ul < ulLenFirst - 1 ) ? hb_cdpMultiWeight( cdpage, szFirst ) : 0;
            nd2 = ( ul < ulLenSecond - 1 ) ? hb_cdpMultiWeight( cdpage, szSecond ) : 0;
            if( nd1 )
            {
               if( nd2 )
               {
                  if( nd1 == nd2 )
                  {
                     nd1 = ( UCHAR ) cdpage->s_chars[ ( UCHAR ) * szFirst ];
                     nd2 = ( UCHAR ) cdpage->s_chars[ ( UCHAR ) * szSecond ];
                     if( nd1 == nd2 || !nd1 || !nd2 )
                     {
                        nd1 = ( UCHAR ) * szFirst;
                        nd2 = ( UCHAR ) * szSecond;
                     }
                  }
               }
               else
                  nd2 = ( UCHAR ) cdpage->s_chars[( UCHAR ) * szSecond];
               iRet = ( nd1 < nd2 ) ? -1 : 1;
               break;
            }
            else if( nd2 )
            {
               nd1 = ( UCHAR ) cdpage->s_chars[( UCHAR ) * szFirst];
               iRet = ( nd1 < nd2 ) ? -1 : 1;
               break;
            }
         }

         if( ( n1 = ( UCHAR ) cdpage->s_chars[ ( UCHAR ) * szFirst ] ) == 0 ||
             ( n2 = ( UCHAR ) cdpage->s_chars[ ( UCHAR ) * szSecond ] ) == 0 )
         {
            /* One of characters doesn't belong to the national characters */
            iRet = ( ( UCHAR ) * szFirst < ( UCHAR ) * szSecond ) ? -1 : 1;
            break;
         }
         else if( n1 == n2 )
         {
            if( iAcc == 0 && ( fExact || ( ulLenFirst == ulLenSecond && cdpage->lAccInterleave ) ) )
            {
               if( cdpage->lAccInterleave )
                  iAcc = ( cdpage->s_accent[ ( UCHAR ) * szFirst ] <
                           cdpage->s_accent[ ( UCHAR ) * szSecond ] ) ? -1 : 1;
               else
                  iAcc = ( ( UCHAR ) * szFirst < ( UCHAR ) * szSecond ) ? -1 : 1;
            }
         }
         else
         {
            iRet = ( n1 < n2 ) ? -1 : 1;
            break;
         }
      }
   }

   if( !iRet )
   {
      if( iAcc )
         iRet = iAcc;
      else if( ulLenSecond > ulLenFirst )
         iRet = -1;
      else if( fExact && ulLenSecond < ulLenFirst )
         iRet = 1;
   }

   return iRet;
}

static int hb_cdpMultiWeightI( PHB_CODEPAGE cdpage, const char *szChar )
{
   PHB_MULTICHAR pmulti = cdpage->multi;
   int j;

   for( j = 0; j < cdpage->nMulti; ++j, ++pmulti )
   {
      if( ( *szChar == pmulti->cFirst[0] ||
            *szChar == pmulti->cFirst[1] ) &&
          ( *( szChar + 1 ) == pmulti->cLast[0] || *( szChar + 1 ) == pmulti->cLast[1] ) )
      {
         return pmulti->nCode;
      }
   }

   return 0;
}

int hb_cdpicmp( const char *szFirst, ULONG ulLenFirst,
                const char *szSecond, ULONG ulLenSecond,
                PHB_CODEPAGE cdpage, BOOL fExact )
{
   int iRet = 0, iAcc = 0, n1 = 0, n2 = 0, u1, u2;
   ULONG ul, ulLen;

   ulLen = ulLenFirst < ulLenSecond ? ulLenFirst : ulLenSecond;
   for( ul = 0; ul < ulLen; ++szFirst, ++szSecond, ++ul )
   {
      u1 = ( UCHAR ) cdpage->s_upper[( UCHAR ) * szFirst];
      u2 = ( UCHAR ) cdpage->s_upper[( UCHAR ) * szSecond];
      if( u1 != u2 )
      {
         if( cdpage->nMulti )
         {
            int nd1, nd2;

            if( ul > 0 )
            {
               nd1 = hb_cdpMultiWeightI( cdpage, szFirst - 1 );
               nd2 = hb_cdpMultiWeightI( cdpage, szSecond - 1 );
               if( nd1 )
               {
                  if( nd2 )
                  {
                     if( nd1 == nd2 )
                     {
                        nd1 = ( UCHAR ) cdpage->s_chars[u1];
                        nd2 = ( UCHAR ) cdpage->s_chars[u2];
                        if( nd1 == nd2 || !nd1 || !nd2 )
                        {
                           nd1 = u1;
                           nd2 = u2;
                        }
                     }
                  }
                  else
                     nd2 = n2;
                  iRet = ( nd1 < nd2 ) ? -1 : 1;
                  break;
               }
               else if( nd2 )
               {
                  iRet = ( n1 < nd2 ) ? -1 : 1;
                  break;
               }
            }
            nd1 = ( ul < ulLenFirst - 1 ) ? hb_cdpMultiWeightI( cdpage, szFirst ) : 0;
            nd2 = ( ul < ulLenSecond - 1 ) ? hb_cdpMultiWeightI( cdpage, szSecond ) : 0;
            if( nd1 )
            {
               if( nd2 )
               {
                  if( nd1 == nd2 )
                  {
                     nd1 = ( UCHAR ) cdpage->s_chars[u1];
                     nd2 = ( UCHAR ) cdpage->s_chars[u2];
                     if( nd1 == nd2 || !nd1 || !nd2 )
                     {
                        nd1 = u1;
                        nd2 = u2;
                     }
                  }
               }
               else
                  nd2 = ( UCHAR ) cdpage->s_chars[u2];
               iRet = ( nd1 < nd2 ) ? -1 : 1;
               break;
            }
            else if( nd2 )
            {
               nd1 = ( UCHAR ) cdpage->s_chars[u1];
               iRet = ( nd1 < nd2 ) ? -1 : 1;
               break;
            }
         }

         if( ( n1 = ( UCHAR ) cdpage->s_chars[u1] ) == 0 ||
             ( n2 = ( UCHAR ) cdpage->s_chars[u2] ) == 0 )
         {
            /* One of characters doesn't belong to the national characters */
            iRet = ( u1 < u2 ) ? -1 : 1;
            break;
         }
         else if( n1 == n2 )
         {
            if( iAcc == 0 && ( fExact || ( ulLenFirst == ulLenSecond && cdpage->lAccInterleave ) ) )
            {
               if( cdpage->lAccInterleave )
                  iAcc = ( cdpage->s_accent[u1] < cdpage->s_accent[u2] ) ? -1 : 1;
               else
                  iAcc = ( u1 < u2 ) ? -1 : 1;
            }
         }
         else
         {
            iRet = ( n1 < n2 ) ? -1 : 1;
            break;
         }
      }
   }

   if( !iRet )
   {
      if( iAcc )
         iRet = iAcc;
      else if( ulLenSecond > ulLenFirst )
         iRet = -1;
      else if( fExact && ulLenSecond < ulLenFirst )
         iRet = 1;
   }

   return iRet;
}

void hb_cdpReleaseAll( void )
{
   int iPos = 0;

   while( iPos < HB_CDP_MAX_ && s_cdpList[iPos] )
   {
      if( s_cdpList[iPos]->buffer )
         hb_xfree( s_cdpList[iPos]->buffer );
      if( s_cdpList[iPos]->multi )
         hb_xfree( s_cdpList[iPos]->multi );
      iPos++;
   }
}

HB_FUNC( HB_CDPSELECT )
{
   hb_retc( hb_cdpID() );

   if( HB_ISCHAR( 1 ) )
      hb_cdpSelectID( hb_parc( 1 ) );
}

HB_FUNC( HB_CDPUNIID )
{
   PHB_CODEPAGE cdp = hb_cdpFind( hb_parcx( 1 ) );

   hb_retc( cdp ? cdp->uniID : NULL );
}

HB_FUNC( HB_SETCODEPAGE )
{
   HB_FUNC_EXEC( HB_CDPSELECT );
}

HB_FUNC( HB_TRANSLATE )
{
   ULONG ulLen = hb_parclen( 1 );
   const char *szIdIn = hb_parc( 2 );
   const char *szIdOut = hb_parc( 3 );

   if( ulLen && ( szIdIn || szIdOut ) )
   {
      PHB_CODEPAGE cdpIn = szIdIn ? hb_cdpFindExt( szIdIn ) : hb_vmCDP();
      PHB_CODEPAGE cdpOut = szIdOut ? hb_cdpFindExt( szIdOut ) : hb_vmCDP();

      if( cdpIn && cdpOut && cdpIn != cdpOut )
      {
         char *szResult = hb_cdpnDup( hb_parc( 1 ), &ulLen, cdpIn, cdpOut );
         hb_retclen_buffer( szResult, ulLen );
      }
      else
         hb_itemReturn( hb_param( 1, HB_IT_STRING ) );
   }
   else
      hb_retc_null();
}

HB_FUNC( HB_CDPLIST )
{
   int iCount, iPos;

   for( iCount = 0; iCount < HB_CDP_MAX_; ++iCount )
   {
      if( !s_cdpList[iCount] )
         break;
   }

   hb_reta( iCount );
   for( iPos = 0; iPos < iCount; ++iPos )
   {
      hb_storvc( s_cdpList[iPos]->id, -1, iPos + 1 );
   }
}

HB_FUNC( HB_STRTOUTF8 )
{
   ULONG ulLen = hb_parclen( 1 ), ulDest = 0;
   const char *szString;
   char *szDest = NULL;

   if( ulLen )
   {
      PHB_CODEPAGE cdp = HB_ISCHAR( 2 ) ? hb_cdpFind( hb_parc( 2 ) ) : hb_vmCDP();

      if( cdp )
      {
         szString = hb_parc( 1 );
         ulDest = hb_cdpStringInUTF8Length( cdp, FALSE, szString, ulLen );
         szDest = ( char * ) hb_xgrab( ulDest + 1 );
         hb_cdpStrnToUTF8( cdp, FALSE, szString, ulLen, szDest );
      }
   }
   if( szDest )
      hb_retclen_buffer( szDest, ulDest );
   else
      hb_retc_null();
}

HB_FUNC( HB_UTF8CHR )
{
   if( HB_ISNUM( 1 ) )
   {
      char utf8Char[ HB_MAX_UTF8 ];
      int iLen;

      iLen = u16toutf8( utf8Char, ( USHORT ) hb_parni( 1 ) );
      hb_retclen( utf8Char, iLen );
   }
   else
   {
      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );
   }
}

HB_FUNC( HB_UTF8TOSTR )
{
   const char *szString = hb_parc( 1 );

   if( szString )
   {
      ULONG ulLen = hb_parclen( 1 ), ulDest = 0;
      char *szDest = NULL;

      if( ulLen )
      {
         PHB_CODEPAGE cdp = HB_ISCHAR( 2 ) ? hb_cdpFind( hb_parc( 2 ) ) : hb_vmCDP();

         if( cdp )
         {
            szString = hb_parc( 1 );
            ulDest = hb_cdpUTF8StringLength( szString, ulLen );
            szDest = ( char * ) hb_xgrab( ulDest + 1 );
            hb_cdpUTF8ToStrn( cdp, FALSE, szString, ulLen, szDest, ulDest );
         }
      }

      if( szDest )
         hb_retclen_buffer( szDest, ulDest );
      else
         hb_retc_null();
   }
   else
      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );
}

HB_FUNC( HB_UTF8SUBSTR )
{
   const char *szString = hb_parc( 1 );
   int iPCount = hb_pcount();

   if( szString && ( iPCount < 2 || ( HB_ISNUM( 2 ) && ( iPCount < 3 || HB_ISNUM( 3 ) ) ) ) )
   {
      char *szDest = NULL;
      ULONG ulLen = hb_parclen( 1 ), ulDest = 0;
      LONG lFrom = hb_parnl( 2 );
      LONG lCount = iPCount < 3 ? ( LONG ) ulLen : hb_parnl( 3 );

      if( lFrom < 0 )
      {
         lFrom += hb_cdpUTF8StringLength( szString, ulLen );
         if( lFrom < 0 )
            lFrom = 0;
      }
      else if( lFrom )
         --lFrom;

      if( ulLen && lCount > 0 )
         szDest = hb_cdpUTF8StringSubstr( szString, ulLen,
                                          lFrom, lCount, &ulDest );
      if( szDest )
         hb_retclen_buffer( szDest, ulDest );
      else
         hb_retc_null();
   }
   else
      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );
}

HB_FUNC( HB_UTF8LEFT )
{
   const char *szString = hb_parc( 1 );

   if( szString && HB_ISNUM( 2 ) )
   {
      LONG lLen = hb_parnl( 2 );
      ULONG ulDest = 0;
      char *szDest = NULL;

      if( lLen > 0 )
         szDest = hb_cdpUTF8StringSubstr( szString, hb_parclen( 1 ),
                                          0, lLen, &ulDest );

      if( szDest )
         hb_retclen_buffer( szDest, ulDest );
      else
         hb_retc_null();
   }
   else
      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );
}

HB_FUNC( HB_UTF8RIGHT )
{
   const char *szString = hb_parc( 1 );

   if( szString && HB_ISNUM( 2 ) )
   {
      LONG lLen = hb_parnl( 2 ), lFrom;
      ULONG ulLen = hb_parclen( 1 ), ulDest = 0;
      char *szDest = NULL;

      if( ulLen && lLen > 0 )
      {
         lFrom = hb_cdpUTF8StringLength( szString, ulLen ) - lLen;
         if( lFrom < 0 )
            lFrom = 0;
         szDest = hb_cdpUTF8StringSubstr( szString, ulLen,
                                          lFrom, lLen, &ulDest );
      }

      if( szDest )
         hb_retclen_buffer( szDest, ulDest );
      else
         hb_retc_null();
   }
   else
      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );
}

HB_FUNC( HB_UTF8PEEK )
{
   const char *szString = hb_parc( 1 );

   if( szString && HB_ISNUM( 2 ) )
   {
      ULONG ulPos = hb_parnl( 2 );
      ULONG ulLen = hb_parclen( 1 );

      if( ulPos > 0 && ulPos <= ulLen )
         hb_retnint( hb_cdpUTF8StringPeek( szString, ulLen, ulPos - 1 ) );
      else
         hb_retni( 0 );
   }
   else
      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );
}

HB_FUNC( HB_UTF8POKE )
{
   PHB_ITEM pText = hb_param( 1, HB_IT_STRING );

   if( pText && HB_ISNUM( 2 ) && HB_ISNUM( 3 ) )
   {
      const char *szString = hb_itemGetCPtr( pText );
      ULONG ulLen = hb_parclen( 1 ), ulPos;

      ulPos = utf8pos( szString, ulLen, hb_parnl( 2 ) );
      if( ulPos )
      {
         USHORT uc, uc2;
         int n, n2;

         --ulPos;
         uc = ( USHORT ) hb_parni( 3 );
         n = utf8Size( uc );
         n2 = 0;
         utf8tou16nextchar( szString[ulPos], &n2, &uc2 );
         ++n2;
         if( n == n2 )
         {
            char * szText;
            if( hb_itemGetWriteCL( pText, &szText, &ulLen ) &&
                ulPos + n <= ulLen )
            {
               u16toutf8( &szText[ulPos], uc );
            }
            hb_itemReturn( pText );
         }
         else
         {
            char *szResult = ( char * ) hb_xgrab( ulLen - n2 + n + 1 );

            memcpy( szResult, szString, ulPos );
            u16toutf8( &szResult[ulPos], uc );
            memcpy( szResult + ulPos + n, szString + ulPos + n2, ulLen - ulPos - n2 );
            if( HB_ISBYREF( 1 ) )
               hb_storclen( szResult, ulLen - n2 + n, 1 );
            hb_retclen_buffer( szResult, ulLen - n2 + n );
         }
      }
      else
         hb_itemReturn( pText );
   }
   else
      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );
}

HB_FUNC( HB_UTF8STUFF )
{
   const char *szString = hb_parc( 1 );

   if( szString && HB_ISNUM( 2 ) && HB_ISNUM( 3 ) && HB_ISCHAR( 4 ) )
   {
      ULONG ulLen = hb_parclen( 1 );
      ULONG ulPos = hb_parnl( 2 );
      ULONG ulDel = hb_parnl( 3 );
      ULONG ulIns = hb_parclen( 4 );
      ULONG ulTot;

      if( ulPos )
      {
         ulPos = utf8pos( szString, ulLen, ulPos );
         if( ulPos == 0 )
            ulPos = ulLen;
         else
            ulPos--;
      }
      if( ulDel )
      {
         if( ulPos < ulLen )
         {
            ulDel = utf8pos( szString + ulPos, ulLen - ulPos, ulDel + 1 );
            if( ulDel == 0 )
               ulDel = ulLen - ulPos;
            else
               ulDel--;
         }
         else
            ulDel = 0;
      }

      if( ( ulTot = ulLen + ulIns - ulDel ) > 0 )
      {
         char *szResult = ( char * ) hb_xgrab( ulTot + 1 );

         hb_xmemcpy( szResult, szString, ulPos );
         hb_xmemcpy( szResult + ulPos, hb_parc( 4 ), ulIns );
         hb_xmemcpy( szResult + ulPos + ulIns, szString + ulPos + ulDel,
                     ulLen - ( ulPos + ulDel ) );
         hb_retclen_buffer( szResult, ulTot );
      }
      else
         hb_retc_null();
   }
   else
      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );
}

HB_FUNC( HB_UTF8LEN )
{
   const char *szString = hb_parc( 1 );

   if( szString )
      hb_retnint( hb_cdpUTF8StringLength( szString, hb_parclen( 1 ) ) );
   else
      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );
}

/* non of numeric parameters in STRTRAN() (4-th and 5-th) refers to
 * character position in string so we do not need to create new
 * HB_UTF8STRTRAN() but we can safely use normal STRTRAN() function
 */
HB_FUNC_EXTERN( STRTRAN );

HB_FUNC( HB_UTF8STRTRAN )
{
   HB_FUNC_EXEC( STRTRAN )
}

#else /* !HB_CDP_SUPPORT_OFF */

BOOL hb_charIsDigit( int iChar )
{
   return HB_ISDIGIT( ( unsigned char ) iChar );
}

BOOL hb_charIsAlpha( int iChar )
{
   return HB_ISALPHA( ( unsigned char ) iChar );
}

BOOL hb_charIsLower( int iChar )
{
   return HB_ISLOWER( ( unsigned char ) iChar );
}

BOOL hb_charIsUpper( int iChar )
{
   return HB_ISUPPER( ( unsigned char ) iChar );
}

#endif /* HB_CDP_SUPPORT_OFF */
From vouchcac at users.sourceforge.net  Thu Oct 15 21:57:52 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Oct 15 21:58:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12718] trunk/harbour
Message-ID: <E1Myc4m-0000Jf-Kp@3kljzd1.ch3.sourceforge.com>

Revision: 12718
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12718&view=rev
Author:   vouchcac
Date:     2009-10-16 01:57:48 +0000 (Fri, 16 Oct 2009)

Log Message:
-----------
2009-10-15 18:43 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/generator/hbqtgen.prg
    ! Changes to implemented GC pointers.

  * contrib/hbqt/filelist.mk
    + hbqt_destruct.cpp

  * contrib/hbqt/hbqt.h
    ! Reworked to honor GC pointers.

  + contrib/hbqt/hbqt_destruct.cpp
    + Added routines to manage HVM controlled garbage collection.

  * contrib/hbqt/hbqt_slots.cpp
    ! Minot tweaks.

  * contrib/hbqt/QAbstractButton.cpp
  * contrib/hbqt/QAbstractItemModel.cpp
  * contrib/hbqt/QAbstractItemView.cpp
  * contrib/hbqt/QAbstractListModel.cpp
  * contrib/hbqt/QAbstractPrintDialog.cpp
  * contrib/hbqt/QAbstractScrollArea.cpp
  * contrib/hbqt/QAbstractSlider.cpp
  * contrib/hbqt/QAbstractSpinBox.cpp
  * contrib/hbqt/QAbstractTableModel.cpp
  * contrib/hbqt/QAction.cpp
  * contrib/hbqt/QApplication.cpp
  * contrib/hbqt/QBitmap.cpp
  * contrib/hbqt/QBoxLayout.cpp
  * contrib/hbqt/QBrush.cpp
  * contrib/hbqt/QButtonGroup.cpp
  * contrib/hbqt/QCalendarWidget.cpp
  * contrib/hbqt/QCheckBox.cpp
  * contrib/hbqt/QClipboard.cpp
  * contrib/hbqt/QColor.cpp
  * contrib/hbqt/QColorDialog.cpp
  * contrib/hbqt/QComboBox.cpp
  * contrib/hbqt/QCommandLinkButton.cpp
  * contrib/hbqt/QCommonStyle.cpp
  * contrib/hbqt/QConicalGradient.cpp
  * contrib/hbqt/QCoreApplication.cpp
  * contrib/hbqt/QCursor.cpp
  * contrib/hbqt/QDateEdit.cpp
  * contrib/hbqt/QDateTime.cpp
  * contrib/hbqt/QDateTimeEdit.cpp
  * contrib/hbqt/QDesktopWidget.cpp
  * contrib/hbqt/QDial.cpp
  * contrib/hbqt/QDialog.cpp
  * contrib/hbqt/QDir.cpp
  * contrib/hbqt/QDirModel.cpp
  * contrib/hbqt/QDockWidget.cpp
  * contrib/hbqt/QDoubleSpinBox.cpp
  * contrib/hbqt/QDragEnterEvent.cpp
  * contrib/hbqt/QDragLeaveEvent.cpp
  * contrib/hbqt/QDragMoveEvent.cpp
  * contrib/hbqt/QDropEvent.cpp
  * contrib/hbqt/QErrorMessage.cpp
  * contrib/hbqt/QEvent.cpp
  * contrib/hbqt/QEventLoop.cpp
  * contrib/hbqt/QFileDialog.cpp
  * contrib/hbqt/QFileSystemModel.cpp
  * contrib/hbqt/QFocusEvent.cpp
  * contrib/hbqt/QFocusFrame.cpp
  * contrib/hbqt/QFont.cpp
  * contrib/hbqt/QFontComboBox.cpp
  * contrib/hbqt/QFontDatabase.cpp
  * contrib/hbqt/QFontDialog.cpp
  * contrib/hbqt/QFontInfo.cpp
  * contrib/hbqt/QFontMetrics.cpp
  * contrib/hbqt/QFontMetricsF.cpp
  * contrib/hbqt/QFormLayout.cpp
  * contrib/hbqt/QFrame.cpp
  * contrib/hbqt/QFtp.cpp
  * contrib/hbqt/QGradient.cpp
  * contrib/hbqt/QGridLayout.cpp
  * contrib/hbqt/QGroupBox.cpp
  * contrib/hbqt/QHBoxLayout.cpp
  * contrib/hbqt/QHeaderView.cpp
  * contrib/hbqt/QHttp.cpp
  * contrib/hbqt/QIcon.cpp
  * contrib/hbqt/QImage.cpp
  * contrib/hbqt/QImageReader.cpp
  * contrib/hbqt/QImageWriter.cpp
  * contrib/hbqt/QInputDialog.cpp
  * contrib/hbqt/QInputEvent.cpp
  * contrib/hbqt/QIODevice.cpp
  * contrib/hbqt/QKeyEvent.cpp
  * contrib/hbqt/QKeySequence.cpp
  * contrib/hbqt/QLabel.cpp
  * contrib/hbqt/QLatin1Char.cpp
  * contrib/hbqt/QLatin1String.cpp
  * contrib/hbqt/QLayout.cpp
  * contrib/hbqt/QLayoutItem.cpp
  * contrib/hbqt/QLCDNumber.cpp
  * contrib/hbqt/QLine.cpp
  * contrib/hbqt/QLinearGradient.cpp
  * contrib/hbqt/QLineEdit.cpp
  * contrib/hbqt/QList.cpp
  * contrib/hbqt/QListView.cpp
  * contrib/hbqt/QListWidget.cpp
  * contrib/hbqt/QListWidgetItem.cpp
  * contrib/hbqt/QMainWindow.cpp
  * contrib/hbqt/QMenu.cpp
  * contrib/hbqt/QMenuBar.cpp
  * contrib/hbqt/QMessageBox.cpp
  * contrib/hbqt/QModelIndex.cpp
  * contrib/hbqt/QMouseEvent.cpp
  * contrib/hbqt/QMoveEvent.cpp
  * contrib/hbqt/QObject.cpp
  * contrib/hbqt/QPageSetupDialog.cpp
  * contrib/hbqt/QPaintDevice.cpp
  * contrib/hbqt/QPainter.cpp
  * contrib/hbqt/QPaintEvent.cpp
  * contrib/hbqt/QPalette.cpp
  * contrib/hbqt/QPen.cpp
  * contrib/hbqt/QPicture.cpp
  * contrib/hbqt/QPixmap.cpp
  * contrib/hbqt/QPoint.cpp
  * contrib/hbqt/QPointF.cpp
  * contrib/hbqt/QPrintDialog.cpp
  * contrib/hbqt/QPrintEngine.cpp
  * contrib/hbqt/QPrinter.cpp
  * contrib/hbqt/QPrintPreviewDialog.cpp
  * contrib/hbqt/QProcess.cpp
  * contrib/hbqt/QProgressBar.cpp
  * contrib/hbqt/QProgressDialog.cpp
  * contrib/hbqt/QPushButton.cpp
  * contrib/hbqt/QRadialGradient.cpp
  * contrib/hbqt/QRadioButton.cpp
  * contrib/hbqt/QRect.cpp
  * contrib/hbqt/QRectF.cpp
  * contrib/hbqt/QRegion.cpp
  * contrib/hbqt/QResizeEvent.cpp
  * contrib/hbqt/QResource.cpp
  * contrib/hbqt/QScrollArea.cpp
  * contrib/hbqt/QScrollBar.cpp
  * contrib/hbqt/QSignalMapper.cpp
  * contrib/hbqt/QSize.cpp
  * contrib/hbqt/QSizeF.cpp
  * contrib/hbqt/QSizeGrip.cpp
  * contrib/hbqt/QSizePolicy.cpp
  * contrib/hbqt/QSlider.cpp
  * contrib/hbqt/QSound.cpp
  * contrib/hbqt/QSpinBox.cpp
  * contrib/hbqt/QSplashScreen.cpp
  * contrib/hbqt/QSplitter.cpp
  * contrib/hbqt/QStandardItem.cpp
  * contrib/hbqt/QStandardItemModel.cpp
  * contrib/hbqt/QStatusBar.cpp
  * contrib/hbqt/QStringList.cpp
  * contrib/hbqt/QStringListModel.cpp
  * contrib/hbqt/QStyle.cpp
  * contrib/hbqt/QStyledItemDelegate.cpp
  * contrib/hbqt/QStyleFactory.cpp
  * contrib/hbqt/QStyleHintReturn.cpp
  * contrib/hbqt/QStyleHintReturnMask.cpp
  * contrib/hbqt/QStyleHintReturnVariant.cpp
  * contrib/hbqt/QStyleOption.cpp
  * contrib/hbqt/QStyleOptionButton.cpp
  * contrib/hbqt/QStyleOptionComboBox.cpp
  * contrib/hbqt/QStyleOptionComplex.cpp
  * contrib/hbqt/QStyleOptionDockWidget.cpp
  * contrib/hbqt/QStyleOptionFocusRect.cpp
  * contrib/hbqt/QStyleOptionFrame.cpp
  * contrib/hbqt/QStyleOptionGroupBox.cpp
  * contrib/hbqt/QStyleOptionHeader.cpp
  * contrib/hbqt/QStyleOptionMenuItem.cpp
  * contrib/hbqt/QStyleOptionProgressBar.cpp
  * contrib/hbqt/QStyleOptionSizeGrip.cpp
  * contrib/hbqt/QStyleOptionSlider.cpp
  * contrib/hbqt/QStyleOptionSpinBox.cpp
  * contrib/hbqt/QStyleOptionTab.cpp
  * contrib/hbqt/QStyleOptionTabBarBase.cpp
  * contrib/hbqt/QStyleOptionTabWidgetFrame.cpp
  * contrib/hbqt/QStyleOptionTitleBar.cpp
  * contrib/hbqt/QStyleOptionToolBar.cpp
  * contrib/hbqt/QStyleOptionToolBox.cpp
  * contrib/hbqt/QStyleOptionToolButton.cpp
  * contrib/hbqt/QStyleOptionViewItem.cpp
  * contrib/hbqt/QStylePainter.cpp
  * contrib/hbqt/QSystemTrayIcon.cpp
  * contrib/hbqt/QTabBar.cpp
  * contrib/hbqt/QTableView.cpp
  * contrib/hbqt/QTableWidget.cpp
  * contrib/hbqt/QTableWidgetItem.cpp
  * contrib/hbqt/QTabWidget.cpp
  * contrib/hbqt/QTextBlock.cpp
  * contrib/hbqt/QTextBlockFormat.cpp
  * contrib/hbqt/QTextBlockGroup.cpp
  * contrib/hbqt/QTextBoundaryFinder.cpp
  * contrib/hbqt/QTextBrowser.cpp
  * contrib/hbqt/QTextCharFormat.cpp
  * contrib/hbqt/QTextCodec.cpp
  * contrib/hbqt/QTextCursor.cpp
  * contrib/hbqt/QTextDecoder.cpp
  * contrib/hbqt/QTextDocument.cpp
  * contrib/hbqt/QTextDocumentFragment.cpp
  * contrib/hbqt/QTextDocumentWriter.cpp
  * contrib/hbqt/QTextEdit.cpp
  * contrib/hbqt/QTextEncoder.cpp
  * contrib/hbqt/QTextFormat.cpp
  * contrib/hbqt/QTextFragment.cpp
  * contrib/hbqt/QTextFrame.cpp
  * contrib/hbqt/QTextFrameFormat.cpp
  * contrib/hbqt/QTextImageFormat.cpp
  * contrib/hbqt/QTextInlineObject.cpp
  * contrib/hbqt/QTextItem.cpp
  * contrib/hbqt/QTextLayout.cpp
  * contrib/hbqt/QTextLength.cpp
  * contrib/hbqt/QTextLine.cpp
  * contrib/hbqt/QTextObject.cpp
  * contrib/hbqt/QTextStream.cpp
  * contrib/hbqt/QTimeEdit.cpp
  * contrib/hbqt/QTimer.cpp
  * contrib/hbqt/QToolBar.cpp
  * contrib/hbqt/QToolBox.cpp
  * contrib/hbqt/QToolButton.cpp
  * contrib/hbqt/QTreeView.cpp
  * contrib/hbqt/QTreeWidget.cpp
  * contrib/hbqt/QTreeWidgetItem.cpp
  * contrib/hbqt/QUrl.cpp
  * contrib/hbqt/QVariant.cpp
  * contrib/hbqt/QVBoxLayout.cpp
  * contrib/hbqt/QWebFrame.cpp
  * contrib/hbqt/QWebHistory.cpp
  * contrib/hbqt/QWebHistoryInterface.cpp
  * contrib/hbqt/QWebHistoryItem.cpp
  * contrib/hbqt/QWebHitTestResult.cpp
  * contrib/hbqt/QWebPage.cpp
  * contrib/hbqt/QWebPluginFactory.cpp
  * contrib/hbqt/QWebSecurityOrigin.cpp
  * contrib/hbqt/QWebSettings.cpp
  * contrib/hbqt/QWebView.cpp
  * contrib/hbqt/QWheelEvent.cpp
  * contrib/hbqt/QWidget.cpp
  * contrib/hbqt/QWidgetAction.cpp
  * contrib/hbqt/QWidgetItem.cpp
  * contrib/hbqt/QWindowsStyle.cpp
  * contrib/hbqt/QWindowsXPStyle.cpp
  * contrib/hbqt/QWizard.cpp
    ! Auto generated sources by virtue of changes in hbqtgen.prg

  * contrib/hbqt/tests/demoqt.prg
  * contrib/hbqt/TQAbstractButton.prg
  * contrib/hbqt/TQAbstractItemModel.prg
  * contrib/hbqt/TQAbstractItemView.prg
  * contrib/hbqt/TQAbstractListModel.prg
  * contrib/hbqt/TQAbstractPrintDialog.prg
  * contrib/hbqt/TQAbstractScrollArea.prg
  * contrib/hbqt/TQAbstractSlider.prg
  * contrib/hbqt/TQAbstractSpinBox.prg
  * contrib/hbqt/TQAbstractTableModel.prg
  * contrib/hbqt/TQAction.prg
  * contrib/hbqt/TQApplication.prg
  * contrib/hbqt/TQBitmap.prg
  * contrib/hbqt/TQBoxLayout.prg
  * contrib/hbqt/TQBrush.prg
  * contrib/hbqt/TQButtonGroup.prg
  * contrib/hbqt/TQCalendarWidget.prg
  * contrib/hbqt/TQCheckBox.prg
  * contrib/hbqt/TQClipboard.prg
  * contrib/hbqt/TQColor.prg
  * contrib/hbqt/TQColorDialog.prg
  * contrib/hbqt/TQComboBox.prg
  * contrib/hbqt/TQCommandLinkButton.prg
  * contrib/hbqt/TQCommonStyle.prg
  * contrib/hbqt/TQConicalGradient.prg
  * contrib/hbqt/TQCoreApplication.prg
  * contrib/hbqt/TQCursor.prg
  * contrib/hbqt/TQDateEdit.prg
  * contrib/hbqt/TQDateTime.prg
  * contrib/hbqt/TQDateTimeEdit.prg
  * contrib/hbqt/TQDesktopWidget.prg
  * contrib/hbqt/TQDial.prg
  * contrib/hbqt/TQDialog.prg
  * contrib/hbqt/TQDir.prg
  * contrib/hbqt/TQDirModel.prg
  * contrib/hbqt/TQDockWidget.prg
  * contrib/hbqt/TQDoubleSpinBox.prg
  * contrib/hbqt/TQDragEnterEvent.prg
  * contrib/hbqt/TQDragLeaveEvent.prg
  * contrib/hbqt/TQDragMoveEvent.prg
  * contrib/hbqt/TQDropEvent.prg
  * contrib/hbqt/TQErrorMessage.prg
  * contrib/hbqt/TQEvent.prg
  * contrib/hbqt/TQEventLoop.prg
  * contrib/hbqt/TQFileDialog.prg
  * contrib/hbqt/TQFileSystemModel.prg
  * contrib/hbqt/TQFocusEvent.prg
  * contrib/hbqt/TQFocusFrame.prg
  * contrib/hbqt/TQFont.prg
  * contrib/hbqt/TQFontComboBox.prg
  * contrib/hbqt/TQFontDatabase.prg
  * contrib/hbqt/TQFontDialog.prg
  * contrib/hbqt/TQFontInfo.prg
  * contrib/hbqt/TQFontMetrics.prg
  * contrib/hbqt/TQFontMetricsF.prg
  * contrib/hbqt/TQFormLayout.prg
  * contrib/hbqt/TQFrame.prg
  * contrib/hbqt/TQFtp.prg
  * contrib/hbqt/TQGradient.prg
  * contrib/hbqt/TQGridLayout.prg
  * contrib/hbqt/TQGroupBox.prg
  * contrib/hbqt/TQHBoxLayout.prg
  * contrib/hbqt/TQHeaderView.prg
  * contrib/hbqt/TQHttp.prg
  * contrib/hbqt/TQIcon.prg
  * contrib/hbqt/TQImage.prg
  * contrib/hbqt/TQImageReader.prg
  * contrib/hbqt/TQImageWriter.prg
  * contrib/hbqt/TQInputDialog.prg
  * contrib/hbqt/TQInputEvent.prg
  * contrib/hbqt/TQIODevice.prg
  * contrib/hbqt/TQKeyEvent.prg
  * contrib/hbqt/TQKeySequence.prg
  * contrib/hbqt/TQLabel.prg
  * contrib/hbqt/TQLatin1Char.prg
  * contrib/hbqt/TQLatin1String.prg
  * contrib/hbqt/TQLayout.prg
  * contrib/hbqt/TQLayoutItem.prg
  * contrib/hbqt/TQLCDNumber.prg
  * contrib/hbqt/TQLine.prg
  * contrib/hbqt/TQLinearGradient.prg
  * contrib/hbqt/TQLineEdit.prg
  * contrib/hbqt/TQList.prg
  * contrib/hbqt/TQListView.prg
  * contrib/hbqt/TQListWidget.prg
  * contrib/hbqt/TQListWidgetItem.prg
  * contrib/hbqt/TQMainWindow.prg
  * contrib/hbqt/TQMenu.prg
  * contrib/hbqt/TQMenuBar.prg
  * contrib/hbqt/TQMessageBox.prg
  * contrib/hbqt/TQModelIndex.prg
  * contrib/hbqt/TQMouseEvent.prg
  * contrib/hbqt/TQMoveEvent.prg
  * contrib/hbqt/TQObject.prg
  * contrib/hbqt/TQPageSetupDialog.prg
  * contrib/hbqt/TQPaintDevice.prg
  * contrib/hbqt/TQPainter.prg
  * contrib/hbqt/TQPaintEvent.prg
  * contrib/hbqt/TQPalette.prg
  * contrib/hbqt/TQPen.prg
  * contrib/hbqt/TQPicture.prg
  * contrib/hbqt/TQPixmap.prg
  * contrib/hbqt/TQPoint.prg
  * contrib/hbqt/TQPointF.prg
  * contrib/hbqt/TQPrintDialog.prg
  * contrib/hbqt/TQPrintEngine.prg
  * contrib/hbqt/TQPrinter.prg
  * contrib/hbqt/TQPrintPreviewDialog.prg
  * contrib/hbqt/TQProcess.prg
  * contrib/hbqt/TQProgressBar.prg
  * contrib/hbqt/TQProgressDialog.prg
  * contrib/hbqt/TQPushButton.prg
  * contrib/hbqt/TQRadialGradient.prg
  * contrib/hbqt/TQRadioButton.prg
  * contrib/hbqt/TQRect.prg
  * contrib/hbqt/TQRectF.prg
  * contrib/hbqt/TQRegion.prg
  * contrib/hbqt/TQResizeEvent.prg
  * contrib/hbqt/TQResource.prg
  * contrib/hbqt/TQScrollArea.prg
  * contrib/hbqt/TQScrollBar.prg
  * contrib/hbqt/TQSignalMapper.prg
  * contrib/hbqt/TQSize.prg
  * contrib/hbqt/TQSizeF.prg
  * contrib/hbqt/TQSizeGrip.prg
  * contrib/hbqt/TQSizePolicy.prg
  * contrib/hbqt/TQSlider.prg
  * contrib/hbqt/TQSound.prg
  * contrib/hbqt/TQSpinBox.prg
  * contrib/hbqt/TQSplashScreen.prg
  * contrib/hbqt/TQSplitter.prg
  * contrib/hbqt/TQStandardItem.prg
  * contrib/hbqt/TQStandardItemModel.prg
  * contrib/hbqt/TQStatusBar.prg
  * contrib/hbqt/TQStringList.prg
  * contrib/hbqt/TQStringListModel.prg
  * contrib/hbqt/TQStyle.prg
  * contrib/hbqt/TQStyledItemDelegate.prg
  * contrib/hbqt/TQStyleFactory.prg
  * contrib/hbqt/TQStyleHintReturn.prg
  * contrib/hbqt/TQStyleHintReturnMask.prg
  * contrib/hbqt/TQStyleHintReturnVariant.prg
  * contrib/hbqt/TQStyleOption.prg
  * contrib/hbqt/TQStyleOptionButton.prg
  * contrib/hbqt/TQStyleOptionComboBox.prg
  * contrib/hbqt/TQStyleOptionComplex.prg
  * contrib/hbqt/TQStyleOptionDockWidget.prg
  * contrib/hbqt/TQStyleOptionFocusRect.prg
  * contrib/hbqt/TQStyleOptionFrame.prg
  * contrib/hbqt/TQStyleOptionGroupBox.prg
  * contrib/hbqt/TQStyleOptionHeader.prg
  * contrib/hbqt/TQStyleOptionMenuItem.prg
  * contrib/hbqt/TQStyleOptionProgressBar.prg
  * contrib/hbqt/TQStyleOptionSizeGrip.prg
  * contrib/hbqt/TQStyleOptionSlider.prg
  * contrib/hbqt/TQStyleOptionSpinBox.prg
  * contrib/hbqt/TQStyleOptionTab.prg
  * contrib/hbqt/TQStyleOptionTabBarBase.prg
  * contrib/hbqt/TQStyleOptionTabWidgetFrame.prg
  * contrib/hbqt/TQStyleOptionTitleBar.prg
  * contrib/hbqt/TQStyleOptionToolBar.prg
  * contrib/hbqt/TQStyleOptionToolBox.prg
  * contrib/hbqt/TQStyleOptionToolButton.prg
  * contrib/hbqt/TQStyleOptionViewItem.prg
  * contrib/hbqt/TQStylePainter.prg
  * contrib/hbqt/TQSystemTrayIcon.prg
  * contrib/hbqt/TQTabBar.prg
  * contrib/hbqt/TQTableView.prg
  * contrib/hbqt/TQTableWidget.prg
  * contrib/hbqt/TQTableWidgetItem.prg
  * contrib/hbqt/TQTabWidget.prg
  * contrib/hbqt/TQTextBlock.prg
  * contrib/hbqt/TQTextBlockFormat.prg
  * contrib/hbqt/TQTextBlockGroup.prg
  * contrib/hbqt/TQTextBoundaryFinder.prg
  * contrib/hbqt/TQTextBrowser.prg
  * contrib/hbqt/TQTextCharFormat.prg
  * contrib/hbqt/TQTextCodec.prg
  * contrib/hbqt/TQTextCursor.prg
  * contrib/hbqt/TQTextDecoder.prg
  * contrib/hbqt/TQTextDocument.prg
  * contrib/hbqt/TQTextDocumentFragment.prg
  * contrib/hbqt/TQTextDocumentWriter.prg
  * contrib/hbqt/TQTextEdit.prg
  * contrib/hbqt/TQTextEncoder.prg
  * contrib/hbqt/TQTextFormat.prg
  * contrib/hbqt/TQTextFragment.prg
  * contrib/hbqt/TQTextFrame.prg
  * contrib/hbqt/TQTextFrameFormat.prg
  * contrib/hbqt/TQTextImageFormat.prg
  * contrib/hbqt/TQTextInlineObject.prg
  * contrib/hbqt/TQTextItem.prg
  * contrib/hbqt/TQTextLayout.prg
  * contrib/hbqt/TQTextLength.prg
  * contrib/hbqt/TQTextLine.prg
  * contrib/hbqt/TQTextObject.prg
  * contrib/hbqt/TQTextStream.prg
  * contrib/hbqt/TQTimeEdit.prg
  * contrib/hbqt/TQTimer.prg
  * contrib/hbqt/TQToolBar.prg
  * contrib/hbqt/TQToolBox.prg
  * contrib/hbqt/TQToolButton.prg
  * contrib/hbqt/TQTreeView.prg
  * contrib/hbqt/TQTreeWidget.prg
  * contrib/hbqt/TQTreeWidgetItem.prg
  * contrib/hbqt/TQUrl.prg
  * contrib/hbqt/TQVariant.prg
  * contrib/hbqt/TQVBoxLayout.prg
  * contrib/hbqt/TQWebFrame.prg
  * contrib/hbqt/TQWebHistory.prg
  * contrib/hbqt/TQWebHistoryInterface.prg
  * contrib/hbqt/TQWebHistoryItem.prg
  * contrib/hbqt/TQWebHitTestResult.prg
  * contrib/hbqt/TQWebPage.prg
  * contrib/hbqt/TQWebPluginFactory.prg
  * contrib/hbqt/TQWebSecurityOrigin.prg
  * contrib/hbqt/TQWebSettings.prg
  * contrib/hbqt/TQWebView.prg
  * contrib/hbqt/TQWheelEvent.prg
  * contrib/hbqt/TQWidget.prg
  * contrib/hbqt/TQWidgetAction.prg
  * contrib/hbqt/TQWidgetItem.prg
  * contrib/hbqt/TQWindowsStyle.prg
  * contrib/hbqt/TQWindowsXPStyle.prg
  * contrib/hbqt/TQWizard.prg
    ! Auto generated sources by virtue of changes in hbqtgen.prg

    [ Detailed analysis will follow in a separate thread ]  

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/QAbstractButton.cpp
    trunk/harbour/contrib/hbqt/QAbstractItemModel.cpp
    trunk/harbour/contrib/hbqt/QAbstractItemView.cpp
    trunk/harbour/contrib/hbqt/QAbstractListModel.cpp
    trunk/harbour/contrib/hbqt/QAbstractPrintDialog.cpp
    trunk/harbour/contrib/hbqt/QAbstractScrollArea.cpp
    trunk/harbour/contrib/hbqt/QAbstractSlider.cpp
    trunk/harbour/contrib/hbqt/QAbstractSpinBox.cpp
    trunk/harbour/contrib/hbqt/QAbstractTableModel.cpp
    trunk/harbour/contrib/hbqt/QAction.cpp
    trunk/harbour/contrib/hbqt/QApplication.cpp
    trunk/harbour/contrib/hbqt/QBitmap.cpp
    trunk/harbour/contrib/hbqt/QBoxLayout.cpp
    trunk/harbour/contrib/hbqt/QBrush.cpp
    trunk/harbour/contrib/hbqt/QButtonGroup.cpp
    trunk/harbour/contrib/hbqt/QCalendarWidget.cpp
    trunk/harbour/contrib/hbqt/QCheckBox.cpp
    trunk/harbour/contrib/hbqt/QClipboard.cpp
    trunk/harbour/contrib/hbqt/QColor.cpp
    trunk/harbour/contrib/hbqt/QColorDialog.cpp
    trunk/harbour/contrib/hbqt/QComboBox.cpp
    trunk/harbour/contrib/hbqt/QCommandLinkButton.cpp
    trunk/harbour/contrib/hbqt/QCommonStyle.cpp
    trunk/harbour/contrib/hbqt/QConicalGradient.cpp
    trunk/harbour/contrib/hbqt/QCoreApplication.cpp
    trunk/harbour/contrib/hbqt/QCursor.cpp
    trunk/harbour/contrib/hbqt/QDateEdit.cpp
    trunk/harbour/contrib/hbqt/QDateTime.cpp
    trunk/harbour/contrib/hbqt/QDateTimeEdit.cpp
    trunk/harbour/contrib/hbqt/QDesktopWidget.cpp
    trunk/harbour/contrib/hbqt/QDial.cpp
    trunk/harbour/contrib/hbqt/QDialog.cpp
    trunk/harbour/contrib/hbqt/QDir.cpp
    trunk/harbour/contrib/hbqt/QDirModel.cpp
    trunk/harbour/contrib/hbqt/QDockWidget.cpp
    trunk/harbour/contrib/hbqt/QDoubleSpinBox.cpp
    trunk/harbour/contrib/hbqt/QDragEnterEvent.cpp
    trunk/harbour/contrib/hbqt/QDragLeaveEvent.cpp
    trunk/harbour/contrib/hbqt/QDragMoveEvent.cpp
    trunk/harbour/contrib/hbqt/QDropEvent.cpp
    trunk/harbour/contrib/hbqt/QErrorMessage.cpp
    trunk/harbour/contrib/hbqt/QEvent.cpp
    trunk/harbour/contrib/hbqt/QEventLoop.cpp
    trunk/harbour/contrib/hbqt/QFileDialog.cpp
    trunk/harbour/contrib/hbqt/QFileSystemModel.cpp
    trunk/harbour/contrib/hbqt/QFocusEvent.cpp
    trunk/harbour/contrib/hbqt/QFocusFrame.cpp
    trunk/harbour/contrib/hbqt/QFont.cpp
    trunk/harbour/contrib/hbqt/QFontComboBox.cpp
    trunk/harbour/contrib/hbqt/QFontDatabase.cpp
    trunk/harbour/contrib/hbqt/QFontDialog.cpp
    trunk/harbour/contrib/hbqt/QFontInfo.cpp
    trunk/harbour/contrib/hbqt/QFontMetrics.cpp
    trunk/harbour/contrib/hbqt/QFontMetricsF.cpp
    trunk/harbour/contrib/hbqt/QFormLayout.cpp
    trunk/harbour/contrib/hbqt/QFrame.cpp
    trunk/harbour/contrib/hbqt/QFtp.cpp
    trunk/harbour/contrib/hbqt/QGradient.cpp
    trunk/harbour/contrib/hbqt/QGridLayout.cpp
    trunk/harbour/contrib/hbqt/QGroupBox.cpp
    trunk/harbour/contrib/hbqt/QHBoxLayout.cpp
    trunk/harbour/contrib/hbqt/QHeaderView.cpp
    trunk/harbour/contrib/hbqt/QHttp.cpp
    trunk/harbour/contrib/hbqt/QIODevice.cpp
    trunk/harbour/contrib/hbqt/QIcon.cpp
    trunk/harbour/contrib/hbqt/QImage.cpp
    trunk/harbour/contrib/hbqt/QImageReader.cpp
    trunk/harbour/contrib/hbqt/QImageWriter.cpp
    trunk/harbour/contrib/hbqt/QInputDialog.cpp
    trunk/harbour/contrib/hbqt/QInputEvent.cpp
    trunk/harbour/contrib/hbqt/QKeyEvent.cpp
    trunk/harbour/contrib/hbqt/QKeySequence.cpp
    trunk/harbour/contrib/hbqt/QLCDNumber.cpp
    trunk/harbour/contrib/hbqt/QLabel.cpp
    trunk/harbour/contrib/hbqt/QLatin1Char.cpp
    trunk/harbour/contrib/hbqt/QLatin1String.cpp
    trunk/harbour/contrib/hbqt/QLayout.cpp
    trunk/harbour/contrib/hbqt/QLayoutItem.cpp
    trunk/harbour/contrib/hbqt/QLine.cpp
    trunk/harbour/contrib/hbqt/QLineEdit.cpp
    trunk/harbour/contrib/hbqt/QLinearGradient.cpp
    trunk/harbour/contrib/hbqt/QList.cpp
    trunk/harbour/contrib/hbqt/QListView.cpp
    trunk/harbour/contrib/hbqt/QListWidget.cpp
    trunk/harbour/contrib/hbqt/QListWidgetItem.cpp
    trunk/harbour/contrib/hbqt/QMainWindow.cpp
    trunk/harbour/contrib/hbqt/QMenu.cpp
    trunk/harbour/contrib/hbqt/QMenuBar.cpp
    trunk/harbour/contrib/hbqt/QMessageBox.cpp
    trunk/harbour/contrib/hbqt/QModelIndex.cpp
    trunk/harbour/contrib/hbqt/QMouseEvent.cpp
    trunk/harbour/contrib/hbqt/QMoveEvent.cpp
    trunk/harbour/contrib/hbqt/QObject.cpp
    trunk/harbour/contrib/hbqt/QPageSetupDialog.cpp
    trunk/harbour/contrib/hbqt/QPaintDevice.cpp
    trunk/harbour/contrib/hbqt/QPaintEvent.cpp
    trunk/harbour/contrib/hbqt/QPainter.cpp
    trunk/harbour/contrib/hbqt/QPalette.cpp
    trunk/harbour/contrib/hbqt/QPen.cpp
    trunk/harbour/contrib/hbqt/QPicture.cpp
    trunk/harbour/contrib/hbqt/QPixmap.cpp
    trunk/harbour/contrib/hbqt/QPoint.cpp
    trunk/harbour/contrib/hbqt/QPointF.cpp
    trunk/harbour/contrib/hbqt/QPrintDialog.cpp
    trunk/harbour/contrib/hbqt/QPrintEngine.cpp
    trunk/harbour/contrib/hbqt/QPrintPreviewDialog.cpp
    trunk/harbour/contrib/hbqt/QPrinter.cpp
    trunk/harbour/contrib/hbqt/QProcess.cpp
    trunk/harbour/contrib/hbqt/QProgressBar.cpp
    trunk/harbour/contrib/hbqt/QProgressDialog.cpp
    trunk/harbour/contrib/hbqt/QPushButton.cpp
    trunk/harbour/contrib/hbqt/QRadialGradient.cpp
    trunk/harbour/contrib/hbqt/QRadioButton.cpp
    trunk/harbour/contrib/hbqt/QRect.cpp
    trunk/harbour/contrib/hbqt/QRectF.cpp
    trunk/harbour/contrib/hbqt/QRegion.cpp
    trunk/harbour/contrib/hbqt/QResizeEvent.cpp
    trunk/harbour/contrib/hbqt/QResource.cpp
    trunk/harbour/contrib/hbqt/QScrollArea.cpp
    trunk/harbour/contrib/hbqt/QScrollBar.cpp
    trunk/harbour/contrib/hbqt/QSignalMapper.cpp
    trunk/harbour/contrib/hbqt/QSize.cpp
    trunk/harbour/contrib/hbqt/QSizeF.cpp
    trunk/harbour/contrib/hbqt/QSizeGrip.cpp
    trunk/harbour/contrib/hbqt/QSizePolicy.cpp
    trunk/harbour/contrib/hbqt/QSlider.cpp
    trunk/harbour/contrib/hbqt/QSound.cpp
    trunk/harbour/contrib/hbqt/QSpinBox.cpp
    trunk/harbour/contrib/hbqt/QSplashScreen.cpp
    trunk/harbour/contrib/hbqt/QSplitter.cpp
    trunk/harbour/contrib/hbqt/QStandardItem.cpp
    trunk/harbour/contrib/hbqt/QStandardItemModel.cpp
    trunk/harbour/contrib/hbqt/QStatusBar.cpp
    trunk/harbour/contrib/hbqt/QStringList.cpp
    trunk/harbour/contrib/hbqt/QStringListModel.cpp
    trunk/harbour/contrib/hbqt/QStyle.cpp
    trunk/harbour/contrib/hbqt/QStyleFactory.cpp
    trunk/harbour/contrib/hbqt/QStyleHintReturn.cpp
    trunk/harbour/contrib/hbqt/QStyleHintReturnMask.cpp
    trunk/harbour/contrib/hbqt/QStyleHintReturnVariant.cpp
    trunk/harbour/contrib/hbqt/QStyleOption.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionButton.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionComboBox.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionComplex.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionDockWidget.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionFocusRect.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionFrame.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionGroupBox.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionHeader.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionMenuItem.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionProgressBar.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionSizeGrip.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionSlider.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionSpinBox.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionTab.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionTabBarBase.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionTabWidgetFrame.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionTitleBar.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionToolBar.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionToolBox.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionToolButton.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionViewItem.cpp
    trunk/harbour/contrib/hbqt/QStylePainter.cpp
    trunk/harbour/contrib/hbqt/QStyledItemDelegate.cpp
    trunk/harbour/contrib/hbqt/QSystemTrayIcon.cpp
    trunk/harbour/contrib/hbqt/QTabBar.cpp
    trunk/harbour/contrib/hbqt/QTabWidget.cpp
    trunk/harbour/contrib/hbqt/QTableView.cpp
    trunk/harbour/contrib/hbqt/QTableWidget.cpp
    trunk/harbour/contrib/hbqt/QTableWidgetItem.cpp
    trunk/harbour/contrib/hbqt/QTextBlock.cpp
    trunk/harbour/contrib/hbqt/QTextBlockFormat.cpp
    trunk/harbour/contrib/hbqt/QTextBlockGroup.cpp
    trunk/harbour/contrib/hbqt/QTextBoundaryFinder.cpp
    trunk/harbour/contrib/hbqt/QTextBrowser.cpp
    trunk/harbour/contrib/hbqt/QTextCharFormat.cpp
    trunk/harbour/contrib/hbqt/QTextCodec.cpp
    trunk/harbour/contrib/hbqt/QTextCursor.cpp
    trunk/harbour/contrib/hbqt/QTextDecoder.cpp
    trunk/harbour/contrib/hbqt/QTextDocument.cpp
    trunk/harbour/contrib/hbqt/QTextDocumentFragment.cpp
    trunk/harbour/contrib/hbqt/QTextDocumentWriter.cpp
    trunk/harbour/contrib/hbqt/QTextEdit.cpp
    trunk/harbour/contrib/hbqt/QTextEncoder.cpp
    trunk/harbour/contrib/hbqt/QTextFormat.cpp
    trunk/harbour/contrib/hbqt/QTextFragment.cpp
    trunk/harbour/contrib/hbqt/QTextFrame.cpp
    trunk/harbour/contrib/hbqt/QTextFrameFormat.cpp
    trunk/harbour/contrib/hbqt/QTextImageFormat.cpp
    trunk/harbour/contrib/hbqt/QTextInlineObject.cpp
    trunk/harbour/contrib/hbqt/QTextItem.cpp
    trunk/harbour/contrib/hbqt/QTextLayout.cpp
    trunk/harbour/contrib/hbqt/QTextLength.cpp
    trunk/harbour/contrib/hbqt/QTextLine.cpp
    trunk/harbour/contrib/hbqt/QTextObject.cpp
    trunk/harbour/contrib/hbqt/QTextStream.cpp
    trunk/harbour/contrib/hbqt/QTimeEdit.cpp
    trunk/harbour/contrib/hbqt/QTimer.cpp
    trunk/harbour/contrib/hbqt/QToolBar.cpp
    trunk/harbour/contrib/hbqt/QToolBox.cpp
    trunk/harbour/contrib/hbqt/QToolButton.cpp
    trunk/harbour/contrib/hbqt/QTreeView.cpp
    trunk/harbour/contrib/hbqt/QTreeWidget.cpp
    trunk/harbour/contrib/hbqt/QTreeWidgetItem.cpp
    trunk/harbour/contrib/hbqt/QUrl.cpp
    trunk/harbour/contrib/hbqt/QVBoxLayout.cpp
    trunk/harbour/contrib/hbqt/QVariant.cpp
    trunk/harbour/contrib/hbqt/QWebFrame.cpp
    trunk/harbour/contrib/hbqt/QWebHistory.cpp
    trunk/harbour/contrib/hbqt/QWebHistoryInterface.cpp
    trunk/harbour/contrib/hbqt/QWebHistoryItem.cpp
    trunk/harbour/contrib/hbqt/QWebHitTestResult.cpp
    trunk/harbour/contrib/hbqt/QWebPage.cpp
    trunk/harbour/contrib/hbqt/QWebPluginFactory.cpp
    trunk/harbour/contrib/hbqt/QWebSecurityOrigin.cpp
    trunk/harbour/contrib/hbqt/QWebSettings.cpp
    trunk/harbour/contrib/hbqt/QWebView.cpp
    trunk/harbour/contrib/hbqt/QWheelEvent.cpp
    trunk/harbour/contrib/hbqt/QWidget.cpp
    trunk/harbour/contrib/hbqt/QWidgetAction.cpp
    trunk/harbour/contrib/hbqt/QWidgetItem.cpp
    trunk/harbour/contrib/hbqt/QWindowsStyle.cpp
    trunk/harbour/contrib/hbqt/QWindowsXPStyle.cpp
    trunk/harbour/contrib/hbqt/QWizard.cpp
    trunk/harbour/contrib/hbqt/TQAbstractButton.prg
    trunk/harbour/contrib/hbqt/TQAbstractItemModel.prg
    trunk/harbour/contrib/hbqt/TQAbstractItemView.prg
    trunk/harbour/contrib/hbqt/TQAbstractListModel.prg
    trunk/harbour/contrib/hbqt/TQAbstractPrintDialog.prg
    trunk/harbour/contrib/hbqt/TQAbstractScrollArea.prg
    trunk/harbour/contrib/hbqt/TQAbstractSlider.prg
    trunk/harbour/contrib/hbqt/TQAbstractSpinBox.prg
    trunk/harbour/contrib/hbqt/TQAbstractTableModel.prg
    trunk/harbour/contrib/hbqt/TQAction.prg
    trunk/harbour/contrib/hbqt/TQApplication.prg
    trunk/harbour/contrib/hbqt/TQBitmap.prg
    trunk/harbour/contrib/hbqt/TQBoxLayout.prg
    trunk/harbour/contrib/hbqt/TQBrush.prg
    trunk/harbour/contrib/hbqt/TQButtonGroup.prg
    trunk/harbour/contrib/hbqt/TQCalendarWidget.prg
    trunk/harbour/contrib/hbqt/TQCheckBox.prg
    trunk/harbour/contrib/hbqt/TQClipboard.prg
    trunk/harbour/contrib/hbqt/TQColor.prg
    trunk/harbour/contrib/hbqt/TQColorDialog.prg
    trunk/harbour/contrib/hbqt/TQComboBox.prg
    trunk/harbour/contrib/hbqt/TQCommandLinkButton.prg
    trunk/harbour/contrib/hbqt/TQCommonStyle.prg
    trunk/harbour/contrib/hbqt/TQConicalGradient.prg
    trunk/harbour/contrib/hbqt/TQCoreApplication.prg
    trunk/harbour/contrib/hbqt/TQCursor.prg
    trunk/harbour/contrib/hbqt/TQDateEdit.prg
    trunk/harbour/contrib/hbqt/TQDateTime.prg
    trunk/harbour/contrib/hbqt/TQDateTimeEdit.prg
    trunk/harbour/contrib/hbqt/TQDesktopWidget.prg
    trunk/harbour/contrib/hbqt/TQDial.prg
    trunk/harbour/contrib/hbqt/TQDialog.prg
    trunk/harbour/contrib/hbqt/TQDir.prg
    trunk/harbour/contrib/hbqt/TQDirModel.prg
    trunk/harbour/contrib/hbqt/TQDockWidget.prg
    trunk/harbour/contrib/hbqt/TQDoubleSpinBox.prg
    trunk/harbour/contrib/hbqt/TQDragEnterEvent.prg
    trunk/harbour/contrib/hbqt/TQDragLeaveEvent.prg
    trunk/harbour/contrib/hbqt/TQDragMoveEvent.prg
    trunk/harbour/contrib/hbqt/TQDropEvent.prg
    trunk/harbour/contrib/hbqt/TQErrorMessage.prg
    trunk/harbour/contrib/hbqt/TQEvent.prg
    trunk/harbour/contrib/hbqt/TQEventLoop.prg
    trunk/harbour/contrib/hbqt/TQFileDialog.prg
    trunk/harbour/contrib/hbqt/TQFileSystemModel.prg
    trunk/harbour/contrib/hbqt/TQFocusEvent.prg
    trunk/harbour/contrib/hbqt/TQFocusFrame.prg
    trunk/harbour/contrib/hbqt/TQFont.prg
    trunk/harbour/contrib/hbqt/TQFontComboBox.prg
    trunk/harbour/contrib/hbqt/TQFontDatabase.prg
    trunk/harbour/contrib/hbqt/TQFontDialog.prg
    trunk/harbour/contrib/hbqt/TQFontInfo.prg
    trunk/harbour/contrib/hbqt/TQFontMetrics.prg
    trunk/harbour/contrib/hbqt/TQFontMetricsF.prg
    trunk/harbour/contrib/hbqt/TQFormLayout.prg
    trunk/harbour/contrib/hbqt/TQFrame.prg
    trunk/harbour/contrib/hbqt/TQFtp.prg
    trunk/harbour/contrib/hbqt/TQGradient.prg
    trunk/harbour/contrib/hbqt/TQGridLayout.prg
    trunk/harbour/contrib/hbqt/TQGroupBox.prg
    trunk/harbour/contrib/hbqt/TQHBoxLayout.prg
    trunk/harbour/contrib/hbqt/TQHeaderView.prg
    trunk/harbour/contrib/hbqt/TQHttp.prg
    trunk/harbour/contrib/hbqt/TQIODevice.prg
    trunk/harbour/contrib/hbqt/TQIcon.prg
    trunk/harbour/contrib/hbqt/TQImage.prg
    trunk/harbour/contrib/hbqt/TQImageReader.prg
    trunk/harbour/contrib/hbqt/TQImageWriter.prg
    trunk/harbour/contrib/hbqt/TQInputDialog.prg
    trunk/harbour/contrib/hbqt/TQInputEvent.prg
    trunk/harbour/contrib/hbqt/TQKeyEvent.prg
    trunk/harbour/contrib/hbqt/TQKeySequence.prg
    trunk/harbour/contrib/hbqt/TQLCDNumber.prg
    trunk/harbour/contrib/hbqt/TQLabel.prg
    trunk/harbour/contrib/hbqt/TQLatin1Char.prg
    trunk/harbour/contrib/hbqt/TQLatin1String.prg
    trunk/harbour/contrib/hbqt/TQLayout.prg
    trunk/harbour/contrib/hbqt/TQLayoutItem.prg
    trunk/harbour/contrib/hbqt/TQLine.prg
    trunk/harbour/contrib/hbqt/TQLineEdit.prg
    trunk/harbour/contrib/hbqt/TQLinearGradient.prg
    trunk/harbour/contrib/hbqt/TQList.prg
    trunk/harbour/contrib/hbqt/TQListView.prg
    trunk/harbour/contrib/hbqt/TQListWidget.prg
    trunk/harbour/contrib/hbqt/TQListWidgetItem.prg
    trunk/harbour/contrib/hbqt/TQMainWindow.prg
    trunk/harbour/contrib/hbqt/TQMenu.prg
    trunk/harbour/contrib/hbqt/TQMenuBar.prg
    trunk/harbour/contrib/hbqt/TQMessageBox.prg
    trunk/harbour/contrib/hbqt/TQModelIndex.prg
    trunk/harbour/contrib/hbqt/TQMouseEvent.prg
    trunk/harbour/contrib/hbqt/TQMoveEvent.prg
    trunk/harbour/contrib/hbqt/TQObject.prg
    trunk/harbour/contrib/hbqt/TQPageSetupDialog.prg
    trunk/harbour/contrib/hbqt/TQPaintDevice.prg
    trunk/harbour/contrib/hbqt/TQPaintEvent.prg
    trunk/harbour/contrib/hbqt/TQPainter.prg
    trunk/harbour/contrib/hbqt/TQPalette.prg
    trunk/harbour/contrib/hbqt/TQPen.prg
    trunk/harbour/contrib/hbqt/TQPicture.prg
    trunk/harbour/contrib/hbqt/TQPixmap.prg
    trunk/harbour/contrib/hbqt/TQPoint.prg
    trunk/harbour/contrib/hbqt/TQPointF.prg
    trunk/harbour/contrib/hbqt/TQPrintDialog.prg
    trunk/harbour/contrib/hbqt/TQPrintEngine.prg
    trunk/harbour/contrib/hbqt/TQPrintPreviewDialog.prg
    trunk/harbour/contrib/hbqt/TQPrinter.prg
    trunk/harbour/contrib/hbqt/TQProcess.prg
    trunk/harbour/contrib/hbqt/TQProgressBar.prg
    trunk/harbour/contrib/hbqt/TQProgressDialog.prg
    trunk/harbour/contrib/hbqt/TQPushButton.prg
    trunk/harbour/contrib/hbqt/TQRadialGradient.prg
    trunk/harbour/contrib/hbqt/TQRadioButton.prg
    trunk/harbour/contrib/hbqt/TQRect.prg
    trunk/harbour/contrib/hbqt/TQRectF.prg
    trunk/harbour/contrib/hbqt/TQRegion.prg
    trunk/harbour/contrib/hbqt/TQResizeEvent.prg
    trunk/harbour/contrib/hbqt/TQResource.prg
    trunk/harbour/contrib/hbqt/TQScrollArea.prg
    trunk/harbour/contrib/hbqt/TQScrollBar.prg
    trunk/harbour/contrib/hbqt/TQSignalMapper.prg
    trunk/harbour/contrib/hbqt/TQSize.prg
    trunk/harbour/contrib/hbqt/TQSizeF.prg
    trunk/harbour/contrib/hbqt/TQSizeGrip.prg
    trunk/harbour/contrib/hbqt/TQSizePolicy.prg
    trunk/harbour/contrib/hbqt/TQSlider.prg
    trunk/harbour/contrib/hbqt/TQSound.prg
    trunk/harbour/contrib/hbqt/TQSpinBox.prg
    trunk/harbour/contrib/hbqt/TQSplashScreen.prg
    trunk/harbour/contrib/hbqt/TQSplitter.prg
    trunk/harbour/contrib/hbqt/TQStandardItem.prg
    trunk/harbour/contrib/hbqt/TQStandardItemModel.prg
    trunk/harbour/contrib/hbqt/TQStatusBar.prg
    trunk/harbour/contrib/hbqt/TQStringList.prg
    trunk/harbour/contrib/hbqt/TQStringListModel.prg
    trunk/harbour/contrib/hbqt/TQStyle.prg
    trunk/harbour/contrib/hbqt/TQStyleFactory.prg
    trunk/harbour/contrib/hbqt/TQStyleHintReturn.prg
    trunk/harbour/contrib/hbqt/TQStyleHintReturnMask.prg
    trunk/harbour/contrib/hbqt/TQStyleHintReturnVariant.prg
    trunk/harbour/contrib/hbqt/TQStyleOption.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionButton.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionComboBox.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionComplex.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionDockWidget.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionFocusRect.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionFrame.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionGroupBox.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionHeader.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionMenuItem.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionProgressBar.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionSizeGrip.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionSlider.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionSpinBox.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionTab.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionTabBarBase.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionTabWidgetFrame.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionTitleBar.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionToolBar.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionToolBox.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionToolButton.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionViewItem.prg
    trunk/harbour/contrib/hbqt/TQStylePainter.prg
    trunk/harbour/contrib/hbqt/TQStyledItemDelegate.prg
    trunk/harbour/contrib/hbqt/TQSystemTrayIcon.prg
    trunk/harbour/contrib/hbqt/TQTabBar.prg
    trunk/harbour/contrib/hbqt/TQTabWidget.prg
    trunk/harbour/contrib/hbqt/TQTableView.prg
    trunk/harbour/contrib/hbqt/TQTableWidget.prg
    trunk/harbour/contrib/hbqt/TQTableWidgetItem.prg
    trunk/harbour/contrib/hbqt/TQTextBlock.prg
    trunk/harbour/contrib/hbqt/TQTextBlockFormat.prg
    trunk/harbour/contrib/hbqt/TQTextBlockGroup.prg
    trunk/harbour/contrib/hbqt/TQTextBoundaryFinder.prg
    trunk/harbour/contrib/hbqt/TQTextBrowser.prg
    trunk/harbour/contrib/hbqt/TQTextCharFormat.prg
    trunk/harbour/contrib/hbqt/TQTextCodec.prg
    trunk/harbour/contrib/hbqt/TQTextCursor.prg
    trunk/harbour/contrib/hbqt/TQTextDecoder.prg
    trunk/harbour/contrib/hbqt/TQTextDocument.prg
    trunk/harbour/contrib/hbqt/TQTextDocumentFragment.prg
    trunk/harbour/contrib/hbqt/TQTextDocumentWriter.prg
    trunk/harbour/contrib/hbqt/TQTextEdit.prg
    trunk/harbour/contrib/hbqt/TQTextEncoder.prg
    trunk/harbour/contrib/hbqt/TQTextFormat.prg
    trunk/harbour/contrib/hbqt/TQTextFragment.prg
    trunk/harbour/contrib/hbqt/TQTextFrame.prg
    trunk/harbour/contrib/hbqt/TQTextFrameFormat.prg
    trunk/harbour/contrib/hbqt/TQTextImageFormat.prg
    trunk/harbour/contrib/hbqt/TQTextInlineObject.prg
    trunk/harbour/contrib/hbqt/TQTextItem.prg
    trunk/harbour/contrib/hbqt/TQTextLayout.prg
    trunk/harbour/contrib/hbqt/TQTextLength.prg
    trunk/harbour/contrib/hbqt/TQTextLine.prg
    trunk/harbour/contrib/hbqt/TQTextObject.prg
    trunk/harbour/contrib/hbqt/TQTextStream.prg
    trunk/harbour/contrib/hbqt/TQTimeEdit.prg
    trunk/harbour/contrib/hbqt/TQTimer.prg
    trunk/harbour/contrib/hbqt/TQToolBar.prg
    trunk/harbour/contrib/hbqt/TQToolBox.prg
    trunk/harbour/contrib/hbqt/TQToolButton.prg
    trunk/harbour/contrib/hbqt/TQTreeView.prg
    trunk/harbour/contrib/hbqt/TQTreeWidget.prg
    trunk/harbour/contrib/hbqt/TQTreeWidgetItem.prg
    trunk/harbour/contrib/hbqt/TQUrl.prg
    trunk/harbour/contrib/hbqt/TQVBoxLayout.prg
    trunk/harbour/contrib/hbqt/TQVariant.prg
    trunk/harbour/contrib/hbqt/TQWebFrame.prg
    trunk/harbour/contrib/hbqt/TQWebHistory.prg
    trunk/harbour/contrib/hbqt/TQWebHistoryInterface.prg
    trunk/harbour/contrib/hbqt/TQWebHistoryItem.prg
    trunk/harbour/contrib/hbqt/TQWebHitTestResult.prg
    trunk/harbour/contrib/hbqt/TQWebPage.prg
    trunk/harbour/contrib/hbqt/TQWebPluginFactory.prg
    trunk/harbour/contrib/hbqt/TQWebSecurityOrigin.prg
    trunk/harbour/contrib/hbqt/TQWebSettings.prg
    trunk/harbour/contrib/hbqt/TQWebView.prg
    trunk/harbour/contrib/hbqt/TQWheelEvent.prg
    trunk/harbour/contrib/hbqt/TQWidget.prg
    trunk/harbour/contrib/hbqt/TQWidgetAction.prg
    trunk/harbour/contrib/hbqt/TQWidgetItem.prg
    trunk/harbour/contrib/hbqt/TQWindowsStyle.prg
    trunk/harbour/contrib/hbqt/TQWindowsXPStyle.prg
    trunk/harbour/contrib/hbqt/TQWizard.prg
    trunk/harbour/contrib/hbqt/filelist.mk
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/tests/demoqt.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jerryfinuliar at operamail.com  Fri Oct 16 01:09:23 2009
From: jerryfinuliar at operamail.com (Jerry Finuliar)
Date: Fri Oct 16 01:09:30 2009
Subject: [Harbour] HBQT demoqt
Message-ID: <20091016050923.BA01E448C8@ws5-1.us4.outblaze.com>

Hi,

Im trying to compile demoqt.prg but I received the following messages:

D:\harbour\contrib\hbqt\tests>hbmk2 demoqt -Lc:\qt\4.5.3\lib
hbmk2: Processing local make script: hbmk.hbm
Harbour 2.0.0beta3 (Rev. 12718)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'demoqt.prg'...
Lines 966, Functions/Procedures 21
Generating C source output to 'demoqt.c'... Done.
demoqt.o:demoqt.c:(.data+0x98): undefined reference to `HB_FUN_HB_TOOUTDEBUG'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc.exe demoqt.o hbmk_xncwvv.o    -mwindows -Wl,--start-group -lhbqt -lversion -
lshlwapi -lQtCore4 -lQtGui4 -lQtNetwork4 -lQtWebKit4 -lsupc++ -lhbextern -lhbdeb
ug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lg
tgui -lhbrdd -lhbuddall -lhbusrrdd -lrddntx -lrddcdx -lrddnsx -lrddfpt -lhbrdd -
lhbhsx -lhbsix -lhbmacro -lhbcplr -lhbpp -lhbcommon -lkernel32 -luser32 -lgdi32
-ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32 -l
oleaut32 -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32 -lwininet -lhbpcre -lhbzlib  -
Wl,--end-group -odemoqt.exe -LC:/HARBOUR/lib/win/mingw -L/lib -Lc:/qt/4.5.3/lib


Build Tools

Harbour Build Info
---------------------------
Version: Harbour 2.0.0beta3 (Rev. 12718)
Compiler: MinGW GNU C 3.4.5 (32-bit)
Platform: Windows XP 5.1.2600 Service Pack 3
PCode version: 0.2
ChangeLog last entry: 2009-10-15 18:43 UTC-0800 Pritpal Bedi (pritpal@vouchcac.c
om)
ChangeLog ID: ChangeLog 12718 2009-10-16 01:57:48Z vouchcac

Built on: Oct 16 2009 11:19:42
Build options:
Language options: (Clipper 5.3) (Clipper 5.x undoc) (Xbase++) (Flagship)
---------------------------

gcc -v
Reading specs from c:/mingw/bin/../lib/gcc/mingw32/3.4.5/specs
Configured with: ../gcc-3.4.5-20060117-3/configure --with-gcc --with-gnu-ld --wi
th-gnu-as --host=mingw32 --target=mingw32 --prefix=/mingw --enable-threads --dis
able-nls --enable-languages=c,c++,f77,ada,objc,java --disable-win32-registry --d
isable-shared --enable-sjlj-exceptions --enable-libgcj --disable-java-awt --with
out-x --enable-java-gc=boehm --disable-libgcj-debug --enable-interpreter --enabl
e-hash-synchronization --enable-libstdcxx-debug
Thread model: win32
gcc version 3.4.5 (mingw-vista special r3)

My env var:

set path=%path%;c:\harbour\bin;c:\qt\4.5.3\bin;c:\mingw\bin
set HB_INC_QT=c:\qt\4.5.3\include
set HB_INSTALL_PREFIX=C:\HARBOUR

What am I missing?

TIA,
Jerry


-- 
_______________________________________________
Surf the Web in a faster, safer and easier way:
Download Opera 9 at http://www.opera.com

Powered by Outblaze
From bedipritpal at hotmail.com  Fri Oct 16 02:03:27 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Oct 16 02:03:34 2009
Subject: [Harbour] HBQT demoqt
In-Reply-To: <20091016050923.BA01E448C8@ws5-1.us4.outblaze.com>
References: <20091016050923.BA01E448C8@ws5-1.us4.outblaze.com>
Message-ID: <25920232.post@talk.nabble.com>


Hi


Jerry Finuliar-2 wrote:
> 
> D:\harbour\contrib\hbqt\tests>hbmk2 demoqt -Lc:\qt\4.5.3\lib
> hbmk2: Processing local make script: hbmk.hbm
> 

Just for now compile as 

hbmk2 demoqt -Lc:\qt\4.5.3\lib -lxhb

I will remove debug info after few days as I need to 
debug it constantly until I get the desired results.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HBQT-demoqt-tp25919918p25920232.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From jerryfinuliar at operamail.com  Fri Oct 16 03:01:50 2009
From: jerryfinuliar at operamail.com (Jerry Finuliar)
Date: Fri Oct 16 03:01:58 2009
Subject: [Harbour] HBQT demoqt
Message-ID: <20091016070150.AD71FCBEA7@ws5-11.us4.outblaze.com>

> Just for now compile as
> 
> hbmk2 demoqt -Lc:\qt\4.5.3\lib -lxhb
It compile fine. But loading takes a while. Memory
is now nearly stable. It GPF when accessing WebPage menu. 


> I will remove debug info after few days as I need to
> debug it constantly until I get the desired results.

Take your time. Ill test it again till then.

Thanks,
Jerry
 

-- 
_______________________________________________
Surf the Web in a faster, safer and easier way:
Download Opera 9 at http://www.opera.com

Powered by Outblaze
From elart at elart.it  Fri Oct 16 03:13:34 2009
From: elart at elart.it (elart)
Date: Fri Oct 16 03:13:41 2009
Subject: [Harbour] HBQT demoqt
In-Reply-To: <20091016050923.BA01E448C8@ws5-1.us4.outblaze.com>
Message-ID: <V4fnfM36.1255677214.1607590.marcobra@82.105.36.210>


Hi, all

On Ubuntu Karmic (9.10 devel) trying to run demoqt compile with:

harbour -build
Harbour 2.0.0beta3 (Rev. 12718)
Copyright (c) 1999-2009, http://www.harbour-project.org/

compiling...

hbmk2 -lxhb demoqt.prg

and running...

ubuntu@ubuntu-desktop:~/src/harbour/contrib/hbqt/tests$ ./demoqt

i get...

Unrecoverable error 6005: Exception SIGSEGV at address (nil)
Called from QT_QSTYLE_STANDARDICON(0)
Called from (b)QSTYLE(0) in ../../../TQStyle.prg
Called from QWINDOWSXPSTYLE:STANDARDICON(0) in ../../../TQStyle.prg
Called from MAIN(143) in demoqt.prg



Application Internal Error -
/home/ubuntu/src/harbour/contrib/hbqt/tests/demoqt
Terminated at: 2009.10.16 09:05:08
Unrecoverable error 6005: Exception SIGSEGV at address (nil)
Called from QT_QSTYLE_STANDARDICON(0)
Called from (b)QSTYLE(0) in ../../../TQStyle.prg
Called from QWINDOWSXPSTYLE:STANDARDICON(0) in ../../../TQStyle.prg
Called from MAIN(143) in demoqt.prg
------------------------------------------------------------------------
Application Internal Error -
/home/ubuntu/src/harbour/contrib/hbqt/tests/demoqt
Terminated at: 2009.10.16 09:05:48
Unrecoverable error 6005: Exception SIGSEGV at address (nil)
Called from QT_QSTYLE_STANDARDICON(0)
Called from (b)QSTYLE(0) in ../../../TQStyle.prg
Called from QWINDOWSXPSTYLE:STANDARDICON(0) in ../../../TQStyle.prg
Called from MAIN(143) in demoqt.prg
------------------------------------------------------------------------


Hope this helps
From Istvan.Bisz at t-online.hu  Fri Oct 16 03:52:30 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Fri Oct 16 03:52:53 2009
Subject: [Harbour] HBQT demoqt
In-Reply-To: <25920232.post@talk.nabble.com>
References: <20091016050923.BA01E448C8@ws5-1.us4.outblaze.com>
	<25920232.post@talk.nabble.com>
Message-ID: <000001ca4e35$9de7fc60$d9b7f520$@Bisz@t-online.hu>

Hi Pritpal,

> Just for now compile as 

> hbmk2 demoqt -Lc:\qt\4.5.3\lib -lxhb

> I will remove debug info after few days as I need to 
> debug it constantly until I get the desired results.

Some additional info for debugging from a CentOS 5.3 distro ...

Regards,
Istv?n Bisz

-------------- next part --------------
A non-text attachment was scrubbed...
Name: demoqt.debug.zip
Type: application/x-zip-compressed
Size: 14692 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091016/a7b4de3e/demoqt.debug-0001.bin
From harbour.01 at syenar.hu  Fri Oct 16 04:14:11 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Oct 16 04:14:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12718] trunk/harbour
In-Reply-To: <E1Myc4m-0000Jf-Kp@3kljzd1.ch3.sourceforge.com>
References: <E1Myc4m-0000Jf-Kp@3kljzd1.ch3.sourceforge.com>
Message-ID: <15CB7FDF-0B51-4428-B9D1-E1CBAE0CB998@syenar.hu>

Hi Pritpal,

I see you've chosen to use a unified release function option.

This is quite bad IMO. This means that every application, even
the smallest and simplest one will have linked in code for
59 (!) QT objects whether needed or not. This means you have
to say goodbye to modularity and granularity when using QT in
Harbour. This probably will get worse as QT evolves and get
more objects by time, and every QT apps will just grow
automatically. Not to mention the extra time and memory needs
of the container object you must now use. I understand there
are many objects in a typical QT app, and this way their
number is just doubled. Which means double number of memory
allocations and freeing and an extra structure in memory
for every object.

Brgds,
Viktor

On 2009 Oct 16, at 03:57, vouchcac@users.sourceforge.net wrote:

> Revision: 12718
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12718&view=rev
> Author:   vouchcac
> Date:     2009-10-16 01:57:48 +0000 (Fri, 16 Oct 2009)
>
> Log Message:
> -----------
> 2009-10-15 18:43 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbqt/generator/hbqtgen.prg
>    ! Changes to implemented GC pointers.
>
>  * contrib/hbqt/filelist.mk
>    + hbqt_destruct.cpp
>
>  * contrib/hbqt/hbqt.h
>    ! Reworked to honor GC pointers.
>
>  + contrib/hbqt/hbqt_destruct.cpp
>    + Added routines to manage HVM controlled garbage collection.
>
>  * contrib/hbqt/hbqt_slots.cpp
>    ! Minot tweaks.
>
>  * contrib/hbqt/QAbstractButton.cpp
>  * contrib/hbqt/QAbstractItemModel.cpp
>  * contrib/hbqt/QAbstractItemView.cpp
>  * contrib/hbqt/QAbstractListModel.cpp
>  * contrib/hbqt/QAbstractPrintDialog.cpp
>  * contrib/hbqt/QAbstractScrollArea.cpp
>  * contrib/hbqt/QAbstractSlider.cpp
>  * contrib/hbqt/QAbstractSpinBox.cpp
>  * contrib/hbqt/QAbstractTableModel.cpp
>  * contrib/hbqt/QAction.cpp
>  * contrib/hbqt/QApplication.cpp
>  * contrib/hbqt/QBitmap.cpp
>  * contrib/hbqt/QBoxLayout.cpp
>  * contrib/hbqt/QBrush.cpp
>  * contrib/hbqt/QButtonGroup.cpp
>  * contrib/hbqt/QCalendarWidget.cpp
>  * contrib/hbqt/QCheckBox.cpp
>  * contrib/hbqt/QClipboard.cpp
>  * contrib/hbqt/QColor.cpp
>  * contrib/hbqt/QColorDialog.cpp
>  * contrib/hbqt/QComboBox.cpp
>  * contrib/hbqt/QCommandLinkButton.cpp
>  * contrib/hbqt/QCommonStyle.cpp
>  * contrib/hbqt/QConicalGradient.cpp
>  * contrib/hbqt/QCoreApplication.cpp
>  * contrib/hbqt/QCursor.cpp
>  * contrib/hbqt/QDateEdit.cpp
>  * contrib/hbqt/QDateTime.cpp
>  * contrib/hbqt/QDateTimeEdit.cpp
>  * contrib/hbqt/QDesktopWidget.cpp
>  * contrib/hbqt/QDial.cpp
>  * contrib/hbqt/QDialog.cpp
>  * contrib/hbqt/QDir.cpp
>  * contrib/hbqt/QDirModel.cpp
>  * contrib/hbqt/QDockWidget.cpp
>  * contrib/hbqt/QDoubleSpinBox.cpp
>  * contrib/hbqt/QDragEnterEvent.cpp
>  * contrib/hbqt/QDragLeaveEvent.cpp
>  * contrib/hbqt/QDragMoveEvent.cpp
>  * contrib/hbqt/QDropEvent.cpp
>  * contrib/hbqt/QErrorMessage.cpp
>  * contrib/hbqt/QEvent.cpp
>  * contrib/hbqt/QEventLoop.cpp
>  * contrib/hbqt/QFileDialog.cpp
>  * contrib/hbqt/QFileSystemModel.cpp
>  * contrib/hbqt/QFocusEvent.cpp
>  * contrib/hbqt/QFocusFrame.cpp
>  * contrib/hbqt/QFont.cpp
>  * contrib/hbqt/QFontComboBox.cpp
>  * contrib/hbqt/QFontDatabase.cpp
>  * contrib/hbqt/QFontDialog.cpp
>  * contrib/hbqt/QFontInfo.cpp
>  * contrib/hbqt/QFontMetrics.cpp
>  * contrib/hbqt/QFontMetricsF.cpp
>  * contrib/hbqt/QFormLayout.cpp
>  * contrib/hbqt/QFrame.cpp
>  * contrib/hbqt/QFtp.cpp
>  * contrib/hbqt/QGradient.cpp
>  * contrib/hbqt/QGridLayout.cpp
>  * contrib/hbqt/QGroupBox.cpp
>  * contrib/hbqt/QHBoxLayout.cpp
>  * contrib/hbqt/QHeaderView.cpp
>  * contrib/hbqt/QHttp.cpp
>  * contrib/hbqt/QIcon.cpp
>  * contrib/hbqt/QImage.cpp
>  * contrib/hbqt/QImageReader.cpp
>  * contrib/hbqt/QImageWriter.cpp
>  * contrib/hbqt/QInputDialog.cpp
>  * contrib/hbqt/QInputEvent.cpp
>  * contrib/hbqt/QIODevice.cpp
>  * contrib/hbqt/QKeyEvent.cpp
>  * contrib/hbqt/QKeySequence.cpp
>  * contrib/hbqt/QLabel.cpp
>  * contrib/hbqt/QLatin1Char.cpp
>  * contrib/hbqt/QLatin1String.cpp
>  * contrib/hbqt/QLayout.cpp
>  * contrib/hbqt/QLayoutItem.cpp
>  * contrib/hbqt/QLCDNumber.cpp
>  * contrib/hbqt/QLine.cpp
>  * contrib/hbqt/QLinearGradient.cpp
>  * contrib/hbqt/QLineEdit.cpp
>  * contrib/hbqt/QList.cpp
>  * contrib/hbqt/QListView.cpp
>  * contrib/hbqt/QListWidget.cpp
>  * contrib/hbqt/QListWidgetItem.cpp
>  * contrib/hbqt/QMainWindow.cpp
>  * contrib/hbqt/QMenu.cpp
>  * contrib/hbqt/QMenuBar.cpp
>  * contrib/hbqt/QMessageBox.cpp
>  * contrib/hbqt/QModelIndex.cpp
>  * contrib/hbqt/QMouseEvent.cpp
>  * contrib/hbqt/QMoveEvent.cpp
>  * contrib/hbqt/QObject.cpp
>  * contrib/hbqt/QPageSetupDialog.cpp
>  * contrib/hbqt/QPaintDevice.cpp
>  * contrib/hbqt/QPainter.cpp
>  * contrib/hbqt/QPaintEvent.cpp
>  * contrib/hbqt/QPalette.cpp
>  * contrib/hbqt/QPen.cpp
>  * contrib/hbqt/QPicture.cpp
>  * contrib/hbqt/QPixmap.cpp
>  * contrib/hbqt/QPoint.cpp
>  * contrib/hbqt/QPointF.cpp
>  * contrib/hbqt/QPrintDialog.cpp
>  * contrib/hbqt/QPrintEngine.cpp
>  * contrib/hbqt/QPrinter.cpp
>  * contrib/hbqt/QPrintPreviewDialog.cpp
>  * contrib/hbqt/QProcess.cpp
>  * contrib/hbqt/QProgressBar.cpp
>  * contrib/hbqt/QProgressDialog.cpp
>  * contrib/hbqt/QPushButton.cpp
>  * contrib/hbqt/QRadialGradient.cpp
>  * contrib/hbqt/QRadioButton.cpp
>  * contrib/hbqt/QRect.cpp
>  * contrib/hbqt/QRectF.cpp
>  * contrib/hbqt/QRegion.cpp
>  * contrib/hbqt/QResizeEvent.cpp
>  * contrib/hbqt/QResource.cpp
>  * contrib/hbqt/QScrollArea.cpp
>  * contrib/hbqt/QScrollBar.cpp
>  * contrib/hbqt/QSignalMapper.cpp
>  * contrib/hbqt/QSize.cpp
>  * contrib/hbqt/QSizeF.cpp
>  * contrib/hbqt/QSizeGrip.cpp
>  * contrib/hbqt/QSizePolicy.cpp
>  * contrib/hbqt/QSlider.cpp
>  * contrib/hbqt/QSound.cpp
>  * contrib/hbqt/QSpinBox.cpp
>  * contrib/hbqt/QSplashScreen.cpp
>  * contrib/hbqt/QSplitter.cpp
>  * contrib/hbqt/QStandardItem.cpp
>  * contrib/hbqt/QStandardItemModel.cpp
>  * contrib/hbqt/QStatusBar.cpp
>  * contrib/hbqt/QStringList.cpp
>  * contrib/hbqt/QStringListModel.cpp
>  * contrib/hbqt/QStyle.cpp
>  * contrib/hbqt/QStyledItemDelegate.cpp
>  * contrib/hbqt/QStyleFactory.cpp
>  * contrib/hbqt/QStyleHintReturn.cpp
>  * contrib/hbqt/QStyleHintReturnMask.cpp
>  * contrib/hbqt/QStyleHintReturnVariant.cpp
>  * contrib/hbqt/QStyleOption.cpp
>  * contrib/hbqt/QStyleOptionButton.cpp
>  * contrib/hbqt/QStyleOptionComboBox.cpp
>  * contrib/hbqt/QStyleOptionComplex.cpp
>  * contrib/hbqt/QStyleOptionDockWidget.cpp
>  * contrib/hbqt/QStyleOptionFocusRect.cpp
>  * contrib/hbqt/QStyleOptionFrame.cpp
>  * contrib/hbqt/QStyleOptionGroupBox.cpp
>  * contrib/hbqt/QStyleOptionHeader.cpp
>  * contrib/hbqt/QStyleOptionMenuItem.cpp
>  * contrib/hbqt/QStyleOptionProgressBar.cpp
>  * contrib/hbqt/QStyleOptionSizeGrip.cpp
>  * contrib/hbqt/QStyleOptionSlider.cpp
>  * contrib/hbqt/QStyleOptionSpinBox.cpp
>  * contrib/hbqt/QStyleOptionTab.cpp
>  * contrib/hbqt/QStyleOptionTabBarBase.cpp
>  * contrib/hbqt/QStyleOptionTabWidgetFrame.cpp
>  * contrib/hbqt/QStyleOptionTitleBar.cpp
>  * contrib/hbqt/QStyleOptionToolBar.cpp
>  * contrib/hbqt/QStyleOptionToolBox.cpp
>  * contrib/hbqt/QStyleOptionToolButton.cpp
>  * contrib/hbqt/QStyleOptionViewItem.cpp
>  * contrib/hbqt/QStylePainter.cpp
>  * contrib/hbqt/QSystemTrayIcon.cpp
>  * contrib/hbqt/QTabBar.cpp
>  * contrib/hbqt/QTableView.cpp
>  * contrib/hbqt/QTableWidget.cpp
>  * contrib/hbqt/QTableWidgetItem.cpp
>  * contrib/hbqt/QTabWidget.cpp
>  * contrib/hbqt/QTextBlock.cpp
>  * contrib/hbqt/QTextBlockFormat.cpp
>  * contrib/hbqt/QTextBlockGroup.cpp
>  * contrib/hbqt/QTextBoundaryFinder.cpp
>  * contrib/hbqt/QTextBrowser.cpp
>  * contrib/hbqt/QTextCharFormat.cpp
>  * contrib/hbqt/QTextCodec.cpp
>  * contrib/hbqt/QTextCursor.cpp
>  * contrib/hbqt/QTextDecoder.cpp
>  * contrib/hbqt/QTextDocument.cpp
>  * contrib/hbqt/QTextDocumentFragment.cpp
>  * contrib/hbqt/QTextDocumentWriter.cpp
>  * contrib/hbqt/QTextEdit.cpp
>  * contrib/hbqt/QTextEncoder.cpp
>  * contrib/hbqt/QTextFormat.cpp
>  * contrib/hbqt/QTextFragment.cpp
>  * contrib/hbqt/QTextFrame.cpp
>  * contrib/hbqt/QTextFrameFormat.cpp
>  * contrib/hbqt/QTextImageFormat.cpp
>  * contrib/hbqt/QTextInlineObject.cpp
>  * contrib/hbqt/QTextItem.cpp
>  * contrib/hbqt/QTextLayout.cpp
>  * contrib/hbqt/QTextLength.cpp
>  * contrib/hbqt/QTextLine.cpp
>  * contrib/hbqt/QTextObject.cpp
>  * contrib/hbqt/QTextStream.cpp
>  * contrib/hbqt/QTimeEdit.cpp
>  * contrib/hbqt/QTimer.cpp
>  * contrib/hbqt/QToolBar.cpp
>  * contrib/hbqt/QToolBox.cpp
>  * contrib/hbqt/QToolButton.cpp
>  * contrib/hbqt/QTreeView.cpp
>  * contrib/hbqt/QTreeWidget.cpp
>  * contrib/hbqt/QTreeWidgetItem.cpp
>  * contrib/hbqt/QUrl.cpp
>  * contrib/hbqt/QVariant.cpp
>  * contrib/hbqt/QVBoxLayout.cpp
>  * contrib/hbqt/QWebFrame.cpp
>  * contrib/hbqt/QWebHistory.cpp
>  * contrib/hbqt/QWebHistoryInterface.cpp
>  * contrib/hbqt/QWebHistoryItem.cpp
>  * contrib/hbqt/QWebHitTestResult.cpp
>  * contrib/hbqt/QWebPage.cpp
>  * contrib/hbqt/QWebPluginFactory.cpp
>  * contrib/hbqt/QWebSecurityOrigin.cpp
>  * contrib/hbqt/QWebSettings.cpp
>  * contrib/hbqt/QWebView.cpp
>  * contrib/hbqt/QWheelEvent.cpp
>  * contrib/hbqt/QWidget.cpp
>  * contrib/hbqt/QWidgetAction.cpp
>  * contrib/hbqt/QWidgetItem.cpp
>  * contrib/hbqt/QWindowsStyle.cpp
>  * contrib/hbqt/QWindowsXPStyle.cpp
>  * contrib/hbqt/QWizard.cpp
>    ! Auto generated sources by virtue of changes in hbqtgen.prg
>
>  * contrib/hbqt/tests/demoqt.prg
>  * contrib/hbqt/TQAbstractButton.prg
>  * contrib/hbqt/TQAbstractItemModel.prg
>  * contrib/hbqt/TQAbstractItemView.prg
>  * contrib/hbqt/TQAbstractListModel.prg
>  * contrib/hbqt/TQAbstractPrintDialog.prg
>  * contrib/hbqt/TQAbstractScrollArea.prg
>  * contrib/hbqt/TQAbstractSlider.prg
>  * contrib/hbqt/TQAbstractSpinBox.prg
>  * contrib/hbqt/TQAbstractTableModel.prg
>  * contrib/hbqt/TQAction.prg
>  * contrib/hbqt/TQApplication.prg
>  * contrib/hbqt/TQBitmap.prg
>  * contrib/hbqt/TQBoxLayout.prg
>  * contrib/hbqt/TQBrush.prg
>  * contrib/hbqt/TQButtonGroup.prg
>  * contrib/hbqt/TQCalendarWidget.prg
>  * contrib/hbqt/TQCheckBox.prg
>  * contrib/hbqt/TQClipboard.prg
>  * contrib/hbqt/TQColor.prg
>  * contrib/hbqt/TQColorDialog.prg
>  * contrib/hbqt/TQComboBox.prg
>  * contrib/hbqt/TQCommandLinkButton.prg
>  * contrib/hbqt/TQCommonStyle.prg
>  * contrib/hbqt/TQConicalGradient.prg
>  * contrib/hbqt/TQCoreApplication.prg
>  * contrib/hbqt/TQCursor.prg
>  * contrib/hbqt/TQDateEdit.prg
>  * contrib/hbqt/TQDateTime.prg
>  * contrib/hbqt/TQDateTimeEdit.prg
>  * contrib/hbqt/TQDesktopWidget.prg
>  * contrib/hbqt/TQDial.prg
>  * contrib/hbqt/TQDialog.prg
>  * contrib/hbqt/TQDir.prg
>  * contrib/hbqt/TQDirModel.prg
>  * contrib/hbqt/TQDockWidget.prg
>  * contrib/hbqt/TQDoubleSpinBox.prg
>  * contrib/hbqt/TQDragEnterEvent.prg
>  * contrib/hbqt/TQDragLeaveEvent.prg
>  * contrib/hbqt/TQDragMoveEvent.prg
>  * contrib/hbqt/TQDropEvent.prg
>  * contrib/hbqt/TQErrorMessage.prg
>  * contrib/hbqt/TQEvent.prg
>  * contrib/hbqt/TQEventLoop.prg
>  * contrib/hbqt/TQFileDialog.prg
>  * contrib/hbqt/TQFileSystemModel.prg
>  * contrib/hbqt/TQFocusEvent.prg
>  * contrib/hbqt/TQFocusFrame.prg
>  * contrib/hbqt/TQFont.prg
>  * contrib/hbqt/TQFontComboBox.prg
>  * contrib/hbqt/TQFontDatabase.prg
>  * contrib/hbqt/TQFontDialog.prg
>  * contrib/hbqt/TQFontInfo.prg
>  * contrib/hbqt/TQFontMetrics.prg
>  * contrib/hbqt/TQFontMetricsF.prg
>  * contrib/hbqt/TQFormLayout.prg
>  * contrib/hbqt/TQFrame.prg
>  * contrib/hbqt/TQFtp.prg
>  * contrib/hbqt/TQGradient.prg
>  * contrib/hbqt/TQGridLayout.prg
>  * contrib/hbqt/TQGroupBox.prg
>  * contrib/hbqt/TQHBoxLayout.prg
>  * contrib/hbqt/TQHeaderView.prg
>  * contrib/hbqt/TQHttp.prg
>  * contrib/hbqt/TQIcon.prg
>  * contrib/hbqt/TQImage.prg
>  * contrib/hbqt/TQImageReader.prg
>  * contrib/hbqt/TQImageWriter.prg
>  * contrib/hbqt/TQInputDialog.prg
>  * contrib/hbqt/TQInputEvent.prg
>  * contrib/hbqt/TQIODevice.prg
>  * contrib/hbqt/TQKeyEvent.prg
>  * contrib/hbqt/TQKeySequence.prg
>  * contrib/hbqt/TQLabel.prg
>  * contrib/hbqt/TQLatin1Char.prg
>  * contrib/hbqt/TQLatin1String.prg
>  * contrib/hbqt/TQLayout.prg
>  * contrib/hbqt/TQLayoutItem.prg
>  * contrib/hbqt/TQLCDNumber.prg
>  * contrib/hbqt/TQLine.prg
>  * contrib/hbqt/TQLinearGradient.prg
>  * contrib/hbqt/TQLineEdit.prg
>  * contrib/hbqt/TQList.prg
>  * contrib/hbqt/TQListView.prg
>  * contrib/hbqt/TQListWidget.prg
>  * contrib/hbqt/TQListWidgetItem.prg
>  * contrib/hbqt/TQMainWindow.prg
>  * contrib/hbqt/TQMenu.prg
>  * contrib/hbqt/TQMenuBar.prg
>  * contrib/hbqt/TQMessageBox.prg
>  * contrib/hbqt/TQModelIndex.prg
>  * contrib/hbqt/TQMouseEvent.prg
>  * contrib/hbqt/TQMoveEvent.prg
>  * contrib/hbqt/TQObject.prg
>  * contrib/hbqt/TQPageSetupDialog.prg
>  * contrib/hbqt/TQPaintDevice.prg
>  * contrib/hbqt/TQPainter.prg
>  * contrib/hbqt/TQPaintEvent.prg
>  * contrib/hbqt/TQPalette.prg
>  * contrib/hbqt/TQPen.prg
>  * contrib/hbqt/TQPicture.prg
>  * contrib/hbqt/TQPixmap.prg
>  * contrib/hbqt/TQPoint.prg
>  * contrib/hbqt/TQPointF.prg
>  * contrib/hbqt/TQPrintDialog.prg
>  * contrib/hbqt/TQPrintEngine.prg
>  * contrib/hbqt/TQPrinter.prg
>  * contrib/hbqt/TQPrintPreviewDialog.prg
>  * contrib/hbqt/TQProcess.prg
>  * contrib/hbqt/TQProgressBar.prg
>  * contrib/hbqt/TQProgressDialog.prg
>  * contrib/hbqt/TQPushButton.prg
>  * contrib/hbqt/TQRadialGradient.prg
>  * contrib/hbqt/TQRadioButton.prg
>  * contrib/hbqt/TQRect.prg
>  * contrib/hbqt/TQRectF.prg
>  * contrib/hbqt/TQRegion.prg
>  * contrib/hbqt/TQResizeEvent.prg
>  * contrib/hbqt/TQResource.prg
>  * contrib/hbqt/TQScrollArea.prg
>  * contrib/hbqt/TQScrollBar.prg
>  * contrib/hbqt/TQSignalMapper.prg
>  * contrib/hbqt/TQSize.prg
>  * contrib/hbqt/TQSizeF.prg
>  * contrib/hbqt/TQSizeGrip.prg
>  * contrib/hbqt/TQSizePolicy.prg
>  * contrib/hbqt/TQSlider.prg
>  * contrib/hbqt/TQSound.prg
>  * contrib/hbqt/TQSpinBox.prg
>  * contrib/hbqt/TQSplashScreen.prg
>  * contrib/hbqt/TQSplitter.prg
>  * contrib/hbqt/TQStandardItem.prg
>  * contrib/hbqt/TQStandardItemModel.prg
>  * contrib/hbqt/TQStatusBar.prg
>  * contrib/hbqt/TQStringList.prg
>  * contrib/hbqt/TQStringListModel.prg
>  * contrib/hbqt/TQStyle.prg
>  * contrib/hbqt/TQStyledItemDelegate.prg
>  * contrib/hbqt/TQStyleFactory.prg
>  * contrib/hbqt/TQStyleHintReturn.prg
>  * contrib/hbqt/TQStyleHintReturnMask.prg
>  * contrib/hbqt/TQStyleHintReturnVariant.prg
>  * contrib/hbqt/TQStyleOption.prg
>  * contrib/hbqt/TQStyleOptionButton.prg
>  * contrib/hbqt/TQStyleOptionComboBox.prg
>  * contrib/hbqt/TQStyleOptionComplex.prg
>  * contrib/hbqt/TQStyleOptionDockWidget.prg
>  * contrib/hbqt/TQStyleOptionFocusRect.prg
>  * contrib/hbqt/TQStyleOptionFrame.prg
>  * contrib/hbqt/TQStyleOptionGroupBox.prg
>  * contrib/hbqt/TQStyleOptionHeader.prg
>  * contrib/hbqt/TQStyleOptionMenuItem.prg
>  * contrib/hbqt/TQStyleOptionProgressBar.prg
>  * contrib/hbqt/TQStyleOptionSizeGrip.prg
>  * contrib/hbqt/TQStyleOptionSlider.prg
>  * contrib/hbqt/TQStyleOptionSpinBox.prg
>  * contrib/hbqt/TQStyleOptionTab.prg
>  * contrib/hbqt/TQStyleOptionTabBarBase.prg
>  * contrib/hbqt/TQStyleOptionTabWidgetFrame.prg
>  * contrib/hbqt/TQStyleOptionTitleBar.prg
>  * contrib/hbqt/TQStyleOptionToolBar.prg
>  * contrib/hbqt/TQStyleOptionToolBox.prg
>  * contrib/hbqt/TQStyleOptionToolButton.prg
>  * contrib/hbqt/TQStyleOptionViewItem.prg
>  * contrib/hbqt/TQStylePainter.prg
>  * contrib/hbqt/TQSystemTrayIcon.prg
>  * contrib/hbqt/TQTabBar.prg
>  * contrib/hbqt/TQTableView.prg
>  * contrib/hbqt/TQTableWidget.prg
>  * contrib/hbqt/TQTableWidgetItem.prg
>  * contrib/hbqt/TQTabWidget.prg
>  * contrib/hbqt/TQTextBlock.prg
>  * contrib/hbqt/TQTextBlockFormat.prg
>  * contrib/hbqt/TQTextBlockGroup.prg
>  * contrib/hbqt/TQTextBoundaryFinder.prg
>  * contrib/hbqt/TQTextBrowser.prg
>  * contrib/hbqt/TQTextCharFormat.prg
>  * contrib/hbqt/TQTextCodec.prg
>  * contrib/hbqt/TQTextCursor.prg
>  * contrib/hbqt/TQTextDecoder.prg
>  * contrib/hbqt/TQTextDocument.prg
>  * contrib/hbqt/TQTextDocumentFragment.prg
>  * contrib/hbqt/TQTextDocumentWriter.prg
>  * contrib/hbqt/TQTextEdit.prg
>  * contrib/hbqt/TQTextEncoder.prg
>  * contrib/hbqt/TQTextFormat.prg
>  * contrib/hbqt/TQTextFragment.prg
>  * contrib/hbqt/TQTextFrame.prg
>  * contrib/hbqt/TQTextFrameFormat.prg
>  * contrib/hbqt/TQTextImageFormat.prg
>  * contrib/hbqt/TQTextInlineObject.prg
>  * contrib/hbqt/TQTextItem.prg
>  * contrib/hbqt/TQTextLayout.prg
>  * contrib/hbqt/TQTextLength.prg
>  * contrib/hbqt/TQTextLine.prg
>  * contrib/hbqt/TQTextObject.prg
>  * contrib/hbqt/TQTextStream.prg
>  * contrib/hbqt/TQTimeEdit.prg
>  * contrib/hbqt/TQTimer.prg
>  * contrib/hbqt/TQToolBar.prg
>  * contrib/hbqt/TQToolBox.prg
>  * contrib/hbqt/TQToolButton.prg
>  * contrib/hbqt/TQTreeView.prg
>  * contrib/hbqt/TQTreeWidget.prg
>  * contrib/hbqt/TQTreeWidgetItem.prg
>  * contrib/hbqt/TQUrl.prg
>  * contrib/hbqt/TQVariant.prg
>  * contrib/hbqt/TQVBoxLayout.prg
>  * contrib/hbqt/TQWebFrame.prg
>  * contrib/hbqt/TQWebHistory.prg
>  * contrib/hbqt/TQWebHistoryInterface.prg
>  * contrib/hbqt/TQWebHistoryItem.prg
>  * contrib/hbqt/TQWebHitTestResult.prg
>  * contrib/hbqt/TQWebPage.prg
>  * contrib/hbqt/TQWebPluginFactory.prg
>  * contrib/hbqt/TQWebSecurityOrigin.prg
>  * contrib/hbqt/TQWebSettings.prg
>  * contrib/hbqt/TQWebView.prg
>  * contrib/hbqt/TQWheelEvent.prg
>  * contrib/hbqt/TQWidget.prg
>  * contrib/hbqt/TQWidgetAction.prg
>  * contrib/hbqt/TQWidgetItem.prg
>  * contrib/hbqt/TQWindowsStyle.prg
>  * contrib/hbqt/TQWindowsXPStyle.prg
>  * contrib/hbqt/TQWizard.prg
>    ! Auto generated sources by virtue of changes in hbqtgen.prg
>
>    [ Detailed analysis will follow in a separate thread ]
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbqt/QAbstractButton.cpp
>    trunk/harbour/contrib/hbqt/QAbstractItemModel.cpp
>    trunk/harbour/contrib/hbqt/QAbstractItemView.cpp
>    trunk/harbour/contrib/hbqt/QAbstractListModel.cpp
>    trunk/harbour/contrib/hbqt/QAbstractPrintDialog.cpp
>    trunk/harbour/contrib/hbqt/QAbstractScrollArea.cpp
>    trunk/harbour/contrib/hbqt/QAbstractSlider.cpp
>    trunk/harbour/contrib/hbqt/QAbstractSpinBox.cpp
>    trunk/harbour/contrib/hbqt/QAbstractTableModel.cpp
>    trunk/harbour/contrib/hbqt/QAction.cpp
>    trunk/harbour/contrib/hbqt/QApplication.cpp
>    trunk/harbour/contrib/hbqt/QBitmap.cpp
>    trunk/harbour/contrib/hbqt/QBoxLayout.cpp
>    trunk/harbour/contrib/hbqt/QBrush.cpp
>    trunk/harbour/contrib/hbqt/QButtonGroup.cpp
>    trunk/harbour/contrib/hbqt/QCalendarWidget.cpp
>    trunk/harbour/contrib/hbqt/QCheckBox.cpp
>    trunk/harbour/contrib/hbqt/QClipboard.cpp
>    trunk/harbour/contrib/hbqt/QColor.cpp
>    trunk/harbour/contrib/hbqt/QColorDialog.cpp
>    trunk/harbour/contrib/hbqt/QComboBox.cpp
>    trunk/harbour/contrib/hbqt/QCommandLinkButton.cpp
>    trunk/harbour/contrib/hbqt/QCommonStyle.cpp
>    trunk/harbour/contrib/hbqt/QConicalGradient.cpp
>    trunk/harbour/contrib/hbqt/QCoreApplication.cpp
>    trunk/harbour/contrib/hbqt/QCursor.cpp
>    trunk/harbour/contrib/hbqt/QDateEdit.cpp
>    trunk/harbour/contrib/hbqt/QDateTime.cpp
>    trunk/harbour/contrib/hbqt/QDateTimeEdit.cpp
>    trunk/harbour/contrib/hbqt/QDesktopWidget.cpp
>    trunk/harbour/contrib/hbqt/QDial.cpp
>    trunk/harbour/contrib/hbqt/QDialog.cpp
>    trunk/harbour/contrib/hbqt/QDir.cpp
>    trunk/harbour/contrib/hbqt/QDirModel.cpp
>    trunk/harbour/contrib/hbqt/QDockWidget.cpp
>    trunk/harbour/contrib/hbqt/QDoubleSpinBox.cpp
>    trunk/harbour/contrib/hbqt/QDragEnterEvent.cpp
>    trunk/harbour/contrib/hbqt/QDragLeaveEvent.cpp
>    trunk/harbour/contrib/hbqt/QDragMoveEvent.cpp
>    trunk/harbour/contrib/hbqt/QDropEvent.cpp
>    trunk/harbour/contrib/hbqt/QErrorMessage.cpp
>    trunk/harbour/contrib/hbqt/QEvent.cpp
>    trunk/harbour/contrib/hbqt/QEventLoop.cpp
>    trunk/harbour/contrib/hbqt/QFileDialog.cpp
>    trunk/harbour/contrib/hbqt/QFileSystemModel.cpp
>    trunk/harbour/contrib/hbqt/QFocusEvent.cpp
>    trunk/harbour/contrib/hbqt/QFocusFrame.cpp
>    trunk/harbour/contrib/hbqt/QFont.cpp
>    trunk/harbour/contrib/hbqt/QFontComboBox.cpp
>    trunk/harbour/contrib/hbqt/QFontDatabase.cpp
>    trunk/harbour/contrib/hbqt/QFontDialog.cpp
>    trunk/harbour/contrib/hbqt/QFontInfo.cpp
>    trunk/harbour/contrib/hbqt/QFontMetrics.cpp
>    trunk/harbour/contrib/hbqt/QFontMetricsF.cpp
>    trunk/harbour/contrib/hbqt/QFormLayout.cpp
>    trunk/harbour/contrib/hbqt/QFrame.cpp
>    trunk/harbour/contrib/hbqt/QFtp.cpp
>    trunk/harbour/contrib/hbqt/QGradient.cpp
>    trunk/harbour/contrib/hbqt/QGridLayout.cpp
>    trunk/harbour/contrib/hbqt/QGroupBox.cpp
>    trunk/harbour/contrib/hbqt/QHBoxLayout.cpp
>    trunk/harbour/contrib/hbqt/QHeaderView.cpp
>    trunk/harbour/contrib/hbqt/QHttp.cpp
>    trunk/harbour/contrib/hbqt/QIODevice.cpp
>    trunk/harbour/contrib/hbqt/QIcon.cpp
>    trunk/harbour/contrib/hbqt/QImage.cpp
>    trunk/harbour/contrib/hbqt/QImageReader.cpp
>    trunk/harbour/contrib/hbqt/QImageWriter.cpp
>    trunk/harbour/contrib/hbqt/QInputDialog.cpp
>    trunk/harbour/contrib/hbqt/QInputEvent.cpp
>    trunk/harbour/contrib/hbqt/QKeyEvent.cpp
>    trunk/harbour/contrib/hbqt/QKeySequence.cpp
>    trunk/harbour/contrib/hbqt/QLCDNumber.cpp
>    trunk/harbour/contrib/hbqt/QLabel.cpp
>    trunk/harbour/contrib/hbqt/QLatin1Char.cpp
>    trunk/harbour/contrib/hbqt/QLatin1String.cpp
>    trunk/harbour/contrib/hbqt/QLayout.cpp
>    trunk/harbour/contrib/hbqt/QLayoutItem.cpp
>    trunk/harbour/contrib/hbqt/QLine.cpp
>    trunk/harbour/contrib/hbqt/QLineEdit.cpp
>    trunk/harbour/contrib/hbqt/QLinearGradient.cpp
>    trunk/harbour/contrib/hbqt/QList.cpp
>    trunk/harbour/contrib/hbqt/QListView.cpp
>    trunk/harbour/contrib/hbqt/QListWidget.cpp
>    trunk/harbour/contrib/hbqt/QListWidgetItem.cpp
>    trunk/harbour/contrib/hbqt/QMainWindow.cpp
>    trunk/harbour/contrib/hbqt/QMenu.cpp
>    trunk/harbour/contrib/hbqt/QMenuBar.cpp
>    trunk/harbour/contrib/hbqt/QMessageBox.cpp
>    trunk/harbour/contrib/hbqt/QModelIndex.cpp
>    trunk/harbour/contrib/hbqt/QMouseEvent.cpp
>    trunk/harbour/contrib/hbqt/QMoveEvent.cpp
>    trunk/harbour/contrib/hbqt/QObject.cpp
>    trunk/harbour/contrib/hbqt/QPageSetupDialog.cpp
>    trunk/harbour/contrib/hbqt/QPaintDevice.cpp
>    trunk/harbour/contrib/hbqt/QPaintEvent.cpp
>    trunk/harbour/contrib/hbqt/QPainter.cpp
>    trunk/harbour/contrib/hbqt/QPalette.cpp
>    trunk/harbour/contrib/hbqt/QPen.cpp
>    trunk/harbour/contrib/hbqt/QPicture.cpp
>    trunk/harbour/contrib/hbqt/QPixmap.cpp
>    trunk/harbour/contrib/hbqt/QPoint.cpp
>    trunk/harbour/contrib/hbqt/QPointF.cpp
>    trunk/harbour/contrib/hbqt/QPrintDialog.cpp
>    trunk/harbour/contrib/hbqt/QPrintEngine.cpp
>    trunk/harbour/contrib/hbqt/QPrintPreviewDialog.cpp
>    trunk/harbour/contrib/hbqt/QPrinter.cpp
>    trunk/harbour/contrib/hbqt/QProcess.cpp
>    trunk/harbour/contrib/hbqt/QProgressBar.cpp
>    trunk/harbour/contrib/hbqt/QProgressDialog.cpp
>    trunk/harbour/contrib/hbqt/QPushButton.cpp
>    trunk/harbour/contrib/hbqt/QRadialGradient.cpp
>    trunk/harbour/contrib/hbqt/QRadioButton.cpp
>    trunk/harbour/contrib/hbqt/QRect.cpp
>    trunk/harbour/contrib/hbqt/QRectF.cpp
>    trunk/harbour/contrib/hbqt/QRegion.cpp
>    trunk/harbour/contrib/hbqt/QResizeEvent.cpp
>    trunk/harbour/contrib/hbqt/QResource.cpp
>    trunk/harbour/contrib/hbqt/QScrollArea.cpp
>    trunk/harbour/contrib/hbqt/QScrollBar.cpp
>    trunk/harbour/contrib/hbqt/QSignalMapper.cpp
>    trunk/harbour/contrib/hbqt/QSize.cpp
>    trunk/harbour/contrib/hbqt/QSizeF.cpp
>    trunk/harbour/contrib/hbqt/QSizeGrip.cpp
>    trunk/harbour/contrib/hbqt/QSizePolicy.cpp
>    trunk/harbour/contrib/hbqt/QSlider.cpp
>    trunk/harbour/contrib/hbqt/QSound.cpp
>    trunk/harbour/contrib/hbqt/QSpinBox.cpp
>    trunk/harbour/contrib/hbqt/QSplashScreen.cpp
>    trunk/harbour/contrib/hbqt/QSplitter.cpp
>    trunk/harbour/contrib/hbqt/QStandardItem.cpp
>    trunk/harbour/contrib/hbqt/QStandardItemModel.cpp
>    trunk/harbour/contrib/hbqt/QStatusBar.cpp
>    trunk/harbour/contrib/hbqt/QStringList.cpp
>    trunk/harbour/contrib/hbqt/QStringListModel.cpp
>    trunk/harbour/contrib/hbqt/QStyle.cpp
>    trunk/harbour/contrib/hbqt/QStyleFactory.cpp
>    trunk/harbour/contrib/hbqt/QStyleHintReturn.cpp
>    trunk/harbour/contrib/hbqt/QStyleHintReturnMask.cpp
>    trunk/harbour/contrib/hbqt/QStyleHintReturnVariant.cpp
>    trunk/harbour/contrib/hbqt/QStyleOption.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionButton.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionComboBox.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionComplex.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionDockWidget.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionFocusRect.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionFrame.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionGroupBox.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionHeader.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionMenuItem.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionProgressBar.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionSizeGrip.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionSlider.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionSpinBox.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionTab.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionTabBarBase.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionTabWidgetFrame.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionTitleBar.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionToolBar.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionToolBox.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionToolButton.cpp
>    trunk/harbour/contrib/hbqt/QStyleOptionViewItem.cpp
>    trunk/harbour/contrib/hbqt/QStylePainter.cpp
>    trunk/harbour/contrib/hbqt/QStyledItemDelegate.cpp
>    trunk/harbour/contrib/hbqt/QSystemTrayIcon.cpp
>    trunk/harbour/contrib/hbqt/QTabBar.cpp
>    trunk/harbour/contrib/hbqt/QTabWidget.cpp
>    trunk/harbour/contrib/hbqt/QTableView.cpp
>    trunk/harbour/contrib/hbqt/QTableWidget.cpp
>    trunk/harbour/contrib/hbqt/QTableWidgetItem.cpp
>    trunk/harbour/contrib/hbqt/QTextBlock.cpp
>    trunk/harbour/contrib/hbqt/QTextBlockFormat.cpp
>    trunk/harbour/contrib/hbqt/QTextBlockGroup.cpp
>    trunk/harbour/contrib/hbqt/QTextBoundaryFinder.cpp
>    trunk/harbour/contrib/hbqt/QTextBrowser.cpp
>    trunk/harbour/contrib/hbqt/QTextCharFormat.cpp
>    trunk/harbour/contrib/hbqt/QTextCodec.cpp
>    trunk/harbour/contrib/hbqt/QTextCursor.cpp
>    trunk/harbour/contrib/hbqt/QTextDecoder.cpp
>    trunk/harbour/contrib/hbqt/QTextDocument.cpp
>    trunk/harbour/contrib/hbqt/QTextDocumentFragment.cpp
>    trunk/harbour/contrib/hbqt/QTextDocumentWriter.cpp
>    trunk/harbour/contrib/hbqt/QTextEdit.cpp
>    trunk/harbour/contrib/hbqt/QTextEncoder.cpp
>    trunk/harbour/contrib/hbqt/QTextFormat.cpp
>    trunk/harbour/contrib/hbqt/QTextFragment.cpp
>    trunk/harbour/contrib/hbqt/QTextFrame.cpp
>    trunk/harbour/contrib/hbqt/QTextFrameFormat.cpp
>    trunk/harbour/contrib/hbqt/QTextImageFormat.cpp
>    trunk/harbour/contrib/hbqt/QTextInlineObject.cpp
>    trunk/harbour/contrib/hbqt/QTextItem.cpp
>    trunk/harbour/contrib/hbqt/QTextLayout.cpp
>    trunk/harbour/contrib/hbqt/QTextLength.cpp
>    trunk/harbour/contrib/hbqt/QTextLine.cpp
>    trunk/harbour/contrib/hbqt/QTextObject.cpp
>    trunk/harbour/contrib/hbqt/QTextStream.cpp
>    trunk/harbour/contrib/hbqt/QTimeEdit.cpp
>    trunk/harbour/contrib/hbqt/QTimer.cpp
>    trunk/harbour/contrib/hbqt/QToolBar.cpp
>    trunk/harbour/contrib/hbqt/QToolBox.cpp
>    trunk/harbour/contrib/hbqt/QToolButton.cpp
>    trunk/harbour/contrib/hbqt/QTreeView.cpp
>    trunk/harbour/contrib/hbqt/QTreeWidget.cpp
>    trunk/harbour/contrib/hbqt/QTreeWidgetItem.cpp
>    trunk/harbour/contrib/hbqt/QUrl.cpp
>    trunk/harbour/contrib/hbqt/QVBoxLayout.cpp
>    trunk/harbour/contrib/hbqt/QVariant.cpp
>    trunk/harbour/contrib/hbqt/QWebFrame.cpp
>    trunk/harbour/contrib/hbqt/QWebHistory.cpp
>    trunk/harbour/contrib/hbqt/QWebHistoryInterface.cpp
>    trunk/harbour/contrib/hbqt/QWebHistoryItem.cpp
>    trunk/harbour/contrib/hbqt/QWebHitTestResult.cpp
>    trunk/harbour/contrib/hbqt/QWebPage.cpp
>    trunk/harbour/contrib/hbqt/QWebPluginFactory.cpp
>    trunk/harbour/contrib/hbqt/QWebSecurityOrigin.cpp
>    trunk/harbour/contrib/hbqt/QWebSettings.cpp
>    trunk/harbour/contrib/hbqt/QWebView.cpp
>    trunk/harbour/contrib/hbqt/QWheelEvent.cpp
>    trunk/harbour/contrib/hbqt/QWidget.cpp
>    trunk/harbour/contrib/hbqt/QWidgetAction.cpp
>    trunk/harbour/contrib/hbqt/QWidgetItem.cpp
>    trunk/harbour/contrib/hbqt/QWindowsStyle.cpp
>    trunk/harbour/contrib/hbqt/QWindowsXPStyle.cpp
>    trunk/harbour/contrib/hbqt/QWizard.cpp
>    trunk/harbour/contrib/hbqt/TQAbstractButton.prg
>    trunk/harbour/contrib/hbqt/TQAbstractItemModel.prg
>    trunk/harbour/contrib/hbqt/TQAbstractItemView.prg
>    trunk/harbour/contrib/hbqt/TQAbstractListModel.prg
>    trunk/harbour/contrib/hbqt/TQAbstractPrintDialog.prg
>    trunk/harbour/contrib/hbqt/TQAbstractScrollArea.prg
>    trunk/harbour/contrib/hbqt/TQAbstractSlider.prg
>    trunk/harbour/contrib/hbqt/TQAbstractSpinBox.prg
>    trunk/harbour/contrib/hbqt/TQAbstractTableModel.prg
>    trunk/harbour/contrib/hbqt/TQAction.prg
>    trunk/harbour/contrib/hbqt/TQApplication.prg
>    trunk/harbour/contrib/hbqt/TQBitmap.prg
>    trunk/harbour/contrib/hbqt/TQBoxLayout.prg
>    trunk/harbour/contrib/hbqt/TQBrush.prg
>    trunk/harbour/contrib/hbqt/TQButtonGroup.prg
>    trunk/harbour/contrib/hbqt/TQCalendarWidget.prg
>    trunk/harbour/contrib/hbqt/TQCheckBox.prg
>    trunk/harbour/contrib/hbqt/TQClipboard.prg
>    trunk/harbour/contrib/hbqt/TQColor.prg
>    trunk/harbour/contrib/hbqt/TQColorDialog.prg
>    trunk/harbour/contrib/hbqt/TQComboBox.prg
>    trunk/harbour/contrib/hbqt/TQCommandLinkButton.prg
>    trunk/harbour/contrib/hbqt/TQCommonStyle.prg
>    trunk/harbour/contrib/hbqt/TQConicalGradient.prg
>    trunk/harbour/contrib/hbqt/TQCoreApplication.prg
>    trunk/harbour/contrib/hbqt/TQCursor.prg
>    trunk/harbour/contrib/hbqt/TQDateEdit.prg
>    trunk/harbour/contrib/hbqt/TQDateTime.prg
>    trunk/harbour/contrib/hbqt/TQDateTimeEdit.prg
>    trunk/harbour/contrib/hbqt/TQDesktopWidget.prg
>    trunk/harbour/contrib/hbqt/TQDial.prg
>    trunk/harbour/contrib/hbqt/TQDialog.prg
>    trunk/harbour/contrib/hbqt/TQDir.prg
>    trunk/harbour/contrib/hbqt/TQDirModel.prg
>    trunk/harbour/contrib/hbqt/TQDockWidget.prg
>    trunk/harbour/contrib/hbqt/TQDoubleSpinBox.prg
>    trunk/harbour/contrib/hbqt/TQDragEnterEvent.prg
>    trunk/harbour/contrib/hbqt/TQDragLeaveEvent.prg
>    trunk/harbour/contrib/hbqt/TQDragMoveEvent.prg
>    trunk/harbour/contrib/hbqt/TQDropEvent.prg
>    trunk/harbour/contrib/hbqt/TQErrorMessage.prg
>    trunk/harbour/contrib/hbqt/TQEvent.prg
>    trunk/harbour/contrib/hbqt/TQEventLoop.prg
>    trunk/harbour/contrib/hbqt/TQFileDialog.prg
>    trunk/harbour/contrib/hbqt/TQFileSystemModel.prg
>    trunk/harbour/contrib/hbqt/TQFocusEvent.prg
>    trunk/harbour/contrib/hbqt/TQFocusFrame.prg
>    trunk/harbour/contrib/hbqt/TQFont.prg
>    trunk/harbour/contrib/hbqt/TQFontComboBox.prg
>    trunk/harbour/contrib/hbqt/TQFontDatabase.prg
>    trunk/harbour/contrib/hbqt/TQFontDialog.prg
>    trunk/harbour/contrib/hbqt/TQFontInfo.prg
>    trunk/harbour/contrib/hbqt/TQFontMetrics.prg
>    trunk/harbour/contrib/hbqt/TQFontMetricsF.prg
>    trunk/harbour/contrib/hbqt/TQFormLayout.prg
>    trunk/harbour/contrib/hbqt/TQFrame.prg
>    trunk/harbour/contrib/hbqt/TQFtp.prg
>    trunk/harbour/contrib/hbqt/TQGradient.prg
>    trunk/harbour/contrib/hbqt/TQGridLayout.prg
>    trunk/harbour/contrib/hbqt/TQGroupBox.prg
>    trunk/harbour/contrib/hbqt/TQHBoxLayout.prg
>    trunk/harbour/contrib/hbqt/TQHeaderView.prg
>    trunk/harbour/contrib/hbqt/TQHttp.prg
>    trunk/harbour/contrib/hbqt/TQIODevice.prg
>    trunk/harbour/contrib/hbqt/TQIcon.prg
>    trunk/harbour/contrib/hbqt/TQImage.prg
>    trunk/harbour/contrib/hbqt/TQImageReader.prg
>    trunk/harbour/contrib/hbqt/TQImageWriter.prg
>    trunk/harbour/contrib/hbqt/TQInputDialog.prg
>    trunk/harbour/contrib/hbqt/TQInputEvent.prg
>    trunk/harbour/contrib/hbqt/TQKeyEvent.prg
>    trunk/harbour/contrib/hbqt/TQKeySequence.prg
>    trunk/harbour/contrib/hbqt/TQLCDNumber.prg
>    trunk/harbour/contrib/hbqt/TQLabel.prg
>    trunk/harbour/contrib/hbqt/TQLatin1Char.prg
>    trunk/harbour/contrib/hbqt/TQLatin1String.prg
>    trunk/harbour/contrib/hbqt/TQLayout.prg
>    trunk/harbour/contrib/hbqt/TQLayoutItem.prg
>    trunk/harbour/contrib/hbqt/TQLine.prg
>    trunk/harbour/contrib/hbqt/TQLineEdit.prg
>    trunk/harbour/contrib/hbqt/TQLinearGradient.prg
>    trunk/harbour/contrib/hbqt/TQList.prg
>    trunk/harbour/contrib/hbqt/TQListView.prg
>    trunk/harbour/contrib/hbqt/TQListWidget.prg
>    trunk/harbour/contrib/hbqt/TQListWidgetItem.prg
>    trunk/harbour/contrib/hbqt/TQMainWindow.prg
>    trunk/harbour/contrib/hbqt/TQMenu.prg
>    trunk/harbour/contrib/hbqt/TQMenuBar.prg
>    trunk/harbour/contrib/hbqt/TQMessageBox.prg
>    trunk/harbour/contrib/hbqt/TQModelIndex.prg
>    trunk/harbour/contrib/hbqt/TQMouseEvent.prg
>    trunk/harbour/contrib/hbqt/TQMoveEvent.prg
>    trunk/harbour/contrib/hbqt/TQObject.prg
>    trunk/harbour/contrib/hbqt/TQPageSetupDialog.prg
>    trunk/harbour/contrib/hbqt/TQPaintDevice.prg
>    trunk/harbour/contrib/hbqt/TQPaintEvent.prg
>    trunk/harbour/contrib/hbqt/TQPainter.prg
>    trunk/harbour/contrib/hbqt/TQPalette.prg
>    trunk/harbour/contrib/hbqt/TQPen.prg
>    trunk/harbour/contrib/hbqt/TQPicture.prg
>    trunk/harbour/contrib/hbqt/TQPixmap.prg
>    trunk/harbour/contrib/hbqt/TQPoint.prg
>    trunk/harbour/contrib/hbqt/TQPointF.prg
>    trunk/harbour/contrib/hbqt/TQPrintDialog.prg
>    trunk/harbour/contrib/hbqt/TQPrintEngine.prg
>    trunk/harbour/contrib/hbqt/TQPrintPreviewDialog.prg
>    trunk/harbour/contrib/hbqt/TQPrinter.prg
>    trunk/harbour/contrib/hbqt/TQProcess.prg
>    trunk/harbour/contrib/hbqt/TQProgressBar.prg
>    trunk/harbour/contrib/hbqt/TQProgressDialog.prg
>    trunk/harbour/contrib/hbqt/TQPushButton.prg
>    trunk/harbour/contrib/hbqt/TQRadialGradient.prg
>    trunk/harbour/contrib/hbqt/TQRadioButton.prg
>    trunk/harbour/contrib/hbqt/TQRect.prg
>    trunk/harbour/contrib/hbqt/TQRectF.prg
>    trunk/harbour/contrib/hbqt/TQRegion.prg
>    trunk/harbour/contrib/hbqt/TQResizeEvent.prg
>    trunk/harbour/contrib/hbqt/TQResource.prg
>    trunk/harbour/contrib/hbqt/TQScrollArea.prg
>    trunk/harbour/contrib/hbqt/TQScrollBar.prg
>    trunk/harbour/contrib/hbqt/TQSignalMapper.prg
>    trunk/harbour/contrib/hbqt/TQSize.prg
>    trunk/harbour/contrib/hbqt/TQSizeF.prg
>    trunk/harbour/contrib/hbqt/TQSizeGrip.prg
>    trunk/harbour/contrib/hbqt/TQSizePolicy.prg
>    trunk/harbour/contrib/hbqt/TQSlider.prg
>    trunk/harbour/contrib/hbqt/TQSound.prg
>    trunk/harbour/contrib/hbqt/TQSpinBox.prg
>    trunk/harbour/contrib/hbqt/TQSplashScreen.prg
>    trunk/harbour/contrib/hbqt/TQSplitter.prg
>    trunk/harbour/contrib/hbqt/TQStandardItem.prg
>    trunk/harbour/contrib/hbqt/TQStandardItemModel.prg
>    trunk/harbour/contrib/hbqt/TQStatusBar.prg
>    trunk/harbour/contrib/hbqt/TQStringList.prg
>    trunk/harbour/contrib/hbqt/TQStringListModel.prg
>    trunk/harbour/contrib/hbqt/TQStyle.prg
>    trunk/harbour/contrib/hbqt/TQStyleFactory.prg
>    trunk/harbour/contrib/hbqt/TQStyleHintReturn.prg
>    trunk/harbour/contrib/hbqt/TQStyleHintReturnMask.prg
>    trunk/harbour/contrib/hbqt/TQStyleHintReturnVariant.prg
>    trunk/harbour/contrib/hbqt/TQStyleOption.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionButton.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionComboBox.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionComplex.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionDockWidget.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionFocusRect.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionFrame.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionGroupBox.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionHeader.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionMenuItem.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionProgressBar.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionSizeGrip.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionSlider.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionSpinBox.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionTab.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionTabBarBase.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionTabWidgetFrame.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionTitleBar.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionToolBar.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionToolBox.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionToolButton.prg
>    trunk/harbour/contrib/hbqt/TQStyleOptionViewItem.prg
>    trunk/harbour/contrib/hbqt/TQStylePainter.prg
>    trunk/harbour/contrib/hbqt/TQStyledItemDelegate.prg
>    trunk/harbour/contrib/hbqt/TQSystemTrayIcon.prg
>    trunk/harbour/contrib/hbqt/TQTabBar.prg
>    trunk/harbour/contrib/hbqt/TQTabWidget.prg
>    trunk/harbour/contrib/hbqt/TQTableView.prg
>    trunk/harbour/contrib/hbqt/TQTableWidget.prg
>    trunk/harbour/contrib/hbqt/TQTableWidgetItem.prg
>    trunk/harbour/contrib/hbqt/TQTextBlock.prg
>    trunk/harbour/contrib/hbqt/TQTextBlockFormat.prg
>    trunk/harbour/contrib/hbqt/TQTextBlockGroup.prg
>    trunk/harbour/contrib/hbqt/TQTextBoundaryFinder.prg
>    trunk/harbour/contrib/hbqt/TQTextBrowser.prg
>    trunk/harbour/contrib/hbqt/TQTextCharFormat.prg
>    trunk/harbour/contrib/hbqt/TQTextCodec.prg
>    trunk/harbour/contrib/hbqt/TQTextCursor.prg
>    trunk/harbour/contrib/hbqt/TQTextDecoder.prg
>    trunk/harbour/contrib/hbqt/TQTextDocument.prg
>    trunk/harbour/contrib/hbqt/TQTextDocumentFragment.prg
>    trunk/harbour/contrib/hbqt/TQTextDocumentWriter.prg
>    trunk/harbour/contrib/hbqt/TQTextEdit.prg
>    trunk/harbour/contrib/hbqt/TQTextEncoder.prg
>    trunk/harbour/contrib/hbqt/TQTextFormat.prg
>    trunk/harbour/contrib/hbqt/TQTextFragment.prg
>    trunk/harbour/contrib/hbqt/TQTextFrame.prg
>    trunk/harbour/contrib/hbqt/TQTextFrameFormat.prg
>    trunk/harbour/contrib/hbqt/TQTextImageFormat.prg
>    trunk/harbour/contrib/hbqt/TQTextInlineObject.prg
>    trunk/harbour/contrib/hbqt/TQTextItem.prg
>    trunk/harbour/contrib/hbqt/TQTextLayout.prg
>    trunk/harbour/contrib/hbqt/TQTextLength.prg
>    trunk/harbour/contrib/hbqt/TQTextLine.prg
>    trunk/harbour/contrib/hbqt/TQTextObject.prg
>    trunk/harbour/contrib/hbqt/TQTextStream.prg
>    trunk/harbour/contrib/hbqt/TQTimeEdit.prg
>    trunk/harbour/contrib/hbqt/TQTimer.prg
>    trunk/harbour/contrib/hbqt/TQToolBar.prg
>    trunk/harbour/contrib/hbqt/TQToolBox.prg
>    trunk/harbour/contrib/hbqt/TQToolButton.prg
>    trunk/harbour/contrib/hbqt/TQTreeView.prg
>    trunk/harbour/contrib/hbqt/TQTreeWidget.prg
>    trunk/harbour/contrib/hbqt/TQTreeWidgetItem.prg
>    trunk/harbour/contrib/hbqt/TQUrl.prg
>    trunk/harbour/contrib/hbqt/TQVBoxLayout.prg
>    trunk/harbour/contrib/hbqt/TQVariant.prg
>    trunk/harbour/contrib/hbqt/TQWebFrame.prg
>    trunk/harbour/contrib/hbqt/TQWebHistory.prg
>    trunk/harbour/contrib/hbqt/TQWebHistoryInterface.prg
>    trunk/harbour/contrib/hbqt/TQWebHistoryItem.prg
>    trunk/harbour/contrib/hbqt/TQWebHitTestResult.prg
>    trunk/harbour/contrib/hbqt/TQWebPage.prg
>    trunk/harbour/contrib/hbqt/TQWebPluginFactory.prg
>    trunk/harbour/contrib/hbqt/TQWebSecurityOrigin.prg
>    trunk/harbour/contrib/hbqt/TQWebSettings.prg
>    trunk/harbour/contrib/hbqt/TQWebView.prg
>    trunk/harbour/contrib/hbqt/TQWheelEvent.prg
>    trunk/harbour/contrib/hbqt/TQWidget.prg
>    trunk/harbour/contrib/hbqt/TQWidgetAction.prg
>    trunk/harbour/contrib/hbqt/TQWidgetItem.prg
>    trunk/harbour/contrib/hbqt/TQWindowsStyle.prg
>    trunk/harbour/contrib/hbqt/TQWindowsXPStyle.prg
>    trunk/harbour/contrib/hbqt/TQWizard.prg
>    trunk/harbour/contrib/hbqt/filelist.mk
>    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
>    trunk/harbour/contrib/hbqt/hbqt.h
>    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
>    trunk/harbour/contrib/hbqt/tests/demoqt.prg
>
> Added Paths:
> -----------
>    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Fri Oct 16 04:29:53 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Oct 16 04:29:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12706] trunk/harbour
In-Reply-To: <20091015153151.GA5730@uran.home.aster.pl>
References: <E1My5dS-0005aR-VJ@c3vjzd1.ch3.sourceforge.com>
	<9257026e0910141010r71809418l7a04262671a34f0@mail.gmail.com>
	<20091015153151.GA5730@uran.home.aster.pl>
Message-ID: <9257026e0910160129i11f8250bn56548d59b2b2afe9@mail.gmail.com>

On Thu, Oct 15, 2009 at 5:31 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> Now Harbour supports -gd option which enable such functionality
> directly in compiler so .d files can be generated without any
> additional time cost caused by second .prg files preprocessing.

Just a minor issue:

hbmk hello.prg -gd -ohello.exe

hello.d is:

hello.c: hello.prg

instead of hello.exe: hello.prg

best regards,
Lorenzo
From bedipritpal at hotmail.com  Fri Oct 16 04:47:01 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Oct 16 04:47:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12718] trunk/harbour
In-Reply-To: <15CB7FDF-0B51-4428-B9D1-E1CBAE0CB998@syenar.hu>
References: <E1Myc4m-0000Jf-Kp@3kljzd1.ch3.sourceforge.com>
	<15CB7FDF-0B51-4428-B9D1-E1CBAE0CB998@syenar.hu>
Message-ID: <25921916.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> I see you've chosen to use a unified release function option.
> 
> This is quite bad IMO. This means that every application, even
> the smallest and simplest one will have linked in code for
> 59 (!) QT objects whether needed or not. This means you have
> to say goodbye to modularity and granularity when using QT in
> Harbour. This probably will get worse as QT evolves and get
> more objects by time, and every QT apps will just grow
> automatically. Not to mention the extra time and memory needs
> of the container object you must now use. I understand there
> are many objects in a typical QT app, and this way their
> number is just doubled. Which means double number of memory
> allocations and freeing and an extra structure in memory
> for every object.
> 

Just hold on. Your point is valid. For that to happen we need 
more insght how Qt works. This is first step in that direction.

First I have to get rid of memory consumption.
Next I will go for modularity. I wll explain why that could not been
achieved so far. For sure final result will be far superior.

OR can you suggest the skeleton of modularity in this scenario ?

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12718--trunk-harbour-tp25918755p25921916.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From M.Horodyski at pzuzycie.com.pl  Fri Oct 16 04:58:07 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Oct 16 04:58:16 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <qlhed55frh44s9glvako7s48u2bdejsth2@4ax.com>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com><FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu><1BE1DD9F-ADC6-4EDC-89D2-707F24A5CDB6@syenar.hu><qs8cd5hcfdvu2tibstp0h4do2s9baim9jn@4ax.com><FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D7B@PINK.zycie.pzu>
	<qlhed55frh44s9glvako7s48u2bdejsth2@4ax.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909F8F@PINK.zycie.pzu>

>-----Original Message-----
>From: ToninhoFWi [mailto:toninhofwi@yahoo.com.br] 
>Sent: Thursday, October 15, 2009 6:01 PM
>To: Harbour Project Main Developer List.
>Subject: Re: RE: Re: [Harbour] Web Services in Harbour
>
>Hi Marek
>
>>Can I receive as a result of the complex result (array, object ) ?
>
>There are a lot of samples in pockesoap home. As I can see 
>pocketsoap is much more complete compared to mssoap, but is 
>more hard to use, maybe because it have more features ?
>
>BTW try to use WsdlWizard from that site. WsdlWizard generate 
>a VB code based in a WSDL

O.K.
I will try to do it.

Regards,
Marek Horodyski
From harbour.01 at syenar.hu  Fri Oct 16 05:03:17 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Oct 16 05:03:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12718] trunk/harbour
In-Reply-To: <25921916.post@talk.nabble.com>
References: <E1Myc4m-0000Jf-Kp@3kljzd1.ch3.sourceforge.com>
	<15CB7FDF-0B51-4428-B9D1-E1CBAE0CB998@syenar.hu>
	<25921916.post@talk.nabble.com>
Message-ID: <FC5E8BC3-88CE-491D-BA2C-3769FF9EFD26@syenar.hu>

> Just hold on. Your point is valid. For that to happen we need
> more insght how Qt works. This is first step in that direction.
>
> First I have to get rid of memory consumption.
> Next I will go for modularity. I wll explain why that could not been
> achieved so far. For sure final result will be far superior.
>
> OR can you suggest the skeleton of modularity in this scenario ?

I can only suggest the skeleton which we use in all
GC scenarios in Harbour, this means separate GC pointer
creator and release functions for every possible objects.
This would mean the addition of 2 extra C level functions
(one called directly, the other the release callback)
inside each .qth/.cpp functions implementing the QT objects.

But I don't know why that didn't work for you in case
of QT, so I can't suggest anything else this time.

Brgds,
Viktor

From M.Horodyski at pzuzycie.com.pl  Fri Oct 16 05:05:32 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Oct 16 05:05:40 2009
Subject: [Harbour] Re: Web Services in Harbour
In-Reply-To: <609353e70910151427i6da8bca0hea87b91be4bad6fb@mail.gmail.com>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com><FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu>
	<609353e70910140110y28cbfadfoc37082be3aa28568@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D2A@PINK.zycie.pzu>
	<609353e70910141231g20f7dc1cmf8c57084b7e159a1@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D92@PINK.zycie.pzu>
	<B80C439B-D599-4E4E-B741-FFB128535977@syenar.hu><hb77tv$h5s$1@ger.gmane.org>
	<609353e70910151427i6da8bca0hea87b91be4bad6fb@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909F94@PINK.zycie.pzu>

>-----Original Message-----
>From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
>Sent: Thursday, October 15, 2009 11:28 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Re: Web Services in Harbour
>
>Here same link
>xb2.net soap.server for xbase++
>http://www.sqlexpress.net/xb2net/Xb2NET.pdf
>
>SOAPing without a Web Server
>http://www.codeproject.com/KB/ATL-Server/soaptransport.aspx
>
>client/server SOAP library in pure C at SourceForge.ne 
>http://sourceforge.net/projects/csoap/

This looks interesting.
As far as free time I try to look closer at this.
May be we able to adapt it.

Regards,
Marek Horodyski
From druzus at acn.waw.pl  Fri Oct 16 05:44:53 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Oct 16 05:45:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12706] trunk/harbour
In-Reply-To: <9257026e0910160129i11f8250bn56548d59b2b2afe9@mail.gmail.com>
References: <E1My5dS-0005aR-VJ@c3vjzd1.ch3.sourceforge.com>
	<9257026e0910141010r71809418l7a04262671a34f0@mail.gmail.com>
	<20091015153151.GA5730@uran.home.aster.pl>
	<9257026e0910160129i11f8250bn56548d59b2b2afe9@mail.gmail.com>
Message-ID: <20091016094453.GA16040@uran.home.aster.pl>

On Fri, 16 Oct 2009, Lorenzo Fiorini wrote:
> > Now Harbour supports -gd option which enable such functionality
> > directly in compiler so .d files can be generated without any
> > additional time cost caused by second .prg files preprocessing.
> Just a minor issue:
> hbmk hello.prg -gd -ohello.exe
> hello.d is:
> hello.c: hello.prg
> instead of hello.exe: hello.prg

Yes it is. It's expected behavior.
Please read my other messages. Harbour compiler does not know that
you want to create .exe file so in such situations you have to set
extgension explicitly yourself.

   hbmk hello.prg -gd.exe -ohello.exe

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Fri Oct 16 06:23:01 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Oct 16 06:23:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12706] trunk/harbour
In-Reply-To: <20091016094453.GA16040@uran.home.aster.pl>
References: <E1My5dS-0005aR-VJ@c3vjzd1.ch3.sourceforge.com>
	<9257026e0910141010r71809418l7a04262671a34f0@mail.gmail.com>
	<20091015153151.GA5730@uran.home.aster.pl>
	<9257026e0910160129i11f8250bn56548d59b2b2afe9@mail.gmail.com>
	<20091016094453.GA16040@uran.home.aster.pl>
Message-ID: <9257026e0910160323w28a1e49bw36faea294b4c981e@mail.gmail.com>

On Fri, Oct 16, 2009 at 11:44 AM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> Yes it is. It's expected behavior.
> Please read my other messages. Harbour compiler does not know that
> you want to create .exe file so in such situations you have to set
> extgension explicitly yourself.
>
> ? hbmk hello.prg -gd.exe -ohello.exe

Sorry I read that in -gd.d ".d" was the default extension of the "d file".

Now it's clear.

best regards,
Lorenzo
From M.Horodyski at pzuzycie.com.pl  Fri Oct 16 06:43:00 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Oct 16 06:43:08 2009
Subject: [Harbour] SqlMix and dbcreated
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909FFE@PINK.zycie.pzu>

Hi database community.

dbCreate in this code :

dbUseArea( .t., 'DBFCDX', 'POSREDNK.dbf', 'POSREDNIK', .f., .f.)
? 'Po??czenie ', RDDINFO( 1001, { "ODBC", "DSN=WPIS;SERVER=KAN;PWD=pass;UID=MyAcc" }, 'SQLMIX' ) // > 1
? dbCreate( 'POSREDNK', Posrednik->( dbStruct()), 'SQLMIX') // .t.

Returned .t., but table is not created. Connection is correct (selects from Oracle are going, it is my schema).
How we can created new table in RDBMS ?

Regards,
Marek Horodyski
From vszakats at users.sourceforge.net  Fri Oct 16 07:59:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Oct 16 07:59:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12719] trunk/harbour
Message-ID: <E1MylSp-0008FN-KK@dn4whf1.ch3.sourceforge.com>

Revision: 12719
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12719&view=rev
Author:   vszakats
Date:     2009-10-16 11:59:18 +0000 (Fri, 16 Oct 2009)

Log Message:
-----------
2009-10-16 13:54 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtip/sendmail.prg
  * contrib/hbtip/mail.prg
    ! Fixed encoding of subject, from, to, cc, bcc address lists, in some 
      places it was missing (cc, bcc, from), in some other places multiple 
      address support was missing (to, cc, bcc) from recent addition of 
      encoding support.
    + Added/Fixed support for human readable name component in e-mail addresses.
    + Using TIPMAIL:SETHEADER() in HB_SENDMAIL() to set above header components.
    ! Several minor cleanups in TIPMAIL:SETHEADER():
      - handling of empty values
      - using space instead of tab when passing multiple addresses in headers.
        Haven't checked the standard, but I used to see space there.
      - Minor formatting, optimizations.
    ! Minor tweaks to space and _ char in Q encoding. Now 
      they are both simply encoded.
    ; Overall probably a rewrite would be the best in case of hbtip mailing, 
      and maybe not just for mailing. Code is full of strange tweaks, 
      redundancy and the class layout/communication is rather strange, f.e. 
      SMTP protocol data is passed via TURL:cFile variable from HB_SENDMAIL 
      to SMTP client class. Also charset support is just an aftertought so 
      user code needs close syncronisation with HB_SENDMAIL() and replicating 
      the same parameter parsing logic on multiple layers of code.
      And I've probably just scratched the surface, f.e. I didn't test 
      attachments of HTML mails and probably several other options as well.
    ; Anyway please test.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/mail.prg
    trunk/harbour/contrib/hbtip/sendmail.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Fri Oct 16 08:52:29 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Oct 16 08:52:36 2009
Subject: [Harbour] SqlMix and dbcreated
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909FFE@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909FFE@PINK.zycie.pzu>
Message-ID: <4AD86C8D.6050402@dbtopas.lt>

Hi,


Horodyski Marek (PZUZ) wrote:
> Hi database community.
> 
> dbCreate in this code :
> 
> dbUseArea( .t., 'DBFCDX', 'POSREDNK.dbf', 'POSREDNIK', .f., .f.)
> ? 'Po??czenie ', RDDINFO( 1001, { "ODBC", "DSN=WPIS;SERVER=KAN;PWD=pass;UID=MyAcc" }, 'SQLMIX' ) // > 1
> ? dbCreate( 'POSREDNK', Posrednik->( dbStruct()), 'SQLMIX') // .t.
> 
> Returned .t., but table is not created. Connection is correct (selects from Oracle are going, it is my schema).
> How we can created new table in RDBMS ?


1) Table is created but it is released because you did not leave the 
workarea open in dbcreate() call. See contrib\rddsql\tests\arrayrdd.prg 
for a sample how dbcrerate() works in RDDSQL.

2) RDDSQL does NOT generates hidden queries thus giving all power of SQL 
to the hands of programmers. If you want to execute query "CREATE TABLE 
posrednk (...", just do:
   RDDINFO(RDDI_EXECUTE, "CREATE TABLE posrednk (...")


Regards,
Mindaugas
From dbtopas at dbtopas.lt  Fri Oct 16 09:08:06 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Oct 16 09:08:12 2009
Subject: [Harbour] CodePage and RDDSQL
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909A04@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909A04@PINK.zycie.pzu>
Message-ID: <4AD87036.7050206@dbtopas.lt>

Hi,


Horodyski Marek (PZUZ) wrote:
> Mindaugas, RDDSQL/SQLMIX ignored CP parametr in function :
> 
> dbUseArea( <.nw.>, <rdd>, <(db)>, <(a)>, if(<.sh.> .or. <.ex.>, !<.ex.>,
> NIL), <.ro.> [, <cp>] )
> 
> Can you add support for this parameter?

the question is: How this CP parameter should be passed to SQL? If SQL 
functions support CP parameter, then we should try to pass from 
dbusearea() to query (or fetch) function. If codepage is selected using 
some SQL query, the programmer is free to execute this query using 
RDDINFO(RDDI_EXECUTE). For example, the first line in my code after
   RDDINFO(RDDI_CONNECT, {"MYSQL", cHost, cUser, cPass, cDatabase})
is
   RDDINFO(RDDI_EXECUTE, "SET CHARACTER SET cp1257").

You are free to execute:
   SET CHARACTER SET ...
or
   SET NAMES '...'
or
   SET character_set_results='...'
or
   SET character_set_client='...'
or
   SET character_set_connection='...'
or whatever different animal you find in the zoo of MySQL documentation.


Regards,
Mindaugas

From M.Horodyski at pzuzycie.com.pl  Fri Oct 16 09:39:47 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Oct 16 09:39:59 2009
Subject: [Harbour] SqlMix and dbcreated
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909FFE@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909FFE@PINK.zycie.pzu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0B8@PINK.zycie.pzu>

>-----Original Message-----
>From: Horodyski Marek (PZUZ) 
>Sent: Friday, October 16, 2009 12:43 PM
>To: Harbour Project Main Developer List.
>Subject: [Harbour] SqlMix and dbcreated
>
>Hi database community.
>
>dbCreate in this code :
>
>dbUseArea( .t., 'DBFCDX', 'POSREDNK.dbf', 'POSREDNIK', .f., 
>.f.) ? 'Po??czenie ', RDDINFO( 1001, { "ODBC", 
>"DSN=WPIS;SERVER=KAN;PWD=pass;UID=MyAcc" }, 'SQLMIX' ) // > 1 
>? dbCreate( 'POSREDNK', Posrednik->( dbStruct()), 'SQLMIX') // .t.
>
>Returned .t., but table is not created. Connection is correct 
>(selects from Oracle are going, it is my schema).
>How we can created new table in RDBMS ?


When I try make this via ADORDD, have error :

.[WIN_OLEAUTO:CLOSE(0)]

(b)ERRORSYS(259)
WIN_OLEAUTO:CLOSE(0)
ADO_CREATE(0)
DBCREATE(0)
(b)KOMPILATOR(0)
BOSS(0)
(b)KOMPILATOR(0)
BOSS(0)
KODKLAW(0)
OPCJA(0)
(b)KOMPILATOR(0)
BOSS(0)
MAIN(244)
oErr:severity_____         2
oErr:osCode_______         0
oErr:subsystem()__BASE
oErr:subCode______      3012
oErr:description__Nieprawid?owy argument
oErr:filename_____
oErr:operation____CLOSE
oErr:genCode______         1
oErr:args_________U

And table is too not created.
We don't can use DDL expressions on RDBMS.

Regards,
Marek Horodyski
From mbelgrano at deltain.it  Fri Oct 16 09:58:30 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Oct 16 09:58:56 2009
Subject: [Harbour] SqlMix and dbcreated
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0B8@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909FFE@PINK.zycie.pzu> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0B8@PINK.zycie.pzu>
Message-ID: <609353e70910160658s4be770dao906a9b1a1473b6c9@mail.gmail.com>

ADORDD for now is unstable because evolution of ole have created
involution in adodd
I invite everybody with a problem using adordd post problem at
http://forums.fivetechsupport.com/viewtopic.php?f=3&t=6814&start=165

I suggest document structure of POSREDNK.dbf using array
instead of Posrednik->( dbStruct()) use  .... {{"name","c",20,0} }




2009/10/16 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>:
>>-----Original Message-----
>>From: Horodyski Marek (PZUZ)
>>Sent: Friday, October 16, 2009 12:43 PM
>>To: Harbour Project Main Developer List.
>>Subject: [Harbour] SqlMix and dbcreated
>>
>>Hi database community.
>>
>>dbCreate in this code :
>>
>>dbUseArea( .t., 'DBFCDX', 'POSREDNK.dbf', 'POSREDNIK', .f.,
>>.f.) ? 'Po??czenie ', RDDINFO( 1001, { "ODBC",
>>"DSN=WPIS;SERVER=KAN;PWD=pass;UID=MyAcc" }, 'SQLMIX' ) // > 1
>>? dbCreate( 'POSREDNK', Posrednik->( dbStruct()), 'SQLMIX') // .t.
>>
>>Returned .t., but table is not created. Connection is correct
>>(selects from Oracle are going, it is my schema).
>>How we can created new table in RDBMS ?
>
>
> When I try make this via ADORDD, have error :
>
> .[WIN_OLEAUTO:CLOSE(0)]
>
> (b)ERRORSYS(259)
> WIN_OLEAUTO:CLOSE(0)
> ADO_CREATE(0)
> DBCREATE(0)
> (b)KOMPILATOR(0)
> BOSS(0)
> (b)KOMPILATOR(0)
> BOSS(0)
> KODKLAW(0)
> OPCJA(0)
> (b)KOMPILATOR(0)
> BOSS(0)
> MAIN(244)
> oErr:severity_____ ? ? ? ? 2
> oErr:osCode_______ ? ? ? ? 0
> oErr:subsystem()__BASE
> oErr:subCode______ ? ? ?3012
> oErr:description__Nieprawid?owy argument
> oErr:filename_____
> oErr:operation____CLOSE
> oErr:genCode______ ? ? ? ? 1
> oErr:args_________U
>
> And table is too not created.
> We don't can use DDL expressions on RDBMS.
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From M.Horodyski at pzuzycie.com.pl  Fri Oct 16 10:18:39 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Oct 16 10:18:51 2009
Subject: [Harbour] SqlMix and dbcreated
In-Reply-To: <4AD86C8D.6050402@dbtopas.lt>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909FFE@PINK.zycie.pzu>
	<4AD86C8D.6050402@dbtopas.lt>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0C7@PINK.zycie.pzu>

>-----Original Message-----
>From: Mindaugas Kavaliauskas [mailto:dbtopas@dbtopas.lt] 
>Sent: Friday, October 16, 2009 2:52 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] SqlMix and dbcreated
>
>Hi,
>
>
>Horodyski Marek (PZUZ) wrote:
>> Hi database community.
 
...

>2) RDDSQL does NOT generates hidden queries thus giving all 
>power of SQL to the hands of programmers. If you want to 
>execute query "CREATE TABLE posrednk (...", just do:
>   RDDINFO(RDDI_EXECUTE, "CREATE TABLE posrednk (...")

Excellent !
Example from \harbour\contrib\rddsql\sddmy\tests\test1.prg
I not does actually browsed all prg examples - my fault. 
I have one question: 
rdd_info does connect to a particular database. 
How to make a call simultaneously to 2 or 3 bases, and juggle
connections (Oracle, SQLServer and DB2).
Now I have to copy the DBF file and do the other, a new connection. 
When I need to read the previous database, I do a new connection.

Regards,
Marek Horodyski
From dbtopas at dbtopas.lt  Fri Oct 16 11:08:37 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Oct 16 11:08:43 2009
Subject: [Harbour] SqlMix and dbcreated
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0C7@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909FFE@PINK.zycie.pzu>	<4AD86C8D.6050402@dbtopas.lt>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0C7@PINK.zycie.pzu>
Message-ID: <4AD88C75.9000501@dbtopas.lt>

Hi,

> I have one question: 
> rdd_info does connect to a particular database. 
> How to make a call simultaneously to 2 or 3 bases, and juggle
> connections (Oracle, SQLServer and DB2).
> Now I have to copy the DBF file and do the other, a new connection. 
> When I need to read the previous database, I do a new connection.


Yes, of cause. You just have to pass a connection parameter to 
RDDINFO(), DBUSEAREA(), etc. Or select current connections using 
RDDI_CONNECTION.


Regards,
Mindaugas


From M.Horodyski at pzuzycie.com.pl  Fri Oct 16 11:26:57 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Oct 16 11:27:05 2009
Subject: [Harbour] SqlMix and dbcreated
In-Reply-To: <4AD86C8D.6050402@dbtopas.lt>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909FFE@PINK.zycie.pzu>
	<4AD86C8D.6050402@dbtopas.lt>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0CA@PINK.zycie.pzu>

>-----Original Message-----
>From: Mindaugas Kavaliauskas [mailto:dbtopas@dbtopas.lt] 
>Sent: Friday, October 16, 2009 2:52 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] SqlMix and dbcreated
>
>Hi,

...

>2) RDDSQL does NOT generates hidden queries thus giving all 
>power of SQL to the hands of programmers. If you want to 
>execute query "CREATE TABLE posrednk (...", just do:
>   RDDINFO(RDDI_EXECUTE, "CREATE TABLE posrednk (...")

When I try write DATA type from DBF, where DATA is 3b long to RDBMS :

posrednik->( fieldput( n, posrednicy->( fieldget( n))))

Have I error :

(b)ERRORSYS(259)
FIELDPUT(0)
(b)KOMPILATOR(0)
BOSS(0)
(b)KOMPILATOR(0)
BOSS(0)
KODKLAW(0)
OPCJA(0)
(b)KOMPILATOR(0)
BOSS(0)
MAIN(244)

oErr:severity_____         2
oErr:osCode_______         0
oErr:subsystem()__SQLMIX
oErr:subCode______         0
oErr:description__Niezgodny typ danych
oErr:filename_____
oErr:operation____DATA_UR
oErr:genCode______        33
oErr:args_________U

Can I around this somehow?

Regards,
Marek Horodyski
From M.Horodyski at pzuzycie.com.pl  Fri Oct 16 12:44:52 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Oct 16 12:45:01 2009
Subject: [Harbour] SqlMix and dbcreated
In-Reply-To: <4AD88C75.9000501@dbtopas.lt>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909FFE@PINK.zycie.pzu>	<4AD86C8D.6050402@dbtopas.lt><FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0C7@PINK.zycie.pzu>
	<4AD88C75.9000501@dbtopas.lt>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0CB@PINK.zycie.pzu>

>-----Original Message-----
>From: Mindaugas Kavaliauskas [mailto:dbtopas@dbtopas.lt] 
>Sent: Friday, October 16, 2009 5:09 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] SqlMix and dbcreated
>
>Hi,
>
>> I have one question: 
>> rdd_info does connect to a particular database. 
>> How to make a call simultaneously to 2 or 3 bases, and juggle 
>> connections (Oracle, SQLServer and DB2).
>> Now I have to copy the DBF file and do the other, a new connection. 
>> When I need to read the previous database, I do a new connection.
>
>
>Yes, of cause. You just have to pass a connection parameter to 
>RDDINFO(), DBUSEAREA(), etc. Or select current connections 
>using RDDI_CONNECTION.

Do not understand :(
For example I have 2 databases :
1 - oracle 
2 - sqlserwer

And now :
? Rdd_info( 1001, { "ODBC",
"DSN=TO_ORACLE;SERVER=KANZ;PWD=pass;UID=schema" }, 'SQLMIX' )
dbUserea( .t., 'SQLMIX', 'select * from posrednik', 'POSREDNIK')

// here I can use more tables or selects from tis RDBMS

// now to sqlserver

? RDDINFO( 1001, { "ODBC", "Driver={SQL
Server};Server=MSSQL.AliasDatabases;Database=NAMEofDATABASEI;Trusted_Con
nection=yes;" }, 'SQLMIX' )
dbUserea( .t., 'SQLMIX', 'select * from klient', 'KLIENT')

// and now, when I will read from oracle, I make :

? Rdd_info( 1001, { "ODBC", "DSN=KAN;SERVER=KANZ;PWD=pass;UID=schema" },
'SQLMIX' )
dbUserea( .t., 'SQLMIX', 'select * from adresy', 'ADRESY')

But connect to this dbms was created earlier. How can I reuse it ?


And another problem :(
Now without problems create I tables, but this code :

m := posrednicy->( fcount())
while !posrednicy->( Eof())
        insert := "INSERT INTO posrednik values ("
        for n := 1 To m
          var := posrednicy->( FieldGet( n))
          typ := ValType( var)
          do case // przypadki
          case typ == 'N' ; insert += NtoS( var)
          case typ == 'D' ; insert += if( empty( var), 'Null', "'" +
TransForm( DtoS( var), '@R 9999-99-99') + "'")
          case typ == 'C' ; insert += "'" + StrTran( Trim( var), ',') +
"'"
          end
          if n == m ; insert += ')'
          else      ; insert += ','
          end
        next
        RDDINFO(RDDI_EXECUTE, insert)
        RDDINFO(RDDI_EXECUTE, "commit")
        posrednicy->( dbSkip( 1))
end

Are not inserted records.
Commands caught from app, f.e.:

INSERT INTO posrednik values
(0,0,'','','','91020403469','','','',Null,'','','','','','')

Are corretctly executed from toad or another tools, and records are
inserted.
I do not know where to find the cause :(

Regards,
Marek Horodyski
 
From bruno.luciani at gmail.com  Fri Oct 16 12:45:03 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Oct 16 12:45:10 2009
Subject: [Harbour] HBQT demoqt
In-Reply-To: <25920232.post@talk.nabble.com>
References: <20091016050923.BA01E448C8@ws5-1.us4.outblaze.com>
	<25920232.post@talk.nabble.com>
Message-ID: <133778360910160945k44372928j99824b5a7413b87e@mail.gmail.com>

Error executing compiled  demoqt

Ubuntu 9.04 - Harbour Rev 12719


Regards

Bruno

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

bruno@notebook:~/harbour_svn/harbour/contrib/hbqt/tests$ hbmk2 demoqt
-Lc:\qt\4.5.3\lib -lxhb
hbmk2: Processing local make script:
hbmk.hbm
hbmk2: Processing configuration:
/usr/local/bin/hbmk.cfg
Harbour 2.0.0beta3 (Rev. 12719)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'demoqt.prg'...
Lines 966, Functions/Procedures 20
Generating C source output to 'demoqt.c'... Done.
bruno@notebook:~/harbour_svn/harbour/contrib/hbqt/tests$ ls
copy.png  demoqt      hbmk.hbm  open.png   save.png
cut.png   demoqt.prg  new.png   paste.png  test.ico
bruno@notebook:~/harbour_svn/harbour/contrib/hbqt/tests$ ./demoqt
X Error: BadIDChoice (invalid resource ID chosen for this connection) 14
  Major opcode: 1 (X_CreateWindow)
  Resource id:  0x2a00002
X Error: BadIDChoice (invalid resource ID chosen for this connection) 14
  Extension:    149 (RENDER)
  Minor opcode: 4 (RenderCreatePicture)
  Resource id:  0x2a00003
X Error: BadIDChoice (invalid resource ID chosen for this connection) 14
  Major opcode: 1 (X_CreateWindow)
  Resource id:  0x2a00004
demoqt: Fatal IO error: client killed
bruno@notebook:~/harbour_svn/harbour/contrib/hbqt/tests$ demoqt: Fatal IO
error: client killed
bruno@notebook:~/harbour_svn/harbour/contrib/hbqt/tests$

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


2009/10/16 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Hi
>
>
> Jerry Finuliar-2 wrote:
> >
> > D:\harbour\contrib\hbqt\tests>hbmk2 demoqt -Lc:\qt\4.5.3\lib
> > hbmk2: Processing local make script: hbmk.hbm
> >
>
> Just for now compile as
>
> hbmk2 demoqt -Lc:\qt\4.5.3\lib -lxhb
>
> I will remove debug info after few days as I need to
> debug it constantly until I get the desired results.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/HBQT-demoqt-tp25919918p25920232.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091016/fde065a6/attachment.html
From bedipritpal at hotmail.com  Fri Oct 16 13:18:37 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Oct 16 13:18:43 2009
Subject: [Harbour] HBQT demoqt
In-Reply-To: <133778360910160945k44372928j99824b5a7413b87e@mail.gmail.com>
References: <20091016050923.BA01E448C8@ws5-1.us4.outblaze.com>
	<25920232.post@talk.nabble.com>
	<133778360910160945k44372928j99824b5a7413b87e@mail.gmail.com>
Message-ID: <25929082.post@talk.nabble.com>


Hi


Bruno Luciani wrote:
> 
> Error executing compiled  demoqt
> 
> Ubuntu 9.04 - Harbour Rev 12719
> 
> bruno@notebook:~/harbour_svn/harbour/contrib/hbqt/tests$ ls
> copy.png  demoqt      hbmk.hbm  open.png   save.png
> cut.png   demoqt.prg  new.png   paste.png  test.ico
> bruno@notebook:~/harbour_svn/harbour/contrib/hbqt/tests$ ./demoqt
> X Error: BadIDChoice (invalid resource ID chosen for this connection) 14
>   Major opcode: 1 (X_CreateWindow)
>   Resource id:  0x2a00002
> 

I am not sure what could be the issue, only a guess, do 
ubuntu supports .ico files? test.ico is used to display title-bar 
application icon. Try to change the source to supply 
some .png instead of .ico, may be that helps.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HBQT-demoqt-tp25919918p25929082.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bruno.luciani at gmail.com  Fri Oct 16 13:25:53 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Oct 16 13:26:00 2009
Subject: [Harbour] HBQT demoqt
In-Reply-To: <25929082.post@talk.nabble.com>
References: <20091016050923.BA01E448C8@ws5-1.us4.outblaze.com>
	<25920232.post@talk.nabble.com>
	<133778360910160945k44372928j99824b5a7413b87e@mail.gmail.com>
	<25929082.post@talk.nabble.com>
Message-ID: <133778360910161025j548e4b53oe8f143cde5e50208@mail.gmail.com>

But a few commits below that sample works ok in ubuntu

I try

Bruno

2009/10/16 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Hi
>
>
> Bruno Luciani wrote:
> >
> > Error executing compiled  demoqt
> >
> > Ubuntu 9.04 - Harbour Rev 12719
> >
> > bruno@notebook:~/harbour_svn/harbour/contrib/hbqt/tests$ ls
> > copy.png  demoqt      hbmk.hbm  open.png   save.png
> > cut.png   demoqt.prg  new.png   paste.png  test.ico
> > bruno@notebook:~/harbour_svn/harbour/contrib/hbqt/tests$ ./demoqt
> > X Error: BadIDChoice (invalid resource ID chosen for this connection) 14
> >   Major opcode: 1 (X_CreateWindow)
> >   Resource id:  0x2a00002
> >
>
> I am not sure what could be the issue, only a guess, do
> ubuntu supports .ico files? test.ico is used to display title-bar
> application icon. Try to change the source to supply
> some .png instead of .ico, may be that helps.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/HBQT-demoqt-tp25919918p25929082.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091016/0a1f2085/attachment.html
From bruno.luciani at gmail.com  Fri Oct 16 13:32:45 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Oct 16 13:32:52 2009
Subject: [Harbour] HBQT demoqt
In-Reply-To: <25929082.post@talk.nabble.com>
References: <20091016050923.BA01E448C8@ws5-1.us4.outblaze.com>
	<25920232.post@talk.nabble.com>
	<133778360910160945k44372928j99824b5a7413b87e@mail.gmail.com>
	<25929082.post@talk.nabble.com>
Message-ID: <133778360910161032y102e676awbeaecbc0b9c34af4@mail.gmail.com>

Is not the problem , I take off the line that refers the .ico  image file

and the problem is the same

Bruno

2009/10/16 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Hi
>
>
> Bruno Luciani wrote:
> >
> > Error executing compiled  demoqt
> >
> > Ubuntu 9.04 - Harbour Rev 12719
> >
> > bruno@notebook:~/harbour_svn/harbour/contrib/hbqt/tests$ ls
> > copy.png  demoqt      hbmk.hbm  open.png   save.png
> > cut.png   demoqt.prg  new.png   paste.png  test.ico
> > bruno@notebook:~/harbour_svn/harbour/contrib/hbqt/tests$ ./demoqt
> > X Error: BadIDChoice (invalid resource ID chosen for this connection) 14
> >   Major opcode: 1 (X_CreateWindow)
> >   Resource id:  0x2a00002
> >
>
> I am not sure what could be the issue, only a guess, do
> ubuntu supports .ico files? test.ico is used to display title-bar
> application icon. Try to change the source to supply
> some .png instead of .ico, may be that helps.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/HBQT-demoqt-tp25919918p25929082.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091016/795c40a6/attachment.html
From Istvan.Bisz at t-online.hu  Fri Oct 16 13:55:39 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Fri Oct 16 13:56:07 2009
Subject: [Harbour] HBQT demoqt
In-Reply-To: <000001ca4e35$9de7fc60$d9b7f520$@Bisz@t-online.hu>
References: <20091016050923.BA01E448C8@ws5-1.us4.outblaze.com>	<25920232.post@talk.nabble.com>
	<000001ca4e35$9de7fc60$d9b7f520$@Bisz@t-online.hu>
Message-ID: <002401ca4e89$e62263e0$b2672ba0$@Bisz@t-online.hu>

Hi,

>> Just for now compile as

>> hbmk2 demoqt -Lc:\qt\4.5.3\lib -lxhb

>> I will remove debug info after few days as I need to debug it 
>> constantly until I get the desired results.

>Some additional info for debugging from a CentOS 5.3 distro ...

As the ' QWindowsXPStyle' is not supported under linux; I changed the line
142 in demoqt.prg from:
   oStyle := QWindowsXPStyle():new()
to:
   oStyle := QWindowsStyle():new()

After this change the demo started and I can handled the all functionalities
except 'WebPage' menu point [crash on line 603: oDlg:exec()]
as the 'exec()' is wrong in this context.

The demo also crashes at exiting, see attachment.

Regards,
Istv?n Bisz

-------------- next part --------------
A non-text attachment was scrubbed...
Name: demoqt.debug.zip
Type: application/x-zip-compressed
Size: 5820 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091016/4a212e72/demoqt.debug-0001.bin
From druzus at users.sourceforge.net  Fri Oct 16 14:02:58 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Oct 16 14:03:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12720] trunk/harbour
Message-ID: <E1Myr8k-0003Wh-FK@c3vjzd1.ch3.sourceforge.com>

Revision: 12720
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12720&view=rev
Author:   druzus
Date:     2009-10-16 18:02:57 +0000 (Fri, 16 Oct 2009)

Log Message:
-----------
2009-10-16 20:02 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/Makefile
  + harbour/src/rtl/hbbfish.c
  * harbour/include/Makefile
  + harbour/include/hbbfish.h
    + added support for BlowFish encryption at C level:
      hb_blowfishInit(), hb_blowfishEncrypt(), hb_blowfishDecrypt()
      This code implements BlowFish algorithm designed by Bruce Schneier.
      The description of BlowFish algorithm can be found at:
         http://www.schneier.com/paper-blowfish-fse.html
      This code uses for initial s-boxes and p-array values PI hex digits
      taken from tables public at:
         http://www.schneier.com/blowfish.html
      which can be downloaded from:
         http://www.schneier.com/code/constants.txt
      This should be quite fast implementation (probably much faster
      then reference one) but please remember that in BlowFish algorithm
      startup initialization of encryption tables is intentionally
      designed to be expensive to strongly reduce the efficiency of
      brute force attacks so call hb_blowfishInit() once for each
      new password and then reuse initialized encryption tables in
      hb_blowfishEncrypt() and hb_blowfishDecrypt().
      I'll add .prg functions later.
      TODO: add some asymmetric key encryption.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/Makefile
    trunk/harbour/src/rtl/Makefile

Added Paths:
-----------
    trunk/harbour/include/hbbfish.h
    trunk/harbour/src/rtl/hbbfish.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Fri Oct 16 14:32:31 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Oct 16 14:32:38 2009
Subject: [Harbour] HBQT demoqt
In-Reply-To: <-1737965907026030013@unknownmsgid>
References: <20091016050923.BA01E448C8@ws5-1.us4.outblaze.com>
	<25920232.post@talk.nabble.com> <-1737965907026030013@unknownmsgid>
Message-ID: <133778360910161132v796a840fq6e0af413f0cadafb@mail.gmail.com>

Don't work here

Bruno

2009/10/16 Bisz Istv?n <Istvan.Bisz@t-online.hu>

> Hi,
>
> >> Just for now compile as
>
> >> hbmk2 demoqt -Lc:\qt\4.5.3\lib -lxhb
>
> >> I will remove debug info after few days as I need to debug it
> >> constantly until I get the desired results.
>
> >Some additional info for debugging from a CentOS 5.3 distro ...
>
> As the ' QWindowsXPStyle' is not supported under linux; I changed the line
> 142 in demoqt.prg from:
>   oStyle := QWindowsXPStyle():new()
> to:
>   oStyle := QWindowsStyle():new()
>
> After this change the demo started and I can handled the all
> functionalities
> except 'WebPage' menu point [crash on line 603: oDlg:exec()]
> as the 'exec()' is wrong in this context.
>
> The demo also crashes at exiting, see attachment.
>
> Regards,
> Istv?n Bisz
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091016/fe44d758/attachment.html
From bedipritpal at hotmail.com  Fri Oct 16 14:35:54 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Oct 16 14:36:00 2009
Subject: [Harbour] HBQT demoqt
In-Reply-To: <002401ca4e89$e62263e0$b2672ba0$@Bisz@t-online.hu>
References: <20091016050923.BA01E448C8@ws5-1.us4.outblaze.com>
	<25920232.post@talk.nabble.com>
	<000001ca4e35$9de7fc60$d9b7f520$@Bisz@t-online.hu>
	<002401ca4e89$e62263e0$b2672ba0$@Bisz@t-online.hu>
Message-ID: <25930259.post@talk.nabble.com>


Hi


Bisz Istv?n wrote:
> 
> As the ' QWindowsXPStyle' is not supported under linux; I changed the line
> 142 in demoqt.prg from:
>    oStyle := QWindowsXPStyle():new()
> to:
>    oStyle := QWindowsStyle():new()
> 

So we need to comment out this function at all, Windows specific.



> After this change the demo started and I can handled the all
> functionalities
> except 'WebPage' menu point [crash on line 603: oDlg:exec()]
> as the 'exec()' is wrong in this context.
> 

Thanks for the hints. I will see another way.



> The demo also crashes at exiting, see attachment.
> 

Thanks for this detailed analysis. It appears some pointer 
is being freed twice. Though this does not show up on Windows
but I have to analyze the GC implementation in more detail.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/HBQT-demoqt-tp25919918p25930259.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Fri Oct 16 14:37:14 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Oct 16 14:37:21 2009
Subject: [Harbour] HBQT demoqt
In-Reply-To: <133778360910161132v796a840fq6e0af413f0cadafb@mail.gmail.com>
References: <20091016050923.BA01E448C8@ws5-1.us4.outblaze.com>
	<25920232.post@talk.nabble.com>
	<133778360910161132v796a840fq6e0af413f0cadafb@mail.gmail.com>
Message-ID: <25930279.post@talk.nabble.com>


Hi


Bruno Luciani wrote:
> 
> Don't work here
> 

Just comment out the section 
oStyle := QWindowsXPStyle():new()
and check if it helps?

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HBQT-demoqt-tp25919918p25930279.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From maufacc at adinet.com.uy  Fri Oct 16 17:59:52 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Fri Oct 16 18:00:01 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4AD5A7CE.7090303@gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>	<4ACF18B7.5030601@adinet.com.uy>	<4ACF1EA8.9010205@gmail.com>	<4ACF22EC.5050400@adinet.com.uy>	<4ACF55F3.1080708@gmail.com>	<4AD05700.7050502@adinet.com.uy>	<4AD0BCC4.6030807@gmail.com>	<4AD0C3AD.5030706@gmail.com>
	<4AD4DEA0.5070300@adinet.com.uy> <4AD5A7CE.7090303@gmail.com>
Message-ID: <4AD8ECD8.7030604@adinet.com.uy>

An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091016/718463fb/attachment.html
From jarabal at gmail.com  Fri Oct 16 18:57:41 2009
From: jarabal at gmail.com (Xavi)
Date: Fri Oct 16 19:00:18 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4AD8ECD8.7030604@adinet.com.uy>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D44@Mail-yoq.SYNEL-COMPANY.LTD>	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>	<4ACF18B7.5030601@adinet.com.uy>	<4ACF1EA8.9010205@gmail.com>	<4ACF22EC.5050400@adinet.com.uy>	<4ACF55F3.1080708@gmail.com>	<4AD05700.7050502@adinet.com.uy>	<4AD0BCC4.6030807@gmail.com>	<4AD0C3AD.5030706@gmail.com>	<4AD4DEA0.5070300@adinet.com.uy>
	<4AD5A7CE.7090303@gmail.com> <4AD8ECD8.7030604@adinet.com.uy>
Message-ID: <4AD8FA65.3090209@gmail.com>

Maurizio,

> I'm not at work butin my last test modifying the es850c as I told in my previous mail and without changing the cdpapi

Try .-

? '?' > 'a'  // Clipper NTXSPA == .T.

best regards,

-- 
Xavi

From druzus at users.sourceforge.net  Fri Oct 16 19:22:42 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Oct 16 19:22:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12721] trunk/harbour
Message-ID: <E1Myw8A-0007Zk-UD@74yxhf1.ch3.sourceforge.com>

Revision: 12721
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12721&view=rev
Author:   druzus
Date:     2009-10-16 23:22:41 +0000 (Fri, 16 Oct 2009)

Log Message:
-----------
2009-10-17 01:22 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/Makefile
  + harbour/src/rtl/hbbffnc.c
  * harbour/include/hbextern.ch
    + added PRG functions for BlowFish encryption:
         hb_blowfishKey( <cPass> ) -> <bfKey>
         hb_blowfishEncrypt( <bfKey>, <cData> ) -> <cCryptedData>
         hb_blowfishDecrypt( <bfKey>, <cCryptedData> ) -> <cData>
      On errors above functions return NIL.
      Warning: the size of encrypted data is padded to 64bit (8 bytes)
      so it's bigger then original one.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbextern.ch
    trunk/harbour/src/rtl/Makefile

Added Paths:
-----------
    trunk/harbour/src/rtl/hbbffnc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Sat Oct 17 08:37:32 2009
From: toninhofwi at yahoo.com.br (ToninhoFWi)
Date: Sat Oct 17 08:37:40 2009
Subject: [Harbour] HBMemIO and RDDADS
Message-ID: <veejd59hgr1ts4kjmjgn4sfq5f14rvgvhl@4ax.com>

Hi.

I'm trying to test hbmemio with RDDADS but I can't.  Is it possible?

---cut---
REQUEST HB_MEMIO
REQUEST ADS
PROC Main()
   LOCAL nI
   FIELD F1
   rddregister("ads",1)
   rddsetdefault("ads")
   adssetfiletype(3)
   DBCREATE("mem:test", {{"F1", "N", 9, 0}},, .T., "memarea")
   FOR nI := 1 TO 1000
     DBAPPEND();  F1 := HB_RANDOM() * 1000000
   NEXT
   INDEX ON F1 TAG f1
   DBEVAL({|| QOUT(F1)})
   DBCLOSEAREA()
   DBDROP("mem:test")
RETURN
---cut---


Thanks and best regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From itamarlins at bol.com.br  Sat Oct 17 11:04:56 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Sat Oct 17 11:07:49 2009
Subject: [Harbour] Problem with win_prn class CHARSET.
Message-ID: <hbcmi7$cpn$1@ger.gmane.org>

Hi!

Function Test_Charset

     oPrn := win_prn():New(GetDefaultPrinter())
     oPrn :LandScape := .f.
     oPrn :Copies    :=  1
     if !oPrn:Create()
        MsgStop("Fail...")
        return nil
     endif

     if !oPrn:StartDoc("Print...")
           MsgStop("Error...")
           return nil
     else
           oPrn:CharSet(255)
           oPrn:setfont('Lucida Console',,11,,,,255)
     endif
  oPrn:TextOut('',.t.)
 oPrn:EndDoc()

Before run ok show =======, now show wrong results '' in paper of 
print.


Best regards,
Itamar M. Lins Jr.





From harbour.01 at syenar.hu  Sat Oct 17 14:34:44 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Oct 17 14:34:56 2009
Subject: [Harbour] Problem with win_prn class CHARSET.
In-Reply-To: <hbcmi7$cpn$1@ger.gmane.org>
References: <hbcmi7$cpn$1@ger.gmane.org>
Message-ID: <3920B91E-B0B4-4F1A-812C-1CA73CDF101C@syenar.hu>

Hi Itamar,

Exactly which compiler did you use here?

In UNICODE builds you have to use Set( _SET_CODEPAGE )
to set the CP you use in your app probably.
Maybe other will have better suggestions.

Brgds,
Viktor

On 2009 Oct 17, at 17:04, Itamar Lins wrote:

> Hi!
>
> Function Test_Charset
>
>     oPrn := win_prn():New(GetDefaultPrinter())
>     oPrn :LandScape := .f.
>     oPrn :Copies    :=  1
>     if !oPrn:Create()
>        MsgStop("Fail...")
>        return nil
>     endif
>
>     if !oPrn:StartDoc("Print...")
>           MsgStop("Error...")
>           return nil
>     else
>           oPrn:CharSet(255)
>           oPrn:setfont('Lucida Console',,11,,,,255)
>     endif
>  oPrn:TextOut 
> ('??????????????????????????????????????????????????????????????????????????? 
> ?',.t.)
> oPrn:EndDoc()
>
> Before run ok show =======, now show wrong results  
> '?????????' in paper of
> print.
>
>
> Best regards,
> Itamar M. Lins Jr.
>
>
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at users.sourceforge.net  Sat Oct 17 15:11:07 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Oct 17 15:11:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12722] trunk/harbour
Message-ID: <E1MzEgF-00085G-1j@dn4whf1.ch3.sourceforge.com>

Revision: 12722
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12722&view=rev
Author:   druzus
Date:     2009-10-17 19:11:05 +0000 (Sat, 17 Oct 2009)

Log Message:
-----------
2009-10-17 21:10 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbmemio/memio.c
    * casting for 64bit builds

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmemio/memio.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sun Oct 18 05:46:04 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Oct 18 05:46:33 2009
Subject: [Harbour] Re: Web Services in Harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909F94@PINK.zycie.pzu>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu> 
	<609353e70910140110y28cbfadfoc37082be3aa28568@mail.gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D2A@PINK.zycie.pzu> 
	<609353e70910141231g20f7dc1cmf8c57084b7e159a1@mail.gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D92@PINK.zycie.pzu> 
	<B80C439B-D599-4E4E-B741-FFB128535977@syenar.hu>
	<hb77tv$h5s$1@ger.gmane.org> 
	<609353e70910151427i6da8bca0hea87b91be4bad6fb@mail.gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909F94@PINK.zycie.pzu>
Message-ID: <609353e70910180246m4a4f7212saa47f2bfc6cb1c@mail.gmail.com>

I share my Other Link  SOAP
Official w3c?http://www.w3.org/TR/soap/
server side soap ?http://www.soapuser.com/server1.html
www.soapclient.com
www.develop.com/soap
http://soapagent.com/pages/Source_Code/

a soap server in vb6 http://www.geocities.com/rikwilly/soap.html
incomplete and in Italian but strong (use google translate)

The purpose of SOAP is to enable transparent - language- and
platform-independent - access to services. Until recently, getting
Microsoft- and Java-based SOAP applications to work together has been
difficult.
http://www2.sys-con.com/ITSG/virtualcd/WebServices/archives/0211/shaffer/index.html


maj be that in future harbour enable compiler front ends(rightly
removed due  non-working) : .NET CLI and JAVA.




2009/10/16 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>
> As far as free time I try to look closer at this.
> May be we able to adapt it.
>
> Regards,
> Marek Horodyski
> _______________________________________________

--
Massimo Belgrano
From itamarlins at bol.com.br  Sun Oct 18 07:38:21 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Sun Oct 18 07:46:22 2009
Subject: [Harbour] Re: Problem with win_prn class CHARSET.
References: <hbcmi7$cpn$1@ger.gmane.org>
	<3920B91E-B0B4-4F1A-812C-1CA73CDF101C@syenar.hu>
Message-ID: <hbeuqs$a9s$1@ger.gmane.org>

Hi,
Thanks for response.
I am using:
D:\harbour\trunk\harbour>harbour -build
Harbour 2.0.0beta3 (Rev. 12721)
Copyright (c) 1999-2009, http://www.harbour-project.org/

Harbour Build Info
---------------------------
Version: Harbour 2.0.0beta3 (Rev. 12721)
Compiler: Microsoft Visual C++ 15.0.26569 (32-bit)
Platform: Windows XP 5.1.2600 Service Pack 3
PCode version: 0.2
ChangeLog last entry: 2009-10-17 01:22 UTC+0200 Przemyslaw Czerpak 
(druzus/at/pr
iv.onet.pl)
ChangeLog ID: ChangeLog 12721 2009-10-16 23:22:41Z druzus

Built on: Oct 17 2009 10:50:48
Build options: (C++ mode)
Language options: (Clipper 5.3) (Clipper 5.x undoc) (Xbase++) (Flagship)
---------------------------

My CodePage is:
hb_setcodepage([PTISO])
hb_langselect([PT])

Ps. a few versions ago worked fine.

Best regards,
Itamar M. Lins Jr.


"Viktor Szakts" <harbour.01@syenar.hu> 
escreveu na mensagem news:3920B91E-B0B4-4F1A-812C-1CA73CDF101C@syenar.hu...
Hi Itamar,

Exactly which compiler did you use here?

In UNICODE builds you have to use Set( _SET_CODEPAGE )
to set the CP you use in your app probably.
Maybe other will have better suggestions.

Brgds,
Viktor

On 2009 Oct 17, at 17:04, Itamar Lins wrote:

> Hi!
>
> Function Test_Charset
>
>     oPrn := win_prn():New(GetDefaultPrinter())
>     oPrn :LandScape := .f.
>     oPrn :Copies    :=  1
>     if !oPrn:Create()
>        MsgStop("Fail...")
>        return nil
>     endif
>
>     if !oPrn:StartDoc("Print...")
>           MsgStop("Error...")
>           return nil
>     else
>           oPrn:CharSet(255)
>           oPrn:setfont('Lucida Console',,11,,,,255)
>     endif
>  oPrn:TextOut 
> (' 
>  ',.t.)
> oPrn:EndDoc()
>
> Before run ok show =======, now show wrong results  '' in paper 
> of
> print.
>
>
> Best regards,
> Itamar M. Lins Jr.
>
>
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour



From druzus at users.sourceforge.net  Sun Oct 18 07:47:28 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Oct 18 07:47:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12723] trunk/harbour
Message-ID: <E1MzUES-0000zm-FY@d5vjzd1.ch3.sourceforge.com>

Revision: 12723
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12723&view=rev
Author:   druzus
Date:     2009-10-18 11:47:24 +0000 (Sun, 18 Oct 2009)

Log Message:
-----------
2009-10-18 13:47 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbsocket.h
  * harbour/src/rtl/hbsocket.c
    * added new function b_socketResolveInetAddr()

  * harbour/ChangeLog
    * minor formatting

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbsocket.h
    trunk/harbour/src/rtl/hbsocket.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Oct 18 09:52:23 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Oct 18 09:52:34 2009
Subject: [Harbour] Re: Problem with win_prn class CHARSET.
In-Reply-To: <hbeuqs$a9s$1@ger.gmane.org>
References: <hbcmi7$cpn$1@ger.gmane.org>
	<3920B91E-B0B4-4F1A-812C-1CA73CDF101C@syenar.hu>
	<hbeuqs$a9s$1@ger.gmane.org>
Message-ID: <6926FAE8-FEEF-40F7-8B27-03F575C58282@syenar.hu>

Hi,

So you're using UNICODE build.

Two things have changed in recent versions:

1. MSVC 2005 and above will have UNICODE mode turned on by default.
    This may cause such sort of change in behavior you described, and  
it's
    intentionally turned on so that this mode, which is the future, be
    tested and app code adapted where needed.
    In UNICODE mode some things, in particular encoding handling may  
behave
    a little bit differently than in non-UNICODE, since Harbour has to  
do
    the CP conversion, rather than Windows itself.
2. Some forced ANSI WINAPI calls have been changed to use WIDE calls in
    UNICODE mode to make above described behavior consistent.

Your issue is probably caused by 1., which can mean two things:

a. UNICODE mode may not work without bugs in all places in Harbour.
    I hope these issues to be detected and fixed, if needed.
b. Even if UNICODE mode is bug-free, app level fixes may be
    required, such as properly setting codepage.

I hope UNICODE is not my personal pet in Harbour, so I also hope
others will comment on these issues, too. In fact I just switched
to UNICODE with recent builds also.

Finally I hope 3rd party developers will also recognize the
advantages of UNICODE mode and will eventually be synced with
core Harbour behavior in this aspect, like respecting Harbour
CP when doing conversions and using WIDE versions of functions
in UNICODE mode.

The goal is to have the same app code work without changes in
both UNICODE and non-UNICODE mode. This opens the door for such
future Harbour features, like internal UNICODE strings, which
seems like the ultimate goal.

Brgds,
Viktor

On 2009 Oct 18, at 13:38, Itamar Lins wrote:

> Hi,
> Thanks for response.
> I am using:
> D:\harbour\trunk\harbour>harbour -build
> Harbour 2.0.0beta3 (Rev. 12721)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
>
> Harbour Build Info
> ---------------------------
> Version: Harbour 2.0.0beta3 (Rev. 12721)
> Compiler: Microsoft Visual C++ 15.0.26569 (32-bit)
> Platform: Windows XP 5.1.2600 Service Pack 3
> PCode version: 0.2
> ChangeLog last entry: 2009-10-17 01:22 UTC+0200 Przemyslaw Czerpak
> (druzus/at/pr
> iv.onet.pl)
> ChangeLog ID: ChangeLog 12721 2009-10-16 23:22:41Z druzus
>
> Built on: Oct 17 2009 10:50:48
> Build options: (C++ mode)
> Language options: (Clipper 5.3) (Clipper 5.x undoc) (Xbase++)  
> (Flagship)
> ---------------------------
>
> My CodePage is:
> hb_setcodepage([PTISO])
> hb_langselect([PT])
>
> Ps. a few versions ago worked fine.
>
> Best regards,
> Itamar M. Lins Jr.
>
>
> "Viktor Szak?ts" <harbour.01@syenar.hu>
> escreveu na mensagem news:3920B91E-B0B4-4F1A-812C-1CA73CDF101C@syenar.hu 
> ...
> Hi Itamar,
>
> Exactly which compiler did you use here?
>
> In UNICODE builds you have to use Set( _SET_CODEPAGE )
> to set the CP you use in your app probably.
> Maybe other will have better suggestions.
>
> Brgds,
> Viktor
>
> On 2009 Oct 17, at 17:04, Itamar Lins wrote:
>
>> Hi!
>>
>> Function Test_Charset
>>
>>    oPrn := win_prn():New(GetDefaultPrinter())
>>    oPrn :LandScape := .f.
>>    oPrn :Copies    :=  1
>>    if !oPrn:Create()
>>       MsgStop("Fail...")
>>       return nil
>>    endif
>>
>>    if !oPrn:StartDoc("Print...")
>>          MsgStop("Error...")
>>          return nil
>>    else
>>          oPrn:CharSet(255)
>>          oPrn:setfont('Lucida Console',,11,,,,255)
>>    endif
>> oPrn:TextOut
>> ('???????????????????????????????????????????????????????????????????????????
>> ?',.t.)
>> oPrn:EndDoc()
>>
>> Before run ok show =======, now show wrong results   
>> '?????????' in paper
>> of
>> print.
>>
>>
>> Best regards,
>> Itamar M. Lins Jr.
>>
>>
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From dbtopas at dbtopas.lt  Sun Oct 18 10:05:56 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sun Oct 18 10:05:58 2009
Subject: [Harbour] SqlMix and dbcreated
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0CB@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909FFE@PINK.zycie.pzu>	<4AD86C8D.6050402@dbtopas.lt><FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0C7@PINK.zycie.pzu>	<4AD88C75.9000501@dbtopas.lt>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0CB@PINK.zycie.pzu>
Message-ID: <4ADB20C4.30305@dbtopas.lt>

Hi,


>> Yes, of cause. You just have to pass a connection parameter to 
>> RDDINFO(), DBUSEAREA(), etc. Or select current connections 
>> using RDDI_CONNECTION.
> 
> Do not understand :(
> For example I have 2 databases :
> 1 - oracle 
> 2 - sqlserwer


nConnection1 := RDDINFO(RDDI_CONNECT, ...)
nConnection2 := RDDINFO(RDDI_CONNECT, ...)

DBUSEAREA(..., nConnection1)
...
DBUSEAREA(..., nConnection2)
...
RDDINFO(RDDI_CONNECTION, nConnection1)
DBUSEAREA(...)  // nConnection1


> And another problem :(
> Now without problems create I tables, but this code :
> 
> 
> Are not inserted records.
> Commands caught from app, f.e.:
> 
> INSERT INTO posrednik values
> (0,0,'','','','91020403469','','','',Null,'','','','','','')
> 
> Are corretctly executed from toad or another tools, and records are
> inserted.
> I do not know where to find the cause :(

It should work the same. Are these queries (generated from your code and 
tested using another tools) exactly the same? Watch the values of 
RDDI_ERROR, RDDI_ERRORNO after query execution.


Regards,
Mindaugas

From dbtopas at dbtopas.lt  Sun Oct 18 10:13:45 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sun Oct 18 10:13:47 2009
Subject: [Harbour] HBMemIO and RDDADS
In-Reply-To: <veejd59hgr1ts4kjmjgn4sfq5f14rvgvhl@4ax.com>
References: <veejd59hgr1ts4kjmjgn4sfq5f14rvgvhl@4ax.com>
Message-ID: <4ADB2299.6060005@dbtopas.lt>

Hi,


> I'm trying to test hbmemio with RDDADS but I can't.  Is it possible?

No, ADS server is not a part of Harbour code, so, it can not use 
hbmemio.lib :)


Regards,
Mindaugas
From info at fsgiudice.com  Sun Oct 18 12:48:23 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Oct 18 12:48:36 2009
Subject: [Harbour] datetime conversion functions  request
Message-ID: <4ADB46D7.2090009@fsgiudice.com>

Hi Przemek,

could you kindly add these functions ?
HB_TTOD( tTimeStamp ) -> dDate
HB_TTOT( tTimeStamp ) -> cTime

Now if I have a timestamp value I need to make:
CTOD( HB_DTOC( tTimeStamp ) ) -> dDate
or better:
STOD( HB_TTOS( tTimeStamp ) ) -> dDate
and
HB_TTOC( tTimeStamp, "", "HH:MM:SS" ) -> cTime

Unless I'm missing some functions.

TIA

Best Regards,
Francesco
From bedipritpal at hotmail.com  Sun Oct 18 19:17:25 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Oct 18 19:17:32 2009
Subject: [Harbour] HBQT - More classes added but cannot make lib now
Message-ID: <25951480.post@talk.nabble.com>


Hello Viktor

In quest to implement one-to-one GC func relationship,
I had to add few more classes. After everything went fine on
compilation level I get this error when linker is called:

The input line is too long.
make[1]: *** [libhbqt.a] Error 255
make: *** [descend] Error 2


New input line is as:

( ar   rcs ../../../../../lib/win/mingw/libhbqt.a moc_slots.o hbqt_base.o
hbqt_utils.o hbqt_slots.o hbqt_destruct.o QAbstractButton.o
QAbstractItemDelegate.o QAbstractItemModel.o QAbstractItemView.o
QAbstractListModel.o QAbstractProxyModel.o QAbstractPrintDialog.o
QAbstractScrollArea.o QAbstractSlider.o QAbstractSpinBox.o
QAbstractTableModel.o QAbstractTextDocumentLayout.o QAction.o QActionGroup.o
QApplication.o QBitArray.o QBitmap.o QBoxLayout.o QBrush.o QButtonGroup.o
QByteArray.o QCalendarWidget.o QCheckBox.o QClipboard.o QColor.o
QColorDialog.o QComboBox.o QCommandLinkButton.o QCommonStyle.o QCompleter.o
QConicalGradient.o QContextMenuEvent.o QCoreApplication.o QCursor.o
QDataStream.o QDate.o QDateEdit.o QDateTime.o QDateTimeEdit.o
QDesktopWidget.o QDial.o QDialog.o QDir.o QDirModel.o QDockWidget.o
QDoubleSpinBox.o QDropEvent.o QDragMoveEvent.o QDragEnterEvent.o
QDragLeaveEvent.o QErrorMessage.o QEvent.o QEventLoop.o QFileDialog.o
QFileInfo.o QFile.o QFileIconProvider.o QFileSystemModel.o QFocusEvent.o
QFocusFrame.o QFont.o QFontComboBox.o QFontDatabase.o QFontDialog.o
QFontInfo.o QFontMetrics.o QFontMetricsF.o QFormLayout.o QFrame.o QFtp.o
QGradient.o QGridLayout.o QGroupBox.o QHBoxLayout.o QHeaderView.o
QHelpEvent.o QHttp.o QHttpRequestHeader.o QHttpResponseHeader.o QIcon.o
QInputContext.o QInputMethodEvent.o QImage.o QImageReader.o QImageWriter.o
QInputDialog.o QInputEvent.o QIODevice.o QItemSelection.o
QItemSelectionModel.o QKeyEvent.o QKeySequence.o QLabel.o QLatin1Char.o
QLatin1String.o QLayout.o QLayoutItem.o QLCDNumber.o QLine.o QLineF.o
QLinearGradient.o QLineEdit.o QList.o QListView.o QListWidget.o
QListWidgetItem.o QLocale.o QMainWindow.o QMatrix.o QMenu.o QMenuBar.o
QMessageBox.o QMimeData.o QModelIndex.o QMouseEvent.o QMoveEvent.o QMovie.o
QObject.o QPaintDevice.o QPainterPath.o QPageSetupDialog.o QPainter.o
QPaintEvent.o QPalette.o QPen.o QPicture.o QPixmap.o QPoint.o QPointF.o
QPolygon.o QPolygonF.o QPrintDialog.o QPrintEngine.o QPrinter.o
QPrintPreviewDialog.o QProcess.o QProgressBar.o QProgressDialog.o
QPushButton.o QRadialGradient.o QRadioButton.o QRect.o QRectF.o QRegion.o
QRegExp.o QResizeEvent.o QResource.o QScrollArea.o QScrollBar.o
QSessionManager.o QSignalMapper.o QSize.o QSizeF.o QSizeGrip.o QSizePolicy.o
QSlider.o QSound.o QSpacerItem.o QSpinBox.o QSplashScreen.o QSplitter.o
QStandardItem.o QStandardItemModel.o QStatusBar.o QStringList.o
QStringListModel.o QStyle.o QStyledItemDelegate.o QStyleFactory.o
QStyleHintReturn.o QStyleHintReturnMask.o QStyleHintReturnVariant.o
QStyleOption.o QStyleOptionButton.o QStyleOptionComboBox.o
QStyleOptionComplex.o QStyleOptionDockWidget.o QStyleOptionFocusRect.o
QStyleOptionFrame.o QStyleOptionGroupBox.o QStyleOptionHeader.o
QStyleOptionMenuItem.o QStyleOptionProgressBar.o QStyleOptionSizeGrip.o
QStyleOptionSlider.o QStyleOptionSpinBox.o QStyleOptionTab.o
QStyleOptionTabBarBase.o QStyleOptionTabWidgetFrame.o QStyleOptionTitleBar.o
QStyleOptionToolBar.o QStyleOptionToolBox.o QStyleOptionToolButton.o
QStyleOptionViewItem.o QStylePainter.o QSystemTrayIcon.o QTabBar.o
QTableView.o QTableWidget.o QTableWidgetItem.o QTabWidget.o
QTableWidgetSelectionRange.o QTextBlock.o QTextBlockFormat.o
QTextBlockGroup.o QTextBrowser.o QTextBoundaryFinder.o QTextCharFormat.o
QTextCodec.o QTextCursor.o QTextDecoder.o QTextDocument.o
QTextDocumentFragment.o QTextDocumentWriter.o QTextEdit.o QTextEncoder.o
QTextFormat.o QTextFragment.o QTextFrame.o QTextFrameFormat.o
QTextImageFormat.o QTextInlineObject.o QTextItem.o QTextLayout.o
QTextLength.o QTextLine.o QTextListFormat.o QTextObject.o QTextOption.o
QTextStream.o QTextTableFormat.o QThread.o QTime.o QTimeEdit.o QTimer.o
QToolBar.o QToolBox.o QToolButton.o QTransform.o QTranslator.o QTreeView.o
QTreeWidget.o QTreeWidgetItem.o QUrl.o QValidator.o QVariant.o QVBoxLayout.o
QWebFrame.o QWebHistory.o QWebHistoryInterface.o QWebHistoryItem.o
QWebHitTestResult.o QWebPage.o QWebPluginFactory.o QWebSecurityOrigin.o
QWebSettings.o QWebView.o QWheelEvent.o QWidget.o QWidgetAction.o
QWidgetItem.o QWindowsStyle.o QWindowsXPStyle.o QWizard.o QWizardPage.o
TQAbstractButton.o TQAbstractItemDelegate.o TQAbstractItemModel.o
TQAbstractItemView.o TQAbstractListModel.o TQAbstractProxyModel.o
TQAbstractPrintDialog.o TQAbstractScrollArea.o TQAbstractSlider.o
TQAbstractSpinBox.o TQAbstractTableModel.o TQAbstractTextDocumentLayout.o
TQAction.o TQActionGroup.o TQApplication.o TQBitArray.o TQBitmap.o
TQBoxLayout.o TQBrush.o TQButtonGroup.o TQByteArray.o TQCalendarWidget.o
TQCheckBox.o TQClipboard.o TQColor.o TQColorDialog.o TQComboBox.o
TQCommandLinkButton.o TQCommonStyle.o TQCompleter.o TQConicalGradient.o
TQContextMenuEvent.o TQCoreApplication.o TQCursor.o TQDataStream.o TQDate.o
TQDateEdit.o TQDateTime.o TQDateTimeEdit.o TQDesktopWidget.o TQDial.o
TQDialog.o TQDir.o TQDirModel.o TQDockWidget.o TQDoubleSpinBox.o
TQDropEvent.o TQDragMoveEvent.o TQDragEnterEvent.o TQDragLeaveEvent.o
TQErrorMessage.o TQEvent.o TQEventLoop.o TQFileDialog.o TQFileInfo.o
TQFile.o TQFileIconProvider.o TQFileSystemModel.o TQFocusEvent.o
TQFocusFrame.o TQFont.o TQFontComboBox.o TQFontDatabase.o TQFontDialog.o
TQFontInfo.o TQFontMetrics.o TQFontMetricsF.o TQFormLayout.o TQFrame.o
TQFtp.o TQGradient.o TQGridLayout.o TQGroupBox.o TQHBoxLayout.o
TQHeaderView.o TQHelpEvent.o TQHttp.o TQHttpRequestHeader.o
TQHttpResponseHeader.o TQIcon.o TQInputContext.o TQInputMethodEvent.o
TQImage.o TQImageReader.o TQImageWriter.o TQInputDialog.o TQInputEvent.o
TQIODevice.o TQItemSelection.o TQItemSelectionModel.o TQKeyEvent.o
TQKeySequence.o TQLabel.o TQLatin1Char.o TQLatin1String.o TQLayout.o
TQLayoutItem.o TQLCDNumber.o TQLine.o TQLineF.o TQLinearGradient.o
TQLineEdit.o TQList.o TQListView.o TQListWidget.o TQListWidgetItem.o
TQLocale.o TQMainWindow.o TQMatrix.o TQMenu.o TQMenuBar.o TQMessageBox.o
TQMimeData.o TQModelIndex.o TQMouseEvent.o TQMoveEvent.o TQMovie.o
TQObject.o TQPaintDevice.o TQPainterPath.o TQPageSetupDialog.o TQPainter.o
TQPaintEvent.o TQPalette.o TQPen.o TQPicture.o TQPixmap.o TQPoint.o
TQPointF.o TQPolygon.o TQPolygonF.o TQPrintDialog.o TQPrintEngine.o
TQPrinter.o TQPrintPreviewDialog.o TQProcess.o TQProgressBar.o
TQProgressDialog.o TQPushButton.o TQRadialGradient.o TQRadioButton.o
TQRect.o TQRectF.o TQRegion.o TQRegExp.o TQResizeEvent.o TQResource.o
TQScrollArea.o TQScrollBar.o TQSessionManager.o TQSignalMapper.o TQSize.o
TQSizeF.o TQSizeGrip.o TQSizePolicy.o TQSlider.o TQSound.o TQSpacerItem.o
TQSpinBox.o TQSplashScreen.o TQSplitter.o TQStandardItem.o
TQStandardItemModel.o TQStatusBar.o TQStringList.o TQStringListModel.o
TQStyle.o TQStyledItemDelegate.o TQStyleFactory.o TQStyleHintReturn.o
TQStyleHintReturnMask.o TQStyleHintReturnVariant.o TQStyleOption.o
TQStyleOptionButton.o TQStyleOptionComboBox.o TQStyleOptionComplex.o
TQStyleOptionDockWidget.o TQStyleOptionFocusRect.o TQStyleOptionFrame.o
TQStyleOptionGroupBox.o TQStyleOptionHeader.o TQStyleOptionMenuItem.o
TQStyleOptionProgressBar.o TQStyleOptionSizeGrip.o TQStyleOptionSlider.o
TQStyleOptionSpinBox.o TQStyleOptionTab.o TQStyleOptionTabBarBase.o
TQStyleOptionTabWidgetFrame.o TQStyleOptionTitleBar.o TQStyleOptionToolBar.o
TQStyleOptionToolBox.o TQStyleOptionToolButton.o TQStyleOptionViewItem.o
TQStylePainter.o TQSystemTrayIcon.o TQTabBar.o TQTableView.o TQTableWidget.o
TQTableWidgetItem.o TQTabWidget.o TQTableWidgetSelectionRange.o
TQTextBlock.o TQTextBlockFormat.o TQTextBlockGroup.o TQTextBrowser.o
TQTextBoundaryFinder.o TQTextCharFormat.o TQTextCodec.o TQTextCursor.o
TQTextDecoder.o TQTextDocument.o TQTextDocumentFragment.o
TQTextDocumentWriter.o TQTextEdit.o TQTextEncoder.o TQTextFormat.o
TQTextFragment.o TQTextFrame.o TQTextFrameFormat.o TQTextImageFormat.o
TQTextInlineObject.o TQTextItem.o TQTextLayout.o TQTextLength.o TQTextLine.o
TQTextListFormat.o TQTextObject.o TQTextOption.o TQTextStream.o
TQTextTableFormat.o TQThread.o TQTime.o TQTimeEdit.o TQTimer.o TQToolBar.o
TQToolBox.o TQToolButton.o TQTransform.o TQTranslator.o TQTreeView.o
TQTreeWidget.o TQTreeWidgetItem.o TQUrl.o TQValidator.o TQVariant.o
TQVBoxLayout.o TQWebFrame.o TQWebHistory.o TQWebHistoryInterface.o
TQWebHistoryItem.o TQWebHitTestResult.o TQWebPage.o TQWebPluginFactory.o
TQWebSecurityOrigin.o TQWebSettings.o TQWebView.o TQWheelEvent.o TQWidget.o
TQWidgetAction.o TQWidgetItem.o TQWindowsStyle.o TQWindowsXPStyle.o
TQWizard.o TQWizardPage.o  ) || del /q /f
..\..\..\..\..\lib\win\mingw\libhbqt.a

Any remedy you can suggest?
Note that I cannot rever back or exclude classes because of
interdependancies.

I am struck, akind of.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HBQT---More-classes-added-but-cannot-make-lib-now-tp25951480p25951480.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From april at users.sourceforge.net  Sun Oct 18 19:39:25 2009
From: april at users.sourceforge.net (april@users.sourceforge.net)
Date: Sun Oct 18 19:39:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12724] trunk/harbour
Message-ID: <E1MzfLR-0001zk-2Y@bj8yhf1.ch3.sourceforge.com>

Revision: 12724
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12724&view=rev
Author:   april
Date:     2009-10-18 23:39:23 +0000 (Sun, 18 Oct 2009)

Log Message:
-----------
  + harbour/doc/en-en/1stread.txt
    ! initial version of a 'doc' formatted 'read-me' file
  + harbour/doc/en-en/hashes.txt
    ! initial version of hashes doc
  * harbour/doc/cmpopt.txt
  * harbour/doc/destruct.txt
  * harbour/doc/en-en/array.txt
  * harbour/doc/en-en/command.txt
  * harbour/doc/en-en/dbstrux.txt
  * harbour/doc/en-en/gnulice.txt
  * harbour/doc/en-en/rddmisc.txt
  * harbour/doc/en-en/set.txt
  * harbour/doc/en-en/strotype.txt
      * minor formatting

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/cmpopt.txt
    trunk/harbour/doc/destruct.txt
    trunk/harbour/doc/en-EN/array.txt
    trunk/harbour/doc/en-EN/command.txt
    trunk/harbour/doc/en-EN/dbstrux.txt
    trunk/harbour/doc/en-EN/gnulice.txt
    trunk/harbour/doc/en-EN/rddmisc.txt
    trunk/harbour/doc/en-EN/set.txt
    trunk/harbour/doc/en-EN/strotype.txt

Added Paths:
-----------
    trunk/harbour/doc/en-EN/1stread.txt
    trunk/harbour/doc/en-EN/hashes.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sun Oct 18 19:41:47 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Oct 18 19:41:54 2009
Subject: [Harbour] HBQT - A Clarification
Message-ID: <25951642.post@talk.nabble.com>


Hello Przemek, All

HB_GARBAGE_FUNC( release_QMainWindow )
{
   void ** ph = ( void ** ) Cargo;

   if( ph && * ph )
   {
      delete ( ( QMainWindow * ) * ph );

      * ph = NULL;
   }
}

HB_FUNC( QT_QMAINWINDOW )
{
   void ** ph = ( void ** ) hb_gcAlloc( sizeof( void * ),
release_QMainWindow );
   QPointer< QMainWindow > pObj = NULL;

   pObj = new QMainWindow( hbqt_par_QWidget( 1 ), ( Qt::WindowFlags )
hb_parni( 2 ) ) ;

   * ph = pObj;
   hb_retptrGC( ph );
}

The access function:

#define hbqt_par_QMainWindow( n )   ( ( QMainWindow  * ) hbqt_gcpointer( n,
relese_QMainWindow ) )

void * hbqt_gcpointer( int iParam, HB_GARBAGE_FUNC_PTR pFunc )
{
   void ** ph = ( void ** ) hb_parptrGC( pFunc, iParam );

   /////////////////////////
   //
   //                At this point <pFunc> is not NULL but <ph> is NULL 
   //
   /////////////////////////

   return ( ph && * ph ? * ph : hb_parptr( iParam ) );
}

PRG Call:
   oWnd := QMainWindow():new()
   oWnd:anyAction()       =>    GPFs

What I am doing wrong ?

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/HBQT---A-Clarification-tp25951642p25951642.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Mon Oct 19 00:16:04 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Oct 19 00:16:16 2009
Subject: [Harbour] HBQT - A Clarification
In-Reply-To: <25951642.post@talk.nabble.com>
References: <25951642.post@talk.nabble.com>
Message-ID: <25953123.post@talk.nabble.com>


Hello All


Pritpal Bedi wrote:
> 
> HB_GARBAGE_FUNC( release_QMainWindow )
> {
>    void ** ph = ( void ** ) Cargo;
> 
>    if( ph && * ph )
>    {
>       delete ( ( QMainWindow * ) * ph );
> 
>       * ph = NULL;
>    }
> }
> 
> HB_FUNC( QT_QMAINWINDOW )
> {
>    void ** ph = ( void ** ) hb_gcAlloc( sizeof( void * ),
> release_QMainWindow );
>    QPointer< QMainWindow > pObj = NULL;
> 
>    pObj = new QMainWindow( hbqt_par_QWidget( 1 ), ( Qt::WindowFlags )
> hb_parni( 2 ) ) ;
> 
>    * ph = pObj;
>    hb_retptrGC( ph );
> }
> 
> The access function:
> 
> #define hbqt_par_QMainWindow( n )   ( ( QMainWindow  * ) hbqt_gcpointer(
> n, relese_QMainWindow ) )
> 
> void * hbqt_gcpointer( int iParam, HB_GARBAGE_FUNC_PTR pFunc )
> {
>    void ** ph = ( void ** ) hb_parptrGC( pFunc, iParam );
> 
>    /////////////////////////
>    //
>    //                At this point <pFunc> is not NULL but <ph> is NULL 
>    //
>    /////////////////////////
> 
>    return ( ph && * ph ? * ph : hb_parptr( iParam ) );
> }
> 
> PRG Call:
>    oWnd := QMainWindow():new()
>    oWnd:anyAction()       =>    GPFs
> 

Nothing wrong. Code is correct. GPF is due to way 
.prg class structure passes pointer to parent class and then 
the methods of parent class cast the pointers to its native garbage pointer.

Let's analyze:

oWnd := QMainWindow():new()  => Returns the correct pointer and all those
methods
                                                which are contained in
QMainWindow() class behave 
                                                correctly.

oWnd:show() => Method "show" is the method of parent class QWidget and hence
the pointer 
                       is passed to QWidget:show() which in .cpp is called
like:

HB_FUNC( QT_QWIDGET_SHOW )
{
   hbqt_par_QWidget( 1 )->show();
}

and 

hbqt_par_QWidget( n ) is defined as  ( ( QWidget * ) hbqt_gcpointer( n,
release_QWidget ) )
   whereas the pointer is intended to be called as 
hbqt_par_QMainWindow( n )  =>  ( ( QMainWindow * ) hbqt_gcpointer( n,
release_QMainWindow ) )
  
As GC pointers need a function pointer to execute, it is simply out of
question to have 
one-to-one hirarchy due to complex class structure and the way pointers are
type casted dynamically. 
This only is possible as per my previous commit, so I am goint to stick with
that.

But juggling with all the above I have discoved one more fact and that is
that our current 
implementation of HBQT lib is half cooked. I mean a lot more classes need to
be added 
in turn to access all the methods contained in all the classes. I have all
those classes ready to be 
committed but now face the problem of 8 kb command line limit to the mingw
linker.

What the group advises ?

BTW what is the overhead if one more structure to hold the GC structure as
per previous commit ?
Is not it destructed while GC function is called ? Note that repleasing the
memory is much more 
important then Harbour pointer which we know how to deal with.

Waiting for feedback.

Regards
Pritpal Bedi


       

-- 
View this message in context: http://www.nabble.com/HBQT---A-Clarification-tp25951642p25953123.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Mon Oct 19 03:24:03 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Oct 19 03:24:10 2009
Subject: [Harbour] HBQT - A Clarification
In-Reply-To: <25953123.post@talk.nabble.com>
References: <25951642.post@talk.nabble.com>
 <25953123.post@talk.nabble.com>
Message-ID: <20091019072403.GA10588@linux-8af1.home.aster.pl>

On Sun, 18 Oct 2009, Pritpal Bedi wrote:

Hi Pritpal,

[...]
> > void * hbqt_gcpointer( int iParam, HB_GARBAGE_FUNC_PTR pFunc )
> > {
> >    void ** ph = ( void ** ) hb_parptrGC( pFunc, iParam );
> >    return ( ph && * ph ? * ph : hb_parptr( iParam ) );
> > }
> > PRG Call:
> >    oWnd := QMainWindow():new()
> >    oWnd:anyAction()       =>    GPFs
> Nothing wrong. Code is correct. GPF is due to way 
> .prg class structure passes pointer to parent class and then 
> the methods of parent class cast the pointers to its native garbage pointer.

I do not think so. Any code like:
   return ( ph && * ph ? * ph : hb_parptr( iParam ) );
is potential source of GPF. If ph is NULL then user passed wrong parameter.
If *ph is NULL then parameter was freed by QT. In such context using
   hb_parptr( iParam )
breaks functionality given by using QPointer class because the fact that
references were cleared is ignored and code code access wrong memory
area. It can be source of any other unexpected behavior so it's hard to
analyze your problems because it's possible that they are caused by above
peace of code.

> Let's analyze:
[...]
> HB_FUNC( QT_QWIDGET_SHOW )
> {
>    hbqt_par_QWidget( 1 )->show();
> }

This is also very bad code. It does not check if pointer returned by
hbqt_par_QWidget( 1 ) is not NULL so it will simply GPF when other code
(detection of freed pointer or wrong user parameters) will work as expected.
I strongly suggest to introduce RT errors and at least basic parameter
verification, i.e.:

void * hbqt_gcpointerRTE( int iParam, HB_GARBAGE_FUNC_PTR pFunc )
{
   void ** ph = ( void ** ) hb_parptrGC( pFunc, iParam );
   if( ph && * ph )
      return * ph;
   hb_errRT_BASE( EG_ARG, 1123, NULL, HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );
   return NULL;
}

#define hbqt_par_QWidget( n )       \
                  ( ( QWidget * ) hbqt_gcpointerRTE( n, release_QWidget ) )

[...]

HB_FUNC( QT_QWIDGET_SHOW )
{
   QWidget * qw = hbqt_par_QWidget( 1 );
   if( qw )
   {
      qw->show();
   }
}

otherwise you will have to fight with unexpected GPFs and it will be very
hard to introduce extensions without touching most of existing code so
it's very important to encode basic parameters validation at beginning
and then only extend it.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Oct 19 03:26:03 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Oct 19 03:26:14 2009
Subject: [Harbour] HBQT - More classes added but cannot make lib now
In-Reply-To: <25951480.post@talk.nabble.com>
References: <25951480.post@talk.nabble.com>
Message-ID: <89D3D639-D8B5-4EA2-8E76-34792837D003@syenar.hu>

Hi Pritpal,

HBQT became very large. We shall split it to multiple libs as
shortly discussed it recently. Best would be to split it along
the QT .dll structure:

/contrib/hbqt/qtcore
/contrib/hbqt/qtgui
/contrib/hbqt/qtnetwork
/contrib/hbqt/qtwebkit

These would remain as is:
/contrib/hbqt/doc
/contrib/hbqt/qth
/contrib/hbqt/tests
/contrib/hbqt/generator

Alternatively we can start hacking make files (msvc and mingw),
but I'd think this isn't the right solution in this case.

Brgds,
Viktor

On 2009 Oct 19, at 01:17, Pritpal Bedi wrote:

>
> Hello Viktor
>
> In quest to implement one-to-one GC func relationship,
> I had to add few more classes. After everything went fine on
> compilation level I get this error when linker is called:
>
> The input line is too long.
> make[1]: *** [libhbqt.a] Error 255
> make: *** [descend] Error 2
>
>
> New input line is as:
>
> ( ar   rcs ../../../../../lib/win/mingw/libhbqt.a moc_slots.o  
> hbqt_base.o
> hbqt_utils.o hbqt_slots.o hbqt_destruct.o QAbstractButton.o
> QAbstractItemDelegate.o QAbstractItemModel.o QAbstractItemView.o
> QAbstractListModel.o QAbstractProxyModel.o QAbstractPrintDialog.o
> QAbstractScrollArea.o QAbstractSlider.o QAbstractSpinBox.o
> QAbstractTableModel.o QAbstractTextDocumentLayout.o QAction.o  
> QActionGroup.o
> QApplication.o QBitArray.o QBitmap.o QBoxLayout.o QBrush.o  
> QButtonGroup.o
> QByteArray.o QCalendarWidget.o QCheckBox.o QClipboard.o QColor.o
> QColorDialog.o QComboBox.o QCommandLinkButton.o QCommonStyle.o  
> QCompleter.o
> QConicalGradient.o QContextMenuEvent.o QCoreApplication.o QCursor.o
> QDataStream.o QDate.o QDateEdit.o QDateTime.o QDateTimeEdit.o
> QDesktopWidget.o QDial.o QDialog.o QDir.o QDirModel.o QDockWidget.o
> QDoubleSpinBox.o QDropEvent.o QDragMoveEvent.o QDragEnterEvent.o
> QDragLeaveEvent.o QErrorMessage.o QEvent.o QEventLoop.o QFileDialog.o
> QFileInfo.o QFile.o QFileIconProvider.o QFileSystemModel.o  
> QFocusEvent.o
> QFocusFrame.o QFont.o QFontComboBox.o QFontDatabase.o QFontDialog.o
> QFontInfo.o QFontMetrics.o QFontMetricsF.o QFormLayout.o QFrame.o  
> QFtp.o
> QGradient.o QGridLayout.o QGroupBox.o QHBoxLayout.o QHeaderView.o
> QHelpEvent.o QHttp.o QHttpRequestHeader.o QHttpResponseHeader.o  
> QIcon.o
> QInputContext.o QInputMethodEvent.o QImage.o QImageReader.o  
> QImageWriter.o
> QInputDialog.o QInputEvent.o QIODevice.o QItemSelection.o
> QItemSelectionModel.o QKeyEvent.o QKeySequence.o QLabel.o  
> QLatin1Char.o
> QLatin1String.o QLayout.o QLayoutItem.o QLCDNumber.o QLine.o QLineF.o
> QLinearGradient.o QLineEdit.o QList.o QListView.o QListWidget.o
> QListWidgetItem.o QLocale.o QMainWindow.o QMatrix.o QMenu.o QMenuBar.o
> QMessageBox.o QMimeData.o QModelIndex.o QMouseEvent.o QMoveEvent.o  
> QMovie.o
> QObject.o QPaintDevice.o QPainterPath.o QPageSetupDialog.o QPainter.o
> QPaintEvent.o QPalette.o QPen.o QPicture.o QPixmap.o QPoint.o  
> QPointF.o
> QPolygon.o QPolygonF.o QPrintDialog.o QPrintEngine.o QPrinter.o
> QPrintPreviewDialog.o QProcess.o QProgressBar.o QProgressDialog.o
> QPushButton.o QRadialGradient.o QRadioButton.o QRect.o QRectF.o  
> QRegion.o
> QRegExp.o QResizeEvent.o QResource.o QScrollArea.o QScrollBar.o
> QSessionManager.o QSignalMapper.o QSize.o QSizeF.o QSizeGrip.o  
> QSizePolicy.o
> QSlider.o QSound.o QSpacerItem.o QSpinBox.o QSplashScreen.o  
> QSplitter.o
> QStandardItem.o QStandardItemModel.o QStatusBar.o QStringList.o
> QStringListModel.o QStyle.o QStyledItemDelegate.o QStyleFactory.o
> QStyleHintReturn.o QStyleHintReturnMask.o QStyleHintReturnVariant.o
> QStyleOption.o QStyleOptionButton.o QStyleOptionComboBox.o
> QStyleOptionComplex.o QStyleOptionDockWidget.o QStyleOptionFocusRect.o
> QStyleOptionFrame.o QStyleOptionGroupBox.o QStyleOptionHeader.o
> QStyleOptionMenuItem.o QStyleOptionProgressBar.o  
> QStyleOptionSizeGrip.o
> QStyleOptionSlider.o QStyleOptionSpinBox.o QStyleOptionTab.o
> QStyleOptionTabBarBase.o QStyleOptionTabWidgetFrame.o  
> QStyleOptionTitleBar.o
> QStyleOptionToolBar.o QStyleOptionToolBox.o QStyleOptionToolButton.o
> QStyleOptionViewItem.o QStylePainter.o QSystemTrayIcon.o QTabBar.o
> QTableView.o QTableWidget.o QTableWidgetItem.o QTabWidget.o
> QTableWidgetSelectionRange.o QTextBlock.o QTextBlockFormat.o
> QTextBlockGroup.o QTextBrowser.o QTextBoundaryFinder.o  
> QTextCharFormat.o
> QTextCodec.o QTextCursor.o QTextDecoder.o QTextDocument.o
> QTextDocumentFragment.o QTextDocumentWriter.o QTextEdit.o  
> QTextEncoder.o
> QTextFormat.o QTextFragment.o QTextFrame.o QTextFrameFormat.o
> QTextImageFormat.o QTextInlineObject.o QTextItem.o QTextLayout.o
> QTextLength.o QTextLine.o QTextListFormat.o QTextObject.o  
> QTextOption.o
> QTextStream.o QTextTableFormat.o QThread.o QTime.o QTimeEdit.o  
> QTimer.o
> QToolBar.o QToolBox.o QToolButton.o QTransform.o QTranslator.o  
> QTreeView.o
> QTreeWidget.o QTreeWidgetItem.o QUrl.o QValidator.o QVariant.o  
> QVBoxLayout.o
> QWebFrame.o QWebHistory.o QWebHistoryInterface.o QWebHistoryItem.o
> QWebHitTestResult.o QWebPage.o QWebPluginFactory.o  
> QWebSecurityOrigin.o
> QWebSettings.o QWebView.o QWheelEvent.o QWidget.o QWidgetAction.o
> QWidgetItem.o QWindowsStyle.o QWindowsXPStyle.o QWizard.o  
> QWizardPage.o
> TQAbstractButton.o TQAbstractItemDelegate.o TQAbstractItemModel.o
> TQAbstractItemView.o TQAbstractListModel.o TQAbstractProxyModel.o
> TQAbstractPrintDialog.o TQAbstractScrollArea.o TQAbstractSlider.o
> TQAbstractSpinBox.o TQAbstractTableModel.o  
> TQAbstractTextDocumentLayout.o
> TQAction.o TQActionGroup.o TQApplication.o TQBitArray.o TQBitmap.o
> TQBoxLayout.o TQBrush.o TQButtonGroup.o TQByteArray.o  
> TQCalendarWidget.o
> TQCheckBox.o TQClipboard.o TQColor.o TQColorDialog.o TQComboBox.o
> TQCommandLinkButton.o TQCommonStyle.o TQCompleter.o  
> TQConicalGradient.o
> TQContextMenuEvent.o TQCoreApplication.o TQCursor.o TQDataStream.o  
> TQDate.o
> TQDateEdit.o TQDateTime.o TQDateTimeEdit.o TQDesktopWidget.o TQDial.o
> TQDialog.o TQDir.o TQDirModel.o TQDockWidget.o TQDoubleSpinBox.o
> TQDropEvent.o TQDragMoveEvent.o TQDragEnterEvent.o TQDragLeaveEvent.o
> TQErrorMessage.o TQEvent.o TQEventLoop.o TQFileDialog.o TQFileInfo.o
> TQFile.o TQFileIconProvider.o TQFileSystemModel.o TQFocusEvent.o
> TQFocusFrame.o TQFont.o TQFontComboBox.o TQFontDatabase.o  
> TQFontDialog.o
> TQFontInfo.o TQFontMetrics.o TQFontMetricsF.o TQFormLayout.o TQFrame.o
> TQFtp.o TQGradient.o TQGridLayout.o TQGroupBox.o TQHBoxLayout.o
> TQHeaderView.o TQHelpEvent.o TQHttp.o TQHttpRequestHeader.o
> TQHttpResponseHeader.o TQIcon.o TQInputContext.o TQInputMethodEvent.o
> TQImage.o TQImageReader.o TQImageWriter.o TQInputDialog.o  
> TQInputEvent.o
> TQIODevice.o TQItemSelection.o TQItemSelectionModel.o TQKeyEvent.o
> TQKeySequence.o TQLabel.o TQLatin1Char.o TQLatin1String.o TQLayout.o
> TQLayoutItem.o TQLCDNumber.o TQLine.o TQLineF.o TQLinearGradient.o
> TQLineEdit.o TQList.o TQListView.o TQListWidget.o TQListWidgetItem.o
> TQLocale.o TQMainWindow.o TQMatrix.o TQMenu.o TQMenuBar.o  
> TQMessageBox.o
> TQMimeData.o TQModelIndex.o TQMouseEvent.o TQMoveEvent.o TQMovie.o
> TQObject.o TQPaintDevice.o TQPainterPath.o TQPageSetupDialog.o  
> TQPainter.o
> TQPaintEvent.o TQPalette.o TQPen.o TQPicture.o TQPixmap.o TQPoint.o
> TQPointF.o TQPolygon.o TQPolygonF.o TQPrintDialog.o TQPrintEngine.o
> TQPrinter.o TQPrintPreviewDialog.o TQProcess.o TQProgressBar.o
> TQProgressDialog.o TQPushButton.o TQRadialGradient.o TQRadioButton.o
> TQRect.o TQRectF.o TQRegion.o TQRegExp.o TQResizeEvent.o TQResource.o
> TQScrollArea.o TQScrollBar.o TQSessionManager.o TQSignalMapper.o  
> TQSize.o
> TQSizeF.o TQSizeGrip.o TQSizePolicy.o TQSlider.o TQSound.o  
> TQSpacerItem.o
> TQSpinBox.o TQSplashScreen.o TQSplitter.o TQStandardItem.o
> TQStandardItemModel.o TQStatusBar.o TQStringList.o TQStringListModel.o
> TQStyle.o TQStyledItemDelegate.o TQStyleFactory.o TQStyleHintReturn.o
> TQStyleHintReturnMask.o TQStyleHintReturnVariant.o TQStyleOption.o
> TQStyleOptionButton.o TQStyleOptionComboBox.o TQStyleOptionComplex.o
> TQStyleOptionDockWidget.o TQStyleOptionFocusRect.o  
> TQStyleOptionFrame.o
> TQStyleOptionGroupBox.o TQStyleOptionHeader.o TQStyleOptionMenuItem.o
> TQStyleOptionProgressBar.o TQStyleOptionSizeGrip.o  
> TQStyleOptionSlider.o
> TQStyleOptionSpinBox.o TQStyleOptionTab.o TQStyleOptionTabBarBase.o
> TQStyleOptionTabWidgetFrame.o TQStyleOptionTitleBar.o  
> TQStyleOptionToolBar.o
> TQStyleOptionToolBox.o TQStyleOptionToolButton.o  
> TQStyleOptionViewItem.o
> TQStylePainter.o TQSystemTrayIcon.o TQTabBar.o TQTableView.o  
> TQTableWidget.o
> TQTableWidgetItem.o TQTabWidget.o TQTableWidgetSelectionRange.o
> TQTextBlock.o TQTextBlockFormat.o TQTextBlockGroup.o TQTextBrowser.o
> TQTextBoundaryFinder.o TQTextCharFormat.o TQTextCodec.o TQTextCursor.o
> TQTextDecoder.o TQTextDocument.o TQTextDocumentFragment.o
> TQTextDocumentWriter.o TQTextEdit.o TQTextEncoder.o TQTextFormat.o
> TQTextFragment.o TQTextFrame.o TQTextFrameFormat.o TQTextImageFormat.o
> TQTextInlineObject.o TQTextItem.o TQTextLayout.o TQTextLength.o  
> TQTextLine.o
> TQTextListFormat.o TQTextObject.o TQTextOption.o TQTextStream.o
> TQTextTableFormat.o TQThread.o TQTime.o TQTimeEdit.o TQTimer.o  
> TQToolBar.o
> TQToolBox.o TQToolButton.o TQTransform.o TQTranslator.o TQTreeView.o
> TQTreeWidget.o TQTreeWidgetItem.o TQUrl.o TQValidator.o TQVariant.o
> TQVBoxLayout.o TQWebFrame.o TQWebHistory.o TQWebHistoryInterface.o
> TQWebHistoryItem.o TQWebHitTestResult.o TQWebPage.o  
> TQWebPluginFactory.o
> TQWebSecurityOrigin.o TQWebSettings.o TQWebView.o TQWheelEvent.o  
> TQWidget.o
> TQWidgetAction.o TQWidgetItem.o TQWindowsStyle.o TQWindowsXPStyle.o
> TQWizard.o TQWizardPage.o  ) || del /q /f
> ..\..\..\..\..\lib\win\mingw\libhbqt.a
>
> Any remedy you can suggest?
> Note that I cannot rever back or exclude classes because of
> interdependancies.
>
> I am struck, akind of.
>
> Regards
> Pritpal Bedi
>
> -- 
> View this message in context: http://www.nabble.com/HBQT---More-classes-added-but-cannot-make-lib-now-tp25951480p25951480.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Mon Oct 19 03:49:19 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Oct 19 03:49:25 2009
Subject: [Harbour] datetime conversion functions  request
In-Reply-To: <4ADB46D7.2090009@fsgiudice.com>
References: <4ADB46D7.2090009@fsgiudice.com>
Message-ID: <20091019074918.GB10588@linux-8af1.home.aster.pl>

On Sun, 18 Oct 2009, Francesco Saverio Giudice wrote:

Hi,

> could you kindly add these functions ?
> HB_TTOD( tTimeStamp ) -> dDate

I'll add it though it's interesting to know why you need it.
You can you tTimeStamp instead of dDate in all places so if you found
something in core code which needs date parameter and does not accept
timestamp then I would like to know what it is.

BTW xHarbour does not have DATE type at all. Though valtype() returns "D"
then it uses internally only TIMESTAMP and I haven't seen that people
protested against it.

> Now if I have a timestamp value I need to make:
> CTOD( HB_DTOC( tTimeStamp ) ) -> dDate
> or better:
> STOD( HB_TTOS( tTimeStamp ) ) -> dDate

More efficient is:

   function HB_TTOD( tTimeStamp )
   return HB_CTOD( "" ) + HB_TTON( tTimeStamp )

> HB_TTOT( tTimeStamp ) -> cTime

Here the name is confusing.
I though that you need function which works like:

   function HB_TTOT( tTimeStamp )
   return HB_NTOT( HB_TTON( tTimeStamp ) % 1 )

which returns timestamp value which contains only the time in a day
without days but then I've seen your example which returns time string:

> HB_TTOC( tTimeStamp, "", "HH:MM:SS" ) -> cTime

So we need other name for such function and there is still question
what is wrong with above conversion and why you do not want to use
HB_TTOC().
As far as I know no one suggested to add to core code functions like:
   HB_DTOANSI( dDate ) -> "YY.MM.DD"
or:
   HB_DTOBRITISH( dDate ) -> "dd/mm/yy"
which give such functionality but for date values and people preferred
functions like HB_DTOC() with additional format parameter.

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Oct 19 04:55:29 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Oct 19 04:55:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12725] trunk/harbour
Message-ID: <E1Mzo1Z-0008An-0Q@c3vjzd1.ch3.sourceforge.com>

Revision: 12725
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12725&view=rev
Author:   druzus
Date:     2009-10-19 08:55:27 +0000 (Mon, 19 Oct 2009)

Log Message:
-----------
2009-10-19 10:55 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/cdpapi.c
  * harbour/include/hbapicdp.h
    + added new functions: hb_cdpStrnToU16LE() and hb_cdpStringInU16Length()

  * harbour/contrib/rddads/rddads.h
    ! define (if not defined) x64 macro in all 64bit builds not only for
      MinGW64
    * define (if not defined) unix macro in all HB_OS_UNIX builds not only
      for Linux. TOCHECK: CygWIN builds.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/rddads.h
    trunk/harbour/include/hbapicdp.h
    trunk/harbour/src/rtl/cdpapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Mon Oct 19 05:54:06 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Oct 19 05:54:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12726] trunk/harbour
Message-ID: <E1MzowI-0004cw-CD@3kljzd1.ch3.sourceforge.com>

Revision: 12726
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12726&view=rev
Author:   druzus
Date:     2009-10-19 09:54:05 +0000 (Mon, 19 Oct 2009)

Log Message:
-----------
2009-10-19 11:53 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbexprb.c
    ! always optimized ASC() and LEN() functions (was disabled by -kc switch).
      These optimizations are not Harbour extensions - Clipper also optimize
      above functions

  * harbour/doc/cmpopt.txt
    * updated optimization description

  * harbour/doc/pp.txt
    + added information about new lexer

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/cmpopt.txt
    trunk/harbour/doc/pp.txt
    trunk/harbour/include/hbexprb.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Mon Oct 19 06:50:57 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Oct 19 06:51:05 2009
Subject: [Harbour] datetime conversion functions  request
In-Reply-To: <20091019074918.GB10588@linux-8af1.home.aster.pl>
References: <4ADB46D7.2090009@fsgiudice.com>
	<20091019074918.GB10588@linux-8af1.home.aster.pl>
Message-ID: <4ADC4491.8020706@fsgiudice.com>

Hi Przemek,

Il 19/10/2009 9.49, Przemys?aw Czerpak ha scritto:
> On Sun, 18 Oct 2009, Francesco Saverio Giudice wrote:
> 
> Hi,
> 
>> could you kindly add these functions ?
>> HB_TTOD( tTimeStamp ) -> dDate
> 
> I'll add it though it's interesting to know why you need it.
> You can you tTimeStamp instead of dDate in all places so if you found
> something in core code which needs date parameter and does not accept
> timestamp then I would like to know what it is.
> 

Infact is not for core code, but for functions that have "old" 
parameters separated like MyFunc( dDate, cTime ) and in case of explicit 
check of date and time like:

    ? "cTime      = ", cTime := Time()
    ? "dDate      = ", dDate := Date()
    ? "tTimeStamp = ", tTimeStamp := hb_DateTime()

    ? dDate == tTimeStamp // it returns .F.
    ? cTime == tTimeStamp // this gives "Error BASE/1070  Argument 
error: =="

> BTW xHarbour does not have DATE type at all. Though valtype() returns "D"
> then it uses internally only TIMESTAMP and I haven't seen that people
> protested against it.
> 
>> Now if I have a timestamp value I need to make:
>> CTOD( HB_DTOC( tTimeStamp ) ) -> dDate
>> or better:
>> STOD( HB_TTOS( tTimeStamp ) ) -> dDate
> 
> More efficient is:
> 
>    function HB_TTOD( tTimeStamp )
>    return HB_CTOD( "" ) + HB_TTON( tTimeStamp )
> 

Thank you

>> HB_TTOT( tTimeStamp ) -> cTime
> 
> Here the name is confusing.
> I though that you need function which works like:
> 
>    function HB_TTOT( tTimeStamp )
>    return HB_NTOT( HB_TTON( tTimeStamp ) % 1 )
> 
> which returns timestamp value which contains only the time in a day
> without days but then I've seen your example which returns time string:
> 
>> HB_TTOC( tTimeStamp, "", "HH:MM:SS" ) -> cTime
> 
> So we need other name for such function and there is still question
> what is wrong with above conversion and why you do not want to use
> HB_TTOC().
> As far as I know no one suggested to add to core code functions like:
>    HB_DTOANSI( dDate ) -> "YY.MM.DD"
> or:
>    HB_DTOBRITISH( dDate ) -> "dd/mm/yy"
> which give such functionality but for date values and people preferred
> functions like HB_DTOC() with additional format parameter.
> 
I have not request formatting functions, simply functions that extract 
date and time parts from a timestamp value.

But I can do the same using #xtranslate command or adding function at 
prg level. My request is only to have a core function if this is faster 
than using prg functions.

About names mine was only a proposal.

Thank you and Best Regards,
Francesco

From M.Horodyski at pzuzycie.com.pl  Mon Oct 19 06:53:46 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Oct 19 06:53:56 2009
Subject: [Harbour] SqlMix and dbcreated
In-Reply-To: <4ADB20C4.30305@dbtopas.lt>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909FFE@PINK.zycie.pzu>	<4AD86C8D.6050402@dbtopas.lt><FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0C7@PINK.zycie.pzu>	<4AD88C75.9000501@dbtopas.lt><FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0CB@PINK.zycie.pzu>
	<4ADB20C4.30305@dbtopas.lt>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C950290A1F0@PINK.zycie.pzu>

>-----Original Message-----
>From: Mindaugas Kavaliauskas [mailto:dbtopas@dbtopas.lt] 
>Sent: Sunday, October 18, 2009 4:06 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] SqlMix and dbcreated

Hi :)

>nConnection1 := RDDINFO(RDDI_CONNECT, ...)
>nConnection2 := RDDINFO(RDDI_CONNECT, ...)
>
>DBUSEAREA(..., nConnection1)

In dbUseArea nConnection can be on 8 item/position. 
That is nowhere in the documentation
Afther this I can inserted after dbAppend() and RDD_INFO( RDD_EXECUTE,
...)

>> INSERT INTO posrednik values
>> (0,0,'','','','91020403469','','','',Null,'','','','','','')

Insert can be without semocolon on end.

>RDDI_ERROR, RDDI_ERRORNO after query execution.

Its return 1, but records inserted :)
Where can I to read the meaning of return ? 
Where can I find an example how full use of them ?

I use now :

? RDDINFO( RDDI_EXECUTE, insert, 'SQLMIX', connect)
Or 
? RDDINFO( RDDI_EXECUTE, insert, 'SQLMIX')

In both cases records are inserted, with or without
RDDINFO(RDDI_EXECUTE, "commit", 'SQLMIX') after this (autocommit ?).
But here I do not know the exact positioning parameters.
For example, how do I can end a call the nConnection ?

Maybe rddInfo( RDDI_DISCONNECT, nConnection), but after this new
connection is == n_old_Connectiom + 1, and I'm not sure that the old has
been closed.
How to check if the connection  nConnection is [still] active?

Regards,
Marek Horodyski
From druzus at acn.waw.pl  Mon Oct 19 08:34:50 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Oct 19 08:34:56 2009
Subject: [Harbour] datetime conversion functions  request
In-Reply-To: <4ADC4491.8020706@fsgiudice.com>
References: <4ADB46D7.2090009@fsgiudice.com>
	<20091019074918.GB10588@linux-8af1.home.aster.pl>
	<4ADC4491.8020706@fsgiudice.com>
Message-ID: <20091019123449.GA16580@linux-8af1.home.aster.pl>

On Mon, 19 Oct 2009, Francesco Saverio Giudice wrote:

Hi,

> Infact is not for core code, but for functions that have "old"
> parameters separated like MyFunc( dDate, cTime ) and in case of
> explicit check of date and time like:
>    ? "cTime      = ", cTime := Time()
>    ? "dDate      = ", dDate := Date()
>    ? "tTimeStamp = ", tTimeStamp := hb_DateTime()
>    ? dDate == tTimeStamp // it returns .F.

'dDate = tTimeStamp' returns .T. if date part is the same.

>    ? cTime == tTimeStamp // this gives "Error BASE/1070  Argument
> error: =="

TIME() function returns time with second precision formatted to "hh:mm:ss".
tTimeStamp value contains time in millisecond precision which can be
formatted into different forms depending on user local setting, i.e.
to 12 or 24 hour format wit or without seconds or milliseconds.
In Clipper code people use different representations for time.
As I can see you were using "hh:mm:ss". Usually I was using
numeric value in format like <nSec>[.<nSecPart>]. It's value returns
by seconds() and if necessary I was converting it to "hh:mm:ss.mmm"
I do not see any reason why we should prefer "hh:mm:ss" which strips
information about milliseconds instead of using "hh:mm:ss.mmm" and
in general I do not see any reason why we should force our local
preferences in core code ;)

> >>HB_TTOT( tTimeStamp ) -> cTime
> >>HB_TTOC( tTimeStamp, "", "HH:MM:SS" ) -> cTime
> I have not request formatting functions, simply functions that
> extract date and time parts from a timestamp value.

But the function you presented do not extract the time part of
timestamp value (HB_NTOT( HB_TTON( tTimeStamp ) % 1 ) returns
time part) but only returns the time cut to second precision
formatted as "hh:mm:ss" string.
Because in most of cases I was using numeric value returned by
second for time then for me such function should work like:
   ( HB_TTON( tTimeStamp ) % 1 )

> But I can do the same using #xtranslate command or adding function
> at prg level. My request is only to have a core function if this is
> faster than using prg functions.

Pleas note that you requested about sth what depends on local preferences
rather then universal functionality. You want to extract time from
timestamp value as string in format "hh:mm:ss". I would preffer numeric
value comparable to second() results. Someone else may preffer string
in format "hh:mm:ss.fff" and someone else in format like "hh:mm:ss.ff"
(it's compatible with TIMETOSC()/SECTOTIME() CT3 functions)
HB_TTOD() job is simple and I'll add it but the second function seems
that should be implemented locally by user because it have to be tuned
to local preferences encoded in existing Clipper code.
It's rather very simple job using existinf timestamp functions so it
should not be a problem.
We can only add function which will divide timestamp value into date
and numeric value with seconds in a day (just like the value returned by
second()) because unlike string representations we have only one format
here:

   /* HB_TSDECODE( tTimeStamp, [ @<dDate> ], [ @<nSeconds> ] ) */
   HB_FUNC( HB_TSDECODE )
   {
      long lDate, lTime;

      if( hb_partdt( &lDate, &lTime, 1 ) )
      {
         hb_stordl( lDate, 2 );
         hb_stornd( ( double ) lTime / 1000, 3 );
      }
      else
         hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );
   }

But for converstion to string we should intorduce additional parameter
with time value format, i.e.:

   /* HB_TSDECODE( tTimeStamp, [ @<dDate> ], [ @<seconds> ] [, <cTimeFormat>] ) */
   HB_FUNC( HB_TSDECODE )
   {
      long lDate, lTime;

      if( hb_partdt( &lDate, &lTime, 1 ) )
      {
         const char * szFormat = hb_parc( 4 );
         hb_stordl( lDate, 2 );
         if( szFormat )
         {
            char szBuffer[ 27 ];
            if( *szFormat = '\0' )
               szFormat = hb_setGetTimeFormat();
            hb_storc( hb_timeStampFormat( szBuffer, "", szFormat,
                                          lDate, lTime ), 3 );
         }
         else
            hb_stornd( ( double ) lTime / 1000, 3 );
      }
      else
         hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );
   }

or maybe better add new function (please think about the name) which will
work like:

   HB_FUNC( ... )
   {
      long lDate, lTime;

      if( hb_partdt( &lDate, &lTime, 1 ) )
      {
         const char * szFormat = hb_parc( 4 );
         char szBuffer[ 27 ];

         if( !szFormat )
            szFormat = hb_setGetTimeFormat();
         hb_stordl( lDate, 2 );
         hb_storc( hb_timeStampFormat( szBuffer, "", szFormat,
                                       lDate, lTime ), 3 );
      }
      else
         hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );
   }

And probably we should also add corresponding function for reverted
conversion:
   HB_TSENCODE( <dDate>, <nTime> | <cTime> ) -> <tTimeStamp>

Here we can try to decode <cTime> without any additional format parameters.

best regards,
Przemek


BTW:
   HB_FUNC( HB_TTOD )
   {
      long lDate, lTime;

      if( hb_partdt( &lDate, &lTime, 1 ) )
         hb_retdl( lDate );
      else
         hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );
   }
From druzus at users.sourceforge.net  Mon Oct 19 08:54:50 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Oct 19 08:54:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12727] trunk/harbour
Message-ID: <E1MzrlC-0004Ed-Po@c3vjzd1.ch3.sourceforge.com>

Revision: 12727
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12727&view=rev
Author:   druzus
Date:     2009-10-19 12:54:46 +0000 (Mon, 19 Oct 2009)

Log Message:
-----------
2009-10-19 14:54 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/common/hbwince.c
    + added GetEnvironmentVariableW() - it fixes WinCE builds after recent
      ANSI to UNICODE function conversions. In WINCE such functions do not
      exist.

  * harbour/src/rtl/gtclip.c
    * pacified MinGWCE warnings

  * harbour/src/rtl/dateshb.c
    + added HB_TTOD() and HB_DTOT() functions

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/common/hbwince.c
    trunk/harbour/src/rtl/dateshb.c
    trunk/harbour/src/rtl/gtclip.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Oct 19 09:00:50 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Oct 19 09:00:59 2009
Subject: [Harbour] OFF: HMG patch for Roberto
Message-ID: <76D2368C-6FD8-431E-939D-71FA7B5F9108@syenar.hu>

Hi Roberto,

Sorry to use this forum to pass HMG patches.

Anyhow patch below will make HMG installation freely
movable / installable to any directories without
the need to manually tweak files. IOW users may install
it anywhere, not just to root in C:\HMG.

Here're the updated batch files:

--- BATCH\build.bat (only three 'SET' lines were changed)
@echo off

rem  
***************************************************************************
rem HMG 3.0 Build batch
rem Roberto Lopez (2009.10.14)
rem Syntax:
rem
rem	Build [/c] [/d] [/i] <PrgFile> | <filelist.hbp> [config.hbc]
rem	
rem	[/c] : Console / Mixed Mode
rem	[/d] : Debug Mode
rem	[/i] : Incremental Build
rem
rem	<filelist.hbm> : A text file with .hbp extension containing a  
source list
rem	<configfile.hbc>: A text file with configuration parameters as  
additional
rem	libs, include paths and lib paths.
rem
rem  
***************************************************************************

cls

rem  
***************************************************************************
rem Set variables
rem  
***************************************************************************

Set HmgPath=%~dp0
Set Path=%HmgPath%\mingw\bin;%HmgPath%\harbour\bin;
Set Resources=%HmgPath%\resources\minigui.o

[snip]
---

--- All build.bat files in SAMPLES
..\..\build.bat %*
---

--- RESOURCES\MakeRes.Bat (this seems to point to wrong location  
currently, but you get the idea)
set PATH=%~dp0\mingw\bin

windres -i minigui.rc -o minigui.o
---

--- SOURCE\MAKEHMG.BAT
@echo off

set PATH=%~dp0\mingw\bin

[snip]
---

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Oct 19 09:01:43 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Oct 19 09:01:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12727] trunk/harbour
In-Reply-To: <E1MzrlC-0004Ed-Po@c3vjzd1.ch3.sourceforge.com>
References: <E1MzrlC-0004Ed-Po@c3vjzd1.ch3.sourceforge.com>
Message-ID: <07A364D2-1668-4E82-8739-EA1C79BD05C0@syenar.hu>

> Log Message:
> -----------
> 2009-10-19 14:54 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/common/hbwince.c
>    + added GetEnvironmentVariableW() - it fixes WinCE builds after  
> recent
>      ANSI to UNICODE function conversions. In WINCE such functions  
> do not
>      exist.

Thanks Przemek, I wanted to make a note about it in ChangeLog,
but forgot.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Oct 19 09:04:56 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Oct 19 09:05:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12728] trunk/harbour
Message-ID: <E1Mzruy-0003uE-9E@d5vjzd1.ch3.sourceforge.com>

Revision: 12728
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12728&view=rev
Author:   vszakats
Date:     2009-10-19 13:04:55 +0000 (Mon, 19 Oct 2009)

Log Message:
-----------
2009-10-19 15:04 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * src/common/hbwince.c
    ! Typos in comments.

  * contrib/rddads/rddads.h
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/rddads.h
    trunk/harbour/src/common/hbwince.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From roberbox at gmail.com  Mon Oct 19 08:07:22 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Mon Oct 19 09:07:38 2009
Subject: [Harbour] OFF: HMG patch for Roberto
In-Reply-To: <76D2368C-6FD8-431E-939D-71FA7B5F9108@syenar.hu>
References: <76D2368C-6FD8-431E-939D-71FA7B5F9108@syenar.hu>
Message-ID: <4ADC567A.5040405@gmail.com>

Viktor Szak?ts wrote:
<...>
> Anyhow patch below will make HMG installation freely
> movable / installable to any directories without
> the need to manually tweak files. IOW users may install
> it anywhere, not just to root in C:\HMG.
<...>

Thanks.

Regards,

Roberto.





From mbelgrano at deltain.it  Mon Oct 19 09:11:55 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct 19 09:12:21 2009
Subject: [Harbour] OFF: HMG patch for Roberto
In-Reply-To: <4ADC567A.5040405@gmail.com>
References: <76D2368C-6FD8-431E-939D-71FA7B5F9108@syenar.hu> 
	<4ADC567A.5040405@gmail.com>
Message-ID: <609353e70910190611o2db157f2jc43b490c255467ce@mail.gmail.com>

Hi roberto can you help me with rddado at
http://forums.fivetechsupport.com/viewtopic.php?f=3&t=6814&start=165

2009/10/19 Roberto Lopez <roberbox@gmail.com>:
> Viktor Szak?ts wrote:
> <...>
>>
>> Anyhow patch below will make HMG installation freely
>> movable / installable to any directories without
>> the need to manually tweak files. IOW users may install
>> it anywhere, not just to root in C:\HMG.
>
> <...>
>
> Thanks.
>
> Regards,
>
> Roberto.
>
>
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From itamarlins at gmail.com  Mon Oct 19 09:25:28 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Mon Oct 19 09:35:15 2009
Subject: [Harbour] Re: Problem with win_prn class CHARSET.
In-Reply-To: <6926FAE8-FEEF-40F7-8B27-03F575C58282@syenar.hu>
References: <hbcmi7$cpn$1@ger.gmane.org>	<3920B91E-B0B4-4F1A-812C-1CA73CDF101C@syenar.hu>	<hbeuqs$a9s$1@ger.gmane.org>
	<6926FAE8-FEEF-40F7-8B27-03F575C58282@syenar.hu>
Message-ID: <hbhpc7$hpf$1@ger.gmane.org>

Viktor Szak?ts escreveu:
> Hi,
> 
> So you're using UNICODE build.
> 
> Your issue is probably caused by 1., which can mean two things:
> 
> a. UNICODE mode may not work without bugs in all places in Harbour.
>    I hope these issues to be detected and fixed, if needed.
> b. Even if UNICODE mode is bug-free, app level fixes may be
>    required, such as properly setting codepage.
> 
> I hope UNICODE is not my personal pet in Harbour, so I also hope
> others will comment on these issues, too. In fact I just switched
> to UNICODE with recent builds also.
> 
> Finally I hope 3rd party developers will also recognize the
> advantages of UNICODE mode and will eventually be synced with
> core Harbour behavior in this aspect, like respecting Harbour
> CP when doing conversions and using WIDE versions of functions
> in UNICODE mode.
> 
> The goal is to have the same app code work without changes in
> both UNICODE and non-UNICODE mode. This opens the door for such
> future Harbour features, like internal UNICODE strings, which
> seems like the ultimate goal.
> 
> Brgds,
> Viktor
> 
Hi!
So, how to turning off unicode when compile ? or this is not recomend ?
I am look for best solution.

Best regards,
Itamar M. Lins Jr.

From harbour.01 at syenar.hu  Mon Oct 19 09:59:30 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Oct 19 09:59:58 2009
Subject: [Harbour] Re: Problem with win_prn class CHARSET.
In-Reply-To: <hbhpc7$hpf$1@ger.gmane.org>
References: <hbcmi7$cpn$1@ger.gmane.org>	<3920B91E-B0B4-4F1A-812C-1CA73CDF101C@syenar.hu>	<hbeuqs$a9s$1@ger.gmane.org>
	<6926FAE8-FEEF-40F7-8B27-03F575C58282@syenar.hu>
	<hbhpc7$hpf$1@ger.gmane.org>
Message-ID: <EA040790-861C-4D86-8FFD-AA8C37A6E891@syenar.hu>

>> So you're using UNICODE build.
>> Your issue is probably caused by 1., which can mean two things:
>> a. UNICODE mode may not work without bugs in all places in Harbour.
>>   I hope these issues to be detected and fixed, if needed.
>> b. Even if UNICODE mode is bug-free, app level fixes may be
>>   required, such as properly setting codepage.
>> I hope UNICODE is not my personal pet in Harbour, so I also hope
>> others will comment on these issues, too. In fact I just switched
>> to UNICODE with recent builds also.
>> Finally I hope 3rd party developers will also recognize the
>> advantages of UNICODE mode and will eventually be synced with
>> core Harbour behavior in this aspect, like respecting Harbour
>> CP when doing conversions and using WIDE versions of functions
>> in UNICODE mode.
>> The goal is to have the same app code work without changes in
>> both UNICODE and non-UNICODE mode. This opens the door for such
>> future Harbour features, like internal UNICODE strings, which
>> seems like the ultimate goal.
>> Brgds,
>> Viktor
> Hi!
> So, how to turning off unicode when compile ? or this is not  
> recomend ?
> I am look for best solution.

It's not the best solution.

Brgds,
Viktor

From itamarlins at gmail.com  Mon Oct 19 09:59:27 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Mon Oct 19 10:00:24 2009
Subject: [Harbour] Small problem \contrib\hbwin\tests\testprn.prg
Message-ID: <hbhrbu$oj4$1@ger.gmane.org>

Hi!
Win_Prn() Class test program. Choose a printer to test
Bitmap file name
????????????????????????????????????????????????????????????????????????????????
?CutePDF Writer 
        ?
Error BASE/1003  Variable does not exist: GREEN 
        ?
Called from PRNTEST(112) 
        ?
Called from MAIN(28) 
        ?
C:\harbour\trunk\harbour\contrib\hbwin\tests> 
        ?

Best regards,
Itamar M. Lins Jr.

From harbour.01 at syenar.hu  Mon Oct 19 10:09:50 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Oct 19 10:10:10 2009
Subject: [Harbour] Small problem \contrib\hbwin\tests\testprn.prg
In-Reply-To: <hbhrbu$oj4$1@ger.gmane.org>
References: <hbhrbu$oj4$1@ger.gmane.org>
Message-ID: <CD55D39F-88FD-4FF6-8B84-1976F9881581@syenar.hu>

Hi Itamar,

Pls provide self-contained, runnable example.

To me this looks like an error in your test program.

You probably need to use RGB_GREEN, not GREEN.

I also suggest to turn on warnings to avoid such errors
in the first place.

Brgds,
Viktor

On 2009 Oct 19, at 15:59, Itamar Lins wrote:

> Hi!
> Win_Prn() Class test program. Choose a printer to test
> Bitmap file name
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ?
> ???????????????????????
> ?CutePDF Writer        ?
> Error BASE/1003  Variable does not exist: GREEN        ?
> Called from PRNTEST(112)        ?
> Called from MAIN(28)        ?
> C:\harbour\trunk\harbour\contrib\hbwin\tests>        ?
>
> Best regards,
> Itamar M. Lins Jr.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Mon Oct 19 10:18:40 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct 19 10:19:11 2009
Subject: [Harbour] Small problem \contrib\hbwin\tests\testprn.prg
In-Reply-To: <CD55D39F-88FD-4FF6-8B84-1976F9881581@syenar.hu>
References: <hbhrbu$oj4$1@ger.gmane.org>
	<CD55D39F-88FD-4FF6-8B84-1976F9881581@syenar.hu>
Message-ID: <609353e70910190718q50c63b90tb605136e753c32d8@mail.gmail.com>

sample is in \contrib\hbwin\tests\testprn.prg
at line 112 is present
         oPrinter:SetColor( GREEN )
I confirm problem

2009/10/19 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Itamar,
>
> Pls provide self-contained, runnable example.
>
> To me this looks like an error in your test program.
>
> You probably need to use RGB_GREEN, not GREEN.
>
> I also suggest to turn on warnings to avoid such errors
> in the first place.
>
> Brgds,
> Viktor
>
> On 2009 Oct 19, at 15:59, Itamar Lins wrote:
>
>> Hi!
>> Win_Prn() Class test program. Choose a printer to test
>> Bitmap file name
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ?
>> ???????????????????????
>> ?CutePDF Writer ? ? ? ??
>> Error BASE/1003 ?Variable does not exist: GREEN ? ? ? ??
>> Called from PRNTEST(112) ? ? ? ??
>> Called from MAIN(28) ? ? ? ??
>> C:\harbour\trunk\harbour\contrib\hbwin\tests> ? ? ? ??
>>
>> Best regards,
>> Itamar M. Lins Jr.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Oct 19 11:57:28 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Oct 19 11:58:48 2009
Subject: [Harbour] Small problem \contrib\hbwin\tests\testprn.prg
In-Reply-To: <609353e70910190718q50c63b90tb605136e753c32d8@mail.gmail.com>
References: <hbhrbu$oj4$1@ger.gmane.org>
	<CD55D39F-88FD-4FF6-8B84-1976F9881581@syenar.hu>
	<609353e70910190718q50c63b90tb605136e753c32d8@mail.gmail.com>
Message-ID: <C0B8B661-8C80-4F8C-9A1C-9F05C3047A5A@syenar.hu>

It helps a great deal if such important information (the name
of the .prg in SVN) is included in these e-mail reports, so
it doesn't have to be guessed.

Brgds,
Viktor

On 2009 Oct 19, at 16:18, Massimo Belgrano wrote:

> sample is in \contrib\hbwin\tests\testprn.prg
> at line 112 is present
>         oPrinter:SetColor( GREEN )
> I confirm problem
>
> 2009/10/19 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Hi Itamar,
>>
>> Pls provide self-contained, runnable example.
>>
>> To me this looks like an error in your test program.
>>
>> You probably need to use RGB_GREEN, not GREEN.
>>
>> I also suggest to turn on warnings to avoid such errors
>> in the first place.
>>
>> Brgds,
>> Viktor
>>
>> On 2009 Oct 19, at 15:59, Itamar Lins wrote:
>>
>>> Hi!
>>> Win_Prn() Class test program. Choose a printer to test
>>> Bitmap file name
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ?
>>> ??????????????????????
>>> ?CutePDF Writer        ?
>>> Error BASE/1003  Variable does not exist: GREEN        ?
>>> Called from PRNTEST(112)        ?
>>> Called from MAIN(28)        ?
>>> C:\harbour\trunk\harbour\contrib\hbwin\tests>        ?
>>>
>>> Best regards,
>>> Itamar M. Lins Jr.
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From sscc at mweb.co.za  Mon Oct 19 12:05:50 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Oct 19 12:05:55 2009
Subject: [Harbour] ActiveX and GPF
Message-ID: <4ADC8E5E.40400@mweb.co.za>

Hi Mindaugas/Przemyslaw

I have been working with ActiveX again. If I comment out the call to Release() 
in hb_ole_destructor() in olecore.c the GPF does not occur.

That is not very helpful so I wondered if Release() depends in some way on 
whether OleUninitialize() has been called. If I restore the call to Release() 
and I comment out OleUninitialize() the GPF also goes away.

I guess the order of calls on shutdown is not deterministic and calls to Release 
after OleUnitialize() appear to cause a GPF. This is some debug output where 
OleUnitialize() is not actually called (commented):

[5240] OleInitialize
[5240] OleUninitialize
[5240] hb_ole_destructor
[5240] after hb_ole_destructor
[5240] hb_ole_destructor
[5240] after hb_ole_destructor

If I restore the call to OleUnitialize():

[4792] OleInitialize
[4792] OleUninitialize
[4792] hb_ole_destructor
GPFs here

I hope this analysis is correct. I could not find information on whether it is 
supposed to be allowable to call Release() after OleUnitialize().

Regards
Alex


From info at fsgiudice.com  Mon Oct 19 13:43:25 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Oct 19 13:43:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12727] trunk/harbour
In-Reply-To: <E1MzrlC-0004Ed-Po@c3vjzd1.ch3.sourceforge.com>
References: <E1MzrlC-0004Ed-Po@c3vjzd1.ch3.sourceforge.com>
Message-ID: <4ADCA53D.2060304@fsgiudice.com>

Hi Przemek,

Il 19/10/2009 14.54, druzus@users.sourceforge.net ha scritto:
> Revision: 12727
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12727&view=rev
> Author:   druzus
> Date:     2009-10-19 12:54:46 +0000 (Mon, 19 Oct 2009)
> 
>   * harbour/src/rtl/dateshb.c
>     + added HB_TTOD() and HB_DTOT() functions
> 

Thank you (I'm replying to the other email).
But I have seen that functions are inverted, so HB_TTOD() returns a 
timestamp and viceversa.

If you want I can update them.

Best Regards,
Francesco
From info at fsgiudice.com  Mon Oct 19 14:26:22 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Oct 19 14:26:41 2009
Subject: [Harbour] datetime conversion functions  request
In-Reply-To: <20091019123449.GA16580@linux-8af1.home.aster.pl>
References: <4ADB46D7.2090009@fsgiudice.com>	<20091019074918.GB10588@linux-8af1.home.aster.pl>	<4ADC4491.8020706@fsgiudice.com>
	<20091019123449.GA16580@linux-8af1.home.aster.pl>
Message-ID: <4ADCAF4E.6030803@fsgiudice.com>

Hi Przemek,

Il 19/10/2009 14.34, Przemys?aw Czerpak ha scritto:
[snip]
> 
> Pleas note that you requested about sth what depends on local preferences
> rather then universal functionality. You want to extract time from
> timestamp value as string in format "hh:mm:ss". I would preffer numeric
> value comparable to second() results. Someone else may preffer string
> in format "hh:mm:ss.fff" and someone else in format like "hh:mm:ss.ff"
> (it's compatible with TIMETOSC()/SECTOTIME() CT3 functions)
> HB_TTOD() job is simple and I'll add it but the second function seems
> that should be implemented locally by user because it have to be tuned
> to local preferences encoded in existing Clipper code.

I don't want to force anyone to use any time format  ;-)
What I was thinking was an equivalent function for TIME() that is a 
standard Clipper function also if surely will be useful both way: with 
and without milliseconds.

[snip]

Probably, my thought, it will be useful to have a full set of functions 
giving freedom to user to choice the best for him:

HB_TTOTIME( tTimeStamp [, <cTimeFormat>] ) -> cTime
HB_TTOSEC( tTimeStamp ) -> nSeconds ( equivalent to SECONDS() )
HB_TSDECODE( tTimeStamp, [ @<dDate> ], [ @<cTime> ] [,<cTimeFormat>] )
HB_TSDECODEN( tTimeStamp, [ @<dDate> ], [ @<nTime> ] )
HB_TSENCODE( <dDate>, <nTime> | <cTime> ) -> <tTimeStamp>

> 
> 
> BTW:
>    HB_FUNC( HB_TTOD )
>    {
>       long lDate, lTime;
> 
>       if( hb_partdt( &lDate, &lTime, 1 ) )
>          hb_retdl( lDate );
>       else
>          hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );
>    }

Thank you, I have already seen it on SVN.

Best Regards,
Francesco

From vszakats at users.sourceforge.net  Mon Oct 19 15:14:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Oct 19 15:14:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12729] trunk/harbour
Message-ID: <E1Mzxgw-0002g5-QO@d5vjzd1.ch3.sourceforge.com>

Revision: 12729
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12729&view=rev
Author:   vszakats
Date:     2009-10-19 19:14:47 +0000 (Mon, 19 Oct 2009)

Log Message:
-----------
2009-10-19 18:15 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/gtalleg/tests/hbmk.hbm
  * contrib/hbmysql/utils/hbmk.hbm
  * contrib/hbmysql/tests/hbmk.hbm
  * contrib/hbct/tests/hbmk.hbm
  * contrib/xhb/tests/hbmk.hbm
  * contrib/hbodbc/tests/hbmk.hbm
  * contrib/hbtpathy/tests/hbmk.hbm
  * contrib/hbmzip/tests/hbmk.hbm
  * contrib/hbsqlit3/tests/hbmk.hbm
  * contrib/hbblat/tests/hbmk.hbm
  * contrib/hbqt/tests/hbmk.hbm
  * contrib/hbfbird/tests/hbmk.hbm
  * contrib/hbziparc/tests/hbmk.hbm
  * contrib/hbxbp/tests/hbmk.hbm
  * contrib/hbnf/tests/hbmk.hbm
  * contrib/hbcurl/tests/hbmk.hbm
  * contrib/hbmemio/tests/hbmk.hbm
  * contrib/gtqtc/tests/hbmk.hbm
  * contrib/hbnetio/utils/hbmk.hbm
  * contrib/hbnetio/tests/hbmk.hbm
  * contrib/rddsql/tests/hbmk.hbm
  * contrib/hbhpdf/tests/hbmk.hbm
  * contrib/rddado/tests/hbmk.hbm
  * contrib/gtwvg/tests/hbmk.hbm
  * contrib/hbpgsql/tests/hbmk.hbm
  * contrib/rddads/tests/hbmk.hbm
  * contrib/hbclipsm/tests/hbmk.hbm
  * contrib/hbfimage/tests/hbmk.hbm
  * contrib/hbgd/tests/hbmk.hbm
  * contrib/hbmisc/tests/hbmk.hbm
  * contrib/hbtip/tests/hbmk.hbm
  * contrib/hbwin/tests/hbmk.hbm
  * contrib/hbssl/tests/hbmk.hbm
  * contrib/hbbtree/tests/hbmk.hbm
    + Added -w3 Harbour switch to all test dirs.
      (in few places just formatted because it was there)
    ; TOFIX: All tests should be eventually made fully 
             warning free, so in the future expect -es2 
             switch to be added as well.

  * contrib/hbwin/tests/testprn.prg
    ! Fixed two constant names.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtalleg/tests/hbmk.hbm
    trunk/harbour/contrib/gtqtc/tests/hbmk.hbm
    trunk/harbour/contrib/gtwvg/tests/hbmk.hbm
    trunk/harbour/contrib/hbblat/tests/hbmk.hbm
    trunk/harbour/contrib/hbbtree/tests/hbmk.hbm
    trunk/harbour/contrib/hbclipsm/tests/hbmk.hbm
    trunk/harbour/contrib/hbct/tests/hbmk.hbm
    trunk/harbour/contrib/hbcurl/tests/hbmk.hbm
    trunk/harbour/contrib/hbfbird/tests/hbmk.hbm
    trunk/harbour/contrib/hbfimage/tests/hbmk.hbm
    trunk/harbour/contrib/hbgd/tests/hbmk.hbm
    trunk/harbour/contrib/hbhpdf/tests/hbmk.hbm
    trunk/harbour/contrib/hbmemio/tests/hbmk.hbm
    trunk/harbour/contrib/hbmisc/tests/hbmk.hbm
    trunk/harbour/contrib/hbmysql/tests/hbmk.hbm
    trunk/harbour/contrib/hbmysql/utils/hbmk.hbm
    trunk/harbour/contrib/hbmzip/tests/hbmk.hbm
    trunk/harbour/contrib/hbnetio/tests/hbmk.hbm
    trunk/harbour/contrib/hbnetio/utils/hbmk.hbm
    trunk/harbour/contrib/hbnf/tests/hbmk.hbm
    trunk/harbour/contrib/hbodbc/tests/hbmk.hbm
    trunk/harbour/contrib/hbpgsql/tests/hbmk.hbm
    trunk/harbour/contrib/hbqt/tests/hbmk.hbm
    trunk/harbour/contrib/hbsqlit3/tests/hbmk.hbm
    trunk/harbour/contrib/hbssl/tests/hbmk.hbm
    trunk/harbour/contrib/hbtip/tests/hbmk.hbm
    trunk/harbour/contrib/hbtpathy/tests/hbmk.hbm
    trunk/harbour/contrib/hbwin/tests/hbmk.hbm
    trunk/harbour/contrib/hbwin/tests/testprn.prg
    trunk/harbour/contrib/hbxbp/tests/hbmk.hbm
    trunk/harbour/contrib/hbziparc/tests/hbmk.hbm
    trunk/harbour/contrib/rddado/tests/hbmk.hbm
    trunk/harbour/contrib/rddads/tests/hbmk.hbm
    trunk/harbour/contrib/rddsql/tests/hbmk.hbm
    trunk/harbour/contrib/xhb/tests/hbmk.hbm


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Oct 19 15:23:02 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Oct 19 15:23:13 2009
Subject: [Harbour] datetime conversion functions  request
In-Reply-To: <4ADCAF4E.6030803@fsgiudice.com>
References: <4ADB46D7.2090009@fsgiudice.com>	<20091019074918.GB10588@linux-8af1.home.aster.pl>	<4ADC4491.8020706@fsgiudice.com>
	<20091019123449.GA16580@linux-8af1.home.aster.pl>
	<4ADCAF4E.6030803@fsgiudice.com>
Message-ID: <652BCFDE-692E-49FF-8961-4500FFE92EAA@syenar.hu>

Hi All,

> I don't want to force anyone to use any time format  ;-)
> What I was thinking was an equivalent function for TIME() that is a  
> standard Clipper function also if surely will be useful both way:  
> with and without milliseconds.
>
> [snip]
>
> Probably, my thought, it will be useful to have a full set of  
> functions giving freedom to user to choice the best for him:
>
> HB_TTOTIME( tTimeStamp [, <cTimeFormat>] ) -> cTime

Seems similar to HB_TTOC(), plus we have HB_TTOS().

> HB_TTOSEC( tTimeStamp ) -> nSeconds ( equivalent to SECONDS() )

Not "standard" format and easy to solve programmatically
if needed.

> HB_TSDECODE( tTimeStamp, [ @<dDate> ], [ @<cTime> ] [,<cTimeFormat>] )
> HB_TSDECODEN( tTimeStamp, [ @<dDate> ], [ @<nTime> ] )
> HB_TSENCODE( <dDate>, <nTime> | <cTime> ) -> <tTimeStamp>

IMO without the *N() version, and maybe HB_TSCOMPOSE()/HB_TSDECOMPOSE()
would be better names, if these new functions are really
necessary.

So, sorry to jump in, but we have functions to convert time
to any user supplied format, plus now we have function to
strip date part from timestamp which seems to cover nicely
all formatting needs. I don't agree to add new "helper"
functions for what we have under a slightly different name.
Moreover we already have a quite wide date/time API to
keep up with.

In Clipper there was no standard for time representation,
so we should take return format of Seconds() and Time()
quite arbitrary and they IMO need no special support in
Harbour.

Brgds,
Viktor

From info at fsgiudice.com  Mon Oct 19 15:30:31 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Oct 19 15:30:50 2009
Subject: [Harbour] datetime conversion functions  request
In-Reply-To: <652BCFDE-692E-49FF-8961-4500FFE92EAA@syenar.hu>
References: <4ADB46D7.2090009@fsgiudice.com>	<20091019074918.GB10588@linux-8af1.home.aster.pl>	<4ADC4491.8020706@fsgiudice.com>	<20091019123449.GA16580@linux-8af1.home.aster.pl>	<4ADCAF4E.6030803@fsgiudice.com>
	<652BCFDE-692E-49FF-8961-4500FFE92EAA@syenar.hu>
Message-ID: <4ADCBE57.3000108@fsgiudice.com>

Hi Viktor,

Il 19/10/2009 21.23, Viktor Szak?ts ha scritto:
[snip]
> 
> So, sorry to jump in, but we have functions to convert time
> to any user supplied format, plus now we have function to
> strip date part from timestamp which seems to cover nicely
> all formatting needs. I don't agree to add new "helper"
> functions for what we have under a slightly different name.
> Moreover we already have a quite wide date/time API to
> keep up with.
> 
> In Clipper there was no standard for time representation,
> so we should take return format of Seconds() and Time()
> quite arbitrary and they IMO need no special support in
> Harbour.
> 
No problem at all, it was only a proposal, nothing more.

Thank you to Przemek and you for your time.

Best Regards,
Francesco
From druzus at users.sourceforge.net  Mon Oct 19 16:12:38 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Oct 19 16:12:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12730] trunk/harbour
Message-ID: <E1Mzyas-00032Q-0V@74yxhf1.ch3.sourceforge.com>

Revision: 12730
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12730&view=rev
Author:   druzus
Date:     2009-10-19 20:12:36 +0000 (Mon, 19 Oct 2009)

Log Message:
-----------
2009-10-19 22:12 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/dateshb.c
    ! fixed HB_TTOD() and HB_DTOT() results - they were reverted by mistake
    + added support for optional second parameter in HB_DTOT() function with
      time as numeric value in second() like representation or as character
      string with HH:MM[:S[S][.f[f[f[f]]]]] [PM|AM] representation, i.e.:
         ? HB_DATETIME()
         ? HB_DTOT( date(), seconds() )
         ? HB_DTOT( date(), time() )
    + added support for optional second parameter passed by reference in
      HB_TTOD() function. If given then this functions stores in it number
      of seconds in given day specified by timestamp value, i.e.:
         dDate := HB_TTOD( HB_DATETIME(), @nSec )
      gives similar functionality to:
         dDate := date()
         nSec := seconds()
    + added support for optional 3-rd parameter in HB_TTOD() functions
      with timestamp format. If given then this function stores time
      part in second parameter as formatted string value. For empty
      string _SET_TIMEFORMAT is used, i.e.:
         dDate := HB_TTOD( HB_DATETIME(), @cTime, "hh:mm:ss" )

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/dateshb.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Mon Oct 19 16:14:03 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Oct 19 16:14:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12731] trunk/harbour
Message-ID: <E1MzycF-00035c-FP@74yxhf1.ch3.sourceforge.com>

Revision: 12731
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12731&view=rev
Author:   druzus
Date:     2009-10-19 20:14:02 +0000 (Mon, 19 Oct 2009)

Log Message:
-----------
2009-10-19 22:13 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbextern.ch
    + added HB_TTOD() and HB_DTOT() functions

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbextern.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Oct 19 17:17:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Oct 19 17:17:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12732] trunk/harbour
Message-ID: <E1MzzbH-0004LK-0T@74yxhf1.ch3.sourceforge.com>

Revision: 12732
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12732&view=rev
Author:   vszakats
Date:     2009-10-19 21:17:04 +0000 (Mon, 19 Oct 2009)

Log Message:
-----------
2009-10-19 23:13 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/gtalleg/tests/hbmk.hbm
  * contrib/hbmysql/utils/hbmk.hbm
  * contrib/hbmysql/utils/dbf2mysq.prg
  * contrib/hbmysql/tests/test.prg
  * contrib/hbmysql/tests/hbmk.hbm
  * contrib/hbct/tests/tab.prg
  * contrib/hbct/tests/tokensep.prg
  * contrib/hbct/tests/datetime.prg
  * contrib/hbct/tests/hbmk.hbm
  * contrib/hbct/tests/token2.prg
  * contrib/hbct/tests/charhist.prg
  * contrib/xhb/tests/hbmk.hbm
  * contrib/hbodbc/tests/hbmk.hbm
  * contrib/hbtpathy/tests/hbmk.hbm
  * contrib/hbmzip/tests/hbmk.hbm
  * contrib/hbsqlit3/tests/hbmk.hbm
  * contrib/hbsqlit3/tests/authoriz.prg
  * contrib/hbblat/tests/hbmk.hbm
  * contrib/hbqt/tests/hbmk.hbm
  * contrib/hbfbird/tests/simple.prg
  * contrib/hbfbird/tests/test.prg
  * contrib/hbfbird/tests/hbmk.hbm
  * contrib/hbziparc/tests/hbmk.hbm
  * contrib/hbxbp/tests/hbmk.hbm
  * contrib/hbnf/tests/ftgete.prg
  * contrib/hbnf/tests/hbmk.hbm
  * contrib/hbcurl/tests/ftp_uldl.prg
  * contrib/hbcurl/tests/hbmk.hbm
  * contrib/hbmemio/tests/hbmk.hbm
  * contrib/gtqtc/tests/demoqtc.prg
  * contrib/gtqtc/tests/hbmk.hbm
  * contrib/hbnetio/utils/hbmk.hbm
  * contrib/hbnetio/tests/hbmk.hbm
  * contrib/rddsql/tests/hbmk.hbm
  * contrib/hbhpdf/tests/harupdf.prg
  * contrib/hbhpdf/tests/hbmk.hbm
  * contrib/rddado/tests/hbmk.hbm
  * contrib/gtwvg/tests/hbmk.hbm
  * contrib/hbpgsql/tests/async.prg
  * contrib/hbpgsql/tests/test.prg
  * contrib/hbpgsql/tests/hbmk.hbm
  * contrib/hbpgsql/tests/cache.prg
  * contrib/hbpgsql/tests/stress.prg
  * contrib/hbpgsql/tests/dbf2pg.prg
  * contrib/hbclipsm/tests/hbmk.hbm
  * contrib/rddads/tests/datad.prg
  * contrib/rddads/tests/hbmk.hbm
  * contrib/rddads/tests/testmg.prg
  * contrib/hbfimage/tests/fitest.prg
  * contrib/hbfimage/tests/hbmk.hbm
  * contrib/hbgd/tests/tostring.prg
  * contrib/hbgd/tests/gdtestcl.prg
  * contrib/hbgd/tests/gdtest.prg
  * contrib/hbgd/tests/animgif.prg
  * contrib/hbgd/tests/testdpi.prg
  * contrib/hbgd/tests/hbmk.hbm
  * contrib/hbgd/tests/counter.prg
  * contrib/hbgd/tests/antialia.prg
  * contrib/hbgd/tests/bartest.prg
  * contrib/hbgd/tests/barms.prg
  * contrib/hbgd/tests/test_out.prg
  * contrib/hbmisc/tests/testhbf.prg
  * contrib/hbmisc/tests/hbmk.hbm
  * contrib/hbmisc/tests/twirl.prg
  * contrib/hbtip/tests/dnldftp.prg
  * contrib/hbtip/tests/upld_ftp.prg
  * contrib/hbtip/tests/dbtohtml.prg
  * contrib/hbtip/tests/hbmk.hbm
  * contrib/hbwin/hbwin.h
  * contrib/hbwin/hbwin.ch
  * contrib/hbwin/tests/testsim.prg
  * contrib/hbwin/tests/testole.prg
  * contrib/hbwin/tests/testcom2.prg
  * contrib/hbwin/win_com.c
  * contrib/hbssl/tests/hbmk.hbm
  * contrib/hbbtree/tests/hbmk.hbm
    ! Fixed warnings and errors in test apps.
    + Added -es2 option to test/util default options.
    * Renamed few macros in hbwin / win_com implementation:
        FCN* -> WIN_COM_FUN_*
        WPDBG* -> WIN_COM_DBG_*
    ; TOFIX: Some errors are left in hbgd/test_out.prg and 
             gtwvg to be fixed, now the can't be built.
             Please do it.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtalleg/tests/hbmk.hbm
    trunk/harbour/contrib/gtqtc/tests/demoqtc.prg
    trunk/harbour/contrib/gtqtc/tests/hbmk.hbm
    trunk/harbour/contrib/gtwvg/tests/hbmk.hbm
    trunk/harbour/contrib/hbblat/tests/hbmk.hbm
    trunk/harbour/contrib/hbbtree/tests/hbmk.hbm
    trunk/harbour/contrib/hbclipsm/tests/hbmk.hbm
    trunk/harbour/contrib/hbct/tests/charhist.prg
    trunk/harbour/contrib/hbct/tests/datetime.prg
    trunk/harbour/contrib/hbct/tests/hbmk.hbm
    trunk/harbour/contrib/hbct/tests/tab.prg
    trunk/harbour/contrib/hbct/tests/token2.prg
    trunk/harbour/contrib/hbct/tests/tokensep.prg
    trunk/harbour/contrib/hbcurl/tests/ftp_uldl.prg
    trunk/harbour/contrib/hbcurl/tests/hbmk.hbm
    trunk/harbour/contrib/hbfbird/tests/hbmk.hbm
    trunk/harbour/contrib/hbfbird/tests/simple.prg
    trunk/harbour/contrib/hbfbird/tests/test.prg
    trunk/harbour/contrib/hbfimage/tests/fitest.prg
    trunk/harbour/contrib/hbfimage/tests/hbmk.hbm
    trunk/harbour/contrib/hbgd/tests/animgif.prg
    trunk/harbour/contrib/hbgd/tests/antialia.prg
    trunk/harbour/contrib/hbgd/tests/barms.prg
    trunk/harbour/contrib/hbgd/tests/bartest.prg
    trunk/harbour/contrib/hbgd/tests/counter.prg
    trunk/harbour/contrib/hbgd/tests/gdtest.prg
    trunk/harbour/contrib/hbgd/tests/gdtestcl.prg
    trunk/harbour/contrib/hbgd/tests/hbmk.hbm
    trunk/harbour/contrib/hbgd/tests/test_out.prg
    trunk/harbour/contrib/hbgd/tests/testdpi.prg
    trunk/harbour/contrib/hbgd/tests/tostring.prg
    trunk/harbour/contrib/hbhpdf/tests/harupdf.prg
    trunk/harbour/contrib/hbhpdf/tests/hbmk.hbm
    trunk/harbour/contrib/hbmemio/tests/hbmk.hbm
    trunk/harbour/contrib/hbmisc/tests/hbmk.hbm
    trunk/harbour/contrib/hbmisc/tests/testhbf.prg
    trunk/harbour/contrib/hbmisc/tests/twirl.prg
    trunk/harbour/contrib/hbmysql/tests/hbmk.hbm
    trunk/harbour/contrib/hbmysql/tests/test.prg
    trunk/harbour/contrib/hbmysql/utils/dbf2mysq.prg
    trunk/harbour/contrib/hbmysql/utils/hbmk.hbm
    trunk/harbour/contrib/hbmzip/tests/hbmk.hbm
    trunk/harbour/contrib/hbnetio/tests/hbmk.hbm
    trunk/harbour/contrib/hbnetio/utils/hbmk.hbm
    trunk/harbour/contrib/hbnf/tests/ftgete.prg
    trunk/harbour/contrib/hbnf/tests/hbmk.hbm
    trunk/harbour/contrib/hbodbc/tests/hbmk.hbm
    trunk/harbour/contrib/hbpgsql/tests/async.prg
    trunk/harbour/contrib/hbpgsql/tests/cache.prg
    trunk/harbour/contrib/hbpgsql/tests/dbf2pg.prg
    trunk/harbour/contrib/hbpgsql/tests/hbmk.hbm
    trunk/harbour/contrib/hbpgsql/tests/stress.prg
    trunk/harbour/contrib/hbpgsql/tests/test.prg
    trunk/harbour/contrib/hbqt/tests/hbmk.hbm
    trunk/harbour/contrib/hbsqlit3/tests/authoriz.prg
    trunk/harbour/contrib/hbsqlit3/tests/hbmk.hbm
    trunk/harbour/contrib/hbssl/tests/hbmk.hbm
    trunk/harbour/contrib/hbtip/tests/dbtohtml.prg
    trunk/harbour/contrib/hbtip/tests/dnldftp.prg
    trunk/harbour/contrib/hbtip/tests/hbmk.hbm
    trunk/harbour/contrib/hbtip/tests/upld_ftp.prg
    trunk/harbour/contrib/hbtpathy/tests/hbmk.hbm
    trunk/harbour/contrib/hbwin/hbwin.ch
    trunk/harbour/contrib/hbwin/hbwin.h
    trunk/harbour/contrib/hbwin/tests/testcom2.prg
    trunk/harbour/contrib/hbwin/tests/testole.prg
    trunk/harbour/contrib/hbwin/tests/testsim.prg
    trunk/harbour/contrib/hbwin/win_com.c
    trunk/harbour/contrib/hbxbp/tests/hbmk.hbm
    trunk/harbour/contrib/hbziparc/tests/hbmk.hbm
    trunk/harbour/contrib/rddado/tests/hbmk.hbm
    trunk/harbour/contrib/rddads/tests/datad.prg
    trunk/harbour/contrib/rddads/tests/hbmk.hbm
    trunk/harbour/contrib/rddads/tests/testmg.prg
    trunk/harbour/contrib/rddsql/tests/hbmk.hbm
    trunk/harbour/contrib/xhb/tests/hbmk.hbm


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From carozodequilmes at gmail.com  Mon Oct 19 17:22:22 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Mon Oct 19 17:22:28 2009
Subject: [Harbour] xCommand
Message-ID: <578c73340910191422y24701f8fv256df0dc10b44c7b@mail.gmail.com>

Hi guys

When I make a new xcommand (or xtranslate), I can put double character ";"
to separate sentences, p.e:

*#xcommand MYCMD <cName> ;
   =>;
   myFunction1( <(cName)> ) ;;
   myFunction2() ;;
   myFunction3()
*
The xcommand will translate:

*   myFunction1( <(cName)> ) ;   myFunction2() ;  myFunction3()*

and run fine.

Question: How can make my xcommand to put each function in a new line, p.e:

*   myFunction1( <(cName)> ) ;
   myFunction2() ;
   myFunction3()*

or

*   myFunction1( <(cName)> )
   myFunction2()
   myFunction3()*

Thanks in advance
CdQ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091019/6b0af617/attachment.html
From druzus at acn.waw.pl  Mon Oct 19 18:21:28 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Oct 19 18:21:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12732] trunk/harbour
In-Reply-To: <E1MzzbH-0004LK-0T@74yxhf1.ch3.sourceforge.com>
References: <E1MzzbH-0004LK-0T@74yxhf1.ch3.sourceforge.com>
Message-ID: <20091019222128.GA31537@linux-8af1.home.aster.pl>

On Mon, 19 Oct 2009, vszakats@users.sourceforge.net wrote:

Hi,

> 2009-10-19 23:13 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
[...]
>     ! Fixed warnings and errors in test apps.
>     + Added -es2 option to test/util default options.

Thank you. I would like to ask you about yet another modification in
core hbmk2 code.
hbmk2 does not enable C warnings in GCC builds. Can you add -W -Wall
when GCC is used? Without it some serious bugs can be silently ignored.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Oct 19 19:00:08 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Oct 19 19:00:15 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <4ADC8E5E.40400@mweb.co.za>
References: <4ADC8E5E.40400@mweb.co.za>
Message-ID: <20091019230008.GA31620@linux-8af1.home.aster.pl>

On Mon, 19 Oct 2009, Alex Strickland wrote:

Hi,

> I have been working with ActiveX again. If I comment out the call to
> Release() in hb_ole_destructor() in olecore.c the GPF does not
> occur.
> That is not very helpful so I wondered if Release() depends in some
> way on whether OleUninitialize() has been called. If I restore the
> call to Release() and I comment out OleUninitialize() the GPF also
> goes away.

Harbour executes OleUninitialize() as HVM atQuit function after releasing
all Harbour items so when this function is called no other OLE code can
be activated by Harbour.

> I guess the order of calls on shutdown is not deterministic and

It is. See hb_vmQuit() which executes hb_vmDoModuleQuitFunctions().

> calls to Release after OleUnitialize() appear to cause a GPF. This

It cannot appear from Harbour code.

> is some debug output where OleUnitialize() is not actually called
> (commented):
> 
> [5240] OleInitialize
> [5240] OleUninitialize
> [5240] hb_ole_destructor
> [5240] after hb_ole_destructor
> [5240] hb_ole_destructor
> [5240] after hb_ole_destructor
> 
> If I restore the call to OleUnitialize():
> 
> [4792] OleInitialize
> [4792] OleUninitialize
> [4792] hb_ole_destructor
> GPFs here

The above code activates hb_ole_destructor after releasing HVM and
it's done by some code which is not part of Harbour core code. I.e.
some 3-rd party code does not use autodestructors for allocated
system objects and keep references to internal Harbour structures
after releasing HVM. I.e. some windows are still active and default
window loop code calls HVM functions.
In such case even if you comment OleUnitialize() then it does not
fix anything because program is still buggy and can still GPF after
accessing release HVM structures.

It's also possible that the problem is caused by multiple calls to
OleUninitialize(). This is Mindaugas note from contrib/hbwin/oleinit.c:

/*
 * Duplicated OleUninitialize() call causes GPF. So, if a few OLE libraries
 * is used inside Harbour code, you can expect GPF on application exit.
 * This code does not implement any OLE interface except initialization. It is
 * have to be used from all other OLE libraries. [Mindaugas]
 */

So if you are using some 3-rd party code then you should check if it does
not call OleUninitialize(). I.e. in HWGUI you should modify htmlfunc.c in
source/activex:

   #include "hbwinole.h"

   HB_FUNC( HWGAX_OLEINITIALIZE )
   {
      hb_oleInit();
      hb_retl( TRUE );  // I'll change hb_oleInit() to return TRUE/FALSE in
                        // in a while
   }

   HB_FUNC( HWGAX_OLEUNINITIALIZE )
   {
      /* it's called automatically by HVM */
   }

Please check if it's not the reason of your problems.

> I hope this analysis is correct. I could not find information on
> whether it is supposed to be allowable to call Release() after
> OleUnitialize().

I think it's illegal but if the problem is caused by some 3-rd party
code which does not release allocated system resources before HVM quit
and this code can activate some HVM core code after releasing HVM
structures then I'm afraid non of us will be able to help you.
In general it would greatly help if you can create self contain example
using only Harbour SVN code which we can compile and verify the problem.
If this is Harbour problem then it should be possible to create such
examples and in such case we should be able to fix it quite easy.

BTW have you tried you tried to recompile Harbour core code with
   set HB_USER_CFLAGS=-DHB_FM_STATISTICS
?
It should help to catch code which does not free some resources or
free them more then once.

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Oct 19 19:19:01 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Oct 19 19:19:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12733] trunk/harbour
Message-ID: <E1N01VF-0007iK-FC@c3vjzd1.ch3.sourceforge.com>

Revision: 12733
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12733&view=rev
Author:   druzus
Date:     2009-10-19 23:19:00 +0000 (Mon, 19 Oct 2009)

Log Message:
-----------
2009-10-20 01:18 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbwin/oleinit.c
  * harbour/contrib/hbwin/hbwinole.h
    * modified hb_oleInit() function to return logical value
      indicating success

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/hbwinole.h
    trunk/harbour/contrib/hbwin/oleinit.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Oct 19 19:21:44 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Oct 19 19:21:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12734] trunk/harbour
Message-ID: <E1N01Xs-0000tz-J1@dn4whf1.ch3.sourceforge.com>

Revision: 12734
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12734&view=rev
Author:   vszakats
Date:     2009-10-19 23:21:43 +0000 (Mon, 19 Oct 2009)

Log Message:
-----------
2009-10-20 01:20 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added option to control C compiler warning level:
      -warn=yes mode will set the warning level exactly 
        the same way as it's set for Harbour builds. This 
        is also the default setting.
        This setting is usually the highest useful setting, 
        which sometimes equals to C compiler default, sometimes 
        not.
      -warn=no mode will try to turn off warnings. This works 
        exactly the same way as disabling warnings in Harbour 
        builds. Notice this isn't supported with all C compilers, 
        and with some compilers this equals to default C compiler 
        mode. This mode isn't recommended for any sort of serious 
        work.
      -warn=def mode will leave everything as is, IOW to 
        C compiler defaults. There is no equivalent setting in 
        Harbour builds.

  * config/wce/poccarm.mk
    ! Synced warning option with win/pocc.

  * config/wce/msvcarm.mk
    ! Synced warning option with win/msvc.
    ! Synced HB_BUILD_MODE with win/msvc.
      (this means C++ is now the default)

  * config/win/xcc.mk
    ! Synced warning option with pocc.

  * examples/hbmsql/tests/dbf2msql.prg
  * examples/hbmsql/tests/test.prg
  * examples/hbmsql/tests/hbmk.hbm
  * examples/hbsqlit2/tests/hbsqlite.prg
  * examples/hbsqlit2/tests/hbmk.hbm
  * examples/hbapollo/tests/hbmk.hbm
  * examples/hbapollo/tests/apollo.prg
  * examples/hbvpdf/tests/pdf_demo.prg
  * examples/hbvpdf/tests/hbmk.hbm
  * examples/hbvpdf/tests/tstpdf.prg
    ! Fixed warnings and errors in example test apps.
    + Added -es2 option to test default options in examples.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/config/win/xcc.mk
    trunk/harbour/examples/hbapollo/tests/apollo.prg
    trunk/harbour/examples/hbapollo/tests/hbmk.hbm
    trunk/harbour/examples/hbmsql/tests/dbf2msql.prg
    trunk/harbour/examples/hbmsql/tests/hbmk.hbm
    trunk/harbour/examples/hbmsql/tests/test.prg
    trunk/harbour/examples/hbsqlit2/tests/hbmk.hbm
    trunk/harbour/examples/hbsqlit2/tests/hbsqlite.prg
    trunk/harbour/examples/hbvpdf/tests/hbmk.hbm
    trunk/harbour/examples/hbvpdf/tests/pdf_demo.prg
    trunk/harbour/examples/hbvpdf/tests/tstpdf.prg
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Oct 19 19:29:06 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Oct 19 19:29:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12734] trunk/harbour
In-Reply-To: <E1N01Xs-0000tz-J1@dn4whf1.ch3.sourceforge.com>
References: <E1N01Xs-0000tz-J1@dn4whf1.ch3.sourceforge.com>
Message-ID: <20091019232906.GA970@linux-8af1.home.aster.pl>

On Mon, 19 Oct 2009, vszakats@users.sourceforge.net wrote:

Hi,

> 2009-10-20 01:20 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * utils/hbmk2/hbmk2.prg
>     + Added option to control C compiler warning level:
>       -warn=yes mode will set the warning level exactly 
>         the same way as it's set for Harbour builds. This 
>         is also the default setting.
>         This setting is usually the highest useful setting, 
>         which sometimes equals to C compiler default, sometimes 
>         not.
>       -warn=no mode will try to turn off warnings. This works 
>         exactly the same way as disabling warnings in Harbour 
>         builds. Notice this isn't supported with all C compilers, 
>         and with some compilers this equals to default C compiler 
>         mode. This mode isn't recommended for any sort of serious 
>         work.
>       -warn=def mode will leave everything as is, IOW to 
>         C compiler defaults. There is no equivalent setting in 
>         Harbour builds.
[...]

Thank you very much.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Oct 19 19:30:11 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Oct 19 19:30:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12732] trunk/harbour
In-Reply-To: <20091019222128.GA31537@linux-8af1.home.aster.pl>
References: <E1MzzbH-0004LK-0T@74yxhf1.ch3.sourceforge.com>
	<20091019222128.GA31537@linux-8af1.home.aster.pl>
Message-ID: <1442B270-44EF-4FC0-B661-604AEC20272C@syenar.hu>

>> 2009-10-19 23:13 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
> [...]
>>    ! Fixed warnings and errors in test apps.
>>    + Added -es2 option to test/util default options.
>
> Thank you. I would like to ask you about yet another modification in
> core hbmk2 code.
> hbmk2 does not enable C warnings in GCC builds. Can you add -W -Wall
> when GCC is used? Without it some serious bugs can be silently  
> ignored.

Please test after latest commit. I've added it for all compilers,
not only GCC.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Oct 19 20:01:05 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Oct 19 20:01:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12732] trunk/harbour
In-Reply-To: <1442B270-44EF-4FC0-B661-604AEC20272C@syenar.hu>
References: <E1MzzbH-0004LK-0T@74yxhf1.ch3.sourceforge.com>
	<20091019222128.GA31537@linux-8af1.home.aster.pl>
	<1442B270-44EF-4FC0-B661-604AEC20272C@syenar.hu>
Message-ID: <20091020000105.GA17560@linux-8af1.home.aster.pl>

On Tue, 20 Oct 2009, Szak?ts Viktor wrote:

Hi,

> >Thank you. I would like to ask you about yet another modification in
> >core hbmk2 code.
> >hbmk2 does not enable C warnings in GCC builds. Can you add -W -Wall
> >when GCC is used? Without it some serious bugs can be silently
> >ignored.
> Please test after latest commit. I've added it for all compilers,
> not only GCC.

I've just test it with LETODB and
   hbmk2 rddleto.hbp letodb.hbp
and it works as expexted.

BTW below I'm attaching small patch for LetoDB necessary to compile it
with current Harbour code. Maybe someone interesting in updating LetoDB
can commit it.

best regards,
Przemek


  * letodb/Makefile.linux
    ! removed -mcpu=pentium which breaks builds on non x86@32 machines
    + added -q0 to harbour switches

  * letodb/letodb.hbp
    ! removed -mt from build flags - letodb uses own threads which works
      only with ST HVM and cannot be used with MT HVM because they are
      not registered in HVM and try to execute PCODE
    % removed common/net.c which seems to contain client only code

  * letodb/source/client/leto1.c
    ! updated to work with recent Harbour versions which supports
      RENAME() RDD method

  * letodb/source/common/hbip.c
    ! declare hb_socketConnect() as static to avoid conflicts with
      Harbour core function using the same name

  * letodb/utils/manager/console.prg
  * letodb/utils/manager/manage.prg
    ! removed hardcoded windows only paths in #include.
      Please remember to set correct -I parameters to compile
      this files.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cvs.diff
Type: text/x-patch
Size: 4013 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091020/430275d7/cvs-0001.bin
From itamarlins at gmail.com  Mon Oct 19 20:39:52 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Mon Oct 19 20:40:31 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12732] trunk/harbour
In-Reply-To: <20091020000105.GA17560@linux-8af1.home.aster.pl>
References: <E1MzzbH-0004LK-0T@74yxhf1.ch3.sourceforge.com>	<20091019222128.GA31537@linux-8af1.home.aster.pl>	<1442B270-44EF-4FC0-B661-604AEC20272C@syenar.hu>
	<20091020000105.GA17560@linux-8af1.home.aster.pl>
Message-ID: <hbj0sm$obq$1@ger.gmane.org>

Hi Przemys?aw Czerpak!

Last changelog letodb.

2009-10-18 13:30 UTC+0300 Pavel Tsarenko (tpe2/at/mail.ru)
* source/server/server.prg
! minor fix in #define
* include/funcleto.h
* fixes for compatibility with xHarbour CVS
* source/client/leto1.c
* source/server/letofunc.c
* some changes, provided by Alexandr Okhotnikov, a big thanks to him:
DbAppend() immediately evaluated on server, and added check to FLock()
by another user;
DbRecordInfo(DBRI_LOCKED, nRecNo) - added nRecNo evaluation
fixed DbOrderInfo() if index is absent;
added OrdCount() evaluation;
fixed locks (dbrlock, flock) handling to take into account FLock()
by another user;
fixed scoped in dbSeek, DbGOTOP, DbGoBottom;
added OrdKeyGoto() evaluation

Who knows, he makes this change.
I'm waiting for that too.

And command hbmk2 rddleto.hbp letodb.hbp
For windows XP OS make lib error name librddleto.a the correct is
rddleto.lib

Best regards,
Itamar M. Lins Jr.

From harbour.01 at syenar.hu  Mon Oct 19 20:56:35 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Oct 19 20:56:44 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12732] trunk/harbour
In-Reply-To: <hbj0sm$obq$1@ger.gmane.org>
References: <E1MzzbH-0004LK-0T@74yxhf1.ch3.sourceforge.com>	<20091019222128.GA31537@linux-8af1.home.aster.pl>	<1442B270-44EF-4FC0-B661-604AEC20272C@syenar.hu>
	<20091020000105.GA17560@linux-8af1.home.aster.pl>
	<hbj0sm$obq$1@ger.gmane.org>
Message-ID: <D6B236FA-9B58-4091-999A-8E489076DC8A@syenar.hu>

> And command hbmk2 rddleto.hbp letodb.hbp
> For windows XP OS make lib error name librddleto.a the correct is
> rddleto.lib

Both are correct, it depends on the compiler you use.

Current LetoDB .hbp files are OK.

Brgds,
Viktor

From itamarlins at gmail.com  Mon Oct 19 21:06:47 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Mon Oct 19 21:07:21 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12732] trunk/harbour
In-Reply-To: <D6B236FA-9B58-4091-999A-8E489076DC8A@syenar.hu>
References: <E1MzzbH-0004LK-0T@74yxhf1.ch3.sourceforge.com>	<20091019222128.GA31537@linux-8af1.home.aster.pl>	<1442B270-44EF-4FC0-B661-604AEC20272C@syenar.hu>	<20091020000105.GA17560@linux-8af1.home.aster.pl>	<hbj0sm$obq$1@ger.gmane.org>
	<D6B236FA-9B58-4091-999A-8E489076DC8A@syenar.hu>
Message-ID: <hbj2f6$vh5$1@ger.gmane.org>

But I am in moment, using MSVC.
Maybe is necessary set same envar.

only are these options set

HB_INSTALL_PREFIX=C:\DEV\HARBOUR
HB_PATH=C:\DEV\HARBOUR

Best regards,
Itamar M. Lins Jr.

Viktor Szak?ts escreveu:
>> And command hbmk2 rddleto.hbp letodb.hbp
>> For windows XP OS make lib error name librddleto.a the correct is
>> rddleto.lib
> 
> Both are correct, it depends on the compiler you use.
> 
> Current LetoDB .hbp files are OK.
> 
> Brgds,
> Viktor
> 

From harbour.01 at syenar.hu  Mon Oct 19 21:29:14 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 19 21:29:23 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12732] trunk/harbour
In-Reply-To: <hbj2f6$vh5$1@ger.gmane.org>
References: <E1MzzbH-0004LK-0T@74yxhf1.ch3.sourceforge.com>	<20091019222128.GA31537@linux-8af1.home.aster.pl>	<1442B270-44EF-4FC0-B661-604AEC20272C@syenar.hu>	<20091020000105.GA17560@linux-8af1.home.aster.pl>	<hbj0sm$obq$1@ger.gmane.org>
	<D6B236FA-9B58-4091-999A-8E489076DC8A@syenar.hu>
	<hbj2f6$vh5$1@ger.gmane.org>
Message-ID: <8E3893BB-2032-43B3-920B-53F2D54E2147@syenar.hu>

> But I am in moment, using MSVC.
> Maybe is necessary set same envar.

Probably you also have mingw in your PATH and it gets
autodetected by hbmk2. Use -comp option to choose
compiler manually if you have multiple ones in PATH.

> only are these options set
>
> HB_INSTALL_PREFIX=C:\DEV\HARBOUR
> HB_PATH=C:\DEV\HARBOUR

None of these are used by hbmk2.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Oct 19 21:32:30 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Oct 19 21:32:38 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12732] trunk/harbour
In-Reply-To: <8E3893BB-2032-43B3-920B-53F2D54E2147@syenar.hu>
References: <E1MzzbH-0004LK-0T@74yxhf1.ch3.sourceforge.com>	<20091019222128.GA31537@linux-8af1.home.aster.pl>	<1442B270-44EF-4FC0-B661-604AEC20272C@syenar.hu>	<20091020000105.GA17560@linux-8af1.home.aster.pl>	<hbj0sm$obq$1@ger.gmane.org>
	<D6B236FA-9B58-4091-999A-8E489076DC8A@syenar.hu>
	<hbj2f6$vh5$1@ger.gmane.org>
	<8E3893BB-2032-43B3-920B-53F2D54E2147@syenar.hu>
Message-ID: <65B55D44-5288-46AF-AA6C-343B3F41C8C1@syenar.hu>

>> only are these options set
>>
>> HB_INSTALL_PREFIX=C:\DEV\HARBOUR
>> HB_PATH=C:\DEV\HARBOUR
>
> None of these are used by hbmk2.

Sorry, to be more precise: HB_INSTALL_PREFIX is used,
but you only have to set it manually if hbmk2.exe you
use isn't in C:\DEV\HARBOUR\BIN\, if it is, it's
automatically detected and you don't need it.

HB_PATH isn't used since very long time in Harbour.

Brgds,
Viktor

From itamarlins at gmail.com  Mon Oct 19 21:34:32 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Mon Oct 19 21:35:06 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12732] trunk/harbour
In-Reply-To: <8E3893BB-2032-43B3-920B-53F2D54E2147@syenar.hu>
References: <E1MzzbH-0004LK-0T@74yxhf1.ch3.sourceforge.com>	<20091019222128.GA31537@linux-8af1.home.aster.pl>	<1442B270-44EF-4FC0-B661-604AEC20272C@syenar.hu>	<20091020000105.GA17560@linux-8af1.home.aster.pl>	<hbj0sm$obq$1@ger.gmane.org>	<D6B236FA-9B58-4091-999A-8E489076DC8A@syenar.hu>	<hbj2f6$vh5$1@ger.gmane.org>
	<8E3893BB-2032-43B3-920B-53F2D54E2147@syenar.hu>
Message-ID: <hbj436$336$1@ger.gmane.org>

Viktor Szak?ts escreveu:
> Probably you also have mingw in your PATH and it gets
> autodetected by hbmk2. Use -comp option to choose
> compiler manually if you have multiple ones in PATH.

Yes, You is correct.


Best regards,
Itamar M. Lins Jr.

From info at fsgiudice.com  Tue Oct 20 03:09:26 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Tue Oct 20 03:10:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12730] trunk/harbour
In-Reply-To: <E1Mzyas-00032Q-0V@74yxhf1.ch3.sourceforge.com>
References: <E1Mzyas-00032Q-0V@74yxhf1.ch3.sourceforge.com>
Message-ID: <4ADD6226.3010101@fsgiudice.com>

Hi Przemek,

Il 19/10/2009 22.12, druzus@users.sourceforge.net ha scritto:
> Revision: 12730
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12730&view=rev
> Author:   druzus
> Date:     2009-10-19 20:12:36 +0000 (Mon, 19 Oct 2009)
> 
> Log Message:
> -----------
> 2009-10-19 22:12 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/src/rtl/dateshb.c
>     ! fixed HB_TTOD() and HB_DTOT() results - they were reverted by mistake
>     + added support for optional second parameter in HB_DTOT() function with
>       time as numeric value in second() like representation or as character
>       string with HH:MM[:S[S][.f[f[f[f]]]]] [PM|AM] representation, i.e.:
>          ? HB_DATETIME()
>          ? HB_DTOT( date(), seconds() )
>          ? HB_DTOT( date(), time() )
>     + added support for optional second parameter passed by reference in
>       HB_TTOD() function. If given then this functions stores in it number
>       of seconds in given day specified by timestamp value, i.e.:
>          dDate := HB_TTOD( HB_DATETIME(), @nSec )
>       gives similar functionality to:
>          dDate := date()
>          nSec := seconds()
>     + added support for optional 3-rd parameter in HB_TTOD() functions
>       with timestamp format. If given then this function stores time
>       part in second parameter as formatted string value. For empty
>       string _SET_TIMEFORMAT is used, i.e.:
>          dDate := HB_TTOD( HB_DATETIME(), @cTime, "hh:mm:ss" )
> 

Thank you very much!
As usual you have found an excellent solution.

Best Regards,
Francesco

From sscc at mweb.co.za  Tue Oct 20 05:33:30 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Oct 20 05:33:39 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <20091019230008.GA31620@linux-8af1.home.aster.pl>
References: <4ADC8E5E.40400@mweb.co.za>
	<20091019230008.GA31620@linux-8af1.home.aster.pl>
Message-ID: <4ADD83EA.9050908@mweb.co.za>

Przemys?aw Czerpak wrote:

Thank you for your information, I will follow it up.

> In general it would greatly help if you can create self contain example
> using only Harbour SVN code which we can compile and verify the problem.

Agreed.

> If this is Harbour problem then it should be possible to create such
> examples and in such case we should be able to fix it quite easy.

When you say it should be easy to create examples, do you mean using WVG? Or 
could you explain, and I will?

> BTW have you tried you tried to recompile Harbour core code with
>    set HB_USER_CFLAGS=-DHB_FM_STATISTICS
> ?
> It should help to catch code which does not free some resources or
> free them more then once.

OK, I shall.

Regards
Alex
From druzus at users.sourceforge.net  Tue Oct 20 05:38:08 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Oct 20 05:38:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12735] trunk/harbour
Message-ID: <E1N0BAO-00007u-Gg@bj8yhf1.ch3.sourceforge.com>

Revision: 12735
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12735&view=rev
Author:   druzus
Date:     2009-10-20 09:38:07 +0000 (Tue, 20 Oct 2009)

Log Message:
-----------
2009-10-20 11:37 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/win/xcc.mk
    + added small hack enabled for sh only to resolve two problems with
      harbour.dll in XCC builds: the import library was created in bin
      directory and it was using .LIB extension instead of .lib so it
      was not working with case sensitive FS

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/xcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Oct 20 05:40:48 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Oct 20 05:40:58 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <4ADD83EA.9050908@mweb.co.za>
References: <4ADC8E5E.40400@mweb.co.za>
	<20091019230008.GA31620@linux-8af1.home.aster.pl>
	<4ADD83EA.9050908@mweb.co.za>
Message-ID: <C0F50869-A488-4B9D-86D6-5CA9AF0349D5@syenar.hu>

>> If this is Harbour problem then it should be possible to create such
>> examples and in such case we should be able to fix it quite easy.
>
> When you say it should be easy to create examples, do you mean using  
> WVG? Or could you explain, and I will?

hbwin

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Oct 20 05:46:32 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Oct 20 05:46:38 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <4ADD83EA.9050908@mweb.co.za>
References: <4ADC8E5E.40400@mweb.co.za>
	<20091019230008.GA31620@linux-8af1.home.aster.pl>
	<4ADD83EA.9050908@mweb.co.za>
Message-ID: <20091020094631.GA15576@linux-8af1.home.aster.pl>

On Tue, 20 Oct 2009, Alex Strickland wrote:

Hi,

> >If this is Harbour problem then it should be possible to create such
> >examples and in such case we should be able to fix it quite easy.
> When you say it should be easy to create examples, do you mean using
> WVG? Or could you explain, and I will?

It should be easy to fix it if you can create such example but I do not
know if it will be easy to create such self contain example. If it's not
Harbour problem then it's impossible to create it :)
It will be good if you can make this example as simple as possible reducing
any additional code, i.e. use GTWVT and windows function wrappers for hbwin
library.

best regards,
Przemek
From sscc at mweb.co.za  Tue Oct 20 06:01:02 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Oct 20 06:01:13 2009
Subject: [Harbour] Data Dictionary Support
Message-ID: <4ADD8A5E.5050008@mweb.co.za>

Hi

I was thinking of the following:

1. A compiler option to declare a data dictionary declaration so that statements 
of the form:
	workarea->fieldname
could be validated.

In the case where a DBF exists it could be used as a kind of "include" file, and 
there would need to be an alias mapping:
	WORKAREA "acc101.dbf" ALIAS accounts
and:
	accounts->name
would be validated, and:
	accounts->nane
would cause a compile time error. As would:
	ackounts->name

In the case where no dbf exists (perhaps a SQL database or the new "mem:" 
files), or it is not practical to read a dbf then some syntax like:
	WORKAREA accounts
	FIELD accounts->name 	
	FIELD accounts->address ... 	

If we ever introduce strong typing, then something like this will be needed anyway.

2. I have come to think of all global state as "evil", and would like to be able 
to declare work areas with local scope, and to be able to pass them as 
parameters, and to treat global work areas as undefined unless declared. The 
same "WORKAREA" keyword and FIELD extension might allow this, depending on 
whether it is placed within a procedure/function, or globally.

Anyone like this idea? I always program with full warnings and /es2 but Harbour 
does not help me with my field names at all.

Regards
Alex



From druzus at acn.waw.pl  Tue Oct 20 06:41:32 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Oct 20 06:41:38 2009
Subject: [Harbour] Data Dictionary Support
In-Reply-To: <4ADD8A5E.5050008@mweb.co.za>
References: <4ADD8A5E.5050008@mweb.co.za>
Message-ID: <20091020104132.GA15923@linux-8af1.home.aster.pl>

On Tue, 20 Oct 2009, Alex Strickland wrote:

Hi,

> I was thinking of the following:
> 1. A compiler option to declare a data dictionary declaration so
> that statements of the form:
> 	workarea->fieldname
> could be validated.
> In the case where a DBF exists it could be used as a kind of
> "include" file, and there would need to be an alias mapping:
> 	WORKAREA "acc101.dbf" ALIAS accounts
> and:
> 	accounts->name
> would be validated, and:
> 	accounts->nane
> would cause a compile time error. As would:
> 	ackounts->name
> In the case where no dbf exists (perhaps a SQL database or the new
> "mem:" files), or it is not practical to read a dbf then some syntax
> like:
> 	WORKAREA accounts
> 	FIELD accounts->name 	
> 	FIELD accounts->address ... 	

You can make it yourself using PP:

   #ifndef FIELD_NAMESPACE_OFF
      /* declare WORKAREA1 fields */
      #xtranslate WORKAREA1-><!field!>    => ;;
                              #error WORKAREA1 does not have field: #<field>
      #xtranslate WORKAREA1->name         => WORKAREA1->( _FIELD->name )
      #xtranslate WORKAREA1->date         => WORKAREA1->( _FIELD->date )
   #endif

   proc main()
      ? workarea1->name
      ? workarea1->nane
      ? workarea1->date
   return

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Oct 20 07:48:48 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Oct 20 07:52:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12736] trunk/harbour
Message-ID: <E1N0DCq-0004UE-2H@c3vjzd1.ch3.sourceforge.com>

Revision: 12736
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12736&view=rev
Author:   druzus
Date:     2009-10-20 11:48:46 +0000 (Tue, 20 Oct 2009)

Log Message:
-----------
2009-10-20 13:48 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/thread.c
  * harbour/include/hbthread.h
    * eliminated nameless unions

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbthread.h
    trunk/harbour/src/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Tue Oct 20 08:24:53 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Oct 20 08:24:51 2009
Subject: [Harbour] Data Dictionary Support
In-Reply-To: <4ADD8A5E.5050008@mweb.co.za>
References: <4ADD8A5E.5050008@mweb.co.za>
Message-ID: <4ADDAC15.6010908@dbtopas.lt>

Hi,


> 1. A compiler option to declare a data dictionary declaration so that 
> statements of the form:
>     workarea->fieldname
> could be validated.

Some time ago I had another idea. The letter of Alex just made me to 
remember and share it. Sometimes it is useful to have a "virtual field". 
On field access it can calculate and return a value using other fields, 
on assign it can decode value and put it into multiple fields, etc.


Regards,
Mindaugas

From dbtopas at dbtopas.lt  Tue Oct 20 08:37:49 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Oct 20 08:37:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12721] trunk/harbour
In-Reply-To: <E1Myw8A-0007Zk-UD@74yxhf1.ch3.sourceforge.com>
References: <E1Myw8A-0007Zk-UD@74yxhf1.ch3.sourceforge.com>
Message-ID: <4ADDAF1D.40908@dbtopas.lt>

Hi,


>     + added PRG functions for BlowFish encryption:
>          hb_blowfishKey( <cPass> ) -> <bfKey>
>          hb_blowfishEncrypt( <bfKey>, <cData> ) -> <cCryptedData>

http://www.schneier.com/blowfish.html says: "It takes a variable-length 
key, from 32 bits to 448 bits ..."
Is cPass parameter a key? Or key is computed using this password?
If cPass is a key, what will happen if it is shorter than 32 bit?
If cPass is not a key, how can key size be specified?


Thank You,
Mindaugas
From dbtopas at dbtopas.lt  Tue Oct 20 08:56:30 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Oct 20 08:56:28 2009
Subject: [Harbour] SqlMix and dbcreated
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C950290A1F0@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502909FFE@PINK.zycie.pzu>	<4AD86C8D.6050402@dbtopas.lt><FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0C7@PINK.zycie.pzu>	<4AD88C75.9000501@dbtopas.lt><FFAFD6EA63A3FC4784FBDA52BE7A7C950290A0CB@PINK.zycie.pzu>	<4ADB20C4.30305@dbtopas.lt>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950290A1F0@PINK.zycie.pzu>
Message-ID: <4ADDB37E.3050203@dbtopas.lt>

Hi,

>> DBUSEAREA(..., nConnection1)
> 
> In dbUseArea nConnection can be on 8 item/position. 
> That is nowhere in the documentation

Yes, nConnection is the 8th parameter. The most precise documentation is 
source :)


>> RDDI_ERROR, RDDI_ERRORNO after query execution.
> 
> Its return 1, but records inserted :)
> Where can I to read the meaning of return ? 
> Where can I find an example how full use of them ?

Well, I guess you use sddodbc. I found:
    /* TODO: error processing */
in execute method :( I must find a time to finish this.

I store error codes and error description returned from lower level API. 
So, error codes has value described in MySQL, ODBC, or reference manual 
of the database you use.


> For example, how do I can end a call the nConnection ?
> 
> Maybe rddInfo( RDDI_DISCONNECT, nConnection), but after this new
> connection is == n_old_Connectiom + 1, and I'm not sure that the old has
> been closed.
> How to check if the connection  nConnection is [still] active?

One more good question. In the current version of RDDSQL, 
RDDI_DISCONNECT disconnects from database, but connection number/handler 
is not freed, because it can be used from methods of open workarea. I 
must review available databases and think about the future, before 
making the final decision on connection close. Maybe a connection 
counter should be implemented and connection can be closed only if all 
work areas using the specified connection are closed...


Regards,
Mindaugas

From mbelgrano at deltain.it  Tue Oct 20 10:25:52 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct 20 10:26:18 2009
Subject: [Harbour] Data Dictionary Support
In-Reply-To: <4ADDAC15.6010908@dbtopas.lt>
References: <4ADD8A5E.5050008@mweb.co.za> <4ADDAC15.6010908@dbtopas.lt>
Message-ID: <609353e70910200725o3d2cec5elda8c4715f53ce765@mail.gmail.com>

Virtual Field  can be done in query

2009/10/20 Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>:
> Hi,
>
>
>> 1. A compiler option to declare a data dictionary declaration so that
>> statements of the form:
>> ? ?workarea->fieldname
>> could be validated.
>
> Some time ago I had another idea. The letter of Alex just made me to
> remember and share it. Sometimes it is useful to have a "virtual field". On
> field access it can calculate and return a value using other fields, on
> assign it can decode value and put it into multiple fields, etc.
>
>
> Regards,
> Mindaugas
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Tue Oct 20 10:26:59 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct 20 10:27:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12721] trunk/harbour
In-Reply-To: <4ADDAF1D.40908@dbtopas.lt>
References: <E1Myw8A-0007Zk-UD@74yxhf1.ch3.sourceforge.com> 
	<4ADDAF1D.40908@dbtopas.lt>
Message-ID: <609353e70910200726w2f6596bdm28cb1c86f12b548@mail.gmail.com>

Possible a sample

2009/10/20 Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>:
> Hi,
>
>
>> ? ?+ added PRG functions for BlowFish encryption:
>> ? ? ? ? hb_blowfishKey( <cPass> ) -> <bfKey>
>> ? ? ? ? hb_blowfishEncrypt( <bfKey>, <cData> ) -> <cCryptedData>
>
> http://www.schneier.com/blowfish.html says: "It takes a variable-length key,
> from 32 bits to 448 bits ..."
> Is cPass parameter a key? Or key is computed using this password?
> If cPass is a key, what will happen if it is shorter than 32 bit?
> If cPass is not a key, how can key size be specified?
>
>
> Thank You,
> Mindaugas
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From carozodequilmes at gmail.com  Tue Oct 20 10:48:08 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Tue Oct 20 10:48:15 2009
Subject: [Harbour] HbQt and Connect Events
Message-ID: <578c73340910200748ma8acd77n5abc83ea96cdb870@mail.gmail.com>

Hi Pritpal, in the last two months, I stopped my hbqt project while you has
correct the memory problem.

This week, I get back to work but my project abend when I connect the
QMainWindow with events....

I only recompile the old project (that worked fine) and with the last SVN
don't work

My connect is:

*   QT_CONNECT_EVENT( oWin:pPtr , 6 , {|o,e| My_Events( o , e ) } ) *

where oWin is the object for QMainWindow initialized with:

  oWin := QMainWindow():new()

Look the abend:

Application Internal Error - D:\SILVER~1\TESTS_~2\test_M2GH.EXE
Terminated at: 2009.10.19 18:04:54
Unrecoverable error 6005: Exception error:

    Exception Code:C0000005
    Exception Address:004AF378
    EAX:00000003  EBX:01F6EE2C  ECX:00000014  EDX:00000000
    ESI:01F6EAB0  EDI:00000003  EBP:00541ACE
    CS:EIP:001B:004AF378  SS:ESP:0023:0022FC20
    DS:0023  ES:0023  FS:003B  GS:0000
    Flags:00010202
    CS:EIP: 8B 42 08 8B 00 48 74 30 89 D0 83 C0 08 89 04 24
    SS:ESP: 0022FCA4 00000014 00573A35 00573A33 00000006 00573A33 00000001
00010321 00000000 00000030 0243B35C 02453074 00000006 00000000 00000006
00426C9C

    C stack:
    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...


Modules:
0x00400000 0x001D3000 D:\SILVER~1\TESTS_~2\test_M2GH.EXE
0x7C900000 0x000B0000 C:\WINDOWS\system32\ntdll.dll
0x7C800000 0x000F5000 C:\WINDOWS\system32\kernel32.dll
0x6A1C0000 0x002A8000 D:\SilverGui\hbqtcommand\QtCore4.dll
0x77DD0000 0x0009B000 C:\WINDOWS\system32\ADVAPI32.DLL
0x77E70000 0x00092000 C:\WINDOWS\system32\RPCRT4.dll
0x77FE0000 0x00011000 C:\WINDOWS\system32\Secur32.dll
0x6FBC0000 0x00008000 D:\SilverGui\hbqtcommand\mingwm10.dll
0x77C10000 0x00058000 C:\WINDOWS\system32\msvcrt.dll
0x774E0000 0x0013D000 C:\WINDOWS\system32\OLE32.dll
0x77F10000 0x00048000 C:\WINDOWS\system32\GDI32.dll
0x7E410000 0x00090000 C:\WINDOWS\system32\USER32.dll
0x71AB0000 0x00017000 C:\WINDOWS\system32\WS2_32.DLL
0x71AA0000 0x00008000 C:\WINDOWS\system32\WS2HELP.dll
0x65100000 0x00ACB000 D:\SilverGui\hbqtcommand\QtGui4.dll
0x763B0000 0x00049000 C:\WINDOWS\system32\COMDLG32.DLL
0x77F60000 0x00076000 C:\WINDOWS\system32\SHLWAPI.dll
0x773D0000 0x00103000
C:\WINDOWS\WinSxS\x86_Microsoft.Windows.Common-Controls_6595b64144ccf1df_6.0.2600.2982_x-ww_ac3f9c03\COMCTL32.dll
0x7C9C0000 0x00817000 C:\WINDOWS\system32\SHELL32.dll
0x76390000 0x0001D000 C:\WINDOWS\system32\IMM32.DLL
0x77120000 0x0008B000 C:\WINDOWS\system32\OLEAUT32.DLL
0x76B40000 0x0002D000 C:\WINDOWS\system32\WINMM.DLL
0x73000000 0x00026000 C:\WINDOWS\system32\WINSPOOL.DRV
0x6FF00000 0x0015F000 D:\SilverGui\hbqtcommand\QtNetwork4.dll
0x00680000 0x012B7000 D:\SilverGui\hbqtcommand\QtWebKit4.dll
0x77C00000 0x00008000 C:\WINDOWS\system32\VERSION.dll
0x71AD0000 0x00009000 C:\WINDOWS\system32\WSOCK32.DLL
0x629C0000 0x00009000 C:\WINDOWS\system32\LPK.DLL
0x74D90000 0x0006B000 C:\WINDOWS\system32\USP10.dll
0x5AD70000 0x00038000 C:\WINDOWS\system32\uxtheme.dll
0x63000000 0x00014000 C:\WINDOWS\system32\SynTPFcs.dll
0x755C0000 0x0002E000 C:\WINDOWS\system32\msctfime.ime
0x68F00000 0x00014000 D:\Qt\4.5.2\plugins\imageformats\qgif4.dll
0x6BDC0000 0x00015000 D:\Qt\4.5.2\plugins\imageformats\qico4.dll
0x645C0000 0x00031000 D:\Qt\4.5.2\plugins\imageformats\qjpeg4.dll
0x6EFC0000 0x00056000 D:\Qt\4.5.2\plugins\imageformats\qmng4.dll
0x632C0000 0x00059000 D:\Qt\4.5.2\plugins\imageformats\qtiff4.dll
0x76C30000 0x0002E000 C:\WINDOWS\system32\WINTRUST.dll
0x77A80000 0x00094000 C:\WINDOWS\system32\CRYPT32.dll
0x77B20000 0x00012000 C:\WINDOWS\system32\MSASN1.dll
0x76C90000 0x00028000 C:\WINDOWS\system32\IMAGEHLP.dll
0x72D20000 0x00009000 C:\WINDOWS\system32\wdmaud.drv
0x72D10000 0x00008000 C:\WINDOWS\system32\msacm32.drv
0x77BE0000 0x00015000 C:\WINDOWS\system32\MSACM32.dll
0x77BD0000 0x00007000 C:\WINDOWS\system32\midimap.dll

Called from *QT_CONNECT_EVENT*(0)
Called from MAIN(10) in D:\SILVER~1\TESTS_~2\test.prg
------------------------------------------------------------------------

Is there anything I should change?

Thanks in advance
CdQ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091020/da77477f/attachment-0001.html
From druzus at acn.waw.pl  Tue Oct 20 11:22:47 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Oct 20 11:22:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12721] trunk/harbour
In-Reply-To: <4ADDAF1D.40908@dbtopas.lt>
References: <E1Myw8A-0007Zk-UD@74yxhf1.ch3.sourceforge.com>
	<4ADDAF1D.40908@dbtopas.lt>
Message-ID: <20091020152246.GA29094@linux-8af1.home.aster.pl>

On Tue, 20 Oct 2009, Mindaugas Kavaliauskas wrote:

Hi,

> >    + added PRG functions for BlowFish encryption:
> >         hb_blowfishKey( <cPass> ) -> <bfKey>
> >         hb_blowfishEncrypt( <bfKey>, <cData> ) -> <cCryptedData>
> http://www.schneier.com/blowfish.html says: "It takes a
> variable-length key, from 32 bits to 448 bits ..."
> Is cPass parameter a key? Or key is computed using this password?

<cPass> is the key from above description which is transformed to <bfKey>
used in encryption/decryption algorithm by hb_blowfishInit() function.

> If cPass is a key, what will happen if it is shorter than 32 bit?

I haven't analyzed it mathematically but probably in such case it's
a big risk to chose week key.
Technically you can use any non empty string as cPass. Bytes from
cPass are used cyclically to create 32bit values used to xor keys
in p-array. The implementation I committed does not follow the original
BlowFish description but rather reference implementations which instead
of xoring keys from 1 to 14 xors all 18 keys. It means that insted of
448 bits upto 576 bits from passsed cPass is used.

best regards,
Przemek
From bedipritpal at hotmail.com  Tue Oct 20 11:32:19 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Oct 20 11:32:25 2009
Subject: [Harbour] HbQt and Connect Events
In-Reply-To: <578c73340910200748ma8acd77n5abc83ea96cdb870@mail.gmail.com>
References: <578c73340910200748ma8acd77n5abc83ea96cdb870@mail.gmail.com>
Message-ID: <25977345.post@talk.nabble.com>


Hi


CarozoDeQuilmes wrote:
> 
> Hi Pritpal, in the last two months, I stopped my hbqt project while you
> has
> correct the memory problem.
> 
> This week, I get back to work but my project abend when I connect the
> QMainWindow with events....
> 

Though your code should work fine but still hold on for a couple of days.
I am almost near to resolve some issues.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HbQt-and-Connect-Events-tp25976580p25977345.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Tue Oct 20 11:49:26 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct 20 11:49:53 2009
Subject: [Harbour] HbQt and Connect Events
In-Reply-To: <25977345.post@talk.nabble.com>
References: <578c73340910200748ma8acd77n5abc83ea96cdb870@mail.gmail.com> 
	<25977345.post@talk.nabble.com>
Message-ID: <609353e70910200849n1e669b4cpc27b724a77ab9544@mail.gmail.com>

Hi CarozoDeQuilmes
if you can post here your source or a refactory version we can try
when qt is ready

2009/10/20 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hi
>
>
> CarozoDeQuilmes wrote:
>>
>> Hi Pritpal, in the last two months, I stopped my hbqt project while you
>> has
>> correct the memory problem.
>>
>> This week, I get back to work but my project abend when I connect the
>> QMainWindow with events....
>>
>
> Though your code should work fine but still hold on for a couple of days.
> I am almost near to resolve some issues.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context: http://www.nabble.com/HbQt-and-Connect-Events-tp25976580p25977345.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Tue Oct 20 12:17:27 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct 20 12:17:54 2009
Subject: [Harbour] RDDADO
In-Reply-To: <E8B2C88B-86C4-4DBC-9584-04A1A46AE67A@syenar.hu>
References: <E8B2C88B-86C4-4DBC-9584-04A1A46AE67A@syenar.hu>
Message-ID: <609353e70910200917s2d8acb17qf6be6eeac3ac6e39@mail.gmail.com>

I agree moving to example

>For me Is not a problem. I am not using adordd in my project
>I tryed verify if possible remove same problem (present using sample!)
>posting here the three problem and I can't find any solution
>In other free and open source project i have found different result
>This is my Last mail on this argument
>>Massimo,
>>ADORDD is a free and open source RDD. It seems to me as you don't understand the real meaning of that :-)[/quote]


2009/10/12 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi All,
>
> In case there are no objections and nobody volunteers to touch
> RDDADO code to make it work after xhb sync and maybe some other
> recent changes, I'd like to propose to delete it from repository
> or move it to examples.
>
> We have RDDSQL as a nice replacement, even if write support
> isn't fully equivalent (or maybe some other differences I
> failed to grasp).
>
> Having a non-working RDDADO has not much point IMO, and we're
> approaching a final release.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From bedipritpal at hotmail.com  Tue Oct 20 13:28:03 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Oct 20 13:28:09 2009
Subject: [Harbour] HbQt and Connect Events
In-Reply-To: <578c73340910200748ma8acd77n5abc83ea96cdb870@mail.gmail.com>
References: <578c73340910200748ma8acd77n5abc83ea96cdb870@mail.gmail.com>
Message-ID: <25979231.post@talk.nabble.com>


Hi

For a quick solution change as below:

HB_FUNC( QT_DISCONNECT_EVENT )
{
   QObject * object = ( QObject * ) hb_parptr( 1 );
   int       type   = hb_parni( 2 );
   bool      bRet   = false;
   Events  * s_e    = qt_getEventFilter();

   char str[ 10 ];
   hb_snprintf( str, sizeof( str ), "%s%i%s", "P", type, "P" );    /* Make
it a unique identifier */
...
}

         =>

HB_FUNC( QT_DISCONNECT_EVENT )
{
   int       type   = hb_parni( 2 );
   bool      bRet   = false;
   Events  * s_e    = qt_getEventFilter();
   QObject * object    = ( QObject* ) hbqt_gcpointer( 1 );          /* get
sender    */
   if( !object )
   {
      object = ( QObject* ) hb_parptr( 1 );
   }

   char str[ 10 ];
   hb_snprintf( str, sizeof( str ), "%s%i%s", "P", type, "P" );    /* Make
it a unique identifier */
...
}

And let me know if it helps.

Regards
Pritpal Bedi



-- 
View this message in context: http://www.nabble.com/HbQt-and-Connect-Events-tp25976580p25979231.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From carozodequilmes at gmail.com  Tue Oct 20 15:21:01 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Tue Oct 20 15:21:10 2009
Subject: [Harbour] HbQt and Connect Events
In-Reply-To: <25979231.post@talk.nabble.com>
References: <578c73340910200748ma8acd77n5abc83ea96cdb870@mail.gmail.com>
	<25979231.post@talk.nabble.com>
Message-ID: <578c73340910201221o4b063c7bh33867ba5147d17fd@mail.gmail.com>

Hi Pritpal,

After download the last SVN, I changed the hbqt_slots.cpp and rebuilt hbqt
library.

Then, I compile my sample and get the same error.  Changes hasn't effect,
the problem continue

I have made a little sample program called signals.prg for test

#include "common.ch"

STATIC qApp

INIT PROCEDURE Qt_Start()
   qApp := QApplication():new()
   RETURN

EXIT PROCEDURE Qt_End()
   qApp:quit()
   RETURN

PROCEDURE Main()
   Local oWin
   oWin := QMainWindow():new()
   oWin:ReSize( 640, 400 )
   oWin:Move( 10 , 10 )
   QT_CONNECT_EVENT( oWin:pPtr , 6 , {|o,e| My_Events( o , e ) } )  // *<--
Cancel here*
   oWin:Show()
   qApp:exec()
RETURN .T.

Function My_Events( o , e )
   MsgInfo( "Key Pressed" )
Return .T.

STATIC FUNCTION MsgInfo( cMsg )
   LOCAL oMB
   oMB := QMessageBox():new()
   oMB:setInformativeText( cMsg )
   oMB:setWindowTitle( "Harbour-QT" )
   oMB:exec()
RETURN nil

#ifdef __PLATFORM__WINDOWS
PROCEDURE hb_GtSys()
   HB_GT_GUI_DEFAULT()
   RETURN
#endif

hb_out.log:

Application Internal Error - D:\SILVER~1\TESTS_~1\signals.EXE
Terminated at: 2009.10.20 16:11:06
Unrecoverable error 6005: Exception error:

    Exception Code:C0000005
    Exception Address:004B0538
    EAX:00000003  EBX:01EC4BDC  ECX:00000014  EDX:00000000
    ESI:01EC5994  EDI:00000003  EBP:004FF237
    CS:EIP:001B:004B0538  SS:ESP:0023:0022FC20
    DS:0023  ES:0023  FS:003B  GS:0000
    Flags:00010202
    CS:EIP: 8B 42 08 8B 00 48 74 30 89 D0 83 C0 08 89 04 24
    SS:ESP: 0022FCA4 00000014 005084F5 005084F3 00000006 005084F3 004FF214
00000201 0050EF73 004FCC60 0238594C 0238AA44 00000006 00000000 004FA160
0041720F

    C stack:
    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...


Modules:
0x00400000 0x00140000 D:\SILVER~1\TESTS_~1\signals.EXE
0x7C900000 0x000B0000 C:\WINDOWS\system32\ntdll.dll
0x7C800000 0x000F5000 C:\WINDOWS\system32\kernel32.dll
0x6A1C0000 0x002A8000 D:\SilverGui\hbqtcommand\QtCore4.dll
0x77DD0000 0x0009B000 C:\WINDOWS\system32\ADVAPI32.DLL
0x77E70000 0x00092000 C:\WINDOWS\system32\RPCRT4.dll
0x77FE0000 0x00011000 C:\WINDOWS\system32\Secur32.dll
0x6FBC0000 0x00008000 D:\SilverGui\hbqtcommand\mingwm10.dll
0x77C10000 0x00058000 C:\WINDOWS\system32\msvcrt.dll
0x774E0000 0x0013D000 C:\WINDOWS\system32\OLE32.dll
0x77F10000 0x00048000 C:\WINDOWS\system32\GDI32.dll
0x7E410000 0x00090000 C:\WINDOWS\system32\USER32.dll
0x71AB0000 0x00017000 C:\WINDOWS\system32\WS2_32.DLL
0x71AA0000 0x00008000 C:\WINDOWS\system32\WS2HELP.dll
0x65100000 0x00ACB000 D:\SilverGui\hbqtcommand\QtGui4.dll
0x763B0000 0x00049000 C:\WINDOWS\system32\COMDLG32.DLL
0x77F60000 0x00076000 C:\WINDOWS\system32\SHLWAPI.dll
0x773D0000 0x00103000
C:\WINDOWS\WinSxS\x86_Microsoft.Windows.Common-Controls_6595b64144ccf1df_6.0.2600.2982_x-ww_ac3f9c03\COMCTL32.dll
0x7C9C0000 0x00817000 C:\WINDOWS\system32\SHELL32.dll
0x76390000 0x0001D000 C:\WINDOWS\system32\IMM32.DLL
0x77120000 0x0008B000 C:\WINDOWS\system32\OLEAUT32.DLL
0x76B40000 0x0002D000 C:\WINDOWS\system32\WINMM.DLL
0x73000000 0x00026000 C:\WINDOWS\system32\WINSPOOL.DRV
0x6FF00000 0x0015F000 D:\SilverGui\hbqtcommand\QtNetwork4.dll
0x005E0000 0x012B7000 D:\SilverGui\hbqtcommand\QtWebKit4.dll
0x77C00000 0x00008000 C:\WINDOWS\system32\VERSION.dll
0x629C0000 0x00009000 C:\WINDOWS\system32\LPK.DLL
0x74D90000 0x0006B000 C:\WINDOWS\system32\USP10.dll
0x5AD70000 0x00038000 C:\WINDOWS\system32\uxtheme.dll
0x63000000 0x00014000 C:\WINDOWS\system32\SynTPFcs.dll
0x755C0000 0x0002E000 C:\WINDOWS\system32\msctfime.ime

Called from QT_CONNECT_EVENT(0)
Called from MAIN(22) in D:\SILVER~1\TESTS_~1\signals.prg
------------------------------------------------------------------------

Regards
CdQ












On Tue, Oct 20, 2009 at 2:28 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi
>
> For a quick solution change as below:
>
> HB_FUNC( QT_DISCONNECT_EVENT )
> {
>   QObject * object = ( QObject * ) hb_parptr( 1 );
>   int       type   = hb_parni( 2 );
>   bool      bRet   = false;
>   Events  * s_e    = qt_getEventFilter();
>
>   char str[ 10 ];
>   hb_snprintf( str, sizeof( str ), "%s%i%s", "P", type, "P" );    /* Make
> it a unique identifier */
> ...
> }
>
>         =>
>
> HB_FUNC( QT_DISCONNECT_EVENT )
> {
>   int       type   = hb_parni( 2 );
>   bool      bRet   = false;
>   Events  * s_e    = qt_getEventFilter();
>   QObject * object    = ( QObject* ) hbqt_gcpointer( 1 );          /* get
> sender    */
>   if( !object )
>   {
>      object = ( QObject* ) hb_parptr( 1 );
>   }
>
>   char str[ 10 ];
>   hb_snprintf( str, sizeof( str ), "%s%i%s", "P", type, "P" );    /* Make
> it a unique identifier */
> ...
> }
>
> And let me know if it helps.
>
> Regards
> Pritpal Bedi
>
>
>
> --
> View this message in context:
> http://www.nabble.com/HbQt-and-Connect-Events-tp25976580p25979231.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
QAC (I want something comfortable !!!) - Incremental Compilation with all
MiniGUIs versions
QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las
versiones de MiniGUI

Download: www.CarozoDeQuilmes.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091020/fba688a9/attachment-0001.html
From harbour.01 at syenar.hu  Tue Oct 20 15:29:00 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Oct 20 15:29:11 2009
Subject: [Harbour] msvc64 warnings in netio
Message-ID: <36C44071-CC88-4A14-A2E4-DDAC5EB57370@syenar.hu>

Hi Przemek,

I've found some not yet seen msvc64 warnings in netio:

---
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
Ot2b1 -EHs-c- -MT   -DUNICODE  -Fonetiosrv.obj -c ../../../netiosrv.c
netiosrv.c
../../../netiosrv.c(466) : warning C4310: cast truncates constant value
../../../netiosrv.c(466) : warning C4310: cast truncates constant value
../../../netiosrv.c(466) : warning C4310: cast truncates constant value
../../../netiosrv.c(677) : warning C4333: '>>' : right shift by too  
large amount, data loss
../../../netiosrv.c(677) : warning C4333: '>>' : right shift by too  
large amount, data loss
../../../netiosrv.c(706) : warning C4333: '>>' : right shift by too  
large amount, data loss
../../../netiosrv.c(706) : warning C4333: '>>' : right shift by too  
large amount, data loss
../../../netiosrv.c(759) : warning C4333: '>>' : right shift by too  
large amount, data loss
../../../netiosrv.c(759) : warning C4333: '>>' : right shift by too  
large amount, data loss
---

I mean the last 6 ones.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Oct 20 15:36:35 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Oct 20 15:36:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12737] trunk/harbour
Message-ID: <E1N0KVX-0005QX-GY@3kljzd1.ch3.sourceforge.com>

Revision: 12737
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12737&view=rev
Author:   vszakats
Date:     2009-10-20 19:36:34 +0000 (Tue, 20 Oct 2009)

Log Message:
-----------
2009-10-20 21:35 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/rddads/adsfunc.c
  * contrib/rddads/rddads.h
  * contrib/rddads/ads1.c
    ! Fixed fatal errors for 64-bit builds. I don't if there exist 
      a 64-bit version of ACE, but anyway.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/contrib/rddads/adsfunc.c
    trunk/harbour/contrib/rddads/rddads.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Tue Oct 20 15:53:13 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Oct 20 15:53:19 2009
Subject: [Harbour] HbQt and Connect Events
In-Reply-To: <578c73340910201221o4b063c7bh33867ba5147d17fd@mail.gmail.com>
References: <578c73340910200748ma8acd77n5abc83ea96cdb870@mail.gmail.com>
	<25979231.post@talk.nabble.com>
	<578c73340910201221o4b063c7bh33867ba5147d17fd@mail.gmail.com>
Message-ID: <25981393.post@talk.nabble.com>


Hi

My fault. I did not mention the other function.

HB_FUNC( QT_CONNECT_EVENT )
{
   QObject * object    = ( QObject * ) hb_parptr( 1 );
   int       type      = hb_parni( 2 );
   PHB_ITEM  codeblock = hb_itemNew( hb_param( 3, HB_IT_BLOCK | HB_IT_BYREF
) );
   Events  * s_e       = qt_getEventFilter();

   char str[ 20 ];
   hb_snprintf( str, sizeof( str ), "%s%i%s", "P", type, "P" );    /* Make
it a unique identifier */

   s_e->listBlock << codeblock;
   s_e->listActv  << true;
   s_e->listObj   << object;

   object->setProperty( str, ( int ) s_e->listBlock.size() );

   hb_retl( true );
}

=>

HB_FUNC( QT_CONNECT_EVENT )
{
   int       type      = hb_parni( 2 );
   PHB_ITEM  codeblock = hb_itemNew( hb_param( 3, HB_IT_BLOCK | HB_IT_BYREF
) );
   Events  * s_e       = qt_getEventFilter();

   QObject * object    = ( QObject* ) hbqt_gcpointer( 1 ); 
   if( !object )
   {
      object = ( QObject* ) hb_parptr( 1 );
   }

   char str[ 20 ];
   hb_snprintf( str, sizeof( str ), "%s%i%s", "P", type, "P" );    /* Make
it a unique identifier */

   s_e->listBlock << codeblock;
   s_e->listActv  << true;
   s_e->listObj   << object;

   object->setProperty( str, ( int ) s_e->listBlock.size() );

   hb_retl( true );
}

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HbQt-and-Connect-Events-tp25976580p25981393.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Tue Oct 20 15:59:44 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Oct 20 15:59:50 2009
Subject: [Harbour] HBQT - More classes added but cannot make lib now
In-Reply-To: <89D3D639-D8B5-4EA2-8E76-34792837D003@syenar.hu>
References: <25951480.post@talk.nabble.com>
	<89D3D639-D8B5-4EA2-8E76-34792837D003@syenar.hu>
Message-ID: <25981494.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> HBQT became very large. We shall split it to multiple libs as
> shortly discussed it recently. Best would be to split it along
> the QT .dll structure:
> 
> /contrib/hbqt/qtcore
> /contrib/hbqt/qtgui
> /contrib/hbqt/qtnetwork
> /contrib/hbqt/qtwebkit
> 

Can you provide a skeleton how to call the make system 
for above to implement, under contrib/hbqt folder ?
Or we have to have four folders under contrib/hbqt/hbqtcore , hbqtgui,
hbqtnetwork, hbqtwebkit ?
So that I tweak the generator to this effect.



> These would remain as is:
> /contrib/hbqt/doc
> /contrib/hbqt/qth
> /contrib/hbqt/tests
> /contrib/hbqt/generator
> 

Depends.



> Alternatively we can start hacking make files (msvc and mingw),
> but I'd think this isn't the right solution in this case.
> 

Best if this can be achieved.
One suggession would be if we can separate .cpp lib and .prg lib.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/HBQT---More-classes-added-but-cannot-make-lib-now-tp25951480p25981494.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From carozodequilmes at gmail.com  Tue Oct 20 16:10:21 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Tue Oct 20 16:10:28 2009
Subject: [Harbour] HbQt and Connect Events
In-Reply-To: <25981393.post@talk.nabble.com>
References: <578c73340910200748ma8acd77n5abc83ea96cdb870@mail.gmail.com>
	<25979231.post@talk.nabble.com>
	<578c73340910201221o4b063c7bh33867ba5147d17fd@mail.gmail.com>
	<25981393.post@talk.nabble.com>
Message-ID: <578c73340910201310n72b1253cvc867e9496c274c47@mail.gmail.com>

Hi Pritpal

It don't work.

The sample that I sent in the previous mail, work fine in you test
environment ???

hb_out_log

Application Internal Error - D:\SILVER~1\TESTS_~1\signals.EXE
Terminated at: 2009.10.20 17:00:38
Unrecoverable error 6005: Exception error:

    Exception Code:C0000005
    Exception Address:004B0549
    EAX:00000003  EBX:01EC4BDC  ECX:00000014  EDX:00000000
    ESI:01EC5994  EDI:00000003  EBP:004FF237
    CS:EIP:001B:004B0549  SS:ESP:0023:0022FC20
    DS:0023  ES:0023  FS:003B  GS:0000
    Flags:00010202
    CS:EIP: 8B 42 08 8B 00 48 74 2F 89 D0 83 C0 08 89 04 24
    SS:ESP: 0022FCA4 00000014 005084F5 005084F3 00000006 005084F3 004FF214
00000201 0050EF73 004FCC60 0238AA44 00000006 00000000 0238AA18 004FA160
0041720F

    C stack:
    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...


Modules:
0x00400000 0x00140000 D:\SILVER~1\TESTS_~1\signals.EXE
0x7C900000 0x000B0000 C:\WINDOWS\system32\ntdll.dll
0x7C800000 0x000F5000 C:\WINDOWS\system32\kernel32.dll
0x6A1C0000 0x002A8000 D:\SilverGui\hbqtcommand\QtCore4.dll
0x77DD0000 0x0009B000 C:\WINDOWS\system32\ADVAPI32.DLL
0x77E70000 0x00092000 C:\WINDOWS\system32\RPCRT4.dll
0x77FE0000 0x00011000 C:\WINDOWS\system32\Secur32.dll
0x6FBC0000 0x00008000 D:\SilverGui\hbqtcommand\mingwm10.dll
0x77C10000 0x00058000 C:\WINDOWS\system32\msvcrt.dll
0x774E0000 0x0013D000 C:\WINDOWS\system32\OLE32.dll
0x77F10000 0x00048000 C:\WINDOWS\system32\GDI32.dll
0x7E410000 0x00090000 C:\WINDOWS\system32\USER32.dll
0x71AB0000 0x00017000 C:\WINDOWS\system32\WS2_32.DLL
0x71AA0000 0x00008000 C:\WINDOWS\system32\WS2HELP.dll
0x65100000 0x00ACB000 D:\SilverGui\hbqtcommand\QtGui4.dll
0x763B0000 0x00049000 C:\WINDOWS\system32\COMDLG32.DLL
0x77F60000 0x00076000 C:\WINDOWS\system32\SHLWAPI.dll
0x773D0000 0x00103000
C:\WINDOWS\WinSxS\x86_Microsoft.Windows.Common-Controls_6595b64144ccf1df_6.0.2600.2982_x-ww_ac3f9c03\COMCTL32.dll
0x7C9C0000 0x00817000 C:\WINDOWS\system32\SHELL32.dll
0x76390000 0x0001D000 C:\WINDOWS\system32\IMM32.DLL
0x77120000 0x0008B000 C:\WINDOWS\system32\OLEAUT32.DLL
0x76B40000 0x0002D000 C:\WINDOWS\system32\WINMM.DLL
0x73000000 0x00026000 C:\WINDOWS\system32\WINSPOOL.DRV
0x6FF00000 0x0015F000 D:\SilverGui\hbqtcommand\QtNetwork4.dll
0x005E0000 0x012B7000 D:\SilverGui\hbqtcommand\QtWebKit4.dll
0x77C00000 0x00008000 C:\WINDOWS\system32\VERSION.dll
0x629C0000 0x00009000 C:\WINDOWS\system32\LPK.DLL
0x74D90000 0x0006B000 C:\WINDOWS\system32\USP10.dll
0x5AD70000 0x00038000 C:\WINDOWS\system32\uxtheme.dll
0x63000000 0x00014000 C:\WINDOWS\system32\SynTPFcs.dll
0x755C0000 0x0002E000 C:\WINDOWS\system32\msctfime.ime

Called from QT_CONNECT_EVENT(0)
Called from MAIN(18) in D:\SILVER~1\TESTS_~1\signals.prg
------------------------------------------------------------------------

Thanks
CdQ


On Tue, Oct 20, 2009 at 4:53 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi
>
> My fault. I did not mention the other function.
>
> HB_FUNC( QT_CONNECT_EVENT )
> {
>   QObject * object    = ( QObject * ) hb_parptr( 1 );
>   int       type      = hb_parni( 2 );
>    PHB_ITEM  codeblock = hb_itemNew( hb_param( 3, HB_IT_BLOCK | HB_IT_BYREF
> ) );
>    Events  * s_e       = qt_getEventFilter();
>
>   char str[ 20 ];
>   hb_snprintf( str, sizeof( str ), "%s%i%s", "P", type, "P" );    /* Make
> it a unique identifier */
>
>    s_e->listBlock << codeblock;
>   s_e->listActv  << true;
>   s_e->listObj   << object;
>
>   object->setProperty( str, ( int ) s_e->listBlock.size() );
>
>   hb_retl( true );
> }
>
> =>
>
> HB_FUNC( QT_CONNECT_EVENT )
> {
>   int       type      = hb_parni( 2 );
>    PHB_ITEM  codeblock = hb_itemNew( hb_param( 3, HB_IT_BLOCK | HB_IT_BYREF
> ) );
>    Events  * s_e       = qt_getEventFilter();
>
>   QObject * object    = ( QObject* ) hbqt_gcpointer( 1 );
>    if( !object )
>   {
>      object = ( QObject* ) hb_parptr( 1 );
>   }
>
>    char str[ 20 ];
>   hb_snprintf( str, sizeof( str ), "%s%i%s", "P", type, "P" );    /* Make
> it a unique identifier */
>
>    s_e->listBlock << codeblock;
>   s_e->listActv  << true;
>   s_e->listObj   << object;
>
>   object->setProperty( str, ( int ) s_e->listBlock.size() );
>
>   hb_retl( true );
> }
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/HbQt-and-Connect-Events-tp25976580p25981393.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
QAC (I want something comfortable !!!) - Incremental Compilation with all
MiniGUIs versions
QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las
versiones de MiniGUI

Download: www.CarozoDeQuilmes.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091020/04fe747c/attachment-0001.html
From bedipritpal at hotmail.com  Tue Oct 20 16:12:18 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Oct 20 16:12:25 2009
Subject: [Harbour] HBQT - A Clarification
In-Reply-To: <20091019072403.GA10588@linux-8af1.home.aster.pl>
References: <25951642.post@talk.nabble.com> <25953123.post@talk.nabble.com>
	<20091019072403.GA10588@linux-8af1.home.aster.pl>
Message-ID: <25981722.post@talk.nabble.com>


Hello Przemek

Thanks for the detailed analysis.

My question was targetting another issue, though.
Perhaps I could not explain what I was asking about.
I have redesigned and reimplemented destructors 
in another way and mostly everything is working fine.

Your analysis 



> I do not think so. Any code like:
>    return ( ph && * ph ? * ph : hb_parptr( iParam ) );
> is potential source of GPF. If ph is NULL then user passed wrong
> parameter.
> If *ph is NULL then parameter was freed by QT. In such context using
>    hb_parptr( iParam )
> breaks functionality given by using QPointer class because the fact that
> references were cleared is ignored and code code access wrong memory
> area. It can be source of any other unexpected behavior so it's hard to
> analyze your problems because it's possible that they are caused by above
> peace of code.
> 

Has valid concerns but this is how HBQT is implemented from the 
inception. I will explain why I call like 
    return ( ph && * ph ? * ph : hb_parptr( iParam ) );
in a couple of days after committing next which resolves 
a lot of concerns. Then probably you would guide me in a right
direction concerning this issue.
 



> HB_FUNC( QT_QWIDGET_SHOW )
> {
>    QWidget * qw = hbqt_par_QWidget( 1 );
>    if( qw )
>    {
>       qw->show();
>    }
> }
> 

This part is easy and has to be taken care by the generator.
So this can be implemented in no-time. But before this I would 
like to carry other experiments.

Please keep on guiding in this direction.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HBQT---A-Clarification-tp25951642p25981722.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Oct 20 16:12:47 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Oct 20 16:12:56 2009
Subject: [Harbour] HBQT - More classes added but cannot make lib now
In-Reply-To: <25981494.post@talk.nabble.com>
References: <25951480.post@talk.nabble.com>
	<89D3D639-D8B5-4EA2-8E76-34792837D003@syenar.hu>
	<25981494.post@talk.nabble.com>
Message-ID: <0236457F-B6A3-4737-8D02-9511FC096EC0@syenar.hu>

Hi Pritpal,

> Viktor Szak?ts wrote:
>>
>> HBQT became very large. We shall split it to multiple libs as
>> shortly discussed it recently. Best would be to split it along
>> the QT .dll structure:
>>
>> /contrib/hbqt/qtcore
>> /contrib/hbqt/qtgui
>> /contrib/hbqt/qtnetwork
>> /contrib/hbqt/qtwebkit
>>
>
> Can you provide a skeleton how to call the make system
> for above to implement, under contrib/hbqt folder ?
> Or we have to have four folders under contrib/hbqt/hbqtcore , hbqtgui,
> hbqtnetwork, hbqtwebkit ?

Yes, exactly.

It will be a little bit similar to rddsql dir layout.

> So that I tweak the generator to this effect.
>
>> These would remain as is:
>> /contrib/hbqt/doc
>> /contrib/hbqt/qth
>> /contrib/hbqt/tests
>> /contrib/hbqt/generator
>>
>
> Depends.

You can separate doc and qth, but for simplicity
and to avoid large amount of redundancy the generator
itself should be kept central. The tests as well.

>> Alternatively we can start hacking make files (msvc and mingw),
>> but I'd think this isn't the right solution in this case.
>>
>
> Best if this can be achieved.

It's huge job to do generically, doing it partially
would be a hbqt specific hack, which isn't a good idea
as it will block porting hbqt to new compilers.

> One suggession would be if we can separate .cpp lib and .prg lib.

That would be making separate libs based on such internal technical
detail as source code kind. This is meaningless for users, and
it takes almost the same amount and type of work as described
in first point. Plus it's fatal if the two becomes unsynced.
So my vote against this.

Brgds,
Viktor

From bedipritpal at hotmail.com  Tue Oct 20 16:26:15 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Oct 20 16:26:21 2009
Subject: [Harbour] HbQt and Connect Events
In-Reply-To: <578c73340910201310n72b1253cvc867e9496c274c47@mail.gmail.com>
References: <578c73340910200748ma8acd77n5abc83ea96cdb870@mail.gmail.com>
	<25979231.post@talk.nabble.com>
	<578c73340910201221o4b063c7bh33867ba5147d17fd@mail.gmail.com>
	<25981393.post@talk.nabble.com>
	<578c73340910201310n72b1253cvc867e9496c274c47@mail.gmail.com>
Message-ID: <25981940.post@talk.nabble.com>


Hi


CarozoDeQuilmes wrote:
> 
> It don't work.
> 
> The sample that I sent in the previous mail, work fine in you test
> environment ???
> 

No, I am not around my development environment. 
May be later today.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HbQt-and-Connect-Events-tp25976580p25981940.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Oct 20 16:28:09 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Oct 20 16:28:17 2009
Subject: [Harbour] HBQT - A Clarification
In-Reply-To: <25981722.post@talk.nabble.com>
References: <25951642.post@talk.nabble.com> <25953123.post@talk.nabble.com>
	<20091019072403.GA10588@linux-8af1.home.aster.pl>
	<25981722.post@talk.nabble.com>
Message-ID: <8CA3AF1F-9C3F-43B9-B3BB-5E973C47A175@syenar.hu>

>> I do not think so. Any code like:
>>   return ( ph && * ph ? * ph : hb_parptr( iParam ) );
>> is potential source of GPF. If ph is NULL then user passed wrong
>> parameter.
>> If *ph is NULL then parameter was freed by QT. In such context using
>>   hb_parptr( iParam )
>> breaks functionality given by using QPointer class because the fact  
>> that
>> references were cleared is ignored and code code access wrong memory
>> area. It can be source of any other unexpected behavior so it's  
>> hard to
>> analyze your problems because it's possible that they are caused by  
>> above
>> peace of code.
>>
>
> Has valid concerns but this is how HBQT is implemented from the
> inception. I will explain why I call like
>    return ( ph && * ph ? * ph : hb_parptr( iParam ) );
> in a couple of days after committing next which resolves
> a lot of concerns. Then probably you would guide me in a right
> direction concerning this issue.

This is a very important issue and it should be fixed
if we want to rely on HBQT for serious work. I also suggest
to create RTE when wrong parameter is passed instead of
GC collected pointer of valid kind. It's not really a topic
which should or could be debated. If a library allows to
create GPF just by passing wrong parameter to it, it's wrong
and we never can be sure if a reported GPF is some "real"
error, or "just" a wrongly passed parameter. Not to mention
that wrongly passed parameters can easily signal errors in
other parts of the lib, which makes detection even more
complicated.

Using hb_parptr() when wrong parameter is detected just
makes handling of the problem even more fishy.

An RTE is straightforward though.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Oct 20 16:40:22 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Oct 20 16:40:27 2009
Subject: [Harbour] msvc64 warnings in netio
In-Reply-To: <36C44071-CC88-4A14-A2E4-DDAC5EB57370@syenar.hu>
References: <36C44071-CC88-4A14-A2E4-DDAC5EB57370@syenar.hu>
Message-ID: <20091020204021.GA17477@linux-8af1.home.aster.pl>

On Tue, 20 Oct 2009, Szak?ts Viktor wrote:

Hi,

> I've found some not yet seen msvc64 warnings in netio:
> ---
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -
> Ot2b1 -EHs-c- -MT   -DUNICODE  -Fonetiosrv.obj -c
> ../../../netiosrv.c
> netiosrv.c
> ../../../netiosrv.c(466) : warning C4310: cast truncates constant value
> ../../../netiosrv.c(466) : warning C4310: cast truncates constant value
> ../../../netiosrv.c(466) : warning C4310: cast truncates constant value
> ../../../netiosrv.c(677) : warning C4333: '>>' : right shift by too
> large amount, data loss
> ../../../netiosrv.c(677) : warning C4333: '>>' : right shift by too
> large amount, data loss
> ../../../netiosrv.c(706) : warning C4333: '>>' : right shift by too
> large amount, data loss
> ../../../netiosrv.c(706) : warning C4333: '>>' : right shift by too
> large amount, data loss
> ../../../netiosrv.c(759) : warning C4333: '>>' : right shift by too
> large amount, data loss
> ../../../netiosrv.c(759) : warning C4333: '>>' : right shift by too
> large amount, data loss
> ---
> I mean the last 6 ones.

All of them are the same. HB_{PUT,GET}_[LB]E_UINT*() macros and can
be safely ignored.

best regards,
Przemek
From vszakats at users.sourceforge.net  Tue Oct 20 16:41:09 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Oct 20 16:41:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12738] trunk/harbour
Message-ID: <E1N0LW1-0006oz-5t@c3vjzd1.ch3.sourceforge.com>

Revision: 12738
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12738&view=rev
Author:   vszakats
Date:     2009-10-20 20:41:05 +0000 (Tue, 20 Oct 2009)

Log Message:
-----------
2009-10-20 22:40 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * external/pcre/pcretryf.c
  * external/pcre/pcre.h
  * external/pcre/pcreexec.c
  * external/pcre/pcreinal.h
  * external/pcre/pcredfa.c
  * external/pcre/pcrecomp.c
  * external/pcre/config.h
  * external/pcre/LICENCE
  * external/pcre/pcreucd.c
  * external/pcre/pcreprni.h
  * external/pcre/pcrestud.c
  * external/pcre/pcrefinf.c
    + Updated pcre to 8.0 (from 7.9)

  * external/pcre/cnv_o2hb.bat
  * external/pcre/cnv_hb2o.bat
    ! Minor fix.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/external/pcre/LICENCE
    trunk/harbour/external/pcre/cnv_hb2o.bat
    trunk/harbour/external/pcre/cnv_o2hb.bat
    trunk/harbour/external/pcre/config.h
    trunk/harbour/external/pcre/pcre.h
    trunk/harbour/external/pcre/pcrecomp.c
    trunk/harbour/external/pcre/pcredfa.c
    trunk/harbour/external/pcre/pcreexec.c
    trunk/harbour/external/pcre/pcrefinf.c
    trunk/harbour/external/pcre/pcreinal.h
    trunk/harbour/external/pcre/pcreprni.h
    trunk/harbour/external/pcre/pcrestud.c
    trunk/harbour/external/pcre/pcretryf.c
    trunk/harbour/external/pcre/pcreucd.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From itamarlins at gmail.com  Tue Oct 20 16:41:49 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Tue Oct 20 16:42:22 2009
Subject: [Harbour] FW Re: SF.net SVN: harbour-project:[12732] trunk/harbour
In-Reply-To: <20091020000105.GA17560@linux-8af1.home.aster.pl>
References: <E1MzzbH-0004LK-0T@74yxhf1.ch3.sourceforge.com>	<20091019222128.GA31537@linux-8af1.home.aster.pl>	<1442B270-44EF-4FC0-B661-604AEC20272C@syenar.hu>
	<20091020000105.GA17560@linux-8af1.home.aster.pl>
Message-ID: <4ADE208D.5060800@gmail.com>

Przemys?aw Czerpak escreveu:
> On Tue, 20 Oct 2009, Szak?ts Viktor wrote:
> 
> Hi,
> 
>>> Thank you. I would like to ask you about yet another modification in
>>> core hbmk2 code.
>>> hbmk2 does not enable C warnings in GCC builds. Can you add -W -Wall
>>> when GCC is used? Without it some serious bugs can be silently
>>> ignored.
>> Please test after latest commit. I've added it for all compilers,
>> not only GCC.
> 
> I've just test it with LETODB and
>    hbmk2 rddleto.hbp letodb.hbp
> and it works as expexted.
> 
> BTW below I'm attaching small patch for LetoDB necessary to compile it
> with current Harbour code. Maybe someone interesting in updating LetoDB
> can commit it.
> 
> best regards,
> Przemek
> 
> 
>   * letodb/Makefile.linux
>     ! removed -mcpu=pentium which breaks builds on non x86@32 machines
>     + added -q0 to harbour switches
> 
>   * letodb/letodb.hbp
>     ! removed -mt from build flags - letodb uses own threads which works
>       only with ST HVM and cannot be used with MT HVM because they are
>       not registered in HVM and try to execute PCODE
>     % removed common/net.c which seems to contain client only code
> 
>   * letodb/source/client/leto1.c
>     ! updated to work with recent Harbour versions which supports
>       RENAME() RDD method
> 
>   * letodb/source/common/hbip.c
>     ! declare hb_socketConnect() as static to avoid conflicts with
>       Harbour core function using the same name
> 
>   * letodb/utils/manager/console.prg
>   * letodb/utils/manager/manage.prg
>     ! removed hardcoded windows only paths in #include.
>       Please remember to set correct -I parameters to compile
>       this files.
> 
----- Original Message ----- From: "Itamar Lins" <itamarmlj@yahoo.com.br>
To: <tpe2@mail.ru>
Sent: Tuesday, October 20, 2009 4:12 AM
Subject: Update LetoDb

 > Hi!
 > Can you apply this fix?
 > For LetoDb able to operate with the harbour of SVN?
 > Were made by Mr. Przmyslaw Czerpak.


 > Best regards,
 > Itamar M. Lins Jr.
 > __________________________________________________

Done. Thank you
Pavel Tsarenko

From bedipritpal at hotmail.com  Tue Oct 20 16:42:36 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Oct 20 16:42:42 2009
Subject: [Harbour] HBQT - More classes added but cannot make lib now
In-Reply-To: <0236457F-B6A3-4737-8D02-9511FC096EC0@syenar.hu>
References: <25951480.post@talk.nabble.com>
	<89D3D639-D8B5-4EA2-8E76-34792837D003@syenar.hu>
	<25981494.post@talk.nabble.com>
	<0236457F-B6A3-4737-8D02-9511FC096EC0@syenar.hu>
Message-ID: <25982195.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
>>> /contrib/hbqt/qtcore
>>> /contrib/hbqt/qtgui
>>> /contrib/hbqt/qtnetwork
>>> /contrib/hbqt/qtwebkit
> 
> It will be a little bit similar to rddsql dir layout.
> 

So, the contrib/hbqt/Makefile will look like as 

ROOT := ../../

DIRS := \
   qtcore \
   qtgui \
   qtnetwork \
   qtwebkit \

include $(TOP)$(ROOT)config/dir.mk

and in contrib/hbqt/qtcore will contain

   Makefile ( current Makefile of hbqt but with different lib name )
   filelist.mk ( list of sources belonging to this section )
   .cpp's
   .prg's

Pardon me as I am poor in make systems.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/HBQT---More-classes-added-but-cannot-make-lib-now-tp25951480p25982195.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From itamarlins at gmail.com  Tue Oct 20 16:42:09 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Tue Oct 20 16:45:15 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12732] trunk/harbour
In-Reply-To: <20091020000105.GA17560@linux-8af1.home.aster.pl>
References: <E1MzzbH-0004LK-0T@74yxhf1.ch3.sourceforge.com>	<20091019222128.GA31537@linux-8af1.home.aster.pl>	<1442B270-44EF-4FC0-B661-604AEC20272C@syenar.hu>
	<20091020000105.GA17560@linux-8af1.home.aster.pl>
Message-ID: <hbl7au$f6v$2@ger.gmane.org>

----- Original Message ----- From: "Itamar Lins" <itamarmlj@yahoo.com.br>
To: <tpe2@mail.ru>
Sent: Tuesday, October 20, 2009 4:12 AM
Subject: Update LetoDb

 > Hi!
 > Can you apply this fix?
 > For LetoDb able to operate with the harbor of SVN?
 > Were made by Mr. Przmyslaw Czerpak.


 > Best regards,
 > Itamar M. Lins Jr.
 > __________________________________________________

Done. Thank you
Pavel Tsarenko

From itamarlins at gmail.com  Tue Oct 20 16:50:06 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Tue Oct 20 16:50:39 2009
Subject: [Harbour] Re: FW Re: SF.net SVN: harbour-project:[12732]
	trunk/harbour
In-Reply-To: <4ADE208D.5060800@gmail.com>
References: <E1MzzbH-0004LK-0T@74yxhf1.ch3.sourceforge.com>	<20091019222128.GA31537@linux-8af1.home.aster.pl>	<1442B270-44EF-4FC0-B661-604AEC20272C@syenar.hu>	<20091020000105.GA17560@linux-8af1.home.aster.pl>
	<4ADE208D.5060800@gmail.com>
Message-ID: <hbl7pr$iog$1@ger.gmane.org>

2009-10-20 20:45 UTC+0300 Pavel Tsarenko (tpe2/at/mail.ru)
   * Makefile.linux
   * letodb.hbp
   * source/client/leto1.c
   * source/common/hbip.c
   * utils/manager/console.prg
   * utils/manager/manage.prg
     * changes for compatibility with the latest Harbour SVN,
       provided by Przemyslaw Czerpak

Best regards,
Itamar M. Lins Jr.

From bedipritpal at hotmail.com  Tue Oct 20 16:52:02 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Oct 20 16:52:08 2009
Subject: [Harbour] HBQT - A Clarification
In-Reply-To: <8CA3AF1F-9C3F-43B9-B3BB-5E973C47A175@syenar.hu>
References: <25951642.post@talk.nabble.com> <25953123.post@talk.nabble.com>
	<20091019072403.GA10588@linux-8af1.home.aster.pl>
	<25981722.post@talk.nabble.com>
	<8CA3AF1F-9C3F-43B9-B3BB-5E973C47A175@syenar.hu>
Message-ID: <25982335.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> This is a very important issue and it should be fixed
> if we want to rely on HBQT for serious work. I also suggest
> to create RTE when wrong parameter is passed instead of
> GC collected pointer of valid kind. It's not really a topic
> which should or could be debated. If a library allows to
> create GPF just by passing wrong parameter to it, it's wrong
> and we never can be sure if a reported GPF is some "real"
> error, or "just" a wrongly passed parameter. Not to mention
> that wrongly passed parameters can easily signal errors in
> other parts of the lib, which makes detection even more
> complicated.
> 
> Using hb_parptr() when wrong parameter is detected just
> makes handling of the problem even more fishy.
> 
> An RTE is straightforward though.
> 

It is not a matter of posting RTE but a matter how a pointer 
is obtained in HBQT. We can use this mechanism if in .prg code 
every pointer is recieved with "new" method. In other words 
if we are using .prg classes only to obtain it. Mostly we receive 
pointer direct from .cpp. I will explin this later but first let me 
overcome with memory issue. May be we will bave better control
of such situations.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/HBQT---A-Clarification-tp25951642p25982335.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Oct 20 16:54:15 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Oct 20 16:54:25 2009
Subject: [Harbour] HBQT - More classes added but cannot make lib now
In-Reply-To: <25982195.post@talk.nabble.com>
References: <25951480.post@talk.nabble.com>
	<89D3D639-D8B5-4EA2-8E76-34792837D003@syenar.hu>
	<25981494.post@talk.nabble.com>
	<0236457F-B6A3-4737-8D02-9511FC096EC0@syenar.hu>
	<25982195.post@talk.nabble.com>
Message-ID: <EF3C8D15-012E-4227-A378-0D590BF03E20@syenar.hu>

> Viktor Szak?ts wrote:
>>
>>>> /contrib/hbqt/qtcore
>>>> /contrib/hbqt/qtgui
>>>> /contrib/hbqt/qtnetwork
>>>> /contrib/hbqt/qtwebkit
>>
>> It will be a little bit similar to rddsql dir layout.
>>
>
> So, the contrib/hbqt/Makefile will look like as
>
> ROOT := ../../
>
> DIRS := \
>   qtcore \
>   qtgui \
>   qtnetwork \
>   qtwebkit \
>
> include $(TOP)$(ROOT)config/dir.mk
>
> and in contrib/hbqt/qtcore will contain
>
>   Makefile ( current Makefile of hbqt but with different lib name )
>   filelist.mk ( list of sources belonging to this section )
>   .cpp's
>   .prg's
>
> Pardon me as I am poor in make systems.

No problem at all, it is what you've described above.

[ After this change probably some extra fine tuning can be done,
when adding -I options f.e. ]

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Oct 20 16:58:05 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Oct 20 16:58:16 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12732] trunk/harbour
In-Reply-To: <hbl7au$f6v$2@ger.gmane.org>
References: <E1MzzbH-0004LK-0T@74yxhf1.ch3.sourceforge.com>	<20091019222128.GA31537@linux-8af1.home.aster.pl>	<1442B270-44EF-4FC0-B661-604AEC20272C@syenar.hu>
	<20091020000105.GA17560@linux-8af1.home.aster.pl>
	<hbl7au$f6v$2@ger.gmane.org>
Message-ID: <1E598937-0B4C-44E5-AD51-7C98B79BD8DD@syenar.hu>

Thank you both.

Just one small comment: Next time it'd be useful to also
commit original ChangeLog content posted by Przemek, which
gives full detail of the changes done.

Brgds,
Viktor

On 2009 Oct 20, at 22:42, Itamar Lins wrote:

> ----- Original Message ----- From: "Itamar Lins" <itamarmlj@yahoo.com.br 
> >
> To: <tpe2@mail.ru>
> Sent: Tuesday, October 20, 2009 4:12 AM
> Subject: Update LetoDb
>
> > Hi!
> > Can you apply this fix?
> > For LetoDb able to operate with the harbor of SVN?
> > Were made by Mr. Przmyslaw Czerpak.
>
>
> > Best regards,
> > Itamar M. Lins Jr.
> > __________________________________________________
>
> Done. Thank you
> Pavel Tsarenko
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Oct 20 17:02:56 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Oct 20 17:03:08 2009
Subject: [Harbour] Re: FW Re: SF.net SVN: harbour-project:[12732]
	trunk/harbour
In-Reply-To: <hbl7pr$iog$1@ger.gmane.org>
References: <E1MzzbH-0004LK-0T@74yxhf1.ch3.sourceforge.com>	<20091019222128.GA31537@linux-8af1.home.aster.pl>	<1442B270-44EF-4FC0-B661-604AEC20272C@syenar.hu>	<20091020000105.GA17560@linux-8af1.home.aster.pl>
	<4ADE208D.5060800@gmail.com> <hbl7pr$iog$1@ger.gmane.org>
Message-ID: <73729D52-A992-4919-9225-9BF9A87D2721@syenar.hu>

What I mean is the original detailed text posted by Przemek
in the same mail he posted the .dif file.

It contained details for each modified file/component.

 From this entry we can't know too much of the issue fixed,
changed.

Well, anyway I don't have anything to do with LetoDB, it's
just a friendly advice (or whatnot).

Brgds,
Viktor

On 2009 Oct 20, at 22:50, Itamar Lins wrote:

> 2009-10-20 20:45 UTC+0300 Pavel Tsarenko (tpe2/at/mail.ru)
>  * Makefile.linux
>  * letodb.hbp
>  * source/client/leto1.c
>  * source/common/hbip.c
>  * utils/manager/console.prg
>  * utils/manager/manage.prg
>    * changes for compatibility with the latest Harbour SVN,
>      provided by Przemyslaw Czerpak
>
> Best regards,
> Itamar M. Lins Jr.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From itamarlins at gmail.com  Tue Oct 20 17:18:06 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Tue Oct 20 17:18:40 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12732] trunk/harbour
In-Reply-To: <1E598937-0B4C-44E5-AD51-7C98B79BD8DD@syenar.hu>
References: <E1MzzbH-0004LK-0T@74yxhf1.ch3.sourceforge.com>	<20091019222128.GA31537@linux-8af1.home.aster.pl>	<1442B270-44EF-4FC0-B661-604AEC20272C@syenar.hu>	<20091020000105.GA17560@linux-8af1.home.aster.pl>	<hbl7au$f6v$2@ger.gmane.org>
	<1E598937-0B4C-44E5-AD51-7C98B79BD8DD@syenar.hu>
Message-ID: <hbl9eb$pmn$1@ger.gmane.org>

Was submit file cvs.diff to Mr. Pavel.
Cut here for just space saving :-)

Best regards,
Itamar M. Lins Jr.

From druzus at acn.waw.pl  Tue Oct 20 17:58:13 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Oct 20 17:58:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12737] trunk/harbour
In-Reply-To: <E1N0KVX-0005QX-GY@3kljzd1.ch3.sourceforge.com>
References: <E1N0KVX-0005QX-GY@3kljzd1.ch3.sourceforge.com>
Message-ID: <20091020215813.GA18610@linux-8af1.home.aster.pl>

On Tue, 20 Oct 2009, vszakats@users.sourceforge.net wrote:
> Log Message:
> -----------
> 2009-10-20 21:35 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/rddads/adsfunc.c
>   * contrib/rddads/rddads.h
>   * contrib/rddads/ads1.c
>     ! Fixed fatal errors for 64-bit builds. I don't if there exist 
>       a 64-bit version of ACE, but anyway.

Thank you very much. Please only remember that it's only problem in
Win64 and in all other 64bit systems supported by Harbour long is large
enough to hold pointer so for such system cases such code is valid.
I've found 64bit ACE library in ADS Linux trial server so 64 bit ADS RDD
in Linux is fully functional though I cannot find 64 bit ADS local server
library so final binaries needs ADS server. I do not plan to install it
so I'm interesting in 64bit ADS local server library for Linux for testing
with Harbour ADS RDDs (now I have to recompile Harbour in 32bit mode).
Does any one knows if such library is freely available?

best regards,
Przemek
From toninhofwi at yahoo.com.br  Tue Oct 20 19:50:03 2009
From: toninhofwi at yahoo.com.br (ToninhoFWi)
Date: Tue Oct 20 19:50:07 2009
Subject: [Harbour] HBMemIO and RDDADS
In-Reply-To: <4ADB2299.6060005@dbtopas.lt>
References: <veejd59hgr1ts4kjmjgn4sfq5f14rvgvhl@4ax.com>
	<4ADB2299.6060005@dbtopas.lt>
Message-ID: <b4jsd5p4n2sv728mi5eprf579dij9oop8d@4ax.com>

>> I'm trying to test hbmemio with RDDADS but I can't.  Is it possible?
>
>No, ADS server is not a part of Harbour code, so, it can not use 
>hbmemio.lib :)

Ok Mindaugas, thank you.

Regards,

Toninho.


__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From bedipritpal at hotmail.com  Tue Oct 20 22:58:47 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Oct 20 22:58:53 2009
Subject: [Harbour] HbQt and Connect Events
In-Reply-To: <578c73340910201221o4b063c7bh33867ba5147d17fd@mail.gmail.com>
References: <578c73340910200748ma8acd77n5abc83ea96cdb870@mail.gmail.com>
	<25979231.post@talk.nabble.com>
	<578c73340910201221o4b063c7bh33867ba5147d17fd@mail.gmail.com>
Message-ID: <25985786.post@talk.nabble.com>


Hi

#include "common.ch"

STATIC qApp

INIT PROCEDURE Qt_Start()
   qApp := QApplication():new()
   RETURN

EXIT PROCEDURE Qt_End()
   qApp:quit()
   RETURN

PROCEDURE Main()
   Local oWin

   //    The following functions are to be called for each thread.
   //    This change ensures more speed, initially every call to an event
was checking for thread stack.
   //
   Qt_SetEventFilter()
   Qt_SetEventSlots()

   oWin := QMainWindow():new()
   oWin:ReSize( 640, 400 )
   oWin:Move( 10 , 10 )
   QT_CONNECT_EVENT( oWin:pPtr , 6 , {|o,e| My_Events( o , e ) } )  // *<--
Cancel here*
   oWin:Show()
   qApp:exec()
RETURN .T.

Function My_Events( o , e )
   MsgInfo( "Key Pressed" )
Return .T.

STATIC FUNCTION MsgInfo( cMsg )
   LOCAL oMB
   oMB := QMessageBox():new()
   oMB:setInformativeText( cMsg )
   oMB:setWindowTitle( "Harbour-QT" )
   oMB:exec()
RETURN nil

#ifdef __PLATFORM__WINDOWS
PROCEDURE hb_GtSys()
   HB_GT_GUI_DEFAULT()
   RETURN
#endif


Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HbQt-and-Connect-Events-tp25976580p25985786.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Wed Oct 21 03:19:54 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Oct 21 03:20:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12737] trunk/harbour
In-Reply-To: <20091020215813.GA18610@linux-8af1.home.aster.pl>
References: <E1N0KVX-0005QX-GY@3kljzd1.ch3.sourceforge.com> 
	<20091020215813.GA18610@linux-8af1.home.aster.pl>
Message-ID: <609353e70910210019j4e139aabn1cb7f639406f084@mail.gmail.com>

http://devzone.advantagedatabase.com/dz/content.aspx?key=47
Enhancements in Upcoming Releases
  64-bit ODBC Client and OLE DB Client

Other
Add support for Visual FoxPro binary indexes
Unicode Field Type


2009/10/20 Przemys?aw Czerpak <druzus@acn.waw.pl>:
> On Tue, 20 Oct 2009, vszakats@users.sourceforge.net wrote:
>> Log Message:
>> -----------
>> 2009-10-20 21:35 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>> ? * contrib/rddads/adsfunc.c
>> ? * contrib/rddads/rddads.h
>> ? * contrib/rddads/ads1.c
>> ? ? ! Fixed fatal errors for 64-bit builds. I don't if there exist
>> ? ? ? a 64-bit version of ACE, but anyway.
>
> Thank you very much. Please only remember that it's only problem in
> Win64 and in all other 64bit systems supported by Harbour long is large
> enough to hold pointer so for such system cases such code is valid.
> I've found 64bit ACE library in ADS Linux trial server so 64 bit ADS RDD
> in Linux is fully functional though I cannot find 64 bit ADS local server
> library so final binaries needs ADS server. I do not plan to install it
> so I'm interesting in 64bit ADS local server library for Linux for testing
> with Harbour ADS RDDs (now I have to recompile Harbour in 32bit mode).
> Does any one knows if such library is freely available?
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Wed Oct 21 03:54:48 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Oct 21 03:54:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12737] trunk/harbour
In-Reply-To: <609353e70910210019j4e139aabn1cb7f639406f084@mail.gmail.com>
References: <E1N0KVX-0005QX-GY@3kljzd1.ch3.sourceforge.com>
	<20091020215813.GA18610@linux-8af1.home.aster.pl>
	<609353e70910210019j4e139aabn1cb7f639406f084@mail.gmail.com>
Message-ID: <20091021075448.GA21762@linux-8af1.home.aster.pl>

On Wed, 21 Oct 2009, Massimo Belgrano wrote:
> http://devzone.advantagedatabase.com/dz/content.aspx?key=47
> Enhancements in Upcoming Releases
>   64-bit ODBC Client and OLE DB Client
> Other
> Add support for Visual FoxPro binary indexes
> Unicode Field Type

Does it mean that 64bit ADS local server library does not exist and
it's not even planned by Extended System?

best regards,
Przemek
From M.Horodyski at pzuzycie.com.pl  Wed Oct 21 04:08:31 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Oct 21 04:08:39 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <609353e70910150301y1912d2c0p25e4a3c254cbb28e@mail.gmail.com>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com><FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu>
	<609353e70910140110y28cbfadfoc37082be3aa28568@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D2A@PINK.zycie.pzu>
	<609353e70910141231g20f7dc1cmf8c57084b7e159a1@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D92@PINK.zycie.pzu>
	<B80C439B-D599-4E4E-B741-FFB128535977@syenar.hu>
	<609353e70910150301y1912d2c0p25e4a3c254cbb28e@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C950297EB33@PINK.zycie.pzu>

>-----Original Message-----
>From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
>Sent: Thursday, October 15, 2009 12:01 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Web Services in Harbour
>
>Here is a very simple soap server
>http://www.vivtek.com/wftk/doc/code/python/soap_server.html


See (0.995 ver) :
\\xHarbour\tests\service.prg

>From 2004 year!

Regards,
Marek Horodyski
From sscc at mweb.co.za  Wed Oct 21 04:08:59 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Oct 21 04:09:07 2009
Subject: [Harbour] Data Dictionary Support
In-Reply-To: <20091020104132.GA15923@linux-8af1.home.aster.pl>
References: <4ADD8A5E.5050008@mweb.co.za>
	<20091020104132.GA15923@linux-8af1.home.aster.pl>
Message-ID: <4ADEC19B.7000600@mweb.co.za>

Przemys?aw Czerpak wrote:

> You can make it yourself using PP:
> 
>    #ifndef FIELD_NAMESPACE_OFF
>       /* declare WORKAREA1 fields */
>       #xtranslate WORKAREA1-><!field!>    => ;;
>                               #error WORKAREA1 does not have field: #<field>
>       #xtranslate WORKAREA1->name         => WORKAREA1->( _FIELD->name )
>       #xtranslate WORKAREA1->date         => WORKAREA1->( _FIELD->date )
>    #endif
> 
>    proc main()
>       ? workarea1->name
>       ? workarea1->nane
>       ? workarea1->date
>    return

That is pretty cool. Thank you. What is the difference between _FIELD and FIELD?

Regards
Alex

From M.Horodyski at pzuzycie.com.pl  Wed Oct 21 04:16:05 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Oct 21 04:16:13 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <B80C439B-D599-4E4E-B741-FFB128535977@syenar.hu>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com><FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu><609353e70910140110y28cbfadfoc37082be3aa28568@mail.gmail.com><FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D2A@PINK.zycie.pzu><609353e70910141231g20f7dc1cmf8c57084b7e159a1@mail.gmail.com><FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D92@PINK.zycie.pzu>
	<B80C439B-D599-4E4E-B741-FFB128535977@syenar.hu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C950297EB37@PINK.zycie.pzu>

>-----Original Message-----
>From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
>Sent: Thursday, October 15, 2009 10:01 AM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Web Services in Harbour
>
>Hi Marek,
>
>Is there any sort of existing library or other sort of 
>external package which helps to implement such server?
>
>SOAP is supposed to be an open standard (although it does seem 
>quite MS centric regardless), so I suppose such server side 
>functionality may exist somewhere already, and shouldn't be 
>written from ground up for tools like Harbour.
>
>So, is there anything we could use?

\\xHarbour\tests\service.prg ???

Regards,
Marek Horodyski
From mbelgrano at deltain.it  Wed Oct 21 04:32:54 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Oct 21 04:33:02 2009
Subject: [Harbour] Web Services in Harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C950297EB37@PINK.zycie.pzu>
References: <9gmnb5lptgq9le1lrloeq8pm9opdppaqv4@4ax.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950288D8C9@PINK.zycie.pzu>
	<609353e70910140110y28cbfadfoc37082be3aa28568@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D2A@PINK.zycie.pzu>
	<609353e70910141231g20f7dc1cmf8c57084b7e159a1@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502909D92@PINK.zycie.pzu>
	<B80C439B-D599-4E4E-B741-FFB128535977@syenar.hu>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950297EB37@PINK.zycie.pzu>
Message-ID: <609353e70910210132w74af58bam1fdab32defd0a58d@mail.gmail.com>

http://xharbour.cvs.sourceforge.net/viewvc/xharbour/xharbour/tests/service.prg?revision=1.13&view=markup
Non seem a soap server, but it can start a soap server?
This program demonstrates how to use signal (error) handlers and what
to do to start services.


2009/10/21 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>:
>>-----Original Message-----
>>From: Viktor Szak?ts [mailto:harbour.01@syenar.hu]
>>Sent: Thursday, October 15, 2009 10:01 AM
>>To: Harbour Project Main Developer List.
>>Subject: Re: [Harbour] Web Services in Harbour
>>
>>Hi Marek,
>>
>>Is there any sort of existing library or other sort of
>>external package which helps to implement such server?
>>
>>SOAP is supposed to be an open standard (although it does seem
>>quite MS centric regardless), so I suppose such server side
>>functionality may exist somewhere already, and shouldn't be
>>written from ground up for tools like Harbour.
>>
>>So, is there anything we could use?
>
> \\xHarbour\tests\service.prg ???
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Wed Oct 21 05:59:09 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Oct 21 05:59:16 2009
Subject: [Harbour] Data Dictionary Support
In-Reply-To: <4ADEC19B.7000600@mweb.co.za>
References: <4ADD8A5E.5050008@mweb.co.za>
	<20091020104132.GA15923@linux-8af1.home.aster.pl>
	<4ADEC19B.7000600@mweb.co.za>
Message-ID: <20091021095909.GA23721@linux-8af1.home.aster.pl>

On Wed, 21 Oct 2009, Alex Strickland wrote:

Hi,

> That is pretty cool. Thank you. What is the difference between _FIELD
> and FIELD?

Both forms have exactly the same meaning for compiler.
You can use FILED if you like it more ;-)

BTW It's yet another example where some dummy token significant for PP
but ignored by compiler can greatly help.
Now I had to translate:
   WORKAREA1->name
to:
   WORKAREA1->( _FIELD->name )
because I was not able to use simple rule like:
   #xtranslate WORKAREA1->name => WORKAREA1->name
due to infinite cyclic translation. Fortunately in this case I was able
to find alternative version. In some other cases it's not possible.
If we add dummy tokens then they will resolve such problems and rules
like above can be written as:
   #xtranslate WORKAREA1->name => WORKAREA1-><@.>name
If no one has sth against then in some spare time I'll add support for
dummy tokens in result patterns using form like: <@token_value>

best regards,
Przemek
From mbelgrano at deltain.it  Wed Oct 21 06:03:25 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Oct 21 06:03:53 2009
Subject: [Harbour] Data Dictionary Support
In-Reply-To: <20091021095909.GA23721@linux-8af1.home.aster.pl>
References: <4ADD8A5E.5050008@mweb.co.za>
	<20091020104132.GA15923@linux-8af1.home.aster.pl> 
	<4ADEC19B.7000600@mweb.co.za>
	<20091021095909.GA23721@linux-8af1.home.aster.pl>
Message-ID: <609353e70910210303n31c2cf76w4aa34faa8e89139b@mail.gmail.com>

Great
I suggest write a little sample for better discover this strong way

2009/10/21 Przemys?aw Czerpak <druzus@acn.waw.pl>:
> On Wed, 21 Oct 2009, Alex Strickland wrote:
>
> Hi,
>
>> That is pretty cool. Thank you. What is the difference between _FIELD
>> and FIELD?
>
> Both forms have exactly the same meaning for compiler.
> You can use FILED if you like it more ;-)
>
> BTW It's yet another example where some dummy token significant for PP
> but ignored by compiler can greatly help.
> Now I had to translate:
> ? WORKAREA1->name
> to:
> ? WORKAREA1->( _FIELD->name )
> because I was not able to use simple rule like:
> ? #xtranslate WORKAREA1->name => WORKAREA1->name
> due to infinite cyclic translation. Fortunately in this case I was able
> to find alternative version. In some other cases it's not possible.
> If we add dummy tokens then they will resolve such problems and rules
> like above can be written as:
> ? #xtranslate WORKAREA1->name => WORKAREA1-><@.>name
> If no one has sth against then in some spare time I'll add support for
> dummy tokens in result patterns using form like: <@token_value>
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at users.sourceforge.net  Wed Oct 21 06:12:15 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Oct 21 06:12:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12739] trunk/harbour
Message-ID: <E1N0YAx-00068H-DG@c3vjzd1.ch3.sourceforge.com>

Revision: 12739
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12739&view=rev
Author:   druzus
Date:     2009-10-21 10:12:14 +0000 (Wed, 21 Oct 2009)

Log Message:
-----------
2009-10-21 12:11 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/rddads/rddads.h
    * minor fix in casting

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/rddads.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Oct 21 06:28:59 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Oct 21 06:29:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12721] trunk/harbour
In-Reply-To: <609353e70910200726w2f6596bdm28cb1c86f12b548@mail.gmail.com>
References: <E1Myw8A-0007Zk-UD@74yxhf1.ch3.sourceforge.com>
	<4ADDAF1D.40908@dbtopas.lt>
	<609353e70910200726w2f6596bdm28cb1c86f12b548@mail.gmail.com>
Message-ID: <20091021102859.GA24209@linux-8af1.home.aster.pl>

On Tue, 20 Oct 2009, Massimo Belgrano wrote:

Hi,

> Possible a sample

You have everything in ChangeLog file:

    + added PRG functions for BlowFish encryption:
         hb_blowfishKey( <cPass> ) -> <bfKey>
         hb_blowfishEncrypt( <bfKey>, <cData> ) -> <cCryptedData>
         hb_blowfishDecrypt( <bfKey>, <cCryptedData> ) -> <cData>

so the example seems the be rather trivial peace of code:


   proc main()
      local cText, cEncrypted, cDecrypted, cPass, bfKey

      cText := "This is my secret message."

      cPass := "Top Secret ;-)"
      bfKey := hb_blowfishKey( cPass )

      /* encrypt data */
      cEncrypted := hb_blowfishEncrypt( bfKey, cText )

      /* dencrypt data */
      cDecrypted := hb_blowfishDecrypt( bfKey, cEncrypted )

      ? "plain text:", hb_strToExp( cText )
      ? " encrypted:", hb_strToExp( cEncrypted )
      ? " decrypted:", hb_strToExp( cDecrypted )
   return


best regards,
Przemek
From sscc at mweb.co.za  Wed Oct 21 06:39:30 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Oct 21 06:39:40 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <20091020094631.GA15576@linux-8af1.home.aster.pl>
References: <4ADC8E5E.40400@mweb.co.za>	<20091019230008.GA31620@linux-8af1.home.aster.pl>	<4ADD83EA.9050908@mweb.co.za>
	<20091020094631.GA15576@linux-8af1.home.aster.pl>
Message-ID: <4ADEE4E2.6070003@mweb.co.za>

Przemys?aw Czerpak wrote:

> It should be easy to fix it if you can create such example but I do not
> know if it will be easy to create such self contain example. If it's not
> Harbour problem then it's impossible to create it :)
> It will be good if you can make this example as simple as possible reducing
> any additional code, i.e. use GTWVT and windows function wrappers for hbwin
> library.

Is there a way to get the handle of the gtwvt window?

Regards
Alex

From harbour.01 at syenar.hu  Wed Oct 21 06:43:06 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Oct 21 06:43:15 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <4ADEE4E2.6070003@mweb.co.za>
References: <4ADC8E5E.40400@mweb.co.za>	<20091019230008.GA31620@linux-8af1.home.aster.pl>	<4ADD83EA.9050908@mweb.co.za>
	<20091020094631.GA15576@linux-8af1.home.aster.pl>
	<4ADEE4E2.6070003@mweb.co.za>
Message-ID: <9DE5BB1F-5322-4BAC-9C46-1BBB3DB19874@syenar.hu>

>> It should be easy to fix it if you can create such example but I do  
>> not
>> know if it will be easy to create such self contain example. If  
>> it's not
>> Harbour problem then it's impossible to create it :)
>> It will be good if you can make this example as simple as possible  
>> reducing
>> any additional code, i.e. use GTWVT and windows function wrappers  
>> for hbwin
>> library.
>
> Is there a way to get the handle of the gtwvt window?

No, and exposing it wouldn't be a very good idea,
however, we have WAPI_CREATEWINDOWEX() in hbwin.
I've added is specifically to allow self-contained
AX tests.

Brgds,
Viktor

From sscc at mweb.co.za  Wed Oct 21 06:59:20 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Oct 21 06:59:32 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <9DE5BB1F-5322-4BAC-9C46-1BBB3DB19874@syenar.hu>
References: <4ADC8E5E.40400@mweb.co.za>	<20091019230008.GA31620@linux-8af1.home.aster.pl>	<4ADD83EA.9050908@mweb.co.za>	<20091020094631.GA15576@linux-8af1.home.aster.pl>	<4ADEE4E2.6070003@mweb.co.za>
	<9DE5BB1F-5322-4BAC-9C46-1BBB3DB19874@syenar.hu>
Message-ID: <4ADEE988.4080605@mweb.co.za>

Viktor Szak?ts wrote:

> No, and exposing it wouldn't be a very good idea,

Yes, I understand why.

> however, we have WAPI_CREATEWINDOWEX() in hbwin.
> I've added is specifically to allow self-contained
> AX tests.

I don't know how to use it without a message loop, there is no "hook" to hang 
anything on (or perhaps I am too dumb to see one). I am using 
WAPI_CREATEWINDOWEX() to create the ActiveX window. Well I would, if I had a 
handle to pass to it :)

Regards
Alex

From harbour.01 at syenar.hu  Wed Oct 21 07:04:17 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct 21 07:04:56 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <4ADEE988.4080605@mweb.co.za>
References: <4ADC8E5E.40400@mweb.co.za>	<20091019230008.GA31620@linux-8af1.home.aster.pl>	<4ADD83EA.9050908@mweb.co.za>	<20091020094631.GA15576@linux-8af1.home.aster.pl>	<4ADEE4E2.6070003@mweb.co.za>
	<9DE5BB1F-5322-4BAC-9C46-1BBB3DB19874@syenar.hu>
	<4ADEE988.4080605@mweb.co.za>
Message-ID: <A87EEB61-D22E-47B8-86E9-559A19518952@syenar.hu>

> Yes, I understand why.
>
>> however, we have WAPI_CREATEWINDOWEX() in hbwin.
>> I've added is specifically to allow self-contained
>> AX tests.
>
> I don't know how to use it without a message loop, there is no  
> "hook" to hang anything on (or perhaps I am too dumb to see one). I  
> am using WAPI_CREATEWINDOWEX() to create the ActiveX window. Well I  
> would, if I had a handle to pass to it :)

Then probably some more WAPI_*() functions need
to be added. I have no clue which ones, but it's
probably not impossible to implement.

If you implement some rough (or not rough) version
of such "loop" stuff, I can at it to SVN.

Brgds,
Viktor

From mbelgrano at deltain.it  Wed Oct 21 07:14:50 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Oct 21 07:15:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12721] trunk/harbour
In-Reply-To: <20091021102859.GA24209@linux-8af1.home.aster.pl>
References: <E1Myw8A-0007Zk-UD@74yxhf1.ch3.sourceforge.com> 
	<4ADDAF1D.40908@dbtopas.lt>
	<609353e70910200726w2f6596bdm28cb1c86f12b548@mail.gmail.com> 
	<20091021102859.GA24209@linux-8af1.home.aster.pl>
Message-ID: <609353e70910210414y43f7ca4cy393b503a524838b1@mail.gmail.com>

I better undestrand your sample
and i pray you write  "trivial peace of code" that help me to right undestrand


2009/10/21 Przemys?aw Czerpak <druzus@acn.waw.pl>:
> On Tue, 20 Oct 2009, Massimo Belgrano wrote:
>
> Hi,
>
>> Possible a sample
>
> You have everything in ChangeLog file:
>
> ? ?+ added PRG functions for BlowFish encryption:
> ? ? ? ? hb_blowfishKey( <cPass> ) -> <bfKey>
> ? ? ? ? hb_blowfishEncrypt( <bfKey>, <cData> ) -> <cCryptedData>
> ? ? ? ? hb_blowfishDecrypt( <bfKey>, <cCryptedData> ) -> <cData>
>
> so the example seems the be rather trivial peace of code:
>
>
> ? proc main()
> ? ? ?local cText, cEncrypted, cDecrypted, cPass, bfKey
>
> ? ? ?cText := "This is my secret message."
>
> ? ? ?cPass := "Top Secret ;-)"
> ? ? ?bfKey := hb_blowfishKey( cPass )
>
> ? ? ?/* encrypt data */
> ? ? ?cEncrypted := hb_blowfishEncrypt( bfKey, cText )
>
> ? ? ?/* dencrypt data */
> ? ? ?cDecrypted := hb_blowfishDecrypt( bfKey, cEncrypted )
>
> ? ? ?? "plain text:", hb_strToExp( cText )
> ? ? ?? " encrypted:", hb_strToExp( cEncrypted )
> ? ? ?? " decrypted:", hb_strToExp( cDecrypted )
> ? return
>
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mhsabado at gmail.com  Wed Oct 21 07:19:30 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Wed Oct 21 07:19:48 2009
Subject: [Harbour] HB_ReadIni() Problem
In-Reply-To: <4adee5e9.2208c00a.2a5f.ffffa0b0SMTPIN_ADDED@mx.google.com>
References: <4adee5e9.2208c00a.2a5f.ffffa0b0SMTPIN_ADDED@mx.google.com>
Message-ID: <4ADEEE42.50007@gmail.com>

Hi,

I have encountered the value being returned by HB_ReadIni() was being 
truncated by one char at the last.  I have the following function and 
sample ini file. 

Example:

Calling IniFileVal("sample.ini","DOWNLOAD_SRC") would return "d:\tes" 
instead of "d:\test"

Thanks for any help.

Regards,
Mario

**************
*sample.ini file
[Default Setting]
DOWNLOAD_SRC = d:\test
***********************

*********************************
FUNCTION IniFileVal(cIniFile,cKey, xType)
*********************************
   LOCAL hDefIniFile
   LOCAL hDefaultSetting, xRetVal

   IF  HB_DbExists(cIniFile);hDefIniFile:=HB_ReadIni( cIniFile, .F., 
,.F. );endif  // Read ini file in a hash table

   IF xType==NIL;xType:="C";endif

   IF hDefIniFile != NIL
     hDefaultSetting := HGetValueAt( hDefIniFile, 1 )
     xRetVal := hDefaultSetting[cKey]
   ELSE
     Alert("Invalid Definition File")
     break
   ENDIF

   IF xType == "L"
      xRetVal := Val(xRetVal) > 0
   ELSEIF xType == "D"
      xRetVal := CToD(xRetVal)
   ELSEIF xType == "N"
      xRetVal := Val(xRetVal)
   ENDIF

RETURN xRetVal
From druzus at acn.waw.pl  Wed Oct 21 07:44:54 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Oct 21 07:45:01 2009
Subject: [Harbour] HB_ReadIni() Problem
In-Reply-To: <4ADEEE42.50007@gmail.com>
References: <4adee5e9.2208c00a.2a5f.ffffa0b0SMTPIN_ADDED@mx.google.com>
	<4ADEEE42.50007@gmail.com>
Message-ID: <20091021114454.GA25056@linux-8af1.home.aster.pl>

On Wed, 21 Oct 2009, Mario H. Sabado wrote:

Hi,

> I have encountered the value being returned by HB_ReadIni() was
> being truncated by one char at the last.  I have the following
> function and sample ini file.

It may happen if EOL is missing in the last line of .ini file.
I'll add protection against such situations in a while.
Thanks for the information.

best regards,
Przemek
From druzus at users.sourceforge.net  Wed Oct 21 07:47:26 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Oct 21 07:47:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12740] trunk/harbour
Message-ID: <E1N0Zf4-00086z-Bq@c3vjzd1.ch3.sourceforge.com>

Revision: 12740
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12740&view=rev
Author:   druzus
Date:     2009-10-21 11:47:22 +0000 (Wed, 21 Oct 2009)

Log Message:
-----------
2009-10-21 13:46 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/hbini.prg
    ! fixed stripping last character when the last line in ini file
      does not contain valid EOL - thanks to Mario H. Sabado for information
      about the problem

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/hbini.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Oct 21 07:49:49 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Oct 21 07:49:55 2009
Subject: [Harbour] HB_ReadIni() Problem
In-Reply-To: <20091021114454.GA25056@linux-8af1.home.aster.pl>
References: <4adee5e9.2208c00a.2a5f.ffffa0b0SMTPIN_ADDED@mx.google.com>
	<4ADEEE42.50007@gmail.com>
	<20091021114454.GA25056@linux-8af1.home.aster.pl>
Message-ID: <20091021114948.GA28370@linux-8af1.home.aster.pl>

On Wed, 21 Oct 2009, Przemys?aw Czerpak wrote:
> > I have encountered the value being returned by HB_ReadIni() was
> > being truncated by one char at the last.  I have the following
> > function and sample ini file.
> It may happen if EOL is missing in the last line of .ini file.
> I'll add protection against such situations in a while.
> Thanks for the information.

BTW HB_ReadIni() is XHB compatibility function. I suggest to use
Harbour functions: hb_ini{Read,ReadStr,Write,WriteStr}()

best regards,
Przemek
From sscc at mweb.co.za  Wed Oct 21 09:16:41 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Oct 21 09:16:50 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <20091020094631.GA15576@linux-8af1.home.aster.pl>
References: <4ADC8E5E.40400@mweb.co.za>	<20091019230008.GA31620@linux-8af1.home.aster.pl>	<4ADD83EA.9050908@mweb.co.za>
	<20091020094631.GA15576@linux-8af1.home.aster.pl>
Message-ID: <4ADF09B9.2070806@mweb.co.za>

Przemys?aw Czerpak wrote:

> It should be easy to fix it if you can create such example but I do not
> know if it will be easy to create such self contain example. If it's not
> Harbour problem then it's impossible to create it :)
> It will be good if you can make this example as simple as possible reducing
> any additional code, i.e. use GTWVT and windows function wrappers for hbwin
> library.

You are right, this code works without GPF:

#include "hbgtinfo.ch"
#include "hbclass.ch"

REQUEST HB_GT_WVT_DEFAULT

#define WS_CHILD            1073741824
#define WS_VISIBLE          268435456
#define WS_CLIPCHILDREN     33554432

procedure main()
     local oMSCAL

     wait "Make sure we are 'Active Window'"
     oMSCAL := HActiveX():Init( WAPI_GetActiveWindow(), "MSCAL.Calendar", 0, 0, 
300, 300 )
     wait "Press any key to exit"
     //oMSCAL := nil
     //hb_gcAll()
     oMSCAL:Close()
return

CLASS HActiveX
     DATA oOLE
     METHOD Init
     METHOD Event
     ERROR HANDLER OnError
     //DESTRUCTOR Close
     METHOD Close
ENDCLASS

METHOD Init( hWnd, cProgId, nTop, nLeft, nWidth, nHeight, cID ) CLASS HActiveX
     local nStyle := WS_CHILD + WS_VISIBLE + WS_CLIPCHILDREN
     WIN_AxInit()
     hWnd := WAPI_CreateWindowEX( 0, "AtlAxWin", cProgId, nStyle, nLeft, nTop, 
nWidth, nHeight, hWnd, 0 )
     ::oOLE := WIN_AxGetControl( hWnd, { | event, ... | ::Event( event, ... ) }, 
cID )
return self

PROCEDURE Event( ... ) CLASS HActiveX
     local cEvents := ""
     local aEvents := { ... }
     aEval(aEvents, { | xEvent | cEvents += HB_ValToStr( xEvent ) + ", " } )
     wapi_OutputDebugString( cEvents )
return

METHOD OnError() CLASS HActiveX
return HB_ExecFromArray( ::oOLE, __GetMessage(), HB_AParams() )

METHOD Close() CLASS HActiveX
     wapi_OutputDebugString( "Close" )
     ::oOLE := nil
     wapi_OutputDebugString( "After Close" )
RETURN


I must explicitly call oMSCal:Close() to set ::oOLE to NIL, or else it will GPF. 
Is that expected behaviour?

I cannot make the DESTRUCTOR work, it is simply not called, can you see why? I 
tried it in the three commented lines above.

Regards
Alex
From maufacc at adinet.com.uy  Wed Oct 21 10:10:11 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Wed Oct 21 10:10:20 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4AD8FA65.3090209@gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>	<4ACF18B7.5030601@adinet.com.uy>	<4ACF1EA8.9010205@gmail.com>	<4ACF22EC.5050400@adinet.com.uy>	<4ACF55F3.1080708@gmail.com>	<4AD05700.7050502@adinet.com.uy>	<4AD0BCC4.6030807@gmail.com>	<4AD0C3AD.5030706@gmail.com>	<4AD4DEA0.5070300@adinet.com.uy>	<4AD5A7CE.7090303@gmail.com>
	<4AD8ECD8.7030604@adinet.com.uy> <4AD8FA65.3090209@gmail.com>
Message-ID: <4ADF1643.6070802@adinet.com.uy>

I've just build the repositories version.
It works fine, but the test that you've proposed

? '?' > 'a'  // Clipper NTXSPA == .T.

in clipper told me .T. and. in harbour told me .F.
I've change the order of the ?a and all the string definition, to a? , 
and returns .T., but the lower of A is ?
We must change the cdpapi, to select the last when we have multiple 
definitions, I guess.

Thanks

Maurizio




Xavi escribi?:
> Maurizio,
>
>> I'm not at work butin my last test modifying the es850c as I told in 
>> my previous mail and without changing the cdpapi
>
> Try .-
>
> ? '?' > 'a'  // Clipper NTXSPA == .T.
>
> best regards,
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: CPINFO.zip
Type: application/octet-stream
Size: 470 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091021/cd8eaa6d/CPINFO.obj
From sscc at mweb.co.za  Wed Oct 21 10:28:06 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Oct 21 10:28:22 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <4ADF09B9.2070806@mweb.co.za>
References: <4ADC8E5E.40400@mweb.co.za>	<20091019230008.GA31620@linux-8af1.home.aster.pl>	<4ADD83EA.9050908@mweb.co.za>	<20091020094631.GA15576@linux-8af1.home.aster.pl>
	<4ADF09B9.2070806@mweb.co.za>
Message-ID: <4ADF1A76.5050802@mweb.co.za>

Hi all

I have also got the code to handle alternative "dispinterface" events interfaces 
working. I had to edit the SVN version of axfunc.prg to add support for cID:

FUNCTION WIN_AxGetControl( hWnd, bHandler, cID )
    LOCAL oAx := WIN_OleAuto()

    oAx:__hObj := __AxGetControl( hWnd )
    IF bHandler != NIL
       oAx:__hSink := __AxRegisterHandler( oAx:__hObj, bHandler, cID )
    ENDIF

    RETURN oAx

Thanks for everyone's patience in this long, long series of threads. Now I can 
update my apps to Harbour version 2!

Regards
Alex
From vszakats at users.sourceforge.net  Wed Oct 21 11:10:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Oct 21 11:10:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12741] trunk/harbour
Message-ID: <E1N0cpD-00058i-MV@bj8yhf1.ch3.sourceforge.com>

Revision: 12741
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12741&view=rev
Author:   vszakats
Date:     2009-10-21 15:10:06 +0000 (Wed, 21 Oct 2009)

Log Message:
-----------
2009-10-21 17:09 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  + contrib/hbwin/tests/testax.prg
    + Added self-contained AX example created by Alex Strickland.
      (plus some formatting and warning fix)

  * contrib/hbwin/axfunc.prg
    + Added <cID> parameter to WIN_AxGetControl().
      Please review it.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/axfunc.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbwin/tests/testax.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Oct 21 11:16:52 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Oct 21 11:17:02 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <4ADF09B9.2070806@mweb.co.za>
References: <4ADC8E5E.40400@mweb.co.za>	<20091019230008.GA31620@linux-8af1.home.aster.pl>	<4ADD83EA.9050908@mweb.co.za>
	<20091020094631.GA15576@linux-8af1.home.aster.pl>
	<4ADF09B9.2070806@mweb.co.za>
Message-ID: <573B115F-9DCE-4309-B85A-C2C784B9D341@syenar.hu>

Hi Alex,

BTW, is there any AX control which works out of the box on XP?

On my system even current example doesn't work. I'd guess it
needs office, which not every ppl have.

So, is there anything built-in?

Brgds,
Viktor

On 2009 Oct 21, at 15:16, Alex Strickland wrote:

> Przemys?aw Czerpak wrote:
>
>> It should be easy to fix it if you can create such example but I do  
>> not
>> know if it will be easy to create such self contain example. If  
>> it's not
>> Harbour problem then it's impossible to create it :)
>> It will be good if you can make this example as simple as possible  
>> reducing
>> any additional code, i.e. use GTWVT and windows function wrappers  
>> for hbwin
>> library.
>
> You are right, this code works without GPF:
>
> #include "hbgtinfo.ch"
> #include "hbclass.ch"
>
> REQUEST HB_GT_WVT_DEFAULT
>
> #define WS_CHILD            1073741824
> #define WS_VISIBLE          268435456
> #define WS_CLIPCHILDREN     33554432
>
> procedure main()
>    local oMSCAL
>
>    wait "Make sure we are 'Active Window'"
>    oMSCAL := HActiveX():Init( WAPI_GetActiveWindow(),  
> "MSCAL.Calendar", 0, 0, 300, 300 )
>    wait "Press any key to exit"
>    //oMSCAL := nil
>    //hb_gcAll()
>    oMSCAL:Close()
> return
>
> CLASS HActiveX
>    DATA oOLE
>    METHOD Init
>    METHOD Event
>    ERROR HANDLER OnError
>    //DESTRUCTOR Close
>    METHOD Close
> ENDCLASS
>
> METHOD Init( hWnd, cProgId, nTop, nLeft, nWidth, nHeight, cID )  
> CLASS HActiveX
>    local nStyle := WS_CHILD + WS_VISIBLE + WS_CLIPCHILDREN
>    WIN_AxInit()
>    hWnd := WAPI_CreateWindowEX( 0, "AtlAxWin", cProgId, nStyle,  
> nLeft, nTop, nWidth, nHeight, hWnd, 0 )
>    ::oOLE := WIN_AxGetControl( hWnd, { | event, ... | ::Event 
> ( event, ... ) }, cID )
> return self
>
> PROCEDURE Event( ... ) CLASS HActiveX
>    local cEvents := ""
>    local aEvents := { ... }
>    aEval(aEvents, { | xEvent | cEvents += HB_ValToStr( xEvent ) + ",  
> " } )
>    wapi_OutputDebugString( cEvents )
> return
>
> METHOD OnError() CLASS HActiveX
> return HB_ExecFromArray( ::oOLE, __GetMessage(), HB_AParams() )
>
> METHOD Close() CLASS HActiveX
>    wapi_OutputDebugString( "Close" )
>    ::oOLE := nil
>    wapi_OutputDebugString( "After Close" )
> RETURN
>
>
> I must explicitly call oMSCal:Close() to set ::oOLE to NIL, or else  
> it will GPF. Is that expected behaviour?
>
> I cannot make the DESTRUCTOR work, it is simply not called, can you  
> see why? I tried it in the three commented lines above.
>
> Regards
> Alex
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mhsabado at gmail.com  Wed Oct 21 11:27:39 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Wed Oct 21 11:27:55 2009
Subject: [Harbour] HB_ReadIni() Problem
Message-ID: <4ADF286B.4090209@gmail.com>

Hi Przemek,
> Date: Wed, 21 Oct 2009 13:44:54 +0200 From: Przemys?aw Czerpak 
> <druzus@acn.waw.pl> Subject: Re: [Harbour] HB_ReadIni() Problem To: 
> "Harbour Project Main Developer List." <harbour@harbour-project.org> 
> Message-ID: <20091021114454.GA25056@linux-8af1.home.aster.pl> 
> Content-Type: text/plain; charset=utf-8 On Wed, 21 Oct 2009, Mario H. 
> Sabado wrote: Hi,
>> > I have encountered the value being returned by HB_ReadIni() was
>> > being truncated by one char at the last.  I have the following
>> > function and sample ini file.
>>     
>
> It may happen if EOL is missing in the last line of .ini file.
> I'll add protection against such situations in a while.
> Thanks for the information.
>
> best regards,
> Przemek
Thank you so much for the fix.  It now works as expected but when the 
last line of my ini file doesn't contain a carriage return, I still 
encounter the problem.

Best regards,
Mario

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091021/23439ddc/attachment.html
From mhsabado at gmail.com  Wed Oct 21 11:33:29 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Wed Oct 21 11:33:43 2009
Subject: [Harbour] HB_ReadIni() Problem
Message-ID: <4ADF29C9.7010708@gmail.com>

Hi Przemek,
> Message: 7
> Date: Wed, 21 Oct 2009 13:49:49 +0200
> From: Przemys?aw Czerpak <druzus@acn.waw.pl>
> Subject: Re: [Harbour] HB_ReadIni() Problem
> To: "Harbour Project Main Developer List."
> 	<harbour@harbour-project.org>
> Message-ID: <20091021114948.GA28370@linux-8af1.home.aster.pl>
> Content-Type: text/plain; charset=utf-8
>
> On Wed, 21 Oct 2009, Przemys?,aw Czerpak wrote:
>   
>>> > > I have encountered the value being returned by HB_ReadIni() was
>>> > > being truncated by one char at the last.  I have the following
>>> > > function and sample ini file.
>>>       
>> > It may happen if EOL is missing in the last line of .ini file.
>> > I'll add protection against such situations in a while.
>> > Thanks for the information.
>>     
>
> BTW HB_ReadIni() is XHB compatibility function. I suggest to use
> Harbour functions: hb_ini{Read,ReadStr,Write,WriteStr}()
>
> best regards,
> Przemek
Thanks for the info.  Will check these functions.

Best regards,
Mario
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091021/a2df77ae/attachment.html
From sscc at mweb.co.za  Wed Oct 21 11:37:16 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Oct 21 11:37:27 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <573B115F-9DCE-4309-B85A-C2C784B9D341@syenar.hu>
References: <4ADC8E5E.40400@mweb.co.za>	<20091019230008.GA31620@linux-8af1.home.aster.pl>	<4ADD83EA.9050908@mweb.co.za>	<20091020094631.GA15576@linux-8af1.home.aster.pl>	<4ADF09B9.2070806@mweb.co.za>
	<573B115F-9DCE-4309-B85A-C2C784B9D341@syenar.hu>
Message-ID: <4ADF2AAC.8000208@mweb.co.za>

Viktor Szak?ts wrote:
> Hi Alex,
> 
> BTW, is there any AX control which works out of the box on XP?
> 
> On my system even current example doesn't work. I'd guess it
> needs office, which not every ppl have.
> 
> So, is there anything built-in?

Oh dear, I was using it because I assumed it *was* out of the box, I think it 
probably comes with VB6.

I guess it would be better to replace it with an http example, I'll send 
something based on your changes. I am rebuilding Harbour as I am getting some 
strange pp errors.

Note that it is not a great demo, due to the fact that if you close the window 
by pressing the close box, the destructor code (setting ::oOLE to nil) is not 
run and it will GPF. Also, once the ActiveX control has focus there is no way to 
give it back to the GT, so this is the only way out.

I am not sure why the destructor stuff is not working for the HActiveX class.

Regards
Alex
From sscc at mweb.co.za  Wed Oct 21 11:54:34 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Oct 21 11:54:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12741] trunk/harbour
In-Reply-To: <E1N0cpD-00058i-MV@bj8yhf1.ch3.sourceforge.com>
References: <E1N0cpD-00058i-MV@bj8yhf1.ch3.sourceforge.com>
Message-ID: <4ADF2EBA.2050501@mweb.co.za>

vszakats@users.sourceforge.net wrote:
> 2009-10-21 17:09 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   + contrib/hbwin/tests/testax.prg
>     + Added self-contained AX example created by Alex Strickland.
>       (plus some formatting and warning fix)

When I test with a URL - www.google.com, I do not get any GPF, under any 
circumstances. When I test with the MS Calendar, I do, unless the ActiveX is not 
given focus, and I can press enter to get past the "wait" and the destructor is 
called. I would say that this example is not ready for prime time until the 
destructor issue can be cleared up.

>   * contrib/hbwin/axfunc.prg
>     + Added <cID> parameter to WIN_AxGetControl().
>       Please review it.

I have tested this after deleting my local copy of axfunc.prg and it works.

Regards
Alex

From druzus at acn.waw.pl  Wed Oct 21 12:13:48 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Oct 21 12:13:55 2009
Subject: [Harbour] HB_ReadIni() Problem
In-Reply-To: <4ADF286B.4090209@gmail.com>
References: <4ADF286B.4090209@gmail.com>
Message-ID: <20091021161348.GA721@linux-8af1.home.aster.pl>

On Wed, 21 Oct 2009, Mario H. Sabado wrote:

Hi,

> >It may happen if EOL is missing in the last line of .ini file.
> >I'll add protection against such situations in a while.
> >Thanks for the information.
> Thank you so much for the fix.  It now works as expected but when
> the last line of my ini file doesn't contain a carriage return, I
> still encounter the problem.

The problem _existed_ _only_ if last line did not contain EOL.
Fixing .ini by adding missing EOL resolved it so you described the
old harbour behavior so I guess you are still using Harbour without
my recent fix for .ini files.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Oct 21 12:39:26 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Oct 21 12:39:34 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <4ADF09B9.2070806@mweb.co.za>
References: <4ADC8E5E.40400@mweb.co.za>
	<20091019230008.GA31620@linux-8af1.home.aster.pl>
	<4ADD83EA.9050908@mweb.co.za>
	<20091020094631.GA15576@linux-8af1.home.aster.pl>
	<4ADF09B9.2070806@mweb.co.za>
Message-ID: <20091021163926.GA2382@linux-8af1.home.aster.pl>

On Wed, 21 Oct 2009, Alex Strickland wrote:
> I must explicitly call oMSCal:Close() to set ::oOLE to NIL, or else
> it will GPF. Is that expected behaviour?
> I cannot make the DESTRUCTOR work, it is simply not called, can you
> see why? I tried it in the three commented lines above.

And this is the source of problems which explains the GPF traps you have.
You are passing oMSCal to AX handler indirectly by SELF in codeblock:
   ::oOLE := WIN_AxGetControl( hWnd, ;
                               { | event, ... | ::Event( event, ... ) }, cID )

It causes that oMSCal is never cleared because above codeblock containing
the reference to oMSCal is attached AX window by hb_itemNew().

If you use in your code as even handler sth what does not keep reference
to oMSCal and it will resolve all your problems, i.e:

   ::oOLE := WIN_AxGetControl( hWnd, ;
                               { | event, ... | MyEvent( event, ... ) }, cID )
   [...]

   PROCEDURE MyEvent( ... ) CLASS HActiveX
        wapi_OutputDebugString( hb_valToExp( { ... } ) )
   return

Looks that it's a time to extended our GC and add support for references
between GC blocks. I'll try to make it soon before we release 2.0.

best regards,
Przemek
From dbtopas at dbtopas.lt  Wed Oct 21 13:30:42 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Oct 21 13:30:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12721] trunk/harbour
In-Reply-To: <20091020152246.GA29094@linux-8af1.home.aster.pl>
References: <E1Myw8A-0007Zk-UD@74yxhf1.ch3.sourceforge.com>	<4ADDAF1D.40908@dbtopas.lt>
	<20091020152246.GA29094@linux-8af1.home.aster.pl>
Message-ID: <4ADF4542.1060609@dbtopas.lt>

Hi,


>> http://www.schneier.com/blowfish.html says: "It takes a
>> variable-length key, from 32 bits to 448 bits ..."
>> Is cPass parameter a key? Or key is computed using this password?
> 
> <cPass> is the key from above description which is transformed to <bfKey>
> used in encryption/decryption algorithm by hb_blowfishInit() function.

I've looked to the details of BF. It's clear now. Usually key size is 
equal to block size, and password is transformed into the key. BF uses 
another approach.


> Technically you can use any non empty string as cPass. Bytes from
> cPass are used cyclically to create 32bit values used to xor keys
> in p-array. The implementation I committed does not follow the original
> BlowFish description but rather reference implementations which instead
> of xoring keys from 1 to 14 xors all 18 keys. It means that insted of
> 448 bits upto 576 bits from passsed cPass is used.

I guess 448bits is not a problem. Anyone can write LEFT(cPassword, 56) 
if he wants a strict compatibility with another software. BTW, sample 
implementation presented by the author at 
http://www.schneier.com/code/bfsh-sch.zip does not contains limit on 
password length also.

I've looked to key length encoding in Harbour level functions. Is it 
some standard way to encode length of 8byte unaligned data? I find 
useful to add a function hb_blofish{En|De}cryptRaw() (or 3rd optional 
lRaw=.F. parameter in current functions), for those who has aligned data 
and are unable to store a longer encrypted data. It will also allow to 
encrypt/decrypt large amount of data (eg. files) in multiple function 
calls. The last call can be made without lRaw=.T. parameter to force 
encoding of unaligned data length if necessary.


Thanks, regards,
Mindaugas

From bedipritpal at hotmail.com  Wed Oct 21 13:40:04 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Oct 21 13:40:10 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <20091021163926.GA2382@linux-8af1.home.aster.pl>
References: <4ADC8E5E.40400@mweb.co.za>
	<20091019230008.GA31620@linux-8af1.home.aster.pl>
	<4ADD83EA.9050908@mweb.co.za>
	<20091020094631.GA15576@linux-8af1.home.aster.pl>
	<4ADF09B9.2070806@mweb.co.za>
	<20091021163926.GA2382@linux-8af1.home.aster.pl>
Message-ID: <25996951.post@talk.nabble.com>


Hi Przemek


Przemys?aw Czerpak wrote:
> 
> Looks that it's a time to extended our GC and add support for references
> between GC blocks. I'll try to make it soon before we release 2.0.
> 

Thank you that you thought this way.
A must needed feature of VM.

I always wondered why I am unable to free as much
resources as I have allocated, mainly due to the this fact
you explained. And it is really hard to detect and clear such 
type of occurances.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/ActiveX-and-GPF-tp25960995p25996951.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Wed Oct 21 14:49:13 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Oct 21 14:49:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12721] trunk/harbour
In-Reply-To: <4ADF4542.1060609@dbtopas.lt>
References: <E1Myw8A-0007Zk-UD@74yxhf1.ch3.sourceforge.com>
	<4ADDAF1D.40908@dbtopas.lt>
	<20091020152246.GA29094@linux-8af1.home.aster.pl>
	<4ADF4542.1060609@dbtopas.lt>
Message-ID: <20091021184913.GA5878@linux-8af1.home.aster.pl>

On Wed, 21 Oct 2009, Mindaugas Kavaliauskas wrote:

Hi,

> >Technically you can use any non empty string as cPass. Bytes from
> >cPass are used cyclically to create 32bit values used to xor keys
> >in p-array. The implementation I committed does not follow the original
> >BlowFish description but rather reference implementations which instead
> >of xoring keys from 1 to 14 xors all 18 keys. It means that insted of
> >448 bits upto 576 bits from passsed cPass is used.
> I guess 448bits is not a problem. Anyone can write LEFT(cPassword,
> 56) if he wants a strict compatibility with another software. BTW,
> sample implementation presented by the author at
> http://www.schneier.com/code/bfsh-sch.zip does not contains limit on
> password length also.

Just like most of other implementations I've seen. They are limited only
by number of subkeys in P array so for default 18 items in P array the
maximum user key size is 18 * 4 * 8 == 576 bits.

> I've looked to key length encoding in Harbour level functions. Is it
> some standard way to encode length of 8byte unaligned data?

I guess you are talking about .prg functions.
No, it's not a standard. I implemented it only for these functions.

> I find useful to add a function hb_blofish{En|De}cryptRaw() (or 3rd
> optional lRaw=.F. parameter in current functions), for those who has
> aligned data and are unable to store a longer encrypted data.
> It will also allow to encrypt/decrypt large amount of data (eg. files)
> in multiple function calls. The last call can be made without
> lRaw=.T. parameter to force encoding of unaligned data length if
> necessary.

   function hb_blowfishEncryptRaw( bfKey, cData )
   return left( hb_blowfishEncrypt( bfKey, cData ), len( cData ) )

   function hb_blowfishDecryptRaw( bfKey, cData )
   return hb_blowfishDecrypt( bfKey, cData + ;
            hb_blowfishEncryptRaw( bfKey, repl( chr( 0 ), 7 ) + chr( 8 ) ) )

Anyhow for performance reasons I'll add support for <lRaw> parameter
to hb_blofish{En|De}crypt() functions.

There is only one question: what to do if passed string length is not
multiple of 8. We have few choices:
1. generate RTE
2. return NIL or "" to indicate error
3. pad string with spaces or chr( 0 ) before encoding
4. pad only strings shorter then 8 bytes. For longer strings encode
   encode all full 64bit blocks then encode last 64bits (decode in
   reveresed order)

The version 4 allow to encode any data longer then 7 bytes without any
problems keeping original size.

What do you prefer?

best regards,
Przemek
From carozodequilmes at gmail.com  Wed Oct 21 16:21:00 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Wed Oct 21 16:21:06 2009
Subject: [Harbour] HbQt and Connect Events
In-Reply-To: <25985786.post@talk.nabble.com>
References: <578c73340910200748ma8acd77n5abc83ea96cdb870@mail.gmail.com>
	<25979231.post@talk.nabble.com>
	<578c73340910201221o4b063c7bh33867ba5147d17fd@mail.gmail.com>
	<25985786.post@talk.nabble.com>
Message-ID: <578c73340910211321x76b133acq16a4a3ba4448f609@mail.gmail.com>

Hi Pritpal, after I add the two functions to my project, it run fine

I left the two changes into hbqt_slots.cpp indicated in previous mails.

Thanks a lot
CdQ


On Tue, Oct 20, 2009 at 11:58 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi
>
> #include "common.ch"
>
> STATIC qApp
>
> INIT PROCEDURE Qt_Start()
>   qApp := QApplication():new()
>   RETURN
>
> EXIT PROCEDURE Qt_End()
>   qApp:quit()
>   RETURN
>
> PROCEDURE Main()
>   Local oWin
>
>    //    The following functions are to be called for each thread.
>   //    This change ensures more speed, initially every call to an event
> was checking for thread stack.
>   //
>   Qt_SetEventFilter()
>   Qt_SetEventSlots()
>
>   oWin := QMainWindow():new()
>   oWin:ReSize( 640, 400 )
>   oWin:Move( 10 , 10 )
>   QT_CONNECT_EVENT( oWin:pPtr , 6 , {|o,e| My_Events( o , e ) } )  // *<--
> Cancel here*
>   oWin:Show()
>   qApp:exec()
> RETURN .T.
>
> Function My_Events( o , e )
>   MsgInfo( "Key Pressed" )
> Return .T.
>
> STATIC FUNCTION MsgInfo( cMsg )
>   LOCAL oMB
>   oMB := QMessageBox():new()
>   oMB:setInformativeText( cMsg )
>   oMB:setWindowTitle( "Harbour-QT" )
>   oMB:exec()
> RETURN nil
>
> #ifdef __PLATFORM__WINDOWS
> PROCEDURE hb_GtSys()
>   HB_GT_GUI_DEFAULT()
>   RETURN
> #endif
>
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/HbQt-and-Connect-Events-tp25976580p25985786.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
QAC (I want something comfortable !!!) - Incremental Compilation with all
MiniGUIs versions
QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las
versiones de MiniGUI

Download: www.CarozoDeQuilmes.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091021/4bdb690c/attachment.html
From bedipritpal at hotmail.com  Wed Oct 21 16:47:12 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Oct 21 16:47:18 2009
Subject: [Harbour] HbQt and Connect Events
In-Reply-To: <578c73340910211321x76b133acq16a4a3ba4448f609@mail.gmail.com>
References: <578c73340910200748ma8acd77n5abc83ea96cdb870@mail.gmail.com>
	<25979231.post@talk.nabble.com>
	<578c73340910201221o4b063c7bh33867ba5147d17fd@mail.gmail.com>
	<25985786.post@talk.nabble.com>
	<578c73340910211321x76b133acq16a4a3ba4448f609@mail.gmail.com>
Message-ID: <25999968.post@talk.nabble.com>


Hi


CarozoDeQuilmes wrote:
> 
> Hi Pritpal, after I add the two functions to my project, it run fine
> 

Good. Do you receive the events also ?



> I left the two changes into hbqt_slots.cpp indicated in previous mails.
> 

By next commit these will be in SVN.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HbQt-and-Connect-Events-tp25976580p25999968.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Wed Oct 21 17:29:20 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Oct 21 17:29:28 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <25996951.post@talk.nabble.com>
References: <4ADC8E5E.40400@mweb.co.za>
	<20091019230008.GA31620@linux-8af1.home.aster.pl>
	<4ADD83EA.9050908@mweb.co.za>
	<20091020094631.GA15576@linux-8af1.home.aster.pl>
	<4ADF09B9.2070806@mweb.co.za>
	<20091021163926.GA2382@linux-8af1.home.aster.pl>
	<25996951.post@talk.nabble.com>
Message-ID: <20091021212920.GA7092@linux-8af1.home.aster.pl>

On Wed, 21 Oct 2009, Pritpal Bedi wrote:

Hi,

> > Looks that it's a time to extended our GC and add support for references
> > between GC blocks. I'll try to make it soon before we release 2.0.
> Thank you that you thought this way.
> A must needed feature of VM.
> I always wondered why I am unable to free as much
> resources as I have allocated, mainly due to the this fact
> you explained. And it is really hard to detect and clear such 
> type of occurances.

It may happen only when hb_itemNew() is used so danger places in
the code can be easy found. The problem is only with checking .prg
code it it exploits them or not.

Few months ago I discussed this problem with Mindaugas on this forum
and possible solutions. In general it's necessary to add to GC a way
to detect logical references between different blocks allocated by
hb_gcAlloc(). Our GC knows nothing about internal structure of user
GC blocks so it cannot make it without some help from programmer side.
Now GC well know internal format of GC Harbour items like arrays, hashes
or codeblocks because we added code which scan their all internal
references in GC mark phase.
The problem appears when programmer wants to store harbour item in
custom GC block which is later returned as collectible pointer item
to PRG code.
Such complex item has to be copied into item allocated by hb_itemNew().
It protects the item against direct releasing by HVM and also against
releasing by GC because GC keeps a list of all items allocated by
hb_itemNew() and marks all complex items inside them as used.
Using hb_itemNew() programmer is sure that item is always valid
and does not have to worry that it will be freed suddenly so the
pointer stored in C internals will point to some unused memory block.

So far all is good but in some cases it may disable automatic
destructors of GC blocks. It will happen if user create cyclic
reference and then attach such "ring" of items to item allocated
by hb_itemNew(). Because GC knows all items allocated by hb_itemNew()
then it always mark them as used and all other items which can be
accessed from it. It's still nothing wrong if programmer later release
the item allocated by hb_itemNew() using hb_itemRelease(). But if he
does not want to release it explicitly but by destructor of other
GC block where he stored pointer to the item and then this external
GC block can be accessed from one of item in the cyclic reference path
then he has problem. GC always mark such blocks as used so they are never
released.
To resolve the problem it's necessary to unlock item returned by
hb_itemNew() and inform the GC how it should access it in GC mark
pass.
The first part is trivial. It's enough to call hb_gcUnlock( pItem )
where pItem is pointer to item returned by hb_itemNew().
But we do not have anything to well resolve the second part.
Using hb_gcRegisterSweep() is not a reasonable solution.
After unlocking the item without anything to mark them as used during
GC mark pass we lost it immediately when GC complete all steps.
So we have to modify existing GC code.
We can resolve this problem in three ways.
1. we can add additional "mark" function which will be registered
   with GC block together with cleanup function by hb_gcAlloc().
   During "mark" pass GC executed such function for all accessed
   blocks and this function will call hb_gcItemRef() for all pointer
   to unlocked items stored in given block. We can implement it
   without additional memory overhead and even increasing a little
   bit speed of existing GC core code but it will be necessary
   to modify hb_gcAlloc() function from:
      void * hb_gcAlloc( ULONG ulSize, HB_GARBAGE_FUNC_PTR pFunc );
   to:
      typedef 
      {
         HB_GARBAGE_FUNC_PTR  pClean;
         HB_GARBAGE_FUNC_PTR  pMark;
      }
      HB_GC_FUNCS;
      void * hb_gcAllocExt( ULONG ulSize, const HB_GC_TABLE * pFuncs );
   and then update all existing code which uses hb_gcAlloc(), hb_parptrGC(),
   hb_itemGetPtrGC() and introduce static table used as parameter in these
   functions instead of pointer to cleanup function. It will be job also
   for 3-rd party code developers. Such modifications breaks binary
   compatibility so maybe we should also modify hb_gcAlloc() function name
   to detect possible problems at link time.
2. we can extend internal GC structure and introduce new field with
   list of bound GC blocks. Programmer can attach given GC block with some
   to other GC block using:
      void hb_gcBind( void * pParentBlock, void * pBlock );
   Then when GC in mark step finding pParentBlock marks also all blocks
   attached to it. Such solution increase a little bit total memory used
   by Harbour because we will need additional space for pointer (on some
   platforms rounded to memory alignment factor - usually 8 bytes) in
   each GC block (each codeblock, array, hash array, GC collectible pointer).
3. We can add new function which will be used instead of hb_itemNew(), i.e.:
      PHB_ITEM hb_itemRefNew( void * pParentBlock, PHB_ITEM pSource );
   Such items will be stored in separate list with references to parent
   blocks. This list is scanned by GC at the end of GC mark step and GC
   marks as used (and scan recursively) only items for which parent blocks
   were marked before. This solution needs some extra memory only for items
   allocated by hb_itemRefNew() so it's statically unimportant. But it
   may create some performance problems if application uses a lot of
   items allocated by hb_itemRefNew(). It's necessary to make linear
   scan to remove hb_itemRefNew() item from the list when pParentBlock()
   is destroyed (now we have similar situation with hb_gcRegisterSweep()
   blocks).

Now we have to chose one of above method.
I would like to hear your opinions about preferred method.

best regards,
Przemek
From carozodequilmes at gmail.com  Wed Oct 21 18:47:41 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Wed Oct 21 18:47:47 2009
Subject: [Harbour] HbQt and Connect Events
In-Reply-To: <25999968.post@talk.nabble.com>
References: <578c73340910200748ma8acd77n5abc83ea96cdb870@mail.gmail.com>
	<25979231.post@talk.nabble.com>
	<578c73340910201221o4b063c7bh33867ba5147d17fd@mail.gmail.com>
	<25985786.post@talk.nabble.com>
	<578c73340910211321x76b133acq16a4a3ba4448f609@mail.gmail.com>
	<25999968.post@talk.nabble.com>
Message-ID: <578c73340910211547i1756523blf722d55aba50115d@mail.gmail.com>

Hi


> >
> > Hi Pritpal, after I add the two functions to my project, it run fine
> >
>
> Good. Do you receive the events also ?
>
>
>
Yes, I receive the keypress event.


>
> > I left the two changes into hbqt_slots.cpp indicated in previous mails.
> >
>
> By next commit these will be in SVN.
>

Ok.

Thanks and regards
CdQ




>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/HbQt-and-Connect-Events-tp25976580p25999968.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
QAC (I want something comfortable !!!) - Incremental Compilation with all
MiniGUIs versions
QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las
versiones de MiniGUI

Download: www.CarozoDeQuilmes.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091021/0b486464/attachment.html
From mbelgrano at deltain.it  Wed Oct 21 19:32:11 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Oct 21 19:32:38 2009
Subject: [Harbour] HbQt and Connect Events
In-Reply-To: <578c73340910211321x76b133acq16a4a3ba4448f609@mail.gmail.com>
References: <578c73340910200748ma8acd77n5abc83ea96cdb870@mail.gmail.com> 
	<25979231.post@talk.nabble.com>
	<578c73340910201221o4b063c7bh33867ba5147d17fd@mail.gmail.com> 
	<25985786.post@talk.nabble.com>
	<578c73340910211321x76b133acq16a4a3ba4448f609@mail.gmail.com>
Message-ID: <609353e70910211632t226b86b9oa6c30cd4c58caffb@mail.gmail.com>

Good news
started Reliability for QT & XHB




2009/10/21 CarozoDeQuilmes <carozodequilmes@gmail.com>:
> Hi Pritpal, after I add the two functions to my project, it run fine
>
> I left the two changes into hbqt_slots.cpp indicated in previous mails.
>
> Thanks a lot
> CdQ
>
>
> On Tue, Oct 20, 2009 at 11:58 PM, Pritpal Bedi <bedipritpal@hotmail.com>
> wrote:
>>
>> Hi
>>
>> #include "common.ch"
>>
>> STATIC qApp
>>
>> INIT PROCEDURE Qt_Start()
>> ? qApp := QApplication():new()
>> ? RETURN
>>
>> EXIT PROCEDURE Qt_End()
>> ? qApp:quit()
>> ? RETURN
>>
>> PROCEDURE Main()
>> ? Local oWin
>>
>> ? // ? ?The following functions are to be called for each thread.
>> ? // ? ?This change ensures more speed, initially every call to an event
>> was checking for thread stack.
>> ? //
>> ? Qt_SetEventFilter()
>> ? Qt_SetEventSlots()
>>
>> ? oWin := QMainWindow():new()
>> ? oWin:ReSize( 640, 400 )
>> ? oWin:Move( 10 , 10 )
>> ? QT_CONNECT_EVENT( oWin:pPtr , 6 , {|o,e| My_Events( o , e ) } ) ?// *<--
>> Cancel here*
>> ? oWin:Show()
>> ? qApp:exec()
>> RETURN .T.
>>
>> Function My_Events( o , e )
>> ? MsgInfo( "Key Pressed" )
>> Return .T.
>>
>> STATIC FUNCTION MsgInfo( cMsg )
>> ? LOCAL oMB
>> ? oMB := QMessageBox():new()
>> ? oMB:setInformativeText( cMsg )
>> ? oMB:setWindowTitle( "Harbour-QT" )
>> ? oMB:exec()
>> RETURN nil
>>
>> #ifdef __PLATFORM__WINDOWS
>> PROCEDURE hb_GtSys()
>> ? HB_GT_GUI_DEFAULT()
>> ? RETURN
>> #endif
>>
>>
>> Regards
>> Pritpal Bedi
>>
>> --
>> View this message in context:
>> http://www.nabble.com/HbQt-and-Connect-Events-tp25976580p25985786.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
> --
> QAC (I want something comfortable !!!) - Incremental Compilation with all
> MiniGUIs versions
> QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las
> versiones de MiniGUI
>
> Download: www.CarozoDeQuilmes.com.ar
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From dbtopas at dbtopas.lt  Wed Oct 21 21:45:42 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Oct 21 21:45:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12721] trunk/harbour
In-Reply-To: <20091021184913.GA5878@linux-8af1.home.aster.pl>
References: <E1Myw8A-0007Zk-UD@74yxhf1.ch3.sourceforge.com>	<4ADDAF1D.40908@dbtopas.lt>	<20091020152246.GA29094@linux-8af1.home.aster.pl>	<4ADF4542.1060609@dbtopas.lt>
	<20091021184913.GA5878@linux-8af1.home.aster.pl>
Message-ID: <4ADFB946.8000108@dbtopas.lt>

Hi,


>> I've looked to key length encoding in Harbour level functions. Is it
>> some standard way to encode length of 8byte unaligned data?
> 
> I guess you are talking about .prg functions.
> No, it's not a standard. I implemented it only for these functions.

I guess your padding IS standard ANSI X.923 :) If not, we can choose one 
suitable padding from http://en.wikipedia.org/wiki/Padding_(cryptography)


>    function hb_blowfishEncryptRaw( bfKey, cData )
>    return left( hb_blowfishEncrypt( bfKey, cData ), len( cData ) )
> 
>    function hb_blowfishDecryptRaw( bfKey, cData )
>    return hb_blowfishDecrypt( bfKey, cData + ;
>             hb_blowfishEncryptRaw( bfKey, repl( chr( 0 ), 7 ) + chr( 8 ) ) )

I had exactly the same idea of hb_blowfishEncryptRaw(), but I was unable 
to make hb_blowfishDecryptRaw(). My idea was:

function hb_blowfishDecryptRaw( bfKey, cData )
return LEFT(hb_blowfishDecrypt( bfKey, cData + REPL(CHR(0), 8)), cData)

but the problem is that hb_blowfishDecrypt() will return a valid result 
only if the last byte of decrypted string is <= 8. The probability of 
this is 1/8, so, additional loop required to feed a function with random 
stuff instead of REPL(CHR(0), 8) until function return a valid result. 
Not a nice solution. :)


> There is only one question: what to do if passed string length is not
> multiple of 8. We have few choices:
> 1. generate RTE
> 2. return NIL or "" to indicate error
> 3. pad string with spaces or chr( 0 ) before encoding
> 4. pad only strings shorter then 8 bytes. For longer strings encode
>    encode all full 64bit blocks then encode last 64bits (decode in
>    reveresed order)
> 
> The version 4 allow to encode any data longer then 7 bytes without any
> problems keeping original size.
> 
> What do you prefer?

Since lRaw is .T., perhaps the simple method should be used (1 or 2). 
Perhaps return NIL is better than RTE since current functions return NIL 
(or we should add RTE in all functions). 3 choice makes function a 
little "not raw", but it is also a good choice.
But the 4th is the most interesting :) I've not understood your idea, 
can you describe it it more detail?

The similar to 4 ways of "storing length" is described in 
http://en.wikipedia.org/wiki/Ciphertext_stealing and 
http://en.wikipedia.org/wiki/Residual_block_termination , but I'm not 
sure if we need these. It is not "raw". It could be implemented if 
lRaw=.F., but the drawback is that it does not work if data size is less 
than 1 block. So, it is also not suitable.

So, my preference order is:
  3 with CHR(0)
  2 with NIL
  1 (and generate RTE in other cases)
  4


Regards,
Mindaugas
From dbtopas at dbtopas.lt  Wed Oct 21 21:57:09 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Oct 21 21:57:04 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <20091021212920.GA7092@linux-8af1.home.aster.pl>
References: <4ADC8E5E.40400@mweb.co.za>	<20091019230008.GA31620@linux-8af1.home.aster.pl>	<4ADD83EA.9050908@mweb.co.za>	<20091020094631.GA15576@linux-8af1.home.aster.pl>	<4ADF09B9.2070806@mweb.co.za>	<20091021163926.GA2382@linux-8af1.home.aster.pl>	<25996951.post@talk.nabble.com>
	<20091021212920.GA7092@linux-8af1.home.aster.pl>
Message-ID: <4ADFBBF5.3020803@dbtopas.lt>

Hi,


> 1. we can add additional "mark" function which will be registered
>    with GC block together with cleanup function by hb_gcAlloc().
>    ... We can implement it
>    without additional memory overhead and even increasing a little
>    bit speed of existing GC core code but it will be necessary

As always I vote for feature instead of backward compatibility :)

>    for 3-rd party code developers. Such modifications breaks binary
>    compatibility so maybe we should also modify hb_gcAlloc() function name
>    to detect possible problems at link time.

It could be hb_gcAllocate().


> 2. we can extend internal GC structure and introduce new field with
>    list of bound GC blocks. Programmer can attach given GC block with some
>    to other GC block using:
>       void hb_gcBind( void * pParentBlock, void * pBlock );
>    Then when GC in mark step finding pParentBlock marks also all blocks
>    attached to it. Such solution increase a little bit total memory used
>    by Harbour because we will need additional space for pointer (on some
>    platforms rounded to memory alignment factor - usually 8 bytes) in
>    each GC block (each codeblock, array, hash array, GC collectible pointer).

So, pParentBlock will have a list of all its "childs" pBlocks. It will 
require one more hb_gcUnbind() function on pBlock release, or keep two 
way pointers between blocks. Or am I wrong?


> 3. We can add new function which will be used instead of hb_itemNew(), i.e.:
>       PHB_ITEM hb_itemRefNew( void * pParentBlock, PHB_ITEM pSource ) 
>    ... may create some performance problems if application uses a lot of
>    items allocated by hb_itemRefNew(). It's necessary to make linear
>    scan to remove hb_itemRefNew() item from the list when pParentBlock()

Not nice.



Regards,
Mindaugas
From fernando_athayde at yahoo.com.br  Wed Oct 21 22:18:25 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Wed Oct 21 22:18:32 2009
Subject: [Harbour] harbour_cvs + bcc 5.8.2
In-Reply-To: <4ADFBBF5.3020803@dbtopas.lt>
References: <4ADC8E5E.40400@mweb.co.za>
	<20091019230008.GA31620@linux-8af1.home.aster.pl>
	<4ADD83EA.9050908@mweb.co.za>
	<20091020094631.GA15576@linux-8af1.home.aster.pl>
	<4ADF09B9.2070806@mweb.co.za>
	<20091021163926.GA2382@linux-8af1.home.aster.pl>
	<25996951.post@talk.nabble.com>
	<20091021212920.GA7092@linux-8af1.home.aster.pl>
	<4ADFBBF5.3020803@dbtopas.lt>
Message-ID: <545555.7890.qm@web52203.mail.re2.yahoo.com>

error in compilation with bcc 5.8.2

E:\harbour_cvs>mingw32-make.exe
! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
! MAKE: mingw32-make.exe 3.81 sh.exe
! HB_INSTALL_PREFIX: e:\harbourhb58
! HB_BUILD_DLL: yes
! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
! HB_PLATFORM: win (x86) (autodetected)
! HB_COMPILER: bcc
! Component: 'zlib' found in E:/harbour_cvs/external/zlib (local)
! Component: 'pcre' found in E:/harbour_cvs/external/pcre (local)
! Component: 'openssl' not found
! Component: 'gpm' not supported on win platform
! Component: 'slang' not found
! Component: 'curses' not found
! Component: 'x11' not found
! Component: 'wattcp/watt-32' not supported on win platform
mingw32-make.exe[2]: Nothing to be done for `all'.
mingw32-make.exe[1]: Nothing to be done for `all'.
mingw32-make.exe[3]: `../../../../../lib/win/bcc/libhpdf.lib' is up to date.
mingw32-make.exe[3]: `../../../../../lib/win/bcc/libpng.lib' is up to date.
mingw32-make.exe[3]: `../../../../../lib/win/bcc/hbpcre.lib' is up to date.
mingw32-make.exe[3]: `../../../../../lib/win/bcc/sqlite3.lib' is up to date.
mingw32-make.exe[3]: `../../../../../lib/win/bcc/hbzlib.lib' is up to date.
mingw32-make.exe[3]: `../../../../../lib/win/bcc/hbcommon.lib' is up to date.
mingw32-make.exe[3]: `../../../../../lib/win/bcc/hbnortl.lib' is up to date.
mingw32-make.exe[3]: `../../../../../lib/win/bcc/hbpp.lib' is up to date.
mingw32-make.exe[3]: `../../../../../lib/win/bcc/hbcplr.lib' is up to date.
mingw32-make.exe[3]: `../../../../../bin/win/bcc/harbour.exe' is up to date.
bcc32.exe  -I. -I../../../../../include -q -tWM -w -w-sig- -Q -d -6 -O2 -OS -Ov
-Oi -Oc  -DHB_HAS_PCRE -IE:/harbour_cvs/external/pcre -DPCRE_STATIC -DHB_HAS_ZLI
B -IE:/harbour_cvs/external/zlib  -ohbsocket.obj -c ../../../hbsocket.c
../../../hbsocket.c:
Error E2141 \bcc582\include\ws2tcpip.h 205: Declaration syntax error
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
Error E2139 \bcc582\include\ws2tcpip.h 370: Declaration missing ;
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
Error E2238 \bcc582\include\ws2tcpip.h 371: Multiple declaration for 'sockaddr_g
en'
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
Error E2344 \bcc582\include\ws2tcpip.h 370: Earlier declaration of 'sockaddr_gen
'
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
Error E2139 \bcc582\include\ws2tcpip.h 371: Declaration missing ;
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
Error E2238 \bcc582\include\ws2tcpip.h 372: Multiple declaration for 'sockaddr_g
en'
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
Error E2344 \bcc582\include\ws2tcpip.h 370: Earlier declaration of 'sockaddr_gen
'
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
Error E2139 \bcc582\include\ws2tcpip.h 372: Declaration missing ;
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
Error E2141 \bcc582\include\ws2tcpip.h 683: Declaration syntax error
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
Warning W8027 \bcc582\include\wspiapi.h 154: Functions containing for are not ex
panded inline
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
 + \bcc582\include\ws2tcpip.h, line 768: #include \bcc582\include\wspiapi.h
Warning W8027 \bcc582\include\wspiapi.h 272: Functions containing for are not ex
panded inline
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
 + \bcc582\include\ws2tcpip.h, line 768: #include \bcc582\include\wspiapi.h
Warning W8027 \bcc582\include\wspiapi.h 350: Functions containing for are not ex
panded inline
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
 + \bcc582\include\ws2tcpip.h, line 768: #include \bcc582\include\wspiapi.h
Warning W8027 \bcc582\include\wspiapi.h 416: Functions containing for are not ex
panded inline
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
 + \bcc582\include\ws2tcpip.h, line 768: #include \bcc582\include\wspiapi.h
Warning W8027 \bcc582\include\wspiapi.h 459: Functions containing for are not ex
panded inline
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
 + \bcc582\include\ws2tcpip.h, line 768: #include \bcc582\include\wspiapi.h
Warning W8027 \bcc582\include\wspiapi.h 565: Functions containing some if statem
ents are not expanded inline in function WspiapiLegacyGetAddrInfo
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
 + \bcc582\include\ws2tcpip.h, line 768: #include \bcc582\include\wspiapi.h
 + \bcc582\include\wspiapi.h, line 688: decision to instantiate: int __stdcall W
spiapiLegacyGetAddrInfo(const signed char *,const signed char *,const addrinfo *
,addrinfo * *)
 + --- Resetting parser context for instantiation...
Warning W8027 \bcc582\include\wspiapi.h 826: Functions containing switch are not
 expanded inline
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
 + \bcc582\include\ws2tcpip.h, line 768: #include \bcc582\include\wspiapi.h
Warning W8027 \bcc582\include\wspiapi.h 911: Functions containing for are not ex
panded inline
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
 + \bcc582\include\ws2tcpip.h, line 768: #include \bcc582\include\wspiapi.h
Warning W8061 \bcc582\include\wspiapi.h 898: Initialization is only partially br
acketed in function WspiapiLoad
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
 + \bcc582\include\ws2tcpip.h, line 768: #include \bcc582\include\wspiapi.h
 + \bcc582\include\wspiapi.h, line 987: decision to instantiate: int (__stdcall
*)() __stdcall WspiapiLoad(unsigned short)
 + --- Resetting parser context for instantiation...
 + \bcc582\include\wspiapi.h, line 893: parsing: int (__stdcall *)() __stdcall W
spiapiLoad(unsigned short)
Warning W8061 \bcc582\include\wspiapi.h 898: Initialization is only partially br
acketed in function WspiapiLoad
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
 + \bcc582\include\ws2tcpip.h, line 768: #include \bcc582\include\wspiapi.h
 + \bcc582\include\wspiapi.h, line 987: decision to instantiate: int (__stdcall
*)() __stdcall WspiapiLoad(unsigned short)
 + --- Resetting parser context for instantiation...
 + \bcc582\include\wspiapi.h, line 893: parsing: int (__stdcall *)() __stdcall W
spiapiLoad(unsigned short)
Warning W8061 \bcc582\include\wspiapi.h 898: Initialization is only partially br
acketed in function WspiapiLoad
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
 + \bcc582\include\ws2tcpip.h, line 768: #include \bcc582\include\wspiapi.h
 + \bcc582\include\wspiapi.h, line 987: decision to instantiate: int (__stdcall
*)() __stdcall WspiapiLoad(unsigned short)
 + --- Resetting parser context for instantiation...
 + \bcc582\include\wspiapi.h, line 893: parsing: int (__stdcall *)() __stdcall W
spiapiLoad(unsigned short)
Warning W8061 \bcc582\include\wspiapi.h 903: Initialization is only partially br
acketed in function WspiapiLoad
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
 + \bcc582\include\ws2tcpip.h, line 768: #include \bcc582\include\wspiapi.h
 + \bcc582\include\wspiapi.h, line 987: decision to instantiate: int (__stdcall
*)() __stdcall WspiapiLoad(unsigned short)
 + --- Resetting parser context for instantiation...
 + \bcc582\include\wspiapi.h, line 893: parsing: int (__stdcall *)() __stdcall W
spiapiLoad(unsigned short)
Warning W8061 \bcc582\include\wspiapi.h 903: Initialization is only partially br
acketed in function WspiapiLoad
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
 + \bcc582\include\ws2tcpip.h, line 768: #include \bcc582\include\wspiapi.h
 + \bcc582\include\wspiapi.h, line 987: decision to instantiate: int (__stdcall
*)() __stdcall WspiapiLoad(unsigned short)
 + --- Resetting parser context for instantiation...
 + \bcc582\include\wspiapi.h, line 893: parsing: int (__stdcall *)() __stdcall W
spiapiLoad(unsigned short)
Warning W8061 \bcc582\include\wspiapi.h 903: Initialization is only partially br
acketed in function WspiapiLoad
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
 + \bcc582\include\ws2tcpip.h, line 768: #include \bcc582\include\wspiapi.h
 + \bcc582\include\wspiapi.h, line 987: decision to instantiate: int (__stdcall
*)() __stdcall WspiapiLoad(unsigned short)
 + --- Resetting parser context for instantiation...
 + \bcc582\include\wspiapi.h, line 893: parsing: int (__stdcall *)() __stdcall W
spiapiLoad(unsigned short)
Warning W8027 \bcc582\include\wspiapi.h 1001: Functions containing static variab
les are not expanded inline in function WspiapiGetAddrInfo
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
 + \bcc582\include\ws2tcpip.h, line 768: #include \bcc582\include\wspiapi.h
 + \bcc582\include\wspiapi.h, line 1009: decision to instantiate: int __stdcall
WspiapiGetAddrInfo(const signed char *,const signed char *,const addrinfo *,addr
info * *)
 + --- Resetting parser context for instantiation...
Warning W8027 \bcc582\include\wspiapi.h 1026: Functions containing static variab
les are not expanded inline in function WspiapiGetNameInfo
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
 + \bcc582\include\ws2tcpip.h, line 768: #include \bcc582\include\wspiapi.h
 + \bcc582\include\wspiapi.h, line 1034: decision to instantiate: int __stdcall
WspiapiGetNameInfo(const sockaddr *,int,signed char *,unsigned int,signed char *
,unsigned int,int)
 + --- Resetting parser context for instantiation...
Warning W8027 \bcc582\include\wspiapi.h 1044: Functions containing static variab
les are not expanded inline in function WspiapiFreeAddrInfo
 + Full parser context
 + ../../../hbsocket.c, line 168: #include \bcc582\include\ws2tcpip.h
 + \bcc582\include\ws2tcpip.h, line 768: #include \bcc582\include\wspiapi.h
 + \bcc582\include\wspiapi.h, line 1049: decision to instantiate: void __stdcall
 WspiapiFreeAddrInfo(addrinfo *)
 + --- Resetting parser context for instantiation...
*** 9 errors in Compile ***
mingw32-make.exe[3]: *** [hbsocket.obj] Error 1
mingw32-make.exe[2]: *** [descend] Error 2
mingw32-make.exe[1]: *** [rtl] Error 2
mingw32-make.exe: *** [src] Error 2

[]s
Fernando



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091021/c74edb91/attachment-0001.html
From dbtopas at dbtopas.lt  Wed Oct 21 22:22:29 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Oct 21 22:22:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12721] trunk/harbour
In-Reply-To: <4ADFB946.8000108@dbtopas.lt>
References: <E1Myw8A-0007Zk-UD@74yxhf1.ch3.sourceforge.com>	<4ADDAF1D.40908@dbtopas.lt>	<20091020152246.GA29094@linux-8af1.home.aster.pl>	<4ADF4542.1060609@dbtopas.lt>	<20091021184913.GA5878@linux-8af1.home.aster.pl>
	<4ADFB946.8000108@dbtopas.lt>
Message-ID: <4ADFC1E5.3050602@dbtopas.lt>

Hi,


>> 4. pad only strings shorter then 8 bytes. For longer strings encode
>>    encode all full 64bit blocks then encode last 64bits (decode in
>>    reveresed order)
> But the 4th is the most interesting :) I've not understood your idea, 
> can you describe it it more detail?

Ok, I've understood. You mean encode last 64bits partly containing 
ALREADY ENCODED bytes of previous block.


Regards,
Mindaugas
From bedipritpal at hotmail.com  Thu Oct 22 02:41:18 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Oct 22 02:41:25 2009
Subject: [Harbour] HBQT - Sub Classification - Makefile(s)
Message-ID: <26004816.post@talk.nabble.com>


Hello Viktor, All

I am done with separating the source files in respective folders.
contrib/contrib/hbqt/qtwebkit contians these files

filelist.mk
Makefile

QWebFrame.cpp
QWebHistory.cpp
QWebHistoryInterface.cpp
QWebHistoryItem.cpp
QWebHitTestResult.cpp
QWebPage.cpp
QWebPluginFactory.cpp
QWebSecurityOrigin.cpp
QWebSettings.cpp
QWebView.cpp
TQWebFrame.prg
TQWebHistory.prg
TQWebHistoryInterface.prg
TQWebHistoryItem.prg
TQWebHitTestResult.prg
TQWebPage.prg
TQWebPluginFactory.prg
TQWebSecurityOrigin.prg
TQWebSettings.prg
TQWebView.prg

filelist.mk
=======
#
# $Id: hbqtgen.prg 12718 2009-10-16 01:57:48Z vouchcac $
#

# --------------------------------------------------------------------
# WARNING: Automatically generated source file. DO NOT EDIT!
#          Instead, edit corresponding .qth file,
#          or the generator tool itself, and run regenarate.
# --------------------------------------------------------------------

CPP_SOURCES := \
   QWebFrame.cpp \
   QWebHistory.cpp \
   QWebHistoryInterface.cpp \
   QWebHistoryItem.cpp \
   QWebHitTestResult.cpp \
   QWebPage.cpp \
   QWebPluginFactory.cpp \
   QWebSecurityOrigin.cpp \
   QWebSettings.cpp \
   QWebView.cpp \



PRG_SOURCES := \
   TQWebFrame.prg \
   TQWebHistory.prg \
   TQWebHistoryInterface.prg \
   TQWebHistoryItem.prg \
   TQWebHitTestResult.prg \
   TQWebPage.prg \
   TQWebPluginFactory.prg \
   TQWebSecurityOrigin.prg \
   TQWebSettings.prg \
   TQWebView.prg \

# Don't delete this comment, it's here to ensure empty
# line above is kept intact.


Makefile
======
#
# $Id: Makefile 12634 2009-10-01 16:04:11Z vszakats $
#

ROOT := ../../../

include $(TOP)$(ROOT)config/global.mk

LIBNAME := hbqtwebkit

PRG_HEADERS := \
   ../hbqt.ch \

# force redetect. needed for _QT_DARWIN trick
HB_HAS_QT :=

_DET_DSP_NAME := qt
_DET_VAR_INC_ := HB_INC_QT
_DET_VAR_HAS_ := HB_HAS_QT
_DET_FLT_PLAT := !dos !os2
_DET_FLT_COMP := !mingw64 !watcom !bcc !pocc !pocc64 !poccarm !msvcia64
_DET_INC_DEFP := /usr/include/qt4 /usr/lib/qt4/include /usr/include
/Developer/qt/include
_DET_INC_HEAD := /Qt/qglobal.h
include $(TOP)$(ROOT)config/detfun.mk

_QT_DARWIN :=
ifeq ($(HB_PLATFORM),darwin)
   ifeq ($(HB_HAS_QT),)
      _DET_DSP_NAME := qt
      _DET_VAR_INC_ := HB_INC_QT
      _DET_VAR_HAS_ := HB_HAS_QT
      _DET_INC_DEFP :=
/Library/Frameworks/QtCore.framework/Versions/4/Headers
      _DET_INC_HEAD := /QtCore
      include $(TOP)$(ROOT)config/detfun.mk
      _QT_DARWIN := yes
   endif
endif

ifneq ($(HB_HAS_QT),)

   ifeq ($(_QT_DARWIN),yes)
      HB_CFLAGS += -I/Library/Frameworks/QtCore.framework/Headers
      HB_CFLAGS += -I/Library/Frameworks/QtGui.framework/Headers
      HB_CFLAGS += -I/Library/Frameworks/QtNetwork.framework/Headers
      HB_CFLAGS += -I/Library/Frameworks/QtWebKit.framework/Headers
   else
      HB_CFLAGS += $(foreach d,$(HB_HAS_QT),-I$(d) -I$(d)/Qt -I$(d)/QtCore
-I$(d)/QtGui -I$(d)/QtNetwork -I$(d)/QtWebKit)
   endif

   include $(TOP)$(ROOT)contrib/hbqt/filelist.mk

   include $(TOP)$(ROOT)config/header.mk
   include $(TOP)$(ROOT)config/lib.mk

   ifneq ($(filter $(HB_PLATFORM),win wce),)
      ifneq ($(HB_QT_STATIC),)
         DIRS += hbqts
         include $(TOP)$(ROOT)config/dir.mk
      endif
   endif
else
   HB_SKIP_REASON := $(_DET_RES_TEXT)
   include $(TOP)$(ROOT)config/none.mk
endif



When I initiate "make" while staying in this folder I get
========================================

C:\harbour\contrib\hbqt\qtwebkit>make
! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
! MAKE: make 3.81 sh.exe
! HB_USER_PRGFLAGS: -D__HB_WINDEBUG__ -D__HB_OUTDEBUG__
! HB_INSTALL_PREFIX: C:\harbour_dev\harbour\mingw
! HB_BIN_INSTALL: C:\harbour_dev\harbour\mingw\bin
! HB_LIB_INSTALL: C:\harbour_dev\harbour\mingw\lib
! HB_INC_INSTALL: C:\harbour_dev\harbour\mingw\include
! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
! HB_PLATFORM: win (x86) (autodetected)
! HB_COMPILER: mingw
! Component: 'zlib' found in C:/harbour/external/zlib (local)
! Component: 'pcre' found in C:/harbour/external/pcre (local)
! Component: 'openssl' not found
! Component: 'gpm' not supported on win platform
! Component: 'slang' not found
! Component: 'curses' not found
! Component: 'x11' not found
! Component: 'wattcp/watt-32' not supported on win platform
make[1]: *** No rule to make target `moc_slots.o', needed by
`libhbqtwebkit.a'.
 Stop.
make: *** [descend] Error 2


I fail to understand why moc_slots is required to build the library.
The same error is reported while in "qtgui" and "qtnetwork" folders.
Only "qtcore" compiles fine.

I do not know how to resolve this issue.
One way could be to distribute "moc_slots.cpp" in every folder,
but this may cause conflicts in the final executable, though I am 
not sure of it right now.

If anyone has clues please forward.
In the meantime I continue with my experiments.

Regards
Pritpal Bedi




-- 
View this message in context: http://www.nabble.com/HBQT---Sub-Classification---Makefile%28s%29-tp26004816p26004816.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From M.Horodyski at pzuzycie.com.pl  Thu Oct 22 03:38:07 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Oct 22 03:38:16 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <4ADFBBF5.3020803@dbtopas.lt>
References: <4ADC8E5E.40400@mweb.co.za>	<20091019230008.GA31620@linux-8af1.home.aster.pl>	<4ADD83EA.9050908@mweb.co.za>	<20091020094631.GA15576@linux-8af1.home.aster.pl>	<4ADF09B9.2070806@mweb.co.za>	<20091021163926.GA2382@linux-8af1.home.aster.pl>	<25996951.post@talk.nabble.com><20091021212920.GA7092@linux-8af1.home.aster.pl>
	<4ADFBBF5.3020803@dbtopas.lt>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C950297ED50@PINK.zycie.pzu>

>-----Original Message-----
>From: Mindaugas Kavaliauskas [mailto:dbtopas@dbtopas.lt] 
>Sent: Thursday, October 22, 2009 3:57 AM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] ActiveX and GPF
>
>Hi,
>
>
>> 1. we can add additional "mark" function which will be registered
>>    with GC block together with cleanup function by hb_gcAlloc().
>>    ... We can implement it
>>    without additional memory overhead and even increasing a little
>>    bit speed of existing GC core code but it will be necessary
>
>As always I vote for feature instead of backward compatibility :)

Manufacturers 3-libraries countries are waiting for stable version to
comply with it.
This behavior can maintain performance even when there is no backward
compatibility is maintained. 
Harbor is so young that can not afford a failure to backward
compatibility.
For me it is about as "black magic", but the concept of "efficiency" I
understand very well:)

Regards,
Marek Horodyski
From harbour.01 at syenar.hu  Thu Oct 22 03:44:26 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Oct 22 03:44:35 2009
Subject: [Harbour] HBQT - Sub Classification - Makefile(s)
In-Reply-To: <26004816.post@talk.nabble.com>
References: <26004816.post@talk.nabble.com>
Message-ID: <4CBBD3C5-2FB6-410A-A519-88D747E2220F@syenar.hu>

Hi Pritpal,

My guess for the reason is that you try to
include old central filelist.mk instead of
the new local one.

See this line in Makefile:
    include $(TOP)$(ROOT)contrib/hbqt/filelist.mk
Should be:
    include $(TOP)$(ROOT)contrib/hbqt/hbqtwebkit/filelist.mk

Brgds,
Viktor

On 2009 Oct 22, at 08:41, Pritpal Bedi wrote:

>
> Hello Viktor, All
>
> I am done with separating the source files in respective folders.
> contrib/contrib/hbqt/qtwebkit contians these files
>
> filelist.mk
> Makefile
>
> QWebFrame.cpp
> QWebHistory.cpp
> QWebHistoryInterface.cpp
> QWebHistoryItem.cpp
> QWebHitTestResult.cpp
> QWebPage.cpp
> QWebPluginFactory.cpp
> QWebSecurityOrigin.cpp
> QWebSettings.cpp
> QWebView.cpp
> TQWebFrame.prg
> TQWebHistory.prg
> TQWebHistoryInterface.prg
> TQWebHistoryItem.prg
> TQWebHitTestResult.prg
> TQWebPage.prg
> TQWebPluginFactory.prg
> TQWebSecurityOrigin.prg
> TQWebSettings.prg
> TQWebView.prg
>
> filelist.mk
> =======
> #
> # $Id: hbqtgen.prg 12718 2009-10-16 01:57:48Z vouchcac $
> #
>
> # --------------------------------------------------------------------
> # WARNING: Automatically generated source file. DO NOT EDIT!
> #          Instead, edit corresponding .qth file,
> #          or the generator tool itself, and run regenarate.
> # --------------------------------------------------------------------
>
> CPP_SOURCES := \
>   QWebFrame.cpp \
>   QWebHistory.cpp \
>   QWebHistoryInterface.cpp \
>   QWebHistoryItem.cpp \
>   QWebHitTestResult.cpp \
>   QWebPage.cpp \
>   QWebPluginFactory.cpp \
>   QWebSecurityOrigin.cpp \
>   QWebSettings.cpp \
>   QWebView.cpp \
>
>
>
> PRG_SOURCES := \
>   TQWebFrame.prg \
>   TQWebHistory.prg \
>   TQWebHistoryInterface.prg \
>   TQWebHistoryItem.prg \
>   TQWebHitTestResult.prg \
>   TQWebPage.prg \
>   TQWebPluginFactory.prg \
>   TQWebSecurityOrigin.prg \
>   TQWebSettings.prg \
>   TQWebView.prg \
>
> # Don't delete this comment, it's here to ensure empty
> # line above is kept intact.
>
>
> Makefile
> ======
> #
> # $Id: Makefile 12634 2009-10-01 16:04:11Z vszakats $
> #
>
> ROOT := ../../../
>
> include $(TOP)$(ROOT)config/global.mk
>
> LIBNAME := hbqtwebkit
>
> PRG_HEADERS := \
>   ../hbqt.ch \
>
> # force redetect. needed for _QT_DARWIN trick
> HB_HAS_QT :=
>
> _DET_DSP_NAME := qt
> _DET_VAR_INC_ := HB_INC_QT
> _DET_VAR_HAS_ := HB_HAS_QT
> _DET_FLT_PLAT := !dos !os2
> _DET_FLT_COMP := !mingw64 !watcom !bcc !pocc !pocc64 !poccarm ! 
> msvcia64
> _DET_INC_DEFP := /usr/include/qt4 /usr/lib/qt4/include /usr/include
> /Developer/qt/include
> _DET_INC_HEAD := /Qt/qglobal.h
> include $(TOP)$(ROOT)config/detfun.mk
>
> _QT_DARWIN :=
> ifeq ($(HB_PLATFORM),darwin)
>   ifeq ($(HB_HAS_QT),)
>      _DET_DSP_NAME := qt
>      _DET_VAR_INC_ := HB_INC_QT
>      _DET_VAR_HAS_ := HB_HAS_QT
>      _DET_INC_DEFP :=
> /Library/Frameworks/QtCore.framework/Versions/4/Headers
>      _DET_INC_HEAD := /QtCore
>      include $(TOP)$(ROOT)config/detfun.mk
>      _QT_DARWIN := yes
>   endif
> endif
>
> ifneq ($(HB_HAS_QT),)
>
>   ifeq ($(_QT_DARWIN),yes)
>      HB_CFLAGS += -I/Library/Frameworks/QtCore.framework/Headers
>      HB_CFLAGS += -I/Library/Frameworks/QtGui.framework/Headers
>      HB_CFLAGS += -I/Library/Frameworks/QtNetwork.framework/Headers
>      HB_CFLAGS += -I/Library/Frameworks/QtWebKit.framework/Headers
>   else
>      HB_CFLAGS += $(foreach d,$(HB_HAS_QT),-I$(d) -I$(d)/Qt -I$(d)/ 
> QtCore
> -I$(d)/QtGui -I$(d)/QtNetwork -I$(d)/QtWebKit)
>   endif
>
>   include $(TOP)$(ROOT)contrib/hbqt/filelist.mk
>
>   include $(TOP)$(ROOT)config/header.mk
>   include $(TOP)$(ROOT)config/lib.mk
>
>   ifneq ($(filter $(HB_PLATFORM),win wce),)
>      ifneq ($(HB_QT_STATIC),)
>         DIRS += hbqts
>         include $(TOP)$(ROOT)config/dir.mk
>      endif
>   endif
> else
>   HB_SKIP_REASON := $(_DET_RES_TEXT)
>   include $(TOP)$(ROOT)config/none.mk
> endif
>
>
>
> When I initiate "make" while staying in this folder I get
> ========================================
>
> C:\harbour\contrib\hbqt\qtwebkit>make
> ! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
> ! MAKE: make 3.81 sh.exe
> ! HB_USER_PRGFLAGS: -D__HB_WINDEBUG__ -D__HB_OUTDEBUG__
> ! HB_INSTALL_PREFIX: C:\harbour_dev\harbour\mingw
> ! HB_BIN_INSTALL: C:\harbour_dev\harbour\mingw\bin
> ! HB_LIB_INSTALL: C:\harbour_dev\harbour\mingw\lib
> ! HB_INC_INSTALL: C:\harbour_dev\harbour\mingw\include
> ! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
> ! HB_PLATFORM: win (x86) (autodetected)
> ! HB_COMPILER: mingw
> ! Component: 'zlib' found in C:/harbour/external/zlib (local)
> ! Component: 'pcre' found in C:/harbour/external/pcre (local)
> ! Component: 'openssl' not found
> ! Component: 'gpm' not supported on win platform
> ! Component: 'slang' not found
> ! Component: 'curses' not found
> ! Component: 'x11' not found
> ! Component: 'wattcp/watt-32' not supported on win platform
> make[1]: *** No rule to make target `moc_slots.o', needed by
> `libhbqtwebkit.a'.
> Stop.
> make: *** [descend] Error 2
>
>
> I fail to understand why moc_slots is required to build the library.
> The same error is reported while in "qtgui" and "qtnetwork" folders.
> Only "qtcore" compiles fine.
>
> I do not know how to resolve this issue.
> One way could be to distribute "moc_slots.cpp" in every folder,
> but this may cause conflicts in the final executable, though I am
> not sure of it right now.
>
> If anyone has clues please forward.
> In the meantime I continue with my experiments.
>
> Regards
> Pritpal Bedi
>
>
>
>
> -- 
> View this message in context: http://www.nabble.com/HBQT---Sub-Classification---Makefile%28s%29-tp26004816p26004816.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Oct 22 03:47:44 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Oct 22 03:47:53 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C950297ED50@PINK.zycie.pzu>
References: <4ADC8E5E.40400@mweb.co.za>	<20091019230008.GA31620@linux-8af1.home.aster.pl>	<4ADD83EA.9050908@mweb.co.za>	<20091020094631.GA15576@linux-8af1.home.aster.pl>	<4ADF09B9.2070806@mweb.co.za>	<20091021163926.GA2382@linux-8af1.home.aster.pl>	<25996951.post@talk.nabble.com><20091021212920.GA7092@linux-8af1.home.aster.pl>
	<4ADFBBF5.3020803@dbtopas.lt>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C950297ED50@PINK.zycie.pzu>
Message-ID: <B940CE6E-5736-49CE-8DC8-E04CD9A90AA4@syenar.hu>

As for backward compatibility, I think we can break it
in this case and at this point in time.

Brgds,
Viktor

On 2009 Oct 22, at 09:38, Horodyski Marek (PZUZ) wrote:

>> -----Original Message-----
>> From: Mindaugas Kavaliauskas [mailto:dbtopas@dbtopas.lt]
>> Sent: Thursday, October 22, 2009 3:57 AM
>> To: Harbour Project Main Developer List.
>> Subject: Re: [Harbour] ActiveX and GPF
>>
>> Hi,
>>
>>
>>> 1. we can add additional "mark" function which will be registered
>>>   with GC block together with cleanup function by hb_gcAlloc().
>>>   ... We can implement it
>>>   without additional memory overhead and even increasing a little
>>>   bit speed of existing GC core code but it will be necessary
>>
>> As always I vote for feature instead of backward compatibility :)
>
> Manufacturers 3-libraries countries are waiting for stable version to
> comply with it.
> This behavior can maintain performance even when there is no backward
> compatibility is maintained.
> Harbor is so young that can not afford a failure to backward
> compatibility.
> For me it is about as "black magic", but the concept of "efficiency" I
> understand very well:)
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From tomaz.zupan at orpo.si  Thu Oct 22 04:38:52 2009
From: tomaz.zupan at orpo.si (=?utf-8?q?Toma=C5=BE_Zupan?=)
Date: Thu Oct 22 04:39:03 2009
Subject: [Harbour] hbrun error when instaled from rpm (linux)
Message-ID: <200910221038.52414.tomaz.zupan@orpo.si>

Hi!

I have built rpm packages with provided script. Building and install OK, but 
when I try to run hbrun, I get this error:

hbrun: error while loading shared libraries: libharbour-2.0.0.so: cannot open 
shared object file: No such file or directory

It runs as expected if I add /usr/lib/harbour to /etc/ld.so.conf, but I would 
somehow like that installation would take care of the issue. Either by 
linking hbrun to /usr/lib/libharbour.so (and not to libharbour-2.0.0.so) or 
by adding /usr/lib/harbour to ld.so search path. The later is probably quick 
solution but I guess that linking to /usr/lib/libharbour.so is the proper 
one.

LP, Toma? Zupan
From david at gesintur.com  Thu Oct 22 07:56:35 2009
From: david at gesintur.com (David MS)
Date: Thu Oct 22 07:56:46 2009
Subject: [Harbour] hb_SendMail and HTML
Message-ID: <09F8580232214667A329BE74C3223F4A@INFOR04>

Hi all,

Viktor, one suggestion for hb_sendmail:
It would be very helpful to pass html  in cbody directly, perhaps by adding a new parameter and keeping both possibilities. 
In dynamic html we'll save two steps, the creation and delete of a temporal file.

PD: I've test your last changes and work fine, Thanks a lot.

Best Regards
David Monta?o.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091022/5c756f74/attachment-0001.html
From harbour.01 at syenar.hu  Thu Oct 22 08:12:49 2009
From: harbour.01 at syenar.hu (=?windows-1252?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct 22 08:13:00 2009
Subject: [Harbour] hb_SendMail and HTML
In-Reply-To: <09F8580232214667A329BE74C3223F4A@INFOR04>
References: <09F8580232214667A329BE74C3223F4A@INFOR04>
Message-ID: <25AE4F55-AFFF-4583-B51C-8546CB9FAE5A@syenar.hu>

Hi David,

I'd rather do something like allowing to attach non-disk files
(= files from memory). Didn't check how would this be possible,
but it seems like a more generic solution to the problem.

Brgds,
Viktor

On 2009 Oct 22, at 13:56, David MS wrote:

> Hi all,
>
> Viktor, one suggestion for hb_sendmail:
> It would be very helpful to pass html  in cbody directly, perhaps by  
> adding a new parameter and keeping both possibilities.
> In dynamic html we'll save two steps, the creation and delete of a  
> temporal file.
>
> PD: I've test your last changes and work fine, Thanks a lot.
>
> Best Regards
> David Monta?o.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From sscc at mweb.co.za  Thu Oct 22 09:45:16 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Oct 22 09:45:31 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <20091021163926.GA2382@linux-8af1.home.aster.pl>
References: <4ADC8E5E.40400@mweb.co.za>	<20091019230008.GA31620@linux-8af1.home.aster.pl>	<4ADD83EA.9050908@mweb.co.za>	<20091020094631.GA15576@linux-8af1.home.aster.pl>	<4ADF09B9.2070806@mweb.co.za>
	<20091021163926.GA2382@linux-8af1.home.aster.pl>
Message-ID: <4AE061EC.1050804@mweb.co.za>

Przemys?aw Czerpak wrote:

> If you use in your code as even handler sth what does not keep reference
> to oMSCal and it will resolve all your problems, i.e:
> 
>    ::oOLE := WIN_AxGetControl( hWnd, ;
>                                { | event, ... | MyEvent( event, ... ) }, cID )
>    [...]

Hmm, the destructor is still not called. It is ok when I explicitly do it.

To investigate further I thought I would take your other advice and recompile 
Harbour with HB_USER_CFLAGS=-DHB_FM_STATISTICS. However, now hbmk2 is GPF'ing 
and hbrun as well (hbrun seems to be used in the install process). I shall 
recompile Harbour without the flag and ... I'm not sure what next.

I don't know, Viktor, if you have tried this option recently. I am using MSVC 2008.

Regards
Alex

From druzus at acn.waw.pl  Thu Oct 22 09:53:28 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Oct 22 09:53:35 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <4AE061EC.1050804@mweb.co.za>
References: <4ADC8E5E.40400@mweb.co.za>
	<20091019230008.GA31620@linux-8af1.home.aster.pl>
	<4ADD83EA.9050908@mweb.co.za>
	<20091020094631.GA15576@linux-8af1.home.aster.pl>
	<4ADF09B9.2070806@mweb.co.za>
	<20091021163926.GA2382@linux-8af1.home.aster.pl>
	<4AE061EC.1050804@mweb.co.za>
Message-ID: <20091022135328.GA28062@linux-8af1.home.aster.pl>

On Thu, 22 Oct 2009, Alex Strickland wrote:
> >If you use in your code as even handler sth what does not keep reference
> >to oMSCal and it will resolve all your problems, i.e:
> >   ::oOLE := WIN_AxGetControl( hWnd, ;
> >                               { | event, ... | MyEvent( event, ... ) }, cID )
> >   [...]
> Hmm, the destructor is still not called. It is ok when I explicitly do it.

For sure it's called. I've checked it with your example.

> To investigate further I thought I would take your other advice and
> recompile Harbour with HB_USER_CFLAGS=-DHB_FM_STATISTICS. However,
> now hbmk2 is GPF'ing and hbrun as well (hbrun seems to be used in
> the install process). I shall recompile Harbour without the flag and
> ... I'm not sure what next.

This look like a problem in core code which should be fixed.
I'll look at it later.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Oct 22 09:54:15 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Oct 22 09:54:25 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <4AE061EC.1050804@mweb.co.za>
References: <4ADC8E5E.40400@mweb.co.za>	<20091019230008.GA31620@linux-8af1.home.aster.pl>	<4ADD83EA.9050908@mweb.co.za>	<20091020094631.GA15576@linux-8af1.home.aster.pl>	<4ADF09B9.2070806@mweb.co.za>
	<20091021163926.GA2382@linux-8af1.home.aster.pl>
	<4AE061EC.1050804@mweb.co.za>
Message-ID: <91A0C861-4C4C-4EBB-9237-AAA8B2D57338@syenar.hu>

>> If you use in your code as even handler sth what does not keep  
>> reference
>> to oMSCal and it will resolve all your problems, i.e:
>>   ::oOLE := WIN_AxGetControl( hWnd, ;
>>                               { | event, ... | MyEvent 
>> ( event, ... ) }, cID )
>>   [...]
>
> Hmm, the destructor is still not called. It is ok when I explicitly  
> do it.
>
> To investigate further I thought I would take your other advice and  
> recompile Harbour with HB_USER_CFLAGS=-DHB_FM_STATISTICS. However,  
> now hbmk2 is GPF'ing and hbrun as well (hbrun seems to be used in  
> the install process). I shall recompile Harbour without the flag  
> and ... I'm not sure what next.
>
> I don't know, Viktor, if you have tried this option recently. I am  
> using MSVC 2008.

I haven't, but if both hbrun and hbmk2 suffers damage because
of this flag, my tip would be there is something wrong inside
the embedded compiler when stats are enabled.

Brgds,
Viktor

From sscc at mweb.co.za  Thu Oct 22 10:27:51 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Oct 22 10:28:02 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <20091022135328.GA28062@linux-8af1.home.aster.pl>
References: <4ADC8E5E.40400@mweb.co.za>	<20091019230008.GA31620@linux-8af1.home.aster.pl>	<4ADD83EA.9050908@mweb.co.za>	<20091020094631.GA15576@linux-8af1.home.aster.pl>	<4ADF09B9.2070806@mweb.co.za>	<20091021163926.GA2382@linux-8af1.home.aster.pl>	<4AE061EC.1050804@mweb.co.za>
	<20091022135328.GA28062@linux-8af1.home.aster.pl>
Message-ID: <4AE06BE7.1010105@mweb.co.za>

Przemys?aw Czerpak wrote:

> For sure it's called. I've checked it with your example.

You are correct, it is called.

In my HWGUI example with similar functionality, the destructor is not called. Is 
this because the code blocks in the menu produce the same problematic references?

function main()
     local oHTTP
     local oMainWindow

     INIT WINDOW oMainWindow MAIN TITLE "Hello ActiveX"  ;
             AT 200, 0 SIZE 420, 300
     MENU OF oMainWindow
         MENU TITLE "&File"
             MENUITEM "HTTP" ACTION { || oHTTP := HActiveX():New( WIN_N2P( 
oMainWindow:handle ), "www.google.com", 0, 0, 300, 300 ) }
             SEPARATOR
             MENUITEM "E&xit" ACTION { || EndWindow() }
         ENDMENU
     ENDMENU
     ACTIVATE WINDOW oMainWindow
return nil

Regards
Alex
From druzus at acn.waw.pl  Thu Oct 22 12:13:20 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Oct 22 12:13:28 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <91A0C861-4C4C-4EBB-9237-AAA8B2D57338@syenar.hu>
References: <4ADC8E5E.40400@mweb.co.za>
	<20091019230008.GA31620@linux-8af1.home.aster.pl>
	<4ADD83EA.9050908@mweb.co.za>
	<20091020094631.GA15576@linux-8af1.home.aster.pl>
	<4ADF09B9.2070806@mweb.co.za>
	<20091021163926.GA2382@linux-8af1.home.aster.pl>
	<4AE061EC.1050804@mweb.co.za>
	<91A0C861-4C4C-4EBB-9237-AAA8B2D57338@syenar.hu>
Message-ID: <20091022161320.GA28336@linux-8af1.home.aster.pl>

On Thu, 22 Oct 2009, Szak?ts Viktor wrote:

Hi,

> I haven't, but if both hbrun and hbmk2 suffers damage because
> of this flag, my tip would be there is something wrong inside
> the embedded compiler when stats are enabled.

The problem is only in Windows builds and it's caused by moving to
UNICODE API - it breaks  dynamic FM stat module initialization.
We added hb_getenv_buffer() to avoid memory allocation and now
it makes memory allocation so FM module GPF at startup.

best regards,
Przemek
From vouchcac at users.sourceforge.net  Thu Oct 22 12:35:02 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Oct 22 12:35:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12742]
	trunk/harbour/contrib/hbqt/qth
Message-ID: <E1N10cw-0008Vm-VG@c3vjzd1.ch3.sourceforge.com>

Revision: 12742
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12742&view=rev
Author:   vouchcac
Date:     2009-10-22 16:35:00 +0000 (Thu, 22 Oct 2009)

Log Message:
-----------
  ! Will update Changelog in one go.

Modified Paths:
--------------
    trunk/harbour/contrib/hbqt/qth/QAbstractItemModel.qth
    trunk/harbour/contrib/hbqt/qth/QAbstractScrollArea.qth
    trunk/harbour/contrib/hbqt/qth/QApplication.qth
    trunk/harbour/contrib/hbqt/qth/QDir.qth
    trunk/harbour/contrib/hbqt/qth/QDirModel.qth
    trunk/harbour/contrib/hbqt/qth/QFileSystemModel.qth
    trunk/harbour/contrib/hbqt/qth/QGradient.qth
    trunk/harbour/contrib/hbqt/qth/QHttp.qth
    trunk/harbour/contrib/hbqt/qth/QObject.qth
    trunk/harbour/contrib/hbqt/qth/QProcess.qth
    trunk/harbour/contrib/hbqt/qth/QStyledItemDelegate.qth
    trunk/harbour/contrib/hbqt/qth/QTableView.qth
    trunk/harbour/contrib/hbqt/qth/QTextBlock.qth
    trunk/harbour/contrib/hbqt/qth/QTextFormat.qth
    trunk/harbour/contrib/hbqt/qth/QTextInlineObject.qth
    trunk/harbour/contrib/hbqt/qth/QWebPage.qth
    trunk/harbour/contrib/hbqt/qth/QWidget.qth

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/qth/QAbstractEventDispatcher.qth
    trunk/harbour/contrib/hbqt/qth/QAbstractItemDelegate.qth
    trunk/harbour/contrib/hbqt/qth/QAbstractProxyModel.qth
    trunk/harbour/contrib/hbqt/qth/QAbstractTextDocumentLayout.qth
    trunk/harbour/contrib/hbqt/qth/QActionGroup.qth
    trunk/harbour/contrib/hbqt/qth/QBitArray.qth
    trunk/harbour/contrib/hbqt/qth/QByteArray.qth
    trunk/harbour/contrib/hbqt/qth/QCompleter.qth
    trunk/harbour/contrib/hbqt/qth/QContextMenuEvent.qth
    trunk/harbour/contrib/hbqt/qth/QDataStream.qth
    trunk/harbour/contrib/hbqt/qth/QDate.qth
    trunk/harbour/contrib/hbqt/qth/QFile.qth
    trunk/harbour/contrib/hbqt/qth/QFileIconProvider.qth
    trunk/harbour/contrib/hbqt/qth/QFileInfo.qth
    trunk/harbour/contrib/hbqt/qth/QHelpEvent.qth
    trunk/harbour/contrib/hbqt/qth/QHttpRequestHeader.qth
    trunk/harbour/contrib/hbqt/qth/QHttpResponseHeader.qth
    trunk/harbour/contrib/hbqt/qth/QInputContext.qth
    trunk/harbour/contrib/hbqt/qth/QInputMethodEvent.qth
    trunk/harbour/contrib/hbqt/qth/QItemSelection.qth
    trunk/harbour/contrib/hbqt/qth/QItemSelectionModel.qth
    trunk/harbour/contrib/hbqt/qth/QLibraryInfo.qth
    trunk/harbour/contrib/hbqt/qth/QLineF.qth
    trunk/harbour/contrib/hbqt/qth/QLocale.qth
    trunk/harbour/contrib/hbqt/qth/QMatrix.qth
    trunk/harbour/contrib/hbqt/qth/QMimeData.qth
    trunk/harbour/contrib/hbqt/qth/QMovie.qth
    trunk/harbour/contrib/hbqt/qth/QNetworkRequest.qth
    trunk/harbour/contrib/hbqt/qth/QPainterPath.qth
    trunk/harbour/contrib/hbqt/qth/QPolygon.qth
    trunk/harbour/contrib/hbqt/qth/QPolygonF.qth
    trunk/harbour/contrib/hbqt/qth/QRegExp.qth
    trunk/harbour/contrib/hbqt/qth/QSessionManager.qth
    trunk/harbour/contrib/hbqt/qth/QSpacerItem.qth
    trunk/harbour/contrib/hbqt/qth/QTableWidgetSelectionRange.qth
    trunk/harbour/contrib/hbqt/qth/QTextListFormat.qth
    trunk/harbour/contrib/hbqt/qth/QTextOption.qth
    trunk/harbour/contrib/hbqt/qth/QTextTableFormat.qth
    trunk/harbour/contrib/hbqt/qth/QThread.qth
    trunk/harbour/contrib/hbqt/qth/QTime.qth
    trunk/harbour/contrib/hbqt/qth/QTransform.qth
    trunk/harbour/contrib/hbqt/qth/QTranslator.qth
    trunk/harbour/contrib/hbqt/qth/QValidator.qth
    trunk/harbour/contrib/hbqt/qth/QWizardPage.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Oct 22 12:35:40 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Oct 22 12:35:50 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <20091022161320.GA28336@linux-8af1.home.aster.pl>
References: <4ADC8E5E.40400@mweb.co.za>
	<20091019230008.GA31620@linux-8af1.home.aster.pl>
	<4ADD83EA.9050908@mweb.co.za>
	<20091020094631.GA15576@linux-8af1.home.aster.pl>
	<4ADF09B9.2070806@mweb.co.za>
	<20091021163926.GA2382@linux-8af1.home.aster.pl>
	<4AE061EC.1050804@mweb.co.za>
	<91A0C861-4C4C-4EBB-9237-AAA8B2D57338@syenar.hu>
	<20091022161320.GA28336@linux-8af1.home.aster.pl>
Message-ID: <937689AF-8500-4A9F-A91A-EA4A4C44EF9B@syenar.hu>

Hi,

>> I haven't, but if both hbrun and hbmk2 suffers damage because
>> of this flag, my tip would be there is something wrong inside
>> the embedded compiler when stats are enabled.
>
> The problem is only in Windows builds and it's caused by moving to
> UNICODE API - it breaks  dynamic FM stat module initialization.
> We added hb_getenv_buffer() to avoid memory allocation and now
> it makes memory allocation so FM module GPF at startup.

Thank you, that explains. Maybe it'd be time to remove this
envvar trick for fm stat logging. At least I don't have any
better idea.

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Thu Oct 22 12:42:01 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Oct 22 12:42:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12743]
	trunk/harbour/contrib/hbqt
Message-ID: <E1N10jh-0000EL-O6@c3vjzd1.ch3.sourceforge.com>

Revision: 12743
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12743&view=rev
Author:   vouchcac
Date:     2009-10-22 16:41:57 +0000 (Thu, 22 Oct 2009)

Log Message:
-----------
  ! Changes will be documented in last Changelog commit.

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/qtcore/
    trunk/harbour/contrib/hbqt/qtcore/Makefile
    trunk/harbour/contrib/hbqt/qtcore/QAbstractItemModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QAbstractListModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QAbstractTableModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QBitArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QByteArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QCoreApplication.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDataStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDate.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDateTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDir.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEvent.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEventLoop.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFile.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFileInfo.cpp
    trunk/harbour/contrib/hbqt/qtcore/QIODevice.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1Char.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1String.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLine.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLineF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLocale.cpp
    trunk/harbour/contrib/hbqt/qtcore/QMimeData.cpp
    trunk/harbour/contrib/hbqt/qtcore/QModelIndex.cpp
    trunk/harbour/contrib/hbqt/qtcore/QObject.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPoint.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPointF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QProcess.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRect.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRectF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRegExp.cpp
    trunk/harbour/contrib/hbqt/qtcore/QResource.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSignalMapper.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSize.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSizeF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QStringList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextBoundaryFinder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextCodec.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextDecoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextEncoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QThread.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTimer.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTranslator.cpp
    trunk/harbour/contrib/hbqt/qtcore/QUrl.cpp
    trunk/harbour/contrib/hbqt/qtcore/QVariant.cpp
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractItemModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractListModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractTableModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQBitArray.prg
    trunk/harbour/contrib/hbqt/qtcore/TQByteArray.prg
    trunk/harbour/contrib/hbqt/qtcore/TQCoreApplication.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDataStream.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDate.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDateTime.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDir.prg
    trunk/harbour/contrib/hbqt/qtcore/TQEvent.prg
    trunk/harbour/contrib/hbqt/qtcore/TQEventLoop.prg
    trunk/harbour/contrib/hbqt/qtcore/TQFile.prg
    trunk/harbour/contrib/hbqt/qtcore/TQFileInfo.prg
    trunk/harbour/contrib/hbqt/qtcore/TQIODevice.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLatin1Char.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLatin1String.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLine.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLineF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQList.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLocale.prg
    trunk/harbour/contrib/hbqt/qtcore/TQMimeData.prg
    trunk/harbour/contrib/hbqt/qtcore/TQModelIndex.prg
    trunk/harbour/contrib/hbqt/qtcore/TQObject.prg
    trunk/harbour/contrib/hbqt/qtcore/TQPoint.prg
    trunk/harbour/contrib/hbqt/qtcore/TQPointF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQProcess.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRect.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRectF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRegExp.prg
    trunk/harbour/contrib/hbqt/qtcore/TQResource.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSignalMapper.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSize.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSizeF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQStringList.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextBoundaryFinder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextCodec.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextDecoder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextEncoder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextStream.prg
    trunk/harbour/contrib/hbqt/qtcore/TQThread.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTime.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTimer.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTranslator.prg
    trunk/harbour/contrib/hbqt/qtcore/TQUrl.prg
    trunk/harbour/contrib/hbqt/qtcore/TQVariant.prg
    trunk/harbour/contrib/hbqt/qtcore/filelist.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Thu Oct 22 12:43:45 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Oct 22 12:43:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12744]
	trunk/harbour/contrib/hbqt
Message-ID: <E1N10lN-0000GS-My@c3vjzd1.ch3.sourceforge.com>

Revision: 12744
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12744&view=rev
Author:   vouchcac
Date:     2009-10-22 16:43:44 +0000 (Thu, 22 Oct 2009)

Log Message:
-----------
  ! Will update Changelog in one go. 

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/qtnetwork/
    trunk/harbour/contrib/hbqt/qtnetwork/Makefile
    trunk/harbour/contrib/hbqt/qtnetwork/QFtp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpRequestHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpResponseHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QNetworkRequest.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/TQFtp.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttp.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpRequestHeader.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpResponseHeader.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQNetworkRequest.prg
    trunk/harbour/contrib/hbqt/qtnetwork/filelist.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Thu Oct 22 12:50:41 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Oct 22 12:50:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12745]
	trunk/harbour/contrib/hbqt
Message-ID: <E1N10s5-0000Q1-Ou@c3vjzd1.ch3.sourceforge.com>

Revision: 12745
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12745&view=rev
Author:   vouchcac
Date:     2009-10-22 16:50:38 +0000 (Thu, 22 Oct 2009)

Log Message:
-----------
! Will update Changelog at the end.

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/qtwebkit/
    trunk/harbour/contrib/hbqt/qtwebkit/Makefile
    trunk/harbour/contrib/hbqt/qtwebkit/QWebFrame.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebHistory.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebHistoryInterface.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebHistoryItem.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebHitTestResult.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebPage.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebPluginFactory.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebSecurityOrigin.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebSettings.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebView.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebFrame.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebHistory.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebHistoryInterface.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebHistoryItem.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebHitTestResult.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebPage.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebPluginFactory.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebSecurityOrigin.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebSettings.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebView.prg
    trunk/harbour/contrib/hbqt/qtwebkit/filelist.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Oct 22 13:11:09 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Oct 22 13:11:16 2009
Subject: [Harbour] HBQT - Commit - Frequent Error
Message-ID: <26013755.post@talk.nabble.com>


Hi All

I am receiving this error in the middle of some commit:

Error: Commit failed (details follow):  
Error: At least one property change failed; repository is unchanged  

Can someone point me out what is wrong with my local repository?

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/HBQT---Commit---Frequent-Error-tp26013755p26013755.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vitormangabeira at gmail.com  Thu Oct 22 13:17:05 2009
From: vitormangabeira at gmail.com (Vitor Mangabeira)
Date: Thu Oct 22 13:17:14 2009
Subject: [Harbour] CT LIB
Message-ID: <b17496760910221017i54ec539aw74f4d1ead0a2a453@mail.gmail.com>

Hi all,

The fileattr function has a different behaviour between HB and CLIPPER when
querying a directory. If directory exist, in CLIPPER the function returns 16
and HB returns 0. When running following prg twice in HB it gives a create
error while in CLIPPER works OK.

FUNCTION Main
LOCAL cDefa := set( _SET_DEFAULT )
IF ChkPastas( cDefa )
   alert( "OK" )
ENDIF
RETURN ( NIL )

STATIC FUNCTION ChkPastas( cDefa )
LOCAL lRetu := .t.
IF fileAttr( cDefa + "OUT" ) != 16  // DIRECTORY !EXIST
   IF dirMake( cDefa + "OUT" ) != 0     // CREATE
      alert( "PROBLEM CREATING " + cDefa + "OUT!" )
      lRetu := .f.
   ENDIF
ENDIF
IF lRetu .AND. fileAttr( cDefa + "IN" ) != 16
   IF dirMake( cDefa + "IN" ) != 0
      alert( "PROBLEM CREATING " + cDefa + "IN!" )
      lRetu := .f.
   ENDIF
ENDIF
RETURN ( lRetu )

Regards,
Vitor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091022/015cf03c/attachment-0001.html
From vouchcac at users.sourceforge.net  Thu Oct 22 13:32:00 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Oct 22 13:32:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12746]
	trunk/harbour/contrib/hbqt
Message-ID: <E1N11W4-0001Ie-3o@c3vjzd1.ch3.sourceforge.com>

Revision: 12746
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12746&view=rev
Author:   vouchcac
Date:     2009-10-22 17:31:51 +0000 (Thu, 22 Oct 2009)

Log Message:
-----------
! Will update Changelog at the end.

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/qtgui/
    trunk/harbour/contrib/hbqt/qtgui/Makefile
    trunk/harbour/contrib/hbqt/qtgui/QAbstractButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractItemDelegate.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractItemView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractPrintDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractProxyModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractScrollArea.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractTextDocumentLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QActionGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QApplication.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBitmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBrush.cpp
    trunk/harbour/contrib/hbqt/qtgui/QButtonGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCalendarWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCheckBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QClipboard.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColorDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommandLinkButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommonStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCompleter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QConicalGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QContextMenuEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDesktopWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDial.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDirModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDoubleSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDragEnterEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDragLeaveEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDragMoveEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDropEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QErrorMessage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileIconProvider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileSystemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFocusEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFocusFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFont.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDatabase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontInfo.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetrics.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetricsF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFormLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGridLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHeaderView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHelpEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageReader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputContext.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputMethodEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelection.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelectionModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QKeyEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QKeySequence.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLCDNumber.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLabel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLayoutItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLineEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLinearGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMainWindow.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMatrix.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenu.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenuBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMessageBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMouseEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMoveEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMovie.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPageSetupDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPaintDevice.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPaintEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainterPath.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPalette.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPicture.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPixmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygonF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintEngine.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintPreviewDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrinter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPushButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadialGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadioButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRegion.cpp
    trunk/harbour/contrib/hbqt/qtgui/QResizeEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollArea.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSessionManager.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizePolicy.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSound.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpacerItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplashScreen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplitter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStatusBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStringListModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleFactory.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturn.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturnMask.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturnVariant.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComplex.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFocusRect.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionHeader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionMenuItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTab.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabBarBase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabWidgetFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTitleBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionViewItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStylePainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyledItemDelegate.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSystemTrayIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetSelectionRange.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlock.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlockFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlockGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBrowser.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCharFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocument.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrameFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextImageFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextInlineObject.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLength.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLine.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextListFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextObject.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextTableFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTransform.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QVBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QValidator.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWheelEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWindowsStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWindowsXPStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizard.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizardPage.cpp
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractItemDelegate.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractItemView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractPrintDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractProxyModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractScrollArea.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractTextDocumentLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAction.prg
    trunk/harbour/contrib/hbqt/qtgui/TQActionGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQApplication.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBitmap.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBrush.prg
    trunk/harbour/contrib/hbqt/qtgui/TQButtonGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCalendarWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCheckBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQClipboard.prg
    trunk/harbour/contrib/hbqt/qtgui/TQColor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQColorDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCommandLinkButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCommonStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCompleter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQConicalGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQContextMenuEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCursor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDateEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDateTimeEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDesktopWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDial.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDirModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDockWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDoubleSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragEnterEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragLeaveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragMoveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDropEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQErrorMessage.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileIconProvider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileSystemModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFocusEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFocusFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFont.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontDatabase.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontInfo.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontMetrics.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontMetricsF.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFormLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGridLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGroupBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHeaderView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHelpEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQIcon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImage.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImageReader.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImageWriter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputContext.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputMethodEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQItemSelection.prg
    trunk/harbour/contrib/hbqt/qtgui/TQItemSelectionModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQKeyEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQKeySequence.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLCDNumber.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLabel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLayoutItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLineEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLinearGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMainWindow.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMatrix.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMenu.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMenuBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMessageBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMouseEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMoveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMovie.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPageSetupDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPaintDevice.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPaintEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPainter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPainterPath.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPalette.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPen.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPicture.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPixmap.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPolygon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPolygonF.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintEngine.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintPreviewDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrinter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQProgressBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQProgressDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPushButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRadialGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRadioButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRegion.prg
    trunk/harbour/contrib/hbqt/qtgui/TQResizeEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQScrollArea.prg
    trunk/harbour/contrib/hbqt/qtgui/TQScrollBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSessionManager.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSizeGrip.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSizePolicy.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSound.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSpacerItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSplashScreen.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSplitter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStandardItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStandardItemModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStatusBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStringListModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleFactory.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturn.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturnMask.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturnVariant.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOption.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionComplex.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionDockWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionFocusRect.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionGroupBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionHeader.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionMenuItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionProgressBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSizeGrip.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTab.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTabBarBase.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTabWidgetFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTitleBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionViewItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStylePainter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyledItemDelegate.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSystemTrayIcon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTabBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTabWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidgetSelectionRange.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlock.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlockFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlockGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBrowser.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextCharFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextCursor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocument.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocumentFragment.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocumentWriter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFragment.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFrameFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextImageFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextInlineObject.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLength.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLine.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextListFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextObject.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextOption.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextTableFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTimeEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTransform.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQVBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQValidator.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWheelEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidgetAction.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWindowsStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWindowsXPStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWizard.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWizardPage.prg
    trunk/harbour/contrib/hbqt/qtgui/filelist.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Thu Oct 22 14:04:11 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Oct 22 14:04:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12747] trunk/harbour
Message-ID: <E1N121D-0001xu-0m@c3vjzd1.ch3.sourceforge.com>

Revision: 12747
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12747&view=rev
Author:   vouchcac
Date:     2009-10-22 18:04:06 +0000 (Thu, 22 Oct 2009)

Log Message:
-----------
2009-10-22 18:43 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/qth/QAbstractItemModel.qth
  * contrib/hbqt/qth/QAbstractScrollArea.qth
  * contrib/hbqt/qth/QApplication.qth
  * contrib/hbqt/qth/QDir.qth
  * contrib/hbqt/qth/QDirModel.qth
  * contrib/hbqt/qth/QFileSystemModel.qth
  * contrib/hbqt/qth/QGradient.qth
  * contrib/hbqt/qth/QHttp.qth
  * contrib/hbqt/qth/QObject.qth
  * contrib/hbqt/qth/QProcess.qth
  * contrib/hbqt/qth/QStyledItemDelegate.qth
  * contrib/hbqt/qth/QTableView.qth
  * contrib/hbqt/qth/QTextBlock.qth
  * contrib/hbqt/qth/QTextFormat.qth
  * contrib/hbqt/qth/QTextInlineObject.qth
  * contrib/hbqt/qth/QWebPage.qth
  * contrib/hbqt/qth/QWidget.qth

  + contrib/hbqt/qth/QAbstractEventDispatcher.qth
  + contrib/hbqt/qth/QAbstractItemDelegate.qth
  + contrib/hbqt/qth/QAbstractProxyModel.qth
  + contrib/hbqt/qth/QAbstractTextDocumentLayout.qth
  + contrib/hbqt/qth/QActionGroup.qth
  + contrib/hbqt/qth/QBitArray.qth
  + contrib/hbqt/qth/QByteArray.qth
  + contrib/hbqt/qth/QCompleter.qth
  + contrib/hbqt/qth/QContextMenuEvent.qth
  + contrib/hbqt/qth/QDataStream.qth
  + contrib/hbqt/qth/QDate.qth
  + contrib/hbqt/qth/QFile.qth
  + contrib/hbqt/qth/QFileIconProvider.qth
  + contrib/hbqt/qth/QFileInfo.qth
  + contrib/hbqt/qth/QHelpEvent.qth
  + contrib/hbqt/qth/QHttpRequestHeader.qth
  + contrib/hbqt/qth/QHttpResponseHeader.qth
  + contrib/hbqt/qth/QInputContext.qth
  + contrib/hbqt/qth/QInputMethodEvent.qth
  + contrib/hbqt/qth/QItemSelection.qth
  + contrib/hbqt/qth/QItemSelectionModel.qth
  + contrib/hbqt/qth/QLibraryInfo.qth
  + contrib/hbqt/qth/QLineF.qth
  + contrib/hbqt/qth/QLocale.qth
  + contrib/hbqt/qth/QMatrix.qth
  + contrib/hbqt/qth/QMimeData.qth
  + contrib/hbqt/qth/QMovie.qth
  + contrib/hbqt/qth/QNetworkRequest.qth
  + contrib/hbqt/qth/QPainterPath.qth
  + contrib/hbqt/qth/QPolygon.qth
  + contrib/hbqt/qth/QPolygonF.qth
  + contrib/hbqt/qth/QRegExp.qth
  + contrib/hbqt/qth/QSessionManager.qth
  + contrib/hbqt/qth/QSpacerItem.qth
  + contrib/hbqt/qth/QTableWidgetSelectionRange.qth
  + contrib/hbqt/qth/QTextListFormat.qth
  + contrib/hbqt/qth/QTextOption.qth
  + contrib/hbqt/qth/QTextTableFormat.qth
  + contrib/hbqt/qth/QThread.qth
  + contrib/hbqt/qth/QTime.qth
  + contrib/hbqt/qth/QTransform.qth
  + contrib/hbqt/qth/QTranslator.qth
  + contrib/hbqt/qth/QValidator.qth
  + contrib/hbqt/qth/QWizardPage.qth

  * contrib/hbqt/generator/hbqtgen.prg
  * contrib/hbqt/generator/qt45.qtp

  * contrib/hbqt/filelist.mk

  * contrib/hbqt/hbqt.h
  * contrib/hbqt/hbqt.hbc
  * contrib/hbqt/hbqt_destruct.cpp
  + contrib/hbqt/hbqt_garbage.h
  * contrib/hbqt/hbqt_slots.cpp

  - contrib/hbqt/QAbstractButton.cpp
  - contrib/hbqt/QAbstractItemModel.cpp
  - contrib/hbqt/QAbstractItemView.cpp
  - contrib/hbqt/QAbstractListModel.cpp
  - contrib/hbqt/QAbstractPrintDialog.cpp
  - contrib/hbqt/QAbstractScrollArea.cpp
  - contrib/hbqt/QAbstractSlider.cpp
  - contrib/hbqt/QAbstractSpinBox.cpp
  - contrib/hbqt/QAbstractTableModel.cpp
  - contrib/hbqt/QAction.cpp
  - contrib/hbqt/QApplication.cpp
  - contrib/hbqt/QBitmap.cpp
  - contrib/hbqt/QBoxLayout.cpp
  - contrib/hbqt/QBrush.cpp
  - contrib/hbqt/QButtonGroup.cpp
  - contrib/hbqt/QCalendarWidget.cpp
  - contrib/hbqt/QCheckBox.cpp
  - contrib/hbqt/QClipboard.cpp
  - contrib/hbqt/QColor.cpp
  - contrib/hbqt/QColorDialog.cpp
  - contrib/hbqt/QComboBox.cpp
  - contrib/hbqt/QCommandLinkButton.cpp
  - contrib/hbqt/QCommonStyle.cpp
  - contrib/hbqt/QConicalGradient.cpp
  - contrib/hbqt/QCoreApplication.cpp
  - contrib/hbqt/QCursor.cpp
  - contrib/hbqt/QDateEdit.cpp
  - contrib/hbqt/QDateTime.cpp
  - contrib/hbqt/QDateTimeEdit.cpp
  - contrib/hbqt/QDesktopWidget.cpp
  - contrib/hbqt/QDial.cpp
  - contrib/hbqt/QDialog.cpp
  - contrib/hbqt/QDir.cpp
  - contrib/hbqt/QDirModel.cpp
  - contrib/hbqt/QDockWidget.cpp
  - contrib/hbqt/QDoubleSpinBox.cpp
  - contrib/hbqt/QDragEnterEvent.cpp
  - contrib/hbqt/QDragLeaveEvent.cpp
  - contrib/hbqt/QDragMoveEvent.cpp
  - contrib/hbqt/QDropEvent.cpp
  - contrib/hbqt/QErrorMessage.cpp
  - contrib/hbqt/QEvent.cpp
  - contrib/hbqt/QEventLoop.cpp
  - contrib/hbqt/QFileDialog.cpp
  - contrib/hbqt/QFileSystemModel.cpp
  - contrib/hbqt/QFocusEvent.cpp
  - contrib/hbqt/QFocusFrame.cpp
  - contrib/hbqt/QFont.cpp
  - contrib/hbqt/QFontComboBox.cpp
  - contrib/hbqt/QFontDatabase.cpp
  - contrib/hbqt/QFontDialog.cpp
  - contrib/hbqt/QFontInfo.cpp
  - contrib/hbqt/QFontMetrics.cpp
  - contrib/hbqt/QFontMetricsF.cpp
  - contrib/hbqt/QFormLayout.cpp
  - contrib/hbqt/QFrame.cpp
  - contrib/hbqt/QFtp.cpp
  - contrib/hbqt/QGradient.cpp
  - contrib/hbqt/QGridLayout.cpp
  - contrib/hbqt/QGroupBox.cpp
  - contrib/hbqt/QHBoxLayout.cpp
  - contrib/hbqt/QHeaderView.cpp
  - contrib/hbqt/QHttp.cpp
  - contrib/hbqt/QIcon.cpp
  - contrib/hbqt/QImage.cpp
  - contrib/hbqt/QImageReader.cpp
  - contrib/hbqt/QImageWriter.cpp
  - contrib/hbqt/QInputDialog.cpp
  - contrib/hbqt/QInputEvent.cpp
  - contrib/hbqt/QIODevice.cpp
  - contrib/hbqt/QKeyEvent.cpp
  - contrib/hbqt/QKeySequence.cpp
  - contrib/hbqt/QLabel.cpp
  - contrib/hbqt/QLatin1Char.cpp
  - contrib/hbqt/QLatin1String.cpp
  - contrib/hbqt/QLayout.cpp
  - contrib/hbqt/QLayoutItem.cpp
  - contrib/hbqt/QLCDNumber.cpp
  - contrib/hbqt/QLine.cpp
  - contrib/hbqt/QLinearGradient.cpp
  - contrib/hbqt/QLineEdit.cpp
  - contrib/hbqt/QList.cpp
  - contrib/hbqt/QListView.cpp
  - contrib/hbqt/QListWidget.cpp
  - contrib/hbqt/QListWidgetItem.cpp
  - contrib/hbqt/QMainWindow.cpp
  - contrib/hbqt/QMenu.cpp
  - contrib/hbqt/QMenuBar.cpp
  - contrib/hbqt/QMessageBox.cpp
  - contrib/hbqt/QModelIndex.cpp
  - contrib/hbqt/QMouseEvent.cpp
  - contrib/hbqt/QMoveEvent.cpp
  - contrib/hbqt/QObject.cpp
  - contrib/hbqt/QPageSetupDialog.cpp
  - contrib/hbqt/QPaintDevice.cpp
  - contrib/hbqt/QPainter.cpp
  - contrib/hbqt/QPaintEvent.cpp
  - contrib/hbqt/QPalette.cpp
  - contrib/hbqt/QPen.cpp
  - contrib/hbqt/QPicture.cpp
  - contrib/hbqt/QPixmap.cpp
  - contrib/hbqt/QPoint.cpp
  - contrib/hbqt/QPointF.cpp
  - contrib/hbqt/QPrintDialog.cpp
  - contrib/hbqt/QPrintEngine.cpp
  - contrib/hbqt/QPrinter.cpp
  - contrib/hbqt/QPrintPreviewDialog.cpp
  - contrib/hbqt/QProcess.cpp
  - contrib/hbqt/QProgressBar.cpp
  - contrib/hbqt/QProgressDialog.cpp
  - contrib/hbqt/QPushButton.cpp
  - contrib/hbqt/QRadialGradient.cpp
  - contrib/hbqt/QRadioButton.cpp
  - contrib/hbqt/QRect.cpp
  - contrib/hbqt/QRectF.cpp
  - contrib/hbqt/QRegion.cpp
  - contrib/hbqt/QResizeEvent.cpp
  - contrib/hbqt/QResource.cpp
  - contrib/hbqt/QScrollArea.cpp
  - contrib/hbqt/QScrollBar.cpp
  - contrib/hbqt/QSignalMapper.cpp
  - contrib/hbqt/QSize.cpp
  - contrib/hbqt/QSizeF.cpp
  - contrib/hbqt/QSizeGrip.cpp
  - contrib/hbqt/QSizePolicy.cpp
  - contrib/hbqt/QSlider.cpp
  - contrib/hbqt/QSound.cpp
  - contrib/hbqt/QSpinBox.cpp
  - contrib/hbqt/QSplashScreen.cpp
  - contrib/hbqt/QSplitter.cpp
  - contrib/hbqt/QStandardItem.cpp
  - contrib/hbqt/QStandardItemModel.cpp
  - contrib/hbqt/QStatusBar.cpp
  - contrib/hbqt/QStringList.cpp
  - contrib/hbqt/QStringListModel.cpp
  - contrib/hbqt/QStyle.cpp
  - contrib/hbqt/QStyledItemDelegate.cpp
  - contrib/hbqt/QStyleFactory.cpp
  - contrib/hbqt/QStyleHintReturn.cpp
  - contrib/hbqt/QStyleHintReturnMask.cpp
  - contrib/hbqt/QStyleHintReturnVariant.cpp
  - contrib/hbqt/QStyleOption.cpp
  - contrib/hbqt/QStyleOptionButton.cpp
  - contrib/hbqt/QStyleOptionComboBox.cpp
  - contrib/hbqt/QStyleOptionComplex.cpp
  - contrib/hbqt/QStyleOptionDockWidget.cpp
  - contrib/hbqt/QStyleOptionFocusRect.cpp
  - contrib/hbqt/QStyleOptionFrame.cpp
  - contrib/hbqt/QStyleOptionGroupBox.cpp
  - contrib/hbqt/QStyleOptionHeader.cpp
  - contrib/hbqt/QStyleOptionMenuItem.cpp
  - contrib/hbqt/QStyleOptionProgressBar.cpp
  - contrib/hbqt/QStyleOptionSizeGrip.cpp
  - contrib/hbqt/QStyleOptionSlider.cpp
  - contrib/hbqt/QStyleOptionSpinBox.cpp
  - contrib/hbqt/QStyleOptionTab.cpp
  - contrib/hbqt/QStyleOptionTabBarBase.cpp
  - contrib/hbqt/QStyleOptionTabWidgetFrame.cpp
  - contrib/hbqt/QStyleOptionTitleBar.cpp
  - contrib/hbqt/QStyleOptionToolBar.cpp
  - contrib/hbqt/QStyleOptionToolBox.cpp
  - contrib/hbqt/QStyleOptionToolButton.cpp
  - contrib/hbqt/QStyleOptionViewItem.cpp
  - contrib/hbqt/QStylePainter.cpp
  - contrib/hbqt/QSystemTrayIcon.cpp
  - contrib/hbqt/QTabBar.cpp
  - contrib/hbqt/QTableView.cpp
  - contrib/hbqt/QTableWidget.cpp
  - contrib/hbqt/QTableWidgetItem.cpp
  - contrib/hbqt/QTabWidget.cpp
  - contrib/hbqt/QTextBlock.cpp
  - contrib/hbqt/QTextBlockFormat.cpp
  - contrib/hbqt/QTextBlockGroup.cpp
  - contrib/hbqt/QTextBoundaryFinder.cpp
  - contrib/hbqt/QTextBrowser.cpp
  - contrib/hbqt/QTextCharFormat.cpp
  - contrib/hbqt/QTextCodec.cpp
  - contrib/hbqt/QTextCursor.cpp
  - contrib/hbqt/QTextDecoder.cpp
  - contrib/hbqt/QTextDocument.cpp
  - contrib/hbqt/QTextDocumentFragment.cpp
  - contrib/hbqt/QTextDocumentWriter.cpp
  - contrib/hbqt/QTextEdit.cpp
  - contrib/hbqt/QTextEncoder.cpp
  - contrib/hbqt/QTextFormat.cpp
  - contrib/hbqt/QTextFragment.cpp
  - contrib/hbqt/QTextFrame.cpp
  - contrib/hbqt/QTextFrameFormat.cpp
  - contrib/hbqt/QTextImageFormat.cpp
  - contrib/hbqt/QTextInlineObject.cpp
  - contrib/hbqt/QTextItem.cpp
  - contrib/hbqt/QTextLayout.cpp
  - contrib/hbqt/QTextLength.cpp
  - contrib/hbqt/QTextLine.cpp
  - contrib/hbqt/QTextObject.cpp
  - contrib/hbqt/QTextStream.cpp
  - contrib/hbqt/QTimeEdit.cpp
  - contrib/hbqt/QTimer.cpp
  - contrib/hbqt/QToolBar.cpp
  - contrib/hbqt/QToolBox.cpp
  - contrib/hbqt/QToolButton.cpp
  - contrib/hbqt/QTreeView.cpp
  - contrib/hbqt/QTreeWidget.cpp
  - contrib/hbqt/QTreeWidgetItem.cpp
  - contrib/hbqt/QUrl.cpp
  - contrib/hbqt/QVariant.cpp
  - contrib/hbqt/QVBoxLayout.cpp
  - contrib/hbqt/QWebFrame.cpp
  - contrib/hbqt/QWebHistory.cpp
  - contrib/hbqt/QWebHistoryInterface.cpp
  - contrib/hbqt/QWebHistoryItem.cpp
  - contrib/hbqt/QWebHitTestResult.cpp
  - contrib/hbqt/QWebPage.cpp
  - contrib/hbqt/QWebPluginFactory.cpp
  - contrib/hbqt/QWebSecurityOrigin.cpp
  - contrib/hbqt/QWebSettings.cpp
  - contrib/hbqt/QWebView.cpp
  - contrib/hbqt/QWheelEvent.cpp
  - contrib/hbqt/QWidget.cpp
  - contrib/hbqt/QWidgetAction.cpp
  - contrib/hbqt/QWidgetItem.cpp
  - contrib/hbqt/QWindowsStyle.cpp
  - contrib/hbqt/QWindowsXPStyle.cpp
  - contrib/hbqt/QWizard.cpp

  - contrib/hbqt/TQAbstractButton.prg
  - contrib/hbqt/TQAbstractItemModel.prg
  - contrib/hbqt/TQAbstractItemView.prg
  - contrib/hbqt/TQAbstractListModel.prg
  - contrib/hbqt/TQAbstractPrintDialog.prg
  - contrib/hbqt/TQAbstractScrollArea.prg
  - contrib/hbqt/TQAbstractSlider.prg
  - contrib/hbqt/TQAbstractSpinBox.prg
  - contrib/hbqt/TQAbstractTableModel.prg
  - contrib/hbqt/TQAction.prg
  - contrib/hbqt/TQApplication.prg
  - contrib/hbqt/TQBitmap.prg
  - contrib/hbqt/TQBoxLayout.prg
  - contrib/hbqt/TQBrush.prg
  - contrib/hbqt/TQButtonGroup.prg
  - contrib/hbqt/TQCalendarWidget.prg
  - contrib/hbqt/TQCheckBox.prg
  - contrib/hbqt/TQClipboard.prg
  - contrib/hbqt/TQColor.prg
  - contrib/hbqt/TQColorDialog.prg
  - contrib/hbqt/TQComboBox.prg
  - contrib/hbqt/TQCommandLinkButton.prg
  - contrib/hbqt/TQCommonStyle.prg
  - contrib/hbqt/TQConicalGradient.prg
  - contrib/hbqt/TQCoreApplication.prg
  - contrib/hbqt/TQCursor.prg
  - contrib/hbqt/TQDateEdit.prg
  - contrib/hbqt/TQDateTime.prg
  - contrib/hbqt/TQDateTimeEdit.prg
  - contrib/hbqt/TQDesktopWidget.prg
  - contrib/hbqt/TQDial.prg
  - contrib/hbqt/TQDialog.prg
  - contrib/hbqt/TQDir.prg
  - contrib/hbqt/TQDirModel.prg
  - contrib/hbqt/TQDockWidget.prg
  - contrib/hbqt/TQDoubleSpinBox.prg
  - contrib/hbqt/TQDragEnterEvent.prg
  - contrib/hbqt/TQDragLeaveEvent.prg
  - contrib/hbqt/TQDragMoveEvent.prg
  - contrib/hbqt/TQDropEvent.prg
  - contrib/hbqt/TQErrorMessage.prg
  - contrib/hbqt/TQEvent.prg
  - contrib/hbqt/TQEventLoop.prg
  - contrib/hbqt/TQFileDialog.prg
  - contrib/hbqt/TQFileSystemModel.prg
  - contrib/hbqt/TQFocusEvent.prg
  - contrib/hbqt/TQFocusFrame.prg
  - contrib/hbqt/TQFont.prg
  - contrib/hbqt/TQFontComboBox.prg
  - contrib/hbqt/TQFontDatabase.prg
  - contrib/hbqt/TQFontDialog.prg
  - contrib/hbqt/TQFontInfo.prg
  - contrib/hbqt/TQFontMetrics.prg
  - contrib/hbqt/TQFontMetricsF.prg
  - contrib/hbqt/TQFormLayout.prg
  - contrib/hbqt/TQFrame.prg
  - contrib/hbqt/TQFtp.prg
  - contrib/hbqt/TQGradient.prg
  - contrib/hbqt/TQGridLayout.prg
  - contrib/hbqt/TQGroupBox.prg
  - contrib/hbqt/TQHBoxLayout.prg
  - contrib/hbqt/TQHeaderView.prg
  - contrib/hbqt/TQHttp.prg
  - contrib/hbqt/TQIcon.prg
  - contrib/hbqt/TQImage.prg
  - contrib/hbqt/TQImageReader.prg
  - contrib/hbqt/TQImageWriter.prg
  - contrib/hbqt/TQInputDialog.prg
  - contrib/hbqt/TQInputEvent.prg
  - contrib/hbqt/TQIODevice.prg
  - contrib/hbqt/TQKeyEvent.prg
  - contrib/hbqt/TQKeySequence.prg
  - contrib/hbqt/TQLabel.prg
  - contrib/hbqt/TQLatin1Char.prg
  - contrib/hbqt/TQLatin1String.prg
  - contrib/hbqt/TQLayout.prg
  - contrib/hbqt/TQLayoutItem.prg
  - contrib/hbqt/TQLCDNumber.prg
  - contrib/hbqt/TQLine.prg
  - contrib/hbqt/TQLinearGradient.prg
  - contrib/hbqt/TQLineEdit.prg
  - contrib/hbqt/TQList.prg
  - contrib/hbqt/TQListView.prg
  - contrib/hbqt/TQListWidget.prg
  - contrib/hbqt/TQListWidgetItem.prg
  - contrib/hbqt/TQMainWindow.prg
  - contrib/hbqt/TQMenu.prg
  - contrib/hbqt/TQMenuBar.prg
  - contrib/hbqt/TQMessageBox.prg
  - contrib/hbqt/TQModelIndex.prg
  - contrib/hbqt/TQMouseEvent.prg
  - contrib/hbqt/TQMoveEvent.prg
  - contrib/hbqt/TQObject.prg
  - contrib/hbqt/TQPageSetupDialog.prg
  - contrib/hbqt/TQPaintDevice.prg
  - contrib/hbqt/TQPainter.prg
  - contrib/hbqt/TQPaintEvent.prg
  - contrib/hbqt/TQPalette.prg
  - contrib/hbqt/TQPen.prg
  - contrib/hbqt/TQPicture.prg
  - contrib/hbqt/TQPixmap.prg
  - contrib/hbqt/TQPoint.prg
  - contrib/hbqt/TQPointF.prg
  - contrib/hbqt/TQPrintDialog.prg
  - contrib/hbqt/TQPrintEngine.prg
  - contrib/hbqt/TQPrinter.prg
  - contrib/hbqt/TQPrintPreviewDialog.prg
  - contrib/hbqt/TQProcess.prg
  - contrib/hbqt/TQProgressBar.prg
  - contrib/hbqt/TQProgressDialog.prg
  - contrib/hbqt/TQPushButton.prg
  - contrib/hbqt/TQRadialGradient.prg
  - contrib/hbqt/TQRadioButton.prg
  - contrib/hbqt/TQRect.prg
  - contrib/hbqt/TQRectF.prg
  - contrib/hbqt/TQRegion.prg
  - contrib/hbqt/TQResizeEvent.prg
  - contrib/hbqt/TQResource.prg
  - contrib/hbqt/TQScrollArea.prg
  - contrib/hbqt/TQScrollBar.prg
  - contrib/hbqt/TQSignalMapper.prg
  - contrib/hbqt/TQSize.prg
  - contrib/hbqt/TQSizeF.prg
  - contrib/hbqt/TQSizeGrip.prg
  - contrib/hbqt/TQSizePolicy.prg
  - contrib/hbqt/TQSlider.prg
  - contrib/hbqt/TQSound.prg
  - contrib/hbqt/TQSpinBox.prg
  - contrib/hbqt/TQSplashScreen.prg
  - contrib/hbqt/TQSplitter.prg
  - contrib/hbqt/TQStandardItem.prg
  - contrib/hbqt/TQStandardItemModel.prg
  - contrib/hbqt/TQStatusBar.prg
  - contrib/hbqt/TQStringList.prg
  - contrib/hbqt/TQStringListModel.prg
  - contrib/hbqt/TQStyle.prg
  - contrib/hbqt/TQStyledItemDelegate.prg
  - contrib/hbqt/TQStyleFactory.prg
  - contrib/hbqt/TQStyleHintReturn.prg
  - contrib/hbqt/TQStyleHintReturnMask.prg
  - contrib/hbqt/TQStyleHintReturnVariant.prg
  - contrib/hbqt/TQStyleOption.prg
  - contrib/hbqt/TQStyleOptionButton.prg
  - contrib/hbqt/TQStyleOptionComboBox.prg
  - contrib/hbqt/TQStyleOptionComplex.prg
  - contrib/hbqt/TQStyleOptionDockWidget.prg
  - contrib/hbqt/TQStyleOptionFocusRect.prg
  - contrib/hbqt/TQStyleOptionFrame.prg
  - contrib/hbqt/TQStyleOptionGroupBox.prg
  - contrib/hbqt/TQStyleOptionHeader.prg
  - contrib/hbqt/TQStyleOptionMenuItem.prg
  - contrib/hbqt/TQStyleOptionProgressBar.prg
  - contrib/hbqt/TQStyleOptionSizeGrip.prg
  - contrib/hbqt/TQStyleOptionSlider.prg
  - contrib/hbqt/TQStyleOptionSpinBox.prg
  - contrib/hbqt/TQStyleOptionTab.prg
  - contrib/hbqt/TQStyleOptionTabBarBase.prg
  - contrib/hbqt/TQStyleOptionTabWidgetFrame.prg
  - contrib/hbqt/TQStyleOptionTitleBar.prg
  - contrib/hbqt/TQStyleOptionToolBar.prg
  - contrib/hbqt/TQStyleOptionToolBox.prg
  - contrib/hbqt/TQStyleOptionToolButton.prg
  - contrib/hbqt/TQStyleOptionViewItem.prg
  - contrib/hbqt/TQStylePainter.prg
  - contrib/hbqt/TQSystemTrayIcon.prg
  - contrib/hbqt/TQTabBar.prg
  - contrib/hbqt/TQTableView.prg
  - contrib/hbqt/TQTableWidget.prg
  - contrib/hbqt/TQTableWidgetItem.prg
  - contrib/hbqt/TQTabWidget.prg
  - contrib/hbqt/TQTextBlock.prg
  - contrib/hbqt/TQTextBlockFormat.prg
  - contrib/hbqt/TQTextBlockGroup.prg
  - contrib/hbqt/TQTextBoundaryFinder.prg
  - contrib/hbqt/TQTextBrowser.prg
  - contrib/hbqt/TQTextCharFormat.prg
  - contrib/hbqt/TQTextCodec.prg
  - contrib/hbqt/TQTextCursor.prg
  - contrib/hbqt/TQTextDecoder.prg
  - contrib/hbqt/TQTextDocument.prg
  - contrib/hbqt/TQTextDocumentFragment.prg
  - contrib/hbqt/TQTextDocumentWriter.prg
  - contrib/hbqt/TQTextEdit.prg
  - contrib/hbqt/TQTextEncoder.prg
  - contrib/hbqt/TQTextFormat.prg
  - contrib/hbqt/TQTextFragment.prg
  - contrib/hbqt/TQTextFrame.prg
  - contrib/hbqt/TQTextFrameFormat.prg
  - contrib/hbqt/TQTextImageFormat.prg
  - contrib/hbqt/TQTextInlineObject.prg
  - contrib/hbqt/TQTextItem.prg
  - contrib/hbqt/TQTextLayout.prg
  - contrib/hbqt/TQTextLength.prg
  - contrib/hbqt/TQTextLine.prg
  - contrib/hbqt/TQTextObject.prg
  - contrib/hbqt/TQTextStream.prg
  - contrib/hbqt/TQTimeEdit.prg
  - contrib/hbqt/TQTimer.prg
  - contrib/hbqt/TQToolBar.prg
  - contrib/hbqt/TQToolBox.prg
  - contrib/hbqt/TQToolButton.prg
  - contrib/hbqt/TQTreeView.prg
  - contrib/hbqt/TQTreeWidget.prg
  - contrib/hbqt/TQTreeWidgetItem.prg
  - contrib/hbqt/TQUrl.prg
  - contrib/hbqt/TQVariant.prg
  - contrib/hbqt/TQVBoxLayout.prg
  - contrib/hbqt/TQWebFrame.prg
  - contrib/hbqt/TQWebHistory.prg
  - contrib/hbqt/TQWebHistoryInterface.prg
  - contrib/hbqt/TQWebHistoryItem.prg
  - contrib/hbqt/TQWebHitTestResult.prg
  - contrib/hbqt/TQWebPage.prg
  - contrib/hbqt/TQWebPluginFactory.prg
  - contrib/hbqt/TQWebSecurityOrigin.prg
  - contrib/hbqt/TQWebSettings.prg
  - contrib/hbqt/TQWebView.prg
  - contrib/hbqt/TQWheelEvent.prg
  - contrib/hbqt/TQWidget.prg
  - contrib/hbqt/TQWidgetAction.prg
  - contrib/hbqt/TQWidgetItem.prg
  - contrib/hbqt/TQWindowsStyle.prg
  - contrib/hbqt/TQWindowsXPStyle.prg
  - contrib/hbqt/TQWizard.prg

  + contrib/hbqt/qtcore
  + contrib/hbqt/qtcore/filelist.mk
  + contrib/hbqt/qtcore/Makefile
  + contrib/hbqt/qtcore/QAbstractItemModel.cpp
  + contrib/hbqt/qtcore/QAbstractListModel.cpp
  + contrib/hbqt/qtcore/QAbstractTableModel.cpp
  + contrib/hbqt/qtcore/QBitArray.cpp
  + contrib/hbqt/qtcore/QByteArray.cpp
  + contrib/hbqt/qtcore/QCoreApplication.cpp
  + contrib/hbqt/qtcore/QDataStream.cpp
  + contrib/hbqt/qtcore/QDate.cpp
  + contrib/hbqt/qtcore/QDateTime.cpp
  + contrib/hbqt/qtcore/QDir.cpp
  + contrib/hbqt/qtcore/QEvent.cpp
  + contrib/hbqt/qtcore/QEventLoop.cpp
  + contrib/hbqt/qtcore/QFile.cpp
  + contrib/hbqt/qtcore/QFileInfo.cpp
  + contrib/hbqt/qtcore/QIODevice.cpp
  + contrib/hbqt/qtcore/QLatin1Char.cpp
  + contrib/hbqt/qtcore/QLatin1String.cpp
  + contrib/hbqt/qtcore/QLine.cpp
  + contrib/hbqt/qtcore/QLineF.cpp
  + contrib/hbqt/qtcore/QList.cpp
  + contrib/hbqt/qtcore/QLocale.cpp
  + contrib/hbqt/qtcore/QMimeData.cpp
  + contrib/hbqt/qtcore/QModelIndex.cpp
  + contrib/hbqt/qtcore/QObject.cpp
  + contrib/hbqt/qtcore/QPoint.cpp
  + contrib/hbqt/qtcore/QPointF.cpp
  + contrib/hbqt/qtcore/QProcess.cpp
  + contrib/hbqt/qtcore/QRect.cpp
  + contrib/hbqt/qtcore/QRectF.cpp
  + contrib/hbqt/qtcore/QRegExp.cpp
  + contrib/hbqt/qtcore/QResource.cpp
  + contrib/hbqt/qtcore/QSignalMapper.cpp
  + contrib/hbqt/qtcore/QSize.cpp
  + contrib/hbqt/qtcore/QSizeF.cpp
  + contrib/hbqt/qtcore/QStringList.cpp
  + contrib/hbqt/qtcore/QTextBoundaryFinder.cpp
  + contrib/hbqt/qtcore/QTextCodec.cpp
  + contrib/hbqt/qtcore/QTextDecoder.cpp
  + contrib/hbqt/qtcore/QTextEncoder.cpp
  + contrib/hbqt/qtcore/QTextStream.cpp
  + contrib/hbqt/qtcore/QThread.cpp
  + contrib/hbqt/qtcore/QTime.cpp
  + contrib/hbqt/qtcore/QTimer.cpp
  + contrib/hbqt/qtcore/QTranslator.cpp
  + contrib/hbqt/qtcore/QUrl.cpp
  + contrib/hbqt/qtcore/QVariant.cpp
  + contrib/hbqt/qtcore/TQAbstractItemModel.prg
  + contrib/hbqt/qtcore/TQAbstractListModel.prg
  + contrib/hbqt/qtcore/TQAbstractTableModel.prg
  + contrib/hbqt/qtcore/TQBitArray.prg
  + contrib/hbqt/qtcore/TQByteArray.prg
  + contrib/hbqt/qtcore/TQCoreApplication.prg
  + contrib/hbqt/qtcore/TQDataStream.prg
  + contrib/hbqt/qtcore/TQDate.prg
  + contrib/hbqt/qtcore/TQDateTime.prg
  + contrib/hbqt/qtcore/TQDir.prg
  + contrib/hbqt/qtcore/TQEvent.prg
  + contrib/hbqt/qtcore/TQEventLoop.prg
  + contrib/hbqt/qtcore/TQFile.prg
  + contrib/hbqt/qtcore/TQFileInfo.prg
  + contrib/hbqt/qtcore/TQIODevice.prg
  + contrib/hbqt/qtcore/TQLatin1Char.prg
  + contrib/hbqt/qtcore/TQLatin1String.prg
  + contrib/hbqt/qtcore/TQLine.prg
  + contrib/hbqt/qtcore/TQLineF.prg
  + contrib/hbqt/qtcore/TQList.prg
  + contrib/hbqt/qtcore/TQLocale.prg
  + contrib/hbqt/qtcore/TQMimeData.prg
  + contrib/hbqt/qtcore/TQModelIndex.prg
  + contrib/hbqt/qtcore/TQObject.prg
  + contrib/hbqt/qtcore/TQPoint.prg
  + contrib/hbqt/qtcore/TQPointF.prg
  + contrib/hbqt/qtcore/TQProcess.prg
  + contrib/hbqt/qtcore/TQRect.prg
  + contrib/hbqt/qtcore/TQRectF.prg
  + contrib/hbqt/qtcore/TQRegExp.prg
  + contrib/hbqt/qtcore/TQResource.prg
  + contrib/hbqt/qtcore/TQSignalMapper.prg
  + contrib/hbqt/qtcore/TQSize.prg
  + contrib/hbqt/qtcore/TQSizeF.prg
  + contrib/hbqt/qtcore/TQStringList.prg
  + contrib/hbqt/qtcore/TQTextBoundaryFinder.prg
  + contrib/hbqt/qtcore/TQTextCodec.prg
  + contrib/hbqt/qtcore/TQTextDecoder.prg
  + contrib/hbqt/qtcore/TQTextEncoder.prg
  + contrib/hbqt/qtcore/TQTextStream.prg
  + contrib/hbqt/qtcore/TQThread.prg
  + contrib/hbqt/qtcore/TQTime.prg
  + contrib/hbqt/qtcore/TQTimer.prg
  + contrib/hbqt/qtcore/TQTranslator.prg
  + contrib/hbqt/qtcore/TQUrl.prg
  + contrib/hbqt/qtcore/TQVariant.prg

  + contrib/hbqt/qtgui
  + contrib/hbqt/qtgui/filelist.mk
  + contrib/hbqt/qtgui/Makefile
  + contrib/hbqt/qtgui/QAbstractButton.cpp
  + contrib/hbqt/qtgui/QAbstractItemDelegate.cpp
  + contrib/hbqt/qtgui/QAbstractItemView.cpp
  + contrib/hbqt/qtgui/QAbstractPrintDialog.cpp
  + contrib/hbqt/qtgui/QAbstractProxyModel.cpp
  + contrib/hbqt/qtgui/QAbstractScrollArea.cpp
  + contrib/hbqt/qtgui/QAbstractSlider.cpp
  + contrib/hbqt/qtgui/QAbstractSpinBox.cpp
  + contrib/hbqt/qtgui/QAbstractTextDocumentLayout.cpp
  + contrib/hbqt/qtgui/QAction.cpp
  + contrib/hbqt/qtgui/QActionGroup.cpp
  + contrib/hbqt/qtgui/QApplication.cpp
  + contrib/hbqt/qtgui/QBitmap.cpp
  + contrib/hbqt/qtgui/QBoxLayout.cpp
  + contrib/hbqt/qtgui/QBrush.cpp
  + contrib/hbqt/qtgui/QButtonGroup.cpp
  + contrib/hbqt/qtgui/QCalendarWidget.cpp
  + contrib/hbqt/qtgui/QCheckBox.cpp
  + contrib/hbqt/qtgui/QClipboard.cpp
  + contrib/hbqt/qtgui/QColor.cpp
  + contrib/hbqt/qtgui/QColorDialog.cpp
  + contrib/hbqt/qtgui/QComboBox.cpp
  + contrib/hbqt/qtgui/QCommandLinkButton.cpp
  + contrib/hbqt/qtgui/QCommonStyle.cpp
  + contrib/hbqt/qtgui/QCompleter.cpp
  + contrib/hbqt/qtgui/QConicalGradient.cpp
  + contrib/hbqt/qtgui/QContextMenuEvent.cpp
  + contrib/hbqt/qtgui/QCursor.cpp
  + contrib/hbqt/qtgui/QDateEdit.cpp
  + contrib/hbqt/qtgui/QDateTimeEdit.cpp
  + contrib/hbqt/qtgui/QDesktopWidget.cpp
  + contrib/hbqt/qtgui/QDial.cpp
  + contrib/hbqt/qtgui/QDialog.cpp
  + contrib/hbqt/qtgui/QDirModel.cpp
  + contrib/hbqt/qtgui/QDockWidget.cpp
  + contrib/hbqt/qtgui/QDoubleSpinBox.cpp
  + contrib/hbqt/qtgui/QDragEnterEvent.cpp
  + contrib/hbqt/qtgui/QDragLeaveEvent.cpp
  + contrib/hbqt/qtgui/QDragMoveEvent.cpp
  + contrib/hbqt/qtgui/QDropEvent.cpp
  + contrib/hbqt/qtgui/QErrorMessage.cpp
  + contrib/hbqt/qtgui/QFileDialog.cpp
  + contrib/hbqt/qtgui/QFileIconProvider.cpp
  + contrib/hbqt/qtgui/QFileSystemModel.cpp
  + contrib/hbqt/qtgui/QFocusEvent.cpp
  + contrib/hbqt/qtgui/QFocusFrame.cpp
  + contrib/hbqt/qtgui/QFont.cpp
  + contrib/hbqt/qtgui/QFontComboBox.cpp
  + contrib/hbqt/qtgui/QFontDatabase.cpp
  + contrib/hbqt/qtgui/QFontDialog.cpp
  + contrib/hbqt/qtgui/QFontInfo.cpp
  + contrib/hbqt/qtgui/QFontMetrics.cpp
  + contrib/hbqt/qtgui/QFontMetricsF.cpp
  + contrib/hbqt/qtgui/QFormLayout.cpp
  + contrib/hbqt/qtgui/QFrame.cpp
  + contrib/hbqt/qtgui/QGradient.cpp
  + contrib/hbqt/qtgui/QGridLayout.cpp
  + contrib/hbqt/qtgui/QGroupBox.cpp
  + contrib/hbqt/qtgui/QHBoxLayout.cpp
  + contrib/hbqt/qtgui/QHeaderView.cpp
  + contrib/hbqt/qtgui/QHelpEvent.cpp
  + contrib/hbqt/qtgui/QIcon.cpp
  + contrib/hbqt/qtgui/QImage.cpp
  + contrib/hbqt/qtgui/QImageReader.cpp
  + contrib/hbqt/qtgui/QImageWriter.cpp
  + contrib/hbqt/qtgui/QInputContext.cpp
  + contrib/hbqt/qtgui/QInputDialog.cpp
  + contrib/hbqt/qtgui/QInputEvent.cpp
  + contrib/hbqt/qtgui/QInputMethodEvent.cpp
  + contrib/hbqt/qtgui/QItemSelection.cpp
  + contrib/hbqt/qtgui/QItemSelectionModel.cpp
  + contrib/hbqt/qtgui/QKeyEvent.cpp
  + contrib/hbqt/qtgui/QKeySequence.cpp
  + contrib/hbqt/qtgui/QLabel.cpp
  + contrib/hbqt/qtgui/QLayout.cpp
  + contrib/hbqt/qtgui/QLayoutItem.cpp
  + contrib/hbqt/qtgui/QLCDNumber.cpp
  + contrib/hbqt/qtgui/QLinearGradient.cpp
  + contrib/hbqt/qtgui/QLineEdit.cpp
  + contrib/hbqt/qtgui/QListView.cpp
  + contrib/hbqt/qtgui/QListWidget.cpp
  + contrib/hbqt/qtgui/QListWidgetItem.cpp
  + contrib/hbqt/qtgui/QMainWindow.cpp
  + contrib/hbqt/qtgui/QMatrix.cpp
  + contrib/hbqt/qtgui/QMenu.cpp
  + contrib/hbqt/qtgui/QMenuBar.cpp
  + contrib/hbqt/qtgui/QMessageBox.cpp
  + contrib/hbqt/qtgui/QMouseEvent.cpp
  + contrib/hbqt/qtgui/QMoveEvent.cpp
  + contrib/hbqt/qtgui/QMovie.cpp
  + contrib/hbqt/qtgui/QPageSetupDialog.cpp
  + contrib/hbqt/qtgui/QPaintDevice.cpp
  + contrib/hbqt/qtgui/QPainter.cpp
  + contrib/hbqt/qtgui/QPainterPath.cpp
  + contrib/hbqt/qtgui/QPaintEvent.cpp
  + contrib/hbqt/qtgui/QPalette.cpp
  + contrib/hbqt/qtgui/QPen.cpp
  + contrib/hbqt/qtgui/QPicture.cpp
  + contrib/hbqt/qtgui/QPixmap.cpp
  + contrib/hbqt/qtgui/QPolygon.cpp
  + contrib/hbqt/qtgui/QPolygonF.cpp
  + contrib/hbqt/qtgui/QPrintDialog.cpp
  + contrib/hbqt/qtgui/QPrintEngine.cpp
  + contrib/hbqt/qtgui/QPrinter.cpp
  + contrib/hbqt/qtgui/QPrintPreviewDialog.cpp
  + contrib/hbqt/qtgui/QProgressBar.cpp
  + contrib/hbqt/qtgui/QProgressDialog.cpp
  + contrib/hbqt/qtgui/QPushButton.cpp
  + contrib/hbqt/qtgui/QRadialGradient.cpp
  + contrib/hbqt/qtgui/QRadioButton.cpp
  + contrib/hbqt/qtgui/QRegion.cpp
  + contrib/hbqt/qtgui/QResizeEvent.cpp
  + contrib/hbqt/qtgui/QScrollArea.cpp
  + contrib/hbqt/qtgui/QScrollBar.cpp
  + contrib/hbqt/qtgui/QSessionManager.cpp
  + contrib/hbqt/qtgui/QSizeGrip.cpp
  + contrib/hbqt/qtgui/QSizePolicy.cpp
  + contrib/hbqt/qtgui/QSlider.cpp
  + contrib/hbqt/qtgui/QSound.cpp
  + contrib/hbqt/qtgui/QSpacerItem.cpp
  + contrib/hbqt/qtgui/QSpinBox.cpp
  + contrib/hbqt/qtgui/QSplashScreen.cpp
  + contrib/hbqt/qtgui/QSplitter.cpp
  + contrib/hbqt/qtgui/QStandardItem.cpp
  + contrib/hbqt/qtgui/QStandardItemModel.cpp
  + contrib/hbqt/qtgui/QStatusBar.cpp
  + contrib/hbqt/qtgui/QStringListModel.cpp
  + contrib/hbqt/qtgui/QStyle.cpp
  + contrib/hbqt/qtgui/QStyledItemDelegate.cpp
  + contrib/hbqt/qtgui/QStyleFactory.cpp
  + contrib/hbqt/qtgui/QStyleHintReturn.cpp
  + contrib/hbqt/qtgui/QStyleHintReturnMask.cpp
  + contrib/hbqt/qtgui/QStyleHintReturnVariant.cpp
  + contrib/hbqt/qtgui/QStyleOption.cpp
  + contrib/hbqt/qtgui/QStyleOptionButton.cpp
  + contrib/hbqt/qtgui/QStyleOptionComboBox.cpp
  + contrib/hbqt/qtgui/QStyleOptionComplex.cpp
  + contrib/hbqt/qtgui/QStyleOptionDockWidget.cpp
  + contrib/hbqt/qtgui/QStyleOptionFocusRect.cpp
  + contrib/hbqt/qtgui/QStyleOptionFrame.cpp
  + contrib/hbqt/qtgui/QStyleOptionGroupBox.cpp
  + contrib/hbqt/qtgui/QStyleOptionHeader.cpp
  + contrib/hbqt/qtgui/QStyleOptionMenuItem.cpp
  + contrib/hbqt/qtgui/QStyleOptionProgressBar.cpp
  + contrib/hbqt/qtgui/QStyleOptionSizeGrip.cpp
  + contrib/hbqt/qtgui/QStyleOptionSlider.cpp
  + contrib/hbqt/qtgui/QStyleOptionSpinBox.cpp
  + contrib/hbqt/qtgui/QStyleOptionTab.cpp
  + contrib/hbqt/qtgui/QStyleOptionTabBarBase.cpp
  + contrib/hbqt/qtgui/QStyleOptionTabWidgetFrame.cpp
  + contrib/hbqt/qtgui/QStyleOptionTitleBar.cpp
  + contrib/hbqt/qtgui/QStyleOptionToolBar.cpp
  + contrib/hbqt/qtgui/QStyleOptionToolBox.cpp
  + contrib/hbqt/qtgui/QStyleOptionToolButton.cpp
  + contrib/hbqt/qtgui/QStyleOptionViewItem.cpp
  + contrib/hbqt/qtgui/QStylePainter.cpp
  + contrib/hbqt/qtgui/QSystemTrayIcon.cpp
  + contrib/hbqt/qtgui/QTabBar.cpp
  + contrib/hbqt/qtgui/QTableView.cpp
  + contrib/hbqt/qtgui/QTableWidget.cpp
  + contrib/hbqt/qtgui/QTableWidgetItem.cpp
  + contrib/hbqt/qtgui/QTableWidgetSelectionRange.cpp
  + contrib/hbqt/qtgui/QTabWidget.cpp
  + contrib/hbqt/qtgui/QTextBlock.cpp
  + contrib/hbqt/qtgui/QTextBlockFormat.cpp
  + contrib/hbqt/qtgui/QTextBlockGroup.cpp
  + contrib/hbqt/qtgui/QTextBrowser.cpp
  + contrib/hbqt/qtgui/QTextCharFormat.cpp
  + contrib/hbqt/qtgui/QTextCursor.cpp
  + contrib/hbqt/qtgui/QTextDocument.cpp
  + contrib/hbqt/qtgui/QTextDocumentFragment.cpp
  + contrib/hbqt/qtgui/QTextDocumentWriter.cpp
  + contrib/hbqt/qtgui/QTextEdit.cpp
  + contrib/hbqt/qtgui/QTextFormat.cpp
  + contrib/hbqt/qtgui/QTextFragment.cpp
  + contrib/hbqt/qtgui/QTextFrame.cpp
  + contrib/hbqt/qtgui/QTextFrameFormat.cpp
  + contrib/hbqt/qtgui/QTextImageFormat.cpp
  + contrib/hbqt/qtgui/QTextInlineObject.cpp
  + contrib/hbqt/qtgui/QTextItem.cpp
  + contrib/hbqt/qtgui/QTextLayout.cpp
  + contrib/hbqt/qtgui/QTextLength.cpp
  + contrib/hbqt/qtgui/QTextLine.cpp
  + contrib/hbqt/qtgui/QTextListFormat.cpp
  + contrib/hbqt/qtgui/QTextObject.cpp
  + contrib/hbqt/qtgui/QTextOption.cpp
  + contrib/hbqt/qtgui/QTextTableFormat.cpp
  + contrib/hbqt/qtgui/QTimeEdit.cpp
  + contrib/hbqt/qtgui/QToolBar.cpp
  + contrib/hbqt/qtgui/QToolBox.cpp
  + contrib/hbqt/qtgui/QToolButton.cpp
  + contrib/hbqt/qtgui/QTransform.cpp
  + contrib/hbqt/qtgui/QTreeView.cpp
  + contrib/hbqt/qtgui/QTreeWidget.cpp
  + contrib/hbqt/qtgui/QTreeWidgetItem.cpp
  + contrib/hbqt/qtgui/QValidator.cpp
  + contrib/hbqt/qtgui/QVBoxLayout.cpp
  + contrib/hbqt/qtgui/QWheelEvent.cpp
  + contrib/hbqt/qtgui/QWidget.cpp
  + contrib/hbqt/qtgui/QWidgetAction.cpp
  + contrib/hbqt/qtgui/QWidgetItem.cpp
  + contrib/hbqt/qtgui/QWindowsStyle.cpp
  + contrib/hbqt/qtgui/QWindowsXPStyle.cpp
  + contrib/hbqt/qtgui/QWizard.cpp
  + contrib/hbqt/qtgui/QWizardPage.cpp
  + contrib/hbqt/qtgui/TQAbstractButton.prg
  + contrib/hbqt/qtgui/TQAbstractItemDelegate.prg
  + contrib/hbqt/qtgui/TQAbstractItemView.prg
  + contrib/hbqt/qtgui/TQAbstractPrintDialog.prg
  + contrib/hbqt/qtgui/TQAbstractProxyModel.prg
  + contrib/hbqt/qtgui/TQAbstractScrollArea.prg
  + contrib/hbqt/qtgui/TQAbstractSlider.prg
  + contrib/hbqt/qtgui/TQAbstractSpinBox.prg
  + contrib/hbqt/qtgui/TQAbstractTextDocumentLayout.prg
  + contrib/hbqt/qtgui/TQAction.prg
  + contrib/hbqt/qtgui/TQActionGroup.prg
  + contrib/hbqt/qtgui/TQApplication.prg
  + contrib/hbqt/qtgui/TQBitmap.prg
  + contrib/hbqt/qtgui/TQBoxLayout.prg
  + contrib/hbqt/qtgui/TQBrush.prg
  + contrib/hbqt/qtgui/TQButtonGroup.prg
  + contrib/hbqt/qtgui/TQCalendarWidget.prg
  + contrib/hbqt/qtgui/TQCheckBox.prg
  + contrib/hbqt/qtgui/TQClipboard.prg
  + contrib/hbqt/qtgui/TQColor.prg
  + contrib/hbqt/qtgui/TQColorDialog.prg
  + contrib/hbqt/qtgui/TQComboBox.prg
  + contrib/hbqt/qtgui/TQCommandLinkButton.prg
  + contrib/hbqt/qtgui/TQCommonStyle.prg
  + contrib/hbqt/qtgui/TQCompleter.prg
  + contrib/hbqt/qtgui/TQConicalGradient.prg
  + contrib/hbqt/qtgui/TQContextMenuEvent.prg
  + contrib/hbqt/qtgui/TQCursor.prg
  + contrib/hbqt/qtgui/TQDateEdit.prg
  + contrib/hbqt/qtgui/TQDateTimeEdit.prg
  + contrib/hbqt/qtgui/TQDesktopWidget.prg
  + contrib/hbqt/qtgui/TQDial.prg
  + contrib/hbqt/qtgui/TQDialog.prg
  + contrib/hbqt/qtgui/TQDirModel.prg
  + contrib/hbqt/qtgui/TQDockWidget.prg
  + contrib/hbqt/qtgui/TQDoubleSpinBox.prg
  + contrib/hbqt/qtgui/TQDragEnterEvent.prg
  + contrib/hbqt/qtgui/TQDragLeaveEvent.prg
  + contrib/hbqt/qtgui/TQDragMoveEvent.prg
  + contrib/hbqt/qtgui/TQDropEvent.prg
  + contrib/hbqt/qtgui/TQErrorMessage.prg
  + contrib/hbqt/qtgui/TQFileDialog.prg
  + contrib/hbqt/qtgui/TQFileIconProvider.prg
  + contrib/hbqt/qtgui/TQFileSystemModel.prg
  + contrib/hbqt/qtgui/TQFocusEvent.prg
  + contrib/hbqt/qtgui/TQFocusFrame.prg
  + contrib/hbqt/qtgui/TQFont.prg
  + contrib/hbqt/qtgui/TQFontComboBox.prg
  + contrib/hbqt/qtgui/TQFontDatabase.prg
  + contrib/hbqt/qtgui/TQFontDialog.prg
  + contrib/hbqt/qtgui/TQFontInfo.prg
  + contrib/hbqt/qtgui/TQFontMetrics.prg
  + contrib/hbqt/qtgui/TQFontMetricsF.prg
  + contrib/hbqt/qtgui/TQFormLayout.prg
  + contrib/hbqt/qtgui/TQFrame.prg
  + contrib/hbqt/qtgui/TQGradient.prg
  + contrib/hbqt/qtgui/TQGridLayout.prg
  + contrib/hbqt/qtgui/TQGroupBox.prg
  + contrib/hbqt/qtgui/TQHBoxLayout.prg
  + contrib/hbqt/qtgui/TQHeaderView.prg
  + contrib/hbqt/qtgui/TQHelpEvent.prg
  + contrib/hbqt/qtgui/TQIcon.prg
  + contrib/hbqt/qtgui/TQImage.prg
  + contrib/hbqt/qtgui/TQImageReader.prg
  + contrib/hbqt/qtgui/TQImageWriter.prg
  + contrib/hbqt/qtgui/TQInputContext.prg
  + contrib/hbqt/qtgui/TQInputDialog.prg
  + contrib/hbqt/qtgui/TQInputEvent.prg
  + contrib/hbqt/qtgui/TQInputMethodEvent.prg
  + contrib/hbqt/qtgui/TQItemSelection.prg
  + contrib/hbqt/qtgui/TQItemSelectionModel.prg
  + contrib/hbqt/qtgui/TQKeyEvent.prg
  + contrib/hbqt/qtgui/TQKeySequence.prg
  + contrib/hbqt/qtgui/TQLabel.prg
  + contrib/hbqt/qtgui/TQLayout.prg
  + contrib/hbqt/qtgui/TQLayoutItem.prg
  + contrib/hbqt/qtgui/TQLCDNumber.prg
  + contrib/hbqt/qtgui/TQLinearGradient.prg
  + contrib/hbqt/qtgui/TQLineEdit.prg
  + contrib/hbqt/qtgui/TQListView.prg
  + contrib/hbqt/qtgui/TQListWidget.prg
  + contrib/hbqt/qtgui/TQListWidgetItem.prg
  + contrib/hbqt/qtgui/TQMainWindow.prg
  + contrib/hbqt/qtgui/TQMatrix.prg
  + contrib/hbqt/qtgui/TQMenu.prg
  + contrib/hbqt/qtgui/TQMenuBar.prg
  + contrib/hbqt/qtgui/TQMessageBox.prg
  + contrib/hbqt/qtgui/TQMouseEvent.prg
  + contrib/hbqt/qtgui/TQMoveEvent.prg
  + contrib/hbqt/qtgui/TQMovie.prg
  + contrib/hbqt/qtgui/TQPageSetupDialog.prg
  + contrib/hbqt/qtgui/TQPaintDevice.prg
  + contrib/hbqt/qtgui/TQPainter.prg
  + contrib/hbqt/qtgui/TQPainterPath.prg
  + contrib/hbqt/qtgui/TQPaintEvent.prg
  + contrib/hbqt/qtgui/TQPalette.prg
  + contrib/hbqt/qtgui/TQPen.prg
  + contrib/hbqt/qtgui/TQPicture.prg
  + contrib/hbqt/qtgui/TQPixmap.prg
  + contrib/hbqt/qtgui/TQPolygon.prg
  + contrib/hbqt/qtgui/TQPolygonF.prg
  + contrib/hbqt/qtgui/TQPrintDialog.prg
  + contrib/hbqt/qtgui/TQPrintEngine.prg
  + contrib/hbqt/qtgui/TQPrinter.prg
  + contrib/hbqt/qtgui/TQPrintPreviewDialog.prg
  + contrib/hbqt/qtgui/TQProgressBar.prg
  + contrib/hbqt/qtgui/TQProgressDialog.prg
  + contrib/hbqt/qtgui/TQPushButton.prg
  + contrib/hbqt/qtgui/TQRadialGradient.prg
  + contrib/hbqt/qtgui/TQRadioButton.prg
  + contrib/hbqt/qtgui/TQRegion.prg
  + contrib/hbqt/qtgui/TQResizeEvent.prg
  + contrib/hbqt/qtgui/TQScrollArea.prg
  + contrib/hbqt/qtgui/TQScrollBar.prg
  + contrib/hbqt/qtgui/TQSessionManager.prg
  + contrib/hbqt/qtgui/TQSizeGrip.prg
  + contrib/hbqt/qtgui/TQSizePolicy.prg
  + contrib/hbqt/qtgui/TQSlider.prg
  + contrib/hbqt/qtgui/TQSound.prg
  + contrib/hbqt/qtgui/TQSpacerItem.prg
  + contrib/hbqt/qtgui/TQSpinBox.prg
  + contrib/hbqt/qtgui/TQSplashScreen.prg
  + contrib/hbqt/qtgui/TQSplitter.prg
  + contrib/hbqt/qtgui/TQStandardItem.prg
  + contrib/hbqt/qtgui/TQStandardItemModel.prg
  + contrib/hbqt/qtgui/TQStatusBar.prg
  + contrib/hbqt/qtgui/TQStringListModel.prg
  + contrib/hbqt/qtgui/TQStyle.prg
  + contrib/hbqt/qtgui/TQStyledItemDelegate.prg
  + contrib/hbqt/qtgui/TQStyleFactory.prg
  + contrib/hbqt/qtgui/TQStyleHintReturn.prg
  + contrib/hbqt/qtgui/TQStyleHintReturnMask.prg
  + contrib/hbqt/qtgui/TQStyleHintReturnVariant.prg
  + contrib/hbqt/qtgui/TQStyleOption.prg
  + contrib/hbqt/qtgui/TQStyleOptionButton.prg
  + contrib/hbqt/qtgui/TQStyleOptionComboBox.prg
  + contrib/hbqt/qtgui/TQStyleOptionComplex.prg
  + contrib/hbqt/qtgui/TQStyleOptionDockWidget.prg
  + contrib/hbqt/qtgui/TQStyleOptionFocusRect.prg
  + contrib/hbqt/qtgui/TQStyleOptionFrame.prg
  + contrib/hbqt/qtgui/TQStyleOptionGroupBox.prg
  + contrib/hbqt/qtgui/TQStyleOptionHeader.prg
  + contrib/hbqt/qtgui/TQStyleOptionMenuItem.prg
  + contrib/hbqt/qtgui/TQStyleOptionProgressBar.prg
  + contrib/hbqt/qtgui/TQStyleOptionSizeGrip.prg
  + contrib/hbqt/qtgui/TQStyleOptionSlider.prg
  + contrib/hbqt/qtgui/TQStyleOptionSpinBox.prg
  + contrib/hbqt/qtgui/TQStyleOptionTab.prg
  + contrib/hbqt/qtgui/TQStyleOptionTabBarBase.prg
  + contrib/hbqt/qtgui/TQStyleOptionTabWidgetFrame.prg
  + contrib/hbqt/qtgui/TQStyleOptionTitleBar.prg
  + contrib/hbqt/qtgui/TQStyleOptionToolBar.prg
  + contrib/hbqt/qtgui/TQStyleOptionToolBox.prg
  + contrib/hbqt/qtgui/TQStyleOptionToolButton.prg
  + contrib/hbqt/qtgui/TQStyleOptionViewItem.prg
  + contrib/hbqt/qtgui/TQStylePainter.prg
  + contrib/hbqt/qtgui/TQSystemTrayIcon.prg
  + contrib/hbqt/qtgui/TQTabBar.prg
  + contrib/hbqt/qtgui/TQTableView.prg
  + contrib/hbqt/qtgui/TQTableWidget.prg
  + contrib/hbqt/qtgui/TQTableWidgetItem.prg
  + contrib/hbqt/qtgui/TQTableWidgetSelectionRange.prg
  + contrib/hbqt/qtgui/TQTabWidget.prg
  + contrib/hbqt/qtgui/TQTextBlock.prg
  + contrib/hbqt/qtgui/TQTextBlockFormat.prg
  + contrib/hbqt/qtgui/TQTextBlockGroup.prg
  + contrib/hbqt/qtgui/TQTextBrowser.prg
  + contrib/hbqt/qtgui/TQTextCharFormat.prg
  + contrib/hbqt/qtgui/TQTextCursor.prg
  + contrib/hbqt/qtgui/TQTextDocument.prg
  + contrib/hbqt/qtgui/TQTextDocumentFragment.prg
  + contrib/hbqt/qtgui/TQTextDocumentWriter.prg
  + contrib/hbqt/qtgui/TQTextEdit.prg
  + contrib/hbqt/qtgui/TQTextFormat.prg
  + contrib/hbqt/qtgui/TQTextFragment.prg
  + contrib/hbqt/qtgui/TQTextFrame.prg
  + contrib/hbqt/qtgui/TQTextFrameFormat.prg
  + contrib/hbqt/qtgui/TQTextImageFormat.prg
  + contrib/hbqt/qtgui/TQTextInlineObject.prg
  + contrib/hbqt/qtgui/TQTextItem.prg
  + contrib/hbqt/qtgui/TQTextLayout.prg
  + contrib/hbqt/qtgui/TQTextLength.prg
  + contrib/hbqt/qtgui/TQTextLine.prg
  + contrib/hbqt/qtgui/TQTextListFormat.prg
  + contrib/hbqt/qtgui/TQTextObject.prg
  + contrib/hbqt/qtgui/TQTextOption.prg
  + contrib/hbqt/qtgui/TQTextTableFormat.prg
  + contrib/hbqt/qtgui/TQTimeEdit.prg
  + contrib/hbqt/qtgui/TQToolBar.prg
  + contrib/hbqt/qtgui/TQToolBox.prg
  + contrib/hbqt/qtgui/TQToolButton.prg
  + contrib/hbqt/qtgui/TQTransform.prg
  + contrib/hbqt/qtgui/TQTreeView.prg
  + contrib/hbqt/qtgui/TQTreeWidget.prg
  + contrib/hbqt/qtgui/TQTreeWidgetItem.prg
  + contrib/hbqt/qtgui/TQValidator.prg
  + contrib/hbqt/qtgui/TQVBoxLayout.prg
  + contrib/hbqt/qtgui/TQWheelEvent.prg
  + contrib/hbqt/qtgui/TQWidget.prg
  + contrib/hbqt/qtgui/TQWidgetAction.prg
  + contrib/hbqt/qtgui/TQWidgetItem.prg
  + contrib/hbqt/qtgui/TQWindowsStyle.prg
  + contrib/hbqt/qtgui/TQWindowsXPStyle.prg
  + contrib/hbqt/qtgui/TQWizard.prg
  + contrib/hbqt/qtgui/TQWizardPage.prg

  + contrib/hbqt/qtnetwork
  + contrib/hbqt/qtnetwork/filelist.mk
  + contrib/hbqt/qtnetwork/Makefile
  + contrib/hbqt/qtnetwork/QFtp.cpp
  + contrib/hbqt/qtnetwork/QHttp.cpp
  + contrib/hbqt/qtnetwork/QHttpRequestHeader.cpp
  + contrib/hbqt/qtnetwork/QHttpResponseHeader.cpp
  + contrib/hbqt/qtnetwork/QNetworkRequest.cpp
  + contrib/hbqt/qtnetwork/TQFtp.prg
  + contrib/hbqt/qtnetwork/TQHttp.prg
  + contrib/hbqt/qtnetwork/TQHttpRequestHeader.prg
  + contrib/hbqt/qtnetwork/TQHttpResponseHeader.prg
  + contrib/hbqt/qtnetwork/TQNetworkRequest.prg

  + contrib/hbqt/qtwebkit
  + contrib/hbqt/qtwebkit/filelist.mk
  + contrib/hbqt/qtwebkit/Makefile
  + contrib/hbqt/qtwebkit/QWebFrame.cpp
  + contrib/hbqt/qtwebkit/QWebHistory.cpp
  + contrib/hbqt/qtwebkit/QWebHistoryInterface.cpp
  + contrib/hbqt/qtwebkit/QWebHistoryItem.cpp
  + contrib/hbqt/qtwebkit/QWebHitTestResult.cpp
  + contrib/hbqt/qtwebkit/QWebPage.cpp
  + contrib/hbqt/qtwebkit/QWebPluginFactory.cpp
  + contrib/hbqt/qtwebkit/QWebSecurityOrigin.cpp
  + contrib/hbqt/qtwebkit/QWebSettings.cpp
  + contrib/hbqt/qtwebkit/QWebView.cpp
  + contrib/hbqt/qtwebkit/TQWebFrame.prg
  + contrib/hbqt/qtwebkit/TQWebHistory.prg
  + contrib/hbqt/qtwebkit/TQWebHistoryInterface.prg
  + contrib/hbqt/qtwebkit/TQWebHistoryItem.prg
  + contrib/hbqt/qtwebkit/TQWebHitTestResult.prg
  + contrib/hbqt/qtwebkit/TQWebPage.prg
  + contrib/hbqt/qtwebkit/TQWebPluginFactory.prg
  + contrib/hbqt/qtwebkit/TQWebSecurityOrigin.prg
  + contrib/hbqt/qtwebkit/TQWebSettings.prg
  + contrib/hbqt/qtwebkit/TQWebView.prg

  * contrib/hbqt/tests/demoqt.prg
    
    ! A lot of changes. Please expect some instability for some time.
      demoqt.prg compiles and executes fine. HBXBP is in the pipeline.
 
      Viktor, please set the make system in place.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/filelist.mk
    trunk/harbour/contrib/hbqt/generator/hbmk.hbm
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/generator/qt45.qtp
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt.hbc
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/tests/demoqt.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/hbqt_garbage.h

Removed Paths:
-------------
    trunk/harbour/contrib/hbqt/QAbstractButton.cpp
    trunk/harbour/contrib/hbqt/QAbstractItemModel.cpp
    trunk/harbour/contrib/hbqt/QAbstractItemView.cpp
    trunk/harbour/contrib/hbqt/QAbstractListModel.cpp
    trunk/harbour/contrib/hbqt/QAbstractPrintDialog.cpp
    trunk/harbour/contrib/hbqt/QAbstractScrollArea.cpp
    trunk/harbour/contrib/hbqt/QAbstractSlider.cpp
    trunk/harbour/contrib/hbqt/QAbstractSpinBox.cpp
    trunk/harbour/contrib/hbqt/QAbstractTableModel.cpp
    trunk/harbour/contrib/hbqt/QAction.cpp
    trunk/harbour/contrib/hbqt/QApplication.cpp
    trunk/harbour/contrib/hbqt/QBitmap.cpp
    trunk/harbour/contrib/hbqt/QBoxLayout.cpp
    trunk/harbour/contrib/hbqt/QBrush.cpp
    trunk/harbour/contrib/hbqt/QButtonGroup.cpp
    trunk/harbour/contrib/hbqt/QCalendarWidget.cpp
    trunk/harbour/contrib/hbqt/QCheckBox.cpp
    trunk/harbour/contrib/hbqt/QClipboard.cpp
    trunk/harbour/contrib/hbqt/QColor.cpp
    trunk/harbour/contrib/hbqt/QColorDialog.cpp
    trunk/harbour/contrib/hbqt/QComboBox.cpp
    trunk/harbour/contrib/hbqt/QCommandLinkButton.cpp
    trunk/harbour/contrib/hbqt/QCommonStyle.cpp
    trunk/harbour/contrib/hbqt/QConicalGradient.cpp
    trunk/harbour/contrib/hbqt/QCoreApplication.cpp
    trunk/harbour/contrib/hbqt/QCursor.cpp
    trunk/harbour/contrib/hbqt/QDateEdit.cpp
    trunk/harbour/contrib/hbqt/QDateTime.cpp
    trunk/harbour/contrib/hbqt/QDateTimeEdit.cpp
    trunk/harbour/contrib/hbqt/QDesktopWidget.cpp
    trunk/harbour/contrib/hbqt/QDial.cpp
    trunk/harbour/contrib/hbqt/QDialog.cpp
    trunk/harbour/contrib/hbqt/QDir.cpp
    trunk/harbour/contrib/hbqt/QDirModel.cpp
    trunk/harbour/contrib/hbqt/QDockWidget.cpp
    trunk/harbour/contrib/hbqt/QDoubleSpinBox.cpp
    trunk/harbour/contrib/hbqt/QDragEnterEvent.cpp
    trunk/harbour/contrib/hbqt/QDragLeaveEvent.cpp
    trunk/harbour/contrib/hbqt/QDragMoveEvent.cpp
    trunk/harbour/contrib/hbqt/QDropEvent.cpp
    trunk/harbour/contrib/hbqt/QErrorMessage.cpp
    trunk/harbour/contrib/hbqt/QEvent.cpp
    trunk/harbour/contrib/hbqt/QEventLoop.cpp
    trunk/harbour/contrib/hbqt/QFileDialog.cpp
    trunk/harbour/contrib/hbqt/QFileSystemModel.cpp
    trunk/harbour/contrib/hbqt/QFocusEvent.cpp
    trunk/harbour/contrib/hbqt/QFocusFrame.cpp
    trunk/harbour/contrib/hbqt/QFont.cpp
    trunk/harbour/contrib/hbqt/QFontComboBox.cpp
    trunk/harbour/contrib/hbqt/QFontDatabase.cpp
    trunk/harbour/contrib/hbqt/QFontDialog.cpp
    trunk/harbour/contrib/hbqt/QFontInfo.cpp
    trunk/harbour/contrib/hbqt/QFontMetrics.cpp
    trunk/harbour/contrib/hbqt/QFontMetricsF.cpp
    trunk/harbour/contrib/hbqt/QFormLayout.cpp
    trunk/harbour/contrib/hbqt/QFrame.cpp
    trunk/harbour/contrib/hbqt/QFtp.cpp
    trunk/harbour/contrib/hbqt/QGradient.cpp
    trunk/harbour/contrib/hbqt/QGridLayout.cpp
    trunk/harbour/contrib/hbqt/QGroupBox.cpp
    trunk/harbour/contrib/hbqt/QHBoxLayout.cpp
    trunk/harbour/contrib/hbqt/QHeaderView.cpp
    trunk/harbour/contrib/hbqt/QHttp.cpp
    trunk/harbour/contrib/hbqt/QIODevice.cpp
    trunk/harbour/contrib/hbqt/QIcon.cpp
    trunk/harbour/contrib/hbqt/QImage.cpp
    trunk/harbour/contrib/hbqt/QImageReader.cpp
    trunk/harbour/contrib/hbqt/QImageWriter.cpp
    trunk/harbour/contrib/hbqt/QInputDialog.cpp
    trunk/harbour/contrib/hbqt/QInputEvent.cpp
    trunk/harbour/contrib/hbqt/QKeyEvent.cpp
    trunk/harbour/contrib/hbqt/QKeySequence.cpp
    trunk/harbour/contrib/hbqt/QLCDNumber.cpp
    trunk/harbour/contrib/hbqt/QLabel.cpp
    trunk/harbour/contrib/hbqt/QLatin1Char.cpp
    trunk/harbour/contrib/hbqt/QLatin1String.cpp
    trunk/harbour/contrib/hbqt/QLayout.cpp
    trunk/harbour/contrib/hbqt/QLayoutItem.cpp
    trunk/harbour/contrib/hbqt/QLine.cpp
    trunk/harbour/contrib/hbqt/QLineEdit.cpp
    trunk/harbour/contrib/hbqt/QLinearGradient.cpp
    trunk/harbour/contrib/hbqt/QList.cpp
    trunk/harbour/contrib/hbqt/QListView.cpp
    trunk/harbour/contrib/hbqt/QListWidget.cpp
    trunk/harbour/contrib/hbqt/QListWidgetItem.cpp
    trunk/harbour/contrib/hbqt/QMainWindow.cpp
    trunk/harbour/contrib/hbqt/QMenu.cpp
    trunk/harbour/contrib/hbqt/QMenuBar.cpp
    trunk/harbour/contrib/hbqt/QMessageBox.cpp
    trunk/harbour/contrib/hbqt/QModelIndex.cpp
    trunk/harbour/contrib/hbqt/QMouseEvent.cpp
    trunk/harbour/contrib/hbqt/QMoveEvent.cpp
    trunk/harbour/contrib/hbqt/QObject.cpp
    trunk/harbour/contrib/hbqt/QPageSetupDialog.cpp
    trunk/harbour/contrib/hbqt/QPaintDevice.cpp
    trunk/harbour/contrib/hbqt/QPaintEvent.cpp
    trunk/harbour/contrib/hbqt/QPainter.cpp
    trunk/harbour/contrib/hbqt/QPalette.cpp
    trunk/harbour/contrib/hbqt/QPen.cpp
    trunk/harbour/contrib/hbqt/QPicture.cpp
    trunk/harbour/contrib/hbqt/QPixmap.cpp
    trunk/harbour/contrib/hbqt/QPoint.cpp
    trunk/harbour/contrib/hbqt/QPointF.cpp
    trunk/harbour/contrib/hbqt/QPrintDialog.cpp
    trunk/harbour/contrib/hbqt/QPrintEngine.cpp
    trunk/harbour/contrib/hbqt/QPrintPreviewDialog.cpp
    trunk/harbour/contrib/hbqt/QPrinter.cpp
    trunk/harbour/contrib/hbqt/QProcess.cpp
    trunk/harbour/contrib/hbqt/QProgressBar.cpp
    trunk/harbour/contrib/hbqt/QProgressDialog.cpp
    trunk/harbour/contrib/hbqt/QPushButton.cpp
    trunk/harbour/contrib/hbqt/QRadialGradient.cpp
    trunk/harbour/contrib/hbqt/QRadioButton.cpp
    trunk/harbour/contrib/hbqt/QRect.cpp
    trunk/harbour/contrib/hbqt/QRectF.cpp
    trunk/harbour/contrib/hbqt/QRegion.cpp
    trunk/harbour/contrib/hbqt/QResizeEvent.cpp
    trunk/harbour/contrib/hbqt/QResource.cpp
    trunk/harbour/contrib/hbqt/QScrollArea.cpp
    trunk/harbour/contrib/hbqt/QScrollBar.cpp
    trunk/harbour/contrib/hbqt/QSignalMapper.cpp
    trunk/harbour/contrib/hbqt/QSize.cpp
    trunk/harbour/contrib/hbqt/QSizeF.cpp
    trunk/harbour/contrib/hbqt/QSizeGrip.cpp
    trunk/harbour/contrib/hbqt/QSizePolicy.cpp
    trunk/harbour/contrib/hbqt/QSlider.cpp
    trunk/harbour/contrib/hbqt/QSound.cpp
    trunk/harbour/contrib/hbqt/QSpinBox.cpp
    trunk/harbour/contrib/hbqt/QSplashScreen.cpp
    trunk/harbour/contrib/hbqt/QSplitter.cpp
    trunk/harbour/contrib/hbqt/QStandardItem.cpp
    trunk/harbour/contrib/hbqt/QStandardItemModel.cpp
    trunk/harbour/contrib/hbqt/QStatusBar.cpp
    trunk/harbour/contrib/hbqt/QStringList.cpp
    trunk/harbour/contrib/hbqt/QStringListModel.cpp
    trunk/harbour/contrib/hbqt/QStyle.cpp
    trunk/harbour/contrib/hbqt/QStyleFactory.cpp
    trunk/harbour/contrib/hbqt/QStyleHintReturn.cpp
    trunk/harbour/contrib/hbqt/QStyleHintReturnMask.cpp
    trunk/harbour/contrib/hbqt/QStyleHintReturnVariant.cpp
    trunk/harbour/contrib/hbqt/QStyleOption.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionButton.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionComboBox.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionComplex.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionDockWidget.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionFocusRect.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionFrame.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionGroupBox.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionHeader.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionMenuItem.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionProgressBar.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionSizeGrip.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionSlider.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionSpinBox.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionTab.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionTabBarBase.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionTabWidgetFrame.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionTitleBar.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionToolBar.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionToolBox.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionToolButton.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionViewItem.cpp
    trunk/harbour/contrib/hbqt/QStylePainter.cpp
    trunk/harbour/contrib/hbqt/QStyledItemDelegate.cpp
    trunk/harbour/contrib/hbqt/QSystemTrayIcon.cpp
    trunk/harbour/contrib/hbqt/QTabBar.cpp
    trunk/harbour/contrib/hbqt/QTabWidget.cpp
    trunk/harbour/contrib/hbqt/QTableView.cpp
    trunk/harbour/contrib/hbqt/QTableWidget.cpp
    trunk/harbour/contrib/hbqt/QTableWidgetItem.cpp
    trunk/harbour/contrib/hbqt/QTextBlock.cpp
    trunk/harbour/contrib/hbqt/QTextBlockFormat.cpp
    trunk/harbour/contrib/hbqt/QTextBlockGroup.cpp
    trunk/harbour/contrib/hbqt/QTextBoundaryFinder.cpp
    trunk/harbour/contrib/hbqt/QTextBrowser.cpp
    trunk/harbour/contrib/hbqt/QTextCharFormat.cpp
    trunk/harbour/contrib/hbqt/QTextCodec.cpp
    trunk/harbour/contrib/hbqt/QTextCursor.cpp
    trunk/harbour/contrib/hbqt/QTextDecoder.cpp
    trunk/harbour/contrib/hbqt/QTextDocument.cpp
    trunk/harbour/contrib/hbqt/QTextDocumentFragment.cpp
    trunk/harbour/contrib/hbqt/QTextDocumentWriter.cpp
    trunk/harbour/contrib/hbqt/QTextEdit.cpp
    trunk/harbour/contrib/hbqt/QTextEncoder.cpp
    trunk/harbour/contrib/hbqt/QTextFormat.cpp
    trunk/harbour/contrib/hbqt/QTextFragment.cpp
    trunk/harbour/contrib/hbqt/QTextFrame.cpp
    trunk/harbour/contrib/hbqt/QTextFrameFormat.cpp
    trunk/harbour/contrib/hbqt/QTextImageFormat.cpp
    trunk/harbour/contrib/hbqt/QTextInlineObject.cpp
    trunk/harbour/contrib/hbqt/QTextItem.cpp
    trunk/harbour/contrib/hbqt/QTextLayout.cpp
    trunk/harbour/contrib/hbqt/QTextLength.cpp
    trunk/harbour/contrib/hbqt/QTextLine.cpp
    trunk/harbour/contrib/hbqt/QTextObject.cpp
    trunk/harbour/contrib/hbqt/QTextStream.cpp
    trunk/harbour/contrib/hbqt/QTimeEdit.cpp
    trunk/harbour/contrib/hbqt/QTimer.cpp
    trunk/harbour/contrib/hbqt/QToolBar.cpp
    trunk/harbour/contrib/hbqt/QToolBox.cpp
    trunk/harbour/contrib/hbqt/QToolButton.cpp
    trunk/harbour/contrib/hbqt/QTreeView.cpp
    trunk/harbour/contrib/hbqt/QTreeWidget.cpp
    trunk/harbour/contrib/hbqt/QTreeWidgetItem.cpp
    trunk/harbour/contrib/hbqt/QUrl.cpp
    trunk/harbour/contrib/hbqt/QVBoxLayout.cpp
    trunk/harbour/contrib/hbqt/QVariant.cpp
    trunk/harbour/contrib/hbqt/QWebFrame.cpp
    trunk/harbour/contrib/hbqt/QWebHistory.cpp
    trunk/harbour/contrib/hbqt/QWebHistoryInterface.cpp
    trunk/harbour/contrib/hbqt/QWebHistoryItem.cpp
    trunk/harbour/contrib/hbqt/QWebHitTestResult.cpp
    trunk/harbour/contrib/hbqt/QWebPage.cpp
    trunk/harbour/contrib/hbqt/QWebPluginFactory.cpp
    trunk/harbour/contrib/hbqt/QWebSecurityOrigin.cpp
    trunk/harbour/contrib/hbqt/QWebSettings.cpp
    trunk/harbour/contrib/hbqt/QWebView.cpp
    trunk/harbour/contrib/hbqt/QWheelEvent.cpp
    trunk/harbour/contrib/hbqt/QWidget.cpp
    trunk/harbour/contrib/hbqt/QWidgetAction.cpp
    trunk/harbour/contrib/hbqt/QWidgetItem.cpp
    trunk/harbour/contrib/hbqt/QWindowsStyle.cpp
    trunk/harbour/contrib/hbqt/QWindowsXPStyle.cpp
    trunk/harbour/contrib/hbqt/QWizard.cpp
    trunk/harbour/contrib/hbqt/TQAbstractButton.prg
    trunk/harbour/contrib/hbqt/TQAbstractItemModel.prg
    trunk/harbour/contrib/hbqt/TQAbstractItemView.prg
    trunk/harbour/contrib/hbqt/TQAbstractListModel.prg
    trunk/harbour/contrib/hbqt/TQAbstractPrintDialog.prg
    trunk/harbour/contrib/hbqt/TQAbstractScrollArea.prg
    trunk/harbour/contrib/hbqt/TQAbstractSlider.prg
    trunk/harbour/contrib/hbqt/TQAbstractSpinBox.prg
    trunk/harbour/contrib/hbqt/TQAbstractTableModel.prg
    trunk/harbour/contrib/hbqt/TQAction.prg
    trunk/harbour/contrib/hbqt/TQApplication.prg
    trunk/harbour/contrib/hbqt/TQBitmap.prg
    trunk/harbour/contrib/hbqt/TQBoxLayout.prg
    trunk/harbour/contrib/hbqt/TQBrush.prg
    trunk/harbour/contrib/hbqt/TQButtonGroup.prg
    trunk/harbour/contrib/hbqt/TQCalendarWidget.prg
    trunk/harbour/contrib/hbqt/TQCheckBox.prg
    trunk/harbour/contrib/hbqt/TQClipboard.prg
    trunk/harbour/contrib/hbqt/TQColor.prg
    trunk/harbour/contrib/hbqt/TQColorDialog.prg
    trunk/harbour/contrib/hbqt/TQComboBox.prg
    trunk/harbour/contrib/hbqt/TQCommandLinkButton.prg
    trunk/harbour/contrib/hbqt/TQCommonStyle.prg
    trunk/harbour/contrib/hbqt/TQConicalGradient.prg
    trunk/harbour/contrib/hbqt/TQCoreApplication.prg
    trunk/harbour/contrib/hbqt/TQCursor.prg
    trunk/harbour/contrib/hbqt/TQDateEdit.prg
    trunk/harbour/contrib/hbqt/TQDateTime.prg
    trunk/harbour/contrib/hbqt/TQDateTimeEdit.prg
    trunk/harbour/contrib/hbqt/TQDesktopWidget.prg
    trunk/harbour/contrib/hbqt/TQDial.prg
    trunk/harbour/contrib/hbqt/TQDialog.prg
    trunk/harbour/contrib/hbqt/TQDir.prg
    trunk/harbour/contrib/hbqt/TQDirModel.prg
    trunk/harbour/contrib/hbqt/TQDockWidget.prg
    trunk/harbour/contrib/hbqt/TQDoubleSpinBox.prg
    trunk/harbour/contrib/hbqt/TQDragEnterEvent.prg
    trunk/harbour/contrib/hbqt/TQDragLeaveEvent.prg
    trunk/harbour/contrib/hbqt/TQDragMoveEvent.prg
    trunk/harbour/contrib/hbqt/TQDropEvent.prg
    trunk/harbour/contrib/hbqt/TQErrorMessage.prg
    trunk/harbour/contrib/hbqt/TQEvent.prg
    trunk/harbour/contrib/hbqt/TQEventLoop.prg
    trunk/harbour/contrib/hbqt/TQFileDialog.prg
    trunk/harbour/contrib/hbqt/TQFileSystemModel.prg
    trunk/harbour/contrib/hbqt/TQFocusEvent.prg
    trunk/harbour/contrib/hbqt/TQFocusFrame.prg
    trunk/harbour/contrib/hbqt/TQFont.prg
    trunk/harbour/contrib/hbqt/TQFontComboBox.prg
    trunk/harbour/contrib/hbqt/TQFontDatabase.prg
    trunk/harbour/contrib/hbqt/TQFontDialog.prg
    trunk/harbour/contrib/hbqt/TQFontInfo.prg
    trunk/harbour/contrib/hbqt/TQFontMetrics.prg
    trunk/harbour/contrib/hbqt/TQFontMetricsF.prg
    trunk/harbour/contrib/hbqt/TQFormLayout.prg
    trunk/harbour/contrib/hbqt/TQFrame.prg
    trunk/harbour/contrib/hbqt/TQFtp.prg
    trunk/harbour/contrib/hbqt/TQGradient.prg
    trunk/harbour/contrib/hbqt/TQGridLayout.prg
    trunk/harbour/contrib/hbqt/TQGroupBox.prg
    trunk/harbour/contrib/hbqt/TQHBoxLayout.prg
    trunk/harbour/contrib/hbqt/TQHeaderView.prg
    trunk/harbour/contrib/hbqt/TQHttp.prg
    trunk/harbour/contrib/hbqt/TQIODevice.prg
    trunk/harbour/contrib/hbqt/TQIcon.prg
    trunk/harbour/contrib/hbqt/TQImage.prg
    trunk/harbour/contrib/hbqt/TQImageReader.prg
    trunk/harbour/contrib/hbqt/TQImageWriter.prg
    trunk/harbour/contrib/hbqt/TQInputDialog.prg
    trunk/harbour/contrib/hbqt/TQInputEvent.prg
    trunk/harbour/contrib/hbqt/TQKeyEvent.prg
    trunk/harbour/contrib/hbqt/TQKeySequence.prg
    trunk/harbour/contrib/hbqt/TQLCDNumber.prg
    trunk/harbour/contrib/hbqt/TQLabel.prg
    trunk/harbour/contrib/hbqt/TQLatin1Char.prg
    trunk/harbour/contrib/hbqt/TQLatin1String.prg
    trunk/harbour/contrib/hbqt/TQLayout.prg
    trunk/harbour/contrib/hbqt/TQLayoutItem.prg
    trunk/harbour/contrib/hbqt/TQLine.prg
    trunk/harbour/contrib/hbqt/TQLineEdit.prg
    trunk/harbour/contrib/hbqt/TQLinearGradient.prg
    trunk/harbour/contrib/hbqt/TQList.prg
    trunk/harbour/contrib/hbqt/TQListView.prg
    trunk/harbour/contrib/hbqt/TQListWidget.prg
    trunk/harbour/contrib/hbqt/TQListWidgetItem.prg
    trunk/harbour/contrib/hbqt/TQMainWindow.prg
    trunk/harbour/contrib/hbqt/TQMenu.prg
    trunk/harbour/contrib/hbqt/TQMenuBar.prg
    trunk/harbour/contrib/hbqt/TQMessageBox.prg
    trunk/harbour/contrib/hbqt/TQModelIndex.prg
    trunk/harbour/contrib/hbqt/TQMouseEvent.prg
    trunk/harbour/contrib/hbqt/TQMoveEvent.prg
    trunk/harbour/contrib/hbqt/TQObject.prg
    trunk/harbour/contrib/hbqt/TQPageSetupDialog.prg
    trunk/harbour/contrib/hbqt/TQPaintDevice.prg
    trunk/harbour/contrib/hbqt/TQPaintEvent.prg
    trunk/harbour/contrib/hbqt/TQPainter.prg
    trunk/harbour/contrib/hbqt/TQPalette.prg
    trunk/harbour/contrib/hbqt/TQPen.prg
    trunk/harbour/contrib/hbqt/TQPicture.prg
    trunk/harbour/contrib/hbqt/TQPixmap.prg
    trunk/harbour/contrib/hbqt/TQPoint.prg
    trunk/harbour/contrib/hbqt/TQPointF.prg
    trunk/harbour/contrib/hbqt/TQPrintDialog.prg
    trunk/harbour/contrib/hbqt/TQPrintEngine.prg
    trunk/harbour/contrib/hbqt/TQPrintPreviewDialog.prg
    trunk/harbour/contrib/hbqt/TQPrinter.prg
    trunk/harbour/contrib/hbqt/TQProcess.prg
    trunk/harbour/contrib/hbqt/TQProgressBar.prg
    trunk/harbour/contrib/hbqt/TQProgressDialog.prg
    trunk/harbour/contrib/hbqt/TQPushButton.prg
    trunk/harbour/contrib/hbqt/TQRadialGradient.prg
    trunk/harbour/contrib/hbqt/TQRadioButton.prg
    trunk/harbour/contrib/hbqt/TQRect.prg
    trunk/harbour/contrib/hbqt/TQRectF.prg
    trunk/harbour/contrib/hbqt/TQRegion.prg
    trunk/harbour/contrib/hbqt/TQResizeEvent.prg
    trunk/harbour/contrib/hbqt/TQResource.prg
    trunk/harbour/contrib/hbqt/TQScrollArea.prg
    trunk/harbour/contrib/hbqt/TQScrollBar.prg
    trunk/harbour/contrib/hbqt/TQSignalMapper.prg
    trunk/harbour/contrib/hbqt/TQSize.prg
    trunk/harbour/contrib/hbqt/TQSizeF.prg
    trunk/harbour/contrib/hbqt/TQSizeGrip.prg
    trunk/harbour/contrib/hbqt/TQSizePolicy.prg
    trunk/harbour/contrib/hbqt/TQSlider.prg
    trunk/harbour/contrib/hbqt/TQSound.prg
    trunk/harbour/contrib/hbqt/TQSpinBox.prg
    trunk/harbour/contrib/hbqt/TQSplashScreen.prg
    trunk/harbour/contrib/hbqt/TQSplitter.prg
    trunk/harbour/contrib/hbqt/TQStandardItem.prg
    trunk/harbour/contrib/hbqt/TQStandardItemModel.prg
    trunk/harbour/contrib/hbqt/TQStatusBar.prg
    trunk/harbour/contrib/hbqt/TQStringList.prg
    trunk/harbour/contrib/hbqt/TQStringListModel.prg
    trunk/harbour/contrib/hbqt/TQStyle.prg
    trunk/harbour/contrib/hbqt/TQStyleFactory.prg
    trunk/harbour/contrib/hbqt/TQStyleHintReturn.prg
    trunk/harbour/contrib/hbqt/TQStyleHintReturnMask.prg
    trunk/harbour/contrib/hbqt/TQStyleHintReturnVariant.prg
    trunk/harbour/contrib/hbqt/TQStyleOption.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionButton.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionComboBox.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionComplex.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionDockWidget.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionFocusRect.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionFrame.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionGroupBox.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionHeader.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionMenuItem.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionProgressBar.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionSizeGrip.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionSlider.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionSpinBox.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionTab.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionTabBarBase.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionTabWidgetFrame.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionTitleBar.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionToolBar.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionToolBox.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionToolButton.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionViewItem.prg
    trunk/harbour/contrib/hbqt/TQStylePainter.prg
    trunk/harbour/contrib/hbqt/TQStyledItemDelegate.prg
    trunk/harbour/contrib/hbqt/TQSystemTrayIcon.prg
    trunk/harbour/contrib/hbqt/TQTabBar.prg
    trunk/harbour/contrib/hbqt/TQTabWidget.prg
    trunk/harbour/contrib/hbqt/TQTableView.prg
    trunk/harbour/contrib/hbqt/TQTableWidget.prg
    trunk/harbour/contrib/hbqt/TQTableWidgetItem.prg
    trunk/harbour/contrib/hbqt/TQTextBlock.prg
    trunk/harbour/contrib/hbqt/TQTextBlockFormat.prg
    trunk/harbour/contrib/hbqt/TQTextBlockGroup.prg
    trunk/harbour/contrib/hbqt/TQTextBoundaryFinder.prg
    trunk/harbour/contrib/hbqt/TQTextBrowser.prg
    trunk/harbour/contrib/hbqt/TQTextCharFormat.prg
    trunk/harbour/contrib/hbqt/TQTextCodec.prg
    trunk/harbour/contrib/hbqt/TQTextCursor.prg
    trunk/harbour/contrib/hbqt/TQTextDecoder.prg
    trunk/harbour/contrib/hbqt/TQTextDocument.prg
    trunk/harbour/contrib/hbqt/TQTextDocumentFragment.prg
    trunk/harbour/contrib/hbqt/TQTextDocumentWriter.prg
    trunk/harbour/contrib/hbqt/TQTextEdit.prg
    trunk/harbour/contrib/hbqt/TQTextEncoder.prg
    trunk/harbour/contrib/hbqt/TQTextFormat.prg
    trunk/harbour/contrib/hbqt/TQTextFragment.prg
    trunk/harbour/contrib/hbqt/TQTextFrame.prg
    trunk/harbour/contrib/hbqt/TQTextFrameFormat.prg
    trunk/harbour/contrib/hbqt/TQTextImageFormat.prg
    trunk/harbour/contrib/hbqt/TQTextInlineObject.prg
    trunk/harbour/contrib/hbqt/TQTextItem.prg
    trunk/harbour/contrib/hbqt/TQTextLayout.prg
    trunk/harbour/contrib/hbqt/TQTextLength.prg
    trunk/harbour/contrib/hbqt/TQTextLine.prg
    trunk/harbour/contrib/hbqt/TQTextObject.prg
    trunk/harbour/contrib/hbqt/TQTextStream.prg
    trunk/harbour/contrib/hbqt/TQTimeEdit.prg
    trunk/harbour/contrib/hbqt/TQTimer.prg
    trunk/harbour/contrib/hbqt/TQToolBar.prg
    trunk/harbour/contrib/hbqt/TQToolBox.prg
    trunk/harbour/contrib/hbqt/TQToolButton.prg
    trunk/harbour/contrib/hbqt/TQTreeView.prg
    trunk/harbour/contrib/hbqt/TQTreeWidget.prg
    trunk/harbour/contrib/hbqt/TQTreeWidgetItem.prg
    trunk/harbour/contrib/hbqt/TQUrl.prg
    trunk/harbour/contrib/hbqt/TQVBoxLayout.prg
    trunk/harbour/contrib/hbqt/TQVariant.prg
    trunk/harbour/contrib/hbqt/TQWebFrame.prg
    trunk/harbour/contrib/hbqt/TQWebHistory.prg
    trunk/harbour/contrib/hbqt/TQWebHistoryInterface.prg
    trunk/harbour/contrib/hbqt/TQWebHistoryItem.prg
    trunk/harbour/contrib/hbqt/TQWebHitTestResult.prg
    trunk/harbour/contrib/hbqt/TQWebPage.prg
    trunk/harbour/contrib/hbqt/TQWebPluginFactory.prg
    trunk/harbour/contrib/hbqt/TQWebSecurityOrigin.prg
    trunk/harbour/contrib/hbqt/TQWebSettings.prg
    trunk/harbour/contrib/hbqt/TQWebView.prg
    trunk/harbour/contrib/hbqt/TQWheelEvent.prg
    trunk/harbour/contrib/hbqt/TQWidget.prg
    trunk/harbour/contrib/hbqt/TQWidgetAction.prg
    trunk/harbour/contrib/hbqt/TQWidgetItem.prg
    trunk/harbour/contrib/hbqt/TQWindowsStyle.prg
    trunk/harbour/contrib/hbqt/TQWindowsXPStyle.prg
    trunk/harbour/contrib/hbqt/TQWizard.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Oct 22 14:35:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Oct 22 14:35:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12748] trunk/harbour
Message-ID: <E1N12Vo-0005Wq-P1@3kljzd1.ch3.sourceforge.com>

Revision: 12748
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12748&view=rev
Author:   vszakats
Date:     2009-10-22 18:35:47 +0000 (Thu, 22 Oct 2009)

Log Message:
-----------
2009-10-22 20:31 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/Makefile
  * contrib/hbqt/qtgui/Makefile
  * contrib/hbqt/qtwebkit/Makefile
  * contrib/hbqt/qtcore/Makefile
  * contrib/hbqt/qtnetwork/Makefile
  * contrib/hbqt/hbqts.hbc
    ! Minor cleanups and fixes after recent restructuring.
        Nice job Pritpal.

    ; TODO: Since now QT detection .mk code will be replicated 
            in 10 places, this will have to be optimized.
    ; TOFIX: static mode.

    ; TOFIX: I'm getting a compile error, so could check the whole build run yet:
      ---
      hbqt_slots.cpp
      ../../../hbqt_slots.cpp(1787) : error C2065: 'str' : undeclared identifier
      ../../../hbqt_slots.cpp(1787) : error C2065: 'str' : undeclared identifier
      ../../../hbqt_slots.cpp(1787) : error C2070: ''unknown-type'': illegal sizeof operand
      ../../../hbqt_slots.cpp(1787) : error C2065: 'str' : undeclared identifier
      ---
    ; TOFIX: I saw these warnings in almost all tested .cpp files:
      ---
      ../../../QWebSettings.cpp(86) : warning C4100: 'Cargo' : unreferenced formal parameter
      ---

  * contrib/hbqt/generator/hbqtgen.prg
  * contrib/hbqt/generator/qt45.qtp
    ! Added missing SVN headers.

  * contrib/hbqt/hbqt.hbc
    + Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/generator/qt45.qtp
    trunk/harbour/contrib/hbqt/hbqt.hbc
    trunk/harbour/contrib/hbqt/hbqts.hbc
    trunk/harbour/contrib/hbqt/qtcore/Makefile
    trunk/harbour/contrib/hbqt/qtgui/Makefile
    trunk/harbour/contrib/hbqt/qtnetwork/Makefile
    trunk/harbour/contrib/hbqt/qtwebkit/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Oct 22 15:26:43 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Oct 22 15:26:49 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <937689AF-8500-4A9F-A91A-EA4A4C44EF9B@syenar.hu>
References: <4ADC8E5E.40400@mweb.co.za>
	<20091019230008.GA31620@linux-8af1.home.aster.pl>
	<4ADD83EA.9050908@mweb.co.za>
	<20091020094631.GA15576@linux-8af1.home.aster.pl>
	<4ADF09B9.2070806@mweb.co.za>
	<20091021163926.GA2382@linux-8af1.home.aster.pl>
	<4AE061EC.1050804@mweb.co.za>
	<91A0C861-4C4C-4EBB-9237-AAA8B2D57338@syenar.hu>
	<20091022161320.GA28336@linux-8af1.home.aster.pl>
	<937689AF-8500-4A9F-A91A-EA4A4C44EF9B@syenar.hu>
Message-ID: <20091022192643.GB21835@linux-8af1.home.aster.pl>

On Thu, 22 Oct 2009, Szak?ts Viktor wrote:

Hi,

> >The problem is only in Windows builds and it's caused by moving to
> >UNICODE API - it breaks  dynamic FM stat module initialization.
> >We added hb_getenv_buffer() to avoid memory allocation and now
> >it makes memory allocation so FM module GPF at startup.
> Thank you, that explains. Maybe it'd be time to remove this
> envvar trick for fm stat logging. At least I don't have any
> better idea.

I modified hb_getenv_buffer() in UNICODE builds to work with static
buffers if they are large enough and it resolved the problem with
FM stat module. I also fixed memory leak in non UNICODE builds.
I'll commit it later.
We have this function only for FM stat module so if we do not plan
to use it then we can simply remove it.

best regards,
Przemek
From vouchcac at users.sourceforge.net  Thu Oct 22 15:37:14 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Oct 22 15:37:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12749] trunk/harbour
Message-ID: <E1N13TG-0001Wo-6f@d5vjzd1.ch3.sourceforge.com>

Revision: 12749
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12749&view=rev
Author:   vouchcac
Date:     2009-10-22 19:37:13 +0000 (Thu, 22 Oct 2009)

Log Message:
-----------
2009-10-22 12:35 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_slots.cpp
    ! Quantrined "error C2065: 'str' : undeclared identifier".

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Oct 22 15:40:27 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Oct 22 15:40:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12748] trunk/harbour
In-Reply-To: <E1N12Vo-0005Wq-P1@3kljzd1.ch3.sourceforge.com>
References: <E1N12Vo-0005Wq-P1@3kljzd1.ch3.sourceforge.com>
Message-ID: <26015987.post@talk.nabble.com>


Hi Viktor


vszakats wrote:
> 
> 2009-10-22 20:31 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbqt/Makefile
>   * contrib/hbqt/qtgui/Makefile
>   * contrib/hbqt/qtwebkit/Makefile
>   * contrib/hbqt/qtcore/Makefile
>   * contrib/hbqt/qtnetwork/Makefile
>   * contrib/hbqt/hbqts.hbc
>     ! Minor cleanups and fixes after recent restructuring.
> 

Thank you.



>     ; TOFIX: I'm getting a compile error, so could check the whole build
> run yet:
>       ---
>       hbqt_slots.cpp
>       ../../../hbqt_slots.cpp(1787) : error C2065: 'str' : undeclared
> identifier
>       ../../../hbqt_slots.cpp(1787) : error C2065: 'str' : undeclared
> identifier
>       ../../../hbqt_slots.cpp(1787) : error C2070: ''unknown-type'':
> illegal sizeof operand
>       ../../../hbqt_slots.cpp(1787) : error C2065: 'str' : undeclared
> identifier
>       ---
> 

Fixed.



>     ; TOFIX: I saw these warnings in almost all tested .cpp files:
>       ---
>       ../../../QWebSettings.cpp(86) : warning C4100: 'Cargo' :
> unreferenced formal parameter
>       ---
> 

It is the side effect of the way "destructors" are implemented.
I will fix it in a while.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12748--trunk-harbour-tp26015086p26015987.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From francek.prijatelj at siol.net  Thu Oct 22 16:41:11 2009
From: francek.prijatelj at siol.net (=?windows-1250?Q?FRAN=C8EK_PRIJATELJ?=)
Date: Thu Oct 22 16:41:21 2009
Subject: [Harbour] hbmemio doesnt't work from USB key.
Message-ID: <4AE0C367.6050007@siol.net>

Hi Mindaugas

When I copy simple program ,which is using  hbmemio,  to USB key
and then run it from USB, it crashes with DOS error 123.
The same program is workin fine from hard disk.
My platform is win XP , MSVC8.

BRGS
Fran?ek


-------------- next part --------------
A non-text attachment was scrubbed...
Name: francek_prijatelj.vcf
Type: text/x-vcard
Size: 182 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091022/da7fff18/francek_prijatelj.vcf
From vouchcac at users.sourceforge.net  Thu Oct 22 17:05:44 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Oct 22 17:05:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12750] trunk/harbour
Message-ID: <E1N14qu-0003Hp-3y@d5vjzd1.ch3.sourceforge.com>

Revision: 12750
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12750&view=rev
Author:   vouchcac
Date:     2009-10-22 21:05:37 +0000 (Thu, 22 Oct 2009)

Log Message:
-----------
2009-10-22 13:05 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/generator/hbqtgen.prg
    ! Fixed : "warning C4100: 'Cargo' : unreferenced formal parameter"

  * contrib/hbqt/generator/hbqtgen.prg
  * contrib/hbqt/qtcore/QTextCodec.cpp
  * contrib/hbqt/qtgui/QAbstractItemDelegate.cpp
  * contrib/hbqt/qtgui/QClipboard.cpp
  * contrib/hbqt/qtgui/QSessionManager.cpp
  * contrib/hbqt/qtgui/QTextBlockGroup.cpp
  * contrib/hbqt/qtgui/QTextObject.cpp
  * contrib/hbqt/qtwebkit/QWebFrame.cpp
  * contrib/hbqt/qtwebkit/QWebHistory.cpp
  * contrib/hbqt/qtwebkit/QWebSettings.cpp
    ! The result of "Cargo" fix.

  * contrib/hbqt/tests/demoqt.prg
    ! Confirms to -w3 specifications.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/qtcore/QTextCodec.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractItemDelegate.cpp
    trunk/harbour/contrib/hbqt/qtgui/QClipboard.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSessionManager.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlockGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextObject.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebFrame.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebHistory.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebSettings.cpp
    trunk/harbour/contrib/hbqt/tests/demoqt.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Oct 22 17:19:48 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Oct 22 17:19:57 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <20091022192643.GB21835@linux-8af1.home.aster.pl>
References: <4ADC8E5E.40400@mweb.co.za>
	<20091019230008.GA31620@linux-8af1.home.aster.pl>
	<4ADD83EA.9050908@mweb.co.za>
	<20091020094631.GA15576@linux-8af1.home.aster.pl>
	<4ADF09B9.2070806@mweb.co.za>
	<20091021163926.GA2382@linux-8af1.home.aster.pl>
	<4AE061EC.1050804@mweb.co.za>
	<91A0C861-4C4C-4EBB-9237-AAA8B2D57338@syenar.hu>
	<20091022161320.GA28336@linux-8af1.home.aster.pl>
	<937689AF-8500-4A9F-A91A-EA4A4C44EF9B@syenar.hu>
	<20091022192643.GB21835@linux-8af1.home.aster.pl>
Message-ID: <484CA026-E308-4567-B1A2-4A27E80ED6BD@syenar.hu>

>>> The problem is only in Windows builds and it's caused by moving to
>>> UNICODE API - it breaks  dynamic FM stat module initialization.
>>> We added hb_getenv_buffer() to avoid memory allocation and now
>>> it makes memory allocation so FM module GPF at startup.
>> Thank you, that explains. Maybe it'd be time to remove this
>> envvar trick for fm stat logging. At least I don't have any
>> better idea.
>
> I modified hb_getenv_buffer() in UNICODE builds to work with static
> buffers if they are large enough and it resolved the problem with
> FM stat module. I also fixed memory leak in non UNICODE builds.
> I'll commit it later.

Thanks, I'd be grateful if you could take a look at other
similarly converted function calls, as they may also have
similar leaks.

Brgds,
Viktor

From dbtopas at dbtopas.lt  Thu Oct 22 17:29:19 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Oct 22 17:29:12 2009
Subject: [Harbour] hbmemio doesnt't work from USB key.
In-Reply-To: <4AE0C367.6050007@siol.net>
References: <4AE0C367.6050007@siol.net>
Message-ID: <4AE0CEAF.7080205@dbtopas.lt>

Hi,


FRAN?EK PRIJATELJ wrote:
> When I copy simple program ,which is using  hbmemio,  to USB key
> and then run it from USB, it crashes with DOS error 123.
> The same program is workin fine from hard disk.

Sounds like different executables. Can you send a self contained source, 
or executable, that acts this way?


Regards,
Mindaugas
From bedipritpal at hotmail.com  Thu Oct 22 18:03:25 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Oct 22 18:03:31 2009
Subject: [Harbour] ActiveX and GPF
In-Reply-To: <20091021212920.GA7092@linux-8af1.home.aster.pl>
References: <4ADC8E5E.40400@mweb.co.za>
	<20091019230008.GA31620@linux-8af1.home.aster.pl>
	<4ADD83EA.9050908@mweb.co.za>
	<20091020094631.GA15576@linux-8af1.home.aster.pl>
	<4ADF09B9.2070806@mweb.co.za>
	<20091021163926.GA2382@linux-8af1.home.aster.pl>
	<25996951.post@talk.nabble.com>
	<20091021212920.GA7092@linux-8af1.home.aster.pl>
Message-ID: <26017970.post@talk.nabble.com>




Przemys?aw Czerpak wrote:
> 
> It may happen only when hb_itemNew() is used so danger places in
> the code can be easy found. The problem is only with checking .prg
> code it it exploits them or not.
> 
> Few months ago I discussed this problem with Mindaugas on this forum
> and possible solutions. In general it's necessary to add to GC a way
> to detect logical references between different blocks allocated by
> hb_gcAlloc()....
> 

Take your own decision.
3rd party library support can be dropped. You just concentrate 
what is the best possible solution for Harbour. 

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/ActiveX-and-GPF-tp25960995p26017970.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Fri Oct 23 03:00:16 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Oct 23 03:00:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12721] trunk/harbour
In-Reply-To: <4ADFC1E5.3050602@dbtopas.lt>
References: <E1Myw8A-0007Zk-UD@74yxhf1.ch3.sourceforge.com>
	<4ADDAF1D.40908@dbtopas.lt>
	<20091020152246.GA29094@linux-8af1.home.aster.pl>
	<4ADF4542.1060609@dbtopas.lt>
	<20091021184913.GA5878@linux-8af1.home.aster.pl>
	<4ADFB946.8000108@dbtopas.lt> <4ADFC1E5.3050602@dbtopas.lt>
Message-ID: <20091023070016.GA19326@linux-8af1.home.aster.pl>

On Thu, 22 Oct 2009, Mindaugas Kavaliauskas wrote:

Hi,

> >>4. pad only strings shorter then 8 bytes. For longer strings encode
> >>   encode all full 64bit blocks then encode last 64bits (decode in
> >>   reveresed order)
> >But the 4th is the most interesting :) I've not understood your
> >idea, can you describe it it more detail?
> Ok, I've understood. You mean encode last 64bits partly containing
> ALREADY ENCODED bytes of previous block.

Exactly. Please also note that such situation can be detected during
decoding data without attaching any extra information to destination
string so only strings shorter then 8 bytes cannot be encoded without
padding.
To the above list I should add:
5. like for but return NIL or "" to indicate error or generate RTE

I hope that now the whole picture is more clean so I would like to ask
you about your final preferences about raw mode.

best regards,
Przemek
From vszakats at users.sourceforge.net  Fri Oct 23 03:11:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Oct 23 03:11:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12751] trunk/harbour
Message-ID: <E1N1EIq-0006Cx-1b@c3vjzd1.ch3.sourceforge.com>

Revision: 12751
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12751&view=rev
Author:   vszakats
Date:     2009-10-23 07:11:06 +0000 (Fri, 23 Oct 2009)

Log Message:
-----------
2009-10-23 09:08 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  + hbqt/qtgui/qtguis
  + hbqt/qtgui/qtguis/Makefile
  + hbqt/qtwebkit/qtwebkits
  + hbqt/qtwebkit/qtwebkits/Makefile
  + hbqt/qtcore/qtcores
  + hbqt/qtcore/qtcores/Makefile
  + hbqt/qtnetwork/qtnetworks
  + hbqt/qtnetwork/qtnetworks/Makefile
    + Added static files (not tested).

  * hbqt/Makefile
    ! Minor fix to build sub-libs.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/xhb/hbcompat.ch

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/qtcore/qtcores/
    trunk/harbour/contrib/hbqt/qtcore/qtcores/Makefile
    trunk/harbour/contrib/hbqt/qtgui/qtguis/
    trunk/harbour/contrib/hbqt/qtgui/qtguis/Makefile
    trunk/harbour/contrib/hbqt/qtnetwork/qtnetworks/
    trunk/harbour/contrib/hbqt/qtnetwork/qtnetworks/Makefile
    trunk/harbour/contrib/hbqt/qtwebkit/qtwebkits/
    trunk/harbour/contrib/hbqt/qtwebkit/qtwebkits/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Oct 23 03:12:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Oct 23 03:12:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12752]
	trunk/harbour/ChangeLog
Message-ID: <E1N1EKO-0006E2-F7@c3vjzd1.ch3.sourceforge.com>

Revision: 12752
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12752&view=rev
Author:   vszakats
Date:     2009-10-23 07:12:43 +0000 (Fri, 23 Oct 2009)

Log Message:
-----------
missed from prev entry:

  * contrib\xhb\hbcompat.ch
    + Added SET TIME FORMAT and SET TRIMFILENAME for xhb compatibility.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Oct 23 03:13:11 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Oct 23 03:13:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12721] trunk/harbour
In-Reply-To: <4ADFB946.8000108@dbtopas.lt>
References: <E1Myw8A-0007Zk-UD@74yxhf1.ch3.sourceforge.com>
	<4ADDAF1D.40908@dbtopas.lt>
	<20091020152246.GA29094@linux-8af1.home.aster.pl>
	<4ADF4542.1060609@dbtopas.lt>
	<20091021184913.GA5878@linux-8af1.home.aster.pl>
	<4ADFB946.8000108@dbtopas.lt>
Message-ID: <20091023071311.GB19326@linux-8af1.home.aster.pl>

On Thu, 22 Oct 2009, Mindaugas Kavaliauskas wrote:

Hi,

> >>I've looked to key length encoding in Harbour level functions. Is it
> >>some standard way to encode length of 8byte unaligned data?
> >I guess you are talking about .prg functions.
> >No, it's not a standard. I implemented it only for these functions.
> I guess your padding IS standard ANSI X.923 :) If not, we can choose
> one suitable padding from
> http://en.wikipedia.org/wiki/Padding_(cryptography)

The padding I implemented fully ANSI X.923 standard but it was not my
intention. I haven't even heard about this standard before I read the
above link after seeing your message.
It's interesting that I was thinkinking also about two alternative
versions and the 1-st one confirms ISO 10126 standard and the 2-nd
one PKCS7 (RFC 3852) but I've never heard about any of them before
I read above wiki page :). Just simply these are natural and very
simple methods.

best regards,
Przemek
From druzus at users.sourceforge.net  Fri Oct 23 03:25:38 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Oct 23 03:25:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12753] trunk/harbour
Message-ID: <E1N1EWo-0006Q6-NV@c3vjzd1.ch3.sourceforge.com>

Revision: 12753
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12753&view=rev
Author:   druzus
Date:     2009-10-23 07:25:36 +0000 (Fri, 23 Oct 2009)

Log Message:
-----------
2009-10-23 09:24 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rdd/dbfnsx/dbfnsx1.c
    ! fixed bug reported by Jaroslav Janik (many thanks) - if index FOR
      expression excluded all records from non empty table then root page
      was not initialized and DBFNSX generated corruption RTE.

  * harbour/utils/hbi18n/hbi18n.prg
    * set default GT to CGI

  * harbour/src/common/hbgete.c
    ! fixed memory leak in non UNICODE Windows hb_getenv_buffer()
    ! add C stack buffers to eliminate memory allocation in UNICODE
      Windows hb_getenv_buffer() - they are used if envvar name and
      passed buffer are not too large. It fixes HB_FM_STATISTICS
      Windows builds.

  * harbour/contrib/hbwin/wapi_winuser.c
    + added WAPI_DESTROYWINDOW function

  * harbour/contrib/xhb/traceprg.prg
  * harbour/contrib/xhb/hbcompat.ch
    ! fixed typo in TraceLog() condition - was always disabled
    + added emulation for xHarbour Set( _SET_TRACE* [, <params,...> ] )
      settings

  * harbour/src/vm/hvmall.c
    ! define _GNU_SOURCE to fix compilation with HB_FM_DL_ALLOC in Linux
      builds

  * harbour/include/hbdefs.h
    * declare HB_FOFFSET as LONG instead of LONGLONG on platforms where
      LONG is 64bit integer to be compatible with C RTL file API

  * harbour/src/vm/maindllh.c
  * harbour/src/vm/maindllp.c
  * harbour/contrib/hbct/ctstr.c
    ! casting in HB_TRACE() massages

  * harbour/include/hbapi.h
  * harbour/include/hbapiitm.h
  * harbour/src/vm/arrays.c
  * harbour/src/vm/hashes.c
  * harbour/src/vm/itemapi.c
    + added hb_arrayCloneTo(), hb_hashCloneTo(), hb_itemCloneTo()

  * harbour/src/vm/arrayshb.c
  * harbour/src/vm/classes.c
  * harbour/src/vm/hashes.c
  * harbour/src/vm/hashfunc.c
  * harbour/src/vm/hvm.c
    % use hb_*CloneTo() instead of hb_*Clone()

  * harbour/include/hbapi.h
  * harbour/src/vm/garbage.c
    - removed hb_gcRegisterSweep() function and support for user defined
      sweep mark functions in GC blocks
    - removed hb_gcAlloc() function
    + added new function hb_gcAllocate() which work in similar way to removed
      hb_gcAlloc() function but it accepts as second parameter HB_GC_FUNCS
      structure instead of HB_GARBAGE_FUNC_PTR and returned GC blocks are
      locked so programmer does not have to worry that they can be removed
      by GC.
    + added new internal function hb_gcAllocRaw() which works like
      hb_gcAllocate() but returned GC blocks are not locked. They can
      be used only in HVM in places well known that cannot activate
      automatic GC scan. It should not be used by 3-rd party code.

  * harbour/include/hbapi.h
  * harbour/include/hbapiitm.h
  * harbour/src/vm/extend.c
  * harbour/src/vm/itemapi.c
    * modified hb_parptrGC(), hb_parvptrGC(), hb_arrayGetPtrGC(),
      hb_itemGetPtrGC() functions to use HB_GC_FUNCS structure instead
      of HB_GARBAGE_FUNC_PTR
    * modified hb_itemPutPtrGC() and indirectly related functions like
      hb_arraySetPtrGC() or hb_stor[v]ptrGC() to automatically unlock
      passed GC block just after attaching to known HVM item.

  * harbour/include/hbregex.h
  * harbour/src/rtl/hbregexc.c
    * declare GC block detractor as static function
    + added hb_regexIs() function
    * updated to work with new GC API
    * removed unnecessary in new GC API hb_gcLock() call - GC blocks
      allocated by hb_gcAllocate() are already locked and they mustn't
      be locked explicitly by programmer (until he does not exactly knows
      what he does ;))

  * harbour/src/rtl/hbregex.c
    * use hb_regexIs() instead of using regex GC destructor
    * removed unnecessary in new GC API hb_gcUnlock() call - GC blocks
      stored in HB_IT_POINTER item are automatically unlocked

  * harbour/src/rtl/hbinet.c
  * harbour/contrib/hbcurl/hbcurl.c
    * updated to work with new GC API
    % unlock items storing callback codeblocks and use GC mark functions
      to mark them as used in GC passes

  * harbour/src/pp/pplib.c
  * harbour/src/vm/runner.c
  * harbour/src/vm/codebloc.c
  * harbour/src/vm/hashes.c
  * harbour/src/vm/hvm.c
  * harbour/src/vm/arrays.c
  * harbour/src/vm/thread.c
  * harbour/src/vm/dynlibhb.c
  * harbour/src/rtl/hbzlibgz.c
  * harbour/src/rtl/hbregex.c
  * harbour/src/rtl/hbregexc.c
  * harbour/src/rtl/hbgtcore.c
  * harbour/src/rtl/hbi18n1.c
  * harbour/src/rdd/wacore.c
  * harbour/contrib/hbsqlit3/hbsqlit3.c
  * harbour/contrib/hbnetio/netiosrv.c
  * harbour/contrib/hbmzip/hbmzip.c
  * harbour/contrib/hbhpdf/harupdf.c
  * harbour/contrib/hbwin/olecore.c
  * harbour/contrib/hbwin/win_prn1.c
  * harbour/contrib/hbwin/win_dll.c
    * updated code which was using hb_gcAlloc() to work with new GC API.

  * harbour/contrib/hbwin/axcore.c
    * updated syntax description

   TODO: update contrib code: hbqt, hbssl, ... to work with new GC API.
         I would like to ask authors of above libraries to do it.
   TODO: defined when and how we should free AX control and user callback
         handler and update AX code to respect new definition

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/ctstr.c
    trunk/harbour/contrib/hbcurl/hbcurl.c
    trunk/harbour/contrib/hbhpdf/harupdf.c
    trunk/harbour/contrib/hbmzip/hbmzip.c
    trunk/harbour/contrib/hbnetio/netiosrv.c
    trunk/harbour/contrib/hbsqlit3/hbsqlit3.c
    trunk/harbour/contrib/hbwin/axcore.c
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/contrib/hbwin/wapi_winuser.c
    trunk/harbour/contrib/hbwin/win_dll.c
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/xhb/hbcompat.ch
    trunk/harbour/contrib/xhb/traceprg.prg
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbapiitm.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbregex.h
    trunk/harbour/src/common/hbgete.c
    trunk/harbour/src/pp/pplib.c
    trunk/harbour/src/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/src/rdd/wacore.c
    trunk/harbour/src/rtl/hbgtcore.c
    trunk/harbour/src/rtl/hbi18n1.c
    trunk/harbour/src/rtl/hbinet.c
    trunk/harbour/src/rtl/hbregex.c
    trunk/harbour/src/rtl/hbregexc.c
    trunk/harbour/src/rtl/hbzlibgz.c
    trunk/harbour/src/vm/arrays.c
    trunk/harbour/src/vm/arrayshb.c
    trunk/harbour/src/vm/classes.c
    trunk/harbour/src/vm/codebloc.c
    trunk/harbour/src/vm/dynlibhb.c
    trunk/harbour/src/vm/extend.c
    trunk/harbour/src/vm/garbage.c
    trunk/harbour/src/vm/hashes.c
    trunk/harbour/src/vm/hashfunc.c
    trunk/harbour/src/vm/hvm.c
    trunk/harbour/src/vm/hvmall.c
    trunk/harbour/src/vm/itemapi.c
    trunk/harbour/src/vm/maindllh.c
    trunk/harbour/src/vm/maindllp.c
    trunk/harbour/src/vm/runner.c
    trunk/harbour/src/vm/thread.c
    trunk/harbour/utils/hbi18n/hbi18n.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Fri Oct 23 03:46:43 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Oct 23 03:46:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12754] trunk/harbour
Message-ID: <E1N1ErD-0003Ia-W1@3kljzd1.ch3.sourceforge.com>

Revision: 12754
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12754&view=rev
Author:   druzus
Date:     2009-10-23 07:46:42 +0000 (Fri, 23 Oct 2009)

Log Message:
-----------
2009-10-23 09:46 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbpgsql/postgres.c
  * harbour/contrib/hbgd/gdwrp.c
    * updated code which was using hb_gcAlloc() to work with new GC API.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbgd/gdwrp.c
    trunk/harbour/contrib/hbpgsql/postgres.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Oct 23 04:24:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Oct 23 04:24:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12755] trunk/harbour
Message-ID: <E1N1FRP-0003vj-8B@3kljzd1.ch3.sourceforge.com>

Revision: 12755
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12755&view=rev
Author:   vszakats
Date:     2009-10-23 08:24:05 +0000 (Fri, 23 Oct 2009)

Log Message:
-----------
2009-10-23 10:23 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqts/Makefile
  * contrib/hbqt/qtgui/qtguis/Makefile
  * contrib/hbqt/qtgui/Makefile
  * contrib/hbqt/qtwebkit/Makefile
  * contrib/hbqt/qtwebkit/qtwebkits/Makefile
  * contrib/hbqt/qtcore/qtcores/Makefile
  * contrib/hbqt/qtcore/Makefile
  * contrib/hbqt/qtnetwork/qtnetworks/Makefile
  * contrib/hbqt/qtnetwork/Makefile
  * contrib/hbqt/Makefile
  + contrib/hbqt/detect.mk
    % Moved QT detection and common setup task to separate .mk file 
      to avoid redundancy.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/hbqts/Makefile
    trunk/harbour/contrib/hbqt/qtcore/Makefile
    trunk/harbour/contrib/hbqt/qtcore/qtcores/Makefile
    trunk/harbour/contrib/hbqt/qtgui/Makefile
    trunk/harbour/contrib/hbqt/qtgui/qtguis/Makefile
    trunk/harbour/contrib/hbqt/qtnetwork/Makefile
    trunk/harbour/contrib/hbqt/qtnetwork/qtnetworks/Makefile
    trunk/harbour/contrib/hbqt/qtwebkit/Makefile
    trunk/harbour/contrib/hbqt/qtwebkit/qtwebkits/Makefile

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/detect.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Fri Oct 23 04:52:48 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Oct 23 04:52:55 2009
Subject: [Harbour] Paste from clipboard
Message-ID: <EFC82435EA054495B30A010C659A300B@emag>

Dear friends, the following sample seems to paste nothing in the GET:

#include "Hbgtinfo.ch"


FUNCTION MAIN()

    LOCAL GetList := {}

    LOCAL cGet := SPACE( 30 )

    HB_GTINFO( HB_GTI_CLIPBOARDPAST )

    @ 10, 10 GET cGet

    READ

    RETURN NIL

What am I missing? I already tried with xHarbour and reported this to the 
xHarbour developers mailing-list.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From elart at elart.it  Fri Oct 23 04:53:12 2009
From: elart at elart.it (elart)
Date: Fri Oct 23 04:53:21 2009
Subject: [Harbour] Re:SF.net SVN: harbour-project:[12754] trunk/harbour
Message-ID: <1J4LPwJW.1256287992.1768890.marcobra@82.105.36.210>


On Ubuntu 9.10 compiling from svn i get this error...

Thank you and best regards.

QtNetwork -I/usr/include/qt4/QtWebKit  -ohbqt_destruct.o -c
../../../hbqt_destruct.cpp
../../../hbqt_destruct.cpp: In function ?void* hbqt_gcpointer(int)?:
../../../hbqt_destruct.cpp:101: error: cannot convert ?void (*)(void*)?
to ?const HB_GC_FUNCS*? for argument ?1? to ?void* hb_parptrGC(const
HB_GC_FUNCS*, int)?
../../../hbqt_destruct.cpp: In function ?void* hbqt_ptrTOgcpointer(void*,
void (*)(void*))?:
../../../hbqt_destruct.cpp:115: error: ?hb_gcAlloc? was not declared in
this scope
../../../hbqt_destruct.cpp: At global scope:
../../../hbqt_destruct.cpp:121: warning: unused parameter ?name?
make[3]: *** [hbqt_destruct.o] Errore 1
make[2]: *** [descend] Errore 2
make[1]: *** [hbqt] Errore 2
make: *** [contrib] Errore 2
From vszakats at users.sourceforge.net  Fri Oct 23 05:35:11 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Oct 23 05:35:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12756] trunk/harbour
Message-ID: <E1N1GYB-0008S2-NW@c3vjzd1.ch3.sourceforge.com>

Revision: 12756
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12756&view=rev
Author:   vszakats
Date:     2009-10-23 09:35:09 +0000 (Fri, 23 Oct 2009)

Log Message:
-----------
2009-10-23 11:33 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbssl/evpciph.c
  * contrib/hbssl/sslsess.c
  * contrib/hbssl/ssl.c
  * contrib/hbssl/x509.c
  * contrib/hbssl/evpmd.c
  * contrib/hbssl/evpenc.c
  * contrib/hbssl/sslctx.c
  * contrib/hbssl/evppkey.c
    + Changed to use new GC allocation method.
      Please review me.

  * contrib/hbqt/Makefile
    * Minor refinement to build order.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbssl/evpciph.c
    trunk/harbour/contrib/hbssl/evpenc.c
    trunk/harbour/contrib/hbssl/evpmd.c
    trunk/harbour/contrib/hbssl/evppkey.c
    trunk/harbour/contrib/hbssl/ssl.c
    trunk/harbour/contrib/hbssl/sslctx.c
    trunk/harbour/contrib/hbssl/sslsess.c
    trunk/harbour/contrib/hbssl/x509.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Fri Oct 23 05:48:40 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Oct 23 05:48:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12757] trunk/harbour
Message-ID: <E1N1GlE-0002xW-Qr@bj8yhf1.ch3.sourceforge.com>

Revision: 12757
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12757&view=rev
Author:   druzus
Date:     2009-10-23 09:48:38 +0000 (Fri, 23 Oct 2009)

Log Message:
-----------
2009-10-23 11:47 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapi.h
  * harbour/src/vm/extend.c
    + added hb_parldef() function

  * harbour/src/vm/thread.c
  * harbour/src/vm/memvars.c
  * harbour/src/vm/arrayshb.c
  * harbour/src/vm/classes.c
  * harbour/src/rtl/hbtoken.c
  * harbour/src/rtl/maxrow.c
  * harbour/src/rtl/strtoexp.c
  * harbour/src/rtl/filesys.c
  * harbour/src/rtl/hbregex.c
  * harbour/src/rtl/dateshb.c
  * harbour/src/rtl/hbi18n1.c
  * harbour/src/rtl/mlcfunc.c
  * harbour/src/rtl/itemseri.c
  * harbour/src/rtl/strc.c
  * harbour/src/rtl/gete.c
  * harbour/src/rtl/mouse53.c
  * harbour/src/rtl/fssize.c
  * harbour/src/rdd/dbsql.c
  * harbour/src/rdd/dbdetach.c
  * harbour/src/rdd/dbcmd.c
  * harbour/src/rdd/dbcmd53.c
  * harbour/src/rdd/hbsix/sxord.c
  * harbour/src/rdd/hbsix/sxfname.c
  * harbour/contrib/hbct/bitnum.c
  * harbour/contrib/hbct/screen2.c
  * harbour/contrib/hbct/ctnet.c
  * harbour/contrib/hbct/files.c
  * harbour/contrib/hbct/charswap.c
  * harbour/contrib/hbct/lton.c
  * harbour/contrib/hbct/color.c
  * harbour/contrib/hbct/num1.c
  * harbour/contrib/hbct/token1.c
  * harbour/contrib/hbct/numcount.c
  * harbour/contrib/hbct/ctwfunc.c
  * harbour/contrib/hbct/ctstrfil.c
  * harbour/contrib/hbct/dattime2.c
  * harbour/contrib/xhb/bkgtsks.c
  * harbour/contrib/xhb/xhbtrim.c
  * harbour/contrib/hbnf/prtscr.c
  * harbour/contrib/hbnf/fttext.c
  * harbour/contrib/hbnetio/netiosrv.c
  * harbour/contrib/gtwvg/wincallb.c
  * harbour/contrib/gtwvg/wvgwing.c
  * harbour/contrib/rddads/adsfunc.c
  * harbour/contrib/hbwin/win_prn1.c
  * harbour/contrib/hbwin/win_prn2.c
    % optimized HB_ISLOG() / hb_parl() usage

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wincallb.c
    trunk/harbour/contrib/gtwvg/wvgwing.c
    trunk/harbour/contrib/hbct/bitnum.c
    trunk/harbour/contrib/hbct/charswap.c
    trunk/harbour/contrib/hbct/color.c
    trunk/harbour/contrib/hbct/ctnet.c
    trunk/harbour/contrib/hbct/ctstrfil.c
    trunk/harbour/contrib/hbct/ctwfunc.c
    trunk/harbour/contrib/hbct/dattime2.c
    trunk/harbour/contrib/hbct/files.c
    trunk/harbour/contrib/hbct/lton.c
    trunk/harbour/contrib/hbct/num1.c
    trunk/harbour/contrib/hbct/numcount.c
    trunk/harbour/contrib/hbct/screen2.c
    trunk/harbour/contrib/hbct/token1.c
    trunk/harbour/contrib/hbnetio/netiosrv.c
    trunk/harbour/contrib/hbnf/fttext.c
    trunk/harbour/contrib/hbnf/prtscr.c
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/rddads/adsfunc.c
    trunk/harbour/contrib/xhb/bkgtsks.c
    trunk/harbour/contrib/xhb/xhbtrim.c
    trunk/harbour/include/hbapi.h
    trunk/harbour/src/rdd/dbcmd.c
    trunk/harbour/src/rdd/dbcmd53.c
    trunk/harbour/src/rdd/dbdetach.c
    trunk/harbour/src/rdd/dbsql.c
    trunk/harbour/src/rdd/hbsix/sxfname.c
    trunk/harbour/src/rdd/hbsix/sxord.c
    trunk/harbour/src/rtl/dateshb.c
    trunk/harbour/src/rtl/filesys.c
    trunk/harbour/src/rtl/fssize.c
    trunk/harbour/src/rtl/gete.c
    trunk/harbour/src/rtl/hbi18n1.c
    trunk/harbour/src/rtl/hbregex.c
    trunk/harbour/src/rtl/hbtoken.c
    trunk/harbour/src/rtl/itemseri.c
    trunk/harbour/src/rtl/maxrow.c
    trunk/harbour/src/rtl/mlcfunc.c
    trunk/harbour/src/rtl/mouse53.c
    trunk/harbour/src/rtl/strc.c
    trunk/harbour/src/rtl/strtoexp.c
    trunk/harbour/src/vm/arrayshb.c
    trunk/harbour/src/vm/classes.c
    trunk/harbour/src/vm/extend.c
    trunk/harbour/src/vm/memvars.c
    trunk/harbour/src/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Oct 23 06:08:33 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Oct 23 06:08:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12756] trunk/harbour
In-Reply-To: <E1N1GYB-0008S2-NW@c3vjzd1.ch3.sourceforge.com>
References: <E1N1GYB-0008S2-NW@c3vjzd1.ch3.sourceforge.com>
Message-ID: <20091023100832.GA17434@linux-8af1.home.aster.pl>

On Fri, 23 Oct 2009, vszakats@users.sourceforge.net wrote:
> 2009-10-23 11:33 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbssl/evpciph.c
>   * contrib/hbssl/sslsess.c
>   * contrib/hbssl/ssl.c
>   * contrib/hbssl/x509.c
>   * contrib/hbssl/evpmd.c
>   * contrib/hbssl/evpenc.c
>   * contrib/hbssl/sslctx.c
>   * contrib/hbssl/evppkey.c
>     + Changed to use new GC allocation method.
>       Please review me.

Thank you,

best regards,
Przemek
From druzus at users.sourceforge.net  Fri Oct 23 06:11:35 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Oct 23 06:11:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12758] trunk/harbour
Message-ID: <E1N1H7P-0000Zr-UZ@c3vjzd1.ch3.sourceforge.com>

Revision: 12758
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12758&view=rev
Author:   druzus
Date:     2009-10-23 10:11:35 +0000 (Fri, 23 Oct 2009)

Log Message:
-----------
2009-10-23 12:11 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/fm.c
    * enable USE_DL_PREFIX in all C++ builds to avoid conflicts with
      different exception declarations for standard memory functions
      in C++ header files

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/fm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Fri Oct 23 06:21:41 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Oct 23 06:21:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12759] trunk/harbour
Message-ID: <E1N1HHB-0000jL-PK@c3vjzd1.ch3.sourceforge.com>

Revision: 12759
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12759&view=rev
Author:   druzus
Date:     2009-10-23 10:21:40 +0000 (Fri, 23 Oct 2009)

Log Message:
-----------
2009-10-23 12:21 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/hbbffnc.c
    * added note about padding standard - thanks to Mindaugas for information

  * harbour/contrib/rddsql/sddfb/fbirddd.c
    * pacified strict alignment warnings

  * harbour/contrib/hbmemio/memio.c
    * pacified warning

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmemio/memio.c
    trunk/harbour/contrib/rddsql/sddfb/fbirddd.c
    trunk/harbour/src/rtl/hbbffnc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Fri Oct 23 06:44:44 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Oct 23 06:44:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12760] trunk/harbour
Message-ID: <E1N1HdU-0005uO-4H@dn4whf1.ch3.sourceforge.com>

Revision: 12760
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12760&view=rev
Author:   druzus
Date:     2009-10-23 10:44:40 +0000 (Fri, 23 Oct 2009)

Log Message:
-----------
2009-10-23 12:44 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/hbgtcore.c
    + added default implementation for HB_GTI_CLIPBOARDPAST - thanks to
      Enrico for information about missing functionality

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/hbgtcore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Fri Oct 23 06:50:12 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Oct 23 06:50:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12760] trunk/harbour
In-Reply-To: <E1N1HdU-0005uO-4H@dn4whf1.ch3.sourceforge.com>
References: <E1N1HdU-0005uO-4H@dn4whf1.ch3.sourceforge.com>
Message-ID: <4AE18A64.2080009@mweb.co.za>

druzus@users.sourceforge.net wrote:

> 2009-10-23 12:44 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/src/rtl/hbgtcore.c
>     + added default implementation for HB_GTI_CLIPBOARDPAST - thanks to

Is there any reason this is not HB_GTI_CLIPBOARDPASTE?

Regards
Alex

From francek.prijatelj at siol.net  Fri Oct 23 07:02:18 2009
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Fri Oct 23 07:02:24 2009
Subject: [Harbour] hbmemio doesnt't work from USB key.
In-Reply-To: <4AE0CEAF.7080205@dbtopas.lt>
References: <4AE0C367.6050007@siol.net> <4AE0CEAF.7080205@dbtopas.lt>
Message-ID: <26024347.post@talk.nabble.com>


Hi

Here is a program

Regards,
Fran?ek


Mindaugas Kavaliauskas wrote:
> 
> Hi,
> 
> 
> FRAN?EK PRIJATELJ wrote:
>> When I copy simple program ,which is using  hbmemio,  to USB key
>> and then run it from USB, it crashes with DOS error 123.
>> The same program is workin fine from hard disk.
> 
> Sounds like different executables. Can you send a self contained source, 
> or executable, that acts this way?
> 
> 
> Regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
http://www.nabble.com/file/p26024347/TEST.zip TEST.zip 
-- 
View this message in context: http://www.nabble.com/hbmemio-doesnt%27t-work-from-USB-key.-tp26016846p26024347.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From dbtopas at dbtopas.lt  Fri Oct 23 07:12:17 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Oct 23 07:12:23 2009
Subject: [Harbour] hbmemio doesnt't work from USB key.
In-Reply-To: <26024347.post@talk.nabble.com>
References: <4AE0C367.6050007@siol.net> <4AE0CEAF.7080205@dbtopas.lt>
	<26024347.post@talk.nabble.com>
Message-ID: <4AE18F91.9060604@dbtopas.lt>

Hi,


Fran?ek Prijatelj wrote:
> Here is a program

I do not find
   REQUEST HB_MEMIO
in your source or in .exe. So, MemIO driver is for sure not linked, and 
as you can see "mem" disk file is created instead of memory file. I can 
only guess why windows return 123 error not in all cases.


Regards,
Mindaugas

From dbtopas at dbtopas.lt  Fri Oct 23 07:17:51 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Oct 23 07:17:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12721] trunk/harbour
In-Reply-To: <20091023070016.GA19326@linux-8af1.home.aster.pl>
References: <E1Myw8A-0007Zk-UD@74yxhf1.ch3.sourceforge.com>	<4ADDAF1D.40908@dbtopas.lt>	<20091020152246.GA29094@linux-8af1.home.aster.pl>	<4ADF4542.1060609@dbtopas.lt>	<20091021184913.GA5878@linux-8af1.home.aster.pl>	<4ADFB946.8000108@dbtopas.lt>
	<4ADFC1E5.3050602@dbtopas.lt>
	<20091023070016.GA19326@linux-8af1.home.aster.pl>
Message-ID: <4AE190DF.30400@dbtopas.lt>

Hi,


Przemys?aw Czerpak wrote:
> I hope that now the whole picture is more clean so I would like to ask
> you about your final preferences about raw mode.

I think padding with CHR(0) is the best choice in raw mode. This way 
function has more extended functionality than RTE or NIL, but it is 
still raw. More complex algorithm like encoding last 64 bits once more 
(or very similar ciphertext stealing algorithm) does not sound raw and 
can be easy implemented in .prg level if required.



Regards,
Mindaugas
From druzus at users.sourceforge.net  Fri Oct 23 07:24:15 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Oct 23 07:24:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12761] trunk/harbour
Message-ID: <E1N1IFj-0002fN-Pe@d5vjzd1.ch3.sourceforge.com>

Revision: 12761
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12761&view=rev
Author:   druzus
Date:     2009-10-23 11:24:14 +0000 (Fri, 23 Oct 2009)

Log Message:
-----------
2009-10-23 13:24 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/hbgtcore.c
    ! fixed recent modification to work also with system clipboards

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/hbgtcore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Fri Oct 23 07:27:55 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Oct 23 07:28:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12762] trunk/harbour
Message-ID: <E1N1IJH-0002kL-7p@d5vjzd1.ch3.sourceforge.com>

Revision: 12762
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12762&view=rev
Author:   druzus
Date:     2009-10-23 11:27:54 +0000 (Fri, 23 Oct 2009)

Log Message:
-----------
2009-10-23 13:27 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/hbgtcore.c
  * harbour/include/hbgtinfo.ch
    * renamed HB_GTI_CLIPBOARDPAST -> HB_GTI_CLIPBOARDPASTE

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbgtinfo.ch
    trunk/harbour/src/rtl/hbgtcore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From francek.prijatelj at siol.net  Fri Oct 23 07:37:45 2009
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Fri Oct 23 07:37:52 2009
Subject: [Harbour] hbmemio doesnt't work from USB key.
In-Reply-To: <4AE18F91.9060604@dbtopas.lt>
References: <4AE0C367.6050007@siol.net> <4AE0CEAF.7080205@dbtopas.lt>
	<26024347.post@talk.nabble.com> <4AE18F91.9060604@dbtopas.lt>
Message-ID: <26024734.post@talk.nabble.com>


Hi Mindaugas

Thanks, for quick answer.
You are right, it's not memio problem, but my error.
I was misguided by different behaviour 
on HD and USB key.
Once again thanks for your work and your suport.

Regards,
Fran?ek 



Mindaugas Kavaliauskas wrote:
> 
> Hi,
> 
> 
> Fran?ek Prijatelj wrote:
>> Here is a program
> 
> I do not find
>    REQUEST HB_MEMIO
> in your source or in .exe. So, MemIO driver is for sure not linked, and 
> as you can see "mem" disk file is created instead of memory file. I can 
> only guess why windows return 123 error not in all cases.
> 
> 
> Regards,
> Mindaugas
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://www.nabble.com/hbmemio-doesnt%27t-work-from-USB-key.-tp26016846p26024734.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From e.m.giordano at emagsoftware.it  Fri Oct 23 07:40:56 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Oct 23 07:41:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12760] trunk/harbour
References: <E1N1HdU-0005uO-4H@dn4whf1.ch3.sourceforge.com>
Message-ID: <231BE8267F8A4001979F014D2F22FDFB@emag>


-----Messaggio Originale----- 
Da: <druzus@users.sourceforge.net>
A: <harbour@harbour-project.org>
Data invio: venerd? 23 ottobre 2009 12.44
Oggetto: [Harbour] SF.net SVN: harbour-project:[12760] trunk/harbour


> Revision: 12760
> 
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12760&view=rev
> Author:   druzus
> Date:     2009-10-23 10:44:40 +0000 (Fri, 23 Oct 2009)
>
> Log Message:
> -----------
> 2009-10-23 12:44 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/rtl/hbgtcore.c
>    + added default implementation for HB_GTI_CLIPBOARDPAST - thanks to
>      Enrico for information about missing functionality

Thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Fri Oct 23 08:02:00 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Oct 23 08:03:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12760] trunk/harbour
In-Reply-To: <4AE18A64.2080009@mweb.co.za>
References: <E1N1HdU-0005uO-4H@dn4whf1.ch3.sourceforge.com>
	<4AE18A64.2080009@mweb.co.za>
Message-ID: <A2BF6D30-4CC8-4DB0-898B-8566CC7C9047@syenar.hu>

On 2009 Oct 23, at 12:50, Alex Strickland wrote:

> druzus@users.sourceforge.net wrote:
>
>> 2009-10-23 12:44 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>>  * harbour/src/rtl/hbgtcore.c
>>    + added default implementation for HB_GTI_CLIPBOARDPAST - thanks  
>> to
>
> Is there any reason this is not HB_GTI_CLIPBOARDPASTE?

Yes, I think we should fix this and add xhb compatibility
#define. Such typos are bad to see in a quality product.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Oct 23 08:02:37 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Oct 23 08:04:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12762] trunk/harbour
In-Reply-To: <E1N1IJH-0002kL-7p@d5vjzd1.ch3.sourceforge.com>
References: <E1N1IJH-0002kL-7p@d5vjzd1.ch3.sourceforge.com>
Message-ID: <2A044C56-17B9-41A4-AC30-7102E3977D5D@syenar.hu>

Thank you!

Brgds,
Viktor

On 2009 Oct 23, at 13:27, druzus@users.sourceforge.net wrote:

> Revision: 12762
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12762&view=rev
> Author:   druzus
> Date:     2009-10-23 11:27:54 +0000 (Fri, 23 Oct 2009)
>
> Log Message:
> -----------
> 2009-10-23 13:27 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/rtl/hbgtcore.c
>  * harbour/include/hbgtinfo.ch
>    * renamed HB_GTI_CLIPBOARDPAST -> HB_GTI_CLIPBOARDPASTE
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/include/hbgtinfo.ch
>    trunk/harbour/src/rtl/hbgtcore.c
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From adam_l at poczta.onet.pl  Fri Oct 23 09:03:22 2009
From: adam_l at poczta.onet.pl (Adam Lubszczyk)
Date: Fri Oct 23 09:03:30 2009
Subject: [Harbour] How to create and use DLL like HRB
In-Reply-To: <25698377.post@talk.nabble.com>
References: <25698377.post@talk.nabble.com>
Message-ID: <26026069.post@talk.nabble.com>


Hi!
Since nobody answered, I did many tests and trials.
It may be useful to someone.

Task: the chance to join a dynamic extra functions.

Here are the results of my tests at Harbour 2.0.0beta1 (from
http://sourceforge.net/projects/harbour-project/files/binaries-windows/2.0.0beta1/harbour-2.0.0beta1-win.exe/download)
and BCC55 on Windows98SE :) and build simple console application.

First, we must distinguish types of the MainPrg applications:
-?Normal" - normally compiled with a set of standard libraries
 harbour.exe MainPrg.prg ?n
 bcc32.exe ?WC ?I? -L? MainPrg.c  gtwi.lib compiler.lib rtl.lib vm.lib
<other.lib>
- "HDll" - compiled for use harbour.dll (harbour-20-bcc.dll)
 harbour.exe MainPrg.prg ?n
 bcc32.exe ?WC ?I? -L? MainPrg.c  harbour-20-bcc.lib hbmainstd.lib

If an additional module contains only PCODE (prg) functions the best
compilations to module type HRB. You load the module using HB_HRBLOAD() and
can refer directly to the function (with macros) or via HB_LIBDO()
Module type HRB:
+ very easy to build (harbour.exe module.prg ?n1 ?gh )
+ very small file
- only PCODE (prg) function (not C extension)
All used standard and MainPrg functions must declare in the module by typing
DYNAIMC <list_of_function>
If you are creating MainPrg type "standard", all used in module standard
function must be linked to MainPrg (You can add all Harbour functions by
#include "hbextern.ch?).

Create and use a module type DLL.
You load the module using HB_LIBLOAD() and can refer directly to the
function (with macros) or via HB_LIBDO()

If MainPrg is type ?HDLL? You make module.dll by:
 harbour.exe module.prg ?n1
 bcc32.exe ?WD ?I? -L? module.c  hbmaindllp.lib

Since the sources of hbmaindllp.lib have error, You can not use the blocks
in C.
All API functions like hb_parc() use:
FARPROC pParC = GetProcAddress( GetModuleHandle( NULL ), "_hb_parc" );
instead of
FARPROC pParC = hb_getProcAddress( "_hb_parc" );
(static function hb_getProcAddress()looks function in harbour-20-bcc.dll ) 
To work OK You must copy source of hbmaindllp.c to Your module and correct
all this function. Now compile by
bcc32.exe ?WD ?I? -L? module.c

If the MainPrg is "normal" need more work.
MainPrg must export some functions.
For PCODE "hb_vmExecute" and "hb_vmProcessSymbolsEx" (or
"hb_vmProcessSymbols", check definition HB_INIT_SYMBOLS_EX_END in "hbinit.h"
? new SVN Harbour use ?hb_vmProcessSymbols?) sample:
//*******
#pragma BEGINDUMP
#include <windows.h>
#include "hbapi.h"
PHB_SYMB __declspec(dllexport) forDll_hb_vmProcessSymbolsEx( PHB_SYMB
pSymbols, USHORT uiSymbols, const char * szModuleName, ULONG ulID, USHORT
uiPcodeVer )
{
    /*  DYNLIB version */  
  return hb_vmProcessDynLibSymbols( pSymbols, uiSymbols, szModuleName, ulID,
uiPcodeVer ) ;
}

void __declspec(dllexport) forDll_hb_vmExecute( const BYTE * pCode, PHB_SYMB
pSymbols )
{
   hb_vmExecute(  pCode,  pSymbols ) ;
}
#pragma ENDDUMP
//********

and to module include sample code:
//**************
#pragma BEGINDUMP
#include <windows.h>
typedef PHB_SYMB ( * VM_PROCESS_SYMBOLS_EX ) ( PHB_SYMB pSymbols, USHORT
uiSymbols, const char * szModuleName, ULONG ulID, USHORT uiPcodeVer );
typedef void ( * VM_EXECUTE ) ( const BYTE * pCode, PHB_SYMB pSymbols );
/* or #include "hbtypes.h" /*
static PHB_SYMB hb_vmProcessSymbolsEx( PHB_SYMB pSymbols, USHORT uiSymbols,
const char * szModuleName, ULONG ulID, USHORT uiPcodeVer )
{
   static FARPROC s_pProcessSymbols = NULL;
   PHB_SYMB pModuleSymbols = NULL;
   if( !s_pProcessSymbols )
      s_pProcessSymbols = GetProcAddress( NULL ,
"_forDll_hb_vmProcessSymbolsEx" );
   if( s_pProcessSymbols )
      pModuleSymbols = ( ( VM_PROCESS_SYMBOLS_EX ) s_pProcessSymbols )
                     ( pSymbols, uiSymbols, szModuleName, ulID, uiPcodeVer
);
   return pModuleSymbols;
}

static void hb_vmExecute( const BYTE * pCode, PHB_SYMB pSymbols )
{
   static FARPROC s_pExecute = NULL;
   if( !s_pExecute )
      s_pExecute = GetProcAddress( NULL , "_forDll_hb_vmExecute" );
   if( s_pExecute )
      ( ( VM_EXECUTE ) s_pExecute )( pCode, pSymbols );
}
#pragma ENDDUMP
//*************************

If there are functions in C using the Harbour API, You have the same in
MainPrg export them and in a DLL module to import.
If the function in C is not even once used in PCODE module, it must be
declared in PCODE module using the "EXTERNAL"

Adam
(Sorry for my English.)


-- 
View this message in context: http://www.nabble.com/How-to-create-and-use-DLL-like-HRB-tp25698377p26026069.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Fri Oct 23 09:09:23 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Oct 23 09:09:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12763] trunk/harbour
Message-ID: <E1N1JtT-0000lS-Vm@74yxhf1.ch3.sourceforge.com>

Revision: 12763
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12763&view=rev
Author:   druzus
Date:     2009-10-23 13:09:23 +0000 (Fri, 23 Oct 2009)

Log Message:
-----------
2009-10-23 15:09 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/gtxwc/gtxwc.c
    ! fixed clipboard property change in 64bit builds

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/gtxwc/gtxwc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From gvarona at ec-red.com  Fri Oct 23 09:38:49 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Fri Oct 23 09:35:42 2009
Subject: [?? Probable Spam]  [Harbour] Paste from clipboard
In-Reply-To: <EFC82435EA054495B30A010C659A300B@emag>
References: <EFC82435EA054495B30A010C659A300B@emag>
Message-ID: <4AE1B1E9.5090505@ec-red.com>

How does Copy and Paste?
Does it work in console mode?
Some example.
TIA
BestRegards
GVS


Enrico Maria Giordano escribi?:
> Dear friends, the following sample seems to paste nothing in the GET:
>
> #include "Hbgtinfo.ch"
>
>
> FUNCTION MAIN()
>
>    LOCAL GetList := {}
>
>    LOCAL cGet := SPACE( 30 )
>
>    HB_GTINFO( HB_GTI_CLIPBOARDPAST )
>
>    @ 10, 10 GET cGet
>
>    READ
>
>    RETURN NIL
>
> What am I missing? I already tried with xHarbour and reported this to 
> the xHarbour developers mailing-list.
>
> EMG
>
> -- 
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>

From mbelgrano at deltain.it  Fri Oct 23 10:15:16 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Oct 23 10:15:25 2009
Subject: [?? Probable Spam] [Harbour] Paste from clipboard
In-Reply-To: <4AE1B1E9.5090505@ec-red.com>
References: <EFC82435EA054495B30A010C659A300B@emag>
	<4AE1B1E9.5090505@ec-red.com>
Message-ID: <609353e70910230715s78d9dbfem3a2132ccd7673069@mail.gmail.com>

I can miss all but think

Start this sample with text in capture buffer

maj be that
HB_GTINFO( HB_GTI_CLIPBOARDPAST )
must be
HB_GTI_CLIPBOARDPASTE

2009/10/23 Guillermo Varona Silup? <gvarona@ec-red.com>:
> How does Copy and Paste?
> Does it work in console mode?
> Some example.
> TIA
> BestRegards
> GVS
>
>
> Enrico Maria Giordano escribi?:
>>
>> Dear friends, the following sample seems to paste nothing in the GET:
>>
>> #include "Hbgtinfo.ch"
>>
>>
>> FUNCTION MAIN()
>>
>> ? LOCAL GetList := {}
>>
>> ? LOCAL cGet := SPACE( 30 )
>>
>> ? HB_GTINFO( HB_GTI_CLIPBOARDPAST )
>>
>> ? @ 10, 10 GET cGet
>>
>> ? READ
>>
>> ? RETURN NIL
>>
>> What am I missing? I already tried with xHarbour and reported this to the
>> xHarbour developers mailing-list.
>>
>> EMG
>>
>> --
>> EMAG Software Homepage: ? ? http://www.emagsoftware.it
>> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
>> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
>> The EMG Music page: ? ? ? ? http://www.emagsoftware.it/emgmusic
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Fri Oct 23 10:20:55 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Oct 23 10:21:02 2009
Subject: [Harbour] hbmemio doesnt't work from USB key.
In-Reply-To: <26024734.post@talk.nabble.com>
References: <4AE0C367.6050007@siol.net> <4AE0CEAF.7080205@dbtopas.lt>
	<26024347.post@talk.nabble.com> <4AE18F91.9060604@dbtopas.lt>
	<26024734.post@talk.nabble.com>
Message-ID: <609353e70910230720m578893dayc79535f43effd34a@mail.gmail.com>

Similar error is due by other people

 is possible  a Warning in hbmk?
"request and loaded library are different"
Sorry if seem a stupid question
I hope in harbour easy to understand for everybody

2009/10/23 Fran?ek Prijatelj <francek.prijatelj@siol.net>:
>
> Hi Mindaugas
>
> Thanks, for quick answer.
> You are right, it's not memio problem, but my error.
> I was misguided by different behaviour
> on HD and USB key.
> Once again thanks for your work and your suport.
>
> Regards,
> Fran?ek
>
>
>
> Mindaugas Kavaliauskas wrote:
>>
>> Hi,
>>
>>
>> Fran?ek Prijatelj wrote:
>>> Here is a program
>>
>> I do not find
>> ? ?REQUEST HB_MEMIO
>> in your source or in .exe. So, MemIO driver is for sure not linked, and
>> as you can see "mem" disk file is created instead of memory file. I can
>> only guess why windows return 123 error not in all cases.
>>
>>
>> Regards,
>> Mindaugas
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
> --
> View this message in context: http://www.nabble.com/hbmemio-doesnt%27t-work-from-USB-key.-tp26016846p26024734.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From francek.prijatelj at siol.net  Fri Oct 23 10:55:27 2009
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Fri Oct 23 10:55:33 2009
Subject: [Harbour] hbmemio doesnt't work from USB key.
In-Reply-To: <609353e70910230720m578893dayc79535f43effd34a@mail.gmail.com>
References: <4AE0C367.6050007@siol.net> <4AE0CEAF.7080205@dbtopas.lt>
	<26024347.post@talk.nabble.com> <4AE18F91.9060604@dbtopas.lt>
	<26024734.post@talk.nabble.com>
	<609353e70910230720m578893dayc79535f43effd34a@mail.gmail.com>
Message-ID: <26027866.post@talk.nabble.com>


Hi

The error has nothing to do with hbmk.
It's only my error  (not using REQUEST HB_MEMIO ,
which is required and documented  in netiotst.prg)
I use my own script to compile and link programs.

Regards,
Fran?ek


Massimo Belgrano-3 wrote:
> 
> Similar error is due by other people
> 
>  is possible  a Warning in hbmk?
> "request and loaded library are different"
> Sorry if seem a stupid question
> I hope in harbour easy to understand for everybody
> 
> 2009/10/23 Fran?ek Prijatelj <francek.prijatelj@siol.net>:
>>
>> Hi Mindaugas
>>
>> Thanks, for quick answer.
>> You are right, it's not memio problem, but my error.
>> I was misguided by different behaviour
>> on HD and USB key.
>> Once again thanks for your work and your suport.
>>
>> Regards,
>> Fran?ek
>>
>>
>>
>> Mindaugas Kavaliauskas wrote:
>>>
>>> Hi,
>>>
>>>
>>> Fran?ek Prijatelj wrote:
>>>> Here is a program
>>>
>>> I do not find
>>> ? ?REQUEST HB_MEMIO
>>> in your source or in .exe. So, MemIO driver is for sure not linked, and
>>> as you can see "mem" disk file is created instead of memory file. I can
>>> only guess why windows return 123 error not in all cases.
>>>
>>>
>>> Regards,
>>> Mindaugas
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>>
>>
>> --
>> View this message in context:
>> http://www.nabble.com/hbmemio-doesnt%27t-work-from-USB-key.-tp26016846p26024734.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 
> 
> 
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://www.nabble.com/hbmemio-doesnt%27t-work-from-USB-key.-tp26016846p26027866.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Fri Oct 23 12:08:07 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Oct 23 12:08:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12764] trunk/harbour
Message-ID: <E1N1MgR-0000cr-Fx@bj8yhf1.ch3.sourceforge.com>

Revision: 12764
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12764&view=rev
Author:   druzus
Date:     2009-10-23 16:08:06 +0000 (Fri, 23 Oct 2009)

Log Message:
-----------
2009-10-23 18:07 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbwin/axcore.c
    ! fixed wrongly initialized reference counter in AX control.
      Now when AX Window is closed and all .prg references to OLE
      are cleared pSink is released.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/axcore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From clipper at wssk.wroc.pl  Fri Oct 23 12:33:31 2009
From: clipper at wssk.wroc.pl (Jacek Kubica)
Date: Fri Oct 23 12:35:26 2009
Subject: [?? Probable Spam] [Harbour] Paste from clipboard
In-Reply-To: <609353e70910230715s78d9dbfem3a2132ccd7673069@mail.gmail.com>
References: <EFC82435EA054495B30A010C659A300B@emag>
	<4AE1B1E9.5090505@ec-red.com>
	<609353e70910230715s78d9dbfem3a2132ccd7673069@mail.gmail.com>
Message-ID: <177172915189.20091023183331@wssk.wroc.pl>

Hello Massimo,

Friday, October 23, 2009, 4:15:16 PM, you wrote:

MB> I can miss all but think
MB> Start this sample with text in capture buffer

MB> maj be that
MB> HB_GTINFO( HB_GTI_CLIPBOARDPAST )
MB> must be
MB> HB_GTI_CLIPBOARDPASTE

No! Take a look at hbgtinfo.ch

#define HB_GTI_CLIPBOARDPAST    16  /* Paste clipboard data into keyboard buffer */

But my proposition for Enrico (if I good understand his needs) is:

// -------------------------- smaple.prg ---------------------
#include "Hbgtinfo.ch"
FUNCTION MAIN()
    LOCAL GetList := {}
    LOCAL cGet

    //HB_GTINFO( HB_GTI_CLIPBOARDDATA,"Test" ) - set CLIPBOARD data to
    // test
    
    cGet := PADR(HB_GTINFO( HB_GTI_CLIPBOARDDATA),30)
    @ 10, 10 GET cGet
    READ

    RETURN NIL
//------------------------------- EOF -----------------------
    Regards

    Jacek Kubica



MB> 2009/10/23 Guillermo Varona Silup? <gvarona@ec-red.com>:
>> How does Copy and Paste?
>> Does it work in console mode?
>> Some example.
>> TIA
>> BestRegards
>> GVS
>>
>>
>> Enrico Maria Giordano escribi?:
>>>
>>> Dear friends, the following sample seems to paste nothing in the GET:
>>>
>>> #include "Hbgtinfo.ch"
>>>
>>>
>>> FUNCTION MAIN()
>>>
>>> ? LOCAL GetList := {}
>>>
>>> ? LOCAL cGet := SPACE( 30 )
>>>
>>> ? HB_GTINFO( HB_GTI_CLIPBOARDPAST )
>>>
>>> ? @ 10, 10 GET cGet
>>>
>>> ? READ
>>>
>>> ? RETURN NIL
>>>
>>> What am I missing? I already tried with xHarbour and reported this to the
>>> xHarbour developers mailing-list.
>>>
>>> EMG
>>>
>>> --
>>> EMAG Software Homepage: ? ? http://www.emagsoftware.it
>>> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
>>> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
>>> The EMG Music page: ? ? ? ? http://www.emagsoftware.it/emgmusic
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour


From mbelgrano at deltain.it  Fri Oct 23 12:47:19 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Oct 23 12:47:26 2009
Subject: [?? Probable Spam] [Harbour] Paste from clipboard
In-Reply-To: <177172915189.20091023183331@wssk.wroc.pl>
References: <EFC82435EA054495B30A010C659A300B@emag>
	<4AE1B1E9.5090505@ec-red.com>
	<609353e70910230715s78d9dbfem3a2132ccd7673069@mail.gmail.com>
	<177172915189.20091023183331@wssk.wroc.pl>
Message-ID: <609353e70910230947t52f66057t64f3543d082cb2b0@mail.gmail.com>

I am  refering to
2009-10-23 13:27 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
 * harbour/src/rtl/hbgtcore.c
 * harbour/include/hbgtinfo.ch
   * renamed HB_GTI_CLIPBOARDPAST -> HB_GTI_CLIPBOARDPASTE


2009/10/23 Jacek Kubica <clipper@wssk.wroc.pl>:
> Hello Massimo,
>
> Friday, October 23, 2009, 4:15:16 PM, you wrote:
>
> MB> I can miss all but think
> MB> Start this sample with text in capture buffer
>
> MB> maj be that
> MB> HB_GTINFO( HB_GTI_CLIPBOARDPAST )
> MB> must be
> MB> HB_GTI_CLIPBOARDPASTE
>
> No! Take a look at hbgtinfo.ch
>
> #define HB_GTI_CLIPBOARDPAST ? ?16 ?/* Paste clipboard data into keyboard buffer */
>
> But my proposition for Enrico (if I good understand his needs) is:
>
> // -------------------------- smaple.prg ---------------------
> #include "Hbgtinfo.ch"
> FUNCTION MAIN()
> ? ?LOCAL GetList := {}
> ? ?LOCAL cGet
>
> ? ?//HB_GTINFO( HB_GTI_CLIPBOARDDATA,"Test" ) - set CLIPBOARD data to
> ? ?// test
>
> ? ?cGet := PADR(HB_GTINFO( HB_GTI_CLIPBOARDDATA),30)
> ? ?@ 10, 10 GET cGet
> ? ?READ
>
> ? ?RETURN NIL
> //------------------------------- EOF -----------------------
> ? ?Regards
>
> ? ?Jacek Kubica
>
>
>
> MB> 2009/10/23 Guillermo Varona Silup? <gvarona@ec-red.com>:
>>> How does Copy and Paste?
>>> Does it work in console mode?
>>> Some example.
>>> TIA
>>> BestRegards
>>> GVS
>>>
>>>
>>> Enrico Maria Giordano escribi?:
>>>>
>>>> Dear friends, the following sample seems to paste nothing in the GET:
>>>>
>>>> #include "Hbgtinfo.ch"
>>>>
>>>>
>>>> FUNCTION MAIN()
>>>>
>>>> ? LOCAL GetList := {}
>>>>
>>>> ? LOCAL cGet := SPACE( 30 )
>>>>
>>>> ? HB_GTINFO( HB_GTI_CLIPBOARDPAST )
>>>>
>>>> ? @ 10, 10 GET cGet
>>>>
>>>> ? READ
>>>>
>>>> ? RETURN NIL
>>>>
>>>> What am I missing? I already tried with xHarbour and reported this to the
>>>> xHarbour developers mailing-list.
>>>>
>>>> EMG
>>>>
>>>> --
>>>> EMAG Software Homepage: ? ? http://www.emagsoftware.it
>>>> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
>>>> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
>>>> The EMG Music page: ? ? ? ? http://www.emagsoftware.it/emgmusic
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Fri Oct 23 12:58:36 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Oct 23 12:58:47 2009
Subject: [?? Probable Spam] [Harbour] Paste from clipboard
In-Reply-To: <177172915189.20091023183331@wssk.wroc.pl>
References: <EFC82435EA054495B30A010C659A300B@emag>
	<4AE1B1E9.5090505@ec-red.com>
	<609353e70910230715s78d9dbfem3a2132ccd7673069@mail.gmail.com>
	<177172915189.20091023183331@wssk.wroc.pl>
Message-ID: <871A636D-D216-4A7D-9B46-3E05B1D2E1C6@syenar.hu>

> #define HB_GTI_CLIPBOARDPAST    16  /* Paste clipboard data into  
> keyboard buffer */

I don't think we should replicate such bad typos of xhb.

BTW, this whole feature isn't terribly useful (IOW: bloat)
as it can be replaced with two very simple function calls.
(hb_gtInfo() + hb_keyPut()). I use some transformation
between the two to filter out some unwanted chars.

Brgds,
Viktor


>
> But my proposition for Enrico (if I good understand his needs) is:
>
> // -------------------------- smaple.prg ---------------------
> #include "Hbgtinfo.ch"
> FUNCTION MAIN()
>    LOCAL GetList := {}
>    LOCAL cGet
>
>    //HB_GTINFO( HB_GTI_CLIPBOARDDATA,"Test" ) - set CLIPBOARD data to
>    // test
>
>    cGet := PADR(HB_GTINFO( HB_GTI_CLIPBOARDDATA),30)
>    @ 10, 10 GET cGet
>    READ
>
>    RETURN NIL
> //------------------------------- EOF -----------------------
>    Regards
>
>    Jacek Kubica
>
>
>
> MB> 2009/10/23 Guillermo Varona Silup? <gvarona@ec-red.com>:
>>> How does Copy and Paste?
>>> Does it work in console mode?
>>> Some example.
>>> TIA
>>> BestRegards
>>> GVS
>>>
>>>
>>> Enrico Maria Giordano escribi?:
>>>>
>>>> Dear friends, the following sample seems to paste nothing in the  
>>>> GET:
>>>>
>>>> #include "Hbgtinfo.ch"
>>>>
>>>>
>>>> FUNCTION MAIN()
>>>>
>>>>   LOCAL GetList := {}
>>>>
>>>>   LOCAL cGet := SPACE( 30 )
>>>>
>>>>   HB_GTINFO( HB_GTI_CLIPBOARDPAST )
>>>>
>>>>   @ 10, 10 GET cGet
>>>>
>>>>   READ
>>>>
>>>>   RETURN NIL
>>>>
>>>> What am I missing? I already tried with xHarbour and reported  
>>>> this to the
>>>> xHarbour developers mailing-list.
>>>>
>>>> EMG
>>>>
>>>> --
>>>> EMAG Software Homepage:     http://www.emagsoftware.it
>>>> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
>>>> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
>>>> The EMG Music page:         http://www.emagsoftware.it/emgmusic
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From e.m.giordano at emagsoftware.it  Fri Oct 23 13:00:16 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Oct 23 13:00:24 2009
Subject: [?? Probable Spam] [Harbour] Paste from clipboard
References: <EFC82435EA054495B30A010C659A300B@emag><4AE1B1E9.5090505@ec-red.com><609353e70910230715s78d9dbfem3a2132ccd7673069@mail.gmail.com>
	<177172915189.20091023183331@wssk.wroc.pl>
Message-ID: <A51EEC6678664CF6886D6A3EF24BB906@emag>


-----Messaggio Originale----- 
Da: "Jacek Kubica" <clipper@wssk.wroc.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 23 ottobre 2009 18.33
Oggetto: Re[2]: [?? Probable Spam] [Harbour] Paste from clipboard


> But my proposition for Enrico (if I good understand his needs) is:

Thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From m.lacecilia at gmail.com  Fri Oct 23 13:04:41 2009
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Fri Oct 23 13:04:47 2009
Subject: [Harbour] hbQT don't builds
Message-ID: <26030069.post@talk.nabble.com>


Hi Pritpal and all, after the last changes i obtain this error building the
hbQT libs.

gcc  -I. -I../../../../../include  -Wall -W -O3 -fomit-frame-pointer
-march=i586
 -mtune=pentiumpro  -Ic:\qt\qt\include -Ic:\qt\qt\include/Qt
-Ic:\qt\qt\include/
QtCore -Ic:\qt\qt\include/QtGui -Ic:\qt\qt\include/QtNetwork
-Ic:\qt\qt\include/
QtWebKit  -ohbqt_destruct.o -c ../../../hbqt_destruct.cpp
../../../hbqt_destruct.cpp: In function `void* hbqt_gcpointer(int)':
../../../hbqt_destruct.cpp:101: error: cannot convert `void (*)(void*)' to
`cons
t HB_GC_FUNCS*' for argument `1' to `void* hb_parptrGC(const HB_GC_FUNCS*,
int)'

../../../hbqt_destruct.cpp: In function `void* hbqt_ptrTOgcpointer(void*,
void (
*)(void*))':
../../../hbqt_destruct.cpp:115: error: `hb_gcAlloc' was not declared in this
sco
pe
../../../hbqt_destruct.cpp:115: warning: unused variable 'hb_gcAlloc'
../../../hbqt_destruct.cpp: At global scope:
../../../hbqt_destruct.cpp:122: warning: unused parameter 'name'
win-make[3]: *** [hbqt_destruct.o] Error 1
win-make[2]: *** [descend] Error 2
win-make[1]: *** [hbqt.inst] Error 2
win-make: *** [contrib.inst] Error 2

Obviously, i use the MinGW compiler in a XP environment.
The command given is: win-make clean install
Best regards.
Maurizio la Cecilia
-- 
View this message in context: http://www.nabble.com/hbQT-don%27t-builds-tp26030069p26030069.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From carozodequilmes at gmail.com  Fri Oct 23 14:16:55 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Fri Oct 23 14:17:01 2009
Subject: [Harbour] hbqt error ~~~~~~~~~~~~
Message-ID: <578c73340910231116t4cade2efwb1e94d6b2fba19a5@mail.gmail.com>

Hi Pritpal

After clear and download the last SVN I get the followed error:

gcc  -I. -I../../../../../include  -Wall -W -O3 -fomit-frame-pointer
-march=i586 -mtune=pentiumpro  -ID:\qt\4.5.2\include
-ID:\qt\4.5.2\include/Qt -ID:\qt\4.5.2\include/QtCore
-ID:\qt\4.5.2\include/QtGui -ID:\qt\4.5.2\include/QtNetwork
-ID:\qt\4.5.2\include/QtWebKit  -ohbqt_destruct.o -c
../../../hbqt_destruct.cpp
../../../hbqt_destruct.cpp: In function 'void* hbqt_gcpointer(int)':
../../../hbqt_destruct.cpp:101: error: cannot convert 'void (*)(void*)' to
'const HB_GC_FUNCS*' for argument '1' to 'void* hb_parptrGC(const
HB_GC_FUNCS*, int)'
../../../hbqt_destruct.cpp: In function 'void* hbqt_ptrTOgcpointer(void*,
void (*)(void*))':
../../../hbqt_destruct.cpp:115: error: 'hb_gcAlloc' was not declared in this
scope
../../../hbqt_destruct.cpp: At global scope:
../../../hbqt_destruct.cpp:121: warning: unused parameter 'name'
mingw32-make[3]: *** [hbqt_destruct.o] Error 1
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [hbqt.inst] Error 2
mingw32-make: *** [contrib.inst] Error 2

Thanks in advance
CdQ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091023/d6ec44b5/attachment.html
From druzus at users.sourceforge.net  Fri Oct 23 15:01:52 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Oct 23 15:02:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12765] trunk/harbour
Message-ID: <E1N1POa-0005tR-Q9@74yxhf1.ch3.sourceforge.com>

Revision: 12765
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12765&view=rev
Author:   druzus
Date:     2009-10-23 19:01:51 +0000 (Fri, 23 Oct 2009)

Log Message:
-----------
2009-10-23 21:01 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/hbbffnc.c
    + added support for 3-rd parameter <lRaw> in hb_blowfishEncrypt() and
      hb_blowfishDecrypt() functions. It disables ANSI X.923 padding but
      encode passed string in 8bytes blocks. If last block in string is
      smaller then it's padded to 8 bytes using chr(0) and information
      about original string size is not attached to encrypted data.
      During decoding only strings which are well padded (N*8 bytes) are
      accepted and <lRaw> := .T. disables restoring original string size
      encoded in encrypted string using ANSI X.923 standard so the size
      of decrypted string is the same as original one.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/hbbffnc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Fri Oct 23 16:18:45 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Oct 23 16:18:54 2009
Subject: [Harbour] hbqt error ~~~~~~~~~~~~
In-Reply-To: <578c73340910231116t4cade2efwb1e94d6b2fba19a5@mail.gmail.com>
References: <578c73340910231116t4cade2efwb1e94d6b2fba19a5@mail.gmail.com>
Message-ID: <26032666.post@talk.nabble.com>


Hi


CarozoDeQuilmes wrote:
> 
> After clear and download the last SVN I get the followed error:
> 
> gcc  -I. -I../../../../../include  -Wall -W -O3 -fomit-frame-pointer
> -march=i586 -mtune=pentiumpro  -ID:\qt\4.5.2\include
> -ID:\qt\4.5.2\include/Qt -ID:\qt\4.5.2\include/QtCore
> -ID:\qt\4.5.2\include/QtGui -ID:\qt\4.5.2\include/QtNetwork
> -ID:\qt\4.5.2\include/QtWebKit  -ohbqt_destruct.o -c
> ../../../hbqt_destruct.cpp
> ../../../hbqt_destruct.cpp: In function 'void* hbqt_gcpointer(int)':
> 

Yep. It is due to the changes in GC structures recently, see the change
logs.
I am trying to fix it. 

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/hbqt-error-%7E%7E%7E%7E%7E%7E%7E%7E%7E%7E%7E%7E-tp26031015p26032666.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Fri Oct 23 17:03:44 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Oct 23 17:03:50 2009
Subject: [Harbour] HBQT - Nearly lost how to implement new GC
Message-ID: <26033190.post@talk.nabble.com>


Hello Przemek

I am almost lost how to implement new GC structures
under dynamic scenario of HBQT. Can you guide in this direction?

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/HBQT---Nearly-lost-how-to-implement-new-GC-tp26033190p26033190.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Fri Oct 23 19:48:48 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Oct 23 19:48:55 2009
Subject: [Harbour] HBQT - Nearly lost how to implement new GC
In-Reply-To: <26033190.post@talk.nabble.com>
References: <26033190.post@talk.nabble.com>
Message-ID: <20091023234848.GA8379@34-mo7-2.home.aster.pl>

On Fri, 23 Oct 2009, Pritpal Bedi wrote:

Hi,

> I am almost lost how to implement new GC structures
> under dynamic scenario of HBQT.

Just like me looking at hbqt code ;-)

> Can you guide in this direction?

I do not understand current hbqt code. It looks that it has three
different versions of code to manage pointers to objects and only
one is active. I'm afraid that it's hard for me to make any
modifications in this code so I updated code for one of QT class
(QPageSetupDialog). It's below.

Please note that release_QPageSetupDialog and s_gcQPageSetupDialog
are statics and only hbqt_par_QPageSetupDialog() is a public function
not a macro which returns pointer to QPageSetupDialog. Such version
gives very good encapsulation so you do not have to use any casting
which may hide very serious bugs and you do not have to worry that
pointer to different object is used by mistake. Inside GC block
QPointer< QPageSetupDialog > is stored so it will be automatically
cleared if object is released by other code.

I also suggest to define .prg classes in a little bit different way
which will be more efficient. In fact in Harbour and xHarbour INLINE
messages are two times slower then normal messages because they need
indirect EVAL() call. Anyhow it's a minor problem which can be easy
done later when the base version will work as expected.

best regards,
Przemek



/*** QPageSetupDialog.cpp ***/

[...]

static HB_GARBAGE_FUNC( release_QPageSetupDialog )
{
   QPointer< QPageSetupDialog > * pObj = ( QPointer< QPageSetupDialog > * ) Cargo;
   QPageSetupDialog * obj = * pObj;

   if( obj )
   {
      *pObj = NULL;
      delete obj;
   }
}

static const HB_GC_FUNCS s_gcQPageSetupDialog =
{
   release_QPageSetupDialog,
   hb_gcDummyMark
};

QPageSetupDialog * hbqt_par_QPageSetupDialog( int iParam )
{
   QPointer< QPageSetupDialog > * pObj = ( QPointer< QPageSetupDialog > * )
                                 hb_parptrGC( &s_gcQPageSetupDialog, iParam );
   QPageSetupDialog * obj = * pObj;

   /* TODO: RT ERROR if obj is NULL */

   return obj;
}

HB_FUNC( QT_QPAGESETUPDIALOG )
{
   QPointer< QPageSetupDialog > * pObj = ( QPointer< QPageSetupDialog > * )
                     hb_gcAllocate( sizeof( QPointer< QPageSetupDialog > ),
                     &s_gcQPageSetupDialog );

   if( hb_pcount() >= 2 )
      *pObj = new QPageSetupDialog( hbqt_par_QPrinter( 1 ), hbqt_par_QWidget( 1 ) ) ;
   else
      *pObj = new QPageSetupDialog( hbqt_par_QWidget( 1 ) ) ;

   hb_retptrGC( pObj );
}

/*
 * virtual int exec ()
 */
HB_FUNC( QT_QPAGESETUPDIALOG_EXEC )
{
   QPageSetupDialog * obj = hbqt_par_QPageSetupDialog( 1 );

   if( obj )
      hb_retni( obj->exec() );
}

[...]
From bedipritpal at hotmail.com  Fri Oct 23 19:54:51 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Oct 23 19:54:57 2009
Subject: [Harbour] HBQT - Nearly lost how to implement new GC
In-Reply-To: <26033190.post@talk.nabble.com>
References: <26033190.post@talk.nabble.com>
Message-ID: <26034815.post@talk.nabble.com>


Hi

This is the code how object is created and GC applied.
This code compiles perfect but receive GPF at its first invocation.

//---------------------------------------//

HB_GARBAGE_FUNC( Q_release )
{
   QGC_POINTER * p = ( QGC_POINTER * ) Cargo;
   if( p && p->ph )
   {
      p->func( p->ph );
   }
}

const HB_GC_FUNCS QT_gcFuncs =
{
   Q_release,
   hb_gcDummyMark
};

HB_GC_FUNCS gcFuncs( void )
{
   return QT_gcFuncs;
}

void * hbqt_gcpointer( int iParam )
{
   HB_GC_FUNCS qt_gcFuncs = gcFuncs();
   QGC_POINTER * p = ( QGC_POINTER * ) hb_parptrGC( &qt_gcFuncs, iParam );

   ///////////////////      I cannot reach past this point   ///////////////

   if( p && p->ph )
   {
      return p->ph;
   }
   else
   {
      return hb_parptr( iParam );
   }
}

//--------------------------------------------------//

QT_G_FUNC( release_QMainWindow )
{
   void * ph = ( void * ) Cargo;
   if( ph )
   {
      const QMetaObject * m = ( ( QObject * ) ph )->metaObject();
      if( ( QString ) m->className() != ( QString ) "QObject" )
      {
         delete ( ( QMainWindow * ) ph );
         ph = NULL;
      }
   }
}

HB_FUNC( QT_QMAINWINDOW )
{
   HB_GC_FUNCS qt_gcFuncs = gcFuncs();

   QGC_POINTER * p = ( QGC_POINTER * ) hb_gcAllocate( sizeof( QGC_POINTER ),
&qt_gcFuncs );

   QPointer< QMainWindow > pObj = NULL;
   if( hb_pcount() == 1 && HB_ISPOINTER( 1 ) )
   {
      pObj = new QMainWindow( hbqt_par_QWidget( 1 ), ( Qt::WindowFlags )
hb_parni( 2 ) ) ;
   }
   else
   {
      pObj = new QMainWindow();
   }
   p->ph = pObj;
   p->func = release_QMainWindow;

   hb_retptrGC( p );
}

//------------------------------------------------//

Where is the error ?

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/HBQT---Nearly-lost-how-to-implement-new-GC-tp26033190p26034815.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Fri Oct 23 20:35:27 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Oct 23 20:35:34 2009
Subject: [Harbour] HBQT - Nearly lost how to implement new GC
In-Reply-To: <26034815.post@talk.nabble.com>
References: <26033190.post@talk.nabble.com>
 <26034815.post@talk.nabble.com>
Message-ID: <20091024003527.GA8909@34-mo7-2.home.aster.pl>

On Fri, 23 Oct 2009, Pritpal Bedi wrote:

Hi,

> This is the code how object is created and GC applied.
> This code compiles perfect but receive GPF at its first invocation.

It's expected behavior. You are storing pointer to temporaryGC table
located on C stacks which is overload immediately by other functions
calls.

> //---------------------------------------//
> HB_GARBAGE_FUNC( Q_release )
> {
>    QGC_POINTER * p = ( QGC_POINTER * ) Cargo;
>    if( p && p->ph )
>    {
>       p->func( p->ph );
>    }
> }
> 
> const HB_GC_FUNCS QT_gcFuncs =
> {
>    Q_release,
>    hb_gcDummyMark
> };
> 
> HB_GC_FUNCS gcFuncs( void )
> {
>    return QT_gcFuncs;
> }

Should be:

   const HB_GC_FUNCS * gcFuncs( void ) { return &QT_gcFuncs; }

> void * hbqt_gcpointer( int iParam )
> {
>    HB_GC_FUNCS qt_gcFuncs = gcFuncs();
>    QGC_POINTER * p = ( QGC_POINTER * ) hb_parptrGC( &qt_gcFuncs, iParam );

Should be:

   void * hbqt_gcpointer( int iParam )
   {
      QGC_POINTER * p = ( QGC_POINTER * ) hb_parptrGC( gcFuncs(), iParam );


>    ///////////////////      I cannot reach past this point   ///////////////
>    if( p && p->ph )
>    {
>       return p->ph;
>    }
>    else
>    {
>       return hb_parptr( iParam );

This line is a bug which makes all other code unusable, i.e. it fully
breaks QPointer<> class functionality.

>    }
> }
> 
> //--------------------------------------------------//
> 
> QT_G_FUNC( release_QMainWindow )
> {
>    void * ph = ( void * ) Cargo;
>    if( ph )
>    {
>       const QMetaObject * m = ( ( QObject * ) ph )->metaObject();
>       if( ( QString ) m->className() != ( QString ) "QObject" )

This condition is something what I do not understand at all.
If some other code is buggy and can activate this destructor for
wrong objects then such code should be fixed instead of adding
workarounds for bugs.

>       {
>          delete ( ( QMainWindow * ) ph );
>          ph = NULL;
>       }
>    }
> }
> Where is the error ?

See above. Few things can cause GPF in such code though probably
gcFuncs() usage was the 1-st reason.
I strongly suggest to encapsulate all classes in separate files
with separate destructors without and tricks with explicit casting
and with public functions to retrieve object pointers from HVM items
and/or parameters.

best regards,
Przemek
From bedipritpal at hotmail.com  Fri Oct 23 20:37:55 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Oct 23 20:38:04 2009
Subject: [Harbour] HBQT - Nearly lost how to implement new GC
In-Reply-To: <20091023234848.GA8379@34-mo7-2.home.aster.pl>
References: <26033190.post@talk.nabble.com>
	<20091023234848.GA8379@34-mo7-2.home.aster.pl>
Message-ID: <26035057.post@talk.nabble.com>


Hello Przemek


Przemys?aw Czerpak wrote:
> 
> Just like me looking at hbqt code ;-)
> 

Yep. And this is the weired part. But it is. 
And probably cannot be avoided, though I could be wrong.



> I do not understand current hbqt code. It looks that it has three
> different versions of code to manage pointers to objects and only
> one is active. 
> 

This is because of the inherent nature of Qt objects.
Some are direct descendants of QObject some are pure memory 
objects. Some others are pure virtual and yet some others 
do not allow destructions. Also some more variations I do not remember 
well now.



> I'm afraid that it's hard for me to make any
> modifications in this code so I updated code for one of QT class
> (QPageSetupDialog). It's below.
> 

Thanks for taking such pain. This code has provided some valuable
hints to shape up the generator once again.



> Please note that release_QPageSetupDialog and s_gcQPageSetupDialog
> are statics and only hbqt_par_QPageSetupDialog() is a public function
> not a macro which returns pointer to QPageSetupDialog. Such version
> gives very good encapsulation so you do not have to use any casting
> which may hide very serious bugs and you do not have to worry that
> pointer to different object is used by mistake. Inside GC block
> QPointer< QPageSetupDialog > is stored so it will be automatically
> cleared if object is released by other code.
> 

And here is the iceberg.

If a class contains all the methods it is implementing then this 
code will definitely work excellent. But what if the call is inheriting
from other which in turn again inheriting from one more, and 
a method is called from parent two levels up. The same 
pointer is passed along the class hirarchy which is typecasted 
to parent class's pointer.

For example:

Class QWidget
   method new()
   method show()  INLINE Qt_QWidget_show( ::pPtr )

QWidget.cpp
//
HB_FUNC( QT_QWIDGET_SHOW )
{
   hbqt_par_QWidget( 1 )->show();
}


Class QMainWindow From QWidget
   Method new()
   Method some()

oWnd := QMainWindow():new()
oWnd:show()  

The method show() will be called from class QWidget where ::pPtr 
is passed along to parent class which is typecasted to hbqt_par_QWidget()
from hbqt_par_QMainWindow(). How to handle this situation ?
In previous GC scenario, your tip to have a structure with "type" field
which I changed to function pointer and the solution worked very well.
I am afraid one-to-one access of pointers is not going to 
help in HBQT, though I am sure you can find a better solution.



> I also suggest to define .prg classes in a little bit different way
> which will be more efficient. In fact in Harbour and xHarbour INLINE
> messages are two times slower then normal messages because they need
> indirect EVAL() call. Anyhow it's a minor problem which can be easy
> done later when the base version will work as expected.
> 

This may need only a couple of hours to implement so can be 
left for the later time. Thnaks to show why this code can be slow.

Regards
Pritpal Bedi

/*** QPageSetupDialog.cpp ***/

[...]

static HB_GARBAGE_FUNC( release_QPageSetupDialog )
{
   QPointer< QPageSetupDialog > * pObj = ( QPointer< QPageSetupDialog > * )
Cargo;
   QPageSetupDialog * obj = * pObj;

   if( obj )
   {
      *pObj = NULL;
      delete obj;
   }
}

static const HB_GC_FUNCS s_gcQPageSetupDialog =
{
   release_QPageSetupDialog,
   hb_gcDummyMark
};

QPageSetupDialog * hbqt_par_QPageSetupDialog( int iParam )
{
   QPointer< QPageSetupDialog > * pObj = ( QPointer< QPageSetupDialog > * )
                                 hb_parptrGC( &s_gcQPageSetupDialog, iParam
);
   QPageSetupDialog * obj = * pObj;

   /* TODO: RT ERROR if obj is NULL */

   return obj;
}

HB_FUNC( QT_QPAGESETUPDIALOG )
{
   QPointer< QPageSetupDialog > * pObj = ( QPointer< QPageSetupDialog > * )
                     hb_gcAllocate( sizeof( QPointer< QPageSetupDialog > ),
                     &s_gcQPageSetupDialog );

   if( hb_pcount() >= 2 )
      *pObj = new QPageSetupDialog( hbqt_par_QPrinter( 1 ),
hbqt_par_QWidget( 1 ) ) ;
   else
      *pObj = new QPageSetupDialog( hbqt_par_QWidget( 1 ) ) ;

   hb_retptrGC( pObj );
}

/*
 * virtual int exec ()
 */
HB_FUNC( QT_QPAGESETUPDIALOG_EXEC )
{
   QPageSetupDialog * obj = hbqt_par_QPageSetupDialog( 1 );

   if( obj )
      hb_retni( obj->exec() );
}

[...]
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



-- 
View this message in context: http://www.nabble.com/HBQT---Nearly-lost-how-to-implement-new-GC-tp26033190p26035057.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Fri Oct 23 21:16:53 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Oct 23 21:16:59 2009
Subject: [Harbour] HBQT - Nearly lost how to implement new GC
In-Reply-To: <20091024003527.GA8909@34-mo7-2.home.aster.pl>
References: <26033190.post@talk.nabble.com> <26034815.post@talk.nabble.com>
	<20091024003527.GA8909@34-mo7-2.home.aster.pl>
Message-ID: <26035324.post@talk.nabble.com>


Hello Przemek


Przemys?aw Czerpak wrote:
> 
>> HB_GC_FUNCS gcFuncs( void )
>> {
>>    return QT_gcFuncs;
>> }
> 
> Should be:
> 
>    const HB_GC_FUNCS * gcFuncs( void ) { return &QT_gcFuncs; }
> 
>> void * hbqt_gcpointer( int iParam )
>> {
>>    HB_GC_FUNCS qt_gcFuncs = gcFuncs();
>>    QGC_POINTER * p = ( QGC_POINTER * ) hb_parptrGC( &qt_gcFuncs, iParam
>> );
> 
> Should be:
> 
>    void * hbqt_gcpointer( int iParam )
>    {
>       QGC_POINTER * p = ( QGC_POINTER * ) hb_parptrGC( gcFuncs(), iParam
> );
> 
> 

Thanks you. 
Just see how poor I am in C.
It works. I will explain the other parts later.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HBQT---Nearly-lost-how-to-implement-new-GC-tp26033190p26035324.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vouchcac at users.sourceforge.net  Fri Oct 23 21:24:40 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Oct 23 21:24:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12766] trunk/harbour
Message-ID: <E1N1VN2-0005BS-CV@dn4whf1.ch3.sourceforge.com>

Revision: 12766
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12766&view=rev
Author:   vouchcac
Date:     2009-10-24 01:24:37 +0000 (Sat, 24 Oct 2009)

Log Message:
-----------
2009-10-23 18:18 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/generator/hbqtgen.prg

  * contrib/hbqt/hbqt.h
  * contrib/hbqt/hbqt_destruct.cpp

  * contrib/hbqt/qtcore/QBitArray.cpp
  * contrib/hbqt/qtcore/QByteArray.cpp
  * contrib/hbqt/qtcore/QDataStream.cpp
  * contrib/hbqt/qtcore/QDate.cpp
  * contrib/hbqt/qtcore/QDateTime.cpp
  * contrib/hbqt/qtcore/QDir.cpp
  * contrib/hbqt/qtcore/QEvent.cpp
  * contrib/hbqt/qtcore/QEventLoop.cpp
  * contrib/hbqt/qtcore/QFile.cpp
  * contrib/hbqt/qtcore/QFileInfo.cpp
  * contrib/hbqt/qtcore/QLatin1Char.cpp
  * contrib/hbqt/qtcore/QLatin1String.cpp
  * contrib/hbqt/qtcore/QLine.cpp
  * contrib/hbqt/qtcore/QLineF.cpp
  * contrib/hbqt/qtcore/QList.cpp
  * contrib/hbqt/qtcore/QLocale.cpp
  * contrib/hbqt/qtcore/QMimeData.cpp
  * contrib/hbqt/qtcore/QModelIndex.cpp
  * contrib/hbqt/qtcore/QObject.cpp
  * contrib/hbqt/qtcore/QPoint.cpp
  * contrib/hbqt/qtcore/QPointF.cpp
  * contrib/hbqt/qtcore/QProcess.cpp
  * contrib/hbqt/qtcore/QRect.cpp
  * contrib/hbqt/qtcore/QRectF.cpp
  * contrib/hbqt/qtcore/QRegExp.cpp
  * contrib/hbqt/qtcore/QResource.cpp
  * contrib/hbqt/qtcore/QSignalMapper.cpp
  * contrib/hbqt/qtcore/QSize.cpp
  * contrib/hbqt/qtcore/QSizeF.cpp
  * contrib/hbqt/qtcore/QStringList.cpp
  * contrib/hbqt/qtcore/QTextBoundaryFinder.cpp
  * contrib/hbqt/qtcore/QTextDecoder.cpp
  * contrib/hbqt/qtcore/QTextEncoder.cpp
  * contrib/hbqt/qtcore/QTextStream.cpp
  * contrib/hbqt/qtcore/QThread.cpp
  * contrib/hbqt/qtcore/QTime.cpp
  * contrib/hbqt/qtcore/QTimer.cpp
  * contrib/hbqt/qtcore/QTranslator.cpp
  * contrib/hbqt/qtcore/QUrl.cpp
  * contrib/hbqt/qtcore/QVariant.cpp
  * contrib/hbqt/qtgui/QAction.cpp
  * contrib/hbqt/qtgui/QActionGroup.cpp
  * contrib/hbqt/qtgui/QApplication.cpp
  * contrib/hbqt/qtgui/QBitmap.cpp
  * contrib/hbqt/qtgui/QBoxLayout.cpp
  * contrib/hbqt/qtgui/QBrush.cpp
  * contrib/hbqt/qtgui/QButtonGroup.cpp
  * contrib/hbqt/qtgui/QCalendarWidget.cpp
  * contrib/hbqt/qtgui/QCheckBox.cpp
  * contrib/hbqt/qtgui/QClipboard.cpp
  * contrib/hbqt/qtgui/QColor.cpp
  * contrib/hbqt/qtgui/QColorDialog.cpp
  * contrib/hbqt/qtgui/QComboBox.cpp
  * contrib/hbqt/qtgui/QCommandLinkButton.cpp
  * contrib/hbqt/qtgui/QCommonStyle.cpp
  * contrib/hbqt/qtgui/QCompleter.cpp
  * contrib/hbqt/qtgui/QConicalGradient.cpp
  * contrib/hbqt/qtgui/QContextMenuEvent.cpp
  * contrib/hbqt/qtgui/QCursor.cpp
  * contrib/hbqt/qtgui/QDateEdit.cpp
  * contrib/hbqt/qtgui/QDateTimeEdit.cpp
  * contrib/hbqt/qtgui/QDesktopWidget.cpp
  * contrib/hbqt/qtgui/QDial.cpp
  * contrib/hbqt/qtgui/QDialog.cpp
  * contrib/hbqt/qtgui/QDirModel.cpp
  * contrib/hbqt/qtgui/QDockWidget.cpp
  * contrib/hbqt/qtgui/QDoubleSpinBox.cpp
  * contrib/hbqt/qtgui/QErrorMessage.cpp
  * contrib/hbqt/qtgui/QFileDialog.cpp
  * contrib/hbqt/qtgui/QFileIconProvider.cpp
  * contrib/hbqt/qtgui/QFileSystemModel.cpp
  * contrib/hbqt/qtgui/QFocusFrame.cpp
  * contrib/hbqt/qtgui/QFont.cpp
  * contrib/hbqt/qtgui/QFontComboBox.cpp
  * contrib/hbqt/qtgui/QFontDatabase.cpp
  * contrib/hbqt/qtgui/QFontDialog.cpp
  * contrib/hbqt/qtgui/QFontInfo.cpp
  * contrib/hbqt/qtgui/QFontMetrics.cpp
  * contrib/hbqt/qtgui/QFontMetricsF.cpp
  * contrib/hbqt/qtgui/QFormLayout.cpp
  * contrib/hbqt/qtgui/QFrame.cpp
  * contrib/hbqt/qtgui/QGridLayout.cpp
  * contrib/hbqt/qtgui/QGroupBox.cpp
  * contrib/hbqt/qtgui/QHBoxLayout.cpp
  * contrib/hbqt/qtgui/QHeaderView.cpp
  * contrib/hbqt/qtgui/QIcon.cpp
  * contrib/hbqt/qtgui/QImage.cpp
  * contrib/hbqt/qtgui/QImageReader.cpp
  * contrib/hbqt/qtgui/QImageWriter.cpp
  * contrib/hbqt/qtgui/QInputDialog.cpp
  * contrib/hbqt/qtgui/QInputEvent.cpp
  * contrib/hbqt/qtgui/QInputMethodEvent.cpp
  * contrib/hbqt/qtgui/QItemSelection.cpp
  * contrib/hbqt/qtgui/QItemSelectionModel.cpp
  * contrib/hbqt/qtgui/QKeySequence.cpp
  * contrib/hbqt/qtgui/QLabel.cpp
  * contrib/hbqt/qtgui/QLCDNumber.cpp
  * contrib/hbqt/qtgui/QLinearGradient.cpp
  * contrib/hbqt/qtgui/QLineEdit.cpp
  * contrib/hbqt/qtgui/QListView.cpp
  * contrib/hbqt/qtgui/QListWidget.cpp
  * contrib/hbqt/qtgui/QListWidgetItem.cpp
  * contrib/hbqt/qtgui/QMainWindow.cpp
  * contrib/hbqt/qtgui/QMatrix.cpp
  * contrib/hbqt/qtgui/QMenu.cpp
  * contrib/hbqt/qtgui/QMenuBar.cpp
  * contrib/hbqt/qtgui/QMessageBox.cpp
  * contrib/hbqt/qtgui/QMouseEvent.cpp
  * contrib/hbqt/qtgui/QMovie.cpp
  * contrib/hbqt/qtgui/QPageSetupDialog.cpp
  * contrib/hbqt/qtgui/QPainter.cpp
  * contrib/hbqt/qtgui/QPainterPath.cpp
  * contrib/hbqt/qtgui/QPaintEvent.cpp
  * contrib/hbqt/qtgui/QPalette.cpp
  * contrib/hbqt/qtgui/QPen.cpp
  * contrib/hbqt/qtgui/QPicture.cpp
  * contrib/hbqt/qtgui/QPixmap.cpp
  * contrib/hbqt/qtgui/QPolygon.cpp
  * contrib/hbqt/qtgui/QPolygonF.cpp
  * contrib/hbqt/qtgui/QPrintDialog.cpp
  * contrib/hbqt/qtgui/QPrinter.cpp
  * contrib/hbqt/qtgui/QPrintPreviewDialog.cpp
  * contrib/hbqt/qtgui/QProgressBar.cpp
  * contrib/hbqt/qtgui/QProgressDialog.cpp
  * contrib/hbqt/qtgui/QPushButton.cpp
  * contrib/hbqt/qtgui/QRadialGradient.cpp
  * contrib/hbqt/qtgui/QRadioButton.cpp
  * contrib/hbqt/qtgui/QRegion.cpp
  * contrib/hbqt/qtgui/QScrollArea.cpp
  * contrib/hbqt/qtgui/QScrollBar.cpp
  * contrib/hbqt/qtgui/QSizeGrip.cpp
  * contrib/hbqt/qtgui/QSizePolicy.cpp
  * contrib/hbqt/qtgui/QSlider.cpp
  * contrib/hbqt/qtgui/QSound.cpp
  * contrib/hbqt/qtgui/QSpacerItem.cpp
  * contrib/hbqt/qtgui/QSpinBox.cpp
  * contrib/hbqt/qtgui/QSplashScreen.cpp
  * contrib/hbqt/qtgui/QSplitter.cpp
  * contrib/hbqt/qtgui/QStandardItem.cpp
  * contrib/hbqt/qtgui/QStandardItemModel.cpp
  * contrib/hbqt/qtgui/QStatusBar.cpp
  * contrib/hbqt/qtgui/QStringListModel.cpp
  * contrib/hbqt/qtgui/QStyledItemDelegate.cpp
  * contrib/hbqt/qtgui/QStyleFactory.cpp
  * contrib/hbqt/qtgui/QStyleOption.cpp
  * contrib/hbqt/qtgui/QStyleOptionButton.cpp
  * contrib/hbqt/qtgui/QStyleOptionComboBox.cpp
  * contrib/hbqt/qtgui/QStyleOptionComplex.cpp
  * contrib/hbqt/qtgui/QStyleOptionDockWidget.cpp
  * contrib/hbqt/qtgui/QStyleOptionFocusRect.cpp
  * contrib/hbqt/qtgui/QStyleOptionFrame.cpp
  * contrib/hbqt/qtgui/QStyleOptionGroupBox.cpp
  * contrib/hbqt/qtgui/QStyleOptionHeader.cpp
  * contrib/hbqt/qtgui/QStyleOptionMenuItem.cpp
  * contrib/hbqt/qtgui/QStyleOptionProgressBar.cpp
  * contrib/hbqt/qtgui/QStyleOptionSizeGrip.cpp
  * contrib/hbqt/qtgui/QStyleOptionSlider.cpp
  * contrib/hbqt/qtgui/QStyleOptionSpinBox.cpp
  * contrib/hbqt/qtgui/QStyleOptionTab.cpp
  * contrib/hbqt/qtgui/QStyleOptionTabBarBase.cpp
  * contrib/hbqt/qtgui/QStyleOptionTabWidgetFrame.cpp
  * contrib/hbqt/qtgui/QStyleOptionTitleBar.cpp
  * contrib/hbqt/qtgui/QStyleOptionToolBar.cpp
  * contrib/hbqt/qtgui/QStyleOptionToolBox.cpp
  * contrib/hbqt/qtgui/QStyleOptionToolButton.cpp
  * contrib/hbqt/qtgui/QStyleOptionViewItem.cpp
  * contrib/hbqt/qtgui/QStylePainter.cpp
  * contrib/hbqt/qtgui/QSystemTrayIcon.cpp
  * contrib/hbqt/qtgui/QTabBar.cpp
  * contrib/hbqt/qtgui/QTableView.cpp
  * contrib/hbqt/qtgui/QTableWidget.cpp
  * contrib/hbqt/qtgui/QTableWidgetItem.cpp
  * contrib/hbqt/qtgui/QTableWidgetSelectionRange.cpp
  * contrib/hbqt/qtgui/QTabWidget.cpp
  * contrib/hbqt/qtgui/QTextBlock.cpp
  * contrib/hbqt/qtgui/QTextBlockFormat.cpp
  * contrib/hbqt/qtgui/QTextBrowser.cpp
  * contrib/hbqt/qtgui/QTextCharFormat.cpp
  * contrib/hbqt/qtgui/QTextCursor.cpp
  * contrib/hbqt/qtgui/QTextDocument.cpp
  * contrib/hbqt/qtgui/QTextDocumentFragment.cpp
  * contrib/hbqt/qtgui/QTextDocumentWriter.cpp
  * contrib/hbqt/qtgui/QTextEdit.cpp
  * contrib/hbqt/qtgui/QTextFormat.cpp
  * contrib/hbqt/qtgui/QTextFragment.cpp
  * contrib/hbqt/qtgui/QTextFrame.cpp
  * contrib/hbqt/qtgui/QTextFrameFormat.cpp
  * contrib/hbqt/qtgui/QTextImageFormat.cpp
  * contrib/hbqt/qtgui/QTextItem.cpp
  * contrib/hbqt/qtgui/QTextLayout.cpp
  * contrib/hbqt/qtgui/QTextLength.cpp
  * contrib/hbqt/qtgui/QTextLine.cpp
  * contrib/hbqt/qtgui/QTextListFormat.cpp
  * contrib/hbqt/qtgui/QTextOption.cpp
  * contrib/hbqt/qtgui/QTextTableFormat.cpp
  * contrib/hbqt/qtgui/QTimeEdit.cpp
  * contrib/hbqt/qtgui/QToolBar.cpp
  * contrib/hbqt/qtgui/QToolBox.cpp
  * contrib/hbqt/qtgui/QToolButton.cpp
  * contrib/hbqt/qtgui/QTransform.cpp
  * contrib/hbqt/qtgui/QTreeView.cpp
  * contrib/hbqt/qtgui/QTreeWidget.cpp
  * contrib/hbqt/qtgui/QTreeWidgetItem.cpp
  * contrib/hbqt/qtgui/QVBoxLayout.cpp
  * contrib/hbqt/qtgui/QWidget.cpp
  * contrib/hbqt/qtgui/QWidgetAction.cpp
  * contrib/hbqt/qtgui/QWidgetItem.cpp
  * contrib/hbqt/qtgui/QWindowsStyle.cpp
  * contrib/hbqt/qtgui/QWindowsXPStyle.cpp
  * contrib/hbqt/qtgui/QWizard.cpp
  * contrib/hbqt/qtgui/QWizardPage.cpp
  * contrib/hbqt/qtnetwork/QFtp.cpp
  * contrib/hbqt/qtnetwork/QHttp.cpp
  * contrib/hbqt/qtnetwork/QHttpRequestHeader.cpp
  * contrib/hbqt/qtnetwork/QHttpResponseHeader.cpp
  * contrib/hbqt/qtnetwork/QNetworkRequest.cpp
  * contrib/hbqt/qtwebkit/QWebHistoryItem.cpp
  * contrib/hbqt/qtwebkit/QWebHitTestResult.cpp
  * contrib/hbqt/qtwebkit/QWebPage.cpp
  * contrib/hbqt/qtwebkit/QWebSecurityOrigin.cpp
  * contrib/hbqt/qtwebkit/QWebView.cpp
    
    ! Updated to recent GC upgrade plus more classes brought to the GC.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
    trunk/harbour/contrib/hbqt/qtcore/QBitArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QByteArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDataStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDate.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDateTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDir.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEvent.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEventLoop.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFile.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFileInfo.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1Char.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1String.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLine.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLineF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLocale.cpp
    trunk/harbour/contrib/hbqt/qtcore/QMimeData.cpp
    trunk/harbour/contrib/hbqt/qtcore/QModelIndex.cpp
    trunk/harbour/contrib/hbqt/qtcore/QObject.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPoint.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPointF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QProcess.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRect.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRectF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRegExp.cpp
    trunk/harbour/contrib/hbqt/qtcore/QResource.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSignalMapper.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSize.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSizeF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QStringList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextBoundaryFinder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextDecoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextEncoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QThread.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTimer.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTranslator.cpp
    trunk/harbour/contrib/hbqt/qtcore/QUrl.cpp
    trunk/harbour/contrib/hbqt/qtcore/QVariant.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QActionGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QApplication.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBitmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBrush.cpp
    trunk/harbour/contrib/hbqt/qtgui/QButtonGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCalendarWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCheckBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QClipboard.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColorDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommandLinkButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommonStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCompleter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QConicalGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QContextMenuEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDesktopWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDial.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDirModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDoubleSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QErrorMessage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileIconProvider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileSystemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFocusFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFont.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDatabase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontInfo.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetrics.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetricsF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFormLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGridLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHeaderView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageReader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputMethodEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelection.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelectionModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QKeySequence.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLCDNumber.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLabel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLineEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLinearGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMainWindow.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMatrix.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenu.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenuBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMessageBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMouseEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMovie.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPageSetupDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPaintEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainterPath.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPalette.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPicture.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPixmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygonF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintPreviewDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrinter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPushButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadialGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadioButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRegion.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollArea.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizePolicy.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSound.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpacerItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplashScreen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplitter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStatusBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStringListModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleFactory.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComplex.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFocusRect.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionHeader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionMenuItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTab.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabBarBase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabWidgetFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTitleBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionViewItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStylePainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyledItemDelegate.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSystemTrayIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetSelectionRange.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlock.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlockFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBrowser.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCharFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocument.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrameFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextImageFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLength.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLine.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextListFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextTableFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTransform.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QVBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWindowsStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWindowsXPStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizard.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizardPage.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QFtp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpRequestHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpResponseHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QNetworkRequest.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebHistoryItem.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebHitTestResult.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebPage.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebSecurityOrigin.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebView.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Oct 24 03:58:36 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Oct 24 03:58:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12767] trunk/harbour
Message-ID: <E1N1bWG-0000aj-0Y@74yxhf1.ch3.sourceforge.com>

Revision: 12767
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12767&view=rev
Author:   vouchcac
Date:     2009-10-24 07:58:32 +0000 (Sat, 24 Oct 2009)

Log Message:
-----------
2009-10-24 00:43 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/generator/hbqtgen.prg

  * contrib/hbqt/hbqt_slots.cpp

  * contrib/hbqt/qtcore/QAbstractItemModel.cpp
  * contrib/hbqt/qtcore/TQAbstractItemModel.prg
  * contrib/hbqt/qtcore/TQAbstractListModel.prg
  * contrib/hbqt/qtcore/TQAbstractTableModel.prg
  * contrib/hbqt/qtcore/TQBitArray.prg
  * contrib/hbqt/qtcore/TQByteArray.prg
  * contrib/hbqt/qtcore/TQCoreApplication.prg
  * contrib/hbqt/qtcore/TQDataStream.prg
  * contrib/hbqt/qtcore/TQDate.prg
  * contrib/hbqt/qtcore/TQDateTime.prg
  * contrib/hbqt/qtcore/TQDir.prg
  * contrib/hbqt/qtcore/TQEvent.prg
  * contrib/hbqt/qtcore/TQEventLoop.prg
  * contrib/hbqt/qtcore/TQFile.prg
  * contrib/hbqt/qtcore/TQFileInfo.prg
  * contrib/hbqt/qtcore/TQIODevice.prg
  * contrib/hbqt/qtcore/TQLatin1Char.prg
  * contrib/hbqt/qtcore/TQLatin1String.prg
  * contrib/hbqt/qtcore/TQLine.prg
  * contrib/hbqt/qtcore/TQLineF.prg
  * contrib/hbqt/qtcore/TQList.prg
  * contrib/hbqt/qtcore/TQLocale.prg
  * contrib/hbqt/qtcore/TQMimeData.prg
  * contrib/hbqt/qtcore/TQModelIndex.prg
  * contrib/hbqt/qtcore/TQObject.prg
  * contrib/hbqt/qtcore/TQPoint.prg
  * contrib/hbqt/qtcore/TQPointF.prg
  * contrib/hbqt/qtcore/TQProcess.prg
  * contrib/hbqt/qtcore/TQRect.prg
  * contrib/hbqt/qtcore/TQRectF.prg
  * contrib/hbqt/qtcore/TQRegExp.prg
  * contrib/hbqt/qtcore/TQResource.prg
  * contrib/hbqt/qtcore/TQSignalMapper.prg
  * contrib/hbqt/qtcore/TQSize.prg
  * contrib/hbqt/qtcore/TQSizeF.prg
  * contrib/hbqt/qtcore/TQStringList.prg
  * contrib/hbqt/qtcore/TQTextBoundaryFinder.prg
  * contrib/hbqt/qtcore/TQTextCodec.prg
  * contrib/hbqt/qtcore/TQTextDecoder.prg
  * contrib/hbqt/qtcore/TQTextEncoder.prg
  * contrib/hbqt/qtcore/TQTextStream.prg
  * contrib/hbqt/qtcore/TQThread.prg
  * contrib/hbqt/qtcore/TQTime.prg
  * contrib/hbqt/qtcore/TQTimer.prg
  * contrib/hbqt/qtcore/TQTranslator.prg
  * contrib/hbqt/qtcore/TQUrl.prg
  * contrib/hbqt/qtcore/TQVariant.prg

  * contrib/hbqt/qtgui/TQAbstractButton.prg
  * contrib/hbqt/qtgui/TQAbstractItemDelegate.prg
  * contrib/hbqt/qtgui/TQAbstractItemView.prg
  * contrib/hbqt/qtgui/TQAbstractPrintDialog.prg
  * contrib/hbqt/qtgui/TQAbstractProxyModel.prg
  * contrib/hbqt/qtgui/TQAbstractScrollArea.prg
  * contrib/hbqt/qtgui/TQAbstractSlider.prg
  * contrib/hbqt/qtgui/TQAbstractSpinBox.prg
  * contrib/hbqt/qtgui/TQAbstractTextDocumentLayout.prg
  * contrib/hbqt/qtgui/TQAction.prg
  * contrib/hbqt/qtgui/TQActionGroup.prg
  * contrib/hbqt/qtgui/TQApplication.prg
  * contrib/hbqt/qtgui/TQBitmap.prg
  * contrib/hbqt/qtgui/TQBoxLayout.prg
  * contrib/hbqt/qtgui/TQBrush.prg
  * contrib/hbqt/qtgui/TQButtonGroup.prg
  * contrib/hbqt/qtgui/TQCalendarWidget.prg
  * contrib/hbqt/qtgui/TQCheckBox.prg
  * contrib/hbqt/qtgui/TQClipboard.prg
  * contrib/hbqt/qtgui/TQColor.prg
  * contrib/hbqt/qtgui/TQColorDialog.prg
  * contrib/hbqt/qtgui/TQComboBox.prg
  * contrib/hbqt/qtgui/TQCommandLinkButton.prg
  * contrib/hbqt/qtgui/TQCommonStyle.prg
  * contrib/hbqt/qtgui/TQCompleter.prg
  * contrib/hbqt/qtgui/TQConicalGradient.prg
  * contrib/hbqt/qtgui/TQContextMenuEvent.prg
  * contrib/hbqt/qtgui/TQCursor.prg
  * contrib/hbqt/qtgui/TQDateEdit.prg
  * contrib/hbqt/qtgui/TQDateTimeEdit.prg
  * contrib/hbqt/qtgui/TQDesktopWidget.prg
  * contrib/hbqt/qtgui/TQDial.prg
  * contrib/hbqt/qtgui/TQDialog.prg
  * contrib/hbqt/qtgui/TQDirModel.prg
  * contrib/hbqt/qtgui/TQDockWidget.prg
  * contrib/hbqt/qtgui/TQDoubleSpinBox.prg
  * contrib/hbqt/qtgui/TQDragEnterEvent.prg
  * contrib/hbqt/qtgui/TQDragLeaveEvent.prg
  * contrib/hbqt/qtgui/TQDragMoveEvent.prg
  * contrib/hbqt/qtgui/TQDropEvent.prg
  * contrib/hbqt/qtgui/TQErrorMessage.prg
  * contrib/hbqt/qtgui/TQFileDialog.prg
  * contrib/hbqt/qtgui/TQFileIconProvider.prg
  * contrib/hbqt/qtgui/TQFileSystemModel.prg
  * contrib/hbqt/qtgui/TQFocusEvent.prg
  * contrib/hbqt/qtgui/TQFocusFrame.prg
  * contrib/hbqt/qtgui/TQFont.prg
  * contrib/hbqt/qtgui/TQFontComboBox.prg
  * contrib/hbqt/qtgui/TQFontDatabase.prg
  * contrib/hbqt/qtgui/TQFontDialog.prg
  * contrib/hbqt/qtgui/TQFontInfo.prg
  * contrib/hbqt/qtgui/TQFontMetrics.prg
  * contrib/hbqt/qtgui/TQFontMetricsF.prg
  * contrib/hbqt/qtgui/TQFormLayout.prg
  * contrib/hbqt/qtgui/TQFrame.prg
  * contrib/hbqt/qtgui/TQGradient.prg
  * contrib/hbqt/qtgui/TQGridLayout.prg
  * contrib/hbqt/qtgui/TQGroupBox.prg
  * contrib/hbqt/qtgui/TQHBoxLayout.prg
  * contrib/hbqt/qtgui/TQHeaderView.prg
  * contrib/hbqt/qtgui/TQHelpEvent.prg
  * contrib/hbqt/qtgui/TQIcon.prg
  * contrib/hbqt/qtgui/TQImage.prg
  * contrib/hbqt/qtgui/TQImageReader.prg
  * contrib/hbqt/qtgui/TQImageWriter.prg
  * contrib/hbqt/qtgui/TQInputContext.prg
  * contrib/hbqt/qtgui/TQInputDialog.prg
  * contrib/hbqt/qtgui/TQInputEvent.prg
  * contrib/hbqt/qtgui/TQInputMethodEvent.prg
  * contrib/hbqt/qtgui/TQItemSelection.prg
  * contrib/hbqt/qtgui/TQItemSelectionModel.prg
  * contrib/hbqt/qtgui/TQKeyEvent.prg
  * contrib/hbqt/qtgui/TQKeySequence.prg
  * contrib/hbqt/qtgui/TQLabel.prg
  * contrib/hbqt/qtgui/TQLayout.prg
  * contrib/hbqt/qtgui/TQLayoutItem.prg
  * contrib/hbqt/qtgui/TQLCDNumber.prg
  * contrib/hbqt/qtgui/TQLinearGradient.prg
  * contrib/hbqt/qtgui/TQLineEdit.prg
  * contrib/hbqt/qtgui/TQListView.prg
  * contrib/hbqt/qtgui/TQListWidget.prg
  * contrib/hbqt/qtgui/TQListWidgetItem.prg
  * contrib/hbqt/qtgui/TQMainWindow.prg
  * contrib/hbqt/qtgui/TQMatrix.prg
  * contrib/hbqt/qtgui/TQMenu.prg
  * contrib/hbqt/qtgui/TQMenuBar.prg
  * contrib/hbqt/qtgui/TQMessageBox.prg
  * contrib/hbqt/qtgui/TQMouseEvent.prg
  * contrib/hbqt/qtgui/TQMoveEvent.prg
  * contrib/hbqt/qtgui/TQMovie.prg
  * contrib/hbqt/qtgui/TQPageSetupDialog.prg
  * contrib/hbqt/qtgui/TQPaintDevice.prg
  * contrib/hbqt/qtgui/TQPainter.prg
  * contrib/hbqt/qtgui/TQPainterPath.prg
  * contrib/hbqt/qtgui/TQPaintEvent.prg
  * contrib/hbqt/qtgui/TQPalette.prg
  * contrib/hbqt/qtgui/TQPen.prg
  * contrib/hbqt/qtgui/TQPicture.prg
  * contrib/hbqt/qtgui/TQPixmap.prg
  * contrib/hbqt/qtgui/TQPolygon.prg
  * contrib/hbqt/qtgui/TQPolygonF.prg
  * contrib/hbqt/qtgui/TQPrintDialog.prg
  * contrib/hbqt/qtgui/TQPrintEngine.prg
  * contrib/hbqt/qtgui/TQPrinter.prg
  * contrib/hbqt/qtgui/TQPrintPreviewDialog.prg
  * contrib/hbqt/qtgui/TQProgressBar.prg
  * contrib/hbqt/qtgui/TQProgressDialog.prg
  * contrib/hbqt/qtgui/TQPushButton.prg
  * contrib/hbqt/qtgui/TQRadialGradient.prg
  * contrib/hbqt/qtgui/TQRadioButton.prg
  * contrib/hbqt/qtgui/TQRegion.prg
  * contrib/hbqt/qtgui/TQResizeEvent.prg
  * contrib/hbqt/qtgui/TQScrollArea.prg
  * contrib/hbqt/qtgui/TQScrollBar.prg
  * contrib/hbqt/qtgui/TQSessionManager.prg
  * contrib/hbqt/qtgui/TQSizeGrip.prg
  * contrib/hbqt/qtgui/TQSizePolicy.prg
  * contrib/hbqt/qtgui/TQSlider.prg
  * contrib/hbqt/qtgui/TQSound.prg
  * contrib/hbqt/qtgui/TQSpacerItem.prg
  * contrib/hbqt/qtgui/TQSpinBox.prg
  * contrib/hbqt/qtgui/TQSplashScreen.prg
  * contrib/hbqt/qtgui/TQSplitter.prg
  * contrib/hbqt/qtgui/TQStandardItem.prg
  * contrib/hbqt/qtgui/TQStandardItemModel.prg
  * contrib/hbqt/qtgui/TQStatusBar.prg
  * contrib/hbqt/qtgui/TQStringListModel.prg
  * contrib/hbqt/qtgui/TQStyle.prg
  * contrib/hbqt/qtgui/TQStyledItemDelegate.prg
  * contrib/hbqt/qtgui/TQStyleFactory.prg
  * contrib/hbqt/qtgui/TQStyleHintReturn.prg
  * contrib/hbqt/qtgui/TQStyleHintReturnMask.prg
  * contrib/hbqt/qtgui/TQStyleHintReturnVariant.prg
  * contrib/hbqt/qtgui/TQStyleOption.prg
  * contrib/hbqt/qtgui/TQStyleOptionButton.prg
  * contrib/hbqt/qtgui/TQStyleOptionComboBox.prg
  * contrib/hbqt/qtgui/TQStyleOptionComplex.prg
  * contrib/hbqt/qtgui/TQStyleOptionDockWidget.prg
  * contrib/hbqt/qtgui/TQStyleOptionFocusRect.prg
  * contrib/hbqt/qtgui/TQStyleOptionFrame.prg
  * contrib/hbqt/qtgui/TQStyleOptionGroupBox.prg
  * contrib/hbqt/qtgui/TQStyleOptionHeader.prg
  * contrib/hbqt/qtgui/TQStyleOptionMenuItem.prg
  * contrib/hbqt/qtgui/TQStyleOptionProgressBar.prg
  * contrib/hbqt/qtgui/TQStyleOptionSizeGrip.prg
  * contrib/hbqt/qtgui/TQStyleOptionSlider.prg
  * contrib/hbqt/qtgui/TQStyleOptionSpinBox.prg
  * contrib/hbqt/qtgui/TQStyleOptionTab.prg
  * contrib/hbqt/qtgui/TQStyleOptionTabBarBase.prg
  * contrib/hbqt/qtgui/TQStyleOptionTabWidgetFrame.prg
  * contrib/hbqt/qtgui/TQStyleOptionTitleBar.prg
  * contrib/hbqt/qtgui/TQStyleOptionToolBar.prg
  * contrib/hbqt/qtgui/TQStyleOptionToolBox.prg
  * contrib/hbqt/qtgui/TQStyleOptionToolButton.prg
  * contrib/hbqt/qtgui/TQStyleOptionViewItem.prg
  * contrib/hbqt/qtgui/TQStylePainter.prg
  * contrib/hbqt/qtgui/TQSystemTrayIcon.prg
  * contrib/hbqt/qtgui/TQTabBar.prg
  * contrib/hbqt/qtgui/TQTableView.prg
  * contrib/hbqt/qtgui/TQTableWidget.prg
  * contrib/hbqt/qtgui/TQTableWidgetItem.prg
  * contrib/hbqt/qtgui/TQTableWidgetSelectionRange.prg
  * contrib/hbqt/qtgui/TQTabWidget.prg
  * contrib/hbqt/qtgui/TQTextBlock.prg
  * contrib/hbqt/qtgui/TQTextBlockFormat.prg
  * contrib/hbqt/qtgui/TQTextBlockGroup.prg
  * contrib/hbqt/qtgui/TQTextBrowser.prg
  * contrib/hbqt/qtgui/TQTextCharFormat.prg
  * contrib/hbqt/qtgui/TQTextCursor.prg
  * contrib/hbqt/qtgui/TQTextDocument.prg
  * contrib/hbqt/qtgui/TQTextDocumentFragment.prg
  * contrib/hbqt/qtgui/TQTextDocumentWriter.prg
  * contrib/hbqt/qtgui/TQTextEdit.prg
  * contrib/hbqt/qtgui/TQTextFormat.prg
  * contrib/hbqt/qtgui/TQTextFragment.prg
  * contrib/hbqt/qtgui/TQTextFrame.prg
  * contrib/hbqt/qtgui/TQTextFrameFormat.prg
  * contrib/hbqt/qtgui/TQTextImageFormat.prg
  * contrib/hbqt/qtgui/TQTextInlineObject.prg
  * contrib/hbqt/qtgui/TQTextItem.prg
  * contrib/hbqt/qtgui/TQTextLayout.prg
  * contrib/hbqt/qtgui/TQTextLength.prg
  * contrib/hbqt/qtgui/TQTextLine.prg
  * contrib/hbqt/qtgui/TQTextListFormat.prg
  * contrib/hbqt/qtgui/TQTextObject.prg
  * contrib/hbqt/qtgui/TQTextOption.prg
  * contrib/hbqt/qtgui/TQTextTableFormat.prg
  * contrib/hbqt/qtgui/TQTimeEdit.prg
  * contrib/hbqt/qtgui/TQToolBar.prg
  * contrib/hbqt/qtgui/TQToolBox.prg
  * contrib/hbqt/qtgui/TQToolButton.prg
  * contrib/hbqt/qtgui/TQTransform.prg
  * contrib/hbqt/qtgui/TQTreeView.prg
  * contrib/hbqt/qtgui/TQTreeWidget.prg
  * contrib/hbqt/qtgui/TQTreeWidgetItem.prg
  * contrib/hbqt/qtgui/TQValidator.prg
  * contrib/hbqt/qtgui/TQVBoxLayout.prg
  * contrib/hbqt/qtgui/TQWheelEvent.prg
  * contrib/hbqt/qtgui/TQWidget.prg
  * contrib/hbqt/qtgui/TQWidgetAction.prg
  * contrib/hbqt/qtgui/TQWidgetItem.prg
  * contrib/hbqt/qtgui/TQWindowsStyle.prg
  * contrib/hbqt/qtgui/TQWindowsXPStyle.prg
  * contrib/hbqt/qtgui/TQWizard.prg
  * contrib/hbqt/qtgui/TQWizardPage.prg

  * contrib/hbqt/qth/QAbstractItemModel.qth

  * contrib/hbqt/qtnetwork/TQFtp.prg
  * contrib/hbqt/qtnetwork/TQHttp.prg
  * contrib/hbqt/qtnetwork/TQHttpRequestHeader.prg
  * contrib/hbqt/qtnetwork/TQHttpResponseHeader.prg
  * contrib/hbqt/qtnetwork/TQNetworkRequest.prg

  * contrib/hbqt/qtwebkit/TQWebFrame.prg
  * contrib/hbqt/qtwebkit/TQWebHistory.prg
  * contrib/hbqt/qtwebkit/TQWebHistoryInterface.prg
  * contrib/hbqt/qtwebkit/TQWebHistoryItem.prg
  * contrib/hbqt/qtwebkit/TQWebHitTestResult.prg
  * contrib/hbqt/qtwebkit/TQWebPage.prg
  * contrib/hbqt/qtwebkit/TQWebPluginFactory.prg
  * contrib/hbqt/qtwebkit/TQWebSecurityOrigin.prg
  * contrib/hbqt/qtwebkit/TQWebSettings.prg
  * contrib/hbqt/qtwebkit/TQWebView.prg

  * contrib/hbxbp/xbpappevent.prg
  * contrib/hbxbp/xbpbrowse.prg
  * contrib/hbxbp/xbpcombobox.prg
  * contrib/hbxbp/xbpdialog.prg
  * contrib/hbxbp/xbpgeneric.prg
  * contrib/hbxbp/xbprtf.prg
  * contrib/hbxbp/xbpsle.prg
  * contrib/hbxbp/xbpspinbutton.prg
  * contrib/hbxbp/xbpwindow.prg

  * contrib/hbxbp/tests/demoxbp.prg

    ! CLASS code : changed from INLINE to proper method call.
      As suggested by Przemek. The code will be significantly faster now.

    ! HBXBP : Tweaked to confirm to massive changes in HBQT.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/qtcore/QAbstractItemModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractItemModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractListModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractTableModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQBitArray.prg
    trunk/harbour/contrib/hbqt/qtcore/TQByteArray.prg
    trunk/harbour/contrib/hbqt/qtcore/TQCoreApplication.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDataStream.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDate.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDateTime.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDir.prg
    trunk/harbour/contrib/hbqt/qtcore/TQEvent.prg
    trunk/harbour/contrib/hbqt/qtcore/TQEventLoop.prg
    trunk/harbour/contrib/hbqt/qtcore/TQFile.prg
    trunk/harbour/contrib/hbqt/qtcore/TQFileInfo.prg
    trunk/harbour/contrib/hbqt/qtcore/TQIODevice.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLatin1Char.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLatin1String.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLine.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLineF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQList.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLocale.prg
    trunk/harbour/contrib/hbqt/qtcore/TQMimeData.prg
    trunk/harbour/contrib/hbqt/qtcore/TQModelIndex.prg
    trunk/harbour/contrib/hbqt/qtcore/TQObject.prg
    trunk/harbour/contrib/hbqt/qtcore/TQPoint.prg
    trunk/harbour/contrib/hbqt/qtcore/TQPointF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQProcess.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRect.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRectF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRegExp.prg
    trunk/harbour/contrib/hbqt/qtcore/TQResource.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSignalMapper.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSize.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSizeF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQStringList.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextBoundaryFinder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextCodec.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextDecoder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextEncoder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextStream.prg
    trunk/harbour/contrib/hbqt/qtcore/TQThread.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTime.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTimer.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTranslator.prg
    trunk/harbour/contrib/hbqt/qtcore/TQUrl.prg
    trunk/harbour/contrib/hbqt/qtcore/TQVariant.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractItemDelegate.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractItemView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractPrintDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractProxyModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractScrollArea.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractTextDocumentLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAction.prg
    trunk/harbour/contrib/hbqt/qtgui/TQActionGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQApplication.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBitmap.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBrush.prg
    trunk/harbour/contrib/hbqt/qtgui/TQButtonGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCalendarWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCheckBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQClipboard.prg
    trunk/harbour/contrib/hbqt/qtgui/TQColor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQColorDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCommandLinkButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCommonStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCompleter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQConicalGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQContextMenuEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCursor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDateEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDateTimeEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDesktopWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDial.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDirModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDockWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDoubleSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragEnterEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragLeaveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragMoveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDropEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQErrorMessage.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileIconProvider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileSystemModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFocusEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFocusFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFont.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontDatabase.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontInfo.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontMetrics.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontMetricsF.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFormLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGridLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGroupBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHeaderView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHelpEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQIcon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImage.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImageReader.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImageWriter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputContext.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputMethodEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQItemSelection.prg
    trunk/harbour/contrib/hbqt/qtgui/TQItemSelectionModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQKeyEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQKeySequence.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLCDNumber.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLabel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLayoutItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLineEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLinearGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMainWindow.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMatrix.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMenu.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMenuBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMessageBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMouseEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMoveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMovie.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPageSetupDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPaintDevice.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPaintEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPainter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPainterPath.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPalette.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPen.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPicture.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPixmap.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPolygon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPolygonF.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintEngine.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintPreviewDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrinter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQProgressBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQProgressDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPushButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRadialGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRadioButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRegion.prg
    trunk/harbour/contrib/hbqt/qtgui/TQResizeEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQScrollArea.prg
    trunk/harbour/contrib/hbqt/qtgui/TQScrollBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSessionManager.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSizeGrip.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSizePolicy.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSound.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSpacerItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSplashScreen.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSplitter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStandardItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStandardItemModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStatusBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStringListModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleFactory.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturn.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturnMask.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturnVariant.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOption.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionComplex.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionDockWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionFocusRect.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionGroupBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionHeader.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionMenuItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionProgressBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSizeGrip.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTab.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTabBarBase.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTabWidgetFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTitleBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionViewItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStylePainter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyledItemDelegate.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSystemTrayIcon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTabBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTabWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidgetSelectionRange.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlock.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlockFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlockGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBrowser.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextCharFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextCursor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocument.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocumentFragment.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocumentWriter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFragment.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFrameFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextImageFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextInlineObject.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLength.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLine.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextListFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextObject.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextOption.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextTableFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTimeEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTransform.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQVBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQValidator.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWheelEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidgetAction.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWindowsStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWindowsXPStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWizard.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWizardPage.prg
    trunk/harbour/contrib/hbqt/qth/QAbstractItemModel.qth
    trunk/harbour/contrib/hbqt/qtnetwork/TQFtp.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttp.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpRequestHeader.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpResponseHeader.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQNetworkRequest.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebFrame.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebHistory.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebHistoryInterface.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebHistoryItem.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebHitTestResult.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebPage.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebPluginFactory.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebSecurityOrigin.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebSettings.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebView.prg
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpappevent.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbpcombobox.prg
    trunk/harbour/contrib/hbxbp/xbpdialog.prg
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
    trunk/harbour/contrib/hbxbp/xbprtf.prg
    trunk/harbour/contrib/hbxbp/xbpsle.prg
    trunk/harbour/contrib/hbxbp/xbpspinbutton.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sat Oct 24 06:19:43 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Oct 24 06:19:49 2009
Subject: [Harbour] HBQT - Nearly lost how to implement new GC
In-Reply-To: <26035057.post@talk.nabble.com>
References: <26033190.post@talk.nabble.com>
	<20091023234848.GA8379@34-mo7-2.home.aster.pl>
	<26035057.post@talk.nabble.com>
Message-ID: <20091024101943.GA8321@34-mo7-2.home.aster.pl>

On Fri, 23 Oct 2009, Pritpal Bedi wrote:

Hi,

> If a class contains all the methods it is implementing then this 
> code will definitely work excellent. But what if the call is inheriting
> from other which in turn again inheriting from one more, and 
> a method is called from parent two levels up. The same 
> pointer is passed along the class hirarchy which is typecasted 
> to parent class's pointer.

Maybe you should think about introducing some support for references
chains updated automatically by child classes.
First time when object of given class is created it registers in parent
class alternative function to extract from parameter the object pointer
casted to parent class. Below is a code scheme which implements it.

best regards,
Przemek


   /* global declaration */
   typedef void * ( * QT_PARAM_FUNC ) ( int );
   typedef struct _QT_PARAM_INFO
   {
      QT_PARAM_FUNC            pFunc;
      struct _QT_PARAM_INFO  * pNext;
      BOOL                     fInited;
   } QT_PARAM_INFO;

   /* this function is part of QDialog wrapper */
   extern void qt_childregister_QDialog( QT_PARAM_INFO * paramInfo );


   /*** QPageSetupDialog.cpp ***/

   [...]

   static HB_GARBAGE_FUNC( release_QPageSetupDialog )
   {
      QPointer< QPageSetupDialog > * pObj =
                                 ( QPointer< QPageSetupDialog > * ) Cargo;
      QPageSetupDialog * obj = * pObj;

      if( obj )
      {
         *pObj = NULL;
         delete obj;
      }
   }

   static const HB_GC_FUNCS s_gcQPageSetupDialog =
   {
      release_QPageSetupDialog,
      hb_gcDummyMark
   };

   static QT_PARAM_INFO s_paramInfo;
   static QT_PARAM_INFO * s_paramList = NULL;

   /* public function use by descendant classes to register their
    * param functions
    */
   void qt_childregister_QPageSetupDialog( QT_PARAM_INFO * paramInfo )
   {
      if( !paramInfo->fInited )
      {
         /* TODO: add MT protection in fianl version */
         paramInfo->fInited = TRUE;
         paramInfo->pNext = s_paramList;
         s_paramList = paramInfo;
      }
   }

   /* public function which extracts pointer to QPageSetupDialog object
    * from given HVM parameter. This parameter may contain also any
    * descendant class which register its param function using
    * qt_childregister_QPageSetupDialog().
    */
   QPageSetupDialog * hbqt_par_QPageSetupDialog( int iParam )
   {
      QPointer< QPageSetupDialog > * pObj;
      QPageSetupDialog * obj = NULL;

      pObj = ( QPointer< QPageSetupDialog > * )
                                 hb_parptrGC( &s_gcQPageSetupDialog, iParam );
      if( pObj == NULL )
      {
         /* Not a QPageSetupDialog pointer item, check all registered
          * descendant classes
          */
         QT_PARAM_INFO * paramInfo = s_paramList;
         while( paramInfo )
         {
            pObj = ( QPointer< QPageSetupDialog > * )
                                                paramInfo->pFunc( iParam );
            if( pObj )
               break;
            paramInfo = paramInfo->pNext;
         }
      }

      if( pObj == NULL )
      {
         /* RT ERROR - wrong parameter */
      }
      else
      {
         obj = * pObj;
         if( obj == NULL )
         {
            /* RT ERROR - object deleted by other code */
         }
      }

      return obj;
   }

   QPointer< QPageSetupDialog > * qt_alloc_QPageSetupDialog( void )
   {
      QPointer< QPageSetupDialog > * pObj;

      if( !s_paramInfo.fInited )
      {
         /* First call - register in parent class our param function */
         s_paramInfo.pFunc = ( QT_PARAM_FUNC ) hbqt_par_QPageSetupDialog;
         qt_childregister_QDialog( &s_paramInfo );

         /* if class inherits directly from more then one classes
          * (multiinheritance) then for each parent class register
          * coresponding s_paramInfo<X> parameter
          */
      }

      pObj = ( QPointer< QPageSetupDialog > * )
                        hb_gcAllocate( sizeof( QPointer< QPageSetupDialog > ),
                                       &s_gcQPageSetupDialog );
      return pObj;
   }


   HB_FUNC( QT_QPAGESETUPDIALOG )
   {
      QPointer< QPageSetupDialog > * pObj = qt_alloc_QPageSetupDialog();

      if( hb_pcount() >= 2 )
         *pObj = new QPageSetupDialog( hbqt_par_QPrinter( 1 ),
                                       hbqt_par_QWidget( 1 ) );
      else
         *pObj = new QPageSetupDialog( hbqt_par_QWidget( 1 ) );

      hb_retptrGC( pObj );
   }

   HB_FUNC( QT_QPAGESETUPDIALOG_EXEC )
   {
      QPageSetupDialog * obj = hbqt_par_QPageSetupDialog( 1 );

      if( obj )
         hb_retni( obj->exec() );
   }

   [...]
From amigosam at adinet.com.uy  Sat Oct 24 09:31:24 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Sat Oct 24 09:31:28 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12767] trunk/harbour
In-Reply-To: <E1N1bWG-0000aj-0Y@74yxhf1.ch3.sourceforge.com>
References: <E1N1bWG-0000aj-0Y@74yxhf1.ch3.sourceforge.com>
Message-ID: <hbuvif$nkm$1@ger.gmane.org>

vouchcac@users.sourceforge.net escribi?:
> Revision: 12767
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12767&view=rev
> Author:   vouchcac
> Date:     2009-10-24 07:58:32 +0000 (Sat, 24 Oct 2009)
> 
> Log Message:
> -----------
...

>   * contrib/hbxbp/tests/demoxbp.prg
> 
>     ! CLASS code : changed from INLINE to proper method call.
>       As suggested by Przemek. The code will be significantly faster now.
> 
>     ! HBXBP : Tweaked to confirm to massive changes in HBQT.
> 


Confirmed !  Now browse navigation is fast and smooth.
Congratulations for the excelentent work !!!

You are becomming a c++ guru. (g)
When is your book (qt unleashed) comming ? (g)(g)

My best regards
Angel

From mbelgrano at deltain.it  Sat Oct 24 10:28:02 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Oct 24 10:28:29 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12767] trunk/harbour
In-Reply-To: <hbuvif$nkm$1@ger.gmane.org>
References: <E1N1bWG-0000aj-0Y@74yxhf1.ch3.sourceforge.com> 
	<hbuvif$nkm$1@ger.gmane.org>
Message-ID: <609353e70910240728i4a29ae7bgdf619f4c03e8bb5b@mail.gmail.com>

maj be also intresting a book about
Guideline for high quality c programm  for harbour
with last day consideration
now that are clear

Compliment for your result

2009/10/24 Angel Pais <amigosam@adinet.com.uy>:
> vouchcac@users.sourceforge.net escribi?:
>
> You are becomming a c++ guru. (g)
> When is your book (qt unleashed) comming ? (g)(g)
>
> My best regards
> Angel
>


-- 
Massimo Belgrano
From bedipritpal at hotmail.com  Sat Oct 24 17:54:47 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Oct 24 17:54:53 2009
Subject: [Harbour] HBQT - Nearly lost how to implement new GC
In-Reply-To: <20091024101943.GA8321@34-mo7-2.home.aster.pl>
References: <26033190.post@talk.nabble.com>
	<20091023234848.GA8379@34-mo7-2.home.aster.pl>
	<26035057.post@talk.nabble.com>
	<20091024101943.GA8321@34-mo7-2.home.aster.pl>
Message-ID: <26043426.post@talk.nabble.com>


Hello Przemek

Thanks fo this excellent code skeleton.

I tried to implement this protocol like this:


hbqt.h
=====

#include <QMainWIndow>

/* global declaration */
typedef void * ( * QT_PARAM_FUNC ) ( int );
typedef struct _QT_PARAM_INFO
{
   QT_PARAM_FUNC            pFunc;
   struct _QT_PARAM_INFO  * pNext;
   BOOL                     fInited;
} QT_PARAM_INFO;

extern QMainWindow * hbqt_par_QMainWindow( int iParam );
extern void qt_childregister_QMainWindow( QT_PARAM_INFO * paramInfo );
QWidget * hbqt_par_QWidget( int iParam );
extern void qt_childregister_QWidget( QT_PARAM_INFO * paramInfo );


QWidget.cpp
=========

   static HB_GARBAGE_FUNC( release_QWidget )
   {
      QPointer< QWidget > * pObj =
                                 ( QPointer< QWidget > * ) Cargo;
      QWidget * obj = * pObj;

      if( obj )
      {
         *pObj = NULL;
         delete obj;
      }
   }

/*----------------------------------------------------------------------*/

   static const HB_GC_FUNCS s_gcQWidget =
   {
      release_QWidget,
      hb_gcDummyMark
   };

   static QT_PARAM_INFO s_paramInfo;
   static QT_PARAM_INFO * s_paramList = NULL;

/*----------------------------------------------------------------------*/

   /* public function use by descendant classes to register their
    * param functions
    */
   void qt_childregister_QWidget( QT_PARAM_INFO * paramInfo )
   {
      if( !paramInfo->fInited )
      {
hb_snprintf( str, sizeof( str ), "void qt_childregister_QWidget" );
OutputDebugString( str );
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^   Executes 
         /* TODO: add MT protection in fianl version */
         paramInfo->fInited = TRUE;
         paramInfo->pNext = s_paramList;
         s_paramList = paramInfo;
      }
   }

/*----------------------------------------------------------------------*/

   /* public function which extracts pointer to QWidget object
    * from given HVM parameter. This parameter may contain also any
    * descendant class which register its param function using
    * qt_childregister_QWidget().
    */
   QWidget * hbqt_par_QWidget( int iParam )
   {
      QPointer< QWidget > * pObj;
      QWidget * obj = NULL;

      pObj = ( QPointer< QWidget > * ) hb_parptrGC( &s_gcQWidget, iParam );
      if( pObj == NULL )
      {
hb_snprintf( str, sizeof( str ), "QWidget * hbqt_par_QWidget() %i", iParam
); OutputDebugString( str );
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^  Executes fine 

         /* Not a QWidget pointer item, check all registered
          * descendant classes
          */
         QT_PARAM_INFO * paramInfo = s_paramList;
         while( paramInfo )
         {
            pObj = ( QPointer< QWidget > * ) paramInfo->pFunc( iParam );
            if( pObj )
               break;
            paramInfo = paramInfo->pNext;
         }
      }

hb_snprintf( str, sizeof( str ), "QWidget * hbqt_par_QWidget() %i", 2 );
OutputDebugString( str );
^^^^^^^^^^^^^^^^^^^^^^^^^  Executes fine

      if( pObj == NULL )
      {
hb_snprintf( str, sizeof( str ), "QWidget * hbqt_par_QWidget: pObj == NULL"
); OutputDebugString( str );
^^^^^^^^^^^^^^^^^^^^^  NEVER REACHED - fine 
         /* RT ERROR - wrong parameter */
      }
      else
      {
         obj = ( QWidget * ) * pObj;
         if( obj == NULL )
         {
hb_snprintf( str, sizeof( str ), "QWidget * hbqt_par_QWidget: obj == NULL"
); OutputDebugString( str );
^^^^^^^^^^^^^^^^^^^^^^^ NEVER Reached - fine
            /* RT ERROR - object deleted by other code */
         }
      }

      return obj;
   }

/*----------------------------------------------------------------------*/

   QPointer< QWidget > * qt_alloc_QWidget( void )
   {
      QPointer< QWidget > * pObj;

      if( !s_paramInfo.fInited )
      {
         /* First call - register in parent class our param function */
         //s_paramInfo.pFunc = ( QT_PARAM_FUNC ) hbqt_par_QObject;
         //qt_childregister_QObject( &s_paramInfo );
^^^^^^^^^^^^^^^^^^^^^^^^  Commented out as not implemented yet

         /* if class inherits directly from more then one classes
          * (multiinheritance) then for each parent class register
          * coresponding s_paramInfo<X> parameter
          */
      }

      pObj = ( QPointer< QWidget > * )
                        hb_gcAllocate( sizeof( QPointer< QWidget > ),
                                       &s_gcQWidget );
      return pObj;
   }

/*----------------------------------------------------------------------*/

   HB_FUNC( QT_QWIDGET )
   {
      QPointer< QWidget > * pObj = qt_alloc_QWidget();

      *pObj = new QWidget();

      hb_retptrGC( pObj );
   }

/*----------------------------------------------------------------------*/

HB_FUNC( QT_QWIDGET_SHOW )
{
hb_snprintf( str, sizeof( str ), "HB_FUNC( QT_QWIDGET_SHOW )   1" );
OutputDebugString( str );
^^^^^^^^^^^^^^^^^^^^^^^^^^^^  Executes - fine
   QWidget * obj = hbqt_par_QWidget( 1 );
   if( obj )
   {
hb_snprintf( str, sizeof( str ), "HB_FUNC( QT_QWIDGET_SHOW )   2  %p", obj
); OutputDebugString( str );
^^^^^^^^^^^^^^^^^^^^^^^^^   Executes - fine  obj pointer is visible in debug
window

      obj->show();    ///////////////              BOOMS  GPF          
/////////////////////

hb_snprintf( str, sizeof( str ), "HB_FUNC( QT_QWIDGET_SHOW )   3" );
OutputDebugString( str );
^^^^^^^^^^^^^^^^^^^^^^^^^  NEVER REACHED as GPF's at obj->show()
   }
}

/*----------------------------------------------------------------------*/


QMainWindow.cpp
=============

   static HB_GARBAGE_FUNC( release_QMainWindow )
   {
      QPointer< QMainWindow > * pObj =
                                 ( QPointer< QMainWindow > * ) Cargo;
      QMainWindow * obj = * pObj;

      if( obj )
      {
         *pObj = NULL;
         delete obj;
      }
   }

/*----------------------------------------------------------------------*/

   static const HB_GC_FUNCS s_gcQMainWindow =
   {
      release_QMainWindow,
      hb_gcDummyMark
   };

   static QT_PARAM_INFO s_paramInfo;
   static QT_PARAM_INFO * s_paramList = NULL;

/*----------------------------------------------------------------------*/

   /* public function use by descendant classes to register their
    * param functions
    */
   void qt_childregister_QMainWindow( QT_PARAM_INFO * paramInfo )
   {
      if( !paramInfo->fInited )
      {
         /* TODO: add MT protection in fianl version */
         paramInfo->fInited = TRUE;
         paramInfo->pNext = s_paramList;
         s_paramList = paramInfo;
      }
   }

/*----------------------------------------------------------------------*/

   /* public function which extracts pointer to QMainWindow object
    * from given HVM parameter. This parameter may contain also any
    * descendant class which register its param function using
    * qt_childregister_QMainWindow().
    */
   QMainWindow * hbqt_par_QMainWindow( int iParam )
   {
      QPointer< QMainWindow > * pObj;
      QMainWindow * obj = NULL;

      pObj = ( QPointer< QMainWindow > * )
                                 hb_parptrGC( &s_gcQMainWindow, iParam );
      if( pObj == NULL )
      {
         /* Not a QMainWindow pointer item, check all registered
          * descendant classes
          */
         QT_PARAM_INFO * paramInfo = s_paramList;
         while( paramInfo )
         {
            pObj = ( QPointer< QMainWindow > * )
                                                paramInfo->pFunc( iParam );
            if( pObj )
               break;
            paramInfo = paramInfo->pNext;
         }
      }

      if( pObj == NULL )
      {
         /* RT ERROR - wrong parameter */
      }
      else
      {
         obj = * pObj;
         if( obj == NULL )
         {
            /* RT ERROR - object deleted by other code */
         }
      }

      return obj;
   }

/*----------------------------------------------------------------------*/

   QPointer< QMainWindow > * qt_alloc_QMainWindow( void )
   {
      QPointer< QMainWindow > * pObj;

      if( !s_paramInfo.fInited )
      {
         /* First call - register in parent class our param function */
         s_paramInfo.pFunc = ( QT_PARAM_FUNC ) hbqt_par_QMainWindow;
         qt_childregister_QWidget( &s_paramInfo );

         /* if class inherits directly from more then one classes
          * (multiinheritance) then for each parent class register
          * coresponding s_paramInfo<X> parameter
          */
      }

      pObj = ( QPointer< QMainWindow > * )
                        hb_gcAllocate( sizeof( QPointer< QMainWindow > ),
                                       &s_gcQMainWindow );
      return pObj;
   }

/*----------------------------------------------------------------------*/

   HB_FUNC( QT_QMAINWINDOW )
   {
      QPointer< QMainWindow > * pObj = qt_alloc_QMainWindow();

      *pObj = new QMainWindow();

      hb_retptrGC( pObj );
   }

/*----------------------------------------------------------------------*/


hbqt.prg
======

Local oWnd

oWnd := QMainWindow():new()
oWnd:show()                           ( called from parent class QWidget )


SYNTHESIS
========

:new method return the correct object.
The whole process goes as intended and touches the 
designated functions but GPF's at execution time.
If I implement :show method and corresponding .cpp function,
it executes fine, I can see the window on the screen.

I think there is a small-small error in above implementation. Can you locate
?

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/HBQT---Nearly-lost-how-to-implement-new-GC-tp26033190p26043426.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From itamarlins at gmail.com  Sat Oct 24 18:51:36 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Sat Oct 24 18:52:12 2009
Subject: [Harbour] Error making hbqt
Message-ID: <hc00dq$cnr$1@ger.gmane.org>

Hi!

cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 
-EHs-c- -MT   -IC:\Qt\2009.04\qt\include -IC:\Qt\2009.04\qt\include/Qt 
-IC:\Qt\2009.04\qt\include/QtCore -IC:\Qt\2009.04\qt\include/QtGui 
-IC:\Qt\2009.04\qt\include/QtNetwork -IC:\Qt\2009.04\qt\include/QtWebKit 
-DUNICODE  -Fomoc_slots.obj -c ../../../moc_slots.cpp
moc_slots.cpp
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 
-EHs-c- -MT   -IC:\Qt\2009.04\qt\include -IC:\Qt\2009.04\qt\include/Qt 
-IC:\Qt\2009.04\qt\include/QtCore -IC:\Qt\2009.04\qt\include/QtGui 
-IC:\Qt\2009.04\qt\include/QtNetwork -IC:\Qt\2009.04\qt\include/QtWebKit 
-DUNICODE  -Fohbqt_base.obj -c ../../../hbqt_base.cpp
hbqt_base.cpp
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 
-EHs-c- -MT   -IC:\Qt\2009.04\qt\include -IC:\Qt\2009.04\qt\include/Qt 
-IC:\Qt\2009.04\qt\include/QtCore -IC:\Qt\2009.04\qt\include/QtGui 
-IC:\Qt\2009.04\qt\include/QtNetwork -IC:\Qt\2009.04\qt\include/QtWebKit 
-DUNICODE  -Fohbqt_utils.obj -c ../../../hbqt_utils.cpp
hbqt_utils.cpp
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 
-EHs-c- -MT   -IC:\Qt\2009.04\qt\include -IC:\Qt\2009.04\qt\include/Qt 
-IC:\Qt\2009.04\qt\include/QtCore -IC:\Qt\2009.04\qt\include/QtGui 
-IC:\Qt\2009.04\qt\include/QtNetwork -IC:\Qt\2009.04\qt\include/QtWebKit 
-DUNICODE  -Fohbqt_slots.obj -c ../../../hbqt_slots.cpp
hbqt_slots.cpp
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 
-EHs-c- -MT   -IC:\Qt\2009.04\qt\include -IC:\Qt\2009.04\qt\include/Qt 
-IC:\Qt\2009.04\qt\include/QtCore -IC:\Qt\2009.04\qt\include/QtGui 
-IC:\Qt\2009.04\qt\include/QtNetwork -IC:\Qt\2009.04\qt\include/QtWebKit 
-DUNICODE  -Fohbqt_destruct.obj -c ../../../hbqt_destruct.cpp
hbqt_destruct.cpp
../../../hbqt_destruct.cpp(101) : error C2664: 'hb_parptrGC' : cannot 
convert parameter 1 from 'void (__cdecl *)(void *)' to 'const HB_GC_FUNCS *'
         There is no context in which this conversion is possible
../../../hbqt_destruct.cpp(115) : error C3861: 'hb_gcAlloc': identifier 
not found
mingw32-make[3]: *** [hbqt_destruct.obj] Error 2
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [hbqt.inst] Error 2
mingw32-make: *** [contrib.inst] Error 2

In moment I am using:

HB_BUILD_IMPLIB=yes
HB_BUILD_PKG=yes
HB_COMPILER=msvc
HB_DIR_NSIS=%ProgramFiles%\NSIS\
HB_DIR_QT=C:\Qt\2009.04\qt
HB_INSTALL_PREFIX=C:\DEV\HARBOUR
HB_PATH=C:\DEV\HARBOUR
HB_PLATFORM=win
HB_WITH_QT=C:\Qt\2009.04\qt\include

Harbour Build Info
---------------------------
Version: Harbour 2.0.0beta3 (Rev. 12767)
Compiler: Microsoft Visual C++ 15.0.26569 (32-bit)
Platform: Windows XP 5.1.2600 Service Pack 3
PCode version: 0.2
ChangeLog last entry: 2009-10-24 00:43 UTC-0800 Pritpal Bedi 
(pritpal@vouchcac.c
om)
ChangeLog ID: ChangeLog 12767 2009-10-24 07:58:32Z vouchcac

Best regards,
Itamar M. Lins Jr.

From itamarlins at gmail.com  Sat Oct 24 19:29:37 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Sat Oct 24 19:30:10 2009
Subject: [Harbour] Re: Error making hbqt
In-Reply-To: <hc00dq$cnr$1@ger.gmane.org>
References: <hc00dq$cnr$1@ger.gmane.org>
Message-ID: <4AE38DE1.1000109@gmail.com>

With ChangeLog 12767 2009-10-24 07:58:32Z vouchcac works fine.

Best regards,
Itamar M. Lins Jr.

From itamarlins at gmail.com  Sat Oct 24 19:30:04 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Sat Oct 24 19:35:11 2009
Subject: [Harbour] Re: Error making hbqt
In-Reply-To: <hc00dq$cnr$1@ger.gmane.org>
References: <hc00dq$cnr$1@ger.gmane.org>
Message-ID: <hc02ls$h22$2@ger.gmane.org>

With ChangeLog 12767 2009-10-24 07:58:32Z vouchcac works fine.

Best regards,
Itamar M. Lins Jr.

From itamarlins at gmail.com  Sat Oct 24 20:46:31 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Sat Oct 24 20:47:04 2009
Subject: [Harbour] qtcore4.lib
Message-ID: <hc0758$ppd$1@ger.gmane.org>

Hi!
How to make qtcore4.lib ?
Because I am going INSTALL file, and it contains:
http://qt.nokia.com/products and get the file 
qt-sdk-win-opensource-2009.04.exe

my set variables is:
HB_BUILD_IMPLIB=yes
HB_BUILD_PKG=yes
HB_COMPILER=msvc
HB_DIR_NSIS=%ProgramFiles%\NSIS\
HB_DIR_QT=C:\Qt\2009.04\qt
HB_INSTALL_PREFIX=C:\DEV\HARBOUR
HB_PATH=C:\DEV\HARBOUR
HB_PLATFORM=win
HB_WITH_QT=C:\Qt\2009.04\qt\include

And I create file with these lines
------8<-------
set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
rem
mingw32-make %1 %2 > log.txt 2>&1
------>8--------

what I'm doing wrong or incomplete?


Best regards,
Itamar M. Lins Jr.

From bedipritpal at hotmail.com  Sun Oct 25 01:17:54 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Oct 25 01:18:00 2009
Subject: [Harbour] HBQT - Nearly lost how to implement new GC
In-Reply-To: <20091024101943.GA8321@34-mo7-2.home.aster.pl>
References: <26033190.post@talk.nabble.com>
	<20091023234848.GA8379@34-mo7-2.home.aster.pl>
	<26035057.post@talk.nabble.com>
	<20091024101943.GA8321@34-mo7-2.home.aster.pl>
Message-ID: <26045343.post@talk.nabble.com>


Hello Przemek

There is a slight change as follows and it works.
This is not a proper change so show me what is the 
proper code skeleton.


   QWidget * hbqt_par_QWidget( int iParam )
   {
      QPointer< QWidget > * pObj;
      QWidget * obj = NULL;

      pObj = ( QPointer< QWidget > * ) hb_parptrGC( &s_gcQWidget, iParam );
      if( pObj == NULL )
      {
         /* Not a QWidget pointer item, check all registered
          * descendant classes
          */
         QT_PARAM_INFO * paramInfo = s_paramList;
         while( paramInfo )
         {
/////////////////      This is the change   ////////////////////////
//////     hbqt_par_Q*() functions are returning pure object without
QPointer<> cast. //////
////////////////                                   ////////////////////////
            obj = ( QWidget * ) paramInfo->pFunc( iParam );
            if( obj )
               return obj;
            paramInfo = paramInfo->pNext;

            #if 0
            pObj = ( QPointer< QWidget > * ) paramInfo->pFunc( iParam );
            if( pObj )
            {
               break;
            }
            paramInfo = paramInfo->pNext;
            #endif
         }
      }

      if( pObj == NULL )
      {
         /* RT ERROR - wrong parameter */
      }
      else
      {
         obj = ( QWidget * ) * pObj;
         if( obj == NULL )
         {
            /* RT ERROR - object deleted by other code */
         }
      }

      return obj;
   }

After your final skeleton I will update the generator to reflect it.
I do not know what other issues will arise out of it but we will know 
those issues when this is implemented first.

Thanks for showing the correct ways.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/HBQT---Nearly-lost-how-to-implement-new-GC-tp26033190p26045343.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From april_white at sympatico.ca  Sun Oct 25 10:02:43 2009
From: april_white at sympatico.ca (April White)
Date: Sun Oct 25 10:02:53 2009
Subject: [Harbour] to Giancarlo Niccolai regarding inet.txt
Message-ID: <BLU0-SMTP467CA0A9B1008C303E31BCEFBB0@phx.gbl>

Hello  Giancarlo,

I'm working on the hbdoc2 program and I saw that the INET documentation 
is in the harbour/doc folder not harbour/doc/en-en folder.  Additionally 
I've found that there are other functions in hbinet.c not listed in the 
text file.

With your permission, I would like to:

- make a (new) harbour/doc/en-en/hbinet.txt file using the text from 
your inet.txt
- add a copyright entry for you
- add missing functions to this file, adding parameters and return 
values as I can get from hbinet.c
- remove the use of "xHarbour", leaving the sentance(s) as "the program"

April

-- 
Honk if you love peace and quiet.

From mbelgrano at deltain.it  Sun Oct 25 14:31:45 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Oct 25 14:32:12 2009
Subject: [Harbour] to Giancarlo Niccolai regarding inet.txt
In-Reply-To: <BLU0-SMTP467CA0A9B1008C303E31BCEFBB0@phx.gbl>
References: <BLU0-SMTP467CA0A9B1008C303E31BCEFBB0@phx.gbl>
Message-ID: <609353e70910251131v5b96282dj6880f21d35f5eb79@mail.gmail.com>

Hi April
Can you help me about How can use hbdoc2
running
hbmk2  hbdoc2
Generating C source output to 'hbdoc2.c'... Done.
hbdoc2.o:hbdoc2.c:(.data+0x438): undefined reference to `HB_FUN_SHOWTEMPLATESHEL
P'
hbdoc2.o:hbdoc2.c:(.data+0x448): undefined reference to `HB_FUN_SHOWCOMPLIANCEHE
LP'
hbdoc2.o:hbdoc2.c:(.data+0x458): undefined reference to `HB_FUN_SHOWPLATFORMSHEL
P'
Is possible generate unique file as destination (pdf)?

2009/10/25 April White <april_white@sympatico.ca>:
> Hello ?Giancarlo,
>
> I'm working on the hbdoc2 program and I saw that the INET documentation is
> in the harbour/doc folder not harbour/doc/en-en folder. ?Additionally I've
> found that there are other functions in hbinet.c not listed in the text
> file.
>
> With your permission, I would like to:
>
> - make a (new) harbour/doc/en-en/hbinet.txt file using the text from your
> inet.txt
> - add a copyright entry for you
> - add missing functions to this file, adding parameters and return values as
> I can get from hbinet.c
> - remove the use of "xHarbour", leaving the sentance(s) as "the program"
>
> April
>
> --
> Honk if you love peace and quiet.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Sun Oct 25 17:12:02 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Oct 25 17:12:28 2009
Subject: [Harbour] hbmk2 suggestion
Message-ID: <609353e70910251412h3f9a5fc8pcec00445298ccbb6@mail.gmail.com>

Hi VIktor
I try explain you a possible feature for hbmk2
if in my source is included REQUEST ADS i must add to hbmk2 ace32.lib+rddads.lib
REQUEST BMDBFCDX   hbbmcdx.lib
REQUEST HB_MEMIO  hbmemio.lib
REQUEST HB_GT_WVG  gtwvg.lib
REQUEST ADORDD   rddado.lib
will this intelligence be in hbmk2 ?
detect needed library in automatic (not all but best help same user that none)
Is possible at least a messages?
"add hbmemio.lib"
harbour user read in prg and not found right information about lib

similar problem if my source include
#include "minigui.ch"
#include "fivewin.ch"

Possible hbmk2 be renamed in hbmk?
-- 
Massimo Belgrano
From vouchcac at users.sourceforge.net  Mon Oct 26 00:16:30 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Oct 26 00:16:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12768] trunk/harbour
Message-ID: <E1N2H0Q-0004OM-DO@3kljzd1.ch3.sourceforge.com>

Revision: 12768
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12768&view=rev
Author:   vouchcac
Date:     2009-10-26 04:16:27 +0000 (Mon, 26 Oct 2009)

Log Message:
-----------
2009-10-25 21:04 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/generator/hbqtgen.prg

  * contrib/hbqt/qth/QAbstractItemModel.qth
  * contrib/hbqt/qth/QTableView.qth

  * contrib/hbqt/hbqt.h
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/moc_slots.cpp

  * contrib/hbqt/qtcore/TQAbstractItemModel.prg
  * contrib/hbqt/qtcore/TQAbstractListModel.prg
  * contrib/hbqt/qtcore/TQAbstractTableModel.prg
  * contrib/hbqt/qtcore/TQBitArray.prg
  * contrib/hbqt/qtcore/TQByteArray.prg
  * contrib/hbqt/qtcore/TQCoreApplication.prg
  * contrib/hbqt/qtcore/TQDataStream.prg
  * contrib/hbqt/qtcore/TQDate.prg
  * contrib/hbqt/qtcore/TQDateTime.prg
  * contrib/hbqt/qtcore/TQDir.prg
  * contrib/hbqt/qtcore/TQEvent.prg
  * contrib/hbqt/qtcore/TQEventLoop.prg
  * contrib/hbqt/qtcore/TQFile.prg
  * contrib/hbqt/qtcore/TQFileInfo.prg
  * contrib/hbqt/qtcore/TQIODevice.prg
  * contrib/hbqt/qtcore/TQLatin1Char.prg
  * contrib/hbqt/qtcore/TQLatin1String.prg
  * contrib/hbqt/qtcore/TQLine.prg
  * contrib/hbqt/qtcore/TQLineF.prg
  * contrib/hbqt/qtcore/TQList.prg
  * contrib/hbqt/qtcore/TQLocale.prg
  * contrib/hbqt/qtcore/TQMimeData.prg
  * contrib/hbqt/qtcore/TQModelIndex.prg
  * contrib/hbqt/qtcore/TQObject.prg
  * contrib/hbqt/qtcore/TQPoint.prg
  * contrib/hbqt/qtcore/TQPointF.prg
  * contrib/hbqt/qtcore/TQProcess.prg
  * contrib/hbqt/qtcore/TQRect.prg
  * contrib/hbqt/qtcore/TQRectF.prg
  * contrib/hbqt/qtcore/TQRegExp.prg
  * contrib/hbqt/qtcore/TQResource.prg
  * contrib/hbqt/qtcore/TQSignalMapper.prg
  * contrib/hbqt/qtcore/TQSize.prg
  * contrib/hbqt/qtcore/TQSizeF.prg
  * contrib/hbqt/qtcore/TQStringList.prg
  * contrib/hbqt/qtcore/TQTextBoundaryFinder.prg
  * contrib/hbqt/qtcore/TQTextCodec.prg
  * contrib/hbqt/qtcore/TQTextDecoder.prg
  * contrib/hbqt/qtcore/TQTextEncoder.prg
  * contrib/hbqt/qtcore/TQTextStream.prg
  * contrib/hbqt/qtcore/TQThread.prg
  * contrib/hbqt/qtcore/TQTime.prg
  * contrib/hbqt/qtcore/TQTimer.prg
  * contrib/hbqt/qtcore/TQTranslator.prg
  * contrib/hbqt/qtcore/TQUrl.prg
  * contrib/hbqt/qtcore/TQVariant.prg

  * contrib/hbqt/qtgui/TQAbstractButton.prg
  * contrib/hbqt/qtgui/TQAbstractItemDelegate.prg
  * contrib/hbqt/qtgui/TQAbstractItemView.prg
  * contrib/hbqt/qtgui/TQAbstractPrintDialog.prg
  * contrib/hbqt/qtgui/TQAbstractProxyModel.prg
  * contrib/hbqt/qtgui/TQAbstractScrollArea.prg
  * contrib/hbqt/qtgui/TQAbstractSlider.prg
  * contrib/hbqt/qtgui/TQAbstractSpinBox.prg
  * contrib/hbqt/qtgui/TQAbstractTextDocumentLayout.prg
  * contrib/hbqt/qtgui/TQAction.prg
  * contrib/hbqt/qtgui/TQActionGroup.prg
  * contrib/hbqt/qtgui/TQApplication.prg
  * contrib/hbqt/qtgui/TQBitmap.prg
  * contrib/hbqt/qtgui/TQBoxLayout.prg
  * contrib/hbqt/qtgui/TQBrush.prg
  * contrib/hbqt/qtgui/TQButtonGroup.prg
  * contrib/hbqt/qtgui/TQCalendarWidget.prg
  * contrib/hbqt/qtgui/TQCheckBox.prg
  * contrib/hbqt/qtgui/TQClipboard.prg
  * contrib/hbqt/qtgui/TQColor.prg
  * contrib/hbqt/qtgui/TQColorDialog.prg
  * contrib/hbqt/qtgui/TQComboBox.prg
  * contrib/hbqt/qtgui/TQCommandLinkButton.prg
  * contrib/hbqt/qtgui/TQCommonStyle.prg
  * contrib/hbqt/qtgui/TQCompleter.prg
  * contrib/hbqt/qtgui/TQConicalGradient.prg
  * contrib/hbqt/qtgui/TQContextMenuEvent.prg
  * contrib/hbqt/qtgui/TQCursor.prg
  * contrib/hbqt/qtgui/TQDateEdit.prg
  * contrib/hbqt/qtgui/TQDateTimeEdit.prg
  * contrib/hbqt/qtgui/TQDesktopWidget.prg
  * contrib/hbqt/qtgui/TQDial.prg
  * contrib/hbqt/qtgui/TQDialog.prg
  * contrib/hbqt/qtgui/TQDirModel.prg
  * contrib/hbqt/qtgui/TQDockWidget.prg
  * contrib/hbqt/qtgui/TQDoubleSpinBox.prg
  * contrib/hbqt/qtgui/TQDragEnterEvent.prg
  * contrib/hbqt/qtgui/TQDragLeaveEvent.prg
  * contrib/hbqt/qtgui/TQDragMoveEvent.prg
  * contrib/hbqt/qtgui/TQDropEvent.prg
  * contrib/hbqt/qtgui/TQErrorMessage.prg
  * contrib/hbqt/qtgui/TQFileDialog.prg
  * contrib/hbqt/qtgui/TQFileIconProvider.prg
  * contrib/hbqt/qtgui/TQFileSystemModel.prg
  * contrib/hbqt/qtgui/TQFocusEvent.prg
  * contrib/hbqt/qtgui/TQFocusFrame.prg
  * contrib/hbqt/qtgui/TQFont.prg
  * contrib/hbqt/qtgui/TQFontComboBox.prg
  * contrib/hbqt/qtgui/TQFontDatabase.prg
  * contrib/hbqt/qtgui/TQFontDialog.prg
  * contrib/hbqt/qtgui/TQFontInfo.prg
  * contrib/hbqt/qtgui/TQFontMetrics.prg
  * contrib/hbqt/qtgui/TQFontMetricsF.prg
  * contrib/hbqt/qtgui/TQFormLayout.prg
  * contrib/hbqt/qtgui/TQFrame.prg
  * contrib/hbqt/qtgui/TQGradient.prg
  * contrib/hbqt/qtgui/TQGridLayout.prg
  * contrib/hbqt/qtgui/TQGroupBox.prg
  * contrib/hbqt/qtgui/TQHBoxLayout.prg
  * contrib/hbqt/qtgui/TQHeaderView.prg
  * contrib/hbqt/qtgui/TQHelpEvent.prg
  * contrib/hbqt/qtgui/TQIcon.prg
  * contrib/hbqt/qtgui/TQImage.prg
  * contrib/hbqt/qtgui/TQImageReader.prg
  * contrib/hbqt/qtgui/TQImageWriter.prg
  * contrib/hbqt/qtgui/TQInputContext.prg
  * contrib/hbqt/qtgui/TQInputDialog.prg
  * contrib/hbqt/qtgui/TQInputEvent.prg
  * contrib/hbqt/qtgui/TQInputMethodEvent.prg
  * contrib/hbqt/qtgui/TQItemSelection.prg
  * contrib/hbqt/qtgui/TQItemSelectionModel.prg
  * contrib/hbqt/qtgui/TQKeyEvent.prg
  * contrib/hbqt/qtgui/TQKeySequence.prg
  * contrib/hbqt/qtgui/TQLabel.prg
  * contrib/hbqt/qtgui/TQLayout.prg
  * contrib/hbqt/qtgui/TQLayoutItem.prg
  * contrib/hbqt/qtgui/TQLCDNumber.prg
  * contrib/hbqt/qtgui/TQLinearGradient.prg
  * contrib/hbqt/qtgui/TQLineEdit.prg
  * contrib/hbqt/qtgui/TQListView.prg
  * contrib/hbqt/qtgui/TQListWidget.prg
  * contrib/hbqt/qtgui/TQListWidgetItem.prg
  * contrib/hbqt/qtgui/TQMainWindow.prg
  * contrib/hbqt/qtgui/TQMatrix.prg
  * contrib/hbqt/qtgui/TQMenu.prg
  * contrib/hbqt/qtgui/TQMenuBar.prg
  * contrib/hbqt/qtgui/TQMessageBox.prg
  * contrib/hbqt/qtgui/TQMouseEvent.prg
  * contrib/hbqt/qtgui/TQMoveEvent.prg
  * contrib/hbqt/qtgui/TQMovie.prg
  * contrib/hbqt/qtgui/TQPageSetupDialog.prg
  * contrib/hbqt/qtgui/TQPaintDevice.prg
  * contrib/hbqt/qtgui/TQPainter.prg
  * contrib/hbqt/qtgui/TQPainterPath.prg
  * contrib/hbqt/qtgui/TQPaintEvent.prg
  * contrib/hbqt/qtgui/TQPalette.prg
  * contrib/hbqt/qtgui/TQPen.prg
  * contrib/hbqt/qtgui/TQPicture.prg
  * contrib/hbqt/qtgui/TQPixmap.prg
  * contrib/hbqt/qtgui/TQPolygon.prg
  * contrib/hbqt/qtgui/TQPolygonF.prg
  * contrib/hbqt/qtgui/TQPrintDialog.prg
  * contrib/hbqt/qtgui/TQPrintEngine.prg
  * contrib/hbqt/qtgui/TQPrinter.prg
  * contrib/hbqt/qtgui/TQPrintPreviewDialog.prg
  * contrib/hbqt/qtgui/TQProgressBar.prg
  * contrib/hbqt/qtgui/TQProgressDialog.prg
  * contrib/hbqt/qtgui/TQPushButton.prg
  * contrib/hbqt/qtgui/TQRadialGradient.prg
  * contrib/hbqt/qtgui/TQRadioButton.prg
  * contrib/hbqt/qtgui/TQRegion.prg
  * contrib/hbqt/qtgui/TQResizeEvent.prg
  * contrib/hbqt/qtgui/TQScrollArea.prg
  * contrib/hbqt/qtgui/TQScrollBar.prg
  * contrib/hbqt/qtgui/TQSessionManager.prg
  * contrib/hbqt/qtgui/TQSizeGrip.prg
  * contrib/hbqt/qtgui/TQSizePolicy.prg
  * contrib/hbqt/qtgui/TQSlider.prg
  * contrib/hbqt/qtgui/TQSound.prg
  * contrib/hbqt/qtgui/TQSpacerItem.prg
  * contrib/hbqt/qtgui/TQSpinBox.prg
  * contrib/hbqt/qtgui/TQSplashScreen.prg
  * contrib/hbqt/qtgui/TQSplitter.prg
  * contrib/hbqt/qtgui/TQStandardItem.prg
  * contrib/hbqt/qtgui/TQStandardItemModel.prg
  * contrib/hbqt/qtgui/TQStatusBar.prg
  * contrib/hbqt/qtgui/TQStringListModel.prg
  * contrib/hbqt/qtgui/TQStyle.prg
  * contrib/hbqt/qtgui/TQStyledItemDelegate.prg
  * contrib/hbqt/qtgui/TQStyleFactory.prg
  * contrib/hbqt/qtgui/TQStyleHintReturn.prg
  * contrib/hbqt/qtgui/TQStyleHintReturnMask.prg
  * contrib/hbqt/qtgui/TQStyleHintReturnVariant.prg
  * contrib/hbqt/qtgui/TQStyleOption.prg
  * contrib/hbqt/qtgui/TQStyleOptionButton.prg
  * contrib/hbqt/qtgui/TQStyleOptionComboBox.prg
  * contrib/hbqt/qtgui/TQStyleOptionComplex.prg
  * contrib/hbqt/qtgui/TQStyleOptionDockWidget.prg
  * contrib/hbqt/qtgui/TQStyleOptionFocusRect.prg
  * contrib/hbqt/qtgui/TQStyleOptionFrame.prg
  * contrib/hbqt/qtgui/TQStyleOptionGroupBox.prg
  * contrib/hbqt/qtgui/TQStyleOptionHeader.prg
  * contrib/hbqt/qtgui/TQStyleOptionMenuItem.prg
  * contrib/hbqt/qtgui/TQStyleOptionProgressBar.prg
  * contrib/hbqt/qtgui/TQStyleOptionSizeGrip.prg
  * contrib/hbqt/qtgui/TQStyleOptionSlider.prg
  * contrib/hbqt/qtgui/TQStyleOptionSpinBox.prg
  * contrib/hbqt/qtgui/TQStyleOptionTab.prg
  * contrib/hbqt/qtgui/TQStyleOptionTabBarBase.prg
  * contrib/hbqt/qtgui/TQStyleOptionTabWidgetFrame.prg
  * contrib/hbqt/qtgui/TQStyleOptionTitleBar.prg
  * contrib/hbqt/qtgui/TQStyleOptionToolBar.prg
  * contrib/hbqt/qtgui/TQStyleOptionToolBox.prg
  * contrib/hbqt/qtgui/TQStyleOptionToolButton.prg
  * contrib/hbqt/qtgui/TQStyleOptionViewItem.prg
  * contrib/hbqt/qtgui/TQStylePainter.prg
  * contrib/hbqt/qtgui/TQSystemTrayIcon.prg
  * contrib/hbqt/qtgui/TQTabBar.prg
  * contrib/hbqt/qtgui/TQTableView.prg
  * contrib/hbqt/qtgui/TQTableWidget.prg
  * contrib/hbqt/qtgui/TQTableWidgetItem.prg
  * contrib/hbqt/qtgui/TQTableWidgetSelectionRange.prg
  * contrib/hbqt/qtgui/TQTabWidget.prg
  * contrib/hbqt/qtgui/TQTextBlock.prg
  * contrib/hbqt/qtgui/TQTextBlockFormat.prg
  * contrib/hbqt/qtgui/TQTextBlockGroup.prg
  * contrib/hbqt/qtgui/TQTextBrowser.prg
  * contrib/hbqt/qtgui/TQTextCharFormat.prg
  * contrib/hbqt/qtgui/TQTextCursor.prg
  * contrib/hbqt/qtgui/TQTextDocument.prg
  * contrib/hbqt/qtgui/TQTextDocumentFragment.prg
  * contrib/hbqt/qtgui/TQTextDocumentWriter.prg
  * contrib/hbqt/qtgui/TQTextEdit.prg
  * contrib/hbqt/qtgui/TQTextFormat.prg
  * contrib/hbqt/qtgui/TQTextFragment.prg
  * contrib/hbqt/qtgui/TQTextFrame.prg
  * contrib/hbqt/qtgui/TQTextFrameFormat.prg
  * contrib/hbqt/qtgui/TQTextImageFormat.prg
  * contrib/hbqt/qtgui/TQTextInlineObject.prg
  * contrib/hbqt/qtgui/TQTextItem.prg
  * contrib/hbqt/qtgui/TQTextLayout.prg
  * contrib/hbqt/qtgui/TQTextLength.prg
  * contrib/hbqt/qtgui/TQTextLine.prg
  * contrib/hbqt/qtgui/TQTextListFormat.prg
  * contrib/hbqt/qtgui/TQTextObject.prg
  * contrib/hbqt/qtgui/TQTextOption.prg
  * contrib/hbqt/qtgui/TQTextTableFormat.prg
  * contrib/hbqt/qtgui/TQTimeEdit.prg
  * contrib/hbqt/qtgui/TQToolBar.prg
  * contrib/hbqt/qtgui/TQToolBox.prg
  * contrib/hbqt/qtgui/TQToolButton.prg
  * contrib/hbqt/qtgui/TQTransform.prg
  * contrib/hbqt/qtgui/TQTreeView.prg
  * contrib/hbqt/qtgui/TQTreeWidget.prg
  * contrib/hbqt/qtgui/TQTreeWidgetItem.prg
  * contrib/hbqt/qtgui/TQValidator.prg
  * contrib/hbqt/qtgui/TQVBoxLayout.prg
  * contrib/hbqt/qtgui/TQWheelEvent.prg
  * contrib/hbqt/qtgui/TQWidget.prg
  * contrib/hbqt/qtgui/TQWidgetAction.prg
  * contrib/hbqt/qtgui/TQWidgetItem.prg
  * contrib/hbqt/qtgui/TQWindowsStyle.prg
  * contrib/hbqt/qtgui/TQWindowsXPStyle.prg
  * contrib/hbqt/qtgui/TQWizard.prg
  * contrib/hbqt/qtgui/TQWizardPage.prg

  * contrib/hbqt/qtnetwork/TQFtp.prg
  * contrib/hbqt/qtnetwork/TQHttp.prg
  * contrib/hbqt/qtnetwork/TQHttpRequestHeader.prg
  * contrib/hbqt/qtnetwork/TQHttpResponseHeader.prg
  * contrib/hbqt/qtnetwork/TQNetworkRequest.prg

  * contrib/hbqt/qtwebkit/TQWebFrame.prg
  * contrib/hbqt/qtwebkit/TQWebHistory.prg
  * contrib/hbqt/qtwebkit/TQWebHistoryInterface.prg
  * contrib/hbqt/qtwebkit/TQWebHistoryItem.prg
  * contrib/hbqt/qtwebkit/TQWebHitTestResult.prg
  * contrib/hbqt/qtwebkit/TQWebPage.prg
  * contrib/hbqt/qtwebkit/TQWebPluginFactory.prg
  * contrib/hbqt/qtwebkit/TQWebSecurityOrigin.prg
  * contrib/hbqt/qtwebkit/TQWebSettings.prg
  * contrib/hbqt/qtwebkit/TQWebView.prg

  * contrib/hbxbp/xbpbrowse.prg
  * contrib/hbxbp/xbptabpage.prg
  * contrib/hbxbp/xbptreeview.prg
  * contrib/hbxbp/xbpwindow.prg

  * contrib/hbqt/tests/demoqt.prg
  * contrib/hbxbp/tests/demoxbp.prg

    ! Fixed LONG-STANDING memory consumption bug.
    ! Optimized CLASS code.
    ! Reworked some classes.

    TODO: demoxbp.exe terminates with GPF. I know what is that. 
          It will take another couple of days to fix.

    Now Harbour has a native GUI framework we can build upon our castles.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/moc_slots.cpp
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractItemModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractListModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractTableModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQBitArray.prg
    trunk/harbour/contrib/hbqt/qtcore/TQByteArray.prg
    trunk/harbour/contrib/hbqt/qtcore/TQCoreApplication.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDataStream.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDate.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDateTime.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDir.prg
    trunk/harbour/contrib/hbqt/qtcore/TQEvent.prg
    trunk/harbour/contrib/hbqt/qtcore/TQEventLoop.prg
    trunk/harbour/contrib/hbqt/qtcore/TQFile.prg
    trunk/harbour/contrib/hbqt/qtcore/TQFileInfo.prg
    trunk/harbour/contrib/hbqt/qtcore/TQIODevice.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLatin1Char.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLatin1String.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLine.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLineF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQList.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLocale.prg
    trunk/harbour/contrib/hbqt/qtcore/TQMimeData.prg
    trunk/harbour/contrib/hbqt/qtcore/TQModelIndex.prg
    trunk/harbour/contrib/hbqt/qtcore/TQObject.prg
    trunk/harbour/contrib/hbqt/qtcore/TQPoint.prg
    trunk/harbour/contrib/hbqt/qtcore/TQPointF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQProcess.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRect.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRectF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRegExp.prg
    trunk/harbour/contrib/hbqt/qtcore/TQResource.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSignalMapper.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSize.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSizeF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQStringList.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextBoundaryFinder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextCodec.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextDecoder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextEncoder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextStream.prg
    trunk/harbour/contrib/hbqt/qtcore/TQThread.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTime.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTimer.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTranslator.prg
    trunk/harbour/contrib/hbqt/qtcore/TQUrl.prg
    trunk/harbour/contrib/hbqt/qtcore/TQVariant.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractItemDelegate.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractItemView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractPrintDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractProxyModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractScrollArea.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractTextDocumentLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAction.prg
    trunk/harbour/contrib/hbqt/qtgui/TQActionGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQApplication.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBitmap.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBrush.prg
    trunk/harbour/contrib/hbqt/qtgui/TQButtonGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCalendarWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCheckBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQClipboard.prg
    trunk/harbour/contrib/hbqt/qtgui/TQColor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQColorDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCommandLinkButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCommonStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCompleter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQConicalGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQContextMenuEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCursor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDateEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDateTimeEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDesktopWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDial.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDirModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDockWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDoubleSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragEnterEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragLeaveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragMoveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDropEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQErrorMessage.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileIconProvider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileSystemModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFocusEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFocusFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFont.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontDatabase.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontInfo.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontMetrics.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontMetricsF.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFormLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGridLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGroupBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHeaderView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHelpEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQIcon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImage.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImageReader.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImageWriter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputContext.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputMethodEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQItemSelection.prg
    trunk/harbour/contrib/hbqt/qtgui/TQItemSelectionModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQKeyEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQKeySequence.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLCDNumber.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLabel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLayoutItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLineEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLinearGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMainWindow.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMatrix.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMenu.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMenuBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMessageBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMouseEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMoveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMovie.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPageSetupDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPaintDevice.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPaintEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPainter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPainterPath.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPalette.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPen.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPicture.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPixmap.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPolygon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPolygonF.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintEngine.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintPreviewDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrinter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQProgressBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQProgressDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPushButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRadialGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRadioButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRegion.prg
    trunk/harbour/contrib/hbqt/qtgui/TQResizeEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQScrollArea.prg
    trunk/harbour/contrib/hbqt/qtgui/TQScrollBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSessionManager.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSizeGrip.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSizePolicy.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSound.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSpacerItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSplashScreen.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSplitter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStandardItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStandardItemModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStatusBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStringListModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleFactory.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturn.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturnMask.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturnVariant.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOption.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionComplex.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionDockWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionFocusRect.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionGroupBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionHeader.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionMenuItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionProgressBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSizeGrip.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTab.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTabBarBase.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTabWidgetFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTitleBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionViewItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStylePainter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyledItemDelegate.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSystemTrayIcon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTabBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTabWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidgetSelectionRange.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlock.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlockFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlockGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBrowser.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextCharFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextCursor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocument.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocumentFragment.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocumentWriter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFragment.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFrameFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextImageFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextInlineObject.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLength.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLine.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextListFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextObject.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextOption.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextTableFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTimeEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTransform.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQVBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQValidator.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWheelEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidgetAction.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWindowsStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWindowsXPStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWizard.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWizardPage.prg
    trunk/harbour/contrib/hbqt/qth/QAbstractItemModel.qth
    trunk/harbour/contrib/hbqt/qth/QTableView.qth
    trunk/harbour/contrib/hbqt/qtnetwork/TQFtp.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttp.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpRequestHeader.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpResponseHeader.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQNetworkRequest.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebFrame.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebHistory.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebHistoryInterface.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebHistoryItem.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebHitTestResult.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebPage.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebPluginFactory.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebSecurityOrigin.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebSettings.prg
    trunk/harbour/contrib/hbqt/qtwebkit/TQWebView.prg
    trunk/harbour/contrib/hbqt/tests/demoqt.prg
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbptabpage.prg
    trunk/harbour/contrib/hbxbp/xbptreeview.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jerryfinuliar at operamail.com  Mon Oct 26 02:09:46 2009
From: jerryfinuliar at operamail.com (Jerry Finuliar)
Date: Mon Oct 26 02:09:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12768] trunk/harbour
Message-ID: <20091026060946.00AC1CBEA7@ws5-11.us4.outblaze.com>

Thanks Pritpal.

> ----- Original Message -----
> From: vouchcac@users.sourceforge.net
> To: harbour@harbour-project.org
> Subject: [Harbour] SF.net SVN: harbour-project:[12768] trunk/harbour
> Date: Mon, 26 Oct 2009 04:16:30 +0000
> 
> 
> Revision: 12768
>            
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12768&view=rev
> Author:   vouchcac
> Date:     2009-10-26 04:16:27 +0000 (Mon, 26 Oct 2009)
> 


-- 
_______________________________________________
Surf the Web in a faster, safer and easier way:
Download Opera 9 at http://www.opera.com

Powered by Outblaze
From harbour.01 at syenar.hu  Mon Oct 26 02:50:25 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 26 02:50:34 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <609353e70910251412h3f9a5fc8pcec00445298ccbb6@mail.gmail.com>
References: <609353e70910251412h3f9a5fc8pcec00445298ccbb6@mail.gmail.com>
Message-ID: <21067249-763C-45EA-B8CD-4A816DC258E3@syenar.hu>

Hi Massimo,

> I try explain you a possible feature for hbmk2
> if in my source is included REQUEST ADS i must add to hbmk2 ace32.lib 
> +rddads.lib
> REQUEST BMDBFCDX   hbbmcdx.lib
> REQUEST HB_MEMIO  hbmemio.lib
> REQUEST HB_GT_WVG  gtwvg.lib
> REQUEST ADORDD   rddado.lib
> will this intelligence be in hbmk2 ?
> detect needed library in automatic (not all but best help same user  
> that none)
> Is possible at least a messages?
> "add hbmemio.lib"

hbmk2 will never replace thinking from the side of
app programmers.

> harbour user read in prg and not found right information about lib
>
> similar problem if my source include
> #include "minigui.ch"
> #include "fivewin.ch"

This would require knowledge of internal details of 3rd
party and contrib libs inside hbmk2, which is not good
solution (f.e. who will maintain it? I certainly won't.
It's BTW impossible if we consider all 3rd party versions
and differences between version, etcetc).

Instead we could introduce some sort of "USING" or
"IMPORT" keyword (f.e. as #pragma) plus a compiler
parser (like the one for #include) to extract this
information, so that hbmk2 can automatically add
thos refereed *.hbc files* from .prg source code.
.hbc files can in turn pull in all required libs and
headers dirs.

It's important to deal with .hbc only, and not libs,
inc paths and whatnot directly.

If we have the infrastructure, it seems relatively
easy to add it to hbmk2.

[ Note, I don't we should use REQUEST for this purpose,
since it works differently. ]

> Possible hbmk2 be renamed in hbmk?

Not until we have hbmk, but as I told in the past,
I think hbmk2 stuck enough to be a proper name, it's
also much easy to google to, etc.

Brgds,
Viktor

From sscc at mweb.co.za  Mon Oct 26 05:27:07 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Oct 26 05:27:10 2009
Subject: [Harbour] Destructors of static scope variables
Message-ID: <4AE56B6B.4090700@mweb.co.za>

Hi all

Is it expected behavior that this program does not output "Destructor"?

#include "hbclass.ch"

static oMSCAL

function main()
     MSCALInit()
     //oMSCAL := nil
return nil

procedure MSCalInit()
     oMSCAL := HActiveX():New()
return

CLASS HActiveX
     METHOD New
     DESTRUCTOR Dtor
ENDCLASS

METHOD New() CLASS HActiveX
return self

PROCEDURE Dtor() CLASS HActiveX
     ? "Destructor"
RETURN

If I set oMSCAL to nil it does work of course.

Regards
Alex
From mbelgrano at deltain.it  Mon Oct 26 05:58:52 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct 26 05:59:18 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <21067249-763C-45EA-B8CD-4A816DC258E3@syenar.hu>
References: <609353e70910251412h3f9a5fc8pcec00445298ccbb6@mail.gmail.com> 
	<21067249-763C-45EA-B8CD-4A816DC258E3@syenar.hu>
Message-ID: <609353e70910260258w7d449706ne74bfddc0a50c363@mail.gmail.com>

2009/10/26 Viktor Szak?ts <harbour.01@syenar.hu>
>
> Hi Massimo,
>
> hbmk2 will never replace thinking from the side of
> app programmers.

Yes you are right
but think that we haven't jet good info so maj be a problem for a new
user find right information

>>
>> harbour user read in prg and not found right information about lib
>>
>> similar problem if my source include
>> #include "minigui.ch"
>> #include "fivewin.ch"
>
> This would require knowledge of internal details of 3rd
> party and contrib libs inside hbmk2, which is not good
> solution (f.e. who will maintain it? I certainly won't.
> It's BTW impossible if we consider all 3rd party versions
> and differences between version, etcetc).
>
> Instead we could introduce some sort of "USING" or
> "IMPORT" keyword (f.e. as #pragma) plus a compiler
> parser (like the one for #include) to extract this
> information, so that hbmk2 can automatically add
> thos refereed *.hbc files* from .prg source code.
> .hbc files can in turn pull in all required libs and
> headers dirs.
>
> It's important to deal with .hbc only, and not libs,
> inc paths and whatnot directly.
>
> If we have the infrastructure, it seems relatively
> easy to add it to hbmk2.
>
> [ Note, I don't we should use REQUEST for this purpose,
> since it works differently. ]

This can be a solution also for prev problem
sufficent add in source right pragma directive
then is possible compile without know name of library
also compiling a source found in internet maj be easy done
i can do modification  in existing source of tests adding your directive

in?xbase++ is present a ?preprocessor directive
?#pragma library ("mylib.lib")
i not sure that is same but same body will  post xbase++ documentation

>
>
>>
>> Possible hbmk2 be renamed in hbmk?
>
> Not until we have hbmk, but as I told in the past,
> I think hbmk2 stuck enough to be a proper name, it's
> also much easy to google to, etc.
>
ok sorry now i remember
--
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Oct 26 06:17:03 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 26 06:17:12 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <609353e70910260258w7d449706ne74bfddc0a50c363@mail.gmail.com>
References: <609353e70910251412h3f9a5fc8pcec00445298ccbb6@mail.gmail.com>
	<21067249-763C-45EA-B8CD-4A816DC258E3@syenar.hu>
	<609353e70910260258w7d449706ne74bfddc0a50c363@mail.gmail.com>
Message-ID: <D7C33012-A333-4ABC-8844-80853F5DCDC8@syenar.hu>

>> hbmk2 will never replace thinking from the side of
>> app programmers.
>
> Yes you are right
> but think that we haven't jet good info so maj be a problem for a new
> user find right information

It can't even replace documentation ;)

>>> harbour user read in prg and not found right information about lib
>>>
>>> similar problem if my source include
>>> #include "minigui.ch"
>>> #include "fivewin.ch"
>>
>> This would require knowledge of internal details of 3rd
>> party and contrib libs inside hbmk2, which is not good
>> solution (f.e. who will maintain it? I certainly won't.
>> It's BTW impossible if we consider all 3rd party versions
>> and differences between version, etcetc).
>>
>> Instead we could introduce some sort of "USING" or
>> "IMPORT" keyword (f.e. as #pragma) plus a compiler
>> parser (like the one for #include) to extract this
>> information, so that hbmk2 can automatically add
>> thos refereed *.hbc files* from .prg source code.
>> .hbc files can in turn pull in all required libs and
>> headers dirs.
>>
>> It's important to deal with .hbc only, and not libs,
>> inc paths and whatnot directly.
>>
>> If we have the infrastructure, it seems relatively
>> easy to add it to hbmk2.
>>
>> [ Note, I don't we should use REQUEST for this purpose,
>> since it works differently. ]
>
> This can be a solution also for prev problem
> sufficent add in source right pragma directive
> then is possible compile without know name of library
> also compiling a source found in internet maj be easy done
> i can do modification  in existing source of tests adding your  
> directive
>
> in xbase++ is present a  preprocessor directive
>  #pragma library ("mylib.lib")
> i not sure that is same but same body will  post xbase++ documentation

Yes, something like this, but instead of direct
lib names, we should try to use .hbc files, which
is much more flexible. Also, above works probably
on the linker/object level, while my proposed
solution works only in source files and in conjunction
with hbmk2. Pbly not generic enough though, so
we may want to use something like:

#pragma option:hbmk2 mylib.hbc

This could be extracted with harbour -sm with output below:
{option:hbmk2}mylib.hbc

This would allow passing any options to any tools.

Brgds,
Viktor

From mbelgrano at deltain.it  Mon Oct 26 06:34:11 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct 26 06:34:38 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <D7C33012-A333-4ABC-8844-80853F5DCDC8@syenar.hu>
References: <609353e70910251412h3f9a5fc8pcec00445298ccbb6@mail.gmail.com> 
	<21067249-763C-45EA-B8CD-4A816DC258E3@syenar.hu>
	<609353e70910260258w7d449706ne74bfddc0a50c363@mail.gmail.com> 
	<D7C33012-A333-4ABC-8844-80853F5DCDC8@syenar.hu>
Message-ID: <609353e70910260334t7bfc083bw3f2263da17fca3d5@mail.gmail.com>

If i undestrand your proposal
The problem of made more simple for a newbies is resolved

The only problem maj be that for minigui,fivewin we need hbc copied in
each directory
possible serch/use a predefined dir for hbc(lib)  if not present in
current directory
imo also a lib only maj useful
i also think to a  hbmk2 only  feature

count on my works for a simple work of rearranging Under your supervision


2009/10/26 Viktor Szak?ts <harbour.01@syenar.hu>:
>>> hbmk2 will never replace thinking from the side of
>>> app programmers.
>>
>> Yes you are right
>> but think that we haven't jet good info so maj be a problem for a new
>> user find right information
>
> It can't even replace documentation ;)
>
>>>> harbour user read in prg and not found right information about lib
>>>>
>>>> similar problem if my source include
>>>> #include "minigui.ch"
>>>> #include "fivewin.ch"
>>>
>>> This would require knowledge of internal details of 3rd
>>> party and contrib libs inside hbmk2, which is not good
>>> solution (f.e. who will maintain it? I certainly won't.
>>> It's BTW impossible if we consider all 3rd party versions
>>> and differences between version, etcetc).
>>>
>>> Instead we could introduce some sort of "USING" or
>>> "IMPORT" keyword (f.e. as #pragma) plus a compiler
>>> parser (like the one for #include) to extract this
>>> information, so that hbmk2 can automatically add
>>> thos refereed *.hbc files* from .prg source code.
>>> .hbc files can in turn pull in all required libs and
>>> headers dirs.
>>>
>>> It's important to deal with .hbc only, and not libs,
>>> inc paths and whatnot directly.
>>>
>>> If we have the infrastructure, it seems relatively
>>> easy to add it to hbmk2.
>>>
>>> [ Note, I don't we should use REQUEST for this purpose,
>>> since it works differently. ]
>>
>> This can be a solution also for prev problem
>> sufficent add in source right pragma directive
>> then is possible compile without know name of library
>> also compiling a source found in internet maj be easy done
>> i can do modification ?in existing source of tests adding your directive
>>
>> in xbase++ is present a ?preprocessor directive
>> ?#pragma library ("mylib.lib")
>> i not sure that is same but same body will ?post xbase++ documentation
>
> Yes, something like this, but instead of direct
> lib names, we should try to use .hbc files, which
> is much more flexible. Also, above works probably
> on the linker/object level, while my proposed
> solution works only in source files and in conjunction
> with hbmk2. Pbly not generic enough though, so
> we may want to use something like:
>
> #pragma option:hbmk2 mylib.hbc
>
> This could be extracted with harbour -sm with output below:
> {option:hbmk2}mylib.hbc
>
> This would allow passing any options to any tools.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From sscc at mweb.co.za  Mon Oct 26 06:47:11 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Oct 26 06:47:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12764] trunk/harbour
In-Reply-To: <E1N1MgR-0000cr-Fx@bj8yhf1.ch3.sourceforge.com>
References: <E1N1MgR-0000cr-Fx@bj8yhf1.ch3.sourceforge.com>
Message-ID: <4AE57E2F.4060506@mweb.co.za>

druzus@users.sourceforge.net wrote:

> 2009-10-23 18:07 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/contrib/hbwin/axcore.c
>     ! fixed wrongly initialized reference counter in AX control.
>       Now when AX Window is closed and all .prg references to OLE
>       are cleared pSink is released.

Thank you very much.

I still have questions regarding the behavior of destructors, although I can 
make my HWGUI application behave properly by manually calling the destructor. 
See my other mail.

Regards
Alex

From harbour.01 at syenar.hu  Mon Oct 26 07:03:07 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 26 07:03:16 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <609353e70910260334t7bfc083bw3f2263da17fca3d5@mail.gmail.com>
References: <609353e70910251412h3f9a5fc8pcec00445298ccbb6@mail.gmail.com>
	<21067249-763C-45EA-B8CD-4A816DC258E3@syenar.hu>
	<609353e70910260258w7d449706ne74bfddc0a50c363@mail.gmail.com>
	<D7C33012-A333-4ABC-8844-80853F5DCDC8@syenar.hu>
	<609353e70910260334t7bfc083bw3f2263da17fca3d5@mail.gmail.com>
Message-ID: <6EB375C7-225E-40B7-B996-5D6C9E471814@syenar.hu>

> The only problem maj be that for minigui,fivewin we need hbc copied in
> each directory
> possible serch/use a predefined dir for hbc(lib)  if not present in
> current directory

There is a search list (path list) for .hbc files already,
so everything inside the addon and contrib dirs will be
scanned automatically (given some simple naming rules are
followed).

It's not hbmk2's responsibility to find where 3rd party
libs are installed onto a system, if they cannot be found
in standard locations. All we can do is to provide standard
means to store these files for easy configuration.

> imo also a lib only maj useful

IMO it will just create confusion and extra support
problems on this list.

Brgds,
Viktor

From mbelgrano at deltain.it  Mon Oct 26 07:29:41 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct 26 07:30:09 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <6EB375C7-225E-40B7-B996-5D6C9E471814@syenar.hu>
References: <609353e70910251412h3f9a5fc8pcec00445298ccbb6@mail.gmail.com> 
	<21067249-763C-45EA-B8CD-4A816DC258E3@syenar.hu>
	<609353e70910260258w7d449706ne74bfddc0a50c363@mail.gmail.com> 
	<D7C33012-A333-4ABC-8844-80853F5DCDC8@syenar.hu>
	<609353e70910260334t7bfc083bw3f2263da17fca3d5@mail.gmail.com> 
	<6EB375C7-225E-40B7-B996-5D6C9E471814@syenar.hu>
Message-ID: <609353e70910260429y410069e2p888667b7eeef7a8e@mail.gmail.com>

Hi Viktor
is possible have a solution also for  harbour contrib
If i have undestrand right
I nedd an hbp file when use ace32.lib+rddads.lib +  hbbmcdx.lib+hbmemio.lib
another when use only hbmemio.lib
another when use only hbbmcdx.lib
ecc ecc
Note that is only an example
i still prefer separate lib adding for hbmk2

2009/10/26 Viktor Szak?ts <harbour.01@syenar.hu>:
>> The only problem maj be that for minigui,fivewin we need hbc copied in
>> each directory
>> possible serch/use a predefined dir for hbc(lib) ?if not present in
>> current directory
>
> There is a search list (path list) for .hbc files already,
> so everything inside the addon and contrib dirs will be
> scanned automatically (given some simple naming rules are
> followed).
>
> It's not hbmk2's responsibility to find where 3rd party
> libs are installed onto a system, if they cannot be found
> in standard locations. All we can do is to provide standard
> means to store these files for easy configuration.
>
>> imo also a lib only maj useful
>
> IMO it will just create confusion and extra support
> problems on this list.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Oct 26 07:46:34 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 26 07:46:43 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <609353e70910260429y410069e2p888667b7eeef7a8e@mail.gmail.com>
References: <609353e70910251412h3f9a5fc8pcec00445298ccbb6@mail.gmail.com>
	<21067249-763C-45EA-B8CD-4A816DC258E3@syenar.hu>
	<609353e70910260258w7d449706ne74bfddc0a50c363@mail.gmail.com>
	<D7C33012-A333-4ABC-8844-80853F5DCDC8@syenar.hu>
	<609353e70910260334t7bfc083bw3f2263da17fca3d5@mail.gmail.com>
	<6EB375C7-225E-40B7-B996-5D6C9E471814@syenar.hu>
	<609353e70910260429y410069e2p888667b7eeef7a8e@mail.gmail.com>
Message-ID: <A8ACFF49-25F7-4AC4-A02F-FEA3F2032ACD@syenar.hu>

> is possible have a solution also for  harbour contrib
> If i have undestrand right
> I nedd an hbp file when use ace32.lib+rddads.lib +  hbbmcdx.lib 
> +hbmemio.lib
> another when use only hbmemio.lib
> another when use only hbbmcdx.lib
> ecc ecc
> Note that is only an example
> i still prefer separate lib adding for hbmk2

You prefer .lib but you're seeking for a concept
which is already implemented and called .hbc.

.hbc will take care of setting up all .lib files,
include dir and whatnot for a given library (package),
so developers don't need to worry about the details.
They just have to use headers and functions without
any additional settings. If .lib files change, they
won't even notice. (like in case of hbqt, where the
recent split didn't mean any change in user environment,
since the .hbc fully covered the change)

[ Even better would be if even headers would be automatically
added to .prg files when a given package is being selected. ]

Or maybe I lost the track in this thread.

Brgds,
Viktor

From mbelgrano at deltain.it  Mon Oct 26 08:03:57 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct 26 08:04:26 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <A8ACFF49-25F7-4AC4-A02F-FEA3F2032ACD@syenar.hu>
References: <609353e70910251412h3f9a5fc8pcec00445298ccbb6@mail.gmail.com> 
	<21067249-763C-45EA-B8CD-4A816DC258E3@syenar.hu>
	<609353e70910260258w7d449706ne74bfddc0a50c363@mail.gmail.com> 
	<D7C33012-A333-4ABC-8844-80853F5DCDC8@syenar.hu>
	<609353e70910260334t7bfc083bw3f2263da17fca3d5@mail.gmail.com> 
	<6EB375C7-225E-40B7-B996-5D6C9E471814@syenar.hu>
	<609353e70910260429y410069e2p888667b7eeef7a8e@mail.gmail.com> 
	<A8ACFF49-25F7-4AC4-A02F-FEA3F2032ACD@syenar.hu>
Message-ID: <609353e70910260503n9070d21ud68b0bd9cb956223@mail.gmail.com>

so will be Possible add standard hbc for each harbour contrib like
rddads.hbc for ace32.lib+rddads.lib
hbbmcdx.hbc for  hbbmcdx.lib
hbmemio.hbc for hbmemio.lib

so i can add one ore more follow line
#pragma option:hbmk2 rddads.hbc
#pragma option:hbmk2 hbbmcdx.hbc
#pragma option:hbmk2 hbmemio.hbc
and if in minigui have made his hbc
#pragma option:hbmk2 minigui.hbc

Very good and sorry for my bad understanding



2009/10/26 Viktor Szak?ts <harbour.01@syenar.hu>:

> You prefer .lib but you're seeking for a concept
> which is already implemented and called .hbc.
>
> .hbc will take care of setting up all .lib files,
> include dir and whatnot for a given library (package),
> so developers don't need to worry about the details.
> They just have to use headers and functions without
> any additional settings. If .lib files change, they
> won't even notice. (like in case of hbqt, where the
> recent split didn't mean any change in user environment,
> since the .hbc fully covered the change)
>
> [ Even better would be if even headers would be automatically
> added to .prg files when a given package is being selected. ]
>
> Or maybe I lost the track in this thread.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Oct 26 08:15:14 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 26 08:15:24 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <609353e70910260503n9070d21ud68b0bd9cb956223@mail.gmail.com>
References: <609353e70910251412h3f9a5fc8pcec00445298ccbb6@mail.gmail.com>
	<21067249-763C-45EA-B8CD-4A816DC258E3@syenar.hu>
	<609353e70910260258w7d449706ne74bfddc0a50c363@mail.gmail.com>
	<D7C33012-A333-4ABC-8844-80853F5DCDC8@syenar.hu>
	<609353e70910260334t7bfc083bw3f2263da17fca3d5@mail.gmail.com>
	<6EB375C7-225E-40B7-B996-5D6C9E471814@syenar.hu>
	<609353e70910260429y410069e2p888667b7eeef7a8e@mail.gmail.com>
	<A8ACFF49-25F7-4AC4-A02F-FEA3F2032ACD@syenar.hu>
	<609353e70910260503n9070d21ud68b0bd9cb956223@mail.gmail.com>
Message-ID: <E1B2D809-AA86-411D-A217-B64BF41F84DE@syenar.hu>

> rddads.hbc for ace32.lib+rddads.lib
> hbbmcdx.hbc for  hbbmcdx.lib
> hbmemio.hbc for hbmemio.lib

All contribs have .hbc files since some months.
Plus some popular 3rd party libs also have one
hosted in utils/hbmk2/examples since the early
days of hbmk2. I've also sent these to lib authors.
Some of them added it to their project, some of
them weren't giving any feedback (probably they
weren't interested).

> so i can add one ore more follow line
> #pragma option:hbmk2 rddads.hbc
> #pragma option:hbmk2 hbbmcdx.hbc
> #pragma option:hbmk2 hbmemio.hbc
> and if in minigui have made his hbc
> #pragma option:hbmk2 minigui.hbc

No you can't. This was just some vague plans in
my mail, it needs to be developed yet. You can
however pass .hbc files (now!) to hbmk2 directly:

Instead of this:
hbmk2 hello.prg minigui.lib gui.lib dll.lib [...] -gtgui -incpath=C: 
\minigui\include

You can use this:
hbmk2 hello.prg hmg.hbc

Which seems a lot simpler.

[ note: above isn't a working sample, I just used minigui to demonstrate
the concept. ]

Brgds,
Viktor

From dbtopas at dbtopas.lt  Mon Oct 26 08:17:55 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Oct 26 08:17:56 2009
Subject: [Harbour] Destructors of static scope variables
In-Reply-To: <4AE56B6B.4090700@mweb.co.za>
References: <4AE56B6B.4090700@mweb.co.za>
Message-ID: <4AE59373.2080506@dbtopas.lt>

Hi,


Alex Strickland wrote:
> Is it expected behavior that this program does not output "Destructor"?
> ...
> If I set oMSCAL to nil it does work of course.

I've not looked to destructor execution order on exit. But try to change
   ? "Destructor"
to
   HB_MEMOWRIT("debug.log", "Destructor")

It is possible, that GT system is closed at the time destructor is 
executed. And simple text does not appears on the screen.


Regards,
Mindaugas

From mbelgrano at deltain.it  Mon Oct 26 08:21:52 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct 26 08:22:19 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <E1B2D809-AA86-411D-A217-B64BF41F84DE@syenar.hu>
References: <609353e70910251412h3f9a5fc8pcec00445298ccbb6@mail.gmail.com> 
	<21067249-763C-45EA-B8CD-4A816DC258E3@syenar.hu>
	<609353e70910260258w7d449706ne74bfddc0a50c363@mail.gmail.com> 
	<D7C33012-A333-4ABC-8844-80853F5DCDC8@syenar.hu>
	<609353e70910260334t7bfc083bw3f2263da17fca3d5@mail.gmail.com> 
	<6EB375C7-225E-40B7-B996-5D6C9E471814@syenar.hu>
	<609353e70910260429y410069e2p888667b7eeef7a8e@mail.gmail.com> 
	<A8ACFF49-25F7-4AC4-A02F-FEA3F2032ACD@syenar.hu>
	<609353e70910260503n9070d21ud68b0bd9cb956223@mail.gmail.com> 
	<E1B2D809-AA86-411D-A217-B64BF41F84DE@syenar.hu>
Message-ID: <609353e70910260521s2e0fb7cay1c84b0c4fc9f482f@mail.gmail.com>

Sorry if i not understand right

Can i use multiple hbc?
hbmk2 hello.prg hmg.hbc rddads.hbc hbmemio.hbc



2009/10/26 Viktor Szak?ts <harbour.01@syenar.hu>:
> All contribs have .hbc files since some months.
> Plus some popular 3rd party libs also have one
> hosted in utils/hbmk2/examples since the early
> days of hbmk2. I've also sent these to lib authors.
> Some of them added it to their project, some of
> them weren't giving any feedback (probably they
> weren't interested).
>
>> so i can add one ore more follow line
>> #pragma option:hbmk2 rddads.hbc
>> #pragma option:hbmk2 hbbmcdx.hbc
>> #pragma option:hbmk2 hbmemio.hbc
>> and if in minigui have made his hbc
>> #pragma option:hbmk2 minigui.hbc
>
> No you can't. This was just some vague plans in
> my mail, it needs to be developed yet. You can
> however pass .hbc files (now!) to hbmk2 directly:
>
> Instead of this:
> hbmk2 hello.prg minigui.lib gui.lib dll.lib [...] -gtgui
> -incpath=C:\minigui\include
>
> You can use this:
> hbmk2 hello.prg hmg.hbc
>
> Which seems a lot simpler.
>
> [ note: above isn't a working sample, I just used minigui to demonstrate
> the concept. ]
>



-- 
Massimo Belgrano
From abe.buch at att.net  Mon Oct 26 08:27:00 2009
From: abe.buch at att.net (AbeB)
Date: Mon Oct 26 08:27:07 2009
Subject: [Harbour] DllLOad under mingw
Message-ID: <1256560020533-3891691.post@n2.nabble.com>


Hi All,

DllLoad seems to be broken under mingw.

try 

contrib\hbwin\tests\TestDll.prg

can anybody look into this?

Thanks
abe
-- 
View this message in context: http://n2.nabble.com/DllLOad-under-mingw-tp3891691p3891691.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From abe.buch at att.net  Mon Oct 26 08:33:52 2009
From: abe.buch at att.net (AbeB)
Date: Mon Oct 26 08:33:58 2009
Subject: [Harbour] contrib\hbtpathy\telepath.prg
Message-ID: <1256560432592-3891721.post@n2.nabble.com>


part of function tp_waitfor seems to commented out!?

Can i past my modified version?
http://n2.nabble.com/file/n3891721/TELEPATH.PRG TELEPATH.PRG 
  
-- 
View this message in context: http://n2.nabble.com/contrib-hbtpathy-telepath-prg-tp3891721p3891721.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Mon Oct 26 08:34:30 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 26 08:34:40 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <609353e70910260521s2e0fb7cay1c84b0c4fc9f482f@mail.gmail.com>
References: <609353e70910251412h3f9a5fc8pcec00445298ccbb6@mail.gmail.com>
	<21067249-763C-45EA-B8CD-4A816DC258E3@syenar.hu>
	<609353e70910260258w7d449706ne74bfddc0a50c363@mail.gmail.com>
	<D7C33012-A333-4ABC-8844-80853F5DCDC8@syenar.hu>
	<609353e70910260334t7bfc083bw3f2263da17fca3d5@mail.gmail.com>
	<6EB375C7-225E-40B7-B996-5D6C9E471814@syenar.hu>
	<609353e70910260429y410069e2p888667b7eeef7a8e@mail.gmail.com>
	<A8ACFF49-25F7-4AC4-A02F-FEA3F2032ACD@syenar.hu>
	<609353e70910260503n9070d21ud68b0bd9cb956223@mail.gmail.com>
	<E1B2D809-AA86-411D-A217-B64BF41F84DE@syenar.hu>
	<609353e70910260521s2e0fb7cay1c84b0c4fc9f482f@mail.gmail.com>
Message-ID: <61684178-D957-4074-8EA7-4101A092E56C@syenar.hu>

> Sorry if i not understand right
>
> Can i use multiple hbc?
> hbmk2 hello.prg hmg.hbc rddads.hbc hbmemio.hbc

Yes, of course.

[ you may even refer to another .hbc from an .hbc file. ]

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Oct 26 08:52:13 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Oct 26 08:52:20 2009
Subject: [Harbour] Destructors of static scope variables
In-Reply-To: <4AE56B6B.4090700@mweb.co.za>
References: <4AE56B6B.4090700@mweb.co.za>
Message-ID: <20091026125212.GA18699@34-mo7-2.home.aster.pl>

On Mon, 26 Oct 2009, Alex Strickland wrote:

Hi

> Is it expected behavior that this program does not output "Destructor"?
> #include "hbclass.ch"
> static oMSCAL
[...]
> If I set oMSCAL to nil it does work of course.

Yes it's expected. Destructors are not executed for when static variables
are cleared and it's intentional design decision. Class definition in
Harbour are stored in static variables so if we enable destructor execution
for static variables the we introduce very serious limitation because at
this moment some class may not exists and it's necessary to document that
it's illegal to use any code which may create new object inside destructors.
Such situation is now in xHarbour and I can only guess that author never
thought what he really does.
To enable destructors for static variables we should 1-st change our class
code to protect class objects against releasing before destructors are
executed. Maybe I'll make it in the future. Now it's documented behavior
that at HVM quit state PRG destructors are disabled just before releasing
static variables so programmer does not have to worry that application may
crash if he activates OOP code for class released before.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Oct 26 09:07:05 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Oct 26 09:07:14 2009
Subject: [Harbour] HBQT - Nearly lost how to implement new GC
In-Reply-To: <26045343.post@talk.nabble.com>
References: <26033190.post@talk.nabble.com>
	<20091023234848.GA8379@34-mo7-2.home.aster.pl>
	<26035057.post@talk.nabble.com>
	<20091024101943.GA8321@34-mo7-2.home.aster.pl>
	<26045343.post@talk.nabble.com>
Message-ID: <20091026130705.GB18699@34-mo7-2.home.aster.pl>

On Sat, 24 Oct 2009, Pritpal Bedi wrote:

Hi,

> There is a slight change as follows and it works.
> This is not a proper change so show me what is the 
> proper code skeleton.
>    QWidget * hbqt_par_QWidget( int iParam )
>    {
>       QPointer< QWidget > * pObj;
>       QWidget * obj = NULL;
> 
>       pObj = ( QPointer< QWidget > * ) hb_parptrGC( &s_gcQWidget, iParam );
>       if( pObj == NULL )
>       {
>          /* Not a QWidget pointer item, check all registered
>           * descendant classes
>           */
>          QT_PARAM_INFO * paramInfo = s_paramList;
>          while( paramInfo )
>          {
> /////////////////      This is the change   ////////////////////////
> //////     hbqt_par_Q*() functions are returning pure object without
> QPointer<> cast. //////
> ////////////////                                   ////////////////////////
>             obj = ( QWidget * ) paramInfo->pFunc( iParam );
>             if( obj )
>                return obj;

Exactly. Sorry it was my typo. I haven't tested above code and I've wrote it
only for this message. Now I see that it needs also yet another modification.
We need parameter to enable/disable RTE in this function. So final version
should look like:

   typedef void * ( * QT_PARAM_FUNC ) ( int, BOOL );
   [...]

   QPageSetupDialog * hbqt_par_QPageSetupDialog( int iParam, BOOL fError )
   {
      QPointer< QPageSetupDialog > * pObj;
      QPageSetupDialog * obj = NULL;

      pObj = ( QPointer< QPageSetupDialog > * )
                                 hb_parptrGC( &s_gcQPageSetupDialog, iParam );
      if( pObj == NULL )
      {
         /* Not a QPageSetupDialog pointer item, check all registered
          * descendant classes
          */
         QT_PARAM_INFO * paramInfo = s_paramList;
         while( paramInfo )
         {
            obj = ( QPageSetupDialog * ) paramInfo->pFunc( iParam, FALSE );
            if( obj )
               return obj;
            paramInfo = paramInfo->pNext;
         }
      }

      if( pObj == NULL )
      {
         if( fError )
         {
            /* RT ERROR - wrong parameter */
         }
      }
      else
      {
         obj = * pObj;
         if( obj == NULL && fError )
         {
            /* RT ERROR - object deleted by other code */
         }
      }

      return obj;
   }

If you want then instead of adding new parameter you can define that
iParam < 0 disables RTE and change this function to:

   QPageSetupDialog * hbqt_par_QPageSetupDialog( int iParam )
   {
      QPointer< QPageSetupDialog > * pObj;
      QPageSetupDialog * obj = NULL;
      BOOL fError = TRUE;

      if( iParam < 0 )
      {
         fError = TRUE;
         iParam = -iParam;
      }
      pObj = ( QPointer< QPageSetupDialog > * )
                                 hb_parptrGC( &s_gcQPageSetupDialog, iParam );
      if( pObj == NULL )
      {
         /* Not a QPageSetupDialog pointer item, check all registered
          * descendant classes
          */
         QT_PARAM_INFO * paramInfo = s_paramList;
         while( paramInfo )
         {
            obj = ( QPageSetupDialog * ) paramInfo->pFunc( -iParam );
            if( obj )
               return obj;
            paramInfo = paramInfo->pNext;
         }
      }

      if( pObj == NULL )
      {
         if( fError )
         {
            /* RT ERROR - wrong parameter */
         }
      }
      else
      {
         obj = * pObj;
         if( obj == NULL && fError )
         {
            /* RT ERROR - object deleted by other code */
         }
      }

      return obj;
   }

though maybe such version is less readable.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Oct 26 09:12:38 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Oct 26 09:12:47 2009
Subject: [Harbour] DllLOad under mingw
In-Reply-To: <1256560020533-3891691.post@n2.nabble.com>
References: <1256560020533-3891691.post@n2.nabble.com>
Message-ID: <1CECC0E2-FDE0-4C48-8870-AD72036CAB35@syenar.hu>

Probably something wrong slipped into latest UNICODE modifications.
I'd still like to ask others to review my code. I can spot one
possible error, but it doesn't fix the problem.

(dll tests work in UNICODE mode, only non-UNICODE seems to be affected)

Brgds,
Viktor

On 2009 Oct 26, at 13:27, AbeB wrote:

>
> Hi All,
>
> DllLoad seems to be broken under mingw.
>
> try
>
> contrib\hbwin\tests\TestDll.prg
>
> can anybody look into this?
>
> Thanks
> abe
> -- 
> View this message in context: http://n2.nabble.com/DllLOad-under-mingw-tp3891691p3891691.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Mon Oct 26 09:19:54 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Oct 26 09:20:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12769] trunk/harbour
Message-ID: <E1N2PUI-0001fe-Sn@d5vjzd1.ch3.sourceforge.com>

Revision: 12769
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12769&view=rev
Author:   vszakats
Date:     2009-10-26 13:19:53 +0000 (Mon, 26 Oct 2009)

Log Message:
-----------
2009-10-26 14:18 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/maindllp.c
    ! Using hb_getProcAddress() instead of GetProcAddress().
      Idea submitted to the list, I didn't make any tests, so 
      review it and change it as needed.

  * contrib/xhb/hbcompat.ch
    + Added HB_GTI_CLIPBOARDPAST related stuff.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/hbcompat.ch
    trunk/harbour/src/vm/maindllp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Mon Oct 26 10:29:13 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Oct 26 10:29:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12770] trunk/harbour
Message-ID: <E1N2QZN-0001Ot-LR@74yxhf1.ch3.sourceforge.com>

Revision: 12770
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12770&view=rev
Author:   druzus
Date:     2009-10-26 14:29:12 +0000 (Mon, 26 Oct 2009)

Log Message:
-----------
2009-10-26 15:29 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbqt/qtcore/QLocale.cpp
  * harbour/contrib/hbqt/qtcore/QByteArray.cpp
    ! fixed casting for 64bit builds - in all 64bit builds except Win64
      LONG is 64bit integer and HB_LONG is declared as LONG not LONGLONG

  * harbour/contrib/hbwin/win_dll.c
    % minor optimization
    * removed unnecessary casting

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/qtcore/QByteArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLocale.cpp
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Oct 26 11:01:46 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Oct 26 11:01:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12770] trunk/harbour
In-Reply-To: <E1N2QZN-0001Ot-LR@74yxhf1.ch3.sourceforge.com>
References: <E1N2QZN-0001Ot-LR@74yxhf1.ch3.sourceforge.com>
Message-ID: <81086B29-BF57-4C6D-AC22-DA92BCCD2D24@syenar.hu>

>  * harbour/contrib/hbwin/win_dll.c
>    % minor optimization
>    * removed unnecessary casting

Thanks a lot. The GPFs is still there so I suspect it has to do
with some other factors.

BTW, do you see any reason why XPP_DLLEXEC->cDLL variable needs
to be kept at all? It would seem to me this can just be deleted.

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Mon Oct 26 11:22:08 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Oct 26 11:22:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12771] trunk/harbour
Message-ID: <E1N2ROa-0006F0-2y@3kljzd1.ch3.sourceforge.com>

Revision: 12771
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12771&view=rev
Author:   vouchcac
Date:     2009-10-26 15:22:06 +0000 (Mon, 26 Oct 2009)

Log Message:
-----------
2009-10-26 08:20 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/generator/hbqtgen.prg
    ! Fixed to honor Przemek's changes pertaining "
      LONG is 64bit integer and HB_LONG is declared as LONG not LONGLONG

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Mon Oct 26 11:42:58 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Oct 26 11:43:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12764] trunk/harbour
In-Reply-To: <E1N1MgR-0000cr-Fx@bj8yhf1.ch3.sourceforge.com>
References: <E1N1MgR-0000cr-Fx@bj8yhf1.ch3.sourceforge.com>
Message-ID: <4AE5C382.7060703@mweb.co.za>

druzus@users.sourceforge.net wrote:

> Log Message:
> -----------
> 2009-10-23 18:07 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/contrib/hbwin/axcore.c
>     ! fixed wrongly initialized reference counter in AX control.
>       Now when AX Window is closed and all .prg references to OLE
>       are cleared pSink is released.

With this code, I do not see the destructor being activated:

#include "hbgtinfo.ch"
#include "hbclass.ch"

REQUEST HB_GT_WVT_DEFAULT

#define WS_CHILD            1073741824
#define WS_VISIBLE          268435456
#define WS_CLIPCHILDREN     33554432

PROCEDURE Main()
    LOCAL oMSCAL
    WAIT "Make sure we are 'Active Window'"
    oMSCAL := HActiveX():Init( WAPI_GetActiveWindow(), "www.google.com", 0, 0, 
300, 300 )
    WAIT "Press any key to exit"
    RETURN

CLASS HActiveX
    DATA oOLE
    METHOD Init
    METHOD Event
    ERROR HANDLER OnError
    DESTRUCTOR Dtor
ENDCLASS

METHOD Init( hWnd, cProgId, nTop, nLeft, nWidth, nHeight, cID ) CLASS HActiveX
    LOCAL nStyle := WS_CHILD + WS_VISIBLE + WS_CLIPCHILDREN
    win_AxInit()
    hWnd := WAPI_CreateWindowEX( 0, "AtlAxWin", cProgId, nStyle, nLeft, nTop, 
nWidth, nHeight, hWnd, 0 )
    //::oOLE := WIN_AxGetControl( hWnd, { | event, ... | Event( event, ... ) }, 
cID )
    ::oOLE := WIN_AxGetControl( hWnd, { | event, ... | ::Event( event, ... ) }, 
cID )
    RETURN self

PROCEDURE Event( ... ) CLASS HActiveX
    LOCAL cEvents := ""
    LOCAL aEvents := { ... }
    aEval( aEvents, { | xEvent | cEvents += HB_ValToStr( xEvent ) + ", " } )
    wapi_OutputDebugString( cEvents )
    RETURN

METHOD OnError() CLASS HActiveX
    RETURN HB_ExecFromArray( ::oOLE, __GetMessage(), HB_AParams() )

METHOD Dtor() CLASS HActiveX
    wapi_OutputDebugString( "Dtor" )
    ::oOLE := NIL
    wapi_OutputDebugString( "After Dtor" )
    RETURN NIL

STATIC PROCEDURE Event( ... )
    LOCAL cEvents := ""
    LOCAL aEvents := { ... }
    aEval( aEvents, { | xEvent | cEvents += HB_ValToStr( xEvent ) + ", " } )
    wapi_OutputDebugString( cEvents )
    RETURN

My understanding of the new garbage collection, was that it should work?

If MSCAL.Calender is substituted it GPF's.

Using the procedure instead of the method procedure works fine, the destructor 
is called, and no GPF, and the object need not be explicitly set to NIL.

Regards
Alex
From itamarlins at gmail.com  Mon Oct 26 11:48:30 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Mon Oct 26 11:49:00 2009
Subject: [Harbour] Re: qtcore4.lib
In-Reply-To: <hc0758$ppd$1@ger.gmane.org>
References: <hc0758$ppd$1@ger.gmane.org>
Message-ID: <hc4gcc$vhq$1@ger.gmane.org>

For compiler mingwin the file hb-mkimp.bat I found this is lines

if "%HB_COMPILER%" == "mingw" (...
...	
       if exist "%HB_DIR_QT%\lib\libQtCore4.a"           copy /b /y 
"%HB_DIR_QT%\lib\libQtCore4.a"           "%HB_LIB_INSTALL%\libQtCore4.a"
       if exist "%HB_DIR_QT%\lib\libQtGui4.a"            copy /b /y 
"%HB_DIR_QT%\lib\libQtGui4.a"            "%HB_LIB_INSTALL%\libQtGui4.a"
       if exist "%HB_DIR_QT%\lib\libQtNetwork4.a"        copy /b /y 
"%HB_DIR_QT%\lib\libQtNetwork4.a"        "%HB_LIB_INSTALL%\libQtNetwork4.a"
       if exist "%HB_DIR_QT%\lib\libQtWebKit4.a"         copy /b /y 
"%HB_DIR_QT%\lib\libQtWebKit4.a"         "%HB_LIB_INSTALL%\libQtWebKit4.a"
-------8<--------

And to MSVC or BCC what is needed ?
Maybe tutor for making HBQT libs step by step.

Best regards,
Itamar M. Lins Jr.

From mbelgrano at deltain.it  Mon Oct 26 11:57:50 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct 26 11:58:16 2009
Subject: [Harbour] Re: qtcore4.lib
In-Reply-To: <hc4gcc$vhq$1@ger.gmane.org>
References: <hc0758$ppd$1@ger.gmane.org> <hc4gcc$vhq$1@ger.gmane.org>
Message-ID: <609353e70910260857vbbb0225g9528373959ad7c01@mail.gmail.com>

BCC Is not supported
AFAIK bcc have low support from qt

2009/10/26 Itamar Lins <itamarlins@gmail.com>:

> And to MSVC or BCC what is needed ?
> Maybe tutor for making HBQT libs step by step.
>
>


-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Oct 26 12:01:55 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Oct 26 12:02:03 2009
Subject: [Harbour] Re: qtcore4.lib
In-Reply-To: <hc4gcc$vhq$1@ger.gmane.org>
References: <hc0758$ppd$1@ger.gmane.org> <hc4gcc$vhq$1@ger.gmane.org>
Message-ID: <6263733E-0298-4D2F-AB96-26658538832C@syenar.hu>

>      if exist "%HB_DIR_QT%\lib\libQtCore4.a"           copy /b /y  
> "%HB_DIR_QT%\lib\libQtCore4.a"           "%HB_LIB_INSTALL% 
> \libQtCore4.a"
>      if exist "%HB_DIR_QT%\lib\libQtGui4.a"            copy /b /y  
> "%HB_DIR_QT%\lib\libQtGui4.a"            "%HB_LIB_INSTALL% 
> \libQtGui4.a"
>      if exist "%HB_DIR_QT%\lib\libQtNetwork4.a"        copy /b /y  
> "%HB_DIR_QT%\lib\libQtNetwork4.a"        "%HB_LIB_INSTALL% 
> \libQtNetwork4.a"
>      if exist "%HB_DIR_QT%\lib\libQtWebKit4.a"         copy /b /y  
> "%HB_DIR_QT%\lib\libQtWebKit4.a"         "%HB_LIB_INSTALL% 
> \libQtWebKit4.a"
> -------8<--------
>
> And to MSVC or BCC what is needed ?

For MSVC there is no way to create libs from
dlls. In this case the only choice is to build
MSVC QT libs from source.

Same applies for BCC, but in this case I didn't
try to build it manually, but I wouldn't be
terribly surprised if it didn't work.

Better would be to forget BCC for any serious jobs.

> Maybe tutor for making HBQT libs step by step.

Making HBQT is quite straightforward and
covered in INSTALL. If you mean QT, it's not
Harbour's job to document it, but you'll find
great step by step guide on QT website. Someone
even posted a link, it's somewhere in the archives.
Maybe someone has it at hand to repost it.

Brgds,
Viktor

From itamarlins at gmail.com  Mon Oct 26 12:37:22 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Mon Oct 26 12:37:51 2009
Subject: [Harbour] Re: qtcore4.lib
In-Reply-To: <6263733E-0298-4D2F-AB96-26658538832C@syenar.hu>
References: <hc0758$ppd$1@ger.gmane.org> <hc4gcc$vhq$1@ger.gmane.org>
	<6263733E-0298-4D2F-AB96-26658538832C@syenar.hu>
Message-ID: <hc4j80$ao6$1@ger.gmane.org>

Viktor Szak?ts escreveu:
> 
> Better would be to forget BCC for any serious jobs.
Ok, BCC was abandoned for me.

> 
>> Maybe tutor for making HBQT libs step by step.
> 
> Making HBQT is quite straightforward and
> covered in INSTALL. If you mean QT, it's not
> Harbour's job to document it, but you'll find
> great step by step guide on QT website. Someone
> even posted a link, it's somewhere in the archives.
> Maybe someone has it at hand to repost it.
I found this is link
http://da-crystal.net/GCMS/blog/qt-windows-amp-vc-2008-express-part1/
But the problem is time of creation.

 >now run 'nmake" command , to compile the source ( it will take long 
 >time , 1 hour - 4 hours) :
 >   * C:\QtSource> nmake


Best regards,
Itamar M Lins Jr.

From druzus at acn.waw.pl  Mon Oct 26 12:39:43 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Oct 26 12:39:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12764] trunk/harbour
In-Reply-To: <4AE5C382.7060703@mweb.co.za>
References: <E1N1MgR-0000cr-Fx@bj8yhf1.ch3.sourceforge.com>
	<4AE5C382.7060703@mweb.co.za>
Message-ID: <20091026163943.GA17416@34-mo7-2.home.aster.pl>

On Mon, 26 Oct 2009, Alex Strickland wrote:
> >Log Message:
> >-----------
> >2009-10-23 18:07 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> >  * harbour/contrib/hbwin/axcore.c
> >    ! fixed wrongly initialized reference counter in AX control.
> >      Now when AX Window is closed and all .prg references to OLE
> >      are cleared pSink is released.
> With this code, I do not see the destructor being activated:
> 
> #include "hbgtinfo.ch"
> #include "hbclass.ch"
> REQUEST HB_GT_WVT_DEFAULT
> #define WS_CHILD            1073741824
> #define WS_VISIBLE          268435456
> #define WS_CLIPCHILDREN     33554432
> PROCEDURE Main()
>    LOCAL oMSCAL
>    WAIT "Make sure we are 'Active Window'"
>    oMSCAL := HActiveX():Init( WAPI_GetActiveWindow(), "www.google.com", 0, 0, 300, 300 )
>    WAIT "Press any key to exit"
>    RETURN
> 
> CLASS HActiveX
>    DATA oOLE
>    METHOD Init
>    METHOD Event
>    ERROR HANDLER OnError
>    DESTRUCTOR Dtor
> ENDCLASS
> 
> METHOD Init( hWnd, cProgId, nTop, nLeft, nWidth, nHeight, cID ) CLASS HActiveX
>    LOCAL nStyle := WS_CHILD + WS_VISIBLE + WS_CLIPCHILDREN
>    win_AxInit()
>    hWnd := WAPI_CreateWindowEX( 0, "AtlAxWin", cProgId, nStyle,
> nLeft, nTop, nWidth, nHeight, hWnd, 0 )
>    //::oOLE := WIN_AxGetControl( hWnd, { | event, ... | Event(
> event, ... ) }, cID )
>    ::oOLE := WIN_AxGetControl( hWnd, { | event, ... | ::Event(
> event, ... ) }, cID )
>    RETURN self

You are creating new window and you do not store hWnd so this window is
never closed. Classic resource leak. It also means that AX control for
this window isn't freed. Add to HActiveX class
   DATA hWnd
and in this function store new window handler in ::hWnd.

> PROCEDURE Event( ... ) CLASS HActiveX
>    LOCAL cEvents := ""
>    LOCAL aEvents := { ... }
>    aEval( aEvents, { | xEvent | cEvents += HB_ValToStr( xEvent ) + ", " } )
>    wapi_OutputDebugString( cEvents )
>    RETURN
> METHOD OnError() CLASS HActiveX
>    RETURN HB_ExecFromArray( ::oOLE, __GetMessage(), HB_AParams() )
> METHOD Dtor() CLASS HActiveX
>    wapi_OutputDebugString( "Dtor" )
>    ::oOLE := NIL

Add here:
   WAPI_DestroyWindow( ::hWnd )

>    wapi_OutputDebugString( "After Dtor" )
>    RETURN NIL
> STATIC PROCEDURE Event( ... )
>    LOCAL cEvents := ""
>    LOCAL aEvents := { ... }
>    aEval( aEvents, { | xEvent | cEvents += HB_ValToStr( xEvent ) + ", " } )
>    wapi_OutputDebugString( cEvents )
>    RETURN
> 
> My understanding of the new garbage collection, was that it should work?

No. So far no one defined when call back should be deactivated and added
code which will implement such definition. New GC functionality is not used
with our AX code.

> If MSCAL.Calender is substituted it GPF's.

Yes it is.

> Using the procedure instead of the method procedure works fine, the
> destructor is called, and no GPF, and the object need not be
> explicitly set to NIL.

It's not fully cleared because your code does not close hWnd so callback
codeblock is never freed. Please recompile Harbour with HB_FM_STATISTIC
(it should work correctly with current SVN) and you will see memory leak
report. If you add:
   WAPI_DestroyWindow( ::hWnd )
then it will resolve the problem and you can try to think about automatic
GC activation. When it should be activated? Should we bound it with oOLE
or maybe we should store window handler in GC item and bound callback
destructor with this item so it will be activated when you make:
   hWnd := NIL
In such case it will not be necessary to explicitly execute
WAPI_DestroyWindow() because it will execute automatically by
hWnd destructor.
I'm not a windows programmer so I do not want to decide what is
the best choice though I can implement it if you can precisely
define what you need.

best regards,
Przemek
From maufacc at adinet.com.uy  Mon Oct 26 13:18:20 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Mon Oct 26 13:18:29 2009
Subject: [Harbour]	Re:	SF	bug	tracker#2873146:	Lang	ES850c	not	fully	compatible
	with clipper
In-Reply-To: <4ADF1643.6070802@adinet.com.uy>
References: <1A07FEDC778C3E4AA417F089511F859C1D7A237D3F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7A237D49@Mail-yoq.SYNEL-COMPANY.LTD>	<4ACC755A.2080209@gmail.com>	<2FE6D25A-4BB8-4BAF-8E52-B62728315E45@syenar.hu>	<4ACC7CE4.30700@gmail.com>	<959650C3-C99E-4B2D-9952-78C1925BFF77@syenar.hu>	<4ACCEA9A.7090508@gmail.com>	<A00EDF6E-3376-48E2-B90A-79579B24C491@syenar.hu>	<4ACD2353.3080103@gmail.com>	<5DD2BBB9-6EFD-4E6D-8844-2BB9F978ABC4@syenar.hu>	<4ACE2246.3040406@adinet.com.uy>	<4ACE6EDC.2030901@gmail.com>	<4ACF0BBE.2010607@adinet.com.uy>	<4ACF16D1.5090307@gmail.com>	<4ACF18B7.5030601@adinet.com.uy>	<4ACF1EA8.9010205@gmail.com>	<4ACF22EC.5050400@adinet.com.uy>	<4ACF55F3.1080708@gmail.com>	<4AD05700.7050502@adinet.com.uy>	<4AD0BCC4.6030807@gmail.com>	<4AD0C3AD.5030706@gmail.com>	<4AD4DEA0.5070300@adinet.com.uy>	<4AD5A7CE.7090303@gmail.com>	<4AD8ECD8.7030604@adinet.com.uy>
	<4AD8FA65.3090209@gmail.com> <4ADF1643.6070802@adinet.com.uy>
Message-ID: <4AE5D9DC.1000503@adinet.com.uy>

An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091026/6a8ca2fb/attachment.html
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cpinfo.zip
Type: application/octet-stream
Size: 434 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091026/6a8ca2fb/cpinfo.obj
From mbelgrano at deltain.it  Mon Oct 26 13:45:24 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Oct 26 13:45:51 2009
Subject: [Harbour] Re: qtcore4.lib
In-Reply-To: <hc4j80$ao6$1@ger.gmane.org>
References: <hc0758$ppd$1@ger.gmane.org> <hc4gcc$vhq$1@ger.gmane.org> 
	<6263733E-0298-4D2F-AB96-26658538832C@syenar.hu>
	<hc4j80$ao6$1@ger.gmane.org>
Message-ID: <609353e70910261045s792dddb5rc6d42af6082bc58d@mail.gmail.com>

Bcc non seem supported as compiler by qt
http://doc.trolltech.com/4.5/compiler-notes.html


2009/10/26 Itamar Lins <itamarlins@gmail.com>:
> Viktor Szak?ts escreveu:
>>
>> Better would be to forget BCC for any serious jobs.
>
> Ok, BCC was abandoned for me.
>


-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Oct 26 14:05:28 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Oct 26 14:05:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12770] trunk/harbour
In-Reply-To: <81086B29-BF57-4C6D-AC22-DA92BCCD2D24@syenar.hu>
References: <E1N2QZN-0001Ot-LR@74yxhf1.ch3.sourceforge.com>
	<81086B29-BF57-4C6D-AC22-DA92BCCD2D24@syenar.hu>
Message-ID: <A834B2F0-5208-4C9B-83E5-052BF1936BB7@syenar.hu>

As per gdb, the crash is somewhere in DllExec().

Brgds,
Viktor

On 2009 Oct 26, at 16:01, Viktor Szak?ts wrote:

>> * harbour/contrib/hbwin/win_dll.c
>>   % minor optimization
>>   * removed unnecessary casting
>
> Thanks a lot. The GPFs is still there so I suspect it has to do
> with some other factors.
>
> BTW, do you see any reason why XPP_DLLEXEC->cDLL variable needs
> to be kept at all? It would seem to me this can just be deleted.
>
> Brgds,
> Viktor
>

From druzus at users.sourceforge.net  Mon Oct 26 15:17:35 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Oct 26 15:17:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12772] trunk/harbour
Message-ID: <E1N2V4R-0006Dm-Q8@74yxhf1.ch3.sourceforge.com>

Revision: 12772
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12772&view=rev
Author:   druzus
Date:     2009-10-26 19:17:34 +0000 (Mon, 26 Oct 2009)

Log Message:
-----------
2009-10-26 20:17 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/garbage.c
    ! fixed hb_gcGripDrop() to work well with unlocked items and
      items freed by GC

  * harbour/tests/speedtst.prg
    ! typo in comment

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/garbage.c
    trunk/harbour/tests/speedtst.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From carozodequilmes at gmail.com  Mon Oct 26 15:47:00 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Mon Oct 26 15:47:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12768] trunk/harbour
In-Reply-To: <E1N2H0Q-0004OM-DO@3kljzd1.ch3.sourceforge.com>
References: <E1N2H0Q-0004OM-DO@3kljzd1.ch3.sourceforge.com>
Message-ID: <578c73340910261247k7c4ece3fq58777456458e50ee@mail.gmail.com>

Great job !!!!

Thanks
CdQ

On Mon, Oct 26, 2009 at 1:16 AM, <vouchcac@users.sourceforge.net> wrote:

> Revision: 12768
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12768&view=rev
> Author:   vouchcac
> Date:     2009-10-26 04:16:27 +0000 (Mon, 26 Oct 2009)
>
> Log Message:
> -----------
> 2009-10-25 21:04 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbqt/generator/hbqtgen.prg
>
>  * contrib/hbqt/qth/QAbstractItemModel.qth
>  * contrib/hbqt/qth/QTableView.qth
>
>  * contrib/hbqt/hbqt.h
>  * contrib/hbqt/hbqt_slots.cpp
>  * contrib/hbqt/moc_slots.cpp
>
>  * contrib/hbqt/qtcore/TQAbstractItemModel.prg
>  * contrib/hbqt/qtcore/TQAbstractListModel.prg
>  * contrib/hbqt/qtcore/TQAbstractTableModel.prg
>  * contrib/hbqt/qtcore/TQBitArray.prg
>  * contrib/hbqt/qtcore/TQByteArray.prg
>  * contrib/hbqt/qtcore/TQCoreApplication.prg
>  * contrib/hbqt/qtcore/TQDataStream.prg
>  * contrib/hbqt/qtcore/TQDate.prg
>  * contrib/hbqt/qtcore/TQDateTime.prg
>  * contrib/hbqt/qtcore/TQDir.prg
>  * contrib/hbqt/qtcore/TQEvent.prg
>  * contrib/hbqt/qtcore/TQEventLoop.prg
>  * contrib/hbqt/qtcore/TQFile.prg
>  * contrib/hbqt/qtcore/TQFileInfo.prg
>  * contrib/hbqt/qtcore/TQIODevice.prg
>  * contrib/hbqt/qtcore/TQLatin1Char.prg
>  * contrib/hbqt/qtcore/TQLatin1String.prg
>  * contrib/hbqt/qtcore/TQLine.prg
>  * contrib/hbqt/qtcore/TQLineF.prg
>  * contrib/hbqt/qtcore/TQList.prg
>  * contrib/hbqt/qtcore/TQLocale.prg
>  * contrib/hbqt/qtcore/TQMimeData.prg
>  * contrib/hbqt/qtcore/TQModelIndex.prg
>  * contrib/hbqt/qtcore/TQObject.prg
>  * contrib/hbqt/qtcore/TQPoint.prg
>  * contrib/hbqt/qtcore/TQPointF.prg
>  * contrib/hbqt/qtcore/TQProcess.prg
>  * contrib/hbqt/qtcore/TQRect.prg
>  * contrib/hbqt/qtcore/TQRectF.prg
>  * contrib/hbqt/qtcore/TQRegExp.prg
>  * contrib/hbqt/qtcore/TQResource.prg
>  * contrib/hbqt/qtcore/TQSignalMapper.prg
>  * contrib/hbqt/qtcore/TQSize.prg
>  * contrib/hbqt/qtcore/TQSizeF.prg
>  * contrib/hbqt/qtcore/TQStringList.prg
>  * contrib/hbqt/qtcore/TQTextBoundaryFinder.prg
>  * contrib/hbqt/qtcore/TQTextCodec.prg
>  * contrib/hbqt/qtcore/TQTextDecoder.prg
>  * contrib/hbqt/qtcore/TQTextEncoder.prg
>  * contrib/hbqt/qtcore/TQTextStream.prg
>  * contrib/hbqt/qtcore/TQThread.prg
>  * contrib/hbqt/qtcore/TQTime.prg
>  * contrib/hbqt/qtcore/TQTimer.prg
>  * contrib/hbqt/qtcore/TQTranslator.prg
>  * contrib/hbqt/qtcore/TQUrl.prg
>  * contrib/hbqt/qtcore/TQVariant.prg
>
>  * contrib/hbqt/qtgui/TQAbstractButton.prg
>  * contrib/hbqt/qtgui/TQAbstractItemDelegate.prg
>  * contrib/hbqt/qtgui/TQAbstractItemView.prg
>  * contrib/hbqt/qtgui/TQAbstractPrintDialog.prg
>  * contrib/hbqt/qtgui/TQAbstractProxyModel.prg
>  * contrib/hbqt/qtgui/TQAbstractScrollArea.prg
>  * contrib/hbqt/qtgui/TQAbstractSlider.prg
>  * contrib/hbqt/qtgui/TQAbstractSpinBox.prg
>  * contrib/hbqt/qtgui/TQAbstractTextDocumentLayout.prg
>  * contrib/hbqt/qtgui/TQAction.prg
>  * contrib/hbqt/qtgui/TQActionGroup.prg
>  * contrib/hbqt/qtgui/TQApplication.prg
>  * contrib/hbqt/qtgui/TQBitmap.prg
>  * contrib/hbqt/qtgui/TQBoxLayout.prg
>  * contrib/hbqt/qtgui/TQBrush.prg
>  * contrib/hbqt/qtgui/TQButtonGroup.prg
>  * contrib/hbqt/qtgui/TQCalendarWidget.prg
>  * contrib/hbqt/qtgui/TQCheckBox.prg
>  * contrib/hbqt/qtgui/TQClipboard.prg
>  * contrib/hbqt/qtgui/TQColor.prg
>  * contrib/hbqt/qtgui/TQColorDialog.prg
>  * contrib/hbqt/qtgui/TQComboBox.prg
>  * contrib/hbqt/qtgui/TQCommandLinkButton.prg
>  * contrib/hbqt/qtgui/TQCommonStyle.prg
>  * contrib/hbqt/qtgui/TQCompleter.prg
>  * contrib/hbqt/qtgui/TQConicalGradient.prg
>  * contrib/hbqt/qtgui/TQContextMenuEvent.prg
>  * contrib/hbqt/qtgui/TQCursor.prg
>  * contrib/hbqt/qtgui/TQDateEdit.prg
>  * contrib/hbqt/qtgui/TQDateTimeEdit.prg
>  * contrib/hbqt/qtgui/TQDesktopWidget.prg
>  * contrib/hbqt/qtgui/TQDial.prg
>  * contrib/hbqt/qtgui/TQDialog.prg
>  * contrib/hbqt/qtgui/TQDirModel.prg
>  * contrib/hbqt/qtgui/TQDockWidget.prg
>  * contrib/hbqt/qtgui/TQDoubleSpinBox.prg
>  * contrib/hbqt/qtgui/TQDragEnterEvent.prg
>  * contrib/hbqt/qtgui/TQDragLeaveEvent.prg
>  * contrib/hbqt/qtgui/TQDragMoveEvent.prg
>  * contrib/hbqt/qtgui/TQDropEvent.prg
>  * contrib/hbqt/qtgui/TQErrorMessage.prg
>  * contrib/hbqt/qtgui/TQFileDialog.prg
>  * contrib/hbqt/qtgui/TQFileIconProvider.prg
>  * contrib/hbqt/qtgui/TQFileSystemModel.prg
>  * contrib/hbqt/qtgui/TQFocusEvent.prg
>  * contrib/hbqt/qtgui/TQFocusFrame.prg
>  * contrib/hbqt/qtgui/TQFont.prg
>  * contrib/hbqt/qtgui/TQFontComboBox.prg
>  * contrib/hbqt/qtgui/TQFontDatabase.prg
>  * contrib/hbqt/qtgui/TQFontDialog.prg
>  * contrib/hbqt/qtgui/TQFontInfo.prg
>  * contrib/hbqt/qtgui/TQFontMetrics.prg
>  * contrib/hbqt/qtgui/TQFontMetricsF.prg
>  * contrib/hbqt/qtgui/TQFormLayout.prg
>  * contrib/hbqt/qtgui/TQFrame.prg
>  * contrib/hbqt/qtgui/TQGradient.prg
>  * contrib/hbqt/qtgui/TQGridLayout.prg
>  * contrib/hbqt/qtgui/TQGroupBox.prg
>  * contrib/hbqt/qtgui/TQHBoxLayout.prg
>  * contrib/hbqt/qtgui/TQHeaderView.prg
>  * contrib/hbqt/qtgui/TQHelpEvent.prg
>  * contrib/hbqt/qtgui/TQIcon.prg
>  * contrib/hbqt/qtgui/TQImage.prg
>  * contrib/hbqt/qtgui/TQImageReader.prg
>  * contrib/hbqt/qtgui/TQImageWriter.prg
>  * contrib/hbqt/qtgui/TQInputContext.prg
>  * contrib/hbqt/qtgui/TQInputDialog.prg
>  * contrib/hbqt/qtgui/TQInputEvent.prg
>  * contrib/hbqt/qtgui/TQInputMethodEvent.prg
>  * contrib/hbqt/qtgui/TQItemSelection.prg
>  * contrib/hbqt/qtgui/TQItemSelectionModel.prg
>  * contrib/hbqt/qtgui/TQKeyEvent.prg
>  * contrib/hbqt/qtgui/TQKeySequence.prg
>  * contrib/hbqt/qtgui/TQLabel.prg
>  * contrib/hbqt/qtgui/TQLayout.prg
>  * contrib/hbqt/qtgui/TQLayoutItem.prg
>  * contrib/hbqt/qtgui/TQLCDNumber.prg
>  * contrib/hbqt/qtgui/TQLinearGradient.prg
>  * contrib/hbqt/qtgui/TQLineEdit.prg
>  * contrib/hbqt/qtgui/TQListView.prg
>  * contrib/hbqt/qtgui/TQListWidget.prg
>  * contrib/hbqt/qtgui/TQListWidgetItem.prg
>  * contrib/hbqt/qtgui/TQMainWindow.prg
>  * contrib/hbqt/qtgui/TQMatrix.prg
>  * contrib/hbqt/qtgui/TQMenu.prg
>  * contrib/hbqt/qtgui/TQMenuBar.prg
>  * contrib/hbqt/qtgui/TQMessageBox.prg
>  * contrib/hbqt/qtgui/TQMouseEvent.prg
>  * contrib/hbqt/qtgui/TQMoveEvent.prg
>  * contrib/hbqt/qtgui/TQMovie.prg
>  * contrib/hbqt/qtgui/TQPageSetupDialog.prg
>  * contrib/hbqt/qtgui/TQPaintDevice.prg
>  * contrib/hbqt/qtgui/TQPainter.prg
>  * contrib/hbqt/qtgui/TQPainterPath.prg
>  * contrib/hbqt/qtgui/TQPaintEvent.prg
>  * contrib/hbqt/qtgui/TQPalette.prg
>  * contrib/hbqt/qtgui/TQPen.prg
>  * contrib/hbqt/qtgui/TQPicture.prg
>  * contrib/hbqt/qtgui/TQPixmap.prg
>  * contrib/hbqt/qtgui/TQPolygon.prg
>  * contrib/hbqt/qtgui/TQPolygonF.prg
>  * contrib/hbqt/qtgui/TQPrintDialog.prg
>  * contrib/hbqt/qtgui/TQPrintEngine.prg
>  * contrib/hbqt/qtgui/TQPrinter.prg
>  * contrib/hbqt/qtgui/TQPrintPreviewDialog.prg
>  * contrib/hbqt/qtgui/TQProgressBar.prg
>  * contrib/hbqt/qtgui/TQProgressDialog.prg
>  * contrib/hbqt/qtgui/TQPushButton.prg
>  * contrib/hbqt/qtgui/TQRadialGradient.prg
>  * contrib/hbqt/qtgui/TQRadioButton.prg
>  * contrib/hbqt/qtgui/TQRegion.prg
>  * contrib/hbqt/qtgui/TQResizeEvent.prg
>  * contrib/hbqt/qtgui/TQScrollArea.prg
>  * contrib/hbqt/qtgui/TQScrollBar.prg
>  * contrib/hbqt/qtgui/TQSessionManager.prg
>  * contrib/hbqt/qtgui/TQSizeGrip.prg
>  * contrib/hbqt/qtgui/TQSizePolicy.prg
>  * contrib/hbqt/qtgui/TQSlider.prg
>  * contrib/hbqt/qtgui/TQSound.prg
>  * contrib/hbqt/qtgui/TQSpacerItem.prg
>  * contrib/hbqt/qtgui/TQSpinBox.prg
>  * contrib/hbqt/qtgui/TQSplashScreen.prg
>  * contrib/hbqt/qtgui/TQSplitter.prg
>  * contrib/hbqt/qtgui/TQStandardItem.prg
>  * contrib/hbqt/qtgui/TQStandardItemModel.prg
>  * contrib/hbqt/qtgui/TQStatusBar.prg
>  * contrib/hbqt/qtgui/TQStringListModel.prg
>  * contrib/hbqt/qtgui/TQStyle.prg
>  * contrib/hbqt/qtgui/TQStyledItemDelegate.prg
>  * contrib/hbqt/qtgui/TQStyleFactory.prg
>  * contrib/hbqt/qtgui/TQStyleHintReturn.prg
>  * contrib/hbqt/qtgui/TQStyleHintReturnMask.prg
>  * contrib/hbqt/qtgui/TQStyleHintReturnVariant.prg
>  * contrib/hbqt/qtgui/TQStyleOption.prg
>  * contrib/hbqt/qtgui/TQStyleOptionButton.prg
>  * contrib/hbqt/qtgui/TQStyleOptionComboBox.prg
>  * contrib/hbqt/qtgui/TQStyleOptionComplex.prg
>  * contrib/hbqt/qtgui/TQStyleOptionDockWidget.prg
>  * contrib/hbqt/qtgui/TQStyleOptionFocusRect.prg
>  * contrib/hbqt/qtgui/TQStyleOptionFrame.prg
>  * contrib/hbqt/qtgui/TQStyleOptionGroupBox.prg
>  * contrib/hbqt/qtgui/TQStyleOptionHeader.prg
>  * contrib/hbqt/qtgui/TQStyleOptionMenuItem.prg
>  * contrib/hbqt/qtgui/TQStyleOptionProgressBar.prg
>  * contrib/hbqt/qtgui/TQStyleOptionSizeGrip.prg
>  * contrib/hbqt/qtgui/TQStyleOptionSlider.prg
>  * contrib/hbqt/qtgui/TQStyleOptionSpinBox.prg
>  * contrib/hbqt/qtgui/TQStyleOptionTab.prg
>  * contrib/hbqt/qtgui/TQStyleOptionTabBarBase.prg
>  * contrib/hbqt/qtgui/TQStyleOptionTabWidgetFrame.prg
>  * contrib/hbqt/qtgui/TQStyleOptionTitleBar.prg
>  * contrib/hbqt/qtgui/TQStyleOptionToolBar.prg
>  * contrib/hbqt/qtgui/TQStyleOptionToolBox.prg
>  * contrib/hbqt/qtgui/TQStyleOptionToolButton.prg
>  * contrib/hbqt/qtgui/TQStyleOptionViewItem.prg
>  * contrib/hbqt/qtgui/TQStylePainter.prg
>  * contrib/hbqt/qtgui/TQSystemTrayIcon.prg
>  * contrib/hbqt/qtgui/TQTabBar.prg
>  * contrib/hbqt/qtgui/TQTableView.prg
>  * contrib/hbqt/qtgui/TQTableWidget.prg
>  * contrib/hbqt/qtgui/TQTableWidgetItem.prg
>  * contrib/hbqt/qtgui/TQTableWidgetSelectionRange.prg
>  * contrib/hbqt/qtgui/TQTabWidget.prg
>  * contrib/hbqt/qtgui/TQTextBlock.prg
>  * contrib/hbqt/qtgui/TQTextBlockFormat.prg
>  * contrib/hbqt/qtgui/TQTextBlockGroup.prg
>  * contrib/hbqt/qtgui/TQTextBrowser.prg
>  * contrib/hbqt/qtgui/TQTextCharFormat.prg
>  * contrib/hbqt/qtgui/TQTextCursor.prg
>  * contrib/hbqt/qtgui/TQTextDocument.prg
>  * contrib/hbqt/qtgui/TQTextDocumentFragment.prg
>  * contrib/hbqt/qtgui/TQTextDocumentWriter.prg
>  * contrib/hbqt/qtgui/TQTextEdit.prg
>  * contrib/hbqt/qtgui/TQTextFormat.prg
>  * contrib/hbqt/qtgui/TQTextFragment.prg
>  * contrib/hbqt/qtgui/TQTextFrame.prg
>  * contrib/hbqt/qtgui/TQTextFrameFormat.prg
>  * contrib/hbqt/qtgui/TQTextImageFormat.prg
>  * contrib/hbqt/qtgui/TQTextInlineObject.prg
>  * contrib/hbqt/qtgui/TQTextItem.prg
>  * contrib/hbqt/qtgui/TQTextLayout.prg
>  * contrib/hbqt/qtgui/TQTextLength.prg
>  * contrib/hbqt/qtgui/TQTextLine.prg
>  * contrib/hbqt/qtgui/TQTextListFormat.prg
>  * contrib/hbqt/qtgui/TQTextObject.prg
>  * contrib/hbqt/qtgui/TQTextOption.prg
>  * contrib/hbqt/qtgui/TQTextTableFormat.prg
>  * contrib/hbqt/qtgui/TQTimeEdit.prg
>  * contrib/hbqt/qtgui/TQToolBar.prg
>  * contrib/hbqt/qtgui/TQToolBox.prg
>  * contrib/hbqt/qtgui/TQToolButton.prg
>  * contrib/hbqt/qtgui/TQTransform.prg
>  * contrib/hbqt/qtgui/TQTreeView.prg
>  * contrib/hbqt/qtgui/TQTreeWidget.prg
>  * contrib/hbqt/qtgui/TQTreeWidgetItem.prg
>  * contrib/hbqt/qtgui/TQValidator.prg
>  * contrib/hbqt/qtgui/TQVBoxLayout.prg
>  * contrib/hbqt/qtgui/TQWheelEvent.prg
>  * contrib/hbqt/qtgui/TQWidget.prg
>  * contrib/hbqt/qtgui/TQWidgetAction.prg
>  * contrib/hbqt/qtgui/TQWidgetItem.prg
>  * contrib/hbqt/qtgui/TQWindowsStyle.prg
>  * contrib/hbqt/qtgui/TQWindowsXPStyle.prg
>  * contrib/hbqt/qtgui/TQWizard.prg
>  * contrib/hbqt/qtgui/TQWizardPage.prg
>
>  * contrib/hbqt/qtnetwork/TQFtp.prg
>  * contrib/hbqt/qtnetwork/TQHttp.prg
>  * contrib/hbqt/qtnetwork/TQHttpRequestHeader.prg
>  * contrib/hbqt/qtnetwork/TQHttpResponseHeader.prg
>  * contrib/hbqt/qtnetwork/TQNetworkRequest.prg
>
>  * contrib/hbqt/qtwebkit/TQWebFrame.prg
>  * contrib/hbqt/qtwebkit/TQWebHistory.prg
>  * contrib/hbqt/qtwebkit/TQWebHistoryInterface.prg
>  * contrib/hbqt/qtwebkit/TQWebHistoryItem.prg
>  * contrib/hbqt/qtwebkit/TQWebHitTestResult.prg
>  * contrib/hbqt/qtwebkit/TQWebPage.prg
>  * contrib/hbqt/qtwebkit/TQWebPluginFactory.prg
>  * contrib/hbqt/qtwebkit/TQWebSecurityOrigin.prg
>  * contrib/hbqt/qtwebkit/TQWebSettings.prg
>  * contrib/hbqt/qtwebkit/TQWebView.prg
>
>  * contrib/hbxbp/xbpbrowse.prg
>  * contrib/hbxbp/xbptabpage.prg
>  * contrib/hbxbp/xbptreeview.prg
>  * contrib/hbxbp/xbpwindow.prg
>
>  * contrib/hbqt/tests/demoqt.prg
>  * contrib/hbxbp/tests/demoxbp.prg
>
>    ! Fixed LONG-STANDING memory consumption bug.
>    ! Optimized CLASS code.
>    ! Reworked some classes.
>
>    TODO: demoxbp.exe terminates with GPF. I know what is that.
>          It will take another couple of days to fix.
>
>    Now Harbour has a native GUI framework we can build upon our castles.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>     trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
>    trunk/harbour/contrib/hbqt/hbqt.h
>    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
>    trunk/harbour/contrib/hbqt/moc_slots.cpp
>    trunk/harbour/contrib/hbqt/qtcore/TQAbstractItemModel.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQAbstractListModel.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQAbstractTableModel.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQBitArray.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQByteArray.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQCoreApplication.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQDataStream.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQDate.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQDateTime.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQDir.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQEvent.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQEventLoop.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQFile.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQFileInfo.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQIODevice.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQLatin1Char.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQLatin1String.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQLine.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQLineF.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQList.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQLocale.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQMimeData.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQModelIndex.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQObject.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQPoint.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQPointF.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQProcess.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQRect.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQRectF.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQRegExp.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQResource.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQSignalMapper.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQSize.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQSizeF.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQStringList.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQTextBoundaryFinder.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQTextCodec.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQTextDecoder.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQTextEncoder.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQTextStream.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQThread.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQTime.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQTimer.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQTranslator.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQUrl.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQVariant.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQAbstractButton.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQAbstractItemDelegate.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQAbstractItemView.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQAbstractPrintDialog.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQAbstractProxyModel.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQAbstractScrollArea.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQAbstractSlider.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQAbstractSpinBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQAbstractTextDocumentLayout.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQAction.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQActionGroup.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQApplication.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQBitmap.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQBoxLayout.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQBrush.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQButtonGroup.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQCalendarWidget.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQCheckBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQClipboard.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQColor.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQColorDialog.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQComboBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQCommandLinkButton.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQCommonStyle.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQCompleter.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQConicalGradient.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQContextMenuEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQCursor.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDateEdit.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDateTimeEdit.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDesktopWidget.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDial.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDialog.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDirModel.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDockWidget.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDoubleSpinBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDragEnterEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDragLeaveEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDragMoveEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDropEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQErrorMessage.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFileDialog.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFileIconProvider.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFileSystemModel.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFocusEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFocusFrame.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFont.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFontComboBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFontDatabase.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFontDialog.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFontInfo.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFontMetrics.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFontMetricsF.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFormLayout.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFrame.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQGradient.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQGridLayout.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQGroupBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQHBoxLayout.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQHeaderView.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQHelpEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQIcon.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQImage.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQImageReader.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQImageWriter.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQInputContext.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQInputDialog.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQInputEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQInputMethodEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQItemSelection.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQItemSelectionModel.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQKeyEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQKeySequence.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQLCDNumber.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQLabel.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQLayout.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQLayoutItem.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQLineEdit.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQLinearGradient.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQListView.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQListWidget.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQListWidgetItem.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQMainWindow.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQMatrix.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQMenu.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQMenuBar.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQMessageBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQMouseEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQMoveEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQMovie.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPageSetupDialog.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPaintDevice.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPaintEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPainter.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPainterPath.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPalette.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPen.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPicture.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPixmap.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPolygon.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPolygonF.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPrintDialog.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPrintEngine.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPrintPreviewDialog.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPrinter.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQProgressBar.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQProgressDialog.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPushButton.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQRadialGradient.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQRadioButton.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQRegion.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQResizeEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQScrollArea.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQScrollBar.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSessionManager.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSizeGrip.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSizePolicy.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSlider.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSound.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSpacerItem.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSpinBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSplashScreen.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSplitter.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStandardItem.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStandardItemModel.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStatusBar.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStringListModel.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyle.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleFactory.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturn.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturnMask.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturnVariant.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOption.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionButton.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionComboBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionComplex.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionDockWidget.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionFocusRect.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionFrame.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionGroupBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionHeader.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionMenuItem.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionProgressBar.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSizeGrip.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSlider.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSpinBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTab.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTabBarBase.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTabWidgetFrame.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTitleBar.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolBar.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolButton.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionViewItem.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStylePainter.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyledItemDelegate.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSystemTrayIcon.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTabBar.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTabWidget.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTableView.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTableWidget.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTableWidgetItem.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTableWidgetSelectionRange.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextBlock.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextBlockFormat.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextBlockGroup.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextBrowser.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextCharFormat.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextCursor.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextDocument.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextDocumentFragment.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextDocumentWriter.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextEdit.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextFormat.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextFragment.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextFrame.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextFrameFormat.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextImageFormat.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextInlineObject.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextItem.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextLayout.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextLength.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextLine.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextListFormat.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextObject.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextOption.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextTableFormat.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTimeEdit.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQToolBar.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQToolBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQToolButton.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTransform.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTreeView.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTreeWidget.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTreeWidgetItem.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQVBoxLayout.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQValidator.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQWheelEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQWidget.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQWidgetAction.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQWidgetItem.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQWindowsStyle.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQWindowsXPStyle.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQWizard.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQWizardPage.prg
>    trunk/harbour/contrib/hbqt/qth/QAbstractItemModel.qth
>    trunk/harbour/contrib/hbqt/qth/QTableView.qth
>    trunk/harbour/contrib/hbqt/qtnetwork/TQFtp.prg
>    trunk/harbour/contrib/hbqt/qtnetwork/TQHttp.prg
>    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpRequestHeader.prg
>    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpResponseHeader.prg
>    trunk/harbour/contrib/hbqt/qtnetwork/TQNetworkRequest.prg
>    trunk/harbour/contrib/hbqt/qtwebkit/TQWebFrame.prg
>    trunk/harbour/contrib/hbqt/qtwebkit/TQWebHistory.prg
>    trunk/harbour/contrib/hbqt/qtwebkit/TQWebHistoryInterface.prg
>    trunk/harbour/contrib/hbqt/qtwebkit/TQWebHistoryItem.prg
>    trunk/harbour/contrib/hbqt/qtwebkit/TQWebHitTestResult.prg
>    trunk/harbour/contrib/hbqt/qtwebkit/TQWebPage.prg
>    trunk/harbour/contrib/hbqt/qtwebkit/TQWebPluginFactory.prg
>    trunk/harbour/contrib/hbqt/qtwebkit/TQWebSecurityOrigin.prg
>    trunk/harbour/contrib/hbqt/qtwebkit/TQWebSettings.prg
>    trunk/harbour/contrib/hbqt/qtwebkit/TQWebView.prg
>    trunk/harbour/contrib/hbqt/tests/demoqt.prg
>    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
>    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
>    trunk/harbour/contrib/hbxbp/xbptabpage.prg
>    trunk/harbour/contrib/hbxbp/xbptreeview.prg
>    trunk/harbour/contrib/hbxbp/xbpwindow.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
QAC (I want something comfortable !!!) - Incremental Compilation with all
MiniGUIs versions
QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las
versiones de MiniGUI

Download: www.CarozoDeQuilmes.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091026/b64e9904/attachment-0001.html
From druzus at users.sourceforge.net  Mon Oct 26 19:01:51 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Oct 26 19:01:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12773] trunk/harbour
Message-ID: <E1N2YZT-0005j2-Cd@3kljzd1.ch3.sourceforge.com>

Revision: 12773
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12773&view=rev
Author:   druzus
Date:     2009-10-26 23:01:50 +0000 (Mon, 26 Oct 2009)

Log Message:
-----------
2009-10-27 00:01 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/hashes.c
    ! use hb_gcMark() instead of hb_gcItemRef() to mark unlocked item

  * harbour/src/vm/garbage.c
    * moved hb_itemClear() from hb_gcGripDrop() to hb_gcGripRelease()
      Now items are freed in the same way as any other GC blocks and
      hb_gcGripDrop() is simple wrapper to hb_gcRefFree()

  * harbour/src/vm/hvm.c
  * harbour/src/vm/thread.c
    ! unlock item which stores thread return value to eliminate possible
      memory leaks, i.e. when thread returns its own pointer item.
    ! unlock item which stores notify messages to eliminate possible
      memory leaks, i.e. when mutex is used as notify value in its
      own message queue.

  * harbour/include/hbapigt.h
  * harbour/include/hbgtcore.h
  * harbour/src/rtl/hbgtcore.c
  * harbour/src/vm/garbage.c
    + added new GT method MARK() executed by GC to mark all internall
      GC blocks as used.
    + added hb_gtIsGtRef() internal function
    ! unlock internal GT items (pCargo, pNotifierBlock, pMutex) to
      eliminate possible memory leaks, i.e. when pGT item is stored
      in it's own cargo value or is accessed from notifier codeblock

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapigt.h
    trunk/harbour/include/hbgtcore.h
    trunk/harbour/src/rtl/hbgtcore.c
    trunk/harbour/src/vm/garbage.c
    trunk/harbour/src/vm/hashes.c
    trunk/harbour/src/vm/hvm.c
    trunk/harbour/src/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From april_white at sympatico.ca  Mon Oct 26 20:12:51 2009
From: april_white at sympatico.ca (April White)
Date: Mon Oct 26 20:13:02 2009
Subject: [Harbour] to Giancarlo Niccolai regarding inet.txt
In-Reply-To: <609353e70910251131v5b96282dj6880f21d35f5eb79@mail.gmail.com>
References: <BLU0-SMTP467CA0A9B1008C303E31BCEFBB0@phx.gbl>
	<609353e70910251131v5b96282dj6880f21d35f5eb79@mail.gmail.com>
Message-ID: <BLU0-SMTP176D4F228BAFAAD5DE23B0EFB90@phx.gbl>

Massimo Belgrano wrote:
> Hi April
> Can you help me about How can use hbdoc2
> running
> hbmk2  hbdoc2
> Generating C source output to 'hbdoc2.c'... Done.
> hbdoc2.o:hbdoc2.c:(.data+0x438): undefined reference to 
> `HB_FUN_SHOWTEMPLATESHEL
> P'
>   
Compile with the .hbp file
   hbmk2 hbdoc2.hbp

> Is possible generate unique file as destination (pdf)?
>   
I'm not sure what you mean?  The program is still a work in progress, 
PDF files have not been handled yet.

text, ascii, xml, html, and html2 should be in the svn release.  The 
html and html2 files have not links yet, I'm working on that in my local 
version.

April

-- 
Honk if you love peace and quiet.

From vszakats at users.sourceforge.net  Tue Oct 27 04:33:32 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Oct 27 04:33:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12774] trunk/harbour
Message-ID: <E1N2hUi-0006Zc-3K@d5vjzd1.ch3.sourceforge.com>

Revision: 12774
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12774&view=rev
Author:   vszakats
Date:     2009-10-27 08:33:31 +0000 (Tue, 27 Oct 2009)

Log Message:
-----------
2009-10-27 09:33 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/tests/testdll.prg
    * Minor.

  * contrib/hbwin/win_dll.c
    % Deleted cDLL structure member.
    - Deleted __XHARBOUR__ guarded parts (related to C structure handling, 
      probably never tested, plus it didn't look something mature anyway)

   ; TOFIX: win64 .dll support, strangely testdll gives slightly 
            different results for BCC and MSVC builds (and MINGW 
            builds where it GPFs), also UNICODE isn't supported at all. 
            So I guess Harbour .dll handling would better be rewritten.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/tests/testdll.prg
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Oct 27 04:58:04 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct 27 04:58:31 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <61684178-D957-4074-8EA7-4101A092E56C@syenar.hu>
References: <609353e70910251412h3f9a5fc8pcec00445298ccbb6@mail.gmail.com> 
	<D7C33012-A333-4ABC-8844-80853F5DCDC8@syenar.hu>
	<609353e70910260334t7bfc083bw3f2263da17fca3d5@mail.gmail.com> 
	<6EB375C7-225E-40B7-B996-5D6C9E471814@syenar.hu>
	<609353e70910260429y410069e2p888667b7eeef7a8e@mail.gmail.com> 
	<A8ACFF49-25F7-4AC4-A02F-FEA3F2032ACD@syenar.hu>
	<609353e70910260503n9070d21ud68b0bd9cb956223@mail.gmail.com> 
	<E1B2D809-AA86-411D-A217-B64BF41F84DE@syenar.hu>
	<609353e70910260521s2e0fb7cay1c84b0c4fc9f482f@mail.gmail.com> 
	<61684178-D957-4074-8EA7-4101A092E56C@syenar.hu>
Message-ID: <609353e70910270158o22a657adp6672843914a83d7f@mail.gmail.com>

i hope that you implement in hbnk2 before 2.0 something like:
#pragma option:hbmk2 mylib.hbc
becasue allow newbbies easy compiling script


2009/10/26 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Sorry if i not understand right
>>
>> Can i use multiple hbc?
>> hbmk2 hello.prg hmg.hbc rddads.hbc hbmemio.hbc
>
> Yes, of course.
>
> [ you may even refer to another .hbc from an .hbc file. ]
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Tue Oct 27 05:04:38 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Oct 27 05:04:47 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <609353e70910270158o22a657adp6672843914a83d7f@mail.gmail.com>
References: <609353e70910251412h3f9a5fc8pcec00445298ccbb6@mail.gmail.com>
	<D7C33012-A333-4ABC-8844-80853F5DCDC8@syenar.hu>
	<609353e70910260334t7bfc083bw3f2263da17fca3d5@mail.gmail.com>
	<6EB375C7-225E-40B7-B996-5D6C9E471814@syenar.hu>
	<609353e70910260429y410069e2p888667b7eeef7a8e@mail.gmail.com>
	<A8ACFF49-25F7-4AC4-A02F-FEA3F2032ACD@syenar.hu>
	<609353e70910260503n9070d21ud68b0bd9cb956223@mail.gmail.com>
	<E1B2D809-AA86-411D-A217-B64BF41F84DE@syenar.hu>
	<609353e70910260521s2e0fb7cay1c84b0c4fc9f482f@mail.gmail.com>
	<61684178-D957-4074-8EA7-4101A092E56C@syenar.hu>
	<609353e70910270158o22a657adp6672843914a83d7f@mail.gmail.com>
Message-ID: <F82D5B9E-61C4-4A76-9FFE-25128CD11138@syenar.hu>

> i hope that you implement in hbnk2 before 2.0 something like:
> #pragma option:hbmk2 mylib.hbc
> becasue allow newbbies easy compiling script

This needs support from Harbour compiler. Moreover I
don't want to rush it and I currently have not enough
time to spend on it anyway. Let's plan it a little more
and see what can be done, until then I don't think it's
such complicated to add the few .hbc files to an app's
project (.hbp) file.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Oct 27 05:14:24 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Oct 27 05:14:31 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <609353e70910270158o22a657adp6672843914a83d7f@mail.gmail.com>
References: <D7C33012-A333-4ABC-8844-80853F5DCDC8@syenar.hu>
	<609353e70910260334t7bfc083bw3f2263da17fca3d5@mail.gmail.com>
	<6EB375C7-225E-40B7-B996-5D6C9E471814@syenar.hu>
	<609353e70910260429y410069e2p888667b7eeef7a8e@mail.gmail.com>
	<A8ACFF49-25F7-4AC4-A02F-FEA3F2032ACD@syenar.hu>
	<609353e70910260503n9070d21ud68b0bd9cb956223@mail.gmail.com>
	<E1B2D809-AA86-411D-A217-B64BF41F84DE@syenar.hu>
	<609353e70910260521s2e0fb7cay1c84b0c4fc9f482f@mail.gmail.com>
	<61684178-D957-4074-8EA7-4101A092E56C@syenar.hu>
	<609353e70910270158o22a657adp6672843914a83d7f@mail.gmail.com>
Message-ID: <20091027091424.GA19737@34-mo7-2.home.aster.pl>

On Tue, 27 Oct 2009, Massimo Belgrano wrote:
> i hope that you implement in hbnk2 before 2.0 something like:
> #pragma option:hbmk2 mylib.hbc
> becasue allow newbbies easy compiling script

Massimo probably I do not understand sth but can you explain how using:
   #pragma option:hbmk2 mylib.hbc
is better then:
   request MYLIB

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Oct 27 05:21:12 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Oct 27 05:21:21 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <20091027091424.GA19737@34-mo7-2.home.aster.pl>
References: <D7C33012-A333-4ABC-8844-80853F5DCDC8@syenar.hu>
	<609353e70910260334t7bfc083bw3f2263da17fca3d5@mail.gmail.com>
	<6EB375C7-225E-40B7-B996-5D6C9E471814@syenar.hu>
	<609353e70910260429y410069e2p888667b7eeef7a8e@mail.gmail.com>
	<A8ACFF49-25F7-4AC4-A02F-FEA3F2032ACD@syenar.hu>
	<609353e70910260503n9070d21ud68b0bd9cb956223@mail.gmail.com>
	<E1B2D809-AA86-411D-A217-B64BF41F84DE@syenar.hu>
	<609353e70910260521s2e0fb7cay1c84b0c4fc9f482f@mail.gmail.com>
	<61684178-D957-4074-8EA7-4101A092E56C@syenar.hu>
	<609353e70910270158o22a657adp6672843914a83d7f@mail.gmail.com>
	<20091027091424.GA19737@34-mo7-2.home.aster.pl>
Message-ID: <575B0E1D-8617-4701-A31E-0C6054F72BB2@syenar.hu>

> Massimo probably I do not understand sth but can you explain how  
> using:
>   #pragma option:hbmk2 mylib.hbc
> is better then:
>   request MYLIB

The idea of the #pragma is to automatically pull
required libs, include paths and whatnot (all
contained in the .hbc file) right from the source
files.

It doesn't replace REQUEST at all, though.

Brgds,
Viktor

From mbelgrano at deltain.it  Tue Oct 27 05:21:35 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct 27 05:22:03 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <20091027091424.GA19737@34-mo7-2.home.aster.pl>
References: <D7C33012-A333-4ABC-8844-80853F5DCDC8@syenar.hu> 
	<6EB375C7-225E-40B7-B996-5D6C9E471814@syenar.hu>
	<609353e70910260429y410069e2p888667b7eeef7a8e@mail.gmail.com> 
	<A8ACFF49-25F7-4AC4-A02F-FEA3F2032ACD@syenar.hu>
	<609353e70910260503n9070d21ud68b0bd9cb956223@mail.gmail.com> 
	<E1B2D809-AA86-411D-A217-B64BF41F84DE@syenar.hu>
	<609353e70910260521s2e0fb7cay1c84b0c4fc9f482f@mail.gmail.com> 
	<61684178-D957-4074-8EA7-4101A092E56C@syenar.hu>
	<609353e70910270158o22a657adp6672843914a83d7f@mail.gmail.com> 
	<20091027091424.GA19737@34-mo7-2.home.aster.pl>
Message-ID: <609353e70910270221j6fd9c70xc323b312cbc98061@mail.gmail.com>

Viktor
For you is not complicated, but for other user will be
each operation increase difficult, and capability to made error
also here we can find user that miss how compile sample, me included
having "#pragma option:hbmk2 mylib.hbc" in source code cover complexity
made possible copy and past from internet to a new project

Przemys?aw
 #pragma option:hbmk2 mylib.hbc allow compile with hbmk2 without know how
request MYLIB is different because instruct only that is need a library/symbol

In my source i have already included
REQUEST HB_MEMIO
but when compile with hbmk2 i must adding hbmemio.lib
or
 #pragma option:hbmk2 hbmemio.hbc


I pray either made a solution for made harbour easy for newbies


2009/10/27 Przemys?aw Czerpak <druzus@acn.waw.pl>:
> On Tue, 27 Oct 2009, Massimo Belgrano wrote:
>> i hope that you implement in hbnk2 before 2.0 something like:
>> #pragma option:hbmk2 mylib.hbc
>> becasue allow newbbies easy compiling script
>
> Massimo probably I do not understand sth but can you explain how using:
> ? #pragma option:hbmk2 mylib.hbc
> is better then:
> ? request MYLIB
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Tue Oct 27 05:30:19 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Oct 27 05:30:26 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <575B0E1D-8617-4701-A31E-0C6054F72BB2@syenar.hu>
References: <6EB375C7-225E-40B7-B996-5D6C9E471814@syenar.hu>
	<609353e70910260429y410069e2p888667b7eeef7a8e@mail.gmail.com>
	<A8ACFF49-25F7-4AC4-A02F-FEA3F2032ACD@syenar.hu>
	<609353e70910260503n9070d21ud68b0bd9cb956223@mail.gmail.com>
	<E1B2D809-AA86-411D-A217-B64BF41F84DE@syenar.hu>
	<609353e70910260521s2e0fb7cay1c84b0c4fc9f482f@mail.gmail.com>
	<61684178-D957-4074-8EA7-4101A092E56C@syenar.hu>
	<609353e70910270158o22a657adp6672843914a83d7f@mail.gmail.com>
	<20091027091424.GA19737@34-mo7-2.home.aster.pl>
	<575B0E1D-8617-4701-A31E-0C6054F72BB2@syenar.hu>
Message-ID: <20091027093019.GA20072@34-mo7-2.home.aster.pl>

On Tue, 27 Oct 2009, Szak?ts Viktor wrote:
> >Massimo probably I do not understand sth but can you explain how
> >using:
> >  #pragma option:hbmk2 mylib.hbc
> >is better then:
> >  request MYLIB
> The idea of the #pragma is to automatically pull
> required libs, include paths and whatnot (all
> contained in the .hbc file) right from the source
> files.
> It doesn't replace REQUEST at all, though.

I know this. But I'm interesting how it can help newbie users in
their own code. They still have to add valid library name so why
it's better then using REQUEST and -l<libname> hbmk2 switch.
Maybe I'm missing sth but it's a feature which can work only with
source code so it's not even an option for binary libraries. For
me it may help only in compilation of some example files from Harbour
SVN if they do not have their own .hbp files and does not contain any
information about compile/link commands in their headers.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Oct 27 05:34:10 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Oct 27 05:34:17 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <609353e70910270221j6fd9c70xc323b312cbc98061@mail.gmail.com>
References: <6EB375C7-225E-40B7-B996-5D6C9E471814@syenar.hu>
	<609353e70910260429y410069e2p888667b7eeef7a8e@mail.gmail.com>
	<A8ACFF49-25F7-4AC4-A02F-FEA3F2032ACD@syenar.hu>
	<609353e70910260503n9070d21ud68b0bd9cb956223@mail.gmail.com>
	<E1B2D809-AA86-411D-A217-B64BF41F84DE@syenar.hu>
	<609353e70910260521s2e0fb7cay1c84b0c4fc9f482f@mail.gmail.com>
	<61684178-D957-4074-8EA7-4101A092E56C@syenar.hu>
	<609353e70910270158o22a657adp6672843914a83d7f@mail.gmail.com>
	<20091027091424.GA19737@34-mo7-2.home.aster.pl>
	<609353e70910270221j6fd9c70xc323b312cbc98061@mail.gmail.com>
Message-ID: <20091027093410.GA20182@34-mo7-2.home.aster.pl>

On Tue, 27 Oct 2009, Massimo Belgrano wrote:

Hi,

>  #pragma option:hbmk2 mylib.hbc allow compile with hbmk2 without know how
> request MYLIB is different because instruct only that is need a library/symbol

Yes but someone has to add this #pragma command to source code so he has
to know library name.
It means that it's only an option for example files in Harbour SVN which
do not have their own .hbp files.

> In my source i have already included
> REQUEST HB_MEMIO
> but when compile with hbmk2 i must adding hbmemio.lib
> or
>  #pragma option:hbmk2 hbmemio.hbc
> I pray either made a solution for made harbour easy for newbies

You still haven't explained why it's easier to add to source code:
   #pragma option:hbmk2 hbmemio.hbc
instead of using:
   hbmemio.hbc
as hbmk2 parameter and how it may help newbie users. In both cases
they have to make similar job and they need similar knowledge.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Oct 27 05:34:15 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Oct 27 05:34:26 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <609353e70910270221j6fd9c70xc323b312cbc98061@mail.gmail.com>
References: <D7C33012-A333-4ABC-8844-80853F5DCDC8@syenar.hu>
	<6EB375C7-225E-40B7-B996-5D6C9E471814@syenar.hu>
	<609353e70910260429y410069e2p888667b7eeef7a8e@mail.gmail.com>
	<A8ACFF49-25F7-4AC4-A02F-FEA3F2032ACD@syenar.hu>
	<609353e70910260503n9070d21ud68b0bd9cb956223@mail.gmail.com>
	<E1B2D809-AA86-411D-A217-B64BF41F84DE@syenar.hu>
	<609353e70910260521s2e0fb7cay1c84b0c4fc9f482f@mail.gmail.com>
	<61684178-D957-4074-8EA7-4101A092E56C@syenar.hu>
	<609353e70910270158o22a657adp6672843914a83d7f@mail.gmail.com>
	<20091027091424.GA19737@34-mo7-2.home.aster.pl>
	<609353e70910270221j6fd9c70xc323b312cbc98061@mail.gmail.com>
Message-ID: <811A9217-2558-4D89-BF68-B65B6B8D9ED4@syenar.hu>

> For you is not complicated, but for other user will be
> each operation increase difficult, and capability to made error
> also here we can find user that miss how compile sample, me included
> having "#pragma option:hbmk2 mylib.hbc" in source code cover  
> complexity
> made possible copy and past from internet to a new project

All that needs to be done is to supply an .hbp file
for projects published on the internet. Since you will
never be able to control the whole build process of
apps from .prg source code, such .hbp file should be
distributed anyway. Include .hbc files in these project
files is IMO a no brainer. Project files are common
in most (non-interpreted) programming languages.

I find this #pragma option much less intuitive in its
current form. It needs some more brainstorming to make
it like using/import in other languages. We need to cover
headers, REQUESTs and give it sleeker syntax.

> Przemys?aw
> #pragma option:hbmk2 mylib.hbc allow compile with hbmk2 without know  
> how
> request MYLIB is different because instruct only that is need a  
> library/symbol
>
> In my source i have already included
> REQUEST HB_MEMIO
> but when compile with hbmk2 i must adding hbmemio.lib
> or
> #pragma option:hbmk2 hbmemio.hbc

First off, I don't think newbies will start with hbmemio,
but anyway, any "newbie" should be used to the fact that
each functionality is made available through libs. This
has been so since Clipper '85. And these libs needs to be
linked to app. This doesn't seem very complicated or unusual
to me. The last thing a newbie will think of is using #pragma
(which is new syntax), and using it with a relatively obscure
and not well documented option as 'hbmk2:option'.

Much easier to read 'hbmk2 --help' output, or just take
a glance on almost any of our projects inside the repository.

Brgds,
Viktor

From druzus at users.sourceforge.net  Tue Oct 27 05:34:37 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Oct 27 05:34:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12775] trunk/harbour
Message-ID: <E1N2iRp-0002yO-4C@74yxhf1.ch3.sourceforge.com>

Revision: 12775
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12775&view=rev
Author:   druzus
Date:     2009-10-27 09:34:35 +0000 (Tue, 27 Oct 2009)

Log Message:
-----------
2009-10-27 10:34 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapi.h
  * harbour/src/vm/garbage.c
    * added emulation for hb_gcAlloc() function covered by HB_LEGACY_LEVEL2
      It will be removed in the future but now it gives a time for 3-rd party
      code developers to updated existing code and switch to hb_gcAllocate()

  * harbour/contrib/hbwin/hbwinole.h
  * harbour/contrib/hbwin/olecore.c
    + added hb_oleItemGetCallBack() and hb_oleItemSetCallBack()
      functions and support for user defined items bound with
      OLE GC pointer item

  * harbour/contrib/hbwin/axcore.c
    * bound callback function with OLE item so it will be automatically
      released with OLE object

  * harbour/contrib/hbwin/tests/testax.prg
     ! destroy window
     * enabled destructor

    So far MS-Windows users haven't defined expected behavior for OLE code
    so I took my own arbitrary decision and bound callback with OLE GC item.
    When last copy of this item is cleared then callback is unregistered
    and freed. It means that it can happen before AX window is closed.
    If you prefer different behavior then please clearly define what
    you need and I can try to change existing code.
    Now testax.prg should cleanly execute without any GPF traps and
    resource leaks.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/axcore.c
    trunk/harbour/contrib/hbwin/hbwinole.h
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/contrib/hbwin/tests/testax.prg
    trunk/harbour/include/hbapi.h
    trunk/harbour/src/vm/garbage.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Oct 27 06:20:20 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct 27 06:20:48 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <20091027093019.GA20072@34-mo7-2.home.aster.pl>
References: <6EB375C7-225E-40B7-B996-5D6C9E471814@syenar.hu> 
	<A8ACFF49-25F7-4AC4-A02F-FEA3F2032ACD@syenar.hu>
	<609353e70910260503n9070d21ud68b0bd9cb956223@mail.gmail.com> 
	<E1B2D809-AA86-411D-A217-B64BF41F84DE@syenar.hu>
	<609353e70910260521s2e0fb7cay1c84b0c4fc9f482f@mail.gmail.com> 
	<61684178-D957-4074-8EA7-4101A092E56C@syenar.hu>
	<609353e70910270158o22a657adp6672843914a83d7f@mail.gmail.com> 
	<20091027091424.GA19737@34-mo7-2.home.aster.pl>
	<575B0E1D-8617-4701-A31E-0C6054F72BB2@syenar.hu> 
	<20091027093019.GA20072@34-mo7-2.home.aster.pl>
Message-ID: <609353e70910270320l5da832d8yf01ff68968b881f9@mail.gmail.com>

Hi Przemek
Because typically it start coping a sample that contain it
if harbour user get a sample contain:
 #pragma option:hbmk2 mylib.hbc
  request MYLIB
it will be easy to compile and if it get another sample that include
 #pragma option:hbmk2 hbmemio.hbc
REQUEST HB_MEMIO
Follow is a typical sequence
in the first step compile as sample but in second step lost right way
note that in second steep the info HB_MEMIO not help discover hbmemio.lib

xbase++ for same final result  use
#pragma library("xppui3.lib")
as you read in ainet sample
http://news.alaska-software.com/readmessage?id=%3C1xwdedeqtb373$.1kbal6arq2jed.dlg@40tude.net%3E&group=public.soapbox


Best regard
2009/10/27 Przemys?aw Czerpak <druzus@acn.waw.pl>:
> On Tue, 27 Oct 2009, Szak?ts Viktor wrote:
>
> I know this. But I'm interesting how it can help newbie users in
> their own code. They still have to add valid library name so why
> it's better then using REQUEST and -l<libname> hbmk2 switch.
> Maybe I'm missing sth but it's a feature which can work only with
> source code so it's not even an option for binary libraries. For
> me it may help only in compilation of some example files from Harbour
> SVN if they do not have their own .hbp files and does not contain any
> information about compile/link commands in their headers.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Tue Oct 27 06:44:48 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Oct 27 06:44:54 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <609353e70910270320l5da832d8yf01ff68968b881f9@mail.gmail.com>
References: <A8ACFF49-25F7-4AC4-A02F-FEA3F2032ACD@syenar.hu>
	<609353e70910260503n9070d21ud68b0bd9cb956223@mail.gmail.com>
	<E1B2D809-AA86-411D-A217-B64BF41F84DE@syenar.hu>
	<609353e70910260521s2e0fb7cay1c84b0c4fc9f482f@mail.gmail.com>
	<61684178-D957-4074-8EA7-4101A092E56C@syenar.hu>
	<609353e70910270158o22a657adp6672843914a83d7f@mail.gmail.com>
	<20091027091424.GA19737@34-mo7-2.home.aster.pl>
	<575B0E1D-8617-4701-A31E-0C6054F72BB2@syenar.hu>
	<20091027093019.GA20072@34-mo7-2.home.aster.pl>
	<609353e70910270320l5da832d8yf01ff68968b881f9@mail.gmail.com>
Message-ID: <20091027104448.GA24069@34-mo7-2.home.aster.pl>

On Tue, 27 Oct 2009, Massimo Belgrano wrote:

Hi,

> Because typically it start coping a sample that contain it
> if harbour user get a sample contain:
>  #pragma option:hbmk2 mylib.hbc
>   request MYLIB
> it will be easy to compile and if it get another sample that include
>  #pragma option:hbmk2 hbmemio.hbc
> REQUEST HB_MEMIO
> Follow is a typical sequence
> in the first step compile as sample but in second step lost right way
> note that in second steep the info HB_MEMIO not help discover hbmemio.lib

If you can copy and past part of .prg code why you cannot copy part
of .hbp file?
Or if you see in source code:
   compile and link using:
      hbmk2 test.prg -lhbmemio
   or:
      hbmk2 test.prg hbmemio.hbc
why cannot you copy '-lhbmemio' ('hbmemio.hbc') to your compile/link
command?
I do not see any functional difference. In both cases you have to copy
sth from reference code but in the second case you are using unknown
for Clipper users syntax which does not have clear for all behavior.

> xbase++ for same final result  use
> #pragma library("xppui3.lib")
> as you read in ainet sample
> http://news.alaska-software.com/readmessage?id=%3C1xwdedeqtb373$.1kbal6arq2jed.dlg@40tude.net%3E&group=public.soapbox

This is completely different feature because it works at link time so can
be used in binary libraries.
Unfortunately due to portability such feature cannot be added to Harbour
because it may work only with some subset of supported by Harbour C
compilers and practice shows that such non portable features create
much more troubles then resolve problems.
The proposed:
   #pragma option:hbmk2 ...
is compile time feature and it does not work with binary libraries.
Looks that using above example you only confirmed that this #pragma
command can confuse users who may just like you expect different
behavior then the real one ;-)
So my current conclusion is that it will only create new problems
instead of help newbie users.

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Oct 27 06:51:38 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Oct 27 06:51:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12776] trunk/harbour
Message-ID: <E1N2jeM-0007si-If@3kljzd1.ch3.sourceforge.com>

Revision: 12776
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12776&view=rev
Author:   druzus
Date:     2009-10-27 10:51:37 +0000 (Tue, 27 Oct 2009)

Log Message:
-----------
2009-10-27 11:51 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/xhb/xhbarr.c
    + added XHB_AINS(), XHB_ADEL() functions which accept negative indexes.
      Warning I haven't replicated xHarbour bugs in AINS() so it's not
      exactly the same. Sooner or later someone will fix AINS() code in
      xHarbour CVS. This code illustrates the problem and also
      incompatibilities with Clipper:
         #ifdef __HARBOUR__
            #ifndef __XHARBOUR__
               #xtranslate adel(<x,...>) => xhb_adel(<x>)
               #xtranslate ains(<x,...>) => xhb_ains(<x>)
            #endif
         #endif
         proc main()
            local a := { 100, 200, 300 }
            ? ; aeval( a, { |x| qout( x ) } )
            adel( a, -1, .t. )
            ? ; aeval( a, { |x| qout( x ) } )
            ains( a, -1, 400, .t. )
            ? ; aeval( a, { |x| qout( x ) } )
            ains( a )
            ? ; aeval( a, { |x| qout( x ) } )
         return

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/xhbarr.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Oct 27 06:58:22 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct 27 06:58:51 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <20091027104448.GA24069@34-mo7-2.home.aster.pl>
References: <A8ACFF49-25F7-4AC4-A02F-FEA3F2032ACD@syenar.hu> 
	<E1B2D809-AA86-411D-A217-B64BF41F84DE@syenar.hu>
	<609353e70910260521s2e0fb7cay1c84b0c4fc9f482f@mail.gmail.com> 
	<61684178-D957-4074-8EA7-4101A092E56C@syenar.hu>
	<609353e70910270158o22a657adp6672843914a83d7f@mail.gmail.com> 
	<20091027091424.GA19737@34-mo7-2.home.aster.pl>
	<575B0E1D-8617-4701-A31E-0C6054F72BB2@syenar.hu> 
	<20091027093019.GA20072@34-mo7-2.home.aster.pl>
	<609353e70910270320l5da832d8yf01ff68968b881f9@mail.gmail.com> 
	<20091027104448.GA24069@34-mo7-2.home.aster.pl>
Message-ID: <609353e70910270358n1ad85b11t893c06f923375f31@mail.gmail.com>

>
> If you can copy and past part of .prg code why you cannot copy part
> of .hbp file?
> Or if you see in source code:
> ? compile and link using:
> ? ? ?hbmk2 test.prg -lhbmemio
> ? or:
> ? ? ?hbmk2 test.prg hbmemio.hbc
> why cannot you copy '-lhbmemio' ('hbmemio.hbc') to your compile/link
> command?
> I do not see any functional difference. In both cases you have to copy
> sth from reference code but in the second case you are using unknown
> for Clipper users syntax which does not have clear for all behavior.
No the problem is that is not possible hbmk2 info is allways migging
many user require here  "How compile sample from qt or other" because
thie information is not jouned to prg


>
>> xbase++ for same final result ?use
>> #pragma library("xppui3.lib")
>> as you read in ainet sample
>> http://news.alaska-software.com/readmessage?id=%3C1xwdedeqtb373$.1kbal6arq2jed.dlg@40tude.net%3E&group=public.soapbox
>
> This is completely different feature because it works at link time so can
> be used in binary libraries.
> Unfortunately due to portability such feature cannot be added to Harbour
> because it may work only with some subset of supported by Harbour C
> compilers and practice shows that such non portable features create
> much more troubles then resolve problems.
> The proposed:
> ? #pragma option:hbmk2 ...
> is compile time feature and it does not work with binary libraries.
> Looks that using above example you only confirmed that this #pragma
> command can confuse users who may just like you expect different
> behavior then the real one ;-)
> So my current conclusion is that it will only create new problems
> instead of help newbie users.
afaik i can add lib in hbc
i am afraid i dont undestand you  about what is binary library
to lack in my knowdlege
Here i hope that viktor explain
Why in compile time feature can't add binary library?
I don't want absolutely create new problems

Thanks and sorry
Best regards

>
> best regards,
> Przemek
> _______________________________________________

-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Tue Oct 27 07:12:55 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Oct 27 07:13:05 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <609353e70910270358n1ad85b11t893c06f923375f31@mail.gmail.com>
References: <A8ACFF49-25F7-4AC4-A02F-FEA3F2032ACD@syenar.hu>
	<E1B2D809-AA86-411D-A217-B64BF41F84DE@syenar.hu>
	<609353e70910260521s2e0fb7cay1c84b0c4fc9f482f@mail.gmail.com>
	<61684178-D957-4074-8EA7-4101A092E56C@syenar.hu>
	<609353e70910270158o22a657adp6672843914a83d7f@mail.gmail.com>
	<20091027091424.GA19737@34-mo7-2.home.aster.pl>
	<575B0E1D-8617-4701-A31E-0C6054F72BB2@syenar.hu>
	<20091027093019.GA20072@34-mo7-2.home.aster.pl>
	<609353e70910270320l5da832d8yf01ff68968b881f9@mail.gmail.com>
	<20091027104448.GA24069@34-mo7-2.home.aster.pl>
	<609353e70910270358n1ad85b11t893c06f923375f31@mail.gmail.com>
Message-ID: <DAD42251-2397-49B1-AACE-FA6A011E2A0F@syenar.hu>

>>      hbmk2 test.prg hbmemio.hbc
>> why cannot you copy '-lhbmemio' ('hbmemio.hbc') to your compile/link
>> command?
>> I do not see any functional difference. In both cases you have to  
>> copy
>> sth from reference code but in the second case you are using unknown
>> for Clipper users syntax which does not have clear for all behavior.
> No the problem is that is not possible hbmk2 info is allways migging
> many user require here  "How compile sample from qt or other" because
> thie information is not jouned to prg

Since such #pragma can be left out as well (not obligatory),
in this respect it's not much better than adding a simple
comment to source.

>>> xbase++ for same final result  use
>>> #pragma library("xppui3.lib")
>>> as you read in ainet sample
>>> http://news.alaska-software.com/readmessage?id=%3C1xwdedeqtb373$.1kbal6arq2jed.dlg@40tude.net%3E&group=public.soapbox
>>
>> This is completely different feature because it works at link time  
>> so can
>> be used in binary libraries.
>> Unfortunately due to portability such feature cannot be added to  
>> Harbour
>> because it may work only with some subset of supported by Harbour C
>> compilers and practice shows that such non portable features create
>> much more troubles then resolve problems.
>> The proposed:
>>   #pragma option:hbmk2 ...
>> is compile time feature and it does not work with binary libraries.
>> Looks that using above example you only confirmed that this #pragma
>> command can confuse users who may just like you expect different
>> behavior then the real one ;-)
>> So my current conclusion is that it will only create new problems
>> instead of help newbie users.
> afaik i can add lib in hbc
> i am afraid i dont undestand you  about what is binary library
> to lack in my knowdlege
> Here i hope that viktor explain
> Why in compile time feature can't add binary library?
> I don't want absolutely create new problems

Pulling .hbc files (or .lib files) cannot be done from
binary files (as object and libs) since it relies on source
code parsing and hbmk2 logic, instead of being a linker
feature. We can't change that unless we drop some compilers
from the mix, but even then nothing guarantees that it can
be kept in the future for new compilers.

To put it short:

Everyone posting examples requiring external libs or needing
special options should include the hbmk2 command line in their
posted examples. Easy, simple, straighforward and it works _now_.

Brgds,
Viktor

From sscc at mweb.co.za  Tue Oct 27 07:39:55 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Oct 27 07:40:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12775] trunk/harbour
In-Reply-To: <E1N2iRp-0002yO-4C@74yxhf1.ch3.sourceforge.com>
References: <E1N2iRp-0002yO-4C@74yxhf1.ch3.sourceforge.com>
Message-ID: <4AE6DC0B.7000101@mweb.co.za>

druzus@users.sourceforge.net wrote:

>   * harbour/contrib/hbwin/hbwinole.h
>   * harbour/contrib/hbwin/olecore.c
>     + added hb_oleItemGetCallBack() and hb_oleItemSetCallBack()
>       functions and support for user defined items bound with
>       OLE GC pointer item
> 
>   * harbour/contrib/hbwin/axcore.c
>     * bound callback function with OLE item so it will be automatically
>       released with OLE object
> 
>   * harbour/contrib/hbwin/tests/testax.prg
>      ! destroy window
>      * enabled destructor
> 
>     So far MS-Windows users haven't defined expected behavior for OLE code
>     so I took my own arbitrary decision and bound callback with OLE GC item.
>     When last copy of this item is cleared then callback is unregistered
>     and freed. It means that it can happen before AX window is closed.
>     If you prefer different behavior then please clearly define what
>     you need and I can try to change existing code.
>     Now testax.prg should cleanly execute without any GPF traps and
>     resource leaks.

I guess you mean me :). I have only got online now, so I had not seen your other 
post. What you have done looks perfectly logical. I guess there may be other 
ways of instantiating ActiveX objects without using ATL, and perhaps the window 
handle would not be available. So it's not the job of this code to destroy 
windows etc.

Thank you very much and I will test soon.

Regards
Alex

From mbelgrano at deltain.it  Tue Oct 27 07:55:02 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Oct 27 07:55:29 2009
Subject: [Harbour] How harbour will be better?
Message-ID: <609353e70910270455p8059a89s2aa14a10b9f2e0cd@mail.gmail.com>

Very Thanks for clarification to hbmk
I have a different experiences, that allow ne see only one side of problem
now try explain my point of view
A percentage of Harbour user in first steep are not able to compile
sample, particular contrib because not know parameter of hbmk
I invite also Other Guru like roberto lopez,rathinagiri reply here if
think that problem exist or share his experiences


2009/10/27 Viktor Szak?ts <harbour.01@syenar.hu>:
>>> ? ? hbmk2 test.prg hbmemio.hbc
>>> why cannot you copy '-lhbmemio' ('hbmemio.hbc') to your compile/link
>>> command?
>>> I do not see any functional difference. In both cases you have to copy
>>> sth from reference code but in the second case you are using unknown
>>> for Clipper users syntax which does not have clear for all behavior.
>>
>> No the problem is that is not possible hbmk2 info is allways migging
>> many user require here ?"How compile sample from qt or other" because
>> thie information is not jouned to prg
>
> Since such #pragma can be left out as well (not obligatory),
> in this respect it's not much better than adding a simple
> comment to source.
>
>>>> xbase++ for same final result ?use
>>>> #pragma library("xppui3.lib")
>>>> as you read in ainet sample
>>>>
>>>> http://news.alaska-software.com/readmessage?id=%3C1xwdedeqtb373$.1kbal6arq2jed.dlg@40tude.net%3E&group=public.soapbox
>>>
>>> This is completely different feature because it works at link time so can
>>> be used in binary libraries.
>>> Unfortunately due to portability such feature cannot be added to Harbour
>>> because it may work only with some subset of supported by Harbour C
>>> compilers and practice shows that such non portable features create
>>> much more troubles then resolve problems.
>>> The proposed:
>>> ?#pragma option:hbmk2 ...
>>> is compile time feature and it does not work with binary libraries.
>>> Looks that using above example you only confirmed that this #pragma
>>> command can confuse users who may just like you expect different
>>> behavior then the real one ;-)
>>> So my current conclusion is that it will only create new problems
>>> instead of help newbie users.
>>
>> afaik i can add lib in hbc
>> i am afraid i dont undestand you ?about what is binary library
>> to lack in my knowdlege
>> Here i hope that viktor explain
>> Why in compile time feature can't add binary library?
>> I don't want absolutely create new problems
>
> Pulling .hbc files (or .lib files) cannot be done from
> binary files (as object and libs) since it relies on source
> code parsing and hbmk2 logic, instead of being a linker
> feature. We can't change that unless we drop some compilers
> from the mix, but even then nothing guarantees that it can
> be kept in the future for new compilers.
>
> To put it short:
>
> Everyone posting examples requiring external libs or needing
> special options should include the hbmk2 command line in their
> posted examples. Easy, simple, straighforward and it works _now_.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From M.Horodyski at pzuzycie.com.pl  Tue Oct 27 08:11:20 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Tue Oct 27 08:11:28 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <609353e70910270320l5da832d8yf01ff68968b881f9@mail.gmail.com>
References: <6EB375C7-225E-40B7-B996-5D6C9E471814@syenar.hu>
	<A8ACFF49-25F7-4AC4-A02F-FEA3F2032ACD@syenar.hu><609353e70910260503n9070d21ud68b0bd9cb956223@mail.gmail.com>
	<E1B2D809-AA86-411D-A217-B64BF41F84DE@syenar.hu><609353e70910260521s2e0fb7cay1c84b0c4fc9f482f@mail.gmail.com>
	<61684178-D957-4074-8EA7-4101A092E56C@syenar.hu><609353e70910270158o22a657adp6672843914a83d7f@mail.gmail.com>
	<20091027091424.GA19737@34-mo7-2.home.aster.pl><575B0E1D-8617-4701-A31E-0C6054F72BB2@syenar.hu>
	<20091027093019.GA20072@34-mo7-2.home.aster.pl>
	<609353e70910270320l5da832d8yf01ff68968b881f9@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C950297F31F@PINK.zycie.pzu>

>-----Original Message-----
>From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
>Sent: Tuesday, October 27, 2009 11:20 AM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] hbmk2 suggestion

[...]

>xbase++ for same final result  use
>#pragma library("xppui3.lib")
>as you read in ainet sample
>http://news.alaska-software.com/readmessage?id=%3C1xwdedeqtb373
>$.1kbal6arq2jed.dlg@40tude.net%3E&group=public.soapbox

This may look like a records to strong typed in C or anther language
(using, include etc) in prg body :

#declare LibNameToUsing.LIB

Or 

#declare funcName from LibName

Or 

#libraries ...

Regards,
Marek Horodyski

From gabor.salai at euroherc.hr  Tue Oct 27 08:18:00 2009
From: gabor.salai at euroherc.hr (sali)
Date: Tue Oct 27 08:17:21 2009
Subject: [Harbour] hbmk2 suggestion
Message-ID: <011801ca56ff$86dd9c00$6800520a@euroherc.ba>

 hi,

just to say that some additional docs about .hmb .hbc .hbp would be 
helpfull, since --help is to short to be sufficant i used examples for 
simple building, but for advanced and full usage, need something more 
than --help

also had problems with platform discovery, although msvc was not selected at 
instalation time, at run time hbmk discovered an existing msvc instance and 
used that as default compiler, of course, the build proces broke since there 
were no msvc related libs expanded at instalation time. after i succeded to 
find a problem source, i added hardcoded "compiler" switch to force mingw 
compiler.

except these mentioned problem [as for newbs] hbmk2 works great

 thnx!

> ----- Original Message ----- 
> From: "Viktor Szak?ts" <harbour.01@syenar.hu>
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Sent: Tuesday, October 27, 2009 10:34 AM
> Subject: Re: [Harbour] hbmk2 suggestion
>
>
> Much easier to read 'hbmk2 --help' output, or just take
> 

From harbour.01 at syenar.hu  Tue Oct 27 08:21:04 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Oct 27 08:21:13 2009
Subject: [Harbour] How harbour will be better?
In-Reply-To: <609353e70910270455p8059a89s2aa14a10b9f2e0cd@mail.gmail.com>
References: <609353e70910270455p8059a89s2aa14a10b9f2e0cd@mail.gmail.com>
Message-ID: <CEAD5671-0560-4925-87AF-520D7A49177E@syenar.hu>

> Very Thanks for clarification to hbmk
> I have a different experiences, that allow ne see only one side of  
> problem
> now try explain my point of view
> A percentage of Harbour user in first steep are not able to compile
> sample, particular contrib because not know parameter of hbmk

If true this would be quite sad as all our samples can be compiled
by either hbmk2 <test.prg> or hbmk2 <example.hbp>. Of course it's
left to users exercise to decide which of these two, plus it's
also users job to put hbmk2 to PATH or point to hbmk2 by hand.

Probably it could be made even more simple, but however sad to
this sounds, but Harbour is a programming language and some degree
of programming (or general computer skills, cmdline) experience
is inevitable to make use of it.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Oct 27 08:39:46 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Oct 27 08:39:57 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <011801ca56ff$86dd9c00$6800520a@euroherc.ba>
References: <011801ca56ff$86dd9c00$6800520a@euroherc.ba>
Message-ID: <A4B3C39D-52F7-4488-9BEB-727BB53D49FD@syenar.hu>

> just to say that some additional docs about .hmb .hbc .hbp would be  
> helpfull, since --help is to short to be sufficant i used examples  
> for simple building, but for advanced and full usage, need something  
> more than --help
>
> also had problems with platform discovery, although msvc was not  
> selected at instalation time, at run time hbmk discovered an  
> existing msvc instance and used that as default compiler, of course,  
> the build proces broke since there were no msvc related libs  
> expanded at instalation time. after i succeded to find a problem  
> source, i added hardcoded "compiler" switch to force mingw compiler.

Did this happen with latest Harbour? Autodetection for MSVC should
now be about the same in Harbour build and hbmk2, but it was developed
much later to the bulid phase. If it's with recent Harbour, and you
can post your PATH I can give it a check.

As for the docs, I won't have time for it (plus writing docs is
not my strong point), so besides the hundred small examples,
numerous examples on this list and quick samples in INSTALL,
don't expect it from me. I hope someone else will make one.

Brgds,
Viktor

From gabor.salai at euroherc.hr  Tue Oct 27 09:37:45 2009
From: gabor.salai at euroherc.hr (sali)
Date: Tue Oct 27 09:40:30 2009
Subject: [Harbour] hbmk2 suggestion
Message-ID: <017401ca570a$aa5dbd80$6800520a@euroherc.ba>

----- Original Message ----- 
 From: "Viktor Szak?ts" <harbour.01@syenar.hu>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Tuesday, October 27, 2009 1:39 PM
Subject: Re: [Harbour] hbmk2 suggestion

>> just to say that some additional docs about .hmb .hbc .hbp would be 
>> helpfull, since --help is to short to be sufficant i used examples

>> also had problems with platform discovery, although msvc was not

> Did this happen with latest Harbour? Autodetection for MSVC should

> As for the docs, I won't have time for it (plus writing docs is

 it happened with your integrated install, syenar.hu harbour-project, 
download from the end of september

at the first moment, it was strange behaviour because the same downloaded 
install on one computer produced app builds, on another broke.
later i found that hbmk2 [or some part of it] discovered msvc instance on 
another computer, and used it as default compiler, but missed libs 
[particularly ${hb_lib}\libhbct.a] which was not expanded at install time

but, since i became familiar with hbmk2, it is no more problem for me

and for docs, it is ok, everybody needs to put them together for himself, 
just it takes little time and effort in digging and experimenting

From dbtopas at dbtopas.lt  Tue Oct 27 09:47:47 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Oct 27 09:47:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12776] trunk/harbour
In-Reply-To: <E1N2jeM-0007si-If@3kljzd1.ch3.sourceforge.com>
References: <E1N2jeM-0007si-If@3kljzd1.ch3.sourceforge.com>
Message-ID: <4AE6FA03.6070908@dbtopas.lt>

Hi,


>     + added XHB_AINS(), XHB_ADEL() functions which accept negative indexes.
>       Warning I haven't replicated xHarbour bugs in AINS() so it's not
>       exactly the same. Sooner or later someone will fix AINS() code in
>       xHarbour CVS.

Such changelog entries always makes me smile. But I always have a 
question, how many xHarbour developers read this mailing list?.. :)


Regards,
Mindaugas
From harbour.01 at syenar.hu  Tue Oct 27 09:56:34 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Oct 27 09:56:44 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <017401ca570a$aa5dbd80$6800520a@euroherc.ba>
References: <017401ca570a$aa5dbd80$6800520a@euroherc.ba>
Message-ID: <0FFCBAC8-D707-4ADB-A9C8-E5064626C6C9@syenar.hu>

>>> just to say that some additional docs about .hmb .hbc .hbp would  
>>> be helpfull, since --help is to short to be sufficant i used  
>>> examples
>
>>> also had problems with platform discovery, although msvc was not
>
>> Did this happen with latest Harbour? Autodetection for MSVC should
>
>> As for the docs, I won't have time for it (plus writing docs is
>
> it happened with your integrated install, syenar.hu harbour-project,  
> download from the end of september

Okay I understand it this way. This is expected behavior as it
detected your own C compiler installation (msvc), so it didn't
use the embedded one. We can change priorities if this isn't
good, but the idea is that C compiler choice is of the user's
and mingw should only play a role if nothing else is found.

Brgds,
Viktor

From gabor.salai at euroherc.hr  Tue Oct 27 10:27:34 2009
From: gabor.salai at euroherc.hr (sali)
Date: Tue Oct 27 10:26:52 2009
Subject: [Harbour] hbmk2 suggestion
References: <017401ca570a$aa5dbd80$6800520a@euroherc.ba>
	<0FFCBAC8-D707-4ADB-A9C8-E5064626C6C9@syenar.hu>
Message-ID: <01a501ca5711$a2788b70$6800520a@euroherc.ba>

----- Original Message ----- 
From: "Viktor Szak?ts" <harbour.01@syenar.hu>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Tuesday, October 27, 2009 2:56 PM
Subject: Re: [Harbour] hbmk2 suggestion


>> it happened with your integrated install, syenar.hu harbour-project, 
>> download from the end of september
>
> Okay I understand it this way. This is expected behavior as it
> detected your own C compiler installation (msvc), so it didn't
> use the embedded one. We can change priorities if this isn't

no need, "compiler" switch to force compiler is ok, i just wanted to inform 
that there is "broken-link" betwen installation/setup where i selected 
during installation/setup not-to-expand msvc binaries [i wanted just 
embedded mingw] and run time hbmk2 which detected existing msvc compiler and 
defaulted to it although there were no previously expanded binaries for it, 
that's all.

idea is, if one select at install time no-msvc than to prepare config for 
hbmk2 not-to-set-msvc-as-default-even-if-there-is-msvc 

From harbour.01 at syenar.hu  Tue Oct 27 10:56:55 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Oct 27 10:57:06 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <01a501ca5711$a2788b70$6800520a@euroherc.ba>
References: <017401ca570a$aa5dbd80$6800520a@euroherc.ba>
	<0FFCBAC8-D707-4ADB-A9C8-E5064626C6C9@syenar.hu>
	<01a501ca5711$a2788b70$6800520a@euroherc.ba>
Message-ID: <7621234C-F58E-443B-9BC1-48D1F8B8312A@syenar.hu>

>> Okay I understand it this way. This is expected behavior as it
>> detected your own C compiler installation (msvc), so it didn't
>> use the embedded one. We can change priorities if this isn't
>
> no need, "compiler" switch to force compiler is ok, i just wanted to  
> inform that there is "broken-link" betwen installation/setup where i  
> selected during installation/setup not-to-expand msvc binaries [i  
> wanted just embedded mingw] and run time hbmk2 which detected  
> existing msvc compiler and defaulted to it although there were no  
> previously expanded binaries for it, that's all.
>
> idea is, if one select at install time no-msvc than to prepare  
> config for hbmk2 not-to-set-msvc-as-default-even-if-there-is-msvc

I'm thinking the other way round: If someone has MSVC
installed (and I believe MSVC doesn't get installed
without user's knowledge), it's expected from user to
choose MSVC libs.

Maybe later someone else or I will add a feature to
toggle each target platform compiler to add such extra
level of configuration, but to me this seems to make
it too much complicated and creates another factor to
consider in every scenario (f.e. what if someone just
copies/installs MSVC libs afterwards? What if MSVC libs
are distributed separately)

Next level could be that hbmk2 verifies if libs are
actually available for a given detected target, and
if not, it skips it. Probably that's the solution
which need to be implemented, but not now.

Brgds,
Viktor

From gabor.salai at euroherc.hr  Tue Oct 27 12:07:50 2009
From: gabor.salai at euroherc.hr (sali)
Date: Tue Oct 27 12:06:49 2009
Subject: [Harbour] hbmk2 suggestion
References: <017401ca570a$aa5dbd80$6800520a@euroherc.ba><0FFCBAC8-D707-4ADB-A9C8-E5064626C6C9@syenar.hu><01a501ca5711$a2788b70$6800520a@euroherc.ba>
	<7621234C-F58E-443B-9BC1-48D1F8B8312A@syenar.hu>
Message-ID: <01f601ca571f$a1d9d210$6800520a@euroherc.ba>

----- Original Message ----- 
From: "Viktor Szak?ts" <harbour.01@syenar.hu>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Tuesday, October 27, 2009 3:56 PM
Subject: Re: [Harbour] hbmk2 suggestion


>>> Okay I understand it this way. This is expected behavior as it
>>> detected your own C compiler installation (msvc), so it didn't

>> idea is, if one select at install time no-msvc than to prepare  config 
>> for hbmk2 not-to-set-msvc-as-default-even-if-there-is-msvc
>
> without user's knowledge), it's expected from user to
> choose MSVC libs.

ha, except that is known that is hard to know what is "expectable" from the 
user's point-of-view

[or to have readme.txt telling what is the search order algorythm for 
installed compilers]

but ok ok, i don't want to waste your time on this 

From druzus at acn.waw.pl  Tue Oct 27 12:18:12 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Oct 27 12:18:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12776] trunk/harbour
In-Reply-To: <4AE6FA03.6070908@dbtopas.lt>
References: <E1N2jeM-0007si-If@3kljzd1.ch3.sourceforge.com>
	<4AE6FA03.6070908@dbtopas.lt>
Message-ID: <20091027161812.GA25216@34-mo7-2.home.aster.pl>

On Tue, 27 Oct 2009, Mindaugas Kavaliauskas wrote:

Hi,

> >    + added XHB_AINS(), XHB_ADEL() functions which accept negative indexes.
> >      Warning I haven't replicated xHarbour bugs in AINS() so it's not
> >      exactly the same. Sooner or later someone will fix AINS() code in
> >      xHarbour CVS.
> Such changelog entries always makes me smile. But I always have a
> question, how many xHarbour developers read this mailing list?.. :)

At least Phil Krylov is reading it and ports some of bug fixes to
xHarbour anyhow it's a serious question if it's worth to invest
time in keeping xHarbour compatibility.

BTW I created text which describes most important differences between
Harbour and xHarbour. But it will be good if someone who know English
fix me before I'll public it.

best regards,
Przemek
From vszakats at users.sourceforge.net  Tue Oct 27 12:39:25 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Oct 27 12:39:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12777] trunk/harbour
Message-ID: <E1N2p4v-00008c-V5@bj8yhf1.ch3.sourceforge.com>

Revision: 12777
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12777&view=rev
Author:   vszakats
Date:     2009-10-27 16:39:24 +0000 (Tue, 27 Oct 2009)

Log Message:
-----------

2009-10-27 17:36 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/axcore.c
    * Replaced duplicated constant with HB_SIZEOFARRAY() macro.

  * utils/hbmk2/hbmk2.prg
    + C compiler autodetection will now make sure to skip compilers 
      where required Harbour core libraries aren't installed.
      This autodetection is disabled when HB_LIB_INSTALL is set 
      manually and also when lib/<plat> dir is missing altogether, 
      assuming there is a single-compiler installation used in this 
      case (where such autodetection cannot work reliably).
      When using -info option, a screen message is shown if 
      autodetected C compiler is skipped for above reason.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/axcore.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Oct 27 12:43:18 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Oct 27 12:43:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12776] trunk/harbour
In-Reply-To: <20091027161812.GA25216@34-mo7-2.home.aster.pl>
References: <E1N2jeM-0007si-If@3kljzd1.ch3.sourceforge.com>
	<4AE6FA03.6070908@dbtopas.lt>
	<20091027161812.GA25216@34-mo7-2.home.aster.pl>
Message-ID: <99D117B7-F184-4A96-8CCC-EBAAFA82CA7F@syenar.hu>

Hi Przemek,

>>>   + added XHB_AINS(), XHB_ADEL() functions which accept negative  
>>> indexes.
>>>     Warning I haven't replicated xHarbour bugs in AINS() so it's not
>>>     exactly the same. Sooner or later someone will fix AINS() code  
>>> in
>>>     xHarbour CVS.
>> Such changelog entries always makes me smile. But I always have a
>> question, how many xHarbour developers read this mailing list?.. :)
>
> At least Phil Krylov is reading it and ports some of bug fixes to
> xHarbour anyhow it's a serious question if it's worth to invest
> time in keeping xHarbour compatibility.

I think we can stop all sort of syncing for now, as
we have good enough support for majority of users wishing
to switch to from xhb to Harbour. xhb core development
looks essentially halted anyway, so there isn't too much
new features to sync in the last few years.

[ Only background processes comes to mind which is still
missing from Harbour and may be used by app developers. ]

> BTW I created text which describes most important differences between
> Harbour and xHarbour. But it will be good if someone who know English
> fix me before I'll public it.

Please publish it, otherwise it will be difficult
for anyone to make fixes :)

Brgds,
Viktor

From bedipritpal at hotmail.com  Tue Oct 27 13:44:23 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Oct 27 13:44:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12776] trunk/harbour
In-Reply-To: <20091027161812.GA25216@34-mo7-2.home.aster.pl>
References: <E1N2jeM-0007si-If@3kljzd1.ch3.sourceforge.com>
	<4AE6FA03.6070908@dbtopas.lt>
	<20091027161812.GA25216@34-mo7-2.home.aster.pl>
Message-ID: <26082044.post@talk.nabble.com>


Hi


Przemys?aw Czerpak wrote:
> 
> BTW I created text which describes most important differences between
> Harbour and xHarbour. But it will be good if someone who know English
> fix me before I'll public it.
> 

You can send it to me to look-at, if you decides so.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12776--trunk-harbour-tp26075637p26082044.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Tue Oct 27 14:49:45 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Oct 27 14:49:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12778] trunk/harbour
Message-ID: <E1N2r73-0007NU-9O@3kljzd1.ch3.sourceforge.com>

Revision: 12778
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12778&view=rev
Author:   druzus
Date:     2009-10-27 18:49:44 +0000 (Tue, 27 Oct 2009)

Log Message:
-----------
2009-10-27 19:49 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/codepage/cpru866.c
  * harbour/src/codepage/cpruiso.c
  * harbour/src/codepage/cprukoi.c
  * harbour/src/codepage/cpruwin.c
  * harbour/src/codepage/cpua1125.c
  * harbour/src/codepage/cpua866.c
  * harbour/src/codepage/cpuakoi.c
  * harbour/src/codepage/cpuawin.c
    * use macros in codepage definition instead of direct constant values

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/codepage/cpru866.c
    trunk/harbour/src/codepage/cpruiso.c
    trunk/harbour/src/codepage/cprukoi.c
    trunk/harbour/src/codepage/cpruwin.c
    trunk/harbour/src/codepage/cpua1125.c
    trunk/harbour/src/codepage/cpua866.c
    trunk/harbour/src/codepage/cpuakoi.c
    trunk/harbour/src/codepage/cpuawin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Oct 27 16:04:10 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Oct 27 16:04:22 2009
Subject: [Harbour] hbmk2 suggestion
In-Reply-To: <01f601ca571f$a1d9d210$6800520a@euroherc.ba>
References: <017401ca570a$aa5dbd80$6800520a@euroherc.ba><0FFCBAC8-D707-4ADB-A9C8-E5064626C6C9@syenar.hu><01a501ca5711$a2788b70$6800520a@euroherc.ba>
	<7621234C-F58E-443B-9BC1-48D1F8B8312A@syenar.hu>
	<01f601ca571f$a1d9d210$6800520a@euroherc.ba>
Message-ID: <13018343-A4F5-49A6-B8D9-4E4B8CC447A9@syenar.hu>

Hi sali,

Should be solved after recent commit, you may give it a try in
your environment.

Brgds,
Viktor

On 2009 Oct 27, at 17:07, sali wrote:

> ----- Original Message ----- From: "Viktor Szak?ts" <harbour.01@syenar.hu 
> >
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org 
> >
> Sent: Tuesday, October 27, 2009 3:56 PM
> Subject: Re: [Harbour] hbmk2 suggestion
>
>
>>>> Okay I understand it this way. This is expected behavior as it
>>>> detected your own C compiler installation (msvc), so it didn't
>
>>> idea is, if one select at install time no-msvc than to prepare   
>>> config for hbmk2 not-to-set-msvc-as-default-even-if-there-is-msvc
>>
>> without user's knowledge), it's expected from user to
>> choose MSVC libs.
>
> ha, except that is known that is hard to know what is "expectable"  
> from the user's point-of-view
>
> [or to have readme.txt telling what is the search order algorythm  
> for installed compilers]
>
> but ok ok, i don't want to waste your time on this
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Tue Oct 27 17:20:08 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Oct 27 17:20:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12776] trunk/harbour
In-Reply-To: <26082044.post@talk.nabble.com>
References: <E1N2jeM-0007si-If@3kljzd1.ch3.sourceforge.com>
	<4AE6FA03.6070908@dbtopas.lt>
	<20091027161812.GA25216@34-mo7-2.home.aster.pl>
	<26082044.post@talk.nabble.com>
Message-ID: <20091027212008.GA1589@34-mo7-2.home.aster.pl>

On Tue, 27 Oct 2009, Pritpal Bedi wrote:

Hi Pritpal,

> > BTW I created text which describes most important differences between
> > Harbour and xHarbour. But it will be good if someone who know English
> > fix me before I'll public it.
> You can send it to me to look-at, if you decides so.

Thank you very much.
I'm attaching it to the message sent to your private email address.

best regards,
Przemek
From bedipritpal at hotmail.com  Tue Oct 27 19:06:16 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Oct 27 19:06:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12776] trunk/harbour
In-Reply-To: <20091027212008.GA1589@34-mo7-2.home.aster.pl>
References: <E1N2jeM-0007si-If@3kljzd1.ch3.sourceforge.com>
	<4AE6FA03.6070908@dbtopas.lt>
	<20091027161812.GA25216@34-mo7-2.home.aster.pl>
	<26082044.post@talk.nabble.com>
	<20091027212008.GA1589@34-mo7-2.home.aster.pl>
Message-ID: <26086674.post@talk.nabble.com>


Hello Przemek


Przemys?aw Czerpak wrote:
> 
> I'm attaching it to the message sent to your private email address.
> 

Received and reviewing.
Please do not make any changes to your copy as I have 
formatted it a little. Gramatical review follows next.

I must say that it is one of the finest analysis of a 
compiler internals I ever read.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12776--trunk-harbour-tp26075637p26086674.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Oct 27 23:36:23 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Oct 27 23:41:55 2009
Subject: [Harbour] bug: GTXWC and HB_GTI_WINTITLE
Message-ID: <35D013AA-C918-40AF-B6E1-5FE7DBF551F7@syenar.hu>

Hi All,

hb_gtInfo( HB_GTI_WINTITLE, "string with accented chars" )

doesn't seem to respect app CP (like now f.e. GTWVT does)
with GTXWC, accented chars don't appear correctly in title
bar.

I tried to fix it by converting to UTF8 in gtxwc.c, but I
may be missing something as it's still not right.

Brgds,
Viktor

From ice at extreme.hu  Wed Oct 28 00:38:43 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Oct 28 00:38:54 2009
Subject: [Harbour] bug: GTXWC and HB_GTI_WINTITLE
In-Reply-To: <35D013AA-C918-40AF-B6E1-5FE7DBF551F7@syenar.hu>
References: <35D013AA-C918-40AF-B6E1-5FE7DBF551F7@syenar.hu>
Message-ID: <alpine.DEB.2.00.0910280515060.15966@dawn.royalcomp.hu>

On Wed, 28 Oct 2009, Viktor Szak?ts wrote:

 > hb_gtInfo( HB_GTI_WINTITLE, "string with accented chars" )
 > 
 > doesn't seem to respect app CP (like now f.e. GTWVT does)
 > with GTXWC, accented chars don't appear correctly in title
 > bar.
 > 
 > I tried to fix it by converting to UTF8 in gtxwc.c, but I
 > may be missing something as it's still not right.

this is a shot in the dark, but anyway.

try adding

XChangeProperty( wnd->dpy, wnd->window,
	XInternAtom( wnd->dpy, "_NET_WM_NAME", False ),
	XInternAtom( wnd->dpy, "UTF8_STRING", False ),
	8, PropModeReplace, wnd->szTitle, strlen( wnd->szTitle ));

right after calling XStoreName() in gtxwc.c (line 2965).

it could be that it is needed after line 3358, but i couldn't quickly 
figure out what that block really is for (adding this there as well 
probably won't hurt anyway).

-- 
[-]

mkdir /nonexistent
From sscc at mweb.co.za  Wed Oct 28 03:59:08 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Oct 28 03:59:19 2009
Subject: [Harbour] Error making harbour - ChangeLog 12778
Message-ID: <4AE7F9CC.5040106@mweb.co.za>

With Harbour (Changelog: * $Id: ChangeLog 12778 2009-10-27 18:49:44Z druzus $)

I did a SVN update this morning, "make clean", "make", and "make install". Only 
harbour.exe and hbpp.exe were copied to the bin directory (I discovered this 
trying to test testax.prg). I am using MSVC 2008.

I then ran "make" again and I am getting the following make error:

link.exe -nologo -dll -subsystem:console -libpath:../../../../../lib/win/msvc 
-out:"..\..\..\..\..\bin\win\msvc\harbour-20.dll" 
-implib:"../../../../../lib/win/msvc/harbour-20.lib" @__dyn__.tmp kernel32.lib 
user32.lib ws2_32.lib advapi32.lib gdi32.lib
    Creating library ../../../../../lib/win/msvc/harbour-20.lib and object 
../../../../../lib/win/msvc/harbour-20.exp
hvmall_dyn.obj : error LNK2019: unresolved external symbol _hb_gtIsGtRef 
referenced in function _hb_gcCollectAll
..\..\..\..\..\bin\win\msvc\harbour-20.dll : fatal error LNK1120: 1 unresolved 
externals

Regards
Alex
From druzus at acn.waw.pl  Wed Oct 28 04:06:45 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Oct 28 04:06:51 2009
Subject: [Harbour] bug: GTXWC and HB_GTI_WINTITLE
In-Reply-To: <alpine.DEB.2.00.0910280515060.15966@dawn.royalcomp.hu>
References: <35D013AA-C918-40AF-B6E1-5FE7DBF551F7@syenar.hu>
	<alpine.DEB.2.00.0910280515060.15966@dawn.royalcomp.hu>
Message-ID: <20091028080645.GA17569@34-mo7-2.home.aster.pl>

On Wed, 28 Oct 2009, Tamas TEVESZ wrote:

Hi,

>  > hb_gtInfo( HB_GTI_WINTITLE, "string with accented chars" )
>  > doesn't seem to respect app CP (like now f.e. GTWVT does)
>  > with GTXWC, accented chars don't appear correctly in title
>  > bar.
>  > I tried to fix it by converting to UTF8 in gtxwc.c, but I
>  > may be missing something as it's still not right.
> this is a shot in the dark, but anyway.
> try adding
> XChangeProperty( wnd->dpy, wnd->window,
> 	XInternAtom( wnd->dpy, "_NET_WM_NAME", False ),
> 	XInternAtom( wnd->dpy, "UTF8_STRING", False ),
> 	8, PropModeReplace, wnd->szTitle, strlen( wnd->szTitle ));
> right after calling XStoreName() in gtxwc.c (line 2965).

It will work and in such case it should be enough to replace
XStoreName() with above XChangeProperty().
But I'm interesting why you used _NET_WM_NAME property instead
of WM_NAME used by XStoreName().
Anyhow for final version I suggest to use XSetWMName() instead
of manually update properties:

   if( wnd->fDspTitle )
   {
      wnd->fDspTitle = FALSE;
      if( wnd->szTitle )
      {
         ULONG ulLen = hb_cdpStringInUTF8Length( wnd->hostCDP, TRUE, wnd->szTitle, strlen( wnd->szTitle ) );
         char * pBuffer = ( char * ) hb_xgrab( ulLen + 1 );
         XTextProperty text;

         hb_cdpStrnToUTF8( wnd->hostCDP, TRUE, wnd->szTitle, strlen( wnd->szTitle ), pBuffer );
         text.value = ( unsigned char * ) pBuffer;
         text.encoding = s_atomUTF8String;
         text.format = 8;
         text.nitems = strlen( pBuffer );
         XSetWMName( wnd->dpy, wnd->window, &text );
         hb_xfree( pBuffer );
      }
      else
         XStoreName( wnd->dpy, wnd->window, "" );
   }

best regards,
Przemek
From druzus at users.sourceforge.net  Wed Oct 28 04:13:44 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Oct 28 04:13:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12779] trunk/harbour
Message-ID: <E1N33f6-0007Kd-D9@c3vjzd1.ch3.sourceforge.com>

Revision: 12779
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12779&view=rev
Author:   druzus
Date:     2009-10-28 08:13:41 +0000 (Wed, 28 Oct 2009)

Log Message:
-----------
2009-10-28 09:13 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/gtxwc/gtxwc.c
    * use XSetWMName() instead of XStoreName() to set window title
      using UTF8 strings

  * harbour/include/hbapigt.h
    * always declare hb_gtIsGtRef() for C++ compiler

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapigt.h
    trunk/harbour/src/rtl/gtxwc/gtxwc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Oct 28 04:38:28 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Oct 28 04:38:35 2009
Subject: [Harbour] Error making harbour - ChangeLog 12778
In-Reply-To: <4AE7F9CC.5040106@mweb.co.za>
References: <4AE7F9CC.5040106@mweb.co.za>
Message-ID: <20091028083828.GA19728@34-mo7-2.home.aster.pl>

On Wed, 28 Oct 2009, Alex Strickland wrote:

Hi,

> With Harbour (Changelog: * $Id: ChangeLog 12778 2009-10-27 18:49:44Z druzus $)
> I did a SVN update this morning, "make clean", "make", and "make
> install". Only harbour.exe and hbpp.exe were copied to the bin
> directory (I discovered this trying to test testax.prg). I am using
> MSVC 2008.
> I then ran "make" again and I am getting the following make error:
> link.exe -nologo -dll -subsystem:console
> -libpath:../../../../../lib/win/msvc
> -out:"..\..\..\..\..\bin\win\msvc\harbour-20.dll"
> -implib:"../../../../../lib/win/msvc/harbour-20.lib" @__dyn__.tmp
> kernel32.lib user32.lib ws2_32.lib advapi32.lib gdi32.lib
>    Creating library ../../../../../lib/win/msvc/harbour-20.lib and
> object ../../../../../lib/win/msvc/harbour-20.exp
> hvmall_dyn.obj : error LNK2019: unresolved external symbol
> _hb_gtIsGtRef referenced in function _hb_gcCollectAll
> ..\..\..\..\..\bin\win\msvc\harbour-20.dll : fatal error LNK1120: 1
> unresolved externals

Please try again with current SVN code. Should be fixed at:
   2009-10-28 09:13 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Oct 28 04:40:15 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Oct 28 04:40:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12779] trunk/harbour
In-Reply-To: <E1N33f6-0007Kd-D9@c3vjzd1.ch3.sourceforge.com>
References: <E1N33f6-0007Kd-D9@c3vjzd1.ch3.sourceforge.com>
Message-ID: <DCC465F7-617E-4998-8FF6-D81BDD497FCF@syenar.hu>

Thank you very much (also to Tamas), after this patch
it's working perfectly.

Brgds,
Viktor

On 2009 Oct 28, at 09:13, druzus@users.sourceforge.net wrote:

> Revision: 12779
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12779&view=rev
> Author:   druzus
> Date:     2009-10-28 08:13:41 +0000 (Wed, 28 Oct 2009)
>
> Log Message:
> -----------
> 2009-10-28 09:13 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/rtl/gtxwc/gtxwc.c
>    * use XSetWMName() instead of XStoreName() to set window title
>      using UTF8 strings
>
>  * harbour/include/hbapigt.h
>    * always declare hb_gtIsGtRef() for C++ compiler
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/include/hbapigt.h
>    trunk/harbour/src/rtl/gtxwc/gtxwc.c
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From sscc at mweb.co.za  Wed Oct 28 04:50:51 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Oct 28 04:50:59 2009
Subject: [Harbour] Error making harbour - ChangeLog 12778
In-Reply-To: <20091028083828.GA19728@34-mo7-2.home.aster.pl>
References: <4AE7F9CC.5040106@mweb.co.za>
	<20091028083828.GA19728@34-mo7-2.home.aster.pl>
Message-ID: <4AE805EB.2020701@mweb.co.za>

Przemys?aw Czerpak wrote:

> Please try again with current SVN code. Should be fixed at:
>    2009-10-28 09:13 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

It is fixed, and testax.prg works flawlessly, so does my hwgui test code.

Thank you once again.

Regards
Alex

From vouchcac at users.sourceforge.net  Wed Oct 28 05:12:17 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Oct 28 05:12:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12780] trunk/harbour
Message-ID: <E1N34Zl-0000Wb-0K@dn4whf1.ch3.sourceforge.com>

Revision: 12780
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12780&view=rev
Author:   vouchcac
Date:     2009-10-28 09:12:14 +0000 (Wed, 28 Oct 2009)

Log Message:
-----------
2009-10-28 02:01 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/hbqt_slots.h
  * contrib/hbqt/moc_slots.cpp

  * contrib/hbqt/qtcore/QAbstractItemModel.cpp
  * contrib/hbqt/qtcore/TQAbstractItemModel.prg
  * contrib/hbqt/qth/QAbstractItemModel.qth

  * contrib/hbxbp/xbpbrowse.prg
  * contrib/hbxbp/xbpdialog.prg
  * contrib/hbxbp/xbpgeneric.prg
  * contrib/hbxbp/xbphtmlviewer.prg
  * contrib/hbxbp/xbplistbox.prg
  * contrib/hbxbp/xbprtf.prg
  * contrib/hbxbp/xbptabpage.prg
  * contrib/hbxbp/xbptreeview.prg
  * contrib/hbxbp/xbpwindow.prg

  * contrib/hbxbp/tests/demoxbp.prg
    
    ! Fixes to release objects in proper order.
      Now demoxbp.exe terminates fine. Also you can 
      open as many dialogs as you want. Closing next dialog
      releases the memory belonging to Qt objects but still
      I have to investigate why whole of thread memory is not 
      released. So I have kept debug code intact. Just play with 
      current code, may be you can pin-point where Xbp*classes 
      need more tweaks.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.h
    trunk/harbour/contrib/hbqt/moc_slots.cpp
    trunk/harbour/contrib/hbqt/qtcore/QAbstractItemModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractItemModel.prg
    trunk/harbour/contrib/hbqt/qth/QAbstractItemModel.qth
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbpdialog.prg
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
    trunk/harbour/contrib/hbxbp/xbphtmlviewer.prg
    trunk/harbour/contrib/hbxbp/xbplistbox.prg
    trunk/harbour/contrib/hbxbp/xbprtf.prg
    trunk/harbour/contrib/hbxbp/xbptabpage.prg
    trunk/harbour/contrib/hbxbp/xbptreeview.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Wed Oct 28 06:40:07 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Oct 28 06:40:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12780] trunk/harbour
In-Reply-To: <E1N34Zl-0000Wb-0K@dn4whf1.ch3.sourceforge.com>
References: <E1N34Zl-0000Wb-0K@dn4whf1.ch3.sourceforge.com>
Message-ID: <9257026e0910280340h595bc798r929bdaf7468a59be@mail.gmail.com>

On Wed, Oct 28, 2009 at 10:12 AM,  <vouchcac@users.sourceforge.net> wrote:

> ?* contrib/hbxbp/tests/demoxbp.prg
>
> ? ?! Fixes to release objects in proper order.
> ? ? ?Now demoxbp.exe terminates fine. Also you can
> ? ? ?open as many dialogs as you want. Closing next dialog
> ? ? ?releases the memory belonging to Qt objects but still
> ? ? ?I have to investigate why whole of thread memory is not
> ? ? ?released. So I have kept debug code intact. Just play with
> ? ? ?current code, may be you can pin-point where Xbp*classes
> ? ? ?need more tweaks.

Under Ubuntu 9.04 using QT from qtsoftware I still get a GPF at the end.

Starting program: /harbour-trunk/contrib/hbxbp/tests/demoxbp
(no debugging symbols found)
(no debugging symbols found)
[Thread debugging using libthread_db enabled]
[New Thread 0xb59b3920 (LWP 21126)]
QPainter::begin: Widget painting can only begin as a result of a paintEvent
[New Thread 0xb081cb90 (LWP 21129)]

Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 0xb59b3920 (LWP 21126)]
0x00000000 in ?? ()
(gdb) bt
#0  0x00000000 in ?? ()
#1  0x081061a9 in ?? ()
#2  0xb6122af9 in hb_gcRefFree () from /opt/harbour/lib/libharbour.so
#3  0xb613142b in hb_itemClear () from /opt/harbour/lib/libharbour.so
#4  0xb6153184 in hb_arrayGarbageRelease () from /opt/harbour/lib/libharbour.so
#5  0xb6122af9 in hb_gcRefFree () from /opt/harbour/lib/libharbour.so
#6  0xb613142b in hb_itemClear () from /opt/harbour/lib/libharbour.so
#7  0xb6153184 in hb_arrayGarbageRelease () from /opt/harbour/lib/libharbour.so
#8  0xb6122af9 in hb_gcRefFree () from /opt/harbour/lib/libharbour.so
#9  0xb613142b in hb_itemClear () from /opt/harbour/lib/libharbour.so
#10 0xb6153184 in hb_arrayGarbageRelease () from /opt/harbour/lib/libharbour.so
#11 0xb6122af9 in hb_gcRefFree () from /opt/harbour/lib/libharbour.so
#12 0xb613142b in hb_itemClear () from /opt/harbour/lib/libharbour.so
#13 0xb6153184 in hb_arrayGarbageRelease () from /opt/harbour/lib/libharbour.so
#14 0xb6122af9 in hb_gcRefFree () from /opt/harbour/lib/libharbour.so
#15 0xb613142b in hb_itemClear () from /opt/harbour/lib/libharbour.so
#16 0xb6153184 in hb_arrayGarbageRelease () from /opt/harbour/lib/libharbour.so
#17 0xb6122af9 in hb_gcRefFree () from /opt/harbour/lib/libharbour.so
#18 0xb613142b in hb_itemClear () from /opt/harbour/lib/libharbour.so
#19 0xb6153184 in hb_arrayGarbageRelease () from /opt/harbour/lib/libharbour.so
#20 0xb6122af9 in hb_gcRefFree () from /opt/harbour/lib/libharbour.so
#21 0xb613142b in hb_itemClear () from /opt/harbour/lib/libharbour.so
#22 0xb6133238 in hb_itemCopy () from /opt/harbour/lib/libharbour.so
#23 0xb6133a0f in hb_arraySet () from /opt/harbour/lib/libharbour.so
#24 0xb613cb45 in HB_FUN_msgSetData () from /opt/harbour/lib/libharbour.so
#25 0xb613102a in hb_vmSend () from /opt/harbour/lib/libharbour.so
#26 0xb612f457 in hb_vmExecute () from /opt/harbour/lib/libharbour.so
#27 0x08087bda in ?? ()
#28 0xb613102a in hb_vmSend () from /opt/harbour/lib/libharbour.so
#29 0xb612f457 in hb_vmExecute () from /opt/harbour/lib/libharbour.so
#30 0xb6130b15 in hb_codeblockEvaluate () from /opt/harbour/lib/libharbour.so
#31 0xb6130b9b in hb_vmDoBlock () from /opt/harbour/lib/libharbour.so
#32 0xb613102a in hb_vmSend () from /opt/harbour/lib/libharbour.so
#33 0xb6153337 in hb_arrayEval () from /opt/harbour/lib/libharbour.so
#34 0xb6159cff in HB_FUN_AEVAL () from /opt/harbour/lib/libharbour.so
#35 0xb6154a1a in hb_vmProc () from /opt/harbour/lib/libharbour.so
#36 0xb612dd34 in hb_vmExecute () from /opt/harbour/lib/libharbour.so
#37 0x08087bda in ?? ()
#38 0xb613102a in hb_vmSend () from /opt/harbour/lib/libharbour.so
#39 0xb612f457 in hb_vmExecute () from /opt/harbour/lib/libharbour.so
#40 0x08086cba in ?? ()
#41 0xb613102a in hb_vmSend () from /opt/harbour/lib/libharbour.so
#42 0xb612f457 in hb_vmExecute () from /opt/harbour/lib/libharbour.so
#43 0x0808669a in ?? ()
#44 0xb6154a1a in hb_vmProc () from /opt/harbour/lib/libharbour.so
#45 0xb612dd34 in hb_vmExecute () from /opt/harbour/lib/libharbour.so
#46 0x080866ca in ?? ()
#47 0xb6154a1a in hb_vmProc () from /opt/harbour/lib/libharbour.so
#48 0xb612dd34 in hb_vmExecute () from /opt/harbour/lib/libharbour.so
#49 0x080866fa in ?? ()
#50 0xb6154a1a in hb_vmProc () from /opt/harbour/lib/libharbour.so
#51 0xb6156014 in hb_vmInit () from /opt/harbour/lib/libharbour.so
#52 0xb615821e in main () from /opt/harbour/lib/libharbour.so
#53 0xb5e6c775 in __libc_start_main () from /lib/tls/i686/cmov/libc.so.6
#54 0x08085d01 in ?? ()

best regards,
Lorenzo
From dbtopas at dbtopas.lt  Wed Oct 28 08:43:38 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Oct 28 08:43:42 2009
Subject: [Harbour] ADS limits
Message-ID: <4AE83C7A.1020802@dbtopas.lt>

Hi,


in the beginning I was going to write a private email to Przemek and ask 
about CDX detail, but more deep test gave me an answer.

The problem of the customers was that sometimes browse does not show 
records (in scoped alias), but records for sure exist in database. We 
found that ORDKEYCOUNT() return zero but scope is not empty. The problem 
of ADS RDD is that it does not check return values of ADS API functions 
in many places, for exmaple, in processing of DBOI_KEYCOUNT. Here 
AdsGetRecordCount() return error 7022.

Advantage Error Guide:
----------------------
7022 Maximum index levels

Problem: The current index is unbalanced. This problem is most likely to 
occur when using very long index keys and new keys are being added to 
the index. This error could also occur if the index is corrupt.

Solution: Reindex the file. The reindexed file will be built using the 
minimum number of levels. This will speed up all future operations using 
the index. If this does not resolve the problem, reindex with a larger 
page size (see Index Page Size, or see the API AdsReindex61 in the 
Advantage Client Engine Help or the method AdsIndexPageSize in the 
Advantage TDataSet Descendant Help). With a larger index page size, more 
keys will be stored in each page and will thus reduce the number of 
levels required. For specific equations showing the correlation between 
key and page size, see Index Key Size and Page Size Relationships.
----------------------

Unfortunately CDX page size is fixed 512 and can not be changed. I have 
a database table from our customers. It has 50342 records only and index 
key length is 133 bytes. I have a feeling this is a too small limits for 
real life a database. Documented maximum key length is 240 bytes.

I had an idea that index tree level count can be limited by CDX 
structure, but after I've wrote a self contained test and compared 
ADSCDX and DBFCDX results, I understand it is a limit of ADS 
implementation. Both my real life key length 133, and a maximum 
documented key length 240 was tested (see test source below):
   RDD: ADSCDX KeyLen:    240 LASTREC():   6058 ORDKEYCOUNT():     0
   RDD: ADSCDX KeyLen:    133 LASTREC(): 250052 ORDKEYCOUNT():     0
So, using a maximum documented key length (240 bytes) ADS can manage 
tables having only(!) 6058 records. The same results are for both 8.1 
and 9.1 version of ADS.

(512-some_header) / (240 + pointer_size) = 2 keys per page
log(6058)/log(2+1)~= 7,927 ~= 8

(512-some_header) / (133 + pointer_size) = 3 keys per page
log(250052)/log(3+1)~= 8,966 ~= 9

So, maximum index tree level in ADS is 8, or 9, or a little more, if 
index is unbalanced. Perhaps ADS uses a fixed length array to store 
pages in index navigation operations. I've not tested yet, if DBSKIP() 
or DBSEEK() has also the same limits, or it is a problem of 
ORDKEYCOUNT() only.

I was unable to find a index level limit in Harbour's DBFCDX driver 
using the test.


Regards,
Mindaugas


---------------------------
#include "ads.ch"

EXTERNAL ADS, DBFCDX
ANNOUNCE RDDSYS

#define KEYLEN 240

FUNC main()
   ADSSetFileType(ADS_CDX)
   ADSSetServerType(ADS_REMOTE_SERVER)
   ? "Press ESC to cancel"
   test("ADSCDX", "\\server\share\test176", KEYLEN)
   test("DBFCDX", "test176", KEYLEN)
RETURN 0

PROC test(cRDD, cPath, nKeyLen)
LOCAL nI, nJ
   DBCREATE(cPath, {{"KEY", "C", nKeyLen, 0}}, cRDD, .T., "test")
   ORDCREATE(cPath, "key", "KEY")
   ? "Testing ", cRDD, "..."
   FOR nI := 1 TO 1000
      FOR nJ := 1 TO 1000
        DBAPPEND()
        FIELD->KEY := REPLICATE(HB_MD5(STR(nI) + STR(nJ)), 8)
      NEXT
      IF ORDKEYCOUNT() != LASTREC()
        ? "RDD:", cRDD, "KeyLen:", nKeyLen, "LASTREC():", LASTREC(), 
"ORDKEYCOUNT():", ORDKEYCOUNT()
        EXIT
      ENDIF
      ?? nI
      IF INKEY() == 27
        EXIT
      ENDIF
   NEXT
   DBCLOSEAREA()
RETURN

From ice at extreme.hu  Wed Oct 28 08:48:11 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Oct 28 08:48:19 2009
Subject: [Harbour] bug: GTXWC and HB_GTI_WINTITLE
In-Reply-To: <20091028080645.GA17569@34-mo7-2.home.aster.pl>
References: <35D013AA-C918-40AF-B6E1-5FE7DBF551F7@syenar.hu>
	<alpine.DEB.2.00.0910280515060.15966@dawn.royalcomp.hu>
	<20091028080645.GA17569@34-mo7-2.home.aster.pl>
Message-ID: <alpine.DEB.2.00.0910281343000.15966@dawn.royalcomp.hu>

On Wed, 28 Oct 2009, Przemys?aw Czerpak wrote:

 > >  > hb_gtInfo( HB_GTI_WINTITLE, "string with accented chars" )
 > >  > doesn't seem to respect app CP (like now f.e. GTWVT does)
 > >  > with GTXWC, accented chars don't appear correctly in title
 > >  > bar.
 > >  > I tried to fix it by converting to UTF8 in gtxwc.c, but I
 > >  > may be missing something as it's still not right.
 > > this is a shot in the dark, but anyway.
 > > try adding
 > > XChangeProperty( wnd->dpy, wnd->window,
 > > 	XInternAtom( wnd->dpy, "_NET_WM_NAME", False ),
 > > 	XInternAtom( wnd->dpy, "UTF8_STRING", False ),
 > > 	8, PropModeReplace, wnd->szTitle, strlen( wnd->szTitle ));
 > > right after calling XStoreName() in gtxwc.c (line 2965).
 > 
 > It will work and in such case it should be enough to replace
 > XStoreName() with above XChangeProperty().
 > But I'm interesting why you used _NET_WM_NAME property instead
 > of WM_NAME used by XStoreName().

net_wm_hints is supposed to be a newer standard than wm_hints (and 
it's probably there for a reason). now, i don't know too much about x 
programming, but i suppose that everything alive now speak net_wm, so 
it just seemed natural.

 > Anyhow for final version I suggest to use XSetWMName() instead
 > of manually update properties:

according to the good old man, xsetwmname() sets wm_name, thus my 
manual way of setting net_wm_name instead.

but whichever you see fit, i guess. if wm_name works too, without side 
effects, then so be it.

 > 
 >    if( wnd->fDspTitle )
 >    {
 >       wnd->fDspTitle = FALSE;
 >       if( wnd->szTitle )
 >       {
 >          ULONG ulLen = hb_cdpStringInUTF8Length( wnd->hostCDP, TRUE, wnd->szTitle, strlen( wnd->szTitle ) );
 >          char * pBuffer = ( char * ) hb_xgrab( ulLen + 1 );
 >          XTextProperty text;
 > 
 >          hb_cdpStrnToUTF8( wnd->hostCDP, TRUE, wnd->szTitle, strlen( wnd->szTitle ), pBuffer );
 >          text.value = ( unsigned char * ) pBuffer;
 >          text.encoding = s_atomUTF8String;
 >          text.format = 8;
 >          text.nitems = strlen( pBuffer );
 >          XSetWMName( wnd->dpy, wnd->window, &text );
 >          hb_xfree( pBuffer );
 >       }
 >       else
 >          XStoreName( wnd->dpy, wnd->window, "" );
 >    }
 > 
 > best regards,
 > Przemek
 > _______________________________________________
 > Harbour mailing list
 > Harbour@harbour-project.org
 > http://lists.harbour-project.org/mailman/listinfo/harbour
 > 

-- 
[-]

mkdir /nonexistent
From mbelgrano at deltain.it  Wed Oct 28 09:08:53 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Oct 28 09:09:25 2009
Subject: [Harbour] ADS limits
In-Reply-To: <4AE83C7A.1020802@dbtopas.lt>
References: <4AE83C7A.1020802@dbtopas.lt>
Message-ID: <609353e70910280608r1c4317fbu59e567bfe222f761@mail.gmail.com>

I suggest you post also at advantage news group of [x]harbour
That is very active
You can access via web using follow
http://www.nntp.hk/web/?server=devzone.advantagedatabase.com
and choice advantage.xharbour

<http://www.nntp.hk/web/?server=devzone.advantagedatabase.com>or if works
http://www.nntp.hk/web/head,devzone.advantagedatabase.com,Advantage.xHarbour.html


2009/10/28 Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>:
> Hi,
>
>
> in the beginning I was going to write a private email to Przemek and ask
> about CDX detail, but more deep test gave me an answer.
>
> The problem of the customers was that sometimes browse does not show
records
> (in scoped alias), but records for sure exist in database. We found that
> ORDKEYCOUNT() return zero but scope is not empty. The problem of ADS RDD
is
> that it does not check return values of ADS API functions in many places,
> for exmaple, in processing of DBOI_KEYCOUNT. Here AdsGetRecordCount()
return
> error 7022.
>
> Advantage Error Guide:
> ----------------------
> 7022 Maximum index levels
>
> Problem: The current index is unbalanced. This problem is most likely to
> occur when using very long index keys and new keys are being added to the
> index. This error could also occur if the index is corrupt.
>
> Solution: Reindex the file. The reindexed file will be built using the
> minimum number of levels. This will speed up all future operations using
the
> index. If this does not resolve the problem, reindex with a larger page
size
> (see Index Page Size, or see the API AdsReindex61 in the Advantage Client
> Engine Help or the method AdsIndexPageSize in the Advantage TDataSet
> Descendant Help). With a larger index page size, more keys will be stored
in
> each page and will thus reduce the number of levels required. For specific
> equations showing the correlation between key and page size, see Index Key
> Size and Page Size Relationships.
> ----------------------
>
> Unfortunately CDX page size is fixed 512 and can not be changed. I have a
> database table from our customers. It has 50342 records only and index key
> length is 133 bytes. I have a feeling this is a too small limits for real
> life a database. Documented maximum key length is 240 bytes.
>
> I had an idea that index tree level count can be limited by CDX structure,
> but after I've wrote a self contained test and compared ADSCDX and DBFCDX
> results, I understand it is a limit of ADS implementation. Both my real
life
> key length 133, and a maximum documented key length 240 was tested (see
test
> source below):
>  RDD: ADSCDX KeyLen:    240 LASTREC():   6058 ORDKEYCOUNT():     0
>  RDD: ADSCDX KeyLen:    133 LASTREC(): 250052 ORDKEYCOUNT():     0
> So, using a maximum documented key length (240 bytes) ADS can manage
tables
> having only(!) 6058 records. The same results are for both 8.1 and 9.1
> version of ADS.
>
> (512-some_header) / (240 + pointer_size) = 2 keys per page
> log(6058)/log(2+1)~= 7,927 ~= 8
>
> (512-some_header) / (133 + pointer_size) = 3 keys per page
> log(250052)/log(3+1)~= 8,966 ~= 9
>
> So, maximum index tree level in ADS is 8, or 9, or a little more, if index
> is unbalanced. Perhaps ADS uses a fixed length array to store pages in
index
> navigation operations. I've not tested yet, if DBSKIP() or DBSEEK() has
also
> the same limits, or it is a problem of ORDKEYCOUNT() only.
>
> I was unable to find a index level limit in Harbour's DBFCDX driver using
> the test.
>
>
> Regards,
> Mindaugas
>
>
> ---------------------------
> #include "ads.ch"
>
> EXTERNAL ADS, DBFCDX
> ANNOUNCE RDDSYS
>
> #define KEYLEN 240
>
> FUNC main()
>  ADSSetFileType(ADS_CDX)
>  ADSSetServerType(ADS_REMOTE_SERVER)
>  ? "Press ESC to cancel"
>  test("ADSCDX", "\\server\share\test176", KEYLEN)
>  test("DBFCDX", "test176", KEYLEN)
> RETURN 0
>
> PROC test(cRDD, cPath, nKeyLen)
> LOCAL nI, nJ
>  DBCREATE(cPath, {{"KEY", "C", nKeyLen, 0}}, cRDD, .T., "test")
>  ORDCREATE(cPath, "key", "KEY")
>  ? "Testing ", cRDD, "..."
>  FOR nI := 1 TO 1000
>     FOR nJ := 1 TO 1000
>       DBAPPEND()
>       FIELD->KEY := REPLICATE(HB_MD5(STR(nI) + STR(nJ)), 8)
>     NEXT
>     IF ORDKEYCOUNT() != LASTREC()
>       ? "RDD:", cRDD, "KeyLen:", nKeyLen, "LASTREC():", LASTREC(),
> "ORDKEYCOUNT():", ORDKEYCOUNT()
>       EXIT
>     ENDIF
>     ?? nI
>     IF INKEY() == 27
>       EXIT
>     ENDIF
>  NEXT
>  DBCLOSEAREA()
> RETURN
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091028/eefe14fb/attachment.html
From mbelgrano at deltain.it  Wed Oct 28 09:56:49 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Oct 28 09:57:22 2009
Subject: [Harbour] ADS limits
In-Reply-To: <609353e70910280608r1c4317fbu59e567bfe222f761@mail.gmail.com>
References: <4AE83C7A.1020802@dbtopas.lt>
	<609353e70910280608r1c4317fbu59e567bfe222f761@mail.gmail.com>
Message-ID: <609353e70910280656v73ffb43g422c5f064dd62c5a@mail.gmail.com>

To direct access follow is right link
http://www.nntp.hk/web/devzone.advantagedatabase.com,Advantage.xHarbour.html
<http://www.nntp.hk/web/devzone.advantagedatabase.com,Advantage.xHarbour.html>

2009/10/28 Massimo Belgrano <mbelgrano@deltain.it>

> I suggest you post also at advantage news group of [x]harbour
> That is very active
> You can access via web using follow
> http://www.nntp.hk/web/?server=devzone.advantagedatabase.com
> and choice advantage.xharbour
>
> <http://www.nntp.hk/web/?server=devzone.advantagedatabase.com>or if works
>
> http://www.nntp.hk/web/head,devzone.advantagedatabase.com,Advantage.xHarbour.html
>
>
> 2009/10/28 Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>:
>
> > Hi,
> >
> >
> > in the beginning I was going to write a private email to Przemek and ask
> > about CDX detail, but more deep test gave me an answer.
> >
> > The problem of the customers was that sometimes browse does not show
> records
> > (in scoped alias), but records for sure exist in database. We found that
> > ORDKEYCOUNT() return zero but scope is not empty. The problem of ADS RDD
> is
> > that it does not check return values of ADS API functions in many places,
> > for exmaple, in processing of DBOI_KEYCOUNT. Here AdsGetRecordCount()
> return
> > error 7022.
> >
> > Advantage Error Guide:
> > ----------------------
> > 7022 Maximum index levels
> >
> > Problem: The current index is unbalanced. This problem is most likely to
> > occur when using very long index keys and new keys are being added to the
> > index. This error could also occur if the index is corrupt.
> >
> > Solution: Reindex the file. The reindexed file will be built using the
> > minimum number of levels. This will speed up all future operations using
> the
> > index. If this does not resolve the problem, reindex with a larger page
> size
> > (see Index Page Size, or see the API AdsReindex61 in the Advantage Client
> > Engine Help or the method AdsIndexPageSize in the Advantage TDataSet
> > Descendant Help). With a larger index page size, more keys will be stored
> in
> > each page and will thus reduce the number of levels required. For
> specific
> > equations showing the correlation between key and page size, see Index
> Key
> > Size and Page Size Relationships.
> > ----------------------
> >
> > Unfortunately CDX page size is fixed 512 and can not be changed. I have a
> > database table from our customers. It has 50342 records only and index
> key
> > length is 133 bytes. I have a feeling this is a too small limits for real
> > life a database. Documented maximum key length is 240 bytes.
> >
> > I had an idea that index tree level count can be limited by CDX
> structure,
> > but after I've wrote a self contained test and compared ADSCDX and DBFCDX
> > results, I understand it is a limit of ADS implementation. Both my real
> life
> > key length 133, and a maximum documented key length 240 was tested (see
> test
> > source below):
> >  RDD: ADSCDX KeyLen:    240 LASTREC():   6058 ORDKEYCOUNT():     0
> >  RDD: ADSCDX KeyLen:    133 LASTREC(): 250052 ORDKEYCOUNT():     0
> > So, using a maximum documented key length (240 bytes) ADS can manage
> tables
> > having only(!) 6058 records. The same results are for both 8.1 and 9.1
> > version of ADS.
> >
> > (512-some_header) / (240 + pointer_size) = 2 keys per page
> > log(6058)/log(2+1)~= 7,927 ~= 8
> >
> > (512-some_header) / (133 + pointer_size) = 3 keys per page
> > log(250052)/log(3+1)~= 8,966 ~= 9
> >
> > So, maximum index tree level in ADS is 8, or 9, or a little more, if
> index
> > is unbalanced. Perhaps ADS uses a fixed length array to store pages in
> index
> > navigation operations. I've not tested yet, if DBSKIP() or DBSEEK() has
> also
> > the same limits, or it is a problem of ORDKEYCOUNT() only.
> >
> > I was unable to find a index level limit in Harbour's DBFCDX driver using
> > the test.
> >
> >
> > Regards,
> > Mindaugas
> >
> >
> > ---------------------------
> > #include "ads.ch"
> >
> > EXTERNAL ADS, DBFCDX
> > ANNOUNCE RDDSYS
> >
> > #define KEYLEN 240
> >
> > FUNC main()
> >  ADSSetFileType(ADS_CDX)
> >  ADSSetServerType(ADS_REMOTE_SERVER)
> >  ? "Press ESC to cancel"
> >  test("ADSCDX", "\\server\share\test176", KEYLEN)
> >  test("DBFCDX", "test176", KEYLEN)
> > RETURN 0
> >
> > PROC test(cRDD, cPath, nKeyLen)
> > LOCAL nI, nJ
> >  DBCREATE(cPath, {{"KEY", "C", nKeyLen, 0}}, cRDD, .T., "test")
> >  ORDCREATE(cPath, "key", "KEY")
> >  ? "Testing ", cRDD, "..."
> >  FOR nI := 1 TO 1000
> >     FOR nJ := 1 TO 1000
> >       DBAPPEND()
> >       FIELD->KEY := REPLICATE(HB_MD5(STR(nI) + STR(nJ)), 8)
> >     NEXT
> >     IF ORDKEYCOUNT() != LASTREC()
> >       ? "RDD:", cRDD, "KeyLen:", nKeyLen, "LASTREC():", LASTREC(),
> > "ORDKEYCOUNT():", ORDKEYCOUNT()
> >       EXIT
> >     ENDIF
> >     ?? nI
> >     IF INKEY() == 27
> >       EXIT
> >     ENDIF
> >  NEXT
> >  DBCLOSEAREA()
> > RETURN
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
>
>
>
> --
> Massimo Belgrano
>
>
>
>


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091028/bd61a30d/attachment-0001.html
From mbelgrano at deltain.it  Wed Oct 28 10:27:20 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Oct 28 10:27:47 2009
Subject: [Harbour] will harbour run on present and future os for small 
	device?
In-Reply-To: <609353e70910101001u1f48ab5eyb85d0c77f5df752@mail.gmail.com>
References: <609353e70907110049k3172b59fsf03f4b4359c0fc43@mail.gmail.com> 
	<BD3DC30F-CF33-4548-953B-C0C275C345DB@syenar.hu>
	<609353e70907200654j1f7a8489nf09a2514ea3eebb0@mail.gmail.com> 
	<916B96A9-739F-47C5-81FE-1E97DEF30352@syenar.hu>
	<609353e70910100939r4ed62743l447e752919d22ec3@mail.gmail.com> 
	<F1310799-C08D-4C98-935D-7C8B5A73D424@syenar.hu>
	<609353e70910101001u1f48ab5eyb85d0c77f5df752@mail.gmail.com>
Message-ID: <609353e70910280727s237b4060s40cf9270cf2aa078@mail.gmail.com>

seem?that Android is more good for native c application: Developer
Nathan Freitas has announced that?the native?C Tor application has
been successfully ported to Android, including an application that
"installs, runs and provides the glue needed to make it useful to end
users
2.0 sdk released http://developer.android.com/sdk/index.html
android ndk (1.6 jet) group http://groups.google.com/group/android-ndk

Hi hope in harbour convergence in future


--
Massimo Belgrano
From toninhofwi at yahoo.com.br  Wed Oct 28 11:51:49 2009
From: toninhofwi at yahoo.com.br (ToninhoFWi)
Date: Wed Oct 28 11:51:54 2009
Subject: [Harbour] ADS limits
In-Reply-To: <4AE83C7A.1020802@dbtopas.lt>
References: <4AE83C7A.1020802@dbtopas.lt>
Message-ID: <oqpge5h7tuhnbup80u95mq1dljomb5u77m@4ax.com>

Hi Mindaugas,

I had this problem in the past and I change ads1.c to trap it:

2008-09-22 16:19 UTC-0300 Antonio Carlos Pantaglione
<toninho@fwi.com.br>
  * harbour/contrib/rddads/ads1.c
    * using AdsCreateIndex61 when ADS_LIB_VERSION >= 610. This
functions use ADS_DEFAULT as index page size parameter and force
Advantage to compute a page size based on the key size to provide
optimal balancing.

Maybe I don't understand your problem or it is another problem than
mine, but using ADS 9.1 I never more have this problem. Try to change
ADS_DEFAULT from adsOrderCreate() in ads1.c to 1024 or more and see if
solve the problem.

Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From dbtopas at dbtopas.lt  Wed Oct 28 12:51:02 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Oct 28 12:50:58 2009
Subject: [Harbour] ADS limits
In-Reply-To: <oqpge5h7tuhnbup80u95mq1dljomb5u77m@4ax.com>
References: <4AE83C7A.1020802@dbtopas.lt>
	<oqpge5h7tuhnbup80u95mq1dljomb5u77m@4ax.com>
Message-ID: <4AE87676.3090802@dbtopas.lt>

Hi,


ToninhoFWi wrote:
> I had this problem in the past and I change ads1.c to trap it:
> 
> 2008-09-22 16:19 UTC-0300 Antonio Carlos Pantaglione
> <toninho@fwi.com.br>
>   * harbour/contrib/rddads/ads1.c
>     * using AdsCreateIndex61 when ADS_LIB_VERSION >= 610. This
> functions use ADS_DEFAULT as index page size parameter and force
> Advantage to compute a page size based on the key size to provide
> optimal balancing.
> 
> Maybe I don't understand your problem or it is another problem than
> mine, but using ADS 9.1 I never more have this problem. Try to change
> ADS_DEFAULT from adsOrderCreate() in ads1.c to 1024 or more and see if
> solve the problem.

Perhaps you use .adt/.adi tables/indices. CDX index page size is fixed 
to 512, and ADS docs says page size parameter is ignored for CDX. I use 
7.1 version, so, AdsCreateIndex61() is for sure used, but it does not help.


Regards,
Mindaugas
From druzus at acn.waw.pl  Wed Oct 28 14:34:59 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Oct 28 14:35:07 2009
Subject: [Harbour] ADS limits
In-Reply-To: <4AE83C7A.1020802@dbtopas.lt>
References: <4AE83C7A.1020802@dbtopas.lt>
Message-ID: <20091028183459.GA1643@34-mo7-2.home.aster.pl>

On Wed, 28 Oct 2009, Mindaugas Kavaliauskas wrote:

Hi,

> in the beginning I was going to write a private email to Przemek and
> ask about CDX detail, but more deep test gave me an answer.
> The problem of the customers was that sometimes browse does not show
> records (in scoped alias), but records for sure exist in database.
> We found that ORDKEYCOUNT() return zero but scope is not empty. The
> problem of ADS RDD is that it does not check return values of ADS
> API functions in many places, for exmaple, in processing of
> DBOI_KEYCOUNT.

Yes and as usually I always suggest to check error code and report them
if any as RT errors to catch problems as soon as possible and inform
user about them.

> Here AdsGetRecordCount() return error 7022.
> Advantage Error Guide:
> ----------------------
> 7022 Maximum index levels
> Problem: The current index is unbalanced. This problem is most
> likely to occur when using very long index keys and new keys are
> being added to the index. This error could also occur if the index
> is corrupt.

It may happen in CDX format when index key size is greater then
( 512 - 12 ) / 3 - 8 = 158. In such case maximum number of keys
in interior node is 2. It means that algorithms which do not
actively balance keys in pages during updates may store only
one key per page. Because in CDX format keys in interior nodes
are not real keys but only dummy key value then such key value
have to be repeated on each next level. In theory some algorithms
may end with infinite path from root to leaf page.
Well designed algorithm should not have such problems. CDX format
have bindings between pages on the same level so it's quite easy
to implement inter page key balancing and I implemented it in
Harbour. It causes that in Harbour for each three pages on the same
level only one may have 1 key and two others will have 2 keys so
for sure it has finite path from root node to key in the leaf.

> Solution: Reindex the file. The reindexed file will be built using
> the minimum number of levels. This will speed up all future
> operations using the index. If this does not resolve the problem,
> reindex with a larger page size (see Index Page Size, or see the API
> AdsReindex61 in the Advantage Client Engine Help or the method
> AdsIndexPageSize in the Advantage TDataSet Descendant Help). With a
> larger index page size, more keys will be stored in each page and
> will thus reduce the number of levels required. For specific
> equations showing the correlation between key and page size, see
> Index Key Size and Page Size Relationships.
> ----------------------

If you increase page size then more keys can be stored in single
node so even more primitive algorithms should not have problems
with degenerated tree though usually they will create indexes
noticeable bigger then optimal just after reindexation. If you
check size of CDX indexes updated record by record by Harbour
and other CDX drivers then you should find that indexes created
by Harbour are much smaller. Very often the size is comparable
to indexes created with [re]index command. It happens because
Harbour strongly balance keys in index pages during update with
some additional cost in write operation.

> Unfortunately CDX page size is fixed 512 and can not be changed. I
> have a database table from our customers. It has 50342 records only
> and index key length is 133 bytes. I have a feeling this is a too
> small limits for real life a database. Documented maximum key length
> is 240 bytes.

For such key length you can store 3 index keys in any index node.
If you can exploit this problem using such key then it means that
the CDX driver you are using does not have even basic key balance
for two neighbour pages because in such case it should keep 2 as
minimum keys for interior node so the maximum path from root node
to leaf for 2^32 records is 32.

> I had an idea that index tree level count can be limited by CDX
> structure, but after I've wrote a self contained test and compared
> ADSCDX and DBFCDX results, I understand it is a limit of ADS
> implementation. Both my real life key length 133, and a maximum
> documented key length 240 was tested (see test source below):
>   RDD: ADSCDX KeyLen:    240 LASTREC():   6058 ORDKEYCOUNT():     0
>   RDD: ADSCDX KeyLen:    133 LASTREC(): 250052 ORDKEYCOUNT():     0
> So, using a maximum documented key length (240 bytes) ADS can manage
> tables having only(!) 6058 records. The same results are for both
> 8.1 and 9.1 version of ADS.

So it's not good CDX implementation and probably the same code
is in all ADS clients.

> (512-some_header) / (240 + pointer_size) = 2 keys per page
> log(6058)/log(2+1)~= 7,927 ~= 8
> (512-some_header) / (133 + pointer_size) = 3 keys per page
> log(250052)/log(3+1)~= 8,966 ~= 9
> So, maximum index tree level in ADS is 8, or 9, or a little more, if
> index is unbalanced. Perhaps ADS uses a fixed length array to store
> pages in index navigation operations. I've not tested yet, if
> DBSKIP() or DBSEEK() has also the same limits, or it is a problem of
> ORDKEYCOUNT() only.

Such test does not give you precise answer about maximum tree depth
because the after updating record by record the index tree is not
optimal. Depending on key values and their order in updating the
difference is bigger or smaller. If you want to check maximum tree
depth then you should create table and then use INDEX ON command to
create optimal index. Anyhow if ADS have maximum depth size set to
32 then you will not be able to exploit the problem using DBFs which
may have upto 2^32 records.
But your test shows how efficient is page balancing during index updates
and here some trivial algorithms which do not balance keys between pages
keeping some minimal number of keys can be exploited.

> I was unable to find a index level limit in Harbour's DBFCDX driver
> using the test.

Because it's not possible to exploit this problem in Harbour CDX
implementation.
If you are using ADS then you can try to use ADI indexes. Looking at
.ADI files with binary editor they seem to be slightly modified CDX
format. They allow to use different page set in header size and instead
of using page offsets in bytes they use page offsets as page number what
increase maximum index size from 2^32 to 2^32 * page_size. Exactly the
same trick I'm using in Harbour NTX and NSX RDDs if user set large file
support what increase maximum size for this indexes to 2^32 * 2^10 =
2^42 = 4TB.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Oct 28 15:19:40 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Oct 28 15:19:50 2009
Subject: [Harbour] Portable win .dll support
In-Reply-To: <E1N2hUh-0006ZV-9Q@d5vjzd1.ch3.sourceforge.com>
References: <E1N2hUh-0006ZV-9Q@d5vjzd1.ch3.sourceforge.com>
Message-ID: <47E3B6DB-9AF1-4CA7-8C45-E37B8ACF9775@syenar.hu>

>  * contrib/hbwin/win_dll.c
>    % Deleted cDLL structure member.
>    - Deleted __XHARBOUR__ guarded parts (related to C structure  
> handling,
>      probably never tested, plus it didn't look something mature  
> anyway)
>
>   ; TOFIX: win64 .dll support, strangely testdll gives slightly
>            different results for BCC and MSVC builds (and MINGW
>            builds where it GPFs), also UNICODE isn't supported at all.
>            So I guess Harbour .dll handling would better be rewritten.

Any takers for that?

[ I personally don't use .dlls, but it would so much
more elegant to provide this functionality properly and
across all win versions. Not to mention even win32 isn't
perfect. ]

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Oct 28 18:38:26 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Oct 28 18:38:36 2009
Subject: [Harbour] ADS limits
In-Reply-To: <20091028183459.GA1643@34-mo7-2.home.aster.pl>
References: <4AE83C7A.1020802@dbtopas.lt>
	<20091028183459.GA1643@34-mo7-2.home.aster.pl>
Message-ID: <954673FC-F595-4970-900D-5F91CFD8577D@syenar.hu>

Hi Przemek,

>> I was unable to find a index level limit in Harbour's DBFCDX driver
>> using the test.
>
> Because it's not possible to exploit this problem in Harbour CDX
> implementation.
> If you are using ADS then you can try to use ADI indexes. Looking at
> .ADI files with binary editor they seem to be slightly modified CDX
> format. They allow to use different page set in header size and  
> instead
> of using page offsets in bytes they use page offsets as page number  
> what
> increase maximum index size from 2^32 to 2^32 * page_size. Exactly the
> same trick I'm using in Harbour NTX and NSX RDDs if user set large  
> file
> support what increase maximum size for this indexes to 2^32 * 2^10 =
> 2^42 = 4TB.

If we're at it, can you give a short comparison between
NSX and CDX in Harbour? I can't recall such thing in the
past, but could be I just missed it.

All I know is that NSX stores keys in "compressed" format,
so the size (and traffic volume) is lower.

BTW, I migrated from NSX to CDX a few years ago, because
CDX had less bugs than NSX in Clipper (Six), plus Harbour
only knew CDX at the time. Maybe now it's time to move back.

Brgds,
Viktor

From itamarlins at gmail.com  Wed Oct 28 19:41:07 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Wed Oct 28 19:41:37 2009
Subject: [Harbour] hbmk2
Message-ID: <hcakqe$2f6$1@ger.gmane.org>

Hi!
Mr Viktor Szak?ts.

hbmk2 don't check if lib is more recent and not link again with new lib.
In my project my files is:
------->8------
-inc
-lhwgui.lib
-lhwg_qhtm.lib
-lprocmisc.lib
-lhbxml.lib
-gui
-run
------8<-------
while my file hwgui.lib is recompiled if I call:
c:>\project\hbmk2 sciwin.hbm
It don't relink the new lib. :(

Best regards,
Itamar M. Lins Jr.

From harbour.01 at syenar.hu  Wed Oct 28 20:20:21 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct 28 20:20:31 2009
Subject: [Harbour] hbmk2
In-Reply-To: <hcakqe$2f6$1@ger.gmane.org>
References: <hcakqe$2f6$1@ger.gmane.org>
Message-ID: <83DB5070-16F0-40F7-A694-B7262DEFB2D9@syenar.hu>

Hi,

> hbmk2 don't check if lib is more recent and not link again with new  
> lib.
> In my project my files is:
> ------->8------
> -inc
> -lhwgui.lib
> -lhwg_qhtm.lib
> -lprocmisc.lib
> -lhbxml.lib
> -gui
> -run
> ------8<-------
> while my file hwgui.lib is recompiled if I call:
> c:>\project\hbmk2 sciwin.hbm
> It don't relink the new lib. :(

Try dropping .lib extension from -l options.
They are unnecessary and may break the process
depending on the compiler you use.

[ See hbmk2 --help about that at -l option description. ]

If this doesn't help, please post your output
after adding -debuginc option.

Furthermore, which compiler/platform did you test this on?

Brgds,
Viktor

From itamarlins at gmail.com  Wed Oct 28 20:50:08 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Wed Oct 28 20:50:35 2009
Subject: [Harbour] Re: hbmk2
In-Reply-To: <83DB5070-16F0-40F7-A694-B7262DEFB2D9@syenar.hu>
References: <hcakqe$2f6$1@ger.gmane.org>
	<83DB5070-16F0-40F7-A694-B7262DEFB2D9@syenar.hu>
Message-ID: <hcaorr$cfc$1@ger.gmane.org>

Viktor Szak?ts escreveu:
> Hi,
> 
>> hbmk2 don't check if lib is more recent and not link again with new lib.
>> In my project my files is:
>> ------->8------
>> -inc
>> -lhwgui.lib
>> -lhwg_qhtm.lib
>> -lprocmisc.lib
>> -lhbxml.lib
>> -gui
>> -run
>> ------8<-------
>> while my file hwgui.lib is recompiled if I call:
>> c:>\project\hbmk2 sciwin.hbm
>> It don't relink the new lib. :(
> 
> Try dropping .lib extension from -l options.
> They are unnecessary and may break the process
> depending on the compiler you use.
> 
> [ See hbmk2 --help about that at -l option description. ]
> 
> If this doesn't help, please post your output
> after adding -debuginc option.
> 
> Furthermore, which compiler/platform did you test this on?
> 
> Brgds,
> Viktor
> 
Hi,
MSVC 2008 is my compiler. Windows XP is my OS.
And I remove .lib extension of file .hbm.
And flag -debuginc makes no reference to the file hwgui.lib

Best regards,
Itamar M.Lins Jr.

From harbour.01 at syenar.hu  Wed Oct 28 21:07:53 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Oct 28 21:08:01 2009
Subject: [Harbour] Re: hbmk2
In-Reply-To: <hcaorr$cfc$1@ger.gmane.org>
References: <hcakqe$2f6$1@ger.gmane.org>
	<83DB5070-16F0-40F7-A694-B7262DEFB2D9@syenar.hu>
	<hcaorr$cfc$1@ger.gmane.org>
Message-ID: <0A1BF8C0-1777-4DF6-9071-FAAA0FE1A66B@syenar.hu>

>>> while my file hwgui.lib is recompiled if I call:
>>> c:>\project\hbmk2 sciwin.hbm
>>> It don't relink the new lib. :(
>> Try dropping .lib extension from -l options.
>> They are unnecessary and may break the process
>> depending on the compiler you use.
>> [ See hbmk2 --help about that at -l option description. ]
>> If this doesn't help, please post your output
>> after adding -debuginc option.
>> Furthermore, which compiler/platform did you test this on?
>> Brgds,
>> Viktor
> Hi,
> MSVC 2008 is my compiler. Windows XP is my OS.
> And I remove .lib extension of file .hbm.
> And flag -debuginc makes no reference to the file hwgui.lib

There should be extra debug lines, which I was asking
you to post here.

I've found a few problems with some *nix platforms,
but MSVC 2008 works alright in my local tests.

It's possible you're using some non-hbmk2 ways to pass
lib dirs to MSVC linker (f.e. LIB or LIBPATH envvar),
and in this case hbmk2 has no way to find your libs for
dependency detection. If this is the case I suggest
to use -L option to pass lib dirs.

-debuginc output can give some clues.

Brgds,
Viktor

From jerryfinuliar at operamail.com  Wed Oct 28 21:20:05 2009
From: jerryfinuliar at operamail.com (Jerry Finuliar)
Date: Wed Oct 28 21:20:14 2009
Subject: [Harbour] Search Mailing List?
Message-ID: <20091029012005.CE4B1448C8@ws5-1.us4.outblaze.com>

Hi,

Is there a way to search through the mailing list archives? (of course except from downloading it)

Sorry for asking this silly question.

Thanks,
Jerry 



-- 
_______________________________________________
Surf the Web in a faster, safer and easier way:
Download Opera 9 at http://www.opera.com

Powered by Outblaze
From vouchcac at users.sourceforge.net  Wed Oct 28 22:16:22 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Oct 28 22:16:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12781] trunk/harbour
Message-ID: <E1N3KYo-0001Zz-V3@dn4whf1.ch3.sourceforge.com>

Revision: 12781
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12781&view=rev
Author:   vouchcac
Date:     2009-10-29 02:16:21 +0000 (Thu, 29 Oct 2009)

Log Message:
-----------
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/hbqt_slots.h

  * contrib/hbqt/qth/QAbstractItemModel.qth
  * contrib/hbqt/qtcore/QAbstractItemModel.cpp
  * contrib/hbqt/qtcore/TQAbstractItemModel.prg

  * contrib/hbxbp/xbpbrowse.prg
  * contrib/hbxbp/xbpdialog.prg
  * contrib/hbxbp/xbpgeneric.prg
  * contrib/hbxbp/xbphtmlviewer.prg
  * contrib/hbxbp/xbpparthandler.prg
  * contrib/hbxbp/xbpprintdialog.prg
  * contrib/hbxbp/xbpstatusbar.prg
  * contrib/hbxbp/xbptabpage.prg
  * contrib/hbxbp/xbptreeview.prg
  * contrib/hbxbp/xbpwindow.prg

  * contrib/hbxbp/tests/demoxbp.prg
    % Fixes TO release memory properly.
    ! Only a small part is remaining FOR optimization and complete memory recovery.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.h
    trunk/harbour/contrib/hbqt/qtcore/QAbstractItemModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractItemModel.prg
    trunk/harbour/contrib/hbqt/qth/QAbstractItemModel.qth
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbpdialog.prg
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
    trunk/harbour/contrib/hbxbp/xbphtmlviewer.prg
    trunk/harbour/contrib/hbxbp/xbpparthandler.prg
    trunk/harbour/contrib/hbxbp/xbpprintdialog.prg
    trunk/harbour/contrib/hbxbp/xbpstatusbar.prg
    trunk/harbour/contrib/hbxbp/xbptabpage.prg
    trunk/harbour/contrib/hbxbp/xbptreeview.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Oct 29 03:38:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Oct 29 03:38:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12782] trunk/harbour
Message-ID: <E1N3Pa4-00053D-Li@c3vjzd1.ch3.sourceforge.com>

Revision: 12782
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12782&view=rev
Author:   vszakats
Date:     2009-10-29 07:37:56 +0000 (Thu, 29 Oct 2009)

Log Message:
-----------
2009-10-29 08:36 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixes to lib dependency detection code.
      It should now work on darwin/bsd/hpux/beos gcc/clang/sunpro 
      platforms/compilers but obviously I didn't test them all
      (only darwin/clang).
      There was one typo hitting generic branch of lib detection 
      plus lib prefix was not taken into account at all there.
      Probably on some platforms it would be better to implement 
      target specific lib searching algorithm to mimic actual 
      linker behaviour. Currently, differences are to be expected.
    - Deleted gccomf from a win/wce only branch in LibExists().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Oct 29 03:47:40 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Oct 29 03:47:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12783]
	trunk/harbour/utils/hbmk2/hbmk2.prg
Message-ID: <E1N3PjQ-0005Ct-2E@c3vjzd1.ch3.sourceforge.com>

Revision: 12783
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12783&view=rev
Author:   vszakats
Date:     2009-10-29 07:47:39 +0000 (Thu, 29 Oct 2009)

Log Message:
-----------
(deleted accidental debug line)

Modified Paths:
--------------
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Oct 29 04:25:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Oct 29 04:25:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
Message-ID: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>

Revision: 12784
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12784&view=rev
Author:   vszakats
Date:     2009-10-29 08:25:52 +0000 (Thu, 29 Oct 2009)

Log Message:
-----------
2009-10-29 09:25 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Added link to QT build instructions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Thu Oct 29 04:30:04 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Oct 29 04:30:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>
Message-ID: <609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>

Imo most information in install.doc are also good in readme.txt

2009/10/29  <vszakats@users.sourceforge.net>:
> Revision: 12784
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12784&view=rev
> Author: ? vszakats
> Date: ? ? 2009-10-29 08:25:52 +0000 (Thu, 29 Oct 2009)
>
> Log Message:
> -----------
> 2009-10-29 09:25 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
> ?* INSTALL
> ? ?+ Added link to QT build instructions.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/INSTALL
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Thu Oct 29 04:38:14 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct 29 04:38:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>
	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>
Message-ID: <A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>

> Imo most information in install.doc are also good in readme.txt

Majority of content in this file used to be stored
in file named 'INSTALL' in other projects. IMO readme.txt
just gets ignored, plus I wouldn't want to update
everything in two copies, plus it simpler to point everyone
to ONE file instead of scattering related information into
two. So I prefer to keep one file.

Missing .txt extension is disturbing though, and I can just
wonder why this became the de facto standard name for
these files. I personally never use obscure or no extension
with files meant for user consumption.

Such renaming in Harbour would look like this:

ChangeLog -> CHANGES.txt
COPYING -> COPYING.txt
INSTALL -> INSTALL.txt
TODO -> TODO.txt

If there are no objections, I can do it.

Brgds,
Viktor

From elart at elart.it  Thu Oct 29 05:48:00 2009
From: elart at elart.it (elart)
Date: Thu Oct 29 05:48:07 2009
Subject: [Harbour] Re:SF.net SVN: harbour-project:[12784] trunk/harbour
Message-ID: <zs3YudU0.1256809680.0237790.marcobra@82.105.36.210>


Today compiling from svn...  (Rev. 12784) on Ubuntu 9.10 32 bits i get
this error

gcc  -I. -I../../../../../include  -Wall -W -O3  -I/usr/include/qt4
-I/usr/include/qt4/Qt -I/usr/include/qt4/QtCore -I/usr/include/qt4/QtGui
-I/usr/include/qt4/QtNetwork -I/usr/include/qt4/QtWebKit  -ohbqt_slots.o
-c ../../../hbqt_slots.cpp
../../../hbqt_slots.cpp: In destructor ?virtual
HbDbfModel::~HbDbfModel()?:
../../../hbqt_slots.cpp:2020: error: ?str? was not declared in this scope
../../../hbqt_slots.cpp:2020: error: ?OutputDebugString? was not declared
in this scope
../../../hbqt_slots.cpp: In member function ?void HbDbfModel::destroy()?:
../../../hbqt_slots.cpp:2203: error: ?str? was not declared in this scope
../../../hbqt_slots.cpp:2203: error: ?OutputDebugString? was not declared
in this scope
make[3]: *** [hbqt_slots.o] Errore 1
make[2]: *** [descend] Errore 2
make[1]: *** [hbqt] Errore 2
make: *** [contrib] Errore 2

Best regards
From guy.roussin at teledetection.fr  Thu Oct 29 06:18:33 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Thu Oct 29 06:18:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>
	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>
Message-ID: <4AE96BF9.8070104@teledetection.fr>

Hi Viktor,

missing .txt only disturb windows users because notepad add .txt
to each files ;-)

+1 to conserv the current naming.

Regards

Guy

Viktor Szak?ts a ?crit :
>> Imo most information in install.doc are also good in readme.txt
>
> Majority of content in this file used to be stored
> in file named 'INSTALL' in other projects. IMO readme.txt
> just gets ignored, plus I wouldn't want to update
> everything in two copies, plus it simpler to point everyone
> to ONE file instead of scattering related information into
> two. So I prefer to keep one file.
>
> Missing .txt extension is disturbing though, and I can just
> wonder why this became the de facto standard name for
> these files. I personally never use obscure or no extension
> with files meant for user consumption.
>
> Such renaming in Harbour would look like this:
>
> ChangeLog -> CHANGES.txt
> COPYING -> COPYING.txt
> INSTALL -> INSTALL.txt
> TODO -> TODO.txt
>
> If there are no objections, I can do it.
>
> Brgds,
> Viktor
>

From sscc at mweb.co.za  Thu Oct 29 06:31:50 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Oct 29 06:31:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <4AE96BF9.8070104@teledetection.fr>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>
	<4AE96BF9.8070104@teledetection.fr>
Message-ID: <4AE96F16.1090908@mweb.co.za>

Guy Roussin wrote:

> missing .txt only disturb windows users because notepad add .txt
> to each files ;-)

Microsoft claims a billion Windows users, maybe we shouldn't disturb them.

I promise, I practically started programming on an AT&T Unix box (that was after 
the Sperry Univac - geez).

Regards
Alex

From harbour.01 at syenar.hu  Thu Oct 29 06:39:58 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct 29 06:40:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <4AE96BF9.8070104@teledetection.fr>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>
	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>
	<4AE96BF9.8070104@teledetection.fr>
Message-ID: <E18D41CC-884B-4FC8-B8F9-19BEE22C4B56@syenar.hu>

Hi Guy,

> Hi Viktor,
>
> missing .txt only disturb windows users because notepad add .txt
> to each files ;-)

AFAIK .txt isn't a Windows file format, it's just happens
to be the name of plain text files, which are present on
every operating system.

Missing .txt not only disturbs Windows, because for example
on OS X or even Linux I cannot simply click on these files
and expect my default text viewer/editor to open it. Instead,
I have to choose a tool from a list, or in slightly better
case, it's considered text, but there is no way to associate
it with my favorite text viewer/editor. Also notice that
tool list includes almost all applications I have installed,
since OS X considers it generic "Document", so all apps get
listed.

Far from convenient. I'd still be interested what is the
notion behind leaving out standard (or quasi-standard)
extensions from filenames. And even more so, what is the
benefit? And what is lost by adding humble .txt extension?
what is recognized in pbly all existing systems.

Besides, true what Alex says, many (most?) Harbour users
are Windows users, so such convenience could probably help
all of them (while not hurting anyone else). Clicking on
INSTALL.txt is probably simpler and faster than clicking
'open with', and browse for Notepad from a list. Also, user
can't be sure if this is a text file by looking at its name.

[ BTW, since I use Far Manager (yet) for me it's not an
everyday problem, but as I'm switching to other systems
it starts to become one. ]

Brgds,
Viktor

From maurilio.longo at libero.it  Thu Oct 29 06:49:59 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Oct 29 06:50:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <E18D41CC-884B-4FC8-B8F9-19BEE22C4B56@syenar.hu>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>	<4AE96BF9.8070104@teledetection.fr>
	<E18D41CC-884B-4FC8-B8F9-19BEE22C4B56@syenar.hu>
Message-ID: <4AE97357.4010901@libero.it>

Viktor,

what about leaving current name and only adding a .txt extension to them?

Maurilio.


Viktor Szak?ts wrote:
> Hi Guy,
> 
>> Hi Viktor,
>>
>> missing .txt only disturb windows users because notepad add .txt
>> to each files ;-)
> 
> AFAIK .txt isn't a Windows file format, it's just happens
> to be the name of plain text files, which are present on
> every operating system.
> 
> Missing .txt not only disturbs Windows, because for example
> on OS X or even Linux I cannot simply click on these files
> and expect my default text viewer/editor to open it. Instead,
> I have to choose a tool from a list, or in slightly better
> case, it's considered text, but there is no way to associate
> it with my favorite text viewer/editor. Also notice that
> tool list includes almost all applications I have installed,
> since OS X considers it generic "Document", so all apps get
> listed.
> 
> Far from convenient. I'd still be interested what is the
> notion behind leaving out standard (or quasi-standard)
> extensions from filenames. And even more so, what is the
> benefit? And what is lost by adding humble .txt extension?
> what is recognized in pbly all existing systems.
> 
> Besides, true what Alex says, many (most?) Harbour users
> are Windows users, so such convenience could probably help
> all of them (while not hurting anyone else). Clicking on
> INSTALL.txt is probably simpler and faster than clicking
> 'open with', and browse for Notepad from a list. Also, user
> can't be sure if this is a text file by looking at its name.
> 
> [ BTW, since I use Far Manager (yet) for me it's not an
> everyday problem, but as I'm switching to other systems
> it starts to become one. ]
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Thu Oct 29 07:01:19 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct 29 07:01:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <4AE97357.4010901@libero.it>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>	<4AE96BF9.8070104@teledetection.fr>
	<E18D41CC-884B-4FC8-B8F9-19BEE22C4B56@syenar.hu>
	<4AE97357.4010901@libero.it>
Message-ID: <6DA49F7B-2558-4156-9E9B-271B069ED452@syenar.hu>

Hi Maurilio,

> what about leaving current name and only adding a .txt extension to  
> them?

Yes, that was my original proposition.

ChangeLog -> CHANGES.txt
COPYING -> COPYING.txt
INSTALL -> INSTALL.txt
TODO -> TODO.txt

By using above names I think we keep the familiar uppercase
look and naming, so it will not be a problem for anyone to
recognize them.

Except for ChangeLog, but with it there is another pending issue
which I mixed into above renaming plan, namely that it's not 8.3,
so it causes a permanent struggle with MS-DOS builds.

I don't like it too much, because for some reason ChangeLog is
the de facto name of such files, but I also don't like the
various hacks this implies and they tend to pop up each time
when you least expect it. We've lost a lot of precious time
because of it.

Brgds,
Viktor

From mbelgrano at deltain.it  Thu Oct 29 07:15:17 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Oct 29 07:15:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <6DA49F7B-2558-4156-9E9B-271B069ED452@syenar.hu>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com> 
	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com> 
	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>
	<4AE96BF9.8070104@teledetection.fr> 
	<E18D41CC-884B-4FC8-B8F9-19BEE22C4B56@syenar.hu>
	<4AE97357.4010901@libero.it> 
	<6DA49F7B-2558-4156-9E9B-271B069ED452@syenar.hu>
Message-ID: <609353e70910290415i3b17a526rf6db829378752e09@mail.gmail.com>

2009/10/29 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Maurilio,
>
>> what about leaving current name and only adding a .txt extension to them?
>
> Yes, that was my original proposition.
>
> ChangeLog -> CHANGES.txt
> COPYING -> COPYING.txt
> INSTALL -> INSTALL.txt
> TODO -> TODO.txt
>

+1 for your proposal

IMO maj be usefull in future a unique harbour.pdf with content of all txt?

-- 
Massimo Belgrano
From maurilio.longo at libero.it  Thu Oct 29 07:20:33 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Oct 29 07:20:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <6DA49F7B-2558-4156-9E9B-271B069ED452@syenar.hu>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>	<4AE96BF9.8070104@teledetection.fr>	<E18D41CC-884B-4FC8-B8F9-19BEE22C4B56@syenar.hu>	<4AE97357.4010901@libero.it>
	<6DA49F7B-2558-4156-9E9B-271B069ED452@syenar.hu>
Message-ID: <4AE97A81.5030509@libero.it>

Viktor,

I'm against CHANGES.txt :)

Maurilio.


Viktor Szak?ts wrote:
> Hi Maurilio,
> 
>> what about leaving current name and only adding a .txt extension to them?
> 
> Yes, that was my original proposition.
> 
> ChangeLog -> CHANGES.txt
> COPYING -> COPYING.txt
> INSTALL -> INSTALL.txt
> TODO -> TODO.txt
> 
> By using above names I think we keep the familiar uppercase
> look and naming, so it will not be a problem for anyone to
> recognize them.
> 
> Except for ChangeLog, but with it there is another pending issue
> which I mixed into above renaming plan, namely that it's not 8.3,
> so it causes a permanent struggle with MS-DOS builds.
> 
> I don't like it too much, because for some reason ChangeLog is
> the de facto name of such files, but I also don't like the
> various hacks this implies and they tend to pop up each time
> when you least expect it. We've lost a lot of precious time
> because of it.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Thu Oct 29 07:22:32 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct 29 07:22:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <609353e70910290415i3b17a526rf6db829378752e09@mail.gmail.com>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>
	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>
	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>
	<4AE96BF9.8070104@teledetection.fr>
	<E18D41CC-884B-4FC8-B8F9-19BEE22C4B56@syenar.hu>
	<4AE97357.4010901@libero.it>
	<6DA49F7B-2558-4156-9E9B-271B069ED452@syenar.hu>
	<609353e70910290415i3b17a526rf6db829378752e09@mail.gmail.com>
Message-ID: <8C1D0152-8D39-4680-A6E6-AECA78EAF6C4@syenar.hu>

>>> what about leaving current name and only adding a .txt extension  
>>> to them?
>>
>> Yes, that was my original proposition.
>>
>> ChangeLog -> CHANGES.txt
>> COPYING -> COPYING.txt
>> INSTALL -> INSTALL.txt
>> TODO -> TODO.txt
>>
>
> +1 for your proposal
>
> IMO maj be usefull in future a unique harbour.pdf with content of  
> all txt?

.pdf needs external tools on some systems (Windows f.e.),
plus someone will have to generate it after each modification,
so it needs big amount of effort with small benefit. Not to
mention that .pdf file converted from plain text would not
be able to give anything more in formatting or added value.

Contributors can do this conversion and provide a .pdf
(or whatever else format) though.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Oct 29 07:25:06 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct 29 07:25:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <4AE97A81.5030509@libero.it>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>	<4AE96BF9.8070104@teledetection.fr>	<E18D41CC-884B-4FC8-B8F9-19BEE22C4B56@syenar.hu>	<4AE97357.4010901@libero.it>
	<6DA49F7B-2558-4156-9E9B-271B069ED452@syenar.hu>
	<4AE97A81.5030509@libero.it>
Message-ID: <FAB7D219-18A3-44F7-98A6-DD8291A8B8BA@syenar.hu>

> I'm against CHANGES.txt :)

So, should it be ChangeLog.txt?

I'd say we should either make a move or not make
move, but making part of the move doesn't seem to
make much sense, since the end result will become
even more inconsistent.

Anyhow, I noted your vote :)

Brgds,
Viktor

From niki at synel.co.il  Thu Oct 29 07:25:19 2009
From: niki at synel.co.il (Chen Kedem)
Date: Thu Oct 29 07:25:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EBA@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

> ChangeLog -> CHANGES.txt
> INSTALL -> INSTALL.txt
> TODO -> TODO.txt

Ok with me.

> COPYING -> COPYING.txt

I think the "COPYING" file is part of standard GPL,
and also appear as such in every header in our files,
I vote to leave it as is.


  Chen.
From sscc at mweb.co.za  Thu Oct 29 07:26:20 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Oct 29 07:26:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <4AE97A81.5030509@libero.it>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>	<4AE96BF9.8070104@teledetection.fr>	<E18D41CC-884B-4FC8-B8F9-19BEE22C4B56@syenar.hu>	<4AE97357.4010901@libero.it>	<6DA49F7B-2558-4156-9E9B-271B069ED452@syenar.hu>
	<4AE97A81.5030509@libero.it>
Message-ID: <4AE97BDC.3060103@mweb.co.za>

Maurilio Longo wrote:

> I'm against CHANGES.txt :)

CHGLOG.txt ?

Regards
Alex

From maurilio.longo at libero.it  Thu Oct 29 07:28:33 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Oct 29 07:28:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <FAB7D219-18A3-44F7-98A6-DD8291A8B8BA@syenar.hu>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>	<4AE96BF9.8070104@teledetection.fr>	<E18D41CC-884B-4FC8-B8F9-19BEE22C4B56@syenar.hu>	<4AE97357.4010901@libero.it>	<6DA49F7B-2558-4156-9E9B-271B069ED452@syenar.hu>	<4AE97A81.5030509@libero.it>
	<FAB7D219-18A3-44F7-98A6-DD8291A8B8BA@syenar.hu>
Message-ID: <4AE97C61.5040606@libero.it>

Viktor Szak?ts wrote:
>> I'm against CHANGES.txt :)
> 
> So, should it be ChangeLog.txt?
> 
Yes :)

Best regards.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Thu Oct 29 07:38:47 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Oct 29 07:38:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EBA@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EBA@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <A1285C9E-FB6B-4E5D-8BBE-D9797378D006@syenar.hu>

Hi Chen,

>> ChangeLog -> CHANGES.txt
>> INSTALL -> INSTALL.txt
>> TODO -> TODO.txt
>
> Ok with me.
>
>> COPYING -> COPYING.txt
>
> I think the "COPYING" file is part of standard GPL,

You mean, that a program with GPL license must use
this very filename, otherwise we break the license?

I routinely use LICENSE_<programname>.txt in my
installations to include GPL (and other) licenses,
which seemed okay, but maybe I'm wrong.

> and also appear as such in every header in our files,
> I vote to leave it as is.

Good point, these will have to changed also, in
case of a rename.

Brgds,
Viktor

From mbelgrano at deltain.it  Thu Oct 29 07:40:05 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Oct 29 07:40:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <8C1D0152-8D39-4680-A6E6-AECA78EAF6C4@syenar.hu>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com> 
	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com> 
	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>
	<4AE96BF9.8070104@teledetection.fr> 
	<E18D41CC-884B-4FC8-B8F9-19BEE22C4B56@syenar.hu>
	<4AE97357.4010901@libero.it> 
	<6DA49F7B-2558-4156-9E9B-271B069ED452@syenar.hu>
	<609353e70910290415i3b17a526rf6db829378752e09@mail.gmail.com> 
	<8C1D0152-8D39-4680-A6E6-AECA78EAF6C4@syenar.hu>
Message-ID: <609353e70910290440rea9b64h795ef75764c48b27@mail.gmail.com>

And what about a little  tool written in harbour & hpdf?
txt2pdf

2009/10/29 Viktor Szak?ts <harbour.01@syenar.hu>:
>> IMO maj be usefull in future a unique harbour.pdf with content of all txt?
>
> .pdf needs external tools on some systems (Windows f.e.),
> plus someone will have to generate it after each modification,
> so it needs big amount of effort with small benefit. Not to
> mention that .pdf file converted from plain text would not
> be able to give anything more in formatting or added value.
>
> Contributors can do this conversion and provide a .pdf
> (or whatever else format) though.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Thu Oct 29 07:42:05 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct 29 07:42:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <4AE97BDC.3060103@mweb.co.za>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>	<4AE96BF9.8070104@teledetection.fr>	<E18D41CC-884B-4FC8-B8F9-19BEE22C4B56@syenar.hu>	<4AE97357.4010901@libero.it>	<6DA49F7B-2558-4156-9E9B-271B069ED452@syenar.hu>
	<4AE97A81.5030509@libero.it> <4AE97BDC.3060103@mweb.co.za>
Message-ID: <819A51AF-E831-4849-A432-AAC8B808C541@syenar.hu>

> Maurilio Longo wrote:
>
>> I'm against CHANGES.txt :)
>
> CHGLOG.txt ?

Not very usual name, but it's an option.

Even CHANGLOG.txt can fit in 8.3. Maybe that
hurts the eye a little less :)

CHANGES however is actually used by projects,
although usually it contains interpreted change
list, not the raw repository change list.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Oct 29 07:47:08 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct 29 07:47:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <609353e70910290440rea9b64h795ef75764c48b27@mail.gmail.com>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>
	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>
	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>
	<4AE96BF9.8070104@teledetection.fr>
	<E18D41CC-884B-4FC8-B8F9-19BEE22C4B56@syenar.hu>
	<4AE97357.4010901@libero.it>
	<6DA49F7B-2558-4156-9E9B-271B069ED452@syenar.hu>
	<609353e70910290415i3b17a526rf6db829378752e09@mail.gmail.com>
	<8C1D0152-8D39-4680-A6E6-AECA78EAF6C4@syenar.hu>
	<609353e70910290440rea9b64h795ef75764c48b27@mail.gmail.com>
Message-ID: <03F0AA3B-3250-4F08-8520-BBD07772ECB9@syenar.hu>

> And what about a little  tool written in harbour & hpdf?
> txt2pdf

What good would that make to Harbour?

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Oct 29 07:53:21 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Oct 29 07:53:32 2009
Subject: [Harbour] HB_TTOC()
Message-ID: <74BA094B-DD44-4C28-A33A-F29D3214D64F@syenar.hu>

Hi All,

Bumped into a situation where I need to convert
datetime to human readable time string (like Francesco).

To keep it a simple one liner, I was trying to do this:

? HB_TTOC( HB_DATETIME(), "", "HH:MM:SS" )

And it resulted in " 12:34:56", note the leading space.

Then I tried to use NIL instead of "", but that gave
worse result.

Can it be implemented to not include date component at
all, when NIL is passed as format? Or if this isn't
possible; to omit space separator when empty string is
passed as date format?

[ I don't like recently added HB_TTOD() because I need
to use a temp variable just to extract time component. ]

Brgds,
Viktor

From info at fsgiudice.com  Thu Oct 29 08:05:05 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Oct 29 08:05:17 2009
Subject: [Harbour] test, please ignore
Message-ID: <4AE984F1.3000000@fsgiudice.com>

Best Regards,
Francesco
From info at fsgiudice.com  Thu Oct 29 07:40:45 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Oct 29 08:10:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <6DA49F7B-2558-4156-9E9B-271B069ED452@syenar.hu>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>	<4AE96BF9.8070104@teledetection.fr>	<E18D41CC-884B-4FC8-B8F9-19BEE22C4B56@syenar.hu>	<4AE97357.4010901@libero.it>
	<6DA49F7B-2558-4156-9E9B-271B069ED452@syenar.hu>
Message-ID: <4AE97F3D.3070104@fsgiudice.com>

Hi Viktor,

Il 29/10/2009 12.01, Viktor Szak?ts ha scritto:
> 
> ChangeLog -> CHANGES.txt
> COPYING -> COPYING.txt
> INSTALL -> INSTALL.txt
> TODO -> TODO.txt
> 

Why not keep ChangeLog and COPYING files for historical reasons and put 
inside the sentence "Please look at <new name> file" ?

About names are ok for me also if another name for ChangeLog could be 
UPDATES.txt, but are equivalent.
I think that could be useful to add a ReadMe.1st file that inside should 
has (a sample):

-----------
Welcome to Harbour!
For your first look you can read:

INSTALL.txt 	Installation help ....
COPYING.txt     Copyright .....
CHANGES.txt     Updates on repository
TODO.txt        to-do list ....
-----------

Best Regards,
Francesco
From harbour.01 at syenar.hu  Thu Oct 29 08:21:23 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct 29 08:21:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <4AE97F3D.3070104@fsgiudice.com>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>	<4AE96BF9.8070104@teledetection.fr>	<E18D41CC-884B-4FC8-B8F9-19BEE22C4B56@syenar.hu>	<4AE97357.4010901@libero.it>
	<6DA49F7B-2558-4156-9E9B-271B069ED452@syenar.hu>
	<4AE97F3D.3070104@fsgiudice.com>
Message-ID: <BD36AFB0-0150-4EF4-AFFB-B161B53C2E38@syenar.hu>

Hi Francesco,

>> ChangeLog -> CHANGES.txt
>> COPYING -> COPYING.txt
>> INSTALL -> INSTALL.txt
>> TODO -> TODO.txt
>
> Why not keep ChangeLog and COPYING files for historical reasons and  
> put inside the sentence "Please look at <new name> file" ?
>
> About names are ok for me also if another name for ChangeLog could  
> be UPDATES.txt, but are equivalent.
> I think that could be useful to add a ReadMe.1st file that inside  
> should has (a sample):
>
> -----------
> Welcome to Harbour!
> For your first look you can read:
>
> INSTALL.txt 	Installation help ....
> COPYING.txt     Copyright .....
> CHANGES.txt     Updates on repository
> TODO.txt        to-do list ....
> -----------

Well, IMO we should name these files with meaningful
names so that we don't need another file to describe
what they are. That's the reason we use these name,
because they are fairly widespread around free projects.

BTW our readme.txt has pointers to dirstruct.txt which
should have pointers to all these files, so basically
what you suggest is already implemented.

Brgds,
Viktor

From info at fsgiudice.com  Thu Oct 29 08:06:03 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Oct 29 08:28:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <6DA49F7B-2558-4156-9E9B-271B069ED452@syenar.hu>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>	<4AE96BF9.8070104@teledetection.fr>	<E18D41CC-884B-4FC8-B8F9-19BEE22C4B56@syenar.hu>	<4AE97357.4010901@libero.it>
	<6DA49F7B-2558-4156-9E9B-271B069ED452@syenar.hu>
Message-ID: <4AE9852B.40708@fsgiudice.com>

Hi Viktor,

Il 29/10/2009 12.01, Viktor Szak?ts ha scritto:
> 
> ChangeLog -> CHANGES.txt
> COPYING -> COPYING.txt
> INSTALL -> INSTALL.txt
> TODO -> TODO.txt
> 

Why not keep ChangeLog and COPYING files for historical reasons and put
inside the sentence "Please look at <new name> file" ?

About names are ok for me also if another name for ChangeLog could be
UPDATES.txt, but are equivalent.
I think that could be useful to add a ReadMe.1st file that inside should
has (a sample):

-----------
Welcome to Harbour!
For your first look you can read:

INSTALL.txt 	Installation help ....
COPYING.txt     Copyright .....
CHANGES.txt     Updates on repository
TODO.txt        to-do list ....
-----------

Best Regards,
Francesco

From harbour.01 at syenar.hu  Thu Oct 29 09:15:49 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct 29 09:16:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <4AE9852B.40708@fsgiudice.com>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>	<4AE96BF9.8070104@teledetection.fr>	<E18D41CC-884B-4FC8-B8F9-19BEE22C4B56@syenar.hu>	<4AE97357.4010901@libero.it>
	<6DA49F7B-2558-4156-9E9B-271B069ED452@syenar.hu>
	<4AE9852B.40708@fsgiudice.com>
Message-ID: <6324FA13-56B0-4438-8852-D6344C792614@syenar.hu>

> About names are ok for me also if another name for ChangeLog could be
> UPDATES.txt, but are equivalent.

I like UPDATES.txt

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Oct 29 09:16:23 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct 29 09:16:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <4AE9852B.40708@fsgiudice.com>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>	<4AE96BF9.8070104@teledetection.fr>	<E18D41CC-884B-4FC8-B8F9-19BEE22C4B56@syenar.hu>	<4AE97357.4010901@libero.it>
	<6DA49F7B-2558-4156-9E9B-271B069ED452@syenar.hu>
	<4AE9852B.40708@fsgiudice.com>
Message-ID: <8A97546E-7F25-4340-951F-B32D7A04A34D@syenar.hu>

Another option is HISTORY.txt to replace ChangeLog.

Brgds,
Viktor

On 2009 Oct 29, at 13:06, Francesco Saverio Giudice wrote:

> Hi Viktor,
>
> Il 29/10/2009 12.01, Viktor Szak?ts ha scritto:
>> ChangeLog -> CHANGES.txt
>> COPYING -> COPYING.txt
>> INSTALL -> INSTALL.txt
>> TODO -> TODO.txt
>
> Why not keep ChangeLog and COPYING files for historical reasons and  
> put
> inside the sentence "Please look at <new name> file" ?
>
> About names are ok for me also if another name for ChangeLog could be
> UPDATES.txt, but are equivalent.
> I think that could be useful to add a ReadMe.1st file that inside  
> should
> has (a sample):
>
> -----------
> Welcome to Harbour!
> For your first look you can read:
>
> INSTALL.txt 	Installation help ....
> COPYING.txt     Copyright .....
> CHANGES.txt     Updates on repository
> TODO.txt        to-do list ....
> -----------
>
> Best Regards,
> Francesco
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From amigosam at adinet.com.uy  Thu Oct 29 10:04:46 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Thu Oct 29 10:04:38 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <8A97546E-7F25-4340-951F-B32D7A04A34D@syenar.hu>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>	<4AE96BF9.8070104@teledetection.fr>	<E18D41CC-884B-4FC8-B8F9-19BEE22C4B56@syenar.hu>	<4AE97357.4010901@libero.it>	<6DA49F7B-2558-4156-9E9B-271B069ED452@syenar.hu>	<4AE9852B.40708@fsgiudice.com>
	<8A97546E-7F25-4340-951F-B32D7A04A34D@syenar.hu>
Message-ID: <hcc7cm$9c6$1@ger.gmane.org>

I like HISTORY.TXT  !!!


Brgds
Angel

From druzus at users.sourceforge.net  Thu Oct 29 10:17:18 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Oct 29 10:17:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12785] trunk/harbour
Message-ID: <E1N3VoU-0006EH-FI@3kljzd1.ch3.sourceforge.com>

Revision: 12785
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12785&view=rev
Author:   druzus
Date:     2009-10-29 14:17:17 +0000 (Thu, 29 Oct 2009)

Log Message:
-----------
2009-10-29 15:17 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  + harbour/doc/xhb-diff.txt
    + added text which describes most important differences between Harbour
      and xHarbour with some references to Clipper and other compatible
      compilers like xBase++, CLIP, FlagShip.
      Many thanks to Viktor and Pritpal for updating this text.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/doc/xhb-diff.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Oct 29 10:30:39 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Oct 29 10:30:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>
	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>
	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>
Message-ID: <20091029143039.GA12925@34-mo7-2.home.aster.pl>

On Thu, 29 Oct 2009, Szak?ts Viktor wrote:
> Such renaming in Harbour would look like this:
> ChangeLog -> CHANGES.txt
> COPYING -> COPYING.txt
> INSTALL -> INSTALL.txt
> TODO -> TODO.txt
> If there are no objections, I can do it.

I vote against. We are using standard names used in more then 90% OS
projects (I've just check /usr/share/doc/packages in my SUSE Linux)
which are automatically recognized by different tools, i.e. scripts
to merge documentation from different packages to avoid repeated
files like COPYING with GNU license inside or editors with syntax
highlighting.

best regards,
Przemek
From druzus at acn.waw.pl  Thu Oct 29 10:37:50 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Oct 29 10:37:57 2009
Subject: [Harbour] HB_TTOC()
In-Reply-To: <74BA094B-DD44-4C28-A33A-F29D3214D64F@syenar.hu>
References: <74BA094B-DD44-4C28-A33A-F29D3214D64F@syenar.hu>
Message-ID: <20091029143750.GA13077@34-mo7-2.home.aster.pl>

On Thu, 29 Oct 2009, Szak?ts Viktor wrote:

Hi,

> To keep it a simple one liner, I was trying to do this:
> ? HB_TTOC( HB_DATETIME(), "", "HH:MM:SS" )
> And it resulted in " 12:34:56", note the leading space.

I thought I fixed it.
I'll do that in a while.

> Then I tried to use NIL instead of "", but that gave
> worse result.

Here it gives correct results.

best regards,
Przemek
From druzus at users.sourceforge.net  Thu Oct 29 10:41:54 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Oct 29 10:42:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12786] trunk/harbour
Message-ID: <E1N3WCI-0006Rk-ER@d5vjzd1.ch3.sourceforge.com>

Revision: 12786
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12786&view=rev
Author:   druzus
Date:     2009-10-29 14:41:46 +0000 (Thu, 29 Oct 2009)

Log Message:
-----------
2009-10-29 15:41 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/dates.c
    ! fixed HB_TTOC() to not add leading space when date part is empty

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/dates.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From teo at windtelsoft.com  Thu Oct 29 10:43:10 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Thu Oct 29 10:43:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12785] trunk/harbour
In-Reply-To: <E1N3VoU-0006EH-FI@3kljzd1.ch3.sourceforge.com>
References: <E1N3VoU-0006EH-FI@3kljzd1.ch3.sourceforge.com>
Message-ID: <5A77E73B-982D-41A1-872B-6CCBD14CDB80@windtelsoft.com>


On Oct 29, 2009, at 8:17 AM, druzus@users.sourceforge.net wrote:

> Revision: 12785
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12785&view=rev
> Author:   druzus
> Date:     2009-10-29 14:17:17 +0000 (Thu, 29 Oct 2009)
>
> Log Message:
> -----------
> 2009-10-29 15:17 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  + harbour/doc/xhb-diff.txt
>    + added text which describes most important differences between  
> Harbour
>      and xHarbour with some references to Clipper and other compatible
>      compilers like xBase++, CLIP, FlagShip.
>      Many thanks to Viktor and Pritpal for updating this text.

Przemek, many thanks for sharing this valuable information.


best regards,

Teo
From mbelgrano at deltain.it  Thu Oct 29 10:52:59 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Oct 29 10:53:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <20091029143039.GA12925@34-mo7-2.home.aster.pl>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com> 
	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com> 
	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>
	<20091029143039.GA12925@34-mo7-2.home.aster.pl>
Message-ID: <609353e70910290752v3c9f2345sf481e7b60bd1b48b@mail.gmail.com>

But in c:\harbour\doc we have txt extension in c:\harbour is without extension
>From the point of view of windows platform (90% of userbase) without
extension not sound good
How is possible found a common and good solution?

2009/10/29 Przemys?aw Czerpak <druzus@acn.waw.pl>:
> On Thu, 29 Oct 2009, Szak?ts Viktor wrote:
>> Such renaming in Harbour would look like this:
>> ChangeLog -> CHANGES.txt
>> COPYING -> COPYING.txt
>> INSTALL -> INSTALL.txt
>> TODO -> TODO.txt
>> If there are no objections, I can do it.
>
> I vote against. We are using standard names used in more then 90% OS
> projects (I've just check /usr/share/doc/packages in my SUSE Linux)
> which are automatically recognized by different tools, i.e. scripts
> to merge documentation from different packages to avoid repeated
> files like COPYING with GNU license inside or editors with syntax
> highlighting.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From niki at synel.co.il  Thu Oct 29 10:53:28 2009
From: niki at synel.co.il (Chen Kedem)
Date: Thu Oct 29 10:53:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12785] trunk/harbour
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EBD@Mail-yoq.SYNEL-COMPANY.LTD>

Przemek,

> 2009-10-29 15:17 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   + harbour/doc/xhb-diff.txt

Comprehensive document! well done.

I suggest to add to the beginning a reference to the complier versions reviewed,
so in the future a user can search newer change logs to see if something had
changed/fixed.


  Chen.
From harbour.01 at syenar.hu  Thu Oct 29 11:02:41 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Oct 29 11:02:51 2009
Subject: [Harbour] HB_TTOC()
In-Reply-To: <20091029143750.GA13077@34-mo7-2.home.aster.pl>
References: <74BA094B-DD44-4C28-A33A-F29D3214D64F@syenar.hu>
	<20091029143750.GA13077@34-mo7-2.home.aster.pl>
Message-ID: <B448DE17-B107-44DE-8AD7-7B11DE3EB0F8@syenar.hu>

>> To keep it a simple one liner, I was trying to do this:
>> ? HB_TTOC( HB_DATETIME(), "", "HH:MM:SS" )
>> And it resulted in " 12:34:56", note the leading space.
>
> I thought I fixed it.
> I'll do that in a while.

Thank you.

>> Then I tried to use NIL instead of "", but that gave
>> worse result.
>
> Here it gives correct results.

Well, worse for my purpose, but the results were logical
since global date format was used.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Oct 29 11:02:58 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Oct 29 11:03:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12786] trunk/harbour
In-Reply-To: <E1N3WCI-0006Rk-ER@d5vjzd1.ch3.sourceforge.com>
References: <E1N3WCI-0006Rk-ER@d5vjzd1.ch3.sourceforge.com>
Message-ID: <6D202664-EE35-421A-B468-E0B3352BF2FA@syenar.hu>

Thanks a lot.

Brgds,
Viktor

On 2009 Oct 29, at 15:41, druzus@users.sourceforge.net wrote:

> Revision: 12786
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12786&view=rev
> Author:   druzus
> Date:     2009-10-29 14:41:46 +0000 (Thu, 29 Oct 2009)
>
> Log Message:
> -----------
> 2009-10-29 15:41 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/rtl/dates.c
>    ! fixed HB_TTOC() to not add leading space when date part is empty
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/src/rtl/dates.c
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From sscc at mweb.co.za  Thu Oct 29 11:03:21 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Oct 29 11:03:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <609353e70910290752v3c9f2345sf481e7b60bd1b48b@mail.gmail.com>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>
	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>
	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>	<20091029143039.GA12925@34-mo7-2.home.aster.pl>
	<609353e70910290752v3c9f2345sf481e7b60bd1b48b@mail.gmail.com>
Message-ID: <4AE9AEB9.2070307@mweb.co.za>

Massimo Belgrano wrote:

> How is possible found a common and good solution?

Symbolic links? :)

Regards
Alex

From sscc at mweb.co.za  Thu Oct 29 11:12:43 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Oct 29 11:12:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12785] trunk/harbour
In-Reply-To: <E1N3VoU-0006EH-FI@3kljzd1.ch3.sourceforge.com>
References: <E1N3VoU-0006EH-FI@3kljzd1.ch3.sourceforge.com>
Message-ID: <4AE9B0EB.6030909@mweb.co.za>

druzus@users.sourceforge.net wrote:

>   + harbour/doc/xhb-diff.txt

This is fantastic information, not least as a comparison, but more importantly 
for me as centralised documentation of the many important enhancements over 
Clipper. I have not had time to read it fully yet but I did not see the new 
virtual file handles discussed, perhaps because there is no difference in 
implementation now between Harbour and xHarbour?

Also, the file id seems not to be fully present:

/*
  * $Id$
  */

Regards
Alex
From info at fsgiudice.com  Thu Oct 29 11:11:38 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Oct 29 11:13:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12785] trunk/harbour
In-Reply-To: <E1N3VoU-0006EH-FI@3kljzd1.ch3.sourceforge.com>
References: <E1N3VoU-0006EH-FI@3kljzd1.ch3.sourceforge.com>
Message-ID: <4AE9B0AA.7030609@fsgiudice.com>

Hi Przemek,

Il 29/10/2009 15.17, druzus@users.sourceforge.net ha scritto:
> 2009-10-29 15:17 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   + harbour/doc/xhb-diff.txt


Excellent work, thank you for sharing it. :-)

Best Regards,
Francesco
From harbour.01 at syenar.hu  Thu Oct 29 11:14:53 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Oct 29 11:15:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <20091029143039.GA12925@34-mo7-2.home.aster.pl>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com>
	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com>
	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>
	<20091029143039.GA12925@34-mo7-2.home.aster.pl>
Message-ID: <49F00F29-AB01-4CE4-9E1D-A58073FBFE09@syenar.hu>

So far my conclusion is to leave extensions as is
(although the only real argument was that these are
standard names) (even if they are colliding with other
standards), and rename ChangeLog to either UPDATES
or HISTORY.

[ My (light) preference is so far towards HISTORY,
because I've seen it more often in other projects
and maybe a tad "spicier". ]

Another option is to use .txt extension for all
text files in root, except COPYING.

Brgds,
Viktor

On 2009 Oct 29, at 15:30, Przemys?aw Czerpak wrote:

> On Thu, 29 Oct 2009, Szak?ts Viktor wrote:
>> Such renaming in Harbour would look like this:
>> ChangeLog -> CHANGES.txt
>> COPYING -> COPYING.txt
>> INSTALL -> INSTALL.txt
>> TODO -> TODO.txt
>> If there are no objections, I can do it.
>
> I vote against. We are using standard names used in more then 90% OS
> projects (I've just check /usr/share/doc/packages in my SUSE Linux)
> which are automatically recognized by different tools, i.e. scripts
> to merge documentation from different packages to avoid repeated
> files like COPYING with GNU license inside or editors with syntax
> highlighting.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Thu Oct 29 11:28:57 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Oct 29 11:29:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12784] trunk/harbour
In-Reply-To: <49F00F29-AB01-4CE4-9E1D-A58073FBFE09@syenar.hu>
References: <E1N3QKP-0005tZ-G6@c3vjzd1.ch3.sourceforge.com> 
	<609353e70910290130g4555a8c8g8db2d01f29627ca2@mail.gmail.com> 
	<A2D1C300-D535-46D9-A5B1-26637D0EDAE5@syenar.hu>
	<20091029143039.GA12925@34-mo7-2.home.aster.pl> 
	<49F00F29-AB01-4CE4-9E1D-A58073FBFE09@syenar.hu>
Message-ID: <609353e70910290828m36d44190x11979d0c107a7e45@mail.gmail.com>

2009/10/29 Viktor Szak?ts <harbour.01@syenar.hu>:
>
> Another option is to use .txt extension for all
> text files in root, except COPYING.
>

+1

-- 
Massimo Belgrano
From druzus at users.sourceforge.net  Thu Oct 29 11:58:13 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Oct 29 11:58:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12787] trunk/harbour
Message-ID: <E1N3XO9-0002pr-Fo@74yxhf1.ch3.sourceforge.com>

Revision: 12787
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12787&view=rev
Author:   druzus
Date:     2009-10-29 15:58:12 +0000 (Thu, 29 Oct 2009)

Log Message:
-----------
2009-10-29 16:58 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/doc/xhb-diff.txt
    * fixed some typos
    * svn ps svn:keywords "Author Date Id Revision"

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/xhb-diff.txt

Property Changed:
----------------
    trunk/harbour/doc/xhb-diff.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Thu Oct 29 13:04:21 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Oct 29 13:04:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12788] trunk/harbour
Message-ID: <E1N3YQ9-0000o9-Fs@3kljzd1.ch3.sourceforge.com>

Revision: 12788
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12788&view=rev
Author:   vouchcac
Date:     2009-10-29 17:04:20 +0000 (Thu, 29 Oct 2009)

Log Message:
-----------
2009-10-29 09:58 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_slots.cpp

  * contrib/hbqt/qtgui/QTreeWidgetItem.cpp

  * contrib/hbxbp/xbpbrowse.prg
  * contrib/hbxbp/xbpdialog.prg
  * contrib/hbxbp/xbpgeneric.prg
  * contrib/hbxbp/xbpmenubar.prg
  * contrib/hbxbp/xbpstatusbar.prg
  * contrib/hbxbp/xbptoolbar.prg
  * contrib/hbxbp/xbpwindow.prg

  * contrib/hbxbp/tests/demoxbp.prg
    ! Demoxbp.exe now terminates properly after releasing all Qt objects
      and releasing Qt objects memory. Analysis follows.
n

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidgetItem.cpp
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbpdialog.prg
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
    trunk/harbour/contrib/hbxbp/xbpmenubar.prg
    trunk/harbour/contrib/hbxbp/xbpstatusbar.prg
    trunk/harbour/contrib/hbxbp/xbptoolbar.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Oct 29 14:51:21 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct 29 14:51:43 2009
Subject: [Harbour] will harbour run on present and future os for small
	device?
In-Reply-To: <609353e70910280727s237b4060s40cf9270cf2aa078@mail.gmail.com>
References: <609353e70907110049k3172b59fsf03f4b4359c0fc43@mail.gmail.com>
	<BD3DC30F-CF33-4548-953B-C0C275C345DB@syenar.hu>
	<609353e70907200654j1f7a8489nf09a2514ea3eebb0@mail.gmail.com>
	<916B96A9-739F-47C5-81FE-1E97DEF30352@syenar.hu>
	<609353e70910100939r4ed62743l447e752919d22ec3@mail.gmail.com>
	<F1310799-C08D-4C98-935D-7C8B5A73D424@syenar.hu>
	<609353e70910101001u1f48ab5eyb85d0c77f5df752@mail.gmail.com>
	<609353e70910280727s237b4060s40cf9270cf2aa078@mail.gmail.com>
Message-ID: <4F5D5AEF-EBA8-4B5D-A028-3AE8FDBE64E9@syenar.hu>

Tor is an UI-less application so porting it should be
possible given all the information we already knew.
I guess they've used Java front-end for any sort of control
UI, but it would be nice if someone confirmed this.

I hope someone will port Harbour to Android, if that helps
the matter but personally I'm still extremely sceptic, so
unless someone really can clear up concerns with valuable
new information, I see no reason to re-raise this topic
each week.

Brgds,
Viktor

On 2009 Oct 28, at 15:27, Massimo Belgrano wrote:

> seem that Android is more good for native c application: Developer
> Nathan Freitas has announced that the native C Tor application has
> been successfully ported to Android, including an application that
> "installs, runs and provides the glue needed to make it useful to end
> users
> 2.0 sdk released http://developer.android.com/sdk/index.html
> android ndk (1.6 jet) group http://groups.google.com/group/android-ndk
>
> Hi hope in harbour convergence in future
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Oct 29 16:36:07 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Oct 29 16:36:17 2009
Subject: [Harbour] Random links
Message-ID: <10E34CA1-469D-4B28-BC2C-EB99FE9FACD5@syenar.hu>

Hi All,

Just installed Ubuntu 9.10 (both server and desktop) and it's
a very nice piece of OS. I hope one day Harbour will become an
package option.

On this link there is some insight on win7 internals, plus
a live demo of a server with 256 CPUs:
    http://channel9.msdn.com/shows/Going+Deep/Mark-Russinovich-Inside-Windows-7-Redux/

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Oct 29 16:38:48 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Oct 29 16:38:58 2009
Subject: [Harbour] Re: Random links
In-Reply-To: <10E34CA1-469D-4B28-BC2C-EB99FE9FACD5@syenar.hu>
References: <10E34CA1-469D-4B28-BC2C-EB99FE9FACD5@syenar.hu>
Message-ID: <2927DA08-9F90-4605-A6C8-F05C6F42A60E@syenar.hu>

> Hi All,
>
> Just installed Ubuntu 9.10 (both server and desktop) and it's
> a very nice piece of OS. I hope one day Harbour will become an
> package option.

BTW, does someone know if it's possible to run dosemu under
amd64 Ubuntu?

I'm tempted to move to 64-bit, but I'd cut myself out of
DOS even more if it breaks dosemu.

Brgds,
Viktor

From guy.roussin at teledetection.fr  Thu Oct 29 17:07:11 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Thu Oct 29 17:07:19 2009
Subject: [Harbour] Re: Random links
In-Reply-To: <2927DA08-9F90-4605-A6C8-F05C6F42A60E@syenar.hu>
References: <10E34CA1-469D-4B28-BC2C-EB99FE9FACD5@syenar.hu>
	<2927DA08-9F90-4605-A6C8-F05C6F42A60E@syenar.hu>
Message-ID: <4AEA03FF.4050401@teledetection.fr>

Hi,
>
> BTW, does someone know if it's possible to run dosemu under
> amd64 Ubuntu?
>
> I'm tempted to move to 64-bit, but I'd cut myself out of
> DOS even more if it breaks dosemu.
i don't try it but it's there :
http://packages.ubuntu.com/search?lang=fr&keywords=dosemu

-- 
Guy Roussin


From ice at extreme.hu  Thu Oct 29 17:07:51 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Thu Oct 29 17:08:00 2009
Subject: [Harbour] Re: Random links
In-Reply-To: <2927DA08-9F90-4605-A6C8-F05C6F42A60E@syenar.hu>
References: <10E34CA1-469D-4B28-BC2C-EB99FE9FACD5@syenar.hu>
	<2927DA08-9F90-4605-A6C8-F05C6F42A60E@syenar.hu>
Message-ID: <alpine.DEB.2.00.0910292203410.2203@dawn.royalcomp.hu>

On Thu, 29 Oct 2009, Viktor Szak?ts wrote:

 > BTW, does someone know if it's possible to run dosemu under
 > amd64 Ubuntu?
 > 
 > I'm tempted to move to 64-bit, but I'd cut myself out of
 > DOS even more if it breaks dosemu.

why not virtualbox? i'm quite sure even the opensource edition can 
run dos quite fine.

i think i even have one setup up complete with networking n stuff, if 
you want (and i find it), i could send you that (it's basically a 
freedos + mslanman + i-forgot-what-tcpip, runs some custom app my mom 
has had for decades, which i'll rip out of course :).

(rip out the app, not my mom.)

-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Thu Oct 29 17:18:32 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Oct 29 17:18:42 2009
Subject: [Harbour] Re: Random links
In-Reply-To: <4AEA03FF.4050401@teledetection.fr>
References: <10E34CA1-469D-4B28-BC2C-EB99FE9FACD5@syenar.hu>
	<2927DA08-9F90-4605-A6C8-F05C6F42A60E@syenar.hu>
	<4AEA03FF.4050401@teledetection.fr>
Message-ID: <74E68148-3238-4CE3-8B87-388EE185C6F1@syenar.hu>

>> BTW, does someone know if it's possible to run dosemu under
>> amd64 Ubuntu?
>>
>> I'm tempted to move to 64-bit, but I'd cut myself out of
>> DOS even more if it breaks dosemu.
> i don't try it but it's there :
> http://packages.ubuntu.com/search?lang=fr&keywords=dosemu

Indeed. Although I've read something along the lines,
that under 64-bit hosts, dosemu runs 32-bit code using
CPU emulation. If true, performance isn't very good
probably.

Brgds,
Viktor

From druzus at users.sourceforge.net  Thu Oct 29 17:30:53 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Oct 29 17:30:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12789] trunk/harbour
Message-ID: <E1N3ca5-0008KD-KJ@74yxhf1.ch3.sourceforge.com>

Revision: 12789
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12789&view=rev
Author:   druzus
Date:     2009-10-29 21:30:52 +0000 (Thu, 29 Oct 2009)

Log Message:
-----------
2009-10-29 22:30 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/doc/xhb-diff.txt
    + added information about Harbour and xHarbour versions described by
      above text - thanks to Chen for suggestion
    * small update for HBNETIO and HBMEMIO

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/xhb-diff.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Oct 29 17:37:50 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Oct 29 17:38:00 2009
Subject: [Harbour] Re: Random links
In-Reply-To: <alpine.DEB.2.00.0910292203410.2203@dawn.royalcomp.hu>
References: <10E34CA1-469D-4B28-BC2C-EB99FE9FACD5@syenar.hu>
	<2927DA08-9F90-4605-A6C8-F05C6F42A60E@syenar.hu>
	<alpine.DEB.2.00.0910292203410.2203@dawn.royalcomp.hu>
Message-ID: <9F5AB8F7-1AFE-4004-A7B0-D4A0E3344AA6@syenar.hu>

>> I'm tempted to move to 64-bit, but I'd cut myself out of
>> DOS even more if it breaks dosemu.
>
> why not virtualbox? i'm quite sure even the opensource edition can
> run dos quite fine.

I use VMWare Fusion 3 (it seems to work better on OS X yet),
and while FreeDOS runs under it, I gave up maintaining a pure
MS-DOS environment simply because I couldn't afford spending
lots of hours digging in config.sys/autoexec.bat to configure
networking, and other nowadays obvious things.

dosemu provides a well-working environment out of the box,
and it fits my (BTW Harbour-only) purpose perfectly. For
real mode DOS apps, even dosbox works on OS X natively.

Of course I could keep separate Linux 32 VMs for dosemu alone,
or even 32-bit Windows, but all these are too "expensive".

> i think i even have one setup up complete with networking n stuff, if
> you want (and i find it), i could send you that (it's basically a
> freedos + mslanman + i-forgot-what-tcpip, runs some custom app my mom
> has had for decades, which i'll rip out of course :).

:) Well, thanks a lot for the kind offer, but please don't
bother, I'd probably keep it for emergency only (IOW it'd
just be another exotic VM/OS in my collection ;)

> (rip out the app, not my mom.)

:)

Springs to mind that I have Win95 VM, which also has DOS, so
for testing it could be the "ultimate" solution.

Brgds,
Viktor

From amigosam at adinet.com.uy  Thu Oct 29 18:10:31 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Thu Oct 29 18:10:21 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12789] trunk/harbour
In-Reply-To: <E1N3ca5-0008KD-KJ@74yxhf1.ch3.sourceforge.com>
References: <E1N3ca5-0008KD-KJ@74yxhf1.ch3.sourceforge.com>
Message-ID: <hcd3rf$elr$1@ger.gmane.org>

Hi Przemek

Very interesting and usefull document, congratulations !

The section about dbfs and indexes limits is somewhat confusing to me.

Did I understood well that if you use NTX indexing you can have 2TB 
tables while with CDX you can?t ?
I guess this is only possible in Linux, right ?

Regards
Angel


druzus@users.sourceforge.net escribi?:
> Revision: 12789
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12789&view=rev
> Author:   druzus
> Date:     2009-10-29 21:30:52 +0000 (Thu, 29 Oct 2009)
> 
> Log Message:
> -----------
> 2009-10-29 22:30 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/doc/xhb-diff.txt
>     + added information about Harbour and xHarbour versions described by
>       above text - thanks to Chen for suggestion
>     * small update for HBNETIO and HBMEMIO
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/doc/xhb-diff.txt
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.

From druzus at acn.waw.pl  Thu Oct 29 19:01:08 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Oct 29 19:01:15 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12789] trunk/harbour
In-Reply-To: <hcd3rf$elr$1@ger.gmane.org>
References: <E1N3ca5-0008KD-KJ@74yxhf1.ch3.sourceforge.com>
	<hcd3rf$elr$1@ger.gmane.org>
Message-ID: <20091029230108.GA24658@34-mo7-2.home.aster.pl>

On Thu, 29 Oct 2009, Angel Pais wrote:

Hi,

> Very interesting and usefull document, congratulations !

Thanks. I hope you will find it useful.

> The section about dbfs and indexes limits is somewhat confusing to me.
> Did I understood well that if you use NTX indexing you can have 2TB
> tables while with CDX you can?t ?

No. 1-st of all you mixed table and index size. Maximum table (DBF) size
is independent without any relations to used index formats.
By default maximum size for CDX, NTX and NSX indexes is 4GB and
it's limit created by their internal formats.
Small modification in this formats allows to increase the size but
new indexes are not binary compatible and cannot be used by other
languages if they not have such extensions (and they rather do not
have them because I created them myself).
I've implemented such extension so far only for NSX and NTX formats
and it's enabled by default when 64bit locking is used. It move maximum
index file size to 4TB.
So far I haven't added this extension to CDX format. If I add it then
it will increase maximum CDX file size to 2TB when standard page size
is used. I can also add support for page size controlled by user and
it will give additional maximum size improvement. Support for page size
defined by user can be added to all index formats (NTX, NSX, CDX).
Below it's text from xhb-diff.txt. If it's not clear enough then we
can update it.

> I guess this is only possible in Linux, right ?

No. It's OS independent. Limits introduced by OS or FS (file system)
are different thing and user should check what it maximal size for
files stored on some file system accessed by some operating system.
If they are smaller then they will reduce also Harbour programs just
like any others which may want to create and/or manage larger files.
If you are MS-Windows user then you should check limits for different
MS-Windows (9x,ME,NT,W2K,XP,...) versions and used FS (FAT16,FAT32,
NTFS, NTFS<N>, ...

best regards,
Przemek



   Maximal NTX file size for standard NTX files is 4GB and it's limited
   by internal NTX structures. Enabling 64bit locking in [x]Harbour change
   slightly used NTX format and increase maximum NTX file size to 4TB.
   The NTX format in [x]Harbour has also many other extensions like support
   for multitag indexes or using record number as hidden part of index key
   and many others which are unique to [x]Harbour. In practice all of CDX
   extensions are supported by NTX in [x]Harbour.
   The NSX format in [x]Harbour is also limited be default to 4GB but like
   in NTX enabling 64bit locking extend it to 4TB. It also supports common
   to NTX and CDX set of features.

   The CDX format is limited to 4GB and so far [x]Harbour does not support
   extended mode which can increase the size up to 2TB with standard page
   length and it can be bigger in all formats if we introduce support for
   bigger index pages. Of course all such extended formats are not binary
   compatible with original ones and so far can be used only by [x]Harbour
   RDDs though in ADS the .adi format is such extended CDX format so maybe
   in the future it will be possible to .adi indexes in our CDX RDD.

   Of course all of the above sizes can be reduced by operating system (OS)
   or file system (FS) limitations so it's necessary to check what is
   supported by environment where [x]Harbour applications are executed.
From harbour.01 at syenar.hu  Thu Oct 29 20:01:25 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Oct 29 20:01:35 2009
Subject: [Harbour] bug?: EOLs in HB_COMPILE() error output (Windows)
Message-ID: <A2810217-473E-4430-A093-57163165F68B@syenar.hu>

Hi All,

I tried to compile the same .prg (having some warnings)
using HB_COMPILE() (via hbmk2) and harbour directly, and
the redirected std output contains different EOLs in the two
cases. HB_COMPILE() output confuses standard tools like
'sort' and 'grep'.

Here's the little program I used for testing:
--- hb.prg
PROCEDURE Main( ... )
    LOCAL unused1
    LOCAL unused2
    hb_compile( "harbour", { ... } )
    RETURN
---
	
 > harbour -w3 hb.prg > !harbour
--- !harbour
0x0D <warning1> 0x0D 0x0A 0x0D <warning2> 0x0D 0x0A
---

 > hb -w3 hb.prg > !hb
--- !hb
0x0D <warning1> 0x0A 0x0D <warning2> 0x0A
---

Notice the odd '0x0A 0x0D' combination.

Is there any way to at least sync HB_COMPILE() and harbour
executable output?

Brgds,
Viktor

From fernando_athayde at yahoo.com.br  Thu Oct 29 21:25:50 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Thu Oct 29 21:25:56 2009
Subject: [Harbour] is it possible? convert emf/wmf to pdf/xls
Message-ID: <514830.70794.qm@web52209.mail.re2.yahoo.com>

i have to export my reports for pdf/xls
but i don?t want recode my software
is there any way to convert emf/wmf to pdf/xls?
i use hwgui

Thanks,
Fernando



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091029/fb60527d/attachment.html
From bedipritpal at hotmail.com  Thu Oct 29 21:26:44 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Oct 29 21:26:50 2009
Subject: [Harbour] Mem Leak
Message-ID: <26123668.post@talk.nabble.com>


Hello

When I compile and run hbmk2.prg with -DHB_FM_STATISTICS
I get this screen dump after it finishes execution:

Creating: ..\hbqt_garbage.h

----------------------------------------
Total memory allocated: 1314328 bytes (10891 block(s))
Warning, memory allocated but not released: 268 bytes (1 block(s))
fm.c:1069: HB_TR_ERROR Block 1 (size 264) HB_FTEMPCREATEEX(0),
"433A5C444F43554D
457E315C41444D494E497E315C4C4F43414C537E315C54656D705C00AA0000000000000041000000
390E48424D4B00000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000286DB7000000000000000000
20202068625F766D5365744C696E6B65644D61696E2820224D41494E2220293B0A00494E9A000000
00000000310000000D0E4556414C00000000000000000000000000000000000000000000B1000000
00000000000000000000000000000000000000000000000000000000000000000000D2001069B700
0000000000000000"

HB_FTEMPCREATEEX() function needs a fix.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Mem-Leak-tp26123668p26123668.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Thu Oct 29 21:56:28 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Oct 29 21:56:34 2009
Subject: [Harbour] Mem Leak
In-Reply-To: <26123668.post@talk.nabble.com>
References: <26123668.post@talk.nabble.com>
Message-ID: <20091030015627.GA25681@34-mo7-2.home.aster.pl>

On Thu, 29 Oct 2009, Pritpal Bedi wrote:

Hi,

> When I compile and run hbmk2.prg with -DHB_FM_STATISTICS
> I get this screen dump after it finishes execution:
> Creating: ..\hbqt_garbage.h

Thank you very much for information.

It's yet memory leak in Windows builds caused by modifications for
UNICODE mode.

best regards,
Przemek
From druzus at users.sourceforge.net  Thu Oct 29 22:41:18 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Oct 29 22:41:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12790] trunk/harbour
Message-ID: <E1N3hQU-0006cN-S9@c3vjzd1.ch3.sourceforge.com>

Revision: 12790
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12790&view=rev
Author:   druzus
Date:     2009-10-30 02:41:17 +0000 (Fri, 30 Oct 2009)

Log Message:
-----------
2009-10-30 03:40 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/common/hbgete.c
  * harbour/src/common/hbffind.c
  * harbour/src/common/hbfsapi.c
  * harbour/src/rtl/fstemp.c
  * harbour/src/rtl/filesys.c
  * harbour/src/rtl/diskspac.c
  * harbour/src/rtl/disksphb.c
  * harbour/src/rtl/net.c
    ! fixed memory leak reported by Pritpal
    * cleanup some UNICODE conversions in Windows builds (mostly resolved
      some macros when UNICODE macro is also explicitly used and cleaned
      some buffers length passed to windows functions.
    * removed unnecessary casting - if it's not necessary for some strange
      reasons never cast strings to LP[C][TW]STR calling windows functions.
      Such casting does not make any conversions but only hides potential
      bugs.

  * harbour/contrib/hbwin/axcore.c
    * pacified warning

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/axcore.c
    trunk/harbour/src/common/hbffind.c
    trunk/harbour/src/common/hbfsapi.c
    trunk/harbour/src/common/hbgete.c
    trunk/harbour/src/rtl/diskspac.c
    trunk/harbour/src/rtl/disksphb.c
    trunk/harbour/src/rtl/filesys.c
    trunk/harbour/src/rtl/fstemp.c
    trunk/harbour/src/rtl/net.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Oct 30 02:31:52 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Oct 30 02:32:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12790] trunk/harbour
In-Reply-To: <E1N3hQU-0006cN-S9@c3vjzd1.ch3.sourceforge.com>
References: <E1N3hQU-0006cN-S9@c3vjzd1.ch3.sourceforge.com>
Message-ID: <3155FD8E-5945-4BEA-BA7D-6E97820DF8DC@syenar.hu>

Thank you very much Przemek.

Brgds,
Viktor

On 2009 Oct 30, at 03:41, druzus@users.sourceforge.net wrote:

> Revision: 12790
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12790&view=rev
> Author:   druzus
> Date:     2009-10-30 02:41:17 +0000 (Fri, 30 Oct 2009)
>
> Log Message:
> -----------
> 2009-10-30 03:40 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/common/hbgete.c
>  * harbour/src/common/hbffind.c
>  * harbour/src/common/hbfsapi.c
>  * harbour/src/rtl/fstemp.c
>  * harbour/src/rtl/filesys.c
>  * harbour/src/rtl/diskspac.c
>  * harbour/src/rtl/disksphb.c
>  * harbour/src/rtl/net.c
>    ! fixed memory leak reported by Pritpal
>    * cleanup some UNICODE conversions in Windows builds (mostly  
> resolved
>      some macros when UNICODE macro is also explicitly used and  
> cleaned
>      some buffers length passed to windows functions.
>    * removed unnecessary casting - if it's not necessary for some  
> strange
>      reasons never cast strings to LP[C][TW]STR calling windows  
> functions.
>      Such casting does not make any conversions but only hides  
> potential
>      bugs.
>
>  * harbour/contrib/hbwin/axcore.c
>    * pacified warning
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbwin/axcore.c
>    trunk/harbour/src/common/hbffind.c
>    trunk/harbour/src/common/hbfsapi.c
>    trunk/harbour/src/common/hbgete.c
>    trunk/harbour/src/rtl/diskspac.c
>    trunk/harbour/src/rtl/disksphb.c
>    trunk/harbour/src/rtl/filesys.c
>    trunk/harbour/src/rtl/fstemp.c
>    trunk/harbour/src/rtl/net.c
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Fri Oct 30 02:34:39 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Oct 30 02:34:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12791] trunk/harbour
Message-ID: <E1N3l4J-00066J-VZ@bj8yhf1.ch3.sourceforge.com>

Revision: 12791
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12791&view=rev
Author:   vszakats
Date:     2009-10-30 06:34:38 +0000 (Fri, 30 Oct 2009)

Log Message:
-----------
2009-10-30 07:33 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * src/compiler/hbgenerr.c
    * Minor formatting.

  * doc/xhb-diff.txt
    * Changed HBCRYPT to HBSSL in examples to contribs.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/xhb-diff.txt
    trunk/harbour/src/compiler/hbgenerr.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Oct 30 12:19:20 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Oct 30 12:19:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12792] trunk/harbour
Message-ID: <E1N3uC8-0007Nb-21@74yxhf1.ch3.sourceforge.com>

Revision: 12792
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12792&view=rev
Author:   vszakats
Date:     2009-10-30 16:19:18 +0000 (Fri, 30 Oct 2009)

Log Message:
-----------
2009-10-30 17:08 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    * Minor fix to UPX supported platforms.

  * contrib/hbmisc/Makefile
  + contrib/hbmisc/ffind.c
    + Added direct file find API from my own function collection:
        FILEFINDFIRST( <cFileNameMask>, @<ffindinfo>[, <nAttr> ] ) -> <lFound>
        FILEFINDNEXT( <ffindinfo> ) -> <lFound>
        FILEFINDNAME( <ffindinfo> ) -> <cFileName> (without drive/dir)
        FILEFINDATTR( <ffindinfo> ) -> <nAttr>
        FILEFINDSIZE( <ffindinfo> ) -> <nSize>
        FILEFINDDATE( <ffindinfo> ) -> <dDate>
        FILEFINDTIME( <ffindinfo> ) -> <cTime> (as "HH:MM:SS")
      It's an alternative to DIRECTORY()/FILE() functions.
    ; NOTE: To release the file find handle on some platforms 
            (like Windows), and allow deletion of the dir we've 
            been scanning, <ffindinfo> should go out of scope or 
            be explicitly release by freeing <ffindinfo> variable.
            To make this easy, some may want to add:
               #xtranslate FILEFINDCLOSE( <f> )  => \( <f> := NIL \)
               #xtranslate FILEFINDCLOSE( @<f> ) => \( <f> := NIL \)
    ; NOTE: Could be extended to return new timestamp format.

  * contrib/rddads/adsfunc.c
    + Added lAlive := AdsIsConnectionAlive( hConnection ) function.
      Borrowed from Augusto Infante / xhb.
      Three small fixes applied.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbmisc/Makefile
    trunk/harbour/contrib/rddads/adsfunc.c

Added Paths:
-----------
    trunk/harbour/contrib/hbmisc/ffind.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Fri Oct 30 12:56:53 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Oct 30 12:57:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12793] trunk/harbour
Message-ID: <E1N3umT-0000QO-V1@d5vjzd1.ch3.sourceforge.com>

Revision: 12793
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12793&view=rev
Author:   druzus
Date:     2009-10-30 16:56:47 +0000 (Fri, 30 Oct 2009)

Log Message:
-----------
2009-10-30 17:54 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/common/hbffind.c
    * small buffer size fix

  * harbour/src/rtl/cdpapi.c
  * harbour/include/hbapicdp.h
    + added HB_WCAHR
    * changed USHORT to HB_WCHAR

  * harbour/src/codepage/ucmacce.c
  * harbour/src/codepage/uckoi8.c
  * harbour/src/codepage/uc885910.c
  * harbour/src/codepage/ucmacice.c
  * harbour/src/codepage/uc885914.c
  * harbour/src/codepage/uc874.c
  * harbour/src/codepage/uc857.c
  * harbour/src/codepage/uc1250.c
  * harbour/src/codepage/uc1254.c
  * harbour/src/codepage/uc1258.c
  * harbour/src/codepage/uckoi8u.c
  * harbour/src/codepage/uckam.c
  * harbour/src/codepage/uc424.c
  * harbour/src/codepage/ucmacrom.c
  * harbour/src/codepage/uc862.c
  * harbour/src/codepage/uc866.c
  * harbour/src/codepage/uc8859_3.c
  * harbour/src/codepage/uc8859_7.c
  * harbour/src/codepage/ucmacgrk.c
  * harbour/src/codepage/uc037.c
  * harbour/src/codepage/uc850.c
  * harbour/src/codepage/uc885911.c
  * harbour/src/codepage/uc885915.c
  * harbour/src/codepage/uc875.c
  * harbour/src/codepage/uc1251.c
  * harbour/src/codepage/uc1255.c
  * harbour/src/codepage/uc863.c
  * harbour/src/codepage/ucmaz.c
  * harbour/src/codepage/uc1026.c
  * harbour/src/codepage/uc8859_4.c
  * harbour/src/codepage/uc8859_8.c
  * harbour/src/codepage/uc855.c
  * harbour/src/codepage/uc885916.c
  * harbour/src/codepage/ucascii.c
  * harbour/src/codepage/uc1252.c
  * harbour/src/codepage/uc1256.c
  * harbour/src/codepage/ucatari.c
  * harbour/src/codepage/uc860.c
  * harbour/src/codepage/ucmaccyr.c
  * harbour/src/codepage/ucmik.c
  * harbour/src/codepage/uc864.c
  * harbour/src/codepage/uc1006.c
  * harbour/src/codepage/uc1125.c
  * harbour/src/codepage/uc8859_1.c
  * harbour/src/codepage/uc88591b.c
  * harbour/src/codepage/uc8859_5.c
  * harbour/src/codepage/uc8859_9.c
  * harbour/src/codepage/uc852.c
  * harbour/src/codepage/ucnext.c
  * harbour/src/codepage/uc737.c
  * harbour/src/codepage/uc885913.c
  * harbour/src/codepage/ucmactrk.c
  * harbour/src/codepage/uc856.c
  * harbour/src/codepage/uc775.c
  * harbour/src/codepage/uc1253.c
  * harbour/src/codepage/uc1257.c
  * harbour/src/codepage/uc500.c
  * harbour/src/codepage/uc861.c
  * harbour/src/codepage/uc865.c
  * harbour/src/codepage/uc869.c
  * harbour/src/codepage/uc8859_2.c
  * harbour/src/codepage/uc8859_6.c
    * changed USHORT to HB_WCHAR

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapicdp.h
    trunk/harbour/src/codepage/uc037.c
    trunk/harbour/src/codepage/uc1006.c
    trunk/harbour/src/codepage/uc1026.c
    trunk/harbour/src/codepage/uc1125.c
    trunk/harbour/src/codepage/uc1250.c
    trunk/harbour/src/codepage/uc1251.c
    trunk/harbour/src/codepage/uc1252.c
    trunk/harbour/src/codepage/uc1253.c
    trunk/harbour/src/codepage/uc1254.c
    trunk/harbour/src/codepage/uc1255.c
    trunk/harbour/src/codepage/uc1256.c
    trunk/harbour/src/codepage/uc1257.c
    trunk/harbour/src/codepage/uc1258.c
    trunk/harbour/src/codepage/uc424.c
    trunk/harbour/src/codepage/uc500.c
    trunk/harbour/src/codepage/uc737.c
    trunk/harbour/src/codepage/uc775.c
    trunk/harbour/src/codepage/uc850.c
    trunk/harbour/src/codepage/uc852.c
    trunk/harbour/src/codepage/uc855.c
    trunk/harbour/src/codepage/uc856.c
    trunk/harbour/src/codepage/uc857.c
    trunk/harbour/src/codepage/uc860.c
    trunk/harbour/src/codepage/uc861.c
    trunk/harbour/src/codepage/uc862.c
    trunk/harbour/src/codepage/uc863.c
    trunk/harbour/src/codepage/uc864.c
    trunk/harbour/src/codepage/uc865.c
    trunk/harbour/src/codepage/uc866.c
    trunk/harbour/src/codepage/uc869.c
    trunk/harbour/src/codepage/uc874.c
    trunk/harbour/src/codepage/uc875.c
    trunk/harbour/src/codepage/uc885910.c
    trunk/harbour/src/codepage/uc885911.c
    trunk/harbour/src/codepage/uc885913.c
    trunk/harbour/src/codepage/uc885914.c
    trunk/harbour/src/codepage/uc885915.c
    trunk/harbour/src/codepage/uc885916.c
    trunk/harbour/src/codepage/uc88591b.c
    trunk/harbour/src/codepage/uc8859_1.c
    trunk/harbour/src/codepage/uc8859_2.c
    trunk/harbour/src/codepage/uc8859_3.c
    trunk/harbour/src/codepage/uc8859_4.c
    trunk/harbour/src/codepage/uc8859_5.c
    trunk/harbour/src/codepage/uc8859_6.c
    trunk/harbour/src/codepage/uc8859_7.c
    trunk/harbour/src/codepage/uc8859_8.c
    trunk/harbour/src/codepage/uc8859_9.c
    trunk/harbour/src/codepage/ucascii.c
    trunk/harbour/src/codepage/ucatari.c
    trunk/harbour/src/codepage/uckam.c
    trunk/harbour/src/codepage/uckoi8.c
    trunk/harbour/src/codepage/uckoi8u.c
    trunk/harbour/src/codepage/ucmacce.c
    trunk/harbour/src/codepage/ucmaccyr.c
    trunk/harbour/src/codepage/ucmacgrk.c
    trunk/harbour/src/codepage/ucmacice.c
    trunk/harbour/src/codepage/ucmacrom.c
    trunk/harbour/src/codepage/ucmactrk.c
    trunk/harbour/src/codepage/ucmaz.c
    trunk/harbour/src/codepage/ucmik.c
    trunk/harbour/src/codepage/ucnext.c
    trunk/harbour/src/common/hbffind.c
    trunk/harbour/src/rtl/cdpapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Oct 30 12:58:53 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Oct 30 12:59:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12793] trunk/harbour
In-Reply-To: <E1N3umT-0000QO-V1@d5vjzd1.ch3.sourceforge.com>
References: <E1N3umT-0000QO-V1@d5vjzd1.ch3.sourceforge.com>
Message-ID: <9DF8ABE7-D7EB-48F3-B685-65B307F59A20@syenar.hu>

Great!

Brgds,
Viktor

On 2009 Oct 30, at 17:56, druzus@users.sourceforge.net wrote:

> Revision: 12793
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12793&view=rev
> Author:   druzus
> Date:     2009-10-30 16:56:47 +0000 (Fri, 30 Oct 2009)
>
> Log Message:
> -----------
> 2009-10-30 17:54 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/common/hbffind.c
>    * small buffer size fix
>
>  * harbour/src/rtl/cdpapi.c
>  * harbour/include/hbapicdp.h
>    + added HB_WCAHR
>    * changed USHORT to HB_WCHAR
>
>  * harbour/src/codepage/ucmacce.c
>  * harbour/src/codepage/uckoi8.c
>  * harbour/src/codepage/uc885910.c
>  * harbour/src/codepage/ucmacice.c
>  * harbour/src/codepage/uc885914.c
>  * harbour/src/codepage/uc874.c
>  * harbour/src/codepage/uc857.c
>  * harbour/src/codepage/uc1250.c
>  * harbour/src/codepage/uc1254.c
>  * harbour/src/codepage/uc1258.c
>  * harbour/src/codepage/uckoi8u.c
>  * harbour/src/codepage/uckam.c
>  * harbour/src/codepage/uc424.c
>  * harbour/src/codepage/ucmacrom.c
>  * harbour/src/codepage/uc862.c
>  * harbour/src/codepage/uc866.c
>  * harbour/src/codepage/uc8859_3.c
>  * harbour/src/codepage/uc8859_7.c
>  * harbour/src/codepage/ucmacgrk.c
>  * harbour/src/codepage/uc037.c
>  * harbour/src/codepage/uc850.c
>  * harbour/src/codepage/uc885911.c
>  * harbour/src/codepage/uc885915.c
>  * harbour/src/codepage/uc875.c
>  * harbour/src/codepage/uc1251.c
>  * harbour/src/codepage/uc1255.c
>  * harbour/src/codepage/uc863.c
>  * harbour/src/codepage/ucmaz.c
>  * harbour/src/codepage/uc1026.c
>  * harbour/src/codepage/uc8859_4.c
>  * harbour/src/codepage/uc8859_8.c
>  * harbour/src/codepage/uc855.c
>  * harbour/src/codepage/uc885916.c
>  * harbour/src/codepage/ucascii.c
>  * harbour/src/codepage/uc1252.c
>  * harbour/src/codepage/uc1256.c
>  * harbour/src/codepage/ucatari.c
>  * harbour/src/codepage/uc860.c
>  * harbour/src/codepage/ucmaccyr.c
>  * harbour/src/codepage/ucmik.c
>  * harbour/src/codepage/uc864.c
>  * harbour/src/codepage/uc1006.c
>  * harbour/src/codepage/uc1125.c
>  * harbour/src/codepage/uc8859_1.c
>  * harbour/src/codepage/uc88591b.c
>  * harbour/src/codepage/uc8859_5.c
>  * harbour/src/codepage/uc8859_9.c
>  * harbour/src/codepage/uc852.c
>  * harbour/src/codepage/ucnext.c
>  * harbour/src/codepage/uc737.c
>  * harbour/src/codepage/uc885913.c
>  * harbour/src/codepage/ucmactrk.c
>  * harbour/src/codepage/uc856.c
>  * harbour/src/codepage/uc775.c
>  * harbour/src/codepage/uc1253.c
>  * harbour/src/codepage/uc1257.c
>  * harbour/src/codepage/uc500.c
>  * harbour/src/codepage/uc861.c
>  * harbour/src/codepage/uc865.c
>  * harbour/src/codepage/uc869.c
>  * harbour/src/codepage/uc8859_2.c
>  * harbour/src/codepage/uc8859_6.c
>    * changed USHORT to HB_WCHAR
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/include/hbapicdp.h
>    trunk/harbour/src/codepage/uc037.c
>    trunk/harbour/src/codepage/uc1006.c
>    trunk/harbour/src/codepage/uc1026.c
>    trunk/harbour/src/codepage/uc1125.c
>    trunk/harbour/src/codepage/uc1250.c
>    trunk/harbour/src/codepage/uc1251.c
>    trunk/harbour/src/codepage/uc1252.c
>    trunk/harbour/src/codepage/uc1253.c
>    trunk/harbour/src/codepage/uc1254.c
>    trunk/harbour/src/codepage/uc1255.c
>    trunk/harbour/src/codepage/uc1256.c
>    trunk/harbour/src/codepage/uc1257.c
>    trunk/harbour/src/codepage/uc1258.c
>    trunk/harbour/src/codepage/uc424.c
>    trunk/harbour/src/codepage/uc500.c
>    trunk/harbour/src/codepage/uc737.c
>    trunk/harbour/src/codepage/uc775.c
>    trunk/harbour/src/codepage/uc850.c
>    trunk/harbour/src/codepage/uc852.c
>    trunk/harbour/src/codepage/uc855.c
>    trunk/harbour/src/codepage/uc856.c
>    trunk/harbour/src/codepage/uc857.c
>    trunk/harbour/src/codepage/uc860.c
>    trunk/harbour/src/codepage/uc861.c
>    trunk/harbour/src/codepage/uc862.c
>    trunk/harbour/src/codepage/uc863.c
>    trunk/harbour/src/codepage/uc864.c
>    trunk/harbour/src/codepage/uc865.c
>    trunk/harbour/src/codepage/uc866.c
>    trunk/harbour/src/codepage/uc869.c
>    trunk/harbour/src/codepage/uc874.c
>    trunk/harbour/src/codepage/uc875.c
>    trunk/harbour/src/codepage/uc885910.c
>    trunk/harbour/src/codepage/uc885911.c
>    trunk/harbour/src/codepage/uc885913.c
>    trunk/harbour/src/codepage/uc885914.c
>    trunk/harbour/src/codepage/uc885915.c
>    trunk/harbour/src/codepage/uc885916.c
>    trunk/harbour/src/codepage/uc88591b.c
>    trunk/harbour/src/codepage/uc8859_1.c
>    trunk/harbour/src/codepage/uc8859_2.c
>    trunk/harbour/src/codepage/uc8859_3.c
>    trunk/harbour/src/codepage/uc8859_4.c
>    trunk/harbour/src/codepage/uc8859_5.c
>    trunk/harbour/src/codepage/uc8859_6.c
>    trunk/harbour/src/codepage/uc8859_7.c
>    trunk/harbour/src/codepage/uc8859_8.c
>    trunk/harbour/src/codepage/uc8859_9.c
>    trunk/harbour/src/codepage/ucascii.c
>    trunk/harbour/src/codepage/ucatari.c
>    trunk/harbour/src/codepage/uckam.c
>    trunk/harbour/src/codepage/uckoi8.c
>    trunk/harbour/src/codepage/uckoi8u.c
>    trunk/harbour/src/codepage/ucmacce.c
>    trunk/harbour/src/codepage/ucmaccyr.c
>    trunk/harbour/src/codepage/ucmacgrk.c
>    trunk/harbour/src/codepage/ucmacice.c
>    trunk/harbour/src/codepage/ucmacrom.c
>    trunk/harbour/src/codepage/ucmactrk.c
>    trunk/harbour/src/codepage/ucmaz.c
>    trunk/harbour/src/codepage/ucmik.c
>    trunk/harbour/src/codepage/ucnext.c
>    trunk/harbour/src/common/hbffind.c
>    trunk/harbour/src/rtl/cdpapi.c
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Fri Oct 30 13:18:31 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Oct 30 13:18:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12781] trunk/harbour
In-Reply-To: <E1N3KYo-0001Zz-V3@dn4whf1.ch3.sourceforge.com>
References: <E1N3KYo-0001Zz-V3@dn4whf1.ch3.sourceforge.com>
Message-ID: <9257026e0910301018t649d5d54s21e50a277d789d75@mail.gmail.com>

On Ubuntu 9.10 i386 with native qt-dev simply opening and closing demoxbp:

./demoxbp
QPainter::begin: Widget painting can only begin as a result of a paintEvent
Object::disconnect: Use the SIGNAL macro to unbind QAction::triggered(bool)
Object::disconnect: Use the SIGNAL macro to unbind QAction::triggered(bool)
Object::disconnect: Use the SIGNAL macro to unbind QAction::triggered(bool)
Object::disconnect: Use the SIGNAL macro to unbind QAction::triggered(bool)
Object::disconnect: Use the SIGNAL macro to unbind HbTableView::keyPressEvent()
Object::disconnect: Attempt to unbind non-signal HbTableView::ousePressEvent()
Object::disconnect: Attempt to unbind non-signal
HbTableView::ouseDoubleClickEvent()
Object::disconnect: Use the SIGNAL macro to unbind HbTableView::wheelEvent()
Object::disconnect: Use the SIGNAL macro to unbind
HbTableView::scrollContentsBy(int,int)
Object::disconnect: Attempt to unbind non-signal QScrollBar::ctionTriggered(int)
Object::disconnect: Use the SIGNAL macro to unbind QScrollBar::sliderReleased()
Object::disconnect: Attempt to unbind non-signal QScrollBar::ctionTriggered(int)
Object::disconnect: Use the SIGNAL macro to unbind QScrollBar::sliderReleased()
Object::disconnect: Use the SIGNAL macro to unbind
QHeaderView::sectionPressed(int)
Object::disconnect: Use the SIGNAL macro to unbind
QHeaderView::sectionResized(int,int,int)
Object::disconnect: Attempt to unbind non-signal HbTableView::ousePressEvent()
Object::disconnect: Use the SIGNAL macro to unbind
QHeaderView::sectionPressed(int)
Object::disconnect: Use the SIGNAL macro to unbind
QHeaderView::sectionPressed(int)
Object::disconnect: Attempt to unbind non-signal HbTableView::ousePressEvent()
Object::disconnect: Use the SIGNAL macro to unbind
QHeaderView::sectionPressed(int)
Object::disconnect: Use the SIGNAL macro to unbind
QHeaderView::sectionPressed(int)

Unrecoverable error 6005: Exception SIGSEGV at address 0xc
Called from QHEADERVIEW:_PPTR(0)
Called from XBPBROWSE:DESTROY(0) in ../../../xbpbrowse.prg
Called from (b)XBPWINDOW_DESTROY(0) in ../../../xbpwindow.prg
Called from AEVAL(0)
Called from XBPWINDOW:DESTROY(0) in ../../../xbpwindow.prg
Called from XBPTABPAGE:DESTROY(0) in ../../../xbptabpage.prg
Called from (b)XBPWINDOW_DESTROY(0) in ../../../xbpwindow.prg
Called from AEVAL(0)
Called from XBPWINDOW:DESTROY(0) in ../../../xbpwindow.prg
Called from XBPTABWIDGET:DESTROY(0) in ../../../xbptabpage.prg
Called from (b)XBPWINDOW_DESTROY(0) in ../../../xbpwindow.prg
Called from AEVAL(0)
Called from XBPDRAWINGAREA:DESTROY(0) in ../../../xbpwindow.prg
Called from (b)XBPWINDOW_DESTROY(0) in ../../../xbpwindow.prg
Called from AEVAL(0)
Called from XBPWINDOW:DESTROY(0) in ../../../xbpwindow.prg
Called from XBPDIALOG:DESTROY(0) in ../../../xbpdialog.prg
Called from BUILDADIALOG(217) in demoxbp.prg
Called from _BUILDADIALOG(105) in demoxbp.prg
Called from MAIN(96) in demoxbp.prg

best regards,
Lorenzo
From mbelgrano at deltain.it  Fri Oct 30 13:59:38 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Oct 30 13:59:49 2009
Subject: [Harbour] is it possible? convert emf/wmf to pdf/xls
In-Reply-To: <514830.70794.qm@web52209.mail.re2.yahoo.com>
References: <514830.70794.qm@web52209.mail.re2.yahoo.com>
Message-ID: <609353e70910301059n587e26d5k603a9413ab9a4151@mail.gmail.com>

Hi  Fernando
I suggest you http://freepdf-xp.en.softonic.com/
is free,and  is a print driver so you can print on it simply choosing as printer
compatible with print using print driver


2009/10/30 Fernando Athayde <fernando_athayde@yahoo.com.br>:
> i have to export my reports for pdf/xls
> but i don?t want recode my software
> is there any way to convert emf/wmf to pdf/xls?
> i use hwgui
>
> Thanks,
> Fernando
>
> ________________________________
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 -
> Celebridades - M?sica - Esportes
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Fri Oct 30 14:06:18 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Oct 30 14:06:25 2009
Subject: [Harbour] Mem Leak
In-Reply-To: <20091030015627.GA25681@34-mo7-2.home.aster.pl>
References: <26123668.post@talk.nabble.com>
	<20091030015627.GA25681@34-mo7-2.home.aster.pl>
Message-ID: <609353e70910301106n5be7bc9ci6f2d2e9b8f9bfe89@mail.gmail.com>

Hi Przemek
do you use hbmk2 in your project?
Have you made some qt experiment?
wich contrib you using in your project?
When you can, can you give us your finest analysis about hbmk2 and qt?


2009/10/30 Przemys?aw Czerpak <druzus@acn.waw.pl>:
> On Thu, 29 Oct 2009, Pritpal Bedi wrote:
>
> Hi,
>
>> When I compile and run hbmk2.prg with -DHB_FM_STATISTICS
>> I get this screen dump after it finishes execution:
>> Creating: ..\hbqt_garbage.h
>
> Thank you very much for information.
>
> It's yet memory leak in Windows builds caused by modifications for
> UNICODE mode.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From fernando_athayde at yahoo.com.br  Fri Oct 30 14:17:17 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Fri Oct 30 14:17:23 2009
Subject: Res: [Harbour] is it possible? convert emf/wmf to pdf/xls
In-Reply-To: <609353e70910301059n587e26d5k603a9413ab9a4151@mail.gmail.com>
References: <514830.70794.qm@web52209.mail.re2.yahoo.com>
	<609353e70910301059n587e26d5k603a9413ab9a4151@mail.gmail.com>
Message-ID: <612570.89347.qm@web52203.mail.re2.yahoo.com>

i knew about it, but i want to make myself, today i create my reports in ascii file and i convert to pdf/rtf and (direct print/(laser/inkjet printer) run perfect,
but some custumers are query to me graphics reports, and i only can generate these graphics reports in emf,
but i have an idea, i'am making a framework(class) for resolve this problem, with parameter type (GRA(Graphics)/PDF/RTF/XLS)

if someone had any better idea, please tell me

Thanks,
Fernando




________________________________
De: Massimo Belgrano <mbelgrano@deltain.it>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Sex, Outubro 30, 2009 2:59:38 PM
Assunto: Re: [Harbour] is it possible? convert emf/wmf to pdf/xls

Hi  Fernando
I suggest you http://freepdf-xp.en.softonic.com/
is free,and  is a print driver so you can print on it simply choosing as printer
compatible with print using print driver


2009/10/30 Fernando Athayde <fernando_athayde@yahoo.com.br>:
> i have to export my reports for pdf/xls
> but i don?t want recode my software
> is there any way to convert emf/wmf to pdf/xls?
> i use hwgui
>
> Thanks,
> Fernando
>
> ________________________________
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 -
> Celebridades - M?sica - Esportes
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091030/17f01d01/attachment-0001.html
From bedipritpal at hotmail.com  Fri Oct 30 14:46:52 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Oct 30 14:46:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12781] trunk/harbour
In-Reply-To: <9257026e0910301018t649d5d54s21e50a277d789d75@mail.gmail.com>
References: <E1N3KYo-0001Zz-V3@dn4whf1.ch3.sourceforge.com>
	<9257026e0910301018t649d5d54s21e50a277d789d75@mail.gmail.com>
Message-ID: <26135157.post@talk.nabble.com>


Thanks Lorenzo



Lorenzo Fiorini-2 wrote:
> 
> On Ubuntu 9.10 i386 with native qt-dev simply opening and closing demoxbp:
> 
> ./demoxbp
> QPainter::begin: Widget painting can only begin as a result of a
> paintEvent
> Object::disconnect: Use the SIGNAL macro to unbind
> QAction::triggered(bool)
> 

I was struggling what exactly is the issue I cannot recover 
whole memory. Perhaps this dump may provide me deeper insight
to resolve the issue. On Windows XP I do not receive such errors.

Can you do another try:
Execute demoxbp.exe, click somewhere in the browser and then close.
I want to see it this dump is repeated.

Thank you very much and keepm me posted such dumps.

Regards
Pritppal Bedi


-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12781--trunk-harbour-tp26105217p26135157.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Fri Oct 30 15:12:56 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Oct 30 15:13:04 2009
Subject: [Harbour] Possible having harbour under java using c a compiler?
Message-ID: <609353e70910301212r60b10b55mff3903af7584e042@mail.gmail.com>

Possible having harbour under java using c a compiler?
Axiomatic Multi-Platform C (AMPC) is a C compiler suite that generates
Java? bytecode.
http://www.axiomsol.com/index.php

NestedVM translated C (actually any language supported by GCC)
programs to JVM bytec
http://wiki.brianweb.net/NestedVM/NestedVM


Ephedra http://ovid.tigris.org/Ephedra/ creates Java source
http://www.java-tips.org/java-applications/c-to-java-translator/jazillian.html



-- 
Massimo Belgrano
From snaiperis at users.sourceforge.net  Fri Oct 30 15:53:16 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Fri Oct 30 15:53:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12794] trunk/harbour
Message-ID: <E1N3xXA-0003ZY-8w@d5vjzd1.ch3.sourceforge.com>

Revision: 12794
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12794&view=rev
Author:   snaiperis
Date:     2009-10-30 19:53:10 +0000 (Fri, 30 Oct 2009)

Log Message:
-----------
2009-10-30 21:50 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/rddads/ads1.c
    * added ADS function return value check in a few places

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/ads1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Oct 30 16:08:16 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Oct 30 16:08:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12795] trunk/harbour
Message-ID: <E1N3xlg-0001jE-DS@3kljzd1.ch3.sourceforge.com>

Revision: 12795
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12795&view=rev
Author:   vszakats
Date:     2009-10-30 20:08:15 +0000 (Fri, 30 Oct 2009)

Log Message:
-----------
2009-10-30 21:07 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    * Fixed name usage in a few places ('hbmk' -> 'hbmk2').

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Fri Oct 30 16:56:26 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Oct 30 16:56:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12781] trunk/harbour
In-Reply-To: <26135157.post@talk.nabble.com>
References: <E1N3KYo-0001Zz-V3@dn4whf1.ch3.sourceforge.com>
	<9257026e0910301018t649d5d54s21e50a277d789d75@mail.gmail.com>
	<26135157.post@talk.nabble.com>
Message-ID: <9257026e0910301356q5040885ay3ffd0b3871464900@mail.gmail.com>

On Fri, Oct 30, 2009 at 7:46 PM, Pritpal Bedi <bedipritpal@hotmail.com> wrote:
>
> Thanks Lorenzo
>
>
>
> Lorenzo Fiorini-2 wrote:
>>
>> On Ubuntu 9.10 i386 with native qt-dev simply opening and closing demoxbp:
>>
>> ./demoxbp
>> QPainter::begin: Widget painting can only begin as a result of a
>> paintEvent
>> Object::disconnect: Use the SIGNAL macro to unbind
>> QAction::triggered(bool)
>>
>
> I was struggling what exactly is the issue I cannot recover
> whole memory. Perhaps this dump may provide me deeper insight
> to resolve the issue. On Windows XP I do not receive such errors.
>
> Can you do another try:
> Execute demoxbp.exe, click somewhere in the browser and then close.
> I want to see it this dump is repeated.

Yes I get the same dump.

> Thank you very much and keepm me posted such dumps.

Here is a gdb bt simple report:

...
#23 0x00cea85b in QWidget::~QWidget() () from /usr/lib/libQtGui.so.4
#24 0x0109e9b5 in QFrame::~QFrame() () from /usr/lib/libQtGui.so.4
#25 0x080e8215 in release_QFrame(void*) ()
#26 0x0809cf39 in Q_release(void*) ()
#27 0x08134af9 in hb_gcRefFree ()
#28 0x081424bb in hb_itemClear ()
#29 0x08144238 in hb_itemCopy ()
#30 0x08144b7f in hb_arraySet ()
#31 0x0814d987 in HB_FUN_msgSetData ()
#32 0x08142103 in hb_vmSend ()
#33 0x08140892 in hb_vmExecute ()
#34 0x080888ea in HB_FUN_XBPWINDOW_DESTROY ()
#35 0x08142103 in hb_vmSend ()
#36 0x08140892 in hb_vmExecute ()
#37 0x0808e07a in HB_FUN_XBPBROWSE_DESTROY ()
#38 0x08142103 in hb_vmSend ()
#39 0x08140892 in hb_vmExecute ()
...

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Fri Oct 30 17:14:55 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Oct 30 17:15:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12781] trunk/harbour
In-Reply-To: <26135157.post@talk.nabble.com>
References: <E1N3KYo-0001Zz-V3@dn4whf1.ch3.sourceforge.com>
	<9257026e0910301018t649d5d54s21e50a277d789d75@mail.gmail.com>
	<26135157.post@talk.nabble.com>
Message-ID: <9257026e0910301414j6ac2ee4cy8004ed9e1bff3b9a@mail.gmail.com>

On Fri, Oct 30, 2009 at 7:46 PM, Pritpal Bedi <bedipritpal@hotmail.com> wrote:
>
> Thanks Lorenzo
>
>
>
> Lorenzo Fiorini-2 wrote:
>>
>> On Ubuntu 9.10 i386 with native qt-dev simply opening and closing demoxbp:
>>
>> ./demoxbp
>> QPainter::begin: Widget painting can only begin as a result of a
>> paintEvent
>> Object::disconnect: Use the SIGNAL macro to unbind
>> QAction::triggered(bool)
>>
>
> I was struggling what exactly is the issue I cannot recover
> whole memory. Perhaps this dump may provide me deeper insight
> to resolve the issue. On Windows XP I do not receive such errors.
>
> Can you do another try:
> Execute demoxbp.exe, click somewhere in the browser and then close.
> I want to see it this dump is repeated.
>
> Thank you very much and keepm me posted such dumps.

Running valgrind --tool=memcheck --leak-check=yes --num-callers=16 -v
./demoxbp 2> log.out
I get a 3MB log.out where I see these lines:

BASE/1005  Message not found: XBPWINDOW:_PPTR
Called from __ERRRT_SBASE(0)
Called from XBPWINDOW:ERROR(0)
Called from (b)HBOBJECT(0)
Called from XBPWINDOW:MSGNOTFOUND(0)
CErroralled from XBPWINDOW:_PPTR(0)

best regards,
Lorenzo
From vszakats at users.sourceforge.net  Fri Oct 30 17:25:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Oct 30 17:25:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12796] trunk/harbour
Message-ID: <E1N3yyk-0003FD-UY@bj8yhf1.ch3.sourceforge.com>

Revision: 12796
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12796&view=rev
Author:   vszakats
Date:     2009-10-30 21:25:49 +0000 (Fri, 30 Oct 2009)

Log Message:
-----------
2009-10-30 22:25 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * package/winuni/RELNOTES
    + Provisions for next version: MinGW 4.4.1 updated documented.
      Now at TDM-2, fixing some seriously looking performance 
      problem. (tdragon.net distro)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/package/winuni/RELNOTES


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From snaiperis at users.sourceforge.net  Fri Oct 30 18:43:13 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Fri Oct 30 18:43:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12797] trunk/harbour
Message-ID: <E1N40Bd-0004ix-MJ@74yxhf1.ch3.sourceforge.com>

Revision: 12797
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12797&view=rev
Author:   snaiperis
Date:     2009-10-30 22:43:12 +0000 (Fri, 30 Oct 2009)

Log Message:
-----------
2009-10-31 00:42 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/docs/xhb-diff.txt
    ! fixed some typo errors

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/xhb-diff.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Oct 30 19:21:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Oct 30 19:21:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12798] trunk/harbour
Message-ID: <E1N40mP-0004xC-N0@3kljzd1.ch3.sourceforge.com>

Revision: 12798
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12798&view=rev
Author:   vszakats
Date:     2009-10-30 23:21:12 +0000 (Fri, 30 Oct 2009)

Log Message:
-----------
2009-10-31 00:18 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Added NOTE for Borland C++ users how to setup their 
      compiler. This is repetition of Borland readme content
      which seemingly nobody reads and do this day many users 
      get wrong. I'm not sure if these same users will read 
      INSTALL, but let's give it a try.

  * ChangeLog
    ! Fixed my timezone since last weekend.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From amigosam at adinet.com.uy  Fri Oct 30 21:03:25 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Fri Oct 30 21:03:49 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12798] trunk/harbour
In-Reply-To: <E1N40mP-0004xC-N0@3kljzd1.ch3.sourceforge.com>
References: <E1N40mP-0004xC-N0@3kljzd1.ch3.sourceforge.com>
Message-ID: <hcg2ct$rr5$1@ger.gmane.org>

test, (new ubuntu 9.10 box) =)

From druzus at users.sourceforge.net  Fri Oct 30 21:25:39 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Oct 30 21:25:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12799] trunk/harbour
Message-ID: <E1N42ip-0003v7-KN@dn4whf1.ch3.sourceforge.com>

Revision: 12799
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12799&view=rev
Author:   druzus
Date:     2009-10-31 01:25:38 +0000 (Sat, 31 Oct 2009)

Log Message:
-----------
2009-10-31 02:25 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapicdp.h
  * harbour/src/rtl/cdpapi.c
    * modified hb_cdpStringInU16Length() to return size in 'HB_WCHAR'
      instead of 'char' characters
    + added hb_cdpStrnToU16n(), hb_cdpStrnToU16LEn(),
      hb_cdpStringInU16Length2()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapicdp.h
    trunk/harbour/src/rtl/cdpapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Oct 31 05:47:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Oct 31 05:47:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12800] trunk/harbour
Message-ID: <E1N4AYm-0005ZG-8c@dn4whf1.ch3.sourceforge.com>

Revision: 12800
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12800&view=rev
Author:   vszakats
Date:     2009-10-31 09:47:47 +0000 (Sat, 31 Oct 2009)

Log Message:
-----------
2009-10-31 10:45 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  + w64-make.exe
    + Added win64 build of GNU Make 3.81.90-CVS-20090901.
      Experimental. On 64-bit Windows systems it's generally 
      recommended to use this version, but please be aware of 
      the experimental nature of this build yet. There are 
      some pending patches in GNU Make bug tracker, plus latest 
      CVS is broken so I used the latest good one.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/w64-make.exe


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Sat Oct 31 07:44:19 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Oct 31 07:44:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12801] trunk/harbour
Message-ID: <E1N4CNX-0007li-5L@3kljzd1.ch3.sourceforge.com>

Revision: 12801
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12801&view=rev
Author:   druzus
Date:     2009-10-31 11:44:18 +0000 (Sat, 31 Oct 2009)

Log Message:
-----------
2009-10-31 12:44 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rdd/dbfcdx/dbfcdx1.c
    % added small protection against code which may want to create
      degenerated index tree using very large keys (over 158 bytes length)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Sat Oct 31 11:42:52 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Oct 31 11:42:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12802] trunk/harbour
Message-ID: <E1N4G6O-0005Ap-0e@dn4whf1.ch3.sourceforge.com>

Revision: 12802
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12802&view=rev
Author:   druzus
Date:     2009-10-31 15:42:51 +0000 (Sat, 31 Oct 2009)

Log Message:
-----------
2009-10-31 16:42 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/rddads/ads1.c
    ! In APPEND metohd generate RT error EG_APPENDLOCK only if ACE returns
      1024 error code (Append Lock Failed). In all other cases generate
      EG_CORRUPTION RTE.
      This modifications allows to early detect some serious problems like
      index corruptions in Mindaugas example with long keys in ADSCDX.
      Warning! Before ADS RDD generated EG_APPENDLOCK for each errors
      returned by AdsAppendRecord() and they were caught by default error
      handler (ERRORSYS) and silently converted to NetErr().
      Now only for 1024 ACE error which is real append lock error
      EG_APPENDLOCK is generated and all other errors will not be silently
      ignored so it's also possible that this modification will exploit
      some errors in concurrent accessed which are not reported by ADS/ACE
      as 1024 and maybe we will have to report them as EG_APPENDLOCK too.
      In such case please send information about such error codes here.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/ads1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Oct 31 13:36:50 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Oct 31 13:36:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12803] trunk/harbour
Message-ID: <E1N4Hsg-0004SW-Mb@3kljzd1.ch3.sourceforge.com>

Revision: 12803
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12803&view=rev
Author:   vouchcac
Date:     2009-10-31 17:36:49 +0000 (Sat, 31 Oct 2009)

Log Message:
-----------
2009-10-31 10:23 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/generator/hbqtgen.prg
  * contrib/hbqt/hbqt.h
  * contrib/hbqt/hbqt_destruct.cpp
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/hbqt_slots.h
  * contrib/hbqt/moc_slots.cpp
  * contrib/hbxbp/tests/demoxbp.prg
  * contrib/hbxbp/xbpbrowse.prg
  * contrib/hbxbp/xbpdialog.prg
  * contrib/hbxbp/xbpgeneric.prg
  * contrib/hbxbp/xbpmenubar.prg
  * contrib/hbxbp/xbpwindow.prg
  * contrib/qtgui/QTableView.cpp
  * contrib/qtgui/TQTableView.prg
    ! Some more debug information included.
      Please note that the build may be broken, so bear with me for a 
      couple of days. Lorenzo, you can continue with experiments.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.h
    trunk/harbour/contrib/hbqt/moc_slots.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableView.cpp
    trunk/harbour/contrib/hbqt/qtgui/TQTableView.prg
    trunk/harbour/contrib/hbqt/qth/QTableView.qth
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbpdialog.prg
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
    trunk/harbour/contrib/hbxbp/xbpmenubar.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Oct 31 14:48:30 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Oct 31 14:48:38 2009
Subject: [Harbour] HBQT - HBXBP - Releaseing the Objects and Memory
Message-ID: <26144968.post@talk.nabble.com>


Hello Everybody

Here are the results of debug output of demoxbp.exe.

http://old.nabble.com/file/p26144968/2.zip 2.zip 

And this is the consolidated result of log file above:

        OBJECT                Created       Released
        ==============================
        QApplication          1     =>   1
        QWidget               9     =>   9
        QVariant              1     =>   1
        QEventLoop            1     =>   1
        QSize                --     =>   2
        QDesktopWidget        1     =>   1
        QColor               33     =>   33
        QMenuBar              1     =>   1
        QMenu                 4     =>   4
        QAction              12     =>   12
        QKeySequence          2     =>   2
        QStatusBar            1     =>   1
        QPixmap               3     =>   9
        QCursor               5     =>   5
        QToolBar              1     =>   1
        QTabWidget            1     =>   1
        QFrame               16     =>   16
        QScrollBar            4     =>   4
        QHeaderView           3     =>   3
        QGridLayout           1     =>   1
        QFontMetrics         12     =>   12
        QFont                --     =>   12
        QTextEdit             2     =>   2
        QCheckBox             4     =>   4
        QRadioButton          4     =>   4
        QSpinBox              3     =>   3
        QTreeWidget           2     =>   2
        QTreeWidgetItem      99     =>   100 ( 220-417 == 98 Items )
        QTreeWidgetItem      99     =>   100 ( 422-619 == 98 Items )
        QListView             2     =>   2
        QStringList           2     =>   2
        QStringListModel      2     =>   2
        QLineEdit             3     =>   3
        QComboBox             1     =>   1
        QPushButton          15     =>   15
        QTextCursor          --     =>   7
        QTextCharFormat      --     =>   9
        QBrush                2     =>   4
        QWebView              1     =>   1
        QUrl                  1     =>   1
        QGroupBox             1     =>   1
        QLabel                7     =>   7
        QImage                1     =>   1
        QIcon                --     =>   1
        QPoint                1     =>   1
        QModelIndex          --     =>   6
        hbqt_ptrTOgcpointer  46     =>   --
                             --          37
                     QPixmap             6
                     QBrush              2     45


It is one-to-one means whatever objects appln is creating with 
new Q() or creating dynamically is being released properly.
But still 1.3 MB of memory is never reclaimed with next invocation
of "One More Dialog". Application reclaims 1.7 MB but cannot reclaim 
1.3 MB.

If we look at the zipped 2.log file, we can see that at system 
level no memory is released though Harbours internal items gets released.
Only at the end of the Main() function system releases 1.7 MB.
Any ideas what could be points to see through or debug more.

It is verified that Qt level delete ( Q* ) ph ; is executed as intended and 
object is releases but system memory stays the same.

This is the only issue left with Harbour-Qt. Once we resolve it we are
through.
Note that before introducing collectible pointers not even a single byte
was being reclaimed. Now at least we are able to get back more than half
of memory.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/HBQT---HBXBP---Releaseing-the-Objects-and-Memory-tp26144968p26144968.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Oct 31 16:43:13 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Oct 31 16:43:27 2009
Subject: [Harbour] HBQT - HBXBP - Releaseing the Objects and Memory
In-Reply-To: <26144968.post@talk.nabble.com>
References: <26144968.post@talk.nabble.com>
Message-ID: <E3C01B42-3AAD-4ACC-938A-1DA9E97810BC@syenar.hu>

Hi Pritpal,

Huge effort and very nice job.

I'm worried about one remaining thing: the monolithic
nature of hbqt_slots.cpp. I'm not sure of the meaning of
it, but it seems to contain references to various QT
objects (f.e. even QTWebKit) in one central location.
These object are now implemented in separate libs, and
I wonder if referencing them like this wouldn't cause
pulling of unnecessary parts in final apps?

After testing demoxbp, the Web tab doesn't load all
images, plus it flickers when moving around with the
mouse, sometimes the whole page reappears only when
going above the title bar f.e. Same effect can be
seen in Lists tab with the scrollbars.

Brgds,
Viktor

On 2009 Oct 31, at 19:48, Pritpal Bedi wrote:

>
> Hello Everybody
>
> Here are the results of debug output of demoxbp.exe.
>
> http://old.nabble.com/file/p26144968/2.zip 2.zip
>
> And this is the consolidated result of log file above:
>
>        OBJECT                Created       Released
>        ==============================
>        QApplication          1     =>   1
>        QWidget               9     =>   9
>        QVariant              1     =>   1
>        QEventLoop            1     =>   1
>        QSize                --     =>   2
>        QDesktopWidget        1     =>   1
>        QColor               33     =>   33
>        QMenuBar              1     =>   1
>        QMenu                 4     =>   4
>        QAction              12     =>   12
>        QKeySequence          2     =>   2
>        QStatusBar            1     =>   1
>        QPixmap               3     =>   9
>        QCursor               5     =>   5
>        QToolBar              1     =>   1
>        QTabWidget            1     =>   1
>        QFrame               16     =>   16
>        QScrollBar            4     =>   4
>        QHeaderView           3     =>   3
>        QGridLayout           1     =>   1
>        QFontMetrics         12     =>   12
>        QFont                --     =>   12
>        QTextEdit             2     =>   2
>        QCheckBox             4     =>   4
>        QRadioButton          4     =>   4
>        QSpinBox              3     =>   3
>        QTreeWidget           2     =>   2
>        QTreeWidgetItem      99     =>   100 ( 220-417 == 98 Items )
>        QTreeWidgetItem      99     =>   100 ( 422-619 == 98 Items )
>        QListView             2     =>   2
>        QStringList           2     =>   2
>        QStringListModel      2     =>   2
>        QLineEdit             3     =>   3
>        QComboBox             1     =>   1
>        QPushButton          15     =>   15
>        QTextCursor          --     =>   7
>        QTextCharFormat      --     =>   9
>        QBrush                2     =>   4
>        QWebView              1     =>   1
>        QUrl                  1     =>   1
>        QGroupBox             1     =>   1
>        QLabel                7     =>   7
>        QImage                1     =>   1
>        QIcon                --     =>   1
>        QPoint                1     =>   1
>        QModelIndex          --     =>   6
>        hbqt_ptrTOgcpointer  46     =>   --
>                             --          37
>                     QPixmap             6
>                     QBrush              2     45
>
>
> It is one-to-one means whatever objects appln is creating with
> new Q() or creating dynamically is being released properly.
> But still 1.3 MB of memory is never reclaimed with next invocation
> of "One More Dialog". Application reclaims 1.7 MB but cannot reclaim
> 1.3 MB.
>
> If we look at the zipped 2.log file, we can see that at system
> level no memory is released though Harbours internal items gets  
> released.
> Only at the end of the Main() function system releases 1.7 MB.
> Any ideas what could be points to see through or debug more.
>
> It is verified that Qt level delete ( Q* ) ph ; is executed as  
> intended and
> object is releases but system memory stays the same.
>
> This is the only issue left with Harbour-Qt. Once we resolve it we are
> through.
> Note that before introducing collectible pointers not even a single  
> byte
> was being reclaimed. Now at least we are able to get back more than  
> half
> of memory.
>
> Regards
> Pritpal Bedi
>
>
> -- 
> View this message in context: http://old.nabble.com/HBQT---HBXBP---Releaseing-the-Objects-and-Memory-tp26144968p26144968.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Sat Oct 31 16:46:14 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Oct 31 16:46:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12803] trunk/harbour
In-Reply-To: <E1N4Hsg-0004SW-Mb@3kljzd1.ch3.sourceforge.com>
References: <E1N4Hsg-0004SW-Mb@3kljzd1.ch3.sourceforge.com>
Message-ID: <9257026e0910311346s595cb47euaaa08b9ae59d6f84@mail.gmail.com>

On Sat, Oct 31, 2009 at 6:36 PM,  <vouchcac@users.sourceforge.net> wrote:

> ? ? ?Please note that the build may be broken, so bear with me for a
> ? ? ?couple of days. Lorenzo, you can continue with experiments.

Unfortunately, I get the same errors.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sat Oct 31 16:52:43 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Oct 31 16:52:52 2009
Subject: [Harbour] HBQT - HBXBP - Releaseing the Objects and Memory
In-Reply-To: <E3C01B42-3AAD-4ACC-938A-1DA9E97810BC@syenar.hu>
References: <26144968.post@talk.nabble.com>
	<E3C01B42-3AAD-4ACC-938A-1DA9E97810BC@syenar.hu>
Message-ID: <E624F730-CD4F-402E-B2F4-B2E97F9D858A@syenar.hu>

dempxbp also ended with a Runtime Error in MSVCRT here.
(used mingw 4.4.1 for these tests)

Brgds,
Viktor

On 2009 Oct 31, at 21:43, Viktor Szak?ts wrote:

> Hi Pritpal,
>
> Huge effort and very nice job.
>
> I'm worried about one remaining thing: the monolithic
> nature of hbqt_slots.cpp. I'm not sure of the meaning of
> it, but it seems to contain references to various QT
> objects (f.e. even QTWebKit) in one central location.
> These object are now implemented in separate libs, and
> I wonder if referencing them like this wouldn't cause
> pulling of unnecessary parts in final apps?
>
> After testing demoxbp, the Web tab doesn't load all
> images, plus it flickers when moving around with the
> mouse, sometimes the whole page reappears only when
> going above the title bar f.e. Same effect can be
> seen in Lists tab with the scrollbars.
>
> Brgds,
> Viktor
>
> On 2009 Oct 31, at 19:48, Pritpal Bedi wrote:
>
>>
>> Hello Everybody
>>
>> Here are the results of debug output of demoxbp.exe.
>>
>> http://old.nabble.com/file/p26144968/2.zip 2.zip
>>
>> And this is the consolidated result of log file above:
>>
>>       OBJECT                Created       Released
>>       ==============================
>>       QApplication          1     =>   1
>>       QWidget               9     =>   9
>>       QVariant              1     =>   1
>>       QEventLoop            1     =>   1
>>       QSize                --     =>   2
>>       QDesktopWidget        1     =>   1
>>       QColor               33     =>   33
>>       QMenuBar              1     =>   1
>>       QMenu                 4     =>   4
>>       QAction              12     =>   12
>>       QKeySequence          2     =>   2
>>       QStatusBar            1     =>   1
>>       QPixmap               3     =>   9
>>       QCursor               5     =>   5
>>       QToolBar              1     =>   1
>>       QTabWidget            1     =>   1
>>       QFrame               16     =>   16
>>       QScrollBar            4     =>   4
>>       QHeaderView           3     =>   3
>>       QGridLayout           1     =>   1
>>       QFontMetrics         12     =>   12
>>       QFont                --     =>   12
>>       QTextEdit             2     =>   2
>>       QCheckBox             4     =>   4
>>       QRadioButton          4     =>   4
>>       QSpinBox              3     =>   3
>>       QTreeWidget           2     =>   2
>>       QTreeWidgetItem      99     =>   100 ( 220-417 == 98 Items )
>>       QTreeWidgetItem      99     =>   100 ( 422-619 == 98 Items )
>>       QListView             2     =>   2
>>       QStringList           2     =>   2
>>       QStringListModel      2     =>   2
>>       QLineEdit             3     =>   3
>>       QComboBox             1     =>   1
>>       QPushButton          15     =>   15
>>       QTextCursor          --     =>   7
>>       QTextCharFormat      --     =>   9
>>       QBrush                2     =>   4
>>       QWebView              1     =>   1
>>       QUrl                  1     =>   1
>>       QGroupBox             1     =>   1
>>       QLabel                7     =>   7
>>       QImage                1     =>   1
>>       QIcon                --     =>   1
>>       QPoint                1     =>   1
>>       QModelIndex          --     =>   6
>>       hbqt_ptrTOgcpointer  46     =>   --
>>                            --          37
>>                    QPixmap             6
>>                    QBrush              2     45
>>
>>
>> It is one-to-one means whatever objects appln is creating with
>> new Q() or creating dynamically is being released properly.
>> But still 1.3 MB of memory is never reclaimed with next invocation
>> of "One More Dialog". Application reclaims 1.7 MB but cannot reclaim
>> 1.3 MB.
>>
>> If we look at the zipped 2.log file, we can see that at system
>> level no memory is released though Harbours internal items gets  
>> released.
>> Only at the end of the Main() function system releases 1.7 MB.
>> Any ideas what could be points to see through or debug more.
>>
>> It is verified that Qt level delete ( Q* ) ph ; is executed as  
>> intended and
>> object is releases but system memory stays the same.
>>
>> This is the only issue left with Harbour-Qt. Once we resolve it we  
>> are
>> through.
>> Note that before introducing collectible pointers not even a single  
>> byte
>> was being reclaimed. Now at least we are able to get back more than  
>> half
>> of memory.
>>
>> Regards
>> Pritpal Bedi
>>
>>
>> -- 
>> View this message in context: http://old.nabble.com/HBQT---HBXBP---Releaseing-the-Objects-and-Memory-tp26144968p26144968.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>

From itamarlins at gmail.com  Sat Oct 31 21:26:17 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Sat Oct 31 21:26:55 2009
Subject: [Harbour] Error making _hbhbpdf.c
Message-ID: <hcio3q$2cr$1@ger.gmane.org>

Hi!

Microsoft Windows XP [vers?o 5.1.2600]
Envar for harbour maker.

HB_COMPILER=msvc
HB_DIR_NSIS=%ProgramFiles%\NSIS\
HB_DIR_QT=C:\Qt\2009.04\qt
HB_DIR_ZIP=C:\info-zip\
HB_INSTALL_PREFIX=C:\DEV\HARBOUR
HB_PATH=C:\DEV\HARBOUR
HB_PLATFORM=win
HB_WITH_QT=C:\Qt\2009.04\qt\include

c:\>cd\harbour\trunk\harbour
C:\harbour\trunk\harbour>win-make.exe clean install

...

cl.exe  -nologo -I. -I../../../../../include -Gs -TC -Ot2b1 -EHs-c- -MT 
   -IC:/h
arbour/trunk/harbour/external/zlib 
-IC:/harbour/trunk/harbour/external/libpng -D
UNICODE  -Fo_hbhbpdf.obj -c ../../../_hbhbpdf.c
process_begin: CreateProcess(NULL, cl.exe -nologo -I. 
-I../../../../../include -
Gs -TC -Ot2b1 -EHs-c- -MT -IC:/harbour/trunk/harbour/external/zlib 
-IC:/harbour/
trunk/harbour/external/libpng -DUNICODE -Fo_hbhbpdf.obj -c 
../../../_hbhbpdf.c,
...) failed.
make (e=2): O sistema n?o pode encontrar o arquivo especificado.
win-make.exe[3]: *** [_hbhbpdf.obj] Error 2
win-make.exe[2]: *** [descend] Error 2
win-make.exe[1]: *** [libhpdf.inst] Error 2
win-make.exe: *** [external.inst] Error 2

Best regards,
Itamar M. Lins Jr.

From bruno.luciani at gmail.com  Sat Oct 31 21:43:22 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sat Oct 31 21:43:31 2009
Subject: [Harbour] Documentation
Message-ID: <133778360910311843x22b2f1f5yfb5d275126aeafcd@mail.gmail.com>

Where I can found Documentation of howto use , sintaxis etc etc of

Tform( )

TDbwindow( )

Tmenu( )


Thanks in advance

Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091031/f17abe23/attachment-0001.html
From harbour.01 at syenar.hu  Sat Oct 31 22:15:53 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Oct 31 22:16:05 2009
Subject: [Harbour] Error making _hbhbpdf.c
In-Reply-To: <hcio3q$2cr$1@ger.gmane.org>
References: <hcio3q$2cr$1@ger.gmane.org>
Message-ID: <2DCA2F75-39A1-49F1-B699-D981D2CF853D@syenar.hu>

You're forcing MSVC compiler, but you don't have it in your PATH.

I'd like to strongly suggest every Windows user to **FORGET**
HB_COMPILER settings. Don't use it, not needed, unnecessary.
It's just a way to mess up things.

Rely on setting up your PATH right and leave the rest to
AUTODETECTION.

Brgds,
Viktor

> Microsoft Windows XP [vers?o 5.1.2600]
> Envar for harbour maker.
>
> HB_COMPILER=msvc
> HB_DIR_NSIS=%ProgramFiles%\NSIS\
> HB_DIR_QT=C:\Qt\2009.04\qt
> HB_DIR_ZIP=C:\info-zip\
> HB_INSTALL_PREFIX=C:\DEV\HARBOUR
> HB_PATH=C:\DEV\HARBOUR
> HB_PLATFORM=win
> HB_WITH_QT=C:\Qt\2009.04\qt\include
>
> c:\>cd\harbour\trunk\harbour
> C:\harbour\trunk\harbour>win-make.exe clean install
>
> ...
>
> cl.exe  -nologo -I. -I../../../../../include -Gs -TC -Ot2b1 -EHs-c- - 
> MT   -IC:/h
> arbour/trunk/harbour/external/zlib -IC:/harbour/trunk/harbour/ 
> external/libpng -D
> UNICODE  -Fo_hbhbpdf.obj -c ../../../_hbhbpdf.c
> process_begin: CreateProcess(NULL, cl.exe -nologo -I. - 
> I../../../../../include -
> Gs -TC -Ot2b1 -EHs-c- -MT -IC:/harbour/trunk/harbour/external/zlib - 
> IC:/harbour/
> trunk/harbour/external/libpng -DUNICODE -Fo_hbhbpdf.obj -c ../../../ 
> _hbhbpdf.c,
> ...) failed.
> make (e=2): O sistema n?o pode encontrar o arquivo especificado.
> win-make.exe[3]: *** [_hbhbpdf.obj] Error 2
> win-make.exe[2]: *** [descend] Error 2
> win-make.exe[1]: *** [libhpdf.inst] Error 2
> win-make.exe: *** [external.inst] Error 2
>
> Best regards,
> Itamar M. Lins Jr.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour


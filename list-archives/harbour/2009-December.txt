From harbour.01 at syenar.hu  Tue Dec  1 02:50:07 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec  1 02:50:24 2009
Subject: [Harbour] src/compiler
In-Reply-To: <20091201034851.GA27888@linux-4bod.home.aster.pl>
References: <20091130213635.GB23446@linux-4bod.home.aster.pl>
	<30FFD1CF-570C-46C0-B62D-FBCC0B896EE0@syenar.hu>
	<20091130221708.GA23876@linux-4bod.home.aster.pl>
	<2D5A866D-6EF6-4A56-B714-7325E91ECC88@syenar.hu>
	<20091130234636.GB24394@linux-4bod.home.aster.pl>
	<97BE9542-5986-42B5-857C-AC0B589268FF@syenar.hu>
	<20091201004930.GA25734@linux-4bod.home.aster.pl>
	<BC9D9D92-DDCA-490C-96D3-20B7C8AF93A3@syenar.hu>
	<20091201024559.GA27188@linux-4bod.home.aster.pl>
	<9FF42A40-A4B6-403A-903E-FD2365E17975@syenar.hu>
	<20091201034851.GA27888@linux-4bod.home.aster.pl>
Message-ID: <EC2BE2ED-AB89-466B-B767-609D16A78B08@syenar.hu>

>>> That's a good question. Maybe the best solution would be to 
>> add it as HB_FSETDEVMODE() and leave FSETDEVMOD() as 
>> a compatibility wrapper.
>> This also helps hbmk2 to build when HB_COMPAT_C53 is disabled.
> 
> So let's add HB_FSETDEVMODE()

Okay. I'll add this one.

>> [ BTW it's not fully compatible, as C5.3 returned the old 
>> dev mode value. ]
> 
> Yes, I know. I think we should change:
>   BOOL hb_fsSetDevMode( HB_FHANDLE hFileHandle, USHORT uiDevMode )
> to:
>   int hb_fsSetDevMode( HB_FHANDLE hFileHandle, int iDevMode )
> 
> and also return previous value or -1 on error and then update FSETDEVMOD()
> to work like in Clipper. I can make such modification.

Thank you, it would very nice.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Dec  1 02:58:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec  1 02:58:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13082] trunk/harbour
Message-ID: <E1NFNcc-0007cu-Jt@3kljzd1.ch3.sourceforge.com>

Revision: 13082
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13082&view=rev
Author:   vszakats
Date:     2009-12-01 07:58:05 +0000 (Tue, 01 Dec 2009)

Log Message:
-----------
2009-12-01 08:57 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/philes.c
  * src/rtl/philes53.c
  * include/hbextern.ch
    + Added HB_FSETDEVMODE(). Documented, always available
      equivalent of C5.3 undocumented function FSETDEVMOD().

  * utils/hbmk2/hbmk2.prg
    * Changed to use HB_FSETDEVMODE().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbextern.ch
    trunk/harbour/src/rtl/philes.c
    trunk/harbour/src/rtl/philes53.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From M.Horodyski at pzuzycie.com.pl  Tue Dec  1 03:21:48 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Tue Dec  1 03:22:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13074] trunk/harbour
In-Reply-To: <4B141EF4.4090007@dbtopas.lt>
References: <E1NFC0U-0008Rg-E7@d5vjzd1.ch3.sourceforge.com>
	<4B141EF4.4090007@dbtopas.lt>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC2C41@PINK.zycie.pzu>

>-----Original Message-----
>From: Mindaugas Kavaliauskas [mailto:dbtopas@dbtopas.lt] 
>Sent: Monday, November 30, 2009 8:37 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] SF.net SVN: harbour-project:[13074] 
>trunk/harbour
>
>Sample test code results. Part 2

A good example would be to use in pdf the fonts to show each country,
with what are sometimes big problems.

Regards,
Marek Horodyski
From lorenzo.fiorini at gmail.com  Tue Dec  1 04:11:43 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Dec  1 04:11:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13071] trunk/harbour
In-Reply-To: <E1NF8Xh-0005i9-6l@bj8yhf1.ch3.sourceforge.com>
References: <E1NF8Xh-0005i9-6l@bj8yhf1.ch3.sourceforge.com>
Message-ID: <9257026e0912010111j436b22d9vbb7c9774f3135adc@mail.gmail.com>

On Mon, Nov 30, 2009 at 4:52 PM,  <druzus@users.sourceforge.net> wrote:

> ?* harbour/bin/hb-func.sh
> ? ?- removed not longer working HB_DB_DRVEXT
> ? ?+ added HB_USER_DLL_ADDONS which can be used to activate rebuilding
> ? ? ?Harbour shared library in postinst phase with additional libraries
> ? ? ?specified by user in above envvar - it's not officially supported
> ? ? ?functionality but temporary workaround until we will not add some
> ? ? ?more generic support for above feature so I do not document it in
> ? ? ?INSTALL

Many thanks, this has removed a local patch.

In hb_getlibs there is still gtxvt, shouldn't it be removed?

best regards,
Lorenzo
From sscc at mweb.co.za  Tue Dec  1 04:36:28 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Dec  1 04:36:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13071] trunk/harbour
In-Reply-To: <609353e70911300859nbdf12cv3027232f6ad22640@mail.gmail.com>
References: <E1NF8Xh-0005i9-6l@bj8yhf1.ch3.sourceforge.com>
	<4B13F3E1.3040001@mweb.co.za>
	<609353e70911300859nbdf12cv3027232f6ad22640@mail.gmail.com>
Message-ID: <4B14E39C.5090504@mweb.co.za>

Massimo Belgrano wrote:

>   can you share your test to better understand?

I am using a commercial DLL supplied to allow redemption and purchase of gift 
vouchers. Many of the functions return arrays of objects (* IUnknown). With 
Przemyslaw's changes (and not to forget the initial and ongoing contributions 
from Mindaugas with ActiveX support and rewriting olecore.c) this kind of OLE 
data is now supported.

To my knowledge Harbour now supports all the forms of OLE data that xHarbour 
supports, plus extras, in a safer way. ActiveX support is now more flexible and 
safer than xHarbour. The C code is compact and clear (well, as clear as OLE code 
ever is for me), allows the proper use of destructors and garbage collection. 
All in all it is a fantastic job.

Regards
Alex



From harbour.01 at syenar.hu  Tue Dec  1 04:42:29 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec  1 04:50:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13071] trunk/harbour
In-Reply-To: <9257026e0912010111j436b22d9vbb7c9774f3135adc@mail.gmail.com>
References: <E1NF8Xh-0005i9-6l@bj8yhf1.ch3.sourceforge.com>
	<9257026e0912010111j436b22d9vbb7c9774f3135adc@mail.gmail.com>
Message-ID: <D5741A82-AF71-46E8-9F20-80BE250BB515@syenar.hu>

My only question here is why such functionality has 
to live inside Harbour SVN? Along with hb-mkdyn.sh, this 
has nothing to do with core Harbour. It also can be solved 
as a user supplied postinst task. hb-mkdyn is a generic 
lib to dynlib converter script, which is also shell and 
compiler specific. (current near self-modifying solution 
to add HB_TOOLS_PREF, icc, and sunos support doesn't look 
very alright to me either). Maybe such hacks are normal 
in the *nix world, but they make these scripts much more 
difficult to decipher than it would normally be.

IMO these features should be kept separate (if it attracts 
many users) or local (if it's just a few users). But in 
any case kept fully separate from core.

I didn't try but such customized harbour dynlibs may 
also break standard build tools like hbmk2.

Along the same lines, we could just as well add support 
to allow addition of user supplied Harbour compiler options 
by injecting new code into the build system, thus creating 
"dynamic forks" of some sort.

I also wonder how these customized Harbour dynlibs are 
supposed to work when Harbour becomes a standard package 
on *nix system and it's installed by simple 
'apt-get install harbour' (or RPM variation). Or is this 
not our goal anymore?

Brgds,
Viktor

On 2009 Dec 1, at 10:11, Lorenzo Fiorini wrote:

> On Mon, Nov 30, 2009 at 4:52 PM,  <druzus@users.sourceforge.net> wrote:
> 
>>  * harbour/bin/hb-func.sh
>>    - removed not longer working HB_DB_DRVEXT
>>    + added HB_USER_DLL_ADDONS which can be used to activate rebuilding
>>      Harbour shared library in postinst phase with additional libraries
>>      specified by user in above envvar - it's not officially supported
>>      functionality but temporary workaround until we will not add some
>>      more generic support for above feature so I do not document it in
>>      INSTALL
> 
> Many thanks, this has removed a local patch.
> 
> In hb_getlibs there is still gtxvt, shouldn't it be removed?
> 
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Dec  1 04:48:00 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec  1 05:00:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13071] trunk/harbour
In-Reply-To: <4B14E39C.5090504@mweb.co.za>
References: <E1NF8Xh-0005i9-6l@bj8yhf1.ch3.sourceforge.com>
	<4B13F3E1.3040001@mweb.co.za>
	<609353e70911300859nbdf12cv3027232f6ad22640@mail.gmail.com>
	<4B14E39C.5090504@mweb.co.za>
Message-ID: <EFF66055-50D7-4D15-8BCD-3862CDF1C1A8@syenar.hu>

>>  can you share your test to better understand?
> 
> I am using a commercial DLL supplied to allow redemption and purchase of gift vouchers. Many of the functions return arrays of objects (* IUnknown). With Przemyslaw's changes (and not to forget the initial and ongoing contributions from Mindaugas with ActiveX support and rewriting olecore.c) this kind of OLE data is now supported.
> 
> To my knowledge Harbour now supports all the forms of OLE data that xHarbour supports, plus extras, in a safer way. ActiveX support is now more flexible and safer than xHarbour. The C code is compact and clear (well, as clear as OLE code ever is for me), allows the proper use of destructors and garbage collection. All in all it is a fantastic job.

Yes, it's a very nice part of Harbour now. Thanks and 
congrats to Mindaugas and Przemek for the hard work on it.

I'd even dare to use it in production at this point :)

[ I'm also not a personal user of it, but similar magic 
would be very nice on .dll support. I tried to lookup 
such code in PERL/Python, but couldn't find out anything 
meaningful by sweeping through their code. ]

Brgds,
Viktor

From maurilio.longo at libero.it  Tue Dec  1 05:03:16 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Dec  1 05:03:32 2009
Subject: [Harbour] src/compiler
In-Reply-To: <20091201034851.GA27888@linux-4bod.home.aster.pl>
References: <20091130213635.GB23446@linux-4bod.home.aster.pl>	<30FFD1CF-570C-46C0-B62D-FBCC0B896EE0@syenar.hu>	<20091130221708.GA23876@linux-4bod.home.aster.pl>	<2D5A866D-6EF6-4A56-B714-7325E91ECC88@syenar.hu>	<20091130234636.GB24394@linux-4bod.home.aster.pl>	<97BE9542-5986-42B5-857C-AC0B589268FF@syenar.hu>	<20091201004930.GA25734@linux-4bod.home.aster.pl>	<BC9D9D92-DDCA-490C-96D3-20B7C8AF93A3@syenar.hu>	<20091201024559.GA27188@linux-4bod.home.aster.pl>	<9FF42A40-A4B6-403A-903E-FD2365E17975@syenar.hu>
	<20091201034851.GA27888@linux-4bod.home.aster.pl>
Message-ID: <4B14E9E4.8060308@libero.it>

Good morning Przemyslaw and Viktor,

first of all you have to answer a question I'm asking myself since a long
time: how are you able to avoid sleeping and still be able to write such good
code?? I see messages of yours during all night: 00.46, 01.17, 01.49, 02.53,
03.45, 04.17, 04.48, 08.50!!

That said, it works now like a charm:

(E:\REPOSITORY\HARBOUR\tests)hbmk2 -mt speedtst.prg
hbmk2: Processing environment options: -mt -compiler=gcc
hbmk2: Processing configuration: E:\harbour\bin\hbmk.cfg
Harbour 2.0.0beta3 (Rev. 13082)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'speedtst.prg'...
Lines 1204, Functions/Procedures 79
Generating C source output to 'speedtst.c'... Done.

Thanks so much guys.

Maurilio.


Przemys?aw Czerpak wrote:
> On Tue, 01 Dec 2009, Szak?ts Viktor wrote:
>>> Fine. Please also check
>>>   tst.exe | grep .
>>> to check the results for pipes.
>>> I've just check that in DOS OpenWatcom builds it works as we want.
>> Works fine with mingw + cmd.exe.
>> Also works fine with mingw + msys.
> 
> In DJGPP builds with COMMAND.COM and BASH also works as expected
> so only OS/2 builds should be verified yet.
> 
>>>>> Oops. I've forgot that FD_* constants are in .ch file for CL53 FSETDEVMOD()
>>>>> functions so we already have everything in core code so please simply add:
>>>>>  FSETDEVMOD( 1, FD_TEXT )
>>>>>  FSETDEVMOD( 2, FD_TEXT )
>>>>> or if you want to make it in more generic way which will work also for
>>>>> multi GT output (i.e. with some code which allocates many different GTCGI
>>>>> drivers with different redirection) then make:
>>>>>  FSETDEVMOD( hb_gtInfo( HB_GTI_OUTPUTFD ), FD_TEXT )
>>>>>  FSETDEVMOD( hb_gtInfo( HB_GTI_ERRORFD ), FD_TEXT )
>>>> Will commit it ASAP, I hope Maurilio can test it then.
>>> I tested DOS OpenWatcom builds and it resolved the problem.
> 
> Also in DJGPP builds.
> 
>>> BTW in most of cases we expanded names of Clipper functions cut to 10
>>> characters, i.e. dbSelectArea(). Maybe we should also change FSetDevMod()
>>> to FSetDevMode()?
>> That's a good question. Maybe the best solution would be to 
>> add it as HB_FSETDEVMODE() and leave FSETDEVMOD() as 
>> a compatibility wrapper.
>> This also helps hbmk2 to build when HB_COMPAT_C53 is disabled.
> 
> So let's add HB_FSETDEVMODE()
> 
>> [ BTW it's not fully compatible, as C5.3 returned the old 
>> dev mode value. ]
> 
> Yes, I know. I think we should change:
>    BOOL hb_fsSetDevMode( HB_FHANDLE hFileHandle, USHORT uiDevMode )
> to:
>    int hb_fsSetDevMode( HB_FHANDLE hFileHandle, int iDevMode )
> 
> and also return previous value or -1 on error and then update FSETDEVMOD()
> to work like in Clipper. I can make such modification.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Tue Dec  1 05:10:37 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec  1 05:10:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <4B147C4F.4040903@dbtopas.lt>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>	<78692719-27AE-4092-8784-425BA8F94042@syenar.hu>	<4B144033.50604@dbtopas.lt>	<B74D0066-8047-4A68-BE50-BB3AA3535909@syenar.hu>	<4B145252.2030205@dbtopas.lt>	<6897AAAF-BF8D-41AF-ABC5-346163386983@syenar.hu>	<4B145F3E.8050501@dbtopas.lt>	<2F4F3B1A-E3CB-48D0-AEAB-9B9BB9CB68B0@syenar.hu>	<4B146362.9020409@dbtopas.lt>
	<994F807E-D192-478B-8560-69F71A0D113A@syenar.hu>
	<4B147C4F.4040903@dbtopas.lt>
Message-ID: <0F4FAF90-1BED-4C1E-854E-FB6FE0674195@syenar.hu>

Hi Mindaugas,

> Viktor Szak?ts wrote:
>> BTW, I managed to build fancytxt using bcc 5.5 and it works with the same .dlls which failed so badly with mingw.
> 
>> Application Internal Error - F:\work\harbour\harbour\contrib\hbcairo\tests\fancytxt.exe
>> Terminated at: 2009.11.30 22:44:06
>> Unrecoverable error 6005: Exception error: 
> 
> I'll try to make a guess :) Force rebuilding of hbvm library and mingw will work. You get GPF in hb_strfree(). VM library was not rebuild because hbvmall.c is not touched.

Good guess, my MinGW draft-build was flaky.

It was enough to rebuild hbvm. Now it's okay, sorry for the mis-report.

Brgds,
Viktor

From dmacias at mail.udg.mx  Tue Dec  1 05:35:59 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Tue Dec  1 05:36:35 2009
Subject: [Harbour] Re: src/compiler
Message-ID: <4B14F18F.5050906@mail.udg.mx>

Przemek:

 >We should make some tests. Also in OS/2 for GCC and OpenWatcom builds.
 >This code can be used for tests:

 >   proc main()
 >   ? "0:", HB_FISDEVICE( 0 )
 >   ? "1:", HB_FISDEVICE( 1 )
 >   ? "2:", HB_FISDEVICE( 2 )
 >   return
 >   #pragma begindump
 >   #include "hbapifs.h"
 >   HB_FUNC( HB_FISDEVICE )
 >   {
 >      hb_retl( hb_fsIsDevice( hb_numToHandle( hb_parnint( 1 ) ) ) );
 >   }
 >   #pragma enddump

[E:\harbour911b\harbour\bin\os2\watcom]pba2.exe

0: .T.
1: .T.
2: .T.
[E:\harbour911b\harbour\bin\os2\watcom]pba2.exe > pba2.txt

0: .T.
1: .F.
2: .T.
[E:\harbour911b\harbour\bin\os2\watcom]pba2.exe 2> pba2.txt

0: .T.
1: .T.
2: .F.

 >In DJGPP builds with COMMAND.COM and BASH also works as expected
 >so only OS/2 builds should be verified yet.

Below are results using OpenWatcom, current and older Harbour

Why empty lines between ?
-------
100

200

300
[...]
-------

David Macias


hbmk2 speedtst.prg
==================

hbmk2: Processing environment options: -compiler=watcom
Harbour 2.0.0beta3 (Rev. 13082)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'speedtst.prg'...
Lines 1204, Functions/Procedures 79
Generating C source output to 'speedtst.c'... Done.


hbmk2 speedtst.prg > sale.txt 2>&1
==================

hbmk2: Processing environment options: -compiler=watcom
Harbour 2.0.0beta3 (Rev. 13082)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'speedtst.prg'...

100

200

300

400

500

600

700

800

900

1000

Lines 1204, Functions/Procedures 79
Generating C source output to 'speedtst.c'... Done.



hbmk2 speedtst.prg
==================

hbmk2: Processing environment options: -compiler=watcom
Harbour 2.0.0beta3 (Rev. 12894)
                                Copyright (c) 1999-2009, 
http://www.harbour-proje
ct.org/
        Compiling 'speedtst.prg'...
Lines 1204, Functions/Procedures 79
                                    Generating C source output to 
'speedtst.c'...
  Done.


hbmk2 speedtst.prg > sale.txt 2>&1
==================

hbmk2: Processing environment options: -compiler=watcom 

Harbour 2.0.0beta3 (Rev. 12894)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'speedtst.prg'...

100

200

300

400

500

600

700

800

900

1000

Lines 1204, Functions/Procedures 79
Generating C source output to 'speedtst.c'... Done.



From druzus at acn.waw.pl  Tue Dec  1 06:16:41 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec  1 06:16:48 2009
Subject: [Harbour] Re: src/compiler
In-Reply-To: <4B14F18F.5050906@mail.udg.mx>
References: <4B14F18F.5050906@mail.udg.mx>
Message-ID: <20091201111641.GA14406@linux-4bod.home.aster.pl>

On Tue, 01 Dec 2009, David Arturo Macias Corona wrote:

Hi,

> [E:\harbour911b\harbour\bin\os2\watcom]pba2.exe
> 0: .T.
> 1: .T.
> 2: .T.
> [E:\harbour911b\harbour\bin\os2\watcom]pba2.exe > pba2.txt
> 0: .T.
> 1: .F.
> 2: .T.
> [E:\harbour911b\harbour\bin\os2\watcom]pba2.exe 2> pba2.txt
> 0: .T.
> 1: .T.
> 2: .F.

Thank you and Maurilio.
So we can use it to detect redirection on all platforms.

> >In DJGPP builds with COMMAND.COM and BASH also works as expected
> >so only OS/2 builds should be verified yet.
> Below are results using OpenWatcom, current and older Harbour
> 
> Why empty lines between ?
> -------
> 100
> 
> 200
> 
> 300
> [...]
> -------

I guess you are talking about context of some file to which
you redirected output. Just like in Clipper this lines are
shown using:
   chr(13) + <nline> + chr( 13 ) + chr( 13 ) + <nline> ...
and your editor or program you used to view that file presents
chr(13) as new line.

> hbmk2 speedtst.prg
> ==================
> 
> hbmk2: Processing environment options: -compiler=watcom
> Harbour 2.0.0beta3 (Rev. 13082)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'speedtst.prg'...
> Lines 1204, Functions/Procedures 79
> Generating C source output to 'speedtst.c'... Done.

Very good.

> hbmk2 speedtst.prg > sale.txt 2>&1
> ==================
> hbmk2: Processing environment options: -compiler=watcom
> Harbour 2.0.0beta3 (Rev. 13082)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'speedtst.prg'...
> 
> 100
> 
> 200
> 
> 300
> 
> 400
> 
> 500
> 
> 600
> 
> 700
> 
> 800
> 
> 900
> 
> 1000
> 
> Lines 1204, Functions/Procedures 79
> Generating C source output to 'speedtst.c'... Done.

If you change editor or viewer to one which does not accept
single chr(10) or chr(13) as EOL but only sequence chr(13)+chr(10)
then you will see the difference just like on the screen.
I.e. try:
   type sale.txt

best regards,
Przemek
From vszakats at users.sourceforge.net  Tue Dec  1 06:21:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec  1 06:21:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13083] trunk/harbour
Message-ID: <E1NFQnT-0002Dh-7F@3kljzd1.ch3.sourceforge.com>

Revision: 13083
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13083&view=rev
Author:   vszakats
Date:     2009-12-01 11:21:30 +0000 (Tue, 01 Dec 2009)

Log Message:
-----------
2009-12-01 12:21 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    % "De-xmastree"-d two more if/else structures.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Tue Dec  1 06:44:08 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Tue Dec  1 06:44:27 2009
Subject: [Harbour] Re: src/compiler
Message-ID: <4B150188.3090706@mail.udg.mx>

Przemek:

 >I guess you are talking about context of some file to which
 >you redirected output. Just like in Clipper this lines are
 >shown using:
 >   chr(13) + <nline> + chr( 13 ) + chr( 13 ) + <nline> ...
 >and your editor or program you used to view that file presents
 >chr(13) as new line.

 >If you change editor or viewer to one which does not accept
 >single chr(10) or chr(13) as EOL but only sequence chr(13)+chr(10)
 >then you will see the difference just like on the screen.
 >I.e. try:
 >   type sale.txt

--------------------
[E:\harbour911b\harbour\bin\os2\watcom]type sale.txt
hbmk2: Processing environment options: -compiler=watcom
Harbour 2.0.0beta3 (Rev. 13082)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'speedtst.prg'...
Lines 1204, Functions/Procedures 79
Generating C source output to 'speedtst.c'... Done.
--------------------

Funny. So:

-------
100

200

300
[...]
-------

are "hidden"/overlapped even they exist on sale.txt file

EPM, E, jEdit editors show
-------
100

200

300
[...]
-------

while TEDIT editor show a line with two "flags" symbols between line numbers

Now is more clear why you suggested long time ago to redirect to file to 
see all output
Even "TYPE sale.txt" can confuse  :-)

David Macias



From dmacias at mail.udg.mx  Tue Dec  1 06:46:30 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Tue Dec  1 06:46:49 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
Message-ID: <4B150216.10209@mail.udg.mx>

Przemek:

I have not seen response

David Macias


Przemek:

>I know but the problem seems to be inside OpenWatcom code and for me it
>looks like OpenWatcom bug which probably can be quite easy fixed but
>I need more information to be sure.

///

>Thank you very much. So now we know that we can remove -s as
>workaround. Unfortunately it causes very big speed overhead. Much
>bigger then in Linux where removing -s reduce the speed only ~24
>percent. It's 363% what is even bigger then in Windows (295% in my
>test).

That increase in Windows is surprise for me, so problem are not in OS/2 only

>Now I would like to check if -s is necessary as global switch or it
>can be used locally only for GT2OS2 code.
>Please restore -s switch (just like in clean SVN code) and then
>add to src/rtl/gtos2/Makefile[5] this line:

>   HB_BUILD_OPTIM := no

>It should disable optimization switches.
>Then check if speedtst works in MT mode.

  src\rtl\gtos2\Makefile does not have HB_BUILD_OPTIM

I used:
  set HB_BUILD_OPTIM=no

Tests with
   speedtst.exe --thread ...
fails as before with GPF:
-----------------
SYS1808:
The process has stopped.  The software diagnostic
code (exception code) is  0001.
-----------------

Below are results using:
------------------------
    hbmk2 -m -n -w -es2 -l -kmo -gc3 speedtst.prg
       speedtst.exe
    hbmk2 -m -n -w -es2 -l -kmo -gc3 -mt speedtst.prg
       speedtst.exe
       speedtst.exe --thread
       speedtst.exe --thread=2 --scale
------------------------

David Macias


2009.11.28 08:22:22 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13035) Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.00
====================================================================
[ T001: x := L_C ]..............................................0.03
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.06
[ T004: x := S_C ]..............................................0.06
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.06
[ T007: x := M->M_C ]...........................................0.06
[ T008: x := M->M_N ]...........................................0.06
[ T009: x := M->M_D ]...........................................0.06
[ T010: x := M->P_C ]...........................................0.06
[ T011: x := M->P_N ]...........................................0.06
[ T012: x := M->P_D ]...........................................0.06
[ T013: x := F_C ]..............................................0.13
[ T014: x := F_N ]..............................................0.16
[ T015: x := F_D ]..............................................0.10
[ T016: x := o:Args ]...........................................0.13
[ T017: x := o[2] ].............................................0.10
[ T018: round( i / 1000, 2 ) ]..................................0.19
[ T019: str( i / 1000 ) ].......................................0.39
[ T020: val( s ) ]..............................................0.19
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.29
[ T022: dtos( d - i % 10000 ) ].................................0.32
[ T023: eval( { || i % 16 } ) ].................................0.26
[ T024: eval( bc := { || i % 16 } ) ]...........................0.16
[ T025: eval( { |x| x % 16 }, i ) ].............................0.23
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.19
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.26
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.23
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.23
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................1.87
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................2.00
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.32
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.52
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.19
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.23
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.23
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.23
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.23
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.23
[ T040: ascan( a, i % 16 ) ]....................................0.26
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................1.87
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.52
[ T043: x := a ]................................................0.06
[ T044: x := {} ]...............................................0.10
[ T045: f0() ]..................................................0.06
[ T046: f1( i ) ]...............................................0.13
[ T047: f2( c[1...8] ) ]........................................0.10
[ T048: f2( c[1...40000] ) ]....................................0.10
[ T049: f2( @c[1...40000] ) ]...................................0.10
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.10
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.29
[ T052: f2( a ) ]...............................................0.06
[ T053: x := f4() ].............................................0.61
[ T054: x := f5() ].............................................0.16
[ T055: x := space(16) ]........................................0.13
[ T056: f_prv( c ) ]............................................0.23
====================================================================
[ total application time: ]....................................15.35
[ total real time: ]...........................................15.35

2009.11.28 08:22:41 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13035) (MT) Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.06
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.03
[ T004: x := S_C ]..............................................0.06
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.06
[ T008: x := M->M_N ]...........................................0.03
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.10
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.03
[ T013: x := F_C ]..............................................0.19
[ T014: x := F_N ]..............................................0.13
[ T015: x := F_D ]..............................................0.10
[ T016: x := o:Args ]...........................................0.16
[ T017: x := o[2] ].............................................0.10
[ T018: round( i / 1000, 2 ) ]..................................0.19
[ T019: str( i / 1000 ) ].......................................0.45
[ T020: val( s ) ]..............................................0.23
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.35
[ T022: dtos( d - i % 10000 ) ].................................0.35
[ T023: eval( { || i % 16 } ) ].................................0.48
[ T024: eval( bc := { || i % 16 } ) ]...........................0.19
[ T025: eval( { |x| x % 16 }, i ) ].............................0.32
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.23
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.39
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.29
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.29
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................3.06
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................3.26
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.39
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.61
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.32
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.35
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.32
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.32
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.35
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.32
[ T040: ascan( a, i % 16 ) ]....................................0.29
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................2.87
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.94
[ T043: x := a ]................................................0.06
[ T044: x := {} ]...............................................0.16
[ T045: f0() ]..................................................0.06
[ T046: f1( i ) ]...............................................0.10
[ T047: f2( c[1...8] ) ]........................................0.13
[ T048: f2( c[1...40000] ) ]....................................0.13
[ T049: f2( @c[1...40000] ) ]...................................0.06
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.16
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.42
[ T052: f2( a ) ]...............................................0.13
[ T053: x := f4() ].............................................0.68
[ T054: x := f5() ].............................................0.23
[ T055: x := space(16) ]........................................0.19
[ T056: f_prv( c ) ]............................................0.48
====================================================================
[ total application time: ]....................................23.35
[ total real time: ]...........................................23.43

2009.11.28 08:23:05 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13035) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
2009.11.28 08:23:05 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13035) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: 2
N_LOOPS: 1000000
                                                         1 th.  2 th.
factor
============================================================================



From M.Horodyski at pzuzycie.com.pl  Tue Dec  1 06:52:48 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Tue Dec  1 06:53:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13028] trunk/harbour
In-Reply-To: <26544934.post@talk.nabble.com>
References: <E1NDiHm-0008Mg-I5@74yxhf1.ch3.sourceforge.com><2E4EF95F-9A74-4488-9340-1F9696884678@syenar.hu><26534421.post@talk.nabble.com><DFDD1832-AC33-4C0E-B3A9-49A157E40C04@syenar.hu><FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC2965@PINK.zycie.pzu>
	<26544934.post@talk.nabble.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC2D16@PINK.zycie.pzu>

>-----Original Message-----
>From: Pritpal Bedi [mailto:bedipritpal@hotmail.com] 
>Sent: Friday, November 27, 2009 5:49 PM
>To: harbour@harbour-project.org
>Subject: RE: [Harbour] SF.net SVN: harbour-project:[13028] 
>trunk/harbour
>
>
>Hi
>
>
>Horodyski Marek (PZUZ) wrote:
>> 
>> In GTWVG i must from time to time hit right alt key, because cursor 
>> keys don't work.
>> After push right alt key, all returns to normal.
>> 
>
>I never experienced such activity so far.
>If you can reduce it to some compilable code I can check.
>
>Regards
>Pritpal Bedi

I have an example! :)

/* test.prg, try it with GTWVG, GTWVT on WinXP */

Function Main()
Local key
#include "inkey.ch"

KSetCaps( .t.)
Cls
? 'press and release the left alt and then press the arrow keys,'
? 'then press and release right alt and then press the arrow keys.
? 'When there is no difference - 3x repeat the test.'

? 'Hit any key, ESC edns ...'

While ( key := InKey( 0, INKEY_ALL)) != 27
 ? key
End
__Wait( '...?')
Return Nil

/* eof */

Regards,
Marek Horodyski
From sscc at mweb.co.za  Tue Dec  1 07:21:41 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Dec  1 07:21:52 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <20091130192308.GA22293@linux-4bod.home.aster.pl>
References: <20091127025737.GA511@linux-4bod.home.aster.pl>	<4B0F4142.3040808@dbtopas.lt>	<20091127031024.GA1265@linux-4bod.home.aster.pl>	<20091127031751.GA1504@linux-4bod.home.aster.pl>	<4B0F458B.50201@dbtopas.lt>
	<4B0F93B7.7000208@mweb.co.za>	<4B0F9607.2030804@mweb.co.za>	<20091127175338.GA22154@linux-4bod.home.aster.pl>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297D@PINK.zycie.pzu>	<CC630377-92FA-40E2-9542-5A32C23F68B6@syenar.hu>
	<20091130192308.GA22293@linux-4bod.home.aster.pl>
Message-ID: <4B150A55.5040208@mweb.co.za>

Przemys?aw Czerpak wrote:

> BTW I'm still waiting for verification of reported RDDADO problems
> with current HBWIN OLE code. Can some MS-Windows users check it?

It is not in current SVN, I copied adordd.prg, and adordd.ch and 
tests\access1.prg from an old backup:

  * $Id: adordd.prg 10183 2009-02-05 09:21:52Z vszakats $
  * $Id: adordd.ch 9997 2008-12-23 02:08:51Z druzus $
  * $Id: access1.prg 9217 2008-08-23 15:02:49Z vszakats $

I altered access1.prg slightly to match xbrtest.mdb which I had from the ado 
test recently:

/*
  * $Id: access1.prg 9217 2008-08-23 15:02:49Z vszakats $
  */

#include "adordd.ch"

REQUEST ADORDD

function Main()

    USE xbrtest.mdb VIA "ADORDD" TABLE "Customer"

    Browse()

    USE

return nil

It appears to work very well, the browse showing me all the customer details. I 
think it should be restored to SVN.

Thanks and regards
Alex Strickland
From harbour.01 at syenar.hu  Tue Dec  1 07:38:36 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec  1 07:38:47 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <4B150A55.5040208@mweb.co.za>
References: <20091127025737.GA511@linux-4bod.home.aster.pl>	<4B0F4142.3040808@dbtopas.lt>	<20091127031024.GA1265@linux-4bod.home.aster.pl>	<20091127031751.GA1504@linux-4bod.home.aster.pl>	<4B0F458B.50201@dbtopas.lt>
	<4B0F93B7.7000208@mweb.co.za>	<4B0F9607.2030804@mweb.co.za>	<20091127175338.GA22154@linux-4bod.home.aster.pl>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297D@PINK.zycie.pzu>	<CC630377-92FA-40E2-9542-5A32C23F68B6@syenar.hu>
	<20091130192308.GA22293@linux-4bod.home.aster.pl>
	<4B150A55.5040208@mweb.co.za>
Message-ID: <8E9240C4-09D4-4B75-889A-C808D7FD9732@syenar.hu>

>> BTW I'm still waiting for verification of reported RDDADO problems
>> with current HBWIN OLE code. Can some MS-Windows users check it?
> 
> It is not in current SVN, I copied adordd.prg, and adordd.ch and tests\access1.prg from an old backup:
> 
> * $Id: adordd.prg 10183 2009-02-05 09:21:52Z vszakats $
> * $Id: adordd.ch 9997 2008-12-23 02:08:51Z druzus $
> * $Id: access1.prg 9217 2008-08-23 15:02:49Z vszakats $

Can you try with the copy in 'examples/rddado' and tests 
under 'tests'.

It was never removed, only moved. The sources you tested 
are older versions.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Dec  1 07:53:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec  1 07:53:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13084] trunk/harbour
Message-ID: <E1NFSE4-0000Hx-8n@d5vjzd1.ch3.sourceforge.com>

Revision: 13084
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13084&view=rev
Author:   vszakats
Date:     2009-12-01 12:53:03 +0000 (Tue, 01 Dec 2009)

Log Message:
-----------
2009-12-01 13:52 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * examples/rddado/adordd.prg
  * examples/rddado/adordd.ch
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/examples/rddado/adordd.ch
    trunk/harbour/examples/rddado/adordd.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Tue Dec  1 08:05:31 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Dec  1 08:05:42 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <8E9240C4-09D4-4B75-889A-C808D7FD9732@syenar.hu>
References: <20091127025737.GA511@linux-4bod.home.aster.pl>	<4B0F4142.3040808@dbtopas.lt>	<20091127031024.GA1265@linux-4bod.home.aster.pl>	<20091127031751.GA1504@linux-4bod.home.aster.pl>	<4B0F458B.50201@dbtopas.lt>	<4B0F93B7.7000208@mweb.co.za>	<4B0F9607.2030804@mweb.co.za>	<20091127175338.GA22154@linux-4bod.home.aster.pl>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297D@PINK.zycie.pzu>	<CC630377-92FA-40E2-9542-5A32C23F68B6@syenar.hu>	<20091130192308.GA22293@linux-4bod.home.aster.pl>	<4B150A55.5040208@mweb.co.za>
	<8E9240C4-09D4-4B75-889A-C808D7FD9732@syenar.hu>
Message-ID: <4B15149B.3010309@mweb.co.za>

Viktor Szak?ts wrote:

> Can you try with the copy in 'examples/rddado' and tests
> under 'tests'.

OK, got them. access1.prg fails with :

Error OLE/3012  Argument error: OPEN (DOS Error -2147352567)
Called from WIN_OLEAUTO:OPEN(0)

If I replace this line:

    USE test.mdb VIA "ADORDD" TABLE "Tabla1"

with:

    USE xbrtest.mdb VIA "ADORDD" TABLE "Customer"

it works. Perhaps test.mdb is broken?

access2.prg creates test2.mdb ok. On exiting it fails with:

Error OLE/3012  Argument error: FIND (DOS Error -2147352567)
Called from WIN_OLEAUTO:FIND(0)
Called from ADO_LOCATE(1009)
Called from __DBLOCATE(0)
Called from MAIN(34)

mysql1.prg :

Error OLE/3012  Argument error: OPEN (DOS Error -2147352567)
Called from WIN_OLEAUTO:OPEN(0)
Called from ADO_OPEN(312)
Called from DBUSEAREA(0)
Called from MAIN(12)

mysql.prg is the same except MAIN(14)

Regards
Alex

From harbour.01 at syenar.hu  Tue Dec  1 08:19:23 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec  1 08:19:34 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <4B15149B.3010309@mweb.co.za>
References: <20091127025737.GA511@linux-4bod.home.aster.pl>	<4B0F4142.3040808@dbtopas.lt>	<20091127031024.GA1265@linux-4bod.home.aster.pl>	<20091127031751.GA1504@linux-4bod.home.aster.pl>	<4B0F458B.50201@dbtopas.lt>	<4B0F93B7.7000208@mweb.co.za>	<4B0F9607.2030804@mweb.co.za>	<20091127175338.GA22154@linux-4bod.home.aster.pl>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297D@PINK.zycie.pzu>	<CC630377-92FA-40E2-9542-5A32C23F68B6@syenar.hu>	<20091130192308.GA22293@linux-4bod.home.aster.pl>	<4B150A55.5040208@mweb.co.za>
	<8E9240C4-09D4-4B75-889A-C808D7FD9732@syenar.hu>
	<4B15149B.3010309@mweb.co.za>
Message-ID: <6257E932-46DD-4F25-82C8-A6A45A3DB730@syenar.hu>

Hi Alex,

>   USE test.mdb VIA "ADORDD" TABLE "Tabla1"
> 
> with:
> 
>   USE xbrtest.mdb VIA "ADORDD" TABLE "Customer"
> 
> it works. Perhaps test.mdb is broken?

Could be. Or it simply doesn't find it. But your 
next example suggest that it's the former.

BTW: "broken", I've fixed this file at least once 
already, and I'm sure it was working back then, so 
maybe it's also possible that such .mdb files 
aren't compatible with every db driver? I suspect 
some hidden dependency here or IOW that .mdb isn't 
a stable format, but more like .doc which tends to 
break compatibility every now and then.

Fixing it looks to be futile to me, so I'm leaving 
this to .mdb experts/users.

> access2.prg creates test2.mdb ok. On exiting it fails with:
> 
> Error OLE/3012  Argument error: FIND (DOS Error -2147352567)
> Called from WIN_OLEAUTO:FIND(0)
> Called from ADO_LOCATE(1009)
> Called from __DBLOCATE(0)
> Called from MAIN(34)
> 
> mysql1.prg :
> 
> Error OLE/3012  Argument error: OPEN (DOS Error -2147352567)
> Called from WIN_OLEAUTO:OPEN(0)
> Called from ADO_OPEN(312)
> Called from DBUSEAREA(0)
> Called from MAIN(12)
> 
> mysql.prg is the same except MAIN(14)

Thank you. So there still seem to be some things broken 
after whichever update, my suspect is still the xhb sync job.

I see no point in moving it back to contrib until someone 
takes a plunge into this and known problems get fixed.

[ The second one maybe just real open error, it's pointing 
to some external service. ]

Brgds,
Viktor

From qiinfo at ig.com.br  Tue Dec  1 08:21:34 2009
From: qiinfo at ig.com.br (Rossine)
Date: Tue Dec  1 08:21:40 2009
Subject: [Harbour] Ace.lib not generate in last version
Message-ID: <26591636.post@talk.nabble.com>


Hello,

I not see ace.lib in last version. 

Regards,

Rossine.

-- 
View this message in context: http://old.nabble.com/Ace.lib-not-generate-in-last-version-tp26591636p26591636.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Dec  1 08:26:55 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec  1 08:27:05 2009
Subject: [Harbour] Ace.lib not generate in last version
In-Reply-To: <26591636.post@talk.nabble.com>
References: <26591636.post@talk.nabble.com>
Message-ID: <8F582B11-70C0-406F-8D9F-47C1CFF52B44@syenar.hu>

Pls see:
2009-11-30 11:51 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)

Brgds,
Viktor

On 2009 Dec 1, at 14:21, Rossine wrote:

> 
> Hello,
> 
> I not see ace.lib in last version. 
> 
> Regards,
> 
> Rossine.
> 
> -- 
> View this message in context: http://old.nabble.com/Ace.lib-not-generate-in-last-version-tp26591636p26591636.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From jfl at mafact.com  Tue Dec  1 08:47:00 2009
From: jfl at mafact.com (J. Lefebvre)
Date: Tue Dec  1 08:47:41 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <6257E932-46DD-4F25-82C8-A6A45A3DB730@syenar.hu>
Message-ID: <d4fa6aa7.1ca728c.1a8abc38.12db@mafact.com>

Hummmm, not sure it is really related to a problem with ADORDD (see dos error).

I have exactly the same error trying to access Crystal report runtime XI.

   Error occurred at: 01/12/2009, 14:26:32
   Error description: (DOS Error -2147352567) OLE/3012  Argument error: SETREPORTVARIABLEVALUE

   Args:
     [   1] = C   FADEVCUR
     [   2] = C   True

Stack Calls
===========
   Called from:  => WIN_OLEAUTO:SETREPORTVARIABLEVALUE(0)
   Called from: crwcole.prg => CRW:SETFORMULA(848)

I checked documentation at least 1 million time, arguments I send to "SetReportVariableValue" are ok.

I suspect some argument type error in ole implementation.

Ole2TxtError() give DISP_E_EXCEPTION but I'm not sure it is related.


JF

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Viktor Szak?ts
Envoy??: mardi 1 d?cembre 2009 14:19
??: Harbour Project Main Developer List.
Objet?: Re: [Harbour] Problem in OLE implementation

Hi Alex,

>   USE test.mdb VIA "ADORDD" TABLE "Tabla1"
> 
> with:
> 
>   USE xbrtest.mdb VIA "ADORDD" TABLE "Customer"
> 
> it works. Perhaps test.mdb is broken?

Could be. Or it simply doesn't find it. But your 
next example suggest that it's the former.

BTW: "broken", I've fixed this file at least once 
already, and I'm sure it was working back then, so 
maybe it's also possible that such .mdb files 
aren't compatible with every db driver? I suspect 
some hidden dependency here or IOW that .mdb isn't 
a stable format, but more like .doc which tends to 
break compatibility every now and then.

Fixing it looks to be futile to me, so I'm leaving 
this to .mdb experts/users.

> access2.prg creates test2.mdb ok. On exiting it fails with:
> 
> Error OLE/3012  Argument error: FIND (DOS Error -2147352567)
> Called from WIN_OLEAUTO:FIND(0)
> Called from ADO_LOCATE(1009)
> Called from __DBLOCATE(0)
> Called from MAIN(34)
> 
> mysql1.prg :
> 
> Error OLE/3012  Argument error: OPEN (DOS Error -2147352567)
> Called from WIN_OLEAUTO:OPEN(0)
> Called from ADO_OPEN(312)
> Called from DBUSEAREA(0)
> Called from MAIN(12)
> 
> mysql.prg is the same except MAIN(14)

Thank you. So there still seem to be some things broken 
after whichever update, my suspect is still the xhb sync job.

I see no point in moving it back to contrib until someone 
takes a plunge into this and known problems get fixed.

[ The second one maybe just real open error, it's pointing 
to some external service. ]

Brgds,
Viktor

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From dbtopas at dbtopas.lt  Tue Dec  1 08:59:44 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Dec  1 09:01:32 2009
Subject: [Harbour] src/compiler
In-Reply-To: <4B14E9E4.8060308@libero.it>
References: <20091130213635.GB23446@linux-4bod.home.aster.pl>	<30FFD1CF-570C-46C0-B62D-FBCC0B896EE0@syenar.hu>	<20091130221708.GA23876@linux-4bod.home.aster.pl>	<2D5A866D-6EF6-4A56-B714-7325E91ECC88@syenar.hu>	<20091130234636.GB24394@linux-4bod.home.aster.pl>	<97BE9542-5986-42B5-857C-AC0B589268FF@syenar.hu>	<20091201004930.GA25734@linux-4bod.home.aster.pl>	<BC9D9D92-DDCA-490C-96D3-20B7C8AF93A3@syenar.hu>	<20091201024559.GA27188@linux-4bod.home.aster.pl>	<9FF42A40-A4B6-403A-903E-FD2365E17975@syenar.hu>	<20091201034851.GA27888@linux-4bod.home.aster.pl>
	<4B14E9E4.8060308@libero.it>
Message-ID: <4B152150.1010104@dbtopas.lt>

Maurilio Longo wrote:
> Good morning Przemyslaw and Viktor,
> 
> first of all you have to answer a question I'm asking myself since a long
> time: how are you able to avoid sleeping and still be able to write such good
> code?? I see messages of yours during all night: 00.46, 01.17, 01.49, 02.53,
> 03.45, 04.17, 04.48, 08.50!!


If you look more closely to the numbers, you'll see a 4 hours sleep 
interval between 04:48 and 08:50 :)


Regards,
Mindaugas
From druzus at acn.waw.pl  Tue Dec  1 09:09:54 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec  1 09:10:01 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <d4fa6aa7.1ca728c.1a8abc38.12db@mafact.com>
References: <6257E932-46DD-4F25-82C8-A6A45A3DB730@syenar.hu>
	<d4fa6aa7.1ca728c.1a8abc38.12db@mafact.com>
Message-ID: <20091201140954.GA17657@linux-4bod.home.aster.pl>

On Tue, 01 Dec 2009, J. Lefebvre wrote:

Hi,

> Hummmm, not sure it is really related to a problem with ADORDD (see dos error).
> I have exactly the same error trying to access Crystal report runtime XI.
>    Error occurred at: 01/12/2009, 14:26:32
>    Error description: (DOS Error -2147352567) OLE/3012  Argument error: SETREPORTVARIABLEVALUE
>    Args:
>      [   1] = C   FADEVCUR
>      [   2] = C   True
> Stack Calls
> ===========
>    Called from:  => WIN_OLEAUTO:SETREPORTVARIABLEVALUE(0)
>    Called from: crwcole.prg => CRW:SETFORMULA(848)
> I checked documentation at least 1 million time, arguments I send to "SetReportVariableValue" are ok.

All OLE errors have 'Argument error' in description so it does not
give you any valuable information.

> I suspect some argument type error in ole implementation.

I do not think so. At least the information you presented suggest that
it's not Harbour problem at all.

> Ole2TxtError() give DISP_E_EXCEPTION but I'm not sure it is related.

And this it the only one important information. This error is reported
by OLE object from Invoke() method and you should check in OLE object
documentation for the reasons why calling method:
   SETREPORTVARIABLEVALUE( "FADEVCUR", "True" )
generates above error. This happens outside Harbour code.

best regards,
Przemek
From dbtopas at dbtopas.lt  Tue Dec  1 09:13:57 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Dec  1 09:15:43 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <6257E932-46DD-4F25-82C8-A6A45A3DB730@syenar.hu>
References: <20091127025737.GA511@linux-4bod.home.aster.pl>	<4B0F4142.3040808@dbtopas.lt>	<20091127031024.GA1265@linux-4bod.home.aster.pl>	<20091127031751.GA1504@linux-4bod.home.aster.pl>	<4B0F458B.50201@dbtopas.lt>	<4B0F93B7.7000208@mweb.co.za>	<4B0F9607.2030804@mweb.co.za>	<20091127175338.GA22154@linux-4bod.home.aster.pl>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297D@PINK.zycie.pzu>	<CC630377-92FA-40E2-9542-5A32C23F68B6@syenar.hu>	<20091130192308.GA22293@linux-4bod.home.aster.pl>	<4B150A55.5040208@mweb.co.za>	<8E9240C4-09D4-4B75-889A-C808D7FD9732@syenar.hu>	<4B15149B.3010309@mweb.co.za>
	<6257E932-46DD-4F25-82C8-A6A45A3DB730@syenar.hu>
Message-ID: <4B1524A5.1050309@dbtopas.lt>

Hi,


> Error OLE/3012  Argument error: OPEN (DOS Error -2147352567)
> Called from WIN_OLEAUTO:OPEN(0)
> Called from ADO_OPEN(312)
> Called from DBUSEAREA(0)
> Called from MAIN(12)

It would be nice to have some idea about how error subcode sould be 
used. 3012 does not say much about the exact place of error. I've used 
to change error subcodes to 3012, 3013, 3014, and so on , when I was 
debugging OLE code. But I does not commit different error subcodes, 
since the whole idea about error subcodes is not clear for me.


Regards,
Mindaugas
From harbour.01 at syenar.hu  Tue Dec  1 09:20:33 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec  1 09:20:46 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <4B1524A5.1050309@dbtopas.lt>
References: <20091127025737.GA511@linux-4bod.home.aster.pl>	<4B0F4142.3040808@dbtopas.lt>	<20091127031024.GA1265@linux-4bod.home.aster.pl>	<20091127031751.GA1504@linux-4bod.home.aster.pl>	<4B0F458B.50201@dbtopas.lt>	<4B0F93B7.7000208@mweb.co.za>	<4B0F9607.2030804@mweb.co.za>	<20091127175338.GA22154@linux-4bod.home.aster.pl>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297D@PINK.zycie.pzu>	<CC630377-92FA-40E2-9542-5A32C23F68B6@syenar.hu>	<20091130192308.GA22293@linux-4bod.home.aster.pl>	<4B150A55.5040208@mweb.co.za>	<8E9240C4-09D4-4B75-889A-C808D7FD9732@syenar.hu>	<4B15149B.3010309@mweb.co.za>
	<6257E932-46DD-4F25-82C8-A6A45A3DB730@syenar.hu>
	<4B1524A5.1050309@dbtopas.lt>
Message-ID: <EC430BF7-2AC9-4C3B-9170-63DA33F9597E@syenar.hu>

>> Error OLE/3012  Argument error: OPEN (DOS Error -2147352567)
>> Called from WIN_OLEAUTO:OPEN(0)
>> Called from ADO_OPEN(312)
>> Called from DBUSEAREA(0)
>> Called from MAIN(12)
> 
> It would be nice to have some idea about how error subcode sould be used. 3012 does not say much about the exact place of error. I've used to change error subcodes to 3012, 3013, 3014, and so on , when I was debugging OLE code. But I does not commit different error subcodes, since the whole idea about error subcodes is not clear for me.

Since the "OLE" error class is unique in Harbour, 
you are free to use any subcode under it.

It usually starts with 1001 and the next free number 
is used for each different error case.

BTW, maybe "WINOLE" would be a better error class 
name, although OLE is probably unique enough, maybe 
it's a little bit cleaner this way.

Brgds.
Viktor

From niki at synel.co.il  Tue Dec  1 09:32:19 2009
From: niki at synel.co.il (Chen Kedem)
Date: Tue Dec  1 09:36:49 2009
Subject: [Harbour] SF bug tracker#2906734: ClassMethod: Message not found
	(Error)
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D8375F400@Mail-yoq.SYNEL-COMPANY.LTD>

The following was reported on SF bug tracker:
http://sourceforge.net/tracker/?func=detail&atid=100681&aid=2906734&group_id=681

Angel Diaz Leiva (angeldiazleiva) wrote:
---------------------------------
When making the declaration of a class, if you declare a ClassMethod
and then seeks to use it, there is an error message: 'message not found'
followed by the name of the method.

But if there is a ClassVar with the same name as the method does not
generate any error messages, although the method is not called or running.
It appears that ClassMethod not taken into account in the class declaration.
---------------------------------

Attached is the sample given by the user
Tested with Rev13051 I get the same error as the user

I don't know if the sample program is wrong or if its a real error.


  Chen.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: proba.zip
Type: application/x-zip-compressed
Size: 639 bytes
Desc: proba.zip
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091201/8536d408/proba.bin
From M.Horodyski at pzuzycie.com.pl  Tue Dec  1 09:40:55 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Tue Dec  1 09:41:50 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <4B150A55.5040208@mweb.co.za>
References: <20091127025737.GA511@linux-4bod.home.aster.pl>	<4B0F4142.3040808@dbtopas.lt>	<20091127031024.GA1265@linux-4bod.home.aster.pl>	<20091127031751.GA1504@linux-4bod.home.aster.pl>	<4B0F458B.50201@dbtopas.lt><4B0F93B7.7000208@mweb.co.za>	<4B0F9607.2030804@mweb.co.za>	<20091127175338.GA22154@linux-4bod.home.aster.pl>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297D@PINK.zycie.pzu>	<CC630377-92FA-40E2-9542-5A32C23F68B6@syenar.hu><20091130192308.GA22293@linux-4bod.home.aster.pl>
	<4B150A55.5040208@mweb.co.za>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC2DD4@PINK.zycie.pzu>

 

>-----Original Message-----
>From: Alex Strickland [mailto:sscc@mweb.co.za] 
>Sent: Tuesday, December 01, 2009 1:22 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Problem in OLE implementation

...

>REQUEST ADORDD
>
>function Main()
>
>    USE xbrtest.mdb VIA "ADORDD" TABLE "Customer"
>
>    Browse()
>
>    USE
>
>return nil
>
>It appears to work very well, the browse showing me all the 
>customer details. I think it should be restored to SVN.
>
>Thanks and regards
>Alex Strickland

Alex, with ADO I can read from thrue SQL database only characters
fields. 

select id_dekretacja, to_char( id_dekretacja, '99') dekret, opis,
           to_char( sum( case when gr_ik = '3' then kwota else 0 end ),
'999999999999.99') kwota_ik,
           to_char( sum( case when gr_ik = '2' then kwota else 0 end ),
'999999999999.99') kwota_gr,
           to_char( sum(                            kwota            ),
'999999999999.99') kwota_og
           from
....

All numeric or data fields must be covert to character. With ODBC\MIXSQL
all work correct.

Regards,
Marek Horodyski
From snaiperis at users.sourceforge.net  Tue Dec  1 09:43:10 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Tue Dec  1 09:43:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13085] trunk/harbour
Message-ID: <E1NFTwc-0003Np-Pd@dn4whf1.ch3.sourceforge.com>

Revision: 13085
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13085&view=rev
Author:   snaiperis
Date:     2009-12-01 14:42:57 +0000 (Tue, 01 Dec 2009)

Log Message:
-----------
2009-12-01 16:39 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/hbwin/olecore.c
  * harbour/contrib/hbwin/axcore.c
    * changed error system name from OLE to WINOLE
    * renumerated error subcodes starting from 1001

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/axcore.c
    trunk/harbour/contrib/hbwin/olecore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jfl at mafact.com  Tue Dec  1 09:51:00 2009
From: jfl at mafact.com (J. Lefebvre)
Date: Tue Dec  1 09:51:49 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <20091201140954.GA17657@linux-4bod.home.aster.pl>
Message-ID: <c8667beb.1ca7295.1ac56524.153c@mafact.com>

Hi Przemek,

You could be right, but ...

1) This code is not really new, and I had in mind it was working when I tested it some month ago (99% sure) ...
2) The same call in visual Basic work fine on the same OLE object ...

I will continue to investigate, 

Friendly,

JF

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Przemyslaw Czerpak
Envoy??: mardi 1 d?cembre 2009 15:10
??: Harbour Project Main Developer List.
Objet?: Re: RE: [Harbour] Problem in OLE implementation

On Tue, 01 Dec 2009, J. Lefebvre wrote:

Hi,

> Hummmm, not sure it is really related to a problem with ADORDD (see dos error).
> I have exactly the same error trying to access Crystal report runtime XI.
>    Error occurred at: 01/12/2009, 14:26:32
>    Error description: (DOS Error -2147352567) OLE/3012  Argument error: SETREPORTVARIABLEVALUE
>    Args:
>      [   1] = C   FADEVCUR
>      [   2] = C   True
> Stack Calls
> ===========
>    Called from:  => WIN_OLEAUTO:SETREPORTVARIABLEVALUE(0)
>    Called from: crwcole.prg => CRW:SETFORMULA(848)
> I checked documentation at least 1 million time, arguments I send to "SetReportVariableValue" are ok.

All OLE errors have 'Argument error' in description so it does not
give you any valuable information.

> I suspect some argument type error in ole implementation.

I do not think so. At least the information you presented suggest that
it's not Harbour problem at all.

> Ole2TxtError() give DISP_E_EXCEPTION but I'm not sure it is related.

And this it the only one important information. This error is reported
by OLE object from Invoke() method and you should check in OLE object
documentation for the reasons why calling method:
   SETREPORTVARIABLEVALUE( "FADEVCUR", "True" )
generates above error. This happens outside Harbour code.

best regards,
Przemek
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From snaiperis at users.sourceforge.net  Tue Dec  1 09:59:31 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Tue Dec  1 09:59:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13086] trunk/harbour
Message-ID: <E1NFUCR-0003wi-Mh@dn4whf1.ch3.sourceforge.com>

Revision: 13086
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13086&view=rev
Author:   snaiperis
Date:     2009-12-01 14:59:28 +0000 (Tue, 01 Dec 2009)

Log Message:
-----------
2009-12-01 16:56 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/hbcairo/context.c
  * harbour/contrib/hbcairo/paths.c
  * harbour/contrib/hbcairo/text.c
  * harbour/contrib/hbcairo/tests/table.prg
    * added some error check. If function parameters are invalid C level 
      functions is not called with invalid (NULL) pointers.
    * changed cairo_text_extent() to return an array of .c structure 
      members instead of returning multiple values using parameters 
      passed by reference. In the future I'll try to follow this way 
      to return structures.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbcairo/context.c
    trunk/harbour/contrib/hbcairo/paths.c
    trunk/harbour/contrib/hbcairo/tests/table.prg
    trunk/harbour/contrib/hbcairo/text.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Dec  1 10:10:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec  1 10:10:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13087] trunk/harbour
Message-ID: <E1NFUMa-0006Ke-KH@74yxhf1.ch3.sourceforge.com>

Revision: 13087
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13087&view=rev
Author:   vszakats
Date:     2009-12-01 15:09:59 +0000 (Tue, 01 Dec 2009)

Log Message:
-----------
2009-12-01 16:10 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * bin/hb-mkimp.bat
    * Minor.

  * contrib/hbwin/win_dll.c
  * contrib/hbcairo/paths.c
  * contrib/hbcairo/text.c
  * contrib/hbcairo/core.c
  * contrib/hbcairo/Makefile
    * Minor cleanups.
    ! Fixed minor typo.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkimp.bat
    trunk/harbour/contrib/hbcairo/Makefile
    trunk/harbour/contrib/hbcairo/core.c
    trunk/harbour/contrib/hbcairo/paths.c
    trunk/harbour/contrib/hbcairo/text.c
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Tue Dec  1 10:18:56 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Dec  1 10:19:08 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <c8667beb.1ca7295.1ac56524.153c@mafact.com>
References: <c8667beb.1ca7295.1ac56524.153c@mafact.com>
Message-ID: <4B1533E0.5060305@mweb.co.za>

J. Lefebvre wrote:

> I will continue to investigate,

Perhaps this may help:

http://www.microsoft.com/downloads/details.aspx?familyid=5233b70d-d9b2-4cb5-aeb6-45664be858b6&displaylang=en#QuickInfoContainer

it is OleView.exe which is quite useful for seeing what is behind the scenes.

Regards
Alex
From ice at extreme.hu  Tue Dec  1 10:26:37 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Tue Dec  1 10:26:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13083] trunk/harbour
In-Reply-To: <E1NFQnT-0002Dh-7F@3kljzd1.ch3.sourceforge.com>
References: <E1NFQnT-0002Dh-7F@3kljzd1.ch3.sourceforge.com>
Message-ID: <alpine.DEB.2.00.0912011625530.8775@dawn.royalcomp.hu>

On Tue, 1 Dec 2009, vszakats@users.sourceforge.net wrote:

 > Log Message:
 > -----------
 > 2009-12-01 12:21 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
 >   * config/global.mk
 >     % "De-xmastree"-d two more if/else structures.

you SO are my hero.

-- 
[-]

mkdir /nonexistent
From druzus at acn.waw.pl  Tue Dec  1 10:33:43 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec  1 10:33:50 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <6257E932-46DD-4F25-82C8-A6A45A3DB730@syenar.hu>
References: <4B0F93B7.7000208@mweb.co.za> <4B0F9607.2030804@mweb.co.za>
	<20091127175338.GA22154@linux-4bod.home.aster.pl>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297D@PINK.zycie.pzu>
	<CC630377-92FA-40E2-9542-5A32C23F68B6@syenar.hu>
	<20091130192308.GA22293@linux-4bod.home.aster.pl>
	<4B150A55.5040208@mweb.co.za>
	<8E9240C4-09D4-4B75-889A-C808D7FD9732@syenar.hu>
	<4B15149B.3010309@mweb.co.za>
	<6257E932-46DD-4F25-82C8-A6A45A3DB730@syenar.hu>
Message-ID: <20091201153343.GA18268@linux-4bod.home.aster.pl>

On Tue, 01 Dec 2009, Szak?ts Viktor wrote:

Hi,

> >   USE test.mdb VIA "ADORDD" TABLE "Tabla1"
> > with:
> >   USE xbrtest.mdb VIA "ADORDD" TABLE "Customer"
> > it works. Perhaps test.mdb is broken?
> Could be. Or it simply doesn't find it. But your 
> next example suggest that it's the former.
> BTW: "broken", I've fixed this file at least once 
> already, and I'm sure it was working back then, so 
> maybe it's also possible that such .mdb files 
> aren't compatible with every db driver? I suspect 
> some hidden dependency here or IOW that .mdb isn't 
> a stable format, but more like .doc which tends to 
> break compatibility every now and then.
> Fixing it looks to be futile to me, so I'm leaving 
> this to .mdb experts/users.

Anyhow it's not ADORDD problem.

> > access2.prg creates test2.mdb ok. On exiting it fails with:
> > Error OLE/3012  Argument error: FIND (DOS Error -2147352567)
> > Called from WIN_OLEAUTO:FIND(0)
> > Called from ADO_LOCATE(1009)
> > Called from __DBLOCATE(0)
> > Called from MAIN(34)

The error is outside Harbour in code activate by:
   oRecordSet:FIND( "TEST2->First = 'Lara'", 0 )
so maybe the whole problem is caused by the fact that it does
not understand aliased expressions using '->' as alias operator
and it was never working from the beginning when this LOCATE
command was added.
Alex can you try to add at the beginning of rddado/tests/access2.prg:
   FIELD FIRST
and change the line 33 from:
   locate for TEST2->First = "Lara"
to:
   locate for First = "Lara"
and then repeat the test?

> > mysql1.prg :
> > Error OLE/3012  Argument error: OPEN (DOS Error -2147352567)
> > Called from WIN_OLEAUTO:OPEN(0)
> > Called from ADO_OPEN(312)
> > Called from DBUSEAREA(0)
> > Called from MAIN(12)
> > mysql.prg is the same except MAIN(14)

Here I cannot help. Maybe you have to install some MYSQL drivers
to make it working. I do not know. It's seems to be question to
MYSQL users.

> Thank you. So there still seem to be some things broken 
> after whichever update, my suspect is still the xhb sync job.

Looking at the ChangeLog and SVN repository I haven't found even
single xhb sync commit.

> I see no point in moving it back to contrib until someone 
> takes a plunge into this and known problems get fixed.

So far I haven't seen any confirmed error in ADORDD code
so I have no idea what we can fix.

Of course this RDD should be greatly improved yet and some
missing functionality added. Also if someone has time then
function like SQLTranslate() should be rewritten from scratch
to be real xbase to SQL expressions translator. Not a small
hack for some trivial examples.

best regards,
Przemek
From sscc at mweb.co.za  Tue Dec  1 10:39:57 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Dec  1 10:40:08 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <20091201153343.GA18268@linux-4bod.home.aster.pl>
References: <4B0F93B7.7000208@mweb.co.za>
	<4B0F9607.2030804@mweb.co.za>	<20091127175338.GA22154@linux-4bod.home.aster.pl>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297D@PINK.zycie.pzu>	<CC630377-92FA-40E2-9542-5A32C23F68B6@syenar.hu>	<20091130192308.GA22293@linux-4bod.home.aster.pl>	<4B150A55.5040208@mweb.co.za>	<8E9240C4-09D4-4B75-889A-C808D7FD9732@syenar.hu>	<4B15149B.3010309@mweb.co.za>	<6257E932-46DD-4F25-82C8-A6A45A3DB730@syenar.hu>
	<20091201153343.GA18268@linux-4bod.home.aster.pl>
Message-ID: <4B1538CD.6040306@mweb.co.za>

Przemys?aw Czerpak wrote:
> Alex can you try to add at the beginning of rddado/tests/access2.prg:
>     FIELD FIRST
> and change the line 33 from:
>     locate for TEST2->First = "Lara"
> to:
>     locate for First = "Lara"
> and then repeat the test?

Yes, this works and writes .T. to the console.

Regards
Alex
From harbour.01 at syenar.hu  Tue Dec  1 10:41:13 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec  1 10:45:18 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <20091201153343.GA18268@linux-4bod.home.aster.pl>
References: <4B0F93B7.7000208@mweb.co.za> <4B0F9607.2030804@mweb.co.za>
	<20091127175338.GA22154@linux-4bod.home.aster.pl>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297D@PINK.zycie.pzu>
	<CC630377-92FA-40E2-9542-5A32C23F68B6@syenar.hu>
	<20091130192308.GA22293@linux-4bod.home.aster.pl>
	<4B150A55.5040208@mweb.co.za>
	<8E9240C4-09D4-4B75-889A-C808D7FD9732@syenar.hu>
	<4B15149B.3010309@mweb.co.za>
	<6257E932-46DD-4F25-82C8-A6A45A3DB730@syenar.hu>
	<20091201153343.GA18268@linux-4bod.home.aster.pl>
Message-ID: <7E8D56AC-76D8-4E28-B070-16A8D56C0AF4@syenar.hu>

>> Thank you. So there still seem to be some things broken 
>> after whichever update, my suspect is still the xhb sync job.
> 
> Looking at the ChangeLog and SVN repository I haven't found even
> single xhb sync commit.

2008-09-12 00:53 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/rddado/adordd.prg
  * contrib/rddado/adordd.ch
    * Merged changes from xhb.
      Some hbusrrdd.ch values seem to be missing from Harbour,
      related features will be automatically enabled if we
      implement them in our usrrdd.
      Please test.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Dec  1 10:48:45 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec  1 10:48:52 2009
Subject: [Harbour] SF bug tracker#2906734: ClassMethod: Message not
	found (Error)
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D8375F400@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D8375F400@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20091201154845.GA19771@linux-4bod.home.aster.pl>

On Tue, 01 Dec 2009, Chen Kedem wrote:

Hi,

> The following was reported on SF bug tracker:
> http://sourceforge.net/tracker/?func=detail&atid=100681&aid=2906734&group_id=681
> Angel Diaz Leiva (angeldiazleiva) wrote:
> ---------------------------------
> When making the declaration of a class, if you declare a ClassMethod
> and then seeks to use it, there is an error message: 'message not found'
> followed by the name of the method.
> But if there is a ClassVar with the same name as the method does not
> generate any error messages, although the method is not called or running.
> It appears that ClassMethod not taken into account in the class declaration.
> ---------------------------------
> Attached is the sample given by the user
> Tested with Rev13051 I get the same error as the user
> I don't know if the sample program is wrong or if its a real error.

Neither Harbour nor xHarbour supports class objects like Class(y)
so they do not support class method and class variables in the same
way as Class(y) does. In Harbour and xHarbour class variables are
object variables shared between objects of the same class not instance
variables of class object like in Class(y).
Class methods are not supported by both compilers at all.
xHarbour translates class messages to normal messages and Harbour
silently ignore them. If xHarbour behavior is enough for you then
you can add after:
   #include "hbclass.ch"
this line:
   #xcommand CLASS METHOD [<x,...>] => METHOD <x>
Anyhow without real class object the code in attached example is not
very efficient because each call to TESTCLASS() forces creating new
instance of TESTCLASS object.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Dec  1 11:03:41 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec  1 11:03:48 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <4B1538CD.6040306@mweb.co.za>
References: <20091127175338.GA22154@linux-4bod.home.aster.pl>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297D@PINK.zycie.pzu>
	<CC630377-92FA-40E2-9542-5A32C23F68B6@syenar.hu>
	<20091130192308.GA22293@linux-4bod.home.aster.pl>
	<4B150A55.5040208@mweb.co.za>
	<8E9240C4-09D4-4B75-889A-C808D7FD9732@syenar.hu>
	<4B15149B.3010309@mweb.co.za>
	<6257E932-46DD-4F25-82C8-A6A45A3DB730@syenar.hu>
	<20091201153343.GA18268@linux-4bod.home.aster.pl>
	<4B1538CD.6040306@mweb.co.za>
Message-ID: <20091201160341.GA20330@linux-4bod.home.aster.pl>

On Tue, 01 Dec 2009, Alex Strickland wrote:
> >Alex can you try to add at the beginning of rddado/tests/access2.prg:
> >    FIELD FIRST
> >and change the line 33 from:
> >    locate for TEST2->First = "Lara"
> >to:
> >    locate for First = "Lara"
> >and then repeat the test?
> Yes, this works and writes .T. to the console.

Thank you.
Maybe in the future someone will try to write XBASE->SQL expression
translator which can be used in such cases.
So finally do we have any example which fails due to pure ADORDD code?

best regards,
Przemek
From druzus at acn.waw.pl  Tue Dec  1 11:10:12 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec  1 11:10:20 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <7E8D56AC-76D8-4E28-B070-16A8D56C0AF4@syenar.hu>
References: <20091127175338.GA22154@linux-4bod.home.aster.pl>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297D@PINK.zycie.pzu>
	<CC630377-92FA-40E2-9542-5A32C23F68B6@syenar.hu>
	<20091130192308.GA22293@linux-4bod.home.aster.pl>
	<4B150A55.5040208@mweb.co.za>
	<8E9240C4-09D4-4B75-889A-C808D7FD9732@syenar.hu>
	<4B15149B.3010309@mweb.co.za>
	<6257E932-46DD-4F25-82C8-A6A45A3DB730@syenar.hu>
	<20091201153343.GA18268@linux-4bod.home.aster.pl>
	<7E8D56AC-76D8-4E28-B070-16A8D56C0AF4@syenar.hu>
Message-ID: <20091201161012.GA20948@linux-4bod.home.aster.pl>

On Tue, 01 Dec 2009, Szak?ts Viktor wrote:
> 2008-09-12 00:53 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/rddado/adordd.prg
>   * contrib/rddado/adordd.ch
>     * Merged changes from xhb.
>       Some hbusrrdd.ch values seem to be missing from Harbour,
>       related features will be automatically enabled if we
>       implement them in our usrrdd.
>       Please test.

Thank you, I missed it. It's not reported by SF in SVN browse.

Anyhow do you know any code examples which show problems with existing
ADO RDD code which should be fixed.

best regards,
Przemek
From vouchcac at users.sourceforge.net  Tue Dec  1 11:34:14 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Dec  1 11:34:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13088] trunk/harbour
Message-ID: <E1NFVg6-0007MQ-Dq@dn4whf1.ch3.sourceforge.com>

Revision: 13088
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13088&view=rev
Author:   vouchcac
Date:     2009-12-01 16:34:08 +0000 (Tue, 01 Dec 2009)

Log Message:
-----------
2009-12-01 08:24 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.ch
  * contrib/hbide/hbide.prg
  * contrib/hbide/idemisc.prg
    ! More properties honored while reloading the sessions.
      Now editor tab is opened exactly in the same state it was closed.
      Unluckily I am not been to move the cursor to the same position,
      I do not know why QTextCursor():movePosition( nPos ) fails.
      Anybody has any hint?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.ch
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idemisc.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From adam_l at poczta.onet.pl  Tue Dec  1 13:06:15 2009
From: adam_l at poczta.onet.pl (Adam Lubszczyk)
Date: Tue Dec  1 13:06:22 2009
Subject: [Harbour] Initialization of static variables in loaded HRB
Message-ID: <26596357.post@talk.nabble.com>


Hi Przemek !

When the module HRB (or pcode-DLL) is loaded dynamically , You are looking
for whether it was once used a similar table of symbols, and then it
recycled.
If it is recycled, then You do not initialize static variables.
There is a problem to perform re-initialization ?

Lack of initialization of static variables, of course, provides additional
possibilities, but I think only the EXTRA. Normally, I expect that re-loaded
the module will behave just like the first time.
There are also other problems, such as when we have different versions of
the same function, and in the program we load modules several times.
Sample:
**** hrb1.prg -> hrb1.hrb ****
FUNCTION abc()
LOCAL x:="HRB1: ++2 from init static 30 - Now is:"
STATIC y:=30
y:=y+VAL("2")
RETURN x+STR(y,5)

**** hrb2.prg -> hrb2.hrb ****
STATIC z:=70
FUNCTION abc()
LOCAL x:="HRB2: --3 from 70 initalized. Now is: "
LOCAL w:=VAL("2")
LOCAL s:=" plus "
s:=s+"extra "
z:=z-w
--z
s:=s+"string :)"
RETURN x+STR(z,5)+s

**** main.prg -> main.exe ****
PROCEDURE MAIN
LOCAL i,hh
FOR i:=1 TO 2
  ? "HRB1 load by #",i
  hh:=HB_HRBLOAD("hrb1.hrb")
  ? "ABC()->",&("ABC()")
  ? "ABC()->",&("ABC()")
  ? "HBR1 unload #",i
  HB_HRBUNLOAD(hh)
  ? "HRB2 load by #",i
  hh:=HB_HRBLOAD("hrb2.hrb")
  ? "ABC()->",&("ABC()")
  ? "ABC()->",&("ABC()")
  ? "HBR2 unload #",i
  HB_HRBUNLOAD(hh)
NEXT
RETURN
******************************

We obtain the result:

HRB1 load by #          1
ABC()-> HRB1: ++2 from init static 30 - Now is:   32
ABC()-> HRB1: ++2 from init static 30 - Now is:   34
HBR1 unload #          1
HRB2 load by #          1
ABC()-> HRB2: --3 from 70 initalized. Now is:    31 plus extra string :)
ABC()-> HRB2: --3 from 70 initalized. Now is:    28 plus extra string :)
HBR2 unload #          1
HRB1 load by #          2
ABC()-> HRB1: ++2 from init static 30 - Now is:   30
ABC()-> HRB1: ++2 from init static 30 - Now is:   32
HBR1 unload #          2
HRB2 load by #          2
ABC()-> HRB2: --3 from 70 initalized. Now is:    29 plus extra string :)
ABC()-> HRB2: --3 from 70 initalized. Now is:    26 plus extra string :)
HBR2 unload #          2

Strange result is not it?
HRB2 get static value from HRB1 and vice versa !!!

Przemek, maybe can You add options to HB_HRBLOAD () which will force a
re-initialization of static variables like: hb_hrbload( HB_HRB_INIT_STATIC,
"hrb.hrb")
or better: hb_hrbload("hrb.hrb") normal and: hb_hrbload(
HB_HRB_NO_INIT_STATIC, "hrb.hrb") extra feature.

Adam
[ translation into English with the help of Google :) ]

-- 
View this message in context: http://old.nabble.com/Initialization-of-static-variables-in-loaded-HRB-tp26596357p26596357.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Dec  1 17:33:58 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec  1 17:34:15 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <20091201161012.GA20948@linux-4bod.home.aster.pl>
References: <20091127175338.GA22154@linux-4bod.home.aster.pl>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297D@PINK.zycie.pzu>
	<CC630377-92FA-40E2-9542-5A32C23F68B6@syenar.hu>
	<20091130192308.GA22293@linux-4bod.home.aster.pl>
	<4B150A55.5040208@mweb.co.za>
	<8E9240C4-09D4-4B75-889A-C808D7FD9732@syenar.hu>
	<4B15149B.3010309@mweb.co.za>
	<6257E932-46DD-4F25-82C8-A6A45A3DB730@syenar.hu>
	<20091201153343.GA18268@linux-4bod.home.aster.pl>
	<7E8D56AC-76D8-4E28-B070-16A8D56C0AF4@syenar.hu>
	<20091201161012.GA20948@linux-4bod.home.aster.pl>
Message-ID: <7E1B5F30-7C6E-4D2F-A43B-1396708D6204@syenar.hu>

> On Tue, 01 Dec 2009, Szak?ts Viktor wrote:
>> 2008-09-12 00:53 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>  * contrib/rddado/adordd.prg
>>  * contrib/rddado/adordd.ch
>>    * Merged changes from xhb.
>>      Some hbusrrdd.ch values seem to be missing from Harbour,
>>      related features will be automatically enabled if we
>>      implement them in our usrrdd.
>>      Please test.
> 
> Thank you, I missed it. It's not reported by SF in SVN browse.
> 
> Anyhow do you know any code examples which show problems with existing
> ADO RDD code which should be fixed.

No, sorry, I also only see these reports on the list.
I'm not an ADORDD user myself.

For sure ADORDD could use some reviewing, but can't 
tell anything specific this time.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Dec  1 17:37:07 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec  1 17:37:19 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <20091201153343.GA18268@linux-4bod.home.aster.pl>
References: <4B0F93B7.7000208@mweb.co.za> <4B0F9607.2030804@mweb.co.za>
	<20091127175338.GA22154@linux-4bod.home.aster.pl>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297D@PINK.zycie.pzu>
	<CC630377-92FA-40E2-9542-5A32C23F68B6@syenar.hu>
	<20091130192308.GA22293@linux-4bod.home.aster.pl>
	<4B150A55.5040208@mweb.co.za>
	<8E9240C4-09D4-4B75-889A-C808D7FD9732@syenar.hu>
	<4B15149B.3010309@mweb.co.za>
	<6257E932-46DD-4F25-82C8-A6A45A3DB730@syenar.hu>
	<20091201153343.GA18268@linux-4bod.home.aster.pl>
Message-ID: <50113ADE-FC5E-4DC1-B35A-14AD1E8C6935@syenar.hu>

>> I see no point in moving it back to contrib until someone 
>> takes a plunge into this and known problems get fixed.
> 
> So far I haven't seen any confirmed error in ADORDD code
> so I have no idea what we can fix.
> 
> Of course this RDD should be greatly improved yet and some
> missing functionality added. Also if someone has time then
> function like SQLTranslate() should be rewritten from scratch
> to be real xbase to SQL expressions translator. Not a small
> hack for some trivial examples.

Just had time to read this bit, well, I couldn't have 
said it better. Probably many other improvements could 
be made on that driver. F.e. for me thos HB_ADORDD*() 
functions look a little strange in an RDD. They're 
needed to setup connection, and connection is stored 
in thread static data. I'm not sure this plays well 
with MT RDD features of Harbour.

Plus one issue: Marek used to tell that data types 
aren't properly translated to Harbour types.

Brgds,
Viktor


From druzus at acn.waw.pl  Tue Dec  1 18:14:39 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec  1 18:14:47 2009
Subject: [Harbour] Re: CHANGELOG: 2009-12-01 01:37 UTC-0800 Brian Hays
In-Reply-To: <0a0b01ca72d3$48cd9920$da68cb60$@com>
References: <0a0b01ca72d3$48cd9920$da68cb60$@com>
Message-ID: <20091201231439.GA31572@linux-4bod.home.aster.pl>

On Tue, 01 Dec 2009, Brian Hays wrote:

Hi,

> I need help with a decision on whether to throw an error or not. Please see
> discussion below.
> 
> 2009-12-01 01:37 UTC-0800 Brian Hays <bhays/at/abacuslaw.com>
>   * contrib\rdd_ads\ads1.c
>     + Added support for ordDescend's 3rd arg to dynamically change
>       the index direction between ascending / descending.
>       ONLY supported in ADS 9 and later.
> BEFORE, if you used ordDescend(,,.t.) (or any value in the 3rd arg),
> it was silently ignored no matter what version of ADS you used.
> This change now means that with ADS 9 or later the flag is implemented.
> BUT if you have ADS 8 or earlier, now I throw an error to alert you that
> that 
> flag is not supported and your requested action would fail to do anything.
> This may anger people who have been silently failing for years 
> (perhaps with code that is shared with other platforms that DO support the
> flag) 
> I?m not very good at details with our Error throwing details. Here?s what I
> coded:
> //  Do we have a "Unsupported Option in this version" error?
>                hb_errRT_DBCMD( EG_ARG, EDBCMD_DBINFOBADPARAMETER, "Dynamic
> descend not supported in this version", HB_ERR_FUNCNAME );
> SHOULD WE REMOVE THIS, and go back to ignoring it?  Or should the error msg
> be standardized?

Dynamic DESCEND flag is not supported also in many Clipper RDDs.
So far the standard way in Clipper and [x]Harbour to check if dynamic
descending order is supported was checking the value returned by:
   ordDescend( [<tag>], [<bag>] )
just after:
   ordDescend( [<tag>], [<bag>], <lOnOff> )
i.e.:
   ordDescend( nTag,, .T. )
   ? "order:", iif( ordDescend( nTag ), "descending", "ascending" )

such code works for any RDDs and will work also for ADS if you do not
enable such RTE.
In all core native RDDs (NTX, CDX, NSX) I implemented dynamic descend
flags so such RTE cannot be generated so I think that it will be most
important for ADS users which without RTE can easy create the same code
for different ADS versions.

> A second question:  AdsSetIndexDirection takes an unusual flag that EITHER
> takes 0 to return
> to the original state, or TRUE to "reverse the direction from the current
> state"
> IOW, they have the ability to ?go back to normal? which IIUC
> Clipper/(x)Harbour does NOT.

To clarify some technical issues.
In indexes like CDX, ADI or NSX there is no "normal" state.
Physically they exist only in ascending order and descending
order is done by logical flag (BTW I'm surprised why adding
user interface to change such logical flag took such long time
ADS authors) so we can talk only about default settings for
this flag stored in index header. Only NTX format uses reverted
key orders in index file to implement default descending sorting
so in our DBFNTX I implemented both versions and it's possible
to use dynamic switching too just like in CDX or NSX formats.

I guess that you are asking about method of "resetting" DESCEND
flag to value chose by RDD when index is open. So far we do not
have such functionality though it can be easy implemented if we
agree how to inform RDD that we want to "reset" this flag.

> Am I missing something?  It would be nice to have a value to "return to
> native state" in our syntax
> instead of requiring a close/re-open of the file.  Note: Once the direction
> has been
> dynamically changed, ordDescend() is only capable of returning the CURRENT
> state; there is no
> api to get the Original direction setting.

Please remember that we are always in native state. The order direction
is in practice only logical flag. Usually structural code have to safe
and restore descend flag settings because it cannot assume that it was
in the same state as after opening table. Operation like resetting order
DESCEND flag to the same state as after opening table are not structural
so are less usable in most of code. Probably the only one type of code
I can imagine is some DBU like program which may want to display some
information with default order settings.

> In some COMIX functions, there was the difference between an explicit NIL
> and an ignored parameter
> to distinguish between intentions.  I never liked having to explain it to
> people, BUT
> this may be an instance where explicitly passing NIL as the third arg could
> be the flag
> to revert to the original state of the index.

NIL can be used for such job. In such case it's necessary to modify
ordDescend() in dbcmd53.c and change:
      pOrderInfo.itmNewVal = hb_param( 3 , HB_IT_LOGICAL );
to:
      pOrderInfo.itmNewVal = hb_param( 3 , HB_IT_LOGICAL );
      if( pOrderInfo.itmNewVal )
         pOrderInfo.itmNewVal = hb_param( 3 , HB_IT_NIL );

> Is there a good way to add the extended value/functionality of either
> learning or setting
> the original direction?  

The other method is defining new DBOI_* action for dbInfo() to extract
default DESCEND flag settings which can be used as ordDescend() parameter.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Dec  1 18:31:21 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec  1 18:31:31 2009
Subject: [Harbour] Re: HB_CDP_SUPPORT_OFF question
In-Reply-To: <7F81F082-5D23-4302-AF9D-2140ECC2106A@syenar.hu>
References: <7F81F082-5D23-4302-AF9D-2140ECC2106A@syenar.hu>
Message-ID: <D3FB9512-31F6-4153-9E85-B2256959B493@syenar.hu>

> Hi Przemek,
> 
> Now that you've reworked CDP support in whole Harbour, 
> do you think we can delete HB_CDP_SUPPORT_OFF guards 
> (and non-CDP supported code branches) from code?

Any quick opinion on that? Delete or keep?

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Dec  1 18:40:11 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec  1 18:40:17 2009
Subject: [Harbour] Re: HB_CDP_SUPPORT_OFF question
In-Reply-To: <D3FB9512-31F6-4153-9E85-B2256959B493@syenar.hu>
References: <7F81F082-5D23-4302-AF9D-2140ECC2106A@syenar.hu>
	<D3FB9512-31F6-4153-9E85-B2256959B493@syenar.hu>
Message-ID: <20091201234011.GA4170@linux-4bod.home.aster.pl>

On Wed, 02 Dec 2009, Szak?ts Viktor wrote:

Hi,

> > Now that you've reworked CDP support in whole Harbour, 
> > do you think we can delete HB_CDP_SUPPORT_OFF guards 
> > (and non-CDP supported code branches) from code?
> Any quick opinion on that? Delete or keep?

Sorry I forgot to answer. Let's delete it.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Dec  1 18:42:03 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec  1 18:42:12 2009
Subject: [Harbour] Re: HB_CDP_SUPPORT_OFF question
In-Reply-To: <20091201234011.GA4170@linux-4bod.home.aster.pl>
References: <7F81F082-5D23-4302-AF9D-2140ECC2106A@syenar.hu>
	<D3FB9512-31F6-4153-9E85-B2256959B493@syenar.hu>
	<20091201234011.GA4170@linux-4bod.home.aster.pl>
Message-ID: <96DCC714-AC77-438D-BBD3-9A40470AE081@syenar.hu>

>>> Now that you've reworked CDP support in whole Harbour, 
>>> do you think we can delete HB_CDP_SUPPORT_OFF guards 
>>> (and non-CDP supported code branches) from code?
>> Any quick opinion on that? Delete or keep?
> 
> Sorry I forgot to answer. Let's delete it.

Thank and no prob. I'll do it.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Dec  1 18:51:43 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec  1 18:51:50 2009
Subject: [Harbour] src/compiler
In-Reply-To: <EC2BE2ED-AB89-466B-B767-609D16A78B08@syenar.hu>
References: <20091130221708.GA23876@linux-4bod.home.aster.pl>
	<2D5A866D-6EF6-4A56-B714-7325E91ECC88@syenar.hu>
	<20091130234636.GB24394@linux-4bod.home.aster.pl>
	<97BE9542-5986-42B5-857C-AC0B589268FF@syenar.hu>
	<20091201004930.GA25734@linux-4bod.home.aster.pl>
	<BC9D9D92-DDCA-490C-96D3-20B7C8AF93A3@syenar.hu>
	<20091201024559.GA27188@linux-4bod.home.aster.pl>
	<9FF42A40-A4B6-403A-903E-FD2365E17975@syenar.hu>
	<20091201034851.GA27888@linux-4bod.home.aster.pl>
	<EC2BE2ED-AB89-466B-B767-609D16A78B08@syenar.hu>
Message-ID: <20091201235143.GB4170@linux-4bod.home.aster.pl>

On Tue, 01 Dec 2009, Szak?ts Viktor wrote:

Hi,

> >> [ BTW it's not fully compatible, as C5.3 returned the old 
> >> dev mode value. ]
> > Yes, I know. I think we should change:
> >   BOOL hb_fsSetDevMode( HB_FHANDLE hFileHandle, USHORT uiDevMode )
> > to:
> >   int hb_fsSetDevMode( HB_FHANDLE hFileHandle, int iDevMode )
> > and also return previous value or -1 on error and then update FSETDEVMOD()
> > to work like in Clipper. I can make such modification.
> Thank you, it would very nice.

I've already made this modification then I also made some tests with
FSETDEVMOD() in C53 and before I'll commit it I have two questions:
1. CL53 returns only 1 or 2 and nothing more to indicate errors.
   Should I replicate it?
2. In tests it looks that it has some logic to return value for
   current file descriptor state if second parameter is not passed.
   In our source code we have:
      /* C53 checks only number of parameters: hb_pcount() == 2 */
      if( HB_ISNUM( 1 ) && HB_ISNUM( 2 ) )
      {
         ...
      }
   are you sure that the note and condition are valid?

best regards,
Przemek
From druzus at acn.waw.pl  Tue Dec  1 18:53:32 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec  1 18:53:39 2009
Subject: [Harbour] Re: HB_CDP_SUPPORT_OFF question
In-Reply-To: <96DCC714-AC77-438D-BBD3-9A40470AE081@syenar.hu>
References: <7F81F082-5D23-4302-AF9D-2140ECC2106A@syenar.hu>
	<D3FB9512-31F6-4153-9E85-B2256959B493@syenar.hu>
	<20091201234011.GA4170@linux-4bod.home.aster.pl>
	<96DCC714-AC77-438D-BBD3-9A40470AE081@syenar.hu>
Message-ID: <20091201235332.GA5436@linux-4bod.home.aster.pl>

On Wed, 02 Dec 2009, Szak?ts Viktor wrote:
> >>> Now that you've reworked CDP support in whole Harbour, 
> >>> do you think we can delete HB_CDP_SUPPORT_OFF guards 
> >>> (and non-CDP supported code branches) from code?
> >> Any quick opinion on that? Delete or keep?
> > Sorry I forgot to answer. Let's delete it.
> Thank and no prob. I'll do it.

Thank you,

best regards,
Przemek
From druzus at acn.waw.pl  Tue Dec  1 19:30:54 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec  1 19:31:01 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <c8667beb.1ca7295.1ac56524.153c@mafact.com>
References: <20091201140954.GA17657@linux-4bod.home.aster.pl>
	<c8667beb.1ca7295.1ac56524.153c@mafact.com>
Message-ID: <20091202003053.GA8273@linux-4bod.home.aster.pl>

On Tue, 01 Dec 2009, J. Lefebvre wrote:

Hi,

> You could be right, but ...
> 1) This code is not really new, and I had in mind it was working when I tested it some month ago (99% sure) ...
> 2) The same call in visual Basic work fine on the same OLE object ...
> I will continue to investigate, 

I think that it may greatly help if you create as small as possible
peace of code which executes SETREPORTVARIABLEVALUE() method in VB
and the you translate this code to Harbour and check if you can
replicate the problem. If yes then please send both version to this
list and we try to repeat the problem and help you.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Dec  1 19:54:55 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec  1 19:55:09 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
In-Reply-To: <4B150216.10209@mail.udg.mx>
References: <4B150216.10209@mail.udg.mx>
Message-ID: <20091202005455.GC8273@linux-4bod.home.aster.pl>

On Tue, 01 Dec 2009, David Arturo Macias Corona wrote:

Hi,

> >Thank you very much. So now we know that we can remove -s as
> >workaround. Unfortunately it causes very big speed overhead. Much
> >bigger then in Linux where removing -s reduce the speed only ~24
> >percent. It's 363% what is even bigger then in Windows (295% in my
> >test).
> That increase in Windows is surprise for me, so problem are not in OS/2 only

Many of C compilers we are using generate much slower code for debugger
so it's nothing amazing and code to check stack overload is type of debug
code though in this case we used it as workaround for some wrong code
generated by OpenWatcom for functions calling APIENTRY16 functions.

> >Now I would like to check if -s is necessary as global switch or it
> >can be used locally only for GT2OS2 code.
> >Please restore -s switch (just like in clean SVN code) and then
> >add to src/rtl/gtos2/Makefile[5] this line:
> >  HB_BUILD_OPTIM := no
> >It should disable optimization switches.
> >Then check if speedtst works in MT mode.
> src\rtl\gtos2\Makefile does not have HB_BUILD_OPTIM

Yes, I want you add it to src/rtl/gtos2/Makefile at line 5

> I used:
>  set HB_BUILD_OPTIM=no

and what you have recompiled later and how?
Sorry that I'm asking but I have to be sure what exactly was done.
Many thanks for your tests.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Dec  1 19:42:58 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec  1 19:55:26 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <50113ADE-FC5E-4DC1-B35A-14AD1E8C6935@syenar.hu>
References: <20091127175338.GA22154@linux-4bod.home.aster.pl>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297D@PINK.zycie.pzu>
	<CC630377-92FA-40E2-9542-5A32C23F68B6@syenar.hu>
	<20091130192308.GA22293@linux-4bod.home.aster.pl>
	<4B150A55.5040208@mweb.co.za>
	<8E9240C4-09D4-4B75-889A-C808D7FD9732@syenar.hu>
	<4B15149B.3010309@mweb.co.za>
	<6257E932-46DD-4F25-82C8-A6A45A3DB730@syenar.hu>
	<20091201153343.GA18268@linux-4bod.home.aster.pl>
	<50113ADE-FC5E-4DC1-B35A-14AD1E8C6935@syenar.hu>
Message-ID: <20091202004258.GB8273@linux-4bod.home.aster.pl>

On Tue, 01 Dec 2009, Szak?ts Viktor wrote:

Hi,

> > Of course this RDD should be greatly improved yet and some
> > missing functionality added. Also if someone has time then
> > function like SQLTranslate() should be rewritten from scratch
> > to be real xbase to SQL expressions translator. Not a small
> > hack for some trivial examples.
> Just had time to read this bit, well, I couldn't have 
> said it better. Probably many other improvements could 
> be made on that driver. F.e. for me thos HB_ADORDD*() 
> functions look a little strange in an RDD. They're 
> needed to setup connection, and connection is stored 
> in thread static data. I'm not sure this plays well 
> with MT RDD features of Harbour.

Many things can be done but it needs someone interested enough
in developing this code and with some deeper knowledge about RDD
internals. Looking at this code I'm find still new things which
should be implemented in different way. I can help with RDD code
but there is no chance that I can make anything with strict ADO
only code - it simply does not work in my Linux box ;-)
It's enough that I was working on OLE code without even single
runtime test.

> Plus one issue: Marek used to tell that data types 
> aren't properly translated to Harbour types.

Yes but it does not discards it. Many database drivers supports
only some subset of available field types. I.e. there is no other
DBF driver which can read all DBF fields supported by Harbour but
it does not mean that rest of xbase worls does not have usable
drivers ;-). In clean code things like new field types are usually
easy to introduce and can be done by users who will need them.

best regards,
Przemek
From vszakats at users.sourceforge.net  Tue Dec  1 19:57:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec  1 19:57:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13089] trunk/harbour
Message-ID: <E1NFdXS-00060K-Fu@dn4whf1.ch3.sourceforge.com>

Revision: 13089
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13089&view=rev
Author:   vszakats
Date:     2009-12-02 00:57:48 +0000 (Wed, 02 Dec 2009)

Log Message:
-----------
2009-12-02 01:55 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/itemapi.c
  * src/vm/hvm.c
  * src/vm/set.c
  * src/rtl/gtdos/gtdos.c
  * src/rtl/gtwin/gtwin.c
  * src/rtl/gtxwc/gtxwc.h
  * src/rtl/gtxwc/gtxwc.c
  * src/rtl/gtcrs/gtcrs.c
  * src/rtl/gtcrs/gtcrs.h
  * src/rtl/gtstd/gtstd.c
  * src/rtl/gttrm/gttrm.c
  * src/rtl/gtcgi/gtcgi.c
  * src/rtl/hbgtcore.c
  * src/rtl/gtsln/gtsln.c
  * src/rtl/gtsln/kbsln.c
  * src/rtl/gtsln/gtsln.h
  * src/rtl/gtpca/gtpca.c
  * src/rtl/gtwvt/gtwvt.c
  * src/rdd/dbfntx/dbfntx1.c
  * src/rdd/hbdbsort.c
  * src/rdd/sdf1.c
  * src/rdd/dbfnsx/dbfnsx1.c
  * src/rdd/dbfcdx/dbfcdx1.c
  * src/rdd/delim1.c
  * src/rdd/dbf1.c
  * src/rdd/hsx/hsx.c
  * src/rdd/dbffpt/dbffpt1.c
  * doc/en-EN/lang.txt
  * include/hbrdddbf.h
  * include/hbapicdp.h
  * include/hbextern.ch
  * contrib/xhb/dbf2txt.c
  * contrib/gtqtc/gtqtc.cpp
  * contrib/gtwvg/gtwvg.c
  * contrib/gtwvg/wvggui.c
  * contrib/hbbmcdx/bmdbfcdx.c
  * examples/hbdoc/examples/core_es/lang.txt
    - Deleted HB_CDP_SUPPORT_OFF.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtqtc/gtqtc.cpp
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/wvggui.c
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/contrib/xhb/dbf2txt.c
    trunk/harbour/doc/en-EN/lang.txt
    trunk/harbour/examples/hbdoc/examples/core_es/lang.txt
    trunk/harbour/include/hbapicdp.h
    trunk/harbour/include/hbextern.ch
    trunk/harbour/include/hbrdddbf.h
    trunk/harbour/src/rdd/dbf1.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/rdd/dbffpt/dbffpt1.c
    trunk/harbour/src/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/src/rdd/dbfntx/dbfntx1.c
    trunk/harbour/src/rdd/delim1.c
    trunk/harbour/src/rdd/hbdbsort.c
    trunk/harbour/src/rdd/hsx/hsx.c
    trunk/harbour/src/rdd/sdf1.c
    trunk/harbour/src/rtl/gtcgi/gtcgi.c
    trunk/harbour/src/rtl/gtcrs/gtcrs.c
    trunk/harbour/src/rtl/gtcrs/gtcrs.h
    trunk/harbour/src/rtl/gtdos/gtdos.c
    trunk/harbour/src/rtl/gtpca/gtpca.c
    trunk/harbour/src/rtl/gtsln/gtsln.c
    trunk/harbour/src/rtl/gtsln/gtsln.h
    trunk/harbour/src/rtl/gtsln/kbsln.c
    trunk/harbour/src/rtl/gtstd/gtstd.c
    trunk/harbour/src/rtl/gttrm/gttrm.c
    trunk/harbour/src/rtl/gtwin/gtwin.c
    trunk/harbour/src/rtl/gtwvt/gtwvt.c
    trunk/harbour/src/rtl/gtxwc/gtxwc.c
    trunk/harbour/src/rtl/gtxwc/gtxwc.h
    trunk/harbour/src/rtl/hbgtcore.c
    trunk/harbour/src/vm/hvm.c
    trunk/harbour/src/vm/itemapi.c
    trunk/harbour/src/vm/set.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Dec  1 20:02:40 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec  1 20:02:51 2009
Subject: [Harbour] src/compiler
In-Reply-To: <20091201235143.GB4170@linux-4bod.home.aster.pl>
References: <20091130221708.GA23876@linux-4bod.home.aster.pl>
	<2D5A866D-6EF6-4A56-B714-7325E91ECC88@syenar.hu>
	<20091130234636.GB24394@linux-4bod.home.aster.pl>
	<97BE9542-5986-42B5-857C-AC0B589268FF@syenar.hu>
	<20091201004930.GA25734@linux-4bod.home.aster.pl>
	<BC9D9D92-DDCA-490C-96D3-20B7C8AF93A3@syenar.hu>
	<20091201024559.GA27188@linux-4bod.home.aster.pl>
	<9FF42A40-A4B6-403A-903E-FD2365E17975@syenar.hu>
	<20091201034851.GA27888@linux-4bod.home.aster.pl>
	<EC2BE2ED-AB89-466B-B767-609D16A78B08@syenar.hu>
	<20091201235143.GB4170@linux-4bod.home.aster.pl>
Message-ID: <B23C9400-2C2F-487F-AFA3-6B5C17F77552@syenar.hu>

Hi Przemek,

> I've already made this modification then I also made some tests with
> FSETDEVMOD() in C53 and before I'll commit it I have two questions:
> 1. CL53 returns only 1 or 2 and nothing more to indicate errors.
>   Should I replicate it?
> 2. In tests it looks that it has some logic to return value for
>   current file descriptor state if second parameter is not passed.
>   In our source code we have:
>      /* C53 checks only number of parameters: hb_pcount() == 2 */
>      if( HB_ISNUM( 1 ) && HB_ISNUM( 2 ) )
>      {
>         ...
>      }
>   are you sure that the note and condition are valid?

Just generic suggestions:

You can implement HB_FSETDEVMODE() in the best way you can, without hacks, 
then you can tailor FSETDEVMOD() to be as 5.3 compatible as possible with 
all the weirdnesses.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Dec  1 20:08:25 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec  1 20:08:35 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <20091202004258.GB8273@linux-4bod.home.aster.pl>
References: <20091127175338.GA22154@linux-4bod.home.aster.pl>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297D@PINK.zycie.pzu>
	<CC630377-92FA-40E2-9542-5A32C23F68B6@syenar.hu>
	<20091130192308.GA22293@linux-4bod.home.aster.pl>
	<4B150A55.5040208@mweb.co.za>
	<8E9240C4-09D4-4B75-889A-C808D7FD9732@syenar.hu>
	<4B15149B.3010309@mweb.co.za>
	<6257E932-46DD-4F25-82C8-A6A45A3DB730@syenar.hu>
	<20091201153343.GA18268@linux-4bod.home.aster.pl>
	<50113ADE-FC5E-4DC1-B35A-14AD1E8C6935@syenar.hu>
	<20091202004258.GB8273@linux-4bod.home.aster.pl>
Message-ID: <E5DC6AD8-0215-4B4C-BD70-C0522BA264CA@syenar.hu>

>> Just had time to read this bit, well, I couldn't have 
>> said it better. Probably many other improvements could 
>> be made on that driver. F.e. for me thos HB_ADORDD*() 
>> functions look a little strange in an RDD. They're 
>> needed to setup connection, and connection is stored 
>> in thread static data. I'm not sure this plays well 
>> with MT RDD features of Harbour.
> 
> Many things can be done but it needs someone interested enough
> in developing this code and with some deeper knowledge about RDD
> internals. Looking at this code I'm find still new things which
> should be implemented in different way. I can help with RDD code
> but there is no chance that I can make anything with strict ADO
> only code - it simply does not work in my Linux box ;-)
> It's enough that I was working on OLE code without even single
> runtime test.

That's the reason it got pulled from contrib. We need 
folks who are interested in this code.

>> Plus one issue: Marek used to tell that data types 
>> aren't properly translated to Harbour types.
> 
> Yes but it does not discards it. Many database drivers supports
> only some subset of available field types. I.e. there is no other
> DBF driver which can read all DBF fields supported by Harbour but
> it does not mean that rest of xbase worls does not have usable
> drivers ;-). In clean code things like new field types are usually
> easy to introduce and can be done by users who will need them.

Well, for me anything is fine :) It's up to real ADORDD 
users to fine tune all the details.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Dec  1 20:28:29 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec  1 20:28:36 2009
Subject: [Harbour] Initialization of static variables in loaded HRB
In-Reply-To: <26596357.post@talk.nabble.com>
References: <26596357.post@talk.nabble.com>
Message-ID: <20091202012829.GA10507@linux-4bod.home.aster.pl>

On Tue, 01 Dec 2009, Adam Lubszczyk wrote:

Hi,

> When the module HRB (or pcode-DLL) is loaded dynamically , You are looking
> for whether it was once used a similar table of symbols, and then it
> recycled.
> If it is recycled, then You do not initialize static variables.

Yes,

> There is a problem to perform re-initialization ?

In current code there are no technical problems.
I resolved existing problems which made such operation very
complicated adding MT support to Harbour.
But there are some logical code aspects where unconditional
reinitialization of static variables is not good option.
I.e. some codeblock may still exists after unloading .hrb module
and use static variables from this module. When module is loaded
second time without static variable reinitialization then they
can continue their work without any problems.
Such behavior allows to load, unload and load again code which
defines new classes. Reinitialization of static variables will
cause that after reloading all class functions will try to
register the same classes again.

> Lack of initialization of static variables, of course, provides additional
> possibilities, but I think only the EXTRA. Normally, I expect that re-loaded
> the module will behave just like the first time.
> There are also other problems, such as when we have different versions of
> the same function, and in the program we load modules several times.
> Sample:
> **** hrb1.prg -> hrb1.hrb ****
> FUNCTION abc()
> LOCAL x:="HRB1: ++2 from init static 30 - Now is:"
> STATIC y:=30
> y:=y+VAL("2")
> RETURN x+STR(y,5)
> 
> **** hrb2.prg -> hrb2.hrb ****
> STATIC z:=70
> FUNCTION abc()
> LOCAL x:="HRB2: --3 from 70 initalized. Now is: "
> LOCAL w:=VAL("2")
> LOCAL s:=" plus "
> s:=s+"extra "
> z:=z-w
> --z
> s:=s+"string :)"
> RETURN x+STR(z,5)+s
> 
> **** main.prg -> main.exe ****
> PROCEDURE MAIN
> LOCAL i,hh
> FOR i:=1 TO 2
>   ? "HRB1 load by #",i
>   hh:=HB_HRBLOAD("hrb1.hrb")
>   ? "ABC()->",&("ABC()")
>   ? "ABC()->",&("ABC()")
>   ? "HBR1 unload #",i
>   HB_HRBUNLOAD(hh)
>   ? "HRB2 load by #",i
>   hh:=HB_HRBLOAD("hrb2.hrb")
>   ? "ABC()->",&("ABC()")
>   ? "ABC()->",&("ABC()")
>   ? "HBR2 unload #",i
>   HB_HRBUNLOAD(hh)
> NEXT
> RETURN
> ******************************
> We obtain the result:
> 
> HRB1 load by #          1
> ABC()-> HRB1: ++2 from init static 30 - Now is:   32
> ABC()-> HRB1: ++2 from init static 30 - Now is:   34
> HBR1 unload #          1
> HRB2 load by #          1
> ABC()-> HRB2: --3 from 70 initalized. Now is:    31 plus extra string :)
> ABC()-> HRB2: --3 from 70 initalized. Now is:    28 plus extra string :)
> HBR2 unload #          1
> HRB1 load by #          2
> ABC()-> HRB1: ++2 from init static 30 - Now is:   30
> ABC()-> HRB1: ++2 from init static 30 - Now is:   32
> HBR1 unload #          2
> HRB2 load by #          2
> ABC()-> HRB2: --3 from 70 initalized. Now is:    29 plus extra string :)
> ABC()-> HRB2: --3 from 70 initalized. Now is:    26 plus extra string :)
> HBR2 unload #          2
> 
> Strange result is not it?
> HRB2 get static value from HRB1 and vice versa !!!

It's expected behavior.
It allows to register and unregister .HRB modules dynamically compiled from
.prg code in long running programs like some servers though I can imagine
situations when user would prefer different behavior.

> Przemek, maybe can You add options to HB_HRBLOAD () which will force a
> re-initialization of static variables like: hb_hrbload( HB_HRB_INIT_STATIC,
> "hrb.hrb")
> or better: hb_hrbload("hrb.hrb") normal and: hb_hrbload(
> HB_HRB_NO_INIT_STATIC, "hrb.hrb") extra feature.

I have similar option in my TODO list nearly from beginning of my work
on .hrb code (you can find some messaged about it in this mail list archive)
but so far I haven't found time to implement it. I'll try to give higher
priority to it ;-)
Please also note that such reinitialization can be done in two different
ways:
1) by simple overloading existing static variables
2) by allocating new static variables and detaching old ones so
   if some codeblocks created by previously loaded HRB module are
   still alive then they will access previous instances of static
   variables not the new ones.
and probably some users will also want to control it.

best regards,
Przemek
From vouchcac at users.sourceforge.net  Tue Dec  1 21:11:34 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Dec  1 21:11:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13090] trunk/harbour
Message-ID: <E1NFego-0000ey-3F@c3vjzd1.ch3.sourceforge.com>

Revision: 13090
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13090&view=rev
Author:   vouchcac
Date:     2009-12-02 02:11:32 +0000 (Wed, 02 Dec 2009)

Log Message:
-----------
2009-12-01 18:09 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  * contrib/hbxbp/xbpstatusbar.prg
    + Started <Status Bar> information. Now XbpStatusBar() honors multiple panels.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbxbp/xbpstatusbar.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Dec  1 21:12:16 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Dec  1 21:12:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13091] trunk/harbour
Message-ID: <E1NFehU-00089s-3K@3kljzd1.ch3.sourceforge.com>

Revision: 13091
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13091&view=rev
Author:   druzus
Date:     2009-12-02 02:12:14 +0000 (Wed, 02 Dec 2009)

Log Message:
-----------
2009-12-02 03:12 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/doc/en-EN/hb_apifs.txt
  * harbour/include/hbapifs.h
  * harbour/src/rtl/filesys.c
    * changed:
         BOOL hb_fsSetDevMode( HB_FHANDLE hFileHandle, USHORT uiDevMode )
      to:
         int hb_fsSetDevMode( HB_FHANDLE hFileHandle, int iDevMode )
      Now it returns previous mode for hFileHandle or -1 on error.
      if iDevMode == 0 then it does not change device mode.

  * harbour/src/rtl/philes.c
    * modified HB_FSETDEVMODE() function to work with new hb_fsSetDevMode()
      Current syntax is:
         HB_FSETDEVMODE( <hFile> [, <nNewMode> ] ) -> <nOldMode>
      It may return FD_BINARY, FD_TEXT or FS_ERROR.

  * harbour/src/rtl/philes53.c
    * modified FSETDEVMOD() function to work with new hb_fsSetDevMode()
      It's similar to HB_FSETDEVMODE() but returns FD_BINARY instead of
      FS_ERROR. Such behavior is more closer to CL53.

  * harbour/src/rtl/console.c
    * set also STDIN into binary mode

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/en-EN/hb_apifs.txt
    trunk/harbour/include/hbapifs.h
    trunk/harbour/src/rtl/console.c
    trunk/harbour/src/rtl/filesys.c
    trunk/harbour/src/rtl/philes.c
    trunk/harbour/src/rtl/philes53.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Dec  1 21:41:02 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec  1 21:41:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13091] trunk/harbour
In-Reply-To: <E1NFehU-00089s-3K@3kljzd1.ch3.sourceforge.com>
References: <E1NFehU-00089s-3K@3kljzd1.ch3.sourceforge.com>
Message-ID: <0A48046F-4B05-4473-A4DD-86F4A8E14033@syenar.hu>

Many thanks.

Brgds,
Viktor

On 2009 Dec 2, at 03:12, druzus@users.sourceforge.net wrote:

> Revision: 13091
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13091&view=rev
> Author:   druzus
> Date:     2009-12-02 02:12:14 +0000 (Wed, 02 Dec 2009)
> 
> Log Message:
> -----------
> 2009-12-02 03:12 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/doc/en-EN/hb_apifs.txt
>  * harbour/include/hbapifs.h
>  * harbour/src/rtl/filesys.c
>    * changed:
>         BOOL hb_fsSetDevMode( HB_FHANDLE hFileHandle, USHORT uiDevMode )
>      to:
>         int hb_fsSetDevMode( HB_FHANDLE hFileHandle, int iDevMode )
>      Now it returns previous mode for hFileHandle or -1 on error.
>      if iDevMode == 0 then it does not change device mode.
> 
>  * harbour/src/rtl/philes.c
>    * modified HB_FSETDEVMODE() function to work with new hb_fsSetDevMode()
>      Current syntax is:
>         HB_FSETDEVMODE( <hFile> [, <nNewMode> ] ) -> <nOldMode>
>      It may return FD_BINARY, FD_TEXT or FS_ERROR.
> 
>  * harbour/src/rtl/philes53.c
>    * modified FSETDEVMOD() function to work with new hb_fsSetDevMode()
>      It's similar to HB_FSETDEVMODE() but returns FD_BINARY instead of
>      FS_ERROR. Such behavior is more closer to CL53.
> 
>  * harbour/src/rtl/console.c
>    * set also STDIN into binary mode
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/doc/en-EN/hb_apifs.txt
>    trunk/harbour/include/hbapifs.h
>    trunk/harbour/src/rtl/console.c
>    trunk/harbour/src/rtl/filesys.c
>    trunk/harbour/src/rtl/philes.c
>    trunk/harbour/src/rtl/philes53.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at users.sourceforge.net  Tue Dec  1 22:18:46 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Dec  1 22:18:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13092] trunk/harbour
Message-ID: <E1NFfjq-0000fS-3D@3kljzd1.ch3.sourceforge.com>

Revision: 13092
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13092&view=rev
Author:   druzus
Date:     2009-12-02 03:18:45 +0000 (Wed, 02 Dec 2009)

Log Message:
-----------
2009-12-02 04:18 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/maindllp.c
  * harbour/contrib/gtwvg/wvgsink.c
    % removed redefined HBTEXT() macro

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgsink.c
    trunk/harbour/src/vm/maindllp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bhays at abacuslaw.com  Tue Dec  1 23:38:26 2009
From: bhays at abacuslaw.com (bhays)
Date: Tue Dec  1 23:38:44 2009
Subject: [Harbour] RE: CHANGELOG: 2009-12-01 01:37 UTC-0800 Brian Hays
In-Reply-To: <20091201231439.GA31572@linux-4bod.home.aster.pl>
References: <0a0b01ca72d3$48cd9920$da68cb60$@com>
	<20091201231439.GA31572@linux-4bod.home.aster.pl>
Message-ID: <0a7601ca7309$4a117b40$de3471c0$@com>

Przemek:

Thanks.  If I hear no other feedback, I'll remove the RTE so the code
you described can still work.

Does anyone else have an opinion as to whether it's useful to add
the feature of an explicit NIL value to mean to "return to default 
direction" ?   Or is it not worth the trouble, and unlikely to
be supported in other RDDs anyway?

--
Brian Hays


> -----Original Message-----
> From: Przemys?aw Czerpak [mailto:druzus@acn.waw.pl]
> Sent: Tuesday, December 01, 2009 3:15 PM
> To: bhays; 'Viktor Szak?ts'; Harbour Project Main Developer List.
> Subject: Re: CHANGELOG: 2009-12-01 01:37 UTC-0800 Brian Hays
> 
> On Tue, 01 Dec 2009, Brian Hays wrote:
> 
> > I need help with a decision on whether to throw an error or not.
> Please see discussion below.
> > 2009-12-01 01:37 UTC-0800 Brian Hays <bhays/at/abacuslaw.com>
....


> Dynamic DESCEND flag is not supported also in many Clipper RDDs.
> So far the standard way in Clipper and [x]Harbour to check if dynamic
> descending order is supported was checking the value returned by:
>    ordDescend( [<tag>], [<bag>] )
> just after:
>    ordDescend( [<tag>], [<bag>], <lOnOff> )
> i.e.:
>    ordDescend( nTag,, .T. )
>    ? "order:", iif( ordDescend( nTag ), "descending", "ascending" )
> 
> such code works for any RDDs and will work also for ADS if you do not
> enable such RTE.
> In all core native RDDs (NTX, CDX, NSX) I implemented dynamic descend
> flags so such RTE cannot be generated so I think that it will be most
> important for ADS users which without RTE can easy create the same code
> for different ADS versions.
> 
> > A second question:  AdsSetIndexDirection takes an unusual flag that
> > EITHER takes 0 to return to the original state, or TRUE to 
> > "reverse the direction from the current state"
> > IOW, they have the ability to ?go back to normal which IIUC
> > Clipper/(x)Harbour does NOT.

> To clarify some technical issues.
> In indexes like CDX, ADI or NSX there is no "normal" state.
> Physically they exist only in ascending order and descending
> order is done by logical flag (BTW I'm surprised why adding
> user interface to change such logical flag took such long time
> ADS authors) so we can talk only about default settings for
> this flag stored in index header. Only NTX format uses reverted
> key orders in index file to implement default descending sorting
> so in our DBFNTX I implemented both versions and it's possible
> to use dynamic switching too just like in CDX or NSX formats.
> 
> I guess that you are asking about method of "resetting" DESCEND
> flag to value chose by RDD when index is open. So far we do not
> have such functionality though it can be easy implemented if we
> agree how to inform RDD that we want to "reset" this flag.
> 
> > Am I missing something?  It would be nice to have a value to "return
> > to native state" in our syntax
> > instead of requiring a close/re-open of the file.  Note: Once the
> > direction has been dynamically changed, ordDescend() is only 
> > capable of returning the CURRENT state; there is no
> > api to get the Original direction setting.
> 
> Please remember that we are always in native state. The order direction
> is in practice only logical flag. Usually structural code have to safe
> and restore descend flag settings because it cannot assume that it was
> in the same state as after opening table. Operation like resetting
> order
> DESCEND flag to the same state as after opening table are not
> structural
> so are less usable in most of code. Probably the only one type of code
> I can imagine is some DBU like program which may want to display some
> information with default order settings.
> 
> > In some COMIX functions, there was the difference between an explicit
> NIL
> > and an ignored parameter
> > to distinguish between intentions.  I never liked having to explain
> it to
> > people, BUT
> > this may be an instance where explicitly passing NIL as the third arg
> could
> > be the flag
> > to revert to the original state of the index.
> 
> NIL can be used for such job. In such case it's necessary to modify
> ordDescend() in dbcmd53.c and change:
>       pOrderInfo.itmNewVal = hb_param( 3 , HB_IT_LOGICAL );
> to:
>       pOrderInfo.itmNewVal = hb_param( 3 , HB_IT_LOGICAL );
>       if( pOrderInfo.itmNewVal )
>          pOrderInfo.itmNewVal = hb_param( 3 , HB_IT_NIL );
> 
> > Is there a good way to add the extended value/functionality of either
> > learning or setting the original direction?
> 
> The other method is defining new DBOI_* action for dbInfo() to extract
> default DESCEND flag settings which can be used as ordDescend()
> parameter.
> 
> best regards,
> Przemek
> No virus found in this incoming message.
> Checked by AVG - www.avg.com
> Version: 8.5.426 / Virus Database: 270.14.67/2506 - Release Date:
> 12/01/09 07:59:00

From vouchcac at users.sourceforge.net  Wed Dec  2 01:38:03 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Dec  2 01:38:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13093] trunk/harbour
Message-ID: <E1NFiqh-0003cm-BZ@3kljzd1.ch3.sourceforge.com>

Revision: 13093
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13093&view=rev
Author:   vouchcac
Date:     2009-12-02 06:38:02 +0000 (Wed, 02 Dec 2009)

Log Message:
-----------
2009-12-01 22:35 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/idemisc.prg
  * contrib/hbide/hbide.prg
    ! Fixed many-many artifacts including the restoring of last cursor position.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idemisc.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From niki at synel.co.il  Wed Dec  2 02:09:49 2009
From: niki at synel.co.il (Chen Kedem)
Date: Wed Dec  2 02:13:53 2009
Subject: [Harbour] SF bug tracker#2906734: ClassMethod: Message not
	found (Error)
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D8375F402@Mail-yoq.SYNEL-COMPANY.LTD>

Przemek,

> Neither Harbour nor xHarbour supports class objects like Class(y)
> :

Thanks you for your reply.
Should I mark this report as a Feature Request and leave it open,
or close it with "Not going to Fix" status?

  Chen.
From mbelgrano at deltain.it  Wed Dec  2 04:09:16 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec  2 04:09:44 2009
Subject: [Harbour] Error with qt 4.6 final version for mingw 4.4
Message-ID: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com>

I have download final version version of qt
Download Qt libraries 4.6 for Windows (minGW 4.4, 273 MB)
SET HB_WITH_QT=devl\qt\4.6.0\include
SET HB_DIR_QT=devl\qt\4.6.0
IN MINHW VERSION mingw
During install it require me version 4.4.0 but i not have it
when compile hbide receive error
hbmk2: Linking... hbide.exe
c:/devl/qt/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0x3c3): u
defined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0x44f): u
defined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0x4db): u
defined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0x89c): u
defined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0xb5c): u
defined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0xd39): m
re undefined references to `_Unwind_Resume' follow
c:/devl/qt/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.eh_frame+0x12)
 undefined reference to `__gxx_personality_v0'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.
pp:(.text+0x1b0): undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.
pp:(.text+0x273): undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.
pp:(.text+0x2c7): undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.
pp:(.text+0x31b): undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.
pp:(.text+0x57b): undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.
pp:(.text+0x5ec): more undefined references to `_Unwind_Resume' follow
c:/devl/qt/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.
pp:(.eh_frame+0x12): undefined reference to `__gxx_personality_v0'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0x6a)
 undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0x419
: undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0x51e
: undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0x606
: undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0x69a
: undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0x736
: more undefined references to `_Unwind_Resume' follow
c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.eh_frame+0
12): undefined reference to `__gxx_personality_v0'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(textbuilder.o):textbuilder.cpp:(.text+0xfc)
 undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(textbuilder.o):textbuilder.cpp:(.eh_frame+0
12): undefined reference to `__gxx_personality_v0'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.
ext+0x4bb): undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.
ext+0x5a7): undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.
ext+0xe85): undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.
ext+0xf2c): undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.
ext+0xfc4): undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.
ext+0x166d): more undefined references to `_Unwind_Resume' follow
c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.
h_frame+0x12): undefined reference to `__gxx_personality_v0'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(moc_properties_p.o):moc_properties_p.cpp:(.
h_frame+0x11): undefined reference to `__gxx_personality_v0'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x4440): undefined re
erence to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x4a0d): undefined re
erence to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x4ff1): undefined re
erence to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x5669): undefined re
erence to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x5c4d): undefined re
erence to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x6231): more undefin
d references to `_Unwind_Resume' follow
c:/devl/qt/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.eh_frame+0x12): undefined
eference to `__gxx_personality_v0'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(resourcebuilder.o):resourcebuilder.cpp:(.te
t+0x91f): undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(resourcebuilder.o):resourcebuilder.cpp:(.te
t+0x980): undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(resourcebuilder.o):resourcebuilder.cpp:(.te
t+0x99d): undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(resourcebuilder.o):resourcebuilder.cpp:(.te
t+0xa8c): undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(resourcebuilder.o):resourcebuilder.cpp:(.eh
frame+0x12): undefined reference to `__gxx_personality_v0'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x140):
undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x1331)
 undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x13a0)
 undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x13cb)
 undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x13f8)
 undefined reference to `_Unwind_Resume'
c:/devl/qt/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x140b)
 more undefined references to `_Unwind_Resume' follow
c:/devl/qt/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.eh_frame+0x1
): undefined reference to `__gxx_personality_v0'
collect2: ld returned 1 exit status

with the microsoft version of qt with
HB_WITH_QT=c:devl\qtvc\4.6.0\include i compile hbide without problem
--
Massimo Belgrano
From druzus at acn.waw.pl  Wed Dec  2 04:21:03 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec  2 04:21:10 2009
Subject: [Harbour] SF bug tracker#2906734: ClassMethod: Message not
	found (Error)
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D8375F402@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D8375F402@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20091202092103.GA372@linux-4bod.home.aster.pl>

On Wed, 02 Dec 2009, Chen Kedem wrote:

Hi,

> > Neither Harbour nor xHarbour supports class objects like Class(y)
> Thanks you for your reply.
> Should I mark this report as a Feature Request and leave it open,
> or close it with "Not going to Fix" status?

I still want to add Class(y) like class objects (xBase++ also have sth
like that). This is very nice solution which resolves some bad
problems. I.e. passing class objects as references to parent class
perfectly resolves the problem of defining new classes which inherits
from some others using some functions encapsulating real class functions.
Now it does not work or work wrongly by silent instantiating and removing
of some object like in xHarbour.
The problem is that it cannot be easy added due to backward compatibility.
Harbour inherited from FWH some parts of not not well thought OOP syntax
and many people use it now. Probably it will be necessary to create
hbclsfwh.ch file for backward compatibility. Anyhow I plan to add it but
I cannot say when.

best regards,
Przemek
From M.Horodyski at pzuzycie.com.pl  Wed Dec  2 05:00:19 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Dec  2 05:00:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13028] trunk/harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC2D16@PINK.zycie.pzu>
References: <E1NDiHm-0008Mg-I5@74yxhf1.ch3.sourceforge.com><2E4EF95F-9A74-4488-9340-1F9696884678@syenar.hu><26534421.post@talk.nabble.com><DFDD1832-AC33-4C0E-B3A9-49A157E40C04@syenar.hu><FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC2965@PINK.zycie.pzu><26544934.post@talk.nabble.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC2D16@PINK.zycie.pzu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC2ECF@PINK.zycie.pzu>

>-----Original Message-----
>From: Horodyski Marek (PZUZ) 
>Sent: Tuesday, December 01, 2009 12:53 PM
>To: Harbour Project Main Developer List.
>Subject: RE: [Harbour] SF.net SVN: harbour-project:[13028] 
>trunk/harbour
>
>I have an example! :)

...
*--------------------
Function Main()
Local key
#include "inkey.ch"
KSetCaps( .t.)
Cls
? 'press and release the left alt and then press the arrow keys,'
? 'then press and release right alt and then press the arrow keys.
? 'When there is no difference - 3x repeat the test.'

? 'Hit any key, ESC edns ...'

While ( key := InKey( 0, INKEY_ALL)) != 27
  ? Key
 End
 __Wait( '...?')
 Return Nil
*------------------

I forgot - KSetCaps() is from ct lib.

Regards,
Marek Horodyski
From fernando_athayde at yahoo.com.br  Wed Dec  2 05:42:44 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Wed Dec  2 05:42:51 2009
Subject: [Harbour] building harbour with QT a lot of error
In-Reply-To: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com>
Message-ID: <861885.62132.qm@web52207.mail.re2.yahoo.com>

C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:113:   instant
iated from `QVector<T>::QVector(const QVector<T>&) [with T = QPoint]'
C:/Qt/2009.03/qt/include/QtGui/../../src/gui/painting/qpolygon.h:66:   instantia
ted from here
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:444: error: no
 matching function for call to `operator new(unsigned int, QPoint*&)'
<internal>:0: note: candidates are: void* operator new(unsigned int)
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:315:   instant
iated from `void QVector<T>::detach_helper() [with T = QPoint]'
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:113:   instant
iated from `QVector<T>::QVector(const QVector<T>&) [with T = QPoint]'
C:/Qt/2009.03/qt/include/QtGui/../../src/gui/painting/qpolygon.h:66:   instantia
ted from here
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:484: error: no
 matching function for call to `operator new(unsigned int, QPoint*&)'
<internal>:0: note: candidates are: void* operator new(unsigned int)
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:491: error: no
 matching function for call to `operator new(unsigned int, QPoint*&)'
<internal>:0: note: candidates are: void* operator new(unsigned int)
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h: In member fun
ction `void QVector<T>::realloc(int, int) [with T = QPointF]':
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:315:   instant
iated from `void QVector<T>::detach_helper() [with T = QPointF]'
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:113:   instant
iated from `QVector<T>::QVector(const QVector<T>&) [with T = QPointF]'
C:/Qt/2009.03/qt/include/QtGui/../../src/gui/painting/qpolygon.h:131:   instanti
ated from here
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:444: error: no
 matching function for call to `operator new(unsigned int, QPointF*&)'
<internal>:0: note: candidates are: void* operator new(unsigned int)
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:315:   instant
iated from `void QVector<T>::detach_helper() [with T = QPointF]'
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:113:   instant
iated from `QVector<T>::QVector(const QVector<T>&) [with T = QPointF]'
C:/Qt/2009.03/qt/include/QtGui/../../src/gui/painting/qpolygon.h:131:   instanti
ated from here
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:484: error: no
 matching function for call to `operator new(unsigned int, QPointF*&)'
<internal>:0: note: candidates are: void* operator new(unsigned int)
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:491: error: no
 matching function for call to `operator new(unsigned int, QPointF*&)'
<internal>:0: note: candidates are: void* operator new(unsigned int)
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h: In member fun
ction `void QVector<T>::realloc(int, int) [with T = QTextLength]':
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:315:   instant
iated from `void QVector<T>::detach_helper() [with T = QTextLength]'
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:113:   instant
iated from `QVector<T>::QVector(const QVector<T>&) [with T = QTextLength]'
C:/Qt/2009.03/qt/include/QtGui/../../src/gui/text/qtextformat.h:788:   instantia
ted from here
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:444: error: no
 matching function for call to `operator new(unsigned int, QTextLength*&)'
<internal>:0: note: candidates are: void* operator new(unsigned int)
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:315:   instant
iated from `void QVector<T>::detach_helper() [with T = QTextLength]'
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:113:   instant
iated from `QVector<T>::QVector(const QVector<T>&) [with T = QTextLength]'
C:/Qt/2009.03/qt/include/QtGui/../../src/gui/text/qtextformat.h:788:   instantia
ted from here
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:484: error: no
 matching function for call to `operator new(unsigned int, QTextLength*&)'
<internal>:0: note: candidates are: void* operator new(unsigned int)
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:491: error: no
 matching function for call to `operator new(unsigned int, QTextLength*&)'
<internal>:0: note: candidates are: void* operator new(unsigned int)
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qlist.h: In member funct
ion `void QList<T>::node_copy(QList<T>::Node*, QList<T>::Node*, QList<T>::Node*)
 [with T = QStyleOptionQ3ListViewItem]':
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qlist.h:525:   instantia
ted from `void QList<T>::detach_helper() [with T = QStyleOptionQ3ListViewItem]'
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qlist.h:381:   instantia
ted from `QList<T>& QList<T>::operator=(const QList<T>&) [with T = QStyleOptionQ
3ListViewItem]'
C:/Qt/2009.03/qt/include/QtGui/../../src/gui/styles/qstyleoption.h:742:   instan
tiated from here
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qlist.h:360: error: no m
atching function for call to `operator new(unsigned int, QList<QStyleOptionQ3Lis
tViewItem>::Node*)'
<internal>:0: note: candidates are: void* operator new(unsigned int)
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h: In member fun
ction `void QVector<T>::realloc(int, int) [with T = QPainterPath::Element]':
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:315:   instant
iated from `void QVector<T>::detach_helper() [with T = QPainterPath::Element]'
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:129:   instant
iated from `void QVector<T>::detach() [with T = QPainterPath::Element]'
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:228:   instant
iated from `T* QVector<T>::begin() [with T = QPainterPath::Element]'
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:241:   instant
iated from `T& QVector<T>::first() [with T = QPainterPath::Element]'
C:/Qt/2009.03/qt/include/QtGui/../../src/gui/painting/qpainterpath.h:370:   inst
antiated from here
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:444: error: no
 matching function for call to `operator new(unsigned int, QPainterPath::Element
*&)'
<internal>:0: note: candidates are: void* operator new(unsigned int)
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:315:   instant
iated from `void QVector<T>::detach_helper() [with T = QPainterPath::Element]'
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:129:   instant
iated from `void QVector<T>::detach() [with T = QPainterPath::Element]'
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:228:   instant
iated from `T* QVector<T>::begin() [with T = QPainterPath::Element]'
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:241:   instant
iated from `T& QVector<T>::first() [with T = QPainterPath::Element]'
C:/Qt/2009.03/qt/include/QtGui/../../src/gui/painting/qpainterpath.h:370:   inst
antiated from here
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:484: error: no
 matching function for call to `operator new(unsigned int, QPainterPath::Element
*&)'
<internal>:0: note: candidates are: void* operator new(unsigned int)
C:/Qt/2009.03/qt/include/QtCore/../../src/corelib/tools/qvector.h:491: error: no
 matching function for call to `operator new(unsigned int, QPainterPath::Element
*&)'
<internal>:0: note: candidates are: void* operator new(unsigned int)
mingw32-make.exe[3]: *** [moc_slots.o] Error 1
mingw32-make.exe[2]: *** [descend] Error 2
mingw32-make.exe[1]: *** [hbqt] Error 2
mingw32-make.exe: *** [contrib] Error 2

my bath

set include=E:\mingw\include;e:\harbour_gcc\include;e:\hwguigcc\include

set lib=E:\mingw\lib;e:\harbour_gcc\lib;e:\hwguigcc\lib

PATH=e:\harbour_gcc;E:\mingw\BIN;E:\MinGW\libexec\gcc\mingw32\3.4.5;e:\harbour_gcc\bin;e:\libhwgui\lib;%PATH%

set HB_BUILD_DLL=yes
set HB_INSTALL_PREFIX=e:\harbour_gcc
#set HB_BIN_COMPILE=E:\harbour_cvs\bin\win\gcc
SET HRB_DIR=e:\harbour_gcc

SET HB_WITH_QT=C:\Qt\2009.03\qt\include
SET HB_DIR_QT=C:\Qt\2009.03\qt

SET HB_WITH_MYSQL=C:\mysql\include
SET HB_INC_MYSQL=C:\mysql\include
SET HB_DIR_MYSQL=C:\mysql

SET HB_PATH=e:\harbour_gcc

Best regards,
Fernando Athayde



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091202/dd2000e9/attachment.html
From vszakats at users.sourceforge.net  Wed Dec  2 05:44:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  2 05:44:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13094] trunk/harbour
Message-ID: <E1NFmgp-0007Nd-NP@3kljzd1.ch3.sourceforge.com>

Revision: 13094
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13094&view=rev
Author:   vszakats
Date:     2009-12-02 10:44:06 +0000 (Wed, 02 Dec 2009)

Log Message:
-----------
2009-12-02 11:42 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/philes.c
  * include/hbextern.ch
    + Added HB_FISDEVICE()

    ; NOTE: Didn't add anything to hbmk2 yet, as after testing I found it 
            weird and unusual that the output is different when redirected, 
            but we may think of some other solution, like user option or else.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbextern.ch
    trunk/harbour/src/rtl/philes.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Dec  2 05:49:05 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec  2 05:49:32 2009
Subject: [Harbour] with Win_prn class I can't use PaperWidth and PaperLength
Message-ID: <609353e70912020249i7ac14e87kc458dcfff70c6ad4@mail.gmail.com>

On harbour group on facebook i have received following  question
http://www.facebook.com/group.php?gid=48795263775
can somebody help me
-----------------------------
I want to print on custom paper size with my software (created with
Harbour+gtwvg)
Previously I used win32prn (with xHarbour) and used following code for
half page printing (where oPrinter is a Win32prn object):
if lHalfPage
oPrinter:PaperWidth = 8.5*25.4*10
oPrinter:PaperLength = 6*25.4*10
endif

But with Win_prn class, I can't use PaperWidth and PaperLength
properties. So, I can't solve the problem.
-----------------------------
-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Wed Dec  2 05:49:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  2 05:49:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13095] trunk/harbour
Message-ID: <E1NFmm5-0007T3-Fr@3kljzd1.ch3.sourceforge.com>

Revision: 13095
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13095&view=rev
Author:   vszakats
Date:     2009-12-02 10:49:32 +0000 (Wed, 02 Dec 2009)

Log Message:
-----------
2009-12-02 11:46 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Added HB_DIR_*, HB_INC_* settings to ones which users
      should NOT have in their setup anymore.
      Please delete them, it's just noise on the dev list.

      This current full list:
        set HB_PATH=<Harbour root dir>
        set HRB_DIR=<Some Harbour dir>
        set INCLUDE=<Harbour include dir>
        set LIB=<Harbour lib dir>
        set HB_INC_*=
        set HB_DIR_*=

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Dec  2 06:23:16 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec  2 06:23:44 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com>
Message-ID: <609353e70912020323j5eea32d6tc7bd5f9caf5d4b12@mail.gmail.com>

compiling with
SET HB_WITH_QT=C:\devl\Qt\2009.04\qt\include
PATH=C:\devl\MinGWtdm\bin;c:\harbour\%HB_COMPILER%\bin;c:\devl\qt\4.6.0\bin;%PATH%
work fine
instead with
SET HB_WITH_QT=c:\devl\qt\4.6.0\include
PATH=C:\devl\MinGWtdm\bin;c:\harbour\%HB_COMPILER%\bin;c:\devl\qt\4.6.0\bin;%PATH%
give error like prev post
c:/devl/qt/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0x3c3): un
defined reference to `_Unwind_Resume'
..

Another little question
How Is possible give high priority  to process/batch file that compile
harbour in windows platform?

2009/12/2 Massimo Belgrano <mbelgrano@deltain.it>:
> I have download final version version of qt
> Download Qt libraries 4.6 for Windows (minGW 4.4, 273 MB)
> SET HB_WITH_QT=devl\qt\4.6.0\include
> SET HB_DIR_QT=devl\qt\4.6.0
> IN MINHW VERSION mingw
> During install it require me version 4.4.0 but i not have it
> when compile hbide receive error
> hbmk2: Linking... hbide.exe
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0x3c3): u
> defined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0x44f): u
> defined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0x4db): u
> defined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0x89c): u
> defined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0xb5c): u
> defined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0xd39): m
> re undefined references to `_Unwind_Resume' follow
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.eh_frame+0x12)
> ?undefined reference to `__gxx_personality_v0'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.
> pp:(.text+0x1b0): undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.
> pp:(.text+0x273): undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.
> pp:(.text+0x2c7): undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.
> pp:(.text+0x31b): undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.
> pp:(.text+0x57b): undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.
> pp:(.text+0x5ec): more undefined references to `_Unwind_Resume' follow
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.
> pp:(.eh_frame+0x12): undefined reference to `__gxx_personality_v0'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0x6a)
> ?undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0x419
> : undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0x51e
> : undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0x606
> : undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0x69a
> : undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0x736
> : more undefined references to `_Unwind_Resume' follow
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.eh_frame+0
> 12): undefined reference to `__gxx_personality_v0'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(textbuilder.o):textbuilder.cpp:(.text+0xfc)
> ?undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(textbuilder.o):textbuilder.cpp:(.eh_frame+0
> 12): undefined reference to `__gxx_personality_v0'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.
> ext+0x4bb): undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.
> ext+0x5a7): undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.
> ext+0xe85): undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.
> ext+0xf2c): undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.
> ext+0xfc4): undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.
> ext+0x166d): more undefined references to `_Unwind_Resume' follow
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.
> h_frame+0x12): undefined reference to `__gxx_personality_v0'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(moc_properties_p.o):moc_properties_p.cpp:(.
> h_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x4440): undefined re
> erence to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x4a0d): undefined re
> erence to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x4ff1): undefined re
> erence to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x5669): undefined re
> erence to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x5c4d): undefined re
> erence to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x6231): more undefin
> d references to `_Unwind_Resume' follow
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.eh_frame+0x12): undefined
> eference to `__gxx_personality_v0'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(resourcebuilder.o):resourcebuilder.cpp:(.te
> t+0x91f): undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(resourcebuilder.o):resourcebuilder.cpp:(.te
> t+0x980): undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(resourcebuilder.o):resourcebuilder.cpp:(.te
> t+0x99d): undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(resourcebuilder.o):resourcebuilder.cpp:(.te
> t+0xa8c): undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(resourcebuilder.o):resourcebuilder.cpp:(.eh
> frame+0x12): undefined reference to `__gxx_personality_v0'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x140):
> undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x1331)
> ?undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x13a0)
> ?undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x13cb)
> ?undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x13f8)
> ?undefined reference to `_Unwind_Resume'
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x140b)
> ?more undefined references to `_Unwind_Resume' follow
> c:/devl/qt/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.eh_frame+0x1
> ): undefined reference to `__gxx_personality_v0'
> collect2: ld returned 1 exit status
>
> with the microsoft version of qt with
> HB_WITH_QT=c:devl\qtvc\4.6.0\include i compile hbide without problem
> --
> Massimo Belgrano
>



-- 
Massimo Belgrano
From dmacias at mail.udg.mx  Wed Dec  2 06:47:15 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Dec  2 06:47:40 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
Message-ID: <4B1653C3.1010000@mail.udg.mx>

Przemek:

>Yes, I want you add it to src/rtl/gtos2/Makefile at line 5

Sorry, I confused "add" with "change"

>> I used:
>>  set HB_BUILD_OPTIM=no

>and what you have recompiled later and how?
>Sorry that I'm asking but I have to be sure what exactly was done.
>Many thanks for your tests.

Fresh SVN, set HB_BUILD_OPTIM=no, build entire Harbour, apply tests

Now below are tests with only src\rtl\gtos2\Makefile adding:
  HB_BUILD_OPTIM := no


Tests with
   speedtst.exe --thread ...
does not fail with GPF

Below are results using:
------------------------
    hbmk2 -m -n -w -es2 -l -kmo -gc3 speedtst.prg
       speedtst.exe
    hbmk2 -m -n -w -es2 -l -kmo -gc3 -mt speedtst.prg
       speedtst.exe
       speedtst.exe --thread
       speedtst.exe --thread=2 --scale
------------------------

David Macias


2009.12.02 05:30:38 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13082) Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.03
[ T002: x := L_N ]..............................................0.00
[ T003: x := L_D ]..............................................0.03
[ T004: x := S_C ]..............................................0.03
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.00
[ T007: x := M->M_C ]...........................................0.03
[ T008: x := M->M_N ]...........................................0.03
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.03
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.03
[ T013: x := F_C ]..............................................0.10
[ T014: x := F_N ]..............................................0.13
[ T015: x := F_D ]..............................................0.10
[ T016: x := o:Args ]...........................................0.10
[ T017: x := o[2] ].............................................0.06
[ T018: round( i / 1000, 2 ) ]..................................0.16
[ T019: str( i / 1000 ) ].......................................0.39
[ T020: val( s ) ]..............................................0.13
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.23
[ T022: dtos( d - i % 10000 ) ].................................0.29
[ T023: eval( { || i % 16 } ) ].................................0.23
[ T024: eval( bc := { || i % 16 } ) ]...........................0.13
[ T025: eval( { |x| x % 16 }, i ) ].............................0.19
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.16
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.23
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.23
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.19
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................1.81
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................1.97
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.29
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.45
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.19
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.19
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.19
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.19
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.19
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.19
[ T040: ascan( a, i % 16 ) ]....................................0.19
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................1.87
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.52
[ T043: x := a ]................................................0.00
[ T044: x := {} ]...............................................0.06
[ T045: f0() ]..................................................0.03
[ T046: f1( i ) ]...............................................0.06
[ T047: f2( c[1...8] ) ]........................................0.06
[ T048: f2( c[1...40000] ) ]....................................0.06
[ T049: f2( @c[1...40000] ) ]...................................0.06
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.10
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.26
[ T052: f2( a ) ]...............................................0.06
[ T053: x := f4() ].............................................0.61
[ T054: x := f5() ].............................................0.13
[ T055: x := space(16) ]........................................0.10
[ T056: f_prv( c ) ]............................................0.23
====================================================================
[ total application time: ]....................................15.35
[ total real time: ]...........................................15.31

2009.12.02 05:30:58 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13082) (MT) Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.06
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.00
[ T004: x := S_C ]..............................................0.10
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.00
[ T007: x := M->M_C ]...........................................0.06
[ T008: x := M->M_N ]...........................................0.03
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.10
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.03
[ T013: x := F_C ]..............................................0.19
[ T014: x := F_N ]..............................................0.13
[ T015: x := F_D ]..............................................0.10
[ T016: x := o:Args ]...........................................0.16
[ T017: x := o[2] ].............................................0.10
[ T018: round( i / 1000, 2 ) ]..................................0.19
[ T019: str( i / 1000 ) ].......................................0.45
[ T020: val( s ) ]..............................................0.19
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.35
[ T022: dtos( d - i % 10000 ) ].................................0.35
[ T023: eval( { || i % 16 } ) ].................................0.48
[ T024: eval( bc := { || i % 16 } ) ]...........................0.23
[ T025: eval( { |x| x % 16 }, i ) ].............................0.35
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.23
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.42
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.29
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.32
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................3.03
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................3.29
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.42
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.68
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.29
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.32
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.32
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.32
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.32
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.32
[ T040: ascan( a, i % 16 ) ]....................................0.29
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................3.00
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.94
[ T043: x := a ]................................................0.06
[ T044: x := {} ]...............................................0.16
[ T045: f0() ]..................................................0.06
[ T046: f1( i ) ]...............................................0.10
[ T047: f2( c[1...8] ) ]........................................0.10
[ T048: f2( c[1...40000] ) ]....................................0.13
[ T049: f2( @c[1...40000] ) ]...................................0.10
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.13
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.45
[ T052: f2( a ) ]...............................................0.13
[ T053: x := f4() ].............................................0.68
[ T054: x := f5() ].............................................0.23
[ T055: x := space(16) ]........................................0.19
[ T056: f_prv( c ) ]............................................0.45
====================================================================
[ total application time: ]....................................23.52
[ total real time: ]...........................................23.54

2009.12.02 05:31:22 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13082) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.10
[ T002: x := L_N ]..............................................0.00
[ T003: x := L_D ]..............................................0.03
[ T004: x := S_C ]..............................................0.06
[ T005: x := S_N ]..............................................0.10
[ T006: x := S_D ]..............................................0.00
[ T007: x := M->M_C ]...........................................0.13
[ T008: x := M->M_N ]...........................................0.06
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.06
[ T011: x := M->P_N ]...........................................0.16
[ T012: x := M->P_D ]...........................................0.00
[ T013: x := F_C ]..............................................0.48
[ T014: x := F_N ]..............................................0.61
[ T015: x := F_D ]..............................................0.29
[ T016: x := o:Args ]...........................................0.45
[ T017: x := o[2] ].............................................0.42
[ T018: round( i / 1000, 2 ) ]..................................0.03
[ T019: str( i / 1000 ) ].......................................1.03
[ T020: val( s ) ]..............................................0.35
[ T021: val( a [ i % 16 + 1 ] ) ]...............................1.13
[ T022: dtos( d - i % 10000 ) ].................................1.10
[ T023: eval( { || i % 16 } ) ].................................0.65
[ T024: eval( bc := { || i % 16 } ) ]...........................0.23
[ T025: eval( { |x| x % 16 }, i ) ].............................0.84
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.00
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.10
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.52
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.00
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................5.16
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................2.35
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.39
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........1.03
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.35
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.13
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.00
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.00
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.45
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.03
[ T040: ascan( a, i % 16 ) ]....................................0.00
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................2.45
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....2.16
[ T043: x := a ]................................................0.23
[ T044: x := {} ]...............................................0.26
[ T045: f0() ]..................................................0.26
[ T046: f1( i ) ]...............................................0.35
[ T047: f2( c[1...8] ) ]........................................0.35
[ T048: f2( c[1...40000] ) ]....................................0.00
[ T049: f2( @c[1...40000] ) ]...................................0.13
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.29
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.90
[ T052: f2( a ) ]...............................................0.55
[ T053: x := f4() ].............................................0.94
[ T054: x := f5() ].............................................0.65
[ T055: x := space(16) ]........................................0.55
[ T056: f_prv( c ) ]............................................0.71
====================================================================
[ total application time: ].....................................0.16
[ total real time: ]...........................................23.54

2009.12.02 05:31:45 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13082) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: 2
N_LOOPS: 1000000
                                                         1 th.  2 th.
factor
============================================================================
[ T001: x := L_C ]____________________________________  0.20   0.20 ->  1.00
[ T002: x := L_N ]____________________________________  0.11   0.13 ->  0.85
[ T003: x := L_D ]____________________________________  0.10   0.12 ->  0.83
[ T004: x := S_C ]____________________________________  0.22   0.20 ->  1.10
[ T005: x := S_N ]____________________________________  0.16   0.13 ->  1.23
[ T006: x := S_D ]____________________________________  0.16   0.13 ->  1.23
[ T007: x := M->M_C ]_________________________________  0.24   0.25 ->  0.96
[ T008: x := M->M_N ]_________________________________  0.15   0.14 ->  1.07
[ T009: x := M->M_D ]_________________________________  0.13   0.14 ->  0.93
[ T010: x := M->P_C ]_________________________________  0.18   0.18 ->  1.00
[ T011: x := M->P_N ]_________________________________  0.14   0.14 ->  1.00
[ T012: x := M->P_D ]_________________________________  0.13   0.14 ->  0.93
[ T013: x := F_C ]____________________________________  0.42   0.43 ->  0.98
[ T014: x := F_N ]____________________________________  0.35   0.36 ->  0.97
[ T015: x := F_D ]____________________________________  0.22   0.22 ->  1.00
[ T016: x := o:Args ]_________________________________  0.40   0.41 ->  0.98
[ T017: x := o[2] ]___________________________________  0.32   0.31 ->  1.03
[ T018: round( i / 1000, 2 ) ]________________________  0.47   0.46 ->  1.02
[ T019: str( i / 1000 ) ]_____________________________  0.97   0.97 ->  1.00
[ T020: val( s ) ]____________________________________  0.48   0.49 ->  0.98
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  0.77   0.77 ->  1.00
[ T022: dtos( d - i % 10000 ) ]_______________________  0.80   0.80 ->  1.00
[ T023: eval( { || i % 16 } ) ]_______________________  0.97   0.97 ->  1.00
[ T024: eval( bc := { || i % 16 } ) ]_________________  0.47   0.48 ->  0.98
[ T025: eval( { |x| x % 16 }, i ) ]___________________  0.74   0.73 ->  1.01
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  0.52   0.58 ->  0.90
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  0.85   0.82 ->  1.04
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  0.62   0.62 ->  1.00
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  0.62   0.62 ->  1.00
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________  6.24   6.63 ->  0.94
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______  6.75   7.15 ->  0.94
[ T032: x := valtype( x ) +  valtype( i ) ]___________  0.88   0.89 ->  0.99
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  1.37   1.37 ->  1.00
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  0.67   0.66 ->  1.02
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  0.70   0.71 ->  0.99
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  0.70   0.70 ->  1.00
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  0.70   0.70 ->  1.00
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  0.70   0.69 ->  1.01
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  0.70   0.70 ->  1.00
[ T040: ascan( a, i % 16 ) ]__________________________  0.61   0.61 ->  1.00
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________  5.73   5.72 ->  1.00
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  1.87   1.86 ->  1.01
[ T043: x := a ]______________________________________  0.19   0.20 ->  0.95
[ T044: x := {} ]_____________________________________  0.39   0.39 ->  1.00
[ T045: f0() ]________________________________________  0.17   0.18 ->  0.94
[ T046: f1( i ) ]_____________________________________  0.24   0.25 ->  0.96
[ T047: f2( c[1...8] ) ]______________________________  0.31   0.31 ->  1.00
[ T048: f2( c[1...40000] ) ]__________________________  0.30   0.31 ->  0.97
[ T049: f2( @c[1...40000] ) ]_________________________  0.21   0.21 ->  1.00
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.34   0.33 ->  1.03
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  0.94   0.94 ->  1.00
[ T052: f2( a ) ]_____________________________________  0.32   0.31 ->  1.03
[ T053: x := f4() ]___________________________________  1.41   1.42 ->  0.99
[ T054: x := f5() ]___________________________________  0.54   0.54 ->  1.00
[ T055: x := space(16) ]______________________________  0.44   0.44 ->  1.00
[ T056: f_prv( c ) ]__________________________________  0.97   0.96 ->  1.01
============================================================================
[   TOTAL   ]_________________________________________ 46.30  47.12 ->  0.98
============================================================================
[ total application time: ].....................................0.16
[ total real time: ]...........................................93.64


as comparison:

gcc335, OMF type, with -DHB_FM_DL_ALLOC

[ total application time: ]....................................16.48
[ total real time: ]...........................................16.46

[ total application time: ]....................................23.19
[ total real time: ]...........................................23.23

[ total application time: ].....................................0.10
[ total real time: ]...........................................22.15

[ total application time: ].....................................0.06
[ total real time: ]...........................................87.19



From mbelgrano at deltain.it  Wed Dec  2 07:12:02 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec  2 07:12:29 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <609353e70912020323j5eea32d6tc7bd5f9caf5d4b12@mail.gmail.com>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com> 
	<609353e70912020323j5eea32d6tc7bd5f9caf5d4b12@mail.gmail.com>
Message-ID: <609353e70912020412t22b2c3a1s979e9787c45d63e5@mail.gmail.com>

why use SET HB_INC_QT and why HB_WITH_QT?


-- 
Massimo Belgrano
From ale.seribeli at ig.com.br  Wed Dec  2 08:04:00 2009
From: ale.seribeli at ig.com.br (Ale SB)
Date: Wed Dec  2 08:04:08 2009
Subject: [Harbour] Generate binaries for WinCE?
Message-ID: <26608527.post@talk.nabble.com>


I am not able to generate binaries for WinCE, what am I doing wrong?
I'm using VS2005

Make_VcCe.Bat
set INCLUDE=%ProgramFiles%\Microsoft Visual Studio
8\VC\ce\include;%ProgramFiles%\Windows CE Tools\wce500\Windows Mobile 5.0
Pocket PC SDK\Include\Armv4i
set LIB=%ProgramFiles%\Microsoft Visual Studio
8\VC\ce\lib\armv4i;%ProgramFiles%\Windows CE Tools\wce500\Windows Mobile 5.0
Pocket PC SDK\Lib\ARMV4I
set PATH=%ProgramFiles%\Microsoft Visual Studio
8\VC\ce\bin\x86_arm;%ProgramFiles%\Microsoft Visual Studio
8\Common7\IDE;g:\svn\harbour;%PATH%


set HB_QT_STATIC=no
SET HB_ARCHITECTURE = wce
set HB_COMPILER=msvcarm
set HB_INSTALL_PREFIX=g:\hbvcce

========================================================
Erro.Log
! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
! MAKE: win-make 3.81 sh.exe install clean  
! HB_INSTALL_PREFIX: g:\hbvcce
! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
! HB_PLATFORM: wce (arm) (autodetected)
! HB_COMPILER: msvcarm 
! Component: 'zlib' found in G:/SVN/harbour/external/zlib (local)
! Component: 'pcre' found in G:/SVN/harbour/external/pcre (local)
! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
! Component: 'gpm' not supported on wce platform
! Component: 'slang' not found. Configure with HB_WITH_SLANG.
! Component: 'curses' not found. Configure with HB_WITH_CURSES.
! Component: 'x11' not found. Configure with HB_WITH_X11.
! Component: 'wattcp/watt-32' not supported on wce platform
        1 arquivo(s) copiado(s).
.
.
.
        1 arquivo(s) copiado(s).
! 'libhpdf' library skipped (platform or compiler not supported)
cl.exe  -I. -I../../../../../include -nologo -D_WIN32_WCE=0x501 -DCE_ARCH
-DWINCE -D_WINCE -D_WINDOWS -D_UNICODE -D_UWIN -DUNDER_CE -DARM -D_ARM_
-DARMV4 -D_M_ARM -D_ARMV4I_ -Darmv4i -D__arm__ -TP -Od -Os -Gy -GS- -EHsc-
-DUNICODE  -IG:/SVN/harbour/external/zlib  -Fopngrio.obj -c
../../../pngrio.c
pngrio.c
../../../pngrio.c(59) : error C2664: 'ReadFile' : cannot convert parameter 4
from 'png_size_t *' to 'LPDWORD'
        Types pointed to are unrelated; conversion requires
reinterpret_cast, C-style cast or function-style cast

Thanks.

-- 
View this message in context: http://old.nabble.com/Generate-binaries-for-WinCE--tp26608527p26608527.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From dmacias at mail.udg.mx  Wed Dec  2 08:24:30 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Dec  2 08:24:48 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
Message-ID: <4B166A8E.2000605@mail.udg.mx>

Przemek:

Did you checked message included below ?

As additional note, I tried to build current Harbour using OpenWatcom
1.7a in place of 1.8 and it fail to compile hbsha2.c

But we can forget OpenWatcom 1.7a


I updated results included below with a third computer:

Sempron 3000+, 1800 MHz, 128 KB, socket 754, ...
( First version based in Athlon 64 with AMD64 disabled )
1 Gb RAM
( Same environment as Dec 2008, new OpenWatcom, new Harbour )


David Macias


Przemek:

I brought back to life my computer Athlon XP 2400+ used in tests in
Oct-Dec 2008, mainly for:
- Confirm if failures are due to brand/processor architecture
- How it compare with current status/tests

and remember:
-----------------------------
>So we faced two problems:
>- GPF in MT related to devices input, solved? removing -s
>- Slow, freeze, hangs, ..., un-solved yet

>A big note:
>- Maurilio was using OS/2 SMP kernel
>- I was using eComStation 1.2MR, OS/2 4.5, both tested in two machines
-----------------------------

Here is the summary

You can download:
http://suphost.no-ip.biz/watcom_athlon.zip
http://suphost.no-ip.biz/watcom_core2duo.zip

They contain output for each test
Nomenclature are:
t_type_std.txt
t_type_dl.txt
where type:
  o: original SVN
  5s: 5r->5s
  s: -s removed
  5ss: 5r->5s, -s removed

( t_w* are old tests and can be ignored )

You can review individual items in tests, specially those with larger
times ( 200 or more seconds )
There are an strange result for t_5ss_std.txt in third test so maybe
speedtst.prg need some fix

Harbour 13035
OpenWatcom 1.8

Below are results using:
------------------------
    hbmk2 -m -n -w -es2 -l -kmo -gc3 speedtst.prg
       speedtst.exe
    hbmk2 -m -n -w -es2 -l -kmo -gc3 -mt speedtst.prg
       speedtst.exe
       speedtst.exe --thread
       speedtst.exe --thread=2 --scale
------------------------

and in same order

Changes of switchs in os2\watcom.mk and hbmk2.prg

I added results for Core2Duo for easy comparison between:

Athlon XP 2400+, 2000 MHz, 256 KB, 266 MT/s, ...
1 Gb RAM
( Same environment as Dec 2008, new OpenWatcom, new Harbour )

Intel Core 2 Duo E8400 3.00GHZ FSB1333 6MB 775 ...
2 Gb RAM


We can see immediatly:
- My Athlon computer are alive  :-)
- speedtst complete all tests with Athlon, so state changed

Some changes in OpenWatcom - Harbour - speedtst.prg in these months
fixed our second problem and does not happen:
   "Slow, freeze, hangs, ..."


But a quick comparison, if it is valid:

 From old message:
( Athlon, -DHB_FM_DL_ALLOC excluded in that time, -s removed )
hbrun_mt.exe speedtst.prg
=========================
[ total application time: ]...................................258.61
[ total real time: ]..........................................263.15

 From current test:
with -DHB_FM_STD_ALLOC, -s removed
  Athlon
[ total application time: ]...................................160.10
[ total real time: ]..........................................159.50
  Core2Duo
[ total application time: ]...................................106.97
[ total real time: ]..........................................107.81


and another comparison:

 From old message:
( Athlon, -DHB_FM_DL_ALLOC excluded in that time, -s removed )
hbrun_mt.exe speedtst.prg --exclude=mem --scale --thread=2
=========================
Remain doing something elsewhere
After 1 hour 40 minutes, I cancelled it

 From current test:
with -DHB_FM_STD_ALLOC, -s removed
  Athlon
[ total application time: ].....................................0.13
[ total real time: ]..........................................623.09
  Core2Duo
[ total application time: ].....................................0.10
[ total real time: ]..........................................467.99


As conclusion things are changed

Perhaps more tests changing switches can give us more information


Aditional info:
- Overall time ( builds, tests )
  Core2Duo: 2 hours
  Athlon: 3 hours, 45 minutes
- Harbour build time using OpenWatcom in Athlon:
   Oct-Dec 2008: 8 minutes
   Today: 22 minutes
   Note:
   Harbour build time has been growing
   In last months using gcc335 it goes from 15 to 32 minutes and gcc4xx
from 25 to 52 minutes
   I made individual tests building new libraries (recently added) and
.dll files, and they do not justify all increase in time
   My conclusion is that Harbour build time growing is due to changes in
Harbour internals in recent months

- In many tests there are not too much difference between Athlon and
Core2Duo and it is easily explained by clock speed ratio (3/2 Ghz), so
Athlon performance is better in those cases

David Macias


Original SVN, with -DHB_FM_STD_ALLOC

[ total application time: ]....................................76.03
[ total real time: ]...........................................81.69

[ total application time: ]....................................84.23
[ total real time: ]...........................................83.81

GPF
GPF

Sempron 3000+
[ total application time: ]....................................80.23
[ total real time: ]...........................................79.92

[ total application time: ]....................................88.94
[ total real time: ]...........................................88.68

GPF
GPF

Core2Duo:
[ total application time: ]....................................58.26
[ total real time: ]...........................................59.71

[ total application time: ]....................................63.26
[ total real time: ]...........................................63.95

GPF
GPF

Original SVN, with (-DHB_FM_DL_ALLOC)

[ total application time: ]....................................36.65
[ total real time: ]...........................................36.59

[ total application time: ]....................................48.52
[ total real time: ]...........................................48.37

GPF
GPF

Sempron 3000+
[ total application time: ]....................................36.13
[ total real time: ]...........................................36.01

[ total application time: ]....................................45.90
[ total real time: ]...........................................45.78

GPF
GPF

Core2Duo:
[ total application time: ]....................................15.55
[ total real time: ]...........................................15.54

[ total application time: ]....................................23.42
[ total real time: ]...........................................23.87

GPF
GPF


with -DHB_FM_STD_ALLOC, 5r -> 5s

[ total application time: ]....................................74.77
[ total real time: ]...........................................74.38

[ total application time: ]....................................84.77
[ total real time: ]...........................................84.32

GPF
GPF

Sempron 3000+
[ total application time: ]....................................83.26
[ total real time: ]...........................................83.80

[ total application time: ]....................................89.90
[ total real time: ]...........................................89.62

GPF
GPF

Core2Duo:
[ total application time: ]....................................60.71
[ total real time: ]...........................................60.69

[ total application time: ]....................................64.71
[ total real time: ]...........................................64.66

GPF
GPF

With (-DHB_FM_DL_ALLOC), 5r -> 5s

[ total application time: ]....................................37.61
[ total real time: ]...........................................37.52

[ total application time: ]....................................48.19
[ total real time: ]...........................................48.10

GPF
GPF

Sempron 3000+
[ total application time: ]....................................37.32
[ total real time: ]...........................................37.43

[ total application time: ]....................................46.00
[ total real time: ]...........................................46.00

GPF
GPF

Core2Duo:
[ total application time: ]....................................16.65
[ total real time: ]...........................................16.58

[ total application time: ]....................................24.68
[ total real time: ]...........................................24.59

GPF
GPF


with -DHB_FM_STD_ALLOC, -s removed

[ total application time: ]...................................124.39
[ total real time: ]..........................................123.87

[ total application time: ]...................................160.10
[ total real time: ]..........................................159.50

[ total application time: ].....................................0.26
[ total real time: ]..........................................574.75

[ total application time: ].....................................0.13
[ total real time: ]..........................................623.09

Sempron 3000+
[ total application time: ]...................................131.90
[ total real time: ]..........................................132.12

[ total application time: ]...................................181.74
[ total real time: ]..........................................183.01

[ total application time: ].....................................0.16
[ total real time: ]..........................................633.60

[ total application time: ].....................................0.19
[ total real time: ]..........................................929.93

Core2Duo:
[ total application time: ]....................................98.13
[ total real time: ]...........................................99.67

[ total application time: ]...................................106.97
[ total real time: ]..........................................107.81

[ total application time: ].....................................0.03
[ total real time: ]..........................................281.51

[ total application time: ].....................................0.10
[ total real time: ]..........................................467.99


with -DHB_FM_DL_ALLOC, -s removed

[ total application time: ]....................................89.94
[ total real time: ]...........................................89.73

[ total application time: ]...................................111.23
[ total real time: ]..........................................110.86

[ total application time: ].....................................0.16
[ total real time: ]..........................................109.20

[ total application time: ].....................................0.19
[ total real time: ]..........................................437.33


Sempron 3000+
[ total application time: ]....................................89.94
[ total real time: ]...........................................90.98

[ total application time: ]...................................113.26
[ total real time: ]..........................................113.13

[ total application time: ].....................................0.10
[ total real time: ]..........................................114.32

[ total application time: ].....................................0.29
[ total real time: ]..........................................445.05

Core2Duo:
[ total application time: ]....................................56.55
[ total real time: ]...........................................56.33

[ total application time: ]....................................70.03
[ total real time: ]...........................................69.96

[ total application time: ].....................................0.06
[ total real time: ]...........................................69.75

[ total application time: ].....................................0.06
[ total real time: ]..........................................277.91


with -DHB_FM_STD_ALLOC, 5r -> 5s, -s removed

[ total application time: ]...................................126.74
[ total real time: ]..........................................126.24

[ total application time: ]...................................159.42
[ total real time: ]..........................................158.79

[ total application time: ].....................................0.26
[ total real time: ]............................................0.00

[ total application time: ].....................................0.32
[ total real time: ]..........................................614.77


Sempron 3000+
[ total application time: ]...................................142.61
[ total real time: ]..........................................142.91

[ total application time: ]...................................190.84
[ total real time: ]..........................................192.27

[ total application time: ].....................................0.19
[ total real time: ]..........................................618.15

[ total application time: ].....................................0.13
[ total real time: ]..........................................962.32

Core2Duo:
[ total application time: ]....................................99.19
[ total real time: ]...........................................99.25

[ total application time: ]...................................107.16
[ total real time: ]..........................................106.98

[ total application time: ].....................................0.06
[ total real time: ]..........................................275.80

[ total application time: ].....................................0.03
[ total real time: ]..........................................473.34


with -DHB_FM_DL_ALLOC, 5r -> 5s, -s removed

[ total application time: ]....................................91.29
[ total real time: ]...........................................91.01

[ total application time: ]...................................110.74
[ total real time: ]..........................................110.32

[ total application time: ].....................................0.29
[ total real time: ]..........................................108.59

[ total application time: ].....................................0.35
[ total real time: ]..........................................435.16

Sempron 3000+
[ total application time: ]...................................105.52
[ total real time: ]..........................................105.27

[ total application time: ]...................................120.48
[ total real time: ]..........................................121.18

[ total application time: ].....................................0.16
[ total real time: ]..........................................131.98

[ total application time: ].....................................0.19
[ total real time: ]..........................................479.82

Core2Duo:
[ total application time: ]....................................57.26
[ total real time: ]...........................................57.75

[ total application time: ]....................................71.48
[ total real time: ]...........................................71.26

[ total application time: ].....................................0.03
[ total real time: ]...........................................69.19

[ total application time: ].....................................0.00
[ total real time: ]..........................................278.17

From qiinfo at ig.com.br  Wed Dec  2 09:23:04 2009
From: qiinfo at ig.com.br (Rossine)
Date: Wed Dec  2 09:23:11 2009
Subject: [Harbour] Ace.lib not generate in last version
In-Reply-To: <8F582B11-70C0-406F-8D9F-47C1CFF52B44@syenar.hu>
References: <26591636.post@talk.nabble.com>
	<8F582B11-70C0-406F-8D9F-47C1CFF52B44@syenar.hu>
Message-ID: <26609679.post@talk.nabble.com>


Hi Viktor,

I include in my script:

set HB_WITH_ADS=C:\ads81

...and ace32.lib is generated :)

Thank you very much,

Rossine.

-- 
View this message in context: http://old.nabble.com/Ace.lib-not-generate-in-last-version-tp26591636p26609679.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Wed Dec  2 09:42:14 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec  2 09:42:20 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
In-Reply-To: <4B1653C3.1010000@mail.udg.mx>
References: <4B1653C3.1010000@mail.udg.mx>
Message-ID: <20091202144213.GA2127@linux-4bod.home.aster.pl>

On Wed, 02 Dec 2009, David Arturo Macias Corona wrote:

Hi,

> Now below are tests with only src\rtl\gtos2\Makefile adding:
>  HB_BUILD_OPTIM := no
> Tests with
>   speedtst.exe --thread ...
> does not fail with GPF

Thank you very much. This is what I wanted to see :-)

So all what we have to do is finding/adding method to disable
only -s switch when GTOS2 is compiled by OpenWatcom.
HB_BUILD_OPTIM := no disables all optimizations so we need
something more selective here.
Unfortunately we do not have switch to revert previously set -s
but maybe we can find other switch which also resolves the problem.
So far we know that -sg also resolves it. So in first step I'll add
this code to src/rtl/gtos2/Makefile[15]:

   ifeq ($(HB_COMPILER),watcom)
      HB_CFLAGS += -sg
   endif

and I'll commit it in a while. If possible please test.
Then if you want then you can try also few other switches instead of:
      HB_CFLAGS += -sg
in src/rtl/gtos2/Makefile. The following switches are stack related and
it's possible that also some of them can help:
      HB_CFLAGS += -st
      HB_CFLAGS += -zu
      HB_CFLAGS += -of+
To reduce the time necessary for tests just simply replace -sg with
one of the above switches delete src/rtl/gtos2/obj directory and call
make install. Then recompile speedtst in MT mode and check if
   speedtst --thread
works without GPF. If some of above switches will help to resolve
the problem then later we can try to chose the one which has smallest
speed overhead on final code.
It's also possible that some combination of switches for segment registers
can resolve the problem so you can try them. In OpenWatcom I've found the
following switches which operates on it.
   -zdf            DS floats (i.e. not fixed to DGROUP)
   -zdl            load DS directly from DGROUP
   -zdp            DS is pegged to DGROUP
   -zff            FS floats (i.e. not fixed to a segment)
   -zfp            FS is pegged to a segment
   -zgf            GS floats (i.e. not fixed to a segment)
   -zgp            GS is pegged to a segment

> Below are results using:
> ------------------------
>    hbmk2 -m -n -w -es2 -l -kmo -gc3 speedtst.prg
>       speedtst.exe
>    hbmk2 -m -n -w -es2 -l -kmo -gc3 -mt speedtst.prg
>       speedtst.exe
>       speedtst.exe --thread
>       speedtst.exe --thread=2 --scale
> ------------------------
[...]

So the speed overhead caused by compiling only GTOS2 without any
optimization and with stack overflow check code is minimal.
Very good.

best regards,
Przemek
From druzus at users.sourceforge.net  Wed Dec  2 09:50:56 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Dec  2 09:51:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13096] trunk/harbour
Message-ID: <E1NFqXg-00032f-MB@3kljzd1.ch3.sourceforge.com>

Revision: 13096
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13096&view=rev
Author:   druzus
Date:     2009-12-02 14:50:55 +0000 (Wed, 02 Dec 2009)

Log Message:
-----------
2009-12-02 15:50 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/gtos2/Makefile
    * added workaround for wrong code generated by OpenWatcom 1.8
      when -s switch is used for functions calling APIENTRY16 functions.
      Such code executed from non main thread causes GPF.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/gtos2/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Wed Dec  2 11:08:38 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Dec  2 11:08:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13097] trunk/harbour
Message-ID: <E1NFrks-0004sv-KH@bj8yhf1.ch3.sourceforge.com>

Revision: 13097
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13097&view=rev
Author:   vouchcac
Date:     2009-12-02 16:08:37 +0000 (Wed, 02 Dec 2009)

Log Message:
-----------
2009-12-02 08:04 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
    ! Fixed more artifacts.
      Status bar entries are more like xMate.
      Can anybody suggests what more should go inside status bar.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From abe.buch at att.net  Wed Dec  2 11:52:28 2009
From: abe.buch at att.net (AbeB)
Date: Wed Dec  2 11:52:36 2009
Subject: [Harbour] KeyRead()/KEysend() from ClipperTool
Message-ID: <1259772748571-4100832.post@n2.nabble.com>


Hi All,

Does Harbour have KeyRead()/KEysend() functions implemented?
I use it a lot in a program I'm moving over to Harbour.
it can differentiate between any key (like NumPad #s & regular #s) pressed.

Following is the NG help on KeyRead() followed by CTScan.ch .

How would I achieve that in Harbour?

Thanks,
Abe






>From the NG
cut ---8<------------------------

  KEYREAD()
 Reads already processed CA-Clipper keyboard buffer input
------------------------------------------------------------------------------
 Syntax

     KEYREAD() --> cKeyValue

 Returns

     The returned string contains the characters from the CA-Clipper
keyboard
     buffer that have already been read and processed by the program.

 Description

     With KEYREAD() you can read the keys that have already been processed
by
     your application from the keyboard buffer.  KEYREAD() offers the
     possibility of "looking into the past" of the current program execution
     so you can determine what the user has done up to that point.  This
     gives you the ability to repeat particular actions, perform and undo
     functions, or build keyboard macros.  KEYREAD() can also be very useful
     in searching for errors.

 Notes

     ?  All the keys processed since the last execution of SET
        TYPEAHEAD TO or KEYSEND() are placed in the keyboard buffer.
        Characters already in the buffer, but not yet read by a CA-Clipper
        program through an input instruction, are ignored by KEYREAD().  If
        the keyboard buffer is empty (as at program start, or after
executing
        a KEYSEND() or SET TYPEAHEAD TO), the function returns a null
string.

     ?  In contrast to the Clipper release form the Summer of 1987,
        KEYREAD() in CA-Clipper returns the entire BIOS key code as defined
        in the CTSCAN.CH include file.  If complete key code compatibility
is
        required for an existing application, the CT.CH include file must be
        included.  The CTSCAN.CH file also contains information regarding
new
        keyboard function behavior.

 Example

     cHistory   :=  KEYREAD()                  // Prior input
     IF RIGHT(cHistory, 2) == cSequence
        ? "You have left MEMOEDIT using Ctrl-END!"
     ENDIF

------------------------------

****
*
*    CTSCAN.CH
*
*    Symbolic key code constants for the KEYSEND(), KEYREAD() and
*    SCANKEY() functions.
*
*    Lothar Bongartz
*    Copyright (c) 1991-93 Computer Associates International.
*    All Rights Reserved.
*
*    Version 5.2
*
**********************************************************************

**************************** Scan codes ******************************
*
* The symbolic constants described below contain the ASCII code for
* a key (when present) as well as its scan code, in the following
* format:
*
*		CHR(<ASCII-Code>) + CHR(<Scancode>)
*
*
* GENERAL EXPLANATION
* The byte containing the scan code can be helpful in handling keys
* that otherwise can not be differentiated.
*
* For example, the decimal point key on the numeric key pad of an
* extended keyboard has an ASCII value of 46 and the scan code 83,
* while the dot key in the letter field also has an ASCII value of
* 46, but returns a scan code of 52. Using for example the function
* SCANKEY(), you could differentiate those two keys.
*
* All the combinations listed below relate to a US keyboard.  As the
* need arises please take note of all combinations of X or Y, as
* well as special characters like the previously mentioned comma key
* on the numeric key pad.  Particular attention should be paid to
* special key codes when using a keyboard driver.
*
* If defined BIOS scan codes are used in the file, you may not use
* the CT.CH include file, or you must remove the _S87KEYS
* EXTERNAL declaration.
*
*****************************************************************
*
*	   KS - (K)eyboard (S)cancode	   ASCII    Scancode
*

#define 	KS_DISABLE		  CHR(255) + CHR(255)


* Letters and Numbers
*
#define 	KS_A			  CHR(65)  + CHR(30)
#define 	KS_B			  CHR(66)  + CHR(48)
#define 	KS_C			  CHR(67)  + CHR(46)
#define 	KS_D			  CHR(68)  + CHR(32)
#define 	KS_E			  CHR(69)  + CHR(18)
#define 	KS_F			  CHR(70)  + CHR(33)
#define 	KS_G			  CHR(71)  + CHR(34)
#define 	KS_H			  CHR(72)  + CHR(35)
#define 	KS_I			  CHR(73)  + CHR(23)
#define 	KS_J			  CHR(74)  + CHR(36)
#define 	KS_K			  CHR(75)  + CHR(37)
#define 	KS_L			  CHR(76)  + CHR(38)
#define 	KS_M			  CHR(77)  + CHR(50)
#define 	KS_N			  CHR(78)  + CHR(49)
#define 	KS_O			  CHR(79)  + CHR(24)
#define 	KS_P			  CHR(80)  + CHR(25)
#define 	KS_Q			  CHR(81)  + CHR(16)
#define 	KS_R			  CHR(82)  + CHR(19)
#define 	KS_S			  CHR(83)  + CHR(31)
#define 	KS_T			  CHR(84)  + CHR(20)
#define 	KS_U			  CHR(85)  + CHR(22)
#define 	KS_V			  CHR(86)  + CHR(47)
#define 	KS_W			  CHR(87)  + CHR(17)
#define 	KS_X			  CHR(88)  + CHR(45)
#define 	KS_Y			  CHR(89)  + CHR(21)
#define 	KS_Z			  CHR(90)  + CHR(44)

#define 	KS_a			  CHR(97)  + CHR(30)
#define 	KS_b			  CHR(98)  + CHR(48)
#define 	KS_c			  CHR(99)  + CHR(46)
#define 	KS_d			  CHR(100) + CHR(32)
#define 	KS_e			  CHR(101) + CHR(18)
#define 	KS_f			  CHR(102) + CHR(33)
#define 	KS_g			  CHR(103) + CHR(34)
#define 	KS_h			  CHR(104) + CHR(35)
#define 	KS_i			  CHR(105) + CHR(23)
#define 	KS_j			  CHR(106) + CHR(36)
#define 	KS_k			  CHR(107) + CHR(37)
#define 	KS_l			  CHR(108) + CHR(38)
#define 	KS_m			  CHR(109) + CHR(50)
#define 	KS_n			  CHR(110) + CHR(49)
#define 	KS_o			  CHR(111) + CHR(24)
#define 	KS_p			  CHR(112) + CHR(25)
#define 	KS_q			  CHR(113) + CHR(16)
#define 	KS_r			  CHR(114) + CHR(19)
#define 	KS_s			  CHR(115) + CHR(31)
#define 	KS_t			  CHR(116) + CHR(20)
#define 	KS_u			  CHR(117) + CHR(22)
#define 	KS_v			  CHR(118) + CHR(47)
#define 	KS_w			  CHR(119) + CHR(17)
#define 	KS_x			  CHR(120) + CHR(45)
#define 	KS_y			  CHR(121) + CHR(21)
#define 	KS_z			  CHR(122) + CHR(44)

#define 	KS_1			  CHR(49)  + CHR(2)
#define 	KS_2			  CHR(50)  + CHR(3)
#define 	KS_3			  CHR(51)  + CHR(4)
#define 	KS_4			  CHR(52)  + CHR(5)
#define 	KS_5			  CHR(53)  + CHR(6)
#define 	KS_6			  CHR(54)  + CHR(7)
#define 	KS_7			  CHR(55)  + CHR(8)
#define 	KS_8			  CHR(56)  + CHR(9)
#define 	KS_9			  CHR(57)  + CHR(10)
#define 	KS_0			  CHR(48)  + CHR(11)


* Letters and Numbers with Ctrl and Alt
*
#define 	KS_CTRL_A		  CHR(1)   + CHR(30)
#define 	KS_CTRL_B		  CHR(2)   + CHR(48)
#define 	KS_CTRL_C		  CHR(3)   + CHR(46)
#define 	KS_CTRL_D		  CHR(4)   + CHR(32)
#define 	KS_CTRL_E		  CHR(5)   + CHR(18)
#define 	KS_CTRL_F		  CHR(6)   + CHR(33)
#define 	KS_CTRL_G		  CHR(7)   + CHR(34)
#define 	KS_CTRL_H		  CHR(8)   + CHR(35)
#define 	KS_CTRL_I		  CHR(9)   + CHR(23)
#define 	KS_CTRL_M		  CHR(13)  + CHR(50)
#define 	KS_CTRL_N		  CHR(14)  + CHR(49)
#define 	KS_CTRL_O		  CHR(15)  + CHR(24)
#define 	KS_CTRL_R		  CHR(18)  + CHR(19)
#define 	KS_CTRL_S		  CHR(19)  + CHR(31)
#define 	KS_CTRL_T		  CHR(20)  + CHR(20)
#define 	KS_CTRL_U		  CHR(21)  + CHR(22)
#define 	KS_CTRL_V		  CHR(22)  + CHR(47)
#define 	KS_CTRL_W		  CHR(23)  + CHR(17)
#define 	KS_CTRL_X		  CHR(24)  + CHR(45)
#define 	KS_CTRL_Y		  CHR(25)  + CHR(21)
#define 	KS_CTRL_Z		  CHR(26)  + CHR(44)

#define 	KS_ALT_A		  CHR(0)   + CHR(30)
#define 	KS_ALT_B		  CHR(0)   + CHR(48)
#define 	KS_ALT_C		  CHR(0)   + CHR(46)
#define 	KS_ALT_D		  CHR(0)   + CHR(32)
#define 	KS_ALT_E		  CHR(0)   + CHR(18)
#define 	KS_ALT_F		  CHR(0)   + CHR(33)
#define 	KS_ALT_G		  CHR(0)   + CHR(34)
#define 	KS_ALT_H		  CHR(0)   + CHR(35)
#define 	KS_ALT_I		  CHR(0)   + CHR(23)
#define 	KS_ALT_J		  CHR(0)   + CHR(36)
#define 	KS_ALT_K		  CHR(0)   + CHR(37)
#define 	KS_ALT_L		  CHR(0)   + CHR(38)
#define 	KS_ALT_M		  CHR(0)   + CHR(50)
#define 	KS_ALT_N		  CHR(0)   + CHR(49)
#define 	KS_ALT_O		  CHR(0)   + CHR(24)
#define 	KS_ALT_P		  CHR(0)   + CHR(25)
#define 	KS_ALT_Q		  CHR(0)   + CHR(16)
#define 	KS_ALT_R		  CHR(0)   + CHR(19)
#define 	KS_ALT_S		  CHR(0)   + CHR(31)
#define 	KS_ALT_T		  CHR(0)   + CHR(20)
#define 	KS_ALT_U		  CHR(0)   + CHR(22)
#define 	KS_ALT_V		  CHR(0)   + CHR(47)
#define 	KS_ALT_W		  CHR(0)   + CHR(17)
#define 	KS_ALT_X		  CHR(0)   + CHR(45)
#define 	KS_ALT_Y		  CHR(0)   + CHR(21)
#define 	KS_ALT_Z		  CHR(0)   + CHR(44)

#define 	KS_ALT_1		  CHR(0)   + CHR(120)
#define 	KS_ALT_2		  CHR(0)   + CHR(121)
#define 	KS_ALT_3		  CHR(0)   + CHR(122)
#define 	KS_ALT_4		  CHR(0)   + CHR(123)
#define 	KS_ALT_5		  CHR(0)   + CHR(124)
#define 	KS_ALT_6		  CHR(0)   + CHR(125)
#define 	KS_ALT_7		  CHR(0)   + CHR(126)
#define 	KS_ALT_8		  CHR(0)   + CHR(127)
#define 	KS_ALT_9		  CHR(0)   + CHR(128)
#define 	KS_ALT_0		  CHR(0)   + CHR(129)


* Twelve function keys in all combinations
*
#define 	KS_F1			  CHR(0)   + CHR(59)
#define 	KS_F2			  CHR(0)   + CHR(60)
#define 	KS_F3			  CHR(0)   + CHR(61)
#define 	KS_F4			  CHR(0)   + CHR(62)
#define 	KS_F5			  CHR(0)   + CHR(63)
#define 	KS_F6			  CHR(0)   + CHR(64)
#define 	KS_F7			  CHR(0)   + CHR(65)
#define 	KS_F8			  CHR(0)   + CHR(66)
#define 	KS_F9			  CHR(0)   + CHR(67)
#define 	KS_F10			  CHR(0)   + CHR(68)
#define 	KS_F11			  CHR(0)   + CHR(133)
#define 	KS_F12			  CHR(0)   + CHR(134)

#define 	KS_SH_F1		  CHR(0)   + CHR(84)
#define 	KS_SH_F2		  CHR(0)   + CHR(85)
#define 	KS_SH_F3		  CHR(0)   + CHR(86)
#define 	KS_SH_F4		  CHR(0)   + CHR(87)
#define 	KS_SH_F5		  CHR(0)   + CHR(88)
#define 	KS_SH_F6		  CHR(0)   + CHR(89)
#define 	KS_SH_F7		  CHR(0)   + CHR(90)
#define 	KS_SH_F8		  CHR(0)   + CHR(91)
#define 	KS_SH_F9		  CHR(0)   + CHR(92)
#define 	KS_SH_F10		  CHR(0)   + CHR(93)
#define 	KS_SH_F11		  CHR(0)   + CHR(135)
#define 	KS_SH_F12		  CHR(0)   + CHR(136)

#define 	KS_CTRL_F1		  CHR(0)   + CHR(94)
#define 	KS_CTRL_F2		  CHR(0)   + CHR(95)
#define 	KS_CTRL_F3		  CHR(0)   + CHR(96)
#define 	KS_CTRL_F4		  CHR(0)   + CHR(97)
#define 	KS_CTRL_F5		  CHR(0)   + CHR(98)
#define 	KS_CTRL_F6		  CHR(0)   + CHR(99)
#define 	KS_CTRL_F7		  CHR(0)   + CHR(100)
#define 	KS_CTRL_F8		  CHR(0)   + CHR(101)
#define 	KS_CTRL_F9		  CHR(0)   + CHR(102)
#define 	KS_CTRL_F10		  CHR(0)   + CHR(103)
#define 	KS_CTRL_F11		  CHR(0)   + CHR(137)
#define 	KS_CTRL_F12		  CHR(0)   + CHR(138)

#define 	KS_ALT_F1		  CHR(0)   + CHR(104)
#define 	KS_ALT_F2		  CHR(0)   + CHR(105)
#define 	KS_ALT_F3		  CHR(0)   + CHR(106)
#define 	KS_ALT_F4		  CHR(0)   + CHR(107)
#define 	KS_ALT_F5		  CHR(0)   + CHR(108)
#define 	KS_ALT_F6		  CHR(0)   + CHR(109)
#define 	KS_ALT_F7		  CHR(0)   + CHR(110)
#define 	KS_ALT_F8		  CHR(0)   + CHR(111)
#define 	KS_ALT_F9		  CHR(0)   + CHR(112)
#define 	KS_ALT_F10		  CHR(0)   + CHR(113)
#define 	KS_ALT_F11		  CHR(0)   + CHR(139)
#define 	KS_ALT_F12		  CHR(0)   + CHR(140)


* Backspace, ESC, and TAB
*
#define 	KS_BS			  CHR(8)   + CHR(14)
#define 	KS_ESC			  CHR(27)  + CHR(1)
#define 	KS_TAB			  CHR(9)   + CHR(15)
#define 	KS_SH_TAB		  CHR(0)   + CHR(15)

#define 	KS_ALT_BS		  CHR(0)   + CHR(14)
#define 	KS_ALT_ESC		  CHR(0)   + CHR(1)
#define 	KS_ALT_TAB		  CHR(0)   + CHR(165)


* The various combinations for ENTER
*
#define 	KS_ENTER		  CHR(13)  + CHR(28)
#define 	KS_CTRL_ENTER		  CHR(10)  + CHR(28)
#define 	KS_ALT_ENTER		  CHR(0)   + CHR(28)
#define 	KS_PAD_ENTER		  CHR(13)  + CHR(224)
#define 	KS_PAD_CTRL_ENTER	  CHR(10)  + CHR(224)
#define 	KS_PAD_ALT_ENTER	  CHR(0)   + CHR(166)


* Separate cursor block (gray cursor keys)
*
#define 	KS_INS			  CHR(224) + CHR(82)
#define 	KS_DEL			  CHR(224) + CHR(83)
#define 	KS_HOME 		  CHR(224) + CHR(71)
#define 	KS_END			  CHR(224) + CHR(79)
#define 	KS_PGUP 		  CHR(224) + CHR(73)
#define 	KS_PGDN 		  CHR(224) + CHR(81)
#define 	KS_UP			  CHR(224) + CHR(72)
#define 	KS_LEFT 		  CHR(224) + CHR(75)
#define 	KS_DOWN 		  CHR(224) + CHR(80)
#define 	KS_RIGHT		  CHR(224) + CHR(77)

#define 	KS_CTRL_INS		  CHR(224) + CHR(146)
#define 	KS_CTRL_DEL		  CHR(224) + CHR(147)
#define 	KS_CTRL_HOME		  CHR(224) + CHR(119)
#define 	KS_CTRL_END		  CHR(224) + CHR(117)
#define 	KS_CTRL_PGUP		  CHR(224) + CHR(132)
#define 	KS_CTRL_PGDN		  CHR(224) + CHR(118)
#define 	KS_CTRL_UP		  CHR(224) + CHR(141)
#define 	KS_CTRL_LEFT		  CHR(224) + CHR(115)
#define 	KS_CTRL_DOWN		  CHR(224) + CHR(145)
#define 	KS_CTRL_RIGHT		  CHR(224) + CHR(116)

#define 	KS_ALT_INS		  CHR(0)   + CHR(162)
#define 	KS_ALT_DEL		  CHR(0)   + CHR(163)
#define 	KS_ALT_HOME		  CHR(0)   + CHR(151)
#define 	KS_ALT_END		  CHR(0)   + CHR(159)
#define 	KS_ALT_PGUP		  CHR(0)   + CHR(153)
#define 	KS_ALT_PGDN		  CHR(0)   + CHR(161)
#define 	KS_ALT_UP		  CHR(0)   + CHR(152)
#define 	KS_ALT_LEFT		  CHR(0)   + CHR(155)
#define 	KS_ALT_DOWN		  CHR(0)   + CHR(160)
#define 	KS_ALT_RIGHT		  CHR(0)   + CHR(157)


* Cursor-Block / NumPad
*
#define 	KS_PAD_INS		  CHR(0)   + CHR(82)
#define 	KS_PAD_DEL		  CHR(0)   + CHR(83)
#define 	KS_PAD_HOME		  CHR(0)   + CHR(71)
#define 	KS_PAD_END		  CHR(0)   + CHR(79)
#define 	KS_PAD_PGUP		  CHR(0)   + CHR(73)
#define 	KS_PAD_PGDN		  CHR(0)   + CHR(81)
#define 	KS_PAD_UP		  CHR(0)   + CHR(72)
#define 	KS_PAD_LEFT		  CHR(0)   + CHR(75)
#define 	KS_PAD_DOWN		  CHR(0)   + CHR(80)
#define 	KS_PAD_RIGHT		  CHR(0)   + CHR(77)

#define 	KS_CTRL_PAD_INS 	  CHR(0)   + CHR(146)
#define 	KS_CTRL_PAD_DEL 	  CHR(0)   + CHR(147)
#define 	KS_CTRL_PAD_HOME	  CHR(0)   + CHR(119)
#define 	KS_CTRL_PAD_END 	  CHR(0)   + CHR(117)
#define 	KS_CTRL_PAD_PGUP	  CHR(0)   + CHR(132)
#define 	KS_CTRL_PAD_PGDN	  CHR(0)   + CHR(118)
#define 	KS_CTRL_PAD_UP		  CHR(0)   + CHR(141)
#define 	KS_CTRL_PAD_LEFT	  CHR(0)   + CHR(115)
#define 	KS_CTRL_PAD_DOWN	  CHR(0)   + CHR(145)
#define 	KS_CTRL_PAD_RIGHT	  CHR(0)   + CHR(116)
*
* There are no separate KS_ALT_PAD_<cursor key> codes!


* The gray keys in the numeric key pad.
*
#define 	KS_PAD_DIV		  CHR(47)  + CHR(224)
#define 	KS_PAD_MUL		  CHR(42)  + CHR(55)
#define 	KS_PAD_MINUS		  CHR(45)  + CHR(74)
#define 	KS_PAD_PLUS		  CHR(43)  + CHR(78)

#define 	KS_CTRL_PAD_DIV 	  CHR(0)   + CHR(149)
#define 	KS_CTRL_PAD_MUL 	  CHR(0)   + CHR(150)
#define 	KS_CTRL_PAD_MINUS	  CHR(0)   + CHR(142)
#define 	KS_CTRL_PAD_PLUS	  CHR(0)   + CHR(144)

#define 	KS_ALT_PAD_DIV		  CHR(0)   + CHR(164)
#define 	KS_ALT_PAD_MUL		  CHR(0)   + CHR(55)
#define 	KS_ALT_PAD_MINUS	  CHR(0)   + CHR(74)
#define 	KS_ALT_PAD_PLUS 	  CHR(0)   + CHR(78)


* Numeric block keys, like period and comma
*
#define 	KS_PAD_1		  CHR(49)  + CHR(79)
#define 	KS_PAD_2		  CHR(50)  + CHR(80)
#define 	KS_PAD_3		  CHR(51)  + CHR(81)
#define 	KS_PAD_4		  CHR(52)  + CHR(75)
#define 	KS_PAD_5		  CHR(53)  + CHR(76)
#define 	KS_PAD_6		  CHR(54)  + CHR(77)
#define 	KS_PAD_7		  CHR(55)  + CHR(71)
#define 	KS_PAD_8		  CHR(56)  + CHR(72)
#define 	KS_PAD_9		  CHR(57)  + CHR(73)
#define 	KS_PAD_0		  CHR(48)  + CHR(82)

#define 	KS_PAD_DECIMAL		  CHR(46)  + CHR(83)

#define 	KS_DOT			  CHR(46)  + CHR(52)
#define 	KS_COMMA		  CHR(44)  + CHR(51)
*
*** EOF ***




-- 
View this message in context: http://n2.nabble.com/KeyRead-KEysend-from-ClipperTool-tp4100832p4100832.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Wed Dec  2 12:08:46 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec  2 12:08:59 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <609353e70912020412t22b2c3a1s979e9787c45d63e5@mail.gmail.com>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com>
	<609353e70912020323j5eea32d6tc7bd5f9caf5d4b12@mail.gmail.com>
	<609353e70912020412t22b2c3a1s979e9787c45d63e5@mail.gmail.com>
Message-ID: <BBA4B056-3AFC-48E1-9199-4948DA5BC25A@syenar.hu>

> why use SET HB_INC_QT and why HB_WITH_QT?

See my last ChangeLog entry.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Dec  2 12:11:09 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec  2 12:11:23 2009
Subject: [Harbour] Generate binaries for WinCE?
In-Reply-To: <26608527.post@talk.nabble.com>
References: <26608527.post@talk.nabble.com>
Message-ID: <26FD25BC-E8E0-4926-93FB-88210673D647@syenar.hu>

Looks like a libpng (WinCE C++ mode) bug.

Brgds,
Viktor

On 2009 Dec 2, at 14:04, Ale SB wrote:

> 
> I am not able to generate binaries for WinCE, what am I doing wrong?
> I'm using VS2005
> 
> Make_VcCe.Bat
> set INCLUDE=%ProgramFiles%\Microsoft Visual Studio
> 8\VC\ce\include;%ProgramFiles%\Windows CE Tools\wce500\Windows Mobile 5.0
> Pocket PC SDK\Include\Armv4i
> set LIB=%ProgramFiles%\Microsoft Visual Studio
> 8\VC\ce\lib\armv4i;%ProgramFiles%\Windows CE Tools\wce500\Windows Mobile 5.0
> Pocket PC SDK\Lib\ARMV4I
> set PATH=%ProgramFiles%\Microsoft Visual Studio
> 8\VC\ce\bin\x86_arm;%ProgramFiles%\Microsoft Visual Studio
> 8\Common7\IDE;g:\svn\harbour;%PATH%
> 
> 
> set HB_QT_STATIC=no
> SET HB_ARCHITECTURE = wce
> set HB_COMPILER=msvcarm
> set HB_INSTALL_PREFIX=g:\hbvcce
> 
> ========================================================
> Erro.Log
> ! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
> ! MAKE: win-make 3.81 sh.exe install clean  
> ! HB_INSTALL_PREFIX: g:\hbvcce
> ! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
> ! HB_PLATFORM: wce (arm) (autodetected)
> ! HB_COMPILER: msvcarm 
> ! Component: 'zlib' found in G:/SVN/harbour/external/zlib (local)
> ! Component: 'pcre' found in G:/SVN/harbour/external/pcre (local)
> ! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
> ! Component: 'gpm' not supported on wce platform
> ! Component: 'slang' not found. Configure with HB_WITH_SLANG.
> ! Component: 'curses' not found. Configure with HB_WITH_CURSES.
> ! Component: 'x11' not found. Configure with HB_WITH_X11.
> ! Component: 'wattcp/watt-32' not supported on wce platform
>        1 arquivo(s) copiado(s).
> .
> .
> .
>        1 arquivo(s) copiado(s).
> ! 'libhpdf' library skipped (platform or compiler not supported)
> cl.exe  -I. -I../../../../../include -nologo -D_WIN32_WCE=0x501 -DCE_ARCH
> -DWINCE -D_WINCE -D_WINDOWS -D_UNICODE -D_UWIN -DUNDER_CE -DARM -D_ARM_
> -DARMV4 -D_M_ARM -D_ARMV4I_ -Darmv4i -D__arm__ -TP -Od -Os -Gy -GS- -EHsc-
> -DUNICODE  -IG:/SVN/harbour/external/zlib  -Fopngrio.obj -c
> ../../../pngrio.c
> pngrio.c
> ../../../pngrio.c(59) : error C2664: 'ReadFile' : cannot convert parameter 4
> from 'png_size_t *' to 'LPDWORD'
>        Types pointed to are unrelated; conversion requires
> reinterpret_cast, C-style cast or function-style cast
> 
> Thanks.
> 
> -- 
> View this message in context: http://old.nabble.com/Generate-binaries-for-WinCE--tp26608527p26608527.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Wed Dec  2 12:22:03 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec  2 12:22:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13097] trunk/harbour
In-Reply-To: <E1NFrks-0004sv-KH@bj8yhf1.ch3.sourceforge.com>
References: <E1NFrks-0004sv-KH@bj8yhf1.ch3.sourceforge.com>
Message-ID: <609353e70912020922p40d04659nf0bd8b72353b11a9@mail.gmail.com>

I have follow suggestion :
size of source in kb
Font information like ansi/oem
last Search text  good to find next
kind of selection column mode or normal mode
Result of last compilation


I have follow question
How activate list of function?

Also buttttonbar will be used like status bar

> ? ? ?Status bar entries are more like xMate.
> ? ? ?Can anybody suggests what more should go inside status bar.


-- 
Massimo Belgrano
From mbelgrano at deltain.it  Wed Dec  2 13:04:49 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec  2 13:05:17 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <BBA4B056-3AFC-48E1-9199-4948DA5BC25A@syenar.hu>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com> 
	<609353e70912020323j5eea32d6tc7bd5f9caf5d4b12@mail.gmail.com> 
	<609353e70912020412t22b2c3a1s979e9787c45d63e5@mail.gmail.com> 
	<BBA4B056-3AFC-48E1-9199-4948DA5BC25A@syenar.hu>
Message-ID: <609353e70912021004u1c33aaa4p834f06537200cf67@mail.gmail.com>

I have removed all HB_INC_* from my batch with the exclusion of hb_inc_install

I think that 3.6 is not jet compatible with harbour/hbide
i have also tried for resolve my prev prev problem
hbmk2 hbide -rebuild
Thinking that  each major upgrade of qt must be done -rebuild

1 ----Qt SDK for Windows* (283 MB)
SET HB_WITH_QT=C:\DEVL\QT\2009.05\QT\INCLUDE
2 -- Qt libraries 4.6 for Windows (minGW 4.4, 273 MB)
SET HB_WITH_QT=C:\DEVL\QT\4.6.0\INCLUDE
3 ---Qt libraries 4.6 for Windows (VS 2008, 190 MB)
SET HB_WITH_QT=C:\DEVL\QTVC\4.6.0\INCLUDE
follow are result of
hbmk2 hbide -rebuild (msvc also -Lc:\DEVL\qtVC\4.6.0\lib)
------------1 ----Qt SDK for Windows
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0x3c3
): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0x44f
): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0x4db
): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0x89c
): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0xb5c
): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0xd39
): more undefined references to `_Unwind_Resume' follow
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.eh_frame+0
x12): undefined reference to `__gxx_personality_v0'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuil
der.cpp:(.text+0x1b0): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuil
der.cpp:(.text+0x273): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuil
der.cpp:(.text+0x2c7): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuil
der.cpp:(.text+0x31b): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuil
der.cpp:(.text+0x57b): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuil
der.cpp:(.text+0x5ec): more undefined references to `_Unwind_Resume' follow
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuil
der.cpp:(.eh_frame+0x12): undefined reference to `__gxx_personality_v0'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0
x6a): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0
x419): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0
x51e): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0
x606): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0
x69a): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0
x736): more undefined references to `_Unwind_Resume' follow
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.eh_fra
me+0x12): undefined reference to `__gxx_personality_v0'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(textbuilder.o):textbuilder.cpp:(.text+0
xfc): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(textbuilder.o):textbuilder.cpp:(.eh_fra
me+0x12): undefined reference to `__gxx_personality_v0'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cp
p:(.text+0x4bb): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cp
p:(.text+0x5a7): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cp
p:(.text+0xe85): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cp
p:(.text+0xf2c): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cp
p:(.text+0xfc4): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cp
p:(.text+0x166d): more undefined references to `_Unwind_Resume' follow
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cp
p:(.eh_frame+0x12): undefined reference to `__gxx_personality_v0'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(moc_properties_p.o):moc_properties_p.cp
p:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x4440): undefine
d reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x4a0d): undefine
d reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x4ff1): undefine
d reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x5669): undefine
d reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x5c4d): undefine
d reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x6231): more und
efined references to `_Unwind_Resume' follow
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.eh_frame+0x12): undefi
ned reference to `__gxx_personality_v0'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(resourcebuilder.o):resourcebuilder.cpp:
(.text+0x91f): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(resourcebuilder.o):resourcebuilder.cpp:
(.text+0x980): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(resourcebuilder.o):resourcebuilder.cpp:
(.text+0x99d): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(resourcebuilder.o):resourcebuilder.cpp:
(.text+0xa8c): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(resourcebuilder.o):resourcebuilder.cpp:
(.eh_frame+0x12): undefined reference to `__gxx_personality_v0'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x1
40): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x1
331): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x1
3a0): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x1
3cb): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x1
3f8): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x1
40b): more undefined references to `_Unwind_Resume' follow
C:/DEVL/QT/2009.05/QT/lib/libQtUiTools.a(properties.o):properties.cpp:(.eh_frame
+0x12): undefined reference to `__gxx_personality_v0'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc.exe .hbmk\win\mingw\hbide.o .hbmk\win\mingw\idestylesheets.o .hbmk\win\mingw
\idetags.o .hbmk\win\mingw\idemisc.o .hbmk\win\mingw\ideactions.o .hbmk\win\ming
w\freadlin.o .hbmk\win\mingw\ideparseexpr.o .hbmk\win\mingw\_hbmkaut.o    -mwind
ows -Wl,--start-group -lhbxbp -lhbqt -lhbqtcore -lhbqtgui -lhbqtnetwork -lversio
n -lshlwapi -lQtCore4 -lQtGui4 -lQtNetwork4 -lQtUiTools -lsupc++ -lhbextern -lhb
debug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt
-lgtgui -lhbrdd -lhbuddall -lhbusrrdd -lrddntx -lrddcdx -lrddnsx -lrddfpt -lhbrd
d -lhbhsx -lhbsix -lhbmacro -lhbcplr -lhbpp -lhbcommon -lkernel32 -luser32 -lgdi
32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32
 -loleaut32 -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32 -lwininet -lhbpcre -lhbzlib
  -Wl,--end-group -ohbide.exe -LC:/HARBOUR/mingw/LIB -LC:/DEVL/QT/2009.05/QT/lib

---------------------------------2 Qt libraries 4.6 for Windows (minGW
4.4, 273 MB)
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0x3c3): un
defined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0x44f): un
defined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0x4db): un
defined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0x89c): un
defined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0xb5c): un
defined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.text+0xd39): mo
re undefined references to `_Unwind_Resume' follow
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(quiloader.o):quiloader.cpp:(.eh_frame+0x12):
 undefined reference to `__gxx_personality_v0'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.c
pp:(.text+0x1b0): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.c
pp:(.text+0x273): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.c
pp:(.text+0x2c7): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.c
pp:(.text+0x31b): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.c
pp:(.text+0x57b): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.c
pp:(.text+0x5ec): more undefined references to `_Unwind_Resume' follow
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o):abstractformbuilder.c
pp:(.eh_frame+0x12): undefined reference to `__gxx_personality_v0'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0x6a):
 undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0x419)
: undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0x51e)
: undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0x606)
: undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0x69a)
: undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.text+0x736)
: more undefined references to `_Unwind_Resume' follow
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(formbuilder.o):formbuilder.cpp:(.eh_frame+0x
12): undefined reference to `__gxx_personality_v0'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(textbuilder.o):textbuilder.cpp:(.text+0xfc):
 undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(textbuilder.o):textbuilder.cpp:(.eh_frame+0x
12): undefined reference to `__gxx_personality_v0'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.t
ext+0x4bb): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.t
ext+0x5a7): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.t
ext+0xe85): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.t
ext+0xf2c): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.t
ext+0xfc4): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.t
ext+0x166d): more undefined references to `_Unwind_Resume' follow
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(formbuilderextra.o):formbuilderextra.cpp:(.e
h_frame+0x12): undefined reference to `__gxx_personality_v0'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(moc_properties_p.o):moc_properties_p.cpp:(.e
h_frame+0x11): undefined reference to `__gxx_personality_v0'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x4440): undefined ref
erence to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x4a0d): undefined ref
erence to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x4ff1): undefined ref
erence to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x5669): undefined ref
erence to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x5c4d): undefined ref
erence to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text+0x6231): more undefine
d references to `_Unwind_Resume' follow
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.eh_frame+0x12): undefined r
eference to `__gxx_personality_v0'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(resourcebuilder.o):resourcebuilder.cpp:(.tex
t+0x91f): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(resourcebuilder.o):resourcebuilder.cpp:(.tex
t+0x980): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(resourcebuilder.o):resourcebuilder.cpp:(.tex
t+0x99d): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(resourcebuilder.o):resourcebuilder.cpp:(.tex
t+0xa8c): undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(resourcebuilder.o):resourcebuilder.cpp:(.eh_
frame+0x12): undefined reference to `__gxx_personality_v0'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x140):
undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x1331):
 undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x13a0):
 undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x13cb):
 undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x13f8):
 undefined reference to `_Unwind_Resume'
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.text+0x140b):
 more undefined references to `_Unwind_Resume' follow
C:/DEVL/QT/4.6.0/lib/libQtUiTools.a(properties.o):properties.cpp:(.eh_frame+0x12
): undefined reference to `__gxx_personality_v0'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc.exe .hbmk\win\mingw\hbide.o .hbmk\win\mingw\idestylesheets.o .hbmk\win\mingw
\idetags.o .hbmk\win\mingw\idemisc.o .hbmk\win\mingw\ideactions.o .hbmk\win\ming
w\freadlin.o .hbmk\win\mingw\ideparseexpr.o .hbmk\win\mingw\_hbmkaut.o    -mwind
ows -Wl,--start-group -lhbxbp -lhbqt -lhbqtcore -lhbqtgui -lhbqtnetwork -lversio
n -lshlwapi -lQtCore4 -lQtGui4 -lQtNetwork4 -lQtUiTools -lsupc++ -lhbextern -lhb
debug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt
-lgtgui -lhbrdd -lhbuddall -lhbusrrdd -lrddntx -lrddcdx -lrddnsx -lrddfpt -lhbrd
d -lhbhsx -lhbsix -lhbmacro -lhbcplr -lhbpp -lhbcommon -lkernel32 -luser32 -lgdi
32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32
 -loleaut32 -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32 -lwininet -lhbpcre -lhbzlib
  -Wl,--end-group -ohbide.exe -LC:/HARBOUR/mingw/LIB -LC:/DEVL/QT/4.6.0/lib

-------------------------------3 ---Qt libraries 4.6 for Windows (VS
2008, 190 MB)
Lines 17268, Functions/Procedures 2
Generating C source output to '.hbmk\win\msvc\ideactions.c'... Done.
hbmk2: Compiling...
hbmk2: Error: Running C compiler. -1
cl.exe -nologo -c -Gs -Ot2b1  -W4 -wd4127 -Fo.hbmk\win\msvc\ -IC:\HARBOUR\msvc\\
INCLUDE -I..\hbxbp -I..\hbqt .hbmk\win\msvc\hbide.c .hbmk\win\msvc\idestylesheet
s.c .hbmk\win\msvc\idetags.c .hbmk\win\msvc\idemisc.c .hbmk\win\msvc\ideactions.
c freadlin.c ideparseexpr.c .hbmk\win\msvc\_hbmkaut.c


2009/12/2 Viktor Szak?ts <harbour.01@syenar.hu>:
>> why use SET HB_INC_QT and why HB_WITH_QT?
>
> See my last ChangeLog entry.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Iscritto all'albo dei CTU presso il Tribunale di Novara per materia Informatica
Delta Informatica S.r.l. (http://www.deltain.it/) (+39 0321 455962)
Analisi e sviluppo software per Lan e Web -  Consulenza informatica - Formazione
From ale.seribeli at ig.com.br  Wed Dec  2 13:11:52 2009
From: ale.seribeli at ig.com.br (Ale SB)
Date: Wed Dec  2 13:12:00 2009
Subject: [Harbour] Generate binaries for WinCE?
In-Reply-To: <26FD25BC-E8E0-4926-93FB-88210673D647@syenar.hu>
References: <26608527.post@talk.nabble.com>
	<26FD25BC-E8E0-4926-93FB-88210673D647@syenar.hu>
Message-ID: <26613637.post@talk.nabble.com>


The line error occurs is this:
if ( !ReadFile((HANDLE)(png_ptr->io_ptr), data, length, &check, NULL) )

What should be changed?

I really need to generate binaries for WinCE the Harbor with VS2005, you
think I can have a lot of incompatibility during generation?

Thanks;
Ale



Viktor Szak?ts wrote:
> 
> Looks like a libpng (WinCE C++ mode) bug.
> 
> Brgds,
> Viktor
> 
> 
-- 
View this message in context: http://old.nabble.com/Generate-binaries-for-WinCE--tp26608527p26613637.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Dec  2 13:13:35 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec  2 13:13:49 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <609353e70912021004u1c33aaa4p834f06537200cf67@mail.gmail.com>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com>
	<609353e70912020323j5eea32d6tc7bd5f9caf5d4b12@mail.gmail.com>
	<609353e70912020412t22b2c3a1s979e9787c45d63e5@mail.gmail.com>
	<BBA4B056-3AFC-48E1-9199-4948DA5BC25A@syenar.hu>
	<609353e70912021004u1c33aaa4p834f06537200cf67@mail.gmail.com>
Message-ID: <65ADD70E-12F6-4F8C-9269-18AD9EBBED79@syenar.hu>

> I have removed all HB_INC_* from my batch with the exclusion of hb_inc_install

You also not need HB_INC_INSTALL, BTW. Unless you use some 
exotic dir layout.

Brgds,
Viktor

From mbelgrano at deltain.it  Wed Dec  2 13:26:20 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec  2 13:26:48 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <65ADD70E-12F6-4F8C-9269-18AD9EBBED79@syenar.hu>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com> 
	<609353e70912020323j5eea32d6tc7bd5f9caf5d4b12@mail.gmail.com> 
	<609353e70912020412t22b2c3a1s979e9787c45d63e5@mail.gmail.com> 
	<BBA4B056-3AFC-48E1-9199-4948DA5BC25A@syenar.hu>
	<609353e70912021004u1c33aaa4p834f06537200cf67@mail.gmail.com> 
	<65ADD70E-12F6-4F8C-9269-18AD9EBBED79@syenar.hu>
Message-ID: <609353e70912021026g3321068fwf56982c3fd27e9e7@mail.gmail.com>

My dir layout
SET HB_INSTALL_PREFIX=C:\HARBOUR\%HB_COMPILER%
SET HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\BIN
SET HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\LIB
SET HB_INC_INSTALL=%HB_INSTALL_PREFIX%\INCLUDE

if i remove : HB_BIN_INSTAL SET HB_LIB_INSTALL SET HB_INC_INSTALL
I can't compile harbour
gcc  -I. -I../../../../../include -O3 -fomit-frame-pointer -march=i586
-mtune=pentiumpro  -Ic:/harbour/external/zlib
-Ic:/harbour/external/libpng  -o_hbhbpdf.o -c ../../../_hbhbpdf.c
process_begin: CreateProcess(NULL, gcc -I. -I../../../../../include
-O3 -fomit-frame-pointer -march=i586 -mtune=pentiumpro
-Ic:/harbour/external/zlib -Ic:/harbour/external/libpng -o_hbhbpdf.o
-c ../../../_hbhbpdf.c, ...) failed.
make (e=2): Impossibile trovare il file specificato.

WIN-MAKE[3]: *** [_hbhbpdf.o] Error 2
WIN-MAKE[2]: *** [descend] Error 2
WIN-MAKE[1]: *** [libhpdf.inst] Error 2
WIN-MAKE: *** [external.inst] Error 2



2009/12/2 Viktor Szak?ts <harbour.01@syenar.hu>:
>> I have removed all HB_INC_* from my batch with the exclusion of hb_inc_install
>
> You also not need HB_INC_INSTALL, BTW. Unless you use some
> exotic dir layout.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Dec  2 13:29:54 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec  2 13:30:06 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <609353e70912021026g3321068fwf56982c3fd27e9e7@mail.gmail.com>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com>
	<609353e70912020323j5eea32d6tc7bd5f9caf5d4b12@mail.gmail.com>
	<609353e70912020412t22b2c3a1s979e9787c45d63e5@mail.gmail.com>
	<BBA4B056-3AFC-48E1-9199-4948DA5BC25A@syenar.hu>
	<609353e70912021004u1c33aaa4p834f06537200cf67@mail.gmail.com>
	<65ADD70E-12F6-4F8C-9269-18AD9EBBED79@syenar.hu>
	<609353e70912021026g3321068fwf56982c3fd27e9e7@mail.gmail.com>
Message-ID: <0A9086AE-C726-4970-8A1B-5EF68A129776@syenar.hu>

> My dir layout
> SET HB_INSTALL_PREFIX=C:\HARBOUR\%HB_COMPILER%
> SET HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\BIN
> SET HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\LIB
> SET HB_INC_INSTALL=%HB_INSTALL_PREFIX%\INCLUDE
> 
> if i remove : HB_BIN_INSTAL SET HB_LIB_INSTALL SET HB_INC_INSTALL
> I can't compile harbour
> gcc  -I. -I../../../../../include -O3 -fomit-frame-pointer -march=i586
> -mtune=pentiumpro  -Ic:/harbour/external/zlib
> -Ic:/harbour/external/libpng  -o_hbhbpdf.o -c ../../../_hbhbpdf.c
> process_begin: CreateProcess(NULL, gcc -I. -I../../../../../include
> -O3 -fomit-frame-pointer -march=i586 -mtune=pentiumpro
> -Ic:/harbour/external/zlib -Ic:/harbour/external/libpng -o_hbhbpdf.o
> -c ../../../_hbhbpdf.c, ...) failed.
> make (e=2): Impossibile trovare il file specificato.

This is not caused by missing HB_*_INSTALL, but rather 
missing MinGW from PATH.

Add MinGW to your PATH and it will work. Leave only HB_INSTALL_PREFIX.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Dec  2 14:05:20 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  2 14:05:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13098] trunk/harbour
Message-ID: <E1NFuVs-0001Ze-Oy@dn4whf1.ch3.sourceforge.com>

Revision: 13098
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13098&view=rev
Author:   vszakats
Date:     2009-12-02 19:05:19 +0000 (Wed, 02 Dec 2009)

Log Message:
-----------
2009-12-02 20:04 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * external/libpng/Makefile
    * Forcing C mode for libpng.
      It has some C++ bugs (in WINCE mode).
      Please retest.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/external/libpng/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Dec  2 14:05:41 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec  2 14:06:12 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <0A9086AE-C726-4970-8A1B-5EF68A129776@syenar.hu>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com> 
	<609353e70912020323j5eea32d6tc7bd5f9caf5d4b12@mail.gmail.com> 
	<609353e70912020412t22b2c3a1s979e9787c45d63e5@mail.gmail.com> 
	<BBA4B056-3AFC-48E1-9199-4948DA5BC25A@syenar.hu>
	<609353e70912021004u1c33aaa4p834f06537200cf67@mail.gmail.com> 
	<65ADD70E-12F6-4F8C-9269-18AD9EBBED79@syenar.hu>
	<609353e70912021026g3321068fwf56982c3fd27e9e7@mail.gmail.com> 
	<0A9086AE-C726-4970-8A1B-5EF68A129776@syenar.hu>
Message-ID: <609353e70912021105q6ae3ff45sa674b23864402919@mail.gmail.com>

THis is my batch with parameter clean install
SET HB_WITH_ADS=C:\DEVL\acesdk
SET HB_WITH_QT=C:\DEVL\qt\2009.04\QT\INCLUDE
SET HB_BUILD_IMPLIB=yes
SET HB_WITH_MYSQL=C:\DEVL\MySQL51\INCLUDE
SET HB_ARCHITECTURE=win
SET HB_COMPILER=mingw
SET HB_INSTALL_PREFIX=C:\HARBOUR\%HB_COMPILER%
rem SET HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\BIN
rem SET HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\LIB
rem SET HB_INC_INSTALL=%HB_INSTALL_PREFIX%\INCLUDE
SET PATH=C:\DEVL\MinGWtdm\BIN;C:\HARBOUR\%HB_COMPILER%\BIN;C:\DEVL\QT\2009.04\QT\BIN;%PATH%
WIN-MAKE %1 %2 %3 %4 > log-%HB_COMPILER%.txt 2>&1

when finish i have only 5 file lib
 Directory di c:\harbour\mingw\lib

02/12/2009  19:35    <DIR>          .
02/12/2009  19:35    <DIR>          ..
16/08/2007  19:10           115.518 libace32.a
02/12/2009  18:56           452.652 LIBDELTA4HH.A
02/12/2009  18:56           468.096 LIBDELTA4HHD.A
02/12/2009  19:35           804.726 liblibhpdf.a
01/04/2009  14:53            34.876 libmysql.a
10/11/2009  11:01    <DIR>          win
               5 File      1.875.868 byte
               3 Directory  396.135.325.696 byte disponibili
----------------
rem SET HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\BIN
rem SET HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\LIB
rem SET HB_INC_INSTALL=%HB_INSTALL_PREFIX%\INCLUDE
-----------------

2009/12/2 Viktor Szak?ts <harbour.01@syenar.hu>:
>> My dir layout
>> SET HB_INSTALL_PREFIX=C:\HARBOUR\%HB_COMPILER%
>> SET HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\BIN
>> SET HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\LIB
>> SET HB_INC_INSTALL=%HB_INSTALL_PREFIX%\INCLUDE
>>
>> if i remove : HB_BIN_INSTAL SET HB_LIB_INSTALL SET HB_INC_INSTALL
>> I can't compile harbour
>> gcc ?-I. -I../../../../../include -O3 -fomit-frame-pointer -march=i586
>> -mtune=pentiumpro ?-Ic:/harbour/external/zlib
>> -Ic:/harbour/external/libpng ?-o_hbhbpdf.o -c ../../../_hbhbpdf.c
>> process_begin: CreateProcess(NULL, gcc -I. -I../../../../../include
>> -O3 -fomit-frame-pointer -march=i586 -mtune=pentiumpro
>> -Ic:/harbour/external/zlib -Ic:/harbour/external/libpng -o_hbhbpdf.o
>> -c ../../../_hbhbpdf.c, ...) failed.
>> make (e=2): Impossibile trovare il file specificato.
>
> This is not caused by missing HB_*_INSTALL, but rather
> missing MinGW from PATH.
>
> Add MinGW to your PATH and it will work. Leave only HB_INSTALL_PREFIX.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Iscritto all'albo dei CTU presso il Tribunale di Novara per materia Informatica
Delta Informatica S.r.l. (http://www.deltain.it/) (+39 0321 455962)
Analisi e sviluppo software per Lan e Web -  Consulenza informatica - Formazione
-------------- next part --------------
A non-text attachment was scrubbed...
Name: log-mingw.7z
Type: application/octet-stream
Size: 26154 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091202/981f921c/log-mingw-0001.obj
From harbour.01 at syenar.hu  Wed Dec  2 14:13:31 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec  2 14:13:41 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <609353e70912021105q6ae3ff45sa674b23864402919@mail.gmail.com>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com>
	<609353e70912020323j5eea32d6tc7bd5f9caf5d4b12@mail.gmail.com>
	<609353e70912020412t22b2c3a1s979e9787c45d63e5@mail.gmail.com>
	<BBA4B056-3AFC-48E1-9199-4948DA5BC25A@syenar.hu>
	<609353e70912021004u1c33aaa4p834f06537200cf67@mail.gmail.com>
	<65ADD70E-12F6-4F8C-9269-18AD9EBBED79@syenar.hu>
	<609353e70912021026g3321068fwf56982c3fd27e9e7@mail.gmail.com>
	<0A9086AE-C726-4970-8A1B-5EF68A129776@syenar.hu>
	<609353e70912021105q6ae3ff45sa674b23864402919@mail.gmail.com>
Message-ID: <CC0CA600-947F-4E92-95D2-FB4F6100BB0B@syenar.hu>

> THis is my batch with parameter clean install
> SET HB_WITH_ADS=C:\DEVL\acesdk
> SET HB_WITH_QT=C:\DEVL\qt\2009.04\QT\INCLUDE
> SET HB_BUILD_IMPLIB=yes
> SET HB_WITH_MYSQL=C:\DEVL\MySQL51\INCLUDE
> SET HB_ARCHITECTURE=win
> SET HB_COMPILER=mingw
> SET HB_INSTALL_PREFIX=C:\HARBOUR\%HB_COMPILER%
> rem SET HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\BIN
> rem SET HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\LIB
> rem SET HB_INC_INSTALL=%HB_INSTALL_PREFIX%\INCLUDE
> SET PATH=C:\DEVL\MinGWtdm\BIN;C:\HARBOUR\%HB_COMPILER%\BIN;C:\DEVL\QT\2009.04\QT\BIN;%PATH%
> WIN-MAKE %1 %2 %3 %4 > log-%HB_COMPILER%.txt 2>&1
> 
> when finish i have only 5 file lib
> Directory di c:\harbour\mingw\lib
> 
> 02/12/2009  19:35    <DIR>          .
> 02/12/2009  19:35    <DIR>          ..
> 16/08/2007  19:10           115.518 libace32.a
> 02/12/2009  18:56           452.652 LIBDELTA4HH.A
> 02/12/2009  18:56           468.096 LIBDELTA4HHD.A
> 02/12/2009  19:35           804.726 liblibhpdf.a
> 01/04/2009  14:53            34.876 libmysql.a
> 10/11/2009  11:01    <DIR>          win
>               5 File      1.875.868 byte
>               3 Directory  396.135.325.696 byte disponibili

Default lib dir in your case is C:\harbour\mingw\lib\win\mingw

So far you forced it to be C:\harbour\mingw\lib. If you need 
such non-default layout for some reason (some external tools?), 
you can leave HB_LIB_INSTALL, but unless it's absolutely 
necessary I wouldn't recommend it.

Brgds,
Viktor

From bedipritpal at hotmail.com  Wed Dec  2 14:13:42 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Dec  2 14:13:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13097] trunk/harbour
In-Reply-To: <609353e70912020922p40d04659nf0bd8b72353b11a9@mail.gmail.com>
References: <E1NFrks-0004sv-KH@bj8yhf1.ch3.sourceforge.com>
	<609353e70912020922p40d04659nf0bd8b72353b11a9@mail.gmail.com>
Message-ID: <26614578.post@talk.nabble.com>


Hi

> size of source in kb

Good point, but I am wondering whay purpose it will solve.

> Font information like ansi/oem

I do not think it has any relevance with text editing, but I may be wrong.

> last Search text  good to find next

Good. It could also be appropriate to implement CTRL+G to search next
occurance.

> kind of selection column mode or normal mode

Yes, slot is there but will be effective only when I will be able to
implement column selection.

> Result of last compilation

Sure, but when this phase is reached.


> I have follow question
> How activate list of function?

Click <Module Function List> icon on the toolbar.

> Also buttttonbar will be used like status bar

I could not follow what you mean. Can you explain what it is ?

Regards
Pritpal Bedi




-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13097--trunk-harbour-tp26611451p26614578.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Dec  2 14:19:47 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec  2 14:19:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13097] trunk/harbour
In-Reply-To: <26614578.post@talk.nabble.com>
References: <E1NFrks-0004sv-KH@bj8yhf1.ch3.sourceforge.com>
	<609353e70912020922p40d04659nf0bd8b72353b11a9@mail.gmail.com>
	<26614578.post@talk.nabble.com>
Message-ID: <C91EE14C-0C85-40C2-928B-AD4E18495D73@syenar.hu>

>> Font information like ansi/oem
> 
> I do not think it has any relevance with text editing, but I may be wrong.

It has relevance, in fact quite important for anyone 
using non-English texts in source code, but in case you 
implement it please let's forget "ANSI" and "OEM". These 
are MS specific (and BTW horrible and vague) terminology. 

Simple, standard codepage name is the way to go here.

Brgds,
Viktor

From mbelgrano at deltain.it  Wed Dec  2 14:30:56 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec  2 14:31:25 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <CC0CA600-947F-4E92-95D2-FB4F6100BB0B@syenar.hu>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com> 
	<609353e70912020323j5eea32d6tc7bd5f9caf5d4b12@mail.gmail.com> 
	<609353e70912020412t22b2c3a1s979e9787c45d63e5@mail.gmail.com> 
	<BBA4B056-3AFC-48E1-9199-4948DA5BC25A@syenar.hu>
	<609353e70912021004u1c33aaa4p834f06537200cf67@mail.gmail.com> 
	<65ADD70E-12F6-4F8C-9269-18AD9EBBED79@syenar.hu>
	<609353e70912021026g3321068fwf56982c3fd27e9e7@mail.gmail.com> 
	<0A9086AE-C726-4970-8A1B-5EF68A129776@syenar.hu>
	<609353e70912021105q6ae3ff45sa674b23864402919@mail.gmail.com> 
	<CC0CA600-947F-4E92-95D2-FB4F6100BB0B@syenar.hu>
Message-ID: <609353e70912021130w7ad41091iccdf991bcff3856d@mail.gmail.com>

IF I SET HB_INSTALL_PREFIX=C:\HARBOUR\
will be created
win\mingw\include
win\mingw\lib

so when i made a copy will be right follow
COPY C:\DEVL\mysql51\lib\opt\libmysql.lib
C:\HARBOUR\win\%HB_COMPILER%\lib\libmysql.a


2009/12/2 Viktor Szak?ts <harbour.01@syenar.hu>:
>
> Default lib dir in your case is C:\harbour\mingw\lib\win\mingw
>
> So far you forced it to be C:\harbour\mingw\lib. If you need
> such non-default layout for some reason (some external tools?),
> you can leave HB_LIB_INSTALL, but unless it's absolutely
> necessary I wouldn't recommend it.
>


-- 
Massimo Belgrano
From bedipritpal at hotmail.com  Wed Dec  2 14:39:19 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Dec  2 14:39:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13097] trunk/harbour
In-Reply-To: <C91EE14C-0C85-40C2-928B-AD4E18495D73@syenar.hu>
References: <E1NFrks-0004sv-KH@bj8yhf1.ch3.sourceforge.com>
	<609353e70912020922p40d04659nf0bd8b72353b11a9@mail.gmail.com>
	<26614578.post@talk.nabble.com>
	<C91EE14C-0C85-40C2-928B-AD4E18495D73@syenar.hu>
Message-ID: <26615036.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
>>> Font information like ansi/oem
>> 
>> I do not think it has any relevance with text editing, but I may be
>> wrong.
> 
> It has relevance, in fact quite important for anyone 
> using non-English texts in source code, but in case you 
> implement it please let's forget "ANSI" and "OEM". These 
> are MS specific (and BTW horrible and vague) terminology. 
> 
> Simple, standard codepage name is the way to go here.
> 

Now I understand why it is important.
Which Harbour function call will fetch me "standard codepage" ?

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13097--trunk-harbour-tp26611451p26615036.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Dec  2 14:53:54 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec  2 14:54:04 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <609353e70912021130w7ad41091iccdf991bcff3856d@mail.gmail.com>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com>
	<609353e70912020323j5eea32d6tc7bd5f9caf5d4b12@mail.gmail.com>
	<609353e70912020412t22b2c3a1s979e9787c45d63e5@mail.gmail.com>
	<BBA4B056-3AFC-48E1-9199-4948DA5BC25A@syenar.hu>
	<609353e70912021004u1c33aaa4p834f06537200cf67@mail.gmail.com>
	<65ADD70E-12F6-4F8C-9269-18AD9EBBED79@syenar.hu>
	<609353e70912021026g3321068fwf56982c3fd27e9e7@mail.gmail.com>
	<0A9086AE-C726-4970-8A1B-5EF68A129776@syenar.hu>
	<609353e70912021105q6ae3ff45sa674b23864402919@mail.gmail.com>
	<CC0CA600-947F-4E92-95D2-FB4F6100BB0B@syenar.hu>
	<609353e70912021130w7ad41091iccdf991bcff3856d@mail.gmail.com>
Message-ID: <4D00AFA8-C1A2-456A-A349-1800B1CA4E60@syenar.hu>

> IF I SET HB_INSTALL_PREFIX=C:\HARBOUR\
> will be created
> win\mingw\include
> win\mingw\lib
> 
> so when i made a copy will be right follow
> COPY C:\DEVL\mysql51\lib\opt\libmysql.lib
> C:\HARBOUR\win\%HB_COMPILER%\lib\libmysql.a

Sorry I don't understand.

If you use hbmk2 for your final app, all you need 
is HB_INSTALL_PREFIX=C:\harbour\win. For _all_ Windows 
compilers.

If you want, you can make it more complicated 
using your dir scheme, but I don't understand it, 
so I can't comment on it.

Brgds.
Viktor

From mbelgrano at deltain.it  Wed Dec  2 14:53:38 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec  2 14:54:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13097] trunk/harbour
In-Reply-To: <26615036.post@talk.nabble.com>
References: <E1NFrks-0004sv-KH@bj8yhf1.ch3.sourceforge.com> 
	<609353e70912020922p40d04659nf0bd8b72353b11a9@mail.gmail.com> 
	<26614578.post@talk.nabble.com>
	<C91EE14C-0C85-40C2-928B-AD4E18495D73@syenar.hu> 
	<26615036.post@talk.nabble.com>
Message-ID: <609353e70912021153p5912dec1ofae35dc11a06da4f@mail.gmail.com>

Inside string of myu harbour program i need edit with same codepage
that i use in my program
Harbour right display right but i need also hbide

REQUEST HB_LANG_IT
REQUEST HB_CODEPAGE_IT437
func main
 string="??????"
 ?
 return


module function list not display function ADDING TO PREV SAMPLE
FUNC MAIN_ARCA
  RETURN
funct MAIN_ARCA2
  RETURN

2009/12/2 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hi
>
>
> Viktor Szak?ts wrote:
>>
>>>> Font information like ansi/oem
>>>
>>> I do not think it has any relevance with text editing, but I may be
>>> wrong.
>>
>> It has relevance, in fact quite important for anyone
>> using non-English texts in source code, but in case you
>> implement it please let's forget "ANSI" and "OEM". These
>> are MS specific (and BTW horrible and vague) terminology.
>>
>> Simple, standard codepage name is the way to go here.
>>
>
> Now I understand why it is important.
> Which Harbour function call will fetch me "standard codepage" ?
>
> Regards
> Pritpal Bedi
>
>
> --
> View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13097--trunk-harbour-tp26611451p26615036.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Dec  2 14:56:25 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec  2 14:56:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13097] trunk/harbour
In-Reply-To: <26615036.post@talk.nabble.com>
References: <E1NFrks-0004sv-KH@bj8yhf1.ch3.sourceforge.com>
	<609353e70912020922p40d04659nf0bd8b72353b11a9@mail.gmail.com>
	<26614578.post@talk.nabble.com>
	<C91EE14C-0C85-40C2-928B-AD4E18495D73@syenar.hu>
	<26615036.post@talk.nabble.com>
Message-ID: <1485C604-8917-40C3-A928-8B46946746E3@syenar.hu>

>>>> Font information like ansi/oem
>>> 
>>> I do not think it has any relevance with text editing, but I may be
>>> wrong.
>> 
>> It has relevance, in fact quite important for anyone 
>> using non-English texts in source code, but in case you 
>> implement it please let's forget "ANSI" and "OEM". These 
>> are MS specific (and BTW horrible and vague) terminology. 
>> 
>> Simple, standard codepage name is the way to go here.
>> 
> 
> Now I understand why it is important.
> Which Harbour function call will fetch me "standard codepage" ?

You will most probably handle it on the QT level so you need 
to check with QT docs. If you need to sync it for whatever 
reasons with Harbour, see HB_CODEPAGE_* for Harbour equivalent.
Harbour doesn't support standard CP names ATM, except UTF-8.

Brgds,
Viktor

From bedipritpal at hotmail.com  Wed Dec  2 15:16:31 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Dec  2 15:16:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13097] trunk/harbour
In-Reply-To: <609353e70912021153p5912dec1ofae35dc11a06da4f@mail.gmail.com>
References: <E1NFrks-0004sv-KH@bj8yhf1.ch3.sourceforge.com>
	<609353e70912020922p40d04659nf0bd8b72353b11a9@mail.gmail.com>
	<26614578.post@talk.nabble.com>
	<C91EE14C-0C85-40C2-928B-AD4E18495D73@syenar.hu>
	<26615036.post@talk.nabble.com>
	<609353e70912021153p5912dec1ofae35dc11a06da4f@mail.gmail.com>
Message-ID: <26615698.post@talk.nabble.com>


Hi


Massimo Belgrano-3 wrote:
> 
> Inside string of myu harbour program i need edit with same codepage
> that i use in my program
> Harbour right display right but i need also hbide
> 
> REQUEST HB_LANG_IT
> REQUEST HB_CODEPAGE_IT437
> func main
>  string="??????"
>  ?
>  return
> 

I have to go through Qt documents in deep in codepage area.
So so long I get some information and insight how to implement.



> module function list not display function ADDING TO PREV SAMPLE
> FUNC MAIN_ARCA
>   RETURN
> funct MAIN_ARCA2
>   RETURN
> 

xMate also does not shows it in "Clipper" way.
And this probably I will not support too as it leads to cheos.
You need to adapt 32+ bits approach to all your code.
Probably it is the time to clean it up.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13097--trunk-harbour-tp26611451p26615698.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Wed Dec  2 15:25:35 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Dec  2 15:25:43 2009
Subject: [Harbour] HBIDE - Some Points to Discuss - I
Message-ID: <26615827.post@talk.nabble.com>


Hello Everybody

Initially I started with QTextEdit() class as a base to source editing 
mechanism. This class provides more visual capabilities like font zooming
in real time which was implemented in HBIDE too. 

Now I have shifted to QPlainTextEdit() which is optimized class for 
large file handelling but lacks some visual features, for now, which was 
font zooming only.

I need your opinion about what way I should proceed ?
Pure business with QPlainTextEdit() or some visual enhancements only 
on the cost of performance ?

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/HBIDE---Some-Points-to-Discuss---I-tp26615827p26615827.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From itamarlins at bol.com.br  Wed Dec  2 15:36:51 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Wed Dec  2 15:39:43 2009
Subject: [Harbour] HB_BUILD_UNICODE=no
Message-ID: <hf6j9f$4q5$1@ger.gmane.org>

Hi!
With MSVC 2008 express, Win XP SP3
My file makemsvc.bat is:

SET HB_BUILD_DEBUG=yes
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
win-make %1 %2


cl.exe  -nologo -I. -I../../../../../include -Gs -TC -Ot2b1 -EHs-c- -MTd -Zi 
 -DH
B_TR_LEVEL_DEBUG  -ID:/harbour/trunk/harbour/external/zlib -ID:/harbour/trunk/ha
rbour/external/libpng -DUNICODE  -Fo_hbhbpdf.obj -c ../../../_hbhbpdf.c
_hbhbpdf.c
../../../_hbhbpdf.c : fatal error C1902: Program database manager mismatch; 
plea
se check your installation
win-make[3]: *** [_hbhbpdf.obj] Error 2
win-make[2]: *** [descend] Error 2
win-make[1]: *** [libhpdf.inst] Error 2
win-make: *** [external.inst] Error 2

Best regards,
Itamar M. Lins Jr. 



From itamarlins at bol.com.br  Wed Dec  2 15:50:23 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Wed Dec  2 15:53:17 2009
Subject: [Harbour] Re: Re: Re: Re: Re: Re: Win_prn problem.
Message-ID: <hf6k2q$7oc$1@ger.gmane.org>

Hi!
The lines below  of file testprg.prg in to folder \contrib\hbwin\tests not 
working.

---------------------->8-----------------
oPrinter:Box(  0, oPrinter:PosY+100, 100, oPrinter:PosY+200)
oPrinter:Arc(200, oPrinter:PosY+100, 300, oPrinter:PosY+200)
oPrinter:Ellipse(400, oPrinter:PosY+100, 500, oPrinter:PosY+200)
oPrinter:FillRect(600, oPrinter:PosY+100, 700, oPrinter:PosY+200, RGB_RED )
--------------------8<------------

My test with SVN $Id: ChangeLog 13098 2009-12-02 19:05:19Z vszakats $

Best Regards,
Itamar M. Lins Jr.

"Itamar Lins" <itamarlins@bol.com.br> escreveu na mensagem news:...
> Sorry, my fault,
> #include "hbwin.ch"
> But, the problem persist. :-(
>
> Best regards,
> Itamar M. Lins Jr.
>
> "Itamar Lins" <itamarlins@bol.com.br> 
> escreveu na mensagem news:hegso9$qlv$1@ger.gmane.org...
>> Hi!
>> Now with , oPrn:CharSet(OEM_CHARSET)
>> I get error, variable not exist.
>> Error BASE/1003  Vari vel no existe: OEM_CHARSET
>> SVN  * $Id: ChangeLog 13006 2009-11-24 12:20:59Z druzus $
>>
>> Best regards,
>> Itamar M. Lins Jr.
>>
>> "Xavi" <jarabal@gmail.com> escreveu na 
>> mensagem news:4B0B35E1.6090802@gmail.com...
>>> Itamar,
>>>
>>>  > But not  is possible yet print draw box double horizontal for 
>>> example. I get
>>>  > 
>>>
>>> This seems a conflict with charset.
>>> http://msdn.microsoft.com/en-us/library/dd183499%28VS.85%29.aspx
>>> Please read fdwCharSet parameter if it can help you.
>>>
>>> oPrn:CharSet(OEM_CHARSET)
>>> oPrn:Setfont('Lucida Console',,11) // oPrn:Setfont('Terminal',,12)
>>>
>>> Please Viktor, is it possible to update hbwin.ch?
>>>
>>> -- 
>>> Xavi
>>>
>>> Viktor Szakts escribi:
>>>>> Hi!
>>>>> The return of command "oPrn:TextOut('Font Is: '+oPrn:FontName,.t.)" is
>>>>> correct now.
>>>>
>>>> Amen.
>>>>
>>>>> But not  is possible yet print draw box double horizontal for example. 
>>>>> I get
>>>>> 
>>>>
>>>> I'll let someone else to solve this for you,
>>>> anyhow it's not a Harbour bug.
>>>>
>>>> Brgds,
>>>> Viktor
>>>>
>>>
>>>
>>
>>
>> --------------------------------------------------------------------------------
>>
>>
>>> /*
>>> * $Id: hbwin.ch 12732 2009-10-19 21:17:04Z vszakats $
>>> */
>>>
>>> /*
>>> * Harbour Project source code:
>>> * hbwin header
>>> *
>>> * Copyright 2008 Viktor Szakats (harbour.01 syenar.hu)
>>> * Copyright 2004 Peter Rees 
>>> <peter@rees.co.nz>
>>> *                Rees Software & Systems Ltd
>>> * www - http://www.harbour-project.org
>>> *
>>> * This program is free software; you can redistribute it and/or modify
>>> * it under the terms of the GNU General Public License as published by
>>> * the Free Software Foundation; either version 2, or (at your option)
>>> * any later version.
>>> *
>>> * This program is distributed in the hope that it will be useful,
>>> * but WITHOUT ANY WARRANTY; without even the implied warranty of
>>> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
>>> * GNU General Public License for more details.
>>> *
>>> * You should have received a copy of the GNU General Public License
>>> * along with this software; see the file COPYING.  If not, write to
>>> * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
>>> * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
>>> *
>>> * As a special exception, the Harbour Project gives permission for
>>> * additional uses of the text contained in its release of Harbour.
>>> *
>>> * The exception is that, if you link the Harbour libraries with other
>>> * files to produce an executable, this does not by itself cause the
>>> * resulting executable to be covered by the GNU General Public License.
>>> * Your use of that executable is in no way restricted on account of
>>> * linking the Harbour library code into it.
>>> *
>>> * This exception does not however invalidate any other reasons why
>>> * the executable file might be covered by the GNU General Public 
>>> License.
>>> *
>>> * This exception applies only to the code released by the Harbour
>>> * Project under the name Harbour.  If you copy code from other
>>> * Harbour Project or Free Software Foundation releases into a copy of
>>> * Harbour, as the General Public License permits, the exception does
>>> * not apply to the code that you add in this way.  To avoid misleading
>>> * anyone as to the status of such modified files, you must delete
>>> * this exception notice from them.
>>> *
>>> * If you write modifications of your own for Harbour, it is your choice
>>> * whether to permit this exception to apply to your modifications.
>>> * If you do not wish that, delete this exception notice.
>>> *
>>> */
>>>
>>> #ifndef HBWIN_CH_
>>> #define HBWIN_CH_
>>>
>>> /* Registry related values */
>>>
>>> #define HKEY_CLASSES_ROOT      0x80000000
>>> #define HKEY_CURRENT_USER      0x80000001
>>> #define HKEY_LOCAL_MACHINE     0x80000002
>>> #define HKEY_USERS             0x80000003
>>> #define HKEY_PERFORMANCE_DATA  0x80000004
>>> #define HKEY_CURRENT_CONFIG    0x80000005
>>> #define HKEY_DYN_DATA          0x80000006
>>>
>>> /* win_Port() related values */
>>>
>>> /* The following are from winbase.h */
>>>
>>> #define CBR_110                110
>>> #define CBR_300                300
>>> #define CBR_600                600
>>> #define CBR_1200               1200
>>> #define CBR_2400               2400
>>> #define CBR_4800               4800
>>> #define CBR_9600               9600
>>> #define CBR_14400              14400
>>> #define CBR_19200              19200
>>> #define CBR_38400              38400
>>> #define CBR_56000              56000
>>> #define CBR_57600              57600
>>> #define CBR_115200             115200
>>> #define CBR_128000             128000
>>> #define CBR_256000             256000
>>>
>>> #define NOPARITY               0
>>> #define ODDPARITY              1
>>> #define EVENPARITY             2
>>> #define MARKPARITY             3
>>> #define SPACEPARITY            4
>>>
>>> #define ONESTOPBIT             0
>>> #define ONE5STOPBITS           1
>>> #define TWOSTOPBITS            2
>>>
>>> /* DTR Control Flow Values. */
>>> #define DTR_CONTROL_DISABLE    0x00
>>> #define DTR_CONTROL_ENABLE     0x01
>>> #define DTR_CONTROL_HANDSHAKE  0x02
>>>
>>> /* RTS Control Flow Values */
>>> #define RTS_CONTROL_DISABLE    0x00
>>> #define RTS_CONTROL_ENABLE     0x01
>>> #define RTS_CONTROL_HANDSHAKE  0x02
>>> #define RTS_CONTROL_TOGGLE     0x03
>>>
>>> #define WIN_COM_DBGBASIC       0x01
>>> #define WIN_COM_DBGFLOW        0x02
>>> #define WIN_COM_DBGXTRAFLOW    0x04
>>> #define WIN_COM_DBGOTHER       0x08
>>> #define WIN_COM_DBGTIMEOUTS    0x10
>>> #define WIN_COM_DBGQUEUE       0x20
>>> #define WIN_COM_DBGALL         0x3F
>>>
>>> /* win_Prn() related values */
>>>
>>> #define FORM_A4                9
>>>
>>> #define PS_SOLID               0
>>>
>>> #define RGB( nR, nG, nB )      ( nR + ( nG * 256 ) + ( nB * 256 * 
>>> 256 ) )
>>>
>>> #define RGB_BLACK              RGB( 0x00, 0x00, 0x00 )
>>> #define RGB_BLUE               RGB( 0x00, 0x00, 0x85 )
>>> #define RGB_GREEN              RGB( 0x00, 0x85, 0x00 )
>>> #define RGB_CYAN               RGB( 0x00, 0x85, 0x85 )
>>> #define RGB_RED                RGB( 0x85, 0x00, 0x00 )
>>> #define RGB_MAGENTA            RGB( 0x85, 0x00, 0x85 )
>>> #define RGB_BROWN              RGB( 0x85, 0x85, 0x00 )
>>> #define RGB_WHITE              RGB( 0xC6, 0xC6, 0xC6 )
>>>
>>> /* Cut from wingdi.h */
>>>
>>> #define MM_TEXT                1
>>> #define MM_LOMETRIC            2
>>> #define MM_HIMETRIC            3
>>> #define MM_LOENGLISH           4
>>> #define MM_HIENGLISH           5
>>>
>>> #define FW_DONTCARE 0
>>> #define FW_THIN 100
>>> #define FW_EXTRALIGHT 200
>>> #define FW_ULTRALIGHT FW_EXTRALIGHT
>>> #define FW_LIGHT 300
>>> #define FW_NORMAL 400
>>> #define FW_REGULAR 400
>>> #define FW_MEDIUM 500
>>> #define FW_SEMIBOLD 600
>>> #define FW_DEMIBOLD FW_SEMIBOLD
>>> #define FW_BOLD 700
>>> #define FW_EXTRABOLD 800
>>> #define FW_ULTRABOLD FW_EXTRABOLD
>>> #define FW_HEAVY 900
>>> #define FW_BLACK FW_HEAVY
>>> #define ANSI_CHARSET 0
>>> #define DEFAULT_CHARSET 1
>>> #define SYMBOL_CHARSET 2
>>> #define SHIFTJIS_CHARSET 128
>>> #define HANGEUL_CHARSET 129
>>> #define HANGUL_CHARSET  129
>>> #define GB2312_CHARSET 134
>>> #define CHINESEBIG5_CHARSET 136
>>> #define GREEK_CHARSET 161
>>> #define TURKISH_CHARSET 162
>>> #define HEBREW_CHARSET 177
>>> #define ARABIC_CHARSET 178
>>> #define BALTIC_CHARSET 186
>>> #define RUSSIAN_CHARSET 204
>>> #define THAI_CHARSET 222
>>> #define EASTEUROPE_CHARSET 238
>>> #define OEM_CHARSET 255
>>> #define JOHAB_CHARSET 130
>>> #define VIETNAMESE_CHARSET 163
>>> #define MAC_CHARSET 77
>>>
>>> /* Device Parameters for win_GetDeviceCaps() */
>>>
>>> #define HORZSIZE               4   // Horizontal size in millimeters
>>> #define VERTSIZE               6   // Vertical size in millimeters
>>> #define HORZRES                8   // Horizontal width in pixels
>>> #define VERTRES                10  // Vertical height in pixels
>>> #define NUMBRUSHES             16  // Number of brushes the device has
>>> #define NUMPENS                18  // Number of pens the device has
>>> #define NUMFONTS               22  // Number of fonts the device has
>>> #define NUMCOLORS              24  // Number of colors the device 
>>> supports
>>> #define RASTERCAPS             38  // Bitblt capabilities
>>>
>>> #define LOGPIXELSX             88  // Logical pixels/inch in X
>>> #define LOGPIXELSY             90  // Logical pixels/inch in Y
>>>
>>> #define PHYSICALWIDTH          110 // Physical Width in device units
>>> #define PHYSICALHEIGHT         111 // Physical Height in device units
>>> #define PHYSICALOFFSETX        112 // Physical Printable Area x margin
>>> #define PHYSICALOFFSETY        113 // Physical Printable Area y margin
>>> #define SCALINGFACTORX         114 // Scaling factor x
>>> #define SCALINGFACTORY         115 // Scaling factor y
>>>
>>> /* bin selections */
>>> #define DMBIN_FIRST            DMBIN_UPPER
>>> #define DMBIN_UPPER            1
>>> #define DMBIN_ONLYONE          1
>>> #define DMBIN_LOWER            2
>>> #define DMBIN_MIDDLE           3
>>> #define DMBIN_MANUAL           4
>>> #define DMBIN_ENVELOPE         5
>>> #define DMBIN_ENVMANUAL        6
>>> #define DMBIN_AUTO             7
>>> #define DMBIN_TRACTOR          8
>>> #define DMBIN_SMALLFMT         9
>>> #define DMBIN_LARGEFMT         10
>>> #define DMBIN_LARGECAPACITY    11
>>> #define DMBIN_CASSETTE         14
>>> #define DMBIN_FORMSOURCE       15
>>> #define DMBIN_LAST             DMBIN_FORMSOURCE
>>>
>>> /* print qualities */
>>> #define DMRES_DRAFT            ( -1 )
>>> #define DMRES_LOW              ( -2 )
>>> #define DMRES_MEDIUM           ( -3 )
>>> #define DMRES_HIGH             ( -4 )
>>>
>>> /* duplex enable */
>>> #define DMDUP_SIMPLEX          1
>>> #define DMDUP_VERTICAL         2
>>> #define DMDUP_HORIZONTAL       3
>>>
>>> /* Text Alignment Options */
>>> #define TA_NOUPDATECP          0
>>> #define TA_UPDATECP            1
>>>
>>> #define TA_LEFT                0
>>> #define TA_RIGHT               2
>>> #define TA_CENTER              6
>>>
>>> #define TA_TOP                 0
>>> #define TA_BOTTOM              8
>>> #define TA_BASELINE            24
>>>
>>> #define MM_TO_INCH             25.4
>>>
>>> #endif /* HBWIN_CH_ */
>>>
>>
>>
>> --------------------------------------------------------------------------------
>>
>>
>>>
>>
>>
>>
>
> 



From itamarlins at bol.com.br  Wed Dec  2 15:50:16 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Wed Dec  2 15:53:20 2009
Subject: [Harbour] Re: Re: Re: Re: Re: Re: Win_prn problem.
Message-ID: <hf6k2j$7n5$1@ger.gmane.org>

Hi!
The lines below  of file testprg.prg in to folder \contrib\hbwin\tests not 
working.

---------------------->8-----------------
oPrinter:Box(  0, oPrinter:PosY+100, 100, oPrinter:PosY+200)
oPrinter:Arc(200, oPrinter:PosY+100, 300, oPrinter:PosY+200)
oPrinter:Ellipse(400, oPrinter:PosY+100, 500, oPrinter:PosY+200)
oPrinter:FillRect(600, oPrinter:PosY+100, 700, oPrinter:PosY+200, RGB_RED )
--------------------8<------------

My test with SVN $Id: ChangeLog 13098 2009-12-02 19:05:19Z vszakats $

Best Regards,
Itamar M. Lins Jr.

"Itamar Lins" <itamarlins@bol.com.br> escreveu na mensagem news:...
> Sorry, my fault,
> #include "hbwin.ch"
> But, the problem persist. :-(
>
> Best regards,
> Itamar M. Lins Jr.
>
> "Itamar Lins" <itamarlins@bol.com.br> 
> escreveu na mensagem news:hegso9$qlv$1@ger.gmane.org...
>> Hi!
>> Now with , oPrn:CharSet(OEM_CHARSET)
>> I get error, variable not exist.
>> Error BASE/1003  Vari vel no existe: OEM_CHARSET
>> SVN  * $Id: ChangeLog 13006 2009-11-24 12:20:59Z druzus $
>>
>> Best regards,
>> Itamar M. Lins Jr.
>>
>> "Xavi" <jarabal@gmail.com> escreveu na 
>> mensagem news:4B0B35E1.6090802@gmail.com...
>>> Itamar,
>>>
>>>  > But not  is possible yet print draw box double horizontal for 
>>> example. I get
>>>  > 
>>>
>>> This seems a conflict with charset.
>>> http://msdn.microsoft.com/en-us/library/dd183499%28VS.85%29.aspx
>>> Please read fdwCharSet parameter if it can help you.
>>>
>>> oPrn:CharSet(OEM_CHARSET)
>>> oPrn:Setfont('Lucida Console',,11) // oPrn:Setfont('Terminal',,12)
>>>
>>> Please Viktor, is it possible to update hbwin.ch?
>>>
>>> -- 
>>> Xavi
>>>
>>> Viktor Szakts escribi:
>>>>> Hi!
>>>>> The return of command "oPrn:TextOut('Font Is: '+oPrn:FontName,.t.)" is
>>>>> correct now.
>>>>
>>>> Amen.
>>>>
>>>>> But not  is possible yet print draw box double horizontal for example. 
>>>>> I get
>>>>> 
>>>>
>>>> I'll let someone else to solve this for you,
>>>> anyhow it's not a Harbour bug.
>>>>
>>>> Brgds,
>>>> Viktor
>>>>
>>>
>>>
>>
>>
>> --------------------------------------------------------------------------------
>>
>>
>>> /*
>>> * $Id: hbwin.ch 12732 2009-10-19 21:17:04Z vszakats $
>>> */
>>>
>>> /*
>>> * Harbour Project source code:
>>> * hbwin header
>>> *
>>> * Copyright 2008 Viktor Szakats (harbour.01 syenar.hu)
>>> * Copyright 2004 Peter Rees 
>>> <peter@rees.co.nz>
>>> *                Rees Software & Systems Ltd
>>> * www - http://www.harbour-project.org
>>> *
>>> * This program is free software; you can redistribute it and/or modify
>>> * it under the terms of the GNU General Public License as published by
>>> * the Free Software Foundation; either version 2, or (at your option)
>>> * any later version.
>>> *
>>> * This program is distributed in the hope that it will be useful,
>>> * but WITHOUT ANY WARRANTY; without even the implied warranty of
>>> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
>>> * GNU General Public License for more details.
>>> *
>>> * You should have received a copy of the GNU General Public License
>>> * along with this software; see the file COPYING.  If not, write to
>>> * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
>>> * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
>>> *
>>> * As a special exception, the Harbour Project gives permission for
>>> * additional uses of the text contained in its release of Harbour.
>>> *
>>> * The exception is that, if you link the Harbour libraries with other
>>> * files to produce an executable, this does not by itself cause the
>>> * resulting executable to be covered by the GNU General Public License.
>>> * Your use of that executable is in no way restricted on account of
>>> * linking the Harbour library code into it.
>>> *
>>> * This exception does not however invalidate any other reasons why
>>> * the executable file might be covered by the GNU General Public 
>>> License.
>>> *
>>> * This exception applies only to the code released by the Harbour
>>> * Project under the name Harbour.  If you copy code from other
>>> * Harbour Project or Free Software Foundation releases into a copy of
>>> * Harbour, as the General Public License permits, the exception does
>>> * not apply to the code that you add in this way.  To avoid misleading
>>> * anyone as to the status of such modified files, you must delete
>>> * this exception notice from them.
>>> *
>>> * If you write modifications of your own for Harbour, it is your choice
>>> * whether to permit this exception to apply to your modifications.
>>> * If you do not wish that, delete this exception notice.
>>> *
>>> */
>>>
>>> #ifndef HBWIN_CH_
>>> #define HBWIN_CH_
>>>
>>> /* Registry related values */
>>>
>>> #define HKEY_CLASSES_ROOT      0x80000000
>>> #define HKEY_CURRENT_USER      0x80000001
>>> #define HKEY_LOCAL_MACHINE     0x80000002
>>> #define HKEY_USERS             0x80000003
>>> #define HKEY_PERFORMANCE_DATA  0x80000004
>>> #define HKEY_CURRENT_CONFIG    0x80000005
>>> #define HKEY_DYN_DATA          0x80000006
>>>
>>> /* win_Port() related values */
>>>
>>> /* The following are from winbase.h */
>>>
>>> #define CBR_110                110
>>> #define CBR_300                300
>>> #define CBR_600                600
>>> #define CBR_1200               1200
>>> #define CBR_2400               2400
>>> #define CBR_4800               4800
>>> #define CBR_9600               9600
>>> #define CBR_14400              14400
>>> #define CBR_19200              19200
>>> #define CBR_38400              38400
>>> #define CBR_56000              56000
>>> #define CBR_57600              57600
>>> #define CBR_115200             115200
>>> #define CBR_128000             128000
>>> #define CBR_256000             256000
>>>
>>> #define NOPARITY               0
>>> #define ODDPARITY              1
>>> #define EVENPARITY             2
>>> #define MARKPARITY             3
>>> #define SPACEPARITY            4
>>>
>>> #define ONESTOPBIT             0
>>> #define ONE5STOPBITS           1
>>> #define TWOSTOPBITS            2
>>>
>>> /* DTR Control Flow Values. */
>>> #define DTR_CONTROL_DISABLE    0x00
>>> #define DTR_CONTROL_ENABLE     0x01
>>> #define DTR_CONTROL_HANDSHAKE  0x02
>>>
>>> /* RTS Control Flow Values */
>>> #define RTS_CONTROL_DISABLE    0x00
>>> #define RTS_CONTROL_ENABLE     0x01
>>> #define RTS_CONTROL_HANDSHAKE  0x02
>>> #define RTS_CONTROL_TOGGLE     0x03
>>>
>>> #define WIN_COM_DBGBASIC       0x01
>>> #define WIN_COM_DBGFLOW        0x02
>>> #define WIN_COM_DBGXTRAFLOW    0x04
>>> #define WIN_COM_DBGOTHER       0x08
>>> #define WIN_COM_DBGTIMEOUTS    0x10
>>> #define WIN_COM_DBGQUEUE       0x20
>>> #define WIN_COM_DBGALL         0x3F
>>>
>>> /* win_Prn() related values */
>>>
>>> #define FORM_A4                9
>>>
>>> #define PS_SOLID               0
>>>
>>> #define RGB( nR, nG, nB )      ( nR + ( nG * 256 ) + ( nB * 256 * 
>>> 256 ) )
>>>
>>> #define RGB_BLACK              RGB( 0x00, 0x00, 0x00 )
>>> #define RGB_BLUE               RGB( 0x00, 0x00, 0x85 )
>>> #define RGB_GREEN              RGB( 0x00, 0x85, 0x00 )
>>> #define RGB_CYAN               RGB( 0x00, 0x85, 0x85 )
>>> #define RGB_RED                RGB( 0x85, 0x00, 0x00 )
>>> #define RGB_MAGENTA            RGB( 0x85, 0x00, 0x85 )
>>> #define RGB_BROWN              RGB( 0x85, 0x85, 0x00 )
>>> #define RGB_WHITE              RGB( 0xC6, 0xC6, 0xC6 )
>>>
>>> /* Cut from wingdi.h */
>>>
>>> #define MM_TEXT                1
>>> #define MM_LOMETRIC            2
>>> #define MM_HIMETRIC            3
>>> #define MM_LOENGLISH           4
>>> #define MM_HIENGLISH           5
>>>
>>> #define FW_DONTCARE 0
>>> #define FW_THIN 100
>>> #define FW_EXTRALIGHT 200
>>> #define FW_ULTRALIGHT FW_EXTRALIGHT
>>> #define FW_LIGHT 300
>>> #define FW_NORMAL 400
>>> #define FW_REGULAR 400
>>> #define FW_MEDIUM 500
>>> #define FW_SEMIBOLD 600
>>> #define FW_DEMIBOLD FW_SEMIBOLD
>>> #define FW_BOLD 700
>>> #define FW_EXTRABOLD 800
>>> #define FW_ULTRABOLD FW_EXTRABOLD
>>> #define FW_HEAVY 900
>>> #define FW_BLACK FW_HEAVY
>>> #define ANSI_CHARSET 0
>>> #define DEFAULT_CHARSET 1
>>> #define SYMBOL_CHARSET 2
>>> #define SHIFTJIS_CHARSET 128
>>> #define HANGEUL_CHARSET 129
>>> #define HANGUL_CHARSET  129
>>> #define GB2312_CHARSET 134
>>> #define CHINESEBIG5_CHARSET 136
>>> #define GREEK_CHARSET 161
>>> #define TURKISH_CHARSET 162
>>> #define HEBREW_CHARSET 177
>>> #define ARABIC_CHARSET 178
>>> #define BALTIC_CHARSET 186
>>> #define RUSSIAN_CHARSET 204
>>> #define THAI_CHARSET 222
>>> #define EASTEUROPE_CHARSET 238
>>> #define OEM_CHARSET 255
>>> #define JOHAB_CHARSET 130
>>> #define VIETNAMESE_CHARSET 163
>>> #define MAC_CHARSET 77
>>>
>>> /* Device Parameters for win_GetDeviceCaps() */
>>>
>>> #define HORZSIZE               4   // Horizontal size in millimeters
>>> #define VERTSIZE               6   // Vertical size in millimeters
>>> #define HORZRES                8   // Horizontal width in pixels
>>> #define VERTRES                10  // Vertical height in pixels
>>> #define NUMBRUSHES             16  // Number of brushes the device has
>>> #define NUMPENS                18  // Number of pens the device has
>>> #define NUMFONTS               22  // Number of fonts the device has
>>> #define NUMCOLORS              24  // Number of colors the device 
>>> supports
>>> #define RASTERCAPS             38  // Bitblt capabilities
>>>
>>> #define LOGPIXELSX             88  // Logical pixels/inch in X
>>> #define LOGPIXELSY             90  // Logical pixels/inch in Y
>>>
>>> #define PHYSICALWIDTH          110 // Physical Width in device units
>>> #define PHYSICALHEIGHT         111 // Physical Height in device units
>>> #define PHYSICALOFFSETX        112 // Physical Printable Area x margin
>>> #define PHYSICALOFFSETY        113 // Physical Printable Area y margin
>>> #define SCALINGFACTORX         114 // Scaling factor x
>>> #define SCALINGFACTORY         115 // Scaling factor y
>>>
>>> /* bin selections */
>>> #define DMBIN_FIRST            DMBIN_UPPER
>>> #define DMBIN_UPPER            1
>>> #define DMBIN_ONLYONE          1
>>> #define DMBIN_LOWER            2
>>> #define DMBIN_MIDDLE           3
>>> #define DMBIN_MANUAL           4
>>> #define DMBIN_ENVELOPE         5
>>> #define DMBIN_ENVMANUAL        6
>>> #define DMBIN_AUTO             7
>>> #define DMBIN_TRACTOR          8
>>> #define DMBIN_SMALLFMT         9
>>> #define DMBIN_LARGEFMT         10
>>> #define DMBIN_LARGECAPACITY    11
>>> #define DMBIN_CASSETTE         14
>>> #define DMBIN_FORMSOURCE       15
>>> #define DMBIN_LAST             DMBIN_FORMSOURCE
>>>
>>> /* print qualities */
>>> #define DMRES_DRAFT            ( -1 )
>>> #define DMRES_LOW              ( -2 )
>>> #define DMRES_MEDIUM           ( -3 )
>>> #define DMRES_HIGH             ( -4 )
>>>
>>> /* duplex enable */
>>> #define DMDUP_SIMPLEX          1
>>> #define DMDUP_VERTICAL         2
>>> #define DMDUP_HORIZONTAL       3
>>>
>>> /* Text Alignment Options */
>>> #define TA_NOUPDATECP          0
>>> #define TA_UPDATECP            1
>>>
>>> #define TA_LEFT                0
>>> #define TA_RIGHT               2
>>> #define TA_CENTER              6
>>>
>>> #define TA_TOP                 0
>>> #define TA_BOTTOM              8
>>> #define TA_BASELINE            24
>>>
>>> #define MM_TO_INCH             25.4
>>>
>>> #endif /* HBWIN_CH_ */
>>>
>>
>>
>> --------------------------------------------------------------------------------
>>
>>
>>>
>>
>>
>>
>
> 



From itamarlins at bol.com.br  Wed Dec  2 15:54:08 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Wed Dec  2 16:00:25 2009
Subject: [Harbour] Error on winprn.
Message-ID: <hf6k9r$8hk$1@ger.gmane.org>

Hi!
The lines below  of file testprg.prg in to folder \contrib\hbwin\tests not 
working.

---------------------->8-----------------
oPrinter:Box(  0, oPrinter:PosY+100, 100, oPrinter:PosY+200)
oPrinter:Arc(200, oPrinter:PosY+100, 300, oPrinter:PosY+200)
oPrinter:Ellipse(400, oPrinter:PosY+100, 500, oPrinter:PosY+200)
oPrinter:FillRect(600, oPrinter:PosY+100, 700, oPrinter:PosY+200, RGB_RED )
--------------------8<------------

My test with SVN $Id: ChangeLog 13098 2009-12-02 19:05:19Z vszakats $

Best Regards,
Itamar M. Lins Jr. 



From gvarona at ec-red.com  Wed Dec  2 16:18:27 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Wed Dec  2 16:15:26 2009
Subject: [Harbour] Build a self-contained application with QT
Message-ID: <hf6lcf$cau$1@ger.gmane.org>

[SPA]
Hola,
?Se puede construir una aplicaci?n autocontenida con QT?
Es decir que se genere un solo EXE que contenga librerias, recursos, 
etc, de manera que se pueda ejecutar en cualquier PC, obviamente con el 
SO para el cual se genero el EXE.

[ENG] By Google
Hi,
Can you build a self-contained application with QT?
Ie, they generate a single EXE that contains libraries, resources, etc. 
so that you can run on any PC, obviously with the OS to which genre the EXE.

TIA

Bestregards
GVS

From harbour.01 at syenar.hu  Wed Dec  2 16:38:09 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec  2 16:38:20 2009
Subject: [Harbour] HBIDE - Some Points to Discuss - I
In-Reply-To: <26615827.post@talk.nabble.com>
References: <26615827.post@talk.nabble.com>
Message-ID: <D1F0890F-3A16-4D9E-BF1C-018AFE5ADDF6@syenar.hu>

> Initially I started with QTextEdit() class as a base to source editing 
> mechanism. This class provides more visual capabilities like font zooming
> in real time which was implemented in HBIDE too. 
> 
> Now I have shifted to QPlainTextEdit() which is optimized class for 
> large file handelling but lacks some visual features, for now, which was 
> font zooming only.
> 
> I need your opinion about what way I should proceed ?
> Pure business with QPlainTextEdit() or some visual enhancements only 
> on the cost of performance ?

It really depends on what are those visual enhancements, 
and what is the difference in performance / memory usage.

Typical source file is rarely too big (rarely over a few 
100KBs), although there may be several of them open at once 
(not too many though).

Anyhow, for source code editing some basic text coloring, 
maybe background coloring on certain lines / block and 
selection of font type / size should fit majority of cases.
If this is covered by QPlainTextEdit(), the extra 
performance can be good, as it's not very good if scrolling, 
paging is slow.

If there is option to antialias fonts in QPlainTextEdit(), 
it's more than perfect.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Dec  2 16:56:43 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec  2 16:56:56 2009
Subject: [Harbour] HB_BUILD_UNICODE=no
In-Reply-To: <hf6j9f$4q5$1@ger.gmane.org>
References: <hf6j9f$4q5$1@ger.gmane.org>
Message-ID: <0D93B5D3-2CA4-40ED-982C-B5B6447E9859@syenar.hu>

> With MSVC 2008 express, Win XP SP3
> My file makemsvc.bat is:
> 
> SET HB_BUILD_DEBUG=yes
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
> win-make %1 %2
> 
> 
> cl.exe  -nologo -I. -I../../../../../include -Gs -TC -Ot2b1 -EHs-c- -MTd -Zi 
> -DH
> B_TR_LEVEL_DEBUG  -ID:/harbour/trunk/harbour/external/zlib -ID:/harbour/trunk/ha
> rbour/external/libpng -DUNICODE  -Fo_hbhbpdf.obj -c ../../../_hbhbpdf.c
> _hbhbpdf.c
> ../../../_hbhbpdf.c : fatal error C1902: Program database manager mismatch; 
> plea
> se check your installation
> win-make[3]: *** [_hbhbpdf.obj] Error 2
> win-make[2]: *** [descend] Error 2
> win-make[1]: *** [libhpdf.inst] Error 2
> win-make: *** [external.inst] Error 2

Try to make a clean before.

Brgds,
Viktor

From bedipritpal at hotmail.com  Wed Dec  2 17:07:21 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Dec  2 17:07:27 2009
Subject: [Harbour] HBIDE - Some Points to Discuss - I
In-Reply-To: <D1F0890F-3A16-4D9E-BF1C-018AFE5ADDF6@syenar.hu>
References: <26615827.post@talk.nabble.com>
	<D1F0890F-3A16-4D9E-BF1C-018AFE5ADDF6@syenar.hu>
Message-ID: <26617370.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> It really depends on what are those visual enhancements, 
> and what is the difference in performance / memory usage.
> 

Currently it is only zooming in/out feature, nothing more.
But may be we can think embeddings tables and bullets for 
comments sections guarded with #if 0 / #endif constructs.
This idea has come to mind today and I am exploring 
the possibility how this can be implemented as it may require
two files to manage, one .rtf format another .c.prg format.



> Typical source file is rarely too big (rarely over a few 
> 100KBs), although there may be several of them open at once 
> (not too many though).
> 

Because of this factor only, we can go with QTextEdit().



> Anyhow, for source code editing some basic text coloring, 
> maybe background coloring on certain lines / block and 
> selection of font type / size should fit majority of cases.
> If this is covered by QPlainTextEdit(), the extra 
> performance can be good, as it's not very good if scrolling, 
> paging is slow.
> 
> If there is option to antialias fonts in QPlainTextEdit(), 
> it's more than perfect.
> 

This is probably the easy way with QTextEdit() purely on 
PRG level, though, if I implement some functions on CPP level,
it is doable in QPlainTextEdit() also.

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/HBIDE---Some-Points-to-Discuss---I-tp26615827p26617370.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Wed Dec  2 17:27:06 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec  2 17:27:34 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <4D00AFA8-C1A2-456A-A349-1800B1CA4E60@syenar.hu>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com> 
	<BBA4B056-3AFC-48E1-9199-4948DA5BC25A@syenar.hu>
	<609353e70912021004u1c33aaa4p834f06537200cf67@mail.gmail.com> 
	<65ADD70E-12F6-4F8C-9269-18AD9EBBED79@syenar.hu>
	<609353e70912021026g3321068fwf56982c3fd27e9e7@mail.gmail.com> 
	<0A9086AE-C726-4970-8A1B-5EF68A129776@syenar.hu>
	<609353e70912021105q6ae3ff45sa674b23864402919@mail.gmail.com> 
	<CC0CA600-947F-4E92-95D2-FB4F6100BB0B@syenar.hu>
	<609353e70912021130w7ad41091iccdf991bcff3856d@mail.gmail.com> 
	<4D00AFA8-C1A2-456A-A349-1800B1CA4E60@syenar.hu>
Message-ID: <609353e70912021427r6110b9d3lcf89ef9dd9ae279f@mail.gmail.com>

i have switched from
SET HB_INSTALL_PREFIX=C:\HARBOUR\%HB_COMPILER%
to
SET HB_INSTALL_PREFIX=C:\HARBOUR\

Thanks for your support

Have you tried qt 4.6 final version with hbide?
to me seem not work


2009/12/2 Viktor Szak?ts <harbour.01@syenar.hu>:
>> IF I SET HB_INSTALL_PREFIX=C:\HARBOUR\
>> will be created
>> win\mingw\include
>> win\mingw\lib
>>
>> so when i made a copy will be right follow
>> COPY C:\DEVL\mysql51\lib\opt\libmysql.lib
>> C:\HARBOUR\win\%HB_COMPILER%\lib\libmysql.a
>
> Sorry I don't understand.
>
> If you use hbmk2 for your final app, all you need
> is HB_INSTALL_PREFIX=C:\harbour\win. For _all_ Windows
> compilers.
>
> If you want, you can make it more complicated
> using your dir scheme, but I don't understand it,
> so I can't comment on it.
>
> Brgds.
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Dec  2 17:35:06 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec  2 17:35:16 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <609353e70912021427r6110b9d3lcf89ef9dd9ae279f@mail.gmail.com>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com>
	<BBA4B056-3AFC-48E1-9199-4948DA5BC25A@syenar.hu>
	<609353e70912021004u1c33aaa4p834f06537200cf67@mail.gmail.com>
	<65ADD70E-12F6-4F8C-9269-18AD9EBBED79@syenar.hu>
	<609353e70912021026g3321068fwf56982c3fd27e9e7@mail.gmail.com>
	<0A9086AE-C726-4970-8A1B-5EF68A129776@syenar.hu>
	<609353e70912021105q6ae3ff45sa674b23864402919@mail.gmail.com>
	<CC0CA600-947F-4E92-95D2-FB4F6100BB0B@syenar.hu>
	<609353e70912021130w7ad41091iccdf991bcff3856d@mail.gmail.com>
	<4D00AFA8-C1A2-456A-A349-1800B1CA4E60@syenar.hu>
	<609353e70912021427r6110b9d3lcf89ef9dd9ae279f@mail.gmail.com>
Message-ID: <5020E1AE-4C1D-493A-8456-F775AB94EB5B@syenar.hu>

> i have switched from
> SET HB_INSTALL_PREFIX=C:\HARBOUR\%HB_COMPILER%
> to
> SET HB_INSTALL_PREFIX=C:\HARBOUR\
> 
> Thanks for your support

np.

> Have you tried qt 4.6 final version with hbide?
> to me seem not work

I had downloaded the packages, but haven't installed them yet.

Brgds,
Viktor

From mbelgrano at deltain.it  Wed Dec  2 19:23:29 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec  2 19:23:59 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <5020E1AE-4C1D-493A-8456-F775AB94EB5B@syenar.hu>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com> 
	<65ADD70E-12F6-4F8C-9269-18AD9EBBED79@syenar.hu>
	<609353e70912021026g3321068fwf56982c3fd27e9e7@mail.gmail.com> 
	<0A9086AE-C726-4970-8A1B-5EF68A129776@syenar.hu>
	<609353e70912021105q6ae3ff45sa674b23864402919@mail.gmail.com> 
	<CC0CA600-947F-4E92-95D2-FB4F6100BB0B@syenar.hu>
	<609353e70912021130w7ad41091iccdf991bcff3856d@mail.gmail.com> 
	<4D00AFA8-C1A2-456A-A349-1800B1CA4E60@syenar.hu>
	<609353e70912021427r6110b9d3lcf89ef9dd9ae279f@mail.gmail.com> 
	<5020E1AE-4C1D-493A-8456-F775AB94EB5B@syenar.hu>
Message-ID: <609353e70912021623r4af371bcq992a6d8acafe9292@mail.gmail.com>

Hi viktor i have problem converting my harbour for  msvc to simple
HB_INSTALL_PREFIX

SET HB_INSTALL_PREFIX=C:\HARBOUR
CALL "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
WIN-make clean install >> l.l

WIN-make[1]: [install] Error 1 (ignored)
WIN-make[2]: [install] Error 1 (ignored)
WIN-make[1]: [install] Error 1 (ignored)
WIN-make[2]: [install] Error 1 (ignored)
WIN-make[2]: [install] Error 1 (ignored)
WIN-make[2]: [install] Error 1 (ignored)
WIN-make[2]: [install] Error 1 (ignored)
WIN-make[2]: [install] Error 1 (ignored)
WIN-make[2]: [install] Error 1 (ignored)
WIN-make[2]: [install] Error 1 (ignored)
WIN-make[2]: [install] Error 1 (ignored)
WIN-make[2]: [install] Error 1 (ignored)




2009/12/2 Viktor Szak?ts <harbour.01@syenar.hu>:
>> i have switched from
>> SET HB_INSTALL_PREFIX=C:\HARBOUR\%HB_COMPILER%
>> to
>> SET HB_INSTALL_PREFIX=C:\HARBOUR\
>>
>> Thanks for your support
>
> np.
>
>> Have you tried qt 4.6 final version with hbide?
>> to me seem not work
>
> I had downloaded the packages, but haven't installed them yet.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Dec  2 19:30:50 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec  2 19:31:02 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <609353e70912021623r4af371bcq992a6d8acafe9292@mail.gmail.com>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com>
	<65ADD70E-12F6-4F8C-9269-18AD9EBBED79@syenar.hu>
	<609353e70912021026g3321068fwf56982c3fd27e9e7@mail.gmail.com>
	<0A9086AE-C726-4970-8A1B-5EF68A129776@syenar.hu>
	<609353e70912021105q6ae3ff45sa674b23864402919@mail.gmail.com>
	<CC0CA600-947F-4E92-95D2-FB4F6100BB0B@syenar.hu>
	<609353e70912021130w7ad41091iccdf991bcff3856d@mail.gmail.com>
	<4D00AFA8-C1A2-456A-A349-1800B1CA4E60@syenar.hu>
	<609353e70912021427r6110b9d3lcf89ef9dd9ae279f@mail.gmail.com>
	<5020E1AE-4C1D-493A-8456-F775AB94EB5B@syenar.hu>
	<609353e70912021623r4af371bcq992a6d8acafe9292@mail.gmail.com>
Message-ID: <E99526EC-F624-456C-84B6-0DE0A79BDF68@syenar.hu>

Sorry, I can't tell from this.

Did you check the TROUBLESHOOTING checklist?

v

On 2009 Dec 3, at 01:23, Massimo Belgrano wrote:

> Hi viktor i have problem converting my harbour for  msvc to simple
> HB_INSTALL_PREFIX
> 
> SET HB_INSTALL_PREFIX=C:\HARBOUR
> CALL "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
> WIN-make clean install >> l.l
> 
> WIN-make[1]: [install] Error 1 (ignored)
> WIN-make[2]: [install] Error 1 (ignored)
> WIN-make[1]: [install] Error 1 (ignored)
> WIN-make[2]: [install] Error 1 (ignored)
> WIN-make[2]: [install] Error 1 (ignored)
> WIN-make[2]: [install] Error 1 (ignored)
> WIN-make[2]: [install] Error 1 (ignored)
> WIN-make[2]: [install] Error 1 (ignored)
> WIN-make[2]: [install] Error 1 (ignored)
> WIN-make[2]: [install] Error 1 (ignored)
> WIN-make[2]: [install] Error 1 (ignored)
> WIN-make[2]: [install] Error 1 (ignored)
> 
> 
> 
> 
> 2009/12/2 Viktor Szak?ts <harbour.01@syenar.hu>:
>>> i have switched from
>>> SET HB_INSTALL_PREFIX=C:\HARBOUR\%HB_COMPILER%
>>> to
>>> SET HB_INSTALL_PREFIX=C:\HARBOUR\
>>> 
>>> Thanks for your support
>> 
>> np.
>> 
>>> Have you tried qt 4.6 final version with hbide?
>>> to me seem not work
>> 
>> I had downloaded the packages, but haven't installed them yet.
>> 
>> Brgds,
>> Viktor
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
> 
> 
> 
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vouchcac at users.sourceforge.net  Wed Dec  2 19:56:04 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Dec  2 19:56:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13099] trunk/harbour
Message-ID: <E1NFzzI-0003ao-3Y@dn4whf1.ch3.sourceforge.com>

Revision: 13099
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13099&view=rev
Author:   vouchcac
Date:     2009-12-03 00:56:02 +0000 (Thu, 03 Dec 2009)

Log Message:
-----------
2009-12-02 16:51 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  + contrib/hbide/resources/projectproperties.ui
    + Added Project Properties Dialog in .ui format. Trying to implement 
      some exotic thoughts which I ever missed in xMate.  

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/projectproperties.ui


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From itamarlins at bol.com.br  Wed Dec  2 20:38:21 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Wed Dec  2 20:41:23 2009
Subject: [Harbour] Re: HB_BUILD_UNICODE=yes
References: <hf6j9f$4q5$1@ger.gmane.org>
	<0D93B5D3-2CA4-40ED-982C-B5B6447E9859@syenar.hu>
Message-ID: <hf74uu$lqj$1@ger.gmane.org>

Hi!
My fault, sorry.
Is SET HB_BUILD_DEBUG=yes
UNICODE. is on

Best resgards,
Itamar M. Lins Jr.

"Viktor Szakts" <harbour.01@syenar.hu> 
escreveu na mensagem news:0D93B5D3-2CA4-40ED-982C-B5B6447E9859@syenar.hu...
> With MSVC 2008 express, Win XP SP3
> My file makemsvc.bat is:
>
> SET HB_BUILD_DEBUG=yes
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
> win-make %1 %2
>
>
> cl.exe  -nologo -I. -I../../../../../include -Gs -TC -Ot2b1 -EHs-c- -MTd -Zi
> -DH
> B_TR_LEVEL_DEBUG  -ID:/harbour/trunk/harbour/external/zlib -ID:/harbour/trunk/ha
> rbour/external/libpng -DUNICODE  -Fo_hbhbpdf.obj -c ../../../_hbhbpdf.c
> _hbhbpdf.c
> ../../../_hbhbpdf.c : fatal error C1902: Program database manager 
> mismatch;
> plea
> se check your installation
> win-make[3]: *** [_hbhbpdf.obj] Error 2
> win-make[2]: *** [descend] Error 2
> win-make[1]: *** [libhpdf.inst] Error 2
> win-make: *** [external.inst] Error 2

Try to make a clean before.

Brgds,
Viktor



From vouchcac at users.sourceforge.net  Wed Dec  2 22:01:51 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Dec  2 22:01:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13100] trunk/harbour
Message-ID: <E1NG1x1-0006QY-7u@3kljzd1.ch3.sourceforge.com>

Revision: 13100
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13100&view=rev
Author:   vouchcac
Date:     2009-12-03 03:01:50 +0000 (Thu, 03 Dec 2009)

Log Message:
-----------
2009-12-02 19:00 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + contrib/hbide/projects
  * contrib/hbide/hbide.prg
  * contrib/hbide/resources/projectproperties.ui
    ! Mode advancement in project properties building.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/resources/projectproperties.ui

Added Paths:
-----------
    trunk/harbour/contrib/hbide/projects/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From gvarona at ec-red.com  Wed Dec  2 23:57:32 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Wed Dec  2 23:58:06 2009
Subject: [Harbour] testing demoxbp.prg fail with the browse
Message-ID: <hf7gfs$t8g$1@ger.gmane.org>

[SPA]
Hola, estoy probando demoxbp.prg, genero correctamente el exe, pero
cuando quiero navegar por el browse con la rueda del mouse o con las
teclas del cursor el programa se corta (falla) cuando quiere cambiar de
p?gina

[ENG] By Google
Hello, I'm trying demoxbp.prg, successfully building the exe, but when I
go through the browse with the mouse wheel or cursor keys the program is
short (failure) when you want to change pages

TIA

BestRegards
GVS

From bedipritpal at hotmail.com  Thu Dec  3 01:33:44 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec  3 01:33:49 2009
Subject: [Harbour] testing demoxbp.prg fail with the browse
In-Reply-To: <hf7gfs$t8g$1@ger.gmane.org>
References: <hf7gfs$t8g$1@ger.gmane.org>
Message-ID: <26621640.post@talk.nabble.com>


Hi


Guillermo Varona wrote:
> 
> Hello, I'm trying demoxbp.prg, successfully building the exe, but when I
> go through the browse with the mouse wheel or cursor keys the program is
> short (failure) when you want to change pages
> 

I cannot reproduce error you are reporting. 
Though I see some weired behavior of XbpStatic() objects 
hosted on <Static> tab. I think I have screwed up some 
parent child hirarchy while adjusting some aspects of HBXBP 
to suit HBIDE.

I will look into it shortly.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/testing-demoxbp.prg-fail-with-the-browse-tp26621003p26621640.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From M.Horodyski at pzuzycie.com.pl  Thu Dec  3 03:16:09 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Dec  3 03:16:22 2009
Subject: [Harbour] HBIDE - Some Points to Discuss - I
In-Reply-To: <26615827.post@talk.nabble.com>
References: <26615827.post@talk.nabble.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC3073@PINK.zycie.pzu>

>-----Original Message-----
>From: Pritpal Bedi [mailto:bedipritpal@hotmail.com] 
>Sent: Wednesday, December 02, 2009 9:26 PM
>To: harbour@harbour-project.org
>Subject: [Harbour] HBIDE - Some Points to Discuss - I
>
>
>Hello Everybody

...

>I need your opinion about what way I should proceed ?

Pritpal,
where can we read about "how can we compile HBIDE in harbour from
scratch" ?
I have QT installed, but nothing I will not go :(
Missing some guidance on "good start".

Regards,
Marek Horodyski
From jfl at mafact.com  Thu Dec  3 04:06:00 2009
From: jfl at mafact.com (J. Lefebvre)
Date: Thu Dec  3 04:07:00 2009
Subject: [Harbour] HBIDE - Some Points to Discuss - I
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC3073@PINK.zycie.pzu>
Message-ID: <f2e6a59e.1ca73f7.23d66c74.28a3@mafact.com>

Same question for me :-)

I installed QT 4.6.0 but do when tring to compile hbide.
It say missing HBQT.LIB

But there, I don't find any way to compile HBQT ...

Any Idea ?

JF, 

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Horodyski Marek (PZUZ)
Envoy??: jeudi 3 d?cembre 2009 09:16
??: Harbour Project Main Developer List.
Objet?: RE: [Harbour] HBIDE - Some Points to Discuss - I

>-----Original Message-----
>From: Pritpal Bedi [mailto:bedipritpal@hotmail.com] 
>Sent: Wednesday, December 02, 2009 9:26 PM
>To: harbour@harbour-project.org
>Subject: [Harbour] HBIDE - Some Points to Discuss - I
>
>
>Hello Everybody

...

>I need your opinion about what way I should proceed ?

Pritpal,
where can we read about "how can we compile HBIDE in harbour from
scratch" ?
I have QT installed, but nothing I will not go :(
Missing some guidance on "good start".

Regards,
Marek Horodyski
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Dec  3 04:13:21 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec  3 04:13:31 2009
Subject: [Harbour] HBIDE - Some Points to Discuss - I
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC3073@PINK.zycie.pzu>
References: <26615827.post@talk.nabble.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC3073@PINK.zycie.pzu>
Message-ID: <8C886933-D043-45B2-8C6B-316E7B26CAFD@syenar.hu>

It's building Harbour with QT enabled (see INSTALL) 
and 'hbmk2 hbide.hbp'.

Brgds,
Viktor

On 2009 Dec 3, at 09:16, Horodyski Marek (PZUZ) wrote:

>> -----Original Message-----
>> From: Pritpal Bedi [mailto:bedipritpal@hotmail.com] 
>> Sent: Wednesday, December 02, 2009 9:26 PM
>> To: harbour@harbour-project.org
>> Subject: [Harbour] HBIDE - Some Points to Discuss - I
>> 
>> 
>> Hello Everybody
> 
> ...
> 
>> I need your opinion about what way I should proceed ?
> 
> Pritpal,
> where can we read about "how can we compile HBIDE in harbour from
> scratch" ?
> I have QT installed, but nothing I will not go :(
> Missing some guidance on "good start".
> 
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Thu Dec  3 04:16:01 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec  3 04:16:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13098] trunk/harbour
In-Reply-To: <E1NFuVs-0001Ze-Oy@dn4whf1.ch3.sourceforge.com>
References: <E1NFuVs-0001Ze-Oy@dn4whf1.ch3.sourceforge.com>
Message-ID: <20091203091601.GA18237@linux-4bod.home.aster.pl>

On Wed, 02 Dec 2009, vszakats@users.sourceforge.net wrote:

Hi,

> 2009-12-02 20:04 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * external/libpng/Makefile
>     * Forcing C mode for libpng.
>       It has some C++ bugs (in WINCE mode).
>       Please retest.

It compiles cleanly in C++ mode with MinGW-CE so maybe it's a problem
with header files is some chosen C++ compilers. Can we verify which
exact C++ compilers fail during LIBPNG compilation so we can be sure
it was not a problem with user C++ compiler configuration.
It will be also good to document the exact compiler version because
it's possible that in few months someone will verify that it works in
C++ mode with his compiler and remove above switch which force C mode.

best regards,
Przemek
From mbelgrano at deltain.it  Thu Dec  3 04:24:52 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec  3 04:25:22 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <E99526EC-F624-456C-84B6-0DE0A79BDF68@syenar.hu>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com> 
	<0A9086AE-C726-4970-8A1B-5EF68A129776@syenar.hu>
	<609353e70912021105q6ae3ff45sa674b23864402919@mail.gmail.com> 
	<CC0CA600-947F-4E92-95D2-FB4F6100BB0B@syenar.hu>
	<609353e70912021130w7ad41091iccdf991bcff3856d@mail.gmail.com> 
	<4D00AFA8-C1A2-456A-A349-1800B1CA4E60@syenar.hu>
	<609353e70912021427r6110b9d3lcf89ef9dd9ae279f@mail.gmail.com> 
	<5020E1AE-4C1D-493A-8456-F775AB94EB5B@syenar.hu>
	<609353e70912021623r4af371bcq992a6d8acafe9292@mail.gmail.com> 
	<E99526EC-F624-456C-84B6-0DE0A79BDF68@syenar.hu>
Message-ID: <609353e70912030124t7d97e9a5x5dedd74c0d59a296@mail.gmail.com>

set Path=C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
WIN-make clean install >log2msvc.txt
with follow result

c:\harbour>Path=C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem
c:\harbour>call "C:\Program Files\Microsoft Visual Studio 9.0\VC\vcvarsall.bat
Setting environment for using Microsoft Visual Studio 2008 x86 tools.
WIN-make[2]: [install] Error 1 (ignored)
WIN-make[2]: [install] Error 1 (ignored)

>   - Make sure to have carefully read this document.
Done multiples time
>   Make sure to do a 'clean' before doing a build after refreshing  the sources.
DOne
>   - Make sure to install fresh source tree in a new local directory and
     >start over. See HOW TO GET THE HARBOUR SOURCES section for instructions
     >to get the source.
i have made a "win-make clean" that successfully run
i have made also clean up from svm
now i try copy in a new dir
i also reload harbour in harbour0 new directory
c:\harbour0>set Path=C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem
c:\harbour0>call "C:\Program Files\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
Setting environment for using Microsoft Visual Studio 2008 x86 tools.
WIN-make[2]: [install] Error 1 (ignored)
WIN-make[2]: [install] Error 1 (ignored)
WIN-make[2]: [install] Error 1 (ignored)
attacched my log in c:\harbour0

>   - Keep you PATH clean from old, mixed compiler tools or other Harbour
 >    versions when building Harbour. The surest way to achieve this is to
 >    leave only compiler directory in PATH:
>        set PATH=C:\<compilerdir>
done
>   - Remove all old, unnecessary environment variables from your environment.
>     Use only those documented in this file.
done i im using 3 var
>     Some environment variable settings which are commonly believed by
>     users to be useful, but which in reality are either not needed or
>     not even used by Harbour build process and hbmk2. You can delete them:
>        set HB_PATH=<Harbour root dir>
>        set HRB_DIR=<Some Harbour dir>
 >       set INCLUDE=<Harbour include dir>
>        set LIB=<Harbour lib dir>
>        set HB_INC_*=
>        set HB_DIR_*=
done my simplified batch use only 3 command
>   - Try to do no or only small modifications at once to command examples
>     included in this file. If it doesn't work, fall back to documented
 >    examples as is.
done



only for explain a prev poiunt regarding need to copy after the
compilation process in same dir

I my batch i need copy library made from me to harbour lib
hbmk2 delta.prg zz.PRG  -b -m -D__GTWVT__  -hblib -odelta4hhd.lib
COPY %PREFIX%DELTA4HHD.%EXTENSION%
C:\HARBOUR\lib\win\%HB_COMPILER%\%PREFIX%DELTA4HHD.%EXTENSION%

copy thirdy party library need wor work
COPY C:\DEVL\mysql51\lib\opt\libmysql.lib
C:\HARBOUR\lib\win\%HB_COMPILER%\libmysql.a

2009/12/3 Viktor Szak?ts <harbour.01@syenar.hu>:
> Sorry, I can't tell from this.
>
> Did you check the TROUBLESHOOTING checklist?
>
> v
>
> On 2009 Dec 3, at 01:23, Massimo Belgrano wrote:
>
>> Hi viktor i have problem converting my harbour for ?msvc to simple
>> HB_INSTALL_PREFIX
>>
>> SET HB_INSTALL_PREFIX=C:\HARBOUR
>> CALL "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
>> WIN-make clean install >> l.l
>>
>> WIN-make[1]: [install] Error 1 (ignored)
>> WIN-make[2]: [install] Error 1 (ignored)
>> WIN-make[1]: [install] Error 1 (ignored)
>> WIN-make[2]: [install] Error 1 (ignored)
>> WIN-make[2]: [install] Error 1 (ignored)
>> WIN-make[2]: [install] Error 1 (ignored)
>> WIN-make[2]: [install] Error 1 (ignored)
>> WIN-make[2]: [install] Error 1 (ignored)
>> WIN-make[2]: [install] Error 1 (ignored)
>> WIN-make[2]: [install] Error 1 (ignored)
>> WIN-make[2]: [install] Error 1 (ignored)
>> WIN-make[2]: [install] Error 1 (ignored)
>>
>>
>>
>>
>> 2009/12/2 Viktor Szak?ts <harbour.01@syenar.hu>:
>>>> i have switched from
>>>> SET HB_INSTALL_PREFIX=C:\HARBOUR\%HB_COMPILER%
>>>> to
>>>> SET HB_INSTALL_PREFIX=C:\HARBOUR\
>>>>
>>>> Thanks for your support
>>>
>>> np.
>>>
>>>> Have you tried qt 4.6 final version with hbide?
>>>> to me seem not work
>>>
>>> I had downloaded the packages, but haven't installed them yet.
>>>
>>> Brgds,
>>> Viktor
>>>
>>> _______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>>
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Iscritto all'albo dei CTU presso il Tribunale di Novara per materia Informatica
Delta Informatica S.r.l. (http://www.deltain.it/) (+39 0321 455962)
Analisi e sviluppo software per Lan e Web -  Consulenza informatica - Formazione
-------------- next part --------------
A non-text attachment was scrubbed...
Name: log2msvc.7z
Type: application/octet-stream
Size: 28384 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091203/a33edc8a/log2msvc-0001.obj
From harbour.01 at syenar.hu  Thu Dec  3 04:26:16 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec  3 04:26:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13098] trunk/harbour
In-Reply-To: <20091203091601.GA18237@linux-4bod.home.aster.pl>
References: <E1NFuVs-0001Ze-Oy@dn4whf1.ch3.sourceforge.com>
	<20091203091601.GA18237@linux-4bod.home.aster.pl>
Message-ID: <453D24FA-93D2-44F4-841A-945C62F93E7A@syenar.hu>

Hi,

> On Wed, 02 Dec 2009, vszakats@users.sourceforge.net wrote:
> 
> Hi,
> 
>> 2009-12-02 20:04 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * external/libpng/Makefile
>>    * Forcing C mode for libpng.
>>      It has some C++ bugs (in WINCE mode).
>>      Please retest.
> 
> It compiles cleanly in C++ mode with MinGW-CE so maybe it's a problem
> with header files is some chosen C++ compilers. Can we verify which
> exact C++ compilers fail during LIBPNG compilation so we can be sure
> it was not a problem with user C++ compiler configuration.
> It will be also good to document the exact compiler version because
> it's possible that in few months someone will verify that it works in
> C++ mode with his compiler and remove above switch which force C mode.

To me it seemed notorious MSVC C++ mode error, but I may 
be wrong. Though I have no msvcarm env active ATM to make 
tests.

From the report it looksMSVC 2005 + Windows Mobile SDK 5.0, 
with plain default setup as suggested by INSTALL example.

Anyhow for peace of mind, maybe it's better to stick with 
plain C for an ANSI C project, what do you think? For me 
C++ is also good.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Dec  3 04:37:21 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec  3 04:37:31 2009
Subject: [Harbour] sf.net rank
Message-ID: <53E0B60C-1FAD-45A8-B2BF-5DC8D534BE01@syenar.hu>

See:
http://sourceforge.net/project/stats/rank_history.php?group_id=681&ugn=harbour-project

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Dec  3 04:39:36 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec  3 04:39:45 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <609353e70912030124t7d97e9a5x5dedd74c0d59a296@mail.gmail.com>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com>
	<0A9086AE-C726-4970-8A1B-5EF68A129776@syenar.hu>
	<609353e70912021105q6ae3ff45sa674b23864402919@mail.gmail.com>
	<CC0CA600-947F-4E92-95D2-FB4F6100BB0B@syenar.hu>
	<609353e70912021130w7ad41091iccdf991bcff3856d@mail.gmail.com>
	<4D00AFA8-C1A2-456A-A349-1800B1CA4E60@syenar.hu>
	<609353e70912021427r6110b9d3lcf89ef9dd9ae279f@mail.gmail.com>
	<5020E1AE-4C1D-493A-8456-F775AB94EB5B@syenar.hu>
	<609353e70912021623r4af371bcq992a6d8acafe9292@mail.gmail.com>
	<E99526EC-F624-456C-84B6-0DE0A79BDF68@syenar.hu>
	<609353e70912030124t7d97e9a5x5dedd74c0d59a296@mail.gmail.com>
Message-ID: <D2EDD123-1635-4756-89A3-3D6F17297FD7@syenar.hu>

> set Path=C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
> WIN-make clean install >log2msvc.txt
> with follow result
> 
> c:\harbour>Path=C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem
> c:\harbour>call "C:\Program Files\Microsoft Visual Studio 9.0\VC\vcvarsall.bat
> Setting environment for using Microsoft Visual Studio 2008 x86 tools.
> WIN-make[2]: [install] Error 1 (ignored)
> WIN-make[2]: [install] Error 1 (ignored)

Why not just ignore these errors? The message clearly 
says it's ignored and your build ended successfully.

This has been reported a million times already.
If it bothers you set HB_INSTALL_PREFIX to some value 
outside your SVN.

> only for explain a prev poiunt regarding need to copy after the
> compilation process in same dir
> 
> I my batch i need copy library made from me to harbour lib
> hbmk2 delta.prg zz.PRG  -b -m -D__GTWVT__  -hblib -odelta4hhd.lib
> COPY %PREFIX%DELTA4HHD.%EXTENSION%
> C:\HARBOUR\lib\win\%HB_COMPILER%\%PREFIX%DELTA4HHD.%EXTENSION%
> 
> copy thirdy party library need wor work
> COPY C:\DEVL\mysql51\lib\opt\libmysql.lib
> C:\HARBOUR\lib\win\%HB_COMPILER%\libmysql.a

Adapt these also to prev change it will surely 
make you setup simpler. Please note however that 
it's not obligatory to copy everything to main 
Harbour lib dir. You can add your local lib dir 
to hbmk2 build process using -L option.

You can also use this to copy your libs to Harbour lib dir:
-instpath=${HB_LIB}/


Brgds,
Viktor

From M.Horodyski at pzuzycie.com.pl  Thu Dec  3 05:34:28 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Dec  3 05:34:39 2009
Subject: [Harbour] Trouble with SQLRDD
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502B4620F@PINK.zycie.pzu>

Mindaugas,
from time to time, in this syntax :

... Many work on SQL's tables, inserts etc.

dbUseArea( .T., 'SQLMIX', "select * from table",    "TABLE",,,, connect)
Board() // my Browse function ()
dbCloseAll() // <-- here is error
? RDDINFO( RDDI_DISCONNECT, connect)

Have I this error, loged in hb_out.log :

------------------------------------------------------------------------
Application Internal Error - C:\NOWEPROD\EXE\homar.exe
Terminated at: 2009.12.03 11:16:01
Nienaprawialny b??d nr 6005: Exception error: 

    Exception Code:C0000005
    Exception Address:0058F1F0
    EAX:00000000  EBX:033C45B4  ECX:00000000  EDX:033C1590
    ESI:033C45A4  EDI:00000000  EBP:01643A8C
    CS:EIP:001B:0058F1F0  SS:ESP:0023:0022F5E0
    DS:0023  ES:0023  FS:003B  GS:0000
    Flags:00010202
    CS:EIP: 89 10 8B 53 F0 89 42 04 74 26 89 34 24 E8 9E 74
    SS:ESP: 033C46AC 00000000 00000018 01643A8C 01643A8C 00000010 01643A8C 00466D35 033C45B4 00000000 7E3A396F 01643A8C 00000008 01643A8C 00000008 0046233D

    C stack:
    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...


Modules:
0x00400000 0x0046C000 C:\NOWEPROD\EXE\homar.exe
0x7C900000 0x000B4000 C:\WINDOWS\system32\ntdll.dll
0x7C800000 0x000FD000 C:\WINDOWS\system32\kernel32.dll
0x77DC0000 0x000AC000 C:\WINDOWS\system32\ADVAPI32.DLL
0x77E70000 0x00092000 C:\WINDOWS\system32\RPCRT4.dll
0x77FE0000 0x00011000 C:\WINDOWS\system32\Secur32.dll
0x5D520000 0x0009A000 C:\WINDOWS\system32\COMCTL32.DLL
0x77F10000 0x00049000 C:\WINDOWS\system32\GDI32.dll
0x7E360000 0x00091000 C:\WINDOWS\system32\USER32.dll
0x77C00000 0x00058000 C:\WINDOWS\system32\msvcrt.dll
0x74600000 0x0003D000 C:\WINDOWS\system32\ODBC32.dll
0x76380000 0x00049000 C:\WINDOWS\system32\comdlg32.dll
0x7C9C0000 0x0081E000 C:\WINDOWS\system32\SHELL32.dll
0x77F60000 0x00076000 C:\WINDOWS\system32\SHLWAPI.dll
0x774D0000 0x0013D000 C:\WINDOWS\system32\OLE32.dll
0x77110000 0x0008B000 C:\WINDOWS\system32\OLEAUT32.DLL
0x72F90000 0x00026000 C:\WINDOWS\system32\WINSPOOL.DRV
0x76360000 0x0001D000 C:\WINDOWS\system32\IMM32.DLL
0x773C0000 0x00103000 C:\WINDOWS\WinSxS\x86_Microsoft.Windows.Common-Controls_6595b64144ccf1df_6.0.2600.5512_x-ww_35d4ce83\comctl32.dll
0x1F840000 0x00018000 C:\WINDOWS\system32\odbcint.dll
0x76350000 0x00005000 C:\WINDOWS\system32\msimg32.dll
0x5B1D0000 0x00038000 C:\WINDOWS\system32\uxtheme.dll
0x746D0000 0x0004C000 C:\WINDOWS\system32\MSCTF.dll
0x75180000 0x0002E000 C:\WINDOWS\system32\msctfime.ime
0x10000000 0x00008000 C:\Program Files\Gadu-Gadu\ggwhook.dll
0x76FC0000 0x0007F000 C:\WINDOWS\system32\CLBCATQ.DLL
0x77040000 0x000CD000 C:\WINDOWS\system32\COMRes.dll
0x77BF0000 0x00008000 C:\WINDOWS\system32\VERSION.dll
0x4DD80000 0x00083000 C:\Program Files\Common Files\System\ado\msado15.dll
0x765F0000 0x00025000 C:\WINDOWS\system32\MSDART.DLL
0x01900000 0x002D2000 C:\WINDOWS\system32\xpsp2res.dll
0x73F60000 0x00077000 C:\Program Files\Common Files\System\Ole DB\oledb32.dll
0x75AD0000 0x00012000 C:\Program Files\Common Files\System\Ole DB\OLEDB32R.DLL
0x4D710000 0x00039000 C:\Program Files\Common Files\System\Ole DB\msdaora.dll
0x612C0000 0x00017000 C:\Program Files\Common Files\System\Ole DB\MSDATL3.dll
0x01FE0000 0x00005000 C:\Program Files\Common Files\System\Ole DB\MSDAORAR.DLL
0x01FF0000 0x00057000 C:\oracle\product\10.2.0\client_1\bin\oci.dll
0x7C360000 0x00056000 C:\WINDOWS\system32\MSVCR71.dll
0x02060000 0x00056000 C:\oracle\product\10.2.0\client_1\bin\OCIW32.DLL
0x61C20000 0x00252000 C:\oracle\product\10.2.0\client_1\bin\ORACLIENT10.DLL
0x60870000 0x000E3000 C:\oracle\product\10.2.0\client_1\bin\oracore10.dll
0x60A80000 0x000C4000 C:\oracle\product\10.2.0\client_1\bin\oranls10.dll
0x63690000 0x00018000 C:\oracle\product\10.2.0\client_1\bin\oraunls10.dll
0x60EB0000 0x00007000 C:\oracle\product\10.2.0\client_1\bin\orauts.dll
0x71A50000 0x00017000 C:\WINDOWS\system32\WS2_32.dll
0x71A40000 0x00008000 C:\WINDOWS\system32\WS2HELP.dll
0x76B20000 0x0002E000 C:\WINDOWS\system32\WINMM.dll
0x636B0000 0x00006000 C:\oracle\product\10.2.0\client_1\bin\oravsn10.dll
0x60FA0000 0x000F2000 C:\oracle\product\10.2.0\client_1\bin\oracommon10.dll
0x60300000 0x00557000 C:\oracle\product\10.2.0\client_1\bin\orageneric10.dll
0x63430000 0x00027000 C:\oracle\product\10.2.0\client_1\bin\orasnls10.dll
0x020C0000 0x00160000 C:\oracle\product\10.2.0\client_1\bin\oraxml10.dll
0x02220000 0x00011000 C:\WINDOWS\system32\MSVCIRT.dll
0x60960000 0x0010D000 C:\oracle\product\10.2.0\client_1\bin\oran10.dll
0x62740000 0x0003D000 C:\oracle\product\10.2.0\client_1\bin\oranl10.dll
0x62790000 0x00017000 C:\oracle\product\10.2.0\client_1\bin\oranldap10.dll
0x627F0000 0x00109000 C:\oracle\product\10.2.0\client_1\bin\orannzsbb10.dll
0x62530000 0x00053000 C:\oracle\product\10.2.0\client_1\bin\oraldapclnt10.dll
0x62670000 0x0001B000 C:\oracle\product\10.2.0\client_1\bin\orancrypt10.dll
0x71A70000 0x0000A000 C:\WINDOWS\system32\WSOCK32.dll
0x62920000 0x0004C000 C:\oracle\product\10.2.0\client_1\bin\oranro10.dll
0x626B0000 0x00007000 C:\oracle\product\10.2.0\client_1\bin\oranhost10.dll
0x62660000 0x00006000 C:\oracle\product\10.2.0\client_1\bin\orancds10.dll
0x629C0000 0x00008000 C:\oracle\product\10.2.0\client_1\bin\orantns10.dll
0x60B50000 0x00358000 C:\oracle\product\10.2.0\client_1\bin\orapls10.dll
0x02240000 0x00009000 C:\oracle\product\10.2.0\client_1\bin\oraslax10.dll
0x63080000 0x00204000 C:\oracle\product\10.2.0\client_1\bin\oraplp10.dll
0x61ED0000 0x0008B000 C:\oracle\product\10.2.0\client_1\bin\orahasgen10.dll
0x62AB0000 0x0006A000 C:\oracle\product\10.2.0\client_1\bin\oraocr10.dll
0x62B20000 0x00040000 C:\oracle\product\10.2.0\client_1\bin\oraocrb10.dll
0x6FF40000 0x00055000 C:\WINDOWS\system32\NETAPI32.dll
0x76BE0000 0x0000B000 C:\WINDOWS\system32\PSAPI.DLL
0x62980000 0x00010000 C:\oracle\product\10.2.0\client_1\bin\orantcp10.dll
0x02250000 0x0009A000 C:\oracle\product\10.2.0\client_1\bin\orasql10.dll
0x1B5D0000 0x00095000 C:\WINDOWS\system32\MSWSTR10.DLL
0x760C0000 0x0013C000 C:\WINDOWS\system32\comsvcs.dll
0x750E0000 0x00014000 C:\WINDOWS\system32\colbact.DLL
0x750A0000 0x00013000 C:\WINDOWS\system32\MTXCLU.DLL
0x76D90000 0x00012000 C:\WINDOWS\system32\CLUSAPI.DLL
0x75060000 0x00012000 C:\WINDOWS\system32\RESUTILS.DLL
0x769A0000 0x000B5000 C:\WINDOWS\system32\USERENV.dll
0x55600000 0x0001D000 C:\Program Files\Microsoft Firewall Client\wspwsp.dll
0x76D50000 0x00019000 C:\WINDOWS\system32\iphlpapi.dll
0x719F0000 0x00040000 C:\WINDOWS\System32\mswsock.dll
0x76F10000 0x00027000 C:\WINDOWS\system32\DNSAPI.dll
0x76FA0000 0x00008000 C:\WINDOWS\System32\winrnr.dll
0x76F50000 0x0002D000 C:\WINDOWS\system32\WLDAP32.dll
0x66210000 0x00009000 C:\WINDOWS\system32\netware\NWWS2NDS.DLL
0x50D50000 0x00047000 C:\WINDOWS\system32\NETWIN32.DLL
0x50D00000 0x00015000 C:\WINDOWS\system32\CLNWIN32.DLL
0x50DF0000 0x00020000 C:\WINDOWS\system32\LOCWIN32.DLL
0x50DB0000 0x0002B000 C:\WINDOWS\system32\NCPWIN32.dll
0x66220000 0x0000C000 C:\WINDOWS\system32\netware\NWWS2SLP.DLL
0x1C000000 0x00007000 C:\WINDOWS\system32\NWSRVLOC.dll
0x16080000 0x00025000 C:\Program Files\Bonjour\mdnsNSP.dll
0x66780000 0x00058000 C:\WINDOWS\system32\hnetcfg.dll
0x71A30000 0x00008000 C:\WINDOWS\System32\wshtcpip.dll
0x76FB0000 0x00006000 C:\WINDOWS\system32\rasadhlp.dll
0x73FE0000 0x00051000 C:\Program Files\Common Files\System\msadc\msadce.dll
0x1F370000 0x00005000 C:\Program Files\Common Files\System\msadc\msadcer.dll
0x4D690000 0x00031000 C:\Program Files\Common Files\System\ado\msadox.dll
0x7E690000 0x000B0000 C:\WINDOWS\system32\SXS.DLL
0x4CA70000 0x0000E000 C:\Program Files\Common Files\System\ado\msadrh15.dll
0x1F430000 0x00007000 C:\Program Files\Common Files\System\ado\msader15.dll
0x3FDE0000 0x00441000 C:\WINDOWS\system32\msi.dll
0x4FF00000 0x00024000 C:\WINDOWS\System32\msorcl32.dll
0x01E10000 0x00006000 C:\WINDOWS\system32\msorc32r.dll
0x5E3E0000 0x0001B000 C:\WINDOWS\system32\odbccp32.dll
0x01BF0000 0x0007D000 C:\oracle\product\10.2.0\client_1\BIN\SQORA32.DLL
0x01C70000 0x00009000 C:\ORACLE\PRODUCT\10.2.0\CLIENT_1\BIN\SQRESUS.DLL
0x7C140000 0x00103000 C:\oracle\product\10.2.0\client_1\bin\MFC71.DLL

Called from DBCLOSEALL(0)
Called from (b)KOMPILATOR(349) in kompilat.prg
Called from BOSS(143) in boss.prg
Called from (b)KOMPILATOR(349) in kompilat.prg
Called from BOSS(143) in boss.prg
Called from KODKLAW(0) in KODKLAW.PRG
Called from OPCJA(0) in OPCJA.PRG
Called from (b)KOMPILATOR(349) in kompilat.prg
Called from BOSS(143) in boss.prg
Called from MAIN(267) in homar.prg
------------------------------------------------------------------------

Regards,
Marek Horodyski
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hb_out.zip
Type: application/x-zip-compressed
Size: 4340 bytes
Desc: hb_out.zip
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091203/f3017b4a/hb_out.bin
From mbelgrano at deltain.it  Thu Dec  3 05:39:27 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec  3 05:39:55 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <D2EDD123-1635-4756-89A3-3D6F17297FD7@syenar.hu>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com> 
	<CC0CA600-947F-4E92-95D2-FB4F6100BB0B@syenar.hu>
	<609353e70912021130w7ad41091iccdf991bcff3856d@mail.gmail.com> 
	<4D00AFA8-C1A2-456A-A349-1800B1CA4E60@syenar.hu>
	<609353e70912021427r6110b9d3lcf89ef9dd9ae279f@mail.gmail.com> 
	<5020E1AE-4C1D-493A-8456-F775AB94EB5B@syenar.hu>
	<609353e70912021623r4af371bcq992a6d8acafe9292@mail.gmail.com> 
	<E99526EC-F624-456C-84B6-0DE0A79BDF68@syenar.hu>
	<609353e70912030124t7d97e9a5x5dedd74c0d59a296@mail.gmail.com> 
	<D2EDD123-1635-4756-89A3-3D6F17297FD7@syenar.hu>
Message-ID: <609353e70912030239y20b864d6p71dac97987be053c@mail.gmail.com>

Is not possible add on or more library in  persistent way
so hbmk2 build process not need  using -Lc:\mylib for each program
that use this library
ispired by old lib but in hbmk2.ini

>> only for explain a prev poiunt regarding need to copy after the
>> compilation process in same dir
>>
>> I my batch i need copy library made from me to harbour lib
>> hbmk2 delta.prg zz.PRG ?-b -m -D__GTWVT__ ?-hblib -odelta4hhd.lib
>> COPY %PREFIX%DELTA4HHD.%EXTENSION%
>> C:\HARBOUR\lib\win\%HB_COMPILER%\%PREFIX%DELTA4HHD.%EXTENSION%
>>
>> copy thirdy party library need wor work
>> COPY C:\DEVL\mysql51\lib\opt\libmysql.lib
>> C:\HARBOUR\lib\win\%HB_COMPILER%\libmysql.a
>
> Adapt these also to prev change it will surely
> make you setup simpler. Please note however that
> it's not obligatory to copy everything to main
> Harbour lib dir. You can add your local lib dir
> to hbmk2 build process using -L option.
>
> You can also use this to copy your libs to Harbour lib dir:
> -instpath=${HB_LIB}/
>
>
> Brgds,
> Viktor
>


-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Thu Dec  3 05:49:48 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec  3 05:49:59 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <609353e70912030239y20b864d6p71dac97987be053c@mail.gmail.com>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com>
	<CC0CA600-947F-4E92-95D2-FB4F6100BB0B@syenar.hu>
	<609353e70912021130w7ad41091iccdf991bcff3856d@mail.gmail.com>
	<4D00AFA8-C1A2-456A-A349-1800B1CA4E60@syenar.hu>
	<609353e70912021427r6110b9d3lcf89ef9dd9ae279f@mail.gmail.com>
	<5020E1AE-4C1D-493A-8456-F775AB94EB5B@syenar.hu>
	<609353e70912021623r4af371bcq992a6d8acafe9292@mail.gmail.com>
	<E99526EC-F624-456C-84B6-0DE0A79BDF68@syenar.hu>
	<609353e70912030124t7d97e9a5x5dedd74c0d59a296@mail.gmail.com>
	<D2EDD123-1635-4756-89A3-3D6F17297FD7@syenar.hu>
	<609353e70912030239y20b864d6p71dac97987be053c@mail.gmail.com>
Message-ID: <F25B277D-58A8-4A98-866C-364069DFA73C@syenar.hu>

> Is not possible add on or more library in  persistent way
> so hbmk2 build process not need  using -Lc:\mylib for each program
> that use this library
> ispired by old lib but in hbmk2.ini

This is not true. There are several ways to solve that very 
cleanly and persistently (by using hbmk.cfg, or using hbmk.hbm, 
or referring to your lib using .hbc file, or by using envvar HBMK_OPTIONS, 
probably more)

Brgds,
Viktor

> 
>>> only for explain a prev poiunt regarding need to copy after the
>>> compilation process in same dir
>>> 
>>> I my batch i need copy library made from me to harbour lib
>>> hbmk2 delta.prg zz.PRG  -b -m -D__GTWVT__  -hblib -odelta4hhd.lib
>>> COPY %PREFIX%DELTA4HHD.%EXTENSION%
>>> C:\HARBOUR\lib\win\%HB_COMPILER%\%PREFIX%DELTA4HHD.%EXTENSION%
>>> 
>>> copy thirdy party library need wor work
>>> COPY C:\DEVL\mysql51\lib\opt\libmysql.lib
>>> C:\HARBOUR\lib\win\%HB_COMPILER%\libmysql.a
>> 
>> Adapt these also to prev change it will surely
>> make you setup simpler. Please note however that
>> it's not obligatory to copy everything to main
>> Harbour lib dir. You can add your local lib dir
>> to hbmk2 build process using -L option.
>> 
>> You can also use this to copy your libs to Harbour lib dir:
>> -instpath=${HB_LIB}/
>> 
>> 
>> Brgds,
>> Viktor
>> 
> 
> 
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Thu Dec  3 06:13:07 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec  3 06:13:35 2009
Subject: [Harbour] sf.net rank
In-Reply-To: <53E0B60C-1FAD-45A8-B2BF-5DC8D534BE01@syenar.hu>
References: <53E0B60C-1FAD-45A8-B2BF-5DC8D534BE01@syenar.hu>
Message-ID: <609353e70912030313k7675698q338c15134a35fcde@mail.gmail.com>

Compliment  to developer team!
Harbour now is solid,reliable and go to have a better ranking

What is appended for having better result from 14 to 15 november
2009-11-14    1,134
2009-11-15      171
In a first time i have think to a hbide effect , due large conses of xmate
but the cause seem:
Officially Published beta3 by viktor

Imo we must made frequent release (also beta , experimental version)
If this month we made a release in increase also download
High ranking will help harbour growing his  user base
I  made an Invitation to download follow for having better ranking
http://sourceforge.net/projects/harbour-project/files/binaries-windows/2.0.0beta3/harbour-2.0.0beta3-win.exe/download

Can we made a Beta4 with "fist stage experimental hbide" ready to run?



2009/12/3 Viktor Szak?ts <harbour.01@syenar.hu>:
>
http://sourceforge.net/project/stats/rank_history.php?group_id=681&ugn=harbour-project



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091203/2744f8d5/attachment.html
From harbour.01 at syenar.hu  Thu Dec  3 06:47:05 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec  3 06:47:16 2009
Subject: [Harbour] sf.net rank
In-Reply-To: <609353e70912030313k7675698q338c15134a35fcde@mail.gmail.com>
References: <53E0B60C-1FAD-45A8-B2BF-5DC8D534BE01@syenar.hu>
	<609353e70912030313k7675698q338c15134a35fcde@mail.gmail.com>
Message-ID: <A231FDD3-086A-4781-8DFC-BC7D858556B3@syenar.hu>

> Compliment  to developer team!
> Harbour now is solid,reliable and go to have a better ranking
> 
> What is appended for having better result from 14 to 15 november
> 2009-11-14    1,134
> 2009-11-15      171
> In a first time i have think to a hbide effect , due large conses of xmate
> but the cause seem:

No, it's the result of moving my "unofficial" beta3 
packages from my web host to sf.net. This directed the traffic 
to sf.net, which is calculated to the rank by sf.net engine.

> Officially Published beta3 by viktor
> 
> Imo we must made frequent release (also beta , experimental version)

And IMO beer, pizza and sports cars should be free 
for everyone ;)

..it doesn't work like this, f.e. for me a release 
takes about 2 _full_ days of work, and only for 
the unified Windows version. Someone should spend 
this time on it and feel the effort to be justified.

> Can we made a Beta4 with "fist stage experimental hbide" ready to run?

Yes, anybody can make it, all the tools are on SVN 
and on the internet for free.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Dec  3 06:50:31 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec  3 06:50:40 2009
Subject: [Harbour] hbqt: with 4.6.0 VC2008 version
Message-ID: <E115CCB3-921C-4A27-8B8C-1213F3893971@syenar.hu>

Hi,

I'm getting this warning:
---
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c- -MT  -IF:\devl\Qt\4.6.0-msvc\include -IF:\devl\Qt\4.6.0-msvc\include/Qt -IF:\devl\Qt\4.6.0-msvc\include/QtCore -IF:\devl\Qt\4.6.0-msvc\include/QtGui -IF:\devl\Q
t\4.6.0-msvc\include/QtNetwork -DUNICODE  -Fohbqt_slots.obj -c ../../../hbqt_slots.cpp
hbqt_slots.cpp
f:\devl\qt\4.6.0-msvc\include\qtcore\../../src/corelib/global/qglobal.h(2249) : warning C4512: 'QForeachContainer<T>' : assignment operator could not be generated
        with
        [
            T=QStringList
        ]
        ../../../hbqt_slots.cpp(2824) : see reference to class template instantiation 'QForeachContainer<T>' being compiled
        with
        [
            T=QStringList
        ]
f:\devl\qt\4.6.0-msvc\include\qtcore\../../src/corelib/global/qglobal.h(2249) : warning C4512: 'QForeachContainer<T>' : assignment operator could not be generated
        with
        [
            T=QVector<HbSyntaxHighlighter::HighlightingRule>
        ]
        ../../../hbqt_slots.cpp(2860) : see reference to class template instantiation 'QForeachContainer<T>' being compiled
        with
        [
            T=QVector<HbSyntaxHighlighter::HighlightingRule>
        ]
---

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Thu Dec  3 07:53:37 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Thu Dec  3 07:53:46 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <F25B277D-58A8-4A98-866C-364069DFA73C@syenar.hu>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com>	<CC0CA600-947F-4E92-95D2-FB4F6100BB0B@syenar.hu>	<609353e70912021130w7ad41091iccdf991bcff3856d@mail.gmail.com>	<4D00AFA8-C1A2-456A-A349-1800B1CA4E60@syenar.hu>	<609353e70912021427r6110b9d3lcf89ef9dd9ae279f@mail.gmail.com>	<5020E1AE-4C1D-493A-8456-F775AB94EB5B@syenar.hu>	<609353e70912021623r4af371bcq992a6d8acafe9292@mail.gmail.com>	<E99526EC-F624-456C-84B6-0DE0A79BDF68@syenar.hu>	<609353e70912030124t7d97e9a5x5dedd74c0d59a296@mail.gmail.com>	<D2EDD123-1635-4756-89A3-3D6F17297FD7@syenar.hu>	<609353e70912030239y20b864d6p71dac97987be053c@mail.gmail.com>
	<F25B277D-58A8-4A98-866C-364069DFA73C@syenar.hu>
Message-ID: <002101ca7417$a2360700$e6a21500$@Bisz@t-online.hu>

Hi,

The main problem with the MinGW Qt 4.6 is that the GCC 4.4.0 has a new
exception model Dwarf, as it is described below (from release note):

- Zero cost exceptions: New exception model Dwarf only has performance
  penalty when being thrown.  The old model, SJLJ, is no longer
  available.

The recommended tdm-mingw-1.908.0-4.4.1-2.exe supports, by default, just the
SJLJ unwinding, unfortunately.
We should switch to Dwarf-2 Unwinding, to have the possibility to build a
correct 'hbide' with the new Qt 4.6 MinGW variant.

See below the README of the TDM - GCC 4.4.1 DWARF-2 components:

----------------------------------------------------------------------------

*** Dwarf-2 vs. SJLJ unwinding ***

GCC supports two methods of stack frame unwinding: Dwarf-2 (DW2) or SJLJ
(setjmp/longjmp). Until recently, only SJLJ has been available for the
Windows
platform. This affects you, the end user, primarily in programs that throw
and
catch exceptions. Programs which utilize the DW2 unwind method handle
exceptions
much more quickly than programs which utilize the SJLJ method. However, the
DW2
method increases code size by a noticeable amount, and additionally cannot
yet
unwind (pass exceptions) through "foreign" stack frames: stack frames
compiled
by another non-DW2-enabled compiler, such as OS DLLs in a Windows callback.

This means that you should in general choose the SJLJ version of the TDM-GCC
builds unless you know you need faster exception handling and can be certain
you
will never throw an exception through a foreign stack area.

As distributed, the SJLJ and DW2 packages of TDM-GCC can coexist peacefully
extracted to the same directory (e.g. any files in common are for all
intents
and purposes identical), because the driver executables (the ones in the
"bin"
directory) are suffixed with "-dw2" for the DW2 build, and the libraries and
other executables hide in another "-dw2" directory in
"lib(exec)/gcc/mingw32".
This allows you to use the same single addition to your PATH, and use DW2
exceptions only when you need them by calling "gcc-dw2", etc. If you truly
want
DW2 exceptions as the default when calling "gcc" (from Makefiles or
configury
systems, for example), you can rename or copy the suffixed executables to
their
original names.
----------------------------------------------------------------------------
-

After copying the -dw2 executables to their original names, I was able to
build a running hbide with qt 4.6 and MinGW GCC 4.4.1-DWARF-2.

Unfortunately the harbour build has some problems in his postinst:

./bin/win/mingw/hbrun.exe --hb:gtcgi ./bin/postinst.prg
! Making c:\harbour\mingw\bin\hbmk.cfg...
.\bin\postinst.bat
! Making shared version of Harbour binaries...
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbcmplib.o):hbcmplib.c:(.eh_frame
+0x11): undefined reference to `__gxx_personality_v0'
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbmain.o):hbmain.c:(.eh_frame+0x1
1): undefined reference to `__gxx_personality_v0'
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbgenerr.o):hbgenerr.c:(.eh_frame
+0x11): undefined reference to `__gxx_personality_v0'
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbopt.o):hbopt.c:(.eh_frame+0x11)
: undefined reference to `__gxx_personality_v0'
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbdead.o):hbdead.c:(.eh_frame+0x1
1): undefined reference to `__gxx_personality_v0'
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbstripl.o):hbstripl.c:(.eh_frame
+0x11): more undefined references to `__gxx_personality_v0' follow
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbcmplib.o):hbcmplib.c:(.eh_frame
+0x11): undefined reference to `__gxx_personality_v0'
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbmain.o):hbmain.c:(.eh_frame+0x1
1): undefined reference to `__gxx_personality_v0'
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbgenerr.o):hbgenerr.c:(.eh_frame
+0x11): undefined reference to `__gxx_personality_v0'
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbopt.o):hbopt.c:(.eh_frame+0x11)
: undefined reference to `__gxx_personality_v0'
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbdead.o):hbdead.c:(.eh_frame+0x1
1): undefined reference to `__gxx_personality_v0'
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbstripl.o):hbstripl.c:(.eh_frame
+0x11): more undefined references to `__gxx_personality_v0' follow
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
c:/harbour/mingw/lib/win/mingw/libhbmainstd.a(mainstd.o):mainstd.c:(.eh_fram
e+0x11): undefined reference to `__gxx_personality_v0'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
c:/harbour/mingw/lib/win/mingw/libhbmainstd.a(mainstd.o):mainstd.c:(.eh_fram
e+0x11): undefined reference to `__gxx_personality_v0'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
c:/harbour/mingw/lib/win/mingw/libhbmainstd.a(mainstd.o):mainstd.c:(.eh_fram
e+0x11): undefined reference to `__gxx_personality_v0'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
! Making hbrun with application icon...
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbcmplib.o):hbcmplib.c:(.eh_frame
+0x11): undefined reference to `__gxx_personality_v0'
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbmain.o):hbmain.c:(.eh_frame+0x1
1): undefined reference to `__gxx_personality_v0'
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbgenerr.o):hbgenerr.c:(.eh_frame
+0x11): undefined reference to `__gxx_personality_v0'
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbopt.o):hbopt.c:(.eh_frame+0x11)
: undefined reference to `__gxx_personality_v0'
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbdead.o):hbdead.c:(.eh_frame+0x1
1): undefined reference to `__gxx_personality_v0'
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbstripl.o):hbstripl.c:(.eh_frame
+0x11): more undefined references to `__gxx_personality_v0' follow
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1

Maybe this experience clarifies a little bit the Qt 4.6, harbour and MinGW
4.4.x relation.

Best regards,
Istv?n


From vszakats at users.sourceforge.net  Thu Dec  3 07:58:23 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec  3 07:58:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13101] trunk/harbour
Message-ID: <E1NGBGJ-0007oh-LO@74yxhf1.ch3.sourceforge.com>

Revision: 13101
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13101&view=rev
Author:   vszakats
Date:     2009-12-03 12:58:22 +0000 (Thu, 03 Dec 2009)

Log Message:
-----------
2009-12-03 13:53 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/xhb/freadlin.c
  * contrib/hbide/freadlin.c
    ! Fixed C mode MSVC warning.

  * config/win/msvc.mk
    - Removed -MT switch from default MSVC options. It should be user controlled
      and -MT seemed to be the default anyway. Now it's also in sync with hbmk2
      and also with msvcarm target.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/contrib/hbide/freadlin.c
    trunk/harbour/contrib/xhb/freadlin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Dec  3 08:02:26 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec  3 08:02:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13101] trunk/harbour
In-Reply-To: <E1NGBGJ-0007oh-LO@74yxhf1.ch3.sourceforge.com>
References: <E1NGBGJ-0007oh-LO@74yxhf1.ch3.sourceforge.com>
Message-ID: <20091203130225.GA19809@linux-4bod.home.aster.pl>

On Thu, 03 Dec 2009, vszakats@users.sourceforge.net wrote:

Hi,

>   * config/win/msvc.mk
>     - Removed -MT switch from default MSVC options. It should be user controlled
>       and -MT seemed to be the default anyway. Now it's also in sync with hbmk2
>       and also with msvcarm target.

I do not have MSVC so I cannot check what exactly this switch does
but if it enables references to MT safe CRTL functions and structures
then above modification can break Harbour in MT mode.

best regards,
Przemek
From vatzct at polly.com.ua  Thu Dec  3 08:04:12 2009
From: vatzct at polly.com.ua (vatzct)
Date: Thu Dec  3 08:03:56 2009
Subject: [Harbour] Sorting the array
Message-ID: <4B17B74C.8090804@polly.com.ua>

See sample:
func main()
local atst:={{6.06,1,1},{9.92,1,2},{9.90,1,3},{9.34,1,4},{11.38,1,5}}
local yy
cls
?"before sorting"
for yy :=1 to len(atst)
?yy,atst[yy,1],atst[yy,2],atst[yy,3]
next
asort(atst,{|x,y|x[2]>y[2]})
?"after sorting"
for yy :=1 to len(atst)
?yy,atst[yy,1],atst[yy,2],atst[yy,3]
next
return nil

The result:
before sorting
         1          6.06          1          1
         2          9.92          1          2
         3          9.90          1          3
         4          9.34          1          4
         5         11.38         1          5
after sorting
         1          9.90          1          3
         2          6.06          1          1
         3          9.34          1          4
         4          9.92          1          2
         5         11.38         1          5

Why sorted array not equal to original and what rule asort use in this case?

Regards,
Alexey Myronenko

From harbour.01 at syenar.hu  Thu Dec  3 08:08:22 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec  3 08:08:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13101] trunk/harbour
In-Reply-To: <20091203130225.GA19809@linux-4bod.home.aster.pl>
References: <E1NGBGJ-0007oh-LO@74yxhf1.ch3.sourceforge.com>
	<20091203130225.GA19809@linux-4bod.home.aster.pl>
Message-ID: <A91C77E1-8F2C-4889-9713-B2CD9FCD38A2@syenar.hu>

Hi,

>>  * config/win/msvc.mk
>>    - Removed -MT switch from default MSVC options. It should be user controlled
>>      and -MT seemed to be the default anyway. Now it's also in sync with hbmk2
>>      and also with msvcarm target.
> 
> I do not have MSVC so I cannot check what exactly this switch does
> but if it enables references to MT safe CRTL functions and structures
> then above modification can break Harbour in MT mode.

The name of the switch is misleading. See:

---
                                -LINKING-

/LD Create .DLL                         /LDd Create .DLL debug library
/LN Create a .netmodule                 /F<num> set stack size
/link [linker options and libraries]    /MD link with MSVCRT.LIB
/MT link with LIBCMT.LIB                /MDd link with MSVCRTD.LIB debug lib
/MTd link with LIBCMTD.LIB debug lib    
---

It controls whether to link with static (LIBCMT) or dynamic 
(MSVCRT) CRTL. Default being static, at least with MSVC 2008.

We should better leave selection of anything non-default to 
users, first because this seems to conform better with other 
project (assuming they'll also tend to leave this to default), 
plus it allows to use HB_USER_CFLAGS=-MD without throwing 
a million insuppressible warnings.

QT for VC2008 seems to require -MD, but I didn't finish tests 
yet.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Dec  3 08:11:42 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec  3 08:11:52 2009
Subject: [Harbour] hbide warnings (unsafe code)
Message-ID: <9D8D518E-4FD0-4CD6-A811-12250811876A@syenar.hu>

Hi,

---
ideparseexpr.c(290) : warning C4996: 'strcat': This function or variable may be unsafe. Consider using strcat_s instead. To disable deprecation, use _CRT_SECURE_NO_WARNINGS. See online help for details.
ideparseexpr.c(300) : warning C4996: 'strncpy': This function or variable may be unsafe. Consider using strncpy_s instead. To disable deprecation, use _CRT_SECURE_NO_WARNINGS. See online help for details.
        C:\Program Files (x86)\Microsoft Visual Studio 9.0\VC\INCLUDE\string.h(157) : see declaration of 'strncpy'
ideparseexpr.c(312) : warning C4996: 'strcat': This function or variable may be unsafe. Consider using strcat_s instead. To disable deprecation, use _CRT_SECURE_NO_WARNINGS. See online help for details.
ideparseexpr.c(322) : warning C4996: 'strcat': This function or variable may be unsafe. Consider using strcat_s instead. To disable deprecation, use _CRT_SECURE_NO_WARNINGS. See online help for details.
---

Instead of these unsafe version, this should be changed 
to hb_strncat() and friends.

Can someone do this?

Brgds,
Viktor

From dbtopas at dbtopas.lt  Thu Dec  3 08:31:25 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Dec  3 08:33:08 2009
Subject: [Harbour] Sorting the array
In-Reply-To: <4B17B74C.8090804@polly.com.ua>
References: <4B17B74C.8090804@polly.com.ua>
Message-ID: <4B17BDAD.2030305@dbtopas.lt>

Hi,

> asort(atst,{|x,y|x[2]>y[2]})
> 
> what rule asort use in this case?

Just like always, it uses the 4th parameter of ASORT().


Regards,
Mindaugas
From harbour.01 at syenar.hu  Thu Dec  3 08:51:00 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec  3 08:51:09 2009
Subject: [Harbour] qtuitools
Message-ID: <C18A62DD-1E8C-4038-A2F2-4E6CB8265906@syenar.hu>

Hi Pritpal,

I've noticed that UiTools classes are now mixed into hbqtcore lib.
Probably it would be better to move it to a separate lib: hbqtuitools.

With 4.6.0 qtuitools causes strange errors, so while 
I'm not sure about the solution, it may need different handling / 
build options than other hbqt parts to fix it.

Anyhow it'd be cleaner to keep it separate.

Brgds,
Viktor

From vatzct at polly.com.ua  Thu Dec  3 08:56:18 2009
From: vatzct at polly.com.ua (vatzct)
Date: Thu Dec  3 08:56:03 2009
Subject: [Harbour] Sorting the array
In-Reply-To: <4B17BDAD.2030305@dbtopas.lt>
References: <4B17B74C.8090804@polly.com.ua> <4B17BDAD.2030305@dbtopas.lt>
Message-ID: <4B17C382.3000901@polly.com.ua>

Mindaugas Kavaliauskas ???????(??):
> Hi,
>
>> asort(atst,{|x,y|x[2]>y[2]})
>>
>> what rule asort use in this case?
>
> Just like always, it uses the 4th parameter of ASORT().
>
>
> Regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
Yes of cause you are right, i'm not carefully read doc, but result is 
same with asort(atst,,,{|x,y|x[2]>y[2]})

before sorting
         1          6.06          1          1
         2          9.92          1          2
         3          9.90          1          3
         4          9.34          1          4
         5         11.38         1          5
after sorting
         1          9.90          1          3
         2          6.06          1          1
         3          9.34          1          4
         4          9.92          1          2
         5         11.38         1          5


Regards,
Alexey Myronenko
From harbour.01 at syenar.hu  Thu Dec  3 08:56:43 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec  3 08:56:55 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <002101ca7417$a2360700$e6a21500$@Bisz@t-online.hu>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com>	<CC0CA600-947F-4E92-95D2-FB4F6100BB0B@syenar.hu>	<609353e70912021130w7ad41091iccdf991bcff3856d@mail.gmail.com>	<4D00AFA8-C1A2-456A-A349-1800B1CA4E60@syenar.hu>	<609353e70912021427r6110b9d3lcf89ef9dd9ae279f@mail.gmail.com>	<5020E1AE-4C1D-493A-8456-F775AB94EB5B@syenar.hu>	<609353e70912021623r4af371bcq992a6d8acafe9292@mail.gmail.com>	<E99526EC-F624-456C-84B6-0DE0A79BDF68@syenar.hu>	<609353e70912030124t7d97e9a5x5dedd74c0d59a296@mail.gmail.com>	<D2EDD123-1635-4756-89A3-3D6F17297FD7@syenar.hu>	<609353e70912030239y20b864d6p71dac97987be053c@mail.gmail.com>
	<F25B277D-58A8-4A98-866C-364069DFA73C@syenar.hu>
	<002101ca7417$a2360700$e6a21500$@Bisz@t-online.hu>
Message-ID: <8F593042-03DC-4729-8F62-A83975156426@syenar.hu>

Thanks for this information.

Brgds,
Viktor

On 2009 Dec 3, at 13:53, Bisz Istv?n wrote:

> Hi,
> 
> The main problem with the MinGW Qt 4.6 is that the GCC 4.4.0 has a new
> exception model Dwarf, as it is described below (from release note):
> 
> - Zero cost exceptions: New exception model Dwarf only has performance
>  penalty when being thrown.  The old model, SJLJ, is no longer
>  available.
> 
> The recommended tdm-mingw-1.908.0-4.4.1-2.exe supports, by default, just the
> SJLJ unwinding, unfortunately.
> We should switch to Dwarf-2 Unwinding, to have the possibility to build a
> correct 'hbide' with the new Qt 4.6 MinGW variant.
> 
> See below the README of the TDM - GCC 4.4.1 DWARF-2 components:
> 
> ----------------------------------------------------------------------------
> 
> *** Dwarf-2 vs. SJLJ unwinding ***
> 
> GCC supports two methods of stack frame unwinding: Dwarf-2 (DW2) or SJLJ
> (setjmp/longjmp). Until recently, only SJLJ has been available for the
> Windows
> platform. This affects you, the end user, primarily in programs that throw
> and
> catch exceptions. Programs which utilize the DW2 unwind method handle
> exceptions
> much more quickly than programs which utilize the SJLJ method. However, the
> DW2
> method increases code size by a noticeable amount, and additionally cannot
> yet
> unwind (pass exceptions) through "foreign" stack frames: stack frames
> compiled
> by another non-DW2-enabled compiler, such as OS DLLs in a Windows callback.
> 
> This means that you should in general choose the SJLJ version of the TDM-GCC
> builds unless you know you need faster exception handling and can be certain
> you
> will never throw an exception through a foreign stack area.
> 
> As distributed, the SJLJ and DW2 packages of TDM-GCC can coexist peacefully
> extracted to the same directory (e.g. any files in common are for all
> intents
> and purposes identical), because the driver executables (the ones in the
> "bin"
> directory) are suffixed with "-dw2" for the DW2 build, and the libraries and
> other executables hide in another "-dw2" directory in
> "lib(exec)/gcc/mingw32".
> This allows you to use the same single addition to your PATH, and use DW2
> exceptions only when you need them by calling "gcc-dw2", etc. If you truly
> want
> DW2 exceptions as the default when calling "gcc" (from Makefiles or
> configury
> systems, for example), you can rename or copy the suffixed executables to
> their
> original names.
> ----------------------------------------------------------------------------
> -
> 
> After copying the -dw2 executables to their original names, I was able to
> build a running hbide with qt 4.6 and MinGW GCC 4.4.1-DWARF-2.
> 
> Unfortunately the harbour build has some problems in his postinst:
> 
> ./bin/win/mingw/hbrun.exe --hb:gtcgi ./bin/postinst.prg
> ! Making c:\harbour\mingw\bin\hbmk.cfg...
> .\bin\postinst.bat
> ! Making shared version of Harbour binaries...
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbcmplib.o):hbcmplib.c:(.eh_frame
> +0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbmain.o):hbmain.c:(.eh_frame+0x1
> 1): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbgenerr.o):hbgenerr.c:(.eh_frame
> +0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbopt.o):hbopt.c:(.eh_frame+0x11)
> : undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbdead.o):hbdead.c:(.eh_frame+0x1
> 1): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbstripl.o):hbstripl.c:(.eh_frame
> +0x11): more undefined references to `__gxx_personality_v0' follow
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbcmplib.o):hbcmplib.c:(.eh_frame
> +0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbmain.o):hbmain.c:(.eh_frame+0x1
> 1): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbgenerr.o):hbgenerr.c:(.eh_frame
> +0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbopt.o):hbopt.c:(.eh_frame+0x11)
> : undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbdead.o):hbdead.c:(.eh_frame+0x1
> 1): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbstripl.o):hbstripl.c:(.eh_frame
> +0x11): more undefined references to `__gxx_personality_v0' follow
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> c:/harbour/mingw/lib/win/mingw/libhbmainstd.a(mainstd.o):mainstd.c:(.eh_fram
> e+0x11): undefined reference to `__gxx_personality_v0'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> c:/harbour/mingw/lib/win/mingw/libhbmainstd.a(mainstd.o):mainstd.c:(.eh_fram
> e+0x11): undefined reference to `__gxx_personality_v0'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> c:/harbour/mingw/lib/win/mingw/libhbmainstd.a(mainstd.o):mainstd.c:(.eh_fram
> e+0x11): undefined reference to `__gxx_personality_v0'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> ! Making hbrun with application icon...
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbcmplib.o):hbcmplib.c:(.eh_frame
> +0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbmain.o):hbmain.c:(.eh_frame+0x1
> 1): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbgenerr.o):hbgenerr.c:(.eh_frame
> +0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbopt.o):hbopt.c:(.eh_frame+0x11)
> : undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbdead.o):hbdead.c:(.eh_frame+0x1
> 1): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbstripl.o):hbstripl.c:(.eh_frame
> +0x11): more undefined references to `__gxx_personality_v0' follow
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> 
> Maybe this experience clarifies a little bit the Qt 4.6, harbour and MinGW
> 4.4.x relation.
> 
> Best regards,
> Istv?n
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Thu Dec  3 08:57:41 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec  3 08:57:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13102] trunk/harbour
Message-ID: <E1NGCBh-0000pH-CQ@c3vjzd1.ch3.sourceforge.com>

Revision: 13102
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13102&view=rev
Author:   vszakats
Date:     2009-12-03 13:57:38 +0000 (Thu, 03 Dec 2009)

Log Message:
-----------
2009-12-03 14:56 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * bin/hb-mkimp.bat
    - Deleted creation of QT implibs for mingw. Enough to use what's
      provided by QT SDK.

  * contrib/hbqt/qtgui/QLabel.cpp
  * contrib/hbqt/hbqt_garbage.h
  * contrib/hbqt/qtcore/filelist.mk
    * Rerun generator. This caused that QTUILoader references
      got removed, plus a few other changes.

  * contrib/hbqt/qtcore/QUiLoader.cpp
    - Deleted header telling this file is automatically generated.
    ! Manually fixed debug lines to be in sync with rest of hbqt.

  * contrib/hbqt/qtcore/Makefile
    ! Fixed to add QTUILoaded stuff manually, since it's missing
      from generated filelist.mk.

  * config/win/msvc.mk
    * Minor in comment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkimp.bat
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/contrib/hbqt/hbqt_garbage.h
    trunk/harbour/contrib/hbqt/qtcore/Makefile
    trunk/harbour/contrib/hbqt/qtcore/QUiLoader.cpp
    trunk/harbour/contrib/hbqt/qtcore/filelist.mk
    trunk/harbour/contrib/hbqt/qtgui/QLabel.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Dec  3 09:07:36 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec  3 09:07:46 2009
Subject: [Harbour] Sorting the array
In-Reply-To: <4B17C382.3000901@polly.com.ua>
References: <4B17B74C.8090804@polly.com.ua> <4B17BDAD.2030305@dbtopas.lt>
	<4B17C382.3000901@polly.com.ua>
Message-ID: <AF6C19D6-8A8F-4C6F-A7E8-F15571FE061B@syenar.hu>

> Yes of cause you are right, i'm not carefully read doc, but result is same with asort(atst,,,{|x,y|x[2]>y[2]})
> 
> before sorting
>        1          6.06          1          1
>        2          9.92          1          2
>        3          9.90          1          3
>        4          9.34          1          4
>        5         11.38         1          5
> after sorting
>        1          9.90          1          3
>        2          6.06          1          1
>        3          9.34          1          4
>        4          9.92          1          2
>        5         11.38         1          5

I don't see any problem.

Harbour doesn't use a 'stable' sorting algorithm, 
so it doesn't keep original order of identical keys.

I don't know what Clipper uses, but even if it 
gives different results this is an implementation 
detail, which app code should not rely upon.

All ASORT() guarantees is that keys will be ordered 
as requested.

Extend your key if have some extra needs regarding 
the ordering.

Brgds,
Viktor

From dbtopas at dbtopas.lt  Thu Dec  3 09:09:12 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Dec  3 09:10:56 2009
Subject: [Harbour] Sorting the array
In-Reply-To: <AF6C19D6-8A8F-4C6F-A7E8-F15571FE061B@syenar.hu>
References: <4B17B74C.8090804@polly.com.ua>
	<4B17BDAD.2030305@dbtopas.lt>	<4B17C382.3000901@polly.com.ua>
	<AF6C19D6-8A8F-4C6F-A7E8-F15571FE061B@syenar.hu>
Message-ID: <4B17C688.6030901@dbtopas.lt>

Hi,


Viktor Szak?ts wrote:
> Harbour doesn't use a 'stable' sorting algorithm, 
> so it doesn't keep original order of identical keys.
> 
> I don't know what Clipper uses, but even if it 
> gives different results this is an implementation 
> detail, which app code should not rely upon.

AFAIR, both uses QuickSort and are compatible.


Regards,
Mindaugas

From Istvan.Bisz at t-online.hu  Thu Dec  3 09:11:21 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Thu Dec  3 09:11:46 2009
Subject: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4
In-Reply-To: <8F593042-03DC-4729-8F62-A83975156426@syenar.hu>
References: <609353e70912020109s33ae2371m77b86648f2cb73ce@mail.gmail.com>	<CC0CA600-947F-4E92-95D2-FB4F6100BB0B@syenar.hu>	<609353e70912021130w7ad41091iccdf991bcff3856d@mail.gmail.com>	<4D00AFA8-C1A2-456A-A349-1800B1CA4E60@syenar.hu>	<609353e70912021427r6110b9d3lcf89ef9dd9ae279f@mail.gmail.com>	<5020E1AE-4C1D-493A-8456-F775AB94EB5B@syenar.hu>	<609353e70912021623r4af371bcq992a6d8acafe9292@mail.gmail.com>	<E99526EC-F624-456C-84B6-0DE0A79BDF68@syenar.hu>	<609353e70912030124t7d97e9a5x5dedd74c0d59a296@mail.gmail.com>	<D2EDD123-1635-4756-89A3-3D6F17297FD7@syenar.hu>	<609353e70912030239y20b864d6p71dac97987be053c@mail.gmail.com>	<F25B277D-58A8-4A98-866C-364069DFA73C@syenar.hu>	<002101ca7417$a2360700$e6a21500$@Bisz@t-online.hu>
	<8F593042-03DC-4729-8F62-A83975156426@syenar.hu>
Message-ID: <000001ca7422$7e432480$7ac96d80$@Bisz@t-online.hu>

You're welcome.


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
Sent: 2009. december 3. 14:57
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Re: Error with qt 4.6 final version for mingw 4.4

Thanks for this information.

Brgds,
Viktor

On 2009 Dec 3, at 13:53, Bisz Istv?n wrote:

> Hi,
> 
> The main problem with the MinGW Qt 4.6 is that the GCC 4.4.0 has a new
> exception model Dwarf, as it is described below (from release note):
> 
> - Zero cost exceptions: New exception model Dwarf only has performance
>  penalty when being thrown.  The old model, SJLJ, is no longer
>  available.
> 
> The recommended tdm-mingw-1.908.0-4.4.1-2.exe supports, by default, just
the
> SJLJ unwinding, unfortunately.
> We should switch to Dwarf-2 Unwinding, to have the possibility to build a
> correct 'hbide' with the new Qt 4.6 MinGW variant.
> 
> See below the README of the TDM - GCC 4.4.1 DWARF-2 components:
> 
>
----------------------------------------------------------------------------
> 
> *** Dwarf-2 vs. SJLJ unwinding ***
> 
> GCC supports two methods of stack frame unwinding: Dwarf-2 (DW2) or SJLJ
> (setjmp/longjmp). Until recently, only SJLJ has been available for the
> Windows
> platform. This affects you, the end user, primarily in programs that throw
> and
> catch exceptions. Programs which utilize the DW2 unwind method handle
> exceptions
> much more quickly than programs which utilize the SJLJ method. However,
the
> DW2
> method increases code size by a noticeable amount, and additionally cannot
> yet
> unwind (pass exceptions) through "foreign" stack frames: stack frames
> compiled
> by another non-DW2-enabled compiler, such as OS DLLs in a Windows
callback.
> 
> This means that you should in general choose the SJLJ version of the
TDM-GCC
> builds unless you know you need faster exception handling and can be
certain
> you
> will never throw an exception through a foreign stack area.
> 
> As distributed, the SJLJ and DW2 packages of TDM-GCC can coexist
peacefully
> extracted to the same directory (e.g. any files in common are for all
> intents
> and purposes identical), because the driver executables (the ones in the
> "bin"
> directory) are suffixed with "-dw2" for the DW2 build, and the libraries
and
> other executables hide in another "-dw2" directory in
> "lib(exec)/gcc/mingw32".
> This allows you to use the same single addition to your PATH, and use DW2
> exceptions only when you need them by calling "gcc-dw2", etc. If you truly
> want
> DW2 exceptions as the default when calling "gcc" (from Makefiles or
> configury
> systems, for example), you can rename or copy the suffixed executables to
> their
> original names.
>
----------------------------------------------------------------------------
> -
> 
> After copying the -dw2 executables to their original names, I was able to
> build a running hbide with qt 4.6 and MinGW GCC 4.4.1-DWARF-2.
> 
> Unfortunately the harbour build has some problems in his postinst:
> 
> ./bin/win/mingw/hbrun.exe --hb:gtcgi ./bin/postinst.prg
> ! Making c:\harbour\mingw\bin\hbmk.cfg...
> .\bin\postinst.bat
> ! Making shared version of Harbour binaries...
>
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbcmplib.o):hbcmplib.c:(.eh_frame
> +0x11): undefined reference to `__gxx_personality_v0'
>
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbmain.o):hbmain.c:(.eh_frame+0x1
> 1): undefined reference to `__gxx_personality_v0'
>
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbgenerr.o):hbgenerr.c:(.eh_frame
> +0x11): undefined reference to `__gxx_personality_v0'
>
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbopt.o):hbopt.c:(.eh_frame+0x11)
> : undefined reference to `__gxx_personality_v0'
>
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbdead.o):hbdead.c:(.eh_frame+0x1
> 1): undefined reference to `__gxx_personality_v0'
>
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbstripl.o):hbstripl.c:(.eh_frame
> +0x11): more undefined references to `__gxx_personality_v0' follow
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
>
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbcmplib.o):hbcmplib.c:(.eh_frame
> +0x11): undefined reference to `__gxx_personality_v0'
>
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbmain.o):hbmain.c:(.eh_frame+0x1
> 1): undefined reference to `__gxx_personality_v0'
>
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbgenerr.o):hbgenerr.c:(.eh_frame
> +0x11): undefined reference to `__gxx_personality_v0'
>
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbopt.o):hbopt.c:(.eh_frame+0x11)
> : undefined reference to `__gxx_personality_v0'
>
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbdead.o):hbdead.c:(.eh_frame+0x1
> 1): undefined reference to `__gxx_personality_v0'
>
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbstripl.o):hbstripl.c:(.eh_frame
> +0x11): more undefined references to `__gxx_personality_v0' follow
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
>
c:/harbour/mingw/lib/win/mingw/libhbmainstd.a(mainstd.o):mainstd.c:(.eh_fram
> e+0x11): undefined reference to `__gxx_personality_v0'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
>
c:/harbour/mingw/lib/win/mingw/libhbmainstd.a(mainstd.o):mainstd.c:(.eh_fram
> e+0x11): undefined reference to `__gxx_personality_v0'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
>
c:/harbour/mingw/lib/win/mingw/libhbmainstd.a(mainstd.o):mainstd.c:(.eh_fram
> e+0x11): undefined reference to `__gxx_personality_v0'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> ! Making hbrun with application icon...
>
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbcmplib.o):hbcmplib.c:(.eh_frame
> +0x11): undefined reference to `__gxx_personality_v0'
>
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbmain.o):hbmain.c:(.eh_frame+0x1
> 1): undefined reference to `__gxx_personality_v0'
>
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbgenerr.o):hbgenerr.c:(.eh_frame
> +0x11): undefined reference to `__gxx_personality_v0'
>
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbopt.o):hbopt.c:(.eh_frame+0x11)
> : undefined reference to `__gxx_personality_v0'
>
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbdead.o):hbdead.c:(.eh_frame+0x1
> 1): undefined reference to `__gxx_personality_v0'
>
c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbstripl.o):hbstripl.c:(.eh_frame
> +0x11): more undefined references to `__gxx_personality_v0' follow
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> 
> Maybe this experience clarifies a little bit the Qt 4.6, harbour and MinGW
> 4.4.x relation.
> 
> Best regards,
> Istv?n
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From gvarona at ec-red.com  Thu Dec  3 09:21:48 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Thu Dec  3 09:23:26 2009
Subject: [Harbour] Re: testing demoxbp.prg fail with the browse
In-Reply-To: <26621640.post@talk.nabble.com>
References: <hf7gfs$t8g$1@ger.gmane.org> <26621640.post@talk.nabble.com>
Message-ID: <hf8hb7$5se$1@ger.gmane.org>

Pritpal Bedi escribi?:
> Hi
> 
> 
> Guillermo Varona wrote:
>> Hello, I'm trying demoxbp.prg, successfully building the exe, but when I
>> go through the browse with the mouse wheel or cursor keys the program is
>> short (failure) when you want to change pages
>>
> 
> I cannot reproduce error you are reporting. 

[SPA]
Efectivamente, ahora estoy probando en otro PC y no me sale el problema 
que estaba reportando.
Probare nuevamente en el PC de mi casa, que es donde falla para alcanzar 
mas detalles.
Por favor, alguien m?s le sucede esto o podr?a probar, el problema es 
con el browse y sucede cuando quiero bajar por los items, con la rueda 
del mouse o con las teclas de cursor (tecla abajo).

[ENG] By Google
Indeed, now I'm trying on another PC and do not leave me he was 
reporting the problem.
Proves again in my home PC, where failure to achieve more details.
Please, someone else could this happen to you or prove the problem is 
with the browse and happens when I walk down the items with the mouse 
wheel or cursor keys (key below).

TIA

BestRegards
GVS

From dbtopas at dbtopas.lt  Thu Dec  3 09:25:44 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Dec  3 09:27:27 2009
Subject: [Harbour] Trouble with SQLRDD
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502B4620F@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502B4620F@PINK.zycie.pzu>
Message-ID: <4B17CA68.9000906@dbtopas.lt>

Horodyski Marek (PZUZ) wrote:
> Mindaugas,
> from time to time, in this syntax :
> 
> ... Many work on SQL's tables, inserts etc.
> 
> dbUseArea( .T., 'SQLMIX', "select * from table",    "TABLE",,,, connect)
> Board() // my Browse function ()
> dbCloseAll() // <-- here is error
> ? RDDINFO( RDDI_DISCONNECT, connect)

Hi,


can you use SVN revision 12995 (2009-11-23) or more new. Connection 
counters are implemted. This should fix GPF if area is closed after 
connection is closed.


Regards,
Mindaugas
From druzus at acn.waw.pl  Thu Dec  3 09:28:38 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec  3 09:28:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13101] trunk/harbour
In-Reply-To: <A91C77E1-8F2C-4889-9713-B2CD9FCD38A2@syenar.hu>
References: <E1NGBGJ-0007oh-LO@74yxhf1.ch3.sourceforge.com>
	<20091203130225.GA19809@linux-4bod.home.aster.pl>
	<A91C77E1-8F2C-4889-9713-B2CD9FCD38A2@syenar.hu>
Message-ID: <20091203142837.GA20735@linux-4bod.home.aster.pl>

On Thu, 03 Dec 2009, Szak?ts Viktor wrote:

Hi,

> The name of the switch is misleading. See:
> ---
>                                 -LINKING-
> /LD Create .DLL                         /LDd Create .DLL debug library
> /LN Create a .netmodule                 /F<num> set stack size
> /link [linker options and libraries]    /MD link with MSVCRT.LIB
> /MT link with LIBCMT.LIB                /MDd link with MSVCRTD.LIB debug lib
> /MTd link with LIBCMTD.LIB debug lib    
> ---
> It controls whether to link with static (LIBCMT) or dynamic 
> (MSVCRT) CRTL. Default being static, at least with MSVC 2008.

After reading above description it's still not clear for me.
I believe that you are right and LIBCMT.LIB provides exactly
the same function set as as MSVCRT.LIB so they are mutual
exclusive and there is no alternative LIBC*.LIB library in MSVC
for which this switch was designed /MT[d] switch could be used
but I would like you will confirm it if it's not a problem.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Dec  3 09:56:40 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec  3 09:56:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13101] trunk/harbour
In-Reply-To: <20091203142837.GA20735@linux-4bod.home.aster.pl>
References: <E1NGBGJ-0007oh-LO@74yxhf1.ch3.sourceforge.com>
	<20091203130225.GA19809@linux-4bod.home.aster.pl>
	<A91C77E1-8F2C-4889-9713-B2CD9FCD38A2@syenar.hu>
	<20091203142837.GA20735@linux-4bod.home.aster.pl>
Message-ID: <0A5502AF-E2F4-432F-8EE9-3A3A81DC3E7F@syenar.hu>

>> The name of the switch is misleading. See:
>> ---
>>                                -LINKING-
>> /LD Create .DLL                         /LDd Create .DLL debug library
>> /LN Create a .netmodule                 /F<num> set stack size
>> /link [linker options and libraries]    /MD link with MSVCRT.LIB
>> /MT link with LIBCMT.LIB                /MDd link with MSVCRTD.LIB debug lib
>> /MTd link with LIBCMTD.LIB debug lib    
>> ---
>> It controls whether to link with static (LIBCMT) or dynamic 
>> (MSVCRT) CRTL. Default being static, at least with MSVC 2008.
> 
> After reading above description it's still not clear for me.
> I believe that you are right and LIBCMT.LIB provides exactly
> the same function set as as MSVCRT.LIB so they are mutual
> exclusive and there is no alternative LIBC*.LIB library in MSVC
> for which this switch was designed /MT[d] switch could be used
> but I would like you will confirm it if it's not a problem.

Here is the list of libs which come with VC2008 (to be precise 
with SDK 7, but this details should be the same for these two 
packages):

---
 Directory of C:\Program Files (x86)\Microsoft Visual Studio 9.0\VC\lib

2008.07.29.  04:29           419 512 comsupp.lib
2008.07.29.  04:29           435 400 comsuppd.lib
2008.07.29.  04:29           419 296 comsuppw.lib
2008.07.29.  04:29           435 194 comsuppwd.lib
2008.07.29.  03:50            63 234 delayimp.lib
2008.07.29.  03:49         9 212 896 libcmt.lib
2008.07.29.  03:49        11 359 254 libcmtd.lib
2008.07.29.  03:49         5 349 850 libcpmt.lib
2008.07.29.  03:49         6 781 174 libcpmtd.lib
2008.07.29.  03:49         1 529 748 msvcmrt.lib
2008.07.29.  03:49         1 625 954 msvcmrtd.lib
2008.07.29.  03:49         1 654 512 msvcprt.lib
2008.07.29.  03:49         1 827 178 msvcprtd.lib
2008.07.29.  03:49         1 359 994 msvcrt.lib
2008.07.29.  03:49         1 392 914 msvcrtd.lib
2008.07.29.  03:49        15 375 270 msvcurt.lib
2008.07.29.  03:49        16 952 200 msvcurtd.lib
2008.07.29.  03:50           101 414 oldnames.lib
2004.03.07.  14:58            17 576 opends60.lib
2008.07.29.  03:50             4 904 pgobootrun.lib
2008.07.29.  03:50            27 706 pgort.lib
2008.07.29.  03:49           426 506 ptrustm.lib
2008.07.29.  03:49           433 686 ptrustmd.lib
2008.07.29.  03:49           426 506 ptrustu.lib
2008.07.29.  03:49           433 686 ptrustud.lib
2008.07.29.  03:49           485 034 RunTmChk.lib
2008.07.29.  04:44            28 446 vcomp.lib
2008.07.29.  04:44            28 574 vcompd.lib
              28 File(s)     78 607 618 bytes
               0 Dir(s)  31 151 144 960 bytes free
---

Please tell me if this gave answer to your question.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Thu Dec  3 10:04:37 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec  3 10:04:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
Message-ID: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>

Revision: 13103
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13103&view=rev
Author:   vszakats
Date:     2009-12-03 15:04:28 +0000 (Thu, 03 Dec 2009)

Log Message:
-----------
2009-12-03 16:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * config/global.mk
   * utils/hbmk2/hbmk2.prg
     + Added autodetection of DWARF-2 build of mingw.
       This is mingw build is required for QT 4.6.0.

   * utils/hbmk2/hbmk2.prg
     ! Fixed to consider HB_CCPOSTFIX setting when trying to autodetect gcc/win, gcc/wce.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Thu Dec  3 10:57:33 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec  3 10:58:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
Message-ID: <609353e70912030757q20c1b2fbv8b227a02a9d26740@mail.gmail.com>

with DWARF-2 installed in MinGWtd2
c:\devl\MinGWTD2\bin>gcc-dw2 -v
Using built-in specs.
Target: mingw32
Configured with: ../../gcc-4.4.1/configure --prefix=/mingw --build=mingw32 --ena
ble-languages=c,ada,c++,fortran,objc,obj-c++ --disable-nls --disable-win32-regis
try --enable-libgomp --disable-werror --enable-threads --disable-symvers --enabl
e-cxx-flags='-fno-function-sections -fno-data-sections' --enable-fully-dynamic-s
tring --enable-version-specific-runtime-libs --with-pkgversion='TDM-2 mingw32' -
-program-suffix=-dw2 --disable-sjlj-exceptions --with-bugurl=http://www.tdragon.
net/recentgcc/bugs.php
Thread model: win32
gcc version 4.4.1-dw2 (TDM-2 mingw32)

SET PATH=C:\DEVL\MinGWtd2\BIN;C:\HARBOUR\BIN\WIN\%HB_COMPILER%;C:\DEVL\QT\4.6.0\BIN;%PATH%
win-make clean install

! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
! MAKE: WIN-MAKE 3.81 sh.exe clean install
! HB_INSTALL_PREFIX: C:\HARBOUR
! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
! HB_PLATFORM: win (x86) (autodetected)
! HB_COMPILER: mingw
..
WIN-MAKE[1]: [install] Error 1 (ignored)
gcc  -I. -I../../../../../include -O3 -fomit-frame-pointer -march=i586
-mtune=pentiumpro  -Ic:/harbour/external/zlib
-Ic:/harbour/external/libpng  -o_hbhbpdf.o -c ../../../_hbhbpdf.c
process_begin: CreateProcess(NULL, gcc -I. -I../../../../../include
-O3 -fomit-frame-pointer -march=i586 -mtune=pentiumpro
-Ic:/harbour/external/zlib -Ic:/harbour/external/libpng -o_hbhbpdf.o
-c ../../../_hbhbpdf.c, ...) failed.
make (e=2): Impossibile trovare il file specificato.
..
WIN-MAKE[3]: *** [_hbhbpdf.o] Error 2
WIN-MAKE[2]: *** [descend] Error 2
WIN-MAKE[1]: *** [libhpdf.inst] Error 2
WIN-MAKE: *** [external.inst] Error 2




2009/12/3  <vszakats@users.sourceforge.net>:
> Revision: 13103
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13103&view=rev
> Author: ? vszakats
> Date: ? ? 2009-12-03 15:04:28 +0000 (Thu, 03 Dec 2009)
>
> Log Message:
> -----------
> 2009-12-03 16:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
> ? * config/global.mk
> ? * utils/hbmk2/hbmk2.prg
> ? ? + Added autodetection of DWARF-2 build of mingw.
> ? ? ? This is mingw build is required for QT 4.6.0.
>
> ? * utils/hbmk2/hbmk2.prg
> ? ? ! Fixed to consider HB_CCPOSTFIX setting when trying to autodetect gcc/win, gcc/wce.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/config/global.mk
> ? ?trunk/harbour/utils/hbmk2/hbmk2.prg
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From Istvan.Bisz at t-online.hu  Thu Dec  3 11:01:02 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Thu Dec  3 11:01:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
Message-ID: <000401ca7431$d09a19a0$71ce4ce0$@Bisz@t-online.hu>

>     + Added autodetection of DWARF-2 build of mingw.
>       This is mingw build is required for QT 4.6.0.

Great! Thank you Viktor, hbide, demoqt and demxbp are running with Qt 4.6 MinGW (GCC 4.4.1-DWARF-2).

Pritpal, if you have some spare time, can you please take a look of the parent-child issue of the statics. They are a show stopper in demoqt and demoxbp. 

Best regards,
Istv?n



From mbelgrano at deltain.it  Thu Dec  3 11:08:20 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec  3 11:08:49 2009
Subject: [Harbour] sf.net rank
In-Reply-To: <A231FDD3-086A-4781-8DFC-BC7D858556B3@syenar.hu>
References: <53E0B60C-1FAD-45A8-B2BF-5DC8D534BE01@syenar.hu> 
	<609353e70912030313k7675698q338c15134a35fcde@mail.gmail.com> 
	<A231FDD3-086A-4781-8DFC-BC7D858556B3@syenar.hu>
Message-ID: <609353e70912030808h1045fe19qa9aabbdb3482a3f0@mail.gmail.com>

Viktor i Higly apreciate your work
sorry if same of my post will sound a nonsense to you
You must undestrand the barrier:
the language (my wrost english)
my little knowledge (of all harbour internal)
My fault memory (i not rember also what i know)

So now i can understand that 2 _full_ days of work is a big effort


2009/12/3 Viktor Szak?ts <harbour.01@syenar.hu>

>
> ..it doesn't work like this, f.e. for me a release
> takes about 2 _full_ days of work, and only for
> the unified Windows version. Someone should spend
> this time on it and feel the effort to be justified.
>
>
-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091203/5d4fbf2e/attachment.html
From mbelgrano at deltain.it  Thu Dec  3 11:11:32 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec  3 11:11:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <-6297814447993206960@unknownmsgid>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com> 
	<-6297814447993206960@unknownmsgid>
Message-ID: <609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>

Hi Istv?n
can you guide me to recompile with GCC 4.4.1-DWARF-2


What other problem will be occur using DWARF-2 in harbour


> Great! Thank you Viktor, hbide, demoqt and demxbp are running with Qt 4.6
> MinGW (GCC 4.4.1-DWARF-2).
>
> Pritpal, if you have some spare time, can you please take a look of the
> parent-child issue of the statics. They are a show stopper in demoqt and
> demoxbp.
>
> Best regards,
> Istv?n
>
>
>
>
-- 
Massimo Belgrano

I
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091203/eca91a05/attachment-0001.html
From bruno.luciani at gmail.com  Thu Dec  3 11:22:52 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Dec  3 11:23:01 2009
Subject: [Harbour] Build a self-contained application with QT
In-Reply-To: <hf6lcf$cau$1@ger.gmane.org>
References: <hf6lcf$cau$1@ger.gmane.org>
Message-ID: <133778360912030822y78221bc1jf34d7d88fbed7921@mail.gmail.com>

Si se puede usando Qt static y HBQTS

en windows al menos , no he probado en linux

Saludos
Bruno


2009/12/2 Guillermo Varona Silup? <gvarona@ec-red.com>

> [SPA]
> Hola,
> ?Se puede construir una aplicaci?n autocontenida con QT?
> Es decir que se genere un solo EXE que contenga librerias, recursos, etc,
> de manera que se pueda ejecutar en cualquier PC, obviamente con el SO para
> el cual se genero el EXE.
>
>
yes it is posible using QT STATIC libraries and HBQTS
unless in windows

Regards
Bruno


[ENG] By Google
> Hi,
> Can you build a self-contained application with QT?
> Ie, they generate a single EXE that contains libraries, resources, etc. so
> that you can run on any PC, obviously with the OS to which genre the EXE.
>
> TIA
>
> Bestregards
> GVS
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091203/316546f9/attachment.html
From Istvan.Bisz at t-online.hu  Thu Dec  3 11:26:12 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Thu Dec  3 11:27:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
	<-6297814447993206960@unknownmsgid>
	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>
Message-ID: <001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>

Hi Massimo,

 

My experience was not clean, but I am trying to advice you somehow.

 

1.      Download the two zip-s  from http://www.tdragon.net/recentgcc/ row
4.4.1-tdm-2 / Dwarf-2 Unwinding  column ?core? and ?g++?.

2.      Unzip them in the install directory of the
?dm-mingw-1.908.0-4.4.1-2.exe? (the already installed GCC 4.4.1). Overwrite
the existing files.

3.      Run the same build with the same setting as for GCC 4.4.1 as before,
the new make system will recognize what you want. Good luck!

 

Best regards,

Istv?n 

 

From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo Belgrano
Sent: 2009. december 3. 17:12
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour

 

Hi Istv?n

can you guide me to recompile with GCC 4.4.1-DWARF-2

 

 

What other problem will be occur using DWARF-2 in harbour

 

Great! Thank you Viktor, hbide, demoqt and demxbp are running with Qt 4.6
MinGW (GCC 4.4.1-DWARF-2).

Pritpal, if you have some spare time, can you please take a look of the
parent-child issue of the statics. They are a show stopper in demoqt and
demoxbp.

Best regards,
Istv?n






-- 
Massimo Belgrano

I

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091203/cd48f25f/attachment.html
From Istvan.Bisz at t-online.hu  Thu Dec  3 11:34:29 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Thu Dec  3 11:34:38 2009
Subject: [Harbour] sf.net rank
In-Reply-To: <A231FDD3-086A-4781-8DFC-BC7D858556B3@syenar.hu>
References: <53E0B60C-1FAD-45A8-B2BF-5DC8D534BE01@syenar.hu>	<609353e70912030313k7675698q338c15134a35fcde@mail.gmail.com>
	<A231FDD3-086A-4781-8DFC-BC7D858556B3@syenar.hu>
Message-ID: <002801ca7436$7d22d050$776870f0$@Bisz@t-online.hu>

Hi Viktor,

> No, it's the result of moving my "unofficial" beta3 
> packages from my web host to sf.net. This directed the traffic 
> to sf.net, which is calculated to the rank by sf.net engine.

Maybe a beta4, with the new settings/findings with Qt4.6 is useful for the
community, how do you think?

Best regards,
Istv?n


From harbour.01 at syenar.hu  Thu Dec  3 11:43:40 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec  3 11:43:50 2009
Subject: [Harbour] Re: sf.net rank
In-Reply-To: <-7438082928333224985@unknownmsgid>
References: <53E0B60C-1FAD-45A8-B2BF-5DC8D534BE01@syenar.hu>
	<609353e70912030313k7675698q338c15134a35fcde@mail.gmail.com>
	<A231FDD3-086A-4781-8DFC-BC7D858556B3@syenar.hu>
	<-7438082928333224985@unknownmsgid>
Message-ID: <18d502870912030843r66cedb92i650187aa1ac28716@mail.gmail.com>

No doubt it's useful. It's just a lot of time. BTW, I got stuck with
the msvc 4.6 qt, it'd nice if this could be checked by an msvc2008
user.

2009/12/3, Bisz Istv?n <Istvan.Bisz@t-online.hu>:
> Hi Viktor,
>
>> No, it's the result of moving my "unofficial" beta3
>> packages from my web host to sf.net. This directed the traffic
>> to sf.net, which is calculated to the rank by sf.net engine.
>
> Maybe a beta4, with the new settings/findings with Qt4.6 is useful for the
> community, how do you think?
>
> Best regards,
> Istv?n
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>

-- 
Saj?t mobilk?sz?l?kemr?l k?ldve
From druzus at acn.waw.pl  Thu Dec  3 11:51:01 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec  3 11:51:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13101] trunk/harbour
In-Reply-To: <0A5502AF-E2F4-432F-8EE9-3A3A81DC3E7F@syenar.hu>
References: <E1NGBGJ-0007oh-LO@74yxhf1.ch3.sourceforge.com>
	<20091203130225.GA19809@linux-4bod.home.aster.pl>
	<A91C77E1-8F2C-4889-9713-B2CD9FCD38A2@syenar.hu>
	<20091203142837.GA20735@linux-4bod.home.aster.pl>
	<0A5502AF-E2F4-432F-8EE9-3A3A81DC3E7F@syenar.hu>
Message-ID: <20091203165101.GA23340@linux-4bod.home.aster.pl>

On Thu, 03 Dec 2009, Szak?ts Viktor wrote:

Hi,

> Here is the list of libs which come with VC2008 (to be precise 
> with SDK 7, but this details should be the same for these two 
> packages):
[...]
> Please tell me if this gave answer to your question.

No, it doesn't. Anyhow I used google to find some information
about it and I think that some advanced MSVC users should look
at it and answer what will happen when Harbour is build for
different MSVCRT then one of used DLLs when /MT or /MD switches
are used (it may exploit some problems with 3-rd party harbour
binaries) and maybe which switches are present in some old MSVC
versions.
Anyhow I'm not MSVC users and I cannot help here so I'm leaving
this problem to people using this compiler.

best regards,
Przemek
From snaiperis at users.sourceforge.net  Thu Dec  3 11:59:40 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Thu Dec  3 11:59:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13104] trunk/harbour
Message-ID: <E1NGF1o-00040i-2j@c3vjzd1.ch3.sourceforge.com>

Revision: 13104
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13104&view=rev
Author:   snaiperis
Date:     2009-12-03 16:59:36 +0000 (Thu, 03 Dec 2009)

Log Message:
-----------
2009-12-03 18:56 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/hbcairo/Makefile
  * harbour/contrib/hbcairo/context.c
  * harbour/contrib/hbcairo/paths.c
  * harbour/contrib/hbcairo/pdf.c
  * harbour/contrib/hbcairo/png.c
  + harbour/contrib/hbcairo/surface.c
  * harbour/contrib/hbcairo/text.c
  + harbour/contrib/hbcairo/transfor.c
  + harbour/contrib/hbcairo/util.c
  * harbour/contrib/hbcairo/hbcairo.ch
    + Added more Cairo functions

  * harbour/contrib/Makefile
    * added hbcairo into contrib compile list

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/Makefile
    trunk/harbour/contrib/hbcairo/Makefile
    trunk/harbour/contrib/hbcairo/context.c
    trunk/harbour/contrib/hbcairo/hbcairo.ch
    trunk/harbour/contrib/hbcairo/paths.c
    trunk/harbour/contrib/hbcairo/pdf.c
    trunk/harbour/contrib/hbcairo/png.c
    trunk/harbour/contrib/hbcairo/text.c

Added Paths:
-----------
    trunk/harbour/contrib/hbcairo/surface.c
    trunk/harbour/contrib/hbcairo/transfor.c
    trunk/harbour/contrib/hbcairo/util.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From gvarona at ec-red.com  Thu Dec  3 12:16:17 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Thu Dec  3 12:13:20 2009
Subject: [Harbour] Re: Build a self-contained application with QT
In-Reply-To: <133778360912030822y78221bc1jf34d7d88fbed7921@mail.gmail.com>
References: <hf6lcf$cau$1@ger.gmane.org>
	<133778360912030822y78221bc1jf34d7d88fbed7921@mail.gmail.com>
Message-ID: <hf8ric$ags$1@ger.gmane.org>

Bruno Luciani escribi?:
> Si se puede usando Qt static y HBQTS
> en windows al menos , no he probado en linux

Hola Bruno, Gracias por responder.
Sobre el tema, podr?as indicarme c?mo hay que hacer para lograr esto.
?Hay que construir Harbour de alguna manera especial?
?Hay algun ejemplo en el SVN? (al menos de los que pude ver no se si son 
  los que necesito, de momento lo que necesitaria es por lo menos un 
"Hola mundo" que lo pueda llevar en un USB y ejecutarlo en cualquier PC)

Gracias de Antemano.

Salu2
GVS

> 
> Saludos
> Bruno
> 
> 
> 2009/12/2 Guillermo Varona Silup? 
> <gvarona@ec-red.com 
> <mailto:gvarona@ec-red.com>>
> 
>     [SPA]
>     Hola,
>     ?Se puede construir una aplicaci?n autocontenida con QT?
>     Es decir que se genere un solo EXE que contenga librerias, recursos,
>     etc, de manera que se pueda ejecutar en cualquier PC, obviamente con
>     el SO para el cual se genero el EXE.
> 
> 
> yes it is posible using QT STATIC libraries and HBQTS
> unless in windows
> 
> Regards
> Bruno
> 
> 
>     [ENG] By Google
>     Hi,
>     Can you build a self-contained application with QT?
>     Ie, they generate a single EXE that contains libraries, resources,
>     etc. so that you can run on any PC, obviously with the OS to which
>     genre the EXE.
> 
>     TIA
> 
>     Bestregards
>     GVS
> 
>     _______________________________________________
>     Harbour mailing list (attachment size limit: 40KB)
>     Harbour@harbour-project.org
>     <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

From mbelgrano at deltain.it  Thu Dec  3 12:20:21 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec  3 12:20:49 2009
Subject: [Harbour] Re: Build a self-contained application with QT
In-Reply-To: <hf8ric$ags$1@ger.gmane.org>
References: <hf6lcf$cau$1@ger.gmane.org>
	<133778360912030822y78221bc1jf34d7d88fbed7921@mail.gmail.com> 
	<hf8ric$ags$1@ger.gmane.org>
Message-ID: <609353e70912030920h2f4eac3axddc620bd1c819a4@mail.gmail.com>

English Translation of message by GVS

Hello Bruno, Thanks for responding.
On the subject, you could tell me how to do to accomplish this.
Should we build Harbor somehow special?
Is there any example in the SVN? (at least those I could see if they are not
need, for now it would need is at least a "Hello world" that could carry a
USB and run it on any PC)

Thanks in advance.

Regard
GVS

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091203/0ff94900/attachment.html
From snaiperis at users.sourceforge.net  Thu Dec  3 12:25:43 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Thu Dec  3 12:25:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13105] trunk/harbour
Message-ID: <E1NGFR1-0004TQ-U0@c3vjzd1.ch3.sourceforge.com>

Revision: 13105
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13105&view=rev
Author:   snaiperis
Date:     2009-12-03 17:25:42 +0000 (Thu, 03 Dec 2009)

Log Message:
-----------
2009-12-03 19:24 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/hbcairo/tests/table.prg
    ! use value of returned array instead of parameter by reference

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbcairo/tests/table.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Dec  3 12:45:35 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec  3 12:45:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13101] trunk/harbour
In-Reply-To: <20091203165101.GA23340@linux-4bod.home.aster.pl>
References: <E1NGBGJ-0007oh-LO@74yxhf1.ch3.sourceforge.com>
	<20091203130225.GA19809@linux-4bod.home.aster.pl>
	<A91C77E1-8F2C-4889-9713-B2CD9FCD38A2@syenar.hu>
	<20091203142837.GA20735@linux-4bod.home.aster.pl>
	<0A5502AF-E2F4-432F-8EE9-3A3A81DC3E7F@syenar.hu>
	<20091203165101.GA23340@linux-4bod.home.aster.pl>
Message-ID: <D28A0723-3FF8-49E4-884B-C5D5A002AC74@syenar.hu>

>> Here is the list of libs which come with VC2008 (to be precise 
>> with SDK 7, but this details should be the same for these two 
>> packages):
> [...]
>> Please tell me if this gave answer to your question.
> 
> No, it doesn't. Anyhow I used google to find some information
> about it and I think that some advanced MSVC users should look
> at it and answer what will happen when Harbour is build for
> different MSVCRT then one of used DLLs when /MT or /MD switches
> are used (it may exploit some problems with 3-rd party harbour
> binaries) and maybe which switches are present in some old MSVC
> versions.
> Anyhow I'm not MSVC users and I cannot help here so I'm leaving
> this problem to people using this compiler.

There is no problem here AFAIU. I deleted a switch which 
forced the default setting.

As for /MT vs /MD, all I know about it from past experience 
is that you must use the same switch for all components that 
you want to link together into one binary, otherwise you get 
ugly link-time errors. Maybe there are additional rules, but 
for sure this is true.

Checking old versions would be useful, but I don't have 
2005 anymore installed, and don't have older versions at all.

I we receive information, and if it's needed, we can tweak 
this setting for older versions.

Or, could well be I don't understand your point.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Thu Dec  3 12:47:56 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec  3 12:48:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13106] trunk/harbour
Message-ID: <E1NGFmW-0004UN-3s@74yxhf1.ch3.sourceforge.com>

Revision: 13106
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13106&view=rev
Author:   vszakats
Date:     2009-12-03 17:47:55 +0000 (Thu, 03 Dec 2009)

Log Message:
-----------
2009-12-03 18:47 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/Makefile
    + Moved hbcairo to section for contribs with external dependencies.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Thu Dec  3 12:56:34 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Dec  3 12:58:18 2009
Subject: [Harbour] HB_SYMBOL_UNUSED()
Message-ID: <4B17FBD2.8000202@dbtopas.lt>

Hi,


it would be nice to have multiple parameter support for both C and .PRG 
version of HB_SYMBOL_UNUSED() macro.

Sometimes I temporarily need to add dummy a function, or comment large 
piece of code of a large functions. This make generate "variable defined 
but not used" warnings and stops compilation. -w*, -es* compiler options 
are somewhere deep inside make system.

FUNC f( par1, par2, par3, par4 )

Writing of :
    HB_SYMBOL_UNUSED( par1, par2, par3, par4 )

is much more quick and elegant than:
    HB_SYMBOL_UNUSED( par1 )
    HB_SYMBOL_UNUSED( par2 )
    HB_SYMBOL_UNUSED( par3 )
    HB_SYMBOL_UNUSED( par4 )
    ...


Regards,
Mindaugas
From harbour.01 at syenar.hu  Thu Dec  3 13:06:15 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec  3 13:06:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13101] trunk/harbour
In-Reply-To: <20091203165101.GA23340@linux-4bod.home.aster.pl>
References: <E1NGBGJ-0007oh-LO@74yxhf1.ch3.sourceforge.com>
	<20091203130225.GA19809@linux-4bod.home.aster.pl>
	<A91C77E1-8F2C-4889-9713-B2CD9FCD38A2@syenar.hu>
	<20091203142837.GA20735@linux-4bod.home.aster.pl>
	<0A5502AF-E2F4-432F-8EE9-3A3A81DC3E7F@syenar.hu>
	<20091203165101.GA23340@linux-4bod.home.aster.pl>
Message-ID: <48865DE1-0BCF-4E54-83C1-B026F7E1561C@syenar.hu>

> No, it doesn't. Anyhow I used google to find some information
> about it and I think that some advanced MSVC users should look
> at it and answer what will happen when Harbour is build for
> different MSVCRT then one of used DLLs when /MT or /MD switches
> are used (it may exploit some problems with 3-rd party harbour
> binaries) and maybe which switches are present in some old MSVC
> versions.
> Anyhow I'm not MSVC users and I cannot help here so I'm leaving
> this problem to people using this compiler.

Here is some MS docs:
   http://msdn.microsoft.com/en-us/library/2kzt1wy3(VS.80).aspx

With MSVC 2008 there is NO difference between no option 
and /MT, and '_MT' macro is always defined. This means in 2008, 
MT mode is always enabled. Slightly different code is generated 
with /MD and /MDd, and 

--- test.bat
call vc cl -I..\..\include -c hbstr.c      -FoM__
rem   _MT defined, links to LIBCMT.lib

call vc cl -I..\..\include -c hbstr.c -MT  -FoMT_
rem   _MT defined, links to LIBCMT.lib

call vc cl -I..\..\include -c hbstr.c -MTd -FoMTd
rem   _MT defined, links to LIBCMTD.lib

call vc cl -I..\..\include -c hbstr.c -MD  -FoMD_
rem   _MT defined, links to MSVCRT.lib

call vc cl -I..\..\include -c hbstr.c -MDd -FoMDd
rem   _MT defined, links to MSVCRTD.lib
---

This should be checked for older versions, 2005 and 
maybe .NET 2003, .NET, maybe 6.0 if someone still 
has it.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Dec  3 13:10:40 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec  3 13:10:52 2009
Subject: [Harbour] HB_SYMBOL_UNUSED()
In-Reply-To: <4B17FBD2.8000202@dbtopas.lt>
References: <4B17FBD2.8000202@dbtopas.lt>
Message-ID: <2B2E930B-6ED0-493E-9618-C686D10A4097@syenar.hu>

Hi,

> it would be nice to have multiple parameter support for both C and .PRG version of HB_SYMBOL_UNUSED() macro.
> 
> Sometimes I temporarily need to add dummy a function, or comment large piece of code of a large functions. This make generate "variable defined but not used" warnings and stops compilation. -w*, -es* compiler options are somewhere deep inside make system.
> 
> FUNC f( par1, par2, par3, par4 )
> 
> Writing of :
>   HB_SYMBOL_UNUSED( par1, par2, par3, par4 )
> 
> is much more quick and elegant than:
>   HB_SYMBOL_UNUSED( par1 )
>   HB_SYMBOL_UNUSED( par2 )
>   HB_SYMBOL_UNUSED( par3 )
>   HB_SYMBOL_UNUSED( par4 )

I don't know, I prefer to keep it as simple as it is now.
It's much cleaner to look at and much easier to grep for.

Most importantly HB_SYMBOL_UNUSED() should be an exception 
to be avoided in the first place, so I'm not sure we should 
design it for most comfortable usage.

As for -w3 and -es2, it's a standard in Harbour SVN now.
It's not deep in the make system, it's simply controlled 
by hbmk.hbm files in each (usually 'tests') dir.

You can override it via cmdline option, or #pragma until 
you are in interim development phase.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Dec  3 13:27:44 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec  3 13:27:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13101] trunk/harbour
In-Reply-To: <48865DE1-0BCF-4E54-83C1-B026F7E1561C@syenar.hu>
References: <E1NGBGJ-0007oh-LO@74yxhf1.ch3.sourceforge.com>
	<20091203130225.GA19809@linux-4bod.home.aster.pl>
	<A91C77E1-8F2C-4889-9713-B2CD9FCD38A2@syenar.hu>
	<20091203142837.GA20735@linux-4bod.home.aster.pl>
	<0A5502AF-E2F4-432F-8EE9-3A3A81DC3E7F@syenar.hu>
	<20091203165101.GA23340@linux-4bod.home.aster.pl>
	<48865DE1-0BCF-4E54-83C1-B026F7E1561C@syenar.hu>
Message-ID: <66B93DAB-A4D8-4DF1-9712-863940A0E1BF@syenar.hu>

> Here is some MS docs:
>   http://msdn.microsoft.com/en-us/library/2kzt1wy3(VS.80).aspx
> 
> With MSVC 2008 there is NO difference between no option 
> and /MT, and '_MT' macro is always defined. This means in 2008, 
> MT mode is always enabled. Slightly different code is generated 
> with /MD and /MDd, and 
> 
> --- test.bat
> call vc cl -I..\..\include -c hbstr.c      -FoM__
> rem   _MT defined, links to LIBCMT.lib
> 
> call vc cl -I..\..\include -c hbstr.c -MT  -FoMT_
> rem   _MT defined, links to LIBCMT.lib
> 
> call vc cl -I..\..\include -c hbstr.c -MTd -FoMTd
> rem   _MT defined, links to LIBCMTD.lib
> 
> call vc cl -I..\..\include -c hbstr.c -MD  -FoMD_
> rem   _MT defined, links to MSVCRT.lib
> 
> call vc cl -I..\..\include -c hbstr.c -MDd -FoMDd
> rem   _MT defined, links to MSVCRTD.lib
> ---
> 
> This should be checked for older versions, 2005 and 
> maybe .NET 2003, .NET, maybe 6.0 if someone still 
> has it.

Here's the docs for .NET 2003:
http://msdn.microsoft.com/en-us/library/abx4dbyh(VS.71).aspx

I'd guess that 2005 behaves exactly like 2008, 
and 2003 behaves like .NET 2003, maybe also 6.0.

This means it would be better to readd /MT switch 
for older versions to link with MT CRT.

Any thoughts?

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Dec  3 13:30:53 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec  3 13:31:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13101] trunk/harbour
In-Reply-To: <66B93DAB-A4D8-4DF1-9712-863940A0E1BF@syenar.hu>
References: <E1NGBGJ-0007oh-LO@74yxhf1.ch3.sourceforge.com>
	<20091203130225.GA19809@linux-4bod.home.aster.pl>
	<A91C77E1-8F2C-4889-9713-B2CD9FCD38A2@syenar.hu>
	<20091203142837.GA20735@linux-4bod.home.aster.pl>
	<0A5502AF-E2F4-432F-8EE9-3A3A81DC3E7F@syenar.hu>
	<20091203165101.GA23340@linux-4bod.home.aster.pl>
	<48865DE1-0BCF-4E54-83C1-B026F7E1561C@syenar.hu>
	<66B93DAB-A4D8-4DF1-9712-863940A0E1BF@syenar.hu>
Message-ID: <29CF84DC-BA6A-408F-9F06-50120ACD580F@syenar.hu>

>> This should be checked for older versions, 2005 and 
>> maybe .NET 2003, .NET, maybe 6.0 if someone still 
>> has it.
> 
> Here's the docs for .NET 2003:
> http://msdn.microsoft.com/en-us/library/abx4dbyh(VS.71).aspx
> 
> I'd guess that 2005 behaves exactly like 2008, 
> and 2003 behaves like .NET 2003, maybe also 6.0.
> 
> This means it would be better to readd /MT switch 
> for older versions to link with MT CRT.
> 
> Any thoughts?

Here's one more link to support this:
   http://dev.mobixo.net/2008/03/use-mtd-or-mdd.html

Brgds,
Viktor

From gvarona at ec-red.com  Thu Dec  3 13:37:36 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Thu Dec  3 13:34:28 2009
Subject: [Harbour] Re: Build a self-contained application with QT
In-Reply-To: <609353e70912030920h2f4eac3axddc620bd1c819a4@mail.gmail.com>
References: <hf6lcf$cau$1@ger.gmane.org>	<133778360912030822y78221bc1jf34d7d88fbed7921@mail.gmail.com>
	<hf8ric$ags$1@ger.gmane.org>
	<609353e70912030920h2f4eac3axddc620bd1c819a4@mail.gmail.com>
Message-ID: <hf90ar$qpq$1@ger.gmane.org>

Thanks very much

BestRegards
GVS

Massimo Belgrano escribi?:
> English Translation of message by GVS
> 
> Hello Bruno, Thanks for responding. 
> On the subject, you could tell me how to do to accomplish this. 
> Should we build Harbor somehow special? 
> Is there any example in the SVN? (at least those I could see if they are 
> not need, for now it would need is at least a "Hello world" that could 
> carry a USB and run it on any PC) 
> 
> Thanks in advance. 
> 
> Regard
> GVS 
> 
> -- 
> Massimo Belgrano
> 
> 

From amigosam at adinet.com.uy  Thu Dec  3 13:53:40 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Thu Dec  3 13:54:01 2009
Subject: [Harbour] Re: Build a self-contained application with QT
In-Reply-To: <hf8ric$ags$1@ger.gmane.org>
References: <hf6lcf$cau$1@ger.gmane.org>	<133778360912030822y78221bc1jf34d7d88fbed7921@mail.gmail.com>
	<hf8ric$ags$1@ger.gmane.org>
Message-ID: <hf91et$u7h$1@ger.gmane.org>

Guillermo:

El linkeado del programa de forma estatica nbo tiene nada que ver con 
poder ejecutarse en un pendrive. Si pones el exe con las dll en el 
pen-drive puede ejecuarlo igual.
Por otra parte si linkeas tu programa de forma estatica estas obligado 
por la licencia de qt a hacerlo open source.

HTH
Angel

Guillermo Varona Silup? escribi?:
> Bruno Luciani escribi?:
>> Si se puede usando Qt static y HBQTS
>> en windows al menos , no he probado en linux
> 
> Hola Bruno, Gracias por responder.
> Sobre el tema, podr?as indicarme c?mo hay que hacer para lograr esto.
> ?Hay que construir Harbour de alguna manera especial?
> ?Hay algun ejemplo en el SVN? (al menos de los que pude ver no se si son 
>  los que necesito, de momento lo que necesitaria es por lo menos un 
> "Hola mundo" que lo pueda llevar en un USB y ejecutarlo en cualquier PC)
> 
> Gracias de Antemano.
> 
> Salu2
> GVS
> 
>>
>> Saludos
>> Bruno
>>
>>
>> 2009/12/2 Guillermo Varona Silup? 
>> <gvarona@ec-red.com 
>> <mailto:gvarona@ec-red.com>>
>>
>>     [SPA]
>>     Hola,
>>     ?Se puede construir una aplicaci?n autocontenida con QT?
>>     Es decir que se genere un solo EXE que contenga librerias, recursos,
>>     etc, de manera que se pueda ejecutar en cualquier PC, obviamente con
>>     el SO para el cual se genero el EXE.
>>
>>
>> yes it is posible using QT STATIC libraries and HBQTS
>> unless in windows
>>
>> Regards
>> Bruno
>>
>>
>>     [ENG] By Google
>>     Hi,
>>     Can you build a self-contained application with QT?
>>     Ie, they generate a single EXE that contains libraries, resources,
>>     etc. so that you can run on any PC, obviously with the OS to which
>>     genre the EXE.
>>
>>     TIA
>>
>>     Bestregards
>>     GVS
>>
>>     _______________________________________________
>>     Harbour mailing list (attachment size limit: 40KB)
>>     Harbour@harbour-project.org
>>     <mailto:Harbour@harbour-project.org>
>>     http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
> 

From druzus at acn.waw.pl  Thu Dec  3 14:42:15 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec  3 14:42:22 2009
Subject: [Harbour] HB_SYMBOL_UNUSED()
In-Reply-To: <4B17FBD2.8000202@dbtopas.lt>
References: <4B17FBD2.8000202@dbtopas.lt>
Message-ID: <20091203194215.GA21990@linux-4bod.home.aster.pl>

On Thu, 03 Dec 2009, Mindaugas Kavaliauskas wrote:

Hi,

> it would be nice to have multiple parameter support for both C and
> .PRG version of HB_SYMBOL_UNUSED() macro.

Variadic macros were added as part of C99 standard. Only few C compilers
like GCC supported variadic macros before C99 specification so we cannot
use them by default.
Anyhow if use C compiler with C99 compatible preprocessor then you can try
to implement it but because C preprocessor is not flexible enough to make
some more advanced conversions on __VA_ARGS__ then it is necessary to use
some hacks like stripped by optimizer dummy function, i.e.:

   extern void _HB_SYMBOL_UNUSED_( int x, ... );
   #undef HB_SYMBOL_UNUSED
   #define HB_SYMBOL_UNUSED( ... )   \
      do { if( 0 ) _HB_SYMBOL_UNUSED_( 0, __VA_ARGS__ ); } while( 0 )

In .prg code we do not have such problems ;-) so you can simply use:

   #ytranslate HB_SYMBOL_UNUSED( <v1> , <v2> [, <vN> ] ) => ;
               HB_SYMBOL_UNUSED( <v1> ) ;
             ; HB_SYMBOL_UNUSED( <v2> ) ;
           [ ; HB_SYMBOL_UNUSED( <vN> ) ]

best regards,
Przemek
From vouchcac at users.sourceforge.net  Thu Dec  3 14:44:06 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Dec  3 14:44:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13107] trunk/harbour
Message-ID: <E1NGHaw-0007qV-Q9@bj8yhf1.ch3.sourceforge.com>

Revision: 13107
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13107&view=rev
Author:   vouchcac
Date:     2009-12-03 19:44:05 +0000 (Thu, 03 Dec 2009)

Log Message:
-----------
2009-12-03 11:39 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/generator/qt45.qtp
  * contrib/hbqt/hbqt_garbage.h
  * contrib/hbqt/qtcore/filelist.mk
  * contrib/hbqt/qtcore/QUiLoader.cpp
  * contrib/hbqt/qtgui/QLabel.cpp
  * contrib/hbqt/qth/QLabel.qth
    ! Fixed QUiLoader issue.
    ! Fixed XbpStatic()'s weired behaviour which was caused by expected improvements
      in QLabel() class which eventually did not yield desired results, unluckily.
      I will look into this matter later.
      Now, HBQT sources re-built places proper make files and components.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/generator/qt45.qtp
    trunk/harbour/contrib/hbqt/hbqt_garbage.h
    trunk/harbour/contrib/hbqt/qtcore/QUiLoader.cpp
    trunk/harbour/contrib/hbqt/qtcore/filelist.mk
    trunk/harbour/contrib/hbqt/qtgui/QLabel.cpp
    trunk/harbour/contrib/hbqt/qth/QLabel.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Dec  3 14:56:43 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec  3 14:56:54 2009
Subject: [Harbour] HB_SYMBOL_UNUSED()
In-Reply-To: <20091203194215.GA21990@linux-4bod.home.aster.pl>
References: <4B17FBD2.8000202@dbtopas.lt>
	<20091203194215.GA21990@linux-4bod.home.aster.pl>
Message-ID: <F1AA485B-D2EB-47FA-A534-D318277822D0@syenar.hu>

Great. But folks pls lets not commit it to Harbour SVN, 
otherwise there will yet another things which will need 
permanent cleanup to keep our codebase coherent.

Brgds,
Viktor


On 2009 Dec 3, at 20:42, Przemys?aw Czerpak wrote:

> On Thu, 03 Dec 2009, Mindaugas Kavaliauskas wrote:
> 
> Hi,
> 
>> it would be nice to have multiple parameter support for both C and
>> .PRG version of HB_SYMBOL_UNUSED() macro.
> 
> Variadic macros were added as part of C99 standard. Only few C compilers
> like GCC supported variadic macros before C99 specification so we cannot
> use them by default.
> Anyhow if use C compiler with C99 compatible preprocessor then you can try
> to implement it but because C preprocessor is not flexible enough to make
> some more advanced conversions on __VA_ARGS__ then it is necessary to use
> some hacks like stripped by optimizer dummy function, i.e.:
> 
>   extern void _HB_SYMBOL_UNUSED_( int x, ... );
>   #undef HB_SYMBOL_UNUSED
>   #define HB_SYMBOL_UNUSED( ... )   \
>      do { if( 0 ) _HB_SYMBOL_UNUSED_( 0, __VA_ARGS__ ); } while( 0 )
> 
> In .prg code we do not have such problems ;-) so you can simply use:
> 
>   #ytranslate HB_SYMBOL_UNUSED( <v1> , <v2> [, <vN> ] ) => ;
>               HB_SYMBOL_UNUSED( <v1> ) ;
>             ; HB_SYMBOL_UNUSED( <v2> ) ;
>           [ ; HB_SYMBOL_UNUSED( <vN> ) ]
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Thu Dec  3 14:58:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec  3 14:58:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13108] trunk/harbour
Message-ID: <E1NGHpA-0003uW-Pd@d5vjzd1.ch3.sourceforge.com>

Revision: 13108
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13108&view=rev
Author:   vszakats
Date:     2009-12-03 19:58:43 +0000 (Thu, 03 Dec 2009)

Log Message:
-----------
2009-12-03 20:49 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbcairo/Makefile
    + Added autodetection for MacPorts cairo pkg.
    + Fixed autodetection on *nix systems in general.

  * INSTALL
    + Added cairo package information for Darwin/MacPorts and Ubuntu.

  * contrib/hbqt/qtcore/Makefile
    ! Fixed after last commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbcairo/Makefile
    trunk/harbour/contrib/hbqt/qtcore/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From gvarona at ec-red.com  Thu Dec  3 15:26:46 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Thu Dec  3 15:23:44 2009
Subject: [Harbour] Re: Build a self-contained application with QT
In-Reply-To: <hf91et$u7h$1@ger.gmane.org>
References: <hf6lcf$cau$1@ger.gmane.org>	<133778360912030822y78221bc1jf34d7d88fbed7921@mail.gmail.com>	<hf8ric$ags$1@ger.gmane.org>
	<hf91et$u7h$1@ger.gmane.org>
Message-ID: <hf96nh$hhh$1@ger.gmane.org>

[SPA]
Angel Pais escribi?:
> Guillermo:
> El linkeado del programa de forma estatica nbo tiene nada que ver con 
> poder ejecutarse en un pendrive. Si pones el exe con las dll en el 
> pen-drive puede ejecuarlo igual.

Ok. Angel, muchas gracias por la aclaraci?n, sin embargo, aun sigo 
confundido, pense que en "est?tico" todo se podia embeber dentro del EXE 
y que no depende de ningun archvio mas, pero segun me explicas, siempre 
va a ser necesario llevarl las dll.
La siguiente cuesti?n ser?a: ?Cu?l es la diferencia entre din?mico y 
est?tico?

> Por otra parte si linkeas tu programa de forma estatica estas obligado 
> por la licencia de qt a hacerlo open source.
Buen, debido al problema de la barrera idiom?tica (la licencias est?n en 
ingl?s), supongo que no he interpretado / traducido correctamente esta 
parte.

[ENG] By Google
Angel Pais wrote:
 > Guillermo:
 > The Link of a static program nbo has nothing to do with
 > Run on a pendrive. If you put the exe to dll in
 > Pen-drive can be executing the same.

Ok. Angel, thank you very much for the clarification, however, while 
still confused, I thought that in "static" Everything could embed into 
the EXE and it does not require a archvio more, but he told me, always 
going to be necessary dll llevarl .
The next question is: What is the difference between dynamic and static?

 > Furthermore If link your program statically're obligated
 > From qt license to make it open source.
Good, because the problem of language barrier (the licenses are in 
English), I guess I have not interpreted / translated correctly this part.

BestRegards
GVS

From bruno.luciani at gmail.com  Thu Dec  3 15:35:48 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Dec  3 15:35:57 2009
Subject: [Harbour] Re: Build a self-contained application with QT
In-Reply-To: <hf96nh$hhh$1@ger.gmane.org>
References: <hf6lcf$cau$1@ger.gmane.org>
	<133778360912030822y78221bc1jf34d7d88fbed7921@mail.gmail.com>
	<hf8ric$ags$1@ger.gmane.org> <hf91et$u7h$1@ger.gmane.org>
	<hf96nh$hhh$1@ger.gmane.org>
Message-ID: <133778360912031235q760196c9ub230ed5514def45b@mail.gmail.com>

I believe that is important to read INSTALL   file

All the information required is there

Regards
Bruno



Guillermo todas tus dudas estan en el archivo INSTALL

Saludos

Bruno


2009/12/3 Guillermo Varona Silup? <gvarona@ec-red.com>

> [SPA]
> Angel Pais escribi?:
>
>  Guillermo:
>> El linkeado del programa de forma estatica nbo tiene nada que ver con
>> poder ejecutarse en un pendrive. Si pones el exe con las dll en el pen-drive
>> puede ejecuarlo igual.
>>
>
> Ok. Angel, muchas gracias por la aclaraci?n, sin embargo, aun sigo
> confundido, pense que en "est?tico" todo se podia embeber dentro del EXE y
> que no depende de ningun archvio mas, pero segun me explicas, siempre va a
> ser necesario llevarl las dll.
> La siguiente cuesti?n ser?a: ?Cu?l es la diferencia entre din?mico y
> est?tico?
>
>
>  Por otra parte si linkeas tu programa de forma estatica estas obligado por
>> la licencia de qt a hacerlo open source.
>>
> Buen, debido al problema de la barrera idiom?tica (la licencias est?n en
> ingl?s), supongo que no he interpretado / traducido correctamente esta
> parte.
>
> [ENG] By Google
> Angel Pais wrote:
> > Guillermo:
> > The Link of a static program nbo has nothing to do with
> > Run on a pendrive. If you put the exe to dll in
> > Pen-drive can be executing the same.
>
> Ok. Angel, thank you very much for the clarification, however, while still
> confused, I thought that in "static" Everything could embed into the EXE and
> it does not require a archvio more, but he told me, always going to be
> necessary dll llevarl .
> The next question is: What is the difference between dynamic and static?
>
> > Furthermore If link your program statically're obligated
> > From qt license to make it open source.
> Good, because the problem of language barrier (the licenses are in
> English), I guess I have not interpreted / translated correctly this part.
>
> BestRegards
>
> GVS
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091203/c6b8b4b6/attachment-0001.html
From amigosam at adinet.com.uy  Thu Dec  3 15:42:12 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Thu Dec  3 15:42:29 2009
Subject: [Harbour] Re: Build a self-contained application with QT
In-Reply-To: <hf96nh$hhh$1@ger.gmane.org>
References: <hf6lcf$cau$1@ger.gmane.org>	<133778360912030822y78221bc1jf34d7d88fbed7921@mail.gmail.com>	<hf8ric$ags$1@ger.gmane.org>	<hf91et$u7h$1@ger.gmane.org>
	<hf96nh$hhh$1@ger.gmane.org>
Message-ID: <hf97qe$l4d$1@ger.gmane.org>

Guillermo Varona Silup? escribi?:
> [SPA]
> Angel Pais escribi?:
>> Guillermo:
>> El linkeado del programa de forma estatica nbo tiene nada que ver con 
>> poder ejecutarse en un pendrive. Si pones el exe con las dll en el 
>> pen-drive puede ejecuarlo igual.
> 
> Ok. Angel, muchas gracias por la aclaraci?n, sin embargo, aun sigo 
> confundido, pense que en "est?tico" todo se podia embeber dentro del EXE 
> y que no depende de ningun archvio mas, pero segun me explicas, siempre 
> va a ser necesario llevarl las dll.
> La siguiente cuesti?n ser?a: ?Cu?l es la diferencia entre din?mico y 
> est?tico?
> 
>> Por otra parte si linkeas tu programa de forma estatica estas obligado 
>> por la licencia de qt a hacerlo open source.
> Buen, debido al problema de la barrera idiom?tica (la licencias est?n en 
> ingl?s), supongo que no he interpretado / traducido correctamente esta 
> parte.
> 
> [ENG] By Google
> Angel Pais wrote:
>  > Guillermo:
>  > The Link of a static program nbo has nothing to do with
>  > Run on a pendrive. If you put the exe to dll in
>  > Pen-drive can be executing the same.
> 
> Ok. Angel, thank you very much for the clarification, however, while 
> still confused, I thought that in "static" Everything could embed into 
> the EXE and it does not require a archvio more, but he told me, always 
> going to be necessary dll llevarl .
> The next question is: What is the difference between dynamic and static?
> 
>  > Furthermore If link your program statically're obligated
>  > From qt license to make it open source.
> Good, because the problem of language barrier (the licenses are in 
> English), I guess I have not interpreted / translated correctly this part.
> 
> BestRegards
> GVS
> 

With dynamic linking you have to deliver the qt dlls along with your 
exe. In static linking, qt librarys are embebed into the exe file.
Both ways can run from a pen drive.
About the license restriction, it has been mentioned several times in 
this list by english native people. They are the only ones that can 
interpret those criptic documents right.

Brgrds
Angel

From Istvan.Bisz at t-online.hu  Thu Dec  3 16:46:22 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Thu Dec  3 16:46:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>
	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>
Message-ID: <000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>

Hi,

 

The error: undefined reference to `__gxx_personality_v0', listed below is
solved temporally with the force of the ?cpp mode in postins.bat:

 

FROM:

 

   echo ! Making shared version of Harbour binaries...

   "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared
"-o%HB_BIN_INSTALL%\hbrun-dll"    "%~dp0..\utils\hbrun\hbrun.hbp"

   "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared
"-o%HB_BIN_INSTALL%\hbmk2-dll"    "%~dp0..\utils\hbmk2\hbmk2.hbp"

   "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared
"-o%HB_BIN_INSTALL%\hbtest-dll"   "%~dp0..\utils\hbtest\hbtest.hbp"

   "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared
"-o%HB_BIN_INSTALL%\hbi18n-dll"   "%~dp0..\utils\hbi18n\hbi18n.hbp"

   "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared
"-o%HB_BIN_INSTALL%\hbformat-dll" "%~dp0..\utils\hbformat\hbformat.hbp"

 

:_NO_DLL_BIN

 

   if "%HB_PLATFORM%" == "dos" goto _NO_ICON_BIN

   if "%HB_PLATFORM%" == "linux" goto _NO_ICON_BIN

 

   rem ; We build this here, because GNU Make wouldn't add the icon.

   echo ! Making hbrun with application icon...

   "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN
"-o%HB_BIN_INSTALL%\hbrun" "%~dp0..\utils\hbrun\hbrun.hbp"

 

TO:

 

   echo ! Making shared version of Harbour binaries...

   "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared ?cpp
"-o%HB_BIN_INSTALL%\hbrun-dll"    "%~dp0..\utils\hbrun\hbrun.hbp"

   "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared ?cpp
"-o%HB_BIN_INSTALL%\hbmk2-dll"    "%~dp0..\utils\hbmk2\hbmk2.hbp"

   "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared ?cpp
"-o%HB_BIN_INSTALL%\hbtest-dll"   "%~dp0..\utils\hbtest\hbtest.hbp"

   "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared ?cpp
"-o%HB_BIN_INSTALL%\hbi18n-dll"   "%~dp0..\utils\hbi18n\hbi18n.hbp"

   "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared ?cpp
"-o%HB_BIN_INSTALL%\hbformat-dll" "%~dp0..\utils\hbformat\hbformat.hbp"

 

:_NO_DLL_BIN

 

   if "%HB_PLATFORM%" == "dos" goto _NO_ICON_BIN

   if "%HB_PLATFORM%" == "linux" goto _NO_ICON_BIN

 

   rem ; We build this here, because GNU Make wouldn't add the icon.

   echo ! Making hbrun with application icon...

   "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN ?cpp
"-o%HB_BIN_INSTALL%\hbrun" "%~dp0..\utils\hbrun\hbrun.hbp"

 

Best regards,

Istv?n

 

____________________________________________________________________________
____________________________________-

 

! Making shared version of Harbour binaries...

c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbcmplib.o):hbcmplib.c:(.eh_frame
+0x11): undefined reference to `__gxx_personality_v0'

c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbmain.o):hbmain.c:(.eh_frame+0x1
1): undefined reference to `__gxx_personality_v0'

c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbgenerr.o):hbgenerr.c:(.eh_frame
+0x11): undefined reference to `__gxx_personality_v0'

c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbopt.o):hbopt.c:(.eh_frame+0x11)
: undefined reference to `__gxx_personality_v0'

c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbdead.o):hbdead.c:(.eh_frame+0x1
1): undefined reference to `__gxx_personality_v0'

c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbstripl.o):hbstripl.c:(.eh_frame
+0x11): more undefined references to `__gxx_personality_v0' follow

collect2: ld returned 1 exit status

hbmk2: Error: Running linker. 1

c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbcmplib.o):hbcmplib.c:(.eh_frame
+0x11): undefined reference to `__gxx_personality_v0'

c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbmain.o):hbmain.c:(.eh_frame+0x1
1): undefined reference to `__gxx_personality_v0'

c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbgenerr.o):hbgenerr.c:(.eh_frame
+0x11): undefined reference to `__gxx_personality_v0'

c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbopt.o):hbopt.c:(.eh_frame+0x11)
: undefined reference to `__gxx_personality_v0'

c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbdead.o):hbdead.c:(.eh_frame+0x1
1): undefined reference to `__gxx_personality_v0'

c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbstripl.o):hbstripl.c:(.eh_frame
+0x11): more undefined references to `__gxx_personality_v0' follow

collect2: ld returned 1 exit status

hbmk2: Error: Running linker. 1

c:/harbour/mingw/lib/win/mingw/libhbmainstd.a(mainstd.o):mainstd.c:(.eh_fram
e+0x11): undefined reference to `__gxx_personality_v0'

collect2: ld returned 1 exit status

hbmk2: Error: Running linker. 1

c:/harbour/mingw/lib/win/mingw/libhbmainstd.a(mainstd.o):mainstd.c:(.eh_fram
e+0x11): undefined reference to `__gxx_personality_v0'

collect2: ld returned 1 exit status

hbmk2: Error: Running linker. 1

c:/harbour/mingw/lib/win/mingw/libhbmainstd.a(mainstd.o):mainstd.c:(.eh_fram
e+0x11): undefined reference to `__gxx_personality_v0'

collect2: ld returned 1 exit status

hbmk2: Error: Running linker. 1

! Making hbrun with application icon...

c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbcmplib.o):hbcmplib.c:(.eh_frame
+0x11): undefined reference to `__gxx_personality_v0'

c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbmain.o):hbmain.c:(.eh_frame+0x1
1): undefined reference to `__gxx_personality_v0'

c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbgenerr.o):hbgenerr.c:(.eh_frame
+0x11): undefined reference to `__gxx_personality_v0'

c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbopt.o):hbopt.c:(.eh_frame+0x11)
: undefined reference to `__gxx_personality_v0'

c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbdead.o):hbdead.c:(.eh_frame+0x1
1): undefined reference to `__gxx_personality_v0'

c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbstripl.o):hbstripl.c:(.eh_frame
+0x11): more undefined references to `__gxx_personality_v0' follow

collect2: ld returned 1 exit status

hbmk2: Error: Running linker. 1

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091203/4cf93832/attachment-0001.html
From mbelgrano at deltain.it  Thu Dec  3 17:12:01 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec  3 17:12:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
Message-ID: <609353e70912031412i19c8c504q511e1fd5eae4ac46@mail.gmail.com>

your trick require SET HB_COMPILER not created with SET HB_COMPILER=mingw
dwarf2 seem not work

2009/12/3 <vszakats@users.sourceforge.net>

> Revision: 13103
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13103&view=rev
> Author:   vszakats
> Date:     2009-12-03 15:04:28 +0000 (Thu, 03 Dec 2009)
>
> Log Message:
> -----------
> 2009-12-03 16:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * config/global.mk
>   * utils/hbmk2/hbmk2.prg
>     + Added autodetection of DWARF-2 build of mingw.
>       This is mingw build is required for QT 4.6.0.
>
>   * utils/hbmk2/hbmk2.prg
>     ! Fixed to consider HB_CCPOSTFIX setting when trying to autodetect
> gcc/win, gcc/wce.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/config/global.mk
>    trunk/harbour/utils/hbmk2/hbmk2.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091203/dfc6ff95/attachment.html
From harbour.01 at syenar.hu  Thu Dec  3 17:16:15 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec  3 17:16:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <609353e70912031412i19c8c504q511e1fd5eae4ac46@mail.gmail.com>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
	<609353e70912031412i19c8c504q511e1fd5eae4ac46@mail.gmail.com>
Message-ID: <DA3E16DE-A678-4E97-87C7-ECD7FA03F5BA@syenar.hu>

> your trick require SET HB_COMPILER not created with SET HB_COMPILER=mingw dwarf2 seem not work

Sorry I don't understand. Here it doesn't require HB_COMPILER 
this was the whole point of modification.

Brdgs,
Viktor

From mbelgrano at deltain.it  Thu Dec  3 17:22:31 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec  3 17:22:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <DA3E16DE-A678-4E97-87C7-ECD7FA03F5BA@syenar.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com> 
	<609353e70912031412i19c8c504q511e1fd5eae4ac46@mail.gmail.com> 
	<DA3E16DE-A678-4E97-87C7-ECD7FA03F5BA@syenar.hu>
Message-ID: <609353e70912031422n1dd662a4j721753ff2b925276@mail.gmail.com>

Try with a HB_COMPILER=mingw

2009/12/3 Viktor Szak?ts <harbour.01@syenar.hu>

> > your trick require SET HB_COMPILER not created with SET HB_COMPILER=mingw
> dwarf2 seem not work
>
> Sorry I don't understand. Here it doesn't require HB_COMPILER
> this was the whole point of modification.
>
> Brdgs,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

I
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091203/a80b64b5/attachment.html
From dbtopas at dbtopas.lt  Thu Dec  3 17:31:48 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Dec  3 17:33:30 2009
Subject: [Harbour] HB_SYMBOL_UNUSED()
In-Reply-To: <F1AA485B-D2EB-47FA-A534-D318277822D0@syenar.hu>
References: <4B17FBD2.8000202@dbtopas.lt>	<20091203194215.GA21990@linux-4bod.home.aster.pl>
	<F1AA485B-D2EB-47FA-A534-D318277822D0@syenar.hu>
Message-ID: <4B183C54.30007@dbtopas.lt>

Hi,

Viktor Szak?ts wrote:
> Great. But folks pls lets not commit it to Harbour SVN, 
> otherwise there will yet another things which will need 
> permanent cleanup to keep our codebase coherent.

No problem for me, but I do not understand that is wrong with such 
commit, and what kind of cleanup are you talk about. One parameter is 
still valid way to "call" HB_SYMBOL_UNUSED(), you do not need to define 
an extra unused local variable to pass at lease two of them.


Regards,
Mindaugas

From harbour.01 at syenar.hu  Thu Dec  3 17:33:35 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec  3 17:33:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>
	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>
	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>
Message-ID: <71EF27A2-137B-422E-8ECC-78678D0FBBE0@syenar.hu>

I'd suggest HBMK_OPTIONS=-cpp for temporary solution.

Otherwise I have no idea how to solve that, but to be 
honest I begin to give up maintaing the zillions of 
combinations and working around strange issues of 
strange tool releases. Probably we should focus on 
some combinations which can be made work using 
reasonable effort and which can be easily reproduced 
by most users.

First of all there exist no proper DWARF2 MinGW 
release, so this will give a continues stream of 
problems on the user side. Current method of unzipping 
some stuff while overwriting some files isn't 
very obvious/safe thing to do.

Overall this 4.6.0 QT release looks like a smaller 
disaster. At least they could have made a "unified"
release and not separate mingw and msvc version 
with same target dir, but colliding content. Plus 
the mess with this MinGW requirement...

Brgds,
Viktor

On 2009 Dec 3, at 22:46, Bisz Istv?n wrote:

> Hi,
>  
> The error: undefined reference to `__gxx_personality_v0', listed below is solved temporally with the force of the ?cpp mode in postins.bat:
>  
> FROM:
>  
>    echo ! Making shared version of Harbour binaries...
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared "-o%HB_BIN_INSTALL%\hbrun-dll"    "%~dp0..\utils\hbrun\hbrun.hbp"
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared "-o%HB_BIN_INSTALL%\hbmk2-dll"    "%~dp0..\utils\hbmk2\hbmk2.hbp"
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared "-o%HB_BIN_INSTALL%\hbtest-dll"   "%~dp0..\utils\hbtest\hbtest.hbp"
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared "-o%HB_BIN_INSTALL%\hbi18n-dll"   "%~dp0..\utils\hbi18n\hbi18n.hbp"
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared "-o%HB_BIN_INSTALL%\hbformat-dll" "%~dp0..\utils\hbformat\hbformat.hbp"
>  
> :_NO_DLL_BIN
>  
>    if "%HB_PLATFORM%" == "dos" goto _NO_ICON_BIN
>    if "%HB_PLATFORM%" == "linux" goto _NO_ICON_BIN
>  
>    rem ; We build this here, because GNU Make wouldn't add the icon.
>    echo ! Making hbrun with application icon...
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN "-o%HB_BIN_INSTALL%\hbrun" "%~dp0..\utils\hbrun\hbrun.hbp"
>  
> TO:
>  
>    echo ! Making shared version of Harbour binaries...
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared ?cpp "-o%HB_BIN_INSTALL%\hbrun-dll"    "%~dp0..\utils\hbrun\hbrun.hbp"
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared ?cpp "-o%HB_BIN_INSTALL%\hbmk2-dll"    "%~dp0..\utils\hbmk2\hbmk2.hbp"
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared ?cpp "-o%HB_BIN_INSTALL%\hbtest-dll"   "%~dp0..\utils\hbtest\hbtest.hbp"
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared ?cpp "-o%HB_BIN_INSTALL%\hbi18n-dll"   "%~dp0..\utils\hbi18n\hbi18n.hbp"
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared ?cpp "-o%HB_BIN_INSTALL%\hbformat-dll" "%~dp0..\utils\hbformat\hbformat.hbp"
>  
> :_NO_DLL_BIN
>  
>    if "%HB_PLATFORM%" == "dos" goto _NO_ICON_BIN
>    if "%HB_PLATFORM%" == "linux" goto _NO_ICON_BIN
>  
>    rem ; We build this here, because GNU Make wouldn't add the icon.
>    echo ! Making hbrun with application icon...
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN ?cpp "-o%HB_BIN_INSTALL%\hbrun" "%~dp0..\utils\hbrun\hbrun.hbp"
>  
> Best regards,
> Istv?n
>  
> ________________________________________________________________________________________________________________-
>  
> ! Making shared version of Harbour binaries...
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbcmplib.o):hbcmplib.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbmain.o):hbmain.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbgenerr.o):hbgenerr.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbopt.o):hbopt.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbdead.o):hbdead.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbstripl.o):hbstripl.c:(.eh_frame+0x11): more undefined references to `__gxx_personality_v0' follow
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbcmplib.o):hbcmplib.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbmain.o):hbmain.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbgenerr.o):hbgenerr.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbopt.o):hbopt.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbdead.o):hbdead.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbstripl.o):hbstripl.c:(.eh_frame+0x11): more undefined references to `__gxx_personality_v0' follow
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> c:/harbour/mingw/lib/win/mingw/libhbmainstd.a(mainstd.o):mainstd.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> c:/harbour/mingw/lib/win/mingw/libhbmainstd.a(mainstd.o):mainstd.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> c:/harbour/mingw/lib/win/mingw/libhbmainstd.a(mainstd.o):mainstd.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> ! Making hbrun with application icon...
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbcmplib.o):hbcmplib.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbmain.o):hbmain.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbgenerr.o):hbgenerr.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbopt.o):hbopt.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbdead.o):hbdead.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbstripl.o):hbstripl.c:(.eh_frame+0x11): more undefined references to `__gxx_personality_v0' follow
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
>  
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Dec  3 17:36:12 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec  3 17:36:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <609353e70912031422n1dd662a4j721753ff2b925276@mail.gmail.com>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
	<609353e70912031412i19c8c504q511e1fd5eae4ac46@mail.gmail.com>
	<DA3E16DE-A678-4E97-87C7-ECD7FA03F5BA@syenar.hu>
	<609353e70912031422n1dd662a4j721753ff2b925276@mail.gmail.com>
Message-ID: <939AC5D3-2E86-48CD-86F3-47E5436E8EDB@syenar.hu>

But, try what? Forcing plain mingw on a DWARF build? 
Why is this good? Please report errors, I don't have 
capacity to make investigation for every such report.

Please keep a separate DWARF and non-DWARF mingw 
build and set PATH accordingly and let autodetection 
do its work.

Probably I'll remove DWARF support from SVN, as it 
seems too problematic for us. At least I don't have 
time to support it.

Brgds,
Viktor

On 2009 Dec 3, at 23:22, Massimo Belgrano wrote:

> Try with a HB_COMPILER=mingw
> 
> 2009/12/3 Viktor Szak?ts <harbour.01@syenar.hu>
> > your trick require SET HB_COMPILER not created with SET HB_COMPILER=mingw dwarf2 seem not work
> 
> Sorry I don't understand. Here it doesn't require HB_COMPILER
> this was the whole point of modification.
> 
> Brdgs,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> 
> -- 
> Massimo Belgrano
> 
> I
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Dec  3 17:46:46 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec  3 17:46:55 2009
Subject: [Harbour] HB_SYMBOL_UNUSED()
In-Reply-To: <4B183C54.30007@dbtopas.lt>
References: <4B17FBD2.8000202@dbtopas.lt>	<20091203194215.GA21990@linux-4bod.home.aster.pl>
	<F1AA485B-D2EB-47FA-A534-D318277822D0@syenar.hu>
	<4B183C54.30007@dbtopas.lt>
Message-ID: <59B20497-7478-43A6-A956-1F7D19C2EBE0@syenar.hu>

> Viktor Szak?ts wrote:
>> Great. But folks pls lets not commit it to Harbour SVN, otherwise there will yet another things which will need permanent cleanup to keep our codebase coherent.
> 
> No problem for me, but I do not understand that is wrong with such commit, and what kind of cleanup are you talk about. One parameter is still valid way to "call" HB_SYMBOL_UNUSED(), you do not need to define an extra unused local variable to pass at lease two of them.

It's an option which adds just unnecessary "flexibility".
The point of this macro is to _avoid it_, not to overuse it.
Multiple params is just another synonym which makes editing 
and grepping harder and more error prone. I'm telling this 
after having been cleaned many tens of thousands of .prg 
code in Harbour SVN alone.

So I don't see a reason why we should optimize such call 
and create another syntax variation for it, when it should 
be seldom used anyway in final code.

BTW no wonder the macro name is long... It's not meant to 
be typed in huge amounts.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Thu Dec  3 18:20:52 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec  3 18:20:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13109] trunk/harbour
Message-ID: <E1NGKyi-00074p-9F@dn4whf1.ch3.sourceforge.com>

Revision: 13109
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13109&view=rev
Author:   vszakats
Date:     2009-12-03 23:20:47 +0000 (Thu, 03 Dec 2009)

Log Message:
-----------
2009-12-04 00:18 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * utils/hbmk2/hbmk2.prg
     ! Added -debug linker option when building .dll for msvc and compatible targets.
     ! Fixed minor regression in embedded CRLFs of hbmk2 texts.

   * config/win/msvc.mk
   * utils/hbmk2/hbmk2.prg
     + Added -MT/-MTd for win/msvc compatible targets when verison is 7.1 (.NET 2003)
       or older. On these versions this will assure that multithreading C RTL is 
       being used (at the same time forcing static C RTL).

   * config/wce/msvcarm.mk
   * config/win/msvc.mk
     + Added -debug linker option for executables.
     ; TODO: Add it for .dlls too.

   * config/globsh.mk
     + Deleting (MSVC) .pdb and .ilk files for executables and dynlibs on 'make clean'.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/globsh.mk
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Thu Dec  3 18:24:16 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Dec  3 18:24:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13110] trunk/harbour
Message-ID: <E1NGL20-00038s-Db@bj8yhf1.ch3.sourceforge.com>

Revision: 13110
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13110&view=rev
Author:   druzus
Date:     2009-12-03 23:24:14 +0000 (Thu, 03 Dec 2009)

Log Message:
-----------
2009-12-04 00:23 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/rddads/ads1.c
    * added support for dynamic descend flag switching by
         ordDescend( [<tag>], [<bag>], <lDescending> ) -> <lPrevSetting>
      It needs ADS 9.00 or higher and it's ignored in earlier ADS versions.
      Based on Brian Hayes modification in xHarbour ADS RDD.

  * harbour/src/rdd/dbfntx/dbfntx1.c
  * harbour/src/rdd/dbfnsx/dbfnsx1.c
  * harbour/src/rdd/dbfcdx/dbfcdx1.c
  * harbour/contrib/rddads/ads1.c
    * modified ordSkipUnique() to be compatible with CL53 - it means
      that the passed parameter has a little bit different meaning when
      table has active index and it hasn't.
      If no index is active (natural order) then passed parameter is number
      of records to skip just like in dbSkip() function otherwise it's only
      direction choice so negative value means backward skipping and
      zero or positive means forward skipping.
      We may decide to change this behavior anyhow please remember that
      it's not such clear what number of records to skip should mean during
      skipping with active order having repeated key values and with working
      filters which also can exclude some records. It's possible to create
      few algorithms giving different results for some conditions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/src/rdd/dbfntx/dbfntx1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Dec  3 18:44:42 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec  3 18:44:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13111] trunk/harbour
Message-ID: <E1NGLLm-0007fv-3R@dn4whf1.ch3.sourceforge.com>

Revision: 13111
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13111&view=rev
Author:   vszakats
Date:     2009-12-03 23:44:40 +0000 (Thu, 03 Dec 2009)

Log Message:
-----------
2009-12-04 00:41 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/beos/gcc.mk
  * config/bsd/gcc.mk
  * config/wce/mingwarm.mk
  * config/wce/poccarm.mk
  * config/wce/msvcarm.mk
  * config/hpux/gcc.mk
  * config/darwin/gcc.mk
  * config/darwin/icc.mk
  * config/darwin/clang.mk
  * config/dos/watcom.mk
  * config/dos/djgpp.mk
  * config/common/watcom.mk
  * config/win/xcc.mk
  * config/win/mingw.mk
  * config/win/pocc.mk
  * config/win/bcc.mk
  * config/win/watcom.mk
  * config/win/icc.mk
  * config/win/cygwin.mk
  * config/win/msvc.mk
  * config/linux/watcom.mk
  * config/linux/gcc.mk
  * config/linux/icc.mk
  * config/linux/clang.mk
  * config/linux/sunpro.mk
  * config/os2/watcom.mk
  * config/os2/gcc.mk
  * config/sunos/gcc.mk
  * config/sunos/sunpro.mk
    * Initializing LDFLAGS, DFLAGS and ARFLAGS at the beginning of files.
      This allows to easily add to these var according to build settings.
      It also syncs all .mk files to use the same layout in this regard.

  * config/wce/msvcarm.mk
  * config/win/msvc.mk
    + Added -debug linker option to .dll linking for msvc/msvcarm targets.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/beos/gcc.mk
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/config/common/watcom.mk
    trunk/harbour/config/darwin/clang.mk
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/darwin/icc.mk
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/config/dos/watcom.mk
    trunk/harbour/config/hpux/gcc.mk
    trunk/harbour/config/linux/clang.mk
    trunk/harbour/config/linux/gcc.mk
    trunk/harbour/config/linux/icc.mk
    trunk/harbour/config/linux/sunpro.mk
    trunk/harbour/config/linux/watcom.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/config/sunos/gcc.mk
    trunk/harbour/config/sunos/sunpro.mk
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/config/win/cygwin.mk
    trunk/harbour/config/win/icc.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/config/win/pocc.mk
    trunk/harbour/config/win/watcom.mk
    trunk/harbour/config/win/xcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Dec  3 19:06:58 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec  3 19:07:09 2009
Subject: [Harbour] QT for MSVC and Harbour
In-Reply-To: <18d502870912030843r66cedb92i650187aa1ac28716@mail.gmail.com>
References: <53E0B60C-1FAD-45A8-B2BF-5DC8D534BE01@syenar.hu>
	<609353e70912030313k7675698q338c15134a35fcde@mail.gmail.com>
	<A231FDD3-086A-4781-8DFC-BC7D858556B3@syenar.hu>
	<-7438082928333224985@unknownmsgid>
	<18d502870912030843r66cedb92i650187aa1ac28716@mail.gmail.com>
Message-ID: <E718A529-A390-4859-84FE-D4C7FF56C408@syenar.hu>

So I finally managed to use Harbour with QT for MSVC.
(just some obvious bits were missing)

So:

Whole Harbour needs to be built with -MD C compiler option, 
and the final apps as well:

> win-make HB_USER_CFLAGS=-MD
> hbmk2 hbide.hbp -cflag=-MD

Due to beautiful nature of C++, the mingw .dlls are not 
working with MSVC apps, so you must use the .dlls that 
come with QT for MSVC.

This is so clumsy that I won't care to document it in 
INSTALL. Bookmark this e-mail for future reference if you're 
interested in this scenario.

Brgds,
Viktor

On 2009 Dec 3, at 17:43, Viktor Szak?ts wrote:

> No doubt it's useful. It's just a lot of time. BTW, I got stuck with
> the msvc 4.6 qt, it'd nice if this could be checked by an msvc2008
> user.
> 
> 2009/12/3, Bisz Istv?n <Istvan.Bisz@t-online.hu>:
>> Hi Viktor,
>> 
>>> No, it's the result of moving my "unofficial" beta3
>>> packages from my web host to sf.net. This directed the traffic
>>> to sf.net, which is calculated to the rank by sf.net engine.
>> 
>> Maybe a beta4, with the new settings/findings with Qt4.6 is useful for the
>> community, how do you think?
>> 
>> Best regards,
>> Istv?n
>> 
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
> 
> -- 
> Saj?t mobilk?sz?l?kemr?l k?ldve

From vszakats at users.sourceforge.net  Thu Dec  3 19:47:20 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec  3 19:47:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13112] trunk/harbour
Message-ID: <E1NGMKO-00010X-5L@dn4whf1.ch3.sourceforge.com>

Revision: 13112
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13112&view=rev
Author:   vszakats
Date:     2009-12-04 00:47:16 +0000 (Fri, 04 Dec 2009)

Log Message:
-----------
2009-12-04 01:45 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/beos/gcc.mk
  * config/global.mk
  * config/bsd/gcc.mk
  * config/wce/mingwarm.mk
  * config/wce/poccarm.mk
  * config/wce/msvcarm.mk
  * config/hpux/gcc.mk
  * config/darwin/gcc.mk
  * config/darwin/icc.mk
  * config/darwin/clang.mk
  * config/dos/watcom.mk
  * config/dos/djgpp.mk
  * config/win/xcc.mk
  * config/win/mingw.mk
  * config/win/pocc.mk
  * config/win/bcc.mk
  * config/win/watcom.mk
  * config/win/icc.mk
  * config/win/cygwin.mk
  * config/win/msvc.mk
  * config/linux/watcom.mk
  * config/linux/gcc.mk
  * config/linux/icc.mk
  * config/linux/clang.mk
  * config/linux/sunpro.mk
  * config/os2/watcom.mk
  * config/os2/gcc.mk
  * config/sunos/gcc.mk
  * config/sunos/sunpro.mk
    % Moved initialization of *FLAGS vars into global.mk.
      Compiler .mk files only append to these vars.
    * Minor syncing between compilers regarding initial CFLAGS setup.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/beos/gcc.mk
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/config/darwin/clang.mk
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/darwin/icc.mk
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/config/dos/watcom.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/hpux/gcc.mk
    trunk/harbour/config/linux/clang.mk
    trunk/harbour/config/linux/gcc.mk
    trunk/harbour/config/linux/icc.mk
    trunk/harbour/config/linux/sunpro.mk
    trunk/harbour/config/linux/watcom.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/config/sunos/gcc.mk
    trunk/harbour/config/sunos/sunpro.mk
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/config/win/cygwin.mk
    trunk/harbour/config/win/icc.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/config/win/pocc.mk
    trunk/harbour/config/win/watcom.mk
    trunk/harbour/config/win/xcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Thu Dec  3 20:50:19 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Dec  3 20:50:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13113] trunk/harbour
Message-ID: <E1NGNJL-00014C-Gn@d5vjzd1.ch3.sourceforge.com>

Revision: 13113
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13113&view=rev
Author:   druzus
Date:     2009-12-04 01:50:14 +0000 (Fri, 04 Dec 2009)

Log Message:
-----------
2009-12-04 02:49 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbcairo/util.c
  * harbour/contrib/hbcairo/image.c
  * harbour/contrib/hbcairo/context.c
    ! fixed casting for some more pedantic C++ compilers

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbcairo/context.c
    trunk/harbour/contrib/hbcairo/image.c
    trunk/harbour/contrib/hbcairo/util.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Thu Dec  3 21:02:35 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Dec  3 21:02:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13114] trunk/harbour
Message-ID: <E1NGNVD-0002s3-Ip@dn4whf1.ch3.sourceforge.com>

Revision: 13114
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13114&view=rev
Author:   vouchcac
Date:     2009-12-04 02:02:34 +0000 (Fri, 04 Dec 2009)

Log Message:
-----------
2009-12-03 18:03 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.ch
  * contrib/hbide/hbide.prg
  * contrib/hbide/idemisc.prg
  * contrib/hbide/idetags.prg
  * contrib/hbide/resources/projectproperties.ui
    ! More near  TO project properties, will be ready by tomorrow.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.ch
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/idetags.prg
    trunk/harbour/contrib/hbide/resources/projectproperties.ui


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Thu Dec  3 21:41:50 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Dec  3 21:41:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13115] trunk/harbour
Message-ID: <E1NGO7C-0001pw-F7@d5vjzd1.ch3.sourceforge.com>

Revision: 13115
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13115&view=rev
Author:   druzus
Date:     2009-12-04 02:41:49 +0000 (Fri, 04 Dec 2009)

Log Message:
-----------
2009-12-04 03:41 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/rddads/ads1.c
    ! fixed ordSkipUnique() to properly update BOF/EOF flags, skip over
      ADS BOF phantom record and respect not optimized local filters

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/ads1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Fri Dec  4 02:32:30 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Dec  4 02:32:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13116] trunk/harbour
Message-ID: <E1NGSeU-0001At-8A@dn4whf1.ch3.sourceforge.com>

Revision: 13116
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13116&view=rev
Author:   vouchcac
Date:     2009-12-04 07:32:29 +0000 (Fri, 04 Dec 2009)

Log Message:
-----------
2009-12-03 23:24 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.ch
  * contrib/hbide/hbide.prg
  * contrib/hbide/idemisc.prg
    ! Implemented <New Project> and <Load Project> prompts of 
      context menu of <Projects> node of <Project Tree>.

  + contrib/hbide/projects/hbide.hbi
    ! Demonstration project file to show the basic protocol used to 
      execute next compile/link actions.

      This implementation includes real-time view of the resultant
      .hbp file which will be supplied to HBMK2. Because, this is going
      to be a proposed engine, please experiment with the interface.
      Just change diffenrent components and click on <.hbp> tab page.
      It will reflect what the final .hbp will be supplied to HBMK2.
      I want to be sure I am not missing something.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.ch
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idemisc.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/projects/hbide.hbi


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Fri Dec  4 03:45:56 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Dec  4 03:46:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13116] trunk/harbour
In-Reply-To: <E1NGSeU-0001At-8A@dn4whf1.ch3.sourceforge.com>
References: <E1NGSeU-0001At-8A@dn4whf1.ch3.sourceforge.com>
Message-ID: <609353e70912040045y11c4df36ga4a5ca2865034f2f@mail.gmail.com>

I have see project definition in source tab button select can't work
i suggest add  "Additional library/rc"
"additional external element" like text file(documentation of project )  not
included in make
How use load project and  compile/link?
When i activate load module function list it not remember at next execution
of hbide (persistence)
i remember that writing FUNC in UPPER not allow work module function list
func will be write in any combination of lover LIKE FunC ,FUNCTI, FUNCTIO
,FUNctION
try a project with only
FUNC MAIN_ARCA
RETURN


Interesting that HBIDE will employ the concept of meta-data which will be
used to parse the paths or other info supplied to the interface.Usually
meta-key is enclosed in curly braces, but due to the fact that HBMK2 already
exploits it, HBIDE will recognize meta-key in angled brackets.

entering meta-keys and their values like :MySourcePath =
c:/dev_sources/vouch in the QTextEdit below. Then whereever you will supply
any key anywhere in the input fields of HBIDE interface, just enclose it in
angled brackets like   <MySourcePath>/vouch.prg.

Note that keys are case sensitive.



2009/12/4 <vouchcac@users.sourceforge.net>

> Revision: 13116
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13116&view=rev
> Author:   vouchcac
> Date:     2009-12-04 07:32:29 +0000 (Fri, 04 Dec 2009)
>
> Log Message:
> -----------
> 2009-12-03 23:24 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbide/hbide.ch
>  * contrib/hbide/hbide.prg
>  * contrib/hbide/idemisc.prg
>    ! Implemented <New Project> and <Load Project> prompts of
>      context menu of <Projects> node of <Project Tree>.
>
>  + contrib/hbide/projects/hbide.hbi
>    ! Demonstration project file to show the basic protocol used to
>      execute next compile/link actions.
>
>      This implementation includes real-time view of the resultant
>      .hbp file which will be supplied to HBMK2. Because, this is going
>      to be a proposed engine, please experiment with the interface.
>      Just change diffenrent components and click on <.hbp> tab page.
>      It will reflect what the final .hbp will be supplied to HBMK2.
>      I want to be sure I am not missing something.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbide/hbide.ch
>    trunk/harbour/contrib/hbide/hbide.prg
>    trunk/harbour/contrib/hbide/idemisc.prg
>
> Added Paths:
> -----------
>    trunk/harbour/contrib/hbide/projects/hbide.hbi
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091204/c7f0f0aa/attachment-0001.html
From vszakats at users.sourceforge.net  Fri Dec  4 04:32:32 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec  4 04:32:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13117] trunk/harbour
Message-ID: <E1NGUWe-00023N-VF@74yxhf1.ch3.sourceforge.com>

Revision: 13117
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13117&view=rev
Author:   vszakats
Date:     2009-12-04 09:32:31 +0000 (Fri, 04 Dec 2009)

Log Message:
-----------
2009-12-04 10:29 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/tests/testprn.prg
    ! Fixed to fit all examples on the page.

  * contrib/hbwin/win_prn1.c
    % Minor optimization.
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/tests/testprn.prg
    trunk/harbour/contrib/hbwin/win_prn1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Fri Dec  4 06:21:43 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Fri Dec  4 06:21:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <71EF27A2-137B-422E-8ECC-78678D0FBBE0@syenar.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>
	<71EF27A2-137B-422E-8ECC-78678D0FBBE0@syenar.hu>
Message-ID: <001c01ca74d3$f62e6e80$e28b4b80$@Bisz@t-online.hu>

> I'd suggest HBMK_OPTIONS=-cpp for temporary solution.

Thank you.
 
>Otherwise I have no idea how to solve that, but to be 
>honest I begin to give up maintaing the zillions of 
>combinations and working around strange issues of 
>strange tool releases. Probably we should focus on 
>some combinations which can be made work using 
>reasonable effort and which can be easily reproduced 
>by most users.

Please find attached an easy way to put in work hbide with MinGW & Qt 4.6
from my point of view.
This can be the "good start" point requested on this list.

>First of all there exist no proper DWARF2 MinGW 
>release, so this will give a continues stream of 
>problems on the user side. Current method of unzipping 
>some stuff while overwriting some files isn't 
>very obvious/safe thing to do.

The MinGW GCC 4.4.0 is implicit DWARF-2 compliant as I know correctly.
Our problem here is that the recommended TDM GCC 4.4.1 default installation
is SJLJ compliant, but offers via zip files both unwinding.
  
>Overall this 4.6.0 QT release looks like a smaller 
>disaster. At least they could have made a "unified"
>release and not separate mingw and msvc version 
>with same target dir, but colliding content. Plus 
>the mess with this MinGW requirement...

The release is "unified" at least at source level from now.

Best regards,
Istv?n

-------------- next part --------------
A non-text attachment was scrubbed...
Name: MinGW-hbide-build.zip
Type: application/x-zip-compressed
Size: 583 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091204/d931a62a/MinGW-hbide-build.bin
From snaiperis at users.sourceforge.net  Fri Dec  4 08:57:11 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Fri Dec  4 08:57:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13118] trunk/harbour
Message-ID: <E1NGYel-0007Q0-HH@c3vjzd1.ch3.sourceforge.com>

Revision: 13118
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13118&view=rev
Author:   snaiperis
Date:     2009-12-04 13:57:10 +0000 (Fri, 04 Dec 2009)

Log Message:
-----------
2009-12-04 15:55 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/src/rdd/dbf1.c
    ! fixed variable length field setting after DBCREATE()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rdd/dbf1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Fri Dec  4 08:59:23 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Dec  4 09:01:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13118] trunk/harbour
In-Reply-To: <E1NGYel-0007Q0-HH@c3vjzd1.ch3.sourceforge.com>
References: <E1NGYel-0007Q0-HH@c3vjzd1.ch3.sourceforge.com>
Message-ID: <4B1915BB.2050500@dbtopas.lt>

Hi,


snaiperis@users.sourceforge.net wrote:
> 2009-12-04 15:55 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
>   * harbour/src/rdd/dbf1.c
>     ! fixed variable length field setting after DBCREATE()

I hope I didn't break some important part of Harbour. Please test. Here 
is my test code (hex viewer would be also useful).


Regards,
Mindaugas


#include "dbinfo.ch"

REQUEST DBFCDX

PROC main()
   FIELD F
   RDDSETDEFAULT("DBFCDX")
   DBCREATE("test183", {{"F", "Q", 4, 0}},, .T., "test183")
   DBAPPEND()
   F := "abc"
   ? LEN(F), HB_STRTOHEX(F)
   ? HB_STRTOHEX(DBRECORDINFO(DBRI_RAWRECORD))
   DBAPPEND()
   F := "1234"
   DBDELETE()
   ? LEN(F), HB_STRTOHEX(F)
   ? HB_STRTOHEX(DBRECORDINFO(DBRI_RAWRECORD))
   DBGOTOP()
   ? LEN(F), HB_STRTOHEX(F)
   ? HB_STRTOHEX(DBRECORDINFO(DBRI_RAWRECORD))
   DBCLOSEAREA()
   DBUSEAREA(.T.,, "test183")
   ? LEN(F), HB_STRTOHEX(F)
   ? HB_STRTOHEX(DBRECORDINFO(DBRI_RAWRECORD))
   DBCLOSEAREA()
RETURN
From harbour.01 at syenar.hu  Fri Dec  4 11:22:32 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Dec  4 11:22:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13074] trunk/harbour
In-Reply-To: <4B1420E0.2060003@dbtopas.lt>
References: <E1NFC0U-0008Rg-E7@d5vjzd1.ch3.sourceforge.com>
	<4B1420E0.2060003@dbtopas.lt>
Message-ID: <4B61EDFE-2685-4B5B-A05A-8EE16CF20A07@syenar.hu>

Hi Mindaugas,

> 2) I'm a little confused how to implement GC pointers. So, I've implemented two version in hbcairo/core.c. It can be selected [not]using HB_USE_ITEM define. In current code the switch is not defined and more "low level" version is used (actually, I even forgot to test using HB_USE_ITEM). Are these GC pointer implementations correct? A few subquestions are:
> 
> 2a) hb_gcRefInc()/hb_gcRefDec() is required without HB_USE_ITEM. This requires define _HB_API_INTERNAL_. Is this OK?

I think it's not very good to use internal API in non-core code.
It gives wrong ideas for 3rd party developers and it also needs 
extra attention when modifying core code and dealing with compatibility.

I'm note sure about the actual problem this is required for, but 
IMO this should be solved using documented and public APIs.

If there is some sort of special case with cairo, that cannot be 
solved with current public API, we should think about how to 
change the public API to make a proper solution possible.

I hope Przemek add his comments on this.

Bgrds,
Viktor

From snaiperis at users.sourceforge.net  Fri Dec  4 11:41:50 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Fri Dec  4 11:42:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13119] trunk/harbour
Message-ID: <E1NGbE6-0000CW-Ul@74yxhf1.ch3.sourceforge.com>

Revision: 13119
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13119&view=rev
Author:   snaiperis
Date:     2009-12-04 16:41:49 +0000 (Fri, 04 Dec 2009)

Log Message:
-----------
2009-12-04 18:40 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/rddads/ads1.c
    ! added comment and workaround to invalid AdsGotoRecord( hTable, 0 )
      behavior 

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/ads1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Fri Dec  4 12:29:46 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Dec  4 12:31:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13074] trunk/harbour
In-Reply-To: <4B61EDFE-2685-4B5B-A05A-8EE16CF20A07@syenar.hu>
References: <E1NFC0U-0008Rg-E7@d5vjzd1.ch3.sourceforge.com>	<4B1420E0.2060003@dbtopas.lt>
	<4B61EDFE-2685-4B5B-A05A-8EE16CF20A07@syenar.hu>
Message-ID: <4B19470A.4050306@dbtopas.lt>

Hi,


Viktor Szak?ts wrote:
>> 2) I'm a little confused how to implement GC pointers. So, I've implemented two version in hbcairo/core.c. It can be selected [not]using HB_USE_ITEM define. In current code the switch is not defined and more "low level" version is used (actually, I even forgot to test using HB_USE_ITEM). Are these GC pointer implementations correct? A few subquestions are:
>>
>> 2a) hb_gcRefInc()/hb_gcRefDec() is required without HB_USE_ITEM. This requires define _HB_API_INTERNAL_. Is this OK?
> 
> If there is some sort of special case with cairo, that cannot be 
> solved with current public API, we should think about how to 
> change the public API to make a proper solution possible.

I did not want to use extra container for GC pointer. This code operates 
on low level things like GC mark and programmer must know how GC work, 
so I do not think it can not use hb_gcRefInc/Dec. These functions are 
not more internal in that context.

I do not think there is something special in cairo. These GC references 
was implemented just a few weeks ago, so, I think cairo is only one of 
first code that started to use it.

I've tried to look at OLE implementation, and this does not look very 
clean to me. In HB_OLE GC structure, pCallback is a pointer to PHB_ITEM 
(not PHB_ITEM itself) and it points to callback item from ISink object 
from ActiveX. It is not obvious that ISink object will not be released 
before HB_OLE will be destroyed (otherwise HB_OLE->pCallback can point 
to random memory content). hb_gcUnlock in olecore.c:248 is much more 
difficult to understand, that hb_gcRefInc/Dec in cairo code. I 
understand that there is a little different situation callback support. 
Storing pointer to PHB_CODEBLOCK is touching internals of Harbour VM and 
you could not store PHB_CODEBLOCK in HB_OLE, but in cairo code GC block 
containing cairo_t* is not a hidden internal - you need to operate on 
it. Though, all such code is placed in hbcairo/core.c and not accessable 
from outside.


> I hope Przemek add his comments on this.

Yes, comment would be very valuable.



Regards,
Mindaugas
From harbour.01 at syenar.hu  Fri Dec  4 12:44:34 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Dec  4 12:44:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13074] trunk/harbour
In-Reply-To: <4B19470A.4050306@dbtopas.lt>
References: <E1NFC0U-0008Rg-E7@d5vjzd1.ch3.sourceforge.com>	<4B1420E0.2060003@dbtopas.lt>
	<4B61EDFE-2685-4B5B-A05A-8EE16CF20A07@syenar.hu>
	<4B19470A.4050306@dbtopas.lt>
Message-ID: <A8A1DFDA-8338-471D-9C8E-481945C6EB21@syenar.hu>

> I did not want to use extra container for GC pointer. This code operates on low level things like GC mark and programmer must know how GC work, so I do not think it can not use hb_gcRefInc/Dec. These functions are not more internal in that context.
> 
> I do not think there is something special in cairo. These GC references was implemented just a few weeks ago, so, I think cairo is only one of first code that started to use it.
> 
> I've tried to look at OLE implementation, and this does not look very clean to me. In HB_OLE GC structure, pCallback is a pointer to PHB_ITEM (not PHB_ITEM itself) and it points to callback item from ISink object from ActiveX. It is not obvious that ISink object will not be released before HB_OLE will be destroyed (otherwise HB_OLE->pCallback can point to random memory content). hb_gcUnlock in olecore.c:248 is much more difficult to understand, that hb_gcRefInc/Dec in cairo code. I understand that there is a little different situation callback support. Storing pointer to PHB_CODEBLOCK is touching internals of Harbour VM and you could not store PHB_CODEBLOCK in HB_OLE, but in cairo code GC block containing cairo_t* is not a hidden internal - you need to operate on it. Though, all such code is placed in hbcairo/core.c and not accessable from outside.

This is not my concern. My concern is that no non-core code 
should ever use private APIs, or use any internals. This is 
a very basic rule and if we don't follow it we will end up 
with problems eventually (like suddenly breaking code, 
maintenance problems, uncontrolled incompatibilities and 
unclear dependencies between components).

This can be solved in two ways:
- To user public APIs in non-core code
- To make private APIs public.

I can't argue about the details, or which approach to use 
because for me both OLE and cairo are not comprehensible 
solutions at this moment.

It seems hbcairo code now has two solutions, which IMO 
should be reduced to one which complies with this basic 
rule. (while keeping proper functionality of course)

[ Now both solutions use internals. ]

Brgds,
Viktor

From vszakats at users.sourceforge.net  Fri Dec  4 12:49:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec  4 12:49:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13120] trunk/harbour
Message-ID: <E1NGcHE-00034V-Uj@c3vjzd1.ch3.sourceforge.com>

Revision: 13120
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13120&view=rev
Author:   vszakats
Date:     2009-12-04 17:49:05 +0000 (Fri, 04 Dec 2009)

Log Message:
-----------
2009-12-04 18:47 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbsetup.h
    * Marked MSVS 2002 in comment.

  * ChangeLog
    * Minor typo.

  * contrib/hbide/idemisc.prg
    ! Fixed unused variable error.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/include/hbsetup.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Dec  4 16:32:35 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Dec  4 16:32:42 2009
Subject: [Harbour] HBMK2 and Linux x86@64
Message-ID: <20091204213234.GA17675@linux-4bod.home.aster.pl>

Hi Viktor,

In most of 64 bit Linux systems where hardware allow to execute 32 and
64 bit binaries default library directories for native 64 bit libraries
are /lib64 and /usr/lib64.
/lib and /usr/lib also exists but they are used for 32 bit libraries.
HBMK2 executed from /usr/bin by default choose /usr/lib/harbour so it
does not work with Harbour builds using default library directories.

The directory autodetection code in HBMK2 have to be changed and it
should look for harbour libraries in /usr/lib64/harbour and then if
they do not exist chose /usr/lib/harbour. It will be nice to enable
such order only for 64 bit system and revert it for 32 bit ones but
it's not strictly necessary yet.

It will be also nice if it can recognize -m32 and -m64 C compiler
switches (or some own new ones) used to force 32/64 bit builds
adopting autodetection order and passing -m32 or -m64 as compile
and link time parameter for GCC, ICC, SunCC. In all these compilers
it's standard switch to force 32 or 64 bit mode.

best regards,
Przemek
From bedipritpal at hotmail.com  Fri Dec  4 16:55:25 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec  4 16:55:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13116] trunk/harbour
In-Reply-To: <609353e70912040045y11c4df36ga4a5ca2865034f2f@mail.gmail.com>
References: <E1NGSeU-0001At-8A@dn4whf1.ch3.sourceforge.com>
	<609353e70912040045y11c4df36ga4a5ca2865034f2f@mail.gmail.com>
Message-ID: <26640524.post@talk.nabble.com>


Hi


Massimo Belgrano-3 wrote:
> 
> I have see project definition in source tab button select can't work
> 

I small bug in text parsing. Just enter one more blank line after different
sections. 
The source tab will start working.



> i suggest add  "Additional library/rc"
> 

.rc or .res can be supplied in the source list, so no need to have different
alot.



> "additional external element" like text file(documentation of project ) 
> not
> included in make
> 

Fixed.



> How use load project and  compile/link?
> 

Not yet ready. Currently I am focussing on IDE level components, so later...



> When i activate load module function list it not remember at next
> execution
> of hbide (persistence)
> 

It remembers. At present the only requirement is you close/open via toolbar
icon.
Do not close with "X" on top-right corner of function list window.



> i remember that writing FUNC in UPPER not allow work module function list
> func will be write in any combination of lover LIKE FunC ,FUNCTI, FUNCTIO
> ,FUNctION
> try a project with only
> FUNC MAIN_ARCA
> RETURN
> 

Please note that, and do not request for, HBIDE will not support abbreviated 
Clipper compatible KEYWORDS. So Function => FUNction etc will be recognized,
but NOT Func => FUNc => FUNct etc. xMate also does not support it.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13116--trunk-harbour-tp26638753p26640524.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Fri Dec  4 17:12:56 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec  4 17:13:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13121] trunk/harbour
Message-ID: <E1NGgOW-0005Gg-3X@74yxhf1.ch3.sourceforge.com>

Revision: 13121
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13121&view=rev
Author:   vszakats
Date:     2009-12-04 22:12:54 +0000 (Fri, 04 Dec 2009)

Log Message:
-----------
2009-12-04 23:12 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/hbi18n2.prg
    ! HB_I18N_SAVEPOT(), __I18N_POTARRAYSAVE(): Changed to not 
      add double EOL at the end of the file.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/hbi18n2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Dec  4 18:32:09 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec  4 18:32:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13122] trunk/harbour
Message-ID: <E1NGhdB-0006nq-OV@dn4whf1.ch3.sourceforge.com>

Revision: 13122
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13122&view=rev
Author:   vszakats
Date:     2009-12-04 23:32:00 +0000 (Fri, 04 Dec 2009)

Log Message:
-----------
2009-12-05 00:31 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    % De-xmas.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Dec  4 19:29:27 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Dec  4 19:29:38 2009
Subject: [Harbour] HBMK2 and Linux x86@64
In-Reply-To: <20091204213234.GA17675@linux-4bod.home.aster.pl>
References: <20091204213234.GA17675@linux-4bod.home.aster.pl>
Message-ID: <6438CD10-FB40-4023-A734-D88773012DEC@syenar.hu>

Hi,

One thing is not clear for me. What are these switches 
doing on non-Intel systems?

Next thing to decide is how to control this matter, 
because if you say that hbmk2 should automatically 
add -m64 as linker option, it means we're converting 
-m* switches to hbmk2 ones, and in this case I'm not 
sure it's the best thing to do. We already have 
-plat switch to choose these kind of things for win/wce 
platform, but it's not very good either, so maybe its 
time to introduce new -cpu switch. This however seems to 
need more serious redesign of autodetection code in hbmk2 
and possibly in GNU Make system (and probably more).

So for now, to avoid that, the best shortcut is to 
simply parse HB_USER_CFLAGS for -m64/-m32 and make 
some internal decisions based on that. It cannot be 
done in very clean way, but at least I don't have to 
rewrite the whole thing before release. In this 
scenario it's users job to pass this switch to 
HB_USER_LDFLAGS also (but is this really required?, 
cannot the linker automatically detect the target 
arch based on input files?).

The other remaining thing to see, is how this thing 
works on other *nix platforms? bsd for example, or 
even darwin.

On darwin / clang and gcc it seems to work similarly 
to Linux, but I did only try on Snow Leopard / Intel.

[ PCC would really be interesting here, but I deleted 
XCode from my old machine just recently. ]

Brgds,
Viktor

On 2009 Dec 4, at 22:32, Przemys?aw Czerpak wrote:

> Hi Viktor,
> 
> In most of 64 bit Linux systems where hardware allow to execute 32 and
> 64 bit binaries default library directories for native 64 bit libraries
> are /lib64 and /usr/lib64.
> /lib and /usr/lib also exists but they are used for 32 bit libraries.
> HBMK2 executed from /usr/bin by default choose /usr/lib/harbour so it
> does not work with Harbour builds using default library directories.
> 
> The directory autodetection code in HBMK2 have to be changed and it
> should look for harbour libraries in /usr/lib64/harbour and then if
> they do not exist chose /usr/lib/harbour. It will be nice to enable
> such order only for 64 bit system and revert it for 32 bit ones but
> it's not strictly necessary yet.
> 
> It will be also nice if it can recognize -m32 and -m64 C compiler
> switches (or some own new ones) used to force 32/64 bit builds
> adopting autodetection order and passing -m32 or -m64 as compile
> and link time parameter for GCC, ICC, SunCC. In all these compilers
> it's standard switch to force 32 or 64 bit mode.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Fri Dec  4 19:49:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec  4 19:49:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13123] trunk/harbour
Message-ID: <E1NGipY-0002Me-HS@3kljzd1.ch3.sourceforge.com>

Revision: 13123
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13123&view=rev
Author:   vszakats
Date:     2009-12-05 00:48:59 +0000 (Sat, 05 Dec 2009)

Log Message:
-----------
2009-12-05 01:32 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    + Added some provisions for separate -cpu selection:
      Now win/wce compiler autodetection code tries to fill HB_CPU.
      This should eventually be extended to all platforms/compilers.
    + HB_CPU autodetection will now consider -m64 and -m32 HB_USER_CFLAGS
      on linux platform. This may not be correct on non-intel
      linux platforms. Eventually this hidden knob should be changed
      to proper CPU selection (probably).
    % De-xmas.
    ! Minor fixes to HB_COMPILER autodetection when HB_PLATFORM=wce
      is used on win hosts.
    ; I just hope there won't be any regressions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Dec  4 19:59:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec  4 19:59:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13124] trunk/harbour
Message-ID: <E1NGizj-0002Yw-SK@3kljzd1.ch3.sourceforge.com>

Revision: 13124
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13124&view=rev
Author:   vszakats
Date:     2009-12-05 00:59:30 +0000 (Sat, 05 Dec 2009)

Log Message:
-----------
2009-12-05 01:56 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added Harbour lib dir autodetection when Harbour installed
      on 64-bit systems (where libs are in */lib64/harbour).
      Please test it.

    ; NOTE: I've also found some logic which makes hbmk2 build
            process inherit -m64/-m32/-mlp64/-mlp32 switches from
            hbmk2 itself. But it only passes it to C flags.
            I'm not sure it sure pass it at all, but in case it
            needs to pass it, should it also pass it to linker
            flags? I don't have 64-bit linux development system
            to try these things.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Dec  4 21:00:41 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Dec  4 21:00:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>
	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>
	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>
Message-ID: <580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>

Hi,

BTW, here today I just switched to DWARF-2 build of mingw, 
did a new clean build and didn't have this problem.

I don't see build parameters in the report so I can just 
guess that it may be you're forcing C++ mode for mingw.

In this case we should decide what to do, hack hbmk2, 
hack postinst.prg or take a step back and rethink why 
we need HB_BUILD_MODE as a documented user option 
in the first place. Could be I'm missing something, but 
I see not much reason to override the default setting 
for whole Harbour (besides maybe code testing / evaluation).
If we can eliminate it, we will surely have much less 
combinations to take care and focus energies on more 
crucial issues.

Brgds,
Viktor

On 2009 Dec 3, at 22:46, Bisz Istv?n wrote:

> Hi,
>  
> The error: undefined reference to `__gxx_personality_v0', listed below is solved temporally with the force of the ?cpp mode in postins.bat:
>  
> FROM:
>  
>    echo ! Making shared version of Harbour binaries...
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared "-o%HB_BIN_INSTALL%\hbrun-dll"    "%~dp0..\utils\hbrun\hbrun.hbp"
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared "-o%HB_BIN_INSTALL%\hbmk2-dll"    "%~dp0..\utils\hbmk2\hbmk2.hbp"
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared "-o%HB_BIN_INSTALL%\hbtest-dll"   "%~dp0..\utils\hbtest\hbtest.hbp"
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared "-o%HB_BIN_INSTALL%\hbi18n-dll"   "%~dp0..\utils\hbi18n\hbi18n.hbp"
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared "-o%HB_BIN_INSTALL%\hbformat-dll" "%~dp0..\utils\hbformat\hbformat.hbp"
>  
> :_NO_DLL_BIN
>  
>    if "%HB_PLATFORM%" == "dos" goto _NO_ICON_BIN
>    if "%HB_PLATFORM%" == "linux" goto _NO_ICON_BIN
>  
>    rem ; We build this here, because GNU Make wouldn't add the icon.
>    echo ! Making hbrun with application icon...
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN "-o%HB_BIN_INSTALL%\hbrun" "%~dp0..\utils\hbrun\hbrun.hbp"
>  
> TO:
>  
>    echo ! Making shared version of Harbour binaries...
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared ?cpp "-o%HB_BIN_INSTALL%\hbrun-dll"    "%~dp0..\utils\hbrun\hbrun.hbp"
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared ?cpp "-o%HB_BIN_INSTALL%\hbmk2-dll"    "%~dp0..\utils\hbmk2\hbmk2.hbp"
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared ?cpp "-o%HB_BIN_INSTALL%\hbtest-dll"   "%~dp0..\utils\hbtest\hbtest.hbp"
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared ?cpp "-o%HB_BIN_INSTALL%\hbi18n-dll"   "%~dp0..\utils\hbi18n\hbi18n.hbp"
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN -shared ?cpp "-o%HB_BIN_INSTALL%\hbformat-dll" "%~dp0..\utils\hbformat\hbformat.hbp"
>  
> :_NO_DLL_BIN
>  
>    if "%HB_PLATFORM%" == "dos" goto _NO_ICON_BIN
>    if "%HB_PLATFORM%" == "linux" goto _NO_ICON_BIN
>  
>    rem ; We build this here, because GNU Make wouldn't add the icon.
>    echo ! Making hbrun with application icon...
>    "%HB_HOST_BIN_DIR%\hbmk2" -quiet -q0 -lng=en-EN ?cpp "-o%HB_BIN_INSTALL%\hbrun" "%~dp0..\utils\hbrun\hbrun.hbp"
>  
> Best regards,
> Istv?n
>  
> ________________________________________________________________________________________________________________-
>  
> ! Making shared version of Harbour binaries...
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbcmplib.o):hbcmplib.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbmain.o):hbmain.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbgenerr.o):hbgenerr.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbopt.o):hbopt.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbdead.o):hbdead.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbstripl.o):hbstripl.c:(.eh_frame+0x11): more undefined references to `__gxx_personality_v0' follow
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbcmplib.o):hbcmplib.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbmain.o):hbmain.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbgenerr.o):hbgenerr.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbopt.o):hbopt.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbdead.o):hbdead.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbstripl.o):hbstripl.c:(.eh_frame+0x11): more undefined references to `__gxx_personality_v0' follow
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> c:/harbour/mingw/lib/win/mingw/libhbmainstd.a(mainstd.o):mainstd.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> c:/harbour/mingw/lib/win/mingw/libhbmainstd.a(mainstd.o):mainstd.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> c:/harbour/mingw/lib/win/mingw/libhbmainstd.a(mainstd.o):mainstd.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> ! Making hbrun with application icon...
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbcmplib.o):hbcmplib.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbmain.o):hbmain.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbgenerr.o):hbgenerr.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbopt.o):hbopt.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbdead.o):hbdead.c:(.eh_frame+0x11): undefined reference to `__gxx_personality_v0'
> c:/harbour/mingw/lib/win/mingw/libhbcplr.a(hbstripl.o):hbstripl.c:(.eh_frame+0x11): more undefined references to `__gxx_personality_v0' follow
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
>  
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vouchcac at users.sourceforge.net  Fri Dec  4 21:42:10 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Dec  4 21:42:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13125] trunk/harbour
Message-ID: <E1NGkb4-0005aj-Ev@bj8yhf1.ch3.sourceforge.com>

Revision: 13125
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13125&view=rev
Author:   vouchcac
Date:     2009-12-05 02:42:09 +0000 (Sat, 05 Dec 2009)

Log Message:
-----------
2009-12-03 23:24 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.ch
  + contrib/hbide/hbide.env
  * contrib/hbide/hbide.prg
  * contrib/hbide/idemisc.prg
  * contrib/hbide/projects/hbide.hbi
  * contrib/hbide/resources/projectproperties.ui
    + Started the possibility to switch to any compiler while building a project.
    ! Implemented tooltips on <Project Properties> dialog components.
    + Added one more tab <Compilers> which holds the contents of hbide.env
      residing alongside hbide.exe. 

      NOTE: hbide.env is an experimental feature and as such name and location 
            of this file may change in future. 

    ! Few more artifacts corrected.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.ch
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/projects/hbide.hbi
    trunk/harbour/contrib/hbide/resources/projectproperties.ui

Added Paths:
-----------
    trunk/harbour/contrib/hbide/hbide.env


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Dec  4 21:42:18 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Dec  4 21:42:26 2009
Subject: [Harbour] HBMK2 and Linux x86@64
In-Reply-To: <6438CD10-FB40-4023-A734-D88773012DEC@syenar.hu>
References: <20091204213234.GA17675@linux-4bod.home.aster.pl>
	<6438CD10-FB40-4023-A734-D88773012DEC@syenar.hu>
Message-ID: <20091205024218.GA19284@linux-4bod.home.aster.pl>

On Sat, 05 Dec 2009, Szak?ts Viktor wrote:

Hi,

> One thing is not clear for me. What are these switches 
> doing on non-Intel systems?

Simultaneous runtime support for 32 and 64 bit modes is not only x86
world feature. Many processors have such capacity, i.e. SUN SPARCs or
HP PR-RISC machines.
It's also supported by other then Linux systems like SunOS or HP-UX

Anyhow for some CPUs/systems switches to control 32/64 bit versions
have slightly different names, i.e. -milp32/-mlp64 on HB-UX or
-m31/-m64 on S/390 machines.

> Next thing to decide is how to control this matter, 
> because if you say that hbmk2 should automatically 
> add -m64 as linker option, it means we're converting 
> -m* switches to hbmk2 ones, and in this case I'm not 
> sure it's the best thing to do. We already have 
> -plat switch to choose these kind of things for win/wce 
> platform, but it's not very good either, so maybe its 
> time to introduce new -cpu switch. This however seems to 
> need more serious redesign of autodetection code in hbmk2 
> and possibly in GNU Make system (and probably more).

There is one important difference between above. It's not
classic cross build because it's only selection between different
version of supported binaries anyhow if you what to use different
hbmk2 switch and well integrate it with other switches then it's
even beteer.
Important is only final result which should allow to easy switch
between 32 and 64 bit modes without writing very long parameter
list in command line.
BTW I still have problems to create easy to use hbmk2 configuration
for different builds.

> So for now, to avoid that, the best shortcut is to 
> simply parse HB_USER_CFLAGS for -m64/-m32 and make 
> some internal decisions based on that. It cannot be 
> done in very clean way, but at least I don't have to 
> rewrite the whole thing before release. In this 
> scenario it's users job to pass this switch to 
> HB_USER_LDFLAGS also (but is this really required?, 
> cannot the linker automatically detect the target 
> arch based on input files?).

These switches have to be passed to HB_USER_CFLAGS, HB_USER_LDFLAGS
and HB_USER_DFLAGS. Now I'm building 32 bit Harbour version in my
64-bit Linux using this simple script:

   #!/bin/sh
   FLAGS="-m32"
   export HB_USER_CFLAGS="${FLAGS}"
   export HB_USER_LDFLAGS="${FLAGS}"
   export HB_USER_DFLAGS="${FLAGS}"
   # CURL has specific header files which have hardcoded endian and
   # word size information :-(
   export HB_WITH_CURL=no
   make "$@"

and it works very nice if I do not use system wide installation.
Also hbmk2 even nicely inherits -m32 in hbmk.cfg flags.

> The other remaining thing to see, is how this thing 
> works on other *nix platforms? bsd for example, or 
> even darwin.

In BSD systems probably in similar way just like in SunOS or HP-UX.
I cannot only say too much about default system directories in this
systems.

> On darwin / clang and gcc it seems to work similarly 
> to Linux, but I did only try on Snow Leopard / Intel.
> [ PCC would really be interesting here, but I deleted 
> XCode from my old machine just recently. ]

I have no idea how it may work on Darvin with its existing support
for mixed PPC and x86 binaries.

best regards,
Przemek
From vszakats at users.sourceforge.net  Fri Dec  4 22:00:47 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec  4 22:00:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13126] trunk/harbour
Message-ID: <E1NGkt5-0004we-Vc@c3vjzd1.ch3.sourceforge.com>

Revision: 13126
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13126&view=rev
Author:   vszakats
Date:     2009-12-05 03:00:44 +0000 (Sat, 05 Dec 2009)

Log Message:
-----------

2009-12-05 03:58 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * bin/postinst.bat
    + Syncing C/C++ Harbour build mode with hbmk2 invocation
      options in postinst phase. (please test)
      Only required for mingw, but it's done for every compiler
      for consistency, but only if it's overridden by user.
      (so f.e. for msvc, C++ isn't enabled in this case. This
      could be done on hbmk2 level however, but it would cause
      a lot of 3rd party code to break so I didn't do it yet.)

      I didn't add logic to hbmk2 to inherit build-time C/C++
      setting, because it wouldn't work in cross-build situations,
      and multi-target installations.

  * utils/hbmk2/hbmk2.prg
    + Added comment on msvc C++ mode.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Dec  4 22:29:15 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec  4 22:29:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13127] trunk/harbour
Message-ID: <E1NGlKd-0004Pl-2x@d5vjzd1.ch3.sourceforge.com>

Revision: 13127
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13127&view=rev
Author:   vszakats
Date:     2009-12-05 03:29:12 +0000 (Sat, 05 Dec 2009)

Log Message:
-----------
2009-12-05 04:28 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/pp/hbpp.c
  * src/compiler/hbusage.c
  * utils/hbformat/hbformat.prg
  * utils/hbmk2/hbmk2.hu_HU.po
  * utils/hbmk2/hbmk2.prg
  * utils/hbtest/hbtest.prg
  * utils/hbi18n/hbi18n.prg
  * utils/hbrun/hbrun.prg
    * Copyright year bumped to 2010.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/compiler/hbusage.c
    trunk/harbour/src/pp/hbpp.c
    trunk/harbour/utils/hbformat/hbformat.prg
    trunk/harbour/utils/hbi18n/hbi18n.prg
    trunk/harbour/utils/hbmk2/hbmk2.hu_HU.po
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbrun/hbrun.prg
    trunk/harbour/utils/hbtest/hbtest.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Dec  4 22:35:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec  4 22:35:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13128] trunk/harbour
Message-ID: <E1NGlQJ-0004YM-A4@d5vjzd1.ch3.sourceforge.com>

Revision: 13128
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13128&view=rev
Author:   vszakats
Date:     2009-12-05 03:35:01 +0000 (Sat, 05 Dec 2009)

Log Message:
-----------
2009-12-05 04:33 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed to pass self-inherited -mlp64, -mlp32, -m64, -m32
      C compiler flags also to executable and dynlib linker.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Dec  4 22:55:08 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Dec  4 22:55:19 2009
Subject: [Harbour] Error on winprn.
In-Reply-To: <hf6k9r$8hk$1@ger.gmane.org>
References: <hf6k9r$8hk$1@ger.gmane.org>
Message-ID: <4161FCED-07A6-4CD4-9BDF-F43F0FC08CE5@syenar.hu>

This was simple problem with the test. Someone added new lines, 
which pushed down some next tests so much down the page that they 
slipped off of it.

Should be OK now.

Brgds,
Viktor

On 2009 Dec 2, at 21:54, Itamar Lins wrote:

> Hi!
> The lines below  of file testprg.prg in to folder \contrib\hbwin\tests not 
> working.
> 
> ---------------------->8-----------------
> oPrinter:Box(  0, oPrinter:PosY+100, 100, oPrinter:PosY+200)
> oPrinter:Arc(200, oPrinter:PosY+100, 300, oPrinter:PosY+200)
> oPrinter:Ellipse(400, oPrinter:PosY+100, 500, oPrinter:PosY+200)
> oPrinter:FillRect(600, oPrinter:PosY+100, 700, oPrinter:PosY+200, RGB_RED )
> --------------------8<------------
> 
> My test with SVN $Id: ChangeLog 13098 2009-12-02 19:05:19Z vszakats $
> 
> Best Regards,
> Itamar M. Lins Jr. 
> 
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Dec  5 00:07:50 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec  5 00:08:03 2009
Subject: [Harbour] HMG Extended, hbmk2 and more (to Grigory Filatov)
Message-ID: <9EBD7CD1-483B-4B7D-BA3B-AC7407BB3FC2@syenar.hu>

Hi Grigory,

Mildly off topic, but I was just checking release 
hmg-1.7-77-setup.zip, and I have a few points to make:

1) It was nice to see that hbmk2 is now included, but the build 
   is a modified version which has some strange bugs (enough 
   to run it like: 'hbmk2 a.prg' to see). Plus it has apparently 
   been modified in a few other places.
   It's not indicated anywhere that it's a modified version,
   and even modified source is missing from the distribution, 
   so it's not possible to tell what was exactly changed.

   Can you please include the modified source code in the distro?
   [ or even better would be to use an unmodified build, see below ]

2) Distributed Harbour COPYING file is outdated. Could you 
   update it?

3) For some reason HMG Extended uses non-standard (old) names 
   for Harbour libs, and I've already seen confusion in some 
   forums because of that, plus also hbmk2 needs to be changed to 
   accommodate to these non-standard names.

   Would it be possible to use standard names, so that 
   the included Harbour wouldn't look like a specially modified 
   version (in essence a fork) of Harbour, but rather resemble 
   the standard distro?

4) Single threaded VM lib is not distributed, but -mt switch 
   is missing from .hbc file. This looks like a bug unless 
   hbmk2 was internally modified (which doesn't seem like a 
   very good idea to me).
   IMO this could also be synced to work like Harbour, -mt 
   switch added to minigui.hbc file.

5) We've once discussed TGET.prg and TGETINT.prg which is 
   still kept as old versions and which needs special Harbour 
   build. Maybe there is better solution for that which 
   doesn't require that. I've proposed a few ones in the 
   past.

6) I see some sources with '#ifdef _HBMK_' lines.
   I just can guess the reason for this solution, but 
   it's probably easy to workaround with a local hbmk.hbm 
   file or global hbmk2 option, -gtgui or -lgtgui.

7) Unless Win9x compatibility is still important, I'd 
   suggest to change BATCH/hbmk2.bat file to be position 
   independent. F.e. I installed it in F:\devl\minigui, 
   so it doesn't work. Simple 'MG_ROOT=%~dp0..' seems 
   enough to solve it.

8) Instead of '-prgflag=/q0' it's enough to write: -q0

I'd be interested in your opinion on above topics.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Sat Dec  5 04:02:47 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sat Dec  5 04:02:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>
	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>
Message-ID: <000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>

Hi Viktor,

>BTW, here today I just switched to DWARF-2 build of mingw, 
>did a new clean build and didn't have this problem.

This issue has an actuality on other lists too:
http://www.mail-archive.com/fedora-mingw@lists.fedoraproject.org/msg02094.ht
ml

Yes, you are right, but see below...

>I don't see build parameters in the report so I can just 
guess that it may be you're forcing C++ mode for mingw.

Yes, just double check this with the already sent bat file.
 
>In this case we should decide what to do, hack hbmk2, 
>hack postinst.prg or take a step back and rethink why 
>we need HB_BUILD_MODE as a documented user option 
>in the first place. Could be I'm missing something, but 
>I see not much reason to override the default setting 
>for whole Harbour (besides maybe code testing / evaluation).
>If we can eliminate it, we will surely have much less 
>combinations to take care and focus energies on more 
>crucial issues.

Maybe I missed to mention that the Qt tests are passed just in the case of
forcing the C++ mode in the whole harbour build. If we force the C++ mode
just in hbide, demoxbp and demoqt build, the resulting executables crashes
in different points.

Please consult my test bat below, adapted to the latest SVN commits:
-----------
@echo PREREQUISITES:
@echo Installed Qt SDK 4.6 to the default directory: c:\Qt\2009.05 ...
@echo from: http://get.qt.nokia.com/qtsdk/qt-sdk-win-opensource-2009.05.exe
@echo Note: MinGW GCC 4.4.0 is part of this installation
@echo Updated c:\download\harbour with the latest SVN
@pause

@set HB_WITH_QT=C:/Qt/2009.05/qt/include
@set HB_INSTALL_PREFIX=c:\harbour\mingw
@set HB_BUILD_OPTIM=yes
@set HB_BUILD_UNICODE=yes
@set HB_BUILD_MODE=cpp
@set HB_USER_LDFLAGS=-static-libgcc
@set HB_USER_DFLAGS=-static-libgcc

@set PATH=c:\Qt\2009.05\mingw\bin;%PATH%
@cd c:\downloads\harbour
@win-make clean install

@set
PATH=c:\Qt\2009.05\mingw\bin;c:\harbour\mingw\bin;c:\qt\2009.05\bin;%PATH%
@cd c:\downloads\harbour\contrib\hbide
@hbmk2 hbide.hbp -cpp
@cd c:\downloads\harbour\contrib\hbxbp\tests
@hbmk2 demoxbp.prg -cpp
@cd c:\downloads\harbour\contrib\hbqt\tests
@hbmk2 demoqt.prg -cpp

@set PATH=C:\Qt\2009.05\qt\bin
@set PATH=%PATH%;C:\Qt\2009.05\bin;C:\Qt\2009.05\mingw\bin
@set PATH=%PATH%;%SystemRoot%\System32
@cd c:\downloads\harbour\contrib\hbide
@hbide
@pause
@cd c:\downloads\harbour\contrib\hbxbp\tests
@demoxbp
@pause
@cd c:\downloads\harbour\contrib\hbqt\tests
@demoqt
@pause
-----------

As I understand correctly the Qt integration is crucial for the whole
project future, that?s why I spent some time with this issue.

Best regards,
Istv?n


From mbelgrano at deltain.it  Sat Dec  5 05:11:23 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Dec  5 05:11:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <-6272663939967592455@unknownmsgid>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com> 
	<-6297814447993206960@unknownmsgid>
	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com> 
	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>
	<-6272663939967592455@unknownmsgid>
Message-ID: <609353e70912050211g31b13f3sc9b7317a8f4718d8@mail.gmail.com>

Very thanks for your effor!

we need switch harbour to  Build Mode to  cpp and  Minigui to DWARF2 ?
Disadvantages?


2009/12/5 Bisz Istv?n <Istvan.Bisz@t-online.hu>

> Hi Viktor,
>
> Maybe I missed to mention that the Qt tests are passed just in the case of
> forcing the C++ mode in the whole harbour build. If we force the C++ mode
> just in hbide, demoxbp and demoqt build, the resulting executables crashes
> in different points.
>
> Please consult my test bat below, adapted to the latest SVN commits:
> -----------
> @echo PREREQUISITES:
> @echo Installed Qt SDK 4.6 to the default directory: c:\Qt\2009.05 ...
> @echo from:
> http://get.qt.nokia.com/qtsdk/qt-sdk-win-opensource-2009.05.exe
> @echo Note: MinGW GCC 4.4.0 is part of this installation
> @echo Updated c:\download\harbour with the latest SVN
> @pause
>



> @set HB_WITH_QT=C:/Qt/2009.05/qt/include
> @set HB_INSTALL_PREFIX=c:\harbour\mingw
> @set HB_BUILD_OPTIM=yes
> @set HB_BUILD_UNICODE=yes
> @set HB_BUILD_MODE=cpp
> @set HB_USER_LDFLAGS=-static-libgcc
> @set HB_USER_DFLAGS=-static-libgcc
>
> @set PATH=c:\Qt\2009.05\mingw\bin;%PATH%
> @cd c:\downloads\harbour
> @win-make clean install
>
> @set
> PATH=c:\Qt\2009.05\mingw\bin;c:\harbour\mingw\bin;c:\qt\2009.05\bin;%PATH%
> @cd c:\downloads\harbour\contrib\hbide
> @hbmk2 hbide.hbp -cpp
> @cd c:\downloads\harbour\contrib\hbxbp\tests
> @hbmk2 demoxbp.prg -cpp
> @cd c:\downloads\harbour\contrib\hbqt\tests
> @hbmk2 demoqt.prg -cpp
>
> @set PATH=C:\Qt\2009.05\qt\bin
> @set PATH=%PATH%;C:\Qt\2009.05\bin;C:\Qt\2009.05\mingw\bin
> @set PATH=%PATH%;%SystemRoot%\System32
> @cd c:\downloads\harbour\contrib\hbide
> @hbide
> @pause
> @cd c:\downloads\harbour\contrib\hbxbp\tests
> @demoxbp
> @pause
> @cd c:\downloads\harbour\contrib\hbqt\tests
> @demoqt
> @pause
> -----------
>
> As I understand correctly the Qt integration is crucial for the whole
> project future, that?s why I spent some time with this issue.
>
> Best regards,
> Istv?n
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091205/cd1a42f7/attachment.html
From Istvan.Bisz at t-online.hu  Sat Dec  5 05:20:54 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sat Dec  5 05:21:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <609353e70912050211g31b13f3sc9b7317a8f4718d8@mail.gmail.com>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>
	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<-6272663939967592455@unknownmsgid>
	<609353e70912050211g31b13f3sc9b7317a8f4718d8@mail.gmail.com>
Message-ID: <000001ca7594$a0eac330$e2c04990$@Bisz@t-online.hu>

?  Very thanks for your effort!

You're welcome.

 

 

From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo Belgrano
Sent: 2009. december 5. 11:11
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour

 

Very thanks for your effor!

 

we need switch harbour to  Build Mode to  cpp and  Minigui to DWARF2 ?

Disadvantages?

 

 

2009/12/5 Bisz Istv?n <Istvan.Bisz@t-online.hu>

Hi Viktor,

 

Maybe I missed to mention that the Qt tests are passed just in the case of
forcing the C++ mode in the whole harbour build. If we force the C++ mode
just in hbide, demoxbp and demoqt build, the resulting executables crashes
in different points.

Please consult my test bat below, adapted to the latest SVN commits:
-----------
@echo PREREQUISITES:
@echo Installed Qt SDK 4.6 to the default directory: c:\Qt\2009.05 ...
@echo from: http://get.qt.nokia.com/qtsdk/qt-sdk-win-opensource-2009.05.exe
@echo Note: MinGW GCC 4.4.0 is part of this installation
@echo Updated c:\download\harbour with the latest SVN
@pause

 

 


@set HB_WITH_QT=C:/Qt/2009.05/qt/include
@set HB_INSTALL_PREFIX=c:\harbour\mingw
@set HB_BUILD_OPTIM=yes
@set HB_BUILD_UNICODE=yes
@set HB_BUILD_MODE=cpp
@set HB_USER_LDFLAGS=-static-libgcc
@set HB_USER_DFLAGS=-static-libgcc

@set PATH=c:\Qt\2009.05\mingw\bin;%PATH%
@cd c:\downloads\harbour
@win-make clean install

@set
PATH=c:\Qt\2009.05\mingw\bin;c:\harbour\mingw\bin;c:\qt\2009.05\bin;%PATH%
@cd c:\downloads\harbour\contrib\hbide
@hbmk2 hbide.hbp -cpp
@cd c:\downloads\harbour\contrib\hbxbp\tests
@hbmk2 demoxbp.prg -cpp
@cd c:\downloads\harbour\contrib\hbqt\tests
@hbmk2 demoqt.prg -cpp

@set PATH=C:\Qt\2009.05\qt\bin
@set PATH=%PATH%;C:\Qt\2009.05\bin;C:\Qt\2009.05\mingw\bin
@set PATH=%PATH%;%SystemRoot%\System32
@cd c:\downloads\harbour\contrib\hbide
@hbide
@pause
@cd c:\downloads\harbour\contrib\hbxbp\tests
@demoxbp
@pause
@cd c:\downloads\harbour\contrib\hbqt\tests
@demoqt
@pause
-----------

As I understand correctly the Qt integration is crucial for the whole
project future, that?s why I spent some time with this issue.

Best regards,
Istv?n



_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour




-- 
Massimo Belgrano



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091205/c58b86f4/attachment.html
From mbelgrano at deltain.it  Sat Dec  5 05:25:59 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Dec  5 05:26:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <5958881847248762710@unknownmsgid>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com> 
	<-6297814447993206960@unknownmsgid>
	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com> 
	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>
	<-6272663939967592455@unknownmsgid> 
	<609353e70912050211g31b13f3sc9b7317a8f4718d8@mail.gmail.com> 
	<5958881847248762710@unknownmsgid>
Message-ID: <609353e70912050225o108cc950n847c92b0d93a932a@mail.gmail.com>

What can i have miss?
hbmk2 hbide.hbp

C:/HARBOUR/lib/win/mingw/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.tex
undefined reference to `_imp___ZN9QListData7detach3Ev'
C:/HARBOUR/lib/win/mingw/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.tex
undefined reference to `_imp___ZN9QListData7detach3Ev'
C:/HARBOUR/lib/win/mingw/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.tex
undefined reference to `_imp___ZN9QListData7detach3Ev'
..
C:/HARBOUR/lib/win/mingw/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text$_ZN7QVect
orIN19HbSyntaxHighlighter16HighlightingRuleEE7reallocEii[QVector<HbSyntaxHighlig
hter::HighlightingRule>::realloc(int, int)]+0x4e): undefined reference to
`_imp_
__ZN11QVectorData8allocateEii'
..
C:/DEVL/qt/2009.05/QT/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text$_ZN5QListIPN13QFo
rmInternal8DomColorEE13detach_helperEv[QList<QFormInternal::DomColor*>::detach_h
elper()]+0x19): undefined reference to `_imp___ZN9QListData7detach3Ev'
C:/DEVL/qt/2009.05/QT/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text$_ZN5QListIPN13QFo
rmInternal13DomWidgetDataEE13detach_helperEv[QList<QFormInternal::DomWidgetData*
>::detach_helper()]+0x19): undefined reference to
`_imp___ZN9QListData7detach3Ev
'
C:/DEVL/qt/2009.05/QT/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text$_ZN5QListIPN13QFo
rmInternal9DomScriptEE13detach_helperEv[QList<QFormInternal::DomScript*>::detach
_helper()]+0x19): more undefined references to
`_imp___ZN9QListData7detach3Ev' f
ollow

2009/12/5 Bisz Istv?n <Istvan.Bisz@t-online.hu>

>  ?  Very thanks for your effort!
>
> You're welcome.
>
>
> --
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091205/13651d3a/attachment-0001.html
From harbour.01 at syenar.hu  Sat Dec  5 05:39:50 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Dec  5 05:40:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>
	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>
	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>
Message-ID: <12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>

> Maybe I missed to mention that the Qt tests are passed just in the case of
> forcing the C++ mode in the whole harbour build. If we force the C++ mode
> just in hbide, demoxbp and demoqt build, the resulting executables crashes
> in different points.

That's very bad news. QT 4.6.0 seems to be a royal mess up.

It has such stupid, but most importantly _global_ requirements 
that probably I'll have to skip it from unified builds :(

This is simply insane. For MSVC they are forcing to use -MD 
switch which forces _all_ other dependencies to be rebuilt 
using this option making everything incompatible.

With MINGW they force us to use a basically not released 
compiler version, plus C++ mode on the whole project...
Or - which I don't know - on _every projects_ which are 
linked to an executable wanting to use QT 4.6 ?

I'd like to recommend to stick with 4.5.2 until these 
issues are cleared up.

> @set HB_USER_LDFLAGS=-static-libgcc
> @set HB_USER_DFLAGS=-static-libgcc

Can you tell, what these options are doing?

> As I understand correctly the Qt integration is crucial for the whole
> project future, that?s why I spent some time with this issue.

It used to be, but now I seriously wonder if we're on the 
right path with QT.

If QT requires us to design the whole project and all 
dependencies around it, it doesn't look very good to me.

We're not a QT only project that's for sure, and I miss 
the luxury option to create a separate build of everything 
just for the sake of one lib.

Brgds,
Viktor

From druzus at acn.waw.pl  Sat Dec  5 05:50:16 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Dec  5 05:50:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13124] trunk/harbour
In-Reply-To: <E1NGizj-0002Yw-SK@3kljzd1.ch3.sourceforge.com>
References: <E1NGizj-0002Yw-SK@3kljzd1.ch3.sourceforge.com>
Message-ID: <20091205105016.GA5788@linux-4bod.home.aster.pl>

On Sat, 05 Dec 2009, vszakats@users.sourceforge.net wrote:

Hi,

> 2009-12-05 01:56 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * utils/hbmk2/hbmk2.prg
>     + Added Harbour lib dir autodetection when Harbour installed
>       on 64-bit systems (where libs are in */lib64/harbour).
>       Please test it.

Thank you very much.
I've made some tests and it works very well now.

best regards,
Przemek
From dmacias at mail.udg.mx  Sat Dec  5 06:04:54 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sat Dec  5 06:05:12 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
Message-ID: <4B1A3E56.7050609@mail.udg.mx>

Przemek:

>>  HB_BUILD_OPTIM := no

>Thank you very much. This is what I wanted to see :-)

>So all what we have to do is finding/adding method to disable
>only -s switch when GTOS2 is compiled by OpenWatcom.
>HB_BUILD_OPTIM := no disables all optimizations so we need
>something more selective here.
>Unfortunately we do not have switch to revert previously set -s
>but maybe we can find other switch which also resolves the problem.
>So far we know that -sg also resolves it. So in first step I'll add
>this code to src/rtl/gtos2/Makefile[15]:

>   ifeq ($(HB_COMPILER),watcom)
>      HB_CFLAGS += -sg
>   endif

>and I'll commit it in a while. If possible please test.

 From previous tests only -s removed avoid GPF
A year ago -sg increased run time, but today we have new Harbour and new
OpenWatcom

>Then if you want then you can try also few other switches instead of:
>      HB_CFLAGS += -sg
>in src/rtl/gtos2/Makefile. The following switches are stack related and
>it's possible that also some of them can help:
>      HB_CFLAGS += -st
>      HB_CFLAGS += -zu
>      HB_CFLAGS += -of+
>To reduce the time necessary for tests just simply replace -sg with
>one of the above switches delete src/rtl/gtos2/obj directory and call
>make install. Then recompile speedtst in MT mode and check if
>   speedtst --thread
>works without GPF. If some of above switches will help to resolve
>the problem then later we can try to chose the one which has smallest
>speed overhead on final code.
>It's also possible that some combination of switches for segment 
>registers
>can resolve the problem so you can try them. In OpenWatcom I've found
>the following switches which operates on it.
>   -zdf            DS floats (i.e. not fixed to DGROUP)
>   -zdl            load DS directly from DGROUP
>   -zdp            DS is pegged to DGROUP
>   -zff            FS floats (i.e. not fixed to a segment)
>   -zfp            FS is pegged to a segment
>   -zgf            GS floats (i.e. not fixed to a segment)
>   -zgp            GS is pegged to a segment

Using a fresh SVN and your instructions:
( sys1808 is GPF )
-sg  sys1808
-st  sys1808
-zu  sys1808
-of+ sys1808
-zdf sys1808
-zdl sys1808
-zdp sys1808
-zff sys1808
-zfp sys1808
-zgf sys1808
-zgp sys1808

Later, using in src/rtl/gtos2/Makefile
   HB_BUILD_OPTIM := no
I found in make_ow.log that switchs are:
  "-zq -bt=os2 -w3 -bm"
where "-s" does not exist
so I used
   HB_BUILD_OPTIM := no
and
   HB_CFLAGS += (switchs)
to test with different values

"-zq -bt=os2 -w3 -bm" + (switchs) results, including "[ total real time: ]":

-6r   23.67
-6r -fp6  23.72
-6r -fp6 -ei -zp4 -zt0 -oi+  23.56
-6r -fp6 -ei -zp4 -zt0 -oi+ -onaehtr  23.40
-6r -fp6 -ei -zp4 -zt0 -oi+ -onaehtr -sg  23.78
-6r -fp6 -ei -zp4 -zt0 -oi+ -onaehtr -sg -s sys1808

Perhaps is time to request help to OpenWatcom developers

Now is easy to make tests with and without "-s" switch and "speedtst
--thread" so they can review both cases
... and they can debug

A very brief guide for them:

- Harbour checkout
a) with "-s" switch
- Build Harbour
- Build and run "speedtst --thread"
   It GPF

b) without "-s" switch
- Clean Harbour
- Remove "-s" from:
   config\os2\watcom.mk
   utils\hbmk2\hbmk2.prg in OS/2 case
- Build Harbour
- Build and run "speedtst --thread"
   It does not GPF

>So the speed overhead caused by compiling only GTOS2 without any
>optimization and with stack overflow check code is minimal.
>Very good.

I suppose same apply for gtstd

David Macias



From Istvan.Bisz at t-online.hu  Sat Dec  5 06:08:15 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sat Dec  5 06:08:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>
	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>
Message-ID: <001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>

>I'd like to recommend to stick with 4.5.2 until these 
>issues are cleared up.

Or 4.5.3 ?

>> @set HB_USER_LDFLAGS=-static-libgcc
>> @set HB_USER_DFLAGS=-static-libgcc

>Can you tell, what these options are doing?

The @set HB_USER_LDFLAGS=-static-libgcc, stops the following exe to ask for
'libgcc_s_dw2-1.dll':

harbour.exe
hbformat.exe
hbi18n.exe
hbmk2.exe
hbpp.exe
hbrun.exe
hbtest.exe

The @set HB_USER_DFLAGS=-static-libgcc, stops the following exe to ask for
'libgcc_s_dw2-1.dll':

hbformat-dll.exe
hbi18n-dll.exe
hbmk2-dll.exe
hbrun-dll.exe
hbtest-dll.exe

See below:

http://sourceforge.net/project/shownotes.php?release_id=691876:

File Release Notes and Changelog

Release Name: Current Release: gcc-4.4.0

Notes:
The MinGW.org team is pleased to offer a binary release of GCC 4.4.0.

....

5.  GENERAL NOTES

- Throwing exceptions through foreign frames

Previous versions of GCC would blindly unwind through all foreign frames.
If these frames did not have valid unwind information, perhaps because
they were written in a language that does not have exceptions, program
data structures might be left in an incoherent state, leading to
mysterious bugs including data loss and program crashes.  From now on,
GCC will only unwind through frames if it can be determined that the
functions understand exceptions.  Currently, functions that use either
Dwarf-2 EH or SEH are supported.

Unfortunately, in i386 versions of Windows, there is no reliable way
for the compiler or runtime unwinder to tell if a function supports
unwinding with SEH.  Consequently, it is necessary to add the seh_aware
decorator to the declarations of foreign SEH functions that exceptions
might be thrown through.

If you intend to throw exceptions through Windows API callbacks, you
will need to add __attribute__((seh_aware)) to the declaration of the
corresponding API function.  This is only a temporary measure, as a
future version of w32api from MinGW.org will have some sort of way of
adding this annotation automatically.  Note that it is not necessary to
add this attribute to the callbacks themselves, or any other function
definition that is compiled by GCC; it is only necessary for foreign
functions.

- Dynamic linking with libgcc_s_dw2-1.dll

Dynamic linking with libgcc_s_dw2-1.dll is necessary to throw
exceptions between different modules, such as between two DLLs or a
DLL and an EXE.  Consequently, it is the default for all languages
other than C.  To disable this dynamic linking, use -static-libgcc.
To enable this dynamic linking in C, use -shared-libgcc.

Best regards,
Istv?n


From harbour.01 at syenar.hu  Sat Dec  5 06:32:21 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Dec  5 06:32:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>
	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>
	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>
Message-ID: <1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>

Hi Istvan,

>> I'd like to recommend to stick with 4.5.2 until these 
>> issues are cleared up.
> 
> Or 4.5.3 ?

While I've seen the blog entry from QT release manager 
announcing this version, I can find no sign of it on the 
download page. (I checked 30 minutes ago)

If you have some pointers, pls send them to the list.

>>> @set HB_USER_LDFLAGS=-static-libgcc
>>> @set HB_USER_DFLAGS=-static-libgcc
> 
>> Can you tell, what these options are doing?
> 
> The @set HB_USER_LDFLAGS=-static-libgcc, stops the following exe to ask for
> 'libgcc_s_dw2-1.dll':
> 
> harbour.exe
> hbformat.exe
> hbi18n.exe
> hbmk2.exe
> hbpp.exe
> hbrun.exe
> hbtest.exe
> 
> The @set HB_USER_DFLAGS=-static-libgcc, stops the following exe to ask for
> 'libgcc_s_dw2-1.dll':
> 
> hbformat-dll.exe
> hbi18n-dll.exe
> hbmk2-dll.exe
> hbrun-dll.exe
> hbtest-dll.exe

Oh okay, that's good. Although I wonder whether isn't this 
the bit which causes GPFs when trying to mix C and C++ 
components. Can you make a test without this switch and 
plain default Harbour compilation mode?

Plus, can you send some ways to reproduce the GPFs you 
mentioned. I tried default build and for me hbide worked, 
but I didn't test it thoroughly.

> See below:
> 
> http://sourceforge.net/project/shownotes.php?release_id=691876:
> 
> File Release Notes and Changelog
> 
> Release Name: Current Release: gcc-4.4.0
> 
> Notes:
> The MinGW.org team is pleased to offer a binary release of GCC 4.4.0.

Great, I thought this project was dead. Anyhow I'm not 
sure I'm confident in this release yet and/or if we must 
use a specific MinGW build. We should also test with tdragon.net 
release.

> If you intend to throw exceptions through Windows API callbacks, you
> will need to add __attribute__((seh_aware)) to the declaration of the
> corresponding API function.  This is only a temporary measure, as a

(I better not say anything here)

> - Dynamic linking with libgcc_s_dw2-1.dll
> 
> Dynamic linking with libgcc_s_dw2-1.dll is necessary to throw
> exceptions between different modules, such as between two DLLs or a
> DLL and an EXE.  Consequently, it is the default for all languages
> other than C.  To disable this dynamic linking, use -static-libgcc.
> To enable this dynamic linking in C, use -shared-libgcc.

Thank you.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Sat Dec  5 06:58:33 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sat Dec  5 06:58:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>
	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>
Message-ID: <001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>

Hi Viktor,

>>> I'd like to recommend to stick with 4.5.2 until these 
>>> issues are cleared up.
>> 
>> Or 4.5.3 ?

> While I've seen the blog entry from QT release manager 
> announcing this version, I can find no sign of it on the 
> download page. (I checked 30 minutes ago)

> If you have some pointers, pls send them to the list.

http://get.qt.nokia.com/qtsdk/

>Can you make a test without this switch and 
>plain default Harbour compilation mode?

These switches introduction is the last tuning intervention, after the c++
force decision, but somebody else on different platform... I am using Vista
Ultimate SP2.
  
>Plus, can you send some ways to reproduce the GPFs you 
>mentioned. I tried default build and for me hbide worked, 
>but I didn't test it thoroughly.

Just try to exit demoqt...

> Thank you.

You're welcome.

Best regards,
Istv?n


From harbour.01 at syenar.hu  Sat Dec  5 07:04:03 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec  5 07:04:17 2009
Subject: [Harbour] HBMK2 and Linux x86@64
In-Reply-To: <20091205024218.GA19284@linux-4bod.home.aster.pl>
References: <20091204213234.GA17675@linux-4bod.home.aster.pl>
	<6438CD10-FB40-4023-A734-D88773012DEC@syenar.hu>
	<20091205024218.GA19284@linux-4bod.home.aster.pl>
Message-ID: <1C39C857-0F0C-4FD5-B343-6682892CB6D3@syenar.hu>

>> One thing is not clear for me. What are these switches 
>> doing on non-Intel systems?
> 
> Simultaneous runtime support for 32 and 64 bit modes is not only x86
> world feature. Many processors have such capacity, i.e. SUN SPARCs or
> HP PR-RISC machines.
> It's also supported by other then Linux systems like SunOS or HP-UX
> 
> Anyhow for some CPUs/systems switches to control 32/64 bit versions
> have slightly different names, i.e. -milp32/-mlp64 on HB-UX or
> -m31/-m64 on S/390 machines.

So I understand this is sort of bit-width only selection, 
which is applied to current CPU arch, be it anything which 
supports both width and under which current platform is 
running.

The idea is still unclear, but this seems to require some 
sort of "loose" cpu selection option in hbmk2: -cpu=[32|64|128]

I managed to check on Mac PPC, and it chooses between PPC32 
(default) and PPC64, with -m32/-m64. Which fits into the 
picture.

This could be used to eliminate msvc64, pocc64, mingw64 
and some more targets.

Of course -cpu has to support for strict CPU selection, 
like: -cpu=ia64

Plus it would be nice if -cpu would support multi CPU 
selection for Darwin: -cpu=32,64,ppc,

>> Next thing to decide is how to control this matter, 
>> because if you say that hbmk2 should automatically 
>> add -m64 as linker option, it means we're converting 
>> -m* switches to hbmk2 ones, and in this case I'm not 
>> sure it's the best thing to do. We already have 
>> -plat switch to choose these kind of things for win/wce 
>> platform, but it's not very good either, so maybe its 
>> time to introduce new -cpu switch. This however seems to 
>> need more serious redesign of autodetection code in hbmk2 
>> and possibly in GNU Make system (and probably more).
> 
> There is one important difference between above. It's not
> classic cross build because it's only selection between different
> version of supported binaries anyhow if you what to use different
> hbmk2 switch and well integrate it with other switches then it's
> even beteer.
> Important is only final result which should allow to easy switch
> between 32 and 64 bit modes without writing very long parameter
> list in command line.
> BTW I still have problems to create easy to use hbmk2 configuration
> for different builds.

It needs above "virtual" CPU selection.

>> So for now, to avoid that, the best shortcut is to 
>> simply parse HB_USER_CFLAGS for -m64/-m32 and make 
>> some internal decisions based on that. It cannot be 
>> done in very clean way, but at least I don't have to 
>> rewrite the whole thing before release. In this 
>> scenario it's users job to pass this switch to 
>> HB_USER_LDFLAGS also (but is this really required?, 
>> cannot the linker automatically detect the target 
>> arch based on input files?).
> 
> These switches have to be passed to HB_USER_CFLAGS, HB_USER_LDFLAGS
> and HB_USER_DFLAGS. Now I'm building 32 bit Harbour version in my
> 64-bit Linux using this simple script:
> 
>   #!/bin/sh
>   FLAGS="-m32"
>   export HB_USER_CFLAGS="${FLAGS}"
>   export HB_USER_LDFLAGS="${FLAGS}"
>   export HB_USER_DFLAGS="${FLAGS}"
>   # CURL has specific header files which have hardcoded endian and
>   # word size information :-(
>   export HB_WITH_CURL=no
>   make "$@"
> 
> and it works very nice if I do not use system wide installation.
> Also hbmk2 even nicely inherits -m32 in hbmk.cfg flags.

I understand.

>> The other remaining thing to see, is how this thing 
>> works on other *nix platforms? bsd for example, or 
>> even darwin.
> 
> In BSD systems probably in similar way just like in SunOS or HP-UX.
> I cannot only say too much about default system directories in this
> systems.
> 
>> On darwin / clang and gcc it seems to work similarly 
>> to Linux, but I did only try on Snow Leopard / Intel.
>> [ PCC would really be interesting here, but I deleted 
>> XCode from my old machine just recently. ]
> 
> I have no idea how it may work on Darvin with its existing support
> for mixed PPC and x86 binaries.

Okay, not it only has to be implemented. Since there is no 
-cpu support at all in either GNU Make or hbmk2 currently, 
and we're before the release, I'm not very comfortable with 
the idea, as it may need deeper, even structural changes.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Sat Dec  5 07:10:17 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sat Dec  5 07:10:27 2009
Subject: [Harbour] hbide projects subfolder issue
Message-ID: <001301ca75a3$e8d1c0e0$ba7542a0$@Bisz@t-online.hu>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbide.hbi
Type: application/octet-stream
Size: 1209 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091205/f0235170/hbide.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbide.hbi.mine
Type: application/octet-stream
Size: 1168 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091205/f0235170/hbide.hbi.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbide.hbi.r13120
Type: application/octet-stream
Size: 1138 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091205/f0235170/hbide.hbi-0001.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbide.hbi.r13128
Type: application/octet-stream
Size: 1103 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091205/f0235170/hbide.hbi-0002.obj
From vszakats at users.sourceforge.net  Sat Dec  5 07:11:37 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec  5 07:11:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13129] trunk/harbour
Message-ID: <E1NGtU9-0000zn-EL@74yxhf1.ch3.sourceforge.com>

Revision: 13129
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13129&view=rev
Author:   vszakats
Date:     2009-12-05 12:11:36 +0000 (Sat, 05 Dec 2009)

Log Message:
-----------
2009-12-05 13:11 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * win-make.exe
  * INSTALL
    + Updated to latest mingw release. Updated links.

  * utils/hbmk2/hbmk2.prg
    + Minor step towards -cpu support.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/win-make.exe


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From M.Horodyski at pzuzycie.com.pl  Sat Dec  5 07:12:15 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Sat Dec  5 07:12:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13116] trunk/harbour
In-Reply-To: <26640524.post@talk.nabble.com>
References: <E1NGSeU-0001At-8A@dn4whf1.ch3.sourceforge.com><609353e70912040045y11c4df36ga4a5ca2865034f2f@mail.gmail.com>
	<26640524.post@talk.nabble.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502B464A8@PINK.zycie.pzu>

>-----Original Message-----
>From: Pritpal Bedi [mailto:bedipritpal@hotmail.com] 
>Sent: Friday, December 04, 2009 10:55 PM
>To: harbour@harbour-project.org
>Subject: Re: [Harbour] SF.net SVN: harbour-project:[13116] 
>trunk/harbour

[...]

>Please note that, and do not request for, HBIDE will not 
>support abbreviated 
>Clipper compatible KEYWORDS. So Function => FUNction etc will 
>be recognized,
>but NOT Func => FUNc => FUNct etc. xMate also does not support it.

Pritpal, 
Andy Wos was add this functionality as well as below in the xMate like him enough time, but unfortunately he was never enough :(
He was a product that could be used for editing programs ( from 1989 year) - called MaxThink.
He did not show the interior loop, or other structures, highlight it just a different color on the screen.
To see what is there, it was necessary to reach there.
These sources show a closer komendom implementation, and allows for more efficient writing complex algorithms.
The screen looks something like this:
1 :
  0  Static Status := { '', 0, 0, { || .f.}, 0, .f.} //, zegarek?
   -?  1  Function KodKlaw( s, d) // czaS, Domyslny_kod_klawisza?
       2  Function KeyLock( ns)?

Upon entry to the function KodKlaw :
2:
  1  Function KodKlaw( s, d) // czaS, Domyslny_kod_klawisza?
   -?  1  * include&define?
       2  MEMVAR safescreen?
       3  Local q := SECONDS(), t := Zegarek(), tm, v := V(), ko := Ko()?
       4  Local e, x, l, o, co := SetColor(), k := 0 /*InKey()*/, cb, g?
       5  Local r := Row(), c := Col(), m := SetCursor()?
       6  Local ss := "SYSTEM_M"?
       7  DEFAULT s TO 0, d TO 0?
       8  // Mouse_On()?
       9  WHILE k == 0?
      10  END?
      11  SetColor( co) ; SetCursor( m) ; SetPos( r, c) //; Mouse_Off()?
      12  RETURN k?

Upon entry to the WHILE k == 0 :
3:
  9  WHILE k == 0?
   -?  1  If     Status[ Macro] == ExecuteMacro?
       2  ElseIf ( k := INKEY()) != 0?
       3  ElseIf t != ( tm := TIME()) .AND. ++Status[ StukPuk] == 3600?
       4  End?
       5  If     k == 0?
       6  ElseIf k < 0 .AND. Przedzial( K_ALT_F6, k, K_ALT_F4) .OR. k == K_ALT_X?
       7  End?
       8  IF Przedzial( K_ALT_Q, k, K_ALT_M) .AND. Status[ ALTKeyLock]?
       9  END?
      10  IF t != tm .OR. s % 1 > 0?
      11  END?
      12  OL_Yield()?
Etc...
Maybe this could be to implement in the HBIDE?
I hope that the text in googleEnglish is understandable:)

Regards,
Marek Horodyski
From druzus at users.sourceforge.net  Sat Dec  5 07:21:41 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Dec  5 07:21:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13130] trunk/harbour
Message-ID: <E1NGtdt-00019o-4W@74yxhf1.ch3.sourceforge.com>

Revision: 13130
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13130&view=rev
Author:   druzus
Date:     2009-12-05 12:21:39 +0000 (Sat, 05 Dec 2009)

Log Message:
-----------
2009-12-05 13:21 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/gtos2/Makefile
  * harbour/config/os2/watcom.mk
    * disable -s in GTOS2 OpenWatcom builds using HB_CSTACK_CHECK variable.
      This is workaround for wrong code generated by OpenWatcom <= 1.8
      when -s switch is used for functions calling APIENTRY16 functions.
      Such code executed from non main thread causes GPF.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/src/rtl/gtos2/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sat Dec  5 07:24:45 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Dec  5 07:24:52 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
In-Reply-To: <4B1A3E56.7050609@mail.udg.mx>
References: <4B1A3E56.7050609@mail.udg.mx>
Message-ID: <20091205122445.GA7553@linux-4bod.home.aster.pl>

On Sat, 05 Dec 2009, David Arturo Macias Corona wrote:

Hi,

> From previous tests only -s removed avoid GPF
> A year ago -sg increased run time, but today we have new Harbour and new
> OpenWatcom

Harbour code does not make any difference in this problem.
It's only OpenWatcom bug.
So the only one solution is removing -s option.

In such case we have to find the method to pass information from
src/rtl/gtos2/Makefile to config/os2/watcom.mk that -s should not
be used. I can quite easy hack it introducing new variable like
   HB_CSTACK_CHECK=yes
but maybe Viktor has some other propositions which will better
integrate with all other make parameters?.
Viktor I'll add above HB_CSTACK_CHECK but if you prefer other names
or different solution then please modify it.

> Perhaps is time to request help to OpenWatcom developers

Yes, though it will be rather bug report.
For sure current behavior have to be fixed in OpenWatcom.

> >So the speed overhead caused by compiling only GTOS2 without any
> >optimization and with stack overflow check code is minimal.
> >Very good.
> I suppose same apply for gtstd

Have you checked it?
GTSTD does not call internally any OS2 APIENTRY16 function so it
should not exploit the problem. If it does then it means that
OpenWatcom CTRL functions kbhit()/getch() internally calls APIENTRY16
functions and where compiled with -s switch so they have the same
problem.
If you have a while then please download current SVN code (it should
have new workaround which disable -s only for GTOS2) then compile it
and make test using:
   speedtst.exe --thread
linked with GTSTD, i.e.:
   hbmk2 speedtst.prg -l -kmo -gc3 -gtstd
Such information may be important for OpenWatcom developers.

best regards,
Przemek
From Istvan.Bisz at t-online.hu  Sat Dec  5 07:27:07 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sat Dec  5 07:27:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>
	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>
Message-ID: <001f01ca75a6$42f42d40$c8dc87c0$@Bisz@t-online.hu>

Hi Viktor,

Try this:

http://get.qt.nokia.com/qt/source/

Best regards,
Istv?n


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Bisz Istv?n
Sent: 2009. december 5. 12:59
To: 'Harbour Project Main Developer List.'
Subject: RE: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour

Hi Viktor,

>>> I'd like to recommend to stick with 4.5.2 until these 
>>> issues are cleared up.
>> 
>> Or 4.5.3 ?

> While I've seen the blog entry from QT release manager 
> announcing this version, I can find no sign of it on the 
> download page. (I checked 30 minutes ago)

> If you have some pointers, pls send them to the list.

http://get.qt.nokia.com/qtsdk/

>Can you make a test without this switch and 
>plain default Harbour compilation mode?

These switches introduction is the last tuning intervention, after the c++
force decision, but somebody else on different platform... I am using Vista
Ultimate SP2.
  
>Plus, can you send some ways to reproduce the GPFs you 
>mentioned. I tried default build and for me hbide worked, 
>but I didn't test it thoroughly.

Just try to exit demoqt...

> Thank you.

You're welcome.

Best regards,
Istv?n


_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Dec  5 07:32:25 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Dec  5 07:32:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>
	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>
	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>
Message-ID: <83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>

>>>> I'd like to recommend to stick with 4.5.2 until these 
>>>> issues are cleared up.
>>> 
>>> Or 4.5.3 ?
> 
>> While I've seen the blog entry from QT release manager 
>> announcing this version, I can find no sign of it on the 
>> download page. (I checked 30 minutes ago)
> 
>> If you have some pointers, pls send them to the list.
> 
> http://get.qt.nokia.com/qtsdk/

Thank you. So apparently they didn't make a binary release, 
just source. This makes it a non-option for most users who 
don't want to spend their time to find out how to build it 
and wait half a day to wait for the build to finish :(

>> Can you make a test without this switch and 
>> plain default Harbour compilation mode?
> 
> These switches introduction is the last tuning intervention, after the c++
> force decision, but somebody else on different platform... I am using Vista
> Ultimate SP2.

>> Plus, can you send some ways to reproduce the GPFs you 
>> mentioned. I tried default build and for me hbide worked, 
>> but I didn't test it thoroughly.
> 
> Just try to exit demoqt...

Here it exists cleanly. (Win7/64)

I've rebuild whole Harbour using default mode with gcc-dw2 
yesterday, plus hbqt/hbxbp in a separate previous pass, also 
with gcc-dw2. So here it doesn't seem to require C++ mode for 
core. I didn't use the static gcc lib switches. My gcc-dw2 
is the regular tdragon release with the two unzipped dwarf2 
.zip unzipped into the same tree, overwriting one .dll (which  
.dll is an identical one).

Some UI problems though:

Although File/Exit will ask me a question, where the only 
answer is "OK", and clicking on it doesn't exit the app.

In hbide, File/Exit works (no confirm question though), 
but here when I click on close button, it says "You can 
also close me by pressing [ESC]". Then it exists on "OK" button.
<Esc> button BTW doesn't close the window, which is good.

demoxbp doesn't have a File/Exit menu at all :(

Pritpal, if you see this, could you kindly check/fix the 
exiting procedures on all QT programs? Current situation 
is confusing and misleading.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Dec  5 07:42:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec  5 07:42:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13131] trunk/harbour
Message-ID: <E1NGty5-0007Yd-E9@bj8yhf1.ch3.sourceforge.com>

Revision: 13131
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13131&view=rev
Author:   vszakats
Date:     2009-12-05 12:42:32 +0000 (Sat, 05 Dec 2009)

Log Message:
-----------
2009-12-05 13:40 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/gtos2/Makefile
  * config/os2/watcom.mk
    % Changed the way -s option is disabled for certain modules
      (currently gtos2).
      This method doesn't require new variable, although it's still 
      a hack.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/src/rtl/gtos2/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sat Dec  5 08:34:06 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Dec  5 08:34:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13131] trunk/harbour
In-Reply-To: <E1NGty5-0007Yd-E9@bj8yhf1.ch3.sourceforge.com>
References: <E1NGty5-0007Yd-E9@bj8yhf1.ch3.sourceforge.com>
Message-ID: <20091205133406.GA8476@linux-4bod.home.aster.pl>

On Sat, 05 Dec 2009, vszakats@users.sourceforge.net wrote:

Hi,

> 2009-12-05 13:40 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * src/rtl/gtos2/Makefile
>   * config/os2/watcom.mk
>     % Changed the way -s option is disabled for certain modules
>       (currently gtos2).
>       This method doesn't require new variable, although it's still 
>       a hack.

I intentionally haven't used such method because also some contrib
code may need it. Anyhow I've just written simple script which
extracts all APIENTRY16 functions from OS2 OpenWatcom header files
and then scans Harbour source code for each of them and now only
GTOS2 uses such functions. Below is result of full scan.

best regards,
Przemek




src/rtl/gtkeycod.c: *          getkey()/getch()/_read_kbd()/KbdCharIn() or similar function
src/rtl/gtos2/gtos2.c:   KbdCharIn( s_key, IO_NOWAIT, ( HKBD ) * s_hk );
src/rtl/gtos2/gtos2.c:      MouClose( s_uMouHandle );           /* relese mouse handle */
src/rtl/gtos2/gtos2.c:      MouDrawPtr( s_uMouHandle );
src/rtl/gtos2/gtos2.c:      MouGetNumButtons ( &usButtons, s_uMouHandle );
src/rtl/gtos2/gtos2.c:      MouGetPtrPos( &pos, s_uMouHandle );
src/rtl/gtos2/gtos2.c:   if( MouOpen ( 0L, &s_uMouHandle ) )          /* try to open mouse */
src/rtl/gtos2/gtos2.c:      if( MouReadEventQue( &MouEvent, &WaitOption, s_uMouHandle ) == NO_ERROR )
src/rtl/gtos2/gtos2.c:      MouRemovePtr( &rect, s_uMouHandle );
src/rtl/gtos2/gtos2.c:      MouSetEventMask ( &fsEvents, s_uMouHandle );    /* mask some events */
src/rtl/gtos2/gtos2.c:      MouSetPtrPos( &pos, s_uMouHandle );
src/rtl/gtos2/gtos2.c:   VioGetCp( 0, &s_usOldCodePage, 0 );
src/rtl/gtos2/gtos2.c:   VioGetCurPos( &y, &x, 0 );
src/rtl/gtos2/gtos2.c:   VioGetCurType( &vi, 0 );
src/rtl/gtos2/gtos2.c:/* Instead of calling VioGetMode() every time I need MaxRow() or MaxCol() I
src/rtl/gtos2/gtos2.c:         con: VioGetMode is been called twice
src/rtl/gtos2/gtos2.c:      VioGetMode( &vi, 0 );
src/rtl/gtos2/gtos2.c:   VioGetMode( &s_vi, 0 );        /* fill structure with current video mode settings */
src/rtl/gtos2/gtos2.c:   VioGetMode( &s_vi, 0 );    /* fill structure with current settings */
src/rtl/gtos2/gtos2.c:      VioGetMode( &s_vi, 0 );    /* fill structure with current settings */
src/rtl/gtos2/gtos2.c:   VioGetMode( &s_vi, 0 );    /* fill structure with current settings */
src/rtl/gtos2/gtos2.c:   VioGetState( &vi, 0 );
src/rtl/gtos2/gtos2.c:      VioReadCellStr( ( PCH ) s_sLineBuf, &usSize, iRow, 0, 0 );
src/rtl/gtos2/gtos2.c:   if( VioSetCp( 0, 437, 0 ) != NO_ERROR )
src/rtl/gtos2/gtos2.c:      VioSetCp( 0, s_usOldCodePage, 0 );
src/rtl/gtos2/gtos2.c:   VioSetCp( 0, s_usOldCodePage, 0 );
src/rtl/gtos2/gtos2.c:      VioSetCurPos( ( USHORT ) iRow, ( USHORT ) iCol, 0 );
src/rtl/gtos2/gtos2.c:   VioSetCurType( &vi, 0 );
src/rtl/gtos2/gtos2.c:   fResult = VioSetMode( &s_vi, 0 ) == 0; /* 0 = Ok, other = Fail */
src/rtl/gtos2/gtos2.c:   VioSetState( &vi, 0 );
src/rtl/gtos2/gtos2.c:   VioWrtCellStr( ( PCH ) s_sLineBuf, iLen << 1, iRow, iCol, 0 );
From Istvan.Bisz at t-online.hu  Sat Dec  5 08:35:01 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sat Dec  5 08:35:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>
	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>
Message-ID: <002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>

> Here it exists cleanly. (Win7/64)

I still have this. Also in hbide Load project and push cancel...

Before radical restructuration in my development environment, maybe somebody
else try to jump in the tests...

See below:

==================================================
@echo PREREQUISITES:
@echo Installed Qt SDK 4.6 to the default directory: c:\Qt\2009.05 ...
@echo from: http://get.qt.nokia.com/qtsdk/qt-sdk-win-opensource-2009.05.exe
@echo Note: MinGW GCC 4.4.0 is part of this installation
@echo Updated c:\download\harbour with the latest SVN
@pause

@set HB_WITH_QT=C:/Qt/2009.05/qt/include
@set HB_INSTALL_PREFIX=c:\harbour\mingw
@set HB_BUILD_OPTIM=yes
@set HB_BUILD_UNICODE=yes

@rem @set HB_BUILD_MODE=cpp
@rem @set HB_USER_LDFLAGS=-static-libgcc
@rem @set HB_USER_DFLAGS=-static-libgcc

@set PATH=C:\devl\MinGWtdm\bin;%PATH%
@rem @set PATH=c:\Qt\2009.05\mingw\bin;%PATH%

@cd c:\downloads\harbour
@win-make clean install

@set PATH=C:\devl\MinGWtdm\bin;c:\harbour\mingw\bin;c:\qt\2009.05\bin;%PATH%
@rem @set
PATH=c:\Qt\2009.05\mingw\bin;c:\harbour\mingw\bin;c:\qt\2009.05\bin;%PATH%

@cd c:\downloads\harbour\contrib\hbide
@hbmk2 hbide.hbp -cpp
@cd c:\downloads\harbour\contrib\hbxbp\tests
@hbmk2 demoxbp.prg -cpp
@cd c:\downloads\harbour\contrib\hbqt\tests
@hbmk2 demoqt.prg -cpp

@set PATH=C:\Qt\2009.05\qt\bin;C:\devl\MinGWtdm\bin;%SystemRoot%\System32

@cd c:\downloads\harbour\contrib\hbide
@hbide
@pause
@cd c:\downloads\harbour\contrib\hbxbp\tests
@demoxbp
@pause
@cd c:\downloads\harbour\contrib\hbqt\tests
@demoqt
@pause
==================================================


From harbour.01 at syenar.hu  Sat Dec  5 08:42:02 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Dec  5 08:42:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>
	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>
	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>
Message-ID: <1E529B8A-F7B2-49AC-902D-788BB133FB9D@syenar.hu>

> See below:
> 
> http://sourceforge.net/project/shownotes.php?release_id=691876:

I'm trying to install this, and my "astonishment" just 
continues about the mingw project. First they use .lzma 
extension instead of well-known .7z. Fine. Then they insist 
on using .tar inside the .7z file, which is a solid archive 
anyway, so .tar doesn't give any size advantages. Then they 
insist on using *nix links inside the .tar meant for 
the Windows platform which doesn't have support for such 
links.

This means the only way to extract this release, is if 
you have Linux or OS X, or probably it can also work 
under msys, but with a very bumpy experience (I didn't 
try it).

The package is a hefty 400MB in size, so it won't be a 
candidate for inclusion in unified build either.

If you try to pick the parts listed on the release page, 
it's also extremely frustrating. Parts are in different 
dirs, some parts get extracted to their own subdirs, others 
not, so overall it's manual and error prone process. Not 
to mention some version inconsistencies and other "minor" 
stuff, like clashing files... (libiberty.a).

I sometimes seriously wonder on the level of insaneness 
present in some projects... mingw is meant for Windows 
users as far as I understand, yet it's almost impossible 
for them to use it. If this is the open source alternative 
to MSVC, it's a pretty sad picture.

I'd still recommend the tdragon build, since the mingw 
project seems to be hopelessly lost.

Sorry for the rant.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Dec  5 08:47:41 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Dec  5 08:47:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>
	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>
	<002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>
Message-ID: <3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>

> @set HB_BUILD_OPTIM=yes

This is the default.

> @set HB_BUILD_UNICODE=yes

I didn't use this one, although it shouldn't make a difference.

> @cd c:\downloads\harbour\contrib\hbide
> @hbmk2 hbide.hbp -cpp
> @cd c:\downloads\harbour\contrib\hbxbp\tests
> @hbmk2 demoxbp.prg -cpp
> @cd c:\downloads\harbour\contrib\hbqt\tests
> @hbmk2 demoqt.prg -cpp

-cpp is not needed here. I did a test with hbide + -cpp, 
and while the source ideparseexpr.c has lots of warnings, it 
still doesn't GPF for me. I tried project open + cancel.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Sat Dec  5 08:49:42 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sat Dec  5 08:49:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <1E529B8A-F7B2-49AC-902D-788BB133FB9D@syenar.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>
	<1E529B8A-F7B2-49AC-902D-788BB133FB9D@syenar.hu>
Message-ID: <002701ca75b1$cc83a080$658ae180$@Bisz@t-online.hu>

> Sorry for the rant.

I have the same conclusion. That?s why I decided to use the Qt 4.6 mingw
development environment. They are moving fast and my impression was that we
are behind them at some steps, but maybe I am wrong.

Best regards,
Istv?n


From harbour.01 at syenar.hu  Sat Dec  5 08:53:40 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec  5 08:53:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13131] trunk/harbour
In-Reply-To: <20091205133406.GA8476@linux-4bod.home.aster.pl>
References: <E1NGty5-0007Yd-E9@bj8yhf1.ch3.sourceforge.com>
	<20091205133406.GA8476@linux-4bod.home.aster.pl>
Message-ID: <2C4AA52F-E5BE-4515-BA90-B31F8228A152@syenar.hu>

>> 2009-12-05 13:40 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * src/rtl/gtos2/Makefile
>>  * config/os2/watcom.mk
>>    % Changed the way -s option is disabled for certain modules
>>      (currently gtos2).
>>      This method doesn't require new variable, although it's still 
>>      a hack.
> 
> I intentionally haven't used such method because also some contrib
> code may need it. Anyhow I've just written simple script which
> extracts all APIENTRY16 functions from OS2 OpenWatcom header files
> and then scans Harbour source code for each of them and now only
> GTOS2 uses such functions. Below is result of full scan.

I see, thank you. Well, I'd contain this hack in as few source 
locations as possible, so in case we may need it in any contrib 
in the future, we can restore your solution.

Much better would be if someone (David?) reported this issue to the 
OpenWatcom developers, so that it can be fixed and such local 
hacks dropped, since it's a time-bomb, and even 3rd party code 
may exploit this bug (hbmk2 has -s switch enabled for watcom). 
Then all we'd need to do is document that x.y version is required 
due to buggy older version.

Brgds,
Viktor

From dmacias at mail.udg.mx  Sat Dec  5 09:06:23 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sat Dec  5 09:06:46 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
Message-ID: <4B1A68DF.7060406@mail.udg.mx>

Przemek:

>Harbour code does not make any difference in this problem.
>It's only OpenWatcom bug.
>So the only one solution is removing -s option.

>In such case we have to find the method to pass information from
>src/rtl/gtos2/Makefile to config/os2/watcom.mk that -s should not
>be used. I can quite easy hack it introducing new variable like
>   HB_CSTACK_CHECK=yes
>but maybe Viktor has some other propositions which will better
>integrate with all other make parameters?.
>Viktor I'll add above HB_CSTACK_CHECK but if you prefer other names
>or different solution then please modify it.

"-s" is used to avoid "stack overflow checking", as OpenWatcom doc state:

--------------------------
-s flag
=======
Stack overflow checking is omitted from the generated code.  By default,
the compiler will emit code at the beginning of every function that
checks for the "stack overflow" condition.  This option can be used to
disable this feature.  The macro __SW_S will be predefined if "s" is
selected.
--------------------------

I am unsure if switchs changes must be managed in hbmk2.prg too
In reported tests I used changes in src\rtl\gtos2\makefile(switchs) and
wpp386.exe (switchs) command line, **without** hbmk2
For example:
wpp386.exe -zq -bt=os2 -w3 -bm -6r -fp6 -ei -zp4 -zt0 -oi+ -onaehtr -sg
-s ...

>> Perhaps is time to request help to OpenWatcom developers

>Yes, though it will be rather bug report.
>For sure current behavior have to be fixed in OpenWatcom.

>> I suppose same apply for gtstd

>Have you checked it?
>GTSTD does not call internally any OS2 APIENTRY16 function so it
>should not exploit the problem. If it does then it means that
>OpenWatcom CTRL functions kbhit()/getch() internally calls APIENTRY16
>functions and where compiled with -s switch so they have the same
>problem.

I am based in older tests/messages, from Nov 2008
Tests with gtos2, gtstd, gtcgi lead us to find as conclusion problem is
related to "input devices" in threads except 1 (keyboard, mouse, ...)

Failed with gtos2, gtstd but not gtcgi

Some older messages portions ( I skipped many messages ):

Re: Harbour under OS/2 - OpenWatcom
Sat Nov 8 10:10:40 EST 2008

As you can see with GTCGI it's related to GT.
Looks like it's caused by keyboard related functions when
executed from non main thread.

--------------------------------------------------
Sat Nov 8 12:00:32 EST 2008
in hb_gt_def_InkeyPollDo() executes low level GT driver READKEY()
method. In GTOS2 it's hb_gt_os2_ReadKey(). Please also note that
it works for 1-st thread and fails only for the second one so the
problem is bound with low level GT code. In GTCGI READKEY() does
nothing and only returns K_ENTER code:

    static int hb_gt_cgi_ReadKey( PHB_GT pGT, int iEventMask )
    {
       HB_TRACE(HB_TR_DEBUG, ("hb_gt_cgi_ReadKey(%p,%d)", pGT, iEventMask));

       HB_SYMBOL_UNUSED( pGT );
       HB_SYMBOL_UNUSED( iEventMask );

       return 13;
    }

In GTOS2 and GTSTD low level keyboard code is activated and it causes
that application fails.

----------------------------------------------------------------
Sun Nov 9 10:39:48 EST 2008
HB_GT_OS2_DEFAULT and HB_GT_STD_DEFAULT should fail equal, but STD does
a step ahead  (??)

----------------------------------------------------------------
Mon Nov 10 08:09:34 EST 2008
So it's general problem with accessing console from other threads.
[...]
To be precise it's KbdPeek() and kbhit() is probably simple wrapper to it.
It means that OW internals are also effected by this problem.
The question is if it can be resolved or not. Is it OW bug or problem
with OS2 API. In GCC it seems to be resolved. The question is how.
----------------------------------------------------------------

>If you have a while then please download current SVN code (it should
>have new workaround which disable -s only for GTOS2) then compile it
>and make test using:
>   speedtst.exe --thread
>linked with GTSTD, i.e.:
>   hbmk2 speedtst.prg -l -kmo -gc3 -gtstd
>Such information may be important for OpenWatcom developers.

Harbour 13130 or 13131 ?

David Macias



From vszakats at users.sourceforge.net  Sat Dec  5 09:15:17 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec  5 09:15:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13132] trunk/harbour
Message-ID: <E1NGvPp-0001Gi-5x@bj8yhf1.ch3.sourceforge.com>

Revision: 13132
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13132&view=rev
Author:   vszakats
Date:     2009-12-05 14:15:16 +0000 (Sat, 05 Dec 2009)

Log Message:
-----------
2009-12-05 15:14 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbide/ideparseexpr.c
    ! Fixed to not use explicit values for const variable sizes.
      Using HB_SIZEOFARRAY() instead.
    ! Fixed C++ warnings.
    ! Fixed const usage. (explicit cast removed which silences
      warnings)
    % Minor optimization when returning value in PARSEXPR().
    ! Fixed potential GPF in PARSEXPR() when non string param is passed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideparseexpr.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Sat Dec  5 09:33:52 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sat Dec  5 09:34:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>	<002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>
	<3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>
Message-ID: <002801ca75b7$f7eba140$e7c2e3c0$@Bisz@t-online.hu>

OK. I will retry with these. 
But try project load + cancel (Right click on the top of project tree)

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
Sent: 2009. december 5. 14:48
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour

> @set HB_BUILD_OPTIM=yes

This is the default.

> @set HB_BUILD_UNICODE=yes

I didn't use this one, although it shouldn't make a difference.

> @cd c:\downloads\harbour\contrib\hbide
> @hbmk2 hbide.hbp -cpp
> @cd c:\downloads\harbour\contrib\hbxbp\tests
> @hbmk2 demoxbp.prg -cpp
> @cd c:\downloads\harbour\contrib\hbqt\tests
> @hbmk2 demoqt.prg -cpp

-cpp is not needed here. I did a test with hbide + -cpp, 
and while the source ideparseexpr.c has lots of warnings, it 
still doesn't GPF for me. I tried project open + cancel.

Brgds,
Viktor

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sat Dec  5 09:35:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec  5 09:36:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13133] trunk/harbour
Message-ID: <E1NGvjq-0006zh-N2@c3vjzd1.ch3.sourceforge.com>

Revision: 13133
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13133&view=rev
Author:   vszakats
Date:     2009-12-05 14:35:57 +0000 (Sat, 05 Dec 2009)

Log Message:
-----------
2009-12-05 15:33 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbide/ideparseexpr.c
    ! Fixed to not contain non-ANSI comments.
    % Minor optimizations.
    ! Fixed linearfind() to return incorrect result when called in
      case insensitive mode. (not exploited by current code)
    % Marked worker functions as static.
    + Using Harbour types HB_BOOL and HB_SIZE. (type usage is still inconsistent)
    % Elminiated HB_ISBYREF() call. Not needed.
    ! Fixed to use hb_strncat() instead of strcat().
    ! Fixed unsafe '!' oparator usage. (MSVC C++ warning)
    ; TOFIX: There is still one unsafe strncpy() usage, but I can't fix it.
             Anyone?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideparseexpr.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Dec  5 09:45:20 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Dec  5 09:45:29 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
In-Reply-To: <4B1A68DF.7060406@mail.udg.mx>
References: <4B1A68DF.7060406@mail.udg.mx>
Message-ID: <AFC16D55-3481-48FA-8964-9960ECE758D1@syenar.hu>

>> linked with GTSTD, i.e.:
>>  hbmk2 speedtst.prg -l -kmo -gc3 -gtstd
>> Such information may be important for OpenWatcom developers.
> 
> Harbour 13130 or 13131 ?

They are currently equivalent.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Dec  5 09:47:41 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Dec  5 09:47:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <002801ca75b7$f7eba140$e7c2e3c0$@Bisz@t-online.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>	<002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>
	<3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>
	<002801ca75b7$f7eba140$e7c2e3c0$@Bisz@t-online.hu>
Message-ID: <32BC1722-4B82-43C5-B25A-AEDDA640E50C@syenar.hu>

> OK. I will retry with these. 
> But try project load + cancel (Right click on the top of project tree)

OK, tried that, all I can see is weird coloring in the context 
menu (white on light-blue for highlighted item). This should be 
fixed, but there is no GPF here.

Brgds,
Viktor

From bedipritpal at hotmail.com  Sat Dec  5 10:04:19 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Dec  5 10:04:26 2009
Subject: [Harbour] hbide projects subfolder issue
In-Reply-To: <001301ca75a3$e8d1c0e0$ba7542a0$@Bisz@t-online.hu>
References: <001301ca75a3$e8d1c0e0$ba7542a0$@Bisz@t-online.hu>
Message-ID: <26656367.post@talk.nabble.com>


Hi


Bisz Istv?n wrote:
> 
> Maybe it is useful this experience. In the attachment you can find the my
> hbide ?projects1 subfolder content after some SVN updates. So, before
> hbide
> testing you should resolve these conflicts.
> 

Yep useful and already fixed.
Actually blank lines were being inserted with every next save of project.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/hbide-projects-subfolder-issue-tp26655140p26656367.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Dec  5 10:28:32 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Dec  5 10:28:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <002701ca75b1$cc83a080$658ae180$@Bisz@t-online.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>
	<1E529B8A-F7B2-49AC-902D-788BB133FB9D@syenar.hu>
	<002701ca75b1$cc83a080$658ae180$@Bisz@t-online.hu>
Message-ID: <B092D1AC-2AA0-4BAA-8D5C-7458B2149336@syenar.hu>

>> Sorry for the rant.
> 
> I have the same conclusion. That?s why I decided to use the Qt 4.6 mingw
> development environment. They are moving fast and my impression was that we
> are behind them at some steps, but maybe I am wrong.

QT having his own special MinGW release doesn't seem like an 
extremely good direction.

I've checked the QT Creator MinGW build, and it's a standard 
MinGW 4.4.0 release with a few extra packages, like gdb (plus 
local patch), plus some extra win headers and patch... and 
a slightly older binutil and w32api pkgs, by and large.

Practically it's almost the same, but easier to install 
(although it also installs MSVC redist pkg without asking 
and copies its installer to drive root without removing 
it at the end of installation), so fortunately it's not _so_ 
bad I first thought based on latest QT moves. Still I 
hope they'll submit patches to std MinGW rather than 
maintaining a fork.

I hope tdragon team will release a proper DWARF build, 
so it will be possible to have QT compatible MinGW in a 
usable way. Until then QT 4.6 users have no easy way, 
we've been there already 2-3-4 years ago...

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Sat Dec  5 10:58:05 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sat Dec  5 10:58:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <32BC1722-4B82-43C5-B25A-AEDDA640E50C@syenar.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>	<002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>	<3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>	<002801ca75b7$f7eba140$e7c2e3c0$@Bisz@t-online.hu>
	<32BC1722-4B82-43C5-B25A-AEDDA640E50C@syenar.hu>
Message-ID: <002901ca75c3$bb7797d0$3266c770$@Bisz@t-online.hu>

Here is the same.

After the last commit.
1. Delete the content of c:\harbour\mingw
2. run the script below with @rem @set HB_BUILD_MODE=cpp
	-hbide Load project + push cancel button -> GPF
	-demoqt exit -> GPF
  
3. Delete the content of c:\harbour\mingw
4. rerun the script below with @set HB_BUILD_MODE=cpp
	-hbide Load project + push cancel button -> OK
	-demoqt exit -> OK

The same experience I encountered with Qt 4.6 mingw environment (not
TDM-MINGW).
No more idea, as I have the same problem with two different development
environments, but on the same platform.
Please jump in, to clarify that it is specific to my environment or not.

Best regards,
Istv?n

=====================================================
@echo PREREQUISITES:
@echo Installed Qt SDK 4.6 to the default directory: c:\Qt\2009.05 ...
@echo from: http://get.qt.nokia.com/qtsdk/qt-sdk-win-opensource-2009.05.exe
@echo Note: MinGW GCC 4.4.0 is part of this installation
@echo Updated c:\download\harbour with the latest SVN
@pause

@set HB_WITH_QT=C:/Qt/2009.05/qt/include
@set HB_INSTALL_PREFIX=c:\harbour\mingw

@rem @set HB_BUILD_OPTIM=yes
@rem @set HB_BUILD_UNICODE=yes
@set HB_BUILD_MODE=cpp
@rem @set HB_USER_LDFLAGS=-static-libgcc
@rem @set HB_USER_DFLAGS=-static-libgcc

@set PATH=C:\devl\MinGWtdm\bin;%PATH%
@rem @set PATH=c:\Qt\2009.05\mingw\bin;%PATH%

@cd c:\downloads\harbour
@win-make clean install

@set PATH=C:\devl\MinGWtdm\bin;c:\harbour\mingw\bin;c:\qt\2009.05\bin;%PATH%
@rem @set
PATH=c:\Qt\2009.05\mingw\bin;c:\harbour\mingw\bin;c:\qt\2009.05\bin;%PATH%

@cd c:\downloads\harbour\contrib\hbide
@hbmk2 hbide.hbp
@cd c:\downloads\harbour\contrib\hbxbp\tests
@hbmk2 demoxbp.prg
@cd c:\downloads\harbour\contrib\hbqt\tests
@hbmk2 demoqt.prg

@set PATH=C:\Qt\2009.05\qt\bin;C:\devl\MinGWtdm\bin;%SystemRoot%\System32

@cd c:\downloads\harbour\contrib\hbide
@hbide
@pause
@cd c:\downloads\harbour\contrib\hbxbp\tests
@demoxbp
@pause
@cd c:\downloads\harbour\contrib\hbqt\tests
@demoqt
@pause
=====================================================


From harbour.01 at syenar.hu  Sat Dec  5 11:44:36 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Dec  5 11:44:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <002901ca75c3$bb7797d0$3266c770$@Bisz@t-online.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>	<002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>	<3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>	<002801ca75b7$f7eba140$e7c2e3c0$@Bisz@t-online.hu>
	<32BC1722-4B82-43C5-B25A-AEDDA640E50C@syenar.hu>
	<002901ca75c3$bb7797d0$3266c770$@Bisz@t-online.hu>
Message-ID: <C91D6B6A-B02D-4BDB-8DD1-2A69FDE1187C@syenar.hu>

Hi Istvan,

> The same experience I encountered with Qt 4.6 mingw environment (not
> TDM-MINGW).
> No more idea, as I have the same problem with two different development
> environments, but on the same platform.
> Please jump in, to clarify that it is specific to my environment or not.
> 
> =====================================================
> @echo PREREQUISITES:
> @echo Installed Qt SDK 4.6 to the default directory: c:\Qt\2009.05 ...
> @echo from: http://get.qt.nokia.com/qtsdk/qt-sdk-win-opensource-2009.05.exe
> @echo Note: MinGW GCC 4.4.0 is part of this installation
> @echo Updated c:\download\harbour with the latest SVN
> @pause
> 
> @set HB_WITH_QT=C:/Qt/2009.05/qt/include
> @set HB_INSTALL_PREFIX=c:\harbour\mingw

Well, one other difference and this one may be significant, 
I'm using plain binary QT distro, which gets installed into:
   <..>\Qt\4.6.0\

I didn't chose the SDK version, as I thought I need to 
build it, which is no option for me this time. Static 
builds are illegal for commercial apps anyway, so plain 
default bin build was fine.

This is the one I installed:
   http://get.qt.nokia.com/qt/source/qt-win-opensource-4.6.0-mingw.exe

[ I'll stop now, but let me note that this notion of SDK and 
non-SDK distro with different default dir (and unclear internal 
differences) is yet another thing to confuse the public :( It's 
not the first time this causes an issue on this list. ]

Brgds,
Viktor

From ice at extreme.hu  Sat Dec  5 11:56:57 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sat Dec  5 11:57:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <1E529B8A-F7B2-49AC-902D-788BB133FB9D@syenar.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
	<-6297814447993206960@unknownmsgid>
	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>
	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>
	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>
	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>
	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>
	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>
	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>
	<1E529B8A-F7B2-49AC-902D-788BB133FB9D@syenar.hu>
Message-ID: <alpine.DEB.2.00.0912051738230.8775@dawn.royalcomp.hu>

On Sat, 5 Dec 2009, Viktor Szak?ts wrote:

 > continues about the mingw project. First they use .lzma 
 > extension instead of well-known .7z. Fine. Then they insist 

they are by far not the same. .lzma to .7z is what .gz is to .zip,

 > on using .tar inside the .7z file, which is a solid archive 
 > anyway, so .tar doesn't give any size advantages. Then they

hence the need for a container, which they chose to be tar (probably 
because 7z can't, or they thought it can't store attributes they 
needed) (it probably can).

 > insist on using *nix links inside the .tar meant for 
 > the Windows platform which doesn't have support for such 
 > links.

technically, it does, has had for quite some time.

practically, if i had to pick between using these features of ntfs and 
the cheese greeter, i'd probably pick the cheese greeter.

-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Sat Dec  5 12:27:31 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Dec  5 12:27:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <002901ca75c3$bb7797d0$3266c770$@Bisz@t-online.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>	<002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>	<3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>	<002801ca75b7$f7eba140$e7c2e3c0$@Bisz@t-online.hu>
	<32BC1722-4B82-43C5-B25A-AEDDA640E50C@syenar.hu>
	<002901ca75c3$bb7797d0$3266c770$@Bisz@t-online.hu>
Message-ID: <439A0A49-169D-481C-9E34-AABB671BD36E@syenar.hu>

> @cd c:\downloads\harbour\contrib\hbide
> @hbmk2 hbide.hbp
> @cd c:\downloads\harbour\contrib\hbxbp\tests
> @hbmk2 demoxbp.prg
> @cd c:\downloads\harbour\contrib\hbqt\tests
> @hbmk2 demoqt.prg

Another suggestion:

Use -rebuild option in above hbmk2 calls. It may happen 
you get a confused state if switch back and forth between  
different compiler versions and build settings, since 
hbmk2 won't detect all of these.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Dec  5 12:38:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec  5 12:38:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13134] trunk/harbour
Message-ID: <E1NGyac-00061M-U9@74yxhf1.ch3.sourceforge.com>

Revision: 13134
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13134&view=rev
Author:   vszakats
Date:     2009-12-05 17:38:37 +0000 (Sat, 05 Dec 2009)

Log Message:
-----------
2009-12-05 18:38 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbide/hbide.prg
    - Deleted non __HARBOUR__ #if branch. Please tell me if I'm 
      wrong but hbide doesn't work anywhere else than Harbour.
    * IF() -> IIF().

  * contrib/hbide/hbide.env
    - Deleted windows-only stuff.
    - Deleted HB_COMPILER and HB_PLATFORM envvars. These are not required.
    * HB_INC_* -> HB_WITH_* although I don't understand why this is needed here.
      It probably should be deleted completely.
    ; NOTE: IMO this whole file is very much non-portable and it's not the 
            IDEs job to configure local environment. We have INSTALL to guide 
            users and hard coding any part of that information into setting 
            files is not good.

  * contrib/hbide/idestylesheets.prg
    % Optimized.

  * contrib/hbide/ideparseexpr.c
    ! Changed to use '\0' instead of 0.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.env
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideparseexpr.c
    trunk/harbour/contrib/hbide/idestylesheets.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Dec  5 12:45:51 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec  5 12:46:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0912051738230.8775@dawn.royalcomp.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
	<-6297814447993206960@unknownmsgid>
	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>
	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>
	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>
	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>
	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>
	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>
	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>
	<1E529B8A-F7B2-49AC-902D-788BB133FB9D@syenar.hu>
	<alpine.DEB.2.00.0912051738230.8775@dawn.royalcomp.hu>
Message-ID: <C7AC872B-C6B6-4334-9DD0-881C1E9D0731@syenar.hu>

>> continues about the mingw project. First they use .lzma 
>> extension instead of well-known .7z. Fine. Then they insist 
> 
> they are by far not the same. .lzma to .7z is what .gz is to .zip,
> 
>> on using .tar inside the .7z file, which is a solid archive 
>> anyway, so .tar doesn't give any size advantages. Then they
> 
> hence the need for a container, which they chose to be tar (probably 
> because 7z can't, or they thought it can't store attributes they 
> needed) (it probably can).

It's still an insane idea. Even .tar.gz is insane on Windows.
OpenSSL source still cannot be untarred. It caused days of 
time wasting with cegcc. I could go on. Insane.

>> insist on using *nix links inside the .tar meant for 
>> the Windows platform which doesn't have support for such 
>> links.
> 
> technically, it does, has had for quite some time.

I know it exists, but no tool can handle it. Tar for sure not.
At least I couldn't find one in 10 years.

> practically, if i had to pick between using these features of ntfs and 
> the cheese greeter, i'd probably pick the cheese greeter.

Hm, what is a cheese greeter? :o

Brgds,
Viktor

From bedipritpal at hotmail.com  Sat Dec  5 12:50:14 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Dec  5 12:50:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13134] trunk/harbour
In-Reply-To: <E1NGyac-00061M-U9@74yxhf1.ch3.sourceforge.com>
References: <E1NGyac-00061M-U9@74yxhf1.ch3.sourceforge.com>
Message-ID: <26657682.post@talk.nabble.com>


Hi


vszakats wrote:
> 
>   * contrib/hbide/hbide.env
>     - Deleted windows-only stuff.
>     - Deleted HB_COMPILER and HB_PLATFORM envvars. These are not required.
>     * HB_INC_* -> HB_WITH_* although I don't understand why this is needed
> here.
>       It probably should be deleted completely.
>     ; NOTE: IMO this whole file is very much non-portable and it's not the 
>             IDEs job to configure local environment. We have INSTALL to
> guide 
>             users and hard coding any part of that information into
> setting 
>             files is not good.
> 

This is absolutely right.
I just committed it to show the thought-of feature, see the comment in
changelog.
Eventually it will be removed from SVN. Also it will tell my mind to you and
guide in 
how HBMK2 can be embedded effectively into this interface.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13134--trunk-harbour-tp26657630p26657682.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From ice at extreme.hu  Sat Dec  5 12:54:31 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sat Dec  5 12:54:38 2009
Subject: [Harbour] hbtpathy/tpunix question
Message-ID: <alpine.DEB.2.00.0912051850410.8775@dawn.royalcomp.hu>


hi,

contrib/hbtpathy/tpunix.c:

270 HB_FUNC( __TP_CTRLCTS )
271 {
272 #if !defined( CRTSCTS ) && defined( __WATCOMC__ )
273 #  define CRTSCTS 020000000000
274 #endif

is there a reason for the "&& defined( __WATCOMC__ )" part? i've just 
found another platform where CRTSCTS isn't defined, and am wondering 
whether anyone has anything against, or a better idea instead of, just 
dropping the watcom constraint from this conditional.

-- 
[-]

mkdir /nonexistent
From vouchcac at users.sourceforge.net  Sat Dec  5 13:04:13 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Dec  5 13:04:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13135] trunk/harbour
Message-ID: <E1NGyzN-0002Rc-QE@dn4whf1.ch3.sourceforge.com>

Revision: 13135
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13135&view=rev
Author:   vouchcac
Date:     2009-12-05 18:04:12 +0000 (Sat, 05 Dec 2009)

Log Message:
-----------
2009-12-05 09:57 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  * contrib/hbide/projects/hbide.hbi
  * contrib/hbide/resources/projectproperties.ui
    ! Probably now <Project Properties> dialog will exit cleanly on <Cancel>.
    ! Destroyed more Qt objects on exit.

  * contrib/hbxbp/xbpstatusbar.prg
    ! Destruction of panels.    

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/projects/hbide.hbi
    trunk/harbour/contrib/hbide/resources/projectproperties.ui
    trunk/harbour/contrib/hbxbp/xbpstatusbar.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sat Dec  5 13:04:55 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Dec  5 13:05:04 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
In-Reply-To: <4B1A68DF.7060406@mail.udg.mx>
References: <4B1A68DF.7060406@mail.udg.mx>
Message-ID: <20091205180455.GA11570@linux-4bod.home.aster.pl>

On Sat, 05 Dec 2009, David Arturo Macias Corona wrote:

Hi,

> "-s" is used to avoid "stack overflow checking", as OpenWatcom doc state:
[...]
I know what it does ;-)

> I am unsure if switchs changes must be managed in hbmk2.prg too

it's necessary only for C code calling APIENTRY16 functions.
In whole Harbour SVN code only in GTOS2 such functions are used.
If you do not plan to create and compile such C code using hbmk2
then it's not necessary to modify hbmk2.

> >Have you checked it?
> >GTSTD does not call internally any OS2 APIENTRY16 function so it
> >should not exploit the problem. If it does then it means that
> >OpenWatcom CTRL functions kbhit()/getch() internally calls APIENTRY16
> >functions and where compiled with -s switch so they have the same
> >problem.
> I am based in older tests/messages, from Nov 2008
> Tests with gtos2, gtstd, gtcgi lead us to find as conclusion problem is
> related to "input devices" in threads except 1 (keyboard, mouse, ...)
> Failed with gtos2, gtstd but not gtcgi

Please check if using current clean SVN code without any modifications
you create working speedtst binaries using:

   hbmk2 speedtst -l -kmo -mt -gc3 -gtos2

to test execute them using:

   speedtst.exe --thread

This is necessary to confirm that current workaround is working for
GTOS2.

Then please rebuild only speedtst using:

   hbmk2 speedtst -l -kmo -mt -gc3 -gtstd

and repeat:

   speedtst.exe --thread

if it does not work then we can try to use the same hack for GTSTD
and check if it help. It will be an answer if it's enough to activate
debug code to check stack overflow exactly for function which calls
APIENTRY16 function or it's enough to make it on any upper level.
This information will be usable in bug report for OpenWatcom users.
Then I'll try to create small self contain example to exploit the
problem.

> ----------------------------------------------------------------
> Mon Nov 10 08:09:34 EST 2008
> So it's general problem with accessing console from other threads.
> [...]
> To be precise it's KbdPeek() and kbhit() is probably simple wrapper to it.
> It means that OW internals are also effected by this problem.
> The question is if it can be resolved or not. Is it OW bug or problem
> with OS2 API. In GCC it seems to be resolved. The question is how.
> ----------------------------------------------------------------

Thank you that you refreshed my mind but now we know more then when
I wrote above text. I.e. we confirmed it's OW problem and we found
workaround for it by enabling debug code which checks stack overflow.
This code more or less indirectly resolves the problem. It's possible
that it simply initialize some internal OW structures not initialized
when thread is started so maybe it's enough to call any function
compiled without -s as workaround. In such case instead of compiling
GTOS2 with stack debug code we can simply add single function in separate
.obj file which will be executed just after starting new thread. Above
GTSTD tests can give the basic answer if it's possible or not.

> Harbour 13130 or 13131 ?

It doesn't matter. Functionally both make the same.
It's only important you try clean SVN code without any local
modifications or HB_* envvar settings.

Thank you very much for your help.

best regards,
Przemek
From harbour.01 at syenar.hu  Sat Dec  5 13:21:52 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec  5 13:22:03 2009
Subject: [Harbour] hbtpathy/tpunix question
In-Reply-To: <alpine.DEB.2.00.0912051850410.8775@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0912051850410.8775@dawn.royalcomp.hu>
Message-ID: <F6DE1F94-E67E-4581-96A0-D42625CDE170@syenar.hu>

> 270 HB_FUNC( __TP_CTRLCTS )
> 271 {
> 272 #if !defined( CRTSCTS ) && defined( __WATCOMC__ )
> 273 #  define CRTSCTS 020000000000
> 274 #endif
> 
> is there a reason for the "&& defined( __WATCOMC__ )" part? i've just 
> found another platform where CRTSCTS isn't defined, and am wondering 
> whether anyone has anything against, or a better idea instead of, just 
> dropping the watcom constraint from this conditional.

Probably can be dropped. More could be told by checking 
file history, maybe you can spot who added it and with 
what comment.

Brgds,
Viktor

From ice at extreme.hu  Sat Dec  5 13:31:07 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sat Dec  5 13:31:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <C7AC872B-C6B6-4334-9DD0-881C1E9D0731@syenar.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
	<-6297814447993206960@unknownmsgid>
	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>
	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>
	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>
	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>
	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>
	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>
	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>
	<1E529B8A-F7B2-49AC-902D-788BB133FB9D@syenar.hu>
	<alpine.DEB.2.00.0912051738230.8775@dawn.royalcomp.hu>
	<C7AC872B-C6B6-4334-9DD0-881C1E9D0731@syenar.hu>
Message-ID: <alpine.DEB.2.00.0912051928060.8775@dawn.royalcomp.hu>

On Sat, 5 Dec 2009, Viktor Szak?ts wrote:

 > > hence the need for a container, which they chose to be tar (probably 
 > > because 7z can't, or they thought it can't store attributes they 
 > > needed) (it probably can).
 > 
 > It's still an insane idea. Even .tar.gz is insane on Windows.

i have never for one split second argued against this very true 
statement :)

 > > practically, if i had to pick between using these features of ntfs and 
 > > the cheese greeter, i'd probably pick the cheese greeter.
 > 
 > Hm, what is a cheese greeter? :o

that's what "cheese grater" becomes when i'm simultaneously trying to 
type "cheese grater" and saying "gdmgreeter" out loud :)

-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Sat Dec  5 13:31:17 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec  5 13:31:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13135] trunk/harbour
In-Reply-To: <E1NGyzN-0002Rc-QE@dn4whf1.ch3.sourceforge.com>
References: <E1NGyzN-0002Rc-QE@dn4whf1.ch3.sourceforge.com>
Message-ID: <407CE3A7-2C58-49EA-88DB-5DC981DB1FBF@syenar.hu>

> Log Message:
> -----------
> 2009-12-05 09:57 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbide/hbide.prg
>  * contrib/hbide/projects/hbide.hbi
>  * contrib/hbide/resources/projectproperties.ui
>    ! Probably now <Project Properties> dialog will exit cleanly on <Cancel>.
>    ! Destroyed more Qt objects on exit.

Maybe my question is dumb or naive, but how can it happen, 
that .prg level code or coding error causes GPF? How can 
we guarantee that such thing never happens?

IMO think a GPF should _never_ happen due to anything 
done on the .prg level.

Such thing would be unacceptable in any modern language 
like C# and Java, so it's also unacceptable in Harbour.
In worst case an exception (RTE) should be thrown, or 
the matter handled silently or by returning error.

Until this is resolved I guess we will spend a lot of time 
chasing mysterious problems without any clues why it happens, 
and looking through all levels of the toolchain just to 
try to find them.

Brgds,
Viktor

From ice at extreme.hu  Sat Dec  5 13:34:01 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sat Dec  5 13:34:08 2009
Subject: [Harbour] hbtpathy/tpunix question
In-Reply-To: <F6DE1F94-E67E-4581-96A0-D42625CDE170@syenar.hu>
References: <alpine.DEB.2.00.0912051850410.8775@dawn.royalcomp.hu>
	<F6DE1F94-E67E-4581-96A0-D42625CDE170@syenar.hu>
Message-ID: <alpine.DEB.2.00.0912051933040.8775@dawn.royalcomp.hu>

On Sat, 5 Dec 2009, Viktor Szak?ts wrote:

 > > 270 HB_FUNC( __TP_CTRLCTS )
 > > 271 {
 > > 272 #if !defined( CRTSCTS ) && defined( __WATCOMC__ )
 > > 273 #  define CRTSCTS 020000000000
 > > 274 #endif
 > > 
 > > is there a reason for the "&& defined( __WATCOMC__ )" part? i've just 
 > > found another platform where CRTSCTS isn't defined, and am wondering 
 > > whether anyone has anything against, or a better idea instead of, just 
 > > dropping the watcom constraint from this conditional.
 > 
 > Probably can be dropped. More could be told by checking 
 > file history, maybe you can spot who added it and with 
 > what comment.

it says:

2008-07-17 03:36 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbtpathy/tplinux.c
    * workaround for missing CRTCTS declaration in OpenWatcom

so i guess no harm dropping it.

thanks,

-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Sat Dec  5 13:42:12 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec  5 13:42:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0912051928060.8775@dawn.royalcomp.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
	<-6297814447993206960@unknownmsgid>
	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>
	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>
	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>
	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>
	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>
	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>
	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>
	<1E529B8A-F7B2-49AC-902D-788BB133FB9D@syenar.hu>
	<alpine.DEB.2.00.0912051738230.8775@dawn.royalcomp.hu>
	<C7AC872B-C6B6-4334-9DD0-881C1E9D0731@syenar.hu>
	<alpine.DEB.2.00.0912051928060.8775@dawn.royalcomp.hu>
Message-ID: <B4A4481A-8C8D-4EA7-845E-646F4E4B5489@syenar.hu>

>>> practically, if i had to pick between using these features of ntfs and 
>>> the cheese greeter, i'd probably pick the cheese greeter.
>> 
>> Hm, what is a cheese greeter? :o
> 
> that's what "cheese grater" becomes when i'm simultaneously trying to 
> type "cheese grater" and saying "gdmgreeter" out loud :)

Got it :)

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Sat Dec  5 13:56:11 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Dec  5 13:56:18 2009
Subject: [Harbour] A func(.=>.) like func(...) idea
Message-ID: <9257026e0912051056g1411f21cg9b6d2a51c037cdfe@mail.gmail.com>

Lately I've evaluated JavaFX for a project and I saw a code like:

/**
         * Title of the progress popup.
         */
        var progressTitle: Text = Text {
            content: "Opening {taskName}"
            font: bind getFont(fontName, fontSize)
            wrappingWidth: bind popupWidth - 30
            translateY: 20
            translateX: 10
            fill: Color.BLACK
        };

that has reminded me xharbour/contrib/xwt2 syntax that Giancarlo
Niccolai started many years ago.
So I started to think that it would be useful to have this kind of
OPTIONAL way to pass parameters to functions.

To explain the idea imagine calls like: myclass():new( 10, 20, "text
to print", .T. ), myclass():move( 5, 5 )

class myclass
method new
...
method move
endclass

method new( top, left, text, enable )
::top := top
::left := left
::text := text
::enable := enable
...
return nil

method move( x, y )
::top += x
::left += y
...
return nil

code could become myclass():new( "top: 10; left: 20; text:text to
print; enable:.T." ), myclass():move( "x:5; y:5" )

method new( .=>. )
// .=>. will create an hash like QProp made of { "top"=>10,
"left"=>20, "text"=>"text to print", "enable"=>.T.}
...
return

method move( .=>. )
QProp( "top" ) += QProp( "x" )
QProp( "left" ) += QProp( "y" )
// creating a shortcut it could become sth like:
// :::top += :::x
// :::left += :::y
...
return

I see many advantages:

- is completely optional and is compatible with existing code and syntax
- self documenting parameters and position independence
- easy to check optional and required parameters
- usable in procedures and functions also
- avoid the "copy of parameters" in VARs
- less need of commands to make code readable
- remove the "skip of commas" for optional parameters

I'd like to know the opinion of core developers about it.

best regards,
Lorenzo

I've extracted some lines of code from xharbour/contrib/xwt2 to test it:

try with sth like ./test1 "Left:1; Right:4; Text:enter text here;
Fake: 123a; Fake:a123; Enable: .T."

#xcommand ? <data,...> => OutStd( <data>, HB_OSNewLine() )

procedure main( cRequest )

   LOCAL cRegexStyle := HB_RegexComp('\s*([^:]+):\s*(("?)(.*?)\3)\s*(;|$)')
   LOCAL aMatch, nValue
   LOCAL hProps := {=>}

   cRequest := AllTrim( cRequest )

   DO WHILE Len( cRequest ) > 0
      aMatch := HB_Regex( cRegexStyle, cRequest )
      IF aMatch == NIL
         ? "MALFORMED: Signal error"
         RETURN
      ELSE
         nValue := Val( aMatch[5] )
         IF ( nValue != 0 .or. aMatch[5] == "0" ) .and. Len( AllTrim(
Str( nValue ) ) ) == Len( aMatch[5] )
            hProps[ aMatch[2] ] := nValue
         ELSEIF aMatch[5] == ".T."
            hProps[ aMatch[2] ] := .T.
         ELSEIF aMatch[5] == ".F."
            hProps[ aMatch[2] ] := .F.
         ELSE
            hProps[ aMatch[2] ] := aMatch[5]
         ENDIF
         cRequest := Substr( cRequest, Len( aMatch[1] ) + 1 )
      ENDIF
   ENDDO

   IF Len( hProps ) > 0
      ? HB_VALTOEXP( hProps )
   ENDIF

   RETURN
From harbour.01 at syenar.hu  Sat Dec  5 13:59:41 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec  5 13:59:51 2009
Subject: [Harbour] hbtpathy/tpunix question
In-Reply-To: <alpine.DEB.2.00.0912051933040.8775@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0912051850410.8775@dawn.royalcomp.hu>
	<F6DE1F94-E67E-4581-96A0-D42625CDE170@syenar.hu>
	<alpine.DEB.2.00.0912051933040.8775@dawn.royalcomp.hu>
Message-ID: <5C6A7B94-59F2-44E6-A0A6-31A0F32999DC@syenar.hu>

>>> 270 HB_FUNC( __TP_CTRLCTS )
>>> 271 {
>>> 272 #if !defined( CRTSCTS ) && defined( __WATCOMC__ )
>>> 273 #  define CRTSCTS 020000000000
>>> 274 #endif
>>> 
>>> is there a reason for the "&& defined( __WATCOMC__ )" part? i've just 
>>> found another platform where CRTSCTS isn't defined, and am wondering 
>>> whether anyone has anything against, or a better idea instead of, just 
>>> dropping the watcom constraint from this conditional.
>> 
>> Probably can be dropped. More could be told by checking 
>> file history, maybe you can spot who added it and with 
>> what comment.
> 
> it says:
> 
> 2008-07-17 03:36 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/contrib/hbtpathy/tplinux.c
>    * workaround for missing CRTCTS declaration in OpenWatcom
> 
> so i guess no harm dropping it.

Yes, it seems safe to remove the extra guard.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Dec  5 14:01:09 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec  5 14:01:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13136] trunk/harbour
Message-ID: <E1NGzsT-0002jb-RR@c3vjzd1.ch3.sourceforge.com>

Revision: 13136
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13136&view=rev
Author:   vszakats
Date:     2009-12-05 19:01:08 +0000 (Sat, 05 Dec 2009)

Log Message:
-----------
2009-12-05 20:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtpathy/tpunix.c
    ! Extra __WATCOM__ guard deleted.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtpathy/tpunix.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sat Dec  5 16:20:40 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Dec  5 16:20:47 2009
Subject: [Harbour] hbtpathy/tpunix question
In-Reply-To: <alpine.DEB.2.00.0912051850410.8775@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0912051850410.8775@dawn.royalcomp.hu>
Message-ID: <20091205212040.GA6659@linux-4bod.home.aster.pl>

On Sat, 05 Dec 2009, Tamas TEVESZ wrote:

Hi,

> contrib/hbtpathy/tpunix.c:
> 270 HB_FUNC( __TP_CTRLCTS )
> 271 {
> 272 #if !defined( CRTSCTS ) && defined( __WATCOMC__ )
> 273 #  define CRTSCTS 020000000000
> 274 #endif
> is there a reason for the "&& defined( __WATCOMC__ )" part? i've just 
> found another platform where CRTSCTS isn't defined, and am wondering 
> whether anyone has anything against, or a better idea instead of, just 
> dropping the watcom constraint from this conditional.

I intentionally reduce above define to __WATCOMC__ builds because
only for Linux open Watcom builds I verified that the valid value
is 020000000000. I should even change the condition to use:
   defined( __WATCOMC__ ) && defined( HB_OS_LINUX )
In fact I should make it also in few other places to avoid potential
problems with OpenWatcom builds for other *nixes.
CRTSCTS not commonly used constant value defined by some standards
like 0, 1, 2 for stdin, stdout and stderr handlers which we can
safely use without any macros on POSIX systems. It strictly
depends on CRTL and used system. If compiler does not redefine
this macro value using its own CRTL wrapper to system call then
on Linux and SunOS it's 0x80000000 but in OpenBSD and NetBSD it's
0x00010000, in FreeBSD it's 0x0003000, in HAIKU it's 0x6000,
DJGPP uses it's own non system code for termios with flags incompatible
with any other system and it does not CRTSCTS at least explicitly, etc.

I think that this define can be enabled for other C compilers on given
system (the same C compiler may use different constant values on different
systems) only after verification the valid value for this macro is used.
Otherwise we may only silently hide real problem. If we introduce such
hacks in too many places then porting Harbour to new OS or finding some
bugs will be nightmare.

Viktor, I've seen you committed above modification but I would like
to ask you to remove it and enable such definition only for compilers
and system where you verified exact working value. If in some systems
such functionality is available but CRTL does not give interface to
it then we can disable some part of code during compilation and
introduce 'int TODO;' dummy variable to generate warning which will
mark that some things should be updated.

best regards,
Przemek
From vouchcac at users.sourceforge.net  Sat Dec  5 16:57:06 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Dec  5 16:57:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13137] trunk/harbour
Message-ID: <E1NH2ck-0005TN-GT@c3vjzd1.ch3.sourceforge.com>

Revision: 13137
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13137&view=rev
Author:   vouchcac
Date:     2009-12-05 21:57:02 +0000 (Sat, 05 Dec 2009)

Log Message:
-----------
2009-12-05 13:57 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
    ! Build <Project Tree> from opened projects.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From eghorbino at yahoo.com  Sat Dec  5 17:18:50 2009
From: eghorbino at yahoo.com (Edmer)
Date: Sat Dec  5 17:18:56 2009
Subject: [Harbour] SF bug tracker#2906734: ClassMethod: Message not
	found (Error)
In-Reply-To: <20091201154845.GA19771@linux-4bod.home.aster.pl>
References: <1A07FEDC778C3E4AA417F089511F859C1D8375F400@Mail-yoq.SYNEL-COMPANY.LTD>
	<20091201154845.GA19771@linux-4bod.home.aster.pl>
Message-ID: <26658982.post@talk.nabble.com>


Hi Premek,

It would be really great if you could implement real class objects. I myself
is having some difficulty porting some of my applications as I'm using class
objects but anyhow I know you have several higher priority tasks and I fully
appreciate all your effort.

Thanks & Regards,
Ed




Przemys?aw Czerpak wrote:
> 
> On Tue, 01 Dec 2009, Chen Kedem wrote:
> 
> Hi,
> 
>> The following was reported on SF bug tracker:
>> http://sourceforge.net/tracker/?func=detail&atid=100681&aid=2906734&group_id=681
>> Angel Diaz Leiva (angeldiazleiva) wrote:
>> ---------------------------------
>> When making the declaration of a class, if you declare a ClassMethod
>> and then seeks to use it, there is an error message: 'message not found'
>> followed by the name of the method.
>> But if there is a ClassVar with the same name as the method does not
>> generate any error messages, although the method is not called or
>> running.
>> It appears that ClassMethod not taken into account in the class
>> declaration.
>> ---------------------------------
>> Attached is the sample given by the user
>> Tested with Rev13051 I get the same error as the user
>> I don't know if the sample program is wrong or if its a real error.
> 
> Neither Harbour nor xHarbour supports class objects like Class(y)
> so they do not support class method and class variables in the same
> way as Class(y) does. In Harbour and xHarbour class variables are
> object variables shared between objects of the same class not instance
> variables of class object like in Class(y).
> Class methods are not supported by both compilers at all.
> xHarbour translates class messages to normal messages and Harbour
> silently ignore them. If xHarbour behavior is enough for you then
> you can add after:
>    #include "hbclass.ch"
> this line:
>    #xcommand CLASS METHOD [<x,...>] => METHOD <x>
> Anyhow without real class object the code in attached example is not
> very efficient because each call to TESTCLASS() forces creating new
> instance of TESTCLASS object.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://old.nabble.com/SF-bug-tracker-2906734%3A-ClassMethod%3A-Message-not-found-%28Error%29-tp26592846p26658982.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From eghorbino at yahoo.com  Sat Dec  5 17:29:53 2009
From: eghorbino at yahoo.com (Edmer)
Date: Sat Dec  5 17:30:00 2009
Subject: [Harbour] SF bug tracker#2906734: ClassMethod: Message not
	found (Error)
In-Reply-To: <26658982.post@talk.nabble.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D8375F400@Mail-yoq.SYNEL-COMPANY.LTD>
	<20091201154845.GA19771@linux-4bod.home.aster.pl>
	<26658982.post@talk.nabble.com>
Message-ID: <26658983.post@talk.nabble.com>


Some typo in my message. What I mean by real class objects is real class
methods.

Thanks,
Ed



Edmer wrote:
> 
> Hi Premek,
> 
> It would be really great if you could implement real class objects. I
> myself is having some difficulty porting some of my applications as I'm
> using class objects but anyhow I know you have several higher priority
> tasks and I fully appreciate all your effort.
> 
> Thanks & Regards,
> Ed
> 
> 
> 
> 
> Przemys?aw Czerpak wrote:
>> 
>> On Tue, 01 Dec 2009, Chen Kedem wrote:
>> 
>> Hi,
>> 
>>> The following was reported on SF bug tracker:
>>> http://sourceforge.net/tracker/?func=detail&atid=100681&aid=2906734&group_id=681
>>> Angel Diaz Leiva (angeldiazleiva) wrote:
>>> ---------------------------------
>>> When making the declaration of a class, if you declare a ClassMethod
>>> and then seeks to use it, there is an error message: 'message not found'
>>> followed by the name of the method.
>>> But if there is a ClassVar with the same name as the method does not
>>> generate any error messages, although the method is not called or
>>> running.
>>> It appears that ClassMethod not taken into account in the class
>>> declaration.
>>> ---------------------------------
>>> Attached is the sample given by the user
>>> Tested with Rev13051 I get the same error as the user
>>> I don't know if the sample program is wrong or if its a real error.
>> 
>> Neither Harbour nor xHarbour supports class objects like Class(y)
>> so they do not support class method and class variables in the same
>> way as Class(y) does. In Harbour and xHarbour class variables are
>> object variables shared between objects of the same class not instance
>> variables of class object like in Class(y).
>> Class methods are not supported by both compilers at all.
>> xHarbour translates class messages to normal messages and Harbour
>> silently ignore them. If xHarbour behavior is enough for you then
>> you can add after:
>>    #include "hbclass.ch"
>> this line:
>>    #xcommand CLASS METHOD [<x,...>] => METHOD <x>
>> Anyhow without real class object the code in attached example is not
>> very efficient because each call to TESTCLASS() forces creating new
>> instance of TESTCLASS object.
>> 
>> best regards,
>> Przemek
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>> 
> 
> 

-- 
View this message in context: http://old.nabble.com/SF-bug-tracker-2906734%3A-ClassMethod%3A-Message-not-found-%28Error%29-tp26592846p26658983.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Dec  5 19:12:41 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec  5 19:12:50 2009
Subject: [Harbour] hbtpathy/tpunix question
In-Reply-To: <20091205212040.GA6659@linux-4bod.home.aster.pl>
References: <alpine.DEB.2.00.0912051850410.8775@dawn.royalcomp.hu>
	<20091205212040.GA6659@linux-4bod.home.aster.pl>
Message-ID: <A10720C3-27D2-4F33-A4DD-746D1557A101@syenar.hu>

> I intentionally reduce above define to __WATCOMC__ builds because
> only for Linux open Watcom builds I verified that the valid value
> is 020000000000. I should even change the condition to use:
>   defined( __WATCOMC__ ) && defined( HB_OS_LINUX )
> In fact I should make it also in few other places to avoid potential
> problems with OpenWatcom builds for other *nixes.
> CRTSCTS not commonly used constant value defined by some standards
> like 0, 1, 2 for stdin, stdout and stderr handlers which we can
> safely use without any macros on POSIX systems. It strictly
> depends on CRTL and used system. If compiler does not redefine
> this macro value using its own CRTL wrapper to system call then
> on Linux and SunOS it's 0x80000000 but in OpenBSD and NetBSD it's
> 0x00010000, in FreeBSD it's 0x0003000, in HAIKU it's 0x6000,
> DJGPP uses it's own non system code for termios with flags incompatible
> with any other system and it does not CRTSCTS at least explicitly, etc.
> 
> I think that this define can be enabled for other C compilers on given
> system (the same C compiler may use different constant values on different
> systems) only after verification the valid value for this macro is used.
> Otherwise we may only silently hide real problem. If we introduce such
> hacks in too many places then porting Harbour to new OS or finding some
> bugs will be nightmare.
> 
> Viktor, I've seen you committed above modification but I would like
> to ask you to remove it and enable such definition only for compilers
> and system where you verified exact working value. If in some systems
> such functionality is available but CRTL does not give interface to
> it then we can disable some part of code during compilation and
> introduce 'int TODO;' dummy variable to generate warning which will
> mark that some things should be updated.

If I got it correctly, it should be something like:

#if ! defined( CRTSCTS )
   #if defined( HB_OS_LINUX ) || defined( HB_OS_SUNOS )
      #define CRTSCTS 0x80000000
   #elif defined( HB_OS_BSD )
      #define CRTSCTS 0x00010000
   #elif defined( HB_OS_BEOS )
      #define CRTSCTS 0x6000
   #endif
#endif

...

#if defined( CRTSCTS )
   ...
#else
   int iTODO;
#endif

?

Brgds,
Viktor

From xmessoft at gmail.com  Sat Dec  5 19:29:09 2009
From: xmessoft at gmail.com (Manu)
Date: Sat Dec  5 19:29:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13135] trunk/harbour
In-Reply-To: <E1NGyzN-0002Rc-QE@dn4whf1.ch3.sourceforge.com>
References: <E1NGyzN-0002Rc-QE@dn4whf1.ch3.sourceforge.com>
Message-ID: <4B1AFAD5.7060202@gmail.com>

Hola Pritpal  veo que usas mucho len( a ) dentro de los bucles y eso se 
evalua en cada iteraci?n.
Por ejemplo MemoToArray quedar?a m?s optimizada as?:

FUNCTION MemoToArray( s )
   LOCAL a_, b_, i, j, n

   s := trim( s )
   s := strtran( s, CRLF, _EOL )
   a_:= hb_atokens( s, _EOL )
   n := len( a_ )        // <----------------------

   FOR i := n TO 1 step -1
      IF !empty( a_[ i ] )
         EXIT
      ENDIF
   NEXT
   IF i < n
      b_ := Array( i )          // <----------------------
      FOR j := 1 TO i
         b_ := a_[ j ]
      NEXT
   ENDIF

   RETURN b_




vouchcac@users.sourceforge.net escribi?:
> Revision: 13135
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13135&view=rev
> Author:   vouchcac
> Date:     2009-12-05 18:04:12 +0000 (Sat, 05 Dec 2009)
>
> Log Message:
> -----------
> 2009-12-05 09:57 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * contrib/hbide/hbide.prg
>   * contrib/hbide/projects/hbide.hbi
>   * contrib/hbide/resources/projectproperties.ui
>     ! Probably now <Project Properties> dialog will exit cleanly on <Cancel>.
>     ! Destroyed more Qt objects on exit.
>
>   * contrib/hbxbp/xbpstatusbar.prg
>     ! Destruction of panels.    
>
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/contrib/hbide/hbide.prg
>     trunk/harbour/contrib/hbide/projects/hbide.hbi
>     trunk/harbour/contrib/hbide/resources/projectproperties.ui
>     trunk/harbour/contrib/hbxbp/xbpstatusbar.prg
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>   

From druzus at acn.waw.pl  Sat Dec  5 21:04:38 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Dec  5 21:04:45 2009
Subject: [Harbour] hbtpathy/tpunix question
In-Reply-To: <A10720C3-27D2-4F33-A4DD-746D1557A101@syenar.hu>
References: <alpine.DEB.2.00.0912051850410.8775@dawn.royalcomp.hu>
	<20091205212040.GA6659@linux-4bod.home.aster.pl>
	<A10720C3-27D2-4F33-A4DD-746D1557A101@syenar.hu>
Message-ID: <20091206020438.GA9518@linux-4bod.home.aster.pl>

On Sun, 06 Dec 2009, Szak?ts Viktor wrote:

Hi,

> If I got it correctly, it should be something like:
> 
> #if ! defined( CRTSCTS )
>    #if defined( HB_OS_LINUX ) || defined( HB_OS_SUNOS )
>       #define CRTSCTS 0x80000000
>    #elif defined( HB_OS_BSD )
>       #define CRTSCTS 0x00010000
>    #elif defined( HB_OS_BEOS )
>       #define CRTSCTS 0x6000
>    #endif
> #endif
> ...
> #if defined( CRTSCTS )
>    ...
> #else
>    int iTODO;
> #endif
> ?

No. It's also wrong. Above constants may change in the future.
I want to add this ugly hack only for compilers used on given
system if it's strictly necessary and someone verified correct
value for CRTSCTS.
So far we have only one such compiler. It's OpenWatcom on Linux so
I want to make:

   HB_FUNC( __TP_CTRLCTS )
   {
   #if !defined( CRTSCTS )
   #  if defined( HB_OS_LINUX ) && defined( __WATCOMC__ )
   #     define CRTSCTS    020000000000
   #  endif
   #endif

   #if !defined( CRTSCTS )
      int iTODO;
      hb_retni( 0 );
   #else
      struct termios options;
      int port = hb_parnl( 1 );
      int newvalue = hb_pcount() == 2 ? hb_parnl( 2 ) : -1;
      int curvalue;
      int rc;

      tcgetattr( port, &options );
      curvalue = ( options.c_cflag & CRTSCTS ) == CRTSCTS;

      if( newvalue == 0 )
         options.c_cflag &= ~CRTSCTS;
      else if( newvalue == 1 )
         options.c_cflag |= CRTSCTS;

      if( newvalue >= 0 )
         rc = tcsetattr( port, TCSAFLUSH, &options );

      hb_retni( curvalue ? 1 : 0 );
   #endif
   }

if someone will find other compiler which also needs this hack
or compiler where CRTSCTS is enum type not macro then I expect
that seeing iTODO warning message he will update the code to
work well with given system and C compiler and only for this
system and C compiler. I.e. if CRTSCTS is enum type in OS XXX
and compiler YYY then he can change the code to:

   #if !defined( CRTSCTS )
   #  if defined( HB_OS_LINUX ) && defined( __WATCOMC__ )
   #     define CRTSCTS    020000000000
   #  elif defined( HB_OS_XXX ) && defined( __YYY__ )
   #     define CRTSCTS    CRTSCTS
   #  endif
   #endif

or if he verify that low level CRTL code support CRTSCTS flow
control and exact value NNN is necessary to activate then he
will make:

   #if !defined( CRTSCTS )
   #  if defined( HB_OS_LINUX ) && defined( __WATCOMC__ )
   #     define CRTSCTS    020000000000
   #  elif defined( HB_OS_XXX ) && defined( __YYY__ )
   #     define CRTSCTS    NNN
   #  endif
   #endif

Otherwise he should leave iTODO warning which quite nicely informs
all developers at compile time that such functionality does not
exists in given build. Maybe it will be possible to add it in the
future if someone will know that it's a problem.
Now you simply pacified potential compile time error or warning
on all existing platforms so we do not hear about the problem
until some user will be clever enough to make deeper test and
check that some type of flow control does not work as expected
(probably it's to complicated for most of Harbour users) so
it's possible that real problem hidden by above modification
will never be fixed.

BTW It will be also nice that he will leave some note about system
or C compiler version he used so in the future we can remove
support for older versions or add additional protection, i.e.:
   #  if defined( HB_OS_LINUX ) && defined( __WATCOMC__ ) && \
         __WATCOMC__ < 1290

best regards,
Przemek
From vszakats at users.sourceforge.net  Sat Dec  5 21:10:43 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec  5 21:10:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13138] trunk/harbour
Message-ID: <E1NH6aB-0007Uj-8f@d5vjzd1.ch3.sourceforge.com>

Revision: 13138
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13138&view=rev
Author:   vszakats
Date:     2009-12-06 02:10:39 +0000 (Sun, 06 Dec 2009)

Log Message:
-----------
2009-12-06 03:09 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtpathy/tpunix.c
    + Cleaned definition of CRTSCTS macro, if not defined.
      Based on info sent to dev list by Przemek, plus Darwin value
      added after checking my system.
    + Added TODO warning and dummy return value if CRTSCTS
      cannot is unknown for target platform.
    ; Please review me.

  * contrib/hbwin/win_os.prg
  * contrib/hbwin/win_osc.c
  * contrib/hbwin/legacycv.c
    + Added WIN_OSISVISTAORUPPER().
    + Added xhb compatibility functions OS_ISWINVISTA_OR_LATER()
    + WIN_OSNETREGOK() extended to turn of SMB2 on Vista and upper systems.
    ! Fixed WIN_OSNETREGOK() to only attempt to change HKLM registry settings
      if run under admin account (on NT systems). This also fixes a typo
      in current xhb implementation.
    ; Adaptation of xhb addition by Peter Rees.

  * contrib/hbwin/win_regc.c
    + Added NOTE about minor xhb incompatibility in registry hive numbers.
      (default/zero is HKCU in Harbour, HKLM in xhb)

  * contrib/hbide/ideparseexpr.c
    * Cleaned int/size type usage.
    * Formatting.
    * Variables name cleanups.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideparseexpr.c
    trunk/harbour/contrib/hbtpathy/tpunix.c
    trunk/harbour/contrib/hbwin/legacycv.c
    trunk/harbour/contrib/hbwin/win_os.prg
    trunk/harbour/contrib/hbwin/win_osc.c
    trunk/harbour/contrib/hbwin/win_regc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Dec  5 21:48:44 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec  5 21:48:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13139] trunk/harbour
Message-ID: <E1NH7Ay-0002iv-Jt@3kljzd1.ch3.sourceforge.com>

Revision: 13139
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13139&view=rev
Author:   vszakats
Date:     2009-12-06 02:48:42 +0000 (Sun, 06 Dec 2009)

Log Message:
-----------
2009-12-06 03:46 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/Makefile
  * contrib/hbwin/win_reg.prg
  + contrib/hbwin/legacycr.c
    + Renamed three registry functions to reside in WIN_ namespace:
      win_regSet()   <= SetRegistry()
      win_regGet()   <= GetRegistry()
      win_regQuery() <= QueryRegistry()
    ; Old names are still available.

  ; TODO: Move legacy Windows function names to xhb lib.
          This has the advantage that they can stay there
          forever.

  * contrib/hbwin/win_os.prg
    * Changed to use new function names.
    * Variable name cleanup.
    % WIN_OSNETVREDIROK() optimized/simplified.

  * contrib/hbide/ideparseexpr.c
    * Final renaming cleanup.

  * contrib/hbide/hbide.prg
    + Changed to use HB_MEMOWRIT() instead of MEMOWRIT() to avoid
      legacy EOF char.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideparseexpr.c
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbwin/win_os.prg
    trunk/harbour/contrib/hbwin/win_reg.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbwin/legacycr.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Dec  5 22:11:49 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec  5 22:11:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13140] trunk/harbour
Message-ID: <E1NH7XJ-00033f-V3@3kljzd1.ch3.sourceforge.com>

Revision: 13140
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13140&view=rev
Author:   vszakats
Date:     2009-12-06 03:11:48 +0000 (Sun, 06 Dec 2009)

Log Message:
-----------
2009-12-06 04:10 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbide/ideparseexpr.c
    ! Fixed to use hb_strncpy() instead of strncpy().

  * contrib/hbwin/win_os.prg
    + Added comment to indicate parameter accepted as reference.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideparseexpr.c
    trunk/harbour/contrib/hbwin/win_os.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Dec  5 22:18:59 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Dec  5 22:19:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13135] trunk/harbour
In-Reply-To: <4B1AFAD5.7060202@gmail.com>
References: <E1NGyzN-0002Rc-QE@dn4whf1.ch3.sourceforge.com>
	<4B1AFAD5.7060202@gmail.com>
Message-ID: <26661883.post@talk.nabble.com>


Hi


xMen wrote:
> 
> Hola Pritpal  veo que usas mucho len( a ) dentro de los bucles y eso se 
> evalua en cada iteraci?n.
> Por ejemplo MemoToArray quedar?a m?s optimizada as?:
> 

I can understand English only, but no problem, I can sense what you mean.



> FUNCTION MemoToArray( s )
>    LOCAL a_, b_, i, j, n
> 
>    s := trim( s )
>    s := strtran( s, CRLF, _EOL )
>    a_:= hb_atokens( s, _EOL )
>    n := len( a_ )        // <----------------------
> 
>    FOR i := n TO 1 step -1
>       IF !empty( a_[ i ] )
>          EXIT
>       ENDIF
>    NEXT
>    IF i < n
>       b_ := Array( i )          // <----------------------
>       FOR j := 1 TO i
>          b_ := a_[ j ]
>       NEXT
>    ENDIF
> 
>    RETURN b_
> 

Thanks for this optimization, applied with little change : 
     b_:= a_[ j ] => b_[ j ] := a_[ j ]

Regards
Pritpal Bedi



-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13135--trunk-harbour-tp26658015p26661883.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Dec  5 22:47:23 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec  5 22:47:34 2009
Subject: [Harbour] hbtpathy/tpunix question
In-Reply-To: <20091206020438.GA9518@linux-4bod.home.aster.pl>
References: <alpine.DEB.2.00.0912051850410.8775@dawn.royalcomp.hu>
	<20091205212040.GA6659@linux-4bod.home.aster.pl>
	<A10720C3-27D2-4F33-A4DD-746D1557A101@syenar.hu>
	<20091206020438.GA9518@linux-4bod.home.aster.pl>
Message-ID: <9E05B8C1-BB54-4D11-96CD-F0D4947AAF6F@syenar.hu>

> No. It's also wrong. Above constants may change in the future.
> I want to add this ugly hack only for compilers used on given
> system if it's strictly necessary and someone verified correct
> value for CRTSCTS.
> So far we have only one such compiler. It's OpenWatcom on Linux so
> I want to make:
> 
>   HB_FUNC( __TP_CTRLCTS )
>   {
>   #if !defined( CRTSCTS )
>   #  if defined( HB_OS_LINUX ) && defined( __WATCOMC__ )
>   #     define CRTSCTS    020000000000
>   #  endif
>   #endif
> 
>   #if !defined( CRTSCTS )
>      int iTODO;
>      hb_retni( 0 );
>   #else
>      struct termios options;
>      int port = hb_parnl( 1 );
>      int newvalue = hb_pcount() == 2 ? hb_parnl( 2 ) : -1;
>      int curvalue;
>      int rc;
> 
>      tcgetattr( port, &options );
>      curvalue = ( options.c_cflag & CRTSCTS ) == CRTSCTS;
> 
>      if( newvalue == 0 )
>         options.c_cflag &= ~CRTSCTS;
>      else if( newvalue == 1 )
>         options.c_cflag |= CRTSCTS;
> 
>      if( newvalue >= 0 )
>         rc = tcsetattr( port, TCSAFLUSH, &options );
> 
>      hb_retni( curvalue ? 1 : 0 );
>   #endif
>   }
> 
> if someone will find other compiler which also needs this hack
> or compiler where CRTSCTS is enum type not macro then I expect
> that seeing iTODO warning message he will update the code to
> work well with given system and C compiler and only for this
> system and C compiler. I.e. if CRTSCTS is enum type in OS XXX
> and compiler YYY then he can change the code to:
> 
>   #if !defined( CRTSCTS )
>   #  if defined( HB_OS_LINUX ) && defined( __WATCOMC__ )
>   #     define CRTSCTS    020000000000
>   #  elif defined( HB_OS_XXX ) && defined( __YYY__ )
>   #     define CRTSCTS    CRTSCTS
>   #  endif
>   #endif
> 
> or if he verify that low level CRTL code support CRTSCTS flow
> control and exact value NNN is necessary to activate then he
> will make:
> 
>   #if !defined( CRTSCTS )
>   #  if defined( HB_OS_LINUX ) && defined( __WATCOMC__ )
>   #     define CRTSCTS    020000000000
>   #  elif defined( HB_OS_XXX ) && defined( __YYY__ )
>   #     define CRTSCTS    NNN
>   #  endif
>   #endif
> 
> Otherwise he should leave iTODO warning which quite nicely informs
> all developers at compile time that such functionality does not
> exists in given build. Maybe it will be possible to add it in the
> future if someone will know that it's a problem.
> Now you simply pacified potential compile time error or warning
> on all existing platforms so we do not hear about the problem
> until some user will be clever enough to make deeper test and
> check that some type of flow control does not work as expected
> (probably it's to complicated for most of Harbour users) so
> it's possible that real problem hidden by above modification
> will never be fixed.
> 
> BTW It will be also nice that he will leave some note about system
> or C compiler version he used so in the future we can remove
> support for older versions or add additional protection, i.e.:
>   #  if defined( HB_OS_LINUX ) && defined( __WATCOMC__ ) && \
>         __WATCOMC__ < 1290

I'm leaving this to you as it obviously has no point for 
me to update it while I don't understand a single bit about it.

I can restore original state but that won't help on the 
original problem.

Brgds,
Viktor

From ice at extreme.hu  Sun Dec  6 04:56:38 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sun Dec  6 04:56:48 2009
Subject: [Harbour] hbtpathy/tpunix question
In-Reply-To: <9E05B8C1-BB54-4D11-96CD-F0D4947AAF6F@syenar.hu>
References: <alpine.DEB.2.00.0912051850410.8775@dawn.royalcomp.hu>
	<20091205212040.GA6659@linux-4bod.home.aster.pl>
	<A10720C3-27D2-4F33-A4DD-746D1557A101@syenar.hu>
	<20091206020438.GA9518@linux-4bod.home.aster.pl>
	<9E05B8C1-BB54-4D11-96CD-F0D4947AAF6F@syenar.hu>
Message-ID: <alpine.DEB.2.00.0912061029100.8775@dawn.royalcomp.hu>

On Sun, 6 Dec 2009, Viktor Szak?ts wrote:

 > I'm leaving this to you as it obviously has no point for 
 > me to update it while I don't understand a single bit about it.
 > 
 > I can restore original state but that won't help on the 
 > original problem.

here's the deal in condensed form: CRTSCTS is system-dependendant. 
most every system could have it, but some don't. right now, the only 
one that doesn't have it is the watcom runtime on linux, but as we 
know what CRTSCTS is on linux (by way of extracting it from libc), we 
know how to make watcom define it to the correct value.

the modifications przemek proposed makes the code reflect this line of 
thinking (so that probably noone will make the same mistake i made 
thinking there's no point for extra guards), and if one ever 
encounters another platform without CRTSCTS, he sees that

- he either needs to come up with a value for CRTSCTS by some means 
  (platform-specific tricks, experiments, crystal ball), or
- we'll completely skip the code path that depepnds on a known CRTSCTS 
  (and generate a warning to signal that "there is something that you 
  should probably fix up for full user experience")

the specific cases przemek cited were just to show that the 
actual value is system-dependant, not because they needed to be put in 
the code, as those systems are fine enough to indicate the needed 
values by themselves.

this seems to be what przemek is getting to. it's essentially the same 
in effect that was in before, but is hopefully way more verbose in 
telling why it's there.

Index: tpunix.c
===================================================================
--- tpunix.c	(revision 13140)
+++ tpunix.c	(working copy)
@@ -267,22 +267,18 @@
       hb_retl( FALSE );
 }
 
-#if ! defined( CRTSCTS )
-   #if   defined( HB_OS_LINUX ) ||
-         defined( HB_OS_SUNOS )
-      #define CRTSCTS            0x80000000
-   #elif defined( HB_OS_BSD )
-      #define CRTSCTS            0x00010000
-   #elif defined( HB_OS_BEOS )
-      #define CRTSCTS            0x00006000
-   #elif defined( HB_OS_DARWIN )
-      #define CRTSCTS            0x00030000
-   #endif
+#if !defined( CRTSCTS )
+#   if defined( HB_OS_LINUX ) && defined( __WATCOMC__ ) && __WATCOMC__ < 1290
+#      define CRTSCTS 020000000000
+#   endif
 #endif
 
 HB_FUNC( __TP_CTRLCTS )
 {
-#if defined( CRTSCTS )
+#if !defined( CRTSCTS )
+   int iTODO;
+   hb_retni( 0 );
+#else
    struct termios options;
    int port = hb_parnl( 1 );
    int newvalue = hb_pcount() == 2 ? hb_parnl( 2 ) : -1;
@@ -301,9 +297,6 @@
       rc = tcsetattr( port, TCSAFLUSH, &options );
 
    hb_retni( curvalue ? 1 : 0 );
-#else
-   int iTODO;
-   hb_retni( 0 );
 #endif
 }

as i see it, the essential difference is as follows:

#if !defined( CRTSCTS ) && defined( __WATCOMC__ )
#  define CRTSCTS 020000000000
#endif

what this tells is "crtscts might not be defined on linux/watcom, so 
here's what it should be".

#if !defined( CRTSCTS )
#   if defined( HB_OS_LINUX ) && defined( __WATCOMC__ ) && __WATCOMC__ < 1290
#      define CRTSCTS 020000000000
#   endif
#endif

what this tells is "crtscts might not be defined. we know one such 
case is this older versions of watcom on linux, where crtscts should 
be this.".

while the end result is quite the same, it makes whoever is reading 
think in a different way, which is actually needed here, as przemek 
helpfully explained.

-- 
[-]

mkdir /nonexistent
From dmacias at mail.udg.mx  Sun Dec  6 05:26:46 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Dec  6 05:27:00 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
Message-ID: <4B1B86E6.6020807@mail.udg.mx>

Przemek:

 >> "-s" is used to avoid "stack overflow checking", as OpenWatcom doc 
 >>state:
 >[...]
 >I know what it does ;-)

I am in exercise of collect and present info  :-)

 >it's necessary only for C code calling APIENTRY16 functions.
 >In whole Harbour SVN code only in GTOS2 such functions are used.
 >If you do not plan to create and compile such C code using hbmk2
 >then it's not necessary to modify hbmk2.

OK

 >> Tests with gtos2, gtstd, gtcgi lead us to find as conclusion problem
 >>is
 >> related to "input devices" in threads except 1 (keyboard, mouse, ...)
 >> Failed with gtos2, gtstd but not gtcgi

 >Please check if using current clean SVN code without any modifications
 >you create working speedtst binaries using:

 >   hbmk2 speedtst -l -kmo -mt -gc3 -gtos2

 >to test execute them using:

 >   speedtst.exe --thread

 >This is necessary to confirm that current workaround is working for
 >GTOS2.

 >Then please rebuild only speedtst using:

 >   hbmk2 speedtst -l -kmo -mt -gc3 -gtstd

 >and repeat:

 >   speedtst.exe --thread

 >if it does not work then we can try to use the same hack for GTSTD
 >and check if it help. It will be an answer if it's enough to activate
 >debug code to check stack overflow exactly for function which calls
 >APIENTRY16 function or it's enough to make it on any upper level.
 >This information will be usable in bug report for OpenWatcom users.
 >Then I'll try to create small self contain example to exploit the
 >problem.

With Harbour 13140:

[E:\harbour911b\harbour\bin\os2\watcom]hbmk2 speedtst -l -kmo -mt -gc3 
-gtos2
Harbour 2.0.0beta3 (Rev. 13140)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'speedtst.prg'...
Lines 1204, Functions/Procedures 79
Generating C source output to 'speedtst.c'... Done.

[E:\harbour911b\harbour\bin\os2\watcom]speedtst.exe --thread

[...]
[ total application time: ].....................................0.19
[ total real time: ]...........................................23.47

[E:\harbour911b\harbour\bin\os2\watcom]hbmk2 speedtst -l -kmo -mt -gc3 
-gtstd
Harbour 2.0.0beta3 (Rev. 13140)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'speedtst.prg'...
Lines 1204, Functions/Procedures 79
Generating C source output to 'speedtst.c'... Done.

[E:\harbour911b\harbour\bin\os2\watcom]speedtst.exe --thread

2009.12.06 03:56:34 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13140) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.00
====================================================================SYS1808:
The process has stopped.  The software diagnostic
code (exception code) is  0001.

[E:\harbour911b\harbour\bin\os2\watcom]hbmk2 speedtst -l -kmo -mt -gc3 
-gtcgi
Harbour 2.0.0beta3 (Rev. 13140)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'speedtst.prg'...
Lines 1204, Functions/Procedures 79
Generating C source output to 'speedtst.c'... Done.

[E:\harbour911b\harbour\bin\os2\watcom]speedtst.exe --thread

[...]
[ total application time: ].....................................0.39
[ total real time: ]...........................................23.90


As before, gtstd fail with GPF too, and gtcgi does not

 >Thank you that you refreshed my mind but now we know more then when
 >I wrote above text. I.e. we confirmed it's OW problem and we found
 >workaround for it by enabling debug code which checks stack overflow.
 >This code more or less indirectly resolves the problem. It's possible
 >that it simply initialize some internal OW structures not initialized
 >when thread is started so maybe it's enough to call any function
 >compiled without -s as workaround. In such case instead of compiling
 >GTOS2 with stack debug code we can simply add single function in
 >separate
 >.obj file which will be executed just after starting new thread. Above
 >GTSTD tests can give the basic answer if it's possible or not.

For me we are in same state as in 12-16 November 2008, but with new 
Harbour and OpenWatcom and without slow-freeze in MT with "-s" removed

Now we only added selective removing of "-s" in specific places, but 
real cause of GPF and solution are un-known yet

For this reason I suggested to review/recall old messages, and to 
contact OpenWatcom developers for deeper research

 >It doesn't matter. Functionally both make the same.
 >It's only important you try clean SVN code without any local
 >modifications or HB_* envvar settings.

It was done in this way, thanks

David Macias


From harbour.01 at syenar.hu  Sun Dec  6 06:12:49 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec  6 06:13:00 2009
Subject: [Harbour] hbtpathy/tpunix question
In-Reply-To: <alpine.DEB.2.00.0912061029100.8775@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0912051850410.8775@dawn.royalcomp.hu>
	<20091205212040.GA6659@linux-4bod.home.aster.pl>
	<A10720C3-27D2-4F33-A4DD-746D1557A101@syenar.hu>
	<20091206020438.GA9518@linux-4bod.home.aster.pl>
	<9E05B8C1-BB54-4D11-96CD-F0D4947AAF6F@syenar.hu>
	<alpine.DEB.2.00.0912061029100.8775@dawn.royalcomp.hu>
Message-ID: <793A22E5-EA6A-4029-932C-836D9A6CAA45@syenar.hu>

Thanks.

[ I still can't use patched just attached to mails though. 
Anyhow I'd like to be off of this modification. ]

Brgds,
Viktor

On 2009 Dec 6, at 10:56, Tamas TEVESZ wrote:

> On Sun, 6 Dec 2009, Viktor Szak?ts wrote:
> 
>> I'm leaving this to you as it obviously has no point for 
>> me to update it while I don't understand a single bit about it.
>> 
>> I can restore original state but that won't help on the 
>> original problem.
> 
> here's the deal in condensed form: CRTSCTS is system-dependendant. 
> most every system could have it, but some don't. right now, the only 
> one that doesn't have it is the watcom runtime on linux, but as we 
> know what CRTSCTS is on linux (by way of extracting it from libc), we 
> know how to make watcom define it to the correct value.
> 
> the modifications przemek proposed makes the code reflect this line of 
> thinking (so that probably noone will make the same mistake i made 
> thinking there's no point for extra guards), and if one ever 
> encounters another platform without CRTSCTS, he sees that
> 
> - he either needs to come up with a value for CRTSCTS by some means 
>  (platform-specific tricks, experiments, crystal ball), or
> - we'll completely skip the code path that depepnds on a known CRTSCTS 
>  (and generate a warning to signal that "there is something that you 
>  should probably fix up for full user experience")
> 
> the specific cases przemek cited were just to show that the 
> actual value is system-dependant, not because they needed to be put in 
> the code, as those systems are fine enough to indicate the needed 
> values by themselves.
> 
> this seems to be what przemek is getting to. it's essentially the same 
> in effect that was in before, but is hopefully way more verbose in 
> telling why it's there.
> 
> Index: tpunix.c
> ===================================================================
> --- tpunix.c	(revision 13140)
> +++ tpunix.c	(working copy)
> @@ -267,22 +267,18 @@
>       hb_retl( FALSE );
> }
> 
> -#if ! defined( CRTSCTS )
> -   #if   defined( HB_OS_LINUX ) ||
> -         defined( HB_OS_SUNOS )
> -      #define CRTSCTS            0x80000000
> -   #elif defined( HB_OS_BSD )
> -      #define CRTSCTS            0x00010000
> -   #elif defined( HB_OS_BEOS )
> -      #define CRTSCTS            0x00006000
> -   #elif defined( HB_OS_DARWIN )
> -      #define CRTSCTS            0x00030000
> -   #endif
> +#if !defined( CRTSCTS )
> +#   if defined( HB_OS_LINUX ) && defined( __WATCOMC__ ) && __WATCOMC__ < 1290
> +#      define CRTSCTS 020000000000
> +#   endif
> #endif
> 
> HB_FUNC( __TP_CTRLCTS )
> {
> -#if defined( CRTSCTS )
> +#if !defined( CRTSCTS )
> +   int iTODO;
> +   hb_retni( 0 );
> +#else
>    struct termios options;
>    int port = hb_parnl( 1 );
>    int newvalue = hb_pcount() == 2 ? hb_parnl( 2 ) : -1;
> @@ -301,9 +297,6 @@
>       rc = tcsetattr( port, TCSAFLUSH, &options );
> 
>    hb_retni( curvalue ? 1 : 0 );
> -#else
> -   int iTODO;
> -   hb_retni( 0 );
> #endif
> }
> 
> as i see it, the essential difference is as follows:
> 
> #if !defined( CRTSCTS ) && defined( __WATCOMC__ )
> #  define CRTSCTS 020000000000
> #endif
> 
> what this tells is "crtscts might not be defined on linux/watcom, so 
> here's what it should be".
> 
> #if !defined( CRTSCTS )
> #   if defined( HB_OS_LINUX ) && defined( __WATCOMC__ ) && __WATCOMC__ < 1290
> #      define CRTSCTS 020000000000
> #   endif
> #endif
> 
> what this tells is "crtscts might not be defined. we know one such 
> case is this older versions of watcom on linux, where crtscts should 
> be this.".
> 
> while the end result is quite the same, it makes whoever is reading 
> think in a different way, which is actually needed here, as przemek 
> helpfully explained.
> 
> -- 
> [-]
> 
> mkdir /nonexistent
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Dec  6 06:14:41 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Dec  6 06:14:52 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
In-Reply-To: <4B1B86E6.6020807@mail.udg.mx>
References: <4B1B86E6.6020807@mail.udg.mx>
Message-ID: <C19BF226-495A-48F5-BA2D-A3E8200C886C@syenar.hu>

So how about removing -s switch altogether for watcom/os2 
in both our make system and hbmk2?

For the reason that a slightly slower, but working app is 
better than a failing app.

Brgds,
Viktor

On 2009 Dec 6, at 11:26, David Arturo Macias Corona wrote:

> Przemek:
> 
> >> "-s" is used to avoid "stack overflow checking", as OpenWatcom doc >>state:
> >[...]
> >I know what it does ;-)
> 
> I am in exercise of collect and present info  :-)
> 
> >it's necessary only for C code calling APIENTRY16 functions.
> >In whole Harbour SVN code only in GTOS2 such functions are used.
> >If you do not plan to create and compile such C code using hbmk2
> >then it's not necessary to modify hbmk2.
> 
> OK
> 
> >> Tests with gtos2, gtstd, gtcgi lead us to find as conclusion problem
> >>is
> >> related to "input devices" in threads except 1 (keyboard, mouse, ...)
> >> Failed with gtos2, gtstd but not gtcgi
> 
> >Please check if using current clean SVN code without any modifications
> >you create working speedtst binaries using:
> 
> >   hbmk2 speedtst -l -kmo -mt -gc3 -gtos2
> 
> >to test execute them using:
> 
> >   speedtst.exe --thread
> 
> >This is necessary to confirm that current workaround is working for
> >GTOS2.
> 
> >Then please rebuild only speedtst using:
> 
> >   hbmk2 speedtst -l -kmo -mt -gc3 -gtstd
> 
> >and repeat:
> 
> >   speedtst.exe --thread
> 
> >if it does not work then we can try to use the same hack for GTSTD
> >and check if it help. It will be an answer if it's enough to activate
> >debug code to check stack overflow exactly for function which calls
> >APIENTRY16 function or it's enough to make it on any upper level.
> >This information will be usable in bug report for OpenWatcom users.
> >Then I'll try to create small self contain example to exploit the
> >problem.
> 
> With Harbour 13140:
> 
> [E:\harbour911b\harbour\bin\os2\watcom]hbmk2 speedtst -l -kmo -mt -gc3 -gtos2
> Harbour 2.0.0beta3 (Rev. 13140)
> Copyright (c) 1999-2010, http://www.harbour-project.org/
> Compiling 'speedtst.prg'...
> Lines 1204, Functions/Procedures 79
> Generating C source output to 'speedtst.c'... Done.
> 
> [E:\harbour911b\harbour\bin\os2\watcom]speedtst.exe --thread
> 
> [...]
> [ total application time: ].....................................0.19
> [ total real time: ]...........................................23.47
> 
> [E:\harbour911b\harbour\bin\os2\watcom]hbmk2 speedtst -l -kmo -mt -gc3 -gtstd
> Harbour 2.0.0beta3 (Rev. 13140)
> Copyright (c) 1999-2010, http://www.harbour-project.org/
> Compiling 'speedtst.prg'...
> Lines 1204, Functions/Procedures 79
> Generating C source output to 'speedtst.c'... Done.
> 
> [E:\harbour911b\harbour\bin\os2\watcom]speedtst.exe --thread
> 
> 2009.12.06 03:56:34 OS/2 4.50
> Harbour 2.0.0beta3 (Rev. 13140) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
> THREADS: all->56
> N_LOOPS: 1000000
> [ T000: empty loop overhead ]...................................0.00
> ====================================================================SYS1808:
> The process has stopped.  The software diagnostic
> code (exception code) is  0001.
> 
> [E:\harbour911b\harbour\bin\os2\watcom]hbmk2 speedtst -l -kmo -mt -gc3 -gtcgi
> Harbour 2.0.0beta3 (Rev. 13140)
> Copyright (c) 1999-2010, http://www.harbour-project.org/
> Compiling 'speedtst.prg'...
> Lines 1204, Functions/Procedures 79
> Generating C source output to 'speedtst.c'... Done.
> 
> [E:\harbour911b\harbour\bin\os2\watcom]speedtst.exe --thread
> 
> [...]
> [ total application time: ].....................................0.39
> [ total real time: ]...........................................23.90
> 
> 
> As before, gtstd fail with GPF too, and gtcgi does not
> 
> >Thank you that you refreshed my mind but now we know more then when
> >I wrote above text. I.e. we confirmed it's OW problem and we found
> >workaround for it by enabling debug code which checks stack overflow.
> >This code more or less indirectly resolves the problem. It's possible
> >that it simply initialize some internal OW structures not initialized
> >when thread is started so maybe it's enough to call any function
> >compiled without -s as workaround. In such case instead of compiling
> >GTOS2 with stack debug code we can simply add single function in
> >separate
> >.obj file which will be executed just after starting new thread. Above
> >GTSTD tests can give the basic answer if it's possible or not.
> 
> For me we are in same state as in 12-16 November 2008, but with new Harbour and OpenWatcom and without slow-freeze in MT with "-s" removed
> 
> Now we only added selective removing of "-s" in specific places, but real cause of GPF and solution are un-known yet
> 
> For this reason I suggested to review/recall old messages, and to contact OpenWatcom developers for deeper research
> 
> >It doesn't matter. Functionally both make the same.
> >It's only important you try clean SVN code without any local
> >modifications or HB_* envvar settings.
> 
> It was done in this way, thanks
> 
> David Macias
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sun Dec  6 06:40:57 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Dec  6 06:41:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13141] trunk/harbour
Message-ID: <E1NHFU1-0005tQ-UC@c3vjzd1.ch3.sourceforge.com>

Revision: 13141
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13141&view=rev
Author:   vszakats
Date:     2009-12-06 11:40:52 +0000 (Sun, 06 Dec 2009)

Log Message:
-----------
2009-12-06 12:39 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/Makefile
  * contrib/hbwin/win_reg.prg
  * contrib/hbwin/win_os.prg
  * contrib/hbwin/win_tprn.prg
  * contrib/hbwin/hbwin.ch
  * contrib/hbwin/win_tcom.prg
  * contrib/hbwin/win_com.c
  * contrib/hbwin/win_regc.c
  * contrib/hbwin/win_prn1.c
  * contrib/hbwin/win_osc.c
  * contrib/hbwin/win_dll.c
  * contrib/hbide/ideparseexpr.c
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/Makefile
    trunk/harbour/contrib/hbide/ideparseexpr.c
    trunk/harbour/contrib/hbwin/hbwin.ch
    trunk/harbour/contrib/hbwin/win_com.c
    trunk/harbour/contrib/hbwin/win_dll.c
    trunk/harbour/contrib/hbwin/win_os.prg
    trunk/harbour/contrib/hbwin/win_osc.c
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_reg.prg
    trunk/harbour/contrib/hbwin/win_regc.c
    trunk/harbour/contrib/hbwin/win_tcom.prg
    trunk/harbour/contrib/hbwin/win_tprn.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Dec  6 07:58:35 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec  6 07:58:47 2009
Subject: [Harbour] SET( _SET_DBCODEPAGE )
Message-ID: <7195E2B6-8609-4B7A-9BE7-796139C70939@syenar.hu>

Hi All,

I'm faced with the situation where I'd like to detach 
the CP used in DB tables from the CP used in other parts 
of the system, f.e. the CP used to encode human readable 
strings in source code.

[ The reason are that I decided to make the CP transition 
gradual, without converting several gigabytes of database 
together with the app, plus I can of switching to UTF-8 
for strings used in source, I wouldn't like to switch to UTF-8 
for the database yet, because all strings would become 
variable length. ]

So, my current choice is to extend all DBCREATE(), DBUSEAREA(), 
HB_DBCREATETEMP() and __DBOPENSDF() calls with the (dirty) 
Harbour <cCodePage> parameter extension.

For one thing this is quite error prone, as I may miss a 
few occurrences (or ones stored in lib code f.e.) thus 
corrupting the database. Second: I prefer not to use such 
dirty extensions.

This matter could be quite easily and cleanly solved with 
a app global Harbour setting, which would set the _default_ 
CP used in all DB operations. (just as we can f.e. have 
default shared mode set in _SET_EXCLUSIVE, since Clipper times)

So, I'd like to add a _SET_DBCODEPAGE setting which would 
control this centrally, cleanly and by eliminating all 
potential errors resulting in mass source code modification.
The default value for this setting would be a neutral 
value (NIL/NULL), which means Harbour would behave exactly 
the same it is now, if someone doesn't use the setting.

The modification looks quite easy to make, so I can implement 
it.

Any opinions or objection?

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Dec  6 08:03:11 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec  6 08:03:21 2009
Subject: [Harbour] Re: SET( _SET_DBCODEPAGE )
In-Reply-To: <7195E2B6-8609-4B7A-9BE7-796139C70939@syenar.hu>
References: <7195E2B6-8609-4B7A-9BE7-796139C70939@syenar.hu>
Message-ID: <1E1104FA-C84D-40BC-BB03-6697750A08E3@syenar.hu>

> [ The reason are that I decided to make the CP transition 
> gradual, without converting several gigabytes of database 
> together with the app, plus I can of switching to UTF-8 
> for strings used in source, I wouldn't like to switch to UTF-8 
> for the database yet, because all strings would become 
> variable length. ]

"...plus if I switch to UTF-8 for strings used in source..."

(more typos are expected)

Brgds,
Viktor

From jarabal at gmail.com  Sun Dec  6 08:18:56 2009
From: jarabal at gmail.com (Xavi)
Date: Sun Dec  6 08:19:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13135] trunk/harbour
In-Reply-To: <4B1AFAD5.7060202@gmail.com>
References: <E1NGyzN-0002Rc-QE@dn4whf1.ch3.sourceforge.com>
	<4B1AFAD5.7060202@gmail.com>
Message-ID: <4B1BAF40.3020607@gmail.com>

Manu,

Google traduce f?cil y aceptablemente: al menos eso creo. :)
http://translate.google.com/?hl=es#es|en

"
Hello Pritpal, I see that you use a lot len(a) inside the loops and is
evaluation at each iteration.
For example MemoToArray would be more optimized as follows:
"

Un saludo
Xavi

Manu escribi?:
> Hola Pritpal  veo que usas mucho len( a ) dentro de los bucles y eso se 
> evalua en cada iteraci?n.
> Por ejemplo MemoToArray quedar?a m?s optimizada as?:
> 
> FUNCTION MemoToArray( s )
>   LOCAL a_, b_, i, j, n
> 
>   s := trim( s )
>   s := strtran( s, CRLF, _EOL )
>   a_:= hb_atokens( s, _EOL )
>   n := len( a_ )        // <----------------------
> 
>   FOR i := n TO 1 step -1
>      IF !empty( a_[ i ] )
>         EXIT
>      ENDIF
>   NEXT
>   IF i < n
>      b_ := Array( i )          // <----------------------
>      FOR j := 1 TO i
>         b_ := a_[ j ]
>      NEXT
>   ENDIF
> 
>   RETURN b_
> 



From fperillo at gmail.com  Sun Dec  6 10:23:46 2009
From: fperillo at gmail.com (francesco perillo)
Date: Sun Dec  6 10:24:00 2009
Subject: [Harbour] A func(.=>.) like func(...) idea
In-Reply-To: <9257026e0912051056g1411f21cg9b6d2a51c037cdfe@mail.gmail.com>
References: <9257026e0912051056g1411f21cg9b6d2a51c037cdfe@mail.gmail.com>
Message-ID: <6943770e0912060723h495ab008rfc6bdcac902468dd@mail.gmail.com>

or something like:
myclass():new( top => 10, left => 20; text => text to
print, enable =>.T. ), myclass():move( x => 5, y =>5 )

But how can the compiler or the runtime understand when you want to
pass a string (in your case) or a hash (in my case) ?
The positive on your side is that you can build the parameter string
at runtime....

Well, actually in my case it's not really a hash... so perhaps the
preprocessor can do some magic.... infact if the function is already
defined and the preprocessor keeps the definition in memory it could
do the magic...
Or the job can be done by the compiler....
From lorenzo.fiorini at gmail.com  Sun Dec  6 12:01:44 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Dec  6 12:01:53 2009
Subject: [Harbour] A func(.=>.) like func(...) idea
In-Reply-To: <6943770e0912060723h495ab008rfc6bdcac902468dd@mail.gmail.com>
References: <9257026e0912051056g1411f21cg9b6d2a51c037cdfe@mail.gmail.com>
	<6943770e0912060723h495ab008rfc6bdcac902468dd@mail.gmail.com>
Message-ID: <9257026e0912060901u4d19b15bp5012ce9a902a18c@mail.gmail.com>

On Sun, Dec 6, 2009 at 4:23 PM, francesco perillo <fperillo@gmail.com> wrote:

> But how can the compiler or the runtime understand when you want to
> pass a string (in your case) or a hash (in my case) ?

I'm not thinking about an universal new syntax but a way to make
easier the write of some kinds of functions/methods like ... only
avoids the use of xpar1, xpar2, xpar3, ..., xparn

I didn't consider the support of complex data like arrays, hashes or codeblocks.
The idea is to use it in "interface methods" where you usually pass
simple data like numbers and strings.

> The positive on your side is that you can build the parameter string
> at runtime....

and pass parameters between two processes.
Actually I use XML or JSON but they are too heavy to pass few
parameters to a function.

best regards,
Lorenzo
From druzus at acn.waw.pl  Sun Dec  6 12:28:03 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Dec  6 12:28:10 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
In-Reply-To: <4B1B86E6.6020807@mail.udg.mx>
References: <4B1B86E6.6020807@mail.udg.mx>
Message-ID: <20091206172803.GA2635@linux-4bod.home.aster.pl>

On Sun, 06 Dec 2009, David Arturo Macias Corona wrote:

Hi,

> With Harbour 13140:
> [E:\harbour911b\harbour\bin\os2\watcom]hbmk2 speedtst -l -kmo -mt
> -gc3 -gtos2
> Harbour 2.0.0beta3 (Rev. 13140)
> Copyright (c) 1999-2010, http://www.harbour-project.org/
> Compiling 'speedtst.prg'...
> Lines 1204, Functions/Procedures 79
> Generating C source output to 'speedtst.c'... Done.
> [E:\harbour911b\harbour\bin\os2\watcom]speedtst.exe --thread
> [...]
> [ total application time: ].....................................0.19
> [ total real time: ]...........................................23.47

So here it's OK.

> [E:\harbour911b\harbour\bin\os2\watcom]hbmk2 speedtst -l -kmo -mt
> -gc3 -gtstd
> Harbour 2.0.0beta3 (Rev. 13140)
> Copyright (c) 1999-2010, http://www.harbour-project.org/
> Compiling 'speedtst.prg'...
> Lines 1204, Functions/Procedures 79
> Generating C source output to 'speedtst.c'... Done.
> [E:\harbour911b\harbour\bin\os2\watcom]speedtst.exe --thread
> 2009.12.06 03:56:34 OS/2 4.50
> Harbour 2.0.0beta3 (Rev. 13140) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
> THREADS: all->56
> N_LOOPS: 1000000
> [ T000: empty loop overhead ]...................................0.00
> ====================================================================SYS1808:
> The process has stopped.  The software diagnostic
> code (exception code) is  0001.

Fine. Now we confirm that exactly the same problem is in OW CTRL.

So let's make 

> For me we are in same state as in 12-16 November 2008, but with new
> Harbour and OpenWatcom and without slow-freeze in MT with "-s"
> removed

We now much more.

> Now we only added selective removing of "-s" in specific places, but
> real cause of GPF and solution are un-known yet

We only do not know the exact place but this is a job for OpenWatcom
developers to fix it. I do not plan to make it myself. Anyhow we can
make some other tests to reduce the problem yet and better tune final
self contain example which can be used in bug report.

> For this reason I suggested to review/recall old messages, and to
> contact OpenWatcom developers for deeper research

I do not see anything what we can find in the old messages.
Now we are moving very fast because you made only small tests without
jumping and touching many different things as year ago. It really
greatly helps me because I do not have to guess which options interacts
with the problem. The fact that I guess correctly and current tests
confirmed it is not enough for me.

I'll be very happy if you can make yet few tests which may help to
find better workaround and create bug report for OW developers.
Probably I will need 1 or 2 tests yet - it will depend on their results.
First I will want to check if enabling code to check stack overflow
at any call level is enough workaround for this problem.
For this test I'll remove -s from GTSTD compile time flags in next
commit. Then please recompile it and make tests with:
   hbmk2 speedtst -l -kmo -mt -gc3 -gtstd
and:
   speedtst.exe --thread
if it does not help then it will be the last test.
If it helps then I'll ask you about yet another one.
Then I'll try to write self contain example. That's all.

Thank you very much for your help.

best regards,
Przemek
From harbour.01 at syenar.hu  Sun Dec  6 12:30:41 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec  6 12:30:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13135] trunk/harbour
In-Reply-To: <4B1BAF40.3020607@gmail.com>
References: <E1NGyzN-0002Rc-QE@dn4whf1.ch3.sourceforge.com>
	<4B1AFAD5.7060202@gmail.com> <4B1BAF40.3020607@gmail.com>
Message-ID: <CDF0756B-75F3-42B0-9D0B-A374F1C19842@syenar.hu>

This seems even more optimized:
---
FUNCTION MemoToArray( s )
   LOCAL aLine := hb_ATokens( StrTran( RTrim( s ), CRLF, _EOL ), _EOL )
   LOCAL nNewSize := 0
   LOCAL line

   FOR EACH line IN aLine DESCEND
      IF ! Empty( line )
         nNewSize := line:__enumIndex()
         EXIT
      ENDIF
   NEXT

   ASize( aLine, nNewSize )

   RETURN aLine
---

Brgds,
Viktor

On 2009 Dec 6, at 14:18, Xavi wrote:

> Manu,
> 
> Google traduce f?cil y aceptablemente: al menos eso creo. :)
> http://translate.google.com/?hl=es#es|en
> 
> "
> Hello Pritpal, I see that you use a lot len(a) inside the loops and is
> evaluation at each iteration.
> For example MemoToArray would be more optimized as follows:
> "
> 
> Un saludo
> Xavi
> 
> Manu escribi?:
>> Hola Pritpal  veo que usas mucho len( a ) dentro de los bucles y eso se evalua en cada iteraci?n.
>> Por ejemplo MemoToArray quedar?a m?s optimizada as?:
>> FUNCTION MemoToArray( s )
>>  LOCAL a_, b_, i, j, n
>>  s := trim( s )
>>  s := strtran( s, CRLF, _EOL )
>>  a_:= hb_atokens( s, _EOL )
>>  n := len( a_ )        // <----------------------
>>  FOR i := n TO 1 step -1
>>     IF !empty( a_[ i ] )
>>        EXIT
>>     ENDIF
>>  NEXT
>>  IF i < n
>>     b_ := Array( i )          // <----------------------
>>     FOR j := 1 TO i
>>        b_ := a_[ j ]
>>     NEXT
>>  ENDIF
>>  RETURN b_
> 
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Sun Dec  6 12:31:53 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Dec  6 12:32:00 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
In-Reply-To: <C19BF226-495A-48F5-BA2D-A3E8200C886C@syenar.hu>
References: <4B1B86E6.6020807@mail.udg.mx>
	<C19BF226-495A-48F5-BA2D-A3E8200C886C@syenar.hu>
Message-ID: <20091206173153.GB2635@linux-4bod.home.aster.pl>

On Sun, 06 Dec 2009, Szak?ts Viktor wrote:

Hi,

> So how about removing -s switch altogether for watcom/os2 
> in both our make system and hbmk2?

No. It's not necessary to touch hbmk2.

> For the reason that a slightly slower, but working app is 
> better than a failing app.

This slight slower means over 3 times slower.
-s disabled debug code used to check stack overflow.
On platforms which does not support hardware stack frame overflow
protection it may cause very serious speed overhead.

best regards,
Przemek
From druzus at acn.waw.pl  Sun Dec  6 12:33:09 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Dec  6 12:33:15 2009
Subject: [Harbour] hbtpathy/tpunix question
In-Reply-To: <alpine.DEB.2.00.0912061029100.8775@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0912051850410.8775@dawn.royalcomp.hu>
	<20091205212040.GA6659@linux-4bod.home.aster.pl>
	<A10720C3-27D2-4F33-A4DD-746D1557A101@syenar.hu>
	<20091206020438.GA9518@linux-4bod.home.aster.pl>
	<9E05B8C1-BB54-4D11-96CD-F0D4947AAF6F@syenar.hu>
	<alpine.DEB.2.00.0912061029100.8775@dawn.royalcomp.hu>
Message-ID: <20091206173308.GC2635@linux-4bod.home.aster.pl>

On Sun, 06 Dec 2009, Tamas TEVESZ wrote:

Hi,

> here's the deal in condensed form: CRTSCTS is system-dependendant. 
> most every system could have it, but some don't. right now, the only 
> one that doesn't have it is the watcom runtime on linux, but as we 
> know what CRTSCTS is on linux (by way of extracting it from libc), we 
> know how to make watcom define it to the correct value.
> the modifications przemek proposed makes the code reflect this line of 
> thinking (so that probably noone will make the same mistake i made 
> thinking there's no point for extra guards), and if one ever 
> encounters another platform without CRTSCTS, he sees that
[...]

Exactly.
Thank you very much.

best regards,
Przemek
From druzus at users.sourceforge.net  Sun Dec  6 12:35:21 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Dec  6 12:35:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13142] trunk/harbour
Message-ID: <E1NHL0z-0004Ha-QG@3kljzd1.ch3.sourceforge.com>

Revision: 13142
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13142&view=rev
Author:   druzus
Date:     2009-12-06 17:35:20 +0000 (Sun, 06 Dec 2009)

Log Message:
-----------
2009-12-06 18:35 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbtpathy/tpunix.c
    ! fixed tty raw IO mode setting
    * reduced CRTSCTS redefinition to WATCOMC and Linux, added small
      comment about it and iTODO compile time warning if CRTSCTS is
      not defined.
      TODO: make some cleanup and extensions for *nix version of this
            library.

  * harbour/config/os2/watcom.mk
    * disabled -s from GTSTD compile time parameters to test possible
      workaround for OW problems in MT mode and APIENTRY16 functions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/contrib/hbtpathy/tpunix.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sun Dec  6 12:45:07 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Dec  6 12:45:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13135] trunk/harbour
In-Reply-To: <CDF0756B-75F3-42B0-9D0B-A374F1C19842@syenar.hu>
References: <E1NGyzN-0002Rc-QE@dn4whf1.ch3.sourceforge.com>
	<4B1AFAD5.7060202@gmail.com> <4B1BAF40.3020607@gmail.com>
	<CDF0756B-75F3-42B0-9D0B-A374F1C19842@syenar.hu>
Message-ID: <26667140.post@talk.nabble.com>




Viktor Szak?ts wrote:
> 
> This seems even more optimized:
> ---
> FUNCTION MemoToArray( s )
>    LOCAL aLine := hb_ATokens( StrTran( RTrim( s ), CRLF, _EOL ), _EOL )
>    LOCAL nNewSize := 0
>    LOCAL line
> 
>    FOR EACH line IN aLine DESCEND
>       IF ! Empty( line )
>          nNewSize := line:__enumIndex()
>          EXIT
>       ENDIF
>    NEXT
> 
>    ASize( aLine, nNewSize )
> 
>    RETURN aLine
> 

Perfect.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13135--trunk-harbour-tp26658015p26667140.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Sun Dec  6 12:48:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Dec  6 12:48:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13143] trunk/harbour
Message-ID: <E1NHLDS-0003AM-5W@c3vjzd1.ch3.sourceforge.com>

Revision: 13143
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13143&view=rev
Author:   vszakats
Date:     2009-12-06 17:48:12 +0000 (Sun, 06 Dec 2009)

Log Message:
-----------
2009-12-06 18:47 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rdd/dbcmd.c
    + Added short DBUSEAREA() parameter list doc in comment.

  * contrib/hbide/hbide.hbp
  - contrib/hbide/freadlin.c
  * contrib/hbide/idemisc.prg
    % Elminated HB_FREADLINE().
    % Highly optimized MEMOTOARRAY().
    % Using FOR EACH in PARSEWITHMETADATA(), APPLYMETADATA().
    ! -1 -> F_ERROR
    - Deleted #include "hbqt.ch". Not needed.
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.hbp
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/src/rdd/dbcmd.c

Removed Paths:
-------------
    trunk/harbour/contrib/hbide/freadlin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Dec  6 12:49:09 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec  6 12:49:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13142] trunk/harbour
In-Reply-To: <E1NHL0z-0004Ha-QG@3kljzd1.ch3.sourceforge.com>
References: <E1NHL0z-0004Ha-QG@3kljzd1.ch3.sourceforge.com>
Message-ID: <EB93D10F-EDA6-42C2-B3DD-C43281E1FFF6@syenar.hu>

Thanks a lot.

Brgds,
Viktor

On 2009 Dec 6, at 18:35, druzus@users.sourceforge.net wrote:

> Revision: 13142
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13142&view=rev
> Author:   druzus
> Date:     2009-12-06 17:35:20 +0000 (Sun, 06 Dec 2009)
> 
> Log Message:
> -----------
> 2009-12-06 18:35 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/contrib/hbtpathy/tpunix.c
>    ! fixed tty raw IO mode setting
>    * reduced CRTSCTS redefinition to WATCOMC and Linux, added small
>      comment about it and iTODO compile time warning if CRTSCTS is
>      not defined.
>      TODO: make some cleanup and extensions for *nix version of this
>            library.
> 
>  * harbour/config/os2/watcom.mk
>    * disabled -s from GTSTD compile time parameters to test possible
>      workaround for OW problems in MT mode and APIENTRY16 functions.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/config/os2/watcom.mk
>    trunk/harbour/contrib/hbtpathy/tpunix.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sun Dec  6 12:49:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Dec  6 12:49:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13144] trunk/harbour
Message-ID: <E1NHLEV-0003BM-JH@c3vjzd1.ch3.sourceforge.com>

Revision: 13144
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13144&view=rev
Author:   vszakats
Date:     2009-12-06 17:49:16 +0000 (Sun, 06 Dec 2009)

Log Message:
-----------
2009-12-06 18:48 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbide/idemisc.prg
    ! Minor typo in prev.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/idemisc.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Sun Dec  6 13:27:26 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sun Dec  6 13:27:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <439A0A49-169D-481C-9E34-AABB671BD36E@syenar.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>	<002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>	<3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>	<002801ca75b7$f7eba140$e7c2e3c0$@Bisz@t-online.hu>	<32BC1722-4B82-43C5-B25A-AEDDA640E50C@syenar.hu>	<002901ca75c3$bb7797d0$3266c770$@Bisz@t-online.hu>
	<439A0A49-169D-481C-9E34-AABB671BD36E@syenar.hu>
Message-ID: <000101ca76a1$c32cb620$49862260$@Bisz@t-online.hu>

Hi Viktor,

Could you please force the -mt for the hbide, demoxbp and demoqt in their
hbmk2 bilds.
Until now looks that this is the magic...

Best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
Sent: 2009. december 5. 18:28
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour

> @cd c:\downloads\harbour\contrib\hbide
> @hbmk2 hbide.hbp
> @cd c:\downloads\harbour\contrib\hbxbp\tests
> @hbmk2 demoxbp.prg
> @cd c:\downloads\harbour\contrib\hbqt\tests
> @hbmk2 demoqt.prg

Another suggestion:

Use -rebuild option in above hbmk2 calls. It may happen 
you get a confused state if switch back and forth between  
different compiler versions and build settings, since 
hbmk2 won't detect all of these.

Brgds,
Viktor

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sun Dec  6 14:01:02 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Dec  6 14:01:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13145] trunk/harbour
Message-ID: <E1NHMLu-0005Ae-DV@bj8yhf1.ch3.sourceforge.com>

Revision: 13145
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13145&view=rev
Author:   vszakats
Date:     2009-12-06 19:01:01 +0000 (Sun, 06 Dec 2009)

Log Message:
-----------
2009-12-06 19:59 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/set.c
  * src/rdd/dbcmd.c
  * include/set.ch
  * include/hbset.h
    + Added support for SET( _SET_DBCODEPAGE ). This will set the
      default codepage for RDD operation. It affects following
      functions and everything which is based on them:
         DBUSEAREA()
         DBCREATE()
         HB_DBCREATETEMP()
         __DBOPENSDF()
      IOW every function which accepts current "dirty" Harbour
      extension <cCodePage>.
      This new SET() is useful if someone wants to use a different 
      than app codepage in tables, without modifying every above
      calls to pass the db CP as extra parameter (plus maintaining 
      this global setting in app code).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbset.h
    trunk/harbour/include/set.ch
    trunk/harbour/src/rdd/dbcmd.c
    trunk/harbour/src/vm/set.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Sun Dec  6 15:32:38 2009
From: jarabal at gmail.com (Xavi)
Date: Sun Dec  6 15:33:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13145] trunk/harbour
In-Reply-To: <E1NHMLu-0005Ae-DV@bj8yhf1.ch3.sourceforge.com>
References: <E1NHMLu-0005Ae-DV@bj8yhf1.ch3.sourceforge.com>
Message-ID: <4B1C14E6.2050001@gmail.com>

Congratulations Viktor, we just get a warning and in g++ :)

<---------- win_prn2.c (417) ------------------>
...
        DocInfo.pDatatype = ( LPTSTR ) TEXT( "RAW" );
...
<----------------------------------------------->
Clear warning deprecated conversion.

-- 
Xavi


From harbour.01 at syenar.hu  Sun Dec  6 16:22:33 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Dec  6 16:22:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <000101ca76a1$c32cb620$49862260$@Bisz@t-online.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>	<002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>	<3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>	<002801ca75b7$f7eba140$e7c2e3c0$@Bisz@t-online.hu>	<32BC1722-4B82-43C5-B25A-AEDDA640E50C@syenar.hu>	<002901ca75c3$bb7797d0$3266c770$@Bisz@t-online.hu>
	<439A0A49-169D-481C-9E34-AABB671BD36E@syenar.hu>
	<000101ca76a1$c32cb620$49862260$@Bisz@t-online.hu>
Message-ID: <6845F674-E889-4B7C-8037-6230162CEF50@syenar.hu>

Hi Istvan,

This is very easy to implement, only needs one extra 'mt=yes' line 
in contrib/hbqt/hbqt[s].hbc files.

However, before we do this, I'd like know if this is indeed the 
_real_ solution to the problem. Turning on MT mode decreases performance 
by ~30% (AFAIR) in mingw, so it's not a costless option. 

I can see some MT stuff in some hbqt files, but I can't tell for 
sure if MT is really needed, and I don't remember of such 
requirement from past discussions, and I wonder why does it seem 
work on other systems. (although hbide is also far from stable on my 
system, I had to shut it down from Task Manager, plus I also had 
GPFs today). I'm also not sure why MT mode should be obligatory for 
a GUI lib. This is a pretty important requirement to know about 
before deciding on using HBQT in ones app.

I also can't see how GPFs can still occur by .prg level programming 
errors, and I'm in the dark regarding past memory leakage issues.
Are they solved now? I can't understand three the HBQT_RELEASE_WITH_* 
methods, is this a permanent user option now? When should it be used? 
Or is it an experiment to check which of them works? If the latter, 
do we know this already? If the former, why users have to bother with 
such low level details?

Can HBQT experts advise on any of above matters?

Brgds,
Viktor

On 2009 Dec 6, at 19:27, Bisz Istv?n wrote:

> Hi Viktor,
> 
> Could you please force the -mt for the hbide, demoxbp and demoqt in their
> hbmk2 bilds.
> Until now looks that this is the magic...
> 
> Best regards,
> Istv?n
> 
> -----Original Message-----
> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
> Sent: 2009. december 5. 18:28
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
> 
>> @cd c:\downloads\harbour\contrib\hbide
>> @hbmk2 hbide.hbp
>> @cd c:\downloads\harbour\contrib\hbxbp\tests
>> @hbmk2 demoxbp.prg
>> @cd c:\downloads\harbour\contrib\hbqt\tests
>> @hbmk2 demoqt.prg
> 
> Another suggestion:
> 
> Use -rebuild option in above hbmk2 calls. It may happen 
> you get a confused state if switch back and forth between  
> different compiler versions and build settings, since 
> hbmk2 won't detect all of these.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sun Dec  6 16:24:10 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Dec  6 16:24:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13146] trunk/harbour
Message-ID: <E1NHOaQ-0007zr-2V@bj8yhf1.ch3.sourceforge.com>

Revision: 13146
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13146&view=rev
Author:   vszakats
Date:     2009-12-06 21:24:08 +0000 (Sun, 06 Dec 2009)

Log Message:
-----------
2009-12-06 22:23 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_destruct.cpp
    % Removed headers not required for this file.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Dec  6 16:29:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Dec  6 16:29:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13147] trunk/harbour
Message-ID: <E1NHOfJ-00085Y-4X@bj8yhf1.ch3.sourceforge.com>

Revision: 13147
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13147&view=rev
Author:   vszakats
Date:     2009-12-06 21:29:12 +0000 (Sun, 06 Dec 2009)

Log Message:
-----------
2009-12-06 22:28 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn2.c
    ! Silenced mingw C++ mode warning as suggested by Xavi. (Thanks!)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sun Dec  6 18:15:35 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Dec  6 18:15:43 2009
Subject: [Harbour] BEGIN/END SEQUENCE  Fails or is intended as such ?
Message-ID: <26669736.post@talk.nabble.com>


Hi

Look at this code:


FUNCTION EvalAsString( cExp )
   LOCAL cValue

   cExp := "c:\"

   BEGIN SEQUENCE
      cValue := eval( &( "{|| " + cExp + "}" ) )
   RECOVER
      cValue := cExp
   END SEQUENCE

   IF !hb_isChar( cValue )
      cValue := ""
   ENDIF

   RETURN cValue


RECOVER does not recovers it and application produces a GPF or hangs.
Is such evaluations prohibited ?

Viktor, some of these points are where prg code produces GPF and we are not
aware.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/BEGIN-END-SEQUENCE--Fails-or-is-intended-as-such---tp26669736p26669736.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sun Dec  6 18:23:51 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Dec  6 18:23:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <6845F674-E889-4B7C-8037-6230162CEF50@syenar.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>
	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>
	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>
	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>
	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>
	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>
	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>
	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>
	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>
	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>
	<002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>
	<3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>
	<002801ca75b7$f7eba140$e7c2e3c0$@Bisz@t-online.hu>
	<32BC1722-4B82-43C5-B25A-AEDDA640E50C@syenar.hu>
	<002901ca75c3$bb7797d0$3266c770$@Bisz@t-online.hu>
	<439A0A49-169D-481C-9E34-AABB671BD36E@syenar.hu>
	<000101ca76a1$c32cb620$49862260$@Bisz@t-online.hu>
	<6845F674-E889-4B7C-8037-6230162CEF50@syenar.hu>
Message-ID: <26669738.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> This is very easy to implement, only needs one extra 'mt=yes' line 
> in contrib/hbqt/hbqt[s].hbc files.
> 
> However, before we do this, I'd like know if this is indeed the 
> _real_ solution to the problem. Turning on MT mode decreases performance 
> by ~30% (AFAIR) in mingw, so it's not a costless option. 
> 

Does not matter how slow/fast it is, but it is needed.
I cannot imagine a Windows development platform with MT support.
HBXBP/demoQT definitely exploits it though I did not implement it 
for HBIDE as this interface does not require it.



> I can see some MT stuff in some hbqt files, but I can't tell for 
> sure if MT is really needed, and I don't remember of such 
> requirement from past discussions, and I wonder why does it seem 
> work on other systems. (although hbide is also far from stable on my 
> system, I had to shut it down from Task Manager, plus I also had 
> GPFs today). I'm also not sure why MT mode should be obligatory for 
> a GUI lib. This is a pretty important requirement to know about 
> before deciding on using HBQT in ones app.
> 

See above.



> I also can't see how GPFs can still occur by .prg level programming 
> errors, and I'm in the dark regarding past memory leakage issues.
> Are they solved now? I can't understand three the HBQT_RELEASE_WITH_* 
> methods, is this a permanent user option now? When should it be used? 
> Or is it an experiment to check which of them works? If the latter, 
> do we know this already? If the former, why users have to bother with 
> such low level details?
> 

It is not prg level code which may produce GPF but certainly C level code
which is called by PRG is producing it. Also note that HBIDE is still
evolving
and you have decided the outcome otherwise.



> Can HBQT experts advise on any of above matters?
> 

This is the real problem. Here nobody is Qt expert, everybody 
is trying to extract and making its roots firm for Harbour. As said before,
I had not heard of anything about Qt before 17March2009.

By your posts for few days last I am gathering the impression
that implementation of Qt is just waste of efforts. So I propose to 
drop it all together.

Brgds,
Viktor



-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13103--trunk-harbour-tp26627429p26669738.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From ice at extreme.hu  Sun Dec  6 18:25:37 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sun Dec  6 18:25:45 2009
Subject: [Harbour] HB_STRICT_ANSI_C, does it work?
Message-ID: <alpine.DEB.2.00.0912070005540.8775@dawn.royalcomp.hu>


hi,

i've been toying with a platform where (due to compiler, erhm, issues) 
my best bet for startup seems to be hb_strict_ansi_c, however it 
doesn't seen to work. i've checked setting this on linux/gcc, and it 
doesn't work either.

even compilation doesn't succeed by throwing lots of multiply defined 
symbol and other suspicions (read, they aren't there in other 
cases) errors along the lines of:

gcc   -I. -I../../../../../../include -DHB_STRICT_ANSI_C -Wall -W -O3  
  -I/usr/include  -ogtxwc.o -c ../../../gtxwc.c
  ../../../gtxwc.c:4306: warning: return type defaults to ?int?
  ../../../gtxwc.c: In function ?_hb_startup_gt_Init_?:
  ../../../gtxwc.c:4308: warning: control reaches end of non-void function

gcc  -shared [...] -o ../../../../../lib/linux/gcc/libharbour-2.0.0.so [...]
  gtxwc.c:(.text+0x2f0): multiple definition of `_hb_startup_gt_Init_'
  ../../../../../src/rtl/gtcgi/obj/linux/gcc/gtcgi_dyn.o:gtcgi.c:(.text+0x230): first defined here
collect2: ld returned 1 exit status

these are present in gt drivers, also rdds and the code page stuff.

if the linker is convinced (by judicious application of -z muldefs) to 
just do something, it's not very surprisingly doesn't work either:

tinky:~/w/xhb/hbci/harbour-build$ ./bin/linux/gcc/hbrun 

Unrecoverable error 9998: Harbour terminal (GT) initialization failure

hence the question, does HB_STRICT_ANSI_C work? how does it work? when 
does it work?

thanks,

-- 
[-]

mkdir /nonexistent
From druzus at acn.waw.pl  Sun Dec  6 18:43:43 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Dec  6 18:43:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13145] trunk/harbour
In-Reply-To: <E1NHMLu-0005Ae-DV@bj8yhf1.ch3.sourceforge.com>
References: <E1NHMLu-0005Ae-DV@bj8yhf1.ch3.sourceforge.com>
Message-ID: <20091206234343.GA11302@linux-4bod.home.aster.pl>

On Sun, 06 Dec 2009, vszakats@users.sourceforge.net wrote:

Hi,

> 2009-12-06 19:59 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * src/vm/set.c
>   * src/rdd/dbcmd.c
>   * include/set.ch
>   * include/hbset.h
>     + Added support for SET( _SET_DBCODEPAGE ). This will set the
>       default codepage for RDD operation. It affects following
>       functions and everything which is based on them:
>          DBUSEAREA()
>          DBCREATE()
>          HB_DBCREATETEMP()
>          __DBOPENSDF()

This setting should be moved from above functions to hb_rddOpenTable(),
hb_rddCreateTable and hb_rddCreateTableTemp() or you should update
other code which should respect it.
Personally I prefer to moving it to above functions because in such
case it will work also for existing code without updating each function
which may call above functions directly or indirectly.
It will also fix few places in current core code which now do not
respect above setting yet, i.e. some versions of APPEND FROM / COPY TO.
I guess that you chose above functions because they set default value
for shared/exclusive mode using _SET_EXCLUSIVE but this set is used
to control different things and I do not think it's necessary to
replicate the position of this set for other things.

>       IOW every function which accepts current "dirty" Harbour
>       extension <cCodePage>.

I do not see anything "dirty" in writing code like:

   USE table CODEPAGE "PLISO"

instead of:

   LOCAL cPrecCP
   [...]
   cPrevCP := Set( _SET_DBCODEPAGE, "PLISO" )
   USE table
   Set( _SET_DBCODEPAGE, cPrevCP )

and for sure I will prefer the 1-st version against the second one.

>       This new SET() is useful if someone wants to use a different 
>       than app codepage in tables, without modifying every above
>       calls to pass the db CP as extra parameter (plus maintaining 
>       this global setting in app code).

With this I can agree and I think that in some cases it may be useful.
Anyhow all users should not forget that enabling any automatic code page
translation it's possible for tables containing text data only. Using
codepage translation for standard Clipper DBF tables used to store
binary data directly in table or in memo files will corrupt this data
so it should be used very carefully when user exactly knows what he
does and what it stored in used tables.

best regards,
Przemek
From vouchcac at users.sourceforge.net  Sun Dec  6 18:56:29 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Dec  6 18:56:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13148] trunk/harbour
Message-ID: <E1NHQxp-00061g-D1@74yxhf1.ch3.sourceforge.com>

Revision: 13148
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13148&view=rev
Author:   vouchcac
Date:     2009-12-06 23:56:28 +0000 (Sun, 06 Dec 2009)

Log Message:
-----------
2009-12-06 15:29 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/idemisc.prg
  * contrib/hbide/idestylesheets.prg
  * contrib/hbide/projects/hbide.hbi
  * contrib/hbide/hbide.prg
    + Implemented Project definition/loading/manipulation through 
      <Project Tree> interface. 
    + Implemented this tree structure:

        - Projects
          - Executables
            - Harbour-Qt IDE
              - C:\harbour\contrib\hbide\  [ Path containing the source ]
                - hbide.prg
                - idemisc.prg
                - ...
              - C:\harbour\contrib\hbwin\
                - olecore.c
                - ...
            - GTWVG Demonstration Application
              - C:\harbour\contrib\gtwvg\tests\
                - demowvg.prg

        - Editor    [ Holds sources already opened ]
          - C:\harbour\contrib\hbide\  [ Path containing the source ]
            - hbide.prg
            - idetags.prg
            - ...

        RIGHT-CLICK ( context menu ) on <Projects> node presents a menu to 
           define or load a project.
        RIGHT-CLICK on <Project Description> node allows to redefine 
           the properties.
        DOUBLE-CLICK on any source file has two actions, 
              1) it opens the editor tab if file is not open already, 
              2) it makes the tab current which holds the source of this file.
           This action is valid on nodes contained beneath <Path> under 
           <Project Description> or under <Editor>.
            
        certainly hope that some of you will play with it and will report 
        back anything desired more. 

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/idestylesheets.prg
    trunk/harbour/contrib/hbide/projects/hbide.hbi


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Dec  6 19:11:51 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec  6 19:12:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13145] trunk/harbour
In-Reply-To: <20091206234343.GA11302@linux-4bod.home.aster.pl>
References: <E1NHMLu-0005Ae-DV@bj8yhf1.ch3.sourceforge.com>
	<20091206234343.GA11302@linux-4bod.home.aster.pl>
Message-ID: <125C7829-0E05-4ED7-8898-D29A0A8F3EDB@syenar.hu>

Hi Przemek,

>> 2009-12-06 19:59 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * src/vm/set.c
>>  * src/rdd/dbcmd.c
>>  * include/set.ch
>>  * include/hbset.h
>>    + Added support for SET( _SET_DBCODEPAGE ). This will set the
>>      default codepage for RDD operation. It affects following
>>      functions and everything which is based on them:
>>         DBUSEAREA()
>>         DBCREATE()
>>         HB_DBCREATETEMP()
>>         __DBOPENSDF()
> 
> This setting should be moved from above functions to hb_rddOpenTable(),
> hb_rddCreateTable and hb_rddCreateTableTemp() or you should update
> other code which should respect it.
> Personally I prefer to moving it to above functions because in such
> case it will work also for existing code without updating each function
> which may call above functions directly or indirectly.
> It will also fix few places in current core code which now do not
> respect above setting yet, i.e. some versions of APPEND FROM / COPY TO.
> I guess that you chose above functions because they set default value
> for shared/exclusive mode using _SET_EXCLUSIVE but this set is used

No, I tried to locate "cCodePage", "cpid", such clues, 
but anyway thanks for above suggestion. It's not very 
easy job to find these extended parameters (one reason 
I call them "dirty"), and our docs is lacking.

I'll try to make this modification, and I'd like to ask 
you to review it.

> to control different things and I do not think it's necessary to
> replicate the position of this set for other things.
> 
>>      IOW every function which accepts current "dirty" Harbour
>>      extension <cCodePage>.
> 
> I do not see anything "dirty" in writing code like:
> 
>   USE table CODEPAGE "PLISO"

I don't use commands (at all), so for me it looks like:
   dbCreate( a, s,,,,, "PLISO" ), etc.

I don't have too many of these, but enough to allow for 
errors.

> instead of:
> 
>   LOCAL cPrecCP
>   [...]
>   cPrevCP := Set( _SET_DBCODEPAGE, "PLISO" )
>   USE table
>   Set( _SET_DBCODEPAGE, cPrevCP )
> 
> and for sure I will prefer the 1-st version against the second one.

I call SET( _SET_DBCODEPAGE ) only _once_ in the app, since 
I use the same CP for all tables that belong to the database 
it handles. I assume this is quite a common layout in apps.

I know Clipper doesn't know the notion of "database" (only tables), 
but such CP setting nevertheless belongs to the database and 
not to distinct tables in most cases.

In case I need some tables in different CP, I can do the 
above trick or rather pass CP directly via "dirty" parameter.

You know well why I call it dirty. Some other implementations 
may use these parameter positions for different things. We're 
not doing that sort of extension in whole Harbour except here. 
If possible, I prefer not to use it. Anyway, this is just the 
smaller issue here.

>>      This new SET() is useful if someone wants to use a different 
>>      than app codepage in tables, without modifying every above
>>      calls to pass the db CP as extra parameter (plus maintaining 
>>      this global setting in app code).
> 
> With this I can agree and I think that in some cases it may be useful.
> Anyhow all users should not forget that enabling any automatic code page
> translation it's possible for tables containing text data only. Using
> codepage translation for standard Clipper DBF tables used to store
> binary data directly in table or in memo files will corrupt this data
> so it should be used very carefully when user exactly knows what he
> does and what it stored in used tables.

Exactly. I had some fields encoded as binary data, and in last 
year I had cleaned all of them to use ASCII chars only. This 
was part of the CP migration move.

Anyhow - and I don't know, but guess - that in Harbour we have 
some "binary" kind of field types, too, and these should not make 
any CP conversion, so it's still safe to store binary data in 
them, regardless of CP settings.

(am I guessing right?)

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Dec  6 19:18:39 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec  6 19:18:49 2009
Subject: [Harbour] HB_STRICT_ANSI_C, does it work?
In-Reply-To: <alpine.DEB.2.00.0912070005540.8775@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0912070005540.8775@dawn.royalcomp.hu>
Message-ID: <64FDE30F-5A24-4C3A-8A86-4560BD64792F@syenar.hu>

> i've been toying with a platform where (due to compiler, erhm, issues) 
> my best bet for startup seems to be hb_strict_ansi_c, however it 
> doesn't seen to work. i've checked setting this on linux/gcc, and it 
> doesn't work either.
> 
> even compilation doesn't succeed by throwing lots of multiply defined 
> symbol and other suspicions (read, they aren't there in other 
> cases) errors along the lines of:
> 
> gcc   -I. -I../../../../../../include -DHB_STRICT_ANSI_C -Wall -W -O3  
>  -I/usr/include  -ogtxwc.o -c ../../../gtxwc.c
>  ../../../gtxwc.c:4306: warning: return type defaults to ?int?
>  ../../../gtxwc.c: In function ?_hb_startup_gt_Init_?:
>  ../../../gtxwc.c:4308: warning: control reaches end of non-void function
> 
> gcc  -shared [...] -o ../../../../../lib/linux/gcc/libharbour-2.0.0.so [...]
>  gtxwc.c:(.text+0x2f0): multiple definition of `_hb_startup_gt_Init_'
>  ../../../../../src/rtl/gtcgi/obj/linux/gcc/gtcgi_dyn.o:gtcgi.c:(.text+0x230): first defined here
> collect2: ld returned 1 exit status
> 
> these are present in gt drivers, also rdds and the code page stuff.
> 
> if the linker is convinced (by judicious application of -z muldefs) to 
> just do something, it's not very surprisingly doesn't work either:
> 
> tinky:~/w/xhb/hbci/harbour-build$ ./bin/linux/gcc/hbrun 
> 
> Unrecoverable error 9998: Harbour terminal (GT) initialization failure
> 
> hence the question, does HB_STRICT_ANSI_C work? how does it work? when 
> does it work?

Short answer: No.

Because in strict ANSI you don't get support for 'constructors'.
We need it to make GTs, RDDs and _every compiled .prg_ work.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Dec  6 19:20:05 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec  6 19:20:27 2009
Subject: [Harbour] BEGIN/END SEQUENCE  Fails or is intended as such ?
In-Reply-To: <26669736.post@talk.nabble.com>
References: <26669736.post@talk.nabble.com>
Message-ID: <A313770D-8CFD-46FC-B159-05AEFE0EF85C@syenar.hu>

Hi Pritpal,

> FUNCTION EvalAsString( cExp )
>   LOCAL cValue
> 
>   cExp := "c:\"
> 
>   BEGIN SEQUENCE
>      cValue := eval( &( "{|| " + cExp + "}" ) )
>   RECOVER
>      cValue := cExp
>   END SEQUENCE
> 
>   IF !hb_isChar( cValue )
>      cValue := ""
>   ENDIF
> 
>   RETURN cValue
> 
> 
> RECOVER does not recovers it and application produces a GPF or hangs.
> Is such evaluations prohibited ?
> 
> Viktor, some of these points are where prg code produces GPF and we are not
> aware.

Can you create a standalone sample, based on this 
code which produces the GPF?

(in standalone I mean without any QT parts or contrib libs)

Brgds,
Viktor

From druzus at acn.waw.pl  Sun Dec  6 20:03:31 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Dec  6 20:03:37 2009
Subject: [Harbour] BEGIN/END SEQUENCE  Fails or is intended as such ?
In-Reply-To: <26669736.post@talk.nabble.com>
References: <26669736.post@talk.nabble.com>
Message-ID: <20091207010330.GA11936@linux-4bod.home.aster.pl>

On Sun, 06 Dec 2009, Pritpal Bedi wrote:

Hi,

> Look at this code:
> FUNCTION EvalAsString( cExp )
>    LOCAL cValue
>    cExp := "c:\"
>    BEGIN SEQUENCE
>       cValue := eval( &( "{|| " + cExp + "}" ) )
>    RECOVER
>       cValue := cExp
>    END SEQUENCE
>    IF !hb_isChar( cValue )
>       cValue := ""
>    ENDIF
>    RETURN cValue
> RECOVER does not recovers it

Please read in Clipper documentation what BEGIN SEQUENCE / RECOVER / END
exactly does. RECOVER is activated only when error handler calls BREAK().
I guess that you wanted to make sth like:

   /* Clipper compatible code */

   cbError := ErrorBlock( { || break() } )
   BEGIN SEQUENCE
      cValue := eval( &( "{|| " + cExp + "}" ) )
   RECOVER
      cValue := cExp
   END SEQUENCE
   ErrorBlock( cbError )

or the same using Harbour extension which allows to set error block only
for given BEGIN SEQUENCE / END statement.

   BEGIN SEQUENCE WITH { || break() }
      cValue := eval( &( "{|| " + cExp + "}" ) )
   RECOVER
      cValue := cExp
   END SEQUENCE

BTW if you want to retrieve error object by
   RECOVER USING oErr
then do not forget to pass it as break() parameter, i.e. use such
codeblock as error block: { |e| break(e) }

> and application produces a GPF or hangs.

It means that you should look carefully at code activated by error
block, i.e. alert(), __quit() or some of your own code.
Anyhow it's not Harbour core code problem. Here everything works perfectly.

> Is such evaluations prohibited ?

I do not understand what you are asking for.

best regards,
Przemek
From druzus at acn.waw.pl  Sun Dec  6 20:35:32 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Dec  6 20:35:39 2009
Subject: [Harbour] HB_STRICT_ANSI_C, does it work?
In-Reply-To: <alpine.DEB.2.00.0912070005540.8775@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0912070005540.8775@dawn.royalcomp.hu>
Message-ID: <20091207013532.GB11936@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, Tamas TEVESZ wrote:

Hi,

> i've been toying with a platform where (due to compiler, erhm, issues) 
> my best bet for startup seems to be hb_strict_ansi_c, however it 
> doesn't seen to work. i've checked setting this on linux/gcc, and it 
> doesn't work either.

The startup code covered by HB_STRICT_ANSI_C macro is not working code
but rather type of code for dummy compilation when non of existing
versions of statup initialization do not work.

It means that you cannot create working binaries using it.
But you can use it to create some alternative initialization method
which will be added later as new startup form for some new platforms
or C compilers.

> even compilation doesn't succeed by throwing lots of multiply defined 
> symbol and other suspicions (read, they aren't there in other 
> cases) errors along the lines of:
> gcc   -I. -I../../../../../../include -DHB_STRICT_ANSI_C -Wall -W -O3  
>   -I/usr/include  -ogtxwc.o -c ../../../gtxwc.c
>   ../../../gtxwc.c:4306: warning: return type defaults to ?int?
>   ../../../gtxwc.c: In function ?_hb_startup_gt_Init_?:
>   ../../../gtxwc.c:4308: warning: control reaches end of non-void function

This we can easy pacify (I'll commit it in a while) but of course it
does not mean that it will work in final binaries. Harbour needs
some method to activate initialization code for each linked .prg
module and many of core code subsystems which are linked optionally.

> gcc  -shared [...] -o ../../../../../lib/linux/gcc/libharbour-2.0.0.so [...]
>   gtxwc.c:(.text+0x2f0): multiple definition of `_hb_startup_gt_Init_'
>   ../../../../../src/rtl/gtcgi/obj/linux/gcc/gtcgi_dyn.o:gtcgi.c:(.text+0x230): first defined here
> collect2: ld returned 1 exit status
> these are present in gt drivers, also rdds and the code page stuff.

It also can be pacified by declaring the dummy initialization function
as static. Anyhow I can imagine startup code which may need public
initialization functions so in some cases it may be good to keep names
of core startup functions unique. If you plan to write such startup
code then I can try to update Harbour core code.
I.e. you can try to use some unique function name prefix for all functions
which should be executed at application startup, then you can write some
linker wrapper and collect all linked functions which have name starting
with your prefix and create small module which will execute each of them
and link it with final application. Then this module can be activated from
our main() function. Probably for flexible usage such modification should
be integrated with hbmk2.

> if the linker is convinced (by judicious application of -z muldefs) to 
> just do something, it's not very surprisingly doesn't work either:
> tinky:~/w/xhb/hbci/harbour-build$ ./bin/linux/gcc/hbrun 
> Unrecoverable error 9998: Harbour terminal (GT) initialization failure
> hence the question, does HB_STRICT_ANSI_C work? how does it work? when 
> does it work?

See above. It does not work and it was never working.
The easiest way is looking for some platform dependent method which
allows to activate some initialization code. Usually such trick exists
though sooner or later we will find platform where we do not find any
native solutions.
BTW SunPRO C in Linux builds does not properly executes all constructors.
It simply ignores some of them. This bug causes that hbtest in Linux
SunPRO C builds GPFs. I hope it will be fixed in SunPRO C compiler in
the future (this is very serious bug which also breaks C++ static
constructors) so it was not enough motivation for me to look for
alternative initialization methods in this builds.

best regards,
Przemek
From harbour.01 at syenar.hu  Sun Dec  6 20:43:39 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec  6 20:43:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <26669738.post@talk.nabble.com>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>
	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>
	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>
	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>
	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>
	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>
	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>
	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>
	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>
	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>
	<002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>
	<3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>
	<002801ca75b7$f7eba140$e7c2e3c0$@Bisz@t-online.hu>
	<32BC1722-4B82-43C5-B25A-AEDDA640E50C@syenar.hu>
	<002901ca75c3$bb7797d0$3266c770$@Bisz@t-online.hu>
	<439A0A49-169D-481C-9E34-AABB671BD36E@syenar.hu>
	<000101ca76a1$c32cb620$49862260$@Bisz@t-online.hu>
	<6845F674-E889-4B7C-8037-6230162CEF50@syenar.hu>
	<26669738.post@talk.nabble.com>
Message-ID: <8B12C4D7-1CBD-49CF-9CF4-9CCD2CF3F6A9@syenar.hu>

Hi Pritpal,

>> However, before we do this, I'd like know if this is indeed the 
>> _real_ solution to the problem. Turning on MT mode decreases performance 
>> by ~30% (AFAIR) in mingw, so it's not a costless option. 
>> 
> 
> Does not matter how slow/fast it is, but it is needed.
> I cannot imagine a Windows development platform with MT support.
> HBXBP/demoQT definitely exploits it though I did not implement it 
> for HBIDE as this interface does not require it.

"Exploits it" and "cannot imagine" doesn't mean it _requires_ it.

What I'm interested in, is whether HBQT _requires it_?

IMO, it should not require it, but may give extra features 
if available, and for sure _be compatible with it_. If current 
implementation _requires it_, which means it cannot work or 
cannot reliably work without it, we should document this fact.

>> I can see some MT stuff in some hbqt files, but I can't tell for 
>> sure if MT is really needed, and I don't remember of such 
>> requirement from past discussions, and I wonder why does it seem 
>> work on other systems. (although hbide is also far from stable on my 
>> system, I had to shut it down from Task Manager, plus I also had 
>> GPFs today). I'm also not sure why MT mode should be obligatory for 
>> a GUI lib. This is a pretty important requirement to know about 
>> before deciding on using HBQT in ones app.
>> 
> 
> See above.

Sorry, but it doesn't answer my question.

>> I also can't see how GPFs can still occur by .prg level programming 
>> errors, and I'm in the dark regarding past memory leakage issues.
>> Are they solved now? I can't understand three the HBQT_RELEASE_WITH_* 
>> methods, is this a permanent user option now? When should it be used? 
>> Or is it an experiment to check which of them works? If the latter, 
>> do we know this already? If the former, why users have to bother with 
>> such low level details?
>> 
> 
> It is not prg level code which may produce GPF but certainly C level code
> which is called by PRG is producing it. Also note that HBIDE is still
> evolving
> and you have decided the outcome otherwise.

This misses my question. I know that GPF is caused by machine 
code and machine code is generated from C sources, and C is 
called by .prg level code, but it's irrelevant.

What I notice is that you repeatedly fix GPFs by tweaking .prg 
level code, which suggest that one can write such .prg code 
which makes lower level components fail. This is unacceptable 
IMO, and for sure makes it very difficult to work with such 
component.

Since you know the HBQT details inside out, it would be nice 
if you could give some hints on this topic.

>> Can HBQT experts advise on any of above matters?
>> 
> 
> This is the real problem. Here nobody is Qt expert, everybody 
> is trying to extract and making its roots firm for Harbour. As said before,
> I had not heard of anything about Qt before 17March2009.
> 
> By your posts for few days last I am gathering the impression
> that implementation of Qt is just waste of efforts. So I propose to 
> drop it all together.

Not exactly.

The problem is that all I see is problems, and no final 
resolutions to them and problems are just being piled 
higher and higher. What I see that we're in a hurry building 
on a foundation which is unstable. This is of course nice 
and dandy in open-source, but it's also part of open-source 
that such concerns that I expressed may be raised, and 
ideally it will result in answers, and more general knowledge 
about the topic and eventually it will result in code fixes, 
and finally in robust code.

In this e-mail I was trying to get some sort of status 
about problems, because it's quite difficult to see where 
we're now. Random GPFs are usual, and fixed in .prg code 
and memory issues are not closed AFAIK (but I may be wrong).

This causes that we don't know where to look where any 
problems occur. Look at the struggle with 4.6.0 and MinGW.
We're still unsure whether we need C++ mode, your .prg 
level fix or now MT mode to make the problems disappear :(

I've spent two frustrating days on this, so I decided to 
write this letter to try debunking these problems from the 
root. I hope it will happen.

Now it seems some theories (like C++ mode) were false and 
standard (new) MinGW can be used, now the only problem is that 
there's no easily installable MinGW version, but this will 
be solved by time, so it's not showstopper for us. MSVC binary 
build of QT _is_ frustrating, but we didn't lose much here, 
as 4.5.x didn't have such build at all, so we stand at the 
same place.

IMO these areas should be thoroughly inspected in HBQT to 
make it stable platform:

1) Memory handling. No leaks, reference counting, 
   whatever is needed, and automatic. It should be 
   transparent to .prg level programmer.
   IOW: _whatever_ user does from .prg, it should never 
   ever cause a memory leak or double freeing of memory.
2) Avoiding all GPFs that may result from calling 
   any HBQT wrappers with any wrong parameters, or any 
   sort of random order.
   This means HBQT should throw RTEs or handle invalid 
   (NULL) pointers, and there should be no reference 
   to freed pointersm, etc etc. 
   IOW: _whatever_ user does from .prg, it should never 
   ever cause a GPF.
3) Separation of components. I've written more about 
   this. This isn't a showstopper, but seems an important 
   task.

My only concern towards QT _which is out of our control_, 
is that it's very heavy and can't be linked statically.

But, from all other aspects it looks quite good and it 
will probably catch on even more, so IMO we should not 
drop but, but rather try to fix all the parts we can 
and make it a robust platform for Harbour.

Brgds,
Viktor

From jarabal at gmail.com  Sun Dec  6 20:45:13 2009
From: jarabal at gmail.com (Xavi)
Date: Sun Dec  6 20:45:36 2009
Subject: [Harbour] BEGIN/END SEQUENCE  Fails or is intended as such ?
In-Reply-To: <26669736.post@talk.nabble.com>
References: <26669736.post@talk.nabble.com>
Message-ID: <4B1C5E29.3050805@gmail.com>

Pritpal,

Maybe you need to put this before .-

#xcommand BEGIN SEQUENCE => BEGIN SEQUENCE WITH { |oErr| Break( oErr ) }

or better yet .-

#xcommand TRY              => BEGIN SEQUENCE WITH t_bBreak
#xcommand CATCH [<!oErr!>] => RECOVER [USING <oErr>] <-oErr->
#xcommand FINALLY          => ALWAYS

THREAD STATIC t_bBreak := { |oErr| Break( oErr ) }

and use .-

...
     TRY
        cValue := eval( &( "{|| " + cExp + "}" ) )
     CATCH
        cValue := cExp
     END
...

Best regards,
Xavi

Pritpal Bedi escribi?:
> Hi
> 
> Look at this code:
> 
> 
> FUNCTION EvalAsString( cExp )
>    LOCAL cValue
> 
>    cExp := "c:\"
> 
>    BEGIN SEQUENCE
>       cValue := eval( &( "{|| " + cExp + "}" ) )
>    RECOVER
>       cValue := cExp
>    END SEQUENCE
> 
>    IF !hb_isChar( cValue )
>       cValue := ""
>    ENDIF
> 
>    RETURN cValue
> 
> 
> RECOVER does not recovers it and application produces a GPF or hangs.
> Is such evaluations prohibited ?
> 
> Viktor, some of these points are where prg code produces GPF and we are not
> aware.
> 
> Regards
> Pritpal Bedi
> 
> 


From harbour.01 at syenar.hu  Sun Dec  6 21:04:01 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec  6 21:04:10 2009
Subject: [Harbour] Harbour and unicode .prg files
Message-ID: <496D4104-0893-40B3-880F-FABB1E7E3B08@syenar.hu>

Hi All,

I was trying to compile a .prg which contained UTF-8 chars 
in strings, and it so happened that my editor added unicode 
signature (BOM) to the .prg file, causing this compile error:

---
Harbour 2.0.0beta3 (Rev. 13091)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'sh.prg'...
sh.prg(1) Error E0030  Syntax error "syntax error at '???'"
1 error
---

Would it be possible to accept input files with unicode BOMs?

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Dec  6 21:17:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Dec  6 21:17:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13149] trunk/harbour
Message-ID: <E1NHTAQ-00088I-Ec@74yxhf1.ch3.sourceforge.com>

Revision: 13149
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13149&view=rev
Author:   vszakats
Date:     2009-12-07 02:17:37 +0000 (Mon, 07 Dec 2009)

Log Message:
-----------
2009-12-07 02:58 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbwince.h
    + Added following macros to help transitioning to new method
      of CP conversion when interfacing with Windows API (both UNICODE
      and non-UNICODE):
         HB_PARSTR( n, h, len )
         HB_RETSTR( str )
         HB_RETSTRLEN( str, len )
         HB_STORSTR( str, n )
         HB_STORSTRLEN( str, len, n )
    ; The goal is to replace HB_TCHAR_*() macros and hb_osEncodeCP()
      call with above ones. This will allow to use any CPs (even UTF8)
      on the .prg level and transparently interface with Windows
      with proper CP translation.
      We will probably need a few more macros to store strings in
      array elements f.e., but this is enough for a start.

  * contrib/hbwin/wapi_shellapi.c
    + Experimental: WAPI_SHELLEXECUTE() converted to use above new
      macros. It results in much cleaner code.
      Minor incompatibility: 3rd parameter is now passed as-is, so
      if non-string is passed it gets passed to Windows as NULL,
      which isn't a valid input parameter.
    ; NOTE: Probably it will useful to have HB_PARSTRDEF() which also
            accepts a default value to be used when non-string
            parameter was passed. (to replace old hb_parcx() calls).
            Is it possible to add such function or any other ways to solve that?
    ; TOFIX: I'm getting this warning:
               warning: implicit declaration of function 'hb_setGetOSCP'
             and it's probably too late, but I couldn't find a way to
             include hbset.h without errors or with least side-effects.
             Przemek, could you help?

  * contrib/hbwin/win_prn1.c
    * Formatting.

  * src/rdd/dbcmd.c
  * src/rdd/wafunc.c
    + Moved recently implemented codepage defaulting logic (_SET_DBCODEPAGE)
      to lower lever functions.
      Please review me.

  * external/libpng/pngrio.c
  * external/libpng/pngerror.c
  * external/libpng/pngconf.h
  * external/libpng/pngwrite.c
  * external/libpng/pngset.c
  * external/libpng/pngpread.c
  * external/libpng/pngwtran.c
  * external/libpng/LICENSE
  * external/libpng/pngwio.c
  * external/libpng/pngrutil.c
  * external/libpng/pngwutil.c
  * external/libpng/pngread.c
  * external/libpng/pngmem.c
  * external/libpng/png.c
  * external/libpng/pngget.c
  * external/libpng/pnggccrd.c
  * external/libpng/png.h
  * external/libpng/pngrtran.c
  * external/libpng/pngtrans.c
    * Updated to 1.2.41 (from 1.2.40)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_shellapi.c
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/external/libpng/LICENSE
    trunk/harbour/external/libpng/png.c
    trunk/harbour/external/libpng/png.h
    trunk/harbour/external/libpng/pngconf.h
    trunk/harbour/external/libpng/pngerror.c
    trunk/harbour/external/libpng/pnggccrd.c
    trunk/harbour/external/libpng/pngget.c
    trunk/harbour/external/libpng/pngmem.c
    trunk/harbour/external/libpng/pngpread.c
    trunk/harbour/external/libpng/pngread.c
    trunk/harbour/external/libpng/pngrio.c
    trunk/harbour/external/libpng/pngrtran.c
    trunk/harbour/external/libpng/pngrutil.c
    trunk/harbour/external/libpng/pngset.c
    trunk/harbour/external/libpng/pngtrans.c
    trunk/harbour/external/libpng/pngwio.c
    trunk/harbour/external/libpng/pngwrite.c
    trunk/harbour/external/libpng/pngwtran.c
    trunk/harbour/external/libpng/pngwutil.c
    trunk/harbour/include/hbwince.h
    trunk/harbour/src/rdd/dbcmd.c
    trunk/harbour/src/rdd/wafunc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Dec  6 21:24:34 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Dec  6 21:24:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13150] trunk/harbour
Message-ID: <E1NHTH8-0008Ed-HC@74yxhf1.ch3.sourceforge.com>

Revision: 13150
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13150&view=rev
Author:   vszakats
Date:     2009-12-07 02:24:33 +0000 (Mon, 07 Dec 2009)

Log Message:
-----------
2009-12-07 03:24 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rdd/wafunc.c
    ! Fix to prev.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rdd/wafunc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Dec  6 21:31:20 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec  6 21:31:30 2009
Subject: [Harbour] bug?: SET( _SET_CODEPAGE, "UTF8" )
Message-ID: <5D0B8B84-01DC-4F54-A259-DEE382A62B41@syenar.hu>

Hi All,

'SET( _SET_CODEPAGE, "UTF8" )' does't work, it leaves CP in previous setting.

Brgds,
Viktor


From mhsabado at gmail.com  Sun Dec  6 22:31:18 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Sun Dec  6 22:31:26 2009
Subject: [Harbour] Error Compiling with latest SVN
Message-ID: <f81ad3e40912061931s74f87db7r5484111ac525c1d7@mail.gmail.com>

Hi,

I encountered below error when building latest Harbour SVN under Mandriva.

Thanks,
Mario

***********************************************************
gcc  -L../../../../../lib/linux/gcc -L/usr/X11R6/lib
-o../../../../../bin/linux/gcc/hbrun hbrun.o -lhbcplr -lhbpp -lhbcommon
-lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca
-lgtstd -lgtcrs -lgtsln -lgtxwc -lgttrm -lhbrdd -lrddntx -lrddnsx -lrddcdx
-lrddfpt -lhbsix -lhbhsx -lhbusrrdd -lhbuddall -lhbrtl -lhbvm -lhbmacro
-lhbcplr -lhbpp -lhbcommon -lncurses -lslang -lX11 -lgpm -lpcre -lz -lrt
-ldl -lm
../../../../../lib/linux/gcc/libhbrdd.a(wafunc.o): In function
`hb_rddCreateTable':
wafunc.c:(.text+0x509): undefined reference to `hb_setGetDBCODEPAGE'
../../../../../lib/linux/gcc/libhbrdd.a(wafunc.o): In function
`hb_rddCreateTableTemp':
wafunc.c:(.text+0x6b1): undefined reference to `hb_setGetDBCODEPAGE'
../../../../../lib/linux/gcc/libhbrdd.a(wafunc.o): In function
`hb_rddOpenTable':
wafunc.c:(.text+0x8a9): undefined reference to `hb_setGetDBCODEPAGE'
../../../../../lib/linux/gcc/libhbrdd.a(wafunc.o): In function `T.110':
wafunc.c:(.text+0xfc9): undefined reference to `hb_setGetDBCODEPAGE'
../../../../../lib/linux/gcc/libhbrdd.a(wafunc.o): In function
`hb_rddTransRecords':
wafunc.c:(.text+0x209e): undefined reference to `hb_setGetDBCODEPAGE'
collect2: ld returned 1 exit status
make[3]: *** [hbrun] Error 1
make[2]: *** [descend] Error 2
make[1]: *** [hbrun.inst] Error 2
make: *** [utils.inst] Error 2
*******************************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091207/b51beaba/attachment.html
From ice at extreme.hu  Mon Dec  7 00:48:07 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Mon Dec  7 00:48:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13149] trunk/harbour
In-Reply-To: <E1NHTAQ-00088I-Ec@74yxhf1.ch3.sourceforge.com>
References: <E1NHTAQ-00088I-Ec@74yxhf1.ch3.sourceforge.com>
Message-ID: <alpine.DEB.2.00.0912070645260.8775@dawn.royalcomp.hu>

On Mon, 7 Dec 2009, vszakats@users.sourceforge.net wrote:

hi,

[libpng]
 >     * Updated to 1.2.41 (from 1.2.40)

broke linux x win/watcom cpp

! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
! MAKE: make 3.81 /bin/sh   
! HB_INSTALL_PREFIX: /home/ice/w/xhb/hbci/inst/win/watcom/cpp
! HB_BUILD_DEBUG: yes
! HB_BUILD_OPTIM: no
! HB_BUILD_MODE: cpp
! HB_BUILD_EXTDEF: no
! HB_CONTRIBLIBS: no
! HB_HOST_PLAT: linux (x86_64)  HB_SHELL: sh
! HB_PLATFORM: win (x86) 
! HB_COMPILER: watcom 
! HB_BIN_COMPILE not specified. Automatically set to: /usr/bin
! Component: 'zlib' found in /home/ice/w/xhb/hbci/harbour-build/external/zlib (local)
! Component: 'pcre' found in /home/ice/w/xhb/hbci/harbour-build/external/pcre (local)
! Component: 'openssl' not supported with watcom compiler
! Component: 'gpm' not supported on win platform
! Component: 'slang' not found
! Component: 'curses' not found
! Component: 'x11' not found
! Component: 'wattcp/watt-32' not supported on win platform
! REVISION: 13150
make[2]: Nothing to be done for `all'.
make[1]: Nothing to be done for `all'.
! 'libhpdf' library skipped (platform or compiler not supported)
wcc386   -zq -bt=nt -bm -w0 -3s -i. -i../../../../../include -d2 -DHB_TR_LEVEL_DEBUG  -I/home/ice/w/xhb/hbci/harbour-build/external/zlib  -fo=png.obj  ../../../png.c
wcc386   -zq -bt=nt -bm -w0 -3s -i. -i../../../../../include -d2 -DHB_TR_LEVEL_DEBUG  -I/home/ice/w/xhb/hbci/harbour-build/external/zlib  -fo=pngerror.obj  ../../../pngerror.c
wcc386   -zq -bt=nt -bm -w0 -3s -i. -i../../../../../include -d2 -DHB_TR_LEVEL_DEBUG  -I/home/ice/w/xhb/hbci/harbour-build/external/zlib  -fo=pnggccrd.obj  ../../../pnggccrd.c
wcc386   -zq -bt=nt -bm -w0 -3s -i. -i../../../../../include -d2 -DHB_TR_LEVEL_DEBUG  -I/home/ice/w/xhb/hbci/harbour-build/external/zlib  -fo=pngget.obj  ../../../pngget.c
wcc386   -zq -bt=nt -bm -w0 -3s -i. -i../../../../../include -d2 -DHB_TR_LEVEL_DEBUG  -I/home/ice/w/xhb/hbci/harbour-build/external/zlib  -fo=pngmem.obj  ../../../pngmem.c
../../../pngmem.c(447): Error! E1057: Modifiers disagree with previous definition of 'png_calloc'
../../../pngmem.c(447): Note! I2002: 'png_calloc' defined in: ../../../png.h(3754)
make[3]: *** [pngmem.obj] Error 1
make[2]: *** [descend] Error 2
make[1]: *** [libpng] Error 2
make: *** [external] Error 2

-- 
[-]

mkdir /nonexistent
From mbelgrano at deltain.it  Mon Dec  7 03:39:20 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Dec  7 03:39:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <C91D6B6A-B02D-4BDB-8DD1-2A69FDE1187C@syenar.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com> 
	<-6297814447993206960@unknownmsgid>
	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com> 
	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>
	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu> 
	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>
	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu> 
	<3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>
	<32BC1722-4B82-43C5-B25A-AEDDA640E50C@syenar.hu> 
	<C91D6B6A-B02D-4BDB-8DD1-2A69FDE1187C@syenar.hu>
Message-ID: <609353e70912070039k7c918883o9e5bf247fe9c747e@mail.gmail.com>

Wich is last good version of proposed script for q6 4.6?
WIch version of minigui must be use for qt 4.6?
Have we some advanced for NEWS

2009/12/5 Viktor Szak?ts <harbour.01@syenar.hu>

> Hi Istvan,
>
> > The same experience I encountered with Qt 4.6 mingw environment (not
> > TDM-MINGW).
> > No more idea, as I have the same problem with two different development
> > environments, but on the same platform.
> > Please jump in, to clarify that it is specific to my environment or not.
> >
> > =====================================================
> > @echo PREREQUISITES:
> > @echo Installed Qt SDK 4.6 to the default directory: c:\Qt\2009.05 ...
> > @echo from:
> http://get.qt.nokia.com/qtsdk/qt-sdk-win-opensource-2009.05.exe
> > @echo Note: MinGW GCC 4.4.0 is part of this installation
> > @echo Updated c:\download\harbour with the latest SVN
> > @pause
> >
> > @set HB_WITH_QT=C:/Qt/2009.05/qt/include
> > @set HB_INSTALL_PREFIX=c:\harbour\mingw
>
> Well, one other difference and this one may be significant,
> I'm using plain binary QT distro, which gets installed into:
>   <..>\Qt\4.6.0\
>
> I didn't chose the SDK version, as I thought I need to
> build it, which is no option for me this time. Static
> builds are illegal for commercial apps anyway, so plain
> default bin build was fine.
>
> This is the one I installed:
>   http://get.qt.nokia.com/qt/source/qt-win-opensource-4.6.0-mingw.exe
>
> [ I'll stop now, but let me note that this notion of SDK and
> non-SDK distro with different default dir (and unclear internal
> differences) is yet another thing to confuse the public :( It's
> not the first time this causes an issue on this list. ]
>
> Brgds,
> Viktor
>
>

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091207/53499da6/attachment-0001.html
From vouchcac at users.sourceforge.net  Mon Dec  7 03:59:59 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Dec  7 04:00:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13151] trunk/harbour
Message-ID: <E1NHZRn-0005X2-Gj@74yxhf1.ch3.sourceforge.com>

Revision: 13151
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13151&view=rev
Author:   vouchcac
Date:     2009-12-07 08:59:58 +0000 (Mon, 07 Dec 2009)

Log Message:
-----------
2009-12-07 00:48 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbptreeview.prg
    ! Fixed how children nodes are managed.

  * contrib/hbide/idemisc.prg
  * contrib/hbide/projects/hbide.hbi
  * contrib/hbide/idestylesheets.prg
  * contrib/hbide/hbide.prg
    ! More context menu options. 
      RIGHT+CLICK on <Editor> files presents <Save><Close> options.

    + Implemented adding source files via <Select>.
      This implementation tries to substitute  meta-key-value,
      if one is defined, for part of path, a handy feature.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/idestylesheets.prg
    trunk/harbour/contrib/hbide/projects/hbide.hbi
    trunk/harbour/contrib/hbxbp/xbptreeview.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Dec  7 04:04:24 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Dec  7 04:04:35 2009
Subject: [Harbour] BEGIN/END SEQUENCE  Fails or is intended as such ?
In-Reply-To: <4B1C5E29.3050805@gmail.com>
References: <26669736.post@talk.nabble.com> <4B1C5E29.3050805@gmail.com>
Message-ID: <64C53EDE-ABEC-48DC-BBAB-1F00C344E7E8@syenar.hu>

> #xcommand BEGIN SEQUENCE => BEGIN SEQUENCE WITH { |oErr| Break( oErr ) }
> 
> or better yet .-
> 
> #xcommand TRY              => BEGIN SEQUENCE WITH t_bBreak
> #xcommand CATCH [<!oErr!>] => RECOVER [USING <oErr>] <-oErr->
> #xcommand FINALLY          => ALWAYS
> 
> THREAD STATIC t_bBreak := { |oErr| Break( oErr ) }

Please don't do that in SVN code, I just cleaned Harbour 
from them.

BEGIN SEQUENCE WITH is perfect solution for this.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Dec  7 04:16:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Dec  7 04:16:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13152] trunk/harbour
Message-ID: <E1NHZhI-0003dd-Uo@bj8yhf1.ch3.sourceforge.com>

Revision: 13152
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13152&view=rev
Author:   vszakats
Date:     2009-12-07 09:15:59 +0000 (Mon, 07 Dec 2009)

Log Message:
-----------

2009-12-07 10:14 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * external/libpng/pngerror.c
  * external/libpng/pngrio.c
  * external/libpng/pngwrite.c
  * external/libpng/pngconf.h
  * external/libpng/pngwtran.c
  * external/libpng/pngpread.c
  * external/libpng/pngset.c
  * external/libpng/LICENSE
  * external/libpng/pngwio.c
  * external/libpng/pngrutil.c
  * external/libpng/pngwutil.c
  * external/libpng/pngread.c
  * external/libpng/pngmem.c
  * external/libpng/png.c
  * external/libpng/pngget.c
  * external/libpng/pnggccrd.c
  * external/libpng/png.h
  * external/libpng/pngrtran.c
  * external/libpng/pngtrans.c
    ! Reverted to 1.2.40 (from 1.2.41)
      Due to this regression:
      ---
      wcc386   -zq -bt=nt -bm -w0 -3s -i. -i../../../../../include -d2 -DHB_TR_LEVEL_DEBUG  -I/home/ice/w/xhb/hbci/harbour-build/external/zlib  -fo=pngmem.obj  ../../../pngmem.c
      ../../../pngmem.c(447): Error! E1057: Modifiers disagree with previous definition of 'png_calloc'
      ../../../pngmem.c(447): Note! I2002: 'png_calloc' defined in: ../../../png.h(3754)
      ---

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/external/libpng/LICENSE
    trunk/harbour/external/libpng/png.c
    trunk/harbour/external/libpng/png.h
    trunk/harbour/external/libpng/pngconf.h
    trunk/harbour/external/libpng/pngerror.c
    trunk/harbour/external/libpng/pnggccrd.c
    trunk/harbour/external/libpng/pngget.c
    trunk/harbour/external/libpng/pngmem.c
    trunk/harbour/external/libpng/pngpread.c
    trunk/harbour/external/libpng/pngread.c
    trunk/harbour/external/libpng/pngrio.c
    trunk/harbour/external/libpng/pngrtran.c
    trunk/harbour/external/libpng/pngrutil.c
    trunk/harbour/external/libpng/pngset.c
    trunk/harbour/external/libpng/pngtrans.c
    trunk/harbour/external/libpng/pngwio.c
    trunk/harbour/external/libpng/pngwrite.c
    trunk/harbour/external/libpng/pngwtran.c
    trunk/harbour/external/libpng/pngwutil.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Mon Dec  7 04:27:28 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Mon Dec  7 04:27:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <6845F674-E889-4B7C-8037-6230162CEF50@syenar.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>	<002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>	<3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>	<002801ca75b7$f7eba140$e7c2e3c0$@Bisz@t-online.hu>	<32BC1722-4B82-43C5-B25A-AEDDA640E50C@syenar.hu>	<002901ca75c3$bb7797d0$3266c770$@Bisz@t-online.hu>	<439A0A49-169D-481C-9E34-AABB671BD36E@syenar.hu>	<000101ca76a1$c32cb620$49862260$@Bisz@t-online.hu>
	<6845F674-E889-4B7C-8037-62301 62CEF50@syenar.hu>
Message-ID: <000001ca771f$7f50e560$7df2b020$@Bisz@t-online.hu>

Hi Viktor,

> This is very easy to implement, only needs one extra 'mt=yes' line 
> in contrib/hbqt/hbqt[s].hbc files.

> However, before we do this, I'd like know if this is indeed the 
> _real_ solution to the problem. Turning on MT mode decreases performance 
> by ~30% (AFAIR) in mingw, so it's not a costless option. 

Here I can share just my experiences with the harbour Qt implementation
testing. I spent a lot of time to clarify the build problems with 4.6 and
after the successful building the resulted executable testing. My first
conclusion was that C++ mode force to the whole build results strange GPF
free executables. BTW I repeated these test with the previous Qt 4.5.3 and
the results was the same with the native Windows and linux (Fedora 12)
cross-builds: the C mode generates executables with strange GPF-s. As I
understand from your mails this was specific to my development environment,
hard to understand taking into consideration the cross-build experiences. So
I tried to enter deeper in this issue with the recommended TDM Mingw
offering GCC 4.4.1. and without forcing the C++ mode building.

See below a debug log (at the end of this mail).

In this log there are thread activities, so I tried to check that all the
things are ok serving multithreading. I was very surprised that the default
build offers just ST mode. After switching to the MT mode, the resulting
executables in C mode in native Windows and linux cross-builds do not
present the mentioned strange GPF-s. So please consider these just
experiments and not "theory".

Best regards,
Istv?n
  
GNU gdb 6.8
Copyright (C) 2008 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later
<http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "i686-pc-mingw32"...
(gdb) run
Starting program: c:\Downloads\harbour\contrib\hbide/hbide.exe
[New thread 2508.0x994]
warning:           new_QApplication                0 B 7884 KB
warning:           new_QWidget                     0 B 10180 KB
warning:           new_QVariant                    0 B 10188 KB
warning:   YES release_QVariant                    0 B 10204 KB
warning:           new_QEventLoop                  0 B 10316 KB
warning:           new_QPoint                      0 B 10548 KB
warning:           new_QPoint                      0 B 10548 KB
warning:   YES release_QPoint                      0 B 10548 KB
warning:   YES release_QPoint                      0 B 10548 KB
warning:           new_QSize                       0 B 10552 KB
warning:           new_QSize                       0 B 10552 KB
warning:   YES release_QSize                       0 B 10552 KB
warning:   YES release_QSize                       0 B 10552 KB
warning:           new_QTabWidget                  0 B 11052 KB
warning:           new_QTreeWidget                 0 B 12528 KB
warning:           new_QColor                      0 B 12872 KB
warning:   YES release_QColor                      0 B 12876 KB
warning:           new_QTreeWidgetItem             0 B 13292 KB
warning:           new_QTreeWidgetItem             0 B 13700 KB
warning:           new_QTreeWidgetItem             0 B 13700 KB
warning:           new_QTreeWidgetItem             0 B 13700 KB
warning:           new_QTreeWidgetItem             0 B 13744 KB
warning:           new_QTreeWidgetItem             0 B 13744 KB
warning:           new_QTreeWidgetItem             0 B 13744 KB
warning:           new_QTreeWidgetItem             0 B 13744 KB
warning:           new_QTreeWidgetItem             0 B 13744 KB
warning:           new_QTreeWidgetItem             0 B 13744 KB
warning:           new_QTreeWidgetItem             0 B 13744 KB
warning:           new_QTreeWidgetItem             0 B 13744 KB
warning:           new_QTreeWidgetItem             0 B 13744 KB
warning:           new_QTreeWidgetItem             0 B 13744 KB
warning:           new_QDockWidget                 0 B 14060 KB
warning:           new_QListView                   0 B 14124 KB
warning:           new_QStringList                 0 B 14128 KB
warning:           new_QStringListModel            0 B 14132 KB
warning:           new_QDockWidget                 0 B 14228 KB
[New thread 2508.0xa84]
[New thread 2508.0x1740]
warning:           new_QTextEdit                   0 B 15136 KB
warning:           new_QDockWidget                 0 B 15172 KB
warning:           new_QTextEdit                   0 B 15192 KB
warning:           new_QDockWidget                 0 B 15212 KB
warning:           new_QTextEdit                   0 B 15236 KB
warning:           new_QGridLayout                 0 B 15336 KB
warning:           new_QSplitter                   0 B 15416 KB
warning:           new_QTextCursor                 0 B 15464 KB
warning:           new_QFont                       0 B 15468 KB
warning:           new_QFontInfo                   0 B 15476 KB
warning:           new_QMenuBar                    0 B 15588 KB
warning:           new_QMenu                       0 B 15684 KB
warning:           new_QAction                     0 B 15744 KB
warning:           new_QAction                     0 B 15756 KB
warning:           new_QAction                     0 B 15760 KB
warning:           new_QMenu                       0 B 15764 KB
warning:           new_QAction                     0 B 15812 KB
warning:           new_QAction                     0 B 15816 KB
warning:           new_QAction                     0 B 15816 KB
warning:           new_QAction                     0 B 15816 KB
warning:           new_QAction                     0 B 15820 KB
warning:           new_QAction                     0 B 15820 KB
warning:           new_QAction                     0 B 15824 KB
warning:           new_QAction                     0 B 15824 KB
warning:           new_QToolBar                    0 B 15920 KB
warning:           new_QAction                     0 B 15936 KB
warning:           new_QAction                     0 B 15948 KB
warning:           new_QAction                     0 B 15956 KB
warning:           new_QAction                     0 B 15956 KB
warning:           new_QAction                     0 B 15956 KB
warning:           new_QAction                     0 B 15964 KB
warning:           new_QAction                     0 B 15964 KB
warning:           new_QAction                     0 B 15968 KB
warning:           new_QAction                     0 B 15972 KB
warning:           new_QAction                     0 B 15976 KB
warning:           new_QAction                     0 B 15976 KB
warning:           new_QAction                     0 B 15980 KB
warning:           new_QAction                     0 B 15984 KB
warning:           new_QAction                     0 B 15988 KB
warning:           new_QAction                     0 B 15992 KB
warning:           new_QAction                     0 B 15996 KB
warning:           new_QAction                     0 B 16000 KB
warning:           new_QAction                     0 B 16008 KB
warning:           new_QAction                     0 B 16008 KB
warning:           new_QAction                     0 B 16012 KB
warning:           new_QAction                     0 B 16020 KB
warning:           new_QAction                     0 B 16024 KB
warning:           new_QAction                     0 B 16028 KB
warning:           new_QAction                     0 B 16036 KB
warning:           new_QAction                     0 B 16040 KB
warning:           new_QAction                     0 B 16044 KB
warning:           new_QAction                     0 B 16052 KB
warning:           new_QAction                     0 B 16056 KB
warning:           new_QAction                     0 B 16060 KB
warning:           new_QAction                     0 B 16068 KB
warning:           new_QStatusBar                  0 B 16172 KB
warning:           new_QLabel                      0 B 16296 KB
warning:           new_QRect                       0 B 19388 KB
warning:   YES release_QRect                       0 B 19388 KB
warning:           new_QLabel                      0 B 20076 KB
warning:           new_QRect                       0 B 20076 KB
warning:   YES release_QRect                       0 B 20076 KB
warning:           new_QLabel                      0 B 20076 KB
warning:           new_QRect                       0 B 20076 KB
warning:   YES release_QRect                       0 B 20076 KB
warning:           new_QLabel                      0 B 20076 KB
warning:           new_QRect                       0 B 20076 KB
warning:   YES release_QRect                       0 B 20076 KB
warning:           new_QLabel                      0 B 20076 KB
warning:           new_QRect                       0 B 20076 KB
warning:   YES release_QRect                       0 B 20076 KB
warning:           new_QLabel                      0 B 20076 KB
warning:           new_QRect                       0 B 20076 KB
warning:   YES release_QRect                       0 B 20076 KB
warning:           new_QLabel                      0 B 20076 KB
warning:           new_QRect                       0 B 20076 KB
warning:   YES release_QRect                       0 B 20076 KB
warning:           new_QLabel                      0 B 20076 KB
warning:           new_QRect                       0 B 20076 KB
warning:   YES release_QRect                       0 B 20076 KB
warning:           new_QLabel                      0 B 20076 KB
warning:           new_QRect                       0 B 20076 KB
warning:   YES release_QRect                       0 B 20076 KB
warning:           new_QLabel                      0 B 20076 KB
warning:           new_QRect                       0 B 20076 KB
warning:   YES release_QRect                       0 B 20076 KB
warning:           new_QRect                       0 B 20104 KB
warning:   YES release_QRect                       0 B 20104 KB
warning:           new_QRect                       0 B 20640 KB
warning:   YES release_QRect                       0 B 20640 KB
warning:           new_QRect                       0 B 20676 KB
warning:   YES release_QRect                       0 B 20676 KB
warning:           new_QRect                       0 B 20676 KB
warning:   YES release_QRect                       0 B 20676 KB
warning:           new_QRect                       0 B 20676 KB
warning:   YES release_QRect                       0 B 20676 KB
warning:           new_QRect                       0 B 20676 KB
warning:   YES release_QRect                       0 B 20676 KB
warning:           new_QRect                       0 B 20676 KB
warning:   YES release_QRect                       0 B 20676 KB
warning:           new_QRect                       0 B 20692 KB
warning:   YES release_QRect                       0 B 20692 KB
warning:           new_QRect                       0 B 20692 KB
warning:   YES release_QRect                       0 B 20692 KB
warning:           new_QRect                       0 B 20696 KB
warning:   YES release_QRect                       0 B 20696 KB
warning:           new_QRect                       0 B 20696 KB
warning:   YES release_QRect                       0 B 20696 KB
warning:           new_QRect                       0 B 20696 KB
warning:   YES release_QRect                       0 B 20696 KB
warning:           new_QRect                       0 B 20696 KB
warning:   YES release_QRect                       0 B 20696 KB
warning:           new_QRect                       0 B 20696 KB
warning:   YES release_QRect                       0 B 20696 KB
warning:           new_QRect                       0 B 20700 KB
warning:   YES release_QRect                       0 B 20700 KB
warning:           new_QRect                       0 B 20700 KB
warning:   YES release_QRect                       0 B 20700 KB
warning:           new_QRect                       0 B 20700 KB
warning:   YES release_QRect                       0 B 20700 KB
warning:           new_QRect                       0 B 20732 KB
warning:   YES release_QRect                       0 B 20732 KB
warning:           new_QRect                       0 B 20840 KB
warning:   YES release_QRect                       0 B 20840 KB
warning:           new_QMenu                       0 B 20912 KB
warning:           new_QPoint                      0 B 20912 KB
[New thread 2508.0x790]
warning:           new_QRect                       0 B 21004 KB
warning:   YES release_QRect                       0 B 21004 KB
[New thread 2508.0x1020]
[New thread 2508.0x13f0]
Error: dll starting at 0x71170000 not found.
Error: dll starting at 0x4080000 not found.
warning: Lowest section in C:\Windows\system32\normaliz.dll is .text at
00401000

Error: dll starting at 0x70c30000 not found.
BFD: C:\Windows\system32\SLC.dll: Warning: Ignoring section flag
IMAGE_SCN_MEM_N
OT_PAGED in section .reloc
BFD: C:\Windows\system32\SLC.dll: Warning: Ignoring section flag
IMAGE_SCN_MEM_N
OT_PAGED in section .reloc
[New thread 2508.0x408]
warning:           new_QFileDialog                 0 B 28408 KB
warning:           new_QRect                       0 B 28436 KB
warning:   YES release_QRect                       0 B 28436 KB
Error: dll starting at 0x60250000 not found.
Error: dll starting at 0x711b0000 not found.
Error: dll starting at 0x5060000 not found.
warning:           new_QRect                       0 B 34196 KB
warning:   YES release_QRect                       0 B 34196 KB
warning:           new_QRect                       0 B 36008 KB
warning:   YES release_QRect                       0 B 36008 KB
warning:           new_QStringList                 0 B 36016 KB
warning:   YES release_QStringList                 0 B 36020 KB
warning:           new_QFile                       0 B 36020 KB
warning:           new_QUiLoader                   0 B 62404 KB
warning:   YES release_QFile                       0 B 63192 KB
warning:   YES release_QUiLoader                   0 B 63192 KB
warning:           new_QRect                       0 B 63328 KB
warning:   YES release_QRect                       0 B 63328 KB
warning:           new_QRect                       0 B 63328 KB
warning:   YES release_QRect                       0 B 63328 KB
[New thread 2508.0xb6c]
warning:           new_QRect                       0 B 65468 KB
warning:   YES release_QRect                       0 B 65468 KB
warning:       QT_DISCONNECT_SIGNAL: YES    clicked()
warning:       QT_DISCONNECT_SIGNAL: YES    clicked()
warning:       QT_DISCONNECT_SIGNAL: YES    clicked()
warning:       QT_DISCONNECT_SIGNAL: YES    currentChanged(int)
warning:   YES release_QMenu                       0 B 65504 KB
warning:   YES release_QPoint                      0 B 65504 KB
warning: Critical error detected c0000374


Program received signal SIGTRAP, Trace/breakpoint trap.
0x77018b2f in ntdll!DbgUiConvertStateChangeStructure ()
   from C:\Windows\system32\ntdll.dll
(gdb) bt
#0  0x77018b2f in ntdll!DbgUiConvertStateChangeStructure ()
   from C:\Windows\system32\ntdll.dll
#1  0x7707facb in ntdll!RtlpNtMakeTemporaryKey ()
   from C:\Windows\system32\ntdll.dll
#2  0x77080704 in ntdll!RtlpNtMakeTemporaryKey ()
   from C:\Windows\system32\ntdll.dll
#3  0x770807f2 in ntdll!RtlpNtMakeTemporaryKey ()
   from C:\Windows\system32\ntdll.dll
#4  0x7703fc25 in ntdll!EtwpNotificationThread ()
   from C:\Windows\system32\ntdll.dll
#5  0x76629a26 in KERNEL32!HeapLock () from C:\Windows\system32\kernel32.dll
#6  0x75699c03 in msvcrt!free () from C:\Windows\system32\msvcrt.dll
#7  0x00ba0000 in ?? ()
#8  0x00000000 in ?? ()
(gdb)
 


From dbtopas at dbtopas.lt  Mon Dec  7 04:30:32 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Dec  7 04:28:32 2009
Subject: [Harbour] Cairo GC
Message-ID: <4B1CCB38.1060706@dbtopas.lt>

Hi, Przemek,


there is a question about GC and storing references between collectible 
pointers. It would be nice to hear your opinion about this.

These letters explains the problem:
http://lists.harbour-project.org/pipermail/harbour/2009-November/028156.html
http://lists.harbour-project.org/pipermail/harbour/2009-December/028420.html
http://lists.harbour-project.org/pipermail/harbour/2009-December/028422.html
http://lists.harbour-project.org/pipermail/harbour/2009-December/028423.html

I guess you haven't noticed these because you use threads to read email 
and these are from a large thread containing tons of messages about 
cairo compile on windows. Or we have mailing list problems again.


Thank, You.


Regards,
Mindaugas
From snaiperis at users.sourceforge.net  Mon Dec  7 04:37:17 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Mon Dec  7 04:37:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13153] trunk/harbour
Message-ID: <E1NHa1t-0002Da-7j@3kljzd1.ch3.sourceforge.com>

Revision: 13153
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13153&view=rev
Author:   snaiperis
Date:     2009-12-07 09:37:16 +0000 (Mon, 07 Dec 2009)

Log Message:
-----------
2009-12-07 11:40 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/rddads/ads1.c
    * renamed RDD from ADT to ADSADT
    + added public functions ADSADT, ADSNTX, ADSCDX, ADSVFP to be able 
      do a REQUEST RDD using RDD name from .prg code
  * harbour/contrib/rddads/adsx.c
    + added ADSNTXX, ADSCDXX, ADSADTX RDDs

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/contrib/rddads/adsx.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Dec  7 04:56:20 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 05:02:02 2009
Subject: [Harbour] List slowness (to Phil)
Message-ID: <EBEBD594-2CD7-4661-8E50-26868EABC006@syenar.hu>

Hi Phil,

Can you take a look at the mailing list engine, 
it seems rather slow since the weekend.

Thank you.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Dec  7 04:58:32 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 05:02:37 2009
Subject: [Harbour] Harbour and unicode .prg files
In-Reply-To: <496D4104-0893-40B3-880F-FABB1E7E3B08@syenar.hu>
References: <496D4104-0893-40B3-880F-FABB1E7E3B08@syenar.hu>
Message-ID: <20091207095832.GB16503@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, Szak?ts Viktor wrote:

Hi,

> I was trying to compile a .prg which contained UTF-8 chars 
> in strings, and it so happened that my editor added unicode 
> signature (BOM) to the .prg file, causing this compile error:
> ---
> Harbour 2.0.0beta3 (Rev. 13091)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'sh.prg'...
> sh.prg(1) Error E0030  Syntax error "syntax error at '???'"
> 1 error
> ---
> Would it be possible to accept input files with unicode BOMs?

yes but I wanted to join these modification with compile time
support for code pages.
Anyhow if it's important then now I can add small code which will
simply strip UTF-8 signature from compiled .prg files.

best regards,
Przemek
From Istvan.Bisz at t-online.hu  Mon Dec  7 05:02:25 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Mon Dec  7 05:02:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <609353e70912050225o108cc950n847c92b0d93a932a@mail.gmail.com>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>
	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<-6272663939967592455@unknownmsgid>
	<609353e70912050211g31b13f3sc9b7317a8f4718d8@mail.gmail.com>
	<5958881847248762710@unknownmsgid>
	<609353e70912050225o108cc950n847c92b0d93a932a@mail.gmail.com>
Message-ID: <000401ca7724$60922940$21b67bc0$@Bisz@t-online.hu>

Hi Massimo,

 

If you need to build harbour with TDM-MINGW with dual rewind feature
installed and Qt previous to 4.6 release, you should set HB_COMPILER to
mingw, skipping in this way the build system auto detection: 

 

set HB_WITH_QT=C:/Qt/4.5.3/include

set HB_COMPILER=mingw

 

for 4.6 just:

 

set HB_WITH_QT=C:/Qt/4.6.0/include

set HB_COMPILER= (or without)

 

Best regards,

Istv?n

 

 

From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo Belgrano
Sent: 2009. december 5. 11:26
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour

 

What can i have miss?

hbmk2 hbide.hbp

 

C:/HARBOUR/lib/win/mingw/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.tex

undefined reference to `_imp___ZN9QListData7detach3Ev'

C:/HARBOUR/lib/win/mingw/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.tex

undefined reference to `_imp___ZN9QListData7detach3Ev'

C:/HARBOUR/lib/win/mingw/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.tex

undefined reference to `_imp___ZN9QListData7detach3Ev'

..

C:/HARBOUR/lib/win/mingw/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text$_ZN7Q
Vect

orIN19HbSyntaxHighlighter16HighlightingRuleEE7reallocEii[QVector<HbSyntaxHig
hlig

hter::HighlightingRule>::realloc(int, int)]+0x4e): undefined reference to
`_imp_

__ZN11QVectorData8allocateEii'

..

C:/DEVL/qt/2009.05/QT/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text$_ZN5QListIPN1
3QFo

rmInternal8DomColorEE13detach_helperEv[QList<QFormInternal::DomColor*>::deta
ch_h

elper()]+0x19): undefined reference to `_imp___ZN9QListData7detach3Ev'

C:/DEVL/qt/2009.05/QT/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text$_ZN5QListIPN1
3QFo

rmInternal13DomWidgetDataEE13detach_helperEv[QList<QFormInternal::DomWidgetD
ata*

>::detach_helper()]+0x19): undefined reference to
`_imp___ZN9QListData7detach3Ev

'

C:/DEVL/qt/2009.05/QT/lib/libQtUiTools.a(ui4.o):ui4.cpp:(.text$_ZN5QListIPN1
3QFo

rmInternal9DomScriptEE13detach_helperEv[QList<QFormInternal::DomScript*>::de
tach

_helper()]+0x19): more undefined references to
`_imp___ZN9QListData7detach3Ev' f

ollow

 

2009/12/5 Bisz Istv?n <Istvan.Bisz@t-online.hu>

?  Very thanks for your effort!

You're welcome.

 

-- 
Massimo Belgrano

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091207/607b25ce/attachment.html
From druzus at acn.waw.pl  Mon Dec  7 05:03:06 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 05:03:13 2009
Subject: [Harbour] Error Compiling with latest SVN
In-Reply-To: <f81ad3e40912061931s74f87db7r5484111ac525c1d7@mail.gmail.com>
References: <f81ad3e40912061931s74f87db7r5484111ac525c1d7@mail.gmail.com>
Message-ID: <20091207100306.GC16503@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, Mario H. Sabado wrote:

Hi,

> I encountered below error when building latest Harbour SVN under Mandriva.

Please always try _CLEAN_ build before your report problems.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Dec  7 05:05:59 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 05:06:07 2009
Subject: [Harbour] bug?: SET( _SET_CODEPAGE, "UTF8" )
In-Reply-To: <5D0B8B84-01DC-4F54-A259-DEE382A62B41@syenar.hu>
References: <5D0B8B84-01DC-4F54-A259-DEE382A62B41@syenar.hu>
Message-ID: <20091207100559.GD16503@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, Szak?ts Viktor wrote:

Hi,

> 'SET( _SET_CODEPAGE, "UTF8" )' does't work, it leaves CP in previous setting.

   2009-09-11 20:37 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
       + added pseduto codepage "UTF8" which can be used in trnaslations only
                                                         ^^^^^^^^^^^^^^^^^^^^
"UTF8" is not normal codepage. It does not support any national extensions.
like national collation or characters.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Dec  7 04:56:07 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 05:06:36 2009
Subject: [Harbour] BEGIN/END SEQUENCE  Fails or is intended as such ?
In-Reply-To: <4B1C5E29.3050805@gmail.com>
References: <26669736.post@talk.nabble.com>
 <4B1C5E29.3050805@gmail.com>
Message-ID: <20091207095607.GA16503@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, Xavi wrote:

Hi,

> Maybe you need to put this before .-
> #xcommand BEGIN SEQUENCE => BEGIN SEQUENCE WITH { |oErr| Break( oErr ) }
> or better yet .-
> #xcommand TRY              => BEGIN SEQUENCE WITH t_bBreak
> #xcommand CATCH [<!oErr!>] => RECOVER [USING <oErr>] <-oErr->
> #xcommand FINALLY          => ALWAYS
> 
> THREAD STATIC t_bBreak := { |oErr| Break( oErr ) }

In this context it's not necessary to use thread static variable.
Harbour gives full read synchronization in accessing complex variables
so it's enough to use:

   STATIC s_bBreak := { |oErr| Break( oErr ) }

It's the most efficient way because we eliminate creating new code block
each time BEGIN SEQUENCE WITH ...  is used. Anyhow the overhead caused
by creating new codeblock is very small so it should bot be big problem
and above improvement is usable only if BEGIN SEQUENCE WITH ... is called
millions times in some loop.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Dec  7 05:19:38 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 05:19:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13149] trunk/harbour
In-Reply-To: <E1NHTAQ-00088I-Ec@74yxhf1.ch3.sourceforge.com>
References: <E1NHTAQ-00088I-Ec@74yxhf1.ch3.sourceforge.com>
Message-ID: <20091207101937.GE16503@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, vszakats@users.sourceforge.net wrote:

Hi,

>     ; TOFIX: I'm getting this warning:
>                warning: implicit declaration of function 'hb_setGetOSCP'
>              and it's probably too late, but I couldn't find a way to
>              include hbset.h without errors or with least side-effects.
>              Przemek, could you help?

I'm not sure I know what is the the exact problem.
It's enough to add #include "hbset.h" to wapi_shellapi.c.

>   * src/rdd/dbcmd.c
>   * src/rdd/wafunc.c
>     + Moved recently implemented codepage defaulting logic (_SET_DBCODEPAGE)
>       to lower lever functions.
>       Please review me.

It looks OK, thank you very much.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Dec  7 05:23:05 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 05:23:13 2009
Subject: [Harbour] BEGIN/END SEQUENCE  Fails or is intended as such ?
In-Reply-To: <4B1C5E29.3050805@gmail.com>
References: <26669736.post@talk.nabble.com>
 <4B1C5E29.3050805@gmail.com>
Message-ID: <20091207102304.GA17217@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, Xavi wrote:

Hi,

> Maybe you need to put this before .-
> #xcommand BEGIN SEQUENCE => BEGIN SEQUENCE WITH { |oErr| Break( oErr ) }

I forgot to add that this is very bad idea because it fully disable
error handler just like TRY / CATCH in xHarbour. It means that some
important things like setting NETERR() or setting 0 as result of
division by 0 stop to work.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Dec  7 06:09:33 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 06:09:44 2009
Subject: [Harbour] bug?: SET( _SET_CODEPAGE, "UTF8" )
In-Reply-To: <20091207100559.GD16503@linux-4bod.home.aster.pl>
References: <5D0B8B84-01DC-4F54-A259-DEE382A62B41@syenar.hu>
	<20091207100559.GD16503@linux-4bod.home.aster.pl>
Message-ID: <74DF99E7-678B-49C3-AF34-919D31CC7889@syenar.hu>

Hi,

>> 'SET( _SET_CODEPAGE, "UTF8" )' does't work, it leaves CP in previous setting.
> 
>   2009-09-11 20:37 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>       + added pseduto codepage "UTF8" which can be used in trnaslations only
>                                                         ^^^^^^^^^^^^^^^^^^^^
> "UTF8" is not normal codepage. It does not support any national extensions.
> like national collation or characters.

Ok I see. Although this also means that I can't use 
it as native CP in an application.

You seem to have suggested that any app may use UTF-8 
even now. But maybe I misunderstood something. I understand 
this needs UTF-8 sorting support (for ASORT(), <, > operators, 
maybe else, plus these things in RDD, if DBCODEPAGE is 
left to default also), which we don't have.

Although maybe we should protection to now allow to use 
UTF-8 in _SET_DBCODEPAGE and RDD CP parameters extensions.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Dec  7 06:27:37 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 06:27:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13149] trunk/harbour
In-Reply-To: <20091207101937.GE16503@linux-4bod.home.aster.pl>
References: <E1NHTAQ-00088I-Ec@74yxhf1.ch3.sourceforge.com>
	<20091207101937.GE16503@linux-4bod.home.aster.pl>
Message-ID: <7303F5DE-4A00-4BC4-8FBC-3D7E9D54F29B@syenar.hu>

>>    ; TOFIX: I'm getting this warning:
>>               warning: implicit declaration of function 'hb_setGetOSCP'
>>             and it's probably too late, but I couldn't find a way to
>>             include hbset.h without errors or with least side-effects.
>>             Przemek, could you help?
> 
> I'm not sure I know what is the the exact problem.
> It's enough to add #include "hbset.h" to wapi_shellapi.c.

Since the reference to hb_set*() function is hidden 
inside a macro defined in hbwince.h (ie. it's a macro 
implementation detail, which user code shouldn't be aware 
of), hbset.h should be #included from the header which 
defines the macro, not the final .c source which uses the 
macro.

Though if I put hbset.h into hbwince.h it gives a lot of 
errors on compile. I can't find out why or where to place 
it to avoid it.

>>  * src/rdd/dbcmd.c
>>  * src/rdd/wafunc.c
>>    + Moved recently implemented codepage defaulting logic (_SET_DBCODEPAGE)
>>      to lower lever functions.
>>      Please review me.
> 
> It looks OK, thank you very much.

Thanks.

Brgds,
Viktor

From dmacias at mail.udg.mx  Mon Dec  7 06:39:45 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Dec  7 06:40:15 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
Message-ID: <4B1CE981.7060005@mail.udg.mx>

Przemek:


 >We only do not know the exact place but this is a job for OpenWatcom
 >developers to fix it. I do not plan to make it myself. Anyhow we can
 >make some other tests to reduce the problem yet and better tune final
 >self contain example which can be used in bug report.

 >I do not see anything what we can find in the old messages.
 >Now we are moving very fast because you made only small tests without
 >jumping and touching many different things as year ago. It really
 >greatly helps me because I do not have to guess which options interacts
 >with the problem. The fact that I guess correctly and current tests
 >confirmed it is not enough for me.

 >I'll be very happy if you can make yet few tests which may help to
 >find better workaround and create bug report for OW developers.
 >Probably I will need 1 or 2 tests yet - it will depend on their
 >results.
 >First I will want to check if enabling code to check stack overflow
 >at any call level is enough workaround for this problem.
 >For this test I'll remove -s from GTSTD compile time flags in next
 >commit. Then please recompile it and make tests with:
 >   hbmk2 speedtst -l -kmo -mt -gc3 -gtstd
 >and:
 >   speedtst.exe --thread
 >if it does not help then it will be the last test.
 >If it helps then I'll ask you about yet another one.
 >Then I'll try to write self contain example. That's all.

Harbour 13153

config\os2\watcom.mk contain:

    ifeq ($(filter $(LIBNAME),gtos2 gtstd),)
       CFLAGS += -s
    endif

[E:\harbour911b\harbour\bin\os2\watcom]hbmk2 speedtst -l -kmo -mt -gc3 
-gtstd
Harbour 2.0.0beta3 (Rev. 13153)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'speedtst.prg'...
Lines 1204, Functions/Procedures 79
Generating C source output to 'speedtst.c'... Done.

[E:\harbour911b\harbour\bin\os2\watcom]speedtst.exe --thread

2009.12.07 05:23:28 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13153) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================SYS1808:
The process has stopped.  The software diagnostic
code (exception code) is  0001.


[E:\harbour911b\harbour\bin\os2\watcom]hbmk2 speedtst -l -kmo -mt -gc3 
-gtos2
Harbour 2.0.0beta3 (Rev. 13153)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'speedtst.prg'...
Lines 1204, Functions/Procedures 79
Generating C source output to 'speedtst.c'... Done.

[ total application time: ].....................................0.23
[ total real time: ]...........................................23.57


With this change gtstd fail with GPF and gtos2 run fine
It is expected so ?

David Macias
From Istvan.Bisz at t-online.hu  Mon Dec  7 07:11:21 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Mon Dec  7 07:11:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>
	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<-6272663939967592455@unknownmsgid>
	<609353e70912050211g31b13f3sc9b7317a8f4718d8@mail.gmail.com>
	<5958881847248762710@unknownmsgid>
	<609353e70912050225o108cc950n847c92b0d93a932a@mail.gmail.com> 
Message-ID: <002101ca7736$641111a0$2c3334e0$@Bisz@t-online.hu>

I am resending, as the previous is lost...

From: Bisz Istv?n [mailto:Istvan.Bisz@t-online.hu] 
Sent: 2009. december 7. 11:02
To: 'Harbour Project Main Developer List.'
Subject: RE: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour

Hi Massimo,

> C:/HARBOUR/lib/win/mingw/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.tex
> undefined reference to `_imp___ZN9QListData7detach3Ev'
> C:/HARBOUR/lib/win/mingw/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.tex
> undefined reference to `_imp___ZN9QListData7detach3Ev'
> C:/HARBOUR/lib/win/mingw/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.tex
> undefined reference to `_imp___ZN9QListData7detach3Ev'

If you need to build harbour with TDM-MINGW with dual rewind feature
installed and Qt previous to 4.6 release, you should set HB_COMPILER to
mingw, skipping in this way the build system auto detection: 

set HB_WITH_QT=C:/Qt/4.5.3/include
set HB_COMPILER=mingw

for 4.6 just:

set HB_WITH_QT=C:/Qt/4.6.0/include
set HB_COMPILER= (or without)

Best regards,
Istv?n


From harbour.01 at syenar.hu  Mon Dec  7 07:19:40 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 07:19:52 2009
Subject: [Harbour] bug?: HBQT_QTPTR_FROM_GCPOINTER()
Message-ID: <F09AB1D6-5269-495A-90FD-30457AD3231E@syenar.hu>

Hi All,

It's just a sort of hunch, since I don't have 
test code and detailed theoretical proof for this, 
but it looks like existing HBQT_QTPTR_FROM_GCPOINTER() 
is a wrong concept and should not be used at all.

It converts GC pointer to a simple one.

In code it's used for some comparisons, but it's 
also stored in object vars, which is very dangerous 
to do as pointer may go invalid anytime, and 
references aren't counted, etcetc.

To me it looks like something to be solved differently 
to avoid GPF time-bombs.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Dec  7 07:37:28 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 07:37:39 2009
Subject: [Harbour] Harbour and Flex
Message-ID: <81368540-0D79-4CF0-929F-3BBCF5D9D0BA@syenar.hu>

Hi All,

I understand Harbour doesn't need Flex at all now, 
yet, we have harbour.l in src/compiler. Not used 
from Makefile.

Any specific reason for that, or shall I go along 
and clean all references of flex from source tree, 
make system and INSTALL? Or should we leave harbour.l 
for reference, but clean only the rest?

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Dec  7 07:45:36 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Dec  7 07:45:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <000001ca771f$7f50e560$7df2b020$@Bisz@t-online.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>	<002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>	<3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>	<002801ca75b7$f7eba140$e7c2e3c0$@Bisz@t-online.hu>	<32BC1722-4B82-43C5-B25A-AEDDA640E50C@syenar.hu>	<002901ca75c3$bb7797d0$3266c770$@Bisz@t-online.hu>	<439A0A49-169D-481C-9E34-AABB671BD36E@syenar.hu>	<000101ca76a1$c32cb620$49862260$@Bisz@t-online.hu>
	<6845F674-E889-4B7C-8037-62301 62CEF50@syenar.hu>
	<000001ca771f$7f50e560$7df2b020$@Bisz@t-online.hu>
Message-ID: <DFCE53B6-C1F3-4CEB-A533-080002B9D17D@syenar.hu>

Hi Istvan,

>> This is very easy to implement, only needs one extra 'mt=yes' line 
>> in contrib/hbqt/hbqt[s].hbc files.
> 
>> However, before we do this, I'd like know if this is indeed the 
>> _real_ solution to the problem. Turning on MT mode decreases performance 
>> by ~30% (AFAIR) in mingw, so it's not a costless option. 
> 
> Here I can share just my experiences with the harbour Qt implementation
> testing. I spent a lot of time to clarify the build problems with 4.6 and
> after the successful building the resulted executable testing. My first
> conclusion was that C++ mode force to the whole build results strange GPF
> free executables. BTW I repeated these test with the previous Qt 4.5.3 and
> the results was the same with the native Windows and linux (Fedora 12)
> cross-builds: the C mode generates executables with strange GPF-s. As I
> understand from your mails this was specific to my development environment,
> hard to understand taking into consideration the cross-build experiences. So
> I tried to enter deeper in this issue with the recommended TDM Mingw
> offering GCC 4.4.1. and without forcing the C++ mode building.
> 
> See below a debug log (at the end of this mail).
> 
> In this log there are thread activities, so I tried to check that all the
> things are ok serving multithreading. I was very surprised that the default
> build offers just ST mode. After switching to the MT mode, the resulting
> executables in C mode in native Windows and linux cross-builds do not
> present the mentioned strange GPF-s. So please consider these just
> experiments and not "theory".

Thank you very much for all your testing and experimentation.

I hope some more (than me) trained eyes can check you results 
and get to some conclusions.

Me - still in the "hunch" mode - am still finding it odd that 
we need to use MT HVM to make QT not GPF. I perfectly believe 
your tests are correct and for you MT solved the problems, but
we still don't see the deeper reason.

For sure QT itself cannot require MT _HVM_, because it also 
works without Harbour. So the culprit could be HBQT, which 
makes use of, or requires HVM MT features to solve some 
problems on the wrapper level. It's also possible that HBQT 
has some explicit support for MT HVM mode, and this support 
accidentally broke ST builds. If true, it's IMO wrong, but 
beyond any personal opinions we should first of all document 
it, then possibly remove such MT HVM requirement and make it 
work in both modes without GPFs.

But I'm starting to repeat myself, which doesn't add 
terribly lot to the picture, so I'll now wait for educated 
input :)

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Dec  7 07:47:05 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 07:47:14 2009
Subject: [Harbour] Harbour and unicode .prg files
In-Reply-To: <20091207095832.GB16503@linux-4bod.home.aster.pl>
References: <496D4104-0893-40B3-880F-FABB1E7E3B08@syenar.hu>
	<20091207095832.GB16503@linux-4bod.home.aster.pl>
Message-ID: <A1E9C2CE-FB77-463C-B914-23C04CFDF4DF@syenar.hu>

Hi,

>> I was trying to compile a .prg which contained UTF-8 chars 
>> in strings, and it so happened that my editor added unicode 
>> signature (BOM) to the .prg file, causing this compile error:
>> ---
>> Harbour 2.0.0beta3 (Rev. 13091)
>> Copyright (c) 1999-2009, http://www.harbour-project.org/
>> Compiling 'sh.prg'...
>> sh.prg(1) Error E0030  Syntax error "syntax error at '???'"
>> 1 error
>> ---
>> Would it be possible to accept input files with unicode BOMs?
> 
> yes but I wanted to join these modification with compile time
> support for code pages.
> Anyhow if it's important then now I can add small code which will
> simply strip UTF-8 signature from compiled .prg files.

If it's not huge effort and don't make later modification 
harder, I think it would be nice, as it'd open the way to 
make experiments with such source files.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Dec  7 07:50:25 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 07:50:36 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
In-Reply-To: <20091206173153.GB2635@linux-4bod.home.aster.pl>
References: <4B1B86E6.6020807@mail.udg.mx>
	<C19BF226-495A-48F5-BA2D-A3E8200C886C@syenar.hu>
	<20091206173153.GB2635@linux-4bod.home.aster.pl>
Message-ID: <51B4206A-37F1-406B-89EA-D39328517863@syenar.hu>

>> So how about removing -s switch altogether for watcom/os2 
>> in both our make system and hbmk2?
> 
> No. It's not necessary to touch hbmk2.
> 
>> For the reason that a slightly slower, but working app is 
>> better than a failing app.
> 
> This slight slower means over 3 times slower.
> -s disabled debug code used to check stack overflow.
> On platforms which does not support hardware stack frame overflow
> protection it may cause very serious speed overhead.

That's bad indeed.

I've just seen David's latest tests... IMO if there 
is no reasonable solution for it, removing -s could 
still be a fallback option, for the reason that 
watcom/os2 is not a primary target, I mean no one 
seems to use it for production, in practice we need it 
only for cross-platform build testing of OS/2 and 
in this case speed doesn't matter at all.

Of course it'd nicer if it's fast, but doesn't seem 
to be a priority.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Dec  7 07:52:47 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Dec  7 07:52:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <002101ca7736$641111a0$2c3334e0$@Bisz@t-online.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>
	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<-6272663939967592455@unknownmsgid>
	<609353e70912050211g31b13f3sc9b7317a8f4718d8@mail.gmail.com>
	<5958881847248762710@unknownmsgid>
	<609353e70912050225o108cc950n847c92b0d93a932a@mail.gmail.com>
	<002101ca7736$641111a0$2c3334e0$@Bisz@t-online.hu>
Message-ID: <BB44B807-B2B7-4DCB-8612-12B140CD5F45@syenar.hu>

> If you need to build harbour with TDM-MINGW with dual rewind feature
> installed and Qt previous to 4.6 release, you should set HB_COMPILER to
> mingw, skipping in this way the build system auto detection: 
> 
> set HB_WITH_QT=C:/Qt/4.5.3/include
> set HB_COMPILER=mingw
> 
> for 4.6 just:
> 
> set HB_WITH_QT=C:/Qt/4.6.0/include
> set HB_COMPILER= (or without)

Or:

set PATH=C:\ming-441-tdm\bin
set HB_WITH_QT=C:/Qt/4.5.3/include
win-make

---

set PATH=C:\ming-441-tdm-dw2\bin
set HB_WITH_QT=C:/Qt/4.6.0/include
win-make

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Dec  7 08:12:39 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 08:12:51 2009
Subject: [Harbour] hbqt and MT / issues
Message-ID: <A77B4EAE-E3D5-4167-8F1A-A74238A1C1E4@syenar.hu>

Hi All,

1)

I'm seeing this code:
---
void MyMainWindow::paintEvent( QPaintEvent * event )
{
   hb_threadMutexLock( s_mutex );

   [...]

   /* This is an ugly hack to control the way Qt executes its Paint Engine
    * which appears to be "not reentrant". If paint message is received by two
    * dialogs executing in different Harbour threads, appln GPF's.
    * If current thread is forced to release CPU time then everything seems to be
    * working fine. But then this slows down the navigation considerably.
    * Until this issue is resolved, it seems, we cannot implement multi-window, multi-thread
    * interface in Harbour. So sad...
    */
   #if defined( QT_EXECUTE_IN_THREADS )
      hb_releaseCPU();
   #endif

   hb_threadMutexUnlock( s_mutex );
}
---

Is this workaround a good one? To me it looks to only delay 
potential problems.

2)

I also see QT_MUTEXCREATE(), but is this the best way 
to initialize C level mutexes? There is also QT_MUTEXDESTROY().

None of them is called from anywhere I checked.

Probably some automatic initialization plus atexit destructors 
would be needed here. It seems that the mutex should only 
be initialized if MT HVM is linked. Current code doesn't make 
such guarantees.

3) 

QT_MYMAINWINDOW() returns non collected pointer, which means 
it must be release manually, of not a leak occurs.

Same thing with QT_QEVENTFILTER() and destroy counterpart.

4)

There is RELEASE_CODEBLOCKS() which needs to be called from 
user code. This hints that some things are never released 
automatically. This function is also not called from .prg level 
code present in SVN.

Difficult to judge what problems these will cause in a real 
app, but above points look like ones which could use some 
corrections.

Brgds,
Viktor

From jarabal at gmail.com  Mon Dec  7 10:08:01 2009
From: jarabal at gmail.com (Xavi)
Date: Mon Dec  7 10:08:42 2009
Subject: [Harbour] BEGIN/END SEQUENCE  Fails or is intended as such ?
In-Reply-To: <20091207102304.GA17217@linux-4bod.home.aster.pl>
References: <26669736.post@talk.nabble.com> <4B1C5E29.3050805@gmail.com>
	<20091207102304.GA17217@linux-4bod.home.aster.pl>
Message-ID: <4B1D1A51.7050307@gmail.com>

Gracias Przemek,

> important things like setting NETERR() or setting 0 as result of
> division by 0 stop to work.

To me is clear: global setting of BEGIN SEQUENCE limits the possibilities.
I do not know if it has clarified the issue. Pritpal?
P.e. In the *local* context of the function EvalAsString .-

#xcommand BEGIN SEQUENCE => BEGIN SEQUENCE WITH { |oErr| Break( oErr ) }

FUNCTION EvalAsString( cExp )
    LOCAL cValue

    BEGIN SEQUENCE
       cValue := eval( &( "{|| " + cExp + "}" ) )
    RECOVER
       cValue := ""
    END SEQUENCE

    IF !hb_isChar( cValue )
       cValue := ""
    ENDIF

    RETURN cValue

If exists Clipper's code like .-

Procedure ErrorSys()
   ErrorBlock( {|bError| VError( bError )} )
return

Function VError( bError )

   if( bError:genCode == EG_ZERODIV )
     return 0
   endif
   if( bError:genCode == EG_OPEN .and. bError:osCode == 32 .and. bError:canDefault )
     // for network open error, set NETERR() and subsystem default
     NetErr(.T.); return .F.
   endif
   if( bError:genCode == EG_APPENDLOCK .and. bError:canDefault )
     // for lock error during APPEND BLANK, set NETERR() and subsystem default
     NetErr(.T.); return .F.
   endif
   if( bError:genCode == EG_OPEN .and. NetErr() .and. bError:canDefault )
     // for dafault of 5.0
     return .F.
   endif
return .F.

The function call .-

? EvalAsString( "Str( 1/0 )" )

This doesn't make the expected result! :)

Best regards,
Xavi

Przemys?aw Czerpak escribi?:
> On Mon, 07 Dec 2009, Xavi wrote:
> 
> Hi,
> 
>> Maybe you need to put this before .-
>> #xcommand BEGIN SEQUENCE => BEGIN SEQUENCE WITH { |oErr| Break( oErr ) }
> 
> I forgot to add that this is very bad idea because it fully disable
> error handler just like TRY / CATCH in xHarbour. It means that some
> important things like setting NETERR() or setting 0 as result of
> division by 0 stop to work.
> 
> best regards,
> Przemek



From druzus at acn.waw.pl  Mon Dec  7 10:53:01 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 10:53:08 2009
Subject: [Harbour] Harbour and Flex
In-Reply-To: <81368540-0D79-4CF0-929F-3BBCF5D9D0BA@syenar.hu>
References: <81368540-0D79-4CF0-929F-3BBCF5D9D0BA@syenar.hu>
Message-ID: <20091207155301.GA7709@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, Szak?ts Viktor wrote:

Hi,

> I understand Harbour doesn't need Flex at all now, 
> yet, we have harbour.l in src/compiler. Not used 
> from Makefile.

Yes. I eliminated FLEX usage few years ago.

> Any specific reason for that, or shall I go along 
> and clean all references of flex from source tree, 
> make system and INSTALL? Or should we leave harbour.l 
> for reference, but clean only the rest?

I left harbour.l and macro.l only as some type of documentation
for lexer tokens. FLEX uses well known syntax so this file should
be easy understood by different developers.
For sure we should clear all references to FLEX form INSTALL.
We can also remove it from make system - FLEX does not generate
MT safe code so we cannot use it.
I have not idea if harbour.l and macro.l are really usable for
other developers. Does any one ever look at them? If not then
let's remove them too.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Dec  7 10:56:15 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 10:56:22 2009
Subject: [Harbour] hbqt and MT / issues
In-Reply-To: <A77B4EAE-E3D5-4167-8F1A-A74238A1C1E4@syenar.hu>
References: <A77B4EAE-E3D5-4167-8F1A-A74238A1C1E4@syenar.hu>
Message-ID: <20091207155615.GB7709@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, Szak?ts Viktor wrote:
> Is this workaround a good one? To me it looks to only delay 
> potential problems.

Exactly. It should be removed because it does not fix anything.
If some code needs it then for sure it's not rpduction ready
and has to be fixed.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Dec  7 11:04:04 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 11:04:10 2009
Subject: [Harbour] bug?: SET( _SET_CODEPAGE, "UTF8" )
In-Reply-To: <74DF99E7-678B-49C3-AF34-919D31CC7889@syenar.hu>
References: <5D0B8B84-01DC-4F54-A259-DEE382A62B41@syenar.hu>
	<20091207100559.GD16503@linux-4bod.home.aster.pl>
	<74DF99E7-678B-49C3-AF34-919D31CC7889@syenar.hu>
Message-ID: <20091207160403.GC7709@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, Szak?ts Viktor wrote:

Hi,

> Ok I see. Although this also means that I can't use 
> it as native CP in an application.
> You seem to have suggested that any app may use UTF-8 
> even now. But maybe I misunderstood something. I understand 
> this needs UTF-8 sorting support (for ASORT(), <, > operators, 
> maybe else, plus these things in RDD, if DBCODEPAGE is 
> left to default also), which we don't have.
> Although maybe we should protection to now allow to use 
> UTF-8 in _SET_DBCODEPAGE and RDD CP parameters extensions.

You can use UTF-8 in _SET_DBCODEPAGE and _SET_OSCODEPAGE.
I only blocked setting such code page in _SET_CODEPAGE because
it does not support any national settings.
If you unblock it then it will work just like "EN" CP.

best regards,
Przemek
From Istvan.Bisz at t-online.hu  Mon Dec  7 11:12:29 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Mon Dec  7 11:12:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <DFCE53B6-C1F3-4CEB-A533-080002B9D17D@syenar.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>	<002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>	<3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>	<002801ca75b7$f7eba140$e7c2e3c0$@Bisz@t-online.hu>	<32BC1722-4B82-43C5-B25A-AEDDA640E50C@syenar.hu>	<002901ca75c3$bb7797d0$3266c770$@Bisz@t-online.hu>	<439A0A49-169D-481C-9E34-AABB671BD36E@syenar.hu>	<000101ca76a1$c32cb620$49862260$@Bisz@t-online.hu>	<6845F674-E889-4B7C-8037-62301
	62CEF50@syenar.hu>	<0
	00001ca771f$7f50e560$7df2b020$@Bisz@t-online.hu>
	<DFCE53B6-C1F3-4CEB-A533-080002B9D17D@syenar.hu>
Message-ID: <003801ca7758$13b66b70$3b234250$@Bisz@t-online.hu>

Hi Viktor,

Just to clarify the picture or to restrict the playing space, why these
issues is are missing in linux (Fedora 12) builds?

Best regards,
Istv?n


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
Sent: 2009. december 7. 13:46
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour

Hi Istvan,

>> This is very easy to implement, only needs one extra 'mt=yes' line 
>> in contrib/hbqt/hbqt[s].hbc files.
> 
>> However, before we do this, I'd like know if this is indeed the 
>> _real_ solution to the problem. Turning on MT mode decreases performance 
>> by ~30% (AFAIR) in mingw, so it's not a costless option. 
> 
> Here I can share just my experiences with the harbour Qt implementation
> testing. I spent a lot of time to clarify the build problems with 4.6 and
> after the successful building the resulted executable testing. My first
> conclusion was that C++ mode force to the whole build results strange GPF
> free executables. BTW I repeated these test with the previous Qt 4.5.3 and
> the results was the same with the native Windows and linux (Fedora 12)
> cross-builds: the C mode generates executables with strange GPF-s. As I
> understand from your mails this was specific to my development
environment,
> hard to understand taking into consideration the cross-build experiences.
So
> I tried to enter deeper in this issue with the recommended TDM Mingw
> offering GCC 4.4.1. and without forcing the C++ mode building.
> 
> See below a debug log (at the end of this mail).
> 
> In this log there are thread activities, so I tried to check that all the
> things are ok serving multithreading. I was very surprised that the
default
> build offers just ST mode. After switching to the MT mode, the resulting
> executables in C mode in native Windows and linux cross-builds do not
> present the mentioned strange GPF-s. So please consider these just
> experiments and not "theory".

Thank you very much for all your testing and experimentation.

I hope some more (than me) trained eyes can check you results 
and get to some conclusions.

Me - still in the "hunch" mode - am still finding it odd that 
we need to use MT HVM to make QT not GPF. I perfectly believe 
your tests are correct and for you MT solved the problems, but
we still don't see the deeper reason.

For sure QT itself cannot require MT _HVM_, because it also 
works without Harbour. So the culprit could be HBQT, which 
makes use of, or requires HVM MT features to solve some 
problems on the wrapper level. It's also possible that HBQT 
has some explicit support for MT HVM mode, and this support 
accidentally broke ST builds. If true, it's IMO wrong, but 
beyond any personal opinions we should first of all document 
it, then possibly remove such MT HVM requirement and make it 
work in both modes without GPFs.

But I'm starting to repeat myself, which doesn't add 
terribly lot to the picture, so I'll now wait for educated 
input :)

Brgds,
Viktor

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Mon Dec  7 11:13:44 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 11:13:50 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
In-Reply-To: <4B1CE981.7060005@mail.udg.mx>
References: <4B1CE981.7060005@mail.udg.mx>
Message-ID: <20091207161344.GD7709@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, David Arturo Macias Corona wrote:

Hi,

> Harbour 13153
> config\os2\watcom.mk contain:
>    ifeq ($(filter $(LIBNAME),gtos2 gtstd),)
>       CFLAGS += -s
>    endif

Have you made clean Harbour build?

> [E:\harbour911b\harbour\bin\os2\watcom]hbmk2 speedtst -l -kmo -mt
> -gc3 -gtstd
> Harbour 2.0.0beta3 (Rev. 13153)
> Copyright (c) 1999-2010, http://www.harbour-project.org/
> Compiling 'speedtst.prg'...
> Lines 1204, Functions/Procedures 79
> Generating C source output to 'speedtst.c'... Done.
> [E:\harbour911b\harbour\bin\os2\watcom]speedtst.exe --thread
> 2009.12.07 05:23:28 OS/2 4.50
> Harbour 2.0.0beta3 (Rev. 13153) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
> THREADS: all->56
> N_LOOPS: 1000000
> [ T000: empty loop overhead ]...................................0.03
> ====================================================================SYS1808:
> The process has stopped.  The software diagnostic
> code (exception code) is  0001.

Thank you very much.
It means that the code used to check stack overflow have to be executed
exactly by the function which calls APIENTRY16.
It also means that recompiling whole Harbour code without -s flag does
not resolve the problem of GTSTD because it uses kbhit() from OpenWatcom
C RTL compiled without stack debug code. Am I rirght?

> With this change gtstd fail with GPF and gtos2 run fine
> It is expected so ?

Yes but only if you can confirm that after removing
   CFLAGS += -s
from config\os2\watcom.mk and rebuilding whole Harbour code
also does not help and GTSTD still GPF.
This is the last thing I would like to know.
If it's true then I can create self contain example which always GPFs
regardless of used compilation flags.

Again thank you very much for your time and tests.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Dec  7 11:18:04 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 11:18:17 2009
Subject: [Harbour] BEGIN/END SEQUENCE  Fails or is intended as such ?
In-Reply-To: <4B1D1A51.7050307@gmail.com>
References: <26669736.post@talk.nabble.com> <4B1C5E29.3050805@gmail.com>
	<20091207102304.GA17217@linux-4bod.home.aster.pl>
	<4B1D1A51.7050307@gmail.com>
Message-ID: <F2AA6FFA-E28E-4695-8AC1-B0433DD35B12@syenar.hu>

> To me is clear: global setting of BEGIN SEQUENCE limits the possibilities.
> I do not know if it has clarified the issue. Pritpal?
> P.e. In the *local* context of the function EvalAsString .-
> 
> #xcommand BEGIN SEQUENCE => BEGIN SEQUENCE WITH { |oErr| Break( oErr ) }

I can't see any advantage of above, but it can be 
dangerous (or just annoying) if some other programmer (or 
the same a little bit later) tries to use BEGIN SEQUENCE WITH 
in code and it doesn't work.

WITH block isn't a details which we should hide from source.

Please avoid it in SVN.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Dec  7 11:19:35 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 11:19:46 2009
Subject: [Harbour] Harbour and Flex
In-Reply-To: <20091207155301.GA7709@linux-4bod.home.aster.pl>
References: <81368540-0D79-4CF0-929F-3BBCF5D9D0BA@syenar.hu>
	<20091207155301.GA7709@linux-4bod.home.aster.pl>
Message-ID: <22BE894F-4796-4D89-AAAF-3EB5A54C9A38@syenar.hu>


On 2009 Dec 7, at 16:53, Przemys?aw Czerpak wrote:

> On Mon, 07 Dec 2009, Szak?ts Viktor wrote:
> 
> Hi,
> 
>> I understand Harbour doesn't need Flex at all now, 
>> yet, we have harbour.l in src/compiler. Not used 
>> from Makefile.
> 
> Yes. I eliminated FLEX usage few years ago.

Okay.

>> Any specific reason for that, or shall I go along 
>> and clean all references of flex from source tree, 
>> make system and INSTALL? Or should we leave harbour.l 
>> for reference, but clean only the rest?
> 
> I left harbour.l and macro.l only as some type of documentation
> for lexer tokens. FLEX uses well known syntax so this file should
> be easy understood by different developers.
> For sure we should clear all references to FLEX form INSTALL.
> We can also remove it from make system - FLEX does not generate
> MT safe code so we cannot use it.
> I have not idea if harbour.l and macro.l are really usable for
> other developers. Does any one ever look at them? If not then
> let's remove them too.

I have some doubts if they are looked at all.

In any case, it can be retrieved from SVN history 
anytime, so it's safe to delete from this aspect.

I'll do these a bit later.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Dec  7 11:21:37 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 11:21:45 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
In-Reply-To: <51B4206A-37F1-406B-89EA-D39328517863@syenar.hu>
References: <4B1B86E6.6020807@mail.udg.mx>
	<C19BF226-495A-48F5-BA2D-A3E8200C886C@syenar.hu>
	<20091206173153.GB2635@linux-4bod.home.aster.pl>
	<51B4206A-37F1-406B-89EA-D39328517863@syenar.hu>
Message-ID: <20091207162137.GE7709@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, Szak?ts Viktor wrote:

Hi,

> I've just seen David's latest tests... IMO if there 
> is no reasonable solution for it, removing -s could 
> still be a fallback option, for the reason that 
> watcom/os2 is not a primary target, I mean no one 
> seems to use it for production, in practice we need it 
> only for cross-platform build testing of OS/2 and 
> in this case speed doesn't matter at all.
> Of course it'd nicer if it's fast, but doesn't seem 
> to be a priority.

Recent David tests shows that removing -s form OW build
flags to enable stack debug code is not enough workaround.
The problem can be still exploited by CRTL code which is
compiled without stack debug code and can executed APIENTRY16
functions. We have such situation in GTSTD which use kbhit()
and getch() CRTL functions.
So the only effect we can reach by removing -s is very serious
speed overhead but it will not change current runtime behavior
of Harbour applications.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Dec  7 11:22:41 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 11:22:52 2009
Subject: [Harbour] bug?: SET( _SET_CODEPAGE, "UTF8" )
In-Reply-To: <20091207160403.GC7709@linux-4bod.home.aster.pl>
References: <5D0B8B84-01DC-4F54-A259-DEE382A62B41@syenar.hu>
	<20091207100559.GD16503@linux-4bod.home.aster.pl>
	<74DF99E7-678B-49C3-AF34-919D31CC7889@syenar.hu>
	<20091207160403.GC7709@linux-4bod.home.aster.pl>
Message-ID: <7E83AA25-2AF3-425B-B8F6-F42E7D0E7FFD@syenar.hu>

>> Ok I see. Although this also means that I can't use 
>> it as native CP in an application.
>> You seem to have suggested that any app may use UTF-8 
>> even now. But maybe I misunderstood something. I understand 
>> this needs UTF-8 sorting support (for ASORT(), <, > operators, 
>> maybe else, plus these things in RDD, if DBCODEPAGE is 
>> left to default also), which we don't have.
>> Although maybe we should protection to now allow to use 
>> UTF-8 in _SET_DBCODEPAGE and RDD CP parameters extensions.
> 
> You can use UTF-8 in _SET_DBCODEPAGE and _SET_OSCODEPAGE.
> I only blocked setting such code page in _SET_CODEPAGE because
> it does not support any national settings.
> If you unblock it then it will work just like "EN" CP.

So, I'm afraid I'm confused. For sure I don't want to 
unblock it just for the sake of having it unlocked. But 
now I can't see why it cannot work as main CP, but can 
work as DB CP. I assume if it can be used in DB, sorting 
must be working, so I wonder what are those 'national settings'?

Sorry to force the matter, but I'd like to see if it's 
possible to start in this direction already.

Brgds,
Viktor



From harbour.01 at syenar.hu  Mon Dec  7 11:27:09 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Dec  7 11:27:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <003801ca7758$13b66b70$3b234250$@Bisz@t-online.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>	<002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>	<3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>	<002801ca75b7$f7eba140$e7c2e3c0$@Bisz@t-online.hu>	<32BC1722-4B82-43C5-B25A-AEDDA640E50C@syenar.hu>	<002901ca75c3$bb7797d0$3266c770$@Bisz@t-online.hu>	<439A0A49-169D-481C-9E34-AABB671BD36E@syenar.hu>	<000101ca76a1$c32cb620$49862260$@Bisz@t-online.hu>	<6845F674-E889-4B7C-8037-62301
	62CEF50@syenar.hu>	<0
	00001ca771f$7f50e560$7df2b020$@Bisz@t-online.hu>
	<DFCE53B6-C1F3-4CEB-A533-080002B9D17D@syenar.hu>
	<003801ca7758$13b66b70$3b234250$@Bisz@t-online.hu>
Message-ID: <FCB059F2-3BB1-4CFF-9B3F-99FB831C9B86@syenar.hu>

Hi Istvan,

> Hi Viktor,
> 
> Just to clarify the picture or to restrict the playing space, why these
> issues is are missing in linux (Fedora 12) builds?

Interesting question, I hope someone will give an answer.

For sure MT isn't used by default on Fedora either, and also 
base Harbour isn't built in C++ mode in Fedora.

Also for sure, I've seen quite many GPF reports from Linux 
also, so overall I can't see a tendency that HBQT works on 
Linux but has problems on Windows. It has problems under both, 
and it seems it depends on some transient parameters which we 
don't know yet.

[ I hope I interpreted your proposition correctly. ]

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Dec  7 11:29:43 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 11:29:55 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
In-Reply-To: <20091207162137.GE7709@linux-4bod.home.aster.pl>
References: <4B1B86E6.6020807@mail.udg.mx>
	<C19BF226-495A-48F5-BA2D-A3E8200C886C@syenar.hu>
	<20091206173153.GB2635@linux-4bod.home.aster.pl>
	<51B4206A-37F1-406B-89EA-D39328517863@syenar.hu>
	<20091207162137.GE7709@linux-4bod.home.aster.pl>
Message-ID: <2FD7B45B-9CBA-424F-AF7F-08A60BB7ADFA@syenar.hu>

>> I've just seen David's latest tests... IMO if there 
>> is no reasonable solution for it, removing -s could 
>> still be a fallback option, for the reason that 
>> watcom/os2 is not a primary target, I mean no one 
>> seems to use it for production, in practice we need it 
>> only for cross-platform build testing of OS/2 and 
>> in this case speed doesn't matter at all.
>> Of course it'd nicer if it's fast, but doesn't seem 
>> to be a priority.
> 
> Recent David tests shows that removing -s form OW build
> flags to enable stack debug code is not enough workaround.
> The problem can be still exploited by CRTL code which is
> compiled without stack debug code and can executed APIENTRY16
> functions. We have such situation in GTSTD which use kbhit()
> and getch() CRTL functions.
> So the only effect we can reach by removing -s is very serious
> speed overhead but it will not change current runtime behavior
> of Harbour applications.

Okay, that clears it up. So in essence OpenWatcom for OS/2 
is broken whatever we do in Harbour.

[ In this case though, we may safely readd -s for all modules,
thus deleting our little hack and wait for Watcom team to fix it. ]

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Mon Dec  7 11:30:40 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Mon Dec  7 11:30:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <FCB059F2-3BB1-4CFF-9B3F-99FB831C9B86@syenar.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>	<-6297814447993206960@unknownmsgid>	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>	<002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>	<3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>	<002801ca75b7$f7eba140$e7c2e3c0$@Bisz@t-online.hu>	<32BC1722-4B82-43C5-B25A-AEDDA640E50C@syenar.hu>	<002901ca75c3$bb7797d0$3266c770$@Bisz@t-online.hu>	<439A0A49-169D-481C-9E34-AABB671BD36E@syenar.hu>	<000101ca76a1$c32cb620$49862260$@Bisz@t-online.hu>	<6845F674-E889-4B7C-8037-62301
	62CEF50@syenar.hu>	<0
	00001ca771f$7f50e560$7df2b020$@Bisz@t-online.hu>	<DFCE53B6-C1F3-4CEB-A533-080002B9D17D@syenar.hu>	<003801ca7758$13b66b70$3b234250$@Bisz@t-online.hu>
	<FCB059F2-3BB1-4CFF-9B3F-99FB831C9B86@syenar.hu>
Message-ID: <003901ca775a$9dcfbe40$d96f3ac0$@Bisz@t-online.hu>

It's just a question, to make us to go deeper in this issue...

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
Sent: 2009. december 7. 17:27
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour

Hi Istvan,

> Hi Viktor,
> 
> Just to clarify the picture or to restrict the playing space, why these
> issues is are missing in linux (Fedora 12) builds?

Interesting question, I hope someone will give an answer.

For sure MT isn't used by default on Fedora either, and also 
base Harbour isn't built in C++ mode in Fedora.

Also for sure, I've seen quite many GPF reports from Linux 
also, so overall I can't see a tendency that HBQT works on 
Linux but has problems on Windows. It has problems under both, 
and it seems it depends on some transient parameters which we 
don't know yet.

[ I hope I interpreted your proposition correctly. ]

Brgds,
Viktor

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Mon Dec  7 11:34:45 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 11:34:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13149] trunk/harbour
In-Reply-To: <7303F5DE-4A00-4BC4-8FBC-3D7E9D54F29B@syenar.hu>
References: <E1NHTAQ-00088I-Ec@74yxhf1.ch3.sourceforge.com>
	<20091207101937.GE16503@linux-4bod.home.aster.pl>
	<7303F5DE-4A00-4BC4-8FBC-3D7E9D54F29B@syenar.hu>
Message-ID: <20091207163445.GF7709@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, Szak?ts Viktor wrote:

Hi,

> Since the reference to hb_set*() function is hidden 
> inside a macro defined in hbwince.h (ie. it's a macro 
> implementation detail, which user code shouldn't be aware 
> of), hbset.h should be #included from the header which 
> defines the macro, not the final .c source which uses the 
> macro.

AFAIR we have such situation in few places.
I do not like it but also I do not see big problem with it.

> Though if I put hbset.h into hbwince.h it gives a lot of 
> errors on compile. I can't find out why or where to place 
> it to avoid it.

hbwince.h is always included in windows builds. If you will
add #include "hbset.h" to this file then you will force
including hbset.h in whole code. I do not think it's good
idea. Anyhow if you want to make it then you should move
#include "hbwince.h" from hbdefs.h to hbapi.h just after
definition necessary for all other included files.
As alternative you can move all UNICODE windows macros from
hbwince.h to separate file, i.e. hbwinuni.h or hbwinuc.h
which will include hbset.h and will have to be include
explicitly by any code which needs to use them. This is
probably the cleanest solution.

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Mon Dec  7 11:36:41 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Dec  7 11:36:49 2009
Subject: [Harbour] Warnings and errors in latest SVN
Message-ID: <592AFFEB63C3427C80ACAC0EF245C874@emag>

Warning W8065 ../../../wapi_shellapi.c 71: Call to function 'hb_setGetOSCP' 
with no prototype in function HB_FUN_WAPI_SHELLEXECUTE
Error E2342 ../../../wapi_shellapi.c 71: Type mismatch in parameter 'cdp' 
(wanted 'void *', got 'int') in function HB_FUN_WAPI_SHELLEXECUTE
Warning W8065 ../../../wapi_shellapi.c 72: Call to function 'hb_setGetOSCP' 
with no prototype in function HB_FUN_WAPI_SHELLEXECUTE
Error E2342 ../../../wapi_shellapi.c 72: Type mismatch in parameter 'cdp' 
(wanted 'void *', got 'int') in function HB_FUN_WAPI_SHELLEXECUTE
Warning W8065 ../../../wapi_shellapi.c 73: Call to function 'hb_setGetOSCP' 
with no prototype in function HB_FUN_WAPI_SHELLEXECUTE
Error E2342 ../../../wapi_shellapi.c 73: Type mismatch in parameter 'cdp' 
(wanted 'void *', got 'int') in function HB_FUN_WAPI_SHELLEXECUTE
Warning W8065 ../../../wapi_shellapi.c 74: Call to function 'hb_setGetOSCP' 
with no prototype in function HB_FUN_WAPI_SHELLEXECUTE
Error E2342 ../../../wapi_shellapi.c 74: Type mismatch in parameter 'cdp' 
(wanted 'void *', got 'int') in function HB_FUN_WAPI_SHELLEXECUTE

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at acn.waw.pl  Mon Dec  7 11:38:21 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 11:38:27 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
In-Reply-To: <2FD7B45B-9CBA-424F-AF7F-08A60BB7ADFA@syenar.hu>
References: <4B1B86E6.6020807@mail.udg.mx>
	<C19BF226-495A-48F5-BA2D-A3E8200C886C@syenar.hu>
	<20091206173153.GB2635@linux-4bod.home.aster.pl>
	<51B4206A-37F1-406B-89EA-D39328517863@syenar.hu>
	<20091207162137.GE7709@linux-4bod.home.aster.pl>
	<2FD7B45B-9CBA-424F-AF7F-08A60BB7ADFA@syenar.hu>
Message-ID: <20091207163820.GA8625@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, Szak?ts Viktor wrote:

Hi,

> Okay, that clears it up. So in essence OpenWatcom for OS/2 
> is broken whatever we do in Harbour.
> [ In this case though, we may safely readd -s for all modules,
> thus deleting our little hack and wait for Watcom team to fix it. ]

I do not see any reason to break using GTOS2 in MT mode waiting for
OpenWatcom fix so I would like to keep current hack until it will
not be fixed in OW.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Dec  7 11:41:39 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 11:41:48 2009
Subject: [Harbour] Cairo GC
In-Reply-To: <4B1CCB38.1060706@dbtopas.lt>
References: <4B1CCB38.1060706@dbtopas.lt>
Message-ID: <20091207164139.GB8625@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, Mindaugas Kavaliauskas wrote:

Hi,

> there is a question about GC and storing references between
> collectible pointers. It would be nice to hear your opinion about
> this.
> These letters explains the problem:
> http://lists.harbour-project.org/pipermail/harbour/2009-November/028156.html
> http://lists.harbour-project.org/pipermail/harbour/2009-December/028420.html
> http://lists.harbour-project.org/pipermail/harbour/2009-December/028422.html
> http://lists.harbour-project.org/pipermail/harbour/2009-December/028423.html
> I guess you haven't noticed these because you use threads to read
> email and these are from a large thread containing tons of messages
> about cairo compile on windows. Or we have mailing list problems
> again.

I'll look at it closer and answer.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Dec  7 11:49:53 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 11:50:03 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
In-Reply-To: <20091207163820.GA8625@linux-4bod.home.aster.pl>
References: <4B1B86E6.6020807@mail.udg.mx>
	<C19BF226-495A-48F5-BA2D-A3E8200C886C@syenar.hu>
	<20091206173153.GB2635@linux-4bod.home.aster.pl>
	<51B4206A-37F1-406B-89EA-D39328517863@syenar.hu>
	<20091207162137.GE7709@linux-4bod.home.aster.pl>
	<2FD7B45B-9CBA-424F-AF7F-08A60BB7ADFA@syenar.hu>
	<20091207163820.GA8625@linux-4bod.home.aster.pl>
Message-ID: <4A2573E2-FA13-44C5-815E-CA36458A1900@syenar.hu>

>> Okay, that clears it up. So in essence OpenWatcom for OS/2 
>> is broken whatever we do in Harbour.
>> [ In this case though, we may safely readd -s for all modules,
>> thus deleting our little hack and wait for Watcom team to fix it. ]
> 
> I do not see any reason to break using GTOS2 in MT mode waiting for
> OpenWatcom fix so I would like to keep current hack until it will
> not be fixed in OW.

<Confused state ON> In your prev mail you told that full removal 
of -s also doesn't help on watcom/os2 issues...

Well, anyhow for me it doesn't matter, pbly I won't understand 
this issue.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Dec  7 11:58:36 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 11:58:43 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
In-Reply-To: <4A2573E2-FA13-44C5-815E-CA36458A1900@syenar.hu>
References: <4B1B86E6.6020807@mail.udg.mx>
	<C19BF226-495A-48F5-BA2D-A3E8200C886C@syenar.hu>
	<20091206173153.GB2635@linux-4bod.home.aster.pl>
	<51B4206A-37F1-406B-89EA-D39328517863@syenar.hu>
	<20091207162137.GE7709@linux-4bod.home.aster.pl>
	<2FD7B45B-9CBA-424F-AF7F-08A60BB7ADFA@syenar.hu>
	<20091207163820.GA8625@linux-4bod.home.aster.pl>
	<4A2573E2-FA13-44C5-815E-CA36458A1900@syenar.hu>
Message-ID: <20091207165836.GC8625@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, Szak?ts Viktor wrote:

Hi,

> > I do not see any reason to break using GTOS2 in MT mode waiting for
> > OpenWatcom fix so I would like to keep current hack until it will
> > not be fixed in OW.
> <Confused state ON> In your prev mail you told that full removal 
> of -s also doesn't help on watcom/os2 issues...

I wrote that removing -s does not _FULLY_ resolves the problem
because it still exists in CRTL code so GTSTD will not work.
But it's enough for GTOS2 which explicitly calls APIENTRY16
function.

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Dec  7 12:42:43 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Dec  7 12:42:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13154] trunk/harbour
Message-ID: <E1NHhbf-0004Rl-AN@bj8yhf1.ch3.sourceforge.com>

Revision: 13154
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13154&view=rev
Author:   druzus
Date:     2009-12-07 17:42:41 +0000 (Mon, 07 Dec 2009)

Log Message:
-----------
2009-12-07 18:42 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/pp/ppcore.c
    * strip UTF-8 BOM signature from compiled .prg files

  * harbour/include/hbdefs.h
    + added HB_MACRONAME_JOIN() macro

  * harbour/include/hbinit.h
    ! fixed startup function declaration when HB_STRICT_ANSI_C macro is set

  * harbour/src/rdd/dbfcdx/dbfcdx1.c
    * modified to use unique names for startup functions

  * harbour/include/hbcdpreg.h
    * modified to use unique names in CP startup functions for non #pragma
      based initialization.

  * harbour/include/Makefile
  + harbour/include/hbgtreg.h
    + added default GT startup code in header file which can be
      included by GT drivers. This version uses unique function names
      for non #pragma based initialization.

  * harbour/src/rtl/gt_tpl/gt_tpl.c
  * harbour/src/rtl/gtdos/gtdos.c
  * harbour/src/rtl/gtwin/gtwin.c
  * harbour/src/rtl/gtxwc/gtxwc.c
  * harbour/src/rtl/gtcrs/gtcrs.c
  * harbour/src/rtl/gtstd/gtstd.c
  * harbour/src/rtl/gttrm/gttrm.c
  * harbour/src/rtl/gtcgi/gtcgi.c
  * harbour/src/rtl/gtos2/gtos2.c
  * harbour/src/rtl/gtsln/gtsln.c
  * harbour/src/rtl/gtpca/gtpca.c
  * harbour/src/rtl/gtgui/gtgui.c
  * harbour/src/rtl/gtwvt/gtwvt.c
  * harbour/contrib/gtalleg/gtalleg.c
  * harbour/contrib/gtqtc/gtqtc.cpp
  * harbour/contrib/gtwvg/gtwvg.c
  * harbour/contrib/hbct/ctwin.c
    * use #include "hbgtreg.h" for startup code

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtalleg/gtalleg.c
    trunk/harbour/contrib/gtqtc/gtqtc.cpp
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/hbct/ctwin.c
    trunk/harbour/include/Makefile
    trunk/harbour/include/hbcdpreg.h
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbinit.h
    trunk/harbour/src/pp/ppcore.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/rtl/gt_tpl/gt_tpl.c
    trunk/harbour/src/rtl/gtcgi/gtcgi.c
    trunk/harbour/src/rtl/gtcrs/gtcrs.c
    trunk/harbour/src/rtl/gtdos/gtdos.c
    trunk/harbour/src/rtl/gtgui/gtgui.c
    trunk/harbour/src/rtl/gtos2/gtos2.c
    trunk/harbour/src/rtl/gtpca/gtpca.c
    trunk/harbour/src/rtl/gtsln/gtsln.c
    trunk/harbour/src/rtl/gtstd/gtstd.c
    trunk/harbour/src/rtl/gttrm/gttrm.c
    trunk/harbour/src/rtl/gtwin/gtwin.c
    trunk/harbour/src/rtl/gtwvt/gtwvt.c
    trunk/harbour/src/rtl/gtxwc/gtxwc.c

Added Paths:
-----------
    trunk/harbour/include/hbgtreg.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Dec  7 12:44:00 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 12:44:08 2009
Subject: [Harbour] Harbour and unicode .prg files
In-Reply-To: <A1E9C2CE-FB77-463C-B914-23C04CFDF4DF@syenar.hu>
References: <496D4104-0893-40B3-880F-FABB1E7E3B08@syenar.hu>
	<20091207095832.GB16503@linux-4bod.home.aster.pl>
	<A1E9C2CE-FB77-463C-B914-23C04CFDF4DF@syenar.hu>
Message-ID: <20091207174359.GA25002@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, Szak?ts Viktor wrote:

Hi,

> > Anyhow if it's important then now I can add small code which will
> > simply strip UTF-8 signature from compiled .prg files.
> If it's not huge effort and don't make later modification 
> harder, I think it would be nice, as it'd open the way to 
> make experiments with such source files.

Added.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Dec  7 12:51:17 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 12:51:24 2009
Subject: [Harbour] bug?: SET( _SET_CODEPAGE, "UTF8" )
In-Reply-To: <7E83AA25-2AF3-425B-B8F6-F42E7D0E7FFD@syenar.hu>
References: <5D0B8B84-01DC-4F54-A259-DEE382A62B41@syenar.hu>
	<20091207100559.GD16503@linux-4bod.home.aster.pl>
	<74DF99E7-678B-49C3-AF34-919D31CC7889@syenar.hu>
	<20091207160403.GC7709@linux-4bod.home.aster.pl>
	<7E83AA25-2AF3-425B-B8F6-F42E7D0E7FFD@syenar.hu>
Message-ID: <20091207175117.GB25002@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, Szak?ts Viktor wrote:

Hi,

> So, I'm afraid I'm confused. For sure I don't want to 
> unblock it just for the sake of having it unlocked. But 
> now I can't see why it cannot work as main CP, but can 
> work as DB CP. I assume if it can be used in DB, sorting 
> must be working, so I wonder what are those 'national settings'?
> Sorry to force the matter, but I'd like to see if it's 
> possible to start in this direction already.

If you use UTF-8 as codepage for any table and create index
then pure binary sorting is used just like in "EN" CP.
For translations in operations like COPY TO or APPEND FROM
it does not make difference.

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Dec  7 13:29:28 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Dec  7 13:29:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13155] trunk/harbour
Message-ID: <E1NHiKu-0002EU-N8@c3vjzd1.ch3.sourceforge.com>

Revision: 13155
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13155&view=rev
Author:   druzus
Date:     2009-12-07 18:29:27 +0000 (Mon, 07 Dec 2009)

Log Message:
-----------
2009-12-07 19:29 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/global.mk
    ! fixed variable name in output message

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Mon Dec  7 14:16:02 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec  7 14:16:08 2009
Subject: [Harbour] bug?: HBQT_QTPTR_FROM_GCPOINTER()
In-Reply-To: <F09AB1D6-5269-495A-90FD-30457AD3231E@syenar.hu>
References: <F09AB1D6-5269-495A-90FD-30457AD3231E@syenar.hu>
Message-ID: <26682520.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> It's just a sort of hunch, since I don't have 
> test code and detailed theoretical proof for this, 
> but it looks like existing HBQT_QTPTR_FROM_GCPOINTER() 
> is a wrong concept and should not be used at all.
> 
> It converts GC pointer to a simple one.
> 
> In code it's used for some comparisons, but it's 
> also stored in object vars, which is very dangerous 
> to do as pointer may go invalid anytime, and 
> references aren't counted, etcetc.
> 
> To me it looks like something to be solved differently 
> to avoid GPF time-bombs.
> 

The function is absolutely necessary.
However storing this pointer in an instance variable was wrong.
I fixed it, will be commiting later. For all other purposes
It is used for comparison only.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/bug-%3A-HBQT_QTPTR_FROM_GCPOINTER%28%29-tp26676767p26682520.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Mon Dec  7 14:26:56 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec  7 14:27:03 2009
Subject: [Harbour] hbqt and MT / issues
In-Reply-To: <A77B4EAE-E3D5-4167-8F1A-A74238A1C1E4@syenar.hu>
References: <A77B4EAE-E3D5-4167-8F1A-A74238A1C1E4@syenar.hu>
Message-ID: <26682696.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> 1)
> 
> I'm seeing this code:
> ---
> void MyMainWindow::paintEvent( QPaintEvent * event )
> {
>    hb_threadMutexLock( s_mutex );
> 
>    [...]
> 
>    /* This is an ugly hack to control the way Qt executes its Paint Engine
>     * which appears to be "not reentrant". If paint message is received by
> two
>     * dialogs executing in different Harbour threads, appln GPF's.
>     * If current thread is forced to release CPU time then everything
> seems to be
>     * working fine. But then this slows down the navigation considerably.
>     * Until this issue is resolved, it seems, we cannot implement
> multi-window, multi-thread
>     * interface in Harbour. So sad...
>     */
>    #if defined( QT_EXECUTE_IN_THREADS )
>       hb_releaseCPU();
>    #endif
> 
>    hb_threadMutexUnlock( s_mutex );
> }
> ---
> 
> Is this workaround a good one? To me it looks to only delay 
> potential problems.
> 

If you look closely the code is not activated.
I kept is like this to let me remind in future why 
paint event in threaded implementation gives GPF 
without enabling it.




> 2)
> 
> I also see QT_MUTEXCREATE(), but is this the best way 
> to initialize C level mutexes? There is also QT_MUTEXDESTROY().
> 
> None of them is called from anywhere I checked.
> 
> Probably some automatic initialization plus atexit destructors 
> would be needed here. It seems that the mutex should only 
> be initialized if MT HVM is linked. Current code doesn't make 
> such guarantees.
> 

You checked wrongly. xbpgeneric.prg

/*----------------------------------------------------------------------*/

INIT PROCEDURE Qt_Start()

   Qt_MutexCreate()

   t_oDummy := XbpObject():new()

   s_oApp   := QApplication():new()

   RETURN

/*----------------------------------------------------------------------*/

EXIT PROCEDURE Qt_End()

   Qt_MutexDestroy()

   t_oDummy      := NIL
   t_oAppWindow  := NIL

   IF hb_isObject( s_oDeskTop )
      s_oDeskTop:oWidget:pPtr := 0
   endif

   s_oApp:quit()
   #if 0
   s_oApp:oWidget:pPtr := 0
   #endif
   RETURN

/*----------------------------------------------------------------------*/

<qupte>
3) 

QT_MYMAINWINDOW() returns non collected pointer, which means 
it must be release manually, of not a leak occurs.

Same thing with QT_QEVENTFILTER() and destroy counterpart.


Yes, on my TODO list. Just finding a better way to achieve it.
May be I need to change something in .qth.


4)

There is RELEASE_CODEBLOCKS() which needs to be called from 
user code. This hints that some things are never released 
automatically. This function is also not called from .prg level 
code present in SVN.

Difficult to judge what problems these will cause in a real 
app, but above points look like ones which could use some 
corrections.


This function can be removed as it is not called from anywhere.
Xbp engine cleans them transparently. It was the original concept
of Marcos but I implemented in different way. Rmoved.



Thank you for digging deep into HBQT code.
Actually I am looking for such type of observation which 
was missing earlier.

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/hbqt-and-MT---issues-tp26677065p26682696.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Mon Dec  7 14:30:41 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec  7 14:30:48 2009
Subject: [Harbour] BEGIN/END SEQUENCE  Fails or is intended as such ?
In-Reply-To: <20091207010330.GA11936@linux-4bod.home.aster.pl>
References: <26669736.post@talk.nabble.com>
	<20091207010330.GA11936@linux-4bod.home.aster.pl>
Message-ID: <26682735.post@talk.nabble.com>


Hello Przemek


Przemys?aw Czerpak wrote:
> 
> Please read in Clipper documentation what BEGIN SEQUENCE / RECOVER / END
> exactly does. RECOVER is activated only when error handler calls BREAK().
> I guess that you wanted to make sth like:
> 
>    /* Clipper compatible code */
> 
>    cbError := ErrorBlock( { || break() } )
>    BEGIN SEQUENCE
>       cValue := eval( &( "{|| " + cExp + "}" ) )
>    RECOVER
>       cValue := cExp
>    END SEQUENCE
>    ErrorBlock( cbError )
> 
> or the same using Harbour extension which allows to set error block only
> for given BEGIN SEQUENCE / END statement.
> 
>    BEGIN SEQUENCE WITH { || break() }
>       cValue := eval( &( "{|| " + cExp + "}" ) )
>    RECOVER
>       cValue := cExp
>    END SEQUENCE
> 

Just after posting the message I did realize that RECOVER always 
needs an error block. So I did fix the other way. But of course,
   BEGIN SEQUENCE WITH { || break() }
is a nice way where it is need on isolated level. So later I adopted this
syntax.

Thanks for reminding something I ever used and forgot at a crucial point.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/BEGIN-END-SEQUENCE--Fails-or-is-intended-as-such---tp26669736p26682735.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Mon Dec  7 14:59:50 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec  7 14:59:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <8B12C4D7-1CBD-49CF-9CF4-9CCD2CF3F6A9@syenar.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>
	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>
	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>
	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>
	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>
	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>
	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>
	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>
	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>
	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>
	<002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>
	<3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>
	<002801ca75b7$f7eba140$e7c2e3c0$@Bisz@t-online.hu>
	<32BC1722-4B82-43C5-B25A-AEDDA640E50C@syenar.hu>
	<002901ca75c3$bb7797d0$3266c770$@Bisz@t-online.hu>
	<439A0A49-169D-481C-9E34-AABB671BD36E@syenar.hu>
	<000101ca76a1$c32cb620$49862260$@Bisz@t-online.hu>
	<6845F674-E889-4B7C-8037-6230162CEF50@syenar.hu>
	<26669738.post@talk.nabble.com>
	<8B12C4D7-1CBD-49CF-9CF4-9CCD2CF3F6A9@syenar.hu>
Message-ID: <26683144.post@talk.nabble.com>


Hello


Viktor Szak?ts wrote:
> 
> "Exploits it" and "cannot imagine" doesn't mean it _requires_ it.
> 
> What I'm interested in, is whether HBQT _requires it_?
> 
> IMO, it should not require it, but may give extra features 
> if available, and for sure _be compatible with it_. If current 
> implementation _requires it_, which means it cannot work or 
> cannot reliably work without it, we should document this fact.
> 

HBQT may/may not _require it_ but HBXBP certainly _requires_ it.
>From the day one HBXBP acquired first few lines of code, I was 
very much clear about its objective, Xbase++ modal, which 
is compulsory a MT modal. 

Probably I do not need to explain more.



> What I notice is that you repeatedly fix GPFs by tweaking .prg 
> level code, which suggest that one can write such .prg code 
> which makes lower level components fail. This is unacceptable 
> IMO, and for sure makes it very difficult to work with such 
> component.
> 
> Since you know the HBQT details inside out, it would be nice 
> if you could give some hints on this topic.
> 

I never tweaked the .prg to fix GPF, I just added the closing calls 
which which were necessary to pacify the Qt engine, for example, 
discooencting the slots which cannot be implemented through GC 
engine. You can call it _lazyness_ to forget to write few more lines
which I should ever had.



> Not exactly.
> 
> The problem is that all I see is problems, and no final 
> resolutions to them and problems are just being piled 
> higher and higher. What I see that we're in a hurry building 
> on a foundation which is unstable. This is of course nice 
> and dandy in open-source, but it's also part of open-source 
> that such concerns that I expressed may be raised, and 
> ideally it will result in answers, and more general knowledge 
> about the topic and eventually it will result in code fixes, 
> and finally in robust code.
> 
> In this e-mail I was trying to get some sort of status 
> about problems, because it's quite difficult to see where 
> we're now. Random GPFs are usual, and fixed in .prg code 
> and memory issues are not closed AFAIK (but I may be wrong).
> 
> This causes that we don't know where to look where any 
> problems occur. Look at the struggle with 4.6.0 and MinGW.
> We're still unsure whether we need C++ mode, your .prg 
> level fix or now MT mode to make the problems disappear :(
> 
> I've spent two frustrating days on this, so I decided to 
> write this letter to try debunking these problems from the 
> root. I hope it will happen.
> 
> Now it seems some theories (like C++ mode) were false and 
> standard (new) MinGW can be used, now the only problem is that 
> there's no easily installable MinGW version, but this will 
> be solved by time, so it's not showstopper for us. MSVC binary 
> build of QT _is_ frustrating, but we didn't lose much here, 
> as 4.5.x didn't have such build at all, so we stand at the 
> same place.
> 
> IMO these areas should be thoroughly inspected in HBQT to 
> make it stable platform:
> 
> 1) Memory handling. No leaks, reference counting, 
>    whatever is needed, and automatic. It should be 
>    transparent to .prg level programmer.
>    IOW: _whatever_ user does from .prg, it should never 
>    ever cause a memory leak or double freeing of memory.
> 2) Avoiding all GPFs that may result from calling 
>    any HBQT wrappers with any wrong parameters, or any 
>    sort of random order.
>    This means HBQT should throw RTEs or handle invalid 
>    (NULL) pointers, and there should be no reference 
>    to freed pointersm, etc etc. 
>    IOW: _whatever_ user does from .prg, it should never 
>    ever cause a GPF.
> 3) Separation of components. I've written more about 
>    this. This isn't a showstopper, but seems an important 
>    task.
> 
> My only concern towards QT _which is out of our control_, 
> is that it's very heavy and can't be linked statically.
> 
> But, from all other aspects it looks quite good and it 
> will probably catch on even more, so IMO we should not 
> drop but, but rather try to fix all the parts we can 
> and make it a robust platform for Harbour.
> 

The above all points are valid.
But probably I am not expert on all matters. So a deeper
attention by all of you is needed to address this issue.
My focus at this point is to create the framework and working 
engine. Lately GC pointers were implemented but I could not 
recover consumed memory completely. But may be it is just a 
matter of time before me or someone else hits the bull's eye.

Separation of Components: Well, I do not think any further 
separation will do. QtWebKit was an exception and it is 
isolated, though it is needed for HBXBP to be compatible 
with Xbase++'s XbpHTMLViewer(), but we can live without it.
All other components are inter-dependant.

For deeper reasons I request today, and had requested in the past too,
Przemek's attention to this project. 

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13103--trunk-harbour-tp26627429p26683144.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Mon Dec  7 15:08:37 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec  7 15:08:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <000001ca771f$7f50e560$7df2b020$@Bisz@t-online.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>
	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>
	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>
	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>
	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>
	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>
	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>
	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>
	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>
	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>
	<002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>
	<3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>
	<002801ca75b7$f7eba140$e7c2e3c0$@Bisz@t-online.hu>
	<32BC1722-4B82-43C5-B25A-AEDDA640E50C@syenar.hu>
	<002901ca75c3$bb7797d0$3266c770$@Bisz@t-online.hu>
	<439A0A49-169D-481C-9E34-AABB671BD36E@syenar.hu>
	<000101ca76a1$c32cb620$49862260$@Bisz@t-online.hu>
	<6845F674-E889-4B7C-8037-6230162CEF50@syenar.hu>
	<000001ca771f$7f50e560$7df2b020$@Bisz@t-online.hu>
Message-ID: <26683281.post@talk.nabble.com>


Hi Istvan


Bisz Istv?n wrote:
> 
> Here I can share just my experiences with the harbour Qt implementation
> testing. I spent a lot of time to clarify the build problems with 4.6 and
> after the successful building the resulted executable testing. My first
> conclusion was that C++ mode force to the whole build results strange GPF
> free executables. BTW I repeated these test with the previous Qt 4.5.3 and
> the results was the same with the native Windows and linux (Fedora 12)
> cross-builds: the C mode generates executables with strange GPF-s. As I
> understand from your mails this was specific to my development
> environment,
> hard to understand taking into consideration the cross-build experiences.
> So
> I tried to enter deeper in this issue with the recommended TDM Mingw
> offering GCC 4.4.1. and without forcing the C++ mode building.
> 
> See below a debug log (at the end of this mail).
> 
> In this log there are thread activities, so I tried to check that all the
> things are ok serving multithreading. I was very surprised that the
> default
> build offers just ST mode. After switching to the MT mode, the resulting
> executables in C mode in native Windows and linux cross-builds do not
> present the mentioned strange GPF-s. So please consider these just
> experiments and not "theory".
> 

Thank you for the experiments.

The above finding may lead to recovery of so many issues which 
the group could never answer. Just to have a feel of this change
I endorse CPP mode as the default mode fot HBQT. Later if it is not 
felt ok, we can always revert it.

Till date I ever experimented with default Harbour builds and Qt 4.5.1 only.
I never tried with later versions of Qt because of the fact that it 
will lead to more cheos if someone will try to use Qt 4.5 only.

I would suggest, for the time being, drop Qt 4.6 support. Let it be mature 
enough before we make a final decision. Then I will recommend about 
minimum version to be Qt 4.6 which Harbour supports.  Once we 
implement Qt 4.6 wrappers, it will not be possible to link with Qt 4.5
anyway.

Regards
Pritpal Bedi



-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13103--trunk-harbour-tp26627429p26683281.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Dec  7 15:13:53 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 15:14:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13154] trunk/harbour
In-Reply-To: <E1NHhbf-0004Rl-AN@bj8yhf1.ch3.sourceforge.com>
References: <E1NHhbf-0004Rl-AN@bj8yhf1.ch3.sourceforge.com>
Message-ID: <9FF8EF83-304B-48FA-943C-B5DEEAF4E9CB@syenar.hu>

> Log Message:
> -----------
> 2009-12-07 18:42 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/pp/ppcore.c
>    * strip UTF-8 BOM signature from compiled .prg files

Nice, thanks a bunch.

Brgds,
Viktor

From bedipritpal at hotmail.com  Mon Dec  7 15:14:44 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec  7 15:14:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <DFCE53B6-C1F3-4CEB-A533-080002B9D17D@syenar.hu>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>
	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>
	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>
	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>
	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>
	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>
	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>
	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>
	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>
	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>
	<002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>
	<3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>
	<002801ca75b7$f7eba140$e7c2e3c0$@Bisz@t-online.hu>
	<32BC1722-4B82-43C5-B25A-AEDDA640E50C@syenar.hu>
	<002901ca75c3$bb7797d0$3266c770$@Bisz@t-online.hu>
	<439A0A49-169D-481C-9E34-AABB671BD36E@syenar.hu>
	<000101ca76a1$c32cb620$49862260$@Bisz@t-online.hu>
	<6845F674-E889-4B7C-8037-6230162CEF50@syenar.hu>
	<000001ca771f$7f50e560$7df2b020$@Bisz@t-online.hu>
	<DFCE53B6-C1F3-4CEB-A533-080002B9D17D@syenar.hu>
Message-ID: <26683381.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> Me - still in the "hunch" mode - am still finding it odd that 
> we need to use MT HVM to make QT not GPF. I perfectly believe 
> your tests are correct and for you MT solved the problems, but
> we still don't see the deeper reason.
> 
> For sure QT itself cannot require MT _HVM_, because it also 
> works without Harbour. So the culprit could be HBQT, which 
> makes use of, or requires HVM MT features to solve some 
> problems on the wrapper level. It's also possible that HBQT 
> has some explicit support for MT HVM mode, and this support 
> accidentally broke ST builds. If true, it's IMO wrong, but 
> beyond any personal opinions we should first of all document 
> it, then possibly remove such MT HVM requirement and make it 
> work in both modes without GPFs.
> 

HBQT _does not_ implements MT in its wrappers anyway.
"In HBQT", I assume that no Qt level MT support is implemented.
However I use mutexes in hbqt_slotc.cpp which is purely 
on Harbour level.

There could be one exception, if it has anything to do with 
this issue, that there is a QThread() class wrappers in hbqtcore.
But QThread() call is nowhere made in any of the implementations.

Beyond that I am not very much informed about this aspect.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13103--trunk-harbour-tp26627429p26683381.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Dec  7 15:20:53 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 15:21:04 2009
Subject: [Harbour] bug?: HBQT_QTPTR_FROM_GCPOINTER()
In-Reply-To: <26682520.post@talk.nabble.com>
References: <F09AB1D6-5269-495A-90FD-30457AD3231E@syenar.hu>
	<26682520.post@talk.nabble.com>
Message-ID: <70A5F77F-6AB9-42F9-8F6D-E9952F144C5F@syenar.hu>

> Viktor Szak?ts wrote:
>> 
>> It's just a sort of hunch, since I don't have 
>> test code and detailed theoretical proof for this, 
>> but it looks like existing HBQT_QTPTR_FROM_GCPOINTER() 
>> is a wrong concept and should not be used at all.
>> 
>> It converts GC pointer to a simple one.
>> 
>> In code it's used for some comparisons, but it's 
>> also stored in object vars, which is very dangerous 
>> to do as pointer may go invalid anytime, and 
>> references aren't counted, etcetc.
>> 
>> To me it looks like something to be solved differently 
>> to avoid GPF time-bombs.
>> 
> 
> The function is absolutely necessary.
> However storing this pointer in an instance variable was wrong.
> I fixed it, will be commiting later. For all other purposes
> It is used for comparison only.

Thanks. The problem with this function though, 
is that _anyone can_ mess up internals pretty badly 
from .prg level if using it without being careful or 
without having expert knowledge about memory handling 
internals. 99.99% of Harbour programmers don't have 
such expertise, and will never have. No one can 
guarantee that code won't use this, or that it will 
use it as intended.

IOW: It's not safe.

I'd suggest to use something else, such functions 
should not be present in HBQT if we ever want to 
call it a quality component meant for actual users. I'm 
sure there are alternative solutions. It's only used 
in a few places, so even some specific built-in comparison 
function would do the job nicely.

In a generic way this is a time-bomb, and we only 
have to wait to cause GPF in best case (!) and memory 
/ data corruption in not so lucky cases.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Dec  7 15:36:38 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 15:36:51 2009
Subject: [Harbour] hbqt and MT / issues
In-Reply-To: <26682696.post@talk.nabble.com>
References: <A77B4EAE-E3D5-4167-8F1A-A74238A1C1E4@syenar.hu>
	<26682696.post@talk.nabble.com>
Message-ID: <0DE2EF80-B7DE-48A6-991F-783A9861198C@syenar.hu>

Hi Pritpal,

> Viktor Szak?ts wrote:
>> 
>> 1)
>> 
>> I'm seeing this code:
>> ---
>> void MyMainWindow::paintEvent( QPaintEvent * event )
>> {
>>   hb_threadMutexLock( s_mutex );
>> 
>>   [...]
>> 
>>   /* This is an ugly hack to control the way Qt executes its Paint Engine
>>    * which appears to be "not reentrant". If paint message is received by
>> two
>>    * dialogs executing in different Harbour threads, appln GPF's.
>>    * If current thread is forced to release CPU time then everything
>> seems to be
>>    * working fine. But then this slows down the navigation considerably.
>>    * Until this issue is resolved, it seems, we cannot implement
>> multi-window, multi-thread
>>    * interface in Harbour. So sad...
>>    */
>>   #if defined( QT_EXECUTE_IN_THREADS )
>>      hb_releaseCPU();
>>   #endif
>> 
>>   hb_threadMutexUnlock( s_mutex );
>> }
>> ---
>> 
>> Is this workaround a good one? To me it looks to only delay 
>> potential problems.
>> 
> 
> If you look closely the code is not activated.
> I kept is like this to let me remind in future why 
> paint event in threaded implementation gives GPF 
> without enabling it.

Sorry, but it extremely difficult to evaluate code which 
has plenty of #if 0's in them. Very easy to miss that 
it's commented. So: If some code is not needed, it should 
not be there at all, this way any such misunderstanding 
can be easily avoided. Also notice that when one 'grep's 
for something, such #if 0's can't be seen. It's best practice 
to remove commented, unused, not needed code. We have SVN 
system to remember all those bits, so it can be retrieved 
in case it's ever needed in the future. Or, such bits can 
be stored on local machine.

Even I could easily delete all #if 0 code, my only problem 
with this approach is that such commented code reappears 
pretty quickly, so this is something which should be taken 
care of by developers working on that code.

>> 2)
>> 
>> I also see QT_MUTEXCREATE(), but is this the best way 
>> to initialize C level mutexes? There is also QT_MUTEXDESTROY().
>> 
>> None of them is called from anywhere I checked.
>> 
>> Probably some automatic initialization plus atexit destructors 
>> would be needed here. It seems that the mutex should only 
>> be initialized if MT HVM is linked. Current code doesn't make 
>> such guarantees.
>> 
> 
> You checked wrongly. xbpgeneric.prg
> 
> /*----------------------------------------------------------------------*/
> 
> INIT PROCEDURE Qt_Start()
> 
>   Qt_MutexCreate()
> 
>   t_oDummy := XbpObject():new()
> 
>   s_oApp   := QApplication():new()
> 
>   RETURN
> 
> /*----------------------------------------------------------------------*/
> 
> EXIT PROCEDURE Qt_End()
> 
>   Qt_MutexDestroy()
> 
>   t_oDummy      := NIL
>   t_oAppWindow  := NIL
> 
>   IF hb_isObject( s_oDeskTop )
>      s_oDeskTop:oWidget:pPtr := 0
>   endif
> 
>   s_oApp:quit()
>   #if 0
>   s_oApp:oWidget:pPtr := 0
>   #endif
>   RETURN

It's wrong. First of all HBQT is not only meant to be used by 
HBXBP, and app code which directly uses HBQT can't be expected 
to have such stubs. It's just a way to mess up ones HBQT-based app.

Such crucial initialization should be done automatically and before 
.prg level code is ever executed, otherwise its another time-bomb.

F.e. even in above solution it's not guaranteed that in custom 
INIT PROC, QT is already available, or that it's still available 
on user EXIT PROCs.

F.e. contrib/hbwin/win_com.c has such C level automatic 
initialization, plus even HBQT uses hb_vmAtExit() to clean up 
stuff on exit. Probably it could be used here, too.

> <qupte>
> 3) 
> 
> QT_MYMAINWINDOW() returns non collected pointer, which means 
> it must be release manually, of not a leak occurs.
> 
> Same thing with QT_QEVENTFILTER() and destroy counterpart.
> 
> 
> Yes, on my TODO list. Just finding a better way to achieve it.
> May be I need to change something in .qth.

That's good, thanks.

> 4)
> 
> There is RELEASE_CODEBLOCKS() which needs to be called from 
> user code. This hints that some things are never released 
> automatically. This function is also not called from .prg level 
> code present in SVN.
> 
> Difficult to judge what problems these will cause in a real 
> app, but above points look like ones which could use some 
> corrections.
> 
> 
> This function can be removed as it is not called from anywhere.
> Xbp engine cleans them transparently. It was the original concept
> of Marcos but I implemented in different way. Rmoved.

Please remember that XBP engine is just one .prg layer on top 
of HBQT. Such cleanup isn't the job of XBP, but it should be 
done in a self-contained way inside HBQT to have a foolproof, 
standalone component.

IOW: If someone choses not to use HBXBP, HBQT should still be 
usable without low-level hacks maintained by app programmer.

This is also a basic requirement to freely mix HBQT and HBXBP 
APIs together in one app, like hbide.

> Thank you for digging deep into HBQT code.
> Actually I am looking for such type of observation which 
> was missing earlier.

No problem, and sorry to sound harsh sometimes, it's not 
meant as personal disrespect or an attack against HBQT, but 
I'd like to get these messages straight, especially since 
I've told some of them already, and similar problems keep 
reappearing from time to time.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Dec  7 15:58:12 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 15:58:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <26683144.post@talk.nabble.com>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>
	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>
	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>
	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>
	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>
	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>
	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>
	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>
	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>
	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>
	<002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>
	<3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>
	<002801ca75b7$f7eba140$e7c2e3c0$@Bisz@t-online.hu>
	<32BC1722-4B82-43C5-B25A-AEDDA640E50C@syenar.hu>
	<002901ca75c3$bb7797d0$3266c770$@Bisz@t-online.hu>
	<439A0A49-169D-481C-9E34-AABB671BD36E@syenar.hu>
	<000101ca76a1$c32cb620$49862260$@Bisz@t-online.hu>
	<6845F674-E889-4B7C-8037-6230162CEF50@syenar.hu>
	<26669738.post@talk.nabble.com>
	<8B12C4D7-1CBD-49CF-9CF4-9CCD2CF3F6A9@syenar.hu>
	<26683144.post@talk.nabble.com>
Message-ID: <3E3904D2-5887-4B3E-B2CA-ED03F3F35935@syenar.hu>

>> IMO, it should not require it, but may give extra features 
>> if available, and for sure _be compatible with it_. If current 
>> implementation _requires it_, which means it cannot work or 
>> cannot reliably work without it, we should document this fact.
>> 
> 
> HBQT may/may not _require it_ but HBXBP certainly _requires_ it.
>> From the day one HBXBP acquired first few lines of code, I was 
> very much clear about its objective, Xbase++ modal, which 
> is compulsory a MT modal. 
> 
> Probably I do not need to explain more.

Sorry, but it's still not clear if MT is required 
and why, you missed the point again.

HBQT != HBXBP, so I don't care here whether Xbase++ 
supports, needs or requires MT mode. HBQT is independent 
from HBXBP, and is a wrapper for QT lib. QT lib has nowhere 
such requirement that MT HVM must be used. Such requirement 
would be nonsense anyway, as we're here talking about _HVM_ MT 
mode, and again QT doesn't know anything about our HVM, so 
it cannot have any requirements towards it.

This should simply be cleaned.

>> What I notice is that you repeatedly fix GPFs by tweaking .prg 
>> level code, which suggest that one can write such .prg code 
>> which makes lower level components fail. This is unacceptable 
>> IMO, and for sure makes it very difficult to work with such 
>> component.
>> 
>> Since you know the HBQT details inside out, it would be nice 
>> if you could give some hints on this topic.
>> 
> 
> I never tweaked the .prg to fix GPF, I just added the closing calls 
> which which were necessary to pacify the Qt engine, for example, 
> discooencting the slots which cannot be implemented through GC 
> engine. You can call it _lazyness_ to forget to write few more lines
> which I should ever had.

No, I call this an extremely dangerous implementation.
I don't call it lazyness, I call business as usual to 
have mistakes in any code, like .prg level code in business 
app. If such mistakes can result in GPF for _whatever_ reason, 
it means the HBQT wrapper is lacking some extremely important 
features and it's not ready for prime time.

I'm sorry I cannot comment on the exact issue, so can't 
argue whether there is better solution for it, but in 
programming in general, "cannot be implemented" very rarely 
holds, so I'm sure there is a way to solve it cleanly, maybe 
it needs some extra ideas or extra clever tricks.

>> Not exactly.
>> My only concern towards QT _which is out of our control_, 
>> is that it's very heavy and can't be linked statically.
>> 
>> But, from all other aspects it looks quite good and it 
>> will probably catch on even more, so IMO we should not 
>> drop but, but rather try to fix all the parts we can 
>> and make it a robust platform for Harbour.
>> 
> 
> The above all points are valid.
> But probably I am not expert on all matters. So a deeper
> attention by all of you is needed to address this issue.
> My focus at this point is to create the framework and working 
> engine. Lately GC pointers were implemented but I could not 
> recover consumed memory completely. But may be it is just a 
> matter of time before me or someone else hits the bull's eye.
> 
> Separation of Components: Well, I do not think any further 
> separation will do. QtWebKit was an exception and it is 
> isolated, though it is needed for HBXBP to be compatible 
> with Xbase++'s XbpHTMLViewer(), but we can live without it.
> All other components are inter-dependant.

They can be inter-dependent, but do you think there is a 
way to modularize the slot system f.e.? (hbqt_slots.cpp)

Right now it seems that even by using the smallest 
bit of HBQT, it will automatically pull in the whole QT 
interface and I mean all of them. Maybe this is normal for 
QT apps, but to me it looks rather strange and makes HBQT 
unsuitable for anything but huge integrated apps.

This also limits the extent HBQT can currently support 
QT components, as each new component adds to the overall 
"cost" of _all_ QT apps. I mean, if we added support for 
"QTFancy" class, everyone would have to start shipping 
qtfancy.dll whether he uses it or not. This doesn't make 
it "scale" well.

Anyhow, for now this is rather optimization issue, so first 
we should solve the showstoppers, which is 1) and 2).

BTW, QTWebKit was removed quickly, and I believe without 
fully evaluating the possibility of having it there, jut 
in a non-integrated way. Anyhow maybe in the future when 
we reach this topic and solve it, it will be possible to 
readd QTWebKit. And other extra QT components for that 
matter.

> For deeper reasons I request today, and had requested in the past too,
> Przemek's attention to this project. 

I also invite others to join the discussion and 
participation, but that's not something we can order, 
probably everyone is participating where he/she finds 
some personal interest. At this stage you can probably 
expect general input only and directions and you should 
do the bulk of coding, since you know it the best. It 
also helps if there are specific questions you're seeking 
answers for.

Sometimes I feel that my comments are ignored and it 
doesn't really help the case from my side.

F.e. here we have these 3 memory handling models... I'm 
still in the dark what they are and why do have three, 
what are the differences, etc.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Dec  7 16:01:55 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 16:02:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
In-Reply-To: <26683381.post@talk.nabble.com>
References: <E1NGDET-0001xl-8U@c3vjzd1.ch3.sourceforge.com>
	<609353e70912030811t72a09c32yc339b037cd6d409b@mail.gmail.com>
	<001d01ca7435$543727f0$fca577d0$@Bisz@t-online.hu>
	<000f01ca7462$0e579bc0$2b06d340$@Bisz@t-online.hu>
	<580627E4-1E26-4E9D-AA77-2FA57BFBE5AD@syenar.hu>
	<000001ca7589$b7591b40$260b51c0$@Bisz@t-online.hu>
	<12C11578-8B93-4A4A-B491-66BAABADB493@syenar.hu>
	<001101ca759b$3f1aebb0$bd50c310$@Bisz@t-online.hu>
	<1ED8162C-BDC6-4275-8A1C-834A20887A1A@syenar.hu>
	<001201ca75a2$45414e60$cfc3eb20$@Bisz@t-online.hu>
	<83869A88-01D1-48DA-BDAB-436B69BE92C5@syenar.hu>
	<002601ca75af$bf957490$3ec05db0$@Bisz@t-online.hu>
	<3063B7B4-5E21-4F62-8A6A-EAB6CCF5543C@syenar.hu>
	<002801ca75b7$f7eba140$e7c2e3c0$@Bisz@t-online.hu>
	<32BC1722-4B82-43C5-B25A-AEDDA640E50C@syenar.hu>
	<002901ca75c3$bb7797d0$3266c770$@Bisz@t-online.hu>
	<439A0A49-169D-481C-9E34-AABB671BD36E@syenar.hu>
	<000101ca76a1$c32cb620$49862260$@Bisz@t-online.hu>
	<6845F674-E889-4B7C-8037-6230162CEF50@syenar.hu>
	<000001ca771f$7f50e560$7df2b020$@Bisz@t-online.hu>
	<DFCE53B6-C1F3-4CEB-A533-080002B9D17D@syenar.hu>
	<26683381.post@talk.nabble.com>
Message-ID: <DD7B3DD1-0693-4B90-A08C-42802D8B8534@syenar.hu>

>> Me - still in the "hunch" mode - am still finding it odd that 
>> we need to use MT HVM to make QT not GPF. I perfectly believe 
>> your tests are correct and for you MT solved the problems, but
>> we still don't see the deeper reason.
>> 
>> For sure QT itself cannot require MT _HVM_, because it also 
>> works without Harbour. So the culprit could be HBQT, which 
>> makes use of, or requires HVM MT features to solve some 
>> problems on the wrapper level. It's also possible that HBQT 
>> has some explicit support for MT HVM mode, and this support 
>> accidentally broke ST builds. If true, it's IMO wrong, but 
>> beyond any personal opinions we should first of all document 
>> it, then possibly remove such MT HVM requirement and make it 
>> work in both modes without GPFs.
>> 
> 
> HBQT _does not_ implements MT in its wrappers anyway.
> "In HBQT", I assume that no Qt level MT support is implemented.
> However I use mutexes in hbqt_slotc.cpp which is purely 
> on Harbour level.

I also couldn't find proof for any of this, but 
maybe some code cleaning could be done in current 
mutex support. F.e. mutex initialization and deinitialization, 
maybe more.

> There could be one exception, if it has anything to do with 
> this issue, that there is a QThread() class wrappers in hbqtcore.
> But QThread() call is nowhere made in any of the implementations.

I don't think this has anything to do with our MT, 
unless .prg level code is called from these QT threads.

Maybe the best would be drop support for QThread() 
as we already have our own, and it's not very easy 
to make two different MT interfaces live together.

Brgds,
Viktor

From ice at extreme.hu  Mon Dec  7 16:57:00 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Mon Dec  7 16:57:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13154] trunk/harbour
In-Reply-To: <E1NHhbf-0004Rl-AN@bj8yhf1.ch3.sourceforge.com>
References: <E1NHhbf-0004Rl-AN@bj8yhf1.ch3.sourceforge.com>
Message-ID: <alpine.DEB.2.00.0912072256270.8775@dawn.royalcomp.hu>

On Mon, 7 Dec 2009, druzus@users.sourceforge.net wrote:

hi,

 > Revision: 13154

 >   * harbour/src/rdd/dbfcdx/dbfcdx1.c
 >     * modified to use unique names for startup functions

yup, much better now, all artifacts seem to have disappeared, thanks!


-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Mon Dec  7 17:17:22 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 17:17:35 2009
Subject: [Harbour] bug?: HBQT: hb_vmRequestReenter() calls without
	hb_vmRequestRestore()
Message-ID: <55B90E22-D100-4CEE-867E-B038F786B8A8@syenar.hu>

Hi Pritpal,

I've just checked hbqt_slots.cpp and there are _many_
hb_vmRequestReenter() calls without hb_vmRequestRestore() 
pairs.

I don't know the consequences, but it doesn't seem right.

Brgds,
Viktor

From bedipritpal at hotmail.com  Mon Dec  7 18:44:47 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec  7 18:44:53 2009
Subject: [Harbour] bug?: HBQT: hb_vmRequestReenter() calls without
	hb_vmRequestRestore()
In-Reply-To: <55B90E22-D100-4CEE-867E-B038F786B8A8@syenar.hu>
References: <55B90E22-D100-4CEE-867E-B038F786B8A8@syenar.hu>
Message-ID: <26686367.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> I've just checked hbqt_slots.cpp and there are _many_
> hb_vmRequestReenter() calls without hb_vmRequestRestore() 
> pairs.
> 
> I don't know the consequences, but it doesn't seem right.
> 

Matched.

I also do not know its implications, Przemek ?

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/bug-%3A-HBQT%3A-hb_vmRequestReenter%28%29-calls-without-hb_vmRequestRestore%28%29-tp26685232p26686367.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Mon Dec  7 19:10:18 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Dec  7 19:10:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13156] trunk/harbour
Message-ID: <E1NHnek-00045H-SV@bj8yhf1.ch3.sourceforge.com>

Revision: 13156
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13156&view=rev
Author:   vszakats
Date:     2009-12-08 00:10:17 +0000 (Tue, 08 Dec 2009)

Log Message:
-----------
2009-12-08 01:09 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  + contrib/hbqt/hbqt_hbqtsyntaxhighlighter.cpp
  + contrib/hbqt/hbqt_hbqtdbfmodel.cpp
  + contrib/hbqt/hbqt_hbqttableview.cpp
  + contrib/hbqt/hbqt_hbqtmydrawingarea.cpp
  * contrib/hbqt/hbqt_destruct.cpp
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/hbqt_slots.h
  * contrib/hbqt/Makefile
    * Formatting (some of these generated long lines, but for now I had to see what's
      happening in code)
    * Moved out some classes from hbqt_slots.cpp. (TODO/TOFIX: renaming, moving declarations)
    ! Fixed missing hb_vmRequestRestore() calls. (lots)
    + Added TOFIX hbqt_gcpointer();
    % Certain functions marked static.
    % Optimized out listActv vars.
    - Deleted commented code.

  * contrib/rddads/adsx.c
  * contrib/rddads/ads1.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.h
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/contrib/rddads/adsx.c

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/hbqt_hbqtdbfmodel.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqtmydrawingarea.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqtsyntaxhighlighter.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqttableview.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Dec  7 19:11:34 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 19:11:44 2009
Subject: [Harbour] HBQT problems
Message-ID: <09B34C46-5E81-406A-93FE-98B6A3C70787@syenar.hu>

Hi All,

Some other discoveries, which should probably be fixed:

1) QSyntaxHighlighter is not a wrapper of QT class with same name, 
   but a customized Harbour version, named HbSyntaxHighlighter. 
   This is wrong, such special class should be added as such on 
   .prg level with alternate wrappers.
2) HbSyntaxHighlighter is stored in hbqt_slots.cpp instead of 
   local file next to wrappers. This violates separation of 
   components by placing local stuff to central file.

3) Same goes (with possible differences in details) to these classes:

- MyMainWindow
- MyDrawingArea
- HbDbfModel
- HbTableView

MyMainWindow and MyDrawingArea should be given some 
more meaningful name, like HBQTMainWindow, HBQTDrawingArea.

4) We should define a common prefix for extended QT classes, 
   could be "HBQT". This means these should also be renamed:

MyMainWindow -> HBQTMainWindow
MyDrawingArea -> HBQTDrawingArea
HbSyntaxHighlighter -> HBQTSyntaxHighlighter
HbDbfModel -> HBQTDbfModel
HbTableView -> HBQTTableView

Of course by knowing the exact purpose of these inherited 
classes, we can give them even more meaningful names, 
like HBQTDbfModelXBP, or HBQTSyntaxHighlighterIDE.

Which leads to the next point: 

5) Why HBXBP and HBIDE specific stuff is present in HBQT?

I know we agreed not to add C/C++ stuff to HBXBP 
(and possibly not to HBIDE), but it's not solution to 
trick this rule by placing HBXBP/HBIDE specific C++ stuff 
to HBQT lib. HBQT is generic lib, should never contain 
app specific stuff like that.

Possible good solution is to extend wrappers in HBQT so 
that such features can be implemented on .prg level.

6) Several functions are not marked as static, while they are.

7) listBlock.clear() will clear a list of PHB_ITEMs stored 
   in a container, but nothing ensures that these items are 
   actually freed with hb_itemRelease().

I tried to fix some of these, but it's just scratching the 
surface.

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Mon Dec  7 19:31:11 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Dec  7 19:31:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13157] trunk/harbour
Message-ID: <E1NHnyx-0004ro-Bm@74yxhf1.ch3.sourceforge.com>

Revision: 13157
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13157&view=rev
Author:   vouchcac
Date:     2009-12-08 00:31:10 +0000 (Tue, 08 Dec 2009)

Log Message:
-----------
2009-12-07 16:30 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
    + Added some more debug code.
      Now HBIDE exits cleanly.

  * contrib/hbqt/hbqt_destruct.cpp
    - Removed HBQT_QTPTR_FROM_GCPOINTER()
    + Added   ISEQUALGCQTPOINTER()

  * contrib/hbqt/hbqt_slots.cpp
    ! Fixed MainWindow::~MainWindow() calls. Was a reason FOR many GPFs.

  * contrib/hbqt/qtgui/QApplication.cpp
  * contrib/hbqt/qth/QApplication.qth
    - Removed call to Qt_destroy_codeblocks().

  * contrib/hbxbp/xbpfontdialog.prg
    ! Proper destruction of font and font metrix.
  * contrib/hbxbp/xbptabpage.prg
    % Replaced call to HBQT_QTPTR_FROM_GCPOINTER() => IsEqualGcQtPointer()
  * contrib/hbxbp/xbptreeview.prg
    % Replaced call to HBQT_QTPTR_FROM_GCPOINTER() => IsEqualGcQtPointer()
  * contrib/hbxbp/xbpwindow.prg
    % Replaced call to HBQT_QTPTR_FROM_GCPOINTER() => IsEqualGcQtPointer()
  * contrib/hbxbp/tests/demoxbp.prg
    ! Test calls to overview memory usage with different modes to release Qt pointers.
      Now it exits cleanly.
  * contrib/hbide/hbide.prg
    + Added some more debug code.
      Now HBIDE exits cleanly.

  * contrib/hbqt/hbqt_destruct.cpp
    - Removed HBQT_QTPTR_FROM_GCPOINTER()
    + Added   ISEQUALGCQTPOINTER()

  * contrib/hbqt/hbqt_slots.cpp
    ! Matched  hb_vmRequestReenter() / hb_vmRequestRestore() calls.
    ! Fixed MainWindow::~MainWindow() calls. Was a reason FOR many GPFs.

  * contrib/hbqt/qtgui/QApplication.cpp
  * contrib/hbqt/qth/QApplication.qth
    - Removed call to Qt_destroy_codeblocks().

  * contrib/hbxbp/xbpfontdialog.prg
    ! Proper destruction of font and font metrix.
  * contrib/hbxbp/xbptabpage.prg
    % Replaced call to HBQT_QTPTR_FROM_GCPOINTER() => IsEqualGcQtPointer()
  * contrib/hbxbp/xbptreeview.prg
    % Replaced call to HBQT_QTPTR_FROM_GCPOINTER() => IsEqualGcQtPointer()
  * contrib/hbxbp/xbpwindow.prg
    % Replaced call to HBQT_QTPTR_FROM_GCPOINTER() => IsEqualGcQtPointer()
  * contrib/hbxbp/tests/demoxbp.prg
    ! Test calls to overview memory usage with different modes to release Qt pointers.
      Now it exits cleanly.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/qtgui/QApplication.cpp
    trunk/harbour/contrib/hbqt/qth/QApplication.qth
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpfontdialog.prg
    trunk/harbour/contrib/hbxbp/xbptabpage.prg
    trunk/harbour/contrib/hbxbp/xbptreeview.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Mon Dec  7 19:44:04 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec  7 19:44:11 2009
Subject: [Harbour] HBXBP - Broken after last two commits
Message-ID: <26686957.post@talk.nabble.com>


Hello Viktor

Last two commits in succession has broken demoxbp
which GPF's on startup, possibly when building XbpBrowse().
Did you compiled demoxbp before commit ?

I ask because yours and mine commits has conflicts when I started.

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/HBXBP---Broken-after-last-two-commits-tp26686957p26686957.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Mon Dec  7 19:46:13 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 19:46:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13154] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0912072256270.8775@dawn.royalcomp.hu>
References: <E1NHhbf-0004Rl-AN@bj8yhf1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0912072256270.8775@dawn.royalcomp.hu>
Message-ID: <20091208004613.GA24185@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, Tamas TEVESZ wrote:

Hi,

>  > Revision: 13154
>  >   * harbour/src/rdd/dbfcdx/dbfcdx1.c
>  >     * modified to use unique names for startup functions
> yup, much better now, all artifacts seem to have disappeared, thanks!

Yes, but please remember what I wrote about HB_STRICT_ANSI_C macro.
It's only a dummy macro which can help in creating new startup code
but it's not working solution.
BTW what compiler/platform you are using?

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Dec  7 19:48:22 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec  7 19:48:31 2009
Subject: [Harbour] HBXBP - Broken after last two commits
In-Reply-To: <26686957.post@talk.nabble.com>
References: <26686957.post@talk.nabble.com>
Message-ID: <B60A1CBA-9501-404B-A818-03658E5FF5D6@syenar.hu>

> Hello Viktor
> 
> Last two commits in succession has broken demoxbp
> which GPF's on startup, possibly when building XbpBrowse().
> Did you compiled demoxbp before commit ?
> 
> I ask because yours and mine commits has conflicts when I started.

No, I only tested demoqt.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Dec  7 19:51:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Dec  7 19:51:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13158] trunk/harbour
Message-ID: <E1NHoIf-0008VC-3i@3kljzd1.ch3.sourceforge.com>

Revision: 13158
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13158&view=rev
Author:   vszakats
Date:     2009-12-08 00:51:31 +0000 (Tue, 08 Dec 2009)

Log Message:
-----------
2009-12-08 01:51 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_destruct.cpp
  * contrib/hbxbp/xbptabpage.prg
  * contrib/hbxbp/xbptreeview.prg
  * contrib/hbide/hbide.prg
    ! Renamed ISEQUALGCQTPOINTER() to HBQT_ISEQUALGCQTPOINTER()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
    trunk/harbour/contrib/hbxbp/xbptabpage.prg
    trunk/harbour/contrib/hbxbp/xbptreeview.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Mon Dec  7 19:52:07 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec  7 19:52:14 2009
Subject: [Harbour] HBQT problems
In-Reply-To: <09B34C46-5E81-406A-93FE-98B6A3C70787@syenar.hu>
References: <09B34C46-5E81-406A-93FE-98B6A3C70787@syenar.hu>
Message-ID: <26687051.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> 1) QSyntaxHighlighter is not a wrapper of QT class with same name, 
>    but a customized Harbour version, named HbSyntaxHighlighter. 
>    This is wrong, such special class should be added as such on 
>    .prg level with alternate wrappers.
> 

This may be doable but I could not find the alternative.
Actually QSyntaxHilighter() is a purely virtual class and 
only be sub-classed, so I decided with the same wrappers.



> 2) HbSyntaxHighlighter is stored in hbqt_slots.cpp instead of 
>    local file next to wrappers. This violates separation of 
>    components by placing local stuff to central file.
> 

You already have done it.



> 3) Same goes (with possible differences in details) to these classes:
> 
> - MyMainWindow
> - MyDrawingArea
> - HbDbfModel
> - HbTableView
> 
> MyMainWindow and MyDrawingArea should be given some 
> more meaningful name, like HBQTMainWindow, HBQTDrawingArea.
> 
> 4) We should define a common prefix for extended QT classes, 
>    could be "HBQT". This means these should also be renamed:
> 
> MyMainWindow -> HBQTMainWindow
> MyDrawingArea -> HBQTDrawingArea
> HbSyntaxHighlighter -> HBQTSyntaxHighlighter
> HbDbfModel -> HBQTDbfModel
> HbTableView -> HBQTTableView
> 

Agreed. I will do in a while.



> Of course by knowing the exact purpose of these inherited 
> classes, we can give them even more meaningful names, 
> like HBQTDbfModelXBP, or HBQTSyntaxHighlighterIDE.
> 

Even better.



> Which leads to the next point: 
> 
> 5) Why HBXBP and HBIDE specific stuff is present in HBQT?
> 
> I know we agreed not to add C/C++ stuff to HBXBP 
> (and possibly not to HBIDE), but it's not solution to 
> trick this rule by placing HBXBP/HBIDE specific C++ stuff 
> to HBQT lib. HBQT is generic lib, should never contain 
> app specific stuff like that.
> 
> Possible good solution is to extend wrappers in HBQT so 
> that such features can be implemented on .prg level.
> 

We can think of in this direction. 
So far I only concentrated on functionality part.
Before I achieved some results I was never sure it will work.



> 6) Several functions are not marked as static, while they are.
> 

Ok.



> 7) listBlock.clear() will clear a list of PHB_ITEMs stored 
>    in a container, but nothing ensures that these items are 
>    actually freed with hb_itemRelease().
> 

May be you are right. 
But current implementation attempts to disconnect 
events and slots first and releases the codeblocks.
This call simply ensure that list is "packed".



> I tried to fix some of these, but it's just scratching the 
> surface.
> 

I am sure for the better of this project.
My zest is doubled, believe me.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/HBQT-problems-tp26686657p26687051.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Mon Dec  7 19:56:49 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec  7 19:56:56 2009
Subject: [Harbour] HBXBP - Broken after last two commits
In-Reply-To: <B60A1CBA-9501-404B-A818-03658E5FF5D6@syenar.hu>
References: <26686957.post@talk.nabble.com>
	<B60A1CBA-9501-404B-A818-03658E5FF5D6@syenar.hu>
Message-ID: <26687088.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> No, I only tested demoqt.
> 

Please do so with demoxbp too.
Demoqt is a very simple and wrappers only application.
demoxbp exploits much more constructs.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/HBXBP---Broken-after-last-two-commits-tp26686957p26687088.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Mon Dec  7 19:58:43 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 19:58:50 2009
Subject: [Harbour] bug?: HBQT: hb_vmRequestReenter() calls without
	hb_vmRequestRestore()
In-Reply-To: <26686367.post@talk.nabble.com>
References: <55B90E22-D100-4CEE-867E-B038F786B8A8@syenar.hu>
	<26686367.post@talk.nabble.com>
Message-ID: <20091208005843.GB24185@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, Pritpal Bedi wrote:

Hi,

> > I've just checked hbqt_slots.cpp and there are _many_
> > hb_vmRequestReenter() calls without hb_vmRequestRestore() 
> > pairs.
> > I don't know the consequences, but it doesn't seem right.
> Matched.
> I also do not know its implications, Przemek ?

It may change in different HVM version so no one should create code
which depends on current behavior anyhow if you are interested what
happens now then return value is overwritten by last return value in
executed code (depending on context it may cause some serious runtime
problems (Pritpal should remember problems with runtime errors due to
overloaded returned logical value in xHarbour) and the exception (QUIT,
BREAK, ENDPROC) is not properly restored. Additionally stack items
allocated for stored data are not freed until returning to upper level
HB_FUNC which activated such C code so executing hb_vmRequestReenter()
without hb_vmRequestRestore() in a loop increase the stack size. We
have automatic stack resizing so it will not generate any visible
error until system has enough memory but of course resources are
consumed.

best regards,
Przemek
From bedipritpal at hotmail.com  Mon Dec  7 20:14:31 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec  7 20:14:37 2009
Subject: [Harbour] bug?: HBQT: hb_vmRequestReenter() calls without
	hb_vmRequestRestore()
In-Reply-To: <20091208005843.GB24185@linux-4bod.home.aster.pl>
References: <55B90E22-D100-4CEE-867E-B038F786B8A8@syenar.hu>
	<26686367.post@talk.nabble.com>
	<20091208005843.GB24185@linux-4bod.home.aster.pl>
Message-ID: <26687237.post@talk.nabble.com>


Hi


Przemys?aw Czerpak wrote:
> 
> It may change in different HVM version so no one should create code
> which depends on current behavior anyhow if you are interested what
> happens now then return value is overwritten by last return value in
> executed code (depending on context it may cause some serious runtime
> problems (Pritpal should remember problems with runtime errors due to
> overloaded returned logical value in xHarbour) and the exception (QUIT,
> BREAK, ENDPROC) is not properly restored. Additionally stack items
> allocated for stored data are not freed until returning to upper level
> HB_FUNC which activated such C code so executing hb_vmRequestReenter()
> without hb_vmRequestRestore() in a loop increase the stack size. We
> have automatic stack resizing so it will not generate any visible
> error until system has enough memory but of course resources are
> consumed.
> 

May be this gives a clue towards memory consumption 
which was keeping growing. Actually hb_vmRequestReenter()
was being called unmatched with hb_vmRequestRestore() in 
all the slots handelling code.

Should we use these calls or not ?

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/bug-%3A-HBQT%3A-hb_vmRequestReenter%28%29-calls-without-hb_vmRequestRestore%28%29-tp26685232p26687237.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Mon Dec  7 20:33:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Dec  7 20:33:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13159] trunk/harbour
Message-ID: <E1NHowy-0000hU-8X@3kljzd1.ch3.sourceforge.com>

Revision: 13159
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13159&view=rev
Author:   vszakats
Date:     2009-12-08 01:33:11 +0000 (Tue, 08 Dec 2009)

Log Message:
-----------
2009-12-08 02:32 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_slots.cpp
    * Formatting.
    ! Deleted explicit ( char * ) casts.
    ! Converted some types to const char *.
    + Added hbqt_ prefix to Slot*() callback names.

  * ChangeLog
    + Added missing changes to my 2009-12-08 01:09 entry.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Dec  7 20:42:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Dec  7 20:42:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13160] trunk/harbour
Message-ID: <E1NHp5u-0000qr-7c@3kljzd1.ch3.sourceforge.com>

Revision: 13160
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13160&view=rev
Author:   vszakats
Date:     2009-12-08 01:42:25 +0000 (Tue, 08 Dec 2009)

Log Message:
-----------
2009-12-08 02:41 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_slots.cpp
    % Eliminated local variable in all Slots:: method.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Dec  7 20:53:55 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Dec  7 20:54:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13161] trunk/harbour
Message-ID: <E1NHpH1-00011m-5X@3kljzd1.ch3.sourceforge.com>

Revision: 13161
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13161&view=rev
Author:   vszakats
Date:     2009-12-08 01:53:53 +0000 (Tue, 08 Dec 2009)

Log Message:
-----------
2009-12-08 02:53 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_slots.cpp
    ! Fixed to check for NULL pointer and return error in
      QT_CONNECT_EVENT() and QT_DISCONNECT_EVENT() and MyMainWindow desctructor.
    ; TOFIX: Passing non-block to QT_MYMAINWINDOW() first parameter will cause GPFs.

  * contrib/hbxbp/tests/demoxbp.prg
  * contrib/hbxbp/xbpwindow.prg
  * contrib/hbxbp/xbpdialog.prg
  * contrib/hbxbp/xbpgeneric.prg
    ! THREADID() -> HB_THREADID().
      (former is not necessarily available in core)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpdialog.prg
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Dec  7 21:55:29 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 21:55:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13074] trunk/harbour
In-Reply-To: <4B1420E0.2060003@dbtopas.lt>
References: <E1NFC0U-0008Rg-E7@d5vjzd1.ch3.sourceforge.com>
	<4B1420E0.2060003@dbtopas.lt>
Message-ID: <20091208025529.GC24185@linux-4bod.home.aster.pl>

On Mon, 30 Nov 2009, Mindaugas Kavaliauskas wrote:

Hi,

> >2009-11-30 21:31 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
> >  + harbour/contrib/hbcairo
> I'll write down a few issues I found in hbcairo development.
> 1) #include "std.ch" generates compile time errors.

Just like in Clipper.

> 2) I'm a little confused how to implement GC pointers. So, I've
> implemented two version in hbcairo/core.c. It can be selected
> [not]using HB_USE_ITEM define. In current code the switch is not
> defined and more "low level" version is used (actually, I even
> forgot to test using HB_USE_ITEM). Are these GC pointer
> implementations correct? A few subquestions are:

No exactly. There are few problems which should be fixed.
I'll commit the fix in a while. See details below.

> 2a) hb_gcRefInc()/hb_gcRefDec() is required without HB_USE_ITEM.
> This requires define _HB_API_INTERNAL_. Is this OK?

First you wrongly used hb_gcRefDec() instead of hb_gcRefFree().
hb_gcRefDec() does not free allocated block. It only decrease
number of reference counters. If you do not have any cross
references then this block will be cleanly freed on next GC
collect call. If you have such references then it may cause
RT error ("Reference to freed block"). So you should use pair
of functions: hb_gcRefInc()/hb_gcRefFree().

I do not think that hb_gcRefDec() is necessary for any 3-rd party
code. It's not even used in current core code so probably I should
remove it to not confuse users and maybe add:
   #define hb_gcRefDec hb_gcRefFree
to hbapi.h.

The new GC extensions opens door for some interesting extensions
in none core code so maybe it's time to make hb_gcRefInc() and
hb_gcRefFree() public functions though I'm not sure how many people
will have enough knowledge to use it without breaking some internals.
Fist I would like to inform everybody that these functions _CANNOT_
be used as workaround for some problems with code using GC memory
blocks. They can be used _ONLY_ to improve a little bit performance
in code which should work also without them.

> 2b) In function CAIRO_PATH_ITERATOR_CREATE() new item is created
> using: pIterator->pPath = hb_itemNew( hb_param( 1, HB_IT_POINTER )
> );
> 2c) Does pIterator->pPath need to be unlocked in case 2b? I will mark it!

If you do not unlock it then it will be always visible for GC and GC
will also mark it as used and execute its mark function so your call
to mark this function is unimportant but see below.

> 2d) If it remains locked, then hb_gcGripMark( pIterator->pPath ) in
> mark function is not necessary?

The answer for your question is yes. All locked memory blocks are
automatically marked as used and GC executes mark function for
each of them.
But you should _NEVER_ use hb_gcGripMark() - this is really
low level HVM only function which is used in some _very_ special
cases and calling this function may cause very serious problems,
i.e. used in such context it may cause infinite mark loop in GC.
You should use hb_gcMark instead. In fact for locked blocks it
can return without any action but nothing wrong will happen in
such case because locked blocks are marked anyway.

> 2e) Can I be sure that inside CAIRO_PATH_ITERATOR_NEXT() pPath is a
> valid (not destroyed path)? (both with and without HB_USE_ITEM)

In valid code yes. GC has protection against multiple calling
of destructor for the same GC memory block. Unlike in xHarbour
in Harbour this protection always work. Anyhow there is one
exception for above code intentionally implemented. It can be
activated only in one case by buggy user .prg code when items
are freed by GC. It's possible that inside destructor user will
copy item marked to destroy to some location which will be accessible
after GC pass, i.e. to some static or public variable.
In such case GC cannot free such memory block because somewhere
is stored reference to this block so it generates RT error
(EG_DESTRUCTOR/1301: "Reference to freed block") and reattach this
memory block to list of GC blocks to avoid GPF when this reference
will be accessed.
It means that it's good to make same at least basic protection inside
destructor which allows to "reuse" GC block for which destructor
is activated. It's not necessary to make it fully functional. Just
simply add some basic protection against GPF, i.e.
in hb_codeblockGarbageDelete() you may find this line:
      pCBlock->pCode = ( BYTE * ) s_pCode;
which is such protection for codeblocks so if user inside object
destructor copy some codeblocks which are marked to destroy with
the object to some public variable and then after above RT error
will try to use it then it will cause GPF though such blocks will
not work as original one (see s_pCode body).
If you look for array, object, hash, codeblock destructors then
you will find that each of them leaves GC block ready to reuse.
Checking and clearing pIterator->pPath inside
hb_cairo_path_iterator_destructor() is quite good protection for
such situations anyhow it will be good if you also check if pPath
after code like:
      #ifdef HB_USE_ITEM
         pPath = hb_itemGetPtr( pIterator->pPath );
      #else
         pPath = pIterator->pPath;
      #endif

is not NULL.

> 3)What is correct way to code:
>    pCairo = hb_cairo_par( 1 ); // generate RTE if parameter is wrong
>    if( pData )
>       cairo_something( pCairo );
> or this is also ok?:
>     cairo_something( hb_cairo_par( 1 ) );

Sorry but I do not understand what you are asking for here.

> 4) Should implementation of procedures end with hb_ret(); ?

In most of cases not but it depends on context.
Sometimes hb_ret() can be used to overwrite return value set
by some other code in current function or by some other HVM
functions executed from current function without some code
to safe and restore return value like hb_vmRequestReenter()/
hb_vmRequestRestore().
In some cases it can be used also to clean return value left
by function called as procedure just before the current one.
In such context hb_ret() is used in HB_GCALL() function (see
my comment in garbage.c)
In general when HVM (it's also Clipper VM behavior) calls
function to retrieve its result, i.e.:
   x := somefunc()
or
   qout( somefunc() )
then it always set NIL to return value just before executing
the function and this is the default return value. But if
it calls any function without retrieving return value, i.e.:
   somefunc()
then it does nothing with existing return value.
In some cases it can be used in quite interesting way even in
.prg code. This code illustrates it:

   proc main()
      ? p( 1 )
      ? p( 2 )
      ? p( 3 )
      ? p( 4 )
      ? p( 0 )

   proc p( x )
      if x == 1
         f1()
      elseif  x == 2
         f2()
      elseif  x == 3
         f3()
      elseif  x == 4
         f4()
      else
         f0()
      endif
   return

   func f0(); return NIL
   func f1(); return procname()
   func f2(); return procname()
   func f3(); return procname()
   func f4(); return procname()

Please note that inside p() function f0() works like hb_ret() in C code
and can be eliminated because in
   ? p( 0 )
HVM clears return item just before executing p()

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Dec  7 22:08:09 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Dec  7 22:08:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13162] trunk/harbour
Message-ID: <E1NHqQr-0003HH-QC@c3vjzd1.ch3.sourceforge.com>

Revision: 13162
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13162&view=rev
Author:   druzus
Date:     2009-12-08 03:08:08 +0000 (Tue, 08 Dec 2009)

Log Message:
-----------
2009-12-08 04:07 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbcairo/core.c
    ! fixed code which operates on GC blocks and make both versions
      (with and without HB_USE_ITEM) working in the same way so thay
      can be easy compared.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbcairo/core.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Dec  7 22:33:15 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec  7 22:33:22 2009
Subject: [Harbour] bug?: HBQT: hb_vmRequestReenter() calls without
	hb_vmRequestRestore()
In-Reply-To: <26687237.post@talk.nabble.com>
References: <55B90E22-D100-4CEE-867E-B038F786B8A8@syenar.hu>
	<26686367.post@talk.nabble.com>
	<20091208005843.GB24185@linux-4bod.home.aster.pl>
	<26687237.post@talk.nabble.com>
Message-ID: <20091208033314.GA25888@linux-4bod.home.aster.pl>

On Mon, 07 Dec 2009, Pritpal Bedi wrote:

Hi

> > It may change in different HVM version so no one should create code
> > which depends on current behavior anyhow if you are interested what
> > happens now then return value is overwritten by last return value in
> > executed code (depending on context it may cause some serious runtime
> > problems (Pritpal should remember problems with runtime errors due to
> > overloaded returned logical value in xHarbour) and the exception (QUIT,
> > BREAK, ENDPROC) is not properly restored. Additionally stack items
> > allocated for stored data are not freed until returning to upper level
> > HB_FUNC which activated such C code so executing hb_vmRequestReenter()
> > without hb_vmRequestRestore() in a loop increase the stack size. We
> > have automatic stack resizing so it will not generate any visible
> > error until system has enough memory but of course resources are
> > consumed.
> May be this gives a clue towards memory consumption 
> which was keeping growing. Actually hb_vmRequestReenter()
> was being called unmatched with hb_vmRequestRestore() in 
> all the slots handelling code.

Without deep code analyzing I cannot precisely answer but after
short looking at hbqt_slots.cpp I do not think so. Missing
hb_vmRequestRestore() can increase HVM stack a little bit but
only to some fixed value which is rather small in comparison
to total memory usage so I do not think so.

> Should we use these calls or not ?

You should. The above text was only about side effects created by
wrong usage of hb_vmRequestReenter() without hb_vmRequestRestore()
and I hope that know will create any code which depends on that
side effects because they may change in the future. I.e. we can
add code to generate RT or internal error if hb_vmRequestReenter()
does not have corresponding hb_vmRequestRestore().

best regards,
Przemek
From dmacias at mail.udg.mx  Tue Dec  8 02:25:57 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Tue Dec  8 02:26:22 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
Message-ID: <4B1DFF85.7040309@mail.udg.mx>

Przemek:

>> config\os2\watcom.mk contain:
>>    ifeq ($(filter $(LIBNAME),gtos2 gtstd),)
>>       CFLAGS += -s
>>    endif

>Have you made clean Harbour build?

Yes, of course
I expected not to fail in gtos2 and gtstd, but as gtstd failed, I
checked files and made confirmations to be sure, and at last I added
"config\os2\watcom.mk" content in message for clarity

More info below

>Thank you very much.
>It means that the code used to check stack overflow have to be executed
>exactly by the function which calls APIENTRY16.
>It also means that recompiling whole Harbour code without -s flag does
>not resolve the problem of GTSTD because it uses kbhit() from
>OpenWatcom C RTL compiled without stack debug code. Am I rirght?

Why you ask to me, are you trying to confuse me ?  :-)
Here you are the expert, and I refuse to answer your question, and lack
of answer do not imply any confirmation or negation in any way

>Yes but only if you can confirm that after removing
>   CFLAGS += -s
>from config\os2\watcom.mk and rebuilding whole Harbour code
>also does not help and GTSTD still GPF.
>This is the last thing I would like to know.
>If it's true then I can create self contain example which always GPFs
>regardless of used compilation flags.

>Again thank you very much for your time and tests.

As I see you are closing the circle

I repeated tests with fresh SVN: Harbour 13162
and some changes

As summary:
- gtstd fail (GPF) with and without
   CFLAGS += -s
- gtos2 run
   with CFLAGS += -s  :  fast ?
   without CFLAGS += -s  : slow

Sequence are below, and segments of make_ow.log confirm switchs used in
Harbour build

David Macias

*** Fresh SVN build:

[E:\harbour912\harbour\bin\os2\watcom]hbmk2 speedtst -l -kmo -mt -gc3 -gtstd
Harbour 2.0.0beta3 (Rev. 13162)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'speedtst.prg'...
Lines 1204, Functions/Procedures 79
Generating C source output to 'speedtst.c'... Done.

[E:\harbour912\harbour\bin\os2\watcom]speedtst.exe --thread

2009.12.07 22:37:12 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13162) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================SYS1808:
The process has stopped.  The software diagnostic
code (exception code) is  0001.


*** Clean, build using in config\os2\watcom.mk:
   #      CFLAGS += -s

[E:\harbour912\harbour\bin\os2\watcom]hbmk2 speedtst -l -kmo -mt -gc3 -gtstd
Harbour 2.0.0beta3 (Rev. 13162)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'speedtst.prg'...
Lines 1204, Functions/Procedures 79
Generating C source output to 'speedtst.c'... Done.

[E:\harbour912\harbour\bin\os2\watcom]speedtst.exe --thread

2009.12.07 22:59:37 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13162) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.10
====================================================================SYS1808:
The process has stopped.  The software diagnostic
code (exception code) is  0001.

[E:\harbour912\harbour\bin\os2\watcom]hbmk2 speedtst -l -kmo -mt -gc3 -gtos2

[ total application time: ].....................................0.26
[ total real time: ]...........................................68.84


*** Clean, build using in config\os2\watcom.mk:
       CFLAGS += -s
[...]
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -s -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../../include   -fo=gtcgi.obj  ../../../gtcgi.c
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -s -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../../include   -fo=gtcgi_dyn.obj -DHB_DYNLIB
../../../gtcgi.c
wlib  -q -p=72 -c -n  ../../../../../../lib/os2/watcom/gtcgi.lib -+gtcgi.obj
! 'gtcrs' library skipped (component not found)
! 'gtdos' library skipped (platform not supported)
! 'gtgui' library skipped (platform not supported)
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../../include   -fo=gtos2.obj  ../../../gtos2.c
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../../include   -fo=gtos2_dyn.obj -DHB_DYNLIB
../../../gtos2.c
wlib  -q -p=72 -c -n  ../../../../../../lib/os2/watcom/gtos2.lib -+gtos2.obj
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -s -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../../include   -fo=gtpca.obj  ../../../gtpca.c
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -s -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../../include   -fo=gtpca_dyn.obj -DHB_DYNLIB
../../../gtpca.c
wlib  -q -p=72 -c -n  ../../../../../../lib/os2/watcom/gtpca.lib -+gtpca.obj
! 'gtsln' library skipped (component not found)
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../../include   -fo=gtstd.obj  ../../../gtstd.c
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../../include   -fo=gtstd_dyn.obj -DHB_DYNLIB
../../../gtstd.c
wlib  -q -p=72 -c -n  ../../../../../../lib/os2/watcom/gtstd.lib -+gtstd.obj
! 'gttrm' library skipped (platform or compiler not supported)
! 'gtwin' library skipped (platform not supported)
! 'gtwvt' library skipped (platform not supported)
! 'gtxwc' library skipped (component not found)
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -s -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../include   -fo=hvm.obj  ../../../hvm.c
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -s -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../include   -fo=hvm_dyn.obj -DHB_DYNLIB  ../../../hvm.c
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -s -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../include   -fo=arrays.obj  ../../../arrays.c
[...]

[E:\harbour912\harbour\bin\os2\watcom]hbmk2 speedtst -l -kmo -mt -gc3 -gtstd
Harbour 2.0.0beta3 (Rev. 13162)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'speedtst.prg'...
Lines 1204, Functions/Procedures 79
Generating C source output to 'speedtst.c'... Done.

[E:\harbour912\harbour\bin\os2\watcom]speedtst.exe --thread

2009.12.08 00:19:26 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13162) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================SYS1808:
The process has stopped.  The software diagnostic
code (exception code) is  0001.

[E:\harbour912\harbour\bin\os2\watcom]hbmk2 speedtst -l -kmo -mt -gc3 -gtos2
Harbour 2.0.0beta3 (Rev. 13162)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'speedtst.prg'...
Lines 1204, Functions/Procedures 79
Generating C source output to 'speedtst.c'... Done.

[E:\harbour912\harbour\bin\os2\watcom]speedtst.exe --thread

[...]
[ total application time: ].....................................0.10
[ total real time: ]...........................................23.46


*** Clean, build using in config\os2\watcom.mk:
#   ifeq ($(filter $(LIBNAME),gtos2 gtstd),)
#      CFLAGS += -s
#   endif
[...]
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../../include   -fo=gtcgi.obj  ../../../gtcgi.c
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../../include   -fo=gtcgi_dyn.obj -DHB_DYNLIB
../../../gtcgi.c
wlib  -q -p=72 -c -n  ../../../../../../lib/os2/watcom/gtcgi.lib -+gtcgi.obj
! 'gtcrs' library skipped (component not found)
! 'gtdos' library skipped (platform not supported)
! 'gtgui' library skipped (platform not supported)
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../../include   -fo=gtos2.obj  ../../../gtos2.c
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../../include   -fo=gtos2_dyn.obj -DHB_DYNLIB
../../../gtos2.c
wlib  -q -p=72 -c -n  ../../../../../../lib/os2/watcom/gtos2.lib -+gtos2.obj
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../../include   -fo=gtpca.obj  ../../../gtpca.c
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../../include   -fo=gtpca_dyn.obj -DHB_DYNLIB
../../../gtpca.c
wlib  -q -p=72 -c -n  ../../../../../../lib/os2/watcom/gtpca.lib -+gtpca.obj
! 'gtsln' library skipped (component not found)
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../../include   -fo=gtstd.obj  ../../../gtstd.c
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../../include   -fo=gtstd_dyn.obj -DHB_DYNLIB
../../../gtstd.c
wlib  -q -p=72 -c -n  ../../../../../../lib/os2/watcom/gtstd.lib -+gtstd.obj
! 'gttrm' library skipped (platform or compiler not supported)
! 'gtwin' library skipped (platform not supported)
! 'gtwvt' library skipped (platform not supported)
! 'gtxwc' library skipped (component not found)
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../include   -fo=hvm.obj  ../../../hvm.c
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../include   -fo=hvm_dyn.obj -DHB_DYNLIB  ../../../hvm.c
wpp386   -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -ei -zp4 -zt0 -oi+ -i.
-i../../../../../include   -fo=arrays.obj  ../../../arrays.c
[...]

[E:\harbour912\harbour\bin\os2\watcom]hbmk2 speedtst -l -kmo -mt -gc3 -gtstd
Harbour 2.0.0beta3 (Rev. 13162)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'speedtst.prg'...
Lines 1204, Functions/Procedures 79
Generating C source output to 'speedtst.c'... Done.

[E:\harbour912\harbour\bin\os2\watcom]speedtst.exe --thread

2009.12.08 00:37:53 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13162) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.10
====================================================================SYS1808:
The process has stopped.  The software diagnostic
code (exception code) is  0001.

[E:\harbour912\harbour\bin\os2\watcom]hbmk2 speedtst -l -kmo -mt -gc3 -gtos2
Harbour 2.0.0beta3 (Rev. 13162)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'speedtst.prg'...
Lines 1204, Functions/Procedures 79
Generating C source output to 'speedtst.c'... Done.

[E:\harbour912\harbour\bin\os2\watcom]speedtst.exe --thread

[...]
[ total application time: ].....................................0.13
[ total real time: ]...........................................69.48



From vouchcac at users.sourceforge.net  Tue Dec  8 02:45:21 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Dec  8 02:45:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13163] trunk/harbour
Message-ID: <E1NHul7-0007Rh-Is@c3vjzd1.ch3.sourceforge.com>

Revision: 13163
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13163&view=rev
Author:   vouchcac
Date:     2009-12-08 07:45:20 +0000 (Tue, 08 Dec 2009)

Log Message:
-----------
2009-12-07 23:43 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_hbqtdbfmodel.cpp
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbxbp/tests/demoxbp.prg
    ! Fixed unoperational demoxbp.exe.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_hbqtdbfmodel.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Dec  8 03:24:00 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Dec  8 03:24:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13163] trunk/harbour
In-Reply-To: <E1NHul7-0007Rh-Is@c3vjzd1.ch3.sourceforge.com>
References: <E1NHul7-0007Rh-Is@c3vjzd1.ch3.sourceforge.com>
Message-ID: <609353e70912080024l752928e1l1d39b6932db15acf@mail.gmail.com>

This is a reply for?Istv?n
---------- Forwarded message ----------
From:?Bisz Istv?n?<Istvan.Bisz@t-online.hu>
Date: 2009/12/3
Subject: RE: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Pritpal, if you have some spare time, can you please take a look of
the parent-child issue of the statics. They are a show stopper in
demoqt and demoxbp.
Best regards,
Istv?n

2009/12/8 <vouchcac@users.sourceforge.net>
>
> Revision: 13163
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13163&view=rev
> Author: ? vouchcac
> Date: ? ? 2009-12-08 07:45:20 +0000 (Tue, 08 Dec 2009)
>
> Log Message:
> -----------
> 2009-12-07 23:43 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> ?* contrib/hbqt/hbqt_hbqtdbfmodel.cpp
> ?* contrib/hbqt/hbqt_slots.cpp
> ?* contrib/hbxbp/tests/demoxbp.prg
> ? ?! Fixed unoperational demoxbp.exe.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/contrib/hbqt/hbqt_hbqtdbfmodel.cpp
> ? ?trunk/harbour/contrib/hbqt/hbqt_slots.cpp
> ? ?trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
>

--
Massimo Belgrano
From druzus at acn.waw.pl  Tue Dec  8 03:41:12 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec  8 03:41:18 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
In-Reply-To: <4B1DFF85.7040309@mail.udg.mx>
References: <4B1DFF85.7040309@mail.udg.mx>
Message-ID: <20091208084112.GA28223@linux-4bod.home.aster.pl>

On Tue, 08 Dec 2009, David Arturo Macias Corona wrote:

Hi,

> I expected not to fail in gtos2 and gtstd, but as gtstd failed, I
> checked files and made confirmations to be sure, and at last I added
> "config\os2\watcom.mk" content in message for clarity

Thank you very much.

> >It also means that recompiling whole Harbour code without -s flag does
> >not resolve the problem of GTSTD because it uses kbhit() from
> >OpenWatcom C RTL compiled without stack debug code. Am I rirght?
> Why you ask to me, are you trying to confuse me ?  :-)

No, I do not want to confuse you :-)
Just simply I was asking about results of whole Harbour build without
-s flag to close the tests.

> As I see you are closing the circle

Exactly but I wanted to be sure.

> I repeated tests with fresh SVN: Harbour 13162
> and some changes
> As summary:
> - gtstd fail (GPF) with and without
>   CFLAGS += -s
> - gtos2 run
>   with CFLAGS += -s  :  fast ?
>   without CFLAGS += -s  : slow
> Sequence are below, and segments of make_ow.log confirm switchs used in
> Harbour build
[...]
> *** Clean, build using in config\os2\watcom.mk:
>   #      CFLAGS += -s
> [E:\harbour912\harbour\bin\os2\watcom]hbmk2 speedtst -l -kmo -mt -gc3 -gtstd
> Harbour 2.0.0beta3 (Rev. 13162)
> Copyright (c) 1999-2010, http://www.harbour-project.org/
> Compiling 'speedtst.prg'...
> Lines 1204, Functions/Procedures 79
> Generating C source output to 'speedtst.c'... Done.
> [E:\harbour912\harbour\bin\os2\watcom]speedtst.exe --thread
> 2009.12.07 22:59:37 OS/2 4.50
> Harbour 2.0.0beta3 (Rev. 13162) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
> THREADS: all->56
> N_LOOPS: 1000000
> [ T000: empty loop overhead ]...................................0.10
> ====================================================================SYS1808:
> The process has stopped.  The software diagnostic
> code (exception code) is  0001.

And this is the confirmation I was asking for.
Thank you very much for you help and all tests.
Now I can write self contain example which illustrates the problem.
I want to create two ones. The first one will allways fail exploiting
the problem inside OW CRTL and the scond one will fail only when
compiled with -s showing where exactly the problem is.
I'll try to make it in this week and then I would like to ask you to
make final tests with them to check if they really GPFs.
I hope that For someone who well know Open Watcom internals such
code examples allows to locate and fix the problem quite fast so
in next OW releases it will work correctly.

best regards,
Przemek
From mbelgrano at deltain.it  Tue Dec  8 03:47:36 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Dec  8 03:48:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13163] trunk/harbour
In-Reply-To: <E1NHul7-0007Rh-Is@c3vjzd1.ch3.sourceforge.com>
References: <E1NHul7-0007Rh-Is@c3vjzd1.ch3.sourceforge.com>
Message-ID: <609353e70912080047j1537493aqc4773b738fb34585@mail.gmail.com>

demoxbp.o:demoxbp.c:(.data+0x98): undefined reference to `HB_FUN_HBXBP_DEBUG'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1


2009/12/8  <vouchcac@users.sourceforge.net>:
> Revision: 13163
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13163&view=rev
> Author: ? vouchcac
> Date: ? ? 2009-12-08 07:45:20 +0000 (Tue, 08 Dec 2009)
>
> Log Message:
> -----------
> 2009-12-07 23:43 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> ?* contrib/hbqt/hbqt_hbqtdbfmodel.cpp
> ?* contrib/hbqt/hbqt_slots.cpp
> ?* contrib/hbxbp/tests/demoxbp.prg
> ? ?! Fixed unoperational demoxbp.exe.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/contrib/hbqt/hbqt_hbqtdbfmodel.cpp
> ? ?trunk/harbour/contrib/hbqt/hbqt_slots.cpp
> ? ?trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Tue Dec  8 04:10:02 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Dec  8 04:10:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13148] trunk/harbour
In-Reply-To: <E1NHQxp-00061g-D1@74yxhf1.ch3.sourceforge.com>
References: <E1NHQxp-00061g-D1@74yxhf1.ch3.sourceforge.com>
Message-ID: <609353e70912080110m1d22eb0dy81f6dc7a6298ad0d@mail.gmail.com>

Why use different project structure from hbmk2?
In xbase++ Visual Editor and make system use same project definition file
additional field on project definition structure can be used by visual
harbour and not by hbmk2
We maintain only one file for each project Seem me More easy do a
build in this i simply call hbmk2...one ore more times

------------------------hbide.hbi--------------------
[ PROPERTIES ]
Type              = Executable
Title             = Harbour-Qt IDE
Location          = <IdeSrc>projects
WorkingFolder     = <IdeSrc>
DestinationFolder = <IdeSrc>projects
Output            = hbide
LaunchParams      =
LaunchProgram     =

[ FLAGS ]
-w3
-es2
-lhbwin
-Lc:\qt\2009.01\qt\lib

[ SOURCES ]
#  "Not Equal To == #" is a comment line as is accepted in .hbp
#  So you can exploit this feature to visualize project source files
#  in a graspable way.
#
<IdeSrc>hbide.prg
<IdeSrc>ideactions.prg
<IdeSrc>idemisc.prg
<IdeSrc>idestylesheets.prg
<IdeSrc>idetags.prg

<IdeSrc>ideparseexpr.c

<IdeSrc>hbide.ch
<IdeSrc>hbide.ini

[ METADATA ]
#  Meta Key/Value pair accepts any valid Harbour defined
#  function call returning a string value, thus making meta-data
#  protocol extremely powerful. In case of any error in evaluating
#  value expression will return itself as string value.
#  So    <SomeKey = "SomeValue" > OR <SomeKey = SomeValue>
#  will  return the same string as <SomeValue>
#
IdeSrc  =  hb_dirBase()
 -------------------------------- hbide.hbp
-------------------------------------------
#
# $Id: hbide.hbp 13143 2009-12-06 17:48:12Z vszakats $
#

../hbxbp/hbxbp.hbc

-inc

-w3 -es2

-ohbide

hbide.prg
idestylesheets.prg
idetags.prg
idemisc.prg
ideactions.prg

ideparseexpr.c


2009/12/7  <vouchcac@users.sourceforge.net>:
> Revision: 13148
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13148&view=rev
> Author: ? vouchcac
> Date: ? ? 2009-12-06 23:56:28 +0000 (Sun, 06 Dec 2009)
>
> Log Message:
> -----------
> 2009-12-06 15:29 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> ?* contrib/hbide/idemisc.prg
> ?* contrib/hbide/idestylesheets.prg
> ?* contrib/hbide/projects/hbide.hbi
> ?* contrib/hbide/hbide.prg
> ? ?+ Implemented Project definition/loading/manipulation through
> ? ? ?<Project Tree> interface.
> ? ?+ Implemented this tree structure:
>
> ? ? ? ?- Projects
> ? ? ? ? ?- Executables
> ? ? ? ? ? ?- Harbour-Qt IDE
> ? ? ? ? ? ? ?- C:\harbour\contrib\hbide\ ?[ Path containing the source ]
> ? ? ? ? ? ? ? ?- hbide.prg
> ? ? ? ? ? ? ? ?- idemisc.prg
> ? ? ? ? ? ? ? ?- ...
> ? ? ? ? ? ? ?- C:\harbour\contrib\hbwin\
> ? ? ? ? ? ? ? ?- olecore.c
> ? ? ? ? ? ? ? ?- ...
> ? ? ? ? ? ?- GTWVG Demonstration Application
> ? ? ? ? ? ? ?- C:\harbour\contrib\gtwvg\tests\
> ? ? ? ? ? ? ? ?- demowvg.prg
>
> ? ? ? ?- Editor ? ?[ Holds sources already opened ]
> ? ? ? ? ?- C:\harbour\contrib\hbide\ ?[ Path containing the source ]
> ? ? ? ? ? ?- hbide.prg
> ? ? ? ? ? ?- idetags.prg
> ? ? ? ? ? ?- ...
>
> ? ? ? ?RIGHT-CLICK ( context menu ) on <Projects> node presents a menu to
> ? ? ? ? ? define or load a project.
> ? ? ? ?RIGHT-CLICK on <Project Description> node allows to redefine
> ? ? ? ? ? the properties.
> ? ? ? ?DOUBLE-CLICK on any source file has two actions,
> ? ? ? ? ? ? ?1) it opens the editor tab if file is not open already,
> ? ? ? ? ? ? ?2) it makes the tab current which holds the source of this file.
> ? ? ? ? ? This action is valid on nodes contained beneath <Path> under
> ? ? ? ? ? <Project Description> or under <Editor>.
>
> ? ? ? ?certainly hope that some of you will play with it and will report
> ? ? ? ?back anything desired more.
>




-- 
Massimo Belgrano
From dmacias at mail.udg.mx  Tue Dec  8 05:10:09 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Tue Dec  8 05:10:30 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
Message-ID: <4B1E2601.9030503@mail.udg.mx>

Przemek:

 >And this is the confirmation I was asking for.
 >Thank you very much for you help and all tests.
 >Now I can write self contain example which illustrates the problem.
 >I want to create two ones. The first one will allways fail exploiting
 >the problem inside OW CRTL and the scond one will fail only when
 >compiled with -s showing where exactly the problem is.
 >I'll try to make it in this week and then I would like to ask you to
 >make final tests with them to check if they really GPFs.
 >I hope that For someone who well know Open Watcom internals such
 >code examples allows to locate and fix the problem quite fast so
 >in next OW releases it will work correctly.

OK, I am ready

David Macias
From dmacias at mail.udg.mx  Tue Dec  8 05:17:52 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Tue Dec  8 05:18:15 2009
Subject: [Harbour] OS/2: gcc version
Message-ID: <4B1E27D0.9030501@mail.udg.mx>

os2gcc434 and os2gcc442 are available

-------------
Paul Smedley has added GCC 4.3.4 on www.smedley.info/os2ports/ This the 
OS/2 port of the GNU C Compiler.

Web page: os2ports.smedley.info/index.php
Download: download.smedley.info/gcc-4.3.4-os2-20090807.zip

Paul Smedley has updated the OS/2 port of the GNU C Compiler to v4.4.2 
www.smedley.info/os2ports/
Web page: os2ports.smedley.info/index.php
Download: download.smedley.info/gcc-4.4.2-os2-20091205.zip
-------------

David Macias


We have months landing Harbour with newer gcc: gcc404, gcc432, gcc433,
gcc440
and now appear new packages "built with gcc 4.4.1"  :-)

I am centered on tests with Harbour-gcc433 as reference release

gcc441 does not appear as Paul Smedley or Netlabs releases, so some
people are working recently on this port and they are in Japan

http://ebisa.hp.infoseek.co.jp/os2/index.htm

Some packages are very recent, as:

0.9.8l for kLIBC (gcc 4.4.1) : openssl-0.9.8l-klibc-20091108.zip
# SDL 1.2.14 for OS/2 (built with gcc-4.4.1)

     * SDL-1.2.14-os2-gcc44-20091106.zip
     * fslib_r5-gcc44-20091104.zip
     * ...

# SDL 1.2.13 for OS/2 (built with gcc-4.3.3)

     * SDL-1.2.13-os2-gcc433-20090506.zip
     * SDL-1.2.13-os2-gcc433-20090419.zip

But doubts remain: file name say "gcc44" (4.4.0 ?) and docs say:
------------
   Headers, libraries and config tool (sdl-config) are suitable for gcc
4.4.1.
   (It may also work with gcc 3.3.5 csd 3)
[...]
2009-11-06
  - Based on SDL-1.2.14
  - Built with gcc 4.4.1
------------


Anyway, we can wait some time and if new gcc version appear then we can
test with Harbour

David Macias



From vszakats at users.sourceforge.net  Tue Dec  8 05:33:23 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec  8 05:33:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13164] trunk/harbour
Message-ID: <E1NHxNj-0005A2-1M@dn4whf1.ch3.sourceforge.com>

Revision: 13164
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13164&view=rev
Author:   vszakats
Date:     2009-12-08 10:33:21 +0000 (Tue, 08 Dec 2009)

Log Message:
-----------
2009-12-08 11:30 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  + contrib/hbqt/hbqt_hbqtmymainwindow.cpp
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/Makefile
    * MyMainWindow() class moved to separate source file.
    * Deleted commented debug calls.
    * Code formatting.
    ! Fix to call mutex initialization on MyMainWindows creation, 
      to guarantee its present. Anyhow current method is still not 
      safe.
    % Cleaned some casts.
    ; TOFIX: mutex initialization in MyMainWindow.
    ; TOFIX: MyMainWindow is a leakable resource and it _is_
             leaked from hbxbp.

  * contrib/hbxbp/xbpsle.prg
  * contrib/hbxbp/xbplistbox.prg
  * contrib/hbxbp/xbprtf.prg
  * contrib/hbxbp/xbpbrowse.prg
  * contrib/hbxbp/xbpwindow.prg
  * contrib/hbxbp/xbpcombobox.prg
  * contrib/hbxbp/xbppushbutton.prg
  * contrib/hbxbp/xbp.ch
  * contrib/hbxbp/xbptreeview.prg
  * contrib/hbxbp/xbpdialog.prg
  * contrib/hbxbp/xbpspinbutton.prg
  * contrib/hbxbp/xbpgeneric.prg
  * contrib/hbide/hbide.prg
    * :createFromQtPtr() -> hbCreateFromQtPtr()
    ! Fixed few non-Xbase++ public functions to hold the
      hbxbp_ prefix in their names.
      It probably needs further cleanup.
    % Highly optimized ConvertAFact(), now goes by the
      name hbxbp_ConvertAFactFromXBP(). Only one conversion
      was used in code, so I dropped the other, but it can be
      readded similarly if ever needed.
    ! Mutex destroy moved to the end of EXIT PROC, anyway
      it's still not safe and should be solved differently.
      (TOFIX)
    ; TOFIX: hbxbp_SetEventFilter() is passed to several function,
             but this function has no return value.

  * contrib/hbcairo/core.c
    * Minor.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbcairo/core.c
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbxbp/xbp.ch
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbpcombobox.prg
    trunk/harbour/contrib/hbxbp/xbpdialog.prg
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
    trunk/harbour/contrib/hbxbp/xbplistbox.prg
    trunk/harbour/contrib/hbxbp/xbppushbutton.prg
    trunk/harbour/contrib/hbxbp/xbprtf.prg
    trunk/harbour/contrib/hbxbp/xbpsle.prg
    trunk/harbour/contrib/hbxbp/xbpspinbutton.prg
    trunk/harbour/contrib/hbxbp/xbptreeview.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/hbqt_hbqtmymainwindow.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Dec  8 05:41:03 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec  8 05:41:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13163] trunk/harbour
In-Reply-To: <E1NHul7-0007Rh-Is@c3vjzd1.ch3.sourceforge.com>
References: <E1NHul7-0007Rh-Is@c3vjzd1.ch3.sourceforge.com>
Message-ID: <685C4613-894E-4567-B35A-48CB17210C6D@syenar.hu>

Thanks!

Brgds,
Viktor

On 2009 Dec 8, at 08:45, vouchcac@users.sourceforge.net wrote:

> Revision: 13163
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13163&view=rev
> Author:   vouchcac
> Date:     2009-12-08 07:45:20 +0000 (Tue, 08 Dec 2009)
> 
> Log Message:
> -----------
> 2009-12-07 23:43 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbqt/hbqt_hbqtdbfmodel.cpp
>  * contrib/hbqt/hbqt_slots.cpp
>  * contrib/hbxbp/tests/demoxbp.prg
>    ! Fixed unoperational demoxbp.exe.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbqt/hbqt_hbqtdbfmodel.cpp
>    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
>    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Tue Dec  8 05:44:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec  8 05:44:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13165] trunk/harbour
Message-ID: <E1NHxYX-0005YQ-5I@dn4whf1.ch3.sourceforge.com>

Revision: 13165
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13165&view=rev
Author:   vszakats
Date:     2009-12-08 10:44:31 +0000 (Tue, 08 Dec 2009)

Log Message:
-----------
2009-12-08 11:43 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/macro/Makefile
  - src/macro/macro.l
  * src/compiler/Makefile
  - src/compiler/harbour.l
  - src/compiler/fixflex.c
  * INSTALL
  * config/c.mk
  * config/rules.mk
    * Deleted references to Flex and related files.
      Flex is not used since long. It couldn't generate MT safe lexer code.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/c.mk
    trunk/harbour/config/rules.mk
    trunk/harbour/src/compiler/Makefile
    trunk/harbour/src/macro/Makefile

Removed Paths:
-------------
    trunk/harbour/src/compiler/fixflex.c
    trunk/harbour/src/compiler/harbour.l
    trunk/harbour/src/macro/macro.l


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Tue Dec  8 06:02:49 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Dec  8 06:02:57 2009
Subject: [Harbour] Still unable to build Harbour from latest SVN
Message-ID: <2EFA4FCBE5D54D569EBE6C8DF54DF5B3@emag>

Sorry to be a pest, but I'm still unable to build Harbour from latest SVN. 
It seems that adding

#include "hbset.h"

to wapi_shellapi.c cures the problem.

Can I commit this change?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vszakats at users.sourceforge.net  Tue Dec  8 06:03:42 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec  8 06:03:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13166] trunk/harbour
Message-ID: <E1NHxr4-0006JH-Sg@dn4whf1.ch3.sourceforge.com>

Revision: 13166
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13166&view=rev
Author:   vszakats
Date:     2009-12-08 11:03:40 +0000 (Tue, 08 Dec 2009)

Log Message:
-----------
2009-12-08 12:02 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/Makefile
  + include/hbwinuni.h
  * contrib/hbwin/wapi_shellapi.c
  * include/hbwince.h
    + Moved new UNICODE translation macros to separate header.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_shellapi.c
    trunk/harbour/include/Makefile
    trunk/harbour/include/hbwince.h

Added Paths:
-----------
    trunk/harbour/include/hbwinuni.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Dec  8 06:12:19 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec  8 06:12:29 2009
Subject: [Harbour] Still unable to build Harbour from latest SVN
In-Reply-To: <2EFA4FCBE5D54D569EBE6C8DF54DF5B3@emag>
References: <2EFA4FCBE5D54D569EBE6C8DF54DF5B3@emag>
Message-ID: <FB914907-C245-45AD-B31E-1065DA354EF3@syenar.hu>

Hi,

> Sorry to be a pest, but I'm still unable to build Harbour from latest SVN. It seems that adding
> 
> #include "hbset.h"
> 
> to wapi_shellapi.c cures the problem.
> 
> Can I commit this change?

No thank you. The fix is already committed.
It wasn't a build error, just warnings, and 
the binaries should have worked.

Pls read NOTE, discussion and ChangeLogs on 
the problem.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Dec  8 06:34:33 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec  8 06:34:45 2009
Subject: [Harbour] OS/2: gcc version
In-Reply-To: <4B1E27D0.9030501@mail.udg.mx>
References: <4B1E27D0.9030501@mail.udg.mx>
Message-ID: <2733921F-BD68-480B-A277-16A6688A266E@syenar.hu>

Hi David,

Sorry, but I don't understand. Is this two messages, or one?

If you merge past messages with new ones without any indication 
or date to signal it, it's rather hard to find out the essence 
of such message.

If possible try to use regular forwarding and quoting methods, 
since it's most of the time crucial to see _who_ and _when_ 
wrote _what_ text which is now included in a message. Especially 
in rather long threads and quotes from months/years ago.

Brgds,
Viktor

On 2009 Dec 8, at 11:17, David Arturo Macias Corona wrote:

> os2gcc434 and os2gcc442 are available
> 
> -------------
> Paul Smedley has added GCC 4.3.4 on www.smedley.info/os2ports/ This the OS/2 port of the GNU C Compiler.
> 
> Web page: os2ports.smedley.info/index.php
> Download: download.smedley.info/gcc-4.3.4-os2-20090807.zip
> 
> Paul Smedley has updated the OS/2 port of the GNU C Compiler to v4.4.2 www.smedley.info/os2ports/
> Web page: os2ports.smedley.info/index.php
> Download: download.smedley.info/gcc-4.4.2-os2-20091205.zip
> -------------
> 
> David Macias
> 
> 
> We have months landing Harbour with newer gcc: gcc404, gcc432, gcc433,
> gcc440
> and now appear new packages "built with gcc 4.4.1"  :-)
> 
> I am centered on tests with Harbour-gcc433 as reference release
> 
> gcc441 does not appear as Paul Smedley or Netlabs releases, so some
> people are working recently on this port and they are in Japan
> 
> http://ebisa.hp.infoseek.co.jp/os2/index.htm
> 
> Some packages are very recent, as:
> 
> 0.9.8l for kLIBC (gcc 4.4.1) : openssl-0.9.8l-klibc-20091108.zip
> # SDL 1.2.14 for OS/2 (built with gcc-4.4.1)
> 
>    * SDL-1.2.14-os2-gcc44-20091106.zip
>    * fslib_r5-gcc44-20091104.zip
>    * ...
> 
> # SDL 1.2.13 for OS/2 (built with gcc-4.3.3)
> 
>    * SDL-1.2.13-os2-gcc433-20090506.zip
>    * SDL-1.2.13-os2-gcc433-20090419.zip
> 
> But doubts remain: file name say "gcc44" (4.4.0 ?) and docs say:
> ------------
>  Headers, libraries and config tool (sdl-config) are suitable for gcc
> 4.4.1.
>  (It may also work with gcc 3.3.5 csd 3)
> [...]
> 2009-11-06
> - Based on SDL-1.2.14
> - Built with gcc 4.4.1
> ------------
> 
> 
> Anyway, we can wait some time and if new gcc version appear then we can
> test with Harbour
> 
> David Macias
> 
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From dbtopas at dbtopas.lt  Tue Dec  8 07:01:17 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Dec  8 06:59:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13166] trunk/harbour
In-Reply-To: <E1NHxr4-0006JH-Sg@dn4whf1.ch3.sourceforge.com>
References: <E1NHxr4-0006JH-Sg@dn4whf1.ch3.sourceforge.com>
Message-ID: <4B1E400D.4060308@dbtopas.lt>

Hi,

> 2009-12-08 12:02 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * include/Makefile
>   + include/hbwinuni.h
>   * contrib/hbwin/wapi_shellapi.c
>   * include/hbwince.h
>     + Moved new UNICODE translation macros to separate header.

#define HB_RETSTR( str )             hb_retstr( hb_setGetOSCP(), str )
#define HB_RETSTRLEN( str, len )     hb_retstr( hb_setGetOSCP(), str, len )


Something's wrong here.


Regards,
Mindaugas
From harbour.01 at syenar.hu  Tue Dec  8 07:15:13 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec  8 07:15:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13166] trunk/harbour
In-Reply-To: <4B1E400D.4060308@dbtopas.lt>
References: <E1NHxr4-0006JH-Sg@dn4whf1.ch3.sourceforge.com>
	<4B1E400D.4060308@dbtopas.lt>
Message-ID: <BEEEFFD9-3505-437E-826E-8EDE267B61C2@syenar.hu>

>> 2009-12-08 12:02 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * include/Makefile
>>  + include/hbwinuni.h
>>  * contrib/hbwin/wapi_shellapi.c
>>  * include/hbwince.h
>>    + Moved new UNICODE translation macros to separate header.
> 
> #define HB_RETSTR( str )             hb_retstr( hb_setGetOSCP(), str )
> #define HB_RETSTRLEN( str, len )     hb_retstr( hb_setGetOSCP(), str, len )

Thanks, can be, I didn't test most of these yet.

Brgds,
Viktor

From e.m.giordano at emagsoftware.it  Tue Dec  8 07:16:32 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Dec  8 07:16:40 2009
Subject: [Harbour] Still unable to build Harbour from latest SVN
References: <2EFA4FCBE5D54D569EBE6C8DF54DF5B3@emag>
	<FB914907-C245-45AD-B31E-1065DA354EF3@syenar.hu>
Message-ID: <300097EF87C84E02B09FFF473EB1D90D@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: marted? 8 dicembre 2009 12.12
Oggetto: Re: [Harbour] Still unable to build Harbour from latest SVN


> No thank you. The fix is already committed.

Thank you.

> It wasn't a build error, just warnings, and
> the binaries should have worked.

My BCC reported errors like

Error E2342 ../../../wapi_shellapi.c 71: Type mismatch in parameter 'cdp'
(wanted 'void *', got 'int') in function HB_FUN_WAPI_SHELLEXECUTE

and interrupted the build but now it seems ok.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vszakats at users.sourceforge.net  Tue Dec  8 07:17:09 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec  8 07:17:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13167] trunk/harbour
Message-ID: <E1NHz09-0007de-Sv@bj8yhf1.ch3.sourceforge.com>

Revision: 13167
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13167&view=rev
Author:   vszakats
Date:     2009-12-08 12:17:08 +0000 (Tue, 08 Dec 2009)

Log Message:
-----------
2009-12-08 13:16 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbwinuni.h
    ! Fixed two typos in new macros.

  * contrib/hbwin/wapi_shellapi.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_shellapi.c
    trunk/harbour/include/hbwinuni.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Dec  8 07:39:34 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec  8 07:39:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13168] trunk/harbour
Message-ID: <E1NHzLq-00050f-4c@c3vjzd1.ch3.sourceforge.com>

Revision: 13168
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13168&view=rev
Author:   vszakats
Date:     2009-12-08 12:39:32 +0000 (Tue, 08 Dec 2009)

Log Message:
-----------
2009-12-08 13:39 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbcairo/core.c
    + Enabled HB_USE_ITEM mode which doesn't use Harbour internals.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbcairo/core.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Tue Dec  8 07:50:44 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Dec  8 07:48:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13074] trunk/harbour
In-Reply-To: <20091208025529.GC24185@linux-4bod.home.aster.pl>
References: <E1NFC0U-0008Rg-E7@d5vjzd1.ch3.sourceforge.com>	<4B1420E0.2060003@dbtopas.lt>
	<20091208025529.GC24185@linux-4bod.home.aster.pl>
Message-ID: <4B1E4BA4.6070909@dbtopas.lt>

Hi,


> First you wrongly used hb_gcRefDec() instead of hb_gcRefFree().
> hb_gcRefDec() does not free allocated block. It only decrease
> number of reference counters. If you do not have any cross
> references then this block will be cleanly freed on next GC
> collect call. If you have such references then it may cause
> RT error ("Reference to freed block"). So you should use pair
> of functions: hb_gcRefInc()/hb_gcRefFree().
> 
> I do not think that hb_gcRefDec() is necessary for any 3-rd party
> code. It's not even used in current core code so probably I should
> remove it to not confuse users and maybe add:
>    #define hb_gcRefDec hb_gcRefFree
> to hbapi.h.
> 
> The new GC extensions opens door for some interesting extensions
> in none core code so maybe it's time to make hb_gcRefInc() and
> hb_gcRefFree() public functions though I'm not sure how many people
> will have enough knowledge to use it without breaking some internals.

I think these should be made public (otherwise ugly #define 
_API_INTERNAL_ is required in code).

hb_gcRefDec()/hb_gcRefFree() really confuses users. Function naming 
makes think that hb_gcRefInc() and hb_gcRefDec() are the pair, and 
hb_gcRefFree() should have a pair hb_gcRefAlloc(). Maybe name 
hb_gcRefDecFree() would be a better name. Making hb_gcRefDec() to have 
functionality of hb_geRefFree() will also be good (but do not add both 
hb_gcRefDec() and hb_gcRefFree() with the same functionality - redundant 
names also confuses). Leaving the current names would be also good if 
only hb_gcRefInc() and hb_gcRefFree() will be moved to a public API.


Regards,
Mindaugas


P.S. I'll have more questions on GC, but I should try to make things 
clear myself before asking you.
From dbtopas at dbtopas.lt  Tue Dec  8 07:53:32 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Dec  8 07:51:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13168] trunk/harbour
In-Reply-To: <E1NHzLq-00050f-4c@c3vjzd1.ch3.sourceforge.com>
References: <E1NHzLq-00050f-4c@c3vjzd1.ch3.sourceforge.com>
Message-ID: <4B1E4C4C.9090500@dbtopas.lt>

Hi,


> 2009-12-08 13:39 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbcairo/core.c
>     + Enabled HB_USE_ITEM mode which doesn't use Harbour internals.

Viktor, I do not think this is a good commit before questions about GC 
API are finally solved.


Regards,
Mindaugas
From harbour.01 at syenar.hu  Tue Dec  8 08:00:03 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec  8 08:00:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13168] trunk/harbour
In-Reply-To: <4B1E4C4C.9090500@dbtopas.lt>
References: <E1NHzLq-00050f-4c@c3vjzd1.ch3.sourceforge.com>
	<4B1E4C4C.9090500@dbtopas.lt>
Message-ID: <1A95E935-7C9D-468E-B847-C5000D7E047C@syenar.hu>

>> 2009-12-08 13:39 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * contrib/hbcairo/core.c
>>    + Enabled HB_USE_ITEM mode which doesn't use Harbour internals.
> 
> Viktor, I do not think this is a good commit before questions about GC API are finally solved.

As per Przemek's last commit, both versions work now 
equally well, both versions are equal in length, 
but non-internal is much easier to understand, plus 
it's safe to copy/adapt by other developers. Anyhow I 
also left internal code there for the time being.

Maybe I'm missing something but I fail to see why internal 
version should be used at this point. Does it give much 
more performance?

Brgds,
Viktor

From dbtopas at dbtopas.lt  Tue Dec  8 08:37:50 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Dec  8 08:35:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13168] trunk/harbour
In-Reply-To: <1A95E935-7C9D-468E-B847-C5000D7E047C@syenar.hu>
References: <E1NHzLq-00050f-4c@c3vjzd1.ch3.sourceforge.com>	<4B1E4C4C.9090500@dbtopas.lt>
	<1A95E935-7C9D-468E-B847-C5000D7E047C@syenar.hu>
Message-ID: <4B1E56AE.4010107@dbtopas.lt>

Hi,


Viktor Szak?ts wrote:
>>> 2009-12-08 13:39 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>>  * contrib/hbcairo/core.c
>>>    + Enabled HB_USE_ITEM mode which doesn't use Harbour internals.
>> Viktor, I do not think this is a good commit before questions about GC API are finally solved.
> 
> As per Przemek's last commit, both versions work now 
> equally well, both versions are equal in length, 
> but non-internal is much easier to understand,

The "non-internal" version is more *difficult* to understand.
To understand it you must know how collectible pointers are stored in 
items, you must know that does "locked item" means. Do you know why 
hb_gcUnlock() is used, what will go wrong if it will not be used? Why GC 
marking will be redundant without hb_gcUnlock()?


> Maybe I'm missing something but I fail to see why internal 
> version should be used at this point. Does it give much 
> more performance?

This is not a speed question here. For me usage of GC reference counter 
is more clear than usage of extra item to force keeping GC block 
unreleased. In "non-internal" version we have references:
    iterator -> item -> path
otherwise:
    iterator -> path

This extra item is not useful by itself. The whole C code operates on 
path, these is no interfacing to .prg level here. We do not need an item 
here, we need path only. In this case this extra item is just a 
workaround to keep path reference counter increased instead of direct 
hb_gcRefInc() call.

I want to see the second version (without extra item) working by default 
in the final code, but I want to leave HB_USE_ITEM define, to make users 
have a sample of various ways to cross-reference GC blocks. They can see 
both of versions, compare it and understand how things work.


Regards,
Mindaugas
From harbour.01 at syenar.hu  Tue Dec  8 09:16:12 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec  8 09:16:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13168] trunk/harbour
In-Reply-To: <4B1E56AE.4010107@dbtopas.lt>
References: <E1NHzLq-00050f-4c@c3vjzd1.ch3.sourceforge.com>	<4B1E4C4C.9090500@dbtopas.lt>
	<1A95E935-7C9D-468E-B847-C5000D7E047C@syenar.hu>
	<4B1E56AE.4010107@dbtopas.lt>
Message-ID: <2FE680D5-D708-40CB-A853-CCEBCCD0456C@syenar.hu>

>>>> 2009-12-08 13:39 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>>> * contrib/hbcairo/core.c
>>>>   + Enabled HB_USE_ITEM mode which doesn't use Harbour internals.
>>> Viktor, I do not think this is a good commit before questions about GC API are finally solved.
>> As per Przemek's last commit, both versions work now equally well, both versions are equal in length, but non-internal is much easier to understand,
> 
> The "non-internal" version is more *difficult* to understand.
> To understand it you must know how collectible pointers are stored in items, you must know that does "locked item" means. Do you know why hb_gcUnlock() is used, what will go wrong if it will not be used? Why GC marking will be redundant without hb_gcUnlock()?

It's still the documented way, and documented APIs 
look much more familiar to 99.99% of developers. Anyhow 
both methods require quite advanced knowledge, but 
the internal version is more cryptic to me, since I've 
very rarely seen or heard about those calls.

I for one would be happy to grasp _one_ example and 
apply it to other projects.

>> Maybe I'm missing something but I fail to see why internal version should be used at this point. Does it give much more performance?
> 
> This is not a speed question here. For me usage of GC reference counter is more clear than usage of extra item to force keeping GC block unreleased. In "non-internal" version we have references:
>   iterator -> item -> path
> otherwise:
>   iterator -> path
> 
> This extra item is not useful by itself. The whole C code operates on path, these is no interfacing to .prg level here. We do not need an item here, we need path only. In this case this extra item is just a workaround to keep path reference counter increased instead of direct hb_gcRefInc() call.

I don't mind if a PHB_ITEM container is used if it makes 
sense, or makes coding simpler or documented.

I trust Przemek's judgment that these low-level functions 
are marked as internals for good reason. After all the last 
thing we want to do is help users creating risky or easily 
breakable code with hard-to-oversee side effects. (there are 
quite many options to write bad code anyway).

Of course it's possible that these internal APIs can be tamed, 
and made available as public ones, I have nothing against it, 
but at this moment this is not the case.

This means in this case, that it's an optimization to drop 
PHB_ITEM with the help of Harbour internals.

> I want to see the second version (without extra item) working by default in the final code, but I want to leave HB_USE_ITEM define, to make users have a sample of various ways to cross-reference GC blocks. They can see both of versions, compare it and understand how things work.

I'd like to leave only one option and it's a strong opinion. 
I see no point at all to give user options for such a small and 
low-level details, which only 2-3 ppl understand in the whole 
Harbour community. I've cleaned several dozens of such options 
in the past for good.

It's our/developers' job to chose best method and use that 
consistently in code. 

Remember that contribs are the best examples for 3rd party 
developers to follow, and presenting them options is rather only 
good to confuse them and mix them, and make mistakes. These 
techniques are eventually copied to other projects, so we should 
be careful what to include and it should be the _best_ _documented_ 
way of doing things.

IOW, for documentation of _possible alternate techniques_ and 
coding options, the live SVN codebase is not the best place. 
Such information is useful only for expert users and should  
be added to /doc, instead of final code. But: Even such docs 
shouldn't refer to undocumented internals.

Brgds,
Viktor

From mbelgrano at deltain.it  Tue Dec  8 09:19:06 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Dec  8 09:19:35 2009
Subject: [Harbour] QT for MSVC and Harbour
In-Reply-To: <E718A529-A390-4859-84FE-D4C7FF56C408@syenar.hu>
References: <53E0B60C-1FAD-45A8-B2BF-5DC8D534BE01@syenar.hu> 
	<609353e70912030313k7675698q338c15134a35fcde@mail.gmail.com> 
	<A231FDD3-086A-4781-8DFC-BC7D858556B3@syenar.hu>
	<-7438082928333224985@unknownmsgid> 
	<18d502870912030843r66cedb92i650187aa1ac28716@mail.gmail.com> 
	<E718A529-A390-4859-84FE-D4C7FF56C408@syenar.hu>
Message-ID: <609353e70912080619n698ce09cn264f7a71aea71bd@mail.gmail.com>

With 4.6 qt are providing an opensource version of the Visual Studio
2008 binary packag
Qt 4.6 is pre-built using the shared C runtime (MD(d),msvcrtd.lib)
With /MD cflag we do "Creates a multithreaded DLL using MSVCRT.lib.
according to  list of MS complier flags and their descriptions.
http://msdn2.microsoft.com/en-us/library/fwkeyyhe.aspx

http://doc.trolltech.com/4.6/compiler-notes.html
http://doc.trolltech.com/4.6/deployment-windows.html

is /MD cflag the only way of make qt 4.6 and microsoft visual c 2008?

Is possible the way of Recompile qt with different parameter
search another distribution?

Can -MD be predefined by harbour for msvc?




2009/12/4 Viktor Szak?ts <harbour.01@syenar.hu>:
> So I finally managed to use Harbour with QT for MSVC.
> (just some obvious bits were missing)
>
> So:
>
> Whole Harbour needs to be built with -MD C compiler option,
> and the final apps as well:
>
>> win-make HB_USER_CFLAGS=-MD
>> hbmk2 hbide.hbp -cflag=-MD
>
> Due to beautiful nature of C++, the mingw .dlls are not
> working with MSVC apps, so you must use the .dlls that
> come with QT for MSVC.
>
> This is so clumsy that I won't care to document it in
> INSTALL. Bookmark this e-mail for future reference if you're
> interested in this scenario.
>
> Brgds,
> Viktor
>
> On 2009 Dec 3, at 17:43, Viktor Szak?ts wrote:
>
>> No doubt it's useful. It's just a lot of time. BTW, I got stuck with
>> the msvc 4.6 qt, it'd nice if this could be checked by an msvc2008
>> user.
>>
>> 2009/12/3, Bisz Istv?n <Istvan.Bisz@t-online.hu>:
>>> Hi Viktor,
>>>
>>>> No, it's the result of moving my "unofficial" beta3
>>>> packages from my web host to sf.net. This directed the traffic
>>>> to sf.net, which is calculated to the rank by sf.net engine.
>>>
>>> Maybe a beta4, with the new settings/findings with Qt4.6 is useful for the
>>> community, how do you think?
>>>
>>> Best regards,
>>> Istv?n
>>>
>>>
>>> _______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>> --
>> Saj?t mobilk?sz?l?kemr?l k?ldve
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Tue Dec  8 09:28:18 2009
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec  8 09:28:29 2009
Subject: [Harbour] QT for MSVC and Harbour
In-Reply-To: <609353e70912080619n698ce09cn264f7a71aea71bd@mail.gmail.com>
References: <53E0B60C-1FAD-45A8-B2BF-5DC8D534BE01@syenar.hu>
	<609353e70912030313k7675698q338c15134a35fcde@mail.gmail.com>
	<A231FDD3-086A-4781-8DFC-BC7D858556B3@syenar.hu>
	<-7438082928333224985@unknownmsgid>
	<18d502870912030843r66cedb92i650187aa1ac28716@mail.gmail.com>
	<E718A529-A390-4859-84FE-D4C7FF56C408@syenar.hu>
	<609353e70912080619n698ce09cn264f7a71aea71bd@mail.gmail.com>
Message-ID: <83535447-213E-4045-8981-4E059FFB7545@syenar.hu>

> With 4.6 qt are providing an opensource version of the Visual Studio
> 2008 binary packag
> Qt 4.6 is pre-built using the shared C runtime (MD(d),msvcrtd.lib)
> With /MD cflag we do "Creates a multithreaded DLL using MSVCRT.lib.
> according to  list of MS complier flags and their descriptions.
> http://msdn2.microsoft.com/en-us/library/fwkeyyhe.aspx
> 
> http://doc.trolltech.com/4.6/compiler-notes.html
> http://doc.trolltech.com/4.6/deployment-windows.html
> 
> is /MD cflag the only way of make qt 4.6 and microsoft visual c 2008?

If you want to use default QT for MSVC binary build, yes.

> Is possible the way of Recompile qt with different parameter
> search another distribution?

I'd guess it is, but you should ask this question on QT forums.

> Can -MD be predefined by harbour for msvc?

No.

Though, you can easily define it locally using HB_USER_CFLAGS=-MD.
Don't forget to also rebuild all 3rd party libs with this options.

Brgds,
Viktor

From dbtopas at dbtopas.lt  Tue Dec  8 09:32:57 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Dec  8 09:30:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13168] trunk/harbour
In-Reply-To: <2FE680D5-D708-40CB-A853-CCEBCCD0456C@syenar.hu>
References: <E1NHzLq-00050f-4c@c3vjzd1.ch3.sourceforge.com>	<4B1E4C4C.9090500@dbtopas.lt>	<1A95E935-7C9D-468E-B847-C5000D7E047C@syenar.hu>	<4B1E56AE.4010107@dbtopas.lt>
	<2FE680D5-D708-40CB-A853-CCEBCCD0456C@syenar.hu>
Message-ID: <4B1E6399.6000705@dbtopas.lt>

Hi,


Viktor Szak?ts wrote:
> I don't mind if a PHB_ITEM container is used if it makes 
> sense, or makes coding simpler or documented.

But it doesn't.


>> I want to see the second version (without extra item) working by default in the final code, but I want to leave HB_USE_ITEM define, to make users have a sample of various ways to cross-reference GC blocks. They can see both of versions, compare it and understand how things work.
> 
> I'd like to leave only one option and it's a strong opinion. 
> I see no point at all to give user options for such a small and 
> low-level details
> ...
> Such information is useful only for expert users and should  
> be added to /doc, instead of final code. 

I'm not good at writing docs, so, let's remove it from SVN code after 
you (or someone else) will add it to the docs :)


Regards,
Mindaugas
From vszakats at users.sourceforge.net  Tue Dec  8 09:35:37 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec  8 09:35:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13169] trunk/harbour
Message-ID: <E1NI1A9-0001vQ-6v@74yxhf1.ch3.sourceforge.com>

Revision: 13169
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13169&view=rev
Author:   vszakats
Date:     2009-12-08 14:35:35 +0000 (Tue, 08 Dec 2009)

Log Message:
-----------
2009-12-08 15:34 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_slots.cpp
    * Further formatting and some variables renamed.
      Again sorry for using such long lines, but - at least to me -
      it reveals the slot logic so clearly.
      In fact from this point it's even visible how this could 
      be made modular.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Dec  8 09:41:18 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec  8 09:41:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13168] trunk/harbour
In-Reply-To: <4B1E6399.6000705@dbtopas.lt>
References: <E1NHzLq-00050f-4c@c3vjzd1.ch3.sourceforge.com>	<4B1E4C4C.9090500@dbtopas.lt>	<1A95E935-7C9D-468E-B847-C5000D7E047C@syenar.hu>	<4B1E56AE.4010107@dbtopas.lt>
	<2FE680D5-D708-40CB-A853-CCEBCCD0456C@syenar.hu>
	<4B1E6399.6000705@dbtopas.lt>
Message-ID: <779F69C7-CB19-4D04-BF95-A1B7ED69FCD0@syenar.hu>

> Viktor Szak?ts wrote:
>> I don't mind if a PHB_ITEM container is used if it makes sense, or makes coding simpler or documented.
> 
> But it doesn't.

Emphasis (in this specific case) on 'documented'.

>>> I want to see the second version (without extra item) working by default in the final code, but I want to leave HB_USE_ITEM define, to make users have a sample of various ways to cross-reference GC blocks. They can see both of versions, compare it and understand how things work.
>> I'd like to leave only one option and it's a strong opinion. I see no point at all to give user options for such a small and low-level details
>> ...
>> Such information is useful only for expert users and should  be added to /doc, instead of final code. 
> 
> I'm not good at writing docs, so, let's remove it from SVN code after you (or someone else) will add it to the docs :)

AFAICT (having read some of your docs), this isn't the case. 
Anyway, we have only one alternative which uses documented 
method ATM, so it's not the time yet to document/compare options.

We will see where it goes.

Brgds,
Viktor

From mbelgrano at deltain.it  Tue Dec  8 10:21:20 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Dec  8 10:21:47 2009
Subject: [Harbour] QT for MSVC and Harbour
In-Reply-To: <83535447-213E-4045-8981-4E059FFB7545@syenar.hu>
References: <53E0B60C-1FAD-45A8-B2BF-5DC8D534BE01@syenar.hu> 
	<609353e70912030313k7675698q338c15134a35fcde@mail.gmail.com> 
	<A231FDD3-086A-4781-8DFC-BC7D858556B3@syenar.hu>
	<-7438082928333224985@unknownmsgid> 
	<18d502870912030843r66cedb92i650187aa1ac28716@mail.gmail.com> 
	<E718A529-A390-4859-84FE-D4C7FF56C408@syenar.hu>
	<609353e70912080619n698ce09cn264f7a71aea71bd@mail.gmail.com> 
	<83535447-213E-4045-8981-4E059FFB7545@syenar.hu>
Message-ID: <609353e70912080721q5db711f5q82b656a05498a7e7@mail.gmail.com>

Why ?
Imo Is better a choice that allow use qt
If qt find advantage of using  msvcrtd.lib can't be advantage also for harbour?
Wich Disadvantage in msvcrtd.lib?

2009/12/8 Viktor Szak?ts <harbour.01@syenar.hu>:
>
>> Can -MD be predefined by harbour for msvc?
>
> No.
>
> Though, you can easily define it locally using HB_USER_CFLAGS=-MD.
> Don't forget to also rebuild all 3rd party libs with this options.
>


-- 
Massimo Belgrano
From xharbour at telkom.net.id  Tue Dec  8 10:41:03 2009
From: xharbour at telkom.net.id (Andi Jahja)
Date: Tue Dec  8 10:41:22 2009
Subject: [Harbour] QT for MSVC and Harbour
In-Reply-To: <83535447-213E-4045-8981-4E059FFB7545@syenar.hu>
References: <609353e70912080619n698ce09cn264f7a71aea71bd@mail.gmail.com>
	<83535447-213E-4045-8981-4E059FFB7545@syenar.hu>
Message-ID: <20091208224101.23DC.422BA498@telkom.net.id>

On Tue, 8 Dec 2009 15:28:18 +0100
Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> > With 4.6 qt are providing an opensource version of the Visual Studio
> > 2008 binary packag
> > Qt 4.6 is pre-built using the shared C runtime (MD(d),msvcrtd.lib)
> > With /MD cflag we do "Creates a multithreaded DLL using MSVCRT.lib.
> > according to  list of MS complier flags and their descriptions.
> > http://msdn2.microsoft.com/en-us/library/fwkeyyhe.aspx
> > 
> > http://doc.trolltech.com/4.6/compiler-notes.html
> > http://doc.trolltech.com/4.6/deployment-windows.html
> > 
> > is /MD cflag the only way of make qt 4.6 and microsoft visual c 2008?
> 
> If you want to use default QT for MSVC binary build, yes.

Sorry to jump in. It is not true that we have to have all our things
built with MD flags in this screnario. I am using MSVS2008 which has MT
as default flag and it does work with the QT. Ms gives you the liberty
for whether you want to link it with static (LIBCMT.LIB) or shared
(MSVCRT.LIB :: MSVCRT.DLL) library. All we have to do is to add the
following options when linking:

    /NODEFAULTLIB: MSVCRT.LIB
    /DEFAULTLIB: LIBCMT.LIB

This way, we can use QT MSVC Binaries with Harbour MSVC2008 default flag
(which is MT)

> > Is possible the way of Recompile qt with different parameter
> > search another distribution?
> 
> I'd guess it is, but you should ask this question on QT forums.

It is as simple as changing MD with MT in MSVC2008 configuration file 
(look at it in QT distribution folder)

--
Andi

From harbour.01 at syenar.hu  Tue Dec  8 10:44:04 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec  8 10:44:14 2009
Subject: [Harbour] QT for MSVC and Harbour
In-Reply-To: <609353e70912080721q5db711f5q82b656a05498a7e7@mail.gmail.com>
References: <53E0B60C-1FAD-45A8-B2BF-5DC8D534BE01@syenar.hu>
	<609353e70912030313k7675698q338c15134a35fcde@mail.gmail.com>
	<A231FDD3-086A-4781-8DFC-BC7D858556B3@syenar.hu>
	<-7438082928333224985@unknownmsgid>
	<18d502870912030843r66cedb92i650187aa1ac28716@mail.gmail.com>
	<E718A529-A390-4859-84FE-D4C7FF56C408@syenar.hu>
	<609353e70912080619n698ce09cn264f7a71aea71bd@mail.gmail.com>
	<83535447-213E-4045-8981-4E059FFB7545@syenar.hu>
	<609353e70912080721q5db711f5q82b656a05498a7e7@mail.gmail.com>
Message-ID: <291D7A23-1EE4-4CEC-BEE8-0B98687EC6BA@syenar.hu>

> Why ?
> Imo Is better a choice that allow use qt

Who says we don't "allow" QT usage? It can be used with 
MinGW just as before (disregarding uncomfortable MinGW 
installation of DWARF builds), and it's not us who define 
the rules to use QT, it's Nokia.

> If qt find advantage of using  msvcrtd.lib can't be advantage also for harbour?
> Wich Disadvantage in msvcrtd.lib?

1) It should be user choice to select non-default 
   compiler options. Moreover if we enabled this, we would 
   cut of easy selection of -MD/-MT mode by users.
   (this is why I removed -MT even)

2) Enabling this for QT is like the tail wagging the dog.
   QT is just one of the dozens/hundreds of libs usable 
   with Harbour, and it looks slightly overkill to require 
   all users to recompile all MSVC-built libs for the sake 
   of one lib.

3) There are several options available to solve this problem 
   locally, so Harbour is not the bottleneck here. IOW, 
   it "allows" you to use QT is several scenarios, that's 
   why we have build-time options, and that why you have 
   QT sources at hand.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Dec  8 10:53:00 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec  8 10:53:10 2009
Subject: [Harbour] QT for MSVC and Harbour
In-Reply-To: <20091208224101.23DC.422BA498@telkom.net.id>
References: <609353e70912080619n698ce09cn264f7a71aea71bd@mail.gmail.com>
	<83535447-213E-4045-8981-4E059FFB7545@syenar.hu>
	<20091208224101.23DC.422BA498@telkom.net.id>
Message-ID: <1B82C84D-1DE1-4D90-848C-808653053F0C@syenar.hu>

>>> http://doc.trolltech.com/4.6/compiler-notes.html
>>> http://doc.trolltech.com/4.6/deployment-windows.html
>>> 
>>> is /MD cflag the only way of make qt 4.6 and microsoft visual c 2008?
>> 
>> If you want to use default QT for MSVC binary build, yes.
> 
> Sorry to jump in. It is not true that we have to have all our things
> built with MD flags in this screnario. I am using MSVS2008 which has MT
> as default flag and it does work with the QT. Ms gives you the liberty
> for whether you want to link it with static (LIBCMT.LIB) or shared
> (MSVCRT.LIB :: MSVCRT.DLL) library. All we have to do is to add the
> following options when linking:
> 
>    /NODEFAULTLIB: MSVCRT.LIB
>    /DEFAULTLIB: LIBCMT.LIB
> 
> This way, we can use QT MSVC Binaries with Harbour MSVC2008 default flag
> (which is MT)

Thanks for the tip Andi.

Generally this seems a little bit dangerous as both .dll and static 
version of C RTL is linked and used at the same time. I'd guess it 
could cause problems only if passing certain C structures/handles 
between them, anyhow it'd be nice to hear something about this aspect.

In case this is safe, we may document it, or even include these flags 
in hbqt.hbc.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Dec  8 10:57:29 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec  8 10:57:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13170] trunk/harbour
Message-ID: <E1NI2RN-0001rM-6q@d5vjzd1.ch3.sourceforge.com>

Revision: 13170
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13170&view=rev
Author:   vszakats
Date:     2009-12-08 15:57:21 +0000 (Tue, 08 Dec 2009)

Log Message:
-----------
2009-12-08 16:56 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/common/hbver.c
    ! Fixed determining the patch level of MSVC compiler on 
      or above version 2005.
      Adapted fix from xhb / Andi Jahja.

  * contrib/hbqt/hbqt_slots.cpp
    * Little renaming.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/src/common/hbver.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Tue Dec  8 11:03:58 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Dec  8 11:04:09 2009
Subject: [Harbour] copiling using HBHPDF
Message-ID: <133778360912080803j33f928a4h5f008d8942955149@mail.gmail.com>

I try a sample of libharu and get an error

I need to know which libs are needed to compile libharu

I am using this line , based on hbp files from libharu

hbmk2 pdf_libharu -loohg -lhbhpdf -llibhpdf -lhbct -w3 -es2


what is wrong with that ?

Thanks

Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091208/e3c11cda/attachment.html
From harbour.01 at syenar.hu  Tue Dec  8 11:10:47 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec  8 11:10:56 2009
Subject: [Harbour] copiling using HBHPDF
In-Reply-To: <133778360912080803j33f928a4h5f008d8942955149@mail.gmail.com>
References: <133778360912080803j33f928a4h5f008d8942955149@mail.gmail.com>
Message-ID: <CB6A9ADB-51C2-46B7-B4A3-955F54D0571B@syenar.hu>

Hi,

> I try a sample of libharu and get an error 
> 
> I need to know which libs are needed to compile libharu
> 
> I am using this line , based on hbp files from libharu
> 
> hbmk2 pdf_libharu -loohg -lhbhpdf -llibhpdf -lhbct -w3 -es2
> 
> 
> what is wrong with that ?

You forgot to tell the error, so I just guess it's unresolved 
png references.

Use contrib/hbhpdf/hbhpdf.hbc to refer to hbhpdf lib and 
in this case hbmk2 will automatically pull everything required, 
no guessing needed.

Brgds,
Viktor

From bedipritpal at hotmail.com  Tue Dec  8 11:22:27 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Dec  8 11:22:34 2009
Subject: [Harbour] Create Process API - Brief Overview Requested
Message-ID: <26696490.post@talk.nabble.com>


Hello All

Can someone provides a brief overview with syntax
how to use Create Process API?

The goal is like this:

1) HBIDE will create a .hbp file 
2) Have to run a .bat to set the compiler dpendant environments
3) Will call HBMK2 which in turn adopt the env set in step 2.
4) HBIDE captures linker/compiler output to display in its interface

I can use QProcess() class of Qt but it is better to use Harbour
native API. Just to cut first learning time, this message is posted.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/Create-Process-API---Brief-Overview-Requested-tp26696490p26696490.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bruno.luciani at gmail.com  Tue Dec  8 11:33:32 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Dec  8 11:33:40 2009
Subject: [Harbour] copiling using HBHPDF
In-Reply-To: <CB6A9ADB-51C2-46B7-B4A3-955F54D0571B@syenar.hu>
References: <133778360912080803j33f928a4h5f008d8942955149@mail.gmail.com>
	<CB6A9ADB-51C2-46B7-B4A3-955F54D0571B@syenar.hu>
Message-ID: <133778360912080833u1d136a5bhe48ffc0816ccd528@mail.gmail.com>

thanks Viktor , the problem was some libs needed by OOHG

libHBWIN , libminiprint  and libhbprinter

Bruno

2009/12/8 Viktor Szak?ts <harbour.01@syenar.hu>

> Hi,
>
> > I try a sample of libharu and get an error
> >
> > I need to know which libs are needed to compile libharu
> >
> > I am using this line , based on hbp files from libharu
> >
> > hbmk2 pdf_libharu -loohg -lhbhpdf -llibhpdf -lhbct -w3 -es2
> >
> >
> > what is wrong with that ?
>
> You forgot to tell the error, so I just guess it's unresolved
> png references.
>
> Use contrib/hbhpdf/hbhpdf.hbc to refer to hbhpdf lib and
> in this case hbmk2 will automatically pull everything required,
> no guessing needed.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091208/e2eb7c1b/attachment.html
From harbour.01 at syenar.hu  Tue Dec  8 11:38:27 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec  8 11:38:38 2009
Subject: [Harbour] Create Process API - Brief Overview Requested
In-Reply-To: <26696490.post@talk.nabble.com>
References: <26696490.post@talk.nabble.com>
Message-ID: <BB2A953A-7B7B-4978-B3F8-86397973CF2A@syenar.hu>

> 1) HBIDE will create a .hbp file 
> 2) Have to run a .bat to set the compiler dpendant environments
> 3) Will call HBMK2 which in turn adopt the env set in step 2.
> 4) HBIDE captures linker/compiler output to display in its interface

As I told you before (but all my such messages seems 
ignored), there are examples for _exactly that_ in hbmk2.prg.

hbmk2 sets envvars and calls external programs. Look for 
hb_setenv() and hb_process*() calls.

Although for me hbide would be dropped as potential dev tool, 
if it will set compiler dependent variables :( First of all 
this makes it non-portable, difficult to maintain, or requires 
double logic, etcetc.

> I can use QProcess() class of Qt but it is better to use Harbour
> native API. Just to cut first learning time, this message is posted.

No need to use QProcess(), we have everything in Harbour core.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Dec  8 11:40:28 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec  8 11:40:38 2009
Subject: [Harbour] copiling using HBHPDF
In-Reply-To: <133778360912080833u1d136a5bhe48ffc0816ccd528@mail.gmail.com>
References: <133778360912080803j33f928a4h5f008d8942955149@mail.gmail.com>
	<CB6A9ADB-51C2-46B7-B4A3-955F54D0571B@syenar.hu>
	<133778360912080833u1d136a5bhe48ffc0816ccd528@mail.gmail.com>
Message-ID: <A65321D1-4FF5-47D8-98D8-BB2575F99A44@syenar.hu>

> thanks Viktor , the problem was some libs needed by OOHG 
> 
> libHBWIN , libminiprint  and libhbprinter

In this case I recommend using utils/hbmk2/examples/oohg.hbc 
as well, which will handle these for you.

I hope one day oohg developers will include oohg.hbc in 
their package to make this even simpler.

Brgds,
Viktor

> 
> Bruno 
> 
> 2009/12/8 Viktor Szak?ts <harbour.01@syenar.hu>
> Hi,
> 
> > I try a sample of libharu and get an error
> >
> > I need to know which libs are needed to compile libharu
> >
> > I am using this line , based on hbp files from libharu
> >
> > hbmk2 pdf_libharu -loohg -lhbhpdf -llibhpdf -lhbct -w3 -es2
> >
> >
> > what is wrong with that ?
> 
> You forgot to tell the error, so I just guess it's unresolved
> png references.
> 
> Use contrib/hbhpdf/hbhpdf.hbc to refer to hbhpdf lib and
> in this case hbmk2 will automatically pull everything required,
> no guessing needed.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bruno.luciani at gmail.com  Tue Dec  8 11:42:54 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Dec  8 11:43:04 2009
Subject: [Harbour] copiling using HBHPDF
In-Reply-To: <A65321D1-4FF5-47D8-98D8-BB2575F99A44@syenar.hu>
References: <133778360912080803j33f928a4h5f008d8942955149@mail.gmail.com>
	<CB6A9ADB-51C2-46B7-B4A3-955F54D0571B@syenar.hu>
	<133778360912080833u1d136a5bhe48ffc0816ccd528@mail.gmail.com>
	<A65321D1-4FF5-47D8-98D8-BB2575F99A44@syenar.hu>
Message-ID: <133778360912080842u76d5b7derdaa43e857155c744@mail.gmail.com>

I talk to OOHG  developers about that

thanks Viktor

Bruno

2009/12/8 Viktor Szak?ts <harbour.01@syenar.hu>

> > thanks Viktor , the problem was some libs needed by OOHG
> >
> > libHBWIN , libminiprint  and libhbprinter
>
> In this case I recommend using utils/hbmk2/examples/oohg.hbc
> as well, which will handle these for you.
>
> I hope one day oohg developers will include oohg.hbc in
> their package to make this even simpler.
>
> Brgds,
> Viktor
>
> >
> > Bruno
> >
> > 2009/12/8 Viktor Szak?ts <harbour.01@syenar.hu>
> > Hi,
> >
> > > I try a sample of libharu and get an error
> > >
> > > I need to know which libs are needed to compile libharu
> > >
> > > I am using this line , based on hbp files from libharu
> > >
> > > hbmk2 pdf_libharu -loohg -lhbhpdf -llibhpdf -lhbct -w3 -es2
> > >
> > >
> > > what is wrong with that ?
> >
> > You forgot to tell the error, so I just guess it's unresolved
> > png references.
> >
> > Use contrib/hbhpdf/hbhpdf.hbc to refer to hbhpdf lib and
> > in this case hbmk2 will automatically pull everything required,
> > no guessing needed.
> >
> > Brgds,
> > Viktor
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091208/b25ac4f2/attachment-0001.html
From bedipritpal at hotmail.com  Tue Dec  8 13:54:07 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Dec  8 13:54:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13169] trunk/harbour
In-Reply-To: <E1NI1A9-0001vQ-6v@74yxhf1.ch3.sourceforge.com>
References: <E1NI1A9-0001vQ-6v@74yxhf1.ch3.sourceforge.com>
Message-ID: <26698786.post@talk.nabble.com>


Hi


vszakats wrote:
> 
> 2009-12-08 15:34 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbqt/hbqt_slots.cpp
>     * Further formatting and some variables renamed.
>       Again sorry for using such long lines, but - at least to me -
>       it reveals the slot logic so clearly.
>       In fact from this point it's even visible how this could 
>       be made modular.
> 

Good and logical commit, thank you.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13169--trunk-harbour-tp26694849p26698786.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Tue Dec  8 13:58:03 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Dec  8 13:58:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13148] trunk/harbour
In-Reply-To: <609353e70912080110m1d22eb0dy81f6dc7a6298ad0d@mail.gmail.com>
References: <E1NHQxp-00061g-D1@74yxhf1.ch3.sourceforge.com>
	<609353e70912080110m1d22eb0dy81f6dc7a6298ad0d@mail.gmail.com>
Message-ID: <26698861.post@talk.nabble.com>


Hi Massimo


Massimo Belgrano-3 wrote:
> 
> Why use different project structure from hbmk2?
> 

Do you understand the intent and functioning of HBIDE ? 
Also can you imagine what else will go into .hbi in future ?
And why you are comapring it with Xbase++ ?

.hbp project will be generated from within .hbi 
and will remain available to the developer as is.

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13148--trunk-harbour-tp26671174p26698861.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Tue Dec  8 14:01:36 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Dec  8 14:01:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13164] trunk/harbour
In-Reply-To: <E1NHxNj-0005A2-1M@dn4whf1.ch3.sourceforge.com>
References: <E1NHxNj-0005A2-1M@dn4whf1.ch3.sourceforge.com>
Message-ID: <26698929.post@talk.nabble.com>


Hello Viktor


vszakats wrote:
> 
> 2009-12-08 11:30 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>     * Deleted commented debug calls.
> 

Though this commit is a step forward in right direction,
I object in removing the debug calls, even those are commented ones.

Please remember, the whole protocol is not yet stable
and I always need those calls whenever I turn my attention
to that angle.

Though I undestand your viewpoint, but please keep these 
calls as is.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13164--trunk-harbour-tp26691773p26698929.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Tue Dec  8 14:09:42 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Dec  8 14:09:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13163] trunk/harbour
In-Reply-To: <609353e70912080047j1537493aqc4773b738fb34585@mail.gmail.com>
References: <E1NHul7-0007Rh-Is@c3vjzd1.ch3.sourceforge.com>
	<609353e70912080047j1537493aqc4773b738fb34585@mail.gmail.com>
Message-ID: <26699052.post@talk.nabble.com>


Massimo


Massimo Belgrano-3 wrote:
> 
> demoxbp.o:demoxbp.c:(.data+0x98): undefined reference to
> `HB_FUN_HBXBP_DEBUG'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> 

I do not understand why you send unnecessary message
to the list just to make a mess of a thread contents.

So many times it is repeated that in what circumstances 
hbsbp_debug() is activated. What I believe you just 
do not read the messages carefully or you have lapse
memory.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13163--trunk-harbour-tp26689922p26699052.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Tue Dec  8 14:11:11 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Dec  8 14:11:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13163] trunk/harbour
In-Reply-To: <609353e70912080024l752928e1l1d39b6932db15acf@mail.gmail.com>
References: <E1NHul7-0007Rh-Is@c3vjzd1.ch3.sourceforge.com>
	<609353e70912080024l752928e1l1d39b6932db15acf@mail.gmail.com>
Message-ID: <26699079.post@talk.nabble.com>


Again this is mistargetted message.
Istvan dis not asked for this and probably 
he reads all the messages on this group.


Massimo Belgrano-3 wrote:
> 
> This is a reply for?Istv?n
> ---------- Forwarded message ----------
> From:?Bisz Istv?n?<Istvan.Bisz@t-online.hu>
> Date: 2009/12/3
> Subject: RE: [Harbour] SF.net SVN: harbour-project:[13103] trunk/harbour
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Pritpal, if you have some spare time, can you please take a look of
> the parent-child issue of the statics. They are a show stopper in
> demoqt and demoxbp.
> Best regards,
> Istv?n
> 
> 2009/12/8 <vouchcac@users.sourceforge.net>
>>
>> Revision: 13163
>> ? ? ? ?
>> ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13163&view=rev
>> Author: ? vouchcac
>> Date: ? ? 2009-12-08 07:45:20 +0000 (Tue, 08 Dec 2009)
>>
>> Log Message:
>> -----------
>> 2009-12-07 23:43 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>> ?* contrib/hbqt/hbqt_hbqtdbfmodel.cpp
>> ?* contrib/hbqt/hbqt_slots.cpp
>> ?* contrib/hbxbp/tests/demoxbp.prg
>> ? ?! Fixed unoperational demoxbp.exe.
>>
>> Modified Paths:
>> --------------
>> ? ?trunk/harbour/ChangeLog
>> ? ?trunk/harbour/contrib/hbqt/hbqt_hbqtdbfmodel.cpp
>> ? ?trunk/harbour/contrib/hbqt/hbqt_slots.cpp
>> ? ?trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
>>
> 
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13163--trunk-harbour-tp26689922p26699079.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Tue Dec  8 14:17:14 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Dec  8 14:17:20 2009
Subject: [Harbour] Create Process API - Brief Overview Requested
In-Reply-To: <BB2A953A-7B7B-4978-B3F8-86397973CF2A@syenar.hu>
References: <26696490.post@talk.nabble.com>
	<BB2A953A-7B7B-4978-B3F8-86397973CF2A@syenar.hu>
Message-ID: <26699158.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> As I told you before (but all my such messages seems 
> ignored), there are examples for _exactly that_ in hbmk2.prg.
> 

No, never ignored. Just wanted a fast entry into it.



> hbmk2 sets envvars and calls external programs. Look for 
> hb_setenv() and hb_process*() calls.
> 

I am thinking I am going lazy with the age. I will remain more 
careful next time.



> Although for me hbide would be dropped as potential dev tool, 
> if it will set compiler dependent variables :( First of all 
> this makes it non-portable, difficult to maintain, or requires 
> double logic, etcetc.
> 

_hbide would be dropped as potential dev tool_ 
I could not follow you in this respect, can you explain 
a little more. I cannot comprehend why it will be a 
_non-portable tool_ ?


No need to use QProcess(), we have everything in Harbour core.


Yep, this is exactly what I want too.

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/Create-Process-API---Brief-Overview-Requested-tp26696490p26699158.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Tue Dec  8 14:42:52 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Dec  8 14:42:59 2009
Subject: [Harbour] Create Process API - Brief Overview Requested
In-Reply-To: <BB2A953A-7B7B-4978-B3F8-86397973CF2A@syenar.hu>
References: <26696490.post@talk.nabble.com>
	<BB2A953A-7B7B-4978-B3F8-86397973CF2A@syenar.hu>
Message-ID: <26699538.post@talk.nabble.com>


Hello Viktor

What minimum I supply to HBMK2 to generate the target ?

The scenario may be like this:

1) Many compilers installed 
2) User selects the compiler to use
3) .hbp is generated
4) hbmk2 is called with what minimum parameters ?

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/Create-Process-API---Brief-Overview-Requested-tp26696490p26699538.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Dec  8 19:01:52 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec  8 19:02:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13164] trunk/harbour
In-Reply-To: <26698929.post@talk.nabble.com>
References: <E1NHxNj-0005A2-1M@dn4whf1.ch3.sourceforge.com>
	<26698929.post@talk.nabble.com>
Message-ID: <8855C2AE-2C69-48B8-AD1A-4FA64BE82F6E@syenar.hu>

> vszakats wrote:
>> 
>> 2009-12-08 11:30 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>    * Deleted commented debug calls.
>> 
> 
> Though this commit is a step forward in right direction,
> I object in removing the debug calls, even those are commented ones.
> 
> Please remember, the whole protocol is not yet stable
> and I always need those calls whenever I turn my attention
> to that angle.
> 
> Though I undestand your viewpoint, but please keep these 
> calls as is.

Sorry, but if you need some debug calls, why are they commented?
So much code is (still) commented, that I can just guess about 
the reasons in specific cases, and such accidental deletions are 
unfortunate, but inevitable in such an environment :(

I'd again like to make a reminder for HB_TRACE() feature which 
has debug levels implemented, and this could be also very useful 
to handle such cases.

It'd be good switch to HB_TRACE(). But it'd need those two extra 
features which I included in some recent TODOs, and which - after 
giving it some thoughts - I found too complicated - but only for 
me - to implement (optional OutputDebugString output, controllable 
from envvar, and accepting multiple parameters (?) or something 
like it).

Any duplicate debug call handling logic is a terrible waste of 
energy and reinventing the wheel.

Brgds,
Viktor

From mbelgrano at deltain.it  Tue Dec  8 19:08:48 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Dec  8 19:09:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13148] trunk/harbour
In-Reply-To: <26698861.post@talk.nabble.com>
References: <E1NHQxp-00061g-D1@74yxhf1.ch3.sourceforge.com> 
	<609353e70912080110m1d22eb0dy81f6dc7a6298ad0d@mail.gmail.com> 
	<26698861.post@talk.nabble.com>
Message-ID: <609353e70912081608q6ab58043w64d2592e2143512@mail.gmail.com>

2009/12/8 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Hi Massimo
>
>
> Massimo Belgrano-3 wrote:
> >
> > Why use different project structure from hbmk2?
> >
>
> Do you understand the intent and functioning of HBIDE ?
>
Yes i am using xmate, Visual Studio 2008 and strong love hbide

Also can you imagine what else will go into .hbi in future ?
>
Yes from additional element like font , screen to structure definition

And why you are comapring it with Xbase++ ?
>
Only for having a model appreciated also by you

.hbp project will be generated from within .hbi
> and will remain available to the developer as is.
>
I disagree because double maintain list but is only my opinion
Today i suffer that xmate and hbmk2 have different format so tomorrow i
suffer for hbide



-- 
Best regard
Massimo Belgrano

Iscritto all'albo dei CTU presso il Tribunale di Novara per materia
Informatica
Delta Informatica S.r.l. (http://www.deltain.it/) (+39 0321 455962)
Analisi e sviluppo software per Lan e Web -  Consulenza informatica -
Formazione
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091209/60624dc8/attachment.html
From harbour.01 at syenar.hu  Tue Dec  8 19:25:20 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec  8 19:25:32 2009
Subject: [Harbour] Create Process API - Brief Overview Requested
In-Reply-To: <26699158.post@talk.nabble.com>
References: <26696490.post@talk.nabble.com>
	<BB2A953A-7B7B-4978-B3F8-86397973CF2A@syenar.hu>
	<26699158.post@talk.nabble.com>
Message-ID: <64E9CCF4-405E-4FFD-A25D-26E3B20E0CB4@syenar.hu>

Hi Pritpal,

>> Although for me hbide would be dropped as potential dev tool, 
>> if it will set compiler dependent variables :( First of all 
>> this makes it non-portable, difficult to maintain, or requires 
>> double logic, etcetc.
>> 
> 
> _hbide would be dropped as potential dev tool_ 

Note: "for me". I have my own (actually quite simple) system 
which sets tool environment, so any tool which tries to 
replicate that, is just a nuisance and double effort for me, 
since I have keep my system configured, plus keep hbide 
configuration update so that it can also configure my system.

> I could not follow you in this respect, can you explain 
> a little more. I cannot comprehend why it will be a 
> _non-portable tool_ ?

Setting tool environment varies a lot from platform to platform.

Huge part of hbmk2 deals with detecting these environments, and 
it sometimes even does some configuration automatically to make 
it simpler for users (bcc, watcom, f.e.).

If you plan to add such feature to hbide, first you'll have to 
precisely _emulate_ natural tool environment scenarios, so that 
hbmk2 detects it as if it were configured by the tool installer 
or the documented method for given tool (as listed in INSTALL 
in examples section, although this is not complete, and never 
will be). To achieve that, you'll have to know much detail about 
the tool (f.e. version, locations, extensions), plus you'll have 
to maintain these logics perfectly in sync with official setup 
method for every tool and every new version of them as they are 
released.

For *nix systems, you'll have to deal with the whole thing a 
little bit differently, since there most tools are always 
available in PATH, and they require other means of configurations, 
many time only detection.

I'm not saying it's impossible, but it's a huge duplicate task, 
very error prone, and makes hbmk2 fail easily if not done well.

Now, there is a way to avoid all above pitfalls and create hbide's 
integrated configuration system in a generic way (although even 
this has some dangers). I'll try to describe it in a few points:

- Default state: No configuration is done by hbide, it uses what 
  it gets from environment and let hbmk2 do it's autodetection job. 
  (default/automatic/system mode)
- Support for 'compiler profile's:
  User can add, delete, edit such named profiles, each 
  profile does nothing more than have a list of system commands, 
  which get executed before calling hbmk2.
- No hard-wired 'compiler profile' in hbide .prg code.
- No preset 'compiler profile's in hbide SVN area (f.e. in .ini).

Last two will assure that hbide is independent of actual 
tool setting, so we don't have to keep it in sync with INSTALL 
information, it cannot have anything non-portable, etc.

This is quite flexible and makes it possible for everyone to 
customize profiles in an easy way, using existing methods or 
documentation. Here the only challenge is executing shell 
commands and then calling hbmk2. This needs to be done 
differently on different platforms. Maybe the easiest is 
to create a platform dependent .sh / .bat / .cmd file on the 
fly and call that with hb_process*() API.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Dec  8 19:33:42 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec  8 19:33:52 2009
Subject: [Harbour] Create Process API - Brief Overview Requested
In-Reply-To: <26699538.post@talk.nabble.com>
References: <26696490.post@talk.nabble.com>
	<BB2A953A-7B7B-4978-B3F8-86397973CF2A@syenar.hu>
	<26699538.post@talk.nabble.com>
Message-ID: <07797DA6-6079-4BEF-9CD3-83485259B280@syenar.hu>

> Hello Viktor
> 
> What minimum I supply to HBMK2 to generate the target ?
> 
> The scenario may be like this:
> 
> 1) Many compilers installed

We should assume that only one compiler is _configured_ 
at any given moment, regardless of the range of compilers 
installed.

> 2) User selects the compiler to use

User selects compiler by configuring it and letting hbmk2 
autodetection detect it. This is true when using hbmk2 
directly and should be true when using hbide (which in 
turn calls hbmk2).

I'd strongly advise against using -compiler= option 
in a hard-wired fashion to force specific compiler or 
platform.

At this point pls read my other mail first.

For special cases, like cross-platform development, 
it'd useful if you can add possibility for custom 
hbmk2 options to each 'compiler profile'.

Other solutions would result in quite many duplicate 
code and logic and keeping these in sync on various 
levels. Plus double documentation, one which applies 
when using hbmk2 directly and another one which 
applies when hbmk2 is used from hbide. We should avoid 
that situation.

> 3) .hbp is generated

Yes.

> 4) hbmk2 is called with what minimum parameters ?

hbmk2 project.hbp

Please make sure to read my just sent mail.

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Tue Dec  8 21:31:03 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Dec  8 21:31:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13171] trunk/harbour
Message-ID: <E1NICKV-0006wo-NK@c3vjzd1.ch3.sourceforge.com>

Revision: 13171
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13171&view=rev
Author:   vouchcac
Date:     2009-12-09 02:31:02 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-08 18:27 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  * contrib/hbide/idemisc.prg
  * contrib/hbide/projects/hbide.hbi
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/hbqt_slots.h
  * contrib/hbxbp/xbpmle.prg
    + Implemented project building.
      Right click on <Harbour-Qt IDE> project tree node and select
      <Save and Build> or <Save and Build (Qt)> context menu options.

      I am looking for Qt like process management in Harbour.
      I mean, I need callback when process is running.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/projects/hbide.hbi
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.h
    trunk/harbour/contrib/hbxbp/xbpmle.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Dec  8 22:10:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec  8 22:10:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13172] trunk/harbour
Message-ID: <E1NICwC-000582-Q4@3kljzd1.ch3.sourceforge.com>

Revision: 13172
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13172&view=rev
Author:   vszakats
Date:     2009-12-09 03:09:59 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-09 04:06 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbwinuni.h
    + Added HB_PARSTRDEF() macro. So far the same as HB_PARSTR(), but
      it's supposed to mark places where hb_parcx() was used (where
      WinAPI expects non-optional string parameter).

  * contrib/hbwin/wapi_winbase.c
  * contrib/hbwin/wapi_winuser.c
  * contrib/hbwin/wapi_shellapi.c
  * contrib/hbwin/legacyco.c
    + Using new UNICODE parameter passing macros instead of HB_TCHAR*() ones.
    ; NOTE: I'm unsure how to apply the same to wapi_commctrl.c, could anyone help?
            Here the string is assigned to win structure and passed to winapi,
            which may mean that string space should be kept there after
            returning from function.

  * contrib/hbxbp/xbpgeneric.prg
    ! Using HB_SYMBOL_UNUSED() to mark unused parameters, instead of
      local solution.
    % Minor optimizations.
    * MSGBOX() changed to not display all text in bold.
    + Changed <BR> to <br /> in MSGBOX().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/legacyco.c
    trunk/harbour/contrib/hbwin/wapi_shellapi.c
    trunk/harbour/contrib/hbwin/wapi_winbase.c
    trunk/harbour/contrib/hbwin/wapi_winuser.c
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
    trunk/harbour/include/hbwinuni.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Dec  8 22:14:13 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec  8 22:14:25 2009
Subject: [Harbour] Create Process API - Brief Overview Requested
In-Reply-To: <26699158.post@talk.nabble.com>
References: <26696490.post@talk.nabble.com>
	<BB2A953A-7B7B-4978-B3F8-86397973CF2A@syenar.hu>
	<26699158.post@talk.nabble.com>
Message-ID: <549ECCBC-1F33-4206-9AE5-9B8610A5C0D9@syenar.hu>

> No need to use QProcess(), we have everything in Harbour core.
> 
> 
> Yep, this is exactly what I want too.

Anyhow you added QProcess to slots system :(

Brgds,
Viktor

From bedipritpal at hotmail.com  Tue Dec  8 22:40:00 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Dec  8 22:40:08 2009
Subject: [Harbour] Create Process API - Brief Overview Requested
In-Reply-To: <549ECCBC-1F33-4206-9AE5-9B8610A5C0D9@syenar.hu>
References: <26696490.post@talk.nabble.com>
	<BB2A953A-7B7B-4978-B3F8-86397973CF2A@syenar.hu>
	<26699158.post@talk.nabble.com>
	<549ECCBC-1F33-4206-9AE5-9B8610A5C0D9@syenar.hu>
Message-ID: <26704652.post@talk.nabble.com>




Viktor Szak?ts wrote:
> 
>> No need to use QProcess(), we have everything in Harbour core.
>> 
>> 
>> Yep, this is exactly what I want too.
> 
> Anyhow you added QProcess to slots system :(
> 

Just to show the other benefits it renders.
I am simply short of process API in Harbour,
examined hbprocfn.c to go through all the details,
but I could not find how to capture process output
in buffer which process is in running state. 
I can see that stdout and stderr andles but do not
know hoe effectively I can use them.
Plus hb_processRun() opens the console window 
which I do not want to.

I must be missing on this front, that's why
I had requested the api syntax.

Qt process implementation will take only two minutes
to remove from SVN, I was just comparing the results
from both impleentations.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/Create-Process-API---Brief-Overview-Requested-tp26696490p26704652.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Tue Dec  8 23:00:28 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Dec  8 23:00:35 2009
Subject: [Harbour] Create Process API - Brief Overview Requested
In-Reply-To: <64E9CCF4-405E-4FFD-A25D-26E3B20E0CB4@syenar.hu>
References: <26696490.post@talk.nabble.com>
	<BB2A953A-7B7B-4978-B3F8-86397973CF2A@syenar.hu>
	<26699158.post@talk.nabble.com>
	<64E9CCF4-405E-4FFD-A25D-26E3B20E0CB4@syenar.hu>
Message-ID: <26704862.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> Note: "for me". I have my own (actually quite simple) system 
> which sets tool environment, so any tool which tries to 
> replicate that, is just a nuisance and double effort for me, 
> since I have keep my system configured, plus keep hbide 
> configuration update so that it can also configure my system.
> 

Believe me, I do not want to configure anything in HBIDE.
This was the first commandant I wrote on my scratch book.
I am trying to gather all information how and what HBIDE must
supply to HBMK2 to compile projects under different compiler
settings. I know nothing about make system at all.



> Setting tool environment varies a lot from platform to platform.
> 
> Huge part of hbmk2 deals with detecting these environments, and 
> it sometimes even does some configuration automatically to make 
> it simpler for users (bcc, watcom, f.e.).
> 
> If you plan to add such feature to hbide, first you'll have to 
> precisely _emulate_ natural tool environment scenarios, so that 
> hbmk2 detects it as if it were configured by the tool installer 
> or the documented method for given tool (as listed in INSTALL 
> in examples section, although this is not complete, and never 
> will be). To achieve that, you'll have to know much detail about 
> the tool (f.e. version, locations, extensions), plus you'll have 
> to maintain these logics perfectly in sync with official setup 
> method for every tool and every new version of them as they are 
> released.
> 
> For *nix systems, you'll have to deal with the whole thing a 
> little bit differently, since there most tools are always 
> available in PATH, and they require other means of configurations, 
> many time only detection.
> 
> I'm not saying it's impossible, but it's a huge duplicate task, 
> very error prone, and makes hbmk2 fail easily if not done well.
> 

As above.



> Now, there is a way to avoid all above pitfalls and create hbide's 
> integrated configuration system in a generic way (although even 
> this has some dangers). I'll try to describe it in a few points:
> 
> - Default state: No configuration is done by hbide, it uses what 
>   it gets from environment and let hbmk2 do it's autodetection job. 
>   (default/automatic/system mode)
> 

Probably this is not what HBIDE is intended for.
_no configuration on its part_ is a valid point, and I want to 
stick to it, but it is not valid that it accepts what user has 
set before executing it. I need a way to forward HBMK2
_what user want to configure_ plus _what he want to build_.
This way HBIDE could be executed from any location.



> - Support for 'compiler profile's:
>   User can add, delete, edit such named profiles, each 
>   profile does nothing more than have a list of system commands, 
>   which get executed before calling hbmk2.
> 

This is exactly hbide.env is thought of, though I 
am not sure, yet, what contents it will hold finally.



> - No hard-wired 'compiler profile' in hbide .prg code.
> 

100% correct.



> - No preset 'compiler profile's in hbide SVN area (f.e. in .ini).
> 

At present also it is not, nor it will be in the future.



> Last two will assure that hbide is independent of actual 
> tool setting, so we don't have to keep it in sync with INSTALL 
> information, it cannot have anything non-portable, etc.
> 

For sure, yes.



> This is quite flexible and makes it possible for everyone to 
> customize profiles in an easy way, using existing methods or 
> documentation. Here the only challenge is executing shell 
> commands and then calling hbmk2. This needs to be done 
> differently on different platforms. Maybe the easiest is 
> to create a platform dependent .sh / .bat / .cmd file on the 
> fly and call that with hb_process*() API.
> 

Agreed.
Now the point is the design time considerations.

1. User will write commands in a profile ( say .env )
2. This profile is essentially a replica what he otherwise
   will invoke via .bat/.sh/.cmd before executing HBMK2.
3. HBIDE or HBMK2 ( I would like HBMK2 ) process this 
   profile before invoking the next step.
4. HBIDE simply forwards two files 1) .env and 2) .hbp
   to HBMK2.
5. HBMK2 runs silently in the background supplying
   compile/link output to HBIDE via some callback mechanism.

Hopefully I am clear in opening up my mind.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/Create-Process-API---Brief-Overview-Requested-tp26696490p26704862.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Tue Dec  8 23:26:17 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Dec  8 23:26:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13148] trunk/harbour
In-Reply-To: <609353e70912081608q6ab58043w64d2592e2143512@mail.gmail.com>
References: <E1NHQxp-00061g-D1@74yxhf1.ch3.sourceforge.com>
	<609353e70912080110m1d22eb0dy81f6dc7a6298ad0d@mail.gmail.com>
	<26698861.post@talk.nabble.com>
	<609353e70912081608q6ab58043w64d2592e2143512@mail.gmail.com>
Message-ID: <26705037.post@talk.nabble.com>


Hi


Massimo Belgrano-3 wrote:
> 
> Yes from additional element like font , screen to structure definition
> 

Fonts is on my TODO list but I could not understand 
the concept of "screen to structure definition" ?



> Only for having a model appreciated also by you
> 

I admired Xbase++'s class framework only. How you gathered
I am in love with its IDE also ?



> I disagree because double maintain list but is only my opinion
> 

Every engine is always a brainchild of its creator. And it 
matures per feature-by-feature. It can never be precieved 
beforehand what direct it will take. It is true with all developments,
be that an application or a compiler feature. So no point of 
contending that this tool _MUST_ take care of that tool.



> Today i suffer that xmate and hbmk2 have different format so tomorrow i
> suffer for hbide
> 

HBIDE is a step towards bridging the gap between different implementations.

Regards
Pritpal Bedi

BTW why do you suffer from xmate and hbmk2 ? Use one which suits your
purpose.



-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13148--trunk-harbour-tp26671174p26705037.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Wed Dec  9 00:14:48 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec  9 00:15:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13148] trunk/harbour
In-Reply-To: <26705037.post@talk.nabble.com>
References: <E1NHQxp-00061g-D1@74yxhf1.ch3.sourceforge.com> 
	<609353e70912080110m1d22eb0dy81f6dc7a6298ad0d@mail.gmail.com> 
	<26698861.post@talk.nabble.com>
	<609353e70912081608q6ab58043w64d2592e2143512@mail.gmail.com> 
	<26705037.post@talk.nabble.com>
Message-ID: <609353e70912082114qcdeb1e1n81219a040ee69eb4@mail.gmail.com>

2009/12/9 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Hi
>
>
> Massimo Belgrano-3 wrote:
> >
> > Yes from additional element like font , screen to structure definition
> >
>
> Fonts is on my TODO list but I could not understand
> the concept of "screen to structure definition" ?
>
In vb.net form is part of code
In vb.net  using vpf form builder is xml
The visual editor can edit form also with html
hwgui implement symilar concept afaik

>
> > Only for having a model appreciated also by you
> >
>
> I admired Xbase++'s class framework only. How you gathered
> I am in love with its IDE also ?

No


> > I disagree because double maintain list but is only my opinion
> >
>
> Every engine is always a brainchild of its creator. And it
> matures per feature-by-feature. It can never be precieved
> beforehand what direct it will take. It is true with all developments,
> be that an application or a compiler feature. So no point of
> contending that this tool _MUST_ take care of that tool.
>
> I try made suggestion, you can allways ingnore without problem

>
> > Today i suffer that xmate and hbmk2 have different format so tomorrow i
> > suffer for hbide
> >
>
> HBIDE is a step towards bridging the gap between different implementations.
>
> agree sorry if my post seem a little hard
difficult explain via google


> Regards
> Pritpal Bedi
>
> BTW why do you suffer from xmate and hbmk2 ? Use one which suits your
> purpose.
>
>
> Because xbp and hbp are different structure to maintan also for small
project
syncronize update ,flag, new source at each steep
-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091209/e8fb9481/attachment-0001.html
From druzus at acn.waw.pl  Wed Dec  9 02:10:01 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec  9 02:10:08 2009
Subject: [Harbour] Watcom C and starup code
Message-ID: <20091209071001.GA17654@linux-4bod.home.aster.pl>

Hi,

I've just make few tests with OpenWatcom and checked how it generates
startup code for C++ static initialization.
It uses "XI" data segment to store list of pairs:
   { ushort 0x4000, void (*func_ptr)(void) }
So we can reach the same effect using #pragma(s), i.e.:

   void init_func( void )
   {
      [...]
   }


   #define HB_WATCOM_START_SEGMENT     "XI"
   #define HB_WATCOM_STARTUP_ID        0x4000

   #pragma data_seg( HB_WATCOM_START_SEGMENT )
   #pragma off (unreferenced)    /* to disable unused variable warnings */

   static unsigned short _s_init_id_ = HB_WATCOM_STARTUP_ID;
   static void ( * _s_init_func_ ) ( void ) = init_func;

   #pragma on (unreferenced)     /* to enable unused variable warnings */
   #pragma data_seg()

I've checked that it works in WIN32 builds what allows to use OpenWatcom
in C mode to compile Harbour code.
I can add it as separate initialization method but because it uses
#pragma directives and OpenWatcom does not support C99 _Pragma()
then it cannot be done using macros only and it's necessary to add
additional code to each file which needs startup initialization.
But if you look at above code carefully then you will find that it's
in practice the same initialization method as used by MSC so instead
of adding

   #elif defined( HB_WATCOMC_STARTUP )
      [...]

to each file which already has:

   #elif defined( HB_MSC_STARTUP )
      #if defined( HB_OS_WIN_64 )
         #pragma section( HB_MSC_START_SEGMENT, long, read )
      #endif
      #pragma data_seg( HB_MSC_START_SEGMENT )
      static HB_$INITSYM _hb_vm_auto_init_func = init_func;
      #pragma data_seg()
   #endif

I would like to modify HB_MSC_STARTUP code to be more general so
it can be used also with OpenWatcom and maybe some other C compilers
in the future.
I would like to create sth like:

   #elif defined( HB_DATASEG_STARTUP )
      #if defined( HB_DATASEG_INIT )
         #pragma section( HB_STARTUP_SEGMENT, long, read )
      #endif
      #pragma data_seg( HB_STARTUP_SEGMENT )
      #pragma off (unreferenced)    /* to disable unused variable warnings */
      HB_DATASEG_FUNC( init_func )
      #pragma on (unreferenced)     /* to enable unused variable warnings */
      #pragma data_seg()
   #endif

and I need to know if MSC supports:
      #pragma off (unreferenced)    /* to disable unused variable warnings */
      #pragma on (unreferenced)     /* to enable unused variable warnings */
or at least silently ignores them.

Can someone using MS[V]C check it?


Unlike #pragma startup <funcname> this initialization does not use
<funcname> in #pragma directive so we can also store above definition
in single header file hbiniseg.h and then use in other code:

   #elif defined( HB_DATASEG_STARTUP )
      #define HB_DATASEG_BODY HB_DATASEG_FUNC( init_func )
      #include "hbiniseg.h"
   #endif

Such solution will resolve the problem with updating many different files
when we want to make some modifications in data segment based startup code.
Viktor what do you think about it?

best regards,
Przemek
From dmacias at mail.udg.mx  Wed Dec  9 02:28:32 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Dec  9 02:28:58 2009
Subject: [Harbour] OS/2: Harbour 13162
Message-ID: <4B1F51A0.60104@mail.udg.mx>

Przemek:

I made tests with
  * $Id: ChangeLog 13162 2009-12-08 03:08:08Z druzus $
  2009-12-08 04:07 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

and new os2gcc434, os2gcc442

Both gave 0 errors and lot of warnings which does not happen in os2gcc433

Warnings are below, so you can confirm if they must be cleared or not

Look for sections:
*** os2gcc434
*** os2gcc442

David Macias

*** os2gcc434

gcc   -I. -I../../../../../include -Zomf -Wall -W -O3  -DHB_HAS_PCRE
-IE:/harbour912/harbour/external/pcre -DPCRE_STATIC -DHB_HAS_ZLIB
-IE:/harbour912/harbour/external/zlib -DTCPV40HDRS
-DHB_FM_STATISTICS_OFF -ohbsocket.o -c ../../../hbsocket.c
E:/usr/include/386/endian.h: Assembler messages:
E:/usr/include/386/endian.h:118: Warning: line numbers must be positive;
line number 0 rejected
E:/usr/include/386/endian.h:118: Warning: line numbers must be positive;
line number 0 rejected
E:/usr/include/386/endian.h:123: Warning: line numbers must be positive;
line number 0 rejected
E:/usr/include/386/endian.h:118: Warning: line numbers must be positive;
line number 0 rejected
E:/usr/include/386/endian.h:123: Warning: line numbers must be positive;
line number 0 rejected
E:/usr/include/386/endian.h:118: Warning: line numbers must be positive;
line number 0 rejected
E:/usr/include/386/endian.h:118: Warning: line numbers must be positive;
line number 0 rejected
E:/usr/include/386/endian.h:123: Warning: line numbers must be positive;
line number 0 rejected
E:/usr/include/386/endian.h:118: Warning: line numbers must be positive;
line number 0 rejected
E:/usr/include/386/endian.h:118: Warning: line numbers must be positive;
line number 0 rejected
E:/usr/include/386/endian.h:123: Warning: line numbers must be positive;
line number 0 rejected



gcc   -I. -I../../../../../include -Zomf -Wall -W -O3  -DTCPV40HDRS
-DHB_FM_STATISTICS_OFF -ohvmall.o -c ../../../hvmall.c
../../../dlmalloc.c: Assembler messages:
../../../dlmalloc.c:3646: Warning: line numbers must be positive; line
number 0 rejected
../../../dlmalloc.c:4178: Warning: line numbers must be positive; line
number 0 rejected
../../../dlmalloc.c:3800: Warning: line numbers must be positive; line
number 0 rejected
../../../dlmalloc.c:3727: Warning: line numbers must be positive; line
number 0 rejected
../../../dlmalloc.c:3415: Warning: line numbers must be positive; line
number 0 rejected
../../../dlmalloc.c:3758: Warning: line numbers must be positive; line
number 0 rejected
../../../dlmalloc.c:3359: Warning: line numbers must be positive; line
number 0 rejected
../../../dlmalloc.c:3784: Warning: line numbers must be positive; line
number 0 rejected
../../../dlmalloc.c:4340: Warning: line numbers must be positive; line
number 0 rejected


gcc   -I. -I../../../../../../include -Zomf -Wall -W -O3  -DHB_MT_VM
-DTCPV40HDRS -DHB_FM_STATISTICS_OFF -ohvmall.o -c ../../../../hvmall.c
../../../../../../include/hbatomic.h: Assembler messages:
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../dlmalloc.c:3646: Warning: line numbers must be positive;
line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../dlmalloc.c:4585: Warning: line numbers must be positive;
line number 0 rejected
../../../../dlmalloc.c:3800: Warning: line numbers must be positive;
line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../dlmalloc.c:3727: Warning: line numbers must be positive;
line number 0 rejected
../../../../dlmalloc.c:3415: Warning: line numbers must be positive;
line number 0 rejected
../../../../dlmalloc.c:3758: Warning: line numbers must be positive;
line number 0 rejected
../../../../dlmalloc.c:3784: Warning: line numbers must be positive;
line number 0 rejected
../../../../dlmalloc.c:3359: Warning: line numbers must be positive;
line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../dlmalloc.c:4742: Warning: line numbers must be positive;
line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected




*** os2gcc442:

gcc   -I. -I../../../../../include -Zomf -Wall -W -O3  -DHB_HAS_PCRE
-IE:/harbour912/harbour/external/pcre -DPCRE_STATIC -DHB_HAS_ZLIB
-IE:/harbour912/harbour/external/zlib -DTCPV40HDRS
-DHB_FM_STATISTICS_OFF -ofilesys.o -c ../../../filesys.c
../../../filesys.c: In function 'hb_fsSetFileTime':
../../../filesys.c:1161: warning: 'ftime.twosecs' may be used
uninitialized in this function
../../../filesys.c:1161: warning: 'ftime.minutes' may be used
uninitialized in this function
../../../filesys.c:1161: warning: 'ftime.hours' may be used
uninitialized in this function

gcc   -I. -I../../../../../include -Zomf -Wall -W -O3  -DHB_HAS_PCRE
-IE:/harbour912/harbour/external/pcre -DPCRE_STATIC -DHB_HAS_ZLIB
-IE:/harbour912/harbour/external/zlib -DTCPV40HDRS
-DHB_FM_STATISTICS_OFF -ohbsocket.o -c ../../../hbsocket.c
E:/usr/include/386/endian.h: Assembler messages:
E:/usr/include/386/endian.h:118: Warning: line numbers must be positive;
line number 0 rejected
E:/usr/include/386/endian.h:123: Warning: line numbers must be positive;
line number 0 rejected
E:/usr/include/386/endian.h:118: Warning: line numbers must be positive;
line number 0 rejected
E:/usr/include/386/endian.h:123: Warning: line numbers must be positive;
line number 0 rejected
E:/usr/include/386/endian.h:118: Warning: line numbers must be positive;
line number 0 rejected
E:/usr/include/386/endian.h:123: Warning: line numbers must be positive;
line number 0 rejected
E:/usr/include/386/endian.h:123: Warning: line numbers must be positive;
line number 0 rejected
E:/usr/include/386/endian.h:118: Warning: line numbers must be positive;
line number 0 rejected

gcc   -I. -I../../../../../include -Zomf -Wall -W -O3  -DTCPV40HDRS
-DHB_FM_STATISTICS_OFF -ohvmall.o -c ../../../hvmall.c
../../../dlmalloc.c: Assembler messages:
../../../dlmalloc.c:4178: Warning: line numbers must be positive; line
number 0 rejected
../../../dlmalloc.c:3800: Warning: line numbers must be positive; line
number 0 rejected
../../../dlmalloc.c:3727: Warning: line numbers must be positive; line
number 0 rejected
../../../dlmalloc.c:3415: Warning: line numbers must be positive; line
number 0 rejected
../../../dlmalloc.c:3758: Warning: line numbers must be positive; line
number 0 rejected
../../../dlmalloc.c:3784: Warning: line numbers must be positive; line
number 0 rejected
../../../dlmalloc.c:3359: Warning: line numbers must be positive; line
number 0 rejected
../../../dlmalloc.c:3646: Warning: line numbers must be positive; line
number 0 rejected
../../../dlmalloc.c:3646: Warning: line numbers must be positive; line
number 0 rejected
../../../dlmalloc.c:4340: Warning: line numbers must be positive; line
number 0 rejected

gcc   -I. -I../../../../../../include -Zomf -Wall -W -O3  -DHB_MT_VM
-DTCPV40HDRS -DHB_FM_STATISTICS_OFF -ohvmall.o -c ../../../../hvmall.c
../../../../../../include/hbatomic.h: Assembler messages:
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../dlmalloc.c:3646: Warning: line numbers must be positive;
line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../dlmalloc.c:4742: Warning: line numbers must be positive;
line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../dlmalloc.c:4585: Warning: line numbers must be positive;
line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../dlmalloc.c:3800: Warning: line numbers must be positive;
line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../dlmalloc.c:3727: Warning: line numbers must be positive;
line number 0 rejected
../../../../dlmalloc.c:3415: Warning: line numbers must be positive;
line number 0 rejected
../../../../dlmalloc.c:3758: Warning: line numbers must be positive;
line number 0 rejected
../../../../dlmalloc.c:3784: Warning: line numbers must be positive;
line number 0 rejected
../../../../dlmalloc.c:3359: Warning: line numbers must be positive;
line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:155: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:102: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected
../../../../../../include/hbatomic.h:112: Warning: line numbers must be
positive; line number 0 rejected


From druzus at acn.waw.pl  Wed Dec  9 03:01:31 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec  9 03:01:39 2009
Subject: [Harbour] OS/2: Harbour 13162
In-Reply-To: <4B1F51A0.60104@mail.udg.mx>
References: <4B1F51A0.60104@mail.udg.mx>
Message-ID: <20091209080131.GA18359@linux-4bod.home.aster.pl>

On Wed, 09 Dec 2009, David Arturo Macias Corona wrote:

Hi,


> I made tests with
>  * $Id: ChangeLog 13162 2009-12-08 03:08:08Z druzus $
>  2009-12-08 04:07 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> and new os2gcc434, os2gcc442
> Both gave 0 errors and lot of warnings which does not happen in os2gcc433
> Warnings are below, so you can confirm if they must be cleared or not

There are two types of warnings only.

> gcc   -I. -I../../../../../include -Zomf -Wall -W -O3  -DHB_HAS_PCRE
> -IE:/harbour912/harbour/external/pcre -DPCRE_STATIC -DHB_HAS_ZLIB
> -IE:/harbour912/harbour/external/zlib -DTCPV40HDRS
> -DHB_FM_STATISTICS_OFF -ohbsocket.o -c ../../../hbsocket.c
> E:/usr/include/386/endian.h: Assembler messages:
> E:/usr/include/386/endian.h:118: Warning: line numbers must be positive;
> line number 0 rejected
> E:/usr/include/386/endian.h:118: Warning: line numbers must be positive;
> line number 0 rejected

I can only guess that someone left some wrong assert code in GCC
source which generates this warning when line number if 0 and it's
exploited by some type of code like inline assembler. Anyhow it's
not Harbour problem but should it be reported to GCC-OS2 port authors.
We cannot fix it.

> gcc   -I. -I../../../../../include -Zomf -Wall -W -O3  -DHB_HAS_PCRE
> -IE:/harbour912/harbour/external/pcre -DPCRE_STATIC -DHB_HAS_ZLIB
> -IE:/harbour912/harbour/external/zlib -DTCPV40HDRS
> -DHB_FM_STATISTICS_OFF -ofilesys.o -c ../../../filesys.c
> ../../../filesys.c: In function 'hb_fsSetFileTime':
> ../../../filesys.c:1161: warning: 'ftime.twosecs' may be used
> uninitialized in this function
> ../../../filesys.c:1161: warning: 'ftime.minutes' may be used
> uninitialized in this function
> ../../../filesys.c:1161: warning: 'ftime.hours' may be used
> uninitialized in this function

This is false alarm but I'll change the code to pacify these warnings.
Thank you for information.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Dec  9 04:16:35 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec  9 04:16:45 2009
Subject: [Harbour] Watcom C and starup code
In-Reply-To: <20091209071001.GA17654@linux-4bod.home.aster.pl>
References: <20091209071001.GA17654@linux-4bod.home.aster.pl>
Message-ID: <7171BCD2-732D-42D6-B5B6-BC1669890B27@syenar.hu>

Hi Przemek,

> Unlike #pragma startup <funcname> this initialization does not use
> <funcname> in #pragma directive so we can also store above definition
> in single header file hbiniseg.h and then use in other code:
> 
>   #elif defined( HB_DATASEG_STARTUP )
>      #define HB_DATASEG_BODY HB_DATASEG_FUNC( init_func )
>      #include "hbiniseg.h"
>   #endif
> 
> Such solution will resolve the problem with updating many different files
> when we want to make some modifications in data segment based startup code.
> Viktor what do you think about it?

I'd be very good if we could move the init logic 
to a .h file. And also if could avoid forced C++ for 
watcom. For MSVC forced mode, it's very useful to 
keep code clean from C++ warnings though.

With MSVC 2008, it says this for #pragma on/off:

a.c(4) : warning C4068: unknown pragma

I hope it's possible to work around it.

Brgds,
Viktor

From sscc at mweb.co.za  Wed Dec  9 04:18:11 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Dec  9 04:18:32 2009
Subject: [Harbour] Watcom C and starup code
In-Reply-To: <20091209071001.GA17654@linux-4bod.home.aster.pl>
References: <20091209071001.GA17654@linux-4bod.home.aster.pl>
Message-ID: <4B1F6B53.70904@mweb.co.za>

Przemys?aw Czerpak wrote:

> and I need to know if MSC supports:
>        #pragma off (unreferenced)    /* to disable unused variable warnings */
>        #pragma on (unreferenced)     /* to enable unused variable warnings */
> or at least silently ignores them.
>
> Can someone using MS[V]C check it?

With MSVC 2008:

#include "stdafx.h"

void warn()
{
	int i;
}

void badpragma()
{
#pragma off (unreferenced)
	int i;
#pragma on (unreferenced)
}

int main(int argc, char * argv[])
#pragma warning( push )
#pragma warning( disable : 4101 )
{
	int i;
	printf("Hello, pragma test");
	return 0;
}
#pragma warning( pop )

results in:

c:\users\alex\documents\visual studio 
2008\projects\pragmatest\pragmatest\pragmatest.cpp(5) : warning C4101: 'i' : 
unreferenced local variable
c:\users\alex\documents\visual studio 
2008\projects\pragmatest\pragmatest\pragmatest.cpp(10) : warning C4068: unknown 
pragma
c:\users\alex\documents\visual studio 
2008\projects\pragmatest\pragmatest\pragmatest.cpp(12) : warning C4068: unknown 
pragma
c:\users\alex\documents\visual studio 
2008\projects\pragmatest\pragmatest\pragmatest.cpp(11) : warning C4101: 'i' : 
unreferenced local variable

Regards
Alex
From harbour.01 at syenar.hu  Wed Dec  9 04:19:13 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec  9 04:19:23 2009
Subject: [Harbour] Create Process API - Brief Overview Requested
In-Reply-To: <26704652.post@talk.nabble.com>
References: <26696490.post@talk.nabble.com>
	<BB2A953A-7B7B-4978-B3F8-86397973CF2A@syenar.hu>
	<26699158.post@talk.nabble.com>
	<549ECCBC-1F33-4206-9AE5-9B8610A5C0D9@syenar.hu>
	<26704652.post@talk.nabble.com>
Message-ID: <6AEEC359-C523-44DB-8A74-8B66FD0B9AC7@syenar.hu>

>>> No need to use QProcess(), we have everything in Harbour core.
>>> 
>>> 
>>> Yep, this is exactly what I want too.
>> 
>> Anyhow you added QProcess to slots system :(
>> 
> 
> Just to show the other benefits it renders.
> I am simply short of process API in Harbour,
> examined hbprocfn.c to go through all the details,
> but I could not find how to capture process output
> in buffer which process is in running state. 
> I can see that stdout and stderr andles but do not
> know hoe effectively I can use them.
> Plus hb_processRun() opens the console window 
> which I do not want to.
> 
> I must be missing on this front, that's why
> I had requested the api syntax.
> 
> Qt process implementation will take only two minutes
> to remove from SVN, I was just comparing the results
> from both impleentations.

Okay. IMO you should ask above things from Przemek 
to see how process API can be used for such things 
like catching stdout/err in real-time.

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Dec  9 04:28:33 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec  9 04:28:41 2009
Subject: [Harbour] Watcom C and starup code
In-Reply-To: <7171BCD2-732D-42D6-B5B6-BC1669890B27@syenar.hu>
References: <20091209071001.GA17654@linux-4bod.home.aster.pl>
	<7171BCD2-732D-42D6-B5B6-BC1669890B27@syenar.hu>
Message-ID: <20091209092833.GA22308@linux-4bod.home.aster.pl>

On Wed, 09 Dec 2009, Szak?ts Viktor wrote:

Hi,

> > Unlike #pragma startup <funcname> this initialization does not use
> > <funcname> in #pragma directive so we can also store above definition
> > in single header file hbiniseg.h and then use in other code:
> >   #elif defined( HB_DATASEG_STARTUP )
> >      #define HB_DATASEG_BODY HB_DATASEG_FUNC( init_func )
> >      #include "hbiniseg.h"
> >   #endif
> > Such solution will resolve the problem with updating many different files
> > when we want to make some modifications in data segment based startup code.
> > Viktor what do you think about it?
> 
> I'd be very good if we could move the init logic 
> to a .h file. And also if could avoid forced C++ for 
> watcom. For MSVC forced mode, it's very useful to 
> keep code clean from C++ warnings though.

OK, I'll make this modification.

> With MSVC 2008, it says this for #pragma on/off:
> a.c(4) : warning C4068: unknown pragma

Thank you and Alex for the tests.

> I hope it's possible to work around it.

Yes, it's not big problem if we move whole HB_DATASEG_STARTUP
to .h file so only one file will have to be update.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Dec  9 04:46:09 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec  9 04:46:20 2009
Subject: [Harbour] Create Process API - Brief Overview Requested
In-Reply-To: <26704862.post@talk.nabble.com>
References: <26696490.post@talk.nabble.com>
	<BB2A953A-7B7B-4978-B3F8-86397973CF2A@syenar.hu>
	<26699158.post@talk.nabble.com>
	<64E9CCF4-405E-4FFD-A25D-26E3B20E0CB4@syenar.hu>
	<26704862.post@talk.nabble.com>
Message-ID: <32D121E9-F6BD-4965-B273-1EC1BEE6DDAF@syenar.hu>

>> Note: "for me". I have my own (actually quite simple) system 
>> which sets tool environment, so any tool which tries to 
>> replicate that, is just a nuisance and double effort for me, 
>> since I have keep my system configured, plus keep hbide 
>> configuration update so that it can also configure my system.
>> 
> 
> Believe me, I do not want to configure anything in HBIDE.
> This was the first commandant I wrote on my scratch book.
> I am trying to gather all information how and what HBIDE must
> supply to HBMK2 to compile projects under different compiler
> settings. I know nothing about make system at all.

And the answer is that you have to pass nothing 
more to it than it's necessary to define the 
project: input components and build switches. Nothing 
else is required.

It's good if you add some means to add user-defined,
extra hbmk2 invokation switches to allow to do everything 
with hbmk2 which can be done from regular command line.
Notice that some switches can only be passed from command 
line directly (no .hb* file).

>> Now, there is a way to avoid all above pitfalls and create hbide's 
>> integrated configuration system in a generic way (although even 
>> this has some dangers). I'll try to describe it in a few points:
>> 
>> - Default state: No configuration is done by hbide, it uses what 
>>  it gets from environment and let hbmk2 do it's autodetection job. 
>>  (default/automatic/system mode)
>> 
> 
> Probably this is not what HBIDE is intended for.
> _no configuration on its part_ is a valid point, and I want to 
> stick to it, but it is not valid that it accepts what user has 
> set before executing it. I need a way to forward HBMK2
> _what user want to configure_ plus _what he want to build_.
> This way HBIDE could be executed from any location.
> 
>> - Support for 'compiler profile's:
>>  User can add, delete, edit such named profiles, each 
>>  profile does nothing more than have a list of system commands, 
>>  which get executed before calling hbmk2.
>> 
> 
> This is exactly hbide.env is thought of, though I 
> am not sure, yet, what contents it will hold finally.

ideally nothing by default. At least I hope.
Otherwise someone will have to update it and yet 
it will never be correct for all users.

IMO the only place where we should mention anything 
user specific is in INSTALL file, and even in this file 
it's listed as "EXAMPLE", as it's impossible to tell 
these things for Windows system. Plus HBIDE is meant to 
support Linux and OS X also, where such example don't 
make any sense.

>> - No hard-wired 'compiler profile' in hbide .prg code.
>> 
> 
> 100% correct.
> 
> 
> 
>> - No preset 'compiler profile's in hbide SVN area (f.e. in .ini).
>> 
> 
> At present also it is not, nor it will be in the future.

Okay.

>> This is quite flexible and makes it possible for everyone to 
>> customize profiles in an easy way, using existing methods or 
>> documentation. Here the only challenge is executing shell 
>> commands and then calling hbmk2. This needs to be done 
>> differently on different platforms. Maybe the easiest is 
>> to create a platform dependent .sh / .bat / .cmd file on the 
>> fly and call that with hb_process*() API.
>> 
> 
> Agreed.
> Now the point is the design time considerations.
> 
> 1. User will write commands in a profile ( say .env )

Maybe the cleanest solution, is to have a /profiles 
(name tentative) dir and inside this dir, you allow 
to have any number of .env files. Each .env file 
describes a C compiler profile. I'd suggest .ini file, 
as .env file is not very standard. In this file all 
you have is _plain script lines_:

--- profiles/win_bcc.ini:
set PATH=C:\bcc;%PATH%
---

--- profiles/osx_clang.ini:
export CCPREFIX=/Developer/usr/bin
---

--- profiles/myprofile.ini:
export HB_COMP=msvc
---

> 2. This profile is essentially a replica what he otherwise
>   will invoke via .bat/.sh/.cmd before executing HBMK2.

Yes.

> 3. HBIDE or HBMK2 ( I would like HBMK2 ) process this 
>   profile before invoking the next step.

Yes, hbide, would create a script like this, when 
selecting win_bcc.ini:
--- _temp_.bat
set PATH=C:\bcc;%PATH%
hbmk2 _temp_.hbp
---

> 4. HBIDE simply forwards two files 1) .env and 2) .hbp
>   to HBMK2.

Only .hbp. .env contains shell commands.

> 5. HBMK2 runs silently in the background supplying
>   compile/link output to HBIDE via some callback mechanism.

Yes.

Input from other developers would be welcome.

Brgds,
Viktor

From dmacias at mail.udg.mx  Wed Dec  9 05:24:57 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Dec  9 05:25:26 2009
Subject: [Harbour] Re: OS/2: Harbour 13162
Message-ID: <4B1F7AF9.9080807@mail.udg.mx>

Przemek:

 >There are two types of warnings only.

 >I can only guess that someone left some wrong assert code in GCC
 >source which generates this warning when line number if 0 and it's
 >exploited by some type of code like inline assembler. Anyhow it's
 >not Harbour problem but should it be reported to GCC-OS2 port authors.
 >We cannot fix it.

I send report to Paul Smedley, porter of os2gcc432, os2gcc433, 
os2gcc440, os2gcc442, ...

For me problems seem related to ports after April 2009 (434,442)

Thanks for your help

David Macias

From itamarlins at bol.com.br  Wed Dec  9 06:44:49 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Wed Dec  9 06:47:47 2009
Subject: [Harbour] MSVC legacyco.c problem.
Message-ID: <hfo2o4$h0m$1@ger.gmane.org>

Hi!
 * $Id: ChangeLog 13172 2009-12-09 03:09:59Z vszakats $

MSVC 2008 express.

make-win with clean flag

cl.exe   -I. -I../../../../../include -nologo -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c-
 -DUNICODE  -DUNICODE  -Folegacyco.obj -c ../../../legacyco.c
legacyco.c
../../../legacyco.c(119) : error C3861: 'HB_PARSTR': identifier not found
../../../legacyco.c(119) : error C3861: 'HB_PARSTR': identifier not found
../../../legacyco.c(120) : error C3861: 'hb_strfree': identifier not found
../../../legacyco.c(121) : error C3861: 'hb_strfree': identifier not found
win-make[3]: *** [legacyco.obj] Error 2
win-make[2]: *** [descend] Error 2
win-make[1]: *** [hbwin.inst] Error 2
win-make: *** [contrib.inst] Error 2

D:\harbour\trunk\harbour>

Best regards,
Itamar M. Lins Jr. 



From vszakats at users.sourceforge.net  Wed Dec  9 06:51:27 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  9 06:51:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13173] trunk/harbour
Message-ID: <E1NIL4p-0002KD-TH@c3vjzd1.ch3.sourceforge.com>

Revision: 13173
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13173&view=rev
Author:   vszakats
Date:     2009-12-09 11:51:26 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-09 12:50 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/legacyco.c
  * contrib/hbwin/wapi_winuser.c
    ! Added missing header.

  * ChangeLog
    + Missed change added to prev entry.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/legacyco.c
    trunk/harbour/contrib/hbwin/wapi_winuser.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From M.Horodyski at pzuzycie.com.pl  Wed Dec  9 07:19:17 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Dec  9 07:19:29 2009
Subject: [Harbour] Can we bind variables in sql?
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502B469D9@PINK.zycie.pzu>

Mindaugas,
can we bind variable in selects with SQLMIX ?

...
Select * ftom table where Field1 = :var1 and Fiefd2 between :var2 and
:var3
...

Regards,
Marek Horodyski
From Istvan.Bisz at t-online.hu  Wed Dec  9 08:37:27 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Wed Dec  9 08:52:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13171] trunk/harbour
In-Reply-To: <E1NICKV-0006wo-NK@c3vjzd1.ch3.sourceforge.com>
References: <E1NICKV-0006wo-NK@c3vjzd1.ch3.sourceforge.com>
Message-ID: <001401ca78d4$c13f2020$43bd6060$@Bisz@t-online.hu>

Hi,

My test results executed sporadically... 

1. hbide crash free in both MT and ST.
2. demoxbp crash at startup in both MT and ST.
3. demoqt crash at exit (x button pressed) just in ST; in MT is crash free.

See attachmants, generated with gdb TDM-MINGW (GCC 4.4.1)

Best regards,
Istv?n

-------------- next part --------------
A non-text attachment was scrubbed...
Name: demoxbp.dbg.zip
Type: application/x-zip-compressed
Size: 3592 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091209/8b1bc8ab/demoxbp.dbg.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: demoqt.dbg.zip
Type: application/x-zip-compressed
Size: 2643 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091209/8b1bc8ab/demoqt.dbg.bin
From vitormangabeira at gmail.com  Wed Dec  9 09:11:18 2009
From: vitormangabeira at gmail.com (Vitor Mangabeira)
Date: Wed Dec  9 09:11:25 2009
Subject: [Harbour] Fileattr function
Message-ID: <b17496760912090611i2707e0bard44bb530d802eec4@mail.gmail.com>

Hi all,

fileattr( existing_directory ) in clipper return 16 and in harbour return 0.
Tested under windows XP. Is this normal?

Vitor
--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091209/fc886d7f/attachment.html
From druzus at users.sourceforge.net  Wed Dec  9 09:33:58 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Dec  9 09:34:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13174] trunk/harbour
Message-ID: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>

Revision: 13174
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13174&view=rev
Author:   druzus
Date:     2009-12-09 14:33:48 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-09 15:30 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapilng.h
  + harbour/include/hbmsgreg.h
    + added common for all Harbour lang modules (msg*.c) header file
      with initialization code

  * harbour/src/lang/msgbe866.c
  * harbour/src/lang/msgbewin.c
  * harbour/src/lang/msgbg866.c
  * harbour/src/lang/msgbgiso.c
  * harbour/src/lang/msgbgmik.c
  * harbour/src/lang/msgbgwin.c
  * harbour/src/lang/msgca.c
  * harbour/src/lang/msgcs852.c
  * harbour/src/lang/msgcsiso.c
  * harbour/src/lang/msgcskam.c
  * harbour/src/lang/msgcswin.c
  * harbour/src/lang/msgde.c
  * harbour/src/lang/msgdewin.c
  * harbour/src/lang/msgel.c
  * harbour/src/lang/msgelwin.c
  * harbour/src/lang/msgeo.c
  * harbour/src/lang/msges.c
  * harbour/src/lang/msgeswin.c
  * harbour/src/lang/msgeu.c
  * harbour/src/lang/msgfr.c
  * harbour/src/lang/msggl.c
  * harbour/src/lang/msghe862.c
  * harbour/src/lang/msghewin.c
  * harbour/src/lang/msghr437.c
  * harbour/src/lang/msghr852.c
  * harbour/src/lang/msghriso.c
  * harbour/src/lang/msghrwin.c
  * harbour/src/lang/msghu852.c
  * harbour/src/lang/msghucwi.c
  * harbour/src/lang/msghuiso.c
  * harbour/src/lang/msghuwin.c
  * harbour/src/lang/msgid.c
  * harbour/src/lang/msgis850.c
  * harbour/src/lang/msgit.c
  * harbour/src/lang/msgko.c
  * harbour/src/lang/msgltwin.c
  * harbour/src/lang/msgnl.c
  * harbour/src/lang/msgpl852.c
  * harbour/src/lang/msgpliso.c
  * harbour/src/lang/msgplmaz.c
  * harbour/src/lang/msgplwin.c
  * harbour/src/lang/msgpt.c
  * harbour/src/lang/msgptiso.c
  * harbour/src/lang/msgro.c
  * harbour/src/lang/msgru866.c
  * harbour/src/lang/msgrukoi.c
  * harbour/src/lang/msgruwin.c
  * harbour/src/lang/msgsk852.c
  * harbour/src/lang/msgskiso.c
  * harbour/src/lang/msgskkam.c
  * harbour/src/lang/msgskwin.c
  * harbour/src/lang/msgsl437.c
  * harbour/src/lang/msgsl852.c
  * harbour/src/lang/msgsliso.c
  * harbour/src/lang/msgslwin.c
  * harbour/src/lang/msgsr852.c
  * harbour/src/lang/msgsriso.c
  * harbour/src/lang/msgsrwin.c
  * harbour/src/lang/msg_tpl.c
  * harbour/src/lang/msgtr857.c
  * harbour/src/lang/msgtrwin.c
  * harbour/src/lang/msgua866.c
  * harbour/src/lang/msguados.c
  * harbour/src/lang/msguakoi.c
  * harbour/src/lang/msguawin.c
  * harbour/src/lang/msgzhb5.c
  * harbour/src/lang/msgzhgb.c
    * modified to use initialization code defined in common for all
      lang modules header file.

  * harbour/contrib/gtwvg/wvggui.c
  * harbour/contrib/hbqt/qtgui/QApplication.cpp
  * harbour/contrib/hbqt/qth/QApplication.qth
    * use default GT startup cvode (#include "hbgtreg.h")

  * harbour/include/hbinit.h
  + harbour/include/hbiniseg.h
    * replaced HB_MSC_STARTUP code with more universal HB_DATASEG_STARTUP
    * moved HB_DATASEG_STARTUP code to separate header file to reduce
      modifications in other files when this code has to be changed or
      extended
    + added support for startup code in OpenWatcom C builds. Now we can
      create OpenWatcom Harbour binaries without forcing C++ mode.
      I've tested Linux and Win32 builds and they works correctly.
      Probably similar solution can be used also for other C compilers
      which do not have native interface to define starup code.

  * harbour/src/compiler/genc.c
  * harbour/utils/hbmk2/hbmk2.prg
  * harbour/include/hbcdpreg.h
  * harbour/include/hbgtreg.h
  * harbour/src/rtl/hbregex.c
  * harbour/src/rdd/dbf1.c
  * harbour/src/rdd/dbfcdx/dbfcdx1.c
  * harbour/src/rdd/dbffpt/dbffpt1.c
  * harbour/src/rdd/dbfnsx/dbfnsx1.c
  * harbour/src/rdd/dbfntx/dbfntx1.c
  * harbour/src/rdd/delim1.c
  * harbour/src/rdd/sdf1.c
  * harbour/src/pp/pplib3.c
  * harbour/contrib/rddads/ads1.c
  * harbour/contrib/rddads/adsx.c
  * harbour/contrib/rddsql/sddfb/fbirddd.c
  * harbour/contrib/rddsql/sddmy/mysqldd.c
  * harbour/contrib/rddsql/sddodbc/odbcdd.c
  * harbour/contrib/rddsql/sddpg/pgsqldd.c
  * harbour/contrib/rddsql/sqlbase.c
  * harbour/contrib/rddsql/sqlmix.c
  * harbour/contrib/hbbmcdx/bmdbfcdx.c
  * harbour/contrib/hbmemio/memio.c
  * harbour/contrib/hbnetio/netiocli.c
  * harbour/contrib/hbbtree/hb_btree.c
  * harbour/contrib/hbwin/olecore.c
  * harbour/contrib/hbwin/win_com.c
    * modified to use HB_DATASEG_STARTUP instead of HB_MSC_STARTUP
      Now HB_MSC_STARTUP is local macro used only in hbinit.h.
      Please make MSVC build tests.

  * harbour/contrib/hbmemio/memio.c
    ! declare s_fileFuncs structure as static
    * removed unnecessary code to directly register HB_MEMIO symbol.
      Mindaugas if you need it for some reasons then I can reactivate it
      but I would like to know why it's necessary for you.

  * harbour/src/vm/task.c
    ! added missing {}

  * harbour/src/vm/fm.c
    * locally disabled "unreachable code" warnings for dlmalloc.c
      compilation by OpenWatcom in pure C mode

  * harbour/src/rtl/hbzlibgz.c
    * minor code cleanup

  * harbour/src/rtl/filesys.c
    * pacified OS/2 warnings

  * harbour/contrib/hbcairo/core.c
    ! fixed casting for C++ builds

  * harbour/contrib/hbwin/wapi_winbase.c
    ! fixed casting

  * harbour/src/Makefile
    * changed the order of compiled libraries to improve little bit
      the speed in concurrent (-j<N>) builds

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvggui.c
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/contrib/hbbtree/hb_btree.c
    trunk/harbour/contrib/hbcairo/core.c
    trunk/harbour/contrib/hbmemio/memio.c
    trunk/harbour/contrib/hbnetio/netiocli.c
    trunk/harbour/contrib/hbqt/qtgui/QApplication.cpp
    trunk/harbour/contrib/hbqt/qth/QApplication.qth
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/contrib/hbwin/wapi_winbase.c
    trunk/harbour/contrib/hbwin/win_com.c
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/contrib/rddads/adsx.c
    trunk/harbour/contrib/rddsql/sddfb/fbirddd.c
    trunk/harbour/contrib/rddsql/sddmy/mysqldd.c
    trunk/harbour/contrib/rddsql/sddodbc/odbcdd.c
    trunk/harbour/contrib/rddsql/sddpg/pgsqldd.c
    trunk/harbour/contrib/rddsql/sqlbase.c
    trunk/harbour/contrib/rddsql/sqlmix.c
    trunk/harbour/include/hbapilng.h
    trunk/harbour/include/hbcdpreg.h
    trunk/harbour/include/hbgtreg.h
    trunk/harbour/include/hbinit.h
    trunk/harbour/src/Makefile
    trunk/harbour/src/compiler/genc.c
    trunk/harbour/src/lang/msg_tpl.c
    trunk/harbour/src/lang/msgbe866.c
    trunk/harbour/src/lang/msgbewin.c
    trunk/harbour/src/lang/msgbg866.c
    trunk/harbour/src/lang/msgbgiso.c
    trunk/harbour/src/lang/msgbgmik.c
    trunk/harbour/src/lang/msgbgwin.c
    trunk/harbour/src/lang/msgca.c
    trunk/harbour/src/lang/msgcs852.c
    trunk/harbour/src/lang/msgcsiso.c
    trunk/harbour/src/lang/msgcskam.c
    trunk/harbour/src/lang/msgcswin.c
    trunk/harbour/src/lang/msgde.c
    trunk/harbour/src/lang/msgdewin.c
    trunk/harbour/src/lang/msgel.c
    trunk/harbour/src/lang/msgelwin.c
    trunk/harbour/src/lang/msgeo.c
    trunk/harbour/src/lang/msges.c
    trunk/harbour/src/lang/msgeswin.c
    trunk/harbour/src/lang/msgeu.c
    trunk/harbour/src/lang/msgfr.c
    trunk/harbour/src/lang/msggl.c
    trunk/harbour/src/lang/msghe862.c
    trunk/harbour/src/lang/msghewin.c
    trunk/harbour/src/lang/msghr437.c
    trunk/harbour/src/lang/msghr852.c
    trunk/harbour/src/lang/msghriso.c
    trunk/harbour/src/lang/msghrwin.c
    trunk/harbour/src/lang/msghu852.c
    trunk/harbour/src/lang/msghucwi.c
    trunk/harbour/src/lang/msghuiso.c
    trunk/harbour/src/lang/msghuwin.c
    trunk/harbour/src/lang/msgid.c
    trunk/harbour/src/lang/msgis850.c
    trunk/harbour/src/lang/msgit.c
    trunk/harbour/src/lang/msgko.c
    trunk/harbour/src/lang/msgltwin.c
    trunk/harbour/src/lang/msgnl.c
    trunk/harbour/src/lang/msgpl852.c
    trunk/harbour/src/lang/msgpliso.c
    trunk/harbour/src/lang/msgplmaz.c
    trunk/harbour/src/lang/msgplwin.c
    trunk/harbour/src/lang/msgpt.c
    trunk/harbour/src/lang/msgptiso.c
    trunk/harbour/src/lang/msgro.c
    trunk/harbour/src/lang/msgru866.c
    trunk/harbour/src/lang/msgrukoi.c
    trunk/harbour/src/lang/msgruwin.c
    trunk/harbour/src/lang/msgsk852.c
    trunk/harbour/src/lang/msgskiso.c
    trunk/harbour/src/lang/msgskkam.c
    trunk/harbour/src/lang/msgskwin.c
    trunk/harbour/src/lang/msgsl437.c
    trunk/harbour/src/lang/msgsl852.c
    trunk/harbour/src/lang/msgsliso.c
    trunk/harbour/src/lang/msgslwin.c
    trunk/harbour/src/lang/msgsr852.c
    trunk/harbour/src/lang/msgsriso.c
    trunk/harbour/src/lang/msgsrwin.c
    trunk/harbour/src/lang/msgtr857.c
    trunk/harbour/src/lang/msgtrwin.c
    trunk/harbour/src/lang/msgua866.c
    trunk/harbour/src/lang/msguados.c
    trunk/harbour/src/lang/msguakoi.c
    trunk/harbour/src/lang/msguawin.c
    trunk/harbour/src/lang/msgzhb5.c
    trunk/harbour/src/lang/msgzhgb.c
    trunk/harbour/src/pp/pplib3.c
    trunk/harbour/src/rdd/dbf1.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/rdd/dbffpt/dbffpt1.c
    trunk/harbour/src/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/src/rdd/dbfntx/dbfntx1.c
    trunk/harbour/src/rdd/delim1.c
    trunk/harbour/src/rdd/sdf1.c
    trunk/harbour/src/rtl/filesys.c
    trunk/harbour/src/rtl/hbregex.c
    trunk/harbour/src/rtl/hbzlibgz.c
    trunk/harbour/src/vm/fm.c
    trunk/harbour/src/vm/task.c
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/include/hbiniseg.h
    trunk/harbour/include/hbmsgreg.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Dec  9 09:45:55 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  9 09:46:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13175] trunk/harbour
Message-ID: <E1NINnf-0008Cx-PD@74yxhf1.ch3.sourceforge.com>

Revision: 13175
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13175&view=rev
Author:   vszakats
Date:     2009-12-09 14:45:54 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-09 15:41 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_regc.c
  * contrib/hbwin/win_prn3.c
  * contrib/hbwin/win_dll.c
    + Using new UNICODE parameter passing macros instead of HB_TCHAR*() ones.
    ; Please review me. The transition is not yet full, as there were 
      some problematic cases, which I've left as is.
    ! Added UNICODE support for WIN_REGQUERYVALUEEX()'s string return values.

  * contrib/hbwin/tests/testreg.prg
    + Added one more test call.
    ! Fixed to not use legacy registry call.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/tests/testreg.prg
    trunk/harbour/contrib/hbwin/win_dll.c
    trunk/harbour/contrib/hbwin/win_prn3.c
    trunk/harbour/contrib/hbwin/win_regc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Wed Dec  9 09:55:29 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Dec  9 09:53:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13174] trunk/harbour
In-Reply-To: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>
Message-ID: <4B1FBA61.4000300@dbtopas.lt>

Hi,

>   * harbour/contrib/hbmemio/memio.c
>     ! declare s_fileFuncs structure as static
>     * removed unnecessary code to directly register HB_MEMIO symbol.
>       Mindaugas if you need it for some reasons then I can reactivate it
>       but I would like to know why it's necessary for you.

Perhaps copy-paste from some of my contrib RDDS. BTW, why RDD has this 
in symbol table?

Another question: many functions of some module are used from runtime 
loaded .hrb files. I use REQUEST to force linking this module into .exe. 
I current code I need to explicitly request every function to make it 
available in .hrb. Is where a way to include all functions of module 
into global symbol table? All of the functions are inside .exe anyway.


Regards,
Mindaugas
From dbtopas at dbtopas.lt  Wed Dec  9 09:57:44 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Dec  9 09:55:39 2009
Subject: [Harbour] Can we bind variables in sql?
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502B469D9@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502B469D9@PINK.zycie.pzu>
Message-ID: <4B1FBAE8.9020800@dbtopas.lt>

Hi,


Horodyski Marek (PZUZ) wrote:
> can we bind variable in selects with SQLMIX ?
> 
> ...
> Select * ftom table where Field1 = :var1 and Fiefd2 between :var2 and
> :var3
> ...

No, you can use request with already bound variables.


Regards,
Mindaugas
From harbour.01 at syenar.hu  Wed Dec  9 09:58:28 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec  9 09:58:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13174] trunk/harbour
In-Reply-To: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>
Message-ID: <6EFF7B14-14BB-4851-8108-0B8162B79F57@syenar.hu>

Hi,

Great commit, thanks.

On 2009 Dec 9, at 15:33, druzus@users.sourceforge.net wrote:

> Revision: 13174
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13174&view=rev
> 
>  * harbour/contrib/hbmemio/memio.c
>    ! declare s_fileFuncs structure as static
>    * removed unnecessary code to directly register HB_MEMIO symbol.
>      Mindaugas if you need it for some reasons then I can reactivate it
>      but I would like to know why it's necessary for you.

I'm using code like 'Type( "HB_MEMIO()" ) == "UI"' to 
detect presence of HB_MEMIO in executable.

Would this still work, or is there a superior way for 
detection?

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Dec  9 10:11:03 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  9 10:11:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13176] trunk/harbour
Message-ID: <E1NIOBz-0006Is-Ar@d5vjzd1.ch3.sourceforge.com>

Revision: 13176
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13176&view=rev
Author:   vszakats
Date:     2009-12-09 15:10:58 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-09 16:09 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
  * utils/hbmk2/hbmk2.prg
  * config/dos/watcom.mk
  * config/win/watcom.mk
  * config/linux/watcom.mk
  * config/os2/watcom.mk
    + Switched back plain C mode for watcom compiler.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/dos/watcom.mk
    trunk/harbour/config/linux/watcom.mk
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/config/win/watcom.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Dec  9 10:11:39 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec  9 10:11:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13174] trunk/harbour
In-Reply-To: <6EFF7B14-14BB-4851-8108-0B8162B79F57@syenar.hu>
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>
	<6EFF7B14-14BB-4851-8108-0B8162B79F57@syenar.hu>
Message-ID: <20091209151139.GA12131@linux-4bod.home.aster.pl>

On Wed, 09 Dec 2009, Szak?ts Viktor wrote:

Hi,

> >  * harbour/contrib/hbmemio/memio.c
> >    ! declare s_fileFuncs structure as static
> >    * removed unnecessary code to directly register HB_MEMIO symbol.
> >      Mindaugas if you need it for some reasons then I can reactivate it
> >      but I would like to know why it's necessary for you.
> I'm using code like 'Type( "HB_MEMIO()" ) == "UI"' to 
> detect presence of HB_MEMIO in executable.
> Would this still work, or is there a superior way for 
> detection?

Yes,
HB_MEMIO() is the only one public symbol in hbmemio library
so it's linked only when you have in source code:
   REQUEST HB_MEMIO
which also registers this symbols in global symbol table.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Dec  9 10:15:06 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec  9 10:15:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13174] trunk/harbour
In-Reply-To: <20091209151139.GA12131@linux-4bod.home.aster.pl>
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>
	<6EFF7B14-14BB-4851-8108-0B8162B79F57@syenar.hu>
	<20091209151139.GA12131@linux-4bod.home.aster.pl>
Message-ID: <AC46721B-A8C2-4CED-93A3-4D956A018A26@syenar.hu>

>>> * harbour/contrib/hbmemio/memio.c
>>>   ! declare s_fileFuncs structure as static
>>>   * removed unnecessary code to directly register HB_MEMIO symbol.
>>>     Mindaugas if you need it for some reasons then I can reactivate it
>>>     but I would like to know why it's necessary for you.
>> I'm using code like 'Type( "HB_MEMIO()" ) == "UI"' to 
>> detect presence of HB_MEMIO in executable.
>> Would this still work, or is there a superior way for 
>> detection?
> 
> Yes,
> HB_MEMIO() is the only one public symbol in hbmemio library
> so it's linked only when you have in source code:
>   REQUEST HB_MEMIO
> which also registers this symbols in global symbol table.

Very good. Thank you!

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Dec  9 10:17:25 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  9 10:17:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13177] trunk/harbour
Message-ID: <E1NIOI9-0006OL-Dk@d5vjzd1.ch3.sourceforge.com>

Revision: 13177
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13177&view=rev
Author:   vszakats
Date:     2009-12-09 15:17:22 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-09 16:16 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Updated Open Watcom product names to reflect that now plain C 
      is supported as well.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Dec  9 10:35:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  9 10:35:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13178] trunk/harbour
Message-ID: <E1NIOZO-0006g7-5j@d5vjzd1.ch3.sourceforge.com>

Revision: 13178
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13178&view=rev
Author:   vszakats
Date:     2009-12-09 15:35:07 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-09 16:33 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_slots.cpp
    % Eliminated two variables.

  * contrib/hbwin/oleinit.c
  * contrib/hbwin/win_misc.c
  * contrib/hbwin/wapi_winuser.c
  * contrib/hbwin/axcore.c
  * contrib/hbwin/olecore.c
  * contrib/hbwin/win_com.c
  * contrib/hbwin/wapi_commctrl.c
    * Using HB_TRUE / HB_FALSE consistenly everywhere.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbwin/axcore.c
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/contrib/hbwin/oleinit.c
    trunk/harbour/contrib/hbwin/wapi_commctrl.c
    trunk/harbour/contrib/hbwin/wapi_winuser.c
    trunk/harbour/contrib/hbwin/win_com.c
    trunk/harbour/contrib/hbwin/win_misc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Dec  9 10:43:39 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  9 10:43:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13179] trunk/harbour
Message-ID: <E1NIOhX-0006qC-0P@d5vjzd1.ch3.sourceforge.com>

Revision: 13179
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13179&view=rev
Author:   vszakats
Date:     2009-12-09 15:43:37 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-09 16:43 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/olecore.c
    * Changed to use HB_SIZE instead of ULONG.
    ; Please review me, I wouldn't like to break OLE code.

    ; Only one place remains in hbwin which uses ULONG, as return 
      value of hb_fsSeek(). In this case we need to think about it 
      some more.

  * contrib/hbqt/hbqt.ch
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt.ch
    trunk/harbour/contrib/hbwin/olecore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Wed Dec  9 10:45:57 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Dec  9 10:46:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13174] trunk/harbour
In-Reply-To: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>
Message-ID: <alpine.DEB.2.00.0912091641300.8775@dawn.royalcomp.hu>

On Wed, 9 Dec 2009, druzus@users.sourceforge.net wrote:

hi,

 > Revision: 13174

something is not quite right. i have added c builds to my test suite 
(they are all cross-builds on a linux host), and they do not build:

! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
! MAKE: make 3.81 /bin/sh   
! HB_USER_CFLAGS: -DHB_STATIC_STARTUP
! HB_INSTALL_PREFIX: /home/ice/w/xhb/hbci/inst/win/watcom/c
! HB_BUILD_DEBUG: yes
! HB_BUILD_OPTIM: no
! HB_BUILD_MODE: c
! HB_BUILD_EXTDEF: no
! HB_CONTRIBLIBS: no
! HB_HOST_PLAT: linux (x86_64)  HB_SHELL: sh
! HB_PLATFORM: win (x86) 
! HB_COMPILER: watcom 
! HB_BIN_COMPILE not specified. Automatically set to: /usr/bin
! Component: 'zlib' found in /home/ice/w/xhb/hbci/harbour-build/external/zlib (local)
! Component: 'pcre' found in /home/ice/w/xhb/hbci/harbour-build/external/pcre (local)
! Component: 'openssl' not supported with watcom compiler
! Component: 'gpm' not supported on win platform
! Component: 'slang' not found
! Component: 'curses' not found
! Component: 'x11' not found
! Component: 'wattcp/watt-32' not supported on win platform
! REVISION: 13177
[...]
wcc386   -zq -bt=nt -bm -w3 -3s -i. -i../../../../../include -d2 
  -DHB_TR_LEVEL_DEBUG  -DHB_STATIC_STARTUP -fo=pplib2_dyn.obj 
  -DHB_DYNLIB  ../../../pplib2.c
wcc386   -zq -bt=nt -bm -w3 -3s -i. -i../../../../../include -d2 
  -DHB_TR_LEVEL_DEBUG  -DHB_STATIC_STARTUP -fo=pplib3.obj  
../../../pplib3.c
../../../pplib3.c(68): Error! E1054: Expression must be constant
../../../pplib3.c(68): Warning! W202: Symbol 'symbols' has been 
  defined, but not referenced
make[3]: *** [pplib3.obj] Error 1
make[2]: *** [descend] Error 2
make[1]: *** [pp] Error 2
make: *** [src] Error 2

this same symptoms show also with os2, dos and linux (native build) 
targets as well.

full build logs available if need be, but they all very much look the 
same as this above.

-- 
[-]

mkdir /nonexistent
From bedipritpal at hotmail.com  Wed Dec  9 10:51:57 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Dec  9 10:52:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13171] trunk/harbour
In-Reply-To: <001401ca78d4$c13f2020$43bd6060$@Bisz@t-online.hu>
References: <E1NICKV-0006wo-NK@c3vjzd1.ch3.sourceforge.com>
	<001401ca78d4$c13f2020$43bd6060$@Bisz@t-online.hu>
Message-ID: <26712494.post@talk.nabble.com>


Hi


Bisz Istv?n wrote:
> 
> 1. hbide crash free in both MT and ST.
> 

Good news.



> 2. demoxbp crash at startup in both MT and ST.
> 

A last minute change in XbpMLE() - QTextEdit() => QPlainTextEdit().
Will fix in a while.



> 3. demoqt crash at exit (x button pressed) just in ST; in MT is crash
> free.
> 

I could not get why this error. I will dig deep later.

Thank you for reports.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13171--trunk-harbour-tp26704226p26712494.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Wed Dec  9 11:04:19 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec  9 11:04:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13174] trunk/harbour
In-Reply-To: <4B1FBA61.4000300@dbtopas.lt>
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>
	<4B1FBA61.4000300@dbtopas.lt>
Message-ID: <20091209160419.GB12131@linux-4bod.home.aster.pl>

On Wed, 09 Dec 2009, Mindaugas Kavaliauskas wrote:

Hi,

> >  * harbour/contrib/hbmemio/memio.c
> >    ! declare s_fileFuncs structure as static
> >    * removed unnecessary code to directly register HB_MEMIO symbol.
> >      Mindaugas if you need it for some reasons then I can reactivate it
> >      but I would like to know why it's necessary for you.
> Perhaps copy-paste from some of my contrib RDDS. BTW, why RDD has
> this in symbol table?

It's necessary for *_GETFUNCTABLE function which is accessed from
hb_rddRegister() by global symbol table. It's "more or less" Clipper
compatible method to register RDD and it's working. If you think it's
usable then we can replace it with alternative method which do not use
global symbol table.

> Another question: many functions of some module are used from
> runtime loaded .hrb files. I use REQUEST to force linking this
> module into .exe. I current code I need to explicitly request every
> function to make it available in .hrb. Is where a way to include all
> functions of module into global symbol table? All of the functions
> are inside .exe anyway.

All non static functions from linked .prg module are automatically
registered in global symbol table so I guess you are talking about
C code. Here we do not have any information about existing functions
if module does not register such list itself using:
   HB_INIT_SYMBOLS_BEGIN( ... )
   [...]
   HB_INIT_SYMBOLS_END( ... )

Of course module stored in libraries is linked with final application
if this application uses at least one of the module's public functions.

For core code functions you can use:
   #include "hbextern.ch"
or:
   REQUEST __HB_EXTERN__      /* force linking symbols by hbextern library */

For you own code you may try to generate such list automatically
from standard binaries. F.e. I was using this code to create list
of DYNAMIC symbols to include in .HRB files:

   proc genFuncList()
      local aFunc, hFile
      aFunc := getFuncList()
      asort( aFunc )
      hFile := fcreate("dynamic.ch")
      aeval( aFunc, {|x| fwrite( hFile, "DYNAMIC " + x + hb_osNewLine() ) } )
      fclose( hFile )
   return

   func getFuncList()
      local aFunc, nCount := __dynsCount(), nDst:=0, n
      aFunc := array( nCount )
      for n := 1 to nCount
         if __dynsIsFun( n )
            aFunc[ ++nDst ] := __dynsGetName( n )
         endif
      next
      asize( aFunc, nDst )
   return aFunc

You can easy modify it to generate list ofREQUEST-ed functions
if you you simply replace "DYNAMIC " with "REQUEST "
Tou can even use the same file for both things if you add some
header like:

   #ifdef __HRB__
      #define SYM_SCOPE       DYNAMIC
   #else
      #define SYM_SCOPE       REQUEST
   #endif

and then generate list for "SYM_SCOPE ".

In the future it will be good to create some tool to manage
compiled .hrb files and generate such lists from given .hrb modules.

For some C compilers like GCC you can quite easy create simply
script which extracts public internal and external function
from given .o and .a files using tools like 'nm'

But we do not have anything to create such list dynamically during
linking. In practice it will be necessary to integrate such code
with linker to make it.

We can also fully change the method of function encapsulation
and register each single function in C code. Such alternative
method can be also used to eliminate current startup initialization
code. Maybe we will try to make sth like that in the future.

best regards,
Przemek
From vouchcac at users.sourceforge.net  Wed Dec  9 11:09:12 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Dec  9 11:09:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13180] trunk/harbour
Message-ID: <E1NIP6G-0007IV-F7@d5vjzd1.ch3.sourceforge.com>

Revision: 13180
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13180&view=rev
Author:   vouchcac
Date:     2009-12-09 16:09:11 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-09 08:07 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  * contrib/hbxbp/xbpdataref.prg
    ! Fix in XbpMLE():setData() method, omitted in prev change.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbxbp/xbpdataref.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Wed Dec  9 11:10:45 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Dec  9 11:10:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13171] trunk/harbour
In-Reply-To: <001401ca78d4$c13f2020$43bd6060$@Bisz@t-online.hu>
References: <E1NICKV-0006wo-NK@c3vjzd1.ch3.sourceforge.com>
	<001401ca78d4$c13f2020$43bd6060$@Bisz@t-online.hu>
Message-ID: <26712856.post@talk.nabble.com>


Hi


Bisz Istv?n wrote:
> 
> 3. demoqt crash at exit (x button pressed) just in ST; in MT is crash
> free.
> 

At present demoqt employs 
HBQT_RELEASE_WITH_DELETE
method to free the pointers.
Can you test with other methods too?

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13171--trunk-harbour-tp26704226p26712856.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From ice at extreme.hu  Wed Dec  9 11:16:21 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Dec  9 11:16:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13174] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0912091641300.8775@dawn.royalcomp.hu>
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0912091641300.8775@dawn.royalcomp.hu>
Message-ID: <alpine.DEB.2.00.0912091714000.8775@dawn.royalcomp.hu>

On Wed, 9 Dec 2009, Tamas TEVESZ wrote:

 > ! HB_USER_CFLAGS: -DHB_STATIC_STARTUP

i am so shutting up right about now.

i forgot this in from a previous experiment ;(

sorry for the noise.

-- 
[-]

mkdir /nonexistent
From vailtom at gmail.com  Wed Dec  9 11:21:54 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Wed Dec  9 11:22:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13174] trunk/harbour
In-Reply-To: <20091209160419.GB12131@linux-4bod.home.aster.pl>
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com> 
	<4B1FBA61.4000300@dbtopas.lt>
	<20091209160419.GB12131@linux-4bod.home.aster.pl>
Message-ID: <531d7a750912090821q3b79be28l7e9ea0bbc22c4f91@mail.gmail.com>

Hi!

On xHarbour they have the /vd parameter to automatically convert all
external functions as dynamic functions. The final application has to
behave as the Clipper, generating a RTE when the function is not
found. But in Harbour I have been testing a tool what I developed to
analyze the C code from my PRG sources, that are external to the
current code but what not exist inside hbextern.ch and make statements
 DYNAMIC for me ... but do not think this tool an elegant solution.

Sorry for bad English.

Best regards,
Vailton Renato
From druzus at acn.waw.pl  Wed Dec  9 11:23:19 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec  9 11:23:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13174] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0912091641300.8775@dawn.royalcomp.hu>
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0912091641300.8775@dawn.royalcomp.hu>
Message-ID: <20091209162319.GC12131@linux-4bod.home.aster.pl>

On Wed, 09 Dec 2009, Tamas TEVESZ wrote:

Hi,

> wcc386   -zq -bt=nt -bm -w3 -3s -i. -i../../../../../include -d2 
>   -DHB_TR_LEVEL_DEBUG  -DHB_STATIC_STARTUP -fo=pplib3.obj  
> ../../../pplib3.c
> ../../../pplib3.c(68): Error! E1054: Expression must be constant
> ../../../pplib3.c(68): Warning! W202: Symbol 'symbols' has been 
>   defined, but not referenced
> make[3]: *** [pplib3.obj] Error 1
> make[2]: *** [descend] Error 2
> make[1]: *** [pp] Error 2
> make: *** [src] Error 2
> 
> this same symptoms show also with os2, dos and linux (native build) 
> targets as well.
> 
> full build logs available if need be, but they all very much look the 
> same as this above.

You created the problem using HB_STATIC_STARTUP macro.
It forces using C++ startup initialization which is not
available in pure C mode.
Please remove this macro.

best regards,
Przemek
From vszakats at users.sourceforge.net  Wed Dec  9 11:52:54 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  9 11:53:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13181] trunk/harbour
Message-ID: <E1NIPmY-0007Px-Su@dn4whf1.ch3.sourceforge.com>

Revision: 13181
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13181&view=rev
Author:   vszakats
Date:     2009-12-09 16:52:49 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------

2009-12-09 17:51 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbnf/dispc.c
  * contrib/hbfimage/fi_winfu.c
  * contrib/hbfimage/fi_wrp.c
  * contrib/hbgd/gdwrp.c
    * Changed to use HB_IS*() macros to check parameter types instead
      of using hb_parinfo() & HB_IT_*.
    * Formatting. (deleted unnecessary blocks, returns, spaces)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfimage/fi_winfu.c
    trunk/harbour/contrib/hbfimage/fi_wrp.c
    trunk/harbour/contrib/hbgd/gdwrp.c
    trunk/harbour/contrib/hbnf/dispc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Dec  9 12:24:46 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec  9 12:24:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13174] trunk/harbour
In-Reply-To: <531d7a750912090821q3b79be28l7e9ea0bbc22c4f91@mail.gmail.com>
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>
	<4B1FBA61.4000300@dbtopas.lt>
	<20091209160419.GB12131@linux-4bod.home.aster.pl>
	<531d7a750912090821q3b79be28l7e9ea0bbc22c4f91@mail.gmail.com>
Message-ID: <20091209172445.GA8601@linux-4bod.home.aster.pl>

On Wed, 09 Dec 2009, Vailton Renato wrote:

Hi,

> On xHarbour they have the /vd parameter to automatically convert all
> external functions as dynamic functions. The final application has to
> behave as the Clipper, generating a RTE when the function is not
> found.

-vd switch is interesting feature which is really usable in some cases
though I would prefer a little bit more flexible method of generating
references list. Probably a tool to manage .hrb files and create .hrl
libraries which will have an option to generate external dependencies
list is much better idea. .ext files generated by xHarbour when -vd
switch is used are usable only if .hrb file does not have any references
to functions in other .hrb files and this problem can be resolved only
by external program which will generate such list for group of .hrb
files. Maybe I'll add support for -vd switch to Harbour but rather
without generating .ext files or at least they will be activated
optionally, i.e. by -vd+

> But in Harbour I have been testing a tool what I developed to
> analyze the C code from my PRG sources, that are external to the
> current code but what not exist inside hbextern.ch and make statements
>  DYNAMIC for me ... but do not think this tool an elegant solution.

Without replicating the full C preprocessor such tools can always
be confused by some code. It may not be big problem for creating
documentation or some other data which later can be manually corrected
but it does not allow to use such solution as automatized part of
build process for any source code.
It's much easier to extract such information from final .hrb, .o (.obj),
.a (.lib) files because we data in some strictly defined formats.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Dec  9 13:05:08 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec  9 13:05:16 2009
Subject: [Harbour] Create Process API - Brief Overview Requested
In-Reply-To: <6AEEC359-C523-44DB-8A74-8B66FD0B9AC7@syenar.hu>
References: <26696490.post@talk.nabble.com>
	<BB2A953A-7B7B-4978-B3F8-86397973CF2A@syenar.hu>
	<26699158.post@talk.nabble.com>
	<549ECCBC-1F33-4206-9AE5-9B8610A5C0D9@syenar.hu>
	<26704652.post@talk.nabble.com>
	<6AEEC359-C523-44DB-8A74-8B66FD0B9AC7@syenar.hu>
Message-ID: <20091209180508.GA9415@linux-4bod.home.aster.pl>

On Wed, 09 Dec 2009, Szak?ts Viktor wrote:

Hi,

> > Just to show the other benefits it renders.
> > I am simply short of process API in Harbour,
> > examined hbprocfn.c to go through all the details,
> > but I could not find how to capture process output
> > in buffer which process is in running state. 

   hProcess := HB_PROCESSOPEN( <cCommand>, NIL, @hStdOut, @hStderr, lDeatch )

It creates new process and you can read form hStdOut and hStderr
the process output.
You can check running process state using
   nState := HB_PROCESSVALUE( hProcess, lWait )
Do not forget to close all handles passed by reference to HB_PROCESSOPEN()
using FCLOSE() function when they are not longer necessary.

Please only remember that HB_PROCESSOPEN() does not work for platforms
which do not support simultaneous multiprocessing.
HB_PROCESSRUN() works for all platforms and if necessary standard files
are used to exchange stdin/stdout/stderr data.

> > I can see that stdout and stderr andles but do not
> > know hoe effectively I can use them.
> > Plus hb_processRun() opens the console window 
> > which I do not want to.

It's not true. Neither hb_processRun() nor hb_processOpen() creates
console window. Such window can be created only by executed application
and it's out of calling process control. It doesn't matter how you
will call it. You can only try to pass to executed application request
to minimize such window using lDetach or some parameter like //gtnul
for [x]Harbour applications which disables default GT.

> > I must be missing on this front, that's why
> > I had requested the api syntax.

QT is only upper level wrapper to the same low level CreateProcess()
function.

> > Qt process implementation will take only two minutes
> > to remove from SVN, I was just comparing the results
> > from both impleentations.
> Okay. IMO you should ask above things from Przemek 
> to see how process API can be used for such things 
> like catching stdout/err in real-time.

HB_PROCESSOPEN() then FREAD() until HB_PROCESSVALUE() == -1
and then FCLOSE() for open handles.
If you plan to implement everything in single thread and make
in the loop some other things then probably you will need sth
like wrapper to WAPI WaitForSingleObject() or WaitForMultipleObjects()
to avoid freezing the process on
      FREAD( hStdOut, @cBuff, len( cBuff ) )
That's all.

best regards,
Przemek
From itamarlins at bol.com.br  Wed Dec  9 13:07:48 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Wed Dec  9 13:10:52 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13174] trunk/harbour
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>
Message-ID: <hfop67$5ge$1@ger.gmane.org>

Hi!

>   * modified to use HB_DATASEG_STARTUP instead of HB_MSC_STARTUP
>      Now HB_MSC_STARTUP is local macro used only in hbinit.h.
>      Please make MSVC build tests.

! Making D:\DEV\HARBOUR\bin\hbmk.cfg...
.\bin\postinst.bat
! Making shared version of Harbour binaries...
Microsoft (R) Windows (R) Resource Compiler Version 6.1.6723.1
Copyright (C) Microsoft Corporation.  All rights reserved.

hbrun.c
hbrun.c(165) : fatal error C1083: Cannot open include file: 'hbiniseg.h': No 
suc
h file or directory
hbmk2: Error: Running C compiler. 2
hbmk2.c
hbmk2.c(623) : fatal error C1083: Cannot open include file: 'hbiniseg.h': No 
suc
h file or directory
hbmk2: Error: Running C compiler. 2
hbtest.c
hbtest.c(233) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
No su
ch file or directory
rt_array.c
rt_array.c(80) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
No s
uch file or directory
rt_date.c
rt_date.c(54) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
No su
ch file or directory
rt_file.c
rt_file.c(65) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
No su
ch file or directory
rt_hvm.c
rt_hvm.c(66) : fatal error C1083: Cannot open include file: 'hbiniseg.h': No 
suc
h file or directory
rt_hvma.c
rt_hvma.c(71) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
No su
ch file or directory
rt_math.c
rt_math.c(64) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
No su
ch file or directory
rt_misc.c
rt_misc.c(149) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
No s
uch file or directory
rt_mt.c
rt_mt.c(56) : fatal error C1083: Cannot open include file: 'hbiniseg.h': No 
such
 file or directory
rt_str.c
rt_str.c(94) : fatal error C1083: Cannot open include file: 'hbiniseg.h': No 
suc
h file or directory
rt_stra.c
rt_stra.c(59) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
No su
ch file or directory
rt_trans.c
rt_trans.c(38) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
No s
uch file or directory
rt_class.c
rt_class.c(140) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
No
such file or directory
rt_miscc.c
Generating Code...
hbmk2: Error: Running C compiler. 2
hbi18n.c
hbi18n.c(108) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
No su
ch file or directory
hbmk2: Error: Running C compiler. 2
hbformat.c
hbformat.c(233) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
No
such file or directory
hbformac.c
Generating Code...
hbmk2: Error: Running C compiler. 2
! Making hbrun with application icon...
Microsoft (R) Windows (R) Resource Compiler Version 6.1.6723.1
Copyright (C) Microsoft Corporation.  All rights reserved.

hbrun.c
hbrun.c(165) : fatal error C1083: Cannot open include file: 'hbiniseg.h': No 
suc
h file or directory
hbmk2: Error: Running C compiler. 2

D:\harbour\trunk\harbour>

Best regards,
Itamar M. Lins Jr. 



From vszakats at users.sourceforge.net  Wed Dec  9 13:16:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  9 13:16:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13182] trunk/harbour
Message-ID: <E1NIR5a-0006Ay-5J@bj8yhf1.ch3.sourceforge.com>

Revision: 13182
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13182&view=rev
Author:   vszakats
Date:     2009-12-09 18:16:36 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-09 19:13 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/common/hbtrace.c
    + Added support for HB_TR_WINOUT envvar (on Windows platform-only)
      to enable pushing trace output via OutputDebugString() calls.
      Use this before running an app:
         set HB_TR_WINOUT=yes
         (anything non-empty would work, not just 'yes')

  * src/rtl/trace.c
    + HB_TRACESTRING(): Added support to accept multiple parameters,
      it also handles non-string parameters, just like OUTSTD()/QOUT().
    % Minor optimization to HB_TRACE() call.

  ; NOTE: Above two changes make it unnecessary to use custom made
          debug/trace solutions inside each contrib, and it also makes
          it unnecessary to use xhb lib for other proprietary trace solutions.

  * src/rtl/console.c
    * Variable scope optimization.

  * contrib/hbgd/gdwrp.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbgd/gdwrp.c
    trunk/harbour/src/common/hbtrace.c
    trunk/harbour/src/rtl/console.c
    trunk/harbour/src/rtl/trace.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Dec  9 13:25:02 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec  9 13:25:15 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13174] trunk/harbour
In-Reply-To: <hfop67$5ge$1@ger.gmane.org>
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>
	<hfop67$5ge$1@ger.gmane.org>
Message-ID: <117BD1D5-7926-46B2-8F87-785A693A195B@syenar.hu>

I guess you're still using 'set INCLUDE' in your 
environment. Delete it.

Brgds,
Viktor

On 2009 Dec 9, at 19:07, Itamar Lins wrote:

> Hi!
> 
>>  * modified to use HB_DATASEG_STARTUP instead of HB_MSC_STARTUP
>>     Now HB_MSC_STARTUP is local macro used only in hbinit.h.
>>     Please make MSVC build tests.
> 
> ! Making D:\DEV\HARBOUR\bin\hbmk.cfg...
> .\bin\postinst.bat
> ! Making shared version of Harbour binaries...
> Microsoft (R) Windows (R) Resource Compiler Version 6.1.6723.1
> Copyright (C) Microsoft Corporation.  All rights reserved.
> 
> hbrun.c
> hbrun.c(165) : fatal error C1083: Cannot open include file: 'hbiniseg.h': No 
> suc
> h file or directory
> hbmk2: Error: Running C compiler. 2
> hbmk2.c
> hbmk2.c(623) : fatal error C1083: Cannot open include file: 'hbiniseg.h': No 
> suc
> h file or directory
> hbmk2: Error: Running C compiler. 2
> hbtest.c
> hbtest.c(233) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
> No su
> ch file or directory
> rt_array.c
> rt_array.c(80) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
> No s
> uch file or directory
> rt_date.c
> rt_date.c(54) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
> No su
> ch file or directory
> rt_file.c
> rt_file.c(65) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
> No su
> ch file or directory
> rt_hvm.c
> rt_hvm.c(66) : fatal error C1083: Cannot open include file: 'hbiniseg.h': No 
> suc
> h file or directory
> rt_hvma.c
> rt_hvma.c(71) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
> No su
> ch file or directory
> rt_math.c
> rt_math.c(64) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
> No su
> ch file or directory
> rt_misc.c
> rt_misc.c(149) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
> No s
> uch file or directory
> rt_mt.c
> rt_mt.c(56) : fatal error C1083: Cannot open include file: 'hbiniseg.h': No 
> such
> file or directory
> rt_str.c
> rt_str.c(94) : fatal error C1083: Cannot open include file: 'hbiniseg.h': No 
> suc
> h file or directory
> rt_stra.c
> rt_stra.c(59) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
> No su
> ch file or directory
> rt_trans.c
> rt_trans.c(38) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
> No s
> uch file or directory
> rt_class.c
> rt_class.c(140) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
> No
> such file or directory
> rt_miscc.c
> Generating Code...
> hbmk2: Error: Running C compiler. 2
> hbi18n.c
> hbi18n.c(108) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
> No su
> ch file or directory
> hbmk2: Error: Running C compiler. 2
> hbformat.c
> hbformat.c(233) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
> No
> such file or directory
> hbformac.c
> Generating Code...
> hbmk2: Error: Running C compiler. 2
> ! Making hbrun with application icon...
> Microsoft (R) Windows (R) Resource Compiler Version 6.1.6723.1
> Copyright (C) Microsoft Corporation.  All rights reserved.
> 
> hbrun.c
> hbrun.c(165) : fatal error C1083: Cannot open include file: 'hbiniseg.h': No 
> suc
> h file or directory
> hbmk2: Error: Running C compiler. 2
> 
> D:\harbour\trunk\harbour>
> 
> Best regards,
> Itamar M. Lins Jr. 
> 
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From itamarlins at bol.com.br  Wed Dec  9 13:34:07 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Wed Dec  9 13:37:12 2009
Subject: [Harbour] Re: Re: SF.net SVN: harbour-project:[13174] trunk/harbour
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com><hfop67$5ge$1@ger.gmane.org>
	<117BD1D5-7926-46B2-8F87-785A693A195B@syenar.hu>
Message-ID: <hfoqni$bhr$1@ger.gmane.org>

Hi!
But, working fine at:
>Log Message:
>-----------
>2009-12-09 12:50 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * contrib/hbwin/legacyco.c
>  * contrib/hbwin/wapi_winuser.c
 >   ! Added missing header.
Now new make.bat
----------->8--------
set include=
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
win-make clean install
--------8<-----
I get same problem below.
>hbrun.c(165) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
>No
> suc
> h file or directory
>...

Best regards,
Itamar M. Lins Jr.

"Viktor Szakts" <harbour.01@syenar.hu> 
escreveu na mensagem news:117BD1D5-7926-46B2-8F87-785A693A195B@syenar.hu...
I guess you're still using 'set INCLUDE' in your
environment. Delete it.

Brgds,
Viktor

On 2009 Dec 9, at 19:07, Itamar Lins wrote:

> Hi!
>
>>  * modified to use HB_DATASEG_STARTUP instead of HB_MSC_STARTUP
>>     Now HB_MSC_STARTUP is local macro used only in hbinit.h.
>>     Please make MSVC build tests.
>
> ! Making D:\DEV\HARBOUR\bin\hbmk.cfg...
> .\bin\postinst.bat
> ! Making shared version of Harbour binaries...
> Microsoft (R) Windows (R) Resource Compiler Version 6.1.6723.1
> Copyright (C) Microsoft Corporation.  All rights reserved.
>
> hbrun.c
> hbrun.c(165) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
> No
> suc
> h file or directory
> hbmk2: Error: Running C compiler. 2
> hbmk2.c
> hbmk2.c(623) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
> No
> suc
> h file or directory
> hbmk2: Error: Running C compiler. 2
> hbtest.c
> hbtest.c(233) : fatal error C1083: Cannot open include file: 'hbiniseg.h':
> No su
> ch file or directory
> rt_array.c
> rt_array.c(80) : fatal error C1083: Cannot open include file: 
> 'hbiniseg.h':
> No s
> uch file or directory
> rt_date.c
> rt_date.c(54) : fatal error C1083: Cannot open include file: 'hbiniseg.h':
> No su
> ch file or directory
> rt_file.c
> rt_file.c(65) : fatal error C1083: Cannot open include file: 'hbiniseg.h':
> No su
> ch file or directory
> rt_hvm.c
> rt_hvm.c(66) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
> No
> suc
> h file or directory
> rt_hvma.c
> rt_hvma.c(71) : fatal error C1083: Cannot open include file: 'hbiniseg.h':
> No su
> ch file or directory
> rt_math.c
> rt_math.c(64) : fatal error C1083: Cannot open include file: 'hbiniseg.h':
> No su
> ch file or directory
> rt_misc.c
> rt_misc.c(149) : fatal error C1083: Cannot open include file: 
> 'hbiniseg.h':
> No s
> uch file or directory
> rt_mt.c
> rt_mt.c(56) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
> No
> such
> file or directory
> rt_str.c
> rt_str.c(94) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
> No
> suc
> h file or directory
> rt_stra.c
> rt_stra.c(59) : fatal error C1083: Cannot open include file: 'hbiniseg.h':
> No su
> ch file or directory
> rt_trans.c
> rt_trans.c(38) : fatal error C1083: Cannot open include file: 
> 'hbiniseg.h':
> No s
> uch file or directory
> rt_class.c
> rt_class.c(140) : fatal error C1083: Cannot open include file: 
> 'hbiniseg.h':
> No
> such file or directory
> rt_miscc.c
> Generating Code...
> hbmk2: Error: Running C compiler. 2
> hbi18n.c
> hbi18n.c(108) : fatal error C1083: Cannot open include file: 'hbiniseg.h':
> No su
> ch file or directory
> hbmk2: Error: Running C compiler. 2
> hbformat.c
> hbformat.c(233) : fatal error C1083: Cannot open include file: 
> 'hbiniseg.h':
> No
> such file or directory
> hbformac.c
> Generating Code...
> hbmk2: Error: Running C compiler. 2
> ! Making hbrun with application icon...
> Microsoft (R) Windows (R) Resource Compiler Version 6.1.6723.1
> Copyright (C) Microsoft Corporation.  All rights reserved.
>
> hbrun.c
> hbrun.c(165) : fatal error C1083: Cannot open include file: 'hbiniseg.h': 
> No
> suc
> h file or directory
> hbmk2: Error: Running C compiler. 2
>
> D:\harbour\trunk\harbour>
>
> Best regards,
> Itamar M. Lins Jr.
>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour



From vszakats at users.sourceforge.net  Wed Dec  9 13:38:44 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  9 13:38:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13183] trunk/harbour
Message-ID: <E1NIRQy-0007nH-2D@3kljzd1.ch3.sourceforge.com>

Revision: 13183
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13183&view=rev
Author:   vszakats
Date:     2009-12-09 18:38:42 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-09 19:36 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/Makefile
  * contrib/hbqt/hbqt.ch
  - contrib/hbqt/hbqt_misc.prg
  * contrib/hbxbp/xbp.ch
  * contrib/hbxbp/xbpgeneric.prg
    + Replaced local trace solution with HB_TRACESTRING().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/hbqt.ch
    trunk/harbour/contrib/hbxbp/xbp.ch
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg

Removed Paths:
-------------
    trunk/harbour/contrib/hbqt/hbqt_misc.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Dec  9 14:13:11 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  9 14:13:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13184] trunk/harbour
Message-ID: <E1NIRyJ-00042r-Pm@c3vjzd1.ch3.sourceforge.com>

Revision: 13184
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13184&view=rev
Author:   vszakats
Date:     2009-12-09 19:13:10 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-09 20:11 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/wapi_winbase.c
    + WAPI_WAITFORSINGLEOBJECT()
    + WAPI_WAITFORSINGLEOBJECTEX()
    + WAPI_WAITFORMULTIPLEOBJECT()
    + WAPI_WAITFORMULTIPLEOBJECTEX()
      Added new wrappers. Untested.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_winbase.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Wed Dec  9 14:14:25 2009
From: toninhofwi at yahoo.com.br (Antonio Carlos)
Date: Wed Dec  9 14:14:32 2009
Subject: [Harbour] Undefined symbol 'hb_lang_Init_'
Message-ID: <982213.37814.qm@web33706.mail.mud.yahoo.com>

Hi friends,

I have an error with clean build and latest SVN:

bcc32.exe   -I. -I../../../../../include -q -tWM -w -w-sig- -Q -d -6 -O2 -OS -Ov -Oi -Oc  -I"c:\harbour\bcc55\bin\..\Include" -DHB_GUI -DHB_NO_PROFILER -DADS_LIB_VERSION=700 -DHB_HASH_MSG_ITEMS -DHB_NO_DEBUG -DHB_LEGACY_OFF -DHB_FM_STD_ALLOC -omsgbe866.obj -c ../../../msgbe866.c
../../../msgbe866.c:
Error E2451 ../../../../../include\hbmsgreg.h 68: Undefined symbol 'hb_lang_Init_'
 + Full parser context
 + ../../../msgbe866.c, line 204: #include ../../../../../include\hbmsgreg.h
*** 1 errors in Compile ***



TIA and best regards,

Toninho.



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
From druzus at acn.waw.pl  Wed Dec  9 14:17:58 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec  9 14:18:05 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13174] trunk/harbour
In-Reply-To: <hfop67$5ge$1@ger.gmane.org>
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>
	<hfop67$5ge$1@ger.gmane.org>
Message-ID: <20091209191758.GA5097@linux-4bod.home.aster.pl>

On Wed, 09 Dec 2009, Itamar Lins wrote:

Hi!

> >   * modified to use HB_DATASEG_STARTUP instead of HB_MSC_STARTUP
> >      Now HB_MSC_STARTUP is local macro used only in hbinit.h.
> >      Please make MSVC build tests.
> ! Making D:\DEV\HARBOUR\bin\hbmk.cfg...
> .\bin\postinst.bat
> ! Making shared version of Harbour binaries...
> Microsoft (R) Windows (R) Resource Compiler Version 6.1.6723.1
> Copyright (C) Microsoft Corporation.  All rights reserved.
> hbrun.c
> hbrun.c(165) : fatal error C1083: Cannot open include file: 'hbiniseg.h': No 
> suc

Thank you for your tests but above problem you created yourself
in your local SVN copy. It's not Harbour problem at all.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Dec  9 14:26:17 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec  9 14:26:24 2009
Subject: [Harbour] Re: Re: SF.net SVN: harbour-project:[13174]
	trunk/harbour
In-Reply-To: <hfoqni$bhr$1@ger.gmane.org>
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>
	<hfop67$5ge$1@ger.gmane.org>
	<117BD1D5-7926-46B2-8F87-785A693A195B@syenar.hu>
	<hfoqni$bhr$1@ger.gmane.org>
Message-ID: <20091209192617.GA5226@linux-4bod.home.aster.pl>

On Wed, 09 Dec 2009, Itamar Lins wrote:

Hi,

> But, working fine at:
> >Log Message:
> >-----------
> >2009-12-09 12:50 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)

That's very bad news for you because it confirms that you are building
Harbour using wrong header files in some places. Some of them comes from
current code and some of them are taken from old builds. Probably from
old install directory which for sure cannot contain newly added files
like hbiniseg.h so you have above error message.
Using invalid header files may cause any unpredictable results.
As long as you do not clean your environment settings you should
expect that Harbour binaries you are creating are broken.

best regards,
Przemek
From itamarlins at bol.com.br  Wed Dec  9 14:23:19 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Wed Dec  9 14:28:52 2009
Subject: [Harbour] Re: Re: SF.net SVN: harbour-project:[13174] trunk/harbour
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com><hfop67$5ge$1@ger.gmane.org>
	<117BD1D5-7926-46B2-8F87-785A693A195B@syenar.hu>
Message-ID: <hfotjq$n30$1@ger.gmane.org>

Hi!
Please look.

> * harbour/include/hbinit.h
>  + harbour/include/hbiniseg.h
>    * replaced HB_MSC_STARTUP code with more universal HB_DATASEG_STARTUP
>    * moved HB_DATASEG_STARTUP code to separate header file to reduce
>      modifications in other files when this code has to be changed or
>      extended

hbiniseg.h is new file update harbour make for count on it.

Best regards,
Itamar M. Lins Jr. 



From druzus at acn.waw.pl  Wed Dec  9 14:32:11 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec  9 14:32:18 2009
Subject: [Harbour] Undefined symbol 'hb_lang_Init_'
In-Reply-To: <982213.37814.qm@web33706.mail.mud.yahoo.com>
References: <982213.37814.qm@web33706.mail.mud.yahoo.com>
Message-ID: <20091209193211.GA5330@linux-4bod.home.aster.pl>

On Wed, 09 Dec 2009, Antonio Carlos wrote:

Hi,

> I have an error with clean build and latest SVN:
> bcc32.exe   -I. -I../../../../../include -q -tWM -w -w-sig- -Q -d -6 -O2 -OS
> -Ov -Oi -Oc  -I"c:\harbour\bcc55\bin\..\Include"
> -DHB_GUI -DHB_NO_PROFILER -DADS_LIB_VERSION=700 -DHB_HASH_MSG_ITEMS
> -DHB_NO_DEBUG -DHB_LEGACY_OFF -DHB_FM_STD_ALLOC -omsgbe866.obj -c
> ../../../msgbe866.c
> ../../../msgbe866.c:
> Error E2451 ../../../../../include\hbmsgreg.h 68: Undefined symbol 'hb_lang_Init_'
>  + Full parser context
>  + ../../../msgbe866.c, line 204: #include ../../../../../include\hbmsgreg.h
> *** 1 errors in Compile ***

Thank you for the information. I'll fix it ASAP.
BTW HB_NO_PROFILER is default and HB_FM_STD_ALLOC in BCC is slower,
consumes more memory and it's very inefficient in MT mode.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Dec  9 14:33:26 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec  9 14:33:33 2009
Subject: [Harbour] Re: Re: SF.net SVN: harbour-project:[13174]
	trunk/harbour
In-Reply-To: <hfotjq$n30$1@ger.gmane.org>
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>
	<hfop67$5ge$1@ger.gmane.org>
	<117BD1D5-7926-46B2-8F87-785A693A195B@syenar.hu>
	<hfotjq$n30$1@ger.gmane.org>
Message-ID: <20091209193326.GA5526@linux-4bod.home.aster.pl>

On Wed, 09 Dec 2009, Itamar Lins wrote:

Hi!

> hbiniseg.h is new file update harbour make for count on it.

You are right. My fault. I'm really sorry.
I'll fix it in a while.

best regards,
Przemek
From itamarlins at bol.com.br  Wed Dec  9 14:31:50 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Wed Dec  9 14:34:41 2009
Subject: [Harbour] Re: Re: Re: SF.net SVN:
	harbour-project:[13174]trunk/harbour
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com><hfop67$5ge$1@ger.gmane.org><117BD1D5-7926-46B2-8F87-785A693A195B@syenar.hu><hfoqni$bhr$1@ger.gmane.org>
	<20091209192617.GA5226@linux-4bod.home.aster.pl>
Message-ID: <hfou3p$p8d$1@ger.gmane.org>

Hi!
I found the problem.
D:\harbour\trunk\harbour\include>copy hbiniseg.h d:\DEV\harbour\include
        1 arquivo(s) copiado(s).

D:\harbour\trunk\harbour\include>

And now working fine.
Because initial process of making harbour not copying new file.

Best Regards,
Itamar M. Lins Jr.

"Przemyslaw Czerpak" <druzus@acn.waw.pl> 
escreveu na mensagem news:20091209192617.GA5226@linux-4bod.home.aster.pl...
> On Wed, 09 Dec 2009, Itamar Lins wrote:
>
> Hi,
>
>> But, working fine at:
>> >Log Message:
>> >-----------
>> >2009-12-09 12:50 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>
> That's very bad news for you because it confirms that you are building
> Harbour using wrong header files in some places. Some of them comes from
> current code and some of them are taken from old builds. Probably from
> old install directory which for sure cannot contain newly added files
> like hbiniseg.h so you have above error message.
> Using invalid header files may cause any unpredictable results.
> As long as you do not clean your environment settings you should
> expect that Harbour binaries you are creating are broken.
>
> best regards,
> Przemek 



From druzus at acn.waw.pl  Wed Dec  9 14:38:31 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec  9 14:38:38 2009
Subject: [Harbour] Re: Re: Re: SF.net SVN:
	harbour-project:[13174]trunk/harbour
In-Reply-To: <hfou3p$p8d$1@ger.gmane.org>
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>
	<hfop67$5ge$1@ger.gmane.org>
	<117BD1D5-7926-46B2-8F87-785A693A195B@syenar.hu>
	<hfoqni$bhr$1@ger.gmane.org>
	<20091209192617.GA5226@linux-4bod.home.aster.pl>
	<hfou3p$p8d$1@ger.gmane.org>
Message-ID: <20091209193831.GA5628@linux-4bod.home.aster.pl>

On Wed, 09 Dec 2009, Itamar Lins wrote:

Hi,

> I found the problem.
> D:\harbour\trunk\harbour\include>copy hbiniseg.h d:\DEV\harbour\include
>         1 arquivo(s) copiado(s).
> D:\harbour\trunk\harbour\include>
> And now working fine.
> Because initial process of making harbour not copying new file.

Yes, you are right and I was wrong.
Thank you very much for the information.

It will be fixed in next commit.

best regards,
Przemek 
From druzus at users.sourceforge.net  Wed Dec  9 14:41:32 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Dec  9 14:41:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13185] trunk/harbour
Message-ID: <E1NISPk-0003s3-UD@dn4whf1.ch3.sourceforge.com>

Revision: 13185
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13185&view=rev
Author:   druzus
Date:     2009-12-09 19:41:10 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-09 20:40 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/Makefile
    ! added missing newly added header files - thanks to Itamar for
      information about the problem

  * harbour/include/hbmsgreg.h
    ! fixed typo - thanks to Toninho for information about the problem

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/Makefile
    trunk/harbour/include/hbmsgreg.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Wed Dec  9 14:55:18 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Dec  9 14:55:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13186] trunk/harbour
Message-ID: <E1NISd4-00045Q-Js@dn4whf1.ch3.sourceforge.com>

Revision: 13186
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13186&view=rev
Author:   druzus
Date:     2009-12-09 19:55:17 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-09 20:55 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/rddsql/sqlbase.c
    ! fixed yet another typo

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sqlbase.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From myorg63 at mail.ru  Wed Dec  9 14:58:42 2009
From: myorg63 at mail.ru (Petr Chornyj)
Date: Wed Dec  9 14:58:50 2009
Subject: [Harbour] FPARSELINE from xhb.lib & Application Internal Error
Message-ID: <26716657.post@talk.nabble.com>


Hi All
------------------------------------
PROCEDURE Main() 
LOCAL cText, aData 

cText := '"Jones, Mr",Male,"Oklahoma","IL",20041231,"Director, President"' 

aData := FParseLine( cText ) 
FOR EACH cText IN aData 
? LTrim( Str( HB_EnumIndex() ) ), cText 
NEXT
------------------------------------

Application Internal Error - E:\harbour-mingw\bin\test.exe
Terminated at: 2009.12.09 21:52:52
Unrecoverable error 6005: Exception error: 

    Exception Code:C0000005
    Exception Address:00425B9E
    EAX:004D7030  EBX:00000000  ECX:00000000  EDX:00000000
    ESI:00000000  EDI:00000001  EBP:0022FD1C
    CS:EIP:001B:00425B9E  SS:ESP:0023:0022FC90
    DS:0023  ES:0023  FS:003B  GS:0000
    Flags:00010206
    CS:EIP: 8B 06 25 05 B4 FF FF 66 85 C0 0F 85 C5 00 00 00
    SS:ESP: 00A5E6B4 004D8464 00000003 00483EBE 00A59B54 0022FCC0 0000001F
00483EBE 00A5106C 00A513A0 00000001 00401ACC 00000000 00000000 00000000
00000000

    C stack:
    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...


Modules:
0x00400000 0x000F4000 E:\harbour-mingw\bin\fn.exe
0x7C900000 0x000B0000 C:\WINDOWS\system32\ntdll.dll
0x7C800000 0x000F8000 C:\WINDOWS\system32\kernel32.dll
0x77C00000 0x00058000 C:\WINDOWS\system32\msvcrt.dll
0x7E360000 0x00091000 C:\WINDOWS\system32\USER32.dll
0x77F10000 0x00049000 C:\WINDOWS\system32\GDI32.dll
0x76360000 0x0001D000 C:\WINDOWS\system32\IMM32.DLL
0x77DC0000 0x000AC000 C:\WINDOWS\system32\ADVAPI32.dll
0x77E70000 0x00092000 C:\WINDOWS\system32\RPCRT4.dll
0x77FE0000 0x00011000 C:\WINDOWS\system32\Secur32.dll

Called from FPARSELINE(0)
Called from MAIN(6) in fn.prg
------------------------------------------------------------------------

Regards,
Petr
-- 
View this message in context: http://old.nabble.com/FPARSELINE-from-xhb.lib---Application-Internal-Error-tp26716657p26716657.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Wed Dec  9 15:18:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  9 15:18:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13187] trunk/harbour
Message-ID: <E1NISzc-0002YG-PT@d5vjzd1.ch3.sourceforge.com>

Revision: 13187
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13187&view=rev
Author:   vszakats
Date:     2009-12-09 20:18:31 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-09 21:17 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbgd/gdwrp.c
    * Formatting (deleted unnecessary returns and blocks).

  * ChangeLog
  - contrib/hbgd/ChangeLog
    * Merged local ChangeLog into central one.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbgd/gdwrp.c

Removed Paths:
-------------
    trunk/harbour/contrib/hbgd/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Wed Dec  9 15:26:20 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Dec  9 15:26:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13188] trunk/harbour
Message-ID: <E1NIT76-0006Vm-Ix@dn4whf1.ch3.sourceforge.com>

Revision: 13188
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13188&view=rev
Author:   druzus
Date:     2009-12-09 20:26:18 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-09 21:25 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/xhb/fparse.c
    ! fixed few GPF traps and memory leaks
    % added some minor optimization

    I strongly suggest to use hb_aTokens() and hb_token*() functions.
    They have more options and for really large data many times
    (even hundreds times) faster.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/fparse.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Dec  9 16:22:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  9 16:22:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13189] trunk/harbour
Message-ID: <E1NITzY-0006E1-3c@74yxhf1.ch3.sourceforge.com>

Revision: 13189
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13189&view=rev
Author:   vszakats
Date:     2009-12-09 21:22:35 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-09 22:22 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    * Minor cleanups.

  * ChangeLog
  - contrib/hbpgsql/ChangeLog
    * Old local ChangeLog merged into the central one.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL

Removed Paths:
-------------
    trunk/harbour/contrib/hbpgsql/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Dec  9 16:27:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  9 16:27:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13190] trunk/harbour
Message-ID: <E1NIU40-0006Ip-9x@74yxhf1.ch3.sourceforge.com>

Revision: 13190
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13190&view=rev
Author:   vszakats
Date:     2009-12-09 21:27:11 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-09 22:26 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * ChangeLog
  - contrib/hbtpathy/ChangeLog
    * Old local ChangeLog merged into the central one.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Removed Paths:
-------------
    trunk/harbour/contrib/hbtpathy/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Wed Dec  9 16:57:38 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Dec  9 16:55:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13174] trunk/harbour
In-Reply-To: <20091209160419.GB12131@linux-4bod.home.aster.pl>
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>	<4B1FBA61.4000300@dbtopas.lt>
	<20091209160419.GB12131@linux-4bod.home.aster.pl>
Message-ID: <4B201D52.9030902@dbtopas.lt>

Hi,


Przemys?aw Czerpak wrote:
>> Perhaps copy-paste from some of my contrib RDDS. BTW, why RDD has
>> this in symbol table?
> 
> It's necessary for *_GETFUNCTABLE function which is accessed from
> hb_rddRegister() by global symbol table.

Yes, but this answers why f.e. DBFCDX_GETFUNCTABLE is included into 
symbol table in dbfcdx1.c. But why DBFCDX is also in symbol table? I can 
not find any usage of this symbol in hb_rddRegister().


> All non static functions from linked .prg module are automatically
> registered in global symbol table so I guess you are talking about
> C code. 

Yes, you are right. I should remember myself, that his effect happens
if functions are implemented in C.

Do you think it will be a good practice to add a define like:
   #define HB_CAIRO_REQUEST_EXTERN
   #include "hbcairo.ch"
and put request for all library functions into hbcairo.ch inside ifdef?

Define name can have another structure is this is not suitable: 
HB_CAIRO_EXTERN, HB_CAIRO_REQUEST_LIBRARY, HB_EXTERN_CAIRO, etc.


Regards,
Mindaugas

From harbour.01 at syenar.hu  Wed Dec  9 17:16:29 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec  9 17:16:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13174] trunk/harbour
In-Reply-To: <4B201D52.9030902@dbtopas.lt>
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>	<4B1FBA61.4000300@dbtopas.lt>
	<20091209160419.GB12131@linux-4bod.home.aster.pl>
	<4B201D52.9030902@dbtopas.lt>
Message-ID: <A944047C-BB9A-404D-9A06-AEF523EBE86C@syenar.hu>

Hi Mindaugas,

>> All non static functions from linked .prg module are automatically
>> registered in global symbol table so I guess you are talking about
>> C code. 
> 
> Yes, you are right. I should remember myself, that his effect happens
> if functions are implemented in C.
> 
> Do you think it will be a good practice to add a define like:
>  #define HB_CAIRO_REQUEST_EXTERN
>  #include "hbcairo.ch"
> and put request for all library functions into hbcairo.ch inside ifdef?
> 
> Define name can have another structure is this is not suitable: HB_CAIRO_EXTERN, HB_CAIRO_REQUEST_LIBRARY, HB_EXTERN_CAIRO, etc.

Sorry to jump in, but wouldn't it be cleaner to add hbcaiext.ch 
(or some other 8.3 name) just like we do for other contrib 
and core? It seems more straightforward to use to me, it's 
also cleaner to maintain, as the separate file can be much 
easier generated by automated tool.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Wed Dec  9 17:33:00 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Wed Dec  9 17:33:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13171] trunk/harbour
In-Reply-To: <26712856.post@talk.nabble.com>
References: <E1NICKV-0006wo-NK@c3vjzd1.ch3.sourceforge.com>	<001401ca78d4$c13f2020$43bd6060$@Bisz@t-online.hu>
	<26712856.post@talk.nabble.com>
Message-ID: <000c01ca791f$90d55e90$b2801bb0$@Bisz@t-online.hu>

Hi

An another test case with full positive results with latest SVN and Qt 4.6 for VS2008. The MinGW with Qt 4.6 and Qt 4.5.3 follows...
hbide, demoxbp and demoqt are executed crash free, so we should concentrate on the functional issues from now, I think.
See below the script used for my tests, please tune/comment it:

     @echo PREREQUISITES:
     @echo Installed Qt 4.6 for vs2008 to the default directory: C:/Qt/4.6.0/ ...
     @echo from: http://get.qt.nokia.com/qt/source/qt-win-opensource-4.6.0-vs2008.exe
     @echo Updated c:\download\harbour with the latest SVN
     @pause

     @set HB_WITH_QT=C:/Qt/4.6.0/include
     @set HB_INSTALL_PREFIX=c:\harbour\msvc
     call "c:\Program Files\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
     @cd c:\downloads\harbour
     @win-make clean install

     @set PATH=%PATH%;C:\harbour\msvc\bin
     @cd c:\downloads\harbour\contrib\hbide
     @hbmk2 -rebuild hbide.hbp -cflag=-MD
     @cd c:\downloads\harbour\contrib\hbxbp\tests
     @hbmk2 -rebuild demoxbp.prg
     @cd c:\downloads\harbour\contrib\hbqt\tests
     @hbmk2 -rebuild demoqt.prg

     @set PATH=%PATH%;C:\Qt\4.6.0\bin
     @cd c:\downloads\harbour\contrib\hbide
     @hbide
     @pause
     @cd c:\downloads\harbour\contrib\hbxbp\tests
     @demoxbp
     @pause
     @cd c:\downloads\harbour\contrib\hbqt\tests
     @demoqt
     @pause

Best regards,
Istv?n


From vszakats at users.sourceforge.net  Wed Dec  9 17:34:57 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  9 17:35:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13191] trunk/harbour
Message-ID: <E1NIV7Z-0000TZ-IU@c3vjzd1.ch3.sourceforge.com>

Revision: 13191
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13191&view=rev
Author:   vszakats
Date:     2009-12-09 22:34:52 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-09 23:11 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * ChangeLog
  - contrib/hbtip/ChangeLog
    * Old local ChangeLog merged into the central one.

  - examples/hbvpdf/ChangeLog
  + examples/hbvpdf/readme.txt
    * Renamed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/examples/hbvpdf/readme.txt

Removed Paths:
-------------
    trunk/harbour/contrib/hbtip/ChangeLog
    trunk/harbour/examples/hbvpdf/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Dec  9 17:37:44 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  9 17:37:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13192] trunk/harbour
Message-ID: <E1NIVAG-0000Yr-AE@c3vjzd1.ch3.sourceforge.com>

Revision: 13192
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13192&view=rev
Author:   vszakats
Date:     2009-12-09 22:37:41 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-09 23:40 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * ChangeLog
  - examples/hbapollo/ChangeLog
    - Deleted redundant old local ChangeLog.
    ; We have only one ChangeLog now.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Removed Paths:
-------------
    trunk/harbour/examples/hbapollo/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Dec  9 18:03:06 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec  9 18:03:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13171] trunk/harbour
In-Reply-To: <000c01ca791f$90d55e90$b2801bb0$@Bisz@t-online.hu>
References: <E1NICKV-0006wo-NK@c3vjzd1.ch3.sourceforge.com>	<001401ca78d4$c13f2020$43bd6060$@Bisz@t-online.hu>
	<26712856.post@talk.nabble.com>
	<000c01ca791f$90d55e90$b2801bb0$@Bisz@t-online.hu>
Message-ID: <057B9EE1-5032-4C39-9088-AD88E23CBBA6@syenar.hu>

Hi,

> An another test case with full positive results with latest SVN and Qt 4.6 for VS2008. The MinGW with Qt 4.6 and Qt 4.5.3 follows...
> hbide, demoxbp and demoqt are executed crash free, so we should concentrate on the functional issues from now, I think.
> See below the script used for my tests, please tune/comment it:
> 
>     @echo PREREQUISITES:
>     @echo Installed Qt 4.6 for vs2008 to the default directory: C:/Qt/4.6.0/ ...
>     @echo from: http://get.qt.nokia.com/qt/source/qt-win-opensource-4.6.0-vs2008.exe
>     @echo Updated c:\download\harbour with the latest SVN
>     @pause
> 
>     @set HB_WITH_QT=C:/Qt/4.6.0/include
>     @set HB_INSTALL_PREFIX=c:\harbour\msvc
>     call "c:\Program Files\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
>     @cd c:\downloads\harbour
>     @win-make clean install

I guess this should either be:

@win-make clean install HB_USER_CFLAGS=-MD

OR kept as is, and the trick suggested by Andi could be 
used when building hbide:

@hbmk2 -rebuild hbide.hbp -ldflag=-nodefaultlib:MSVCRT.LIB -ldflag=-defaultlib:LIBCMT.LIB

>     @set PATH=%PATH%;C:\harbour\msvc\bin
>     @cd c:\downloads\harbour\contrib\hbide
>     @hbmk2 -rebuild hbide.hbp -cflag=-MD
>     @cd c:\downloads\harbour\contrib\hbxbp\tests
>     @hbmk2 -rebuild demoxbp.prg
>     @cd c:\downloads\harbour\contrib\hbqt\tests
>     @hbmk2 -rebuild demoqt.prg

Just a minor note, -rebuild only has an effect 
in -inc mode, and -inc mode is currently enabled 
only inside hbide.hbp, so it's not needed for the 
other two cases. It doesn't do any harm though.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Dec  9 18:45:24 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  9 18:45:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13193] trunk/harbour
Message-ID: <E1NIWDk-0002E7-Fe@c3vjzd1.ch3.sourceforge.com>

Revision: 13193
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13193&view=rev
Author:   vszakats
Date:     2009-12-09 23:45:23 +0000 (Wed, 09 Dec 2009)

Log Message:
-----------
2009-12-10 00:44 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_destruct.cpp
  * contrib/hbqt/hbqt_base.cpp
    * Moved some non-destructor related stuff to hbqt_base.cpp.
    - Deleted hbqt_debug() low level call.
      (this temporarily break build, pls be patient)
    * C level hbqt_getmemused() is now always defined in Windows builds.
    * Harbour level HBQT_GETMEMUSED() now always works (not just 
      special debug builds).

  * contrib/hbqt/hbqt_hbqtdbfmodel.cpp
  * contrib/hbqt/hbqt_hbqttableview.cpp
  * contrib/hbqt/hbqt_hbqtmymainwindow.cpp
  * contrib/hbqt/hbqt_slots.cpp
    * Replaced hbqt_debug() with HB_TRACE() calls.

    ; NOTE: IMPORTANT: -D__HB_DEBUG__ works no more. Now for debug builds, 
            you have to use the standard Harbour method:
               HB_USER_CFLAGS=-DHB_TR_LEVEL_DEBUG
            It's enough to enable this setting when build hbqt lib, to 
            get HBQT trace calls.

  * contrib/hbqt/hbqt.h
    ! Added missing 'extern' keywords.
    ! Added missing 'extern int hbqt_getmemused( void )'.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_base.cpp
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqtdbfmodel.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqtmymainwindow.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqttableview.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Wed Dec  9 18:56:08 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Wed Dec  9 18:56:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13171] trunk/harbour
In-Reply-To: <057B9EE1-5032-4C39-9088-AD88E23CBBA6@syenar.hu>
References: <E1NICKV-0006wo-NK@c3vjzd1.ch3.sourceforge.com>	<001401ca78d4$c13f2020$43bd6060$@Bisz@t-online.hu>	<26712856.post@talk.nabble.com>	<000c01ca791f$90d55e90$b2801bb0$@Bisz@t-online.hu>
	<057B9EE1-5032-4C39-9088-AD88E23CBBA6@syenar.hu>
Message-ID: <000d01ca792b$2d9d5240$88d7f6c0$@Bisz@t-online.hu>

Hi,

>I guess this should either be:
>@win-make clean install HB_USER_CFLAGS=-MD
>OR kept as is, and the trick suggested by Andi could be 
>used when building hbide:
>@hbmk2 -rebuild hbide.hbp -ldflag=-nodefaultlib:MSVCRT.LIB
-ldflag=-defaultlib:LIBCMT.LIB

Thank you Viktor, Andi.

The Andi's solution is less 'intrusive', so see the merged script variant
below with the same very positive results:

     @echo PREREQUISITES:
     @echo Installed Qt 4.6 for vs2008 to the default directory:
C:/Qt/4.6.0/ ...
     @echo from:
http://get.qt.nokia.com/qt/source/qt-win-opensource-4.6.0-vs2008.exe
     @echo Updated c:\download\harbour with the latest SVN
     @pause

     @set HB_WITH_QT=C:/Qt/4.6.0/include
     @set HB_INSTALL_PREFIX=c:\harbour\msvc
     @call "c:\Program Files\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
x86
     @cd c:\downloads\harbour
     @win-make clean install

     @set PATH=%PATH%;C:\harbour\msvc\bin
     @cd c:\downloads\harbour\contrib\hbide
@rem @hbmk2 -rebuild hbide.hbp -cflag=-MD
@rem the above line is commented and replaced by the trick suggested by
Andi:
     @hbmk2 -rebuild hbide.hbp -ldflag=-nodefaultlib:MSVCRT.LIB
-ldflag=-defaultlib:LIBCMT.LIB -info -trace
     @cd c:\downloads\harbour\contrib\hbxbp\tests
     @hbmk2 demoxbp.prg -info -trace
     @cd c:\downloads\harbour\contrib\hbqt\tests
     @hbmk2 demoqt.prg -info -trace

     @set PATH=%PATH%;C:\Qt\4.6.0\bin
     @cd c:\downloads\harbour\contrib\hbide
     @hbide
     @pause
     @cd c:\downloads\harbour\contrib\hbxbp\tests
     @demoxbp
     @pause
     @cd c:\downloads\harbour\contrib\hbqt\tests
     @demoqt
     @pause

Best regards,
Istv?n


From harbour.01 at syenar.hu  Wed Dec  9 19:14:59 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec  9 19:15:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13171] trunk/harbour
In-Reply-To: <000c01ca791f$90d55e90$b2801bb0$@Bisz@t-online.hu>
References: <E1NICKV-0006wo-NK@c3vjzd1.ch3.sourceforge.com>	<001401ca78d4$c13f2020$43bd6060$@Bisz@t-online.hu>
	<26712856.post@talk.nabble.com>
	<000c01ca791f$90d55e90$b2801bb0$@Bisz@t-online.hu>
Message-ID: <455A3CEE-87FB-46C1-87AA-7E968F7C7BC6@syenar.hu>

Hi Istvan,

> An another test case with full positive results with latest SVN and Qt 4.6 for VS2008. The MinGW with Qt 4.6 and Qt 4.5.3 follows...
> hbide, demoxbp and demoqt are executed crash free, so we should concentrate on the functional issues from now, I think.

Is there any final result for the three different 
memory handling modes?

IMO we should only leave one, the one which works 
the most efficiently and without leaks.

Is it time to make the decision yet?

There are still a few remaining issue with HBQT:

- Eliminating all GPFs resulting from .prg coding errors.
- Initialization/deinitialization (mutex, slots, events) is currently 
  not foolproof and violates wrapper layer levels.
  This may cause any sort of random crashes AFAICT.
- Potential (and real) leaks due to non-collected pointers used 
  in a few places:
    QT_MYDRAWINGAREA()
    QT_MYMAINWINDOW()
    QT_HBDBFMODEL()
    QT_HBTABLEVIEW()
    QT_HBTABLEVIEW_NAVIGATE()
- Violation of layering by few object: MyDrawingArea(), MyMainWindow(), 
  DbfMode(), TableView(), SyntaxHighlighter().

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Dec  9 19:27:49 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  9 19:27:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13194] trunk/harbour
Message-ID: <E1NIWsn-0000jD-US@74yxhf1.ch3.sourceforge.com>

Revision: 13194
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13194&view=rev
Author:   vszakats
Date:     2009-12-10 00:27:47 +0000 (Thu, 10 Dec 2009)

Log Message:
-----------
2009-12-10 01:21 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt.h
    % Minor cleanup after prev.

  * contrib/hbqt/generator/hbqtgen.prg
    * Changed to use HB_TRACE() instead of hbqt_debug().

    ; NOTE: IMPORTANT: Now to enabled debug trace calls, you have to
            use the standard Harbour method:
               HB_USER_CFLAGS=-DHB_TR_LEVEL_DEBUG
            It's enough to enable this setting when build hbqt lib, to
            get HBQT trace calls.
            In addition, following setting stil works to enable
            .prg level debug trace calls:
               HB_USER_PRGFLAGS=-D__HB_DEBUG__

  * contrib/hbqt/qtgui/QPageSetupDialog.cpp
  * contrib/hbqt/qtgui/QGridLayout.cpp
  * contrib/hbqt/qtgui/QItemSelectionModel.cpp
  * contrib/hbqt/qtgui/QTextLength.cpp
  * contrib/hbqt/qtgui/QConicalGradient.cpp
  * contrib/hbqt/qtgui/QStandardItemModel.cpp
  * contrib/hbqt/qtgui/QItemSelection.cpp
  * contrib/hbqt/qtgui/QTransform.cpp
  * contrib/hbqt/qtgui/QPicture.cpp
  * contrib/hbqt/qtgui/QAction.cpp
  * contrib/hbqt/qtgui/QPaintEvent.cpp
  * contrib/hbqt/qtgui/QStyledItemDelegate.cpp
  * contrib/hbqt/qtgui/QWidget.cpp
  * contrib/hbqt/qtgui/QFontDialog.cpp
  * contrib/hbqt/qtgui/QToolBox.cpp
  * contrib/hbqt/qtgui/QTextListFormat.cpp
  * contrib/hbqt/qtgui/QTextEdit.cpp
  * contrib/hbqt/qtgui/QMouseEvent.cpp
  * contrib/hbqt/qtgui/QFontComboBox.cpp
  * contrib/hbqt/qtgui/QStyleOptionHeader.cpp
  * contrib/hbqt/qtgui/QListView.cpp
  * contrib/hbqt/qtgui/QRadialGradient.cpp
  * contrib/hbqt/qtgui/QCursor.cpp
  * contrib/hbqt/qtgui/QLabel.cpp
  * contrib/hbqt/qtgui/QPainterPath.cpp
  * contrib/hbqt/qtgui/QStylePainter.cpp
  * contrib/hbqt/qtgui/QStyleOptionToolButton.cpp
  * contrib/hbqt/qtgui/QBrush.cpp
  * contrib/hbqt/qtgui/QLinearGradient.cpp
  * contrib/hbqt/qtgui/QProgressBar.cpp
  * contrib/hbqt/qtgui/QStyleOptionToolBox.cpp
  * contrib/hbqt/qtgui/QStyleOptionTabBarBase.cpp
  * contrib/hbqt/qtgui/QToolBar.cpp
  * contrib/hbqt/qtgui/QFontMetricsF.cpp
  * contrib/hbqt/qtgui/QToolButton.cpp
  * contrib/hbqt/qtgui/QWindowsStyle.cpp
  * contrib/hbqt/qtgui/QColor.cpp
  * contrib/hbqt/qtgui/QListWidget.cpp
  * contrib/hbqt/qtgui/QTextLayout.cpp
  * contrib/hbqt/qtgui/QTextCursor.cpp
  * contrib/hbqt/qtgui/QTextDocument.cpp
  * contrib/hbqt/qtgui/QPolygon.cpp
  * contrib/hbqt/qtgui/QRadioButton.cpp
  * contrib/hbqt/qtgui/QStyleOptionViewItem.cpp
  * contrib/hbqt/qtgui/QFileIconProvider.cpp
  * contrib/hbqt/qtgui/QTextFrameFormat.cpp
  * contrib/hbqt/qtgui/QTextBlockFormat.cpp
  * contrib/hbqt/qtgui/QStyleOptionToolBar.cpp
  * contrib/hbqt/qtgui/QBitmap.cpp
  * contrib/hbqt/qtgui/QCalendarWidget.cpp
  * contrib/hbqt/qtgui/QStyleOptionTitleBar.cpp
  * contrib/hbqt/qtgui/QHeaderView.cpp
  * contrib/hbqt/qtgui/QScrollBar.cpp
  * contrib/hbqt/qtgui/QStyleOptionButton.cpp
  * contrib/hbqt/qtgui/QCommandLinkButton.cpp
  * contrib/hbqt/qtgui/QFocusFrame.cpp
  * contrib/hbqt/qtgui/QSizePolicy.cpp
  * contrib/hbqt/qtgui/QApplication.cpp
  * contrib/hbqt/qtgui/QTextFragment.cpp
  * contrib/hbqt/qtgui/QPlainTextEdit.cpp
  * contrib/hbqt/qtgui/QInputDialog.cpp
  * contrib/hbqt/qtgui/QKeySequence.cpp
  * contrib/hbqt/qtgui/QPrinter.cpp
  * contrib/hbqt/qtgui/QActionGroup.cpp
  * contrib/hbqt/qtgui/QTextCharFormat.cpp
  * contrib/hbqt/qtgui/QStyleOptionSlider.cpp
  * contrib/hbqt/qtgui/QInputEvent.cpp
  * contrib/hbqt/qtgui/QWidgetItem.cpp
  * contrib/hbqt/qtgui/QMenu.cpp
  * contrib/hbqt/qtgui/QStyleOptionSizeGrip.cpp
  * contrib/hbqt/qtgui/QStyleOptionGroupBox.cpp
  * contrib/hbqt/qtgui/QImage.cpp
  * contrib/hbqt/qtgui/QFontInfo.cpp
  * contrib/hbqt/qtgui/QIcon.cpp
  * contrib/hbqt/qtgui/QPolygonF.cpp
  * contrib/hbqt/qtgui/QHBoxLayout.cpp
  * contrib/hbqt/qtgui/QTreeWidget.cpp
  * contrib/hbqt/qtgui/QCommonStyle.cpp
  * contrib/hbqt/qtgui/QProgressDialog.cpp
  * contrib/hbqt/qtgui/QStyleFactory.cpp
  * contrib/hbqt/qtgui/QButtonGroup.cpp
  * contrib/hbqt/qtgui/QSystemTrayIcon.cpp
  * contrib/hbqt/qtgui/QStyleOptionDockWidget.cpp
  * contrib/hbqt/qtgui/QColorDialog.cpp
  * contrib/hbqt/qtgui/QListWidgetItem.cpp
  * contrib/hbqt/qtgui/QStyleOptionTabWidgetFrame.cpp
  * contrib/hbqt/qtgui/QDateTimeEdit.cpp
  * contrib/hbqt/qtgui/QInputMethodEvent.cpp
  * contrib/hbqt/qtgui/QStyleOptionFocusRect.cpp
  * contrib/hbqt/qtgui/QMainWindow.cpp
  * contrib/hbqt/qtgui/QDesktopWidget.cpp
  * contrib/hbqt/qtgui/QTableWidgetSelectionRange.cpp
  * contrib/hbqt/qtgui/QWidgetAction.cpp
  * contrib/hbqt/qtgui/QStringListModel.cpp
  * contrib/hbqt/qtgui/QDockWidget.cpp
  * contrib/hbqt/qtgui/QTextBrowser.cpp
  * contrib/hbqt/qtgui/QTableWidget.cpp
  * contrib/hbqt/qtgui/QErrorMessage.cpp
  * contrib/hbqt/qtgui/QWizard.cpp
  * contrib/hbqt/qtgui/QFileSystemModel.cpp
  * contrib/hbqt/qtgui/QDial.cpp
  * contrib/hbqt/qtgui/QTextOption.cpp
  * contrib/hbqt/qtgui/QImageWriter.cpp
  * contrib/hbqt/qtgui/QMenuBar.cpp
  * contrib/hbqt/qtgui/QStyleOptionMenuItem.cpp
  * contrib/hbqt/qtgui/QWizardPage.cpp
  * contrib/hbqt/qtgui/QFontMetrics.cpp
  * contrib/hbqt/qtgui/QPrintDialog.cpp
  * contrib/hbqt/qtgui/QStandardItem.cpp
  * contrib/hbqt/qtgui/QStyleOptionComboBox.cpp
  * contrib/hbqt/qtgui/QSplashScreen.cpp
  * contrib/hbqt/qtgui/QSizeGrip.cpp
  * contrib/hbqt/qtgui/QMessageBox.cpp
  * contrib/hbqt/qtgui/QTextImageFormat.cpp
  * contrib/hbqt/qtgui/QGroupBox.cpp
  * contrib/hbqt/qtgui/QImageReader.cpp
  * contrib/hbqt/qtgui/QTextDocumentFragment.cpp
  * contrib/hbqt/qtgui/QPushButton.cpp
  * contrib/hbqt/qtgui/QTreeWidgetItem.cpp
  * contrib/hbqt/qtgui/QBoxLayout.cpp
  * contrib/hbqt/qtgui/QTextFormat.cpp
  * contrib/hbqt/qtgui/QPalette.cpp
  * contrib/hbqt/qtgui/QTextFrame.cpp
  * contrib/hbqt/qtgui/QTextBlock.cpp
  * contrib/hbqt/qtgui/QPainter.cpp
  * contrib/hbqt/qtgui/QStyleOptionProgressBar.cpp
  * contrib/hbqt/qtgui/QTextTableFormat.cpp
  * contrib/hbqt/qtgui/QStatusBar.cpp
  * contrib/hbqt/qtgui/QTabWidget.cpp
  * contrib/hbqt/qtgui/QContextMenuEvent.cpp
  * contrib/hbqt/qtgui/QLCDNumber.cpp
  * contrib/hbqt/qtgui/QTextDocumentWriter.cpp
  * contrib/hbqt/qtgui/QStyleOptionTab.cpp
  * contrib/hbqt/qtgui/QDateEdit.cpp
  * contrib/hbqt/qtgui/QCheckBox.cpp
  * contrib/hbqt/qtgui/QSound.cpp
  * contrib/hbqt/qtgui/QTabBar.cpp
  * contrib/hbqt/qtgui/QSpacerItem.cpp
  * contrib/hbqt/qtgui/QFileDialog.cpp
  * contrib/hbqt/qtgui/QDirModel.cpp
  * contrib/hbqt/qtgui/QDialog.cpp
  * contrib/hbqt/qtgui/QFormLayout.cpp
  * contrib/hbqt/qtgui/QStyleOptionFrame.cpp
  * contrib/hbqt/qtgui/QSyntaxHighlighter.cpp
  * contrib/hbqt/qtgui/QFont.cpp
  * contrib/hbqt/qtgui/QTableWidgetItem.cpp
  * contrib/hbqt/qtgui/QVBoxLayout.cpp
  * contrib/hbqt/qtgui/QMovie.cpp
  * contrib/hbqt/qtgui/QStyleOption.cpp
  * contrib/hbqt/qtgui/QTreeView.cpp
  * contrib/hbqt/qtgui/QTextLine.cpp
  * contrib/hbqt/qtgui/QTextItem.cpp
  * contrib/hbqt/qtgui/QTimeEdit.cpp
  * contrib/hbqt/qtgui/QMatrix.cpp
  * contrib/hbqt/qtgui/QPrintPreviewDialog.cpp
  * contrib/hbqt/qtgui/QSlider.cpp
  * contrib/hbqt/qtgui/QSpinBox.cpp
  * contrib/hbqt/qtgui/QScrollArea.cpp
  * contrib/hbqt/qtgui/QFontDatabase.cpp
  * contrib/hbqt/qtgui/QLineEdit.cpp
  * contrib/hbqt/qtgui/QPixmap.cpp
  * contrib/hbqt/qtgui/QSplitter.cpp
  * contrib/hbqt/qtgui/QComboBox.cpp
  * contrib/hbqt/qtgui/QDoubleSpinBox.cpp
  * contrib/hbqt/qtgui/QStyleOptionComplex.cpp
  * contrib/hbqt/qtgui/QTableView.cpp
  * contrib/hbqt/qtgui/QPen.cpp
  * contrib/hbqt/qtgui/QRegion.cpp
  * contrib/hbqt/qtgui/QFrame.cpp
  * contrib/hbqt/qtgui/QCompleter.cpp
  * contrib/hbqt/qtgui/QStyleOptionSpinBox.cpp
  * contrib/hbqt/qtcore/QDate.cpp
  * contrib/hbqt/qtcore/QProcess.cpp
  * contrib/hbqt/qtcore/QTextBoundaryFinder.cpp
  * contrib/hbqt/qtcore/QPoint.cpp
  * contrib/hbqt/qtcore/QTextStream.cpp
  * contrib/hbqt/qtcore/QObject.cpp
  * contrib/hbqt/qtcore/QTimer.cpp
  * contrib/hbqt/qtcore/QEvent.cpp
  * contrib/hbqt/qtcore/QDataStream.cpp
  * contrib/hbqt/qtcore/QResource.cpp
  * contrib/hbqt/qtcore/QModelIndex.cpp
  * contrib/hbqt/qtcore/QTranslator.cpp
  * contrib/hbqt/qtcore/QLineF.cpp
  * contrib/hbqt/qtcore/QRect.cpp
  * contrib/hbqt/qtcore/QTime.cpp
  * contrib/hbqt/qtcore/QLocale.cpp
  * contrib/hbqt/qtcore/QPointF.cpp
  * contrib/hbqt/qtcore/QBitArray.cpp
  * contrib/hbqt/qtcore/QFile.cpp
  * contrib/hbqt/qtcore/QLatin1String.cpp
  * contrib/hbqt/qtcore/QSizeF.cpp
  * contrib/hbqt/qtcore/QMimeData.cpp
  * contrib/hbqt/qtcore/QLine.cpp
  * contrib/hbqt/qtcore/QUrl.cpp
  * contrib/hbqt/qtcore/QStringList.cpp
  * contrib/hbqt/qtcore/QByteArray.cpp
  * contrib/hbqt/qtcore/QRectF.cpp
  * contrib/hbqt/qtcore/QEventLoop.cpp
  * contrib/hbqt/qtcore/QDir.cpp
  * contrib/hbqt/qtcore/QSignalMapper.cpp
  * contrib/hbqt/qtcore/QTextEncoder.cpp
  * contrib/hbqt/qtcore/QLatin1Char.cpp
  * contrib/hbqt/qtcore/QRegExp.cpp
  * contrib/hbqt/qtcore/QFileInfo.cpp
  * contrib/hbqt/qtcore/QDateTime.cpp
  * contrib/hbqt/qtcore/QVariant.cpp
  * contrib/hbqt/qtcore/QUiLoader.cpp
  * contrib/hbqt/qtcore/QThread.cpp
  * contrib/hbqt/qtcore/QTextDecoder.cpp
  * contrib/hbqt/qtcore/QSize.cpp
  * contrib/hbqt/qtcore/QList.cpp
  * contrib/hbqt/qtnetwork/QHttp.cpp
  * contrib/hbqt/qtnetwork/QHttpRequestHeader.cpp
  * contrib/hbqt/qtnetwork/QNetworkRequest.cpp
  * contrib/hbqt/qtnetwork/QHttpResponseHeader.cpp
  * contrib/hbqt/qtnetwork/QFtp.cpp
    * Regenerated after generator change.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/qtcore/QBitArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QByteArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDataStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDate.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDateTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDir.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEvent.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEventLoop.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFile.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFileInfo.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1Char.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1String.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLine.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLineF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLocale.cpp
    trunk/harbour/contrib/hbqt/qtcore/QMimeData.cpp
    trunk/harbour/contrib/hbqt/qtcore/QModelIndex.cpp
    trunk/harbour/contrib/hbqt/qtcore/QObject.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPoint.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPointF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QProcess.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRect.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRectF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRegExp.cpp
    trunk/harbour/contrib/hbqt/qtcore/QResource.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSignalMapper.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSize.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSizeF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QStringList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextBoundaryFinder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextDecoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextEncoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QThread.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTimer.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTranslator.cpp
    trunk/harbour/contrib/hbqt/qtcore/QUiLoader.cpp
    trunk/harbour/contrib/hbqt/qtcore/QUrl.cpp
    trunk/harbour/contrib/hbqt/qtcore/QVariant.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QActionGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QApplication.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBitmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBrush.cpp
    trunk/harbour/contrib/hbqt/qtgui/QButtonGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCalendarWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCheckBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColorDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommandLinkButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommonStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCompleter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QConicalGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QContextMenuEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDesktopWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDial.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDirModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDoubleSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QErrorMessage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileIconProvider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileSystemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFocusFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFont.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDatabase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontInfo.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetrics.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetricsF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFormLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGridLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHeaderView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageReader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputMethodEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelection.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelectionModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QKeySequence.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLCDNumber.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLabel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLineEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLinearGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMainWindow.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMatrix.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenu.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenuBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMessageBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMouseEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMovie.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPageSetupDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPaintEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainterPath.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPalette.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPicture.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPixmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPlainTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygonF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintPreviewDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrinter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPushButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadialGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadioButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRegion.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollArea.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizePolicy.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSound.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpacerItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplashScreen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplitter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStatusBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStringListModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleFactory.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComplex.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFocusRect.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionHeader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionMenuItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTab.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabBarBase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabWidgetFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTitleBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionViewItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStylePainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyledItemDelegate.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSyntaxHighlighter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSystemTrayIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetSelectionRange.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlock.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlockFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBrowser.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCharFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocument.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrameFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextImageFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLength.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLine.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextListFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextTableFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTransform.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QVBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWindowsStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizard.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizardPage.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QFtp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpRequestHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpResponseHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QNetworkRequest.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Dec  9 20:10:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec  9 20:10:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13195] trunk/harbour
Message-ID: <E1NIXXp-0007ZO-0D@3kljzd1.ch3.sourceforge.com>

Revision: 13195
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13195&view=rev
Author:   vszakats
Date:     2009-12-10 01:10:11 +0000 (Thu, 10 Dec 2009)

Log Message:
-----------
2009-12-10 02:08 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/generator/hbqtgen.prg
    % Changed to only save files which have indeed changed
      (to avoid unnecessary rebuilds)

  * contrib/hbqt/Makefile
  * contrib/hbqt/hbqt.h
  * contrib/hbqt/hbqt_slots.h
  - contrib/hbqt/hbqt_hbqtdbfmodel.cpp
  + contrib/hbqt/hbqt_hbdbfmodel.cpp
  - contrib/hbqt/hbqt_hbqtsyntaxhighlighter.cpp
  + contrib/hbqt/hbqt_hbqsyntaxhighlighter.cpp
  - contrib/hbqt/hbqt_hbqtmymainwindow.cpp
  + contrib/hbqt/hbqt_hbqmainwindow.cpp
  - contrib/hbqt/hbqt_hbqtmydrawingarea.cpp
  + contrib/hbqt/hbqt_hbdrawingarea.cpp
  - contrib/hbqt/hbqt_hbqttableview.cpp
  + contrib/hbqt/hbqt_hbqtableview.cpp
  * contrib/hbqt/qth/QAbstractItemModel.qth
  * contrib/hbqt/qth/QSyntaxHighlighter.qth
  * contrib/hbqt/qth/QTableView.qth
    * Following class renames done:
      - HbSyntaxHighlighter -> HBQSyntaxHighlighter (HBIDE)
      - HbDbfModel          -> HBDbfModel           (HBXBP)
      - MyDrawingArea       -> HBDrawingArea        (UNUSED)
      - MyMainWindow        -> HBQMainWindow
      - HbTableView         -> HBQTableView         (HBXBP)

    ; TOFIX: These classes seem to be the problematic parts of HBQT.
             They violate layering, there are naming inconsistencies
             (standard QT .prg level class internally refers to inherited
             special Harbour class, they implement HBXBP and IDE functionality
             embedded in HBQT to hack around the rule to not place .c
             code in HBXBP/HBIDE, they are not using GC collected pointers,
             they require mutexes which initialization isn't properly
             solved, one class is nowhere used. etcect)

  * contrib/hbxbp/xbpbrowse.prg
  * contrib/hbxbp/xbpwindow.prg
  * contrib/hbxbp/xbpdialog.prg
    * Renames applied to HBXBP code.

  * contrib/hbqt/qtgui/TQTableView.prg
  * contrib/hbqt/qtgui/QSyntaxHighlighter.cpp
  * contrib/hbqt/qtgui/QTableView.cpp
  * contrib/hbqt/qtcore/TQAbstractItemModel.prg
  * contrib/hbqt/qtcore/QAbstractItemModel.cpp
    * Regenerated after .qth changes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_slots.h
    trunk/harbour/contrib/hbqt/qtcore/QAbstractItemModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractItemModel.prg
    trunk/harbour/contrib/hbqt/qtgui/QSyntaxHighlighter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableView.cpp
    trunk/harbour/contrib/hbqt/qtgui/TQTableView.prg
    trunk/harbour/contrib/hbqt/qth/QAbstractItemModel.qth
    trunk/harbour/contrib/hbqt/qth/QSyntaxHighlighter.qth
    trunk/harbour/contrib/hbqt/qth/QTableView.qth
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbpdialog.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/hbqt_hbdbfmodel.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbdrawingarea.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqmainwindow.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqsyntaxhighlighter.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqtableview.cpp

Removed Paths:
-------------
    trunk/harbour/contrib/hbqt/hbqt_hbqtdbfmodel.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqtmydrawingarea.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqtmymainwindow.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqtsyntaxhighlighter.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqttableview.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Thu Dec 10 04:42:35 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Dec 10 04:42:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13196] trunk/harbour
Message-ID: <E1NIfXf-0000c4-LH@74yxhf1.ch3.sourceforge.com>

Revision: 13196
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13196&view=rev
Author:   druzus
Date:     2009-12-10 09:42:34 +0000 (Thu, 10 Dec 2009)

Log Message:
-----------
2009-12-10 10:42 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/xhb/fparse.c
    * pacified BCC warning

  * harbour/src/rtl/base64c.c
  * harbour/src/rtl/diskspac.c
  * harbour/src/rtl/filesys.c
  * harbour/src/rtl/hbproces.c
  * harbour/src/rtl/gtos2/gtos2.c
  * harbour/src/rdd/dbffpt/dbffpt1.c
  * harbour/contrib/xhb/freadlin.c
  * harbour/contrib/xhb/txtline.c
  * harbour/contrib/hbbtree/hb_btree.c
  * harbour/contrib/rddsql/sqlbase.c
  * harbour/contrib/rddsql/sddodbc/odbcdd.c
    * pacified OpenWatcom C warnings

  * harbour/include/hbatomic.h
    % rewritten OpenWatcom atomic ASM macros.
      Now they precisely informs compiler about used and modified
      registered and also force passing arguments in strictly defined
      what simplify ASM code.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbtree/hb_btree.c
    trunk/harbour/contrib/rddsql/sddodbc/odbcdd.c
    trunk/harbour/contrib/rddsql/sqlbase.c
    trunk/harbour/contrib/xhb/fparse.c
    trunk/harbour/contrib/xhb/freadlin.c
    trunk/harbour/contrib/xhb/txtline.c
    trunk/harbour/include/hbatomic.h
    trunk/harbour/src/rdd/dbffpt/dbffpt1.c
    trunk/harbour/src/rtl/base64c.c
    trunk/harbour/src/rtl/diskspac.c
    trunk/harbour/src/rtl/filesys.c
    trunk/harbour/src/rtl/gtos2/gtos2.c
    trunk/harbour/src/rtl/hbproces.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Dec 10 05:33:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec 10 05:33:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13197] trunk/harbour
Message-ID: <E1NIgKl-0001TR-Ed@74yxhf1.ch3.sourceforge.com>

Revision: 13197
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13197&view=rev
Author:   vszakats
Date:     2009-12-10 10:33:15 +0000 (Thu, 10 Dec 2009)

Log Message:
-----------
2009-12-10 11:24 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/common/hbver.c
    * Minor cleanup.

  * contrib/hbqt/generator/hbqtgen.prg
    ! Fixed typo in TRACE text.

  * contrib/hbqt/qtgui/*
  * contrib/hbqt/qtcore/*
  * contrib/hbqt/qtnetwork/*
    * Regenerated.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/qtcore/QBitArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QByteArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDataStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDate.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDateTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDir.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEvent.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEventLoop.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFile.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFileInfo.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1Char.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1String.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLine.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLineF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLocale.cpp
    trunk/harbour/contrib/hbqt/qtcore/QMimeData.cpp
    trunk/harbour/contrib/hbqt/qtcore/QModelIndex.cpp
    trunk/harbour/contrib/hbqt/qtcore/QObject.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPoint.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPointF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QProcess.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRect.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRectF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRegExp.cpp
    trunk/harbour/contrib/hbqt/qtcore/QResource.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSignalMapper.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSize.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSizeF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QStringList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextBoundaryFinder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextDecoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextEncoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QThread.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTimer.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTranslator.cpp
    trunk/harbour/contrib/hbqt/qtcore/QUiLoader.cpp
    trunk/harbour/contrib/hbqt/qtcore/QUrl.cpp
    trunk/harbour/contrib/hbqt/qtcore/QVariant.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QActionGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QApplication.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBitmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBrush.cpp
    trunk/harbour/contrib/hbqt/qtgui/QButtonGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCalendarWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCheckBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColorDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommandLinkButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommonStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCompleter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QConicalGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QContextMenuEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDesktopWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDial.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDirModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDoubleSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QErrorMessage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileIconProvider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileSystemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFocusFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFont.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDatabase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontInfo.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetrics.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetricsF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFormLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGridLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHeaderView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageReader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputMethodEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelection.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelectionModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QKeySequence.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLCDNumber.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLabel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLineEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLinearGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMainWindow.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMatrix.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenu.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenuBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMessageBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMouseEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMovie.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPageSetupDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPaintEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainterPath.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPalette.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPicture.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPixmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPlainTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygonF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintPreviewDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrinter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPushButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadialGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadioButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRegion.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollArea.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizePolicy.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSound.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpacerItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplashScreen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplitter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStatusBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStringListModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleFactory.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComplex.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFocusRect.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionHeader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionMenuItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTab.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabBarBase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabWidgetFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTitleBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionViewItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStylePainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyledItemDelegate.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSyntaxHighlighter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSystemTrayIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetSelectionRange.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlock.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlockFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBrowser.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCharFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocument.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrameFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextImageFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLength.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLine.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextListFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextTableFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTransform.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QVBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWindowsStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizard.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizardPage.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QFtp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpRequestHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpResponseHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QNetworkRequest.cpp
    trunk/harbour/src/common/hbver.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Dec 10 05:55:07 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec 10 05:55:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13174] trunk/harbour
In-Reply-To: <4B201D52.9030902@dbtopas.lt>
References: <E1NINc6-000657-4A@c3vjzd1.ch3.sourceforge.com>
	<4B1FBA61.4000300@dbtopas.lt>
	<20091209160419.GB12131@linux-4bod.home.aster.pl>
	<4B201D52.9030902@dbtopas.lt>
Message-ID: <20091210105507.GA16098@linux-4bod.home.aster.pl>

On Wed, 09 Dec 2009, Mindaugas Kavaliauskas wrote:

Hi,

> Przemys?aw Czerpak wrote:
> >>Perhaps copy-paste from some of my contrib RDDS. BTW, why RDD has
> >>this in symbol table?
> >It's necessary for *_GETFUNCTABLE function which is accessed from
> >hb_rddRegister() by global symbol table.
> Yes, but this answers why f.e. DBFCDX_GETFUNCTABLE is included into
> symbol table in dbfcdx1.c. But why DBFCDX is also in symbol table? I
> can not find any usage of this symbol in hb_rddRegister().

There are no technical reasons to register it.
I can only guess that at the beginning when someone created code to register
<RDDNAME>_GETFUNCTABLE() then he also added <RDDNAME>() to the symbol table
and so far we are using the same method.
The exception is only RDDADS library where only one of ADS* RDDs can be
requested but all are available so it's good to register all symbols to
make type( cRddName+"()" ) working for all available RDDs not only the
one which was explicitly REQUESTed.


> Do you think it will be a good practice to add a define like:
>   #define HB_CAIRO_REQUEST_EXTERN
>   #include "hbcairo.ch"
> and put request for all library functions into hbcairo.ch inside ifdef?
> Define name can have another structure is this is not suitable:
> HB_CAIRO_EXTERN, HB_CAIRO_REQUEST_LIBRARY, HB_EXTERN_CAIRO, etc.

Probably HB_CAIRO_EXTERN and HB_CAIRO_DYNAMIC so in the header file
we can make:

   #undef HB_CAIRO_REF
   #if   defined( HB_CAIRO_DYNAMIC )
      #define HB_CAIRO_REF    EXTERN
   #elif defined( HB_CAIRO_EXTERN )
      #define HB_CAIRO_REF    DYNAMIC
   #endif
   #ifdef HB_CAIRO_REF
      HB_CAIRO_REF <func1>
      HB_CAIRO_REF <func2>
      [...]
      HB_CAIRO_REF <funcN>
   #endif

and use one list for DYNAMIC and EXTERN declaration.

For sure it can be usable but such list have to be synced with library
code so it's some additional job. It will be also more flexible to keep
them in separated files without any other definitions for 2 main reasons:
1. it's much easier to write helper tool creating automatically file with
   such list from scratch then tool updating existing file which contains
   also other definitions and PP directives. In the future we may try to
   create such tool for few compilers, i.e. I wrote sth like that for
   my own use as few lines shell script which creates such list for GCC
   libraries using 'nm'.
2. in some cases different libraries can use incompatible preporcessor
   directives so their header files cannot be mixed but programmer may
   need to include extern function declaration for both libraries to
   create final binaries which will have references to all functions.
   Keeping function lists in separated files without any other PP
   directives which may cause collisions resolves the problem.

best regards,
Przemek
From mbelgrano at deltain.it  Thu Dec 10 06:09:57 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 10 06:10:25 2009
Subject: [Harbour] How Unicode works in harbour?
Message-ID: <609353e70912100309p76ed8f04r3771a76aff624494@mail.gmail.com>

Wich kind of unicode support have harbour?
What can be with   HB_BUILD_UNICODE=yes?
Possible have a table a unicode filed, search editing, save, print
-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091210/a7b87367/attachment.html
From niki at synel.co.il  Thu Dec 10 08:26:10 2009
From: niki at synel.co.il (Chen Kedem)
Date: Thu Dec 10 08:26:19 2009
Subject: [Harbour] Harbour logo for the SF project page
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D8375F42E@Mail-yoq.SYNEL-COMPANY.LTD>

Hi,

There is an option in SF to add a 48x48 PNG as the project logo.
If someone have something suitable, please zip it and sent it to the list.

Thank,

  Chen.
From vailtom at gmail.com  Thu Dec 10 08:37:23 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Thu Dec 10 08:37:49 2009
Subject: [Harbour] Harbour logo for the SF project page
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D8375F42E@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D8375F42E@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <531d7a750912100537t46943c3cje37b3611935830c6@mail.gmail.com>

Attached 2 images in PNG format 48x48 256 colors. With or without
transparency ... hope that helps.

Vailton Renato

2009/12/10 Chen Kedem <niki@synel.co.il>:
> Hi,
>
> There is an option in SF to add a 48x48 PNG as the project logo.
> If someone have something suitable, please zip it and sent it to the list.
>
> Thank,
>
> ?Chen.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: HB_icons.zip
Type: application/zip
Size: 5773 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091210/bee95d6d/HB_icons-0001.zip
From niki at synel.co.il  Thu Dec 10 08:50:52 2009
From: niki at synel.co.il (Chen Kedem)
Date: Thu Dec 10 08:53:25 2009
Subject: [Harbour] Re: Harbour logo for the SF project page
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D8375F42E@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D8375F42E@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D8375F42F@Mail-yoq.SYNEL-COMPANY.LTD>

Vailton,

> Attached 2 images in PNG format 48x48 256 colors

Thanks, I think it looks Ok (HB.png)
http://sourceforge.net/projects/harbour-project/

   Chen.
From gvarona at ec-red.com  Thu Dec 10 08:58:04 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Thu Dec 10 08:58:45 2009
Subject: [Harbour] Error building HbIDE
Message-ID: <hfquij$qsd$1@ger.gmane.org>

Hi, This is:

C:\harbour\contrib\hbide>d:\hrbmingw\bin\hbmk2 hbide.hbp -rebuild 
-LC:\Qt\2009.04\qt\lib
hbmk2: Processing environment options: -compiler=mingw
hbmk2: Compiling Harbour sources...
Harbour 2.0.0beta3 (Rev. 13197)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'hbide.prg'...
Lines 6388, Functions/Procedures 52
Generating C source output to '.hbmk\win\mingw\hbide.c'... Done.
Compiling 'idestylesheets.prg'...
Lines 6620, Functions/Procedures 1
Generating C source output to '.hbmk\win\mingw\idestylesheets.c'... Done.
Compiling 'idetags.prg'...
Lines 9786, Functions/Procedures 4
Generating C source output to '.hbmk\win\mingw\idetags.c'... Done.
Compiling 'idemisc.prg'...
Lines 13142, Functions/Procedures 22
Generating C source output to '.hbmk\win\mingw\idemisc.c'... Done.
Compiling 'ideactions.prg'...
Lines 16030, Functions/Procedures 2
Generating C source output to '.hbmk\win\mingw\ideactions.c'... Done.
hbmk2: Compiling...
hbmk2: Linking... hbide.exe
d:/hrbMinGW/lib/libhbqt.a(hbqt_base.o):hbqt_base.cpp:(.text+0xeb): 
undefined ref
erence to `GetProcessMemoryInfo@12'
d:/hrbMinGW/lib/libhbqt.a(hbqt_base.o):hbqt_base.cpp:(.text+0x17b): 
undefined reference to `GetProcessMemoryInfo@12'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc.exe .hbmk\win\mingw\hbide.o .hbmk\win\mingw\idestylesheets.o 
.hbmk\win\mingw
\idetags.o .hbmk\win\mingw\idemisc.o .hbmk\win\mingw\ideactions.o 
.hbmk\win\ming
w\ideparseexpr.o .hbmk\win\mingw\_hbmkaut.o    -mwindows 
-Wl,--start-group -lhbx
bp -lhbqt -lhbqtcore -lhbqtgui -lhbqtnetwork -lversion -lshlwapi 
-lQtCore4 -lQtG
ui4 -lQtNetwork4 -lQtUiTools -lsupc++ -lhbextern -lhbdebug -lhbvm 
-lhbrtl -lhbla
ng -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd 
-lhbuddall
-lhbusrrdd -lrddntx -lrddcdx -lrddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix 
-lhbmacro
  -lhbcplr -lhbpp -lhbcommon -lkernel32 -luser32 -lgdi32 -ladvapi32 
-lws2_32 -lwi
nspool -lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32 -loleaut32 -lmpr 
-lwinmm -
lmapi32 -limm32 -lmsimg32 -lwininet -lhbpcre -lhbzlib  -Wl,--end-group 
-ohbide.e
xe -Ld:/hrbMinGW/lib -L/../lib -LC:/Qt/2009.04/qt/lib

C:\harbour\contrib\hbide>

Any TIP?

TIA

BestRegards
GVS

From zen25000 at zen.co.uk  Thu Dec 10 09:17:59 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Thu Dec 10 09:18:09 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <3059C33C-3926-45FB-AFAF-4878CAFBA504@syenar.hu>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>	<98505FD2-E6B5-44F7-A9EE-665A1C0F1055@windtelsoft.com>
	<3059C33C-3926-45FB-AFAF-4878CAFBA504@syenar.hu>
Message-ID: <4B210317.2050102@zen.co.uk>

On 09/11/09 23:00, Viktor Szak?ts wrote:
> Hi Teo,
>
>>> Please think about this, and try to find a way you can help, after
>>> all, you
>>> got an excellent, stable, robust, feature-rich and industrial level
>>> product *for
>>> free*, which can help to even create profit (cash), save time (which
>>> is also
>>> money). In such case it's not devil to ask to return some of these
>>> benefits
>>> to the product itself to keep it alive and well on the long run. I'm
>>> sure it's
>>> everyone's interest to not let the project just vanish.
>>
>> Viktor,
>>
>> I'll start from now on, to check the Harbour phpBB Harbour forum to
>> give support.
>>
>> Why not to use the MediaWiki facility that SF offers ?, Probably it
>> will be a very good way to centralize the documentation/support
>> efforts, also to store there (a copy) the documentation work that
>> April is currently doing and start to contributing there to
>> enhancing/updating it.
>
> Overall, I think the medium (= software) is not a significant issue here.
>
> IMO if there are users seeking help and users offering help, they will
> be able to work either on a mailing list or a forum, or a wiki, or chat,
> google wave, or anything which makes it possible to communicate.
>
> If such community is built and we know actual experiences from actual
> contributors, we can start to think about how to make it better, move it
> to a medium which is easier to work with, faster, sleeker, easier to
> search, whatever, but we should stop sinking back into a 'tool war' all
> the time.
>
> As for a wiki, we already have one inside the Trac app on sf.net, ready
> to use since quite some time. I can also enable MediaWiki with a few clicks
> (I don't know about its performance), but by itself these won't solve any
> problems, so before I do, I'd suggest to settle on forum vs. mailing list
> topic.
>
> BTW, a very nice start would be to cleanup our Wikipedia article, as
> by its current state it isn't too informative, it's outdated and by far
> doesn't convey any of the strength of Harbour.
>
> http://en.wikipedia.org/wiki/Harbour_(software)
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
Why is the user forum not even mentioned on the Harbour web site?
It will see little use if nobody knows about it.
If I did not read this ML then I would never have found it. :-(
From Istvan.Bisz at t-online.hu  Thu Dec 10 09:31:40 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Thu Dec 10 09:31:49 2009
Subject: [Harbour] Error building HbIDE
In-Reply-To: <hfquij$qsd$1@ger.gmane.org>
References: <hfquij$qsd$1@ger.gmane.org>
Message-ID: <000001ca79a5$7dc7eee0$7957cca0$@Bisz@t-online.hu>

Without having so much time to analyze your details... Please try:
d:\hrbmingw\bin\hbmk2 hbide.hbp -rebuild -lpsapi 

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Guillermo Varona
Silup?
Sent: 2009. december 10. 14:58
To: harbour@harbour-project.org
Subject: [Harbour] Error building HbIDE

Hi, This is:

C:\harbour\contrib\hbide>d:\hrbmingw\bin\hbmk2 hbide.hbp -rebuild 
-LC:\Qt\2009.04\qt\lib
hbmk2: Processing environment options: -compiler=mingw
hbmk2: Compiling Harbour sources...
Harbour 2.0.0beta3 (Rev. 13197)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'hbide.prg'...
Lines 6388, Functions/Procedures 52
Generating C source output to '.hbmk\win\mingw\hbide.c'... Done.
Compiling 'idestylesheets.prg'...
Lines 6620, Functions/Procedures 1
Generating C source output to '.hbmk\win\mingw\idestylesheets.c'... Done.
Compiling 'idetags.prg'...
Lines 9786, Functions/Procedures 4
Generating C source output to '.hbmk\win\mingw\idetags.c'... Done.
Compiling 'idemisc.prg'...
Lines 13142, Functions/Procedures 22
Generating C source output to '.hbmk\win\mingw\idemisc.c'... Done.
Compiling 'ideactions.prg'...
Lines 16030, Functions/Procedures 2
Generating C source output to '.hbmk\win\mingw\ideactions.c'... Done.
hbmk2: Compiling...
hbmk2: Linking... hbide.exe
d:/hrbMinGW/lib/libhbqt.a(hbqt_base.o):hbqt_base.cpp:(.text+0xeb): 
undefined ref
erence to `GetProcessMemoryInfo@12'
d:/hrbMinGW/lib/libhbqt.a(hbqt_base.o):hbqt_base.cpp:(.text+0x17b): 
undefined reference to `GetProcessMemoryInfo@12'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc.exe .hbmk\win\mingw\hbide.o .hbmk\win\mingw\idestylesheets.o 
.hbmk\win\mingw
\idetags.o .hbmk\win\mingw\idemisc.o .hbmk\win\mingw\ideactions.o 
.hbmk\win\ming
w\ideparseexpr.o .hbmk\win\mingw\_hbmkaut.o    -mwindows 
-Wl,--start-group -lhbx
bp -lhbqt -lhbqtcore -lhbqtgui -lhbqtnetwork -lversion -lshlwapi 
-lQtCore4 -lQtG
ui4 -lQtNetwork4 -lQtUiTools -lsupc++ -lhbextern -lhbdebug -lhbvm 
-lhbrtl -lhbla
ng -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd 
-lhbuddall
-lhbusrrdd -lrddntx -lrddcdx -lrddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix 
-lhbmacro
  -lhbcplr -lhbpp -lhbcommon -lkernel32 -luser32 -lgdi32 -ladvapi32 
-lws2_32 -lwi
nspool -lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32 -loleaut32 -lmpr 
-lwinmm -
lmapi32 -limm32 -lmsimg32 -lwininet -lhbpcre -lhbzlib  -Wl,--end-group 
-ohbide.e
xe -Ld:/hrbMinGW/lib -L/../lib -LC:/Qt/2009.04/qt/lib

C:\harbour\contrib\hbide>

Any TIP?

TIA

BestRegards
GVS

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Thu Dec 10 09:41:41 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec 10 09:41:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13198] trunk/harbour
Message-ID: <E1NIkD7-0001r9-8N@d5vjzd1.ch3.sourceforge.com>

Revision: 13198
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13198&view=rev
Author:   vszakats
Date:     2009-12-10 14:41:37 +0000 (Thu, 10 Dec 2009)

Log Message:
-----------
2009-12-10 15:40 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * hbwin/win_misc.c
  * hbwin/win_prn1.c
    + Using new UNICODE parameter passing macros instead of HB_TCHAR*() ones.
      (where possible)
      WIN_RUNDETACHED(), WIN_LOADRESOURCE(), WIN_CREATEDC(), WIN_GETPRINTERFONTNAME()

  * hbwin/wapi_winbase.c
    ! Fixed typo in two recently added WAPI function names.

  * contrib/hbqt/hbqt.hbc
  * contrib/hbqt/hbqts.hbc
    + Added psapi for win platform, until it's needed for memory debugging purposes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt.hbc
    trunk/harbour/contrib/hbqt/hbqts.hbc
    trunk/harbour/contrib/hbwin/wapi_winbase.c
    trunk/harbour/contrib/hbwin/win_misc.c
    trunk/harbour/contrib/hbwin/win_prn1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From gvarona at ec-red.com  Thu Dec 10 09:46:20 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Thu Dec 10 09:43:19 2009
Subject: [Harbour] Re: Error building HbIDE
In-Reply-To: <13921.2996619337$1260455523@news.gmane.org>
References: <hfquij$qsd$1@ger.gmane.org>
	<13921.2996619337$1260455523@news.gmane.org>
Message-ID: <hfr1d3$4tr$1@ger.gmane.org>

Bisz Istv?n escribi?:
> Without having so much time to analyze your details... Please try:
> d:\hrbmingw\bin\hbmk2 hbide.hbp -rebuild -lpsapi 

Thanks very much, now work ok.

BestRegards
GVS

From Istvan.Bisz at t-online.hu  Thu Dec 10 09:46:42 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Thu Dec 10 09:46:50 2009
Subject: [Harbour] Re: Error building HbIDE
In-Reply-To: <hfr1d3$4tr$1@ger.gmane.org>
References: <hfquij$qsd$1@ger.gmane.org>	<13921.2996619337$1260455523@news.gmane.org>
	<hfr1d3$4tr$1@ger.gmane.org>
Message-ID: <000001ca79a7$969bc250$c3d346f0$@Bisz@t-online.hu>

You're welcome. But see last commit no is default thanks to Viktor.

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Guillermo Varona
Silup?
Sent: 2009. december 10. 15:46
To: harbour@harbour-project.org
Subject: [Harbour] Re: Error building HbIDE

Bisz Istv?n escribi?:
> Without having so much time to analyze your details... Please try:
> d:\hrbmingw\bin\hbmk2 hbide.hbp -rebuild -lpsapi 

Thanks very much, now work ok.

BestRegards
GVS

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From Istvan.Bisz at t-online.hu  Thu Dec 10 09:52:11 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Thu Dec 10 09:52:18 2009
Subject: [Harbour] Re: Error building HbIDE
In-Reply-To: <000001ca79a7$969bc250$c3d346f0$@Bisz@t-online.hu>
References: <hfquij$qsd$1@ger.gmane.org>	<13921.2996619337$1260455523@news.gmane.org>	<hfr1d3$4tr$1@ger.gmane.org>
	<000001ca79a7$969bc250$c3d346f0$@Bisz@t-online.hu>
Message-ID: <000101ca79a8$5ad5fb40$1081f1c0$@Bisz@t-online.hu>

sorry for my typing: no -> now...

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Bisz Istv?n
Sent: 2009. december 10. 15:47
To: 'Harbour Project Main Developer List.'
Subject: RE: [Harbour] Re: Error building HbIDE

You're welcome. But see last commit no is default thanks to Viktor.

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Guillermo Varona
Silup?
Sent: 2009. december 10. 15:46
To: harbour@harbour-project.org
Subject: [Harbour] Re: Error building HbIDE

Bisz Istv?n escribi?:
> Without having so much time to analyze your details... Please try:
> d:\hrbmingw\bin\hbmk2 hbide.hbp -rebuild -lpsapi 

Thanks very much, now work ok.

BestRegards
GVS

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From gvarona at ec-red.com  Thu Dec 10 10:03:47 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Thu Dec 10 10:00:44 2009
Subject: [Harbour] Re: Error building HbIDE
In-Reply-To: <327.022656756704$1260456468@news.gmane.org>
References: <hfquij$qsd$1@ger.gmane.org>	<13921.2996619337$1260455523@news.gmane.org>	<hfr1d3$4tr$1@ger.gmane.org>
	<327.022656756704$1260456468@news.gmane.org>
Message-ID: <hfr2dq$8rp$1@ger.gmane.org>

Bisz Istv?n escribi?:
> You're welcome. But see last commit now is default thanks to Viktor.

Ok. Thank very much

BestRegards
GVS

From vszakats at users.sourceforge.net  Thu Dec 10 10:00:43 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec 10 10:00:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13199] trunk/harbour
Message-ID: <E1NIkVX-00029r-7g@d5vjzd1.ch3.sourceforge.com>

Revision: 13199
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13199&view=rev
Author:   vszakats
Date:     2009-12-10 15:00:30 +0000 (Thu, 10 Dec 2009)

Log Message:
-----------
2009-12-10 15:59 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbxbp/xbpgeneric.prg
    * Rename: QT_QEVENTFILTER() -> QT_GETEVENTFILTER().
      There will be some more renames to cleanup prefix usage.

  * contrib/hbwin/win_regc.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbwin/win_regc.c
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Dec 10 10:11:52 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec 10 10:11:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13200] trunk/harbour
Message-ID: <E1NIkgK-0002JU-Sa@d5vjzd1.ch3.sourceforge.com>

Revision: 13200
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13200&view=rev
Author:   vszakats
Date:     2009-12-10 15:11:48 +0000 (Thu, 10 Dec 2009)

Log Message:
-----------
2009-12-10 16:10 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/Makefile
  * contrib/hbqt/generator/hbqtgen.prg
    + Moved static source files from filelist.mk to Makefile.

  * contrib/hbqt/Makefile
  * contrib/hbqt/hbqt_slots.cpp
  + contrib/hbqt/hbqt_events.cpp
    + Moved event filter related stuff to separate file.
    % Cleaned lots of unnecessary QT headers includes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/hbqt_events.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Thu Dec 10 10:56:33 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Thu Dec 10 10:56:59 2009
Subject: [Harbour] Some changes on Harbour Web Page
Message-ID: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com>

I've changed some details of the site as requested here on ML. I am
reviewing the page to enter other details but before you change'll
post a few ideas and suggestions for everyone to say what they think.

* We must change the text "Development" to "Support"? Or is there
another text more appropriate for this item on the menu? Suggestions?
* Include a link to the file-xhb diff.txt (Yes / No)?
* Review the examples from the "Sample Applications" for some details updated.
* How about creating a section called "articles" on our site? In order
to add it to the tutorials and articles about Harbor?
In this way we could accept contributions from users such as Francesco
Perillo would like to contribute a tutorial on MinGW, or others
wanting to write about something like "Starting in hbxbp Harbotr +
with Qt" and so on. Sending me the texts in. DOC, TXT, PDF or
something I can convert them to html without problems ... The idea
here was to unite some knowledge that is useful for the project.

Comments?

Best Regards,
Vailton Renato
From mbelgrano at deltain.it  Thu Dec 10 10:57:21 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 10 10:57:50 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <4B210317.2050102@zen.co.uk>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com> 
	<98505FD2-E6B5-44F7-A9EE-665A1C0F1055@windtelsoft.com>
	<3059C33C-3926-45FB-AFAF-4878CAFBA504@syenar.hu> 
	<4B210317.2050102@zen.co.uk>
Message-ID: <609353e70912100757g55c82fe4x447cb9ef2a85080b@mail.gmail.com>

This is a common problem for harbour we have High Power with few information
This problem can be resolved having dinamic forum with integrated wiki/web
Can we start something like a  Google group with hign number of
administrator?




2009/12/10 Barry Jackson <zen25000@zen.co.uk>

>
>
>>  Why is the user forum not even mentioned on the Harbour web site?
> It will see little use if nobody knows about it.
> If I did not read this ML then I would never have found it. :-(
>
>
-- 
Massimo Belgrano

I
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091210/5498eafd/attachment.html
From harbour.01 at syenar.hu  Thu Dec 10 11:08:22 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec 10 11:08:32 2009
Subject: [Harbour] Some changes on Harbour Web Page
In-Reply-To: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com>
References: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com>
Message-ID: <FBE849E6-CD06-43B4-86BE-DB9ECE1BB273@syenar.hu>

Hi Vailton,

> * We must change the text "Development" to "Support"? Or is there
> another text more appropriate for this item on the menu? Suggestions?

If possible, IMO we should have both "Development" and "Support".

> * Include a link to the file-xhb diff.txt (Yes / No)?

IMO the best would be to add a new news article with a link into 
the SVN browser to this file.

> * Review the examples from the "Sample Applications" for some details updated.
> * How about creating a section called "articles" on our site? In order
> to add it to the tutorials and articles about Harbor?
> In this way we could accept contributions from users such as Francesco
> Perillo would like to contribute a tutorial on MinGW, or others
> wanting to write about something like "Starting in hbxbp Harbotr +
> with Qt" and so on. Sending me the texts in. DOC, TXT, PDF or
> something I can convert them to html without problems ... The idea
> here was to unite some knowledge that is useful for the project.

I'm a little sceptic here. Even our Wikipedia article 
wasn't updated since years and is in a terrible state. 
First some kind volunteers should clean it and extend it.

I think there is nothing worse than an "article" section 
without articles, so I'd reverse the process and encourage 
writing ppl such documents, and if we have enough to merit 
their own homepage section, we can add it and include all 
existing ones. Until then, there are quite a few place to 
add these articles even by users themselves (f.e. a forum 
topic). Just my 2 cents.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Dec 10 11:13:54 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec 10 11:14:03 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <609353e70912100757g55c82fe4x447cb9ef2a85080b@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
	<98505FD2-E6B5-44F7-A9EE-665A1C0F1055@windtelsoft.com>
	<3059C33C-3926-45FB-AFAF-4878CAFBA504@syenar.hu>
	<4B210317.2050102@zen.co.uk>
	<609353e70912100757g55c82fe4x447cb9ef2a85080b@mail.gmail.com>
Message-ID: <9104A2E1-2BEB-4F11-80F9-333C593E3367@syenar.hu>

> This is a common problem for harbour we have High Power with few information
> This problem can be resolved having dinamic forum with integrated wiki/web
> Can we start something like a  Google group with hign number of administrator?

We have tons of tech. resources, we even have two 
homepages with overlapping content:

1) The sf.net page
2) www.harbour-project.org

With little effort one can find the sf.net page, where 
the forum is listed. One can open INSTALL, which has 
an updated list of links to all important Harbour 
resource.

So it's _still_ not a shortage of _technical resources_ 
or lack of mediums. Pls let's not open new ones, but 
try to exploit existing ones.

Brgds,
Viktor

From mbelgrano at deltain.it  Thu Dec 10 11:14:40 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 10 11:15:07 2009
Subject: [Harbour] Some changes on Harbour Web Page
In-Reply-To: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com>
References: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com>
Message-ID: <609353e70912100814h32a78393s742a49e153ebb015@mail.gmail.com>

2009/12/10 Vailton Renato <vailtom@gmail.com>
>
> I've changed some details of the site as requested here on ML. I am
> reviewing the page to enter other details but before you change'll
> post a few ideas and suggestions for everyone to say what they think.
>
> * We must change the text "Development" to "Support"? Or is there
> another text more appropriate for this item on the menu? Suggestions?

Yes support is right
>
> * Include a link to the file-xhb diff.txt (Yes / No)?

Absolutely yes
Imo not a link but i suggest you creating a page
>
> * Review the examples from the "Sample Applications" for some details updated.


>
> * How about creating a section called "articles" on our site? In order
> to add it to the tutorials and articles about Harbor?

IMO In documentation menu
>
> In this way we could accept contributions from users such as Francesco ?Perillo would like to contribute a tutorial on MinGW, or others ?wanting to write about something like "Starting in hbxbp Harbotr +?with Qt" and so on. Sending me the texts in. DOC, TXT, PDF or?something I can convert them to html without problems ... The idea?here was to unite some knowledge that is useful for the project.
>
We need a wiki area with high number of administrator

----------------(wikipeduia corner)
harbour  is an anvanced languages for software and database
application developers  who want made fast application

harbour langages
 is easy-to-maintain
reduce development time
?allow create multi-threaded application
 allow create web application

>
> Comments?
>
> Best Regards,
> Vailton Renato
> _______________________________________________

Regard
--
Massimo Belgrano
From mbelgrano at deltain.it  Thu Dec 10 11:21:48 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 10 11:22:16 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <9104A2E1-2BEB-4F11-80F9-333C593E3367@syenar.hu>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com> 
	<98505FD2-E6B5-44F7-A9EE-665A1C0F1055@windtelsoft.com>
	<3059C33C-3926-45FB-AFAF-4878CAFBA504@syenar.hu> 
	<4B210317.2050102@zen.co.uk>
	<609353e70912100757g55c82fe4x447cb9ef2a85080b@mail.gmail.com> 
	<9104A2E1-2BEB-4F11-80F9-333C593E3367@syenar.hu>
Message-ID: <609353e70912100821i5b2d27d4na52aff0ec82a45b9@mail.gmail.com>

2009/12/10 Viktor Szak?ts <harbour.01@syenar.hu>:
>
> 1) The sf.net page
Ultra slow:= not usable

> 2) www.harbour-project.org
Not possible to hosting restriction

> With little effort one can find the sf.net page, where
> the forum is listed. One can open INSTALL, which has
> an updated list of links to all important Harbour
> resource.
In speed google group is to sf like cycle to ferrari testarossa

> So it's _still_ not a shortage of _technical resources_
> or lack of mediums. Pls let's not open new ones, but
> try to exploit existing ones.
I not open anything is only a proposal
tryed and defined as not usable
Can you/we search positive experiences from other languages?

>
> Brgds,
> Viktor
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Thu Dec 10 11:43:29 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec 10 11:43:42 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <609353e70912100821i5b2d27d4na52aff0ec82a45b9@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
	<98505FD2-E6B5-44F7-A9EE-665A1C0F1055@windtelsoft.com>
	<3059C33C-3926-45FB-AFAF-4878CAFBA504@syenar.hu>
	<4B210317.2050102@zen.co.uk>
	<609353e70912100757g55c82fe4x447cb9ef2a85080b@mail.gmail.com>
	<9104A2E1-2BEB-4F11-80F9-333C593E3367@syenar.hu>
	<609353e70912100821i5b2d27d4na52aff0ec82a45b9@mail.gmail.com>
Message-ID: <4022CF04-1F38-4C1B-8AA6-54EE840992BB@syenar.hu>

>> 1) The sf.net page
> Ultra slow:= not usable

Don't mix whole sf.net page performance with the forum's.

>> 2) www.harbour-project.org
> Not possible to hosting restriction

Yes. But I guess you and many others are satisfied 
with Wikipedia's performance. Yet the page wasn't 
updated in... well let it speak for itself:

http://en.wikipedia.org/w/index.php?title=Harbour_(software)&action=history

>> With little effort one can find the sf.net page, where
>> the forum is listed. One can open INSTALL, which has
>> an updated list of links to all important Harbour
>> resource.
> In speed google group is to sf like cycle to ferrari testarossa

As is our user's mailing list. It also has gmane and 
whatever else interfaces you've been promoting in the 
past.

Yet, there is only 10-20 messages a month.

>> So it's _still_ not a shortage of _technical resources_
>> or lack of mediums. Pls let's not open new ones, but
>> try to exploit existing ones.
> I not open anything is only a proposal
> tryed and defined as not usable
> Can you/we search positive experiences from other languages?

You seem to shout for a new online service every month.

I'm not sure our goal is to have a Harbour account registered 
on every possible online services and maintaining a configured 
copy of all popular online communication tool.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Thu Dec 10 11:51:21 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Thu Dec 10 11:51:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13171] trunk/harbour
In-Reply-To: <455A3CEE-87FB-46C1-87AA-7E968F7C7BC6@syenar.hu>
References: <E1NICKV-0006wo-NK@c3vjzd1.ch3.sourceforge.com>	<001401ca78d4$c13f2020$43bd6060$@Bisz@t-online.hu>	<26712856.post@talk.nabble.com>	<000c01ca791f$90d55e90$b2801bb0$@Bisz@t-online.hu>
	<455A3CEE-87FB-46C1-87AA-7E968F7C7BC6@syenar.hu>
Message-ID: <000801ca79b9$00df8640$029e92c0$@Bisz@t-online.hu>

Hi Viktor,

>Is there any final result for the three different 
>memory handling modes?

Yes, this is the final structure, as the handling mode should be dynamic,
please consult the Qt documents. Is in specified cases is recommended to use
the "delete later" feature what is the default for the actual interface
implementation. After consulting the actual Qt documentation and discussions
on the adequate sites please live it at is, is a conscious decision from my
side, to offer the flexibility to adopt the existing and future decisions of
the Qt developers.

> IMO we should only leave one, the one which works 
> the most efficiently and without leaks.

>Is it time to make the decision yet?

This is not black or white issue, it's not a race situation here, studying
the Qt documentations, we need a dynamic approach here. In some situation
the best solution can be different, so please close this issue, I
intentionally put that things in the code, maybe we are less informed, but
studying the Qt documents...
 
But as a final conclusion, WE ARE NOT FACING WITH MEMO LEAK ISSUES regarding
the Qt interface automatically generated. The problem is with our
measurement instruments! We will need help here to demonstrate it, if is the
case. The actual Windows implementation is not adequate to decide the memory
"consumption" as the windows internal are so complicated. I tried to tune
somehow the Pritpals algorithms but without success after studying some
sites, sorry.

So my general feeling is that the 'memory' problem is solved by the
automatic generated code! For these things demonstration we have to work
hardly.

I stopped temporally my thinking...


Best regards,
Istv?n


From harbour.01 at syenar.hu  Thu Dec 10 12:10:25 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec 10 12:10:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13171] trunk/harbour
In-Reply-To: <000801ca79b9$00df8640$029e92c0$@Bisz@t-online.hu>
References: <E1NICKV-0006wo-NK@c3vjzd1.ch3.sourceforge.com>	<001401ca78d4$c13f2020$43bd6060$@Bisz@t-online.hu>	<26712856.post@talk.nabble.com>	<000c01ca791f$90d55e90$b2801bb0$@Bisz@t-online.hu>
	<455A3CEE-87FB-46C1-87AA-7E968F7C7BC6@syenar.hu>
	<000801ca79b9$00df8640$029e92c0$@Bisz@t-online.hu>
Message-ID: <CA5CBC1F-41CF-4359-9375-3138977DCFEC@syenar.hu>

Hi Istvan,

> Yes, this is the final structure, as the handling mode should be dynamic,
> please consult the Qt documents. Is in specified cases is recommended to use
> the "delete later" feature what is the default for the actual interface
> implementation. After consulting the actual Qt documentation and discussions
> on the adequate sites please live it at is, is a conscious decision from my
> side, to offer the flexibility to adopt the existing and future decisions of
> the Qt developers.
> 
>> IMO we should only leave one, the one which works 
>> the most efficiently and without leaks.
> 
>> Is it time to make the decision yet?
> 
> This is not black or white issue, it's not a race situation here, studying
> the Qt documentations, we need a dynamic approach here. In some situation
> the best solution can be different, so please close this issue, I
> intentionally put that things in the code, maybe we are less informed, but
> studying the Qt documents...

Thank you for the explanation.

Probably some short docs would be nice to see the difference between 
these methods though, as without it, it's very difficult for users to 
make use of this feature or decide whether it's needed at all for real 
Harbour QT apps/users.

Until then to me it looks like passing a sophisticated decision onto 
users.

> But as a final conclusion, WE ARE NOT FACING WITH MEMO LEAK ISSUES regarding
> the Qt interface automatically generated. The problem is with our
> measurement instruments! We will need help here to demonstrate it, if is the
> case. The actual Windows implementation is not adequate to decide the memory
> "consumption" as the windows internal are so complicated. I tried to tune
> somehow the Pritpals algorithms but without success after studying some
> sites, sorry.

For the most part this is true, however (and I wonder if anyone 
reads my mails on this list :( ):

- There are some inherited/HBQT-only classes which are not equipped 
  with automatic GC collection.
- Some resources still need manual deallocation (like mutex, slots 
  and events, per app and/or per thread)

Making a little mistake on the .prg-level can easily cause a leak, 
and there are signs that such leaks are present even in current .prg 
code (posted about it already: MyMainWindow in HBXBP).

> So my general feeling is that the 'memory' problem is solved by the
> automatic generated code! For these things demonstration we have to work
> hardly.

IMO above issues should be inspected, and a generic 
solution developed to cover them and avoid repeating 
them in the future.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Thu Dec 10 12:33:21 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Thu Dec 10 12:33:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13171] trunk/harbour
In-Reply-To: <CA5CBC1F-41CF-4359-9375-3138977DCFEC@syenar.hu>
References: <E1NICKV-0006wo-NK@c3vjzd1.ch3.sourceforge.com>	<001401ca78d4$c13f2020$43bd6060$@Bisz@t-online.hu>	<26712856.post@talk.nabble.com>	<000c01ca791f$90d55e90$b2801bb0$@Bisz@t-online.hu>	<455A3CEE-87FB-46C1-87AA-7E968F7C7BC6@syenar.hu>	<000801ca79b9$00df8640$029e92c0$@Bisz@t-online.hu>
	<CA5CBC1F-41CF-4359-9375-3138977DCFEC@syenar.hu>
Message-ID: <000f01ca79be$de81dc00$9b859400$@Bisz@t-online.hu>

Hi Viktor,

>Thank you for the explanation.

>Probably some short docs would be nice to see the difference between these
methods though, as without it, it's very difficult for users to make use of
this feature or decide whether
 > yit's needed at all for real Harbour QT apps/users.

Sorry, I can't help here, the destruction method targets just the next level
like hbxbp and similar in the future, who knows...

>For the most part this is true, however (and I wonder if anyone 
>reads my mails on this list :( ):

>- There are some inherited/HBQT-only classes which are not equipped 
>  with automatic GC collection.
>- Some resources still need manual deallocation (like mutex, slots 
y  and events, per app and/or per thread)

>Making a little mistake on the .prg-level can easily cause a leak, 
>and there are signs that such leaks are present even in current .prg 
>code (posted about it already: MyMainWindow in HBXBP).

Ok, Viktor, this is not just our problem, just consult the Qt sites, but
don't forget that we are using an live SW now.

>IMO above issues should be inspected, and a generic 
>solution developed to cover them and avoid repeating 
>them in the future.

I completely agree with you, but please define the solution taking into
consideration that the target is so complex...
If somebody has some ideas how to handle this issue is welcome...

Best regards,
Istv?n


From toninhofwi at yahoo.com.br  Thu Dec 10 14:48:00 2009
From: toninhofwi at yahoo.com.br (ToninhoFWi)
Date: Thu Dec 10 14:48:02 2009
Subject: [Harbour] Undefined symbol 'hb_lang_Init_'
In-Reply-To: <20091209193211.GA5330@linux-4bod.home.aster.pl>
References: <982213.37814.qm@web33706.mail.mud.yahoo.com>
	<20091209193211.GA5330@linux-4bod.home.aster.pl>
Message-ID: <82k2i5ldji97978alirn07uoanb43ftpca@4ax.com>

>BTW HB_NO_PROFILER is default and HB_FM_STD_ALLOC in BCC is slower,
>consumes more memory and it's very inefficient in MT mode.

Thank you. I'll try new settings.

Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 

From vszakats at users.sourceforge.net  Thu Dec 10 14:48:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec 10 14:48:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13201] trunk/harbour
Message-ID: <E1NIozr-0003Nt-3V@c3vjzd1.ch3.sourceforge.com>

Revision: 13201
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13201&view=rev
Author:   vszakats
Date:     2009-12-10 19:48:17 +0000 (Thu, 10 Dec 2009)

Log Message:
-----------
2009-12-10 20:35 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/Makefile
    + Added generic support to MOC compile headers.
    ; If this works out well, it makes it possible to use granular 
      (non-monolythic) headers for 'Q_OBJECT' classes.
      It's also possible to move this logic into sub-libs.
      This may also mean that some hacks which were currently 
      employed can be solved cleanly.
      Please test/review.

  * contrib/hbqt/hbqt_slots.h
  + contrib/hbqt/hbqt_hbqtableview.h
  * contrib/hbqt/hbqt_hbqtableview.cpp
  * contrib/hbqt/qth/QTableView.qth
  * contrib/hbqt/hbqt_hbdbfmodel.cpp
  * contrib/hbqt/qth/QAbstractItemModel.qth
  + contrib/hbqt/hbqt_hbdrawingarea.h
  * contrib/hbqt/hbqt_hbdrawingarea.cpp
  + contrib/hbqt/hbqt_hbqmainwindow.h
  * contrib/hbqt/hbqt_hbqmainwindow.cpp
  + contrib/hbqt/hbqt_hbqsyntaxhighlighter.h
  * contrib/hbqt/hbqt_hbqsyntaxhighlighter.cpp
  * contrib/hbqt/qth/QSyntaxHighlighter.qth
  + contrib/hbqt/hbqt_events.h
  * contrib/hbqt/hbqt_events.cpp
    * Split monolithic hbqt_slots.h header to distinct 
      class headers.

  * contrib/hbqt/generator/hbqtgen.prg
  - contrib/hbqt/filelist.mk
  * contrib/hbqt/Makefile
    * Changed to not generate central filelist.mk.
      (no dynamic files in central lib)

  * config/rules.mk
    - Deleted .l reference.

  * contrib/hbqt/qtgui/QSyntaxHighlighter.cpp
  * contrib/hbqt/qtgui/QTableView.cpp
  * contrib/hbqt/qtcore/QAbstractItemModel.cpp
    * Regenerated.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/rules.mk
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt_events.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbdbfmodel.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbdrawingarea.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqmainwindow.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqsyntaxhighlighter.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqtableview.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.h
    trunk/harbour/contrib/hbqt/qtcore/QAbstractItemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSyntaxHighlighter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableView.cpp
    trunk/harbour/contrib/hbqt/qth/QAbstractItemModel.qth
    trunk/harbour/contrib/hbqt/qth/QSyntaxHighlighter.qth
    trunk/harbour/contrib/hbqt/qth/QTableView.qth

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/hbqt_events.h
    trunk/harbour/contrib/hbqt/hbqt_hbdrawingarea.h
    trunk/harbour/contrib/hbqt/hbqt_hbqmainwindow.h
    trunk/harbour/contrib/hbqt/hbqt_hbqsyntaxhighlighter.h
    trunk/harbour/contrib/hbqt/hbqt_hbqtableview.h

Removed Paths:
-------------
    trunk/harbour/contrib/hbqt/filelist.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Dec 10 15:00:35 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec 10 15:00:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13202] trunk/harbour
Message-ID: <E1NIpBj-0003ev-Hv@c3vjzd1.ch3.sourceforge.com>

Revision: 13202
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13202&view=rev
Author:   vszakats
Date:     2009-12-10 20:00:34 +0000 (Thu, 10 Dec 2009)

Log Message:
-----------
2009-12-10 21:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_slots.h
    - Deleted unnecessary headers.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_slots.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Thu Dec 10 15:49:25 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Dec 10 15:49:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13203] trunk/harbour
Message-ID: <E1NIpwz-000535-8W@74yxhf1.ch3.sourceforge.com>

Revision: 13203
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13203&view=rev
Author:   druzus
Date:     2009-12-10 20:49:23 +0000 (Thu, 10 Dec 2009)

Log Message:
-----------
2009-12-10 21:49 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbatomic.h
    * removed 'static inline' from OpenWatcom ASM functions defined
      by '#pragma aux ...' to make OpenWatcom < 1.8 happy.
      Version 1.8 ignores 'static inline' attributes in such declarations.

  * harbour/config/dos/watcom.mk
  * harbour/utils/hbmk2/hbmk2.prg
    * switched from DOS/4GW to DOS/32A extender. It's faster what is
      noticeable also in final Harbour binaries, does not have DOS4G
      command line limitations and has nice tools which allow to easy
      set different runtime parameters (ss.exe) or compress final
      executable (sc.exe)
      BTW people having problem with maximum command line size in
      OpenWatcom tools can replace DOS/4GW with DOS/32A in this tools
      It can be made also globally by coping dos32a.exe to dos4gw.exe.
      NOTE: I've found why DOS Harbour OpenWatcom application created
            in my Linux box were not working. Just simply the directory
            with DOS extender setup files was not in PATH.
            Creating DOS OpenWatcom applications in other systems (i.e.
            Linux or OS2) do not forget to add directory with DOS binaries
            '%WATCOM%\binw' to PATH after directory with platform native
            OpenWatcom binaries '%WATCOM%\bin*' or copy DOS extender
            (dos32a.exe) to one of PATH directories.

  * harbour/config/dos/watcom.mk
    * added workaround for not included automatically by linker CLIB
      library when Harbour is compiler in pure C mode. I hope it's only
      temporary hack which we can remove in the future. I haven't added
      it to hbmk2 so linking DOS applications using hbmk2 user will have
      to add -lclib3r to hbmk2 parameters.

  * harbour/config/common/watcom.mk
    * disable DOS/32A banner messages

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/common/watcom.mk
    trunk/harbour/config/dos/watcom.mk
    trunk/harbour/include/hbatomic.h
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Dec 10 16:23:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec 10 16:23:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13204] trunk/harbour
Message-ID: <E1NIqTu-0008Lm-TZ@bj8yhf1.ch3.sourceforge.com>

Revision: 13204
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13204&view=rev
Author:   vszakats
Date:     2009-12-10 21:23:25 +0000 (Thu, 10 Dec 2009)

Log Message:
-----------
2009-12-10 22:22 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_hbqmainwindow.cpp
  * contrib/hbxbp/xbpgeneric.prg
    + Replaced HB_MUTEXCREATE() and HB_MUTEXDESTROY() with 
      automatic initialization and deinitialization.
    ; NOTE: From now on HBQT needs to be requested by apps 
            willing to use HBQT, with:
               REQUEST HB_QT
            This will ensure in the future that all init and 
            deinit procedure are done correctly. It also makes it 
            safe to use QT even from INIT and EXIT PROCECUREs.

  * contrib/hbqt/tests/demoqt.prg
  * contrib/hbxbp/tests/demoxbp.prg
  * contrib/hbide/hbide.prg
    + Added REQUEST HB_QT.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbqt/hbqt_hbqmainwindow.cpp
    trunk/harbour/contrib/hbqt/tests/demoqt.prg
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Dec 10 16:50:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec 10 16:50:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13205] trunk/harbour
Message-ID: <E1NIqtx-00062I-H9@c3vjzd1.ch3.sourceforge.com>

Revision: 13205
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13205&view=rev
Author:   vszakats
Date:     2009-12-10 21:50:20 +0000 (Thu, 10 Dec 2009)

Log Message:
-----------
2009-12-10 22:46 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_events.cpp
  * contrib/hbqt/hbqt_slots.cpp
    ! Fixed events/slots handling to make sure the objects 
      always exist on access.
    % This also made explicit initialization from .prg 
      code unnecessary, so these two functions got deleted:
         QT_SETEVENTFILTER(), QT_SETEVENTSLOTS()
    ! Fixed events/slots handling to reset thread local object 
      pointer to NULL after destruction.

  * contrib/hbxbp/xbpsle.prg
  * contrib/hbxbp/xbplistbox.prg
  * contrib/hbxbp/xbpwindow.prg
  * contrib/hbxbp/xbptreeview.prg
  * contrib/hbxbp/xbpdialog.prg
  * contrib/hbxbp/xbpspinbutton.prg
  * contrib/hbxbp/xbpgeneric.prg
    % Simple wrapper named HBXBP_SETEVENTFILTER() deleted and 
      replaced with QT_GETEVENTFILTER() calls.
      (name still subject to change)

  ; NOTE: 1) In demoxbp MT mode build, the second dialog behaves 
             strangely. It updates the screen slowly and not at all.
             Pritpal, please check it to make sure not some 
             recent change broke it.
          2) Forgot to mention in prev entry, but removing 
             HBQMainWindow() mutex altogether didn't cause any 
             change/loss of functionality in my tests, so my 
             question is: Is it really needed?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_events.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbxbp/xbpdialog.prg
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
    trunk/harbour/contrib/hbxbp/xbplistbox.prg
    trunk/harbour/contrib/hbxbp/xbpsle.prg
    trunk/harbour/contrib/hbxbp/xbpspinbutton.prg
    trunk/harbour/contrib/hbxbp/xbptreeview.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Dec 10 17:23:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec 10 17:23:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13206] trunk/harbour
Message-ID: <E1NIrPk-00010F-4t@bj8yhf1.ch3.sourceforge.com>

Revision: 13206
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13206&view=rev
Author:   vszakats
Date:     2009-12-10 22:23:10 +0000 (Thu, 10 Dec 2009)

Log Message:
-----------
2009-12-10 23:22 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/qth/QAbstractItemModel.qth
  * contrib/hbqt/qth/QTableView.qth
  * contrib/hbqt/hbqt_events.cpp
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/hbqt_hbqmainwindow.cpp
    + Added TOFIX (also one QUESTION) to these code parts.
      All of them are potential leak or GPF generator issues.
      Could someone take a look at these?

  * contrib/hbqt/Makefile
  - contrib/hbqt/hbqt_hbdrawingarea.h
  - contrib/hbqt/hbqt_hbdrawingarea.cpp
    - Deleted unused custom class.

  * contrib/hbqt/qtgui/QTableView.cpp
  * contrib/hbqt/qtcore/QAbstractItemModel.cpp
    * Regenerated.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/hbqt_events.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqmainwindow.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/qtcore/QAbstractItemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableView.cpp
    trunk/harbour/contrib/hbqt/qth/QAbstractItemModel.qth
    trunk/harbour/contrib/hbqt/qth/QTableView.qth

Removed Paths:
-------------
    trunk/harbour/contrib/hbqt/hbqt_hbdrawingarea.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbdrawingarea.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Dec 10 18:22:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec 10 18:22:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13207] trunk/harbour
Message-ID: <E1NIsKf-0003NT-Vt@3kljzd1.ch3.sourceforge.com>

Revision: 13207
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13207&view=rev
Author:   vszakats
Date:     2009-12-10 23:22:00 +0000 (Thu, 10 Dec 2009)

Log Message:
-----------
2009-12-11 00:20 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  + contrib/hbqt/hbqt_hbdbfmodel.h
    + Missed from prev commits.

  * contrib/hbqt/hbqt_slots.cpp
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/hbqt_hbdbfmodel.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jerryfinuliar at operamail.com  Thu Dec 10 20:59:36 2009
From: jerryfinuliar at operamail.com (Jerry Finuliar)
Date: Thu Dec 10 20:59:45 2009
Subject: [Harbour] HBQT demoqt
Message-ID: <20091211015937.3DCAD7BD6E@ws5-10.us4.outblaze.com>

Just to report

D:\harbour\contrib\hbqt\tests>hbmk2 demoqt -Lc:\qt\4.5.3\lib
hbmk2: Processing local make script: hbmk.hbm
Harbour 2.0.0beta3 (Rev. 13207)
Copyright (c) 1999-2010, http://www.harbour-project.org/
Compiling 'demoqt.prg'...
Lines 3236, Functions/Procedures 23
Generating C source output to 'demoqt.c'... Done.
demoqt.o:demoqt.c:(.data+0x98): undefined reference to `HB_FUN_QT_SETEVENTFILTER
'
demoqt.o:demoqt.c:(.data+0xa8): undefined reference to `HB_FUN_QT_SETEVENTSLOTS'

collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc.exe demoqt.o hbmk_2gzple.o    -mwindows -Wl,--start-group -lhbqt -lhbqtcore
-lhbqtgui -lhbqtnetwork -lversion -lshlwapi -lQtCore4 -lQtGui4 -lQtNetwork4 -lQt
UiTools -lpsapi -lsupc++ -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage
-lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd -lhbuddall -lhbusrrdd -l
rddntx -lrddcdx -lrddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix -lhbmacro -lhbcplr -lh
bpp -lhbcommon -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomc
tl32 -lcomdlg32 -lshell32 -luuid -lole32 -loleaut32 -lmpr -lwinmm -lmapi32 -limm
32 -lmsimg32 -lwininet -lhbpcre -lhbzlib  -Wl,--end-group -odemoqt.exe -LC:/HARB
OUR/lib/win/mingw -L/../lib -Lc:/qt/4.5.3/lib

-- 
_______________________________________________
Surf the Web in a faster, safer and easier way:
Download Opera 9 at http://www.opera.com

Powered by Outblaze
From druzus at acn.waw.pl  Thu Dec 10 21:13:49 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec 10 21:13:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13198] trunk/harbour
In-Reply-To: <E1NIkD7-0001r9-8N@d5vjzd1.ch3.sourceforge.com>
References: <E1NIkD7-0001r9-8N@d5vjzd1.ch3.sourceforge.com>
Message-ID: <20091211021349.GA3337@linux-4bod.home.aster.pl>

On Thu, 10 Dec 2009, vszakats@users.sourceforge.net wrote:

Hi,

> 2009-12-10 15:40 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * hbwin/win_misc.c
>   * hbwin/win_prn1.c
>     + Using new UNICODE parameter passing macros instead of HB_TCHAR*() ones.
>       (where possible)

Thank you for your modifications but I would like to ask you about
two things:
1. please do not leave any unnecessary casting like:
      ( LPCTSTR ) HB_PARSTRDEF( ... )
   such casting does not give anything (it cannot converts strings
   between different formats) but can hide very serious bugs like wrong
   HB_PARSTRDEF() body.
2. please use HB_PARSTRDEF() only in places where is strictly necessary.
   some of this code comes from xHarbour where few years ago all hb_parc()
   where replaced with hb_parcx() by global S&R. From that time I always
   used to check and replace unnecessary hb_parcx() with hb_parc().
   If you will make mechanical translations all hb_parcx() to HB_PARSTRDEF()
   then I will have to also verify HB_PARSTRDEF() calls. So please try
   to already clean it at least for such basic things like:

      if( HB_ISCHAR( 1 ) )
      {
         void * hName;
         xec->hDLL = LoadLibrary( HB_PARSTRDEF( 1, &hName, NULL ) );
         hb_strfree( hName );
      }

BTW We can add to strapi.c two very simple functions:

   const char * hb_strnull( const char * str )
   {
      return str ? str : "";
   }
   const HB_WCHAR * hb_strnull_u16( const HB_WCHAR * str )
   {
      return str ? str : s_szConstStr;
   }

which can be used in HB_PARSTRDEF() macro.

best regards,
Przemek

ps. Now I'm making some minor modifications in win_dll.c so please
    do not change it.
From druzus at users.sourceforge.net  Thu Dec 10 22:13:26 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Dec 10 22:13:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13208] trunk/harbour
Message-ID: <E1NIvwc-00085I-4Q@3kljzd1.ch3.sourceforge.com>

Revision: 13208
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13208&view=rev
Author:   druzus
Date:     2009-12-11 03:13:24 +0000 (Fri, 11 Dec 2009)

Log Message:
-----------
2009-12-11 04:13 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapiitm.h
  * harbour/src/vm/classes.c
    * added new internal HVM macro

  * harbour/src/vm/thread.c
    + added new function
         hb_threadOnceInit( @<item> <value> ) -> <lInitialized>
      It assigns <value> to <item> if <item> is NIL in MT safe way so it's
      assigned only once. It's reduced but faster version of hb_threadOnce()

  * harbour/include/hbapicdp.h
    * define HB_WCHAR as wchar_t on Windows platforms for compilers which
      refuse to make conversions between types using the same base type.

  * harbour/contrib/hbwin/win_dll.c
    * code cleanup

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_dll.c
    trunk/harbour/include/hbapicdp.h
    trunk/harbour/include/hbapiitm.h
    trunk/harbour/src/vm/classes.c
    trunk/harbour/src/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Thu Dec 10 22:37:46 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Dec 10 22:37:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13209] trunk/harbour
Message-ID: <E1NIwKA-00051d-Du@c3vjzd1.ch3.sourceforge.com>

Revision: 13209
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13209&view=rev
Author:   druzus
Date:     2009-12-11 03:37:42 +0000 (Fri, 11 Dec 2009)

Log Message:
-----------
2009-12-11 04:37 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/thread.c
    ! added missing HB_STACK_TLS_PRELOAD

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Dec 11 03:53:19 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Dec 11 03:53:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13198] trunk/harbour
In-Reply-To: <20091211021349.GA3337@linux-4bod.home.aster.pl>
References: <E1NIkD7-0001r9-8N@d5vjzd1.ch3.sourceforge.com>
	<20091211021349.GA3337@linux-4bod.home.aster.pl>
Message-ID: <D96CA0D7-1255-40B7-A10D-72F9DC3E7769@syenar.hu>

Hi,

> On Thu, 10 Dec 2009, vszakats@users.sourceforge.net wrote:
> 
> Hi,
> 
>> 2009-12-10 15:40 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * hbwin/win_misc.c
>>  * hbwin/win_prn1.c
>>    + Using new UNICODE parameter passing macros instead of HB_TCHAR*() ones.
>>      (where possible)
> 
> Thank you for your modifications but I would like to ask you about
> two things:
> 1. please do not leave any unnecessary casting like:
>      ( LPCTSTR ) HB_PARSTRDEF( ... )
>   such casting does not give anything (it cannot converts strings
>   between different formats) but can hide very serious bugs like wrong
>   HB_PARSTRDEF() body.

I know about this, but if I don't cast, MSVC (C++ mode) gives me errors 
on compile. (const WCHAR * cannot be converted to LPCWSTR or something 
like it)

> 2. please use HB_PARSTRDEF() only in places where is strictly necessary.
>   some of this code comes from xHarbour where few years ago all hb_parc()
>   where replaced with hb_parcx() by global S&R. From that time I always
>   used to check and replace unnecessary hb_parcx() with hb_parc().

I didn't reevaluate all of them, although I did serious cleanup 
of parcx usage in the past. I was also thinking to fully drop it 
for winapi calls, as I'm sure Windows won't BSOD or crash by 
passing NULL wherever a pointer is required. That's why I didn't 
add yet any special logic to HB_PARSTRDEF() yet. All I wanted 
to do is to keep this information for now.

>   If you will make mechanical translations all hb_parcx() to HB_PARSTRDEF()
>   then I will have to also verify HB_PARSTRDEF() calls. So please try
>   to already clean it at least for such basic things like:
> 
>      if( HB_ISCHAR( 1 ) )
>      {
>         void * hName;
>         xec->hDLL = LoadLibrary( HB_PARSTRDEF( 1, &hName, NULL ) );
>         hb_strfree( hName );
>      }

This was just out of scope of these modification. To be honest 
I can't easily see how above could be cleaned. In this case the 
winapi docs doesn't mark the parameter as optional, which to me 
means that NULL is not an accepted input. (okay it won't crash 
if passed, so HB_PARSTRDEF() is almost surely unnecessary)

> BTW We can add to strapi.c two very simple functions:
> 
>   const char * hb_strnull( const char * str )
>   {
>      return str ? str : "";
>   }
>   const HB_WCHAR * hb_strnull_u16( const HB_WCHAR * str )
>   {
>      return str ? str : s_szConstStr;
>   }
> 
> which can be used in HB_PARSTRDEF() macro.

Yes, this would be the perfect solution. Anyhow I didn't 
bother to add default value to HB_PARSTRDEF() yet, as 
in 99% of cases the default is empty string, only one 
was passed some other value, but it's not a requirement 
for WAPI_*() functions to give such extra features so 
it wasn't crucial.

If we're at this topic, I've found a few places which 
couldn't be covered by these macros, It'd be very nice 
if you could take a look at them and suggest the 
cleanest way to resolve them. F.e. there are cases 
when retrieved parameter is assigned to win structure, 
there are cases when win return value is returned 
in array elements (win_prn), there is one case which needs to 
use the retrieved parameter in two places (win_reg), 
and some more. Probably some additional macros are 
needed?

Many thanks for your comments.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Fri Dec 11 05:01:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec 11 05:01:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13210] trunk/harbour
Message-ID: <E1NJ2JG-0003nq-7Z@d5vjzd1.ch3.sourceforge.com>

Revision: 13210
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13210&view=rev
Author:   vszakats
Date:     2009-12-11 10:01:12 +0000 (Fri, 11 Dec 2009)

Log Message:
-----------
2009-12-11 10:59 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbextern.ch
    + Added HB_THREADONCEINIT().

  * contrib/hbqt/hbqt.ch
  * contrib/hbxbp/xbp.ch
    ! Moved XBP specific macro to HBXBP header.

  * contrib/hbqt/tests/demoqt.prg
    ! Deleted no more needed init calls.

  * contrib/hbqt/hbqt_events.cpp
    + Added TOFIX about GC collected pointer stored in low level 
      structure. (source of GPF).

  * contrib/hbwin/win_misc.c
  * contrib/hbwin/wapi_winbase.c
  * contrib/hbwin/wapi_winuser.c
  * contrib/hbwin/win_regc.c
  * contrib/hbwin/win_prn1.c
  * contrib/hbwin/win_prn3.c
  * contrib/hbwin/wapi_shellapi.c
  * contrib/hbwin/legacyco.c
    - Deleted now unnecessary '( LP[C]TSTR )' casts.
    + Cleaned const usage in WIN_PRINTERSETDEFAULT().
      F.e. OpenPrinter() has apparently wrong winapi declaration, 
      so a cast must have been added.

    ; TOFIX: CreateProcessW() second parameter has to be a read/write 
             buffer. Przemek, do you have an idea how to solve that 
             the cleanest way?
             (for now I kept a cast, assuming that a buffer is 
             created by Harbour conversion API, but that's not 
             something it guarantees in the future.)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt.ch
    trunk/harbour/contrib/hbqt/hbqt_events.cpp
    trunk/harbour/contrib/hbqt/tests/demoqt.prg
    trunk/harbour/contrib/hbwin/legacyco.c
    trunk/harbour/contrib/hbwin/wapi_shellapi.c
    trunk/harbour/contrib/hbwin/wapi_winbase.c
    trunk/harbour/contrib/hbwin/wapi_winuser.c
    trunk/harbour/contrib/hbwin/win_misc.c
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_prn3.c
    trunk/harbour/contrib/hbwin/win_regc.c
    trunk/harbour/contrib/hbxbp/xbp.ch
    trunk/harbour/include/hbextern.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From devlist.harbour at gmail.com  Fri Dec 11 05:40:52 2009
From: devlist.harbour at gmail.com (Patrick Mast)
Date: Fri Dec 11 05:41:00 2009
Subject: [Harbour] Some changes on Harbour Web Page
In-Reply-To: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com>
References: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com>
Message-ID: <6c902cf90912110240y3f6a5b27ub483a67325203a75@mail.gmail.com>

Hey Guys,

Like I asked Vailton so many times, I'd like the site to list me as
the designer of the logo. ;-)
It now says "Design by Vailton Renato", maybe you can add "Logo by Patrick Mast"

Thank you.

Patrick
From harbour.01 at syenar.hu  Fri Dec 11 05:49:59 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Dec 11 05:50:10 2009
Subject: [Harbour] Some changes on Harbour Web Page
In-Reply-To: <6c902cf90912110240y3f6a5b27ub483a67325203a75@mail.gmail.com>
References: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com>
	<6c902cf90912110240y3f6a5b27ub483a67325203a75@mail.gmail.com>
Message-ID: <860B140B-13FC-4926-99F3-AC4DE00F6BDF@syenar.hu>

Hi,

If we're at it, maybe xhb developer list could list me 
as Harbour contributor.

Brgds,
Viktor

On 2009 Dec 11, at 11:40, Patrick Mast wrote:

> Hey Guys,
> 
> Like I asked Vailton so many times, I'd like the site to list me as
> the designer of the logo. ;-)
> It now says "Design by Vailton Renato", maybe you can add "Logo by Patrick Mast"
> 
> Thank you.
> 
> Patrick
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From devlist.harbour at gmail.com  Fri Dec 11 05:55:32 2009
From: devlist.harbour at gmail.com (Patrick Mast)
Date: Fri Dec 11 05:55:39 2009
Subject: [Harbour] Some changes on Harbour Web Page
In-Reply-To: <860B140B-13FC-4926-99F3-AC4DE00F6BDF@syenar.hu>
References: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com>
	<6c902cf90912110240y3f6a5b27ub483a67325203a75@mail.gmail.com>
	<860B140B-13FC-4926-99F3-AC4DE00F6BDF@syenar.hu>
Message-ID: <6c902cf90912110255i2a9fcc62t57c0398f3449f7d3@mail.gmail.com>

Hey Viktor,

> If we're at it, maybe xhb developer list could list me
> as Harbour contributor.

I agree! ;-)

Enrico, can you please add Viktor to the Developers list?
Thanks!

Patrick
From druzus at acn.waw.pl  Fri Dec 11 06:12:43 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Dec 11 06:12:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13198] trunk/harbour
In-Reply-To: <D96CA0D7-1255-40B7-A10D-72F9DC3E7769@syenar.hu>
References: <E1NIkD7-0001r9-8N@d5vjzd1.ch3.sourceforge.com>
	<20091211021349.GA3337@linux-4bod.home.aster.pl>
	<D96CA0D7-1255-40B7-A10D-72F9DC3E7769@syenar.hu>
Message-ID: <20091211111243.GA31339@linux-4bod.home.aster.pl>

On Fri, 11 Dec 2009, Szak?ts Viktor wrote:

Hi,

> > 1. please do not leave any unnecessary casting like:
> >      ( LPCTSTR ) HB_PARSTRDEF( ... )
> >   such casting does not give anything (it cannot converts strings
> >   between different formats) but can hide very serious bugs like wrong
> >   HB_PARSTRDEF() body.
> I know about this, but if I don't cast, MSVC (C++ mode) gives me errors 
> on compile. (const WCHAR * cannot be converted to LPCWSTR or something 
> like it)

It was enough to tell me about it :)
Last night I committed modification which should resolve it:

2009-12-11 04:13 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapicdp.h
    * define HB_WCHAR as wchar_t on Windows platforms for compilers which
      refuse to make conversions between types using the same base type.

> I didn't reevaluate all of them, although I did serious cleanup 
> of parcx usage in the past. I was also thinking to fully drop it 
> for winapi calls, as I'm sure Windows won't BSOD or crash by 
> passing NULL wherever a pointer is required. That's why I didn't 
> add yet any special logic to HB_PARSTRDEF() yet. All I wanted 
> to do is to keep this information for now.

Windows API is set of functions implemented on different levels
and some of them can crash so it's necessary to check each of
them. We cannot make any global assumption about validation of
NULL pointers. It's even possible that the behavior is different
in Win9x and WinXP, etc.

> >   If you will make mechanical translations all hb_parcx() to HB_PARSTRDEF()
> >   then I will have to also verify HB_PARSTRDEF() calls. So please try
> >   to already clean it at least for such basic things like:
> >      if( HB_ISCHAR( 1 ) )
> >      {
> >         void * hName;
> >         xec->hDLL = LoadLibrary( HB_PARSTRDEF( 1, &hName, NULL ) );
> >         hb_strfree( hName );
> >      }
> This was just out of scope of these modification. To be honest 
> I can't easily see how above could be cleaned. In this case the 
> winapi docs doesn't mark the parameter as optional, which to me 
> means that NULL is not an accepted input. (okay it won't crash 
> if passed, so HB_PARSTRDEF() is almost surely unnecessary)

In this case I wanted to show that this code checks HB_ISCHAR( 1 )
so the parameter cannot be NULL and it's not necessary to use
HB_PARSTRDEF() but we can simply use HB_PARSTR()

> > BTW We can add to strapi.c two very simple functions:
> >   const char * hb_strnull( const char * str )
> >   {
> >      return str ? str : "";
> >   }
> >   const HB_WCHAR * hb_strnull_u16( const HB_WCHAR * str )
> >   {
> >      return str ? str : s_szConstStr;
> >   }
> > which can be used in HB_PARSTRDEF() macro.
> Yes, this would be the perfect solution. Anyhow I didn't 
> bother to add default value to HB_PARSTRDEF() yet, as 
> in 99% of cases the default is empty string, only one 
> was passed some other value, but it's not a requirement 
> for WAPI_*() functions to give such extra features so 
> it wasn't crucial.

I think that it's necessary in code like:
   hb_retnint( ( HB_PTRDIFF ) LoadLibrary( HB_PARSTRDEF( 1, &hName, NULL ) ) );
or at least this code should be fixed.

> If we're at this topic, I've found a few places which 
> couldn't be covered by these macros, It'd be very nice 
> if you could take a look at them and suggest the 
> cleanest way to resolve them. F.e. there are cases 
> when retrieved parameter is assigned to win structure, 

I do not see the problem, Can you show me the exact code place
where it was problematic?

> there are cases when win return value is returned 
> in array elements (win_prn),

We can add hb_array[SG]etStr*() functions.
You can also use hb_arrayGetItemPtr() and hb_itemPutStrLen*()
but I do not like when users use hb_arrayGetItemPtr() function
so in such case try to at least hide it by macros, i.e.:

   #if defined( UNICODE )
      #define HB_ARRAYSETSTR( arr, n, str ) \
         hb_itemPutStrLenU16( hb_arrayGetItemPtr( arr, n ), \
                              HB_CDP_ENDIAN_NATIVE, str, lstrlenW( str ) )
      #define HB_ARRAYSETSTRLEN( arr, n, str, len ) \
         hb_itemPutStrLenU16( hb_arrayGetItemPtr( arr, n ), \
                              HB_CDP_ENDIAN_NATIVE, str, len )
   #else
      #define HB_ARRAYSETSTR( arr, n, str ) \
         hb_itemPutStrLen( hb_arrayGetItemPtr( arr, n ), \
                           hb_setGetOSCP(), str, strlen( str ) )
      #define HB_ARRAYSETSTRLEN( arr, n, str, len ) \
         hb_itemPutStrLen( hb_arrayGetItemPtr( arr, n ), \
                           hb_setGetOSCP(), str, len )
   #endif

Please only note that unlike hb_arraySetC[L]() these macros do not
check array size and cannot be safely used with wrong indexes and
HB_ARRAYSETSTRLEN() uses str twice so you should avoid using complex
expressions passing it. It's a problem until we won't have added
hb_arraySetStr*() functions. When we do that then we simply modify
above macros to use new functions.

> there is one case which needs to 
> use the retrieved parameter in two places (win_reg), 

I do not see nay problem in win_regc.c but maybe I'm missing sth.
Now HB_TCHAR_*() macros are use only in one function:
   HB_FUNC( WIN_REGQUERYVALUEEX )
   {
      LPTSTR lpKey = HB_TCHAR_CONVTO( hb_parcx( 2 ) );
      [...]
      HB_TCHAR_FREE( lpKey );
   }

and should be simply replaced with:
   HB_FUNC( WIN_REGQUERYVALUEEX )
   {
      void * hKey;
      LPCTSTR lpKey = HB_PARSTRDEF( 2, &hKey, NULL );
      [...]
      hb_strfree( hKey );
   }

or better by:
   HB_FUNC( WIN_REGQUERYVALUEEX )
   {
      void * hKey;
      LPCTSTR lpKey = HB_PARSTR( 2, &hKey, NULL );
      [...]
      if( lpKey && RegQueryValueEx( ( HKEY ) hb_parptr( 1 ),
      [...]
      hb_strfree( hKey );
   }

> and some more. Probably some additional macros are 
> needed?

Probably yes but without exact real life examples it's hard for me
to guess which ones.

best regards,
Przemek
From mbelgrano at deltain.it  Fri Dec 11 06:27:54 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Dec 11 06:28:22 2009
Subject: [Harbour] Some changes on Harbour Web Page
In-Reply-To: <6c902cf90912110255i2a9fcc62t57c0398f3449f7d3@mail.gmail.com>
References: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com> 
	<6c902cf90912110240y3f6a5b27ub483a67325203a75@mail.gmail.com> 
	<860B140B-13FC-4926-99F3-AC4DE00F6BDF@syenar.hu>
	<6c902cf90912110255i2a9fcc62t57c0398f3449f7d3@mail.gmail.com>
Message-ID: <609353e70912110327x3df08231p7b313af7d67fe5f6@mail.gmail.com>

Hi Renato
Can you add "Logo by Patrick Mast"

Hi Patrick
your logo is still a good logo
Compliment!


2009/12/11 Patrick Mast <devlist.harbour@gmail.com>:
> Hey Viktor,
>
>> If we're at it, maybe xhb developer list could list me
>> as Harbour contributor.
>
> I agree! ;-)
>
> Enrico, can you please add Viktor to the Developers list?
> Thanks!
>
> Patrick
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Fri Dec 11 06:33:23 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Dec 11 06:33:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13198] trunk/harbour
In-Reply-To: <20091211111243.GA31339@linux-4bod.home.aster.pl>
References: <E1NIkD7-0001r9-8N@d5vjzd1.ch3.sourceforge.com>
	<20091211021349.GA3337@linux-4bod.home.aster.pl>
	<D96CA0D7-1255-40B7-A10D-72F9DC3E7769@syenar.hu>
	<20091211111243.GA31339@linux-4bod.home.aster.pl>
Message-ID: <CDB6B1FF-88B5-4468-AFC8-F85A606B9EBE@syenar.hu>

>>> 1. please do not leave any unnecessary casting like:
>>>     ( LPCTSTR ) HB_PARSTRDEF( ... )
>>>  such casting does not give anything (it cannot converts strings
>>>  between different formats) but can hide very serious bugs like wrong
>>>  HB_PARSTRDEF() body.
>> I know about this, but if I don't cast, MSVC (C++ mode) gives me errors 
>> on compile. (const WCHAR * cannot be converted to LPCWSTR or something 
>> like it)
> 
> It was enough to tell me about it :)
> Last night I committed modification which should resolve it:
> 
> 2009-12-11 04:13 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbapicdp.h
>    * define HB_WCHAR as wchar_t on Windows platforms for compilers which
>      refuse to make conversions between types using the same base type.

I saw it, deleted those casts. For good, because they revealed 
some problems.

>> I didn't reevaluate all of them, although I did serious cleanup 
>> of parcx usage in the past. I was also thinking to fully drop it 
>> for winapi calls, as I'm sure Windows won't BSOD or crash by 
>> passing NULL wherever a pointer is required. That's why I didn't 
>> add yet any special logic to HB_PARSTRDEF() yet. All I wanted 
>> to do is to keep this information for now.
> 
> Windows API is set of functions implemented on different levels
> and some of them can crash so it's necessary to check each of
> them. We cannot make any global assumption about validation of
> NULL pointers. It's even possible that the behavior is different
> in Win9x and WinXP, etc.

That's right. I remember when Mark Russinovich created a little 
tools which made XP (or was it 2000?) BSOD at will, because of 
unchecked parameters. MS fixed these in an SP, but older versions 
I'm not so sure.

>>>  If you will make mechanical translations all hb_parcx() to HB_PARSTRDEF()
>>>  then I will have to also verify HB_PARSTRDEF() calls. So please try
>>>  to already clean it at least for such basic things like:
>>>     if( HB_ISCHAR( 1 ) )
>>>     {
>>>        void * hName;
>>>        xec->hDLL = LoadLibrary( HB_PARSTRDEF( 1, &hName, NULL ) );
>>>        hb_strfree( hName );
>>>     }
>> This was just out of scope of these modification. To be honest 
>> I can't easily see how above could be cleaned. In this case the 
>> winapi docs doesn't mark the parameter as optional, which to me 
>> means that NULL is not an accepted input. (okay it won't crash 
>> if passed, so HB_PARSTRDEF() is almost surely unnecessary)
> 
> In this case I wanted to show that this code checks HB_ISCHAR( 1 )
> so the parameter cannot be NULL and it's not necessary to use
> HB_PARSTRDEF() but we can simply use HB_PARSTR()

Didn't spot it, but you're right.

Anyhow we can make this revision based on PARSTRDEF usage, 
that was my goal.

>>> BTW We can add to strapi.c two very simple functions:
>>>  const char * hb_strnull( const char * str )
>>>  {
>>>     return str ? str : "";
>>>  }
>>>  const HB_WCHAR * hb_strnull_u16( const HB_WCHAR * str )
>>>  {
>>>     return str ? str : s_szConstStr;
>>>  }
>>> which can be used in HB_PARSTRDEF() macro.
>> Yes, this would be the perfect solution. Anyhow I didn't 
>> bother to add default value to HB_PARSTRDEF() yet, as 
>> in 99% of cases the default is empty string, only one 
>> was passed some other value, but it's not a requirement 
>> for WAPI_*() functions to give such extra features so 
>> it wasn't crucial.
> 
> I think that it's necessary in code like:
>   hb_retnint( ( HB_PTRDIFF ) LoadLibrary( HB_PARSTRDEF( 1, &hName, NULL ) ) );
> or at least this code should be fixed.

If not protected with HB_ISCHAR() it sure has to be.

>> If we're at this topic, I've found a few places which 
>> couldn't be covered by these macros, It'd be very nice 
>> if you could take a look at them and suggest the 
>> cleanest way to resolve them. F.e. there are cases 
>> when retrieved parameter is assigned to win structure, 
> 
> I do not see the problem, Can you show me the exact code place
> where it was problematic?

Here's a list of remaining HB_TCHAR* occurrences in hbwin:
---
wapi_commctrl.c:480:   LPTSTR szText = HB_TCHAR_CONVTO( hb_parcx( 3 ) );
wapi_commctrl.c:488:   HB_TCHAR_FREE( szText );
wapi_commctrl.c:563:   LPTSTR szText = HB_TCHAR_CONVTO( hb_parcx( 3 ) );
wapi_commctrl.c:571:   HB_TCHAR_FREE( szText );
wapi_commctrl.c:783:   LPTSTR  szText = HB_TCHAR_CONVTO( hb_parcx( 2 ) );
wapi_commctrl.c:791:   HB_TCHAR_FREE( szText );
wce_simc.c:99:   szAddress = HB_TCHAR_CONVFROM( PhoneEntry.lpszAddress );
wce_simc.c:100:   szText = HB_TCHAR_CONVFROM( PhoneEntry.lpszText );
wce_simc.c:113:   HB_TCHAR_FREE( szAddress );
wce_simc.c:114:   HB_TCHAR_FREE( szText );
wce_simc.c:120:   wchar_t * lpwszAddress = HB_TCHAR_CONVTO( hb_parcx( 4 ) );
wce_simc.c:121:   wchar_t * lpwszText = HB_TCHAR_CONVTO( hb_parcx( 5 ) );
wce_simc.c:132:   HB_TCHAR_FREE( lpwszAddress );
wce_simc.c:133:   HB_TCHAR_FREE( lpwszText );
wce_smsc.c:72:      wchar_t * sztMessage     = HB_TCHAR_CONVTO( hb_parcx( 1 ) );
wce_smsc.c:73:      wchar_t * sztPhoneNumber = HB_TCHAR_CONVTO( hb_parcx( 2 ) );
wce_smsc.c:102:      HB_TCHAR_FREE( sztMessage );
wce_smsc.c:103:      HB_TCHAR_FREE( sztPhoneNumber );
win_com.c:92:      HB_TCHAR_CPTO( tszName, szName, sizeof( tszName ) - 1 );
win_misc.c:166:   char * buffer = HB_TCHAR_CONVFROM( GetCommandLine() );
win_misc.c:204:   HB_TCHAR_FREE( buffer );
win_osc.c:195:   szCSDVersion = HB_TCHAR_CONVFROM( osvi.szCSDVersion );
win_osc.c:197:   HB_TCHAR_FREE( szCSDVersion );
win_prn1.c:189:      LPTSTR lpDocName = szDocName ? HB_TCHAR_CONVTO( szDocName ) : NULL;
win_prn1.c:198:         HB_TCHAR_FREE( lpDocName );
win_prn1.c:267:         LPTSTR lpData = HB_TCHAR_CONVNTO( hb_parc( 4 ), iLen );
win_prn1.c:294:         HB_TCHAR_FREE( lpData );
win_prn1.c:316:      lpData = HB_TCHAR_CONVNTO( hb_parc( 2 ), iLen );
win_prn1.c:325:      HB_TCHAR_FREE( lpData );
win_prn1.c:377:      LPTSTR lpFont = pszFont ? HB_TCHAR_CONVTO( pszFont ) : NULL;
win_prn1.c:410:         HB_TCHAR_FREE( lpFont );
win_prn1.c:448:      LPTSTR lpPrinterName = pszPrinterName ? HB_TCHAR_CONVTO( pszPrinterName ) : NULL;
win_prn1.c:487:         HB_TCHAR_FREE( lpPrinterName );
win_prn1.c:498:   LPTSTR lpPrinterName = pszPrinterName ? HB_TCHAR_CONVTO( pszPrinterName ) : NULL;
win_prn1.c:525:      HB_TCHAR_FREE( lpPrinterName );
win_prn1.c:598:   char * pszFaceName = HB_TCHAR_CONVFROM( lplf->lfFaceName );
win_prn1.c:608:   HB_TCHAR_FREE( pszFaceName );
win_prn2.c:113:                  char * pszData = HB_TCHAR_CONVFROM( pPrinterEnum->pPrinterName );
win_prn2.c:115:                  HB_TCHAR_FREE( pszData );
win_prn2.c:160:               HB_TCHAR_GETFROM( pszPrinterName, lpPrinterName, *pnBufferSize );
win_prn2.c:175:         HB_TCHAR_GETFROM( pszPrinterName, lpPrinterName, *pnBufferSize );
win_prn2.c:222:                     HB_TCHAR_GETFROM( pszPrinterName, pPrinterInfo->pPrinterName, lstrlen( pPrinterInfo->pPrinterName ) );
win_prn2.c:298:      LPTSTR lpPrinterName = HB_TCHAR_CONVTO( pszPrinterName );
win_prn2.c:344:      HB_TCHAR_FREE( lpPrinterName );
win_prn2.c:375:               char * pszPortName = HB_TCHAR_CONVFROM( pPrinterEnum->pPortName );
win_prn2.c:382:               HB_TCHAR_FREE( pszPortName );
win_prn2.c:386:                  char * pszPrinterName = HB_TCHAR_CONVFROM( pPrinterEnum->pPrinterName );
win_prn2.c:388:                  HB_TCHAR_FREE( pszPrinterName );
win_prn2.c:409:      LPTSTR lpPrinterName = HB_TCHAR_CONVTO( pszPrinterName );
win_prn2.c:413:         LPTSTR lpDocName = HB_TCHAR_CONVTO( pszDocName );
win_prn2.c:457:         HB_TCHAR_FREE( lpDocName );
win_prn2.c:463:      HB_TCHAR_FREE( lpPrinterName );
win_prn2.c:504:                  pszData = HB_TCHAR_CONVFROM( pPrinterEnum->pPrinterName );
win_prn2.c:506:                  HB_TCHAR_FREE( pszData );
win_prn2.c:520:                        pszData = HB_TCHAR_CONVFROM( pPrinterEnum->pPrinterName );
win_prn2.c:522:                        HB_TCHAR_FREE( pszData );
win_prn2.c:529:                              pszData = HB_TCHAR_CONVFROM( pPrinterInfo2->pPortName );
win_prn2.c:531:                              HB_TCHAR_FREE( pszData );
win_prn2.c:532:                              pszData = HB_TCHAR_CONVFROM( pPrinterInfo2->pDriverName );
win_prn2.c:534:                              HB_TCHAR_FREE( pszData );
win_prn2.c:535:                              pszData = HB_TCHAR_CONVFROM( pPrinterInfo2->pShareName );
win_prn2.c:537:                              HB_TCHAR_FREE( pszData );
win_prn2.c:538:                              pszData = HB_TCHAR_CONVFROM( pPrinterInfo2->pServerName );
win_prn2.c:540:                              HB_TCHAR_FREE( pszData );
win_regc.c:122:   LPTSTR lpKey = HB_TCHAR_CONVTO( hb_parcx( 2 ) );
win_regc.c:180:   HB_TCHAR_FREE( lpKey );
---

All of them were problematic (to me) for some reason (except WIN_CREATEFONT(), 
which I'll commit ASAP.)

>> there are cases when win return value is returned 
>> in array elements (win_prn),
> 
> We can add hb_array[SG]etStr*() functions.
> You can also use hb_arrayGetItemPtr() and hb_itemPutStrLen*()
> but I do not like when users use hb_arrayGetItemPtr() function
> so in such case try to at least hide it by macros, i.e.:
> 
>   #if defined( UNICODE )
>      #define HB_ARRAYSETSTR( arr, n, str ) \
>         hb_itemPutStrLenU16( hb_arrayGetItemPtr( arr, n ), \
>                              HB_CDP_ENDIAN_NATIVE, str, lstrlenW( str ) )
>      #define HB_ARRAYSETSTRLEN( arr, n, str, len ) \
>         hb_itemPutStrLenU16( hb_arrayGetItemPtr( arr, n ), \
>                              HB_CDP_ENDIAN_NATIVE, str, len )
>   #else
>      #define HB_ARRAYSETSTR( arr, n, str ) \
>         hb_itemPutStrLen( hb_arrayGetItemPtr( arr, n ), \
>                           hb_setGetOSCP(), str, strlen( str ) )
>      #define HB_ARRAYSETSTRLEN( arr, n, str, len ) \
>         hb_itemPutStrLen( hb_arrayGetItemPtr( arr, n ), \
>                           hb_setGetOSCP(), str, len )
>   #endif
> 
> Please only note that unlike hb_arraySetC[L]() these macros do not
> check array size and cannot be safely used with wrong indexes and
> HB_ARRAYSETSTRLEN() uses str twice so you should avoid using complex
> expressions passing it. It's a problem until we won't have added
> hb_arraySetStr*() functions. When we do that then we simply modify
> above macros to use new functions.

Thanks, I'll add them as a start. This clears up some of 
my above listed "problematic" cases.

>> there is one case which needs to 
>> use the retrieved parameter in two places (win_reg), 
> 
> I do not see nay problem in win_regc.c but maybe I'm missing sth.
> Now HB_TCHAR_*() macros are use only in one function:
>   HB_FUNC( WIN_REGQUERYVALUEEX )
>   {
>      LPTSTR lpKey = HB_TCHAR_CONVTO( hb_parcx( 2 ) );
>      [...]
>      HB_TCHAR_FREE( lpKey );
>   }
> 
> and should be simply replaced with:
>   HB_FUNC( WIN_REGQUERYVALUEEX )
>   {
>      void * hKey;
>      LPCTSTR lpKey = HB_PARSTRDEF( 2, &hKey, NULL );
>      [...]
>      hb_strfree( hKey );
>   }
> 
> or better by:
>   HB_FUNC( WIN_REGQUERYVALUEEX )
>   {
>      void * hKey;
>      LPCTSTR lpKey = HB_PARSTR( 2, &hKey, NULL );
>      [...]
>      if( lpKey && RegQueryValueEx( ( HKEY ) hb_parptr( 1 ),
>      [...]
>      hb_strfree( hKey );
>   }

That's fine, thanks.

>> and some more. Probably some additional macros are 
>> needed?
> 
> Probably yes but without exact real life examples it's hard for me
> to guess which ones.

I'll try to modify everything which I can, and pls 
check remaining ones.

Brgds,
Viktor

From vailtom at gmail.com  Fri Dec 11 06:34:51 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Fri Dec 11 06:35:18 2009
Subject: [Harbour] Some changes on Harbour Web Page
In-Reply-To: <609353e70912110327x3df08231p7b313af7d67fe5f6@mail.gmail.com>
References: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com> 
	<6c902cf90912110240y3f6a5b27ub483a67325203a75@mail.gmail.com> 
	<860B140B-13FC-4926-99F3-AC4DE00F6BDF@syenar.hu>
	<6c902cf90912110255i2a9fcc62t57c0398f3449f7d3@mail.gmail.com> 
	<609353e70912110327x3df08231p7b313af7d67fe5f6@mail.gmail.com>
Message-ID: <531d7a750912110334w5f1243dcnebba2da50077e767@mail.gmail.com>

In reality there were not "several times" but the truth is that it was
"only once" ... and since then the site has not been updated. For this
reason alone there is still no reference to your name there ... but
for the next update must already be included. So much as I said at the
beginning of this thread, I am preparing to change some details in the
site ... then it was already to be included anyway.

Vailton Renato
From druzus at acn.waw.pl  Fri Dec 11 06:41:18 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Dec 11 06:41:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13210] trunk/harbour
In-Reply-To: <E1NJ2JG-0003nq-7Z@d5vjzd1.ch3.sourceforge.com>
References: <E1NJ2JG-0003nq-7Z@d5vjzd1.ch3.sourceforge.com>
Message-ID: <20091211114118.GB31339@linux-4bod.home.aster.pl>

On Fri, 11 Dec 2009, vszakats@users.sourceforge.net wrote:

Hi,

>     ; TOFIX: CreateProcessW() second parameter has to be a read/write 
>              buffer. Przemek, do you have an idea how to solve that 
>              the cleanest way?
>              (for now I kept a cast, assuming that a buffer is 
>              created by Harbour conversion API, but that's not 
>              something it guarantees in the future.)

As general solution I'll add:
   HB_WCHAR * hb_wstrdup( const HB_WCHAR * );
and make hb_wstrlen() public.

But for more tuned usage I'll also add:
   HB_WCHAR * hb_wstrUnShare( void ** hStr,
                              const HB_WCHAR * pStr, ULONG ulLen );
and:
   char * hb_strUnShare( void ** hStr, const char * pStr, ULONG ulLen );
which can be used to convert (only if necessary) the buffer to writable
state so you can use it in WIN_RUNDETACHED() in this way:
   ULONG ulLen;
   LPCTSTR lpCommandRO = HB_PARSTR( 2, &hCommandLine, &ulLen );
   LPTSTR lpCommand = HB_STRUNSHARE( &hCommandLine, lpCommandRO, ulLen );

It's the cleanest version but if you trust MS that in non unicode version
CreateProcessA() never change the buffer then you can make:
   ULONG ulLen;
   LPCTSTR lpCommandRO = HB_PARSTR( 2, &hCommandLine, &ulLen );
#if defined( UNICODE )
   LPWSTR lpCommand = hb_wstrUnShare( &hCommandLine, lpCommandRO, ulLen );
#else
   LPSTR lpCommand = ( LPSTR ) lpCommandRO;
#endif

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Fri Dec 11 07:15:02 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Dec 11 07:15:28 2009
Subject: [Harbour] Some changes on Harbour Web Page
References: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com><6c902cf90912110240y3f6a5b27ub483a67325203a75@mail.gmail.com><860B140B-13FC-4926-99F3-AC4DE00F6BDF@syenar.hu>
	<6c902cf90912110255i2a9fcc62t57c0398f3449f7d3@mail.gmail.com>
Message-ID: <E8BA53356E0A48D5A45A3CB8379A2788@emag>


-----Messaggio Originale----- 
Da: "Patrick Mast" <devlist.harbour@gmail.com>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 11 dicembre 2009 11.55
Oggetto: Re: [Harbour] Some changes on Harbour Web Page


> Enrico, can you please add Viktor to the Developers list?

Done:

http://www.xharbour.org/index.asp?page=developers/index

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Fri Dec 11 07:24:21 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Dec 11 07:24:44 2009
Subject: [Harbour] Some changes on Harbour Web Page
In-Reply-To: <E8BA53356E0A48D5A45A3CB8379A2788@emag>
References: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com><6c902cf90912110240y3f6a5b27ub483a67325203a75@mail.gmail.com><860B140B-13FC-4926-99F3-AC4DE00F6BDF@syenar.hu>
	<6c902cf90912110255i2a9fcc62t57c0398f3449f7d3@mail.gmail.com>
	<E8BA53356E0A48D5A45A3CB8379A2788@emag>
Message-ID: <71A85958-E8F7-4E64-8A2B-0FF40B0299F0@syenar.hu>

Thank you very much Enrico and Patrick.

Brgds,
Viktor

On 2009 Dec 11, at 13:15, Enrico Maria Giordano wrote:

> 
> -----Messaggio Originale----- Da: "Patrick Mast" <devlist.harbour@gmail.com>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: venerd? 11 dicembre 2009 11.55
> Oggetto: Re: [Harbour] Some changes on Harbour Web Page
> 
> 
>> Enrico, can you please add Viktor to the Developers list?
> 
> Done:
> 
> http://www.xharbour.org/index.asp?page=developers/index
> 
> EMG
> 
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Dec 11 07:58:54 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Dec 11 07:59:04 2009
Subject: [Harbour] MSVC C mode warnings in init code
Message-ID: <4D2A5A48-4A73-4C33-87E8-8F80616A6547@syenar.hu>

Hi Przemek,

In MSVC C mode (default in hbmk2), I'm getting these warnings:
---
cl.exe   -I. -I../../../../../include -nologo -Gs -TC -W4 -wd4127 -Ot2b1 -EHs-c-  -DHB_HAS_PCRE -IF:/work/harbour/harbour/external/pcre -DPCRE_STATIC -DHB_HAS_Z
LIB -IF:/work/harbour/harbour/external/zlib -DUNICODE  -Foadir_dyn.obj -DHB_DYNLIB -c adir.c
adir.c
adir.c(42) : warning C4079: unexpected token 'identifier'
adir.c(42) : warning C4081: expected 'newline'; found ')'
---

Brgds,
Viktor

From abe.buch at att.net  Fri Dec 11 08:57:57 2009
From: abe.buch at att.net (AbeB)
Date: Fri Dec 11 08:58:04 2009
Subject: [Harbour] Suggestion: Place generated file location
Message-ID: <1260539877855-4151435.post@n2.nabble.com>


Hi Harbour Makers,

Would it be more practical to place all build generated .c .obj output files
in a complete different directory location not underneath the current
directory? like \harbourOutput\src\... \harbourBuidOutput\contrib\... 
so when i do a search on .c files it won't search all these files. Also the
whole tree can be safety deleted.

just a suggestion.

Thanks,
abe




-- 
View this message in context: http://n2.nabble.com/Suggestion-Place-generated-file-location-tp4151435p4151435.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From druzus at acn.waw.pl  Fri Dec 11 09:00:52 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Dec 11 09:01:00 2009
Subject: [Harbour] MSVC C mode warnings in init code
In-Reply-To: <4D2A5A48-4A73-4C33-87E8-8F80616A6547@syenar.hu>
References: <4D2A5A48-4A73-4C33-87E8-8F80616A6547@syenar.hu>
Message-ID: <20091211140052.GA23890@linux-4bod.home.aster.pl>

On Fri, 11 Dec 2009, Szak?ts Viktor wrote:

Hi,

> In MSVC C mode (default in hbmk2), I'm getting these warnings:
> ---
> cl.exe   -I. -I../../../../../include -nologo -Gs -TC -W4 -wd4127 -Ot2b1 -EHs-c-  -DHB_HAS_PCRE -IF:/work/harbour/harbour/external/pcre -DPCRE_STATIC -DHB_HAS_Z
> LIB -IF:/work/harbour/harbour/external/zlib -DUNICODE  -Foadir_dyn.obj -DHB_DYNLIB -c adir.c
> adir.c
> adir.c(42) : warning C4079: unexpected token 'identifier'
> adir.c(42) : warning C4081: expected 'newline'; found ')'
> ---

It's hard for me to help without MSVC access.
Is it sth new or has it been existing for quite long time?

This warning is generated for this code code:
   HB_FUNC( ADIR )
   {
      [...]
translated by PP to:
   _declspec( dllexport ) void HB_FUN_ADIR ( void )
   {
      [...]

Maybe MSVC does not like _declspec and __declspec should be used instead?
Try to change in hbdefs.h[1534]:
   #elif defined( __WATCOMC__ )
      #define HB_EXPORT __declspec( dllexport )
to:
   #elif defined( __WATCOMC__ ) || defined( _MSC_VER )
      #define HB_EXPORT __declspec( dllexport )
and check if it helps.

best regards,
Przemek
From qiinfo at ig.com.br  Fri Dec 11 09:05:05 2009
From: qiinfo at ig.com.br (Rossine)
Date: Fri Dec 11 09:05:11 2009
Subject: [Harbour] Erro with  -hblnk /FORCE
Message-ID: <26744825.post@talk.nabble.com>


Hello,

I'm testing the MiniGUI with MSVC 2008 Express, and can generate the exe
file I need to pass the parameter "-hblnk / FORCE". But when I put it, the
parameter "/ I." does not work, then it goes to occur this error:

main.prg(23) Error F0029  Can't open #include file 'Principal.fmg'

This is a piece of code:

[CODE]
/*
* Contactos
* (C) 2003 Roberto Lopez <harbourminigui@gmail.com>
*
* (C) 2005 Designed by MigSoft with MiniGUI IDE :: Roberto Lopez ::
*/

#include "minigui.ch"

Static Nuevo := .F.

Function Main

        set delete on
        set browsesync on
        set century on
        set date french

        Request DBFCDX , DBFFPT
        Rddsetdefault( "DBFCDX" )

	Set Default Icon To "Tutor"
        Load Window Principal             && Here occurs the error
	Activate Window Principal

Return Nil
...
[ENDCODE]

I use this command:

hbmk2 -trace -info -n -gtgui -ic:\minigui\include %1
c:\minigui\batch\minigui.hbc c:\minigui\batch\minigui.hbm /I. -hblnk /FORCE
%2 %3 %4 %5 > comp.log

How do I fix this?

Best Regards,

Rossine.

-- 
View this message in context: http://old.nabble.com/Erro-with---hblnk--FORCE-tp26744825p26744825.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Dec 11 09:13:10 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Dec 11 09:13:21 2009
Subject: [Harbour] Erro with  -hblnk /FORCE
In-Reply-To: <26744825.post@talk.nabble.com>
References: <26744825.post@talk.nabble.com>
Message-ID: <7E344A9B-DF8B-4C05-A77A-F10A7F1A69D6@syenar.hu>

Try with '-ldflag=-force' instead of '-hblnk /force'.

-hblnk does something completely different. As for why 
.fmg can't be found I don't know current MiniGUI setup 
and dir layout enough to comment on it.

Brgds,
Viktor

On 2009 Dec 11, at 15:05, Rossine wrote:

> 
> Hello,
> 
> I'm testing the MiniGUI with MSVC 2008 Express, and can generate the exe
> file I need to pass the parameter "-hblnk / FORCE". But when I put it, the
> parameter "/ I." does not work, then it goes to occur this error:
> 
> main.prg(23) Error F0029  Can't open #include file 'Principal.fmg'
> 
> This is a piece of code:
> 
> [CODE]
> /*
> * Contactos
> * (C) 2003 Roberto Lopez <harbourminigui@gmail.com>
> *
> * (C) 2005 Designed by MigSoft with MiniGUI IDE :: Roberto Lopez ::
> */
> 
> #include "minigui.ch"
> 
> Static Nuevo := .F.
> 
> Function Main
> 
>        set delete on
>        set browsesync on
>        set century on
>        set date french
> 
>        Request DBFCDX , DBFFPT
>        Rddsetdefault( "DBFCDX" )
> 
> 	Set Default Icon To "Tutor"
>        Load Window Principal             && Here occurs the error
> 	Activate Window Principal
> 
> Return Nil
> ...
> [ENDCODE]
> 
> I use this command:
> 
> hbmk2 -trace -info -n -gtgui -ic:\minigui\include %1
> c:\minigui\batch\minigui.hbc c:\minigui\batch\minigui.hbm /I. -hblnk /FORCE
> %2 %3 %4 %5 > comp.log
> 
> How do I fix this?
> 
> Best Regards,
> 
> Rossine.
> 
> -- 
> View this message in context: http://old.nabble.com/Erro-with---hblnk--FORCE-tp26744825p26744825.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Dec 11 09:16:07 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Dec 11 09:16:16 2009
Subject: [Harbour] MSVC C mode warnings in init code
In-Reply-To: <20091211140052.GA23890@linux-4bod.home.aster.pl>
References: <4D2A5A48-4A73-4C33-87E8-8F80616A6547@syenar.hu>
	<20091211140052.GA23890@linux-4bod.home.aster.pl>
Message-ID: <EC4AB91B-B72B-4452-BE00-5A290A11F318@syenar.hu>

I've rechecked and I missed a full rebuild most 
probably. Sorry for the false alarm :(

Brgds,
Viktor

On 2009 Dec 11, at 15:00, Przemys?aw Czerpak wrote:

> On Fri, 11 Dec 2009, Szak?ts Viktor wrote:
> 
> Hi,
> 
>> In MSVC C mode (default in hbmk2), I'm getting these warnings:
>> ---
>> cl.exe   -I. -I../../../../../include -nologo -Gs -TC -W4 -wd4127 -Ot2b1 -EHs-c-  -DHB_HAS_PCRE -IF:/work/harbour/harbour/external/pcre -DPCRE_STATIC -DHB_HAS_Z
>> LIB -IF:/work/harbour/harbour/external/zlib -DUNICODE  -Foadir_dyn.obj -DHB_DYNLIB -c adir.c
>> adir.c
>> adir.c(42) : warning C4079: unexpected token 'identifier'
>> adir.c(42) : warning C4081: expected 'newline'; found ')'
>> ---
> 
> It's hard for me to help without MSVC access.
> Is it sth new or has it been existing for quite long time?
> 
> This warning is generated for this code code:
>   HB_FUNC( ADIR )
>   {
>      [...]
> translated by PP to:
>   _declspec( dllexport ) void HB_FUN_ADIR ( void )
>   {
>      [...]
> 
> Maybe MSVC does not like _declspec and __declspec should be used instead?
> Try to change in hbdefs.h[1534]:
>   #elif defined( __WATCOMC__ )
>      #define HB_EXPORT __declspec( dllexport )
> to:
>   #elif defined( __WATCOMC__ ) || defined( _MSC_VER )
>      #define HB_EXPORT __declspec( dllexport )
> and check if it helps.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From qiinfo at ig.com.br  Fri Dec 11 09:20:30 2009
From: qiinfo at ig.com.br (Rossine)
Date: Fri Dec 11 09:20:37 2009
Subject: [Harbour] Erro with  -hblnk /FORCE
In-Reply-To: <7E344A9B-DF8B-4C05-A77A-F10A7F1A69D6@syenar.hu>
References: <26744825.post@talk.nabble.com>
	<7E344A9B-DF8B-4C05-A77A-F10A7F1A69D6@syenar.hu>
Message-ID: <26745054.post@talk.nabble.com>


Hello Viktor,

it works perfectly :)

Many Thank?s,

Rossine.

-- 
View this message in context: http://old.nabble.com/Erro-with---hblnk--FORCE-tp26744825p26745054.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Fri Dec 11 09:24:46 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Dec 11 09:25:15 2009
Subject: [Harbour] Erro with -hblnk /FORCE
In-Reply-To: <26745054.post@talk.nabble.com>
References: <26744825.post@talk.nabble.com>
	<7E344A9B-DF8B-4C05-A77A-F10A7F1A69D6@syenar.hu> 
	<26745054.post@talk.nabble.com>
Message-ID: <609353e70912110624q5b3e2b07ua18664d26d47668@mail.gmail.com>

Can i suggest minigui project switch to svn instead CVS?

2009/12/11 Rossine <qiinfo@ig.com.br>:
>
> Hello Viktor,
>
> it works perfectly :)
>
> Many Thank?s,
>
> Rossine.
>
> --
> View this message in context: http://old.nabble.com/Erro-with---hblnk--FORCE-tp26744825p26745054.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From devlist.harbour at gmail.com  Fri Dec 11 09:47:20 2009
From: devlist.harbour at gmail.com (Patrick Mast)
Date: Fri Dec 11 09:47:27 2009
Subject: [Harbour] Some changes on Harbour Web Page
In-Reply-To: <531d7a750912110334w5f1243dcnebba2da50077e767@mail.gmail.com>
References: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com>
	<6c902cf90912110240y3f6a5b27ub483a67325203a75@mail.gmail.com>
	<860B140B-13FC-4926-99F3-AC4DE00F6BDF@syenar.hu>
	<6c902cf90912110255i2a9fcc62t57c0398f3449f7d3@mail.gmail.com>
	<609353e70912110327x3df08231p7b313af7d67fe5f6@mail.gmail.com>
	<531d7a750912110334w5f1243dcnebba2da50077e767@mail.gmail.com>
Message-ID: <6c902cf90912110647r4109dd11gcf870fbf58cf44f3@mail.gmail.com>

Hello Vailton,

> In reality there were not "several times" but the truth is that it was
> "only once" ... and since then the site has not been updated. For this
> reason alone there is still no reference to your name there ... but
> for the next update must already be included. So much as I said at the
> beginning of this thread, I am preparing to change some details in the
> site ... then it was already to be included anyway.

Ok, thank you! ;-)

Patrick
From mbelgrano at deltain.it  Fri Dec 11 09:55:04 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Dec 11 09:55:32 2009
Subject: [Harbour] Some changes on Harbour Web Page
In-Reply-To: <6c902cf90912110647r4109dd11gcf870fbf58cf44f3@mail.gmail.com>
References: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com> 
	<6c902cf90912110240y3f6a5b27ub483a67325203a75@mail.gmail.com> 
	<860B140B-13FC-4926-99F3-AC4DE00F6BDF@syenar.hu>
	<6c902cf90912110255i2a9fcc62t57c0398f3449f7d3@mail.gmail.com> 
	<609353e70912110327x3df08231p7b313af7d67fe5f6@mail.gmail.com> 
	<531d7a750912110334w5f1243dcnebba2da50077e767@mail.gmail.com> 
	<6c902cf90912110647r4109dd11gcf870fbf58cf44f3@mail.gmail.com>
Message-ID: <609353e70912110655w3293f851lce418cf57942205a@mail.gmail.com>

Patrik
harbour and xharbour relationship are a bit consumed
so i pray you evaluate works of made good relationship in future
This can be a starting point
so i invite you share your point of view here
we need search a common reply to common problem



2009/12/11 Patrick Mast <devlist.harbour@gmail.com>:
> Hello Vailton,
>
>> In reality there were not "several times" but the truth is that it was
>> "only once" ... and since then the site has not been updated. For this
>> reason alone there is still no reference to your name there ... but
>> for the next update must already be included. So much as I said at the
>> beginning of this thread, I am preparing to change some details in the
>> site ... then it was already to be included anyway.
>
> Ok, thank you! ;-)
>
> Patrick
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From devlist.harbour at gmail.com  Fri Dec 11 10:18:03 2009
From: devlist.harbour at gmail.com (Patrick Mast)
Date: Fri Dec 11 10:18:11 2009
Subject: [Harbour] Some changes on Harbour Web Page
In-Reply-To: <609353e70912110655w3293f851lce418cf57942205a@mail.gmail.com>
References: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com>
	<6c902cf90912110240y3f6a5b27ub483a67325203a75@mail.gmail.com>
	<860B140B-13FC-4926-99F3-AC4DE00F6BDF@syenar.hu>
	<6c902cf90912110255i2a9fcc62t57c0398f3449f7d3@mail.gmail.com>
	<609353e70912110327x3df08231p7b313af7d67fe5f6@mail.gmail.com>
	<531d7a750912110334w5f1243dcnebba2da50077e767@mail.gmail.com>
	<6c902cf90912110647r4109dd11gcf870fbf58cf44f3@mail.gmail.com>
	<609353e70912110655w3293f851lce418cf57942205a@mail.gmail.com>
Message-ID: <6c902cf90912110718x1af876d6h5de0752e10903f93@mail.gmail.com>

Hey Massimo,

> harbour and xharbour relationship are a bit consumed
> so i pray you evaluate works of made good relationship in future
> This can be a starting point
> so i invite you share your point of view here
> we need search a common reply to common problem

I'm always prepared to listen to everyone. I'm not sure if you wanted
to ask me something with this email Massimo. Please keep in mind that
I never have any bad intentions. I come as a friend. ;-)

Patrick
From mbelgrano at deltain.it  Fri Dec 11 10:30:11 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Dec 11 10:30:42 2009
Subject: [Harbour] Some changes on Harbour Web Page
In-Reply-To: <6c902cf90912110718x1af876d6h5de0752e10903f93@mail.gmail.com>
References: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com> 
	<6c902cf90912110240y3f6a5b27ub483a67325203a75@mail.gmail.com> 
	<860B140B-13FC-4926-99F3-AC4DE00F6BDF@syenar.hu>
	<6c902cf90912110255i2a9fcc62t57c0398f3449f7d3@mail.gmail.com> 
	<609353e70912110327x3df08231p7b313af7d67fe5f6@mail.gmail.com> 
	<531d7a750912110334w5f1243dcnebba2da50077e767@mail.gmail.com> 
	<6c902cf90912110647r4109dd11gcf870fbf58cf44f3@mail.gmail.com> 
	<609353e70912110655w3293f851lce418cf57942205a@mail.gmail.com> 
	<6c902cf90912110718x1af876d6h5de0752e10903f93@mail.gmail.com>
Message-ID: <609353e70912110730t684dab65h84b7cb392bb7f0a4@mail.gmail.com>

Yes sure
I invite to frequent harbour mailing list
post your poiv
when you can spare times

2009/12/11 Patrick Mast <devlist.harbour@gmail.com>:
> Hey Massimo,
>
>> harbour and xharbour relationship are a bit consumed
>> so i pray you evaluate works of made good relationship in future
>> This can be a starting point
>> so i invite you share your point of view here
>> we need search a common reply to common problem
>
> I'm always prepared to listen to everyone. I'm not sure if you wanted
> to ask me something with this email Massimo. Please keep in mind that
> I never have any bad intentions. I come as a friend. ;-)
>
> Patrick



-- 
Massimo Belgrano
From devlist.harbour at gmail.com  Fri Dec 11 10:38:07 2009
From: devlist.harbour at gmail.com (Patrick Mast)
Date: Fri Dec 11 10:38:16 2009
Subject: [Harbour] Some changes on Harbour Web Page
In-Reply-To: <609353e70912110730t684dab65h84b7cb392bb7f0a4@mail.gmail.com>
References: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com>
	<6c902cf90912110240y3f6a5b27ub483a67325203a75@mail.gmail.com>
	<860B140B-13FC-4926-99F3-AC4DE00F6BDF@syenar.hu>
	<6c902cf90912110255i2a9fcc62t57c0398f3449f7d3@mail.gmail.com>
	<609353e70912110327x3df08231p7b313af7d67fe5f6@mail.gmail.com>
	<531d7a750912110334w5f1243dcnebba2da50077e767@mail.gmail.com>
	<6c902cf90912110647r4109dd11gcf870fbf58cf44f3@mail.gmail.com>
	<609353e70912110655w3293f851lce418cf57942205a@mail.gmail.com>
	<6c902cf90912110718x1af876d6h5de0752e10903f93@mail.gmail.com>
	<609353e70912110730t684dab65h84b7cb392bb7f0a4@mail.gmail.com>
Message-ID: <6c902cf90912110738t14f7d0e2xc3710521ae8bb0f1@mail.gmail.com>

Massimo,

> Yes sure
> I invite to frequent harbour mailing list
> post your poiv
> when you can spare times

I'm interested in all [x]Harbour! ;-)

Patrick
From harbour.01 at syenar.hu  Fri Dec 11 10:38:08 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Dec 11 10:38:21 2009
Subject: [Harbour] HB_PARSTRLEN()
Message-ID: <69B8FC11-FFB3-47A6-9502-4C9FC83F09DD@syenar.hu>

Hi Przemek,

Is it possible to have above macro or function?

hb_parclen() usage needs to be cleaned and prepared 
for case when Harbour level string is already in utf8 
(or utf16) CP.

What do you think?

Brgds,
Viktor

From mbelgrano at deltain.it  Fri Dec 11 10:49:33 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Dec 11 10:57:52 2009
Subject: [Harbour] Wich way for Harbour GUI ?
Message-ID: <609353e70912110749g6a7f60a1s3d6de27a1d0083d4@mail.gmail.com>

I have found very interesting The works around QT from Pritpal
hbqt  a portable gui work on linux,windows,macos with good look and feel
hbxhp  xbase ++ part class compatibility to qt
hbide a visual ide made in harbour and inspired by xmate that explain
how mutch powerfull is qt

I also interested to see vianemo with promised syntax interchange

I hope that in future visual fox pro will found a way in [x]harbour for evolve
------------------

2009/12/11 Patrick Mast <devlist.harbour@gmail.com>:
> Massimo,
>
>> Yes sure
>> I invite to frequent harbour mailing list
>> post your poiv
>> when you can spare times
>
> I'm interested in all [x]Harbour! ;-)
>
> Patrick
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From devlist.harbour at gmail.com  Fri Dec 11 11:05:57 2009
From: devlist.harbour at gmail.com (Patrick Mast)
Date: Fri Dec 11 11:06:07 2009
Subject: [Harbour] Wich way for Harbour GUI ?
In-Reply-To: <609353e70912110749g6a7f60a1s3d6de27a1d0083d4@mail.gmail.com>
References: <609353e70912110749g6a7f60a1s3d6de27a1d0083d4@mail.gmail.com>
Message-ID: <6c902cf90912110805u1adb6851t16a47573b0822f42@mail.gmail.com>

Hey Massimo,

I'm not here to advertise, but since you asked.. :)
Please look at Visual xHarbour at http://www.VisualxHarbour.com
This is my idea of how an IDE should look like.

Patrick

On Fri, Dec 11, 2009 at 4:49 PM, Massimo Belgrano <mbelgrano@deltain.it> wrote:
> I have found very interesting The works around QT from Pritpal
> hbqt ?a portable gui work on linux,windows,macos with good look and feel
> hbxhp ?xbase ++ part class compatibility to qt
> hbide a visual ide made in harbour and inspired by xmate that explain
> how mutch powerfull is qt
>
> I also interested to see vianemo with promised syntax interchange
>
> I hope that in future visual fox pro will found a way in [x]harbour for evolve
> ------------------
>
> 2009/12/11 Patrick Mast <devlist.harbour@gmail.com>:
>> Massimo,
>>
>>> Yes sure
>>> I invite to frequent harbour mailing list
>>> post your poiv
>>> when you can spare times
>>
>> I'm interested in all [x]Harbour! ;-)
>>
>> Patrick
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From dbtopas at dbtopas.lt  Fri Dec 11 11:11:57 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Dec 11 11:09:48 2009
Subject: [Harbour] Wich way for Harbour GUI ?
In-Reply-To: <609353e70912110749g6a7f60a1s3d6de27a1d0083d4@mail.gmail.com>
References: <609353e70912110749g6a7f60a1s3d6de27a1d0083d4@mail.gmail.com>
Message-ID: <4B226F4D.1030401@dbtopas.lt>

Hi, Massimo,


Massimo Belgrano wrote:
> I have found very interesting The works around QT from Pritpal
> hbqt  a portable gui work on linux,windows,macos with good look and feel
> hbxhp  xbase ++ part class compatibility to qt
> hbide a visual ide made in harbour and inspired by xmate that explain
> how mutch powerfull is qt

I'm sorry, but I really do not understand your letters. Have you found 
these works of Pritpal TODAY, and want to share your discovery with a 
community? I think you know these contributions for some time and it is 
not new thing for you. What is idea of the text above?


>> Massimo,
>>
>>> Yes sure
>>> I invite to frequent harbour mailing list
>>> post your poiv
>>> when you can spare times
>>
>> I'm interested in all [x]Harbour! ;-)
>>
>> Patrick

Is hbqt, hbxhp, etc. related to your conversation with Patrick? What is 
the reason you citation here?


Regards,
Mindaugas
From mbelgrano at deltain.it  Fri Dec 11 11:12:10 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Dec 11 11:12:39 2009
Subject: [Harbour] Wich way for Harbour GUI ?
In-Reply-To: <4B226F4D.1030401@dbtopas.lt>
References: <609353e70912110749g6a7f60a1s3d6de27a1d0083d4@mail.gmail.com> 
	<4B226F4D.1030401@dbtopas.lt>
Message-ID: <609353e70912110812x15c8c140yce29e200708d2570@mail.gmail.com>

Follow  my conversation with Patrick
sorry for changed  title so appear as a new conversation

2009/12/11 Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>:
>>>
>>> Patrick
>
> Is hbqt, hbxhp, etc. related to your conversation with Patrick? What is the
> reason you citation here?
>



-- 
Massimo Belgrano
From vailtom at gmail.com  Fri Dec 11 11:12:17 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Fri Dec 11 11:13:07 2009
Subject: [Harbour] Wich way for Harbour GUI ?
In-Reply-To: <6c902cf90912110805u1adb6851t16a47573b0822f42@mail.gmail.com>
References: <609353e70912110749g6a7f60a1s3d6de27a1d0083d4@mail.gmail.com> 
	<6c902cf90912110805u1adb6851t16a47573b0822f42@mail.gmail.com>
Message-ID: <531d7a750912110812q4ca6735ax29b147df19763ea6@mail.gmail.com>

I thought I was taking too long to come any such comments...

=S
From amigosam at adinet.com.uy  Fri Dec 11 11:15:43 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Fri Dec 11 11:16:22 2009
Subject: [Harbour] Re: Some changes on Harbour Web Page
In-Reply-To: <6c902cf90912110718x1af876d6h5de0752e10903f93@mail.gmail.com>
References: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com>	<6c902cf90912110240y3f6a5b27ub483a67325203a75@mail.gmail.com>	<860B140B-13FC-4926-99F3-AC4DE00F6BDF@syenar.hu>	<6c902cf90912110255i2a9fcc62t57c0398f3449f7d3@mail.gmail.com>	<609353e70912110327x3df08231p7b313af7d67fe5f6@mail.gmail.com>	<531d7a750912110334w5f1243dcnebba2da50077e767@mail.gmail.com>	<6c902cf90912110647r4109dd11gcf870fbf58cf44f3@mail.gmail.com>	<609353e70912110655w3293f851lce418cf57942205a@mail.gmail.com>
	<6c902cf90912110718x1af876d6h5de0752e10903f93@mail.gmail.com>
Message-ID: <hftr7a$qjm$1@ger.gmane.org>

Patrick Mast escribi?:
> Hey Massimo,
> 
>> harbour and xharbour relationship are a bit consumed
>> so i pray you evaluate works of made good relationship in future
>> This can be a starting point
>> so i invite you share your point of view here
>> we need search a common reply to common problem
> 
> I'm always prepared to listen to everyone. I'm not sure if you wanted
> to ask me something with this email Massimo. Please keep in mind that
> I never have any bad intentions. I come as a friend. ;-)
> 
> Patrick

The only friend  you've ever had is money.
Go troll elsewhere.

From harbour.01 at syenar.hu  Fri Dec 11 11:26:32 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Dec 11 11:26:42 2009
Subject: [Harbour] HB_ARRAYSETSTR() and NULL
Message-ID: <23722AD3-A6EA-403F-8343-EED2D11D2426@syenar.hu>

Hi Przemek,

Current code allows NULL parameters in hb_arraySetC(), 
so it would be nice if new macro would also support it, 
and would place an empty string.

Maybe final version of these macros would have done it, 
but anyway, just to let you know.

Brgds,
Viktor

From mbelgrano at deltain.it  Fri Dec 11 11:32:05 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Dec 11 11:32:35 2009
Subject: [Harbour] Wich way for Harbour GUI ?
In-Reply-To: <6c902cf90912110805u1adb6851t16a47573b0822f42@mail.gmail.com>
References: <609353e70912110749g6a7f60a1s3d6de27a1d0083d4@mail.gmail.com> 
	<6c902cf90912110805u1adb6851t16a47573b0822f42@mail.gmail.com>
Message-ID: <609353e70912110832v33ddd45avf0baf4e182063d73@mail.gmail.com>

I have tryed visual xharbour and not are in accord with you about ide but
instead Can you share your idea of modern GUI for desktop application or web


2009/12/11 Patrick Mast <devlist.harbour@gmail.com>:
> Hey Massimo,
>
> I'm not here to advertise, but since you asked.. :)
> Please look at Visual xHarbour at http://www.VisualxHarbour.com
> This is my idea of how an IDE should look like.
>
> Patrick
>
> On Fri, Dec 11, 2009 at 4:49 PM, Massimo Belgrano <mbelgrano@deltain.it> wrote:
>> I have found very interesting The works around QT from Pritpal
>> hbqt ?a portable gui work on linux,windows,macos with good look and feel
>> hbxhp ?xbase ++ part class compatibility to qt
>> hbide a visual ide made in harbour and inspired by xmate that explain
>> how mutch powerfull is qt
>>
>> I also interested to see vianemo with promised syntax interchange
>>
>> I hope that in future visual fox pro will found a way in [x]harbour for evolve
>> ------------------
>>
>> 2009/12/11 Patrick Mast <devlist.harbour@gmail.com>:
>>> Massimo,
>>>
>>>> Yes sure
>>>> I invite to frequent harbour mailing list
>>>> post your poiv
>>>> when you can spare times
>>>
>>> I'm interested in all [x]Harbour! ;-)
>>>
>>> Patrick
>>> _______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>>
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Iscritto all'albo dei CTU presso il Tribunale di Novara per materia Informatica
Delta Informatica S.r.l. (http://www.deltain.it/) (+39 0321 455962)
Analisi e sviluppo software per Lan e Web -  Consulenza informatica - Formazione
From devlist.harbour at gmail.com  Fri Dec 11 11:32:35 2009
From: devlist.harbour at gmail.com (Patrick Mast)
Date: Fri Dec 11 11:32:46 2009
Subject: [Harbour] Re: Some changes on Harbour Web Page
In-Reply-To: <hftr7a$qjm$1@ger.gmane.org>
References: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com>
	<6c902cf90912110240y3f6a5b27ub483a67325203a75@mail.gmail.com>
	<860B140B-13FC-4926-99F3-AC4DE00F6BDF@syenar.hu>
	<6c902cf90912110255i2a9fcc62t57c0398f3449f7d3@mail.gmail.com>
	<609353e70912110327x3df08231p7b313af7d67fe5f6@mail.gmail.com>
	<531d7a750912110334w5f1243dcnebba2da50077e767@mail.gmail.com>
	<6c902cf90912110647r4109dd11gcf870fbf58cf44f3@mail.gmail.com>
	<609353e70912110655w3293f851lce418cf57942205a@mail.gmail.com>
	<6c902cf90912110718x1af876d6h5de0752e10903f93@mail.gmail.com>
	<hftr7a$qjm$1@ger.gmane.org>
Message-ID: <6c902cf90912110832o322fd4b8qb0c6a3d378ed62f4@mail.gmail.com>

Hey Angel,

> The only friend ?you've ever had is money.
> Go troll elsewhere.

Sorry you feel that way Angel. It seems you do not know me enough. ;-)
But I don't want to get involved in these kind of discussions. Lets
keep it friendly. ;-)

Patrick
From devlist.harbour at gmail.com  Fri Dec 11 11:35:48 2009
From: devlist.harbour at gmail.com (Patrick Mast)
Date: Fri Dec 11 11:35:57 2009
Subject: [Harbour] Wich way for Harbour GUI ?
In-Reply-To: <609353e70912110832v33ddd45avf0baf4e182063d73@mail.gmail.com>
References: <609353e70912110749g6a7f60a1s3d6de27a1d0083d4@mail.gmail.com>
	<6c902cf90912110805u1adb6851t16a47573b0822f42@mail.gmail.com>
	<609353e70912110832v33ddd45avf0baf4e182063d73@mail.gmail.com>
Message-ID: <6c902cf90912110835t2b556efdu8435eb46b9b17a70@mail.gmail.com>

Hey Massimo,

> I have tryed visual xharbour and not are in accord with you about ide
Ok, I respect that. :)

> but  instead Can you share your idea of modern GUI for desktop application or web
Well, my idea of a modern GUI *IS* Visual xharbour as I'm developing
it together with Augusto.

For web development I tend to go with Ajax.

Patrick
From mbelgrano at deltain.it  Fri Dec 11 11:35:37 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Dec 11 11:36:06 2009
Subject: [Harbour] Re: Some changes on Harbour Web Page
In-Reply-To: <hftr7a$qjm$1@ger.gmane.org>
References: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com> 
	<6c902cf90912110240y3f6a5b27ub483a67325203a75@mail.gmail.com> 
	<860B140B-13FC-4926-99F3-AC4DE00F6BDF@syenar.hu>
	<6c902cf90912110255i2a9fcc62t57c0398f3449f7d3@mail.gmail.com> 
	<609353e70912110327x3df08231p7b313af7d67fe5f6@mail.gmail.com> 
	<531d7a750912110334w5f1243dcnebba2da50077e767@mail.gmail.com> 
	<6c902cf90912110647r4109dd11gcf870fbf58cf44f3@mail.gmail.com> 
	<609353e70912110655w3293f851lce418cf57942205a@mail.gmail.com> 
	<6c902cf90912110718x1af876d6h5de0752e10903f93@mail.gmail.com> 
	<hftr7a$qjm$1@ger.gmane.org>
Message-ID: <609353e70912110835r4cae2f0bvb61a0bce4a499f16@mail.gmail.com>

No angel is not true
But here we haven't exclusion for peole friend of money
Everybody with or without money is always welcome

2009/12/11 Angel Pais <amigosam@adinet.com.uy>:
> Patrick Mast escribi?:
>
> The only friend ?you've ever had is money.
> Go troll elsewhere.


-- 
Massimo Belgrano
From mbelgrano at deltain.it  Fri Dec 11 12:13:35 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Dec 11 12:14:02 2009
Subject: [Harbour] Wich way for Harbour GUI ?
In-Reply-To: <6c902cf90912110835t2b556efdu8435eb46b9b17a70@mail.gmail.com>
References: <609353e70912110749g6a7f60a1s3d6de27a1d0083d4@mail.gmail.com> 
	<6c902cf90912110805u1adb6851t16a47573b0822f42@mail.gmail.com> 
	<609353e70912110832v33ddd45avf0baf4e182063d73@mail.gmail.com> 
	<6c902cf90912110835t2b556efdu8435eb46b9b17a70@mail.gmail.com>
Message-ID: <609353e70912110913m1ad4307dpf43507ea723df155@mail.gmail.com>

Sqlrdd will be compatible also for harbour

Ajax. with [x]harbour? can se same source to undestrand
IMO Web developement is under costruction, the battle is on frameworks
 In ms tecnologies windows Form is in end of life and will be replaced
by WPF
Qt seem have plan a Hibrid version of framework for QT

2009/12/11 Patrick Mast <devlist.harbour@gmail.com>:
> Hey Massimo,
>
>> I have tryed visual xharbour and not are in accord with you about ide
> Ok, I respect that. :)
>
>> but ?instead Can you share your idea of modern GUI for desktop application or web
> Well, my idea of a modern GUI *IS* Visual xharbour as I'm developing
> it together with Augusto.
>
> For web development I tend to go with Ajax.
>
> Patrick
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Fri Dec 11 12:27:42 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec 11 12:27:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13211] trunk/harbour
Message-ID: <E1NJ9HK-0003Bh-Kb@d5vjzd1.ch3.sourceforge.com>

Revision: 13211
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13211&view=rev
Author:   vszakats
Date:     2009-12-11 17:27:41 +0000 (Fri, 11 Dec 2009)

Log Message:
-----------
2009-12-11 18:17 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbwinuni.h
    + Added HB_ARRAYSETSTR*(). Based on Przemek's post.

  * contrib/hbwin/wce_simc.c
  * contrib/hbwin/wce_smsc.c
  * contrib/hbwin/win_prn1.c
  * contrib/hbwin/win_prn2.c
  * contrib/hbwin/win_regc.c
    + Using new UNICODE parameter passing macros instead of HB_TCHAR*() ones.
    * Minor rework WIN_TEXTOUT() and WIN_GETTEXTSIZE() to not use hb_parclen() 
      and protect some more against wrong length parameter.
    ; TOFIX: HB_ARRAYSETSTR() usage crashes (tested in non-UNICODE with testprn3)
             I didn't want to undo the whole thing, but can't find the err either.
    ; TOFIX: hb_parclen() usage.
    ; TOFIX: HB_ARRAYSETSTR() with NULL string parameter.
    ; TOFIX: HB_PARSTRDEF() to really default to empty string for non-string params.
    ; TODO: Remaining HB_TCHAR_*() usages.
    ; TODO: Peer-review what I did.

  * contrib/hbwin/wapi_winbase.c
    ! Fixed for WinCE after recent addition of new wrappers.
      This means exclusion of WAPI_WAITFORSINGLEOBJECTEX() and 
      WAPI_WAITFORMULTIPLEOBJECTSEX() for this platform.
    ! Minor fix in size of allocated buffer in WAPI_FORMATMESSAGE().
      (buffer was too large in non-UNICODE).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_winbase.c
    trunk/harbour/contrib/hbwin/wce_simc.c
    trunk/harbour/contrib/hbwin/wce_smsc.c
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/hbwin/win_regc.c
    trunk/harbour/include/hbwinuni.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Fri Dec 11 13:25:00 2009
From: toninhofwi at yahoo.com.br (ToninhoFWi)
Date: Fri Dec 11 13:25:01 2009
Subject: [Harbour] Adding MAPI to hbwin
Message-ID: <3f35i5lfled9o07fats7vq257euaoupsl0@4ax.com>

Hi.

I have a working MAPI for Harbour. Can I add it to hbwin ? 

Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 

From vszakats at users.sourceforge.net  Fri Dec 11 13:43:43 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec 11 13:43:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13212] trunk/harbour
Message-ID: <E1NJASt-0005ts-RA@bj8yhf1.ch3.sourceforge.com>

Revision: 13212
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13212&view=rev
Author:   vszakats
Date:     2009-12-11 18:43:42 +0000 (Fri, 11 Dec 2009)

Log Message:
-----------
2009-12-11 19:41 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/Makefile
  * contrib/hbqt/detect.mk
  + contrib/hbqt/moc.mk
  * contrib/hbqt/hbqts/Makefile
  * contrib/hbqt/qtgui/qtguis/Makefile
  * contrib/hbqt/qtgui/Makefile
  * contrib/hbqt/qtcore/qtcores/Makefile
  * contrib/hbqt/qtcore/Makefile
  * contrib/hbqt/qtnetwork/qtnetworks/Makefile
  * contrib/hbqt/qtnetwork/Makefile
    + Moved 'moc' build logic to separate file.
    + Added support for MOC_HEADERS in all sub-libs.
      This allows to avoid hacks to place every custom 
      created component in central lib. (It probably allows 
      to avoid central lib altogether.)
    ! Fixed broken static build after recent changes.
      (I've readded central filelist.mk to avoid 
      redundancy, but the file isn't an automatically 
      generated one anymore)
    % Optimized build to not provide all subsystem header 
      dirs for each QT sub-libs, only those which are needed.
      Now QtCore header dir is passed to all components, 
      but QtGui and QtNetwork is passed only to these 
      subcomponents.
      Central hbqt lib gets all dirs, but hopefully this 
      will be cleaned eventually.
    % Cleaned to not use /Qt include dir. It's apparently 
      not needed.

  * contrib/hbqt/qth/QObject.qth
  * contrib/hbqt/qtcore/QObject.cpp
    ! Core component was referring to a GUI one, and hbqt_par_QWidget() 
      was used to retieve a QObject inside QObject wrappers.
      Please fix me if it was intentional, but it didn't look right and 
      came out after cleaning header dir usage.

  * contrib/hbide/hbide.hbp
    + Added MSVC link switched sent by Andi to make QT 4.6.0 
      libs to default Harbour build.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.hbp
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/detect.mk
    trunk/harbour/contrib/hbqt/hbqts/Makefile
    trunk/harbour/contrib/hbqt/qtcore/Makefile
    trunk/harbour/contrib/hbqt/qtcore/QObject.cpp
    trunk/harbour/contrib/hbqt/qtcore/qtcores/Makefile
    trunk/harbour/contrib/hbqt/qtgui/Makefile
    trunk/harbour/contrib/hbqt/qtgui/qtguis/Makefile
    trunk/harbour/contrib/hbqt/qth/QObject.qth
    trunk/harbour/contrib/hbqt/qtnetwork/Makefile
    trunk/harbour/contrib/hbqt/qtnetwork/qtnetworks/Makefile

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/moc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Dec 11 13:44:40 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Dec 11 13:44:47 2009
Subject: [Harbour] HB_PARSTRLEN()
In-Reply-To: <69B8FC11-FFB3-47A6-9502-4C9FC83F09DD@syenar.hu>
References: <69B8FC11-FFB3-47A6-9502-4C9FC83F09DD@syenar.hu>
Message-ID: <20091211184440.GA27736@linux-4bod.home.aster.pl>

On Fri, 11 Dec 2009, Szak?ts Viktor wrote:

Hi,

> Is it possible to have above macro or function?
> hb_parclen() usage needs to be cleaned and prepared 
> for case when Harbour level string is already in utf8 
> (or utf16) CP.
> What do you think?

We can add it but looking at current code I do not find any place
where it's really necessary. Seems that using HB_PARSTR() with 3-rd
argument in all cases is more efficient so maybe we should not add
it (at least now) to at least indirectly force code cleanup.

best regards,
Przemek
From druzus at users.sourceforge.net  Fri Dec 11 13:51:55 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Dec 11 13:52:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13213] trunk/harbour
Message-ID: <E1NJAap-0002pD-P3@3kljzd1.ch3.sourceforge.com>

Revision: 13213
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13213&view=rev
Author:   druzus
Date:     2009-12-11 18:51:54 +0000 (Fri, 11 Dec 2009)

Log Message:
-----------
2009-12-11 19:51 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbwin/wapi_winbase.c
    ! fixed casting

  * harbour/contrib/hbwin/wce_simc.c
    * use Harbour API functions to change items passed by reference

  * harbour/contrib/hbwin/win_prn3.c
    % eliminated unnecessary hb_parclen() call

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_winbase.c
    trunk/harbour/contrib/hbwin/wce_simc.c
    trunk/harbour/contrib/hbwin/win_prn3.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Dec 11 13:53:06 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Dec 11 13:53:16 2009
Subject: [Harbour] HB_PARSTRLEN()
In-Reply-To: <20091211184440.GA27736@linux-4bod.home.aster.pl>
References: <69B8FC11-FFB3-47A6-9502-4C9FC83F09DD@syenar.hu>
	<20091211184440.GA27736@linux-4bod.home.aster.pl>
Message-ID: <076236D9-BD2A-4EED-AEAF-26B6F65A4AF2@syenar.hu>

>> Is it possible to have above macro or function?
>> hb_parclen() usage needs to be cleaned and prepared 
>> for case when Harbour level string is already in utf8 
>> (or utf16) CP.
>> What do you think?
> 
> We can add it but looking at current code I do not find any place
> where it's really necessary. Seems that using HB_PARSTR() with 3-rd
> argument in all cases is more efficient so maybe we should not add
> it (at least now) to at least indirectly force code cleanup.

Okay, I agree.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Fri Dec 11 13:59:22 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec 11 13:59:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13214] trunk/harbour
Message-ID: <E1NJAi2-0006Cr-58@bj8yhf1.ch3.sourceforge.com>

Revision: 13214
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13214&view=rev
Author:   vszakats
Date:     2009-12-11 18:59:21 +0000 (Fri, 11 Dec 2009)

Log Message:
-----------
2009-12-11 19:56 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/wce_smsc.c
    + Eliminated hb_parclen() usage.

  * contrib/hbwin/win_prn3.c
    ! Fixed typos.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wce_smsc.c
    trunk/harbour/contrib/hbwin/win_prn3.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Dec 11 14:22:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec 11 14:22:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13215] trunk/harbour
Message-ID: <E1NJB3w-00052X-FW@d5vjzd1.ch3.sourceforge.com>

Revision: 13215
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13215&view=rev
Author:   vszakats
Date:     2009-12-11 19:21:56 +0000 (Fri, 11 Dec 2009)

Log Message:
-----------
2009-12-11 20:16 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/wapi_winbase.c
    * Eliminated hb_parclen() call in WAPI_FORMATMESSAGE() function.

  * contrib/hbwin/win_regc.c
    * WIN_REGSETVALUEEX(): Adjusted casting to not drop const.
    ! WIN_REGSETVALUEEX(): Added support for UNICODE builds when 
      string types (non-binary data) are passed.

  * contrib/hbwin/tests/testreg.prg
    + Extended with basic test for above.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/tests/testreg.prg
    trunk/harbour/contrib/hbwin/wapi_winbase.c
    trunk/harbour/contrib/hbwin/win_regc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Dec 11 14:25:49 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec 11 14:25:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13216] trunk/harbour
Message-ID: <E1NJB7d-00056R-LB@d5vjzd1.ch3.sourceforge.com>

Revision: 13216
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13216&view=rev
Author:   vszakats
Date:     2009-12-11 19:25:45 +0000 (Fri, 11 Dec 2009)

Log Message:
-----------
2009-12-11 20:25 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_regc.c
    ! WIN_REGSETVALUEEX(): Off by one bug fixed in prev commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_regc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Fri Dec 11 14:33:35 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Dec 11 14:34:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13212] trunk/harbour
In-Reply-To: <E1NJASt-0005ts-RA@bj8yhf1.ch3.sourceforge.com>
References: <E1NJASt-0005ts-RA@bj8yhf1.ch3.sourceforge.com>
Message-ID: <609353e70912111133j240eb588q9f51a340506e8415@mail.gmail.com>

@set PATH=C:\devl\MinGWtd2\bin;%PATH%
SET HB_COMPILER=

makefile:18: ../../contrib/hbqt/filelist.mk: No such file or directory
win-make[2]: *** No rule to make target `../../contrib/hbqt/filelist.mk'.  Stop.

win-make[1]: *** [hbqt.clean] Error 2
win-make: *** [contrib.clean] Error 2


2009/12/11  <vszakats@users.sourceforge.net>:
> Revision: 13212
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13212&view=rev
> Author: ? vszakats
> Date: ? ? 2009-12-11 18:43:42 +0000 (Fri, 11 Dec 2009)
>
> Log Message:
> -----------
> 2009-12-11 19:41 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
> ?* contrib/hbqt/Makefile
> ?* contrib/hbqt/detect.mk
> ?+ contrib/hbqt/moc.mk
> ?* contrib/hbqt/hbqts/Makefile
> ?* contrib/hbqt/qtgui/qtguis/Makefile
> ?* contrib/hbqt/qtgui/Makefile
> ?* contrib/hbqt/qtcore/qtcores/Makefile
> ?* contrib/hbqt/qtcore/Makefile
> ?* contrib/hbqt/qtnetwork/qtnetworks/Makefile
> ?* contrib/hbqt/qtnetwork/Makefile
> ? ?+ Moved 'moc' build logic to separate file.
> ? ?+ Added support for MOC_HEADERS in all sub-libs.
> ? ? ?This allows to avoid hacks to place every custom
> ? ? ?created component in central lib. (It probably allows
> ? ? ?to avoid central lib altogether.)
> ? ?! Fixed broken static build after recent changes.
> ? ? ?(I've readded central filelist.mk to avoid
> ? ? ?redundancy, but the file isn't an automatically
> ? ? ?generated one anymore)
> ? ?% Optimized build to not provide all subsystem header
> ? ? ?dirs for each QT sub-libs, only those which are needed.
> ? ? ?Now QtCore header dir is passed to all components,
> ? ? ?but QtGui and QtNetwork is passed only to these
> ? ? ?subcomponents.
> ? ? ?Central hbqt lib gets all dirs, but hopefully this
> ? ? ?will be cleaned eventually.
> ? ?% Cleaned to not use /Qt include dir. It's apparently
> ? ? ?not needed.
>
> ?* contrib/hbqt/qth/QObject.qth
> ?* contrib/hbqt/qtcore/QObject.cpp
> ? ?! Core component was referring to a GUI one, and hbqt_par_QWidget()
> ? ? ?was used to retieve a QObject inside QObject wrappers.
> ? ? ?Please fix me if it was intentional, but it didn't look right and
> ? ? ?came out after cleaning header dir usage.
>
> ?* contrib/hbide/hbide.hbp
> ? ?+ Added MSVC link switched sent by Andi to make QT 4.6.0
> ? ? ?libs to default Harbour build.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/contrib/hbide/hbide.hbp
> ? ?trunk/harbour/contrib/hbqt/Makefile
> ? ?trunk/harbour/contrib/hbqt/detect.mk
> ? ?trunk/harbour/contrib/hbqt/hbqts/Makefile
> ? ?trunk/harbour/contrib/hbqt/qtcore/Makefile
> ? ?trunk/harbour/contrib/hbqt/qtcore/QObject.cpp
> ? ?trunk/harbour/contrib/hbqt/qtcore/qtcores/Makefile
> ? ?trunk/harbour/contrib/hbqt/qtgui/Makefile
> ? ?trunk/harbour/contrib/hbqt/qtgui/qtguis/Makefile
> ? ?trunk/harbour/contrib/hbqt/qth/QObject.qth
> ? ?trunk/harbour/contrib/hbqt/qtnetwork/Makefile
> ? ?trunk/harbour/contrib/hbqt/qtnetwork/qtnetworks/Makefile
>
> Added Paths:
> -----------
> ? ?trunk/harbour/contrib/hbqt/moc.mk
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at users.sourceforge.net  Fri Dec 11 14:42:45 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Dec 11 14:42:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13217] trunk/harbour
Message-ID: <E1NJBO1-00038s-MZ@dn4whf1.ch3.sourceforge.com>

Revision: 13217
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13217&view=rev
Author:   druzus
Date:     2009-12-11 19:42:40 +0000 (Fri, 11 Dec 2009)

Log Message:
-----------
2009-12-11 20:42 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/strapi.c
  * harbour/include/hbapistr.h
    + added new functions to operate on Harbour wide character strings:
         ULONG hb_wstrlen( const HB_WCHAR * szText );
         HB_WCHAR * hb_wstrdup( const HB_WCHAR * szText );
         HB_WCHAR * hb_wstrndup( const HB_WCHAR * szText, ULONG ulLen );
         int hb_wstrcmp( const HB_WCHAR * s1, const HB_WCHAR * s2 );
         int hb_wstrncmp( const HB_WCHAR * s1,
                          const HB_WCHAR * s2, ULONG count );
    + added new functions to convert NULL pointers to empty strings:
         const char * hb_strnull( const char * str );
         const HB_WCHAR * hb_wstrnull( const HB_WCHAR * str );
    + added new functions to convert string buffer returned by Harbour
      string functions to writable state:
         char * hb_strunshare( void ** phStr,
                               const char * pStr, ULONG ulLen );
         HB_WCHAR * hb_wstrunshare( void ** phStr,
                                    const HB_WCHAR * pStr, ULONG ulLen );
  * harbour/include/hbwinuni.h
    ! fixed HB_PARSTRDEF() to return empty string instead of NULL
    ! fixed HB_ARRAYSETSTR() to accept NULL as string parameter

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapistr.h
    trunk/harbour/include/hbwinuni.h
    trunk/harbour/src/vm/strapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Dec 11 15:26:47 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Dec 11 15:27:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13217] trunk/harbour
In-Reply-To: <E1NJBO1-00038s-MZ@dn4whf1.ch3.sourceforge.com>
References: <E1NJBO1-00038s-MZ@dn4whf1.ch3.sourceforge.com>
Message-ID: <A4B918D0-E75C-4FC1-BF0E-702E23698151@syenar.hu>

Thank you very much, that cleared all issues nicely.

Brgds,
Viktor

On 2009 Dec 11, at 20:42, druzus@users.sourceforge.net wrote:

> Revision: 13217
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13217&view=rev
> Author:   druzus
> Date:     2009-12-11 19:42:40 +0000 (Fri, 11 Dec 2009)
> 
> Log Message:
> -----------
> 2009-12-11 20:42 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/vm/strapi.c
>  * harbour/include/hbapistr.h
>    + added new functions to operate on Harbour wide character strings:
>         ULONG hb_wstrlen( const HB_WCHAR * szText );
>         HB_WCHAR * hb_wstrdup( const HB_WCHAR * szText );
>         HB_WCHAR * hb_wstrndup( const HB_WCHAR * szText, ULONG ulLen );
>         int hb_wstrcmp( const HB_WCHAR * s1, const HB_WCHAR * s2 );
>         int hb_wstrncmp( const HB_WCHAR * s1,
>                          const HB_WCHAR * s2, ULONG count );
>    + added new functions to convert NULL pointers to empty strings:
>         const char * hb_strnull( const char * str );
>         const HB_WCHAR * hb_wstrnull( const HB_WCHAR * str );
>    + added new functions to convert string buffer returned by Harbour
>      string functions to writable state:
>         char * hb_strunshare( void ** phStr,
>                               const char * pStr, ULONG ulLen );
>         HB_WCHAR * hb_wstrunshare( void ** phStr,
>                                    const HB_WCHAR * pStr, ULONG ulLen );
>  * harbour/include/hbwinuni.h
>    ! fixed HB_PARSTRDEF() to return empty string instead of NULL
>    ! fixed HB_ARRAYSETSTR() to accept NULL as string parameter
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/include/hbapistr.h
>    trunk/harbour/include/hbwinuni.h
>    trunk/harbour/src/vm/strapi.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at users.sourceforge.net  Fri Dec 11 19:43:02 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Dec 11 19:43:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13218] trunk/harbour
Message-ID: <E1NJG4c-0001AO-Cm@74yxhf1.ch3.sourceforge.com>

Revision: 13218
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13218&view=rev
Author:   druzus
Date:     2009-12-12 00:43:01 +0000 (Sat, 12 Dec 2009)

Log Message:
-----------
2009-12-12 01:42 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/strapi.c
  * harbour/include/hbapistr.h
    + added new functions:
         hb_itemPutStr(), hb_itemPutStrUTF8(), hb_itemPutStrU16(),
         hb_arrayGetStr(), hb_arrayGetStrUTF8(), hb_arrayGetStrU16(),
         hb_arraySetStrLen(), hb_arraySetStrLenUTF8(), hb_arraySetStrLenU16(),
         hb_arraySetStr(), hb_arraySetStrUTF8(), hb_arraySetStrU16(),

  * harbour/include/hbwinuni.h
    * removed unnecessary and danger casting in UNICODE version of
      HB_RETSTR(), HB_RETSTRLEN(), HB_STORSTR() and HB_STORSTRLEN() macros
    * modify HB_ARRAYSETSTR() and HB_ARRAYSETSTRLEN() macros to use new
      STR API functions

  * harbour/external/Makefile
    * modified the order of compiled libraries for better performance in
      parallel compilation (-j<N>)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/external/Makefile
    trunk/harbour/include/hbapistr.h
    trunk/harbour/include/hbwinuni.h
    trunk/harbour/src/vm/strapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Dec 11 20:47:22 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Dec 11 20:47:36 2009
Subject: [Harbour] new MSVC warning
Message-ID: <CFCB8044-6794-4079-83B9-3D41485828F4@syenar.hu>

Hi All,

---
cl.exe   -I. -I../../../../../../include -nologo -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c-  -DHB_MT_VM -DUNICODE  -Fohvmall.obj -c ../../../../hvmall.c
hvmall.c
f:\work\harbour\harbour\src\vm\dlmalloc.c(4859) : warning C4701: potentially uninitialized local variable 'result' used
f:\work\harbour\harbour\src\vm\dlmalloc.c(4870) : warning C4701: potentially uninitialized local variable 'result' used
---

Brgds,
Viktor

From vszakats at users.sourceforge.net  Fri Dec 11 21:07:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec 11 21:07:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13219] trunk/harbour
Message-ID: <E1NJHO0-0004t5-IB@dn4whf1.ch3.sourceforge.com>

Revision: 13219
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13219&view=rev
Author:   vszakats
Date:     2009-12-12 02:07:01 +0000 (Sat, 12 Dec 2009)

Log Message:
-----------
2009-12-12 02:43 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/strapi.c
    % Minor optimization (using cdp variable instead of repeated hb_vmCDP() calls.)

  * include/hbwinuni.h
    + Added HB_ITEMPUTSTR[LEN]() macros.
    + Added HB_STRUNSHARE() macro.
    ! Fixed typos in HB_ARRAYSETSTRLEN() macro values.

  * contrib/hbwin/win_prn2.c
    + Using new HB_ITEMPUTSTR() macro instead of HB_TCHAR*().

  * contrib/hbwin/win_misc.c
    ! WIN_RUNDETACHED(): Fixed to guarantee writable buffer in second 
      parameter of CreateProcess(). I've choosen to always pass a writable
      buffer, although MS requires this only for UNICODE mode.

  * contrib/hbwin/wapi_commctrl.c
    + Using new UNICODE parameter passing macros instead of HB_TCHAR*() ones.
    ! Fixed return values of WAPI_IMAGELIST_GETIMAGEINFO() to be empty
      string instead of unset (NIL) in case of error.

  + contrib/hbqt/filelist.mk
    ! Missed from previous commit.

  * contrib/hbwin/win_regc.c
    * Removed trailing spaces (realized I used a temp instance
      of 64-bit Far Manager for the last couple of days)
      (there will be more)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_commctrl.c
    trunk/harbour/contrib/hbwin/win_misc.c
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/hbwin/win_regc.c
    trunk/harbour/include/hbwinuni.h
    trunk/harbour/src/vm/strapi.c

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/filelist.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Dec 12 06:31:18 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 12 06:31:31 2009
Subject: [Harbour] Adding MAPI to hbwin
In-Reply-To: <3f35i5lfled9o07fats7vq257euaoupsl0@4ax.com>
References: <3f35i5lfled9o07fats7vq257euaoupsl0@4ax.com>
Message-ID: <9788EBD9-83F2-4CFC-9436-17C63EABFDE5@syenar.hu>

Hi Toninho,

> Hi.
> 
> I have a working MAPI for Harbour. Can I add it to hbwin ?

Yes, please.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Dec 12 06:33:27 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec 12 06:33:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13220] trunk/harbour
Message-ID: <E1NJQE3-000505-UL@d5vjzd1.ch3.sourceforge.com>

Revision: 13220
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13220&view=rev
Author:   vszakats
Date:     2009-12-12 11:33:08 +0000 (Sat, 12 Dec 2009)

Log Message:
-----------
2009-12-12 12:28 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/dynlibhb.c
    + Using new UNICODE conversion macros in HB_LIBLOAD().

  * INSTALL
    * Minor.

  * contrib/xhb/hbsyslog.c
    + HB_SYSLOGOPEN(): Added UNICODE support. (this bug was hidden
      by explicit cast)
    * Using HB_TRUE/HB_FALSE.
    + Using new UNICODE conversion macros in HB_SYSLOGMESSAGE().
      (functionally not tested)
    * Formatting.

  * contrib/xhb/hblogdef.ch
    + Added comment that the header is used by C code.

  * contrib/hbqt/detect.mk
    ! Fixed static build after last commit.

  * contrib/hbwin/wapi_winbase.c
  * contrib/hbwin/win_dll.c
    * Variable renamed.

  * contrib/hbwin/win_prn2.c
    % Minor optimization.

  * contrib/hbwin/win_osc.c
    + Using new UNICODE conversion macros in WIN_OSVERSIONINFO().

  ; NOTE: Remaining "problem area" is HB_TCHAR_* usage in low level 
          code, when conversion needs to be done from/to C buffer 
          instead of Harbour parameter/return value. The problem 
          is that I don't have a pattern for that.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbqt/detect.mk
    trunk/harbour/contrib/hbwin/wapi_winbase.c
    trunk/harbour/contrib/hbwin/win_dll.c
    trunk/harbour/contrib/hbwin/win_osc.c
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/xhb/hblogdef.ch
    trunk/harbour/contrib/xhb/hbsyslog.c
    trunk/harbour/src/vm/dynlibhb.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Dec 12 06:54:41 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec 12 06:54:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13221] trunk/harbour
Message-ID: <E1NJQYb-0005Jd-Uq@d5vjzd1.ch3.sourceforge.com>

Revision: 13221
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13221&view=rev
Author:   vszakats
Date:     2009-12-12 11:54:25 +0000 (Sat, 12 Dec 2009)

Log Message:
-----------
2009-12-12 12:48 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_hbqmainwindow.cpp
    * Temporarily disabled mutex for HBMainWindow.
      Please report any problems and experiences, or any reason
      for the mutex implemented here, it's possible that I'm
      missing something.

  * contrib/hbqt/qtgui/qtguis/Makefile
  * contrib/hbqt/qtgui/Makefile
  * contrib/hbqt/Makefile
  * contrib/hbqt/detect.mk
  * contrib/hbqt/hbqts/Makefile
  * contrib/hbqt/qtnetwork/qtnetworks/Makefile
  * contrib/hbqt/qtnetwork/Makefile
    * Generalized the way QT component header dirs are enabled.
      This makes it possible to use this logic with gtqtc.

  * contrib/gtqtc/gtqtcs/Makefile
  * contrib/gtqtc/Makefile
    + 'moc' logic synced with hbqt.
    ! Fixed to use QT component header inclusion.

  * contrib/hbqt/hbqt_slots.cpp
    * Line ending spaces.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtqtc/Makefile
    trunk/harbour/contrib/gtqtc/gtqtcs/Makefile
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/detect.mk
    trunk/harbour/contrib/hbqt/hbqt_hbqmainwindow.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/hbqts/Makefile
    trunk/harbour/contrib/hbqt/qtgui/Makefile
    trunk/harbour/contrib/hbqt/qtgui/qtguis/Makefile
    trunk/harbour/contrib/hbqt/qtnetwork/Makefile
    trunk/harbour/contrib/hbqt/qtnetwork/qtnetworks/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Sat Dec 12 07:52:57 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Dec 12 07:53:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13222] trunk/harbour
Message-ID: <E1NJRSz-0007DW-FB@c3vjzd1.ch3.sourceforge.com>

Revision: 13222
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13222&view=rev
Author:   druzus
Date:     2009-12-12 12:52:56 +0000 (Sat, 12 Dec 2009)

Log Message:
-----------
2009-12-12 13:52 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbwinuni.h
    + added new macro HB_ITEMGETSTR()

  * harbour/src/rtl/gtwin/gtwin.c
    * modified to use new UNICODE API instead of HB_TCHAR_*()

  * harbour/contrib/hbwin/win_misc.c
    * rewritten WIN_GETCOMMANDLINEPARAM()
      New version does not use old HB_TCHAR_*() API and respect multiple
      quoting by "" (i.e. .\"myapp"li"cation".exe)

      TOFIX: WIN_ANSITOWIDE() and WIN_WIDETOANSI() are wrong and have
             to be fixed. Please remember that number of character
             after conversion to/from UNICODE can be different then
             original number of chars, i.e. multibyte characters
             can be replaced by single Unicode character or one Unicode
             character may use few bytes representation.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_misc.c
    trunk/harbour/include/hbwinuni.h
    trunk/harbour/src/rtl/gtwin/gtwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at users.sourceforge.net  Sat Dec 12 07:58:02 2009
From: toninhofwi at users.sourceforge.net (toninhofwi@users.sourceforge.net)
Date: Sat Dec 12 07:58:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13223] trunk/harbour
Message-ID: <E1NJRXu-0007Kl-DF@c3vjzd1.ch3.sourceforge.com>

Revision: 13223
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13223&view=rev
Author:   toninhofwi
Date:     2009-12-12 12:57:49 +0000 (Sat, 12 Dec 2009)

Log Message:
-----------
2009-12-12 10:45 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
  + harbour/contrib/hbwin/mapi.c
  + harbour/contrib/hbwin/tests/testmapi.prg
    * MAPI send mail function.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/hbwin/mapi.c
    trunk/harbour/contrib/hbwin/tests/testmapi.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Sat Dec 12 08:01:31 2009
From: toninhofwi at yahoo.com.br (ToninhoFWi)
Date: Sat Dec 12 08:01:31 2009
Subject: [Harbour] Adding MAPI to hbwin
In-Reply-To: <9788EBD9-83F2-4CFC-9436-17C63EABFDE5@syenar.hu>
References: <3f35i5lfled9o07fats7vq257euaoupsl0@4ax.com>
	<9788EBD9-83F2-4CFC-9436-17C63EABFDE5@syenar.hu>
Message-ID: <is47i59c5bur5evtksmeqn4lqfeapdf7p8@4ax.com>

>Hi Toninho,
>> Hi.
>> I have a working MAPI for Harbour. Can I add it to hbwin ?
>Yes, please.

Hi Viktor, done, but please, could you update makefiles ? 

Thank you and best regards,

Toninho.
__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 

From harbour.01 at syenar.hu  Sat Dec 12 08:11:24 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 12 08:11:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13222] trunk/harbour
In-Reply-To: <E1NJRSz-0007DW-FB@c3vjzd1.ch3.sourceforge.com>
References: <E1NJRSz-0007DW-FB@c3vjzd1.ch3.sourceforge.com>
Message-ID: <E7575158-519A-4AA9-B93F-DA714B018F0C@syenar.hu>

Hi Przemek,

> Log Message:
> -----------
> 2009-12-12 13:52 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbwinuni.h
>    + added new macro HB_ITEMGETSTR()
> 
>  * harbour/src/rtl/gtwin/gtwin.c
>    * modified to use new UNICODE API instead of HB_TCHAR_*()
> 
>  * harbour/contrib/hbwin/win_misc.c
>    * rewritten WIN_GETCOMMANDLINEPARAM()
>      New version does not use old HB_TCHAR_*() API and respect multiple
>      quoting by "" (i.e. .\"myapp"li"cation".exe)

I was about to commit the same thing (without quote fix though) :)

I noticed one part where we miss UNICODE support altogether in 
core; when copying to clipboard from GTWVT, GTWIN, it 
never makes use of CF_UNICODETEXT. Plus hb_gt_winapi_setClipboard() 
will need the new UNICODE API treatment. Probably there will 
some more locations which use UNICODE conversion without the 
HB_TCHAR macros.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Dec 12 08:16:17 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 12 08:16:26 2009
Subject: [Harbour] Adding MAPI to hbwin
In-Reply-To: <is47i59c5bur5evtksmeqn4lqfeapdf7p8@4ax.com>
References: <3f35i5lfled9o07fats7vq257euaoupsl0@4ax.com>
	<9788EBD9-83F2-4CFC-9436-17C63EABFDE5@syenar.hu>
	<is47i59c5bur5evtksmeqn4lqfeapdf7p8@4ax.com>
Message-ID: <D1D063B9-7C44-4AA9-AAF4-8DC7523AABC7@syenar.hu>

Hi,

I can, but it's very simple to do in Harbour, you just 
have to add one new line with the name of the file to 
local Makefile, next to the others.

Brgds,
Viktor

On 2009 Dec 12, at 14:01, ToninhoFWi wrote:

>> Hi Toninho,
>>> Hi.
>>> I have a working MAPI for Harbour. Can I add it to hbwin ?
>> Yes, please.
> 
> Hi Viktor, done, but please, could you update makefiles ? 
> 
> Thank you and best regards,
> 
> Toninho.
> __________________________________________________
> Fa?a liga??es para outros computadores com o novo Yahoo! Messenger
> http://br.beta.messenger.yahoo.com/
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From e.m.giordano at emagsoftware.it  Sat Dec 12 08:20:25 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Dec 12 08:20:35 2009
Subject: [Harbour] Error in latest SVN
Message-ID: <6ECEAE98F2574DAD86762F6CA11E2D73@emag>

Error E2451 ../../../gtwin.c 1618: Undefined symbol 'itm' in function 
hb_gt_win_Info

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From ice at extreme.hu  Sat Dec 12 08:21:08 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sat Dec 12 08:21:16 2009
Subject: [Harbour] enhance hbsocket.c portability
Message-ID: <alpine.DEB.2.00.0912121411541.8775@dawn.royalcomp.hu>


hi,

these two are quite synonymous (so maybe extending the patch to 
include the reverse case could be useful later on as well).

Index: src/rtl/hbsocket.c
===================================================================
--- src/rtl/hbsocket.c	(revision 13223)
+++ src/rtl/hbsocket.c	(working copy)
@@ -220,6 +220,10 @@
 #  define SHUT_RDWR     2
 #endif
 
+#if !defined( IPV6_JOIN_GROUP ) && defined( IPV6_ADD_MEMBERSHIP )
+#   define IPV6_JOIN_GROUP IPV6_ADD_MEMBERSHIP
+#endif
+
 #if defined( __WATCOMC__ ) && defined( HB_OS_LINUX ) && !defined( IP_ADD_MEMBERSHIP )
    /* it's missed in OpenWatcom 1.8 Linux header files :-( */
 #  define IP_ADD_MEMBERSHIP   35

-- 
[-]

mkdir /nonexistent
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbsocket.diff
Type: text/x-diff
Size: 554 bytes
Desc: 
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091212/1f01f6b4/hbsocket.bin
From harbour.01 at syenar.hu  Sat Dec 12 08:23:50 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 12 08:23:58 2009
Subject: [Harbour] Adding MAPI to hbwin
In-Reply-To: <is47i59c5bur5evtksmeqn4lqfeapdf7p8@4ax.com>
References: <3f35i5lfled9o07fats7vq257euaoupsl0@4ax.com>
	<9788EBD9-83F2-4CFC-9436-17C63EABFDE5@syenar.hu>
	<is47i59c5bur5evtksmeqn4lqfeapdf7p8@4ax.com>
Message-ID: <0174DBA0-8B83-4819-AB94-884AE2F5E244@syenar.hu>

Hi Toninho,

Can you provide a test program which demonstrates 
(and tests) how to call this new function?

I'd also like to ask you to add your name to the 
copyright after I committed some cleanups.

Brgds,
Viktor

On 2009 Dec 12, at 14:01, ToninhoFWi wrote:

>> Hi Toninho,
>>> Hi.
>>> I have a working MAPI for Harbour. Can I add it to hbwin ?
>> Yes, please.
> 
> Hi Viktor, done, but please, could you update makefiles ? 
> 
> Thank you and best regards,
> 
> Toninho.
> __________________________________________________
> Fa?a liga??es para outros computadores com o novo Yahoo! Messenger
> http://br.beta.messenger.yahoo.com/
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From e.m.giordano at emagsoftware.it  Sat Dec 12 08:25:48 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Dec 12 08:25:55 2009
Subject: [Harbour] Error in latest SVN
References: <6ECEAE98F2574DAD86762F6CA11E2D73@emag>
Message-ID: <87330B7ECB194D5585166D983ACB5F9B@emag>


-----Messaggio Originale----- 
Da: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
A: "Harbour Project Developers Mailing List" <harbour@harbour-project.org>
Data invio: sabato 12 dicembre 2009 14.20
Oggetto: [Harbour] Error in latest SVN


> Error E2451 ../../../gtwin.c 1618: Undefined symbol 'itm' in function 
> hb_gt_win_Info

This is the problem:

#define HB_ITEMPUTSTRLEN( p, str, len )       hb_itemPutStrLen( itm, 
hb_setGetOSCP(), str, len )

Can I commit the fix?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From ice at extreme.hu  Sat Dec 12 08:25:56 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sat Dec 12 08:26:04 2009
Subject: [Harbour] Error in latest SVN
In-Reply-To: <6ECEAE98F2574DAD86762F6CA11E2D73@emag>
References: <6ECEAE98F2574DAD86762F6CA11E2D73@emag>
Message-ID: <alpine.DEB.2.00.0912121423350.8775@dawn.royalcomp.hu>


enrico,

"latest svn" is not helpful now, and certainly isn't going to be 
helpful when later on if/when one will try to use archived mails.

you have the EXACT revision number right in front of you.

use it.

-- 
[-]

mkdir /nonexistent
From e.m.giordano at emagsoftware.it  Sat Dec 12 08:29:22 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Dec 12 08:29:30 2009
Subject: [Harbour] Error in latest SVN
References: <6ECEAE98F2574DAD86762F6CA11E2D73@emag>
	<alpine.DEB.2.00.0912121423350.8775@dawn.royalcomp.hu>
Message-ID: <AEFDD62D99C54561ACE6BA52460D0B0D@emag>


-----Messaggio Originale----- 
Da: "Tamas TEVESZ" <ice@extreme.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: sabato 12 dicembre 2009 14.25
Oggetto: Re: [Harbour] Error in latest SVN


> enrico,
> 
> "latest svn" is not helpful now, and certainly isn't going to be 
> helpful when later on if/when one will try to use archived mails.
> 
> you have the EXACT revision number right in front of you.
> 
> use it.

Sorry, I will try to do it but I'm afraid I will not remember to do it. :-(

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic
From harbour.01 at syenar.hu  Sat Dec 12 08:31:15 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Dec 12 08:31:26 2009
Subject: [Harbour] Error in latest SVN
In-Reply-To: <87330B7ECB194D5585166D983ACB5F9B@emag>
References: <6ECEAE98F2574DAD86762F6CA11E2D73@emag>
	<87330B7ECB194D5585166D983ACB5F9B@emag>
Message-ID: <6E114086-21DF-4D9A-86DF-22B4D5BAA9A0@syenar.hu>

Yes, please, note there is the same problem with HB_ITEMPUTSTR().

Brgds,
Viktor

On 2009 Dec 12, at 14:25, Enrico Maria Giordano wrote:

> 
> -----Messaggio Originale----- Da: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
> A: "Harbour Project Developers Mailing List" <harbour@harbour-project.org>
> Data invio: sabato 12 dicembre 2009 14.20
> Oggetto: [Harbour] Error in latest SVN
> 
> 
>> Error E2451 ../../../gtwin.c 1618: Undefined symbol 'itm' in function hb_gt_win_Info
> 
> This is the problem:
> 
> #define HB_ITEMPUTSTRLEN( p, str, len )       hb_itemPutStrLen( itm, hb_setGetOSCP(), str, len )
> 
> Can I commit the fix?
> 
> EMG
> 
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at users.sourceforge.net  Sat Dec 12 08:36:47 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Dec 12 08:36:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13224] trunk/harbour
Message-ID: <E1NJS9P-0008Bj-Ew@c3vjzd1.ch3.sourceforge.com>

Revision: 13224
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13224&view=rev
Author:   druzus
Date:     2009-12-12 13:36:46 +0000 (Sat, 12 Dec 2009)

Log Message:
-----------
2009-12-12 14:36 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbwinuni.h
    ! fixed typo in last commit

  * harbour/contrib/hbwin/win_com.c
    * eliminated HB_TCHAR_*() usage

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_com.c
    trunk/harbour/include/hbwinuni.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Dec 12 09:43:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec 12 09:44:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13225] trunk/harbour
Message-ID: <E1NJTCL-0001Nb-DA@c3vjzd1.ch3.sourceforge.com>

Revision: 13225
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13225&view=rev
Author:   vszakats
Date:     2009-12-12 14:43:52 +0000 (Sat, 12 Dec 2009)

Log Message:
-----------
2009-12-12 15:42 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/Makefile
  * contrib/hbwin/mapi.c
    + Added to Makefile.
    ! Added SVN ID.
    ! Added License header. (pls add your name to copyright headers)
    ! Fixed to use simple quote to include Harbour headers.
    ! Fixed Windows header inclusion.
    ! Disabled for UNICODE.
    ! Fixed to not use return value on stack as temporary variable.
    ! Fixed to not use static variable.
    ! Fixed UNICODE literals (also for WinCE).
    ! Fixed to not create NULL "holes" in passed to Windows lists
      if received arrays have wrong content.
    ! Fixed to check return value of GetProcAddress().
    % Optimized to only do parameter processing if MAPISendMail is available.
    * Cleaned string parameter defaulting to "".
    * Castings added and changed.
    * Optimizations.
    * Formatting (indentation, deleted unnecessary {}, variable scopes, ' ;' endings)
    * Variable scopes.
    * Using HB_SIZE.
    * Avoiding duplicating constants.
    + Added some provisions for UNICODE support. Otherwise whole
      code is disabled until this gets fully implemented.
    ; TODO: It'd be probably beneficial to remove artificial limit of
            100 recipients and file attachments.
    ; NOTE: I didn't make any functional tests, so please make some.
            An example/test code would be nice in tests subdir.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbwin/mapi.c

Property Changed:
----------------
    trunk/harbour/contrib/hbwin/mapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Dec 12 09:47:09 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec 12 09:47:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13226] trunk/harbour
Message-ID: <E1NJTFV-0001S3-I1@c3vjzd1.ch3.sourceforge.com>

Revision: 13226
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13226&view=rev
Author:   vszakats
Date:     2009-12-12 14:47:08 +0000 (Sat, 12 Dec 2009)

Log Message:
-----------
2009-12-12 15:46 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbwinuni.h
    + Added HB_ARRAYGETSTR().

  * ChangeLog
    + Added missing item to prev.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbwinuni.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Sat Dec 12 09:49:37 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sat Dec 12 09:49:45 2009
Subject: [Harbour] argmax again
Message-ID: <alpine.DEB.2.00.0912121525370.4601@dawn.royalcomp.hu>


hi,

i have hit a case where the libharbour.so linking phase generates a 
command line of about 33k, while this system's limit is about 10k.

i reckon this is the first unix we've hit this on, accordingly i can't 
really find anything to follow.

i think that on other limited systems the linker can be fed from a 
file containing the objects to link, but there's nothing of the sorts 
i find here.

cluestick, please?

thanks,

-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Sat Dec 12 10:05:28 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 12 10:05:39 2009
Subject: [Harbour] argmax again
In-Reply-To: <alpine.DEB.2.00.0912121525370.4601@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0912121525370.4601@dawn.royalcomp.hu>
Message-ID: <AA745E8B-06A5-4B01-AD4C-D78E441FB82C@syenar.hu>

You can have a peek into config/win/mingw.mk, 
where there is example for that.

Brgds,
Viktor

On 2009 Dec 12, at 15:49, Tamas TEVESZ wrote:

> 
> hi,
> 
> i have hit a case where the libharbour.so linking phase generates a 
> command line of about 33k, while this system's limit is about 10k.
> 
> i reckon this is the first unix we've hit this on, accordingly i can't 
> really find anything to follow.
> 
> i think that on other limited systems the linker can be fed from a 
> file containing the objects to link, but there's nothing of the sorts 
> i find here.
> 
> cluestick, please?
> 
> thanks,
> 
> -- 
> [-]
> 
> mkdir /nonexistent
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Dec 12 10:10:11 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 12 10:10:20 2009
Subject: [Harbour] Adding MAPI to hbwin
In-Reply-To: <0174DBA0-8B83-4819-AB94-884AE2F5E244@syenar.hu>
References: <3f35i5lfled9o07fats7vq257euaoupsl0@4ax.com>
	<9788EBD9-83F2-4CFC-9436-17C63EABFDE5@syenar.hu>
	<is47i59c5bur5evtksmeqn4lqfeapdf7p8@4ax.com>
	<0174DBA0-8B83-4819-AB94-884AE2F5E244@syenar.hu>
Message-ID: <59B04F76-ABAD-4279-8FF6-0D40B17277CD@syenar.hu>

I've just found the example, sorry for missing it.

Brgds,
Viktor

On 2009 Dec 12, at 14:23, Viktor Szak?ts wrote:

> Hi Toninho,
> 
> Can you provide a test program which demonstrates 
> (and tests) how to call this new function?
> 
> I'd also like to ask you to add your name to the 
> copyright after I committed some cleanups.
> 
> Brgds,
> Viktor
> 
> On 2009 Dec 12, at 14:01, ToninhoFWi wrote:
> 
>>> Hi Toninho,
>>>> Hi.
>>>> I have a working MAPI for Harbour. Can I add it to hbwin ?
>>> Yes, please.
>> 
>> Hi Viktor, done, but please, could you update makefiles ? 
>> 
>> Thank you and best regards,
>> 
>> Toninho.
>> __________________________________________________
>> Fa?a liga??es para outros computadores com o novo Yahoo! Messenger
>> http://br.beta.messenger.yahoo.com/
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From harbour.01 at syenar.hu  Sat Dec 12 10:11:18 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 12 10:11:28 2009
Subject: [Harbour] Adding MAPI to hbwin
In-Reply-To: <59B04F76-ABAD-4279-8FF6-0D40B17277CD@syenar.hu>
References: <3f35i5lfled9o07fats7vq257euaoupsl0@4ax.com>
	<9788EBD9-83F2-4CFC-9436-17C63EABFDE5@syenar.hu>
	<is47i59c5bur5evtksmeqn4lqfeapdf7p8@4ax.com>
	<0174DBA0-8B83-4819-AB94-884AE2F5E244@syenar.hu>
	<59B04F76-ABAD-4279-8FF6-0D40B17277CD@syenar.hu>
Message-ID: <A907954B-48F9-4327-9075-D9BCB69D6910@syenar.hu>

But it can't work as is :(

Brgds,
Viktor

On 2009 Dec 12, at 16:10, Viktor Szak?ts wrote:

> I've just found the example, sorry for missing it.
> 
> Brgds,
> Viktor
> 
> On 2009 Dec 12, at 14:23, Viktor Szak?ts wrote:
> 
>> Hi Toninho,
>> 
>> Can you provide a test program which demonstrates 
>> (and tests) how to call this new function?
>> 
>> I'd also like to ask you to add your name to the 
>> copyright after I committed some cleanups.
>> 
>> Brgds,
>> Viktor
>> 
>> On 2009 Dec 12, at 14:01, ToninhoFWi wrote:
>> 
>>>> Hi Toninho,
>>>>> Hi.
>>>>> I have a working MAPI for Harbour. Can I add it to hbwin ?
>>>> Yes, please.
>>> 
>>> Hi Viktor, done, but please, could you update makefiles ? 
>>> 
>>> Thank you and best regards,
>>> 
>>> Toninho.
>>> __________________________________________________
>>> Fa?a liga??es para outros computadores com o novo Yahoo! Messenger
>>> http://br.beta.messenger.yahoo.com/
>>> 
>>> _______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
> 

From vszakats at users.sourceforge.net  Sat Dec 12 10:48:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec 12 10:48:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13227] trunk/harbour
Message-ID: <E1NJUCb-0004uC-0u@3kljzd1.ch3.sourceforge.com>

Revision: 13227
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13227&view=rev
Author:   vszakats
Date:     2009-12-12 15:48:11 +0000 (Sat, 12 Dec 2009)

Log Message:
-----------
2009-12-12 16:47 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/gtwin/gtwin.c
    * Using HB_SIZEOFARRAY().

  * include/hbapi.h
    * Typo in comment.

  * ChangeLog
    + Added missing item to prev.

  * contrib/hbwin/tests/testmapi.prg
    ! Fixed missing SVN props.
    ! Added missing SVN ID.
    * Formatting.
    ; TOFIX: This example expects arrays and logical value from command line, 
             so it won't work.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/tests/testmapi.prg
    trunk/harbour/include/hbapi.h
    trunk/harbour/src/rtl/gtwin/gtwin.c

Property Changed:
----------------
    trunk/harbour/contrib/hbwin/tests/testmapi.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Sat Dec 12 11:33:05 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sat Dec 12 11:33:13 2009
Subject: [Harbour] argmax again
In-Reply-To: <AA745E8B-06A5-4B01-AD4C-D78E441FB82C@syenar.hu>
References: <alpine.DEB.2.00.0912121525370.4601@dawn.royalcomp.hu>
	<AA745E8B-06A5-4B01-AD4C-D78E441FB82C@syenar.hu>
Message-ID: <alpine.DEB.2.00.0912121730030.4601@dawn.royalcomp.hu>

On Sat, 12 Dec 2009, Viktor Szak?ts wrote:

 > You can have a peek into config/win/mingw.mk, 
 > where there is example for that.

lovely!

cheers,

 > 
 > Brgds,
 > Viktor
 > 
 > On 2009 Dec 12, at 15:49, Tamas TEVESZ wrote:
 > 
 > > 
 > > hi,
 > > 
 > > i have hit a case where the libharbour.so linking phase generates a 
 > > command line of about 33k, while this system's limit is about 10k.
 > > 
 > > i reckon this is the first unix we've hit this on, accordingly i can't 
 > > really find anything to follow.
 > > 
 > > i think that on other limited systems the linker can be fed from a 
 > > file containing the objects to link, but there's nothing of the sorts 
 > > i find here.
 > > 
 > > cluestick, please?
 > > 
 > > thanks,
 > > 
 > > -- 
 > > [-]
 > > 
 > > mkdir /nonexistent
 > > _______________________________________________
 > > Harbour mailing list (attachment size limit: 40KB)
 > > Harbour@harbour-project.org
 > > http://lists.harbour-project.org/mailman/listinfo/harbour
 > 
 > _______________________________________________
 > Harbour mailing list (attachment size limit: 40KB)
 > Harbour@harbour-project.org
 > http://lists.harbour-project.org/mailman/listinfo/harbour
 > 

-- 
[-]

mkdir /nonexistent
From e.m.giordano at emagsoftware.it  Sat Dec 12 12:18:00 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Dec 12 12:18:08 2009
Subject: [Harbour] Error in latest SVN
References: <6ECEAE98F2574DAD86762F6CA11E2D73@emag><87330B7ECB194D5585166D983ACB5F9B@emag>
	<6E114086-21DF-4D9A-86DF-22B4D5BAA9A0@syenar.hu>
Message-ID: <D72E189E77D6472B8131C6D24D7A2544@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: sabato 12 dicembre 2009 14.31
Oggetto: Re: [Harbour] Error in latest SVN


> Yes, please, note there is the same problem with HB_ITEMPUTSTR().

Przemek has been faster. :-)

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Sat Dec 12 12:19:08 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Dec 12 12:19:15 2009
Subject: [Harbour] More errors on $Id: ChangeLog 13227 2009-12-12 15:48:11Z
	vszakats $
Message-ID: <20DA8CAEAF354D92AC19D5AA50412C76@emag>

Error: Unresolved external '_hb_itemPutStrLen' referenced from 
E:\HARBOUR_CVS\HARBOUR\SRC\RTL\GTWIN\OBJ\WIN\BCC\GTWIN_DYN.OBJ
Error: Unresolved external '_hb_itemGetStr' referenced from 
E:\HARBOUR_CVS\HARBOUR\SRC\RTL\GTWIN\OBJ\WIN\BCC\GTWIN_DYN.OBJ
Error: Unresolved external '_hb_strfree' referenced from 
E:\HARBOUR_CVS\HARBOUR\SRC\RTL\GTWIN\OBJ\WIN\BCC\GTWIN_DYN.OBJ
Error: Unresolved external '_hb_parstr' referenced from 
E:\HARBOUR_CVS\HARBOUR\SRC\VM\VMMT\OBJ\WIN\BCC\DYNLIBHB_DYN.OBJ

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at users.sourceforge.net  Sat Dec 12 12:42:27 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Dec 12 12:42:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13228] trunk/harbour
Message-ID: <E1NJVz9-0005Lh-9y@c3vjzd1.ch3.sourceforge.com>

Revision: 13228
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13228&view=rev
Author:   druzus
Date:     2009-12-12 17:42:26 +0000 (Sat, 12 Dec 2009)

Log Message:
-----------
2009-12-12 18:41 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/vmmt/Makefile
    ! added missing strapi.c for some compilers which do not use hvmall.c

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/vmmt/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Dec 12 13:45:55 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec 12 13:46:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13229] trunk/harbour
Message-ID: <E1NJWyZ-0000M6-9Y@3kljzd1.ch3.sourceforge.com>

Revision: 13229
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13229&view=rev
Author:   vszakats
Date:     2009-12-12 18:45:54 +0000 (Sat, 12 Dec 2009)

Log Message:
-----------
2009-12-12 19:27 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/mapi.c
    + Added support for UNICODE.
    ; Untested, I don't have a mailer on any Windows systems I have
      access to to try it.
      Please make tests with MSVC also, to check UNICODE.
    ! Fixed typo in prev modification.
    ! Added ( ULONG ) cast to -1 value.
    + Added copyright header.

  * contrib/hbwin/tests/testmapi.prg
    + Added some test data to make it work.
      (couldn't test it though, all I get is msgbox that I have no
      mailer)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/mapi.c
    trunk/harbour/contrib/hbwin/tests/testmapi.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Sat Dec 12 13:47:03 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Dec 12 13:47:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13228] trunk/harbour
References: <E1NJVz9-0005Lh-9y@c3vjzd1.ch3.sourceforge.com>
Message-ID: <EA1F8EA201FD4FE3AA40EDC88EE2B8EE@emag>


-----Messaggio Originale----- 
Da: <druzus@users.sourceforge.net>
A: <harbour@harbour-project.org>
Data invio: sabato 12 dicembre 2009 18.42
Oggetto: [Harbour] SF.net SVN: harbour-project:[13228] trunk/harbour


> Revision: 13228
> 
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13228&view=rev
> Author:   druzus
> Date:     2009-12-12 17:42:26 +0000 (Sat, 12 Dec 2009)
>
> Log Message:
> -----------
> 2009-12-12 18:41 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/vm/vmmt/Makefile
>    ! added missing strapi.c for some compilers which do not use hvmall.c

Error E2140 ../../../win_misc.c 87: Declaration is not allowed here in 
function HB_FUN_WIN_RUNDETACHED
Error E2140 ../../../win_misc.c 88: Declaration is not allowed here in 
function HB_FUN_WIN_RUNDETACHED

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vszakats at users.sourceforge.net  Sat Dec 12 13:56:15 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec 12 13:56:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13230] trunk/harbour
Message-ID: <E1NJX8Z-0000Xi-VT@3kljzd1.ch3.sourceforge.com>

Revision: 13230
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13230&view=rev
Author:   vszakats
Date:     2009-12-12 18:56:14 +0000 (Sat, 12 Dec 2009)

Log Message:
-----------
2009-12-12 19:55 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_misc.c
    ! Fixed declaration following code.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_misc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Sat Dec 12 14:07:10 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Dec 12 14:07:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13230] trunk/harbour
References: <E1NJX8Z-0000Xi-VT@3kljzd1.ch3.sourceforge.com>
Message-ID: <089D4C423B6E4AA9AD71039E1893203D@emag>


-----Messaggio Originale----- 
Da: <vszakats@users.sourceforge.net>
A: <harbour@harbour-project.org>
Data invio: sabato 12 dicembre 2009 19.56
Oggetto: [Harbour] SF.net SVN: harbour-project:[13230] trunk/harbour


> Revision: 13230
> 
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13230&view=rev
> Author:   vszakats
> Date:     2009-12-12 18:56:14 +0000 (Sat, 12 Dec 2009)
>
> Log Message:
> -----------
> 2009-12-12 19:55 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * contrib/hbwin/win_misc.c
>    ! Fixed declaration following code.

Thank you. All is ok now.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at acn.waw.pl  Sat Dec 12 14:14:32 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Dec 12 14:14:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13222] trunk/harbour
In-Reply-To: <E7575158-519A-4AA9-B93F-DA714B018F0C@syenar.hu>
References: <E1NJRSz-0007DW-FB@c3vjzd1.ch3.sourceforge.com>
	<E7575158-519A-4AA9-B93F-DA714B018F0C@syenar.hu>
Message-ID: <20091212191432.GA25397@linux-4bod.home.aster.pl>

On Sat, 12 Dec 2009, Szak?ts Viktor wrote:

Hi,

> I noticed one part where we miss UNICODE support altogether in 
> core; when copying to clipboard from GTWVT, GTWIN, it 
> never makes use of CF_UNICODETEXT.

Yes it is but in hb_gt_winapi_setClipboard() CF_UNICODETEXT only enable
translation to UNICODE before pasting to clipboard so in fact it does
not give any new functionality. It's necessary to change this function
to accept unicode strings as parameter.

> Plus hb_gt_winapi_setClipboard() 
> will need the new UNICODE API treatment.

See above, both functions should be modified.
In hb_gt_winapi_setClipboard() uFormat parameter should inform about
type of passed text buffer (declared as 'const void *') not the type
to which we should make conversion from 'char *' before pasting data
to clipboard so this function should not make any conversions.
Similar modification should be done also in hb_gt_winapi_getClipboard()
so uFormat will inform about expected type of string we want to retrieve
and also hb_gt_winapi_getClipboard() will not make any conversions.
Alternatively we can modify above functions to use only one PHB_ITEM pItem
parameter so they will make all necessary translations internally.
This seems to be the easiest way and in such case in UNICODE builds we
can always use CF_UNICODETEXT to avoid possible problems with internal
windows translations using different CPs.
In non UNICODE builds we can check runtime Windows version and if it's
support UNICODE by default then we can use CF_UNICODETEXT otherwise
CF_TEXT with hb_setGetOSCP() encoding. I guess that windows users used
to set hb_setGetOSCP() to "ANSI" encoding. Am I right?

> Probably there will 
> some more locations which use UNICODE conversion without the 
> HB_TCHAR macros.

Or even with HB_TCHAR_*() macros but in places which needs serious
modifications to accept unicode strings without any data lost conversions.
I.e. file names in FS API. Now we are using HB_TCHAR_*() functions but
replacing them with new API does not help in adding real unicode support
and FOPEN() or FCREATE() will still accept correctly only strings using
characters from single CP only.
Such things needs much deeper modifications which we will have to make
adding full UNICODE support to HVM. These are not local modifications
which we can safely make now.
BTW I still hope we can release final 2.0 before Christmas so I would
like to ask everybody to test current code in different environments.

best regards,
Przemek
From harbour.01 at syenar.hu  Sat Dec 12 14:57:08 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 12 14:57:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13222] trunk/harbour
In-Reply-To: <20091212191432.GA25397@linux-4bod.home.aster.pl>
References: <E1NJRSz-0007DW-FB@c3vjzd1.ch3.sourceforge.com>
	<E7575158-519A-4AA9-B93F-DA714B018F0C@syenar.hu>
	<20091212191432.GA25397@linux-4bod.home.aster.pl>
Message-ID: <B55DA126-8850-41EE-A49F-6B977B88E7A0@syenar.hu>

>> I noticed one part where we miss UNICODE support altogether in 
>> core; when copying to clipboard from GTWVT, GTWIN, it 
>> never makes use of CF_UNICODETEXT.
> 
> Yes it is but in hb_gt_winapi_setClipboard() CF_UNICODETEXT only enable
> translation to UNICODE before pasting to clipboard so in fact it does
> not give any new functionality. It's necessary to change this function
> to accept unicode strings as parameter.
> 
>> Plus hb_gt_winapi_setClipboard() 
>> will need the new UNICODE API treatment.
> 
> See above, both functions should be modified.
> In hb_gt_winapi_setClipboard() uFormat parameter should inform about
> type of passed text buffer (declared as 'const void *') not the type
> to which we should make conversion from 'char *' before pasting data
> to clipboard so this function should not make any conversions.
> Similar modification should be done also in hb_gt_winapi_getClipboard()
> so uFormat will inform about expected type of string we want to retrieve
> and also hb_gt_winapi_getClipboard() will not make any conversions.
> Alternatively we can modify above functions to use only one PHB_ITEM pItem
> parameter so they will make all necessary translations internally.
> This seems to be the easiest way and in such case in UNICODE builds we
> can always use CF_UNICODETEXT to avoid possible problems with internal
> windows translations using different CPs.
> In non UNICODE builds we can check runtime Windows version and if it's
> support UNICODE by default then we can use CF_UNICODETEXT otherwise
> CF_TEXT with hb_setGetOSCP() encoding. I guess that windows users used
> to set hb_setGetOSCP() to "ANSI" encoding. Am I right?

I do. At least if "ANSI" means Windows-125* CPs. This 
name will mislead me for life.

>> Probably there will 
>> some more locations which use UNICODE conversion without the 
>> HB_TCHAR macros.
> 
> Or even with HB_TCHAR_*() macros but in places which needs serious
> modifications to accept unicode strings without any data lost conversions.
> I.e. file names in FS API. Now we are using HB_TCHAR_*() functions but
> replacing them with new API does not help in adding real unicode support
> and FOPEN() or FCREATE() will still accept correctly only strings using
> characters from single CP only.
> Such things needs much deeper modifications which we will have to make
> adding full UNICODE support to HVM. These are not local modifications
> which we can safely make now.

You're right, not all HB_TCHAR* stuff can be changed now, 
nice to see how all these steps lead us to this point.

There are still a few HB_TCHAR* usages which could be fixed 
yet. I'm afraid most of the remaining ones too complicated 
for me to patch them with confidence.

> BTW I still hope we can release final 2.0 before Christmas so I would
> like to ask everybody to test current code in different environments.

Yes, code freeze would be about time. 

I'd like ask everyone to also test hbwin and hbqt, as they 
have been extensively patches lately and I could see no 
feedback yet.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Dec 12 15:24:28 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec 12 15:24:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13231] trunk/harbour
Message-ID: <E1NJYVw-0003gz-Di@74yxhf1.ch3.sourceforge.com>

Revision: 13231
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13231&view=rev
Author:   vszakats
Date:     2009-12-12 20:24:27 +0000 (Sat, 12 Dec 2009)

Log Message:
-----------
2009-12-12 21:24 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/tests/testmapi.prg
  * contrib/hbwin/mapi.c
    ! Fixes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/mapi.c
    trunk/harbour/contrib/hbwin/tests/testmapi.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Sat Dec 12 16:06:05 2009
From: Istvan.Bisz at t-online.hu (=?UTF-8?Q?Bisz_Istv=C3=A1n?=)
Date: Sat Dec 12 16:06:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13171] trunk/harbour
In-Reply-To: <000c01ca791f$90d55e90$b2801bb0$@Bisz@t-online.hu>
References: <E1NICKV-0006wo-NK@c3vjzd1.ch3.sourceforge.com>	<001401ca78d4$c13f2020$43bd6060$@Bisz@t-online.hu>	<26712856.post@talk.nabble.com>
	<000c01ca791f$90d55e90$b2801bb0$@Bisz@t-online.hu>
Message-ID: <000001ca7b6e$ec39a420$c4acec60$@Bisz@t-online.hu>

Hi

See below the test cases producing positive results with latest SVN and:
1. tdm-mingw.4.4.1 and Qt 4.5.3 for MinGW
2. tdm-mingw.4.4.1 and Qt 4.6.0 for MinGW
3. VS2008 and Qt 4.6 for VS2008 

hbide, demoxbp and demoqt are executed crash free finally in the above listed test cases.

Regarding point 1. and 2. a very old problem regarding the demoqt crash on exit in default build mode is clarified.

See GDB output with Application Verifier enabled:

	GNU gdb 6.8
	Copyright (C) 2008 Free Software Foundation, Inc.
	License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
	This is free software: you are free to change and redistribute it.
	There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
	and "show warranty" for details.
	This GDB was configured as "i686-pc-mingw32"...
	(gdb) run
	Starting program: c:\Downloads\harbour\contrib\hbqt\tests/demoqt.exe
	[New thread 5544.0x10ac]
	warning: Page heap: pid 0x15A8: page heap enabled with flags 0x3.

	warning: AVRF: demoqt.exe: pid 0x15A8: flags 0x80443027: application verifier enabled

	[New thread 5544.0x142c]
	[New thread 5544.0x167c]
	[New thread 5544.0x1648]
	Error: dll starting at 0x71690000 not found.
	Error: dll starting at 0xd000000 not found.
	warning: Lowest section in C:\Windows\system32\normaliz.dll is .text at 00401000

	Error: dll starting at 0x70dd0000 not found.
	BFD: C:\Windows\system32\SLC.dll: Warning: Ignoring section flag IMAGE_SCN_MEM_N
	OT_PAGED in section .reloc
	BFD: C:\Windows\system32\SLC.dll: Warning: Ignoring section flag IMAGE_SCN_MEM_N
	OT_PAGED in section .reloc
	warning: HEAP[demoqt.exe]:
	warning: Invalid address specified to RtlSizeHeap( 003B0000, 01A99C08 )


	Program received signal SIGTRAP, Trace/breakpoint trap.
	0x77068b2f in ntdll!DbgUiConvertStateChangeStructure ()
	   from C:\Windows\system32\ntdll.dll
	(gdb) 

The crash is produced by:
	warning: HEAP[demoqt.exe]:
	warning: Invalid address specified to RtlSizeHeap( 003B0000, 01A99C08 )

The explanation of this event is, as I understand correctly, that malloc and free should be redefined to eliminate a conflict with the qt dll-s. 
This redefinition in fm.c is conditioned actually HB_FM_DLMT_ALLOC or USE_DL_PREFIX definition (An another solution is HB_FM_WIN_ALLOC with HB_OS_WIN not analyzed by me):

	#  if defined( HB_FM_DLMT_ALLOC )
	#     define malloc( n )         mspace_malloc( hb_mspace(), ( n ) )
	#     define realloc( p, n )     mspace_realloc( NULL, ( p ), ( n ) )
	#     define free( p )           mspace_free( NULL, ( p ) )
	#  elif defined( USE_DL_PREFIX )
	#     define malloc( n )         dlmalloc( ( n ) )
	#     define realloc( p, n )     dlrealloc( ( p ), ( n ) )
	#     define free( p )           dlfree( ( p ) )
	#  endif

The first (HB_FM_DLMT_ALLOC) definition generally is defined in MT mode. The second (USE_DL_PREFIX) as we can see:

	#  if defined( __BORLANDC__ )

	...

	#  elif defined( __WATCOMC__ )

	...

	#     if !defined( USE_DL_PREFIX ) && !defined( HB_FM_DLMT_ALLOC )
	#        define USE_DL_PREFIX
	#     endif
	#  elif defined( _MSC_VER )
	#     if !defined( USE_DL_PREFIX ) && !defined( HB_FM_DLMT_ALLOC )
	#        define USE_DL_PREFIX
	#     endif
	...

	#  endif
	#  if defined( __cplusplus ) && ! defined( USE_DL_PREFIX )
	#     define USE_DL_PREFIX
	#  endif
	#  include "dlmalloc.c"

	...

is not defined in ST and MinGW C mode. This sequences analysis explains my tests: The mingw build of the demoqt in C mode crashes on the first delete operator.
 
The solution is @set HB_USER_CFLAGS=-DUSE_DL_PREFIX.
Hopefully my conclusion is correct, but take into consideration that this is just an experiment and not "theory".

See below the script used for my tests:

     @echo PREREQUISITES:
     @echo 1) Installed Qt 4.5.3 for MinGW to the directory: C:/Qt/4.5.3/ ...
     @echo from: http://get.qt.nokia.com/qt/source/qt-win-opensource-4.5.3-mingw.exe
     @echo 2) Installed tdm-mingw.4.4.1 to C:\devl\MinGWtdm\ ...
     @echo from: http://sunet.dl.sourceforge.net/project/tdm-gcc/TDM-MinGW%20Installer/1.908.0/tdm-mingw-1.908.0-4.4.1-2.exe
     @echo with dual SJLJ and Dwarf-2 installation into the same directory
     @echo Use just the installer without manual unzipping...  
     @echo 3) Updated c:\download\harbour with the latest SVN
     @pause

     @set HB_WITH_QT=C:/Qt/4.5.3/include
     @set HB_COMPILER=mingw
     @set HB_INSTALL_PREFIX=c:\harbour\mingw_4.5.3
     @set PATH=%PATH%;C:\devl\MinGWtdm\bin
     @cd c:\downloads\harbour

     @set HB_USER_CFLAGS=-DUSE_DL_PREFIX

     @win-make clean install

     @set HB_USER_CFLAGS=-DHB_TR_LEVEL_DEBUG
     @set HB_USER_PRGFLAGS=-D__HB_DEBUG__
     @cd c:\downloads\harbour\contrib\hbqt
     @c:\downloads\harbour\win-make clean install

     @set PATH=%PATH%;C:\harbour\mingw_4.5.3\bin
     @cd c:\downloads\harbour\contrib\hbide
     @hbmk2 -rebuild hbide.hbp
     @cd c:\downloads\harbour\contrib\hbxbp\tests
     @hbmk2 demoxbp.prg
     @cd c:\downloads\harbour\contrib\hbqt\tests
     @hbmk2 demoqt.prg

     @set PATH=%PATH%;C:\Qt\4.5.3\bin
     @set HB_TR_LEVEL=HB_TR_DEBUG
     @set HB_TR_FLUSH=1
     @cd c:\downloads\harbour\contrib\hbide
     @hbide 2>c:\harbour\hbide.trace.log
     @pause
     @cd c:\downloads\harbour\contrib\hbxbp\tests
     @demoxbp 2>c:\harbour\demoxbp.trace.log
     @pause
     @cd c:\downloads\harbour\contrib\hbqt\tests
     @gdb demoqt 2>c:\harbour\demoqt.trace.log
     @pause

....

     @echo PREREQUISITES:
     @echo 1) Installed Qt 4.5.3 for MinGW to the directory: C:/Qt/4.5.3/ ...
     @echo from: http://get.qt.nokia.com/qt/source/qt-win-opensource-4.5.3-mingw.exe
     @echo 2) Installed tdm-mingw.4.4.1 to C:\devl\MinGWtdm\ ...
     @echo from: http://sunet.dl.sourceforge.net/project/tdm-gcc/TDM-MinGW%20Installer/1.908.0/tdm-mingw-1.908.0-4.4.1-2.exe
     @echo with dual SJLJ and Dwarf-2 installation into the same directory
     @echo Use just the installer without manual unzipping...  
     @echo 3) Updated c:\download\harbour with the latest SVN
     @pause

     @set HB_WITH_QT=C:/Qt/4.6.0M/include
     @set HB_INSTALL_PREFIX=c:\harbour\mingw
     @set PATH=%PATH%;C:\devl\MinGWtdm\bin
     @cd c:\downloads\harbour

     @set HB_USER_CFLAGS=-DUSE_DL_PREFIX

     @set HB_USER_LDFLAGS=-static-libgcc
     @set HB_USER_DFLAGS=-static-libgcc
     @win-make clean install
     @set HB_USER_LDFLAGS=
     @set HB_USER_DFLAGS=
     @set HB_USER_CFLAGS=-DHB_TR_LEVEL_DEBUG
     @set HB_USER_PRGFLAGS=-D__HB_DEBUG__
     @cd c:\downloads\harbour\contrib\hbqt
     @c:\downloads\harbour\win-make clean install

     @set PATH=%PATH%;C:\harbour\mingw\bin
     @cd c:\downloads\harbour\contrib\hbide
     @hbmk2 -rebuild hbide.hbp
     @cd c:\downloads\harbour\contrib\hbxbp\tests
     @hbmk2 demoxbp.prg
     @cd c:\downloads\harbour\contrib\hbqt\tests
     @hbmk2 demoqt.prg

     @set PATH=%PATH%;C:\Qt\4.6.0M\bin
     @set HB_TR_LEVEL=HB_TR_DEBUG
     @set HB_TR_FLUSH=1
     @cd c:\downloads\harbour\contrib\hbide
     @hbide 2>c:\harbour\hbide.trace.log
     @pause
     @cd c:\downloads\harbour\contrib\hbxbp\tests
     @demoxbp 2>c:\harbour\demoxbp.trace.log
     @pause
     @cd c:\downloads\harbour\contrib\hbqt\tests
     @demoqt 2>c:\harbour\demoqt.trace.log
     @pause

...

     @echo PREREQUISITES:
     @echo Installed Qt 4.6 for vs2008 to the default directory: C:/Qt/4.6.0/ ...
     @echo from: http://get.qt.nokia.com/qt/source/qt-win-opensource-4.6.0-vs2008.exe
     @echo Updated c:\download\harbour with the latest SVN
     @pause

     @set HB_WITH_QT=C:/Qt/4.6.0/include
     @set HB_INSTALL_PREFIX=c:\harbour\msvc
     @call "c:\Program Files\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
     @cd c:\downloads\harbour
     @win-make clean install
     @set HB_USER_CFLAGS=-DHB_TR_LEVEL_DEBUG
     @set HB_USER_PRGFLAGS=-D__HB_DEBUG__
     @cd c:\downloads\harbour\contrib\hbqt
     @c:\downloads\harbour\win-make clean install

     @set PATH=%PATH%;C:\harbour\msvc\bin
     @cd c:\downloads\harbour\contrib\hbide
     @hbmk2 -rebuild hbide.hbp
     @cd c:\downloads\harbour\contrib\hbxbp\tests
     @hbmk2 demoxbp.prg
     @cd c:\downloads\harbour\contrib\hbqt\tests
     @hbmk2 demoqt.prg

     @set PATH=%PATH%;C:\Qt\4.6.0\bin
     @set HB_TR_LEVEL=HB_TR_DEBUG
     @set HB_TR_FLUSH=1
     @cd c:\downloads\harbour\contrib\hbide
     @hbide 2>c:\harbour\hbide.trace.log
     @pause
     @cd c:\downloads\harbour\contrib\hbxbp\tests
     @demoxbp 2>c:\harbour\demoxbp.trace.log
     @pause
     @cd c:\downloads\harbour\contrib\hbqt\tests
     @demoqt 2>c:\harbour\demoqt.trace.log
     @pause

Best regards,
Istv?n


From ice at extreme.hu  Sat Dec 12 16:43:27 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sat Dec 12 16:43:35 2009
Subject: [Harbour] hbver.c:iVerMinor and szSub
Message-ID: <alpine.DEB.2.00.0912122232550.4601@dawn.royalcomp.hu>


hi,

could i please have the implicit short intness of iverpatch (
hb_snprintf( pszCompiler, COMPILER_BUF_SIZE, "%s%s %hd.%hd.%hd", pszName, szSub, iVerMajor, iVerMinor, iVerPatch );
) lifted, and szSub extended by a few octets?

i'm massaging a compiler that encodes YYYYMM in the patch level, and 
the canonical version string rather needs a shoehorn fitting in 32 
octets.

thanks,

-- 
[-]

mkdir /nonexistent
From ice at extreme.hu  Sat Dec 12 16:47:51 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sat Dec 12 16:47:59 2009
Subject: [Harbour] hbver.c:iVerMinor and szSub
In-Reply-To: <alpine.DEB.2.00.0912122232550.4601@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0912122232550.4601@dawn.royalcomp.hu>
Message-ID: <alpine.DEB.2.00.0912122245440.4601@dawn.royalcomp.hu>


(subject should have read iVerPatch of course)

 > could i please have the implicit short intness of iverpatch (
 > hb_snprintf( pszCompiler, COMPILER_BUF_SIZE, "%s%s %hd.%hd.%hd", pszName, szSub, iVerMajor, iVerMinor, iVerPatch );
 > ) lifted, and szSub extended by a few octets?
 > 
 > i'm massaging a compiler that encodes YYYYMM in the patch level, and 
 > the canonical version string rather needs a shoehorn fitting in 32 
 > octets.
 > 
 > thanks,
 > 
 > 

-- 
[-]

mkdir /nonexistent
From mbelgrano at deltain.it  Sat Dec 12 17:07:30 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Dec 12 17:07:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13171] trunk/harbour
In-Reply-To: <2643444963990605431@unknownmsgid>
References: <E1NICKV-0006wo-NK@c3vjzd1.ch3.sourceforge.com> 
	<26712856.post@talk.nabble.com> <2643444963990605431@unknownmsgid>
Message-ID: <609353e70912121407s79b8701ah61009afc1ff01c27@mail.gmail.com>

Hi Istv?n
Thanks for share your experiences?
Follow my question

2009/12/12 Bisz Istv?n <Istvan.Bisz@t-online.hu>:
> ....
>
> ? ? @echo PREREQUISITES:
> ? ? @echo Installed Qt 4.6 for vs2008 to the default directory: C:/Qt/4.6.0/ ...
> ? ? @echo from: http://get.qt.nokia.com/qt/source/qt-win-opensource-4.6.0-vs2008.exe
> ? ? @echo Updated c:\download\harbour with the latest SVN
> ? ? @pause
>
> ? ? @set HB_WITH_QT=C:/Qt/4.6.0/include
Why not C:\Qt\4.6.0\include like other
> ? ? @set HB_INSTALL_PREFIX=c:\harbour\msvc
> ? ? @call "c:\Program Files\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
> ? ? @cd c:\downloads\harbour
> ? ? @win-make clean install
Here first make

> ? ? @set HB_USER_CFLAGS=-DHB_TR_LEVEL_DEBUG
> ? ? @set HB_USER_PRGFLAGS=-D__HB_DEBUG__
> ? ? @cd c:\downloads\harbour\contrib\hbqt
> ? ? @c:\downloads\harbour\win-make clean install
Why two execution of win-make clean install?

>
> ? ? @set PATH=%PATH%;C:\harbour\msvc\bin
> ? ? @cd c:\downloads\harbour\contrib\hbide
> ? ? @hbmk2 -rebuild hbide.hbp
> ? ? @cd c:\downloads\harbour\contrib\hbxbp\tests
> ? ? @hbmk2 demoxbp.prg
> ? ? @cd c:\downloads\harbour\contrib\hbqt\tests
> ? ? @hbmk2 demoqt.prg
>
> ? ? @set PATH=%PATH%;C:\Qt\4.6.0\bin
> ? ? @set HB_TR_LEVEL=HB_TR_DEBUG
> ? ? @set HB_TR_FLUSH=1
Why need prev
> ? ? @cd c:\downloads\harbour\contrib\hbide
> ? ? @hbide 2>c:\harbour\hbide.trace.log
> ? ? @pause
> ? ? @cd c:\downloads\harbour\contrib\hbxbp\tests
> ? ? @demoxbp 2>c:\harbour\demoxbp.trace.log
> ? ? @pause
> ? ? @cd c:\downloads\harbour\contrib\hbqt\tests
> ? ? @demoqt 2>c:\harbour\demoqt.trace.log
> ? ? @pause
>
> Best regards,


-- 
Massimo Belgrano
From Istvan.Bisz at t-online.hu  Sat Dec 12 17:19:21 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sat Dec 12 17:19:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13171] trunk/harbour
In-Reply-To: <609353e70912121407s79b8701ah61009afc1ff01c27@mail.gmail.com>
References: <E1NICKV-0006wo-NK@c3vjzd1.ch3.sourceforge.com>
	<26712856.post@talk.nabble.com> <2643444963990605431@unknownmsgid>
	<609353e70912121407s79b8701ah61009afc1ff01c27@mail.gmail.com>
Message-ID: <000101ca7b79$280b7820$78226860$@Bisz@t-online.hu>

Hi Massimo,

Maybe with the last release is not the case, but I had some problems with
'\' in include...
With this trick, just hbqt generates debug info, or you have an advise how
to restrict the debug setting to the hbqt libraries.
The flush force setting ensures that if a crash occurs the all previous
debug lines, just buffered, are written in the log file. 

Best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo Belgrano
Sent: 2009. december 12. 23:08
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] SF.net SVN: harbour-project:[13171] trunk/harbour

Hi Istv?n
Thanks for share your experiences?
Follow my question

2009/12/12 Bisz Istv?n <Istvan.Bisz@t-online.hu>:
> ....
>
> ? ? @echo PREREQUISITES:
> ? ? @echo Installed Qt 4.6 for vs2008 to the default directory:
C:/Qt/4.6.0/ ...
> ? ? @echo from:
http://get.qt.nokia.com/qt/source/qt-win-opensource-4.6.0-vs2008.exe
> ? ? @echo Updated c:\download\harbour with the latest SVN
> ? ? @pause
>
> ? ? @set HB_WITH_QT=C:/Qt/4.6.0/include
Why not C:\Qt\4.6.0\include like other
> ? ? @set HB_INSTALL_PREFIX=c:\harbour\msvc
> ? ? @call "c:\Program Files\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
x86
> ? ? @cd c:\downloads\harbour
> ? ? @win-make clean install
Here first make

> ? ? @set HB_USER_CFLAGS=-DHB_TR_LEVEL_DEBUG
> ? ? @set HB_USER_PRGFLAGS=-D__HB_DEBUG__
> ? ? @cd c:\downloads\harbour\contrib\hbqt
> ? ? @c:\downloads\harbour\win-make clean install
Why two execution of win-make clean install?

>
> ? ? @set PATH=%PATH%;C:\harbour\msvc\bin
> ? ? @cd c:\downloads\harbour\contrib\hbide
> ? ? @hbmk2 -rebuild hbide.hbp
> ? ? @cd c:\downloads\harbour\contrib\hbxbp\tests
> ? ? @hbmk2 demoxbp.prg
> ? ? @cd c:\downloads\harbour\contrib\hbqt\tests
> ? ? @hbmk2 demoqt.prg
>
> ? ? @set PATH=%PATH%;C:\Qt\4.6.0\bin
> ? ? @set HB_TR_LEVEL=HB_TR_DEBUG
> ? ? @set HB_TR_FLUSH=1
Why need prev
> ? ? @cd c:\downloads\harbour\contrib\hbide
> ? ? @hbide 2>c:\harbour\hbide.trace.log
> ? ? @pause
> ? ? @cd c:\downloads\harbour\contrib\hbxbp\tests
> ? ? @demoxbp 2>c:\harbour\demoxbp.trace.log
> ? ? @pause
> ? ? @cd c:\downloads\harbour\contrib\hbqt\tests
> ? ? @demoqt 2>c:\harbour\demoqt.trace.log
> ? ? @pause
>
> Best regards,


-- 
Massimo Belgrano
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Sat Dec 12 17:19:19 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Dec 12 17:19:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13171] trunk/harbour
In-Reply-To: <2643444963990605431@unknownmsgid>
References: <E1NICKV-0006wo-NK@c3vjzd1.ch3.sourceforge.com> 
	<26712856.post@talk.nabble.com> <2643444963990605431@unknownmsgid>
Message-ID: <609353e70912121419i4802c8aeo31223504a2b26bdf@mail.gmail.com>

Follow comment

2009/12/12 Bisz Istv?n <Istvan.Bisz@t-online.hu>:
>
> ....
>
> ? ? @echo PREREQUISITES:
> ? ? @echo 1) Installed Qt 4.5.3 for MinGW to the directory: C:/Qt/4.5.3/ ...
> ? ? @echo from: http://get.qt.nokia.com/qt/source/qt-win-opensource-4.5.3-mingw.exe
Here 4.6.0 link
> ? ? @echo 2) Installed tdm-mingw.4.4.1 to C:\devl\MinGWtdm\ ...
> ? ? @echo from: http://sunet.dl.sourceforge.net/project/tdm-gcc/TDM-MinGW%20Installer/1.908.0/tdm-mingw-1.908.0-4.4.1-2.exe
> ? ? @echo with dual SJLJ and Dwarf-2 installation into the same directory
How can be done either SLLJ and Dwarf-2?
The installer allow me only one
> ? ? @echo Use just the installer without manual unzipping...
> ? ? @echo 3) Updated c:\download\harbour with the latest SVN
> ? ? @pause
>
> ? ? @set HB_WITH_QT=C:/Qt/4.6.0M/include
> ? ? @set HB_INSTALL_PREFIX=c:\harbour\mingw
> ? ? @set PATH=%PATH%;C:\devl\MinGWtdm\bin
> ? ? @cd c:\downloads\harbour
>
> ? ? @set HB_USER_CFLAGS=-DUSE_DL_PREFIX
>
> ? ? @set HB_USER_LDFLAGS=-static-libgcc
> ? ? @set HB_USER_DFLAGS=-static-libgcc
> ? ? @win-make clean install
> ? ? @set HB_USER_LDFLAGS=
> ? ? @set HB_USER_DFLAGS=
> ? ? @set HB_USER_CFLAGS=-DHB_TR_LEVEL_DEBUG
> ? ? @set HB_USER_PRGFLAGS=-D__HB_DEBUG__
> ? ? @cd c:\downloads\harbour\contrib\hbqt
> ? ? @c:\downloads\harbour\win-make clean install
>
> ? ? @set PATH=%PATH%;C:\harbour\mingw\bin
> ? ? @cd c:\downloads\harbour\contrib\hbide
> ? ? @hbmk2 -rebuild hbide.hbp
> ? ? @cd c:\downloads\harbour\contrib\hbxbp\tests
> ? ? @hbmk2 demoxbp.prg
> ? ? @cd c:\downloads\harbour\contrib\hbqt\tests
> ? ? @hbmk2 demoqt.prg
>
> ? ? @set PATH=%PATH%;C:\Qt\4.6.0M\bin
> ? ? @set HB_TR_LEVEL=HB_TR_DEBUG
> ? ? @set HB_TR_FLUSH=1
> ? ? @cd c:\downloads\harbour\contrib\hbide
> ? ? @hbide 2>c:\harbour\hbide.trace.log
> ? ? @pause
> ? ? @cd c:\downloads\harbour\contrib\hbxbp\tests
> ? ? @demoxbp 2>c:\harbour\demoxbp.trace.log
> ? ? @pause
> ? ? @cd c:\downloads\harbour\contrib\hbqt\tests
> ? ? @demoqt 2>c:\harbour\demoqt.trace.log
> ? ? @pause
>
> ...
>
>

-- 
Massimo Belgrano
From Istvan.Bisz at t-online.hu  Sat Dec 12 17:28:19 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sat Dec 12 17:28:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13171] trunk/harbour
In-Reply-To: <609353e70912121419i4802c8aeo31223504a2b26bdf@mail.gmail.com>
References: <E1NICKV-0006wo-NK@c3vjzd1.ch3.sourceforge.com>
	<26712856.post@talk.nabble.com> <2643444963990605431@unknownmsgid>
	<609353e70912121419i4802c8aeo31223504a2b26bdf@mail.gmail.com>
Message-ID: <000201ca7b7a$694bead0$3be3c070$@Bisz@t-online.hu>

> How can be done either SLLJ and Dwarf-2?
> The installer allow me only one

The installer should be started two times indicating the same installation
directory, first executing the default SJLJ and second selecting the
Dwarf-2.


From druzus at users.sourceforge.net  Sat Dec 12 17:31:32 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Dec 12 17:31:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13232] trunk/harbour
Message-ID: <E1NJaUu-0007Cq-Be@d5vjzd1.ch3.sourceforge.com>

Revision: 13232
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13232&view=rev
Author:   druzus
Date:     2009-12-12 22:31:11 +0000 (Sat, 12 Dec 2009)

Log Message:
-----------
2009-12-12 23:29 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbsetup.h
  * harbour/include/hbdefs.h
  * harbour/include/hbthread.h
  * harbour/src/common/hbver.c
  * harbour/bin/hb-func.sh
  * harbour/bin/postinst.sh
  * harbour/config/linux/gcc.mk
  + harbour/config/linux/open64.mk
    + added support for Open64 C/C++ compiler in Linux builds

  * harbour/src/common/hbver.c
    * removed unnecessary casting compiler version number parameters
      to 'short'
    * extended the size of szBuf buffer as requested by Tamas

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/postinst.sh
    trunk/harbour/config/linux/gcc.mk
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbsetup.h
    trunk/harbour/include/hbthread.h
    trunk/harbour/src/common/hbver.c

Added Paths:
-----------
    trunk/harbour/config/linux/open64.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at users.sourceforge.net  Sat Dec 12 17:50:54 2009
From: toninhofwi at users.sourceforge.net (toninhofwi@users.sourceforge.net)
Date: Sat Dec 12 17:51:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13233] trunk/harbour
Message-ID: <E1NJane-0004Ij-KU@c3vjzd1.ch3.sourceforge.com>

Revision: 13233
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13233&view=rev
Author:   toninhofwi
Date:     2009-12-12 22:50:52 +0000 (Sat, 12 Dec 2009)

Log Message:
-----------
2009-12-12 20:48 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
  * harbour/contrib/hbwin/tests/testmapi.prg
    ! Very small fix

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/tests/testmapi.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Sat Dec 12 17:53:49 2009
From: toninhofwi at yahoo.com.br (ToninhoFWi)
Date: Sat Dec 12 17:53:49 2009
Subject: [Harbour] Adding MAPI to hbwin
In-Reply-To: <59B04F76-ABAD-4279-8FF6-0D40B17277CD@syenar.hu>
References: <3f35i5lfled9o07fats7vq257euaoupsl0@4ax.com>
	<9788EBD9-83F2-4CFC-9436-17C63EABFDE5@syenar.hu>
	<is47i59c5bur5evtksmeqn4lqfeapdf7p8@4ax.com>
	<0174DBA0-8B83-4819-AB94-884AE2F5E244@syenar.hu>
	<59B04F76-ABAD-4279-8FF6-0D40B17277CD@syenar.hu>
Message-ID: <ni78i51kj6e78hf3hpvfoq5pc50oo1ceq8@4ax.com>

>I've just found the example, sorry for missing it.

Hi Viktor.

Thanks a lot for your enhancements and fixes.

Now mapi is working fine and testmapi.prg is tested under windows
vista with success,

Best regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 

From mbelgrano at deltain.it  Sun Dec 13 06:00:16 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Dec 13 06:00:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13171] trunk/harbour
In-Reply-To: <7102218818199515754@unknownmsgid>
References: <E1NICKV-0006wo-NK@c3vjzd1.ch3.sourceforge.com> 
	<26712856.post@talk.nabble.com> <2643444963990605431@unknownmsgid> 
	<609353e70912121419i4802c8aeo31223504a2b26bdf@mail.gmail.com> 
	<7102218818199515754@unknownmsgid>
Message-ID: <609353e70912130300w7d6e5bddv7481cc06f96c6d77@mail.gmail.com>

Very
thanks Ivan
i have Finally resolved an old & unresolved problem in my installation
 compiling demoxbp
due by same old hhb.ch present in \contrib\hbxbp\tests

I confirm that your solution (-DUSE_DL_PREFIX.) not crash in exit for
Qt 4.6 for vs2008

compiling demoqt ,hbide and demoxhp i have received frequent problem
Is possible a version verifier for qt lib and path bin ,hbqt
lib,xhbp...mingw that may simple find where is error?

I was receiving error like:
C:/HARBOUR/lib/win/mingw/libhbqt.a(hbqt_events.o):hbqt_events.cpp:(.text+0x522):
 undefined reference to `_imp___ZN9QListData7detach3Ev'
..
Impossible found entry ?boundedToQsize@qbe?av1@abc1@@z
..
gcc.exe -c -O3 -march=i586 -mtune=pentiumpro -fomit-frame-pointer -DHB_TR_LEVEL_
DEBUG -Wall -W -IC:/HARBOUR/include -I../hbxbp -I../hbqt .hbmk\win\mingw\hbide.c
 -o .hbmk/win/mingw/hbide.o
..
Unresolved external _HB_FUN_HBXBP_DEBUG
..
demoxbp.prg(97) Warning W0001  Ambiguous reference 'HBQT_RELEASE_WITH_DESTRUTOR'

demoxbp.prg(228) Warning W0001  Ambiguous reference 'XBEP_CLOSE'
demoxbp.prg(232) Warning W0001  Ambiguous reference 'XBEK_F1'
demoxbp.prg(380) Warning W0001  Ambiguous reference 'XBPMENUBAR_MIA_HILITED'

resolved by a refresh deleting \contrib\hbxbp a update svn
..........

2009/12/12 Bisz Istv?n <Istvan.Bisz@t-online.hu>:
>> How can be done either SLLJ and Dwarf-2?
>> The installer allow me only one
>
> The installer should be started two times indicating the same installation
> directory, first executing the default SJLJ and second selecting the
> Dwarf-2.
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From e.m.giordano at emagsoftware.it  Sun Dec 13 08:00:21 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Dec 13 08:00:29 2009
Subject: [Harbour] Adding MAPI to hbwin
References: <3f35i5lfled9o07fats7vq257euaoupsl0@4ax.com><9788EBD9-83F2-4CFC-9436-17C63EABFDE5@syenar.hu><is47i59c5bur5evtksmeqn4lqfeapdf7p8@4ax.com><0174DBA0-8B83-4819-AB94-884AE2F5E244@syenar.hu><59B04F76-ABAD-4279-8FF6-0D40B17277CD@syenar.hu>
	<ni78i51kj6e78hf3hpvfoq5pc50oo1ceq8@4ax.com>
Message-ID: <6E229985C62043BA949EECF988F33EA4@emag>


-----Messaggio Originale----- 
Da: "ToninhoFWi" <toninhofwi@yahoo.com.br>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: sabato 12 dicembre 2009 23.53
Oggetto: Re: Re: [Harbour] Adding MAPI to hbwin


> Now mapi is working fine and testmapi.prg is tested under windows
> vista with success,

The following sample still GPFs for me (works fine using xHarbour):

#include "FiveWin.ch"
#include "Mail.ch"

static oWnd

//----------------------------------------------------------------------------//

function Main()

local oBar

DEFINE WINDOW oWnd TITLE "Using Windows MAIL Services"


SET MESSAGE OF oWnd TO "FiveWin - Windows MAIL support" CENTERED

ACTIVATE WINDOW oWnd ON INIT Test() ;
VALID MsgYesNo( "Want to end ?" )

return nil

//----------------------------------------------------------------------------//

function Test()

local oMail

DEFINE MAIL oMail ;
SUBJECT "Testing..." ;
TEXT "This is real xBase power at your fingertips!" ;
FROM USER ;
RECEIPT

ACTIVATE MAIL oMail

MsgInfo( oMail:nRetCode )

return nil

//----------------------------------------------------------------------------//

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vszakats at users.sourceforge.net  Sun Dec 13 08:49:16 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Dec 13 08:49:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13234] trunk/harbour
Message-ID: <E1NJop2-0004GX-48@3kljzd1.ch3.sourceforge.com>

Revision: 13234
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13234&view=rev
Author:   vszakats
Date:     2009-12-13 13:49:14 +0000 (Sun, 13 Dec 2009)

Log Message:
-----------
2009-12-13 14:46 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/mapi.c
    + Added support for unlimited number of recipients and
      attached files. Please test and review.

  * utils/hbmk2/hbmk2.prg
    + Added support for linux/open64. (Please test)

  * INSTALL
    + Added open64.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbwin/mapi.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Dec 13 08:49:41 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Dec 13 08:49:51 2009
Subject: [Harbour] Adding MAPI to hbwin
In-Reply-To: <6E229985C62043BA949EECF988F33EA4@emag>
References: <3f35i5lfled9o07fats7vq257euaoupsl0@4ax.com><9788EBD9-83F2-4CFC-9436-17C63EABFDE5@syenar.hu><is47i59c5bur5evtksmeqn4lqfeapdf7p8@4ax.com><0174DBA0-8B83-4819-AB94-884AE2F5E244@syenar.hu><59B04F76-ABAD-4279-8FF6-0D40B17277CD@syenar.hu>
	<ni78i51kj6e78hf3hpvfoq5pc50oo1ceq8@4ax.com>
	<6E229985C62043BA949EECF988F33EA4@emag>
Message-ID: <AD56C0A7-C86D-4DCF-A21A-7C75FD2146E5@syenar.hu>

Hi Enrico,

I can see no hbwin calls in this example.

Brgds,
Viktor

On 2009 Dec 13, at 14:00, Enrico Maria Giordano wrote:

> 
> -----Messaggio Originale----- Da: "ToninhoFWi" <toninhofwi@yahoo.com.br>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: sabato 12 dicembre 2009 23.53
> Oggetto: Re: Re: [Harbour] Adding MAPI to hbwin
> 
> 
>> Now mapi is working fine and testmapi.prg is tested under windows
>> vista with success,
> 
> The following sample still GPFs for me (works fine using xHarbour):
> 
> #include "FiveWin.ch"
> #include "Mail.ch"
> 
> static oWnd
> 
> //----------------------------------------------------------------------------//
> 
> function Main()
> 
> local oBar
> 
> DEFINE WINDOW oWnd TITLE "Using Windows MAIL Services"
> 
> 
> SET MESSAGE OF oWnd TO "FiveWin - Windows MAIL support" CENTERED
> 
> ACTIVATE WINDOW oWnd ON INIT Test() ;
> VALID MsgYesNo( "Want to end ?" )
> 
> return nil
> 
> //----------------------------------------------------------------------------//
> 
> function Test()
> 
> local oMail
> 
> DEFINE MAIL oMail ;
> SUBJECT "Testing..." ;
> TEXT "This is real xBase power at your fingertips!" ;
> FROM USER ;
> RECEIPT
> 
> ACTIVATE MAIL oMail
> 
> MsgInfo( oMail:nRetCode )
> 
> return nil
> 
> //----------------------------------------------------------------------------//
> 
> EMG
> 
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From e.m.giordano at emagsoftware.it  Sun Dec 13 08:59:53 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Dec 13 09:00:01 2009
Subject: [Harbour] Adding MAPI to hbwin
References: <3f35i5lfled9o07fats7vq257euaoupsl0@4ax.com><9788EBD9-83F2-4CFC-9436-17C63EABFDE5@syenar.hu><is47i59c5bur5evtksmeqn4lqfeapdf7p8@4ax.com><0174DBA0-8B83-4819-AB94-884AE2F5E244@syenar.hu><59B04F76-ABAD-4279-8FF6-0D40B17277CD@syenar.hu><ni78i51kj6e78hf3hpvfoq5pc50oo1ceq8@4ax.com><6E229985C62043BA949EECF988F33EA4@emag>
	<AD56C0A7-C86D-4DCF-A21A-7C75FD2146E5@syenar.hu>
Message-ID: <04DCEC7B7B814888AF145C9C252B612D@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: domenica 13 dicembre 2009 14.49
Oggetto: Re: [Harbour] Adding MAPI to hbwin


> Hi Enrico,
>
> I can see no hbwin calls in this example.

Sorry, I don't know what an "hbwin call" is. Anyway, the sample GPFs using 
Harbour and work fine using xHarbour. If I can be of any help in solving 
this problem please feel free to ask me.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Sun Dec 13 09:07:50 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Dec 13 09:07:59 2009
Subject: [Harbour] Adding MAPI to hbwin
In-Reply-To: <04DCEC7B7B814888AF145C9C252B612D@emag>
References: <3f35i5lfled9o07fats7vq257euaoupsl0@4ax.com><9788EBD9-83F2-4CFC-9436-17C63EABFDE5@syenar.hu><is47i59c5bur5evtksmeqn4lqfeapdf7p8@4ax.com><0174DBA0-8B83-4819-AB94-884AE2F5E244@syenar.hu><59B04F76-ABAD-4279-8FF6-0D40B17277CD@syenar.hu><ni78i51kj6e78hf3hpvfoq5pc50oo1ceq8@4ax.com><6E229985C62043BA949EECF988F33EA4@emag>
	<AD56C0A7-C86D-4DCF-A21A-7C75FD2146E5@syenar.hu>
	<04DCEC7B7B814888AF145C9C252B612D@emag>
Message-ID: <22122228-A79E-4DC8-85A0-A42AFC651F87@syenar.hu>

>> Hi Enrico,
>> 
>> I can see no hbwin calls in this example.
> 
> Sorry, I don't know what an "hbwin call" is. Anyway, the sample GPFs using Harbour and work fine using xHarbour. If I can be of any help in solving this problem please feel free to ask me.

You can help solving it if you post a 
self contained example, in which it's 
apparent what Harbour calls are made, 
and which we can run and reproduce the 
GPF. The first step is to drop FiveWin 
from the equation.

A 'hbwin call' is a call to a function 
present in hbwin lib.

Brgds,
Viktor

From e.m.giordano at emagsoftware.it  Sun Dec 13 09:36:16 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Dec 13 09:36:23 2009
Subject: [Harbour] Adding MAPI to hbwin
References: <3f35i5lfled9o07fats7vq257euaoupsl0@4ax.com><9788EBD9-83F2-4CFC-9436-17C63EABFDE5@syenar.hu><is47i59c5bur5evtksmeqn4lqfeapdf7p8@4ax.com><0174DBA0-8B83-4819-AB94-884AE2F5E244@syenar.hu><59B04F76-ABAD-4279-8FF6-0D40B17277CD@syenar.hu><ni78i51kj6e78hf3hpvfoq5pc50oo1ceq8@4ax.com><6E229985C62043BA949EECF988F33EA4@emag><AD56C0A7-C86D-4DCF-A21A-7C75FD2146E5@syenar.hu><04DCEC7B7B814888AF145C9C252B612D@emag>
	<22122228-A79E-4DC8-85A0-A42AFC651F87@syenar.hu>
Message-ID: <7F82D1E99F68425B85306CC34EEAA585@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: domenica 13 dicembre 2009 15.07
Oggetto: Re: [Harbour] Adding MAPI to hbwin


> You can help solving it if you post a
> self contained example, in which it's
> apparent what Harbour calls are made,
> and which we can run and reproduce the
> GPF. The first step is to drop FiveWin
> from the equation.

This is the equivalent sample without Fivewin:

FUNCTION MAIN()

    ? WIN_MAPISENDMAIL( "Testing...", "This is real xBase power at your 
fingertips!", , DTOS( DATE() ) + " " + TIME(), "", .T., .T., {}, {}, {} )

    INKEY( 0 )

    RETURN NIL

But unfortunately (or fortunately? :-) ) it doesn make any errors. :-(

> A 'hbwin call' is a call to a function
> present in hbwin lib.

Ah, ok.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Sun Dec 13 11:20:33 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Dec 13 11:20:45 2009
Subject: [Harbour] Adding MAPI to hbwin
In-Reply-To: <7F82D1E99F68425B85306CC34EEAA585@emag>
References: <3f35i5lfled9o07fats7vq257euaoupsl0@4ax.com><9788EBD9-83F2-4CFC-9436-17C63EABFDE5@syenar.hu><is47i59c5bur5evtksmeqn4lqfeapdf7p8@4ax.com><0174DBA0-8B83-4819-AB94-884AE2F5E244@syenar.hu><59B04F76-ABAD-4279-8FF6-0D40B17277CD@syenar.hu><ni78i51kj6e78hf3hpvfoq5pc50oo1ceq8@4ax.com><6E229985C62043BA949EECF988F33EA4@emag><AD56C0A7-C86D-4DCF-A21A-7C75FD2146E5@syenar.hu><04DCEC7B7B814888AF145C9C252B612D@emag>
	<22122228-A79E-4DC8-85A0-A42AFC651F87@syenar.hu>
	<7F82D1E99F68425B85306CC34EEAA585@emag>
Message-ID: <950DC49D-F7D6-46F0-A3E2-8182EEDDA8B2@syenar.hu>

>> You can help solving it if you post a
>> self contained example, in which it's
>> apparent what Harbour calls are made,
>> and which we can run and reproduce the
>> GPF. The first step is to drop FiveWin
>> from the equation.
> 
> This is the equivalent sample without Fivewin:
> 
> FUNCTION MAIN()
> 
>   ? WIN_MAPISENDMAIL( "Testing...", "This is real xBase power at your fingertips!", , DTOS( DATE() ) + " " + TIME(), "", .T., .T., {}, {}, {} )
> 
>   INKEY( 0 )
> 
>   RETURN NIL
> 
> But unfortunately (or fortunately? :-) ) it doesn make any errors. :-(

It's functionally equivalent, but I doubt FW uses this 
function internally. For sure this function has only been 
added to Harbour in the last couple of days, moreoever: 
with a brand new function name.

So, the problem must in FW or in the way FW interfaces 
with Harbour components. Only someone who has access to 
FW source code could tell more, also knowing exact 
component versions linked together.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Dec 13 11:30:17 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Dec 13 11:30:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13235] trunk/harbour
Message-ID: <E1NJrKr-00054D-Go@dn4whf1.ch3.sourceforge.com>

Revision: 13235
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13235&view=rev
Author:   vszakats
Date:     2009-12-13 16:30:16 +0000 (Sun, 13 Dec 2009)

Log Message:
-----------
2009-12-13 17:29 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/mapi.c
    ! Added back zeroing rcp/file structure list.

  * INSTALL
    * Minor.

  * contrib/gtwvg/wvgutils.c
  * contrib/hbwin/win_misc.c
  * contrib/hbwin/mapi.c
    * ZeroMemory() -> memset()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/gtwvg/wvgutils.c
    trunk/harbour/contrib/hbwin/mapi.c
    trunk/harbour/contrib/hbwin/win_misc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Sun Dec 13 12:01:10 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Dec 13 12:01:18 2009
Subject: [Harbour] Adding MAPI to hbwin
References: <3f35i5lfled9o07fats7vq257euaoupsl0@4ax.com><9788EBD9-83F2-4CFC-9436-17C63EABFDE5@syenar.hu><is47i59c5bur5evtksmeqn4lqfeapdf7p8@4ax.com><0174DBA0-8B83-4819-AB94-884AE2F5E244@syenar.hu><59B04F76-ABAD-4279-8FF6-0D40B17277CD@syenar.hu><ni78i51kj6e78hf3hpvfoq5pc50oo1ceq8@4ax.com><6E229985C62043BA949EECF988F33EA4@emag><AD56C0A7-C86D-4DCF-A21A-7C75FD2146E5@syenar.hu><04DCEC7B7B814888AF145C9C252B612D@emag><22122228-A79E-4DC8-85A0-A42AFC651F87@syenar.hu><7F82D1E99F68425B85306CC34EEAA585@emag>
	<950DC49D-F7D6-46F0-A3E2-8182EEDDA8B2@syenar.hu>
Message-ID: <E48168CD945B45778535078D4CB22497@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: domenica 13 dicembre 2009 17.20
Oggetto: Re: [Harbour] Adding MAPI to hbwin


> It's functionally equivalent, but I doubt FW uses this
> function internally. For sure this function has only been
> added to Harbour in the last couple of days, moreoever:
> with a brand new function name.
>
> So, the problem must in FW or in the way FW interfaces
> with Harbour components. Only someone who has access to
> FW source code could tell more, also knowing exact
> component versions linked together.

Ok, I just reported it to Antonio.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vouchcac at users.sourceforge.net  Sun Dec 13 15:48:54 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Dec 13 15:49:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13236] trunk/harbour
Message-ID: <E1NJvN8-0008CP-SG@d5vjzd1.ch3.sourceforge.com>

Revision: 13236
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13236&view=rev
Author:   vouchcac
Date:     2009-12-13 20:48:53 +0000 (Sun, 13 Dec 2009)

Log Message:
-----------
2009-12-03 12:43 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_hbqmainwindow.cpp
  * contrib/hbqt/hbqt_hbqmainwindow.h
  * contrib/hbxbp/xbpwindow.prg
    + Implemented GC collectible pointer for HBQMainWindow().

      /* Please do not commit anything in HBQT/HBXBP/HBIDE as I will be cleaning 
         up the code. BTW how can I invoke HBXBP_DEBUG() functionality.

         I was just busy with the preparations of my daughter's wedding.
      */

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_hbqmainwindow.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqmainwindow.h
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Dec 13 16:48:03 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Dec 13 16:48:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13237] trunk/harbour
Message-ID: <E1NJwIN-0007jd-R4@74yxhf1.ch3.sourceforge.com>

Revision: 13237
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13237&view=rev
Author:   vszakats
Date:     2009-12-13 21:48:02 +0000 (Sun, 13 Dec 2009)

Log Message:
-----------
2009-12-13 22:47 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/compiler/hbmain.c
  * src/compiler/cmdcheck.c
  * src/compiler/hbcomp.c
  * src/compiler/hbusage.c
  * include/hbcompdf.h
    + Added support for -i- and -i+ options. They will disable/enable 
      handling of INCLUDE envvar.

  * config/rules.mk
    + Added -i- Harbour compiler switch to avoid any interference 
      with user set INCLUDE envvars.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/rules.mk
    trunk/harbour/include/hbcompdf.h
    trunk/harbour/src/compiler/cmdcheck.c
    trunk/harbour/src/compiler/hbcomp.c
    trunk/harbour/src/compiler/hbmain.c
    trunk/harbour/src/compiler/hbusage.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Dec 13 18:07:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Dec 13 18:07:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13238] trunk/harbour
Message-ID: <E1NJxXM-00007F-La@dn4whf1.ch3.sourceforge.com>

Revision: 13238
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13238&view=rev
Author:   vszakats
Date:     2009-12-13 23:07:28 +0000 (Sun, 13 Dec 2009)

Log Message:
-----------
2009-12-14 00:04 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_misc.c
    ! Fixed WIN_ANSITOWIDE() and WIN_WIDETOANSI() to return string with
      proper length in all cases.
      Peer-review me pls.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_misc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Dec 13 18:25:30 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec 13 18:25:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13238] trunk/harbour
In-Reply-To: <E1NJxXM-00007F-La@dn4whf1.ch3.sourceforge.com>
References: <E1NJxXM-00007F-La@dn4whf1.ch3.sourceforge.com>
Message-ID: <66C232FD-583A-4EAC-AC0A-7D22C8B7B6DB@syenar.hu>

Actually it's still not ready yet.

There is CP_ACP parameter used (not just here BTW, but in 
all Harbour WideCharToMultiByte/MultiByteToWideChar calls), 
and this may not match with user set _SET_CODEPAGE.

Would it be a good solution to convert first to UTF8 and 
pass CP_UTF8 to these functions?

Brgds,
Viktor

On 2009 Dec 14, at 00:07, vszakats@users.sourceforge.net wrote:

> Revision: 13238
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13238&view=rev
> Author:   vszakats
> Date:     2009-12-13 23:07:28 +0000 (Sun, 13 Dec 2009)
> 
> Log Message:
> -----------
> 2009-12-14 00:04 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * contrib/hbwin/win_misc.c
>    ! Fixed WIN_ANSITOWIDE() and WIN_WIDETOANSI() to return string with
>      proper length in all cases.
>      Peer-review me pls.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbwin/win_misc.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From ice at extreme.hu  Mon Dec 14 00:20:07 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Mon Dec 14 00:20:17 2009
Subject: [Harbour] gcc2
Message-ID: <alpine.DEB.2.00.0912140616550.27623@dawn.royalcomp.hu>


hi,

would someone with gcc2 handy get me the output of

gcc -dM -E -xc /dev/null

please? (whatever /dev/null is on your platform; running it on an 
empty file is good, too.)

please indicate what platform you are on.

i am not at the moment interested in any other gcc version, only v2.

thanks,

-- 
[-]

mkdir /nonexistent
From siki at msoft.cz  Mon Dec 14 06:47:32 2009
From: siki at msoft.cz (Davor Siklic)
Date: Mon Dec 14 06:47:41 2009
Subject: [Harbour] gcc2
In-Reply-To: <alpine.DEB.2.00.0912140616550.27623@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0912140616550.27623@dawn.royalcomp.hu>
Message-ID: <4B2625D4.8030400@msoft.cz>

Tamas TEVESZ napsal(a):
> hi,
>
> would someone with gcc2 handy get me the output of
>
> gcc -dM -E -xc /dev/null
>
> please? (whatever /dev/null is on your platform; running it on an 
> empty file is good, too.)
>
> please indicate what platform you are on.
>
> i am not at the moment interested in any other gcc version, only v2.
>
> thanks,
>
>   
Not sure what you mean with "gcc2 handy" but there are my output

best regards
Davor

gcc -v
Using built-in specs.
Target: i486-linux-gnu
Configured with: ../src/configure -v --with-pkgversion='Ubuntu 
4.4.1-4ubuntu8' --with-bugurl=file:///usr/share/doc/gcc-4.4/README.Bugs 
--enable-languages=c,c++,fortran,objc,obj-c++ --prefix=/usr 
--enable-shared --enable-multiarch --enable-linker-build-id 
--with-system-zlib --libexecdir=/usr/lib --without-included-gettext 
--enable-threads=posix --with-gxx-include-dir=/usr/include/c++/4.4 
--program-suffix=-4.4 --enable-nls --enable-clocale=gnu 
--enable-libstdcxx-debug --enable-objc-gc --enable-targets=all 
--disable-werror --with-arch-32=i486 --with-tune=generic 
--enable-checking=release --build=i486-linux-gnu --host=i486-linux-gnu 
--target=i486-linux-gnu
Thread model: posix
gcc version 4.4.1 (Ubuntu 4.4.1-4ubuntu8)


siki@siki:~$ gcc -dM -E -xc /dev/null                                  
#define __DBL_MIN_EXP__ (-1021)                                        
#define __FLT_MIN__ 1.17549435e-38F                                    
#define __CHAR_BIT__ 8                                                 
#define __WCHAR_MAX__ 2147483647                                       
#define __GCC_HAVE_SYNC_COMPARE_AND_SWAP_1 1                           
#define __GCC_HAVE_SYNC_COMPARE_AND_SWAP_2 1                           
#define __GCC_HAVE_SYNC_COMPARE_AND_SWAP_4 1                           
#define __DBL_DENORM_MIN__ 4.9406564584124654e-324                     
#define __FLT_EVAL_METHOD__ 2                                          
#define __unix__ 1                                                     
#define __DBL_MIN_10_EXP__ (-307)                                      
#define __FINITE_MATH_ONLY__ 0                                         
#define __GNUC_PATCHLEVEL__ 1                                          
#define __DEC64_MAX_EXP__ 385                                          
#define __SHRT_MAX__ 32767                                             
#define __LDBL_MAX__ 1.18973149535723176502e+4932L                     
#define __UINTMAX_TYPE__ long long unsigned int                        
#define __linux 1                                                      
#define __DEC32_EPSILON__ 1E-6DF                                       
#define __unix 1                                                       
#define __LDBL_MAX_EXP__ 16384                                         
#define __linux__ 1                                                    
#define __SCHAR_MAX__ 127                                              
#define __DBL_DIG__ 15                                                 
#define _FORTIFY_SOURCE 2                                              
#define __SIZEOF_INT__ 4                                               
#define __SIZEOF_POINTER__ 4                                           
#define __USER_LABEL_PREFIX__                                          
#define __STDC_HOSTED__ 1                                              
#define __LDBL_HAS_INFINITY__ 1                                        
#define __FLT_EPSILON__ 1.19209290e-7F                                 
#define __LDBL_MIN__ 3.36210314311209350626e-4932L                     
#define __DEC32_MAX__ 9.999999E96DF                                    
#define __SIZEOF_LONG__ 4                                              
#define __DECIMAL_DIG__ 21                                             
#define __gnu_linux__ 1                                                
#define __LDBL_HAS_QUIET_NAN__ 1                                       
#define __GNUC__ 4                                                     
#define __FLT_HAS_DENORM__ 1                                           
#define __SIZEOF_LONG_DOUBLE__ 12                                      
#define __BIGGEST_ALIGNMENT__ 16                                       
#define __DBL_MAX__ 1.7976931348623157e+308                            
#define __DBL_HAS_INFINITY__ 1                                         
#define __DEC32_MIN_EXP__ (-94)                                        
#define __LDBL_HAS_DENORM__ 1                                          
#define __DEC128_MAX__ 9.999999999999999999999999999999999E6144DL      
#define __DEC32_MIN__ 1E-95DF                                          
#define __DBL_MAX_EXP__ 1024                                           
#define __DEC128_EPSILON__ 1E-33DL                                     
#define __LONG_LONG_MAX__ 9223372036854775807LL                        
#define __SIZEOF_SIZE_T__ 4                                            
#define __SIZEOF_WINT_T__ 4                                            
#define __GXX_ABI_VERSION 1002                                         
#define __FLT_MIN_EXP__ (-125)                                         
#define __DBL_MIN__ 2.2250738585072014e-308                            
#define __DECIMAL_BID_FORMAT__ 1                                       
#define __DEC128_MIN__ 1E-6143DL                                       
#define __REGISTER_PREFIX__                                            
#define __DBL_HAS_DENORM__ 1                                           
#define __NO_INLINE__ 1                                                
#define __i386 1                                                       
#define __FLT_MANT_DIG__ 24                                            
#define __VERSION__ "4.4.1"                                            
#define __DEC64_EPSILON__ 1E-15DD                                      
#define __DEC128_MIN_EXP__ (-6142)                                     
#define __i486__ 1                                                     
#define unix 1                                                         
#define __i386__ 1                                                     
#define __SIZE_TYPE__ unsigned int                                     
#define __ELF__ 1                                                      
#define __FLT_RADIX__ 2                                                
#define __LDBL_EPSILON__ 1.08420217248550443401e-19L                   
#define __SIZEOF_PTRDIFF_T__ 4                                         
#define __DEC32_SUBNORMAL_MIN__ 0.000001E-95DF                         
#define __FLT_HAS_QUIET_NAN__ 1                                        
#define __FLT_MAX_10_EXP__ 38                                          
#define __LONG_MAX__ 2147483647L                                       
#define __DEC128_SUBNORMAL_MIN__ 
0.000000000000000000000000000000001E-6143DL                                                                    

#define __FLT_HAS_INFINITY__ 1                                         
#define __DEC64_MAX__ 9.999999999999999E384DD                          
#define __CHAR16_TYPE__ short unsigned int                             
#define __DEC64_MANT_DIG__ 16                                          
#define __DEC32_MAX_EXP__ 97                                           
#define linux 1                                                        
#define __LDBL_MANT_DIG__ 64                                           
#define __DBL_HAS_QUIET_NAN__ 1                                        
#define __WCHAR_TYPE__ int                                             
#define __SIZEOF_FLOAT__ 4                                             
#define __DEC64_MIN_EXP__ (-382)                                       
#define __FLT_DIG__ 6                                                  
#define __INT_MAX__ 2147483647                                         
#define __i486 1                                                       
#define __FLT_MAX_EXP__ 128                                            
#define __DBL_MANT_DIG__ 53                                            
#define __DEC64_MIN__ 1E-383DD                                         
#define __WINT_TYPE__ unsigned int                                     
#define __SIZEOF_SHORT__ 2                                             
#define __LDBL_MIN_EXP__ (-16381)                                      
#define __SSP__ 1                                                      
#define __LDBL_MAX_10_EXP__ 4932                                       
#define __DBL_EPSILON__ 2.2204460492503131e-16                         
#define __SIZEOF_WCHAR_T__ 4
#define __DEC_EVAL_METHOD__ 2
#define __INTMAX_MAX__ 9223372036854775807LL
#define __FLT_DENORM_MIN__ 1.40129846e-45F
#define __CHAR32_TYPE__ unsigned int
#define __FLT_MAX__ 3.40282347e+38F
#define __SIZEOF_DOUBLE__ 8
#define __FLT_MIN_10_EXP__ (-37)
#define __INTMAX_TYPE__ long long int
#define i386 1
#define __DEC128_MAX_EXP__ 6145
#define __GNUC_MINOR__ 4
#define __DEC32_MANT_DIG__ 7
#define __DBL_MAX_10_EXP__ 308
#define __LDBL_DENORM_MIN__ 3.64519953188247460253e-4951L
#define __STDC__ 1
#define __PTRDIFF_TYPE__ int
#define __DEC64_SUBNORMAL_MIN__ 0.000000000000001E-383DD
#define __DEC128_MANT_DIG__ 34
#define __LDBL_MIN_10_EXP__ (-4931)
#define __SIZEOF_LONG_LONG__ 8
#define __LDBL_DIG__ 18
#define __GNUC_GNU_INLINE__ 1

From vszakats at users.sourceforge.net  Mon Dec 14 07:47:39 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Dec 14 07:47:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13239] trunk/harbour
Message-ID: <E1NKAKx-00048g-Hs@dn4whf1.ch3.sourceforge.com>

Revision: 13239
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13239&view=rev
Author:   vszakats
Date:     2009-12-14 12:47:32 +0000 (Mon, 14 Dec 2009)

Log Message:
-----------
2009-12-14 13:45 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn2.c
    + Eliminated rest of HB_TCHAR*() calls.
      Please review, and test for memory leaks.
    ; No more HB_TCHAR*() macros in hbwin code.

  * contrib/hbwin/win_misc.c
    + Added cast.

  * contrib/hbqt/hbqt_base.cpp
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_base.cpp
    trunk/harbour/contrib/hbwin/win_misc.c
    trunk/harbour/contrib/hbwin/win_prn2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From gvarona at ec-red.com  Mon Dec 14 07:51:38 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Mon Dec 14 07:48:34 2009
Subject: [Harbour] Is there any example to print a DBF with QT?
Message-ID: <hg5c61$33p$1@ger.gmane.org>

Is there any example to print a DBF with QT?

TIA

BestRegards
GVS

From vszakats at users.sourceforge.net  Mon Dec 14 07:52:57 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Dec 14 07:53:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13240] trunk/harbour
Message-ID: <E1NKAQ5-0004KV-Gk@dn4whf1.ch3.sourceforge.com>

Revision: 13240
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13240&view=rev
Author:   vszakats
Date:     2009-12-14 12:52:48 +0000 (Mon, 14 Dec 2009)

Log Message:
-----------
2009-12-14 13:52 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn2.c
    ! Missing hb_itemRelease() from prev commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Dec 14 08:22:27 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Dec 14 08:22:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13241] trunk/harbour
Message-ID: <E1NKAsd-0001bE-31@3kljzd1.ch3.sourceforge.com>

Revision: 13241
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13241&view=rev
Author:   vszakats
Date:     2009-12-14 13:22:25 +0000 (Mon, 14 Dec 2009)

Log Message:
-----------
2009-12-14 14:21 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_os.prg
  * contrib/hbwin/wapi_winuser.c
  * contrib/hbwin/axcore.c
  * contrib/hbwin/wapi_commctrl.c
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/axcore.c
    trunk/harbour/contrib/hbwin/wapi_commctrl.c
    trunk/harbour/contrib/hbwin/wapi_winuser.c
    trunk/harbour/contrib/hbwin/win_os.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Mon Dec 14 10:45:02 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec 14 10:45:10 2009
Subject: [Harbour] Is there any example to print a DBF with QT?
In-Reply-To: <hg5c61$33p$1@ger.gmane.org>
References: <hg5c61$33p$1@ger.gmane.org>
Message-ID: <26779860.post@talk.nabble.com>


Hi


Guillermo Varona wrote:
> 
> Is there any example to print a DBF with QT?
> 

What you mean by "print with QT'?
You can peep into HBXBP demos XbpBrowse() implementation.
Everything is under tour control, just hook in printing mechanism.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/Is-there-any-example-to-print-a-DBF-with-QT--tp26777300p26779860.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Mon Dec 14 11:26:00 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Dec 14 11:26:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13242] trunk/harbour
Message-ID: <E1NKDkG-0002Aw-Mp@d5vjzd1.ch3.sourceforge.com>

Revision: 13242
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13242&view=rev
Author:   druzus
Date:     2009-12-14 16:25:52 +0000 (Mon, 14 Dec 2009)

Log Message:
-----------
2009-12-14 17:25 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/hbcrc.c
    ! fixed hb_crcct() to work with polynomials smaller then 8 bit,
      i.e. parity bit: x^1+1 => 3
    % small simplification in hb_crc() function

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/hbcrc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Dec 14 12:51:10 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec 14 12:51:19 2009
Subject: [Harbour] gcc2
In-Reply-To: <alpine.DEB.2.00.0912140616550.27623@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0912140616550.27623@dawn.royalcomp.hu>
Message-ID: <20091214175110.GA31986@linux-4bod.home.aster.pl>

On Mon, 14 Dec 2009, Tamas TEVESZ wrote:

Hi,

> would someone with gcc2 handy get me the output of
> gcc -dM -E -xc /dev/null
> please? (whatever /dev/null is on your platform; running it on an 
> empty file is good, too.)

On some platform /dev/null in read works like /dev/zero so above
command may crash.

> please indicate what platform you are on.

See __VERSION__ below.

> i am not at the moment interested in any other gcc version, only v2.

#define __USER_LABEL_PREFIX__
#define __SIZE_TYPE__ unsigned int
#define __PTRDIFF_TYPE__ int
#define __HAVE_BUILTIN_SETJMP__ 1
#define __i386 1
#define __GNUC_PATCHLEVEL__ 0
#define __ELF__ 1
#define __WCHAR_TYPE__ long int
#define __NO_INLINE__ 1
#define __GNUC_MINOR__ 96
#define __WINT_TYPE__ unsigned int
#define __tune_i386__ 1
#define __unix 1
#define unix 1
#define __REGISTER_PREFIX__
#define __linux 1
#define __GNUC__ 2
#define i386 1
#define __linux__ 1
#define __VERSION__ "2.96 20000731 (Red Hat Linux 7.3 2.96-110)"
#define __i386__ 1
#define linux 1
#define __unix__ 1

best regards,
Przemek
From vouchcac at users.sourceforge.net  Mon Dec 14 13:03:49 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Dec 14 13:03:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13243] trunk/harbour
Message-ID: <E1NKFGv-0007XF-DE@dn4whf1.ch3.sourceforge.com>

Revision: 13243
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13243&view=rev
Author:   vouchcac
Date:     2009-12-14 18:03:45 +0000 (Mon, 14 Dec 2009)

Log Message:
-----------
2009-12-14 10:01 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt.h
  * contrib/hbqt/hbqt_hbdbfmodel.cpp
  * contrib/hbqt/hbqt_hbdbfmodel.h
  * contrib/hbqt/qtcore/QAbstractItemModel.cpp
  * contrib/hbqt/qtcore/TQAbstractItemModel.prg
  * contrib/hbqt/qth/QAbstractItemModel.qth
  * contrib/hbxbp/xbpbrowse.prg
    + Implemented GC collectible pointer for HBDbfModel() class.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_hbdbfmodel.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbdbfmodel.h
    trunk/harbour/contrib/hbqt/qtcore/QAbstractItemModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractItemModel.prg
    trunk/harbour/contrib/hbqt/qth/QAbstractItemModel.qth
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Mon Dec 14 13:22:48 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Mon Dec 14 13:23:03 2009
Subject: [Harbour] HBQT - demoqt default MinGW build (HB_FM_DL_ALLOC without
	USE_DL_PREFIX) crashes 
Message-ID: <001001ca7cea$719cbf90$54d63eb0$@Bisz@t-online.hu>

Hi Przemek,

 

In the last few weeks I tried to test in a Vista environment the hbqt and
hbxbp libraries with the hbide, demoxpb and demoqt.

The scope of my tests is the Qt 4.5 last patch release (4.5.3) and the new
Qt 4.6 first released (4.6.0) with two development environments:

1.      TDM-MinGW with GCC 4.4.1.

2.      VS2008 with the latest SP2.

The all test variants goes well, just in two cases I encountered GPF-s:

A.     demoqt and Qt 4.5.3 with TDM-MinGW

B.     demoqt and Qt 4.6.0 with TDM-MinGW

In both cases the crash appears with default build at the first delete
operator execution tentative.

In the GDB with the Application Verifier enabled the crash appears as:

warning: HEAP[demoqt.exe]:

warning: Invalid address specified to RtlSizeHeap( 003B0000, 01A99C08 )

 

 

Program received signal SIGTRAP, Trace/breakpoint trap.

0x77068b2f in ntdll!DbgUiConvertStateChangeStructure ()

    from C:\Windows\system32\ntdll.dll

 

After searching for similar issues on the net, I concluded that the conflict
appears due to the dual memory handling conflicts in this environment.

Going deeper in this issue, I had positive test with USE_DL_PREFIX macro
define at habour default build. An alternative solution is the harbour
default build with HB_FM_STD_ALLOC macro define.

If we build the harbour with cpp mode or build the demoqt with MT and
default harbour build, everything is OK, the demoqt exits without crash.

 

My question is, do we need to force  the USE_DL_PREFIX macro for the mingw
default builds as for MSC?

 

Or maybe there are some other approaches like  HB_FM_STD_ALLOC macro
definition.

 

Best regards,

Istv?n

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091214/22750512/attachment.html
From druzus at acn.waw.pl  Mon Dec 14 14:07:49 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec 14 14:07:57 2009
Subject: [Harbour] HBQT - demoqt default MinGW build (HB_FM_DL_ALLOC
	without USE_DL_PREFIX) crashes
In-Reply-To: <001001ca7cea$719cbf90$54d63eb0$@Bisz@t-online.hu>
References: <001001ca7cea$719cbf90$54d63eb0$@Bisz@t-online.hu>
Message-ID: <20091214190749.GA897@linux-4bod.home.aster.pl>

On Mon, 14 Dec 2009, Bisz Istv?n wrote:

Hi,

> Hi Przemek,
[...]
> My question is, do we need to force  the USE_DL_PREFIX macro for the mingw
> default builds as for MSC?

It's possible. Replacing default malloc()/free() functions have to be
global. Some compilers may keep some hardcoded references to default
memory manager and in such case they will crash when memory pointers
from two different memory manager are mixed.
In this case with HBQT you are introducing C++ RTL which may use it's
own references to build in memory manager. It's possible that adding
this code to one of HBQT CPP files will resolve the problem:

   void * operator new( size_t nSize ) { return hb_xgrab( nSize ); }
   void operator delete( void * p ) { hb_xfree( p ); }

You can test it but it may also create new one if some code does not
cleanly removes all allocated objects before HVM exit which may also
deinitialize some other memory managers.
Enabling USE_DL_PREFIX resolves any possible conflicts with C/C++ RTL
though it's less efficient. But if current state creates real problems
then we should change it and enable full memory manager replacement
only on explicit user request by some macro, i.e. HB_FM_DL_PREFIX_OFF.

> Or maybe there are some other approaches like  HB_FM_STD_ALLOC macro
> definition.

It's rather inefficients memory manager so for many users it will be
hard to accept it.

best regards,
Przemek
From Istvan.Bisz at t-online.hu  Mon Dec 14 15:06:57 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Mon Dec 14 15:07:06 2009
Subject: [Harbour] HBQT - demoqt default MinGW build
	(HB_FM_DL_ALLOC	without USE_DL_PREFIX) crashes
In-Reply-To: <20091214190749.GA897@linux-4bod.home.aster.pl>
References: <001001ca7cea$719cbf90$54d63eb0$@Bisz@t-online.hu>
	<20091214190749.GA897@linux-4bod.home.aster.pl>
Message-ID: <001e01ca7cf8$fdc59b00$f950d100$@Bisz@t-online.hu>

Hi,

> It's possible. Replacing default malloc()/free() functions have to be global. Some compilers may keep some hardcoded references to default memory manager and in such case they will crash when memory pointers from two different memory manager are mixed.
> In this case with HBQT you are introducing C++ RTL which may use it's own references to build in memory manager. It's possible that adding this code to one of HBQT CPP files will resolve the problem:

>   void * operator new( size_t nSize ) { return hb_xgrab( nSize ); }
>   void operator delete( void * p ) { hb_xfree( p ); }

> You can test it but it may also create new one if some code does not cleanly removes all allocated objects before HVM exit which may also deinitialize some other memory managers.

Yes, it is desirable to have as many as possible memory management calls in a single HVM managements/statistics, if it is possible.
Taking into consideration that we are in releasing stage, this approach should be postponed after release freezing taking into consideration that the testing takes a relative long time and possible new issues generation.
I can mention here, that Qt collects in a single cpp the MM calls and offers in this way for special builds, maybe for harbour, the malloc()/free() capture. But this will be a future task, s I see now.

> Enabling USE_DL_PREFIX resolves any possible conflicts with C/C++ RTL
> though it's less efficient. But if current state creates real problems
> then we should change it and enable full memory manager replacement
> only on explicit user request by some macro, i.e. HB_FM_DL_PREFIX_OFF.

If it is a solution for the upcoming release, we should freeze our possibilities related to the working default built for both MSC and MinGW too.  

>> Or maybe there are some other approaches like  HB_FM_STD_ALLOC macro
>> definition.

>It's rather inefficients memory manager so for many users it will be
>hard to accept it.

OK, I accept this.

Best regards,
Istv?n


From gvarona at ec-red.com  Mon Dec 14 15:09:56 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Mon Dec 14 15:07:12 2009
Subject: [Harbour] Re: Is there any example to print a DBF with QT?
In-Reply-To: <26779860.post@talk.nabble.com>
References: <hg5c61$33p$1@ger.gmane.org> <26779860.post@talk.nabble.com>
Message-ID: <hg65rp$5kf$1@ger.gmane.org>

Pritpal Bedi escribi?:
> Hi
> Guillermo Varona wrote:
>> Is there any example to print a DBF with QT?
>>
> What you mean by "print with QT'?
> You can peep into HBXBP demos XbpBrowse() implementation.
> Everything is under tour control, just hook in printing mechanism.


[SPA]
Quiz?s no me explique bien, me referia a poder utilizar los dialogos de 
impresi?n que utiliza QT, sobre todo la vista previa que tiene varias 
herramientas, incluida la impresi?n.
Estuve mirando el demo, pero esta bastante complejo para mi nivel de 
conocimiento, habr? algo mas sencillo de entender?
De todas formas, voy a seguir mirando esta poderosa contribuci?n.
Muchas gracias Pritpal por este gran aporte

[ENG] by Google
Maybe I am not explaining well, I meant to use the print dialogues using 
QT, especially the preview that has several tools, including printing.
I watched the demo, but this rather complex for my level of knowledge, 
there will be something easier to understand?
Anyway, I'll keep watching this powerful contribution.
Pritpal thank you very much for this great contribution

BestRegards.
GVS

From amigosam at adinet.com.uy  Mon Dec 14 18:11:28 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Dec 14 18:12:08 2009
Subject: [Harbour] Errors under ubuntu
Message-ID: <hg6gn3$dsq$1@ger.gmane.org>

Hello All	

If I'm doing nothing wrong I'm getting this errors under UBUNTU

> gcc   -I. -I../../../../../include -Wall -W -O3  -I/usr/include/qt4 -I/usr/include/qt4/QtCore -I/usr/include/qt4/QtGui -I/usr/include/qt4/QtNetwork  -omoc_hbqt_events.o -c moc_hbqt_events.cpp
> moc_hbqt_events.cpp:15:34: error: private/qucomextra_p.h: No existe el fichero ? directorio
> moc_hbqt_events.cpp:17:2: error: #error "This file was generated using the moc from 3.3.8b. It"
> moc_hbqt_events.cpp:18:2: error: #error "cannot be used with the include files from this version of Qt."
> moc_hbqt_events.cpp:19:2: error: #error "(The moc has changed too much.)"
> moc_hbqt_events.cpp:22: error: no ?const char* Events::className() const? member function declared in class ?Events?
> moc_hbqt_events.cpp:27: error: ?QMetaObject* Events::metaObj? is not a static member of ?class Events?
> moc_hbqt_events.cpp:28: error: ?QMetaObjectCleanUp? does not name a type
> moc_hbqt_events.cpp:31: error: redefinition of ?static QString Events::tr(const char*, const char*)?
> ../../../hbqt_events.h:68: error: ?static QString Events::tr(const char*, const char*)? previously defined here
> moc_hbqt_events.cpp:39: error: redefinition of ?static QString Events::trUtf8(const char*, const char*)?
> ../../../hbqt_events.h:68: error: ?static QString Events::trUtf8(const char*, const char*)? previously defined here
> moc_hbqt_events.cpp:50: error: no ?QMetaObject* Events::staticMetaObject()? member function declared in class ?Events?
> moc_hbqt_events.cpp:68: error: no ?void* Events::qt_cast(const char*)? member function declared in class ?Events?
> moc_hbqt_events.cpp:75: error: ?QUObject? has not been declared
> moc_hbqt_events.cpp:75: error: no ?bool Events::qt_invoke(int, int*)? member function declared in class ?Events?
> moc_hbqt_events.cpp:80: error: ?QUObject? has not been declared
> moc_hbqt_events.cpp:80: error: no ?bool Events::qt_emit(int, int*)? member function declared in class ?Events?
> moc_hbqt_events.cpp:86: error: no ?bool Events::qt_property(int, int, QVariant*)? member function declared in class ?Events?
> moc_hbqt_events.cpp:91: error: no ?bool Events::qt_static_property(QObject*, int, int, QVariant*)? member function declared in class ?Events?

> make[3]: *** [moc_hbqt_events.o] Error 1
> make[2]: *** [descend] Error 2
> make[1]: *** [hbqt] Error 2
> make: *** [contrib] Error 2

HTH

Angel

From harbour.01 at syenar.hu  Mon Dec 14 18:16:15 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 14 18:16:25 2009
Subject: [Harbour] HBQT - demoqt default MinGW build
	(HB_FM_DL_ALLOC	without USE_DL_PREFIX) crashes
In-Reply-To: <001e01ca7cf8$fdc59b00$f950d100$@Bisz@t-online.hu>
References: <001001ca7cea$719cbf90$54d63eb0$@Bisz@t-online.hu>
	<20091214190749.GA897@linux-4bod.home.aster.pl>
	<001e01ca7cf8$fdc59b00$f950d100$@Bisz@t-online.hu>
Message-ID: <F13D6AED-26DA-411A-B33B-4A2216CA1ACA@syenar.hu>

Hi All,

>> It's possible. Replacing default malloc()/free() functions have to be global. Some compilers may keep some hardcoded references to default memory manager and in such case they will crash when memory pointers from two different memory manager are mixed.
>> In this case with HBQT you are introducing C++ RTL which may use it's own references to build in memory manager. It's possible that adding this code to one of HBQT CPP files will resolve the problem:
> 
>>  void * operator new( size_t nSize ) { return hb_xgrab( nSize ); }
>>  void operator delete( void * p ) { hb_xfree( p ); }

Here's QT docs about this topic:
   http://doc.trolltech.com/4.5/qt-performance.html#alternative-memory-allocation

We already have part of this enabled in fm.c, but only 
when building core in C++ mode, and if FMSTAT is enabled.

Maybe we should create a small contrib lib with just 
that, so that it could be used by any C++ contribs we 
may happen to have in the future (plus hbqt of course).

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Mon Dec 14 18:16:32 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Dec 14 18:16:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13244] trunk/harbour
Message-ID: <E1NKK9Y-0001Op-Lo@dn4whf1.ch3.sourceforge.com>

Revision: 13244
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13244&view=rev
Author:   vouchcac
Date:     2009-12-14 23:16:30 +0000 (Mon, 14 Dec 2009)

Log Message:
-----------
2009-12-14 10:01 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt.h
  * contrib/hbqt/hbqt_hbqtableview.cpp
  * contrib/hbqt/qtgui/QTableView.cpp
  * contrib/hbqt/qtgui/TQTableView.prg
  * contrib/hbqt/qth/QTableView.qth
  * contrib/hbxbp/xbpbrowse.prg
    + Implemented GC collectible pointers for HBTableView() class.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_hbqtableview.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableView.cpp
    trunk/harbour/contrib/hbqt/qtgui/TQTableView.prg
    trunk/harbour/contrib/hbqt/qth/QTableView.qth
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Dec 14 18:21:32 2009
From: harbour.01 at syenar.hu (=?windows-1252?Q?Viktor_Szak=E1ts?=)
Date: Mon Dec 14 18:21:46 2009
Subject: [Harbour] Errors under ubuntu
In-Reply-To: <hg6gn3$dsq$1@ger.gmane.org>
References: <hg6gn3$dsq$1@ger.gmane.org>
Message-ID: <91191A5E-AF7F-4A71-8CB4-13FEAD622352@syenar.hu>

Hi,

Try exchanging line 56 with line 58 in contrib/hbqt/detect.mk 
and report results.

Even if this works I'd appreciate if someone could give 
ideas how to make moc tool detection reliable on the long 
run, while keeping it simple. Distros are apparently messing 
it up badly, but maybe someone can see the big picture here 
and there is logic in it.

Brgds,
Viktor

On 2009 Dec 15, at 00:11, Angel Pais wrote:

> Hello All	
> 
> If I'm doing nothing wrong I'm getting this errors under UBUNTU
> 
>> gcc   -I. -I../../../../../include -Wall -W -O3  -I/usr/include/qt4 -I/usr/include/qt4/QtCore -I/usr/include/qt4/QtGui -I/usr/include/qt4/QtNetwork  -omoc_hbqt_events.o -c moc_hbqt_events.cpp
>> moc_hbqt_events.cpp:15:34: error: private/qucomextra_p.h: No existe el fichero ? directorio
>> moc_hbqt_events.cpp:17:2: error: #error "This file was generated using the moc from 3.3.8b. It"
>> moc_hbqt_events.cpp:18:2: error: #error "cannot be used with the include files from this version of Qt."
>> moc_hbqt_events.cpp:19:2: error: #error "(The moc has changed too much.)"
>> moc_hbqt_events.cpp:22: error: no ?const char* Events::className() const? member function declared in class ?Events?
>> moc_hbqt_events.cpp:27: error: ?QMetaObject* Events::metaObj? is not a static member of ?class Events?
>> moc_hbqt_events.cpp:28: error: ?QMetaObjectCleanUp? does not name a type
>> moc_hbqt_events.cpp:31: error: redefinition of ?static QString Events::tr(const char*, const char*)?
>> ../../../hbqt_events.h:68: error: ?static QString Events::tr(const char*, const char*)? previously defined here
>> moc_hbqt_events.cpp:39: error: redefinition of ?static QString Events::trUtf8(const char*, const char*)?
>> ../../../hbqt_events.h:68: error: ?static QString Events::trUtf8(const char*, const char*)? previously defined here
>> moc_hbqt_events.cpp:50: error: no ?QMetaObject* Events::staticMetaObject()? member function declared in class ?Events?
>> moc_hbqt_events.cpp:68: error: no ?void* Events::qt_cast(const char*)? member function declared in class ?Events?
>> moc_hbqt_events.cpp:75: error: ?QUObject? has not been declared
>> moc_hbqt_events.cpp:75: error: no ?bool Events::qt_invoke(int, int*)? member function declared in class ?Events?
>> moc_hbqt_events.cpp:80: error: ?QUObject? has not been declared
>> moc_hbqt_events.cpp:80: error: no ?bool Events::qt_emit(int, int*)? member function declared in class ?Events?
>> moc_hbqt_events.cpp:86: error: no ?bool Events::qt_property(int, int, QVariant*)? member function declared in class ?Events?
>> moc_hbqt_events.cpp:91: error: no ?bool Events::qt_static_property(QObject*, int, int, QVariant*)? member function declared in class ?Events?
> 
>> make[3]: *** [moc_hbqt_events.o] Error 1
>> make[2]: *** [descend] Error 2
>> make[1]: *** [hbqt] Error 2
>> make: *** [contrib] Error 2
> 
> HTH
> 
> Angel
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Mon Dec 14 18:46:03 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Dec 14 18:46:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13245] trunk/harbour
Message-ID: <E1NKKc7-0001PU-P3@d5vjzd1.ch3.sourceforge.com>

Revision: 13245
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13245&view=rev
Author:   vszakats
Date:     2009-12-14 23:45:59 +0000 (Mon, 14 Dec 2009)

Log Message:
-----------
2009-12-15 00:44 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbwin/win_regc.c
    * Minor cleanup to make code more robust.

  * contrib/hbqt/qtgui/QTableView.cpp
    * Some minor changes after regenerating it with current generator tool.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/qtgui/QTableView.cpp
    trunk/harbour/contrib/hbwin/win_regc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Mon Dec 14 18:49:01 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Mon Dec 14 18:49:09 2009
Subject: [Harbour] Errors under ubuntu
In-Reply-To: <91191A5E-AF7F-4A71-8CB4-13FEAD622352@syenar.hu>
References: <hg6gn3$dsq$1@ger.gmane.org>
	<91191A5E-AF7F-4A71-8CB4-13FEAD622352@syenar.hu>
Message-ID: <alpine.DEB.2.00.0912150036460.27623@dawn.royalcomp.hu>

On Tue, 15 Dec 2009, Viktor Szak?ts wrote:

hi,

 > Try exchanging line 56 with line 58 in contrib/hbqt/detect.mk 
 > and report results.
 > 
 > Even if this works I'd appreciate if someone could give 
 > ideas how to make moc tool detection reliable on the long 
 > run, while keeping it simple. Distros are apparently messing 
 > it up badly, but maybe someone can see the big picture here 
 > and there is logic in it.

the current one looks ok to me. i think angel has his moc 
configuration screwed up.

angel, what do you get (on a completely clean checkout) after you have 
had moc pointing to moc-qt4 by running `update-alternatives --config moc' 
(and obviously selecting moc-qt4)?

if i'm right, then viktor, i don't think an explicit test for moc-qt4 
is needed (unless the qt sdk itself has it so, which i do not know), 
but people need to learn their tools.

the logic is that (since one can have qt3 and qt4 dev installed 
simultaneously), one gets to decide which one does one want "by 
default". you trying to work around users picking the wrong one (or 
not picking the right one) is an uphill battle, and you probably have 
better things to do ;)

 > 
 > Brgds,
 > Viktor
 > 
 > On 2009 Dec 15, at 00:11, Angel Pais wrote:
 > 
 > > Hello All	
 > > 
 > > If I'm doing nothing wrong I'm getting this errors under UBUNTU
 > > 
 > >> gcc   -I. -I../../../../../include -Wall -W -O3  -I/usr/include/qt4 -I/usr/include/qt4/QtCore -I/usr/include/qt4/QtGui -I/usr/include/qt4/QtNetwork  -omoc_hbqt_events.o -c moc_hbqt_events.cpp
 > >> moc_hbqt_events.cpp:15:34: error: private/qucomextra_p.h: No existe el fichero ? directorio
 > >> moc_hbqt_events.cpp:17:2: error: #error "This file was generated using the moc from 3.3.8b. It"
 > >> moc_hbqt_events.cpp:18:2: error: #error "cannot be used with the include files from this version of Qt."
 > >> moc_hbqt_events.cpp:19:2: error: #error "(The moc has changed too much.)"
 > >> moc_hbqt_events.cpp:22: error: no ?const char* Events::className() const? member function declared in class ?Events?
 > >> moc_hbqt_events.cpp:27: error: ?QMetaObject* Events::metaObj? is not a static member of ?class Events?
 > >> moc_hbqt_events.cpp:28: error: ?QMetaObjectCleanUp? does not name a type
 > >> moc_hbqt_events.cpp:31: error: redefinition of ?static QString Events::tr(const char*, const char*)?
 > >> ../../../hbqt_events.h:68: error: ?static QString Events::tr(const char*, const char*)? previously defined here
 > >> moc_hbqt_events.cpp:39: error: redefinition of ?static QString Events::trUtf8(const char*, const char*)?
 > >> ../../../hbqt_events.h:68: error: ?static QString Events::trUtf8(const char*, const char*)? previously defined here
 > >> moc_hbqt_events.cpp:50: error: no ?QMetaObject* Events::staticMetaObject()? member function declared in class ?Events?
 > >> moc_hbqt_events.cpp:68: error: no ?void* Events::qt_cast(const char*)? member function declared in class ?Events?
 > >> moc_hbqt_events.cpp:75: error: ?QUObject? has not been declared
 > >> moc_hbqt_events.cpp:75: error: no ?bool Events::qt_invoke(int, int*)? member function declared in class ?Events?
 > >> moc_hbqt_events.cpp:80: error: ?QUObject? has not been declared
 > >> moc_hbqt_events.cpp:80: error: no ?bool Events::qt_emit(int, int*)? member function declared in class ?Events?
 > >> moc_hbqt_events.cpp:86: error: no ?bool Events::qt_property(int, int, QVariant*)? member function declared in class ?Events?
 > >> moc_hbqt_events.cpp:91: error: no ?bool Events::qt_static_property(QObject*, int, int, QVariant*)? member function declared in class ?Events?
 > > 
 > >> make[3]: *** [moc_hbqt_events.o] Error 1
 > >> make[2]: *** [descend] Error 2
 > >> make[1]: *** [hbqt] Error 2
 > >> make: *** [contrib] Error 2
 > > 
 > > HTH
 > > 
 > > Angel
 > > 
 > > _______________________________________________
 > > Harbour mailing list (attachment size limit: 40KB)
 > > Harbour@harbour-project.org
 > > http://lists.harbour-project.org/mailman/listinfo/harbour
 > 
 > _______________________________________________
 > Harbour mailing list (attachment size limit: 40KB)
 > Harbour@harbour-project.org
 > http://lists.harbour-project.org/mailman/listinfo/harbour
 > 

-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Mon Dec 14 18:59:09 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 14 18:59:19 2009
Subject: [Harbour] Errors under ubuntu
In-Reply-To: <alpine.DEB.2.00.0912150036460.27623@dawn.royalcomp.hu>
References: <hg6gn3$dsq$1@ger.gmane.org>
	<91191A5E-AF7F-4A71-8CB4-13FEAD622352@syenar.hu>
	<alpine.DEB.2.00.0912150036460.27623@dawn.royalcomp.hu>
Message-ID: <5A2A3C00-AD9A-434C-8C5B-D8E23D2A147A@syenar.hu>

Hi Tamas and All,

>> Try exchanging line 56 with line 58 in contrib/hbqt/detect.mk 
>> and report results.
>> 
>> Even if this works I'd appreciate if someone could give 
>> ideas how to make moc tool detection reliable on the long 
>> run, while keeping it simple. Distros are apparently messing 
>> it up badly, but maybe someone can see the big picture here 
>> and there is logic in it.
> 
> the current one looks ok to me. i think angel has his moc 
> configuration screwed up.
> 
> angel, what do you get (on a completely clean checkout) after you have 
> had moc pointing to moc-qt4 by running `update-alternatives --config moc' 
> (and obviously selecting moc-qt4)?
> 
> if i'm right, then viktor, i don't think an explicit test for moc-qt4 
> is needed (unless the qt sdk itself has it so, which i do not know), 
> but people need to learn their tools.

> the logic is that (since one can have qt3 and qt4 dev installed 
> simultaneously), one gets to decide which one does one want "by 
> default". you trying to work around users picking the wrong one (or 
> not picking the right one) is an uphill battle, and you probably have 
> better things to do ;)

Makes perfect sense, and I'd be more than willing to 
delete check for moc-qt4 (which would need to be updated 
after each major QT release...), but this leads us back 
to the starting point: the reason I added moc-qt4 check 
was this messages:

---
Begin forwarded message:

> From: Bisz Istv?n <Istvan.Bisz@t-online.hu>
> Date: 2009 November 19 17:30:41 CET
> To: "'Harbour Project Main Developer List.'" <harbour@harbour-project.org>
> Subject: RE: [Harbour] SF.net SVN: harbour-project:[12938] trunk/harbour
> Reply-To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> 
>> Thanks, finally I can locate it: /usr/bin/moc-q4 is the executable.
> I am in dialog with me, sorry...
> 
> Thanks, finally I can locate it: /usr/bin/moc-qt4 is the executable. We should change moc to moc-qt4 for Fedora.

---

So, where to go from here?

Brgds,
Viktor

From amigosam at adinet.com.uy  Mon Dec 14 19:13:05 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Dec 14 19:13:51 2009
Subject: [Harbour] Re: Errors under ubuntu
In-Reply-To: <91191A5E-AF7F-4A71-8CB4-13FEAD622352@syenar.hu>
References: <hg6gn3$dsq$1@ger.gmane.org>
	<91191A5E-AF7F-4A71-8CB4-13FEAD622352@syenar.hu>
Message-ID: <hg6kal$nua$1@ger.gmane.org>

Exchanged !

And now I'm getting this:

>  Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
> ! MAKE: make 3.81 /bin/sh   
> ! HB_HOST_PLAT: linux (x86)  HB_SHELL: sh
> ! HB_PLATFORM: linux (x86) (autodetected)
> ! HB_COMPILER: gcc (autodetected: /usr/bin/)
> ! Component: 'zlib' found in /usr/include 
> ! Component: 'pcre' found in /usr/include 
> ! Component: 'openssl' found in /usr/include 
> ! Component: 'gpm' found in /usr/include 
> ! Component: 'slang' found in /usr/include 
> ! Component: 'curses' found in /usr/include 
> ! Component: 'x11' found in /usr/include 
> ! Component: 'wattcp/watt-32' not supported on linux platform
> ! HB_INSTALL_PREFIX automatically set to: /usr/local
> ! Using QT 'moc' bin: /usr/bin/moc-qt4 (autodetected)
> gcc   -I. -I../../../../../include -Wall -W -O3  -I/usr/include/qt4 -I/usr/include/qt4/QtCore -I/usr/include/qt4/QtGui -I/usr/include/qt4/QtNetwork  -omoc_hbqt_events.o -c moc_hbqt_events.cpp
> moc_hbqt_events.cpp:15:34: error: private/qucomextra_p.h: No existe el fichero ? directorio
> moc_hbqt_events.cpp:17:2: error: #error "This file was generated using the moc from 3.3.8b. It"
> moc_hbqt_events.cpp:18:2: error: #error "cannot be used with the include files from this version of Qt."
> moc_hbqt_events.cpp:19:2: error: #error "(The moc has changed too much.)"
> moc_hbqt_events.cpp:22: error: no ?const char* Events::className() const? member function declared in class ?Events?
> moc_hbqt_events.cpp:27: error: ?QMetaObject* Events::metaObj? is not a static member of ?class Events?
> moc_hbqt_events.cpp:28: error: ?QMetaObjectCleanUp? does not name a type
> moc_hbqt_events.cpp:31: error: redefinition of ?static QString Events::tr(const char*, const char*)?
> ../../../hbqt_events.h:68: error: ?static QString Events::tr(const char*, const char*)? previously defined here
> moc_hbqt_events.cpp:39: error: redefinition of ?static QString Events::trUtf8(const char*, const char*)?
> ../../../hbqt_events.h:68: error: ?static QString Events::trUtf8(const char*, const char*)? previously defined here
> moc_hbqt_events.cpp:50: error: no ?QMetaObject* Events::staticMetaObject()? member function declared in class ?Events?
> moc_hbqt_events.cpp:68: error: no ?void* Events::qt_cast(const char*)? member function declared in class ?Events?
> moc_hbqt_events.cpp:75: error: ?QUObject? has not been declared
> moc_hbqt_events.cpp:75: error: no ?bool Events::qt_invoke(int, int*)? member function declared in class ?Events?
> moc_hbqt_events.cpp:80: error: ?QUObject? has not been declared
> moc_hbqt_events.cpp:80: error: no ?bool Events::qt_emit(int, int*)? member function declared in class ?Events?
> moc_hbqt_events.cpp:86: error: no ?bool Events::qt_property(int, int, QVariant*)? member function declared in class ?Events?
> moc_hbqt_events.cpp:91: error: no ?bool Events::qt_static_property(QObject*, int, int, QVariant*)? member function declared in class ?Events?
> make[1]: *** [moc_hbqt_events.o] Error 1
> make: *** [descend] Error 2



From ice at extreme.hu  Mon Dec 14 19:29:03 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Mon Dec 14 19:29:10 2009
Subject: [Harbour] Errors under ubuntu
In-Reply-To: <5A2A3C00-AD9A-434C-8C5B-D8E23D2A147A@syenar.hu>
References: <hg6gn3$dsq$1@ger.gmane.org>
	<91191A5E-AF7F-4A71-8CB4-13FEAD622352@syenar.hu>
	<alpine.DEB.2.00.0912150036460.27623@dawn.royalcomp.hu>
	<5A2A3C00-AD9A-434C-8C5B-D8E23D2A147A@syenar.hu>
Message-ID: <alpine.DEB.2.00.0912150103250.27623@dawn.royalcomp.hu>

On Tue, 15 Dec 2009, Viktor Szak?ts wrote:

hi,

 > > the logic is that (since one can have qt3 and qt4 dev installed 
 > > simultaneously), one gets to decide which one does one want "by 
 > > default". you trying to work around users picking the wrong one (or 
 > > not picking the right one) is an uphill battle, and you probably have 
 > > better things to do ;)
 > 
 > Makes perfect sense, and I'd be more than willing to 
 > delete check for moc-qt4 (which would need to be updated 
 > after each major QT release...), but this leads us back 
 > to the starting point: the reason I added moc-qt4 check 
 > was this messages:

 > > From: Bisz Istv?n <Istvan.Bisz@t-online.hu>
 > > Date: 2009 November 19 17:30:41 CET
 > > To: "'Harbour Project Main Developer List.'" <harbour@harbour-project.org>
 > > Subject: RE: [Harbour] SF.net SVN: harbour-project:[12938] trunk/harbour
 > > Reply-To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
 > > 
 > >> Thanks, finally I can locate it: /usr/bin/moc-q4 is the executable.
 > > I am in dialog with me, sorry...
 > > 
 > > Thanks, finally I can locate it: /usr/bin/moc-qt4 is the executable. We should change moc to moc-qt4 for Fedora.

well, i am not a fedora person, but a quick google session came up 
with this:

http://www.linux-archive.org/fedora-packaging/114031-moc-moc-qt4.html

a quick look at f12's qt spec shows that this is probably still the 
case, so in the end i don't really know. fedora people would most 
likely appreciate it keeping so, on the other hand i can't help but 
wonder when will they actually stop shipping "tar", and start shipping 
only "tar-1.22" instead... i've always thought you can't get any more 
retarded than debian, but oh well...


-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Mon Dec 14 19:33:37 2009
From: harbour.01 at syenar.hu (=?windows-1252?Q?Viktor_Szak=E1ts?=)
Date: Mon Dec 14 19:33:46 2009
Subject: [Harbour] Re: Errors under ubuntu
In-Reply-To: <hg6kal$nua$1@ger.gmane.org>
References: <hg6gn3$dsq$1@ger.gmane.org>
	<91191A5E-AF7F-4A71-8CB4-13FEAD622352@syenar.hu>
	<hg6kal$nua$1@ger.gmane.org>
Message-ID: <F95AFF4B-94A6-43AB-A3CD-81FB2CFB9160@syenar.hu>

Do also make clean.

Brgds,
Viktor

On 2009 Dec 15, at 01:13, Angel Pais wrote:

> Exchanged !
> 
> And now I'm getting this:
> 
>> Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
>> ! MAKE: make 3.81 /bin/sh   ! HB_HOST_PLAT: linux (x86)  HB_SHELL: sh
>> ! HB_PLATFORM: linux (x86) (autodetected)
>> ! HB_COMPILER: gcc (autodetected: /usr/bin/)
>> ! Component: 'zlib' found in /usr/include ! Component: 'pcre' found in /usr/include ! Component: 'openssl' found in /usr/include ! Component: 'gpm' found in /usr/include ! Component: 'slang' found in /usr/include ! Component: 'curses' found in /usr/include ! Component: 'x11' found in /usr/include ! Component: 'wattcp/watt-32' not supported on linux platform
>> ! HB_INSTALL_PREFIX automatically set to: /usr/local
>> ! Using QT 'moc' bin: /usr/bin/moc-qt4 (autodetected)
>> gcc   -I. -I../../../../../include -Wall -W -O3  -I/usr/include/qt4 -I/usr/include/qt4/QtCore -I/usr/include/qt4/QtGui -I/usr/include/qt4/QtNetwork  -omoc_hbqt_events.o -c moc_hbqt_events.cpp
>> moc_hbqt_events.cpp:15:34: error: private/qucomextra_p.h: No existe el fichero ? directorio
>> moc_hbqt_events.cpp:17:2: error: #error "This file was generated using the moc from 3.3.8b. It"
>> moc_hbqt_events.cpp:18:2: error: #error "cannot be used with the include files from this version of Qt."
>> moc_hbqt_events.cpp:19:2: error: #error "(The moc has changed too much.)"
>> moc_hbqt_events.cpp:22: error: no ?const char* Events::className() const? member function declared in class ?Events?
>> moc_hbqt_events.cpp:27: error: ?QMetaObject* Events::metaObj? is not a static member of ?class Events?
>> moc_hbqt_events.cpp:28: error: ?QMetaObjectCleanUp? does not name a type
>> moc_hbqt_events.cpp:31: error: redefinition of ?static QString Events::tr(const char*, const char*)?
>> ../../../hbqt_events.h:68: error: ?static QString Events::tr(const char*, const char*)? previously defined here
>> moc_hbqt_events.cpp:39: error: redefinition of ?static QString Events::trUtf8(const char*, const char*)?
>> ../../../hbqt_events.h:68: error: ?static QString Events::trUtf8(const char*, const char*)? previously defined here
>> moc_hbqt_events.cpp:50: error: no ?QMetaObject* Events::staticMetaObject()? member function declared in class ?Events?
>> moc_hbqt_events.cpp:68: error: no ?void* Events::qt_cast(const char*)? member function declared in class ?Events?
>> moc_hbqt_events.cpp:75: error: ?QUObject? has not been declared
>> moc_hbqt_events.cpp:75: error: no ?bool Events::qt_invoke(int, int*)? member function declared in class ?Events?
>> moc_hbqt_events.cpp:80: error: ?QUObject? has not been declared
>> moc_hbqt_events.cpp:80: error: no ?bool Events::qt_emit(int, int*)? member function declared in class ?Events?
>> moc_hbqt_events.cpp:86: error: no ?bool Events::qt_property(int, int, QVariant*)? member function declared in class ?Events?
>> moc_hbqt_events.cpp:91: error: no ?bool Events::qt_static_property(QObject*, int, int, QVariant*)? member function declared in class ?Events?
>> make[1]: *** [moc_hbqt_events.o] Error 1
>> make: *** [descend] Error 2
> 
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Dec 14 19:56:15 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 14 19:56:25 2009
Subject: [Harbour] Errors under ubuntu
In-Reply-To: <alpine.DEB.2.00.0912150103250.27623@dawn.royalcomp.hu>
References: <hg6gn3$dsq$1@ger.gmane.org>
	<91191A5E-AF7F-4A71-8CB4-13FEAD622352@syenar.hu>
	<alpine.DEB.2.00.0912150036460.27623@dawn.royalcomp.hu>
	<5A2A3C00-AD9A-434C-8C5B-D8E23D2A147A@syenar.hu>
	<alpine.DEB.2.00.0912150103250.27623@dawn.royalcomp.hu>
Message-ID: <24B5A555-9BDB-4BBB-93F0-8697B4A8D6D3@syenar.hu>

>> Makes perfect sense, and I'd be more than willing to 
>> delete check for moc-qt4 (which would need to be updated 
>> after each major QT release...), but this leads us back 
>> to the starting point: the reason I added moc-qt4 check 
>> was this messages:
> 
>>> From: Bisz Istv?n <Istvan.Bisz@t-online.hu>
>>> Date: 2009 November 19 17:30:41 CET
>>> To: "'Harbour Project Main Developer List.'" <harbour@harbour-project.org>
>>> Subject: RE: [Harbour] SF.net SVN: harbour-project:[12938] trunk/harbour
>>> Reply-To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
>>> 
>>>> Thanks, finally I can locate it: /usr/bin/moc-q4 is the executable.
>>> I am in dialog with me, sorry...
>>> 
>>> Thanks, finally I can locate it: /usr/bin/moc-qt4 is the executable. We should change moc to moc-qt4 for Fedora.
> 
> well, i am not a fedora person, but a quick google session came up 
> with this:
> 
> http://www.linux-archive.org/fedora-packaging/114031-moc-moc-qt4.html
> 
> a quick look at f12's qt spec shows that this is probably still the 
> case, so in the end i don't really know. fedora people would most 
> likely appreciate it keeping so, on the other hand i can't help but 
> wonder when will they actually stop shipping "tar", and start shipping 
> only "tar-1.22" instead... i've always thought you can't get any more 
> retarded than debian, but oh well...

Having read that Fedora thread and didn't really like what I saw.
Well, anyhow Harbour needs to live together with these distros, 
so maybe we should reverse the order and/or honor 'MOC' envvar, 
but former looks pretty wrong as we'll have quite bad problems 
as soon as QT 5.x is released. IMO it's not Harbour make system's 
job to choose component versions, we already have HB_WITH_* 
for that, and that should be enough. For now it's okay since 
we have to support 4.x only.

More ideas are welcome, or even better I'd like to leave 
this for those users who have more interested in these kinds 
of problems.

BTW in my Ubuntu 9.10, default 'moc -v' shows 4.5.2, so it's 
correct. It's default libqt4-dev package.

Here probably the solution is to fix Angel's Ubuntu as you've 
suggested.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Dec 14 19:58:10 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 14 19:58:20 2009
Subject: [Harbour] Errors under ubuntu
In-Reply-To: <24B5A555-9BDB-4BBB-93F0-8697B4A8D6D3@syenar.hu>
References: <hg6gn3$dsq$1@ger.gmane.org>
	<91191A5E-AF7F-4A71-8CB4-13FEAD622352@syenar.hu>
	<alpine.DEB.2.00.0912150036460.27623@dawn.royalcomp.hu>
	<5A2A3C00-AD9A-434C-8C5B-D8E23D2A147A@syenar.hu>
	<alpine.DEB.2.00.0912150103250.27623@dawn.royalcomp.hu>
	<24B5A555-9BDB-4BBB-93F0-8697B4A8D6D3@syenar.hu>
Message-ID: <FDCAEEAC-19C0-40BA-AEAC-332974EE38EF@syenar.hu>

>>>> Thanks, finally I can locate it: /usr/bin/moc-qt4 is the executable. We should change moc to moc-qt4 for Fedora.
>> 
>> well, i am not a fedora person, but a quick google session came up 
>> with this:
>> 
>> http://www.linux-archive.org/fedora-packaging/114031-moc-moc-qt4.html
>> 
>> a quick look at f12's qt spec shows that this is probably still the 
>> case, so in the end i don't really know. fedora people would most 
>> likely appreciate it keeping so, on the other hand i can't help but 
>> wonder when will they actually stop shipping "tar", and start shipping 
>> only "tar-1.22" instead... i've always thought you can't get any more 
>> retarded than debian, but oh well...
> 
> Having read that Fedora thread and didn't really like what I saw.
> Well, anyhow Harbour needs to live together with these distros, 
> so maybe we should reverse the order and/or honor 'MOC' envvar, 
> but former looks pretty wrong as we'll have quite bad problems 
> as soon as QT 5.x is released. IMO it's not Harbour make system's 
> job to choose component versions, we already have HB_WITH_* 
> for that, and that should be enough. For now it's okay since 
> we have to support 4.x only.
> 
> More ideas are welcome, or even better I'd like to leave 
> this for those users who have more interested in these kinds 
> of problems.
> 
> BTW in my Ubuntu 9.10, default 'moc -v' shows 4.5.2, so it's 
> correct. It's default libqt4-dev package.
> 
> Here probably the solution is to fix Angel's Ubuntu as you've 
> suggested.

sorry about the typos...

Brgds,
Viktor

From ice at extreme.hu  Mon Dec 14 20:17:25 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Mon Dec 14 20:17:33 2009
Subject: [Harbour] porting help needed again
Message-ID: <alpine.DEB.2.00.0912150214040.27623@dawn.royalcomp.hu>


hi,

got this:

g++   -DHB_OS_UNIXWARE -I. -I../../../../../include -D_SCO_DS -Wall -W -O3   -o expropt1.o -c ../../../expropt1.c
In file included from ../../../../../include/hbvmpub.h:56,
                 from ../../../../../include/hbapi.h:61,
                 from ../../../../../include/hbcompdf.h:57,
                 from ../../../../../include/hbmacro.h:62,
                 from ../../../expropt1.c:58:
../../../../../include/hbdefs.h:1624: multiple storage classes in declaration of `PHB_FUNC'
../../../../../include/hbdefs.h:1625: multiple storage classes in declaration of `HB_FUNC_PTR'
../../../expropt1.c: In function `struct HB_EXPR_ * hb_compExprNewNegate(HB_EXPR_ *, _HB_COMMON *)':
../../../expropt1.c:1066: integer constant out of range
gmake[3]: *** [expropt1.o] Error 1

happens only with g++ (2.95), not with gcc or the native c/c++ 
compiler.

now i know i've seen this before, but in a momentary lapse of sanity 
that's been going on for several days now i can't for the life of me 
recall or figure out where where to attack this.

bring the cluesticks!

-- 
[-]

mkdir /nonexistent
From amigosam at adinet.com.uy  Mon Dec 14 20:22:26 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Dec 14 20:23:00 2009
Subject: [Harbour] Re: Errors under ubuntu
In-Reply-To: <F95AFF4B-94A6-43AB-A3CD-81FB2CFB9160@syenar.hu>
References: <hg6gn3$dsq$1@ger.gmane.org>	<91191A5E-AF7F-4A71-8CB4-13FEAD622352@syenar.hu>	<hg6kal$nua$1@ger.gmane.org>
	<F95AFF4B-94A6-43AB-A3CD-81FB2CFB9160@syenar.hu>
Message-ID: <hg6oci$1tr$1@ger.gmane.org>

Now it's ok.
I haven tried what Tamasz said.

Thank you Viktor !

From bedipritpal at hotmail.com  Mon Dec 14 20:54:26 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec 14 20:54:33 2009
Subject: [Harbour] Is there any example to print a DBF with QT?
In-Reply-To: <hg65rp$5kf$1@ger.gmane.org>
References: <hg5c61$33p$1@ger.gmane.org> <26779860.post@talk.nabble.com>
	<hg65rp$5kf$1@ger.gmane.org>
Message-ID: <26784181.post@talk.nabble.com>


Hi


Guillermo Varona wrote:
> 
> Anyway, I'll keep watching this powerful contribution.
> 

Yes sure. Examine HBIDE.PRG :

/*----------------------------------------------------------------------*/
//                               Printing
/*----------------------------------------------------------------------*/

METHOD HbIde:printPreview()
   LOCAL qDlg

   qDlg := QPrintPreviewDialog():new( QT_PTROFXBP( ::oDlg ) )
   qDlg:setWindowTitle( "Harbour-QT Preview Dialog" )
   Qt_Connect_Signal( qDlg:pPtr, "paintRequested(QPrinter)", {|o,p|
::paintRequested( p,o ) } )
   qDlg:exec()
   Qt_DisConnect_Signal( qDlg:pPtr, "paintRequested(QPrinter)" )

   RETURN self

/*----------------------------------------------------------------------*/

METHOD HbIde:paintRequested( pPrinter )
   LOCAL qPrinter

   qPrinter := QPrinter():configure( pPrinter )

   ::qCurEdit:print( QT_PTROF( qPrinter ) )

   RETURN Self

/*----------------------------------------------------------------------*/



> Pritpal thank you very much for this great contribution
> 

You are welcome.

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/Is-there-any-example-to-print-a-DBF-with-QT--tp26777300p26784181.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Mon Dec 14 21:58:00 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec 14 21:58:07 2009
Subject: [Harbour] porting help needed again
In-Reply-To: <alpine.DEB.2.00.0912150214040.27623@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0912150214040.27623@dawn.royalcomp.hu>
Message-ID: <20091215025800.GA5969@linux-4bod.home.aster.pl>

On Tue, 15 Dec 2009, Tamas TEVESZ wrote:

Hi,

> g++   -DHB_OS_UNIXWARE -I. -I../../../../../include -D_SCO_DS -Wall -W -O3   -o expropt1.o -c ../../../expropt1.c
> In file included from ../../../../../include/hbvmpub.h:56,
>                  from ../../../../../include/hbapi.h:61,
>                  from ../../../../../include/hbcompdf.h:57,
>                  from ../../../../../include/hbmacro.h:62,
>                  from ../../../expropt1.c:58:
> ../../../../../include/hbdefs.h:1624: multiple storage classes in declaration of `PHB_FUNC'
> ../../../../../include/hbdefs.h:1625: multiple storage classes in declaration of `HB_FUNC_PTR'
> ../../../expropt1.c: In function `struct HB_EXPR_ * hb_compExprNewNegate(HB_EXPR_ *, _HB_COMMON *)':
> happens only with g++ (2.95), not with gcc or the native c/c++ 
> compiler.

It's the same problem as in borland builds.
I tested that it also in my RH7.3.
I'll add workaround for gcc2 in a while.

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Dec 14 22:33:00 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Dec 14 22:33:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13246] trunk/harbour
Message-ID: <E1NKO9k-0002iE-AI@c3vjzd1.ch3.sourceforge.com>

Revision: 13246
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13246&view=rev
Author:   druzus
Date:     2009-12-15 03:32:55 +0000 (Tue, 15 Dec 2009)

Log Message:
-----------
2009-12-15 04:32 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbdefs.h
    * modified PHB_FUNC/HB_FUNC_PTR declaration to use external 'extern "C"'
      encapsulation for C++ compilers which do not accept it directly
      (i.e. BORLAND or GCC 2.xx)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From gvarona at ec-red.com  Tue Dec 15 00:04:50 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Tue Dec 15 00:05:28 2009
Subject: [Harbour] Re: Is there any example to print a DBF with QT?
In-Reply-To: <26784181.post@talk.nabble.com>
References: <hg5c61$33p$1@ger.gmane.org>
	<26779860.post@talk.nabble.com>	<hg65rp$5kf$1@ger.gmane.org>
	<26784181.post@talk.nabble.com>
Message-ID: <hg75dh$s9i$1@ger.gmane.org>

Thank you very much

BestRegards
GVS



Pritpal Bedi escribi?:
> Hi
> Guillermo Varona wrote:
>> Anyway, I'll keep watching this powerful contribution.
>
> Yes sure. Examine HBIDE.PRG :
> 
> /*----------------------------------------------------------------------*/
> //                               Printing
> /*----------------------------------------------------------------------*/
> 
> METHOD HbIde:printPreview()
>    LOCAL qDlg
> 
>    qDlg := QPrintPreviewDialog():new( QT_PTROFXBP( ::oDlg ) )
>    qDlg:setWindowTitle( "Harbour-QT Preview Dialog" )
>    Qt_Connect_Signal( qDlg:pPtr, "paintRequested(QPrinter)", {|o,p|
> ::paintRequested( p,o ) } )
>    qDlg:exec()
>    Qt_DisConnect_Signal( qDlg:pPtr, "paintRequested(QPrinter)" )
> 
>    RETURN self
> 
> /*----------------------------------------------------------------------*/
> 
> METHOD HbIde:paintRequested( pPrinter )
>    LOCAL qPrinter
> 
>    qPrinter := QPrinter():configure( pPrinter )
> 
>    ::qCurEdit:print( QT_PTROF( qPrinter ) )
> 
>    RETURN Self
> 
> /*----------------------------------------------------------------------*/
> 
> 
> 
>> Pritpal thank you very much for this great contribution
>>
> 
> You are welcome.
> 
> Regards
> Pritpal Bedi

From vszakats at users.sourceforge.net  Tue Dec 15 05:27:18 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 15 05:27:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13247]
	trunk/harbour/ChangeLog
Message-ID: <E1NKUcg-0004Vs-UY@3kljzd1.ch3.sourceforge.com>

Revision: 13247
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13247&view=rev
Author:   vszakats
Date:     2009-12-15 10:27:17 +0000 (Tue, 15 Dec 2009)

Log Message:
-----------
2009-12-15 11:26 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * ChangeLog
    ! Fixed ChangeLog entry header of my last commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Dec 15 05:53:22 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 15 05:53:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13248] trunk/harbour
Message-ID: <E1NKV1u-0004Dv-Ki@d5vjzd1.ch3.sourceforge.com>

Revision: 13248
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13248&view=rev
Author:   vszakats
Date:     2009-12-15 10:53:13 +0000 (Tue, 15 Dec 2009)

Log Message:
-----------
2009-12-15 11:36 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt.hbc
  * contrib/gtqtc/gtqtcs.hbc
  * contrib/gtqtc/gtqtcs/Makefile
  * contrib/gtqtc/Makefile
  * contrib/gtqtc/gtqtc.hbc
    * Cleanups.
    ! Static mode fix for gtqtc.

  * contrib/gtqtc/gtqtc.cpp
    ! Deleted HB_TCHAR references in commented code.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtqtc/Makefile
    trunk/harbour/contrib/gtqtc/gtqtc.cpp
    trunk/harbour/contrib/gtqtc/gtqtc.hbc
    trunk/harbour/contrib/gtqtc/gtqtcs/Makefile
    trunk/harbour/contrib/gtqtc/gtqtcs.hbc
    trunk/harbour/contrib/hbqt/hbqt.hbc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Tue Dec 15 06:33:12 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Tue Dec 15 06:33:20 2009
Subject: [Harbour] HBQT - demoqt default MinGW
	build	(HB_FM_DL_ALLOC	without USE_DL_PREFIX) crashes
In-Reply-To: <F13D6AED-26DA-411A-B33B-4A2216CA1ACA@syenar.hu>
References: <001001ca7cea$719cbf90$54d63eb0$@Bisz@t-online.hu>	<20091214190749.GA897@linux-4bod.home.aster.pl>	<001e01ca7cf8$fdc59b00$f950d100$@Bisz@t-online.hu>
	<F13D6AED-26DA-411A-B33B-4A2216CA1ACA@syenar.hu>
Message-ID: <001901ca7d7a$6319d580$294d8080$@Bisz@t-online.hu>

Hi All,

>We already have part of this enabled in fm.c, but only 
>when building core in C++ mode, and if FMSTAT is enabled.

I tried to activate this part with:

     	@set HB_BUILD_MODE=cpp
     	@set HB_USER_CFLAGS=-DHB_FM_STATISTICS
	in hbqt.hbc: 
	from:	
	{allgcc}libs=supc++
	to:
	{allgcc}libs=hbvm supc++ (maybe there are more sophisticated
approaches to eliminate the double defined new/delete build errors )

But hbide and demoqt crashes on exit, see below...

>Maybe we should create a small contrib lib with just 
>that, so that it could be used by any C++ contribs we 
>may happen to have in the future (plus hbqt of course).

OK, it is useful I think, but will generate other problems as we can see.

I just proposed a similar handling of the fm.c mingw build with the MSC
build.
More exactly to insert in the subsequent logic the #define USE_DL_PREFIX for
MinGW. I haven't enough knowledge of the HVM internals to do it, sorry.
...
#  elif defined( _MSC_VER )
#     if !defined( USE_DL_PREFIX ) && !defined( HB_FM_DLMT_ALLOC )
#        define USE_DL_PREFIX
#     endif
#     if defined( HB_OS_WIN_CE )
#        define LACKS_FCNTL_H
#     endif 
...
This part generates the different MSC and MinGW default builds behavior, as
I understood correctly.

Best regards,
Istv?n

==========================================================
GNU gdb 6.8
Copyright (C) 2008 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later
<http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "i686-pc-mingw32"...
(gdb) run
Starting program: c:\Downloads\harbour\contrib\hbqt\tests/demoqt.exe
[New thread 4220.0x72c]
warning: Page heap: pid 0x107C: page heap enabled with flags 0x3.

warning: AVRF: demoqt.exe: pid 0x107C: flags 0x80443027: application
verifier en
abled

warning: QApplication.cpp:212: HB_TR_DEBUG           new_QApplication
     133275 B 20000 KB
warning: trace.c:96: HB_TR_ALWAYS HbQt_Set_Release_Method DEFAULT   :
HBQT_RELEA
SE_WITH_DELETE_LATER
warning: trace.c:96: HB_TR_ALWAYS HbQt_Set_Release_Method SET       :
HBQT_RELEA
SE_WITH_DELETE
warning: trace.c:96: HB_TR_ALWAYS
warning: trace.c:96: HB_TR_ALWAYS -----------------b-----------------
warning: QMainWindow.cpp:145: HB_TR_DEBUG           new_QMainWindow
    213332 B 20804 KB
warning: QWidget.cpp:169: HB_TR_DEBUG           new_QWidget
213500 B 25640 KB
warning: QMenuBar.cpp:145: HB_TR_DEBUG           new_QMenuBar
 227903 B 25980 KB
warning: QMenu.cpp:142: HB_TR_DEBUG           new_QMenu
24
7206 B 26076 KB
warning: QMenu.cpp:142: HB_TR_DEBUG           new_QMenu
24
7782 B 26860 KB
warning: QToolBar.cpp:132: HB_TR_DEBUG           new_QToolBar
 265887 B 45720 KB
warning: QAction.cpp:150: HB_TR_DEBUG           new_QAction
279963 B 45760 KB
warning: QAction.cpp:150: HB_TR_DEBUG           new_QAction
280183 B 45988 KB
warning: QAction.cpp:150: HB_TR_DEBUG           new_QAction
280403 B 46228 KB
warning: QStatusBar.cpp:131: HB_TR_DEBUG           new_QStatusBar
   294349 B 46912 KB
warning: QLabel.cpp:132: HB_TR_DEBUG           new_QLabel
3
27333 B 47072 KB
warning: QPushButton.cpp:133: HB_TR_DEBUG           new_QPushButton
    360022 B 47956 KB
warning: QTableWidget.cpp:143: HB_TR_DEBUG           new_QTableWidget
     454992 B 50936 KB
warning: QBrush.cpp:113: HB_TR_DEBUG           new_QBrush
4
60386 B 55616 KB
warning: QBrush.cpp:113: HB_TR_DEBUG           new_QBrush
4
60486 B 55620 KB
warning: QTableWidgetItem.cpp:111: HB_TR_DEBUG
new_QTableWidgetItem
         470010 B 55644 KB
warning: QTabWidget.cpp:136: HB_TR_DEBUG           new_QTabWidget
   491034 B 58792 KB
warning: QWidget.cpp:169: HB_TR_DEBUG           new_QWidget
491202 B 58812 KB
warning: QWidget.cpp:169: HB_TR_DEBUG           new_QWidget
491370 B 58832 KB
warning: QWidget.cpp:169: HB_TR_DEBUG           new_QWidget
491538 B 58852 KB
warning: QTreeView.cpp:143: HB_TR_DEBUG           new_QTreeView
  517436 B 64360 KB
warning: QDirModel.cpp:136: HB_TR_DEBUG           new_QDirModel
  540043 B 66052 KB
[New thread 4220.0x65c]
[New thread 4220.0x13b8]
warning: QLineEdit.cpp:136: HB_TR_DEBUG           new_QLineEdit
  564610 B 69436 KB
warning: QComboBox.cpp:136: HB_TR_DEBUG           new_QComboBox
  589755 B 69824 KB
warning: QCheckBox.cpp:131: HB_TR_DEBUG           new_QCheckBox
  604072 B 70012 KB
warning: QSpinBox.cpp:130: HB_TR_DEBUG           new_QSpinBox
 636274 B 70328 KB
warning: QRadioButton.cpp:131: HB_TR_DEBUG           new_QRadioButton
     649664 B 70388 KB
warning: QTextEdit.cpp:149: HB_TR_DEBUG           new_QTextEdit
  681461 B 71548 KB
warning: QProgressBar.cpp:134: HB_TR_DEBUG           new_QProgressBar
     698361 B 71652 KB
warning: QListView.cpp:139: HB_TR_DEBUG           new_QListView
  720373 B 72300 KB
warning: QStringList.cpp:124: HB_TR_DEBUG           new_QStringList
    741022 B 72320 KB
warning: QStringListModel.cpp:131: HB_TR_DEBUG
new_QStringListModel
         752032 B 72384 KB
warning: trace.c:96: HB_TR_ALWAYS connected: Yes
[New thread 4220.0xd5c]
Error: dll starting at 0x71cf0000 not found.
Error: dll starting at 0x71ad0000 not found.
warning: Lowest section in C:\Windows\system32\normaliz.dll is .text at
00401000

Error: dll starting at 0x71910000 not found.
BFD: C:\Windows\system32\SLC.dll: Warning: Ignoring section flag
IMAGE_SCN_MEM_N
OT_PAGED in section .reloc
BFD: C:\Windows\system32\SLC.dll: Warning: Ignoring section flag
IMAGE_SCN_MEM_N
OT_PAGED in section .reloc
warning: trace.c:96: HB_TR_ALWAYS ----------------- qApp:exec
-----------------
warning: trace.c:96: HB_TR_ALWAYS HbQt_Set_Release_Method SET       :
HBQT_RELEA
SE_WITH_DELETE
warning: trace.c:96: HB_TR_ALWAYS -----------------  Releasing Memory
---------
--------
warning: QPushButton.cpp:92: HB_TR_DEBUG release_QPushButton
p=
0x4ea0368
warning: QPushButton.cpp:93: HB_TR_DEBUG release_QPushButton
ph=
0x4e95778 pq=0x4e95778
warning: HEAP[demoqt.exe]:
warning: Invalid address specified to RtlSizeHeap( 03270000, 04E95758 )


Program received signal SIGTRAP, Trace/breakpoint trap.
0x77c58b2f in ntdll!DbgUiConvertStateChangeStructure ()
   from C:\Windows\system32\ntdll.dll
(gdb)


From harbour.01 at syenar.hu  Tue Dec 15 07:07:02 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec 15 07:07:15 2009
Subject: [Harbour] HBQT - demoqt default MinGW
	build	(HB_FM_DL_ALLOC	without USE_DL_PREFIX) crashes
In-Reply-To: <001901ca7d7a$6319d580$294d8080$@Bisz@t-online.hu>
References: <001001ca7cea$719cbf90$54d63eb0$@Bisz@t-online.hu>	<20091214190749.GA897@linux-4bod.home.aster.pl>	<001e01ca7cf8$fdc59b00$f950d100$@Bisz@t-online.hu>
	<F13D6AED-26DA-411A-B33B-4A2216CA1ACA@syenar.hu>
	<001901ca7d7a$6319d580$294d8080$@Bisz@t-online.hu>
Message-ID: <44CC191A-6451-4585-BA6B-BC36ABAF0342@syenar.hu>

Hi,

>> We already have part of this enabled in fm.c, but only 
>> when building core in C++ mode, and if FMSTAT is enabled.
> 
> I tried to activate this part with:
> 
>     	@set HB_BUILD_MODE=cpp
>     	@set HB_USER_CFLAGS=-DHB_FM_STATISTICS
> 	in hbqt.hbc: 
> 	from:	
> 	{allgcc}libs=supc++
> 	to:
> 	{allgcc}libs=hbvm supc++ (maybe there are more sophisticated
> approaches to eliminate the double defined new/delete build errors )
> 
> But hbide and demoqt crashes on exit, see below...

This looks a little bit hybrid solution, so I'm 
not confident it's safe to do. For sure duplicates 
on new/delete doesn't look healthy. Speccing 
hbvm as user lib is also not recommended and 
may have side effects.

It'd be better to test it by including source 
below in hbqt lib, and use it with default Harbour 
build.

---
#include "hbapi.h"

void * operator new[]( size_t size )
{
   return hb_xgrab( size );
}

void * operator new( size_t size )
{
   return hb_xgrab( size );
}

void operator delete[]( void * ptr )
{
   hb_xfree( ptr );
}

void operator delete[]( void * ptr, size_t )
{
   hb_xfree( ptr );
}

void operator delete( void * ptr )
{
   hb_xfree( ptr );
}

void operator delete( void * ptr, size_t )
{
   hb_xfree( ptr );
}
---

>> Maybe we should create a small contrib lib with just 
>> that, so that it could be used by any C++ contribs we 
>> may happen to have in the future (plus hbqt of course).
> 
> OK, it is useful I think, but will generate other problems as we can see.
> 
> I just proposed a similar handling of the fm.c mingw build with the MSC
> build.
> More exactly to insert in the subsequent logic the #define USE_DL_PREFIX for
> MinGW. I haven't enough knowledge of the HVM internals to do it, sorry.
> ...
> #  elif defined( _MSC_VER )
> #     if !defined( USE_DL_PREFIX ) && !defined( HB_FM_DLMT_ALLOC )
> #        define USE_DL_PREFIX
> #     endif
> #     if defined( HB_OS_WIN_CE )
> #        define LACKS_FCNTL_H
> #     endif 
> ...
> This part generates the different MSC and MinGW default builds behavior, as
> I understood correctly.

This is less optimal solution, but we already do it for 
MSVC, so we can enable it for MinGW also, if it turns 
out to be the only solution.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Dec 15 07:27:47 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec 15 07:27:55 2009
Subject: [Harbour] HBQT - demoqt default MinGW build
	(HB_FM_DL_ALLOC	without USE_DL_PREFIX) crashes
In-Reply-To: <001901ca7d7a$6319d580$294d8080$@Bisz@t-online.hu>
References: <001001ca7cea$719cbf90$54d63eb0$@Bisz@t-online.hu>
	<20091214190749.GA897@linux-4bod.home.aster.pl>
	<001e01ca7cf8$fdc59b00$f950d100$@Bisz@t-online.hu>
	<F13D6AED-26DA-411A-B33B-4A2216CA1ACA@syenar.hu>
	<001901ca7d7a$6319d580$294d8080$@Bisz@t-online.hu>
Message-ID: <20091215122747.GA31370@linux-4bod.home.aster.pl>

On Tue, 15 Dec 2009, Bisz Istv?n wrote:

Hi,

> >We already have part of this enabled in fm.c, but only 
> >when building core in C++ mode, and if FMSTAT is enabled.
> I tried to activate this part with:
>      	@set HB_BUILD_MODE=cpp
>      	@set HB_USER_CFLAGS=-DHB_FM_STATISTICS
> 	in hbqt.hbc: 
> 	from:	
> 	{allgcc}libs=supc++
> 	to:
> 	{allgcc}libs=hbvm supc++ (maybe there are more sophisticated
> approaches to eliminate the double defined new/delete build errors )
> But hbide and demoqt crashes on exit, see below...

Are you using single thread HVM intentionally?

> >Maybe we should create a small contrib lib with just 
> >that, so that it could be used by any C++ contribs we 
> >may happen to have in the future (plus hbqt of course).
> OK, it is useful I think, but will generate other problems as we can see.

As long as USE_DL_PREFIX is not defined then DLMALLOC is not disabled
on HVM exit so we should not have any problems on exit in valid code.

> I just proposed a similar handling of the fm.c mingw build with the MSC
> build.
> More exactly to insert in the subsequent logic the #define USE_DL_PREFIX for
> MinGW. I haven't enough knowledge of the HVM internals to do it, sorry.
> ...
> #  elif defined( _MSC_VER )
> #     if !defined( USE_DL_PREFIX ) && !defined( HB_FM_DLMT_ALLOC )
> #        define USE_DL_PREFIX
> #     endif
> #     if defined( HB_OS_WIN_CE )
> #        define LACKS_FCNTL_H
> #     endif 
> ...
> This part generates the different MSC and MinGW default builds behavior, as
> I understood correctly.

This part has effect only for single thread HVM. In MT DLMALLOC builds
HB_FM_DLMT_ALLOC is enabled by default so ONLY_MSPACES is defined as 1
what disable all code using USE_DL_PREFIX.
I can define USE_DL_PREFIX as default in ST builds but I'm afraid that
it will only hide some problems in HBQT code instead of resolving them.

best regards,
Przemek
From Istvan.Bisz at t-online.hu  Tue Dec 15 07:49:33 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Tue Dec 15 07:49:41 2009
Subject: [Harbour] HBQT - demoqt default MinGW
	build	(HB_FM_DL_ALLOC	without USE_DL_PREFIX) crashes
In-Reply-To: <20091215122747.GA31370@linux-4bod.home.aster.pl>
References: <001001ca7cea$719cbf90$54d63eb0$@Bisz@t-online.hu>	<20091214190749.GA897@linux-4bod.home.aster.pl>	<001e01ca7cf8$fdc59b00$f950d100$@Bisz@t-online.hu>	<F13D6AED-26DA-411A-B33B-4A2216CA1ACA@syenar.hu>	<001901ca7d7a$6319d580$294d8080$@Bisz@t-online.hu>
	<20091215122747.GA31370@linux-4bod.home.aster.pl>
Message-ID: <001a01ca7d85$0d466500$27d32f00$@Bisz@t-online.hu>

Hi,

> Are you using single thread HVM intentionally?

No, in MT everything is ok, but I was rejected by Viktor, argued that MT generates ~40% performance reduction.

> As long as USE_DL_PREFIX is not defined then DLMALLOC is not disabled
> on HVM exit so we should not have any problems on exit in valid code.

>This part has effect only for single thread HVM. In MT DLMALLOC builds
>HB_FM_DLMT_ALLOC is enabled by default so ONLY_MSPACES is defined as 1
>what disable all code using USE_DL_PREFIX.
>I can define USE_DL_PREFIX as default in ST builds but I'm afraid that
>it will only hide some problems in HBQT code instead of resolving them.

The default ST with VS2008 woks, just the default ST with MinGW fails on the first delete operator.

Best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Przemyslaw Czerpak
Sent: 2009. december 15. 13:28
To: Harbour Project Main Developer List.
Subject: Re: RE: [Harbour] HBQT - demoqt default MinGW build (HB_FM_DL_ALLOC without USE_DL_PREFIX) crashes

On Tue, 15 Dec 2009, Bisz Istv?n wrote:

Hi,

> >We already have part of this enabled in fm.c, but only 
> >when building core in C++ mode, and if FMSTAT is enabled.
> I tried to activate this part with:
>      	@set HB_BUILD_MODE=cpp
>      	@set HB_USER_CFLAGS=-DHB_FM_STATISTICS
> 	in hbqt.hbc: 
> 	from:	
> 	{allgcc}libs=supc++
> 	to:
> 	{allgcc}libs=hbvm supc++ (maybe there are more sophisticated
> approaches to eliminate the double defined new/delete build errors )
> But hbide and demoqt crashes on exit, see below...

Are you using single thread HVM intentionally?

> >Maybe we should create a small contrib lib with just 
> >that, so that it could be used by any C++ contribs we 
> >may happen to have in the future (plus hbqt of course).
> OK, it is useful I think, but will generate other problems as we can see.

As long as USE_DL_PREFIX is not defined then DLMALLOC is not disabled
on HVM exit so we should not have any problems on exit in valid code.

> I just proposed a similar handling of the fm.c mingw build with the MSC
> build.
> More exactly to insert in the subsequent logic the #define USE_DL_PREFIX for
> MinGW. I haven't enough knowledge of the HVM internals to do it, sorry.
> ...
> #  elif defined( _MSC_VER )
> #     if !defined( USE_DL_PREFIX ) && !defined( HB_FM_DLMT_ALLOC )
> #        define USE_DL_PREFIX
> #     endif
> #     if defined( HB_OS_WIN_CE )
> #        define LACKS_FCNTL_H
> #     endif 
> ...
> This part generates the different MSC and MinGW default builds behavior, as
> I understood correctly.

This part has effect only for single thread HVM. In MT DLMALLOC builds
HB_FM_DLMT_ALLOC is enabled by default so ONLY_MSPACES is defined as 1
what disable all code using USE_DL_PREFIX.
I can define USE_DL_PREFIX as default in ST builds but I'm afraid that
it will only hide some problems in HBQT code instead of resolving them.

best regards,
Przemek
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From Istvan.Bisz at t-online.hu  Tue Dec 15 07:54:02 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Tue Dec 15 07:54:21 2009
Subject: [Harbour] HBQT - demoqt default
	MinGW	build	(HB_FM_DL_ALLOC	without USE_DL_PREFIX) crashes
In-Reply-To: <44CC191A-6451-4585-BA6B-BC36ABAF0342@syenar.hu>
References: <001001ca7cea$719cbf90$54d63eb0$@Bisz@t-online.hu>	<20091214190749.GA897@linux-4bod.home.aster.pl>	<001e01ca7cf8$fdc59b00$f950d100$@Bisz@t-online.hu>	<F13D6AED-26DA-411A-B33B-4A2216CA1ACA@syenar.hu>	<001901ca7d7a$6319d580$294d8080$@Bisz@t-online.hu>
	<44CC191A-6451-4585-BA6B-BC36ABAF0342@syenar.hu>
Message-ID: <001e01ca7d85$addc2a90$09947fb0$@Bisz@t-online.hu>

Hi,

I got the same negative results as in the first tentative described in my
previous mail. See attachment.

Best regard,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
Sent: 2009. december 15. 13:07
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] HBQT - demoqt default MinGW build (HB_FM_DL_ALLOC
without USE_DL_PREFIX) crashes

Hi,

>> We already have part of this enabled in fm.c, but only 
>> when building core in C++ mode, and if FMSTAT is enabled.
> 
> I tried to activate this part with:
> 
>     	@set HB_BUILD_MODE=cpp
>     	@set HB_USER_CFLAGS=-DHB_FM_STATISTICS
> 	in hbqt.hbc: 
> 	from:	
> 	{allgcc}libs=supc++
> 	to:
> 	{allgcc}libs=hbvm supc++ (maybe there are more sophisticated
> approaches to eliminate the double defined new/delete build errors )
> 
> But hbide and demoqt crashes on exit, see below...

This looks a little bit hybrid solution, so I'm 
not confident it's safe to do. For sure duplicates 
on new/delete doesn't look healthy. Speccing 
hbvm as user lib is also not recommended and 
may have side effects.

It'd be better to test it by including source 
below in hbqt lib, and use it with default Harbour 
build.

---
#include "hbapi.h"

void * operator new[]( size_t size )
{
   return hb_xgrab( size );
}

void * operator new( size_t size )
{
   return hb_xgrab( size );
}

void operator delete[]( void * ptr )
{
   hb_xfree( ptr );
}

void operator delete[]( void * ptr, size_t )
{
   hb_xfree( ptr );
}

void operator delete( void * ptr )
{
   hb_xfree( ptr );
}

void operator delete( void * ptr, size_t )
{
   hb_xfree( ptr );
}
---

>> Maybe we should create a small contrib lib with just 
>> that, so that it could be used by any C++ contribs we 
>> may happen to have in the future (plus hbqt of course).
> 
> OK, it is useful I think, but will generate other problems as we can see.
> 
> I just proposed a similar handling of the fm.c mingw build with the MSC
> build.
> More exactly to insert in the subsequent logic the #define USE_DL_PREFIX
for
> MinGW. I haven't enough knowledge of the HVM internals to do it, sorry.
> ...
> #  elif defined( _MSC_VER )
> #     if !defined( USE_DL_PREFIX ) && !defined( HB_FM_DLMT_ALLOC )
> #        define USE_DL_PREFIX
> #     endif
> #     if defined( HB_OS_WIN_CE )
> #        define LACKS_FCNTL_H
> #     endif 
> ...
> This part generates the different MSC and MinGW default builds behavior,
as
> I understood correctly.

This is less optimal solution, but we already do it for 
MSVC, so we can enable it for MinGW also, if it turns 
out to be the only solution.

Brgds,
Viktor

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbqt_base.zip
Type: application/x-zip-compressed
Size: 2076 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091215/f10d05de/hbqt_base-0001.bin
From harbour.01 at syenar.hu  Tue Dec 15 08:08:29 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec 15 08:08:41 2009
Subject: [Harbour] HBQT - demoqt default MinGW
	build	(HB_FM_DL_ALLOC	without USE_DL_PREFIX) crashes
In-Reply-To: <001a01ca7d85$0d466500$27d32f00$@Bisz@t-online.hu>
References: <001001ca7cea$719cbf90$54d63eb0$@Bisz@t-online.hu>	<20091214190749.GA897@linux-4bod.home.aster.pl>	<001e01ca7cf8$fdc59b00$f950d100$@Bisz@t-online.hu>	<F13D6AED-26DA-411A-B33B-4A2216CA1ACA@syenar.hu>	<001901ca7d7a$6319d580$294d8080$@Bisz@t-online.hu>
	<20091215122747.GA31370@linux-4bod.home.aster.pl>
	<001a01ca7d85$0d466500$27d32f00$@Bisz@t-online.hu>
Message-ID: <1AE7F67D-46C6-4CD3-A2E8-1FC35C25D7E3@syenar.hu>

>> Are you using single thread HVM intentionally?
> 
> No, in MT everything is ok, but I was rejected by Viktor, argued that MT generates ~40% performance reduction.

I rejected it because it doesn't seem like a _real_ 
solution, just a hack which accidentally (or at least 
for unknown reason) works.

IOW, we need to find the root of the problem instead 
of masking it.

The other reason is that forcing MT - or any optional 
mode whatsoever - isn't a right solution for any problem.
Or we shouldn't call such "option" an option. _MT_ is 
an option (and not default) in Harbour because it may 
cause existing user code to break, plus it has a significant 
performance hit on several targets.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Dec 15 08:16:24 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec 15 08:16:35 2009
Subject: [Harbour] HBQT - demoqt default
	MinGW	build	(HB_FM_DL_ALLOC	without USE_DL_PREFIX) crashes
In-Reply-To: <001e01ca7d85$addc2a90$09947fb0$@Bisz@t-online.hu>
References: <001001ca7cea$719cbf90$54d63eb0$@Bisz@t-online.hu>	<20091214190749.GA897@linux-4bod.home.aster.pl>	<001e01ca7cf8$fdc59b00$f950d100$@Bisz@t-online.hu>	<F13D6AED-26DA-411A-B33B-4A2216CA1ACA@syenar.hu>	<001901ca7d7a$6319d580$294d8080$@Bisz@t-online.hu>
	<44CC191A-6451-4585-BA6B-BC36ABAF0342@syenar.hu>
	<001e01ca7d85$addc2a90$09947fb0$@Bisz@t-online.hu>
Message-ID: <03F63BDD-180D-47C1-AD67-28F63A8436B7@syenar.hu>

Thanks.

It's half guessing, but it may mean that not all QT objects 
are released by HBQT at HVM deinit.

One reason for this may be current default 
HBQT_RELEASE_WITH_DELETE_LATER memory releasing mode.

The name suggest that this mode is also a way to hide 
possible problems (GPFs) when using pointer references to 
objects which are already released. And looking at HBQT 
code, there are quite a few places where this is possible.

If this is true, first HBQT should be fixed to not require 
such solution. After that we may use overriding of 
C++ allocation operators.

Brgds,
Viktor

On 2009 Dec 15, at 13:54, Bisz Istv?n wrote:

> Hi,
> 
> I got the same negative results as in the first tentative described in my
> previous mail. See attachment.
> 
> Best regard,
> Istv?n
> 
> -----Original Message-----
> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
> Sent: 2009. december 15. 13:07
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] HBQT - demoqt default MinGW build (HB_FM_DL_ALLOC
> without USE_DL_PREFIX) crashes
> 
> Hi,
> 
>>> We already have part of this enabled in fm.c, but only 
>>> when building core in C++ mode, and if FMSTAT is enabled.
>> 
>> I tried to activate this part with:
>> 
>>    	@set HB_BUILD_MODE=cpp
>>    	@set HB_USER_CFLAGS=-DHB_FM_STATISTICS
>> 	in hbqt.hbc: 
>> 	from:	
>> 	{allgcc}libs=supc++
>> 	to:
>> 	{allgcc}libs=hbvm supc++ (maybe there are more sophisticated
>> approaches to eliminate the double defined new/delete build errors )
>> 
>> But hbide and demoqt crashes on exit, see below...
> 
> This looks a little bit hybrid solution, so I'm 
> not confident it's safe to do. For sure duplicates 
> on new/delete doesn't look healthy. Speccing 
> hbvm as user lib is also not recommended and 
> may have side effects.
> 
> It'd be better to test it by including source 
> below in hbqt lib, and use it with default Harbour 
> build.
> 
> ---
> #include "hbapi.h"
> 
> void * operator new[]( size_t size )
> {
>   return hb_xgrab( size );
> }
> 
> void * operator new( size_t size )
> {
>   return hb_xgrab( size );
> }
> 
> void operator delete[]( void * ptr )
> {
>   hb_xfree( ptr );
> }
> 
> void operator delete[]( void * ptr, size_t )
> {
>   hb_xfree( ptr );
> }
> 
> void operator delete( void * ptr )
> {
>   hb_xfree( ptr );
> }
> 
> void operator delete( void * ptr, size_t )
> {
>   hb_xfree( ptr );
> }
> ---
> 
>>> Maybe we should create a small contrib lib with just 
>>> that, so that it could be used by any C++ contribs we 
>>> may happen to have in the future (plus hbqt of course).
>> 
>> OK, it is useful I think, but will generate other problems as we can see.
>> 
>> I just proposed a similar handling of the fm.c mingw build with the MSC
>> build.
>> More exactly to insert in the subsequent logic the #define USE_DL_PREFIX
> for
>> MinGW. I haven't enough knowledge of the HVM internals to do it, sorry.
>> ...
>> #  elif defined( _MSC_VER )
>> #     if !defined( USE_DL_PREFIX ) && !defined( HB_FM_DLMT_ALLOC )
>> #        define USE_DL_PREFIX
>> #     endif
>> #     if defined( HB_OS_WIN_CE )
>> #        define LACKS_FCNTL_H
>> #     endif 
>> ...
>> This part generates the different MSC and MinGW default builds behavior,
> as
>> I understood correctly.
> 
> This is less optimal solution, but we already do it for 
> MSVC, so we can enable it for MinGW also, if it turns 
> out to be the only solution.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> <hbqt_base.zip>_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From Istvan.Bisz at t-online.hu  Tue Dec 15 08:24:51 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Tue Dec 15 08:25:00 2009
Subject: [Harbour] HBQT - demoqt
	default	MinGW	build	(HB_FM_DL_ALLOC	without USE_DL_PREFIX) crashes
In-Reply-To: <03F63BDD-180D-47C1-AD67-28F63A8436B7@syenar.hu>
References: <001001ca7cea$719cbf90$54d63eb0$@Bisz@t-online.hu>	<20091214190749.GA897@linux-4bod.home.aster.pl>	<001e01ca7cf8$fdc59b00$f950d100$@Bisz@t-online.hu>	<F13D6AED-26DA-411A-B33B-4A2216CA1ACA@syenar.hu>	<001901ca7d7a$6319d580$294d8080$@Bisz@t-online.hu>	<44CC191A-6451-4585-BA6B-BC36ABAF0342@syenar.hu>	<001e01ca7d85$addc2a90$09947fb0$@Bisz@t-online.hu>
	<03F63BDD-180D-47C1-AD67-28F63A8436B7@syenar.hu>
Message-ID: <002b01ca7d89$fbe54a60$f3afdf20$@Bisz@t-online.hu>

>One reason for this may be current default HBQT_RELEASE_WITH_DELETE_LATER
memory releasing mode.
Just one observation, to be more precise, in hbqt the default is
overwritten, as I remember correctly.

Best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
Sent: 2009. december 15. 14:16
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] HBQT - demoqt default MinGW build (HB_FM_DL_ALLOC
without USE_DL_PREFIX) crashes

Thanks.

It's half guessing, but it may mean that not all QT objects 
are released by HBQT at HVM deinit.

One reason for this may be current default 
HBQT_RELEASE_WITH_DELETE_LATER memory releasing mode.

The name suggest that this mode is also a way to hide 
possible problems (GPFs) when using pointer references to 
objects which are already released. And looking at HBQT 
code, there are quite a few places where this is possible.

If this is true, first HBQT should be fixed to not require 
such solution. After that we may use overriding of 
C++ allocation operators.

Brgds,
Viktor

On 2009 Dec 15, at 13:54, Bisz Istv?n wrote:

> Hi,
> 
> I got the same negative results as in the first tentative described in my
> previous mail. See attachment.
> 
> Best regard,
> Istv?n
> 
> -----Original Message-----
> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
> Sent: 2009. december 15. 13:07
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] HBQT - demoqt default MinGW build (HB_FM_DL_ALLOC
> without USE_DL_PREFIX) crashes
> 
> Hi,
> 
>>> We already have part of this enabled in fm.c, but only 
>>> when building core in C++ mode, and if FMSTAT is enabled.
>> 
>> I tried to activate this part with:
>> 
>>    	@set HB_BUILD_MODE=cpp
>>    	@set HB_USER_CFLAGS=-DHB_FM_STATISTICS
>> 	in hbqt.hbc: 
>> 	from:	
>> 	{allgcc}libs=supc++
>> 	to:
>> 	{allgcc}libs=hbvm supc++ (maybe there are more sophisticated
>> approaches to eliminate the double defined new/delete build errors )
>> 
>> But hbide and demoqt crashes on exit, see below...
> 
> This looks a little bit hybrid solution, so I'm 
> not confident it's safe to do. For sure duplicates 
> on new/delete doesn't look healthy. Speccing 
> hbvm as user lib is also not recommended and 
> may have side effects.
> 
> It'd be better to test it by including source 
> below in hbqt lib, and use it with default Harbour 
> build.
> 
> ---
> #include "hbapi.h"
> 
> void * operator new[]( size_t size )
> {
>   return hb_xgrab( size );
> }
> 
> void * operator new( size_t size )
> {
>   return hb_xgrab( size );
> }
> 
> void operator delete[]( void * ptr )
> {
>   hb_xfree( ptr );
> }
> 
> void operator delete[]( void * ptr, size_t )
> {
>   hb_xfree( ptr );
> }
> 
> void operator delete( void * ptr )
> {
>   hb_xfree( ptr );
> }
> 
> void operator delete( void * ptr, size_t )
> {
>   hb_xfree( ptr );
> }
> ---
> 
>>> Maybe we should create a small contrib lib with just 
>>> that, so that it could be used by any C++ contribs we 
>>> may happen to have in the future (plus hbqt of course).
>> 
>> OK, it is useful I think, but will generate other problems as we can see.
>> 
>> I just proposed a similar handling of the fm.c mingw build with the MSC
>> build.
>> More exactly to insert in the subsequent logic the #define USE_DL_PREFIX
> for
>> MinGW. I haven't enough knowledge of the HVM internals to do it, sorry.
>> ...
>> #  elif defined( _MSC_VER )
>> #     if !defined( USE_DL_PREFIX ) && !defined( HB_FM_DLMT_ALLOC )
>> #        define USE_DL_PREFIX
>> #     endif
>> #     if defined( HB_OS_WIN_CE )
>> #        define LACKS_FCNTL_H
>> #     endif 
>> ...
>> This part generates the different MSC and MinGW default builds behavior,
> as
>> I understood correctly.
> 
> This is less optimal solution, but we already do it for 
> MSVC, so we can enable it for MinGW also, if it turns 
> out to be the only solution.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> <hbqt_base.zip>_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Dec 15 08:36:47 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec 15 08:36:58 2009
Subject: [Harbour] HBQT - demoqt
	default	MinGW	build	(HB_FM_DL_ALLOC	without USE_DL_PREFIX) crashes
In-Reply-To: <002b01ca7d89$fbe54a60$f3afdf20$@Bisz@t-online.hu>
References: <001001ca7cea$719cbf90$54d63eb0$@Bisz@t-online.hu>	<20091214190749.GA897@linux-4bod.home.aster.pl>	<001e01ca7cf8$fdc59b00$f950d100$@Bisz@t-online.hu>	<F13D6AED-26DA-411A-B33B-4A2216CA1ACA@syenar.hu>	<001901ca7d7a$6319d580$294d8080$@Bisz@t-online.hu>	<44CC191A-6451-4585-BA6B-BC36ABAF0342@syenar.hu>	<001e01ca7d85$addc2a90$09947fb0$@Bisz@t-online.hu>
	<03F63BDD-180D-47C1-AD67-28F63A8436B7@syenar.hu>
	<002b01ca7d89$fbe54a60$f3afdf20$@Bisz@t-online.hu>
Message-ID: <05CF490D-9990-44B5-A235-8B607FC569CF@syenar.hu>

>> One reason for this may be current default HBQT_RELEASE_WITH_DELETE_LATER
> memory releasing mode.
> Just one observation, to be more precise, in hbqt the default is
> overwritten, as I remember correctly.

I guess you meant demoqt, and you're right. demoqt sets 
memory release mode to HBQT_RELEASE_WITH_DELETE.

Although in this case it's also possible that it is this 
setting which makes demoqt fail, while the others HBQT 
apps work.

BTW, here demoqt still doesn't make a GPF on exit, using 
plain default TDM-DW2-MinGW build wit 4.6.0 QT.

I still hold my opinion that we should not have such 
setting in release quality code like HBQT_RELEASE_WITH_*.

This triples possible testing scenarios and apparently 
no one has any clue why some of them works and some not.

For testing it's fine, but eventually we should chose 
the best for HBQT purposes and make that work in stable 
way.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Dec 15 08:39:33 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec 15 08:39:40 2009
Subject: [Harbour] HBQT - demoqt default MinGW build
	(HB_FM_DL_ALLOC	without USE_DL_PREFIX) crashes
In-Reply-To: <001a01ca7d85$0d466500$27d32f00$@Bisz@t-online.hu>
References: <001001ca7cea$719cbf90$54d63eb0$@Bisz@t-online.hu>
	<20091214190749.GA897@linux-4bod.home.aster.pl>
	<001e01ca7cf8$fdc59b00$f950d100$@Bisz@t-online.hu>
	<F13D6AED-26DA-411A-B33B-4A2216CA1ACA@syenar.hu>
	<001901ca7d7a$6319d580$294d8080$@Bisz@t-online.hu>
	<20091215122747.GA31370@linux-4bod.home.aster.pl>
	<001a01ca7d85$0d466500$27d32f00$@Bisz@t-online.hu>
Message-ID: <20091215133933.GA385@linux-4bod.home.aster.pl>

On Tue, 15 Dec 2009, Bisz Istv?n wrote:

Hi,

> >I can define USE_DL_PREFIX as default in ST builds but I'm afraid that
> >it will only hide some problems in HBQT code instead of resolving them.
> The default ST with VS2008 woks, just the default ST with MinGW fails on
> the first delete operator.

In previous messages you said that it crashes on application exit.
Now on 1-st delete operator. So where it crashes really?

Anyhow we still do not know why it crashes.
Tests which checks that it works in one configuration but does not work
in other only help to reduce the problem but are not enough to give an
answer what and where is exactly broken. Errors like GPF caused by
accessing released memory can be very easy hidden by any modifications
which change even a little bit memory allocation strategy and/or addresses
of allocated memory blocks so pointers read from freed memory area can be
still valid. Program will stop GPF but it does not mean that anything was
fixed. It's still broken as it was and sooner or later the problem will
be exploited again.

best regards,
Przemek
From Istvan.Bisz at t-online.hu  Tue Dec 15 08:43:18 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Tue Dec 15 08:43:27 2009
Subject: [Harbour] HBQT -
	demoqt	default	MinGW	build	(HB_FM_DL_ALLOC	without
	USE_DL_PREFIX) crashes
In-Reply-To: <05CF490D-9990-44B5-A235-8B607FC569CF@syenar.hu>
References: <001001ca7cea$719cbf90$54d63eb0$@Bisz@t-online.hu>	<20091214190749.GA897@linux-4bod.home.aster.pl>	<001e01ca7cf8$fdc59b00$f950d100$@Bisz@t-online.hu>	<F13D6AED-26DA-411A-B33B-4A2216CA1ACA@syenar.hu>	<001901ca7d7a$6319d580$294d8080$@Bisz@t-online.hu>	<44CC191A-6451-4585-BA6B-BC36ABAF0342@syenar.hu>	<001e01ca7d85$addc2a90$09947fb0$@Bisz@t-online.hu>	<03F63BDD-180D-47C1-AD67-28F63A8436B7@syenar.hu>	<002b01ca7d89$fbe54a60$f3afdf20$@Bisz@t-online.hu>
	<05CF490D-9990-44B5-A235-8B607FC569CF@syenar.hu>
Message-ID: <002c01ca7d8c$8f987ff0$aec97fd0$@Bisz@t-online.hu>

Hi Viktor,

As I have o more argues and we are back to some original issues, I am
stopping to write more on this thread.
But an another case should be analyzed too: if we define HB_FM_STD_ALLOC,
everything goes well, without crashes.
Best regards,
Istv?n 

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
Sent: 2009. december 15. 14:37
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] HBQT - demoqt default MinGW build (HB_FM_DL_ALLOC
without USE_DL_PREFIX) crashes

>> One reason for this may be current default HBQT_RELEASE_WITH_DELETE_LATER
> memory releasing mode.
> Just one observation, to be more precise, in hbqt the default is
> overwritten, as I remember correctly.

I guess you meant demoqt, and you're right. demoqt sets 
memory release mode to HBQT_RELEASE_WITH_DELETE.

Although in this case it's also possible that it is this 
setting which makes demoqt fail, while the others HBQT 
apps work.

BTW, here demoqt still doesn't make a GPF on exit, using 
plain default TDM-DW2-MinGW build wit 4.6.0 QT.

I still hold my opinion that we should not have such 
setting in release quality code like HBQT_RELEASE_WITH_*.

This triples possible testing scenarios and apparently 
no one has any clue why some of them works and some not.

For testing it's fine, but eventually we should chose 
the best for HBQT purposes and make that work in stable 
way.

Brgds,
Viktor

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From Istvan.Bisz at t-online.hu  Tue Dec 15 08:45:40 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Tue Dec 15 08:45:48 2009
Subject: [Harbour] HBQT - demoqt default MinGW
	build	(HB_FM_DL_ALLOC	without USE_DL_PREFIX) crashes
In-Reply-To: <20091215133933.GA385@linux-4bod.home.aster.pl>
References: <001001ca7cea$719cbf90$54d63eb0$@Bisz@t-online.hu>	<20091214190749.GA897@linux-4bod.home.aster.pl>	<001e01ca7cf8$fdc59b00$f950d100$@Bisz@t-online.hu>	<F13D6AED-26DA-411A-B33B-4A2216CA1ACA@syenar.hu>	<001901ca7d7a$6319d580$294d8080$@Bisz@t-online.hu>	<20091215122747.GA31370@linux-4bod.home.aster.pl>	<001a01ca7d85$0d466500$27d32f00$@Bisz@t-online.hu>
	<20091215133933.GA385@linux-4bod.home.aster.pl>
Message-ID: <002d01ca7d8c$e41427a0$ac3c76e0$@Bisz@t-online.hu>

> In previous messages you said that it crashes on application exit.
> Now on 1-st delete operator. So where it crashes really?
On application exit when the first delete operator is executed.


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Przemyslaw Czerpak
Sent: 2009. december 15. 14:40
To: Harbour Project Main Developer List.
Subject: Re: RE: RE: [Harbour] HBQT - demoqt default MinGW build (HB_FM_DL_ALLOC without USE_DL_PREFIX) crashes

On Tue, 15 Dec 2009, Bisz Istv?n wrote:

Hi,

> >I can define USE_DL_PREFIX as default in ST builds but I'm afraid that
> >it will only hide some problems in HBQT code instead of resolving them.
> The default ST with VS2008 woks, just the default ST with MinGW fails on
> the first delete operator.

In previous messages you said that it crashes on application exit.
Now on 1-st delete operator. So where it crashes really?

Anyhow we still do not know why it crashes.
Tests which checks that it works in one configuration but does not work
in other only help to reduce the problem but are not enough to give an
answer what and where is exactly broken. Errors like GPF caused by
accessing released memory can be very easy hidden by any modifications
which change even a little bit memory allocation strategy and/or addresses
of allocated memory blocks so pointers read from freed memory area can be
still valid. Program will stop GPF but it does not mean that anything was
fixed. It's still broken as it was and sooner or later the problem will
be exploited again.

best regards,
Przemek
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Dec 15 08:59:47 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec 15 08:59:57 2009
Subject: [Harbour] HBQT -
	demoqt	default	MinGW	build	(HB_FM_DL_ALLOC	without
	USE_DL_PREFIX) crashes
In-Reply-To: <002c01ca7d8c$8f987ff0$aec97fd0$@Bisz@t-online.hu>
References: <001001ca7cea$719cbf90$54d63eb0$@Bisz@t-online.hu>	<20091214190749.GA897@linux-4bod.home.aster.pl>	<001e01ca7cf8$fdc59b00$f950d100$@Bisz@t-online.hu>	<F13D6AED-26DA-411A-B33B-4A2216CA1ACA@syenar.hu>	<001901ca7d7a$6319d580$294d8080$@Bisz@t-online.hu>	<44CC191A-6451-4585-BA6B-BC36ABAF0342@syenar.hu>	<001e01ca7d85$addc2a90$09947fb0$@Bisz@t-online.hu>	<03F63BDD-180D-47C1-AD67-28F63A8436B7@syenar.hu>	<002b01ca7d89$fbe54a60$f3afdf20$@Bisz@t-online.hu>
	<05CF490D-9990-44B5-A235-8B607FC569CF@syenar.hu>
	<002c01ca7d8c$8f987ff0$aec97fd0$@Bisz@t-online.hu>
Message-ID: <3C74D5FF-75E9-4501-8C01-8B9F575878F6@syenar.hu>

Hi Istvan,

> Hi Viktor,
> 
> As I have o more argues and we are back to some original issues, I am
> stopping to write more on this thread.
> But an another case should be analyzed too: if we define HB_FM_STD_ALLOC,
> everything goes well, without crashes.

It's also a system-wide setting (which BTW has a large performance 
hit for most targets), but most importantly it's also just a random 
shot in the dark (AFAICS).

Until we find out what is the real problem, such solutions would only 
mask or delay the real problem, so it's nothing more than a hack (with 
bad side-effects).

Fixing HBQT problems by swapping such basic components like memory 
allocator or MT/ST mode HVM, moreover on a per platform/compiler 
basis, looks wrong to me. We should understand what's going on 
exactly and fix it at appropriate level.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Dec 15 11:34:37 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec 15 11:34:48 2009
Subject: [Harbour] HBQT + MSVC + QT 4.6.0 compiler warning
Message-ID: <2C1A1CEB-5B2A-4BF1-866C-854F73506D51@syenar.hu>

Hi All,

cl.exe   -I. -I../../../../../../include -nologo -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c-  -IF:\devl\Qt\4.6.0-msvc\include -IF:\devl\Qt\4.6.0-msvc\include/QtCore -IF:\devl\Qt\4.6.0-msvc\include/QtGui -IF:\devl\Qt\4.6.0-msvc\include/QtNetwork -DQ?
hbqt_hbqsyntaxhighlighter.cpp
f:\devl\qt\4.6.0-msvc\include\qtcore\../../src/corelib/global/qglobal.h(2249) : warning C4512: 'QForeachContainer<T>' : assignment operator could not be generated
        with
        [
            T=QStringList
        ]
        ../../../../hbqt_hbqsyntaxhighlighter.cpp(85) : see reference to class template instantiation 'QForeachContainer<T>' being compiled
        with
        [
            T=QStringList
        ]
f:\devl\qt\4.6.0-msvc\include\qtcore\../../src/corelib/global/qglobal.h(2249) : warning C4512: 'QForeachContainer<T>' : assignment operator could not be generated
        with
        [
            T=QVector<HBQSyntaxHighlighter::HighlightingRule>
        ]
        ../../../../hbqt_hbqsyntaxhighlighter.cpp(121) : see reference to class template instantiation 'QForeachContainer<T>' being compiled
        with
        [
            T=QVector<HBQSyntaxHighlighter::HighlightingRule>
        ]

Brgds,
Viktor

From jfl at mafact.com  Tue Dec 15 11:44:00 2009
From: jfl at mafact.com (J. Lefebvre)
Date: Tue Dec 15 11:44:42 2009
Subject: [Harbour] Ansi/Oem chr probl with (WAPI_)messageBox()
In-Reply-To: <609353e70912100821i5b2d27d4na52aff0ec82a45b9@mail.gmail.com>
Message-ID: <d02f07b2.1ca7da5.14591f8.6784@mafact.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 7573 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091215/847ad882/image001.png
From vszakats at users.sourceforge.net  Tue Dec 15 12:12:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 15 12:12:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13249] trunk/harbour
Message-ID: <E1NKawf-0004xV-8J@dn4whf1.ch3.sourceforge.com>

Revision: 13249
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13249&view=rev
Author:   vszakats
Date:     2009-12-15 17:12:19 +0000 (Tue, 15 Dec 2009)

Log Message:
-----------
2009-12-15 18:11 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * package/winuni/RELNOTES
    ! Typo.

  * contrib/hbqt/qtgui/qtguis/Makefile
  * contrib/hbqt/qtcore/qtcores/Makefile
  * contrib/hbqt/hbqts/Makefile
  * contrib/hbqt/qtnetwork/qtnetworks/Makefile
    ! Fixed HB_QT_STATIC=yes mode.

  * contrib/hbclipsm/date.c
    ! Fixed DATEASARRAY() to return empty array instead of { NIL, NIL, NIL }
      if non-date was passed.
    % Optimized DATEASARRAY().

  * contrib/hbcairo/image.c
    ! Fixed two warnings.

  * INSTALL
    + Added CYGWIN= envvar to mingwarm example to suppress useless
      Cygwin warning.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbcairo/image.c
    trunk/harbour/contrib/hbclipsm/date.c
    trunk/harbour/contrib/hbqt/hbqts/Makefile
    trunk/harbour/contrib/hbqt/qtcore/qtcores/Makefile
    trunk/harbour/contrib/hbqt/qtgui/qtguis/Makefile
    trunk/harbour/contrib/hbqt/qtnetwork/qtnetworks/Makefile
    trunk/harbour/package/winuni/RELNOTES


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Dec 15 12:31:10 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec 15 12:31:22 2009
Subject: [Harbour] win platform build results
Message-ID: <0DB580C4-C3F4-4FB9-8798-F3AC634915D7@syenar.hu>

Hi All,

I excluded most well known warnings.

win/msvc (PSDK 7):
-------------
...\harbour\src\compiler\obj\win\msvc\harboury.c(7003) : warning C4701: potentially uninitialized local variable 'hb_complval' used
...\harbour\src\macro\obj\win\msvc\macroy.c(2985) : warning C4701: potentially uninitialized local variable 'hb_macrolval' used
(also with msvc64)

win/watcom
-------------
wlink  OP quiet SYS nt_dll  NAME '..\..\..\..\..\bin\win\watcom\harbour-20.dll' OP implib='../../../../../lib/win/watcom/harbour-20.lib' @__dyn__.tmp LIB kernel32, user32, ws2_32, advapi32, gdi32
Error! E2093: cannot open __dyn__.tmp
mingw64-make.exe[3]: *** [harbour-20.dll] Error 1

win/mingw64 (4.5.0-20091118)
-------------
x86_64-w64-mingw32-gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DUNICODE -DHB_HAS_PCRE -IF:/work/harbour/harbour/external/pcre -DPCRE_STATIC -DHB_HAS_ZLIB -IF:/work/harbour/harbour/external/zlib  -ohbsocket.o -c ../../../hbsocket.c
../../../hbsocket.c: In function 'hb_socketSelectRD':
../../../hbsocket.c:1376:7: warning: comparison between signed and unsigned integer expressions
../../../hbsocket.c: In function 'hb_socketSelectWR':
../../../hbsocket.c:1424:7: warning: comparison between signed and unsigned integer expressions
../../../hbsocket.c: In function 'hb_socketSelectWRE':
../../../hbsocket.c:1475:7: warning: comparison between signed and unsigned integer expressions
../../../hbsocket.c:1478:7: warning: comparison between signed and unsigned integer expressions
../../../hbsocket.c: In function 'hb_socketSelect':
../../../hbsocket.c:2585:16: warning: comparison between signed and unsigned integer expressions

x86_64-w64-mingw32-gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DUNICODE  -ohb_btree.o -c ../../../hb_btree.c
../../../hb_btree.c: In function 'Grow':
../../../hb_btree.c:740:23: warning: cast from pointer to integer of different size

x86_64-w64-mingw32-gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DUNICODE  -owin_dll.o -c ../../../win_dll.c
../../../win_dll.c: In function 'DllExec':
../../../win_dll.c:433:45: warning: cast from pointer to integer of different size
../../../win_dll.c:518:31: warning: cast to pointer from integer of different size
../../../win_dll.c:576:19: warning: cast to pointer from integer of different size
../../../win_dll.c:593:21: warning: cast to pointer from integer of different size

win/linux and win/os2
------------------------
wlib  -q -p=72 -c -n  ../../../../../lib/linux/watcom/hbdebug.lib -+dbgentry.o -+dbgmenu.o -+dbghelp.o -+dbgtinp.o -+dbgtmenu.o -+dbgtmitm.o -+dbgtwin.o -+debugger.o -+dbgtarr.o -+dbgthsh.o -+dbgtobj.o -+tbrwtext.o -+dbgwa.o -+dbgbrwsr.o
        1 file(s) copied.
mingw64-make.exe[1]: *** [dynlib.inst] Error -1073741819
mingw64-make.exe: *** [src.inst] Error 2
---
wlib  -q -p=72 -c -n  ../../../../../lib/os2/watcom/hbdebug.lib -+dbgentry.obj -+dbgmenu.obj -+dbghelp.obj -+dbgtinp.obj -+dbgtmenu.obj -+dbgtmitm.obj -+dbgtwin.obj -+debugger.obj -+dbgtarr.obj -+dbgthsh.obj -+dbgtobj.obj -+tbrwtext.obj -+dbgwa.obj -+dbgbrwsr.obj
        1 file(s) copied.
mingw64-make.exe[1]: *** [dynlib.inst] Error -1073741819
mingw64-make.exe: *** [src.inst] Error 2

[ mingw64-make CRASH, probably mingw64-make related bug ]

[ I had to drop DJGPP tests, since I maintain no 32-bit Windows or DOS 
environment anymore. I also have no msvcarm env installed anymore. ]

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Dec 15 12:43:48 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec 15 12:43:59 2009
Subject: [Harbour] Ansi/Oem chr probl with (WAPI_)messageBox()
In-Reply-To: <d02f07b2.1ca7da5.14591f8.6784@mafact.com>
References: <d02f07b2.1ca7da5.14591f8.6784@mafact.com>
Message-ID: <E9948953-FC57-4D33-B6A8-DC221407D520@syenar.hu>

Hi JF,

You have to inform Harbour about the codepage you're 
using in these strings (this is for UNICODE builds of 
Harbour). F.e.:

REQUEST HB_CODEPAGE_HUWIN
set( _SET_CODEPAGE, "HUWIN" )

It's also good practice to set _SET_OSCODEPAGE to 
inform non-UNICODE Harbour apps about CP configured 
on Windows for non-UNICODE apps:

set( _SET_OSCODEPAGE, "HUWIN" )

Brgds,
Viktor

On 2009 Dec 15, at 17:44, J. Lefebvre wrote:

> Hi,
>  
> Am I missing something ?
>  
> I just tried the latest SVN release and now
>  
> Wapi_MessageBox(,"Hello ????","Test accents",)   // same for legacy version MessageBox(?)
>  
> Give me some garbage in place of specials chars ...
>  
> <image001.png>
>  
> Regards,
>  
> JF
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at users.sourceforge.net  Tue Dec 15 13:47:51 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Dec 15 13:47:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13250] trunk/harbour
Message-ID: <E1NKcR5-000417-3M@d5vjzd1.ch3.sourceforge.com>

Revision: 13250
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13250&view=rev
Author:   druzus
Date:     2009-12-15 18:47:43 +0000 (Tue, 15 Dec 2009)

Log Message:
-----------
2009-12-15 19:47 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbinit.h
    + added new alternative form for initialization code activated
      by HB_INITSEG_STARTUP macro. This method uses asm() directive
      to store call to startup function in .init segment.
      It's a work in progress though current code is working in Linux
      static builds and probably should work also with few other
      compilers. Final version should help in adding support for
      native non GCC based C compilers in some *nixes.
      Thanks to Tamas for his help.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbinit.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jfl at mafact.com  Tue Dec 15 14:29:00 2009
From: jfl at mafact.com (J. Lefebvre)
Date: Tue Dec 15 14:29:52 2009
Subject: [Harbour] Ansi/Oem chr probl with (WAPI_)messageBox()
In-Reply-To: <E9948953-FC57-4D33-B6A8-DC221407D520@syenar.hu>
Message-ID: <f1b7154b.1ca7dbc.1dd295a.6952@mafact.com>

Thanks Viktor,

I was sure of something like that :-)

I tried to find it by myself but failed :-(.

In the future, is there a place where I can find this kind of info. I looked Changelog but without success.

In all case thanks for the info.

Friendly,

JF,

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Viktor Szak?ts
Envoy??: mardi 15 d?cembre 2009 18:44
??: Harbour Project Main Developer List.
Objet?: Re: [Harbour] Ansi/Oem chr probl with (WAPI_)messageBox()

Hi JF,

You have to inform Harbour about the codepage you're 
using in these strings (this is for UNICODE builds of 
Harbour). F.e.:

REQUEST HB_CODEPAGE_HUWIN
set( _SET_CODEPAGE, "HUWIN" )

It's also good practice to set _SET_OSCODEPAGE to 
inform non-UNICODE Harbour apps about CP configured 
on Windows for non-UNICODE apps:

set( _SET_OSCODEPAGE, "HUWIN" )

Brgds,
Viktor

On 2009 Dec 15, at 17:44, J. Lefebvre wrote:

> Hi,
>  
> Am I missing something ?
>  
> I just tried the latest SVN release and now
>  
> Wapi_MessageBox(,"Hello ????","Test accents",)   // same for legacy version MessageBox(.)
>  
> Give me some garbage in place of specials chars ...
>  
> <image001.png>
>  
> Regards,
>  
> JF
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at users.sourceforge.net  Tue Dec 15 14:44:46 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Dec 15 14:44:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13251] trunk/harbour
Message-ID: <E1NKdKA-0002Nb-5v@dn4whf1.ch3.sourceforge.com>

Revision: 13251
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13251&view=rev
Author:   druzus
Date:     2009-12-15 19:44:33 +0000 (Tue, 15 Dec 2009)

Log Message:
-----------
2009-12-15 20:43 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbinit.h
    * eliminated from ASM code used in HB_INITSEG_STARTUP direct references
      to public functions - it resolves the problem with non relocatable
      code breaking Harbour shared library.
      TODO: find portable method to mark function as used for C compiler
            without using any public symbols (functions or variables)
            which may cause conflicts between modules.
            Compilers like modern GCC versions are clever enough to detect
            cyclic references (only compile time warnings are pacified in
            such case) and they strip even group of functions it they are
            not accessed externally.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbinit.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Tue Dec 15 14:45:39 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Tue Dec 15 14:45:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13250] trunk/harbour
In-Reply-To: <E1NKcR5-000417-3M@d5vjzd1.ch3.sourceforge.com>
References: <E1NKcR5-000417-3M@d5vjzd1.ch3.sourceforge.com>
Message-ID: <alpine.DEB.2.00.0912152032200.27623@dawn.royalcomp.hu>

On Tue, 15 Dec 2009, druzus@users.sourceforge.net wrote:

hi,

 >   * harbour/include/hbinit.h
 >     + added new alternative form for initialization code activated
 >       by HB_INITSEG_STARTUP macro. This method uses asm() directive
 >       to store call to startup function in .init segment.

you are The Man. big thanks!

for me to work, i needed to mod it like this:

-      __asm__ ( ".section .init\n\tcall " HB_MACRO2STRING( func ) "\n\t" );
+      asm ( ".section .init\n\tcall " HB_MACRO2STRING( func ) "\n\t.section .text\n\t" );

ie. a ".section .text" appended to the end (__asm__ vs asm is probably 
compiler-specific, i'll just if this to the compiler), in both 
occurances.

shall i do this to section text too, or can it be added to your 
version without causing any ill effect on other platforms?

-- 
[-]

mkdir /nonexistent
From druzus at users.sourceforge.net  Tue Dec 15 15:15:34 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Dec 15 15:15:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13252] trunk/harbour
Message-ID: <E1NKdny-0001Cd-Sg@3kljzd1.ch3.sourceforge.com>

Revision: 13252
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13252&view=rev
Author:   druzus
Date:     2009-12-15 20:15:33 +0000 (Tue, 15 Dec 2009)

Log Message:
-----------
2009-12-15 21:15 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbinit.h
    * use more portable asm() directive instead of __asm__()
    * explicitly restore .text segment for compilers which do not make
      it automatically
      Thanks to Tamas for the information.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbinit.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Tue Dec 15 15:19:23 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Tue Dec 15 15:19:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13252] trunk/harbour
In-Reply-To: <E1NKdny-0001Cd-Sg@3kljzd1.ch3.sourceforge.com>
References: <E1NKdny-0001Cd-Sg@3kljzd1.ch3.sourceforge.com>
Message-ID: <alpine.DEB.2.00.0912152118400.27623@dawn.royalcomp.hu>

On Tue, 15 Dec 2009, druzus@users.sourceforge.net wrote:

 >     * explicitly restore .text segment for compilers which do not make

commit typo, it says .init at the end too :)


-- 
[-]

mkdir /nonexistent
From druzus at users.sourceforge.net  Tue Dec 15 15:36:04 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Dec 15 15:36:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13253] trunk/harbour
Message-ID: <E1NKe7o-0001fW-09@3kljzd1.ch3.sourceforge.com>

Revision: 13253
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13253&view=rev
Author:   druzus
Date:     2009-12-15 20:36:02 +0000 (Tue, 15 Dec 2009)

Log Message:
-----------
2009-12-15 21:35 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbinit.h
    ! fixed typo in section name in last commit - thanks to Tamas again
    * in C++ mode encapsulate startup functions inside
      'extern "C" { ... }' to eliminate reallocation problems

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbinit.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Tue Dec 15 16:50:27 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Tue Dec 15 16:50:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13253] trunk/harbour
In-Reply-To: <E1NKe7o-0001fW-09@3kljzd1.ch3.sourceforge.com>
References: <E1NKe7o-0001fW-09@3kljzd1.ch3.sourceforge.com>
Message-ID: <alpine.DEB.2.00.0912152232530.27623@dawn.royalcomp.hu>

On Tue, 15 Dec 2009, druzus@users.sourceforge.net wrote:

hi

 > Revision: 13253

now something is broken again. i'm not sure what, as at one point i 
had a working harbour ("working" at this stage i define as "hbrun 
starts"), now for all of gcc/c, native/c, native/c++, when trying to 
run hbrun, i get:

Error BASE/1003  Variable does not exist: S_AINCDIR                                                                            
Called from _APPMAIN(90)                           

(gcc/c++ doesn't at the moment build because of some unrelated 
platform-specific issue).

for all posterity i have the following changed wrt r13253 hbinit.h:

--- hbinit.h    (revision 13253)
+++ hbinit.h    (working copy)
@@ -112,7 +112,8 @@
    #define HB_CALL_ON_STARTUP_END( func ) \
       }
 
-#elif defined( HB_INITSEG_STARTUP )
+#elif ( defined( __USLC__ ) && !defined( __cplusplus ) ) || \
+      defined( HB_INITSEG_STARTUP )
 
    #define HB_INIT_SYMBOLS_BEGIN( func ) \
       static HB_SYMB symbols_table[] = {

hbtest, for example, runs fine, so this probably has nothing to do 
with this awesome work of yours in the startup area, but then i am at 
a loss what's gone booboo again.

-- 
[-]

mkdir /nonexistent
From druzus at acn.waw.pl  Tue Dec 15 17:53:34 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec 15 17:53:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13253] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0912152232530.27623@dawn.royalcomp.hu>
References: <E1NKe7o-0001fW-09@3kljzd1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0912152232530.27623@dawn.royalcomp.hu>
Message-ID: <20091215225334.GA28000@linux-4bod.home.aster.pl>

On Tue, 15 Dec 2009, Tamas TEVESZ wrote:

Hi,

> now something is broken again. i'm not sure what, as at one point i 
> had a working harbour ("working" at this stage i define as "hbrun 
> starts"), now for all of gcc/c, native/c, native/c++, when trying to 
> run hbrun, i get:
> Error BASE/1003  Variable does not exist: S_AINCDIR
> Called from _APPMAIN(90)

sth like that happens when hbrun is compiled without -n option, i.e.
   hbmk hbrun
try:
   hbmk -n2 hbrun

I'll add -n2 to default switches in hbmk.

> for all posterity i have the following changed wrt r13253 hbinit.h:
> --- hbinit.h    (revision 13253)
> +++ hbinit.h    (working copy)
> @@ -112,7 +112,8 @@
>     #define HB_CALL_ON_STARTUP_END( func ) \
>        }
>  
> -#elif defined( HB_INITSEG_STARTUP )
> +#elif ( defined( __USLC__ ) && !defined( __cplusplus ) ) || \
> +      defined( HB_INITSEG_STARTUP )
>  
>     #define HB_INIT_SYMBOLS_BEGIN( func ) \
>        static HB_SYMB symbols_table[] = {
> hbtest, for example, runs fine, so this probably has nothing to do 
> with this awesome work of yours in the startup area, but then i am at 
> a loss what's gone booboo again.

For me it looks like hbrun was compiled separately with different
switches (missing -n harbour compiler switch) but there is question
how it has happened.

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Dec 15 18:00:39 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Dec 15 18:00:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13254] trunk/harbour
Message-ID: <E1NKgNj-0003mm-Ds@c3vjzd1.ch3.sourceforge.com>

Revision: 13254
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13254&view=rev
Author:   druzus
Date:     2009-12-15 23:00:38 +0000 (Tue, 15 Dec 2009)

Log Message:
-----------
2009-12-16 00:00 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    * use -n2 as default harbour compiler parameter in hb* scripts

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Dec 15 18:24:31 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Dec 15 18:24:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13255] trunk/harbour
Message-ID: <E1NKgkp-0005mP-14@3kljzd1.ch3.sourceforge.com>

Revision: 13255
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13255&view=rev
Author:   druzus
Date:     2009-12-15 23:24:29 +0000 (Tue, 15 Dec 2009)

Log Message:
-----------
2009-12-16 00:24 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    * use -n2 as default harbour compiler parameter in hb* scripts

  * harbour/include/hbinit.h
    * added error messages when some mixed forms of startup initialization
      are defined

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbinit.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Dec 15 18:26:44 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Dec 15 18:26:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13256]
	trunk/harbour/ChangeLog
Message-ID: <E1NKgmy-0005pK-S9@3kljzd1.ch3.sourceforge.com>

Revision: 13256
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13256&view=rev
Author:   druzus
Date:     2009-12-15 23:26:43 +0000 (Tue, 15 Dec 2009)

Log Message:
-----------
2009-12-16 00:26 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/ChangeLog
    ! removed repeated entry

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Dec 15 18:58:23 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec 15 18:58:33 2009
Subject: [Harbour] Ansi/Oem chr probl with (WAPI_)messageBox()
In-Reply-To: <f1b7154b.1ca7dbc.1dd295a.6952@mafact.com>
References: <f1b7154b.1ca7dbc.1dd295a.6952@mafact.com>
Message-ID: <B82672D1-3210-4025-92E4-672D2A65BB94@syenar.hu>

Hi JF,

On 2009 Dec 15, at 20:29, J. Lefebvre wrote:

> Thanks Viktor,
> 
> I was sure of something like that :-)
> 
> I tried to find it by myself but failed :-(.
> 
> In the future, is there a place where I can find this kind of info. I looked Changelog but without success.

I can't tell you, complete and consistent CP support is 
still under construction in Harbour, a lot part of this 
"issue" is the consequence of several steps made throughout 
this year and particularly this last few weeks on the CP 
and Windows UNICODE support areas. Maybe one day someone 
will assemble a documentation about it, until then only 
this list and ChangeLog entries document them.

> In all case thanks for the info.

You're welcome.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Dec 15 19:02:09 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 15 19:02:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13257] trunk/harbour
Message-ID: <E1NKhLF-0005GG-II@c3vjzd1.ch3.sourceforge.com>

Revision: 13257
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13257&view=rev
Author:   vszakats
Date:     2009-12-16 00:02:08 +0000 (Wed, 16 Dec 2009)

Log Message:
-----------
2009-12-16 00:58 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/Makefile
  + contrib/hbwin/wapi_winnls.c
    + Added WAPI_GETACP()
    + Added WAPI_GETOEMCP()
    ; NOTE: TODO? These values could be used as a base for
            default HB_GTI_CODEPAGE setting and _SET_CODEPAGE 
            for non-UNICODE Harbour builds.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/Makefile

Added Paths:
-----------
    trunk/harbour/contrib/hbwin/wapi_winnls.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Dec 15 19:03:42 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 15 19:03:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13258]
	trunk/harbour/ChangeLog
Message-ID: <E1NKhMk-0005Hk-UX@c3vjzd1.ch3.sourceforge.com>

Revision: 13258
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13258&view=rev
Author:   vszakats
Date:     2009-12-16 00:03:39 +0000 (Wed, 16 Dec 2009)

Log Message:
-----------
2009-12-16 01:01 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * ChangeLog
    ! Typo in prev entry.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Dec 15 19:26:32 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Dec 15 19:26:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13259] trunk/harbour
Message-ID: <E1NKhiq-0003JH-GC@dn4whf1.ch3.sourceforge.com>

Revision: 13259
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13259&view=rev
Author:   druzus
Date:     2009-12-16 00:26:31 +0000 (Wed, 16 Dec 2009)

Log Message:
-----------
2009-12-16 01:26 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbwin/mapi.c
    ! fixed compilation with OpenWatcom

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/mapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Tue Dec 15 19:37:04 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Tue Dec 15 19:37:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13255] trunk/harbour
In-Reply-To: <E1NKgkp-0005mP-14@3kljzd1.ch3.sourceforge.com>
References: <E1NKgkp-0005mP-14@3kljzd1.ch3.sourceforge.com>
Message-ID: <alpine.DEB.2.00.0912160058060.27623@dawn.royalcomp.hu>

On Tue, 15 Dec 2009, druzus@users.sourceforge.net wrote:

hi,

 > Revision: 13255
 >           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13255&view=rev
 > Author:   druzus
 > Date:     2009-12-15 23:24:29 +0000 (Tue, 15 Dec 2009)
 > 
 > Log Message:
 > -----------
 > 2009-12-16 00:24 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
 >   * harbour/bin/hb-func.sh
 >     * use -n2 as default harbour compiler parameter in hb* scripts

that didn't really help, and it's getting even more strange.

the build log clearly shows harbour still being called with -n1, i 
checked the older ones, it was so all along the way as well.

the completely strange part is that if, using the very same options, 
copy-pasted from the build log, i build a "private copy" of hbrun, 
then it works.

so, the result of a "make" in the source tree gets me a 
bin/$plat/$comp/hbrun which gives BASE/1003

the following gives a working hbrun:

unixware714:~/hb/harbour$ env | fgrep HB
unixware714:~/hb/harbour$ gmake > ../log 2>&1                                                                                  
unixware714:~/hb/harbour$ ./bin/unixware/gcc/hbrun
Error BASE/1003  Variable does not exist: S_AINCDIR
Called from _APPMAIN(90)                                                                                                       
unixware714:~/hb/harbour$ ./bin/unixware/gcc/harbour utils/hbrun/hbrun.prg -iinclude -n1 -q0 -w2 -es2 -kmo -i- -l              
unixware714:~/hb/harbour$ gcc -DHB_OS_UNIXWARE -I. -Iinclude -D_SCO_DS 
 -Wall -W -O3   -o hbrun.o -c hbrun.c
unixware714:~/hb/harbour$ gcc  -pthread -I. -Llib/unixware/gcc 
 -Iinclude -L/usr/X11R6/lib -ohbrun hbrun.o -lhbcplr -lhbpp
 -lhbcommon -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage 
 -lgtcgi -lgtpca -lgtstd -lgtcrs -lgtxwc -lgttrm -lhbrdd
 -lrddntx -lrddnsx -lrddcdx -lrddfpt -lhbsix -lhbhsx -lhbusrrdd 
 -lhbuddall -lhbrtl -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon
 -lhbpcre -lcurses -lX11 -lz -lsocket -lnsl -lresolv -lm
unixware714:~/hb/harbour$ ./hbrun --> runs fine

what gets me thinking is that the size difference between the two 
files is relatively big:

-rwxr-xr-x    1 ice      other       3541060 Dec 16 00:54 ./hbrun                                                              
-rwxr-xr-x    1 ice      other       3541592 Dec 16 00:52 bin/unixware/gcc/hbrun                                               

which they proportionally keep after being stripped:

-rwxr-xr-x    1 ice      other       3252400 Dec 16 01:05 ./hbrun
-rwxr-xr-x    1 ice      other       3252848 Dec 16 01:05 bin/unixware/gcc/hbrun

and even after a treat of `mcs -d': (this strips the .comment 
sections, which the native binutils populate with the exact versions 
of files, tools and stuff that were involved producing said elf 
object):

-rwxr-xr-x    1 ice      other       3031452 Dec 16 01:05 ./hbrun
-rwxr-xr-x    1 ice      other       3031900 Dec 16 01:05 bin/unixware/gcc/hbrun

there is no real (to me..) difference between the generated c sources:

unixware714:~/hb/harbour$ /usr/local/bin/diff -u ./hbrun.c ./utils/hbrun/obj/unixware/gcc/hbrun.c
--- ./hbrun.c   2009-12-16 00:53:29.240000007 +0100
+++ ./utils/hbrun/obj/unixware/gcc/hbrun.c      2009-12-16 00:52:07.190000002 +0100
@@ -1,7 +1,7 @@
 /*
  * Harbour 2.0.0beta3 (Rev. 13256)
  * GNU C 2.95 (32-bit)
- * Generated C source from "utils/hbrun/hbrun.prg"
+ * Generated C source from "../../../hbrun.prg"
  */
 
 #include "hbvmpub.h"
@@ -156,7 +156,7 @@
 { "HB_GT_PCA", {HB_FS_PUBLIC}, {HB_FUNCNAME( HB_GT_PCA )}, NULL },
 { "HB_GT_STD", {HB_FS_PUBLIC}, {HB_FUNCNAME( HB_GT_STD )}, NULL },
 { "(_INITSTATICS00003)", {HB_FS_INITEXIT | HB_FS_LOCAL}, {hb_INITSTATICS}, NULL }
-HB_INIT_SYMBOLS_EX_END( hb_vm_SymbolInit_HBRUN, "utils/hbrun/hbrun.prg", 0x0, 0x0002 )
+HB_INIT_SYMBOLS_EX_END( hb_vm_SymbolInit_HBRUN, "../../../hbrun.prg", 0x0, 0x0002 )
 
 #if defined( HB_PRAGMA_STARTUP )
    #pragma startup hb_vm_SymbolInit_HBRUN


yet, there is some strange (related?) difference between the c strings 
in the binaries (hbrun.ok and hbrun.bad are the outputs of `strings' on
the working and the non-working binaries, respectively):

unixware714:~/hb/harbour$ /usr/local/bin/diff -u1 hbrun.ok hbrun.bad 
--- hbrun.ok    2009-12-16 01:13:37.700000100 +0100
+++ hbrun.bad   2009-12-16 01:13:44.940000011 +0100
@@ -8,2 +8,3 @@
 __MVSETBASE
+S_NCOL
 HB_HRBDO
@@ -35,2 +36,3 @@
 OUTSTD
+S_NROW
 ALLTRIM
@@ -66,2 +68,3 @@
 PCOUNT
+S_AINCDIR
 AADD
@@ -70,3 +73,4 @@
 _APPMAIN
-utils/hbrun/hbrun.prg
+HBRUN
+hbrun.prg
 HB_INC_INSTALL
@@ -83,2 +87,3 @@
 dddddd
+z1S(
 j'Harbour "DOt Prompt" Console / runner 

... ok, so these suspiciously look like the static variables in 
hbrun.prg (and are good account for the size difference)...

and i am lost again. if i am doing this, i have no idea how...

-- 
[-]

mkdir /nonexistent
From ice at extreme.hu  Tue Dec 15 19:46:16 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Tue Dec 15 19:46:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13255] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0912160058060.27623@dawn.royalcomp.hu>
References: <E1NKgkp-0005mP-14@3kljzd1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0912160058060.27623@dawn.royalcomp.hu>
Message-ID: <alpine.DEB.2.00.0912160141290.27623@dawn.royalcomp.hu>

On Wed, 16 Dec 2009, Tamas TEVESZ wrote:

hi,

 > that didn't really help, and it's getting even more strange.
[...]

nevermind. all of a sudden it started working. if i did this, i have 
no idea, what did i do. i'm going to stick a screwdriver through this 
thing and go become a shepherd in new zealand.

-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Tue Dec 15 19:48:03 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec 15 19:48:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13255] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0912160058060.27623@dawn.royalcomp.hu>
References: <E1NKgkp-0005mP-14@3kljzd1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0912160058060.27623@dawn.royalcomp.hu>
Message-ID: <88E7F297-5667-41F1-90A2-E79FE5047ADD@syenar.hu>

I wonder why this didn't came up earlier, for one thing 
hbmk script is unrelated to default build process, and in 
default build process -n1 option is added by config/rules.mk. 
This is right for libs, but not right for bins.

(default build process also uses hbmk2, but it's 
using -n1/-n2 correctly)

So question is: Why is a problem now, and why wasn't 
it so far?

(correction is easy after that point)

Brgds,
Viktor

On 2009 Dec 16, at 01:37, Tamas TEVESZ wrote:

> On Tue, 15 Dec 2009, druzus@users.sourceforge.net wrote:
> 
> hi,
> 
>> Revision: 13255
>>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13255&view=rev
>> Author:   druzus
>> Date:     2009-12-15 23:24:29 +0000 (Tue, 15 Dec 2009)
>> 
>> Log Message:
>> -----------
>> 2009-12-16 00:24 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>>  * harbour/bin/hb-func.sh
>>    * use -n2 as default harbour compiler parameter in hb* scripts
> 
> that didn't really help, and it's getting even more strange.
> 
> the build log clearly shows harbour still being called with -n1, i 
> checked the older ones, it was so all along the way as well.
> 
> the completely strange part is that if, using the very same options, 
> copy-pasted from the build log, i build a "private copy" of hbrun, 
> then it works.
> 
> so, the result of a "make" in the source tree gets me a 
> bin/$plat/$comp/hbrun which gives BASE/1003
> 
> the following gives a working hbrun:
> 
> unixware714:~/hb/harbour$ env | fgrep HB
> unixware714:~/hb/harbour$ gmake > ../log 2>&1                                                                                  
> unixware714:~/hb/harbour$ ./bin/unixware/gcc/hbrun
> Error BASE/1003  Variable does not exist: S_AINCDIR
> Called from _APPMAIN(90)                                                                                                       
> unixware714:~/hb/harbour$ ./bin/unixware/gcc/harbour utils/hbrun/hbrun.prg -iinclude -n1 -q0 -w2 -es2 -kmo -i- -l              
> unixware714:~/hb/harbour$ gcc -DHB_OS_UNIXWARE -I. -Iinclude -D_SCO_DS 
> -Wall -W -O3   -o hbrun.o -c hbrun.c
> unixware714:~/hb/harbour$ gcc  -pthread -I. -Llib/unixware/gcc 
> -Iinclude -L/usr/X11R6/lib -ohbrun hbrun.o -lhbcplr -lhbpp
> -lhbcommon -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage 
> -lgtcgi -lgtpca -lgtstd -lgtcrs -lgtxwc -lgttrm -lhbrdd
> -lrddntx -lrddnsx -lrddcdx -lrddfpt -lhbsix -lhbhsx -lhbusrrdd 
> -lhbuddall -lhbrtl -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon
> -lhbpcre -lcurses -lX11 -lz -lsocket -lnsl -lresolv -lm
> unixware714:~/hb/harbour$ ./hbrun --> runs fine
> 
> what gets me thinking is that the size difference between the two 
> files is relatively big:
> 
> -rwxr-xr-x    1 ice      other       3541060 Dec 16 00:54 ./hbrun                                                              
> -rwxr-xr-x    1 ice      other       3541592 Dec 16 00:52 bin/unixware/gcc/hbrun                                               
> 
> which they proportionally keep after being stripped:
> 
> -rwxr-xr-x    1 ice      other       3252400 Dec 16 01:05 ./hbrun
> -rwxr-xr-x    1 ice      other       3252848 Dec 16 01:05 bin/unixware/gcc/hbrun
> 
> and even after a treat of `mcs -d': (this strips the .comment 
> sections, which the native binutils populate with the exact versions 
> of files, tools and stuff that were involved producing said elf 
> object):
> 
> -rwxr-xr-x    1 ice      other       3031452 Dec 16 01:05 ./hbrun
> -rwxr-xr-x    1 ice      other       3031900 Dec 16 01:05 bin/unixware/gcc/hbrun
> 
> there is no real (to me..) difference between the generated c sources:
> 
> unixware714:~/hb/harbour$ /usr/local/bin/diff -u ./hbrun.c ./utils/hbrun/obj/unixware/gcc/hbrun.c
> --- ./hbrun.c   2009-12-16 00:53:29.240000007 +0100
> +++ ./utils/hbrun/obj/unixware/gcc/hbrun.c      2009-12-16 00:52:07.190000002 +0100
> @@ -1,7 +1,7 @@
> /*
>  * Harbour 2.0.0beta3 (Rev. 13256)
>  * GNU C 2.95 (32-bit)
> - * Generated C source from "utils/hbrun/hbrun.prg"
> + * Generated C source from "../../../hbrun.prg"
>  */
> 
> #include "hbvmpub.h"
> @@ -156,7 +156,7 @@
> { "HB_GT_PCA", {HB_FS_PUBLIC}, {HB_FUNCNAME( HB_GT_PCA )}, NULL },
> { "HB_GT_STD", {HB_FS_PUBLIC}, {HB_FUNCNAME( HB_GT_STD )}, NULL },
> { "(_INITSTATICS00003)", {HB_FS_INITEXIT | HB_FS_LOCAL}, {hb_INITSTATICS}, NULL }
> -HB_INIT_SYMBOLS_EX_END( hb_vm_SymbolInit_HBRUN, "utils/hbrun/hbrun.prg", 0x0, 0x0002 )
> +HB_INIT_SYMBOLS_EX_END( hb_vm_SymbolInit_HBRUN, "../../../hbrun.prg", 0x0, 0x0002 )
> 
> #if defined( HB_PRAGMA_STARTUP )
>    #pragma startup hb_vm_SymbolInit_HBRUN
> 
> 
> yet, there is some strange (related?) difference between the c strings 
> in the binaries (hbrun.ok and hbrun.bad are the outputs of `strings' on
> the working and the non-working binaries, respectively):
> 
> unixware714:~/hb/harbour$ /usr/local/bin/diff -u1 hbrun.ok hbrun.bad 
> --- hbrun.ok    2009-12-16 01:13:37.700000100 +0100
> +++ hbrun.bad   2009-12-16 01:13:44.940000011 +0100
> @@ -8,2 +8,3 @@
> __MVSETBASE
> +S_NCOL
> HB_HRBDO
> @@ -35,2 +36,3 @@
> OUTSTD
> +S_NROW
> ALLTRIM
> @@ -66,2 +68,3 @@
> PCOUNT
> +S_AINCDIR
> AADD
> @@ -70,3 +73,4 @@
> _APPMAIN
> -utils/hbrun/hbrun.prg
> +HBRUN
> +hbrun.prg
> HB_INC_INSTALL
> @@ -83,2 +87,3 @@
> dddddd
> +z1S(
> j'Harbour "DOt Prompt" Console / runner 
> 
> ... ok, so these suspiciously look like the static variables in 
> hbrun.prg (and are good account for the size difference)...
> 
> and i am lost again. if i am doing this, i have no idea how...
> 
> -- 
> [-]
> 
> mkdir /nonexistent
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Tue Dec 15 19:54:23 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 15 19:54:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13260] trunk/harbour
Message-ID: <E1NKi9n-0004Lw-SH@dn4whf1.ch3.sourceforge.com>

Revision: 13260
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13260&view=rev
Author:   vszakats
Date:     2009-12-16 00:54:21 +0000 (Wed, 16 Dec 2009)

Log Message:
-----------
2009-12-16 01:53 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/rddsql/sddmy/mysqldd.c
    ! Fixed warning reported by linux/watcom.

  * src/rtl/gtwin/gtwin.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddmy/mysqldd.c
    trunk/harbour/src/rtl/gtwin/gtwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Tue Dec 15 19:57:29 2009
From: jarabal at gmail.com (Xavi)
Date: Tue Dec 15 19:58:10 2009
Subject: [Harbour] New hbwin functions,
 windows named or unnamed mutex object. The application is running?
Message-ID: <4B283079.1080101@gmail.com>

As subject. If no objection, please Viktor, could you update the repository.

For example running.prg .-

static s_hMutex

Procedure Main()
     Local cAppName

     // It may be a random program name :)
     hb_FNameSplit( hb_ProgName(), nil, @cAppName )

     s_hMutex := win_CreateMutex( nil, nil, cAppName )
     if !Empty( s_hMutex ) .and. (wapi_GetLastError() == 0)
        ? cAppName, "=> Hello World! OK."
     else
        ? cAppName, "=> Application is running. Error", wapi_GetLastError()
     endif

     Wait
return

Thanks.

-- 
Xavi

-------------- next part --------------
/*
 * Harbour Project source code:
 * Windows Mutex functions
 *
 * Copyright 2009 Xavi <jarabal/at/gmail.com>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software; see the file COPYING.  If not, write to
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
 *
 * As a special exception, the Harbour Project gives permission for
 * additional uses of the text contained in its release of Harbour.
 *
 * The exception is that, if you link the Harbour libraries with other
 * files to produce an executable, this does not by itself cause the
 * resulting executable to be covered by the GNU General Public License.
 * Your use of that executable is in no way restricted on account of
 * linking the Harbour library code into it.
 *
 * This exception does not however invalidate any other reasons why
 * the executable file might be covered by the GNU General Public License.
 *
 * This exception applies only to the code released by the Harbour
 * Project under the name Harbour.  If you copy code from other
 * Harbour Project or Free Software Foundation releases into a copy of
 * Harbour, as the General Public License permits, the exception does
 * not apply to the code that you add in this way.  To avoid misleading
 * anyone as to the status of such modified files, you must delete
 * this exception notice from them.
 *
 * If you write modifications of your own for Harbour, it is your choice
 * whether to permit this exception to apply to your modifications.
 * If you do not wish that, delete this exception notice.
 *
 */

#include "hbapi.h"
#include "hbwinuni.h"

#include <windows.h>

static HB_GARBAGE_FUNC( win_mutex_release )
{
   void **ph = (void **)Cargo;

   if( ph && *ph ){
      CloseHandle( (HANDLE)*ph );
      *ph = NULL;
   }
}

static const HB_GC_FUNCS s_gc_win_mutex_funcs =
{
   win_mutex_release,
   hb_gcDummyMark
};

static void win_mutex_ret( HANDLE hMutex )
{
   if( hMutex ){
      void **ph = (void **)hb_gcAllocate( sizeof(HANDLE *), &s_gc_win_mutex_funcs );

      *ph = hMutex;
      hb_retptrGC( ph );
   }else
      hb_retptr( NULL );
}

static HANDLE win_mutex_par( int iParam )
{
   void **ph = (void **)hb_parptrGC( &s_gc_win_mutex_funcs, iParam );

   return (ph ? (HANDLE)*ph : NULL);
}

/* HANDLE WINAPI CreateMutex( LPSECURITY_ATTRIBUTES lpMutexAttributes, BOOL bInitialOwner, LPCTSTR lpName ) */
HB_FUNC( WIN_CREATEMUTEX )
{
   void *hName;
   HANDLE hMutex = CreateMutex( (LPSECURITY_ATTRIBUTES)hb_parptr( 1 ), hb_parl( 2 ), HB_PARSTR( 3, &hName, NULL ) );

   win_mutex_ret( hMutex );
   hb_strfree( hName );
}

/* HANDLE WINAPI OpenMutex( DWORD dwDesiredAccess, BOOL bInheritHandle, LPCTSTR lpName ) */
HB_FUNC( WIN_OPENMUTEX )
{
   void *hName;
   HANDLE hMutex = OpenMutex( hb_parnl( 1 ), hb_parl( 2 ), HB_PARSTR( 3, &hName, NULL ) );

   win_mutex_ret( hMutex );
   hb_strfree( hName );
}

/* BOOL WINAPI ReleaseMutex( HANDLE hMutex ) */
HB_FUNC( WIN_RELEASEMUTEX )
{
   HANDLE hMutex = win_mutex_par( 1 );

   hb_retl( hMutex ? ReleaseMutex( hMutex ) : HB_FALSE );
}

-------------- next part --------------
A non-text attachment was scrubbed...
Name: win_mutex.zip
Type: application/x-zip-compressed
Size: 2213 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091216/f9a4cf6a/win_mutex.bin
From harbour.01 at syenar.hu  Tue Dec 15 20:09:44 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec 15 20:09:56 2009
Subject: [Harbour] Re: New hbwin functions,
	windows named or unnamed mutex object. The application is running?
In-Reply-To: <4B283079.1080101@gmail.com>
References: <4B283079.1080101@gmail.com>
Message-ID: <75C589A7-972F-4284-BD6B-5BCFC48B8AD5@syenar.hu>

Hi Xavi,

This seems pretty sensitive area of Windows, so it will need testing 
on all compilers and especially on WinCE. I'm not sure we should 
add it right now as it may delay the release. [ apparently some of 
us are already doing build tests since today ]

In the meantime, I'd like to ask you to reformat it as per Harbour 
standards (spaces and {} usage) and fix windows header inclusion to 
use HB_OS_WIN_USED. Please change function name prefix to WAPI_ 
(from WIN_) since these are perfect mirrors of WinAPI functions.

Otherwise it looks good and even UNICODE ready. Thank you.

Brgds,
Viktor

On 2009 Dec 16, at 01:57, Xavi wrote:

> As subject. If no objection, please Viktor, could you update the repository.
> 
> For example running.prg .-
> 
> static s_hMutex
> 
> Procedure Main()
>    Local cAppName
> 
>    // It may be a random program name :)
>    hb_FNameSplit( hb_ProgName(), nil, @cAppName )
> 
>    s_hMutex := win_CreateMutex( nil, nil, cAppName )
>    if !Empty( s_hMutex ) .and. (wapi_GetLastError() == 0)
>       ? cAppName, "=> Hello World! OK."
>    else
>       ? cAppName, "=> Application is running. Error", wapi_GetLastError()
>    endif
> 
>    Wait
> return
> 
> Thanks.
> 
> -- 
> Xavi
> 
> /*
> * Harbour Project source code:
> * Windows Mutex functions
> *
> * Copyright 2009 Xavi <jarabal/at/gmail.com>
> *
> * This program is free software; you can redistribute it and/or modify
> * it under the terms of the GNU General Public License as published by
> * the Free Software Foundation; either version 2, or (at your option)
> * any later version.
> *
> * This program is distributed in the hope that it will be useful,
> * but WITHOUT ANY WARRANTY; without even the implied warranty of
> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
> * GNU General Public License for more details.
> *
> * You should have received a copy of the GNU General Public License
> * along with this software; see the file COPYING.  If not, write to
> * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
> * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
> *
> * As a special exception, the Harbour Project gives permission for
> * additional uses of the text contained in its release of Harbour.
> *
> * The exception is that, if you link the Harbour libraries with other
> * files to produce an executable, this does not by itself cause the
> * resulting executable to be covered by the GNU General Public License.
> * Your use of that executable is in no way restricted on account of
> * linking the Harbour library code into it.
> *
> * This exception does not however invalidate any other reasons why
> * the executable file might be covered by the GNU General Public License.
> *
> * This exception applies only to the code released by the Harbour
> * Project under the name Harbour.  If you copy code from other
> * Harbour Project or Free Software Foundation releases into a copy of
> * Harbour, as the General Public License permits, the exception does
> * not apply to the code that you add in this way.  To avoid misleading
> * anyone as to the status of such modified files, you must delete
> * this exception notice from them.
> *
> * If you write modifications of your own for Harbour, it is your choice
> * whether to permit this exception to apply to your modifications.
> * If you do not wish that, delete this exception notice.
> *
> */
> 
> #include "hbapi.h"
> #include "hbwinuni.h"
> 
> #include <windows.h>
> 
> static HB_GARBAGE_FUNC( win_mutex_release )
> {
>   void **ph = (void **)Cargo;
> 
>   if( ph && *ph ){
>      CloseHandle( (HANDLE)*ph );
>      *ph = NULL;
>   }
> }
> 
> static const HB_GC_FUNCS s_gc_win_mutex_funcs =
> {
>   win_mutex_release,
>   hb_gcDummyMark
> };
> 
> static void win_mutex_ret( HANDLE hMutex )
> {
>   if( hMutex ){
>      void **ph = (void **)hb_gcAllocate( sizeof(HANDLE *), &s_gc_win_mutex_funcs );
> 
>      *ph = hMutex;
>      hb_retptrGC( ph );
>   }else
>      hb_retptr( NULL );
> }
> 
> static HANDLE win_mutex_par( int iParam )
> {
>   void **ph = (void **)hb_parptrGC( &s_gc_win_mutex_funcs, iParam );
> 
>   return (ph ? (HANDLE)*ph : NULL);
> }
> 
> /* HANDLE WINAPI CreateMutex( LPSECURITY_ATTRIBUTES lpMutexAttributes, BOOL bInitialOwner, LPCTSTR lpName ) */
> HB_FUNC( WIN_CREATEMUTEX )
> {
>   void *hName;
>   HANDLE hMutex = CreateMutex( (LPSECURITY_ATTRIBUTES)hb_parptr( 1 ), hb_parl( 2 ), HB_PARSTR( 3, &hName, NULL ) );
> 
>   win_mutex_ret( hMutex );
>   hb_strfree( hName );
> }
> 
> /* HANDLE WINAPI OpenMutex( DWORD dwDesiredAccess, BOOL bInheritHandle, LPCTSTR lpName ) */
> HB_FUNC( WIN_OPENMUTEX )
> {
>   void *hName;
>   HANDLE hMutex = OpenMutex( hb_parnl( 1 ), hb_parl( 2 ), HB_PARSTR( 3, &hName, NULL ) );
> 
>   win_mutex_ret( hMutex );
>   hb_strfree( hName );
> }
> 
> /* BOOL WINAPI ReleaseMutex( HANDLE hMutex ) */
> HB_FUNC( WIN_RELEASEMUTEX )
> {
>   HANDLE hMutex = win_mutex_par( 1 );
> 
>   hb_retl( hMutex ? ReleaseMutex( hMutex ) : HB_FALSE );
> }
> 
> <win_mutex.zip>

From vszakats at users.sourceforge.net  Tue Dec 15 20:11:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 15 20:11:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13261] trunk/harbour
Message-ID: <E1NKiPw-0004w7-2a@dn4whf1.ch3.sourceforge.com>

Revision: 13261
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13261&view=rev
Author:   vszakats
Date:     2009-12-16 01:10:59 +0000 (Wed, 16 Dec 2009)

Log Message:
-----------
2009-12-16 02:10 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_hbqmainwindow.cpp
    * Minor formatting after latest changes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_hbqmainwindow.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Tue Dec 15 20:43:54 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Tue Dec 15 20:44:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13255] trunk/harbour
In-Reply-To: <88E7F297-5667-41F1-90A2-E79FE5047ADD@syenar.hu>
References: <E1NKgkp-0005mP-14@3kljzd1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0912160058060.27623@dawn.royalcomp.hu>
	<88E7F297-5667-41F1-90A2-E79FE5047ADD@syenar.hu>
Message-ID: <alpine.DEB.2.00.0912160231560.27623@dawn.royalcomp.hu>

On Wed, 16 Dec 2009, Viktor Szak?ts wrote:

 > I wonder why this didn't came up earlier, for one thing 
 > hbmk script is unrelated to default build process, and in 
 > default build process -n1 option is added by config/rules.mk. 
 > This is right for libs, but not right for bins.
 > 
 > (default build process also uses hbmk2, but it's 
 > using -n1/-n2 correctly)
 > 
 > So question is: Why is a problem now, and why wasn't 
 > it so far?

i honestly have no freaking idea. i had one good build for at just 
about when przemek started adding initsegstartup, then everything went 
completely haywire for several hours (nothing that i could attribute 
to any change he made), and then suddenly it started working again.

i *am* cleaning aggressively, to the extent of:

cd `dirname $0`/harbour && rm -rf `find . -type d -name obj` lib/unixware/ bin/unixware/

and i have no idea why it turned upside down, nor do i know what made 
it behave well again. i did not however do blind check builds on other 
platforms.

it probably must have been a heisenbug or a hiccup in my setup (in 
fact there still is one quite strange phenomenon, but i'm still trying 
to hunt that down, before inevitably failing and crying for help:)...

 > (correction is easy after that point)

in fact the build procedure still runs -n1, and now all is fine.

 > 
 > Brgds,
 > Viktor
 > 
 > On 2009 Dec 16, at 01:37, Tamas TEVESZ wrote:
 > 
 > > On Tue, 15 Dec 2009, druzus@users.sourceforge.net wrote:
 > > 
 > > hi,
 > > 
 > >> Revision: 13255
 > >>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13255&view=rev
 > >> Author:   druzus
 > >> Date:     2009-12-15 23:24:29 +0000 (Tue, 15 Dec 2009)
 > >> 
 > >> Log Message:
 > >> -----------
 > >> 2009-12-16 00:24 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
 > >>  * harbour/bin/hb-func.sh
 > >>    * use -n2 as default harbour compiler parameter in hb* scripts
 > > 
 > > that didn't really help, and it's getting even more strange.
 > > 
 > > the build log clearly shows harbour still being called with -n1, i 
 > > checked the older ones, it was so all along the way as well.
 > > 
 > > the completely strange part is that if, using the very same options, 
 > > copy-pasted from the build log, i build a "private copy" of hbrun, 
 > > then it works.
 > > 
 > > so, the result of a "make" in the source tree gets me a 
 > > bin/$plat/$comp/hbrun which gives BASE/1003
 > > 
 > > the following gives a working hbrun:
 > > 
 > > unixware714:~/hb/harbour$ env | fgrep HB
 > > unixware714:~/hb/harbour$ gmake > ../log 2>&1                                                                                  
 > > unixware714:~/hb/harbour$ ./bin/unixware/gcc/hbrun
 > > Error BASE/1003  Variable does not exist: S_AINCDIR
 > > Called from _APPMAIN(90)                                                                                                       
 > > unixware714:~/hb/harbour$ ./bin/unixware/gcc/harbour utils/hbrun/hbrun.prg -iinclude -n1 -q0 -w2 -es2 -kmo -i- -l              
 > > unixware714:~/hb/harbour$ gcc -DHB_OS_UNIXWARE -I. -Iinclude -D_SCO_DS 
 > > -Wall -W -O3   -o hbrun.o -c hbrun.c
 > > unixware714:~/hb/harbour$ gcc  -pthread -I. -Llib/unixware/gcc 
 > > -Iinclude -L/usr/X11R6/lib -ohbrun hbrun.o -lhbcplr -lhbpp
 > > -lhbcommon -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage 
 > > -lgtcgi -lgtpca -lgtstd -lgtcrs -lgtxwc -lgttrm -lhbrdd
 > > -lrddntx -lrddnsx -lrddcdx -lrddfpt -lhbsix -lhbhsx -lhbusrrdd 
 > > -lhbuddall -lhbrtl -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon
 > > -lhbpcre -lcurses -lX11 -lz -lsocket -lnsl -lresolv -lm
 > > unixware714:~/hb/harbour$ ./hbrun --> runs fine
 > > 
 > > what gets me thinking is that the size difference between the two 
 > > files is relatively big:
 > > 
 > > -rwxr-xr-x    1 ice      other       3541060 Dec 16 00:54 ./hbrun                                                              
 > > -rwxr-xr-x    1 ice      other       3541592 Dec 16 00:52 bin/unixware/gcc/hbrun                                               
 > > 
 > > which they proportionally keep after being stripped:
 > > 
 > > -rwxr-xr-x    1 ice      other       3252400 Dec 16 01:05 ./hbrun
 > > -rwxr-xr-x    1 ice      other       3252848 Dec 16 01:05 bin/unixware/gcc/hbrun
 > > 
 > > and even after a treat of `mcs -d': (this strips the .comment 
 > > sections, which the native binutils populate with the exact versions 
 > > of files, tools and stuff that were involved producing said elf 
 > > object):
 > > 
 > > -rwxr-xr-x    1 ice      other       3031452 Dec 16 01:05 ./hbrun
 > > -rwxr-xr-x    1 ice      other       3031900 Dec 16 01:05 bin/unixware/gcc/hbrun
 > > 
 > > there is no real (to me..) difference between the generated c sources:
 > > 
 > > unixware714:~/hb/harbour$ /usr/local/bin/diff -u ./hbrun.c ./utils/hbrun/obj/unixware/gcc/hbrun.c
 > > --- ./hbrun.c   2009-12-16 00:53:29.240000007 +0100
 > > +++ ./utils/hbrun/obj/unixware/gcc/hbrun.c      2009-12-16 00:52:07.190000002 +0100
 > > @@ -1,7 +1,7 @@
 > > /*
 > >  * Harbour 2.0.0beta3 (Rev. 13256)
 > >  * GNU C 2.95 (32-bit)
 > > - * Generated C source from "utils/hbrun/hbrun.prg"
 > > + * Generated C source from "../../../hbrun.prg"
 > >  */
 > > 
 > > #include "hbvmpub.h"
 > > @@ -156,7 +156,7 @@
 > > { "HB_GT_PCA", {HB_FS_PUBLIC}, {HB_FUNCNAME( HB_GT_PCA )}, NULL },
 > > { "HB_GT_STD", {HB_FS_PUBLIC}, {HB_FUNCNAME( HB_GT_STD )}, NULL },
 > > { "(_INITSTATICS00003)", {HB_FS_INITEXIT | HB_FS_LOCAL}, {hb_INITSTATICS}, NULL }
 > > -HB_INIT_SYMBOLS_EX_END( hb_vm_SymbolInit_HBRUN, "utils/hbrun/hbrun.prg", 0x0, 0x0002 )
 > > +HB_INIT_SYMBOLS_EX_END( hb_vm_SymbolInit_HBRUN, "../../../hbrun.prg", 0x0, 0x0002 )
 > > 
 > > #if defined( HB_PRAGMA_STARTUP )
 > >    #pragma startup hb_vm_SymbolInit_HBRUN
 > > 
 > > 
 > > yet, there is some strange (related?) difference between the c strings 
 > > in the binaries (hbrun.ok and hbrun.bad are the outputs of `strings' on
 > > the working and the non-working binaries, respectively):
 > > 
 > > unixware714:~/hb/harbour$ /usr/local/bin/diff -u1 hbrun.ok hbrun.bad 
 > > --- hbrun.ok    2009-12-16 01:13:37.700000100 +0100
 > > +++ hbrun.bad   2009-12-16 01:13:44.940000011 +0100
 > > @@ -8,2 +8,3 @@
 > > __MVSETBASE
 > > +S_NCOL
 > > HB_HRBDO
 > > @@ -35,2 +36,3 @@
 > > OUTSTD
 > > +S_NROW
 > > ALLTRIM
 > > @@ -66,2 +68,3 @@
 > > PCOUNT
 > > +S_AINCDIR
 > > AADD
 > > @@ -70,3 +73,4 @@
 > > _APPMAIN
 > > -utils/hbrun/hbrun.prg
 > > +HBRUN
 > > +hbrun.prg
 > > HB_INC_INSTALL
 > > @@ -83,2 +87,3 @@
 > > dddddd
 > > +z1S(
 > > j'Harbour "DOt Prompt" Console / runner 
 > > 
 > > ... ok, so these suspiciously look like the static variables in 
 > > hbrun.prg (and are good account for the size difference)...
 > > 
 > > and i am lost again. if i am doing this, i have no idea how...
 > > 
 > > -- 
 > > [-]
 > > 
 > > mkdir /nonexistent
 > > _______________________________________________
 > > Harbour mailing list (attachment size limit: 40KB)
 > > Harbour@harbour-project.org
 > > http://lists.harbour-project.org/mailman/listinfo/harbour
 > 
 > _______________________________________________
 > Harbour mailing list (attachment size limit: 40KB)
 > Harbour@harbour-project.org
 > http://lists.harbour-project.org/mailman/listinfo/harbour
 > 

-- 
[-]

mkdir /nonexistent
From vszakats at users.sourceforge.net  Tue Dec 15 21:12:28 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 15 21:12:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13262] trunk/harbour
Message-ID: <E1NKjNM-0001yp-Jl@3kljzd1.ch3.sourceforge.com>

Revision: 13262
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13262&view=rev
Author:   vszakats
Date:     2009-12-16 02:12:27 +0000 (Wed, 16 Dec 2009)

Log Message:
-----------
2009-12-16 03:11 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/common/watcom.mk
  * config/global.mk
  * config/rules.mk
    ! Added relatively ugly hack to change dir separators in CC_RULE in 
      a generic way. It's ugly because it's only needed for non-linux 
      Watcom C (not C++!) builds, but this way it's possible to avoid 
      CC_RULE override in common/watcom.mk. CC_RULE override didn't 
      implement dynlib support, which meant that after switching 
      to C mode as default for watcom, dynlib generation got broken 
      on win and os2.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/common/watcom.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/rules.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Dec 15 21:18:09 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 15 21:18:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13263] trunk/harbour
Message-ID: <E1NKjSr-00027k-Oi@3kljzd1.ch3.sourceforge.com>

Revision: 13263
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13263&view=rev
Author:   vszakats
Date:     2009-12-16 02:18:08 +0000 (Wed, 16 Dec 2009)

Log Message:
-----------
2009-12-16 03:17 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/common/watcom.mk
    ! Fixed for dos/watcom after previous change.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/common/watcom.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From april_white at sympatico.ca  Tue Dec 15 21:30:41 2009
From: april_white at sympatico.ca (April White)
Date: Tue Dec 15 21:30:51 2009
Subject: [Harbour] win platform build results
In-Reply-To: <0DB580C4-C3F4-4FB9-8798-F3AC634915D7@syenar.hu>
References: <0DB580C4-C3F4-4FB9-8798-F3AC634915D7@syenar.hu>
Message-ID: <BLU0-SMTP17EE68F147C341A1D3F050EF870@phx.gbl>

Viktor Szak?ts wrote:
> win/mingw64 (4.5.0-20091118)
> -------------
> ...
>
> x86_64-w64-mingw32-gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DUNICODE  -ohb_btree.o -c ../../../hb_btree.c
> ../../../hb_btree.c: In function 'Grow':
> ../../../hb_btree.c:740:23: warning: cast from pointer to integer of different siz
>   
Viktor, I'll be uploading a change within a few days, my Win32 results 
produces the same file as the original code.

Could you please run the test program on your 64-bit box, redirecting 
the output to a file and email that file to me?  In fact, could you 
email me the *.out files?

I'll be asking the same once I've uploaded the change, I have a concern 
that the file will

ttfn,
April

-- 
Santa Claus has the right idea. Visit people only once a year.
- Victor Borge

From jarabal at gmail.com  Tue Dec 15 21:47:36 2009
From: jarabal at gmail.com (Xavi)
Date: Tue Dec 15 21:48:19 2009
Subject: [Harbour] Re: New hbwin functions,
 windows named or unnamed mutex object. The application is running?
In-Reply-To: <75C589A7-972F-4284-BD6B-5BCFC48B8AD5@syenar.hu>
References: <4B283079.1080101@gmail.com>
	<75C589A7-972F-4284-BD6B-5BCFC48B8AD5@syenar.hu>
Message-ID: <4B284A48.2060207@gmail.com>

Viktor,

Ok, adapted as WAPI_ and WinCE .-

Windows CE 1.01 and later
Windows Mobile Version 5.0 and later

http://msdn.microsoft.com/en-us/library/aa914601.aspx

Running.prg .-

static s_hMutex

Procedure Main()
     Local cAppName

     // It may be a random program name :)
     hb_FNameSplit( hb_ProgName(), nil, @cAppName )

     s_hMutex := wapi_CreateMutex( nil, nil, cAppName )
     if !Empty( s_hMutex ) .and. (wapi_GetLastError() == 0)
        ? cAppName, "=> Hello World! OK."
     else
        ? cAppName, "=> Application is running. Error", wapi_GetLastError()
     endif

     Wait
return

Source contrib/hbwin

-- 
Xavi

Viktor Szak?ts escribi?:
> Hi Xavi,
> 
> This seems pretty sensitive area of Windows, so it will need testing 
> on all compilers and especially on WinCE. I'm not sure we should 
> add it right now as it may delay the release. [ apparently some of 
> us are already doing build tests since today ]
> 
> In the meantime, I'd like to ask you to reformat it as per Harbour 
> standards (spaces and {} usage) and fix windows header inclusion to 
> use HB_OS_WIN_USED. Please change function name prefix to WAPI_ 
> (from WIN_) since these are perfect mirrors of WinAPI functions.
> 
> Otherwise it looks good and even UNICODE ready. Thank you.
> 
> Brgds,
> Viktor
> 




-------------- next part --------------
/*
 * Harbour Project source code:
 * Windows Mutex functions
 *
 * Copyright 2009 Xavi <jarabal/at/gmail.com>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software; see the file COPYING.  If not, write to
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
 *
 * As a special exception, the Harbour Project gives permission for
 * additional uses of the text contained in its release of Harbour.
 *
 * The exception is that, if you link the Harbour libraries with other
 * files to produce an executable, this does not by itself cause the
 * resulting executable to be covered by the GNU General Public License.
 * Your use of that executable is in no way restricted on account of
 * linking the Harbour library code into it.
 *
 * This exception does not however invalidate any other reasons why
 * the executable file might be covered by the GNU General Public License.
 *
 * This exception applies only to the code released by the Harbour
 * Project under the name Harbour.  If you copy code from other
 * Harbour Project or Free Software Foundation releases into a copy of
 * Harbour, as the General Public License permits, the exception does
 * not apply to the code that you add in this way.  To avoid misleading
 * anyone as to the status of such modified files, you must delete
 * this exception notice from them.
 *
 * If you write modifications of your own for Harbour, it is your choice
 * whether to permit this exception to apply to your modifications.
 * If you do not wish that, delete this exception notice.
 *
 */

#define HB_OS_WIN_USED

#include "hbapi.h"
#include "hbwinuni.h"

#include <winbase.h>

static HB_GARBAGE_FUNC( wapi_mutex_release )
{
   void **ph = (void **)Cargo;

   if( ph && *ph ){
      CloseHandle( (HANDLE)*ph );
      *ph = NULL;
   }
}

static const HB_GC_FUNCS s_gc_wapi_mutex_funcs =
{
   wapi_mutex_release,
   hb_gcDummyMark
};

static void wapi_mutex_ret( HANDLE hMutex )
{
   if( hMutex ){
      void **ph = (void **)hb_gcAllocate( sizeof(HANDLE *), &s_gc_wapi_mutex_funcs );

      *ph = hMutex;
      hb_retptrGC( ph );
   }else
      hb_retptr( NULL );
}

static HANDLE wapi_mutex_par( int iParam )
{
   void **ph = (void **)hb_parptrGC( &s_gc_wapi_mutex_funcs, iParam );

   return (ph ? (HANDLE)*ph : NULL);
}

/* HANDLE WINAPI CreateMutex( LPSECURITY_ATTRIBUTES lpMutexAttributes, BOOL bInitialOwner, LPCTSTR lpName ) */
HB_FUNC( WAPI_CREATEMUTEX )
{
   void *hName;
   HANDLE hMutex = CreateMutex( (LPSECURITY_ATTRIBUTES)hb_parptr( 1 ), hb_parl( 2 ), HB_PARSTR( 3, &hName, NULL ) );

   wapi_mutex_ret( hMutex );
   hb_strfree( hName );
}

/* HANDLE WINAPI OpenMutex( DWORD dwDesiredAccess, BOOL bInheritHandle, LPCTSTR lpName ) */
HB_FUNC( WAPI_OPENMUTEX )
{
#if ! defined( HB_OS_WIN_CE )
   void *hName;
   HANDLE hMutex = OpenMutex( hb_parnl( 1 ), hb_parl( 2 ), HB_PARSTR( 3, &hName, NULL ) );

   wapi_mutex_ret( hMutex );
   hb_strfree( hName );
#else
   hb_retptr( NULL );
#endif
}

/* BOOL WINAPI ReleaseMutex( HANDLE hMutex ) */
HB_FUNC( WAPI_RELEASEMUTEX )
{
   HANDLE hMutex = wapi_mutex_par( 1 );

   hb_retl( hMutex ? ReleaseMutex( hMutex ) : HB_FALSE );
}

-------------- next part --------------
#
# $Id: Makefile 13225 2009-12-12 14:43:52Z vszakats $
#

ROOT := ../../

include $(TOP)$(ROOT)config/global.mk

LIBNAME := hbwin

C_SOURCES := \
   mapi.c \
   olecore.c \
   oleinit.c \
   axcore.c \
   legacycd.c \
   legacyco.c \
   legacycp.c \
   legacycr.c \
   legacycv.c \
   wce_simc.c \
   wce_smsc.c \
   win_com.c \
   win_dll.c \
   win_misc.c \
   win_osc.c \
   win_prn1.c \
   win_prn2.c \
   win_prn3.c \
   win_regc.c \
   wapi_commctrl.c \
   wapi_shellapi.c \
   wapi_winbase.c \
   wapi_mutex.c \
   wapi_winuser.c \

PRG_SOURCES := \
   legacy.prg \
   oleauto.prg \
   axfunc.prg \
   wce_sim.prg \
   win_tcom.prg \
   win_os.prg \
   win_reg.prg \
   win_tprn.prg \

C_HEADERS := \
   hbwapi.h \
   hbwin.h \
   hbwinole.h \

PRG_HEADERS := \
   hbwin.ch \

ifneq ($(filter $(HB_PLATFORM),win wce),)
   include $(TOP)$(ROOT)config/header.mk
   include $(TOP)$(ROOT)config/lib.mk
else
   HB_SKIP_REASON := platform not supported
   include $(TOP)$(ROOT)config/none.mk
endif
-------------- next part --------------
A non-text attachment was scrubbed...
Name: wapi_mutex.zip
Type: application/x-zip-compressed
Size: 2265 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091216/4206de23/wapi_mutex.bin
From harbour.01 at syenar.hu  Tue Dec 15 21:54:15 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec 15 21:54:28 2009
Subject: [Harbour] win platform build results
In-Reply-To: <BLU0-SMTP17EE68F147C341A1D3F050EF870@phx.gbl>
References: <0DB580C4-C3F4-4FB9-8798-F3AC634915D7@syenar.hu>
	<BLU0-SMTP17EE68F147C341A1D3F050EF870@phx.gbl>
Message-ID: <5DDA517F-ABAD-4246-9EF1-D51F35EF8B77@syenar.hu>

Hi April,

Pls find attached msvc64.zip with stdout and .out files. 
Plus also msvc.zip for reference.

[ I'll commit a minor fix to test code, which doesn't 
change the result. ]

Brgds,
Viktor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: msvc64.zip
Type: application/zip
Size: 8896 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091216/414547f9/msvc64-0001.zip
-------------- next part --------------
A non-text attachment was scrubbed...
Name: msvc.zip
Type: application/zip
Size: 8847 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091216/414547f9/msvc-0001.zip
-------------- next part --------------


On 2009 Dec 16, at 03:30, April White wrote:

> Viktor Szak?ts wrote:
>> win/mingw64 (4.5.0-20091118)
>> -------------
>> ...
>> 
>> x86_64-w64-mingw32-gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DUNICODE  -ohb_btree.o -c ../../../hb_btree.c
>> ../../../hb_btree.c: In function 'Grow':
>> ../../../hb_btree.c:740:23: warning: cast from pointer to integer of different siz
>>  
> Viktor, I'll be uploading a change within a few days, my Win32 results produces the same file as the original code.
> 
> Could you please run the test program on your 64-bit box, redirecting the output to a file and email that file to me?  In fact, could you email me the *.out files?
> 
> I'll be asking the same once I've uploaded the change, I have a concern that the file will
> 
> ttfn,
> April
> 
> -- 
> Santa Claus has the right idea. Visit people only once a year.
> - Victor Borge
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Tue Dec 15 21:55:29 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 15 21:55:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13264] trunk/harbour
Message-ID: <E1NKk2z-0000k0-F2@c3vjzd1.ch3.sourceforge.com>

Revision: 13264
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13264&view=rev
Author:   vszakats
Date:     2009-12-16 02:55:28 +0000 (Wed, 16 Dec 2009)

Log Message:
-----------
2009-12-16 03:54 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbbtree/tests/ctest.c
    ! Changed sprintf() to safe hb_snprintf() to avoid MSVC 
      warnings.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbtree/tests/ctest.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Dec 15 22:05:50 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec 15 22:06:04 2009
Subject: [Harbour] Re: New hbwin functions,
	windows named or unnamed mutex object. The application is running?
In-Reply-To: <4B284A48.2060207@gmail.com>
References: <4B283079.1080101@gmail.com>
	<75C589A7-972F-4284-BD6B-5BCFC48B8AD5@syenar.hu>
	<4B284A48.2060207@gmail.com>
Message-ID: <81B29C55-5F64-4D4F-B671-8430AD72003D@syenar.hu>

Hi,

Thank you, sorry to insist but I'd like to ask you 
to fix formatting. For me it's a terrible waste of 
time to fix all such code to have common format which 
we use in all our files. There was a lot of energy 
put in that, and as in all serious projects also 
in Harbour its important to keep it that way to easy 
contributors job when reviewing and working with the 
code in future updates, grep work, copy/paste and 
keeping a common layout for all files belonging to 
this project. F.e. pls compare tprinter.prg from xhb 
and win_prn*.c in Harbour to see the difference.

Or if not, I hope someone else will commit it, hopefully 
also fixing this issue, but I only have 24 hours a 
day and there several are more exciting and more 
important things to do than fixing other ppl's code 
endlessly. This isn't a personal thing, it goes to 
every contributor.

Brdgs,
Viktor

On 2009 Dec 16, at 03:47, Xavi wrote:

> Viktor,
> 
> Ok, adapted as WAPI_ and WinCE .-
> 
> Windows CE 1.01 and later
> Windows Mobile Version 5.0 and later
> 
> http://msdn.microsoft.com/en-us/library/aa914601.aspx
> 
> Running.prg .-
> 
> static s_hMutex
> 
> Procedure Main()
>    Local cAppName
> 
>    // It may be a random program name :)
>    hb_FNameSplit( hb_ProgName(), nil, @cAppName )
> 
>    s_hMutex := wapi_CreateMutex( nil, nil, cAppName )
>    if !Empty( s_hMutex ) .and. (wapi_GetLastError() == 0)
>       ? cAppName, "=> Hello World! OK."
>    else
>       ? cAppName, "=> Application is running. Error", wapi_GetLastError()
>    endif
> 
>    Wait
> return
> 
> Source contrib/hbwin
> 
> -- 
> Xavi
> 
> Viktor Szak?ts escribi?:
>> Hi Xavi,
>> This seems pretty sensitive area of Windows, so it will need testing on all compilers and especially on WinCE. I'm not sure we should add it right now as it may delay the release. [ apparently some of us are already doing build tests since today ]
>> In the meantime, I'd like to ask you to reformat it as per Harbour standards (spaces and {} usage) and fix windows header inclusion to use HB_OS_WIN_USED. Please change function name prefix to WAPI_ (from WIN_) since these are perfect mirrors of WinAPI functions.
>> Otherwise it looks good and even UNICODE ready. Thank you.
>> Brgds,
>> Viktor
> 
> 
> 
> 
> /*
> * Harbour Project source code:
> * Windows Mutex functions
> *
> * Copyright 2009 Xavi <jarabal/at/gmail.com>
> *
> * This program is free software; you can redistribute it and/or modify
> * it under the terms of the GNU General Public License as published by
> * the Free Software Foundation; either version 2, or (at your option)
> * any later version.
> *
> * This program is distributed in the hope that it will be useful,
> * but WITHOUT ANY WARRANTY; without even the implied warranty of
> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
> * GNU General Public License for more details.
> *
> * You should have received a copy of the GNU General Public License
> * along with this software; see the file COPYING.  If not, write to
> * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
> * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
> *
> * As a special exception, the Harbour Project gives permission for
> * additional uses of the text contained in its release of Harbour.
> *
> * The exception is that, if you link the Harbour libraries with other
> * files to produce an executable, this does not by itself cause the
> * resulting executable to be covered by the GNU General Public License.
> * Your use of that executable is in no way restricted on account of
> * linking the Harbour library code into it.
> *
> * This exception does not however invalidate any other reasons why
> * the executable file might be covered by the GNU General Public License.
> *
> * This exception applies only to the code released by the Harbour
> * Project under the name Harbour.  If you copy code from other
> * Harbour Project or Free Software Foundation releases into a copy of
> * Harbour, as the General Public License permits, the exception does
> * not apply to the code that you add in this way.  To avoid misleading
> * anyone as to the status of such modified files, you must delete
> * this exception notice from them.
> *
> * If you write modifications of your own for Harbour, it is your choice
> * whether to permit this exception to apply to your modifications.
> * If you do not wish that, delete this exception notice.
> *
> */
> 
> #define HB_OS_WIN_USED
> 
> #include "hbapi.h"
> #include "hbwinuni.h"
> 
> #include <winbase.h>
> 
> static HB_GARBAGE_FUNC( wapi_mutex_release )
> {
>   void **ph = (void **)Cargo;
> 
>   if( ph && *ph ){
>      CloseHandle( (HANDLE)*ph );
>      *ph = NULL;
>   }
> }
> 
> static const HB_GC_FUNCS s_gc_wapi_mutex_funcs =
> {
>   wapi_mutex_release,
>   hb_gcDummyMark
> };
> 
> static void wapi_mutex_ret( HANDLE hMutex )
> {
>   if( hMutex ){
>      void **ph = (void **)hb_gcAllocate( sizeof(HANDLE *), &s_gc_wapi_mutex_funcs );
> 
>      *ph = hMutex;
>      hb_retptrGC( ph );
>   }else
>      hb_retptr( NULL );
> }
> 
> static HANDLE wapi_mutex_par( int iParam )
> {
>   void **ph = (void **)hb_parptrGC( &s_gc_wapi_mutex_funcs, iParam );
> 
>   return (ph ? (HANDLE)*ph : NULL);
> }
> 
> /* HANDLE WINAPI CreateMutex( LPSECURITY_ATTRIBUTES lpMutexAttributes, BOOL bInitialOwner, LPCTSTR lpName ) */
> HB_FUNC( WAPI_CREATEMUTEX )
> {
>   void *hName;
>   HANDLE hMutex = CreateMutex( (LPSECURITY_ATTRIBUTES)hb_parptr( 1 ), hb_parl( 2 ), HB_PARSTR( 3, &hName, NULL ) );
> 
>   wapi_mutex_ret( hMutex );
>   hb_strfree( hName );
> }
> 
> /* HANDLE WINAPI OpenMutex( DWORD dwDesiredAccess, BOOL bInheritHandle, LPCTSTR lpName ) */
> HB_FUNC( WAPI_OPENMUTEX )
> {
> #if ! defined( HB_OS_WIN_CE )
>   void *hName;
>   HANDLE hMutex = OpenMutex( hb_parnl( 1 ), hb_parl( 2 ), HB_PARSTR( 3, &hName, NULL ) );
> 
>   wapi_mutex_ret( hMutex );
>   hb_strfree( hName );
> #else
>   hb_retptr( NULL );
> #endif
> }
> 
> /* BOOL WINAPI ReleaseMutex( HANDLE hMutex ) */
> HB_FUNC( WAPI_RELEASEMUTEX )
> {
>   HANDLE hMutex = wapi_mutex_par( 1 );
> 
>   hb_retl( hMutex ? ReleaseMutex( hMutex ) : HB_FALSE );
> }
> 
> #
> # $Id: Makefile 13225 2009-12-12 14:43:52Z vszakats $
> #
> 
> ROOT := ../../
> 
> include $(TOP)$(ROOT)config/global.mk
> 
> LIBNAME := hbwin
> 
> C_SOURCES := \
>   mapi.c \
>   olecore.c \
>   oleinit.c \
>   axcore.c \
>   legacycd.c \
>   legacyco.c \
>   legacycp.c \
>   legacycr.c \
>   legacycv.c \
>   wce_simc.c \
>   wce_smsc.c \
>   win_com.c \
>   win_dll.c \
>   win_misc.c \
>   win_osc.c \
>   win_prn1.c \
>   win_prn2.c \
>   win_prn3.c \
>   win_regc.c \
>   wapi_commctrl.c \
>   wapi_shellapi.c \
>   wapi_winbase.c \
>   wapi_mutex.c \
>   wapi_winuser.c \
> 
> PRG_SOURCES := \
>   legacy.prg \
>   oleauto.prg \
>   axfunc.prg \
>   wce_sim.prg \
>   win_tcom.prg \
>   win_os.prg \
>   win_reg.prg \
>   win_tprn.prg \
> 
> C_HEADERS := \
>   hbwapi.h \
>   hbwin.h \
>   hbwinole.h \
> 
> PRG_HEADERS := \
>   hbwin.ch \
> 
> ifneq ($(filter $(HB_PLATFORM),win wce),)
>   include $(TOP)$(ROOT)config/header.mk
>   include $(TOP)$(ROOT)config/lib.mk
> else
>   HB_SKIP_REASON := platform not supported
>   include $(TOP)$(ROOT)config/none.mk
> endif
> <wapi_mutex.zip>

From harbour.01 at syenar.hu  Tue Dec 15 22:07:34 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec 15 22:07:47 2009
Subject: [Harbour] Re: New hbwin functions,
	windows named or unnamed mutex object. The application is running?
In-Reply-To: <4B284A48.2060207@gmail.com>
References: <4B283079.1080101@gmail.com>
	<75C589A7-972F-4284-BD6B-5BCFC48B8AD5@syenar.hu>
	<4B284A48.2060207@gmail.com>
Message-ID: <808A7553-5602-4910-B344-20718C935EFB@syenar.hu>

One more minor note: <winbase.h> is not necessary, HB_OS_WIN_USED 
takes care of it, pls delete it.

Brgds,
Viktor

On 2009 Dec 16, at 03:47, Xavi wrote:

> Viktor,
> 
> Ok, adapted as WAPI_ and WinCE .-
> 
> Windows CE 1.01 and later
> Windows Mobile Version 5.0 and later
> 
> http://msdn.microsoft.com/en-us/library/aa914601.aspx
> 
> Running.prg .-
> 
> static s_hMutex
> 
> Procedure Main()
>    Local cAppName
> 
>    // It may be a random program name :)
>    hb_FNameSplit( hb_ProgName(), nil, @cAppName )
> 
>    s_hMutex := wapi_CreateMutex( nil, nil, cAppName )
>    if !Empty( s_hMutex ) .and. (wapi_GetLastError() == 0)
>       ? cAppName, "=> Hello World! OK."
>    else
>       ? cAppName, "=> Application is running. Error", wapi_GetLastError()
>    endif
> 
>    Wait
> return
> 
> Source contrib/hbwin
> 
> -- 
> Xavi
> 
> Viktor Szak?ts escribi?:
>> Hi Xavi,
>> This seems pretty sensitive area of Windows, so it will need testing on all compilers and especially on WinCE. I'm not sure we should add it right now as it may delay the release. [ apparently some of us are already doing build tests since today ]
>> In the meantime, I'd like to ask you to reformat it as per Harbour standards (spaces and {} usage) and fix windows header inclusion to use HB_OS_WIN_USED. Please change function name prefix to WAPI_ (from WIN_) since these are perfect mirrors of WinAPI functions.
>> Otherwise it looks good and even UNICODE ready. Thank you.
>> Brgds,
>> Viktor
> 
> 
> 
> 
> /*
> * Harbour Project source code:
> * Windows Mutex functions
> *
> * Copyright 2009 Xavi <jarabal/at/gmail.com>
> *
> * This program is free software; you can redistribute it and/or modify
> * it under the terms of the GNU General Public License as published by
> * the Free Software Foundation; either version 2, or (at your option)
> * any later version.
> *
> * This program is distributed in the hope that it will be useful,
> * but WITHOUT ANY WARRANTY; without even the implied warranty of
> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
> * GNU General Public License for more details.
> *
> * You should have received a copy of the GNU General Public License
> * along with this software; see the file COPYING.  If not, write to
> * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
> * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
> *
> * As a special exception, the Harbour Project gives permission for
> * additional uses of the text contained in its release of Harbour.
> *
> * The exception is that, if you link the Harbour libraries with other
> * files to produce an executable, this does not by itself cause the
> * resulting executable to be covered by the GNU General Public License.
> * Your use of that executable is in no way restricted on account of
> * linking the Harbour library code into it.
> *
> * This exception does not however invalidate any other reasons why
> * the executable file might be covered by the GNU General Public License.
> *
> * This exception applies only to the code released by the Harbour
> * Project under the name Harbour.  If you copy code from other
> * Harbour Project or Free Software Foundation releases into a copy of
> * Harbour, as the General Public License permits, the exception does
> * not apply to the code that you add in this way.  To avoid misleading
> * anyone as to the status of such modified files, you must delete
> * this exception notice from them.
> *
> * If you write modifications of your own for Harbour, it is your choice
> * whether to permit this exception to apply to your modifications.
> * If you do not wish that, delete this exception notice.
> *
> */
> 
> #define HB_OS_WIN_USED
> 
> #include "hbapi.h"
> #include "hbwinuni.h"
> 
> #include <winbase.h>
> 
> static HB_GARBAGE_FUNC( wapi_mutex_release )
> {
>   void **ph = (void **)Cargo;
> 
>   if( ph && *ph ){
>      CloseHandle( (HANDLE)*ph );
>      *ph = NULL;
>   }
> }
> 
> static const HB_GC_FUNCS s_gc_wapi_mutex_funcs =
> {
>   wapi_mutex_release,
>   hb_gcDummyMark
> };
> 
> static void wapi_mutex_ret( HANDLE hMutex )
> {
>   if( hMutex ){
>      void **ph = (void **)hb_gcAllocate( sizeof(HANDLE *), &s_gc_wapi_mutex_funcs );
> 
>      *ph = hMutex;
>      hb_retptrGC( ph );
>   }else
>      hb_retptr( NULL );
> }
> 
> static HANDLE wapi_mutex_par( int iParam )
> {
>   void **ph = (void **)hb_parptrGC( &s_gc_wapi_mutex_funcs, iParam );
> 
>   return (ph ? (HANDLE)*ph : NULL);
> }
> 
> /* HANDLE WINAPI CreateMutex( LPSECURITY_ATTRIBUTES lpMutexAttributes, BOOL bInitialOwner, LPCTSTR lpName ) */
> HB_FUNC( WAPI_CREATEMUTEX )
> {
>   void *hName;
>   HANDLE hMutex = CreateMutex( (LPSECURITY_ATTRIBUTES)hb_parptr( 1 ), hb_parl( 2 ), HB_PARSTR( 3, &hName, NULL ) );
> 
>   wapi_mutex_ret( hMutex );
>   hb_strfree( hName );
> }
> 
> /* HANDLE WINAPI OpenMutex( DWORD dwDesiredAccess, BOOL bInheritHandle, LPCTSTR lpName ) */
> HB_FUNC( WAPI_OPENMUTEX )
> {
> #if ! defined( HB_OS_WIN_CE )
>   void *hName;
>   HANDLE hMutex = OpenMutex( hb_parnl( 1 ), hb_parl( 2 ), HB_PARSTR( 3, &hName, NULL ) );
> 
>   wapi_mutex_ret( hMutex );
>   hb_strfree( hName );
> #else
>   hb_retptr( NULL );
> #endif
> }
> 
> /* BOOL WINAPI ReleaseMutex( HANDLE hMutex ) */
> HB_FUNC( WAPI_RELEASEMUTEX )
> {
>   HANDLE hMutex = wapi_mutex_par( 1 );
> 
>   hb_retl( hMutex ? ReleaseMutex( hMutex ) : HB_FALSE );
> }
> 
> #
> # $Id: Makefile 13225 2009-12-12 14:43:52Z vszakats $
> #
> 
> ROOT := ../../
> 
> include $(TOP)$(ROOT)config/global.mk
> 
> LIBNAME := hbwin
> 
> C_SOURCES := \
>   mapi.c \
>   olecore.c \
>   oleinit.c \
>   axcore.c \
>   legacycd.c \
>   legacyco.c \
>   legacycp.c \
>   legacycr.c \
>   legacycv.c \
>   wce_simc.c \
>   wce_smsc.c \
>   win_com.c \
>   win_dll.c \
>   win_misc.c \
>   win_osc.c \
>   win_prn1.c \
>   win_prn2.c \
>   win_prn3.c \
>   win_regc.c \
>   wapi_commctrl.c \
>   wapi_shellapi.c \
>   wapi_winbase.c \
>   wapi_mutex.c \
>   wapi_winuser.c \
> 
> PRG_SOURCES := \
>   legacy.prg \
>   oleauto.prg \
>   axfunc.prg \
>   wce_sim.prg \
>   win_tcom.prg \
>   win_os.prg \
>   win_reg.prg \
>   win_tprn.prg \
> 
> C_HEADERS := \
>   hbwapi.h \
>   hbwin.h \
>   hbwinole.h \
> 
> PRG_HEADERS := \
>   hbwin.ch \
> 
> ifneq ($(filter $(HB_PLATFORM),win wce),)
>   include $(TOP)$(ROOT)config/header.mk
>   include $(TOP)$(ROOT)config/lib.mk
> else
>   HB_SKIP_REASON := platform not supported
>   include $(TOP)$(ROOT)config/none.mk
> endif
> <wapi_mutex.zip>

From vszakats at users.sourceforge.net  Tue Dec 15 22:54:11 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 15 22:54:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13265] trunk/harbour
Message-ID: <E1NKkxn-0004N8-3m@d5vjzd1.ch3.sourceforge.com>

Revision: 13265
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13265&view=rev
Author:   vszakats
Date:     2009-12-16 03:54:07 +0000 (Wed, 16 Dec 2009)

Log Message:
-----------
2009-12-16 04:53 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed watcom targets to switch to single input file mode
      when C mode (now default) is used.
      Maybe OpenWatcom developers should finally sync such
      basic behavior between their C and C++ compilers. Until
      then we keep adding hacks.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Tue Dec 15 23:41:42 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Tue Dec 15 23:41:50 2009
Subject: [Harbour] g++2.95/g++3.3 bad build
Message-ID: <alpine.DEB.2.00.0912160438580.27623@dawn.royalcomp.hu>


hi,

it seems that something is wrong with g++2.95 builds afterall.

i took a fresh checkout of 13263, and tried building it on an older 
linux/i386 box that has gcc 2.95.

(i changed HB_CMP to gcc-2.05 and g++-2.95 in config/linux/gcc.mk 
because this has no gcc and g++ links, but that's all that is.)

both build fine, however the g++-2.95 build does exhibit the problem 
of hbrun not being able to start because:

tres:~/tmp/h/harbour$ ./bin/linux/gcc/hbrun 

Unrecoverable error 9998: Harbour terminal (GT) initialization failure

c mode is fine. just run a quick test with gcc 3.3, same situation 
there too (same box, same everything); gcc 4.0 is ok in both modes, 
and on other boxes gcc 4.4 is ok too.

so i guess this makes it "g++ < 4 builds broken".

full build logs of 2.95 are at http://dawn.dev.hu/~ice/tmp/g295.zip

since now i am completely confused, would someone do a test build with 
g++ 2.95 (and perhaps gcc3 too) to doublecheck me? it'd be probably 
nice to know this both on linux and some other non-unixy platform too.

thanks,

-- 
[-]

mkdir /nonexistent
From bedipritpal at hotmail.com  Tue Dec 15 23:47:11 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Dec 15 23:47:17 2009
Subject: [Harbour] HB_TRACE() - How to invoke for PRG and C code separately
Message-ID: <26806243.post@talk.nabble.com>


Hello All,

As per subject.
Goal is to trace calls for only the part I am 
interested in. I do not want entire application tracing.

I have tried my level best but am not been successful.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/HB_TRACE%28%29---How-to-invoke-for-PRG-and-C-code-separately-tp26806243p26806243.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From e.m.giordano at emagsoftware.it  Wed Dec 16 03:16:18 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Dec 16 03:16:28 2009
Subject: [Harbour] Problems in WIN_MAPISENDMAIL()
Message-ID: <010DD38FD42D45DB930D254B52EC5645@emag>

1. The parameter aSender doesn't work (the specified senders are not 
selected)

2. The parameter aDest doesn't work (same as point 1)

3. The parameter aFiles GPFs when a file is specified.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at users.sourceforge.net  Wed Dec 16 03:59:42 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Dec 16 03:59:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13266] trunk/harbour
Message-ID: <E1NKpjS-0001ym-Pj@3kljzd1.ch3.sourceforge.com>

Revision: 13266
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13266&view=rev
Author:   druzus
Date:     2009-12-16 08:59:41 +0000 (Wed, 16 Dec 2009)

Log Message:
-----------
2009-12-16 09:59 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/common/hbdate.c
    * casting for some more pedantic C/C++ compilers

  * harbour/include/hbinit.h
    * allow to force static C++ initialization as startup code in
      GCC and SunPRO builds by HB_STATIC_STARTUP macro

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbinit.h
    trunk/harbour/src/common/hbdate.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Dec 16 04:28:19 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 16 04:28:26 2009
Subject: [Harbour] g++2.95/g++3.3 bad build
In-Reply-To: <alpine.DEB.2.00.0912160438580.27623@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0912160438580.27623@dawn.royalcomp.hu>
Message-ID: <20091216092819.GA20527@linux-4bod.home.aster.pl>

On Wed, 16 Dec 2009, Tamas TEVESZ wrote:

Hi,

> it seems that something is wrong with g++2.95 builds afterall.
> i took a fresh checkout of 13263, and tried building it on an older 
> linux/i386 box that has gcc 2.95.
> (i changed HB_CMP to gcc-2.05 and g++-2.95 in config/linux/gcc.mk 
> because this has no gcc and g++ links, but that's all that is.)
> both build fine, however the g++-2.95 build does exhibit the problem 
> of hbrun not being able to start because:
> tres:~/tmp/h/harbour$ ./bin/linux/gcc/hbrun 
> Unrecoverable error 9998: Harbour terminal (GT) initialization failure

I've just confirmed your results using RH7.3 with GCC-2.96.

> c mode is fine. just run a quick test with gcc 3.3, same situation 
> there too (same box, same everything); gcc 4.0 is ok in both modes, 
> and on other boxes gcc 4.4 is ok too.
> so i guess this makes it "g++ < 4 builds broken".

Yes, it's and it was exploited in last year. I was cleaning the code
adding support for g++ about five years ago using xHarbour repository
and above RH7.3 with gcc-2.96 and for sure it was working correctly.

> since now i am completely confused, would someone do a test build with 
> g++ 2.95 (and perhaps gcc3 too) to doublecheck me? it'd be probably 
> nice to know this both on linux and some other non-unixy platform too.

Using C++ initialization (HB_STATIC_STARTUP) or recently added
HB_INITSEG_STARTUP it works. The problem is only with
__attribute__ ((constructor)) used in GCC-2.x C++ mode (I haven't
tested GCC-3.x).
I think that we exploited this problem in this year.
It possible that it's also the reason of problems with SunPRO C builds
in Linux, i.e. it GPFs in hbtest because not all constructors are executed
and some symbol tables from .prg modules in HBRTL are not initialized.
Anyhow it does not have to mean it's Harbour problem. It rather seems to
be side effect of exploiting some limits in older GCC or GNU ld versions
or maybe modified link command. I'll try to look at it closely but I do
not promise that I'll give you the exact answer what is the reason of
problem.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Dec 16 05:12:47 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec 16 05:12:59 2009
Subject: [Harbour] Problems in WIN_MAPISENDMAIL()
In-Reply-To: <010DD38FD42D45DB930D254B52EC5645@emag>
References: <010DD38FD42D45DB930D254B52EC5645@emag>
Message-ID: <3A03DBD6-6DB2-409B-B460-3736B608CB84@syenar.hu>

Thanks for your tests. I need someone peer-reviewing 
my code as I can't make any testing due to no MAPI 
functionality on any of my Windowses.

Probably unlimited support broke, at least one of the 
last 2-3 commits to this file.

Brgds,
Viktor

On 2009 Dec 16, at 09:16, Enrico Maria Giordano wrote:

> 1. The parameter aSender doesn't work (the specified senders are not selected)
> 
> 2. The parameter aDest doesn't work (same as point 1)
> 
> 3. The parameter aFiles GPFs when a file is specified.
> 
> EMG
> 
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From toninhofwi at yahoo.com.br  Wed Dec 16 06:57:34 2009
From: toninhofwi at yahoo.com.br (ToninhoFWi)
Date: Wed Dec 16 05:51:01 2009
Subject: [Harbour] Problems in WIN_MAPISENDMAIL()
In-Reply-To: <3A03DBD6-6DB2-409B-B460-3736B608CB84@syenar.hu>
References: <010DD38FD42D45DB930D254B52EC5645@emag>
	<3A03DBD6-6DB2-409B-B460-3736B608CB84@syenar.hu>
Message-ID: <0mihi5tkkvsgggo6tp8g05fmd0g5flp3bi@4ax.com>

>Probably unlimited support broke, at least one of the 
>last 2-3 commits to this file.

Hi Viktor and Enrico.

This test works:

---cut---
Win_MAPISendMail( "Subject TEST",                           ; //
subject
                 "BODY Text Message here!",                 ; //
menssage
                 nil,                                       ; // type
of message
                 DtoS( Date() ) + " " + Time(),             ; // send
date
                 "",                                        ; //
conversation ID
                 .f.,                                       ; //
acknowledgment
                 .t.,                                       ; // user
intervention
                 { { "Suport", "suporte@fwi.com.br" } },    ; //
sender
                 { { "Toninho", "toninho@fwi.com.br", 1 }, { "Enrico",
"e.m.giordano@emagsoftware.it", 1 } },  ; // destinators
                 {}                                         ; //
attach
               )
---cut---

Enrico, can you test it please ?

The only doubt that I have is with sender.

Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 

From lorenzo.fiorini at gmail.com  Wed Dec 16 05:56:13 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Dec 16 05:56:20 2009
Subject: [Harbour] How can I optimize several strtran
Message-ID: <9257026e0912160256q19ba297bq9e6c637cb3841216@mail.gmail.com>

Below there is a typical cgi function that joins a Javascript and Html file.
As you can see I need several strtran to substitute runtime data and
the number of strtrans can be high in more complex examples.

My guess is that calling several strtran C functions is still faster
than using a prg that parse the string and does the substitutions.

What I'm looking for is a single C function that replace all the
expressions between $%...%$ ( it could be everything else XML
complaint like ${...} )
with the value and return the string sth like cContent := evaluate( cContent ).

Is there any other way to achieve the goal?

best regards,
Lorenzo


#xcommand APPENDFILE <f> TO <v> => #pragma __streaminclude <f>|<v>+=%s

FUNCTION_DYNAMIC_MAIN()

   local cContent := ""
   local cUsrNam := HB_USERNAME()

   ...

   cContent += "<link rel=\"stylesheet\" type=\"text/css\"
href=\"http://$%cHost%$/desktop.css?$%cTime%$\" />"
   cContent += "<script type=\"text/javascript\">"

   appendfile "desktop.js" to cContent

   cContent += "</script>"
   cContent += "</head>"

   appendfile "desktop.html" to cContent

   ...

   cContent = strtran( cContent, '$%cUsrNam%$', cUsrNam )

   ...

   cContent = strtran( cContent, "$%cTime%$", HB_TTOS( HB_DATETIME() ) )

   ...
From harbour.01 at syenar.hu  Wed Dec 16 06:10:11 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec 16 06:10:23 2009
Subject: [Harbour] GTXWC clipboard paste: hang
Message-ID: <AD2EC1E8-CA96-40B0-B81E-0D540C750CFB@syenar.hu>

Hi All,

No educated bug report, but just now I tried to 
coppy/paste some text from OS X Mail to my app 
running GTXWC, and the app just hung with 100% 
CPU consumption.

OS: OS X Snow Leopard (all updates)
X11: XQuartz 2.3.4 (xorg-server 1.4.2-apple45)
C compiler: clang 4.2.1
Harbour: r12817, Intel 64-bit build.

I've noticed this effect also in the past.

Brgds,
Viktor

From M.Horodyski at pzuzycie.com.pl  Wed Dec 16 06:55:45 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Dec 16 06:55:56 2009
Subject: [Harbour] Where is defined function DRAW_LINE ?
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502B471A2@PINK.zycie.pzu>

In file \harbour\contrib\hbhpdf\tests\harupdf.prg
Is used function draw_line :
? 225?   HPDF_Page_SetLineWidth(page, 2.0)           
? 226?   draw_line(page, 60, 710, "line width = 2.0")

And i PPO file :
? 161?   HPDF_Page_SetLineWidth(page, 2.0)           
? 162?   draw_line(page, 60, 710, "line width = 2.0")

I can comile and link this file with hbmk2.

But, when I try used this function in another app ( with all libs from \harbour\contrib\hbhpdf\tests\hbmk.hbm and \harbour\contrib\hbhpdf\hbhpdf.hbc)
I have this fault :

hbmk2: Linker command:                                                                                                       
gcc.exe homar.o braki.o hbmk_yywenk.o    -mwindows -Wl,--start-group -lgtwvg -lhbhpdf -llibhpdf -llibpng -lhbct -lsddodbc -lh
bodbc -lrddsql -lrddado -lodbc32 -lhomar -lhbwin -lhbwin -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtp
ca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd -lhbuddall -lhbusrrdd -lrddntx -lrddcdx -lrddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix 
-lhbmacro -lhbcplr -lhbpp -lhbcommon -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 -lshell
32 -luuid -lole32 -loleaut32 -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32 -lwininet -lhbpcre -lhbzlib  -Wl,--end-group -ohomar.ex
e -LC:/harbour/lib/win/mingw                                                                                                 
homar.o:homar.c:(.data+0x1678): undefined reference to `HB_FUN_DRAW_LINE'                                                    
collect2: ld returned 1 exit status                                                                                          
hbmk2: Error: Running linker. 1                                                                                              
gcc.exe homar.o braki.o hbmk_yywenk.o    -mwindows -Wl,--start-group -lgtwvg -lhbhpdf -llibhpdf -llibpng -lhbct -lsddodbc -lh
bodbc -lrddsql -lrddado -lodbc32 -lhomar -lhbwin -lhbwin -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtp
ca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd -lhbuddall -lhbusrrdd -lrddntx -lrddcdx -lrddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix 
-lhbmacro -lhbcplr -lhbpp -lhbcommon -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 -lshell
32 -luuid -lole32 -loleaut32 -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32 -lwininet -lhbpcre -lhbzlib  -Wl,--end-group -ohomar.ex
e -LC:/harbour/lib/win/mingw                                                                                                 

I can not find the substring "DRAW_LINE" in any library.

Regards,
Marek Horodyski
From druzus at acn.waw.pl  Wed Dec 16 07:28:29 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 16 07:28:38 2009
Subject: [Harbour] g++2.95/g++3.3 bad build
In-Reply-To: <20091216092819.GA20527@linux-4bod.home.aster.pl>
References: <alpine.DEB.2.00.0912160438580.27623@dawn.royalcomp.hu>
	<20091216092819.GA20527@linux-4bod.home.aster.pl>
Message-ID: <20091216122829.GA22659@linux-4bod.home.aster.pl>

On Wed, 16 Dec 2009, Przemys?aw Czerpak wrote:

Hi,

> Yes, it's and it was exploited in last year. I was cleaning the code
> adding support for g++ about five years ago using xHarbour repository
> and above RH7.3 with gcc-2.96 and for sure it was working correctly.

Update. I've just checked that RH7.3 was used only in chroot env and
the real OS I used was newer so I GCC C++ builds were never tested with
GCC 2.9x.

> Using C++ initialization (HB_STATIC_STARTUP) or recently added
> HB_INITSEG_STARTUP it works. The problem is only with
> __attribute__ ((constructor)) used in GCC-2.x C++ mode (I haven't
> tested GCC-3.x).
> I think that we exploited this problem in this year.
> It possible that it's also the reason of problems with SunPRO C builds
> in Linux, i.e. it GPFs in hbtest because not all constructors are executed
> and some symbol tables from .prg modules in HBRTL are not initialized.
> Anyhow it does not have to mean it's Harbour problem. It rather seems to
> be side effect of exploiting some limits in older GCC or GNU ld versions
> or maybe modified link command. I'll try to look at it closely but I do
> not promise that I'll give you the exact answer what is the reason of
> problem.

The problem is trivial. GCC-2.96 when C++ mode is used ignores
__attribute__ ((constructor)) and does not add functions with
above attribute to .ctors segment. Looks like it was fixed in
one of GCC-3.3x releases but I do not know the exact version.
For sure it was fixed in the version I used adding g++.
It will be good to check exact version to enable in hbinit.h
HB_STATIC_STARTUP initialization for older GCC versions using
C++ mode. Or maybe we should enable it by default for _ALL_
(also MSVC) compilers using C++ mode? Unlike all other startup
initialization methods this one uses only standard C++ functionality
without any compiler specific tricks so it's fully portable code
in C++ world.

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Wed Dec 16 07:37:52 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Dec 16 07:38:00 2009
Subject: [Harbour] Problems in WIN_MAPISENDMAIL()
References: <010DD38FD42D45DB930D254B52EC5645@emag><3A03DBD6-6DB2-409B-B460-3736B608CB84@syenar.hu>
	<0mihi5tkkvsgggo6tp8g05fmd0g5flp3bi@4ax.com>
Message-ID: <09D5A52951154D1895A06E5D41E53E62@emag>


-----Messaggio Originale----- 
Da: "ToninhoFWi" <toninhofwi@yahoo.com.br>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 16 dicembre 2009 12.57
Oggetto: Re: Re: [Harbour] Problems in WIN_MAPISENDMAIL()


> This test works:

Yes, recipients are ok. Senders and attachments not.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Wed Dec 16 07:45:31 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec 16 07:45:43 2009
Subject: [Harbour] Problems in WIN_MAPISENDMAIL()
In-Reply-To: <010DD38FD42D45DB930D254B52EC5645@emag>
References: <010DD38FD42D45DB930D254B52EC5645@emag>
Message-ID: <F285CBEC-F130-44BD-A060-254B30DA5F69@syenar.hu>

> 1. The parameter aSender doesn't work (the specified senders are not selected)

aSender must be in format { "sender_name", "sender@email.com" }.
There can be only one sender for one e-mail, so 'senders' 
has no meaning here.

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Dec 16 07:52:57 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 16 07:53:05 2009
Subject: [Harbour] Where is defined function DRAW_LINE ?
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502B471A2@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502B471A2@PINK.zycie.pzu>
Message-ID: <20091216125257.GA23255@linux-4bod.home.aster.pl>

On Wed, 16 Dec 2009, Horodyski Marek (PZUZ) wrote:

Hi,

> In file \harbour\contrib\hbhpdf\tests\harupdf.prg
> Is used function draw_line :
> ? 225?   HPDF_Page_SetLineWidth(page, 2.0)           
> ? 226?   draw_line(page, 60, 710, "line width = 2.0")
> But, when I try used this function in another app ( with all libs from
> \harbour\contrib\hbhpdf\tests\hbmk.hbm and \harbour\contrib\hbhpdf\hbhpdf.hbc)
> I have this fault :
> homar.o:homar.c:(.data+0x1678): undefined reference to `HB_FUN_DRAW_LINE'                                                    
> I can not find the substring "DRAW_LINE" in any library.

Maybe you should look more carefully at
\harbour\contrib\hbhpdf\tests\harupdf.prg:
   Static Function draw_line2( page, x, y, label )
   [...]
;-)

best regards,
Przemek
From ice at extreme.hu  Wed Dec 16 07:55:57 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Dec 16 07:56:06 2009
Subject: [Harbour] g++2.95/g++3.3 bad build
In-Reply-To: <20091216122829.GA22659@linux-4bod.home.aster.pl>
References: <alpine.DEB.2.00.0912160438580.27623@dawn.royalcomp.hu>
	<20091216092819.GA20527@linux-4bod.home.aster.pl>
	<20091216122829.GA22659@linux-4bod.home.aster.pl>
Message-ID: <alpine.DEB.2.00.0912161347320.27623@dawn.royalcomp.hu>

On Wed, 16 Dec 2009, Przemys?aw Czerpak wrote:

hi,

 > The problem is trivial. GCC-2.96 when C++ mode is used ignores
 > __attribute__ ((constructor)) and does not add functions with
 > above attribute to .ctors segment. Looks like it was fixed in
 > one of GCC-3.3x releases but I do not know the exact version.

i think 3.3.6 was the last of the 3.3s, but anyway.

i have a hunch that i am verifying now (only 3.3 g++ is done so far, 
this is a slow machine, but so far the only result i have is 
promising): change the order of initializers.

this makes g++ fall into the static category (because of __cplusplus), 
not into using fun attributes (because of __GNUC__); moreover this 
makes all c++ compilers fall into this, which i gather is preferred, 
if one is capable of doing c++-style initializers.

this has so far fixed g++-3.3, but i'm still running tests and 
re-tests and re-tests.

Index: include/hbinit.h
===================================================================
--- include/hbinit.h	(revision 13266)
+++ include/hbinit.h	(working copy)
@@ -112,6 +112,33 @@
    #define HB_CALL_ON_STARTUP_END( func ) \
       }
 
+#elif defined( HB_STATIC_STARTUP ) || defined( __cplusplus )
+
+   #if defined( HB_PRAGMA_STARTUP ) || defined( HB_DATASEG_STARTUP )
+      #error Wrong macros set for startup code - clean your make/env settings.
+   #endif
+
+   #define HB_INIT_SYMBOLS_BEGIN( func ) \
+      static HB_SYMB symbols_table[] = {
+
+   #define HB_INIT_SYMBOLS_EX_END( func, module, id, vpcode ) \
+      }; \
+      static PHB_SYMB symbols = hb_vmProcessSymbols( symbols_table, (USHORT) ( sizeof( symbols_table ) / sizeof( HB_SYMB ) ), (module), (id), (vpcode) ); \
+
+   #define HB_CALL_ON_STARTUP_BEGIN( func ) \
+      static int func( void ) \
+      {
+
+   /* this allows any macros to be preprocessed first
+      so that token pasting is handled correctly */
+   #define HB_CALL_ON_STARTUP_END( func ) \
+          _HB_CALL_ON_STARTUP_END( func )
+
+   #define _HB_CALL_ON_STARTUP_END( func ) \
+         return 0; \
+      } \
+      static int static_int_##func = func();
+
 #elif defined( HB_INITSEG_STARTUP )
 
    #if defined( HB_PRAGMA_STARTUP ) || defined( HB_DATASEG_STARTUP )
@@ -216,33 +243,6 @@
     *  See the C output of a generated prg for example
     */
 
-#elif defined( HB_STATIC_STARTUP ) || defined( __cplusplus )
-
-   #if defined( HB_PRAGMA_STARTUP ) || defined( HB_DATASEG_STARTUP )
-      #error Wrong macros set for startup code - clean your make/env settings.
-   #endif
-
-   #define HB_INIT_SYMBOLS_BEGIN( func ) \
-      static HB_SYMB symbols_table[] = {
-
-   #define HB_INIT_SYMBOLS_EX_END( func, module, id, vpcode ) \
-      }; \
-      static PHB_SYMB symbols = hb_vmProcessSymbols( symbols_table, (USHORT) ( sizeof( symbols_table ) / sizeof( HB_SYMB ) ), (module), (id), (vpcode) ); \
-
-   #define HB_CALL_ON_STARTUP_BEGIN( func ) \
-      static int func( void ) \
-      {
-
-   /* this allows any macros to be preprocessed first
-      so that token pasting is handled correctly */
-   #define HB_CALL_ON_STARTUP_END( func ) \
-          _HB_CALL_ON_STARTUP_END( func )
-
-   #define _HB_CALL_ON_STARTUP_END( func ) \
-         return 0; \
-      } \
-      static int static_int_##func = func();
-
 #elif defined( HB_PRAGMA_STARTUP ) || \
       defined( __BORLANDC__ ) || defined( __LCC__ ) || defined( __POCC__ ) || defined( __XCC__ )
 

 > It will be good to check exact version to enable in hbinit.h
 > HB_STATIC_STARTUP initialization for older GCC versions using
 > C++ mode. Or maybe we should enable it by default for _ALL_
 > (also MSVC) compilers using C++ mode? Unlike all other startup
 > initialization methods this one uses only standard C++ functionality
 > without any compiler specific tricks so it's fully portable code
 > in C++ world.

i think i am in favor of this.


-- 
[-]

mkdir /nonexistent
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbinit.diff
Type: text/x-diff
Size: 2586 bytes
Desc: 
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091216/dc85ce23/hbinit.bin
From ice at extreme.hu  Wed Dec 16 08:33:32 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Dec 16 08:33:40 2009
Subject: [Harbour] GTXWC clipboard paste: hang
In-Reply-To: <AD2EC1E8-CA96-40B0-B81E-0D540C750CFB@syenar.hu>
References: <AD2EC1E8-CA96-40B0-B81E-0D540C750CFB@syenar.hu>
Message-ID: <alpine.DEB.2.00.0912161431071.27623@dawn.royalcomp.hu>

On Wed, 16 Dec 2009, Viktor Szak?ts wrote:

hi,

 > No educated bug report, but just now I tried to 
 > coppy/paste some text from OS X Mail to my app 
 > running GTXWC, and the app just hung with 100% 
 > CPU consumption.

i notice i cannot paste (nor copy) to/from xwc at all ;)

anyway, if seems that XWC_DEBUG activates a whole lot of 
clipboard-related debug stuff, do you get any clue with that?

(how is copy-pasting w/ xwc supposed to work? just like any other x 
app i'd like to hope but still asking, point mouse, click, hold/point 
mouse, hit middle button?)


-- 
[-]

mkdir /nonexistent
From ice at extreme.hu  Wed Dec 16 08:53:41 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Dec 16 08:53:50 2009
Subject: [Harbour] g++2.95/g++3.3 bad build
In-Reply-To: <alpine.DEB.2.00.0912161347320.27623@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0912160438580.27623@dawn.royalcomp.hu>
	<20091216092819.GA20527@linux-4bod.home.aster.pl>
	<20091216122829.GA22659@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0912161347320.27623@dawn.royalcomp.hu>
Message-ID: <alpine.DEB.2.00.0912161452440.27623@dawn.royalcomp.hu>

On Wed, 16 Dec 2009, Tamas TEVESZ wrote:

hi,

 > i have a hunch that i am verifying now (only 3.3 g++ is done so far, 
 > this is a slow machine, but so far the only result i have is 
 > promising): change the order of initializers.

fyi that fixed g++ 2.95 as well as 3.3.6, without any noticeable ill 
effect to others.

 >  > It will be good to check exact version to enable in hbinit.h
 >  > HB_STATIC_STARTUP initialization for older GCC versions using
 >  > C++ mode. Or maybe we should enable it by default for _ALL_
 >  > (also MSVC) compilers using C++ mode? Unlike all other startup
 >  > initialization methods this one uses only standard C++ functionality
 >  > without any compiler specific tricks so it's fully portable code
 >  > in C++ world.
 > 
 > i think i am in favor of this.

even more so :)

-- 
[-]

mkdir /nonexistent
From jarabal at gmail.com  Wed Dec 16 09:01:29 2009
From: jarabal at gmail.com (Xavi)
Date: Wed Dec 16 09:02:17 2009
Subject: [Harbour] Re: New hbwin functions,
 windows named or unnamed mutex object. The application is running?
In-Reply-To: <391F38CE-1FEC-4023-B180-63BADEA607CB@syenar.hu>
References: <4B283079.1080101@gmail.com>
	<75C589A7-972F-4284-BD6B-5BCFC48B8AD5@syenar.hu>
	<4B284A48.2060207@gmail.com>
	<808A7553-5602-4910-B344-20718C935EFB@syenar.hu>
	<4B285601.7010903@gmail.com>
	<391F38CE-1FEC-4023-B180-63BADEA607CB@syenar.hu>
Message-ID: <4B28E839.30705@gmail.com>

Sorry Viktor,

> bad formatting.

Not is a bad format, it's just that you don't like, since 25 years I've been writing C in this format as I learned reading "the
bible of C" (The C Programming Language by Brian W. Kernighan and Dennis M. Ritchie) I'm too old to change. For example, code
from the same author .-

http://cm.bell-labs.com/cm/cs/tpop/markov.c

I adapt the format if I correct code from another author, but in my code should require the same.
Please don't change the format to spd.c, sql_Sprintf().

I very much regret your decision and to subtract instead of adding in the Harbour project.

Best regards,
Xavi

Viktor Szak?ts escribi?:
>> Viktor Szak?ts escribi?:
>>> One more minor note: <winbase.h> is not necessary, HB_OS_WIN_USED takes care of it, pls delete it.
>>> Brgds,
>>> Viktor
>> Ops... sorry you're right!
> 
> No problem, but I still can't commit it due to 
> bad formatting.
> 
> Brgds,
> Viktor
> 
>> Best regards,
>> -- 
>> Xavi
>>
>>
>> /*
>> * Harbour Project source code:
>> * Windows Mutex functions
>> *
>> * Copyright 2009 Xavi <jarabal/at/gmail.com>
>> *
>> * This program is free software; you can redistribute it and/or modify
>> * it under the terms of the GNU General Public License as published by
>> * the Free Software Foundation; either version 2, or (at your option)
>> * any later version.
>> *
>> * This program is distributed in the hope that it will be useful,
>> * but WITHOUT ANY WARRANTY; without even the implied warranty of
>> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
>> * GNU General Public License for more details.
>> *
>> * You should have received a copy of the GNU General Public License
>> * along with this software; see the file COPYING.  If not, write to
>> * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
>> * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
>> *
>> * As a special exception, the Harbour Project gives permission for
>> * additional uses of the text contained in its release of Harbour.
>> *
>> * The exception is that, if you link the Harbour libraries with other
>> * files to produce an executable, this does not by itself cause the
>> * resulting executable to be covered by the GNU General Public License.
>> * Your use of that executable is in no way restricted on account of
>> * linking the Harbour library code into it.
>> *
>> * This exception does not however invalidate any other reasons why
>> * the executable file might be covered by the GNU General Public License.
>> *
>> * This exception applies only to the code released by the Harbour
>> * Project under the name Harbour.  If you copy code from other
>> * Harbour Project or Free Software Foundation releases into a copy of
>> * Harbour, as the General Public License permits, the exception does
>> * not apply to the code that you add in this way.  To avoid misleading
>> * anyone as to the status of such modified files, you must delete
>> * this exception notice from them.
>> *
>> * If you write modifications of your own for Harbour, it is your choice
>> * whether to permit this exception to apply to your modifications.
>> * If you do not wish that, delete this exception notice.
>> *
>> */
>>
>> #define HB_OS_WIN_USED
>>
>> #include "hbapi.h"
>> #include "hbwinuni.h"
>>
>> static HB_GARBAGE_FUNC( wapi_mutex_release )
>> {
>>   void **ph = (void **)Cargo;
>>
>>   if( ph && *ph ){
>>      CloseHandle( (HANDLE)*ph );
>>      *ph = NULL;
>>   }
>> }
>>
>> static const HB_GC_FUNCS s_gc_wapi_mutex_funcs =
>> {
>>   wapi_mutex_release,
>>   hb_gcDummyMark
>> };
>>
>> static void wapi_mutex_ret( HANDLE hMutex )
>> {
>>   if( hMutex ){
>>      void **ph = (void **)hb_gcAllocate( sizeof(HANDLE *), &s_gc_wapi_mutex_funcs );
>>
>>      *ph = hMutex;
>>      hb_retptrGC( ph );
>>   }else
>>      hb_retptr( NULL );
>> }
>>
>> static HANDLE wapi_mutex_par( int iParam )
>> {
>>   void **ph = (void **)hb_parptrGC( &s_gc_wapi_mutex_funcs, iParam );
>>
>>   return (ph ? (HANDLE)*ph : NULL);
>> }
>>
>> /* HANDLE WINAPI CreateMutex( LPSECURITY_ATTRIBUTES lpMutexAttributes, BOOL bInitialOwner, LPCTSTR lpName ) */
>> HB_FUNC( WAPI_CREATEMUTEX )
>> {
>>   void *hName;
>>   HANDLE hMutex = CreateMutex( (LPSECURITY_ATTRIBUTES)hb_parptr( 1 ), hb_parl( 2 ), HB_PARSTR( 3, &hName, NULL ) );
>>
>>   wapi_mutex_ret( hMutex );
>>   hb_strfree( hName );
>> }
>>
>> /* HANDLE WINAPI OpenMutex( DWORD dwDesiredAccess, BOOL bInheritHandle, LPCTSTR lpName ) */
>> HB_FUNC( WAPI_OPENMUTEX )
>> {
>> #if ! defined( HB_OS_WIN_CE )
>>   void *hName;
>>   HANDLE hMutex = OpenMutex( hb_parnl( 1 ), hb_parl( 2 ), HB_PARSTR( 3, &hName, NULL ) );
>>
>>   wapi_mutex_ret( hMutex );
>>   hb_strfree( hName );
>> #else
>>   hb_retptr( NULL );
>> #endif
>> }
>>
>> /* BOOL WINAPI ReleaseMutex( HANDLE hMutex ) */
>> HB_FUNC( WAPI_RELEASEMUTEX )
>> {
>>   HANDLE hMutex = wapi_mutex_par( 1 );
>>
>>   hb_retl( hMutex ? ReleaseMutex( hMutex ) : HB_FALSE );
>> }
>>
>> #
>> # $Id: Makefile 13225 2009-12-12 14:43:52Z vszakats $
>> #
>>
>> ROOT := ../../
>>
>> include $(TOP)$(ROOT)config/global.mk
>>
>> LIBNAME := hbwin
>>
>> C_SOURCES := \
>>   mapi.c \
>>   olecore.c \
>>   oleinit.c \
>>   axcore.c \
>>   legacycd.c \
>>   legacyco.c \
>>   legacycp.c \
>>   legacycr.c \
>>   legacycv.c \
>>   wce_simc.c \
>>   wce_smsc.c \
>>   win_com.c \
>>   win_dll.c \
>>   win_misc.c \
>>   win_osc.c \
>>   win_prn1.c \
>>   win_prn2.c \
>>   win_prn3.c \
>>   win_regc.c \
>>   wapi_commctrl.c \
>>   wapi_shellapi.c \
>>   wapi_winbase.c \
>>   wapi_mutex.c \
>>   wapi_winuser.c \
>>
>> PRG_SOURCES := \
>>   legacy.prg \
>>   oleauto.prg \
>>   axfunc.prg \
>>   wce_sim.prg \
>>   win_tcom.prg \
>>   win_os.prg \
>>   win_reg.prg \
>>   win_tprn.prg \
>>
>> C_HEADERS := \
>>   hbwapi.h \
>>   hbwin.h \
>>   hbwinole.h \
>>
>> PRG_HEADERS := \
>>   hbwin.ch \
>>
>> ifneq ($(filter $(HB_PLATFORM),win wce),)
>>   include $(TOP)$(ROOT)config/header.mk
>>   include $(TOP)$(ROOT)config/lib.mk
>> else
>>   HB_SKIP_REASON := platform not supported
>>   include $(TOP)$(ROOT)config/none.mk
>> endif
>> <wapi_mutex.zip>
> 
> 


From harbour.01 at syenar.hu  Wed Dec 16 09:07:40 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec 16 09:07:51 2009
Subject: [Harbour] HB_TRACE() - How to invoke for PRG and C code separately
In-Reply-To: <26806243.post@talk.nabble.com>
References: <26806243.post@talk.nabble.com>
Message-ID: <1AF5BC15-44E7-427F-BB3B-FB5A295E545C@syenar.hu>

Hi Pritpal,

First build Harbour without HBQT.
Then build HBQT in a separate pass with custom options.

Rough instructions for that:
---
set HB_WITH_QT=
win-make
cd contrib/hbqt
set HB_WITH_QT=C:\qt\include
set HB_USER_CFLAGS=-DTR_DEBUG_...
set HB_USER_PRGFLAGS=-D__HB_DEBUG__
win-make
cd ../..
---

Brgds,
Viktor

On 2009 Dec 16, at 05:47, Pritpal Bedi wrote:

> 
> Hello All,
> 
> As per subject.
> Goal is to trace calls for only the part I am 
> interested in. I do not want entire application tracing.
> 
> I have tried my level best but am not been successful.
> 
> Regards
> Pritpal Bedi
> 
> 
> -- 
> View this message in context: http://old.nabble.com/HB_TRACE%28%29---How-to-invoke-for-PRG-and-C-code-separately-tp26806243p26806243.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From e.m.giordano at emagsoftware.it  Wed Dec 16 09:18:12 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Dec 16 09:18:20 2009
Subject: [Harbour] Problems in WIN_MAPISENDMAIL()
References: <010DD38FD42D45DB930D254B52EC5645@emag>
	<F285CBEC-F130-44BD-A060-254B30DA5F69@syenar.hu>
Message-ID: <F6A21DE238AA429B9003F4E63964CEB3@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 16 dicembre 2009 13.45
Oggetto: Re: [Harbour] Problems in WIN_MAPISENDMAIL()


> > 1. The parameter aSender doesn't work (the specified senders are not 
> > selected)
>
> aSender must be in format { "sender_name", "sender@email.com" }.
> There can be only one sender for one e-mail, so 'senders'
> has no meaning here.

Yes, I tried but the sender is not changed. It maybe that the sender can't 
be changed using MAPI?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Wed Dec 16 09:32:40 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec 16 09:32:53 2009
Subject: [Harbour] Re: New hbwin functions,
	windows named or unnamed mutex object. The application is running?
In-Reply-To: <4B28E839.30705@gmail.com>
References: <4B283079.1080101@gmail.com>
	<75C589A7-972F-4284-BD6B-5BCFC48B8AD5@syenar.hu>
	<4B284A48.2060207@gmail.com>
	<808A7553-5602-4910-B344-20718C935EFB@syenar.hu>
	<4B285601.7010903@gmail.com>
	<391F38CE-1FEC-4023-B180-63BADEA607CB@syenar.hu>
	<4B28E839.30705@gmail.com>
Message-ID: <D85EDEAC-13AF-4FCD-AC79-B127AD0CF68F@syenar.hu>

Xavi,

On 2009 Dec 16, at 15:01, Xavi wrote:

> Sorry Viktor,
> 
>> bad formatting.
> 
> Not is a bad format, it's just that you don't like, since 25 years I've been writing C in this format as I learned reading "the
> bible of C" (The C Programming Language by Brian W. Kernighan and Dennis M. Ritchie) I'm too old to change. For example, code
> from the same author .-

I don't care the least what others use. We're 
using one consistent style in Harbour, in about 
13MBs of .c source code contributed by 100 
different authors. The point of using consistent 
style in _any_ project is to help maintainers and 
other contributors to catch up with code and 
not to be slowed down by trying to understand the 
personal style of each contributor. Just imagine 
for a second what would happen if each patch would 
use a different style. Or look at xhb code.

It's BTW not what _I_ like, it's what we've 
settled upon in the last 10 years, it's not 
even close the style I used throughout this 
time (although by now I've adapted it in 
local project, but that's irrelevant), and 
it was not me who invented it. It was largely 
introduced by Antonio in the beginning, but 
that's also irrelevant.

> http://cm.bell-labs.com/cm/cs/tpop/markov.c

Irrelevant and also wrong for Harbour.
Pls read doc/codestyl.txt, which specifically 
tells _not_ to use the K&R style. If you 
had ever looked into any .c files in Harbour, 
you'll find out that we don't use it.

> I adapt the format if I correct code from another author, but in my code should require the same.
> Please don't change the format to spd.c, sql_Sprintf().

I can't promise that. The only reason I 
didn't touch that code, is because you're 
the only one maintaining it. For hbwin 
and 98% of Harbour code, this probably 
won't be true and can't be true, so you'll 
have to stick with Harbour standards.

> I very much regret your decision and to subtract instead of adding in the Harbour project.

Subtract? Don't make me laugh, or you must 
be blind... Such insult is BTW pretty sad 
to see given the amount of work I put into 
this, and remember I'm not getting a paycheck, 
so rather enjoy you get something for free.
(this also applies to other contributors 
of course.)

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Dec 16 09:52:42 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec 16 09:52:53 2009
Subject: [Harbour] GTXWC clipboard paste: hang
In-Reply-To: <alpine.DEB.2.00.0912161431071.27623@dawn.royalcomp.hu>
References: <AD2EC1E8-CA96-40B0-B81E-0D540C750CFB@syenar.hu>
	<alpine.DEB.2.00.0912161431071.27623@dawn.royalcomp.hu>
Message-ID: <F17CD344-8E15-44A7-AC58-A181A2746D90@syenar.hu>

>> No educated bug report, but just now I tried to 
>> coppy/paste some text from OS X Mail to my app 
>> running GTXWC, and the app just hung with 100% 
>> CPU consumption.
> 
> i notice i cannot paste (nor copy) to/from xwc at all ;)
> 
> anyway, if seems that XWC_DEBUG activates a whole lot of 
> clipboard-related debug stuff, do you get any clue with that?

I didn't try that yet, for that I'll need to rebuild 
everything, which is not option these days.

> (how is copy-pasting w/ xwc supposed to work? just like any other x 
> app i'd like to hope but still asking, point mouse, click, hold/point 
> mouse, hit middle button?)

This application use hb_gtInfo( HB_GTI_CLIPBOARDDATA ) to 
copy and paste on all platforms/GTs. It works alright in 
GTWIN and GTWVT.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Dec 16 09:56:42 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec 16 09:56:52 2009
Subject: [Harbour] Problems in WIN_MAPISENDMAIL()
In-Reply-To: <F6A21DE238AA429B9003F4E63964CEB3@emag>
References: <010DD38FD42D45DB930D254B52EC5645@emag>
	<F285CBEC-F130-44BD-A060-254B30DA5F69@syenar.hu>
	<F6A21DE238AA429B9003F4E63964CEB3@emag>
Message-ID: <3111678F-F24D-4190-B429-96166697B07A@syenar.hu>

> -----Messaggio Originale----- Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: mercoled? 16 dicembre 2009 13.45
> Oggetto: Re: [Harbour] Problems in WIN_MAPISENDMAIL()
> 
> 
>> > 1. The parameter aSender doesn't work (the specified senders are not > selected)
>> 
>> aSender must be in format { "sender_name", "sender@email.com" }.
>> There can be only one sender for one e-mail, so 'senders'
>> has no meaning here.
> 
> Yes, I tried but the sender is not changed. It maybe that the sender can't be changed using MAPI?

I can't tell, but it may be possible some 
mailers would allow this and some don't.

Plain guessing though.

I tried MAPI with Thunderbird Portable, but 
it doesn't pick it up. (moreover I can't clean it 
off...)

Brgds,
Viktor

From M.Horodyski at pzuzycie.com.pl  Wed Dec 16 10:16:05 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Dec 16 10:16:15 2009
Subject: [Harbour] Where is defined function DRAW_LINE ?
In-Reply-To: <20091216125257.GA23255@linux-4bod.home.aster.pl>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502B471A2@PINK.zycie.pzu>
	<20091216125257.GA23255@linux-4bod.home.aster.pl>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC63FC@PINK.zycie.pzu>

>-----Original Message-----
>From: Przemys?aw Czerpak [mailto:druzus@acn.waw.pl] 
>Sent: Wednesday, December 16, 2009 1:53 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Where is defined function DRAW_LINE ?
>
>On Wed, 16 Dec 2009, Horodyski Marek (PZUZ) wrote:
>
>Hi,
...
>`HB_FUN_DRAW_LINE'                                                    
>> I can not find the substring "DRAW_LINE" in any library.
>
>Maybe you should look more carefully at
>\harbour\contrib\hbhpdf\tests\harupdf.prg:
>   Static Function draw_line2( page, x, y, label )
>   [...]
>;-)
>
>best regards,
>Przemek
>

but I'm blindness ;-)

Regards,
Marek Horodyski
From toninhofwi at yahoo.com.br  Wed Dec 16 11:25:25 2009
From: toninhofwi at yahoo.com.br (ToninhoFWi)
Date: Wed Dec 16 11:25:32 2009
Subject: [Harbour] Problems in WIN_MAPISENDMAIL()
In-Reply-To: <09D5A52951154D1895A06E5D41E53E62@emag>
References: <010DD38FD42D45DB930D254B52EC5645@emag><3A03DBD6-6DB2-409B-B460-3736B608CB84@syenar.hu>
	<0mihi5tkkvsgggo6tp8g05fmd0g5flp3bi@4ax.com>
	<09D5A52951154D1895A06E5D41E53E62@emag>
Message-ID: <j82ii59b1env76msonhass16ogsrthinv2@4ax.com>

>Yes, recipients are ok. Senders and attachments not.

Hi Enrico.

Attach works fine too, look:

---cut---
Win_MAPISendMail( "Subject TEST",                           ; //
subject
                 "BODY Text Message here!",                 ; //
menssage
                 nil,                                       ; // type
of message
                 DtoS( Date() ) + " " + Time(),             ; // send
date
                 "",                                        ; //
conversation ID
                 .f.,                                       ; //
acknowledgment
                 .t.,                                       ; // user
intervention
                 {},                                        ; //
sender
                 { { "Toninho", "toninho@fwi.com.br", 1 } },; //
destinators
                 { { "Report View", "c:\listagem.pdf" } }   ; //
attach
               )
---cut---

and you can sent multiple attachments.

Sender are not changed in windows vista, but the code is right, maybe
MAPI dont cnahge sender, I'm looking about this.

Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 

From harbour.01 at syenar.hu  Wed Dec 16 11:49:40 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec 16 11:51:16 2009
Subject: [Harbour] Problems in WIN_MAPISENDMAIL()
In-Reply-To: <j82ii59b1env76msonhass16ogsrthinv2@4ax.com>
References: <010DD38FD42D45DB930D254B52EC5645@emag><3A03DBD6-6DB2-409B-B460-3736B608CB84@syenar.hu>
	<0mihi5tkkvsgggo6tp8g05fmd0g5flp3bi@4ax.com>
	<09D5A52951154D1895A06E5D41E53E62@emag>
	<j82ii59b1env76msonhass16ogsrthinv2@4ax.com>
Message-ID: <E4A783D8-E7E3-4597-9749-C29959BA83B8@syenar.hu>

Hi Toninho,

What compiler are you using?

Brgds,
Viktor

On 2009 Dec 16, at 17:25, ToninhoFWi wrote:

>> Yes, recipients are ok. Senders and attachments not.
> 
> Hi Enrico.
> 
> Attach works fine too, look:
> 
> ---cut---
> Win_MAPISendMail( "Subject TEST",                           ; //
> subject
>                 "BODY Text Message here!",                 ; //
> menssage
>                 nil,                                       ; // type
> of message
>                 DtoS( Date() ) + " " + Time(),             ; // send
> date
>                 "",                                        ; //
> conversation ID
>                 .f.,                                       ; //
> acknowledgment
>                 .t.,                                       ; // user
> intervention
>                 {},                                        ; //
> sender
>                 { { "Toninho", "toninho@fwi.com.br", 1 } },; //
> destinators
>                 { { "Report View", "c:\listagem.pdf" } }   ; //
> attach
>               )
> ---cut---
> 
> and you can sent multiple attachments.
> 
> Sender are not changed in windows vista, but the code is right, maybe
> MAPI dont cnahge sender, I'm looking about this.
> 
> Regards,
> 
> Toninho.
> 
> __________________________________________________
> Fa?a liga??es para outros computadores com o novo Yahoo! Messenger
> http://br.beta.messenger.yahoo.com/
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Wed Dec 16 12:38:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec 16 12:38:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13267] trunk/harbour
Message-ID: <E1NKxpZ-0000fM-Co@d5vjzd1.ch3.sourceforge.com>

Revision: 13267
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13267&view=rev
Author:   vszakats
Date:     2009-12-16 17:38:13 +0000 (Wed, 16 Dec 2009)

Log Message:
-----------
2009-12-16 18:28 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * harbour-win-spec
  * harbour-wce-spec
  * include/hbver.h
  * package/winuni/RELNOTES
  * package/winuni/mpkg_win_uni.bat
  * package/winuni/mpkg_win_uni.nsi
  * harbour.spec
  * config/global.mk
    * Changed version to 2.0.0rc1 (from 2.0.0beta3)
    ; TODO: Please also change debian/changelog.
    ; Rehearsing version change, I don't plan to make binary
      release of this interim version.

  * doc/codestyl.txt
    * Minor update.
      I don't plan a full update this time, as we have a huge
      amount of well formatted source code, and it's pretty
      consistent too, so it's enough to peek into any one of
      them for a perfect example. So if someone needs and 
      example, just look under src/* for both .c and .prg.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/doc/codestyl.txt
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/harbour.spec
    trunk/harbour/include/hbver.h
    trunk/harbour/package/winuni/RELNOTES
    trunk/harbour/package/winuni/mpkg_win_uni.bat
    trunk/harbour/package/winuni/mpkg_win_uni.nsi


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Wed Dec 16 12:49:28 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Dec 16 12:49:36 2009
Subject: [Harbour] Problems in WIN_MAPISENDMAIL()
References: <010DD38FD42D45DB930D254B52EC5645@emag><3A03DBD6-6DB2-409B-B460-3736B608CB84@syenar.hu><0mihi5tkkvsgggo6tp8g05fmd0g5flp3bi@4ax.com><09D5A52951154D1895A06E5D41E53E62@emag>
	<j82ii59b1env76msonhass16ogsrthinv2@4ax.com>
Message-ID: <303723CD75A74A7A91CC8396B763A985@emag>


-----Messaggio Originale----- 
Da: "ToninhoFWi" <toninhofwi@yahoo.com.br>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 16 dicembre 2009 17.25
Oggetto: Re: Re: Re: [Harbour] Problems in WIN_MAPISENDMAIL()


> Attach works fine too, look:

I confirm, thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at acn.waw.pl  Wed Dec 16 13:00:31 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 16 13:00:38 2009
Subject: [Harbour] GTXWC clipboard paste: hang
In-Reply-To: <AD2EC1E8-CA96-40B0-B81E-0D540C750CFB@syenar.hu>
References: <AD2EC1E8-CA96-40B0-B81E-0D540C750CFB@syenar.hu>
Message-ID: <20091216180031.GA27412@linux-4bod.home.aster.pl>

On Wed, 16 Dec 2009, Szak?ts Viktor wrote:

Hi,

> No educated bug report, but just now I tried to 
> coppy/paste some text from OS X Mail to my app 
> running GTXWC, and the app just hung with 100% 
> CPU consumption.

Please always try to replicate the problem in reduced example.

In a while I'll commit small modification to tests/gtkeys.prg
which allow to retrive text from Clippard buffer by CTRL+INS
and set new text using CTRL+END.

Just use it for tests. In my Linux box all works as expected
without any problems.

best regards,
Przemek
From druzus at users.sourceforge.net  Wed Dec 16 13:05:43 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Dec 16 13:05:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13268] trunk/harbour
Message-ID: <E1NKyFr-0005mK-Mm@3kljzd1.ch3.sourceforge.com>

Revision: 13268
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13268&view=rev
Author:   druzus
Date:     2009-12-16 18:05:42 +0000 (Wed, 16 Dec 2009)

Log Message:
-----------
2009-12-16 19:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/tests/gtkeys.prg
    + added code to test clipboard (CTRL+INS shows clipboard text and
      CTRL+END set new text in clipboard).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/tests/gtkeys.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Wed Dec 16 13:07:21 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Dec 16 13:07:29 2009
Subject: [Harbour] HB_TRACE() - How to invoke for PRG and C code separately
In-Reply-To: <1AF5BC15-44E7-427F-BB3B-FB5A295E545C@syenar.hu>
References: <26806243.post@talk.nabble.com>
	<1AF5BC15-44E7-427F-BB3B-FB5A295E545C@syenar.hu>
Message-ID: <26815669.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> First build Harbour without HBQT.
> Then build HBQT in a separate pass with custom options.
> 
> Rough instructions for that:
> ---
> set HB_WITH_QT=
> win-make
> cd contrib/hbqt
> set HB_WITH_QT=C:\qt\include
> set HB_USER_CFLAGS=-DTR_DEBUG_...
> set HB_USER_PRGFLAGS=-D__HB_DEBUG__
> win-make
> cd ../..
> ---
> 

Can you expand <...> in
set HB_USER_CFLAGS=-DTR_DEBUG_...

I tried 
set HB_USER_CFLAGS=-DTR_DEBUG
set HB_USER_CFLAGS=-DHB_TR_LEVEL_ALWAYS

but without success.

I am compiling hbqt/hbxbp/hbide only with these flags.
Harbour is compiled with default switches.

To be precise as:

HB_USER_CFLAGS=-D__HB_DEBUG__ -DHB_FM_STATISTICS -DHB_TR_LEVEL_ALWAYS
HB_USER_PRGFLAGS=-d__HB_WINDEBUG__ -d__HB_DEBUG__


Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/HB_TRACE%28%29---How-to-invoke-for-PRG-and-C-code-separately-tp26806243p26815669.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Dec 16 13:34:44 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec 16 13:34:57 2009
Subject: [Harbour] Problems in WIN_MAPISENDMAIL()
In-Reply-To: <303723CD75A74A7A91CC8396B763A985@emag>
References: <010DD38FD42D45DB930D254B52EC5645@emag><3A03DBD6-6DB2-409B-B460-3736B608CB84@syenar.hu><0mihi5tkkvsgggo6tp8g05fmd0g5flp3bi@4ax.com><09D5A52951154D1895A06E5D41E53E62@emag>
	<j82ii59b1env76msonhass16ogsrthinv2@4ax.com>
	<303723CD75A74A7A91CC8396B763A985@emag>
Message-ID: <C9FD2958-D73F-4354-A1EE-1EC217D99430@syenar.hu>

Enrico, can you post your example which GPFs?

Brgds,
Viktor

> -----Messaggio Originale----- Da: "ToninhoFWi" <toninhofwi@yahoo.com.br>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: mercoled? 16 dicembre 2009 17.25
> Oggetto: Re: Re: Re: [Harbour] Problems in WIN_MAPISENDMAIL()
> 
> 
>> Attach works fine too, look:
> 
> I confirm, thank you.
> 
> EMG
> 
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From ice at extreme.hu  Wed Dec 16 13:42:58 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Dec 16 13:43:06 2009
Subject: [Harbour] GTXWC clipboard paste: hang
In-Reply-To: <F17CD344-8E15-44A7-AC58-A181A2746D90@syenar.hu>
References: <AD2EC1E8-CA96-40B0-B81E-0D540C750CFB@syenar.hu>
	<alpine.DEB.2.00.0912161431071.27623@dawn.royalcomp.hu>
	<F17CD344-8E15-44A7-AC58-A181A2746D90@syenar.hu>
Message-ID: <alpine.DEB.2.00.0912161922140.27623@dawn.royalcomp.hu>

On Wed, 16 Dec 2009, Viktor Szak?ts wrote:

 > >> No educated bug report, but just now I tried to 
 > >> coppy/paste some text from OS X Mail to my app 
 > >> running GTXWC, and the app just hung with 100% 
 > >> CPU consumption.

this is a long shot, but.

is this even supposed to work? i do not know the level of integration 
of x11 in osx, but there could be problems (there certainly have been 
in the past, according to my friend google).

can you copy and paste between other x11 apps and native apps? say, 
something like abiword and whatever-notepad-is-on-osx (but anyhow do 
not use xterm and terminal.app for these tests). you should try 
selecting (with the mouse, just selecting, nothing else) in abiword, 
and pasting in $notepad; selecting and edit->copy in abiword, pasting 
in $notepad.

this copy-paste thing in x11 is pretty much unlike anything else. 
there are two places something can end up, a "primary" selection (this 
gets stuff if you select text in an xterm, for example -- this is 
sort of an implicit buffer), and a "clipboard" selection (this gets 
stuff if you explicitly copy in something, by means of edit->copy in 
an application). far as i can tell, gtxwc plays it safe and always 
updates both selections (this does seem to work well), so it could 
well be an integration issue on osx? trying it with an independent x 
app could reveal what might be wrong.

there's a very condensed page about this whole business at
 
 http://www.jwz.org/doc/x-cut-and-paste.html

 > > anyway, if seems that XWC_DEBUG activates a whole lot of 
 > > clipboard-related debug stuff, do you get any clue with that?
 > 
 > I didn't try that yet, for that I'll need to rebuild 
 > everything, which is not option these days.

turns out it doesn't worth it without some more surgery. with 
XWC_DEBUG, it just gets so overly verbose no way to cherrypick the 
relevant piece anyway :)

 > > (how is copy-pasting w/ xwc supposed to work? just like any other x 
 > > app i'd like to hope but still asking, point mouse, click, hold/point 
 > > mouse, hit middle button?)
 > 
 > This application use hb_gtInfo( HB_GTI_CLIPBOARDDATA ) to 
 > copy and paste on all platforms/GTs. It works alright in 
 > GTWIN and GTWVT.

this seems to be working fine on linux, well almost. this (as far as i 
can tell) seems intentional in gtxwc.c:3072, but it's as if the 
selections were cleared by this as well (so anything i have in primary 
when an xwc app starts, hb_gtInfo( HB_GTI_CLIPBOARDDATA ) will return 
empty -- this is somewhat surprising, but its not to say this is a 
huge problem or something).

-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Wed Dec 16 13:50:17 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec 16 13:50:28 2009
Subject: [Harbour] GTXWC clipboard paste: hang
In-Reply-To: <20091216180031.GA27412@linux-4bod.home.aster.pl>
References: <AD2EC1E8-CA96-40B0-B81E-0D540C750CFB@syenar.hu>
	<20091216180031.GA27412@linux-4bod.home.aster.pl>
Message-ID: <9931D11A-633F-42A8-BBB5-468610284C8D@syenar.hu>

>> No educated bug report, but just now I tried to 
>> coppy/paste some text from OS X Mail to my app 
>> running GTXWC, and the app just hung with 100% 
>> CPU consumption.
> 
> Please always try to replicate the problem in reduced example.
> 
> In a while I'll commit small modification to tests/gtkeys.prg
> which allow to retrive text from Clippard buffer by CTRL+INS
> and set new text using CTRL+END.
> 
> Just use it for tests. In my Linux box all works as expected
> without any problems.

I'm already testing (BTW Ctrl+Ins and/or Ctrl+End doesn't 
work in OS X terminal in gtrm and/or GTWXC GTs, I didn't 
make exact notes, just changed them to simple chars). 

I've also found a cycle in my pasted text processing loop 
which may go infinite, but I have to check what exactly 
happens there which doesn't happen on win. After that 
point I use hb_keyput( <cString> ) to push the content to 
the keyboard. Anyway I'll get back with the results ASAP.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Dec 16 13:51:54 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec 16 13:52:06 2009
Subject: [Harbour] HB_TRACE() - How to invoke for PRG and C code separately
In-Reply-To: <26815669.post@talk.nabble.com>
References: <26806243.post@talk.nabble.com>
	<1AF5BC15-44E7-427F-BB3B-FB5A295E545C@syenar.hu>
	<26815669.post@talk.nabble.com>
Message-ID: <86E0331F-D2A1-484C-B01A-3B442A4CFE7C@syenar.hu>

>> First build Harbour without HBQT.
>> Then build HBQT in a separate pass with custom options.
>> 
>> Rough instructions for that:
>> ---
>> set HB_WITH_QT=
>> win-make
>> cd contrib/hbqt
>> set HB_WITH_QT=C:\qt\include
>> set HB_USER_CFLAGS=-DTR_DEBUG_...
>> set HB_USER_PRGFLAGS=-D__HB_DEBUG__
>> win-make
>> cd ../..
>> ---
>> 
> 
> Can you expand <...> in
> set HB_USER_CFLAGS=-DTR_DEBUG_...
> 
> I tried 
> set HB_USER_CFLAGS=-DTR_DEBUG
> set HB_USER_CFLAGS=-DHB_TR_LEVEL_ALWAYS
> 
> but without success.
> 
> I am compiling hbqt/hbxbp/hbide only with these flags.
> Harbour is compiled with default switches.
> 
> To be precise as:
> 
> HB_USER_CFLAGS=-D__HB_DEBUG__ -DHB_FM_STATISTICS -DHB_TR_LEVEL_ALWAYS
> HB_USER_PRGFLAGS=-d__HB_WINDEBUG__ -d__HB_DEBUG__

Please look it up from the ChangeLog, I included 
all this information there. It's in a recent entry 
dealing with this issue.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Dec 16 14:26:17 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec 16 14:26:28 2009
Subject: [Harbour] GTXWC clipboard paste: hang
In-Reply-To: <alpine.DEB.2.00.0912161922140.27623@dawn.royalcomp.hu>
References: <AD2EC1E8-CA96-40B0-B81E-0D540C750CFB@syenar.hu>
	<alpine.DEB.2.00.0912161431071.27623@dawn.royalcomp.hu>
	<F17CD344-8E15-44A7-AC58-A181A2746D90@syenar.hu>
	<alpine.DEB.2.00.0912161922140.27623@dawn.royalcomp.hu>
Message-ID: <5E3710EC-C1BA-4D1C-A412-865F87CFAC03@syenar.hu>

>>>> No educated bug report, but just now I tried to 
>>>> coppy/paste some text from OS X Mail to my app 
>>>> running GTXWC, and the app just hung with 100% 
>>>> CPU consumption.
> 
> this is a long shot, but.
> 
> is this even supposed to work? i do not know the level of integration 
> of x11 in osx, but there could be problems (there certainly have been 
> in the past, according to my friend google).
> 
> can you copy and paste between other x11 apps and native apps? say, 
> something like abiword and whatever-notepad-is-on-osx (but anyhow do 
> not use xterm and terminal.app for these tests). you should try 
> selecting (with the mouse, just selecting, nothing else) in abiword, 
> and pasting in $notepad; selecting and edit->copy in abiword, pasting 
> in $notepad.

Yes of course. It used to work most of the time.
I'm narrowing it down to my own code now and it 
seems Harbour is not at fault here, now I have 
to investigate a little bit why such didn't happen 
on win. More in another mail soon.

> this copy-paste thing in x11 is pretty much unlike anything else. 
> there are two places something can end up, a "primary" selection (this 
> gets stuff if you select text in an xterm, for example -- this is 
> sort of an implicit buffer), and a "clipboard" selection (this gets 
> stuff if you explicitly copy in something, by means of edit->copy in 
> an application). far as i can tell, gtxwc plays it safe and always 
> updates both selections (this does seem to work well), so it could 
> well be an integration issue on osx? trying it with an independent x 
> app could reveal what might be wrong.
> 
> there's a very condensed page about this whole business at
> 
> http://www.jwz.org/doc/x-cut-and-paste.html
> 
>>> anyway, if seems that XWC_DEBUG activates a whole lot of 
>>> clipboard-related debug stuff, do you get any clue with that?
>> 
>> I didn't try that yet, for that I'll need to rebuild 
>> everything, which is not option these days.
> 
> turns out it doesn't worth it without some more surgery. with 
> XWC_DEBUG, it just gets so overly verbose no way to cherrypick the 
> relevant piece anyway :)

As it turns, problem isn't that deep anyway.

>>> (how is copy-pasting w/ xwc supposed to work? just like any other x 
>>> app i'd like to hope but still asking, point mouse, click, hold/point 
>>> mouse, hit middle button?)
>> 
>> This application use hb_gtInfo( HB_GTI_CLIPBOARDDATA ) to 
>> copy and paste on all platforms/GTs. It works alright in 
>> GTWIN and GTWVT.
> 
> this seems to be working fine on linux, well almost. this (as far as i 
> can tell) seems intentional in gtxwc.c:3072, but it's as if the 
> selections were cleared by this as well (so anything i have in primary 
> when an xwc app starts, hb_gtInfo( HB_GTI_CLIPBOARDDATA ) will return 
> empty -- this is somewhat surprising, but its not to say this is a 
> huge problem or something).

Hm, I didn't check this, but it'd be good behavior 
if a Harbour app could pick what was already placed 
on clipboard before its start. Could be annoying for 
users, since apps usually don't have such limitations.

Brgds,
Viktor



From e.m.giordano at emagsoftware.it  Wed Dec 16 14:30:39 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Dec 16 14:30:48 2009
Subject: [Harbour] Problems in WIN_MAPISENDMAIL()
References: <010DD38FD42D45DB930D254B52EC5645@emag><3A03DBD6-6DB2-409B-B460-3736B608CB84@syenar.hu><0mihi5tkkvsgggo6tp8g05fmd0g5flp3bi@4ax.com><09D5A52951154D1895A06E5D41E53E62@emag><j82ii59b1env76msonhass16ogsrthinv2@4ax.com><303723CD75A74A7A91CC8396B763A985@emag>
	<C9FD2958-D73F-4354-A1EE-1EC217D99430@syenar.hu>
Message-ID: <00CB94F96E47490FA869D1CE8D7DABC6@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 16 dicembre 2009 19.34
Oggetto: Re: [Harbour] Problems in WIN_MAPISENDMAIL()


> Enrico, can you post your example which GPFs?

It doesn't GPF anymore after Toninho hints.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Wed Dec 16 14:41:56 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec 16 14:42:07 2009
Subject: [Harbour] GTXWC clipboard paste: hang
In-Reply-To: <20091216180031.GA27412@linux-4bod.home.aster.pl>
References: <AD2EC1E8-CA96-40B0-B81E-0D540C750CFB@syenar.hu>
	<20091216180031.GA27412@linux-4bod.home.aster.pl>
Message-ID: <E81069FD-2AD0-4634-BFCB-9B34F4F4E3E5@syenar.hu>

Hi Przemek, Tamas,

First off thanks for jumping on the issue. Unfortunately (or 
fortunately) this was a local problem and a pretty stupid 
one. There was an infinite loop in my code in case there was 
no keyable char in clipboard buffer. Empty clipboard also 
triggered this.

Probably it never came up before because in 99.99% of the 
cases there is something on clipboard, but OS X was exception, 
because as Tamas reported, the initial state of clipboard 
under GTXWC is empty, so the chance to trigger this error 
case, was much higher.

Probably this could be fixed in Harbour to behave more 
like other apps and other Gts.

Brgds,
Viktor

On 2009 Dec 16, at 19:00, Przemys?aw Czerpak wrote:

> On Wed, 16 Dec 2009, Szak?ts Viktor wrote:
> 
> Hi,
> 
>> No educated bug report, but just now I tried to 
>> coppy/paste some text from OS X Mail to my app 
>> running GTXWC, and the app just hung with 100% 
>> CPU consumption.
> 
> Please always try to replicate the problem in reduced example.
> 
> In a while I'll commit small modification to tests/gtkeys.prg
> which allow to retrive text from Clippard buffer by CTRL+INS
> and set new text using CTRL+END.
> 
> Just use it for tests. In my Linux box all works as expected
> without any problems.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Dec 16 14:56:16 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec 16 14:56:27 2009
Subject: [Harbour] Problems in WIN_MAPISENDMAIL()
In-Reply-To: <00CB94F96E47490FA869D1CE8D7DABC6@emag>
References: <010DD38FD42D45DB930D254B52EC5645@emag><3A03DBD6-6DB2-409B-B460-3736B608CB84@syenar.hu><0mihi5tkkvsgggo6tp8g05fmd0g5flp3bi@4ax.com><09D5A52951154D1895A06E5D41E53E62@emag><j82ii59b1env76msonhass16ogsrthinv2@4ax.com><303723CD75A74A7A91CC8396B763A985@emag>
	<C9FD2958-D73F-4354-A1EE-1EC217D99430@syenar.hu>
	<00CB94F96E47490FA869D1CE8D7DABC6@emag>
Message-ID: <27829E66-519A-4F30-AE04-9623BF626563@syenar.hu>

Hi Enrico,

> -----Messaggio Originale----- Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: mercoled? 16 dicembre 2009 19.34
> Oggetto: Re: [Harbour] Problems in WIN_MAPISENDMAIL()
> 
> 
>> Enrico, can you post your example which GPFs?
> 
> It doesn't GPF anymore after Toninho hints.

If you could fix a GPF by changing .prg code, 
it means the .c code is wrong and has to be fixed.

You wrote this:
> 3. The parameter aFiles GPFs when a file is specified.


So the question is: How did you call it so that 
it GPFed?

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Dec 16 15:01:56 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 16 15:02:04 2009
Subject: [Harbour] HB_TRACE() - How to invoke for PRG and C code separately
In-Reply-To: <26815669.post@talk.nabble.com>
References: <26806243.post@talk.nabble.com>
	<1AF5BC15-44E7-427F-BB3B-FB5A295E545C@syenar.hu>
	<26815669.post@talk.nabble.com>
Message-ID: <20091216200156.GA26836@linux-4bod.home.aster.pl>

On Wed, 16 Dec 2009, Pritpal Bedi wrote:

Hi,

> > First build Harbour without HBQT.
> > Then build HBQT in a separate pass with custom options.
> > Rough instructions for that:
> > ---
> > set HB_WITH_QT=
> > win-make
> > cd contrib/hbqt
> > set HB_WITH_QT=C:\qt\include
> > set HB_USER_CFLAGS=-DTR_DEBUG_...
> > set HB_USER_PRGFLAGS=-D__HB_DEBUG__
> > win-make
> > cd ../..
> > ---
> Can you expand <...> in
> set HB_USER_CFLAGS=-DTR_DEBUG_...
> I tried 
> set HB_USER_CFLAGS=-DTR_DEBUG
> set HB_USER_CFLAGS=-DHB_TR_LEVEL_ALWAYS
> but without success.
> I am compiling hbqt/hbxbp/hbide only with these flags.
> Harbour is compiled with default switches.
> To be precise as:
> HB_USER_CFLAGS=-D__HB_DEBUG__ -DHB_FM_STATISTICS -DHB_TR_LEVEL_ALWAYS
> HB_USER_PRGFLAGS=-d__HB_WINDEBUG__ -d__HB_DEBUG__

With above you excluded at compile time all HB_TRACE messages
with do not have HB_TR_ALWAYS priority.
To clarify you do not need to recompile anything. It's enough if
you understand how current code works.

-DHB_TR_LEVEL_* is compile time macro used to strip from source code
by PP all HB_TRACE() massages which have bigger priority value.
By default it's set to: HB_TR_LEVEL_WARNING what means that:
   HB_TRACE(HB_TR_ALWAYS,  ... );   /* 0 */
   HB_TRACE(HB_TR_FATAL,   ... );   /* 1 */
   HB_TRACE(HB_TR_ERROR,   ... );   /* 2 */
   HB_TRACE(HB_TR_WARNING, ... );   /* 3 */
are compiled and included in final binaries and:
   HB_TRACE(HB_TR_INFO,    ... );   /* 4 */
   HB_TRACE(HB_TR_DEBUG,   ... );   /* 5 */
are stripped by C preprocessor before compilation so no code is
generated for them.
When you use -DHB_TR_LEVEL_ALWAYS then it means that you exclude
at compile time all HB_TRACE() messages except HB_TR_ALWAYS ones.
At .prg level you can use hb_traceString() function to generate
HB_TR_ALWAYS messages.
below I'm attaching small test code which shows different HB_TRACE
messages generated from C and .prg code.
HB_TRACE() messages which were compiled are filtered also at runtime.
By default the filter is set to HB_TR_WARNING what means that HB_TR_ALWAYS,
HB_TR_FATAL, HB_TR_ERROR and HB_TR_WARNING are shown but HB_TR_INFO and
HB_TR_DEBUG are ignored.
This filter can be changed by HB_TR_LEVEL=<level> envvar set before
application starts, i.e. to show all compiled messages:
   set HB_TR_LEVEL=DEBUG
or to show only HB_TR_FATAL and HB_TR_ALWAYS:
   set HB_TR_LEVEL=FATAL
By default HB_TRACE() messages are redirected to STDERR and if
you want then you can redirect them to file using 2> shell operator
(of course if it supports it), i.e.:
   myprog.exe 2> mytrace.log
Alternatively they can be also redirected to file by setting HB_TR_OUTPUT
envvar, i.e.:
   set HB_TR_OUTPUT=mylog.txt
Additionally in Windows builds you can redirect copy of all HB_TRACE()
messages to OutputDebugString() function. It's enough to set HB_TR_WINOUT
envvar to some not empty value, i.e.:
   set HB_TR_WINOUT=1

The messages are written to STDERR or user file using stdio functions
which can buffer data. It speedups the execution time but in some cases
you may want to force writing each message immediately, i.e. to trap
messages which can be lost due to GPF before buffer flushing. You can
enable such flushing by setting HB_TR_FLUSH envvar to any non empty
value, i.e.:
   set HB_TR_FLUSH=1
This switch has no effect on HB_TR_WINOUT for which Harbour do not
make any buffering.

I hope that now it's more clear for you and other Harbour developers
how HB_TRACE system works. For sure it's much more flexible then direct
calling some *_trace*() function. I hope you will find it very useful.
I.e. in your .c code you can use HB_TR_INFO messages which are stripped
by default at compile time, i.e.:
   HB_TRACE(HB_TR_INFO, ("[%s@%s]", "this is tracelog test", "INFO"));
and do not cause any runtime overhead in default builds.
But if you will want to enable them, then it's enough to recompile
your code with HB_USER_CFLAGS=-DHB_TR_LEVEL_INFO and then before you
start final application:
   set HB_TR_LEVEL=INFO
   set HB_TR_OUTPUT=mylog.txt

Unfortunately we do not have such flexible interface at .prg level
and here you can use only hb_traceString() function to generate
HB_TR_ALWAYS messages.
In general .prg level support for HB_TRACE() messages should be extended
and in few places fixed. Now we have three functions:
   hb_traceState( [<nNewState:0|1>] ) -> <nPrevState>
   hb_traceLevel( [<nNewLevel>] ) -> <nLastMsgLevel>
   hb_traceString( <xMsgItems, ....> ) -> NIL

hb_traceState() enable and disable HB_TRACE system. By default it's
enabled.
Now hb_traceLevel() does not make anything usable. I can only guess it's
mistake of someone who wanted to give .prg level interface for setting
default runtime HB_TRACE message filter so it could be used instead of
setting HB_TR_LEVEL envvar. It should be fixed to work in such way
or removed to nor confuse users.
hb_traceString() convert passed parameters to string using the same
conversion method as ?/?? commands ([Q]QOUT()) so at least its name
is confusing. It shows all messages using only HB_TR_ALWAYS level,
does not set valid PRG function name and line in generate messages
and does not show context of complex variables like arrays or hashes
(just like ?/??) what can be usable in some cases.
I think that it should be replaced by two new functions:
   hb_traceLogLevel( <nNewLevel> ) -> <nPrevLevel>
   hb_traceLog( <xMsgItems,...> ) // generate message at hb_traceLogLevel()
and we should add also:
   hb_traceLogAt( <nLevel>, <xMsgItems,...> )
which will allow to create PP rules giving the same functionality as we
have now at C level.

HTH,

best regards,
Przemek



proc main()
   ? "HB_TRACESTATE:", HB_TRACESTATE()
   ? "HB_TRACELEVEL:", HB_TRACELEVEL()
   ?
   HB_TRACESTRING( "Test for HB_TRACESTRING() (.prg code)", hb_dateTime() )
   ?
   TR_TEST()
return

#pragma begindump
#include "hbapi.h"

HB_FUNC( TR_TEST )
{
   HB_TRACE(HB_TR_ALWAYS,  ("[%s@%s]", "this is tracelog test", "ALWAYS")  );
   HB_TRACE(HB_TR_FATAL,   ("[%s@%s]", "this is tracelog test", "FATAL")   );
   HB_TRACE(HB_TR_ERROR,   ("[%s@%s]", "this is tracelog test", "ERROR")   );
   HB_TRACE(HB_TR_WARNING, ("[%s@%s]", "this is tracelog test", "WARNING") );

   /* default trace level is HB_TR_WARNING so this lines
    * will be stripped if compiled without valied HB_TR_* macro
    */
   HB_TRACE(HB_TR_INFO,    ("[%s@%s]", "this is tracelog test", "INFO")    );
   HB_TRACE(HB_TR_DEBUG,   ("[%s@%s]", "this is tracelog test", "DEBUG")   );
}
#pragma enddump
From druzus at acn.waw.pl  Wed Dec 16 15:13:58 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 16 15:14:06 2009
Subject: [Harbour] Problems in WIN_MAPISENDMAIL()
In-Reply-To: <00CB94F96E47490FA869D1CE8D7DABC6@emag>
References: <010DD38FD42D45DB930D254B52EC5645@emag>
	<3A03DBD6-6DB2-409B-B460-3736B608CB84@syenar.hu>
	<0mihi5tkkvsgggo6tp8g05fmd0g5flp3bi@4ax.com>
	<09D5A52951154D1895A06E5D41E53E62@emag>
	<j82ii59b1env76msonhass16ogsrthinv2@4ax.com>
	<303723CD75A74A7A91CC8396B763A985@emag>
	<C9FD2958-D73F-4354-A1EE-1EC217D99430@syenar.hu>
	<00CB94F96E47490FA869D1CE8D7DABC6@emag>
Message-ID: <20091216201358.GB26836@linux-4bod.home.aster.pl>

On Wed, 16 Dec 2009, Enrico Maria Giordano wrote:

Hi,

> > Enrico, can you post your example which GPFs?
> It doesn't GPF anymore after Toninho hints.

I think that Viktor asked about it because he wants to add protection
against wrong parameters which may cause such GPF so such information
is still valuable for us.

Maybe in few places we should use HB_ARRAYGETSTRDEF() instead of
HB_ARRAYGETSTR() or maybe we should add support for one dimensional
arrays in attachment list or maybe we should skip some wrong items
in such arrays.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Dec 16 15:21:33 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec 16 15:21:44 2009
Subject: [Harbour] HB_TRACE() - How to invoke for PRG and C code separately
In-Reply-To: <20091216200156.GA26836@linux-4bod.home.aster.pl>
References: <26806243.post@talk.nabble.com>
	<1AF5BC15-44E7-427F-BB3B-FB5A295E545C@syenar.hu>
	<26815669.post@talk.nabble.com>
	<20091216200156.GA26836@linux-4bod.home.aster.pl>
Message-ID: <CF990857-9F78-46D1-A83D-9DAC3703BC3F@syenar.hu>

> I think that it should be replaced by two new functions:
>   hb_traceLogLevel( <nNewLevel> ) -> <nPrevLevel>
>   hb_traceLog( <xMsgItems,...> ) // generate message at hb_traceLogLevel()
> and we should add also:
>   hb_traceLogAt( <nLevel>, <xMsgItems,...> )
> which will allow to create PP rules giving the same functionality as we
> have now at C level.

I agree.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Dec 16 15:24:15 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec 16 15:24:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13269] trunk/harbour
Message-ID: <E1NL0Pv-0003c9-4O@d5vjzd1.ch3.sourceforge.com>

Revision: 13269
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13269&view=rev
Author:   vszakats
Date:     2009-12-16 20:23:42 +0000 (Wed, 16 Dec 2009)

Log Message:
-----------
2009-12-16 21:18 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/mapi.c
    * WIN_MAPISENDMAIL() fixed to set sender as MAPI_ORIG.
      This is the default value (zero), but we shouldn't assume such things.
    + WIN_MAPISENDMAIL() recipient arrays elements third parameter
      is optional.
    ! WIN_MAPISENDMAIL() fixed to set recipient address type as
      MAPI_TO by default (if there is no 3rd element or 3rd element is
      non-numeric). So far it was defaulting to MAPI_ORIG in these case,
      which is wrong.
    ! WIN_MAPISENDMAIL() fixed to skip recipient if neither first
      nor second element is a non-empty string. It may have caused
      GPFs before.
    * WIN_MAPISENDMAIL() changed to accept 1st element of file
      attachment array list as pathname, and 2nd element as
      optional filename. 2nd element is now truly optional, files
      won't be skipped if omitted.
      Original code accepted filename in 1st element, but it's
      cleaner this way and also testmapi.prg calls it this way,
      so it might have been a typo.
    ! WIN_MAPISENDMAIL() fixed file attachments handling to not
      cause GPF is 1st array element (pathname) is non-string or
      empty. These items will now be skipped.
    ; Please retest also with bad parameters. And I'd appreciate
      if someone could review as it's blind coding.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/mapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Dec 16 15:24:21 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec 16 15:24:31 2009
Subject: [Harbour] Problems in WIN_MAPISENDMAIL()
In-Reply-To: <20091216201358.GB26836@linux-4bod.home.aster.pl>
References: <010DD38FD42D45DB930D254B52EC5645@emag>
	<3A03DBD6-6DB2-409B-B460-3736B608CB84@syenar.hu>
	<0mihi5tkkvsgggo6tp8g05fmd0g5flp3bi@4ax.com>
	<09D5A52951154D1895A06E5D41E53E62@emag>
	<j82ii59b1env76msonhass16ogsrthinv2@4ax.com>
	<303723CD75A74A7A91CC8396B763A985@emag>
	<C9FD2958-D73F-4354-A1EE-1EC217D99430@syenar.hu>
	<00CB94F96E47490FA869D1CE8D7DABC6@emag>
	<20091216201358.GB26836@linux-4bod.home.aster.pl>
Message-ID: <A61EFF20-0DB7-4364-A676-164C842BA0B3@syenar.hu>

>>> Enrico, can you post your example which GPFs?
>> It doesn't GPF anymore after Toninho hints.
> 
> I think that Viktor asked about it because he wants to add protection
> against wrong parameters which may cause such GPF so such information
> is still valuable for us.

Precisely.

> Maybe in few places we should use HB_ARRAYGETSTRDEF() instead of
> HB_ARRAYGETSTR() or maybe we should add support for one dimensional
> arrays in attachment list or maybe we should skip some wrong items
> in such arrays.

Commit is on the way. I forgot about HB_ARRAYGETSTRDEF() so did 
the checking manually. One dimensional array support is good idea, 
it surely makes it simpler for most cases.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Dec 16 15:41:03 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec 16 15:41:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13270] trunk/harbour
Message-ID: <E1NL0gB-0003xN-LO@d5vjzd1.ch3.sourceforge.com>

Revision: 13270
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13270&view=rev
Author:   vszakats
Date:     2009-12-16 20:40:18 +0000 (Wed, 16 Dec 2009)

Log Message:
-----------
2009-12-16 21:38 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/hbwin.ch
  * contrib/hbwin/tests/testmapi.prg
  * contrib/hbwin/mapi.c
    + Added HB_WIN_MAPI_* constants for recipient types.
    + WIN_MAPISENDMAIL() now accept 8th (sender) as simple string,
      this will be passed as sender name to Windows.
    + WIN_MAPISENDMAIL() now accept 9th (recipient) parameter
      as simple list of strings. Values will be passed as
      'TO' recipient names to Windows.
    + WIN_MAPISENDMAIL() now accept 10th (attachment) parameter
      as simple list of strings. Values will be passed as
      pathname to Windows.
    % One minor optimization in WIN_MAPISENDMAIL().
    + Added example for simple form of WIN_MAPISENDMAIL() call.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/hbwin.ch
    trunk/harbour/contrib/hbwin/mapi.c
    trunk/harbour/contrib/hbwin/tests/testmapi.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Dec 16 15:59:24 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec 16 15:59:36 2009
Subject: [Harbour] GTXWC clipboard paste: hang
In-Reply-To: <E81069FD-2AD0-4634-BFCB-9B34F4F4E3E5@syenar.hu>
References: <AD2EC1E8-CA96-40B0-B81E-0D540C750CFB@syenar.hu>
	<20091216180031.GA27412@linux-4bod.home.aster.pl>
	<E81069FD-2AD0-4634-BFCB-9B34F4F4E3E5@syenar.hu>
Message-ID: <7FE5ECA5-79DF-4188-B78E-E446ED04AB9F@syenar.hu>

> First off thanks for jumping on the issue. Unfortunately (or 
> fortunately) this was a local problem and a pretty stupid 
> one. There was an infinite loop in my code in case there was 
> no keyable char in clipboard buffer. Empty clipboard also 
> triggered this.
> 
> Probably it never came up before because in 99.99% of the 
> cases there is something on clipboard, but OS X was exception, 
> because as Tamas reported, the initial state of clipboard 
> under GTXWC is empty, so the chance to trigger this error 
> case, was much higher.
> 
> Probably this could be fixed in Harbour to behave more 
> like other apps and other Gts.

I've just checked and same OS X GTXWC app picked what was 
placed to clipboard before starting the app (or even 
starting X11 for that matter).

I'll keep an open eye to report any clipboard problems 
here.

Brgds,
Viktor

From e.m.giordano at emagsoftware.it  Wed Dec 16 16:30:01 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Dec 16 16:30:09 2009
Subject: [Harbour] Problems in WIN_MAPISENDMAIL()
References: <010DD38FD42D45DB930D254B52EC5645@emag><3A03DBD6-6DB2-409B-B460-3736B608CB84@syenar.hu><0mihi5tkkvsgggo6tp8g05fmd0g5flp3bi@4ax.com><09D5A52951154D1895A06E5D41E53E62@emag><j82ii59b1env76msonhass16ogsrthinv2@4ax.com><303723CD75A74A7A91CC8396B763A985@emag><C9FD2958-D73F-4354-A1EE-1EC217D99430@syenar.hu><00CB94F96E47490FA869D1CE8D7DABC6@emag>
	<27829E66-519A-4F30-AE04-9623BF626563@syenar.hu>
Message-ID: <0AFA3878F1A74958BDE3FB68136D55C0@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 16 dicembre 2009 20.56
Oggetto: Re: [Harbour] Problems in WIN_MAPISENDMAIL()


> So the question is: How did you call it so that
> it GPFed?

Sorry, I can't replicate the problem anymore... :-(

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From pct_hbqt at hotmail.com  Wed Dec 16 16:35:02 2009
From: pct_hbqt at hotmail.com (PCToledo)
Date: Wed Dec 16 16:35:09 2009
Subject: [Harbour] Window Main X Window Modal X HBQT
Message-ID: <26818868.post@talk.nabble.com>


Hello Friends!

Sorry for my english...

I compiled the file demoqt of HBQT and liked much, but I'm lost.

Someone could send a small example of how to create a Window Main and open
it in a Window Modal?

Hugs
-- 
View this message in context: http://old.nabble.com/Window-Main-X-Window-Modal-X-HBQT-tp26818868p26818868.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Dec 16 16:37:56 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec 16 16:38:06 2009
Subject: [Harbour] Problems in WIN_MAPISENDMAIL()
In-Reply-To: <0AFA3878F1A74958BDE3FB68136D55C0@emag>
References: <010DD38FD42D45DB930D254B52EC5645@emag><3A03DBD6-6DB2-409B-B460-3736B608CB84@syenar.hu><0mihi5tkkvsgggo6tp8g05fmd0g5flp3bi@4ax.com><09D5A52951154D1895A06E5D41E53E62@emag><j82ii59b1env76msonhass16ogsrthinv2@4ax.com><303723CD75A74A7A91CC8396B763A985@emag><C9FD2958-D73F-4354-A1EE-1EC217D99430@syenar.hu><00CB94F96E47490FA869D1CE8D7DABC6@emag>
	<27829E66-519A-4F30-AE04-9623BF626563@syenar.hu>
	<0AFA3878F1A74958BDE3FB68136D55C0@emag>
Message-ID: <B0E93BD8-F75E-4DB3-A058-AB18E27509B1@syenar.hu>

> -----Messaggio Originale----- Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: mercoled? 16 dicembre 2009 20.56
> Oggetto: Re: [Harbour] Problems in WIN_MAPISENDMAIL()
> 
> 
>> So the question is: How did you call it so that
>> it GPFed?
> 
> Sorry, I can't replicate the problem anymore... :-(

Did you try after latest updates or with the same Harbour revision?

Brgds,
Viktor

From harbour at os.pl  Wed Dec 16 16:47:37 2009
From: harbour at os.pl (Andrzej P. Wozniak)
Date: Wed Dec 16 17:04:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13234] trunk/harbour
References: <E1NJop2-0004GX-48@3kljzd1.ch3.sourceforge.com>
Message-ID: <02aa01ca7e9b$b7088520$3a3aa8c0@olszynka.pl>

From:  <vszakats@users.sourceforge.net>
Sent: Sunday, December 13, 2009 2:49 PM
Subject: [Harbour] SF.net SVN: harbour-project:[13234] trunk/harbour

> Revision: 13234
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13234&view=rev
> Author:   vszakats
> Date:     2009-12-13 13:49:14 +0000 (Sun, 13 Dec 2009)
>
> Log Message:
> -----------
> 2009-12-13 14:46 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbwin/mapi.c
>     + Added support for unlimited number of recipients and
>       attached files. Please test and review.

Viktor, did you read RFC 5321 carefully, especially the section quoted
below?

/----
4.5.3.1.8.  Recipients Buffer

   The minimum total number of recipients that MUST be buffered is 100
   recipients.  Rejection of messages (for excessive recipients) with
   fewer than 100 RCPT commands is a violation of this specification.
   The general principle that relaying SMTP server MUST NOT, and
   delivery SMTP servers SHOULD NOT, perform validation tests on message
   header fields suggests that messages SHOULD NOT be rejected based on
   the total number of recipients shown in header fields.  A server that
   imposes a limit on the number of recipients MUST behave in an orderly
   fashion, such as rejecting additional addresses over its limit rather
   than silently discarding addresses previously accepted.  A client
   that needs to deliver a message containing over 100 RCPT commands
   SHOULD be prepared to transmit in 100-recipient "chunks" if the
   server declines to accept more than 100 recipients in a single
   message.
\----

How do you manage 100-recipient chunks? To prevent spamming, many free 
accounts have even non-standard restrictions, e.g. 20 emails per hour.

-- 
Regards from The Harbour Project mirror in Poland
Andrzej P. Wozniak



------
Darmowe statystyki stron www
http://WEBstat.pl

From harbour.01 at syenar.hu  Wed Dec 16 17:20:53 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec 16 17:21:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13234] trunk/harbour
In-Reply-To: <02aa01ca7e9b$b7088520$3a3aa8c0@olszynka.pl>
References: <E1NJop2-0004GX-48@3kljzd1.ch3.sourceforge.com>
	<02aa01ca7e9b$b7088520$3a3aa8c0@olszynka.pl>
Message-ID: <431897F7-51A3-478A-92CC-397F7D6CE1FD@syenar.hu>

Hi Andrzej,

We're interfacing with Windows MAPI, and IMO such 
limits and other RFC details should be enforced by 
its low level code. MAPI is a very high level 
interface, almost similar to assembling a mail on 
the GUI (AFAIU). Moreover, MAPI supports more than 
just e-mail sending, see this page, which show an 
example for fax recipient:
   http://msdn.microsoft.com/en-us/library/dd296720(VS.85).aspx

It may also support internal mailing systems (f.e. 
MS Exchange) where RFC may not apply.

Probably that's the reason why Windows MAPI documentation 
doesn't say anything specifically about limits the interface 
itself poses. It says that MAPI_E_TOO_MANY_RECIPIENTS (and 
friends) is returned in such case.

See more here:
   http://msdn.microsoft.com/en-us/library/dd296721(VS.85).aspx

Someone should try, but if MAPI is a good internet 
citizen it should return error for > 100 plain SMTP 
e-mail recipients. But not necessarily for number of 
file attachments.

I can easily restore now any artificial limit if we 
don't trust MAPI to combat spam and conform with RFC.
Anyhow I think this is not this _wrappers_ job, and 
removing any limit actually added value to it.

Brdgs,
Viktor

On 2009 Dec 16, at 22:47, Andrzej P. Wozniak wrote:

> From:  <vszakats@users.sourceforge.net>
> Sent: Sunday, December 13, 2009 2:49 PM
> Subject: [Harbour] SF.net SVN: harbour-project:[13234] trunk/harbour
> 
>> Revision: 13234
>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13234&view=rev
>> Author:   vszakats
>> Date:     2009-12-13 13:49:14 +0000 (Sun, 13 Dec 2009)
>> 
>> Log Message:
>> -----------
>> 2009-12-13 14:46 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * contrib/hbwin/mapi.c
>>    + Added support for unlimited number of recipients and
>>      attached files. Please test and review.
> 
> Viktor, did you read RFC 5321 carefully, especially the section quoted
> below?
> 
> /----
> 4.5.3.1.8.  Recipients Buffer
> 
>   The minimum total number of recipients that MUST be buffered is 100
>   recipients.  Rejection of messages (for excessive recipients) with
>   fewer than 100 RCPT commands is a violation of this specification.
>   The general principle that relaying SMTP server MUST NOT, and
>   delivery SMTP servers SHOULD NOT, perform validation tests on message
>   header fields suggests that messages SHOULD NOT be rejected based on
>   the total number of recipients shown in header fields.  A server that
>   imposes a limit on the number of recipients MUST behave in an orderly
>   fashion, such as rejecting additional addresses over its limit rather
>   than silently discarding addresses previously accepted.  A client
>   that needs to deliver a message containing over 100 RCPT commands
>   SHOULD be prepared to transmit in 100-recipient "chunks" if the
>   server declines to accept more than 100 recipients in a single
>   message.
> \----
> 
> How do you manage 100-recipient chunks? To prevent spamming, many free 
> accounts have even non-standard restrictions, e.g. 20 emails per hour.
> 
> -- 
> Regards from The Harbour Project mirror in Poland
> Andrzej P. Wozniak
> 
> 
> 
> ------
> Darmowe statystyki stron www
> http://WEBstat.pl
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Dec 16 17:43:23 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec 16 17:43:34 2009
Subject: [Harbour] hb_xgrab( ULONG )
Message-ID: <CE9A49D2-D6D1-4709-8AE4-D0BD7878C8F5@syenar.hu>

Hi All,

hb_x*() functions are supposed to be replicas of 
std malloc functions, but hb_xgrab()/hb_x[re]alloc() 
expect an ULONG parameter, instead of size_t, like 
malloc do.

Shouldn't this be (eventually) fixed?

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Dec 16 18:03:08 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 16 18:03:16 2009
Subject: [Harbour] hb_xgrab( ULONG )
In-Reply-To: <CE9A49D2-D6D1-4709-8AE4-D0BD7878C8F5@syenar.hu>
References: <CE9A49D2-D6D1-4709-8AE4-D0BD7878C8F5@syenar.hu>
Message-ID: <20091216230308.GA29150@linux-4bod.home.aster.pl>

On Wed, 16 Dec 2009, Szak?ts Viktor wrote:

Hi,

> hb_x*() functions are supposed to be replicas of 
> std malloc functions, but hb_xgrab()/hb_x[re]alloc() 
> expect an ULONG parameter, instead of size_t, like 
> malloc do.
> Shouldn't this be (eventually) fixed?

It should be but for sure not now.
In all supported by us platforms it makes binary difference
only on Win64 but it opens series of other modifications so
it's not local only change which we can make just before new
release.

best regards,
Przemek
From harbour at os.pl  Wed Dec 16 17:22:00 2009
From: harbour at os.pl (Andrzej P. Wozniak)
Date: Wed Dec 16 18:06:52 2009
Subject: [Harbour] Internet standards and Harbour
Message-ID: <02ad01ca7ea4$6e5e71a0$3a3aa8c0@olszynka.pl>

Here are some remarks how to use Internet standards in programming and
documentation.

RFC
===

The only source for internet standards (RFC) is IETF and the website
ietf.org. You can get all the RFCs here: ftp://ietf.org/rfc/ and all current
drafts here:
ftp://ietf.org/internet-drafts/

For example:
ftp://ietf.org/rfc/rfc-index.txt - list of all RFCs and their status
ftp://ietf.org/rfc/std-index.txt  - list of all standard track RFCs
ftp://ietf.org/rfc/RFCs_for_errata.txt - list of all RFCs with errata

ftp://ietf.org/rfc/rfc4180.txt - Common Format and MIME Type for
Comma-Separated Values (CSV) (Status: INFORMATIONAL)
ftp://ietf.org/rfc/rfc1855.txt  - Netiquette Guidelines (Status:
INFORMATIONAL)

ftp://ietf.org/rfc/rfc5321.txt - Simple Mail Transfer Protocol (SMTP) (see
errata)
ftp://ietf.org/rfc/rfc5322.txt - Internet Message Format (see errata)
ftp://ietf.org/rfc/rfc5246.txt - The Transport Layer Security (TLS) Protocol
Version 1.2 (see errata)

ftp://ietf.org/rfc/rfc3977.txt - Network News Transfer Protocol (NNTP) (see
errata)
ftp://ietf.org/rfc/rfc5536.txt - Netnews Article Format (Usenet posts)
ftp://ietf.org/rfc/rfc5537.txt - Netnews Architecture and Protocols (Usenet
groups)
ftp://ietf.org/internet-drafts/draft-ellermann-news-nntp-uri-11.txt - The
'news' and 'nntp' URI Schemes (to be RFC5538)

RFC errata listing is generated here (ordered by RFC ids, 3 MB now):
http://www.rfc-editor.org/errata_list.php

For software developing only the current RFCs should be used, Non-standard
solutions or obsoleted standards (eg. RFC 822 or RFC 2822) should be used
only for compatibility reasons and clearly documented.

Note that there are some unstandardized extensions in common use, such as
PGPVERIFY mentioned in RFC 5537.

Character sets
==============
The names for charsets/codepages are registered by IANA here:
http://www.iana.org/assignments/character-sets
Note that the only names for Unicode charsets are written with dash (or
standard ASCII hyphen/minus in text/plain): UTF-7, UTF-8, UTF-16, UTF-32.
Only these names should be used in documentation. Use them also in
developing whenever it is possible. Any other names (e.g. UTF8) should be
used only for compatibility reasons and clearly documented.

Microsoft naming convention use names:
OEM - for DOS codepages (IANA registered IBMnnn, CPnnn charsets)
ANSI - for Windows codepages (IANA registered windows-nnnn charsets)
       (letter A as the last letter in function name)
WIDE - for UTF-16 charset (letter W as the last letter in function name)
Only these names should be used in documentation.

Note that "Unicode" name should never be used as a synonym for "UTF-16".

-- 
Regards from The Harbour Project mirror in Poland
Andrzej P. Wozniak




------
Darmowe statystyki stron www
http://WEBstat.pl

From ice at extreme.hu  Wed Dec 16 21:38:32 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Dec 16 21:38:44 2009
Subject: [Harbour] very strange compile error
Message-ID: <alpine.DEB.2.00.0912170252570.27623@dawn.royalcomp.hu>


hi,

while doing a new port, came across this:

g++   -DHB_OS_UNIXWARE -I. -I../../../../../include -D_SCO_DS -Wall -W 
  -O3   -o expropt1.o -c ../../../expropt1.c
../../../expropt1.c: In function `struct HB_EXPR_ * hb_compExprNewNegate(HB_EXPR_ *, _HB_COMMON *)':
../../../expropt1.c:1066: integer constant out of range

this only happens with g++. 2.95 is the only one there is, and it is 
entirely possible it is a compiler error, as it has other deficiencies 
it theoretically shouldn't.

the absolute minimal example that triggers the problem is:

$ cat y.c 

#include <limits.h>
#include <stdio.h>

int main( void )
{
    printf("%lld\n", LLONG_MAX);
    return 0;
}

$ cc y.c
$ ./a.out 
9223372036854775807
$ CC y.c
$ ./a.out 
9223372036854775807
$ gcc y.c 
$ ./a.out 
9223372036854775807
$ g++ y.c 
y.c: In function `int main()':
y.c:7: integer constant out of range
$ 

gcc version 2.95.3pl1 d - 20020710 (build) - OU8.0.1

does anyone perhaps have any idea?

thanks,

-- 
[-]

mkdir /nonexistent
From druzus at users.sourceforge.net  Wed Dec 16 21:45:12 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Dec 16 21:45:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13271] trunk/harbour
Message-ID: <E1NL6Ma-0001PW-Ul@74yxhf1.ch3.sourceforge.com>

Revision: 13271
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13271&view=rev
Author:   druzus
Date:     2009-12-17 02:45:11 +0000 (Thu, 17 Dec 2009)

Log Message:
-----------
2009-12-17 03:45 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/gtxwc/gtxwc.c
    ! fixed timeout checking in function taking text from clipboard.
      Due to typo it was waiting for XServer answer for 3 milliseconds
      instead of 3 seconds so sometimes it was too small even in local
      usage (i.e. when clipboard was accessed 1-st time by application
      and some internal XLib structures had to be initialized) and
      probably using remote XServers it was able to retrieve only the
      1-st type of selection (if any).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/gtxwc/gtxwc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Dec 16 21:48:21 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 16 21:48:28 2009
Subject: [Harbour] GTXWC clipboard paste: hang
In-Reply-To: <7FE5ECA5-79DF-4188-B78E-E446ED04AB9F@syenar.hu>
References: <AD2EC1E8-CA96-40B0-B81E-0D540C750CFB@syenar.hu>
	<20091216180031.GA27412@linux-4bod.home.aster.pl>
	<E81069FD-2AD0-4634-BFCB-9B34F4F4E3E5@syenar.hu>
	<7FE5ECA5-79DF-4188-B78E-E446ED04AB9F@syenar.hu>
Message-ID: <20091217024820.GA2098@linux-4bod.home.aster.pl>

On Wed, 16 Dec 2009, Szak?ts Viktor wrote:

Hi,

> I've just checked and same OS X GTXWC app picked what was 
> placed to clipboard before starting the app (or even 
> starting X11 for that matter).
> I'll keep an open eye to report any clipboard problems 
> here.

Please try it after:
   2009-12-17 03:45 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

best regards,
Przemek
From druzus at acn.waw.pl  Wed Dec 16 22:17:45 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 16 22:18:31 2009
Subject: [Harbour] very strange compile error
In-Reply-To: <alpine.DEB.2.00.0912170252570.27623@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0912170252570.27623@dawn.royalcomp.hu>
Message-ID: <20091217031745.GB2098@linux-4bod.home.aster.pl>

On Thu, 17 Dec 2009, Tamas TEVESZ wrote:

Hi,

> while doing a new port, came across this:
> g++   -DHB_OS_UNIXWARE -I. -I../../../../../include -D_SCO_DS -Wall -W 
>   -O3   -o expropt1.o -c ../../../expropt1.c
> ../../../expropt1.c: In function `struct HB_EXPR_ * hb_compExprNewNegate(HB_EXPR_ *, _HB_COMMON *)':
> ../../../expropt1.c:1066: integer constant out of range
> this only happens with g++. 2.95 is the only one there is, and it is 
> entirely possible it is a compiler error, as it has other deficiencies 
> it theoretically shouldn't.

Two possible reasons:
1. bug in g++ lexer
   If the results are correct and not stripped to 32 bits then
   it minor bug - this part is missing in your tests
2. when g++ is used then in header files LLONG_MAX constant
   is defined without LL suffix, i.e.:
      #define LLONG_MAX 9223372036854775807
   instead of:
      #define LLONG_MAX 9223372036854775807LL

In both cases it's not Harbour problem and if the results are correct
then you can ignore it. 2.95 is quite old version so I do not think
it should be reported to GCC authors but if it's the only port of GNUC
for SCO then you may want to do inform about it someone who manage it
so it can be cleaned.

   printf( "LLONG_MAX=%lld, [%lld], , [%lld]\n", LLONG_MAX,
           1234567890123456LL + 9000000000000000LL,
           8877665544332211LL );

should give you basic answer if such values are managed correctly by
compiler.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Dec 16 22:18:28 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 16 22:18:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13234] trunk/harbour
In-Reply-To: <E1NJop2-0004GX-48@3kljzd1.ch3.sourceforge.com>
References: <E1NJop2-0004GX-48@3kljzd1.ch3.sourceforge.com>
Message-ID: <20091217031828.GC2098@linux-4bod.home.aster.pl>

On Sun, 13 Dec 2009, vszakats@users.sourceforge.net wrote:

Hi,

> 2009-12-13 14:46 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * utils/hbmk2/hbmk2.prg
>     + Added support for linux/open64. (Please test)

Thank you very much. It works.

best regards,
Przemek
From ice at extreme.hu  Wed Dec 16 22:53:23 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Dec 16 22:53:31 2009
Subject: [Harbour] GTXWC clipboard paste: hang
In-Reply-To: <20091217024820.GA2098@linux-4bod.home.aster.pl>
References: <AD2EC1E8-CA96-40B0-B81E-0D540C750CFB@syenar.hu>
	<20091216180031.GA27412@linux-4bod.home.aster.pl>
	<E81069FD-2AD0-4634-BFCB-9B34F4F4E3E5@syenar.hu>
	<7FE5ECA5-79DF-4188-B78E-E446ED04AB9F@syenar.hu>
	<20091217024820.GA2098@linux-4bod.home.aster.pl>
Message-ID: <alpine.DEB.2.00.0912170433460.27623@dawn.royalcomp.hu>

On Thu, 17 Dec 2009, Przemys?aw Czerpak wrote:

hi,

 > > I've just checked and same OS X GTXWC app picked what was 
 > > placed to clipboard before starting the app (or even 
 > > starting X11 for that matter).
 > > I'll keep an open eye to report any clipboard problems 
 > > here.
 > 
 > Please try it after:
 >    2009-12-17 03:45 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

it is better now, in the sense that now the primary is retained and 
can be reliably read by hb, but a small artifact remains.

i am using a test along the lines of:

#include "inkey.ch"
#include "hbgtinfo.ch"

FUNCTION MAIN()

   REQUEST HB_GT_XWC, HB_GT_CRS, HB_GT_TRM

   hb_gtInfo( HB_GTI_CLOSABLE, .F. )
   hb_gtInfo( HB_GTI_WINTITLE, "X Clipboard/PrimarySelection test" )
   hb_gtInfo( HB_GTI_SELECTCOPY, .T. )
   hb_gtInfo( HB_GTI_RESIZABLE, .F. )

   @  1, 1 SAY "Copy in something (key)"
   InKey(0)

   @  2, 1 SAY "Clipboard data:"
   alert( hb_gtInfo( HB_GTI_CLIPBOARDDATA ) )

   @  3, 1 SAY "Copying in 'erglebergle' (key)"
   hb_gtInfo( HB_GTI_CLIPBOARDDATA, "erglebergle" )
   InKey(0)

   @  4, 1 SAY "Paste primary (key)"
   InKey(0)

   @  5, 1 SAY "Paste clipboard (key)"
   InKey(0)

   @  6, 1 SAY "In clipboard:"
   alert( HB_GTINFO( HB_GTI_CLIPBOARDDATA ) )

   @  8, 1 SAY "Exit (key)"

   InKey(0)

RETURN NIL 

(that is, you are supposed to do what it says by copying from and 
pasting into other clients when the test app says so)

the symptom is that when there is already data in the primary when 
this app is started, the first inkey(0) is immediately satisfied (and 
then it shows the correct content for the primary selection).

this doesn't happen absolutely always, but it does most of the time. 
if the primary is empty at app startup, then it never happens.

another artifact is that upon exit (i start it from an xterm), it 
leaves some garbage someplace, which which causes my xterm to 
disappear if i press middle button. it's nothing that i could catch 
with careful use of xxd waiting for some binary junk, what's more, at 
one occasion this even killed my windowmaker (ok, it's not the 
stablest wm in the world, but for a couple of month, since 
outstandings have been fixed, i've been having much less problems with 
it than i used to).

even worse, this doesn't seem to be tied to middle button events. i 
have had it by middle button, up arrow in shell, ^C in a shell line i 
decided not to execute...

so the guess it that *something* is there that causes clients to exit 
unexpectedly. it is not even sure that the client that exits is the 
one that has the focus (i was just at this moment playing with other 
xterms when this one that runs my mua decided it's been long since i 
last saw my desktop background...)


-- 
[-]

mkdir /nonexistent
From ice at extreme.hu  Wed Dec 16 23:10:08 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Dec 16 23:10:16 2009
Subject: [Harbour] very strange compile error
In-Reply-To: <20091217031745.GB2098@linux-4bod.home.aster.pl>
References: <alpine.DEB.2.00.0912170252570.27623@dawn.royalcomp.hu>
	<20091217031745.GB2098@linux-4bod.home.aster.pl>
Message-ID: <alpine.DEB.2.00.0912170453280.27623@dawn.royalcomp.hu>

On Thu, 17 Dec 2009, Przemys?aw Czerpak wrote:

hi,

 > > g++   -DHB_OS_UNIXWARE -I. -I../../../../../include -D_SCO_DS -Wall -W 
 > >   -O3   -o expropt1.o -c ../../../expropt1.c
 > > ../../../expropt1.c: In function `struct HB_EXPR_ * hb_compExprNewNegate(HB_EXPR_ *, _HB_COMMON *)':
 > > ../../../expropt1.c:1066: integer constant out of range

 > 2. when g++ is used then in header files LLONG_MAX constant
 >    is defined without LL suffix, i.e.:
 >       #define LLONG_MAX 9223372036854775807
 >    instead of:
 >       #define LLONG_MAX 9223372036854775807LL

this is it, thanks.

 > In both cases it's not Harbour problem and if the results are correct
 > then you can ignore it. 2.95 is quite old version so I do not think
 > it should be reported to GCC authors but if it's the only port of GNUC
 > for SCO then you may want to do inform about it someone who manage it

it's quite unlikely there's anyone left there :)

i have manually corrected the above issue, now we got a bit further, 
but it's starting again with errors that i think ever should be there 
in the first place (

g++  -pthread -L../../../../../lib/unixware/gcc   -o ../../../../../bin/unixware/gcc/hbpp hbpp.o -lhbnortl -lhbcommon -lm 
Undefined                       first referenced
symbol                              in file
std::exit(int)                      libhbnortl.a(nortl.o)
UX:ld: ERROR: Symbol referencing errors. No output written to ../../../../../bin/unixware/gcc/hbpp

wtf, no way this can be right)

this is so creepy that i think i'll give up on g++ as a compiler for 
now.

thanks for the hint, though, you teach me new stuff every day :)

-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Thu Dec 17 01:23:25 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 17 01:23:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13271] trunk/harbour
In-Reply-To: <E1NL6Ma-0001PW-Ul@74yxhf1.ch3.sourceforge.com>
References: <E1NL6Ma-0001PW-Ul@74yxhf1.ch3.sourceforge.com>
Message-ID: <2C536411-3754-47A4-BD2F-8E382957839D@syenar.hu>

Nice catch. This may explain why the problem seemed 
to be intermittent.

Brgds,
Viktor

On 2009 Dec 17, at 03:45, druzus@users.sourceforge.net wrote:

> Revision: 13271
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13271&view=rev
> Author:   druzus
> Date:     2009-12-17 02:45:11 +0000 (Thu, 17 Dec 2009)
> 
> Log Message:
> -----------
> 2009-12-17 03:45 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/rtl/gtxwc/gtxwc.c
>    ! fixed timeout checking in function taking text from clipboard.
>      Due to typo it was waiting for XServer answer for 3 milliseconds
>      instead of 3 seconds so sometimes it was too small even in local
>      usage (i.e. when clipboard was accessed 1-st time by application
>      and some internal XLib structures had to be initialized) and
>      probably using remote XServers it was able to retrieve only the
>      1-st type of selection (if any).
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/src/rtl/gtxwc/gtxwc.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Thu Dec 17 01:25:46 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 17 01:25:52 2009
Subject: [Harbour] Window Main X Window Modal X HBQT
In-Reply-To: <26818868.post@talk.nabble.com>
References: <26818868.post@talk.nabble.com>
Message-ID: <26823772.post@talk.nabble.com>


Hi


PCToledo wrote:
> 
> I compiled the file demoqt of HBQT and liked much, but I'm lost.
> 
> Someone could send a small example of how to create a Window Main and open
> it in a Window Modal?
> 

Try HBIDE and right clic k on <Harbour-Qt IDE> node of <Project Tree> and
select <Properties>.
It is a modal dialog in HBIDE's main window.

I hope I understood what you asked for.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/Window-Main-X-Window-Modal-X-HBQT-tp26818868p26823772.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Dec 17 02:01:29 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 17 02:01:41 2009
Subject: [Harbour] QT_PTROF()
Message-ID: <9B1D3F1C-1611-4798-BCB0-27C4B1391EE9@syenar.hu>

Hi Pritpal and All,

Can we somehow solve it to not require the use 
of QT_PTROF() when passing HBQT object references 
to other HBQT objects?

IMO this macro makes .prg programming more cryptic 
than necessary, and the whole code looks a little 
bit unusual and difficult to type.

Is it possible that low level code check for 
object type, class and extract this :pPtr 
member automatically?

so instead of this:
---
   oDA    := QWidget():new( QT_PTROF( oWnd ) )
   oWnd:setCentralWidget( QT_PTROF( oDA ) )

   oSBar  := QStatusBar():new( QT_PTROF( oWnd ) )
   oWnd:setStatusBar( QT_PTROF( oSBar ) )
   oSBar:showMessage( "Harbour-QT Statusbar Ready!" )
---

one could write this:
---
   oDA    := QWidget():new( oWnd )
   oWnd:setCentralWidget( oDA )

   oSBar  := QStatusBar():new( oWnd )
   oWnd:setStatusBar( oSBar )
   oSBar:showMessage( "Harbour-QT Statusbar Ready!" )
---

Brgds,
Viktor

From bedipritpal at hotmail.com  Thu Dec 17 02:22:19 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 17 02:22:26 2009
Subject: [Harbour] HB_TRACE() - How to invoke for PRG and C code separately
In-Reply-To: <20091216200156.GA26836@linux-4bod.home.aster.pl>
References: <26806243.post@talk.nabble.com>
	<1AF5BC15-44E7-427F-BB3B-FB5A295E545C@syenar.hu>
	<26815669.post@talk.nabble.com>
	<20091216200156.GA26836@linux-4bod.home.aster.pl>
Message-ID: <26824189.post@talk.nabble.com>


Hi


Przemys?aw Czerpak wrote:
> 
> On Wed, 16 Dec 2009, Pritpal Bedi wrote:
> -DHB_TR_LEVEL_* is compile time macro used to strip from source code
> by PP all HB_TRACE() massages which have bigger priority value.
> By default it's set to: HB_TR_LEVEL_WARNING what means that:
>    HB_TRACE(HB_TR_ALWAYS,  ... );   /* 0 */
>    HB_TRACE(HB_TR_FATAL,   ... );   /* 1 */
>    HB_TRACE(HB_TR_ERROR,   ... );   /* 2 */
>    HB_TRACE(HB_TR_WARNING, ... );   /* 3 */
> are compiled and included in final binaries and:
>    HB_TRACE(HB_TR_INFO,    ... );   /* 4 */
>    HB_TRACE(HB_TR_DEBUG,   ... );   /* 5 */
> are stripped by C preprocessor before compilation so no code is
> generated for them.
> 

Thanks Przemek for educating us how HB_TRACE works.

I, infact, could never understood its ins and outs so far.
Today I am equipped to exploit this tool in debugging.

Now I can trace PRG level calls in HBIDE with -D__HB_DEBUG__ define
which in turn invokes hb_TraceString( [x,,,,] ) which in turn executes
hb_tr_trace( HB_TR_ALWAYS,.. ).

But still I cannot capture HBQT HB_TRACE( HB_TR_DEBUG, ... ) calls.

HBQT compiles and shows up this in log:

gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer
-march=i586 -mtune=pentiumpro  -Ic:\Qt\2009.03\qt\include
-Ic:\Qt\2009.03\qt\include/QtCore -Ic:\Qt\2009.03\qt\include/QtGui
-Ic:\Qt\2009.03\qt\include/QtNetwork -D__HB_WINDEBUG__ -D__HB_DEBUG__
-DHB_FM_STATISTICS -DHB_TR_LEVEL_DEBUG -ohbqt_destruct.o -c
../../../hbqt_destruct.cpp
gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer
-march=i586 -mtune=pentiumpro  -Ic:\Qt\2009.03\qt\include
-Ic:\Qt\2009.03\qt\include/QtCore -Ic:\Qt\2009.03\qt\include/QtGui
-Ic:\Qt\2009.03\qt\include/QtNetwork -D__HB_WINDEBUG__ -D__HB_DEBUG__
-DHB_FM_STATISTICS -DHB_TR_LEVEL_DEBUG -ohbqt_events.o -c
../../../hbqt_events.cpp

which amply shows that HB_TR_LEVEL_DEBUG is passed to the compiler.

Other envar set are : HB_TR_WINOUT=1

What I am missing ?
Note that I am looking at output rendered by OutputDebugString() call in
hbtrace.c.

Moreover, in PRG level trace shows up info as:

trace.c:96: HB_TR_ALWAYS          0 Destroy: XBPTOOLBAR      1375326     
20376

and there trace.c:96 is the wrong info.



Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/HB_TRACE%28%29---How-to-invoke-for-PRG-and-C-code-separately-tp26806243p26824189.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Dec 17 02:46:43 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 17 02:46:50 2009
Subject: [Harbour] QT_PTROF()
In-Reply-To: <9B1D3F1C-1611-4798-BCB0-27C4B1391EE9@syenar.hu>
References: <9B1D3F1C-1611-4798-BCB0-27C4B1391EE9@syenar.hu>
Message-ID: <26824379.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> Can we somehow solve it to not require the use 
> of QT_PTROF() when passing HBQT object references 
> to other HBQT objects?
> 
> IMO this macro makes .prg programming more cryptic 
> than necessary, and the whole code looks a little 
> bit unusual and difficult to type.
> 
> Is it possible that low level code check for 
> object type, class and extract this :pPtr 
> member automatically?
> 
> so instead of this:
> ---
>    oDA    := QWidget():new( QT_PTROF( oWnd ) )
>    oWnd:setCentralWidget( QT_PTROF( oDA ) )
> 
>    oSBar  := QStatusBar():new( QT_PTROF( oWnd ) )
>    oWnd:setStatusBar( QT_PTROF( oSBar ) )
>    oSBar:showMessage( "Harbour-QT Statusbar Ready!" )
> ---
> 
> one could write this:
> ---
>    oDA    := QWidget():new( oWnd )
>    oWnd:setCentralWidget( oDA )
> 
>    oSBar  := QStatusBar():new( oWnd )
>    oWnd:setStatusBar( oSBar )
>    oSBar:showMessage( "Harbour-QT Statusbar Ready!" )
> ---
> 

This is the natural way if I could have achieved it this way.
Actually I started it like this, also Marcos extended this idea, 
but because of the classes generated auto, this was not possible.

Let me explain it why:

We create a new object and it is a Harbour object.
Qt's wrappers accept only pointers.
Qt's wrapper functions are combination of pointer as well as other types of
parameters.
At the level of auto generation of code, it is not analyzed which is a
pointer, and which 
   is a non pointer.
If it is analyzed at the time of generation, then class methods have to be
adjusted 
  to entertain this phenomena. Class method will have to analyse every
parameters
  if it is a pointer or otherwise.

Actually I could not find a way to achieve it, though I tried a lot.
Anyhow, at present I have an idea how to achieve it, I will give it another
thought.

Regards
Pritpal Bedi






-- 
View this message in context: http://old.nabble.com/QT_PTROF%28%29-tp26824045p26824379.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Dec 17 02:56:48 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 17 02:57:07 2009
Subject: [Harbour] QT_PTROF()
In-Reply-To: <26824379.post@talk.nabble.com>
References: <9B1D3F1C-1611-4798-BCB0-27C4B1391EE9@syenar.hu>
	<26824379.post@talk.nabble.com>
Message-ID: <33CEF08F-948B-4B84-88D9-DC5E3389AEDE@syenar.hu>

>> so instead of this:
>> ---
>>   oDA    := QWidget():new( QT_PTROF( oWnd ) )
>>   oWnd:setCentralWidget( QT_PTROF( oDA ) )
>> 
>>   oSBar  := QStatusBar():new( QT_PTROF( oWnd ) )
>>   oWnd:setStatusBar( QT_PTROF( oSBar ) )
>>   oSBar:showMessage( "Harbour-QT Statusbar Ready!" )
>> ---
>> 
>> one could write this:
>> ---
>>   oDA    := QWidget():new( oWnd )
>>   oWnd:setCentralWidget( oDA )
>> 
>>   oSBar  := QStatusBar():new( oWnd )
>>   oWnd:setStatusBar( oSBar )
>>   oSBar:showMessage( "Harbour-QT Statusbar Ready!" )
>> ---
>> 
> 
> This is the natural way if I could have achieved it this way.
> Actually I started it like this, also Marcos extended this idea, 
> but because of the classes generated auto, this was not possible.
> 
> Let me explain it why:
> 
> We create a new object and it is a Harbour object.
> Qt's wrappers accept only pointers.
> Qt's wrapper functions are combination of pointer as well as other types of
> parameters.
> At the level of auto generation of code, it is not analyzed which is a
> pointer, and which 
>   is a non pointer.
> If it is analyzed at the time of generation, then class methods have to be
> adjusted 
>  to entertain this phenomena. Class method will have to analyse every
> parameters
>  if it is a pointer or otherwise.
> 
> Actually I could not find a way to achieve it, though I tried a lot.
> Anyhow, at present I have an idea how to achieve it, I will give it another
> thought.

Maybe I'm missing something, but each method which 
accepts :pPtr parameter could use a hb_par_*() function 
variation which would check for object type, maybe 
class name, and simply extract :pPtr from object in 
C code.

Brgds,
Viktor

From druzus at acn.waw.pl  Thu Dec 17 04:01:28 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec 17 04:01:35 2009
Subject: [Harbour] HB_TRACE() - How to invoke for PRG and C code separately
In-Reply-To: <26824189.post@talk.nabble.com>
References: <26806243.post@talk.nabble.com>
	<1AF5BC15-44E7-427F-BB3B-FB5A295E545C@syenar.hu>
	<26815669.post@talk.nabble.com>
	<20091216200156.GA26836@linux-4bod.home.aster.pl>
	<26824189.post@talk.nabble.com>
Message-ID: <20091217090128.GA5254@linux-4bod.home.aster.pl>

On Wed, 16 Dec 2009, Pritpal Bedi wrote:

Hi,

> Now I can trace PRG level calls in HBIDE with -D__HB_DEBUG__ define
> which in turn invokes hb_TraceString( [x,,,,] ) which in turn executes
> hb_tr_trace( HB_TR_ALWAYS,.. ).
> But still I cannot capture HBQT HB_TRACE( HB_TR_DEBUG, ... ) calls.
> HBQT compiles and shows up this in log:
> gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer
> -march=i586 -mtune=pentiumpro  -Ic:\Qt\2009.03\qt\include
> -Ic:\Qt\2009.03\qt\include/QtCore -Ic:\Qt\2009.03\qt\include/QtGui
> -Ic:\Qt\2009.03\qt\include/QtNetwork -D__HB_WINDEBUG__ -D__HB_DEBUG__
> -DHB_FM_STATISTICS -DHB_TR_LEVEL_DEBUG -ohbqt_destruct.o -c
> ../../../hbqt_destruct.cpp

I have no idea what __HB_WINDEBUG__ does. As I can see it's not used at all.
__HB_DEBUG__ is you own macro used in hbqt.ch to disable HBQT_DEBUG() debug
messages  in .prg code so it does not have to be passed to compile C code.
Remove both from your HB_USER_CFLAG settings.

> which amply shows that HB_TR_LEVEL_DEBUG is passed to the compiler.

And this is correct so all HB_TR_DEBUG level HB_TRACE() messages are
not stripped at compile time by C preprocessor and later can be enabled
at runtime.

> Other envar set are : HB_TR_WINOUT=1
> What I am missing ?
> Note that I am looking at output rendered by OutputDebugString() call in
> hbtrace.c.
> Moreover, in PRG level trace shows up info as:
> trace.c:96: HB_TR_ALWAYS          0 Destroy: XBPTOOLBAR      1375326     
> 20376
> and there trace.c:96 is the wrong info.

You forgot to switch the runtime HB_TRACE message filter level so it's
still set to HB_TR_WARNING and ignores all massages having HB_TR_INFO or
HB_TR_DEBUG level.
   set HB_TR_LEVEL=DEBUG
change this filter from WARNING to DEBUG level.
Just make few tests with code example I sent using different compiletime
and runtime filters.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Dec 17 04:08:41 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 17 04:08:53 2009
Subject: [Harbour] HB_TRACE() - How to invoke for PRG and C code separately
In-Reply-To: <20091217090128.GA5254@linux-4bod.home.aster.pl>
References: <26806243.post@talk.nabble.com>
	<1AF5BC15-44E7-427F-BB3B-FB5A295E545C@syenar.hu>
	<26815669.post@talk.nabble.com>
	<20091216200156.GA26836@linux-4bod.home.aster.pl>
	<26824189.post@talk.nabble.com>
	<20091217090128.GA5254@linux-4bod.home.aster.pl>
Message-ID: <76A4573E-3051-469A-99FF-453ED7272441@syenar.hu>

>> Now I can trace PRG level calls in HBIDE with -D__HB_DEBUG__ define
>> which in turn invokes hb_TraceString( [x,,,,] ) which in turn executes
>> hb_tr_trace( HB_TR_ALWAYS,.. ).
>> But still I cannot capture HBQT HB_TRACE( HB_TR_DEBUG, ... ) calls.
>> HBQT compiles and shows up this in log:
>> gcc   -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer
>> -march=i586 -mtune=pentiumpro  -Ic:\Qt\2009.03\qt\include
>> -Ic:\Qt\2009.03\qt\include/QtCore -Ic:\Qt\2009.03\qt\include/QtGui
>> -Ic:\Qt\2009.03\qt\include/QtNetwork -D__HB_WINDEBUG__ -D__HB_DEBUG__
>> -DHB_FM_STATISTICS -DHB_TR_LEVEL_DEBUG -ohbqt_destruct.o -c
>> ../../../hbqt_destruct.cpp
> 
> I have no idea what __HB_WINDEBUG__ does. As I can see it's not used at all.
> __HB_DEBUG__ is you own macro used in hbqt.ch to disable HBQT_DEBUG() debug
> messages  in .prg code so it does not have to be passed to compile C code.
> Remove both from your HB_USER_CFLAG settings.

__HB_WINDEBUG__ does nothing anymore. It was a temp 
solution and has been removed last week. It's superceded 
by HB_TR_WINOUT envvar. (these steps were documented 
in ChangeLog, for interested parties, most importantly 
Pritpal)

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Dec 17 04:36:05 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 17 04:36:39 2009
Subject: [Harbour] hb_xgrab( ULONG )
In-Reply-To: <20091216230308.GA29150@linux-4bod.home.aster.pl>
References: <CE9A49D2-D6D1-4709-8AE4-D0BD7878C8F5@syenar.hu>
	<20091216230308.GA29150@linux-4bod.home.aster.pl>
Message-ID: <54D79EE3-8152-481F-A70F-CFFE68C63968@syenar.hu>

>> hb_x*() functions are supposed to be replicas of 
>> std malloc functions, but hb_xgrab()/hb_x[re]alloc() 
>> expect an ULONG parameter, instead of size_t, like 
>> malloc do.
>> Shouldn't this be (eventually) fixed?
> 
> It should be but for sure not now.
> In all supported by us platforms it makes binary difference
> only on Win64 but it opens series of other modifications so
> it's not local only change which we can make just before new
> release.

Okay, this is in sync with my idea, after 
release we can get back to it.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Dec 17 04:43:13 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 17 04:43:37 2009
Subject: [Harbour] Release notes/questions
Message-ID: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>

Hi All,

If we want to get the release out before 
xmas, I think we should now go to freeze 
officially and commit _fixes_ only, and 
most importantly _build fixes_.

Some preliminary notes/questions about the release:

- Embedded TDM dwarf-2 build doesn't work 
  with hbmk2 and I'm not sure it would be 
  good to include anyway a "double decker" 
  C compiler (with both gcc.exe and gcc-dw2.exe).
  (Plus it needs some heavier changes in hbmk2 code)
  Which means the official MinGW release 
  could only be used, but I doubt there will be 
  enough time to test it generally or test 
  it for embedded purposes. The installation is 
  extremely cumbersome and error prone as I wrote.
  Moreover I reported warning with QT 4.6 and MSVC, 
  and no one reacted, which means it's unlikely 
  to be fixed in a few days. MSVC + QT 4.6 is also 
  not fully tested or all linkage C RTL issues 
  fully cleared.
  This means the 2.0.0 windows binary release will support 
     QT 4.5.x.
  Anyone has any issue with this?
- whatsnew.txt is lacking, so unless someone 
  wants to deal with it in next few days, I'll add 
  a text saying:
  "and a lot more feature to be detailed later" 
  or alike.
- If the binary release is up to me, I'll 
  leave out DJGPP build, since I don't possess a 
  dev environment for it anymore. watcom/dos build 
  can be included, but I'm not sure if it's 
  worth it.
- Should we include watcom/os2 and watcom/linux
  in final win binary release? IMO the only 
  reason is for technological showcase, but 
  I doubt any win users would actually use these.
  Leaving it out saves build time, package size 
  and upload/download time.

Brgds,
Viktor

From pct_hbqt at hotmail.com  Thu Dec 17 04:46:04 2009
From: pct_hbqt at hotmail.com (PCToledo)
Date: Thu Dec 17 04:46:14 2009
Subject: [Harbour] Window Main X Window Modal X HBQT
In-Reply-To: <26823772.post@talk.nabble.com>
References: <26818868.post@talk.nabble.com> <26823772.post@talk.nabble.com>
Message-ID: <26825519.post@talk.nabble.com>



Pritpal Bedi wrote:
> 
> Hi
> 
> 
> PCToledo wrote:
>> 
>> I compiled the file demoqt of HBQT and liked much, but I'm lost.
>> 
>> Someone could send a small example of how to create a Window Main and
>> open it in a Window Modal?
>> 
> 
> Try HBIDE and right clic k on <Harbour-Qt IDE> node of <Project Tree> and
> select <Properties>.
> It is a modal dialog in HBIDE's main window.
> 
> I hope I understood what you asked for.
> 
> Regards
> Pritpal Bedi
> 

Pritpal Bedi, thanks for the help, but I wanted a code example of modal
window

My code:
/*----------------------------------------------------------------------*/
#include "hbqt.ch"
#include "common.ch"

#define QT_EVE_TRIGGERED_B           "triggered(bool)"

STATIC oApplication

/*----------------------------------------------------------------------*/
INIT PROCEDURE Qt_Start()
   oApplication := QApplication():new()
   RETURN

EXIT PROCEDURE Qt_End()
   oApplication:quit()
   RETURN

Procedure Main()

   Local oMainWindow, oStatusBar, oStatusTit, oMenuBar, oMenuFile

   oMainWindow := QMainWindow():New()

   oMainWindow:setMouseTracking( .t. )
   oMainWindow:SetWindowTitle("Program title")

   oStatusBar := QStatusBar():new(QT_PTROF(oMainWindow))

   oStatusTit := QLabel():new()
   oStatusTit:setText(" PCToledo Sistemas - suporte@pctoledo.com.br")
   oStatusTit:setMinimumSize(oStatusTit:sizeHint())

   oStatusBar:addWidget(QT_PTROF(oStatusTit),1)

   oMainWindow:setStatusBar( QT_PTROF(oStatusBar) )
   oStatusBar:setSizeGripEnabled(.f.)

   oMenuBar := QMenuBar():new()
   oMenuBar:resize( oMainWindow:width(), 25 )

   oMenuFile := QMenu():new()
   oMenuFile:setTitle("&File")

   Qt_Connect_Signal( oMenuFile:AddAction("&Exit"), QT_EVE_TRIGGERED_B, {||
oMainWindow:close() })
   oMenuBar:addMenu( QT_PTROF( oMenuFile ) )

   oMainWindow:setMenuBar( QT_PTROF( oMenuBar ) )

   IF PassWord(oMainWindow)
     //valid password
   ELSE
     //Invalid Password
   ENDIF

   oMainWindow:showMaximized()

   oApplication:Exec()

Return

STATIC FUNCTION PassWord()
Local Ret:=.T.

/* How to create a modal window here?  I want a code example.

example:
+--------------------------------+
| Enter your password...         |
|                                |
| Name: ______________________   |
| Password: __________________   |
|                                |
|                 +----------+   |
|                 |    Ok    |   |
|                 +----------+   |
+--------------------------------+
*/

Return (Ret)
/*----------------------------------------------------------------------*/

Regards

-----
Toledo
http://www.pctoledo.com.br/forum http://www.pctoledo.com.br/forum 
-- 
View this message in context: http://old.nabble.com/Window-Main-X-Window-Modal-X-HBQT-tp26818868p26825519.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Dec 17 05:33:04 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 17 05:33:10 2009
Subject: [Harbour] Window Main X Window Modal X HBQT
In-Reply-To: <26825519.post@talk.nabble.com>
References: <26818868.post@talk.nabble.com> <26823772.post@talk.nabble.com>
	<26825519.post@talk.nabble.com>
Message-ID: <26826009.post@talk.nabble.com>


Hi


PCToledo wrote:
> 
> /* How to create a modal window here?  I want a code example.
> 
> example:
> +--------------------------------+
> | Enter your password...         |
> |                                |
> | Name: ______________________   |
> | Password: __________________   |
> |                                |
> |                 +----------+   |
> |                 |    Ok    |   |
> |                 +----------+   |
> +--------------------------------+
> */
> 
> Return (Ret)
> /*----------------------------------------------------------------------*/
> 

Yes, I pointed you out in that direction.
Examine hbide.prg and its anciliary .prgs, you will find the code examples.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/Window-Main-X-Window-Modal-X-HBQT-tp26818868p26826009.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From toninhofwi at yahoo.com.br  Thu Dec 17 05:45:45 2009
From: toninhofwi at yahoo.com.br (Antonio Carlos)
Date: Thu Dec 17 05:45:52 2009
Subject: [Harbour] Problems in WIN_MAPISENDMAIL()
In-Reply-To: <E4A783D8-E7E3-4597-9749-C29959BA83B8@syenar.hu>
Message-ID: <578373.35543.qm@web33708.mail.mud.yahoo.com>

Hi Viktor.

Sorry for later response. This end of year I?m very very busy.

I?m using BCC 6.2. To use MAPI you need OutLook Express instaled and configured at least one account. Some time ago I try with another mail program like incredible mail but MAPI doesn?t work.

Best Regards,

Toninho.


--- Em qua, 16/12/09, Viktor Szak?ts <harbour.01@syenar.hu> escreveu:

> De: Viktor Szak?ts <harbour.01@syenar.hu>
> Assunto: Re: [Harbour] Problems in WIN_MAPISENDMAIL()
> Para: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data: Quarta-feira, 16 de Dezembro de 2009, 14:49
> Hi Toninho,
> 
> What compiler are you using?
> 
> Brgds,
> Viktor
> 
> On 2009 Dec 16, at 17:25, ToninhoFWi wrote:
> 
> >> Yes, recipients are ok. Senders and attachments
> not.
> > 
> > Hi Enrico.
> > 
> > Attach works fine too, look:
> > 
> > ---cut---
> > Win_MAPISendMail( "Subject TEST",? ? ?
> ? ? ? ? ? ? ? ?
> ? ???; //
> > subject
> >? ? ? ? ? ? ?
> ???"BODY Text Message here!",? ?
> ? ? ? ? ? ???; //
> > menssage
> >? ? ? ? ? ? ?
> ???nil,? ? ? ? ?
> ? ? ? ? ? ? ? ?
> ? ? ? ? ? ???; //
> type
> > of message
> >? ? ? ? ? ? ?
> ???DtoS( Date() ) + " " + Time(),?
> ? ? ? ? ???; // send
> > date
> >? ? ? ? ? ? ?
> ???"",? ? ? ? ?
> ? ? ? ? ? ? ? ?
> ? ? ? ? ? ? ? ; //
> > conversation ID
> >? ? ? ? ? ? ?
> ???.f.,? ? ? ? ?
> ? ? ? ? ? ? ? ?
> ? ? ? ? ? ???; //
> > acknowledgment
> >? ? ? ? ? ? ?
> ???.t.,? ? ? ? ?
> ? ? ? ? ? ? ? ?
> ? ? ? ? ? ???; //
> user
> > intervention
> >? ? ? ? ? ? ?
> ???{},? ? ? ? ?
> ? ? ? ? ? ? ? ?
> ? ? ? ? ? ? ? ; //
> > sender
> >? ? ? ? ? ? ?
> ???{ { "Toninho", "toninho@fwi.com.br",
> 1 } },; //
> > destinators
> >? ? ? ? ? ? ?
> ???{ { "Report View", "c:\listagem.pdf" }
> }???; //
> > attach
> >? ? ? ? ? ?
> ???)
> > ---cut---
> > 
> > and you can sent multiple attachments.
> > 
> > Sender are not changed in windows vista, but the code
> is right, maybe
> > MAPI dont cnahge sender, I'm looking about this.
> > 
> > Regards,
> > 
> > Toninho.
> > 
> > __________________________________________________
> > Fa?a liga??es para outros computadores com o novo
> Yahoo! Messenger
> > http://br.beta.messenger.yahoo.com/
> > 
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 


      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
From druzus at acn.waw.pl  Thu Dec 17 05:48:07 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec 17 05:48:14 2009
Subject: [Harbour] GTXWC clipboard paste: hang
In-Reply-To: <alpine.DEB.2.00.0912170433460.27623@dawn.royalcomp.hu>
References: <AD2EC1E8-CA96-40B0-B81E-0D540C750CFB@syenar.hu>
	<20091216180031.GA27412@linux-4bod.home.aster.pl>
	<E81069FD-2AD0-4634-BFCB-9B34F4F4E3E5@syenar.hu>
	<7FE5ECA5-79DF-4188-B78E-E446ED04AB9F@syenar.hu>
	<20091217024820.GA2098@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0912170433460.27623@dawn.royalcomp.hu>
Message-ID: <20091217104807.GA18626@linux-4bod.home.aster.pl>

On Thu, 17 Dec 2009, Tamas TEVESZ wrote:

Hi,

> the symptom is that when there is already data in the primary when 
> this app is started, the first inkey(0) is immediately satisfied (and 
> then it shows the correct content for the primary selection).
> 
> this doesn't happen absolutely always, but it does most of the time. 
> if the primary is empty at app startup, then it never happens.

I cannot replicate it but I guess what can be source of such behavior
and it's not related to selection code.
If you replace in your code 'InKey(0)' with '?? InKey(0)' then we
can see the keycode returned in such case. I think it's 1101 (K_RESIZE)
which can be generated on some slower system if ConfigureNotify is
delivered during initial window creating. It's nothing wrong but
of course I'll clean it.

> another artifact is that upon exit (i start it from an xterm), it 
> leaves some garbage someplace, which which causes my xterm to 
> disappear if i press middle button. it's nothing that i could catch 
> with careful use of xxd waiting for some binary junk, what's more, at 
> one occasion this even killed my windowmaker (ok, it's not the 
> stablest wm in the world, but for a couple of month, since 
> outstandings have been fixed, i've been having much less problems with 
> it than i used to).
> even worse, this doesn't seem to be tied to middle button events. i 
> have had it by middle button, up arrow in shell, ^C in a shell line i 
> decided not to execute...
> so the guess it that *something* is there that causes clients to exit 
> unexpectedly. it is not even sure that the client that exits is the 
> one that has the focus (i was just at this moment playing with other 
> xterms when this one that runs my mua decided it's been long since i 
> last saw my desktop background...)

Your VM crashes when selection owner does not response. I'll add code
to disable own selection in GTXWC exit phase and I hope it will help
anyhow real fix should be done in WM code because your description
suggests that it may have very serious problems and even crash if
selection owner terminates suddenly without clearing the selection
i.e. due to delivered asynchronous signal (killall myapp).

I'll commit these modifications in a while.
Please test if they resolve all your problems. I cannot replicate
any of them in my local machine.

best regards,
Przemek
From vouchcac at users.sourceforge.net  Thu Dec 17 05:53:04 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Dec 17 05:53:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13272]
	trunk/harbour/contrib/hbqt/qtcore
Message-ID: <E1NLDyi-0001Ai-Ai@c3vjzd1.ch3.sourceforge.com>

Revision: 13272
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13272&view=rev
Author:   vouchcac
Date:     2009-12-17 10:53:03 +0000 (Thu, 17 Dec 2009)

Log Message:
-----------
  * Commit 1, next follows.

Modified Paths:
--------------
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractItemModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractListModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractTableModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQBitArray.prg
    trunk/harbour/contrib/hbqt/qtcore/TQByteArray.prg
    trunk/harbour/contrib/hbqt/qtcore/TQCoreApplication.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDataStream.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDate.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDateTime.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDir.prg
    trunk/harbour/contrib/hbqt/qtcore/TQEvent.prg
    trunk/harbour/contrib/hbqt/qtcore/TQEventLoop.prg
    trunk/harbour/contrib/hbqt/qtcore/TQFile.prg
    trunk/harbour/contrib/hbqt/qtcore/TQFileInfo.prg
    trunk/harbour/contrib/hbqt/qtcore/TQIODevice.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLatin1Char.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLatin1String.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLine.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLineF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQList.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLocale.prg
    trunk/harbour/contrib/hbqt/qtcore/TQMimeData.prg
    trunk/harbour/contrib/hbqt/qtcore/TQModelIndex.prg
    trunk/harbour/contrib/hbqt/qtcore/TQObject.prg
    trunk/harbour/contrib/hbqt/qtcore/TQPoint.prg
    trunk/harbour/contrib/hbqt/qtcore/TQPointF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQProcess.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRect.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRectF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRegExp.prg
    trunk/harbour/contrib/hbqt/qtcore/TQResource.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSignalMapper.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSize.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSizeF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQStringList.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextBoundaryFinder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextCodec.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextDecoder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextEncoder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextStream.prg
    trunk/harbour/contrib/hbqt/qtcore/TQThread.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTime.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTimer.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTranslator.prg
    trunk/harbour/contrib/hbqt/qtcore/TQUiLoader.prg
    trunk/harbour/contrib/hbqt/qtcore/TQUrl.prg
    trunk/harbour/contrib/hbqt/qtcore/TQVariant.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Thu Dec 17 05:55:00 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Dec 17 05:55:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13273] trunk/harbour
Message-ID: <E1NLE0a-0001Dj-Pq@c3vjzd1.ch3.sourceforge.com>

Revision: 13273
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13273&view=rev
Author:   druzus
Date:     2009-12-17 10:54:58 +0000 (Thu, 17 Dec 2009)

Log Message:
-----------
2009-12-17 11:54 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/gtxwc/gtxwc.c
    ! added protection against putting K_RESIZE into keyboard queue
      if XServer generates ConfigureNotify event but window size is not
      changed
    ! clear own selections on application exit - looks that some WMs have
      problems when selection owner does not response and can even crash.
      Please remember that some WMs periodically (i.e. once per second)
      create copy of existing selections to his own structures so it's
      later available even if selection owner terminates. This is VM
      behavior which is not controlled by Harbour GTXWC code so selection
      set by Harbour application is available after its termination only
      if such Window Manager is used and it has enough time to make
      selection copy.
    ! use hb_cdpFindExt() instead of hb_cdpFind() to find UTF8 CP
      It fixes national character translations in selections (clipboard)
      broken during recent modifications for new CDP API.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/gtxwc/gtxwc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Thu Dec 17 06:00:02 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Dec 17 06:00:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13274]
	trunk/harbour/contrib/hbqt
Message-ID: <E1NLE5S-0001LH-ET@c3vjzd1.ch3.sourceforge.com>

Revision: 13274
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13274&view=rev
Author:   vouchcac
Date:     2009-12-17 11:00:00 +0000 (Thu, 17 Dec 2009)

Log Message:
-----------
  * Commit 2, last follows.

Modified Paths:
--------------
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractItemDelegate.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractItemView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractPrintDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractProxyModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractScrollArea.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractTextDocumentLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAction.prg
    trunk/harbour/contrib/hbqt/qtgui/TQActionGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQApplication.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBitmap.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBrush.prg
    trunk/harbour/contrib/hbqt/qtgui/TQButtonGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCalendarWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCheckBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQClipboard.prg
    trunk/harbour/contrib/hbqt/qtgui/TQColor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQColorDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCommandLinkButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCommonStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCompleter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQConicalGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQContextMenuEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCursor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDateEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDateTimeEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDesktopWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDial.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDirModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDockWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDoubleSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragEnterEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragLeaveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragMoveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDropEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQErrorMessage.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileIconProvider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileSystemModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFocusEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFocusFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFont.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontDatabase.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontInfo.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontMetrics.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontMetricsF.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFormLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGridLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGroupBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHeaderView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHelpEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQIcon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImage.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImageReader.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImageWriter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputContext.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputMethodEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQItemSelection.prg
    trunk/harbour/contrib/hbqt/qtgui/TQItemSelectionModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQKeyEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQKeySequence.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLCDNumber.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLabel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLayoutItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLineEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLinearGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMainWindow.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMatrix.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMenu.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMenuBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMessageBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMouseEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMoveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMovie.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPageSetupDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPaintDevice.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPaintEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPainter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPainterPath.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPalette.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPen.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPicture.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPixmap.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPlainTextEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPolygon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPolygonF.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintEngine.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintPreviewDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrinter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQProgressBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQProgressDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPushButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRadialGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRadioButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRegion.prg
    trunk/harbour/contrib/hbqt/qtgui/TQResizeEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQScrollArea.prg
    trunk/harbour/contrib/hbqt/qtgui/TQScrollBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSessionManager.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSizeGrip.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSizePolicy.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSound.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSpacerItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSplashScreen.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSplitter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStandardItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStandardItemModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStatusBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStringListModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleFactory.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturn.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturnMask.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturnVariant.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOption.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionComplex.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionDockWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionFocusRect.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionGroupBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionHeader.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionMenuItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionProgressBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSizeGrip.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTab.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTabBarBase.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTabWidgetFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTitleBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionViewItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStylePainter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyledItemDelegate.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSyntaxHighlighter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSystemTrayIcon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTabBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTabWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidgetSelectionRange.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlock.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlockFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlockGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBrowser.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextCharFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextCursor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocument.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocumentFragment.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocumentWriter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFragment.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFrameFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextImageFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextInlineObject.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLength.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLine.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextListFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextObject.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextOption.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextTableFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTimeEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTransform.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQVBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQValidator.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWheelEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidgetAction.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWindowsStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWizard.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWizardPage.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQFtp.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttp.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpRequestHeader.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpResponseHeader.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQNetworkRequest.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Thu Dec 17 06:04:46 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Dec 17 06:04:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13275] trunk/harbour
Message-ID: <E1NLEA2-0001T7-0Z@c3vjzd1.ch3.sourceforge.com>

Revision: 13275
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13275&view=rev
Author:   vouchcac
Date:     2009-12-17 11:04:37 +0000 (Thu, 17 Dec 2009)

Log Message:
-----------
2009-12-17 02:06 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/filelist.mk
  + contrib/hbqt/hbqt_misc.prg

  * contrib/hbqt/generator/hbqtgen.prg

  * contrib/hbqt/qtcore/TQAbstractItemModel.prg
  * contrib/hbqt/qtcore/TQAbstractListModel.prg
  * contrib/hbqt/qtcore/TQAbstractTableModel.prg
  * contrib/hbqt/qtcore/TQBitArray.prg
  * contrib/hbqt/qtcore/TQByteArray.prg
  * contrib/hbqt/qtcore/TQCoreApplication.prg
  * contrib/hbqt/qtcore/TQDataStream.prg
  * contrib/hbqt/qtcore/TQDate.prg
  * contrib/hbqt/qtcore/TQDateTime.prg
  * contrib/hbqt/qtcore/TQDir.prg
  * contrib/hbqt/qtcore/TQEvent.prg
  * contrib/hbqt/qtcore/TQEventLoop.prg
  * contrib/hbqt/qtcore/TQFile.prg
  * contrib/hbqt/qtcore/TQFileInfo.prg
  * contrib/hbqt/qtcore/TQIODevice.prg
  * contrib/hbqt/qtcore/TQLatin1Char.prg
  * contrib/hbqt/qtcore/TQLatin1String.prg
  * contrib/hbqt/qtcore/TQLine.prg
  * contrib/hbqt/qtcore/TQLineF.prg
  * contrib/hbqt/qtcore/TQList.prg
  * contrib/hbqt/qtcore/TQLocale.prg
  * contrib/hbqt/qtcore/TQMimeData.prg
  * contrib/hbqt/qtcore/TQModelIndex.prg
  * contrib/hbqt/qtcore/TQObject.prg
  * contrib/hbqt/qtcore/TQPoint.prg
  * contrib/hbqt/qtcore/TQPointF.prg
  * contrib/hbqt/qtcore/TQProcess.prg
  * contrib/hbqt/qtcore/TQRect.prg
  * contrib/hbqt/qtcore/TQRectF.prg
  * contrib/hbqt/qtcore/TQRegExp.prg
  * contrib/hbqt/qtcore/TQResource.prg
  * contrib/hbqt/qtcore/TQSignalMapper.prg
  * contrib/hbqt/qtcore/TQSize.prg
  * contrib/hbqt/qtcore/TQSizeF.prg
  * contrib/hbqt/qtcore/TQStringList.prg
  * contrib/hbqt/qtcore/TQTextBoundaryFinder.prg
  * contrib/hbqt/qtcore/TQTextCodec.prg
  * contrib/hbqt/qtcore/TQTextDecoder.prg
  * contrib/hbqt/qtcore/TQTextEncoder.prg
  * contrib/hbqt/qtcore/TQTextStream.prg
  * contrib/hbqt/qtcore/TQThread.prg
  * contrib/hbqt/qtcore/TQTime.prg
  * contrib/hbqt/qtcore/TQTimer.prg
  * contrib/hbqt/qtcore/TQTranslator.prg
  * contrib/hbqt/qtcore/TQUiLoader.prg
  * contrib/hbqt/qtcore/TQUrl.prg
  * contrib/hbqt/qtcore/TQVariant.prg
  * contrib/hbqt/qtgui/TQAbstractButton.prg
  * contrib/hbqt/qtgui/TQAbstractItemDelegate.prg
  * contrib/hbqt/qtgui/TQAbstractItemView.prg
  * contrib/hbqt/qtgui/TQAbstractPrintDialog.prg
  * contrib/hbqt/qtgui/TQAbstractProxyModel.prg
  * contrib/hbqt/qtgui/TQAbstractScrollArea.prg
  * contrib/hbqt/qtgui/TQAbstractSlider.prg
  * contrib/hbqt/qtgui/TQAbstractSpinBox.prg
  * contrib/hbqt/qtgui/TQAbstractTextDocumentLayout.prg
  * contrib/hbqt/qtgui/TQAction.prg
  * contrib/hbqt/qtgui/TQActionGroup.prg
  * contrib/hbqt/qtgui/TQApplication.prg
  * contrib/hbqt/qtgui/TQBitmap.prg
  * contrib/hbqt/qtgui/TQBoxLayout.prg
  * contrib/hbqt/qtgui/TQBrush.prg
  * contrib/hbqt/qtgui/TQButtonGroup.prg
  * contrib/hbqt/qtgui/TQCalendarWidget.prg
  * contrib/hbqt/qtgui/TQCheckBox.prg
  * contrib/hbqt/qtgui/TQClipboard.prg
  * contrib/hbqt/qtgui/TQColor.prg
  * contrib/hbqt/qtgui/TQColorDialog.prg
  * contrib/hbqt/qtgui/TQComboBox.prg
  * contrib/hbqt/qtgui/TQCommandLinkButton.prg
  * contrib/hbqt/qtgui/TQCommonStyle.prg
  * contrib/hbqt/qtgui/TQCompleter.prg
  * contrib/hbqt/qtgui/TQConicalGradient.prg
  * contrib/hbqt/qtgui/TQContextMenuEvent.prg
  * contrib/hbqt/qtgui/TQCursor.prg
  * contrib/hbqt/qtgui/TQDateEdit.prg
  * contrib/hbqt/qtgui/TQDateTimeEdit.prg
  * contrib/hbqt/qtgui/TQDesktopWidget.prg
  * contrib/hbqt/qtgui/TQDial.prg
  * contrib/hbqt/qtgui/TQDialog.prg
  * contrib/hbqt/qtgui/TQDirModel.prg
  * contrib/hbqt/qtgui/TQDockWidget.prg
  * contrib/hbqt/qtgui/TQDoubleSpinBox.prg
  * contrib/hbqt/qtgui/TQDragEnterEvent.prg
  * contrib/hbqt/qtgui/TQDragLeaveEvent.prg
  * contrib/hbqt/qtgui/TQDragMoveEvent.prg
  * contrib/hbqt/qtgui/TQDropEvent.prg
  * contrib/hbqt/qtgui/TQErrorMessage.prg
  * contrib/hbqt/qtgui/TQFileDialog.prg
  * contrib/hbqt/qtgui/TQFileIconProvider.prg
  * contrib/hbqt/qtgui/TQFileSystemModel.prg
  * contrib/hbqt/qtgui/TQFocusEvent.prg
  * contrib/hbqt/qtgui/TQFocusFrame.prg
  * contrib/hbqt/qtgui/TQFont.prg
  * contrib/hbqt/qtgui/TQFontComboBox.prg
  * contrib/hbqt/qtgui/TQFontDatabase.prg
  * contrib/hbqt/qtgui/TQFontDialog.prg
  * contrib/hbqt/qtgui/TQFontInfo.prg
  * contrib/hbqt/qtgui/TQFontMetrics.prg
  * contrib/hbqt/qtgui/TQFontMetricsF.prg
  * contrib/hbqt/qtgui/TQFormLayout.prg
  * contrib/hbqt/qtgui/TQFrame.prg
  * contrib/hbqt/qtgui/TQGradient.prg
  * contrib/hbqt/qtgui/TQGridLayout.prg
  * contrib/hbqt/qtgui/TQGroupBox.prg
  * contrib/hbqt/qtgui/TQHBoxLayout.prg
  * contrib/hbqt/qtgui/TQHeaderView.prg
  * contrib/hbqt/qtgui/TQHelpEvent.prg
  * contrib/hbqt/qtgui/TQIcon.prg
  * contrib/hbqt/qtgui/TQImage.prg
  * contrib/hbqt/qtgui/TQImageReader.prg
  * contrib/hbqt/qtgui/TQImageWriter.prg
  * contrib/hbqt/qtgui/TQInputContext.prg
  * contrib/hbqt/qtgui/TQInputDialog.prg
  * contrib/hbqt/qtgui/TQInputEvent.prg
  * contrib/hbqt/qtgui/TQInputMethodEvent.prg
  * contrib/hbqt/qtgui/TQItemSelection.prg
  * contrib/hbqt/qtgui/TQItemSelectionModel.prg
  * contrib/hbqt/qtgui/TQKeyEvent.prg
  * contrib/hbqt/qtgui/TQKeySequence.prg
  * contrib/hbqt/qtgui/TQLabel.prg
  * contrib/hbqt/qtgui/TQLayout.prg
  * contrib/hbqt/qtgui/TQLayoutItem.prg
  * contrib/hbqt/qtgui/TQLCDNumber.prg
  * contrib/hbqt/qtgui/TQLinearGradient.prg
  * contrib/hbqt/qtgui/TQLineEdit.prg
  * contrib/hbqt/qtgui/TQListView.prg
  * contrib/hbqt/qtgui/TQListWidget.prg
  * contrib/hbqt/qtgui/TQListWidgetItem.prg
  * contrib/hbqt/qtgui/TQMainWindow.prg
  * contrib/hbqt/qtgui/TQMatrix.prg
  * contrib/hbqt/qtgui/TQMenu.prg
  * contrib/hbqt/qtgui/TQMenuBar.prg
  * contrib/hbqt/qtgui/TQMessageBox.prg
  * contrib/hbqt/qtgui/TQMouseEvent.prg
  * contrib/hbqt/qtgui/TQMoveEvent.prg
  * contrib/hbqt/qtgui/TQMovie.prg
  * contrib/hbqt/qtgui/TQPageSetupDialog.prg
  * contrib/hbqt/qtgui/TQPaintDevice.prg
  * contrib/hbqt/qtgui/TQPainter.prg
  * contrib/hbqt/qtgui/TQPainterPath.prg
  * contrib/hbqt/qtgui/TQPaintEvent.prg
  * contrib/hbqt/qtgui/TQPalette.prg
  * contrib/hbqt/qtgui/TQPen.prg
  * contrib/hbqt/qtgui/TQPicture.prg
  * contrib/hbqt/qtgui/TQPixmap.prg
  * contrib/hbqt/qtgui/TQPlainTextEdit.prg
  * contrib/hbqt/qtgui/TQPolygon.prg
  * contrib/hbqt/qtgui/TQPolygonF.prg
  * contrib/hbqt/qtgui/TQPrintDialog.prg
  * contrib/hbqt/qtgui/TQPrintEngine.prg
  * contrib/hbqt/qtgui/TQPrinter.prg
  * contrib/hbqt/qtgui/TQPrintPreviewDialog.prg
  * contrib/hbqt/qtgui/TQProgressBar.prg
  * contrib/hbqt/qtgui/TQProgressDialog.prg
  * contrib/hbqt/qtgui/TQPushButton.prg
  * contrib/hbqt/qtgui/TQRadialGradient.prg
  * contrib/hbqt/qtgui/TQRadioButton.prg
  * contrib/hbqt/qtgui/TQRegion.prg
  * contrib/hbqt/qtgui/TQResizeEvent.prg
  * contrib/hbqt/qtgui/TQScrollArea.prg
  * contrib/hbqt/qtgui/TQScrollBar.prg
  * contrib/hbqt/qtgui/TQSessionManager.prg
  * contrib/hbqt/qtgui/TQSizeGrip.prg
  * contrib/hbqt/qtgui/TQSizePolicy.prg
  * contrib/hbqt/qtgui/TQSlider.prg
  * contrib/hbqt/qtgui/TQSound.prg
  * contrib/hbqt/qtgui/TQSpacerItem.prg
  * contrib/hbqt/qtgui/TQSpinBox.prg
  * contrib/hbqt/qtgui/TQSplashScreen.prg
  * contrib/hbqt/qtgui/TQSplitter.prg
  * contrib/hbqt/qtgui/TQStandardItem.prg
  * contrib/hbqt/qtgui/TQStandardItemModel.prg
  * contrib/hbqt/qtgui/TQStatusBar.prg
  * contrib/hbqt/qtgui/TQStringListModel.prg
  * contrib/hbqt/qtgui/TQStyle.prg
  * contrib/hbqt/qtgui/TQStyledItemDelegate.prg
  * contrib/hbqt/qtgui/TQStyleFactory.prg
  * contrib/hbqt/qtgui/TQStyleHintReturn.prg
  * contrib/hbqt/qtgui/TQStyleHintReturnMask.prg
  * contrib/hbqt/qtgui/TQStyleHintReturnVariant.prg
  * contrib/hbqt/qtgui/TQStyleOption.prg
  * contrib/hbqt/qtgui/TQStyleOptionButton.prg
  * contrib/hbqt/qtgui/TQStyleOptionComboBox.prg
  * contrib/hbqt/qtgui/TQStyleOptionComplex.prg
  * contrib/hbqt/qtgui/TQStyleOptionDockWidget.prg
  * contrib/hbqt/qtgui/TQStyleOptionFocusRect.prg
  * contrib/hbqt/qtgui/TQStyleOptionFrame.prg
  * contrib/hbqt/qtgui/TQStyleOptionGroupBox.prg
  * contrib/hbqt/qtgui/TQStyleOptionHeader.prg
  * contrib/hbqt/qtgui/TQStyleOptionMenuItem.prg
  * contrib/hbqt/qtgui/TQStyleOptionProgressBar.prg
  * contrib/hbqt/qtgui/TQStyleOptionSizeGrip.prg
  * contrib/hbqt/qtgui/TQStyleOptionSlider.prg
  * contrib/hbqt/qtgui/TQStyleOptionSpinBox.prg
  * contrib/hbqt/qtgui/TQStyleOptionTab.prg
  * contrib/hbqt/qtgui/TQStyleOptionTabBarBase.prg
  * contrib/hbqt/qtgui/TQStyleOptionTabWidgetFrame.prg
  * contrib/hbqt/qtgui/TQStyleOptionTitleBar.prg
  * contrib/hbqt/qtgui/TQStyleOptionToolBar.prg
  * contrib/hbqt/qtgui/TQStyleOptionToolBox.prg
  * contrib/hbqt/qtgui/TQStyleOptionToolButton.prg
  * contrib/hbqt/qtgui/TQStyleOptionViewItem.prg
  * contrib/hbqt/qtgui/TQStylePainter.prg
  * contrib/hbqt/qtgui/TQSyntaxHighlighter.prg
  * contrib/hbqt/qtgui/TQSystemTrayIcon.prg
  * contrib/hbqt/qtgui/TQTabBar.prg
  * contrib/hbqt/qtgui/TQTableView.prg
  * contrib/hbqt/qtgui/TQTableWidget.prg
  * contrib/hbqt/qtgui/TQTableWidgetItem.prg
  * contrib/hbqt/qtgui/TQTableWidgetSelectionRange.prg
  * contrib/hbqt/qtgui/TQTabWidget.prg
  * contrib/hbqt/qtgui/TQTextBlock.prg
  * contrib/hbqt/qtgui/TQTextBlockFormat.prg
  * contrib/hbqt/qtgui/TQTextBlockGroup.prg
  * contrib/hbqt/qtgui/TQTextBrowser.prg
  * contrib/hbqt/qtgui/TQTextCharFormat.prg
  * contrib/hbqt/qtgui/TQTextCursor.prg
  * contrib/hbqt/qtgui/TQTextDocument.prg
  * contrib/hbqt/qtgui/TQTextDocumentFragment.prg
  * contrib/hbqt/qtgui/TQTextDocumentWriter.prg
  * contrib/hbqt/qtgui/TQTextEdit.prg
  * contrib/hbqt/qtgui/TQTextFormat.prg
  * contrib/hbqt/qtgui/TQTextFragment.prg
  * contrib/hbqt/qtgui/TQTextFrame.prg
  * contrib/hbqt/qtgui/TQTextFrameFormat.prg
  * contrib/hbqt/qtgui/TQTextImageFormat.prg
  * contrib/hbqt/qtgui/TQTextInlineObject.prg
  * contrib/hbqt/qtgui/TQTextItem.prg
  * contrib/hbqt/qtgui/TQTextLayout.prg
  * contrib/hbqt/qtgui/TQTextLength.prg
  * contrib/hbqt/qtgui/TQTextLine.prg
  * contrib/hbqt/qtgui/TQTextListFormat.prg
  * contrib/hbqt/qtgui/TQTextObject.prg
  * contrib/hbqt/qtgui/TQTextOption.prg
  * contrib/hbqt/qtgui/TQTextTableFormat.prg
  * contrib/hbqt/qtgui/TQTimeEdit.prg
  * contrib/hbqt/qtgui/TQToolBar.prg
  * contrib/hbqt/qtgui/TQToolBox.prg
  * contrib/hbqt/qtgui/TQToolButton.prg
  * contrib/hbqt/qtgui/TQTransform.prg
  * contrib/hbqt/qtgui/TQTreeView.prg
  * contrib/hbqt/qtgui/TQTreeWidget.prg
  * contrib/hbqt/qtgui/TQTreeWidgetItem.prg
  * contrib/hbqt/qtgui/TQValidator.prg
  * contrib/hbqt/qtgui/TQVBoxLayout.prg
  * contrib/hbqt/qtgui/TQWheelEvent.prg
  * contrib/hbqt/qtgui/TQWidget.prg
  * contrib/hbqt/qtgui/TQWidgetAction.prg
  * contrib/hbqt/qtgui/TQWidgetItem.prg
  * contrib/hbqt/qtgui/TQWindowsStyle.prg
  * contrib/hbqt/qtgui/TQWizard.prg
  * contrib/hbqt/qtgui/TQWizardPage.prg
  * contrib/hbqt/qtnetwork/TQFtp.prg
  * contrib/hbqt/qtnetwork/TQHttp.prg
  * contrib/hbqt/qtnetwork/TQHttpRequestHeader.prg
  * contrib/hbqt/qtnetwork/TQHttpResponseHeader.prg
  * contrib/hbqt/qtnetwork/TQNetworkRequest.prg

  * contrib/hbide/hbide.prg

    + Implemented to avoid use of QT_PTROF() and QT_PTROFXBP() macros.
      The functionality is transparent and accepts HBQT and HBXBP objects
      as is. 

      TODO: Method SomeQtClass:new( ... ) 
               ::pPtr := QSomeClass( ... )
            In above construct it is not known how many parameters
            are of type pointer and otherwise and how, if resolved, 
            be forwarded to Qt wrapper with (...) syntax.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbqt/filelist.mk
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/hbqt_misc.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Dec 17 06:26:51 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 17 06:27:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13275] trunk/harbour
In-Reply-To: <E1NLEA2-0001T7-0Z@c3vjzd1.ch3.sourceforge.com>
References: <E1NLEA2-0001T7-0Z@c3vjzd1.ch3.sourceforge.com>
Message-ID: <4C9B69C9-02A1-4A21-A7B6-B5095C26CAA6@syenar.hu>

Hi Pritpal,

>    + Implemented to avoid use of QT_PTROF() and QT_PTROFXBP() macros.
>      The functionality is transparent and accepts HBQT and HBXBP objects
>      as is. 

Thank you very much.

>      TODO: Method SomeQtClass:new( ... ) 
>               ::pPtr := QSomeClass( ... )
>            In above construct it is not known how many parameters
>            are of type pointer and otherwise and how, if resolved, 
>            be forwarded to Qt wrapper with (...) syntax.

Again maybe I'm missing something, but in this 
case isn't the pointer unwrapping done by inside 
QSomeClass() ? I mean if you pass parameters 
as is, why would you need to make any transformations 
on them, when this transformation can be done 
at destination function.

IOW it's shouldn't be caller's responsibility 
to resolve any such internal details, and current 
patch seemed to have addressed just that, so 
maybe it's already okay.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Dec 17 06:38:25 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec 17 06:38:40 2009
Subject: [Harbour] Problems in WIN_MAPISENDMAIL()
In-Reply-To: <578373.35543.qm@web33708.mail.mud.yahoo.com>
References: <578373.35543.qm@web33708.mail.mud.yahoo.com>
Message-ID: <D351AF93-27D3-48BC-9316-8CCEE6728912@syenar.hu>

Hi Toninho,

> Hi Viktor.
> 
> Sorry for later response. This end of year I?m very very busy.
> 
> I?m using BCC 6.2. To use MAPI you need OutLook Express instaled and configured at least one account. Some time ago I try with another mail program like incredible mail but MAPI doesn?t work.

Thank you.

BTW, on Win7 - which I happen to use ATM - 
Outlook Express is no more, but instead there 
is Windows Mail (?). It's however not installed 
by default.

BTW2, Thunderbird is actually listed as MAPI 
target in file association or whatever Windows 
dialog, yet it doesn't work.

Being tied to address book, MAPI can probably 
be considered an Outlook / Outlook Express / Win Mail 
tool-only.

Brgds,
Viktor

From druzus at users.sourceforge.net  Thu Dec 17 06:46:45 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Dec 17 06:46:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13276] trunk/harbour
Message-ID: <E1NLEof-0000xy-Kc@bj8yhf1.ch3.sourceforge.com>

Revision: 13276
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13276&view=rev
Author:   druzus
Date:     2009-12-17 11:46:44 +0000 (Thu, 17 Dec 2009)

Log Message:
-----------
2009-12-17 12:46 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/gtxwc/gtxwc.c
    + added hack for accessing selections marked by FireFox which does not
      inform about UTF8_STRING target though it supports it

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/gtxwc/gtxwc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Thu Dec 17 10:19:22 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 17 10:19:50 2009
Subject: [Harbour] Release notes/questions
In-Reply-To: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>
Message-ID: <609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>

I hope that Harbour 2.0 support qt 4.6
I have seen same step made from Istv?n,Andi Jahja
invite anybody post feedback with qt 4.6

A qt binary release ready to use with  Visual studio 2008 will be a good step

2009/12/17 Viktor Szak?ts <harbour.01@syenar.hu>
>
> Hi All,
>
> Some preliminary notes/questions about the release:
>
> - Embedded TDM dwarf-2 build doesn't work
> ?with hbmk2 and I'm not sure it would be
> ?good to include anyway a "double decker"
> ?C compiler (with both gcc.exe and gcc-dw2.exe).
> ?(Plus it needs some heavier changes in hbmk2 code)
> ?Which means the official MinGW release
> ?could only be used, but I doubt there will be
> ?enough time to test it generally or test
> ?it for embedded purposes. The installation is
> ?extremely cumbersome and error prone as I wrote.
> ?Moreover I reported warning with QT 4.6 and MSVC,
> ?and no one reacted, which means it's unlikely
> ?to be fixed in a few days. MSVC + QT 4.6 is also
> ?not fully tested or all linkage C RTL issues
> ?fully cleared.
> ?This means the 2.0.0 windows binary release will support
> ? ? QT 4.5.x.
> ?Anyone has any issue with this?
>
> Brgds,
> Viktor
>

--
Massimo Belgrano
From harbour.01 at syenar.hu  Thu Dec 17 11:11:27 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 17 11:11:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13275] trunk/harbour
In-Reply-To: <E1NLEA2-0001T7-0Z@c3vjzd1.ch3.sourceforge.com>
References: <E1NLEA2-0001T7-0Z@c3vjzd1.ch3.sourceforge.com>
Message-ID: <05349B41-830D-4DB3-88F6-1FA06D30C955@syenar.hu>

Hi Pritpal,

I've checked and there is a problem with this commit.

It hard-wires XBP functionality (which I've removed 
once already) to HBQT lib.

We should avoid that for several obvious reasons. 
Can you fix it to not require this hack?

Brgds,
Viktor

On 2009 Dec 17, at 12:04, vouchcac@users.sourceforge.net wrote:

> Revision: 13275
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13275&view=rev
> Author:   vouchcac
> Date:     2009-12-17 11:04:37 +0000 (Thu, 17 Dec 2009)
> 
> Log Message:
> -----------
> 2009-12-17 02:06 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbqt/filelist.mk
>  + contrib/hbqt/hbqt_misc.prg
> 
>  * contrib/hbqt/generator/hbqtgen.prg
> 
>  * contrib/hbqt/qtcore/TQAbstractItemModel.prg
>  * contrib/hbqt/qtcore/TQAbstractListModel.prg
>  * contrib/hbqt/qtcore/TQAbstractTableModel.prg
>  * contrib/hbqt/qtcore/TQBitArray.prg
>  * contrib/hbqt/qtcore/TQByteArray.prg
>  * contrib/hbqt/qtcore/TQCoreApplication.prg
>  * contrib/hbqt/qtcore/TQDataStream.prg
>  * contrib/hbqt/qtcore/TQDate.prg
>  * contrib/hbqt/qtcore/TQDateTime.prg
>  * contrib/hbqt/qtcore/TQDir.prg
>  * contrib/hbqt/qtcore/TQEvent.prg
>  * contrib/hbqt/qtcore/TQEventLoop.prg
>  * contrib/hbqt/qtcore/TQFile.prg
>  * contrib/hbqt/qtcore/TQFileInfo.prg
>  * contrib/hbqt/qtcore/TQIODevice.prg
>  * contrib/hbqt/qtcore/TQLatin1Char.prg
>  * contrib/hbqt/qtcore/TQLatin1String.prg
>  * contrib/hbqt/qtcore/TQLine.prg
>  * contrib/hbqt/qtcore/TQLineF.prg
>  * contrib/hbqt/qtcore/TQList.prg
>  * contrib/hbqt/qtcore/TQLocale.prg
>  * contrib/hbqt/qtcore/TQMimeData.prg
>  * contrib/hbqt/qtcore/TQModelIndex.prg
>  * contrib/hbqt/qtcore/TQObject.prg
>  * contrib/hbqt/qtcore/TQPoint.prg
>  * contrib/hbqt/qtcore/TQPointF.prg
>  * contrib/hbqt/qtcore/TQProcess.prg
>  * contrib/hbqt/qtcore/TQRect.prg
>  * contrib/hbqt/qtcore/TQRectF.prg
>  * contrib/hbqt/qtcore/TQRegExp.prg
>  * contrib/hbqt/qtcore/TQResource.prg
>  * contrib/hbqt/qtcore/TQSignalMapper.prg
>  * contrib/hbqt/qtcore/TQSize.prg
>  * contrib/hbqt/qtcore/TQSizeF.prg
>  * contrib/hbqt/qtcore/TQStringList.prg
>  * contrib/hbqt/qtcore/TQTextBoundaryFinder.prg
>  * contrib/hbqt/qtcore/TQTextCodec.prg
>  * contrib/hbqt/qtcore/TQTextDecoder.prg
>  * contrib/hbqt/qtcore/TQTextEncoder.prg
>  * contrib/hbqt/qtcore/TQTextStream.prg
>  * contrib/hbqt/qtcore/TQThread.prg
>  * contrib/hbqt/qtcore/TQTime.prg
>  * contrib/hbqt/qtcore/TQTimer.prg
>  * contrib/hbqt/qtcore/TQTranslator.prg
>  * contrib/hbqt/qtcore/TQUiLoader.prg
>  * contrib/hbqt/qtcore/TQUrl.prg
>  * contrib/hbqt/qtcore/TQVariant.prg
>  * contrib/hbqt/qtgui/TQAbstractButton.prg
>  * contrib/hbqt/qtgui/TQAbstractItemDelegate.prg
>  * contrib/hbqt/qtgui/TQAbstractItemView.prg
>  * contrib/hbqt/qtgui/TQAbstractPrintDialog.prg
>  * contrib/hbqt/qtgui/TQAbstractProxyModel.prg
>  * contrib/hbqt/qtgui/TQAbstractScrollArea.prg
>  * contrib/hbqt/qtgui/TQAbstractSlider.prg
>  * contrib/hbqt/qtgui/TQAbstractSpinBox.prg
>  * contrib/hbqt/qtgui/TQAbstractTextDocumentLayout.prg
>  * contrib/hbqt/qtgui/TQAction.prg
>  * contrib/hbqt/qtgui/TQActionGroup.prg
>  * contrib/hbqt/qtgui/TQApplication.prg
>  * contrib/hbqt/qtgui/TQBitmap.prg
>  * contrib/hbqt/qtgui/TQBoxLayout.prg
>  * contrib/hbqt/qtgui/TQBrush.prg
>  * contrib/hbqt/qtgui/TQButtonGroup.prg
>  * contrib/hbqt/qtgui/TQCalendarWidget.prg
>  * contrib/hbqt/qtgui/TQCheckBox.prg
>  * contrib/hbqt/qtgui/TQClipboard.prg
>  * contrib/hbqt/qtgui/TQColor.prg
>  * contrib/hbqt/qtgui/TQColorDialog.prg
>  * contrib/hbqt/qtgui/TQComboBox.prg
>  * contrib/hbqt/qtgui/TQCommandLinkButton.prg
>  * contrib/hbqt/qtgui/TQCommonStyle.prg
>  * contrib/hbqt/qtgui/TQCompleter.prg
>  * contrib/hbqt/qtgui/TQConicalGradient.prg
>  * contrib/hbqt/qtgui/TQContextMenuEvent.prg
>  * contrib/hbqt/qtgui/TQCursor.prg
>  * contrib/hbqt/qtgui/TQDateEdit.prg
>  * contrib/hbqt/qtgui/TQDateTimeEdit.prg
>  * contrib/hbqt/qtgui/TQDesktopWidget.prg
>  * contrib/hbqt/qtgui/TQDial.prg
>  * contrib/hbqt/qtgui/TQDialog.prg
>  * contrib/hbqt/qtgui/TQDirModel.prg
>  * contrib/hbqt/qtgui/TQDockWidget.prg
>  * contrib/hbqt/qtgui/TQDoubleSpinBox.prg
>  * contrib/hbqt/qtgui/TQDragEnterEvent.prg
>  * contrib/hbqt/qtgui/TQDragLeaveEvent.prg
>  * contrib/hbqt/qtgui/TQDragMoveEvent.prg
>  * contrib/hbqt/qtgui/TQDropEvent.prg
>  * contrib/hbqt/qtgui/TQErrorMessage.prg
>  * contrib/hbqt/qtgui/TQFileDialog.prg
>  * contrib/hbqt/qtgui/TQFileIconProvider.prg
>  * contrib/hbqt/qtgui/TQFileSystemModel.prg
>  * contrib/hbqt/qtgui/TQFocusEvent.prg
>  * contrib/hbqt/qtgui/TQFocusFrame.prg
>  * contrib/hbqt/qtgui/TQFont.prg
>  * contrib/hbqt/qtgui/TQFontComboBox.prg
>  * contrib/hbqt/qtgui/TQFontDatabase.prg
>  * contrib/hbqt/qtgui/TQFontDialog.prg
>  * contrib/hbqt/qtgui/TQFontInfo.prg
>  * contrib/hbqt/qtgui/TQFontMetrics.prg
>  * contrib/hbqt/qtgui/TQFontMetricsF.prg
>  * contrib/hbqt/qtgui/TQFormLayout.prg
>  * contrib/hbqt/qtgui/TQFrame.prg
>  * contrib/hbqt/qtgui/TQGradient.prg
>  * contrib/hbqt/qtgui/TQGridLayout.prg
>  * contrib/hbqt/qtgui/TQGroupBox.prg
>  * contrib/hbqt/qtgui/TQHBoxLayout.prg
>  * contrib/hbqt/qtgui/TQHeaderView.prg
>  * contrib/hbqt/qtgui/TQHelpEvent.prg
>  * contrib/hbqt/qtgui/TQIcon.prg
>  * contrib/hbqt/qtgui/TQImage.prg
>  * contrib/hbqt/qtgui/TQImageReader.prg
>  * contrib/hbqt/qtgui/TQImageWriter.prg
>  * contrib/hbqt/qtgui/TQInputContext.prg
>  * contrib/hbqt/qtgui/TQInputDialog.prg
>  * contrib/hbqt/qtgui/TQInputEvent.prg
>  * contrib/hbqt/qtgui/TQInputMethodEvent.prg
>  * contrib/hbqt/qtgui/TQItemSelection.prg
>  * contrib/hbqt/qtgui/TQItemSelectionModel.prg
>  * contrib/hbqt/qtgui/TQKeyEvent.prg
>  * contrib/hbqt/qtgui/TQKeySequence.prg
>  * contrib/hbqt/qtgui/TQLabel.prg
>  * contrib/hbqt/qtgui/TQLayout.prg
>  * contrib/hbqt/qtgui/TQLayoutItem.prg
>  * contrib/hbqt/qtgui/TQLCDNumber.prg
>  * contrib/hbqt/qtgui/TQLinearGradient.prg
>  * contrib/hbqt/qtgui/TQLineEdit.prg
>  * contrib/hbqt/qtgui/TQListView.prg
>  * contrib/hbqt/qtgui/TQListWidget.prg
>  * contrib/hbqt/qtgui/TQListWidgetItem.prg
>  * contrib/hbqt/qtgui/TQMainWindow.prg
>  * contrib/hbqt/qtgui/TQMatrix.prg
>  * contrib/hbqt/qtgui/TQMenu.prg
>  * contrib/hbqt/qtgui/TQMenuBar.prg
>  * contrib/hbqt/qtgui/TQMessageBox.prg
>  * contrib/hbqt/qtgui/TQMouseEvent.prg
>  * contrib/hbqt/qtgui/TQMoveEvent.prg
>  * contrib/hbqt/qtgui/TQMovie.prg
>  * contrib/hbqt/qtgui/TQPageSetupDialog.prg
>  * contrib/hbqt/qtgui/TQPaintDevice.prg
>  * contrib/hbqt/qtgui/TQPainter.prg
>  * contrib/hbqt/qtgui/TQPainterPath.prg
>  * contrib/hbqt/qtgui/TQPaintEvent.prg
>  * contrib/hbqt/qtgui/TQPalette.prg
>  * contrib/hbqt/qtgui/TQPen.prg
>  * contrib/hbqt/qtgui/TQPicture.prg
>  * contrib/hbqt/qtgui/TQPixmap.prg
>  * contrib/hbqt/qtgui/TQPlainTextEdit.prg
>  * contrib/hbqt/qtgui/TQPolygon.prg
>  * contrib/hbqt/qtgui/TQPolygonF.prg
>  * contrib/hbqt/qtgui/TQPrintDialog.prg
>  * contrib/hbqt/qtgui/TQPrintEngine.prg
>  * contrib/hbqt/qtgui/TQPrinter.prg
>  * contrib/hbqt/qtgui/TQPrintPreviewDialog.prg
>  * contrib/hbqt/qtgui/TQProgressBar.prg
>  * contrib/hbqt/qtgui/TQProgressDialog.prg
>  * contrib/hbqt/qtgui/TQPushButton.prg
>  * contrib/hbqt/qtgui/TQRadialGradient.prg
>  * contrib/hbqt/qtgui/TQRadioButton.prg
>  * contrib/hbqt/qtgui/TQRegion.prg
>  * contrib/hbqt/qtgui/TQResizeEvent.prg
>  * contrib/hbqt/qtgui/TQScrollArea.prg
>  * contrib/hbqt/qtgui/TQScrollBar.prg
>  * contrib/hbqt/qtgui/TQSessionManager.prg
>  * contrib/hbqt/qtgui/TQSizeGrip.prg
>  * contrib/hbqt/qtgui/TQSizePolicy.prg
>  * contrib/hbqt/qtgui/TQSlider.prg
>  * contrib/hbqt/qtgui/TQSound.prg
>  * contrib/hbqt/qtgui/TQSpacerItem.prg
>  * contrib/hbqt/qtgui/TQSpinBox.prg
>  * contrib/hbqt/qtgui/TQSplashScreen.prg
>  * contrib/hbqt/qtgui/TQSplitter.prg
>  * contrib/hbqt/qtgui/TQStandardItem.prg
>  * contrib/hbqt/qtgui/TQStandardItemModel.prg
>  * contrib/hbqt/qtgui/TQStatusBar.prg
>  * contrib/hbqt/qtgui/TQStringListModel.prg
>  * contrib/hbqt/qtgui/TQStyle.prg
>  * contrib/hbqt/qtgui/TQStyledItemDelegate.prg
>  * contrib/hbqt/qtgui/TQStyleFactory.prg
>  * contrib/hbqt/qtgui/TQStyleHintReturn.prg
>  * contrib/hbqt/qtgui/TQStyleHintReturnMask.prg
>  * contrib/hbqt/qtgui/TQStyleHintReturnVariant.prg
>  * contrib/hbqt/qtgui/TQStyleOption.prg
>  * contrib/hbqt/qtgui/TQStyleOptionButton.prg
>  * contrib/hbqt/qtgui/TQStyleOptionComboBox.prg
>  * contrib/hbqt/qtgui/TQStyleOptionComplex.prg
>  * contrib/hbqt/qtgui/TQStyleOptionDockWidget.prg
>  * contrib/hbqt/qtgui/TQStyleOptionFocusRect.prg
>  * contrib/hbqt/qtgui/TQStyleOptionFrame.prg
>  * contrib/hbqt/qtgui/TQStyleOptionGroupBox.prg
>  * contrib/hbqt/qtgui/TQStyleOptionHeader.prg
>  * contrib/hbqt/qtgui/TQStyleOptionMenuItem.prg
>  * contrib/hbqt/qtgui/TQStyleOptionProgressBar.prg
>  * contrib/hbqt/qtgui/TQStyleOptionSizeGrip.prg
>  * contrib/hbqt/qtgui/TQStyleOptionSlider.prg
>  * contrib/hbqt/qtgui/TQStyleOptionSpinBox.prg
>  * contrib/hbqt/qtgui/TQStyleOptionTab.prg
>  * contrib/hbqt/qtgui/TQStyleOptionTabBarBase.prg
>  * contrib/hbqt/qtgui/TQStyleOptionTabWidgetFrame.prg
>  * contrib/hbqt/qtgui/TQStyleOptionTitleBar.prg
>  * contrib/hbqt/qtgui/TQStyleOptionToolBar.prg
>  * contrib/hbqt/qtgui/TQStyleOptionToolBox.prg
>  * contrib/hbqt/qtgui/TQStyleOptionToolButton.prg
>  * contrib/hbqt/qtgui/TQStyleOptionViewItem.prg
>  * contrib/hbqt/qtgui/TQStylePainter.prg
>  * contrib/hbqt/qtgui/TQSyntaxHighlighter.prg
>  * contrib/hbqt/qtgui/TQSystemTrayIcon.prg
>  * contrib/hbqt/qtgui/TQTabBar.prg
>  * contrib/hbqt/qtgui/TQTableView.prg
>  * contrib/hbqt/qtgui/TQTableWidget.prg
>  * contrib/hbqt/qtgui/TQTableWidgetItem.prg
>  * contrib/hbqt/qtgui/TQTableWidgetSelectionRange.prg
>  * contrib/hbqt/qtgui/TQTabWidget.prg
>  * contrib/hbqt/qtgui/TQTextBlock.prg
>  * contrib/hbqt/qtgui/TQTextBlockFormat.prg
>  * contrib/hbqt/qtgui/TQTextBlockGroup.prg
>  * contrib/hbqt/qtgui/TQTextBrowser.prg
>  * contrib/hbqt/qtgui/TQTextCharFormat.prg
>  * contrib/hbqt/qtgui/TQTextCursor.prg
>  * contrib/hbqt/qtgui/TQTextDocument.prg
>  * contrib/hbqt/qtgui/TQTextDocumentFragment.prg
>  * contrib/hbqt/qtgui/TQTextDocumentWriter.prg
>  * contrib/hbqt/qtgui/TQTextEdit.prg
>  * contrib/hbqt/qtgui/TQTextFormat.prg
>  * contrib/hbqt/qtgui/TQTextFragment.prg
>  * contrib/hbqt/qtgui/TQTextFrame.prg
>  * contrib/hbqt/qtgui/TQTextFrameFormat.prg
>  * contrib/hbqt/qtgui/TQTextImageFormat.prg
>  * contrib/hbqt/qtgui/TQTextInlineObject.prg
>  * contrib/hbqt/qtgui/TQTextItem.prg
>  * contrib/hbqt/qtgui/TQTextLayout.prg
>  * contrib/hbqt/qtgui/TQTextLength.prg
>  * contrib/hbqt/qtgui/TQTextLine.prg
>  * contrib/hbqt/qtgui/TQTextListFormat.prg
>  * contrib/hbqt/qtgui/TQTextObject.prg
>  * contrib/hbqt/qtgui/TQTextOption.prg
>  * contrib/hbqt/qtgui/TQTextTableFormat.prg
>  * contrib/hbqt/qtgui/TQTimeEdit.prg
>  * contrib/hbqt/qtgui/TQToolBar.prg
>  * contrib/hbqt/qtgui/TQToolBox.prg
>  * contrib/hbqt/qtgui/TQToolButton.prg
>  * contrib/hbqt/qtgui/TQTransform.prg
>  * contrib/hbqt/qtgui/TQTreeView.prg
>  * contrib/hbqt/qtgui/TQTreeWidget.prg
>  * contrib/hbqt/qtgui/TQTreeWidgetItem.prg
>  * contrib/hbqt/qtgui/TQValidator.prg
>  * contrib/hbqt/qtgui/TQVBoxLayout.prg
>  * contrib/hbqt/qtgui/TQWheelEvent.prg
>  * contrib/hbqt/qtgui/TQWidget.prg
>  * contrib/hbqt/qtgui/TQWidgetAction.prg
>  * contrib/hbqt/qtgui/TQWidgetItem.prg
>  * contrib/hbqt/qtgui/TQWindowsStyle.prg
>  * contrib/hbqt/qtgui/TQWizard.prg
>  * contrib/hbqt/qtgui/TQWizardPage.prg
>  * contrib/hbqt/qtnetwork/TQFtp.prg
>  * contrib/hbqt/qtnetwork/TQHttp.prg
>  * contrib/hbqt/qtnetwork/TQHttpRequestHeader.prg
>  * contrib/hbqt/qtnetwork/TQHttpResponseHeader.prg
>  * contrib/hbqt/qtnetwork/TQNetworkRequest.prg
> 
>  * contrib/hbide/hbide.prg
> 
>    + Implemented to avoid use of QT_PTROF() and QT_PTROFXBP() macros.
>      The functionality is transparent and accepts HBQT and HBXBP objects
>      as is. 
> 
>      TODO: Method SomeQtClass:new( ... ) 
>               ::pPtr := QSomeClass( ... )
>            In above construct it is not known how many parameters
>            are of type pointer and otherwise and how, if resolved, 
>            be forwarded to Qt wrapper with (...) syntax.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbide/hbide.prg
>    trunk/harbour/contrib/hbqt/filelist.mk
>    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
> 
> Added Paths:
> -----------
>    trunk/harbour/contrib/hbqt/hbqt_misc.prg
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Dec 17 11:24:24 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec 17 11:24:49 2009
Subject: [Harbour] Release notes/questions
In-Reply-To: <609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>
	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>
Message-ID: <CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>

> I hope that Harbour 2.0 support qt 4.6
> I have seen same step made from Istv?n,Andi Jahja

Hm, did you read what I wrote?

There is a quite large risk in including 
a MINGW build which was used/tested by _nobody_ 
on the list, including me, who is assembling 
the package.

> invite anybody post feedback with qt 4.6
> 
> A qt binary release ready to use with  Visual studio 2008 will be a good step

Yes, this needs someone to fix the warning 
(posted on the list a few days ago), 
plus someone to give an insight on mixing 
different C RTL libs in one binary (asked 
this question a few weeks ago).

But even if these are answered, I wouldn't 
choose 4.6 yet, since it would be large mistake 
to use 4.6 for MSVC and 4.5.x for MINGW 
lib in one release, since this would cause 
a huge confusion besides looking unprofessional.

I'd close this topic from a different angle:

What does QT 4.6 offer over 4.5.x, that is 
so important that it's worth to risk whole 
Harbour quality because of it? (or delaying 
the release by - say - a month)

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Dec 17 11:28:03 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 17 11:28:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13275] trunk/harbour
In-Reply-To: <05349B41-830D-4DB3-88F6-1FA06D30C955@syenar.hu>
References: <E1NLEA2-0001T7-0Z@c3vjzd1.ch3.sourceforge.com>
	<05349B41-830D-4DB3-88F6-1FA06D30C955@syenar.hu>
Message-ID: <DF6E4114-E2EF-46C3-A63C-6D403667F42E@syenar.hu>

I've just checked further and the fix is quite simple 
and obvious, so I can make it.

The other comment is that maybe there is no need to 
make any sort of hack to check for "Q" or "HB" in the 
beginning of class name, but simply check whether 
:pPtr member exists and retrieve it if it does. Low 
level code check for required object pointer type 
anyway, so there is no need to add these slow and 
error-prone checks on the higher level.

Here is a non-optimal/pseudo version of this method:
(optimal could be done in C probably)

---
FUNCTION hbqt_ptr( xParam )

   IF hb_isObject( xParam ) .AND. ;
      __objHasMsg( xParam, "PPTR" ) // we need something which doesn't RTE on missing msg and which check for variable.
       RETURN xParam:pPtr
   ENDIF

   RETURN xParam
---

(I assumed XHB stuff is already removed from here)

Same thing could be rewritten in C probably, for 
smoother/faster results.

Brgds,
Viktor

On 2009 Dec 17, at 17:11, Viktor Szak?ts wrote:

> Hi Pritpal,
> 
> I've checked and there is a problem with this commit.
> 
> It hard-wires XBP functionality (which I've removed 
> once already) to HBQT lib.
> 
> We should avoid that for several obvious reasons. 
> Can you fix it to not require this hack?
> 
> Brgds,
> Viktor
> 
> On 2009 Dec 17, at 12:04, vouchcac@users.sourceforge.net wrote:
> 
>> Revision: 13275
>>         http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13275&view=rev
>> Author:   vouchcac
>> Date:     2009-12-17 11:04:37 +0000 (Thu, 17 Dec 2009)
>> 
>> Log Message:
>> -----------
>> 2009-12-17 02:06 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>> * contrib/hbqt/filelist.mk
>> + contrib/hbqt/hbqt_misc.prg
>> 
>> * contrib/hbqt/generator/hbqtgen.prg
>> 
>> * contrib/hbqt/qtcore/TQAbstractItemModel.prg
>> * contrib/hbqt/qtcore/TQAbstractListModel.prg
>> * contrib/hbqt/qtcore/TQAbstractTableModel.prg
>> * contrib/hbqt/qtcore/TQBitArray.prg
>> * contrib/hbqt/qtcore/TQByteArray.prg
>> * contrib/hbqt/qtcore/TQCoreApplication.prg
>> * contrib/hbqt/qtcore/TQDataStream.prg
>> * contrib/hbqt/qtcore/TQDate.prg
>> * contrib/hbqt/qtcore/TQDateTime.prg
>> * contrib/hbqt/qtcore/TQDir.prg
>> * contrib/hbqt/qtcore/TQEvent.prg
>> * contrib/hbqt/qtcore/TQEventLoop.prg
>> * contrib/hbqt/qtcore/TQFile.prg
>> * contrib/hbqt/qtcore/TQFileInfo.prg
>> * contrib/hbqt/qtcore/TQIODevice.prg
>> * contrib/hbqt/qtcore/TQLatin1Char.prg
>> * contrib/hbqt/qtcore/TQLatin1String.prg
>> * contrib/hbqt/qtcore/TQLine.prg
>> * contrib/hbqt/qtcore/TQLineF.prg
>> * contrib/hbqt/qtcore/TQList.prg
>> * contrib/hbqt/qtcore/TQLocale.prg
>> * contrib/hbqt/qtcore/TQMimeData.prg
>> * contrib/hbqt/qtcore/TQModelIndex.prg
>> * contrib/hbqt/qtcore/TQObject.prg
>> * contrib/hbqt/qtcore/TQPoint.prg
>> * contrib/hbqt/qtcore/TQPointF.prg
>> * contrib/hbqt/qtcore/TQProcess.prg
>> * contrib/hbqt/qtcore/TQRect.prg
>> * contrib/hbqt/qtcore/TQRectF.prg
>> * contrib/hbqt/qtcore/TQRegExp.prg
>> * contrib/hbqt/qtcore/TQResource.prg
>> * contrib/hbqt/qtcore/TQSignalMapper.prg
>> * contrib/hbqt/qtcore/TQSize.prg
>> * contrib/hbqt/qtcore/TQSizeF.prg
>> * contrib/hbqt/qtcore/TQStringList.prg
>> * contrib/hbqt/qtcore/TQTextBoundaryFinder.prg
>> * contrib/hbqt/qtcore/TQTextCodec.prg
>> * contrib/hbqt/qtcore/TQTextDecoder.prg
>> * contrib/hbqt/qtcore/TQTextEncoder.prg
>> * contrib/hbqt/qtcore/TQTextStream.prg
>> * contrib/hbqt/qtcore/TQThread.prg
>> * contrib/hbqt/qtcore/TQTime.prg
>> * contrib/hbqt/qtcore/TQTimer.prg
>> * contrib/hbqt/qtcore/TQTranslator.prg
>> * contrib/hbqt/qtcore/TQUiLoader.prg
>> * contrib/hbqt/qtcore/TQUrl.prg
>> * contrib/hbqt/qtcore/TQVariant.prg
>> * contrib/hbqt/qtgui/TQAbstractButton.prg
>> * contrib/hbqt/qtgui/TQAbstractItemDelegate.prg
>> * contrib/hbqt/qtgui/TQAbstractItemView.prg
>> * contrib/hbqt/qtgui/TQAbstractPrintDialog.prg
>> * contrib/hbqt/qtgui/TQAbstractProxyModel.prg
>> * contrib/hbqt/qtgui/TQAbstractScrollArea.prg
>> * contrib/hbqt/qtgui/TQAbstractSlider.prg
>> * contrib/hbqt/qtgui/TQAbstractSpinBox.prg
>> * contrib/hbqt/qtgui/TQAbstractTextDocumentLayout.prg
>> * contrib/hbqt/qtgui/TQAction.prg
>> * contrib/hbqt/qtgui/TQActionGroup.prg
>> * contrib/hbqt/qtgui/TQApplication.prg
>> * contrib/hbqt/qtgui/TQBitmap.prg
>> * contrib/hbqt/qtgui/TQBoxLayout.prg
>> * contrib/hbqt/qtgui/TQBrush.prg
>> * contrib/hbqt/qtgui/TQButtonGroup.prg
>> * contrib/hbqt/qtgui/TQCalendarWidget.prg
>> * contrib/hbqt/qtgui/TQCheckBox.prg
>> * contrib/hbqt/qtgui/TQClipboard.prg
>> * contrib/hbqt/qtgui/TQColor.prg
>> * contrib/hbqt/qtgui/TQColorDialog.prg
>> * contrib/hbqt/qtgui/TQComboBox.prg
>> * contrib/hbqt/qtgui/TQCommandLinkButton.prg
>> * contrib/hbqt/qtgui/TQCommonStyle.prg
>> * contrib/hbqt/qtgui/TQCompleter.prg
>> * contrib/hbqt/qtgui/TQConicalGradient.prg
>> * contrib/hbqt/qtgui/TQContextMenuEvent.prg
>> * contrib/hbqt/qtgui/TQCursor.prg
>> * contrib/hbqt/qtgui/TQDateEdit.prg
>> * contrib/hbqt/qtgui/TQDateTimeEdit.prg
>> * contrib/hbqt/qtgui/TQDesktopWidget.prg
>> * contrib/hbqt/qtgui/TQDial.prg
>> * contrib/hbqt/qtgui/TQDialog.prg
>> * contrib/hbqt/qtgui/TQDirModel.prg
>> * contrib/hbqt/qtgui/TQDockWidget.prg
>> * contrib/hbqt/qtgui/TQDoubleSpinBox.prg
>> * contrib/hbqt/qtgui/TQDragEnterEvent.prg
>> * contrib/hbqt/qtgui/TQDragLeaveEvent.prg
>> * contrib/hbqt/qtgui/TQDragMoveEvent.prg
>> * contrib/hbqt/qtgui/TQDropEvent.prg
>> * contrib/hbqt/qtgui/TQErrorMessage.prg
>> * contrib/hbqt/qtgui/TQFileDialog.prg
>> * contrib/hbqt/qtgui/TQFileIconProvider.prg
>> * contrib/hbqt/qtgui/TQFileSystemModel.prg
>> * contrib/hbqt/qtgui/TQFocusEvent.prg
>> * contrib/hbqt/qtgui/TQFocusFrame.prg
>> * contrib/hbqt/qtgui/TQFont.prg
>> * contrib/hbqt/qtgui/TQFontComboBox.prg
>> * contrib/hbqt/qtgui/TQFontDatabase.prg
>> * contrib/hbqt/qtgui/TQFontDialog.prg
>> * contrib/hbqt/qtgui/TQFontInfo.prg
>> * contrib/hbqt/qtgui/TQFontMetrics.prg
>> * contrib/hbqt/qtgui/TQFontMetricsF.prg
>> * contrib/hbqt/qtgui/TQFormLayout.prg
>> * contrib/hbqt/qtgui/TQFrame.prg
>> * contrib/hbqt/qtgui/TQGradient.prg
>> * contrib/hbqt/qtgui/TQGridLayout.prg
>> * contrib/hbqt/qtgui/TQGroupBox.prg
>> * contrib/hbqt/qtgui/TQHBoxLayout.prg
>> * contrib/hbqt/qtgui/TQHeaderView.prg
>> * contrib/hbqt/qtgui/TQHelpEvent.prg
>> * contrib/hbqt/qtgui/TQIcon.prg
>> * contrib/hbqt/qtgui/TQImage.prg
>> * contrib/hbqt/qtgui/TQImageReader.prg
>> * contrib/hbqt/qtgui/TQImageWriter.prg
>> * contrib/hbqt/qtgui/TQInputContext.prg
>> * contrib/hbqt/qtgui/TQInputDialog.prg
>> * contrib/hbqt/qtgui/TQInputEvent.prg
>> * contrib/hbqt/qtgui/TQInputMethodEvent.prg
>> * contrib/hbqt/qtgui/TQItemSelection.prg
>> * contrib/hbqt/qtgui/TQItemSelectionModel.prg
>> * contrib/hbqt/qtgui/TQKeyEvent.prg
>> * contrib/hbqt/qtgui/TQKeySequence.prg
>> * contrib/hbqt/qtgui/TQLabel.prg
>> * contrib/hbqt/qtgui/TQLayout.prg
>> * contrib/hbqt/qtgui/TQLayoutItem.prg
>> * contrib/hbqt/qtgui/TQLCDNumber.prg
>> * contrib/hbqt/qtgui/TQLinearGradient.prg
>> * contrib/hbqt/qtgui/TQLineEdit.prg
>> * contrib/hbqt/qtgui/TQListView.prg
>> * contrib/hbqt/qtgui/TQListWidget.prg
>> * contrib/hbqt/qtgui/TQListWidgetItem.prg
>> * contrib/hbqt/qtgui/TQMainWindow.prg
>> * contrib/hbqt/qtgui/TQMatrix.prg
>> * contrib/hbqt/qtgui/TQMenu.prg
>> * contrib/hbqt/qtgui/TQMenuBar.prg
>> * contrib/hbqt/qtgui/TQMessageBox.prg
>> * contrib/hbqt/qtgui/TQMouseEvent.prg
>> * contrib/hbqt/qtgui/TQMoveEvent.prg
>> * contrib/hbqt/qtgui/TQMovie.prg
>> * contrib/hbqt/qtgui/TQPageSetupDialog.prg
>> * contrib/hbqt/qtgui/TQPaintDevice.prg
>> * contrib/hbqt/qtgui/TQPainter.prg
>> * contrib/hbqt/qtgui/TQPainterPath.prg
>> * contrib/hbqt/qtgui/TQPaintEvent.prg
>> * contrib/hbqt/qtgui/TQPalette.prg
>> * contrib/hbqt/qtgui/TQPen.prg
>> * contrib/hbqt/qtgui/TQPicture.prg
>> * contrib/hbqt/qtgui/TQPixmap.prg
>> * contrib/hbqt/qtgui/TQPlainTextEdit.prg
>> * contrib/hbqt/qtgui/TQPolygon.prg
>> * contrib/hbqt/qtgui/TQPolygonF.prg
>> * contrib/hbqt/qtgui/TQPrintDialog.prg
>> * contrib/hbqt/qtgui/TQPrintEngine.prg
>> * contrib/hbqt/qtgui/TQPrinter.prg
>> * contrib/hbqt/qtgui/TQPrintPreviewDialog.prg
>> * contrib/hbqt/qtgui/TQProgressBar.prg
>> * contrib/hbqt/qtgui/TQProgressDialog.prg
>> * contrib/hbqt/qtgui/TQPushButton.prg
>> * contrib/hbqt/qtgui/TQRadialGradient.prg
>> * contrib/hbqt/qtgui/TQRadioButton.prg
>> * contrib/hbqt/qtgui/TQRegion.prg
>> * contrib/hbqt/qtgui/TQResizeEvent.prg
>> * contrib/hbqt/qtgui/TQScrollArea.prg
>> * contrib/hbqt/qtgui/TQScrollBar.prg
>> * contrib/hbqt/qtgui/TQSessionManager.prg
>> * contrib/hbqt/qtgui/TQSizeGrip.prg
>> * contrib/hbqt/qtgui/TQSizePolicy.prg
>> * contrib/hbqt/qtgui/TQSlider.prg
>> * contrib/hbqt/qtgui/TQSound.prg
>> * contrib/hbqt/qtgui/TQSpacerItem.prg
>> * contrib/hbqt/qtgui/TQSpinBox.prg
>> * contrib/hbqt/qtgui/TQSplashScreen.prg
>> * contrib/hbqt/qtgui/TQSplitter.prg
>> * contrib/hbqt/qtgui/TQStandardItem.prg
>> * contrib/hbqt/qtgui/TQStandardItemModel.prg
>> * contrib/hbqt/qtgui/TQStatusBar.prg
>> * contrib/hbqt/qtgui/TQStringListModel.prg
>> * contrib/hbqt/qtgui/TQStyle.prg
>> * contrib/hbqt/qtgui/TQStyledItemDelegate.prg
>> * contrib/hbqt/qtgui/TQStyleFactory.prg
>> * contrib/hbqt/qtgui/TQStyleHintReturn.prg
>> * contrib/hbqt/qtgui/TQStyleHintReturnMask.prg
>> * contrib/hbqt/qtgui/TQStyleHintReturnVariant.prg
>> * contrib/hbqt/qtgui/TQStyleOption.prg
>> * contrib/hbqt/qtgui/TQStyleOptionButton.prg
>> * contrib/hbqt/qtgui/TQStyleOptionComboBox.prg
>> * contrib/hbqt/qtgui/TQStyleOptionComplex.prg
>> * contrib/hbqt/qtgui/TQStyleOptionDockWidget.prg
>> * contrib/hbqt/qtgui/TQStyleOptionFocusRect.prg
>> * contrib/hbqt/qtgui/TQStyleOptionFrame.prg
>> * contrib/hbqt/qtgui/TQStyleOptionGroupBox.prg
>> * contrib/hbqt/qtgui/TQStyleOptionHeader.prg
>> * contrib/hbqt/qtgui/TQStyleOptionMenuItem.prg
>> * contrib/hbqt/qtgui/TQStyleOptionProgressBar.prg
>> * contrib/hbqt/qtgui/TQStyleOptionSizeGrip.prg
>> * contrib/hbqt/qtgui/TQStyleOptionSlider.prg
>> * contrib/hbqt/qtgui/TQStyleOptionSpinBox.prg
>> * contrib/hbqt/qtgui/TQStyleOptionTab.prg
>> * contrib/hbqt/qtgui/TQStyleOptionTabBarBase.prg
>> * contrib/hbqt/qtgui/TQStyleOptionTabWidgetFrame.prg
>> * contrib/hbqt/qtgui/TQStyleOptionTitleBar.prg
>> * contrib/hbqt/qtgui/TQStyleOptionToolBar.prg
>> * contrib/hbqt/qtgui/TQStyleOptionToolBox.prg
>> * contrib/hbqt/qtgui/TQStyleOptionToolButton.prg
>> * contrib/hbqt/qtgui/TQStyleOptionViewItem.prg
>> * contrib/hbqt/qtgui/TQStylePainter.prg
>> * contrib/hbqt/qtgui/TQSyntaxHighlighter.prg
>> * contrib/hbqt/qtgui/TQSystemTrayIcon.prg
>> * contrib/hbqt/qtgui/TQTabBar.prg
>> * contrib/hbqt/qtgui/TQTableView.prg
>> * contrib/hbqt/qtgui/TQTableWidget.prg
>> * contrib/hbqt/qtgui/TQTableWidgetItem.prg
>> * contrib/hbqt/qtgui/TQTableWidgetSelectionRange.prg
>> * contrib/hbqt/qtgui/TQTabWidget.prg
>> * contrib/hbqt/qtgui/TQTextBlock.prg
>> * contrib/hbqt/qtgui/TQTextBlockFormat.prg
>> * contrib/hbqt/qtgui/TQTextBlockGroup.prg
>> * contrib/hbqt/qtgui/TQTextBrowser.prg
>> * contrib/hbqt/qtgui/TQTextCharFormat.prg
>> * contrib/hbqt/qtgui/TQTextCursor.prg
>> * contrib/hbqt/qtgui/TQTextDocument.prg
>> * contrib/hbqt/qtgui/TQTextDocumentFragment.prg
>> * contrib/hbqt/qtgui/TQTextDocumentWriter.prg
>> * contrib/hbqt/qtgui/TQTextEdit.prg
>> * contrib/hbqt/qtgui/TQTextFormat.prg
>> * contrib/hbqt/qtgui/TQTextFragment.prg
>> * contrib/hbqt/qtgui/TQTextFrame.prg
>> * contrib/hbqt/qtgui/TQTextFrameFormat.prg
>> * contrib/hbqt/qtgui/TQTextImageFormat.prg
>> * contrib/hbqt/qtgui/TQTextInlineObject.prg
>> * contrib/hbqt/qtgui/TQTextItem.prg
>> * contrib/hbqt/qtgui/TQTextLayout.prg
>> * contrib/hbqt/qtgui/TQTextLength.prg
>> * contrib/hbqt/qtgui/TQTextLine.prg
>> * contrib/hbqt/qtgui/TQTextListFormat.prg
>> * contrib/hbqt/qtgui/TQTextObject.prg
>> * contrib/hbqt/qtgui/TQTextOption.prg
>> * contrib/hbqt/qtgui/TQTextTableFormat.prg
>> * contrib/hbqt/qtgui/TQTimeEdit.prg
>> * contrib/hbqt/qtgui/TQToolBar.prg
>> * contrib/hbqt/qtgui/TQToolBox.prg
>> * contrib/hbqt/qtgui/TQToolButton.prg
>> * contrib/hbqt/qtgui/TQTransform.prg
>> * contrib/hbqt/qtgui/TQTreeView.prg
>> * contrib/hbqt/qtgui/TQTreeWidget.prg
>> * contrib/hbqt/qtgui/TQTreeWidgetItem.prg
>> * contrib/hbqt/qtgui/TQValidator.prg
>> * contrib/hbqt/qtgui/TQVBoxLayout.prg
>> * contrib/hbqt/qtgui/TQWheelEvent.prg
>> * contrib/hbqt/qtgui/TQWidget.prg
>> * contrib/hbqt/qtgui/TQWidgetAction.prg
>> * contrib/hbqt/qtgui/TQWidgetItem.prg
>> * contrib/hbqt/qtgui/TQWindowsStyle.prg
>> * contrib/hbqt/qtgui/TQWizard.prg
>> * contrib/hbqt/qtgui/TQWizardPage.prg
>> * contrib/hbqt/qtnetwork/TQFtp.prg
>> * contrib/hbqt/qtnetwork/TQHttp.prg
>> * contrib/hbqt/qtnetwork/TQHttpRequestHeader.prg
>> * contrib/hbqt/qtnetwork/TQHttpResponseHeader.prg
>> * contrib/hbqt/qtnetwork/TQNetworkRequest.prg
>> 
>> * contrib/hbide/hbide.prg
>> 
>>   + Implemented to avoid use of QT_PTROF() and QT_PTROFXBP() macros.
>>     The functionality is transparent and accepts HBQT and HBXBP objects
>>     as is. 
>> 
>>     TODO: Method SomeQtClass:new( ... ) 
>>              ::pPtr := QSomeClass( ... )
>>           In above construct it is not known how many parameters
>>           are of type pointer and otherwise and how, if resolved, 
>>           be forwarded to Qt wrapper with (...) syntax.
>> 
>> Modified Paths:
>> --------------
>>   trunk/harbour/ChangeLog
>>   trunk/harbour/contrib/hbide/hbide.prg
>>   trunk/harbour/contrib/hbqt/filelist.mk
>>   trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
>> 
>> Added Paths:
>> -----------
>>   trunk/harbour/contrib/hbqt/hbqt_misc.prg
>> 
>> 
>> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From bedipritpal at hotmail.com  Thu Dec 17 11:43:52 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 17 11:44:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13275] trunk/harbour
In-Reply-To: <4C9B69C9-02A1-4A21-A7B6-B5095C26CAA6@syenar.hu>
References: <E1NLEA2-0001T7-0Z@c3vjzd1.ch3.sourceforge.com>
	<4C9B69C9-02A1-4A21-A7B6-B5095C26CAA6@syenar.hu>
Message-ID: <26831039.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
>>      TODO: Method SomeQtClass:new( ... ) 
>>               ::pPtr := QSomeClass( ... )
>>            In above construct it is not known how many parameters
>>            are of type pointer and otherwise and how, if resolved, 
>>            be forwarded to Qt wrapper with (...) syntax.
> 
> Again maybe I'm missing something, but in this 
> case isn't the pointer unwrapping done by inside 
> QSomeClass() ? I mean if you pass parameters 
> as is, why would you need to make any transformations 
> on them, when this transformation can be done 
> at destination function.
> 
> IOW it's shouldn't be caller's responsibility 
> to resolve any such internal details, and current 
> patch seemed to have addressed just that, so 
> maybe it's already okay.
> 

It should been like this, but unfortunately it is not.

The conversion is done on the PRG level and it is effective.
But for some classes, the constructor accepts variable 
number of parameters and hence (...) syntax is used.

So if I know how to put back on stack the changed parameters
retieved in :new() method, then this issue is done.
I am looking for something like:

Method QPixmap:new(...)
   LOCAL aP := hb_aParams()

   aeval( aP, {|x| x := hbqt_ptr( x ) } )

   Qt_QPixmap(...)  /* How this can be achieved with above syntax */
   
   RETURN Self


Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13275--trunk-harbour-tp26826400p26831039.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Thu Dec 17 12:00:27 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec 17 12:11:57 2009
Subject: [Harbour] Release notes/questions
In-Reply-To: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>
Message-ID: <20091217170027.GA17257@linux-4bod.home.aster.pl>

On Thu, 17 Dec 2009, Szak?ts Viktor wrote:

Hi,

> - If the binary release is up to me, I'll 
>   leave out DJGPP build, since I don't possess a 
>   dev environment for it anymore. watcom/dos build 
>   can be included, but I'm not sure if it's 
>   worth it.

I can create DJGPP and OpenWatcom Harbour binaries.
BTW Creating Harbour shared libraries in OW Dos builds does not
work due to some insufficient dependencies in DLL startup code so
OW tries to link both startup code (also for standalone binaries)
into harbour.dll. At least when I use OW in Linux. Does it work
for you on other platforms?. If not then I suggest to temporary
disable creating harbour.dll in dos/watcom.mk by simple modification
like:

   ifeq ($(HB_BUILD_DLL),yes)
      DY_RULE = $(create_dynlib)
   endef

Maybe we should also use the same method in DJGPP.
If someone adds support for -shared binaries in new DJGPP
versions then it will be enough to rebuild Harbour setting
HB_BUILD_DLL=yes. Such solution is also more flexible for
testing but if you prefer to fully comment DY_RULE then of
course it's also OK for me.

> - Should we include watcom/os2 and watcom/linux
>   in final win binary release? IMO the only 
>   reason is for technological showcase, but 
>   I doubt any win users would actually use these.
>   Leaving it out saves build time, package size 
>   and upload/download time.

Maybe we should create separate MS-Windows package with only
OW binaries which will allow to create Harbour applications
for all platforms?

best regards,
Przemek
From bedipritpal at hotmail.com  Thu Dec 17 12:52:09 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 17 12:52:20 2009
Subject: Re[Harbour] lease notes/questions
In-Reply-To: <CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>
	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>
	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
Message-ID: <26832160.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> What does QT 4.6 offer over 4.5.x, that is 
> so important that it's worth to risk whole 
> Harbour quality because of it? (or delaying 
> the release by - say - a month)
> 

Nothing special except some more advanced classes
dealing with "gestures". And probably in the near future
I am not going to touch them. We need a stable framewprk
based on Qt 4.5 only then we can march ahead.

So, the final word is Harbour 2.0 is going to support 4.5 only.

Regards
Pritpal Bedi
 

-- 
View this message in context: http://old.nabble.com/Release-notes-questions-tp26825506p26832160.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From marcosgambeta at uol.com.br  Thu Dec 17 13:17:44 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Thu Dec 17 13:17:56 2009
Subject: [Harbour] Window Main X Window Modal X HBQT
In-Reply-To: <26818868.post@talk.nabble.com>
References: <26818868.post@talk.nabble.com>
Message-ID: <4B2A75C8.8060602@uol.com.br>

PCToledo escreveu:
> Someone could send a small example of how to create a Window Main and open
> it in a Window Modal?

Your sample with a login dialog:

[code]
/*----------------------------------------------------------------------*/
#include "hbqt.ch"
#include "common.ch"

#define QT_EVE_TRIGGERED_B           "triggered(bool)"

STATIC oApplication

/*----------------------------------------------------------------------*/
INIT PROCEDURE Qt_Start()
    oApplication := QApplication():new()
    RETURN

EXIT PROCEDURE Qt_End()
    oApplication:quit()
    RETURN

Procedure Main()

    Local oMainWindow, oStatusBar, oStatusTit, oMenuBar, oMenuFile, oMB

    oMainWindow := QMainWindow():New()

    oMainWindow:setMouseTracking( .t. )
    oMainWindow:SetWindowTitle("Program title")

    oStatusBar := QStatusBar():new(QT_PTROF(oMainWindow))

    oStatusTit := QLabel():new()
    oStatusTit:setText(" PCToledo Sistemas - suporte@pctoledo.com.br")
    oStatusTit:setMinimumSize(oStatusTit:sizeHint())

    oStatusBar:addWidget(QT_PTROF(oStatusTit),1)

    oMainWindow:setStatusBar( QT_PTROF(oStatusBar) )
    oStatusBar:setSizeGripEnabled(.f.)

    oMenuBar := QMenuBar():new()
    oMenuBar:resize( oMainWindow:width(), 25 )

    oMenuFile := QMenu():new()
    oMenuFile:setTitle("&File")

    Qt_Connect_Signal( oMenuFile:AddAction("&Exit"), QT_EVE_TRIGGERED_B, 
{||oMainWindow:close() })
    oMenuBar:addMenu( QT_PTROF( oMenuFile ) )

    oMainWindow:setMenuBar( QT_PTROF( oMenuBar ) )

    IF PassWord(oMainWindow)
      //valid password
       oMainWindow:showMaximized()
       oApplication:Exec()
    ELSE
      //Invalid Password
      oMB := QMessageBox():new()
      oMB:setInformativeText( "Invalid user or password" )
      oMB:setWindowTitle( "Login" )
      oMB:exec()
    ENDIF

    //oMainWindow:showMaximized()

    //oApplication:Exec()

Return

STATIC FUNCTION PassWord()
//Local Ret:=0
Local oDialog
Local oFormLayout
Local oLabelUser
Local oLineEditUser
Local oLabelPassword
Local oLineEditPassword
Local oButtonOk
Local r

    oDialog := QDialog():New()
    oDialog:setWindowTitle("Login")
    oDialog:resize(210,130)
    oFormLayout := QFormLayout():New(QT_PTROF( oDialog ))
    oLabelUser := QLabel():New()
    oLabelUser:setText("User")
    oLineEditUser := QLineEdit():New()
    oLabelPassword := QLabel():New()
    oLabelPassword:setText("Password")
    oLineEditPassWord := QLineEdit():New()
    oLineEditPassWord:setEchoMode(2)
    oFormLayout:addRow( QT_PTROF(oLabelUser), QT_PTROF(oLineEditUser) )
    oFormLayout:addRow( QT_PTROF(oLabelPassword), 
QT_PTROF(oLineEditPassword) )
    oButtonOk := QPushButton():New(QT_PTROF( oDialog ))
    oButtonOk:setText("OK")
    oButtonOk:move(100,80)
    Qt_Connect_Signal( QT_PTROF(oButtonOk), "clicked()", 
{||IIF(oLineEditUser:text()=="user".and.oLineEditPassword:text()=="password",oDialog:done(1),oDialog:done(0)) 
})

r := oDialog:exec()

//Return (Ret)
Return IIF(r==1,.t.,.f.)
[/code]

Take some time to study the classes QDialog and QFormLayout (very useful).


-- 
Regards,
Marcos Antonio Gambeta
From toninhofwi at yahoo.com.br  Thu Dec 17 13:49:12 2009
From: toninhofwi at yahoo.com.br (ToninhoFWi)
Date: Thu Dec 17 13:49:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13270] trunk/harbour
In-Reply-To: <E1NL0gB-0003xN-LO@d5vjzd1.ch3.sourceforge.com>
References: <E1NL0gB-0003xN-LO@d5vjzd1.ch3.sourceforge.com>
Message-ID: <37vki5pfmu3kkrdar90jdqm3mmq7e08ebf@4ax.com>

>    + Added example for simple form of WIN_MAPISENDMAIL() call.

Hi Viktor,

Thanks a lot for your changes, but now, first sample GPF and second
don't call MAPI.

Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 

From Istvan.Bisz at t-online.hu  Thu Dec 17 14:23:04 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Thu Dec 17 14:23:14 2009
Subject: [Harbour] Release notes/questions
In-Reply-To: <CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>
	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
Message-ID: <000c01ca7f4e$5bb1b530$13151f90$@Bisz@t-online.hu>

Hi,

The Harbour 2.0 should implement just the latest  Qt 4.5 patch release
(4.5.3) interface, the Qt4.6 is the next year play space.

Best regards,
Istv?n


From harbour.01 at syenar.hu  Thu Dec 17 14:25:14 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 17 14:25:24 2009
Subject: Re[Harbour] lease notes/questions
In-Reply-To: <26832160.post@talk.nabble.com>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>
	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>
	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
	<26832160.post@talk.nabble.com>
Message-ID: <A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>

> Viktor Szak?ts wrote:
>> 
>> What does QT 4.6 offer over 4.5.x, that is 
>> so important that it's worth to risk whole 
>> Harbour quality because of it? (or delaying 
>> the release by - say - a month)
>> 
> 
> Nothing special except some more advanced classes
> dealing with "gestures". And probably in the near future
> I am not going to touch them. We need a stable framewprk
> based on Qt 4.5 only then we can march ahead.
> 
> So, the final word is Harbour 2.0 is going to support 4.5 only.

Thank you. I think I'll save myself the hurdle 
of installing 4.5.3, and settle on 4.5.2 which 
is readily and easily available from QT homepage. 
4.5.3 is hard to dig out.

As for QT for MSVC, I've since deleted the 
locally built version, so I'll have to recheck if 
the standard (MINGW) one is enough to build it.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Thu Dec 17 14:25:51 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Thu Dec 17 14:25:59 2009
Subject: [Harbour] Window Main X Window Modal X HBQT
In-Reply-To: <4B2A75C8.8060602@uol.com.br>
References: <26818868.post@talk.nabble.com> <4B2A75C8.8060602@uol.com.br>
Message-ID: <000d01ca7f4e$befb5740$3cf205c0$@Bisz@t-online.hu>

Please include it in qt test...

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Marcos Gambeta
Sent: 2009. december 17. 19:18
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Window Main X Window Modal X HBQT

PCToledo escreveu:
> Someone could send a small example of how to create a Window Main and open
> it in a Window Modal?

Your sample with a login dialog:

[code]
/*----------------------------------------------------------------------*/
#include "hbqt.ch"
#include "common.ch"

#define QT_EVE_TRIGGERED_B           "triggered(bool)"

STATIC oApplication

/*----------------------------------------------------------------------*/
INIT PROCEDURE Qt_Start()
    oApplication := QApplication():new()
    RETURN

EXIT PROCEDURE Qt_End()
    oApplication:quit()
    RETURN

Procedure Main()

    Local oMainWindow, oStatusBar, oStatusTit, oMenuBar, oMenuFile, oMB

    oMainWindow := QMainWindow():New()

    oMainWindow:setMouseTracking( .t. )
    oMainWindow:SetWindowTitle("Program title")

    oStatusBar := QStatusBar():new(QT_PTROF(oMainWindow))

    oStatusTit := QLabel():new()
    oStatusTit:setText(" PCToledo Sistemas - suporte@pctoledo.com.br")
    oStatusTit:setMinimumSize(oStatusTit:sizeHint())

    oStatusBar:addWidget(QT_PTROF(oStatusTit),1)

    oMainWindow:setStatusBar( QT_PTROF(oStatusBar) )
    oStatusBar:setSizeGripEnabled(.f.)

    oMenuBar := QMenuBar():new()
    oMenuBar:resize( oMainWindow:width(), 25 )

    oMenuFile := QMenu():new()
    oMenuFile:setTitle("&File")

    Qt_Connect_Signal( oMenuFile:AddAction("&Exit"), QT_EVE_TRIGGERED_B, 
{||oMainWindow:close() })
    oMenuBar:addMenu( QT_PTROF( oMenuFile ) )

    oMainWindow:setMenuBar( QT_PTROF( oMenuBar ) )

    IF PassWord(oMainWindow)
      //valid password
       oMainWindow:showMaximized()
       oApplication:Exec()
    ELSE
      //Invalid Password
      oMB := QMessageBox():new()
      oMB:setInformativeText( "Invalid user or password" )
      oMB:setWindowTitle( "Login" )
      oMB:exec()
    ENDIF

    //oMainWindow:showMaximized()

    //oApplication:Exec()

Return

STATIC FUNCTION PassWord()
//Local Ret:=0
Local oDialog
Local oFormLayout
Local oLabelUser
Local oLineEditUser
Local oLabelPassword
Local oLineEditPassword
Local oButtonOk
Local r

    oDialog := QDialog():New()
    oDialog:setWindowTitle("Login")
    oDialog:resize(210,130)
    oFormLayout := QFormLayout():New(QT_PTROF( oDialog ))
    oLabelUser := QLabel():New()
    oLabelUser:setText("User")
    oLineEditUser := QLineEdit():New()
    oLabelPassword := QLabel():New()
    oLabelPassword:setText("Password")
    oLineEditPassWord := QLineEdit():New()
    oLineEditPassWord:setEchoMode(2)
    oFormLayout:addRow( QT_PTROF(oLabelUser), QT_PTROF(oLineEditUser) )
    oFormLayout:addRow( QT_PTROF(oLabelPassword), 
QT_PTROF(oLineEditPassword) )
    oButtonOk := QPushButton():New(QT_PTROF( oDialog ))
    oButtonOk:setText("OK")
    oButtonOk:move(100,80)
    Qt_Connect_Signal( QT_PTROF(oButtonOk), "clicked()", 
{||IIF(oLineEditUser:text()=="user".and.oLineEditPassword:text()=="password"
,oDialog:done(1),oDialog:done(0)) 
})

r := oDialog:exec()

//Return (Ret)
Return IIF(r==1,.t.,.f.)
[/code]

Take some time to study the classes QDialog and QFormLayout (very useful).


-- 
Regards,
Marcos Antonio Gambeta
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From jarabal at gmail.com  Thu Dec 17 14:37:04 2009
From: jarabal at gmail.com (Xavi)
Date: Thu Dec 17 14:37:50 2009
Subject: [Harbour] Fixed close event in windows console GTWIN.
Message-ID: <4B2A8860.40208@gmail.com>

As subject. If no objection, please Viktor, could you update the repository.

Thanks.

-- 
Xavi



-------------- next part --------------
A non-text attachment was scrubbed...
Name: gtwin.zip
Type: application/x-zip
Size: 14381 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091217/961cc098/gtwin-0001.bin
From harbour.01 at syenar.hu  Thu Dec 17 14:43:44 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec 17 14:43:55 2009
Subject: [Harbour] Re: Fixed close event in windows console GTWIN.
In-Reply-To: <4B2A8860.40208@gmail.com>
References: <4B2A8860.40208@gmail.com>
Message-ID: <52287722-5368-4861-9DCE-ACB49DB046E4@syenar.hu>

Hi Xavi,

No problem, can you describe what does it fix 
exactly? Symptoms? I'd like to include it ChangeLog.

Brgds,
Viktor

On 2009 Dec 17, at 20:37, Xavi wrote:

> As subject. If no objection, please Viktor, could you update the repository.
> 
> Thanks.
> 
> -- 
> Xavi
> 
> 
> 
> <gtwin.zip>

From mbelgrano at deltain.it  Thu Dec 17 14:52:55 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 17 14:53:23 2009
Subject: Re[Harbour] lease notes/questions
In-Reply-To: <26832160.post@talk.nabble.com>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu> 
	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com> 
	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
	<26832160.post@talk.nabble.com>
Message-ID: <609353e70912171152j8eb8b07y3ce500fdfe8749e3@mail.gmail.com>

will be  possible made a 2.1 after stabilization 4.5 and with hbide ready

2009/12/17 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hi
>
>
> Viktor Szak?ts wrote:
>>
>> What does QT 4.6 offer over 4.5.x, that is
>> so important that it's worth to risk whole
>> Harbour quality because of it? (or delaying
>> the release by - say - a month)
>>
>
> Nothing special except some more advanced classes
> dealing with "gestures". And probably in the near future
> I am not going to touch them. We need a stable framewprk
> based on Qt 4.5 only then we can march ahead.
>
> So, the final word is Harbour 2.0 is going to support 4.5 only.
>
> Regards
> Pritpal Bedi
>
>
> --
> View this message in context: http://old.nabble.com/Release-notes-questions-tp26825506p26832160.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From bedipritpal at hotmail.com  Thu Dec 17 15:08:59 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 17 15:09:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13275] trunk/harbour
In-Reply-To: <DF6E4114-E2EF-46C3-A63C-6D403667F42E@syenar.hu>
References: <E1NLEA2-0001T7-0Z@c3vjzd1.ch3.sourceforge.com>
	<05349B41-830D-4DB3-88F6-1FA06D30C955@syenar.hu>
	<DF6E4114-E2EF-46C3-A63C-6D403667F42E@syenar.hu>
Message-ID: <26834186.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> I've just checked further and the fix is quite simple 
> and obvious, so I can make it.
> 
> The other comment is that maybe there is no need to 
> make any sort of hack to check for "Q" or "HB" in the 
> beginning of class name, but simply check whether 
> :pPtr member exists and retrieve it if it does. Low 
> level code check for required object pointer type 
> anyway, so there is no need to add these slow and 
> error-prone checks on the higher level.
> 
> Here is a non-optimal/pseudo version of this method:
> (optimal could be done in C probably)
> 
> ---
> FUNCTION hbqt_ptr( xParam )
> 
>    IF hb_isObject( xParam ) .AND. ;
>       __objHasMsg( xParam, "PPTR" ) // we need something which doesn't RTE
> on missing msg and which check for variable.
>        RETURN xParam:pPtr
>    ENDIF
> 
>    RETURN xParam
> ---
> 
> (I assumed XHB stuff is already removed from here)
> 
> Same thing could be rewritten in C probably, for 
> smoother/faster results.
> 


(I assumed XHB stuff is already removed from here)

But why we do not want to include XBP stuff here ?
This does not interacts with XBP anyway, only XBP interacts 
with it, and this poses no harm.

The final function skeleton may be like this

//-------------------//
FUNCTION hbqt_ptr( xParam )

   IF hb_isObject( xParam ) 
      if __objHasMsg( xParam, "PPTR" ) 
         RETURN xParam:pPtr

      elseif __objHasMsg( xParam, "OWIDGET" )
         RETURN xParam:oWidget:pPtr

      endif

   ENDIF

   RETURN xParam
//---------------------//

It will allow to mix HBQT and HBXBP use the same syntax
with interchangele way.

Of course, C level call is much more efficient, I will give it a try.

I have more changes to commit, so please do not commit
anything here, I will do thw spadework, just suggest for 
some time.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13275--trunk-harbour-tp26826400p26834186.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Dec 17 15:10:24 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 17 15:10:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13275] trunk/harbour
In-Reply-To: <05349B41-830D-4DB3-88F6-1FA06D30C955@syenar.hu>
References: <E1NLEA2-0001T7-0Z@c3vjzd1.ch3.sourceforge.com>
	<05349B41-830D-4DB3-88F6-1FA06D30C955@syenar.hu>
Message-ID: <26834209.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> It hard-wires XBP functionality (which I've removed 
> once already) to HBQT lib.
> 
> We should avoid that for several obvious reasons. 
> Can you fix it to not require this hack?
> 

There is nothing hard-wired.

I see the final goal in larger perspective
and please do not break my rythm.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13275--trunk-harbour-tp26826400p26834209.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Dec 17 15:20:33 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec 17 15:20:42 2009
Subject: [Harbour] Release notes/questions
In-Reply-To: <000c01ca7f4e$5bb1b530$13151f90$@Bisz@t-online.hu>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>
	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
	<000c01ca7f4e$5bb1b530$13151f90$@Bisz@t-online.hu>
Message-ID: <F63FE0FF-EA85-412F-9A8A-09211177CF8F@syenar.hu>

> The Harbour 2.0 should implement just the latest  Qt 4.5 patch release
> (4.5.3) interface, the Qt4.6 is the next year play space.

Okay. The only small difference that I won't install 
4.5.3. The main reason is that it's almost nowhere 
advertised, so users are much likely to stumble upon 
4.5.2.

Anyhow I feel that HBQT is still a work in progress, 
and for this purpose it really doesn't matter yet 
what 4.x version we use. We're not yet close to 
exploiting the limits of the QT framework as far as 
I can see.

Brgds,
Viktor

From jarabal at gmail.com  Thu Dec 17 15:44:33 2009
From: jarabal at gmail.com (Xavi)
Date: Thu Dec 17 15:45:20 2009
Subject: [Harbour] Re: Fixed close event in windows console GTWIN.
In-Reply-To: <52287722-5368-4861-9DCE-ACB49DB046E4@syenar.hu>
References: <4B2A8860.40208@gmail.com>
	<52287722-5368-4861-9DCE-ACB49DB046E4@syenar.hu>
Message-ID: <4B2A9831.4030107@gmail.com>

Hi Viktor,

Now the event handler is executed.
For example with the program t.prg .-

< --- t.prg --- >

Procedure Main()
    Local cArg := hb_CmdLine()

    REQUEST HB_GT_WVG
    REQUEST HB_GT_WIN
    REQUEST HB_GT_NUL_DEFAULT

    if !Empty(cArg) .and. (Val(cArg) == 1) .and. !('//GTWIN' $ cArg)
       hb_gtReload( 'WVG' )
    else
       hb_gtReload( 'WIN' )
    endif

    ? "Click [X] to close windows console "
    while( LastKey() != 27 )
       Inkey( 1 )
    enddo

    Wait
return

< ---------- >

We will have the same compartment for calls .-

t

and

t //GTWIN

-- 
Xavi

El 17/12/2009 20:43, Viktor Szak?ts escribi?:
> Hi Xavi,
>
> No problem, can you describe what does it fix
> exactly? Symptoms? I'd like to include it ChangeLog.
>
> Brgds,
> Viktor
>
> On 2009 Dec 17, at 20:37, Xavi wrote:
>
>> As subject. If no objection, please Viktor, could you update the repository.
>>
>> Thanks.
>>
>> --
>> Xavi
>>
>>
>>
>> <gtwin.zip>
>
>
From Istvan.Bisz at t-online.hu  Thu Dec 17 16:01:56 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Thu Dec 17 16:02:06 2009
Subject: [Harbour] Release notes/questions
In-Reply-To: <F63FE0FF-EA85-412F-9A8A-09211177CF8F@syenar.hu>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>	<000c01ca7f4e$5bb1b530$13151f90$@Bisz@t-online.hu>
	<F63FE0FF-EA85-412F-9A8A-09211177CF8F@syenar.hu>
Message-ID: <001a01ca7f5c$2c4ddea0$84e99be0$@Bisz@t-online.hu>


> Okay. The only small difference that I won't install 
> 4.5.3. The main reason is that it's almost nowhere 
> advertised, so users are much likely to stumble upon 
> 4.5.2.

Maybe this is or problem...

> Anyhow I feel that HBQT is still a work in progress, 
> and for this purpose it really doesn't matter yet 
> what 4.x version we use. We're not yet close to 
> exploiting the limits of the QT framework as far as 
>I can see.

?
I am not sure that I cleanly realized this info. We just use the latest Qt
4.5, as we planned.

Best regards,
Istv?n


From vszakats at users.sourceforge.net  Thu Dec 17 16:22:28 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec 17 16:22:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13277] trunk/harbour
Message-ID: <E1NLNno-0008Cl-7Z@3kljzd1.ch3.sourceforge.com>

Revision: 13277
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13277&view=rev
Author:   vszakats
Date:     2009-12-17 21:22:26 +0000 (Thu, 17 Dec 2009)

Log Message:
-----------
2009-12-17 22:21 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_misc.prg
  * contrib/hbide/hbide.prg
    - Deleted hack which moved HBXBP specific functionality
      into the core of HBQT.
      I had to restore QT_PTROFXBP() macros inside hbide.
      QT_PTROFXBP() has not much to do with QT_PTROF() as the
      former serves to access oWidget member of passed class.
      I see no need to move such logic into HBQT core code.
      I restored QT_PTROF() also, but it's redefined as a dummy
      in hbide.prg. I don't understand now why QT_PTROF() works
      as dummy in hbide, but it doesn't when used as dummy in
      HBXBP.
      All in all, this means the .prg level :pPtr trick is still 
      needed in some places, while it's not needed in some others.
    ; TOFIX: HBQT has no pointer checking at all before accessing
             C++ level objects, which means the simplest .prg level
             error is instantly resulting in a GPF. All hb_par_*()
             results must be checked for NULL before accessing them,
             or better yet, and RTE should be generated right from
             the hb_par_*() function.

  * src/vm/classes.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbqt/hbqt_misc.prg
    trunk/harbour/src/vm/classes.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Thu Dec 17 16:27:57 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Thu Dec 17 16:28:06 2009
Subject: [Harbour] GTXWC clipboard paste: hang
In-Reply-To: <20091217104807.GA18626@linux-4bod.home.aster.pl>
References: <AD2EC1E8-CA96-40B0-B81E-0D540C750CFB@syenar.hu>
	<20091216180031.GA27412@linux-4bod.home.aster.pl>
	<E81069FD-2AD0-4634-BFCB-9B34F4F4E3E5@syenar.hu>
	<7FE5ECA5-79DF-4188-B78E-E446ED04AB9F@syenar.hu>
	<20091217024820.GA2098@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0912170433460.27623@dawn.royalcomp.hu>
	<20091217104807.GA18626@linux-4bod.home.aster.pl>
Message-ID: <alpine.DEB.2.00.0912172223300.27623@dawn.royalcomp.hu>

On Thu, 17 Dec 2009, Przemys?aw Czerpak wrote:

hi,

 > > the symptom is that when there is already data in the primary when 
 > > this app is started, the first inkey(0) is immediately satisfied (and 
 > > then it shows the correct content for the primary selection).
 > > 
 > > this doesn't happen absolutely always, but it does most of the time. 
 > > if the primary is empty at app startup, then it never happens.

this one is solved,, thank you.

 > > so the guess it that *something* is there that causes clients to exit 
 > > unexpectedly. it is not even sure that the client that exits is the 

this one is not.

 > Your VM crashes when selection owner does not response. I'll add code
 > to disable own selection in GTXWC exit phase and I hope it will help
 > anyhow real fix should be done in WM code because your description
 > suggests that it may have very serious problems and even crash if
 > selection owner terminates suddenly without clearing the selection
 > i.e. due to delivered asynchronous signal (killall myapp).

thanks for the explanation.

never mind about the second issue just yet, i will bring it up with wm 
people.

thanks,


-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Thu Dec 17 16:28:07 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 17 16:28:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13275] trunk/harbour
In-Reply-To: <26834186.post@talk.nabble.com>
References: <E1NLEA2-0001T7-0Z@c3vjzd1.ch3.sourceforge.com>
	<05349B41-830D-4DB3-88F6-1FA06D30C955@syenar.hu>
	<DF6E4114-E2EF-46C3-A63C-6D403667F42E@syenar.hu>
	<26834186.post@talk.nabble.com>
Message-ID: <0B167057-D147-444F-ACEC-2D02BF9AB0C6@syenar.hu>

> (I assumed XHB stuff is already removed from here)
> 
> But why we do not want to include XBP stuff here ?
> This does not interacts with XBP anyway, only XBP interacts 
> with it, and this poses no harm.

I've tried to describe this in several of my e-mails, 
so I'm not sure if will be able to iterate it more.

To repeat: It's a _basic_ requirement for component 
separation. HBQT should know _nothing_ about hbide, 
or hbxbp, or anything else which is a layer above it.

Currently HBQT violates this by holding classes for 
HBIDE, and also HBXBP, which is wrong. Such inter-
dependencies should be avoided to have a clean layout.

Currently it's used to trick out our agreement to not 
include C code in HBXBP, instead you simply moved 
these components to HBQT. For HBIDE it's slightly 
different cause, but it's also not good this way.

> The final function skeleton may be like this
> 
> //-------------------//
> FUNCTION hbqt_ptr( xParam )
> 
>   IF hb_isObject( xParam ) 
>      if __objHasMsg( xParam, "PPTR" ) 
>         RETURN xParam:pPtr
> 
>      elseif __objHasMsg( xParam, "OWIDGET" )
>         RETURN xParam:oWidget:pPtr

No, this is wrong. OWIDGET has to with 
HBXBP, but HBQT should have no inside knowledge 
about HBXBP, since it's a different lib at 
a different layer.

> It will allow to mix HBQT and HBXBP use the same syntax
> with interchangele way.

This should be solved on the HBXBP level only.

> Of course, C level call is much more efficient, I will give it a try.
> 
> I have more changes to commit, so please do not commit
> anything here, I will do thw spadework, just suggest for 
> some time.

Sorry I've committed something before reading 
your mail, but pls don't restore such layer 
violations.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Dec 17 16:30:13 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 17 16:30:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13275] trunk/harbour
In-Reply-To: <26834209.post@talk.nabble.com>
References: <E1NLEA2-0001T7-0Z@c3vjzd1.ch3.sourceforge.com>
	<05349B41-830D-4DB3-88F6-1FA06D30C955@syenar.hu>
	<26834209.post@talk.nabble.com>
Message-ID: <5E8475FA-2B1C-4D3C-AA14-BD7D5A4E500C@syenar.hu>

>> It hard-wires XBP functionality (which I've removed 
>> once already) to HBQT lib.
>> 
>> We should avoid that for several obvious reasons. 
>> Can you fix it to not require this hack?
>> 
> 
> There is nothing hard-wired.
> 
> I see the final goal in larger perspective
> and please do not break my rythm.

Hm?

What do did is the same thing if a Windows API 
had the following lines in it:

WINAPI void Kernel32Goodie( LPTSTR s )
{
   if( getappname() == "MSOFFICE" )
      do this
   else
      do that
}

Absolutely wrong and root of all evil.

Don't do it.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Dec 17 16:49:27 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec 17 16:49:36 2009
Subject: [Harbour] Re: Fixed close event in windows console GTWIN.
In-Reply-To: <4B2A9831.4030107@gmail.com>
References: <4B2A8860.40208@gmail.com>
	<52287722-5368-4861-9DCE-ACB49DB046E4@syenar.hu>
	<4B2A9831.4030107@gmail.com>
Message-ID: <8E7C8297-2745-4FCB-AB76-CCC416A8C0C1@syenar.hu>

> < --- t.prg --- >
> 
> Procedure Main()
>   Local cArg := hb_CmdLine()
> 
>   REQUEST HB_GT_WVG
>   REQUEST HB_GT_WIN
>   REQUEST HB_GT_NUL_DEFAULT
> 
>   if !Empty(cArg) .and. (Val(cArg) == 1) .and. !('//GTWIN' $ cArg)
>      hb_gtReload( 'WVG' )
>   else
>      hb_gtReload( 'WIN' )
>   endif
> 
>   ? "Click [X] to close windows console "
>   while( LastKey() != 27 )
>      Inkey( 1 )
>   enddo
> 
>   Wait
> return

Can't see any difference with MINGW.

I changed WVG to WVT for my tests and 
used 'hbmk2 t.prg' to build it.

What am I doing wrong?

Could anybody help here?

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Dec 17 16:52:15 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 17 16:52:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13275] trunk/harbour
In-Reply-To: <26834209.post@talk.nabble.com>
References: <E1NLEA2-0001T7-0Z@c3vjzd1.ch3.sourceforge.com>
	<05349B41-830D-4DB3-88F6-1FA06D30C955@syenar.hu>
	<26834209.post@talk.nabble.com>
Message-ID: <14029C49-4397-41C5-B417-710DE91E988A@syenar.hu>

Hi Pritpal,

>> It hard-wires XBP functionality (which I've removed 
>> once already) to HBQT lib.
>> 
>> We should avoid that for several obvious reasons. 
>> Can you fix it to not require this hack?
>> 
> 
> There is nothing hard-wired.

hbqt_misc.prg - which is part of HBQT - _has_ the word 
"XBP" or "OWIDGET" in it, which are XBP properties, and 
this means HBXBP logic _is_ hard-wired into HBQT.

Simple as that.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Thu Dec 17 16:59:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec 17 16:59:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13278] trunk/harbour
Message-ID: <E1NLOO1-0007ko-GT@c3vjzd1.ch3.sourceforge.com>

Revision: 13278
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13278&view=rev
Author:   vszakats
Date:     2009-12-17 21:59:47 +0000 (Thu, 17 Dec 2009)

Log Message:
-----------
2009-12-17 22:59 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/mapi.c
    ! Fixed typo causing GPF when using 'long' calling form.
    ! Fixed not counting recipients when using 'simple' calling form.
    ; Toninho, could you pls retest?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/mapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Dec 17 17:00:47 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 17 17:00:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13270] trunk/harbour
In-Reply-To: <37vki5pfmu3kkrdar90jdqm3mmq7e08ebf@4ax.com>
References: <E1NL0gB-0003xN-LO@d5vjzd1.ch3.sourceforge.com>
	<37vki5pfmu3kkrdar90jdqm3mmq7e08ebf@4ax.com>
Message-ID: <ED16F51C-A280-4432-8F04-044EC982F41E@syenar.hu>

Hi Toninho, 

Pls recheck after:
   2009-12-17 22:59 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)

Brgds,
Viktor

On 2009 Dec 17, at 19:49, ToninhoFWi wrote:

>>   + Added example for simple form of WIN_MAPISENDMAIL() call.
> 
> Hi Viktor,
> 
> Thanks a lot for your changes, but now, first sample GPF and second
> don't call MAPI.
> 
> Regards,
> 
> Toninho.
> 
> __________________________________________________
> Fa?a liga??es para outros computadores com o novo Yahoo! Messenger
> http://br.beta.messenger.yahoo.com/
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Dec 17 17:03:10 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec 17 17:03:18 2009
Subject: [Harbour] Release notes/questions
In-Reply-To: <001a01ca7f5c$2c4ddea0$84e99be0$@Bisz@t-online.hu>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>	<000c01ca7f4e$5bb1b530$13151f90$@Bisz@t-online.hu>
	<F63FE0FF-EA85-412F-9A8A-09211177CF8F@syenar.hu>
	<001a01ca7f5c$2c4ddea0$84e99be0$@Bisz@t-online.hu>
Message-ID: <05A132CD-9974-4BC4-AC8C-167FCAB36523@syenar.hu>

>> Okay. The only small difference that I won't install 
>> 4.5.3. The main reason is that it's almost nowhere 
>> advertised, so users are much likely to stumble upon 
>> 4.5.2.
> 
> Maybe this is or problem...

can't ECC the typo here sorry :/

> 
>> Anyhow I feel that HBQT is still a work in progress, 
>> and for this purpose it really doesn't matter yet 
>> what 4.x version we use. We're not yet close to 
>> exploiting the limits of the QT framework as far as 
>> I can see.
> 
> ?
> I am not sure that I cleanly realized this info. We just use the latest Qt
> 4.5, as we planned.

I was trying to say that it has little 
importance whether we use 4.5.2 or 4.5.3.

HBQT is in alpha (experimental) stage in 
all senses.

Brgds,
Viktor

From bedipritpal at hotmail.com  Thu Dec 17 17:50:55 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 17 17:51:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13277] trunk/harbour
In-Reply-To: <E1NLNno-0008Cl-7Z@3kljzd1.ch3.sourceforge.com>
References: <E1NLNno-0008Cl-7Z@3kljzd1.ch3.sourceforge.com>
Message-ID: <26836402.post@talk.nabble.com>


Hello Viktor


I think, due to mailing-list problems not my all mails
are populated, and you committed without knowledge of
internal working of HBQT and HBXBP.


vszakats wrote:
> 
> 2009-12-17 22:21 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbqt/hbqt_misc.prg
>   * contrib/hbide/hbide.prg
>     - Deleted hack which moved HBXBP specific functionality
>       into the core of HBQT.
> 

I am still trying to understand how this can be termed as a HACK.



>       I had to restore QT_PTROFXBP() macros inside hbide.
>       QT_PTROFXBP() has not much to do with QT_PTROF() as the
>       former serves to access oWidget member of passed class.
>       I see no need to move such logic into HBQT core code.
>       I restored QT_PTROF() also, but it's redefined as a dummy
>       in hbide.prg. I don't understand now why QT_PTROF() works
>       as dummy in hbide, but it doesn't when used as dummy in
>       HBXBP.
>       All in all, this means the .prg level :pPtr trick is still 
>       needed in some places, while it's not needed in some others.
> 

You introduced these lines in hbide.prg:

// HACK HACK HACK
#undef QT_PTROF
#define QT_PTROF( oObj )                          ( oObj )

// HACK HACK HACK
#undef QT_PTROFXBP
#define QT_PTROFXBP( oXbp )                       ( oXbp:oWidget )

But why did you do so?

And again you restored QT_PTROF() macro in the code, 
where was the need to introduce it again, while our goal
was to eliminate these calls. After implementing I removed them
and you introduced again and that too with dummy macros. 
Can you let me do the way I want to do ? Or you want to do it yourself ?

QT_PTROFXBP( oXbp )  is defined as ( oXbp:oWidget:pPtr )
so what is wrong with it ?

The way I desined hbqt_ptr() function was taking care 
of HBQT and HBXBP objects providing the same syntax.



>     ; TOFIX: HBQT has no pointer checking at all before accessing
>              C++ level objects, which means the simplest .prg level
>              error is instantly resulting in a GPF. All hb_par_*()
>              results must be checked for NULL before accessing them,
>              or better yet, and RTE should be generated right from
>              the hb_par_*() function.
> 

I agree 100% but it is again a very tricky issue.
May be later auto generation takes care of it but at 
present I do not know how to hook it.

BTW I cannot simply understand your mindset in this regard.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13277--trunk-harbour-tp26835971p26836402.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Dec 17 18:02:48 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 17 18:02:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13277] trunk/harbour
In-Reply-To: <E1NLNno-0008Cl-7Z@3kljzd1.ch3.sourceforge.com>
References: <E1NLNno-0008Cl-7Z@3kljzd1.ch3.sourceforge.com>
Message-ID: <26836564.post@talk.nabble.com>


Hello Viktor


vszakats wrote:
> 
>       I had to restore QT_PTROFXBP() macros inside hbide.
>       QT_PTROFXBP() has not much to do with QT_PTROF() as the
>       former serves to access oWidget member of passed class.
> 

In continuation of my previous mail,

Did you executed hbide with all components functioning ?

Just try to open "Properties Dialog", it GPFs.
It is because of dummy macros.

If it is OK with you that I continue with HBQT stuff,
then should I commit ?

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13277--trunk-harbour-tp26835971p26836564.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Thu Dec 17 18:18:55 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 17 18:19:22 2009
Subject: Re[Harbour] lease notes/questions
In-Reply-To: <A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu> 
	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com> 
	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
	<26832160.post@talk.nabble.com> 
	<A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>
Message-ID: <609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>

ftp://ftp.qt.nokia.com/qtsdk/
will be used 4.5.2.1/2009.2.1?

2009/12/17 Viktor Szak?ts <harbour.01@syenar.hu>:

> Thank you. I think I'll save myself the hurdle
> of installing 4.5.3, and settle on 4.5.2 which
> is readily and easily available from QT homepage.
> 4.5.3 is hard to dig out.
>
> As for QT for MSVC, I've since deleted the
> locally built version, so I'll have to recheck if
> the standard (MINGW) one is enough to build it.
>
>
>



-- 
Massimo Belgrano
From vouchcac at users.sourceforge.net  Thu Dec 17 18:29:18 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Dec 17 18:29:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13279] trunk/harbour
Message-ID: <E1NLPmY-0001IY-B2@c3vjzd1.ch3.sourceforge.com>

Revision: 13279
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13279&view=rev
Author:   vouchcac
Date:     2009-12-17 23:29:16 +0000 (Thu, 17 Dec 2009)

Log Message:
-----------
2009-12-17 15:17 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbp3state.prg
  * contrib/hbxbp/xbpcheckbox.prg
  * contrib/hbxbp/xbpdialog.prg
  * contrib/hbxbp/xbplistbox.prg
  * contrib/hbxbp/xbpmenubar.prg
  * contrib/hbxbp/xbpmle.prg
  * contrib/hbxbp/xbpradiobutton.prg
  * contrib/hbxbp/xbprtf.prg
  * contrib/hbxbp/xbpscrollbar.prg
  * contrib/hbxbp/xbpsle.prg
  * contrib/hbxbp/xbpspinbutton.prg
  * contrib/hbxbp/xbpstatic.prg
  * contrib/hbxbp/xbpstatusbar.prg
  * contrib/hbxbp/xbptabpage.prg
  * contrib/hbxbp/xbptoolbar.prg
  * contrib/hbxbp/xbptreeview.prg
    + Added METHOD hbCreateFromQtPtr(), skeletons only.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/xbp3state.prg
    trunk/harbour/contrib/hbxbp/xbpcheckbox.prg
    trunk/harbour/contrib/hbxbp/xbpdialog.prg
    trunk/harbour/contrib/hbxbp/xbplistbox.prg
    trunk/harbour/contrib/hbxbp/xbpmenubar.prg
    trunk/harbour/contrib/hbxbp/xbpmle.prg
    trunk/harbour/contrib/hbxbp/xbpradiobutton.prg
    trunk/harbour/contrib/hbxbp/xbprtf.prg
    trunk/harbour/contrib/hbxbp/xbpscrollbar.prg
    trunk/harbour/contrib/hbxbp/xbpsle.prg
    trunk/harbour/contrib/hbxbp/xbpspinbutton.prg
    trunk/harbour/contrib/hbxbp/xbpstatic.prg
    trunk/harbour/contrib/hbxbp/xbpstatusbar.prg
    trunk/harbour/contrib/hbxbp/xbptabpage.prg
    trunk/harbour/contrib/hbxbp/xbptoolbar.prg
    trunk/harbour/contrib/hbxbp/xbptreeview.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Dec 17 18:40:27 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec 17 18:40:36 2009
Subject: [Harbour] GTXWC clipboard paste: hang
In-Reply-To: <alpine.DEB.2.00.0912172223300.27623@dawn.royalcomp.hu>
References: <AD2EC1E8-CA96-40B0-B81E-0D540C750CFB@syenar.hu>
	<20091216180031.GA27412@linux-4bod.home.aster.pl>
	<E81069FD-2AD0-4634-BFCB-9B34F4F4E3E5@syenar.hu>
	<7FE5ECA5-79DF-4188-B78E-E446ED04AB9F@syenar.hu>
	<20091217024820.GA2098@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0912170433460.27623@dawn.royalcomp.hu>
	<20091217104807.GA18626@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0912172223300.27623@dawn.royalcomp.hu>
Message-ID: <20091217234027.GA23578@linux-4bod.home.aster.pl>

On Thu, 17 Dec 2009, Tamas TEVESZ wrote:

Hi,

> this one is solved,, thank you.

thank you.

>  > > so the guess it that *something* is there that causes clients to exit 
>  > > unexpectedly. it is not even sure that the client that exits is the 
> this one is not.

Can you check if problem can be resolved if you add at the end of your
test application:

   hb_gtInfo( HB_GTI_CLIPBOARDDATA, "" )

best regards,
Przemek
From vouchcac at users.sourceforge.net  Thu Dec 17 19:06:18 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Dec 17 19:06:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13280] trunk/harbour
Message-ID: <E1NLQMM-0006vy-PD@d5vjzd1.ch3.sourceforge.com>

Revision: 13280
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13280&view=rev
Author:   vouchcac
Date:     2009-12-18 00:06:17 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-17 16:04 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
    ! Removed dummy macros to honor original ones.
    ! Removed QT_PTROF() whereever these were not needed anymore.
    ! Retained QT_PTROFXBP() until further discussions.
      Now all the components are working fine.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Dec 17 19:19:27 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 17 19:19:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13277] trunk/harbour
In-Reply-To: <26836402.post@talk.nabble.com>
References: <E1NLNno-0008Cl-7Z@3kljzd1.ch3.sourceforge.com>
	<26836402.post@talk.nabble.com>
Message-ID: <D7805AA9-1DF5-40E7-8644-9FA77A3401AF@syenar.hu>

> I think, due to mailing-list problems not my all mails
> are populated, and you committed without knowledge of
> internal working of HBQT and HBXBP.

I'm trying to split HBXBP from HBQT, while you insist 
on creating internal dependencies between them.

>> 2009-12-17 22:21 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>  * contrib/hbqt/hbqt_misc.prg
>>  * contrib/hbide/hbide.prg
>>    - Deleted hack which moved HBXBP specific functionality
>>      into the core of HBQT.
>> 
> 
> I am still trying to understand how this can be termed as a HACK.

Yes, please read my prev mails. It's a very simple concept.
Layering, standard interfaces.

From lower to highest:
   OS <- Harbour + QT <- HBQT <- HBXBP <- apps (f.e. HBIDE)

Lower layers _do not_ know about upper layers.
They don't call them, they don't implement parts 
of them, they don't even know they exist. Each 
layer provides a _standard_ interface, and this 
interface is used by higher layer to call into 
lower layer. Period. No tricks, no exceptions, 
no mixing of components, no adding of HBXBP_WHATEVER 
to hbqt.ch header. Anything else is a hack, and 
an ugly one. If you can't see that I'm sorry, but 
can't really add too much to it. Maybe someone else 
will.

>>      I had to restore QT_PTROFXBP() macros inside hbide.
>>      QT_PTROFXBP() has not much to do with QT_PTROF() as the
>>      former serves to access oWidget member of passed class.
>>      I see no need to move such logic into HBQT core code.
>>      I restored QT_PTROF() also, but it's redefined as a dummy
>>      in hbide.prg. I don't understand now why QT_PTROF() works
>>      as dummy in hbide, but it doesn't when used as dummy in
>>      HBXBP.
>>      All in all, this means the .prg level :pPtr trick is still 
>>      needed in some places, while it's not needed in some others.
>> 
> 
> You introduced these lines in hbide.prg:
> 
> // HACK HACK HACK
> #undef QT_PTROF
> #define QT_PTROF( oObj )                          ( oObj )
> 
> // HACK HACK HACK
> #undef QT_PTROFXBP
> #define QT_PTROFXBP( oXbp )                       ( oXbp:oWidget )
> 
> But why did you do so?

First one is because you removed all QT_PTROF*() macros 
altogether, and when I restored the previous version of 
hbide.prg to get back QT_PTROFXBP() macro, I also restored 
QT_PTROF() macros, so instead of removing them again, I 
temply added this dummy macro. The reason I didn't re-remove 
them is because I couldn't find a consistent rule for this 
macro, f.e. HBXBP breaks if you remove it, all test code 
still has them. So, I kept it there as dummy until things 
are cleared up.

Partly the same story for QT_PTROFXBP(), but in this case 
I needed to restore :oWidget trick to make it possible to 
remove this HBXBP specific solution from HBQT, which is 
one layer _below_ HBXBP, so it should never, ever have 
any XBP specific stuff hard-wired in it.

> And again you restored QT_PTROF() macro in the code, 

It's a dummy. Pls, if you commit something, try to 
keep whole SVN consistent. QT_PTROF() macros is still 
used in HBXBP code, HBQT test code, HBXBP test code, 
so it's not possible to tell whether it's needed or not.
You removed it from HBIDE only, I converted to a dummy: 
same thing. I can delete it, but this won't answer why 
it's used inconsistently ATM.

> where was the need to introduce it again, while our goal
> was to eliminate these calls. After implementing I removed them
> and you introduced again and that too with dummy macros. 
> Can you let me do the way I want to do ? Or you want to do it yourself ?
> 
> QT_PTROFXBP( oXbp )  is defined as ( oXbp:oWidget:pPtr )
> so what is wrong with it ?

QT_PTROFXBP() has two problems:
1) It used the same :pPtr trick, which was apparently 
   not required after your recent commits.
2) You replaced this HBXBP macro with a low-level hack 
   inside HBQT code. Thus violating component separation.
+1) You removed QT_PTROFXBP :pPtr trick from HBIDE, but 
    you kept it in HBXBP. Why?

> The way I desined hbqt_ptr() function was taking care 
> of HBQT and HBXBP objects providing the same syntax.

No HBQT function, macro, whatever may ever deal with 
anything outside its own level, its own jurisdiction, 
etc, including HBXBP.

Notice that HBXBP is an _independent_, _replaceable_, 
_optional_ component, one layer above HBQT.

>>    ; TOFIX: HBQT has no pointer checking at all before accessing
>>             C++ level objects, which means the simplest .prg level
>>             error is instantly resulting in a GPF. All hb_par_*()
>>             results must be checked for NULL before accessing them,
>>             or better yet, and RTE should be generated right from
>>             the hb_par_*() function.
>> 
> 
> I agree 100% but it is again a very tricky issue.
> May be later auto generation takes care of it but at 
> present I do not know how to hook it.

if( ptr )
{
    // do stuff like now
}
else
    hb_errRT...(); // throw Argument Error

would seem like a good start. I can't why NULL 
pointer checking in HBQT C++ code is so much 
different than in any other C code we have.

> BTW I cannot simply understand your mindset in this regard.

I can see that. My problem is that it's so obvious 
that I can't understand how you can't see it.

Do you think the low-level IP stack code has bits of 
the FTP protocol? Same thing. (IP stack = HBQT, 
FTP protocol = HBXBP)

You can violate it, but only if our goal has suddenly 
changed to imitate Windows OS, where this basic rule 
was disregarded for decades. Now MS struggles to fix 
since 8 years.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Dec 17 19:27:06 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec 17 19:27:15 2009
Subject: Re[Harbour] lease notes/questions
In-Reply-To: <609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>
	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>
	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
	<26832160.post@talk.nabble.com>
	<A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>
	<609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>
Message-ID: <7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>

> ftp://ftp.qt.nokia.com/qtsdk/
> will be used 4.5.2.1/2009.2.1?

I don't know what is that.

I'll use the same I used in beta3: 4.5.2. 
The one that installed itself into ...\Qt\4.5.2

Wherever Nokia put that on their site. Last week 
4.5.2 was available, now it isn't anymore. Or can't 
find it.

If someone has a link for plain standard 4.5.2 binary 
pkg previously available from QT homepage, pls write 
it.

The other option is that I won't include HBQT lib
related components in default distro, and interested 
users will create separate distros for them.

Or I won't create a distro at all. I pretty close 
to that at this point.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Dec 17 19:34:19 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 17 19:34:28 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13280] trunk/harbour
In-Reply-To: <E1NLQML-0006vq-Ub@d5vjzd1.ch3.sourceforge.com>
References: <E1NLQML-0006vq-Ub@d5vjzd1.ch3.sourceforge.com>
Message-ID: <E651FB6A-3E69-473A-8ED4-DF04EECA1E37@syenar.hu>

> Log Message:
> -----------
> 2009-12-17 16:04 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbide/hbide.prg
>    ! Removed dummy macros to honor original ones.
>    ! Removed QT_PTROF() whereever these were not needed anymore.
>    ! Retained QT_PTROFXBP() until further discussions.
>      Now all the components are working fine.

It was working without this patch exactly fine, since 
the macro you deleted was a dummy one. You yourself 
wrote here. Thanks anyway, although it's now unclear 
how the non-dummy QT_PTROF() should be used.

Shouldn't it be also removed from demoqt, demoxbp and 
maybe even hbxbp?

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Dec 17 19:53:18 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 17 19:53:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13277] trunk/harbour
In-Reply-To: <26836564.post@talk.nabble.com>
References: <E1NLNno-0008Cl-7Z@3kljzd1.ch3.sourceforge.com>
	<26836564.post@talk.nabble.com>
Message-ID: <F927A061-8CB8-4933-BC34-F9E4058350B3@syenar.hu>

> vszakats wrote:
>> 
>>      I had to restore QT_PTROFXBP() macros inside hbide.
>>      QT_PTROFXBP() has not much to do with QT_PTROF() as the
>>      former serves to access oWidget member of passed class.
>> 
> 
> In continuation of my previous mail,
> 
> Did you executed hbide with all components functioning ?
> 
> Just try to open "Properties Dialog", it GPFs.
> It is because of dummy macros.

Yeah, since then I noticed that _some_ QT_PTROF() 
macros had to be retained as non-dummy.

So current solution to resolve :pPtr seems not to 
be complete yet. Sorry I assumed it was.

> If it is OK with you that I continue with HBQT stuff,
> then should I commit ?

It's okay.

There is some delay in e-mails so if you can pls 
read my just sent mails. Maybe you already did.

I'm looking into a way to avoid hbqt_ptr() function 
altogether, more specifically I'm looking into how 
to call object methods from C code. If implemented in 
C, it could simply be integrated into hbqt_gcpointer(). 
Just like null pointer checking.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Dec 17 20:08:32 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 17 20:08:41 2009
Subject: [Harbour] Release notes/questions
In-Reply-To: <20091217170027.GA17257@linux-4bod.home.aster.pl>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>
	<20091217170027.GA17257@linux-4bod.home.aster.pl>
Message-ID: <1A503B31-D1A7-4A95-9ADF-36C367E13201@syenar.hu>

>> - If the binary release is up to me, I'll 
>>  leave out DJGPP build, since I don't possess a 
>>  dev environment for it anymore. watcom/dos build 
>>  can be included, but I'm not sure if it's 
>>  worth it.
> 
> I can create DJGPP and OpenWatcom Harbour binaries.

The watcom ones are no problem, since I can use the 
win tools to create them, I just can't see a point 
in including them in windows unified release. Would 
be good to hear opinions from users. Or any argument 
for including them. It's a lot of extra time.

For DJGPP, it's good and thank you, but if we go with 
the unified build, we need some careful syncing to put 
everything in place.

Maybe better would be to distribute them separately 
in non-unified package.

> BTW Creating Harbour shared libraries in OW Dos builds does not
> work due to some insufficient dependencies in DLL startup code so
> OW tries to link both startup code (also for standalone binaries)
> into harbour.dll. At least when I use OW in Linux. Does it work
> for you on other platforms?. If not then I suggest to temporary
> disable creating harbour.dll in dos/watcom.mk by simple modification
> like:
> 
>   ifeq ($(HB_BUILD_DLL),yes)
>      DY_RULE = $(create_dynlib)
>   endef

I don't think watcom dos .dlls ever worked, for sure 
they didn't work for me ever. I also recall placing 
TOFIX/TODO notes regarding it in ChangeLog, but it's 
possible I don't remember correctly.

As for disabling them, 'yes' is the default for 
HB_BUILD_DLL. Again possible I'm missing something, 
pls do it as per your best judgment.

> Maybe we should also use the same method in DJGPP.
> If someone adds support for -shared binaries in new DJGPP
> versions then it will be enough to rebuild Harbour setting
> HB_BUILD_DLL=yes. Such solution is also more flexible for
> testing but if you prefer to fully comment DY_RULE then of
> course it's also OK for me.

I trust your judgment, you know these DOS platforms 
much better than I do, plus I don't have them handy, 
so just do it you feel best.

>> - Should we include watcom/os2 and watcom/linux
>>  in final win binary release? IMO the only 
>>  reason is for technological showcase, but 
>>  I doubt any win users would actually use these.
>>  Leaving it out saves build time, package size 
>>  and upload/download time.
> 
> Maybe we should create separate MS-Windows package with only
> OW binaries which will allow to create Harbour applications
> for all platforms?

Possibly. IMO the easiest, simplest and already 
implemented method is to simply create non-unified 
packages for them (HB_BUILD_PKG=yes).

OW unified package needs extra work. Here one 
problem is that it'd need a multi-binary layout 
which is already supported by hbmk2, but since it's 
overall new thing, it needs some time/testing. In 
this case, even embedded OW C compiler could be added. 
Format should be simple .zip probably. For me it looks 
like too much work, but maybe someone can do it.

Brgds,
Viktor

From ice at extreme.hu  Thu Dec 17 20:57:04 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Thu Dec 17 20:57:14 2009
Subject: [Harbour] GTXWC clipboard paste: hang
In-Reply-To: <20091217234027.GA23578@linux-4bod.home.aster.pl>
References: <AD2EC1E8-CA96-40B0-B81E-0D540C750CFB@syenar.hu>
	<20091216180031.GA27412@linux-4bod.home.aster.pl>
	<E81069FD-2AD0-4634-BFCB-9B34F4F4E3E5@syenar.hu>
	<7FE5ECA5-79DF-4188-B78E-E446ED04AB9F@syenar.hu>
	<20091217024820.GA2098@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0912170433460.27623@dawn.royalcomp.hu>
	<20091217104807.GA18626@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0912172223300.27623@dawn.royalcomp.hu>
	<20091217234027.GA23578@linux-4bod.home.aster.pl>
Message-ID: <alpine.DEB.2.00.0912180159250.27623@dawn.royalcomp.hu>

On Fri, 18 Dec 2009, Przemys?aw Czerpak wrote:

hi,

 > Can you check if problem can be resolved if you add at the end of your
 > test application:
 > 
 >    hb_gtInfo( HB_GTI_CLIPBOARDDATA, "" )

no, but i managed to strace the xterm that got picked by the Client 
Killer Phenomenon.

it's last breath was this:

X Error of failed request:  BadWindow (invalid Window parameter)
Major opcode of failed request: 2  (X_ChangeWindowAttributes)
Resource id in failed request:  0x560001e
Serial number of failed request:  1107
Current serial number in output stream:  1108

at another try i attached xev to the victim:

this is when focus leaves the client so i can push buttons in my text 
app (using sloppy focus):

FocusOut event, serial 17, synthetic NO, window 0x5a0000f,
    mode NotifyNormal, detail NotifyNonlinear

this is when my test app has exited, and i focus the victim client 
again. all the next events happen in a very short time right after the 
pointer enters the client area:

FocusIn event, serial 17, synthetic NO, window 0x5a0000f,
    mode NotifyNormal, detail NotifyNonlinear

KeymapNotify event, serial 17, synthetic NO, window 0x0,
    keys:  4294967177 0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   
           0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   

these two above events happen normally when any client gets the focus. 
the below events are what seem to be coming unwanted:

UnmapNotify event, serial 17, synthetic NO, window 0x5a0000f,
    event 0x5a0000f, window 0x5a0000f, from_configure NO

FocusOut event, serial 17, synthetic NO, window 0x5a0000f,
    mode NotifyNormal, detail NotifyAncestor

DestroyNotify event, serial 17, synthetic NO, window 0x5a0000f,
    event 0x5a0000f, window 0x5a0001a

DestroyNotify event, serial 17, synthetic NO, window 0x5a0000f,
    event 0x5a0000f, window 0x5a0000f

i have just found that i've been running wm with logs saved all along 
the way, and i can confirm from those logs that xterms have been 
dying with the same message during all this experiment.

even more interesting.

its _only_ the xterms. i have now tried having other apps killed by 
this method, but it's always the xterm that dies.

ok, i have found a pattern i seem to be able to reliably reproduce.

i am running XTerm(235) (ubuntu intrepid x64). the test app is on a 
remote box, which is ubuntu karmic x64. ssh in, start the test app (it 
doesn't matter whether x is via ssh or via a direct connection).

when the test app says to copy something in, copy something in from an 
xterm. then push through the test app, and after it exits, give focus 
to the xterm you have copied from (this may need to be done several 
times). i could kill the xterm in at most 5 tries (of giving it focus, 
and taking focus away from it).

i've tried other apps, xlib-based, xaw-based, gtk-based, i've even 
tried rxvt, but it is invariably the xterm that dies.

i have tried XTerm(243) (this is the latest in ubuntu), same effect.

i've built myself a smokin' fresh XTerm(253), same effect.

so thus far every finger points at either xterm or xterm-wm 
interaction being somehow at fault, and we could have been chasing 
ghosts...


-- 
[-]

mkdir /nonexistent
From druzus at users.sourceforge.net  Thu Dec 17 21:02:23 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Dec 17 21:02:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13281] trunk/harbour
Message-ID: <E1NLSAh-0005pv-17@3kljzd1.ch3.sourceforge.com>

Revision: 13281
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13281&view=rev
Author:   druzus
Date:     2009-12-18 02:02:21 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-18 03:02 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/gtxwc/gtxwc.c
    ! fixed holders for properties format 32 to be long - it's important
      for 64 bit platforms.
    ! removed unsupported in current code "COMPOUND_TEXT" target
    ! readded support for "TEXT" target

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/gtxwc/gtxwc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Dec 17 21:04:13 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 17 21:04:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13280] trunk/harbour
In-Reply-To: <E651FB6A-3E69-473A-8ED4-DF04EECA1E37@syenar.hu>
References: <E651FB6A-3E69-473A-8ED4-DF04EECA1E37@syenar.hu>
Message-ID: <26838100.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> It was working without this patch exactly fine, since 
> the macro you deleted was a dummy one. You yourself 
> wrote here. Thanks anyway, although it's now unclear 
> how the non-dummy QT_PTROF() should be used.
> 

I implemented it for method calls only. There are a couple of 
functions which require pointer only so this macro is usable
for those instances. 

Qt_Connect_Signal()/Qt_DisConnect_Signal(), Qt_findChild(), 
and like functions. I just do not know how to retrieve "PPTR" from 
an object in C++.



> Shouldn't it be also removed from demoqt, demoxbp and 
> maybe even hbxbp?
> 

Yes, for sure, but right now I am concentrating on HBIDE only.
That will be cleaned in next few days.

Regards
Pritpal Bedi



-- 
View this message in context: http://old.nabble.com/Re%3A-SF.net-SVN%3A-harbour-project%3A-13280--trunk-harbour-tp26837939p26838100.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vouchcac at users.sourceforge.net  Thu Dec 17 21:12:50 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Dec 17 21:12:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13282] trunk/harbour
Message-ID: <E1NLSKo-00064j-H3@3kljzd1.ch3.sourceforge.com>

Revision: 13282
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13282&view=rev
Author:   vouchcac
Date:     2009-12-18 02:12:49 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-17 16:04 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
    ! Some more info capturing in project building phase with QProcess().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Thu Dec 17 21:32:49 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Dec 17 21:32:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13283] trunk/harbour
Message-ID: <E1NLSe9-0006Tk-F0@3kljzd1.ch3.sourceforge.com>

Revision: 13283
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13283&view=rev
Author:   vouchcac
Date:     2009-12-18 02:32:48 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-17 18:31 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/tests/demoqt.prg
  * contrib/hbxbp/tests/demoxbp.prg
    ! Cleaned some QT_PTROF() macros, first phase.
    ! Some more debug info.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/tests/demoqt.prg
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Dec 17 21:45:10 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 17 21:45:20 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13283] trunk/harbour
In-Reply-To: <E1NLSe8-0006Td-JP@3kljzd1.ch3.sourceforge.com>
References: <E1NLSe8-0006Td-JP@3kljzd1.ch3.sourceforge.com>
Message-ID: <9FD7BD34-CC36-4044-AD87-015886E2F408@syenar.hu>

Hi Pritpal,

I'm seeing QT calls embedded inside HB*_DEBUG() lines.
Please note these QT calls are only executed if these 
sources are compiled with __HB_DEBUG__ macro. I don't 
know if this is what you want or not, but I made a note 
anyway because it looks a little bit suspicious.

demoqt:
      HBQT_DEBUG( "connected: "  + IIF( QT_CONNECT_EVENT( QT_PTROF( oWnd ), 6, {|o,e| My_Events( o, e ) } ), "Yes", "No" ) )
hbide:
      HBXBP_DEBUG( Qt_DisConnect_Signal( QT_PTROF( ::qProcess ), "finished(int,int)"         ) )

Brgds,
Viktor

On 2009 Dec 18, at 03:32, vouchcac@users.sourceforge.net wrote:

> Revision: 13283
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13283&view=rev
> Author:   vouchcac
> Date:     2009-12-18 02:32:48 +0000 (Fri, 18 Dec 2009)
> 
> Log Message:
> -----------
> 2009-12-17 18:31 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbqt/tests/demoqt.prg
>  * contrib/hbxbp/tests/demoxbp.prg
>    ! Cleaned some QT_PTROF() macros, first phase.
>    ! Some more debug info.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbqt/tests/demoqt.prg
>    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
> 
> Modified: trunk/harbour/ChangeLog
> ===================================================================
> --- trunk/harbour/ChangeLog	2009-12-18 02:12:49 UTC (rev 13282)
> +++ trunk/harbour/ChangeLog	2009-12-18 02:32:48 UTC (rev 13283)
> @@ -17,7 +17,13 @@
>    past entries belonging to author(s): Viktor Szakats.
> */
> 
> -2009-12-17 16:04 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> +2009-12-17 18:31 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> +  * contrib/hbqt/tests/demoqt.prg
> +  * contrib/hbxbp/tests/demoxbp.prg
> +    ! Cleaned some QT_PTROF() macros, first phase.
> +    ! Some more debug info.
> +
> +2009-12-17 18:10 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * contrib/hbide/hbide.prg
>     ! Some more info capturing in project building phase with QProcess().
> 
> 
> Modified: trunk/harbour/contrib/hbqt/tests/demoqt.prg
> ===================================================================
> --- trunk/harbour/contrib/hbqt/tests/demoqt.prg	2009-12-18 02:12:49 UTC (rev 13282)
> +++ trunk/harbour/contrib/hbqt/tests/demoqt.prg	2009-12-18 02:32:48 UTC (rev 13283)
> @@ -143,14 +143,14 @@
> 
>    oWnd:resize( 900, 500 )
> 
> -   oDA    := QWidget():new( QT_PTROF( oWnd ) )
> -   oWnd:setCentralWidget( QT_PTROF( oDA ) )
> +   oDA    := QWidget():new( oWnd )
> +   oWnd:setCentralWidget( oDA )
> 
>    aMenu  := Build_MenuBar( oWnd )
>    aTool  := Build_ToolBar( oWnd )
> 
> -   oSBar  := QStatusBar():new( QT_PTROF( oWnd ) )
> -   oWnd:setStatusBar( QT_PTROF( oSBar ) )
> +   oSBar  := QStatusBar():new( oWnd )
> +   oWnd:setStatusBar( oSBar )
>    oSBar:showMessage( "Harbour-QT Statusbar Ready!" )
> 
>    oLabel := Build_Label( oDA, { 30,190 }, { 300, 30 } )
> @@ -213,7 +213,7 @@
>    oWnd:resize( 900, 500 )
> 
>    oDA    := QWidget():new( oWnd )
> -   oWnd:setCentralWidget( QT_PTROF( oDA ) )
> +   oWnd:setCentralWidget( oDA )
> 
>    oWnd:show()
> 
> @@ -227,8 +227,8 @@
>    oProg  := Build_ProgressBar( oDA, { 30,300 }, { 200,30 } )
>    aList  := Build_ListBox( oDA, { 310,240 }, { 150, 100 } )
> 
> -   oSBar  := QStatusBar():new( QT_PTROF( oWnd ) )
> -   oWnd:setStatusBar( QT_PTROF( oSBar ) )
> +   oSBar  := QStatusBar():new( oWnd )
> +   oWnd:setStatusBar( oSBar )
>    oSBar:showMessage( "Harbour-QT Statusbar Ready!" )
> 
>    oEventLoop := QEventLoop():new( QT_PTROF( oWnd ) )
> @@ -264,7 +264,7 @@
>    Qt_Connect_Signal( oMenu1:addAction_1( "save.png", "&Save" ), QT_EVE_TRIGGERED_B, {|w,l| FileDialog( "Save", w, l ) } )
>    oMenu1:addSeparator()
>    Qt_Connect_Signal( oMenu1:addAction( "E&xit" ), QT_EVE_TRIGGERED_B, {|w,l| w := w, l := l, MsgInfo( "Exit ?" ) } )
> -   oMenuBar:addMenu( QT_PTROF( oMenu1 ) )
> +   oMenuBar:addMenu( oMenu1 )
> 
>    oMenu2 := QMenu():new()
>    oMenu2:setTitle( "&Dialogs" )
> @@ -278,9 +278,9 @@
>    Qt_Connect_Signal( oMenu2:addAction( "W&ebPage"   ), QT_EVE_TRIGGERED_B, {|w,l| Dialogs( "WebPage"  , w, l ) } )
>    oMenu2:addSeparator()
>    Qt_Connect_Signal( oMenu2:addAction( "&Another Dialog" ), QT_EVE_TRIGGERED_B, {|w,l| w := w, l := l, ExecOneMore() } )
> -   oMenuBar:addMenu( QT_PTROF( oMenu2 ) )
> +   oMenuBar:addMenu( oMenu2 )
> 
> -   oWnd:setMenuBar( QT_PTROF( oMenuBar ) )
> +   oWnd:setMenuBar( oMenuBar )
> 
>    RETURN { oMenu1, oMenu2, oMenuBar }
> 
> @@ -310,7 +310,7 @@
>    /* Attach codeblock to be triggered */
>    Qt_Connect_Signal( QT_PTROF( oActOpen ), QT_EVE_TRIGGERED_B, {|w,l| FileDialog( "Open" , w, l ) } )
>    /* Attach Action with Toolbar */
> -   oTB:addAction( QT_PTROF( oActOpen ) )
> +   oTB:addAction( oActOpen )
> 
>    oTB:addSeparator()
> 
> @@ -322,10 +322,10 @@
>    /* Attach codeblock to be triggered */
>    Qt_Connect_Signal( QT_PTROF( oActSave ), QT_EVE_TRIGGERED_B, {|w,l| FileDialog( "Save" , w, l ) } )
>    /* Attach Action with Toolbar */
> -   oTB:addAction( QT_PTROF( oActSave ) )
> +   oTB:addAction( oActSave )
> 
>    /* Add this toolbar with main window */
> -   oWnd:addToolBar_1( QT_PTROF( oTB ) )
> +   oWnd:addToolBar_1( oTB )
> 
>    ///////////////////////////////////////////////////////////
> #if 0
> @@ -336,13 +336,13 @@
>    oAct:setText( "&Colors" )
>    oAct:setToolTip( "Colors Dialog" )
>    Qt_Connect_Signal( QT_PTROF( oAct ), QT_EVE_TRIGGERED_B, {|w,l| Dialogs( "Colors", w, l ) } )
> -   oTB:addAction( QT_PTROF( oAct ) )
> +   oTB:addAction( oAct )
> 
>    oAct := QAction():new( QT_PTROF( oWnd ) )
>    oAct:setText( "&Fonts" )
>    oAct:setToolTip( "Fonts Dialog" )
>    Qt_Connect_Signal( QT_PTROF( oAct ), QT_EVE_TRIGGERED_B, {|w,l| Dialogs( "Fonts", w, l ) } )
> -   oTB:addAction( QT_PTROF( oAct ) )
> +   oTB:addAction( oAct )
> 
>    oTB:addSeparator()
> 
> @@ -350,13 +350,13 @@
>    oAct:setText( "&PgSetup" )
>    oAct:setToolTip( "Page Setup Dialog" )
>    Qt_Connect_Signal( QT_PTROF( oAct ), QT_EVE_TRIGGERED_B, {|w,l| Dialogs( "PageSetup", w, l ) } )
> -   oTB:addAction( QT_PTROF( oAct ) )
> +   oTB:addAction( oAct )
> 
>    oAct := QAction():new( QT_PTROF( oWnd ) )
>    oAct:setText( "&Preview" )
>    oAct:setToolTip( "Page Preview Dialog" )
>    Qt_Connect_Signal( QT_PTROF( oAct ), QT_EVE_TRIGGERED_B, {|w,l| Dialogs( "Preview", w, l ) } )
> -   oTB:addAction( QT_PTROF( oAct ) )
> +   oTB:addAction( oAct )
> 
>    oTB:addSeparator()
> 
> @@ -364,22 +364,22 @@
>    oAct:setText( "&Webpage" )
>    oAct:setToolTip( "Web Browser Dialog" )
>    Qt_Connect_Signal( QT_PTROF( oAct ), QT_EVE_TRIGGERED_B, {|w,l| Dialogs( "WebPage", w, l ) } )
> -   oTB:addAction( QT_PTROF( oAct ) )
> +   oTB:addAction( oAct )
> 
>    oAct := QAction():new( QT_PTROF( oWnd ) )
>    oAct:setText( "&Wizard" )
>    oAct:setToolTip( "Generic Wizard Dialog" )
>    Qt_Connect_Signal( QT_PTROF( oAct ), QT_EVE_TRIGGERED_B, {|w,l| Dialogs( "Wizard", w, l ) } )
> -   oTB:addAction( QT_PTROF( oAct ) )
> +   oTB:addAction( oAct )
> 
>    oAct := QAction():new( QT_PTROF( oWnd ) )
>    oAct:setText( "&SystemTray" )
>    oAct:setToolTip( "Show in System Tray!" )
>    Qt_Connect_Signal( QT_PTROF( oAct ), QT_EVE_TRIGGERED_B, {|w,l| ShowInSystemTray( oWnd, w, l ) } )
> -   oTB:addAction( QT_PTROF( oAct ) )
> +   oTB:addAction( oAct )
> 
>    /* Add this toolbar with main window */
> -   oWnd:addToolBar_1( QT_PTROF( oTB ) )
> +   oWnd:addToolBar_1( oTB )
> #endif
>    RETURN { oActNew, oActOpen, oActSave, oTB }
> 
> @@ -391,7 +391,7 @@
>    DEFAULT cLabel TO "Push Button"
>    DEFAULT cMsg   TO "Push Button Pressed"
> 
> -   oBtn := QPushButton():new( QT_PTROF( oWnd ) )
> +   oBtn := QPushButton():new( oWnd )
>    oBtn:setText( cLabel )
>    oBtn:move( aPos[ 1 ],aPos[ 2 ] )
>    oBtn:resize( aSize[ 1 ],aSize[ 2 ] )
> @@ -409,7 +409,7 @@
> STATIC FUNCTION Build_Grid( oWnd, aPos, aSize )
>    LOCAL oGrid, oBrushBackItem0x0, oBrushForeItem0x0, oGridItem0x0
> 
> -   oGrid := QTableWidget():new( QT_PTROF( oWnd ) )
> +   oGrid := QTableWidget():new( oWnd )
>    oGrid:setRowCount( 2 )
>    oGrid:setColumnCount( 4 )
>    //
> @@ -421,11 +421,11 @@
>    oBrushForeItem0x0:setColor_1( 7 )
>    //
>    oGridItem0x0 := QTableWidgetItem():new()
> -   oGridItem0x0:setBackground( QT_PTROF( oBrushBackItem0x0 ) )
> -   oGridItem0x0:setForeground( QT_PTROF( oBrushForeItem0x0 ) )
> +   oGridItem0x0:setBackground( oBrushBackItem0x0 )
> +   oGridItem0x0:setForeground( oBrushForeItem0x0 )
>    oGridItem0x0:setText( "Item 0x0" )
>    //
> -   oGrid:setItem( 0, 0, QT_PTROF( oGridItem0x0 ) )
> +   oGrid:setItem( 0, 0, oGridItem0x0 )
>    //
>    oGrid:Move( aPos[ 1 ], aPos[ 2 ] )
>    oGrid:ReSize( aSize[ 1 ], aSize[ 2 ] )
> @@ -439,15 +439,15 @@
> STATIC FUNCTION Build_Tabs( oWnd, aPos, aSize )
>    LOCAL oTabWidget, oTab1, oTab2, oTab3, aTree, aCntl, aText
> 
> -   oTabWidget := QTabWidget():new( QT_PTROF( oWnd ) )
> +   oTabWidget := QTabWidget():new( oWnd )
> 
>    oTab1 := QWidget():new()
>    oTab2 := QWidget():new()
>    oTab3 := QWidget():new()
> 
> -   oTabWidget:addTab( QT_PTROF( oTab1 ), "Folders"  )
> -   oTabWidget:addTab( QT_PTROF( oTab2 ), "Controls" )
> -   oTabWidget:addTab( QT_PTROF( oTab3 ), "TextBox"  )
> +   oTabWidget:addTab( oTab1, "Folders"  )
> +   oTabWidget:addTab( oTab2, "Controls" )
> +   oTabWidget:addTab( oTab3, "TextBox"  )
> 
>    oTabWidget:Move( aPos[ 1 ], aPos[ 2 ] )
>    oTabWidget:ReSize( aSize[ 1 ], aSize[ 2 ] )
> @@ -467,11 +467,11 @@
> STATIC FUNCTION Build_TreeView( oWnd )
>    LOCAL oTV, oDirModel
> 
> -   oTV := QTreeView():new( QT_PTROF( oWnd ) )
> +   oTV := QTreeView():new( oWnd )
>    oTV:setMouseTracking( .t. )
>    //Qt_Connect_Signal( QT_PTROF( oTV ), QT_EVE_HOVERED, {|o,i| HBQT_DEBUG( "oTV:hovered" ) } )
>    oDirModel := QDirModel():new()
> -   oTV:setModel( QT_PTROF( oDirModel ) )
> +   oTV:setModel( oDirModel )
>    oTV:move( 5, 7 )
>    oTV:resize( 345, 365 )
>    OTV:show()
> @@ -483,7 +483,7 @@
> STATIC FUNCTION Build_ListBox( oWnd, aPos, aSize )
>    LOCAL oListBox, oStrList, oStrModel
> 
> -   oListBox := QListView():New( QT_PTROF( oWnd ) )
> +   oListBox := QListView():New( oWnd )
>    oListBox:setMouseTracking( .t. )
>    //Qt_Connect_Signal( QT_PTROF( oListBox ), QT_EVE_HOVERED, {|o,i| HBQT_DEBUG( "oListBox:hovered" ) } )
> 
> @@ -499,9 +499,9 @@
>    oStrList:sort()
> 
>    oStrModel := QStringListModel():new()
> -   oStrModel:setStringList( QT_PTROF( oStrList ) )
> +   oStrModel:setStringList( oStrList )
> 
> -   oListBox:setModel( QT_PTROF( oStrModel ) )
> +   oListBox:setModel( oStrModel )
>    oListBox:Move( aPos[ 1 ], aPos[ 2 ] )
>    oListBox:ReSize( aSize[ 1 ], aSize[ 2 ] )
>    oListBox:Show()
> @@ -513,7 +513,7 @@
> STATIC FUNCTION Build_TextBox( oWnd )
>    LOCAL oTextBox
> 
> -   oTextBox := QTextEdit():new( QT_PTROF( oWnd ) )
> +   oTextBox := QTextEdit():new( oWnd )
>    oTextBox:Move( 5, 7 )
>    oTextBox:Resize( 345,365 )
>    oTextBox:setAcceptRichText( .t. )
> @@ -527,7 +527,7 @@
> STATIC FUNCTION Build_Controls( oWnd )
>    LOCAL oEdit, oCheckBox, oComboBox, oSpinBox, oRadioButton
> 
> -   oEdit := QLineEdit():new( QT_PTROF( oWnd ) )
> +   oEdit := QLineEdit():new( oWnd )
>    Qt_Connect_Signal( QT_PTROF( oEdit ), QT_EVE_RETURNPRESSED, {|o,i| o := o, i := i, MsgInfo( oEdit:text() ) } )
>    oEdit:move( 5, 10 )
>    oEdit:resize( 345, 30 )
> @@ -536,7 +536,7 @@
>    oEdit:setAlignment( 1 )   // 1: Left  2: Right  4: center 8: use all textbox length
>    oEdit:show()
> 
> -   oComboBox := QComboBox():New( QT_PTROF( oWnd ) )
> +   oComboBox := QComboBox():New( oWnd )
>    oComboBox:addItem( "First"  )
>    oComboBox:addItem( "Second" )
>    oComboBox:addItem( "Third"  )
> @@ -546,19 +546,19 @@
>    oComboBox:resize( 345, 30 )
>    oComboBox:show()
> 
> -   oCheckBox := QCheckBox():New( QT_PTROF( oWnd ) )
> +   oCheckBox := QCheckBox():New( oWnd )
>    Qt_Connect_Signal( QT_PTROF( oCheckBox ), QT_EVE_STATECHANGED_I, {|o,i| o := o, i := i, MsgInfo( IF( i == 0,"Uncheckd","Checked" ) ) } )
>    oCheckBox:setText( "Testing CheckBox HbQt" )
>    oCheckBox:move( 5, 110 )
>    oCheckBox:resize( 345, 30 )
>    oCheckBox:show()
> 
> -   oSpinBox := QSpinBox():New( QT_PTROF( oWnd ) )
> +   oSpinBox := QSpinBox():New( oWnd )
>    oSpinBox:Move( 5, 160 )
>    oSpinBox:ReSize( 345, 30 )
>    oSpinBox:Show()
> 
> -   oRadioButton := QRadioButton():New( QT_PTROF( oWnd ) )
> +   oRadioButton := QRadioButton():New( oWnd )
>    Qt_Connect_Signal( QT_PTROF( oRadioButton ), QT_EVE_CLICKED, {|o,i| o := o, i := i, MsgInfo( "Checked" ) } )
>    oRadioButton:Move( 5, 210 )
>    oRadioButton:ReSize( 345, 30 )
> @@ -571,7 +571,7 @@
> STATIC FUNCTION Build_ProgressBar( oWnd, aPos, aSize )
>    LOCAL oProgressBar
> 
> -   oProgressBar := QProgressBar():New( QT_PTROF( oWnd ) )
> +   oProgressBar := QProgressBar():New( oWnd )
>    oProgressBar:SetRange( 1, 1500 )
>    oProgressBar:Setvalue( 500 )
>    oProgressBar:Move( aPos[ 1 ], aPos[ 2 ] )
> @@ -585,7 +585,7 @@
> STATIC FUNCTION Build_Label( oWnd, aPos, aSize )
>    LOCAL oLabel
> 
> -   oLabel := QLabel():New( QT_PTROF( oWnd ) )
> +   oLabel := QLabel():New( oWnd )
>    oLabel:SetTextFormat( 1 )  // 0 text plain  1 RichText
>    oLabel:SetText( [<font color="Blue" size=6 ><u>This is a</u> <i>Label</i> in <b>Harbour QT</b></font>] )
>    oLabel:Move( aPos[ 1 ], aPos[ 2 ] )
> @@ -918,7 +918,7 @@
>    LOCAL oSys
>    LOCAL oMenu
> 
> -   oMenu := QMenu():new( QT_PTROF( oWnd ) )
> +   oMenu := QMenu():new( oWnd )
>    oMenu:setTitle( "&File" )
>    Qt_Connect_Signal( oMenu:addAction_1( "new.png" , "&Show" ), QT_EVE_TRIGGERED_B, {|| oWnd:show() } )
>    oMenu:addSeparator()
> @@ -926,7 +926,7 @@
> 
>    oSys := QSystemTrayIcon():new( QT_PTROF( oWnd ) )
>    oSys:setIcon( 'new.png' )
> -   oSys:setContextMenu( QT_PTROF( oMenu ) )
> +   oSys:setContextMenu( oMenu )
>    oSys:showMessage( "Harbour-QT", "This is Harbour-QT System Tray" )
>    oSys:show()
>    oWnd:hide()
> 
> Modified: trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
> ===================================================================
> --- trunk/harbour/contrib/hbxbp/tests/demoxbp.prg	2009-12-18 02:12:49 UTC (rev 13282)
> +++ trunk/harbour/contrib/hbxbp/tests/demoxbp.prg	2009-12-18 02:32:48 UTC (rev 13283)
> @@ -240,15 +240,19 @@
>    ENDDO
> 
>    /* Very important - destroy resources */
> +   HBXBP_DEBUG( "----------------------------------------------" )
> +   HBXBP_DEBUG( "Before    ::oDlg:destroy()", memory( 1001 ), hbqt_getMemUsed() )
> +   HBXBP_DEBUG( "----------------------------------------------" )
> +
>    oDlg:destroy()
> -
>    oHTM := NIL
> 
> +   HBXBP_DEBUG( "----------------------------------------------" )
> +   HBXBP_DEBUG( "After     ::oDlg:destroy()", memory( 1001 ), hbqt_getMemUsed() )
> +   HBXBP_DEBUG( "----------------------------------------------" )
> +
> HBXBP_DEBUG( "------------------------------ WOW ---------------------------------" )
> -HBXBP_DEBUG( ".  " )
> 
> -DispMem( "THE END" )
> -
>    RETURN
> 
> /*----------------------------------------------------------------------*/
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.

From vouchcac at users.sourceforge.net  Thu Dec 17 21:58:09 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Dec 17 21:58:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13284] trunk/harbour
Message-ID: <E1NLT2f-0005m9-H8@c3vjzd1.ch3.sourceforge.com>

Revision: 13284
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13284&view=rev
Author:   vouchcac
Date:     2009-12-18 02:58:08 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-17 18:57 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbp3state.prg
  * contrib/hbxbp/xbpbrowse.prg
  * contrib/hbxbp/xbpcheckbox.prg
  * contrib/hbxbp/xbpcombobox.prg
  * contrib/hbxbp/xbpdialog.prg
  * contrib/hbxbp/xbpfiledialog.prg
  * contrib/hbxbp/xbpfontdialog.prg
  * contrib/hbxbp/xbplistbox.prg
  * contrib/hbxbp/xbpmenubar.prg
  * contrib/hbxbp/xbppushbutton.prg
  * contrib/hbxbp/xbpradiobutton.prg
  * contrib/hbxbp/xbpstatusbar.prg
  * contrib/hbxbp/xbptoolbar.prg
  * contrib/hbxbp/xbpwindow.prg
    ! Cleaned QT_PTROF() macro, first phase. 

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/xbp3state.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbpcheckbox.prg
    trunk/harbour/contrib/hbxbp/xbpcombobox.prg
    trunk/harbour/contrib/hbxbp/xbpdialog.prg
    trunk/harbour/contrib/hbxbp/xbpfiledialog.prg
    trunk/harbour/contrib/hbxbp/xbpfontdialog.prg
    trunk/harbour/contrib/hbxbp/xbplistbox.prg
    trunk/harbour/contrib/hbxbp/xbpmenubar.prg
    trunk/harbour/contrib/hbxbp/xbppushbutton.prg
    trunk/harbour/contrib/hbxbp/xbpradiobutton.prg
    trunk/harbour/contrib/hbxbp/xbpstatusbar.prg
    trunk/harbour/contrib/hbxbp/xbptoolbar.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Thu Dec 17 21:58:49 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Dec 17 21:58:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13285] trunk/harbour
Message-ID: <E1NLT3J-0001M5-6H@d5vjzd1.ch3.sourceforge.com>

Revision: 13285
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13285&view=rev
Author:   druzus
Date:     2009-12-18 02:58:48 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-18 03:58 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/gtxwc/gtxwc.c
    ! fixed memory leak caused by unreleased text property value

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/gtxwc/gtxwc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Thu Dec 17 22:08:32 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Dec 17 22:08:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13286] trunk/harbour
Message-ID: <E1NLTCi-0001V4-4a@d5vjzd1.ch3.sourceforge.com>

Revision: 13286
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13286&view=rev
Author:   druzus
Date:     2009-12-18 03:08:30 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-18 04:08 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/gtxwc/gtxwc.c
    ! fixed yet another one memory leak

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/gtxwc/gtxwc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Dec 17 23:03:49 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 17 23:03:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13283] trunk/harbour
In-Reply-To: <9FD7BD34-CC36-4044-AD87-015886E2F408@syenar.hu>
References: <E1NLSe9-0006Tk-F0@3kljzd1.ch3.sourceforge.com>
	<9FD7BD34-CC36-4044-AD87-015886E2F408@syenar.hu>
Message-ID: <26838820.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> I'm seeing QT calls embedded inside HB*_DEBUG() lines.
> Please note these QT calls are only executed if these 
> sources are compiled with __HB_DEBUG__ macro. I don't 
> know if this is what you want or not, but I made a note 
> anyway because it looks a little bit suspicious.
> 
> demoqt:
>       HBQT_DEBUG( "connected: "  + IIF( QT_CONNECT_EVENT( QT_PTROF( oWnd
> ), 6, {|o,e| My_Events( o, e ) } ), "Yes", "No" ) )
> hbide:
>       HBXBP_DEBUG( Qt_DisConnect_Signal( QT_PTROF( ::qProcess ),
> "finished(int,int)"         ) )
> 

It is a left-over. I was checking something. Obiviously it must not be
inside
hbxbp_debug(). Will fix in a while.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13283--trunk-harbour-tp26838655p26838820.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vouchcac at users.sourceforge.net  Fri Dec 18 01:39:46 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Dec 18 01:39:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13287] trunk/harbour
Message-ID: <E1NLWV8-0003gb-7D@74yxhf1.ch3.sourceforge.com>

Revision: 13287
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13287&view=rev
Author:   vouchcac
Date:     2009-12-18 06:39:44 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-17 22:24 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  * contrib/hbide/idemisc.prg

  * contrib/hbqt/tests/demoqt.prg

  * contrib/hbxbp/xbpbrowse.prg
  * contrib/hbxbp/xbphtmlviewer.prg
  * contrib/hbxbp/xbpmenubar.prg
  * contrib/hbxbp/xbppushbutton.prg
  * contrib/hbxbp/xbprtf.prg
  * contrib/hbxbp/xbptoolbar.prg
  * contrib/hbxbp/xbpwindow.prg
    ! Further cleanup of QT_PTROF() macro.

  * contrib/hbqt/generator/hbqtgen.prg
    ! Minor.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/tests/demoqt.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbphtmlviewer.prg
    trunk/harbour/contrib/hbxbp/xbpmenubar.prg
    trunk/harbour/contrib/hbxbp/xbppushbutton.prg
    trunk/harbour/contrib/hbxbp/xbprtf.prg
    trunk/harbour/contrib/hbxbp/xbptoolbar.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Fri Dec 18 02:17:00 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Fri Dec 18 02:17:09 2009
Subject: Re[Harbour] lease notes/questions
In-Reply-To: <7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>	<26832160.post@talk.nabble.com>	<A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>	<609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>
	<7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>
Message-ID: <000901ca7fb2$17b90c70$472b2550$@Bisz@t-online.hu>

Hi Viktor,

> If someone has a link for plain standard 4.5.2 binary 
> pkg previously available from QT homepage, pls write 
>it.

Please try these links:

http://get.qt.nokia.com/qt/source/qt-win-opensource-4.5.3-mingw.exe
or
http://get.qt.nokia.com/qt/source/qt-win-opensource-4.5.2-mingw.exe

Preferable the first one.

Best regards,
Istv?n


From harbour.01 at syenar.hu  Fri Dec 18 02:55:52 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Dec 18 02:56:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13280] trunk/harbour
In-Reply-To: <26838100.post@talk.nabble.com>
References: <E651FB6A-3E69-473A-8ED4-DF04EECA1E37@syenar.hu>
	<26838100.post@talk.nabble.com>
Message-ID: <666B4FCF-5D14-4FAB-8CFB-B4B9F2D13EA6@syenar.hu>

Hi Pritpal,

> I implemented it for method calls only. There are a couple of 
> functions which require pointer only so this macro is usable
> for those instances. 
> 
> Qt_Connect_Signal()/Qt_DisConnect_Signal(), Qt_findChild(), 
> and like functions. I just do not know how to retrieve "PPTR" from 
> an object in C++.

Here it is:

   if( HB_IS_OBJECT( pParam ) && hb_objHasMsg( pParam, "PPTR" ) && 0 )
   {
      hb_vmPushDynSym( hb_dynsymGetCase( "PPTR" ) );
      hb_vmPush( pParam );
      hb_vmSend( 0 );
      {
         PHB_ITEM pReturn = hb_stackReturnItem();

         QGC_POINTER * p = ( QGC_POINTER * ) hb_itemGetPtrGC( pReturn, gcFuncs() );

         if( p && p->ph )
            pRetVal = p->ph;
         else
            pRetVal = hb_itemGetPtr( pReturn ); /* TOFIX: This is dangerous. */
      }
   }

And there is also HBQT_ISEQUALGCQTPOINTER.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Dec 18 03:16:59 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Dec 18 03:17:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13275] trunk/harbour
In-Reply-To: <26831039.post@talk.nabble.com>
References: <E1NLEA2-0001T7-0Z@c3vjzd1.ch3.sourceforge.com>
	<4C9B69C9-02A1-4A21-A7B6-B5095C26CAA6@syenar.hu>
	<26831039.post@talk.nabble.com>
Message-ID: <E6979BBB-43D1-4ED7-937D-C97942A6A1B8@syenar.hu>

Hi Pritpal,

>> Again maybe I'm missing something, but in this 
>> case isn't the pointer unwrapping done by inside 
>> QSomeClass() ? I mean if you pass parameters 
>> as is, why would you need to make any transformations 
>> on them, when this transformation can be done 
>> at destination function.
>> 
>> IOW it's shouldn't be caller's responsibility 
>> to resolve any such internal details, and current 
>> patch seemed to have addressed just that, so 
>> maybe it's already okay.
>> 
> 
> It should been like this, but unfortunately it is not.

Question is: why?

> The conversion is done on the PRG level and it is effective.
> But for some classes, the constructor accepts variable 
> number of parameters and hence (...) syntax is used.
> 
> So if I know how to put back on stack the changed parameters
> retieved in :new() method, then this issue is done.
> I am looking for something like:
> 
> Method QPixmap:new(...)
>   LOCAL aP := hb_aParams()
> 
>   aeval( aP, {|x| x := hbqt_ptr( x ) } )
> 
>   Qt_QPixmap(...)  /* How this can be achieved with above syntax */
> 
>   RETURN Self

Why should this conversion be done on the object wrapper level?
Why can't you do this conversion in QT_QPIXMAP()?
F.e. in hb_gcpointer()?

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Dec 18 03:38:26 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Dec 18 03:38:35 2009
Subject: Re[Harbour] lease notes/questions
In-Reply-To: <000901ca7fb2$17b90c70$472b2550$@Bisz@t-online.hu>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>	<26832160.post@talk.nabble.com>	<A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>	<609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>
	<7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>
	<000901ca7fb2$17b90c70$472b2550$@Bisz@t-online.hu>
Message-ID: <844D1A8A-E65B-4C24-9A8F-245EB0DC3E9D@syenar.hu>

Hi Istvan,

>> If someone has a link for plain standard 4.5.2 binary 
>> pkg previously available from QT homepage, pls write 
>> it.
> 
> Please try these links:
> 
> http://get.qt.nokia.com/qt/source/qt-win-opensource-4.5.3-mingw.exe
> or
> http://get.qt.nokia.com/qt/source/qt-win-opensource-4.5.2-mingw.exe
> 
> Preferable the first one.

Thank you. OK, I'll replace my 4.5.2 with 4.5.3.

Do you know whether DWARF-2 MINGW can be used with 4.5.x?

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Fri Dec 18 03:42:39 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Dec 18 03:42:46 2009
Subject: Re[Harbour] lease notes/questions
In-Reply-To: <7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>
	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>
	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
	<26832160.post@talk.nabble.com>
	<A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>
	<609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>
	<7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>
Message-ID: <9257026e0912180042h7c398721sf599336085308ad4@mail.gmail.com>

On Fri, Dec 18, 2009 at 1:27 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Wherever Nokia put that on their site. Last week
> 4.5.2 was available, now it isn't anymore. Or can't
> find it.

Here there are the previous versions: ftp://ftp.qt.nokia.com/qtsdk/

To avoid extra noise, I think we should state which is the one
"supported" for 2.0.

Since we don't have control of the distros' QT version, I think we
should support also Linux packages from qt site.

best regards,
Lorenzo
From vszakats at users.sourceforge.net  Fri Dec 18 03:53:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec 18 03:53:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13288] trunk/harbour
Message-ID: <E1NLYae-0004oR-8K@c3vjzd1.ch3.sourceforge.com>

Revision: 13288
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13288&view=rev
Author:   vszakats
Date:     2009-12-18 08:53:35 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------

2009-12-18 09:47 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Added direct link to QT Windows 4.5.3 pkg.

  * contrib/hbqt/detect.mk
  * contrib/hbqt/moc.mk
    + Added my copyright.

  * contrib/hbqt/hbqt_hbdbfmodel.cpp
  * contrib/hbqt/generator/hbqtgen.prg
  * contrib/hbqt/hbqt_hbqtableview.cpp
  * contrib/hbqt/hbqt.h
  * contrib/hbqt/hbqt_hbqmainwindow.cpp
    ! Fixed some public C functions to hold hbqt_ prefix,
      instead of using generic names.
    ! Added one missing 'extern' keyword.
    + Added TOFIX for QT_HBQTABLEVIEW_NAVIGATE() which
      has a remaining leak of one typical type.
    ; TOFIX: Do the same with gcFuncs().
    ; TODO: Regenerate.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbqt/detect.mk
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_hbdbfmodel.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqmainwindow.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqtableview.cpp
    trunk/harbour/contrib/hbqt/moc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Dec 18 03:59:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec 18 03:59:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13289] trunk/harbour
Message-ID: <E1NLYgB-0004vv-Dy@c3vjzd1.ch3.sourceforge.com>

Revision: 13289
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13289&view=rev
Author:   vszakats
Date:     2009-12-18 08:59:17 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-18 09:58 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_hbdbfmodel.cpp
  * contrib/hbqt/generator/hbqtgen.prg
  * contrib/hbqt/hbqt_hbqtableview.cpp
  * contrib/hbqt/hbqt.h
  * contrib/hbqt/hbqt_destruct.cpp
  * contrib/hbqt/hbqt_hbqmainwindow.cpp
  * contrib/hbqt/hbqt_base.cpp
    ! Fixed gcFuncs() to be named hbqt_gcFuncs(). This is a 
      public function, please remember to prefix all public functions 
      to have a lib specific prefix.
    ; TODO: Regenerate.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_base.cpp
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbdbfmodel.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqmainwindow.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqtableview.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Fri Dec 18 04:01:13 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Fri Dec 18 04:01:23 2009
Subject: Re[Harbour] lease notes/questions
In-Reply-To: <844D1A8A-E65B-4C24-9A8F-245EB0DC3E9D@syenar.hu>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>	<26832160.post@talk.nabble.com>	<A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>	<609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>	<7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>	<000901ca7fb2$17b90c70$472b2550$@Bisz@t-online.hu>
	<844D1A8A-E65B-4C24-9A8F-245EB0DC3E9D@syenar.hu>
Message-ID: <002201ca7fc0$a6e98290$f4bc87b0$@Bisz@t-online.hu>

Hi Viktor,

> Do you know whether DWARF-2 MINGW can be used with 4.5.x?

No, we should use the DWARF-2 MINGW just for 4.6.0 and probably upper.

The explication is that they (Qt 4.6 developers) switched to MinGW with GCC
4.4.0. The MinGw developers decided to support in GCC 4.4.0 release, and
probably upper, just DWARF-2 rewinding. 

Best regards,
Istv?n


From harbour.01 at syenar.hu  Fri Dec 18 04:09:22 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Dec 18 04:09:31 2009
Subject: Re[Harbour] lease notes/questions
In-Reply-To: <9257026e0912180042h7c398721sf599336085308ad4@mail.gmail.com>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>
	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>
	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
	<26832160.post@talk.nabble.com>
	<A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>
	<609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>
	<7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>
	<9257026e0912180042h7c398721sf599336085308ad4@mail.gmail.com>
Message-ID: <C1874E1B-5FE3-405C-B16F-7A7DEFBAF882@syenar.hu>

>> Wherever Nokia put that on their site. Last week
>> 4.5.2 was available, now it isn't anymore. Or can't
>> find it.
> 
> Here there are the previous versions: ftp://ftp.qt.nokia.com/qtsdk/

Or rather this:
   http://get.qt.nokia.com/qt/source/

(is this the same, I didn't check the FTP site)

> To avoid extra noise, I think we should state which is the one
> "supported" for 2.0.
> 
> Since we don't have control of the distros' QT version, I think we
> should support also Linux packages from qt site.

This is not a problem. HBQT seems to support 4.6 
on *nix platforms without problems (only tried on 
OS X), the only problem is Windows where they messed 
up things quite a bit.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Fri Dec 18 04:21:57 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Fri Dec 18 04:22:10 2009
Subject: Re[Harbour] lease notes/questions
In-Reply-To: <9257026e0912180042h7c398721sf599336085308ad4@mail.gmail.com>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>	<26832160.post@talk.nabble.com>	<A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>	<609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>	<7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>
	<9257026e0912180042h7c398721sf599336085308ad4@mail.gmail.com>
Message-ID: <002301ca7fc3$8c3b3080$a4b19180$@Bisz@t-online.hu>

The Fedora 12 current release contains Qt 4.5.3. As we can see in the Fedora
build-system the Qt 4.6 is included just in the upcoming F13 with 2010.05.11
release date.
This the current status and I have no information about the future Qt
versions integration philosophy.
 
Best regards,
Istv?n
 

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo Fiorini
Sent: 2009. december 18. 9:43
To: Harbour Project Main Developer List.
Subject: Re: Re[Harbour] lease notes/questions

On Fri, Dec 18, 2009 at 1:27 AM, Viktor Szak?ts <harbour.01@syenar.hu>
wrote:

> Wherever Nokia put that on their site. Last week
> 4.5.2 was available, now it isn't anymore. Or can't
> find it.

Here there are the previous versions: ftp://ftp.qt.nokia.com/qtsdk/

To avoid extra noise, I think we should state which is the one
"supported" for 2.0.

Since we don't have control of the distros' QT version, I think we
should support also Linux packages from qt site.

best regards,
Lorenzo
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Fri Dec 18 04:37:44 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec 18 04:37:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13290] trunk/harbour
Message-ID: <E1NLZHM-000892-42@d5vjzd1.ch3.sourceforge.com>

Revision: 13290
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13290&view=rev
Author:   vszakats
Date:     2009-12-18 09:37:37 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-18 10:19 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Added more generic link for QT OSS downloads.

  * contrib/hbqt/*
    * Regenerated.
      (Please list only '* contrib/hbqt/*' to avoid growing ChangeLog
      with several hundred entries each time the generator changes)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbqt/hbqt_garbage.h
    trunk/harbour/contrib/hbqt/qtcore/QAbstractItemModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QAbstractListModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QAbstractTableModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QBitArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QByteArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QCoreApplication.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDataStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDate.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDateTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDir.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEvent.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEventLoop.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFile.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFileInfo.cpp
    trunk/harbour/contrib/hbqt/qtcore/QIODevice.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1Char.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1String.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLine.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLineF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLocale.cpp
    trunk/harbour/contrib/hbqt/qtcore/QMimeData.cpp
    trunk/harbour/contrib/hbqt/qtcore/QModelIndex.cpp
    trunk/harbour/contrib/hbqt/qtcore/QObject.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPoint.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPointF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QProcess.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRect.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRectF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRegExp.cpp
    trunk/harbour/contrib/hbqt/qtcore/QResource.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSignalMapper.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSize.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSizeF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QStringList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextBoundaryFinder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextCodec.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextDecoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextEncoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QThread.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTimer.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTranslator.cpp
    trunk/harbour/contrib/hbqt/qtcore/QUiLoader.cpp
    trunk/harbour/contrib/hbqt/qtcore/QUrl.cpp
    trunk/harbour/contrib/hbqt/qtcore/QVariant.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractItemDelegate.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractItemView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractProxyModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractScrollArea.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractTextDocumentLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QActionGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QApplication.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBitmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBrush.cpp
    trunk/harbour/contrib/hbqt/qtgui/QButtonGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCalendarWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCheckBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QClipboard.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColorDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommandLinkButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommonStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCompleter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QConicalGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QContextMenuEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDesktopWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDial.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDirModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDoubleSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDragMoveEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDropEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QErrorMessage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileIconProvider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileSystemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFocusFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFont.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDatabase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontInfo.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetrics.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetricsF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFormLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGridLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHeaderView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHelpEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageReader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputContext.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputMethodEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelection.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelectionModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QKeySequence.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLCDNumber.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLabel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLayoutItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLineEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLinearGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMainWindow.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMatrix.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenu.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenuBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMessageBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMouseEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMoveEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMovie.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPageSetupDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPaintEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainterPath.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPalette.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPicture.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPixmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPlainTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygonF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintEngine.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintPreviewDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrinter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPushButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadialGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadioButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRegion.cpp
    trunk/harbour/contrib/hbqt/qtgui/QResizeEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollArea.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSessionManager.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizePolicy.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSound.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpacerItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplashScreen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplitter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStatusBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStringListModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleFactory.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComplex.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFocusRect.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionHeader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionMenuItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTab.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabBarBase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabWidgetFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTitleBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionViewItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStylePainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyledItemDelegate.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSyntaxHighlighter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSystemTrayIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetSelectionRange.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlock.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlockFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBrowser.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCharFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocument.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrameFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextImageFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextInlineObject.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLength.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLine.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextListFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextObject.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextTableFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTransform.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QVBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QValidator.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWheelEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWindowsStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizard.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizardPage.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QFtp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpRequestHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpResponseHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QNetworkRequest.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Fri Dec 18 04:46:12 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Dec 18 04:46:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13291] trunk/harbour
Message-ID: <E1NLZPY-000748-QS@3kljzd1.ch3.sourceforge.com>

Revision: 13291
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13291&view=rev
Author:   vouchcac
Date:     2009-12-18 09:46:11 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-18 01:37 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt.h
  * contrib/hbqt/hbqt_base.cpp
  * contrib/hbqt/hbqt_destruct.cpp
  * contrib/hbqt/hbqt_events.cpp
  * contrib/hbqt/hbqt_slots.cpp

  * contrib/hbxbp/xbpbrowse.prg
  * contrib/hbxbp/xbphtmlviewer.prg
  * contrib/hbxbp/xbpmenubar.prg
  * contrib/hbxbp/xbpprinter.prg
  * contrib/hbxbp/xbppushbutton.prg
  * contrib/hbxbp/xbptoolbar.prg
  * contrib/hbxbp/xbpwindow.prg

  * contrib/hbqt/tests/demoqt.prg
  * contrib/hbide/hbide.prg
    ! Cleaned up QT_PTROF() macro altogether.
      A few instances are left in the HBXBP scheduled to be reviewed later.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_base.cpp
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
    trunk/harbour/contrib/hbqt/hbqt_events.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/tests/demoqt.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbphtmlviewer.prg
    trunk/harbour/contrib/hbxbp/xbpmenubar.prg
    trunk/harbour/contrib/hbxbp/xbpprinter.prg
    trunk/harbour/contrib/hbxbp/xbppushbutton.prg
    trunk/harbour/contrib/hbxbp/xbptoolbar.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Fri Dec 18 04:56:51 2009
From: toninhofwi at yahoo.com.br (Antonio Carlos)
Date: Fri Dec 18 04:57:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13270] trunk/harbour
In-Reply-To: <ED16F51C-A280-4432-8F04-044EC982F41E@syenar.hu>
Message-ID: <422137.3405.qm@web33703.mail.mud.yahoo.com>

> Hi Toninho, 
> 
> Pls recheck after:
> ???2009-12-17 22:59 UTC+0200 Viktor Szakats
> (harbour.01 syenar.hu)

Hi Viktor.

Now don?t GPF, but doesn?t call MAPI. The returned value by win_MapiSendMail is 2 in both samples.

Thanks and best regards,

Toninho.




      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
From vszakats at users.sourceforge.net  Fri Dec 18 04:56:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec 18 04:57:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13292] trunk/harbour
Message-ID: <E1NLZZN-0008Sd-4u@d5vjzd1.ch3.sourceforge.com>

Revision: 13292
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13292&view=rev
Author:   vszakats
Date:     2009-12-18 09:56:17 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-18 10:55 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt.h
  * contrib/hbqt/hbqt_destruct.cpp
    ! Added missing 'extern'.
    % Deleted '#include hbstack.h'
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Fri Dec 18 05:21:07 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Dec 18 05:21:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13293] trunk/harbour
Message-ID: <E1NLZxL-0007nW-63@3kljzd1.ch3.sourceforge.com>

Revision: 13293
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13293&view=rev
Author:   druzus
Date:     2009-12-18 10:21:06 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-18 11:20 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/gtxwc/gtxwc.c
    + accept "TEXT" selections is better forms cannot be found
    * removed hack not necessary after recent code cleanup

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/gtxwc/gtxwc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Dec 18 05:46:40 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Dec 18 05:46:47 2009
Subject: [Harbour] GTXWC clipboard paste: hang
In-Reply-To: <alpine.DEB.2.00.0912180159250.27623@dawn.royalcomp.hu>
References: <AD2EC1E8-CA96-40B0-B81E-0D540C750CFB@syenar.hu>
	<20091216180031.GA27412@linux-4bod.home.aster.pl>
	<E81069FD-2AD0-4634-BFCB-9B34F4F4E3E5@syenar.hu>
	<7FE5ECA5-79DF-4188-B78E-E446ED04AB9F@syenar.hu>
	<20091217024820.GA2098@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0912170433460.27623@dawn.royalcomp.hu>
	<20091217104807.GA18626@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0912172223300.27623@dawn.royalcomp.hu>
	<20091217234027.GA23578@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0912180159250.27623@dawn.royalcomp.hu>
Message-ID: <20091218104640.GA14674@linux-4bod.home.aster.pl>

On Fri, 18 Dec 2009, Tamas TEVESZ wrote:

Hi,

>  > Can you check if problem can be resolved if you add at the end of your
>  > test application:
>  >    hb_gtInfo( HB_GTI_CLIPBOARDDATA, "" )
> no, but i managed to strace the xterm that got picked by the Client 
> Killer Phenomenon.

:-)

> it's last breath was this:
> X Error of failed request:  BadWindow (invalid Window parameter)
> Major opcode of failed request: 2  (X_ChangeWindowAttributes)
> Resource id in failed request:  0x560001e
> Serial number of failed request:  1107
> Current serial number in output stream:  1108
[...]
> its _only_ the xterms. i have now tried having other apps killed by 
> this method, but it's always the xterm that dies.
> ok, i have found a pattern i seem to be able to reliably reproduce.

Now it seems to be a little bit different thing the one you described
in previous message or maybe I didn't understood you correctly.

> i am running XTerm(235) (ubuntu intrepid x64). the test app is on a 
> remote box, which is ubuntu karmic x64. ssh in, start the test app (it 
> doesn't matter whether x is via ssh or via a direct connection).

I fixed stupid bug in one of last commits which was exploited
on 64bit machines so if possible please check if you can still
replicate the problem with current SVN code. Anyhow seems that
this modification should not effect any valid 3-rd party code.

> when the test app says to copy something in, copy something in from an 
> xterm. then push through the test app, and after it exits, give focus 
> to the xterm you have copied from (this may need to be done several 
> times). i could kill the xterm in at most 5 tries (of giving it focus, 
> and taking focus away from it).
> i've tried other apps, xlib-based, xaw-based, gtk-based, i've even 
> tried rxvt, but it is invariably the xterm that dies.
> i have tried XTerm(243) (this is the latest in ubuntu), same effect.
> i've built myself a smokin' fresh XTerm(253), same effect.
> 
> so thus far every finger points at either xterm or xterm-wm 
> interaction being somehow at fault, and we could have been chasing 
> ghosts...

I cannot replicate it (probably because I cannot exactly replicate your
environment settings) so I have to guess but probably you are right.
Anyhow thank you very much for your tests. Finally I've found a while
to clean the selection code in GTXWC.

best regards,
Przemek
From vszakats at users.sourceforge.net  Fri Dec 18 06:31:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec 18 06:31:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13294] trunk/harbour
Message-ID: <E1NLb3T-0008SF-Bt@74yxhf1.ch3.sourceforge.com>

Revision: 13294
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13294&view=rev
Author:   vszakats
Date:     2009-12-18 11:31:30 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-18 12:31 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * package/winuni/RELNOTES
    + Updated packages used by upcoming release.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/package/winuni/RELNOTES


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Dec 18 06:43:56 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec 18 06:44:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13295] trunk/harbour
Message-ID: <E1NLbFU-0000Dg-2d@74yxhf1.ch3.sourceforge.com>

Revision: 13295
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13295&view=rev
Author:   vszakats
Date:     2009-12-18 11:43:54 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-18 12:43 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/mapi.c
    ! Fixed typo in r13235 patch. This could have caused memory 
      corruption and MAPI errors.
    ; Please retest.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/mapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Dec 18 06:55:17 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec 18 06:55:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13296] trunk/harbour
Message-ID: <E1NLbQT-0000PE-Cu@74yxhf1.ch3.sourceforge.com>

Revision: 13296
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13296&view=rev
Author:   vszakats
Date:     2009-12-18 11:55:16 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-18 12:54 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/gtxwc/gtxwc.c
    * Prefixed static vars with s_.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/gtxwc/gtxwc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Fri Dec 18 07:18:02 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Dec 18 07:18:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13297] trunk/harbour
Message-ID: <E1NLbmU-0006Ua-UJ@dn4whf1.ch3.sourceforge.com>

Revision: 13297
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13297&view=rev
Author:   druzus
Date:     2009-12-18 12:18:01 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-18 13:17 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    ! use CC_HB_USER_LIBS instead of HB_USER_LIBS in linked library list
      current HB_USER_LIBS has different meaning in build process then
      in the past

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From pct_hbqt at hotmail.com  Fri Dec 18 07:26:34 2009
From: pct_hbqt at hotmail.com (PCToledo)
Date: Fri Dec 18 07:26:44 2009
Subject: [Harbour] Window Main X Window Modal X HBQT
In-Reply-To: <4B2A75C8.8060602@uol.com.br>
References: <26818868.post@talk.nabble.com> <4B2A75C8.8060602@uol.com.br>
Message-ID: <26842663.post@talk.nabble.com>


Marcos, thanks for your help!

But it has as define the size of the fields and the position of labels and
fields?

Regards,
Toledo


Marcos Gambeta wrote:
> 
> PCToledo escreveu:
>> Someone could send a small example of how to create a Window Main and
>> open
>> it in a Window Modal?
> 
> Your sample with a login dialog:
> 
> [code]
> /*----------------------------------------------------------------------*/
> #include "hbqt.ch"
> #include "common.ch"
> 
> #define QT_EVE_TRIGGERED_B           "triggered(bool)"
> 
> STATIC oApplication
> 
> /*----------------------------------------------------------------------*/
> INIT PROCEDURE Qt_Start()
>     oApplication := QApplication():new()
>     RETURN
> 
> EXIT PROCEDURE Qt_End()
>     oApplication:quit()
>     RETURN
> 
> Procedure Main()
> 
>     Local oMainWindow, oStatusBar, oStatusTit, oMenuBar, oMenuFile, oMB
> 
>     oMainWindow := QMainWindow():New()
> 
>     oMainWindow:setMouseTracking( .t. )
>     oMainWindow:SetWindowTitle("Program title")
> 
>     oStatusBar := QStatusBar():new(QT_PTROF(oMainWindow))
> 
>     oStatusTit := QLabel():new()
>     oStatusTit:setText(" PCToledo Sistemas - suporte@pctoledo.com.br")
>     oStatusTit:setMinimumSize(oStatusTit:sizeHint())
> 
>     oStatusBar:addWidget(QT_PTROF(oStatusTit),1)
> 
>     oMainWindow:setStatusBar( QT_PTROF(oStatusBar) )
>     oStatusBar:setSizeGripEnabled(.f.)
> 
>     oMenuBar := QMenuBar():new()
>     oMenuBar:resize( oMainWindow:width(), 25 )
> 
>     oMenuFile := QMenu():new()
>     oMenuFile:setTitle("&File")
> 
>     Qt_Connect_Signal( oMenuFile:AddAction("&Exit"), QT_EVE_TRIGGERED_B, 
> {||oMainWindow:close() })
>     oMenuBar:addMenu( QT_PTROF( oMenuFile ) )
> 
>     oMainWindow:setMenuBar( QT_PTROF( oMenuBar ) )
> 
>     IF PassWord(oMainWindow)
>       //valid password
>        oMainWindow:showMaximized()
>        oApplication:Exec()
>     ELSE
>       //Invalid Password
>       oMB := QMessageBox():new()
>       oMB:setInformativeText( "Invalid user or password" )
>       oMB:setWindowTitle( "Login" )
>       oMB:exec()
>     ENDIF
> 
>     //oMainWindow:showMaximized()
> 
>     //oApplication:Exec()
> 
> Return
> 
> STATIC FUNCTION PassWord()
> //Local Ret:=0
> Local oDialog
> Local oFormLayout
> Local oLabelUser
> Local oLineEditUser
> Local oLabelPassword
> Local oLineEditPassword
> Local oButtonOk
> Local r
> 
>     oDialog := QDialog():New()
>     oDialog:setWindowTitle("Login")
>     oDialog:resize(210,130)
>     oFormLayout := QFormLayout():New(QT_PTROF( oDialog ))
>     oLabelUser := QLabel():New()
>     oLabelUser:setText("User")
>     oLineEditUser := QLineEdit():New()
>     oLabelPassword := QLabel():New()
>     oLabelPassword:setText("Password")
>     oLineEditPassWord := QLineEdit():New()
>     oLineEditPassWord:setEchoMode(2)
>     oFormLayout:addRow( QT_PTROF(oLabelUser), QT_PTROF(oLineEditUser) )
>     oFormLayout:addRow( QT_PTROF(oLabelPassword), 
> QT_PTROF(oLineEditPassword) )
>     oButtonOk := QPushButton():New(QT_PTROF( oDialog ))
>     oButtonOk:setText("OK")
>     oButtonOk:move(100,80)
>     Qt_Connect_Signal( QT_PTROF(oButtonOk), "clicked()", 
> {||IIF(oLineEditUser:text()=="user".and.oLineEditPassword:text()=="password",oDialog:done(1),oDialog:done(0)) 
> })
> 
> r := oDialog:exec()
> 
> //Return (Ret)
> Return IIF(r==1,.t.,.f.)
> [/code]
> 
> Take some time to study the classes QDialog and QFormLayout (very useful).
> 
> -- 
> Regards,
> Marcos Antonio Gambeta
> 


-----
Toledo
http://www.pctoledo.com.br/forum http://www.pctoledo.com.br/forum 
-- 
View this message in context: http://old.nabble.com/Window-Main-X-Window-Modal-X-HBQT-tp26818868p26842663.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From jarabal at gmail.com  Fri Dec 18 07:32:16 2009
From: jarabal at gmail.com (Xavi)
Date: Fri Dec 18 07:33:06 2009
Subject: [Harbour] Re: Fixed close event in windows console GTWIN.
In-Reply-To: <8E7C8297-2745-4FCB-AB76-CCC416A8C0C1@syenar.hu>
References: <4B2A8860.40208@gmail.com>
	<52287722-5368-4861-9DCE-ACB49DB046E4@syenar.hu>
	<4B2A9831.4030107@gmail.com>
	<8E7C8297-2745-4FCB-AB76-CCC416A8C0C1@syenar.hu>
Message-ID: <4B2B7650.2070100@gmail.com>

Viktor,

If I sent this example is because I thought the difference was obvious.
In my development environment Windows presents the "End program dialog" (with option to cancel) with //GTWIN and not without.
The reason is that with one is executed the event handler because windows reused the console and with other not.

But ... !!! ??? is a big surprise to me that, with 'hbmk2 t.prg' my example program not do the same.
Well Murphy's law and extra work for me.

When find speare time I look exactly what happens.
A little help would be welcome.

-- 
Xavi

El 17/12/2009 22:49, Viktor Szak?ts escribi?:
>> <  --- t.prg --->
>>
>> Procedure Main()
>>    Local cArg := hb_CmdLine()
>>
>>    REQUEST HB_GT_WVG
>>    REQUEST HB_GT_WIN
>>    REQUEST HB_GT_NUL_DEFAULT
>>
>>    if !Empty(cArg) .and. (Val(cArg) == 1) .and. !('//GTWIN' $ cArg)
>>       hb_gtReload( 'WVG' )
>>    else
>>       hb_gtReload( 'WIN' )
>>    endif
>>
>>    ? "Click [X] to close windows console "
>>    while( LastKey() != 27 )
>>       Inkey( 1 )
>>    enddo
>>
>>    Wait
>> return
>
> Can't see any difference with MINGW.
>
> I changed WVG to WVT for my tests and
> used 'hbmk2 t.prg' to build it.
>
> What am I doing wrong?
>
> Could anybody help here?
>
> Brgds,
> Viktor
>
From harbour.01 at syenar.hu  Fri Dec 18 07:33:27 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Dec 18 07:33:38 2009
Subject: Re[Harbour] lease notes/questions
In-Reply-To: <002201ca7fc0$a6e98290$f4bc87b0$@Bisz@t-online.hu>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>	<26832160.post@talk.nabble.com>	<A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>	<609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>	<7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>	<000901ca7fb2$17b90c70$472b2550$@Bisz@t-online.hu>
	<844D1A8A-E65B-4C24-9A8F-245EB0DC3E9D@syenar.hu>
	<002201ca7fc0$a6e98290$f4bc87b0$@Bisz@t-online.hu>
Message-ID: <99E1951E-0142-4AB9-80A1-11C113B32945@syenar.hu>

>> Do you know whether DWARF-2 MINGW can be used with 4.5.x?
> 
> No, we should use the DWARF-2 MINGW just for 4.6.0 and probably upper.
> 
> The explication is that they (Qt 4.6 developers) switched to MinGW with GCC
> 4.4.0. The MinGw developers decided to support in GCC 4.4.0 release, and
> probably upper, just DWARF-2 rewinding. 

Okay. So for now we settle with regular MINGW 4.4.1 TDM SJLJ builds 
with QT 4.5.3. This will be also used for MSVC. Of course MSVC users 
will have to build QT from source.

As next step we will move to MINGW 4.4.0 DWARF-2 (official or TDM) 
builds with QT 4.6.0. MSVC still has open questions here.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Dec 18 07:33:48 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Dec 18 07:33:54 2009
Subject: Re[Harbour] lease notes/questions
In-Reply-To: <000901ca7fb2$17b90c70$472b2550$@Bisz@t-online.hu>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>	<26832160.post@talk.nabble.com>	<A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>	<609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>
	<7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>
	<000901ca7fb2$17b90c70$472b2550$@Bisz@t-online.hu>
Message-ID: <38C2C002-0CE3-4A7B-99EA-1BA78A231980@syenar.hu>

> Hi Viktor,
> 
>> If someone has a link for plain standard 4.5.2 binary 
>> pkg previously available from QT homepage, pls write 
>> it.
> 
> Please try these links:
> 
> http://get.qt.nokia.com/qt/source/qt-win-opensource-4.5.3-mingw.exe
> or
> http://get.qt.nokia.com/qt/source/qt-win-opensource-4.5.2-mingw.exe
> 
> Preferable the first one.

Thank you.

Brgds,
Viktor

From fernando_athayde at yahoo.com.br  Fri Dec 18 07:48:46 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Fri Dec 18 07:48:53 2009
Subject: [Harbour] hbmk2 + msvc
In-Reply-To: <000901ca7fb2$17b90c70$472b2550$@Bisz@t-online.hu>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>
	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>
	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
	<26832160.post@talk.nabble.com>
	<A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>
	<609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>
	<7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>
	<000901ca7fb2$17b90c70$472b2550$@Bisz@t-online.hu>
Message-ID: <370537.31472.qm@web52205.mail.re2.yahoo.com>

if the file exe is already opened, 
you forgot and try compile,
hbmk2 invoque link, it should stop after error, isn?t it?

LINK : fatal error LNK1104: cannot open file 'fjfrigo.exe'
hbmk2: Erro: Executando linkeditor. 1104
link.exe -nologo -out:fjfrigo.exe .hbmk\win\msvc\busca.obj .hbmk\win\msvc\database.obj .hbmk\win\msvc\errorsys.obj .hbmk\win\msvc\fj_printsetup.obj .hbmk\win\msvc\funcoes.obj .hbmk\win\msvc\hbrowse.obj .hbmk\win\msvc\hbvpdf.obj .hbmk\win\msvc\hbvpdft.obj .hbmk\win\msvc\hbvpsup.obj .hbmk\win\msvc\hprinter.obj .hbmk\win\msvc\login.obj .hbmk\win\msvc\menu0.obj .hbmk\win\msvc\menu11.obj .hbmk\win\msvc\menu12.obj .hbmk\win\msvc\menu13.obj .hbmk\win\msvc\menu14.obj .hbmk\win\msvc\menu15.obj .hbmk\win\msvc\menu16.obj .hbmk\win\msvc\menu171.obj .hbmk\win\msvc\menu172.obj .hbmk\win\msvc\menu173.obj .hbmk\win\msvc\menu174.obj .hbmk\win\msvc\menu175.obj .hbmk\win\msvc\menu176.obj .hbmk\win\msvc\menu177.obj .hbmk\win\msvc\menu178.obj .hbmk\win\msvc\menu179.obj .hbmk\win\msvc\menu181.obj .hbmk\win\msvc
\menu182.obj .hbmk\win\msvc\menu183.obj .hbmk\win\msvc\menu184.obj .hbmk\win\msvc\menu185.obj .hbmk\win\msvc\menu187.obj .hbmk\win\msvc\menu188.obj .hbmk\win\msvc\menu189.obj .hbmk\win\msvc\menu18a.obj .hbmk\win\msvc\menu18b.obj .hbmk\win\msvc\menu191.obj .hbmk\win\msvc\menu192.obj .hbmk\win\msvc\menu193.obj .hbmk\win\
msvc\menu194.obj .hbmk\win\msvc\menu21.obj .hbmk\win\msvc\menu221.obj .hbmk\win\msvc\menu222.obj .hbmk\win\msvc\menu223.obj .hbmk\win\msvc\menu224.obj .hbmk\win\msvc\menu225.obj .hbmk\win\msvc\menu226.obj .hbmk\win\msvc\menu227.obj .hbmk\win\msvc\menu2312.obj .hbmk\win\msvc\menu2322.obj .hbmk\win\msvc\menu2332.obj .hbm
k\win\msvc\menu2333.obj .hbmk\win\msvc\menu2334.obj .hbmk\win\msvc\menu234.obj .hbmk\win\msvc\menu241.obj .hbmk\win\msvc\menu242.obj .hbmk\win\msvc\menu243.obj.hbmk\win\msvc\menu244.obj .hbmk\win\msvc\menu245.obj .hbmk\win\msvc\menu246.obj .hbmk\win\msvc\menu311.obj .hbmk\win\msvc\menu312.obj .hbmk\win\msvc\menu313.ob
j .hbmk\win\msvc\menu314.obj .hbmk\win\msvc\menu315.obj .hbmk\win\msvc\menu3171.obj .hbmk\win\msvc\menu3172.obj .hbmk\win\msvc\menu3174.obj .hbmk\win\msvc\menu3181.obj .hbmk\win\msvc\menu3182.obj .hbmk\win\msvc\menu3183.obj .hbmk\win\msvc\menu3185.obj .hbmk\win\msvc\menu3193.obj .hbmk\win\msvc\menu3197.obj .hbmk\win\ms
vc\menu3198.obj .hbmk\win\msvc\menu3199.obj .hbmk\win\msvc\menu3211.obj .hbmk\win\msvc\menu3213.obj .hbmk\win\msvc\menu3214.obj .hbmk\win\msvc\menu3215.obj .hbmk\win\msvc\menu3221.obj .hbmk\win\msvc\menu3222.obj .hbmk\win\msvc\menu3231.obj.hbmk\win\msvc\menu3311.obj .hbmk\win\msvc\menu3321.obj .hbmk\win\msvc\menu3332.
obj .hbmk\win\msvc\menu3334.obj .hbmk\win\msvc\menu41.obj .hbmk\win\msvc\menu421.obj .hbmk\win\msvc\menu422.obj .hbmk\win\msvc\menu423.obj .hbmk\win\msvc\menu424.obj .hbmk\win\msvc\menu442.obj .hbmk\win\msvc\menu443.obj .hbmk\win\msvc\menu444.obj .hbmk\win\msvc\menu445.obj .hbmk\win\msvc\menu45.obj .hbmk\win\msvc\menuc
adpadrao.obj .hbmk\win\msvc\menulanpadrao.obj .hbmk\win\msvc\menu_f.obj .hbmk\win\msvc\parametros.obj .hbmk\win\msvc\printdos.obj .hbmk\win\msvc\rede.obj .hbmk\win\msvc\sockets.obj .hbmk\win\msvc\translator.obj .hbmk\win\msvc\_hbmkaut.obj -libpath:E:\harbour_vc\lib\win\msvc -libpath:lib -libpath:\hwguivc\lib  -subsystem:windows hwgui.lib procmisc.lib hbct.lib hbtip.lib hbwin.lib xhb.lib hbhpdf.lib libhpdf.lib libpng.lib hbmysql.lib libmysql.lib hbmemio.lib hbextern.lib hbdebug.lib hbvmmt.lib hbrtl.lib hblang.lib hbcpage.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib hbrdd.lib hbuddall.lib hbusrrdd.lib rddntx.lib rddcdx.lib rddnsx.lib rddfpt.lib hbrdd.lib hbhsx.lib hbsix.lib hbmacro.lib hbcplr.lib hbpp.lib hbcommon.lib kernel32.lib user32.lib gdi32.lib advapi32.lib ws2_32.lib winspool.lib comctl32.lib comdlg32.lib shell32.lib uuid.lib ole32.lib oleaut32.lib mpr.lib winmm.lib mapi32.lib imm32.lib msimg32.lib wininet.lib
 hbpcre.libhbzlib.lib  .hbmk\win\msvc\fjfrigo.res

Best Regards,
Fernando



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091218/683f9372/attachment.html
From harbour.01 at syenar.hu  Fri Dec 18 07:56:47 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Dec 18 07:57:01 2009
Subject: [Harbour] Re: Fixed close event in windows console GTWIN.
In-Reply-To: <4B2B7650.2070100@gmail.com>
References: <4B2A8860.40208@gmail.com>
	<52287722-5368-4861-9DCE-ACB49DB046E4@syenar.hu>
	<4B2A9831.4030107@gmail.com>
	<8E7C8297-2745-4FCB-AB76-CCC416A8C0C1@syenar.hu>
	<4B2B7650.2070100@gmail.com>
Message-ID: <98BE6EAB-D3C0-443E-B4CA-014CA57A8A16@syenar.hu>

Hi Xavi,

> If I sent this example is because I thought the difference was obvious.
> In my development environment Windows presents the "End program dialog" (with option to cancel) with //GTWIN and not without.
> The reason is that with one is executed the event handler because windows reused the console and with other not.

For some reason I'm not getting this dialog here, nor does my 
screen stay around after closing a console app. (I couldn't find 
where to set that).

> But ... !!! ??? is a big surprise to me that, with 'hbmk2 t.prg' my example program not do the same.
> Well Murphy's law and extra work for me.
> 
> When find speare time I look exactly what happens.
> A little help would be welcome.

To me this example program is a little strange, since you're 
trying to replicate a feature on .prg level which is built 
right into the core. Plus ANNOUNCE was missing, GTNUL is 
unnecessary, WAIT at the end doesn't get executed if closed.

--- t2.prg
REQUEST HB_GT_WVT_DEFAULT
ANNOUNCE HB_GTSYS

PROCEDURE Main()

  ? "Click [X] to close windows console "
  while( LastKey() != 27 )
     Inkey( 1 )
  enddo

  RETURN
---

Build with 'hbmk2 t2'

Run as: t2
or: t2 //gtwin

Brgds,
Viktor

From vszakats at users.sourceforge.net  Fri Dec 18 08:35:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec 18 08:35:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13298] trunk/harbour
Message-ID: <E1NLcz4-0002Wl-TD@c3vjzd1.ch3.sourceforge.com>

Revision: 13298
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13298&view=rev
Author:   vszakats
Date:     2009-12-18 13:35:05 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-18 14:34 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * package/winuni/RELNOTES
    * Updated FreeImage component version missed form prev commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/package/winuni/RELNOTES


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Dec 18 08:42:33 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Dec 18 08:42:42 2009
Subject: [Harbour] Re: Fixed close event in windows console GTWIN.
In-Reply-To: <98BE6EAB-D3C0-443E-B4CA-014CA57A8A16@syenar.hu>
References: <4B2A8860.40208@gmail.com>
	<52287722-5368-4861-9DCE-ACB49DB046E4@syenar.hu>
	<4B2A9831.4030107@gmail.com>
	<8E7C8297-2745-4FCB-AB76-CCC416A8C0C1@syenar.hu>
	<4B2B7650.2070100@gmail.com>
	<98BE6EAB-D3C0-443E-B4CA-014CA57A8A16@syenar.hu>
Message-ID: <A46E1262-775A-414F-9D4F-2DAC80DA93C7@syenar.hu>

> --- t2.prg
> REQUEST HB_GT_WVT_DEFAULT
> ANNOUNCE HB_GTSYS
> 
> PROCEDURE Main()
> 
>  ? "Click [X] to close windows console "
>  while( LastKey() != 27 )
>     Inkey( 1 )
>  enddo
> 
>  RETURN
> ---

Correction: Add REQUEST HB_GT_WIN to the top.

[ Typed to the mailer, more typos are possible. ]

Brgds,
Viktor

From vszakats at users.sourceforge.net  Fri Dec 18 08:52:32 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec 18 08:52:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13299] trunk/harbour
Message-ID: <E1NLdFw-0002ur-GR@c3vjzd1.ch3.sourceforge.com>

Revision: 13299
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13299&view=rev
Author:   vszakats
Date:     2009-12-18 13:52:31 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-18 14:52 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * package/winuni/RELNOTES
    + Added Cairo version.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/package/winuni/RELNOTES


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Dec 18 08:58:17 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Dec 18 08:58:25 2009
Subject: [Harbour] Re: Fixed close event in windows console GTWIN.
In-Reply-To: <4B2B7650.2070100@gmail.com>
References: <4B2A8860.40208@gmail.com>
	<52287722-5368-4861-9DCE-ACB49DB046E4@syenar.hu>
	<4B2A9831.4030107@gmail.com>
	<8E7C8297-2745-4FCB-AB76-CCC416A8C0C1@syenar.hu>
	<4B2B7650.2070100@gmail.com>
Message-ID: <20091218135817.GA21593@linux-4bod.home.aster.pl>

On Fri, 18 Dec 2009, Xavi wrote:

Hi,

> If I sent this example is because I thought the difference was obvious.
> In my development environment Windows presents the "End program dialog" (with option to cancel) with //GTWIN and not without.
> The reason is that with one is executed the event handler because windows reused the console and with other not.
> But ... !!! ??? is a big surprise to me that, with 'hbmk2 t.prg' my example program not do the same.
> Well Murphy's law and extra work for me.
> When find speare time I look exactly what happens.
> A little help would be welcome.

This behavior depends on application type. GUI applications using
WinMain() as startup entry allocates new console and CUI programs
starting with main() trys to inherit existing console from calling
process. Type of application depends on linker switches.
In hbmk2 it can be changed by -gui|-std switches.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Dec 18 09:06:44 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Dec 18 09:06:55 2009
Subject: [Harbour] hbmk2 + msvc
In-Reply-To: <370537.31472.qm@web52205.mail.re2.yahoo.com>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>
	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>
	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
	<26832160.post@talk.nabble.com>
	<A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>
	<609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>
	<7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>
	<000901ca7fb2$17b90c70$472b2550$@Bisz@t-online.hu>
	<370537.31472.qm@web52205.mail.re2.yahoo.com>
Message-ID: <E3C51AE0-D45C-4689-8A8C-36B76D7A0E84@syenar.hu>

> if the file exe is already opened, 
> you forgot and try compile,
> hbmk2 invoque link, it should stop after error, isn?t it?

That's exactly what it did.

Brgds,
Viktor

> 
> LINK : fatal error LNK1104: cannot open file 'fjfrigo.exe'
> hbmk2: Erro: Executando linkeditor. 1104
> link.exe -nologo -out:fjfrigo.exe .hbmk\win\msvc\busca.obj .hbmk\win\msvc\database.obj .hbmk\win\msvc\errorsys.obj .hbmk\win\msvc\fj_printsetup.obj .hbmk\win\msvc\funcoes.obj .hbmk\win\msvc\hbrowse.obj .hbmk\win\msvc\hbvpdf.obj .hbmk\win\msvc\hbvpdft.obj .hbmk\win\msvc\hbvpsup.obj .hbmk\win\msvc\hprinter.obj .hbmk\win\msvc\login.obj .hbmk\win\msvc\menu0.obj .hbmk\win\msvc\menu11.obj .hbmk\win\msvc\menu12.obj .hbmk\win\msvc\menu13.obj .hbmk\win\msvc\menu14.obj .hbmk\win\msvc\menu15.obj .hbmk\win\msvc\menu16.obj .hbmk\win\msvc\menu171.obj .hbmk\win\msvc\menu172.obj .hbmk\win\msvc\menu173.obj .hbmk\win\msvc\menu174.obj .hbmk\win\msvc\menu175.obj .hbmk\win\msvc\menu176.obj .hbmk\win\msvc\menu177.obj .hbmk\win\msvc\menu178.obj .hbmk\win\msvc\menu179.obj .hbmk\win\msvc\menu181.obj .hbmk\win\msvc
> \menu182.obj .hbmk\win\msvc\menu183.obj .hbmk\win\msvc\menu184.obj .hbmk\win\msvc\menu185.obj .hbmk\win\msvc\menu187.obj .hbmk\win\msvc\menu188.obj .hbmk\win\msvc\menu189.obj .hbmk\win\msvc\menu18a.obj .hbmk\win\msvc\menu18b.obj .hbmk\win\msvc\menu191.obj .hbmk\win\msvc\menu192.obj .hbmk\win\msvc\menu193.obj .hbmk\win\
> msvc\menu194.obj .hbmk\win\msvc\menu21.obj .hbmk\win\msvc\menu221.obj .hbmk\win\msvc\menu222.obj .hbmk\win\msvc\menu223.obj .hbmk\win\msvc\menu224.obj .hbmk\win\msvc\menu225.obj .hbmk\win\msvc\menu226.obj .hbmk\win\msvc\menu227.obj .hbmk\win\msvc\menu2312.obj .hbmk\win\msvc\menu2322.obj .hbmk\win\msvc\menu2332.obj .hbm
> k\win\msvc\menu2333.obj .hbmk\win\msvc\menu2334.obj .hbmk\win\msvc\menu234.obj .hbmk\win\msvc\menu241.obj .hbmk\win\msvc\menu242.obj .hbmk\win\msvc\menu243.obj.hbmk\win\msvc\menu244.obj .hbmk\win\msvc\menu245.obj .hbmk\win\msvc\menu246.obj .hbmk\win\msvc\menu311.obj .hbmk\win\msvc\menu312.obj .hbmk\win\msvc\menu313.ob
> j .hbmk\win\msvc\menu314.obj .hbmk\win\msvc\menu315.obj .hbmk\win\msvc\menu3171.obj .hbmk\win\msvc\menu3172.obj .hbmk\win\msvc\menu3174.obj .hbmk\win\msvc\menu3181.obj .hbmk\win\msvc\menu3182.obj .hbmk\win\msvc\menu3183.obj .hbmk\win\msvc\menu3185.obj .hbmk\win\msvc\menu3193.obj .hbmk\win\msvc\menu3197.obj .hbmk\win\ms
> vc\menu3198.obj .hbmk\win\msvc\menu3199.obj .hbmk\win\msvc\menu3211.obj .hbmk\win\msvc\menu3213.obj .hbmk\win\msvc\menu3214.obj .hbmk\win\msvc\menu3215.obj .hbmk\win\msvc\menu3221.obj .hbmk\win\msvc\menu3222.obj .hbmk\win\msvc\menu3231.obj.hbmk\win\msvc\menu3311.obj .hbmk\win\msvc\menu3321.obj .hbmk\win\msvc\menu3332.
> obj .hbmk\win\msvc\menu3334.obj .hbmk\win\msvc\menu41.obj .hbmk\win\msvc\menu421.obj .hbmk\win\msvc\menu422.obj .hbmk\win\msvc\menu423.obj .hbmk\win\msvc\menu424.obj .hbmk\win\msvc\menu442.obj .hbmk\win\msvc\menu443.obj .hbmk\win\msvc\menu444.obj .hbmk\win\msvc\menu445.obj .hbmk\win\msvc\menu45.obj .hbmk\win\msvc\menuc
> adpadrao.obj .hbmk\win\msvc\menulanpadrao.obj .hbmk\win\msvc\menu_f.obj .hbmk\win\msvc\parametros.obj .hbmk\win\msvc\printdos.obj .hbmk\win\msvc\rede.obj .hbmk\win\msvc\sockets.obj .hbmk\win\msvc\translator.obj .hbmk\win\msvc\_hbmkaut.obj -libpath:E:\harbour_vc\lib\win\msvc -libpath:lib -libpath:\hwguivc\lib  -subsystem:windows hwgui.lib procmisc.lib hbct.lib hbtip.lib hbwin.lib xhb.lib hbhpdf.lib libhpdf.lib libpng.lib hbmysql.lib libmysql.lib hbmemio.lib hbextern.lib hbdebug.lib hbvmmt.lib hbrtl.lib hblang.lib hbcpage.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib hbrdd.lib hbuddall.lib hbusrrdd.lib rddntx.lib rddcdx.lib rddnsx.lib rddfpt.lib hbrdd.lib hbhsx.lib hbsix.lib hbmacro.lib hbcplr.lib hbpp.lib hbcommon.lib kernel32.lib user32.lib gdi32.lib advapi32.lib ws2_32.lib winspool.lib comctl32.lib comdlg32.lib shell32.lib uuid.lib ole32.lib oleaut32.lib mpr.lib winmm.lib mapi32.lib imm32.lib msimg32.lib wininet.lib hbpcre.libhbzlib.lib  .hbmk\win\msvc\fjfrigo.res
> 
> Best Regards,
> Fernando
> 
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 - Celebridades - M?sica -Esportes_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From fernando_athayde at yahoo.com.br  Fri Dec 18 10:24:34 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Fri Dec 18 10:24:40 2009
Subject: Res: [Harbour] hbmk2 + msvc
In-Reply-To: <E3C51AE0-D45C-4689-8A8C-36B76D7A0E84@syenar.hu>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>
	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>
	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
	<26832160.post@talk.nabble.com>
	<A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>
	<609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>
	<7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>
	<000901ca7fb2$17b90c70$472b2550$@Bisz@t-online.hu>
	<370537.31472.qm@web52205.mail.re2.yahoo.com>
	<E3C51AE0-D45C-4689-8A8C-36B76D7A0E84@syenar.hu>
Message-ID: <185705.20173.qm@web52204.mail.re2.yahoo.com>

with bcc, not happens this, not invoce ex: ilink32

Best Regards
Fernando




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Sexta-feira, 18 de Dezembro de 2009 11:06:44
Assunto: Re: [Harbour] hbmk2 + msvc

> if the file exe is already opened, 
> you forgot and try compile,
> hbmk2 invoque link, it should stop after error, isn?t it?

That's exactly what it did.

Brgds,
Viktor

> 
> LINK : fatal error LNK1104: cannot open file 'fjfrigo.exe'
> hbmk2: Erro: Executando linkeditor. 1104
> link.exe -nologo -out:fjfrigo.exe .hbmk\win\msvc\busca.obj .hbmk\win\msvc\database.obj .hbmk\win\msvc\errorsys.obj .hbmk\win\msvc\fj_printsetup.obj .hbmk\win\msvc\funcoes.obj .hbmk\win\msvc\hbrowse.obj .hbmk\win\msvc\hbvpdf.obj .hbmk\win\msvc\hbvpdft.obj .hbmk\win\msvc\hbvpsup.obj .hbmk\win\msvc\hprinter.obj .hbmk\win\msvc\login.obj .hbmk\win\msvc\menu0.obj .hbmk\win\msvc\menu11.obj .hbmk\win\msvc\menu12.obj .hbmk\win\msvc\menu13.obj .hbmk\win\msvc\menu14.obj .hbmk\win\msvc\menu15.obj .hbmk\win\msvc\menu16.obj .hbmk\win\msvc\menu171.obj .hbmk\win\msvc\menu172.obj .hbmk\win\msvc\menu173.obj .hbmk\win\msvc\menu174.obj .hbmk\win\msvc\menu175.obj .hbmk\win\msvc\menu176.obj .hbmk\win\msvc\menu177.obj .hbmk\win\msvc\menu178.obj .hbmk\win\msvc\menu179.obj .hbmk\win\msvc\menu181.obj .hbmk\win\msvc
> \menu182.obj .hbmk\win\msvc\menu183.obj .hbmk\win\msvc\menu184.obj .hbmk\win\msvc\menu185.obj .hbmk\win\msvc\menu187.obj .hbmk\win\msvc\menu188.obj .hbmk\win\msvc\menu189.obj .hbmk\win\msvc\menu18a.obj .hbmk\win\msvc\menu18b.obj .hbmk\win\msvc\menu191.obj .hbmk\win\msvc\menu192.obj .hbmk\win\msvc\menu193.obj .hbmk\win\
> msvc\menu194.obj .hbmk\win\msvc\menu21.obj .hbmk\win\msvc\menu221.obj .hbmk\win\msvc\menu222.obj .hbmk\win\msvc\menu223.obj .hbmk\win\msvc\menu224.obj .hbmk\win\msvc\menu225.obj .hbmk\win\msvc\menu226.obj .hbmk\win\msvc\menu227.obj .hbmk\win\msvc\menu2312.obj .hbmk\win\msvc\menu2322.obj .hbmk\win\msvc\menu2332.obj .hbm
> k\win\msvc\menu2333.obj .hbmk\win\msvc\menu2334.obj .hbmk\win\msvc\menu234.obj .hbmk\win\msvc\menu241.obj .hbmk\win\msvc\menu242.obj .hbmk\win\msvc\menu243.obj.hbmk\win\msvc\menu244.obj .hbmk\win\msvc\menu245.obj .hbmk\win\msvc\menu246.obj .hbmk\win\msvc\menu311.obj .hbmk\win\msvc\menu312.obj .hbmk\win\msvc\menu313.ob
> j .hbmk\win\msvc\menu314.obj .hbmk\win\msvc\menu315.obj .hbmk\win\msvc\menu3171.obj .hbmk\win\msvc\menu3172.obj .hbmk\win\msvc\menu3174.obj .hbmk\win\msvc\menu3181.obj .hbmk\win\msvc\menu3182.obj .hbmk\win\msvc\menu3183.obj .hbmk\win\msvc\menu3185.obj .hbmk\win\msvc\menu3193.obj .hbmk\win\msvc\menu3197.obj .hbmk\win\ms
> vc\menu3198.obj .hbmk\win\msvc\menu3199.obj .hbmk\win\msvc\menu3211.obj .hbmk\win\msvc\menu3213.obj .hbmk\win\msvc\menu3214.obj .hbmk\win\msvc\menu3215.obj .hbmk\win\msvc\menu3221.obj .hbmk\win\msvc\menu3222.obj .hbmk\win\msvc\menu3231.obj.hbmk\win\msvc\menu3311.obj .hbmk\win\msvc\menu3321.obj .hbmk\win\msvc\menu3332.
> obj .hbmk\win\msvc\menu3334.obj .hbmk\win\msvc\menu41.obj .hbmk\win\msvc\menu421.obj .hbmk\win\msvc\menu422.obj .hbmk\win\msvc\menu423.obj .hbmk\win\msvc\menu424.obj .hbmk\win\msvc\menu442.obj .hbmk\win\msvc\menu443.obj .hbmk\win\msvc\menu444.obj .hbmk\win\msvc\menu445.obj .hbmk\win\msvc\menu45.obj .hbmk\win\msvc\menuc
> adpadrao.obj .hbmk\win\msvc\menulanpadrao.obj .hbmk\win\msvc\menu_f.obj .hbmk\win\msvc\parametros.obj .hbmk\win\msvc\printdos.obj .hbmk\win\msvc\rede.obj .hbmk\win\msvc\sockets.obj .hbmk\win\msvc\translator.obj .hbmk\win\msvc\_hbmkaut.obj -libpath:E:\harbour_vc\lib\win\msvc -libpath:lib -libpath:\hwguivc\lib  -subsystem:windows hwgui.lib procmisc.lib hbct.lib hbtip.lib hbwin.lib xhb.lib hbhpdf.lib libhpdf.lib libpng.lib hbmysql.lib libmysql.lib hbmemio.lib hbextern.lib hbdebug.lib hbvmmt.lib hbrtl.lib hblang.lib hbcpage.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib hbrdd.lib hbuddall.lib hbusrrdd.lib rddntx.lib rddcdx.lib rddnsx.lib rddfpt.lib hbrdd.lib hbhsx.lib hbsix.lib hbmacro.lib hbcplr.lib hbpp.lib hbcommon.lib kernel32.lib user32.lib gdi32.lib advapi32.lib ws2_32.lib winspool.lib comctl32.lib comdlg32.lib shell32.lib uuid.lib ole32.lib oleaut32.lib mpr.lib winmm.lib mapi32.lib imm32.lib msimg32.lib wininet.lib
 hbpcre.libhbzlib.lib  .hbmk\win\msvc\fjfrigo.res
> 
> Best Regards,
> Fernando
> 
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 - Celebridades - M?sica -Esportes_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091218/2b690a88/attachment.html
From fernando_athayde at yahoo.com.br  Fri Dec 18 10:29:36 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Fri Dec 18 10:29:44 2009
Subject: Res: [Harbour] hbmk2 + msvc
In-Reply-To: <E3C51AE0-D45C-4689-8A8C-36B76D7A0E84@syenar.hu>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>
	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>
	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
	<26832160.post@talk.nabble.com>
	<A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>
	<609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>
	<7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>
	<000901ca7fb2$17b90c70$472b2550$@Bisz@t-online.hu>
	<370537.31472.qm@web52205.mail.re2.yahoo.com>
	<E3C51AE0-D45C-4689-8A8C-36B76D7A0E84@syenar.hu>
Message-ID: <626597.45005.qm@web52207.mail.re2.yahoo.com>

i didn?t was specified
ex: bcc, it shows error in the end, take a look above, is better to see if happens any error

hbmk2: Linkando... fjfrigo.exe
hbmk2: Comando do Linkeditor:
ilink32.exe @C:\Users\athayde\AppData\Local\Temp\bt3rrj.lnk
hbmk2: Script do linkeditor:
-Gn -Tpe -L\harbour\bcc55\Lib;\harbour\bcc55\Lib\PSDK;e:\harbour\lib\win\bcc;lib;\hwguihb\lib  -aa c0w32.obj .hbmk\win\bcc\busca.obj .hbmk\win\bcc\database.obj.hbmk\win\bcc\fj_printsetup.obj .hbmk\win\bcc\funcoes.obj .hbmk\win\bcc\hbrowse.obj .hbmk\win\bcc\hbvpdf.obj .hbmk\win\bcc\hbvpdft.obj .hbmk\win\bcc\hbvpsup.obj .hbmk\win\bcc\hprinter.obj .hbmk\win\bcc\login.obj .hbmk\win\bcc\menu0.obj .hbmk\win\bcc\menu11.obj .hbmk\win\bcc\menu12.obj .hbmk\win\bcc\menu13.obj .hbmk\win\bcc\menu14.obj .hbmk\win\bcc\menu15.obj .hbmk\win\bcc\menu16.obj .hbmk\win\bcc\menu171.obj .hbmk\win\bcc\menu172.obj .hbmk\win\bcc\menu173.obj .hbmk\win\bcc\menu174.obj .hbmk\win\bcc\menu175.obj .hbmk\win\bcc\menu176.obj .hbmk\win\bcc\menu177.obj .hbmk\win\bcc\menu178.obj .hbmk\win\bcc\menu179.obj .hbmk\win\bcc\menu181.obj .hbmk\win\bcc\menu182.obj .hbmk\win\bcc\menu183.obj .hbmk\win\bcc\menu185.obj .hbmk\win\bcc\menu187.obj .hbmk\win\bcc\menu188.obj .hbmk\win\bcc\menu189.obj
 .hbmk\win\bcc\menu18a.obj .hbmk\win\bcc\menu18b.obj .hbmk\win\bcc\menu191.obj.hbmk\win\bcc\menu192.obj .hbmk\win\bcc\menu193.obj .hbmk\win\bcc\menu194.obj .hbmk\win\bcc\menu21.obj .hbmk\win\bcc\menu221.obj .hbmk\win\bcc\menu222.obj .hbmk\win\bcc\menu223.obj .hbmk\win\bcc\menu224.obj .hbmk\win\bcc\menu225.obj .hbmk\win\bcc\menu226.obj .hbmk\win\bcc\menu227.obj .hbmk\win\bcc\menu2312.obj .hbmk\win\bcc\menu2322.obj .hbmk\win\bcc\menu2332.obj .hbmk\win\bcc\menu2333.obj .hbmk\win\bcc\menu2334.obj .hbmk\win\bcc\menu234.obj .hbmk\win\bcc\menu241.obj .hbmk\win\bcc\menu242.obj .hbmk\win\bcc\menu243.obj .hbmk\win\bcc\menu244.obj .hbmk\win\bcc\menu245.obj .hbmk\win\bcc\menu246.obj .hbmk\win\bcc\menu311.obj .hbmk\win\bcc\menu312.obj .hbmk\win\bcc\menu313.obj .hbmk\win\bcc\menu314.obj .hbmk\win\bcc\menu315.obj .hbmk\win\bcc\menu3171.obj .hbmk\win\bcc\menu3172.obj .hbmk\win\bcc\menu3174.obj .hbmk\win\bcc\menu3181.obj .hbmk\win\bcc\menu3182.obj
 .hbmk\win\bcc\menu3183.obj .hbmk\win\bcc\menu3185.obj .hbmk\win\bcc\menu3193.obj .hbmk\win\bcc\menu3197.obj .hbmk\win\bcc\menu3198.obj .hbmk\win\bcc\menu3199.obj .hbmk\win\bcc\menu3211.obj .hbmk\win\bcc\menu3213.obj .hbmk\win\bcc\menu3214.obj .hbmk\win\bcc\menu3215.obj .hbmk\win\bcc\menu3221.obj .hbmk\win\bcc\menu3222.obj .hbmk\win\bcc\menu3231.obj .hbmk\win\bcc\menu3311.obj .hbmk\win\bcc\menu3321.obj .hbmk\win\bcc\menu3332.obj .hbmk\win\bcc\menu3334.obj .hbmk\win\bcc\menu41.obj .hbmk\win\bcc\menu421.obj .hbmk\win\bcc\menu422.obj .hbmk\win\bcc\menu423.obj .hbmk\win\bcc\menu424.obj .hbmk\win\bcc\menu442.obj .hbmk\win\bcc\menu443.obj .hbmk\win\bcc\menu444.obj .hbmk\win\bcc\menu445.obj .hbmk\win\bcc\menu45.obj .hbmk\win\bcc\menucadpadrao.obj .hbmk\win\bcc\menulanpadrao.obj .hbmk\win\bcc\menu_f.obj .hbmk\win\bcc\parametros.obj .hbmk\win\bcc\printdos.obj .hbmk\win\bcc\rede.obj .hbmk\win\bcc\sockets.obj .hbmk\win\bcc\translator.obj .hbmk\win\bcc\_hbmkaut.obj,
 fjfrigo.exe, nul, hwguimt.lib procmisc.lib hbct.lib hbtip.lib hbwin.lib xhb.lib hbhpdf.lib libhpdf.lib libpng.lib hbmysql.lib libmysql.lib hbmemio.lib hbextern.lib hbdebug.lib hbvmmt.lib hbrtl.lib hblang.lib hbcpage.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib hbrdd.lib hbuddall.lib hbusrrdd.lib rddntx.lib rddcdx.lib rddnsx.lib rddfpt.lib hbrdd.lib hbhsx.lib hbsix.lib hbmacro.lib hbcplr.lib hbpp.lib hbcommon.lib kernel32.lib user32.lib gdi32.lib advapi32.lib ws2_32.lib winspool.lib comctl32.lib comdlg32.lib shell32.lib uuid.lib ole32.lib oleaut32.lib mpr.lib winmm.lib mapi32.lib imm32.lib msimg32.lib wininet.lib hbpcre.lib hbzlib.lib  cw32mt.lib import32.lib,, .hbmk\win\bcc\fjfrigo.res
Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
Fatal: Could not open fjfrigo.exe (program still running?)
hbmk2: Erro: Executando linkeditor. 2
ilink32.exe @C:\Users\athayde\AppData\Local\Temp\bt3rrj.lnk

Best Regards
Fernando




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Sexta-feira, 18 de Dezembro de 2009 11:06:44
Assunto: Re: [Harbour] hbmk2 + msvc

> if the file exe is already opened, 
> you forgot and try compile,
> hbmk2 invoque link, it should stop after error, isn?t it?

That's exactly what it did.

Brgds,
Viktor

> 
> LINK : fatal error LNK1104: cannot open file 'fjfrigo.exe'
> hbmk2: Erro: Executando linkeditor. 1104
> link.exe -nologo -out:fjfrigo.exe .hbmk\win\msvc\busca.obj .hbmk\win\msvc\database.obj .hbmk\win\msvc\errorsys.obj .hbmk\win\msvc\fj_printsetup.obj .hbmk\win\msvc\funcoes.obj .hbmk\win\msvc\hbrowse.obj .hbmk\win\msvc\hbvpdf.obj .hbmk\win\msvc\hbvpdft.obj .hbmk\win\msvc\hbvpsup.obj .hbmk\win\msvc\hprinter.obj .hbmk\win\msvc\login.obj .hbmk\win\msvc\menu0.obj .hbmk\win\msvc\menu11.obj .hbmk\win\msvc\menu12.obj .hbmk\win\msvc\menu13.obj .hbmk\win\msvc\menu14.obj .hbmk\win\msvc\menu15.obj .hbmk\win\msvc\menu16.obj .hbmk\win\msvc\menu171.obj .hbmk\win\msvc\menu172.obj .hbmk\win\msvc\menu173.obj .hbmk\win\msvc\menu174.obj .hbmk\win\msvc\menu175.obj .hbmk\win\msvc\menu176.obj .hbmk\win\msvc\menu177.obj .hbmk\win\msvc\menu178.obj .hbmk\win\msvc\menu179.obj .hbmk\win\msvc\menu181.obj .hbmk\win\msvc
> \menu182.obj .hbmk\win\msvc\menu183.obj .hbmk\win\msvc\menu184.obj .hbmk\win\msvc\menu185.obj .hbmk\win\msvc\menu187.obj .hbmk\win\msvc\menu188.obj .hbmk\win\msvc\menu189.obj .hbmk\win\msvc\menu18a.obj .hbmk\win\msvc\menu18b.obj .hbmk\win\msvc\menu191.obj .hbmk\win\msvc\menu192.obj .hbmk\win\msvc\menu193.obj .hbmk\win\
> msvc\menu194.obj .hbmk\win\msvc\menu21.obj .hbmk\win\msvc\menu221.obj .hbmk\win\msvc\menu222.obj .hbmk\win\msvc\menu223.obj .hbmk\win\msvc\menu224.obj .hbmk\win\msvc\menu225.obj .hbmk\win\msvc\menu226.obj .hbmk\win\msvc\menu227.obj .hbmk\win\msvc\menu2312.obj .hbmk\win\msvc\menu2322.obj .hbmk\win\msvc\menu2332.obj .hbm
> k\win\msvc\menu2333.obj .hbmk\win\msvc\menu2334.obj .hbmk\win\msvc\menu234.obj .hbmk\win\msvc\menu241.obj .hbmk\win\msvc\menu242.obj .hbmk\win\msvc\menu243.obj.hbmk\win\msvc\menu244.obj .hbmk\win\msvc\menu245.obj .hbmk\win\msvc\menu246.obj .hbmk\win\msvc\menu311.obj .hbmk\win\msvc\menu312.obj .hbmk\win\msvc\menu313.ob
> j .hbmk\win\msvc\menu314.obj .hbmk\win\msvc\menu315.obj .hbmk\win\msvc\menu3171.obj .hbmk\win\msvc\menu3172.obj .hbmk\win\msvc\menu3174.obj .hbmk\win\msvc\menu3181.obj .hbmk\win\msvc\menu3182.obj .hbmk\win\msvc\menu3183.obj .hbmk\win\msvc\menu3185.obj .hbmk\win\msvc\menu3193.obj .hbmk\win\msvc\menu3197.obj .hbmk\win\ms
> vc\menu3198.obj .hbmk\win\msvc\menu3199.obj .hbmk\win\msvc\menu3211.obj .hbmk\win\msvc\menu3213.obj .hbmk\win\msvc\menu3214.obj .hbmk\win\msvc\menu3215.obj .hbmk\win\msvc\menu3221.obj .hbmk\win\msvc\menu3222.obj .hbmk\win\msvc\menu3231.obj.hbmk\win\msvc\menu3311.obj .hbmk\win\msvc\menu3321.obj .hbmk\win\msvc\menu3332.
> obj .hbmk\win\msvc\menu3334.obj .hbmk\win\msvc\menu41.obj .hbmk\win\msvc\menu421.obj .hbmk\win\msvc\menu422.obj .hbmk\win\msvc\menu423.obj .hbmk\win\msvc\menu424.obj .hbmk\win\msvc\menu442.obj .hbmk\win\msvc\menu443.obj .hbmk\win\msvc\menu444.obj .hbmk\win\msvc\menu445.obj .hbmk\win\msvc\menu45.obj .hbmk\win\msvc\menuc
> adpadrao.obj .hbmk\win\msvc\menulanpadrao.obj .hbmk\win\msvc\menu_f.obj .hbmk\win\msvc\parametros.obj .hbmk\win\msvc\printdos.obj .hbmk\win\msvc\rede.obj .hbmk\win\msvc\sockets.obj .hbmk\win\msvc\translator.obj .hbmk\win\msvc\_hbmkaut.obj -libpath:E:\harbour_vc\lib\win\msvc -libpath:lib -libpath:\hwguivc\lib  -subsystem:windows hwgui.lib procmisc.lib hbct.lib hbtip.lib hbwin.lib xhb.lib hbhpdf.lib libhpdf.lib libpng.lib hbmysql.lib libmysql.lib hbmemio.lib hbextern.lib hbdebug.lib hbvmmt.lib hbrtl.lib hblang.lib hbcpage.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib hbrdd.lib hbuddall.lib hbusrrdd.lib rddntx.lib rddcdx.lib rddnsx.lib rddfpt.lib hbrdd.lib hbhsx.lib hbsix.lib hbmacro.lib hbcplr.lib hbpp.lib hbcommon.lib kernel32.lib user32.lib gdi32.lib advapi32.lib ws2_32.lib winspool.lib comctl32.lib comdlg32.lib shell32.lib uuid.lib ole32.lib oleaut32.lib mpr.lib winmm.lib mapi32.lib imm32.lib msimg32.lib wininet.lib
 hbpcre.libhbzlib.lib  .hbmk\win\msvc\fjfrigo.res
> 
> Best Regards,
> Fernando
> 
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 - Celebridades - M?sica -Esportes_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091218/dfa2079c/attachment-0001.html
From myorg63 at mail.ru  Fri Dec 18 10:53:12 2009
From: myorg63 at mail.ru (Petr Chornyj)
Date: Fri Dec 18 10:53:21 2009
Subject: [Harbour] CallDll GPF
Message-ID: <26845433.post@talk.nabble.com>


Hi All

hbwin\tests\testdll.prg
------------------------------------------------------------------------
Application Internal Error - testdll.exe
Terminated at: 2009.12.18 17:37:05
Unrecoverable error 6005: Exception error: 

    Exception Code:C0000005
    Exception Address:00000000
    EAX:00000002  EBX:00000000  ECX:00000000  EDX:00A513CC
    ESI:00000000  EDI:0022FB10  EBP:00000000
    CS:EIP:001B:00000000  SS:ESP:0023:0022FB0C
    DS:0023  ES:0023  FS:003B  GS:0000
    Flags:00010202
    CS:EIP:
    SS:ESP: 00401C75 00000007 FFFFFFFF 7FFD5000 7C901000 00000000 00010000
7E365008 0022FBFA 7E363900 000001DA 00000004 7C917ED3 0022FBFA 00000003
7E360000

    C stack:
    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...

Modules:
0x00400000 0x000F5000 E:\harbour-mingw\bin\testdll.exe
0x7C900000 0x000B0000 C:\WINDOWS\system32\ntdll.dll
0x7C800000 0x000F8000 C:\WINDOWS\system32\kernel32.dll
0x77C00000 0x00058000 C:\WINDOWS\system32\msvcrt.dll
0x7E360000 0x00091000 C:\WINDOWS\system32\USER32.dll
0x77F10000 0x00049000 C:\WINDOWS\system32\GDI32.dll
0x76360000 0x0001D000 C:\WINDOWS\system32\IMM32.DLL
0x77DC0000 0x000AC000 C:\WINDOWS\system32\ADVAPI32.dll
0x77E70000 0x00092000 C:\WINDOWS\system32\RPCRT4.dll
0x77FE0000 0x00011000 C:\WINDOWS\system32\Secur32.dll

Called from DLLCALL(0)
Called from MAIN(70) in testdll.prg
------------------------------------------------------------------------

I tested with Harbor 2.0.0rc1 (Rev. 13297) + MinGW 4.4.1.
On the other hand with VS2009 and OW 1.8 everything works fine.

Regards,
Petr
-- 
View this message in context: http://old.nabble.com/CallDll-GPF-tp26845433p26845433.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From toninhofwi at yahoo.com.br  Fri Dec 18 11:15:46 2009
From: toninhofwi at yahoo.com.br (Antonio Carlos)
Date: Fri Dec 18 11:15:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13295] trunk/harbour
In-Reply-To: <E1NLbFU-0000Dg-2d@74yxhf1.ch3.sourceforge.com>
Message-ID: <352764.53139.qm@web33705.mail.mud.yahoo.com>

Hi Viktor.

Now is working fine.

Thank you.


Toninho.


--- Em sex, 18/12/09, vszakats@users.sourceforge.net <vszakats@users.sourceforge.net> escreveu:

> De: vszakats@users.sourceforge.net <vszakats@users.sourceforge.net>
> Assunto: [Harbour] SF.net SVN: harbour-project:[13295] trunk/harbour
> Para: harbour@harbour-project.org
> Data: Sexta-feira, 18 de Dezembro de 2009, 9:43
> Revision: 13295
> ? ? ? ? ? http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13295&view=rev
> Author:???vszakats
> Date:? ???2009-12-18 11:43:54 +0000
> (Fri, 18 Dec 2009)
> 
> Log Message:
> -----------
> 2009-12-18 12:43 UTC+0200 Viktor Szakats (harbour.01
> syenar.hu)
> ? * contrib/hbwin/mapi.c
> ? ? ! Fixed typo in r13235 patch. This could have
> caused memory 
> ? ? ? corruption and MAPI errors.
> ? ? ; Please retest.
> 
> Modified Paths:
> --------------
> ? ? trunk/harbour/ChangeLog
> ? ? trunk/harbour/contrib/hbwin/mapi.c
> 
> 
> This was sent by the SourceForge.net collaborative
> development platform, the world's largest Open Source
> development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 


      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
From harbour.01 at syenar.hu  Fri Dec 18 11:25:09 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Dec 18 11:25:20 2009
Subject: Res: [Harbour] hbmk2 + msvc
In-Reply-To: <185705.20173.qm@web52204.mail.re2.yahoo.com>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>
	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>
	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
	<26832160.post@talk.nabble.com>
	<A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>
	<609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>
	<7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>
	<000901ca7fb2$17b90c70$472b2550$@Bisz@t-online.hu>
	<370537.31472.qm@web52205.mail.re2.yahoo.com>
	<E3C51AE0-D45C-4689-8A8C-36B76D7A0E84@syenar.hu>
	<185705.20173.qm@web52204.mail.re2.yahoo.com>
Message-ID: <A6E46C65-9958-41B8-A3DF-178DDBB6669A@syenar.hu>

> with bcc, not happens this, not invoce ex: ilink32

All compilers are treated exactly the same way by hbmk2.
The only difference you can see is how they interpret 
this sort of error.

Brgds,
Viktor

From marcosgambeta at uol.com.br  Fri Dec 18 11:26:25 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Fri Dec 18 11:26:40 2009
Subject: [Harbour] Window Main X Window Modal X HBQT
In-Reply-To: <26842663.post@talk.nabble.com>
References: <26818868.post@talk.nabble.com> <4B2A75C8.8060602@uol.com.br>
	<26842663.post@talk.nabble.com>
Message-ID: <4B2BAD31.6090109@uol.com.br>

PCToledo escreveu:
> But it has as define the size of the fields and the position of labels and
> fields?

Remove the widget QFormLayout and use <widget>:move(x,y). To define the 
length, use the method <widget>:setMaxLength(nLength).

See sample below:

[code]
STATIC FUNCTION PassWord()
Local oDialog
Local oLabelMessage
Local oLabelUser
Local oLineEditUser
Local oLabelPassword
Local oLineEditPassword
Local oButtonOk
Local r

    oDialog := QDialog():New()
    oDialog:setWindowTitle("Login")
    oDialog:resize(210,130)

    oLabelMessage := QLabel():New( QT_PTROF(oDialog) )
    oLabelMessage:setText("Enter your password...")
    oLabelMessage:move(10,10)

    oLabelUser := QLabel():New( QT_PTROF(oDialog) )
    oLabelUser:setText("User")
    oLabelUser:move(10,30)

    oLineEditUser := QLineEdit():New( QT_PTROF(oDialog) )
    oLineEditUser:setMaxLength(15)
    oLineEditUser:move(60,30)

    oLabelPassword := QLabel():New( QT_PTROF(oDialog) )
    oLabelPassword:setText("Password")
    oLabelPassword:move(10,60)

    oLineEditPassWord := QLineEdit():New( QT_PTROF(oDialog) )
    oLineEditPassWord:setEchoMode(2)
    oLineEditPassWord:setMaxLength(15)
    oLineEditPassword:move(60,60)

    oButtonOk := QPushButton():New(QT_PTROF( oDialog ))
    oButtonOk:setText("OK")
    oButtonOk:move(100,90)
    Qt_Connect_Signal( QT_PTROF(oButtonOk), "clicked()", 
{||IIF(oLineEditUser:text()=="user".and.oLineEditPassword:text()=="password",oDialog:done(1),oDialog:done(0)) 
})

    r := oDialog:exec()

Return IIF(r==1,.t.,.f.)
[/code]


-- 
Regards,
Marcos Antonio Gambeta
From druzus at acn.waw.pl  Fri Dec 18 11:37:18 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Dec 18 11:37:26 2009
Subject: Res: [Harbour] hbmk2 + msvc
In-Reply-To: <626597.45005.qm@web52207.mail.re2.yahoo.com>
References: <609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>
	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
	<26832160.post@talk.nabble.com>
	<A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>
	<609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>
	<7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>
	<000901ca7fb2$17b90c70$472b2550$@Bisz@t-online.hu>
	<370537.31472.qm@web52205.mail.re2.yahoo.com>
	<E3C51AE0-D45C-4689-8A8C-36B76D7A0E84@syenar.hu>
	<626597.45005.qm@web52207.mail.re2.yahoo.com>
Message-ID: <20091218163718.GA25350@linux-4bod.home.aster.pl>

On Fri, 18 Dec 2009, Fernando Athayde wrote:

Hi,

> i didn?t was specified
> ex: bcc, it shows error in the end, take a look above, is better to see if happens any error

Don't you see that in both cases it's _EXACTLY_ the same behavior
and only the length of executed command is different?
If some command fails then hbmk2 shows the full command line:
For BCC this command is:
   ilink32.exe @C:\Users\athayde\AppData\Local\Temp\bt3rrj.lnk
For MSVC it's:
   link.exe -nologo -out:fjfrigo.exe .hbmk\win\msvc\busca.obj .hbmk\win\msvc\database.obj .hbmk\win\msvc\errorsys.obj .hbmk\win\msvc\fj_printsetup.obj .hbmk\win\msvc\funcoes.obj .hbmk\win\msvc\hbrowse.obj .hbmk\win\msvc\hbvpdf.obj .hbmk\win\msvc\hbvpdft.obj .hbmk\win\msvc\hbvpsup.obj .hbmk\win\msvc\hprinter.obj .hbmk\win\msvc\login.obj .hbmk\win\msvc\menu0.obj .hbmk\win\msvc\menu11.obj .hbmk\win\msvc\menu12.obj .hbmk\win\msvc\menu13.obj .hbmk\win\msvc\menu14.obj .hbmk\win\msvc\menu15.obj .hbmk\win\msvc\menu16.obj .hbmk\win\msvc\menu171.obj .hbmk\win\msvc\menu172.obj .hbmk\win\msvc\menu173.obj .hbmk\win\msvc\menu174.obj .hbmk\win\msvc\menu175.obj .hbmk\win\msvc\menu176.obj .hbmk\win\msvc\menu177.obj .hbmk\win\msvc\menu178.obj .hbmk\win\msvc\menu179.obj .hbmk\win\msvc\menu181.obj .hbmk\win\msvc
   \menu182.obj .hbmk\win\msvc\menu183.obj .hbmk\win\msvc\menu184.obj .hbmk\win\msvc\menu185.obj .hbmk\win\msvc\menu187.obj .hbmk\win\msvc\menu188.obj .hbmk\win\msvc\menu189.obj .hbmk\win\msvc\menu18a.obj .hbmk\win\msvc\menu18b.obj .hbmk\win\msvc\menu191.obj .hbmk\win\msvc\menu192.obj .hbmk\win\msvc\menu193.obj .hbmk\win\
   msvc\menu194.obj .hbmk\win\msvc\menu21.obj .hbmk\win\msvc\menu221.obj .hbmk\win\msvc\menu222.obj .hbmk\win\msvc\menu223.obj .hbmk\win\msvc\menu224.obj .hbmk\win\msvc\menu225.obj .hbmk\win\msvc\menu226.obj .hbmk\win\msvc\menu227.obj .hbmk\win\msvc\menu2312.obj .hbmk\win\msvc\menu2322.obj .hbmk\win\msvc\menu2332.obj .hbm
   k\win\msvc\menu2333.obj .hbmk\win\msvc\menu2334.obj .hbmk\win\msvc\menu234.obj .hbmk\win\msvc\menu241.obj .hbmk\win\msvc\menu242.obj .hbmk\win\msvc\menu243.obj.hbmk\win\msvc\menu244.obj .hbmk\win\msvc\menu245.obj .hbmk\win\msvc\menu246.obj .hbmk\win\msvc\menu311.obj .hbmk\win\msvc\menu312.obj .hbmk\win\msvc\menu313.ob
   [...]

If you do not want to see the full command line for commands which failed
then use -quiet hbmk2 option.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Dec 18 11:50:47 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Dec 18 11:51:02 2009
Subject: Res: [Harbour] hbmk2 + msvc
In-Reply-To: <626597.45005.qm@web52207.mail.re2.yahoo.com>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>
	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>
	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
	<26832160.post@talk.nabble.com>
	<A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>
	<609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>
	<7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>
	<000901ca7fb2$17b90c70$472b2550$@Bisz@t-online.hu>
	<370537.31472.qm@web52205.mail.re2.yahoo.com>
	<E3C51AE0-D45C-4689-8A8C-36B76D7A0E84@syenar.hu>
	<626597.45005.qm@web52207.mail.re2.yahoo.com>
Message-ID: <DF19B2E9-9E73-4710-8AB2-FC71062B66C8@syenar.hu>

There is nothing unusual here, in case of error, only the 
command line is printed after having been called, not the 
content of any script files which was used. In case of bcc, 
this results in a one liner, since most options are inside 
the script, while with msvc, everything is on command-line.

Brgds,
Viktor

On 2009 Dec 18, at 16:29, Fernando Athayde wrote:

> i didn?t was specified
> ex: bcc, it shows error in the end, take a look above, is better to see if happens any error
> 
> hbmk2: Linkando... fjfrigo.exe
> hbmk2: Comando do Linkeditor:
> ilink32.exe @C:\Users\athayde\AppData\Local\Temp\bt3rrj.lnk
> hbmk2: Script do linkeditor:
> -Gn -Tpe -L\harbour\bcc55\Lib;\harbour\bcc55\Lib\PSDK;e:\harbour\lib\win\bcc;lib;\hwguihb\lib  -aa c0w32.obj .hbmk\win\bcc\busca.obj .hbmk\win\bcc\database.obj.hbmk\win\bcc\fj_printsetup.obj .hbmk\win\bcc\funcoes.obj .hbmk\win\bcc\hbrowse.obj .hbmk\win\bcc\hbvpdf.obj .hbmk\win\bcc\hbvpdft.obj .hbmk\win\bcc\hbvpsup.obj .hbmk\win\bcc\hprinter.obj .hbmk\win\bcc\login.obj .hbmk\win\bcc\menu0.obj .hbmk\win\bcc\menu11.obj .hbmk\win\bcc\menu12.obj .hbmk\win\bcc\menu13.obj .hbmk\win\bcc\menu14.obj .hbmk\win\bcc\menu15.obj .hbmk\win\bcc\menu16.obj .hbmk\win\bcc\menu171.obj .hbmk\win\bcc\menu172.obj .hbmk\win\bcc\menu173.obj .hbmk\win\bcc\menu174.obj .hbmk\win\bcc\menu175.obj .hbmk\win\bcc\menu176.obj .hbmk\win\bcc\menu177.obj .hbmk\win\bcc\menu178.obj .hbmk\win\bcc\menu179.obj .hbmk\win\bcc\menu181.obj .hbmk\win\bcc\menu182.obj .hbmk\win\bcc\menu183.obj .hbmk\win\bcc\menu185.obj .hbmk\win\bcc\menu187.obj .hbmk\win\bcc\menu188.obj .hbmk\win\bcc\menu189.obj .hbmk\win\bcc\menu18a.obj .hbmk\win\bcc\menu18b.obj .hbmk\win\bcc\menu191.obj.hbmk\win\bcc\menu192.obj .hbmk\win\bcc\menu193.obj .hbmk\win\bcc\menu194.obj .hbmk\win\bcc\menu21.obj .hbmk\win\bcc\menu221.obj .hbmk\win\bcc\menu222.obj .hbmk\win\bcc\menu223.obj .hbmk\win\bcc\menu224.obj .hbmk\win\bcc\menu225.obj .hbmk\win\bcc\menu226.obj .hbmk\win\bcc\menu227.obj .hbmk\win\bcc\menu2312.obj .hbmk\win\bcc\menu2322.obj .hbmk\win\bcc\menu2332.obj .hbmk\win\bcc\menu2333.obj .hbmk\win\bcc\menu2334.obj .hbmk\win\bcc\menu234.obj .hbmk\win\bcc\menu241.obj .hbmk\win\bcc\menu242.obj .hbmk\win\bcc\menu243.obj .hbmk\win\bcc\menu244.obj .hbmk\win\bcc\menu245.obj .hbmk\win\bcc\menu246.obj .hbmk\win\bcc\menu311.obj .hbmk\win\bcc\menu312.obj .hbmk\win\bcc\menu313.obj .hbmk\win\bcc\menu314.obj .hbmk\win\bcc\menu315.obj .hbmk\win\bcc\menu3171.obj .hbmk\win\bcc\menu3172.obj .hbmk\win\bcc\menu3174.obj .hbmk\win\bcc\menu3181.obj .hbmk\win\bcc\menu3182.obj .hbmk\win\bcc\menu3183.obj .hbmk\win\bcc\menu3185.obj .hbmk\win\bcc\menu3193.obj .hbmk\win\bcc\menu3197.obj .hbmk\win\bcc\menu3198.obj .hbmk\win\bcc\menu3199.obj .hbmk\win\bcc\menu3211.obj .hbmk\win\bcc\menu3213.obj .hbmk\win\bcc\menu3214.obj .hbmk\win\bcc\menu3215.obj .hbmk\win\bcc\menu3221.obj .hbmk\win\bcc\menu3222.obj .hbmk\win\bcc\menu3231.obj .hbmk\win\bcc\menu3311.obj .hbmk\win\bcc\menu3321.obj .hbmk\win\bcc\menu3332.obj .hbmk\win\bcc\menu3334.obj .hbmk\win\bcc\menu41.obj .hbmk\win\bcc\menu421.obj .hbmk\win\bcc\menu422.obj .hbmk\win\bcc\menu423.obj .hbmk\win\bcc\menu424.obj .hbmk\win\bcc\menu442.obj .hbmk\win\bcc\menu443.obj .hbmk\win\bcc\menu444.obj .hbmk\win\bcc\menu445.obj .hbmk\win\bcc\menu45.obj .hbmk\win\bcc\menucadpadrao.obj .hbmk\win\bcc\menulanpadrao.obj .hbmk\win\bcc\menu_f.obj .hbmk\win\bcc\parametros.obj .hbmk\win\bcc\printdos.obj .hbmk\win\bcc\rede.obj .hbmk\win\bcc\sockets.obj .hbmk\win\bcc\translator.obj .hbmk\win\bcc\_hbmkaut.obj, fjfrigo.exe, nul, hwguimt.lib procmisc.lib hbct.lib hbtip.lib hbwin.lib xhb.lib hbhpdf.lib libhpdf.lib libpng.lib hbmysql.lib libmysql.lib hbmemio.lib hbextern.lib hbdebug.lib hbvmmt.lib hbrtl.lib hblang.lib hbcpage.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib hbrdd.lib hbuddall.lib hbusrrdd.lib rddntx.lib rddcdx.lib rddnsx.lib rddfpt.lib hbrdd.lib hbhsx.lib hbsix.lib hbmacro.lib hbcplr.lib hbpp.lib hbcommon.lib kernel32.lib user32.lib gdi32.lib advapi32.lib ws2_32.lib winspool.lib comctl32.lib comdlg32.lib shell32.lib uuid.lib ole32.lib oleaut32.lib mpr.lib winmm.lib mapi32.lib imm32.lib msimg32.lib wininet.lib hbpcre.lib hbzlib.lib  cw32mt.lib import32.lib,, .hbmk\win\bcc\fjfrigo.res
> Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
> Fatal: Could not open fjfrigo.exe (program still running?)
> hbmk2: Erro: Executando linkeditor. 2
> ilink32.exe @C:\Users\athayde\AppData\Local\Temp\bt3rrj.lnk
> 
> Best Regards
> Fernando
> 
> De: Viktor Szak?ts <harbour.01@syenar.hu>
> Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Enviadas: Sexta-feira, 18 de Dezembro de 2009 11:06:44
> Assunto: Re: [Harbour] hbmk2 + msvc
> 
> > if the file exe is already opened, 
> > you forgot and try compile,
> > hbmk2 invoque link, it should stop after error, isn?t it?
> 
> That's exactly what it did.
> 
> Brgds,
> Viktor
> 
> > 
> > LINK : fatal error LNK1104: cannot open file 'fjfrigo.exe'
> > hbmk2: Erro: Executando linkeditor. 1104
> > link.exe -nologo -out:fjfrigo.exe .hbmk\win\msvc\busca.obj .hbmk\win\msvc\database.obj .hbmk\win\msvc\errorsys.obj .hbmk\win\msvc\fj_printsetup.obj .hbmk\win\msvc\funcoes.obj .hbmk\win\msvc\hbrowse.obj .hbmk\win\msvc\hbvpdf.obj .hbmk\win\msvc\hbvpdft.obj .hbmk\win\msvc\hbvpsup.obj .hbmk\win\msvc\hprinter.obj .hbmk\win\msvc\login.obj .hbmk\win\msvc\menu0.obj .hbmk\win\msvc\menu11.obj .hbmk\win\msvc\menu12.obj .hbmk\win\msvc\menu13.obj .hbmk\win\msvc\menu14.obj .hbmk\win\msvc\menu15.obj .hbmk\win\msvc\menu16.obj .hbmk\win\msvc\menu171.obj .hbmk\win\msvc\menu172.obj .hbmk\win\msvc\menu173.obj .hbmk\win\msvc\menu174.obj .hbmk\win\msvc\menu175.obj .hbmk\win\msvc\menu176.obj .hbmk\win\msvc\menu177.obj .hbmk\win\msvc\menu178.obj .hbmk\win\msvc\menu179.obj .hbmk\win\msvc\menu181.obj .hbmk\win\msvc
> > \menu182.obj .hbmk\win\msvc\menu183.obj .hbmk\win\msvc\menu184.obj .hbmk\win\msvc\menu185.obj .hbmk\win\msvc\menu187.obj .hbmk\win\msvc\menu188.obj .hbmk\win\msvc\menu189.obj .hbmk\win\msvc\menu18a.obj .hbmk\win\msvc\menu18b.obj .hbmk\win\msvc\menu191.obj .hbmk\win\msvc\menu192.obj .hbmk\win\msvc\menu193.obj .hbmk\win\
> > msvc\menu194.obj .hbmk\win\msvc\menu21.obj .hbmk\win\msvc\menu221.obj .hbmk\win\msvc\menu222.obj .hbmk\win\msvc\menu223.obj .hbmk\win\msvc\menu224.obj .hbmk\win\msvc\menu225.obj .hbmk\win\msvc\menu226.obj .hbmk\win\msvc\menu227.obj .hbmk\win\msvc\menu2312.obj .hbmk\win\msvc\menu2322.obj .hbmk\win\msvc\menu2332.obj .hbm
> > k\win\msvc\menu2333.obj .hbmk\win\msvc\menu2334.obj .hbmk\win\msvc\menu234.obj .hbmk\win\msvc\menu241.obj .hbmk\win\msvc\menu242.obj .hbmk\win\msvc\menu243.obj.hbmk\win\msvc\menu244.obj .hbmk\win\msvc\menu245.obj .hbmk\win\msvc\menu246.obj .hbmk\win\msvc\menu311.obj .hbmk\win\msvc\menu312.obj .hbmk\win\msvc\menu313.ob
> > j .hbmk\win\msvc\menu314.obj .hbmk\win\msvc\menu315.obj .hbmk\win\msvc\menu3171.obj .hbmk\win\msvc\menu3172.obj .hbmk\win\msvc\menu3174.obj .hbmk\win\msvc\menu3181.obj .hbmk\win\msvc\menu3182.obj .hbmk\win\msvc\menu3183.obj .hbmk\win\msvc\menu3185.obj .hbmk\win\msvc\menu3193.obj .hbmk\win\msvc\menu3197.obj .hbmk\win\ms
> > vc\menu3198.obj .hbmk\win\msvc\menu3199.obj .hbmk\win\msvc\menu3211.obj .hbmk\win\msvc\menu3213.obj .hbmk\win\msvc\menu3214.obj .hbmk\win\msvc\menu3215.obj .hbmk\win\msvc\menu3221.obj .hbmk\win\msvc\menu3222.obj .hbmk\win\msvc\menu3231.obj.hbmk\win\msvc\menu3311.obj .hbmk\win\msvc\menu3321.obj .hbmk\win\msvc\menu3332.
> > obj .hbmk\win\msvc\menu3334.obj .hbmk\win\msvc\menu41.obj .hbmk\win\msvc\menu421.obj .hbmk\win\msvc\menu422.obj .hbmk\win\msvc\menu423.obj .hbmk\win\msvc\menu424.obj .hbmk\win\msvc\menu442.obj .hbmk\win\msvc\menu443.obj .hbmk\win\msvc\menu444.obj .hbmk\win\msvc\menu445.obj .hbmk\win\msvc\menu45.obj .hbmk\win\msvc\menuc
> > adpadrao.obj .hbmk\win\msvc\menulanpadrao.obj .hbmk\win\msvc\menu_f.obj .hbmk\win\msvc\parametros.obj .hbmk\win\msvc\printdos.obj .hbmk\win\msvc\rede.obj .hbmk\win\msvc\sockets.obj .hbmk\win\msvc\translator.obj .hbmk\win\msvc\_hbmkaut.obj -libpath:E:\harbour_vc\lib\win\msvc -libpath:lib -libpath:\hwguivc\lib  -subsystem:windows hwgui.lib procmisc.lib hbct.lib hbtip.lib hbwin.lib xhb.lib hbhpdf.lib libhpdf.lib libpng.lib hbmysql.lib libmysql.lib hbmemio.lib hbextern.lib hbdebug.lib hbvmmt.lib hbrtl.lib hblang.lib hbcpage.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib hbrdd.lib hbuddall.lib hbusrrdd.lib rddntx.lib rddcdx.lib rddnsx.lib rddfpt.lib hbrdd.lib hbhsx.lib hbsix.lib hbmacro.lib hbcplr.lib hbpp.lib hbcommon.lib kernel32.lib user32.lib gdi32.lib advapi32.lib ws2_32.lib winspool.lib comctl32.lib comdlg32.lib shell32.lib uuid.lib ole32.lib oleaut32.lib mpr.lib winmm.lib mapi32.lib imm32.lib msimg32.lib wininet.lib hbpcre.libhbzlib.lib  .hbmk\win\msvc\fjfrigo.res
> > 
> > Best Regards,
> > Fernando
> > 
> > Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 - Celebridades - M?sica -Esportes_______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 - Celebridades - M?sica -Esportes_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Fri Dec 18 12:54:59 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Dec 18 12:55:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13300] trunk/harbour
Message-ID: <E1NLh2Z-0008Bc-KM@d5vjzd1.ch3.sourceforge.com>

Revision: 13300
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13300&view=rev
Author:   vszakats
Date:     2009-12-18 17:54:58 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-18 18:53 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * doc/whatsnew.txt
    + Added text documenting whatsnew missing parts.

  * utils/hbmk2/hbmk2.prg
    ! Potential fix to external commands when using script and called 
      in a loop.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/whatsnew.txt
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fernando_athayde at yahoo.com.br  Fri Dec 18 12:57:08 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Fri Dec 18 12:57:15 2009
Subject: Res: Res: [Harbour] hbmk2 + msvc
In-Reply-To: <A6E46C65-9958-41B8-A3DF-178DDBB6669A@syenar.hu>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>
	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>
	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
	<26832160.post@talk.nabble.com>
	<A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>
	<609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>
	<7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>
	<000901ca7fb2$17b90c70$472b2550$@Bisz@t-online.hu>
	<370537.31472.qm@web52205.mail.re2.yahoo.com>
	<E3C51AE0-D45C-4689-8A8C-36B76D7A0E84@syenar.hu>
	<185705.20173.qm@web52204.mail.re2.yahoo.com>
	<A6E46C65-9958-41B8-A3DF-178DDBB6669A@syenar.hu>
Message-ID: <512790.24760.qm@web52206.mail.re2.yahoo.com>

ok, thanks a lot

Best Regards,
Fernando




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Sexta-feira, 18 de Dezembro de 2009 13:25:09
Assunto: Re: Res: [Harbour] hbmk2 + msvc

> with bcc, not happens this, not invoce ex: ilink32

All compilers are treated exactly the same way by hbmk2.
The only difference you can see is how they interpret 
this sort of error.

Brgds,
Viktor

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091218/8edd352b/attachment.html
From pct_hbqt at hotmail.com  Fri Dec 18 13:22:59 2009
From: pct_hbqt at hotmail.com (PCToledo)
Date: Fri Dec 18 13:23:05 2009
Subject: [Harbour] Window Main X Window Modal X HBQT
In-Reply-To: <4B2BAD31.6090109@uol.com.br>
References: <26818868.post@talk.nabble.com> <4B2A75C8.8060602@uol.com.br>
	<26842663.post@talk.nabble.com> <4B2BAD31.6090109@uol.com.br>
Message-ID: <26847599.post@talk.nabble.com>


Marcos, compiled his example with MSVC and MinGW, but show only the fields,
the labels not.

Regards,
Toledo


Marcos Gambeta wrote:
> 
> PCToledo escreveu:
>> But it has as define the size of the fields and the position of labels
>> and
>> fields?
> 
> Remove the widget QFormLayout and use <widget>:move(x,y). To define the 
> length, use the method <widget>:setMaxLength(nLength).
> 
> See sample below:
> 
> [code]
> STATIC FUNCTION PassWord()
> Local oDialog
> Local oLabelMessage
> Local oLabelUser
> Local oLineEditUser
> Local oLabelPassword
> Local oLineEditPassword
> Local oButtonOk
> Local r
> 
>     oDialog := QDialog():New()
>     oDialog:setWindowTitle("Login")
>     oDialog:resize(210,130)
> 
>     oLabelMessage := QLabel():New( QT_PTROF(oDialog) )
>     oLabelMessage:setText("Enter your password...")
>     oLabelMessage:move(10,10)
> 
>     oLabelUser := QLabel():New( QT_PTROF(oDialog) )
>     oLabelUser:setText("User")
>     oLabelUser:move(10,30)
> 
>     oLineEditUser := QLineEdit():New( QT_PTROF(oDialog) )
>     oLineEditUser:setMaxLength(15)
>     oLineEditUser:move(60,30)
> 
>     oLabelPassword := QLabel():New( QT_PTROF(oDialog) )
>     oLabelPassword:setText("Password")
>     oLabelPassword:move(10,60)
> 
>     oLineEditPassWord := QLineEdit():New( QT_PTROF(oDialog) )
>     oLineEditPassWord:setEchoMode(2)
>     oLineEditPassWord:setMaxLength(15)
>     oLineEditPassword:move(60,60)
> 
>     oButtonOk := QPushButton():New(QT_PTROF( oDialog ))
>     oButtonOk:setText("OK")
>     oButtonOk:move(100,90)
>     Qt_Connect_Signal( QT_PTROF(oButtonOk), "clicked()", 
> {||IIF(oLineEditUser:text()=="user".and.oLineEditPassword:text()=="password",oDialog:done(1),oDialog:done(0)) 
> })
> 
>     r := oDialog:exec()
> 
> Return IIF(r==1,.t.,.f.)
> [/code]
> 
> 
> -- 
> Regards,
> Marcos Antonio Gambeta
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 


-----
Toledo
http://www.pctoledo.com.br/forum http://www.pctoledo.com.br/forum 
-- 
View this message in context: http://old.nabble.com/Window-Main-X-Window-Modal-X-HBQT-tp26818868p26847599.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Dec 18 13:24:16 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Dec 18 13:24:42 2009
Subject: Res: [Harbour] hbmk2 + msvc
In-Reply-To: <DF19B2E9-9E73-4710-8AB2-FC71062B66C8@syenar.hu>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>
	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>
	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
	<26832160.post@talk.nabble.com>
	<A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>
	<609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>
	<7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>
	<000901ca7fb2$17b90c70$472b2550$@Bisz@t-online.hu>
	<370537.31472.qm@web52205.mail.re2.yahoo.com>
	<E3C51AE0-D45C-4689-8A8C-36B76D7A0E84@syenar.hu>
	<626597.45005.qm@web52207.mail.re2.yahoo.com>
	<DF19B2E9-9E73-4710-8AB2-FC71062B66C8@syenar.hu>
Message-ID: <8A919269-4EFA-4BFD-9518-C0A214C0C770@syenar.hu>

Forgot to suggest to try -quiet option which suppresses 
output of executed command in case of errors, you can see 
better the output of the command themselves.

Brgds,
Viktor

On 2009 Dec 18, at 17:50, Viktor Szak?ts wrote:

> There is nothing unusual here, in case of error, only the 
> command line is printed after having been called, not the 
> content of any script files which was used. In case of bcc, 
> this results in a one liner, since most options are inside 
> the script, while with msvc, everything is on command-line.
> 
> Brgds,
> Viktor
> 
> On 2009 Dec 18, at 16:29, Fernando Athayde wrote:
> 
>> i didn?t was specified
>> ex: bcc, it shows error in the end, take a look above, is better to see if happens any error
>> 
>> hbmk2: Linkando... fjfrigo.exe
>> hbmk2: Comando do Linkeditor:
>> ilink32.exe @C:\Users\athayde\AppData\Local\Temp\bt3rrj.lnk
>> hbmk2: Script do linkeditor:
>> -Gn -Tpe -L\harbour\bcc55\Lib;\harbour\bcc55\Lib\PSDK;e:\harbour\lib\win\bcc;lib;\hwguihb\lib  -aa c0w32.obj .hbmk\win\bcc\busca.obj .hbmk\win\bcc\database.obj.hbmk\win\bcc\fj_printsetup.obj .hbmk\win\bcc\funcoes.obj .hbmk\win\bcc\hbrowse.obj .hbmk\win\bcc\hbvpdf.obj .hbmk\win\bcc\hbvpdft.obj .hbmk\win\bcc\hbvpsup.obj .hbmk\win\bcc\hprinter.obj .hbmk\win\bcc\login.obj .hbmk\win\bcc\menu0.obj .hbmk\win\bcc\menu11.obj .hbmk\win\bcc\menu12.obj .hbmk\win\bcc\menu13.obj .hbmk\win\bcc\menu14.obj .hbmk\win\bcc\menu15.obj .hbmk\win\bcc\menu16.obj .hbmk\win\bcc\menu171.obj .hbmk\win\bcc\menu172.obj .hbmk\win\bcc\menu173.obj .hbmk\win\bcc\menu174.obj .hbmk\win\bcc\menu175.obj .hbmk\win\bcc\menu176.obj .hbmk\win\bcc\menu177.obj .hbmk\win\bcc\menu178.obj .hbmk\win\bcc\menu179.obj .hbmk\win\bcc\menu181.obj .hbmk\win\bcc\menu182.obj .hbmk\win\bcc\menu183.obj .hbmk\win\bcc\menu185.obj .hbmk\win\bcc\menu187.obj .hbmk\win\bcc\menu188.obj .hbmk\win\bcc\menu189.obj .hbmk\win\bcc\menu18a.obj .hbmk\win\bcc\menu18b.obj .hbmk\win\bcc\menu191.obj.hbmk\win\bcc\menu192.obj .hbmk\win\bcc\menu193.obj .hbmk\win\bcc\menu194.obj .hbmk\win\bcc\menu21.obj .hbmk\win\bcc\menu221.obj .hbmk\win\bcc\menu222.obj .hbmk\win\bcc\menu223.obj .hbmk\win\bcc\menu224.obj .hbmk\win\bcc\menu225.obj .hbmk\win\bcc\menu226.obj .hbmk\win\bcc\menu227.obj .hbmk\win\bcc\menu2312.obj .hbmk\win\bcc\menu2322.obj .hbmk\win\bcc\menu2332.obj .hbmk\win\bcc\menu2333.obj .hbmk\win\bcc\menu2334.obj .hbmk\win\bcc\menu234.obj .hbmk\win\bcc\menu241.obj .hbmk\win\bcc\menu242.obj .hbmk\win\bcc\menu243.obj .hbmk\win\bcc\menu244.obj .hbmk\win\bcc\menu245.obj .hbmk\win\bcc\menu246.obj .hbmk\win\bcc\menu311.obj .hbmk\win\bcc\menu312.obj .hbmk\win\bcc\menu313.obj .hbmk\win\bcc\menu314.obj .hbmk\win\bcc\menu315.obj .hbmk\win\bcc\menu3171.obj .hbmk\win\bcc\menu3172.obj .hbmk\win\bcc\menu3174.obj .hbmk\win\bcc\menu3181.obj .hbmk\win\bcc\menu3182.obj .hbmk\win\bcc\menu3183.obj .hbmk\win\bcc\menu3185.obj .hbmk\win\bcc\menu3193.obj .hbmk\win\bcc\menu3197.obj .hbmk\win\bcc\menu3198.obj .hbmk\win\bcc\menu3199.obj .hbmk\win\bcc\menu3211.obj .hbmk\win\bcc\menu3213.obj .hbmk\win\bcc\menu3214.obj .hbmk\win\bcc\menu3215.obj .hbmk\win\bcc\menu3221.obj .hbmk\win\bcc\menu3222.obj .hbmk\win\bcc\menu3231.obj .hbmk\win\bcc\menu3311.obj .hbmk\win\bcc\menu3321.obj .hbmk\win\bcc\menu3332.obj .hbmk\win\bcc\menu3334.obj .hbmk\win\bcc\menu41.obj .hbmk\win\bcc\menu421.obj .hbmk\win\bcc\menu422.obj .hbmk\win\bcc\menu423.obj .hbmk\win\bcc\menu424.obj .hbmk\win\bcc\menu442.obj .hbmk\win\bcc\menu443.obj .hbmk\win\bcc\menu444.obj .hbmk\win\bcc\menu445.obj .hbmk\win\bcc\menu45.obj .hbmk\win\bcc\menucadpadrao.obj .hbmk\win\bcc\menulanpadrao.obj .hbmk\win\bcc\menu_f.obj .hbmk\win\bcc\parametros.obj .hbmk\win\bcc\printdos.obj .hbmk\win\bcc\rede.obj .hbmk\win\bcc\sockets.obj .hbmk\win\bcc\translator.obj .hbmk\win\bcc\_hbmkaut.obj, fjfrigo.exe, nul, hwguimt.lib procmisc.lib hbct.lib hbtip.lib hbwin.lib xhb.lib hbhpdf.lib libhpdf.lib libpng.lib hbmysql.lib libmysql.lib hbmemio.lib hbextern.lib hbdebug.lib hbvmmt.lib hbrtl.lib hblang.lib hbcpage.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib hbrdd.lib hbuddall.lib hbusrrdd.lib rddntx.lib rddcdx.lib rddnsx.lib rddfpt.lib hbrdd.lib hbhsx.lib hbsix.lib hbmacro.lib hbcplr.lib hbpp.lib hbcommon.lib kernel32.lib user32.lib gdi32.lib advapi32.lib ws2_32.lib winspool.lib comctl32.lib comdlg32.lib shell32.lib uuid.lib ole32.lib oleaut32.lib mpr.lib winmm.lib mapi32.lib imm32.lib msimg32.lib wininet.lib hbpcre.lib hbzlib.lib  cw32mt.lib import32.lib,, .hbmk\win\bcc\fjfrigo.res
>> Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
>> Fatal: Could not open fjfrigo.exe (program still running?)
>> hbmk2: Erro: Executando linkeditor. 2
>> ilink32.exe @C:\Users\athayde\AppData\Local\Temp\bt3rrj.lnk
>> 
>> Best Regards
>> Fernando
>> 
>> De: Viktor Szak?ts <harbour.01@syenar.hu>
>> Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
>> Enviadas: Sexta-feira, 18 de Dezembro de 2009 11:06:44
>> Assunto: Re: [Harbour] hbmk2 + msvc
>> 
>>> if the file exe is already opened, 
>>> you forgot and try compile,
>>> hbmk2 invoque link, it should stop after error, isn?t it?
>> 
>> That's exactly what it did.
>> 
>> Brgds,
>> Viktor
>> 
>>> 
>>> LINK : fatal error LNK1104: cannot open file 'fjfrigo.exe'
>>> hbmk2: Erro: Executando linkeditor. 1104
>>> link.exe -nologo -out:fjfrigo.exe .hbmk\win\msvc\busca.obj .hbmk\win\msvc\database.obj .hbmk\win\msvc\errorsys.obj .hbmk\win\msvc\fj_printsetup.obj .hbmk\win\msvc\funcoes.obj .hbmk\win\msvc\hbrowse.obj .hbmk\win\msvc\hbvpdf.obj .hbmk\win\msvc\hbvpdft.obj .hbmk\win\msvc\hbvpsup.obj .hbmk\win\msvc\hprinter.obj .hbmk\win\msvc\login.obj .hbmk\win\msvc\menu0.obj .hbmk\win\msvc\menu11.obj .hbmk\win\msvc\menu12.obj .hbmk\win\msvc\menu13.obj .hbmk\win\msvc\menu14.obj .hbmk\win\msvc\menu15.obj .hbmk\win\msvc\menu16.obj .hbmk\win\msvc\menu171.obj .hbmk\win\msvc\menu172.obj .hbmk\win\msvc\menu173.obj .hbmk\win\msvc\menu174.obj .hbmk\win\msvc\menu175.obj .hbmk\win\msvc\menu176.obj .hbmk\win\msvc\menu177.obj .hbmk\win\msvc\menu178.obj .hbmk\win\msvc\menu179.obj .hbmk\win\msvc\menu181.obj .hbmk\win\msvc
>>> \menu182.obj .hbmk\win\msvc\menu183.obj .hbmk\win\msvc\menu184.obj .hbmk\win\msvc\menu185.obj .hbmk\win\msvc\menu187.obj .hbmk\win\msvc\menu188.obj .hbmk\win\msvc\menu189.obj .hbmk\win\msvc\menu18a.obj .hbmk\win\msvc\menu18b.obj .hbmk\win\msvc\menu191.obj .hbmk\win\msvc\menu192.obj .hbmk\win\msvc\menu193.obj .hbmk\win\
>>> msvc\menu194.obj .hbmk\win\msvc\menu21.obj .hbmk\win\msvc\menu221.obj .hbmk\win\msvc\menu222.obj .hbmk\win\msvc\menu223.obj .hbmk\win\msvc\menu224.obj .hbmk\win\msvc\menu225.obj .hbmk\win\msvc\menu226.obj .hbmk\win\msvc\menu227.obj .hbmk\win\msvc\menu2312.obj .hbmk\win\msvc\menu2322.obj .hbmk\win\msvc\menu2332.obj .hbm
>>> k\win\msvc\menu2333.obj .hbmk\win\msvc\menu2334.obj .hbmk\win\msvc\menu234.obj .hbmk\win\msvc\menu241.obj .hbmk\win\msvc\menu242.obj .hbmk\win\msvc\menu243.obj.hbmk\win\msvc\menu244.obj .hbmk\win\msvc\menu245.obj .hbmk\win\msvc\menu246.obj .hbmk\win\msvc\menu311.obj .hbmk\win\msvc\menu312.obj .hbmk\win\msvc\menu313.ob
>>> j .hbmk\win\msvc\menu314.obj .hbmk\win\msvc\menu315.obj .hbmk\win\msvc\menu3171.obj .hbmk\win\msvc\menu3172.obj .hbmk\win\msvc\menu3174.obj .hbmk\win\msvc\menu3181.obj .hbmk\win\msvc\menu3182.obj .hbmk\win\msvc\menu3183.obj .hbmk\win\msvc\menu3185.obj .hbmk\win\msvc\menu3193.obj .hbmk\win\msvc\menu3197.obj .hbmk\win\ms
>>> vc\menu3198.obj .hbmk\win\msvc\menu3199.obj .hbmk\win\msvc\menu3211.obj .hbmk\win\msvc\menu3213.obj .hbmk\win\msvc\menu3214.obj .hbmk\win\msvc\menu3215.obj .hbmk\win\msvc\menu3221.obj .hbmk\win\msvc\menu3222.obj .hbmk\win\msvc\menu3231.obj.hbmk\win\msvc\menu3311.obj .hbmk\win\msvc\menu3321.obj .hbmk\win\msvc\menu3332.
>>> obj .hbmk\win\msvc\menu3334.obj .hbmk\win\msvc\menu41.obj .hbmk\win\msvc\menu421.obj .hbmk\win\msvc\menu422.obj .hbmk\win\msvc\menu423.obj .hbmk\win\msvc\menu424.obj .hbmk\win\msvc\menu442.obj .hbmk\win\msvc\menu443.obj .hbmk\win\msvc\menu444.obj .hbmk\win\msvc\menu445.obj .hbmk\win\msvc\menu45.obj .hbmk\win\msvc\menuc
>>> adpadrao.obj .hbmk\win\msvc\menulanpadrao.obj .hbmk\win\msvc\menu_f.obj .hbmk\win\msvc\parametros.obj .hbmk\win\msvc\printdos.obj .hbmk\win\msvc\rede.obj .hbmk\win\msvc\sockets.obj .hbmk\win\msvc\translator.obj .hbmk\win\msvc\_hbmkaut.obj -libpath:E:\harbour_vc\lib\win\msvc -libpath:lib -libpath:\hwguivc\lib  -subsystem:windows hwgui.lib procmisc.lib hbct.lib hbtip.lib hbwin.lib xhb.lib hbhpdf.lib libhpdf.lib libpng.lib hbmysql.lib libmysql.lib hbmemio.lib hbextern.lib hbdebug.lib hbvmmt.lib hbrtl.lib hblang.lib hbcpage.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib hbrdd.lib hbuddall.lib hbusrrdd.lib rddntx.lib rddcdx.lib rddnsx.lib rddfpt.lib hbrdd.lib hbhsx.lib hbsix.lib hbmacro.lib hbcplr.lib hbpp.lib hbcommon.lib kernel32.lib user32.lib gdi32.lib advapi32.lib ws2_32.lib winspool.lib comctl32.lib comdlg32.lib shell32.lib uuid.lib ole32.lib oleaut32.lib mpr.lib winmm.lib mapi32.lib imm32.lib msimg32.lib wininet.lib hbpcre.libhbzlib.lib  .hbmk\win\msvc\fjfrigo.res
>>> 
>>> Best Regards,
>>> Fernando
>>> 
>>> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 - Celebridades - M?sica -Esportes_______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 - Celebridades - M?sica -Esportes_______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From ice at extreme.hu  Fri Dec 18 14:03:58 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Fri Dec 18 14:04:06 2009
Subject: [Harbour] GTXWC clipboard paste: hang
In-Reply-To: <20091218104640.GA14674@linux-4bod.home.aster.pl>
References: <AD2EC1E8-CA96-40B0-B81E-0D540C750CFB@syenar.hu>
	<20091216180031.GA27412@linux-4bod.home.aster.pl>
	<E81069FD-2AD0-4634-BFCB-9B34F4F4E3E5@syenar.hu>
	<7FE5ECA5-79DF-4188-B78E-E446ED04AB9F@syenar.hu>
	<20091217024820.GA2098@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0912170433460.27623@dawn.royalcomp.hu>
	<20091217104807.GA18626@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0912172223300.27623@dawn.royalcomp.hu>
	<20091217234027.GA23578@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0912180159250.27623@dawn.royalcomp.hu>
	<20091218104640.GA14674@linux-4bod.home.aster.pl>
Message-ID: <alpine.DEB.2.00.0912182003390.27623@dawn.royalcomp.hu>

On Fri, 18 Dec 2009, Przemys?aw Czerpak wrote:

hi,

 > I cannot replicate it (probably because I cannot exactly replicate your
 > environment settings) so I have to guess but probably you are right.
 > Anyhow thank you very much for your tests. Finally I've found a while
 > to clean the selection code in GTXWC.

thank you!

-- 
[-]

mkdir /nonexistent
From bedipritpal at hotmail.com  Fri Dec 18 14:08:01 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 18 14:08:08 2009
Subject: [Harbour] Window Main X Window Modal X HBQT
In-Reply-To: <4B2BAD31.6090109@uol.com.br>
References: <26818868.post@talk.nabble.com> <4B2A75C8.8060602@uol.com.br>
	<26842663.post@talk.nabble.com> <4B2BAD31.6090109@uol.com.br>
Message-ID: <26848159.post@talk.nabble.com>


Hi Marcos

STATIC FUNCTION PassWord()
   Local oDialog
   Local oLabelMessage
   Local oLabelUser
   Local oLineEditUser
   Local oLabelPassword
   Local oLineEditPassword
   Local oButtonOk
   Local r

    oDialog := QDialog():New()
    oDialog:setWindowTitle("Login")
    oDialog:resize(210,130)

    oLabelMessage := QLabel():New( oDialog) 
    oLabelMessage:setText("Enter your password...")
    oLabelMessage:move(10,10)

    oLabelUser := QLabel():New( oDialog )
    oLabelUser:setText("User")
    oLabelUser:move(10,30)

    oLineEditUser := QLineEdit():New( oDialog )
    oLineEditUser:setMaxLength(15)
    oLineEditUser:move(60,30)

    oLabelPassword := QLabel():New( oDialog ) 
    oLabelPassword:setText("Password")
    oLabelPassword:move(10,60)

    oLineEditPassWord := QLineEdit():New( oDialog ) 
    oLineEditPassWord:setEchoMode(2)
    oLineEditPassWord:setMaxLength(15)
    oLineEditPassword:move(60,60)

    oButtonOk := QPushButton():New( oDialog )
    oButtonOk:setText("OK")
    oButtonOk:move(100,90)
    Qt_Connect_Signal( oButtonOk, "clicked()", 
{||IIF(oLineEditUser:text()=="user".and.oLineEditPassword:text()=="password",oDialog:done(1),oDialog:done(0)) 
})

    r := oDialog:exec()

   Return IIF(r==1,.t.,.f.)


QT_PTROF() is not required anymore for HBQT objects, 
though it does not harm anyway.

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/Window-Main-X-Window-Modal-X-HBQT-tp26818868p26848159.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From fernando_athayde at yahoo.com.br  Fri Dec 18 14:39:08 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Fri Dec 18 14:39:16 2009
Subject: Res: Res: [Harbour] hbmk2 + msvc
In-Reply-To: <8A919269-4EFA-4BFD-9518-C0A214C0C770@syenar.hu>
References: <D394BF37-1E7B-4B95-8F52-B08F648D4139@syenar.hu>
	<609353e70912170719r4d9b8ddem5f459146f6ea4b10@mail.gmail.com>
	<CC50401A-E803-4315-9DD1-21A7B792A9D2@syenar.hu>
	<26832160.post@talk.nabble.com>
	<A0FFD441-59FA-4DA4-AC28-EF2D9CEADC84@syenar.hu>
	<609353e70912171518t796dc6f2ve21fd13916c16da0@mail.gmail.com>
	<7ACC3FA6-F205-462C-A114-678E181E24CB@syenar.hu>
	<000901ca7fb2$17b90c70$472b2550$@Bisz@t-online.hu>
	<370537.31472.qm@web52205.mail.re2.yahoo.com>
	<E3C51AE0-D45C-4689-8A8C-36B76D7A0E84@syenar.hu>
	<626597.45005.qm@web52207.mail.re2.yahoo.com>
	<DF19B2E9-9E73-4710-8AB2-FC71062B66C8@syenar.hu>
	<8A919269-4EFA-4BFD-9518-C0A214C0C770@syenar.hu>
Message-ID: <714228.73410.qm@web52205.mail.re2.yahoo.com>

seems ok now
with the option -quiet

i?ll test sometime, and report to group

Thanks a lot

Best Regards
Fernando Athayde




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Sexta-feira, 18 de Dezembro de 2009 15:24:16
Assunto: Re: Res: [Harbour] hbmk2 + msvc

Forgot to suggest to try -quiet option which suppresses 
output of executed command in case of errors, you can see 
better the output of the command themselves.

Brgds,
Viktor

On 2009 Dec 18, at 17:50, Viktor Szak?ts wrote:

> There is nothing unusual here, in case of error, only the 
> command line is printed after having been called, not the 
> content of any script files which was used. In case of bcc, 
> this results in a one liner, since most options are inside 
> the script, while with msvc, everything is on command-line.
> 
> Brgds,
> Viktor
> 
> On 2009 Dec 18, at 16:29, Fernando Athayde wrote:
> 
>> i didn?t was specified
>> ex: bcc, it shows error in the end, take a look above, is better to see if happens any error
>> 
>> hbmk2: Linkando... fjfrigo.exe
>> hbmk2: Comando do Linkeditor:
>> ilink32.exe @C:\Users\athayde\AppData\Local\Temp\bt3rrj.lnk
>> hbmk2: Script do linkeditor:
>> -Gn -Tpe -L\harbour\bcc55\Lib;\harbour\bcc55\Lib\PSDK;e:\harbour\lib\win\bcc;lib;\hwguihb\lib  -aa c0w32.obj .hbmk\win\bcc\busca.obj .hbmk\win\bcc\database.obj.hbmk\win\bcc\fj_printsetup.obj .hbmk\win\bcc\funcoes.obj .hbmk\win\bcc\hbrowse.obj .hbmk\win\bcc\hbvpdf.obj .hbmk\win\bcc\hbvpdft.obj .hbmk\win\bcc\hbvpsup.obj .hbmk\win\bcc\hprinter.obj .hbmk\win\bcc\login.obj .hbmk\win\bcc\menu0.obj .hbmk\win\bcc\menu11.obj .hbmk\win\bcc\menu12.obj .hbmk\win\bcc\menu13.obj .hbmk\win\bcc\menu14.obj .hbmk\win\bcc\menu15.obj .hbmk\win\bcc\menu16.obj .hbmk\win\bcc\menu171.obj .hbmk\win\bcc\menu172.obj .hbmk\win\bcc\menu173.obj .hbmk\win\bcc\menu174.obj .hbmk\win\bcc\menu175.obj .hbmk\win\bcc\menu176.obj .hbmk\win\bcc\menu177.obj .hbmk\win\bcc\menu178.obj .hbmk\win\bcc\menu179.obj .hbmk\win\bcc\menu181.obj .hbmk\win\bcc\menu182.obj .hbmk\win\bcc\menu183.obj .hbmk\win\bcc\menu185.obj .hbmk\win\bcc\menu187.obj .hbmk\win\bcc\menu188.obj .hbmk\win\bcc\menu189.obj
 .hbmk\win\bcc\menu18a.obj .hbmk\win\bcc\menu18b.obj .hbmk\win\bcc\menu191.obj.hbmk\win\bcc\menu192.obj .hbmk\win\bcc\menu193.obj .hbmk\win\bcc\menu194.obj .hbmk\win\bcc\menu21.obj .hbmk\win\bcc\menu221.obj .hbmk\win\bcc\menu222.obj .hbmk\win\bcc\menu223.obj .hbmk\win\bcc\menu224.obj .hbmk\win\bcc\menu225.obj .hbmk\win\bcc\menu226.obj .hbmk\win\bcc\menu227.obj .hbmk\win\bcc\menu2312.obj .hbmk\win\bcc\menu2322.obj .hbmk\win\bcc\menu2332.obj .hbmk\win\bcc\menu2333.obj .hbmk\win\bcc\menu2334.obj .hbmk\win\bcc\menu234.obj .hbmk\win\bcc\menu241.obj .hbmk\win\bcc\menu242.obj .hbmk\win\bcc\menu243.obj .hbmk\win\bcc\menu244.obj .hbmk\win\bcc\menu245.obj .hbmk\win\bcc\menu246.obj .hbmk\win\bcc\menu311.obj .hbmk\win\bcc\menu312.obj .hbmk\win\bcc\menu313.obj .hbmk\win\bcc\menu314.obj .hbmk\win\bcc\menu315.obj .hbmk\win\bcc\menu3171.obj .hbmk\win\bcc\menu3172.obj .hbmk\win\bcc\menu3174.obj .hbmk\win\bcc\menu3181.obj .hbmk\win\bcc\menu3182.obj
 .hbmk\win\bcc\menu3183.obj .hbmk\win\bcc\menu3185.obj .hbmk\win\bcc\menu3193.obj .hbmk\win\bcc\menu3197.obj .hbmk\win\bcc\menu3198.obj .hbmk\win\bcc\menu3199.obj .hbmk\win\bcc\menu3211.obj .hbmk\win\bcc\menu3213.obj .hbmk\win\bcc\menu3214.obj .hbmk\win\bcc\menu3215.obj .hbmk\win\bcc\menu3221.obj .hbmk\win\bcc\menu3222.obj .hbmk\win\bcc\menu3231.obj .hbmk\win\bcc\menu3311.obj .hbmk\win\bcc\menu3321.obj .hbmk\win\bcc\menu3332.obj .hbmk\win\bcc\menu3334.obj .hbmk\win\bcc\menu41.obj .hbmk\win\bcc\menu421.obj .hbmk\win\bcc\menu422.obj .hbmk\win\bcc\menu423.obj .hbmk\win\bcc\menu424.obj .hbmk\win\bcc\menu442.obj .hbmk\win\bcc\menu443.obj .hbmk\win\bcc\menu444.obj .hbmk\win\bcc\menu445.obj .hbmk\win\bcc\menu45.obj .hbmk\win\bcc\menucadpadrao.obj .hbmk\win\bcc\menulanpadrao.obj .hbmk\win\bcc\menu_f.obj .hbmk\win\bcc\parametros.obj .hbmk\win\bcc\printdos.obj .hbmk\win\bcc\rede.obj .hbmk\win\bcc\sockets.obj .hbmk\win\bcc\translator.obj .hbmk\win\bcc\_hbmkaut.obj,
 fjfrigo.exe, nul, hwguimt.lib procmisc.lib hbct.lib hbtip.lib hbwin.lib xhb.lib hbhpdf.lib libhpdf.lib libpng.lib hbmysql.lib libmysql.lib hbmemio.lib hbextern.lib hbdebug.lib hbvmmt.lib hbrtl.lib hblang.lib hbcpage.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib hbrdd.lib hbuddall.lib hbusrrdd.lib rddntx.lib rddcdx.lib rddnsx.lib rddfpt.lib hbrdd.lib hbhsx.lib hbsix.lib hbmacro.lib hbcplr.lib hbpp.lib hbcommon.lib kernel32.lib user32.lib gdi32.lib advapi32.lib ws2_32.lib winspool.lib comctl32.lib comdlg32.lib shell32.lib uuid.lib ole32.lib oleaut32.lib mpr.lib winmm.lib mapi32.lib imm32.lib msimg32.lib wininet.lib hbpcre.lib hbzlib.lib  cw32mt.lib import32.lib,, .hbmk\win\bcc\fjfrigo.res
>> Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
>> Fatal: Could not open fjfrigo.exe (program still running?)
>> hbmk2: Erro: Executando linkeditor. 2
>> ilink32.exe @C:\Users\athayde\AppData\Local\Temp\bt3rrj.lnk
>> 
>> Best Regards
>> Fernando
>> 
>> De: Viktor Szak?ts <harbour.01@syenar.hu>
>> Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
>> Enviadas: Sexta-feira, 18 de Dezembro de 2009 11:06:44
>> Assunto: Re: [Harbour] hbmk2 + msvc
>> 
>>> if the file exe is already opened, 
>>> you forgot and try compile,
>>> hbmk2 invoque link, it should stop after error, isn?t it?
>> 
>> That's exactly what it did.
>> 
>> Brgds,
>> Viktor
>> 
>>> 
>>> LINK : fatal error LNK1104: cannot open file 'fjfrigo.exe'
>>> hbmk2: Erro: Executando linkeditor. 1104
>>> link.exe -nologo -out:fjfrigo.exe .hbmk\win\msvc\busca.obj .hbmk\win\msvc\database.obj .hbmk\win\msvc\errorsys.obj .hbmk\win\msvc\fj_printsetup.obj .hbmk\win\msvc\funcoes.obj .hbmk\win\msvc\hbrowse.obj .hbmk\win\msvc\hbvpdf.obj .hbmk\win\msvc\hbvpdft.obj .hbmk\win\msvc\hbvpsup.obj .hbmk\win\msvc\hprinter.obj .hbmk\win\msvc\login.obj .hbmk\win\msvc\menu0.obj .hbmk\win\msvc\menu11.obj .hbmk\win\msvc\menu12.obj .hbmk\win\msvc\menu13.obj .hbmk\win\msvc\menu14.obj .hbmk\win\msvc\menu15.obj .hbmk\win\msvc\menu16.obj .hbmk\win\msvc\menu171.obj .hbmk\win\msvc\menu172.obj .hbmk\win\msvc\menu173.obj .hbmk\win\msvc\menu174.obj .hbmk\win\msvc\menu175.obj .hbmk\win\msvc\menu176.obj .hbmk\win\msvc\menu177.obj .hbmk\win\msvc\menu178.obj .hbmk\win\msvc\menu179.obj .hbmk\win\msvc\menu181.obj .hbmk\win\msvc
>>> \menu182.obj .hbmk\win\msvc\menu183.obj .hbmk\win\msvc\menu184.obj .hbmk\win\msvc\menu185.obj .hbmk\win\msvc\menu187.obj .hbmk\win\msvc\menu188.obj .hbmk\win\msvc\menu189.obj .hbmk\win\msvc\menu18a.obj .hbmk\win\msvc\menu18b.obj .hbmk\win\msvc\menu191.obj .hbmk\win\msvc\menu192.obj .hbmk\win\msvc\menu193.obj .hbmk\win\
>>> msvc\menu194.obj .hbmk\win\msvc\menu21.obj .hbmk\win\msvc\menu221.obj .hbmk\win\msvc\menu222.obj .hbmk\win\msvc\menu223.obj .hbmk\win\msvc\menu224.obj .hbmk\win\msvc\menu225.obj .hbmk\win\msvc\menu226.obj .hbmk\win\msvc\menu227.obj .hbmk\win\msvc\menu2312.obj .hbmk\win\msvc\menu2322.obj .hbmk\win\msvc\menu2332.obj .hbm
>>> k\win\msvc\menu2333.obj .hbmk\win\msvc\menu2334.obj .hbmk\win\msvc\menu234.obj .hbmk\win\msvc\menu241.obj .hbmk\win\msvc\menu242.obj .hbmk\win\msvc\menu243.obj.hbmk\win\msvc\menu244.obj .hbmk\win\msvc\menu245.obj .hbmk\win\msvc\menu246.obj .hbmk\win\msvc\menu311.obj .hbmk\win\msvc\menu312.obj .hbmk\win\msvc\menu313.ob
>>> j .hbmk\win\msvc\menu314.obj .hbmk\win\msvc\menu315.obj .hbmk\win\msvc\menu3171.obj .hbmk\win\msvc\menu3172.obj .hbmk\win\msvc\menu3174.obj .hbmk\win\msvc\menu3181.obj .hbmk\win\msvc\menu3182.obj .hbmk\win\msvc\menu3183.obj .hbmk\win\msvc\menu3185.obj .hbmk\win\msvc\menu3193.obj .hbmk\win\msvc\menu3197.obj .hbmk\win\ms
>>> vc\menu3198.obj .hbmk\win\msvc\menu3199.obj .hbmk\win\msvc\menu3211.obj .hbmk\win\msvc\menu3213.obj .hbmk\win\msvc\menu3214.obj .hbmk\win\msvc\menu3215.obj .hbmk\win\msvc\menu3221.obj .hbmk\win\msvc\menu3222.obj .hbmk\win\msvc\menu3231.obj.hbmk\win\msvc\menu3311.obj .hbmk\win\msvc\menu3321.obj .hbmk\win\msvc\menu3332.
>>> obj .hbmk\win\msvc\menu3334.obj .hbmk\win\msvc\menu41.obj .hbmk\win\msvc\menu421.obj .hbmk\win\msvc\menu422.obj .hbmk\win\msvc\menu423.obj .hbmk\win\msvc\menu424.obj .hbmk\win\msvc\menu442.obj .hbmk\win\msvc\menu443.obj .hbmk\win\msvc\menu444.obj .hbmk\win\msvc\menu445.obj .hbmk\win\msvc\menu45.obj .hbmk\win\msvc\menuc
>>> adpadrao.obj .hbmk\win\msvc\menulanpadrao.obj .hbmk\win\msvc\menu_f.obj .hbmk\win\msvc\parametros.obj .hbmk\win\msvc\printdos.obj .hbmk\win\msvc\rede.obj .hbmk\win\msvc\sockets.obj .hbmk\win\msvc\translator.obj .hbmk\win\msvc\_hbmkaut.obj -libpath:E:\harbour_vc\lib\win\msvc -libpath:lib -libpath:\hwguivc\lib  -subsystem:windows hwgui.lib procmisc.lib hbct.lib hbtip.lib hbwin.lib xhb.lib hbhpdf.lib libhpdf.lib libpng.lib hbmysql.lib libmysql.lib hbmemio.lib hbextern.lib hbdebug.lib hbvmmt.lib hbrtl.lib hblang.lib hbcpage.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib hbrdd.lib hbuddall.lib hbusrrdd.lib rddntx.lib rddcdx.lib rddnsx.lib rddfpt.lib hbrdd.lib hbhsx.lib hbsix.lib hbmacro.lib hbcplr.lib hbpp.lib hbcommon.lib kernel32.lib user32.lib gdi32.lib advapi32.lib ws2_32.lib winspool.lib comctl32.lib comdlg32.lib shell32.lib uuid.lib ole32.lib oleaut32.lib mpr.lib winmm.lib mapi32.lib imm32.lib msimg32.lib wininet.lib
 hbpcre.libhbzlib.lib  .hbmk\win\msvc\fjfrigo.res
>>> 
>>> Best Regards,
>>> Fernando
>>> 
>>> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 - Celebridades - M?sica -Esportes_______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 - Celebridades - M?sica -Esportes_______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091218/b3d1f67f/attachment.html
From ice at extreme.hu  Fri Dec 18 14:50:11 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Fri Dec 18 14:50:28 2009
Subject: [Harbour] r13300 xbp build failure
Message-ID: <alpine.DEB.2.00.0912182045360.27623@dawn.royalcomp.hu>


hi,

../../../../../bin/linux/gcc/harbour ../../../xbpwindow.prg 
  -I../../../../../contrib/hbqt -i../../../../../include -n1 -q0 -w3 
  -es2 -kmo -i- -l  
../../../xbpwindow.prg(785) Warning W0032
  Variable 'LSUCCESS' is assigned but not used in function 'XBPWINDOW_DESTROY(0)'
../../../xbpwindow.prg(800) Warning W0032
  Variable 'LSUCCESS' is assigned but not used in function 'XBPWINDOW_DISCONNECT(0)'


-- 
[-]

mkdir /nonexistent
From marcosgambeta at uol.com.br  Fri Dec 18 15:16:01 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Fri Dec 18 15:16:15 2009
Subject: [Harbour] Window Main X Window Modal X HBQT
In-Reply-To: <26848159.post@talk.nabble.com>
References: <26818868.post@talk.nabble.com>
	<4B2A75C8.8060602@uol.com.br>	<26842663.post@talk.nabble.com>
	<4B2BAD31.6090109@uol.com.br> <26848159.post@talk.nabble.com>
Message-ID: <4B2BE301.1060402@uol.com.br>

Pritpal Bedi escreveu:
> QT_PTROF() is not required anymore for HBQT objects, 
> though it does not harm anyway.

Ok. Much better. :-)


-- 
Regards,
Marcos Antonio Gambeta
From m.lacecilia at gmail.com  Fri Dec 18 15:35:47 2009
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Fri Dec 18 15:35:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13291] trunk/harbour
In-Reply-To: <E1NLZPY-000748-QS@3kljzd1.ch3.sourceforge.com>
References: <E1NLZPY-000748-QS@3kljzd1.ch3.sourceforge.com>
Message-ID: <26849378.post@talk.nabble.com>


Hi Pritpal,
in MinGW build i receive this warning after a clean install make.

../../../../../bin/win/mingw/harbour.exe ../../../xbpwindow.prg
-I../../../../..
/contrib/hbqt -i../../../../../include -n1 -q0 -w3 -es2 -kmo -i- -l
../../../xbpwindow.prg(785) Warning W0032  Variable 'LSUCCESS' is assigned
but n
ot used in function 'XBPWINDOW_DESTROY(0)'
../../../xbpwindow.prg(800) Warning W0032  Variable 'LSUCCESS' is assigned
but n
ot used in function 'XBPWINDOW_DISCONNECT(0)'

Best regards.
Maurizio la Cecilia


vouchcac wrote:
> 
> Revision: 13291
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13291&view=rev
> Author:   vouchcac
> Date:     2009-12-18 09:46:11 +0000 (Fri, 18 Dec 2009)
> 
> Log Message:
> -----------
> 2009-12-18 01:37 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * contrib/hbqt/hbqt.h
>   * contrib/hbqt/hbqt_base.cpp
>   * contrib/hbqt/hbqt_destruct.cpp
>   * contrib/hbqt/hbqt_events.cpp
>   * contrib/hbqt/hbqt_slots.cpp
> 
>   * contrib/hbxbp/xbpbrowse.prg
>   * contrib/hbxbp/xbphtmlviewer.prg
>   * contrib/hbxbp/xbpmenubar.prg
>   * contrib/hbxbp/xbpprinter.prg
>   * contrib/hbxbp/xbppushbutton.prg
>   * contrib/hbxbp/xbptoolbar.prg
>   * contrib/hbxbp/xbpwindow.prg
> 
>   * contrib/hbqt/tests/demoqt.prg
>   * contrib/hbide/hbide.prg
>     ! Cleaned up QT_PTROF() macro altogether.
>       A few instances are left in the HBXBP scheduled to be reviewed
> later.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/contrib/hbide/hbide.prg
>     trunk/harbour/contrib/hbqt/hbqt.h
>     trunk/harbour/contrib/hbqt/hbqt_base.cpp
>     trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
>     trunk/harbour/contrib/hbqt/hbqt_events.cpp
>     trunk/harbour/contrib/hbqt/hbqt_slots.cpp
>     trunk/harbour/contrib/hbqt/tests/demoqt.prg
>     trunk/harbour/contrib/hbxbp/xbpbrowse.prg
>     trunk/harbour/contrib/hbxbp/xbphtmlviewer.prg
>     trunk/harbour/contrib/hbxbp/xbpmenubar.prg
>     trunk/harbour/contrib/hbxbp/xbpprinter.prg
>     trunk/harbour/contrib/hbxbp/xbppushbutton.prg
>     trunk/harbour/contrib/hbxbp/xbptoolbar.prg
>     trunk/harbour/contrib/hbxbp/xbpwindow.prg
> 
> 
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13291--trunk-harbour-tp26841838p26849378.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Fri Dec 18 15:37:29 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 18 15:37:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13280] trunk/harbour
In-Reply-To: <666B4FCF-5D14-4FAB-8CFB-B4B9F2D13EA6@syenar.hu>
References: <E651FB6A-3E69-473A-8ED4-DF04EECA1E37@syenar.hu>
	<26838100.post@talk.nabble.com>
	<666B4FCF-5D14-4FAB-8CFB-B4B9F2D13EA6@syenar.hu>
Message-ID: <26849399.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> Here it is:
> 
>    if( HB_IS_OBJECT( pParam ) && hb_objHasMsg( pParam, "PPTR" ) && 0 )
>    {
>       hb_vmPushDynSym( hb_dynsymGetCase( "PPTR" ) );
>       hb_vmPush( pParam );
>       hb_vmSend( 0 );
>       {
>          PHB_ITEM pReturn = hb_stackReturnItem();
> 
>          QGC_POINTER * p = ( QGC_POINTER * ) hb_itemGetPtrGC( pReturn,
> gcFuncs() );
> 
>          if( p && p->ph )
>             pRetVal = p->ph;
>          else
>             pRetVal = hb_itemGetPtr( pReturn ); /* TOFIX: This is
> dangerous. */
>       }
>    }
> 
> And there is also HBQT_ISEQUALGCQTPOINTER.
> 

We were thinking on the same lines at the same time I think.
I implemented in a different way and only now I am seeing 
your message.

The code sbippet above is clean. Will try to substitute it.
It taught me one more lesson in C.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/Re%3A-SF.net-SVN%3A-harbour-project%3A-13280--trunk-harbour-tp26837939p26849399.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Fri Dec 18 15:52:02 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 18 15:52:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13275] trunk/harbour
In-Reply-To: <E6979BBB-43D1-4ED7-937D-C97942A6A1B8@syenar.hu>
References: <E1NLEA2-0001T7-0Z@c3vjzd1.ch3.sourceforge.com>
	<4C9B69C9-02A1-4A21-A7B6-B5095C26CAA6@syenar.hu>
	<26831039.post@talk.nabble.com>
	<E6979BBB-43D1-4ED7-937D-C97942A6A1B8@syenar.hu>
Message-ID: <26849574.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
>> Method QPixmap:new(...)
>>   LOCAL aP := hb_aParams()
>> 
>>   aeval( aP, {|x| x := hbqt_ptr( x ) } )
>> 
>>   Qt_QPixmap(...)  /* How this can be achieved with above syntax */
>> 
>>   RETURN Self
> 
> Why should this conversion be done on the object wrapper level?
> Why can't you do this conversion in QT_QPIXMAP()?
> F.e. in hb_gcpointer()?
> 

Because if I implement it QT_QPIXMAP() I have to 
touch around 100 .qth headers which is not viable at this point.
So I am introducing in generator:

METHOD QSomePlainObject:new( ... )
   LOCAL p
   LOCAL aP := hb_aParams()
   LOCAL nParams := len( aP )

   IF nParams > 0
       FOR EACH p IN aP
          p := hbqt_ptr( p )
       NEXT
   ENDIF

   DO CASE
   CASE nParams == 6
      ::pPtr := Qt_QSomePlainObject( aP[ 1 ], aP[ 2 ], aP[ 3 ], aP[ 4 ], aP[
5 ], aP[ 6 ] )
   CASE nParams == 5
      ::pPtr := Qt_QSomePlainObject( aP[ 1 ], aP[ 2 ], aP[ 3 ], aP[ 4 ], aP[
5 ] )
   CASE nParams == 4
      ::pPtr := Qt_QSomePlainObject( aP[ 1 ], aP[ 2 ], aP[ 3 ], aP[ 4 ] )
   CASE nParams == 3
      ::pPtr := Qt_QSomePlainObject( aP[ 1 ], aP[ 2 ], aP[ 3 ] )
   CASE nParams == 2
      ::pPtr := Qt_QSomePlainObject( aP[ 1 ], aP[ 2 ] )
   CASE nParams == 1
      ::pPtr := Qt_QSomePlainObject( aP[ 1 ] )
   OTHERWISE
      ::pPtr :=  Qt_QSomePlainObject()  
   ENDCASE

   return self


I am aware of its limitation but I could not find a better way.
Because it is a one-time code, so it carris no overhead.
If anybody has better solution please forward.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13275--trunk-harbour-tp26826400p26849574.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vouchcac at users.sourceforge.net  Fri Dec 18 16:05:23 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Dec 18 16:05:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13301] trunk/harbour
Message-ID: <E1NLk0p-0001b5-5N@74yxhf1.ch3.sourceforge.com>

Revision: 13301
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13301&view=rev
Author:   vouchcac
Date:     2009-12-18 21:05:22 +0000 (Fri, 18 Dec 2009)

Log Message:
-----------
2009-12-18 13:04 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbpwindow.prg
    ! Fixed "lSuccess" issue.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Fri Dec 18 17:52:20 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 18 17:52:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13275] trunk/harbour
In-Reply-To: <26849574.post@talk.nabble.com>
References: <E1NLEA2-0001T7-0Z@c3vjzd1.ch3.sourceforge.com>
	<4C9B69C9-02A1-4A21-A7B6-B5095C26CAA6@syenar.hu>
	<26831039.post@talk.nabble.com>
	<E6979BBB-43D1-4ED7-937D-C97942A6A1B8@syenar.hu>
	<26849574.post@talk.nabble.com>
Message-ID: <26850790.post@talk.nabble.com>


Hi

Still better, but I did not test yet:

METHOD QSomePlainObject:new( ... )
   LOCAL p
   LOCAL aP := hb_aParams()
   LOCAL nParams := len( aP )

   IF nParams > 0
       FOR EACH p IN aP
          p := hbqt_ptr( p )
       NEXT
   ENDIF

   ::pPtr := hb_execFromArray( @Qt_QSomePlainObject(), aP )

   return self

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13275--trunk-harbour-tp26826400p26850790.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Fri Dec 18 18:24:45 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Dec 18 18:24:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13275] trunk/harbour
In-Reply-To: <26849574.post@talk.nabble.com>
References: <E1NLEA2-0001T7-0Z@c3vjzd1.ch3.sourceforge.com>
	<4C9B69C9-02A1-4A21-A7B6-B5095C26CAA6@syenar.hu>
	<26831039.post@talk.nabble.com>
	<E6979BBB-43D1-4ED7-937D-C97942A6A1B8@syenar.hu>
	<26849574.post@talk.nabble.com>
Message-ID: <20091218232445.GA13450@linux-4bod.home.aster.pl>

On Fri, 18 Dec 2009, Pritpal Bedi wrote:

Hi,

> >> Method QPixmap:new(...)
> >>   LOCAL aP := hb_aParams()
> >> 
> >>   aeval( aP, {|x| x := hbqt_ptr( x ) } )
> >>   Qt_QPixmap(...)  /* How this can be achieved with above syntax */
> >> 
> >>   RETURN Self
[...]
   proc main()
      p1( "a", "b", "c", 10, 20, 30, .t. )
   return

   proc p1( ... )
      local v
      p2( "Original parameters:", ... )
      for each v in { ... }
         switch valtype( v )
            case "N"; v += 1000        ; exit
            case "C"; v = upper( v )   ; exit
            case "L"; v := !v          ; exit
         endswitch
         hb_pvalue( v:__enumIndex(), v )
      next
      p2( "Modified parameters:", ... )
   return

   proc p2( msg, ... )
      ? msg, ...
   return
> Because if I implement it QT_QPIXMAP() I have to 
> touch around 100 .qth headers which is not viable at this point.
> So I am introducing in generator:
> 
> METHOD QSomePlainObject:new( ... )
>    LOCAL p
>    LOCAL aP := hb_aParams()
>    LOCAL nParams := len( aP )
> 
>    IF nParams > 0
>        FOR EACH p IN aP
>           p := hbqt_ptr( p )
>        NEXT
>    ENDIF
> 
>    DO CASE
>    CASE nParams == 6
>       ::pPtr := Qt_QSomePlainObject( aP[ 1 ], aP[ 2 ], aP[ 3 ], aP[ 4 ], aP[ 5 ], aP[ 6 ] )
>    CASE nParams == 5
>       ::pPtr := Qt_QSomePlainObject( aP[ 1 ], aP[ 2 ], aP[ 3 ], aP[ 4 ], aP[ 5 ] )
>    CASE nParams == 4
>       ::pPtr := Qt_QSomePlainObject( aP[ 1 ], aP[ 2 ], aP[ 3 ], aP[ 4 ] )
>    CASE nParams == 3
>       ::pPtr := Qt_QSomePlainObject( aP[ 1 ], aP[ 2 ], aP[ 3 ] )
>    CASE nParams == 2
>       ::pPtr := Qt_QSomePlainObject( aP[ 1 ], aP[ 2 ] )
>    CASE nParams == 1
>       ::pPtr := Qt_QSomePlainObject( aP[ 1 ] )
>    OTHERWISE
>       ::pPtr :=  Qt_QSomePlainObject()  
>    ENDCASE
> 
>    return self
> 
> I am aware of its limitation but I could not find a better way.
> Because it is a one-time code, so it carris no overhead.
> If anybody has better solution please forward.

   proc main()
      p1( "a", "b", "c", 10, 20, 30, .t. )
   return

   proc p1( ... )
      local v
      p2( "Original parameters:", ... )
      for each v in { ... }
         switch valtype( v )
            case "N"; v += 1000        ; exit
            case "C"; v = upper( v )   ; exit
            case "L"; v := !v          ; exit
         endswitch
         hb_pvalue( v:__enumIndex(), v )
      next
      p2( "Modified parameters:", ... )
   return

   proc p2( msg, ... )
      ? msg, ...
   return

best regards,
Przemek
From vouchcac at users.sourceforge.net  Fri Dec 18 19:05:18 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Dec 18 19:05:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13302] trunk/harbour
Message-ID: <E1NLmow-00077s-2h@bj8yhf1.ch3.sourceforge.com>

Revision: 13302
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13302&view=rev
Author:   vouchcac
Date:     2009-12-19 00:05:16 +0000 (Sat, 19 Dec 2009)

Log Message:
-----------
2009-12-18 16:01 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/generator/hbqtgen.prg
  * contrib/hbide/hbide.prg
  * contrib/hbqt/tests/demoqt.prg
  * contrib/hbxbp/xbpstatic.prg
  * contrib/hbxbp/xbpwindow.prg
    + Implemented passing HBQT objects to METHOD QSomeObj:new(...).
      Now there is seldome a need to use QT_PTROF() macro.
      demoxbp/demoqt/hbide are working perfectly.

    [ Regenerated sources follow ]

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/tests/demoqt.prg
    trunk/harbour/contrib/hbxbp/xbpstatic.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Fri Dec 18 19:06:22 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Dec 18 19:06:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13303]
	trunk/harbour/contrib/hbqt
Message-ID: <E1NLmpy-00079u-S6@bj8yhf1.ch3.sourceforge.com>

Revision: 13303
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13303&view=rev
Author:   vouchcac
Date:     2009-12-19 00:06:22 +0000 (Sat, 19 Dec 2009)

Log Message:
-----------
  * [ Regenerated Sources ]

Modified Paths:
--------------
    trunk/harbour/contrib/hbqt/qtcore/TQLine.prg
    trunk/harbour/contrib/hbqt/qtcore/TQPoint.prg
    trunk/harbour/contrib/hbqt/qtcore/TQPointF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRect.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRectF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSize.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSizeF.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBitmap.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBrush.prg
    trunk/harbour/contrib/hbqt/qtgui/TQColor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCursor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFont.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontMetrics.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontMetricsF.prg
    trunk/harbour/contrib/hbqt/qtgui/TQIcon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImage.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLinearGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPalette.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPen.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPicture.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPixmap.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRadialGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRegion.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextCursor.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Fri Dec 18 21:15:18 2009
From: jarabal at gmail.com (Xavi)
Date: Fri Dec 18 21:16:08 2009
Subject: [Harbour] Re: Fixed close event in windows console GTWIN.
In-Reply-To: <A46E1262-775A-414F-9D4F-2DAC80DA93C7@syenar.hu>
References: <4B2A8860.40208@gmail.com>
	<52287722-5368-4861-9DCE-ACB49DB046E4@syenar.hu>
	<4B2A9831.4030107@gmail.com>
	<8E7C8297-2745-4FCB-AB76-CCC416A8C0C1@syenar.hu>
	<4B2B7650.2070100@gmail.com>
	<98BE6EAB-D3C0-443E-B4CA-014CA57A8A16@syenar.hu>
	<A46E1262-775A-414F-9D4F-2DAC80DA93C7@syenar.hu>
Message-ID: <4B2C3736.7090107@gmail.com>

I'm sorry Viktor,

I have HB_SET_CANCEL = FALSE by default and MinGW compile with -mwindows
Thanks to you and Przemek for your help.

--- t2.prg
REQUEST HB_GT_WIN_DEFAULT
ANNOUNCE HB_GTSYS

PROCEDURE Main()

   SetCancel(.F.)
   ? "Click [X] to close windows console "
   while( LastKey() != 27 )
      Inkey( 1 )
   enddo

   RETURN
---

Use with MINGW 'hbmk2 t2.prg -gui' to build it.
SetCalcel(.F.) don't is executed.
Is it right now?

-- 
Xavi

El 18/12/2009 14:42, Viktor Szak?ts escribi?:
>> --- t2.prg
>> REQUEST HB_GT_WVT_DEFAULT
>> ANNOUNCE HB_GTSYS
>>
>> PROCEDURE Main()
>>
>>   ? "Click [X] to close windows console "
>>   while( LastKey() != 27 )
>>      Inkey( 1 )
>>   enddo
>>
>>   RETURN
>> ---
>
> Correction: Add REQUEST HB_GT_WIN to the top.
>
> [ Typed to the mailer, more typos are possible. ]
>
> Brgds,
> Viktor
>
>
From vouchcac at users.sourceforge.net  Fri Dec 18 22:14:47 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Dec 18 22:14:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13304] trunk/harbour
Message-ID: <E1NLpmJ-0000ee-4T@d5vjzd1.ch3.sourceforge.com>

Revision: 13304
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13304&view=rev
Author:   vouchcac
Date:     2009-12-19 03:14:45 +0000 (Sat, 19 Dec 2009)

Log Message:
-----------
2009-12-18 19:15 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  * contrib/hbide/idemisc.prg
  * contrib/hbxbp/Makefile
  * contrib/hbxbp/xbpgeneric.prg
  + contrib/hbxbp/xbpqtuiloader.prg
    + Started XbpQtUiLoader() CLASS TO manage .ui components.
      A work-in-progress.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbxbp/Makefile
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbxbp/xbpqtuiloader.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Dec 19 00:22:37 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Dec 19 00:22:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13275] trunk/harbour
In-Reply-To: <20091218232445.GA13450@linux-4bod.home.aster.pl>
References: <E1NLEA2-0001T7-0Z@c3vjzd1.ch3.sourceforge.com>
	<4C9B69C9-02A1-4A21-A7B6-B5095C26CAA6@syenar.hu>
	<26831039.post@talk.nabble.com>
	<E6979BBB-43D1-4ED7-937D-C97942A6A1B8@syenar.hu>
	<26849574.post@talk.nabble.com>
	<20091218232445.GA13450@linux-4bod.home.aster.pl>
Message-ID: <26852880.post@talk.nabble.com>


Hello Przemek


Przemys?aw Czerpak wrote:
> 
>    proc main()
>       p1( "a", "b", "c", 10, 20, 30, .t. )
>    return
> 
>    proc p1( ... )
>       local v
>       p2( "Original parameters:", ... )
>       for each v in { ... }
>          switch valtype( v )
>             case "N"; v += 1000        ; exit
>             case "C"; v = upper( v )   ; exit
>             case "L"; v := !v          ; exit
>          endswitch
>          hb_pvalue( v:__enumIndex(), v )
>       next
>       p2( "Modified parameters:", ... )
>    return
> 
>    proc p2( msg, ... )
>       ? msg, ...
>    return
> 

Perfect. Will be replacing with it shortly.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13275--trunk-harbour-tp26826400p26852880.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vouchcac at users.sourceforge.net  Sat Dec 19 01:19:41 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Dec 19 01:19:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13305] trunk/harbour
Message-ID: <E1NLsfF-0002gU-2Y@3kljzd1.ch3.sourceforge.com>

Revision: 13305
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13305&view=rev
Author:   vouchcac
Date:     2009-12-19 06:19:39 +0000 (Sat, 19 Dec 2009)

Log Message:
-----------
2009-12-18 22:13 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/qth/QCoreApplication.qth
  * contrib/hbqt/qth/QErrorMessage.qth
  * contrib/hbqt/qth/QList.qth
  * contrib/hbqt/qth/QTextEdit.qth
    ! Supressed some error reported generation process messages.

  * contrib/hbqt/generator/hbqtgen.prg
    ! Implemented highly flexible and optimized code for 
      METHOD QSomeObj:new(...), thanks to Przemek for tips.
    
      Now all classes have the same way the constructor is called.
      [ Regenerated Sources Follows ] 

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/qth/QCoreApplication.qth
    trunk/harbour/contrib/hbqt/qth/QErrorMessage.qth
    trunk/harbour/contrib/hbqt/qth/QList.qth
    trunk/harbour/contrib/hbqt/qth/QTextEdit.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Dec 19 01:24:36 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Dec 19 01:24:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13306]
	trunk/harbour/contrib/hbqt
Message-ID: <E1NLsk0-0002nW-DL@3kljzd1.ch3.sourceforge.com>

Revision: 13306
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13306&view=rev
Author:   vouchcac
Date:     2009-12-19 06:24:33 +0000 (Sat, 19 Dec 2009)

Log Message:
-----------
  * [ Regenerated Sources ]

Modified Paths:
--------------
    trunk/harbour/contrib/hbqt/qtcore/QCoreApplication.cpp
    trunk/harbour/contrib/hbqt/qtcore/QList.cpp
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractItemModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractListModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractTableModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQBitArray.prg
    trunk/harbour/contrib/hbqt/qtcore/TQByteArray.prg
    trunk/harbour/contrib/hbqt/qtcore/TQCoreApplication.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDataStream.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDate.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDateTime.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDir.prg
    trunk/harbour/contrib/hbqt/qtcore/TQEvent.prg
    trunk/harbour/contrib/hbqt/qtcore/TQEventLoop.prg
    trunk/harbour/contrib/hbqt/qtcore/TQFile.prg
    trunk/harbour/contrib/hbqt/qtcore/TQFileInfo.prg
    trunk/harbour/contrib/hbqt/qtcore/TQIODevice.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLatin1Char.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLatin1String.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLine.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLineF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQList.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLocale.prg
    trunk/harbour/contrib/hbqt/qtcore/TQMimeData.prg
    trunk/harbour/contrib/hbqt/qtcore/TQModelIndex.prg
    trunk/harbour/contrib/hbqt/qtcore/TQObject.prg
    trunk/harbour/contrib/hbqt/qtcore/TQPoint.prg
    trunk/harbour/contrib/hbqt/qtcore/TQPointF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQProcess.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRect.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRectF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRegExp.prg
    trunk/harbour/contrib/hbqt/qtcore/TQResource.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSignalMapper.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSize.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSizeF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQStringList.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextBoundaryFinder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextCodec.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextDecoder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextEncoder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextStream.prg
    trunk/harbour/contrib/hbqt/qtcore/TQThread.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTime.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTimer.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTranslator.prg
    trunk/harbour/contrib/hbqt/qtcore/TQUiLoader.prg
    trunk/harbour/contrib/hbqt/qtcore/TQUrl.prg
    trunk/harbour/contrib/hbqt/qtcore/TQVariant.prg
    trunk/harbour/contrib/hbqt/qtgui/QErrorMessage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractItemDelegate.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractItemView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractPrintDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractProxyModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractScrollArea.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractTextDocumentLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAction.prg
    trunk/harbour/contrib/hbqt/qtgui/TQActionGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQApplication.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBitmap.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBrush.prg
    trunk/harbour/contrib/hbqt/qtgui/TQButtonGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCalendarWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCheckBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQClipboard.prg
    trunk/harbour/contrib/hbqt/qtgui/TQColor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQColorDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCommandLinkButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCommonStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCompleter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQConicalGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQContextMenuEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCursor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDateEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDateTimeEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDesktopWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDial.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDirModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDockWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDoubleSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragEnterEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragLeaveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragMoveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDropEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQErrorMessage.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileIconProvider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileSystemModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFocusEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFocusFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFont.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontDatabase.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontInfo.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontMetrics.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontMetricsF.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFormLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGridLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGroupBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHeaderView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHelpEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQIcon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImage.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImageReader.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImageWriter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputContext.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputMethodEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQItemSelection.prg
    trunk/harbour/contrib/hbqt/qtgui/TQItemSelectionModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQKeyEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQKeySequence.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLCDNumber.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLabel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLayoutItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLineEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLinearGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMainWindow.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMatrix.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMenu.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMenuBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMessageBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMouseEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMoveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMovie.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPageSetupDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPaintDevice.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPaintEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPainter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPainterPath.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPalette.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPen.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPicture.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPixmap.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPlainTextEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPolygon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPolygonF.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintEngine.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintPreviewDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrinter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQProgressBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQProgressDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPushButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRadialGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRadioButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRegion.prg
    trunk/harbour/contrib/hbqt/qtgui/TQResizeEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQScrollArea.prg
    trunk/harbour/contrib/hbqt/qtgui/TQScrollBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSessionManager.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSizeGrip.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSizePolicy.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSound.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSpacerItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSplashScreen.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSplitter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStandardItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStandardItemModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStatusBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStringListModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleFactory.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturn.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturnMask.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturnVariant.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOption.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionComplex.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionDockWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionFocusRect.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionGroupBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionHeader.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionMenuItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionProgressBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSizeGrip.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTab.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTabBarBase.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTabWidgetFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTitleBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionViewItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStylePainter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyledItemDelegate.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSyntaxHighlighter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSystemTrayIcon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTabBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTabWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidgetSelectionRange.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlock.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlockFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlockGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBrowser.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextCharFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextCursor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocument.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocumentFragment.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocumentWriter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFragment.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFrameFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextImageFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextInlineObject.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLength.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLine.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextListFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextObject.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextOption.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextTableFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTimeEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTransform.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQVBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQValidator.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWheelEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidgetAction.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWindowsStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWizard.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWizardPage.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQFtp.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttp.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpRequestHeader.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpResponseHeader.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQNetworkRequest.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Dec 19 03:48:31 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 19 03:48:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13275] trunk/harbour
In-Reply-To: <26849574.post@talk.nabble.com>
References: <E1NLEA2-0001T7-0Z@c3vjzd1.ch3.sourceforge.com>
	<4C9B69C9-02A1-4A21-A7B6-B5095C26CAA6@syenar.hu>
	<26831039.post@talk.nabble.com>
	<E6979BBB-43D1-4ED7-937D-C97942A6A1B8@syenar.hu>
	<26849574.post@talk.nabble.com>
Message-ID: <D92EFBF0-E315-4A98-8388-44EE8277D992@syenar.hu>

Hi Pritpal,

>> Why should this conversion be done on the object wrapper level?
>> Why can't you do this conversion in QT_QPIXMAP()?
>> F.e. in hb_gcpointer()?
>> 
> 
> Because if I implement it QT_QPIXMAP() I have to 
> touch around 100 .qth headers which is not viable at this point.
> So I am introducing in generator:

Can you describe what sort of modification should be done 
to .qth files? Maybe there is a way to create a program to 
modify these files automatically.

IMO it's not very good idea to use runtime tricks if there 
is a way to solve it in a faster and most importantly more 
elegant way.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Dec 19 05:03:07 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 19 05:03:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13306]
	trunk/harbour/contrib/hbqt
In-Reply-To: <E1NLsk0-0002nW-DL@3kljzd1.ch3.sourceforge.com>
References: <E1NLsk0-0002nW-DL@3kljzd1.ch3.sourceforge.com>
Message-ID: <0EEBD0FA-8DC8-423F-A4BF-0D76B56D2ADE@syenar.hu>

Hi Pritpal,

Please always include a short entry in ChangeLog about 
regeneration:

---
2009-12-18 10:19 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/*
    * Regenerated.
---

Brgds,
Viktor

On 2009 Dec 19, at 07:24, vouchcac@users.sourceforge.net wrote:

> Revision: 13306
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13306&view=rev
> Author:   vouchcac
> Date:     2009-12-19 06:24:33 +0000 (Sat, 19 Dec 2009)
> 
> Log Message:
> -----------
>  * [ Regenerated Sources ]
> 
> Modified Paths:
> --------------
>    trunk/harbour/contrib/hbqt/qtcore/QCoreApplication.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QList.cpp
>    trunk/harbour/contrib/hbqt/qtcore/TQAbstractItemModel.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQAbstractListModel.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQAbstractTableModel.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQBitArray.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQByteArray.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQCoreApplication.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQDataStream.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQDate.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQDateTime.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQDir.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQEvent.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQEventLoop.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQFile.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQFileInfo.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQIODevice.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQLatin1Char.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQLatin1String.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQLine.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQLineF.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQList.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQLocale.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQMimeData.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQModelIndex.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQObject.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQPoint.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQPointF.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQProcess.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQRect.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQRectF.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQRegExp.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQResource.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQSignalMapper.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQSize.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQSizeF.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQStringList.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQTextBoundaryFinder.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQTextCodec.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQTextDecoder.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQTextEncoder.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQTextStream.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQThread.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQTime.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQTimer.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQTranslator.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQUiLoader.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQUrl.prg
>    trunk/harbour/contrib/hbqt/qtcore/TQVariant.prg
>    trunk/harbour/contrib/hbqt/qtgui/QErrorMessage.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextEdit.cpp
>    trunk/harbour/contrib/hbqt/qtgui/TQAbstractButton.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQAbstractItemDelegate.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQAbstractItemView.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQAbstractPrintDialog.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQAbstractProxyModel.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQAbstractScrollArea.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQAbstractSlider.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQAbstractSpinBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQAbstractTextDocumentLayout.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQAction.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQActionGroup.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQApplication.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQBitmap.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQBoxLayout.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQBrush.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQButtonGroup.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQCalendarWidget.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQCheckBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQClipboard.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQColor.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQColorDialog.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQComboBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQCommandLinkButton.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQCommonStyle.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQCompleter.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQConicalGradient.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQContextMenuEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQCursor.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDateEdit.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDateTimeEdit.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDesktopWidget.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDial.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDialog.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDirModel.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDockWidget.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDoubleSpinBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDragEnterEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDragLeaveEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDragMoveEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQDropEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQErrorMessage.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFileDialog.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFileIconProvider.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFileSystemModel.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFocusEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFocusFrame.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFont.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFontComboBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFontDatabase.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFontDialog.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFontInfo.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFontMetrics.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFontMetricsF.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFormLayout.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQFrame.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQGradient.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQGridLayout.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQGroupBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQHBoxLayout.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQHeaderView.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQHelpEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQIcon.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQImage.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQImageReader.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQImageWriter.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQInputContext.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQInputDialog.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQInputEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQInputMethodEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQItemSelection.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQItemSelectionModel.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQKeyEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQKeySequence.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQLCDNumber.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQLabel.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQLayout.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQLayoutItem.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQLineEdit.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQLinearGradient.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQListView.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQListWidget.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQListWidgetItem.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQMainWindow.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQMatrix.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQMenu.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQMenuBar.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQMessageBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQMouseEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQMoveEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQMovie.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPageSetupDialog.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPaintDevice.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPaintEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPainter.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPainterPath.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPalette.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPen.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPicture.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPixmap.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPlainTextEdit.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPolygon.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPolygonF.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPrintDialog.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPrintEngine.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPrintPreviewDialog.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPrinter.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQProgressBar.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQProgressDialog.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQPushButton.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQRadialGradient.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQRadioButton.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQRegion.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQResizeEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQScrollArea.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQScrollBar.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSessionManager.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSizeGrip.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSizePolicy.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSlider.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSound.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSpacerItem.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSpinBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSplashScreen.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSplitter.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStandardItem.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStandardItemModel.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStatusBar.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStringListModel.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyle.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleFactory.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturn.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturnMask.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturnVariant.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOption.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionButton.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionComboBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionComplex.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionDockWidget.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionFocusRect.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionFrame.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionGroupBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionHeader.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionMenuItem.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionProgressBar.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSizeGrip.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSlider.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSpinBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTab.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTabBarBase.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTabWidgetFrame.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTitleBar.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolBar.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolButton.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionViewItem.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStylePainter.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQStyledItemDelegate.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSyntaxHighlighter.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQSystemTrayIcon.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTabBar.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTabWidget.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTableView.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTableWidget.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTableWidgetItem.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTableWidgetSelectionRange.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextBlock.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextBlockFormat.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextBlockGroup.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextBrowser.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextCharFormat.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextCursor.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextDocument.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextDocumentFragment.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextDocumentWriter.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextEdit.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextFormat.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextFragment.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextFrame.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextFrameFormat.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextImageFormat.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextInlineObject.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextItem.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextLayout.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextLength.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextLine.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextListFormat.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextObject.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextOption.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTextTableFormat.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTimeEdit.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQToolBar.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQToolBox.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQToolButton.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTransform.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTreeView.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTreeWidget.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQTreeWidgetItem.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQVBoxLayout.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQValidator.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQWheelEvent.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQWidget.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQWidgetAction.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQWidgetItem.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQWindowsStyle.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQWizard.prg
>    trunk/harbour/contrib/hbqt/qtgui/TQWizardPage.prg
>    trunk/harbour/contrib/hbqt/qtnetwork/TQFtp.prg
>    trunk/harbour/contrib/hbqt/qtnetwork/TQHttp.prg
>    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpRequestHeader.prg
>    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpResponseHeader.prg
>    trunk/harbour/contrib/hbqt/qtnetwork/TQNetworkRequest.prg
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Dec 19 05:07:54 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 19 05:08:03 2009
Subject: [Harbour] Any commits/fixes pending?
Message-ID: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>

Hi All,

I'd like to ask everyone if there are any 
patches, commits or fixes pending? (besides 
hbqt related modules)

Brgds,
Viktor

From druzus at acn.waw.pl  Sat Dec 19 05:10:21 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Dec 19 05:10:29 2009
Subject: [Harbour] Re: Fixed close event in windows console GTWIN.
In-Reply-To: <4B2C3736.7090107@gmail.com>
References: <4B2A8860.40208@gmail.com>
	<52287722-5368-4861-9DCE-ACB49DB046E4@syenar.hu>
	<4B2A9831.4030107@gmail.com>
	<8E7C8297-2745-4FCB-AB76-CCC416A8C0C1@syenar.hu>
	<4B2B7650.2070100@gmail.com>
	<98BE6EAB-D3C0-443E-B4CA-014CA57A8A16@syenar.hu>
	<A46E1262-775A-414F-9D4F-2DAC80DA93C7@syenar.hu>
	<4B2C3736.7090107@gmail.com>
Message-ID: <20091219101021.GA17419@linux-4bod.home.aster.pl>

On Sat, 19 Dec 2009, Xavi wrote:

Hi,


> I have HB_SET_CANCEL = FALSE by default and MinGW compile with -mwindows
> Thanks to you and Przemek for your help.
> --- t2.prg
> REQUEST HB_GT_WIN_DEFAULT
> ANNOUNCE HB_GTSYS
> PROCEDURE Main()
>   SetCancel(.F.)
>   ? "Click [X] to close windows console "
>   while( LastKey() != 27 )
>      Inkey( 1 )
>   enddo
>   RETURN
> ---
> Use with MINGW 'hbmk2 t2.prg -gui' to build it.
> SetCalcel(.F.) don't is executed.

Now it's clear what is the problem and you even wrote about it
in gtwin.c attached to your 1-st message.
SetCalcel(.F.) has no effect because SetConsoleCtrlHandler()
is executed before AllocConsole().

> Is it right now?

No it isn't. AllocConsole() should be moved few lines down.
Thank you.

best regards,
Przemek
From pct_hbqt at hotmail.com  Sat Dec 19 05:13:55 2009
From: pct_hbqt at hotmail.com (PCToledo)
Date: Sat Dec 19 05:14:02 2009
Subject: [Harbour] Window Main X Window Modal X HBQT
In-Reply-To: <26847599.post@talk.nabble.com>
References: <26818868.post@talk.nabble.com> <4B2A75C8.8060602@uol.com.br>
	<26842663.post@talk.nabble.com> <4B2BAD31.6090109@uol.com.br>
	<26847599.post@talk.nabble.com>
Message-ID: <26853909.post@talk.nabble.com>


Marcos, updated the Harbour/SVN yesterday and everything worked. I think my
previous version of the Harbour was the problem.

Marcos and Pritpal Bedi, Thanks for your help!

Regards,
Toledo


PCToledo wrote:
> 
> Marcos, compiled his example with MSVC and MinGW, but show only the
> fields, the labels not.
> 
> Regards,
> Toledo
> 
> 
> Marcos Gambeta wrote:
>> 
>> PCToledo escreveu:
>>> But it has as define the size of the fields and the position of labels
>>> and
>>> fields?
>> 
>> Remove the widget QFormLayout and use <widget>:move(x,y). To define the 
>> length, use the method <widget>:setMaxLength(nLength).
>> 
>> See sample below:
>> 
>> [code]
>> STATIC FUNCTION PassWord()
>> Local oDialog
>> Local oLabelMessage
>> Local oLabelUser
>> Local oLineEditUser
>> Local oLabelPassword
>> Local oLineEditPassword
>> Local oButtonOk
>> Local r
>> 
>>     oDialog := QDialog():New()
>>     oDialog:setWindowTitle("Login")
>>     oDialog:resize(210,130)
>> 
>>     oLabelMessage := QLabel():New( QT_PTROF(oDialog) )
>>     oLabelMessage:setText("Enter your password...")
>>     oLabelMessage:move(10,10)
>> 
>>     oLabelUser := QLabel():New( QT_PTROF(oDialog) )
>>     oLabelUser:setText("User")
>>     oLabelUser:move(10,30)
>> 
>>     oLineEditUser := QLineEdit():New( QT_PTROF(oDialog) )
>>     oLineEditUser:setMaxLength(15)
>>     oLineEditUser:move(60,30)
>> 
>>     oLabelPassword := QLabel():New( QT_PTROF(oDialog) )
>>     oLabelPassword:setText("Password")
>>     oLabelPassword:move(10,60)
>> 
>>     oLineEditPassWord := QLineEdit():New( QT_PTROF(oDialog) )
>>     oLineEditPassWord:setEchoMode(2)
>>     oLineEditPassWord:setMaxLength(15)
>>     oLineEditPassword:move(60,60)
>> 
>>     oButtonOk := QPushButton():New(QT_PTROF( oDialog ))
>>     oButtonOk:setText("OK")
>>     oButtonOk:move(100,90)
>>     Qt_Connect_Signal( QT_PTROF(oButtonOk), "clicked()", 
>> {||IIF(oLineEditUser:text()=="user".and.oLineEditPassword:text()=="password",oDialog:done(1),oDialog:done(0)) 
>> })
>> 
>>     r := oDialog:exec()
>> 
>> Return IIF(r==1,.t.,.f.)
>> [/code]
>> 
>> 
>> -- 
>> Regards,
>> Marcos Antonio Gambeta
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>> 
> 
> 


-----
Toledo
http://www.pctoledo.com.br/forum http://www.pctoledo.com.br/forum 
-- 
View this message in context: http://old.nabble.com/Window-Main-X-Window-Modal-X-HBQT-tp26818868p26853909.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Sat Dec 19 05:22:39 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Dec 19 05:22:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13307] trunk/harbour
Message-ID: <E1NLwSN-000118-Lm@dn4whf1.ch3.sourceforge.com>

Revision: 13307
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13307&view=rev
Author:   druzus
Date:     2009-12-19 10:22:38 +0000 (Sat, 19 Dec 2009)

Log Message:
-----------
2009-12-19 11:22 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/gtwin/gtwin.c
    ! applied Xavi's patch fixing CTRL+C error handler setting in newly
      allocated consoles

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/gtwin/gtwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Dec 19 05:25:01 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 19 05:25:09 2009
Subject: [Harbour] QT_PTROF() / QT_PTROFXBP()
Message-ID: <C526E12A-6ABE-44CB-8A94-8D4C89180D4E@syenar.hu>

Hi Pritpal,

I'd like to ask/suggest two things:

1) QT_PTROF() is still used in these places:

xbpbrowse.prg:517:   ::connect( QT_PTROF( ::oLeftView )      , "mousePressEvent()"  , {|o,p| ::exeBlock( 31, p, o ) } )
xbpbrowse.prg:518:   ::connect( QT_PTROF( ::oLeftHeaderView ), "sectionPressed(int)", {|o,i| ::exeBlock( 31, i, o ) } )
xbpbrowse.prg:519:   ::connect( QT_PTROF( ::oLeftFooterView ), "sectionPressed(int)", {|o,i| ::exeBlock( 31, i, o ) } )
xbpbrowse.prg:563:   ::connect( QT_PTROF( ::oRightView )      , "mousePressEvent()"  , {|o,p| ::exeBlock( 31, p, o ) } )
xbpbrowse.prg:564:   ::connect( QT_PTROF( ::oRightHeaderView ), "sectionPressed(int)", {|o,i| ::exeBlock( 31, i, o ) } )
xbpbrowse.prg:565:   ::connect( QT_PTROF( ::oRightFooterView ), "sectionPressed(int)", {|o,i| ::exeBlock( 31, i, o ) } )
xbpbrowse.prg:592:   ::connect( QT_PTROF( ::oTableView ), "keyPressEvent()"           , {|o,p   | ::exeBlock( 1, p, o ) } )
xbpbrowse.prg:593:   ::connect( QT_PTROF( ::oTableView ), "mousePressEvent()"         , {|o,p   | ::exeBlock( 2, p, o ) } )
xbpbrowse.prg:594:   ::connect( QT_PTROF( ::oTableView ), "mouseDoubleClickEvent()"   , {|o,p   | ::exeBlock( 3, p, o ) } )
xbpbrowse.prg:595:   ::connect( QT_PTROF( ::oTableView ), "wheelEvent()"              , {|o,p   | ::exeBlock( 4, p, o ) } )
xbpbrowse.prg:596:   ::connect( QT_PTROF( ::oTableView ), "scrollContentsBy(int,int)" , {|o,p,p1| ::exeBlock(11, p, p1, o ) } )
xbpbrowse.prg:603:   ::connect( QT_PTROF( ::oHScrollBar ), "actionTriggered(int)"     , {|o,i| ::exeBlock( 103, i, o ) } )
xbpbrowse.prg:604:   ::connect( QT_PTROF( ::oHScrollBar ), "sliderReleased()"         , {|o,i| ::exeBlock( 104, i, o ) } )
xbpbrowse.prg:611:   ::connect( QT_PTROF( ::oVScrollBar ), "actionTriggered(int)"     , {|o,i| ::exeBlock( 101, i, o ) } )
xbpbrowse.prg:612:   ::connect( QT_PTROF( ::oVScrollBar ), "sliderReleased()"         , {|o,i| ::exeBlock( 102, i, o ) } )
xbpbrowse.prg:624:   ::connect( QT_PTROF( ::oHeaderView ), "sectionPressed(int)"        , {|o,i      | ::exeBlock( 111, i, o ) } )
xbpbrowse.prg:625:   ::connect( QT_PTROF( ::oHeaderView ), "sectionResized(int,int,int)", {|o,i,i1,i2| ::exeBlock( 121, i, i1, i2, o ) } )
xbprtf.prg:487:         oBrush := QBrush():new( "QColor", QT_PTROF( oColor ) )
xbpwindow.prg:262:   ACCESS   pWidget                               INLINE  IF( empty( ::oWidget ), NIL, QT_PTROF( ::oWidget ) )
xbpwindow.prg:263:   ACCESS   pParent                               INLINE  IF( empty( ::oParent ), NIL, QT_PTROF( ::oParent:oWidget ) )

Are these all required?

2) QT_PTROFXBP() now has a double purpose, so it would 
   seem cleaner to change such code:

   ::oWidget:addWidget( QT_PTROFXBP( oPanel ) )

to either:

   ::oWidget:addWidget( oPanel:oWidget )

or, if :pPtr is really required, to:

   ::oWidget:addWidget( QT_PTROF( oPanel:oWidget ) )

After this it would be possible to simply drop QT_PTROFXBP(), 
and use QT_PTROF(), which would seem much cleaner.

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Sat Dec 19 05:38:35 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Dec 19 05:38:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13308] trunk/harbour
Message-ID: <E1NLwhn-0001Ir-Od@bj8yhf1.ch3.sourceforge.com>

Revision: 13308
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13308&view=rev
Author:   vouchcac
Date:     2009-12-19 10:38:34 +0000 (Sat, 19 Dec 2009)

Log Message:
-----------
2009-12-19 02:30 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  * contrib/hbxbp/xbpqtuiloader.prg
    ! Implemented signal/slot mechanism.
      A working usage is the "Find/Replace" dialog is now 
      entirely based on XbpQtUiLoader() class. "Project Properties"
      dialogs skeleton is also in place and is working, just a little more
      required to make it completely functional.

      XbpQtUiLoader() class appears to be heading towards an
      excellent tool and will eliminate to have a native Form Designer.
      Simply design a complex widget in Qt's powerful Qt Creater
      and exploit is with this class in the application.
      I have a lot many ideas to cook, your suggestions are welcome.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbxbp/xbpqtuiloader.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Sat Dec 19 06:15:42 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Dec 19 06:15:53 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
Message-ID: <9257026e0912190315y2ebc9571j2ce180d121755de1@mail.gmail.com>

On Sat, Dec 19, 2009 at 11:07 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> I'd like to ask everyone if there are any
> patches, commits or fixes pending? (besides
> hbqt related modules)

I think /opt should be removed from HB_SYSLOC logic in global.mk
/opt is not a system dir

best regards,
Lorenzo
From druzus at acn.waw.pl  Sat Dec 19 06:33:19 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Dec 19 06:33:26 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
Message-ID: <20091219113319.GA18476@linux-4bod.home.aster.pl>

On Sat, 19 Dec 2009, Szak?ts Viktor wrote:

Hi All,

> I'd like to ask everyone if there are any 
> patches, commits or fixes pending? (besides 
> hbqt related modules)

1. I'm making some experiments with DXE support in DJGPP builds.
   DXE is sth like DLL for DJGPP. Tomorrow I should finish it.

2. I'll commit ASAP some modifications for DOS DJGPP and OpenWatcom
   builds which will enable or disable default DLL support for them
   depending on results of my current tests. If I do not find enough
   time to finish them then I'll simply disable DLLs in DOS builds
   as temporary solution.

3. I will want to commit modifications for .prg HB_TRACE() interface
   ASAP. If possible I'll commit it tomorrow.

4. The name of Greek CP modules should be fixed,
   Now we have EL* and GR* files and CP names.
   We should use only one prefix.

5. I think that it's time to finally switch to HB_STATIC_STARTUP in
   all C++ builds also for MSC and G++. BTW can someone check if it's
   possible to mix .prg code compiled by MSVC in C and C++ modes without
   any problems? Please add INIT PROCEDUREs to such module to check if
   all are registered and executed. The order is less important but it
   will be good to know if C and C++ modules use the same priority.

6. I'm also working on small Christmas gift but I do not know
   if I find enough spare time to finish it so it's less important.

best regards,
Przemek
From ice at extreme.hu  Sat Dec 19 06:36:28 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sat Dec 19 06:36:36 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
Message-ID: <alpine.DEB.2.00.0912191228500.27623@dawn.royalcomp.hu>

On Sat, 19 Dec 2009, Viktor Szak?ts wrote:

hi,

 > I'd like to ask everyone if there are any 
 > patches, commits or fixes pending? (besides 
 > hbqt related modules)

this should worth a yes/no/after release:

Message-ID: <alpine.DEB.2.00.0912160438580.27623@dawn.royalcomp.hu>

or alternatively

http://old.nabble.com/g%2B%2B2.95-g%2B%2B3.3-bad-build-td26806223.html

considering that currently all g++ <v4 builds are broken, the 
answer should be a "yes", though :) (gcc 2.95 is omnipresent on 
less-than-mainstream-but-still-important platforms, so compatibility 
with that should be a quite high priority.)

-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Sat Dec 19 06:43:18 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Dec 19 06:43:29 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <9257026e0912190315y2ebc9571j2ce180d121755de1@mail.gmail.com>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
	<9257026e0912190315y2ebc9571j2ce180d121755de1@mail.gmail.com>
Message-ID: <33D9ED6A-30A1-4B44-AFB5-2F1D80B20698@syenar.hu>

On 2009 Dec 19, at 12:15, Lorenzo Fiorini wrote:

> On Sat, Dec 19, 2009 at 11:07 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> 
>> I'd like to ask everyone if there are any
>> patches, commits or fixes pending? (besides
>> hbqt related modules)
> 
> I think /opt should be removed from HB_SYSLOC logic in global.mk
> /opt is not a system dir

It's fine with me and the modification is an easy one 
(and should also be done in hbmk2.prg), but before I 
do it, can other *nix experts give a short opinion or 
confirmation?

To me /opt looks like a grey area.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Dec 19 06:47:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec 19 06:47:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13309] trunk/harbour
Message-ID: <E1NLxmm-0002hw-RT@bj8yhf1.ch3.sourceforge.com>

Revision: 13309
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13309&view=rev
Author:   vszakats
Date:     2009-12-19 11:47:47 +0000 (Sat, 19 Dec 2009)

Log Message:
-----------
2009-12-19 12:46 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * src/codepage/Makefile
  + src/codepage/cpel437.c
  - src/codepage/cpgr437.c
  * include/hbextcdp.ch
    * Renamed GR437 codepage to EL437. EL is the ISO language code for Greek.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbextcdp.ch
    trunk/harbour/src/codepage/Makefile

Added Paths:
-----------
    trunk/harbour/src/codepage/cpel437.c

Removed Paths:
-------------
    trunk/harbour/src/codepage/cpgr437.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Dec 19 06:57:55 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 19 06:58:03 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <alpine.DEB.2.00.0912191228500.27623@dawn.royalcomp.hu>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
	<alpine.DEB.2.00.0912191228500.27623@dawn.royalcomp.hu>
Message-ID: <F583AEEC-2468-4498-841C-5CA9DF431F1B@syenar.hu>

>> I'd like to ask everyone if there are any 
>> patches, commits or fixes pending? (besides 
>> hbqt related modules)
> 
> this should worth a yes/no/after release:
> 
> Message-ID: <alpine.DEB.2.00.0912160438580.27623@dawn.royalcomp.hu>
> 
> or alternatively
> 
> http://old.nabble.com/g%2B%2B2.95-g%2B%2B3.3-bad-build-td26806223.html
> 
> considering that currently all g++ <v4 builds are broken, the 
> answer should be a "yes", though :) (gcc 2.95 is omnipresent on 
> less-than-mainstream-but-still-important platforms, so compatibility 
> with that should be a quite high priority.)

Probably yes, especially since lot of ppl still use 3.4.x 
even on Windows, although it's only a real problem if someone 
is using 3.4.x with QT 4.5.x, even then it's currently not 
fatal as HBQT uses an empty init/exit routine ATM.

I don't know though how grave the problem is, so, if it's 
not an easy fix, I think can live with that issue until next 
release, when we can also add support for those rarer 
platforms to make system.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Sat Dec 19 07:02:06 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Dec 19 07:02:14 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <33D9ED6A-30A1-4B44-AFB5-2F1D80B20698@syenar.hu>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
	<9257026e0912190315y2ebc9571j2ce180d121755de1@mail.gmail.com>
	<33D9ED6A-30A1-4B44-AFB5-2F1D80B20698@syenar.hu>
Message-ID: <9257026e0912190402r6bee079ra8e6bab7f51da212@mail.gmail.com>

On Sat, Dec 19, 2009 at 12:43 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> It's fine with me and the modification is an easy one
> (and should also be done in hbmk2.prg), but before I
> do it, can other *nix experts give a short opinion or
> confirmation?
>
> To me /opt looks like a grey area.

/opt : Add-on application software packages
Purpose

/opt is reserved for the installation of add-on application software packages.

A package to be installed in /opt must locate its static files in a
separate /opt/<package> or /opt/<provider> directory tree, where
<package> is a name that describes the software package and <provider>
is the provider's LANANA registered name.

on the net you'll find many references to /opt/java or /opt/oracle...
it's always been the place to put what is not managed by the packaging
system.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sat Dec 19 07:19:47 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Dec 19 07:19:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13295] trunk/harbour
In-Reply-To: <352764.53139.qm@web33705.mail.mud.yahoo.com>
References: <352764.53139.qm@web33705.mail.mud.yahoo.com>
Message-ID: <BC563D6D-F7CC-47C8-B327-790F60EFD8F4@syenar.hu>

Thank you Toninho.

Brgds,
Viktor

On 2009 Dec 18, at 17:15, Antonio Carlos wrote:

> Hi Viktor.
> 
> Now is working fine.
> 
> Thank you.
> 
> 
> Toninho.
> 
> 
> --- Em sex, 18/12/09, vszakats@users.sourceforge.net <vszakats@users.sourceforge.net> escreveu:
> 
>> De: vszakats@users.sourceforge.net <vszakats@users.sourceforge.net>
>> Assunto: [Harbour] SF.net SVN: harbour-project:[13295] trunk/harbour
>> Para: harbour@harbour-project.org
>> Data: Sexta-feira, 18 de Dezembro de 2009, 9:43
>> Revision: 13295
>>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13295&view=rev
>> Author:   vszakats
>> Date:     2009-12-18 11:43:54 +0000
>> (Fri, 18 Dec 2009)
>> 
>> Log Message:
>> -----------
>> 2009-12-18 12:43 UTC+0200 Viktor Szakats (harbour.01
>> syenar.hu)
>>   * contrib/hbwin/mapi.c
>>     ! Fixed typo in r13235 patch. This could have
>> caused memory 
>>       corruption and MAPI errors.
>>     ; Please retest.
>> 
>> Modified Paths:
>> --------------
>>     trunk/harbour/ChangeLog
>>     trunk/harbour/contrib/hbwin/mapi.c
>> 
>> 
>> This was sent by the SourceForge.net collaborative
>> development platform, the world's largest Open Source
>> development site.
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
> 
> 
>      ____________________________________________________________________________________
> Veja quais s?o os assuntos do momento no Yahoo! +Buscados
> http://br.maisbuscados.yahoo.com
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sat Dec 19 07:34:46 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec 19 07:34:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13310] trunk/harbour
Message-ID: <E1NLyWE-0003cw-5t@bj8yhf1.ch3.sourceforge.com>

Revision: 13310
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13310&view=rev
Author:   vszakats
Date:     2009-12-19 12:34:45 +0000 (Sat, 19 Dec 2009)

Log Message:
-----------
2009-12-19 13:34 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/sha2.c
    ! Added trick to make it compile with Pelles C 6.00.6.
      Without this trick Pelles C compiler exits with internal error.

  * doc/whatsnew.txt
    + Added NOTE about Pelles C 6.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/whatsnew.txt
    trunk/harbour/src/rtl/sha2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Sat Dec 19 07:39:26 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sat Dec 19 07:39:34 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <F583AEEC-2468-4498-841C-5CA9DF431F1B@syenar.hu>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
	<alpine.DEB.2.00.0912191228500.27623@dawn.royalcomp.hu>
	<F583AEEC-2468-4498-841C-5CA9DF431F1B@syenar.hu>
Message-ID: <alpine.DEB.2.00.0912191336430.27623@dawn.royalcomp.hu>

On Sat, 19 Dec 2009, Viktor Szak?ts wrote:

 > > considering that currently all g++ <v4 builds are broken, the 
 > > answer should be a "yes", though :) (gcc 2.95 is omnipresent on 
 > > less-than-mainstream-but-still-important platforms, so compatibility 
 > > with that should be a quite high priority.)
 > 
 > Probably yes, especially since lot of ppl still use 3.4.x 
 > even on Windows, although it's only a real problem if someone 
 > is using 3.4.x with QT 4.5.x, even then it's currently not 
 > fatal as HBQT uses an empty init/exit routine ATM.
 > 
 > I don't know though how grave the problem is, so, if it's 
 > not an easy fix, I think can live with that issue until next 

it's an easy one (switch g++ to static startup), in fact przemek has 
just included this in his list 3 minutes before i sent my mail, so i 
consider this taken are of


-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Sat Dec 19 07:46:13 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 19 07:46:22 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <20091219113319.GA18476@linux-4bod.home.aster.pl>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
	<20091219113319.GA18476@linux-4bod.home.aster.pl>
Message-ID: <636E4993-44F0-4C2F-90E5-E18D320B0968@syenar.hu>

Hi,

On 2009 Dec 19, at 12:33, Przemys?aw Czerpak wrote:

> On Sat, 19 Dec 2009, Szak?ts Viktor wrote:
> 
> Hi All,
> 
>> I'd like to ask everyone if there are any 
>> patches, commits or fixes pending? (besides 
>> hbqt related modules)
> 
> 1. I'm making some experiments with DXE support in DJGPP builds.
>   DXE is sth like DLL for DJGPP. Tomorrow I should finish it.
> 
> 2. I'll commit ASAP some modifications for DOS DJGPP and OpenWatcom
>   builds which will enable or disable default DLL support for them
>   depending on results of my current tests. If I do not find enough
>   time to finish them then I'll simply disable DLLs in DOS builds
>   as temporary solution.
> 
> 3. I will want to commit modifications for .prg HB_TRACE() interface
>   ASAP. If possible I'll commit it tomorrow.
> 
> 4. The name of Greek CP modules should be fixed,
>   Now we have EL* and GR* files and CP names.
>   We should use only one prefix.
> 
> 5. I think that it's time to finally switch to HB_STATIC_STARTUP in
>   all C++ builds also for MSC and G++. BTW can someone check if it's
>   possible to mix .prg code compiled by MSVC in C and C++ modes without
>   any problems? Please add INIT PROCEDUREs to such module to check if
>   all are registered and executed. The order is less important but it
>   will be good to know if C and C++ modules use the same priority.

I can make some tests. How to enable this mode?

I made a test for mixing C++ and C code, and it worked without 
problem with current build. C INIT/EXIT was executed first.

> 6. I'm also working on small Christmas gift but I do not know
>   if I find enough spare time to finish it so it's less important.

Great, we can wait a few days I guess for these pending tasks.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Dec 19 07:47:03 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec 19 07:47:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13311] trunk/harbour
Message-ID: <E1NLyi7-0003sM-M8@bj8yhf1.ch3.sourceforge.com>

Revision: 13311
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13311&view=rev
Author:   vszakats
Date:     2009-12-19 12:47:02 +0000 (Sat, 19 Dec 2009)

Log Message:
-----------
2009-12-19 13:45 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
  * config/global.mk
    ! Not considering /opt and /opt/harbour as "system location" for
      Harbour, following Lorenzo's advice.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From april_white at sympatico.ca  Sat Dec 19 08:18:17 2009
From: april_white at sympatico.ca (April White)
Date: Sat Dec 19 08:18:25 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
Message-ID: <SNT109-W3482387DDBCA81A2382EE3EF840@phx.gbl>

(I've not read any other posts in this thread)

I want to commit my btree fix to see if it clears the 64-bit warning.  

> From: harbour.01@syenar.hu
> Date: Sat, 19 Dec 2009 11:07:54 +0100
> To: harbour@harbour-project.org
> Subject: [Harbour] Any commits/fixes pending?
> 
> Hi All,
> 
> I'd like to ask everyone if there are any 
> patches, commits or fixes pending? (besides 
> hbqt related modules)
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091219/50eaacf0/attachment.html
From april at users.sourceforge.net  Sat Dec 19 10:32:25 2009
From: april at users.sourceforge.net (april@users.sourceforge.net)
Date: Sat Dec 19 10:32:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13312] trunk/harbour
Message-ID: <E1NM1I9-0003R3-AC@d5vjzd1.ch3.sourceforge.com>

Revision: 13312
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13312&view=rev
Author:   april
Date:     2009-12-19 15:32:24 +0000 (Sat, 19 Dec 2009)

Log Message:
-----------
2009-12-19 15:18 UTC+0500 April White (april users.sourceforge.net)
  * contrib/hbbtree/hb_btree.c
    * add a union field to encapsulate a var and a pointer, to
      pacify 64-compiler warning
    * removed unnecessary casts (I hope)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbtree/hb_btree.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Sat Dec 19 10:53:08 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Dec 19 10:53:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13313] trunk/harbour
Message-ID: <E1NM1cC-0002w6-6q@c3vjzd1.ch3.sourceforge.com>

Revision: 13313
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13313&view=rev
Author:   druzus
Date:     2009-12-19 15:53:07 +0000 (Sat, 19 Dec 2009)

Log Message:
-----------
2009-12-19 16:52 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/thread.c
    * added hb_threadOnceInit() to .prg function list

  * harbour/include/hbinit.h
    * use HB_STATIC_STARTUP as default initialization method of all
      C++ compilers

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbinit.h
    trunk/harbour/src/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Dec 19 11:36:07 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Dec 19 11:36:15 2009
Subject: [Harbour] QT_PTROF() / QT_PTROFXBP()
In-Reply-To: <C526E12A-6ABE-44CB-8A94-8D4C89180D4E@syenar.hu>
References: <C526E12A-6ABE-44CB-8A94-8D4C89180D4E@syenar.hu>
Message-ID: <26856490.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> I'd like to ask/suggest two things:
> 
> 1) QT_PTROF() is still used in these places:
> 
> xbpbrowse.prg:517:   ::connect( QT_PTROF( ::oLeftView )      ,
> "mousePressEvent()"  , {|o,p| ::exeBlock( 31, p, o ) } )
> xbpbrowse.prg:518:   ::connect( QT_PTROF( ::oLeftHeaderView ),
> "sectionPressed(int)", {|o,i| ::exeBlock( 31, i, o ) } )
> xbpbrowse.prg:519:   ::connect( QT_PTROF( ::oLeftFooterView ),
> "sectionPressed(int)", {|o,i| ::exeBlock( 31, i, o ) } )
> xbpbrowse.prg:563:   ::connect( QT_PTROF( ::oRightView )      ,
> "mousePressEvent()"  , {|o,p| ::exeBlock( 31, p, o ) } )
> xbpbrowse.prg:564:   ::connect( QT_PTROF( ::oRightHeaderView ),
> "sectionPressed(int)", {|o,i| ::exeBlock( 31, i, o ) } )
> xbpbrowse.prg:565:   ::connect( QT_PTROF( ::oRightFooterView ),
> "sectionPressed(int)", {|o,i| ::exeBlock( 31, i, o ) } )
> xbpbrowse.prg:592:   ::connect( QT_PTROF( ::oTableView ),
> "keyPressEvent()"           , {|o,p   | ::exeBlock( 1, p, o ) } )
> xbpbrowse.prg:593:   ::connect( QT_PTROF( ::oTableView ),
> "mousePressEvent()"         , {|o,p   | ::exeBlock( 2, p, o ) } )
> xbpbrowse.prg:594:   ::connect( QT_PTROF( ::oTableView ),
> "mouseDoubleClickEvent()"   , {|o,p   | ::exeBlock( 3, p, o ) } )
> xbpbrowse.prg:595:   ::connect( QT_PTROF( ::oTableView ), "wheelEvent()"             
> , {|o,p   | ::exeBlock( 4, p, o ) } )
> xbpbrowse.prg:596:   ::connect( QT_PTROF( ::oTableView ),
> "scrollContentsBy(int,int)" , {|o,p,p1| ::exeBlock(11, p, p1, o ) } )
> xbpbrowse.prg:603:   ::connect( QT_PTROF( ::oHScrollBar ),
> "actionTriggered(int)"     , {|o,i| ::exeBlock( 103, i, o ) } )
> xbpbrowse.prg:604:   ::connect( QT_PTROF( ::oHScrollBar ),
> "sliderReleased()"         , {|o,i| ::exeBlock( 104, i, o ) } )
> xbpbrowse.prg:611:   ::connect( QT_PTROF( ::oVScrollBar ),
> "actionTriggered(int)"     , {|o,i| ::exeBlock( 101, i, o ) } )
> xbpbrowse.prg:612:   ::connect( QT_PTROF( ::oVScrollBar ),
> "sliderReleased()"         , {|o,i| ::exeBlock( 102, i, o ) } )
> xbpbrowse.prg:624:   ::connect( QT_PTROF( ::oHeaderView ),
> "sectionPressed(int)"        , {|o,i      | ::exeBlock( 111, i, o ) } )
> xbpbrowse.prg:625:   ::connect( QT_PTROF( ::oHeaderView ),
> "sectionResized(int,int,int)", {|o,i,i1,i2| ::exeBlock( 121, i, i1, i2, o
> ) } )
> xbprtf.prg:487:         oBrush := QBrush():new( "QColor", QT_PTROF( oColor
> ) )
> xbpwindow.prg:262:   ACCESS   pWidget                               INLINE 
> IF( empty( ::oWidget ), NIL, QT_PTROF( ::oWidget ) )
> xbpwindow.prg:263:   ACCESS   pParent                               INLINE 
> IF( empty( ::oParent ), NIL, QT_PTROF( ::oParent:oWidget ) )
> 
> Are these all required?
> 
> 2) QT_PTROFXBP() now has a double purpose, so it would 
>    seem cleaner to change such code:
> 
>    ::oWidget:addWidget( QT_PTROFXBP( oPanel ) )
> 
> to either:
> 
>    ::oWidget:addWidget( oPanel:oWidget )
> 
> or, if :pPtr is really required, to:
> 
>    ::oWidget:addWidget( QT_PTROF( oPanel:oWidget ) )
> 
> After this it would be possible to simply drop QT_PTROFXBP(), 
> and use QT_PTROF(), which would seem much cleaner.
> 

Let me review the whole concept.
Will come back shortly.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/QT_PTROF%28%29---QT_PTROFXBP%28%29-tp26854048p26856490.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vouchcac at users.sourceforge.net  Sat Dec 19 11:56:50 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Dec 19 11:56:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13314] trunk/harbour
Message-ID: <E1NM2bq-0004J6-VI@dn4whf1.ch3.sourceforge.com>

Revision: 13314
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13314&view=rev
Author:   vouchcac
Date:     2009-12-19 16:56:49 +0000 (Sat, 19 Dec 2009)

Log Message:
-----------
2009-12-19 08:15 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbpbrowse.prg
  * contrib/hbxbp/xbprtf.prg
  * contrib/hbxbp/xbpwindow.prg
    ! Removed all QT_PTROF() macro calls.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbprtf.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Dec 19 12:17:30 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Dec 19 12:17:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13315] trunk/harbour
Message-ID: <E1NM2vq-0005BG-Lp@dn4whf1.ch3.sourceforge.com>

Revision: 13315
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13315&view=rev
Author:   vouchcac
Date:     2009-12-19 17:17:29 +0000 (Sat, 19 Dec 2009)

Log Message:
-----------
2009-12-19 09:14 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  * contrib/hbxbp/xbpqtuiloader.prg
  * contrib/hbxbp/xbpstatusbar.prg
    ! Removed QT_PTROF() and QT_PTROFXBP() macro calls entirely.
      We can delete these macros alltogether.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbxbp/xbpqtuiloader.prg
    trunk/harbour/contrib/hbxbp/xbpstatusbar.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Dec 19 12:26:12 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Dec 19 12:26:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13316] trunk/harbour
Message-ID: <E1NM34G-0005YD-SC@dn4whf1.ch3.sourceforge.com>

Revision: 13316
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13316&view=rev
Author:   vouchcac
Date:     2009-12-19 17:26:11 +0000 (Sat, 19 Dec 2009)

Log Message:
-----------

2009-12-19 09:23 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbp.ch
    ! Removed QT_PTROFXBP() macro.
      I have retained QT_PTROF() macro because a lot of you
      must still be using it in your code. It is sceduled to be 
      removed after this release.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/xbp.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Sat Dec 19 13:22:39 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Dec 19 13:22:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13311] trunk/harbour
In-Reply-To: <E1NLyi7-0003sM-M8@bj8yhf1.ch3.sourceforge.com>
References: <E1NLyi7-0003sM-M8@bj8yhf1.ch3.sourceforge.com>
Message-ID: <9257026e0912191022i7f013f89mb3750a08337a2c62@mail.gmail.com>

On Sat, Dec 19, 2009 at 1:47 PM,  <vszakats@users.sourceforge.net> wrote:

> ?* utils/hbmk2/hbmk2.prg
> ?* config/global.mk
> ? ?! Not considering /opt and /opt/harbour as "system location" for
> ? ? ?Harbour, following Lorenzo's advice.

Many thanks, I've done a clean make install setting
HB_INSTALL_PREFIX=/opt/harbour ( I'm using msys ) and I've found the
libs in /opt/harbour/lib/win/mingw is it expected?

If yes, is there a way to have a plain /opt/harbour/{bin,include,lib}

best regards,
Lorenzo
From myorg63 at mail.ru  Sat Dec 19 13:52:54 2009
From: myorg63 at mail.ru (Petr Chornyj)
Date: Sat Dec 19 13:53:00 2009
Subject: [Harbour] Typo's in hbwapi.h
Message-ID: <26857599.post@talk.nabble.com>



#define wapi_ret_UINT( n )            ( hb_parni( n ) ) ?
#define wapi_ret_LONG( n )            ( hb_parnl( n ) ) ?
#define wapi_ret_WORD( n )            ( hb_parnl( n ) ) ?
#define wapi_ret_DWORD( n )           ( hb_parnl( n ) ) ?

Regards,
Petr

-- 
View this message in context: http://old.nabble.com/Typo%27s-in-hbwapi.h-tp26857599p26857599.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Dec 19 15:13:14 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 19 15:13:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13316] trunk/harbour
In-Reply-To: <E1NM34G-0005YD-SC@dn4whf1.ch3.sourceforge.com>
References: <E1NM34G-0005YD-SC@dn4whf1.ch3.sourceforge.com>
Message-ID: <B70A3D29-7A0B-4CCA-A45A-F9A5B3C423B5@syenar.hu>

Hi Pritpal,

On 2009 Dec 19, at 18:26, vouchcac@users.sourceforge.net wrote:

> Revision: 13316
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13316&view=rev
> Author:   vouchcac
> Date:     2009-12-19 17:26:11 +0000 (Sat, 19 Dec 2009)
> 
> Log Message:
> -----------
> 
> 2009-12-19 09:23 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbxbp/xbp.ch
>    ! Removed QT_PTROFXBP() macro.
>      I have retained QT_PTROF() macro because a lot of you
>      must still be using it in your code. It is sceduled to be 
>      removed after this release.

Thank you very much.

Perhaps to emphasis that this macro is now not needed, we 
should change this:
  #define QT_PTROF( oObj )                          ( oObj:pPtr )
to this:
  #define QT_PTROF( oObj )                          ( oObj )

Thus converting it to a simply dummy macro for compatibility.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Dec 19 15:21:56 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Dec 19 15:22:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13311] trunk/harbour
In-Reply-To: <9257026e0912191022i7f013f89mb3750a08337a2c62@mail.gmail.com>
References: <E1NLyi7-0003sM-M8@bj8yhf1.ch3.sourceforge.com>
	<9257026e0912191022i7f013f89mb3750a08337a2c62@mail.gmail.com>
Message-ID: <DF4B4D8A-3A6D-4C6C-B6F6-5CCFEAF75765@syenar.hu>

> On Sat, Dec 19, 2009 at 1:47 PM,  <vszakats@users.sourceforge.net> wrote:
> 
>>  * utils/hbmk2/hbmk2.prg
>>  * config/global.mk
>>    ! Not considering /opt and /opt/harbour as "system location" for
>>      Harbour, following Lorenzo's advice.
> 
> Many thanks, I've done a clean make install setting
> HB_INSTALL_PREFIX=/opt/harbour ( I'm using msys ) and I've found the
> libs in /opt/harbour/lib/win/mingw is it expected?

Yes, if it's not system location, the libs are arranged like 
that, just like they would be in /home/me/apps/harbour.

> If yes, is there a way to have a plain /opt/harbour/{bin,include,lib}

You can force any dirs by using HB_*_INSTALL envvars.

If this behavior is bothering, I'd suggest to revert this 
change, since for proper fix of above, there needs to be 
done lots of changes, and as I said we plan to make these 
after the release along with a lot of other cleanups in 
this field. This will require a lot of testing on all 
platforms.

Anyway the file layout guide doesn't seem to suggest any 
special dir layout requirement under /opt/<app>, so current 
behavior _may_ be just fine. hbmk2 should also handle it 
fine (though I didn't test specifically these cases).

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Dec 19 15:25:13 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 19 15:25:53 2009
Subject: [Harbour] Typo's in hbwapi.h
In-Reply-To: <26857599.post@talk.nabble.com>
References: <26857599.post@talk.nabble.com>
Message-ID: <3F7B6F04-3A2D-4AE6-971B-A24F02E74A85@syenar.hu>

Hi Petr,

> #define wapi_ret_UINT( n )            ( hb_parni( n ) ) ?
> #define wapi_ret_LONG( n )            ( hb_parnl( n ) ) ?
> #define wapi_ret_WORD( n )            ( hb_parnl( n ) ) ?
> #define wapi_ret_DWORD( n )           ( hb_parnl( n ) ) ?

They look correct to me on SVN. What would this change fix?

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Sat Dec 19 15:30:56 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Dec 19 15:31:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13311] trunk/harbour
In-Reply-To: <DF4B4D8A-3A6D-4C6C-B6F6-5CCFEAF75765@syenar.hu>
References: <E1NLyi7-0003sM-M8@bj8yhf1.ch3.sourceforge.com>
	<9257026e0912191022i7f013f89mb3750a08337a2c62@mail.gmail.com>
	<DF4B4D8A-3A6D-4C6C-B6F6-5CCFEAF75765@syenar.hu>
Message-ID: <9257026e0912191230m64822726w70e9f4f8b5af0a44@mail.gmail.com>

On Sat, Dec 19, 2009 at 9:21 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> You can force any dirs by using HB_*_INSTALL envvars.

Thanks, that's fine for me.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sat Dec 19 15:33:24 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 19 15:33:37 2009
Subject: [Harbour] WinCE build bug
Message-ID: <99B801F5-B3F6-4589-8146-9434FED231D8@syenar.hu>

Hi All,

I'm getting this trying to build Harbour for WinCE 
(both mingwarm and poccarm):

---
pocc.exe   -I. -I../../../../../include -Ze -Go -W1 -Ot -Tarm-coff -D_M_ARM -D_WINCE -DUNICODE   -Fohbgete.obj -c ../../../hbgete.c
../../../hbgete.c(76): warning #2027: Missing prototype for 'GetEnvironmentVariable'.
../../../hbgete.c(141): warning #2027: Missing prototype for 'GetEnvironmentVariable'.
pocc.exe   -I. -I../../../../../include -Ze -Go -W1 -Ot -Tarm-coff -D_M_ARM -D_WINCE -DUNICODE   -Fohbgete_dyn.obj -DHB_DYNLIB -c ../../../hbgete.c
../../../hbgete.c(76): warning #2027: Missing prototype for 'GetEnvironmentVariable'.
../../../hbgete.c(141): warning #2027: Missing prototype for 'GetEnvironmentVariable'.
[...]
polink.exe  -subsystem:windows -libpath:../../../../../lib/wce/poccarm   -out:..\..\..\..\..\bin\wce\poccarm\hbpp.exe hbpp.obj hbnortl.lib hbcommon.lib coredll.lib ws2.lib corelibc.lib
POLINK: error: Unresolved external symbol 'GetEnvironmentVariable'.
POLINK: fatal error: 1 unresolved external(s).
---

Can someone help with the proper fix, I'm unsure how to do 
it the best way. GetEnvironmentVariableW() is available on 
WinCE, but even this seems to be missing from headers.

Brgds,
Viktor

From mbelgrano at deltain.it  Sat Dec 19 15:35:54 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Dec 19 15:36:24 2009
Subject: [Harbour] Wich harbour for Ubuntu 9.10
Message-ID: <609353e70912191235t1463d2d1i1a3815e9b99abad4@mail.gmail.com>

How can i get harbour (with qt) for ubuntu 9.10?

-- 
Massimo Belgrano
From mbelgrano at deltain.it  Sat Dec 19 15:58:09 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Dec 19 15:58:37 2009
Subject: [Harbour] Re: Wich harbour for Ubuntu 9.10
In-Reply-To: <609353e70912191235t1463d2d1i1a3815e9b99abad4@mail.gmail.com>
References: <609353e70912191235t1463d2d1i1a3815e9b99abad4@mail.gmail.com>
Message-ID: <609353e70912191258g2271cd05n24f9f1ed981a2f3c@mail.gmail.com>

Thanks to elart (add to harbour website)


HOW TO BUILD AND INSTALL HARBOUR FROM SOURCE AND CROSS COMPILE HARBOUR
FOR WIN ON LINUX
=======================================================================================

*----------------------------------------
( Tested on Ubuntu 9.04 and Ubuntu 9.10 )
*----------------------------------------

To get main reference please read the INSTALL file under the harbour
source directory

You need to be connected to the Net.

First please  enable the "universe" repositories from menu System
&#8594; Administration &#8594; Software Sources and confirm repositorie
reload
Please install these deb packages... so you have almost all packages to
compile contrib libraries and related stuffs

Please open a terminal window Applications &#8594; Accessories &#8594;
Terminal and type or copy and paste (one row a time then press <enter>)

sudo apt-get update

When you use "sudo" the system ask you for a password, please typein
your user password: you will not see any feedback (i.e terminal chars)
when you type your password, so type the password, then press enter;

sudo apt-get install wget cvs rcs build-essential ncurses-dev
libslang2-dev tk8.3-dev unixodbc-dev subversion libncurses-dev
libx11-dev libgpm-dev libcurl4-openssl-dev firebird2.1-dev
libfreeimage-dev libgd2-xpm-dev libmysqlclient15-dev libpq-dev
libqt4-dev liballegro4.2-dev libsqlite3-dev wine dosemu-freedos mingw32

Then update from svn Harbour

1) - Please open a terminal window Applications &#8594; Accessories
&#8594; Terminal
2) - Please check the requested packages are installed see above;
3) - Type the commands rows below you can also do a copy and paste of the
row, please copy and paste a row a time then press enter;

mkdir $HOME/src
cd $HOME/src
svn co
https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
harbour
cd $HOME/src/harbour
export HB_BIN_INSTALL=/usr/bin
export HB_INSTALL_PREFIX=/usr/bin
export HB_LIB_INSTALL=/usr/lib
export HB_INC_INSTALL=/usr/include
make
sudo -E make install

When you use "sudo" the system ask you for a password, please typein
your user password: you will not see any feedback (i.e terminal chars)
when you type your password, so type the password, then press enter;

to verify your build date of harbour, type:
harbour -build

to generate Harbour for Win

cd $HOME/src/harbour/; make HB_PLATFORM=win

export HB_INSTALL_PREFIX=/tmp/hbwin; make install HB_PLATFORM=win

if you want install hbwin in a different directory than /tmp/hbwin with
more stricted directory permissions... you must use sudo to install it:

export HB_INSTALL_PREFIX=/usr/bin/hbwin; sudo -E make install
HB_PLATFORM=win


***********************************
Tip: if you want to automate the update and compile from svn please put
this command into a file for example: MBaggharbour2_svn so type
mkdir $HOME/src
cd $HOME/src

gedit MBaggharbour_svn

Copy and paste the contents below into the file:


#!/bin/bash
clear
echo "----------------------------------------------------------------"
echo "Please wait connecting to svn server to fetch Harbour updates..."
echo "----------------------------------------------------------------"
cd $HOME/src
svn co
https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
harbour

sleep 3

cd $HOME/src/harbour
export HB_BIN_INSTALL=/usr/bin
export HB_INSTALL_PREFIX=/usr/bin
export HB_LIB_INSTALL=/usr/lib
export HB_INC_INSTALL=/usr/include
#export HB_CONTRIBLIBS="hbqt hbpgsql hbhpdf rddsql hbsqlit3 hbodbc
gtqtc"

#hbverfix

r='n'

echo "Do you want to run a make clean before to compile sources [Ny]
Please answer in 4 sec"
read -t 4 r


if [[ $r == 'Y' || $r == 'y' ]]; then
       make clean; make; sudo -E make install
else
       make; sudo -E make install
fi

cw='n'
echo "Do you want to compile Harbour for Win [Ny] Please answer in 30
sec or press enter"
read -t 30 cw

if [[ $cw == 'Y' || $cw == 'y' ]]; then
       unset cw
       cd $HOME/harbour
       unset HB_BIN_INSTALL
       unset HB_INSTALL_PREFIX
       unset HB_LIB_INSTALL
       unset HB_INC_INSTALL
       old_path=$PATH
       export PATH=/tmp/hbwin/bin:$PATH
       make HB_PLATFORM=win
       export HB_INSTALL_PREFIX=/tmp/hbwin
       make install HB_PLATFORM=win
       PATH=$old_path
fi




--------------------------
Please save and exit from gedit editor then please give to this script
the execute permission, type:
chmod 700 MBaggharbour_svn

Then to run it...

cd $HOME/src
./MBaggharbour_svn


then inside /tmp/hbwin/bin you will find hbw* scripts which you can use
to build windows binaries.


Point this envvar to the directory where native Harbour executables for
your host platform can be found:
HB_BIN_COMPILE=<HARBOUR_NATIVE_BUILD_DIR>\bin
If you leave this value empty, the make system will try to autodetect it,
so in practice all you have to do is to create a native build first (no
'install' required), then create the cross-build. If you set this value
manually, it may be useful to know that only harbour, hbpp and hbmk2
executables are required for a cross-build process to succeed.

*********************************************************
Howto compile the harbour/contrib/hbnetio/test/netiotst
**********************************************************

# cd $NOME/src/harbour/contrib/hbnetio/tests

Just add this directory to you PATH, i.e.:

# export PATH=/tmp/hbwin/bin:$PATH

to your *nix PATH and then:

# hbwmk -static -n -w -es2 -mt -gtwin netiotst

To check the file generated

# file netiotst.exe
netiotst.exe: PE32 executable for MS Windows (GUI) Intel 80386 32-bit

To run the test...

wine ./netiotst.exe



********************************************************************
> When all is compiled fine, i must run the complied file inside dosemu... right ?

No. DOSEMU is for pure DOS emulation. Win32 programs should be executed
using WINE, i.e.
wine ./netiotst.exe
********************************************************************

so

wine ./netiotst.exe

to debug something

WINEDEBUG=relay; wine ./netiotst.exe

or double click using nautilus on the generate exe file

we can test if the exe is running by typing
ps -el | grep -i netiotst.exe

You can also register WINE in binfmt and then you can execute windows
programs just like native linux ones if they only have execute attribute
(x).


Then please read this

http://lists.harbour-project.org/pipermail/harbour/2009-September/024351.html
http://lists.harbour-project.org/pipermail/harbour/2009-September/024352.html


*********************************************
To test netio with a server and client app
*********************************************

mkdir $HOME/hb_testio
mkdir $HOME/hb_testio/data
cd $HOME/hb_testio


We can create 2 prg files... the netio_client.prg and the netio_server.prg

So we can use gedit to create the netio_client.prg file

gedit netio_client.prg



-- Then copy and paste the contents below:

#define DBNAME    "net:data/_tst_"

request DBFCDX

proc main( cServer, cPort )
  local pSockSrv

  set exclusive off
  rddSetDefault( "DBFCDX" )
?"start netio app client applications..."
  if empty( cServer )
     cServer := '127.0.0.1'
  endif
  if empty( cPort )
     cPort := '63000'
  endif

  ?
  ? "NETIO_CONNECT():", cServer, int( val( cPort ) ), netio_connect(
cServer, int( val( cPort ) ) )
  ?

  createdb( DBNAME )
  testdb( DBNAME )
  wait

  return

proc createdb( cName )
  local n
if !dbExists( DBNAME )
  dbCreate( cName, {{"F1", "C", 20, 0},;
                    {"F2", "M",  4, 0},;
                    {"F3", "N", 10, 2},;
                    {"F4", "T",  8, 0}} )
  ? "create neterr:", neterr(), hb_osError()
  use (cName)
  ? "use neterr:", neterr(), hb_osError()
  while lastrec() < 100
     dbAppend()
     n := recno() - 1
     field->F1 := chr( n % 26 + asc( "A" ) ) + " " + time()
     field->F2 := field->F1
     field->F3 := n / 100
     field->F4 := hb_dateTime()
  enddo
  index on field->F1 tag T1
  index on field->F3 tag T3
  index on field->F4 tag T4
  close
  ?
else
  ? DBNAME, 'Already exists'
endif
return

proc testdb( cName )
  local i, j
  ?
  ? 'using:',time()
  use (cName)
  ? "used:", time(), used()
  ? "nterr:", neterr()
  ? "alias:", alias()
  ? "lastrec:", lastrec()
  ? "ordCount:", ordCount()
  for i:=1 to ordCount()
     ordSetFocus( i )
     ? i, "name:", ordName(), "key:", ordKey(), "keycount:",
ordKeyCount()
  next
  ordSetFocus( 1 )
  dbgotop()
  while !eof()
     if ! field->F1 == field->F2
        ? "error at record:", recno()
        ? "  ! '" + field->F1 + "' == '" + field->F2 + "'"
     endif
     dbSkip()
  enddo
  i := row()
  j := col()
  dbgotop()

  ? 'locking:',time()
  ? 'locked:', rlock(), time()

  wait

  browse()
  setpos( i, j )
  close

  return




- Save and exit




-- Then we must create the netio_server.prg

gedit netio_server.prg


-- Then copy and paste the contents below:



proc main( cServer, cPort )
  local pListenSocket

  if empty( cPort )
     cPort := '63000'
  endif
//   if empty( cServer )
//      cServer := '127.0.0.1'
//   endif

  pListenSocket := netio_mtserver( val( cPort ), cServer )
  if empty( pListenSocket )
     ? "Cannot start server. press a key to exit..."
     inkey(0)
  else
     wait "Press any key to stop NETIO server."
     netio_serverstop( pListenSocket )
     pListenSocket := NIL
  endif
  return



- Save and exit

Then we must compile them...

export PATH=/tmp/hbwin/bin:$PATH; hbwmk -static -n -w -es2 -gtwin
netio_client.prg; hbwmk -static -n -w -es2 -gtwin -mt netio_server.prg


Then to test the netio apps

A) If we are on the same pc we must open two terminal (1 e 2) on terminal
(1) type:
wine ./netio_server.exe

on the terminal 2 type:
wine ./netio_client.exe

B) if we have two pc on the net (A and B) on pc A open a terminal and
type:

ifconfig

to get the ip number, then we can start the server

wine ./netio_server.exe

on the pc B we must copy the netio_client.exe and run it

wine ./netio_client.exe ip_of_pc_where_netio_server_is_running



****************************************************************************************************
Przemek note...
****************************************************************************************************
NETIO server application has to be linked with MT HVM version.
Please use -mt hbwmk switch to compile server.

> > give me the wine app started window with the message it cannot start
> > server...
> > Can you test my app in your enviroment...
> > in attach the hb_testio.tar.gz
It works if you compile netioserver.prg with -mt switch.
I tested Windows and Linux binaries.
BTW for normal usage I suggest to always use native binaries.
If you want to run server on Linux machine then create native
Linux netio server binaries. And of course native client binaries.
Of course you can connect to the one server from different stations
working with WIN, DOS, OS2 or different *nixes.

And remove from netioserver.prg this code:

  if empty( cServer )
     cServer := '127.0.0.1'
  endif

it reduces connections to 127.0.0.1 only so such server cannot be accessed
remotely. Use empty value or 0.0.0.0 if you want to give access from
different interfaces without any limitation.
****************************************************************************************************

2009/12/19 Massimo Belgrano <mbelgrano@deltain.it>:
> How can i get harbour (with qt) for ubuntu 9.10?
>
> --
> Massimo Belgrano
>



-- 
Massimo Belgrano
From bedipritpal at hotmail.com  Sat Dec 19 16:02:26 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Dec 19 16:02:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13316] trunk/harbour
In-Reply-To: <B70A3D29-7A0B-4CCA-A45A-F9A5B3C423B5@syenar.hu>
References: <E1NM34G-0005YD-SC@dn4whf1.ch3.sourceforge.com>
	<B70A3D29-7A0B-4CCA-A45A-F9A5B3C423B5@syenar.hu>
Message-ID: <26858514.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> 
> Perhaps to emphasis that this macro is now not needed, we 
> should change this:
>   #define QT_PTROF( oObj )                          ( oObj:pPtr )
> to this:
>   #define QT_PTROF( oObj )                          ( oObj )
> 
> Thus converting it to a simply dummy macro for compatibility.
> 

Good idea.
Will commit in new few hours.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13316--trunk-harbour-tp26857008p26858514.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sat Dec 19 16:04:59 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Dec 19 16:05:05 2009
Subject: [Harbour] Typo's in hbwapi.h
In-Reply-To: <3F7B6F04-3A2D-4AE6-971B-A24F02E74A85@syenar.hu>
References: <26857599.post@talk.nabble.com>
	<3F7B6F04-3A2D-4AE6-971B-A24F02E74A85@syenar.hu>
Message-ID: <26858532.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
>> #define wapi_ret_UINT( n )            ( hb_parni( n ) ) ?
>> #define wapi_ret_LONG( n )            ( hb_parnl( n ) ) ?
>> #define wapi_ret_WORD( n )            ( hb_parnl( n ) ) ?
>> #define wapi_ret_DWORD( n )           ( hb_parnl( n ) ) ?
> 
> They look correct to me on SVN. What would this change fix?
> 

No, my mistake. It should be:

#define wapi_ret_UINT( n )            ( hb_retni( n ) ) ?
#define wapi_ret_LONG( n )            ( hb_retnl( n ) ) ?
#define wapi_ret_WORD( n )            ( hb_retnl( n ) ) ?
#define wapi_ret_DWORD( n )           ( hb_retnl( n ) ) ?

Can you please commit?

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/Typo%27s-in-hbwapi.h-tp26857599p26858532.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Dec 19 16:38:33 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Dec 19 16:38:49 2009
Subject: [Harbour] Re: Wich harbour for Ubuntu 9.10
In-Reply-To: <609353e70912191258g2271cd05n24f9f1ed981a2f3c@mail.gmail.com>
References: <609353e70912191235t1463d2d1i1a3815e9b99abad4@mail.gmail.com>
	<609353e70912191258g2271cd05n24f9f1ed981a2f3c@mail.gmail.com>
Message-ID: <9DE76131-0FEC-4C35-A3C2-666517F03861@syenar.hu>

This decription is not very generic and uses hbmk script instead of 
hbmk2. It has few other problems, too:
- lists lots of packages which are not needed for Harbour
- overrides default contrib list
- sets HB_*_INSTALL which is not very good precedent, and also not needed.
- uses patched (?) source code? The example suggest that 
  Harbour hosted sources are wrong.
- it's based on Harbour state about a year ago regarding some concepts.

I'd rather fix INSTALL if it's still missing something.

Brgds,
Viktor

On 2009 Dec 19, at 21:58, Massimo Belgrano wrote:

> Thanks to elart (add to harbour website)
> 
> 
> HOW TO BUILD AND INSTALL HARBOUR FROM SOURCE AND CROSS COMPILE HARBOUR
> FOR WIN ON LINUX
> =======================================================================================
> 
> *----------------------------------------
> ( Tested on Ubuntu 9.04 and Ubuntu 9.10 )
> *----------------------------------------
> 
> To get main reference please read the INSTALL file under the harbour
> source directory
> 
> You need to be connected to the Net.
> 
> First please  enable the "universe" repositories from menu System
> &#8594; Administration &#8594; Software Sources and confirm repositorie
> reload
> Please install these deb packages... so you have almost all packages to
> compile contrib libraries and related stuffs
> 
> Please open a terminal window Applications &#8594; Accessories &#8594;
> Terminal and type or copy and paste (one row a time then press <enter>)
> 
> sudo apt-get update
> 
> When you use "sudo" the system ask you for a password, please typein
> your user password: you will not see any feedback (i.e terminal chars)
> when you type your password, so type the password, then press enter;
> 
> sudo apt-get install wget cvs rcs build-essential ncurses-dev
> libslang2-dev tk8.3-dev unixodbc-dev subversion libncurses-dev
> libx11-dev libgpm-dev libcurl4-openssl-dev firebird2.1-dev
> libfreeimage-dev libgd2-xpm-dev libmysqlclient15-dev libpq-dev
> libqt4-dev liballegro4.2-dev libsqlite3-dev wine dosemu-freedos mingw32
> 
> Then update from svn Harbour
> 
> 1) - Please open a terminal window Applications &#8594; Accessories
> &#8594; Terminal
> 2) - Please check the requested packages are installed see above;
> 3) - Type the commands rows below you can also do a copy and paste of the
> row, please copy and paste a row a time then press enter;
> 
> mkdir $HOME/src
> cd $HOME/src
> svn co
> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
> harbour
> cd $HOME/src/harbour
> export HB_BIN_INSTALL=/usr/bin
> export HB_INSTALL_PREFIX=/usr/bin
> export HB_LIB_INSTALL=/usr/lib
> export HB_INC_INSTALL=/usr/include
> make
> sudo -E make install
> 
> When you use "sudo" the system ask you for a password, please typein
> your user password: you will not see any feedback (i.e terminal chars)
> when you type your password, so type the password, then press enter;
> 
> to verify your build date of harbour, type:
> harbour -build
> 
> to generate Harbour for Win
> 
> cd $HOME/src/harbour/; make HB_PLATFORM=win
> 
> export HB_INSTALL_PREFIX=/tmp/hbwin; make install HB_PLATFORM=win
> 
> if you want install hbwin in a different directory than /tmp/hbwin with
> more stricted directory permissions... you must use sudo to install it:
> 
> export HB_INSTALL_PREFIX=/usr/bin/hbwin; sudo -E make install
> HB_PLATFORM=win
> 
> 
> ***********************************
> Tip: if you want to automate the update and compile from svn please put
> this command into a file for example: MBaggharbour2_svn so type
> mkdir $HOME/src
> cd $HOME/src
> 
> gedit MBaggharbour_svn
> 
> Copy and paste the contents below into the file:
> 
> 
> #!/bin/bash
> clear
> echo "----------------------------------------------------------------"
> echo "Please wait connecting to svn server to fetch Harbour updates..."
> echo "----------------------------------------------------------------"
> cd $HOME/src
> svn co
> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
> harbour
> 
> sleep 3
> 
> cd $HOME/src/harbour
> export HB_BIN_INSTALL=/usr/bin
> export HB_INSTALL_PREFIX=/usr/bin
> export HB_LIB_INSTALL=/usr/lib
> export HB_INC_INSTALL=/usr/include
> #export HB_CONTRIBLIBS="hbqt hbpgsql hbhpdf rddsql hbsqlit3 hbodbc
> gtqtc"
> 
> #hbverfix
> 
> r='n'
> 
> echo "Do you want to run a make clean before to compile sources [Ny]
> Please answer in 4 sec"
> read -t 4 r
> 
> 
> if [[ $r == 'Y' || $r == 'y' ]]; then
>       make clean; make; sudo -E make install
> else
>       make; sudo -E make install
> fi
> 
> cw='n'
> echo "Do you want to compile Harbour for Win [Ny] Please answer in 30
> sec or press enter"
> read -t 30 cw
> 
> if [[ $cw == 'Y' || $cw == 'y' ]]; then
>       unset cw
>       cd $HOME/harbour
>       unset HB_BIN_INSTALL
>       unset HB_INSTALL_PREFIX
>       unset HB_LIB_INSTALL
>       unset HB_INC_INSTALL
>       old_path=$PATH
>       export PATH=/tmp/hbwin/bin:$PATH
>       make HB_PLATFORM=win
>       export HB_INSTALL_PREFIX=/tmp/hbwin
>       make install HB_PLATFORM=win
>       PATH=$old_path
> fi
> 
> 
> 
> 
> --------------------------
> Please save and exit from gedit editor then please give to this script
> the execute permission, type:
> chmod 700 MBaggharbour_svn
> 
> Then to run it...
> 
> cd $HOME/src
> ./MBaggharbour_svn
> 
> 
> then inside /tmp/hbwin/bin you will find hbw* scripts which you can use
> to build windows binaries.
> 
> 
> Point this envvar to the directory where native Harbour executables for
> your host platform can be found:
> HB_BIN_COMPILE=<HARBOUR_NATIVE_BUILD_DIR>\bin
> If you leave this value empty, the make system will try to autodetect it,
> so in practice all you have to do is to create a native build first (no
> 'install' required), then create the cross-build. If you set this value
> manually, it may be useful to know that only harbour, hbpp and hbmk2
> executables are required for a cross-build process to succeed.
> 
> *********************************************************
> Howto compile the harbour/contrib/hbnetio/test/netiotst
> **********************************************************
> 
> # cd $NOME/src/harbour/contrib/hbnetio/tests
> 
> Just add this directory to you PATH, i.e.:
> 
> # export PATH=/tmp/hbwin/bin:$PATH
> 
> to your *nix PATH and then:
> 
> # hbwmk -static -n -w -es2 -mt -gtwin netiotst
> 
> To check the file generated
> 
> # file netiotst.exe
> netiotst.exe: PE32 executable for MS Windows (GUI) Intel 80386 32-bit
> 
> To run the test...
> 
> wine ./netiotst.exe
> 
> 
> 
> ********************************************************************
>> When all is compiled fine, i must run the complied file inside dosemu... right ?
> 
> No. DOSEMU is for pure DOS emulation. Win32 programs should be executed
> using WINE, i.e.
> wine ./netiotst.exe
> ********************************************************************
> 
> so
> 
> wine ./netiotst.exe
> 
> to debug something
> 
> WINEDEBUG=relay; wine ./netiotst.exe
> 
> or double click using nautilus on the generate exe file
> 
> we can test if the exe is running by typing
> ps -el | grep -i netiotst.exe
> 
> You can also register WINE in binfmt and then you can execute windows
> programs just like native linux ones if they only have execute attribute
> (x).
> 
> 
> Then please read this
> 
> http://lists.harbour-project.org/pipermail/harbour/2009-September/024351.html
> http://lists.harbour-project.org/pipermail/harbour/2009-September/024352.html
> 
> 
> *********************************************
> To test netio with a server and client app
> *********************************************
> 
> mkdir $HOME/hb_testio
> mkdir $HOME/hb_testio/data
> cd $HOME/hb_testio
> 
> 
> We can create 2 prg files... the netio_client.prg and the netio_server.prg
> 
> So we can use gedit to create the netio_client.prg file
> 
> gedit netio_client.prg
> 
> 
> 
> -- Then copy and paste the contents below:
> 
> #define DBNAME    "net:data/_tst_"
> 
> request DBFCDX
> 
> proc main( cServer, cPort )
>  local pSockSrv
> 
>  set exclusive off
>  rddSetDefault( "DBFCDX" )
> ?"start netio app client applications..."
>  if empty( cServer )
>     cServer := '127.0.0.1'
>  endif
>  if empty( cPort )
>     cPort := '63000'
>  endif
> 
>  ?
>  ? "NETIO_CONNECT():", cServer, int( val( cPort ) ), netio_connect(
> cServer, int( val( cPort ) ) )
>  ?
> 
>  createdb( DBNAME )
>  testdb( DBNAME )
>  wait
> 
>  return
> 
> proc createdb( cName )
>  local n
> if !dbExists( DBNAME )
>  dbCreate( cName, {{"F1", "C", 20, 0},;
>                    {"F2", "M",  4, 0},;
>                    {"F3", "N", 10, 2},;
>                    {"F4", "T",  8, 0}} )
>  ? "create neterr:", neterr(), hb_osError()
>  use (cName)
>  ? "use neterr:", neterr(), hb_osError()
>  while lastrec() < 100
>     dbAppend()
>     n := recno() - 1
>     field->F1 := chr( n % 26 + asc( "A" ) ) + " " + time()
>     field->F2 := field->F1
>     field->F3 := n / 100
>     field->F4 := hb_dateTime()
>  enddo
>  index on field->F1 tag T1
>  index on field->F3 tag T3
>  index on field->F4 tag T4
>  close
>  ?
> else
>  ? DBNAME, 'Already exists'
> endif
> return
> 
> proc testdb( cName )
>  local i, j
>  ?
>  ? 'using:',time()
>  use (cName)
>  ? "used:", time(), used()
>  ? "nterr:", neterr()
>  ? "alias:", alias()
>  ? "lastrec:", lastrec()
>  ? "ordCount:", ordCount()
>  for i:=1 to ordCount()
>     ordSetFocus( i )
>     ? i, "name:", ordName(), "key:", ordKey(), "keycount:",
> ordKeyCount()
>  next
>  ordSetFocus( 1 )
>  dbgotop()
>  while !eof()
>     if ! field->F1 == field->F2
>        ? "error at record:", recno()
>        ? "  ! '" + field->F1 + "' == '" + field->F2 + "'"
>     endif
>     dbSkip()
>  enddo
>  i := row()
>  j := col()
>  dbgotop()
> 
>  ? 'locking:',time()
>  ? 'locked:', rlock(), time()
> 
>  wait
> 
>  browse()
>  setpos( i, j )
>  close
> 
>  return
> 
> 
> 
> 
> - Save and exit
> 
> 
> 
> 
> -- Then we must create the netio_server.prg
> 
> gedit netio_server.prg
> 
> 
> -- Then copy and paste the contents below:
> 
> 
> 
> proc main( cServer, cPort )
>  local pListenSocket
> 
>  if empty( cPort )
>     cPort := '63000'
>  endif
> //   if empty( cServer )
> //      cServer := '127.0.0.1'
> //   endif
> 
>  pListenSocket := netio_mtserver( val( cPort ), cServer )
>  if empty( pListenSocket )
>     ? "Cannot start server. press a key to exit..."
>     inkey(0)
>  else
>     wait "Press any key to stop NETIO server."
>     netio_serverstop( pListenSocket )
>     pListenSocket := NIL
>  endif
>  return
> 
> 
> 
> - Save and exit
> 
> Then we must compile them...
> 
> export PATH=/tmp/hbwin/bin:$PATH; hbwmk -static -n -w -es2 -gtwin
> netio_client.prg; hbwmk -static -n -w -es2 -gtwin -mt netio_server.prg
> 
> 
> Then to test the netio apps
> 
> A) If we are on the same pc we must open two terminal (1 e 2) on terminal
> (1) type:
> wine ./netio_server.exe
> 
> on the terminal 2 type:
> wine ./netio_client.exe
> 
> B) if we have two pc on the net (A and B) on pc A open a terminal and
> type:
> 
> ifconfig
> 
> to get the ip number, then we can start the server
> 
> wine ./netio_server.exe
> 
> on the pc B we must copy the netio_client.exe and run it
> 
> wine ./netio_client.exe ip_of_pc_where_netio_server_is_running
> 
> 
> 
> ****************************************************************************************************
> Przemek note...
> ****************************************************************************************************
> NETIO server application has to be linked with MT HVM version.
> Please use -mt hbwmk switch to compile server.
> 
>>> give me the wine app started window with the message it cannot start
>>> server...
>>> Can you test my app in your enviroment...
>>> in attach the hb_testio.tar.gz
> It works if you compile netioserver.prg with -mt switch.
> I tested Windows and Linux binaries.
> BTW for normal usage I suggest to always use native binaries.
> If you want to run server on Linux machine then create native
> Linux netio server binaries. And of course native client binaries.
> Of course you can connect to the one server from different stations
> working with WIN, DOS, OS2 or different *nixes.
> 
> And remove from netioserver.prg this code:
> 
>  if empty( cServer )
>     cServer := '127.0.0.1'
>  endif
> 
> it reduces connections to 127.0.0.1 only so such server cannot be accessed
> remotely. Use empty value or 0.0.0.0 if you want to give access from
> different interfaces without any limitation.
> ****************************************************************************************************
> 
> 2009/12/19 Massimo Belgrano <mbelgrano@deltain.it>:
>> How can i get harbour (with qt) for ubuntu 9.10?
>> 
>> --
>> Massimo Belgrano
>> 
> 
> 
> 
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Dec 19 16:40:37 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 19 16:40:52 2009
Subject: [Harbour] Typo's in hbwapi.h
In-Reply-To: <26858532.post@talk.nabble.com>
References: <26857599.post@talk.nabble.com>
	<3F7B6F04-3A2D-4AE6-971B-A24F02E74A85@syenar.hu>
	<26858532.post@talk.nabble.com>
Message-ID: <DDD4425C-33A6-45D8-97C2-0595AB00DADC@syenar.hu>

>>> #define wapi_ret_UINT( n )            ( hb_parni( n ) ) ?
>>> #define wapi_ret_LONG( n )            ( hb_parnl( n ) ) ?
>>> #define wapi_ret_WORD( n )            ( hb_parnl( n ) ) ?
>>> #define wapi_ret_DWORD( n )           ( hb_parnl( n ) ) ?
>> 
>> They look correct to me on SVN. What would this change fix?
>> 
> 
> No, my mistake. It should be:
> 
> #define wapi_ret_UINT( n )            ( hb_retni( n ) ) ?
> #define wapi_ret_LONG( n )            ( hb_retnl( n ) ) ?
> #define wapi_ret_WORD( n )            ( hb_retnl( n ) ) ?
> #define wapi_ret_DWORD( n )           ( hb_retnl( n ) ) ?
> 
> Can you please commit?

Ops, there are times when I watch but can't see :)

Thanks, I'll commit it.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Dec 19 16:48:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec 19 16:49:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13317] trunk/harbour
Message-ID: <E1NM7AL-0008CO-7e@dn4whf1.ch3.sourceforge.com>

Revision: 13317
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13317&view=rev
Author:   vszakats
Date:     2009-12-19 21:48:43 +0000 (Sat, 19 Dec 2009)

Log Message:
-----------
2009-12-19 22:48 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/hbwapi.h
    ! Fixed some wapi_ret_*() macros. This caused that several WAPI_TREEVIEW*() 
      functions were not returning a value. Thanks to Petr Chornyj for 
      reporting it.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/hbwapi.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Dec 19 16:55:01 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Dec 19 16:55:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13318] trunk/harbour
Message-ID: <E1NM7GP-00010M-Nq@74yxhf1.ch3.sourceforge.com>

Revision: 13318
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13318&view=rev
Author:   vouchcac
Date:     2009-12-19 21:55:00 +0000 (Sat, 19 Dec 2009)

Log Message:
-----------
2009-12-19 13:45 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
    ! Made functional <Properties Dialog> based on XbpQtUiLoader() class.

  * contrib/hbqt/hbqt.ch
    % QT_PTROF( obj ) ( obj:pPtr ) => ( obj ).
      Converted to dummy for backward compatibility.

  * contrib/hbxbp/xbpqtuiloader.prg
    ! Minor.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbqt/hbqt.ch
    trunk/harbour/contrib/hbxbp/xbpqtuiloader.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Dec 19 17:44:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec 19 17:44:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13319] trunk/harbour
Message-ID: <E1NM81p-0001lk-DZ@c3vjzd1.ch3.sourceforge.com>

Revision: 13319
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13319&view=rev
Author:   vszakats
Date:     2009-12-19 22:44:00 +0000 (Sat, 19 Dec 2009)

Log Message:
-----------
2009-12-19 23:39 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/tests/demoqt.prg
    ! Fixed to use :pPtr instead of now dummy QT_PTROF() macro.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/tests/demoqt.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Dec 19 19:53:37 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec 19 19:53:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13320] trunk/harbour
Message-ID: <E1NMA3F-0007D1-90@3kljzd1.ch3.sourceforge.com>

Revision: 13320
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13320&view=rev
Author:   vszakats
Date:     2009-12-20 00:53:36 +0000 (Sun, 20 Dec 2009)

Log Message:
-----------
2009-12-20 01:53 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbbtree/hb_btree.c
    * Fixed 'const' usage in some cast. (some cast were not 
      required anymore, two has been changed to not strip const)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbtree/hb_btree.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Dec 19 20:17:15 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 19 20:17:24 2009
Subject: [Harbour] CallDll GPF
In-Reply-To: <26845433.post@talk.nabble.com>
References: <26845433.post@talk.nabble.com>
Message-ID: <FFD41D6C-A7D3-4C08-9D79-42E53DC734A3@syenar.hu>

Yes, this has been reported already, and it seems 
like an older problem, or some sort of regression, 
maybe the result of changing MINGW version.

Whole .dll handling needs to be rewritten. No takers 
yet, though.

It'd be nice if someone with MINGW+ASM skills could 
take a closer look on that though.

Brgds,
Viktor

On 2009 Dec 18, at 16:53, Petr Chornyj wrote:

> 
> Hi All
> 
> hbwin\tests\testdll.prg
> ------------------------------------------------------------------------
> Application Internal Error - testdll.exe
> Terminated at: 2009.12.18 17:37:05
> Unrecoverable error 6005: Exception error: 
> 
>    Exception Code:C0000005
>    Exception Address:00000000
>    EAX:00000002  EBX:00000000  ECX:00000000  EDX:00A513CC
>    ESI:00000000  EDI:0022FB10  EBP:00000000
>    CS:EIP:001B:00000000  SS:ESP:0023:0022FB0C
>    DS:0023  ES:0023  FS:003B  GS:0000
>    Flags:00010202
>    CS:EIP:
>    SS:ESP: 00401C75 00000007 FFFFFFFF 7FFD5000 7C901000 00000000 00010000
> 7E365008 0022FBFA 7E363900 000001DA 00000004 7C917ED3 0022FBFA 00000003
> 7E360000
> 
>    C stack:
>    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...
> 
> Modules:
> 0x00400000 0x000F5000 E:\harbour-mingw\bin\testdll.exe
> 0x7C900000 0x000B0000 C:\WINDOWS\system32\ntdll.dll
> 0x7C800000 0x000F8000 C:\WINDOWS\system32\kernel32.dll
> 0x77C00000 0x00058000 C:\WINDOWS\system32\msvcrt.dll
> 0x7E360000 0x00091000 C:\WINDOWS\system32\USER32.dll
> 0x77F10000 0x00049000 C:\WINDOWS\system32\GDI32.dll
> 0x76360000 0x0001D000 C:\WINDOWS\system32\IMM32.DLL
> 0x77DC0000 0x000AC000 C:\WINDOWS\system32\ADVAPI32.dll
> 0x77E70000 0x00092000 C:\WINDOWS\system32\RPCRT4.dll
> 0x77FE0000 0x00011000 C:\WINDOWS\system32\Secur32.dll
> 
> Called from DLLCALL(0)
> Called from MAIN(70) in testdll.prg
> ------------------------------------------------------------------------
> 
> I tested with Harbor 2.0.0rc1 (Rev. 13297) + MinGW 4.4.1.
> On the other hand with VS2009 and OW 1.8 everything works fine.
> 
> Regards,
> Petr
> -- 
> View this message in context: http://old.nabble.com/CallDll-GPF-tp26845433p26845433.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vouchcac at users.sourceforge.net  Sat Dec 19 20:20:08 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Dec 19 20:20:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13321] trunk/harbour
Message-ID: <E1NMASu-0006KX-Ox@dn4whf1.ch3.sourceforge.com>

Revision: 13321
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13321&view=rev
Author:   vouchcac
Date:     2009-12-20 01:20:00 +0000 (Sun, 20 Dec 2009)

Log Message:
-----------
2009-12-19 17:17 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.ch
  * contrib/hbide/ideactions.prg
  * contrib/hbide/hbide.prg
    + Implemented ::goto() method. Invoke it by "Goto Line" icon.
    + Implemented save/restore position of various dialogs.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.ch
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Dec 19 20:37:28 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 19 20:37:37 2009
Subject: [Harbour] MSVC C mode warnings
Message-ID: <2AC60825-11CD-45B5-B9FE-6B5C07758A8F@syenar.hu>

Hi All,

---
../../../hbcmplib.c(118) : warning C4090: 'function' : different 'const' qualifiers
../../../hbcmplib.c(130) : warning C4090: 'function' : different 'const' qualifiers
../../../hbcmplib.c(148) : warning C4090: 'function' : different 'const' qualifiers
../../../dynlibhb.c(141) : warning C4090: 'function' : different 'const' qualifiers
../../../hbinet.c(871) : warning C4090: 'function' : different 'const' qualifiers
../../../postgres.c(286) : warning C4090: 'function' : different 'const' qualifiers
---

Any idea how to fix them?

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Dec 19 20:43:46 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec 19 20:43:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13322] trunk/harbour
Message-ID: <E1NMApm-0006yK-5R@dn4whf1.ch3.sourceforge.com>

Revision: 13322
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13322&view=rev
Author:   vszakats
Date:     2009-12-20 01:43:43 +0000 (Sun, 20 Dec 2009)

Log Message:
-----------
2009-12-20 02:42 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_dll.c
    * Little cleanup to FARPROC casting. Now cast is done at Harbour 
      interface points, not internally. It now generates more 
      warnings. If someone has a fix how to suppress FAPROC to 
      void * cast warnings, pls tell.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Sat Dec 19 22:16:14 2009
From: jarabal at gmail.com (Xavi)
Date: Sat Dec 19 22:17:06 2009
Subject: [Harbour] Re: New hbwin functions,
 windows named or unnamed mutex object. The application is running?
In-Reply-To: <D85EDEAC-13AF-4FCD-AC79-B127AD0CF68F@syenar.hu>
References: <4B283079.1080101@gmail.com>
	<75C589A7-972F-4284-BD6B-5BCFC48B8AD5@syenar.hu>
	<4B284A48.2060207@gmail.com>
	<808A7553-5602-4910-B344-20718C935EFB@syenar.hu>
	<4B285601.7010903@gmail.com>
	<391F38CE-1FEC-4023-B180-63BADEA607CB@syenar.hu>
	<4B28E839.30705@gmail.com>
	<D85EDEAC-13AF-4FCD-AC79-B127AD0CF68F@syenar.hu>
Message-ID: <4B2D96FE.8010805@gmail.com>

Viktor,

You're right.
I filter with Source formatter.

Sorry for the inconvenience and appreciate your patience.

Best regards,
Xavi

-------------- next part --------------
/*
 * Harbour Project source code:
 * Windows Mutex functions
 *
 * Copyright 2009 Xavi <jarabal/at/gmail.com>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software; see the file COPYING.  If not, write to
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
 *
 * As a special exception, the Harbour Project gives permission for
 * additional uses of the text contained in its release of Harbour.
 *
 * The exception is that, if you link the Harbour libraries with other
 * files to produce an executable, this does not by itself cause the
 * resulting executable to be covered by the GNU General Public License.
 * Your use of that executable is in no way restricted on account of
 * linking the Harbour library code into it.
 *
 * This exception does not however invalidate any other reasons why
 * the executable file might be covered by the GNU General Public License.
 *
 * This exception applies only to the code released by the Harbour
 * Project under the name Harbour.  If you copy code from other
 * Harbour Project or Free Software Foundation releases into a copy of
 * Harbour, as the General Public License permits, the exception does
 * not apply to the code that you add in this way.  To avoid misleading
 * anyone as to the status of such modified files, you must delete
 * this exception notice from them.
 *
 * If you write modifications of your own for Harbour, it is your choice
 * whether to permit this exception to apply to your modifications.
 * If you do not wish that, delete this exception notice.
 *
 */

#define HB_OS_WIN_USED

#include "hbapi.h"
#include "hbwinuni.h"

static HB_GARBAGE_FUNC( wapi_mutex_release )
{
   void **ph = ( void ** )Cargo;

   if ( ph && *ph )
   {
      CloseHandle(( HANDLE )*ph );
      *ph = NULL;
   }
}

static const HB_GC_FUNCS s_gc_wapi_mutex_funcs =
{
   wapi_mutex_release,
   hb_gcDummyMark
};

static void wapi_mutex_ret( HANDLE hMutex )
{
   if ( hMutex )
   {
      void **ph = ( void ** )hb_gcAllocate( sizeof( HANDLE * ), &s_gc_wapi_mutex_funcs );

      *ph = hMutex;
      hb_retptrGC( ph );
   }
   else
      hb_retptr( NULL );
}

static HANDLE wapi_mutex_par( int iParam )
{
   void **ph = ( void ** )hb_parptrGC( &s_gc_wapi_mutex_funcs, iParam );

   return ( ph ? ( HANDLE )*ph : NULL );
}

/* HANDLE WINAPI CreateMutex( LPSECURITY_ATTRIBUTES lpMutexAttributes, BOOL bInitialOwner, LPCTSTR lpName ) */
HB_FUNC( WAPI_CREATEMUTEX )
{
   void *hName;
   HANDLE hMutex = CreateMutex(( LPSECURITY_ATTRIBUTES )hb_parptr( 1 ), hb_parl( 2 ), HB_PARSTR( 3, &hName, NULL ) );

   wapi_mutex_ret( hMutex );
   hb_strfree( hName );
}

/* HANDLE WINAPI OpenMutex( DWORD dwDesiredAccess, BOOL bInheritHandle, LPCTSTR lpName ) */
HB_FUNC( WAPI_OPENMUTEX )
{
#if ! defined( HB_OS_WIN_CE )
   void *hName;
   HANDLE hMutex = OpenMutex( hb_parnl( 1 ), hb_parl( 2 ), HB_PARSTR( 3, &hName, NULL ) );

   wapi_mutex_ret( hMutex );
   hb_strfree( hName );
#else
   hb_retptr( NULL );
#endif
}

/* BOOL WINAPI ReleaseMutex( HANDLE hMutex ) */
HB_FUNC( WAPI_RELEASEMUTEX )
{
   HANDLE hMutex = wapi_mutex_par( 1 );

   hb_retl( hMutex ? ReleaseMutex( hMutex ) : HB_FALSE );
}

-------------- next part --------------
A non-text attachment was scrubbed...
Name: wapi_mutex.zip
Type: application/x-zip-compressed
Size: 2256 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091220/e6e34409/wapi_mutex.bin
From vszakats at users.sourceforge.net  Sat Dec 19 22:36:05 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec 19 22:36:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13323] trunk/harbour
Message-ID: <E1NMCaT-0001AU-Cv@3kljzd1.ch3.sourceforge.com>

Revision: 13323
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13323&view=rev
Author:   vszakats
Date:     2009-12-20 03:36:04 +0000 (Sun, 20 Dec 2009)

Log Message:
-----------
2009-12-20 04:35 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_dll.c
    + Added portable Win64 support (both x86_64 and IA64 and anything else).
    ; TODO: double parameters and return value.
    ; TODO: parameters passed by reference.

    * Renamed some structure to not look like Windows ones.
    * Using HB_BOOL.
    ! Fixed to return NIL when CTYPE_VOID is requested. (was 0 before)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Dec 19 22:40:02 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec 19 22:40:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13324] trunk/harbour
Message-ID: <E1NMCeI-0001EN-6D@3kljzd1.ch3.sourceforge.com>

Revision: 13324
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13324&view=rev
Author:   vszakats
Date:     2009-12-20 03:40:01 +0000 (Sun, 20 Dec 2009)

Log Message:
-----------
2009-12-20 04:39 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/Makefile
  + contrib/hbwin/wapi_winbase_mutex.c
    + Added Windows mutex wrappers.
      Contributed by Xavi <jarabal/at/gmail.com>.
    ! Added SVN header, some minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/Makefile

Added Paths:
-----------
    trunk/harbour/contrib/hbwin/wapi_winbase_mutex.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Dec 19 22:42:34 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 19 22:42:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13313] trunk/harbour
In-Reply-To: <E1NM1cC-0002w6-6q@c3vjzd1.ch3.sourceforge.com>
References: <E1NM1cC-0002w6-6q@c3vjzd1.ch3.sourceforge.com>
Message-ID: <29352234-3B0A-458C-8F4F-9EB36448568B@syenar.hu>

Hi Przemek,

> Log Message:
> -----------
> 2009-12-19 16:52 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/vm/thread.c
>    * added hb_threadOnceInit() to .prg function list
> 
>  * harbour/include/hbinit.h
>    * use HB_STATIC_STARTUP as default initialization method of all
>      C++ compilers

Tests worked fine. Thank you.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Dec 19 22:50:22 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Dec 19 22:50:33 2009
Subject: [Harbour] Re: New hbwin functions,
	windows named or unnamed mutex object. The application is running?
In-Reply-To: <4B2D96FE.8010805@gmail.com>
References: <4B283079.1080101@gmail.com>
	<75C589A7-972F-4284-BD6B-5BCFC48B8AD5@syenar.hu>
	<4B284A48.2060207@gmail.com>
	<808A7553-5602-4910-B344-20718C935EFB@syenar.hu>
	<4B285601.7010903@gmail.com>
	<391F38CE-1FEC-4023-B180-63BADEA607CB@syenar.hu>
	<4B28E839.30705@gmail.com>
	<D85EDEAC-13AF-4FCD-AC79-B127AD0CF68F@syenar.hu>
	<4B2D96FE.8010805@gmail.com>
Message-ID: <D1D8C48D-FF71-462D-92C9-DEDA105ED332@syenar.hu>

Thank you, I've committed it.

Brgds,
Viktor

On 2009 Dec 20, at 04:16, Xavi wrote:

> Viktor,
> 
> You're right.
> I filter with Source formatter.
> 
> Sorry for the inconvenience and appreciate your patience.
> 
> Best regards,
> Xavi
> 
> <wapi_mutex.c><wapi_mutex.zip>

From vszakats at users.sourceforge.net  Sat Dec 19 22:55:30 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec 19 22:55:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13325] trunk/harbour
Message-ID: <E1NMCtG-0001SD-Eg@3kljzd1.ch3.sourceforge.com>

Revision: 13325
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13325&view=rev
Author:   vszakats
Date:     2009-12-20 03:55:29 +0000 (Sun, 20 Dec 2009)

Log Message:
-----------
2009-12-20 04:55 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  + contrib/hbwin/tests/testwmtx.prg
    + Added Windows mutex example.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/hbwin/tests/testwmtx.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Dec 19 23:01:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec 19 23:01:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13326] trunk/harbour
Message-ID: <E1NMCzA-0001Xo-0B@3kljzd1.ch3.sourceforge.com>

Revision: 13326
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13326&view=rev
Author:   vszakats
Date:     2009-12-20 04:01:34 +0000 (Sun, 20 Dec 2009)

Log Message:
-----------
2009-12-20 05:01 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/dynlibhb.c
  * src/rtl/hbinet.c
  * src/compiler/hbcmplib.c
  * contrib/hbpgsql/postgres.c
    ! Suppressing MSVC C mode warnings by ( void * ) casting 
      in hb_xfree() calls.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbpgsql/postgres.c
    trunk/harbour/src/compiler/hbcmplib.c
    trunk/harbour/src/rtl/hbinet.c
    trunk/harbour/src/vm/dynlibhb.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sun Dec 20 04:25:14 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Dec 20 04:25:48 2009
Subject: [Harbour] Re: Wich harbour for Ubuntu 9.10
In-Reply-To: <9DE76131-0FEC-4C35-A3C2-666517F03861@syenar.hu>
References: <609353e70912191235t1463d2d1i1a3815e9b99abad4@mail.gmail.com> 
	<609353e70912191258g2271cd05n24f9f1ed981a2f3c@mail.gmail.com> 
	<9DE76131-0FEC-4C35-A3C2-666517F03861@syenar.hu>
Message-ID: <609353e70912200125g12b28b73jf149d852cc61cdc@mail.gmail.com>

imo prev doc containt good section for extend install for ubuntu

A question
For ubuntu wich version of Qt will be used un the upcoming harbour 2.0?
How install qt?

2009/12/19 Viktor Szak?ts <harbour.01@syenar.hu>:
> This decription is not very generic and uses hbmk script instead of
> hbmk2. It has few other problems, too:
> - lists lots of packages which are not needed for Harbour
> - overrides default contrib list
> - sets HB_*_INSTALL which is not very good precedent, and also not needed.
> - uses patched (?) source code? The example suggest that
> ?Harbour hosted sources are wrong.
> - it's based on Harbour state about a year ago regarding some concepts.
>
> I'd rather fix INSTALL if it's still missing something.
>
> Brgds,
> Viktor
>
> On 2009 Dec 19, at 21:58, Massimo Belgrano wrote:
>
>>
>> You need to be connected to the Net.
>>
>> First please ?enable the "universe" repositories from menu System
>> &#8594; Administration &#8594; Software Sources and confirm repositorie
>> reload
>> Please install these deb packages... so you have almost all packages to
>> compile contrib libraries and related stuffs
>>
>> Please open a terminal window Applications &#8594; Accessories &#8594;
>> Terminal and type or copy and paste (one row a time then press <enter>)
>>
>> sudo apt-get update
>>
>> When you use "sudo" the system ask you for a password, please typein
>> your user password: you will not see any feedback (i.e terminal chars)
>> when you type your password, so type the password, then press enter;
>>
>> sudo apt-get install wget cvs rcs build-essential ncurses-dev
>> libslang2-dev tk8.3-dev unixodbc-dev subversion libncurses-dev
>> libx11-dev libgpm-dev libcurl4-openssl-dev firebird2.1-dev
>> libfreeimage-dev libgd2-xpm-dev libmysqlclient15-dev libpq-dev
>> libqt4-dev liballegro4.2-dev libsqlite3-dev wine dosemu-freedos mingw32
>>
>> Then update from svn Harbour
>>
>> 1) - Please open a terminal window Applications &#8594; Accessories
>> &#8594; Terminal
>> 2) - Please check the requested packages are installed see above;
>> 3) - Type the commands rows below you can also do a copy and paste of the
>> row, please copy and paste a row a time then press enter;
>>
>> mkdir $HOME/src
>> cd $HOME/src
>> svn co
>> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
>> harbour
>> cd $HOME/src/harbour
>> export HB_BIN_INSTALL=/usr/bin
>> export HB_INSTALL_PREFIX=/usr/bin
>> export HB_LIB_INSTALL=/usr/lib
>> export HB_INC_INSTALL=/usr/include
>> make
>> sudo -E make install
>>
>> When you use "sudo" the system ask you for a password, please typein
>> your user password: you will not see any feedback (i.e terminal chars)
>> when you type your password, so type the password, then press enter;
>>
>> to verify your build date of harbour, type:
>> harbour -build
>>
>> to generate Harbour for Win
>>
>> cd $HOME/src/harbour/; make HB_PLATFORM=win
>>
>> export HB_INSTALL_PREFIX=/tmp/hbwin; make install HB_PLATFORM=win
>>
>> if you want install hbwin in a different directory than /tmp/hbwin with
>> more stricted directory permissions... you must use sudo to install it:
>>
>> export HB_INSTALL_PREFIX=/usr/bin/hbwin; sudo -E make install
>> HB_PLATFORM=win
>>
>>
>> ***********************************
>>


-- 
Massimo Belgrano
From lorenzo.fiorini at gmail.com  Sun Dec 20 04:48:37 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Dec 20 04:48:46 2009
Subject: [Harbour] hbpgsql --enable-auto-import issue
Message-ID: <9257026e0912200148h64204fe4m300733a32a4db11f@mail.gmail.com>

Creating my apps under Win using mingw/msys and postgresql 8.4.2 I get:

Info: resolving _PQisnonblocking by linking to __imp__PQisnonblocking
(auto-import)
c:/mingw/bin/../lib/gcc/mingw32/4.4.1/../../../../mingw32/bin/ld.exe:
warning: auto-importing has been activated without
--enable-auto-import specified on the command line.
This should work unless it involves constant data structures referencing symbols
 from auto-imported DLLs.

The same build works in Linux and OSX.

I can't find a clean way to fix it.

Is it safe to add --enable-auto-import to hb-mkdyn?

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sun Dec 20 05:31:57 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Dec 20 05:32:07 2009
Subject: [Harbour] hbpgsql --enable-auto-import issue
In-Reply-To: <9257026e0912200148h64204fe4m300733a32a4db11f@mail.gmail.com>
References: <9257026e0912200148h64204fe4m300733a32a4db11f@mail.gmail.com>
Message-ID: <00A11E46-B0BA-4A77-B793-A4C0D3BBA81F@syenar.hu>

I'm not getting it when building test.prg from SVN.
All I did was regenerating liblibpq.a with hb-mkimp.bat.

I'm not sure what the problem is, but I've never so far 
seen a case when --enable-auto-import would have been 
needed.

Brgds,
Viktor

On 2009 Dec 20, at 10:48, Lorenzo Fiorini wrote:

> Creating my apps under Win using mingw/msys and postgresql 8.4.2 I get:
> 
> Info: resolving _PQisnonblocking by linking to __imp__PQisnonblocking
> (auto-import)
> c:/mingw/bin/../lib/gcc/mingw32/4.4.1/../../../../mingw32/bin/ld.exe:
> warning: auto-importing has been activated without
> --enable-auto-import specified on the command line.
> This should work unless it involves constant data structures referencing symbols
> from auto-imported DLLs.
> 
> The same build works in Linux and OSX.
> 
> I can't find a clean way to fix it.
> 
> Is it safe to add --enable-auto-import to hb-mkdyn?
> 
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sun Dec 20 06:35:29 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Dec 20 06:35:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13327] trunk/harbour
Message-ID: <E1NMK4P-0002u9-H1@74yxhf1.ch3.sourceforge.com>

Revision: 13327
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13327&view=rev
Author:   vszakats
Date:     2009-12-20 11:35:28 +0000 (Sun, 20 Dec 2009)

Log Message:
-----------
2009-12-20 12:29 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_dll.c
    + Added support for Win64 dll calls to functions with no
      parameter.
    + Added internal support to call UNICODE functions in Win64 mode.
    + Added support for CP conversion for non-UNICODE functions in Win64 mode.
      (for now this is the only active mode).
    ! DllCall() made static function.
    * Renamed some constants, functions and variables.
    ; TODO: Add logic to enable UNICODE mode when needed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sun Dec 20 10:55:27 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Dec 20 14:21:56 2009
Subject: [Harbour] hbpgsql --enable-auto-import issue
In-Reply-To: <9257026e0912200148h64204fe4m300733a32a4db11f@mail.gmail.com>
References: <9257026e0912200148h64204fe4m300733a32a4db11f@mail.gmail.com>
Message-ID: <20091220155527.GA5682@linux-4bod.home.aster.pl>

On Sun, 20 Dec 2009, Lorenzo Fiorini wrote:

Hi,

> Creating my apps under Win using mingw/msys and postgresql 8.4.2 I get:
> Info: resolving _PQisnonblocking by linking to __imp__PQisnonblocking
> (auto-import)
> c:/mingw/bin/../lib/gcc/mingw32/4.4.1/../../../../mingw32/bin/ld.exe:
> warning: auto-importing has been activated without
> --enable-auto-import specified on the command line.

Your postgresql dynamic library has been compiled without even single
exported symbol. In such case (nothing is exported) MinGW decides that
it was programmer mistake and activates "online" exporting of all public
symbols in the library (auto-import option).

> This should work unless it involves constant data structures referencing symbols
>  from auto-imported DLLs.

To be more precise unless some structures are not accessed with internal
offset calculated at compile time because for such situations it's necessary
to generate different ASM code.

> The same build works in Linux and OSX.

Neither Linux nor OSX use export/import symbol status :-(

> I can't find a clean way to fix it.

You have to use postgresql DLL compiled with exported symbols
or import library which will "hide" the real status of symbols
or simply ignore above warning.

> Is it safe to add --enable-auto-import to hb-mkdyn?

If you do not want to know that you are using DLLs without exported
symbols then you can use it to pacify above warning.

best regards,
Przemek
From harbour.01 at syenar.hu  Sun Dec 20 12:30:05 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec 20 14:28:08 2009
Subject: [Harbour] HBQT: Pending TOFIXes
Message-ID: <21594569-B449-4104-8DDE-5C29A8B76403@syenar.hu>

Hi Pritpal,

Here is a list of pending TOFIX notes:
---
hbqt_destruct.cpp:92:      return hb_parptr( iParam ); /* TOFIX: This is dangerous. */
hbqt_events.cpp:92:/* TOFIX: Possible GPF if below pointer is used by .prg after release. */
hbqt_events.cpp:98:/* TOFIX: Leak if .prg code doesn't call this explicitly. */
hbqt_events.cpp:118:   /* TOFIX: Possible leak of PHB_ITEMs stored in list. */
hbqt_events.cpp:170:      /* TOFIX: Reference to GC collected pointer is stored. */
hbqt_hbqtableview.cpp:196:/* TOFIX: Leak */
hbqt_slots.cpp:90:/* TOFIX: Leak if .prg code doesn't call this explicitly. */
hbqt_slots.cpp:110:   /* TOFIX: Possible leak of PHB_ITEMs stored in list.
---

As for proper error handling I think HBQT would need 
an errorsys replacement which uses QT MessageBox to 
popup RTE information.

Can you take a look at these in some free time?

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Sun Dec 20 12:21:59 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Dec 20 14:33:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13329] trunk/harbour
Message-ID: <E1NMPTj-0004rX-49@c3vjzd1.ch3.sourceforge.com>

Revision: 13329
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13329&view=rev
Author:   vouchcac
Date:     2009-12-20 17:21:57 +0000 (Sun, 20 Dec 2009)

Log Message:
-----------
2009-12-20 09:11 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/hbqt_slots.h
    + Added more signal/slots.

  * contrib/hbide/hbide.ch
  * contrib/hbide/hbide.prg
    ! Improved Find/Replace functionality. Now it is usable feature 
      though I have to tweak it a little more. The current functionality is as:

        CTRL+F or "Find" icon => Opens <Find-Replace> dialog.
        CTRL+N finds next occurance of current "Find" string - always 
               shown in one of the panels of status-bar.
               This invocation is equivalent to if you click <Find> pushbutton
               of the <Find-Replace> dialog.
        CTRL+R Replaces the current selection with current "Replace" string
               previously entered or selected with <Replace> push button.
               This invocation is equivalent to if you click <Replace> pushbutton
               of the <Find-Replace> dialog.

        History of <Find>/<Replace> strings is maintained and is populated
        in drop-down list of respective combo-boxes. 
        
        TODO: <Global> and <Replace without prompting> features.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.ch
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sun Dec 20 11:11:45 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Dec 20 14:34:00 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <33D9ED6A-30A1-4B44-AFB5-2F1D80B20698@syenar.hu>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
	<9257026e0912190315y2ebc9571j2ce180d121755de1@mail.gmail.com>
	<33D9ED6A-30A1-4B44-AFB5-2F1D80B20698@syenar.hu>
Message-ID: <20091220161145.GB5682@linux-4bod.home.aster.pl>

On Sat, 19 Dec 2009, Szak?ts Viktor wrote:

Hi,

> > I think /opt should be removed from HB_SYSLOC logic in global.mk
> > /opt is not a system dir
> It's fine with me and the modification is an easy one 
> (and should also be done in hbmk2.prg), but before I 
> do it, can other *nix experts give a short opinion or 
> confirmation?

It despneds on what you are calling system installation?
If you ask about special permissions necessary to access /opt
then it's system installation.
If you ask about using /opt/*/lib as one one default dynamic loader
libraries then it's not system installation but some installers
can add /opt/*/lib to dynamic loader library list.
If you ask about some strict directory structure used in /opt tree
which is defined by filesystem hierarchy standard then /opt is
described and should confirm such standards so in this sense it's
system installation.

> To me /opt looks like a grey area.

It's quite precisely defined by FHS (Filesystem Hierarchy Standard).
Few months ago I sent this list description of directory structure
which should be used by Harbour when it's installed in /opt directory.

Below I'm attaching it again.

best regards,
Przemek


'->' means soft link,

1. FHS2.3 compliant localization for add-on applications:
=========================================================
/opt/
    /harbour/
            /bin/
                <harbour_executable_files>
            /lib/
                <native_harbour_libraries>
               [/<addon_harbour_lib>/
                                     <native_addon_libraries>]
               [/<platform>/<cc>/
                                <platform_cc_libraries>]
            /include/
                    <harbour_header_files>
                   [/<addon_harbour_lib>/
                                            <addon_header_files>]
            /share/
                  /man/
                      /man1/
                           <harbour_man_pages>.1
                  /doc/
                      <harbour_doc_files_and_dirs>
                     [/<addon_harbour_lib>/
                                          <addon_docs>]
            /etc -> /etc/harbour
/etc/
    /harbour/
            <harbour_config_files>
/etc/
    /opt/         (if exists)
        /harbour -> /etc/harbour

if /opt/bin exists then we should create in this directory soft links
to executable files in /opt/harbour/bin

if /opt/lib exists then we should create in this directory soft links
to harbour shared libraries in /opt/harbour/lib

if /opt/man/man1 exists then we should create in this directory soft links
to harbour shared libraries in /opt/harbour/share/man/man1
From druzus at acn.waw.pl  Sun Dec 20 11:17:22 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Dec 20 14:34:09 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <636E4993-44F0-4C2F-90E5-E18D320B0968@syenar.hu>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
	<20091219113319.GA18476@linux-4bod.home.aster.pl>
	<636E4993-44F0-4C2F-90E5-E18D320B0968@syenar.hu>
Message-ID: <20091220161722.GC5682@linux-4bod.home.aster.pl>

On Sat, 19 Dec 2009, Szak?ts Viktor wrote:

Hi,

> I made a test for mixing C++ and C code, and it worked without 
> problem with current build. C INIT/EXIT was executed first.

Thank you.
BTW can you also check if C and C++ modules use the same initialization
order? I.e. you have three files with INIT procedures (P1(), P2(), P3())
linked as:
   f1.obj f2.obj f3.obj
When all are compiled in C or C++ mode then they should be executed
in the link order: P1, P2, P3.
Please check the order for f1.obj(c++) f2.obj(c) f3.obj(c++) and
f1.obj(c) f2.obj(c++) f3.obj(c)

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Sun Dec 20 11:21:30 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Dec 20 14:02:35 2009
Subject: [Harbour] hbpgsql --enable-auto-import issue
In-Reply-To: <00A11E46-B0BA-4A77-B793-A4C0D3BBA81F@syenar.hu>
References: <9257026e0912200148h64204fe4m300733a32a4db11f@mail.gmail.com>
	<00A11E46-B0BA-4A77-B793-A4C0D3BBA81F@syenar.hu>
Message-ID: <9257026e0912200821h7ea2fd31p9716161de947a872@mail.gmail.com>

On Sun, Dec 20, 2009 at 11:31 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> I'm not getting it when building test.prg from SVN.
> All I did was regenerating liblibpq.a with hb-mkimp.bat.
>
> I'm not sure what the problem is, but I've never so far
> seen a case when --enable-auto-import would have been
> needed.

To reproduce it: hb-mkdyn libhbpgsql.dll libhbpgsql.a
<path>/harbour.dll <path>/libpq.dll

this will allow to use simply -lhbpgsql to create dynamically linked executables

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Sun Dec 20 14:10:37 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Dec 20 14:10:44 2009
Subject: [Harbour] hbpgsql --enable-auto-import issue
In-Reply-To: <20091220155527.GA5682@linux-4bod.home.aster.pl>
References: <9257026e0912200148h64204fe4m300733a32a4db11f@mail.gmail.com>
	<20091220155527.GA5682@linux-4bod.home.aster.pl>
Message-ID: <9257026e0912201110v7c1db31ak8a724ec911580da3@mail.gmail.com>

2009/12/20 Przemys?aw Czerpak <druzus@acn.waw.pl>:

> Your postgresql dynamic library has been compiled without even single
> exported symbol. In such case (nothing is exported) MinGW decides that
> it was programmer mistake and activates "online" exporting of all public
> symbols in the library (auto-import option).

Many thanks, it must be something changed with last postgresql win versions.

> You have to use postgresql DLL compiled with exported symbols
> or import library which will "hide" the real status of symbols
> or simply ignore above warning.

I can ignore it.

best regards,
Lorenzo
From vszakats at users.sourceforge.net  Sun Dec 20 10:16:30 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Dec 20 14:27:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13328] trunk/harbour
Message-ID: <E1NMNWI-0000pA-El@dn4whf1.ch3.sourceforge.com>

Revision: 13328
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13328&view=rev
Author:   vszakats
Date:     2009-12-20 15:16:29 +0000 (Sun, 20 Dec 2009)

Log Message:
-----------
2009-12-20 16:15 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/tests/testdll.prg
  * contrib/hbwin/win_dll.c
    + Added support for passing parameters by reference in win64 mode.
    + Added logic to detect UNICODE mode. Enabled only in win64.
    ! One regression fixed in previous version (in non-win64 mode).
    ! Fixed default return to be the same in win64 as in non-win64 mode.
    ; TOFIX: Strings passed by reference seems to be wrong.
    ; TOFIX: UNICODE support for string passed by reference doesn't work.

    ; Please test/review and contribute to this, current state is pretty
      much the extent I'm willing and capable of implementing this.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/tests/testdll.prg
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From carozodequilmes at gmail.com  Sun Dec 20 14:28:05 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Sun Dec 20 14:28:11 2009
Subject: [Harbour] Little question about HBQT and release of objects
Message-ID: <578c73340912201128t6f0e6a40q420895a4491e8434@mail.gmail.com>

Hi, what is the better way for release (or destroy, or free, or delete) a
widget (or control, or object) in hbqt ????

obj:close() , obj:destroy() , obj := NIL ??????????

Thanks in advance
CdQ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091220/b60894ec/attachment.html
From vouchcac at users.sourceforge.net  Sun Dec 20 14:57:49 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Dec 20 14:57:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13330] trunk/harbour
Message-ID: <E1NMRuX-0008Lx-Gk@c3vjzd1.ch3.sourceforge.com>

Revision: 13330
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13330&view=rev
Author:   vouchcac
Date:     2009-12-20 19:57:45 +0000 (Sun, 20 Dec 2009)

Log Message:
-----------
2009-12-20 11:53 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_hbqtableview.cpp
    % Fixed one TOFIX.

  * contrib/hbqt/hbqt_destruct.cpp
    % Fixed one TOFIX.

  * contrib/hbqt/hbqt_events.cpp
    % Fixed one TOFIX.

  * contrib/hbqt/hbqt_slots.cpp
    % Fixed one TOFIX.

    Please review me, though everything is working fine.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
    trunk/harbour/contrib/hbqt/hbqt_events.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqtableview.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sun Dec 20 15:01:49 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Dec 20 15:01:56 2009
Subject: [Harbour] HBQT: Pending TOFIXes
In-Reply-To: <21594569-B449-4104-8DDE-5C29A8B76403@syenar.hu>
References: <21594569-B449-4104-8DDE-5C29A8B76403@syenar.hu>
Message-ID: <26866787.post@talk.nabble.com>


Hello Viktor

>hbqt_destruct.cpp:92:      return hb_parptr( iParam ); /* TOFIX: This is
dangerous. */

Now the pointer type is checked, so I think it is the only way to control
it.
So I have removed TOFIX.

>hbqt_events.cpp:118:   /* TOFIX: Possible leak of PHB_ITEMs stored in list.
*/

Fixed

>hbqt_hbqtableview.cpp:196:/* TOFIX: Leak */

Fixed.

>hbqt_slots.cpp:110:   /* TOFIX: Possible leak of PHB_ITEMs stored in list.

Fixed.



> As for proper error handling I think HBQT would need 
> an errorsys replacement which uses QT MessageBox to 
> popup RTE information.
> 

Yes sure, first we need to introduce RTE mechanism here.

Rest to fixes I am looking into.
Please review my code.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/HBQT%3A-Pending-TOFIXes-tp26865988p26866787.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Sun Dec 20 15:33:07 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Dec 20 15:33:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13329] trunk/harbour
In-Reply-To: <E1NMPTj-0004rX-49@c3vjzd1.ch3.sourceforge.com>
References: <E1NMPTj-0004rX-49@c3vjzd1.ch3.sourceforge.com>
Message-ID: <609353e70912201233q2101c53s7b1288da43982aa4@mail.gmail.com>

Very good works Pritpal i notice you problem (or my misunderstanding)
Selecting two row to Upper button lost info
Not remember my choice on show/hide of  compile result and function list

to be usable are sufficient follow point
Build and run with magic xmate's capability of show error in compile result
Button Search in files with show in compile result
Column selection



2009/12/20  <vouchcac@users.sourceforge.net>:
> Revision: 13329
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13329&view=rev
> Author: ? vouchcac
> Date: ? ? 2009-12-20 17:21:57 +0000 (Sun, 20 Dec 2009)
>
> Log Message:
> -----------
> 2009-12-20 09:11 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> ?* contrib/hbqt/hbqt_slots.cpp
> ?* contrib/hbqt/hbqt_slots.h
> ? ?+ Added more signal/slots.
>
> ?* contrib/hbide/hbide.ch
> ?* contrib/hbide/hbide.prg
> ? ?! Improved Find/Replace functionality. Now it is usable feature
> ? ? ?though I have to tweak it a little more. The current functionality is as:
>
> ? ? ? ?CTRL+F or "Find" icon => Opens <Find-Replace> dialog.
> ? ? ? ?CTRL+N finds next occurance of current "Find" string - always
> ? ? ? ? ? ? ? shown in one of the panels of status-bar.
> ? ? ? ? ? ? ? This invocation is equivalent to if you click <Find> pushbutton
> ? ? ? ? ? ? ? of the <Find-Replace> dialog.
> ? ? ? ?CTRL+R Replaces the current selection with current "Replace" string
> ? ? ? ? ? ? ? previously entered or selected with <Replace> push button.
> ? ? ? ? ? ? ? This invocation is equivalent to if you click <Replace> pushbutton
> ? ? ? ? ? ? ? of the <Find-Replace> dialog.
>
> ? ? ? ?History of <Find>/<Replace> strings is maintained and is populated
> ? ? ? ?in drop-down list of respective combo-boxes.
>
> ? ? ? ?TODO: <Global> and <Replace without prompting> features.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/contrib/hbide/hbide.ch
> ? ?trunk/harbour/contrib/hbide/hbide.prg
> ? ?trunk/harbour/contrib/hbqt/hbqt_slots.cpp
> ? ?trunk/harbour/contrib/hbqt/hbqt_slots.h
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From capelsoft at terra.es  Sun Dec 20 16:05:26 2009
From: capelsoft at terra.es (=?iso-8859-1?Q?Jos=E9_Luis_Capel_~_CapelSoft?=)
Date: Sun Dec 20 16:05:46 2009
Subject: [Harbour] Warnings building Harbour for Msvc2008 
Message-ID: <BB587D1C63D34934BD3155EEB31AEF3D@BASETIERRA1>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: logmsvc2008.rar
Type: application/octet-stream
Size: 28715 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091220/96200981/logmsvc2008-0001.obj
From druzus at users.sourceforge.net  Sun Dec 20 16:12:55 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Dec 20 16:13:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13331] trunk/harbour
Message-ID: <E1NMT5D-0006JB-9M@3kljzd1.ch3.sourceforge.com>

Revision: 13331
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13331&view=rev
Author:   druzus
Date:     2009-12-20 21:12:54 +0000 (Sun, 20 Dec 2009)

Log Message:
-----------
2009-12-20 22:12 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/Makefile
  + harbour/include/hbtrace.ch
  * harbour/include/hbtrace.h
  * harbour/src/rtl/trace.c
  * harbour/src/common/hbtrace.c
    ! fixed hb_tracelevel() C function to change trace filter instead of
      last message level. It also fixed .prg function HB_TRACELEVEL().
    + added new C function:
         void hb_tracelog( int level, const char * file, int line,
                           const char * proc, const char * fmt, ... )
    + added new .prg functions:
         hb_traceLogLevel( <nNewLevel> ) -> <nPrevLevel>
         hb_traceLog( <xMsgItems,...> ) // generate message at
                                        // hb_traceLogLevel()
         hb_traceLogAt( <nLevel>, <msg,...> )
    + added support for HB_TRACE() messages in .prg code with the same
      functionality as in C code:
         HB_TRACE( <level>, <msg,...> )
      HB_TRACE() code if filtered at compile time by HB_TR_LEVEL_* macros
      i.e. -DHB_TR_LEVEL_INFO used as harbour compiler parameter
      and at runtime by HB_TR_LEVEL=<level> envvar (set HB_TR_LEVEL=DEBUG)
      or by hb_traceLevel( <nLevel> ) function (hb_traceLevel( HB_TR_DEBUG ))
      Default compile time and runtime trace level for C and .prg code
      is HB_TR_WARNING.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/Makefile
    trunk/harbour/include/hbtrace.h
    trunk/harbour/src/common/hbtrace.c
    trunk/harbour/src/rtl/trace.c

Added Paths:
-----------
    trunk/harbour/include/hbtrace.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From calimero22 at freemail.it  Sun Dec 20 18:12:55 2009
From: calimero22 at freemail.it (calimero22@freemail.it)
Date: Sun Dec 20 18:13:03 2009
Subject: [Harbour] Harbour & MySQL
Message-ID: <20091220231255.B22EE1AC1@eva87.dadanet.it>

An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091221/fedc257d/attachment.html
From harbour.01 at syenar.hu  Sun Dec 20 18:35:54 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec 20 18:36:06 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <20091220161145.GB5682@linux-4bod.home.aster.pl>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
	<9257026e0912190315y2ebc9571j2ce180d121755de1@mail.gmail.com>
	<33D9ED6A-30A1-4B44-AFB5-2F1D80B20698@syenar.hu>
	<20091220161145.GB5682@linux-4bod.home.aster.pl>
Message-ID: <B9BF8EEB-FE64-4CAA-AA72-EDB3FF21A22B@syenar.hu>

Hi,

I need a yes/no, since I have no capacity to make a decision 
here, and for me this stays a grey area, a quite big one 
actually. I remember your mails (even referred to it), but 
I specifically didn't want to go into this area before release.

Brgds,
Viktor

On 2009 Dec 20, at 17:11, Przemys?aw Czerpak wrote:

> On Sat, 19 Dec 2009, Szak?ts Viktor wrote:
> 
> Hi,
> 
>>> I think /opt should be removed from HB_SYSLOC logic in global.mk
>>> /opt is not a system dir
>> It's fine with me and the modification is an easy one 
>> (and should also be done in hbmk2.prg), but before I 
>> do it, can other *nix experts give a short opinion or 
>> confirmation?
> 
> It despneds on what you are calling system installation?
> If you ask about special permissions necessary to access /opt
> then it's system installation.
> If you ask about using /opt/*/lib as one one default dynamic loader
> libraries then it's not system installation but some installers
> can add /opt/*/lib to dynamic loader library list.
> If you ask about some strict directory structure used in /opt tree
> which is defined by filesystem hierarchy standard then /opt is
> described and should confirm such standards so in this sense it's
> system installation.
> 
>> To me /opt looks like a grey area.
> 
> It's quite precisely defined by FHS (Filesystem Hierarchy Standard).
> Few months ago I sent this list description of directory structure
> which should be used by Harbour when it's installed in /opt directory.
> 
> Below I'm attaching it again.
> 
> best regards,
> Przemek
> 
> 
> '->' means soft link,
> 
> 1. FHS2.3 compliant localization for add-on applications:
> =========================================================
> /opt/
>    /harbour/
>            /bin/
>                <harbour_executable_files>
>            /lib/
>                <native_harbour_libraries>
>               [/<addon_harbour_lib>/
>                                     <native_addon_libraries>]
>               [/<platform>/<cc>/
>                                <platform_cc_libraries>]
>            /include/
>                    <harbour_header_files>
>                   [/<addon_harbour_lib>/
>                                            <addon_header_files>]
>            /share/
>                  /man/
>                      /man1/
>                           <harbour_man_pages>.1
>                  /doc/
>                      <harbour_doc_files_and_dirs>
>                     [/<addon_harbour_lib>/
>                                          <addon_docs>]
>            /etc -> /etc/harbour
> /etc/
>    /harbour/
>            <harbour_config_files>
> /etc/
>    /opt/         (if exists)
>        /harbour -> /etc/harbour
> 
> if /opt/bin exists then we should create in this directory soft links
> to executable files in /opt/harbour/bin
> 
> if /opt/lib exists then we should create in this directory soft links
> to harbour shared libraries in /opt/harbour/lib
> 
> if /opt/man/man1 exists then we should create in this directory soft links
> to harbour shared libraries in /opt/harbour/share/man/man1
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Dec 20 18:41:27 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec 20 18:41:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13330] trunk/harbour
In-Reply-To: <E1NMRuX-0008Lx-Gk@c3vjzd1.ch3.sourceforge.com>
References: <E1NMRuX-0008Lx-Gk@c3vjzd1.ch3.sourceforge.com>
Message-ID: <B719C55A-A67C-405D-B066-F2A71734CBC2@syenar.hu>

> Log Message:
> -----------
> 2009-12-20 11:53 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbqt/hbqt_hbqtableview.cpp
>    % Fixed one TOFIX.
> 
>  * contrib/hbqt/hbqt_destruct.cpp
>    % Fixed one TOFIX.
> 
>  * contrib/hbqt/hbqt_events.cpp
>    % Fixed one TOFIX.
> 
>  * contrib/hbqt/hbqt_slots.cpp
>    % Fixed one TOFIX.
> 
>    Please review me, though everything is working fine.

Thank you. Just reviewed the code yet.

Well, I strongly think that a GPF is never better 
than an RTE, so the fix in hbqt_destruct.cpp still 
needs a proper fix. Returning a non-GC pointer is 
also very dangerous as it can create uncounted 
references in other objects which will easily 
create GPFs, if not released in proper order.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Dec 20 18:42:52 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec 20 18:43:02 2009
Subject: [Harbour] HBQT: Pending TOFIXes
In-Reply-To: <26866787.post@talk.nabble.com>
References: <21594569-B449-4104-8DDE-5C29A8B76403@syenar.hu>
	<26866787.post@talk.nabble.com>
Message-ID: <AD75A9ED-6A92-47CC-8CB5-E4CA2A6D7E1C@syenar.hu>

Hi Pritpal,

>> hbqt_destruct.cpp:92:      return hb_parptr( iParam ); /* TOFIX: This is
> dangerous. */
> 
> Now the pointer type is checked, so I think it is the only way to control
> it.
> So I have removed TOFIX.

Ops, pls see my other mail. I think this is still 
wrong and for multiple reasons. HBQT needs an error 
handler in the first place and RTEs, not GPFs. GPFs 
are pretty difficult to track down for most programmers.

>> hbqt_events.cpp:118:   /* TOFIX: Possible leak of PHB_ITEMs stored in list.
> */
> 
> Fixed
> 
>> hbqt_hbqtableview.cpp:196:/* TOFIX: Leak */
> 
> Fixed.
> 
>> hbqt_slots.cpp:110:   /* TOFIX: Possible leak of PHB_ITEMs stored in list.
> 
> Fixed.

Thank you, these look good.

>> As for proper error handling I think HBQT would need 
>> an errorsys replacement which uses QT MessageBox to 
>> popup RTE information.
>> 
> 
> Yes sure, first we need to introduce RTE mechanism here.

Yes.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Dec 20 19:07:25 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Dec 20 19:07:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13332] trunk/harbour
Message-ID: <E1NMVo5-0006xq-WE@74yxhf1.ch3.sourceforge.com>

Revision: 13332
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13332&view=rev
Author:   vszakats
Date:     2009-12-21 00:07:24 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-21 00:59 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbextern.ch
    + Added new trace functions.
    ; TODO: Use these new functions in HBQT, HBXBP.

  * contrib/hbwin/win_dll.c
    ! Fix for OpenWatcom. Seems to require LPVOID in asm code.

  * contrib/hbqt/hbqt_destruct.cpp
    * Minor formatting. ('return( x )' -> 'return x', return is not a function)
    + Added 'TODO:' to todo text.
    + Added TOFIX to hb_parptr() usage. Without reference counting this is 
      still dangerous.
      Probably some mechanisms would be needed to count references when 
      attaching one GC collected pointer to another object, and decrement 
      references when disconnecting or deleting holder object. Without 
      this, there will always be a possibility that some objects refer 
      to deleted objects. Unless I'm missing some logic which already that.
      Probably "delayed release" is the mechanism which is trying to 
      solve that problem at the moment.

  * contrib/hbwin/wapi_winbase_mutex.c
    * Minor formatting (superfluous brackets)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
    trunk/harbour/contrib/hbwin/wapi_winbase_mutex.c
    trunk/harbour/contrib/hbwin/win_dll.c
    trunk/harbour/include/hbextern.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Dec 20 19:48:31 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec 20 19:48:44 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <20091220161722.GC5682@linux-4bod.home.aster.pl>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
	<20091219113319.GA18476@linux-4bod.home.aster.pl>
	<636E4993-44F0-4C2F-90E5-E18D320B0968@syenar.hu>
	<20091220161722.GC5682@linux-4bod.home.aster.pl>
Message-ID: <79691999-AB87-4C20-998A-292D2FCABDC4@syenar.hu>

Hi Przemek,

On 2009 Dec 20, at 17:17, Przemys?aw Czerpak wrote:

> On Sat, 19 Dec 2009, Szak?ts Viktor wrote:
> 
> Hi,
> 
>> I made a test for mixing C++ and C code, and it worked without 
>> problem with current build. C INIT/EXIT was executed first.
> 
> Thank you.
> BTW can you also check if C and C++ modules use the same initialization
> order? I.e. you have three files with INIT procedures (P1(), P2(), P3())

It stayed the same. C first, C++ second.

> linked as:
>   f1.obj f2.obj f3.obj
> When all are compiled in C or C++ mode then they should be executed
> in the link order: P1, P2, P3.
> Please check the order for f1.obj(c++) f2.obj(c) f3.obj(c++) and

p2_init
p1_init
p3_init
p2_exit
p1_exit
p3_exit

> f1.obj(c) f2.obj(c++) f3.obj(c)

p1_init
p3_init
p2_init
p1_exit
p3_exit
p2_exit

Brgds,
Viktor

From jarabal at gmail.com  Sun Dec 20 20:09:31 2009
From: jarabal at gmail.com (Xavi)
Date: Sun Dec 20 20:10:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13325] trunk/harbour
In-Reply-To: <E1NMCtG-0001SD-Eg@3kljzd1.ch3.sourceforge.com>
References: <E1NMCtG-0001SD-Eg@3kljzd1.ch3.sourceforge.com>
Message-ID: <4B2ECACB.9030003@gmail.com>

Victor,

Thank you very much, only a small observation .-

---- testwmtx.prg

STATIC s_hMutex

PROCEDURE Main()
      LOCAL cAppName

      // It may be a random program name :)
      hb_FNameSplit( hb_ProgName(), NIL, @cAppName )

      s_hMutex := wapi_CreateMutex( NIL, NIL, cAppName )
      IF ! Empty( s_hMutex ) .AND. wapi_GetLastError() == 0
         ? cAppName, "=> Hello World! OK."
         WAIT
         wapi_ReleaseMutex( s_hMutex )
      ELSE
         ? cAppName, "=> Application is running. Error", wapi_GetLastError()
         WAIT
      ENDIF

      RETURN
----

wapi_ReleaseMutex() does nothing, returns .F. because we not create the mutex as owner.
In this case it's better, I think it would be better to remove.

Maybe now is not the moment, when the time I'd like to find a solution for wapi_par_HANDLE and wapi_ret_HANDLE.

best regards,
Xavi

From bedipritpal at hotmail.com  Sun Dec 20 20:14:21 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Dec 20 20:14:28 2009
Subject: [Harbour] Little question about HBQT and release of objects
In-Reply-To: <578c73340912201128t6f0e6a40q420895a4491e8434@mail.gmail.com>
References: <578c73340912201128t6f0e6a40q420895a4491e8434@mail.gmail.com>
Message-ID: <26868717.post@talk.nabble.com>


Hi


CarozoDeQuilmes wrote:
> 
> Hi, what is the better way for release (or destroy, or free, or delete) a
> widget (or control, or object) in hbqt ????
> 
> obj:close() , obj:destroy() , obj := NIL ??????????
> 

I assume you are talking about an object 
obtained with :new() method. If true, then 

oObj := QSomeObject():new()
...
...
oObj:pPtr := 0

OR if oObj is a local variable then you need not 
to free it anyway, GC will take care of that.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/Little-question-about-HBQT-and-release-of-objects-tp26866502p26868717.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sun Dec 20 20:27:56 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Dec 20 20:28:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13329] trunk/harbour
In-Reply-To: <609353e70912201233q2101c53s7b1288da43982aa4@mail.gmail.com>
References: <E1NMPTj-0004rX-49@c3vjzd1.ch3.sourceforge.com>
	<609353e70912201233q2101c53s7b1288da43982aa4@mail.gmail.com>
Message-ID: <26868719.post@talk.nabble.com>


Hi


Massimo Belgrano-3 wrote:
> 
> Very good works Pritpal i notice you problem (or my misunderstanding)
> Selecting two row to Upper button lost info
> Not remember my choice on show/hide of  compile result and function list
> 
> to be usable are sufficient follow point
> Build and run with magic xmate's capability of show error in compile
> result
> Button Search in files with show in compile result
> Column selection
> 


> Selecting two row to Upper button lost info

Yes, I know. 

> choice on show/hide of  compile result and function list

Actually this is Qt version dependant feature and is fixed in 4.5.2 onwards.

> Build and run with magic xmate's capability of show error in compile
> result

This is there, just build project with (Qt) option. Though still not 
as sophisticated as xMate but prototype is there.

> Button Search in files with show in compile result

On my TODO list, will try before version 2.0.

> Column selection

This is a must-have feature but still I am at a loss how it can be 
implemented in Qt. I am trying hard.

Qt is a learning curve for me, so some features may take some time.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13329--trunk-harbour-tp26866124p26868719.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sun Dec 20 20:34:42 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec 20 20:34:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13325] trunk/harbour
In-Reply-To: <4B2ECACB.9030003@gmail.com>
References: <E1NMCtG-0001SD-Eg@3kljzd1.ch3.sourceforge.com>
	<4B2ECACB.9030003@gmail.com>
Message-ID: <867CB006-DFD0-4BD7-A254-46400B0DAE4E@syenar.hu>

Hi Xavi,

On 2009 Dec 21, at 02:09, Xavi wrote:

> Victor,
> 
> Thank you very much, only a small observation .-
> 
> ---- testwmtx.prg
> 
> STATIC s_hMutex
> 
> PROCEDURE Main()
>     LOCAL cAppName
> 
>     // It may be a random program name :)
>     hb_FNameSplit( hb_ProgName(), NIL, @cAppName )
> 
>     s_hMutex := wapi_CreateMutex( NIL, NIL, cAppName )
>     IF ! Empty( s_hMutex ) .AND. wapi_GetLastError() == 0
>        ? cAppName, "=> Hello World! OK."
>        WAIT
>        wapi_ReleaseMutex( s_hMutex )
>     ELSE
>        ? cAppName, "=> Application is running. Error", wapi_GetLastError()
>        WAIT
>     ENDIF
> 
>     RETURN
> ----
> 
> wapi_ReleaseMutex() does nothing, returns .F. because we not create the mutex as owner.
> In this case it's better, I think it would be better to remove.

I'm not sure I understand, why aren't we the owner if we created 
the handle with success a few lines before?

[ Maybe s_hMutex := NIL would be enough, although in this case, 
I don't understand why GC release calls CloseHandle() while 
WAPI_RELEASEMUTEX() calls ReleaseMutex()? Should GC release 
call ReleaseMutex(), or both, or CloseHandle() also releases 
the mutex? Or both of them need to be called? A little bit 
confusing. ]

Well, anyway, let's do it as you think best, no capacity for 
me to understand this Windows subsystem.

> Maybe now is not the moment, when the time I'd like to find a solution for wapi_par_HANDLE and wapi_ret_HANDLE.

I don't know what you mean, but okay :)

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Dec 20 20:51:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Dec 20 20:51:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13333] trunk/harbour
Message-ID: <E1NMXQQ-0007Qy-Nh@d5vjzd1.ch3.sourceforge.com>

Revision: 13333
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13333&view=rev
Author:   vszakats
Date:     2009-12-21 01:51:02 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-21 02:49 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt.ch
  * contrib/hbxbp/xbp.ch
    + Using HB_TRACE() macro. This means that now .prg level
      trace messages have to be enabled the standard way, __HB_DEBUG__
      has no meaning anymore.

  * contrib/hbwin/tests/testwmtx.prg
    - Deleted some bits added by me as per Xavi's suggestions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt.ch
    trunk/harbour/contrib/hbwin/tests/testwmtx.prg
    trunk/harbour/contrib/hbxbp/xbp.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sun Dec 20 21:50:51 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Dec 20 21:50:58 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <79691999-AB87-4C20-998A-292D2FCABDC4@syenar.hu>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
	<20091219113319.GA18476@linux-4bod.home.aster.pl>
	<636E4993-44F0-4C2F-90E5-E18D320B0968@syenar.hu>
	<20091220161722.GC5682@linux-4bod.home.aster.pl>
	<79691999-AB87-4C20-998A-292D2FCABDC4@syenar.hu>
Message-ID: <20091221025051.GA20109@linux-4bod.home.aster.pl>

On Mon, 21 Dec 2009, Szak?ts Viktor wrote:

Hi,

> It stayed the same. C first, C++ second.

Thank you very much.
So small note for users not using in their .prg code MAIN() or _APPMAIN()
functions as startup application entry.
In MSVC Harbour builds when .prg modules were compiled in C and C++ modes
then the 1-st function from the 1-st module compiled in C mode is used as
startup function. INIT PROCEDUREs from modules compiled in C mode are
executed before INIT PROCEDUREs from modules compiled in C++ - this maybe
important for some 3-rd party library developers.

best regards,
Przemek
From april_white at sympatico.ca  Sun Dec 20 22:17:42 2009
From: april_white at sympatico.ca (April White)
Date: Sun Dec 20 22:17:50 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
Message-ID: <BLU0-SMTP2227944322655330893F73EF820@phx.gbl>

Viktor Szak?ts wrote:
> I'd like to ask everyone if there are any 
> patches, commits or fixes pending? (besides 
> hbqt related modules)
>   
Viktor, I'd like to commit more changes to the hb_btree code.  It is not 
100% done yet but this fixes some major bugs and paves the way for the 
next set of changes.

I can hold off on this if you recommend.

April

-- 
I was married by a judge. I should have asked for a jury.
- Groucho Marx

From jarabal at gmail.com  Sun Dec 20 22:33:37 2009
From: jarabal at gmail.com (Xavi)
Date: Sun Dec 20 22:34:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13325] trunk/harbour
In-Reply-To: <867CB006-DFD0-4BD7-A254-46400B0DAE4E@syenar.hu>
References: <E1NMCtG-0001SD-Eg@3kljzd1.ch3.sourceforge.com>	<4B2ECACB.9030003@gmail.com>
	<867CB006-DFD0-4BD7-A254-46400B0DAE4E@syenar.hu>
Message-ID: <4B2EEC91.4080405@gmail.com>

Hi Viktor,

Okay, not problem, it's not important now.

> I'm not sure I understand, why aren't we the owner if we created
> the handle with success a few lines before?

Perhaps this example help you understand better.-

http://msdn.microsoft.com/en-us/library/ms686927%28VS.85%29.aspx

best regards,
Xavi
From druzus at users.sourceforge.net  Mon Dec 21 02:22:15 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Dec 21 02:22:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13334] trunk/harbour
Message-ID: <E1NMcat-00041Z-W1@dn4whf1.ch3.sourceforge.com>

Revision: 13334
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13334&view=rev
Author:   druzus
Date:     2009-12-21 07:22:14 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-21 08:21 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbgtcore.h
  * harbour/include/hbapigt.h
    * moved declaration of hb_gtSetDefault() from hbgtcore.h to hbapigt.h

  * harbour/include/hbapi.h
  * harbour/src/vm/hvm.c
    + added new function hb_vmSetDefaultGT()

  * harbour/bin/hb-func.sh
  * harbour/utils/hbmk2/hbmk2.prg
    * use hb_vmSetDefaultGT() to set default GT
    * removed extern declarations for functions defined in hbapi.h

  * harbour/src/vm/dynlibhb.c
    + added support for HB_LIBLOAD()/HB_LIBFREE() in DJGPP 2.04 builds

  * harbour/config/global.mk
    * use 8.3 names for harbour dynamic libraries in all DOS builds

  * harbour/config/dos/djgpp.mk
    + added support for dynamic libraries (DXE) in DJGPP builds.
      DXE is sth similar to DLL in Windows and can be used with
      DJGPP 2.04. I had to make some modifications in DXE header
      files to make it working so it will not work in default DJGPP
      installation. I'll document these modifications in the future.

  * harbour/config/dos/watcom.mk
    * enable creating of harbour dynamic libraries only when HB_BUILD_DLL
      is explictly set by user to 'yes'. In DOS DJGPP and OpenWatcom builds
      DLLs support is not functional yet.

  * harbour/config/dyn.mk
    * added an option to create harbour dynamic libraries from static
      ones instead of .o|.obj files. It's necessary for DXE3GEN which
      internally calls LD which has some limited on maximum size of passed
      parameters.
      TODO: make HB_DYN_LIBS definition common for dyn.mk and lib.mk

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/config/dos/watcom.mk
    trunk/harbour/config/dyn.mk
    trunk/harbour/config/global.mk
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbapigt.h
    trunk/harbour/include/hbgtcore.h
    trunk/harbour/src/vm/dynlibhb.c
    trunk/harbour/src/vm/hvm.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Dec 21 02:35:48 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Dec 21 02:35:58 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <BLU0-SMTP2227944322655330893F73EF820@phx.gbl>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
	<BLU0-SMTP2227944322655330893F73EF820@phx.gbl>
Message-ID: <E1ED99F6-38CF-4B49-9CB5-FF5115211D4D@syenar.hu>

Hi April,

On 2009 Dec 21, at 04:17, April White wrote:

> Viktor Szak?ts wrote:
>> I'd like to ask everyone if there are any patches, commits or fixes pending? (besides hbqt related modules)
>>  
> Viktor, I'd like to commit more changes to the hb_btree code.  It is not 100% done yet but this fixes some major bugs and paves the way for the next set of changes.
> 
> I can hold off on this if you recommend.

No problem, please commit them.

Brgds,
Viktor

From mbelgrano at deltain.it  Mon Dec 21 03:07:46 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Dec 21 03:08:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13329] trunk/harbour
In-Reply-To: <26868719.post@talk.nabble.com>
References: <E1NMPTj-0004rX-49@c3vjzd1.ch3.sourceforge.com> 
	<609353e70912201233q2101c53s7b1288da43982aa4@mail.gmail.com> 
	<26868719.post@talk.nabble.com>
Message-ID: <609353e70912210007u60f8b616x67aa07dd23a7f5b@mail.gmail.com>

2009/12/21 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hi
>
>
> Massimo Belgrano-3 wrote:
>
>> Build and run with magic xmate's capability of show error in compile
>> result
>
> This is there, just build project with (Qt) option. Though still not
> as sophisticated as xMate but prototype is there.

Sorry How Build project?
Must  load project files ?

>> Column selection
>
> This is a must-have feature but still I am at a loss how it can be
> implemented in Qt. I am trying hard.
>
> Qt is a learning curve for me, so some features may take some time.

Very compliment
Your works show the power of HBQT!

>
> Regards
> Pritpal Bedi
>


-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Dec 21 03:20:40 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Dec 21 03:21:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13325] trunk/harbour
In-Reply-To: <4B2EEC91.4080405@gmail.com>
References: <E1NMCtG-0001SD-Eg@3kljzd1.ch3.sourceforge.com>	<4B2ECACB.9030003@gmail.com>
	<867CB006-DFD0-4BD7-A254-46400B0DAE4E@syenar.hu>
	<4B2EEC91.4080405@gmail.com>
Message-ID: <A7297659-F26A-4350-8C66-DF382C821561@syenar.hu>


On 2009 Dec 21, at 04:33, Xavi wrote:

> Hi Viktor,
> 
> Okay, not problem, it's not important now.
> 
>> I'm not sure I understand, why aren't we the owner if we created
>> the handle with success a few lines before?
> 
> Perhaps this example help you understand better.-
> 
> http://msdn.microsoft.com/en-us/library/ms686927%28VS.85%29.aspx

Thank you Xavi, I'll explore it in some free time.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Dec 21 03:29:29 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 21 03:29:41 2009
Subject: [Harbour] Tagging 2.0.0: Tomorrow
Message-ID: <EF90BA35-7B29-45FE-A2D4-F8CFA33DE338@syenar.hu>

Hi All,

I'd like to tag 2.0.0 final tomorrow CET 12:00.

Pls commit if there is anything pending, and pls 
start making test builds on various platforms, so 
that we can issue essential build fixes if/where 
required.

There is one pending WinCE showstopper (posted 
few days ago on the list: GetEnvironmentVariable) 
which needs to be fixed yet.

Win64 dll calling would also be nice if reviewed 
/ completed by someone, but that one's not a showstopper.

There are some pending patches from April.

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Mon Dec 21 03:40:37 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Dec 21 03:40:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13335] trunk/harbour
Message-ID: <E1NMdoj-0007Y7-DN@c3vjzd1.ch3.sourceforge.com>

Revision: 13335
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13335&view=rev
Author:   vouchcac
Date:     2009-12-21 08:40:36 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-21 00:38 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/resources/finddialog.ui
    ! Some aesthetic artifacts set corrected.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/resources/finddialog.ui


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From xharbour at telkom.net.id  Mon Dec 21 07:49:10 2009
From: xharbour at telkom.net.id (Andi Jahja)
Date: Mon Dec 21 07:49:27 2009
Subject: [Harbour] Tagging 2.0.0: Tomorrow
In-Reply-To: <EF90BA35-7B29-45FE-A2D4-F8CFA33DE338@syenar.hu>
References: <EF90BA35-7B29-45FE-A2D4-F8CFA33DE338@syenar.hu>
Message-ID: <20091221194908.1A55.422BA498@telkom.net.id>

Hi,

A non-compilation occurs on MSVC 6:

src\pp\pplib.c(76) : error C2375: 'hb_pp_ErrorMessage' : redefinition; different linkage
        src\pp\pplib.c(64) : see declaration of 'hb_pp_ErrorMessage'
src\pp\pplib.c(96) : error C2375: 'hb_pp_Disp' : redefinition; different linkage
        src\pp\pplib.c(67) : see declaration of 'hb_pp_Disp'
src\pp\pplib.c(104) : error C2375: 'hb_pp_CompilerSwitch' : redefinition; different linkage
        src\pp\pplib.c(68) : see declaration of 'hb_pp_CompilerSwitch'
src\pp\pplib.c(115) : error C2375: 'hb_pp_Destructor' : redefinition; different linkage
        src\pp\pplib.c(63) : see declaration of 'hb_pp_Destructor'

Microsoft (R) Program Maintenance Utility   Version 6.00.9782.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

NMAKE : fatal error U1077: 'CL' : return code '0x2'
Stop.

--
Andi

> I'd like to tag 2.0.0 final tomorrow CET 12:00.
 
From xharbour at telkom.net.id  Mon Dec 21 08:21:31 2009
From: xharbour at telkom.net.id (Andi Jahja)
Date: Mon Dec 21 08:21:43 2009
Subject: [Harbour] Tagging 2.0.0: Tomorrow
In-Reply-To: <EF90BA35-7B29-45FE-A2D4-F8CFA33DE338@syenar.hu>
References: <EF90BA35-7B29-45FE-A2D4-F8CFA33DE338@syenar.hu>
Message-ID: <20091221202129.5831.422BA498@telkom.net.id>

Hi,

I'd like to propose that QTNetwork's thingies are reserved for next version
(thus be removed from this version) because of the followings (sorry,
this is my personal build):

.....
TQHttpRequestHeader.obj : error LNK2001: unresolved external symbol _HB_FUN_QHTTPHEADER
TQHttpResponseHeader.obj : error LNK2001: unresolved external symbol _HB_FUN_QHTTPHEADER
bin\VC9\harbourQT.dll : fatal error LNK1120: 1 unresolved externals

Microsoft (R) Program Maintenance Utility Version 9.00.30729.01
Copyright (C) Microsoft Corporation.  All rights reserved.

NMAKE : fatal error U1077: '..\VC9\BIN\LINK.EXE' : return code '0x460'
Stop.
.....
--
Andi

> I'd like to tag 2.0.0 final tomorrow CET 12:00.

From druzus at acn.waw.pl  Mon Dec 21 08:34:20 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec 21 08:34:28 2009
Subject: [Harbour] Tagging 2.0.0: Tomorrow
In-Reply-To: <20091221194908.1A55.422BA498@telkom.net.id>
References: <EF90BA35-7B29-45FE-A2D4-F8CFA33DE338@syenar.hu>
	<20091221194908.1A55.422BA498@telkom.net.id>
Message-ID: <20091221133420.GA26329@linux-4bod.home.aster.pl>

On Mon, 21 Dec 2009, Andi Jahja wrote:

Hi,

> A non-compilation occurs on MSVC 6:
> src\pp\pplib.c(76) : error C2375: 'hb_pp_ErrorMessage' : redefinition; different linkage
>         src\pp\pplib.c(64) : see declaration of 'hb_pp_ErrorMessage'
> src\pp\pplib.c(96) : error C2375: 'hb_pp_Disp' : redefinition; different linkage
>         src\pp\pplib.c(67) : see declaration of 'hb_pp_Disp'
> src\pp\pplib.c(104) : error C2375: 'hb_pp_CompilerSwitch' : redefinition; different linkage
>         src\pp\pplib.c(68) : see declaration of 'hb_pp_CompilerSwitch'
> src\pp\pplib.c(115) : error C2375: 'hb_pp_Destructor' : redefinition; different linkage
>         src\pp\pplib.c(63) : see declaration of 'hb_pp_Destructor'

It's MSVC 6 problem. In this context it uses declarations as separate
definition from which function body does not inherit attributes.
I'll try to pacify it. Please check. It's possible that you will
find few other similar problems yet. If yes then probably we will
have to introduce new macros because some other compilers may need
such declaration.

best regards,
Przemek
From april at users.sourceforge.net  Mon Dec 21 08:38:12 2009
From: april at users.sourceforge.net (april@users.sourceforge.net)
Date: Mon Dec 21 08:38:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13336] trunk/harbour
Message-ID: <E1NMiSi-0005Tc-Rs@c3vjzd1.ch3.sourceforge.com>

Revision: 13336
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13336&view=rev
Author:   april
Date:     2009-12-21 13:38:11 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-21 13:33 UTC+0500 April White (april users.sourceforge.net)
  * contrib/hbbtree/hb_btree.c
    * formatting
    - removed internal history (changelog) text
    - fixed TOFIX: casting pointer to ULONG!
      * this was corrected in Changelog 13312 2009-12-19 15:32:24Z april
    * opening a file with read-only attribute now succeeds when
      the read-only flag is given
    * reading and writing of the file header uses internal buffer
      built or read by little endian macros
    * opening & reading file header was incorrect
    * header is not written at close if it was opened read-only
    * file header size is now fixed
    * creating a file with read-only flag affects only the OS-level
      attribute; the flag itself is not saved to the file
    * creating with read-only and shared flags will have the shared
      flag discarded
    * altered organization of file header; this will invalidate any
      existing hb_btree file

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbtree/hb_btree.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Mon Dec 21 08:38:41 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Dec 21 08:38:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13337] trunk/harbour
Message-ID: <E1NMiTB-0004g3-M4@3kljzd1.ch3.sourceforge.com>

Revision: 13337
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13337&view=rev
Author:   druzus
Date:     2009-12-21 13:38:40 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-21 14:38 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbwince.h
    + added hack for missing GetEnvironmentVariable?() declarations in
      POCC header files for WinCE.

  * harbour/src/common/hbwince.c
    * minor simplification

  * harbour/src/pp/pplib.c
    * workaround for MSVC6 errors

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbwince.h
    trunk/harbour/src/common/hbwince.c
    trunk/harbour/src/pp/pplib.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Dec 21 08:38:49 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec 21 08:38:59 2009
Subject: [Harbour] Tagging 2.0.0: Tomorrow
In-Reply-To: <EF90BA35-7B29-45FE-A2D4-F8CFA33DE338@syenar.hu>
References: <EF90BA35-7B29-45FE-A2D4-F8CFA33DE338@syenar.hu>
Message-ID: <20091221133849.GA1876@linux-4bod.home.aster.pl>

On Mon, 21 Dec 2009, Szak?ts Viktor wrote:

Hi,

> There is one pending WinCE showstopper (posted 
> few days ago on the list: GetEnvironmentVariable) 
> which needs to be fixed yet.

I added workaround for it to current code. Please test.

BTW can you modify hbmk2 to not ignore -shared parameter in DOS builds?

best regards,
Przemek
From xharbour at telkom.net.id  Mon Dec 21 08:59:25 2009
From: xharbour at telkom.net.id (Andi Jahja)
Date: Mon Dec 21 08:59:40 2009
Subject: [Harbour] Tagging 2.0.0: Tomorrow
In-Reply-To: <20091221133420.GA26329@linux-4bod.home.aster.pl>
References: <20091221194908.1A55.422BA498@telkom.net.id>
	<20091221133420.GA26329@linux-4bod.home.aster.pl>
Message-ID: <20091221205923.5835.422BA498@telkom.net.id>

It's OK now. No other similarity found. Probably new macros are needed
for compilers requiring extern "C" attributes for _static_functions_. To
my knowledge, no Windoze C/C++ compilers needs such an attribute.

Thanks.
--
Andi

On Mon, 21 Dec 2009 14:34:20 +0100
Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> It's MSVC 6 problem. In this context it uses declarations as separate
> definition from which function body does not inherit attributes.
> I'll try to pacify it. Please check. It's possible that you will
> find few other similar problems yet. If yes then probably we will
> have to introduce new macros because some other compilers may need
> such declaration.

From harbour at os.pl  Mon Dec 21 07:41:53 2009
From: harbour at os.pl (Andrzej P. Wozniak)
Date: Mon Dec 21 09:18:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13234] trunk/harbour
References: <E1NJop2-0004GX-48@3kljzd1.ch3.sourceforge.com><02aa01ca7e9b$b7088520$3a3aa8c0@olszynka.pl>
	<431897F7-51A3-478A-92CC-397F7D6CE1FD@syenar.hu>
Message-ID: <022c01ca8248$67ba4fc0$3a3aa8c0@olszynka.pl>

Sent: Wednesday, December 16, 2009 11:20 PM; From: Viktor Szak?ts

> Hi Andrzej,
>
> We're interfacing with Windows MAPI, and IMO such
> limits and other RFC details should be enforced by
> its low level code.
[...]
> I can easily restore now any artificial limit if we
> don't trust MAPI to combat spam and conform with RFC.
> Anyhow I think this is not this _wrappers_ job, and
> removing any limit actually added value to it.


Thanks for the clarification, Viktor. It should be included in the
documentation, I think.

-- 
Regards from The Harbour Project mirror in Poland
Andrzej P. Wo?niak




------
Darmowe statystyki stron www
http://WEBstat.pl

From harbour at os.pl  Mon Dec 21 07:56:14 2009
From: harbour at os.pl (Andrzej P. Wozniak)
Date: Mon Dec 21 09:18:26 2009
Subject: [Harbour] SF.net SVN:
	harbour-project:[13306]trunk/harbour/contrib/hbqt
References: <E1NLsk0-0002nW-DL@3kljzd1.ch3.sourceforge.com>
	<0EEBD0FA-8DC8-423F-A4BF-0D76B56D2ADE@syenar.hu>
Message-ID: <022d01ca8248$67dbe180$3a3aa8c0@olszynka.pl>

Sent: Saturday, December 19, 2009 11:03 AM; From: Viktor Szak?ts


> Hi Pritpal,
>
> Please always include a short entry in ChangeLog about
> regeneration:
[...]

Hi Viktor,

Please never quote full list of changes, especially the list of regenerated
sources.

-- 
Regards from The Harbour Project mirror in Poland
Andrzej P. Wo?niak




------
Darmowe statystyki stron www
http://WEBstat.pl

From ice at extreme.hu  Mon Dec 21 09:27:26 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Mon Dec 21 09:27:35 2009
Subject: [Harbour] Tagging 2.0.0: Tomorrow
In-Reply-To: <EF90BA35-7B29-45FE-A2D4-F8CFA33DE338@syenar.hu>
References: <EF90BA35-7B29-45FE-A2D4-F8CFA33DE338@syenar.hu>
Message-ID: <alpine.DEB.2.00.0912211523490.27623@dawn.royalcomp.hu>

On Mon, 21 Dec 2009, Viktor Szak?ts wrote:

hi,

 > start making test builds on various platforms, so 

my batch looks fine (linux host to dos/watcom, os2/watcom, win/watcom, 
win/mingw, linux/watcom, linux/gcc, linux/sunpro, linux/gcc, both c 
and cpp; linux/sunpro/cpp is unknown (because of recent header changes 
in glibc, which sunproCC didn't yet follow)).

-- 
[-]

mkdir /nonexistent
From april at users.sourceforge.net  Mon Dec 21 09:29:30 2009
From: april at users.sourceforge.net (april@users.sourceforge.net)
Date: Mon Dec 21 09:29:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13338] trunk/harbour
Message-ID: <E1NMjGM-0006c7-JE@c3vjzd1.ch3.sourceforge.com>

Revision: 13338
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13338&view=rev
Author:   april
Date:     2009-12-21 14:29:29 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-21 14:28 UTC+0500 April White (april users.sourceforge.net)
  * contrib/hbbtree/hb_btree.c
    * store a const to a var to be written to file in place of 
      writing the const to the file via a cast
    * typo fix: store 16-bit numbers as 32-bit numbers within the file

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbtree/hb_btree.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Dec 21 09:30:40 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 21 09:30:50 2009
Subject: [Harbour] SF.net SVN:
	harbour-project:[13306]trunk/harbour/contrib/hbqt
In-Reply-To: <022d01ca8248$67dbe180$3a3aa8c0@olszynka.pl>
References: <E1NLsk0-0002nW-DL@3kljzd1.ch3.sourceforge.com>
	<0EEBD0FA-8DC8-423F-A4BF-0D76B56D2ADE@syenar.hu>
	<022d01ca8248$67dbe180$3a3aa8c0@olszynka.pl>
Message-ID: <6EB9AF76-AFCF-4C2F-9A88-5B133E6BB05F@syenar.hu>

>> Hi Pritpal,
>> 
>> Please always include a short entry in ChangeLog about
>> regeneration:
> [...]
> 
> Hi Viktor,
> 
> Please never quote full list of changes, especially the list of regenerated
> sources.

I beg your pardon? This was the exact point of my e-mail 
(well the message overall), so in this case I specifically 
didn't remove it, otherwise I always do.

But please point each time when I forget to cut out enough 
quoted text 1 out of 100 mails, it helps a great deal ;)

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Dec 21 09:31:13 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec 21 09:31:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13234] trunk/harbour
In-Reply-To: <022c01ca8248$67ba4fc0$3a3aa8c0@olszynka.pl>
References: <E1NJop2-0004GX-48@3kljzd1.ch3.sourceforge.com>
	<02aa01ca7e9b$b7088520$3a3aa8c0@olszynka.pl>
	<431897F7-51A3-478A-92CC-397F7D6CE1FD@syenar.hu>
	<022c01ca8248$67ba4fc0$3a3aa8c0@olszynka.pl>
Message-ID: <20091221143112.GA21247@linux-4bod.home.aster.pl>

On Mon, 21 Dec 2009, Andrzej P. Wozniak wrote:

Hi,

> Thanks for the clarification, Viktor. It should be included in the
> documentation, I think.

No it shouldn't.

It should be included _only_ if Harbour introduce some limitations.
Fortunately now Harbour does not introduce any limitations or some
own exceptions which can be source of potential problems for Harbour
users so there is nothing to document.
Maybe I'm missing sth but can you explain me what is the idea of
documenting that Harbour use system or 3-rd party lib function XYZ()
without introducing any hiden limitations for XYZ() parameters.
Do you plan to create such documentation for _ALL_ library functions
used by Harbour? If not then why MAPISendMail() is an exception for
you and you want to document that Harbour does not create any limits
for passed parameters.

best regards,
Przemek
From mbelgrano at deltain.it  Mon Dec 21 09:42:08 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Dec 21 09:42:36 2009
Subject: [Harbour] SF.net SVN:
	harbour-project:[13306]trunk/harbour/contrib/hbqt
In-Reply-To: <6EB9AF76-AFCF-4C2F-9A88-5B133E6BB05F@syenar.hu>
References: <E1NLsk0-0002nW-DL@3kljzd1.ch3.sourceforge.com> 
	<0EEBD0FA-8DC8-423F-A4BF-0D76B56D2ADE@syenar.hu>
	<022d01ca8248$67dbe180$3a3aa8c0@olszynka.pl> 
	<6EB9AF76-AFCF-4C2F-9A88-5B133E6BB05F@syenar.hu>
Message-ID: <609353e70912210642i7856d5fat555a06adfd8e0d7c@mail.gmail.com>

Reading from gmail, the mailing list  i don't undestrand the
problem because follow discussion without problem because it *Not Show
Quoted Text*
anybody know if exist similar implementation in client mail (outlook et
similia)?

In teory we can implement a gmail style in root of webblist,  parses and
displays email messages with hidden quoted text
 *
*
2009/12/21 Viktor Szak?ts <harbour.01@syenar.hu>

> >> Hi Pritpal,
> >>
> >> Please always include a short entry in ChangeLog about
> >> regeneration:
> > [...]
> >
> > Hi Viktor,
> >
> > Please never quote full list of changes, especially the list of
> regenerated
> > sources.
>
> I beg your pardon? This was the exact point of my e-mail
> (well the message overall), so in this case I specifically
> didn't remove it, otherwise I always do.
>
> But please point each time when I forget to cut out enough
> quoted text 1 out of 100 mails, it helps a great deal ;)
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091221/7560977a/attachment.html
From druzus at users.sourceforge.net  Mon Dec 21 09:46:42 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Dec 21 09:46:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13339] trunk/harbour
Message-ID: <E1NMjX0-0005og-IK@3kljzd1.ch3.sourceforge.com>

Revision: 13339
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13339&view=rev
Author:   druzus
Date:     2009-12-21 14:46:41 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-21 15:46 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/Makefile
    * enable HB_HVM_ALL=yes in OpenWatcom C builds - it does not cause such
      huge compile time overheads as in C++ mode

  * harbour/src/vm/dynlibhb.c
    * generate TODO warning also in DOS builds when HB_LIBLOAD()/HB_LIBFREE()
      is unsupported

  * harbour/include/hbwince.h
    ! fixed recent modification

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbwince.h
    trunk/harbour/src/vm/Makefile
    trunk/harbour/src/vm/dynlibhb.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Dec 21 09:37:39 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec 21 09:51:57 2009
Subject: [Harbour] Tagging 2.0.0: Tomorrow
In-Reply-To: <20091221205923.5835.422BA498@telkom.net.id>
References: <20091221194908.1A55.422BA498@telkom.net.id>
	<20091221133420.GA26329@linux-4bod.home.aster.pl>
	<20091221205923.5835.422BA498@telkom.net.id>
Message-ID: <20091221143739.GB21247@linux-4bod.home.aster.pl>

On Mon, 21 Dec 2009, Andi Jahja wrote:

Hi,

> It's OK now. No other similarity found. Probably new macros are needed
> for compilers requiring extern "C" attributes for _static_functions_.

Thank you very much for your tests.

> To my knowledge, no Windoze C/C++ compilers needs such an attribute.

I also do not know Windows compiler which may need it but it may change
in the future or the problem can be exploited on some other platforms.
AFAIR in popular builds we are making only SunPRO C++ reports it.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Dec 21 09:53:59 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Dec 21 09:54:08 2009
Subject: [Harbour] SF.net SVN:
	harbour-project:[13306]trunk/harbour/contrib/hbqt
In-Reply-To: <609353e70912210642i7856d5fat555a06adfd8e0d7c@mail.gmail.com>
References: <E1NLsk0-0002nW-DL@3kljzd1.ch3.sourceforge.com>
	<0EEBD0FA-8DC8-423F-A4BF-0D76B56D2ADE@syenar.hu>
	<022d01ca8248$67dbe180$3a3aa8c0@olszynka.pl>
	<6EB9AF76-AFCF-4C2F-9A88-5B133E6BB05F@syenar.hu>
	<609353e70912210642i7856d5fat555a06adfd8e0d7c@mail.gmail.com>
Message-ID: <780871BB-180D-41FA-B34A-39E6EFC8B3A7@syenar.hu>

> Reading from gmail, the mailing list  i don't undestrand the problem because follow discussion without problem because it Not Show Quoted Text
> anybody know if exist similar implementation in client mail (outlook et similia)?
> 
> In teory we can implement a gmail style in root of webblist,  parses and displays email messages with hidden quoted text

I think it's enough if everyone just deletes unrelated 
parts of original messages. 

We've discussed this topic to death.

BTW, also in INSTALL:
---
   Documentation:

      Netiquette Guidelines
         http://tools.ietf.org/html/rfc1855
---

Maybe now we should start to define "unrelated"... ;)

Brgds,
Viktor

From carozodequilmes at gmail.com  Mon Dec 21 10:10:20 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Mon Dec 21 10:10:32 2009
Subject: [Harbour] Little question about HBQT and release of objects
In-Reply-To: <26868717.post@talk.nabble.com>
References: <578c73340912201128t6f0e6a40q420895a4491e8434@mail.gmail.com>
	<26868717.post@talk.nabble.com>
Message-ID: <578c73340912210710q57c1a16fl841a4fd5821a887c@mail.gmail.com>

Many thanks
CdQ

On Sun, Dec 20, 2009 at 10:14 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi
>
>
> CarozoDeQuilmes wrote:
> >
> > Hi, what is the better way for release (or destroy, or free, or delete) a
> > widget (or control, or object) in hbqt ????
> >
> > obj:close() , obj:destroy() , obj := NIL ??????????
> >
>
> I assume you are talking about an object
> obtained with :new() method. If true, then
>
> oObj := QSomeObject():new()
> ...
> ...
> oObj:pPtr := 0
>
> OR if oObj is a local variable then you need not
> to free it anyway, GC will take care of that.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://old.nabble.com/Little-question-about-HBQT-and-release-of-objects-tp26866502p26868717.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
QAC (I want something comfortable !!!) - Incremental Compilation with all
MiniGUIs versions
QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las
versiones de MiniGUI

Download: www.CarozoDeQuilmes.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091221/72f40006/attachment-0001.html
From vszakats at users.sourceforge.net  Mon Dec 21 10:14:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Dec 21 10:14:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13340] trunk/harbour
Message-ID: <E1NMjxd-0006KT-Nd@3kljzd1.ch3.sourceforge.com>

Revision: 13340
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13340&view=rev
Author:   vszakats
Date:     2009-12-21 15:14:12 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-21 16:13 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Enabled -shared support for dos/djgpp. Not tested.
    + Enabled -hbdyn support for dos/djgpp. Blind coding, not tested.

  * ChangeLog
    + TODOs/TOFIXes marked as done.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Mon Dec 21 11:43:22 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec 21 11:43:29 2009
Subject: [Harbour] Tagging 2.0.0: Tomorrow
In-Reply-To: <20091221202129.5831.422BA498@telkom.net.id>
References: <EF90BA35-7B29-45FE-A2D4-F8CFA33DE338@syenar.hu>
	<20091221202129.5831.422BA498@telkom.net.id>
Message-ID: <26876618.post@talk.nabble.com>


Hello Andi


Andi Jahja-2 wrote:
> 
> I'd like to propose that QTNetwork's thingies are reserved for next
> version
> (thus be removed from this version) because of the followings (sorry,
> this is my personal build):
> 
> .....
> TQHttpRequestHeader.obj : error LNK2001: unresolved external symbol
> _HB_FUN_QHTTPHEADER
> TQHttpResponseHeader.obj : error LNK2001: unresolved external symbol
> _HB_FUN_QHTTPHEADER
> bin\VC9\harbourQT.dll : fatal error LNK1120: 1 unresolved externals
> 

We excluded <QtWebKit> only.
Do we need to exclude <QtNetWork> anyway?
I heard no comments in this regard so far.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/Tagging-2.0.0%3A-Tomorrow-tp26871105p26876618.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From qiinfo at ig.com.br  Mon Dec 21 13:33:38 2009
From: qiinfo at ig.com.br (Rossine)
Date: Mon Dec 21 13:33:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13270] trunk/harbour
In-Reply-To: <422137.3405.qm@web33703.mail.mud.yahoo.com>
References: <E1NL0gB-0003xN-LO@d5vjzd1.ch3.sourceforge.com>
	<37vki5pfmu3kkrdar90jdqm3mmq7e08ebf@4ax.com>
	<ED16F51C-A280-4432-8F04-044EC982F41E@syenar.hu>
	<422137.3405.qm@web33703.mail.mud.yahoo.com>
Message-ID: <26877785.post@talk.nabble.com>


Hello,

You can add two more parameters, "User" and "Password" for authentication ?

Best Regards,

Rossine.

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13270--trunk-harbour-tp26818074p26877785.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Mon Dec 21 14:10:08 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec 21 14:10:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13340] trunk/harbour
In-Reply-To: <E1NMjxd-0006KT-Nd@3kljzd1.ch3.sourceforge.com>
References: <E1NMjxd-0006KT-Nd@3kljzd1.ch3.sourceforge.com>
Message-ID: <20091221191008.GA21929@linux-4bod.home.aster.pl>

On Mon, 21 Dec 2009, vszakats@users.sourceforge.net wrote:

Hi,

> 2009-12-21 16:13 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * utils/hbmk2/hbmk2.prg
>     + Enabled -shared support for dos/djgpp. Not tested.
>     + Enabled -hbdyn support for dos/djgpp. Blind coding, not tested.

Thank you very much. In a while I'll commit to small fixes yet.

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Dec 21 14:11:44 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Dec 21 14:11:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13341] trunk/harbour
Message-ID: <E1NMnfU-0000z7-Ph@74yxhf1.ch3.sourceforge.com>

Revision: 13341
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13341&view=rev
Author:   druzus
Date:     2009-12-21 19:11:43 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-21 20:11 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/utils/hbmk2/hbmk2.prg
    * added 'clib3r' to linked library list in DOS OpenWatcom builds.
      In pure C mode this library is not included automatically.
    ! do not use version suffix for harbour shared library in DJGPP builds
      to keep 8.3 plain DOS names (harbour[m].dxe)
    ! added -U to DXE3GEN parameters

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Dec 21 14:13:54 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 21 14:14:04 2009
Subject: [Harbour] Tagging 2.0.0: Tomorrow
In-Reply-To: <26876618.post@talk.nabble.com>
References: <EF90BA35-7B29-45FE-A2D4-F8CFA33DE338@syenar.hu>
	<20091221202129.5831.422BA498@telkom.net.id>
	<26876618.post@talk.nabble.com>
Message-ID: <8A313B7F-B5C5-4B10-A377-4E0DBA2FDF96@syenar.hu>

Hi,

> Andi Jahja-2 wrote:
>> 
>> I'd like to propose that QTNetwork's thingies are reserved for next
>> version
>> (thus be removed from this version) because of the followings (sorry,
>> this is my personal build):
>> 
>> .....
>> TQHttpRequestHeader.obj : error LNK2001: unresolved external symbol
>> _HB_FUN_QHTTPHEADER
>> TQHttpResponseHeader.obj : error LNK2001: unresolved external symbol
>> _HB_FUN_QHTTPHEADER
>> bin\VC9\harbourQT.dll : fatal error LNK1120: 1 unresolved externals
>> 
> 
> We excluded <QtWebKit> only.
> Do we need to exclude <QtNetWork> anyway?
> I heard no comments in this regard so far.

QHttpHeader seems to be part of QNetwork, but it's 
missing from HBQT.

I think it's enough to add it, rather than deleting 
whole QNetwork lib.

Brgds,
Viktor

From xharbour at telkom.net.id  Mon Dec 21 14:17:11 2009
From: xharbour at telkom.net.id (Andi Jahja)
Date: Mon Dec 21 14:17:21 2009
Subject: [Harbour] One small fix needed please....
Message-ID: <20091222021709.F35F.422BA498@telkom.net.id>

Hi,

Could you please help to write a compatible version for the old MSVC 6 for the following because it cannot work on MSVC 6.

Error:
------
src\rtl\sha2.h(58) : error C2632: 'long' followed by 'long' is illegal

Source:
------
#if defined( __BORLANDC__ )
typedef unsigned __int64 uint64;
#else
typedef unsigned long long uint64; // the offending line
#endif

Many thanks.

--
Andi

From harbour.01 at syenar.hu  Mon Dec 21 14:18:06 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 21 14:18:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13341] trunk/harbour
In-Reply-To: <E1NMnfU-0000z7-Ph@74yxhf1.ch3.sourceforge.com>
References: <E1NMnfU-0000z7-Ph@74yxhf1.ch3.sourceforge.com>
Message-ID: <71624619-5570-4C9B-B91E-0915AF7FE0B9@syenar.hu>

> Revision: 13341
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13341&view=rev
> Author:   druzus
> Date:     2009-12-21 19:11:43 +0000 (Mon, 21 Dec 2009)
> 
> Log Message:
> -----------
> 2009-12-21 20:11 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/utils/hbmk2/hbmk2.prg
>    * added 'clib3r' to linked library list in DOS OpenWatcom builds.
>      In pure C mode this library is not included automatically.
>    ! do not use version suffix for harbour shared library in DJGPP builds
>      to keep 8.3 plain DOS names (harbour[m].dxe)
>    ! added -U to DXE3GEN parameters

Thank you Przemek.

Can you check if it still works by changing this line:
   cOpt_Link += " LIB clib3r"
to this?:
   AAdd( l_aLIBSYS, "clib3r" )

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Dec 21 14:26:07 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec 21 14:26:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13341] trunk/harbour
In-Reply-To: <71624619-5570-4C9B-B91E-0915AF7FE0B9@syenar.hu>
References: <E1NMnfU-0000z7-Ph@74yxhf1.ch3.sourceforge.com>
	<71624619-5570-4C9B-B91E-0915AF7FE0B9@syenar.hu>
Message-ID: <20091221192607.GA22283@linux-4bod.home.aster.pl>

On Mon, 21 Dec 2009, Szak?ts Viktor wrote:

Hi,

> Can you check if it still works by changing this line:
>    cOpt_Link += " LIB clib3r"
> to this?:
>    AAdd( l_aLIBSYS, "clib3r" )

It's working. Should I commit?

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Dec 21 14:30:58 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 21 14:31:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13341] trunk/harbour
In-Reply-To: <20091221192607.GA22283@linux-4bod.home.aster.pl>
References: <E1NMnfU-0000z7-Ph@74yxhf1.ch3.sourceforge.com>
	<71624619-5570-4C9B-B91E-0915AF7FE0B9@syenar.hu>
	<20091221192607.GA22283@linux-4bod.home.aster.pl>
Message-ID: <8CB10ACE-2581-4F6C-8EA9-510E1D2E637B@syenar.hu>

> On Mon, 21 Dec 2009, Szak?ts Viktor wrote:
> 
> Hi,
> 
>> Can you check if it still works by changing this line:
>>   cOpt_Link += " LIB clib3r"
>> to this?:
>>   AAdd( l_aLIBSYS, "clib3r" )
> 
> It's working. Should I commit?

Yes, please. Thank you.

Brgds,
Viktor

From druzus at users.sourceforge.net  Mon Dec 21 14:34:32 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Dec 21 14:34:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13342] trunk/harbour
Message-ID: <E1NMo1Y-0008G0-NK@d5vjzd1.ch3.sourceforge.com>

Revision: 13342
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13342&view=rev
Author:   druzus
Date:     2009-12-21 19:34:25 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-21 20:33 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/sha2.h
    * use '__int64' instead of 'long long' in MSC builds - older MSC versions
      do not support 'long long'

  * harbour/utils/hbmk2/hbmk2.prg
    * use cleaner method proposed by Viktor for adding 'clib3r' to linked
      library list in DOS OpenWatcom builds.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/sha2.h
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Mon Dec 21 14:43:28 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Dec 21 14:43:35 2009
Subject: [Harbour] Tagging 2.0.0: Tomorrow
In-Reply-To: <EF90BA35-7B29-45FE-A2D4-F8CFA33DE338@syenar.hu>
References: <EF90BA35-7B29-45FE-A2D4-F8CFA33DE338@syenar.hu>
Message-ID: <9257026e0912211143w621c0697q22acea31bc5dcbcb@mail.gmail.com>

On Mon, Dec 21, 2009 at 9:29 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Pls commit if there is anything pending, and pls
> start making test builds on various platforms, so
> that we can issue essential build fixes if/where
> required.

I've just finished to sync svn with my local trees and I've rebuilt my
apps under Ubuntu 9.04 32bit gcc, Win XPSP3 32bit msys/mingw and OSX
10.6 64bit gcc and everything seems ok so far.

best regards,
Lorenzo
From bedipritpal at hotmail.com  Mon Dec 21 14:53:25 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec 21 14:53:32 2009
Subject: [Harbour] Tagging 2.0.0: Tomorrow
In-Reply-To: <8A313B7F-B5C5-4B10-A377-4E0DBA2FDF96@syenar.hu>
References: <EF90BA35-7B29-45FE-A2D4-F8CFA33DE338@syenar.hu>
	<20091221202129.5831.422BA498@telkom.net.id>
	<26876618.post@talk.nabble.com>
	<8A313B7F-B5C5-4B10-A377-4E0DBA2FDF96@syenar.hu>
Message-ID: <26879146.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
>> We excluded <QtWebKit> only.
>> Do we need to exclude <QtNetWork> anyway?
>> I heard no comments in this regard so far.
> 
> QHttpHeader seems to be part of QNetwork, but it's 
> missing from HBQT.
> 
> I think it's enough to add it, rather than deleting 
> whole QNetwork lib.
> 

Oh, yes. I did not read in-between the lines.
Committing in a while.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/Tagging-2.0.0%3A-Tomorrow-tp26871105p26879146.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From xharbour at telkom.net.id  Mon Dec 21 14:55:08 2009
From: xharbour at telkom.net.id (Andi Jahja)
Date: Mon Dec 21 14:55:19 2009
Subject: [Harbour] Tagging 2.0.0: Tomorrow
In-Reply-To: <8A313B7F-B5C5-4B10-A377-4E0DBA2FDF96@syenar.hu>
References: <26876618.post@talk.nabble.com>
	<8A313B7F-B5C5-4B10-A377-4E0DBA2FDF96@syenar.hu>
Message-ID: <20091222025219.F363.422BA498@telkom.net.id>

> QHttpHeader seems to be part of QNetwork, but it's 
> missing from HBQT.
> 
> I think it's enough to add it, rather than deleting 
> whole QNetwork lib.

This is another option which is much better.
--
Andi
From xharbour at telkom.net.id  Mon Dec 21 14:55:09 2009
From: xharbour at telkom.net.id (Andi Jahja)
Date: Mon Dec 21 14:55:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13342] trunk/harbour
In-Reply-To: <E1NMo1Y-0008G0-NK@d5vjzd1.ch3.sourceforge.com>
References: <E1NMo1Y-0008G0-NK@d5vjzd1.ch3.sourceforge.com>
Message-ID: <20091222025254.F367.422BA498@telkom.net.id>

> 2009-12-21 20:33 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/src/rtl/sha2.h
>     * use '__int64' instead of 'long long' in MSC builds - older MSC versions
>       do not support 'long long'

Many thanks.
--
Andi
From xharbour at telkom.net.id  Mon Dec 21 14:55:12 2009
From: xharbour at telkom.net.id (Andi Jahja)
Date: Mon Dec 21 14:55:34 2009
Subject: [Harbour] Tagging 2.0.0: Tomorrow
In-Reply-To: <26876618.post@talk.nabble.com>
References: <20091221202129.5831.422BA498@telkom.net.id>
	<26876618.post@talk.nabble.com>
Message-ID: <20091222025506.F36B.422BA498@telkom.net.id>

On Mon, 21 Dec 2009 08:43:22 -0800 (PST)
Pritpal Bedi <bedipritpal@hotmail.com> wrote:

> We excluded <QtWebKit> only.
> Do we need to exclude <QtNetWork> anyway?
> I heard no comments in this regard so far.
> 
IMO, we should just add the missing function as Viktor suggested, rather
than deleting the whole things.
--
Andi
From vouchcac at users.sourceforge.net  Mon Dec 21 15:12:53 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Dec 21 15:13:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13343] trunk/harbour
Message-ID: <E1NMocf-0002xc-PA@3kljzd1.ch3.sourceforge.com>

Revision: 13343
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13343&view=rev
Author:   vouchcac
Date:     2009-12-21 20:12:52 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-21 12:10 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/generator/qt45.qtp
  * contrib/hbqt/hbqt.h
  * contrib/hbqt/hbqt_garbage.h
  + contrib/hbqt/qth/QHttpHeader.qth
  * contrib/hbqt/qtnetwork/filelist.mk
  + contrib/hbqt/qtnetwork/QHttpHeader.cpp
  + contrib/hbqt/qtnetwork/TQHttpHeader.prg
    + Added QHttpHeader() class.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/generator/qt45.qtp
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_garbage.h
    trunk/harbour/contrib/hbqt/qtnetwork/filelist.mk

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/qth/QHttpHeader.qth
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpHeader.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Mon Dec 21 15:13:33 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec 21 15:13:41 2009
Subject: [Harbour] Tagging 2.0.0: Tomorrow
In-Reply-To: <20091222025506.F36B.422BA498@telkom.net.id>
References: <EF90BA35-7B29-45FE-A2D4-F8CFA33DE338@syenar.hu>
	<20091221202129.5831.422BA498@telkom.net.id>
	<26876618.post@talk.nabble.com>
	<20091222025506.F36B.422BA498@telkom.net.id>
Message-ID: <26879377.post@talk.nabble.com>


Hi


Andi Jahja-2 wrote:
> 
> IMO, we should just add the missing function as Viktor suggested, rather
> than deleting the whole things.
> 

Commited vide r13343.
Please make tests to check if everything is ok.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/Tagging-2.0.0%3A-Tomorrow-tp26871105p26879377.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From xharbour at telkom.net.id  Mon Dec 21 15:25:58 2009
From: xharbour at telkom.net.id (Andi Jahja)
Date: Mon Dec 21 15:26:17 2009
Subject: [Harbour] Please add required header
Message-ID: <20091222032544.F36E.422BA498@telkom.net.id>

Hi,

Would you please add "hbapi.h" on top of "hbapifs.h" in:

   - src/common/hbfopen.c
   - src/rtl/spfiles.c

Reason: HB_PATHNAMES cannot be found if _HB_API_INTERNAL_ is defined.
--
Andi


From harbour.01 at syenar.hu  Mon Dec 21 15:27:19 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 21 15:27:28 2009
Subject: [Harbour] HBQT generator warning
Message-ID: <E3B1DA47-6CDD-4AF5-A1F2-B5FB2293086E@syenar.hu>

Hi Pritpal,

Could take a peek at that warning:
---
Processing: ../qth\QMenu.qth
<<< OSMenuRef macMenu ( OSMenuRef merge = 0 ) | OSMenuRef >>>
<<< HMENU wceMenu ( bool create = false ) | HMENU >>>
Creating: ../doc\QMenu.txt
Processing: ../qth\QMenuBar.qth
<<< OSMenuRef macMenu () | OSMenuRef >>>
---

Brgds,
Viktor

From xharbour at telkom.net.id  Mon Dec 21 15:39:40 2009
From: xharbour at telkom.net.id (Andi Jahja)
Date: Mon Dec 21 15:39:51 2009
Subject: [Harbour] Tagging 2.0.0: Tomorrow
In-Reply-To: <26879377.post@talk.nabble.com>
References: <20091222025506.F36B.422BA498@telkom.net.id>
	<26879377.post@talk.nabble.com>
Message-ID: <20091222033939.F372.422BA498@telkom.net.id>

> > IMO, we should just add the missing function as Viktor suggested, rather
> > than deleting the whole things.
> > 
> 
> Commited vide r13343.
> Please make tests to check if everything is ok.

Checked and everything is OK.
Thanks.
--
Andi
From vszakats at users.sourceforge.net  Mon Dec 21 15:58:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Dec 21 15:58:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13344] trunk/harbour
Message-ID: <E1NMpL6-0000wk-4l@dn4whf1.ch3.sourceforge.com>

Revision: 13344
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13344&view=rev
Author:   vszakats
Date:     2009-12-21 20:58:40 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-21 21:38 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/generator/hbqtgen.prg
    ! Fixed to use 'hbqt_gcRelease_*' instead of 'release_*' names
      for public release callbacks.

  * contrib/hbqt/qth/QApplication.qth
    ! Fixed static vars to be prefixed with s_.

  * contrib/hbqt/*
    * Regenerated.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt_garbage.h
    trunk/harbour/contrib/hbqt/qtcore/QAbstractItemModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QAbstractListModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QAbstractTableModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QBitArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QByteArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QCoreApplication.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDataStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDate.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDateTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDir.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEvent.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEventLoop.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFile.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFileInfo.cpp
    trunk/harbour/contrib/hbqt/qtcore/QIODevice.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1Char.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1String.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLine.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLineF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLocale.cpp
    trunk/harbour/contrib/hbqt/qtcore/QMimeData.cpp
    trunk/harbour/contrib/hbqt/qtcore/QModelIndex.cpp
    trunk/harbour/contrib/hbqt/qtcore/QObject.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPoint.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPointF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QProcess.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRect.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRectF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRegExp.cpp
    trunk/harbour/contrib/hbqt/qtcore/QResource.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSignalMapper.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSize.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSizeF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QStringList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextBoundaryFinder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextCodec.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextDecoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextEncoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QThread.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTimer.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTranslator.cpp
    trunk/harbour/contrib/hbqt/qtcore/QUiLoader.cpp
    trunk/harbour/contrib/hbqt/qtcore/QUrl.cpp
    trunk/harbour/contrib/hbqt/qtcore/QVariant.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractItemDelegate.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractItemView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractPrintDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractProxyModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractScrollArea.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractTextDocumentLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QActionGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QApplication.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBitmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBrush.cpp
    trunk/harbour/contrib/hbqt/qtgui/QButtonGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCalendarWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCheckBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QClipboard.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColorDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommandLinkButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommonStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCompleter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QConicalGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QContextMenuEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDesktopWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDial.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDirModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDoubleSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDragEnterEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDragLeaveEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDragMoveEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDropEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QErrorMessage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileIconProvider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileSystemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFocusEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFocusFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFont.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDatabase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontInfo.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetrics.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetricsF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFormLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGridLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHeaderView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHelpEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageReader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputContext.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputMethodEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelection.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelectionModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QKeyEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QKeySequence.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLCDNumber.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLabel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLayoutItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLineEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLinearGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMainWindow.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMatrix.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenu.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenuBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMessageBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMouseEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMoveEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMovie.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPageSetupDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPaintDevice.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPaintEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainterPath.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPalette.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPicture.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPixmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPlainTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygonF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintEngine.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintPreviewDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrinter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPushButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadialGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadioButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRegion.cpp
    trunk/harbour/contrib/hbqt/qtgui/QResizeEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollArea.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSessionManager.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizePolicy.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSound.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpacerItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplashScreen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplitter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStatusBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStringListModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleFactory.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturn.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturnMask.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturnVariant.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComplex.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFocusRect.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionHeader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionMenuItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTab.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabBarBase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabWidgetFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTitleBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionViewItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStylePainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyledItemDelegate.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSyntaxHighlighter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSystemTrayIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetSelectionRange.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlock.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlockFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlockGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBrowser.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCharFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocument.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrameFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextImageFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextInlineObject.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLength.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLine.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextListFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextObject.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextTableFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTransform.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QVBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QValidator.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWheelEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWindowsStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizard.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizardPage.cpp
    trunk/harbour/contrib/hbqt/qth/QApplication.qth
    trunk/harbour/contrib/hbqt/qtnetwork/QFtp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpRequestHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpResponseHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QNetworkRequest.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Mon Dec 21 16:07:08 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Dec 21 16:07:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13345] trunk/harbour
Message-ID: <E1NMpTA-0003OS-I3@bj8yhf1.ch3.sourceforge.com>

Revision: 13345
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13345&view=rev
Author:   vouchcac
Date:     2009-12-21 21:07:07 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-21 13:07 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/qtgui/QMenu.cpp
  * contrib/hbqt/qth/QMenu.qth
    ! Fixed some warning reported at the time of auto generation.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/qtgui/QMenu.cpp
    trunk/harbour/contrib/hbqt/qth/QMenu.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Mon Dec 21 16:19:56 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Dec 21 16:20:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13346] trunk/harbour
Message-ID: <E1NMpfX-0001fO-Vz@d5vjzd1.ch3.sourceforge.com>

Revision: 13346
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13346&view=rev
Author:   druzus
Date:     2009-12-21 21:19:44 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-21 22:18 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rdd/wafunc.c
  * harbour/contrib/rddsql/hbrddsql.h
  * harbour/contrib/rddsql/sqlbase.c
    ! casting fod C++ builds

  * harbour/contrib/hbcairo/paths.c
    ! fixed very bad typo which probably cause GPF in function
      CAIRO_GET_CURRENT_POINT()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbcairo/paths.c
    trunk/harbour/contrib/rddsql/hbrddsql.h
    trunk/harbour/contrib/rddsql/sqlbase.c
    trunk/harbour/src/rdd/wafunc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Mon Dec 21 16:26:59 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec 21 16:27:06 2009
Subject: [Harbour] HBQT generator warning
In-Reply-To: <E3B1DA47-6CDD-4AF5-A1F2-B5FB2293086E@syenar.hu>
References: <E3B1DA47-6CDD-4AF5-A1F2-B5FB2293086E@syenar.hu>
Message-ID: <26880202.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> Could take a peek at that warning:
> ---
> Processing: ../qth\QMenu.qth
> <<< OSMenuRef macMenu ( OSMenuRef merge = 0 ) | OSMenuRef >>>
> <<< HMENU wceMenu ( bool create = false ) | HMENU >>>
> Creating: ../doc\QMenu.txt
> Processing: ../qth\QMenuBar.qth
> <<< OSMenuRef macMenu () | OSMenuRef >>>
> ---
> 

Should be ok after r13345, please check.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/HBQT-generator-warning-tp26879546p26880202.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Dec 21 16:29:48 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 21 16:29:58 2009
Subject: [Harbour] HBQT generator warning
In-Reply-To: <26880202.post@talk.nabble.com>
References: <E3B1DA47-6CDD-4AF5-A1F2-B5FB2293086E@syenar.hu>
	<26880202.post@talk.nabble.com>
Message-ID: <1ECB0D21-960E-4F5E-9C82-D57F383E7AA6@syenar.hu>

Hi Pritpal,

Almost gone, I'm still getting this one:
---
  Processing: ../qth\QMenuBar.qth
<<< OSMenuRef macMenu () | OSMenuRef >>>
---

Brgds,
Viktor

On 2009 Dec 21, at 22:26, Pritpal Bedi wrote:

> 
> Hi
> 
> 
> Viktor Szak?ts wrote:
>> 
>> Could take a peek at that warning:
>> ---
>> Processing: ../qth\QMenu.qth
>> <<< OSMenuRef macMenu ( OSMenuRef merge = 0 ) | OSMenuRef >>>
>> <<< HMENU wceMenu ( bool create = false ) | HMENU >>>
>> Creating: ../doc\QMenu.txt
>> Processing: ../qth\QMenuBar.qth
>> <<< OSMenuRef macMenu () | OSMenuRef >>>
>> ---
>> 
> 
> Should be ok after r13345, please check.
> 
> Regards
> Pritpal Bedi
> 
> -- 
> View this message in context: http://old.nabble.com/HBQT-generator-warning-tp26879546p26880202.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Mon Dec 21 16:34:15 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Dec 21 16:34:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13347]
	trunk/harbour/ChangeLog
Message-ID: <E1NMptP-0002HZ-Kt@dn4whf1.ch3.sourceforge.com>

Revision: 13347
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13347&view=rev
Author:   vszakats
Date:     2009-12-21 21:34:12 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-21 22:33 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * ChangeLog
    ! Fixed UTF offset for my commits from last week.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Mon Dec 21 16:54:53 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Dec 21 16:55:01 2009
Subject: [Harbour] Warnings in $Id: ChangeLog 13347 2009-12-21 21:34:12Z
	vszakats $
Message-ID: <E09B8465039D49F58159BCEA5C7B0352@emag>

Warning W8004 ../../../hb_btree.c 620: 'pHeader' is assigned a value that is 
never used in function HeaderWrite
Warning W8004 ../../../hb_btree.c 1619: 'pHeader' is assigned a value that 
is never used in function hb_BTreeOpen

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From dbtopas at dbtopas.lt  Mon Dec 21 17:14:06 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Dec 21 17:14:09 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
Message-ID: <4B2FF32E.4060804@dbtopas.lt>

Viktor Szak?ts wrote:
> Hi All,
> 
> I'd like to ask everyone if there are any 
> patches, commits or fixes pending? (besides 
> hbqt related modules)

Hi,


I have a some modifications in hbcairo, but it's unfinished because I'm 
waiting for decision on GC API.


Regards,
Mindaugas
From vouchcac at users.sourceforge.net  Mon Dec 21 17:16:39 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Dec 21 17:16:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13348] trunk/harbour
Message-ID: <E1NMqYR-0003hd-RP@dn4whf1.ch3.sourceforge.com>

Revision: 13348
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13348&view=rev
Author:   vouchcac
Date:     2009-12-21 22:16:37 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-21 13:07 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/qtgui/QMenuBar.cpp
  * contrib/hbqt/qth/QMenuBar.qth
    ! Fixed one remaining warning at auto generation level.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/qtgui/QMenuBar.cpp
    trunk/harbour/contrib/hbqt/qth/QMenuBar.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Mon Dec 21 17:19:58 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Dec 21 17:20:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13349] trunk/harbour
Message-ID: <E1NMqbe-0002gk-AK@d5vjzd1.ch3.sourceforge.com>

Revision: 13349
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13349&view=rev
Author:   druzus
Date:     2009-12-21 22:19:55 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-21 23:19 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/rddsql/hbrddsql.h
  * harbour/contrib/rddsql/sqlbase.c
    ! reverted recent modification which forces updating also low level
      SDD code
    ! fixed casting in C++ mode with local only modification

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/hbrddsql.h
    trunk/harbour/contrib/rddsql/sqlbase.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Dec 21 17:20:34 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 21 17:20:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13348] trunk/harbour
In-Reply-To: <E1NMqYR-0003hd-RP@dn4whf1.ch3.sourceforge.com>
References: <E1NMqYR-0003hd-RP@dn4whf1.ch3.sourceforge.com>
Message-ID: <5720AE27-C860-4C46-8E41-D207FA03BA0F@syenar.hu>

Thank you.

Please remember to rebuild your generator executable 
before regenerating, because f.e. now the .cpp file 
committed is wrong (causing link-time errors).

Brgds,
Viktor

On 2009 Dec 21, at 23:16, vouchcac@users.sourceforge.net wrote:

> Revision: 13348
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13348&view=rev
> Author:   vouchcac
> Date:     2009-12-21 22:16:37 +0000 (Mon, 21 Dec 2009)
> 
> Log Message:
> -----------
> 2009-12-21 13:07 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbqt/qtgui/QMenuBar.cpp
>  * contrib/hbqt/qth/QMenuBar.qth
>    ! Fixed one remaining warning at auto generation level.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbqt/qtgui/QMenuBar.cpp
>    trunk/harbour/contrib/hbqt/qth/QMenuBar.qth
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Dec 21 17:21:35 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Dec 21 17:21:43 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <4B2FF32E.4060804@dbtopas.lt>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
	<4B2FF32E.4060804@dbtopas.lt>
Message-ID: <543BF6BE-86B9-4327-8C2B-B5DA407EB3B0@syenar.hu>

Hi Mindaugas,

Pls hold these changes until after the release.

GC API decisions will be made only after that.

Brgds,
Viktor

On 2009 Dec 21, at 23:14, Mindaugas Kavaliauskas wrote:

> Viktor Szak?ts wrote:
>> Hi All,
>> I'd like to ask everyone if there are any patches, commits or fixes pending? (besides hbqt related modules)
> 
> Hi,
> 
> 
> I have a some modifications in hbcairo, but it's unfinished because I'm waiting for decision on GC API.
> 
> 
> Regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at users.sourceforge.net  Mon Dec 21 17:29:59 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Dec 21 17:30:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13350] trunk/harbour
Message-ID: <E1NMqlL-0002rX-Uu@d5vjzd1.ch3.sourceforge.com>

Revision: 13350
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13350&view=rev
Author:   druzus
Date:     2009-12-21 22:29:58 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-21 23:29 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapi.h
  * harbour/src/vm/garbage.c
    - removed function hb_gcRefDec()
    * functions hb_gcRefInc() and hb_gcRefFree() moved to public API
      After recent modifications in GC which introduced user defined
      mark functions it's reasonable to make these function public to
      extend functionality and give GC full interface to user defined
      blocks.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/src/vm/garbage.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Dec 21 17:47:28 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec 21 17:47:36 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <543BF6BE-86B9-4327-8C2B-B5DA407EB3B0@syenar.hu>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
	<4B2FF32E.4060804@dbtopas.lt>
	<543BF6BE-86B9-4327-8C2B-B5DA407EB3B0@syenar.hu>
Message-ID: <20091221224728.GA11932@linux-4bod.home.aster.pl>

On Mon, 21 Dec 2009, Szak?ts Viktor wrote:

Hi,

> Pls hold these changes until after the release.
> GC API decisions will be made only after that.

We already took such decision and committed modifications few weeks ago.
The new GC API introduced user defined mark functions what allows give
GC interface to non core code programmers. This modification also changed
the meaning of functions like hb_gcRefInc() and hb_gcRefFree(). Before
this modification they were declared as internal HVM functions because
they couldn't give anything for non core code programmers. They had
only one functionality in external code: they could be used to break
internal reference counters and cause GC crash.
Now we open the doors for non core programmers to use memory blocks
with cross references which can be automatically scanned and freed
by our GC but to make the new interface complete we should make above
functions public and I've just committed such modification few minutes
ago.
I really think that this should be done before final release because
it may be very important functionality for 3-rd party code programmers
so now they can use it updating their code for new Harbour 2.0 API.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Dec 21 17:51:58 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec 21 17:52:05 2009
Subject: [Harbour] Please add required header
In-Reply-To: <20091222032544.F36E.422BA498@telkom.net.id>
References: <20091222032544.F36E.422BA498@telkom.net.id>
Message-ID: <20091221225158.GA12183@linux-4bod.home.aster.pl>

On Tue, 22 Dec 2009, Andi Jahja wrote:

Hi,

> Would you please add "hbapi.h" on top of "hbapifs.h" in:
>    - src/common/hbfopen.c
>    - src/rtl/spfiles.c
> Reason: HB_PATHNAMES cannot be found if _HB_API_INTERNAL_ is defined.

I do not understand above modification.
At the beginning of hbapifs.h we have #include "hbapi.h" so this
modifications will not change anything.
I've just recompiled whole Harbour code with -D_HB_API_INTERNAL_ and
with the exception to HBQT rest compiles now correctly.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Dec 21 17:53:50 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 21 17:54:01 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <20091221224728.GA11932@linux-4bod.home.aster.pl>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
	<4B2FF32E.4060804@dbtopas.lt>
	<543BF6BE-86B9-4327-8C2B-B5DA407EB3B0@syenar.hu>
	<20091221224728.GA11932@linux-4bod.home.aster.pl>
Message-ID: <1F797FBC-0186-4504-83B9-BE6AA73CB24E@syenar.hu>

>> Pls hold these changes until after the release.
>> GC API decisions will be made only after that.
> 
> We already took such decision and committed modifications few weeks ago.
> The new GC API introduced user defined mark functions what allows give
> GC interface to non core code programmers. This modification also changed
> the meaning of functions like hb_gcRefInc() and hb_gcRefFree(). Before
> this modification they were declared as internal HVM functions because
> they couldn't give anything for non core code programmers. They had
> only one functionality in external code: they could be used to break
> internal reference counters and cause GC crash.
> Now we open the doors for non core programmers to use memory blocks
> with cross references which can be automatically scanned and freed
> by our GC but to make the new interface complete we should make above
> functions public and I've just committed such modification few minutes
> ago.
> I really think that this should be done before final release because
> it may be very important functionality for 3-rd party code programmers
> so now they can use it updating their code for new Harbour 2.0 API.

Okay.

But now we have to patch / retest / clean hbcairo, so probably we 
will slip out of time. Hopefully not.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Dec 21 18:00:57 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec 21 18:01:06 2009
Subject: [Harbour] HBPCRE
Message-ID: <20091221230057.GB12183@linux-4bod.home.aster.pl>

Hi,

In PCRE library we have in pcreinal.h:
   extern BOOL _pcre_is_newline(const uschar *, int, const uschar *,
                                int *, BOOL);
   extern BOOL _pcre_was_newline(const uschar *, int, const uschar *,
                                 int *, BOOL);

but inside pcrenewl.c:
   BOOL _pcre_is_newline(USPTR ptr, int type, USPTR endptr,
                         int *lenptr, BOOL utf8)
   BOOL _pcre_was_newline(USPTR ptr, int type, USPTR startptr,
                          int *lenptr, BOOL utf8)

This difference in casting confuse some C++ compilers, i.e. SunCC
recognize above declarations as different functions and generates
broken code for hbpcre.
It should be fixed to use the same declaration 'const uschar *' or
'USPTR' in both versions and probably reported to author. I do not
know which one he prefer to change but as temporary solution we
can chose anyone (we do not use CUSTOM_SUBJECT_PTR so for use it
does not make any difference). Viktor can you change it?

best regards,
Przemek
From vouchcac at users.sourceforge.net  Mon Dec 21 18:03:43 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Dec 21 18:03:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13351] trunk/harbour
Message-ID: <E1NMrHz-0005Sa-FZ@bj8yhf1.ch3.sourceforge.com>

Revision: 13351
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13351&view=rev
Author:   vouchcac
Date:     2009-12-21 23:03:42 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-21 15:04 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/qtgui/QMenuBar.cpp
    ! Regenerated after rebuilding hbqtgen.prg.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/qtgui/QMenuBar.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Dec 21 18:16:43 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Dec 21 18:16:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13352] trunk/harbour
Message-ID: <E1NMrUZ-0001pp-Ik@c3vjzd1.ch3.sourceforge.com>

Revision: 13352
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13352&view=rev
Author:   vszakats
Date:     2009-12-21 23:16:42 +0000 (Mon, 21 Dec 2009)

Log Message:
-----------
2009-12-22 00:15 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbbtree/hb_btree.c
    ! Cleaned code to compile without warning on BCC.
    ; TOFIX: ? This code looks suspicious, pls check it:
        ---
        pHeader += sizeof( HEADER_ID ) - 1;
        pHeader += sizeof( ( UINT32 ) HB_BTREE_HEADERSIZE );
        ---

  * utils/hbmk2/hbmk2.pt_BR.po
  * utils/hbmk2/hbmk2.hu_HU.po
  * utils/hbmk2/hbmk2.prg
    + Added support for warn= (similar to -warn option) to .hbc files.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbtree/hb_btree.c
    trunk/harbour/utils/hbmk2/hbmk2.hu_HU.po
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Dec 21 18:28:11 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 21 18:28:20 2009
Subject: [Harbour] HBPCRE
In-Reply-To: <20091221230057.GB12183@linux-4bod.home.aster.pl>
References: <20091221230057.GB12183@linux-4bod.home.aster.pl>
Message-ID: <FA0D051D-C672-46AD-9A64-29F7B41E47F2@syenar.hu>

Hi Przemek,

I've filed this as:
  http://bugs.exim.org/show_bug.cgi?id=939

How about simply forcing C mode for this library in Harbour?

We're again in a situation where we deviate from standard 
build procedure which just causes us problems, so it seems 
more convenient to do this instead of maintaining local patches.

What do you think?

Brgds,
Viktor

On 2009 Dec 22, at 00:00, Przemys?aw Czerpak wrote:

> Hi,
> 
> In PCRE library we have in pcreinal.h:
>   extern BOOL _pcre_is_newline(const uschar *, int, const uschar *,
>                                int *, BOOL);
>   extern BOOL _pcre_was_newline(const uschar *, int, const uschar *,
>                                 int *, BOOL);
> 
> but inside pcrenewl.c:
>   BOOL _pcre_is_newline(USPTR ptr, int type, USPTR endptr,
>                         int *lenptr, BOOL utf8)
>   BOOL _pcre_was_newline(USPTR ptr, int type, USPTR startptr,
>                          int *lenptr, BOOL utf8)
> 
> This difference in casting confuse some C++ compilers, i.e. SunCC
> recognize above declarations as different functions and generates
> broken code for hbpcre.
> It should be fixed to use the same declaration 'const uschar *' or
> 'USPTR' in both versions and probably reported to author. I do not
> know which one he prefer to change but as temporary solution we
> can chose anyone (we do not use CUSTOM_SUBJECT_PTR so for use it
> does not make any difference). Viktor can you change it?
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From xharbour at telkom.net.id  Mon Dec 21 18:48:52 2009
From: xharbour at telkom.net.id (Andi Jahja)
Date: Mon Dec 21 18:49:04 2009
Subject: [Harbour] Please add required header
In-Reply-To: <20091221225158.GA12183@linux-4bod.home.aster.pl>
References: <20091222032544.F36E.422BA498@telkom.net.id>
	<20091221225158.GA12183@linux-4bod.home.aster.pl>
Message-ID: <20091222064850.F376.422BA498@telkom.net.id>

Hi,

I'm very sorry orry, I must be pointing to the wrong codes.
But have you tried to clean build with: _HB_API_INTERNAL_
HB_STACK_MACROS and HB_API_MACROS defined?

I got this and cannot go through:

--
src\compiler\hbcmplib.c(115) : error C2227: left of '->item' must point to class/struct/union/generic type
        type is ''unknown-type''
src\compiler\hbcmplib.c(115) : error C2228: left of '.asSymbol' must have class/struct/union
src\compiler\hbcmplib.c(115) : error C2228: left of '.paramcnt' must have class/struct/union
src\compiler\hbcmplib.c(115) : error C3861: 'hb_stackBaseItem': identifier not found
src\compiler\hbcmplib.c(117) : error C3861: 'hb_stackReturnItem': identifier not found
src\compiler\hbcmplib.c(128) : error C2227: left of '->item' must point to class/struct/union/generic type
        type is ''unknown-type''
src\compiler\hbcmplib.c(128) : error C2228: left of '.asSymbol' must have class/struct/union
src\compiler\hbcmplib.c(128) : error C2228: left of '.paramcnt' must have class/struct/union
src\compiler\hbcmplib.c(128) : error C3861: 'hb_stackBaseItem': identifier not found
src\compiler\hbcmplib.c(132) : error C3861: 'hb_stackReturnItem': identifier not found
src\compiler\hbcmplib.c(146) : error C2227: left of '->item' must point to class/struct/union/generic type
        type is ''unknown-type''
src\compiler\hbcmplib.c(146) : error C2228: left of '.asSymbol' must have class/struct/union
src\compiler\hbcmplib.c(146) : error C2228: left of '.paramcnt' must have class/struct/union
src\compiler\hbcmplib.c(146) : error C3861: 'hb_stackBaseItem': identifier not found
src\compiler\hbcmplib.c(150) : error C3861: 'hb_stackReturnItem': identifier not found

--
Andi

> I've just recompiled whole Harbour code with -D_HB_API_INTERNAL_ and
> with the exception to HBQT rest compiles now correctly.
 
From druzus at acn.waw.pl  Mon Dec 21 18:51:29 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec 21 18:51:36 2009
Subject: [Harbour] HBPCRE
In-Reply-To: <FA0D051D-C672-46AD-9A64-29F7B41E47F2@syenar.hu>
References: <20091221230057.GB12183@linux-4bod.home.aster.pl>
	<FA0D051D-C672-46AD-9A64-29F7B41E47F2@syenar.hu>
Message-ID: <20091221235129.GA13882@linux-4bod.home.aster.pl>

On Tue, 22 Dec 2009, Szak?ts Viktor wrote:

Hi,

> I've filed this as:
>   http://bugs.exim.org/show_bug.cgi?id=939
> How about simply forcing C mode for this library in Harbour?
> We're again in a situation where we deviate from standard 
> build procedure which just causes us problems, so it seems 
> more convenient to do this instead of maintaining local patches.
> What do you think?

As you wish though PCRE and ZLIB are a little bit specific.
Unlike other external libraries they are referenced from core
code so I would like to keep them working in both C and C++ mode.
Sooner or later we will work on UNICODE support in HVM and it
will be necessary to dig into PCRE much deeper so it's highly
possible that at least for some time we will have to use our
own strongly modified PCRE code which should work in C and C++
mode. Forcing C mode may strongly reduce the code quality because
C compilers are not such restrictive as C++ ones.

One of the most value able part of Harbour is portability.
It can be easy ported to many different platforms and C/C++
compilers and I would like to keep it for core code.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Dec 21 18:54:28 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 21 18:54:37 2009
Subject: [Harbour] Please add required header
In-Reply-To: <20091222064850.F376.422BA498@telkom.net.id>
References: <20091222032544.F36E.422BA498@telkom.net.id>
	<20091221225158.GA12183@linux-4bod.home.aster.pl>
	<20091222064850.F376.422BA498@telkom.net.id>
Message-ID: <0597A3E2-BCDE-4E58-AB73-FE545C2C691B@syenar.hu>

> I'm very sorry orry, I must be pointing to the wrong codes.
> But have you tried to clean build with: _HB_API_INTERNAL_
> HB_STACK_MACROS and HB_API_MACROS defined?

This is an internal switch, not meant to be ever turned on 
manually for Harbour or for any 3rd party code whatsoever.

IMO, we should not concentrate on fix such situation, it's 
even better if it fails.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Dec 21 19:00:03 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 21 19:00:13 2009
Subject: [Harbour] HBPCRE
In-Reply-To: <20091221235129.GA13882@linux-4bod.home.aster.pl>
References: <20091221230057.GB12183@linux-4bod.home.aster.pl>
	<FA0D051D-C672-46AD-9A64-29F7B41E47F2@syenar.hu>
	<20091221235129.GA13882@linux-4bod.home.aster.pl>
Message-ID: <22C31E3F-91F4-4849-89FF-5AE6A036DE61@syenar.hu>

>> I've filed this as:
>>  http://bugs.exim.org/show_bug.cgi?id=939
>> How about simply forcing C mode for this library in Harbour?
>> We're again in a situation where we deviate from standard 
>> build procedure which just causes us problems, so it seems 
>> more convenient to do this instead of maintaining local patches.
>> What do you think?
> 
> As you wish though PCRE and ZLIB are a little bit specific.
> Unlike other external libraries they are referenced from core
> code so I would like to keep them working in both C and C++ mode.
> Sooner or later we will work on UNICODE support in HVM and it
> will be necessary to dig into PCRE much deeper so it's highly
> possible that at least for some time we will have to use our
> own strongly modified PCRE code which should work in C and C++
> mode. Forcing C mode may strongly reduce the code quality because
> C compilers are not such restrictive as C++ ones.

Well, since this is foreign code, we are not the ones 
responsible for code quality.

> One of the most value able part of Harbour is portability.
> It can be easy ported to many different platforms and C/C++
> compilers and I would like to keep it for core code.

That's fine, but I personally wish not to maintain local 
patches for non-Harbour code unless absolutely unavoidable 
or necessary.

As soon as we'll have heavy local modification needs we 
can rethink this, but even then, I'd encourage ourselves 
to submit all these patches to PCRE project, rather than 
trying to keep syncing it or creating a fork. But we will 
see; for now it's impossible for me to see what these local 
modifications will be and what will be the best thing to 
do at that time.

Brgds,
Viktor

From xharbour at telkom.net.id  Mon Dec 21 19:12:55 2009
From: xharbour at telkom.net.id (Andi Jahja)
Date: Mon Dec 21 19:13:06 2009
Subject: [Harbour] DMC C start-up (To: Przemek)
Message-ID: <20091222071253.F379.422BA498@telkom.net.id>

Hi Przemek,

With the new start-up codes, I tried to make it work with Digital Mars C Mode but so far I achieved no success.
I know that Digital Mars is not supported due to math bug, but this exercise may be a fun.
Followings are documentation for DMC pragmas which may relate to this subject.
Perhaps you could help making DMC C Mode working then.

DMC pragmas:
------------
align
code_seg
comment
cseg
dbcs
DOSSEG
ident
includelib
init_seg
linkage
message
noreturn
once
pack
startaddress

#pragma code_seg
----------------
This pragma indicates that all subsequently generated functions are
to be placed in the specified segment. The syntax is:

#pragma code_seg segname
------------------------
where segname is the name of the segment in which the functions
are to be placed. When the -NS compiler option is used it overrides
this pragma for global far functions. You can use -NT, -NS, and
#pragma code_seg independently or in any combination.

#pragma init_seg
----------------
This pragma works like the Microsoft Visual C++ pragma init_seg
to support static constructors/destructors in a manner compatible
with Visual C++. The syntax is: #pragma init_seg (compiler|lib|user)

#pragma startaddress
--------------------
This pragma puts a ?startaddress? record into the object file. The syntax is:
#pragma startaddress (name)
where name must be a symbol that was defined previously. For example:
void startup();
#pragma startaddress (startup)
Overloading of name is not supported

--
Andi


From xharbour at telkom.net.id  Mon Dec 21 19:16:39 2009
From: xharbour at telkom.net.id (Andi Jahja)
Date: Mon Dec 21 19:16:47 2009
Subject: [Harbour] Please add required header
In-Reply-To: <0597A3E2-BCDE-4E58-AB73-FE545C2C691B@syenar.hu>
References: <20091222064850.F376.422BA498@telkom.net.id>
	<0597A3E2-BCDE-4E58-AB73-FE545C2C691B@syenar.hu>
Message-ID: <20091222071637.F37D.422BA498@telkom.net.id>

> This is an internal switch, not meant to be ever turned on 
> manually for Harbour or for any 3rd party code whatsoever.
> 
> IMO, we should not concentrate on fix such situation, it's 
> even better if it fails.

It is that I do not know the situation nor I do not know how to fix,
but what I am surfacing is just an exercise to proof that all switches
are functionals (working) in building Harbour.
--
Andi

From bedipritpal at hotmail.com  Mon Dec 21 19:16:59 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec 21 19:17:05 2009
Subject: [Harbour] HBQT - Class Error Handelling
Message-ID: <26882195.post@talk.nabble.com>


Hello All

I need to introduce some sort of error handelling
and have the code for one of the classes. I have verified that 
this works correct. My question is : is there any better way
to handle it in a larger scale?


CREATE CLASS QCheckBox INHERIT QAbstractButton

   VAR     pPtr

   METHOD  new()
   METHOD  configure( xObject )

   METHOD  checkState()
   METHOD  isTristate()
   METHOD  setCheckState( nState )
   METHOD  setTristate( lY )

   ERROR HANDLER onError()

   ENDCLASS

/*----------------------------------------------------------------------*/

METHOD QCheckBox:new( ... )
   LOCAL p
   FOR EACH p IN { ... }
      p := hbqt_ptr( p )
      hb_pvalue( p:__enumIndex(), p )
   NEXT
   ::pPtr := Qt_QCheckBox( ... )
   RETURN Self

METHOD QCheckBox:onError()
   LOCAL cMsg := __GetMessage()
   IF SubStr( cMsg, 1, 1 ) == "_"
      cMsg := SubStr( cMsg, 2 )
   ENDIF
   // TODO: generate runtime error
   hbqt_messageBox( cMsg, "Message not found - " + ProcName( 1 ) + ":" +
hb_ntos( ProcLine( 1 ) ) )
   RETURN cMsg


At least the code above let the developer know 
if he has made any mistakes in message passing than to see
application just vanishing.

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/HBQT---Class-Error-Handelling-tp26882195p26882195.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From xharbour at telkom.net.id  Mon Dec 21 19:18:08 2009
From: xharbour at telkom.net.id (Andi Jahja)
Date: Mon Dec 21 19:18:18 2009
Subject: [Harbour] Please add required header
In-Reply-To: <20091222071637.F37D.422BA498@telkom.net.id>
References: <0597A3E2-BCDE-4E58-AB73-FE545C2C691B@syenar.hu>
	<20091222071637.F37D.422BA498@telkom.net.id>
Message-ID: <20091222071806.F381.422BA498@telkom.net.id>

> It is that I do not know .....

Should read "It is not that I ......"

--
Andi


From snaiperis at users.sourceforge.net  Mon Dec 21 19:22:34 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Mon Dec 21 19:22:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13353] trunk/harbour
Message-ID: <E1NMsWI-0003SA-GH@c3vjzd1.ch3.sourceforge.com>

Revision: 13353
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13353&view=rev
Author:   snaiperis
Date:     2009-12-22 00:22:33 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 02:22 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/hbcairo/core.c
    * used current GC API to store references between GC blocks
    ! fixed GC block storage
    * added additional protection against using released path in 
      cairo_path_iterator_*()

  * harbour/contrib/hbcairo/text.c
    ! fixed copy-paste typo in cairo_set_font_matrix()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbcairo/core.c
    trunk/harbour/contrib/hbcairo/text.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Dec 21 19:40:34 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec 21 19:40:41 2009
Subject: [Harbour] Please add required header
In-Reply-To: <20091222064850.F376.422BA498@telkom.net.id>
References: <20091222032544.F36E.422BA498@telkom.net.id>
	<20091221225158.GA12183@linux-4bod.home.aster.pl>
	<20091222064850.F376.422BA498@telkom.net.id>
Message-ID: <20091222004034.GA14067@linux-4bod.home.aster.pl>

On Tue, 22 Dec 2009, Andi Jahja wrote:

Hi,

> I'm very sorry orry, I must be pointing to the wrong codes.
> But have you tried to clean build with: _HB_API_INTERNAL_

With this yes just after your message and it works though I've found some
problems with casting in C++ mode which I fixed and even serious bug in
cairo code also fixed.

> HB_STACK_MACROS and HB_API_MACROS defined?

These macros do not work for external code in Harbour.
They are reserved only for internal code for some limited
situations (usually some C compilers which do not have
good optimization logic with automatic function inlining)
and can be safely used only locally.

HB_STACK_MACROS causes that wrong code is generated which
cannot be used in MT programs. This code needs to access
hb_stack global variable what causes that less efficient slower
code have to be generated which calculated offsets at runtime
(not during compilation) when members of hb_stack are accessed
from code used in different DLL modules (hb_stack is declared
with import attribute). Additionally it does not allow to
declare hb_stack as static variable in ST HVM what may badly
interact with some compile time optimizations - for static
variables compiler may chose optimal representation because
it know all references to this variable at compile time so
it's easier to optimize the code.
In summary they can be reactivated only with some limited
functionality for ST programs with the cost of reduced speed.
I do not think that anyone will want to invest time in such
modification.

HB_API_MACROS replaces one function call with other or when
used without HB_STACK_MACROS with two different ones. In
Harbour whole HVM code is compiled as single hvmall.c file
by all compilers which supports function autoinlining (from
popular modern compilers only BCC does not support it).
It means that functions like hb_ret*() are highly optimized
by C compiler and already flatten (all nested functions inlined)
so in the best case HB_API_MACROS give the same speed as native
function call but in the worst one when used without HB_STACK_MACROS
it will reduce the speed.

With few modifications they can be reactivated but for modern
C/C++ compilers they will only reduce the speed and any code
compiled with above macros will be hardcoded to work only with
less optimal ST HVM version. Keeping the code clean and friendly
for C compiler optimization logic is the best way to improve the
speed. Just compare the speed of Harbour and xHarbour where nearly
everything is "manually inlined" using some modern C/C++ compilers
like new GCC or MSVC versions. You can use tests/speedtst.prg.

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Dec 21 19:46:57 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Dec 21 19:47:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13354] trunk/harbour
Message-ID: <E1NMstt-0008Mx-S0@dn4whf1.ch3.sourceforge.com>

Revision: 13354
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13354&view=rev
Author:   vszakats
Date:     2009-12-22 00:46:56 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 01:44 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * external/pcre/Makefile
    ! Forcing C mode for this external component, which is
      mainly tested and developed for C compiler.
      Currently sunpro has problems in C++ mode due to little
      bug in current PCRE code. Reported to author here:
         http://bugs.exim.org/show_bug.cgi?id=939

  * utils/hbmk2/hbmk2.prg
    * Minor formatting.

  * contrib/hbcairo/core.c
    * Using HB_TRUE/HB_FALSE instead of 1/0.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbcairo/core.c
    trunk/harbour/external/pcre/Makefile
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Dec 21 19:51:16 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 21 19:51:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13353] trunk/harbour
In-Reply-To: <E1NMsWI-0003SA-GH@c3vjzd1.ch3.sourceforge.com>
References: <E1NMsWI-0003SA-GH@c3vjzd1.ch3.sourceforge.com>
Message-ID: <4DABC2E9-3CF1-4E98-8D1B-1BF1B7F0E216@syenar.hu>

Thank you.

Brgds,
Viktor

On 2009 Dec 22, at 01:22, snaiperis@users.sourceforge.net wrote:

> Revision: 13353
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13353&view=rev
> Author:   snaiperis
> Date:     2009-12-22 00:22:33 +0000 (Tue, 22 Dec 2009)
> 
> Log Message:
> -----------
> 2009-12-22 02:22 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
>  * harbour/contrib/hbcairo/core.c
>    * used current GC API to store references between GC blocks
>    ! fixed GC block storage
>    * added additional protection against using released path in 
>      cairo_path_iterator_*()
> 
>  * harbour/contrib/hbcairo/text.c
>    ! fixed copy-paste typo in cairo_set_font_matrix()
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbcairo/core.c
>    trunk/harbour/contrib/hbcairo/text.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vouchcac at users.sourceforge.net  Mon Dec 21 19:57:10 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Dec 21 19:57:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13355] trunk/harbour
Message-ID: <E1NMt3m-0000F4-VF@dn4whf1.ch3.sourceforge.com>

Revision: 13355
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13355&view=rev
Author:   vouchcac
Date:     2009-12-22 00:57:05 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-21 16:51 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/generator/hbqtgen.prg
  * contrib/hbqt/hbqt_misc.prg
  * Regenerated .prg sources
    + Implemented class level error handelling if wrong 
      message is sent to the object. The message is displayed 
      in Qt's message box and includes ProcName()/ProcLine().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt_misc.prg
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractItemModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractListModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractTableModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQBitArray.prg
    trunk/harbour/contrib/hbqt/qtcore/TQByteArray.prg
    trunk/harbour/contrib/hbqt/qtcore/TQCoreApplication.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDataStream.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDate.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDateTime.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDir.prg
    trunk/harbour/contrib/hbqt/qtcore/TQEvent.prg
    trunk/harbour/contrib/hbqt/qtcore/TQEventLoop.prg
    trunk/harbour/contrib/hbqt/qtcore/TQFile.prg
    trunk/harbour/contrib/hbqt/qtcore/TQFileInfo.prg
    trunk/harbour/contrib/hbqt/qtcore/TQIODevice.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLatin1Char.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLatin1String.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLine.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLineF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQList.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLocale.prg
    trunk/harbour/contrib/hbqt/qtcore/TQMimeData.prg
    trunk/harbour/contrib/hbqt/qtcore/TQModelIndex.prg
    trunk/harbour/contrib/hbqt/qtcore/TQObject.prg
    trunk/harbour/contrib/hbqt/qtcore/TQPoint.prg
    trunk/harbour/contrib/hbqt/qtcore/TQPointF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQProcess.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRect.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRectF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRegExp.prg
    trunk/harbour/contrib/hbqt/qtcore/TQResource.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSignalMapper.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSize.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSizeF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQStringList.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextBoundaryFinder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextCodec.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextDecoder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextEncoder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextStream.prg
    trunk/harbour/contrib/hbqt/qtcore/TQThread.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTime.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTimer.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTranslator.prg
    trunk/harbour/contrib/hbqt/qtcore/TQUiLoader.prg
    trunk/harbour/contrib/hbqt/qtcore/TQUrl.prg
    trunk/harbour/contrib/hbqt/qtcore/TQVariant.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractItemDelegate.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractItemView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractPrintDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractProxyModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractScrollArea.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractTextDocumentLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAction.prg
    trunk/harbour/contrib/hbqt/qtgui/TQActionGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQApplication.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBitmap.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBrush.prg
    trunk/harbour/contrib/hbqt/qtgui/TQButtonGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCalendarWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCheckBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQClipboard.prg
    trunk/harbour/contrib/hbqt/qtgui/TQColor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQColorDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCommandLinkButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCommonStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCompleter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQConicalGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQContextMenuEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCursor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDateEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDateTimeEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDesktopWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDial.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDirModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDockWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDoubleSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragEnterEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragLeaveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragMoveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDropEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQErrorMessage.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileIconProvider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileSystemModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFocusEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFocusFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFont.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontDatabase.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontInfo.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontMetrics.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontMetricsF.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFormLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGridLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGroupBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHeaderView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHelpEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQIcon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImage.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImageReader.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImageWriter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputContext.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputMethodEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQItemSelection.prg
    trunk/harbour/contrib/hbqt/qtgui/TQItemSelectionModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQKeyEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQKeySequence.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLCDNumber.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLabel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLayoutItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLineEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLinearGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMainWindow.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMatrix.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMenu.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMenuBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMessageBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMouseEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMoveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMovie.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPageSetupDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPaintDevice.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPaintEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPainter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPainterPath.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPalette.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPen.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPicture.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPixmap.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPlainTextEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPolygon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPolygonF.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintEngine.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintPreviewDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrinter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQProgressBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQProgressDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPushButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRadialGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRadioButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRegion.prg
    trunk/harbour/contrib/hbqt/qtgui/TQResizeEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQScrollArea.prg
    trunk/harbour/contrib/hbqt/qtgui/TQScrollBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSessionManager.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSizeGrip.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSizePolicy.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSound.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSpacerItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSplashScreen.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSplitter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStandardItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStandardItemModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStatusBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStringListModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleFactory.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturn.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturnMask.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturnVariant.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOption.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionComplex.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionDockWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionFocusRect.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionGroupBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionHeader.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionMenuItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionProgressBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSizeGrip.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTab.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTabBarBase.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTabWidgetFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTitleBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionViewItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStylePainter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyledItemDelegate.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSyntaxHighlighter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSystemTrayIcon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTabBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTabWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidgetSelectionRange.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlock.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlockFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlockGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBrowser.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextCharFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextCursor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocument.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocumentFragment.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocumentWriter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFragment.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFrameFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextImageFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextInlineObject.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLength.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLine.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextListFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextObject.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextOption.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextTableFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTimeEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTransform.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQVBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQValidator.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWheelEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidgetAction.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWindowsStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWizard.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWizardPage.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQFtp.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttp.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpHeader.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpRequestHeader.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpResponseHeader.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQNetworkRequest.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Mon Dec 21 20:47:46 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Dec 21 20:47:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13356] trunk/harbour
Message-ID: <E1NMtqk-0008Nz-Pi@bj8yhf1.ch3.sourceforge.com>

Revision: 13356
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13356&view=rev
Author:   vouchcac
Date:     2009-12-22 01:47:43 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-21 17:32 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/generator/hbqtgen.prg
  * contrib/hbqt/hbqt_misc.prg
    + Introduced new class HbQtObjectHandler() and made all Qt 
      classes INHERIT from it. This class is responsible for managing
      common variables and tasks. Shifted VAR pPtr and METHODS configure()
      and OnError() into this class. 

  * Regenerated .prg sources

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt_misc.prg
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractItemModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractListModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQAbstractTableModel.prg
    trunk/harbour/contrib/hbqt/qtcore/TQBitArray.prg
    trunk/harbour/contrib/hbqt/qtcore/TQByteArray.prg
    trunk/harbour/contrib/hbqt/qtcore/TQCoreApplication.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDataStream.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDate.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDateTime.prg
    trunk/harbour/contrib/hbqt/qtcore/TQDir.prg
    trunk/harbour/contrib/hbqt/qtcore/TQEvent.prg
    trunk/harbour/contrib/hbqt/qtcore/TQEventLoop.prg
    trunk/harbour/contrib/hbqt/qtcore/TQFile.prg
    trunk/harbour/contrib/hbqt/qtcore/TQFileInfo.prg
    trunk/harbour/contrib/hbqt/qtcore/TQIODevice.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLatin1Char.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLatin1String.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLine.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLineF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQList.prg
    trunk/harbour/contrib/hbqt/qtcore/TQLocale.prg
    trunk/harbour/contrib/hbqt/qtcore/TQMimeData.prg
    trunk/harbour/contrib/hbqt/qtcore/TQModelIndex.prg
    trunk/harbour/contrib/hbqt/qtcore/TQObject.prg
    trunk/harbour/contrib/hbqt/qtcore/TQPoint.prg
    trunk/harbour/contrib/hbqt/qtcore/TQPointF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQProcess.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRect.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRectF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQRegExp.prg
    trunk/harbour/contrib/hbqt/qtcore/TQResource.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSignalMapper.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSize.prg
    trunk/harbour/contrib/hbqt/qtcore/TQSizeF.prg
    trunk/harbour/contrib/hbqt/qtcore/TQStringList.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextBoundaryFinder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextCodec.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextDecoder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextEncoder.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTextStream.prg
    trunk/harbour/contrib/hbqt/qtcore/TQThread.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTime.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTimer.prg
    trunk/harbour/contrib/hbqt/qtcore/TQTranslator.prg
    trunk/harbour/contrib/hbqt/qtcore/TQUiLoader.prg
    trunk/harbour/contrib/hbqt/qtcore/TQUrl.prg
    trunk/harbour/contrib/hbqt/qtcore/TQVariant.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractItemDelegate.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractItemView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractPrintDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractProxyModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractScrollArea.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAbstractTextDocumentLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQAction.prg
    trunk/harbour/contrib/hbqt/qtgui/TQActionGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQApplication.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBitmap.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQBrush.prg
    trunk/harbour/contrib/hbqt/qtgui/TQButtonGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCalendarWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCheckBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQClipboard.prg
    trunk/harbour/contrib/hbqt/qtgui/TQColor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQColorDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCommandLinkButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCommonStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCompleter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQConicalGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQContextMenuEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQCursor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDateEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDateTimeEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDesktopWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDial.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDirModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDockWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDoubleSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragEnterEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragLeaveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDragMoveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQDropEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQErrorMessage.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileIconProvider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFileSystemModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFocusEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFocusFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFont.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontDatabase.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontInfo.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontMetrics.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFontMetricsF.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFormLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGridLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQGroupBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHeaderView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQHelpEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQIcon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImage.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImageReader.prg
    trunk/harbour/contrib/hbqt/qtgui/TQImageWriter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputContext.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQInputMethodEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQItemSelection.prg
    trunk/harbour/contrib/hbqt/qtgui/TQItemSelectionModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQKeyEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQKeySequence.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLCDNumber.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLabel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLayoutItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLineEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQLinearGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQListWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMainWindow.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMatrix.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMenu.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMenuBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMessageBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMouseEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMoveEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQMovie.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPageSetupDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPaintDevice.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPaintEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPainter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPainterPath.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPalette.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPen.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPicture.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPixmap.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPlainTextEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPolygon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPolygonF.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintEngine.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrintPreviewDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPrinter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQProgressBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQProgressDialog.prg
    trunk/harbour/contrib/hbqt/qtgui/TQPushButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRadialGradient.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRadioButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQRegion.prg
    trunk/harbour/contrib/hbqt/qtgui/TQResizeEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQScrollArea.prg
    trunk/harbour/contrib/hbqt/qtgui/TQScrollBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSessionManager.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSizeGrip.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSizePolicy.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSound.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSpacerItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSplashScreen.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSplitter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStandardItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStandardItemModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStatusBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStringListModel.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleFactory.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturn.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturnMask.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleHintReturnVariant.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOption.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionComboBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionComplex.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionDockWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionFocusRect.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionGroupBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionHeader.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionMenuItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionProgressBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSizeGrip.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSlider.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionSpinBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTab.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTabBarBase.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTabWidgetFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionTitleBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionToolButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyleOptionViewItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStylePainter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQStyledItemDelegate.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSyntaxHighlighter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQSystemTrayIcon.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTabBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTabWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTableWidgetSelectionRange.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlock.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlockFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBlockGroup.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextBrowser.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextCharFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextCursor.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocument.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocumentFragment.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextDocumentWriter.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFragment.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFrame.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextFrameFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextImageFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextInlineObject.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLength.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextLine.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextListFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextObject.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextOption.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTextTableFormat.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTimeEdit.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolBar.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolBox.prg
    trunk/harbour/contrib/hbqt/qtgui/TQToolButton.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTransform.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeView.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQTreeWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQVBoxLayout.prg
    trunk/harbour/contrib/hbqt/qtgui/TQValidator.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWheelEvent.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidget.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidgetAction.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWidgetItem.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWindowsStyle.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWizard.prg
    trunk/harbour/contrib/hbqt/qtgui/TQWizardPage.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQFtp.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttp.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpHeader.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpRequestHeader.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQHttpResponseHeader.prg
    trunk/harbour/contrib/hbqt/qtnetwork/TQNetworkRequest.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Mon Dec 21 21:04:38 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Dec 21 21:05:06 2009
Subject: [Harbour] hbmk2 2.0.0rc1 (Rev. 13352) - Portuguese translation
Message-ID: <531d7a750912211804l193c8c1cl178d0c12e52b9c5f@mail.gmail.com>

Hi! I updated the translation of texts of hbmk2 2.0.0rc1 (Rev. 13352) for
the Portuguese language. Viktor, could you please update the current SVN?
http://www.kssoftware.com.br/hbmk2.pt_BR.zip Best Regards, Vailton Renato
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091221/4d9a8007/attachment.html
From vouchcac at users.sourceforge.net  Mon Dec 21 21:28:23 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Dec 21 21:28:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13357] trunk/harbour
Message-ID: <E1NMuU3-0006AG-FG@c3vjzd1.ch3.sourceforge.com>

Revision: 13357
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13357&view=rev
Author:   vouchcac
Date:     2009-12-22 02:28:16 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-21 18:28 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  * contrib/hbide/idemisc.prg
    ! More refinements in Find/Replace logic.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idemisc.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Dec 21 21:50:27 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Dec 21 21:50:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13358] trunk/harbour
Message-ID: <E1NMupP-0003NG-4K@dn4whf1.ch3.sourceforge.com>

Revision: 13358
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13358&view=rev
Author:   vszakats
Date:     2009-12-22 02:50:24 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 03:47 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/gtwvt/gtwvt.c
    % Deleted unnecessary cast.

  * utils/hbmk2/hbmk2.pt_BR.po
    + Uploaded new version received from Vailton Renato. Thanks!

  * utils/hbmk2/hbmk2.hu_HU.po
    + Updated.
    + Added some new translations.

  * utils/hbmk2/hbmk2.prg
    * Minor formatting.
    ! Fixed typo in one of the displayed texts.

  + examples/gtwvw
  + examples/gtwvw/Makefile
  + examples/gtwvw/hbgtwvw.h
  + examples/gtwvw/hbole.h
  + examples/gtwvw/gtwvw.c
  + examples/gtwvw/wvwdraw.c
  + examples/gtwvw/wvwmenu.c
  + examples/gtwvw/wvwstbar.c
  + examples/gtwvw/wvwcheck.c
  + examples/gtwvw/wvwfuncs.c
  + examples/gtwvw/wvwpush.c
  + examples/gtwvw/wvwedit.c
  + examples/gtwvw/wvwtbar.c
  + examples/gtwvw/gtwvw.hbc
  + examples/gtwvw/gtwvw.hbp
  + examples/gtwvw/readme.txt
  + examples/gtwvw/tests
  + examples/gtwvw/tests/wvwtest9.rc
  + examples/gtwvw/tests/prog1.prg
  + examples/gtwvw/tests/prog2.prg
  + examples/gtwvw/tests/dia_excl.ico
  + examples/gtwvw/tests/drawimg.prg
  + examples/gtwvw/tests/vouch1.bmp
  + examples/gtwvw/tests/wvwmouse.prg
  + examples/gtwvw/tests/wvwtest9.hbp
  + examples/gtwvw/tests/hbmk.hbm
  + examples/gtwvw/tests/cbtest1.prg
  + examples/gtwvw/tests/def2.bmp
  + examples/gtwvw/tests/maincoor.prg
  + examples/gtwvw/tests/wvt2wvw.ch
  + examples/gtwvw/tests/cbtest6.prg
  + examples/gtwvw/tests/wvwtest9.prg
  + examples/gtwvw/tests/ebtest7.prg
  + examples/gtwvw/tests/vouch1.gif
  + examples/gtwvw/tests/maximize.prg
  + examples/gtwvw/tests/readme.txt
  + examples/gtwvw/tests/wvwtest9.xml
  + examples/gtwvw/tests/inpfocus.prg
  + examples/gtwvw/tests/prog0.prg
  + examples/gtwvw/docs
  + examples/gtwvw/docs/funclist.txt
  + examples/gtwvw/docs/gtwvw.txt
  + examples/gtwvw/docs/whatsnew.txt
    + Added rudimentary port of GTWVW to Harbour.
      (The source was current xhb CVS repository.)
      The port is very very (very) far from anything else
      than can be found in Harbour, this port involved making
      all the minimum required steps to build and link under
      Harbour, plus some extra cleanups.
    ! Lots of cleanups and fixes.
    + Added Harbour make files (both GNU make and hbmk2)
    + Cleaned tests to avoid multiple symbols and much simpler
      interdependencies.
    ! Removed extra test.dbf and what32 dependency.
    ; TOFIX: Due to public symbol collisions, this GTWVW it's
             probably not possible to use it with gtwin lib.
    ; NOTE: GTWVW is limited to non-UNICODE, non-C++, 32-bit
            Windows (no WinCE) builds, and for a clean compiler
            I had to suppress Harbour standard warning levels.
            Anyway, not basic tests program seems to work,
            although I didn't dig into them very deeply.
            We will see if this contrib turns out to be useful
            or not, and we can decide to drop it or maybe
            moving it to contrib once it has been brought up
            to Harbour standards. Although the code is huge,
            so don't expect to happen this very soon.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/gtwvt/gtwvt.c
    trunk/harbour/utils/hbmk2/hbmk2.hu_HU.po
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po

Added Paths:
-----------
    trunk/harbour/examples/gtwvw/
    trunk/harbour/examples/gtwvw/Makefile
    trunk/harbour/examples/gtwvw/docs/
    trunk/harbour/examples/gtwvw/docs/funclist.txt
    trunk/harbour/examples/gtwvw/docs/gtwvw.txt
    trunk/harbour/examples/gtwvw/docs/whatsnew.txt
    trunk/harbour/examples/gtwvw/gtwvw.c
    trunk/harbour/examples/gtwvw/gtwvw.hbc
    trunk/harbour/examples/gtwvw/gtwvw.hbp
    trunk/harbour/examples/gtwvw/hbgtwvw.h
    trunk/harbour/examples/gtwvw/hbole.h
    trunk/harbour/examples/gtwvw/readme.txt
    trunk/harbour/examples/gtwvw/tests/
    trunk/harbour/examples/gtwvw/tests/cbtest1.prg
    trunk/harbour/examples/gtwvw/tests/cbtest6.prg
    trunk/harbour/examples/gtwvw/tests/def2.bmp
    trunk/harbour/examples/gtwvw/tests/dia_excl.ico
    trunk/harbour/examples/gtwvw/tests/drawimg.prg
    trunk/harbour/examples/gtwvw/tests/ebtest7.prg
    trunk/harbour/examples/gtwvw/tests/hbmk.hbm
    trunk/harbour/examples/gtwvw/tests/inpfocus.prg
    trunk/harbour/examples/gtwvw/tests/maincoor.prg
    trunk/harbour/examples/gtwvw/tests/maximize.prg
    trunk/harbour/examples/gtwvw/tests/prog0.prg
    trunk/harbour/examples/gtwvw/tests/prog1.prg
    trunk/harbour/examples/gtwvw/tests/prog2.prg
    trunk/harbour/examples/gtwvw/tests/readme.txt
    trunk/harbour/examples/gtwvw/tests/vouch1.bmp
    trunk/harbour/examples/gtwvw/tests/vouch1.gif
    trunk/harbour/examples/gtwvw/tests/wvt2wvw.ch
    trunk/harbour/examples/gtwvw/tests/wvwmouse.prg
    trunk/harbour/examples/gtwvw/tests/wvwtest9.hbp
    trunk/harbour/examples/gtwvw/tests/wvwtest9.prg
    trunk/harbour/examples/gtwvw/tests/wvwtest9.rc
    trunk/harbour/examples/gtwvw/tests/wvwtest9.xml
    trunk/harbour/examples/gtwvw/wvwcheck.c
    trunk/harbour/examples/gtwvw/wvwdraw.c
    trunk/harbour/examples/gtwvw/wvwedit.c
    trunk/harbour/examples/gtwvw/wvwfuncs.c
    trunk/harbour/examples/gtwvw/wvwmenu.c
    trunk/harbour/examples/gtwvw/wvwpush.c
    trunk/harbour/examples/gtwvw/wvwstbar.c
    trunk/harbour/examples/gtwvw/wvwtbar.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Dec 21 22:50:45 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec 21 22:50:53 2009
Subject: [Harbour] DMC C start-up (To: Przemek)
In-Reply-To: <20091222071253.F379.422BA498@telkom.net.id>
References: <20091222071253.F379.422BA498@telkom.net.id>
Message-ID: <20091222035045.GA15190@linux-4bod.home.aster.pl>

On Tue, 22 Dec 2009, Andi Jahja wrote:

Hi,

> With the new start-up codes, I tried to make it work with Digital Mars C Mode but so far I achieved no success.
> I know that Digital Mars is not supported due to math bug, but this exercise may be a fun.
> Followings are documentation for DMC pragmas which may relate to this subject.
> Perhaps you could help making DMC C Mode working then.

When C++ code is compiled DMC stores pointers to void(*)(void) functions
used to initialize static variables in "XIFM", "XIFL" or "XIFU" segments.
The segment depends on
   #pragma init_seg (<level>)
where <level> is compiler ("XIFM"), lib ("XIFL") or user ("XIFU")
At application startup DM CRTL executes startup functions taking
addresses from "XIFM" then "XIFL" and finally form "XIFU" segments.

So all what we need is pragma to control data segment, i.e.:

   #include <stdio.h>
   void init_func( void )
   {
      printf( "init function\n" );
   }
   int main( void )
   {
      printf( "main function\n" );
      return 0;
   }
   #pragma data_seg( "XIFU" )
      void ( * _func_ ) ( void ) = init_func;
   #pragma data_seg()

but I do not see such pragma in official DMC documentations and also
seems that it's inline assembler does not allow to set data segments.
We only have:
   #pragma code_seg( <"seg"> )
but it can be usable only if there is a code section executed by DM
CRTL at startup. I.e. in most of ELF formats .init section has such
functionality. If DMC has such segment then it's enough to make sth
like:
   #include <stdio.h>
   void init_func( void )
   {
      printf( "init function\n" );
   }
   int main( void )
   {
      printf( "main function\n" );
      return 0;
   }
   #pragma code_seg( "INIT" ) // set valid segment name here
   __declspec(naked) static void _start_( void )
   {
      asm call init_func
   }
   #pragma code_seg()

In summary we need method to set data segment or name of code segment
executed at startup of course if such segment is supported by DMC.
In both cases we need sth what is not officially documented and I'm
afraid it's all what I can say about it after short checking code
generated by DMC.

best regards,
Przemek
From april_white at sympatico.ca  Mon Dec 21 23:01:43 2009
From: april_white at sympatico.ca (April White)
Date: Mon Dec 21 23:01:53 2009
Subject: [Harbour] Warnings in $Id: ChangeLog 13347 2009-12-21 21:34:12Z
	vszakats $
In-Reply-To: <E09B8465039D49F58159BCEA5C7B0352@emag>
References: <E09B8465039D49F58159BCEA5C7B0352@emag>
Message-ID: <BLU0-SMTP79B2093AF1BF29F8C148BFEF810@phx.gbl>

Enrico Maria Giordano wrote:
> Warning W8004 ../../../hb_btree.c 620: 'pHeader' is assigned a value 
> that is never used in function HeaderWrite
> Warning W8004 ../../../hb_btree.c 1619: 'pHeader' is assigned a value 
> that is never used in function hb_BTreeOpen

I've tried to find the gcc flag (cc (GCC) 3.4.5 (mingw-vista special 
r3)) the will give me the same warning but to no avail.

I've been doing a lot of work on this today, the numbers don't match any 
more, but when I examine the two functions in both cases the pHeader 
variable is assigned to a local BYTE buffer, pHeader is incremented, and 
finally the buffer is read from or written from.  Unless the optimizer 
has removed a variable, I'm not sure what I can do to remedy this.

April

-- 
My wife has a slight impediment in her speech. Every now and then she stops to breathe.
- Jimmy Durante

From april_white at sympatico.ca  Mon Dec 21 23:17:48 2009
From: april_white at sympatico.ca (April White)
Date: Mon Dec 21 23:17:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13352] trunk/harbour
In-Reply-To: <E1NMrUZ-0001pp-Ik@c3vjzd1.ch3.sourceforge.com>
References: <E1NMrUZ-0001pp-Ik@c3vjzd1.ch3.sourceforge.com>
Message-ID: <BLU0-SMTP223507C579AE1029D11878EF810@phx.gbl>

vszakats@users.sourceforge.net wrote:
> Revision: 13352
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13352&view=rev
> Author:   vszakats
> Date:     2009-12-21 23:16:42 +0000 (Mon, 21 Dec 2009)
>
> Log Message:
> -----------
> 2009-12-22 00:15 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbbtree/hb_btree.c
>     ! Cleaned code to compile without warning on BCC.
>     ; TOFIX: ? This code looks suspicious, pls check it:
>         ---
>         pHeader += sizeof( HEADER_ID ) - 1;
>         pHeader += sizeof( ( UINT32 ) HB_BTREE_HEADERSIZE );
>         ---
>   

I'm in the middle of a large rewrite, trying to cleanup the use of 
int/long inside the code.

The second item above was addressed in my local copy but not committed.  
As for the second, I will have to not use a string to hold the header 
identifier, it should be an array; the "-1" is for the null character.

I've merged this change into my local copy, it compiled with warnings:
../../../hb_btree.c:600: warning: passing arg 2 of `_hb_put_std_uint32' 
makes integer from pointer without a cast

I believe the parameters were reversed when my macro was replaced.

April

-- 
My wife has a slight impediment in her speech. Every now and then she stops to breathe.
- Jimmy Durante

From mbelgrano at deltain.it  Tue Dec 22 02:19:40 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Dec 22 02:20:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13358] trunk/harbour
In-Reply-To: <E1NMupP-0003NG-4K@dn4whf1.ch3.sourceforge.com>
References: <E1NMupP-0003NG-4K@dn4whf1.ch3.sourceforge.com>
Message-ID: <609353e70912212319k4798a022u998ae23c8760b95d@mail.gmail.com>

very good news a port of GTWVW!

2009/12/22  <vszakats@users.sourceforge.net>:
> Revision: 13358
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13358&view=rev
> Author: ? vszakats
> Date: ? ? 2009-12-22 02:50:24 +0000 (Tue, 22 Dec 2009)

> ?+ examples/gtwvw
> ?+ examples/gtwvw/Makefile
> ?+ examples/gtwvw/hbgtwvw.h
> ?+ examples/gtwvw/hbole.h
> ?+ examples/gtwvw/gtwvw.c
> ?+ examples/gtwvw/wvwdraw.c
> ?+ examples/gtwvw/wvwmenu.c
> ?+ examples/gtwvw/wvwstbar.c
> ?+ examples/gtwvw/wvwcheck.c
> ?+ examples/gtwvw/wvwfuncs.c
> ?+ examples/gtwvw/wvwpush.c
> ?+ examples/gtwvw/wvwedit.c
> ?+ examples/gtwvw/wvwtbar.c
> ?+ examples/gtwvw/gtwvw.hbc
> ?+ examples/gtwvw/gtwvw.hbp
> ?+ examples/gtwvw/readme.txt
> ?+ examples/gtwvw/tests
> ?+ examples/gtwvw/tests/wvwtest9.rc
> ?+ examples/gtwvw/tests/prog1.prg
> ?+ examples/gtwvw/tests/prog2.prg
> ?+ examples/gtwvw/tests/dia_excl.ico
> ?+ examples/gtwvw/tests/drawimg.prg
> ?+ examples/gtwvw/tests/vouch1.bmp
> ?+ examples/gtwvw/tests/wvwmouse.prg
> ?+ examples/gtwvw/tests/wvwtest9.hbp
> ?+ examples/gtwvw/tests/hbmk.hbm
> ?+ examples/gtwvw/tests/cbtest1.prg
> ?+ examples/gtwvw/tests/def2.bmp
> ?+ examples/gtwvw/tests/maincoor.prg
> ?+ examples/gtwvw/tests/wvt2wvw.ch
> ?+ examples/gtwvw/tests/cbtest6.prg
> ?+ examples/gtwvw/tests/wvwtest9.prg
> ?+ examples/gtwvw/tests/ebtest7.prg
> ?+ examples/gtwvw/tests/vouch1.gif
> ?+ examples/gtwvw/tests/maximize.prg
> ?+ examples/gtwvw/tests/readme.txt
> ?+ examples/gtwvw/tests/wvwtest9.xml
> ?+ examples/gtwvw/tests/inpfocus.prg
> ?+ examples/gtwvw/tests/prog0.prg
> ?+ examples/gtwvw/docs
> ?+ examples/gtwvw/docs/funclist.txt
> ?+ examples/gtwvw/docs/gtwvw.txt
> ?+ examples/gtwvw/docs/whatsnew.txt
> ? ?+ Added rudimentary port of GTWVW to Harbour.
> ? ? ?(The source was current xhb CVS repository.)
> ? ? ?The port is very very (very) far from anything else
> ? ? ?than can be found in Harbour, this port involved making
> ? ? ?all the minimum required steps to build and link under
> ? ? ?Harbour, plus some extra cleanups.
> ? ?! Lots of cleanups and fixes.
> ? ?+ Added Harbour make files (both GNU make and hbmk2)
> ? ?+ Cleaned tests to avoid multiple symbols and much simpler
> ? ? ?interdependencies.
> ? ?! Removed extra test.dbf and what32 dependency.
> ? ?; TOFIX: Due to public symbol collisions, this GTWVW it's
> ? ? ? ? ? ? probably not possible to use it with gtwin lib.
> ? ?; NOTE: GTWVW is limited to non-UNICODE, non-C++, 32-bit
> ? ? ? ? ? ?Windows (no WinCE) builds, and for a clean compiler
> ? ? ? ? ? ?I had to suppress Harbour standard warning levels.
> ? ? ? ? ? ?Anyway, not basic tests program seems to work,
> ? ? ? ? ? ?although I didn't dig into them very deeply.
> ? ? ? ? ? ?We will see if this contrib turns out to be useful
> ? ? ? ? ? ?or not, and we can decide to drop it or maybe
> ? ? ? ? ? ?moving it to contrib once it has been brought up
> ? ? ? ? ? ?to Harbour standards. Although the code is huge,
> ? ? ? ? ? ?so don't expect to happen this very soon.
>


-- 
Massimo Belgrano
From mbelgrano at deltain.it  Tue Dec 22 02:35:37 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Dec 22 02:36:05 2009
Subject: [Harbour] Harbour & MySQL
In-Reply-To: <20091220231255.B22EE1AC1@eva87.dadanet.it>
References: <20091220231255.B22EE1AC1@eva87.dadanet.it>
Message-ID: <609353e70912212335r65300cd1qa44810fe9cc5205a@mail.gmail.com>

Folow working sample from http://www.gio22.com/harbour/tutorial/mysql01.pdf
give follow error:

Error BASE/3012  Argument error: OPEN
Called from WIN_OLEAUTO:OPEN(0)
Called from ADO_OPEN(0)
Called from DBUSEAREA(0)
Called from MAIN(5)

#include "adordd.ch"
REQUEST ADORDD
function Main()
clear screen
setmode(25,80)
USE giovanni VIA "ADORDD" TABLE "persone" MYSQL FROM "db4free.net"
USER "username" PASSWORD "***"
dbedit()
USE
clear screen
return nil






2009/12/21  <calimero22@freemail.it>:
>
> Hi
> What's best way to connect to a remote MySql Database?
> I tried contrib/rddado but it gives some problem.
> Thank
> BSTRGD.
> Giovanni Di Maria
>
>
>
>
>
> --- Dada Music Movement, tutta la musica che vuoi! ---
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

I
From vszakats at users.sourceforge.net  Tue Dec 22 04:21:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 04:21:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13359] trunk/harbour
Message-ID: <E1NN0vY-0006OF-5r@74yxhf1.ch3.sourceforge.com>

Revision: 13359
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13359&view=rev
Author:   vszakats
Date:     2009-12-22 09:21:10 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 10:20 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * bin/postinst.prg
    ! Fixed typo. hbmk.cfg was not created because of this.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From francek.prijatelj at siol.net  Tue Dec 22 04:27:22 2009
From: francek.prijatelj at siol.net (=?windows-1250?Q?FRAN=C8EK_PRIJATELJ?=)
Date: Tue Dec 22 04:27:31 2009
Subject: [Harbour] error in trunk
Message-ID: <4B3090FA.8050502@siol.net>

Hi There is an error:
hbmk2: .pot error:
        C:\HRB\SVN\SRC-SVN\bin\..\utils\hbmk2\hbmk2.pt_BR.po:69;unrecognized
        line

there are 3 double quotes
line 69:   msgstr "Erro: Diret?rio de trabalho n?o p"de ser criado: %1$s"

-------------- next part --------------
A non-text attachment was scrubbed...
Name: francek_prijatelj.vcf
Type: text/x-vcard
Size: 182 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091222/9bbf8d8d/francek_prijatelj.vcf
From harbour.01 at syenar.hu  Tue Dec 22 04:34:29 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec 22 04:34:41 2009
Subject: [Harbour] hbmk2 2.0.0rc1 (Rev. 13352) - Portuguese translation
In-Reply-To: <531d7a750912211804l193c8c1cl178d0c12e52b9c5f@mail.gmail.com>
References: <531d7a750912211804l193c8c1cl178d0c12e52b9c5f@mail.gmail.com>
Message-ID: <6CCE1F88-5071-48B8-B60E-6E34E51BE64D@syenar.hu>

Hi Vailton,

I've found that .hbl is not created because .po file 
has f.e. a fatal encoding problem in line 69, but also 
seemingly some other strings are not encoded in Windows/ISO
codepage.

Could you pls send a fix ASAP?

Brgds,
Viktor

On 2009 Dec 22, at 03:04, Vailton Renato wrote:

> Hi!
> 
> I updated the translation of texts of hbmk2 2.0.0rc1 (Rev. 13352) for the Portuguese language. Viktor, could you please update the current SVN?
> 
> 
> http://www.kssoftware.com.br/hbmk2.pt_BR.zip
> 
> 
> Best Regards,
> Vailton Renato
>  _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Tue Dec 22 04:53:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 04:53:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13360] trunk/harbour
Message-ID: <E1NN1QW-0006qj-UI@3kljzd1.ch3.sourceforge.com>

Revision: 13360
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13360&view=rev
Author:   vszakats
Date:     2009-12-22 09:53:11 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 10:51 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * package/winuni/RELNOTES
    * Finalizing.

  * contrib/hbbtree/hb_btree.c
    ! Fixed typo in prev fix. (BTW only indicated by msvc64)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbtree/hb_btree.c
    trunk/harbour/package/winuni/RELNOTES


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Dec 22 05:06:50 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Dec 22 05:06:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13361] trunk/harbour
Message-ID: <E1NN1di-00076P-17@dn4whf1.ch3.sourceforge.com>

Revision: 13361
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13361&view=rev
Author:   druzus
Date:     2009-12-22 10:06:40 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 11:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/bsd/gcc.mk
    + added c i s to ar parameters

  * harbour/src/vm/estack.c
    * formatting

  * harbour/include/hbtypes.h
    % replaced #ifdef ... / #undef ... with simple #undef

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/include/hbtypes.h
    trunk/harbour/src/vm/estack.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Dec 22 05:21:53 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec 22 05:22:03 2009
Subject: [Harbour] Deadline postponed by 12 hours
Message-ID: <83B7B75E-1272-407E-832D-5F1C87B5D991@syenar.hu>

Hi All,

Since some developers are sleeping at this moment, 
let's postpone tagging to about this midnight CET.

Brgds,
Viktor

From ice at extreme.hu  Tue Dec 22 05:25:09 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Tue Dec 22 05:25:18 2009
Subject: [Harbour] some dependency problem in hbffind.c
Message-ID: <alpine.DEB.2.00.0912221110430.27623@dawn.royalcomp.hu>


hi,

preparing a platform that has no S_IFSOCK/S_ISSOCK, i protected the 
hb alikes like this:

include/hbapifs.h:

#if defined( S_ISSOCK )
#  define HB_FA_SOCKET          HB_FA_SPARSE      /* S_ISSOCK() */
#endif

src/common/hbffind.c:

#if defined( S_ISSOCK )
   if( S_ISSOCK( raw_attr ) ) ulAttr |= HB_FA_SOCKET;
#endif

this, on a platform that does have S_ISSOCK, results in

cc   -DHB_OS_OPENSERVER6 -I. -I../../../../../include -K udk -K pthread   -o hbffind.o -c ../../../hbffind.c
UX:acomp: ERROR: "../../../hbffind.c", line 246: undefined symbol: HB_FA_SOCKET
UX:acomp: ERROR: "../../../hbffind.c", line 318: undefined symbol: HB_FA_SOCKET

this seems to be correct, since hbapifs.h doesn't (directly or 
indirectly) include <sys/stat.h>, thus has no knowledge of 
macros/flags actually defined in the system.

-- 
[-]

mkdir /nonexistent
From vszakats at users.sourceforge.net  Tue Dec 22 07:09:51 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 07:09:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13362] trunk/harbour
Message-ID: <E1NN3Yl-0002fD-N1@bj8yhf1.ch3.sourceforge.com>

Revision: 13362
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13362&view=rev
Author:   vszakats
Date:     2009-12-22 12:09:50 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 13:09 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * package/winuni/RELNOTES
    + Added brief list of changes since beta3.
      (pls review / add any missing items)

  * utils/hbmk2/hbmk2.prg
    ! Use 'rc' as ar command for hbux. To be in sync with
      build system.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/package/winuni/RELNOTES
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Tue Dec 22 07:34:55 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Dec 22 07:35:23 2009
Subject: [Harbour] hbmk2 2.0.0rc1 (Rev. 13352) - Portuguese translation
In-Reply-To: <6CCE1F88-5071-48B8-B60E-6E34E51BE64D@syenar.hu>
References: <531d7a750912211804l193c8c1cl178d0c12e52b9c5f@mail.gmail.com> 
	<6CCE1F88-5071-48B8-B60E-6E34E51BE64D@syenar.hu>
Message-ID: <531d7a750912220434p41de598ck907dab97ddf38a75@mail.gmail.com>

Hi!

Sorry... The fix is attached.?I really confused with the character encoding.

Best Regards,
Vailton Renato

2009/12/22 Viktor Szak?ts <harbour.01@syenar.hu>
>
> Hi Vailton,
>
> I've found that .hbl is not created because .po file
> has f.e. a fatal encoding problem in line 69, but also
> seemingly some other strings are not encoded in Windows/ISO
> codepage.
>
> Could you pls send a fix ASAP?
>
> Brgds,
> Viktor
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbmk2.pt_BR.zip
Type: application/zip
Size: 9459 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091222/93e83cad/hbmk2.pt_BR.zip
From vszakats at users.sourceforge.net  Tue Dec 22 07:53:18 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 07:53:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13363] trunk/harbour
Message-ID: <E1NN4Eo-0003RQ-N0@c3vjzd1.ch3.sourceforge.com>

Revision: 13363
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13363&view=rev
Author:   vszakats
Date:     2009-12-22 12:53:11 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 13:52 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.pt_BR.po
    ! Applied fix received from Vailton Renato to prev version.
    ! Fixed win/dos/os2 and *nix codepage to be PT850 and PTISO.
      I hope I didn't break it, please test it.

  * contrib/hbsqlit3/hbsqlit3.c
    ! Fixed to use HB_FHANDLE instead of int. It was reported by
      msvc64 compiler.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbsqlit3/hbsqlit3.c
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Dec 22 07:57:21 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec 22 07:57:33 2009
Subject: [Harbour] watcom/dos build error
Message-ID: <6701E707-DD12-4F61-926B-1261C8F21C31@syenar.hu>

Hi Przemek,

The problem is rooted from the fact that HB_BUILD_DLL is 
explicitly enabled when HB_BUILD_PKG=yes. Maybe it'd be better 
to disable dos/watcom .dll generation completely until 
it's fixed. What do you think?

---
! Building Harbour 2.0.0rc1 from source - http://www.harbour-project.org
! MAKE: mingw32-make.exe 3.81 sh.exe clean install  
! HB_INSTALL_PREFIX: F:\devl\hb20
! HB_BUILD_PKG: yes
! HB_BUILD_DLL: yes
! HB_BUILD_SHARED: no
! HB_BUILD_DEBUG: no
! HB_BUILD_OPTIM: yes
! HB_HOST_PLAT: win (x86_64)  HB_SHELL: nt
! HB_PLATFORM: dos (x86) (autodetected)
! HB_COMPILER: watcom (autodetected: Z:/devl/owatcom-1.8/BINNT/wpp386.exe Z:/devl/owatcom-1.8/BINW/)
! HB_BIN_COMPILE not specified. Automatically set to: F:/work/harbour/harbour/bin/win/bcc
! Component: 'zlib' found in F:/work/harbour/harbour/external/zlib (local)
! Component: 'pcre' found in F:/work/harbour/harbour/external/pcre (local)
! Component: 'openssl' not supported with watcom compiler
! Component: 'gpm' not supported on dos platform
! Component: 'slang' not found. Configure with HB_WITH_SLANG.
! Component: 'curses' not found. Configure with HB_WITH_CURSES.
! Component: 'x11' not found. Configure with HB_WITH_X11.
! Component: 'wattcp/watt-32' found in Z:\devl\watt\inc 
! HB_INSTALL_PREFIX automatically set to: F:\work\harbour\harbour\pkg\dos\watcom\hb2r1wa
[...]
wlink  OP quiet SYS cwdllr  NAME '..\..\..\..\..\bin\dos\watcom\harbour.dll' OP implib='../../../../../lib/dos/watcom/harbour.lib' @__dyn__.tmp 
Warning! W1027: file clib3r.lib(cstart): redefinition of ___begtext ignored
Warning! W1027: file clib3r.lib(cstart): redefinition of __nullarea ignored
Warning! W1027: file clib3r.lib(cstart): redefinition of __D16Infoseg ignored
Warning! W1027: file clib3r.lib(cstart): redefinition of __x386_zero_base_selector ignored
Warning! W1027: file clib3r.lib(cstart): redefinition of __exit_ ignored
Warning! W1027: file clib3r.lib(cstart): redefinition of __do_exit_with_msg__ ignored
Warning! W1027: file clib3r.lib(cstart): redefinition of __GETDS ignored
Warning! W1027: file clib3r.lib(cstart): redefinition of ___GETDSStart_ ignored
Warning! W1027: file clib3r.lib(cstart): redefinition of ___GETDSEnd_ ignored
Error! E2030: file clib3r.lib(cstart): multiple starting addresses found
mingw32-make.exe[3]: *** [harbour.dll] Error 1
mingw32-make.exe[2]: *** [descend] Error 2
mingw32-make.exe[1]: *** [dynlib.inst] Error 2
mingw32-make.exe: *** [src.inst] Error 2
---

Brgds,
Viktor

From Jacek.Potempa at otc.com.pl  Tue Dec 22 08:24:08 2009
From: Jacek.Potempa at otc.com.pl (Jacek Potempa)
Date: Tue Dec 22 08:24:23 2009
Subject: [Harbour] watcom/dos build error
In-Reply-To: <6701E707-DD12-4F61-926B-1261C8F21C31@syenar.hu>
References: <6701E707-DD12-4F61-926B-1261C8F21C31@syenar.hu>
Message-ID: <4B30C878.6040402@otc.com.pl>

Hi,

Recently one of our customers reported bug in Terminal software. After 
tracing it down it seems that the actuall problem lays in 
xHarbour/Harbour implementation of the  hb_gt_win_SetMode() / gtwin.c

SetConsoleWindow API function cannot set console window larger then 
current screen buffer
SetConsoleScreenBufferSize API function cannot set screen buffer smaller 
than the current console window size

Due to this limitations, in current implementation  SetMode() is unable 
to change console size if one ot the new dimentions is larger then the 
previous one and at the same time the other one is smaller then the 
previous one. For instance, having console 25 X 80, SetMode( 23, 85 ) 
will fail.

Below my suggested fix for this problem. I have no access to CVS, so 
would be nice if somebody familiar with gtwin.c review and implement the 
solution.

Regards,
Jacek

/* fixed version */
static BOOL hb_gt_win_SetMode( PHB_GT pGT, int iRows, int iCols )
{
  BOOL fRet = FALSE;

  HB_TRACE(HB_TR_DEBUG, ("hb_gt_win_SetMode(%p,%d,%d)", pGT, iRows, 
iCols));

  if( s_HOutput != INVALID_HANDLE_VALUE && iRows > 0 && iCols > 0 )
  {
     SMALL_RECT srWin;
     COORD coBuf;

     coBuf = GetLargestConsoleWindowSize( s_HOutput );

     if( iRows > coBuf.Y )
        iRows = coBuf.Y;
     else
        coBuf.Y = ( SHORT ) iRows;

     if( iCols > coBuf.X )
        iCols = coBuf.X;
     else
        coBuf.X = ( SHORT ) iCols;

     /* new console window size and scroll position */
     srWin.Top    = srWin.Left = 0;
     srWin.Bottom = ( SHORT ) ( iRows - 1 );
     srWin.Right  = ( SHORT ) ( iCols - 1 );

     /* if the current buffer is larger than what we want, resize the */
     /* console window first, then the buffer */
     if( (DWORD)_GetScreenWidth() >= (DWORD)iCols && 
(DWORD)_GetScreenHeight() >= (DWORD)iRows )
     {
        if( SetConsoleWindowInfo( s_HOutput, TRUE, &srWin ) )
        {
           SetConsoleScreenBufferSize( s_HOutput, coBuf );
           fRet = TRUE;
        }
     }
     else
     /* if the current buffer is smaller than what we want, enlarge the */
     /* buffer first, then adjust the console window  */
     if( (DWORD)_GetScreenWidth() <= (DWORD)iCols && 
(DWORD)_GetScreenHeight() <= (DWORD)iRows )
     {
        if( SetConsoleScreenBufferSize( s_HOutput, coBuf ) )
        {
           SetConsoleWindowInfo( s_HOutput, TRUE, &srWin );
           fRet = TRUE;
        }
     }
     else
     {
       /* if one buffer dimention has changed to smaller and second to 
larger we need three steps: */
       /* 1) Make console window as small as possible (so that new 
buffer dimention is not smaller) */
       /* 2) Set the right console buffer size (it will be not smaller 
then console window set in step 1.*/
       /* 3) Adjust the console window to match screen buffer size */

       SMALL_RECT srWin;
       srTemp.Top    = srTemp.Left = 0;
       srTemp.Bottom = ( SHORT ) ((DWORD)iRows < 
(DWORD)_GetScreenHeight() ? iRows : _GetScreenHeight()) - 1;
       srTemp.Right  = ( SHORT ) ( (DWORD)iCols < 
(DWORD)_GetScreenWidth() ? iCols : _GetScreenWidth()) - 1;
       if( SetConsoleWindowInfo( s_HOutput, TRUE, &srTemp ) )
       {
           if( SetConsoleScreenBufferSize( s_HOutput, coBuf ) )
           {
               SetConsoleWindowInfo( s_HOutput, TRUE, &srWin );
               fRet = TRUE;
           }
       }
     }

     if( fRet )
        hb_gt_win_xInitScreenParam( pGT );
  }

  return fRet;
}


From Jacek.Potempa at otc.com.pl  Tue Dec 22 08:27:52 2009
From: Jacek.Potempa at otc.com.pl (Jacek Potempa)
Date: Tue Dec 22 08:28:05 2009
Subject: [Harbour] Bug in hb_gt_win_SetMode()
In-Reply-To: <6701E707-DD12-4F61-926B-1261C8F21C31@syenar.hu>
References: <6701E707-DD12-4F61-926B-1261C8F21C31@syenar.hu>
Message-ID: <4B30C958.4010702@otc.com.pl>

Hi,

(sorry for my previous post under invalid subject - please ignore)

Recently one of our customers reported bug in Terminal software. After 
tracing it down it seems that the actuall problem lays in 
xHarbour/Harbour implementation of the  hb_gt_win_SetMode() / gtwin.c

SetConsoleWindow API function cannot set console window larger then 
current screen buffer
SetConsoleScreenBufferSize API function cannot set screen buffer smaller 
than the current console window size

Due to this limitations, in current implementation  SetMode() is unable 
to change console size if one ot the new dimentions is larger then the 
previous one and at the same time the other one is smaller then the 
previous one. For instance, having console 25 X 80, SetMode( 23, 85 ) 
will fail.

Below my suggested fix for this problem. I have no access to CVS, so 
would be nice if somebody familiar with gtwin.c review and implement the 
solution.

Regards,
Jacek

/* fixed version */
static BOOL hb_gt_win_SetMode( PHB_GT pGT, int iRows, int iCols )
{
  BOOL fRet = FALSE;

  HB_TRACE(HB_TR_DEBUG, ("hb_gt_win_SetMode(%p,%d,%d)", pGT, iRows, 
iCols));

  if( s_HOutput != INVALID_HANDLE_VALUE && iRows > 0 && iCols > 0 )
  {
     SMALL_RECT srWin;
     COORD coBuf;

     coBuf = GetLargestConsoleWindowSize( s_HOutput );

     if( iRows > coBuf.Y )
        iRows = coBuf.Y;
     else
        coBuf.Y = ( SHORT ) iRows;

     if( iCols > coBuf.X )
        iCols = coBuf.X;
     else
        coBuf.X = ( SHORT ) iCols;

     /* new console window size and scroll position */
     srWin.Top    = srWin.Left = 0;
     srWin.Bottom = ( SHORT ) ( iRows - 1 );
     srWin.Right  = ( SHORT ) ( iCols - 1 );

     /* if the current buffer is larger than what we want, resize the */
     /* console window first, then the buffer */
     if( (DWORD)_GetScreenWidth() >= (DWORD)iCols && 
(DWORD)_GetScreenHeight() >= (DWORD)iRows )
     {
        if( SetConsoleWindowInfo( s_HOutput, TRUE, &srWin ) )
        {
           SetConsoleScreenBufferSize( s_HOutput, coBuf );
           fRet = TRUE;
        }
     }
     else
     /* if the current buffer is smaller than what we want, enlarge the */
     /* buffer first, then adjust the console window  */
     if( (DWORD)_GetScreenWidth() <= (DWORD)iCols && 
(DWORD)_GetScreenHeight() <= (DWORD)iRows )
     {
        if( SetConsoleScreenBufferSize( s_HOutput, coBuf ) )
        {
           SetConsoleWindowInfo( s_HOutput, TRUE, &srWin );
           fRet = TRUE;
        }
     }
     else
     {
       /* if one buffer dimention has changed to smaller and second to 
larger we need three steps: */
       /* 1) Make console window as small as possible (so that new 
buffer dimention is not smaller) */
       /* 2) Set the right console buffer size (it will be not smaller 
then console window set in step 1.*/
       /* 3) Adjust the console window to match screen buffer size */

       SMALL_RECT srWin;
       srTemp.Top    = srTemp.Left = 0;
       srTemp.Bottom = ( SHORT ) ((DWORD)iRows < 
(DWORD)_GetScreenHeight() ? iRows : _GetScreenHeight()) - 1;
       srTemp.Right  = ( SHORT ) ( (DWORD)iCols < 
(DWORD)_GetScreenWidth() ? iCols : _GetScreenWidth()) - 1;
       if( SetConsoleWindowInfo( s_HOutput, TRUE, &srTemp ) )
       {
           if( SetConsoleScreenBufferSize( s_HOutput, coBuf ) )
           {
               SetConsoleWindowInfo( s_HOutput, TRUE, &srWin );
               fRet = TRUE;
           }
       }
     }

     if( fRet )
        hb_gt_win_xInitScreenParam( pGT );
  }

  return fRet;
}



From dbtopas at dbtopas.lt  Tue Dec 22 08:41:19 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Dec 22 08:41:17 2009
Subject: [Harbour] Any commits/fixes pending?
In-Reply-To: <20091219113319.GA18476@linux-4bod.home.aster.pl>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>
	<20091219113319.GA18476@linux-4bod.home.aster.pl>
Message-ID: <4B30CC7F.8090000@dbtopas.lt>

Hi,


Przemys?aw Czerpak wrote:
> On Sat, 19 Dec 2009, Szak?ts Viktor wrote:
>> I'd like to ask everyone if there are any 
>> patches, commits or fixes pending? (besides 
>> hbqt related modules)
> 
> 1. ...
> 
> 6. I'm also working on small Christmas gift but I do not know
>    if I find enough spare time to finish it so it's less important.


this is the most itching part of your to do list :)


Regards,
Mindaugas
From vszakats at users.sourceforge.net  Tue Dec 22 09:01:05 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 09:01:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13364] trunk/harbour
Message-ID: <E1NN5IP-0002jp-4t@74yxhf1.ch3.sourceforge.com>

Revision: 13364
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13364&view=rev
Author:   vszakats
Date:     2009-12-22 14:01:03 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 15:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  - package/winuni/HARBOUR_README_ADDINS
  + package/winuni/HARBOUR_README_ADDONS
    * Renamed.

  * package/winuni/mpkg_win_uni_extra_copy.bat
    * Changed to work from its original location.

  * package/winuni/mpkg_win_uni.bat
  * package/winuni/mpkg_win_uni.nsi
    * Added dos/watcom.
    - Commented dos/djgpp

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/package/winuni/mpkg_win_uni.bat
    trunk/harbour/package/winuni/mpkg_win_uni.nsi
    trunk/harbour/package/winuni/mpkg_win_uni_extra_copy.bat

Added Paths:
-----------
    trunk/harbour/package/winuni/HARBOUR_README_ADDONS

Removed Paths:
-------------
    trunk/harbour/package/winuni/HARBOUR_README_ADDINS


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Dec 22 09:18:11 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 09:18:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13365] trunk/harbour
Message-ID: <E1NN5Yx-00033x-JA@74yxhf1.ch3.sourceforge.com>

Revision: 13365
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13365&view=rev
Author:   vszakats
Date:     2009-12-22 14:18:10 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 15:17 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * package/winuni/mpkg_win_uni_extra_copy.bat
    + Added some more automatism.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/package/winuni/mpkg_win_uni_extra_copy.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From amigosam at adinet.com.uy  Tue Dec 22 09:24:44 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Tue Dec 22 09:25:16 2009
Subject: [Harbour] Re: Any commits/fixes pending?
In-Reply-To: <4B30CC7F.8090000@dbtopas.lt>
References: <0A6D4D93-1684-4AD8-B3F2-C9154696B135@syenar.hu>	<20091219113319.GA18476@linux-4bod.home.aster.pl>
	<4B30CC7F.8090000@dbtopas.lt>
Message-ID: <hgqkra$789$1@ger.gmane.org>

Mindaugas Kavaliauskas escribi?:
> Hi,
> 
> 
> Przemys?aw Czerpak wrote:
>> On Sat, 19 Dec 2009, Szak?ts Viktor wrote:
>>> I'd like to ask everyone if there are any patches, commits or fixes 
>>> pending? (besides hbqt related modules)
>>
>> 1. ...
>>
>> 6. I'm also working on small Christmas gift but I do not know
>>    if I find enough spare time to finish it so it's less important.
> 
> 
> this is the most itching part of your to do list :)
> 
> 
> Regards,
> Mindaugas

Would it be an RPC protocol over NETIO, returning JSON recorsets ?

hehehe

This is itching !!!

From vszakats at users.sourceforge.net  Tue Dec 22 10:06:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 10:06:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13366] trunk/harbour
Message-ID: <E1NN6Jo-0003OZ-MP@3kljzd1.ch3.sourceforge.com>

Revision: 13366
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13366&view=rev
Author:   vszakats
Date:     2009-12-22 15:06:35 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 16:05 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * package/winuni/mpkg_win_uni_extra_copy.bat
    ! Minor fix to prev.

  * package/winuni/mpkg_win_uni.bat
  * package/winuni/mpkg_win_uni.nsi
    + Enhanced to make it run in-place.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/package/winuni/mpkg_win_uni.bat
    trunk/harbour/package/winuni/mpkg_win_uni.nsi
    trunk/harbour/package/winuni/mpkg_win_uni_extra_copy.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Dec 22 10:15:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 10:15:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13367] trunk/harbour
Message-ID: <E1NN6S3-0003XK-Rb@3kljzd1.ch3.sourceforge.com>

Revision: 13367
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13367&view=rev
Author:   vszakats
Date:     2009-12-22 15:15:06 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 16:14 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * package/winuni/RELNOTES
    * Adjusted sizes.

  * package/winuni/mpkg_win_uni.bat
    ! Fixed to create .7z and log in-place.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/package/winuni/RELNOTES
    trunk/harbour/package/winuni/mpkg_win_uni.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Dec 22 10:19:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 10:19:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13368] trunk/harbour
Message-ID: <E1NN6WJ-0003cd-1s@3kljzd1.ch3.sourceforge.com>

Revision: 13368
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13368&view=rev
Author:   vszakats
Date:     2009-12-22 15:19:29 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 16:19 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/rddsql/sddfb/fbirddd.c
    ! Fixed warning reported by linux/watcom.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddfb/fbirddd.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Tue Dec 22 10:38:32 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Dec 22 10:38:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13369] trunk/harbour
Message-ID: <E1NN6oi-0006f7-VT@bj8yhf1.ch3.sourceforge.com>

Revision: 13369
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13369&view=rev
Author:   vouchcac
Date:     2009-12-22 15:38:31 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 07:36 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
    ! More refinements in Find/Replace.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Dec 22 11:06:50 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Dec 22 11:07:18 2009
Subject: [Harbour] Bug in hb_gt_win_SetMode()
In-Reply-To: <4B30C958.4010702@otc.com.pl>
References: <6701E707-DD12-4F61-926B-1261C8F21C31@syenar.hu> 
	<4B30C958.4010702@otc.com.pl>
Message-ID: <609353e70912220806w6e246209sa808ead2d45b31fc@mail.gmail.com>

Can you post a little sample to show the problem so i can try on
Terminal server & Citrix?

2009/12/22 Jacek Potempa <Jacek.Potempa@otc.com.pl>:
> Hi,
>
> (sorry for my previous post under invalid subject - please ignore)
>
> Recently one of our customers reported bug in Terminal software. After
> tracing it down it seems that the actuall problem lays in xHarbour/Harbour
> implementation of the ?hb_gt_win_SetMode() / gtwin.c
>
> SetConsoleWindow API function cannot set console window larger then current
> screen buffer
> SetConsoleScreenBufferSize API function cannot set screen buffer smaller
> than the current console window size
>
> Due to this limitations, in current implementation ?SetMode() is unable to
> change console size if one ot the new dimentions is larger then the previous
> one and at the same time the other one is smaller then the previous one. For
> instance, having console 25 X 80, SetMode( 23, 85 ) will fail.
>
> Below my suggested fix for this problem. I have no access to CVS, so would
> be nice if somebody familiar with gtwin.c review and implement the solution.
>
> Regards,
> Jacek
>

-- 
Massimo Belgrano
From Jacek.Potempa at otc.com.pl  Tue Dec 22 12:02:23 2009
From: Jacek.Potempa at otc.com.pl (Jacek Potempa)
Date: Tue Dec 22 12:02:38 2009
Subject: [Harbour] Bug in hb_gt_win_SetMode()
In-Reply-To: <609353e70912220806w6e246209sa808ead2d45b31fc@mail.gmail.com>
References: <6701E707-DD12-4F61-926B-1261C8F21C31@syenar.hu>
	<4B30C958.4010702@otc.com.pl>
	<609353e70912220806w6e246209sa808ead2d45b31fc@mail.gmail.com>
Message-ID: <4B30FB9F.8070002@otc.com.pl>

Massimo,

The bug is not related to Cytrix or Terminal server.
Just try to execute the following PRG code directly under Windows console:

SetMode(25,80)
? "Initial console size:", maxrow()+1,"X", maxcol()+1
? "Changing to         :", maxrow()+1+1, "X", maxcol()+1-1
wait
SetMode(maxrow()+2,maxcol())
? "Size after SetMode():", maxrow()+1,"X", maxcol()+1
wait


The expected output is:

Initial console size:         25 X         80
Changing to         :         26 X         79
Press any key to continue...
Size after SetMode():    26 X         79
Press any key to continue...

Because of the bug in SetMode, the second SetMode 
(SetMode(maxrow()+2,maxcol()) does not execute correctly and console 
dimentions do not change. The actuall (buggy) output is:

Initial console size:         25 X         80
Changing to         :         26 X         79
Press any key to continue...
Size after SetMode():    25 X         80
Press any key to continue...

Regards,
Jacek
> Can you post a little sample to show the problem so i can try on
> Terminal server & Citrix?
>
> 2009/12/22 Jacek Potempa <Jacek.Potempa@otc.com.pl>:
>  
>> Hi,
>>
>> (sorry for my previous post under invalid subject - please ignore)
>>
>> Recently one of our customers reported bug in Terminal software. After
>> tracing it down it seems that the actuall problem lays in 
>> xHarbour/Harbour
>> implementation of the  hb_gt_win_SetMode() / gtwin.c
>>
>> SetConsoleWindow API function cannot set console window larger then 
>> current
>> screen buffer
>> SetConsoleScreenBufferSize API function cannot set screen buffer smaller
>> than the current console window size
>>
>> Due to this limitations, in current implementation  SetMode() is 
>> unable to
>> change console size if one ot the new dimentions is larger then the 
>> previous
>> one and at the same time the other one is smaller then the previous 
>> one. For
>> instance, having console 25 X 80, SetMode( 23, 85 ) will fail.
>>
>> Below my suggested fix for this problem. I have no access to CVS, so 
>> would
>> be nice if somebody familiar with gtwin.c review and implement the 
>> solution.
>>
>> Regards,
>> Jacek
>>
>>     
>
>   

From vszakats at users.sourceforge.net  Tue Dec 22 12:15:47 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 12:15:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13370] trunk/harbour
Message-ID: <E1NN8Kp-0006Qj-Sm@74yxhf1.ch3.sourceforge.com>

Revision: 13370
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13370&view=rev
Author:   vszakats
Date:     2009-12-22 17:15:46 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 18:15 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * package/winuni/RELNOTES
    ! Typo.
    + Documented one more change.

  * utils/hbmk2/hbmk2.pt_BR.po
    ! Fix to prev. (codepage setup related)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/package/winuni/RELNOTES
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Dec 22 13:09:24 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 13:09:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13371] trunk/harbour
Message-ID: <E1NN9Ai-0007PU-Al@74yxhf1.ch3.sourceforge.com>

Revision: 13371
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13371&view=rev
Author:   vszakats
Date:     2009-12-22 18:09:23 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 19:08 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * debian/changelog
    * Changed version to 2.0.0 (from 2.0.0rc1)

  * debian/copyright
    * Synced content with /COPYING.

  * debian/control
    * 'MS-Windows' -> 'MS Windows'
    ! 'MAC-OSX' -> 'Mac OS X'

  - debian/harbour.cfg
    - Deleted, no longer used.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/debian/changelog
    trunk/harbour/debian/control

Removed Paths:
-------------
    trunk/harbour/debian/harbour.cfg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Dec 22 13:24:09 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec 22 13:24:16 2009
Subject: [Harbour] watcom/dos build error
In-Reply-To: <6701E707-DD12-4F61-926B-1261C8F21C31@syenar.hu>
References: <6701E707-DD12-4F61-926B-1261C8F21C31@syenar.hu>
Message-ID: <20091222182409.GA29488@linux-4bod.home.aster.pl>

On Tue, 22 Dec 2009, Szak?ts Viktor wrote:

Hi,


> The problem is rooted from the fact that HB_BUILD_DLL is 
> explicitly enabled when HB_BUILD_PKG=yes. Maybe it'd be better 
> to disable dos/watcom .dll generation completely until 
> it's fixed. What do you think?

I agree. In such case let's disable DLL in DOS builds also DJGPP ones.
DXE binaries also does not work in default DJGPP 2.04 installation.
It's necessary to fix typo in dxe.h header file, change the
initialization priority and use small trick as workaround for limited
segment size in COFF format.
Too much things to document in simple HOWTO but if possible please leave
undocument way to build such DLLs just for testing in the future, i.e.
change in dos/{djgpp,watcom}.mk:
   ifeq ($(HB_BUILD_DLL),yes)
to:
   ifeq ($(HB_BUILD_DLL),test)
or sth like that.

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Tue Dec 22 13:43:58 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Dec 22 13:44:04 2009
Subject: [Harbour] How to get a warning for duplicate functions using shared
	libs
Message-ID: <9257026e0912221043y79f1bbd6j9ff490c0e00589e7@mail.gmail.com>

How can I get a warning or an error if I'm using a function name that
is used in Harbour, with gcc/mingw?
Surely there is a simple parameter of gcc or ld but after a lot of
google I can't find it.

Any suggestion?

best regards,
Lorenzo
From vszakats at users.sourceforge.net  Tue Dec 22 16:00:37 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 16:00:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13372] trunk/harbour
Message-ID: <E1NNBqP-00021S-UN@74yxhf1.ch3.sourceforge.com>

Revision: 13372
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13372&view=rev
Author:   vszakats
Date:     2009-12-22 21:00:36 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 22:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * harbour-win-spec
  * harbour-wce-spec
  * harbour.spec
  * include/hbver.h
  * package/winuni/RELNOTES
  * config/global.mk
    * Changed version to 2.0.0 (from 2.0.0rc1)

  * package/winuni/RELNOTES
    * Finalization (djgpp -> watcom)

  * package/winuni/mpkg_win_uni.nsi
    ! Fixed uninstallation of Start Menu on Vista/Win7, at the
      same time it won't ask for admin credentials anymore on
      these OS versions.
    * MS-DOS/OS2/Linux libs are now not selected by default.

  * config/dos/watcom.mk
  * config/dos/djgpp.mk
    * Disabled .dll generation for MS-DOS build for now.
      dos/watcom doesn't work, dos/djgpp needs special fixes
      in djgpp to work.
      In the meantime, for testing purposes they can be
      enabled using: HB_BUILD_DLL=dostest

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/config/dos/watcom.mk
    trunk/harbour/config/global.mk
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/harbour.spec
    trunk/harbour/include/hbver.h
    trunk/harbour/package/winuni/RELNOTES
    trunk/harbour/package/winuni/mpkg_win_uni.nsi


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Dec 22 16:06:29 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 16:06:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13373] branches/harbour-2.0/
Message-ID: <E1NNBw5-00028G-VH@74yxhf1.ch3.sourceforge.com>

Revision: 13373
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13373&view=rev
Author:   vszakats
Date:     2009-12-22 21:06:29 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
Created branch: harbour-2.0

Added Paths:
-----------
    branches/harbour-2.0/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Dec 22 16:08:23 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 16:08:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13374] tags/harbour-2.0.0/
Message-ID: <E1NNBxv-0002AX-HF@74yxhf1.ch3.sourceforge.com>

Revision: 13374
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13374&view=rev
Author:   vszakats
Date:     2009-12-22 21:08:23 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
Tagged: Harbour 2.0.0

Added Paths:
-----------
    tags/harbour-2.0.0/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Tue Dec 22 16:14:17 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Dec 22 16:14:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13370] trunk/harbour
In-Reply-To: <E1NN8Kp-0006Qj-Sm@74yxhf1.ch3.sourceforge.com>
References: <E1NN8Kp-0006Qj-Sm@74yxhf1.ch3.sourceforge.com>
Message-ID: <531d7a750912221314u37867578q701c3b9be0bb55d3@mail.gmail.com>

I did a test here with the hbmk2 review of 13,371 and some characters
are displayed incorrectly in the translation to Portuguese. Both
Windows XP, Vista and  Seven the problem persisted and I could not
test on Linux, but apparently the file posted in SVN have some
incorrect characters, my last file contains the translated characters
in OEM charset and everything is showed ok (I test it here). Another
solution would be to remove the accents of the texts translated,
because the way it is now, can not correctly read the translated text.

Best Regards,
Vailton Renato

PS: Sorry for bad english.

2009/12/22  <vszakats@users.sourceforge.net>:
> Revision: 13370
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13370&view=rev
> Author: ? vszakats
> Date: ? ? 2009-12-22 17:15:46 +0000 (Tue, 22 Dec 2009)
>
> Log Message:
> -----------
> 2009-12-22 18:15 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
> ?* package/winuni/RELNOTES
> ? ?! Typo.
> ? ?+ Documented one more change.
>
> ?* utils/hbmk2/hbmk2.pt_BR.po
> ? ?! Fix to prev. (codepage setup related)
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/package/winuni/RELNOTES
> ? ?trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From vszakats at users.sourceforge.net  Tue Dec 22 16:16:10 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 16:16:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13375] branches/harbour-2.0/
Message-ID: <E1NNC5S-0002JH-IX@74yxhf1.ch3.sourceforge.com>

Revision: 13375
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13375&view=rev
Author:   vszakats
Date:     2009-12-22 21:16:10 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
mistake, redoing it

Removed Paths:
-------------
    branches/harbour-2.0/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Dec 22 16:17:01 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec 22 16:17:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13370] trunk/harbour
In-Reply-To: <531d7a750912221314u37867578q701c3b9be0bb55d3@mail.gmail.com>
References: <E1NN8Kp-0006Qj-Sm@74yxhf1.ch3.sourceforge.com>
	<531d7a750912221314u37867578q701c3b9be0bb55d3@mail.gmail.com>
Message-ID: <00ED3FE8-3DE2-487C-9F19-2387F67E7B52@syenar.hu>

> I did a test here with the hbmk2 review of 13,371 and some characters
> are displayed incorrectly in the translation to Portuguese. Both
> Windows XP, Vista and  Seven the problem persisted and I could not
> test on Linux, but apparently the file posted in SVN have some
> incorrect characters, my last file contains the translated characters
> in OEM charset and everything is showed ok (I test it here). Another
> solution would be to remove the accents of the texts translated,
> because the way it is now, can not correctly read the translated text.

I noticed them also, but could not fix them.

Too bad I just created the release a minute ago :(

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Dec 22 16:18:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 16:18:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13376] branches/harbour-2.0/
Message-ID: <E1NNC7q-0002LF-20@74yxhf1.ch3.sourceforge.com>

Revision: 13376
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13376&view=rev
Author:   vszakats
Date:     2009-12-22 21:18:37 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
Created branch: harbour-2.0

Added Paths:
-----------
    branches/harbour-2.0/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Dec 22 16:20:29 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 16:20:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13377] tags/harbour-2.0.0/
Message-ID: <E1NNC9d-0002OJ-Ke@74yxhf1.ch3.sourceforge.com>

Revision: 13377
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13377&view=rev
Author:   vszakats
Date:     2009-12-22 21:20:29 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
mistake, undone

Removed Paths:
-------------
    tags/harbour-2.0.0/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Dec 22 16:21:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 16:21:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13378] tags/harbour-2.0.0/
Message-ID: <E1NNCAi-0002Q2-Ll@74yxhf1.ch3.sourceforge.com>

Revision: 13378
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13378&view=rev
Author:   vszakats
Date:     2009-12-22 21:21:36 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
Tagged: Harbour 2.0.0

Added Paths:
-----------
    tags/harbour-2.0.0/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Dec 22 16:22:24 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec 22 16:22:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13370] trunk/harbour
In-Reply-To: <531d7a750912221314u37867578q701c3b9be0bb55d3@mail.gmail.com>
References: <E1NN8Kp-0006Qj-Sm@74yxhf1.ch3.sourceforge.com>
	<531d7a750912221314u37867578q701c3b9be0bb55d3@mail.gmail.com>
Message-ID: <B7F66289-9CE0-4431-BBAF-590F8BD8BED1@syenar.hu>

Hi Vailton,

Pls send me the fixed file, I'll upload it in trunk 
and I'll include it in binary release as local patch.

Brgds,
Viktor

On 2009 Dec 22, at 22:14, Vailton Renato wrote:

> I did a test here with the hbmk2 review of 13,371 and some characters
> are displayed incorrectly in the translation to Portuguese. Both
> Windows XP, Vista and  Seven the problem persisted and I could not
> test on Linux, but apparently the file posted in SVN have some
> incorrect characters, my last file contains the translated characters
> in OEM charset and everything is showed ok (I test it here). Another
> solution would be to remove the accents of the texts translated,
> because the way it is now, can not correctly read the translated text.
> 
> Best Regards,
> Vailton Renato
> 
> PS: Sorry for bad english.
> 
> 2009/12/22  <vszakats@users.sourceforge.net>:
>> Revision: 13370
>>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13370&view=rev
>> Author:   vszakats
>> Date:     2009-12-22 17:15:46 +0000 (Tue, 22 Dec 2009)
>> 
>> Log Message:
>> -----------
>> 2009-12-22 18:15 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * package/winuni/RELNOTES
>>    ! Typo.
>>    + Documented one more change.
>> 
>>  * utils/hbmk2/hbmk2.pt_BR.po
>>    ! Fix to prev. (codepage setup related)
>> 
>> Modified Paths:
>> --------------
>>    trunk/harbour/ChangeLog
>>    trunk/harbour/package/winuni/RELNOTES
>>    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po
>> 
>> 
>> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vailtom at gmail.com  Tue Dec 22 16:26:22 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Dec 22 16:26:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13370] trunk/harbour
In-Reply-To: <B7F66289-9CE0-4431-BBAF-590F8BD8BED1@syenar.hu>
References: <E1NN8Kp-0006Qj-Sm@74yxhf1.ch3.sourceforge.com> 
	<531d7a750912221314u37867578q701c3b9be0bb55d3@mail.gmail.com> 
	<B7F66289-9CE0-4431-BBAF-590F8BD8BED1@syenar.hu>
Message-ID: <531d7a750912221326n10a5ed06r9f79b4396032b0bc@mail.gmail.com>

Hi Viktor,

Pls download it here: http://www.kssoftware.com.br/hbmk2-pt-BR.zip

Brgds,
Vailton Renato

2009/12/22 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Vailton,
>
> Pls send me the fixed file, I'll upload it in trunk
> and I'll include it in binary release as local patch.
>
> Brgds,
> Viktor
>
> On 2009 Dec 22, at 22:14, Vailton Renato wrote:
>
>> I did a test here with the hbmk2 review of 13,371 and some characters
>> are displayed incorrectly in the translation to Portuguese. Both
>> Windows XP, Vista and ?Seven the problem persisted and I could not
>> test on Linux, but apparently the file posted in SVN have some
>> incorrect characters, my last file contains the translated characters
>> in OEM charset and everything is showed ok (I test it here). Another
>> solution would be to remove the accents of the texts translated,
>> because the way it is now, can not correctly read the translated text.
>>
>> Best Regards,
>> Vailton Renato
>>
>> PS: Sorry for bad english.
>>
>> 2009/12/22 ?<vszakats@users.sourceforge.net>:
>>> Revision: 13370
>>> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13370&view=rev
>>> Author: ? vszakats
>>> Date: ? ? 2009-12-22 17:15:46 +0000 (Tue, 22 Dec 2009)
>>>
>>> Log Message:
>>> -----------
>>> 2009-12-22 18:15 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>> ?* package/winuni/RELNOTES
>>> ? ?! Typo.
>>> ? ?+ Documented one more change.
>>>
>>> ?* utils/hbmk2/hbmk2.pt_BR.po
>>> ? ?! Fix to prev. (codepage setup related)
>>>
>>> Modified Paths:
>>> --------------
>>> ? ?trunk/harbour/ChangeLog
>>> ? ?trunk/harbour/package/winuni/RELNOTES
>>> ? ?trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po
>>>
>>>
>>> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
>>> _______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From harbour.01 at syenar.hu  Tue Dec 22 17:05:15 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec 22 17:05:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13370] trunk/harbour
In-Reply-To: <531d7a750912221326n10a5ed06r9f79b4396032b0bc@mail.gmail.com>
References: <E1NN8Kp-0006Qj-Sm@74yxhf1.ch3.sourceforge.com>
	<531d7a750912221314u37867578q701c3b9be0bb55d3@mail.gmail.com>
	<B7F66289-9CE0-4431-BBAF-590F8BD8BED1@syenar.hu>
	<531d7a750912221326n10a5ed06r9f79b4396032b0bc@mail.gmail.com>
Message-ID: <7EDC6F98-AAB0-445E-9D25-08E03B1B1AF3@syenar.hu>

> Hi Viktor,
> 
> Pls download it here: http://www.kssoftware.com.br/hbmk2-pt-BR.zip

This is the same one I uploaded to SVN.

I've adjusted codepage information which is used by 
hbmk2 to setup output CPs on different platforms.

For a start, cdp=EN is definitely wrong in your .po 
version, since the text uses accents. I guesses that 
it uses Windows/ISO(sortof) CP, so I set the input 
codepage to PTISO.

Console output on Windows needs "OEM" (aka DOS) 
codepage, so I setup output CP (wdo=) to PT850.
Pls try with PT860, I don't which one is used in 
real life.

Finally I changed nix=EN to nix=UTF8.

Probably the problem is that I guessed wrong 
the original codepage which is OEM instead of 
ISO.

Please try to convert from OEM to WIN/ISO the 
original CP of the text and keep above CP setting, 
and it should be okay.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Dec 22 17:07:46 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec 22 17:07:55 2009
Subject: [Harbour] Harbour 2.0.0: Released
Message-ID: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>

Hi All,

I'm glad to announce that after a very heavy 16 months 
of development, the final, stable version 2.0.0 is finally 
released.

Thanks to everyone who took part of this huge work in 
any ways.

I'd like to ask developers to create the binary builds, 
I will now start to create the 'unified' Windows release 
and .tgz, .bz2 source packages. They will be ready by 
tomorrow.

Another remaining task is to make this announcement on 
various forums and update the web page and other places 
where needed.

HOW TO GET
----------
  From SVN:
     svn export https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/tags/harbour-2.0.0
  From sf.net:
     http://sourceforge.net/projects/harbour-project/files/source/2.0.0/

RELEASE NOTES
-------------
  Please check RELNOTES file, this contains mostly generic release 
  notes plus a few 'unified' binary release specific ones, overall 
  it's a good brief list of the things changes since beta3, and it 
  includes previous beta release notes as well. You may also want 
  to check doc/whatsnew.txt which has a more details, but partial 
  list of some past changes since 1.0.1.

DEVELOPER NOTES
---------------
  The new 2.0.x branch has been created here:
     http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/branches/harbour-2.0/

  Development goes onwards in trunk, but we should mark patches in 
  ChangeLog which should be eventually merged to 2.0.x branch with 
  '[TOMERGE 2.0]' (without quotes).

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Dec 22 17:11:51 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 17:11:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13379] trunk/harbour
Message-ID: <E1NNCxL-0005tW-03@bj8yhf1.ch3.sourceforge.com>

Revision: 13379
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13379&view=rev
Author:   vszakats
Date:     2009-12-22 22:11:48 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 23:10 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * doc/whatsnew.txt
    ! Fixed date of 2.0.0 release.
      [TOMERGE 2.0]

  * external/sqlite3/sqlite3.c
  * external/sqlite3/sqlite3.h
    + sqlite upgraded to 3.6.21 (from 3.6.20)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/whatsnew.txt
    trunk/harbour/external/sqlite3/sqlite3.c
    trunk/harbour/external/sqlite3/sqlite3.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Dec 22 17:16:46 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 17:16:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13380] trunk/harbour
Message-ID: <E1NND26-0005z1-Ew@bj8yhf1.ch3.sourceforge.com>

Revision: 13380
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13380&view=rev
Author:   vszakats
Date:     2009-12-22 22:16:45 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 23:16 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * harbour-win-spec
  * harbour-wce-spec
  * harbour.spec
  * include/hbver.h
  * config/global.mk
    * Changed version to interim version number
      2.0.1dev (from 2.0.0)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/harbour.spec
    trunk/harbour/include/hbver.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Tue Dec 22 17:37:17 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Tue Dec 22 17:37:25 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
Message-ID: <alpine.DEB.2.00.0912222333460.27623@dawn.royalcomp.hu>

On Tue, 22 Dec 2009, Viktor Szak?ts wrote:

 > I'm glad to announce that after a very heavy 16 months 
 > of development, the final, stable version 2.0.0 is finally 
 > released.

incredible job!

a toast a cheers to all those involved!

-- 
[-]

mkdir /nonexistent
From ice at extreme.hu  Tue Dec 22 17:39:26 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Tue Dec 22 17:39:36 2009
Subject: [Harbour] unify TODOs/iTODOs
Message-ID: <alpine.DEB.2.00.0912222337210.27623@dawn.royalcomp.hu>


hi,

the attached unifies all "int TODO"s to "int iTODO"s, for your 
grepping pleasure.

-- 
[-]

mkdir /nonexistent
-------------- next part --------------
A non-text attachment was scrubbed...
Name: itodo.diff
Type: text/x-diff
Size: 8040 bytes
Desc: 
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091222/228ca84c/itodo-0001.bin
From vszakats at users.sourceforge.net  Tue Dec 22 17:40:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 17:40:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13381] trunk/harbour
Message-ID: <E1NNDOi-0006Oz-IZ@bj8yhf1.ch3.sourceforge.com>

Revision: 13381
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13381&view=rev
Author:   vszakats
Date:     2009-12-22 22:40:07 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 23:39 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * package/mpkg_win.nsi
    ! Fixed uninstallation of Start Menu on Vista/Win7, at the
      same time it won't ask for admin credentials anymore on
      these OS versions.
      [TOMERGE 2.0]

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/package/mpkg_win.nsi


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Dec 22 17:48:09 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 17:48:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13382] trunk/harbour
Message-ID: <E1NNDWT-0006XG-L3@bj8yhf1.ch3.sourceforge.com>

Revision: 13382
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13382&view=rev
Author:   vszakats
Date:     2009-12-22 22:48:08 +0000 (Tue, 22 Dec 2009)

Log Message:
-----------
2009-12-22 23:47 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/thread.c
  * src/vm/dynlibhb.c
  * src/common/hbgete.c
  * src/common/hbffind.c
  * src/common/hbfsapi.c
  * src/rtl/gtstd/gtstd.c
  * src/rtl/hbsocket.c
  * src/rtl/filesys.c
  * src/rtl/gtpca/gtpca.c
  * src/rtl/hbproces.c
    * 'int TODO' -> 'int iTODO' patch from Tamas Tevesz. Thank you.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/common/hbffind.c
    trunk/harbour/src/common/hbfsapi.c
    trunk/harbour/src/common/hbgete.c
    trunk/harbour/src/rtl/filesys.c
    trunk/harbour/src/rtl/gtpca/gtpca.c
    trunk/harbour/src/rtl/gtstd/gtstd.c
    trunk/harbour/src/rtl/hbproces.c
    trunk/harbour/src/rtl/hbsocket.c
    trunk/harbour/src/vm/dynlibhb.c
    trunk/harbour/src/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Tue Dec 22 18:46:36 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Tue Dec 22 18:46:44 2009
Subject: [Harbour] ieeefp.h - what's the significance?
Message-ID: <alpine.DEB.2.00.0912230045060.27623@dawn.royalcomp.hu>


hi,

on platforms where available, what is the significance of including 
ieeefp.h, given that even without it, things seem to be doing OK?

thanks,

-- 
[-]

mkdir /nonexistent
From mbelgrano at deltain.it  Tue Dec 22 19:37:58 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Dec 22 19:38:26 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
Message-ID: <609353e70912221637q56f843betd1a38f6d3d5fb05c@mail.gmail.com>

I invite those who speak in English to make the announcement
follow my starting point
i can spread the announcement
------------------------------------------------
Hi All,

I'm glad to announce that after a very heavy 16 months
of development, the final, stable version 2.0.0 is finally
released.

Thanks to everyone who took part of this huge work in
any ways.

HOW TO GET
http://sourceforge.net/projects/harbour-project/files/

RELEASE NOTES
contains thousands of small and large deployments as you see in whatsnew
-------------




2009/12/22 Viktor Szak?ts <harbour.01@syenar.hu>:
> Another remaining task is to make this announcement on
> various forums and update the web page and other places
> where needed.
>



-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Tue Dec 22 19:56:41 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 19:56:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13383] trunk/harbour
Message-ID: <E1NNFWr-0000VW-8e@bj8yhf1.ch3.sourceforge.com>

Revision: 13383
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13383&view=rev
Author:   vszakats
Date:     2009-12-23 00:56:40 +0000 (Wed, 23 Dec 2009)

Log Message:
-----------
2009-12-23 01:55 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.pt_BR.po
    ! Possible fix (still guessing) to change source codepage
      of this file to PT850 (from PTISO).
      I'd like to ask native speakers to give feedback ASAP.
      I'm preparing 2.0.0 binary build and I'll have to include 
      what I have.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Tue Dec 22 20:04:31 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Dec 22 20:04:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13370] trunk/harbour
In-Reply-To: <7EDC6F98-AAB0-445E-9D25-08E03B1B1AF3@syenar.hu>
References: <E1NN8Kp-0006Qj-Sm@74yxhf1.ch3.sourceforge.com> 
	<531d7a750912221314u37867578q701c3b9be0bb55d3@mail.gmail.com> 
	<B7F66289-9CE0-4431-BBAF-590F8BD8BED1@syenar.hu>
	<531d7a750912221326n10a5ed06r9f79b4396032b0bc@mail.gmail.com> 
	<7EDC6F98-AAB0-445E-9D25-08E03B1B1AF3@syenar.hu>
Message-ID: <531d7a750912221704j552f0ea4ke27b758074f5a608@mail.gmail.com>

Hi Viktor,

Sorry I have very small experience on working with multiple CP. I have
made available a link with an DOS OEM version of translated texts
(running very well here as I explained in another post), another
version of Windows Codepage 1252 (as I suspect, because converted with
UltraEdit) and two other versions in UTF-8 (with and without BOM) ...

I hope one of these files can be used, but only the OEM version
behaved well here with me and two or three users who tested the same
files.

The link to download the pack is:
http://www.kssoftware.com.br/hbmk2.pt_BR-pack1.zip

Regards,
Vailton Renato
From harbour.01 at syenar.hu  Tue Dec 22 20:11:47 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec 22 20:12:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13370] trunk/harbour
In-Reply-To: <531d7a750912221704j552f0ea4ke27b758074f5a608@mail.gmail.com>
References: <E1NN8Kp-0006Qj-Sm@74yxhf1.ch3.sourceforge.com>
	<531d7a750912221314u37867578q701c3b9be0bb55d3@mail.gmail.com>
	<B7F66289-9CE0-4431-BBAF-590F8BD8BED1@syenar.hu>
	<531d7a750912221326n10a5ed06r9f79b4396032b0bc@mail.gmail.com>
	<7EDC6F98-AAB0-445E-9D25-08E03B1B1AF3@syenar.hu>
	<531d7a750912221704j552f0ea4ke27b758074f5a608@mail.gmail.com>
Message-ID: <78AC3BD0-6E06-4DD7-838D-485235A5AF6A@syenar.hu>

Hi Vailton,

> Hi Viktor,
> 
> Sorry I have very small experience on working with multiple CP. I have
> made available a link with an DOS OEM version of translated texts
> (running very well here as I explained in another post), another

It's only running well on Windows console :( Not on *nix, 
or any other output device / OS, which expects anything 
else than DOS CP.

> version of Windows Codepage 1252 (as I suspect, because converted with
> UltraEdit) and two other versions in UTF-8 (with and without BOM) ...
> 
> I hope one of these files can be used, but only the OEM version
> behaved well here with me and two or three users who tested the same
> files.

That's expected as no CPs was at all, so you had to match 
your console (OEM) CP with the CP of the .po text.

If the CPs are set correctly (which I attempted), it should 
work in all scenarios.

> The link to download the pack is:
> http://www.kssoftware.com.br/hbmk2.pt_BR-pack1.zip

Thank you, I'll check it ASAP.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Dec 22 20:14:55 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec 22 20:15:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13370] trunk/harbour
In-Reply-To: <531d7a750912221704j552f0ea4ke27b758074f5a608@mail.gmail.com>
References: <E1NN8Kp-0006Qj-Sm@74yxhf1.ch3.sourceforge.com>
	<531d7a750912221314u37867578q701c3b9be0bb55d3@mail.gmail.com>
	<B7F66289-9CE0-4431-BBAF-590F8BD8BED1@syenar.hu>
	<531d7a750912221326n10a5ed06r9f79b4396032b0bc@mail.gmail.com>
	<7EDC6F98-AAB0-445E-9D25-08E03B1B1AF3@syenar.hu>
	<531d7a750912221704j552f0ea4ke27b758074f5a608@mail.gmail.com>
Message-ID: <AB909F11-541C-4599-8EBA-4B56A06A207F@syenar.hu>

Hi Vailton,

One more thing, can you tell me what is the result 
if you type this command on your Windows cmd prompt?:

> CHCP

Brgds,
Viktor

On 2009 Dec 23, at 02:04, Vailton Renato wrote:

> Hi Viktor,
> 
> Sorry I have very small experience on working with multiple CP. I have
> made available a link with an DOS OEM version of translated texts
> (running very well here as I explained in another post), another
> version of Windows Codepage 1252 (as I suspect, because converted with
> UltraEdit) and two other versions in UTF-8 (with and without BOM) ...
> 
> I hope one of these files can be used, but only the OEM version
> behaved well here with me and two or three users who tested the same
> files.
> 
> The link to download the pack is:
> http://www.kssoftware.com.br/hbmk2.pt_BR-pack1.zip
> 
> Regards,
> Vailton Renato
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vailtom at gmail.com  Tue Dec 22 20:18:13 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Dec 22 20:18:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13383] trunk/harbour
In-Reply-To: <E1NNFWr-0000VW-8e@bj8yhf1.ch3.sourceforge.com>
References: <E1NNFWr-0000VW-8e@bj8yhf1.ch3.sourceforge.com>
Message-ID: <531d7a750912221718o6a3f2c4l1ddeaf90b6e05282@mail.gmail.com>

Hi!

I tested this change here and apparently it was ok. The texts
displayed are all displayed correctly. I ask you to ignore my other
post, because I had not tested this change yet and now it works fine.

Regards,
Vailton Renato

2009/12/22  <vszakats@users.sourceforge.net>:
> Revision: 13383
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13383&view=rev
> Author: ? vszakats
> Date: ? ? 2009-12-23 00:56:40 +0000 (Wed, 23 Dec 2009)
>
> Log Message:
> -----------
> 2009-12-23 01:55 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
> ?* utils/hbmk2/hbmk2.pt_BR.po
> ? ?! Possible fix (still guessing) to change source codepage
> ? ? ?of this file to PT850 (from PTISO).
> ? ? ?I'd like to ask native speakers to give feedback ASAP.
> ? ? ?I'm preparing 2.0.0 binary build and I'll have to include
> ? ? ?what I have.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From vailtom at gmail.com  Tue Dec 22 20:19:34 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Dec 22 20:20:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13370] trunk/harbour
In-Reply-To: <AB909F11-541C-4599-8EBA-4B56A06A207F@syenar.hu>
References: <E1NN8Kp-0006Qj-Sm@74yxhf1.ch3.sourceforge.com> 
	<531d7a750912221314u37867578q701c3b9be0bb55d3@mail.gmail.com> 
	<B7F66289-9CE0-4431-BBAF-590F8BD8BED1@syenar.hu>
	<531d7a750912221326n10a5ed06r9f79b4396032b0bc@mail.gmail.com> 
	<7EDC6F98-AAB0-445E-9D25-08E03B1B1AF3@syenar.hu>
	<531d7a750912221704j552f0ea4ke27b758074f5a608@mail.gmail.com> 
	<AB909F11-541C-4599-8EBA-4B56A06A207F@syenar.hu>
Message-ID: <531d7a750912221719o63380d34s3c33925cd87cbb94@mail.gmail.com>

Hi Viktor,

C:\harbour>chcp
Active code page: 850

Brgds,
Vailton Renato

2009/12/22 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Vailton,
>
> One more thing, can you tell me what is the result
> if you type this command on your Windows cmd prompt?:
>
>> CHCP
>
> Brgds,
> Viktor
>
> On 2009 Dec 23, at 02:04, Vailton Renato wrote:
>
>> Hi Viktor,
>>
>> Sorry I have very small experience on working with multiple CP. I have
>> made available a link with an DOS OEM version of translated texts
>> (running very well here as I explained in another post), another
>> version of Windows Codepage 1252 (as I suspect, because converted with
>> UltraEdit) and two other versions in UTF-8 (with and without BOM) ...
>>
>> I hope one of these files can be used, but only the OEM version
>> behaved well here with me and two or three users who tested the same
>> files.
>>
>> The link to download the pack is:
>> http://www.kssoftware.com.br/hbmk2.pt_BR-pack1.zip
>>
>> Regards,
>> Vailton Renato
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From harbour.01 at syenar.hu  Tue Dec 22 20:25:41 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec 22 20:25:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13383] trunk/harbour
In-Reply-To: <531d7a750912221718o6a3f2c4l1ddeaf90b6e05282@mail.gmail.com>
References: <E1NNFWr-0000VW-8e@bj8yhf1.ch3.sourceforge.com>
	<531d7a750912221718o6a3f2c4l1ddeaf90b6e05282@mail.gmail.com>
Message-ID: <E94DFEF3-FC41-4E63-BB15-7207FDDC69A9@syenar.hu>

> I tested this change here and apparently it was ok. The texts
> displayed are all displayed correctly. I ask you to ignore my other
> post, because I had not tested this change yet and now it works fine.

Thank you.

Preferably, I'd like to switch to WIN/ISO as source language 
to be on common ground with HU and other future languages.
"OEM" (or rather IBM/DOS) codepages are not too widely supported 
on any other systems than Windows, so it's quite difficult to 
edit them with Linux or OS X, that's why we should try using 
ISO CP as source language. Hopefully we can switch to UTF8 
ASAP and forget this whole mess with 8 bit CPs.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Dec 22 20:25:54 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Dec 22 20:26:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13370] trunk/harbour
In-Reply-To: <531d7a750912221719o63380d34s3c33925cd87cbb94@mail.gmail.com>
References: <E1NN8Kp-0006Qj-Sm@74yxhf1.ch3.sourceforge.com>
	<531d7a750912221314u37867578q701c3b9be0bb55d3@mail.gmail.com>
	<B7F66289-9CE0-4431-BBAF-590F8BD8BED1@syenar.hu>
	<531d7a750912221326n10a5ed06r9f79b4396032b0bc@mail.gmail.com>
	<7EDC6F98-AAB0-445E-9D25-08E03B1B1AF3@syenar.hu>
	<531d7a750912221704j552f0ea4ke27b758074f5a608@mail.gmail.com>
	<AB909F11-541C-4599-8EBA-4B56A06A207F@syenar.hu>
	<531d7a750912221719o63380d34s3c33925cd87cbb94@mail.gmail.com>
Message-ID: <A677CE47-C2E4-42BA-AC8E-C9B0A13FC454@syenar.hu>

Thank you very much.

Brgds,
Viktor

On 2009 Dec 23, at 02:19, Vailton Renato wrote:

> Hi Viktor,
> 
> C:\harbour>chcp
> Active code page: 850
> 
> Brgds,
> Vailton Renato
> 
> 2009/12/22 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Hi Vailton,
>> 
>> One more thing, can you tell me what is the result
>> if you type this command on your Windows cmd prompt?:
>> 
>>> CHCP
>> 
>> Brgds,
>> Viktor
>> 
>> On 2009 Dec 23, at 02:04, Vailton Renato wrote:
>> 
>>> Hi Viktor,
>>> 
>>> Sorry I have very small experience on working with multiple CP. I have
>>> made available a link with an DOS OEM version of translated texts
>>> (running very well here as I explained in another post), another
>>> version of Windows Codepage 1252 (as I suspect, because converted with
>>> UltraEdit) and two other versions in UTF-8 (with and without BOM) ...
>>> 
>>> I hope one of these files can be used, but only the OEM version
>>> behaved well here with me and two or three users who tested the same
>>> files.
>>> 
>>> The link to download the pack is:
>>> http://www.kssoftware.com.br/hbmk2.pt_BR-pack1.zip
>>> 
>>> Regards,
>>> Vailton Renato
>>> _______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Tue Dec 22 20:34:39 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 20:34:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13384] trunk/harbour
Message-ID: <E1NNG7b-0004hi-UT@d5vjzd1.ch3.sourceforge.com>

Revision: 13384
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13384&view=rev
Author:   vszakats
Date:     2009-12-23 01:34:38 +0000 (Wed, 23 Dec 2009)

Log Message:
-----------
2009-12-23 02:33 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.pt_BR.po
    + Converted to PTISO CP (which is for our purpose equivalent to Windows-1252).
      Thanks Vailton for the conversion.
      Please retest this version to be sure.
      [TOMERGE 2.0]

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Dec 22 20:38:29 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Dec 22 20:38:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13384] trunk/harbour
In-Reply-To: <E1NNG7b-0004hi-UT@d5vjzd1.ch3.sourceforge.com>
References: <E1NNG7b-0004hi-UT@d5vjzd1.ch3.sourceforge.com>
Message-ID: <5118F299-4BDA-452E-BCF8-EA8A94D01A42@syenar.hu>

Still not good. Looks like UltraEdit stripped some 
accents. I'll try to convert using some other tool.

Brgds,
Viktor

On 2009 Dec 23, at 02:34, vszakats@users.sourceforge.net wrote:

> Revision: 13384
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13384&view=rev
> Author:   vszakats
> Date:     2009-12-23 01:34:38 +0000 (Wed, 23 Dec 2009)
> 
> Log Message:
> -----------
> 2009-12-23 02:33 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * utils/hbmk2/hbmk2.pt_BR.po
>    + Converted to PTISO CP (which is for our purpose equivalent to Windows-1252).
>      Thanks Vailton for the conversion.
>      Please retest this version to be sure.
>      [TOMERGE 2.0]
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vailtom at gmail.com  Tue Dec 22 20:51:04 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Dec 22 20:51:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13384] trunk/harbour
In-Reply-To: <5118F299-4BDA-452E-BCF8-EA8A94D01A42@syenar.hu>
References: <E1NNG7b-0004hi-UT@d5vjzd1.ch3.sourceforge.com> 
	<5118F299-4BDA-452E-BCF8-EA8A94D01A42@syenar.hu>
Message-ID: <531d7a750912221751k4f450127mcaf1af1cc16f3cef@mail.gmail.com>

But overall the text was displayed correctly ...

Brgds,
Vailton Renato

2009/12/22 Viktor Szak?ts <harbour.01@syenar.hu>:
> Still not good. Looks like UltraEdit stripped some
> accents. I'll try to convert using some other tool.
>
> Brgds,
> Viktor
>
> On 2009 Dec 23, at 02:34, vszakats@users.sourceforge.net wrote:
>
>> Revision: 13384
>> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13384&view=rev
>> Author: ? vszakats
>> Date: ? ? 2009-12-23 01:34:38 +0000 (Wed, 23 Dec 2009)
>>
>> Log Message:
>> -----------
>> 2009-12-23 02:33 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>> ?* utils/hbmk2/hbmk2.pt_BR.po
>> ? ?+ Converted to PTISO CP (which is for our purpose equivalent to Windows-1252).
>> ? ? ?Thanks Vailton for the conversion.
>> ? ? ?Please retest this version to be sure.
>> ? ? ?[TOMERGE 2.0]
>>
>> Modified Paths:
>> --------------
>> ? ?trunk/harbour/ChangeLog
>> ? ?trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po
>>
>>
>> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From vszakats at users.sourceforge.net  Tue Dec 22 21:01:59 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Dec 22 21:02:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13385] trunk/harbour
Message-ID: <E1NNGY3-0004Vw-Pf@c3vjzd1.ch3.sourceforge.com>

Revision: 13385
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13385&view=rev
Author:   vszakats
Date:     2009-12-23 02:01:20 +0000 (Wed, 23 Dec 2009)

Log Message:
-----------
2009-12-23 02:59 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.pt_BR.po
    ! Restored stripped accents while saving the file with Windows-1250 CP 
      (instead of Windows-1252).
      Please retest again.
      [TOMERGE 2.0]

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Tue Dec 22 21:19:20 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Dec 22 21:19:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13385] trunk/harbour
In-Reply-To: <E1NNGY3-0004Vw-Pf@c3vjzd1.ch3.sourceforge.com>
References: <E1NNGY3-0004Vw-Pf@c3vjzd1.ch3.sourceforge.com>
Message-ID: <531d7a750912221819i783e168fpfb66d304b535b8db@mail.gmail.com>

Hi!

At rev. 13385 is work fine here!
=D

Best Regards,
Vailton Renato

2009/12/22  <vszakats@users.sourceforge.net>:
> Revision: 13385
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13385&view=rev
> Author: ? vszakats
> Date: ? ? 2009-12-23 02:01:20 +0000 (Wed, 23 Dec 2009)
>
> Log Message:
> -----------
> 2009-12-23 02:59 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
> ?* utils/hbmk2/hbmk2.pt_BR.po
> ? ?! Restored stripped accents while saving the file with Windows-1250 CP
> ? ? ?(instead of Windows-1252).
> ? ? ?Please retest again.
> ? ? ?[TOMERGE 2.0]
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From philb at philb.us  Tue Dec 22 21:50:36 2009
From: philb at philb.us (Phil Barnett)
Date: Tue Dec 22 21:50:45 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
Message-ID: <1261536636.12215.46.camel@SunSpot>

On Tue, 2009-12-22 at 23:07 +0100, Viktor Szak?ts wrote:
> Hi All,
> 
> I'm glad to announce that after a very heavy 16 months 
> of development, the final, stable version 2.0.0 is finally 
> released.

Congratulations!

You have worked long and hard for this and it's so good to see it
accomplished!

Everyone should be very proud of this great thing!

From druzus at acn.waw.pl  Tue Dec 22 23:35:53 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec 22 23:36:05 2009
Subject: [Harbour] Bug in hb_gt_win_SetMode()
In-Reply-To: <4B30C958.4010702@otc.com.pl>
References: <6701E707-DD12-4F61-926B-1261C8F21C31@syenar.hu>
	<4B30C958.4010702@otc.com.pl>
Message-ID: <20091223043553.GA14764@linux-4bod.home.aster.pl>

On Tue, 22 Dec 2009, Jacek Potempa wrote:

Hi,

> (sorry for my previous post under invalid subject - please ignore)

The subject is not the problem.
The real problem is the fact that you didn't start new thread
but simply used "replay" option in your mail program so your
both messages still belongs to the same initial thread. The context
of subject is unimportant for mail programs which can follow threads.
Just look at:
http://lists.harbour-project.org/pipermail/harbour/2009-December/thread.html#29367

If you want to start new thread then please remember to not use "replay"
but always create new clean message and if you want to replay then always
use "replay" option in your mail program instead of creating new message.

> Recently one of our customers reported bug in Terminal software.
> After tracing it down it seems that the actuall problem lays in
> xHarbour/Harbour implementation of the  hb_gt_win_SetMode() /
> gtwin.c
> SetConsoleWindow API function cannot set console window larger then
> current screen buffer
> SetConsoleScreenBufferSize API function cannot set screen buffer
> smaller than the current console window size
> Due to this limitations, in current implementation  SetMode() is
> unable to change console size if one ot the new dimentions is larger
> then the previous one and at the same time the other one is smaller
> then the previous one. For instance, having console 25 X 80,
> SetMode( 23, 85 ) will fail.

Yes, you are right. Strange that no one reported it for such long time.
Thank you very much for the information and patch.

> Below my suggested fix for this problem. I have no access to CVS, so
> would be nice if somebody familiar with gtwin.c review and implement
> the solution.

I'll commit your fix (modified a little bit) in a while.
I do not have any windows here so please test it.

BTW I've just added you to Harbour devel list.

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Dec 22 23:37:01 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Dec 22 23:37:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13386] trunk/harbour
Message-ID: <E1NNIy5-0007dd-Ei@d5vjzd1.ch3.sourceforge.com>

Revision: 13386
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13386&view=rev
Author:   druzus
Date:     2009-12-23 04:37:00 +0000 (Wed, 23 Dec 2009)

Log Message:
-----------
2009-12-23 05:36 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/gtwin/gtwin.c
    ! applied a little bit modified the patch from Jacek Potempa for
      setmode() in GTWIN - many thanks. Please test.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/gtwin/gtwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Dec 22 23:39:23 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Dec 22 23:39:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13387]
	trunk/harbour/ChangeLog
Message-ID: <E1NNJ0N-0007gJ-Aw@d5vjzd1.ch3.sourceforge.com>

Revision: 13387
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13387&view=rev
Author:   druzus
Date:     2009-12-23 04:39:22 +0000 (Wed, 23 Dec 2009)

Log Message:
-----------
2009-12-23 05:39 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/ChangeLog
    * updated last entry

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Dec 22 23:44:48 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec 22 23:44:55 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
Message-ID: <20091223044448.GA15624@linux-4bod.home.aster.pl>

On Tue, 22 Dec 2009, Szak?ts Viktor wrote:

Hi,

> I'm glad to announce that after a very heavy 16 months 
> of development, the final, stable version 2.0.0 is finally 
> released.

I'm very happy seeing it and I would like to thanks to all people
who ever helped Harbour in any way to reach current state.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Dec 23 00:38:09 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 23 00:38:18 2009
Subject: [Harbour] ieeefp.h - what's the significance?
In-Reply-To: <alpine.DEB.2.00.0912230045060.27623@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0912230045060.27623@dawn.royalcomp.hu>
Message-ID: <20091223053809.GB15624@linux-4bod.home.aster.pl>

On Wed, 23 Dec 2009, Tamas TEVESZ wrote:

Hi,

> on platforms where available, what is the significance of including 
> ieeefp.h, given that even without it, things seem to be doing OK?

Probably nothing though sometimes is good to check the details in
platform documentation. It's possible that in ieeefp.h some functionality
is extended, i.e. some math functions from math.h can be replaced by
C99 compatible macros which can operate on any floating point types.
In Harbour we are using it only in SunOS builds for finite() function
and as I can see this code should be cleaned because it works only for
GCC builds. I'll commit the fix ASAP.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Dec 23 00:55:04 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 23 00:55:12 2009
Subject: [Harbour] some dependency problem in hbffind.c
In-Reply-To: <alpine.DEB.2.00.0912221110430.27623@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0912221110430.27623@dawn.royalcomp.hu>
Message-ID: <20091223055504.GC15624@linux-4bod.home.aster.pl>

On Tue, 22 Dec 2009, Tamas TEVESZ wrote:

Hi,

> preparing a platform that has no S_IFSOCK/S_ISSOCK, i protected the 
> hb alikes like this:
> 
> include/hbapifs.h:
> 
> #if defined( S_ISSOCK )
> #  define HB_FA_SOCKET          HB_FA_SPARSE      /* S_ISSOCK() */
> #endif

This is not necessary. HB_FA_SOCKET is Harbour internal attribute which
should be always defined even if platform does not support it.

> src/common/hbffind.c:
> #if defined( S_ISSOCK )
>    if( S_ISSOCK( raw_attr ) ) ulAttr |= HB_FA_SOCKET;
> #endif

Only S_ISSOCK() and S_IFSOCK usage should be protected so this is OK
and should be enough.

In theory it's possible that some platforms do not support also
S_ISFIFO()/S_IFIFO and S_ISLNK()/S_IFLNK but before we will add such
protection like above I strongly suggest to check if above macros are
not covered in header files by some global feature set macros, i.e.
S_ISSOCK() can be defined only when some BSD compatibility macros are
enabled.

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Wed Dec 23 02:01:37 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Dec 23 02:01:46 2009
Subject: [Harbour] Can we have a single iso88591 codepage?
Message-ID: <9257026e0912222301r48e0026dj27b8f38a821e52f3@mail.gmail.com>

I'm doing some tests to support customer names and item descriptions
in dbfs using several iso-8859-1 languages.
The dbfs will be uploaded to a postgresql database which will be
created as LATIN1 ( iso88591 ).

I wonder if I can use set any ??ISO codepage that use uc88591 table.

What I'm trying to achieve is that a report will be the same when
printed from Harbour's dbf indexed by custname and viewed in php apps
that will use select ... order by custname.

Any comment?

best regards,
Lorenzo
From tomaz.zupan at orpo.si  Wed Dec 23 02:03:53 2009
From: tomaz.zupan at orpo.si (=?utf-8?q?Toma=C5=BE_Zupan?=)
Date: Wed Dec 23 02:04:02 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
Message-ID: <200912230803.53415.tomaz.zupan@orpo.si>

Tuesday 22 December 2009 23:07:46 je Viktor Szak?ts napisal:
> Hi All,
>
> I'm glad to announce that after a very heavy 16 months
> of development, the final, stable version 2.0.0 is finally
> released.
>
> Thanks to everyone who took part of this huge work in
> any ways.
>

Hats up!

-- 
LP, 
Toma? Zupan
ORPO d.o.o.
http://www.orpo.si
tel: +386 4 2806400
faks:+386 4 2806410

From niki at synel.co.il  Wed Dec 23 02:56:52 2009
From: niki at synel.co.il (Chen Kedem)
Date: Wed Dec 23 02:57:04 2009
Subject: [Harbour] SF bug tracker#2919327: watcom/dos RDD problem
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D8599252F@Mail-yoq.SYNEL-COMPANY.LTD>

A user reported the following on the SF bug tracker:
http://sourceforge.net/tracker/?func=detail&atid=100681&aid=2919327&group_id=681

I don't know which Harbour version he is using or the type of problem.
Maybe it is a missing SHARE support in that dos environment
(need to run share.exe?)

Vlado wrote:
---------------------------------------------------------
Platform=dos
compiler=watcom

Func Main()
loacal aStru:={{"ID","C",10,0},{"NAME","C",30,0}}
LOCAL LNew:=.t.
LOCAL lShare:=.t.

cls

if !file("Test.dbf")
    dbCreate("Test",astru)
    dbUseArea(lNew,nil, "Test", nil, lShare)
    index on ID to test1
    use
end

alert("Top of file")

dbUseArea(lNew, nil, "Test", nil, lShare)
dbsetindex("test1")
browse()
dbCloseArea()

alert("Bottom of file")

dbUseArea(lNew, nil, "Test", nil, lShare)
dbsetindex("test1")
dbGoBottom()
browse()
dbCloseArea()

return nil

Multptform Make procedure in Vista
HBMK2 test.prg -plat=dos -comp=watcom

Program works in windows dos comand
but not work in FreeDOS, DOSBOX.
Only work to first dbCloseArea() and go to blank screen at next dbSetindex() command.

Can samone confirm this.

thank you
Vlado
---------------------------------------------------------


  Chen.
From mbelgrano at deltain.it  Wed Dec 23 03:59:30 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 23 03:59:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13386] trunk/harbour
In-Reply-To: <E1NNIy5-0007dd-Ei@d5vjzd1.ch3.sourceforge.com>
References: <E1NNIy5-0007dd-Ei@d5vjzd1.ch3.sourceforge.com>
Message-ID: <609353e70912230059m21402d9bv217578fd961fd354@mail.gmail.com>

suggest add
 [TOMERGE 2.0]

2009/12/23  <druzus@users.sourceforge.net>:
> Revision: 13386
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13386&view=rev
> Author: ? druzus
> Date: ? ? 2009-12-23 04:37:00 +0000 (Wed, 23 Dec 2009)
>
> Log Message:
> -----------
> 2009-12-23 05:36 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> ?* harbour/src/rtl/gtwin/gtwin.c
> ? ?! applied a little bit modified the patch from Jacek Potempa for
> ? ? ?setmode() in GTWIN - many thanks. Please test.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/src/rtl/gtwin/gtwin.c
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From ice at extreme.hu  Wed Dec 23 04:30:47 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Dec 23 04:30:55 2009
Subject: [Harbour] ieeefp.h - what's the significance?
In-Reply-To: <20091223053809.GB15624@linux-4bod.home.aster.pl>
References: <alpine.DEB.2.00.0912230045060.27623@dawn.royalcomp.hu>
	<20091223053809.GB15624@linux-4bod.home.aster.pl>
Message-ID: <alpine.DEB.2.00.0912231015490.27623@dawn.royalcomp.hu>

On Wed, 23 Dec 2009, Przemys?aw Czerpak wrote:

hi,

 > > on platforms where available, what is the significance of including 
 > > ieeefp.h, given that even without it, things seem to be doing OK?
 > 
 > Probably nothing though sometimes is good to check the details in
 > platform documentation. It's possible that in ieeefp.h some functionality
 > is extended, i.e. some math functions from math.h can be replaced by
 > C99 compatible macros which can operate on any floating point types.

so, if available, using these is desirable?

i'm asking because looking at current src/rtl/math.c, except for a few 
specific cases, isinf() is used:

334 #   if defined( HB_OS_SUNOS )
335          else if( !finite( dResult ) )
336 #   elif defined( HB_OS_OS2 )
337          else if( !isfinite( dResult ) )
338 #   else
339          else if( isinf( dResult ) )
340 #   endif

at the same time, looking at the solaris manuals for finite(),
isinf() and finite() here (won't have access to my sol box till next 
year):

http://docs.sun.com/app/docs/doc/819-2246/isinf-3m?l=Ja&a=view
http://docs.sun.com/app/docs/doc/819-2246/isfinite-3m?l=Ja&a=view
http://docs.sun.com/app/docs/doc/801-6680-03/6i11qck75?a=view

it seems that the currently special-cased finite() for hb_os_sunos 
specifically fits your above explanation less than as if it was to let 
use isinf() as well.

i may very well be misunderstanding you, though..

-- 
[-]

mkdir /nonexistent
From mbelgrano at deltain.it  Wed Dec 23 04:49:55 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 23 04:50:22 2009
Subject: [Harbour] Harbour 2.0 Key Features
Message-ID: <609353e70912230149u8c51908kbcece412048e593a@mail.gmail.com>

Please Reply revising the list Sequent

High-performance multiplatform compiler 32/64 -bit
Full functional MultiThread with  SYNC class method
   Compatible with xBase++ behavior, supports xBase++ concept of
moving workareas between threads
Support modern tecnologies: XML, FTP, TCP/IP, etc
Native SQL,  ODBC Support (rddsql.lib)
Capabilty of access to in client server to server side (hbnetio..lib)
The GUI based on QT 4.5 (hbqt.lib)
Xbase Part Compatible Framework based on hbqt (hbxbp.lib)
Make system by Command line (hbmk2.exe)
-- 
Massimo Belgrano
From labitas at gmail.com  Wed Dec 23 04:53:32 2009
From: labitas at gmail.com (Saulius Zrelskis)
Date: Wed Dec 23 04:53:40 2009
Subject: [Harbour] Bug in hb_gt_win_SetMode()
In-Reply-To: <20091223043553.GA14764@linux-4bod.home.aster.pl>
References: <6701E707-DD12-4F61-926B-1261C8F21C31@syenar.hu>
	<4B30C958.4010702@otc.com.pl>
	<20091223043553.GA14764@linux-4bod.home.aster.pl>
Message-ID: <2386af1b0912230153s4247b9fmb4f2ec0dc9d4ba09@mail.gmail.com>

> Yes, you are right. Strange that no one reported it for such long time.

Not true. I found version of gtwin.c dated 2008.01.18 and there were lines:
      ...
      /* Special case */
      if ( usRows < _GetScreenHeight() && usCols > _GetScreenWidth() )
      {
         HB_GT_FUNC(gt_SetMode( usRows, _GetScreenWidth() ));
      }
      else if ( usRows > _GetScreenHeight() && usCols < _GetScreenWidth() )
      {
         HB_GT_FUNC(gt_SetMode( _GetScreenHeight(), usCols ));
      }
      ...

Later somehow this disappears.

Best regards,
Saulius
From druzus at acn.waw.pl  Wed Dec 23 05:04:59 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 23 05:05:08 2009
Subject: [Harbour] SF bug tracker#2919327: watcom/dos RDD problem
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D8599252F@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D8599252F@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20091223100459.GA1181@linux-4bod.home.aster.pl>

On Wed, 23 Dec 2009, Chen Kedem wrote:

Hi,

> A user reported the following on the SF bug tracker:
> http://sourceforge.net/tracker/?func=detail&atid=100681&aid=2919327&group_id=681
> I don't know which Harbour version he is using or the type of problem.
> Maybe it is a missing SHARE support in that dos environment
> (need to run share.exe?)
[...]
>> Multptform Make procedure in Vista
>> HBMK2 test.prg -plat=dos -comp=watcom
>> 
>> Program works in windows dos comand
>> but not work in FreeDOS, DOSBOX.
>> Only work to first dbCloseArea() and go to blank screen at next dbSetindex() command.
>> 
>> Can samone confirm this.

I tested it using FreeDOS in DOSEMU and it works as expected just like
in my Linux box.
I do not think that such problems can be caused by Harbour. Maybe it's
side effect caused by some TSRs installed in this FreeDOS session or by
DOSBOX, i.e. when program is executed on virtual disks or shared volumes
provided by DOSBOX.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Dec 23 05:12:09 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 23 05:12:15 2009
Subject: [Harbour] Harbour 2.0 Key Features
In-Reply-To: <609353e70912230149u8c51908kbcece412048e593a@mail.gmail.com>
References: <609353e70912230149u8c51908kbcece412048e593a@mail.gmail.com>
Message-ID: <20091223101209.GB1181@linux-4bod.home.aster.pl>

On Wed, 23 Dec 2009, Massimo Belgrano wrote:

Hi.

> High-performance multiplatform compiler 32/64 -bit

The best in Harbour is that is neither 32 nor 64 bit compiler
because we do not have any hacks in core code which introduce
such limitation :-)

best regards,
Przemek
From alcisoft at arrakis.es  Wed Dec 23 05:15:31 2009
From: alcisoft at arrakis.es (Antonio Martinez)
Date: Wed Dec 23 05:18:05 2009
Subject: [Harbour] Re: Harbour 2.0.0: Released
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
Message-ID: <hgsqni$gud$1@ger.gmane.org>

Congrats and thank you very much for your great efforts !!
Merry christmas !


Viktor Szakts escribi en mensaje
<9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>...
Hi All,

I'm glad to announce that after a very heavy 16 months
of development, the final, stable version 2.0.0 is finally
released.

Thanks to everyone who took part of this huge work in
any ways.

I'd like to ask developers to create the binary builds,
I will now start to create the 'unified' Windows release
and .tgz, .bz2 source packages. They will be ready by
tomorrow.

Another remaining task is to make this announcement on
various forums and update the web page and other places
where needed.

HOW TO GET
----------
  From SVN:
     svn export
https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/tags/har
bour-2.0.0
  From sf.net:
     http://sourceforge.net/projects/harbour-project/files/source/2.0.0/

RELEASE NOTES
-------------
  Please check RELNOTES file, this contains mostly generic release
  notes plus a few 'unified' binary release specific ones, overall
  it's a good brief list of the things changes since beta3, and it
  includes previous beta release notes as well. You may also want
  to check doc/whatsnew.txt which has a more details, but partial
  list of some past changes since 1.0.1.

DEVELOPER NOTES
---------------
  The new 2.0.x branch has been created here:

http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/branches/h
arbour-2.0/

  Development goes onwards in trunk, but we should mark patches in
  ChangeLog which should be eventually merged to 2.0.x branch with
  '[TOMERGE 2.0]' (without quotes).

Brgds,
Viktor




From druzus at acn.waw.pl  Wed Dec 23 05:27:14 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 23 05:27:21 2009
Subject: [Harbour] ieeefp.h - what's the significance?
In-Reply-To: <alpine.DEB.2.00.0912231015490.27623@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0912230045060.27623@dawn.royalcomp.hu>
	<20091223053809.GB15624@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0912231015490.27623@dawn.royalcomp.hu>
Message-ID: <20091223102714.GC1181@linux-4bod.home.aster.pl>

On Wed, 23 Dec 2009, Tamas TEVESZ wrote:

Hi,

>  > Probably nothing though sometimes is good to check the details in
>  > platform documentation. It's possible that in ieeefp.h some functionality
>  > is extended, i.e. some math functions from math.h can be replaced by
>  > C99 compatible macros which can operate on any floating point types.
> so, if available, using these is desirable?

It really depends what it exactly does on given platform.
If it's not necessary at all then it's preferred to not include it at all
to not confuse users and increase dependency list.

> i'm asking because looking at current src/rtl/math.c, except for a few 
> specific cases, isinf() is used:
> 334 #   if defined( HB_OS_SUNOS )
> 335          else if( !finite( dResult ) )
> 336 #   elif defined( HB_OS_OS2 )
> 337          else if( !isfinite( dResult ) )
> 338 #   else
> 339          else if( isinf( dResult ) )
> 340 #   endif
> 
> at the same time, looking at the solaris manuals for finite(),
> isinf() and finite() here (won't have access to my sol box till next 
> year):
> 
> http://docs.sun.com/app/docs/doc/819-2246/isinf-3m?l=Ja&a=view
> http://docs.sun.com/app/docs/doc/819-2246/isfinite-3m?l=Ja&a=view
> http://docs.sun.com/app/docs/doc/801-6680-03/6i11qck75?a=view
> 
> it seems that the currently special-cased finite() for hb_os_sunos 
> specifically fits your above explanation less than as if it was to let 
> use isinf() as well.
> i may very well be misunderstanding you, though..

isinf() and isfinite() are C99 extensions so they are not available if
C99 features are not enabled.
There is problem with non GCC unix builds - they do not use HB_MATH_ERRNO
handler (I'll fix it in next commit) and it's the reason why current
src/rtl/math.c. do not need ieeefp.h.

best regards,
Przemek
From mbelgrano at deltain.it  Wed Dec 23 05:28:35 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 23 05:29:05 2009
Subject: [Harbour] Harbour 2.0 Key Features
In-Reply-To: <20091223101209.GB1181@linux-4bod.home.aster.pl>
References: <609353e70912230149u8c51908kbcece412048e593a@mail.gmail.com> 
	<20091223101209.GB1181@linux-4bod.home.aster.pl>
Message-ID: <609353e70912230228m3eaad916vc0a52bbcfa48691f@mail.gmail.com>

 Harbour is without any hacks in core code which introduce such
limitation like 32/64?

Please help do a good key feature list ispired by your knoledge

2009/12/23 Przemys?aw Czerpak <druzus@acn.waw.pl>:
> On Wed, 23 Dec 2009, Massimo Belgrano wrote:
>
> Hi.
>
>> High-performance multiplatform compiler 32/64 -bit
>
> The best in Harbour is that is neither 32 nor 64 bit compiler
> because we do not have any hacks in core code which introduce
> such limitation :-)
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From toninhofwi at yahoo.com.br  Wed Dec 23 06:09:20 2009
From: toninhofwi at yahoo.com.br (ToninhoFWi)
Date: Wed Dec 23 06:09:27 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
Message-ID: <bhu3j51ujj1c3be5ggik63sm2s5hhgobiv@4ax.com>

>I'm glad to announce that after a very heavy 16 months 
>of development, the final, stable version 2.0.0 is finally 
>released.

Thanks to all team for this great release.

Congratulations !



Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 

From druzus at acn.waw.pl  Wed Dec 23 06:16:16 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 23 06:16:24 2009
Subject: [Harbour] Bug in hb_gt_win_SetMode()
In-Reply-To: <2386af1b0912230153s4247b9fmb4f2ec0dc9d4ba09@mail.gmail.com>
References: <6701E707-DD12-4F61-926B-1261C8F21C31@syenar.hu>
	<4B30C958.4010702@otc.com.pl>
	<20091223043553.GA14764@linux-4bod.home.aster.pl>
	<2386af1b0912230153s4247b9fmb4f2ec0dc9d4ba09@mail.gmail.com>
Message-ID: <20091223111616.GA2284@linux-4bod.home.aster.pl>

On Wed, 23 Dec 2009, Saulius Zrelskis wrote:

Hi,

> > Yes, you are right. Strange that no one reported it for such long time.
> Not true. I found version of gtwin.c dated 2008.01.18 and there were lines:
>       ...
>       /* Special case */
>       if ( usRows < _GetScreenHeight() && usCols > _GetScreenWidth() )
>       {
>          HB_GT_FUNC(gt_SetMode( usRows, _GetScreenWidth() ));
>       }
>       else if ( usRows > _GetScreenHeight() && usCols < _GetScreenWidth() )
>       {
>          HB_GT_FUNC(gt_SetMode( _GetScreenHeight(), usCols ));
>       }
>       ...
> Later somehow this disappears.

I do not think so. The above code use old static multi GT API which
I implemented only in xHarbour and it was never part of Harbour where
I created dynamic multi GT API committed at:
   2006-02-04 17:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
which now it used by both projects.

In Harbour the problem exists from 2002 and it was introduced when
Paul committed my initial alternative GTWIN implementation at:
   2002-10-19 16:50 UTC-0500 Paul Tucker <ptucker@sympatico.ca>

It means that you had to take above code from xHarbour.
I've just check that above fix were committed to xHarbour CVS by Paul at:
   2006-07-01 18:35 UTC-0500 Paul Tucker <ptucker@sympatico.ca>

best regards,
Przemek
From druzus at acn.waw.pl  Wed Dec 23 06:30:33 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 23 06:30:41 2009
Subject: [Harbour] Harbour 2.0 Key Features
In-Reply-To: <609353e70912230228m3eaad916vc0a52bbcfa48691f@mail.gmail.com>
References: <609353e70912230149u8c51908kbcece412048e593a@mail.gmail.com>
	<20091223101209.GB1181@linux-4bod.home.aster.pl>
	<609353e70912230228m3eaad916vc0a52bbcfa48691f@mail.gmail.com>
Message-ID: <20091223113033.GA2539@linux-4bod.home.aster.pl>

On Wed, 23 Dec 2009, Massimo Belgrano wrote:

> Harbour is without any hacks in core code which introduce such
> limitation like 32/64?

Yes. It can work with any pointer size if compiler supports some
integer types larger enough to hold such pointers so it will work
also with 128 if we ever have such systems or some more exotic ones
like 48bits. It means that core code is not limited to work only with
some chosen fixed pointer sizes like 32 or 64 bits.
The only two limitations we have are 8bit byte size and ASCII based
character set due to hard coded some strict Clipper compatibility.
Removing both limits is possible but it needs a lot of work and not
all things can be ported to such systems (i.e. some binary file
formats). In current days such systems are used very seldom (i,e,
some IBM mainframes) so I do not have enough motivation to made it.
Also without regular access to the hardware it will be hard to keep
such ports alive.

best regards,
Przemek
From druzus at users.sourceforge.net  Wed Dec 23 06:31:16 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Dec 23 06:31:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13388] trunk/harbour
Message-ID: <E1NNPQy-0007n4-Bu@74yxhf1.ch3.sourceforge.com>

Revision: 13388
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13388&view=rev
Author:   druzus
Date:     2009-12-23 11:31:15 +0000 (Wed, 23 Dec 2009)

Log Message:
-----------
2009-12-23 12:31 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbmath.h
    ! enable HB_MATH_ERRNO in all *unix builds not only in GCC ones

  * harbour/src/vm/itemapi.c
    ! use finite() to check for valid double values - looks that SunCC
      does not report iDODO warnings so we were not informed about the
      problem

  * harbour/include/hbdefs.h
  * harbour/src/common/hbprintf.c
    % use also _STDC_C99 macro not only _ISOC99_SOURCE to detect C99 mode
      and do not reduce such detection to GCC

   [TOMERGE 2.0]

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbmath.h
    trunk/harbour/src/common/hbprintf.c
    trunk/harbour/src/vm/itemapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Wed Dec 23 07:00:08 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Dec 23 07:00:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13389] trunk/harbour
Message-ID: <E1NNPsu-0008Ii-Sh@74yxhf1.ch3.sourceforge.com>

Revision: 13389
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13389&view=rev
Author:   druzus
Date:     2009-12-23 12:00:07 +0000 (Wed, 23 Dec 2009)

Log Message:
-----------
2009-12-23 12:59 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/harbour-win-spec
  * harbour/harbour-wce-spec
    ! removed unused hbmk.cfg files which break RPM build process
      [TOMERGE 2.0]

    TODO: add support for hbmk2 configuration which cab be used with above
          Win32/64 and WinCE binaries

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jlcapel2 at gmail.com  Wed Dec 23 07:04:01 2009
From: jlcapel2 at gmail.com (=?ISO-8859-1?Q?Jos=E9_Luis_Capel?=)
Date: Wed Dec 23 07:04:08 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <bhu3j51ujj1c3be5ggik63sm2s5hhgobiv@4ax.com>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
	<bhu3j51ujj1c3be5ggik63sm2s5hhgobiv@4ax.com>
Message-ID: <ab2a7b4c0912230404p5f81c3f9u20408d521f46aea1@mail.gmail.com>

Hi,

Many thanks for all team for this great work!!

Regards,
Jos? Luis Capel

El 23 de diciembre de 2009 12:09, ToninhoFWi <toninhofwi@yahoo.com.br>escribi?:

> >I'm glad to announce that after a very heavy 16 months
> >of development, the final, stable version 2.0.0 is finally
> >released.
>
> Thanks to all team for this great release.
>
> Congratulations !
>
>
>
> Toninho.
>
> __________________________________________________
> Fa?a liga??es para outros computadores com o novo Yahoo! Messenger
> http://br.beta.messenger.yahoo.com/
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091223/562cc0bb/attachment-0001.html
From vszakats at users.sourceforge.net  Wed Dec 23 07:32:05 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Dec 23 07:32:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13390] trunk/harbour
Message-ID: <E1NNQNp-0001fx-Vs@c3vjzd1.ch3.sourceforge.com>

Revision: 13390
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13390&view=rev
Author:   vszakats
Date:     2009-12-23 12:32:02 +0000 (Wed, 23 Dec 2009)

Log Message:
-----------
2009-12-23 13:31 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * package/winuni/mpkg_win_uni_extra_copy.bat
    + Added automatized (but not generic) logic to assemble 'unified' package.
      [TOMERGE 2.0]

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/package/winuni/mpkg_win_uni_extra_copy.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Jacek.Potempa at otc.com.pl  Wed Dec 23 07:41:13 2009
From: Jacek.Potempa at otc.com.pl (Jacek Potempa)
Date: Wed Dec 23 07:41:29 2009
Subject: [Harbour] Bug in hb_gt_win_SetMode()
In-Reply-To: <2386af1b0912230153s4247b9fmb4f2ec0dc9d4ba09@mail.gmail.com>
References: <6701E707-DD12-4F61-926B-1261C8F21C31@syenar.hu>	<4B30C958.4010702@otc.com.pl>	<20091223043553.GA14764@linux-4bod.home.aster.pl>
	<2386af1b0912230153s4247b9fmb4f2ec0dc9d4ba09@mail.gmail.com>
Message-ID: <4B320FE9.7030701@otc.com.pl>


>> Yes, you are right. Strange that no one reported it for such long time.
>>     
>
> Not true. I found version of gtwin.c dated 2008.01.18 and there were lines:
>       ...
>       /* Special case */
>       if ( usRows < _GetScreenHeight() && usCols > _GetScreenWidth() )
>       {
>          HB_GT_FUNC(gt_SetMode( usRows, _GetScreenWidth() ));
>       }
>       else if ( usRows > _GetScreenHeight() && usCols < _GetScreenWidth() )
>       {
>          HB_GT_FUNC(gt_SetMode( _GetScreenHeight(), usCols ));
>       }
>       ...
>
> Later somehow this disappears.
>
> Best regards,
> Saulius
>   
Above fragment dosn't seem to do what's expected. The resulting console 
size is not usRows X usCols. Maybe that's why somebody removed the code.
Jacek
From Jacek.Potempa at otc.com.pl  Wed Dec 23 07:58:07 2009
From: Jacek.Potempa at otc.com.pl (Jacek Potempa)
Date: Wed Dec 23 07:58:21 2009
Subject: [Harbour] Bug in hb_gt_win_SetMode()
In-Reply-To: <20091223043553.GA14764@linux-4bod.home.aster.pl>
References: <6701E707-DD12-4F61-926B-1261C8F21C31@syenar.hu>	<4B30C958.4010702@otc.com.pl>
	<20091223043553.GA14764@linux-4bod.home.aster.pl>
Message-ID: <4B3213DF.2070504@otc.com.pl>

Przemys?aw Czerpak pisze:
> The real problem is the fact that you didn't start new thread
> but simply used "replay" option in your mail program so your
> both messages still belongs to the same initial thread. The context
> of subject is unimportant for mail programs which can follow threads.
> Just look at:
> http://lists.harbour-project.org/pipermail/harbour/2009-December/thread.html#29367 
>
>
> If you want to start new thread then please remember to not use "replay"
> but always create new clean message and if you want to replay then always
> use "replay" option in your mail program instead of creating new message.
>
>   
Thanks for remainding. As my email client is not configured to recognize 
threads, it is easy to forget and go the 'easier' way ...
Jacek

From amigosam at adinet.com.uy  Wed Dec 23 08:51:22 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Wed Dec 23 08:51:53 2009
Subject: [Harbour] Re: Harbour 2.0.0: Released
In-Reply-To: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
Message-ID: <hgt78m$qih$1@ger.gmane.org>

Viktor Szak?ts escribi?:
> Hi All,
> 
> I'm glad to announce that after a very heavy 16 months 
> of development, the final, stable version 2.0.0 is finally 
> released.
> 

Congratulations and thank your all.
You are all an amazing group of programmers with a straight vision on 
quality and multiplatform compatibility issues.
This compiler assures the survival of our beloved favorite programming 
language.
The best it's yet to come !
Merry Christmas to all !

Angel Pais

From harbour.01 at syenar.hu  Wed Dec 23 09:29:50 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec 23 09:30:05 2009
Subject: [Harbour] Harbour 2.0.0 unified Windows binary release
Message-ID: <12FDFCA3-AA99-4BDE-9FD2-270DEEF3434D@syenar.hu>

Hi All,

Harbour 2.0.0 (r13372) source archives and Windows binary
releases are available for download on sourceforge.net:

   http://sourceforge.net/projects/harbour-project/files/

Make sure to check INSTALL doc "QUICK START" section and visit
our user forums at:

   http://sourceforge.net/apps/phpbb/harbour-project/

Release notes:
-----------------------------------------------------------------------
Unified Windows release for most supported compilers and
x86, x64, WinCE/ARM, MS-DOS, OS/2, Linux target platforms.

Installed size: 214MB (54MB - 339MB)

The default installation will install MinGW compiler + x86 static and
shared libs, MSVC and BCC x86 libs and examples.

Options: x86 shared tools, x64 shared tools, MinGW x64 and
WinCE-ARM libs, MSVC x64 libs, Open Watcom x86 libs,
shared x64/WinCE-ARM libs, MS-DOS (watcom) libs, OS/2 (watcom)
libs, Linux (watcom) libs.

Usage:
1) install/unpack to any directory (C:\hb20)
2) go to bin dir (optional if you specify path for hbmk2)
3) For x86 executable, type: 'hbmk2 ../tests/hello.prg'
4) For x64 executable, type: 'hbmk2 ../tests/hello.prg -compiler=mingw64'
   [needs mingw64 to be installed in 'comp/mingw64' dir beforehand]
5) For WinCE/ARM executable, type: 'hbmk2 ../tests/hello.prg -platform=wce'
   [needs cegcc to be installed in 'comp/mingwarm' dir beforehand]
6) For MS-DOS executable, type: 'hbmk2 ../tests/hello.prg -platform=dos'
   [needs OpenWatcom to be installed in 'comp/watcom' dir beforehand]
7) For Linux executable, type: 'hbmk2 ../tests/hello.prg -platform=linux'
   [needs OpenWatcom to be installed in 'comp/watcom' dir beforehand]

Tool/lib versions used to create this package:
-----------------------------------------------------------------------

   Compiler tools
   --------------

   MinGW GNU C 4.4.1 TDM-2 (included)
   MinGW w64 GNU C 4.5.0-20091118
   MinGW CEGCC 4.4.0
   MSVC 2008 (version bundled with MS Windows SDK 7)
   Open Watcom C 1.8
   Borland C/C++ 5.5.1

   External lib dependencies
   -------------------------

   ACE 9.10
   Allegro 4.2.2
   Blat 2.6.2
   Cairo 1.8.8
   libcurl 7.19.6
   Firebird 2.1.3
   FreeImage 3.13.0
   GD 2.0.35
   MySQL 5.1.41
   OpenSSL 0.9.8k
   PostgreSQL 8.4.2-1
   QT 4.5.3
   WATTCP 2.2.10

Changes since previous (2.0.0beta3 20090905) release:
-----------------------------------------------------------------------

- Harbour updated to r13359 (from r12422)
- MinGW CEGCC updated to 4.4.0
- upx updated to 3.04.
- MinGW 4.4.1 updated to TDM-2 release fixing a performance problem.
- MinGW w64 updated to latest binary release.
- DJGPP build in unified release replaced with OpenWatcom MS-DOS build.
- External libs updated (except OpenSSL and libcurl).
- hbwin cleanups/fixes (printer handling) and improvements (mutex, MAPI, misc)
- hbwin OLE2, ActiveX support improved and finalized.
- hbwin full UNICODE support and cleanups.
- hbwin basic win64 .dll support.
- hbtip POP3/SMTP fixes, encoding/charset support.
- Added hbmemio contrib.
- hbnetio finalized.
- hbqt cleanups and improvements, QT 4.6 support.
- hbide (early development stage).
- Documentation enhancements: INSTALL and doc/xhb-diff.txt.
- hbmk2 got support to convert xMate, hbmake and xbuild make files to .hbp
  format.
- Added hbsms contrib library (to send SMS text messages in multiplatform way).
- gtwvg now builds in win64 mode.
- Rudimentary port of GTWVW (find it in examples)
- New hbcairo wrapper for cairo lib.
- Improved code portability for startup code, C++ mode and
  to support for old GCC versions.
- Added public Harbour C level API to handle GC collected pure pointers.
- Added workaround fox Pelles C 6.0 bug, so now it can be used
  with Harbour for win32 and wince. Win64 build still doesn't work,
  due to other POCC6 bugs.
- Fixed to support MSVC 6.0.
- dlmalloc memory allocator now also optimized for MT mode.
- DJGPP builds received support for .dxe dynamic libs.
- MS-DOS build included in unified release package is now built
  with OpenWatcom rather than DJGPP.
- OpenWatcom now builds in plain C mode (instead of C++)
- Included MSVC build is now a UNICODE build.
- Changed all Harbour to use WIDE Windows API calls only in UNICODE mode.
- New Harbour C level UTF-8 and UTF-16 string handling functions.
- Rewritten internal codepage and collation support. Collations
  are now ensured to be CA-Cl*pper compatible.
- HB_TRANSLATE() now supports UTF-8.
- OS/2 platform support improvements (watcom, .dll support, GCC OMF support).
- gtxwc fixes.
- General finalization to *nix Harbour dynamic library generation built into
  build system.
- Generalized the way zlib and pcre embedded sources are handled.
- Finalized new pure GNU Make based build system.
- Embedded libharu made available for MS-DOS Harbour builds,
  plus many other leveling of MS-DOS port.
- Added Blowfish encryption functions to core.
- Added experimental win64 binary build of GNU Make.
- Synced with some new features that appeared in xhb, plus some missing
  features from past versions.
- New Harbour port to Haiku/BeOS.
- Updated embedded components.
- Cleaned all test code from Harbour -w3 level warnings.
- hbmk2 now supports the same C warning levels as build system.
- hbmk2 now supports built-in native .c / .prg dependency detection.
- hbmk2 tested/finalized for *nix systems.
- hbmk2 now supports upx on *nix systems.
- New hbdoc2 tool at development stage.
- Support for linux/open64, linux/clang compilers.
- Build system now uses automatic version detection for MSVC compilers.
- Core trace message functionality improvements (new .prg level
  interface, Windows OutputDebugString support)
- New SET( _SET_DBCODEPAGE ).
- RDDADS fixes.
- Removed support for harbour.cfg and Harbour compiler -go output mode.
- New Harbour types (HB_SIZE, HB_BOOL, etc).
- Moved rddado from contrib area to examples.
- Deleted hbmake from examples.
- Many other smaller improvements, additions, fixes, cleanups.
- For 3rd party developers it's recommended to look for the word
  "incompatibility" in ChangeLog to find spots which may imply changes
  on their part.

Changes since previous (2.0.0beta2 20090624) release:
-----------------------------------------------------------------------

- Harbour updated to r12422 (from r11508)
- Rewritten socket library.
- Fixed remaining Clipper compatibility issues (@.clp, SET PROC TO, DO WITH, etc)
- Added replaceable core file I/O layer.
- Reworked build system with integrated dynlib creation, cross-platform
  support, compiler and external component autodetection and much more.
- MinGW updated to 4.4.1
- MinGW x64 updated to 4.5.0 (20090905)
- Finalizing ActiveX/OLE2 support.
- Timestamp/datetime support in core.
- Added MT support for dos platform.
- Added socket support for dos platform (via WATTCP lib).
- Added hbnetio lib client/server file I/O implementation.
- hbxbp lib about feature complete.
- wce/msvcarm target improvements, sunpro compiler support.
- hbssl OpenSSL wrapper lib.
- SSL support in hbtip lib.
- Serial communication fixes in hbwin/hbtpathy on win platform.
- Lots of other additions and some fixes.
- Changed default install path to be 'hb20' rather than 'harbour20',
  to avoid long filenames.
- Replaced mingw64 built x64 shared tools with msvc64 builds, as
  the former didn't work.
- Included hbqt lib which links against static QT libs.

Changes since previous (2.0.0beta1 20090609) release:
-----------------------------------------------------------------------
- Harbour updated to r11508 (from r11287)
- New User's Forum linked
- upx compressor included in install package
- DOS cross build libs included in install package
- preparation to host 3rd party packages inside Harbour directory tree
- new "zero-conf" library install system in preparation
- hbmk2: lots of minor refinements, support for all free compilers
  in embedded form, support spaces in filenames/paths, all Harbour
  supported C compilers have now complete support in hbmk2
- DOS support tested and required fixes applied
- embedded compilers moved to 'comp' subdir
- support for latest MinGW x64 and MSVS 2010 compilers
- extended INSTALL with new examples and app build quick guide
- icon for installer and hbrun tool
- hbxbp and hbqt enhancements
- hbwin refinements and better compatibility
- new uhttpd2 sessioned HTTP server
- C++ build support for all compilers, new HB_WAEVAL() function,
  new xpp (Xbase++ compatibility) lib, .hrb loading enhancements
- DBU, RL, SuperLib fixes.
- MinGW64 updated to 4.4.1
- There were a few changes in this release which may require updating
  your source code (hb_par*()/hb_stor*() in .c files and GTWVG WIN_*()
  function in .prg files). Search for 'incompatible' word in ChangeLog
  for more.
-----------------------------------------------------------------------

Changes since previous (1.1.0dev 20090602) release:
-----------------------------------------------------------------------
- Harbour updated to r11287 (from r11179)
- all contrib tests included in install package
- All 3rd party packages upgraded to latest version.
- hbmk2: project support, new file extensions, fixes, Harbour 1.0.x
  support.
- further simplified/updated build process and instructions
- hbqt many enhancements
- almost full xhb compatibility
- 'terminal' fixed in examples
- source formatter, Cl*pper RL tool, legacy hbmake added
- MT Xbase++ compatibility
-----------------------------------------------------------------------

Changes since previous (1.1.0dev 20090408) release:
-----------------------------------------------------------------------
- Harbour updated to r11179 (from r10819)
- Updated hbmk2 (filter issues + experimental Harbour 1.0.x support)
- Included contrib tests/utils
- Full and now standalone 'examples'
- 'tests' with subdirs included.
- No longer included pocc/pocc64/poccarm libs.
- QT updated to 4.5.1
- MinGW updated to 4.4.0

--
Brgds,
Viktor Szakats

From labitas at gmail.com  Wed Dec 23 09:45:35 2009
From: labitas at gmail.com (Saulius Zrelskis)
Date: Wed Dec 23 09:45:43 2009
Subject: [Harbour] Bug in hb_gt_win_SetMode()
In-Reply-To: <20091223111616.GA2284@linux-4bod.home.aster.pl>
References: <6701E707-DD12-4F61-926B-1261C8F21C31@syenar.hu>
	<4B30C958.4010702@otc.com.pl>
	<20091223043553.GA14764@linux-4bod.home.aster.pl>
	<2386af1b0912230153s4247b9fmb4f2ec0dc9d4ba09@mail.gmail.com>
	<20091223111616.GA2284@linux-4bod.home.aster.pl>
Message-ID: <2386af1b0912230645v7e93acc3ud64743001566246a@mail.gmail.com>

Hi Przemek,

> It means that you had to take above code from xHarbour.
> I've just check that above fix were committed to xHarbour CVS by Paul at:
> ? 2006-07-01 18:35 UTC-0500 Paul Tucker <ptucker@sympatico.ca>

Mea Culpa!
I understand that don't know much about history :(
Thank you for correcting me.

Best regards,
Saulius
From ice at extreme.hu  Wed Dec 23 10:08:43 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Dec 23 10:08:50 2009
Subject: [Harbour] ieeefp.h - what's the significance?
In-Reply-To: <20091223102714.GC1181@linux-4bod.home.aster.pl>
References: <alpine.DEB.2.00.0912230045060.27623@dawn.royalcomp.hu>
	<20091223053809.GB15624@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0912231015490.27623@dawn.royalcomp.hu>
	<20091223102714.GC1181@linux-4bod.home.aster.pl>
Message-ID: <alpine.DEB.2.00.0912231549520.27623@dawn.royalcomp.hu>

On Wed, 23 Dec 2009, Przemys?aw Czerpak wrote:

hi,

sorry to be so blunt, but the more i read, the less i understand ;)

 > isinf() and isfinite() are C99 extensions so they are not available if
 > C99 features are not enabled.
 > There is problem with non GCC unix builds - they do not use HB_MATH_ERRNO
 > handler (I'll fix it in next commit) and it's the reason why current
 > src/rtl/math.c. do not need ieeefp.h.

ok, so there are two places where this is used, in src/rtl/math.c:334 
onwards and src/vm/itemapi.c:2250 onwards.

they are even used for the same purpose, to check whether or not to 
signal a range error of sorts on a numeric argument.

yet the one in itemapi.c is a macro with a screenful of tests for 
platforms and compilers and whatnot, whereas the one in math.c is a 
very simple conditional for os2-sunos-all-the-rest. notably, it 
doesn't have a special case for os/2 -- nb i do not know if
"defined( __RSXNT__ ) || defined( __EMX__ )" covers _all_ of os2; if 
it does, then scratch this last remark, but then the notation is 
inconstent.

why is this difference?

(i probably should have picked something less hardcore...)

-- 
[-]

mkdir /nonexistent
From ice at extreme.hu  Wed Dec 23 10:38:10 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Dec 23 10:38:19 2009
Subject: [Harbour] two small portability enhancements
Message-ID: <alpine.DEB.2.00.0912231624070.27623@dawn.royalcomp.hu>


hi,

the attached and below inlined does the following:

- hunk #1 prepares for when IPV6_ADD_MEMBERSHIP is defined by the 
  system; it is very synonymous with IPV6_JOIN_GROUP.
- hunk #2 makes initseg startup work with coff executables. (ok, 
  despite the heritage, i really don't know whether this includes pe 
  too :)

for #2, it might be that a simpler solution exists (macro-wise), but i 
am not smart enough to have that figured out.

Index: src/rtl/hbsocket.c
===================================================================
--- src/rtl/hbsocket.c	(revision 13390)
+++ src/rtl/hbsocket.c	(working copy)
@@ -2484,6 +2484,9 @@
       if( err > 0 )
       {
          mreq.ipv6mr_interface = 0;
+#if !defined( IPV6_JOIN_GROUP ) && defined( IPV6_ADD_MEMBERSHIP )
+#   define IPV6_JOIN_GROUP IPV6_ADD_MEMBERSHIP
+#endif
          ret = setsockopt( sd, IPPROTO_IPV6, IPV6_JOIN_GROUP, ( const char * ) &mreq, sizeof( mreq ) );
          hb_socketSetOsError( ret != -1 ? 0 : HB_SOCK_GETERROR() );
          return ret;
Index: include/hbinit.h
===================================================================
--- include/hbinit.h	(revision 13390)
+++ include/hbinit.h	(working copy)
@@ -136,13 +136,20 @@
       static void func( void ) \
       {
 
-   #define HB_CALL_ON_STARTUP_END( func ) \
-      } \
-      HB_INIT_FUNCTION_REF( func ) \
-      HB_EXTERN_END \
-      asm ( ".section .init\n\tcall " HB_MACRO2STRING( func ) "\n\t.section .text\n\t" );
+   #if defined( _M_COFF )
+      #define HB_CALL_ON_STARTUP_END( func ) \
+         } \
+         HB_INIT_FUNCTION_REF( func ) \
+         HB_EXTERN_END \
+         asm ( ".section .init, \"x\"\n\tcall " HB_MACRO2STRING( func ) "\n\t.section .text\n\t" );
+   #else
+      #define HB_CALL_ON_STARTUP_END( func ) \
+         } \
+         HB_INIT_FUNCTION_REF( func ) \
+         HB_EXTERN_END \
+         asm ( ".section .init\n\tcall " HB_MACRO2STRING( func ) "\n\t.section .text\n\t" );
+   #endif
 
-
    #define HB_INIT_FUNCTION_REF( func )    \
       extern void * func##_ref_( void ); \
       void * func##_ref_( void ) \


-- 
[-]

mkdir /nonexistent
-------------- next part --------------
A non-text attachment was scrubbed...
Name: svrs.diff
Type: text/x-diff
Size: 1697 bytes
Desc: 
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091223/a4b76a5b/svrs-0001.bin
From vouchcac at users.sourceforge.net  Wed Dec 23 12:11:05 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Dec 23 12:11:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13391] trunk/harbour
Message-ID: <E1NNUjp-0002ij-IC@3kljzd1.ch3.sourceforge.com>

Revision: 13391
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13391&view=rev
Author:   vouchcac
Date:     2009-12-23 17:11:04 +0000 (Wed, 23 Dec 2009)

Log Message:
-----------
2009-12-23 09:07 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  * contrib/hbide/resources/mainwindow.ui
  * contrib/hbxbp/xbpbrowse.prg
  * contrib/hbxbp/xbpdialog.prg
    + Added an experimental protocol scheduled to be 
      polished in next few days.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbpdialog.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/mainwindow.ui


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Wed Dec 23 13:01:10 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Dec 23 13:01:24 2009
Subject: [Harbour] ieeefp.h - what's the significance?
In-Reply-To: <alpine.DEB.2.00.0912231549520.27623@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0912230045060.27623@dawn.royalcomp.hu>	<20091223053809.GB15624@linux-4bod.home.aster.pl>	<alpine.DEB.2.00.0912231015490.27623@dawn.royalcomp.hu>	<20091223102714.GC1181@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0912231549520.27623@dawn.royalcomp.hu>
Message-ID: <4B325AE6.2060909@libero.it>

Tamas TEVESZ wrote:
> doesn't have a special case for os/2 -- nb i do not know if
> "defined( __RSXNT__ ) || defined( __EMX__ )" covers _all_ of os2; if 
> it does, then scratch this last remark, but then the notation is 
> inconstent.
> 

Tamas,

the answer to your question is: no. There is OpenWatcom on OS/2 which should
define neither one.

Best regards.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From qiinfo at ig.com.br  Wed Dec 23 14:16:51 2009
From: qiinfo at ig.com.br (Rossine)
Date: Wed Dec 23 14:16:57 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
Message-ID: <26906067.post@talk.nabble.com>


Hello Team harbour,

I am so  happy to not have chosen Delphi or VB as my tools to work,
therefore Harbour gives me everything I need and more. I think the leaders
of the Harbour as geniuses by the ability to provide tools so incredible.
Harbour is my home :)

Special thanks to Vailtom for their contributions and the translation of the
Harbour for the Portuguese.

Thank you all for this grandeur.

Best Regards,

Rossine.


-- 
View this message in context: http://old.nabble.com/Harbour-2.0.0%3A-Released-tp26895087p26906067.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From roberbox at gmail.com  Wed Dec 23 14:36:43 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Wed Dec 23 14:36:48 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
Message-ID: <4B32714B.6070907@gmail.com>

> I'm glad to announce that after a very heavy 16 months 
> of development, the final, stable version 2.0.0 is finally 
> released.

Thanks to all the team for this GREAT release!


Regards,

Roberto.
From marcosgambeta at uol.com.br  Wed Dec 23 14:40:58 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Wed Dec 23 14:41:09 2009
Subject: [Harbour] Video and presentation about Qt license
Message-ID: <4B32724A.6040409@uol.com.br>

Hi all,

Links for video and presentation about the Qt license:

http://qt.nokia.com/developer/learning/online/talks/developerdays2009/qt-in-use/making-the-licensing-decision2014lgpl-vs.-commercial

http://www.slideshare.net/qtbynokia/qt-licensing-explained


-- 
Regards,
Marcos Antonio Gambeta
From marcosgambeta at uol.com.br  Wed Dec 23 14:49:57 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Wed Dec 23 14:50:08 2009
Subject: [Harbour] Video and presentation about Qt license
In-Reply-To: <4B32724A.6040409@uol.com.br>
References: <4B32724A.6040409@uol.com.br>
Message-ID: <4B327465.3020402@uol.com.br>

> http://www.slideshare.net/qtbynokia/qt-licensing-explained

In the presentation, see pages 5 and 14 about dynamic and static linking.


-- 
Regards,
Marcos Antonio Gambeta
From vailtom at gmail.com  Wed Dec 23 14:52:20 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Wed Dec 23 14:52:48 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <4B32714B.6070907@gmail.com>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu> 
	<4B32714B.6070907@gmail.com>
Message-ID: <531d7a750912231152s11b7424frac23cd4a7f9bce97@mail.gmail.com>

I updated the pages of your site and also the news page. I still have
to make some changes, but the current already has highlighted the new
version 2.0! Suggestions or comments are welcome.

And I would like to congratulate everyone for the great achievement
that this version is for the project!

Regards,
Vailton Renato
From antonioc_silva at msn.com  Wed Dec 23 14:55:57 2009
From: antonioc_silva at msn.com (Antonio Carlos)
Date: Wed Dec 23 14:56:05 2009
Subject: [Harbour] Re: Harbour 2.0.0: Released
In-Reply-To: <hgt78m$qih$1@ger.gmane.org>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>,
	<hgt78m$qih$1@ger.gmane.org>
Message-ID: <COL122-W4D9A8CFBFA8513A9F6840E4800@phx.gbl>


 Simplesmente fantastico.
Parabens a todos os desenvolvedores por essa maravilhosa conquista.

Congratula??es a todos 
Antonio Carlos

 

> To: harbour@harbour-project.org
> From: amigosam@adinet.com.uy
> Date: Wed, 23 Dec 2009 11:51:22 -0200
> Subject: [Harbour] Re: Harbour 2.0.0: Released
> 
> Viktor Szak?ts escribi?:
> > Hi All,
> > 
> > I'm glad to announce that after a very heavy 16 months 
> > of development, the final, stable version 2.0.0 is finally 
> > released.
> > 
> 

> Congratulations and thank your all.
> You are all an amazing group of programmers with a straight vision on 
> quality and multiplatform compatibility issues.
> This compiler assures the survival of our beloved favorite programming 
> language.
> The best it's yet to come !
> Merry Christmas to all !
> 
> Angel Pais
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

 		 	   		  
_________________________________________________________________
Fique protegido de ame?as utilizando o Novo Internet Explorer 8. Baixe j?, ? gr?tis!
http://brasil.microsoft.com.br/IE8/mergulhe/?utm_source=MSN%3BHotmail&utm_medium=Tagline&utm_content=Tag1&utm_campaign=IE8
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091223/30d42ab2/attachment.html
From antonioc_silva at msn.com  Wed Dec 23 14:57:05 2009
From: antonioc_silva at msn.com (Antonio Carlos)
Date: Wed Dec 23 14:57:56 2009
Subject: [Harbour] Re: Harbour 2.0.0: Released
In-Reply-To: <COL122-W4D9A8CFBFA8513A9F6840E4800@phx.gbl>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>, ,
	<hgt78m$qih$1@ger.gmane.org>,
	<COL122-W4D9A8CFBFA8513A9F6840E4800@phx.gbl>
Message-ID: <COL122-W62B8D091B65427EFD891DDE4800@phx.gbl>


Simply fantastic.
Congratulations to all developers for this wonderful achievement.

Congratulations to all
Antonio Carlos
 


From: antonioc_silva@msn.com
To: harbour@harbour-project.org
Subject: RE: [Harbour] Re: Harbour 2.0.0: Released
Date: Wed, 23 Dec 2009 19:55:57 +0000



 Simplesmente fantastico.
Parabens a todos os desenvolvedores por essa maravilhosa conquista.
Congratula??es a todos 
Antonio Carlos
 
> To: harbour@harbour-project.org
> From: amigosam@adinet.com.uy
> Date: Wed, 23 Dec 2009 11:51:22 -0200
> Subject: [Harbour] Re: Harbour 2.0.0: Released
> 
> Viktor Szak?ts escribi?:
> > Hi All,
> > 
> > I'm glad to announce that after a very heavy 16 months 
> > of development, the final, stable version 2.0.0 is finally 
> > released.
> > 
> 
> Congratulations and thank your all.
> You are all an amazing group of programmers with a straight vision on 
> quality and multiplatform compatibility issues.
> This compiler assures the survival of our beloved favorite programming 
> language.
> The best it's yet to come !
> Merry Christmas to all !
> 
> Angel Pais
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour




Agora a pressa ? amiga da perfei??o. Chegou Windows 7. Conhe?a. 		 	   		  
_________________________________________________________________
Navegue com seguran?a com o Novo Internet Explorer 8. Baixe agora, ? gratis!
http://brasil.microsoft.com.br/IE8/mergulhe/?utm_source=MSN%3BHotmail&utm_medium=Tagline&utm_content=Tag4&utm_campaign=IE8
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091223/34b3431b/attachment-0001.html
From harbour.01 at syenar.hu  Wed Dec 23 15:03:38 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec 23 15:03:49 2009
Subject: [Harbour] Video and presentation about Qt license
In-Reply-To: <4B327465.3020402@uol.com.br>
References: <4B32724A.6040409@uol.com.br> <4B327465.3020402@uol.com.br>
Message-ID: <F0B39513-3FB0-44AD-BD79-187BD4B03CD9@syenar.hu>

To keep the free spirit of Harbour, I will (if I do it 
that is) drop the HBQT static libs from the next official 
Harbour binary distribution, I don't think too many 
developers need it either as it clearly requires a paid 
QT license, which severely limits the number of users 
who may benefit from these libs. Anyway they can be easily 
build locally, so overall the loss will be minimal, 
but the installed size will 20MB less, build time and 
download size as well.

Brgds,
Viktor

On 2009 Dec 23, at 20:49, Marcos Gambeta wrote:

>> http://www.slideshare.net/qtbynokia/qt-licensing-explained
> 
> In the presentation, see pages 5 and 14 about dynamic and static linking.
> 
> 
> -- 
> Regards,
> Marcos Antonio Gambeta
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Dec 23 15:05:47 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec 23 15:05:56 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <531d7a750912231152s11b7424frac23cd4a7f9bce97@mail.gmail.com>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
	<4B32714B.6070907@gmail.com>
	<531d7a750912231152s11b7424frac23cd4a7f9bce97@mail.gmail.com>
Message-ID: <097153CC-087B-4B0E-9053-D3865B51375A@syenar.hu>

Thanks a lot Vailton.

Brgds,
Viktor

On 2009 Dec 23, at 20:52, Vailton Renato wrote:

> I updated the pages of your site and also the news page. I still have
> to make some changes, but the current already has highlighted the new
> version 2.0! Suggestions or comments are welcome.
> 
> And I would like to congratulate everyone for the great achievement
> that this version is for the project!
> 
> Regards,
> Vailton Renato
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Wed Dec 23 15:23:53 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 23 15:24:20 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <531d7a750912231152s11b7424frac23cd4a7f9bce97@mail.gmail.com>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu> 
	<4B32714B.6070907@gmail.com>
	<531d7a750912231152s11b7424frac23cd4a7f9bce97@mail.gmail.com>
Message-ID: <609353e70912231223l5e2e5eb5s42d0a12445161735@mail.gmail.com>

My suggestion is :
Give importance to  xhb-diff.dco text

Give a feature list
 Easy Unified setup for windows
 Unicode support
 dramatically improve application speed
 product usability and reliability


2009/12/23 Vailton Renato <vailtom@gmail.com>:
> I updated the pages of your site and also the news page. I still have
> to make some changes, but the current already has highlighted the new
> version 2.0! Suggestions or comments are welcome.
>
>
> Regards,
> Vailton Renato
> _______________________________________________
From mbelgrano at deltain.it  Wed Dec 23 15:27:53 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 23 15:28:20 2009
Subject: [Harbour] Video and presentation about Qt license
In-Reply-To: <F0B39513-3FB0-44AD-BD79-187BD4B03CD9@syenar.hu>
References: <4B32724A.6040409@uol.com.br> <4B327465.3020402@uol.com.br> 
	<F0B39513-3FB0-44AD-BD79-187BD4B03CD9@syenar.hu>
Message-ID: <609353e70912231227u4842a6efof1d216332573cf20@mail.gmail.com>

The harbour exception allow create commercial application
so it can be used for Making commercial application buyng a commercial licenze
but agree space question

2009/12/23 Viktor Szak?ts <harbour.01@syenar.hu>:
> To keep the free spirit of Harbour, I will (if I do it
> that is) drop the HBQT static libs from the next official
> Harbour binary distribution, I don't think too many
> developers need it either as it clearly requires a paid
> QT license, which severely limits the number of users
> who may benefit from these libs. Anyway they can be easily
> build locally, so overall the loss will be minimal,
> but the installed size will 20MB less, build time and
> download size as well.
>
> Brgds,
> Viktor
>

-- 
Massimo Belgrano
From mbelgrano at deltain.it  Wed Dec 23 15:38:40 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 23 15:39:07 2009
Subject: [Harbour] Harbour 2.0 Key Features
In-Reply-To: <20091223113033.GA2539@linux-4bod.home.aster.pl>
References: <609353e70912230149u8c51908kbcece412048e593a@mail.gmail.com> 
	<20091223101209.GB1181@linux-4bod.home.aster.pl>
	<609353e70912230228m3eaad916vc0a52bbcfa48691f@mail.gmail.com> 
	<20091223113033.GA2539@linux-4bod.home.aster.pl>
Message-ID: <609353e70912231238m243915e3lf904fd068db6f2a7@mail.gmail.com>

Hi  Przemys?aw
Which consequence for ASCII based limitation?
What is harbour at present?
Which Future you plan?
Why you use harbour as developement system?
What are power of harbour as development system?


2009/12/23 Przemys?aw Czerpak <druzus@acn.waw.pl>:
> On Wed, 23 Dec 2009, Massimo Belgrano wrote:
>
>> Harbour is without any hacks in core code which introduce such
>> limitation like 32/64?
>
> Yes. It can work with any pointer size if compiler supports some
> integer types larger enough to hold such pointers so it will work
> also with 128 if we ever have such systems or some more exotic ones
> like 48bits. It means that core code is not limited to work only with
> some chosen fixed pointer sizes like 32 or 64 bits.
> The only two limitations we have are 8bit byte size and ASCII based
> character set due to hard coded some strict Clipper compatibility.
> Removing both limits is possible but it needs a lot of work and not
> all things can be ported to such systems (i.e. some binary file
> formats). In current days such systems are used very seldom (i,e,
> some IBM mainframes) so I do not have enough motivation to made it.
> Also without regular access to the hardware it will be hard to keep
> such ports alive.
>
>

-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Dec 23 15:45:01 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec 23 15:45:11 2009
Subject: [Harbour] Video and presentation about Qt license
In-Reply-To: <609353e70912231227u4842a6efof1d216332573cf20@mail.gmail.com>
References: <4B32724A.6040409@uol.com.br> <4B327465.3020402@uol.com.br>
	<F0B39513-3FB0-44AD-BD79-187BD4B03CD9@syenar.hu>
	<609353e70912231227u4842a6efof1d216332573cf20@mail.gmail.com>
Message-ID: <442CEDC0-9C7E-4475-88DD-B42D9E7E5E2D@syenar.hu>

> The harbour exception allow create commercial application
> so it can be used for Making commercial application buyng a commercial licenze
> but agree space question

It's not about the Harbour license limitation, but 
the QT LGPL license limitation.

No one said it's not possible to create a Harbour+QT 
commercial app with statically linked QT libs, but 
it requires commercial QT license. Which, I presume 
very few Harbour developers have. So the extra effort 
to offer this to _everyone by default_ is a waste of 
resources.

Brgds,
Viktor

From xmessoft at gmail.com  Wed Dec 23 15:46:49 2009
From: xmessoft at gmail.com (Manu)
Date: Wed Dec 23 15:46:58 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
Message-ID: <4B3281B9.2020507@gmail.com>

Este es el mejor regalo de Navidad...

Felicitaciones a todos los que est?n participando en el proyecto y... 
GRACIAS

Saludos
Manu Exp?sito

---------------------------------------------------------------------------------

This is the best Christmas gift ...

Congratulations to all who are participating in the project y. .. THANKS

Greetings
Manu Exposito


  22/12/2009 23:07, Viktor Szak?ts escribi?:
> Hi All,
>
> I'm glad to announce that after a very heavy 16 months
> of development, the final, stable version 2.0.0 is finally
> released.
>
> Thanks to everyone who took part of this huge work in
> any ways.
>
> I'd like to ask developers to create the binary builds,
> I will now start to create the 'unified' Windows release
> and .tgz, .bz2 source packages. They will be ready by
> tomorrow.
>
> Another remaining task is to make this announcement on
> various forums and update the web page and other places
> where needed.
>
> HOW TO GET
> ----------
>    From SVN:
>       svn export https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/tags/harbour-2.0.0
>    From sf.net:
>       http://sourceforge.net/projects/harbour-project/files/source/2.0.0/
>
> RELEASE NOTES
> -------------
>    Please check RELNOTES file, this contains mostly generic release
>    notes plus a few 'unified' binary release specific ones, overall
>    it's a good brief list of the things changes since beta3, and it
>    includes previous beta release notes as well. You may also want
>    to check doc/whatsnew.txt which has a more details, but partial
>    list of some past changes since 1.0.1.
>
> DEVELOPER NOTES
> ---------------
>    The new 2.0.x branch has been created here:
>       http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/branches/harbour-2.0/
>
>    Development goes onwards in trunk, but we should mark patches in
>    ChangeLog which should be eventually merged to 2.0.x branch with
>    '[TOMERGE 2.0]' (without quotes).
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>    

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091223/6352cf6c/attachment.html
From harbour.01 at syenar.hu  Wed Dec 23 15:54:20 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec 23 15:54:33 2009
Subject: [Harbour] Harbour next major release wishlist
Message-ID: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>

Hi All,

In the spirit of release enthusiasm it's now also 
a good time to brainstorm a little on things which 
we would like to make it into next major Harbour 
release.

You're welcome to post your idea, whatever that is.

My list on the top of my head:

- Complete Unicode support
- Type cleanup (planned)
- GTNET
- Oracle accessibility (sddora, hbora)
- Dir layout scheme cleanup (planned)
- Multi-OS binary distribution for WIN/DOS/OS2 world
- Becoming a std Linux package
- Ironing out HBQT remaining grey areas
  (memory management, .prg level indestructibility, 
  proper componentization)
- HBBMCDX integrated into core.
- XML support

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Dec 23 16:15:44 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 23 16:15:52 2009
Subject: [Harbour] ieeefp.h - what's the significance?
In-Reply-To: <alpine.DEB.2.00.0912231549520.27623@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0912230045060.27623@dawn.royalcomp.hu>
	<20091223053809.GB15624@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0912231015490.27623@dawn.royalcomp.hu>
	<20091223102714.GC1181@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0912231549520.27623@dawn.royalcomp.hu>
Message-ID: <20091223211544.GA7048@linux-4bod.home.aster.pl>

On Wed, 23 Dec 2009, Tamas TEVESZ wrote:

Hi,

> ok, so there are two places where this is used, in src/rtl/math.c:334 
> onwards and src/vm/itemapi.c:2250 onwards.

Three. src/common/hbprintf.c also includes it. Here is the only one
place when we try to use different C99 FL functions not only finite()
and we can use as argument 'long double' values not only double ones.
It means that if possible we should not force arguments conversion to
double because on some hardware or (and) when some fast math optimization
switches are enabled it may cause SIGFPE if argument is not valid FL
number. Harbour itself does not use any NaN values so it's not a problem
for valid code but in some wrong user code it may cause detecting the
source of problem harder.

> they are even used for the same purpose, to check whether or not to 
> signal a range error of sorts on a numeric argument.

In itemapi.c we only try to detect finite double values.
In math.c when HB_MATH_ERRNO is set we try to detect also NaN values
and we should cleaned this code because now it's possible that it
will not work with compilers not supporting C++ isnan()/isinf() macros.

In hb_snprintf() we additionally try to detect type of infinity
and sign bit.

I agree that it will be nice to use common macros set in all three files
defined in some separate header file, i.e. hbfloat.h which will make
all platform dependent #includes and define some HB_*() macros which
we can use in other code.

> yet the one in itemapi.c is a macro with a screenful of tests for 
> platforms and compilers and whatnot, whereas the one in math.c is a 
> very simple conditional for os2-sunos-all-the-rest. notably, it 
> doesn't have a special case for os/2 -- nb i do not know if
> "defined( __RSXNT__ ) || defined( __EMX__ )" covers _all_ of os2; if 
> it does, then scratch this last remark, but then the notation is 
> inconstent.
> why is this difference?

The code in math.c was enabled only in some GCC builds so this trivial
condition was working but in fact it's wrong and should be updated to
use more precise logic.

In some spare time I'll check if I can easy create hbfloat.h file which
can be easy used also with hbprintf.c and if yest then I'll commit it.

best regards,
Przemek
From mbelgrano at deltain.it  Wed Dec 23 16:19:50 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 23 16:20:17 2009
Subject: [Harbour] Harbour next major release wishlist
In-Reply-To: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
References: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
Message-ID: <609353e70912231319if701a0es4ee7046e94ff1ca4@mail.gmail.com>

Extend rdd to allow easy conversion to sql
Easy coversion to GUI
Clean path to web application

2009/12/23 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi All,
>
> In the spirit of release enthusiasm it's now also
> a good time to brainstorm a little on things which
> we would like to make it into next major Harbour
> release.
>
> You're welcome to post your idea, whatever that is.
>
> My list on the top of my head:
>
> - Complete Unicode support
> - Type cleanup (planned)
> - GTNET
> - Oracle accessibility (sddora, hbora)
> - Dir layout scheme cleanup (planned)
> - Multi-OS binary distribution for WIN/DOS/OS2 world
> - Becoming a std Linux package
> - Ironing out HBQT remaining grey areas
> ?(memory management, .prg level indestructibility,
> ?proper componentization)
> - HBBMCDX integrated into core.
> - XML support
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From bedipritpal at hotmail.com  Wed Dec 23 16:28:57 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Dec 23 16:29:03 2009
Subject: [Harbour] Harbour next major release wishlist
In-Reply-To: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
References: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
Message-ID: <26907647.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> In the spirit of release enthusiasm it's now also 
> a good time to brainstorm a little on things which 
> we would like to make it into next major Harbour 
> release.
> 
> You're welcome to post your idea, whatever that is.
> 
> My list on the top of my head:
> 
> - Complete Unicode support
> - Type cleanup (planned)
> - GTNET
> - Oracle accessibility (sddora, hbora)
> - Dir layout scheme cleanup (planned)
> - Multi-OS binary distribution for WIN/DOS/OS2 world
> - Becoming a std Linux package
> - Ironing out HBQT remaining grey areas
>   (memory management, .prg level indestructibility, 
>   proper componentization)
> - HBBMCDX integrated into core.
> - XML support
> 

- HBIDE - The standard way to build Harbour applications
- HBXBP - To match and possibly surpass Xbase++ 
- If HBQT + HBXBP does not provide official GUI support then
     lookups for the alternatives.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/Harbour-next-major-release-wishlist-tp26907413p26907647.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lautaro.moreira at gmail.com  Wed Dec 23 16:42:10 2009
From: lautaro.moreira at gmail.com (Lautaro Moreira)
Date: Wed Dec 23 16:42:23 2009
Subject: [Harbour] Harbour next major release wishlist
In-Reply-To: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
References: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
Message-ID: <4B328EB2.3060800@gmail.com>

Hi All,

First, many thank for the great work of the Harbour Team, and my whish 
list is :

XML support
XML DSIG suppor

I now is only for window, but, :

ability to create ole server.

Thank again, and sorry for my bad english,

Lautaro Moreira

El 23/12/2009 17:54, Viktor Szak?ts escribi?:
> Hi All,
>
> In the spirit of release enthusiasm it's now also
> a good time to brainstorm a little on things which
> we would like to make it into next major Harbour
> release.
>
> You're welcome to post your idea, whatever that is.
>
> My list on the top of my head:
>
> - Complete Unicode support
> - Type cleanup (planned)
> - GTNET
> - Oracle accessibility (sddora, hbora)
> - Dir layout scheme cleanup (planned)
> - Multi-OS binary distribution for WIN/DOS/OS2 world
> - Becoming a std Linux package
> - Ironing out HBQT remaining grey areas
>    (memory management, .prg level indestructibility,
>    proper componentization)
> - HBBMCDX integrated into core.
> - XML support
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>    

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091223/fe1bd879/attachment.html
From mbelgrano at deltain.it  Wed Dec 23 16:53:00 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 23 16:53:27 2009
Subject: [Harbour] Harbour next major release wishlist
In-Reply-To: <26907647.post@talk.nabble.com>
References: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu> 
	<26907647.post@talk.nabble.com>
Message-ID: <609353e70912231353g7256837bt5a4b9e513a5304de@mail.gmail.com>

hbide demostrate the reliability of HBQT & HBXBP my wishlist:
1)A way for easy convert application to hbxbp
mix traditional SAY/GET/TBrowse() with graphical user interface
elements for an easy and fast migration

2) Followinng the Next Generation Hybrid Applications with Qt we must
interact with webservice
http://www.slideshare.net/pkosonen/next-generation-hybrid-applications-with-qt-presentation-for-see-2009
.

2009/12/23 Pritpal Bedi <bedipritpal@hotmail.com>
>
> - HBIDE - The standard way to build Harbour applications
> - HBXBP - To match and possibly surpass Xbase++
> - If HBQT + HBXBP does not provide official GUI support then
> ? ? lookups for the alternatives.
>
--
Massimo Belgrano
From mbelgrano at deltain.it  Wed Dec 23 17:29:22 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 23 17:29:50 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <531d7a750912231152s11b7424frac23cd4a7f9bce97@mail.gmail.com>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu> 
	<4B32714B.6070907@gmail.com>
	<531d7a750912231152s11b7424frac23cd4a7f9bce97@mail.gmail.com>
Message-ID: <609353e70912231429u50af233fre6c86b6bd6f0ce41@mail.gmail.com>

add hbqt , hbxbp,gtqtc, hbide (experimental stage)
remove apollo,rddado
at http://www.harbour-project.org/download_contrib.html

2009/12/23 Vailton Renato <vailtom@gmail.com>:
> I updated the pages of your site and also the news page. I still have
> to make some changes, but the current already has highlighted the new
> version 2.0! Suggestions or comments are welcome.
>
> And I would like to congratulate everyone for the great achievement
> that this version is for the project!
>
> Regards,
> Vailton Renato
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Wed Dec 23 17:35:04 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 23 17:35:31 2009
Subject: [Harbour] Some changes on Harbour Web Page
In-Reply-To: <531d7a750912110334w5f1243dcnebba2da50077e767@mail.gmail.com>
References: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com> 
	<6c902cf90912110240y3f6a5b27ub483a67325203a75@mail.gmail.com> 
	<860B140B-13FC-4926-99F3-AC4DE00F6BDF@syenar.hu>
	<6c902cf90912110255i2a9fcc62t57c0398f3449f7d3@mail.gmail.com> 
	<609353e70912110327x3df08231p7b313af7d67fe5f6@mail.gmail.com> 
	<531d7a750912110334w5f1243dcnebba2da50077e767@mail.gmail.com>
Message-ID: <609353e70912231435t5461e596p85f6c37ccbca973b@mail.gmail.com>

Can be done?

2009/12/11 Vailton Renato <vailtom@gmail.com>:
> In reality there were not "several times" but the truth is that it was
> "only once" ... and since then the site has not been updated. For this
> reason alone there is still no reference to your name there ... but
> for the next update must already be included. So much as I said at the
> beginning of this thread, I am preparing to change some details in the
> site ... then it was already to be included anyway.
>
> Vailton Renato

-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Dec 23 18:02:38 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec 23 18:03:01 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <609353e70912231429u50af233fre6c86b6bd6f0ce41@mail.gmail.com>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
	<4B32714B.6070907@gmail.com>
	<531d7a750912231152s11b7424frac23cd4a7f9bce97@mail.gmail.com>
	<609353e70912231429u50af233fre6c86b6bd6f0ce41@mail.gmail.com>
Message-ID: <9E32F1D0-60FC-4B30-9B46-9DC4D0980707@syenar.hu>

> add hbqt , hbxbp,gtqtc, hbide (experimental stage)
> remove apollo,rddado
> at http://www.harbour-project.org/download_contrib.html

gtqtc is not an enabled contrib yet, since it 
needs more work to be usable in practice.

I was thinking to move it inside hbqt.

Brgds,
Viktor

From roberbox at gmail.com  Wed Dec 23 18:03:04 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Wed Dec 23 18:03:12 2009
Subject: [Harbour] Harbour next major release wishlist
In-Reply-To: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
References: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
Message-ID: <4B32A1A8.6060204@gmail.com>

Viktor Szak?ts wrote:

> In the spirit of release enthusiasm it's now also 
> a good time to brainstorm a little on things which 
> we would like to make it into next major Harbour 
> release.

- A full featured SQL RDD with support for all major databses, keeping 
the same behavior across different backends.

- Mulplatform GUI supporting classes defined on Clipper 5.3: CheckBox, 
Get, ListBox, MenuItem, PopupMenu, PushButton, RadioButton, RadioGroup, 
ScrollBar, TBColumn, TBrowse and TopBarMenu (it could be expanded in 
later releases).

- Development of a translator or code generator for Harbour CGI 
applications, capable of generate HTML+JavaScript code from the 5.3 GUI 
classes. Such code could include asynchronous calls to the server to 
mimic the behavior of desktop applications.


Regards,

Roberto.
From amigosam at adinet.com.uy  Wed Dec 23 19:29:55 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Wed Dec 23 19:30:24 2009
Subject: [Harbour] Re: Harbour next major release wishlist
In-Reply-To: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
References: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
Message-ID: <hguclu$dto$1@ger.gmane.org>

Viktor Szak?ts escribi?:
> Hi All,
> 
> In the spirit of release enthusiasm it's now also 
> a good time to brainstorm a little on things which 
> we would like to make it into next major Harbour 
> release.
> 

Hi Viktor, You've opened Pandora's box here :)

My 5 minutes brainstorming list:

- A RPC protocol based on NETIO to allow 2/3 tier multiplattform apps.

- Invite Marcos Antonio gambeta to integrate xhgtk into harbour`s tree.

- Invite Teo Fourounge (forgive mispelling) to integrate wxwidgets into 
harbour`s tree.

- Invite Carozo de Quilmes to integrate his hbqtcommand (minigui 
compatible command layer based on QT ) into harbour's tree.

- Make Harbour a standard package on linux ( at least ubuntu ) 
distributions.

- An SQL interpreter for DBF files so we can work in mixed navigational- 
recorset based mode depending of the kind of problem to solve.

- Start a big collaboration effor to scatter compile edit and publish a 
more professional multilevel documentation (users-developpers-etc).

Regards

Angel Pais

From vailtom at gmail.com  Wed Dec 23 19:46:35 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Wed Dec 23 19:47:02 2009
Subject: [Harbour] Some changes on Harbour Web Page
In-Reply-To: <609353e70912231435t5461e596p85f6c37ccbca973b@mail.gmail.com>
References: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com> 
	<6c902cf90912110240y3f6a5b27ub483a67325203a75@mail.gmail.com> 
	<860B140B-13FC-4926-99F3-AC4DE00F6BDF@syenar.hu>
	<6c902cf90912110255i2a9fcc62t57c0398f3449f7d3@mail.gmail.com> 
	<609353e70912110327x3df08231p7b313af7d67fe5f6@mail.gmail.com> 
	<531d7a750912110334w5f1243dcnebba2da50077e767@mail.gmail.com> 
	<609353e70912231435t5461e596p85f6c37ccbca973b@mail.gmail.com>
Message-ID: <531d7a750912231646n3334ab4cyaa2a2343aee86e68@mail.gmail.com>

Hi Massimo,

Immediately I only focused the new release in order to provide the
links to downloads and news to everyone who does not have the habit of
reading this mailing. You got to carefully read my other post where I
mentioned that "I still have to make some changes" ...

Vailton Renato
From marcosgambeta at uol.com.br  Wed Dec 23 19:58:41 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Wed Dec 23 19:58:47 2009
Subject: [Harbour] Re: Harbour next major release wishlist
In-Reply-To: <hguclu$dto$1@ger.gmane.org>
References: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
	<hguclu$dto$1@ger.gmane.org>
Message-ID: <4B32BCC1.1020702@uol.com.br>

Angel Pais escreveu:
> - Invite Marcos Antonio gambeta to integrate xhgtk into harbour`s tree.

I am not against this idea. But i have one question (maybe more than one):

xHarbour developers have interest in the library too. If the 
developmente of the xhgtk move to /harbour/contrib, what will happen to 
the compatibility with the xHarbour ?

For now, I'm changing the way the wrappers are generated (from manual to 
automatic). After this step, we can take a final decision. Meanwhile, 
ideas and comments are welcome.


-- 
Regards,
Marcos Antonio Gambeta
From marcosgambeta at uol.com.br  Wed Dec 23 20:10:23 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Wed Dec 23 20:10:29 2009
Subject: [Harbour] Re: Harbour next major release wishlist
In-Reply-To: <4B32BCC1.1020702@uol.com.br>
References: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>	<hguclu$dto$1@ger.gmane.org>
	<4B32BCC1.1020702@uol.com.br>
Message-ID: <4B32BF7F.1080001@uol.com.br>

Marcos Gambeta escreveu:
> xHarbour developers have interest in the library too.

Only to clarify: i'm talking about developers that use xHarbour and not 
the developers that develop the xHarbour.


-- 
Regards,
Marcos Antonio Gambeta
From harbour.01 at syenar.hu  Wed Dec 23 21:00:13 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec 23 21:00:25 2009
Subject: [Harbour] Re: Harbour next major release wishlist
In-Reply-To: <4B32BCC1.1020702@uol.com.br>
References: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
	<hguclu$dto$1@ger.gmane.org> <4B32BCC1.1020702@uol.com.br>
Message-ID: <6B6F473A-7BF1-4FD3-BF5C-E0F90DC27FF3@syenar.hu>

> Angel Pais escreveu:
>> - Invite Marcos Antonio gambeta to integrate xhgtk into harbour`s tree.
> 
> I am not against this idea. But i have one question (maybe more than one):
> 
> xHarbour developers have interest in the library too. If the developmente of the xhgtk move to /harbour/contrib, what will happen to the compatibility with the xHarbour ?

It's my personal opinion, but since it's so much 
complicated to maintain code which builds also with 
xhb, and such development needs very special requirement 
from build tools, testing/development environment, etc, 
plus we all have finite resources here, I'm not in favor 
of spending time on code enclosed between #if __XHARBOUR__. 
Notice we have already an extremely large although well 
defined set of compatibility needs and that is already 
quite a feat to keep maintained and tested. We currently 
have _no_ such code in Harbour repository, and for our 
own good, IMO we should keep it this way. (*)

So, if xhb compatibility can be achieved by using code 
which automatically work also in xhb, plus it's not 
a problem to stick to pure Harbour build tools, for 
me it's okay, but if not, we should rather keep it out 
from our SVN.

Even more generally speaking we should carefully check 
what benefits such merging can give. It has a lot of 
"costs", f.e. we inevitable take over many 'cleanup', 
testing and other jobs, and it's much more difficult 
to create a release, so eventually it can hold back 
frequent core releases.

In fact the overall goal is the opposite: Allow developers 
to create addons completely independently from Harbour 
code, yet make them easily manageable and pluggable 
for users. That's what I'd like to encourage 3rd party 
developers.

In any case, it's a good start to start adopting Harbour 
code coding rules and tools (build tools, SVN) and 
whatnot, so it's easier to jump between projects.

Brgds,
Viktor

From jarabal at gmail.com  Wed Dec 23 21:10:53 2009
From: jarabal at gmail.com (Xavi)
Date: Wed Dec 23 21:11:51 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
Message-ID: <4B32CDAD.3040806@gmail.com>

Congratulations!

Seasons greetings and the Very Best for the new year!
Thanks.

-- 
Xavi
From vouchcac at users.sourceforge.net  Wed Dec 23 21:47:01 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Dec 23 21:47:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13392] trunk/harbour
Message-ID: <E1NNdjB-00049V-1M@c3vjzd1.ch3.sourceforge.com>

Revision: 13392
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13392&view=rev
Author:   vouchcac
Date:     2009-12-24 02:46:59 +0000 (Thu, 24 Dec 2009)

Log Message:
-----------
2009-12-23 18:40 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/filelist.mk
  + contrib/hbqt/hbqt_errorsys.prg
  * contrib/hbqt/hbqt_misc.prg

  * contrib/hbxbp/xbpdialog.prg
  * contrib/hbxbp/xbpgeneric.prg
  * contrib/hbxbp/xbpqtuiloader.prg
  * contrib/hbxbp/xbpwindow.prg

  * contrib/hbide/hbide.prg
  * contrib/hbide/resources/mainwindow.ui
    + Implemented hbqt_errorSys(). It is actually original
      rtl/errorsys.prg tuned to display error in a message-box.
    ! An experimental stage passed, leaning towards next.
      Please bear with me if you see a little clumsy hbide.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/resources/mainwindow.ui
    trunk/harbour/contrib/hbqt/filelist.mk
    trunk/harbour/contrib/hbqt/hbqt_misc.prg
    trunk/harbour/contrib/hbxbp/xbpdialog.prg
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
    trunk/harbour/contrib/hbxbp/xbpqtuiloader.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/hbqt_errorsys.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From april at users.sourceforge.net  Wed Dec 23 22:25:56 2009
From: april at users.sourceforge.net (april@users.sourceforge.net)
Date: Wed Dec 23 22:26:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13393] trunk/harbour
Message-ID: <E1NNeKq-0003pV-OF@dn4whf1.ch3.sourceforge.com>

Revision: 13393
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13393&view=rev
Author:   april
Date:     2009-12-24 03:25:54 +0000 (Thu, 24 Dec 2009)

Log Message:
-----------
2009-12-23 22:26 UTC+0500 April White (april users.sourceforge.net)
  * contrib/hbbtree/hb_btree.c
    * bug fix: array access was in bounds but to wrong value
      [TOMERGE 2.0]

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbtree/hb_btree.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From tomaz.zupan at orpo.si  Thu Dec 24 01:53:34 2009
From: tomaz.zupan at orpo.si (=?utf-8?q?Toma=C5=BE_Zupan?=)
Date: Thu Dec 24 01:53:46 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
Message-ID: <200912240753.35251.tomaz.zupan@orpo.si>


Tuesday 22 December 2009 23:07:46 je Viktor Szak?ts napisal:
> I'd like to ask developers to create the binary builds,
> I will now start to create the 'unified' Windows release
> and .tgz, .bz2 source packages. They will be ready by
> tomorrow.

Mandriva binaries uploaded.

LP, Toma?
From ssbbstw at pchome.com.tw  Thu Dec 24 03:25:25 2009
From: ssbbstw at pchome.com.tw (WenSheng)
Date: Thu Dec 24 03:25:38 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <200912240753.35251.tomaz.zupan@orpo.si>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
	<200912240753.35251.tomaz.zupan@orpo.si>
Message-ID: <20091224162335.2151.84A669A0@mail.zzz.com.tw>




hbcdpreg.h file define have bug:

   static HB_CODEPAGE s_codePage =
   {
      HB_MACRO2STRING( HB_CP_ID ),
      HB_CP_INFO,
      HB_CP_UNITB,
      s_flags,
      s_upper,
      s_lower,
      s_sort,
      NULL,
      HB_CDP_ACSORT_NONE,
      0,
      0,
      NULL,
      NULL,
      NULL,
   };


can't compiler use BCC551
From philb at philb.us  Thu Dec 24 05:04:45 2009
From: philb at philb.us (Phil Barnett)
Date: Thu Dec 24 05:04:53 2009
Subject: [Harbour] Re: Harbour next major release wishlist
In-Reply-To: <6B6F473A-7BF1-4FD3-BF5C-E0F90DC27FF3@syenar.hu>
References: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
	<hguclu$dto$1@ger.gmane.org> <4B32BCC1.1020702@uol.com.br>
	<6B6F473A-7BF1-4FD3-BF5C-E0F90DC27FF3@syenar.hu>
Message-ID: <ed2be4be0912240204v5bdb1a70p2b42aaf439aad7de@mail.gmail.com>

On Wed, Dec 23, 2009 at 9:00 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

>
> In fact the overall goal is the opposite: Allow developers
> to create addons completely independently from Harbour
> code, yet make them easily manageable and pluggable
> for users. That's what I'd like to encourage 3rd party
> developers.
>

Good answer! There is no better goal. This is exactly what made Clipper so
great.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091224/aaf8a586/attachment-0001.html
From philb at philb.us  Thu Dec 24 05:30:24 2009
From: philb at philb.us (Phil Barnett)
Date: Thu Dec 24 05:30:30 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
Message-ID: <ed2be4be0912240230s69ebbaacs93815a7b7d1b1478@mail.gmail.com>

On Tue, Dec 22, 2009 at 5:07 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

>
> HOW TO GET
> ----------
>  From SVN:
>     svn export
> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/tags/harbour-2.0.0
>

After a successful compile and install on Fedora 12 64 bit, I found that I
had to add a conf file to /etc/ld.so.conf.d

echo "/usr/local/lib64/harbour" > /etc/ld.so.conf.d/harbour.conf'

and then run ldconfig

Thanks for everything, it's awewome!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091224/a037ed70/attachment.html
From philb at philb.us  Thu Dec 24 05:31:48 2009
From: philb at philb.us (Phil Barnett)
Date: Thu Dec 24 05:31:54 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <ed2be4be0912240230s69ebbaacs93815a7b7d1b1478@mail.gmail.com>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
	<ed2be4be0912240230s69ebbaacs93815a7b7d1b1478@mail.gmail.com>
Message-ID: <ed2be4be0912240231p6d1c707ci3ec9f4e67ba4d72f@mail.gmail.com>

On Thu, Dec 24, 2009 at 5:30 AM, Phil Barnett <philb@philb.us> wrote:

>
>
> On Tue, Dec 22, 2009 at 5:07 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:
>
>>
>> HOW TO GET
>> ----------
>>  From SVN:
>>     svn export
>> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/tags/harbour-2.0.0
>>
>
> After a successful compile and install on Fedora 12 64 bit, I found that I
> had to add a conf file to /etc/ld.so.conf.d
>
> echo "/usr/local/lib64/harbour" > /etc/ld.so.conf.d/harbour.conf'
>
> and then run ldconfig
>
> Thanks for everything, it's awewome!
>

Got so excited I can't even spell awesome!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091224/c794b410/attachment.html
From druzus at acn.waw.pl  Thu Dec 24 05:36:05 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec 24 05:36:13 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <20091224162335.2151.84A669A0@mail.zzz.com.tw>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
	<200912240753.35251.tomaz.zupan@orpo.si>
	<20091224162335.2151.84A669A0@mail.zzz.com.tw>
Message-ID: <20091224103605.GA400@linux-4bod.home.aster.pl>

On Thu, 24 Dec 2009, WenSheng wrote:

Hi,

> hbcdpreg.h file define have bug:

I do not see any bugs in this file.

>    static HB_CODEPAGE s_codePage =
>    {
>       HB_MACRO2STRING( HB_CP_ID ),
>       HB_CP_INFO,
>       HB_CP_UNITB,
>       s_flags,
>       s_upper,
>       s_lower,
>       s_sort,
>       NULL,
>       HB_CDP_ACSORT_NONE,
>       0,
>       0,
>       NULL,
>       NULL,
>       NULL,
>    };
> can't compiler use BCC551

It's expected behavior.
This file cannot be compiled as standalone header file.
Just like hbmsgreg.h and hbgtreg.h it can be used only
to define startup code in some modules.
What are you trying to do with this file?

best regards,
Przemek
From druzus at acn.waw.pl  Thu Dec 24 05:41:58 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec 24 05:42:05 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <ed2be4be0912240230s69ebbaacs93815a7b7d1b1478@mail.gmail.com>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
	<ed2be4be0912240230s69ebbaacs93815a7b7d1b1478@mail.gmail.com>
Message-ID: <20091224104158.GA20020@linux-4bod.home.aster.pl>

On Thu, 24 Dec 2009, Phil Barnett wrote:

Hi,

> After a successful compile and install on Fedora 12 64 bit, I found that I
> had to add a conf file to /etc/ld.so.conf.d
> echo "/usr/local/lib64/harbour" > /etc/ld.so.conf.d/harbour.conf'
> and then run ldconfig

If you create RPMs (mpkg_rpm.sh) then you can install them and use
Harbour without any modifications in LD directories.

BTW how you compiled and installed Harbour?

best regards,
Przemek
From mbelgrano at deltain.it  Thu Dec 24 06:33:10 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 24 06:33:38 2009
Subject: [Harbour] Mary Christmas With Harbour 2.0
Message-ID: <609353e70912240333r9fc9838icf26c25487609b8d@mail.gmail.com>

                  /_\/_\
         .=======\_\/_/=======.
         |        //\\\______ |
         |Harbour <http://sourceforge.net/projects/harbour-project/files/>//
 ||to you||
         |  2.0   |  |`""""""`|
         |        |  |        |
         |        |  |        |
         '===================='



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091224/3c19de97/attachment.html
From philb at philb.us  Thu Dec 24 07:57:25 2009
From: philb at philb.us (Phil Barnett)
Date: Thu Dec 24 07:57:33 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <20091224104158.GA20020@linux-4bod.home.aster.pl>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
	<ed2be4be0912240230s69ebbaacs93815a7b7d1b1478@mail.gmail.com>
	<20091224104158.GA20020@linux-4bod.home.aster.pl>
Message-ID: <1261659445.20477.1.camel@SunSpot>

On Thu, 2009-12-24 at 11:41 +0100, Przemys?aw Czerpak wrote:
> On Thu, 24 Dec 2009, Phil Barnett wrote:
> 
> Hi,
> 
> > After a successful compile and install on Fedora 12 64 bit, I found that I
> > had to add a conf file to /etc/ld.so.conf.d
> > echo "/usr/local/lib64/harbour" > /etc/ld.so.conf.d/harbour.conf'
> > and then run ldconfig
> 
> If you create RPMs (mpkg_rpm.sh) then you can install them and use
> Harbour without any modifications in LD directories.
> 
> BTW how you compiled and installed Harbour?


I checked out the repository with your supplied 2.0.0 link and did a
make install.

If I do the mpkg rpm.sh, will that create the RPM for Fedora 12/64 or
does it create a generic install?

I have Fedora 32 and 64 installed and running here.

From devlist.harbour at gmail.com  Thu Dec 24 08:26:56 2009
From: devlist.harbour at gmail.com (Patrick Mast)
Date: Thu Dec 24 08:27:04 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
Message-ID: <6c902cf90912240526x61223aa8w417872666de6866f@mail.gmail.com>

Congrats guys!

On Tue, Dec 22, 2009 at 11:07 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> Hi All,
>
> I'm glad to announce that after a very heavy 16 months
> of development, the final, stable version 2.0.0 is finally
> released.
>
> Thanks to everyone who took part of this huge work in
> any ways.
>
> I'd like to ask developers to create the binary builds,
> I will now start to create the 'unified' Windows release
> and .tgz, .bz2 source packages. They will be ready by
> tomorrow.
>
> Another remaining task is to make this announcement on
> various forums and update the web page and other places
> where needed.
>
> HOW TO GET
> ----------
> ?From SVN:
> ? ? svn export https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/tags/harbour-2.0.0
> ?From sf.net:
> ? ? http://sourceforge.net/projects/harbour-project/files/source/2.0.0/
>
> RELEASE NOTES
> -------------
> ?Please check RELNOTES file, this contains mostly generic release
> ?notes plus a few 'unified' binary release specific ones, overall
> ?it's a good brief list of the things changes since beta3, and it
> ?includes previous beta release notes as well. You may also want
> ?to check doc/whatsnew.txt which has a more details, but partial
> ?list of some past changes since 1.0.1.
>
> DEVELOPER NOTES
> ---------------
> ?The new 2.0.x branch has been created here:
> ? ? http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/branches/harbour-2.0/
>
> ?Development goes onwards in trunk, but we should mark patches in
> ?ChangeLog which should be eventually merged to 2.0.x branch with
> ?'[TOMERGE 2.0]' (without quotes).
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From devlist.harbour at gmail.com  Thu Dec 24 08:28:07 2009
From: devlist.harbour at gmail.com (Patrick Mast)
Date: Thu Dec 24 08:28:14 2009
Subject: [Harbour] Some changes on Harbour Web Page
In-Reply-To: <531d7a750912110334w5f1243dcnebba2da50077e767@mail.gmail.com>
References: <531d7a750912100756i7cdfbc5ax4f50b964ff8c2047@mail.gmail.com>
	<6c902cf90912110240y3f6a5b27ub483a67325203a75@mail.gmail.com>
	<860B140B-13FC-4926-99F3-AC4DE00F6BDF@syenar.hu>
	<6c902cf90912110255i2a9fcc62t57c0398f3449f7d3@mail.gmail.com>
	<609353e70912110327x3df08231p7b313af7d67fe5f6@mail.gmail.com>
	<531d7a750912110334w5f1243dcnebba2da50077e767@mail.gmail.com>
Message-ID: <6c902cf90912240528t6fc05546g1773bc766222faa7@mail.gmail.com>

Hey Vailton,

> In reality there were not "several times" but the truth is that it was
> "only once" ... and since then the site has not been updated. For this
> reason alone there is still no reference to your name there ... but
> for the next update must already be included. So much as I said at the
> beginning of this thread, I am preparing to change some details in the
> site ... then it was already to be included anyway.

Any news on this?
Thanks!

Patrick
From ssbbstw at pchome.com.tw  Thu Dec 24 08:59:10 2009
From: ssbbstw at pchome.com.tw (WenSheng)
Date: Thu Dec 24 08:59:21 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <20091224103605.GA400@linux-4bod.home.aster.pl>
References: <20091224162335.2151.84A669A0@mail.zzz.com.tw>
	<20091224103605.GA400@linux-4bod.home.aster.pl>
Message-ID: <20091224215346.1922.84A669A0@mail.zzz.com.tw>


> 
> > hbcdpreg.h file define have bug:
> 
> I do not see any bugs in this file.
> 
> >    static HB_CODEPAGE s_codePage =
> >    {
> >       HB_MACRO2STRING( HB_CP_ID ),
> >       HB_CP_INFO,
> >       HB_CP_UNITB,
> >       s_flags,
> >       s_upper,
> >       s_lower,
> >       s_sort,
> >       NULL,
> >       HB_CDP_ACSORT_NONE,
> >       0,
> >       0,
> >       NULL,
> >       NULL,
> >       NULL,
> >    };
> > can't compiler use BCC551
> 
> It's expected behavior.
> This file cannot be compiled as standalone header file.
> Just like hbmsgreg.h and hbgtreg.h it can be used only
> to define startup code in some modules.
> What are you trying to do with this file?

I'm use SVN to update harbour source code and clean, build harbour,
when I compiler to ./source/codepage/cpbg866.c and occur error message
like:
----------------------------
bcc32.exe   -I. -I../../../../../include -q -tWM -w -w-sig- -Q -d -6 -O2 -OS -Ov
 -Oi -Oc  -I"d:\bcc55\bin\..\Include"  -ocpbg866.obj -c ../../../cpbg866.c
../../../cpbg866.c:
Warning W8069 ../../../cpbg866.c 86: Nonportable pointer conversion
Warning W8079 ../../../cpbg866.c 87: Mixing pointers to different 'char' types
Warning W8079 ../../../cpbg866.c 88: Mixing pointers to different 'char' types
Error E2225 ../../../cpbg866.c 89: Too many initializers
Error E2141 ../../../cpbg866.c 89: Declaration syntax error
Error E2190 ../../../cpbg866.c 89: Unexpected }
Error E2190 ../../../cpbg866.c 89: Unexpected }
Warning W8065 ../../../cpbg866.c 91: Call to function 'hb_cdpRegister' with no p
rototype in function hb_codepage_Init_BG866
*** 4 errors in Compile ***
win-make[1]: *** [cpbg866.obj] Error 1
win-make: *** [descend] Error 2
----------------------------
at old harbour, I can modify 'cpbg866.c' and recompiler, all right,
but, now I can't to do this.

From druzus at acn.waw.pl  Thu Dec 24 09:47:57 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec 24 09:48:05 2009
Subject: [Harbour] Mary Christmas
Message-ID: <20091224144757.GA10152@linux-4bod.home.aster.pl>

Hi All,

I would like to wish all of you Mary Christmas !!!

best regards,
Przemek
From druzus at acn.waw.pl  Thu Dec 24 09:58:38 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec 24 09:58:46 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <20091224215346.1922.84A669A0@mail.zzz.com.tw>
References: <20091224162335.2151.84A669A0@mail.zzz.com.tw>
	<20091224103605.GA400@linux-4bod.home.aster.pl>
	<20091224215346.1922.84A669A0@mail.zzz.com.tw>
Message-ID: <20091224145838.GB10152@linux-4bod.home.aster.pl>

On Thu, 24 Dec 2009, WenSheng wrote:

Hi,

> I'm use SVN to update harbour source code and clean, build harbour,
> when I compiler to ./source/codepage/cpbg866.c and occur error message
> like:
> ----------------------------
> bcc32.exe   -I. -I../../../../../include -q -tWM -w -w-sig- -Q -d -6 -O2 -OS -Ov
>  -Oi -Oc  -I"d:\bcc55\bin\..\Include"  -ocpbg866.obj -c ../../../cpbg866.c
> ../../../cpbg866.c:
> Warning W8069 ../../../cpbg866.c 86: Nonportable pointer conversion
> Warning W8079 ../../../cpbg866.c 87: Mixing pointers to different 'char' types
> Warning W8079 ../../../cpbg866.c 88: Mixing pointers to different 'char' types
> Error E2225 ../../../cpbg866.c 89: Too many initializers
> Error E2141 ../../../cpbg866.c 89: Declaration syntax error
> Error E2190 ../../../cpbg866.c 89: Unexpected }
> Error E2190 ../../../cpbg866.c 89: Unexpected }
> Warning W8065 ../../../cpbg866.c 91: Call to function 'hb_cdpRegister' with no p
> rototype in function hb_codepage_Init_BG866
> *** 4 errors in Compile ***
> win-make[1]: *** [cpbg866.obj] Error 1
> win-make: *** [descend] Error 2
> ----------------------------
> at old harbour, I can modify 'cpbg866.c' and recompiler, all right,
> but, now I can't to do this.

You are not using clean SVN code. cpbg866.c has only 62 lines in SVN
and function hb_cdpRegister() is not longer used by Harbour.

You mixed old harbour code with current one or Harbour and xHarbour files.
BTW I would like to ask you to verify if you are using clean unmodified
SVN code before you report problems. We have very limited resources and
they are reduced when we have to verify such reports. In clean SVN tree
if you use:
   svn stat
then it should show nothing.

best regards,
Przemek
From maurilio.longo at libero.it  Thu Dec 24 10:01:19 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Dec 24 10:01:30 2009
Subject: [Harbour] Mary Christmas
In-Reply-To: <20091224144757.GA10152@linux-4bod.home.aster.pl>
References: <20091224144757.GA10152@linux-4bod.home.aster.pl>
Message-ID: <4B33823F.4080101@libero.it>

Hi Przemyslaw and all,

me too :)

Merry Christmas to you and your beloved ones.

Maurilio.


Przemys?aw Czerpak wrote:
> Hi All,
> 
> I would like to wish all of you Mary Christmas !!!
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From cvc at oohg.org  Thu Dec 24 10:20:56 2009
From: cvc at oohg.org (Ciro Vargas C)
Date: Thu Dec 24 10:21:05 2009
Subject: [Harbour] Gongratulations
Message-ID: <d6500b450912240720p70abbb3eod9f0a2cc8b156f5f@mail.gmail.com>

Hi all:

i'm very happy with this new version.

Congratulations to all community


Merry Christmas and a happy new year

best regards
Ciro


-- 
http://www.oohg.prg
http://sistemascvc.tripod.com

donaciones para CVC de ooHG

https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
From harbour.01 at syenar.hu  Thu Dec 24 10:34:52 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 24 10:35:00 2009
Subject: [Harbour] Gongratulations
In-Reply-To: <d6500b450912240720p70abbb3eod9f0a2cc8b156f5f@mail.gmail.com>
References: <d6500b450912240720p70abbb3eod9f0a2cc8b156f5f@mail.gmail.com>
Message-ID: <18d502870912240734s3505a132t38ebb028ab23f740@mail.gmail.com>

Merry Christmas to everyone.

2009/12/24, Ciro Vargas C <cvc@oohg.org>:
> Hi all:
>
> i'm very happy with this new version.
>
> Congratulations to all community
>
>
> Merry Christmas and a happy new year
>
> best regards
> Ciro
>
>
> --
> http://www.oohg.prg
> http://sistemascvc.tripod.com
>
> donaciones para CVC de ooHG
>
> https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From lostmyhearttoher at gmail.com  Thu Dec 24 10:42:52 2009
From: lostmyhearttoher at gmail.com (Lost)
Date: Thu Dec 24 10:42:59 2009
Subject: [Harbour] Mary Christmas
In-Reply-To: <20091224144757.GA10152@linux-4bod.home.aster.pl>
References: <20091224144757.GA10152@linux-4bod.home.aster.pl>
Message-ID: <402ac8b70912240742x7d0e8731kc0b802e6e39e28a0@mail.gmail.com>

On 2009/12/24, Przemys?aw Czerpak <druzus@acn.waw.pl> wrote:

> Hi All,
>
> I would like to wish all of you Mary Christmas !!!

Merry Christmas to all, and congrats for the great job!!!

> best regards,
> Przemek

Best wishes and regards,

-- 
Pablo S?nchez

Linux Registered User #417589
From Istvan.Bisz at t-online.hu  Thu Dec 24 11:21:12 2009
From: Istvan.Bisz at t-online.hu (=?UTF-8?Q?Bisz_Istv=C3=A1n?=)
Date: Thu Dec 24 11:21:20 2009
Subject: [Harbour] Mary Christmas
In-Reply-To: <20091224144757.GA10152@linux-4bod.home.aster.pl>
References: <20091224144757.GA10152@linux-4bod.home.aster.pl>
Message-ID: <000001ca84b5$1cb03f20$5610bd60$@Bisz@t-online.hu>

Merry Christmas to everyone and congratulations for the great job!

Best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Przemyslaw Czerpak
Sent: 2009. december 24. 15:48
To: Harbour Project Main Developer List.
Subject: [Harbour] Mary Christmas

Hi All,

I would like to wish all of you Mary Christmas !!!

best regards,
Przemek
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From wcshum88 at hotmail.com  Thu Dec 24 11:45:09 2009
From: wcshum88 at hotmail.com (Shum)
Date: Thu Dec 24 11:45:15 2009
Subject: [Harbour] Harbour next major release wishlist
In-Reply-To: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
References: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
Message-ID: <1261673109169-4213803.post@n2.nabble.com>


Hi All,

I hope Harbour + hbqt + hbxbp  can support (Traditional and Simpilifed)
Chinese Character 
ASAP .... the OEM Code page is 950  and 936 

Shum







Viktor Szak?ts wrote:
> 
> Hi All,
> 
> In the spirit of release enthusiasm it's now also 
> a good time to brainstorm a little on things which 
> we would like to make it into next major Harbour 
> release.
> 
> You're welcome to post your idea, whatever that is.
> 
> My list on the top of my head:
> 
> - Complete Unicode support
> - Type cleanup (planned)
> - GTNET
> - Oracle accessibility (sddora, hbora)
> - Dir layout scheme cleanup (planned)
> - Multi-OS binary distribution for WIN/DOS/OS2 world
> - Becoming a std Linux package
> - Ironing out HBQT remaining grey areas
>   (memory management, .prg level indestructibility, 
>   proper componentization)
> - HBBMCDX integrated into core.
> - XML support
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/Harbour-next-major-release-wishlist-tp4210572p4213803.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From bedipritpal at hotmail.com  Thu Dec 24 12:04:05 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 24 12:04:11 2009
Subject: [Harbour] Mary Christmas
In-Reply-To: <20091224144757.GA10152@linux-4bod.home.aster.pl>
References: <20091224144757.GA10152@linux-4bod.home.aster.pl>
Message-ID: <26915537.post@talk.nabble.com>


Hi


Przemys?aw Czerpak wrote:
> 
> I would like to wish all of you Mary Christmas !!!
> 

Thanks, and same to you too.
Everybody, accept Marry Chrismas.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/Mary-Christmas-tp26914585p26915537.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Thu Dec 24 12:33:40 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Dec 24 12:33:46 2009
Subject: [Harbour] Mary Christmas
In-Reply-To: <20091224144757.GA10152@linux-4bod.home.aster.pl>
References: <20091224144757.GA10152@linux-4bod.home.aster.pl>
Message-ID: <9257026e0912240933s22d36ea6r60b92dea2874d1e1@mail.gmail.com>

2009/12/24 Przemys?aw Czerpak <druzus@acn.waw.pl>:

> I would like to wish all of you Mary Christmas !!!

My best wishes to you and many thanks for your great work.

Merry Christmas to all.

best regards,
Lorenzo
From qiinfo at ig.com.br  Thu Dec 24 12:35:42 2009
From: qiinfo at ig.com.br (Rossine)
Date: Thu Dec 24 12:35:49 2009
Subject: [Harbour] Mary Christmas
In-Reply-To: <20091224144757.GA10152@linux-4bod.home.aster.pl>
References: <20091224144757.GA10152@linux-4bod.home.aster.pl>
Message-ID: <26915897.post@talk.nabble.com>


Hi all,

Merry Christmas to all families harbour :)

Thank you for this gift that is the harbour 2.0 :)

Best regards,

Rossine.

-- 
View this message in context: http://old.nabble.com/Mary-Christmas-tp26914585p26915897.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From philb at philb.us  Thu Dec 24 12:46:26 2009
From: philb at philb.us (Phil Barnett)
Date: Thu Dec 24 12:46:34 2009
Subject: [Harbour] Mary Christmas
In-Reply-To: <20091224144757.GA10152@linux-4bod.home.aster.pl>
References: <20091224144757.GA10152@linux-4bod.home.aster.pl>
Message-ID: <1261676786.20477.32.camel@SunSpot>

On Thu, 2009-12-24 at 15:47 +0100, Przemys?aw Czerpak wrote:
> Hi All,
> 
> I would like to wish all of you Mary Christmas !!!

Thank you and a very merry Christmas to you and your family and all
Harbour participants!

From bedipritpal at hotmail.com  Thu Dec 24 14:09:45 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 24 14:09:52 2009
Subject: [Harbour] Harbour next major release wishlist
In-Reply-To: <1261673109169-4213803.post@n2.nabble.com>
References: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
	<1261673109169-4213803.post@n2.nabble.com>
Message-ID: <26916490.post@talk.nabble.com>


Hi


ShumWC wrote:
> 
> I hope Harbour + hbqt + hbxbp  can support (Traditional and Simpilifed)
> Chinese Character 
> ASAP .... the OEM Code page is 950  and 936 
> 

Qt supports following codecs:

Apple Roman
Big5
Big5-HKSCS
CP949
EUC-JP
EUC-KR
GB18030-0
IBM 850
IBM 866
IBM 874
ISO 2022-JP
ISO 8859-1 to 10
ISO 8859-13 to 16
Iscii-Bng, Dev, Gjr, Knd, Mlm, Ori, Pnj, Tlg, and Tml
JIS X 0201
JIS X 0208
KOI8-R
KOI8-U
MuleLao-1
ROMAN8
Shift-JIS
TIS-620
TSCII
UTF-8
UTF-16
UTF-16BE
UTF-16LE
UTF-32
UTF-32BE
UTF-32LE
Windows-1250 to 1258
WINSAMI2

Let me know which is one you need.
Also tell me how can I check if it is working.
I mean some code example, and a string which 
I could view in hbide.

NOTE: I am not conversant with codepages, so 
I need steps to reproduce something belonging to 
code pages.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/Harbour-next-major-release-wishlist-tp26907413p26916490.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vouchcac at users.sourceforge.net  Thu Dec 24 19:07:59 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Dec 24 19:08:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13394] trunk/harbour
Message-ID: <E1NNxip-0004DP-3M@dn4whf1.ch3.sourceforge.com>

Revision: 13394
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13394&view=rev
Author:   vouchcac
Date:     2009-12-25 00:07:57 +0000 (Fri, 25 Dec 2009)

Log Message:
-----------
2009-12-24 15:56 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_destruct.cpp
    + Added prg callable function hbqt_setCodecForCStrings( cCodec ).
      This is base function to exploit codepages.

  * contrib/hbxbp/xbpdialog.prg
  * contrib/hbxbp/xbpwindow.prg
    ! Fixed a long standing bug which was preventing the mouse
      events to be submitted to parent widget.

  * contrib/hbxbp/xbpgeneric.prg
    + Added HbXbp_SetCodec( cCodec )
      This function takes as parameter the Qt's codec (codepage)
      name and set it for conversion of CStrings automatically.
      NOTE: This is an attempt to introduce CodePage concept in 
            HBQT but, because I am not conversant with codepage 
            terminology and usage, it is a shot in the dark.
            Please test. I will try to hook a menu option to 
            select a codec to hook into HBIDE.

  * contrib/hbide/resources/mainwindow.ui
  * contrib/hbide/idestylesheets.prg
  * contrib/hbide/hbide.prg
    + Implemented resizable docking widgets to hold <Projecs>, 
      <Editor Tabs>, <Functions List>, <Output Console>. 
      This has rendered HBIDE very flexible and expandable 
      with futuristic elements.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idestylesheets.prg
    trunk/harbour/contrib/hbide/resources/mainwindow.ui
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
    trunk/harbour/contrib/hbxbp/xbpdialog.prg
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Thu Dec 24 21:51:34 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Dec 24 21:51:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13395] trunk/harbour
Message-ID: <E1NO0H8-0006HV-UE@bj8yhf1.ch3.sourceforge.com>

Revision: 13395
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13395&view=rev
Author:   vouchcac
Date:     2009-12-25 02:51:33 +0000 (Fri, 25 Dec 2009)

Log Message:
-----------
2009-12-24 18:46 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
    + Provided <CodePage> menu option which sets the codec for
      current session. It is also provided a slot in the statusbar.

  * contrib/hbqt/generator/qt45.qtp
  * contrib/hbqt/hbqt.h
  * contrib/hbqt/hbqt_garbage.h
  * contrib/hbqt/qtcore/filelist.mk
  + contrib/hbqt/qtcore/QSettings.cpp
  + contrib/hbqt/qtcore/TQSettings.prg
  + contrib/hbqt/qth/QSettings.qth
    + Added QSettings() class.

  * contrib/hbxbp/xbpmenubar.prg
    ! Fixed an awkward bug.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbqt/generator/qt45.qtp
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_garbage.h
    trunk/harbour/contrib/hbqt/qtcore/filelist.mk
    trunk/harbour/contrib/hbxbp/xbpmenubar.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/qtcore/QSettings.cpp
    trunk/harbour/contrib/hbqt/qtcore/TQSettings.prg
    trunk/harbour/contrib/hbqt/qth/QSettings.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From wcshum88 at hotmail.com  Fri Dec 25 00:00:58 2009
From: wcshum88 at hotmail.com (Shum)
Date: Fri Dec 25 00:01:07 2009
Subject: [Harbour] Harbour next major release wishlist
In-Reply-To: <26916490.post@talk.nabble.com>
References: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
	<1261673109169-4213803.post@n2.nabble.com>
	<26916490.post@talk.nabble.com>
Message-ID: <1261717258549-4215340.post@n2.nabble.com>


Hi Pritpal Badi,

Many thanks for your reply !

OEM Code Page 950 is equal to  ( BIG5 and BIG5 HKSCS )  Traditional Chinese
Character;

OEM Code Page 936 is  equal to (GB18030-0) Simpilified Chinese Character

I will prepare some sample prg and and mail to you within ONE or TWO day 

Thanks inadvance !


Shum




Pritpal Bedi wrote:
> 
> 
> Hi
> 
> 
> ShumWC wrote:
>> 
>> I hope Harbour + hbqt + hbxbp  can support (Traditional and Simpilifed)
>> Chinese Character 
>> ASAP .... the OEM Code page is 950  and 936 
>> 
> 
> Qt supports following codecs:
> 
> Apple Roman
> Big5
> Big5-HKSCS
> CP949
> EUC-JP
> EUC-KR
> GB18030-0
> IBM 850
> IBM 866
> IBM 874
> ISO 2022-JP
> ISO 8859-1 to 10
> ISO 8859-13 to 16
> Iscii-Bng, Dev, Gjr, Knd, Mlm, Ori, Pnj, Tlg, and Tml
> JIS X 0201
> JIS X 0208
> KOI8-R
> KOI8-U
> MuleLao-1
> ROMAN8
> Shift-JIS
> TIS-620
> TSCII
> UTF-8
> UTF-16
> UTF-16BE
> UTF-16LE
> UTF-32
> UTF-32BE
> UTF-32LE
> Windows-1250 to 1258
> WINSAMI2
> 
> Let me know which is one you need.
> Also tell me how can I check if it is working.
> I mean some code example, and a string which 
> I could view in hbide.
> 
> NOTE: I am not conversant with codepages, so 
> I need steps to reproduce something belonging to 
> code pages.
> 
> Regards
> Pritpal Bedi
> 
> 
> -- 
> View this message in context:
> http://old.nabble.com/Harbour-next-major-release-wishlist-tp26907413p26916490.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/Harbour-next-major-release-wishlist-tp4210572p4215340.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From karweru at yahoo.com  Fri Dec 25 02:25:35 2009
From: karweru at yahoo.com (Gilbert Karweru)
Date: Fri Dec 25 02:25:42 2009
Subject: [Harbour] Harbour next major release wishlist
Message-ID: <539299.7550.qm@web112314.mail.gq1.yahoo.com>

Viktor, Przemek and the entire Harbour team,

Wish you a Merry Christmas & a very propsperous and blessed 2010. Many congratulations for this wonderful release.  In adding to the wishlist, I pray for the following; 

    - An RPC.
    - A review of dbcreate() so that when it is used with Netio, it is able to create a full directory path on the remote pc and not assuming the existance of the           directory path.

Again, congratulations for this release.

Gilbert.



      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091224/cf221e37/attachment.html
From ssbbstw at pchome.com.tw  Fri Dec 25 05:45:56 2009
From: ssbbstw at pchome.com.tw (WenSheng)
Date: Fri Dec 25 05:46:10 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <20091224145838.GB10152@linux-4bod.home.aster.pl>
References: <20091224215346.1922.84A669A0@mail.zzz.com.tw>
	<20091224145838.GB10152@linux-4bod.home.aster.pl>
Message-ID: <20091225184312.7A19.84A669A0@mail.zzz.com.tw>

Hi.

OK, Thank your suggest and I delete all svn and update all then build
harbour,
but I still get error message like this:
----------------------------------------
bcc32.exe   -I. -I../../../../../include -q -tWM -w -w-sig- -Q -d -6 -O2 -OS -Ov
 -Oi -Oc  -I"d:\bcc55\bin\..\Include"  -ocpbg866.obj -c ../../../cpbg866.c
../../../cpbg866.c:
Error E2380 ../../../../../include\hbcdpreg.h 84: Unterminated string or charact
er constant in function _hb_codepage_Init_
  + Full parser context
  + ../../../cpbg866.c, line 61: #include ../../../../../include\hbcdpreg.h
Error E2121 ../../../../../include\hbcdpreg.h 88: Function call missing ) in fun
ction _hb_codepage_Init_
  + Full parser context
  + ../../../cpbg866.c, line 61: #include ../../../../../include\hbcdpreg.h
*** 2 errors in Compile ***
win-make[3]: *** [cpbg866.obj] Error 1
win-make[2]: *** [descend] Error 2
win-make[1]: *** [codepage] Error 2
win-make: *** [src] Error 2
----------------------------------------

What happens? Is not what I am missing to set?


> > ----------------------------
> > at old harbour, I can modify 'cpbg866.c' and recompiler, all right,
> > but, now I can't to do this.
> 
> You are not using clean SVN code. cpbg866.c has only 62 lines in SVN
> and function hb_cdpRegister() is not longer used by Harbour.
> 
> You mixed old harbour code with current one or Harbour and xHarbour files.
> BTW I would like to ask you to verify if you are using clean unmodified
> SVN code before you report problems. We have very limited resources and
> they are reduced when we have to verify such reports. In clean SVN tree
> if you use:
>    svn stat
> then it should show nothing.
> 
> best regards,
> Przemek

From lumpemproletario666 at yahoo.com.ar  Fri Dec 25 07:18:50 2009
From: lumpemproletario666 at yahoo.com.ar (Dani)
Date: Fri Dec 25 07:18:59 2009
Subject: [Harbour] adordd not work in the new version?
Message-ID: <4B34ADAA.5080506@yahoo.com.ar>

adordd not work in the new version?
Regards

From carozodequilmes at gmail.com  Fri Dec 25 10:30:17 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Fri Dec 25 10:30:23 2009
Subject: [Harbour] Question about Harbour/MinGW
Message-ID: <578c73340912250730va08ac0ased326c2559c03333@mail.gmail.com>

Hi guys, sorry, I have an OFF TOPPIC question, when I try compile and
linkedit a lots of prg in incremental mode using a personal batch file
(without HBMK2), I receive the followed message from MinGW linkedit process
because the amount of object files to linkedit is big: *Fatal: Command
arguments too long*

Question: There is any way for implement in MinGW something like @list.CPL
of clipper ????

Sorry by my TARZAN english !!!

Thanks in advance

CdQ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091225/8dd6923e/attachment.html
From carozodequilmes at gmail.com  Fri Dec 25 10:53:17 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Fri Dec 25 10:53:24 2009
Subject: [Harbour] Closing Window in HbQt (Pritpal)
Message-ID: <578c73340912250753l78e35237uaa7258e54c1f3f5c@mail.gmail.com>

Hi Pritpal, which is the signal o event to capture when I press the close
button (in the superior right corner of window) in HbQt ???????

Sorry by my bad english

Thanks in advance

CdQ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091225/0fc0abfc/attachment.html
From bedipritpal at hotmail.com  Fri Dec 25 11:56:22 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 25 11:56:29 2009
Subject: [Harbour] Closing Window in HbQt (Pritpal)
In-Reply-To: <578c73340912250753l78e35237uaa7258e54c1f3f5c@mail.gmail.com>
References: <578c73340912250753l78e35237uaa7258e54c1f3f5c@mail.gmail.com>
Message-ID: <26922300.post@talk.nabble.com>


Hi


CarozoDeQuilmes wrote:
> 
> Hi Pritpal, which is the signal o event to capture when I press the close
> button (in the superior right corner of window) in HbQt ???????
> 

QEvent::Close.

This event requires some extra steps than other events.
You need to accept or reject it. Look into hbqt_events.cpp
and XbpWindow.prg for exact code how it can be implemented.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/Closing-Window-in-HbQt-%28Pritpal%29-tp26922024p26922300.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From carozodequilmes at gmail.com  Fri Dec 25 17:57:32 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Fri Dec 25 17:57:40 2009
Subject: [Harbour] Closing Window in HbQt (Pritpal)
In-Reply-To: <26922300.post@talk.nabble.com>
References: <578c73340912250753l78e35237uaa7258e54c1f3f5c@mail.gmail.com>
	<26922300.post@talk.nabble.com>
Message-ID: <578c73340912251457w464d771m670d09d8d4a01cbf@mail.gmail.com>

Many Thanks

CdQ

On Fri, Dec 25, 2009 at 1:56 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi
>
>
> CarozoDeQuilmes wrote:
> >
> > Hi Pritpal, which is the signal o event to capture when I press the close
> > button (in the superior right corner of window) in HbQt ???????
> >
>
> QEvent::Close.
>
> This event requires some extra steps than other events.
> You need to accept or reject it. Look into hbqt_events.cpp
> and XbpWindow.prg for exact code how it can be implemented.
>
> Regards
> Pritpal Bedi
>
>
> --
> View this message in context:
> http://old.nabble.com/Closing-Window-in-HbQt-%28Pritpal%29-tp26922024p26922300.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
QAC (I want something comfortable !!!) - Incremental Compilation with all
MiniGUIs versions
QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las
versiones de MiniGUI

Download: www.CarozoDeQuilmes.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091225/0131fdc5/attachment.html
From zen25000 at zen.co.uk  Fri Dec 25 18:07:24 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Fri Dec 25 18:07:32 2009
Subject: [Harbour] Mary Christmas
In-Reply-To: <20091224144757.GA10152@linux-4bod.home.aster.pl>
References: <20091224144757.GA10152@linux-4bod.home.aster.pl>
Message-ID: <4B3545AC.3030708@zen.co.uk>

On 24/12/09 14:47, Przemys?aw Czerpak wrote:
> Hi All,
>
> I would like to wish all of you Mary Christmas !!!
>
> best regards,
> Przemek

Thank you to you and all the developers for a wonderful new Harbour 2.0.

Merry Christmas and a Happy New Year to one and all!

Barry.

From vszakats at users.sourceforge.net  Sat Dec 26 06:18:27 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Dec 26 06:18:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13396] trunk/harbour
Message-ID: <E1NOUfD-0000XM-4n@3kljzd1.ch3.sourceforge.com>

Revision: 13396
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13396&view=rev
Author:   vszakats
Date:     2009-12-26 11:18:25 +0000 (Sat, 26 Dec 2009)

Log Message:
-----------
2009-12-26 12:17 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Added note that at least QT 4.5.0 is required for Harbour.
      [TOMERGE 2.0]

  * package/winuni/mpkg_win_uni_extra_copy.bat
    + Copying full source of hbide to Windows binary release.
    ; TODO: Probably it'd be better to move this tool to examples to
            avoid such exceptions.
      [TOMERGE 2.0]

  * package/winuni/RELNOTES
    + Added link to sf.net files.
    * Next Windows binary release to not include HBQT libs
      built against static QT libs.
      [TOMERGE 2.0]

  * contrib/hbwin/mapi.c
    ! Minor correction / optimization.
      [TOMERGE 2.0]

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbwin/mapi.c
    trunk/harbour/package/winuni/RELNOTES
    trunk/harbour/package/winuni/mpkg_win_uni_extra_copy.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Sat Dec 26 06:30:10 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Sat Dec 26 06:30:38 2009
Subject: Fwd: [Harbour] SF.net SVN: harbour-project:[13395] trunk/harbour
In-Reply-To: <531d7a750912260031i53506902v68c582026f2cd16c@mail.gmail.com>
References: <E1NO0H8-0006HV-UE@bj8yhf1.ch3.sourceforge.com> 
	<531d7a750912260031i53506902v68c582026f2cd16c@mail.gmail.com>
Message-ID: <531d7a750912260330m60b9d48bk354310ff0a39f3df@mail.gmail.com>

Hi Pritpal!

I did several tests with the latest version of hbide and I had a good
impression on the proposal of the tool. I got to make some changes to
the source I downloaded the SVN and I would send you to see if there
is something you can take.

In this version in my tests I finished all options in ?FILE and BUILD
menus and also added various validations, support of creation of new
files, compile PPO and so on.

I could not make a .diff to send to you, so I have uploaded all source
code to my FTP and I'm leaving to leaving for analysis, if the
amendments are consistent with their plans for the tool.

The link to download the version that is changed:
http://www.kssoftware.com.br/hbide.zip

I hope this can be useful.

Best Regards,
Vailton Renato
From rhfsystems at yahoo.com.br  Sat Dec 26 07:25:20 2009
From: rhfsystems at yahoo.com.br (Reynaldo Henrique)
Date: Sat Dec 26 07:25:27 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <9E32F1D0-60FC-4B30-9B46-9DC4D0980707@syenar.hu>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
	<4B32714B.6070907@gmail.com>
	<531d7a750912231152s11b7424frac23cd4a7f9bce97@mail.gmail.com>
	<609353e70912231429u50af233fre6c86b6bd6f0ce41@mail.gmail.com>
	<9E32F1D0-60FC-4B30-9B46-9DC4D0980707@syenar.hu>
Message-ID: <1261830320403-4217906.post@n2.nabble.com>



Hi Team,

Congratulations for the great and hard work and achievement attained through
it. congratulations to the great team of developers for this release that I
think is the best of all time. This is one of the best news of all time in
the history of Harbor.

Reynaldo Henrique


Viktor Szak?ts wrote:
> 
>> add hbqt , hbxbp,gtqtc, hbide (experimental stage)
>> remove apollo,rddado
>> at http://www.harbour-project.org/download_contrib.html
> 
> gtqtc is not an enabled contrib yet, since it 
> needs more work to be usable in practice.
> 
> I was thinking to move it inside hbqt.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/Harbour-2-0-0-Released-tp4206056p4217906.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From druzus at acn.waw.pl  Sat Dec 26 08:09:38 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Dec 26 08:09:46 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <1261659445.20477.1.camel@SunSpot>
References: <9C8850B0-A71E-4271-A846-7D91B1B98D4B@syenar.hu>
	<ed2be4be0912240230s69ebbaacs93815a7b7d1b1478@mail.gmail.com>
	<20091224104158.GA20020@linux-4bod.home.aster.pl>
	<1261659445.20477.1.camel@SunSpot>
Message-ID: <20091226130938.GA12390@linux-4bod.home.aster.pl>

On Thu, 24 Dec 2009, Phil Barnett wrote:

Hi,

> > > After a successful compile and install on Fedora 12 64 bit, I found that I
> > > had to add a conf file to /etc/ld.so.conf.d
> > > echo "/usr/local/lib64/harbour" > /etc/ld.so.conf.d/harbour.conf'
> > > and then run ldconfig

I'll add this to current SVN code. It should help in installations
which do not use system library directories.

> > If you create RPMs (mpkg_rpm.sh) then you can install them and use
> > Harbour without any modifications in LD directories.
> > BTW how you compiled and installed Harbour?
> I checked out the repository with your supplied 2.0.0 link and did a
> make install.
> If I do the mpkg rpm.sh, will that create the RPM for Fedora 12/64 or
> does it create a generic install?

For each system it creates native RPMs.
You do not need root privileges to create them. Just simply run
mpkg_rpm.sh from non root account and then look for binary RPMs
in ~/RPM/RPMS/<arch>/ directory.
It's much safer way and you can check what will be installed in
your system.

> I have Fedora 32 and 64 installed and running here.

We do not support cross build RPMs yet so you cannot create
RPMs for 32bit installation using 64bit system (at least in
easy way though it's possible if you make few tricks).
But of course you can create without any problems 32bit binary
RPMs using 32bit system and 64bit binaries on 64bit system.
You can also take harbour-*.src.rpm created for one of the above
systems in ~/RPM/SRPMS and on the second one only recompile it
using:
   rpmbuild -bb harbour-*.src.rpm

If you do not have have broken RPM macros inherited from connectiva
by few other RPM based distributions (i.e. mandriva) then you can
also use -t<a|b> rpmbuild option for pure harbour-*.tgz file containing
harbour SVN sources, i.e.
   rpmbuild -tb harbour-*.tgz

best regards,
Przemek
From druzus at acn.waw.pl  Sat Dec 26 08:12:10 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Dec 26 08:12:18 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <20091225184312.7A19.84A669A0@mail.zzz.com.tw>
References: <20091224215346.1922.84A669A0@mail.zzz.com.tw>
	<20091224145838.GB10152@linux-4bod.home.aster.pl>
	<20091225184312.7A19.84A669A0@mail.zzz.com.tw>
Message-ID: <20091226131210.GB12390@linux-4bod.home.aster.pl>

On Fri, 25 Dec 2009, WenSheng wrote:

Hi,

> OK, Thank your suggest and I delete all svn and update all then build
> harbour,
> but I still get error message like this:
> ----------------------------------------
> bcc32.exe   -I. -I../../../../../include -q -tWM -w -w-sig- -Q -d -6 -O2 -OS -Ov
>  -Oi -Oc  -I"d:\bcc55\bin\..\Include"  -ocpbg866.obj -c ../../../cpbg866.c
> ../../../cpbg866.c:
> Error E2380 ../../../../../include\hbcdpreg.h 84: Unterminated string or charact
> er constant in function _hb_codepage_Init_
>   + Full parser context
>   + ../../../cpbg866.c, line 61: #include ../../../../../include\hbcdpreg.h
> Error E2121 ../../../../../include\hbcdpreg.h 88: Function call missing ) in fun
> ction _hb_codepage_Init_
>   + Full parser context
>   + ../../../cpbg866.c, line 61: #include ../../../../../include\hbcdpreg.h
> *** 2 errors in Compile ***
> win-make[3]: *** [cpbg866.obj] Error 1
> win-make[2]: *** [descend] Error 2
> win-make[1]: *** [codepage] Error 2
> win-make: *** [src] Error 2
> ----------------------------------------
> What happens? Is not what I am missing to set?

I can only guess that you enabled in your BCC some option which
causes that it wrongly decodes strings with national characters.
In cpbg866.c[57,58] we have such strings. Try to find why this
option was enabled and disable it.

best regards,
Przemek
From druzus at users.sourceforge.net  Sat Dec 26 08:13:04 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Dec 26 08:13:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13397] trunk/harbour
Message-ID: <E1NOWS8-0001Yr-37@74yxhf1.ch3.sourceforge.com>

Revision: 13397
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13397&view=rev
Author:   druzus
Date:     2009-12-26 13:13:02 +0000 (Sat, 26 Dec 2009)

Log Message:
-----------
2009-12-26 14:12 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/Makefile
  * harbour/include/hbmath.h
  + harbour/include/hbmather.h
  * harbour/include/hbsetup.h
  * harbour/include/hbapi.h
    * moved math error handler definitions and settings separate header file
    * moved hb_random_num() declaration from hbmath.h to hbapi.h

    After above modification hbmath file should be use only by code which
    wants to use math functions declared usually in math.h

  + harbour/include/hbfloat.h
    + added header file with test macros for floating point numbers
      this file should be included before any other files

  * harbour/src/vm/hvmall.c
  * harbour/src/vm/itemapi.c
  * harbour/src/common/hbprintf.c
  * harbour/src/rtl/math.c
    * use new macros from hbfloat.h

  * harbour/src/rtl/math.c
    + include "hbmather.h"

  * harbour/src/rtl/hbrandom.c
  * harbour/src/rdd/dbf1.c
  * harbour/contrib/xhb/hboutdbg.c
    - removed not longer necessary include "hbmath.h"

  * harbour/contrib/hbct/ctmath.h
    - do not include <float.h> and <limits.h>

  * harbour/contrib/hbct/ct.h
    - do not include "hbmath.h" and "ctmath.h"

  * harbour/contrib/hbct/ctmath.c
  * harbour/contrib/hbct/exponent.c
  * harbour/contrib/hbct/ctc.c
    + include "ctmath.h"

  * harbour/contrib/hbct/trig.c
  * harbour/contrib/hbct/finan.c
  * harbour/contrib/hbct/ctmath2.c
    + include "ctmath.h"
    + include "hbmather.h"

  * harbour/contrib/hbct/num1.c
    + include "ctmath.h"
    + include <float.h>

  * harbour/include/hbinit.h
  * harbour/src/rtl/hbsocket.c
    * added patches from Tamas - thanks

  * harbour/bin/hb-func.sh
  * harbour/harbour.spec
    + create /etc/ld.so.conf.d/harbour.conf with Harbour shared lib directory
      if /etc/ld.so.conf.d directory exists and user has sufficient write
      permission or install package is created.
      This modification allows to install Harbour anywhere and in modern
      distros using /etc/ld.so.conf.d/ harbour shared libraries will be
      always available for all programs

   [TOMERGE 2.0]

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/contrib/hbct/ct.h
    trunk/harbour/contrib/hbct/ctc.c
    trunk/harbour/contrib/hbct/ctmath.c
    trunk/harbour/contrib/hbct/ctmath.h
    trunk/harbour/contrib/hbct/ctmath2.c
    trunk/harbour/contrib/hbct/exponent.c
    trunk/harbour/contrib/hbct/finan.c
    trunk/harbour/contrib/hbct/num1.c
    trunk/harbour/contrib/hbct/trig.c
    trunk/harbour/contrib/xhb/hboutdbg.c
    trunk/harbour/harbour.spec
    trunk/harbour/include/Makefile
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbinit.h
    trunk/harbour/include/hbmath.h
    trunk/harbour/include/hbsetup.h
    trunk/harbour/src/common/hbprintf.c
    trunk/harbour/src/rdd/dbf1.c
    trunk/harbour/src/rtl/hbrandom.c
    trunk/harbour/src/rtl/hbsocket.c
    trunk/harbour/src/rtl/math.c
    trunk/harbour/src/vm/hvmall.c
    trunk/harbour/src/vm/itemapi.c

Added Paths:
-----------
    trunk/harbour/include/hbfloat.h
    trunk/harbour/include/hbmather.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Sat Dec 26 09:08:20 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sat Dec 26 09:08:48 2009
Subject: [Harbour] Harbour 2.0.0 binaries for OS/2-eCS
Message-ID: <4B3618D4.3040802@mail.udg.mx>

Harbour 2.0.0 binaries files for OS/2-eComStation are available in Harbour
download page, as:

   harbour-2.0.0.bin-os2.watcom.zip
   harbour-2.0.0.bin-os2.gcc433.zip
   harbour-2.0.0.bin-os2.gcc335omf.zip
   harbour-2.0.0.bin-os2.gcc335aout.zip

David Macias

From bedipritpal at hotmail.com  Sat Dec 26 11:44:56 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Dec 26 11:45:02 2009
Subject: [Harbour] Fwd: SF.net SVN: harbour-project:[13395] trunk/harbour
In-Reply-To: <531d7a750912260330m60b9d48bk354310ff0a39f3df@mail.gmail.com>
References: <E1NO0H8-0006HV-UE@bj8yhf1.ch3.sourceforge.com>
	<531d7a750912260330m60b9d48bk354310ff0a39f3df@mail.gmail.com>
Message-ID: <26928237.post@talk.nabble.com>


Hi


Vailton Renato wrote:
> 
> I did several tests with the latest version of hbide and I had a good
> impression on the proposal of the tool. I got to make some changes to
> the source I downloaded the SVN and I would send you to see if there
> is something you can take.
> 
> In this version in my tests I finished all options in ?FILE and BUILD
> menus and also added various validations, support of creation of new
> files, compile PPO and so on.
> 
> I could not make a .diff to send to you, so I have uploaded all source
> code to my FTP and I'm leaving to leaving for analysis, if the
> amendments are consistent with their plans for the tool.
> 
> The link to download the version that is changed:
> http://www.kssoftware.com.br/hbide.zip
> 
> I hope this can be useful.
> 

Thank you very much for the updates.
I will look into the sources today and will post the results.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13395--trunk-harbour-tp26918687p26928237.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Dec 26 12:50:12 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Dec 26 12:50:28 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <20091225184312.7A19.84A669A0@mail.zzz.com.tw>
References: <20091224215346.1922.84A669A0@mail.zzz.com.tw>
	<20091224145838.GB10152@linux-4bod.home.aster.pl>
	<20091225184312.7A19.84A669A0@mail.zzz.com.tw>
Message-ID: <BF13ABAD-5492-4069-894B-F04460C30D52@syenar.hu>

Hi,

This has been answered earlier this year to the exact 
same question of yours:

-----------------------------------------------------------------
Begin forwarded message:

> From: Phil Krylov <phil@newstar.rinet.ru>
> Date: 2009 March 18 21:43:17 CET
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Subject: Re: [Harbour] compiler error
> Reply-To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> 
> Hi,
> 
> On Wed, Mar 18, 2009 at 6:15 PM, WenSheng <ssbbstw@yahoo.com> wrote:
>> 
>>> Thank you, so I understand this is the _only_ such error while building
>>> complete Harbour?
>> 
>> No!! is BCC5.
>> 
>>> 
>>> Can you make tests using MSVC or MinGW compiler? (both free)
>> 
>> I just test MinGW(gcc 4.3.3) and can compiler lang & codepage *.c
>> 
>> ps. don't ask me to change MingW from BCC55.
> 
> I'd try to enforce single-byte codepage in BCC by compiling with
> HB_USER_CFLAGS=-CP437
> Although docs say this only affects the preprocessor, I'd check it.
> 
> -- Ph.

-----------------------------------------------------------------

It's a BCC problem.

Maybe we should add this option as default for BCC, 
any objection to that?

Brgds,
Viktor

On 2009 Dec 25, at 11:45, WenSheng wrote:

> Hi.
> 
> OK, Thank your suggest and I delete all svn and update all then build
> harbour,
> but I still get error message like this:
> ----------------------------------------
> bcc32.exe   -I. -I../../../../../include -q -tWM -w -w-sig- -Q -d -6 -O2 -OS -Ov
> -Oi -Oc  -I"d:\bcc55\bin\..\Include"  -ocpbg866.obj -c ../../../cpbg866.c
> ../../../cpbg866.c:
> Error E2380 ../../../../../include\hbcdpreg.h 84: Unterminated string or charact
> er constant in function _hb_codepage_Init_
>  + Full parser context
>  + ../../../cpbg866.c, line 61: #include ../../../../../include\hbcdpreg.h
> Error E2121 ../../../../../include\hbcdpreg.h 88: Function call missing ) in fun
> ction _hb_codepage_Init_
>  + Full parser context
>  + ../../../cpbg866.c, line 61: #include ../../../../../include\hbcdpreg.h
> *** 2 errors in Compile ***
> win-make[3]: *** [cpbg866.obj] Error 1
> win-make[2]: *** [descend] Error 2
> win-make[1]: *** [codepage] Error 2
> win-make: *** [src] Error 2
> ----------------------------------------
> 
> What happens? Is not what I am missing to set?
> 
> 
>>> ----------------------------
>>> at old harbour, I can modify 'cpbg866.c' and recompiler, all right,
>>> but, now I can't to do this.
>> 
>> You are not using clean SVN code. cpbg866.c has only 62 lines in SVN
>> and function hb_cdpRegister() is not longer used by Harbour.
>> 
>> You mixed old harbour code with current one or Harbour and xHarbour files.
>> BTW I would like to ask you to verify if you are using clean unmodified
>> SVN code before you report problems. We have very limited resources and
>> they are reduced when we have to verify such reports. In clean SVN tree
>> if you use:
>>   svn stat
>> then it should show nothing.
>> 
>> best regards,
>> Przemek
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vouchcac at users.sourceforge.net  Sat Dec 26 18:05:07 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Dec 26 18:05:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13398] trunk/harbour
Message-ID: <E1NOfh5-0002Jd-8d@74yxhf1.ch3.sourceforge.com>

Revision: 13398
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13398&view=rev
Author:   vouchcac
Date:     2009-12-26 23:05:06 +0000 (Sat, 26 Dec 2009)

Log Message:
-----------
2009-12-26 14:56 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.ch
  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idemisc.prg
  * contrib/hbide/resources/projectproperties.ui
  + contrib/hbide/resources/selectproject.ui
    + Applied Vailton Renato's submitted patch with one or two fixes 
      and little formatting.

      This patch provides the missing functionalities which I did not 
      concentrated on yet. Many thanks. 

      This patch also implies that now HBIDE will reach to its final
      goal earlier than expected. Thanks Vailton, for your jumping 
      in the project.

      To Vailton: I was having a different concept for .ppo display
                  in non-modal independant widget having only one edit 
                  object. Can you change the current way of doing so.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.ch
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/resources/projectproperties.ui

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/selectproject.ui


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sat Dec 26 19:16:30 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Dec 26 19:16:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13395] trunk/harbour
In-Reply-To: <531d7a750912260330m60b9d48bk354310ff0a39f3df@mail.gmail.com>
References: <E1NO0H8-0006HV-UE@bj8yhf1.ch3.sourceforge.com> 
	<531d7a750912260031i53506902v68c582026f2cd16c@mail.gmail.com> 
	<531d7a750912260330m60b9d48bk354310ff0a39f3df@mail.gmail.com>
Message-ID: <609353e70912261616w6b85673dy5383cc39f9c2823e@mail.gmail.com>

Very thanks Renato

2009/12/26 Vailton Renato <vailtom@gmail.com>

> Hi Pritpal!
>
> I did several tests with the latest version of hbide and I had a good
> impression on the proposal of the tool. I got to make some changes to
> the source I downloaded the SVN and I would send you to see if there
> is something you can take.
>
> In this version in my tests I finished all options in  FILE and BUILD
> menus and also added various validations, support of creation of new
> files, compile PPO and so on.
>
> I could not make a .diff to send to you, so I have uploaded all source
> code to my FTP and I'm leaving to leaving for analysis, if the
> amendments are consistent with their plans for the tool.
>
> The link to download the version that is changed:
> http://www.kssoftware.com.br/hbide.zip
>
> I hope this can be useful.
>
> Best Regards,
> Vailton Renato
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091227/afe4ef8b/attachment.html
From wcshum88 at hotmail.com  Sun Dec 27 01:55:17 2009
From: wcshum88 at hotmail.com (Shum)
Date: Sun Dec 27 01:55:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11357] trunk/harbour
In-Reply-To: <E1MG7JV-00046q-OS@d5vjzd1.ch3.sourceforge.com>
References: <E1MG7JV-00046q-OS@d5vjzd1.ch3.sourceforge.com>
Message-ID: <1261896917149-4219884.post@n2.nabble.com>


Hi Pritpal Bedi,

Does hbxbp staick on top-bottom windows approach in screen coordinate system
?

Shum




vouchcac wrote:
> 
> Revision: 11357
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11357&view=rev
> Author:   vouchcac
> Date:     2009-06-15 08:13:08 +0000 (Mon, 15 Jun 2009)
> 
> Log Message:
> -----------
> 2009-06-15 00:57 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * harbour/contrib/hbxbp/Makefile
> 
>   * harbour/contrib/hbxbp/xbp.ch
> 
>   + harbour/contrib/hbxbp/xbp3state.prg
>   + harbour/contrib/hbxbp/xbpcheckbox.prg
>   + harbour/contrib/hbxbp/xbpdataref.prg
>   + harbour/contrib/hbxbp/xbplistbox.prg
>   + harbour/contrib/hbxbp/xbpradiobutton.prg
>   + harbour/contrib/hbxbp/xbpstatusbar.prg
>   + harbour/contrib/hbxbp/xbptabpage.prg
>   * harbour/contrib/hbxbp/xbpdialog.prg
>   * harbour/contrib/hbxbp/xbpwindow.prg
>     + Added classes:
>          Xbp3State()
>          XbpCheckBox()
>          XbpRadioButton()
>          XbpListBox()
>             XbpDataRef() - Used by data aware components as above.
>          XbpStatusBar() - Partial
>          XbpTabPage()
> 
>   * harbour/contrib/hbxbp/tests/demoxbp.prg
>     + Added implementation code of above classes.
> 
>     /*
>         demoXBP.prg implements 100% Xbase++ code pulled from its 
>         documentation. The only attributes changes are done either to
>         redefine the parent or window coordinates. Xbase++ ( as I know )
>         takes bottom-top approach in screen coordinate system, so 
>         demoXBP.prg compiled with Xbase++ shows objects in different
>         positions. Except for this and a couple of other compatibility
>         issues, Harbour offers more wider horizon. So, once base 
>         implementation is done, I may extend these classes to take 
>         advantage of QT's powerful design concepts.   
>     */
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/contrib/hbxbp/Makefile
>     trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
>     trunk/harbour/contrib/hbxbp/xbp.ch
>     trunk/harbour/contrib/hbxbp/xbpdialog.prg
>     trunk/harbour/contrib/hbxbp/xbpwindow.prg
> 
> Added Paths:
> -----------
>     trunk/harbour/contrib/hbxbp/xbp3state.prg
>     trunk/harbour/contrib/hbxbp/xbpcheckbox.prg
>     trunk/harbour/contrib/hbxbp/xbpdataref.prg
>     trunk/harbour/contrib/hbxbp/xbplistbox.prg
>     trunk/harbour/contrib/hbxbp/xbpradiobutton.prg
>     trunk/harbour/contrib/hbxbp/xbpstatusbar.prg
>     trunk/harbour/contrib/hbxbp/xbptabpage.prg
> 
> 
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-11357-trunk-harbour-tp3079068p4219884.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From ssbbstw at pchome.com.tw  Sun Dec 27 09:00:46 2009
From: ssbbstw at pchome.com.tw (WenSheng)
Date: Sun Dec 27 09:00:58 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <BF13ABAD-5492-4069-894B-F04460C30D52@syenar.hu>
References: <20091225184312.7A19.84A669A0@mail.zzz.com.tw>
	<BF13ABAD-5492-4069-894B-F04460C30D52@syenar.hu>
Message-ID: <20091227215554.5F08.84A669A0@mail.zzz.com.tw>


No!No!No!

The old code can be modified to solve the problem.
However, the new harbour could not follow a set pattern.

> Hi,
> 
> This has been answered earlier this year to the exact 
> same question of yours:
> 
> -----------------------------------------------------------------
> Begin forwarded message:
> 
> > From: Phil Krylov <phil@newstar.rinet.ru>
> > Date: 2009 March 18 21:43:17 CET
> > To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> > Subject: Re: [Harbour] compiler error
> > Reply-To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> > 
> > Hi,
> > 
> > On Wed, Mar 18, 2009 at 6:15 PM, WenSheng <ssbbstw@yahoo.com> wrote:
> >> 
> >>> Thank you, so I understand this is the _only_ such error while building
> >>> complete Harbour?
> >> 
> >> No!! is BCC5.
> >> 
> >>> 
> >>> Can you make tests using MSVC or MinGW compiler? (both free)
> >> 
> >> I just test MinGW(gcc 4.3.3) and can compiler lang & codepage *.c
> >> 
> >> ps. don't ask me to change MingW from BCC55.
> > 
> > I'd try to enforce single-byte codepage in BCC by compiling with
> > HB_USER_CFLAGS=-CP437
> > Although docs say this only affects the preprocessor, I'd check it.
> > 
> > -- Ph.
> 
> -----------------------------------------------------------------
> 
> It's a BCC problem.
> 
> Maybe we should add this option as default for BCC, 
> any objection to that?
> 
> Brgds,
> Viktor
> 
> On 2009 Dec 25, at 11:45, WenSheng wrote:
> 
> > Hi.
> > 
> > OK, Thank your suggest and I delete all svn and update all then build
> > harbour,
> > but I still get error message like this:
> > ----------------------------------------
> > bcc32.exe   -I. -I../../../../../include -q -tWM -w -w-sig- -Q -d -6 -O2 -OS -Ov
> > -Oi -Oc  -I"d:\bcc55\bin\..\Include"  -ocpbg866.obj -c ../../../cpbg866.c
> > ../../../cpbg866.c:
> > Error E2380 ../../../../../include\hbcdpreg.h 84: Unterminated string or charact
> > er constant in function _hb_codepage_Init_
> >  + Full parser context
> >  + ../../../cpbg866.c, line 61: #include ../../../../../include\hbcdpreg.h
> > Error E2121 ../../../../../include\hbcdpreg.h 88: Function call missing ) in fun
> > ction _hb_codepage_Init_
> >  + Full parser context
> >  + ../../../cpbg866.c, line 61: #include ../../../../../include\hbcdpreg.h
> > *** 2 errors in Compile ***
> > win-make[3]: *** [cpbg866.obj] Error 1
> > win-make[2]: *** [descend] Error 2
> > win-make[1]: *** [codepage] Error 2
> > win-make: *** [src] Error 2
> > ----------------------------------------
> > 
> > What happens? Is not what I am missing to set?
> > 
> > 
> >>> ----------------------------
> >>> at old harbour, I can modify 'cpbg866.c' and recompiler, all right,
> >>> but, now I can't to do this.
> >> 
> >> You are not using clean SVN code. cpbg866.c has only 62 lines in SVN
> >> and function hb_cdpRegister() is not longer used by Harbour.
> >> 
> >> You mixed old harbour code with current one or Harbour and xHarbour files.
> >> BTW I would like to ask you to verify if you are using clean unmodified
> >> SVN code before you report problems. We have very limited resources and
> >> they are reduced when we have to verify such reports. In clean SVN tree
> >> if you use:
> >>   svn stat
> >> then it should show nothing.
> >> 
> >> best regards,
> >> Przemek
> > 

From harbour.01 at syenar.hu  Sun Dec 27 09:12:43 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec 27 09:12:51 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <20091227215554.5F08.84A669A0@mail.zzz.com.tw>
References: <20091225184312.7A19.84A669A0@mail.zzz.com.tw>
	<BF13ABAD-5492-4069-894B-F04460C30D52@syenar.hu>
	<20091227215554.5F08.84A669A0@mail.zzz.com.tw>
Message-ID: <18d502870912270612l70c8cef1i3905e9b0cfda6f68@mail.gmail.com>

On Sun, Dec 27, 2009 at 3:00 PM, WenSheng <ssbbstw@pchome.com.tw> wrote:

>
> No!No!No!
>

What does that mean?

Did you try the -CP437 switch? With what results/outputs?


> The old code can be modified to solve the problem.
>
However, the new harbour could not follow a set pattern.
>

Before we modify a hundred files in SVN to fix your problem,
we should first understand what the real problem is and try
to find out the best solution. If you can help in that, great,
but silence or 'no!no!no' is not the best sort of help.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091227/b77d020b/attachment.html
From ssbbstw at pchome.com.tw  Sun Dec 27 09:46:54 2009
From: ssbbstw at pchome.com.tw (WenSheng)
Date: Sun Dec 27 09:47:02 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <18d502870912270612l70c8cef1i3905e9b0cfda6f68@mail.gmail.com>
References: <20091227215554.5F08.84A669A0@mail.zzz.com.tw>
	<18d502870912270612l70c8cef1i3905e9b0cfda6f68@mail.gmail.com>
Message-ID: <20091227224439.D7C1.84A669A0@mail.zzz.com.tw>

> >
> 
> What does that mean?
> 
> Did you try the -CP437 switch? With what results/outputs?

Sorry~~ I don't know how to config -CP437, can you teach me?


> > The old code can be modified to solve the problem.
> >
> However, the new harbour could not follow a set pattern.
> >
> 
> Before we modify a hundred files in SVN to fix your problem,
> we should first understand what the real problem is and try
> to find out the best solution. If you can help in that, great,
> but silence or 'no!no!no' is not the best sort of help.

Sorry my bad english, 
Please forgive me for being impolite.
From vailtom at gmail.com  Sun Dec 27 11:08:30 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Sun Dec 27 11:09:01 2009
Subject: [Harbour] Update URL in codestyl.txt needed...
Message-ID: <531d7a750912270808s106d7dcyf0538db662c4f17@mail.gmail.com>

Hi!

Please consider upgrading the file codestyl.txt changing the URL
http://www.tuxedo.org/~esr/jargon/html/entry/indent-style.html that
does not work, for one they think has the same relevance:
http://www.catb.org/~esr/jargon/html/I/indent-style.html

It is a pretty simple, but it helped me to better understand the
message after I read mentioned URL. Taking advantage, I should mention
that the information in this file are of great help, many thanks!

Best Regards,
Vailton Renato
From ibisz at users.sourceforge.net  Sun Dec 27 11:24:46 2009
From: ibisz at users.sourceforge.net (ibisz@users.sourceforge.net)
Date: Sun Dec 27 11:24:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13399]
	trunk/harbour/src/common/hbtrace.c
Message-ID: <E1NOvvC-0006Gw-2g@74yxhf1.ch3.sourceforge.com>

Revision: 13399
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13399&view=rev
Author:   ibisz
Date:     2009-12-27 16:24:45 +0000 (Sun, 27 Dec 2009)

Log Message:
-----------
2009-12-27 16:30 UTC+0100 Istvan Bisz (istvan.bisz/at/t-online.hu)
  * harbour/src/common/hbtrace.c
    * early va_end( ap ) elimination, to avoid access violation generation in a subsequent hb_vsnprintf
    * fix nested HB_TRACE calls handlig to avoid stack overflow events
    * normalized debug info sending to OutputDebugString with ending CR/LF/NUL to ensure a correct view in windbg.

Modified Paths:
--------------
    trunk/harbour/src/common/hbtrace.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ibisz at users.sourceforge.net  Sun Dec 27 11:33:50 2009
From: ibisz at users.sourceforge.net (ibisz@users.sourceforge.net)
Date: Sun Dec 27 11:33:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13400]
	trunk/harbour/ChangeLog
Message-ID: <E1NOw3y-0006Ps-N5@74yxhf1.ch3.sourceforge.com>

Revision: 13400
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13400&view=rev
Author:   ibisz
Date:     2009-12-27 16:33:49 +0000 (Sun, 27 Dec 2009)

Log Message:
-----------
The corresponding Changleog update to Rev 13399

Revision Links:
--------------
    http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13399&view=rev

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From joe_bernardes at yahoo.com.br  Sun Dec 27 12:47:24 2009
From: joe_bernardes at yahoo.com.br (JOEL - YAHOO)
Date: Sun Dec 27 12:47:31 2009
Subject: [Harbour] QT Library
Message-ID: <4B379DAC.2000505@yahoo.com.br>

Mrs.
Can please tell me what are the libraries to link with app?
(QT)
Regards
Joe Bernardes
__________________________________________________
Fa?a liga??es para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 

From mbelgrano at deltain.it  Sun Dec 27 13:12:40 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Dec 27 13:13:07 2009
Subject: [Harbour] QT Library
In-Reply-To: <4B379DAC.2000505@yahoo.com.br>
References: <4B379DAC.2000505@yahoo.com.br>
Message-ID: <609353e70912271012s286ecd7dgd0ad80606f7a5064@mail.gmail.com>

As you seen in C:\hb20\contrib\hbqt\test\hbmk.hbm


******************
libs=hbqt
libs=hbqtcore hbqtgui hbqtnetwork
{win}libs=version shlwapi
{allwin}libs=QtCore4 QtGui4 QtNetwork4 QtUiTools
{allwin}libs=psapi
{linux}libs=QtCore QtGui QtNetwork QtUiTools
{darwin}libs=/Library/Frameworks/QtCore.framework/QtCore
{darwin}libs=/Library/Frameworks/QtGui.framework/QtGui
{darwin}libs=/Library/Frameworks/QtNetwork.framework/QtNetwork
{darwin}libs=QtUiTools
{allgcc}libs=supc++

I suggest create hbmk.hbm  in your source directory with right path
Hbmk.hbm is used  for all files contained in this directory)
###################
# $Id: hbmk.hbm
c:\hb20\contrib\hbqt\hbqt.hbc

-w3 -es2
###################
2009/12/27 JOEL - YAHOO <joe_bernardes@yahoo.com.br>

> Mrs.
> Can please tell me what are the libraries to link with app?
> (QT)
> Regards
> Joe Bernardes
> __________________________________________________
>

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091227/9c0d6376/attachment.html
From harbour.01 at syenar.hu  Sun Dec 27 13:20:30 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec 27 13:20:48 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <20091227224439.D7C1.84A669A0@mail.zzz.com.tw>
References: <20091227215554.5F08.84A669A0@mail.zzz.com.tw>
	<18d502870912270612l70c8cef1i3905e9b0cfda6f68@mail.gmail.com>
	<20091227224439.D7C1.84A669A0@mail.zzz.com.tw>
Message-ID: <CBFF538F-B95E-45F8-8C89-13D2A366DE3B@syenar.hu>

Hi,

>> Did you try the -CP437 switch? With what results/outputs?
> 
> Sorry~~ I don't know how to config -CP437, can you teach me?

It was in the original mail from previous thread:
---
> I'd try to enforce single-byte codepage in BCC by compiling with
> HB_USER_CFLAGS=-CP437
> Although docs say this only affects the preprocessor, I'd check it.
> 
> -- Ph.

---

Just set above option using 'set HB_USER_CFLAGS=-CP437', 
and rebuild Harbour. Then pls report your results.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Dec 27 13:26:31 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec 27 13:26:48 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13399]
	trunk/harbour/src/common/hbtrace.c
In-Reply-To: <E1NOvvB-0006Gp-Vu@74yxhf1.ch3.sourceforge.com>
References: <E1NOvvB-0006Gp-Vu@74yxhf1.ch3.sourceforge.com>
Message-ID: <45E7BF10-320B-4E53-9133-4344A32ED936@syenar.hu>

Hi Istvan,

> +      /*
> +       *  sizeof( buffer2 ) - 3 is room for CR/LF/NUL
> +       */
>       if( proc )
> -         hb_snprintf( buffer2, sizeof( buffer2 ), "%s:%d:%s() %s %s",
> -                      file, line, proc, pszLevel, buffer1 );
> +         n = hb_snprintf( buffer2, sizeof( buffer2 ) - 3, "%s:%d:%s() %s %s",
> +                          file, line, proc, pszLevel, buffer1 );
>       else
> -         hb_snprintf( buffer2, sizeof( buffer2 ), "%s:%d: %s %s",
> -                      file, line, pszLevel, buffer1 );
> +         n = hb_snprintf( buffer2, sizeof( buffer2 ) - 3, "%s:%d: %s %s",
> +                          file, line, pszLevel, buffer1 );
> 
> +      /*
> +       *  Normalize buffer2 with ending CR/LF/NUL
> +       */
> +      p = buffer2;
> +      p += (n < 0) ? sizeof( buffer2 ) - 3 : n;
> +      while ( p > buffer2  &&  isspace( p[-1] ) )
> +      {
> +         *--p = '\0';
> +      }
> +      *p++ = '\r';
> +      *p++ = '\n';
> +      *p   = '\0';
> +

Maybe I'm missing something but isn't hb_snprintf() _always_ 
closing string with a zero? If not, we have serious security 
problems in hundreds of places in Harbour.

If this is the case, we should rather fix hb_snprintf(), 
than this one specific call of it.

Also, shouldn't \r \n simply added to printf mask string?

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Sun Dec 27 13:37:42 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sun Dec 27 13:37:49 2009
Subject: [Harbour] Re: SF.net SVN:
	harbour-project:[13399]	trunk/harbour/src/common/hbtrace.c
In-Reply-To: <45E7BF10-320B-4E53-9133-4344A32ED936@syenar.hu>
References: <E1NOvvB-0006Gp-Vu@74yxhf1.ch3.sourceforge.com>
	<45E7BF10-320B-4E53-9133-4344A32ED936@syenar.hu>
Message-ID: <000c01ca8723$ad304f70$0790ee50$@Bisz@t-online.hu>

Hi Viktor,

This solution strips the trailing isspace characters from the debug info and
inserts the necessary CR/LF for windbg, not more.
Maybe we can define here a lot of similar solutions for the same thing.

Best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
Sent: 2009. december 27. 19:27
To: Harbour Project Main Developer List.
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13399]
trunk/harbour/src/common/hbtrace.c

Hi Istvan,

> +      /*
> +       *  sizeof( buffer2 ) - 3 is room for CR/LF/NUL
> +       */
>       if( proc )
> -         hb_snprintf( buffer2, sizeof( buffer2 ), "%s:%d:%s() %s %s",
> -                      file, line, proc, pszLevel, buffer1 );
> +         n = hb_snprintf( buffer2, sizeof( buffer2 ) - 3, "%s:%d:%s() %s
%s",
> +                          file, line, proc, pszLevel, buffer1 );
>       else
> -         hb_snprintf( buffer2, sizeof( buffer2 ), "%s:%d: %s %s",
> -                      file, line, pszLevel, buffer1 );
> +         n = hb_snprintf( buffer2, sizeof( buffer2 ) - 3, "%s:%d: %s %s",
> +                          file, line, pszLevel, buffer1 );
> 
> +      /*
> +       *  Normalize buffer2 with ending CR/LF/NUL
> +       */
> +      p = buffer2;
> +      p += (n < 0) ? sizeof( buffer2 ) - 3 : n;
> +      while ( p > buffer2  &&  isspace( p[-1] ) )
> +      {
> +         *--p = '\0';
> +      }
> +      *p++ = '\r';
> +      *p++ = '\n';
> +      *p   = '\0';
> +

Maybe I'm missing something but isn't hb_snprintf() _always_ 
closing string with a zero? If not, we have serious security 
problems in hundreds of places in Harbour.

If this is the case, we should rather fix hb_snprintf(), 
than this one specific call of it.

Also, shouldn't \r \n simply added to printf mask string?

Brgds,
Viktor

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Sun Dec 27 14:15:05 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Dec 27 14:15:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11357] trunk/harbour
In-Reply-To: <E1MG7JV-00046q-OS@d5vjzd1.ch3.sourceforge.com>
References: <E1MG7JV-00046q-OS@d5vjzd1.ch3.sourceforge.com>
Message-ID: <609353e70912271115t18c08271uabd38827ed87c940@mail.gmail.com>

Follow my impression
in news project the required field project location in not to current dir
but c:/harbour/contrib/hbide/projects
workinkg folder, and destination folder give error first saving then give
default
File open,new not add to project element but only to editor
every times that i require to compile give me  Terminal windows like command
prompt

will have errorlist in output console line xmate?
i need  the ability to go to row(5) with an error like
 C:/harbour/contrib/hbide/test.prg(5) Error E0030 Syntax error "syntax error
at 'SS'"

find in file not implemented
comumn mode not implemented
-----multiproject area -
why use listbox of editor tabs and not directly tabs?
possible having a command line of hbide witth filename.hbi or filename.prg?
so hbide will be used for prg editor
why not allow multiple hbide instance?

why i see all project managed in project tabs
i try explain
i have created aaa and bbb and see Harbour-qt-ide,aaa,bbb and can't remove
(closedropproject not implemented)
How switch from a default project to another
hbide request me only one times select a prokect to make the current i must
rerun hbide

Thanks for hbide and sorry for repetition


2009/6/15 <vouchcac@users.sourceforge.net>

> Revision: 11357
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11357&view=rev
> Author:   vouchcac
> Date:     2009-06-15 08:13:08 +0000 (Mon, 15 Jun 2009)
>
> Log Message:
> -----------
> 2009-06-15 00:57 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * harbour/contrib/hbxbp/Makefile
>
>  * harbour/contrib/hbxbp/xbp.ch
>
>  + harbour/contrib/hbxbp/xbp3state.prg
>  + harbour/contrib/hbxbp/xbpcheckbox.prg
>  + harbour/contrib/hbxbp/xbpdataref.prg
>  + harbour/contrib/hbxbp/xbplistbox.prg
>  + harbour/contrib/hbxbp/xbpradiobutton.prg
>  + harbour/contrib/hbxbp/xbpstatusbar.prg
>  + harbour/contrib/hbxbp/xbptabpage.prg
>  * harbour/contrib/hbxbp/xbpdialog.prg
>  * harbour/contrib/hbxbp/xbpwindow.prg
>    + Added classes:
>         Xbp3State()
>         XbpCheckBox()
>         XbpRadioButton()
>         XbpListBox()
>            XbpDataRef() - Used by data aware components as above.
>         XbpStatusBar() - Partial
>         XbpTabPage()
>
>  * harbour/contrib/hbxbp/tests/demoxbp.prg
>    + Added implementation code of above classes.
>
>    /*
>        demoXBP.prg implements 100% Xbase++ code pulled from its
>        documentation. The only attributes changes are done either to
>        redefine the parent or window coordinates. Xbase++ ( as I know )
>        takes bottom-top approach in screen coordinate system, so
>        demoXBP.prg compiled with Xbase++ shows objects in different
>        positions. Except for this and a couple of other compatibility
>        issues, Harbour offers more wider horizon. So, once base
>        implementation is done, I may extend these classes to take
>        advantage of QT's powerful design concepts.
>    */
>
>
-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091227/097bd1e0/attachment.html
From joe_bernardes at yahoo.com.br  Sun Dec 27 14:47:52 2009
From: joe_bernardes at yahoo.com.br (JOEL - YAHOO)
Date: Sun Dec 27 14:48:10 2009
Subject: [Harbour] QT Library
In-Reply-To: <609353e70912271012s286ecd7dgd0ad80606f7a5064@mail.gmail.com>
References: <4B379DAC.2000505@yahoo.com.br>
	<609353e70912271012s286ecd7dgd0ad80606f7a5064@mail.gmail.com>
Message-ID: <4B37B9E8.2010801@yahoo.com.br>

Em 27/12/2009 16:12, Massimo Belgrano escreveu:
> As you seen in C:\hb20\contrib\hbqt\test\hbmk.hbm
>
>
> ******************
> libs=hbqt
> libs=hbqtcore hbqtgui hbqtnetwork
> {win}libs=version shlwapi
> {allwin}libs=QtCore4 QtGui4 QtNetwork4 QtUiTools
> {allwin}libs=psapi
> {linux}libs=QtCore QtGui QtNetwork QtUiTools
> {darwin}libs=/Library/Frameworks/QtCore.framework/QtCore
> {darwin}libs=/Library/Frameworks/QtGui.framework/QtGui
> {darwin}libs=/Library/Frameworks/QtNetwork.framework/QtNetwork
> {darwin}libs=QtUiTools
> {allgcc}libs=supc++
>
> I suggest create hbmk.hbm  in your source directory with right path
> Hbmk.hbm is used  for all files contained in this directory)
> ###################
> # $Id: hbmk.hbm
> c:\hb20\contrib\hbqt\hbqt.hbc
>
> -w3 -es2
> ###################
> 2009/12/27 JOEL - YAHOO <joe_bernardes@yahoo.com.br 
> <mailto:joe_bernardes@yahoo.com.br>>
>
>     Mrs.
>     Can please tell me what are the libraries to link with app?
>     (QT)
>     Regards
>     Joe Bernardes
>     __________________________________________________
>
>
> -- 
> Massimo Belgrano
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>    
OK,
Massimo Belgrano.
Many thanks.
Joe Bernardes


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091227/249a1056/attachment-0001.html
From jarabal at gmail.com  Sun Dec 27 15:20:49 2009
From: jarabal at gmail.com (Xavi)
Date: Sun Dec 27 15:21:55 2009
Subject: [Harbour] Re: SF.net
	SVN:	harbour-project:[13399]	trunk/harbour/src/common/hbtrace.c
In-Reply-To: <000c01ca8723$ad304f70$0790ee50$@Bisz@t-online.hu>
References: <E1NOvvB-0006Gp-Vu@74yxhf1.ch3.sourceforge.com>	<45E7BF10-320B-4E53-9133-4344A32ED936@syenar.hu>
	<000c01ca8723$ad304f70$0790ee50$@Bisz@t-online.hu>
Message-ID: <4B37C1A1.8050108@gmail.com>

Istv?n,

> .................................. and
> inserts the necessary CR/LF for windbg

AFAIK only need '\n', if you like to jump the line and with DebugView, OutputDebugString() always introduce a line/entry into 
the debugger displays for each call, ended or not with '\n'. If you insert '\n' in the middle of the string, this is divided 
into two lines/entries but you can not put two calls into the same line/entry. Now with your change this always happens.
Please check with the DebugView .-

http://technet.microsoft.com/es-es/sysinternals/bb896647%28en-us%29.aspx

IMO should be user of function who choose to do. In my case I prefer as it was before. :)

-- 
Xavi

El 27/12/2009 19:37, Bisz Istv?n escribi?:
> Hi Viktor,
>
> This solution strips the trailing isspace characters from the debug info and
> inserts the necessary CR/LF for windbg, not more.
> Maybe we can define here a lot of similar solutions for the same thing.
>
> Best regards,
> Istv?n
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
> Sent: 2009. december 27. 19:27
> To: Harbour Project Main Developer List.
> Subject: [Harbour] Re: SF.net SVN: harbour-project:[13399]
> trunk/harbour/src/common/hbtrace.c
>
> Hi Istvan,
>
>> +      /*
>> +       *  sizeof( buffer2 ) - 3 is room for CR/LF/NUL
>> +       */
>>        if( proc )
>> -         hb_snprintf( buffer2, sizeof( buffer2 ), "%s:%d:%s() %s %s",
>> -                      file, line, proc, pszLevel, buffer1 );
>> +         n = hb_snprintf( buffer2, sizeof( buffer2 ) - 3, "%s:%d:%s() %s
> %s",
>> +                          file, line, proc, pszLevel, buffer1 );
>>        else
>> -         hb_snprintf( buffer2, sizeof( buffer2 ), "%s:%d: %s %s",
>> -                      file, line, pszLevel, buffer1 );
>> +         n = hb_snprintf( buffer2, sizeof( buffer2 ) - 3, "%s:%d: %s %s",
>> +                          file, line, pszLevel, buffer1 );
>>
>> +      /*
>> +       *  Normalize buffer2 with ending CR/LF/NUL
>> +       */
>> +      p = buffer2;
>> +      p += (n<  0) ? sizeof( buffer2 ) - 3 : n;
>> +      while ( p>  buffer2&&   isspace( p[-1] ) )
>> +      {
>> +         *--p = '\0';
>> +      }
>> +      *p++ = '\r';
>> +      *p++ = '\n';
>> +      *p   = '\0';
>> +
>
> Maybe I'm missing something but isn't hb_snprintf() _always_
> closing string with a zero? If not, we have serious security
> problems in hundreds of places in Harbour.
>
> If this is the case, we should rather fix hb_snprintf(),
> than this one specific call of it.
>
> Also, shouldn't \r \n simply added to printf mask string?
>
> Brgds,
> Viktor
>
From harbour.01 at syenar.hu  Sun Dec 27 16:39:36 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Dec 27 16:39:48 2009
Subject: [Harbour] Re: SF.net SVN:
	harbour-project:[13399]	trunk/harbour/src/common/hbtrace.c
In-Reply-To: <000c01ca8723$ad304f70$0790ee50$@Bisz@t-online.hu>
References: <E1NOvvB-0006Gp-Vu@74yxhf1.ch3.sourceforge.com>
	<45E7BF10-320B-4E53-9133-4344A32ED936@syenar.hu>
	<000c01ca8723$ad304f70$0790ee50$@Bisz@t-online.hu>
Message-ID: <0428A561-BE24-47FA-BBBF-4D2AA784DCE8@syenar.hu>

Hi,

> Hi Viktor,
> 
> This solution strips the trailing isspace characters from the debug info and
> inserts the necessary CR/LF for windbg, not more.
> Maybe we can define here a lot of similar solutions for the same thing.

One problem with this is that it's now implemented as a 
Windows-only solution. (BTW I don't really understand why 
Windows debugging needs are _always_ different from any 
other platforms...). Overall I'm not sure this function 
should alter passed trace string in any ways.

Proper fix IMO is to change those trace calls which pass 
ending spaces. There is probably not too many of them.

As for the anti-reentrance logic, it probably needs to be 
changed to mutexes, as in ST I can't see any way it can be 
called in recursive fashion, and in MT current solution will 
just delay problems by causing lost trace messages.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Dec 27 16:46:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Dec 27 16:47:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13401] trunk/harbour
Message-ID: <E1NP0x0-0008Dq-TZ@dn4whf1.ch3.sourceforge.com>

Revision: 13401
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13401&view=rev
Author:   vszakats
Date:     2009-12-27 21:46:57 +0000 (Sun, 27 Dec 2009)

Log Message:
-----------
2009-12-27 22:44 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/common/hbtrace.c
    ! Formatting.
    ! Fixed to use HB_ISSPACE().
    ; NOTE/TOFIX: Anyhow I think last patch should be reverted to not manipulate
                  passed by user string before passing it to Windows.
                  Plus current anti-reentrancy logic should be changed to something
                  robust, as current solution drops trace messages which is a very
                  dangerous thing to do if we want to rely on trace output for
                  debugging. It's not clear what "stack overflow events" are.

  * doc/codestyl.txt
    ! Fixed link. Thanks Vailton.
      [TOMERGE 2.0]

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/codestyl.txt
    trunk/harbour/src/common/hbtrace.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sun Dec 27 17:04:32 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Dec 27 17:04:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11357] trunk/harbour
In-Reply-To: <1261896917149-4219884.post@n2.nabble.com>
References: <E1MG7JV-00046q-OS@d5vjzd1.ch3.sourceforge.com>
	<1261896917149-4219884.post@n2.nabble.com>
Message-ID: <26937616.post@talk.nabble.com>


Hi


ShumWC wrote:
> 
> Does hbxbp staick on top-bottom windows approach in screen coordinate
> system
> ?
> 

YES.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-11357--trunk-harbour-tp24030434p26937616.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From Istvan.Bisz at t-online.hu  Sun Dec 27 17:12:44 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sun Dec 27 17:12:51 2009
Subject: [Harbour] Re: SF.net
	SVN:	harbour-project:[13399]	trunk/harbour/src/common/hbtrace.c
In-Reply-To: <0428A561-BE24-47FA-BBBF-4D2AA784DCE8@syenar.hu>
References: <E1NOvvB-0006Gp-Vu@74yxhf1.ch3.sourceforge.com>	<45E7BF10-320B-4E53-9133-4344A32ED936@syenar.hu>	<000c01ca8723$ad304f70$0790ee50$@Bisz@t-online.hu>
	<0428A561-BE24-47FA-BBBF-4D2AA784DCE8@syenar.hu>
Message-ID: <000001ca8741$b7499fc0$25dcdf40$@Bisz@t-online.hu>

Hi Viktor,

> Overall I'm not sure this function should alter passed trace string in any
ways.
It can easily checked by reverting the change and trying to debug with
windbg, as I know the 'official' GUI debugger.

> As for the anti-reentrance logic, it probably needs to be 
> changed to mutexes, as in ST I can't see any way it can be 
> called in recursive fashion, and in MT current solution will 
> just delay problems by causing lost trace messages.
The original logic generates "stack overflow events" for example:
1. "   HB_TRACE( HB_TR_DEBUG, ( "          new_QApplication
%i B %i KB", ( int ) hb_xquery( 1001 ), hbqt_getmemused() ) );" 
If fm.c and QApplication.cpp is build with -DHB_TR_LEVEL_DEBUG.
2. If fm.c is requested with -DHB_TR_LEVEL_DEBUG. The HB_TCHAR_CONVTO macro
calls indirectly HB_TRACE, generating in this way the mentioned stack
overflow. Fortunately debugged with windbg.
3. Generally we should not call inside the HB_TRACE a call to itself.

Best regards,
Istv?n 

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
Sent: 2009. december 27. 22:40
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Re: SF.net SVN: harbour-project:[13399]
trunk/harbour/src/common/hbtrace.c

Hi,

> Hi Viktor,
> 
> This solution strips the trailing isspace characters from the debug info
and
> inserts the necessary CR/LF for windbg, not more.
> Maybe we can define here a lot of similar solutions for the same thing.

One problem with this is that it's now implemented as a 
Windows-only solution. (BTW I don't really understand why 
Windows debugging needs are _always_ different from any 
other platforms...). Overall I'm not sure this function 
should alter passed trace string in any ways.

Proper fix IMO is to change those trace calls which pass 
ending spaces. There is probably not too many of them.

As for the anti-reentrance logic, it probably needs to be 
changed to mutexes, as in ST I can't see any way it can be 
called in recursive fashion, and in MT current solution will 
just delay problems by causing lost trace messages.

Brgds,
Viktor

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Sun Dec 27 17:25:18 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Dec 27 17:25:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11357] trunk/harbour
In-Reply-To: <609353e70912271115t18c08271uabd38827ed87c940@mail.gmail.com>
References: <E1MG7JV-00046q-OS@d5vjzd1.ch3.sourceforge.com>
	<609353e70912271115t18c08271uabd38827ed87c940@mail.gmail.com>
Message-ID: <26937740.post@talk.nabble.com>


Hello Massimo

First, you posted this message in reference to irrelevant thread.
And hence a lot of us may loose the context in the future.
Can you start a new thread with clear-cut subject line ?

The thread you replied to pertains to HBXBP, not HBIDE.


Massimo Belgrano-3 wrote:
> 
> Follow my impression
> 

Sure.



> in news project the required field project location in not to current dir
> but c:/harbour/contrib/hbide/projects
> 

No, the default is the hb_dirBase + "projects".
So whereever HBIDE.exe will reside, default is presented as sub-folder 
"project" of residing folder.



> workinkg folder, and destination folder give error first saving then give
> default
> 

I did not test, Vailton?



> File open,new not add to project element but only to editor
> 

Please try to understand the overall concept of HBIDE.
Project Management and Editing are two separate entities.
I have kept this design persistent to clips on my drawing-board.
HBIDE is not exact replica of xMate though it will emulated 
xMate's functionality.



> every times that i require to compile give me  Terminal windows like
> command
> prompt
> 

I are working on it. But if you try (Qt) option then you will 
not encounter black window. In some commit next week it will be fixed
though.



> will have errorlist in output console line xmate?
> i need  the ability to go to row(5) with an error like
>  C:/harbour/contrib/hbide/test.prg(5) Error E0030 Syntax error "syntax
> error
> at 'SS'"
> 

We will have it and is on my TODO list.



> find in file not implemented
> comumn mode not implemented
> 

Rome was not built in a day!



> -----multiproject area -
> why use listbox of editor tabs and not directly tabs?
> 

Again you cannot see the bigger picture of HBIDE.
Ok, if you open 20 .prgs in a session, what you do to 
reach to a tab at the right-most? In xMate, you click right-arrow 
button on the right of tab-bar many times to reach there and again
when you want to edit first tab?

In my personal experience, I found this functionality of xMate very
annoying.

<quite>
possible having a command line of hbide witth filename.hbi or filename.prg?
so hbide will be used for prg editor
</quite>

No, HBIDE will stick to only one parameter, the location of hbide.ini
which in turn can have n number of possibilities.



> why not allow multiple hbide instance?
> 

What stops you to open multiple instances ?



> why i see all project managed in project tabs
> i try explain
> i have created aaa and bbb and see Harbour-qt-ide,aaa,bbb and can't remove
> (closedropproject not implemented)
> 

This is the fundamental design decision.
When we say IDE ( Integrated Development Environment ), we 
are talking about - _Open Once Accomplish Everything_.



> How switch from a default project to another
> hbide request me only one times select a prokect to make the current i
> must
> rerun hbide
> 

Right-click on any project in <Projects Tree> and select <Set as Default>.
That's it. You will see the project name in the title-bar as well as in
status-bar.


Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-11357--trunk-harbour-tp24030434p26937740.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sun Dec 27 18:16:24 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Dec 27 18:16:41 2009
Subject: [Harbour] Re: SF.net
	SVN:	harbour-project:[13399]	trunk/harbour/src/common/hbtrace.c
In-Reply-To: <000001ca8741$b7499fc0$25dcdf40$@Bisz@t-online.hu>
References: <E1NOvvB-0006Gp-Vu@74yxhf1.ch3.sourceforge.com>	<45E7BF10-320B-4E53-9133-4344A32ED936@syenar.hu>	<000c01ca8723$ad304f70$0790ee50$@Bisz@t-online.hu>
	<0428A561-BE24-47FA-BBBF-4D2AA784DCE8@syenar.hu>
	<000001ca8741$b7499fc0$25dcdf40$@Bisz@t-online.hu>
Message-ID: <1C19FB7F-24D2-4DF0-AFA4-B7F2E10EDE42@syenar.hu>

Hi Istvan,

>> Overall I'm not sure this function should alter passed trace string in any
> ways.
> It can easily checked by reverting the change and trying to debug with
> windbg, as I know the 'official' GUI debugger.

I'd appreciate if you could describe it, as I don't have such 
official debugger on my system, I used DbgView() for tests.

If extra line ending (/r or /n or both) is required for windbg, 
it's easy to add it to printf() calls, although I'm still not 
sure why ending space trimming is required, or in which calls 
does this exactly causes problems.

>> As for the anti-reentrance logic, it probably needs to be 
>> changed to mutexes, as in ST I can't see any way it can be 
>> called in recursive fashion, and in MT current solution will 
>> just delay problems by causing lost trace messages.
> The original logic generates "stack overflow events" for example:
> 1. "   HB_TRACE( HB_TR_DEBUG, ( "          new_QApplication
> %i B %i KB", ( int ) hb_xquery( 1001 ), hbqt_getmemused() ) );" 
> If fm.c and QApplication.cpp is build with -DHB_TR_LEVEL_DEBUG.
> 2. If fm.c is requested with -DHB_TR_LEVEL_DEBUG. The HB_TCHAR_CONVTO macro
> calls indirectly HB_TRACE, generating in this way the mentioned stack
> overflow. Fortunately debugged with windbg.
> 3. Generally we should not call inside the HB_TRACE a call to itself.

You're right, now it's clear. In this case the solution is to replace 
HB_TCHAR_* macros with something native. I'll try to do it.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Sun Dec 27 18:43:12 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sun Dec 27 18:43:25 2009
Subject: [Harbour] Re:
	SF.net	SVN:	harbour-project:[13399]	trunk/harbour/src/common/hbtrace.c
In-Reply-To: <1C19FB7F-24D2-4DF0-AFA4-B7F2E10EDE42@syenar.hu>
References: <E1NOvvB-0006Gp-Vu@74yxhf1.ch3.sourceforge.com>	<45E7BF10-320B-4E53-9133-4344A32ED936@syenar.hu>	<000c01ca8723$ad304f70$0790ee50$@Bisz@t-online.hu>	<0428A561-BE24-47FA-BBBF-4D2AA784DCE8@syenar.hu>	<000001ca8741$b7499fc0$25dcdf40$@Bisz@t-online.hu>
	<1C19FB7F-24D2-4DF0-AFA4-B7F2E10EDE42@syenar.hu>
Message-ID: <000101ca874e$5a21bdc0$0e653940$@Bisz@t-online.hu>

Hi Viktor,

> I'd appreciate if you could describe it, as I don't have such 
> official debugger on my system, I used DbgView() for tests.

The windbg in a component of "Microsoft Windows SDK for Windows 7 and .NET
Framework 3.5 SP1" / "Debugging tools for Windows".
Dbgview is just a very useful viewer. I tested it and I cannot see any
differences comparing with the previous solution without CR/LF insertion.
If it is necessary we can generate here a flexible solution with and without
CR/LF, selectable by the existing HB_TR_WINOUT envvar. 

> If extra line ending (/r or /n or both) is required for windbg, 
> it's easy to add it to printf() calls, although I'm still not 
> sure why ending space trimming is required, or in which calls 
> does this exactly causes problems.

An any optimized solution is welcome, with the original solution the debug
messages are shown without line-feeds.

> You're right, now it's clear. In this case the solution is to replace 
> HB_TCHAR_* macros with something native. I'll try to do it.

We need here a general solution taking into consideration the all possible
situations when HB_TRACE is called indirectly in HB_TRACE.

Best regards,
Istv?n


From vailtom at gmail.com  Sun Dec 27 18:43:42 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Sun Dec 27 18:44:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11357] trunk/harbour
In-Reply-To: <26937740.post@talk.nabble.com>
References: <E1MG7JV-00046q-OS@d5vjzd1.ch3.sourceforge.com> 
	<609353e70912271115t18c08271uabd38827ed87c940@mail.gmail.com> 
	<26937740.post@talk.nabble.com>
Message-ID: <531d7a750912271543r46dd636eod80dd2f5a4e9aa94@mail.gmail.com>

Hi!

>> workinkg folder, and destination folder give error first saving then give
>> default
>>
>
> I did not test, Vailton?

I had put an alert there, just to warn you when a directory does not
exist or user forget to fill the field. I think if the User forget to
fill, we can ignore the error msg and I assume the default value.

Building on this, I am outlining some details about the menus,
shortcuts and icons... I would like to submit a new draft soon.

Brgds,
Vailton Renato
From jarabal at gmail.com  Sun Dec 27 19:18:04 2009
From: jarabal at gmail.com (Xavi)
Date: Sun Dec 27 19:19:12 2009
Subject: [Harbour]
	Re:	SF.net	SVN:	harbour-project:[13399]	trunk/harbour/src/common/hbtrace.c
In-Reply-To: <000101ca874e$5a21bdc0$0e653940$@Bisz@t-online.hu>
References: <E1NOvvB-0006Gp-Vu@74yxhf1.ch3.sourceforge.com>	<45E7BF10-320B-4E53-9133-4344A32ED936@syenar.hu>	<000c01ca8723$ad304f70$0790ee50$@Bisz@t-online.hu>	<0428A561-BE24-47FA-BBBF-4D2AA784DCE8@syenar.hu>	<000001ca8741$b7499fc0$25dcdf40$@Bisz@t-online.hu>	<1C19FB7F-24D2-4DF0-AFA4-B7F2E10EDE42@syenar.hu>
	<000101ca874e$5a21bdc0$0e653940$@Bisz@t-online.hu>
Message-ID: <4B37F93C.7000307@gmail.com>

El 27/12/2009 23:12, Bisz Istv?n escribi?:
> 2. If fm.c is requested with -DHB_TR_LEVEL_DEBUG. The HB_TCHAR_CONVTO macro
> calls indirectly HB_TRACE, generating in this way the mentioned stack
> overflow. Fortunately debugged with windbg.

Sorry but ... What this issue has to do with this code?
...
       /*
        *  Normalize buffer2 with ending CR/LF/NUL
        */
       p = buffer2;
       p += (n < 0) ? sizeof( buffer2 ) - 3 : n;
       while ( p > buffer2  &&  isspace( p[-1] ) )
       {
          *--p = '\0';
       }
       *p++ = '\r';
       *p++ = '\n';
       *p   = '\0';
...

> If it is necessary we can generate here a flexible solution with and without
> CR/LF, selectable by the existing HB_TR_WINOUT envvar.

Please, to which I can understand and sorry for my bad English.
Do you saying that windbg generate issue because the string does not end with CR/LF.

TIA,
-- 
Xavi

El 28/12/2009 0:43, Bisz Istv?n escribi?:
> Hi Viktor,
>
>> I'd appreciate if you could describe it, as I don't have such
>> official debugger on my system, I used DbgView() for tests.
>
> The windbg in a component of "Microsoft Windows SDK for Windows 7 and .NET
> Framework 3.5 SP1" / "Debugging tools for Windows".
> Dbgview is just a very useful viewer. I tested it and I cannot see any
> differences comparing with the previous solution without CR/LF insertion.
> If it is necessary we can generate here a flexible solution with and without
> CR/LF, selectable by the existing HB_TR_WINOUT envvar.
>
>> If extra line ending (/r or /n or both) is required for windbg,
>> it's easy to add it to printf() calls, although I'm still not
>> sure why ending space trimming is required, or in which calls
>> does this exactly causes problems.
>
> An any optimized solution is welcome, with the original solution the debug
> messages are shown without line-feeds.
>
>> You're right, now it's clear. In this case the solution is to replace
>> HB_TCHAR_* macros with something native. I'll try to do it.
>
> We need here a general solution taking into consideration the all possible
> situations when HB_TRACE is called indirectly in HB_TRACE.
>
> Best regards,
> Istv?n
>
From bedipritpal at hotmail.com  Sun Dec 27 19:37:01 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Dec 27 19:37:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11357] trunk/harbour
In-Reply-To: <531d7a750912271543r46dd636eod80dd2f5a4e9aa94@mail.gmail.com>
References: <E1MG7JV-00046q-OS@d5vjzd1.ch3.sourceforge.com>
	<609353e70912271115t18c08271uabd38827ed87c940@mail.gmail.com>
	<26937740.post@talk.nabble.com>
	<531d7a750912271543r46dd636eod80dd2f5a4e9aa94@mail.gmail.com>
Message-ID: <26938561.post@talk.nabble.com>


Hi


Vailton Renato wrote:
> 
> I had put an alert there, just to warn you when a directory does not
> exist or user forget to fill the field. I think if the User forget to
> fill, we can ignore the error msg and I assume the default value.
> 
> Building on this, I am outlining some details about the menus,
> shortcuts and icons... I would like to submit a new draft soon.
> 

Good. 
Till then I defer any development on HBIDE.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-11357--trunk-harbour-tp24030434p26938561.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Sun Dec 27 20:04:25 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Dec 27 20:04:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13402] trunk/harbour
Message-ID: <E1NP425-0002vh-Ob@bj8yhf1.ch3.sourceforge.com>

Revision: 13402
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13402&view=rev
Author:   vszakats
Date:     2009-12-28 01:04:24 +0000 (Mon, 28 Dec 2009)

Log Message:
-----------
2009-12-28 01:56 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/common/hbtrace.c
    ! Fixed to not call hb_xgrab() via HB_TRACE_CONVTO() causing
      infinite recursion into trace engine. This replaces previously
      committed trick to avoid the same thing in a generic manner.
      It was a bug in previous Windows-support addition, which is now fixed.
    * Adding \r\n for OutputDebugString() text to make WinDbg display
      look readable, this time by simply extending printf() mask.
    - Deleted space trimming from OutputDebugString() passed text.
      Such issues should be fixed in high level code, it's not trace
      engine's job to make cosmetic corrections on trace text content.
    ; Tested with both WinDbg and DbgView.
      [TOMERGE 2.0]

    ; TOFIX:
         va_end() has been commented for all platforms, although
         it's required by all documentation I could verify.
         If this causes problems for specific platforms/compilers,
         we should only add this hack for those targets, and only
         when HB_TR_WINOUT is enabled.
         Now every non-Windows and Windows non-HB_TR_WINOUT
         setups are not complying with CRTL documentation.
         Could someone help here?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/common/hbtrace.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Dec 27 20:23:48 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Dec 27 20:23:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13402] trunk/harbour
In-Reply-To: <E1NP425-0002vh-Ob@bj8yhf1.ch3.sourceforge.com>
References: <E1NP425-0002vh-Ob@bj8yhf1.ch3.sourceforge.com>
Message-ID: <18d502870912271723o466f6c32w9b272eda9b0094c7@mail.gmail.com>

Just realized that also hb_[v]snprintf() is calling hb_xgrab()
internally, but I can't say if it's actually called when processing
mask present in hbtrace code.

Maybe it's better to restore disabler-hack? (in this case though
probably a less global solution is enough around hb_[v]snprintf()
calls.

Pls advise. (also check va_end() issue)

Brgds,
Viktor

On Mon, Dec 28, 2009 at 2:04 AM, <vszakats@users.sourceforge.net> wrote:

> Revision: 13402
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13402&view=rev
> Author:   vszakats
> Date:     2009-12-28 01:04:24 +0000 (Mon, 28 Dec 2009)
>
> Log Message:
> -----------
> 2009-12-28 01:56 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * src/common/hbtrace.c
>    ! Fixed to not call hb_xgrab() via HB_TRACE_CONVTO() causing
>      infinite recursion into trace engine. This replaces previously
>      committed trick to avoid the same thing in a generic manner.
>      It was a bug in previous Windows-support addition, which is now fixed.
>    * Adding \r\n for OutputDebugString() text to make WinDbg display
>      look readable, this time by simply extending printf() mask.
>    - Deleted space trimming from OutputDebugString() passed text.
>      Such issues should be fixed in high level code, it's not trace
>      engine's job to make cosmetic corrections on trace text content.
>    ; Tested with both WinDbg and DbgView.
>      [TOMERGE 2.0]
>
>    ; TOFIX:
>         va_end() has been commented for all platforms, although
>         it's required by all documentation I could verify.
>         If this causes problems for specific platforms/compilers,
>         we should only add this hack for those targets, and only
>         when HB_TR_WINOUT is enabled.
>         Now every non-Windows and Windows non-HB_TR_WINOUT
>         setups are not complying with CRTL documentation.
>         Could someone help here?
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/src/common/hbtrace.c
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091228/b2c5d01d/attachment.html
From jarabal at gmail.com  Sun Dec 27 20:28:46 2009
From: jarabal at gmail.com (Xavi)
Date: Sun Dec 27 20:29:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13402] trunk/harbour
In-Reply-To: <E1NP425-0002vh-Ob@bj8yhf1.ch3.sourceforge.com>
References: <E1NP425-0002vh-Ob@bj8yhf1.ch3.sourceforge.com>
Message-ID: <4B3809CE.9090105@gmail.com>

El 28/12/2009 2:04, vszakats@users.sourceforge.net escribi?:
>      * Adding \r\n for OutputDebugString() text to make WinDbg display
>        look readable, this time by simply extending printf() mask.

Thanks Viktor but I think adding just '\n' is sufficient and the code looks better. :)

-- 
Xavi
From vszakats at users.sourceforge.net  Sun Dec 27 20:38:23 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Dec 27 20:38:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13403] trunk/harbour
Message-ID: <E1NP4Yx-0006EL-L7@dn4whf1.ch3.sourceforge.com>

Revision: 13403
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13403&view=rev
Author:   vszakats
Date:     2009-12-28 01:38:22 +0000 (Mon, 28 Dec 2009)

Log Message:
-----------
2009-12-28 02:36 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/common/hbtrace.c
    ! Readded hack to disable reentrancy for win specific trace logic
      until we clear up the issue with some Harbour API calls used from
      win specific trace code are calling back to the trace engine.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/common/hbtrace.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ssbbstw at pchome.com.tw  Sun Dec 27 22:38:00 2009
From: ssbbstw at pchome.com.tw (WenSheng)
Date: Sun Dec 27 22:38:09 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <CBFF538F-B95E-45F8-8C89-13D2A366DE3B@syenar.hu>
References: <20091227224439.D7C1.84A669A0@mail.zzz.com.tw>
	<CBFF538F-B95E-45F8-8C89-13D2A366DE3B@syenar.hu>
Message-ID: <20091228113729.8451.84A669A0@mail.zzz.com.tw>


Wow ~ great!
Now I can use the BCC5 complete compilation Harbour,
And do not modify any code in.
Thank you very much for great help.


> Hi,
> 
> >> Did you try the -CP437 switch? With what results/outputs?
> > 
> > Sorry~~ I don't know how to config -CP437, can you teach me?
> 
> It was in the original mail from previous thread:
> ---
> > I'd try to enforce single-byte codepage in BCC by compiling with
> > HB_USER_CFLAGS=-CP437
> > Although docs say this only affects the preprocessor, I'd check it.
> > 
> > -- Ph.
> 
> ---
> 
> Just set above option using 'set HB_USER_CFLAGS=-CP437', 
> and rebuild Harbour. Then pls report your results.
> 
> Brgds,
> Viktor

From jarabal at gmail.com  Sun Dec 27 22:47:37 2009
From: jarabal at gmail.com (Xavi)
Date: Sun Dec 27 22:48:43 2009
Subject: [Harbour] hbwin wapi_GetLastError() issue.
Message-ID: <4B382A59.7040502@gmail.com>

Hi All,

testwmtx.prg may not work because Harbour internal can call Windows API and setting "Last Error".
[I think in MT mode, with hbvmmt, does not work].
"
Some functions set the last error code to 0 on success and others do not.
You should call the GetLastError function immediately when a function's return.
"
This means that wapi_GetLastError() can not be a wrapper 1:1 to Windows API GetLastError().

Two solutions .-
One is to maintain a dynamic variable, thread safe, for each thread/process to store last error and return this value in 
wapi_GetLastError().
And another solution is to return last error as the last parameter of each wrapper function to Windows API that can set and 
remove wapi_GetLastError() because returns values can not be true.

IMHO to Harbour this latter solution is probably the most easiest and effective in terms of performance.
For example, with this solution testwmtx.prg would be like this .-

STATIC s_hMutex

PROCEDURE Main()
    LOCAL cAppName, nLastError

    // It may be a random program name :)
    hb_FNameSplit( hb_ProgName(), NIL, @cAppName )

    s_hMutex := wapi_CreateMutex( NIL, NIL, cAppName, @nLastError )
    IF ! Empty( s_hMutex ) .AND. nLastError == 0
       ? cAppName, "=> Hello World! OK."
    ELSE
       ? cAppName, "=> Application is running. Error", nLastError
    ENDIF

    WAIT

    RETURN

What do you think about this, comments?

-- 
Xavi

From marcobra.ubuntu at gmail.com  Mon Dec 28 02:28:49 2009
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Mon Dec 28 02:28:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13403] trunk/harbour
In-Reply-To: <E1NP4Yx-0006EL-L7@dn4whf1.ch3.sourceforge.com>
References: <E1NP4Yx-0006EL-L7@dn4whf1.ch3.sourceforge.com>
Message-ID: <fd76479f0912272328v2da81a3alb2c5839221431e77@mail.gmail.com>

On Ubuntu 9.10 and on Ubuntu 10.04 (unstable)  compiling from svn rev. 13403
i get this error

Thank you and best regards.
Marco

gcc   -I. -I../../../../../include -Wall -W -O3   -ohbtrace.o -c
../../../hbtrace.c
../../../hbtrace.c: In function ?hb_tracelog_?:
../../../hbtrace.c:214: error: ?s_winout? undeclared (first use in
this function)
../../../hbtrace.c:214: error: (Each undeclared identifier is reported only once
../../../hbtrace.c:214: error: for each function it appears in.)
make[3]: *** [hbtrace.o] Errore 1
make[2]: *** [descend] Errore 2
make[1]: *** [common] Errore 2
make: *** [src] Errore 2
From bedipritpal at hotmail.com  Mon Dec 28 02:42:20 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec 28 02:42:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11357] trunk/harbour
In-Reply-To: <531d7a750912271543r46dd636eod80dd2f5a4e9aa94@mail.gmail.com>
References: <E1MG7JV-00046q-OS@d5vjzd1.ch3.sourceforge.com>
	<609353e70912271115t18c08271uabd38827ed87c940@mail.gmail.com>
	<26937740.post@talk.nabble.com>
	<531d7a750912271543r46dd636eod80dd2f5a4e9aa94@mail.gmail.com>
Message-ID: <26940513.post@talk.nabble.com>


Hello Vailton


Vailton Renato wrote:
> 
> I had put an alert there, just to warn you when a directory does not
> exist or user forget to fill the field. I think if the User forget to
> fill, we can ignore the error msg and I assume the default value.
> 
> Building on this, I am outlining some details about the menus,
> shortcuts and icons... I would like to submit a new draft soon.
> 

Just hold-on for a couple of days to update sources.
I have some very important commit which is goint to separate 
some components and will change the .prg layout in a big way.

This move is necessiated before things go out of our hands.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-11357--trunk-harbour-tp24030434p26940513.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From Istvan.Bisz at t-online.hu  Mon Dec 28 02:49:31 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Mon Dec 28 02:49:39 2009
Subject: [Harbour]	Re:	SF.net	SVN:	harbour-project:[13399]	trunk/harbour/src/common/hbtrace.c
In-Reply-To: <4B37F93C.7000307@gmail.com>
References: <E1NOvvB-0006Gp-Vu@74yxhf1.ch3.sourceforge.com>	<45E7BF10-320B-4E53-9133-4344A32ED936@syenar.hu>	<000c01ca8723$ad304f70$0790ee50$@Bisz@t-online.hu>	<0428A561-BE24-47FA-BBBF-4D2AA784DCE8@syenar.hu>	<000001ca8741$b7499fc0$25dcdf40$@Bisz@t-online.hu>	<1C19FB7F-24D2-4DF0-AFA4-B7F2E10EDE42@syenar.hu>	<000101ca874e$5a21bdc0$0e653940$@Bisz@t-online.hu>
	<4B37F93C.7000307@gmail.com>
Message-ID: <000601ca8792$4ae66ab0$e0b34010$@Bisz@t-online.hu>

Hi Xavi,

> Sorry but ... What this issue has to do with this code?

No, the mentioned code serves just WinDbg, I tested it with DbgView too. But
after the latest commits it's obsolete.

> Please, to which I can understand and sorry for my bad English.
> Do you saying that windbg generate issue because the string does not end
with CR/LF.

No, you misunderstood me, sorry. The mentioned crash is related to an
another patch, trying to solve the case when inside a HB_TRACE an another
HB_TRACE is activated.
 
Best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Xavi
Sent: 2009. december 28. 1:18
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Re: SF.net SVN: harbour-project:[13399]
trunk/harbour/src/common/hbtrace.c

El 27/12/2009 23:12, Bisz Istv?n escribi?:
> 2. If fm.c is requested with -DHB_TR_LEVEL_DEBUG. The HB_TCHAR_CONVTO
macro
> calls indirectly HB_TRACE, generating in this way the mentioned stack
> overflow. Fortunately debugged with windbg.

Sorry but ... What this issue has to do with this code?
...
       /*
        *  Normalize buffer2 with ending CR/LF/NUL
        */
       p = buffer2;
       p += (n < 0) ? sizeof( buffer2 ) - 3 : n;
       while ( p > buffer2  &&  isspace( p[-1] ) )
       {
          *--p = '\0';
       }
       *p++ = '\r';
       *p++ = '\n';
       *p   = '\0';
...

> If it is necessary we can generate here a flexible solution with and
without
> CR/LF, selectable by the existing HB_TR_WINOUT envvar.

Please, to which I can understand and sorry for my bad English.
Do you saying that windbg generate issue because the string does not end
with CR/LF.

TIA,
-- 
Xavi

El 28/12/2009 0:43, Bisz Istv?n escribi?:
> Hi Viktor,
>
>> I'd appreciate if you could describe it, as I don't have such
>> official debugger on my system, I used DbgView() for tests.
>
> The windbg in a component of "Microsoft Windows SDK for Windows 7 and .NET
> Framework 3.5 SP1" / "Debugging tools for Windows".
> Dbgview is just a very useful viewer. I tested it and I cannot see any
> differences comparing with the previous solution without CR/LF insertion.
> If it is necessary we can generate here a flexible solution with and
without
> CR/LF, selectable by the existing HB_TR_WINOUT envvar.
>
>> If extra line ending (/r or /n or both) is required for windbg,
>> it's easy to add it to printf() calls, although I'm still not
>> sure why ending space trimming is required, or in which calls
>> does this exactly causes problems.
>
> An any optimized solution is welcome, with the original solution the debug
> messages are shown without line-feeds.
>
>> You're right, now it's clear. In this case the solution is to replace
>> HB_TCHAR_* macros with something native. I'll try to do it.
>
> We need here a general solution taking into consideration the all possible
> situations when HB_TRACE is called indirectly in HB_TRACE.
>
> Best regards,
> Istv?n
>
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Dec 28 03:49:43 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 28 03:49:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13402] trunk/harbour
In-Reply-To: <4B3809CE.9090105@gmail.com>
References: <E1NP425-0002vh-Ob@bj8yhf1.ch3.sourceforge.com>
	<4B3809CE.9090105@gmail.com>
Message-ID: <D0DAC568-0A13-436A-9D08-37EDCFABB3E6@syenar.hu>

> El 28/12/2009 2:04, vszakats@users.sourceforge.net escribi?:
>>     * Adding \r\n for OutputDebugString() text to make WinDbg display
>>       look readable, this time by simply extending printf() mask.
> 
> Thanks Viktor but I think adding just '\n' is sufficient and the code looks better. :)

I will retry that combination. (it didn't work by 
appending an \n only, but maybe using it in printf 
will indeed solve it)

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Dec 28 03:53:14 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 28 03:53:27 2009
Subject: [Harbour] Harbour 2.0.0: Released
In-Reply-To: <20091228113729.8451.84A669A0@mail.zzz.com.tw>
References: <20091227224439.D7C1.84A669A0@mail.zzz.com.tw>
	<CBFF538F-B95E-45F8-8C89-13D2A366DE3B@syenar.hu>
	<20091228113729.8451.84A669A0@mail.zzz.com.tw>
Message-ID: <4D5A157B-8FD3-4F89-850A-518DF7EA5053@syenar.hu>

> Wow ~ great!
> Now I can use the BCC5 complete compilation Harbour,
> And do not modify any code in.
> Thank you very much for great help.

Thank you for testing it.

I'll add it as default for win/bcc targets.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Mon Dec 28 03:57:24 2009
From: Istvan.Bisz at t-online.hu (=?UTF-8?Q?Bisz_Istv=C3=A1n?=)
Date: Mon Dec 28 03:57:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13402] trunk/harbour
In-Reply-To: <18d502870912271723o466f6c32w9b272eda9b0094c7@mail.gmail.com>
References: <E1NP425-0002vh-Ob@bj8yhf1.ch3.sourceforge.com>
	<18d502870912271723o466f6c32w9b272eda9b0094c7@mail.gmail.com>
Message-ID: <000701ca879b$c65832b0$53089810$@Bisz@t-online.hu>

Hi Viktor,

 

Maybe reverting the hack for non win code too is useful temporarily, until the final solution designing. Maybe an RTE mechanism should be defined in non win part to avoid the reentrant call of the trace engine.

This will signal the trap residing in the following code:

   HB_TRACE( HB_TR_DEBUG, ( "          new_QApplication                %i B %i KB", ( int ) hb_xquery( 1001 ), hbqt_getmemused() ) );
As I mentioned in one of my previous mail, the hb_xquery() calls the trace engine too, generating undesired behavior.

 

The va_end() issue:

 

Please analyze the following code snippets:

?

   if( s_enabled && level <= hb_tr_level() )
   {
      va_list ap;
      va_start( ap, fmt );
      hb_tracelog_( level, file, line, proc, fmt, ap );
      va_end( ap );
   }
?

   if( s_enabled )
   {
      va_list ap;
      va_start( ap, fmt );
      hb_tracelog_( hb_tr_level_, hb_tr_file_, hb_tr_line_, NULL, fmt, ap );
      va_end( ap );
?

So we can leave the:

   /*
    * Print the name and arguments for the function.
    */
   vfprintf( s_fp, fmt, ap );

   /* if( s_winout ) this is not necessary here */ 
   /* TOFIX: va_end() is _required_ here according to all available documentation. */
   /* va_end( ap ); Generates access violation in the subsequent hb_vsnprintf */



without va_end();

 

Best regards,

Istv?n

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091228/cca1829e/attachment-0001.html
From harbour.01 at syenar.hu  Mon Dec 28 03:57:38 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Dec 28 03:57:53 2009
Subject: [Harbour] hbwin wapi_GetLastError() issue.
In-Reply-To: <4B382A59.7040502@gmail.com>
References: <4B382A59.7040502@gmail.com>
Message-ID: <6349D626-C62F-48A8-95F3-FF9F07712625@syenar.hu>

Hi,

> testwmtx.prg may not work because Harbour internal can call Windows API and setting "Last Error".
> [I think in MT mode, with hbvmmt, does not work].
> "
> Some functions set the last error code to 0 on success and others do not.
> You should call the GetLastError function immediately when a function's return.
> "

Quite strange behavior :/

[ what if another thread kicks in between 
function call and GetLastError() call...? ]

> This means that wapi_GetLastError() can not be a wrapper 1:1 to Windows API GetLastError().
> 
> Two solutions .-
> One is to maintain a dynamic variable, thread safe, for each thread/process to store last error and return this value in wapi_GetLastError().
> And another solution is to return last error as the last parameter of each wrapper function to Windows API that can set and remove wapi_GetLastError() because returns values can not be true.
> 
> IMHO to Harbour this latter solution is probably the most easiest and effective in terms of performance.
> For example, with this solution testwmtx.prg would be like this .-
> 
> What do you think about this, comments?

I'd vote for first option, as it's the only one 
that allows to keep full Windows API compatibility 
for WAPI_* functions. Since this is the main point 
for all WAPI_* functions (and the whole idea), it's 
essential to stick to this rule. Otherwise we will 
end up resorting to workarounds (altering calling 
method) when return value is also some meaningful 
value and we want to return that plus lasterror.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Dec 28 04:04:20 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Dec 28 04:04:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13404] trunk/harbour
Message-ID: <E1NPBWW-00052Y-Rk@c3vjzd1.ch3.sourceforge.com>

Revision: 13404
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13404&view=rev
Author:   vszakats
Date:     2009-12-28 09:04:16 +0000 (Mon, 28 Dec 2009)

Log Message:
-----------
2009-12-28 10:01 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/common/hbtrace.c
    ! Fixed some leftover causing error on non-win.
    % Replaces \r\n with \n in printf() calls.
      [TOMERGE 2.0]

  * config/win/bcc.mk
    + Added -CP437 bcc option as default, so that it fixes compilation
      on windows systems are setup to use certain (f.e. far east)
      multibytes codepages as default non-Unicode CP.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/src/common/hbtrace.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Mon Dec 28 04:08:03 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Dec 28 04:08:19 2009
Subject: [Harbour] Harbour 2.0.0 binaries for OS/2-eCS
In-Reply-To: <4B3618D4.3040802@mail.udg.mx>
References: <4B3618D4.3040802@mail.udg.mx>
Message-ID: <4B387573.5020805@libero.it>

David,

thanks for doing those builds, I was going to do the ggc one today, but you
were faster and more complete. :)

Maurilio.

David Arturo Macias Corona wrote:
> Harbour 2.0.0 binaries files for OS/2-eComStation are available in Harbour
> download page, as:
> 
>   harbour-2.0.0.bin-os2.watcom.zip
>   harbour-2.0.0.bin-os2.gcc433.zip
>   harbour-2.0.0.bin-os2.gcc335omf.zip
>   harbour-2.0.0.bin-os2.gcc335aout.zip
> 
> David Macias
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Mon Dec 28 04:11:48 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 28 04:12:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13402] trunk/harbour
In-Reply-To: <000701ca879b$c65832b0$53089810$@Bisz@t-online.hu>
References: <E1NP425-0002vh-Ob@bj8yhf1.ch3.sourceforge.com>
	<18d502870912271723o466f6c32w9b272eda9b0094c7@mail.gmail.com>
	<000701ca879b$c65832b0$53089810$@Bisz@t-online.hu>
Message-ID: <B107BD16-553F-4DF3-A651-8061E7FC62DD@syenar.hu>

> Hi Viktor,
>  
> Maybe reverting the hack for non win code too is useful temporarily, until the final solution designing. Maybe an RTE mechanism should be defined in non win part to avoid the reentrant call of the trace engine.
> This will signal the trap residing in the following code:
>    HB_TRACE( HB_TR_DEBUG, ( "          new_QApplication                %i B %i KB", ( int )hb_xquery( 1001 ), hbqt_getmemused() ) );
> As I mentioned in one of my previous mail, the hb_xquery() calls the trace engine too, generating undesired behavior.

In this case hb_xquery() is evaluated _before_ calling trace engine, 
so it shouldn't cause any problems.

Above code is equivalent to:

tmp = hb_xquery( 1001 )
HB_TRACE( HB_TR_DEBUG, ( "%i", tmp ) );

> The va_end() issue:
>  
> Please analyze the following code snippets:
> ?
>    if( s_enabled && level <= hb_tr_level() )
>    {
>       va_list ap;
>       va_start( ap, fmt );
>       hb_tracelog_( level, file, line, proc, fmt, ap );
>       va_end( ap );
>    }
> ?
>    if( s_enabled )
>    {
>       va_list ap;
>       va_start( ap, fmt );
>       hb_tracelog_( hb_tr_level_, hb_tr_file_, hb_tr_line_, NULL, fmt, ap );
>       va_end( ap );
> ?
> So we can leave the:
>    /*
>     * Print the name and arguments for the function.
>     */
>    vfprintf( s_fp, fmt, ap );
> 
>    /* if( s_winout ) this is not necessary here */ 
>    /* TOFIX: va_end() is _required_ here according to all available documentation. */
>    /* va_end( ap ); Generates access violation in the subsequent hb_vsnprintf */
> 
> without va_end();

Okay I get it, there is no va_start() in hb_tracelog_(), 
so va_end() is not necessary. Thanks!

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Dec 28 04:14:43 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Dec 28 04:14:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13405] trunk/harbour
Message-ID: <E1NPBgZ-0005Hp-5i@c3vjzd1.ch3.sourceforge.com>

Revision: 13405
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13405&view=rev
Author:   vszakats
Date:     2009-12-28 09:14:41 +0000 (Mon, 28 Dec 2009)

Log Message:
-----------
2009-12-28 10:11 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/common/hbtrace.c
    * Deleted TOFIX for va_end(). It's not required (and wasn't 
      ever required there) since there is no va_start() call in 
      hb_tracelog_() function at all.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/common/hbtrace.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Mon Dec 28 07:41:16 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Dec 28 07:41:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11357] trunk/harbour
In-Reply-To: <26940513.post@talk.nabble.com>
References: <E1MG7JV-00046q-OS@d5vjzd1.ch3.sourceforge.com> 
	<609353e70912271115t18c08271uabd38827ed87c940@mail.gmail.com> 
	<26937740.post@talk.nabble.com>
	<531d7a750912271543r46dd636eod80dd2f5a4e9aa94@mail.gmail.com> 
	<26940513.post@talk.nabble.com>
Message-ID: <531d7a750912280441pd284623i3a031eb67b725444@mail.gmail.com>

Ok!
From niki at synel.co.il  Mon Dec 28 08:13:13 2009
From: niki at synel.co.il (Chen Kedem)
Date: Mon Dec 28 08:13:23 2009
Subject: [Harbour] hbwin wapi_GetLastError() issue.
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D86343F85@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

> [ what if another thread kicks in between function call and GetLastError() call...? ]

According to MSDN the return value is the calling thread's last-error code
http://msdn.microsoft.com/en-us/library/ms679360(VS.85).aspx
so it should be thread safe.

  Chen.
From david at gesintur.com  Mon Dec 28 08:35:57 2009
From: david at gesintur.com (David MS)
Date: Mon Dec 28 08:36:05 2009
Subject: [Harbour] SQLMIX  indexing question
Message-ID: <78FC67C330134970AD6AD3E9CC02425F@INFOR04>

Hi all,

I'm trying RDDSQL with mysql and have a question:

Does support SQLMIX the use of scopes?

If it's possible, can anyone give me an example?

The clausule DESCEND seems not work to me too.

PD: Thanks to all developers for Harbour 2.0, congratulations!

Thanks in advance
David Monta?o 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091228/6793c056/attachment.html
From dbtopas at dbtopas.lt  Mon Dec 28 09:28:22 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Dec 28 09:30:25 2009
Subject: [Harbour] SQLMIX  indexing question
In-Reply-To: <78FC67C330134970AD6AD3E9CC02425F@INFOR04>
References: <78FC67C330134970AD6AD3E9CC02425F@INFOR04>
Message-ID: <4B38C086.4070708@dbtopas.lt>

Hi,


> I'm trying RDDSQL with mysql and have a question:
>  
> Does support SQLMIX the use of scopes?

No, it is not implemented. In my code I usually do such operations as 
scopes on server side, i.e., I use WHERE cause in SELECT statements.


Regards,
Mindaugas
From M.Horodyski at pzuzycie.com.pl  Mon Dec 28 10:55:44 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Dec 28 10:55:55 2009
Subject: [Harbour] Harbour next major release wishlist
In-Reply-To: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
References: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC6DC0@PINK.zycie.pzu>

>-----Original Message-----
>From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
>Sent: Wednesday, December 23, 2009 9:54 PM
>To: Harbour Project Main Developer List.
>Subject: [Harbour] Harbour next major release wishlist
>
>Hi All,
>
>In the spirit of release enthusiasm it's now also a good time 
>to brainstorm a little on things which we would like to make 
>it into next major Harbour release.
>
>You're welcome to post your idea, whatever that is.
>
>My list on the top of my head:
>
>- Complete Unicode support
>- Type cleanup (planned)
>- GTNET
>- Oracle accessibility (sddora, hbora)
>- Dir layout scheme cleanup (planned)
>- Multi-OS binary distribution for WIN/DOS/OS2 world
>- Becoming a std Linux package
>- Ironing out HBQT remaining grey areas
>  (memory management, .prg level indestructibility,
>  proper componentization)
>- HBBMCDX integrated into core.
>- XML support
>
>Brgds,
>Viktor

Good day after Christmas.
My congratulations on the Harbor version 2.0.
In my head is still move the Mindaugas web server to a subdirectory CONTRIB and SOAP server.

Regards,
Marek Horodyski
From jarabal at gmail.com  Mon Dec 28 10:56:00 2009
From: jarabal at gmail.com (Xavi)
Date: Mon Dec 28 10:57:10 2009
Subject: [Harbour] hbwin wapi_GetLastError() issue.
In-Reply-To: <6349D626-C62F-48A8-95F3-FF9F07712625@syenar.hu>
References: <4B382A59.7040502@gmail.com>
	<6349D626-C62F-48A8-95F3-FF9F07712625@syenar.hu>
Message-ID: <4B38D510.6030406@gmail.com>

El 28/12/2009 9:57, Viktor Szak?ts escribi?:
> I'd vote for first option, as it's the only one
> that allows to keep full Windows API compatibility
> for WAPI_* functions. Since this is the main point
> for all WAPI_* functions (and the whole idea), it's
> essential to stick to this rule.

I can understand your point of view, also FoxPro and VB should do it with some changes. :)
My only reticence was the performance.
Ok, I think an implementation.

-- 
Xavi

El 28/12/2009 9:57, Viktor Szak?ts escribi?:
> Hi,
>
>> testwmtx.prg may not work because Harbour internal can call Windows API and setting "Last Error".
>> [I think in MT mode, with hbvmmt, does not work].
>> "
>> Some functions set the last error code to 0 on success and others do not.
>> You should call the GetLastError function immediately when a function's return.
>> "
>
> Quite strange behavior :/
>
> [ what if another thread kicks in between
> function call and GetLastError() call...? ]
>
>> This means that wapi_GetLastError() can not be a wrapper 1:1 to Windows API GetLastError().
>>
>> Two solutions .-
>> One is to maintain a dynamic variable, thread safe, for each thread/process to store last error and return this value in wapi_GetLastError().
>> And another solution is to return last error as the last parameter of each wrapper function to Windows API that can set and remove wapi_GetLastError() because returns values can not be true.
>>
>> IMHO to Harbour this latter solution is probably the most easiest and effective in terms of performance.
>> For example, with this solution testwmtx.prg would be like this .-
>>
>> What do you think about this, comments?
>
> I'd vote for first option, as it's the only one
> that allows to keep full Windows API compatibility
> for WAPI_* functions. Since this is the main point
> for all WAPI_* functions (and the whole idea), it's
> essential to stick to this rule. Otherwise we will
> end up resorting to workarounds (altering calling
> method) when return value is also some meaningful
> value and we want to return that plus lasterror.
>
> Brgds,
> Viktor
>
From vailtom at gmail.com  Mon Dec 28 12:14:38 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Dec 28 12:15:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11357] trunk/harbour
In-Reply-To: <531d7a750912280441pd284623i3a031eb67b725444@mail.gmail.com>
References: <E1MG7JV-00046q-OS@d5vjzd1.ch3.sourceforge.com> 
	<609353e70912271115t18c08271uabd38827ed87c940@mail.gmail.com> 
	<26937740.post@talk.nabble.com>
	<531d7a750912271543r46dd636eod80dd2f5a4e9aa94@mail.gmail.com> 
	<26940513.post@talk.nabble.com>
	<531d7a750912280441pd284623i3a031eb67b725444@mail.gmail.com>
Message-ID: <531d7a750912280914u7b96e7aaveee0f95f8f73d5bf@mail.gmail.com>

Hi!

Hello!

I have some spare time this week to work on hbide and I still do some
tests and experiments with it. I was studying a way for the error
messages are displayed in highlighted colors and I ended up stopped
into an error which gave me a little fix. Are two simple details that
need to be adjusted and I would like to report here already with the
corrections:

On file C:\harbour\contrib\hbqt\hbqt_misc.prg(137), has a missing code:

FUNCTION hbqt_showError( cMsg )
   LOCAL s

   IF hb_isArray( cMsg )
      s := ""
      aeval( cMsg, {|e| s += e + chr( 13 ) } )
      hbqt_messageBox( s, NIL, "Run-time Error!", QMessageBox_Critical )
   ELSE
      IF SubStr( cMsg, 1, 1 ) == "_"
         s := SubStr( cMsg, 2 )
      ELSE
         s := cMsg         /// <<<< ---- Missing code!
      ENDIF
      hbqt_messageBox( ":" + s, "Message not found - " + ProcName( 2 )
+ ":" + hb_ntos( ProcLine( 2 ) ) )
   ENDIF
   RETURN nil


On C:\harbour\contrib\hbxbp\xbprtf.prg(703):

METHOD XbpRtf:textRTF( ... )
   LOCAL xRet := ::oWidget:toHtml()
   LOCAL aP := hb_aParams()

   IF len( aP ) == 1 .and. hb_isChar( aP[ 1 ] )
      ::oWidget:setHtmlText( aP[ 1 ] )  //// <<<--- Right is setHTML
()  - see TQTextEdit.prg(457)
   ENDIF

   IF len( aP ) >= 1

   ENDIF
   RETURN xRet

I hope this information is helpful!

Best Regards,
Vailton Renato
From maurilio.longo at libero.it  Mon Dec 28 12:35:52 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Dec 28 12:36:04 2009
Subject: [Harbour] latest svn on OS/2 fails
Message-ID: <4B38EC78.6020508@libero.it>

Hi all,

something went south with latest SVN on OS/2+GCC

12-28-2009  17:58:47  SYS2070  PID 63b3  TID 0001  Slot 0090
E:\REPOSITORY\HARBOUR\BIN\OS2\GCC\HBTEST.EXE
HBTEST->HARBOUR._hb_parvnl
127


It seems the .dll file for st has something wrong in it, from the error I'd
say _hb_parvnl is not linked in or not exported.

(E:\REPOSITORY\HARBOUR\bin\os2\gcc)help sys2070

SYS2070: A program in this session encountered a problem and cannot
continue.

EXPLANATION: The system delayed the loading of some of the
application's code until it was needed.  Now there is a problem
loading the needed code segment.

ACTION: If you purchased this program, contact the supplier of the
program.  If you are the developer of this program, refer to the
information in the register.


hbmk2.exe starts ok and displays its help screen.

Any idea?

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.



From druzus at acn.waw.pl  Mon Dec 28 13:17:16 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Dec 28 13:17:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13402] trunk/harbour
In-Reply-To: <E1NP425-0002vh-Ob@bj8yhf1.ch3.sourceforge.com>
References: <E1NP425-0002vh-Ob@bj8yhf1.ch3.sourceforge.com>
Message-ID: <20091228181716.GA373@linux-4bod.home.aster.pl>

On Mon, 28 Dec 2009, vszakats@users.sourceforge.net wrote:

Hi,

>     ; TOFIX:
>          va_end() has been commented for all platforms, although
>          it's required by all documentation I could verify.
>          If this causes problems for specific platforms/compilers,
>          we should only add this hack for those targets, and only
>          when HB_TR_WINOUT is enabled.

This va_end() is my copy and past mistake and should be fixed by
removing it. Looks that we do not use C compiler which tries to
validate va_start()/va_end() usage by C preprocessor rules.

hb_xgrab() inside hb_snprintf() can be activated only when more
then 16 '%' patterns is used inside formatted strings so it's rather
very seldom situation. I do not think that we have such messages
anyhow it's possible that someone will want to use sth like that.
In such case it creates problems only when fm.c is compiled with
HB_TR_DEBUG what is also rather seldom situation. The problem
is that current protection against recursive calls causes that
log messages are silently ignored in MT mode. I do not think
that it's worth to introduce any non local hacks for windows
only debugging in this code so probably as the easiest hack we
can simply check if the memory statistic module is enabled and
were compiled with HB_TR_DEBUG messages using new function like:
   if( hb_xtraced() )
and if yes then the number of non double '%' characters in format
string. If it's greater then 16 we can simply generate message
about it instead of original one with suggestion to divide the
trace log message to use less then 16 parameters.
Please note that we rather need new function like hb_xtraced() instead
of adding sth like hb_xquery( HB_MEM_TRACED ). Anyhow if if want
to use HB_MEM_TRACED then please remember that you have to add code
which will make:
   if( iMode == HB_MEM_TRACED )
   {
      return ...;
   }
before HB_TRACE() message inside hb_xquery().

There was never problem with parameters passed to HB_TRACE()
massages in code like:
  HB_TRACE( HB_TR_DEBUG, ( "new_QApplication %i B %i KB",
                           ( int ) hb_xquery( 1001 ), hbqt_getmemused() ) );
so this part can be ignored but there is a problem with this code:
   TCHAR lpOutputString[ 2048 ];
   MultiByteToWideChar( CP_ACP, 0, buffer2, -1,
                        lpOutputString, sizeof( lpOutputString ) );
   OutputDebugString( lpOutputString );
It's potential buffer overflow bug because MultiByteToWideChar()
needs as parameter size of buffer in characters not in bytes though
doubled buffered size reduce it - probably even eliminate it because
I do not think that languages which double number of characters in
unicode representation exists anyhow I strongly suggest to clean this
code and change it to:
   TCHAR lpOutputString[ 1024 ];
   MultiByteToWideChar( CP_ACP, 0, buffer2, -1, lpOutputString, 1024 );
   OutputDebugString( lpOutputString );

HTH

best regards,
Przemek
From vouchcac at users.sourceforge.net  Mon Dec 28 13:41:21 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Dec 28 13:41:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13406] trunk/harbour
Message-ID: <E1NPKWv-0002iL-Pn@3kljzd1.ch3.sourceforge.com>

Revision: 13406
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13406&view=rev
Author:   vouchcac
Date:     2009-12-28 18:41:20 +0000 (Mon, 28 Dec 2009)

Log Message:
-----------
2009-12-28 10:37 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/hbqt_slots.h
    + Added more signal/slots.

  * contrib/hbide/hbide.ch
  * contrib/hbide/hbide.hbp
  * contrib/hbide/hbide.prg
    ! First step of reforms. You can expect bumps.
      Please DONOT update atlease HBIDE in any way till I declare 
      I am done with.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.ch
    trunk/harbour/contrib/hbide/hbide.hbp
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Mon Dec 28 13:45:09 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Dec 28 13:45:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13407] trunk/harbour
Message-ID: <E1NPKab-0002m5-TM@3kljzd1.ch3.sourceforge.com>

Revision: 13407
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13407&view=rev
Author:   vouchcac
Date:     2009-12-28 18:45:08 +0000 (Mon, 28 Dec 2009)

Log Message:
-----------
2009-12-28 10:43 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + contrib/hbide/ideeditor.prg
    + Added missing file from previous commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/hbide/ideeditor.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Dec 28 14:49:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Dec 28 14:49:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13408] trunk/harbour
Message-ID: <E1NPLbA-0006h2-2l@d5vjzd1.ch3.sourceforge.com>

Revision: 13408
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13408&view=rev
Author:   vszakats
Date:     2009-12-28 19:49:43 +0000 (Mon, 28 Dec 2009)

Log Message:
-----------
2009-12-28 20:48 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/fm.c
  * include/hbapi.h
    + Added hb_xtraced(). Please check it might be wrong.

  * src/common/hbtrace.c
    - Deleted hack to disable winout to avoid recursive calls.
    + Added TOFIX to avoid recursive calls with some clever 
      detection on error case (hb_xtracd() && no_of_formatt_strings > 16)
      I didn't implement it, pls do so if interested.
    ! Fixed MultiByteToWideChar sizeof() to HB_SIZEOFARRAY().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/src/common/hbtrace.c
    trunk/harbour/src/vm/fm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Mon Dec 28 15:12:19 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec 28 15:12:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11357] trunk/harbour
In-Reply-To: <531d7a750912280914u7b96e7aaveee0f95f8f73d5bf@mail.gmail.com>
References: <E1MG7JV-00046q-OS@d5vjzd1.ch3.sourceforge.com>
	<609353e70912271115t18c08271uabd38827ed87c940@mail.gmail.com>
	<26937740.post@talk.nabble.com>
	<531d7a750912271543r46dd636eod80dd2f5a4e9aa94@mail.gmail.com>
	<26940513.post@talk.nabble.com>
	<531d7a750912280441pd284623i3a031eb67b725444@mail.gmail.com>
	<531d7a750912280914u7b96e7aaveee0f95f8f73d5bf@mail.gmail.com>
Message-ID: <26947340.post@talk.nabble.com>


Hi


Vailton Renato wrote:
> 
> I have some spare time this week to work on hbide and I still do some
> tests and experiments with it. I was studying a way for the error
> messages are displayed in highlighted colors and I ended up stopped
> into an error which gave me a little fix. Are two simple details that
> need to be adjusted and I would like to report here already with the
> corrections:
> 
> On file C:\harbour\contrib\hbqt\hbqt_misc.prg(137), has a missing code:
> 
> FUNCTION hbqt_showError( cMsg )
>    LOCAL s
> 
>    IF hb_isArray( cMsg )
>       s := ""
>       aeval( cMsg, {|e| s += e + chr( 13 ) } )
>       hbqt_messageBox( s, NIL, "Run-time Error!", QMessageBox_Critical )
>    ELSE
>       IF SubStr( cMsg, 1, 1 ) == "_"
>          s := SubStr( cMsg, 2 )
>       ELSE
>          s := cMsg         /// <<<< ---- Missing code!
>       ENDIF
>       hbqt_messageBox( ":" + s, "Message not found - " + ProcName( 2 )
> + ":" + hb_ntos( ProcLine( 2 ) ) )
>    ENDIF
>    RETURN nil
> 
> 
> On C:\harbour\contrib\hbxbp\xbprtf.prg(703):
> 
> METHOD XbpRtf:textRTF( ... )
>    LOCAL xRet := ::oWidget:toHtml()
>    LOCAL aP := hb_aParams()
> 
>    IF len( aP ) == 1 .and. hb_isChar( aP[ 1 ] )
>       ::oWidget:setHtmlText( aP[ 1 ] )  //// <<<--- Right is setHTML
> ()  - see TQTextEdit.prg(457)
>    ENDIF
> 
>    IF len( aP ) >= 1
> 
>    ENDIF
>    RETURN xRet
> 
> I hope this information is helpful!
> 

Yes useful. Fixed.
Thanks for locating the omissions.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-11357--trunk-harbour-tp24030434p26947340.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From eghorbino at yahoo.com  Mon Dec 28 15:59:43 2009
From: eghorbino at yahoo.com (Edmer)
Date: Mon Dec 28 15:59:50 2009
Subject: [Harbour] Harbour next major release wishlist
In-Reply-To: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
References: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
Message-ID: <26947861.post@talk.nabble.com>


Hi All,

My whole-hearted thanks and salute to all developers and contributors.
>From the top of my head:
1. A full Clipper 5.3 support
2. The ability to support console commands (@ say/get, tbrowse, etc.) in GUI
like what Roger Donnay did with Express++ for XBase++.

Merry Christmas and a Happy, Prosperous, Peacefull New Year to all.

Cheers,
Ed

-- 
View this message in context: http://old.nabble.com/Harbour-next-major-release-wishlist-tp26907413p26947861.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Dec 28 16:15:53 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Dec 28 16:16:12 2009
Subject: [Harbour] Harbour next major release wishlist
In-Reply-To: <26947861.post@talk.nabble.com>
References: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu>
	<26947861.post@talk.nabble.com>
Message-ID: <460328E7-3AE2-40A2-950F-3C7A95B02D9E@syenar.hu>

>> From the top of my head:
> 1. A full Clipper 5.3 support

What missing from Clipper 5.3 support? (besides lightlib)

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Mon Dec 28 16:44:53 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Dec 28 16:45:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13409] trunk/harbour
Message-ID: <E1NPNOX-00022W-Cw@dn4whf1.ch3.sourceforge.com>

Revision: 13409
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13409&view=rev
Author:   vouchcac
Date:     2009-12-28 21:44:51 +0000 (Mon, 28 Dec 2009)

Log Message:
-----------
2009-12-28 13:43 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_misc.prg
    % Fixed small omission, thanks Vailton.
  * contrib/hbxbp/xbprtf.prg
    % Fixed wrong Qt call, thanks Vailton.

  * contrib/hbide/hbide.hbp
  * contrib/hbide/hbide.prg
  + contrib/hbide/idefindreplace.prg
    ! Separated Find/Replace class.
      2nd round of reforms.
      More follows.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.hbp
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbqt/hbqt_misc.prg
    trunk/harbour/contrib/hbxbp/xbprtf.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/idefindreplace.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Mon Dec 28 17:57:41 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Dec 28 17:57:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13410] trunk/harbour
Message-ID: <E1NPOWz-0001fn-NZ@d5vjzd1.ch3.sourceforge.com>

Revision: 13410
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13410&view=rev
Author:   vouchcac
Date:     2009-12-28 22:57:36 +0000 (Mon, 28 Dec 2009)

Log Message:
-----------
2009-12-28 14:56 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.hbp
  * contrib/hbide/hbide.prg
  + contrib/hbide/idedocks.prg
    + Added new file separating the code building docking widgets.
      Another round of reforms, more follows.

  * contrib/hbide/idefindreplace.prg
    ! Minor.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.hbp
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idefindreplace.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/idedocks.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Mon Dec 28 18:03:34 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Dec 28 18:04:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13409] trunk/harbour
In-Reply-To: <E1NPNOX-00022W-Cw@dn4whf1.ch3.sourceforge.com>
References: <E1NPNOX-00022W-Cw@dn4whf1.ch3.sourceforge.com>
Message-ID: <531d7a750912281503g351a0c22odaf8621ef8255d2b@mail.gmail.com>

Hi!

I know that you are upgrading hbide and we all hope this good news,
but I was anxious and changed some details (we can then merge in the
future) so I'm sending a link to the version I'm playing here just to
collect some opinions.

Highlights are some new items in the main menu but I are incomplete
(marked with "*"), icons on menu items and new shortcuts in the
menus.. after that I imagine will be most useful to load it from a
custom file with shortcut keys similar to Delphi, xMate or MSVC that
the User can choose which he likes more..

One question: the icons must necessarily be similar to xMate? I have
some pictures that we could use the project ... but they do not
resemble the current project.

When you hit F9 to compile a project the error messages and warnings
are highlighted in different colors.

To be complete this feature, would need to enable QTextEdit in the
event of double click on the line. For when he double-clicked on an
online message, the hbide already jumped to the file and line chosen
... Could you help me get this feature?

I will continue with the tests, then I get this version and the merge
to give the news.

Link to download this draft:
http://kssoftware.com.br/hbide-draft-2.zip

Regards,
Vailton Renato

Sorry for any bad english.
From vouchcac at users.sourceforge.net  Mon Dec 28 18:30:57 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Dec 28 18:31:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13411] trunk/harbour
Message-ID: <E1NPP3B-0001wD-TJ@bj8yhf1.ch3.sourceforge.com>

Revision: 13411
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13411&view=rev
Author:   vouchcac
Date:     2009-12-28 23:30:56 +0000 (Mon, 28 Dec 2009)

Log Message:
-----------
2009-12-28 15:32 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.hbp
  * contrib/hbide/hbide.prg
  + contrib/hbide/idesaveload.prg
    + Added new file separating the code for loading configuration.
      Another round of reforms, more follows.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.hbp
    trunk/harbour/contrib/hbide/hbide.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/idesaveload.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Mon Dec 28 20:33:18 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Dec 28 20:33:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13412] trunk/harbour
Message-ID: <E1NPQxa-00020C-RY@c3vjzd1.ch3.sourceforge.com>

Revision: 13412
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13412&view=rev
Author:   vouchcac
Date:     2009-12-29 01:32:57 +0000 (Tue, 29 Dec 2009)

Log Message:
-----------
2009-12-28 17:29 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/idemisc.prg
    + Applied Vailton's patch. It sets the menu's in right perspective.
      Actions will follow shortly.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/idemisc.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Mon Dec 28 20:49:11 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec 28 20:49:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13409] trunk/harbour
In-Reply-To: <531d7a750912281503g351a0c22odaf8621ef8255d2b@mail.gmail.com>
References: <E1NPNOX-00022W-Cw@dn4whf1.ch3.sourceforge.com>
	<531d7a750912281503g351a0c22odaf8621ef8255d2b@mail.gmail.com>
Message-ID: <26950171.post@talk.nabble.com>


Hi


Vailton Renato wrote:
> 
> I know that you are upgrading hbide and we all hope this good news,
> but I was anxious and changed some details (we can then merge in the
> future) so I'm sending a link to the version I'm playing here just to
> collect some opinions.
> 

I have applied your patch in r13412.
Can you update from SVN and report back if everything is 
patched properly. I have not tested the menu options but 
seems pretty complete. 



> Highlights are some new items in the main menu but I are incomplete
> (marked with "*"), icons on menu items and new shortcuts in the
> menus.. after that I imagine will be most useful to load it from a
> custom file with shortcut keys similar to Delphi, xMate or MSVC that
> the User can choose which he likes more..
> 

Valuable implementation. Yes, in this way this can be fetched 
from outside of the code.



> One question: the icons must necessarily be similar to xMate? I have
> some pictures that we could use the project ... but they do not
> resemble the current project.
> 

This is a philosophical question.
Let us take group's opinion on this issue.
I will decide later if we should change it or keep as is.
Can you forward me a screen-shot how your new-look toolbar
would present itself ?



> When you hit F9 to compile a project the error messages and warnings
> are highlighted in different colors.
> 

This is a very useful idea. But I cannot see highlighted text.
May be the complete patch is not applied properly.



> To be complete this feature, would need to enable QTextEdit in the
> event of double click on the line. For when he double-clicked on an
> online message, the hbide already jumped to the file and line chosen
> ... Could you help me get this feature?
> 

Should not be a problem, I will try. But first I want to see it highlighted.



> I will continue with the tests, then I get this version and the merge
> to give the news.
> 

I have merged your changes. Download r13412.
It will be easier for me to merge changes of future.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13409--trunk-harbour-tp26948349p26950171.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vailtom at gmail.com  Mon Dec 28 21:06:17 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Dec 28 21:06:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13409] trunk/harbour
In-Reply-To: <26950171.post@talk.nabble.com>
References: <E1NPNOX-00022W-Cw@dn4whf1.ch3.sourceforge.com> 
	<531d7a750912281503g351a0c22odaf8621ef8255d2b@mail.gmail.com> 
	<26950171.post@talk.nabble.com>
Message-ID: <531d7a750912281806n3c627c85q2b0a8bc59098537d@mail.gmail.com>

Hi!

Please check these images with source & error messages:

http://kssoftware.com.br/hbide_error_1.jpg
http://kssoftware.com.br/hbide_error_2.jpg

See ConvertBuildStatusMsgToHtml( cText ) on idemisc.prg

Brgds,
Vailton Renato

2009/12/28 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hi
>
>
> Vailton Renato wrote:
>>
>> I know that you are upgrading hbide and we all hope this good news,
>> but I was anxious and changed some details (we can then merge in the
>> future) so I'm sending a link to the version I'm playing here just to
>> collect some opinions.
>>
>
> I have applied your patch in r13412.
> Can you update from SVN and report back if everything is
> patched properly. I have not tested the menu options but
> seems pretty complete.
>
>
>
>> Highlights are some new items in the main menu but I are incomplete
>> (marked with "*"), icons on menu items and new shortcuts in the
>> menus.. after that I imagine will be most useful to load it from a
>> custom file with shortcut keys similar to Delphi, xMate or MSVC that
>> the User can choose which he likes more..
>>
>
> Valuable implementation. Yes, in this way this can be fetched
> from outside of the code.
>
>
>
>> One question: the icons must necessarily be similar to xMate? I have
>> some pictures that we could use the project ... but they do not
>> resemble the current project.
>>
>
> This is a philosophical question.
> Let us take group's opinion on this issue.
> I will decide later if we should change it or keep as is.
> Can you forward me a screen-shot how your new-look toolbar
> would present itself ?
>
>
>
>> When you hit F9 to compile a project the error messages and warnings
>> are highlighted in different colors.
>>
>
> This is a very useful idea. But I cannot see highlighted text.
> May be the complete patch is not applied properly.
>
>
>
>> To be complete this feature, would need to enable QTextEdit in the
>> event of double click on the line. For when he double-clicked on an
>> online message, the hbide already jumped to the file and line chosen
>> ... Could you help me get this feature?
>>
>
> Should not be a problem, I will try. But first I want to see it highlighted.
>
>
>
>> I will continue with the tests, then I get this version and the merge
>> to give the news.
>>
>
> I have merged your changes. Download r13412.
> It will be easier for me to merge changes of future.
>
> Regards
> Pritpal Bedi
>
>
> --
> View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13409--trunk-harbour-tp26948349p26950171.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From bedipritpal at hotmail.com  Mon Dec 28 21:20:05 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec 28 21:20:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13409] trunk/harbour
In-Reply-To: <531d7a750912281806n3c627c85q2b0a8bc59098537d@mail.gmail.com>
References: <E1NPNOX-00022W-Cw@dn4whf1.ch3.sourceforge.com>
	<531d7a750912281503g351a0c22odaf8621ef8255d2b@mail.gmail.com>
	<26950171.post@talk.nabble.com>
	<531d7a750912281806n3c627c85q2b0a8bc59098537d@mail.gmail.com>
Message-ID: <26950371.post@talk.nabble.com>


hi


Vailton Renato wrote:
> 
> Please check these images with source & error messages:
> 
> http://kssoftware.com.br/hbide_error_1.jpg
> http://kssoftware.com.br/hbide_error_2.jpg
> 

Oh yes. Patch is applied properly.
Only my project was not producing any errors or warnings.

This is really useful implementation, I did not had this 
feature on my drawing-board, thanks.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13409--trunk-harbour-tp26948349p26950371.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vailtom at gmail.com  Mon Dec 28 21:37:14 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Dec 28 21:37:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13409] trunk/harbour
In-Reply-To: <26950371.post@talk.nabble.com>
References: <E1NPNOX-00022W-Cw@dn4whf1.ch3.sourceforge.com> 
	<531d7a750912281503g351a0c22odaf8621ef8255d2b@mail.gmail.com> 
	<26950171.post@talk.nabble.com>
	<531d7a750912281806n3c627c85q2b0a8bc59098537d@mail.gmail.com> 
	<26950371.post@talk.nabble.com>
Message-ID: <531d7a750912281837x499ce566g4a22baec2aca70cc@mail.gmail.com>

Hi!

> Oh yes. Patch is applied properly.
> Only my project was not producing any errors or warnings.
>
> This is really useful implementation, I did not had this
> feature on my drawing-board, thanks.
>

My idea is that when you double click on a line with error or warning,
the hbide now jump to the relevant line of source code that generated
the message ... This will be very practical!
= D

And on the issue of icons, I can mount a case then ... because I find
it interesting to have a tool with its own identity and I think this
would be something important (no offense to xMate) ...

Here are a few ideas that I thought about this tool I would like to
talk to you after their major changes:

* Keyboard shortcuts would be loaded from an external file that the
user could choose the kind that pleases more leh: Pascal (F9 run,
compile ^ F9), MSVC (F5 run, ^ F5 to compile, etc.) or xMate or VB,
etc. ..

* The translation of texts, could follow the same model xMate or
MyMake: a text file with 1 line for each text to be translated.

* If we can intercept the Ctrl+Space inside the IDE, I could implement
Code Insight in the HBIDE from :aTags thus speeding the development.

* If each item :aTabs is an object and not an array, I believe the
performance will not be harmed and would greatly facilitate our work
of manipulating information, especially when the Code is implemented
insight.

Now that I would remember this ... what do you think of these ideas?

Best Regards,
Vailton Renato
From vouchcac at users.sourceforge.net  Mon Dec 28 21:54:30 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Dec 28 21:54:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13413] trunk/harbour
Message-ID: <E1NPSEA-0005P8-FB@bj8yhf1.ch3.sourceforge.com>

Revision: 13413
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13413&view=rev
Author:   vouchcac
Date:     2009-12-29 02:54:29 +0000 (Tue, 29 Dec 2009)

Log Message:
-----------
2009-12-28 18:54 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/idedocks.prg
    + Added skeleton to process double-click on compile output.
      A work-in-progress.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/idedocks.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jparada_a at hotmail.com  Tue Dec 29 00:01:51 2009
From: jparada_a at hotmail.com (jparada)
Date: Tue Dec 29 00:01:59 2009
Subject: [Harbour] How to build hbqt lib on Linux
Message-ID: <26950811.post@talk.nabble.com>


Hi,

I'm just starting in Linux, specifically Ubuntu Karmic, and I want to
create the hbqt lib.

I have installed the SDK for Linux/X11 32 bits, and I set the following
variables

Export HB_INC_QT = "/home/javier/qtsdk-2009.05/qt/include"
Export HB_QT_MOC_BIN = "/home/javier/qtsdk-2009.05/qt/bin"

Then in harbour/contrib/hbqt

make and get the following:

! Using QT 'moc' bin: / home/javier/qtsdk-2009.05/qt/bin
/ home/javier/qtsdk-2009.05/qt/bin .. / .. / .. / hbqt_events.h-or
moc_hbqt_events.cpp
make [1]: execvp: / home/javier/qtsdk-2009.05/qt/bin: Permission denied
make [1]: *** [moc_hbqt_events.cpp] Error 127
make: *** [descend] Error 2

And if I try to sudo make, then I get the following:
! HB_INSTALL_PREFIX automatically set to: / usr / local
! 'hbqt' library skipped ( 'qt' not found)

Why?

Could you please tell me, what am I doing wrong or what else I need to
generate the hbqt lib?

I appreciate any help and comments.

Thanks

Best regards
Javier Parada
-- 
View this message in context: http://old.nabble.com/How-to-build-hbqt-lib-on-Linux-tp26950811p26950811.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vailtom at gmail.com  Tue Dec 29 01:30:09 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Dec 29 01:30:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13413] trunk/harbour
In-Reply-To: <E1NPSEA-0005P8-FB@bj8yhf1.ch3.sourceforge.com>
References: <E1NPSEA-0005P8-FB@bj8yhf1.ch3.sourceforge.com>
Message-ID: <531d7a750912282230x5f497c93m510b4321da25f212@mail.gmail.com>

Hi Pritpal!

I managed to isolate the line where the User double-clicked. All that
is needed to isolate the filename and line error when available ...
Here is the snippet of code that changed:

METHOD IdeDocks:outputDoubleClicked( lSelected )
   LOCAL qCursor
   LOCAL cCRLF := Chr(13) + Chr(10)
   LOCAL nStart := 1
   LOCAL nEnd   := 0
   LOCAL cText
   LOCAL nPos

   IF lSelected
      ::nPass++
      IF ::nPass == 1
         qCursor := QTextCursor():configure(
::oOutputResult:oWidget:textCursor() )
         HB_TRACE( HB_TR_ALWAYS, "METHOD
IdeDocks:outputDoubleClicked()", lSelected, qCursor:blockNumber() )

         nPos  := qCursor:selectionStart()
         cText := ::oOutputResult:oWidget:toPlainText()

         FOR nPos := nPos TO 0 STEP -1
             IF Subst( cText, nPos, 1 ) $ cCRLF
                nStart := nPos+1
                Exit
             Endif
         Next

         FOR nPos := nPos+1 TO Len( cText )
             IF Subst( cText, nPos, 1 ) $ cCRLF
                nEnd := nPos
                Exit
             Endif
         Next

         IF nEnd == 0
            RETURN Self
         Endif

         cText := Subst( cText, nStart, nEnd - nStart  )

         msgbox( cText )

      ENDIF
      IF ::nPass >= 2
         ::nPass := 0
      ENDIF
   ENDIF
   RETURN Self

Brgds,
Vailton Renato
From vouchcac at users.sourceforge.net  Tue Dec 29 03:47:50 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Dec 29 03:47:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13414] trunk/harbour
Message-ID: <E1NPXk6-0002xn-Pi@bj8yhf1.ch3.sourceforge.com>

Revision: 13414
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13414&view=rev
Author:   vouchcac
Date:     2009-12-29 08:47:49 +0000 (Tue, 29 Dec 2009)

Log Message:
-----------
2009-12-29 00:41 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/qtgui/QTextCursor.cpp
  * contrib/hbqt/qtgui/TQTextCursor.prg
  * contrib/hbqt/qth/QTextCursor.qth
    ! Enabled :block() commented out method.

  * contrib/hbide/hbide.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/idemisc.prg
    + Implemented double-click on any error/warning compiler output.
      This opens or brings forward source file and cursor stays at the
      offending source line. 

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbqt/qtgui/QTextCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/TQTextCursor.prg
    trunk/harbour/contrib/hbqt/qth/QTextCursor.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Dec 29 04:19:23 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Dec 29 04:19:51 2009
Subject: [Harbour] Harbour next major release wishlist
In-Reply-To: <26947861.post@talk.nabble.com>
References: <587A2A0E-467B-4C9C-B6E0-8857A269199E@syenar.hu> 
	<26947861.post@talk.nabble.com>
Message-ID: <609353e70912290119m5e61d259r246ceab156e12422@mail.gmail.com>

eXPpress++ in written in Xbase and use preprocessor to give original syntax
basically eXPress++  load gui element in array a_getlist
I think that hbxbp you have all needed element

2009/12/28 Edmer <eghorbino@yahoo.com>

>
> 2. The ability to support console commands (@ say/get, tbrowse, etc.) in
> GUI
> like what Roger Donnay did with Express++ for XBase++.
>
>
> Cheers,
> Ed
>
>
-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091229/510815d8/attachment.html
From dmacias at mail.udg.mx  Tue Dec 29 07:18:56 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Tue Dec 29 07:19:14 2009
Subject: [Harbour] Re: Harbour 2.0.0 binaries for OS/2-eCS
Message-ID: <4B39F3B0.6080301@mail.udg.mx>

Maurilio:

 >thanks for doing those builds, I was going to do the ggc one today, but
 > you were faster and more complete. :)

It was a pleasure long time expected :-)

David Macias


From dmacias at mail.udg.mx  Tue Dec 29 08:20:32 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Tue Dec 29 08:20:58 2009
Subject: [Harbour] Re: latest svn on OS/2 fails
Message-ID: <4B3A0220.9040401@mail.udg.mx>

Maurilio:

 >something went south with latest SVN on OS/2+GCC

 >12-28-2009  17:58:47  SYS2070  PID 63b3  TID 0001  Slot 0090
 >E:\REPOSITORY\HARBOUR\BIN\OS2\GCC\HBTEST.EXE
 >HBTEST->HARBOUR._hb_parvnl
 >127

 >It seems the .dll file for st has something wrong in it, from the 
error >I'd
 >say _hb_parvnl is not linked in or not exported.

 >hbmk2.exe starts ok and displays its help screen.


Is a different hbtest.exe of bin\os2\gcc\hbtest.exe ?
If so, can you post your code if I can test it ?

I checked with Harbour 13414 and os2gcc335aout and everything work fine

hbtest.exe output is below

David Macias


Harbour Regression Test Suite
Copyright (c) 1999-2010, http://www.harbour-project.org/
---------------------------------------------------------------------------
       Version: Harbour 2.0.1dev (Rev. 13414)
      Compiler: EMX GNU C 3.3.5 (32-bit)
            OS: OS/2 4.50
    Date, Time: 2009.12.29 07:14:58
        Output: (stdout)
Shortcut opt.: ON
      Switches:
===========================================================================
R No.  Line            TestCall()                               -> 
Result 
               | Expected 

---------------------------------------------------------------------------
!  612 MAIN_HVMA(373)  saArray[ 1000 ]
        Result: "E 2 BASE 1132 Bound error (array access) OS:0 #:0 
A:2:A:{.[1].};N:1000 "
      Expected: "E 2 BASE 1132 Bound error (array access) OS:0 #:0 "
!  613 MAIN_HVMA(374)  saArray[ 1000 ] := 1
        Result: "E 2 BASE 1133 Bound error (array assign) OS:0 #:0 
A:1:N:1000 "
      Expected: "E 2 BASE 1133 Bound error (array assign) OS:0 #:0 "
!  742 MAIN_HVMA(542)  RTSTR( 00000500000000000000 )
        Result: " 16  500000000000000"
      Expected: " 21       500000000000000"
!  743 MAIN_HVMA(543)  RTSTR( 0500000000000000 )
        Result: " 16  500000000000000"
      Expected: " 17   500000000000000"
! 1087 MAIN_MATH(359)  Str(1234567890 * 1234567890 )
        Result: " 1524157875019052100"
      Expected: " 1524157875019052000"
! 2889 MAIN_ARRAY(164) ASize( NIL )
        Result: "E 1 BASE 2023 Argument error (ASIZE) OS:0 #:0 A:1:U:NIL "
      Expected: "E 1 BASE 2023 Argument error (ASIZE) OS:0 #:0 "
! 2890 MAIN_ARRAY(165) ASize( {} )
        Result: "E 1 BASE 2023 Argument error (ASIZE) OS:0 #:0 
A:1:A:{.[0].} "
      Expected: "E 1 BASE 2023 Argument error (ASIZE) OS:0 #:0 "
! 2891 MAIN_ARRAY(166) ASize( ErrorNew() )
        Result: "E 1 BASE 2023 Argument error (ASIZE) OS:0 #:0 
A:1:O:ERROR Object "
      Expected: "E 1 BASE 2023 Argument error (ASIZE) OS:0 #:0 "
! 2892 MAIN_ARRAY(175) ASize( NIL, 0 )
        Result: "E 1 BASE 2023 Argument error (ASIZE) OS:0 #:0 
A:2:U:NIL;N:0 "
      Expected: "E 1 BASE 2023 Argument error (ASIZE) OS:0 #:0 "
! 2893 MAIN_ARRAY(176) ASize( NIL, 1 )
        Result: "E 1 BASE 2023 Argument error (ASIZE) OS:0 #:0 
A:2:U:NIL;N:1 "
      Expected: "E 1 BASE 2023 Argument error (ASIZE) OS:0 #:0 "
! 2894 MAIN_ARRAY(177) ASize( NIL, -1 )
        Result: "E 1 BASE 2023 Argument error (ASIZE) OS:0 #:0 
A:2:U:NIL;N:-1 "
      Expected: "E 1 BASE 2023 Argument error (ASIZE) OS:0 #:0 "
! 2916 MAIN_ARRAY(214) Array( -1 )
        Result: "E 2 BASE 1131 Bound error (array dimension) OS:0 #:0 
A:1:N:-1 "
      Expected: "E 2 BASE 1131 Bound error (array dimension) OS:0 #:0 "
! 2917 MAIN_ARRAY(215) Array( 1, 0, -10 )
        Result: "E 2 BASE 1131 Bound error (array dimension) OS:0 #:0 
A:3:N:1;N:0;N:-10 "
      Expected: "E 2 BASE 1131 Bound error (array dimension) OS:0 #:0 "
! 3056 MAIN_ARRAY(395) TAEVSM()
        Result: "N10N 9N 8N 7N 6         5"
      Expected: "N10N 9N 8N 7N 6N 5N 4N 3N 2N 1         0"
! 3057 MAIN_ARRAY(396) TASOSM1()
        Result: "NN 5NN 4NN 3NN 2         1{ 3 }"
      Expected: "NN 5NN 4NN 3NN 2NN 1NN 0NN 0NN 0NN 0NN 0NN 0NN 0 
   0{  }"
! 3058 MAIN_ARRAY(397) TASOSM2()
        Result: "NN 5NN 4NN 3NN 2         1{ 3 }"
      Expected: "NN 5NN 4NN 3NN 2NN 1NN 0NN 0NN 0NN 0NN 0         0{  }"
! 3178 MAIN_MISC(94)   Set( 40  )
        Result: 0
      Expected: NIL
! 3187 MAIN_MISC(104)  Set( 40 , -1 )
        Result: 0
      Expected: NIL
===========================================================================
Test calls passed:       4743 ( 99.62 % )
Test calls failed:         18 ( 0.38 % )
                    ----------
             Total:       4761 ( Time elapsed: 0.09 seconds )

WARNING ! Failures detected


From druzus at users.sourceforge.net  Tue Dec 29 08:34:20 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Dec 29 08:34:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13415] trunk/harbour
Message-ID: <E1NPcDM-0002oq-Vt@3kljzd1.ch3.sourceforge.com>

Revision: 13415
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13415&view=rev
Author:   druzus
Date:     2009-12-29 13:34:19 +0000 (Tue, 29 Dec 2009)

Log Message:
-----------
2009-12-29 14:34 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapi.h
  * harbour/src/common/hbprintf.c
    + added new function 'int hb_printf_params( const char * format )' which
      returns number of parameters necessary for format string

  * harbour/src/common/hbtrace.c
    * added protection against recursive calls when number of parameters
      used by HB_TRACE message us bigger then 16 and fm.c module was compiled
      with HB_TR_DEBUG macro
    % use the same number of characters for unicode and byte string buffers
    % use common memory area (union) for unicode and byte messages to reduce
      C stack usage
    Please test these modifications in real MS-Windows systems.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/src/common/hbprintf.c
    trunk/harbour/src/common/hbtrace.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Tue Dec 29 08:40:42 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Dec 29 08:42:44 2009
Subject: [Harbour] DBSEEK()
Message-ID: <4B3A06DA.8010001@dbtopas.lt>

Hello,


I have a question/discussion about DBSEEK(). I've started from the 
different ADSCDX and DBFCDX behavior and later included Clipper tests.

#ifdef __HARBOUR__
REQUEST ADSCDX
#endif
REQUEST DBFCDX
FIELD F

FUNC main(cADS)
   IF EMPTY(cADS)
     RDDSETDEFAULT("DBFCDX")
   ELSE
     RDDSETDEFAULT("ADSCDX")
   ENDIF
   ? VERSION(), RDDSETDEFAULT()

   DBCREATE("test187", {{"F", "N", 5, 0}},, .T.)
   OrdCreate("test187", "f", "F")
   DBAPPEND();  F := 1

   DBSEEK(10, .T., .F.)
   ? RECNO()
   DBSEEK(10, .T., .T.)
   ? RECNO()
   DBCLOSEALL()
RETURN 0

The code above prints:
C:\cawi32\sample\test>test187.exe

Harbour 2.0.0 (Rev. 13372) DBFCDX
          2
          1
C:\cawi32\sample\test>test187.exe xxx

Harbour 2.0.0 (Rev. 13372) ADSCDX
          2
          2
C:\cawi32\sample\test>test187.exe

Clipper (R) 5.2e Intl. (x216)  (1995.02.07) DBFCDX
       2
       2

So, I looks like Harbour's DBFCDX is wrong and ADSCDX is OK, but my 
co-worker said, that Clipper has bugs in softseek. I've tried another test:

REQUEST DBFCDX
#ifdef __HARBOUR__
REQUEST ADSCDX
#endif
FIELD F

PROC main(cADS)
   IF EMPTY(cADS)
     RDDSETDEFAULT("DBFCDX")
   ELSE
     RDDSETDEFAULT("ADSCDX")
   ENDIF
   ? VERSION(), RDDSETDEFAULT()
   DBCREATE("test188", {{"F", "N", 5, 0}},, .T.)
   OrdCreate("test188", "f", "F")
   DBAPPEND();  F := 1
   DBAPPEND();  F := 1
   DBAPPEND();  F := 3
   DBAPPEND();  F := 3
   DBSEEK(2, .T., .F.)
   ? RECNO()
   DBSEEK(2, .T., .T.)
   ? RECNO()
   DBCLOSEALL()
RETURN

It prints:
C:\cawi32\sample\test>test188.exe

Harbour 2.0.0 (Rev. 13372) DBFCDX
          3
          2
C:\cawi32\sample\test>test188.exe xxx

Harbour 2.0.0 (Rev. 13372) ADSCDX
          2
          2
C:\cawi32\sample\test>test188.exe

Clipper (R) 5.2e Intl. (x216)  (1995.02.07) DBFCDX
       5
       5

So, we have a different behavior for all of RDD's, and I seems Clipper 
ignores softseek at all.


 From a printed (CL53) reference guide vol.1 page 2-315 I can read: 
"<lLast> is specified as true (.T.) to seek the last occurence of the 
specified key value." , but it is not clear how it works if specified 
key does not exists. I can also read on the same page: "... for a soft 
seek, the work area is positioned to the first record whose key value is 
greater than the specified key value. If no such record exists, the work 
area is positioned to LASTREC() + 1 and EOF() returns true (.T.)".

So, in the latter sample (test188) I would expect:
         3
         4
but not any of the above results from various tests.

*** So, how soft seek and last seek should work? ***

The question becomes even more complicated if think about DESCENT index.



Regards,
Mindaugas
From marcobra.ubuntu at gmail.com  Tue Dec 29 08:53:01 2009
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Tue Dec 29 08:53:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13414] trunk/harbour
In-Reply-To: <E1NPXk6-0002xn-Pi@bj8yhf1.ch3.sourceforge.com>
References: <E1NPXk6-0002xn-Pi@bj8yhf1.ch3.sourceforge.com>
Message-ID: <fd76479f0912290553l68c9de65p8796776a5d141b53@mail.gmail.com>

With Harbour 2.0.1dev (Rev. 13414) on a Ubuntu 9.10 32 bits after a
full compiling of hbide

hbmk2 hbide.hbp

with no errors or warnings running

./hbide

i get this runtime error "cat hb_out.log"

Application Internal Error - /home/ubuntu/src/harbour/contrib/hbide/hbide
Terminated at: 2009.12.29 14:42:49
Unrecoverable error 6005: Exception SIGSEGV at address 0x4


A dialog window show me this detailed errors list:

Error BASE/1068  Argument error: array access

Called from SETAPPEVENT(0)

Called from XBPDIALOG:GRABEVENT(0)

Called from (b)XBPDIALOG_CREATE(0)

Called from QT_QWIDGET_SHOW(0)

Called from QMAINWINDOW:SHOW(0)

Called from XBPDIALOG:SHOW(0)

Called from XBPDIALOG:CREATE(0)

Called from HBIDE:BUILDDIALOG(1081)

Called from HBIDE:CREATE(273)

Called from MAIN(101)

--------------------------------------------------------------------
Thank you and best regards
From capelsoft at terra.es  Tue Dec 29 09:28:30 2009
From: capelsoft at terra.es (=?iso-8859-1?Q?Jos=E9_Luis_Capel_~_CapelSoft?=)
Date: Tue Dec 29 09:28:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13414] trunk/harbour
In-Reply-To: <fd76479f0912290553l68c9de65p8796776a5d141b53@mail.gmail.com>
References: <E1NPXk6-0002xn-Pi@bj8yhf1.ch3.sourceforge.com>
	<fd76479f0912290553l68c9de65p8796776a5d141b53@mail.gmail.com>
Message-ID: <E8BC57F4441548E7AB9CB6B8716767A7@BASETIERRA1>

Hi,

>
> A dialog window show me this detailed errors list:
>
> Error BASE/1068  Argument error: array access
>
> Called from SETAPPEVENT(0)
>
> Called from XBPDIALOG:GRABEVENT(0)
>
> Called from (b)XBPDIALOG_CREATE(0)
>
> Called from QT_QWIDGET_SHOW(0)
>
> Called from QMAINWINDOW:SHOW(0)
>
> Called from XBPDIALOG:SHOW(0)
>
> Called from XBPDIALOG:CREATE(0)
>
> Called from HBIDE:BUILDDIALOG(1081)
>
> Called from HBIDE:CREATE(273)
>
> Called from MAIN(101)
>

Same happens on Windows Vista (Mingw) 32 bits.

Regards,
Jos? Luis Capel 

From druzus at acn.waw.pl  Tue Dec 29 10:15:23 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec 29 10:15:33 2009
Subject: [Harbour] DBSEEK()
In-Reply-To: <4B3A06DA.8010001@dbtopas.lt>
References: <4B3A06DA.8010001@dbtopas.lt>
Message-ID: <20091229151523.GA12730@linux-4bod.home.aster.pl>

On Tue, 29 Dec 2009, Mindaugas Kavaliauskas wrote:

Hi,

> I have a question/discussion about DBSEEK(). I've started from the
> different ADSCDX and DBFCDX behavior and later included Clipper
> tests.
> #ifdef __HARBOUR__
> REQUEST ADSCDX
> #endif
> REQUEST DBFCDX
> FIELD F
> FUNC main(cADS)
>   IF EMPTY(cADS)
>     RDDSETDEFAULT("DBFCDX")
>   ELSE
>     RDDSETDEFAULT("ADSCDX")
>   ENDIF
>   ? VERSION(), RDDSETDEFAULT()
>   DBCREATE("test187", {{"F", "N", 5, 0}},, .T.)
>   OrdCreate("test187", "f", "F")
>   DBAPPEND();  F := 1
>   DBSEEK(10, .T., .F.)
>   ? RECNO()
>   DBSEEK(10, .T., .T.)
>   ? RECNO()
>   DBCLOSEALL()
> RETURN 0
> The code above prints:
> C:\cawi32\sample\test>test187.exe
> Harbour 2.0.0 (Rev. 13372) DBFCDX
>          2
>          1
> C:\cawi32\sample\test>test187.exe xxx
> 
> Harbour 2.0.0 (Rev. 13372) ADSCDX
>          2
>          2
> C:\cawi32\sample\test>test187.exe
> Clipper (R) 5.2e Intl. (x216)  (1995.02.07) DBFCDX
>       2
>       2

Clipper 5.2 does not support 3-rd parameter <lLast> in dbSeek()
function. This is only CL5.3 DBFCDX feature.

> So, I looks like Harbour's DBFCDX is wrong and ADSCDX is OK, but my
> co-worker said, that Clipper has bugs in softseek. I've tried

Harbour results are correct and are the same as in CL53/COMIX CDX
implementation. Seek last with softseek on should fully revert the
positioning order and when exact key cannot be found should stop
at 1-st smaller value (1 in 1-st record in your example) or at EOF
if smaller value does not exists (try: DBSEEK(0, .T., .T.))

I have no idea if seek last in ADS works correctly or not.

> another test:
> REQUEST DBFCDX
> #ifdef __HARBOUR__
> REQUEST ADSCDX
> #endif
> FIELD F
> PROC main(cADS)
>   IF EMPTY(cADS)
>     RDDSETDEFAULT("DBFCDX")
>   ELSE
>     RDDSETDEFAULT("ADSCDX")
>   ENDIF
>   ? VERSION(), RDDSETDEFAULT()
>   DBCREATE("test188", {{"F", "N", 5, 0}},, .T.)
>   OrdCreate("test188", "f", "F")
>   DBAPPEND();  F := 1
>   DBAPPEND();  F := 1
>   DBAPPEND();  F := 3
>   DBAPPEND();  F := 3
>   DBSEEK(2, .T., .F.)
>   ? RECNO()
>   DBSEEK(2, .T., .T.)
>   ? RECNO()
>   DBCLOSEALL()
> RETURN
> It prints:
> C:\cawi32\sample\test>test188.exe
> Harbour 2.0.0 (Rev. 13372) DBFCDX
>          3
>          2

So Harbour DBFCDX results are correct.

> C:\cawi32\sample\test>test188.exe xxx
> Harbour 2.0.0 (Rev. 13372) ADSCDX
>          2
>          2

Interesting, looks like both forward and backward seek gives wrong
results in ADS.

> C:\cawi32\sample\test>test188.exe
> Clipper (R) 5.2e Intl. (x216)  (1995.02.07) DBFCDX
>       5
>       5

Passing 3 parameters to dbSeek() in CL5.2 breaks the second one.
If you remove the 3-rd parameter then you will have:
       3
       3
and these are expected Harbour native RDDs compatible results for
forward seek.

> So, we have a different behavior for all of RDD's, and I seems
> Clipper ignores softseek at all.

No. CL5.2 does not support 3-rd parameter in DBSEEK() and using it breaks
the second one. If you fix your test code to be CL5.2 compatible then
it gives the same results as Harbour.

Only ADS seems to be broken. I still cannot find 64 bit ADS local
server client for Linux so I cannot test it and confirm your results
so I cannot tell you if it's Harbour ADSRDD or ADS/ACE problem which
should be reported to Extended System.

> From a printed (CL53) reference guide vol.1 page 2-315 I can read:
> "<lLast> is specified as true (.T.) to seek the last occurence of
> the specified key value." , but it is not clear how it works if
> specified key does not exists. I can also read on the same page:
> "... for a soft seek, the work area is positioned to the first
> record whose key value is greater than the specified key value. If
> no such record exists, the work area is positioned to LASTREC() + 1
> and EOF() returns true (.T.)".

It's defined indirectly by dynamic descend flag which causes
that seek last should work like in Harbour native RDDs and
CL53/COMIX. In such implementation seek last is fully revertible
by switching to descending order ( ordDescend(,,!ordDescend()) )
and forward seek. Otherwise we will have some anomalies.

> So, in the latter sample (test188) I would expect:
>         3
>         4

No. 3 and 2.

> but not any of the above results from various tests.
> *** So, how soft seek and last seek should work? ***

Just like in Harbour native RDDs.

> The question becomes even more complicated if think about DESCENT index.

No, in clear implementation there is no problem at all (see above)
and in Harbour all native RDDs fully respects seek last in ascending
and descending orders also with dynamic descond flag.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Dec 29 10:45:11 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Dec 29 10:45:19 2009
Subject: [Harbour] DBSEEK()
In-Reply-To: <20091229151523.GA12730@linux-4bod.home.aster.pl>
References: <4B3A06DA.8010001@dbtopas.lt>
	<20091229151523.GA12730@linux-4bod.home.aster.pl>
Message-ID: <20091229154511.GA14040@linux-4bod.home.aster.pl>

On Tue, 29 Dec 2009, Przemys?aw Czerpak wrote:
> Only ADS seems to be broken. I still cannot find 64 bit ADS local
> server client for Linux so I cannot test it and confirm your results
> so I cannot tell you if it's Harbour ADSRDD or ADS/ACE problem which
> should be reported to Extended System.

I've just tested 32bit Linux Harbour build on remote machines
with and ADS local server in your second tests gives the same
results as Harbour (2 3) so it's possible that the problem is
only in ADS remote server or in some ACE libraries (I used 9.10)

best regards,
Przemek
From dbtopas at dbtopas.lt  Tue Dec 29 12:05:12 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Dec 29 12:07:13 2009
Subject: [Harbour] DBSEEK()
In-Reply-To: <20091229151523.GA12730@linux-4bod.home.aster.pl>
References: <4B3A06DA.8010001@dbtopas.lt>
	<20091229151523.GA12730@linux-4bod.home.aster.pl>
Message-ID: <4B3A36C8.8050004@dbtopas.lt>

Hi,


Przemys?aw Czerpak wrote:
> Harbour results are correct and are the same as in CL53/COMIX CDX
> implementation. Seek last with softseek on should fully revert the
> positioning order and when exact key cannot be found should stop
> at 1-st smaller value (1 in 1-st record in your example) or at EOF
> if smaller value does not exists (try: DBSEEK(0, .T., .T.))

> It's defined indirectly by dynamic descend flag which causes
> that seek last should work like in Harbour native RDDs and
> CL53/COMIX. In such implementation seek last is fully revertible
> by switching to descending order ( ordDescend(,,!ordDescend()) )
> and forward seek. Otherwise we will have some anomalies.

Ok, if understand the idea of seeklast now, then it means "try doing 
seek backward (in reversed index order, like using DESCEND)", but not 
"return the last record (having maximal recno value) of the records 
having the same key value".


>> C:\cawi32\sample\test>test188.exe
>> Harbour 2.0.0 (Rev. 13372) DBFCDX
>>          3
>>          2
> 
> So Harbour DBFCDX results are correct.
> 
>> C:\cawi32\sample\test>test188.exe xxx
>> Harbour 2.0.0 (Rev. 13372) ADSCDX
>>          2
>>          2

> I've just tested 32bit Linux Harbour build on remote machines
> with and ADS local server in your second tests gives the same
> results as Harbour (2 3) so it's possible that the problem is
> only in ADS remote server or in some ACE libraries (I used 9.10)

Sorry, I've made a mistake doing copy-paste results from console into 
email. The second test returns the same result (3 and 2) in both 
Harbour's DBFCDX and ADSCDX with both local and remote server. I've by 
mistake copy-pasted results of the first test twice for ADSCDX.

But ADS still have bug in the first test. If softseek positions at EOF 
seeklast does not help to stop on last record. Here is the test 
indicating both correct (in some cases) and wrong (in another cases) 
behavior of ADS:

REQUEST DBFCDX
#ifdef __HARBOUR__
REQUEST ADSCDX
#endif
FIELD F

PROC main(cADS, cLocal)
   IF EMPTY(cADS)
     RDDSETDEFAULT("DBFCDX")
   ELSE
     RDDSETDEFAULT("ADSCDX")
     AdsSetServerType(IIF(EMPTY(cLocal), 2, 1))
   ENDIF
   ? VERSION(), RDDSETDEFAULT()
   DBCREATE("test188", {{"F", "N", 5, 0}},, .T.)
   OrdCreate("test188", "f", "F", {|| F})
   DBAPPEND();  F := 1
   DBAPPEND();  F := 1
   DBAPPEND();  F := 3
   DBAPPEND();  F := 3
   DBSEEK(2, .T., .F.)
   ? RECNO()
   DBSEEK(2, .T., .T.)
   ? RECNO()
   DBSEEK(10, .T., .F.)
   ? RECNO()
   DBSEEK(10, .T., .T.)
   ? RECNO()
   DBCLOSEALL()
RETURN

-------------
K:\TMP\_AdsBug_>TEST188.EXE

Harbour 2.0.0 (Rev. 13372) DBFCDX
          3
          2
          5
          4
K:\TMP\_AdsBug_>TEST188.EXE ads

Harbour 2.0.0 (Rev. 13372) ADSCDX
          3
          2
          5
          5
-------------


Regards,
Mindaugas
From bedipritpal at hotmail.com  Tue Dec 29 12:10:06 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Dec 29 12:10:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13409] trunk/harbour
In-Reply-To: <531d7a750912281837x499ce566g4a22baec2aca70cc@mail.gmail.com>
References: <E1NPNOX-00022W-Cw@dn4whf1.ch3.sourceforge.com>
	<531d7a750912281503g351a0c22odaf8621ef8255d2b@mail.gmail.com>
	<26950171.post@talk.nabble.com>
	<531d7a750912281806n3c627c85q2b0a8bc59098537d@mail.gmail.com>
	<26950371.post@talk.nabble.com>
	<531d7a750912281837x499ce566g4a22baec2aca70cc@mail.gmail.com>
Message-ID: <26957152.post@talk.nabble.com>


Hello


Vailton Renato wrote:
> 
> My idea is that when you double click on a line with error or warning,
> the hbide now jump to the relevant line of source code that generated
> the message ... This will be very practical!
> = D
> 

Done.



> And on the issue of icons, I can mount a case then ... because I find
> it interesting to have a tool with its own identity and I think this
> would be something important (no offense to xMate) ...
> 

This is what you think, I may think otherwise, no personal offence...



> * Keyboard shortcuts would be loaded from an external file that the
> user could choose the kind that pleases more leh: Pascal (F9 run,
> compile ^ F9), MSVC (F5 run, ^ F5 to compile, etc.) or xMate or VB,
> etc. ..
> 

This is quiet easy. I will implement in a day or two and is on my TODO list.



> * The translation of texts, could follow the same model xMate or
> MyMake: a text file with 1 line for each text to be translated.
> 

Because I never had any need for that so have never exploited it anyway.
Which strings are subject to translatation ? Few years back I provided
this very mechanism in Vouch32.lib so I know it is a matter of couple 
of hours, the only need is to identify where those translations are applied.



> * If we can intercept the Ctrl+Space inside the IDE, I could implement
> Code Insight in the HBIDE from :aTags thus speeding the development.
> 

Can you explain in detail this idea? I could not catch up.



> * If each item :aTabs is an object and not an array, I believe the
> performance will not be harmed and would greatly facilitate our work
> of manipulating information, especially when the Code is implemented
> insight.
> 

First step is already implemented. Next step is exactly what you are 
looking for.

Thanks for the insight.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13409--trunk-harbour-tp26948349p26957152.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From dbtopas at dbtopas.lt  Tue Dec 29 12:26:43 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Dec 29 12:28:44 2009
Subject: [Harbour] DBSEEK()
In-Reply-To: <4B3A36C8.8050004@dbtopas.lt>
References: <4B3A06DA.8010001@dbtopas.lt>	<20091229151523.GA12730@linux-4bod.home.aster.pl>
	<4B3A36C8.8050004@dbtopas.lt>
Message-ID: <4B3A3BD3.3000508@dbtopas.lt>

Hi, Przemek,


I've made fixed in my SVN copy, but I see you comment in ADSRDD code 
related to the subject, so, please verify, that fix is OK.


Index: C:/harbour/contrib/rddads/ads1.c
===================================================================
--- C:/harbour/contrib/rddads/ads1.c	(revision 13378)
+++ C:/harbour/contrib/rddads/ads1.c	(working copy)
@@ -1072,13 +1072,14 @@

           AdsAtEOF( pArea->hTable, &u16Eof );
           if( !u16Eof )
+            u32RetVal = AdsSkip( pArea->hOrdCurrent, -1 );
+         else
+            u32RetVal = AdsGotoBottom( pArea->hOrdCurrent );
+
+         if( u32RetVal != AE_SUCCESS )
           {
-            u32RetVal = AdsSkip( pArea->hOrdCurrent, -1 );
-            if( u32RetVal != AE_SUCCESS )
-            {
-               commonError( pArea, EG_CORRUPTION, ( HB_ERRCODE ) 
u32RetVal, 0, NULL, EF_CANDEFAULT, NULL );
-               return HB_FAILURE;
-            }
+            commonError( pArea, EG_CORRUPTION, ( HB_ERRCODE ) 
u32RetVal, 0, NULL, EF_CANDEFAULT, NULL );
+            return HB_FAILURE;
           }
        }
     }


I also attach extended test code. It includes also test for the 
seeksoft/seeklast in the beginning of index.


Regards,
Mindaugas


REQUEST DBFCDX
#ifdef __HARBOUR__
REQUEST ADSCDX
#endif
FIELD F

PROC main(cADS, cLocal)
   IF EMPTY(cADS)
     RDDSETDEFAULT("DBFCDX")
   ELSE
#ifdef __HARBOUR__
     RDDSETDEFAULT("ADSCDX")
     AdsSetServerType(IIF(EMPTY(cLocal), 2, 1))
#endif
   ENDIF
   ? VERSION(), RDDSETDEFAULT()
   DBCREATE("test188", {{"F", "N", 5, 0}},, .T.)
   OrdCreate("test188", "f", "F", {|| F})
   DBAPPEND();  F := 1
   DBAPPEND();  F := 1
   DBAPPEND();  F := 3
   DBAPPEND();  F := 3
   DBSEEK(2, .T., .F.);  ? RECNO()
   DBSEEK(2, .T., .T.);  ? RECNO()
   DBSEEK(9, .T., .F.);  ? RECNO()
   DBSEEK(9, .T., .T.);  ? RECNO()
   DBSEEK(0, .T., .F.);  ? RECNO()
   DBSEEK(0, .T., .T.);  ? RECNO()
   DBCLOSEALL()
RETURN
From vailtom at gmail.com  Tue Dec 29 12:51:00 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Dec 29 12:51:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13409] trunk/harbour
In-Reply-To: <26957152.post@talk.nabble.com>
References: <E1NPNOX-00022W-Cw@dn4whf1.ch3.sourceforge.com> 
	<531d7a750912281503g351a0c22odaf8621ef8255d2b@mail.gmail.com> 
	<26950171.post@talk.nabble.com>
	<531d7a750912281806n3c627c85q2b0a8bc59098537d@mail.gmail.com> 
	<26950371.post@talk.nabble.com>
	<531d7a750912281837x499ce566g4a22baec2aca70cc@mail.gmail.com> 
	<26957152.post@talk.nabble.com>
Message-ID: <531d7a750912290951k3f2903c9v24409ca058fef832@mail.gmail.com>

Hi!

I am working on the SVN version and I am trying to set an example of
Code Insight even rudimentary so you can get an idea of what is... and
something with icons and menus for shotcurts is loading external
files. I send to you something today or tomorrow ...


Regards,
Vailton Renato

2009/12/29 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hello
>
>
> Vailton Renato wrote:
>>
>> My idea is that when you double click on a line with error or warning,
>> the hbide now jump to the relevant line of source code that generated
>> the message ... This will be very practical!
>> = D
>>
>
> Done.
>
>
>
>> And on the issue of icons, I can mount a case then ... because I find
>> it interesting to have a tool with its own identity and I think this
>> would be something important (no offense to xMate) ...
>>
>
> This is what you think, I may think otherwise, no personal offence...
>
>
>
>> * Keyboard shortcuts would be loaded from an external file that the
>> user could choose the kind that pleases more leh: Pascal (F9 run,
>> compile ^ F9), MSVC (F5 run, ^ F5 to compile, etc.) or xMate or VB,
>> etc. ..
>>
>
> This is quiet easy. I will implement in a day or two and is on my TODO list.
>
>
>
>> * The translation of texts, could follow the same model xMate or
>> MyMake: a text file with 1 line for each text to be translated.
>>
>
> Because I never had any need for that so have never exploited it anyway.
> Which strings are subject to translatation ? Few years back I provided
> this very mechanism in Vouch32.lib so I know it is a matter of couple
> of hours, the only need is to identify where those translations are applied.
>
>
>
>> * If we can intercept the Ctrl+Space inside the IDE, I could implement
>> Code Insight in the HBIDE from :aTags thus speeding the development.
>>
>
> Can you explain in detail this idea? I could not catch up.
>
>
>
>> * If each item :aTabs is an object and not an array, I believe the
>> performance will not be harmed and would greatly facilitate our work
>> of manipulating information, especially when the Code is implemented
>> insight.
>>
>
> First step is already implemented. Next step is exactly what you are
> looking for.
>
> Thanks for the insight.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13409--trunk-harbour-tp26948349p26957152.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From Istvan.Bisz at t-online.hu  Tue Dec 29 12:54:40 2009
From: Istvan.Bisz at t-online.hu (=?UTF-8?Q?Bisz_Istv=C3=A1n?=)
Date: Tue Dec 29 12:54:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13415] trunk/harbour
In-Reply-To: <E1NPcDM-0002oq-Vt@3kljzd1.ch3.sourceforge.com>
References: <E1NPcDM-0002oq-Vt@3kljzd1.ch3.sourceforge.com>
Message-ID: <001101ca88af$fedbea40$fc93bec0$@Bisz@t-online.hu>

Hi,

> Please test these modifications in real MS-Windows systems.

Clean and nice as always, thank you Przemek!

After testing with and without -DHB_TR_LEVEL_DEBUG cflags, it works as it is expected.

In my test case the QApplication.cpp: line 212-214 contains:
 
   HB_TRACE( HB_TR_DEBUG, ( "          new_QApplication                %i B %i KB", ( int ) hb_xquery( 1001 ), hbqt_getmemused() ) );
   HB_TRACE( HB_TR_DEBUG, ( "0=%i 0=%i 2=%i 3=%i 4=%i 5=%i 6=%i 7=%i 8=%i 9=%i A=%i B=%i C=%i D=%i E=%i F=%i",       0,1,2,3,4,5,6,7,8,9,10,11,12,12,14,15 ) );
   HB_TRACE( HB_TR_DEBUG, ( "0=%i 0=%i 2=%i 3=%i 4=%i 5=%i 6=%i 7=%i 8=%i 9=%i A=%i B=%i C=%i D=%i E=%i F=%i 10=%i", 0,1,2,3,4,5,6,7,8,9,10,11,12,12,14,15,16 ) );

and DbgView shows with HB_TR_LEVEL_DEBUG defined in fm.c:
 
00062246	17:42:34.462	[4612] c:\downloads\harbour\src\vm\fm.c:1187: HB_TR_DEBUG hb_xquery(1001)
00062247	17:42:34.462	[4612] c:\downloads\harbour\src\vm\fm.c:1187: (???)           new_QApplication                0 B 3100 KB
00062248	17:42:34.462	[4612] QApplication.cpp:213: HB_TR_DEBUG 0=0 0=1 2=2 3=3 4=4 5=5 6=6 7=7 8=8 9=9 A=10 B=11 C=12 D=12 E=14 F=15
00062249	17:42:34.462	[4612] QApplication.cpp:214: HB_TR_DEBUG more then 16 parameters in message '0=%i 0=%i 2=%i 3=%i 4=%i 5=%i 6=%i 7=%i 8=%i 9=%i A=%i B=%i C=%i D=%i E=%i F=%i 10=%i'

My test results:

1. Analyzing the output produced by the line 212 we can see that the file, line and level info is altered. Maybe is useful to send here the original info instead of hb_xquery trace location.
2. The insertion of the hb_xtraced function in nortl.c it was necessary to build harbour with HB_TR_LEVEL_DEBUG defined:

HB_BOOL hb_xtraced( void )
{
   return HB_FALSE;
}

Best regards,
Istv?n


From m.lacecilia at gmail.com  Tue Dec 29 13:27:48 2009
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Tue Dec 29 13:27:56 2009
Subject: [Harbour] hbide build problem
Message-ID: <26958110.post@talk.nabble.com>


Surely, as usual, it's my problem...
At link time quite all modules fails due to undefined reference to 
"_Unwind_Resume" and "__cxa_get_exception_ptr" and "__gxx_personality_v0".
What i missed?
TIA
Maurizio
-- 
View this message in context: http://old.nabble.com/hbide-build-problem-tp26958110p26958110.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From david at gesintur.com  Tue Dec 29 13:51:42 2009
From: david at gesintur.com (David MS)
Date: Tue Dec 29 13:51:50 2009
Subject: [Harbour] Abnormal program termination after duplicate alias error
	with SDDMY
Message-ID: <3AFD88DA3EC1404BB5C04F66880EB65E@INFOR04>

Hi,

Mindaugas,
I was testing RDDSQL and error capture when I notice that my program ends 
whith an unexpected "abnormal program termination" after an error of 
duplicate alias.

Forcing other errors never get this message.

i.e:

test1.prg

function main()
 dbUSEarea(.t.,, "test.dbf","test1",.t.)
 dbUSEarea(.t.,, "test.dbf","test1",.t.)
RETURN

c:\test1.exe
Error DBCMD/1011  Alias already in use: test1
Called from DBUSEAREA(0)
Called from MAIN(3)

test2.prg

#include "hbrddsql.ch"
function main()
REQUEST SDDMY
RDDSETDEFAULT("SQLBASE")
IF RDDINFO(RDDI_CONNECT , {"MYSQL", "localhost", "user","pass", "table"}) == 
0
      qout( "Unable connect to the server")
      RETURN
ENDIF
DBUSEAREA( .T.,, "SELECT * FROM table", "test" )
DBUSEAREA( .T.,, "SELECT * FROM table", "test" )
RETURN

c:\test2.exe
Error DBCMD/1011  Alias already in use: test
Called from DBUSEAREA(0)
Called from MAIN(10)
abnormal program termination

Tested  with  mingw,  Harbour 2.0.1dev (Rev. 13395) over windows XP SP3


Best Regards,
David Monta?o

From bedipritpal at hotmail.com  Tue Dec 29 14:11:54 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Dec 29 14:12:01 2009
Subject: [Harbour] hbide build problem
In-Reply-To: <26958110.post@talk.nabble.com>
References: <26958110.post@talk.nabble.com>
Message-ID: <26958621.post@talk.nabble.com>


Hi


Maurizio la Cecilia wrote:
> 
> Surely, as usual, it's my problem...
> At link time quite all modules fails due to undefined reference to 
> "_Unwind_Resume" and "__cxa_get_exception_ptr" and "__gxx_personality_v0".
> What i missed?
> 

Install MINGW version pointed in INSTALL.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/hbide-build-problem-tp26958110p26958621.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bruno.luciani at gmail.com  Tue Dec 29 21:52:17 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Dec 29 21:52:25 2009
Subject: [Harbour] HBIDE dont start , see image
Message-ID: <133778360912291852n195b73dkbefffe91632554a9@mail.gmail.com>

http://www.postimage.org/image.php?v=PqU0F5r


Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091229/f57e9e71/attachment-0001.html
From bedipritpal at hotmail.com  Tue Dec 29 22:27:51 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Dec 29 22:27:57 2009
Subject: [Harbour] HBIDE dont start , see image
In-Reply-To: <133778360912291852n195b73dkbefffe91632554a9@mail.gmail.com>
References: <133778360912291852n195b73dkbefffe91632554a9@mail.gmail.com>
Message-ID: <26963703.post@talk.nabble.com>


Hi


Bruno Luciani wrote:
> 
> http://www.postimage.org/image.php?v=PqU0F5r
> 

Can you compile hbxbp with -l- to force line numbers.
GrabEvent() method is fairly big one and this error does 
not report which event has failed.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/HBIDE-dont-start-%2C-see-image-tp26963483p26963703.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vailtom at gmail.com  Tue Dec 29 23:11:38 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Dec 29 23:12:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13409] trunk/harbour
In-Reply-To: <531d7a750912290951k3f2903c9v24409ca058fef832@mail.gmail.com>
References: <E1NPNOX-00022W-Cw@dn4whf1.ch3.sourceforge.com> 
	<531d7a750912281503g351a0c22odaf8621ef8255d2b@mail.gmail.com> 
	<26950171.post@talk.nabble.com>
	<531d7a750912281806n3c627c85q2b0a8bc59098537d@mail.gmail.com> 
	<26950371.post@talk.nabble.com>
	<531d7a750912281837x499ce566g4a22baec2aca70cc@mail.gmail.com> 
	<26957152.post@talk.nabble.com>
	<531d7a750912290951k3f2903c9v24409ca058fef832@mail.gmail.com>
Message-ID: <531d7a750912292011o2f061fb2xc4cee8386ddea505@mail.gmail.com>

Hi!

I made some adjustments in hbide would like to share with you before
you mount the sample code insight. I noted that details were changed
and the following:

* ParseFNfromStatusMsg() new function to catch source file name & line
error from
an msg status from compiler result. Support BCC, MSVC and GCC compiler & linker
errors messages and warnings.

* ConvertBuildStatusMsgToHtml() revised to be a routine more objective
and clear.

* outputDoubleClicked() revised to set the focus in the file after
processing the
double click. The code has been cleared to use the new function
ParseFNfromStatusMsg()

* getCurrentProject() Revised to ignore any empty project names.

* Updated icons to 16x16 pixels, high color.. Update menus and texts.

Would you like to comment on the icons to find out if I continue to
adjust these images and the changes mentioned.

Link to download this draft:
http://www.kssoftware.com.br/hbide.3.zip

Regards,
Vailton Renato
From M.Horodyski at pzuzycie.com.pl  Wed Dec 30 03:45:26 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Dec 30 03:45:35 2009
Subject: [Harbour] Building HBIDE and qtcore4 lib.
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC6FD1@PINK.zycie.pzu>

When I try biuld hbide, on screen I see messege :

C:\harbour\contrib\hbide>hbmk2 hbide.hbp :
....
hbmk2: Linking... hbide.exe
c:/gcc/mingw/bin/../lib/gcc/mingw32/4.4.0/../../../../mingw32/bin/ld.exe: cannot find -lQtCore4
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
...

I see that qtcore4 lib is call in file :
C:\harbour\contrib\gtqtc\gtqtcs.hbc :
? 7?libs=QtCore4 QtGui4 QtNetwork4 QtWebKit4

But in my QT einwironment is only file :
C:\Qt\4.5.2\bin\QtCore4.dll :
?QtCore4                          dll?  2744320?09-08-20?11:02

In lib directory is :

C:\Qt\4.5.2\lib\libQtCore4.a :
?libQtCore4                         a?  2294396?09-06-20?06:43

Why builid process not see this lib ?

(  My sets on XP SP3 :

HB_COMPILER=mingw
HB_INC_QT=C:\Qt\4.5.2\include
HB_QT_STATIC=no (the same on yes status)
Path=C:\gcc\mingw\bin;C:\harbour\bin;C:\instantclient\ODBC;C:\Windows\System32;C:\oracle\product\10.2.0\client_1\bin;C:\WINDOWS\system32;C:\WINDOWS; ...  
)

Regards,
Marek Horodyski
From vito at mcfrontis.hr  Wed Dec 30 06:11:00 2009
From: vito at mcfrontis.hr (Vitomir Cvitanovic)
Date: Wed Dec 30 06:11:13 2009
Subject: [Harbour] CodePage different behaviour between 2.0.0beta3 and 2.0.0
	(Win)
Message-ID: <96C528991F4E4155854A5A4339AA2D22@vitowork>

Hi to all,

I have recompiled my clipper programs with Harbour (beta3 version), and
all tests looks great - speed, stability, and the most important CodePage!

All strings in prg-s are in HR437 CP.
What I was able to do (to have) with beta3 release was:
- All Dbfs are in HR437
- Keyboard is (Win standard) HR (HR852)
- On Display everything is in HR852, but internaly in HR437 - exactly what I 
need :)

After Clean install of 2.0.0 release (win binaries) no keyboard and/or 
Display
conversion is active :(


My Configuration:
- Win XP SP3 (Regional settings - Croatian)
- Compiler - mingw
- Harbour release:
   Clean harbour-2.0.0beta3-win.exe (downloaded september 11, 2009)
   Clean harbour-2.0.0-win.exe (downloaded Deceber 23, 2009)


I would kindly ask if someone could verify and/or point me what I'm doing 
wrong

With regards,

Vito


Test Code:

//-----------------------
REQUEST HB_CODEPAGE_HR437
REQUEST HB_CODEPAGE_HR852

LOCAL  yyy

HB_CdpSelect("HR437")
HB_SetKeyCP ('HR437', 'HR852', .T.)
HB_SetDispCP('HR852', 'HR437', .T.)
MSetCursor(.F.)
SetMode(25, 80)
SetBlink(.F.)

Scroll()
yyy := PadR('[\^]@', 10)
@ 12, 10 SAY 'HR437 - [\^]@:' GET yyy // (1)
READ

MemoWrit('TestCP.LST', yyy)
//-----------------------


Results:

      -----------------------------------------------------
      | Visible on screen    |  Get is extended           |
      | (under CMD - 852)    |  with (852) ?????          |
------|----------------------|----------------------------|
beta3 | HR437 - ?????: ????? |  HR437 - ?????: ?????????? |
------|----------------------|----------------------------
2.0.0 | HR437 - [\^]@: [\^]@ |  HR437 - [\^]@: [\^]@????? |
------|----------------------|----------------------------- 


       ---------------------------
      | Saved in TestCP.LST       |
      | (Viewed under CMD - 852)  |
------|---------------------------|
beta3 | [\^]@{|~}`                |
------|---------------------------|
2.0.0 | [\^]@?????                |
------|--------------------------- 

From vailtom at gmail.com  Wed Dec 30 07:24:11 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Wed Dec 30 07:24:37 2009
Subject: [Harbour] Building HBIDE and qtcore4 lib.
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC6FD1@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC6FD1@PINK.zycie.pzu>
Message-ID: <531d7a750912300424j1c6d3feeud43e85c087a023e8@mail.gmail.com>

Hi!

Try adding this line to your c:\harbor\contrib\hbxbp\hbxbp.hbc:

libpaths=c:\Qt\4.5.2\qt\lib

Here with me, this has solved... test and please inform us.

Regards,
Vailton Renato
From mbelgrano at deltain.it  Wed Dec 30 07:53:23 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 30 07:53:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13409] trunk/harbour
In-Reply-To: <26957152.post@talk.nabble.com>
References: <E1NPNOX-00022W-Cw@dn4whf1.ch3.sourceforge.com> 
	<531d7a750912281503g351a0c22odaf8621ef8255d2b@mail.gmail.com> 
	<26950171.post@talk.nabble.com>
	<531d7a750912281806n3c627c85q2b0a8bc59098537d@mail.gmail.com> 
	<26950371.post@talk.nabble.com>
	<531d7a750912281837x499ce566g4a22baec2aca70cc@mail.gmail.com> 
	<26957152.post@talk.nabble.com>
Message-ID: <609353e70912300453j7e7c08e0lc0f4356c4a382205@mail.gmail.com>

How can i do?
I not able double click on a line with error or warning for  jump to the
relevant line of source code that generated error

2009/12/29 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Hello
>
>
> Vailton Renato wrote:
> >
> > My idea is that when you double click on a line with error or warning,
> > the hbide now jump to the relevant line of source code that generated
> > the message ... This will be very practical!
> > = D
> >
>
> Done.
>
>
> --
>
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091230/852a54b0/attachment.html
From vailtom at gmail.com  Wed Dec 30 07:57:42 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Wed Dec 30 07:58:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13409] trunk/harbour
In-Reply-To: <609353e70912300453j7e7c08e0lc0f4356c4a382205@mail.gmail.com>
References: <E1NPNOX-00022W-Cw@dn4whf1.ch3.sourceforge.com> 
	<531d7a750912281503g351a0c22odaf8621ef8255d2b@mail.gmail.com> 
	<26950171.post@talk.nabble.com>
	<531d7a750912281806n3c627c85q2b0a8bc59098537d@mail.gmail.com> 
	<26950371.post@talk.nabble.com>
	<531d7a750912281837x499ce566g4a22baec2aca70cc@mail.gmail.com> 
	<26957152.post@talk.nabble.com>
	<609353e70912300453j7e7c08e0lc0f4356c4a382205@mail.gmail.com>
Message-ID: <531d7a750912300457x16f1f527j283ec0045ac5a742@mail.gmail.com>

Hi!

With the SVN version or the version that I sent yesterday??With the
release of SVN sometimes failed me here too ...?already in the version
I reviewed yesterday, I had no problems.

Regards,
Vailton Renato

2009/12/30 Massimo Belgrano <mbelgrano@deltain.it>
>
> How can i do?
> I not able?double click on a line with error or warning for??jump to the relevant line of source code that generated error
> 2009/12/29 Pritpal Bedi <bedipritpal@hotmail.com>
>>
>> Hello
>>
>>
>> Vailton Renato wrote:
>> >
>> > My idea is that when you double click on a line with error or warning,
>> > the hbide now jump to the relevant line of source code that generated
>> > the message ... This will be very practical!
>> > = D
>> >
>>
>> Done.
>>
>>
>> --
>
> Massimo Belgrano
>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From mbelgrano at deltain.it  Wed Dec 30 08:01:24 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 30 08:01:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13409] trunk/harbour
In-Reply-To: <531d7a750912300457x16f1f527j283ec0045ac5a742@mail.gmail.com>
References: <E1NPNOX-00022W-Cw@dn4whf1.ch3.sourceforge.com> 
	<531d7a750912281503g351a0c22odaf8621ef8255d2b@mail.gmail.com> 
	<26950171.post@talk.nabble.com>
	<531d7a750912281806n3c627c85q2b0a8bc59098537d@mail.gmail.com> 
	<26950371.post@talk.nabble.com>
	<531d7a750912281837x499ce566g4a22baec2aca70cc@mail.gmail.com> 
	<26957152.post@talk.nabble.com>
	<609353e70912300453j7e7c08e0lc0f4356c4a382205@mail.gmail.com> 
	<531d7a750912300457x16f1f527j283ec0045ac5a742@mail.gmail.com>
Message-ID: <609353e70912300501k63a40e8ctfdd5e042b064db8e@mail.gmail.com>

Svn version
now i try your version
2009/12/30 Vailton Renato <vailtom@gmail.com>

> Hi!
>
> With the SVN version or the version that I sent yesterday? With the
> release of SVN sometimes failed me here too ... already in the version
> I reviewed yesterday, I had no problems.
>
> Regards,
> Vailton Renato
>
> 2009/12/30 Massimo Belgrano <mbelgrano@deltain.it>
> >
> > How can i do?
> > I not able double click on a line with error or warning for  jump to the
> relevant line of source code that generated error
> > 2009/12/29 Pritpal Bedi <bedipritpal@hotmail.com>
> >>
> >> Hello
> >>
> >>
> >> Vailton Renato wrote:
> >> >
> >> > My idea is that when you double click on a line with error or warning,
> >> > the hbide now jump to the relevant line of source code that generated
> >> > the message ... This will be very practical!
> >> > = D
> >> >
> >>
> >> Done.
> >>
> >>
>

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091230/57ee4bac/attachment.html
From mbelgrano at deltain.it  Wed Dec 30 08:03:03 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 30 08:03:30 2009
Subject: [Harbour] Harbour 2.0 linux release search a releaser
Message-ID: <609353e70912300503g77d5df6fu3d3a50cb5080e60@mail.gmail.com>

Harbour 2.0 is not ready for Ubuntu, Fedora, suse, mac-os
Have anybody here capability to done it?

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091230/ec647a0c/attachment-0001.html
From vailtom at gmail.com  Wed Dec 30 08:14:21 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Wed Dec 30 08:14:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13409] trunk/harbour
In-Reply-To: <609353e70912300501k63a40e8ctfdd5e042b064db8e@mail.gmail.com>
References: <E1NPNOX-00022W-Cw@dn4whf1.ch3.sourceforge.com> 
	<531d7a750912281503g351a0c22odaf8621ef8255d2b@mail.gmail.com> 
	<26950171.post@talk.nabble.com>
	<531d7a750912281806n3c627c85q2b0a8bc59098537d@mail.gmail.com> 
	<26950371.post@talk.nabble.com>
	<531d7a750912281837x499ce566g4a22baec2aca70cc@mail.gmail.com> 
	<26957152.post@talk.nabble.com>
	<609353e70912300453j7e7c08e0lc0f4356c4a382205@mail.gmail.com> 
	<531d7a750912300457x16f1f527j283ec0045ac5a742@mail.gmail.com> 
	<609353e70912300501k63a40e8ctfdd5e042b064db8e@mail.gmail.com>
Message-ID: <531d7a750912300514x6b7226f7qfe2bd5109865ac4a@mail.gmail.com>

I'm waiting for comments from Pritpal respect to this patch. I do not
know if he will approve or what he is going to talk about, but here
with these changes are running well ... Any comments are always
welcome.

Vailton Renato
From mbelgrano at deltain.it  Wed Dec 30 08:18:00 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 30 08:18:28 2009
Subject: [Harbour] Happy new year to you and everyone
Message-ID: <609353e70912300518r4b7ea77bjbf9dd297f0a26359@mail.gmail.com>

*happy new year* to you and *everyone* at   http://www.harbour-project.org/

?????????????????????????????????????
?????????????????????????????????????
?????????????????????????????????????
?????????????????????????????????????
?????????????????????????????????????
?????????????????????????????????????
?????????????????????????????????????

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091230/e904c4e2/attachment.html
From bruno.luciani at gmail.com  Wed Dec 30 08:33:25 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Dec 30 08:33:32 2009
Subject: [Harbour] Harbour 2.0 linux release search a releaser
In-Reply-To: <609353e70912300503g77d5df6fu3d3a50cb5080e60@mail.gmail.com>
References: <609353e70912300503g77d5df6fu3d3a50cb5080e60@mail.gmail.com>
Message-ID: <133778360912300533n4de3e3as7006d13b3f402ba7@mail.gmail.com>

What do you mean , create package ?

Bruno


2009/12/30 Massimo Belgrano <mbelgrano@deltain.it>

> Harbour 2.0 is not ready for Ubuntu, Fedora, suse, mac-os
> Have anybody here capability to done it?
>
> --
> Massimo Belgrano
>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091230/5d9659e6/attachment.html
From mbelgrano at deltain.it  Wed Dec 30 08:35:11 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 30 08:35:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13409] trunk/harbour
In-Reply-To: <531d7a750912300514x6b7226f7qfe2bd5109865ac4a@mail.gmail.com>
References: <E1NPNOX-00022W-Cw@dn4whf1.ch3.sourceforge.com> 
	<26950171.post@talk.nabble.com>
	<531d7a750912281806n3c627c85q2b0a8bc59098537d@mail.gmail.com> 
	<26950371.post@talk.nabble.com>
	<531d7a750912281837x499ce566g4a22baec2aca70cc@mail.gmail.com> 
	<26957152.post@talk.nabble.com>
	<609353e70912300453j7e7c08e0lc0f4356c4a382205@mail.gmail.com> 
	<531d7a750912300457x16f1f527j283ec0045ac5a742@mail.gmail.com> 
	<609353e70912300501k63a40e8ctfdd5e042b064db8e@mail.gmail.com> 
	<531d7a750912300514x6b7226f7qfe2bd5109865ac4a@mail.gmail.com>
Message-ID: <609353e70912300535m2bb0e65qdd58cb81fb3dbc27@mail.gmail.com>

I have tried with hbide-draft-2 but not able to go to editor with double
click on error

Imo hbide require simple start up a wizard

File open and Project Load have a uncommon name
(File open is most used option)
better having a "Project Open" option instead "Project Load"
FIle "add single file"

I disagree Project fodders i think on a project folder as root folder on my
project
project with batch for compile
   dbf
   prg
   bin
   bindebug

...sorry i not able to good explain


2009/12/30 Vailton Renato <vailtom@gmail.com>

> I'm waiting for comments from Pritpal respect to this patch. I do not
> know if he will approve or what he is going to talk about, but here
> with these changes are running well ... Any comments are always
> welcome.
>
> Vailton Renato
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091230/4a8c856a/attachment.html
From mbelgrano at deltain.it  Wed Dec 30 08:36:31 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 30 08:36:58 2009
Subject: [Harbour] Harbour 2.0 linux release search a releaser
In-Reply-To: <133778360912300533n4de3e3as7006d13b3f402ba7@mail.gmail.com>
References: <609353e70912300503g77d5df6fu3d3a50cb5080e60@mail.gmail.com> 
	<133778360912300533n4de3e3as7006d13b3f402ba7@mail.gmail.com>
Message-ID: <609353e70912300536n24e73898u8707de23dc28387f@mail.gmail.com>

Yes here
http://sourceforge.net/projects/harbour-project/files/

2009/12/30 Bruno Luciani <bruno.luciani@gmail.com>

>
> What do you mean , create package ?
>
> Bruno
>
>
> 2009/12/30 Massimo Belgrano <mbelgrano@deltain.it>
>
>> Harbour 2.0 is not ready for Ubuntu, Fedora, suse, mac-os
>> Have anybody here capability to done it?
>>
>>
-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091230/b48b5984/attachment.html
From bruno.luciani at gmail.com  Wed Dec 30 08:40:35 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Dec 30 08:40:43 2009
Subject: [Harbour] Harbour 2.0 linux release search a releaser
In-Reply-To: <609353e70912300536n24e73898u8707de23dc28387f@mail.gmail.com>
References: <609353e70912300503g77d5df6fu3d3a50cb5080e60@mail.gmail.com>
	<133778360912300533n4de3e3as7006d13b3f402ba7@mail.gmail.com>
	<609353e70912300536n24e73898u8707de23dc28387f@mail.gmail.com>
Message-ID: <133778360912300540o49a352ccia54604e4a2613fe5@mail.gmail.com>

I can Create ubuntu 9.10 package

bruno

2009/12/30 Massimo Belgrano <mbelgrano@deltain.it>

> Yes here
> http://sourceforge.net/projects/harbour-project/files/
>
> 2009/12/30 Bruno Luciani <bruno.luciani@gmail.com>
>
>
>> What do you mean , create package ?
>>
>> Bruno
>>
>>
>> 2009/12/30 Massimo Belgrano <mbelgrano@deltain.it>
>>
>>> Harbour 2.0 is not ready for Ubuntu, Fedora, suse, mac-os
>>> Have anybody here capability to done it?
>>>
>>>
> --
> Massimo Belgrano
>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091230/f9c31c68/attachment.html
From mbelgrano at deltain.it  Wed Dec 30 08:59:35 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 30 09:00:03 2009
Subject: [Harbour] Harbour 2.0 linux release search a releaser
In-Reply-To: <133778360912300540o49a352ccia54604e4a2613fe5@mail.gmail.com>
References: <609353e70912300503g77d5df6fu3d3a50cb5080e60@mail.gmail.com> 
	<133778360912300533n4de3e3as7006d13b3f402ba7@mail.gmail.com> 
	<609353e70912300536n24e73898u8707de23dc28387f@mail.gmail.com> 
	<133778360912300540o49a352ccia54604e4a2613fe5@mail.gmail.com>
Message-ID: <609353e70912300559l4b650b87xd12009fdf831ffd3@mail.gmail.com>

Thanks
I can try it with an italian user

2009/12/30 Bruno Luciani <bruno.luciani@gmail.com>

> I can Create ubuntu 9.10 package
>
> bruno
>
> 2009/12/30 Massimo Belgrano <mbelgrano@deltain.it>
>
>> Yes here
>> http://sourceforge.net/projects/harbour-project/files/
>>
>> 2009/12/30 Bruno Luciani <bruno.luciani@gmail.com>
>>
>>
>>> --
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091230/6fb57069/attachment-0001.html
From bruno.luciani at gmail.com  Wed Dec 30 09:07:59 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Dec 30 09:08:08 2009
Subject: [Harbour] Harbour 2.0 linux release search a releaser
In-Reply-To: <609353e70912300559l4b650b87xd12009fdf831ffd3@mail.gmail.com>
References: <609353e70912300503g77d5df6fu3d3a50cb5080e60@mail.gmail.com>
	<133778360912300533n4de3e3as7006d13b3f402ba7@mail.gmail.com>
	<609353e70912300536n24e73898u8707de23dc28387f@mail.gmail.com>
	<133778360912300540o49a352ccia54604e4a2613fe5@mail.gmail.com>
	<609353e70912300559l4b650b87xd12009fdf831ffd3@mail.gmail.com>
Message-ID: <133778360912300607i39f00071r84a6b9b88a322506@mail.gmail.com>

ok



2009/12/30 Massimo Belgrano <mbelgrano@deltain.it>

> Thanks
> I can try it with an italian user
>
>
> 2009/12/30 Bruno Luciani <bruno.luciani@gmail.com>
>
>> I can Create ubuntu 9.10 package
>>
>> bruno
>>
>> 2009/12/30 Massimo Belgrano <mbelgrano@deltain.it>
>>
>>> Yes here
>>> http://sourceforge.net/projects/harbour-project/files/
>>>
>>> 2009/12/30 Bruno Luciani <bruno.luciani@gmail.com>
>>>
>>>
>>>> --
> Massimo Belgrano
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091230/19540222/attachment.html
From m.lacecilia at gmail.com  Wed Dec 30 09:16:19 2009
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Wed Dec 30 09:16:26 2009
Subject: [Harbour] hbide build problem
In-Reply-To: <26958621.post@talk.nabble.com>
References: <26958110.post@talk.nabble.com> <26958621.post@talk.nabble.com>
Message-ID: <26967929.post@talk.nabble.com>


Ok. Worked fine pointing to mingw release embedded in the Qt installation.
Better would be, IMHO, to specify in INSTALL that in compiling hbide the
MinGW version needs to be the same as the Qt build.
The "MinGW GNU C 3.4.2 and above" suggestion in INSTALL it's fine for
Harbour build, but this it's no true for hbide.
Thx for your aid.
Maurizio


Pritpal Bedi wrote:
> 
> Hi
> 
> 
> Maurizio la Cecilia wrote:
>> 
>> Surely, as usual, it's my problem...
>> At link time quite all modules fails due to undefined reference to 
>> "_Unwind_Resume" and "__cxa_get_exception_ptr" and
>> "__gxx_personality_v0".
>> What i missed?
>> 
> 
> Install MINGW version pointed in INSTALL.
> 
> Regards
> Pritpal Bedi
> 
> 

-- 
View this message in context: http://old.nabble.com/hbide-build-problem-tp26958110p26967929.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vailtom at gmail.com  Wed Dec 30 09:18:56 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Wed Dec 30 09:19:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13409] trunk/harbour
In-Reply-To: <609353e70912300535m2bb0e65qdd58cb81fb3dbc27@mail.gmail.com>
References: <E1NPNOX-00022W-Cw@dn4whf1.ch3.sourceforge.com> 
	<531d7a750912281806n3c627c85q2b0a8bc59098537d@mail.gmail.com> 
	<26950371.post@talk.nabble.com>
	<531d7a750912281837x499ce566g4a22baec2aca70cc@mail.gmail.com> 
	<26957152.post@talk.nabble.com>
	<609353e70912300453j7e7c08e0lc0f4356c4a382205@mail.gmail.com> 
	<531d7a750912300457x16f1f527j283ec0045ac5a742@mail.gmail.com> 
	<609353e70912300501k63a40e8ctfdd5e042b064db8e@mail.gmail.com> 
	<531d7a750912300514x6b7226f7qfe2bd5109865ac4a@mail.gmail.com> 
	<609353e70912300535m2bb0e65qdd58cb81fb3dbc27@mail.gmail.com>
Message-ID: <531d7a750912300618o64f82444m26833a2dfe24a33d@mail.gmail.com>

Hi Massimo!

http://lists.harbour-project.org/pipermail/harbour/2009-December/029621.html

Vailton Renato

2009/12/30 Massimo Belgrano <mbelgrano@deltain.it>:
> I have tried with hbide-draft-2 but not able to go to editor with double
> click on error
> Imo hbide require simple start up a wizard
> File open and Project Load have a uncommon name
> (File open is most used option)
> better having a "Project Open" option instead "Project Load"
> FIle "add single file"
> I disagree Project fodders i think on a project folder as root folder on my
> project
> project with batch for compile
> ?? dbf
> ?? prg
> ?? bin
> ?? bindebug
> ...sorry i not able to good explain
>
> 2009/12/30 Vailton Renato <vailtom@gmail.com>
>>
>> I'm waiting for comments from Pritpal respect to this patch. I do not
>> know if he will approve or what he is going to talk about, but here
>> with these changes are running well ... Any comments are always
>> welcome.
>>
>> Vailton Renato
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
> --
> Massimo Belgrano
>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
From dmacias at mail.udg.mx  Wed Dec 30 09:28:22 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Dec 30 09:28:40 2009
Subject: [Harbour] Re: Harbour 2.0.0 binaries for OS/2-eCS
Message-ID: <4B3B6386.1080409@mail.udg.mx>

Harbour 2.0.0 binaries files for OS/2-eComStation are available since 26 
Dec 2009, four days ago
In first day published in Harbour mailing list, were 6 downloads
In next three days, published in os2world.com, rest of downloads reach 
114 as current value

Harbour 1.0.1 reached 168 downloads since 18 Sep, 2008 (15 months)
( It was published in os2world.com too )

So in four days Harbour 2.0.0 have 67 % of Harbour 1.0.1 downloads

Current 114 downloads are distributed as:
   harbour-2.0.0.bin-os2.watcom.zip        40
   harbour-2.0.0.bin-os2.gcc433.zip        29
   harbour-2.0.0.bin-os2.gcc335omf.zip     20
   harbour-2.0.0.bin-os2.gcc335aout.zip    25

We have interesting results:
a) Surprisely "most wanted" choice is OpenWatcom with 35 %
b) os2gcc433 is second choice with 25 %, ahead of traditional os2gcc335
c) gcc OMF type are ahead of a.out type (22 %), with 25 % (433)+ 17 % 
(335omf) = 42 %
  Considering OpenWatcom too, OMF type have 42%+35% = 77%
d) Old os2gcc335 in a.out type have 22 % of current preference

Results confirm that we took the right decisions:
1) Keep support of OS/2-OpenWatcom
2) Inclusion of OMF type support in gcc4xx and gcc335
3) Inclusion of newer os2gcc4xx support

Thanks to everyone

David Macias


From druzus at acn.waw.pl  Wed Dec 30 09:36:11 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 30 09:36:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13415] trunk/harbour
In-Reply-To: <001101ca88af$fedbea40$fc93bec0$@Bisz@t-online.hu>
References: <E1NPcDM-0002oq-Vt@3kljzd1.ch3.sourceforge.com>
	<001101ca88af$fedbea40$fc93bec0$@Bisz@t-online.hu>
Message-ID: <20091230143611.GA13006@linux-4bod.home.aster.pl>

On Tue, 29 Dec 2009, Bisz Istv?n wrote:

Hi,

> After testing with and without -DHB_TR_LEVEL_DEBUG cflags, it works as
> it is expected.

Thank you very much for your tests.

> In my test case the QApplication.cpp: line 212-214 contains:
>    HB_TRACE( HB_TR_DEBUG, ( "          new_QApplication                %i B %i KB", ( int ) hb_xquery( 1001 ), hbqt_getmemused() ) );
> and DbgView shows with HB_TR_LEVEL_DEBUG defined in fm.c:
> 00062246	17:42:34.462	[4612] c:\downloads\harbour\src\vm\fm.c:1187: HB_TR_DEBUG hb_xquery(1001)
> 00062247	17:42:34.462	[4612] c:\downloads\harbour\src\vm\fm.c:1187: (???)           new_QApplication                0 B 3100 KB
> My test results:
> 1. Analyzing the output produced by the line 212 we can see that the file,
> line and level info is altered. Maybe is useful to send here the original
> info instead of hb_xquery trace location.

It's not hb_xquery() problem. The same will happen for any function
which internally calls HB_TRACE() and is used as parameter of some
other HB_TRACE() message.
In general it's side effect of keeping the file name and the line number
in global variables hb_tr_file_ and hb_tr_line_. Also trace massage level
is stored in global variable so it can be overwritten in final message
though fortunately it does not change the message filter condition.
Such solution is neither reentrant safe (problems like above) nor MT
safe. We need it for two reasons:
   1. to set file name and line number for memory statistics
   2. as workaround for limited C preprocessor functionality
The 1-st one we can ignore. It's not very important in current days
because we have other more precise methods to detect memory leaks
with exact allocation places like valgrind instead of showing the
last place where HB_TRACE() message. Anyhow if someone wants then
we can try to make it MT safe by moving above variables to HVM stack.
The 2-nd one is bigger problem. Only C99 defines macros with variable
number of arguments so it may be hard to find clean portable method
which will not use any global/static variables without allocating
buffer for message on C stack what may cause serious problems for
total C stack usage.
Now in macro HB_TRACE( l, x ) we use x with additional () so for C
preprocessor it's like one parameter and we can define it like:

   #define HB_TRACE( l, x )   hb_tr_trace x

and then use it as:

   HB_TRACE( HB_TR_INFO, ( "msg %d, %d, %d", 1, 2, 3 ) );

It works but such trick does not allow to insert new parameters to x
so we cannot switch to hb_tracelog() function. This can be done
using ISO C99 __VA_ARGS__ macro, i.e.:

   #define hb_tr_trace_( ... )      __VA_ARGS__
   #define HB_TRACE( l, x )         hb_tracelog( l, __FILE__, __LINE__, \
                                                 NULL, hb_tr_trace_ x )

Some C compilers have their own extensions with macros having variable
number of parameters, i.e. using GCC we can define hb_tr_trace_ as:

   #define hb_tr_trace_( args... )      args

but still it's not widely portable solution.

> 2. The insertion of the hb_xtraced function in nortl.c it was necessary
> to build harbour with HB_TR_LEVEL_DEBUG defined:

Yes, it has to be added. I'll commit it in a while, thank you for the info.

best regards,
Przemek
From marcobra.ubuntu at gmail.com  Wed Dec 30 09:53:29 2009
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Wed Dec 30 09:53:38 2009
Subject: [Harbour] Harbour 2.0 linux release search a releaser
In-Reply-To: <609353e70912300503g77d5df6fu3d3a50cb5080e60@mail.gmail.com>
References: <609353e70912300503g77d5df6fu3d3a50cb5080e60@mail.gmail.com>
Message-ID: <fd76479f0912300653o7f0c71f5v48b99f34bd6912dc@mail.gmail.com>

I already have deb packages for Ubuntu 10.04 32 bits and i'm building
the Ubuntu 9.10 32 bits now

Can i send the Ubuntu 10.04 directly to you via mail... or please tell
me what i must do?

Hth
From druzus at acn.waw.pl  Wed Dec 30 10:02:24 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 30 10:02:32 2009
Subject: [Harbour] DBSEEK()
In-Reply-To: <4B3A36C8.8050004@dbtopas.lt>
References: <4B3A06DA.8010001@dbtopas.lt>
	<20091229151523.GA12730@linux-4bod.home.aster.pl>
	<4B3A36C8.8050004@dbtopas.lt>
Message-ID: <20091230150224.GA13779@linux-4bod.home.aster.pl>

On Tue, 29 Dec 2009, Mindaugas Kavaliauskas wrote:

Hi,

> >It's defined indirectly by dynamic descend flag which causes
> >that seek last should work like in Harbour native RDDs and
> >CL53/COMIX. In such implementation seek last is fully revertible
> >by switching to descending order ( ordDescend(,,!ordDescend()) )
> >and forward seek. Otherwise we will have some anomalies.
> Ok, if understand the idea of seeklast now, then it means "try doing
> seek backward (in reversed index order, like using DESCEND)", but
> not "return the last record (having maximal recno value) of the
> records having the same key value".

Too much complicated for me ;-)
I rather suggest you to think about functionality. This code:

   dbSeek( dtFirst, .T., .F. )
   while field->DATE <= dtLast .and. !EOF()
      [...]
      dbSkip( 1 )
   enddo

should scan the same record set as this code:

   dbSeek( dtLast, .T., .T. )
   while field->DATE >= dtFirst .and. !BOF()
      [...]
      dbSkip( -1 )
   enddo

and this also precisely defines which record should be chosen
when the exact key does not exists and for soft seek last.

> But ADS still have bug in the first test. If softseek positions at
> EOF seeklast does not help to stop on last record. Here is the test
> indicating both correct (in some cases) and wrong (in another cases)
> behavior of ADS:

Yes, and your patch is correct though probably we can remove
AdsAtEOF() checking and always call:
   u32RetVal = AdsSkip( pArea->hOrdCurrent, -1 );
I also suggest to store in u32RetVal AdsSeek() and AdsSeekLast() results
and move:
   if( u32RetVal != AE_SUCCESS )
   {
      commonError( pArea, EG_CORRUPTION, ( HB_ERRCODE ) u32RetVal, 0, NULL, EF_CANDEFAULT, NULL );
      return HB_FAILURE;
   }
to always generate RTE also when AdsSeek*() fails.
Please only check the AdsSeek*() results for empty ADT and DBF tables.

best regards,
Przemek
From mbelgrano at deltain.it  Wed Dec 30 10:08:01 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 30 10:08:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13409] trunk/harbour
In-Reply-To: <531d7a750912300618o64f82444m26833a2dfe24a33d@mail.gmail.com>
References: <E1NPNOX-00022W-Cw@dn4whf1.ch3.sourceforge.com> 
	<26950371.post@talk.nabble.com>
	<531d7a750912281837x499ce566g4a22baec2aca70cc@mail.gmail.com> 
	<26957152.post@talk.nabble.com>
	<609353e70912300453j7e7c08e0lc0f4356c4a382205@mail.gmail.com> 
	<531d7a750912300457x16f1f527j283ec0045ac5a742@mail.gmail.com> 
	<609353e70912300501k63a40e8ctfdd5e042b064db8e@mail.gmail.com> 
	<531d7a750912300514x6b7226f7qfe2bd5109865ac4a@mail.gmail.com> 
	<609353e70912300535m2bb0e65qdd58cb81fb3dbc27@mail.gmail.com> 
	<531d7a750912300618o64f82444m26833a2dfe24a33d@mail.gmail.com>
Message-ID: <609353e70912300708m25224b0cud1a306009fe9e1fa@mail.gmail.com>

Thanks!
Now  i have Tried!
Works!


2009/12/30 Vailton Renato <vailtom@gmail.com>

> Hi Massimo!
>
>
> http://lists.harbour-project.org/pipermail/harbour/2009-December/029621.html
>
> Vailton Renato
>
> 2009/12/30 Massimo Belgrano <mbelgrano@deltain.it>:
> > I have tried with hbide-draft-2 but not able to go to editor with double
> > click on error
>
>
-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091230/31906fe6/attachment-0001.html
From M.Horodyski at pzuzycie.com.pl  Wed Dec 30 10:21:55 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Dec 30 10:22:04 2009
Subject: [Harbour] Building HBIDE and qtcore4 lib.
In-Reply-To: <531d7a750912300424j1c6d3feeud43e85c087a023e8@mail.gmail.com>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC6FD1@PINK.zycie.pzu>
	<531d7a750912300424j1c6d3feeud43e85c087a023e8@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC70E7@PINK.zycie.pzu>

 

>-----Original Message-----
>From: Vailton Renato [mailto:vailtom@gmail.com] 
>Sent: Wednesday, December 30, 2009 1:24 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Building HBIDE and qtcore4 lib.
>
>Hi!
>
>Try adding this line to your c:\harbor\contrib\hbxbp\hbxbp.hbc:
>
>libpaths=c:\Qt\4.5.2\qt\lib
>
>Here with me, this has solved... test and please inform us.


No - problem was with my old name vars : hb_inc_qt. After ranaming it to
hb_with_qt (file INSTALL is your friend)  process started.
Now, when I try run HBIDE, have I :

---------------------------
Run-time Error!
---------------------------


Error BASE/1068  Argument error: array access 
Called from SETAPPEVENT(0)   
Called from XBPDIALOG:GRABEVENT(0)   
Called from (b)XBPDIALOG_CREATE(0)   
Called from QT_QWIDGET_SHOW(0)   
Called from QMAINWINDOW:SHOW(0)   
Called from XBPDIALOG:SHOW(0)   
Called from XBPDIALOG:CREATE(0)   
Called from HBIDE:BUILDDIALOG(1209)   
Called from HBIDE:CREATE(277)   
Called from MAIN(101)  
---------------------------
OK   
---------------------------

Regards,
Marek Horodyski
From marcobra.ubuntu at gmail.com  Wed Dec 30 10:35:33 2009
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Wed Dec 30 10:35:41 2009
Subject: [Harbour] Harbour 2.0 linux release search a releaser
In-Reply-To: <fd76479f0912300653o7f0c71f5v48b99f34bd6912dc@mail.gmail.com>
References: <609353e70912300503g77d5df6fu3d3a50cb5080e60@mail.gmail.com>
	<fd76479f0912300653o7f0c71f5v48b99f34bd6912dc@mail.gmail.com>
Message-ID: <fd76479f0912300735j2676293pd1a627dd426d81b3@mail.gmail.com>

md5sum ubuntu-9.10-32bits/harbour_2.0.0-1_i386.deb
12b7f5b69ac94c8b1f768e20004a37a0  ubuntu-9.10-32bits/harbour_2.0.0-1_i386.deb

md5sum ubuntu-10.04-32bits/harbour_2.0.0-1_i386.deb
3c72d16172b0457bce96e367b7320d17  ubuntu-10.04-32bits/harbour_2.0.0-1_i386.deb

If you want them tell me where i can send...

Hth
From bedipritpal at hotmail.com  Wed Dec 30 10:41:26 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Dec 30 10:41:37 2009
Subject: [Harbour] Building HBIDE and qtcore4 lib.
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC70E7@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC6FD1@PINK.zycie.pzu>
	<531d7a750912300424j1c6d3feeud43e85c087a023e8@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC70E7@PINK.zycie.pzu>
Message-ID: <26968750.post@talk.nabble.com>


Hi


Horodyski Marek (PZUZ) wrote:
> 
> No - problem was with my old name vars : hb_inc_qt. After ranaming it to
> hb_with_qt (file INSTALL is your friend)  process started.
> Now, when I try run HBIDE, have I :
> 
> ---------------------------
> Run-time Error!
> ---------------------------
> 
> 
> Error BASE/1068  Argument error: array access 
> Called from SETAPPEVENT(0)   
> Called from XBPDIALOG:GRABEVENT(0)   
> Called from (b)XBPDIALOG_CREATE(0)   
> Called from QT_QWIDGET_SHOW(0)   
> Called from QMAINWINDOW:SHOW(0)   
> Called from XBPDIALOG:SHOW(0)   
> Called from XBPDIALOG:CREATE(0)   
> Called from HBIDE:BUILDDIALOG(1209)   
> Called from HBIDE:CREATE(277)   
> Called from MAIN(101)  
> ---------------------------
> OK   
> ---------------------------
> 

Can you compile HBXBP with line numbers enabled.
I want to see which event is causing crash on Ubuntu?

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/Building-HBIDE-and-qtcore4-lib.-tp26965232p26968750.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Wed Dec 30 10:44:11 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Dec 30 10:44:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13409] trunk/harbour
In-Reply-To: <531d7a750912292011o2f061fb2xc4cee8386ddea505@mail.gmail.com>
References: <E1NPNOX-00022W-Cw@dn4whf1.ch3.sourceforge.com>
	<531d7a750912281503g351a0c22odaf8621ef8255d2b@mail.gmail.com>
	<26950171.post@talk.nabble.com>
	<531d7a750912281806n3c627c85q2b0a8bc59098537d@mail.gmail.com>
	<26950371.post@talk.nabble.com>
	<531d7a750912281837x499ce566g4a22baec2aca70cc@mail.gmail.com>
	<26957152.post@talk.nabble.com>
	<531d7a750912290951k3f2903c9v24409ca058fef832@mail.gmail.com>
	<531d7a750912292011o2f061fb2xc4cee8386ddea505@mail.gmail.com>
Message-ID: <26968775.post@talk.nabble.com>


Vailton


Vailton Renato wrote:
> 
> I made some adjustments in hbide would like to share with you before
> you mount the sample code insight. I noted that details were changed
> and the following:
> 
> * ParseFNfromStatusMsg() new function to catch source file name & line
> error from
> an msg status from compiler result. Support BCC, MSVC and GCC compiler &
> linker
> errors messages and warnings.
> 
> * ConvertBuildStatusMsgToHtml() revised to be a routine more objective
> and clear.
> 
> * outputDoubleClicked() revised to set the focus in the file after
> processing the
> double click. The code has been cleared to use the new function
> ParseFNfromStatusMsg()
> 
> * getCurrentProject() Revised to ignore any empty project names.
> 
> * Updated icons to 16x16 pixels, high color.. Update menus and texts.
> 
> Would you like to comment on the icons to find out if I continue to
> adjust these images and the changes mentioned.
> 

I will apply patch in few hours.
I am experimeting with icons you sent.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13409--trunk-harbour-tp26948349p26968775.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Wed Dec 30 10:42:09 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 30 10:44:52 2009
Subject: [Harbour] Harbour 2.0 linux release search a releaser
In-Reply-To: <fd76479f0912300735j2676293pd1a627dd426d81b3@mail.gmail.com>
References: <609353e70912300503g77d5df6fu3d3a50cb5080e60@mail.gmail.com> 
	<fd76479f0912300653o7f0c71f5v48b99f34bd6912dc@mail.gmail.com> 
	<fd76479f0912300735j2676293pd1a627dd426d81b3@mail.gmail.com>
Message-ID: <609353e70912300742m6b369f70m37ff324cb247b14f@mail.gmail.com>

massimo.belgrano ((.at/@.))  gmail.com

is Possible update sourceforge files?
http://sourceforge.net/projects/harbour-project/files/
 <http://sourceforge.net/projects/harbour-project/files/>

2009/12/30 marco bra <marcobra.ubuntu@gmail.com>

> md5sum ubuntu-9.10-32bits/harbour_2.0.0-1_i386.deb
> 12b7f5b69ac94c8b1f768e20004a37a0
>  ubuntu-9.10-32bits/harbour_2.0.0-1_i386.deb
>
> md5sum ubuntu-10.04-32bits/harbour_2.0.0-1_i386.deb
> 3c72d16172b0457bce96e367b7320d17
>  ubuntu-10.04-32bits/harbour_2.0.0-1_i386.deb
>
> If you want them tell me where i can send...
>
> Hth
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091230/bdc35131/attachment.html
From M.Horodyski at pzuzycie.com.pl  Wed Dec 30 10:58:30 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Dec 30 10:58:40 2009
Subject: [Harbour] Strange behavior DemoQt
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC70EA@PINK.zycie.pzu>

I see on DemoQt. When app is ended, it is not on the list of
applications, but still on process list and processor has 100%
utilization.
I'm build compiler with HB_QT_STATIC=no.

Regards,
Marek Horodyski
From mbelgrano at deltain.it  Wed Dec 30 11:10:21 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 30 11:13:11 2009
Subject: [Harbour] Strange behavior DemoQt
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC70EA@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC70EA@PINK.zycie.pzu>
Message-ID: <609353e70912300810w7f35c091t952537be4d91c15e@mail.gmail.com>

Hi Marek
here I not have  problem with
SET HB_WITH_QT=C:/DEVL/qt/4.5.3/INCLUDE
gcc version 4.4.1 (TDM-2 mingw32)

2009/12/30 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>

> I see on DemoQt. When app is ended, it is not on the list of
> applications, but still on process list and processor has 100%
> utilization.
> I'm build compiler with HB_QT_STATIC=no.
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091230/92657f94/attachment.html
From bruno.luciani at gmail.com  Wed Dec 30 12:22:38 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Dec 30 12:22:46 2009
Subject: [Harbour] HBIDE dont start , see image
In-Reply-To: <26963703.post@talk.nabble.com>
References: <133778360912291852n195b73dkbefffe91632554a9@mail.gmail.com>
	<26963703.post@talk.nabble.com>
Message-ID: <133778360912300922i2947a2adud42f4fb2ca522a85@mail.gmail.com>

Where I change this option ?

Bruno

2009/12/30 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Hi
>
>
> Bruno Luciani wrote:
> >
> > http://www.postimage.org/image.php?v=PqU0F5r
> >
>
> Can you compile hbxbp with -l- to force line numbers.
> GrabEvent() method is fairly big one and this error does
> not report which event has failed.
>
> Regards
> Pritpal Bedi
>
>
> --
> View this message in context:
> http://old.nabble.com/HBIDE-dont-start-%2C-see-image-tp26963483p26963703.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091230/575e8fe6/attachment.html
From druzus at acn.waw.pl  Wed Dec 30 12:39:40 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 30 12:39:57 2009
Subject: [Harbour] CodePage different behaviour between 2.0.0beta3 and
	2.0.0 (Win)
In-Reply-To: <96C528991F4E4155854A5A4339AA2D22@vitowork>
References: <96C528991F4E4155854A5A4339AA2D22@vitowork>
Message-ID: <20091230173940.GA14159@linux-4bod.home.aster.pl>

On Wed, 30 Dec 2009, Vitomir Cvitanovic wrote:

Hi,

> After Clean install of 2.0.0 release (win binaries) no keyboard
> and/or Display
> conversion is active :(

In current Harbour code all conversions use Unicode character
values and so far we do not use any fallback conversion tables.
It means that it's important to define correct Unicode tables
for each CP and for some more advanced translation add fallback
tables to chose the best approximations.
We have two CPs HR437 and SL437 which have national characters
instead of some ASCII ones:
   #define HB_CP_UPPER     "ABC^]D\\EFGHIJKLMNOPQRS[TUVWZ@XY"
   #define HB_CP_LOWER     "abc~}d|efghijklmnopqrs{tuvwz`xy"

And here I have a question about real usage.
Does it mean that it's alternative notation so in Croatia and
Slovenia these ASCII glyphs ^]\[@~]|{` are "readable" for people
as national characters?
If yes then it's necessary to introduce translation fallback
tables to Harbour. It's very interesting feature (i.e. it allows
to translate Cyrillic strings to Latin string in phonetic notation)
but it's not available yet so it will have to wait for someone who
can implement it.
If not and for some historical reasons you used CPs where above ASCII
characters were replaced by your national characters then it means
that from the beginning in Harbour HR437 and SL437 were wrongly defined
because they do not use character glyphs from CP-437 so they were always
broken (also in beta3) though the problem were exploited in different
places i.e. in GTs using Unicode output. In such case the solution
is trivial. We only have to know correct unicode table used in that
encoding which at position ASC( "^" ) has value 0x01C ("?"), at position
ASC( "~" ) -> 0x010D ("?"), ASC( "]" ) -> 0x0106 ("?"), ASC( "]" ) ->
0x0107 ("?"), etc. For sure it's not CP437 and looking at src/codepahe/uc*.c
files I do not see any CP with such characters so it's necessary to
add it. Try to define such CP (it will be good to find if it already
has some "official" name) so we can add it to SVN and update HR437 and
SL437 to use it. Of course we will have to change their names.

best regards,
Przemek
From bruno.luciani at gmail.com  Wed Dec 30 13:00:18 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Dec 30 13:00:26 2009
Subject: [Harbour] Happy new year to you and everyone
In-Reply-To: <609353e70912300518r4b7ea77bjbf9dd297f0a26359@mail.gmail.com>
References: <609353e70912300518r4b7ea77bjbf9dd297f0a26359@mail.gmail.com>
Message-ID: <133778360912301000h28d81aadhf3fcb38df360cf3e@mail.gmail.com>

The same for you and for all Harbour Team


Bruno

2009/12/30 Massimo Belgrano <mbelgrano@deltain.it>

> *happy new year* to you and *everyone* at
> http://www.harbour-project.org/
>
> ?????????????????????????????????????
> ?????????????????????????????????????
> ?????????????????????????????????????
> ?????????????????????????????????????
> ?????????????????????????????????????
> ?????????????????????????????????????
> ?????????????????????????????????????
>
> --
> Massimo Belgrano
>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091230/67dfe04e/attachment.html
From harbour.01 at syenar.hu  Wed Dec 30 13:35:40 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec 30 13:35:55 2009
Subject: [Harbour] Building HBIDE and qtcore4 lib.
In-Reply-To: <531d7a750912300424j1c6d3feeud43e85c087a023e8@mail.gmail.com>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC6FD1@PINK.zycie.pzu>
	<531d7a750912300424j1c6d3feeud43e85c087a023e8@mail.gmail.com>
Message-ID: <A3C79981-665B-444E-A85A-754A136E8CEA@syenar.hu>

The official method is much simpler, as documented in INSTALL:

Use HB_WITH_QT instead of HB_INC_QT which is deprecated.

Brgds,
Viktor

On 2009 Dec 30, at 13:24, Vailton Renato wrote:

> Hi!
> 
> Try adding this line to your c:\harbor\contrib\hbxbp\hbxbp.hbc:
> 
> libpaths=c:\Qt\4.5.2\qt\lib
> 
> Here with me, this has solved... test and please inform us.
> 
> Regards,
> Vailton Renato
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vailtom at gmail.com  Wed Dec 30 13:39:46 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Wed Dec 30 13:40:14 2009
Subject: [Harbour] Building HBIDE and qtcore4 lib.
In-Reply-To: <A3C79981-665B-444E-A85A-754A136E8CEA@syenar.hu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC6FD1@PINK.zycie.pzu> 
	<531d7a750912300424j1c6d3feeud43e85c087a023e8@mail.gmail.com> 
	<A3C79981-665B-444E-A85A-754A136E8CEA@syenar.hu>
Message-ID: <531d7a750912301039v290d323ar5889e32df50f0cf3@mail.gmail.com>

Exact Viktor!
I correct it here after considering the INSTALL file. My fault.
=D

Vailton Renato

2009/12/30 Viktor Szak?ts <harbour.01@syenar.hu>:
> The official method is much simpler, as documented in INSTALL:
>
> Use HB_WITH_QT instead of HB_INC_QT which is deprecated.
>
> Brgds,
> Viktor
>
> On 2009 Dec 30, at 13:24, Vailton Renato wrote:
>
>> Hi!
>>
>> Try adding this line to your c:\harbor\contrib\hbxbp\hbxbp.hbc:
>>
>> libpaths=c:\Qt\4.5.2\qt\lib
>>
>> Here with me, this has solved... test and please inform us.
>>
>> Regards,
>> Vailton Renato
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From vouchcac at users.sourceforge.net  Wed Dec 30 13:40:53 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Dec 30 13:41:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13416] trunk/harbour
Message-ID: <E1NQ3TZ-00043O-2S@74yxhf1.ch3.sourceforge.com>

Revision: 13416
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13416&view=rev
Author:   vouchcac
Date:     2009-12-30 18:40:51 +0000 (Wed, 30 Dec 2009)

Log Message:
-----------
2009-12-30 10:35 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbpmenubar.prg
    ! Removed default style-sheet application which has to be 
      done at .prg level with oXbp:setStyleSheet().

  * contrib/hbxbp/xbptoolbar.prg
    ! Fix to adjust toolbar button size with :imageHeight and :imageWidth.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/xbpmenubar.prg
    trunk/harbour/contrib/hbxbp/xbptoolbar.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Dec 30 13:41:42 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec 30 13:41:52 2009
Subject: [Harbour] Harbour 2.0 linux release search a releaser
In-Reply-To: <609353e70912300503g77d5df6fu3d3a50cb5080e60@mail.gmail.com>
References: <609353e70912300503g77d5df6fu3d3a50cb5080e60@mail.gmail.com>
Message-ID: <8A38F7B8-C2AB-44C4-B62A-92A7C7CB321F@syenar.hu>

I left OS X binary, simply because it's so much 
easier to build it on users' actual systems, be 
it PPC, Leopard, SL, Intel 32, Intel 64, cland, 
whatever user prefers.

Same goes for rest of *nix systems.

Usually such build job is up to packagers.

Brgds,
Viktor

On 2009 Dec 30, at 14:03, Massimo Belgrano wrote:

> Harbour 2.0 is not ready for Ubuntu, Fedora, suse, mac-os
> Have anybody here capability to done it?
> 
> -- 
> Massimo Belgrano
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Dec 30 13:45:34 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Dec 30 13:45:47 2009
Subject: [Harbour] hbide build problem
In-Reply-To: <26967929.post@talk.nabble.com>
References: <26958110.post@talk.nabble.com> <26958621.post@talk.nabble.com>
	<26967929.post@talk.nabble.com>
Message-ID: <9CB34D59-605D-48BB-82F3-BACB10BCB5A1@syenar.hu>

> Ok. Worked fine pointing to mingw release embedded in the Qt installation.
> Better would be, IMHO, to specify in INSTALL that in compiling hbide the
> MinGW version needs to be the same as the Qt build.
> The "MinGW GNU C 3.4.2 and above" suggestion in INSTALL it's fine for
> Harbour build, but this it's no true for hbide.

This is not exactly like this. Whatever MINGW version can be used 
(even mixed) as long as C++ exception handling is compatible with 
QT requirements. QT 4.5.x needs SJLJ, QT 4.6.x needs DWARF-2.

MinGW 4.4.0 official provides DWARF2, older official uses SJLJ.
MinGW TDM build provides both versions.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Dec 30 13:46:44 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec 30 13:46:55 2009
Subject: [Harbour] Re: Harbour 2.0.0 binaries for OS/2-eCS
In-Reply-To: <4B3B6386.1080409@mail.udg.mx>
References: <4B3B6386.1080409@mail.udg.mx>
Message-ID: <6752C00A-7ACB-4395-B5BF-97F0705319CA@syenar.hu>

> Harbour 2.0.0 binaries files for OS/2-eComStation are available since 26 Dec 2009, four days ago
> In first day published in Harbour mailing list, were 6 downloads
> In next three days, published in os2world.com, rest of downloads reach 114 as current value
> 
> Harbour 1.0.1 reached 168 downloads since 18 Sep, 2008 (15 months)
> ( It was published in os2world.com too )
> 
> So in four days Harbour 2.0.0 have 67 % of Harbour 1.0.1 downloads
> 
> Current 114 downloads are distributed as:
>  harbour-2.0.0.bin-os2.watcom.zip        40
>  harbour-2.0.0.bin-os2.gcc433.zip        29
>  harbour-2.0.0.bin-os2.gcc335omf.zip     20
>  harbour-2.0.0.bin-os2.gcc335aout.zip    25
> 
> We have interesting results:
> a) Surprisely "most wanted" choice is OpenWatcom with 35 %
> b) os2gcc433 is second choice with 25 %, ahead of traditional os2gcc335
> c) gcc OMF type are ahead of a.out type (22 %), with 25 % (433)+ 17 % (335omf) = 42 %
> Considering OpenWatcom too, OMF type have 42%+35% = 77%
> d) Old os2gcc335 in a.out type have 22 % of current preference
> 
> Results confirm that we took the right decisions:
> 1) Keep support of OS/2-OpenWatcom
> 2) Inclusion of OMF type support in gcc4xx and gcc335
> 3) Inclusion of newer os2gcc4xx support

Pls note that Windows unified binary also contains 
OS/2 watcom build.

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Wed Dec 30 13:56:40 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Dec 30 13:56:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13417] trunk/harbour
Message-ID: <E1NQ3iq-0004Jc-Ee@74yxhf1.ch3.sourceforge.com>

Revision: 13417
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13417&view=rev
Author:   vouchcac
Date:     2009-12-30 18:56:38 +0000 (Wed, 30 Dec 2009)

Log Message:
-----------
2009-12-30 10:40 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idedocks.prg
  * contrib/hbide/idemisc.prg
  * contrib/hbide/idestylesheets.prg
    + Applied the patch submitted by Vailton Renato with some omissions, thanks.
      1. I do like xMate's build* icons and "gotoline" icon
         which depics the meaning of action properly, just update them to
         have more colors.
      2. Toolbar must not be clutted with so many options.
         For this purpose we have menus.

  * contrib/hbide/resources/*.png
    ! Some new and some refined imaged from Vailton.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idedocks.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/idestylesheets.prg
    trunk/harbour/contrib/hbide/resources/build.png
    trunk/harbour/contrib/hbide/resources/builderror.png
    trunk/harbour/contrib/hbide/resources/close.png
    trunk/harbour/contrib/hbide/resources/column.png
    trunk/harbour/contrib/hbide/resources/compile.png
    trunk/harbour/contrib/hbide/resources/copy.png
    trunk/harbour/contrib/hbide/resources/cut.png
    trunk/harbour/contrib/hbide/resources/debug.png
    trunk/harbour/contrib/hbide/resources/envconfig.png
    trunk/harbour/contrib/hbide/resources/exit.png
    trunk/harbour/contrib/hbide/resources/filec.png
    trunk/harbour/contrib/hbide/resources/fileprg.png
    trunk/harbour/contrib/hbide/resources/find.png
    trunk/harbour/contrib/hbide/resources/gotomark.png
    trunk/harbour/contrib/hbide/resources/info.png
    trunk/harbour/contrib/hbide/resources/launch.png
    trunk/harbour/contrib/hbide/resources/lense.png
    trunk/harbour/contrib/hbide/resources/matchobj.png
    trunk/harbour/contrib/hbide/resources/modulelist.png
    trunk/harbour/contrib/hbide/resources/new.png
    trunk/harbour/contrib/hbide/resources/notepad.png
    trunk/harbour/contrib/hbide/resources/open.png
    trunk/harbour/contrib/hbide/resources/paste.png
    trunk/harbour/contrib/hbide/resources/placeremovemark.png
    trunk/harbour/contrib/hbide/resources/ppo.png
    trunk/harbour/contrib/hbide/resources/print.png
    trunk/harbour/contrib/hbide/resources/properties.png
    trunk/harbour/contrib/hbide/resources/rebuild.png
    trunk/harbour/contrib/hbide/resources/redo.png
    trunk/harbour/contrib/hbide/resources/save.png
    trunk/harbour/contrib/hbide/resources/search.png
    trunk/harbour/contrib/hbide/resources/selectall.png
    trunk/harbour/contrib/hbide/resources/stream.png
    trunk/harbour/contrib/hbide/resources/tools.png
    trunk/harbour/contrib/hbide/resources/trashpage.png
    trunk/harbour/contrib/hbide/resources/undo.png

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/Lookup.png
    trunk/harbour/contrib/hbide/resources/clean.png
    trunk/harbour/contrib/hbide/resources/cleanrun.png
    trunk/harbour/contrib/hbide/resources/closeall.png
    trunk/harbour/contrib/hbide/resources/closeexcept.png
    trunk/harbour/contrib/hbide/resources/exporthtml.png
    trunk/harbour/contrib/hbide/resources/projectadd.png
    trunk/harbour/contrib/hbide/resources/projectdel.png
    trunk/harbour/contrib/hbide/resources/run.png
    trunk/harbour/contrib/hbide/resources/runnodebug.png
    trunk/harbour/contrib/hbide/resources/saveall.png
    trunk/harbour/contrib/hbide/resources/saveas.png
    trunk/harbour/contrib/hbide/resources/setmain.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Dec 30 14:10:29 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 30 14:10:36 2009
Subject: [Harbour] CodePage different behaviour between 2.0.0beta3 and
	2.0.0 (Win)
In-Reply-To: <20091230173940.GA14159@linux-4bod.home.aster.pl>
References: <96C528991F4E4155854A5A4339AA2D22@vitowork>
	<20091230173940.GA14159@linux-4bod.home.aster.pl>
Message-ID: <20091230191028.GA16098@linux-4bod.home.aster.pl>

On Wed, 30 Dec 2009, Przemys?aw Czerpak wrote:

Hi,

> add it. Try to define such CP (it will be good to find if it already
> has some "official" name) so we can add it to SVN and update HR437 and
> SL437 to use it. Of course we will have to change their names.

I've found it in VIKI. It's YUSCII, isn't?
And I guess that you are still using such encoding because it's
quite easy to switch between Latin and Cyrillic YUSCII versions
by simple font reloading.
So all what we need for fully functional support for such encoding
is adding Latin YUSCII table and then using it to replace CP-437
in HR437 and SL437. I think that we should also change their names
to not confuse users. I hope that you can give some propositions.
I have no idea if names like HRYU and SLYU are acceptable for you.
I like ?abeceda (I guess that in Poland we'd converted it to
?abcia) but it's not good name to use in multilanguage project ;-)

BTW you can also define unicode table for Cyrillic YUSCII
which can be used as internal encoding if you want to easy
switch to Cyrillic though I do not know if it's usable in
real life.

best regards,
Przemek
From mbelgrano at deltain.it  Wed Dec 30 14:13:10 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec 30 14:13:38 2009
Subject: [Harbour] Harbour 2.0 linux release search a releaser
In-Reply-To: <8A38F7B8-C2AB-44C4-B62A-92A7C7CB321F@syenar.hu>
References: <609353e70912300503g77d5df6fu3d3a50cb5080e60@mail.gmail.com> 
	<8A38F7B8-C2AB-44C4-B62A-92A7C7CB321F@syenar.hu>
Message-ID: <609353e70912301113q75b47af6ge2a100836962fea5@mail.gmail.com>

I suggest write in harbour sf download page , your suggestion and
step needed for build it?
download source code instead binary because  is  easier to build it on
users' actual
 $ make install


2009/12/30 Viktor Szak?ts <harbour.01@syenar.hu>

> I left OS X binary, simply because it's so much
> easier to build it on users' actual systems, be
> it PPC, Leopard, SL, Intel 32, Intel 64, cland,
> whatever user prefers.
>
> Same goes for rest of *nix systems.
>
> Usually such build job is up to packagers.
>
> Brgds,
> Viktor
>
> On 2009 Dec 30, at 14:03, Massimo Belgrano wrote:
>
> > Harbour 2.0 is not ready for Ubuntu, Fedora, suse, mac-os
> > Have anybody here capability to done it?
> >
> > --
> > Massimo Belgrano
> >
>

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091230/fe45c302/attachment.html
From harbour.01 at syenar.hu  Wed Dec 30 14:23:16 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec 30 14:23:27 2009
Subject: [Harbour] Harbour 2.0 linux release search a releaser
In-Reply-To: <609353e70912301113q75b47af6ge2a100836962fea5@mail.gmail.com>
References: <609353e70912300503g77d5df6fu3d3a50cb5080e60@mail.gmail.com>
	<8A38F7B8-C2AB-44C4-B62A-92A7C7CB321F@syenar.hu>
	<609353e70912301113q75b47af6ge2a100836962fea5@mail.gmail.com>
Message-ID: <9C2933C0-2E35-42A8-B077-648F389E439A@syenar.hu>

> I suggest write in harbour sf download page , your suggestion and step needed for build it?

sf.net has the source code, so I guess it's easy 
to find this route.

> download source code instead binary because  is  easier to build it on users' actual 
>  $ make install

All my suggestions are in INSTALL.

Brgds,
Viktor

From vailtom at gmail.com  Wed Dec 30 14:39:12 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Wed Dec 30 14:39:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13417] trunk/harbour
In-Reply-To: <E1NQ3iq-0004Jc-Ee@74yxhf1.ch3.sourceforge.com>
References: <E1NQ3iq-0004Jc-Ee@74yxhf1.ch3.sourceforge.com>
Message-ID: <531d7a750912301139i6d89a16qdeddd4ddd976d9f1@mail.gmail.com>

Hi Pritpal!

When changing the project from one computer to another, the project.
HBI is writing the absolute path of files that are part of it. The
most appropriate is to write the relative path of the sources in
relation to the path where the project was saved .. what was that
"working folder" in the project properties?

Vailton Renato
From vouchcac at users.sourceforge.net  Wed Dec 30 15:09:48 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Dec 30 15:09:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13418] trunk/harbour
Message-ID: <E1NQ4rc-0002tg-6I@c3vjzd1.ch3.sourceforge.com>

Revision: 13418
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13418&view=rev
Author:   vouchcac
Date:     2009-12-30 20:09:45 +0000 (Wed, 30 Dec 2009)

Log Message:
-----------
2009-12-30 12:07 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/ideactions.prg
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/idestylesheets.prg
    + Some visual enhancements.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/idestylesheets.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Wed Dec 30 15:23:37 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Dec 30 15:23:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13419] trunk/harbour
Message-ID: <E1NQ54z-0006c1-77@3kljzd1.ch3.sourceforge.com>

Revision: 13419
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13419&view=rev
Author:   druzus
Date:     2009-12-30 20:23:35 +0000 (Wed, 30 Dec 2009)

Log Message:
-----------
2009-12-30 21:22 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/nortl/nortl.c
    ! added hb_xtraced()

  * harbour/src/common/hbstr.c
    * do not fill unused part of buffer with '\0' bytes in
      hb_strncpy(), hb_strncpyLower(), hb_strncpyUpper(),
      hb_strncpyUpperTrim(), hb_strncpyTrim()

  * harbour/src/common/hbtrace.c
    % small optimization in building Unicode OutputDebugString() message

  * harbour/src/codepage/Makefile
  * harbour/include/hbapicdp.h
  + harbour/src/codepage/ucyuscii.c
    + added YUSCII unicode table

  * harbour/src/codepage/cphr437.c
  * harbour/src/codepage/cpsl437.c
    ! fixed unicode table used in HR437 and SL437 Harbour CPs.
      It's not CP-437 but YUSCII
    - removed my old note "TOFIX: is it really CP-437?"
    TOFIX: change Harbour names of above CPs, i.e. to HRYU and SLYU

  * harbour/src/codepage/uckam.c
    * removed TOFIX note I forgot to remove when committed correct
      Kamenicky Unicode table.

  * harbour/src/codepage/uckoi8.c
  * harbour/src/codepage/uc857.c
  * harbour/src/codepage/uc1250.c
  * harbour/src/codepage/uc1254.c
  * harbour/src/codepage/uc866.c
  * harbour/src/codepage/uc850.c
  * harbour/src/codepage/uc1251.c
  * harbour/src/codepage/ucmaz.c
  * harbour/src/codepage/uc1252.c
  * harbour/src/codepage/uc8859_1.c
  * harbour/src/codepage/uc88591b.c
  * harbour/src/codepage/uc852.c
  * harbour/src/codepage/uc737.c
  * harbour/src/codepage/uc1253.c
  * harbour/src/codepage/uc1257.c
  * harbour/src/codepage/uc8859_2.c
    * updated some of my old copyright messages

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapicdp.h
    trunk/harbour/src/codepage/Makefile
    trunk/harbour/src/codepage/cphr437.c
    trunk/harbour/src/codepage/cpsl437.c
    trunk/harbour/src/codepage/uc1250.c
    trunk/harbour/src/codepage/uc1251.c
    trunk/harbour/src/codepage/uc1252.c
    trunk/harbour/src/codepage/uc1253.c
    trunk/harbour/src/codepage/uc1254.c
    trunk/harbour/src/codepage/uc1257.c
    trunk/harbour/src/codepage/uc737.c
    trunk/harbour/src/codepage/uc850.c
    trunk/harbour/src/codepage/uc852.c
    trunk/harbour/src/codepage/uc857.c
    trunk/harbour/src/codepage/uc866.c
    trunk/harbour/src/codepage/uc88591b.c
    trunk/harbour/src/codepage/uc8859_1.c
    trunk/harbour/src/codepage/uc8859_2.c
    trunk/harbour/src/codepage/uckam.c
    trunk/harbour/src/codepage/uckoi8.c
    trunk/harbour/src/codepage/ucmaz.c
    trunk/harbour/src/common/hbstr.c
    trunk/harbour/src/common/hbtrace.c
    trunk/harbour/src/nortl/nortl.c

Added Paths:
-----------
    trunk/harbour/src/codepage/ucyuscii.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Wed Dec 30 15:47:30 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Dec 30 15:47:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13417] trunk/harbour
In-Reply-To: <531d7a750912301139i6d89a16qdeddd4ddd976d9f1@mail.gmail.com>
References: <E1NQ3iq-0004Jc-Ee@74yxhf1.ch3.sourceforge.com>
	<531d7a750912301139i6d89a16qdeddd4ddd976d9f1@mail.gmail.com>
Message-ID: <26972062.post@talk.nabble.com>


Hi


Vailton Renato wrote:
> 
> When changing the project from one computer to another, the project.
> HBI is writing the absolute path of files that are part of it. The
> most appropriate is to write the relative path of the sources in
> relation to the path where the project was saved .
> 

NO. 
The paths have to be controlled through meta-data.
See hbide.hbi for example.
What if .hbi is placed in different folder ?



> what was that "working folder" in the project properties?
> 

The idea is to stay at this folder before executing any of the 
project building/launching operations.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13417--trunk-harbour-tp26970955p26972062.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vito at mcfrontis.hr  Wed Dec 30 16:34:27 2009
From: vito at mcfrontis.hr (Vitomir Cvitanovic)
Date: Wed Dec 30 16:34:20 2009
Subject: [Harbour] CodePage different behaviour between 2.0.0beta3 and
	2.0.0 (Win)
References: <96C528991F4E4155854A5A4339AA2D22@vitowork>
	<20091230173940.GA14159@linux-4bod.home.aster.pl>
	<20091230191028.GA16098@linux-4bod.home.aster.pl>
Message-ID: <00c501ca8997$ded8fd30$0a01fea9@VitoMobileHP>

Hi,

First of all, thanks for your effort and your response...

> I've found it in VIKI. It's YUSCII, isn't?
...
>I have no idea if names like HRYU and SLYU are acceptable for you.
>I like ?abeceda (I guess that in Poland we'd converted it to
>?abcia) but it's not good name to use in multilanguage project ;-)

You are wright. Start was YUSCII. Croatia, Slovenia, Serbia, Montenegro, 
Bosnia and Hercegovina,...
were parts of former Yugoslavia.
YUSCII (CROSCII) had many names (YUSCII, CP-999, CROSCII, CRO-437), and this 
was first
implementation of our diacritics, and it was 7-bit codepage...
And again - you are wright it was also called ?abeceda, because @ that is 
implementation for ? is before
letter A :))

About proposed name, I think it would be ok something like CROSCII/SLOSCII 
(I would like to avoid
HRYU and SLYU). Or maybe HR999/SL999


Some explanation:
-------------------

In the 1990s, there was a general confusion about the proper character 
encoding to use to
write text in Latin Croatian (also Slovenian, Serbian-latin) on computers.

- An attempt was made to apply the 7-bit coding - "YUSCII" (later adapted to 
CROSCII), which included
the five letters with diacritics at the expense of five non-letter 
characters ([, ], {, }, @)
(This "codepage" was called YUSCII, CP-999, CROSCII, CRO-437,...)
Also this codepage was included with nation support for Clipper 5.2 
(MsgCro.obj, NtxCro.obj)
-The 8-bit ISO 8859-2 (Latin-2) standard was developed by ISO
-MS-DOS introduced 8-bit encoding CP852 for Central European languages
-Microsoft Windows spread yet another 8-bit encoding called CP1250, which 
had a few letters
mapped one-to-one with ISO 8859-2, but also had some mapped elsewhere.

     ---------------------------------------------------------
     | 7-bit     | 8-bit Latin2 | 8-bit ANSI | 8-bit Latin 2 |
     | "ASCIIHR" | IBM CP-852   | ISO 8859-2 | MS CP- 1250   |
--------------------------------------------------------------
Sign | Hex | Dec | Hex | Dec    | Hex | Dec  | Hex | Dec     |
-----|-----|-----|-----|--------|-----|------|-----| --------|
?    | 7D  | 125 | 86  | 134    | E6  | 230  | E6  | 230     |
?    | 5D  | 93  | 8F  | 143    | C6  | 198  | C6  | 198     |
?    | 7E  | 126 | 9F  | 159    | E8  | 232  | E8  | 232     |
?    | 5E  | 94  | AC  | 172    | C8  | 200  | C8  | 200     |
?    | 7C  | 124 | DO  | 208    | F0  | 240  | F0  | 240     |
?    | 5C  | 92  | Dl  | 209    | DO  | 208  | DO  | 208     |
?    | 7B  | 123 | E7  | 231    | B9  | 185  | 9A  | 154     |
?    | 5B  | 91  | E6  | 230    | A9  | 169  | 8A  | 138     |
?    | 60  | 96  | A7  | 167    | BE  | 190  | 9E  | 158     |
?    | 40  | 64  | A6  | 166    | AE  | 174  | 8E  | 142     |
--------------------------------------------------------------

Once again,
Thanks for your response, and Happy New Year to You and all Harbour folks...

Regards,
Vito


From dmacias at mail.udg.mx  Wed Dec 30 16:38:38 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Dec 30 16:38:50 2009
Subject: [Harbour] Re: Harbour 2.0.0 binaries for OS/2-eCS
Message-ID: <4B3BC85E.50803@mail.udg.mx>

Viktor:

 >Pls note that Windows unified binary also contains
 >OS/2 watcom build.

Yes, and I have pending to test cross-build, it will be a good test
I downloaded 7-zip and .exe unified files days ago, but not tested yet due:
- Lack of time
- I have not switched to real Windows many time ago, to extract and/or 
install
- 7-zip format can be managed under OS/2 ? Not checked
- .exe file is for Windows. Perhaps Odin, but I do not have time

Maybe a wide-common format as .zip can be most affordable (yes, I know 
is due to size file )

Seven hours after previous report, we have 15 downloads more:

  Current 130 downloads are distributed as:
   harbour-2.0.0.bin-os2.watcom.zip        45  35%
   harbour-2.0.0.bin-os2.gcc433.zip        32  25%
   harbour-2.0.0.bin-os2.gcc335omf.zip     23  17%
   harbour-2.0.0.bin-os2.gcc335aout.zip    30  23%

Same preferences profile as before

David Macias



From harbour.01 at syenar.hu  Wed Dec 30 17:28:46 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Dec 30 17:28:59 2009
Subject: [Harbour] Re: Harbour 2.0.0 binaries for OS/2-eCS
In-Reply-To: <4B3BC85E.50803@mail.udg.mx>
References: <4B3BC85E.50803@mail.udg.mx>
Message-ID: <D1E48049-48B1-46C4-B01A-B930CFABAAF5@syenar.hu>

Hi David,

On 2009 Dec 30, at 22:38, David Arturo Macias Corona wrote:

> Viktor:
> 
> >Pls note that Windows unified binary also contains
> >OS/2 watcom build.
> 
> Yes, and I have pending to test cross-build, it will be a good test
> I downloaded 7-zip and .exe unified files days ago, but not tested yet due:
> - Lack of time
> - I have not switched to real Windows many time ago, to extract and/or install
> - 7-zip format can be managed under OS/2 ? Not checked

I did a _very_ light check and they say 7-zip can be 
run via Odin on OS/2.

> - .exe file is for Windows. Perhaps Odin, but I do not have time
> 
> Maybe a wide-common format as .zip can be most affordable (yes, I know is due to size file )

.zip is more than double the size: 101MB

It's also meant for Windows users, where this tool 
is available, so I don't see a problem. The package 
doesn't at this moment contain any OS/2 Harbour 
executable, only libs, since that's enough for 
cross-compilation.

If you can find time to make some tests, it's 
great. For sure hello.prg builds, but couldn't try 
to run it.

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Dec 30 17:45:01 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 30 17:45:08 2009
Subject: [Harbour] CodePage different behaviour between 2.0.0beta3 and
	2.0.0 (Win)
In-Reply-To: <00c501ca8997$ded8fd30$0a01fea9@VitoMobileHP>
References: <96C528991F4E4155854A5A4339AA2D22@vitowork>
	<20091230173940.GA14159@linux-4bod.home.aster.pl>
	<20091230191028.GA16098@linux-4bod.home.aster.pl>
	<00c501ca8997$ded8fd30$0a01fea9@VitoMobileHP>
Message-ID: <20091230224501.GA31763@linux-4bod.home.aster.pl>

On Wed, 30 Dec 2009, Vitomir Cvitanovic wrote:

Hi,

> YUSCII (CROSCII) had many names (YUSCII, CP-999, CROSCII, CRO-437),
> and this was first
> implementation of our diacritics, and it was 7-bit codepage...
> And again - you are wright it was also called ?abeceda, because @
> that is implementation for ? is before
> letter A :))
> About proposed name, I think it would be ok something like
> CROSCII/SLOSCII (I would like to avoid
> HRYU and SLYU). Or maybe HR999/SL999

I would like to keep two leading letters as ISO language code
so it should be HR and SL. In such case I think the best will
be HR999 and SL999.

> Some explanation:
> -------------------
> In the 1990s, there was a general confusion about the proper
> character encoding to use to
> write text in Latin Croatian (also Slovenian, Serbian-latin) on computers.
> - An attempt was made to apply the 7-bit coding - "YUSCII" (later
> adapted to CROSCII), which included
> the five letters with diacritics at the expense of five non-letter
> characters ([, ], {, }, @)
> (This "codepage" was called YUSCII, CP-999, CROSCII, CRO-437,...)
> Also this codepage was included with nation support for Clipper 5.2
> (MsgCro.obj, NtxCro.obj)

And this is important information. I've just generated cphr999.c file
using tests/cpinfo.prg and there is important difference between CL52
and Harbour CPs. Clipper uses this order:

   #define HB_CP_UPPER     "ABC^]D\EFGHIJKLMNOPQRS[TUVWXYZ@"
   #define HB_CP_LOWER     "abc~}d|efghijklmnopqrs{tuvwxyz`"

and Harbour:

   #define HB_CP_UPPER     "ABC^]D\\EFGHIJKLMNOPQRS[TUVWZ@XY"
   #define HB_CP_LOWER     "abc~}d|efghijklmnopqrs{tuvwz`xy"

as you can see they are not binary compatible because letters
XY in Harbour are moved to the end after ? and xy after ?.
If you need to share indexes between Harbour and Clipper then
Harbour have to use _EXACTLY_ the same sorting as Clipper
otherwise mixed Harbour and Clipper updates will cause index
corruption.
So there is new question:
Is it important difference for Croatian users so we should have
two CPs: HR999 with correct order "...S[TUVWZ@XY" and HR999C
which uses a little bit different but strictly Clipper compatible
collation "...S[TUVWXYZ@" to use when data base files are shared
with Clipper applications?
Or it's not such important because X and Y letters are used very
seldom only in foreign words so only one HR999 but strictly compatible
with Clipper is enough?

best regards,
Przemek
From vailtom at gmail.com  Wed Dec 30 18:04:52 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Wed Dec 30 18:05:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13417] trunk/harbour
In-Reply-To: <26972062.post@talk.nabble.com>
References: <E1NQ3iq-0004Jc-Ee@74yxhf1.ch3.sourceforge.com> 
	<531d7a750912301139i6d89a16qdeddd4ddd976d9f1@mail.gmail.com> 
	<26972062.post@talk.nabble.com>
Message-ID: <531d7a750912301504ha2ed2d8n97592b91e23b4de8@mail.gmail.com>

Hi!

Until then I had not understood the potential of meta-data is and this
is very good!

For example, in my company created a project j:\tests\project1.hbi and
brought home to continue working on it. But at home, I saved the
project in c:\tests\project1.hbi and try to open any source code and
HBIDE not find the file and not run the project properly - because the
absolute path is written on .hbi

Is there any way to treat this HBIDE so automatic?

Another thing I noticed was that when you compile using the "Save and
Build (Qt)" the HBIDE behaves very well. But the messages are not
properly highlighted because it does not call the function
ConvertBuildStatusMsgToHtml (). I tested this feature extensively to
intercept error messages and warnings in the compiler BCC, MSVC and
GCC.

Regards
Vailton Renato


2009/12/30 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hi
>
>
> Vailton Renato wrote:
>>
>> When changing the project from one computer to another, the project.
>> HBI is writing the absolute path of files that are part of it. The
>> most appropriate is to write the relative path of the sources in
>> relation to the path where the project was saved .
>>
>
> NO.
> The paths have to be controlled through meta-data.
> See hbide.hbi for example.
> What if .hbi is placed in different folder ?
>
>
>
>> what was that "working folder" in the project properties?
>>
>
> The idea is to stay at this folder before executing any of the
> project building/launching operations.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13417--trunk-harbour-tp26970955p26972062.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From bedipritpal at hotmail.com  Wed Dec 30 18:23:06 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Dec 30 18:23:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13417] trunk/harbour
In-Reply-To: <531d7a750912301504ha2ed2d8n97592b91e23b4de8@mail.gmail.com>
References: <E1NQ3iq-0004Jc-Ee@74yxhf1.ch3.sourceforge.com>
	<531d7a750912301139i6d89a16qdeddd4ddd976d9f1@mail.gmail.com>
	<26972062.post@talk.nabble.com>
	<531d7a750912301504ha2ed2d8n97592b91e23b4de8@mail.gmail.com>
Message-ID: <26973497.post@talk.nabble.com>


Hi


Vailton Renato wrote:
> 
> Until then I had not understood the potential of meta-data is and this
> is very good!
> 

:-)



> For example, in my company created a project j:\tests\project1.hbi and
> brought home to continue working on it. But at home, I saved the
> project in c:\tests\project1.hbi and try to open any source code and
> HBIDE not find the file and not run the project properly - because the
> absolute path is written on .hbi
> 

Use meta-definition   MySourceFolder = hb_dirBase() + "..\..\tests\"
then in the source list  <MySourceFolder>main.prg 
You will be able to open the project at both locations.

I need to tweak it a little more.



> Is there any way to treat this HBIDE so automatic?
> 

I could not follow you properly, can you explain what "automatic" means?

Regards
Pritpal Bedi

Another thing I noticed was that when you compile using the "Save and
Build (Qt)" the HBIDE behaves very well. But the messages are not
properly highlighted because it does not call the function
ConvertBuildStatusMsgToHtml (). I tested this feature extensively to
intercept error messages and warnings in the compiler BCC, MSVC and
GCC.

Regards
Vailton Renato


2009/12/30 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hi
>
>
> Vailton Renato wrote:
>>
>> When changing the project from one computer to another, the project.
>> HBI is writing the absolute path of files that are part of it. The
>> most appropriate is to write the relative path of the sources in
>> relation to the path where the project was saved .
>>
>
> NO.
> The paths have to be controlled through meta-data.
> See hbide.hbi for example.
> What if .hbi is placed in different folder ?
>
>
>
>> what was that "working folder" in the project properties?
>>
>
> The idea is to stay at this folder before executing any of the
> project building/launching operations.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13417--trunk-harbour-tp26970955p26972062.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13417--trunk-harbour-tp26970955p26973497.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vailtom at gmail.com  Wed Dec 30 19:44:51 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Wed Dec 30 19:45:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13417] trunk/harbour
In-Reply-To: <26973497.post@talk.nabble.com>
References: <E1NQ3iq-0004Jc-Ee@74yxhf1.ch3.sourceforge.com> 
	<531d7a750912301139i6d89a16qdeddd4ddd976d9f1@mail.gmail.com> 
	<26972062.post@talk.nabble.com>
	<531d7a750912301504ha2ed2d8n97592b91e23b4de8@mail.gmail.com> 
	<26973497.post@talk.nabble.com>
Message-ID: <531d7a750912301644v4363dd7cmf10550bf7b155dde@mail.gmail.com>

Hi!

Ok, I understand their intentions. I will try to expose more or less
what I thought before explanation. Here I have the files in a folder
of tests:

J:\hbide.3\projects\samples>dir
 Volume in drive J is Windows 7
 Volume Serial Number is 2825-DCD3

 Directory of J:\hbide.3\projects\samples

30/12/2009  22:27    <DIR>          .
30/12/2009  22:27    <DIR>          ..
29/12/2009  16:22               388 sample1.hbi
29/12/2009  22:45               234 sample1.prg
               2 File(s)            622 bytes
               2 Dir(s)  13.354.913.792 bytes free

This was the content generated automatically with the HBIDE:

J:\hbide.3\projects\samples>type sample1.hbi
[ PROPERTIES ]
Type              = Executable
Title             = sample1
Location          = j:/hbide.3/projects/samples
WorkingFolder     = j:/hbide.3/projects/samples
DestinationFolder = j:/hbide.3/projects/samples
Output            = sample1
LaunchParams      =
LaunchProgram     =

[ FLAGS ]

[ SOURCES ]
j:/hbide.3/projects/samples/sample1.prg

[ METADATA ]

J:\hbide.3\projects\samples>

Have you noticed that it generated all paths so absolute? But my
project was also saved in along with my sources ... if I change the
design of all the paths are wrong! If HBIDE generate an automatic
macro - so I do not have to change anything and is always working
properly - this is an example:

[ PROPERTIES ]
Type              = Executable
Title             = sample1
Location          = <hbi>
WorkingFolder     = <hbi>
DestinationFolder = <hbi>
Output            = sample1
LaunchParams      =
LaunchProgram     =

[ FLAGS ]

[ SOURCES ]
<hbi>sample1.prg

[ METADATA ]


J:\hbide.3\projects\samples>

Or that HBIDE record only the relative paths for would already be
something that would solve the problem.

Regards,
Vailton Renato

2009/12/30 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hi
>
>
> Vailton Renato wrote:
>>
>> Until then I had not understood the potential of meta-data is and this
>> is very good!
>>
>
> :-)
>
>
>
>> For example, in my company created a project j:\tests\project1.hbi and
>> brought home to continue working on it. But at home, I saved the
>> project in c:\tests\project1.hbi and try to open any source code and
>> HBIDE not find the file and not run the project properly - because the
>> absolute path is written on .hbi
>>
>
> Use meta-definition ? MySourceFolder = hb_dirBase() + "..\..\tests\"
> then in the source list ?<MySourceFolder>main.prg
> You will be able to open the project at both locations.
>
> I need to tweak it a little more.
>
>
>
>> Is there any way to treat this HBIDE so automatic?
>>
>
> I could not follow you properly, can you explain what "automatic" means?
>
> Regards
> Pritpal Bedi
>
> Another thing I noticed was that when you compile using the "Save and
> Build (Qt)" the HBIDE behaves very well. But the messages are not
> properly highlighted because it does not call the function
> ConvertBuildStatusMsgToHtml (). I tested this feature extensively to
> intercept error messages and warnings in the compiler BCC, MSVC and
> GCC.
>
> Regards
> Vailton Renato
>
>
> 2009/12/30 Pritpal Bedi <bedipritpal@hotmail.com>:
>>
>> Hi
>>
>>
>> Vailton Renato wrote:
>>>
>>> When changing the project from one computer to another, the project.
>>> HBI is writing the absolute path of files that are part of it. The
>>> most appropriate is to write the relative path of the sources in
>>> relation to the path where the project was saved .
>>>
>>
>> NO.
>> The paths have to be controlled through meta-data.
>> See hbide.hbi for example.
>> What if .hbi is placed in different folder ?
>>
>>
>>
>>> what was that "working folder" in the project properties?
>>>
>>
>> The idea is to stay at this folder before executing any of the
>> project building/launching operations.
>>
>> Regards
>> Pritpal Bedi
>>
>> --
>> View this message in context:
>> http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13417--trunk-harbour-tp26970955p26972062.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
> --
> View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13417--trunk-harbour-tp26970955p26973497.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From druzus at acn.waw.pl  Wed Dec 30 21:17:29 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Dec 30 21:17:36 2009
Subject: [Harbour] CodePage different behaviour between 2.0.0beta3 and
	2.0.0 (Win)
In-Reply-To: <20091230224501.GA31763@linux-4bod.home.aster.pl>
References: <96C528991F4E4155854A5A4339AA2D22@vitowork>
	<20091230173940.GA14159@linux-4bod.home.aster.pl>
	<20091230191028.GA16098@linux-4bod.home.aster.pl>
	<00c501ca8997$ded8fd30$0a01fea9@VitoMobileHP>
	<20091230224501.GA31763@linux-4bod.home.aster.pl>
Message-ID: <20091231021729.GA1462@linux-4bod.home.aster.pl>

On Wed, 30 Dec 2009, Przemys?aw Czerpak wrote:

Hi,

> > YUSCII (CROSCII) had many names (YUSCII, CP-999, CROSCII, CRO-437),
> > and this was first
> > implementation of our diacritics, and it was 7-bit codepage...
> > And again - you are wright it was also called ?abeceda, because @
> > that is implementation for ? is before
> > letter A :))
> > About proposed name, I think it would be ok something like
> > CROSCII/SLOSCII (I would like to avoid
> > HRYU and SLYU). Or maybe HR999/SL999
> I would like to keep two leading letters as ISO language code
> so it should be HR and SL. In such case I think the best will
> be HR999 and SL999.

I spent some time with google and I've found that this encoding
confirms ISO-646 7bit standard and its "official" name is: ISO-646-YU
Later is was also called YUSCII, CROSCII and SLOSCII but these are
not official names.
It's probably the last ISO-646-?? encoding still used in real life
anyhow it's possible that someone will want to add to Harbour some
others ISO-646 CPs due to compatibility with some old hardware so
I would like to keep full official name for internal Unicode table
with references to other *SCII names.
Then I suggest to use HR646 and SL646 as Harbour CP names.

I hope that such proposition is reasonable. What's your opinion?

I'll be thankful if you can answer yet about adding HR646C or
updating HR646 (current HR437) to use strictly Clipper compatible
collation order. What do you prefer?
Or maybe current order is wrong?
I've just checked that in xHarbour HR* CPs use the same character
order as in Clipper but SL* CPs not and are Harbour compatible.
What is the correct sort order? Is it different for Croatia and
Slovenia?

best regards,
Przemek
From druzus at users.sourceforge.net  Wed Dec 30 21:18:16 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Dec 30 21:18:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13420] trunk/harbour
Message-ID: <E1NQAcC-0007Tp-Uz@c3vjzd1.ch3.sourceforge.com>

Revision: 13420
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13420&view=rev
Author:   druzus
Date:     2009-12-31 02:18:15 +0000 (Thu, 31 Dec 2009)

Log Message:
-----------
2009-12-31 03:17 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapicdp.h
  * harbour/src/codepage/Makefile
  - harbour/src/codepage/ucyuscii.c
  + harbour/src/codepage/uc646_yu.c
  * harbour/src/codepage/cphr437.c
  * harbour/src/codepage/cpsl437.c
    * renamed internal unicode table name YUSCII->ISO-646-YU

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapicdp.h
    trunk/harbour/src/codepage/Makefile
    trunk/harbour/src/codepage/cphr437.c
    trunk/harbour/src/codepage/cpsl437.c

Added Paths:
-----------
    trunk/harbour/src/codepage/uc646_yu.c

Removed Paths:
-------------
    trunk/harbour/src/codepage/ucyuscii.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vito at mcfrontis.hr  Thu Dec 31 00:30:40 2009
From: vito at mcfrontis.hr (Vitomir Cvitanovic)
Date: Thu Dec 31 00:30:38 2009
Subject: [Harbour] CodePage different behaviour between 2.0.0beta3 and
	2.0.0 (Win)
References: <96C528991F4E4155854A5A4339AA2D22@vitowork>
	<20091230173940.GA14159@linux-4bod.home.aster.pl>
	<20091230191028.GA16098@linux-4bod.home.aster.pl>
	<00c501ca8997$ded8fd30$0a01fea9@VitoMobileHP>
	<20091230224501.GA31763@linux-4bod.home.aster.pl>
Message-ID: <002f01ca89da$66913a70$0a01fea9@VitoMobileHP>

Hi,


>I would like to keep two leading letters as ISO language code
>so it should be HR and SL. In such case I think the best will
>be HR999 and SL999.

Of course it would be OK, besides - two letters LandCode is standard

>And this is important information. I've just generated cphr999.c file
>using tests/cpinfo.prg and there is important difference between CL52
>and Harbour CPs. Clipper uses this order:

>   #define HB_CP_UPPER     "ABC^]D\EFGHIJKLMNOPQRS[TUVWXYZ@"
>   #define HB_CP_LOWER     "abc~}d|efghijklmnopqrs{tuvwxyz`"
>and Harbour:
>   #define HB_CP_UPPER     "ABC^]D\\EFGHIJKLMNOPQRS[TUVWZ@XY"
>   #define HB_CP_LOWER     "abc~}d|efghijklmnopqrs{tuvwz`xy"
...
>Or it's not such important because X and Y letters are used very
>seldom only in foreign words so only one HR999 but strictly compatible
>with Clipper is enough?

You are wright, there are differences between Clipper and Harbour and I 
would say that Clipper compatible order is wright one, and that there is no 
reason to have two different ordering methods. So the (only) sort order 
should be:

#define HB_CP_UPPER     "ABC^]D\EFGHIJKLMNOPQRS[TUVWXYZ@"
#define HB_CP_LOWER     "abc~}d|efghijklmnopqrs{tuvwxyz`"

Best Regards,
Vito 

From lorenzo.fiorini at gmail.com  Thu Dec 31 00:57:21 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Dec 31 00:57:28 2009
Subject: [Harbour] Euro symbol support with xxiso codepages
Message-ID: <9257026e0912302157t51d884fax81b98a4ea08f7348@mail.gmail.com>

I'm moving from ITISB to ITISO to support West European languages and
I'm trying to get Euro symbol working on screen, in reports and in
file exports. Euro symbol is seldom used but it is on the keyboards so
users expect to get it.

I've done few tests changing gtxwc encoding and cpitiso.c to 8859-15
but without success.

Using linux/gtxwc I can type it, it shows like a small square but if I
export to a pdf ( using hbvpdf ) or to an rtf using rtf/ansi charset
it is showed correctly.

However if I import the dbf in an OpenOffice SpreadSheet using
ISO8859-15 encoding it shows like a square and I'm still trying to get
it out using HP PCL codes.

Ideas?

best regards,
Lorenzo
From vito at mcfrontis.hr  Thu Dec 31 00:58:38 2009
From: vito at mcfrontis.hr (Vitomir Cvitanovic)
Date: Thu Dec 31 00:58:29 2009
Subject: [Harbour] CodePage different behaviour between 2.0.0beta3 and
	2.0.0 (Win)
References: <96C528991F4E4155854A5A4339AA2D22@vitowork>
	<20091230173940.GA14159@linux-4bod.home.aster.pl>
	<20091230191028.GA16098@linux-4bod.home.aster.pl>
	<00c501ca8997$ded8fd30$0a01fea9@VitoMobileHP>
	<20091230224501.GA31763@linux-4bod.home.aster.pl>
	<20091231021729.GA1462@linux-4bod.home.aster.pl>
Message-ID: <003601ca89de$4d181790$0a01fea9@VitoMobileHP>

Hi,

>I spent some time with google and I've found that this encoding
>confirms ISO-646 7bit standard and its "official" name is: ISO-646-YU
Yes it was ISO standard ISO 646:1973 (from 1973.)

>It's probably the last ISO-646-?? encoding still used in real life
:))

>Then I suggest to use HR646 and SL646 as Harbour CP names.
>I hope that such proposition is reasonable. What's your opinion?

Yes your proposal is reasonable  (regarding possible future extensions)
Only, I would suggest to have "CROSCII" as part of description and 
ChangeLog. People are not familiar with ISO standards (ISO Standard 
numbers). Having only HR646 could misslead to something like "codepage 646" 
:)


>I'll be thankful if you can answer yet about adding HR646C or
>updating HR646 (current HR437) to use strictly Clipper compatible
>collation order. What do you prefer?
>Or maybe current order is wrong?

I would say that Clipper compatible order is wright one, and that there is 
no reason to have two different ordering methods. So the (only) sort order 
should be:

#define HB_CP_UPPER     "ABC^]D\EFGHIJKLMNOPQRS[TUVWXYZ@"
#define HB_CP_LOWER     "abc~}d|efghijklmnopqrs{tuvwxyz`"

>I've just checked that in xHarbour HR* CPs use the same character
>order as in Clipper but SL* CPs not and are Harbour compatible.
>What is the correct sort order? Is it different for Croatia and
>Slovenia?

I think, and as far as I know (perhaps someone from Slovenia could verify 
that) that both Croatia and Slovenia have the same sort order. Problem is 
perhaps that when CA extends Clipper to support "CRONTX" there was no 
extension especially for Slovenia (nothing like SLONTX). If I remember well, 
some colleagues from Slovenia used CRONTX in Clipper.

Thank you very much and Best Regards,

Vito 

From tomaz.zupan at orpo.si  Thu Dec 31 02:09:45 2009
From: tomaz.zupan at orpo.si (=?utf-8?q?Toma=C5=BE_Zupan?=)
Date: Thu Dec 31 02:09:53 2009
Subject: [Harbour] CodePage different behaviour between 2.0.0beta3 and
	2.0.0 (Win)
In-Reply-To: <003601ca89de$4d181790$0a01fea9@VitoMobileHP>
References: <96C528991F4E4155854A5A4339AA2D22@vitowork>
	<20091231021729.GA1462@linux-4bod.home.aster.pl>
	<003601ca89de$4d181790$0a01fea9@VitoMobileHP>
Message-ID: <200912310809.45987.tomaz.zupan@orpo.si>


Thursday 31 December 2009 06:58:38 je Vitomir Cvitanovic napisal:
> I think, and as far as I know (perhaps someone from Slovenia could verify
> that) that both Croatia and Slovenia have the same sort order. 

Yes, it is.


LP, Toma?
From harbour.01 at syenar.hu  Thu Dec 31 02:21:22 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec 31 02:21:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13417] trunk/harbour
In-Reply-To: <531d7a750912301504ha2ed2d8n97592b91e23b4de8@mail.gmail.com>
References: <E1NQ3iq-0004Jc-Ee@74yxhf1.ch3.sourceforge.com>
	<531d7a750912301139i6d89a16qdeddd4ddd976d9f1@mail.gmail.com>
	<26972062.post@talk.nabble.com>
	<531d7a750912301504ha2ed2d8n97592b91e23b4de8@mail.gmail.com>
Message-ID: <6D5627A5-5F4F-4C79-AF77-7BA260205363@syenar.hu>

> Until then I had not understood the potential of meta-data is and this
> is very good!
> 
> For example, in my company created a project j:\tests\project1.hbi and
> brought home to continue working on it. But at home, I saved the
> project in c:\tests\project1.hbi and try to open any source code and
> HBIDE not find the file and not run the project properly - because the
> absolute path is written on .hbi
> 
> Is there any way to treat this HBIDE so automatic?

The solution is to store all dirs inside .hbi file 
relative to the .hbi file itself.

Any "metadata" solution is IMO overcomplication 
and storing absolute paths is an absolute no-no, 
especially when thinking multiplatform.

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Thu Dec 31 02:45:47 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Dec 31 02:45:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13421] trunk/harbour
Message-ID: <E1NQFj9-0001fv-Jw@bj8yhf1.ch3.sourceforge.com>

Revision: 13421
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13421&view=rev
Author:   vouchcac
Date:     2009-12-31 07:45:45 +0000 (Thu, 31 Dec 2009)

Log Message:
-----------
2009-12-30 11:44 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt.h
  * contrib/hbqt/hbqt_hbqsyntaxhighlighter.cpp
  * contrib/hbqt/hbqt_hbqsyntaxhighlighter.h
  * contrib/hbqt/qtgui/QSyntaxHighlighter.cpp
  * contrib/hbqt/qtgui/TQSyntaxHighlighter.prg
  * contrib/hbqt/qth/QSyntaxHighlighter.qth
    + Implemented syntax highlighting mechanism at PRG level.
      
  * contrib/hbide/hbide.hbp
  * contrib/hbide/ideeditor.prg
  * contrib/hbide/idemisc.prg
  + contrib/hbide/iderequests.prg
  * contrib/hbide/idestylesheets.prg
    + Showcased syntax highlighting in action under prg control.
      This implementation offer colored tokens, bold, italic, 
      underlined fonts. Please test.

    TODO: User interface to build new themes besides HBIDE defined ones.
          If you have, furinish the themes to be included as HBIDE's
          default themes, under follwoing heads:
             * Compiler Directives    - #include...
             * Harbour Keywords       - FUNCTION, DOCASE, ...
             * Operators              - :=, .or., ...
             * Parenthesis and braces - (), {}, ...
             * Functions in general   - DBCreate(), ...
             * Strings                - "This is text", 'and this also'
             * Comments               - // Comment, /* Useful Routine */, ..            
             * Numeric constants      - 123, 212.33,...
             * Background color

          The attributes will be ( in the order shown below )
             aRGB       = { 127,213,123 } 
             lItalic    = .T. | .F.
             lBold      = .T. | .F.
             lUnderline = = .T. | .F.

          There are few more exotic attributes but for later...

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.hbp
    trunk/harbour/contrib/hbide/ideeditor.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/idestylesheets.prg
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_hbqsyntaxhighlighter.cpp
    trunk/harbour/contrib/hbqt/hbqt_hbqsyntaxhighlighter.h
    trunk/harbour/contrib/hbqt/qtgui/QSyntaxHighlighter.cpp
    trunk/harbour/contrib/hbqt/qtgui/TQSyntaxHighlighter.prg
    trunk/harbour/contrib/hbqt/qth/QSyntaxHighlighter.qth

Added Paths:
-----------
    trunk/harbour/contrib/hbide/iderequests.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From gabor.salai at euroherc.hr  Thu Dec 31 02:49:48 2009
From: gabor.salai at euroherc.hr (sali)
Date: Thu Dec 31 02:48:39 2009
Subject: [Harbour] CodePage different behaviour between 2.0.0beta3
	and2.0.0 (Win)
Message-ID: <026a01ca89ed$d4210a30$6800520a@euroherc.ba>

----- Original Message ----- 
From: "Przemys?aw Czerpak" <druzus@acn.waw.pl>
To: "Vitomir Cvitanovic" <vito@mcfrontis.hr>; "Harbour Project Main
Developer List." <harbour@harbour-project.org>
Sent: Thursday, December 31, 2009 3:17 AM
Subject: Re: [Harbour] CodePage different behaviour between 2.0.0beta3 
and2.0.0 (Win)


> On Wed, 30 Dec 2009, Przemys?aw Czerpak wrote:

> Later is was also called YUSCII, CROSCII and SLOSCII but these are

 of course, names are of no technical importance, but this char settings are 
used on whole ex-yu teritory with latin letters, not just slo & cro

From M.Horodyski at pzuzycie.com.pl  Thu Dec 31 03:52:54 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Dec 31 03:53:05 2009
Subject: [Harbour] Building HBIDE and qtcore4 lib.
In-Reply-To: <26968750.post@talk.nabble.com>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC6FD1@PINK.zycie.pzu><531d7a750912300424j1c6d3feeud43e85c087a023e8@mail.gmail.com><FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC70E7@PINK.zycie.pzu>
	<26968750.post@talk.nabble.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC712D@PINK.zycie.pzu>

 

>-----Original Message-----
>From: Pritpal Bedi [mailto:bedipritpal@hotmail.com] 
>Sent: Wednesday, December 30, 2009 4:41 PM
>To: harbour@harbour-project.org
>Subject: RE: [Harbour] Building HBIDE and qtcore4 lib.
>
>
>Hi
>
>
>Horodyski Marek (PZUZ) wrote:
>> 
>> No - problem was with my old name vars : hb_inc_qt. After 
>ranaming it 
>> to hb_with_qt (file INSTALL is your friend)  process started.
>> Now, when I try run HBIDE, have I :
>> 
>> ---------------------------
>> Run-time Error!

...

>> Called from HBIDE:CREATE(277)   
>> Called from MAIN(101)
>> ---------------------------
>> OK   
>> ---------------------------
>> 
>
>Can you compile HBXBP with line numbers enabled.
>I want to see which event is causing crash on Ubuntu?
>
>Regards
>Pritpal Bedi

It is on WinXp Sp3.
Yes, I can - but how ?
I don't know how can compile it with line nambers.
In 9 line of file C:\harbour\contrib\hbide\hbide.hbp is :
? 9?-w3 -es2 -gc3

I compile HBIDE project with : hbmk2 hbide.hbp.
In HBXBP I not see any place with harbour compiler switch.

I need advice/instruction.

Regards,
Marek Horodyski
From druzus at acn.waw.pl  Thu Dec 31 03:54:49 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec 31 03:54:56 2009
Subject: [Harbour] CodePage different behaviour between 2.0.0beta3 and
	2.0.0 (Win)
In-Reply-To: <200912310809.45987.tomaz.zupan@orpo.si>
References: <96C528991F4E4155854A5A4339AA2D22@vitowork>
	<20091231021729.GA1462@linux-4bod.home.aster.pl>
	<003601ca89de$4d181790$0a01fea9@VitoMobileHP>
	<200912310809.45987.tomaz.zupan@orpo.si>
Message-ID: <20091231085449.GA3721@linux-4bod.home.aster.pl>

Hi Vito and Toma?,

> > Thursday 31 December 2009 06:58:38 je Vitomir Cvitanovic napisal:
> > I think, and as far as I know (perhaps someone from Slovenia could verify
> > that) that both Croatia and Slovenia have the same sort order. 
> On Thu, 31 Dec 2009, Toma? Zupan wrote:
> Yes, it is.

Thank you for your confirmation.

I'll update Slovenian and Croatian CPs in Harbour repository but I have
some questions to you.

Neither Slovenian nor Croatian collation define the relations to X and Y
characters. OK but I do not believe that you never have to sort words
having them so what is the common practice in such situations? I.e. how
words starting with X or Y are sorted in printed vocabularies? Or maybe
it depends on situation and different rules are used in vocabulary,
encyclopedia and phone book? Or maybe these area is still undefined so
everyone has to take his own arbitrary decision about it?
It's possible that there are some differences between Slovenia and
Croatia so I would like to hear the answer from both of you.

The second part is addressed to Vito and Croatian users.
You have three digraph letters: D?, Lj and Nj.
As I can see it created few problems. These digraphs should be sorted
as single letter in precisely defined order which is not compatible
with simple single character sorting. D? is sorted as expected between
Dz and ? but Lj and Nj no. Lj should be sorted between Lz and M and
Nj between Nz and O. Current Harbour code allows to define such collation
but I do not know if it's important to introduce it. For sure it's
not compatible with Clipper so if we add it then we have to keep also
CP which is strictly ntxcor.obj compatible. Maybe even you will want to
duplicate all existing Croatian CPs because though in fact current ones
without native support for digraphs are the same as Slovenian CPs with
only different names.
Do you think it's important to add support for Croatian (and maybe Latin
Serbian) collation respecting special order of digraphs?

I also found the information that these digraphs were not well chosen
because sometimes such character combination should be used as separate
letters and real digraphs have own Unicode values.
Is it true?
If yes can you precisely tell me what are these Unicode values for upper
and lower letters? Do you use them in real life? Are they supported by some
CPs and/or do you have hardware support (keyboards?) for using them?
Is it something what have to be resolved in the future or rather you will
try to adopt existing solutions - i.e. in Poland our own national keyboard
layout is dieing and now most of us prefer standard QWERTY layout with
ALT-GR used to insert Polish national characters (we call it 'Polish
programmer keyboard').

The answers should help me also in the future when I work on Unicode
support in Harbour.

best regards,
Przemek
From M.Horodyski at pzuzycie.com.pl  Thu Dec 31 03:58:40 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Dec 31 03:58:49 2009
Subject: [Harbour] Strange behavior DemoQt
In-Reply-To: <609353e70912300810w7f35c091t952537be4d91c15e@mail.gmail.com>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC70EA@PINK.zycie.pzu>
	<609353e70912300810w7f35c091t952537be4d91c15e@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC712E@PINK.zycie.pzu>

I have Qt 4.5.2 and gcc 4.4.0-tdm-1. 
But the cause is probably elsewhere.
 
Regards,
Marek Horodyski


________________________________

	From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
	Sent: Wednesday, December 30, 2009 5:10 PM
	To: Harbour Project Main Developer List.
	Subject: Re: [Harbour] Strange behavior DemoQt
	
	
	Hi Marek
	here I not have  problem with 
	SET HB_WITH_QT=C:/DEVL/qt/4.5.3/INCLUDE
	gcc version 4.4.1 (TDM-2 mingw32)

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091231/6bcf9616/attachment.html
From vito at mcfrontis.hr  Thu Dec 31 04:00:15 2009
From: vito at mcfrontis.hr (Vitomir Cvitanovic)
Date: Thu Dec 31 04:00:14 2009
Subject: [Harbour] CodePage different behaviour between 2.0.0beta3 and
	2.0.0 (Win)
References: <96C528991F4E4155854A5A4339AA2D22@vitowork>
	<20091231021729.GA1462@linux-4bod.home.aster.pl>
	<003601ca89de$4d181790$0a01fea9@VitoMobileHP>
	<200912310809.45987.tomaz.zupan@orpo.si>
Message-ID: <006601ca89f7$acf9cd20$0a01fea9@VitoMobileHP>

Hi,

>From: Toma? Zupan
>Sent: Thursday, December 31, 2009 8:09 AM
>Subject: Re: [Harbour] CodePage different behaviour between 2.0.0beta3 and 
>2.0.0 (Win)

>> I think, and as far as I know (perhaps someone from Slovenia could verify
>> that) that both Croatia and Slovenia have the same sort order.

>Yes, it is.

Thanks for confirmation / hvala na potvrdi
And this also applied to other "Ex-YU" countries: Bosnia and Hercegovina, 
Serbia, Montenegro, Macedonia.

Best regards / Lijep pozdrav,

Vito 

From mbelgrano at deltain.it  Thu Dec 31 04:21:15 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 31 04:21:44 2009
Subject: [Harbour] Building HBIDE and qtcore4 lib.
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC712D@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC6FD1@PINK.zycie.pzu> 
	<531d7a750912300424j1c6d3feeud43e85c087a023e8@mail.gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC70E7@PINK.zycie.pzu> 
	<26968750.post@talk.nabble.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC712D@PINK.zycie.pzu>
Message-ID: <609353e70912310121s3d50758ck22a18a17d1c763f6@mail.gmail.com>

afaik for compile HBXBP with line number
you can set HB_USER_PRGFLAGS
c:\harbour\contrib\hbxbp>c:\harbour\win-make

for compile hbide with line number
hbmk2 hbide.hbp -l

2009/12/31 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>:
>
>
>>-----Original Message-----
>>From: Pritpal Bedi [mailto:bedipritpal@hotmail.com]
>>Sent: Wednesday, December 30, 2009 4:41 PM
>>To: harbour@harbour-project.org
>>Subject: RE: [Harbour] Building HBIDE and qtcore4 lib.
>>
>>
>>Hi
>>
>>
>>Horodyski Marek (PZUZ) wrote:
>>>
>>> No - problem was with my old name vars : hb_inc_qt. After
>>ranaming it
>>> to hb_with_qt (file INSTALL is your friend) ?process started.
>>> Now, when I try run HBIDE, have I :
>>>
>>> ---------------------------
>>> Run-time Error!
>
> ...
>
>>> Called from HBIDE:CREATE(277)
>>> Called from MAIN(101)
>>> ---------------------------
>>> OK
>>> ---------------------------
>>>
>>
>>Can you compile HBXBP with line numbers enabled.
>>I want to see which event is causing crash on Ubuntu?
>>
>>Regards
>>Pritpal Bedi
>
> It is on WinXp Sp3.
> Yes, I can - but how ?
> I don't know how can compile it with line nambers.
> In 9 line of file C:\harbour\contrib\hbide\hbide.hbp is :
> ? 9?-w3 -es2 -gc3
>
> I compile HBIDE project with : hbmk2 hbide.hbp.
> In HBXBP I not see any place with harbour compiler switch.
>
> I need advice/instruction.

>



-- 
Massimo Belgrano
From maurilio.longo at libero.it  Thu Dec 31 04:28:16 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Dec 31 04:28:28 2009
Subject: [Harbour] latest svn on OS/2 fails
In-Reply-To: <4B38EC78.6020508@libero.it>
References: <4B38EC78.6020508@libero.it>
Message-ID: <4B3C6EB0.1080802@libero.it>

Dear all,

I've rebuilt everything this morning and now it works.

I don't know what happened since I allways do a make clean, make every time I
update my svn copy.

Anyway, I'm glad it keeps working :)

Maurilio.


Maurilio Longo wrote:
> Hi all,
> 
> something went south with latest SVN on OS/2+GCC
> 
> 12-28-2009  17:58:47  SYS2070  PID 63b3  TID 0001  Slot 0090
> E:\REPOSITORY\HARBOUR\BIN\OS2\GCC\HBTEST.EXE
> HBTEST->HARBOUR._hb_parvnl
> 127
> 
> 
> It seems the .dll file for st has something wrong in it, from the error I'd
> say _hb_parvnl is not linked in or not exported.
> 
> (E:\REPOSITORY\HARBOUR\bin\os2\gcc)help sys2070
> 
> SYS2070: A program in this session encountered a problem and cannot
> continue.
> 
> EXPLANATION: The system delayed the loading of some of the
> application's code until it was needed.  Now there is a problem
> loading the needed code segment.
> 
> ACTION: If you purchased this program, contact the supplier of the
> program.  If you are the developer of this program, refer to the
> information in the register.
> 
> 
> hbmk2.exe starts ok and displays its help screen.
> 
> Any idea?
> 
> Maurilio.
> 
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From mbelgrano at deltain.it  Thu Dec 31 04:32:09 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 31 04:32:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13421] trunk/harbour
In-Reply-To: <E1NQFj9-0001fv-Jw@bj8yhf1.ch3.sourceforge.com>
References: <E1NQFj9-0001fv-Jw@bj8yhf1.ch3.sourceforge.com>
Message-ID: <609353e70912310132k48825bdes59a87094e93d6e40@mail.gmail.com>

About present version:
if you modify a source then compile it be compiled the modified
version (you must save)
in this version not work double click to go to error. the xmate grid
error seem more clear

About future version:
find in file/project
Using ?The subdir "project"? require a proliferation of project subir
capability for hbide,of drag and drop all the PRG's into drop area.




2009/12/31  <vouchcac@users.sourceforge.net>:
> Revision: 13421
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13421&view=rev
> Author: ? vouchcac
> Date: ? ? 2009-12-31 07:45:45 +0000 (Thu, 31 Dec 2009)
>
> Log Message:
> -----------
> 2009-12-30 11:44 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> ?* contrib/hbqt/hbqt.h
> ?* contrib/hbqt/hbqt_hbqsyntaxhighlighter.cpp
> ?* contrib/hbqt/hbqt_hbqsyntaxhighlighter.h
> ?* contrib/hbqt/qtgui/QSyntaxHighlighter.cpp
> ?* contrib/hbqt/qtgui/TQSyntaxHighlighter.prg
> ?* contrib/hbqt/qth/QSyntaxHighlighter.qth
> ? ?+ Implemented syntax highlighting mechanism at PRG level.
>
> ?* contrib/hbide/hbide.hbp
> ?* contrib/hbide/ideeditor.prg
> ?* contrib/hbide/idemisc.prg
> ?+ contrib/hbide/iderequests.prg
> ?* contrib/hbide/idestylesheets.prg
> ? ?+ Showcased syntax highlighting in action under prg control.
> ? ? ?This implementation offer colored tokens, bold, italic,
> ? ? ?underlined fonts. Please test.
>
> ? ?TODO: User interface to build new themes besides HBIDE defined ones.
> ? ? ? ? ?If you have, furinish the themes to be included as HBIDE's
> ? ? ? ? ?default themes, under follwoing heads:
> ? ? ? ? ? ? * Compiler Directives ? ?- #include...
> ? ? ? ? ? ? * Harbour Keywords ? ? ? - FUNCTION, DOCASE, ...
> ? ? ? ? ? ? * Operators ? ? ? ? ? ? ?- :=, .or., ...
> ? ? ? ? ? ? * Parenthesis and braces - (), {}, ...
> ? ? ? ? ? ? * Functions in general ? - DBCreate(), ...
> ? ? ? ? ? ? * Strings ? ? ? ? ? ? ? ?- "This is text", 'and this also'
> ? ? ? ? ? ? * Comments ? ? ? ? ? ? ? - // Comment, /* Useful Routine */, ..
> ? ? ? ? ? ? * Numeric constants ? ? ?- 123, 212.33,...
> ? ? ? ? ? ? * Background color
>
> ? ? ? ? ?The attributes will be ( in the order shown below )
> ? ? ? ? ? ? aRGB ? ? ? = { 127,213,123 }
> ? ? ? ? ? ? lItalic ? ?= .T. | .F.
> ? ? ? ? ? ? lBold ? ? ?= .T. | .F.
> ? ? ? ? ? ? lUnderline = = .T. | .F.
>
> ? ? ? ? ?There are few more exotic attributes but for later...


-- 
Massimo Belgrano
From vito at mcfrontis.hr  Thu Dec 31 04:59:38 2009
From: vito at mcfrontis.hr (Vitomir Cvitanovic)
Date: Thu Dec 31 04:59:35 2009
Subject: [Harbour] CodePage different behaviour between 2.0.0beta3
	and2.0.0 (Win)
References: <96C528991F4E4155854A5A4339AA2D22@vitowork><20091231021729.GA1462@linux-4bod.home.aster.pl><003601ca89de$4d181790$0a01fea9@VitoMobileHP><200912310809.45987.tomaz.zupan@orpo.si>
	<20091231085449.GA3721@linux-4bod.home.aster.pl>
Message-ID: <00be01ca89ff$f7dc5bc0$0a01fea9@VitoMobileHP>

Hi Przemek,

>I'll update Slovenian and Croatian CPs in Harbour repository but I have

Thanks  :))

>Neither Slovenian nor Croatian collation define the relations to X and Y
>characters. OK but I do not believe that you never have to sort words
>having them so what is the common practice in such situations? I.e. how
>words starting with X or Y are sorted in printed vocabularies? Or maybe

Perhaps, I missunderstod your question, but it seems that both you and me 
clarified that:

Alfa
Beta
....
Vito
Work
Xeon
Yes
Zambia
?aba  (that's why had "?abeceda")

>The second part is addressed to Vito and Croatian users.
>You have three digraph letters: D?, Lj and Nj.
>As I can see it created few problems. These digraphs should be sorted
>as single letter in precisely defined order which is not compatible
>with simple single character sorting. D? is sorted as expected between
>Dz and ? but Lj and Nj no. Lj should be sorted between Lz and M and
>Nj between Nz and O. Current Harbour code allows to define such collation
>but I do not know if it's important to introduce it. For sure it's
>not compatible with Clipper so if we add it then we have to keep also
>CP which is strictly ntxcor.obj compatible. Maybe even you will want to
>duplicate all existing Croatian CPs because though in fact current ones
>without native support for digraphs are the same as Slovenian CPs with
>only different names.
>Do you think it's important to add support for Croatian (and maybe Latin
>Serbian) collation respecting special order of digraphs?

I must say that this is (again) not only Croatian problem. Same is in all 
ex-YU countries.
"Letters" D?, LJ, NJ are somehow special. But in Cliper we didn't have 
support for two-byte diacritics, so if we treat them as single leters it 
would be ok, and we would be Clipper compatible.

If we start with full implementation this could bring some more problems. 
For instance D? - we could find it as "D?" (uppercase), "d?" (lowercase), 
and "D?" (mixed case - for instance - Name, beginning of sentence...). In 
general I would vote for Clipper compatibility and treating this special 
"letters" as two letters.

Off the record:
In my Win apps where database is MS SQL Server, my settings for database is 
allways "Croatian_CI_AS" (Case-Insensitive, Accent-Sensitive) so for 
instance "NJxxxx" is positioned between "Nxxxxx" and "Mxxxxxxx". Other 
possible combinations would be Croatian_CS_AS, Croatian_CI_AI, 
Croatian_CS_AI (total of FOUR combination :(  )

>I also found the information that these digraphs were not well chosen
>because sometimes such character combination should be used as separate
>letters and real digraphs have own Unicode values.
>Is it true?

I Think that this is not true. NJ, D?, LJ allways have same meaning. Perhaps 
mistake comes from possible combination (D?/d?/D?, NJ/nj/Nj, LJ/lj/Lj) as 
writen above.

>If yes can you precisely tell me what are these Unicode values for upper
>and lower letters? Do you use them in real life? Are they supported by some
>CPs and/or do you have hardware support (keyboards?) for using them?

No, our keyboards (I can send you a picture :) ) are allmost standard QWERTZ 
where our simbols are near <return>:
QWERTZUIOP??
ASDFGHJKL???
<YXCVBNM,.-

>Is it something what have to be resolved in the future or rather you will
>try to adopt existing solutions - i.e. in Poland our own national keyboard
>layout is dieing and now most of us prefer standard QWERTY layout with
>ALT-GR used to insert Polish national characters (we call it 'Polish
>programmer keyboard').

Now, perhaps you know why I like CROSCII so much. When I start with 
computers only CP was US-ASCII. So today I allways have two keyboard layouts 
installed (HR and US). When programing I don't have to use ALT-GR 
combination for [, ], {, } because they are on standard places :). All I 
have to do is switch to 'EN' and I have 'standard' US-ASCII :)

>The answers should help me also in the future when I work on Unicode
>support in Harbour.

>From my point of view Unicode is more then great thing but it lead to some 
disadvantages:
MS in their SQL Server have limits for char and varchar DataTypes. It is 
8000 characters. Of course if you decide to use nchar or nvarchar (unicode) 
this limtis is 4000 :(
They are dealing with bytes - not leters (characters), so I don't use 
unicode data types. If it is necessery, I would use different colatin for 
table that needs it.

best regards,
Vito

P.S. Soory for my language, but EN is not my native language :))

From tomaz.zupan at orpo.si  Thu Dec 31 05:20:22 2009
From: tomaz.zupan at orpo.si (=?utf-8?q?Toma=C5=BE_Zupan?=)
Date: Thu Dec 31 05:20:34 2009
Subject: [Harbour] CodePage different behaviour between 2.0.0beta3 and
	2.0.0 (Win)
In-Reply-To: <20091231085449.GA3721@linux-4bod.home.aster.pl>
References: <96C528991F4E4155854A5A4339AA2D22@vitowork>
	<200912310809.45987.tomaz.zupan@orpo.si>
	<20091231085449.GA3721@linux-4bod.home.aster.pl>
Message-ID: <200912311120.23012.tomaz.zupan@orpo.si>

Thursday 31 December 2009 09:54:49 je Przemys?aw Czerpak napisal:
> Neither Slovenian nor Croatian collation define the relations to X and Y
> characters. OK but I do not believe that you never have to sort words
> having them so what is the common practice in such situations? I.e. how
> words starting with X or Y are sorted in printed vocabularies? Or maybe
> it depends on situation and different rules are used in vocabulary,
> encyclopedia and phone book? Or maybe these area is still undefined so
> everyone has to take his own arbitrary decision about it?
> It's possible that there are some differences between Slovenia and
> Croatia so I would like to hear the answer from both of you.
>
I will have to check this at home, but common sense answer to this would be, 
that X an Y are sorted as in english. I will try to get answer to this from 
more competent  sources than myself :-)

In general this letters dont exist in slovenian alphabet and are used only in 
names (of company or personal) of non-slovenian origin, the same goes for ?,? 
and digraphs you mention (D?, Lj and Nj). Digraphs were here aways writen as 
two separate letters .

LP, Toma?
From maurilio.longo at libero.it  Thu Dec 31 05:22:37 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Dec 31 05:22:47 2009
Subject: [Harbour] Re: Harbour 2.0.0 binaries for OS/2-eCS
In-Reply-To: <4B3B6386.1080409@mail.udg.mx>
References: <4B3B6386.1080409@mail.udg.mx>
Message-ID: <4B3C7B6D.4030801@libero.it>

David,

real great numbers, I'm having a hard time believing they're so high! :)

Anyway, you could post to eCS site the same news message you posted to
os2world.com, maybe it reaches some other user.

Best regards.

Maurilio.

David Arturo Macias Corona wrote:
> Harbour 2.0.0 binaries files for OS/2-eComStation are available since 26
> Dec 2009, four days ago
> In first day published in Harbour mailing list, were 6 downloads
> In next three days, published in os2world.com, rest of downloads reach
> 114 as current value
> 
> Harbour 1.0.1 reached 168 downloads since 18 Sep, 2008 (15 months)
> ( It was published in os2world.com too )
> 
> So in four days Harbour 2.0.0 have 67 % of Harbour 1.0.1 downloads
> 
> Current 114 downloads are distributed as:
>   harbour-2.0.0.bin-os2.watcom.zip        40
>   harbour-2.0.0.bin-os2.gcc433.zip        29
>   harbour-2.0.0.bin-os2.gcc335omf.zip     20
>   harbour-2.0.0.bin-os2.gcc335aout.zip    25
> 
> We have interesting results:
> a) Surprisely "most wanted" choice is OpenWatcom with 35 %
> b) os2gcc433 is second choice with 25 %, ahead of traditional os2gcc335
> c) gcc OMF type are ahead of a.out type (22 %), with 25 % (433)+ 17 %
> (335omf) = 42 %
>  Considering OpenWatcom too, OMF type have 42%+35% = 77%
> d) Old os2gcc335 in a.out type have 22 % of current preference
> 
> Results confirm that we took the right decisions:
> 1) Keep support of OS/2-OpenWatcom
> 2) Inclusion of OMF type support in gcc4xx and gcc335
> 3) Inclusion of newer os2gcc4xx support
> 
> Thanks to everyone
> 
> David Macias
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From M.Horodyski at pzuzycie.com.pl  Thu Dec 31 05:36:46 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Dec 31 05:36:55 2009
Subject: [Harbour] Building HBIDE and qtcore4 lib.
In-Reply-To: <609353e70912310121s3d50758ck22a18a17d1c763f6@mail.gmail.com>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC6FD1@PINK.zycie.pzu>
	<531d7a750912300424j1c6d3feeud43e85c087a023e8@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC70E7@PINK.zycie.pzu>
	<26968750.post@talk.nabble.com><FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC712D@PINK.zycie.pzu>
	<609353e70912310121s3d50758ck22a18a17d1c763f6@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC715A@PINK.zycie.pzu>

>-----Original Message-----
>From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
>Sent: Thursday, December 31, 2009 10:21 AM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Building HBIDE and qtcore4 lib.
>
>afaik for compile HBXBP with line number you can set 
>HB_USER_PRGFLAGS c:\harbour\contrib\hbxbp>c:\harbour\win-make
>
>for compile hbide with line number
>hbmk2 hbide.hbp -l

====================================================
What I'm doing :

Create and run file C:\harbour\contrib\hbxbp\a.bat :
set HB_USER_PRGFLAGS=-l%HB_USER_PRGFLAGS%
C:\harbour\win-make.exe
*-------------------------

On monitor I see :

C:\harbour\contrib\hbxbp>a.bat

C:\harbour\contrib\hbxbp>set HB_USER_PRGFLAGS=-l

C:\harbour\contrib\hbxbp>C:\harbour\win-make.exe
! Building Harbour 2.0.1dev from source - http://www.harbour-project.org
! MAKE: C:/harbour/win-make 3.81 sh.exe
! HB_USER_PRGFLAGS: -l
! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
! HB_PLATFORM: win (x86) (autodetected)
! HB_COMPILER: mingw
! Component: 'zlib' found in C:/harbour/external/zlib (local)
! Component: 'pcre' found in C:/harbour/external/pcre (local)
! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
! Component: 'gpm' not supported on win platform
! Component: 'slang' not found. Configure with HB_WITH_SLANG.
! Component: 'curses' not found. Configure with HB_WITH_CURSES.
! Component: 'x11' not found. Configure with HB_WITH_X11.
! Component: 'wattcp/watt-32' not supported on win platform
! HB_INSTALL_PREFIX automatically set to: C:\harbour
win-make[1]: `../../../../../lib/win/mingw/libhbxbp.a' is up to date.
*----------------------

And when I delete this lib :

C:\harbour\contrib\hbxbp>a.bat

C:\harbour\contrib\hbxbp>set HB_USER_PRGFLAGS=-l

C:\harbour\contrib\hbxbp>C:\harbour\win-make.exe
! Building Harbour 2.0.1dev from source - http://www.harbour-project.org
! MAKE: C:/harbour/win-make 3.81 sh.exe
! HB_USER_PRGFLAGS: -l
! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
! HB_PLATFORM: win (x86) (autodetected)
! HB_COMPILER: mingw
! Component: 'zlib' found in C:/harbour/external/zlib (local)
! Component: 'pcre' found in C:/harbour/external/pcre (local)
! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
! Component: 'gpm' not supported on win platform
! Component: 'slang' not found. Configure with HB_WITH_SLANG.
! Component: 'curses' not found. Configure with HB_WITH_CURSES.
! Component: 'x11' not found. Configure with HB_WITH_X11.
! Component: 'wattcp/watt-32' not supported on win platform
! HB_INSTALL_PREFIX automatically set to: C:\harbour
( ar   rcs ../../../../../lib/win/mingw/libhbxbp.a xbpgeneric.o
xbpdialog.o xbpwindow.o xbpparthandler.o xbpmenubar.o xbptoolba
r.o xbppushbutton.o xbpdataref.o xbpcheckbox.o xbp3state.o
xbpradiobutton.o xbptabpage.o xbplistbox.o xbpstatusbar.o xbpscrollb
ar.o xbpsle.o xbpmle.o xbpspinbutton.o xbpcombobox.o xbptreeview.o
xbpstyle.o xbpappevent.o xbpstatic.o xbphtmlviewer.o xbpfile
dialog.o xbpfontdialog.o xbpbitmap.o xbprtf.o xbppresspace.o
xbpprinter.o xbpprintdialog.o xbpbrowse.o xbpqtuiloader.o  ) || de
l /q /f ..\..\..\..\..\lib\win\mingw\libhbxbp.a
*------------------------

Afther this :
hbmk2 hbide.hbp -l

And hbide.exe is created. I move this file to folder C:\Qt\4.5.2\bin\
and run it.
And error :

---------------------------
Run-time Error!
---------------------------


Error BASE/1068  Argument error: array access 
Called from SETAPPEVENT(0)   
Called from XBPDIALOG:GRABEVENT(0)   
Called from (b)XBPDIALOG_CREATE(0)   
Called from QT_QWIDGET_SHOW(0)   
Called from QMAINWINDOW:SHOW(0)   
Called from XBPDIALOG:SHOW(0)   
Called from XBPDIALOG:CREATE(0)   
Called from HBIDE:BUILDDIALOG(1209)   
Called from HBIDE:CREATE(277)   
Called from MAIN(101)  
---------------------------
OK   
---------------------------

Is still :(

Regards,
Marek Horodyski
From druzus at acn.waw.pl  Thu Dec 31 05:40:36 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec 31 05:40:43 2009
Subject: [Harbour] Building HBIDE and qtcore4 lib.
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC715A@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC6FD1@PINK.zycie.pzu>
	<531d7a750912300424j1c6d3feeud43e85c087a023e8@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC70E7@PINK.zycie.pzu>
	<26968750.post@talk.nabble.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC712D@PINK.zycie.pzu>
	<609353e70912310121s3d50758ck22a18a17d1c763f6@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC715A@PINK.zycie.pzu>
Message-ID: <20091231104036.GA5553@linux-4bod.home.aster.pl>

On Thu, 31 Dec 2009, Horodyski Marek (PZUZ) wrote:

Hi,

> ====================================================
> What I'm doing :
> Create and run file C:\harbour\contrib\hbxbp\a.bat :
> set HB_USER_PRGFLAGS=-l%HB_USER_PRGFLAGS%
> C:\harbour\win-make.exe
> *-------------------------
> On monitor I see :
> C:\harbour\contrib\hbxbp>a.bat
> C:\harbour\contrib\hbxbp>set HB_USER_PRGFLAGS=-l

-l disables line numbers and it's set by default in Harbour
build switches. You should use -l- to reenable line numbers, i.e.:
   set HB_USER_PRGFLAGS=-l-

best regards,
Przemek
From mbelgrano at deltain.it  Thu Dec 31 05:54:08 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 31 05:54:35 2009
Subject: [Harbour] Building HBIDE and qtcore4 lib.
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC715A@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC6FD1@PINK.zycie.pzu> 
	<531d7a750912300424j1c6d3feeud43e85c087a023e8@mail.gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC70E7@PINK.zycie.pzu> 
	<26968750.post@talk.nabble.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC712D@PINK.zycie.pzu> 
	<609353e70912310121s3d50758ck22a18a17d1c763f6@mail.gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC715A@PINK.zycie.pzu>
Message-ID: <609353e70912310254u338c7cf4y1f3e3e8f2e48e130@mail.gmail.com>

C:\harbour\contrib\hbxbp>C:\harbour\win-make.exe clean install

> Create and run file C:\harbour\contrib\hbxbp\a.bat :
> set HB_USER_PRGFLAGS=-l%HB_USER_PRGFLAGS%
> C:\harbour\win-make.exe
> *-------------------------
>
> On monitor I see :
>
> C:\harbour\contrib\hbxbp>a.bat
>
> C:\harbour\contrib\hbxbp>set HB_USER_PRGFLAGS=-l
>
> C:\harbour\contrib\hbxbp>C:\harbour\win-make.exe
> ! Building Harbour 2.0.1dev from source - http://www.harbour-project.org
> ! MAKE: C:/harbour/win-make 3.81 sh.exe
> ! HB_USER_PRGFLAGS: -l
> ! HB_HOST_PLAT: win (x86) ?HB_SHELL: nt
> ! HB_PLATFORM: win (x86) (autodetected)
> ! HB_COMPILER: mingw
> ! Component: 'zlib' found in C:/harbour/external/zlib (local)
> ! Component: 'pcre' found in C:/harbour/external/pcre (local)
> ! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
> ! Component: 'gpm' not supported on win platform
> ! Component: 'slang' not found. Configure with HB_WITH_SLANG.
> ! Component: 'curses' not found. Configure with HB_WITH_CURSES.
> ! Component: 'x11' not found. Configure with HB_WITH_X11.
> ! Component: 'wattcp/watt-32' not supported on win platform
> ! HB_INSTALL_PREFIX automatically set to: C:\harbour
> win-make[1]: `../../../../../lib/win/mingw/libhbxbp.a' is up to date.


-- 
Massimo Belgrano
From druzus at acn.waw.pl  Thu Dec 31 05:59:36 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec 31 05:59:44 2009
Subject: [Harbour] CodePage different behaviour between 2.0.0beta3 and
	2.0.0 (Win)
In-Reply-To: <200912311120.23012.tomaz.zupan@orpo.si>
References: <96C528991F4E4155854A5A4339AA2D22@vitowork>
	<200912310809.45987.tomaz.zupan@orpo.si>
	<20091231085449.GA3721@linux-4bod.home.aster.pl>
	<200912311120.23012.tomaz.zupan@orpo.si>
Message-ID: <20091231105936.GA5663@linux-4bod.home.aster.pl>

Hi Toma? and Vito,

Thank you for your answers.
Now it's more clear for me. I'll update Croatian and Slovenian CPs in
Harbour to sort X and Y before Z and I'll also send you an example of
Croatian sorting using special order for digraphs. Maybe someone will
find it useful. I think that Serbian users can be interesting in it
because AFAIR some of them are replaced by single Cyrillic characters.
In such case CP with correctly defined digraphs with their Unicode
values can be used for automatic translations between Cyrillic and
Latin alphabets.

best regards,
Przemek
From druzus at users.sourceforge.net  Thu Dec 31 06:44:30 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Dec 31 06:44:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13422] trunk/harbour
Message-ID: <E1NQJSA-0006TD-Nm@dn4whf1.ch3.sourceforge.com>

Revision: 13422
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13422&view=rev
Author:   druzus
Date:     2009-12-31 11:44:26 +0000 (Thu, 31 Dec 2009)

Log Message:
-----------
2009-12-31 12:43 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbextcdp.ch
  * harbour/include/hbextlng.ch
  * harbour/src/lang/Makefile
  - harbour/src/lang/msghr437.c
  + harbour/src/lang/msghr646.c
  - harbour/src/codepage/cphr437.c
  + harbour/src/codepage/cphr646.c
    * renamed HR437 CP and LANG modules to HR646 (CROSCII / ISO-646-YU)

  * harbour/include/hbextcdp.ch
  * harbour/include/hbextlng.ch
  * harbour/src/codepage/Makefile
  - harbour/src/lang/msgsl437.c
  + harbour/src/lang/msgsl646.c
  - harbour/src/codepage/cpsl437.c
  + harbour/src/codepage/cpsl646.c
    * renamed CL437 CP and LANG modules to CL646 (SLOSCII / ISO-646-YU)

  * harbour/src/lang/msghriso.c
    ! fixed language ID

  + harbour/src/codepage/cphr646.c
  * harbour/src/codepage/cphr852.c
  * harbour/src/codepage/cphrwin.c
  + harbour/src/codepage/cpsl646.c
  * harbour/src/codepage/cpsliso.c
  * harbour/src/codepage/cpslwin.c
  * harbour/src/codepage/cpsl852.c
    ! changed the collation order so X and Y characters are sorted before Z
      It's CL5.2 ntxcro.obj compatible behavior. Now HR646 and SL646 Harbour
      CPs can be used to share data with Clipper application linked with
      ntxcro.obj.

  * harbour/include/hbextcdp.ch
  * harbour/src/codepage/Makefile
  + harbour/src/codepage/cphriso.c
    + added HRISO (ISO-8859-2) Harbour CP module

   Please test all these modifications.
   [TOMERGE 2.0]

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbextcdp.ch
    trunk/harbour/include/hbextlng.ch
    trunk/harbour/src/codepage/Makefile
    trunk/harbour/src/codepage/cphr852.c
    trunk/harbour/src/codepage/cphrwin.c
    trunk/harbour/src/codepage/cpsl852.c
    trunk/harbour/src/codepage/cpsliso.c
    trunk/harbour/src/codepage/cpslwin.c
    trunk/harbour/src/lang/Makefile
    trunk/harbour/src/lang/msghriso.c

Added Paths:
-----------
    trunk/harbour/src/codepage/cphr646.c
    trunk/harbour/src/codepage/cphriso.c
    trunk/harbour/src/codepage/cpsl646.c
    trunk/harbour/src/lang/msghr646.c
    trunk/harbour/src/lang/msgsl646.c

Removed Paths:
-------------
    trunk/harbour/src/codepage/cphr437.c
    trunk/harbour/src/codepage/cpsl437.c
    trunk/harbour/src/lang/msghr437.c
    trunk/harbour/src/lang/msgsl437.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From snaiperis at users.sourceforge.net  Thu Dec 31 07:03:23 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Thu Dec 31 07:03:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13423] trunk/harbour
Message-ID: <E1NQJkR-0006Sg-H5@c3vjzd1.ch3.sourceforge.com>

Revision: 13423
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13423&view=rev
Author:   snaiperis
Date:     2009-12-31 12:03:22 +0000 (Thu, 31 Dec 2009)

Log Message:
-----------
2009-12-31 13:59 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/rddads/ads1.c
    ! fixed softseek seeklast behavior in case seek positions at EOF
    * added additional ADS function return value check in seek operation

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/ads1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Thu Dec 31 07:24:31 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Dec 31 07:24:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13424] trunk/harbour
Message-ID: <E1NQK4t-0003eq-6K@d5vjzd1.ch3.sourceforge.com>

Revision: 13424
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13424&view=rev
Author:   druzus
Date:     2009-12-31 12:24:29 +0000 (Thu, 31 Dec 2009)

Log Message:
-----------
2009-12-31 13:24 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/codepage/Makefile
    ! added missing cphriso.c

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/codepage/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From M.Horodyski at pzuzycie.com.pl  Thu Dec 31 07:49:33 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Dec 31 07:49:44 2009
Subject: [Harbour] Building HBIDE and qtcore4 lib.
In-Reply-To: <20091231104036.GA5553@linux-4bod.home.aster.pl>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC6FD1@PINK.zycie.pzu><531d7a750912300424j1c6d3feeud43e85c087a023e8@mail.gmail.com><FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC70E7@PINK.zycie.pzu><26968750.post@talk.nabble.com><FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC712D@PINK.zycie.pzu><609353e70912310121s3d50758ck22a18a17d1c763f6@mail.gmail.com><FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC715A@PINK.zycie.pzu>
	<20091231104036.GA5553@linux-4bod.home.aster.pl>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC71A4@PINK.zycie.pzu>

>-----Original Message-----
>From: Przemys?aw Czerpak [mailto:druzus@acn.waw.pl] 
>Sent: Thursday, December 31, 2009 11:41 AM
>To: Harbour Project Main Developer List.
>Subject: Re: RE: [Harbour] Building HBIDE and qtcore4 lib.
>

...

>-l disables line numbers and it's set by default in Harbour 
>build switches. You should use -l- to reenable line numbers, i.e.:
>   set HB_USER_PRGFLAGS=-l-

I rename olds lib to libhbxbp_.a and try again. On screen see I :
c:\harbour\contrib\hbxbp>a.bat                                                                                                 
                                                                                                                               
c:\harbour\contrib\hbxbp>set HB_USER_PRGFLAGS=-l-                                                                              
                                                                                                                               
c:\harbour\contrib\hbxbp>C:\harbour\win-make.exe                                                                               
! Building Harbour 2.0.1dev from source - http://www.harbour-project.org                                                       
! MAKE: C:/harbour/win-make 3.81 sh.exe                                                                                        
! HB_USER_PRGFLAGS: -l-                                                                                                        
! HB_HOST_PLAT: win (x86)  HB_SHELL: nt                                                                                        
! HB_PLATFORM: win (x86) (autodetected)                                                                                        
! HB_COMPILER: mingw                                                                                                           
! Component: 'zlib' found in c:/harbour/external/zlib (local)                                                                  
! Component: 'pcre' found in c:/harbour/external/pcre (local)                                                                  
! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.                                                              
! Component: 'gpm' not supported on win platform                                                                               
! Component: 'slang' not found. Configure with HB_WITH_SLANG.                                                                  
! Component: 'curses' not found. Configure with HB_WITH_CURSES.                                                                
! Component: 'x11' not found. Configure with HB_WITH_X11.                                                                      
! Component: 'wattcp/watt-32' not supported on win platform                                                                    
! HB_INSTALL_PREFIX automatically set to: c:\harbour                                                                           
( ar   rcs ../../../../../lib/win/mingw/libhbxbp.a xbpgeneric.o xbpdialog.o xbpwindow.o xbpparthandler.o xbpmenubar.o xbptoolba
r.o xbppushbutton.o xbpdataref.o xbpcheckbox.o xbp3state.o xbpradiobutton.o xbptabpage.o xbplistbox.o xbpstatusbar.o xbpscrollb
ar.o xbpsle.o xbpmle.o xbpspinbutton.o xbpcombobox.o xbptreeview.o xbpstyle.o xbpappevent.o xbpstatic.o xbphtmlviewer.o xbpfile
dialog.o xbpfontdialog.o xbpbitmap.o xbprtf.o xbppresspace.o xbpprinter.o xbpprintdialog.o xbpbrowse.o xbpqtuiloader.o  ) || de
l /q /f ..\..\..\..\..\lib\win\mingw\libhbxbp.a                                                                                

Libs are :
??[1]????????????? c:\harbour\lib\win\mingw ???????????????????
?                Name                ?  Size   ?  Date  ?Time 

?..                                  ?<UP--DIR>?09-12-31?13:38?
?libhbxbp                           a?   423512?09-12-31?13:38?
?libhbxbp_                          a?   423512?09-12-30?15:23?
                                                                                                                              

c:\harbour\lib\win\mingw>fc libhbxbp.a libhbxbp_.a                                                                             
Por?wnywanie plik?w libhbxbp.a i LIBHBXBP_.A                                                                                   
***** libhbxbp.a                                                                                                               
!<arch>                                                                                                                        
/               1262263126  0     0     0       1494      `                                                                    
                                                                                                                               
***** LIBHBXBP_.A                                                                                                              
!<arch>                                                                                                                        
/               1262182999  0     0     0       1494      `                                                                    
                                                                                                                               
*****                                                                                                                          

Further by repeating the process (I use the new library), still do not have line numbers :

---------------------------
Run-time Error!
---------------------------


Error BASE/1068  Argument error: array access 
Called from SETAPPEVENT(0)   
Called from XBPDIALOG:GRABEVENT(0)   
Called from (b)XBPDIALOG_CREATE(0)   
Called from QT_QWIDGET_SHOW(0)   
Called from QMAINWINDOW:SHOW(0)   
Called from XBPDIALOG:SHOW(0)   
Called from XBPDIALOG:CREATE(0)   
Called from HBIDE:BUILDDIALOG(1209)   
Called from HBIDE:CREATE(277)   
Called from MAIN(101)  
---------------------------
OK   
---------------------------

Regards,
Marek Horodyski
From M.Horodyski at pzuzycie.com.pl  Thu Dec 31 07:54:14 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Dec 31 07:54:24 2009
Subject: [Harbour] Building HBIDE and qtcore4 lib.
In-Reply-To: <609353e70912310254u338c7cf4y1f3e3e8f2e48e130@mail.gmail.com>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC6FD1@PINK.zycie.pzu>
	<531d7a750912300424j1c6d3feeud43e85c087a023e8@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC70E7@PINK.zycie.pzu>
	<26968750.post@talk.nabble.com><FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC712D@PINK.zycie.pzu>
	<609353e70912310121s3d50758ck22a18a17d1c763f6@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC715A@PINK.zycie.pzu>
	<609353e70912310254u338c7cf4y1f3e3e8f2e48e130@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC71A6@PINK.zycie.pzu>

 

>-----Original Message-----
>From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
>Sent: Thursday, December 31, 2009 11:54 AM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Building HBIDE and qtcore4 lib.
>
>C:\harbour\contrib\hbxbp>C:\harbour\win-make.exe clean install

Bingo !

---------------------------
Run-time Error!
---------------------------


Error BASE/1068  Argument error: array access 
Called from SETAPPEVENT(176)   
Called from XBPDIALOG:GRABEVENT(549)   
Called from (b)XBPDIALOG_CREATE(138)   
Called from QT_QWIDGET_SHOW(0)   
Called from QMAINWINDOW:SHOW(0)   
Called from XBPDIALOG:SHOW(1266)   
Called from XBPDIALOG:CREATE(161)   
Called from HBIDE:BUILDDIALOG(1209)   
Called from HBIDE:CREATE(277)   
Called from MAIN(101)  
---------------------------
OK   
---------------------------

Regards,
Marek Horodyski
From mbelgrano at deltain.it  Thu Dec 31 07:54:14 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 31 07:54:41 2009
Subject: [Harbour] Public Invitation to see how much is powerful hbide
Message-ID: <609353e70912310454x2b845ee4nb58595cb78ee3236@mail.gmail.com>

Dear Harbour group
Hbide is multiplatform  project manager and builder, It includes a
built-in, configurable source code editor
allow Visual edit compile and run your application
 It has a very easy GUI interface and a built-in MAKE dependency logic.
Hbide will  fully automates the creation of the project link scripts
and the project building process.
Hbide is integrated with Harbour
hbide is similar to:
 Visual FoxPro ide with command line "dot prompt." driven
http://en.wikipedia.org/wiki/File:VisualFoxProScreenshot.png
 Visual Studiio IDE that offers a set of tools that help you write and
modify the code for your programs, and correct errors in your
programs.
 Qt Creator is a cross-platform integrated development environment for
use with QT/C

Actual svn release of hbide is very stable/good and allow edit compile
so i suggest everyone that modify any part of harbour try do with
hbide
put harbour and qt in path
cd\ harbour\contrib\hbide
hbmk2?hbide.hbp -rebuild
copy hbide to harbour bin for having in path
Using hbide to modify all harbour part

Here i have a little request for hbide team give the capability of run
in single file mode so we simply do
hbide myprg.prg -single
hbide sample.c -single

Happy new year
--
Massimo Belgrano

I
From mbelgrano at deltain.it  Thu Dec 31 08:00:03 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 31 08:00:31 2009
Subject: [Harbour] Wich way for easy switch to hbxhb?
Message-ID: <609353e70912310500u7d0b9a24t50af20339e1fea9b@mail.gmail.com>

Hbide have demonstrate the incredible power and reliability  of hbxhb with
harbour
Mr. Pritpal Bedi is one of the best helpful "software inventors" for GUI
element
Which way we can  convert Clipper text-based applications to GUI-based
applications.

   - the flagship way   http://www.fship.com/vfs.html
   Made a GT that use GUI element  for @ say/get read
   - The eXPress++ path http://www.donnay-software.com/EXPPROD.HTM
   add to getlist array with gui element that emulate get
   Follow eXPress feature:
   *

   Converts @SAY..GETs to Windows-GUI dialogs.  Supports WHEN, VALID
and HIDE clauses.

   Converts @PROMPT and MENU TO to Windows-style pushbutton menus.

   Converts AChoice() and DbEdit() to Windows-style browse.

   Converts SET DEVICE TO PRINT and @SAYs to Windows-GUI printer commands.

   Build any GUI dialog using simple procedural-style commands like this:

   *


In future hi hope that we can manage set syntax  to cover differences by
GUI like proposed in vianemo we have different product/experment that follow
this way like HbQtCommand (wrapper MiniGui ->HBQT).
set GUISYNTAX to XBP,MINIGUI,FIVEWIN,HWGUI,WVT...VFP ,clipper
I think that in future harbour must offer also a FoxPro path for GUI because
harbour is better that Visual FoxPro

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091231/6d9d9a41/attachment.html
From marcobra.ubuntu at gmail.com  Thu Dec 31 08:32:15 2009
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Thu Dec 31 08:32:23 2009
Subject: [Harbour] Public Invitation to see how much is powerful hbide
In-Reply-To: <609353e70912310454x2b845ee4nb58595cb78ee3236@mail.gmail.com>
References: <609353e70912310454x2b845ee4nb58595cb78ee3236@mail.gmail.com>
Message-ID: <fd76479f0912310532h6cba484el349a7308707c141b@mail.gmail.com>

Massimo ok, but more than one user have this issue running hbide:
http://old.nabble.com/HBIDE-dont-start-%2C-see-image-to26963483.html#a26963703

Do you have some hint to compile hbxbp with -l parameter... to help
into debug of this...?

Thank you
From mbelgrano at deltain.it  Thu Dec 31 09:04:30 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 31 09:04:58 2009
Subject: [Harbour] Public Invitation to see how much is powerful hbide
In-Reply-To: <fd76479f0912310532h6cba484el349a7308707c141b@mail.gmail.com>
References: <609353e70912310454x2b845ee4nb58595cb78ee3236@mail.gmail.com> 
	<fd76479f0912310532h6cba484el349a7308707c141b@mail.gmail.com>
Message-ID: <609353e70912310604l2b6a317cv4b3918aa44880bd7@mail.gmail.com>

afaik
set HB_USER_PRGFLAGS=-l-
cd c:\harbour\contrib\hbxbp
set HB_USER_PRGFLAGS=-l-
C:\harbour\win-make.exe clean install
cd \harbour\contrib\hbide
hbmk2 hbide.hbc

2009/12/31 marco bra <marcobra.ubuntu@gmail.com>:
> Massimo ok, but more than one user have this issue running hbide:
> http://old.nabble.com/HBIDE-dont-start-%2C-see-image-to26963483.html#a26963703
>
> Do you have some hint to compile hbxbp with -l parameter... to help
> into debug of this...?
>
> Thank you


-- 
Massimo Belgrano
From mbelgrano at deltain.it  Thu Dec 31 09:20:09 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 31 09:20:36 2009
Subject: [Harbour] What about evolve harbour name?
Message-ID: <609353e70912310620w3ba03b20s36e8a165aeb24648@mail.gmail.com>

What about evolve harbour name  HarbourPro
pro Is for a "pro"fessiona product
pro remember  Fox"Pro"
pro is for harbour "pro"ject
IF Xharbour is eXtended harbour harbour must evolve in HarbourPro
is  free Domain name and good for  search
Harbour is evolved and may be right refleft this evolution in name?

-- 
Massimo Belgrano
From marcobra.ubuntu at gmail.com  Thu Dec 31 09:37:13 2009
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Thu Dec 31 09:37:21 2009
Subject: [Harbour] Public Invitation to see how much is powerful hbide
In-Reply-To: <609353e70912310604l2b6a317cv4b3918aa44880bd7@mail.gmail.com>
References: <609353e70912310454x2b845ee4nb58595cb78ee3236@mail.gmail.com>
	<fd76479f0912310532h6cba484el349a7308707c141b@mail.gmail.com>
	<609353e70912310604l2b6a317cv4b3918aa44880bd7@mail.gmail.com>
Message-ID: <fd76479f0912310637t6ea0379fydee89e2468acad00@mail.gmail.com>

Ok thank you. On Ubuntu i have done this:

cd $HOME/src/harbour/contrib/hbxbp
export HB_LIB_INSTALL=/usr/lib
export HB_INC_INSTALL=/usr/include
export HB_USER_PRGFLAGS=-l-

make clean; make
sudo -E make install

Then going into the hbide dir

cd $HOME/src/harbour/contrib/hbxbp
hbmk2 hbide.hbp -clean
hbmk2 hbide.hbp

./hbide

i still get startup error with any additional informative row:

Error BASE/1068  Argument error: array access

Called from SETAPPEVENT(0)

Called from XBPDIALOG:GRABEVENT(0)

Called from (b)XBPDIALOG_CREATE(0)

Called from QT_QWIDGET_SHOW(0)

Called from QMAINWINDOW:SHOW(0)

Called from XBPDIALOG:SHOW(0)

Called from XBPDIALOG:CREATE(0)

Called from HBIDE:BUILDDIALOG(1088)

Called from HBIDE:CREATE(273)

Called from MAIN(101)
From marcobra.ubuntu at gmail.com  Thu Dec 31 09:40:58 2009
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Thu Dec 31 09:41:05 2009
Subject: [Harbour] HBIDE dont start , see image
In-Reply-To: <133778360912300922i2947a2adud42f4fb2ca522a85@mail.gmail.com>
References: <133778360912291852n195b73dkbefffe91632554a9@mail.gmail.com>
	<26963703.post@talk.nabble.com>
	<133778360912300922i2947a2adud42f4fb2ca522a85@mail.gmail.com>
Message-ID: <fd76479f0912310640g6fdc6c67re5ccefd58bf439cf@mail.gmail.com>

On Ubuntu i have done this:

cd $HOME/src/harbour/contrib/hbxbp
export HB_LIB_INSTALL=/usr/lib
export HB_INC_INSTALL=/usr/include
export HB_USER_PRGFLAGS=-l-

make clean; make
sudo -E make install

Then going into the hbide dir

cd $HOME/src/harbour/contrib/hbxbp
hbmk2 hbide.hbp -clean
hbmk2 hbide.hbp

./hbide

i still get startup error with any additional informative row:

Error BASE/1068  Argument error: array access

Called from SETAPPEVENT(0)

Called from XBPDIALOG:GRABEVENT(0)

Called from (b)XBPDIALOG_CREATE(0)

Called from QT_QWIDGET_SHOW(0)

Called from QMAINWINDOW:SHOW(0)

Called from XBPDIALOG:SHOW(0)

Called from XBPDIALOG:CREATE(0)

Called from HBIDE:BUILDDIALOG(1088)

Called from HBIDE:CREATE(273)

Called from MAIN(101)
From ice at extreme.hu  Thu Dec 31 09:42:26 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Thu Dec 31 09:42:34 2009
Subject: [Harbour] What about evolve harbour name?
In-Reply-To: <609353e70912310620w3ba03b20s36e8a165aeb24648@mail.gmail.com>
References: <609353e70912310620w3ba03b20s36e8a165aeb24648@mail.gmail.com>
Message-ID: <alpine.DEB.2.01.0912311540520.8590@dawn.royalcomp.hu>

On Thu, 31 Dec 2009, Massimo Belgrano wrote:

 > What about evolve harbour name  HarbourPro
 > pro Is for a "pro"fessiona product

it is already there.

on top of that, "ject" has been added for **EVEN MORE** professionalism.

-- 
[-]

mkdir /nonexistent
From jarabal at gmail.com  Thu Dec 31 09:54:57 2009
From: jarabal at gmail.com (Xavi)
Date: Thu Dec 31 09:56:14 2009
Subject: [Harbour] Question about C macro HB_TRACE.
Message-ID: <4B3CBB41.50505@gmail.com>

I have this definition .-

#ifndef _MAKET_H_
#  ifdef _DEBUG
#     define mk_ods(fmt, ...) HB_TRACE(HB_TR_DEBUG, (fmt, ##__VA_ARGS__))
#  else
#     define mk_ods(fmt, ...)
#  endif
#endif

mk_ods( "Hello!" );

How can I have the opposite?

#ifdef _MAKET_H_
#  undef HB_TRACE
#  ifndef _DEBUG
#     define HB_TRACE(HB_TR_DEBUG, (fmt, ...)) mk_ods(fmt, ##__VA_ARGS__)
#  else
#     define HB_TRACE(HB_TR_DEBUG, (fmt, ...))
#  endif
#endif

HB_TRACE(HB_TR_DEBUG, ("Hello!"));

Sorry, it might be a nonsense but don't go out the errors. :'(

Maket\wapi_winbase_mutex.c|91|error: "(" may not appear in macro parameter list|
Maket\wapi_winbase_mutex.c|91|warning: __VA_ARGS__ can only appear in the expansion of a C99 variadic macro|
Maket\wapi_winbase_mutex.c||In function 'void wapi_SLE_Initialize(void*)':|
Maket\wapi_winbase_mutex.c|105|error: 'HB_TRACE' was not declared in this scope|
Maket\wapi_winbase_mutex.c|110|warning: left-hand operand of comma has no effect|
Maket\wapi_winbase_mutex.c|110|warning: right-hand operand of comma has no effect|
Maket\wapi_winbase_mutex.c|110|warning: right-hand operand of comma has no effect|
Maket\wapi_winbase_mutex.c|111|error: expected ';' before '}' token|
Maket\wapi_winbase_mutex.c|138|warning: 'static_int__hb_WAPI_Initialize_' defined but not used|
||=== Build finished: 3 errors, 5 warnings ===|

I don't see, Can it be done easily?

HB_TRACE is wonderful but in my case mk_ods control internal things of develop.

TIA,
-- 
Xavi

From vouchcac at users.sourceforge.net  Thu Dec 31 10:31:51 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Dec 31 10:31:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13425] trunk/harbour
Message-ID: <E1NQN0B-0007xm-Ss@d5vjzd1.ch3.sourceforge.com>

Revision: 13425
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13425&view=rev
Author:   vouchcac
Date:     2009-12-31 15:31:50 +0000 (Thu, 31 Dec 2009)

Log Message:
-----------
2009-12-31 07:29 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbpdialog.prg
    ! Fixed (probably) the bug causing RTE on Ubuntu reported by Marek.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/xbpdialog.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Dec 31 10:33:20 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 31 10:33:29 2009
Subject: [Harbour] Building HBIDE and qtcore4 lib.
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC71A6@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC6FD1@PINK.zycie.pzu>
	<531d7a750912300424j1c6d3feeud43e85c087a023e8@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC70E7@PINK.zycie.pzu>
	<26968750.post@talk.nabble.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC712D@PINK.zycie.pzu>
	<609353e70912310121s3d50758ck22a18a17d1c763f6@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC715A@PINK.zycie.pzu>
	<609353e70912310254u338c7cf4y1f3e3e8f2e48e130@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC71A6@PINK.zycie.pzu>
Message-ID: <26979387.post@talk.nabble.com>


Hi


Horodyski Marek (PZUZ) wrote:
> 
> Error BASE/1068  Argument error: array access 
> Called from SETAPPEVENT(176)   
> Called from XBPDIALOG:GRABEVENT(549)   
> Called from (b)XBPDIALOG_CREATE(138)   
> Called from QT_QWIDGET_SHOW(0)   
> Called from QMAINWINDOW:SHOW(0)   
> Called from XBPDIALOG:SHOW(1266)   
> Called from XBPDIALOG:CREATE(161)   
> Called from HBIDE:BUILDDIALOG(1209)   
> Called from HBIDE:CREATE(277)   
> Called from MAIN(101)  
> 

Can you check after v13425 ?

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/Building-HBIDE-and-qtcore4-lib.-tp26965232p26979387.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Thu Dec 31 10:45:13 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec 31 10:45:25 2009
Subject: [Harbour] Euro symbol support with xxiso codepages
In-Reply-To: <9257026e0912302157t51d884fax81b98a4ea08f7348@mail.gmail.com>
References: <9257026e0912302157t51d884fax81b98a4ea08f7348@mail.gmail.com>
Message-ID: <20091231154513.GA23474@linux-4bod.home.aster.pl>

On Thu, 31 Dec 2009, Lorenzo Fiorini wrote:

Hi,

> I'm moving from ITISB to ITISO to support West European languages and
> I'm trying to get Euro symbol working on screen, in reports and in
> file exports. Euro symbol is seldom used but it is on the keyboards so
> users expect to get it.

Euro sign has unicode value: U+20AC

In Windows CP-125[02345678], IBM CP-874 and our modified ISO-8859-1B
it's at possition 128 so if you use one of the above CPs then:
   ? CHR( 128 )
should show euro sign.
In Windows CP-1251 (Cyrillic) it's at position 136 so you have to use:
   ? CHR( 136 )
In ISO-8859-7, ISO-8859-15 and ISO-8859-16 it's at position 164. i.e.:
   ? CHR( 164 )

U+20AC is not present in other Unicode tables so if you use other CP
then probably it will not work as you want though due to result of
repeated or ignored wrong translations in some configurations it will
be shown on the screen or read from keyboard correctly. Anyhow such
tricks are unimportant for us because they can stop to work at any
moment so cannot be used in production environment.

If you do not know exact euro sign encoding for given CP then you can
try to define it using Unicode value, i.e.:
   #define EURO_SIGN    HB_UTF8TOSTR( HB_UTF8ASC( 0x20AC ) )
   ? EURO_SIGN

> I've done few tests changing gtxwc encoding and cpitiso.c to 8859-15
> but without success.

Please leave gtxwc working with Unicode fonts (iso10646-1). Otherwise
it's possible that you mixed encoding so the results will be unpredictable
because they will depend on character lost conversions in 3-rd party code.
Even if you reach some expected effects then it's possible that it's
not replicable on other machine which uses only one slightly different
component and you will not know what is wrong and why. Change only encoding
in Harbour CP (i.e. change unicode table in cpitiso.c and set "ITISO" as
HVM and GT CP in your program.

> Using linux/gtxwc I can type it, it shows like a small square but if I
> export to a pdf ( using hbvpdf ) or to an rtf using rtf/ansi charset
> it is showed correctly.
> However if I import the dbf in an OpenOffice SpreadSheet using
> ISO8859-15 encoding it shows like a square and I'm still trying to get
> it out using HP PCL codes.
> Ideas?

Looks like a classic example of problems created by different encodings
and wrong translations. Finlay you created combination where repeated
wrong or ignored transformation give expected results. Without knowledge
what _exactly_ you have modified in Harbour what _exactly_ you set
as HVM and GT CPs in your programs and how it's configured your system
(used locale) I cannot give you precise answer what has happened.

best regards,
Przemek
From marcobra.ubuntu at gmail.com  Thu Dec 31 11:01:14 2009
From: marcobra.ubuntu at gmail.com (marco bra)
Date: Thu Dec 31 11:01:21 2009
Subject: [Harbour] Building HBIDE and qtcore4 lib.
In-Reply-To: <26979387.post@talk.nabble.com>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC6FD1@PINK.zycie.pzu>
	<531d7a750912300424j1c6d3feeud43e85c087a023e8@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC70E7@PINK.zycie.pzu>
	<26968750.post@talk.nabble.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC712D@PINK.zycie.pzu>
	<609353e70912310121s3d50758ck22a18a17d1c763f6@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC715A@PINK.zycie.pzu>
	<609353e70912310254u338c7cf4y1f3e3e8f2e48e130@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502BC71A6@PINK.zycie.pzu>
	<26979387.post@talk.nabble.com>
Message-ID: <fd76479f0912310801x10a02aa2s62440735293acc6f@mail.gmail.com>

With svn v13425

Run fine in Ubuntu 9.10 32 bits now no more startup dialog error...

Thank you
From vouchcac at users.sourceforge.net  Thu Dec 31 11:21:16 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Dec 31 11:21:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13426] trunk/harbour
Message-ID: <E1NQNm0-0004MU-0v@74yxhf1.ch3.sourceforge.com>

Revision: 13426
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13426&view=rev
Author:   vouchcac
Date:     2009-12-31 16:21:14 +0000 (Thu, 31 Dec 2009)

Log Message:
-----------
2009-12-31 08:19 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + contrib/hbide/resources/themes.ui
    + Added skeleton .ui file for editor themes management.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/themes.ui


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jparada_a at hotmail.com  Thu Dec 31 11:32:21 2009
From: jparada_a at hotmail.com (jparada)
Date: Thu Dec 31 11:32:28 2009
Subject: [Harbour] demoqt and demoxbp successfully, when trying to compile
	hbide, I get errors
Message-ID: <26979980.post@talk.nabble.com>


Hi, 
I have succeeded to compile and run demoqt also demoxbp on Windows, but when
I try to compile hbmk2 hbide.hbp or hbmk2 hbide.hbp -LC:\Qt\4.6.0\lib (when
hbmk2: Linking ... hbide.exe) I get errors like the following:

.hbmk\win\mingw\hbide.o(.data+0x458):hbide.c: undefined reference to
`HB_FUN_HBQ
T_ERRORSYS'
.hbmk\win\mingw\hbide.o(.data+0x1738):hbide.c: undefined reference to
`HB_FUN_HB
XBP_SETCODEC'
.hbmk\win\mingw\ideeditor.o(.data+0x3c8):ideeditor.c: undefined reference to
`HB
_FUN_HBQSYNTAXHIGHLIGHTER'
.hbmk\win\mingw\idesaveload.o(.data+0x118):idesaveload.c: undefined
reference to
 `HB_FUN_QSETTINGS'
C:/Qt/4.6.0/lib/libQtUiTools.a(quiloader.o)(.text+0x3c3):quiloader.cpp:
undefine
d reference to `_Unwind_Resume'
C:/Qt/4.6.0/lib/libQtUiTools.a(quiloader.o)(.text+0xb5c):quiloader.cpp:
undefine
d reference to `_Unwind_Resume'
C:/Qt/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o)(.text+0x1b0):abstractformb
uilder.cpp: undefined reference to `_Unwind_Resume'
C:/Qt/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o)(.text$_ZN5QListI5QPairIP15
QTreeWidgetItemPN13QFormInternal7DomItemEEE13detach_helperEv[QList<QPair<QTreeWi
dgetItem*, QFormInternal::DomItem*>
>::detach_helper()]+0xf5):abstractformbuilde
r.cpp: undefined reference to `_Unwind_Resume'
C:/Qt/4.6.0/lib/libQtUiTools.a(abstractformbuilder.o)(.text$_ZN5QListI5QPairIP15
QTreeWidgetItemPN13QFormInternal7DomItemEEE6appendERKS6_[QList<QPair<QTreeWidget
Item*, QFormInternal::DomItem*> >::append(QPair<QTreeWidgetItem*,
QFormInternal:
:DomItem*> const&)]+0x68):abstractformbuilder.cpp: undefined reference to
`_Unwi
nd_Resume'
C:/Qt/4.6.0/lib/libQtUiTools.a(ui4.o)(.text+0x4a0d):ui4.cpp: undefined
reference
 to `_Unwind_Resume'
C:/Qt/4.6.0/lib/libQtUiTools.a(properties.o)(.text+0x140b):properties.cpp:
more
undefined references to `_Unwind_Resume' follow
C:/Qt/4.6.0/lib/libQtUiTools.a(properties.o)(.eh_frame+0x12):properties.cpp:
und
efined reference to `__gxx_personality_v0'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc.exe .hbmk\win\mingw\hbide.o .hbmk\win\mingw\idestylesheets.o
.hbmk\win\mingw
\idetags.o .hbmk\win\mingw\idemisc.o .hbmk\win\mingw\ideactions.o
.hbmk\win\ming
w\ideeditor.o .hbmk\win\mingw\idefindreplace.o .hbmk\win\mingw\idedocks.o
.hbmk\
win\mingw\idesaveload.o .hbmk\win\mingw\iderequests.o
.hbmk\win\mingw\ideparseex
pr.o .hbmk\win\mingw\_hbmkaut.o    -mwindows -Wl,--start-group -lhbxbp
-lhbqt -l
hbqtcore -lhbqtgui -lhbqtnetwork -lversion -lshlwapi -lQtCore4 -lQtGui4
-lQtNetw
ork4 -lQtUiTools -lpsapi -lsupc++ -lhbextern -lhbdebug -lhbvm -lhbrtl
-lhblang -
lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd -lhbuddall
-lhb
usrrdd -lrddntx -lrddcdx -lrddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix -lhbmacro
-lh
bcplr -lhbpp -lhbcommon -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32
-lwinspo
ol -lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32 -loleaut32 -lmpr -lwinmm
-lmap
i32 -limm32 -lmsimg32 -lwininet -lhbpcre -lhbzlib  -Wl,--end-group
-ohbide.exe -
LC:/harbour/lib/win/mingw -LC:/Qt/4.6.0/lib

I have configured the following environment:

HB_DIR_QT=C:\Qt\4.6.0
HB_QT_STATIC=yes
HB_WITH_QT=C:\Qt\4.6.0\include
PATH=C:\harbour\bin;C:\mingw\bin;C:\Qt\4.6.0\bin

Please any advice what I'm doing wrong.

Thanks

Best regards
Javier Parada
-- 
View this message in context: http://old.nabble.com/demoqt-and-demoxbp-successfully%2C-when-trying-to-compile-hbide%2C-I-get-errors-tp26979980p26979980.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Thu Dec 31 11:33:22 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 31 11:33:50 2009
Subject: [Harbour] Re: Public Invitation to see how much is powerful hbide
In-Reply-To: <609353e70912310454x2b845ee4nb58595cb78ee3236@mail.gmail.com>
References: <609353e70912310454x2b845ee4nb58595cb78ee3236@mail.gmail.com>
Message-ID: <609353e70912310833g2732a275hc364628208cb9119@mail.gmail.com>

Harbour is so exciting that even during last day of year grows.
Thanks to everybody

2009/12/31 Massimo Belgrano <mbelgrano@deltain.it>:
> Dear Harbour group


-- 
Massimo Belgrano
From mbelgrano at deltain.it  Thu Dec 31 11:38:22 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 31 11:38:50 2009
Subject: [Harbour] demoqt and demoxbp successfully, when trying to compile 
	hbide, I get errors
In-Reply-To: <26979980.post@talk.nabble.com>
References: <26979980.post@talk.nabble.com>
Message-ID: <609353e70912310838w101007asa5b796d330c040fb@mail.gmail.com>

Harbour support version 4.5[.3] of qt
http://get.qt.nokia.com/qt/source/qt-win-opensource-4.5.3-mingw.exe

I suggest you read install doc in harbour root



2009/12/31 jparada <jparada_a@hotmail.com>:
>
> Hi,
> I have succeeded to compile and run demoqt also demoxbp on Windows, but when
> I try to compile hbmk2 hbide.hbp or hbmk2 hbide.hbp -LC:\Qt\4.6.0\lib (when
> hbmk2: Linking ... hbide.exe) I get errors like the following:
>

-- 
Massimo Belgrano
From fperillo at gmail.com  Thu Dec 31 11:40:51 2009
From: fperillo at gmail.com (francesco perillo)
Date: Thu Dec 31 11:41:01 2009
Subject: [Harbour] Wich way for easy switch to hbxhb?
In-Reply-To: <609353e70912310500u7d0b9a24t50af20339e1fea9b@mail.gmail.com>
References: <609353e70912310500u7d0b9a24t50af20339e1fea9b@mail.gmail.com>
Message-ID: <6943770e0912310840t2bc5147dq54ff87bfb15c70d7@mail.gmail.com>

Massimo, mi spieghi cosa ? hbxbp ?

Massimo, can you explain to me what's hbxbp ?

Francesco
From info at fsgiudice.com  Thu Dec 31 11:51:51 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Dec 31 11:52:06 2009
Subject: [Harbour] Happy New Year
Message-ID: <4B3CD6A7.9000103@fsgiudice.com>

After two months of difficulties due to serious problems of health of my 
mother, that now seems finally to be on the road of the recovery, I took 
again to read the mailing list and I saw the release of version 2.0.
For this I want to thanks and give compliments to Viktor, to Przemek and 
to all of the team of developers.
In the meanwhile I wish to tell you all: Happy New Year!
That I hope will be better than 2009.

Best Regards,
Francesco
From jparada_a at hotmail.com  Thu Dec 31 11:52:14 2009
From: jparada_a at hotmail.com (jparada)
Date: Thu Dec 31 11:52:22 2009
Subject: [Harbour] demoqt and demoxbp successfully, when trying to
	compile  hbide, I get errors
In-Reply-To: <609353e70912310838w101007asa5b796d330c040fb@mail.gmail.com>
References: <26979980.post@talk.nabble.com>
	<609353e70912310838w101007asa5b796d330c040fb@mail.gmail.com>
Message-ID: <26980184.post@talk.nabble.com>



Massimo Belgrano-3 wrote:
> 
> Harbour support version 4.5[.3] of qt
> http://get.qt.nokia.com/qt/source/qt-win-opensource-4.5.3-mingw.exe
> 
> I suggest you read install doc in harbour root
> 
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

Many Thanks Massimo, to answer, really did not know and had not read which
version of QT supported by harbour.

I made a mistake, now let me download the indicated version of QT, and doing
my tests again.

Sorry again for my mistake.

Thanks

Best regards
Javier Parada



-- 
View this message in context: http://old.nabble.com/demoqt-and-demoxbp-successfully%2C-when-trying-to-compile-hbide%2C-I-get-errors-tp26979980p26980184.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Dec 31 12:17:51 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Dec 31 12:18:04 2009
Subject: [Harbour] What about evolve harbour name?
In-Reply-To: <609353e70912310620w3ba03b20s36e8a165aeb24648@mail.gmail.com>
References: <609353e70912310620w3ba03b20s36e8a165aeb24648@mail.gmail.com>
Message-ID: <5CC883FB-9EB1-4468-A970-8C04851CDA93@syenar.hu>

> What about evolve harbour name  HarbourPro
> pro Is for a "pro"fessiona product
> pro remember  Fox"Pro"
> pro is for harbour "pro"ject
> IF Xharbour is eXtended harbour harbour must evolve in HarbourPro
> is  free Domain name and good for  search
> Harbour is evolved and may be right refleft this evolution in name?

Adding 'pro' suggest that Harbour was once "non-pro" ;)

I personally don't like any "Ultimate", "Pro", "Easy", 
"EZ-", "* Edition", "SE". These are usually present 
in over-marketinged and under-designed/developed packages.

There is only one "problem" with the Harbour name IMO, 
it's nearly impossible to google for it.

Brgds,
Viktor

From mbelgrano at deltain.it  Thu Dec 31 12:22:50 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 31 12:23:17 2009
Subject: [Harbour] Wich way for easy switch to hbxhb?
In-Reply-To: <6943770e0912310840t2bc5147dq54ff87bfb15c70d7@mail.gmail.com>
References: <609353e70912310500u7d0b9a24t50af20339e1fea9b@mail.gmail.com> 
	<6943770e0912310840t2bc5147dq54ff87bfb15c70d7@mail.gmail.com>
Message-ID: <609353e70912310922i52151f23m8032fe114376e715@mail.gmail.com>

Is a Multi-platform GUI Framework based on Qt for open-source compiler
project "Harbour" and compatible with Xbase++ Class Framework
original made by  www.alaska-software.com/
XbasePARTS provide the GUI controls used to develop state-of-the-art
GUI applications without any need to deal with the complexities of the
underlying operating system

You can see an example at c:\harbour\contrib\hbxbp\tests\demoxbp.prg
also hbide is based on this class

But you can find intresting information also search the basic xbp element
XbpDialogXbpMenuBar,XbpCheckbox, XbpRadioButton(),XbpPushButton()
XbpBrowse()
Is a complete  class that allow create true gui application


sono delle classi flessibili per costruire potenti applicazioni
grafiche (stesso motore di google earth)
implementate in modo molto affidabile grazie agli sforzi di Pritpal e
alla solida struttura di harbour

se non lo hai gia fatto vieni su http://groups.google.com/group/harbourITA


2009/12/31 francesco perillo <fperillo@gmail.com>:
> Massimo, mi spieghi cosa ? hbxbp ?
>
> Massimo, can you explain to me what's hbxbp ?
>
> Francesco
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From bedipritpal at hotmail.com  Thu Dec 31 12:25:41 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 31 12:25:49 2009
Subject: [Harbour] demoqt and demoxbp successfully, when trying to
	compile hbide, I get errors
In-Reply-To: <26979980.post@talk.nabble.com>
References: <26979980.post@talk.nabble.com>
Message-ID: <26980493.post@talk.nabble.com>


Hi


jparada wrote:
> 
> I have succeeded to compile and run demoqt also demoxbp on Windows, but
> when I try to compile hbmk2 hbide.hbp or hbmk2 hbide.hbp -LC:\Qt\4.6.0\lib
> (when hbmk2: Linking ... hbide.exe) I get errors like the following:
> 
> .hbmk\win\mingw\hbide.o(.data+0x458):hbide.c: undefined reference to
> `HB_FUN_HBQ
> T_ERRORSYS'
> .hbmk\win\mingw\hbide.o(.data+0x1738):hbide.c: undefined reference to
> `HB_FUN_HB
> XBP_SETCODEC'
> .hbmk\win\mingw\ideeditor.o(.data+0x3c8):ideeditor.c: undefined reference
> to `HB
> _FUN_HBQSYNTAXHIGHLIGHTER'
> .hbmk\win\mingw\idesaveload.o(.data+0x118):idesaveload.c: undefined
> reference to
>  `HB_FUN_QSETTINGS'
> C:/Qt/4.6.0/lib/libQtUiTools.a(quiloader.o)(.text+0x3c3):quiloader.cpp:
> undefine
> d reference to `_Unwind_Resume'
> C:/Qt/4.6.0/lib/libQtUiTools.a(quiloader.o)(.text+0xb5c):quiloader.cpp:
> undefine
> 

1) Your hbqt.lib and hbxbp.lib is older than hbide sources.
2) Use INSTALL defined MINGW package, discard all other MINGW installations
on your machine.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/demoqt-and-demoxbp-successfully%2C-when-trying-to-compile-hbide%2C-I-get-errors-tp26979980p26980493.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Thu Dec 31 12:34:58 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 31 12:35:26 2009
Subject: [Harbour] demoqt and demoxbp successfully, when trying to compile 
	hbide, I get errors
In-Reply-To: <26980184.post@talk.nabble.com>
References: <26979980.post@talk.nabble.com>
	<609353e70912310838w101007asa5b796d330c040fb@mail.gmail.com> 
	<26980184.post@talk.nabble.com>
Message-ID: <609353e70912310934ue5cb7fdtb4ec8f6229087857@mail.gmail.com>

Nothing to Sorry the Error is natural if you working


2009/12/31 jparada <jparada_a@hotmail.com>:
>
>
> Many Thanks Massimo, to answer, really did not know and had not read which
> version of QT supported by harbour.
>
> I made a mistake, now let me download the indicated version of QT, and doing
> my tests again.
>
> Sorry again for my mistake.
>


-- 
Massimo Belgrano
From mbelgrano at deltain.it  Thu Dec 31 12:37:42 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 31 12:38:09 2009
Subject: [Harbour] Happy New Year
In-Reply-To: <4B3CD6A7.9000103@fsgiudice.com>
References: <4B3CD6A7.9000103@fsgiudice.com>
Message-ID: <609353e70912310937g6b2b0f7bqbaf8b8ece60537e7@mail.gmail.com>

Happy 2010 to you
Un  2010 migliore del 2009 a tutti

2009/12/31 Francesco Saverio Giudice <info@fsgiudice.com>:
> After two months of difficulties due to serious problems of health of my
> mother, that now seems finally to be on the road of the recovery, I took
> again to read the mailing list and I saw the release of version 2.0.
> For this I want to thanks and give compliments to Viktor, to Przemek and to
> all of the team of developers.
> In the meanwhile I wish to tell you all: Happy New Year!
> That I hope will be better than 2009.
>
> Best Regards,
> Francesco
>


-- 
Massimo Belgrano
From maurilio.longo at libero.it  Thu Dec 31 12:38:44 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Dec 31 12:38:56 2009
Subject: [Harbour] Happy New Year
In-Reply-To: <4B3CD6A7.9000103@fsgiudice.com>
References: <4B3CD6A7.9000103@fsgiudice.com>
Message-ID: <4B3CE1A4.8060109@libero.it>

Happy New Year to all and my best wishes for a quick recovery of your mother.

Maurilio.


Francesco Saverio Giudice wrote:
> After two months of difficulties due to serious problems of health of my
> mother, that now seems finally to be on the road of the recovery, I took
> again to read the mailing list and I saw the release of version 2.0.
> For this I want to thanks and give compliments to Viktor, to Przemek and
> to all of the team of developers.
> In the meanwhile I wish to tell you all: Happy New Year!
> That I hope will be better than 2009.
> 
> Best Regards,
> Francesco
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From bedipritpal at hotmail.com  Thu Dec 31 12:47:17 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 31 12:47:23 2009
Subject: [Harbour] Happy New Year
In-Reply-To: <4B3CD6A7.9000103@fsgiudice.com>
References: <4B3CD6A7.9000103@fsgiudice.com>
Message-ID: <26980713.post@talk.nabble.com>


Hello Francesco


Francesco Saverio Giudice wrote:
> 
> After two months of difficulties due to serious problems of health of my 
> mother, that now seems finally to be on the road of the recovery, I took 
> again to read the mailing list and I saw the release of version 2.0.
> For this I want to thanks and give compliments to Viktor, to Przemek and 
> to all of the team of developers.
> In the meanwhile I wish to tell you all: Happy New Year!
> That I hope will be better than 2009.
> 

I was wondering all those days where you disappeared.
Now I know the cause and wish that 2010 brings all the happiness
in your family.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/Happy-New-Year-tp26980189p26980713.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Thu Dec 31 12:46:59 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 31 12:47:35 2009
Subject: [Harbour] What about evolve harbour name?
In-Reply-To: <5CC883FB-9EB1-4468-A970-8C04851CDA93@syenar.hu>
References: <609353e70912310620w3ba03b20s36e8a165aeb24648@mail.gmail.com> 
	<5CC883FB-9EB1-4468-A970-8C04851CDA93@syenar.hu>
Message-ID: <609353e70912310946g5735a44dw2f20edb6d76e775c@mail.gmail.com>

Yes agree
somebody have a suggestion?

*Harbour*
Traditional xbase token
*PRO,FOX,[X/D]BASE,CLIPPER*
Harbour is a language with integrated database
language have small name
[C,C#,C++,D,PHP,PERL,JAVA,)
*Visual ",++

Maj be Harbour++ a good proposal?

2009/12/31 Viktor Szak?ts <harbour.01@syenar.hu>:
>
> There is only one "problem" with the Harbour name IMO,
> it's nearly impossible to google for it.
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Thu Dec 31 12:48:34 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 31 12:48:44 2009
Subject: [Harbour] Happy New Year
In-Reply-To: <4B3CD6A7.9000103@fsgiudice.com>
References: <4B3CD6A7.9000103@fsgiudice.com>
Message-ID: <6A094329-3758-4D7B-BF7D-D988E0BB5199@syenar.hu>

Hi Francesco,

On 2009 Dec 31, at 17:51, Francesco Saverio Giudice wrote:

> After two months of difficulties due to serious problems of health of my mother, that now seems finally to be on the road of the recovery, I took again to read the mailing list and I saw the release of version 2.0.
> For this I want to thanks and give compliments to Viktor, to Przemek and to all of the team of developers.
> In the meanwhile I wish to tell you all: Happy New Year!
> That I hope will be better than 2009.

We've been missing you, all the best for your mom.

Happy New 2010 for you and All.

Brgds,
Viktor

From mbelgrano at deltain.it  Thu Dec 31 12:50:46 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 31 12:51:13 2009
Subject: [Harbour] Happy New Year
In-Reply-To: <4B3CE1A4.8060109@libero.it>
References: <4B3CD6A7.9000103@fsgiudice.com> <4B3CE1A4.8060109@libero.it>
Message-ID: <609353e70912310950j3ced045fpd2d0a74031467431@mail.gmail.com>

Lo dico in italiano per no sbagliare
Mille auguro per una pronta guarigione di tua mamma
anche dal gruppo harbour italia http://groups.google.com/group/harbourITA



2009/12/31 Maurilio Longo <maurilio.longo@libero.it>:
> Happy New Year to all and my best wishes for a quick recovery of your mother.
>
> Maurilio.
>
>
> Francesco Saverio Giudice wrote:
>> After two months of difficulties due to serious problems of health of my
>> mother, that now seems finally to be on the road of the recovery, I took
>> again to read the mailing list and I saw the release of version 2.0.
>> For this I want to thanks and give compliments to Viktor, to Przemek and
>> to all of the team of developers.
>> In the meanwhile I wish to tell you all: Happy New Year!
>> That I hope will be better than 2009.
>>
>> Best Regards,
>> Francesco
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> --
> ?__________
> | ?| ?| |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From cvc at oohg.org  Thu Dec 31 12:54:36 2009
From: cvc at oohg.org (Ciro Vargas C)
Date: Thu Dec 31 12:54:44 2009
Subject: [Harbour] Happy New year
Message-ID: <d6500b450912310954p31125712qcd7eb5bf346d1844@mail.gmail.com>

Happy New year to all harbour users and developers  !!!

Best regards
Ciro Vargas Clemow

-- 
http://www.oohg.prg
http://sistemascvc.tripod.com

donaciones para CVC de ooHG

https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
From vszakats at users.sourceforge.net  Thu Dec 31 13:08:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Dec 31 13:08:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13427] trunk/harbour
Message-ID: <E1NQPRd-0006OG-SK@dn4whf1.ch3.sourceforge.com>

Revision: 13427
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13427&view=rev
Author:   vszakats
Date:     2009-12-31 18:08:20 +0000 (Thu, 31 Dec 2009)

Log Message:
-----------
2009-12-31 19:07 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Added QT MinGW version requirement information.

  * contrib/rddads/ads1.c
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/rddads/ads1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Thu Dec 31 13:09:04 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Dec 31 13:09:12 2009
Subject: [Harbour] Euro symbol support with xxiso codepages
In-Reply-To: <20091231154513.GA23474@linux-4bod.home.aster.pl>
References: <9257026e0912302157t51d884fax81b98a4ea08f7348@mail.gmail.com>
	<20091231154513.GA23474@linux-4bod.home.aster.pl>
Message-ID: <9257026e0912311009w4d991b56i87545026725d3082@mail.gmail.com>

2009/12/31 Przemys?aw Czerpak <druzus@acn.waw.pl>:

> Euro sign has unicode value: U+20AC
> ...
> Without knowledge
> what _exactly_ you have modified in Harbour what _exactly_ you set
> as HVM and GT CPs in your programs and how it's configured your system
> (used locale) I cannot give you precise answer what has happened.

Many thanks for the answer.

Now I've reset all the changes and my tree is based on  * $Id:
ChangeLog 13372 2009-12-22 21:00:36Z vszakats $

I use the test below.

If I change cpitso.c with:

#define HB_CP_INFO      "Italian ISO-8859-15"
#define HB_CP_UNITB     HB_UNITB_8859_15

I see the Euro as a square in a get but I can get all the accented I need.
Using oocalc myiso.dbf I need to choose "Western Europe
(Windows-1252/WinLatin1)" to see the Euro symbol while If I choose
"Western Europe (ISO-8859-15/EURO) I see only squares

If I change cpitso.c with:

#define HB_CP_INFO      "Italian ISO-8859-1B"
#define HB_CP_UNITB     HB_UNITB_8859_1B

I see CORRECTLY the Euro symbol in the get but I lost many accented
chars while oocalc myiso.dbf is hte same as above.

So the best thing would be to have ISO-8859-15 with the Euro as in ISO-8859-1B.

To do the tests I'm changing the keyboard layout using the gnome
Keyboard Indicator.

best regards,
Lorenzo

// myiso.prg

REQUEST HB_CODEPAGE_ITISO
REQUEST HB_UTF8TOSTR

procedure main

local cString := space( 20 )

HB_SETCODEPAGE( "ITISO" )
HB_SETTERMCP( "ITISO", "ITISO", .f. )

clear

? chr( 128 )
? chr( 164 )

@ 10,10 get cString
read

? cString
wait

dbcreate( "myiso.dbf", { { "CSTRING", "C", 20, 0 } } )
use myiso.dbf exclusive
dbappend()
replace myiso->cstring with cString
use

return

// end of prg
From druzus at acn.waw.pl  Thu Dec 31 13:20:40 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec 31 13:20:48 2009
Subject: [Harbour] Happy New Year
In-Reply-To: <4B3CD6A7.9000103@fsgiudice.com>
References: <4B3CD6A7.9000103@fsgiudice.com>
Message-ID: <20091231182040.GA7119@linux-4bod.home.aster.pl>

Hi Francesco,

I wish all the best to you and your family and fast health
recovery to your mother.
Have a lot of nice days in 2010 :-)

best regards,
Przemek
From druzus at acn.waw.pl  Thu Dec 31 13:22:30 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Dec 31 13:22:38 2009
Subject: [Harbour] HAPPY NEW YEAR !!!
Message-ID: <20091231182230.GB7119@linux-4bod.home.aster.pl>

Hi All,

I want to wish all of you HAPPY NEW YEAR !!!

It's time to turn off the computer.
My next message will be in year 2010 :-)

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Dec 31 13:28:29 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Dec 31 13:28:40 2009
Subject: [Harbour] HAPPY NEW YEAR !!!
In-Reply-To: <20091231182230.GB7119@linux-4bod.home.aster.pl>
References: <20091231182230.GB7119@linux-4bod.home.aster.pl>
Message-ID: <38F156FB-FB9D-4024-BF6D-27C2EB814CD6@syenar.hu>

Happy New Year!

Brgds,
Viktor

On 2009 Dec 31, at 19:22, Przemys?aw Czerpak wrote:

> Hi All,
> 
> I want to wish all of you HAPPY NEW YEAR !!!
> 
> It's time to turn off the computer.
> My next message will be in year 2010 :-)
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Thu Dec 31 13:31:33 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 31 13:32:01 2009
Subject: [Harbour] HAPPY NEW YEAR !!!
In-Reply-To: <20091231182230.GB7119@linux-4bod.home.aster.pl>
References: <20091231182230.GB7119@linux-4bod.home.aster.pl>
Message-ID: <609353e70912311031xe364aaeqcb727edcd05e3531@mail.gmail.com>

Happy New Year!

2009/12/31 Przemys?aw Czerpak <druzus@acn.waw.pl>:
> Hi All,
>
> I want to wish all of you HAPPY NEW YEAR !!!
>
> It's time to turn off the computer.
> My next message will be in year 2010 :-)
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From bedipritpal at hotmail.com  Thu Dec 31 13:32:58 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 31 13:33:04 2009
Subject: [Harbour] HAPPY NEW YEAR !!!
In-Reply-To: <20091231182230.GB7119@linux-4bod.home.aster.pl>
References: <20091231182230.GB7119@linux-4bod.home.aster.pl>
Message-ID: <26981182.post@talk.nabble.com>


Hi


Przemys?aw Czerpak wrote:
> 
> I want to wish all of you HAPPY NEW YEAR !!!
> 
> It's time to turn off the computer.
> My next message will be in year 2010 :-)
> 

Thank you and wish the same for you.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/HAPPY-NEW-YEAR-%21%21%21-tp26981078p26981182.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Dec 31 13:35:53 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 31 13:36:01 2009
Subject: [Harbour] Happy New year
In-Reply-To: <d6500b450912310954p31125712qcd7eb5bf346d1844@mail.gmail.com>
References: <d6500b450912310954p31125712qcd7eb5bf346d1844@mail.gmail.com>
Message-ID: <26981209.post@talk.nabble.com>


Hi


Ciro Vargas Clemow wrote:
> 
> Happy New year to all harbour users and developers  !!!
> 

Wish you the same for you too.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/Happy-New-year-tp26980813p26981209.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From fernando_athayde at yahoo.com.br  Thu Dec 31 13:37:33 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Thu Dec 31 13:37:40 2009
Subject: Res: [Harbour] HAPPY NEW YEAR !!!
In-Reply-To: <20091231182230.GB7119@linux-4bod.home.aster.pl>
References: <20091231182230.GB7119@linux-4bod.home.aster.pl>
Message-ID: <452394.39167.qm@web52207.mail.re2.yahoo.com>

happy new year,
thanks everybody that help maintaining this tool so strong
you guys are the best

Best Regards,
Fernando Athayde




________________________________
De: Przemys?aw Czerpak <druzus@acn.waw.pl>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Quinta-feira, 31 de Dezembro de 2009 15:22:30
Assunto: [Harbour] HAPPY NEW YEAR !!!

Hi All,

I want to wish all of you HAPPY NEW YEAR !!!

It's time to turn off the computer.
My next message will be in year 2010 :-)

best regards,
Przemek
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091231/0860aa32/attachment.html
From Istvan.Bisz at t-online.hu  Thu Dec 31 13:52:03 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Thu Dec 31 13:52:12 2009
Subject: [Harbour] HAPPY NEW YEAR !!!
In-Reply-To: <20091231182230.GB7119@linux-4bod.home.aster.pl>
References: <20091231182230.GB7119@linux-4bod.home.aster.pl>
Message-ID: <000601ca8a4a$588b5620$09a20260$@Bisz@t-online.hu>

HAPPY NEW YEAR !

Best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Przemyslaw Czerpak
Sent: 2009. december 31. 19:23
To: Harbour Project Main Developer List.
Subject: [Harbour] HAPPY NEW YEAR !!!

Hi All,

I want to wish all of you HAPPY NEW YEAR !!!

It's time to turn off the computer.
My next message will be in year 2010 :-)

best regards,
Przemek
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From jarabal at gmail.com  Thu Dec 31 14:21:03 2009
From: jarabal at gmail.com (Xavi)
Date: Thu Dec 31 14:22:26 2009
Subject: [Harbour] HAPPY NEW YEAR !!!
In-Reply-To: <20091231182230.GB7119@linux-4bod.home.aster.pl>
References: <20091231182230.GB7119@linux-4bod.home.aster.pl>
Message-ID: <4B3CF99F.7030604@gmail.com>

Yep! HAPPY NEW YEAR to all. And hopefully fun!!! :)

-- 
Xavi
From amigosam at adinet.com.uy  Thu Dec 31 15:06:28 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Thu Dec 31 15:06:59 2009
Subject: [Harbour] Re: HAPPY NEW YEAR !!!
In-Reply-To: <20091231182230.GB7119@linux-4bod.home.aster.pl>
References: <20091231182230.GB7119@linux-4bod.home.aster.pl>
Message-ID: <hhj080$fhd$1@ger.gmane.org>

Happy, healthy and productive new year to you all !!!

Angel

From lorenzo.fiorini at gmail.com  Thu Dec 31 16:13:34 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Dec 31 16:13:41 2009
Subject: [Harbour] HAPPY NEW YEAR !!!
In-Reply-To: <20091231182230.GB7119@linux-4bod.home.aster.pl>
References: <20091231182230.GB7119@linux-4bod.home.aster.pl>
Message-ID: <9257026e0912311313w1c8fcfb6q51afd41c2ff686@mail.gmail.com>

2009/12/31 Przemys?aw Czerpak <druzus@acn.waw.pl>:

> I want to wish all of you HAPPY NEW YEAR !!!

An happy 2010 to everybody.

best regards,
Lorenzo
From hbco2 at sbcglobal.net  Thu Dec 31 16:36:18 2009
From: hbco2 at sbcglobal.net (Bill Smith)
Date: Thu Dec 31 16:36:26 2009
Subject: [Harbour] HAPPY NEW YEAR !!!
References: <20091231182230.GB7119@linux-4bod.home.aster.pl>
Message-ID: <004601ca8a61$49bd8b60$0303a8c0@hbco>

May the Goodwill and Practice so exemplified on this list be part of all of
what you do this coming year!

Happy New Year!

Bill

----- Original Message ----- 
From: Przemys?aw Czerpak
To: Harbour Project Main Developer List.
Sent: Thursday, December 31, 2009 10:22 AM
Subject: [Harbour] HAPPY NEW YEAR !!!


Hi All,

I want to wish all of you HAPPY NEW YEAR !!!

It's time to turn off the computer.
My next message will be in year 2010 :-)

best regards,
Przemek
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From bruno.luciani at gmail.com  Thu Dec 31 17:29:41 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Dec 31 17:29:50 2009
Subject: [Harbour] HBIDE dont start , see image
In-Reply-To: <fd76479f0912310640g6fdc6c67re5ccefd58bf439cf@mail.gmail.com>
References: <133778360912291852n195b73dkbefffe91632554a9@mail.gmail.com>
	<26963703.post@talk.nabble.com>
	<133778360912300922i2947a2adud42f4fb2ca522a85@mail.gmail.com>
	<fd76479f0912310640g6fdc6c67re5ccefd58bf439cf@mail.gmail.com>
Message-ID: <133778360912311429n74a5ed59g28c9e90fc0e69710@mail.gmail.com>

thanks Marco

Bruno

2009/12/31 marco bra <marcobra.ubuntu@gmail.com>

> On Ubuntu i have done this:
>
> cd $HOME/src/harbour/contrib/hbxbp
> export HB_LIB_INSTALL=/usr/lib
> export HB_INC_INSTALL=/usr/include
> export HB_USER_PRGFLAGS=-l-
>
> make clean; make
> sudo -E make install
>
> Then going into the hbide dir
>
> cd $HOME/src/harbour/contrib/hbxbp
> hbmk2 hbide.hbp -clean
> hbmk2 hbide.hbp
>
> ./hbide
>
> i still get startup error with any additional informative row:
>
> Error BASE/1068  Argument error: array access
>
> Called from SETAPPEVENT(0)
>
> Called from XBPDIALOG:GRABEVENT(0)
>
> Called from (b)XBPDIALOG_CREATE(0)
>
> Called from QT_QWIDGET_SHOW(0)
>
> Called from QMAINWINDOW:SHOW(0)
>
> Called from XBPDIALOG:SHOW(0)
>
> Called from XBPDIALOG:CREATE(0)
>
> Called from HBIDE:BUILDDIALOG(1088)
>
> Called from HBIDE:CREATE(273)
>
> Called from MAIN(101)
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091231/c5b819d3/attachment.html
From vouchcac at users.sourceforge.net  Thu Dec 31 21:33:47 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Dec 31 21:33:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13428] trunk/harbour
Message-ID: <E1NQXKl-0006AG-QS@d5vjzd1.ch3.sourceforge.com>

Revision: 13428
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13428&view=rev
Author:   vouchcac
Date:     2010-01-01 02:33:46 +0000 (Fri, 01 Jan 2010)

Log Message:
-----------
2009-12-31 18:32 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.ch
  * contrib/hbide/hbide.hbp
  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
  * contrib/hbide/idemisc.prg
  * contrib/hbide/idesaveload.prg
  + contrib/hbide/idethemes.prg
  * contrib/hbide/resources/themes.ui
    + Added class to save/load themes, a work-in-progress.
      You can just play with user interface. More to come soon.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.ch
    trunk/harbour/contrib/hbide/hbide.hbp
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbide/idesaveload.prg
    trunk/harbour/contrib/hbide/resources/themes.ui

Added Paths:
-----------
    trunk/harbour/contrib/hbide/idethemes.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.

From bedipritpal at hotmail.com  Fri Aug  1 01:58:39 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Aug  1 01:58:44 2008
Subject: [Harbour] Ocassional SET ORDER TO failure in RDDADS - xHarbour
Message-ID: <18768654.post@talk.nabble.com>


Hello Przemek

This is an xHarbour compiled ( as of Jun 2007 CVS ) application, a very
large one.
               
RDD = > RDDADS

Here is a code snippet:

select verify
set order to 2
seek substr(cCustId,2)  // Generates RT Error and stats are

alias() == verify
recno() == 200120 or like
IndexOrd() == 0
GenCode == 36
Description == Workarea not indexed.

This error comes ocassionaly and not all the time.
Table under the error may be different, above is only one instance.

I need to know under what circumstances this error can happen.
For sure  "SET ORDER TO 2"  statement is failing somehow on Advantage.
It is really difficult to understand where I put additional traps as
the error has no particular place in this very large application.

Thanks in advance.

Regards
Pritpal Bedi, INDIA-USA


-- 
View this message in context: http://www.nabble.com/Ocassional-SET-ORDER-TO-failure-in-RDDADS---xHarbour-tp18768654p18768654.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Aug  1 03:14:34 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  1 03:14:44 2008
Subject: [Harbour] 2008-08-01 03:06 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200808010106.m7116oc6022937@31-mo5-4.acn.waw.pl>
References: <200808010106.m7116oc6022937@31-mo5-4.acn.waw.pl>
Message-ID: <8546E5E4-8226-44E5-880B-BC799B6C1B52@syenar.hu>

Hi Przemek,

Isn't an update missing for harbour.yy* files?

Brgds,
Viktor

On 2008.08.01., at 3:06, Przemyslaw Czerpak wrote:

> 2008-08-01 03:06 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbpp.h
>  * harbour/include/hbexprb.c
>  * harbour/source/pp/ppcore.c
>  * harbour/source/vm/evalhb.c
>  * harbour/source/vm/runner.c
>  * harbour/source/vm/hvm.c
>  * harbour/source/vm/fm.c
>  * harbour/source/vm/eval.c
>  * harbour/source/vm/dynlibhb.c
>  * harbour/source/vm/classes.c
>  * harbour/source/rdd/hbsix/sxord.c
>  * harbour/source/compiler/hbmain.c
>  * harbour/source/compiler/harbour.y
>    * pacified warnings
>
> best regards
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Fri Aug  1 04:46:26 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Aug  1 04:46:31 2008
Subject: [Harbour] All __PLATFORM__* uppercase?
Message-ID: <9257026e0808010146k4068bc5lcbd015826b8b3b10@mail.gmail.com>

I've just found that by mistake, I've replace __PLATFORM__Linux with
__PLATFORM__Unix.

What about having all the __PLATFORM_* upper case before 1.0 release?

best regards,
Lorenzo
From druzus at acn.waw.pl  Fri Aug  1 04:50:02 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug  1 04:50:08 2008
Subject: [SPAM] [Harbour] Ocassional SET ORDER TO failure in RDDADS -
	xHarbour
In-Reply-To: <18768654.post@talk.nabble.com>
References: <18768654.post@talk.nabble.com>
Message-ID: <20080801085002.GA26689@34-mo7-2.acn.waw.pl>

On Thu, 31 Jul 2008, Pritpal Bedi wrote:

Hi Pritpal,

> This is an xHarbour compiled ( as of Jun 2007 CVS ) application, a very
> large one.
> RDD = > RDDADS
> Here is a code snippet:
> select verify
> set order to 2
> seek substr(cCustId,2)  // Generates RT Error and stats are
> alias() == verify
> recno() == 200120 or like
> IndexOrd() == 0
> GenCode == 36
> Description == Workarea not indexed.
> 
> This error comes ocassionaly and not all the time.
> Table under the error may be different, above is only one instance.
> I need to know under what circumstances this error can happen.

But what's the error?

> For sure  "SET ORDER TO 2"  statement is failing somehow on Advantage.

We do not manage indexes in ADS RDD. All calls are directly redirected
to ACE. If it refuses to set the order then probably index is not open
for some reasons.

> It is really difficult to understand where I put additional traps as
> the error has no particular place in this very large application.

Inside error handler please check workarea, current index, number
of indexes and tags inside. Maybe you will find the reason.
ADS RDD in [x]Harbour is only very simple wrapper to ACE library
the above is basic functionality and I do not believe that it's
a bug in order selection - it's basic functionality. Rather some
differences in autoopen and/or production indexes handling which
are later exploited by your code.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Aug  1 04:57:30 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  1 04:57:39 2008
Subject: [Harbour] All __PLATFORM__* uppercase?
In-Reply-To: <9257026e0808010146k4068bc5lcbd015826b8b3b10@mail.gmail.com>
References: <9257026e0808010146k4068bc5lcbd015826b8b3b10@mail.gmail.com>
Message-ID: <EB4AA9D9-0365-4725-BB86-C53C3EE0E344@syenar.hu>

Hi,

If we're at __PLATFORM_* #defines, I'd rather opt
to make everything uniformly uppercase, as this is
the common rule used for every other #define's
in Harbour and Clipper.

We may add mixed-case xhb compatibility #defines
via hbcompat.ch.

Brgds,
Viktor

On 2008.08.01., at 10:46, Lorenzo Fiorini wrote:

> I've just found that by mistake, I've replace __PLATFORM__Linux with
> __PLATFORM__Unix.
>
> What about having all the __PLATFORM_* upper case before 1.0 release?
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Fri Aug  1 05:01:15 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug  1 05:01:22 2008
Subject: [Harbour] BCC 5.8 two remaining warnings
In-Reply-To: <0A1D0F9F-8BD8-444E-8A64-76C0C4510234@syenar.hu>
References: <0A1D0F9F-8BD8-444E-8A64-76C0C4510234@syenar.hu>
Message-ID: <20080801090115.GB26689@34-mo7-2.acn.waw.pl>

On Fri, 01 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> By cleaning the many warnings, two new ones got revealed:
> Warning W8056 source\rdd\dbf1.c 2379: Integer arithmetic overflow in  
> function hb_dbfPutValue
> Warning W8056 source\rdd\dbf1.c 2398: Integer arithmetic overflow in  
> function hb_dbfPutValue
> Both lines use the HB_DBL_LIM_64() macro.

Probably yet another problem with stdint.h in BCC5.8
But without this compiler I can only guess what's wrong
this time: try to add yet another hack like for INT32_MIN
but this time for INT64_MIN:

   #undef INT64_MIN
   #define INT64_MIN ((int64_t) (-INT64_MAX-1))

If it helps then please commit, if doesn't then please try
to make some experiments with this code to detect exact
reason of warning message.

   #define X_MAX ((__int64) 9223372036854775807)
   #define X_MIN ((__int64) -9223372036854775808)
   BOOL f( double d )
   {
      return ( (long double) X_MIN <= (long double) (d) &&
               (long double) (d) <= (long double) X_MAX );
   }

best regards,
Przemek
From druzus at acn.waw.pl  Fri Aug  1 05:02:27 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug  1 05:02:33 2008
Subject: [Harbour] 2008-08-01 11:01 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808010902.m7192RtK026872@31-mo5-4.acn.waw.pl>

2008-08-01 11:01 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/compiler/harbour.yyc
    * updated for recent harbour.y modifications - thanks to Viktor
      for remainder

best regards
Przemek
From druzus at acn.waw.pl  Fri Aug  1 05:07:35 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug  1 05:07:41 2008
Subject: [Harbour] All __PLATFORM__* uppercase?
In-Reply-To: <EB4AA9D9-0365-4725-BB86-C53C3EE0E344@syenar.hu>
References: <9257026e0808010146k4068bc5lcbd015826b8b3b10@mail.gmail.com>
	<EB4AA9D9-0365-4725-BB86-C53C3EE0E344@syenar.hu>
Message-ID: <20080801090735.GC26689@34-mo7-2.acn.waw.pl>

On Fri, 01 Aug 2008, Szak?ts Viktor wrote:
> >I've just found that by mistake, I've replace __PLATFORM__Linux with
> >__PLATFORM__Unix.
> >What about having all the __PLATFORM_* upper case before 1.0 release?
> If we're at __PLATFORM_* #defines, I'd rather opt
> to make everything uniformly uppercase, as this is
> the common rule used for every other #define's
> in Harbour and Clipper.

I agree, it should be converted to upper case long time ago and
better make it now before 1.0 then later. From the beginning people
have problems with __PLATFORM_* definitions due to mixed upper and
lower letters.

> We may add mixed-case xhb compatibility #defines
> via hbcompat.ch.

Fine.

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Fri Aug  1 05:10:41 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Aug  1 05:10:45 2008
Subject: [Harbour] All __PLATFORM__* uppercase?
In-Reply-To: <EB4AA9D9-0365-4725-BB86-C53C3EE0E344@syenar.hu>
References: <9257026e0808010146k4068bc5lcbd015826b8b3b10@mail.gmail.com>
	<EB4AA9D9-0365-4725-BB86-C53C3EE0E344@syenar.hu>
Message-ID: <9257026e0808010210s38ffed66t8ff9aa9a4423d9c1@mail.gmail.com>

On Fri, Aug 1, 2008 at 10:57 AM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> If we're at __PLATFORM_* #defines, I'd rather opt
> to make everything uniformly uppercase, as this is
> the common rule used for every other #define's
> in Harbour and Clipper.

Yes, I was referring to the __PLATFORM__* defines.

If I'm correct now we have mixed:

__PLATFORM__Linux
__PLATFORM__Windows

all the rest are UPPERCASE.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Fri Aug  1 09:06:06 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  1 09:06:01 2008
Subject: [Harbour] 2008-08-01 14:44 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f3d7$Blat.v2.6.2$5c1391e6$18a474512c2e@127.0.0.1>

2008-08-01 14:44 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/pp/ppcore.c
   * doc/whatsnew.txt
     ! __PLATFORM__* macros now all #defined in full uppercase.
       F.e.:
       __PLATFORM__Windows becomes __PLATFORM_WINDOWS
       __PLATFORM__Linux   becomes __PLATFORM__LINUX
       INCOMPATIBLE.

   * contrib/xhb/hbcompat.ch
     + Added compatibility #defines for __PLATFORM__* macros.

   * include/hbdefs.h
     ! Minor formatting.

   * harbour-ce-spec
   * harbour-w32-spec
   * make_xmingw.sh
   * make_xmingwce.sh
   * source/debug/debugger.prg
   * contrib/hbtpathy/telepath.prg
   * contrib/hbw32/w32_tole.prg
   * contrib/hbw32/w32_tprn.prg
   * utils/hbdot/hbdot.prg
   * utils/hbmake/hbmake.prg
     * Changed __PLATFORM__* #define according to latest changes.
     ; NOTE: I find this kind of compile-time platform dependency 
             quite wrong in an normal application, and we should 
             definitely avoid it in core Harbour.
             In core Harbour there is one place where it would 
             better be eliminated, and in order to do this, we'd 
             need to have a filename equality comparison FS 
             function. Maybe we already have one, I don't know.
--
Brgds,
Viktor

From toninhofwi at yahoo.com.br  Fri Aug  1 09:37:45 2008
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Fri Aug  1 09:32:01 2008
Subject: [SPAM] [Harbour] Ocassional SET ORDER TO failure in RDDADS -
	xHarbour
In-Reply-To: <20080801085002.GA26689@34-mo7-2.acn.waw.pl>
References: <18768654.post@talk.nabble.com>
	<20080801085002.GA26689@34-mo7-2.acn.waw.pl>
Message-ID: <u246949d32i9j88bnvv54i3s5f1i05ok7q@4ax.com>

>But what's the error?

Przemek, I'm having this problem too. I'm using XHarbour and I see
this problem, when rddads from xharbour was synched with harbour.

Is a very strange error, but I know that it exist because sometimes I
set a scope in an index and when I do a setorder my data is not
scopped.

But this is very rare situation.

Regards,

Toninho.


		
_______________________________________________________ 
Yahoo! Mail - Sempre a melhor opção para você! 
Experimente já e veja as novidades. 
http://br.yahoo.com/mailbeta/tudonovo/
From harbour.01 at syenar.hu  Fri Aug  1 09:38:18 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  1 09:38:28 2008
Subject: [SPAM] [Harbour] Ocassional SET ORDER TO failure in RDDADS -
	xHarbour
In-Reply-To: <u246949d32i9j88bnvv54i3s5f1i05ok7q@4ax.com>
References: <18768654.post@talk.nabble.com>
	<20080801085002.GA26689@34-mo7-2.acn.waw.pl>
	<u246949d32i9j88bnvv54i3s5f1i05ok7q@4ax.com>
Message-ID: <A1F212CB-FD2B-4533-A7B4-5F9403024968@syenar.hu>

Could you guys please try this with Harbour and report results?

Brgds,
Viktor

On 2008.08.01., at 15:37, Toninho@fwi wrote:

>> But what's the error?
>
> Przemek, I'm having this problem too. I'm using XHarbour and I see
> this problem, when rddads from xharbour was synched with harbour.
>
> Is a very strange error, but I know that it exist because sometimes I
> set a scope in an index and when I do a setorder my data is not
> scopped.
>
> But this is very rare situation.
>
> Regards,
>
> Toninho.
>
>
> 		
> _______________________________________________________
> Yahoo! Mail - Sempre a melhor op??o para voc?!
> Experimente j? e veja as novidades.
> http://br.yahoo.com/mailbeta/tudonovo/
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Fri Aug  1 12:05:00 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Aug  1 12:05:04 2008
Subject: [Harbour] [SPAM] Ocassional SET ORDER TO failure in RDDADS -
	xHarbour
In-Reply-To: <20080801085002.GA26689@34-mo7-2.acn.waw.pl>
References: <18768654.post@talk.nabble.com>
	<20080801085002.GA26689@34-mo7-2.acn.waw.pl>
Message-ID: <18777802.post@talk.nabble.com>


Przemek

> what is the error.

select verify
set order to 2
seek substr(cCustId,2) // :ERROR

//---- Error log-----//
Alias() => verify
Recno() => 200120 
IndexOrd() => 0
GenCode => 36
Description => Workarea not indexed.

We are using production indexes. 
I will include more info about indexes in error log today.
That the 'index is closed' somehow is unlikely as the same code
works for other instances. At peak hours I have about 
900 workstations logged and roughly only 10-15 entries
in errorlog per day are reported on an average.

Viktor
It is very hard to post Harbour compiled instance
at one of the servers as I have yet to resolve some 
compatibility issues. And stand-alone instance
I cannot produce as the same application if run
isolated produces no errors.

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/Ocassional-SET-ORDER-TO-failure-in-RDDADS---xHarbour-tp18768654p18777802.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Fri Aug  1 12:06:01 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Aug  1 12:06:05 2008
Subject: [Harbour] 2008-08-01 14:44 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8f3d7$Blat.v2.6.2$5c1391e6$18a474512c2e@127.0.0.1>
References: <01c8f3d7$Blat.v2.6.2$5c1391e6$18a474512c2e@127.0.0.1>
Message-ID: <9257026e0808010906v106e5874xbb5ed38e7ac372d0@mail.gmail.com>

On Fri, Aug 1, 2008 at 3:06 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

>   * source/pp/ppcore.c
>   * doc/whatsnew.txt
>     ! __PLATFORM__* macros now all #defined in full uppercase.

Many thanks.

best regards,
Lorenzo
From toninhofwi at yahoo.com.br  Fri Aug  1 12:55:39 2008
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Fri Aug  1 12:54:56 2008
Subject: [SPAM] [Harbour] Ocassional SET ORDER TO failure in RDDADS -
	xHarbour
In-Reply-To: <A1F212CB-FD2B-4533-A7B4-5F9403024968@syenar.hu>
References: <18768654.post@talk.nabble.com>
	<20080801085002.GA26689@34-mo7-2.acn.waw.pl>
	<u246949d32i9j88bnvv54i3s5f1i05ok7q@4ax.com>
	<A1F212CB-FD2B-4533-A7B4-5F9403024968@syenar.hu>
Message-ID: <htf694lbuhnf85k4khingdtkafejgn599p@4ax.com>

>Could you guys please try this with Harbour and report results?

Viktor, I?ll try this weekend.

Regards,

Toninho.


	

	
		
_______________________________________________________ 
Yahoo! Mail - Sempre a melhor op??o para voc?! 
Experimente j? e veja as novidades. 
http://br.yahoo.com/mailbeta/tudonovo/
From toninhofwi at yahoo.com.br  Fri Aug  1 12:55:39 2008
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Fri Aug  1 12:54:56 2008
Subject: [SPAM] [Harbour] Ocassional SET ORDER TO failure in RDDADS -
	xHarbour
In-Reply-To: <A1F212CB-FD2B-4533-A7B4-5F9403024968@syenar.hu>
References: <18768654.post@talk.nabble.com>
	<20080801085002.GA26689@34-mo7-2.acn.waw.pl>
	<u246949d32i9j88bnvv54i3s5f1i05ok7q@4ax.com>
	<A1F212CB-FD2B-4533-A7B4-5F9403024968@syenar.hu>
Message-ID: <htf694lbuhnf85k4khingdtkafejgn599p@4ax.com>

>Could you guys please try this with Harbour and report results?

Viktor, I?ll try this weekend.

Regards,

Toninho.


	

	
		
_______________________________________________________ 
Yahoo! Mail - Sempre a melhor op??o para voc?! 
Experimente j? e veja as novidades. 
http://br.yahoo.com/mailbeta/tudonovo/
From harbour.01 at syenar.hu  Fri Aug  1 12:59:54 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  1 13:00:03 2008
Subject: [Harbour] [SPAM] Ocassional SET ORDER TO failure in RDDADS -
	xHarbour
In-Reply-To: <18777802.post@talk.nabble.com>
References: <18768654.post@talk.nabble.com>
	<20080801085002.GA26689@34-mo7-2.acn.waw.pl>
	<18777802.post@talk.nabble.com>
Message-ID: <17877AD7-1724-4D7F-8ABC-0826A4CE5EA8@syenar.hu>

Hi Pritpal,

Just some generic information about recent rddads update:
The RDD part of the lib (ads1.c) got some very light updates
only, so it's pretty easy to overview them and look for
any suspect changes.

Brgds,
Viktor

On 2008.08.01., at 18:05, Pritpal Bedi wrote:

>
> Przemek
>
>> what is the error.
>
> select verify
> set order to 2
> seek substr(cCustId,2) // :ERROR
>
> //---- Error log-----//
> Alias() => verify
> Recno() => 200120
> IndexOrd() => 0
> GenCode => 36
> Description => Workarea not indexed.
>
> We are using production indexes.
> I will include more info about indexes in error log today.
> That the 'index is closed' somehow is unlikely as the same code
> works for other instances. At peak hours I have about
> 900 workstations logged and roughly only 10-15 entries
> in errorlog per day are reported on an average.
>
> Viktor
> It is very hard to post Harbour compiled instance
> at one of the servers as I have yet to resolve some
> compatibility issues. And stand-alone instance
> I cannot produce as the same application if run
> isolated produces no errors.
>
> Regards
> Pritpal Bedi, INDIA-USA
>
> -- 
> View this message in context: http://www.nabble.com/Ocassional-SET-ORDER-TO-failure-in-RDDADS---xHarbour-tp18768654p18777802.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From toninhofwi at yahoo.com.br  Fri Aug  1 15:04:58 2008
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Fri Aug  1 15:04:12 2008
Subject: [Harbour] [SPAM] Ocassional SET ORDER TO failure in RDDADS -
	xHarbour
In-Reply-To: <17877AD7-1724-4D7F-8ABC-0826A4CE5EA8@syenar.hu>
References: <18768654.post@talk.nabble.com>
	<20080801085002.GA26689@34-mo7-2.acn.waw.pl>
	<18777802.post@talk.nabble.com>
	<17877AD7-1724-4D7F-8ABC-0826A4CE5EA8@syenar.hu>
Message-ID: <ggn694h2eo5k1ln69iuisrf7n8k1dqg0lt@4ax.com>

>Just some generic information about recent rddads update:
>The RDD part of the lib (ads1.c) got some very light updates
>only, so it's pretty easy to overview them and look for
>any suspect changes.

I agree. I do a complete file compare with old/new rddads versions
without any suspicious code found;

Regards,

Toninho.


		
_______________________________________________________ 
Yahoo! Mail - Sempre a melhor opção para você! 
Experimente já e veja as novidades. 
http://br.yahoo.com/mailbeta/tudonovo/
 

From bedipritpal at hotmail.com  Fri Aug  1 16:47:10 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Aug  1 16:47:15 2008
Subject: [Harbour] HB_ATokens() equivqlent accepting delimiter more than one
	charcater
Message-ID: <18782300.post@talk.nabble.com>


Hello

I am looking for a function equivalent to 
HB_ATokens( cStr, cDelimiter ) where <cDelimiter>
is more than one character.

For example:

HB_ATokensEx( cString, '|~|' )

Please forgive me if it already exists.

Regards
Pritpal Bedi, INDIA-USA
-- 
View this message in context: http://www.nabble.com/HB_ATokens%28%29-equivqlent-accepting-delimiter-more-than-one-charcater-tp18782300p18782300.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From gvarona at ec-red.com  Fri Aug  1 22:07:10 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Fri Aug  1 22:07:21 2008
Subject: [Harbour] Mouse not work with ACHOICE()
Message-ID: <4893C14E.7040706@ec-red.com>

This Code work fine in clipper with the mouse:

#include "inkey.ch"    // Key definitions
FUNCTION MAIN
   LOCAL aOpc := {"Opc. 1","Opc. 2","Opc. 3"}, nOpc
   SET( _SET_EVENTMASK, INKEY_ALL )
   cls
   nOpc := ACHOICE(1,1,10,20,aOpc)
   ? nOpc
   RETURN NIL

In harbour not work the mouse.

Best Regards.
GVS
From dmacias at mail.udg.mx  Sat Aug  2 03:56:23 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sat Aug  2 03:56:23 2008
Subject: [Harbour] Re: Release 1.0.0 Final #1
In-Reply-To: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
Message-ID: <48941327.1070708@mail.udg.mx>

Viktor:

 >I'd like to ask everyone to try as many kinds of
 >builds as possible and report any results on the
 >list, so that we can clear up problems before
 >tagging 1.0.0.

Current Harbour code (Rev. 9045) build/run fine under OS/2

Przemek:
Can you review old message included below ?

David Macias


Re: 2008-07-09 12:32 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
Przemek:

>2008-07-09 12:32 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/source/rtl/set.c
>    ! do not add .prn extension to printer/extra filenames if file name
>      is one of well known device name: PRN, LPT[1-3], COM[1-9]
>      This code is enabled only for OS2 builds where it's necessary
>      but maybe MS-Windows/DOS users should think about adding it to
>      their builds too because sometimes also DOS/Win does not recognize
>      correctly device name when it has extension.


It work fine using PRN, LPT1
Now printing in OS/2 is enabled

a) Can you add OS/2 to cases and set LPT1 as default ?

    /* Default printer device */
#if defined(HB_OS_UNIX)
    hb_set.HB_SET_PRINTFILE = hb_strdup( "|lpr" );
#elif defined(HB_OS_DOS)
    hb_set.HB_SET_PRINTFILE = hb_strdup( "PRN" );
#elif defined(HB_OS_WIN_32)
    hb_set.HB_SET_PRINTFILE = hb_strdup( "LPT1" );
#else
    hb_set.HB_SET_PRINTFILE = hb_strdup( "PRN" ); /* TOFIX */
#endif


b) Can you add CON to device list to avoid extension ?

Norton Guide say:
------------------------------------
   If the destination is a device, the following names are valid:
LPT1, LPT2, LPT3 (all parallel ports), COM1, and COM2 (serial ports),
CON and PRN.  The default device is PRN.
------------------------------------

I tested SET PRINTER TO CON in Clipper and work fine, sending output to
console
In Harbour it create CON.prn

c) I strongly suggest to enable your code to avoid extension in all OS
derived from DOS, which recognize/use same devices names
It will suppress those prn.prn, lpt1.prn errors which are sometimes very
often
Note: I do not remember have seen them in DOS, but in Win are often


David Macias



From dmacias at mail.udg.mx  Sat Aug  2 06:28:00 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sat Aug  2 06:27:58 2008
Subject: [Harbour] Harbour downloads
In-Reply-To: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
Message-ID: <489436B0.60302@mail.udg.mx>

Why Harbour download page
   http://sourceforge.net/project/showfiles.php?group_id=681
show allways 0 downloads for rc1, rc2, even after downloads ?

I made some downloads for test page

David Macias


From harbour.01 at syenar.hu  Sat Aug  2 07:09:46 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug  2 07:09:58 2008
Subject: [Harbour] Harbour downloads
In-Reply-To: <489436B0.60302@mail.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
	<489436B0.60302@mail.udg.mx>
Message-ID: <C130FA27-F128-40F2-A0B3-DCF51640F6C9@syenar.hu>

Hi David,

The stat processing subsystem of sf.net is under
reconstruction. They are collecting data in the
meantime, so eventually it will show the correct
values.

Brgds,
Viktor

On 2008.08.02., at 12:28, David Arturo Macias Corona wrote:

> Why Harbour download page
>  http://sourceforge.net/project/showfiles.php?group_id=681
> show allways 0 downloads for rc1, rc2, even after downloads ?
>
> I made some downloads for test page
>
> David Macias
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Sat Aug  2 13:07:03 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Aug  2 13:08:25 2008
Subject: [Harbour] Clipper for web applications!
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEB2@SRV02.deltain.net>

DBFree is a complete solution intended for old Clipper-programmers that
want to use their skill and competence in building their own web
applications. http://www.dbfree.org/


Massimo Belgrano

From mbelgrano at deltain.it  Sat Aug  2 13:36:32 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Aug  2 13:36:39 2008
Subject: [Harbour] Clipper for web applications!
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EEB2@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815EEB2@SRV02.deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEB3@SRV02.deltain.net>

http://www.klorofil.org/
Open source (win,linux) PHP platform developed by Saltanera to ease
application development. It has windowed GUI framework and web
application framework. 
Impressive Purefect Desktop Online Demo by Klorofil 
http://www.purefect.org/

From mbelgrano at deltain.it  Sat Aug  2 13:52:36 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Aug  2 13:52:41 2008
Subject: [Harbour] Clipper for web applications!
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EEB3@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815EEB2@SRV02.deltain.net>
	<AFB948164110ED43B5EB849E8DEEF03815EEB3@SRV02.deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEB4@SRV02.deltain.net>

Other interesting web gui framework
Google Web Toolkit: http://code.google.com/webtoolkit/
Yahoo! User Interface Library: http://developer.yahoo.com/yui/
ComponentArt: http://www.componentart.com
Ext JS: http://extjs.com (a bolt on:
http://www.codeplex.com/ExtJsExtenderControl, Write ExtJS code in C#:
http://code.google.com/p/extsharp/)
jQuery: http://jquery.com (general animation framework, there are bolt
on's too)
dojo: http://dojotoolkit.org (bolt on's:
http://dojotoolkit.org/projects/dijit, and
http://dojotoolkit.org/projects/dojox)
script.aculo.us: http://www.script.aculo.us which is built on top of
Prototyp http://www.prototypejs.org)

From bedipritpal at hotmail.com  Sat Aug  2 19:21:44 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Aug  2 19:21:49 2008
Subject: [Harbour] HB_ATokens() equivqlent accepting delimiter more than
	one charcater
In-Reply-To: <18782300.post@talk.nabble.com>
References: <18782300.post@talk.nabble.com>
Message-ID: <18794324.post@talk.nabble.com>


Please ignore it.

Hb_ATokens() righly returns values.
Infact I was testing with older xHarbour version
where it was failing.


Pritpal Bedi wrote:
> 
> Hello
> 
> I am looking for a function equivalent to 
> HB_ATokens( cStr, cDelimiter ) where <cDelimiter>
> is more than one character.
> 
> For example:
> 
> HB_ATokensEx( cString, '|~|' )
> 
> Please forgive me if it already exists.
> 

Regards
Prital Bedi
-- 
View this message in context: http://www.nabble.com/HB_ATokens%28%29-equivqlent-accepting-delimiter-more-than-one-charcater-tp18782300p18794324.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Sun Aug  3 06:28:22 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Aug  3 06:28:33 2008
Subject: [Harbour] Clipper for web applications!
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EEB4@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815EEB2@SRV02.deltain.net><AFB948164110ED43B5EB849E8DEEF03815EEB3@SRV02.deltain.net>
	<AFB948164110ED43B5EB849E8DEEF03815EEB4@SRV02.deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEB5@SRV02.deltain.net>

http://www.visualwebgui.com/vProject 
Visual WebGui (VWG) is an open source rapid application development
(RAD) framework for Line-Of-Bussines AJAX & Silverlight GUIs. VWG cuts
down development time, without compromising on extensibility,
scalability, performance, security or complexity.

Visual WebGui replaces all of the ASP.NET methodologies which were
designed for developing sites, with WinForms methodologies, which were
designed for developing applications.VWG provides the developer with an
extremely efficient designer to design interfaces using drag and drop
instead of hand coding HTML layouts.

This results in unprecedented simplicity and productivity in creating
complex web IT applications

"WebMail" is impressive demo of email management web base application
developed by Gizmox. Project "WebMail" started from Gizmox need to
display Visual WebGui's (VWG) abilities to create a real-world web
application. This application is the benchmark for developing a VWG
application. It was designed to expose the full power and the best
practices of building a VWG application. The idea was to demonstrate to
VWG users what abilities you obtain when developing a full VWG
application and to compare it to other equivalent existing application
abilities.

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo
Belgrano
Sent: Saturday, August 02, 2008 7:53 PM
To: Harbour Project Main Developer List.
Subject: RE: [Harbour] Clipper for web applications!

Other interesting web gui framework
Google Web Toolkit: http://code.google.com/webtoolkit/
Yahoo! User Interface Library: http://developer.yahoo.com/yui/
ComponentArt: http://www.componentart.com
Ext JS: http://extjs.com (a bolt on:
http://www.codeplex.com/ExtJsExtenderControl, Write ExtJS code in C#:
http://code.google.com/p/extsharp/)
jQuery: http://jquery.com (general animation framework, there are bolt
on's too)
dojo: http://dojotoolkit.org (bolt on's:
http://dojotoolkit.org/projects/dijit, and
http://dojotoolkit.org/projects/dojox)
script.aculo.us: http://www.script.aculo.us which is built on top of
Prototyp http://www.prototypejs.org)

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From lorenzo.fiorini at gmail.com  Sun Aug  3 14:24:33 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Aug  3 14:24:37 2008
Subject: [Harbour] Empty console window using gtwvt
Message-ID: <9257026e0808031124g69c173bbqa8cf4ee029318511@mail.gmail.com>

Sorry probably I missed sth but I've just noticed that if I launch a
gtwvt app from the desktop using a shortcut it creates also an empty
console window that has the name of the exe.

Is there a way to avoid it?

best regards,
Lorenzo
From mbelgrano at deltain.it  Sun Aug  3 15:18:57 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Aug  3 15:19:06 2008
Subject: [Harbour] Empty console window using gtwvt
In-Reply-To: <9257026e0808031124g69c173bbqa8cf4ee029318511@mail.gmail.com>
References: <9257026e0808031124g69c173bbqa8cf4ee029318511@mail.gmail.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEB7@SRV02.deltain.net>

I have tried with this application but works fine dyspolay one console
windows 
I'm create shortcut with right click my.exe and copy and right click on
destop and paste_shortcut
How you have made shortcut?
set HB_ARCHITECTURE=w32
set HB_COMPILER=bcc32
set HB_USER_LIBS=gtwvt.lib gtwvg.lib
SET CFLAGS= -tW -a8 -OS -O2 -5 -6 -DADS_REQUIRE_VERSION=7

#include "INKEY.CH"

    REQUEST HB_GT_WVT
    REQUEST HB_GT_WVT_DEFAULT
   

PROCEDURE main
   ? HB_GTVERSION(), HB_GTVERSION(1)
       TONE( 200, 3 )
       TONE( 300, 3 )
       TONE( 500, 3 )
       Name=space(30)
       @ 2,2 SAY "Name" get name
       Read
       @ 3,2 say "Hello "+name
       INKEY( 0 )
    RETURN

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo
Fiorini
Sent: Sunday, August 03, 2008 8:25 PM
To: Harbour Project Main Developer List.
Subject: [Harbour] Empty console window using gtwvt

Sorry probably I missed sth but I've just noticed that if I launch a
gtwvt app from the desktop using a shortcut it creates also an empty
console window that has the name of the exe.

Is there a way to avoid it?

best regards,
Lorenzo
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From lorenzo.fiorini at gmail.com  Sun Aug  3 15:19:37 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Aug  3 15:19:42 2008
Subject: [Harbour] Re: Empty console window using gtwvt
In-Reply-To: <9257026e0808031124g69c173bbqa8cf4ee029318511@mail.gmail.com>
References: <9257026e0808031124g69c173bbqa8cf4ee029318511@mail.gmail.com>
Message-ID: <9257026e0808031219nec04af1g87cc7f1734e5a53a@mail.gmail.com>

On Sun, Aug 3, 2008 at 8:24 PM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com> wrote:

> Sorry probably I missed sth but I've just noticed that if I launch a
> gtwvt app from the desktop using a shortcut it creates also an empty
> console window that has the name of the exe.
>
> Is there a way to avoid it?

Sorry I found it.

Really hot today isn't it? :)

best regards,
Lorenzo
From sscc at mweb.co.za  Mon Aug  4 04:59:05 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Aug  4 04:59:16 2008
Subject: [Harbour] Release 1.0.0 Final #1
In-Reply-To: <48E7CD13-947F-4AB1-B252-832C42D8EC68@syenar.hu>
References: <48E7CD13-947F-4AB1-B252-832C42D8EC68@syenar.hu>
Message-ID: <4896C4D9.8040004@mweb.co.za>

Szak?ts Viktor wrote:

> I'd like to ask everyone to try as many kinds of
> builds as possible and report any results on the
> list, so that we can clear up problems before
> tagging 1.0.0.

For MSVC6 there are quite a few of these warnings that you have mentioned:

source\pp\ppcore.c(1555) : warning C4761: integral size mismatch in 
argument; conversion supplied

and these 2 (which I think you know as well):

source\compiler\genobj32.c(549) : warning C4244: '=' : conversion from 
'short ' to 'unsigned char ', possible loss of data

source\compiler\genhrb.c(105) : warning C4244: '=' : conversion from 
'short ' to 'unsigned char ', possible loss of data

That is all for the whole core - fantastic achievement I think.


For contribs:

For gtwvg: warnings C4761 only

For hbbmcdx: warnings C4761 only

For hbbtree: warnings C4761 only

For hbclipsm: warnings C4761 only

For hbclipsm: warnings C4761
.\bitnum.c(183) : warning C4244: 'initializing' : conversion from 
'__int64 ' to 'unsigned short ', possible loss of data

For hbgt: none

For hbmisc: warnings C4761 only

For hbmsql: none

For hbmzip: none

For hbnf: warnings C4761 only

For hbodbc: failed completely:

.\odbc.c(332) : error C2065: 'SQLULEN' : undeclared identifier
.\odbc.c(332) : error C2146: syntax error : missing ';' before 
identifier 'wColSize'
.\odbc.c(332) : error C2065: 'wColSize' : undeclared identifier
.\odbc.c(333) : error C2275: 'SQLSMALLINT' : illegal use of this type 
as an expression
         C:\PROGRA~1\MICROS~4\VC98\INCLUDE\sqltypes.h(53) : see 
declaration of 'SQLSMALLINT'
.\odbc.c(333) : error C2146: syntax error : missing ';' before 
identifier 'wDecimals'
.\odbc.c(333) : error C2065: 'wDecimals' : undeclared identifier
.\odbc.c(334) : error C2275: 'SQLSMALLINT' : illegal use of this type 
as an expression
         C:\PROGRA~1\MICROS~4\VC98\INCLUDE\sqltypes.h(53) : see 
declaration of 'SQLSMALLINT'
.\odbc.c(334) : error C2146: syntax error : missing ';' before 
identifier 'wNullable'
.\odbc.c(334) : error C2065: 'wNullable' : undeclared identifier
.\odbc.c(338) : error C2275: 'SQLCHAR' : illegal use of this type as 
an expression
         C:\PROGRA~1\MICROS~4\VC98\INCLUDE\sqltypes.h(36) : see 
declaration of 'SQLCHAR'
.\odbc.c(338) : error C2065: 'buffer' : undeclared identifier
.\odbc.c(340) : error C2275: 'WORD' : illegal use of this type as an 
expression
         C:\PROGRA~1\MIFD68~1\INCLUDE\windef.h(144) : see declaration 
of 'WORD'
.\odbc.c(340) : error C2146: syntax error : missing ';' before 
identifier 'wResult'
.\odbc.c(340) : error C2065: 'wResult' : undeclared identifier
.\odbc.c(344) : warning C4047: 'function' : 'unsigned char *' differs 
in levels of indirection from 'int '
.\odbc.c(344) : warning C4024: 'SQLDescribeCol' : different types for 
formal and actual parameter 3
.\odbc.c(349) : warning C4133: 'function' : incompatible types - from 
'int *' to 'short *'
.\odbc.c(350) : warning C4133: 'function' : incompatible types - from 
'int *' to 'short *'
.\odbc.c(371) : warning C4022: 'hb_xfree' : pointer mismatch for 
actual parameter 1
.\odbc.c(412) : error C2146: syntax error : missing ';' before 
identifier 'uiRowCountPtr'
.\odbc.c(412) : error C2065: 'uiRowCountPtr' : undeclared identifier
.\odbc.c(414) : error C2275: 'SQLUSMALLINT' : illegal use of this type 
as an expression
         C:\PROGRA~1\MICROS~4\VC98\INCLUDE\sqltypes.h(54) : see 
declaration of 'SQLUSMALLINT'
.\odbc.c(414) : error C2146: syntax error : missing ';' before 
identifier 'siRowStatus'
.\odbc.c(414) : error C2065: 'siRowStatus' : undeclared identifier
.\odbc.c(415) : error C2275: 'WORD' : illegal use of this type as an 
expression
         C:\PROGRA~1\MIFD68~1\INCLUDE\windef.h(144) : see declaration 
of 'WORD'
.\odbc.c(415) : error C2146: syntax error : missing ';' before 
identifier 'wResult'
.\odbc.c(419) : warning C4133: 'function' : incompatible types - from 
'int *' to 'unsigned short *'

For hbole: none

For hbsqlit3: warnings C4761

.\sqlite3/sqlite3.c(65536) : warning C4049: compiler limit : 
terminating line number emission

Not much to be done about that :)

For hbtip: none

For hbtpathy: none

For hbvpdf: none

For hbw32: none

For rddado: none

For xhb: warnings C4761

For hbfimage: none

For rddads: warnings C4761


HTH and regards

Alex
From harbour.01 at syenar.hu  Mon Aug  4 05:28:05 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 05:28:11 2008
Subject: [Harbour] 2008-08-04 11:27 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f614$Blat.v2.6.2$6617d0a0$2dbc950126b8@127.0.0.1>

2008-08-04 11:27 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/debug/debugger.prg
     ! Avoided __PLATFORM__* macros in core code by using 
       hb_FileMatch() instead of some local logic to make 
       filename comparisons portable.
       Someone please check me if this is right.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Mon Aug  4 06:58:25 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug  4 06:58:31 2008
Subject: [Harbour] Release 1.0.0 Final #1
In-Reply-To: <4896C4D9.8040004@mweb.co.za>
References: <48E7CD13-947F-4AB1-B252-832C42D8EC68@syenar.hu>
	<4896C4D9.8040004@mweb.co.za>
Message-ID: <20080804105825.GA27514@34-mo7-2.acn.waw.pl>

On Mon, 04 Aug 2008, Alex Strickland wrote:

Hi Alex,

> and these 2 (which I think you know as well):
> source\compiler\genobj32.c(549) : warning C4244: '=' : conversion from 
> 'short ' to 'unsigned char ', possible loss of data
> source\compiler\genhrb.c(105) : warning C4244: '=' : conversion from 
> 'short ' to 'unsigned char ', possible loss of data

Both should  be left as remainder. It's real data lost though now
it breaks nothing because I moved compiler only flags to upper byte
so the stripped part does not effect code generated for HVM anyhow
sooner or later we will want to extend these flags introducing new
ones and we will have problem so this have o be fixed. I do not want
to touch current .hrb format so I'll make it when we will add new
.hrb format and library version for .hrb files (.hrl)

The obj32 code is different problem. It should has to be fixed or
disabled in default builds before we release 1.0.

> For hbodbc: failed completely:
> .\odbc.c(332) : error C2065: 'SQLULEN' : undeclared identifier
> .\odbc.c(332) : error C2146: syntax error : missing ';' before 
> identifier 'wColSize'
[...]
Probably you are using some older header files. MSVC users will
have to update this code to not use new definitions or by simple
adding their declaration covered by some #if ...

best regards,
Przemek
From druzus at acn.waw.pl  Mon Aug  4 06:59:13 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug  4 06:59:19 2008
Subject: [Harbour] 2008-08-04 12:58 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808041059.m74AxDrs004704@31-mo5-4.acn.waw.pl>

2008-08-04 12:58 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/pp/ppcore.c
    * cleaned warning

  * harbour/source/rtl/set.c
    * do not attach ".prn" extension to known device names also
      in DOS and Windows builds
    * recognize "CON" as device name in DOS, Win and OS2 builds

best regards
Przemek
From druzus at acn.waw.pl  Mon Aug  4 07:28:00 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug  4 07:28:06 2008
Subject: [Harbour] 2008-08-04 13:27 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808041128.m74BS0AT014884@31-mo5-4.acn.waw.pl>

2008-08-04 13:27 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/console.c
  * harbour/source/rtl/box.c
  * harbour/source/rtl/errorapi.c
  * harbour/source/rtl/do.c
  * harbour/source/rtl/filesys.c
    * cleaned warnings

  * harbour/source/vm/runner.c
    * respect references in parameters passed to init and startup
      functions

best regards
Przemek
From niki at synel.co.il  Mon Aug  4 07:37:49 2008
From: niki at synel.co.il (Chen Kedem)
Date: Mon Aug  4 07:35:43 2008
Subject: [Harbour] Re: CFLAGS and harbour dll
References: <4890108D.145F@synel.co.il>
Message-ID: <4896EA0D.717E@synel.co.il>

On Wed, 30 Jul 2008, I wrote:
http://lists.harbour-project.org/pipermail/harbour/2008-July/009354.html
,-
| I just tryed to build harbour dll with Borland C++Builder 5.0 (win32)
| and CodeGuard for the first time, I set the following:
|
| set HB_BUILD_DLL=yes
| set CFLAGS=-v -y -vG -Od
|
| and run make_b32.bat
|
| I get the following errors:
|
| Error: Unresolved external '_CG_DESC' referenced from E:\HRB\OBJ\DLL\B32\MAINDLLH.OBJ
| Error: Unresolved external '_CG_A_PD' referenced from E:\HRB\OBJ\DLL\B32\ESTACK.OBJ
| :
| Error: Unresolved external '_CG_GA_BP' referenced from E:\HRB\OBJ\DLL\B32\HBTRACE.OBJ
| Error: Unresolved external '_CG_GA_GY' referenced from E:\HRB\OBJ\DLL\B32\PPCORE.OBJ
|
| Which shows that the OBJ was created with the CodeGuard flag and
| the linker without it. Which environment should I set?
`-

I saw no reply.

Also, "make_b32 clean" does delete the dll from the
bin/b32/ directory but does not delete it from bin/
(it is copied there by make_b32 install)

clean does not remove auto-generated include/hbverbld.h


  Chen.
From harbour.01 at syenar.hu  Mon Aug  4 07:37:53 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 07:38:03 2008
Subject: [Harbour] Release 1.0.0 Final #1
In-Reply-To: <20080804105825.GA27514@34-mo7-2.acn.waw.pl>
References: <48E7CD13-947F-4AB1-B252-832C42D8EC68@syenar.hu>
	<4896C4D9.8040004@mweb.co.za>
	<20080804105825.GA27514@34-mo7-2.acn.waw.pl>
Message-ID: <75F1548B-94BC-4502-AEFD-F5914A967E32@syenar.hu>

>
Hi Przemek,

> Both should  be left as remainder. It's real data lost though now
> it breaks nothing because I moved compiler only flags to upper byte
> so the stripped part does not effect code generated for HVM anyhow
> sooner or later we will want to extend these flags introducing new
> ones and we will have problem so this have o be fixed. I do not want
> to touch current .hrb format so I'll make it when we will add new
> .hrb format and library version for .hrb files (.hrl)

Maybe we could do something to make this fact clear, or temply
suppress them via some methods, as this is a reoccurring report,
and it used mislead those who don't know the problem in detail.

One option is to add an item to TODO, fix the warnings,
with a TOFIX note in the code.

> The obj32 code is different problem. It should has to be fixed or
> disabled in default builds before we release 1.0.

I'd vote to disable it.

Also, if we're at it, we have hbmake and hbdoc, shouldn't
we do something with these, like moving them to examples?

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug  4 08:05:54 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 08:06:11 2008
Subject: [Harbour] Re: CFLAGS and harbour dll
In-Reply-To: <4896EA0D.717E@synel.co.il>
References: <4890108D.145F@synel.co.il> <4896EA0D.717E@synel.co.il>
Message-ID: <A6EE5C87-3171-4A99-9428-8F64B72739A6@syenar.hu>

Hi Chen,

> Also, "make_b32 clean" does delete the dll from the
> bin/b32/ directory but does not delete it from bin/
> (it is copied there by make_b32 install)

Maybe I'm overseeing something, but this looks consistent to me
with .exe binaries.

> clean does not remove auto-generated include/hbverbld.h

I'll try to correct that.

Brgds,
Viktor

From niki at synel.co.il  Mon Aug  4 08:22:10 2008
From: niki at synel.co.il (Chen Kedem)
Date: Mon Aug  4 08:20:02 2008
Subject: [Harbour] Re: CFLAGS and harbour dll
References: <4890108D.145F@synel.co.il> <4896EA0D.717E@synel.co.il>
Message-ID: <4896F472.A79@synel.co.il>

Viktor,

> Maybe I'm overseeing something, but this looks consistent to me
> with .exe binaries.

Just tested with unmodified make_b32.bat (rev 8095) and:

make_b32                   <-- create exe in bin\b32
make_b32 install           <-- copy exe to bin\
make_b32 clean             <-- delete exe from both bin\b32 and bin\

So the deleteing of the harbour dll should be part of the clean
as well.


  Chen.
From harbour.01 at syenar.hu  Mon Aug  4 08:28:05 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 08:28:15 2008
Subject: [Harbour] 2008-08-04 14:27 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f62d$Blat.v2.6.2$8b6508a0$1b34b20b20d4@127.0.0.1>

2008-08-04 14:27 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_vcce.mak
   * make_b32.mak
   * make_vc.mak
     ! Fixed to delete .dlls from 'bin' dir, too.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Mon Aug  4 09:16:30 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug  4 09:16:35 2008
Subject: [Harbour] 2008-08-04 15:16 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808041316.m74DGU1U021760@31-mo5-4.acn.waw.pl>

2008-08-04 15:16 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/compiler/genhrb.c
    ; added TOFIX note
    * pacified warning

best regards
Przemek
From lorenzo.fiorini at gmail.com  Mon Aug  4 09:35:06 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Aug  4 09:35:10 2008
Subject: [Harbour] Release 1.0.0 Final #1
In-Reply-To: <75F1548B-94BC-4502-AEFD-F5914A967E32@syenar.hu>
References: <48E7CD13-947F-4AB1-B252-832C42D8EC68@syenar.hu>
	<4896C4D9.8040004@mweb.co.za>
	<20080804105825.GA27514@34-mo7-2.acn.waw.pl>
	<75F1548B-94BC-4502-AEFD-F5914A967E32@syenar.hu>
Message-ID: <9257026e0808040635r193c8aa0h9014fd58fb3df37e@mail.gmail.com>

On Mon, Aug 4, 2008 at 1:37 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> I'd vote to disable it.
>
> Also, if we're at it, we have hbmake and hbdoc, shouldn't
> we do something with these, like moving them to examples?

I also agree to disable obj32 and remove hbmake and hbdoc.

best regards,
Lorenzo
From druzus at acn.waw.pl  Mon Aug  4 09:48:27 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug  4 09:48:35 2008
Subject: [Harbour] 2008-08-04 15:48 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808041348.m74DmRGr023040@31-mo5-4.acn.waw.pl>

2008-08-04 15:48 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/debug/dbgentry.c
    ! fixed some possible memory leaks or GPFs when wrong parameters
      are passed to debug functions
    * moved module name conversions (path stripping) into one place
      so in the future it will be easier to add automatic path detection

best regards
Przemek
From rodrmigu at gmail.com  Mon Aug  4 09:48:42 2008
From: rodrmigu at gmail.com (Rodrigo Miguel)
Date: Mon Aug  4 09:48:49 2008
Subject: [Harbour] Re: Release 1.0.0 Final #1
Message-ID: <80b05d460808040648y3228dc29i14ef96754318986d@mail.gmail.com>

Hi,

I don't use hbmake for a long time, but far as I know, hbmake application is
widely used by the [x]harbour users. So do we have any other tool to replace
that?

Regards
Rodrigo

>> I'd vote to disable it.
>>
>> Also, if we're at it, we have hbmake and hbdoc, shouldn't
>> we do something with these, like moving them to examples?

>I also agree to disable obj32 and remove hbmake and hbdoc.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080804/4c260b2a/attachment.html
From rodrmigu at gmail.com  Mon Aug  4 09:52:32 2008
From: rodrmigu at gmail.com (Rodrigo Miguel)
Date: Mon Aug  4 09:52:36 2008
Subject: [Harbour] RE: Clipper for web applications!
Message-ID: <80b05d460808040652w293c9522l7b33d3f9bb601e41@mail.gmail.com>

Hi,

You forgot Adobe FLEX, it's pretty amazing on development of RIA web 2.0
apps, and that uses AJAX, SOAP, PlainHTML or XML as Exchaging Data Methods:

http://learn.adobe.com/wiki/display/Flex/Getting+Started

Regards,
Rodrigo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080804/8ced81ba/attachment.html
From druzus at acn.waw.pl  Mon Aug  4 09:52:48 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug  4 09:52:53 2008
Subject: [Harbour] Release 1.0.0 Final #1
In-Reply-To: <75F1548B-94BC-4502-AEFD-F5914A967E32@syenar.hu>
References: <48E7CD13-947F-4AB1-B252-832C42D8EC68@syenar.hu>
	<4896C4D9.8040004@mweb.co.za>
	<20080804105825.GA27514@34-mo7-2.acn.waw.pl>
	<75F1548B-94BC-4502-AEFD-F5914A967E32@syenar.hu>
Message-ID: <20080804135248.GA23031@34-mo7-2.acn.waw.pl>

On Mon, 04 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Maybe we could do something to make this fact clear, or temply
> suppress them via some methods, as this is a reoccurring report,
> and it used mislead those who don't know the problem in detail.
> One option is to add an item to TODO, fix the warnings,
> with a TOFIX note in the code.

I've just added TOFIX note into genhrb.c and pacified this warning.
When I will work on new .hrb and .hrl format I'll clean it.

> >The obj32 code is different problem. It should has to be fixed or
> >disabled in default builds before we release 1.0.
> I'd vote to disable it.

OK, I'll make it but I hope someone in the future will finish
this code so I'll cover it by a macro - it will be easier to
work on this code and restore the functionality in the future.

> Also, if we're at it, we have hbmake and hbdoc, shouldn't
> we do something with these, like moving them to examples?

If you can please do it.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Aug  4 10:02:48 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug  4 10:02:53 2008
Subject: [Harbour] 2008-08-04 16:02 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808041402.m74E2mjf023185@31-mo5-4.acn.waw.pl>

2008-08-04 16:02 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/common.mak
  * harbour/source/compiler/Makefile
  * harbour/source/compiler/cmdcheck.c
  * harbour/source/compiler/hbmain.c
  * harbour/source/compiler/hbusage.c
    * disabled support for unfinished -gw compiler switch in
      default builds. It can be enabled by developers who will
      want to work on this code by recompiling Harbour with
      HB_GEN_W32_OBJ macro (f.e. by setting it in C_USR envvar)

best regards
Przemek
From druzus at acn.waw.pl  Mon Aug  4 10:09:51 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug  4 10:09:58 2008
Subject: [Harbour] Release 1.0.0 Final #1
In-Reply-To: <20080804135248.GA23031@34-mo7-2.acn.waw.pl>
References: <48E7CD13-947F-4AB1-B252-832C42D8EC68@syenar.hu>
	<4896C4D9.8040004@mweb.co.za>
	<20080804105825.GA27514@34-mo7-2.acn.waw.pl>
	<75F1548B-94BC-4502-AEFD-F5914A967E32@syenar.hu>
	<20080804135248.GA23031@34-mo7-2.acn.waw.pl>
Message-ID: <20080804140951.GB23031@34-mo7-2.acn.waw.pl>

On Mon, 04 Aug 2008, Przemyslaw Czerpak wrote:

Hi Viktor,

> > Also, if we're at it, we have hbmake and hbdoc, shouldn't
> > we do something with these, like moving them to examples?
> If you can please do it.

Probably Rodrigo is right that some people may use hbmake
so maybe it will be better to leave it. But hbver is not
longer used or even functional with current hbppgen code.
Also hbpptest it's less important with new PP so I suggest
to move it to tests/hbpptest.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Aug  4 10:09:55 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 10:10:05 2008
Subject: [Harbour] Release 1.0.0 Final #1
In-Reply-To: <20080804135248.GA23031@34-mo7-2.acn.waw.pl>
References: <48E7CD13-947F-4AB1-B252-832C42D8EC68@syenar.hu>
	<4896C4D9.8040004@mweb.co.za>
	<20080804105825.GA27514@34-mo7-2.acn.waw.pl>
	<75F1548B-94BC-4502-AEFD-F5914A967E32@syenar.hu>
	<20080804135248.GA23031@34-mo7-2.acn.waw.pl>
Message-ID: <398A89F5-899C-463B-A277-9AA109CAEF68@syenar.hu>

Hi Przemek,

>>
>> Maybe we could do something to make this fact clear, or temply
>> suppress them via some methods, as this is a reoccurring report,
>> and it used mislead those who don't know the problem in detail.
>> One option is to add an item to TODO, fix the warnings,
>> with a TOFIX note in the code.
>
> I've just added TOFIX note into genhrb.c and pacified this warning.
> When I will work on new .hrb and .hrl format I'll clean it.

It's great this way, thanks.

>>> The obj32 code is different problem. It should has to be fixed or
>>> disabled in default builds before we release 1.0.
>> I'd vote to disable it.
>
> OK, I'll make it but I hope someone in the future will finish
> this code so I'll cover it by a macro - it will be easier to
> work on this code and restore the functionality in the future.

Thanks.

>> Also, if we're at it, we have hbmake and hbdoc, shouldn't
>> we do something with these, like moving them to examples?
>
> If you can please do it.

Okay, hbdoc is used internally from a few places, so
unless we're not converting our existing docs to some
other format, we're depending on it.

For now, I'll move hbmake to examples.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug  4 10:16:57 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 10:17:07 2008
Subject: [Harbour] Release 1.0.0 Final #1
In-Reply-To: <20080804140951.GB23031@34-mo7-2.acn.waw.pl>
References: <48E7CD13-947F-4AB1-B252-832C42D8EC68@syenar.hu>
	<4896C4D9.8040004@mweb.co.za>
	<20080804105825.GA27514@34-mo7-2.acn.waw.pl>
	<75F1548B-94BC-4502-AEFD-F5914A967E32@syenar.hu>
	<20080804135248.GA23031@34-mo7-2.acn.waw.pl>
	<20080804140951.GB23031@34-mo7-2.acn.waw.pl>
Message-ID: <F3FE46EF-EFAC-4548-8785-CA4AC6DB9238@syenar.hu>

okay. we may remove/move hbmake when we have
a superior replacement.

I'll remove hbverfix and move hbpptest to tests.

Brgds,
Viktor

On 2008.08.04., at 16:09, Przemyslaw Czerpak wrote:

> On Mon, 04 Aug 2008, Przemyslaw Czerpak wrote:
>
> Hi Viktor,
>
>>> Also, if we're at it, we have hbmake and hbdoc, shouldn't
>>> we do something with these, like moving them to examples?
>> If you can please do it.
>
> Probably Rodrigo is right that some people may use hbmake
> so maybe it will be better to leave it. But hbver is not
> longer used or even functional with current hbppgen code.
> Also hbpptest it's less important with new PP so I suggest
> to move it to tests/hbpptest.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Mon Aug  4 10:26:48 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Aug  4 10:26:52 2008
Subject: [Harbour] hbinet issue under Windows and Mac OS X ( Linux works )
Message-ID: <9257026e0808040726t41fb9f7awa0c6ef5b6ced23fd@mail.gmail.com>

Is there anybody that can find sth wrong in the code below?

To build and test it:

hbmk -n static -gtcgi tt75s
hbmk -n static -gtcgi tt75c

./tt75s.exe 61111 & ( or any other unused port number )

then

./tt75c.exe localhost 61111

tt75s.exe it should print "Socket got contacted" and quit.

This happens in Linux but in Windows and Mac OS X it doesn't happen
but "telnet localhost 61111" works.

Any idea?

best regards,
Lorenzo

/* client tt75c.prg */

procedure main( cHostName, nChkPort )

   local nSocket
   local nRetCode
   local nTimeOut := 5

   nChkPort := val( nChkPort )

   do while nTimeOut > 0
      nSocket := HB_InetConnect( cHostName, nChkPort )
      nRetCode := HB_InetErrorCode( nSocket )
      if nRetCode == 0
         exit
      endif
      hb_idleSleep( .1 )
      nTimeOut -= .1
   enddo

   HB_InetClose( nSocket )

   ? "nRetCode=", nRetCode

   return

/* server tt75s.prg */

procedure main( nPort )

   local nServerSock
   local nSocket
   local lRunning := .t.

   nPort := val( nPort )

   HB_InetInit()

   nServerSock := HB_InetServer( nPort )

   DO WHILE lRunning
      nSocket := HB_InetAccept( nServerSock )
      IF nSocket != NIL
         ? "Socket got contacted"
         HB_InetClose( nSocket )
      ELSE
         ? "Error InetAccept", "port", nPort, HB_InetErrorCode(
nServerSock ), HB_InetErrorDesc( nServerSock )
         lRunning := .F.
      ENDIF
   ENDDO

   HB_InetClose( nServerSock )

   HB_InetCleanup()

   return
From harbour.01 at syenar.hu  Mon Aug  4 10:27:13 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 10:27:18 2008
Subject: [Harbour] 2008-08-04 16:23 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f63e$Blat.v2.6.2$2ff8d008$2188be7062de@127.0.0.1>

2008-08-04 16:23 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * harbour-ce-spec
   * harbour-w32-spec
   * harbour.spec
   * common.mak
   * make_b32.mak
   * make_gcc.mak
   * make_vc.mak
   * make_vcce.mak
   * make_tgz.sh
   * utils/Makefile
   - utils/hbver
     - Removed obsolete binary hbverfix.
--
Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Mon Aug  4 10:32:29 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Aug  4 10:32:35 2008
Subject: [Harbour] Release 1.0.0 Final #1
In-Reply-To: <F3FE46EF-EFAC-4548-8785-CA4AC6DB9238@syenar.hu>
References: <48E7CD13-947F-4AB1-B252-832C42D8EC68@syenar.hu>
	<4896C4D9.8040004@mweb.co.za>
	<20080804105825.GA27514@34-mo7-2.acn.waw.pl>
	<75F1548B-94BC-4502-AEFD-F5914A967E32@syenar.hu>
	<20080804135248.GA23031@34-mo7-2.acn.waw.pl>
	<20080804140951.GB23031@34-mo7-2.acn.waw.pl>
	<F3FE46EF-EFAC-4548-8785-CA4AC6DB9238@syenar.hu>
Message-ID: <9257026e0808040732u22e686c8oe25c4aff477c5a9b@mail.gmail.com>

On Mon, Aug 4, 2008 at 4:16 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> okay. we may remove/move hbmake when we have
> a superior replacement.

In this case we should mark it "unsupported" or sth like that.
Since nobody here seems to use it, how can we support the users that
will ask questions about it?

best regards,
Lorenzo
From harbour.01 at syenar.hu  Mon Aug  4 10:37:47 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 10:37:53 2008
Subject: [Harbour] 2008-08-04 16:34 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f63f$Blat.v2.6.2$aa0f9a6a$355cc2d76460@127.0.0.1>

2008-08-04 16:34 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * harbour-ce-spec
   * harbour-w32-spec
   * harbour.spec
   * common.mak
   * make_b32.mak
   * make_gcc.mak
   * make_vc.mak
   * make_vcce.mak
   * make_tgz.sh
   * utils/Makefile
   - utils/hbpptest
   + tests/hbpptest
     * Moved hbpptest to tests.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug  4 10:51:25 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 10:51:33 2008
Subject: [Harbour] Release 1.0.0 Final #1
In-Reply-To: <9257026e0808040732u22e686c8oe25c4aff477c5a9b@mail.gmail.com>
References: <48E7CD13-947F-4AB1-B252-832C42D8EC68@syenar.hu>
	<4896C4D9.8040004@mweb.co.za>
	<20080804105825.GA27514@34-mo7-2.acn.waw.pl>
	<75F1548B-94BC-4502-AEFD-F5914A967E32@syenar.hu>
	<20080804135248.GA23031@34-mo7-2.acn.waw.pl>
	<20080804140951.GB23031@34-mo7-2.acn.waw.pl>
	<F3FE46EF-EFAC-4548-8785-CA4AC6DB9238@syenar.hu>
	<9257026e0808040732u22e686c8oe25c4aff477c5a9b@mail.gmail.com>
Message-ID: <6B54CE53-9C8E-460B-A6D9-2B9A9C0FF668@syenar.hu>

>
Hi Lorenzo,

> On Mon, Aug 4, 2008 at 4:16 PM, Szak?ts Viktor <harbour. 
> 01@syenar.hu> wrote:
>
>> okay. we may remove/move hbmake when we have
>> a superior replacement.
>
> In this case we should mark it "unsupported" or sth like that.
> Since nobody here seems to use it, how can we support the users that
> will ask questions about it?

Yes, and even xhb support is pretty light for this tool.
(A newer GUI version of this tool seems to be part of a
closed-source payware xhb package now)

Okay, how to mark it as unsupported? (screen message?,
item in whatsnew?, not creating it by default?)

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Mon Aug  4 11:01:31 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Aug  4 11:01:36 2008
Subject: [Harbour] Release 1.0.0 Final #1
In-Reply-To: <6B54CE53-9C8E-460B-A6D9-2B9A9C0FF668@syenar.hu>
References: <48E7CD13-947F-4AB1-B252-832C42D8EC68@syenar.hu>
	<4896C4D9.8040004@mweb.co.za>
	<20080804105825.GA27514@34-mo7-2.acn.waw.pl>
	<75F1548B-94BC-4502-AEFD-F5914A967E32@syenar.hu>
	<20080804135248.GA23031@34-mo7-2.acn.waw.pl>
	<20080804140951.GB23031@34-mo7-2.acn.waw.pl>
	<F3FE46EF-EFAC-4548-8785-CA4AC6DB9238@syenar.hu>
	<9257026e0808040732u22e686c8oe25c4aff477c5a9b@mail.gmail.com>
	<6B54CE53-9C8E-460B-A6D9-2B9A9C0FF668@syenar.hu>
Message-ID: <9257026e0808040801m3250f29egbc7cbf5e3eefe283@mail.gmail.com>

On Mon, Aug 4, 2008 at 4:51 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Okay, how to mark it as unsupported? (screen message?,
> item in whatsnew?, not creating it by default?)

What about moving it to the contrib dir?
It would be easy to build for the ones that want it and clear that
it's not part of the standard build.

best regards,
Lorenzo
From sscc at mweb.co.za  Mon Aug  4 11:05:13 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Aug  4 11:05:32 2008
Subject: [Harbour] Recursive Error
Message-ID: <48971AA9.7040305@mweb.co.za>

Hi

I have created a recursive error for myself and the hb_out.log file is 
very useful.

I notice though that the stack trace does not have source file names. 
Is it possible to add them?

Thanks
Alex
From harbour.01 at syenar.hu  Mon Aug  4 11:10:03 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 11:10:18 2008
Subject: [Harbour] Release 1.0.0 Final #1
In-Reply-To: <9257026e0808040801m3250f29egbc7cbf5e3eefe283@mail.gmail.com>
References: <48E7CD13-947F-4AB1-B252-832C42D8EC68@syenar.hu>
	<4896C4D9.8040004@mweb.co.za>
	<20080804105825.GA27514@34-mo7-2.acn.waw.pl>
	<75F1548B-94BC-4502-AEFD-F5914A967E32@syenar.hu>
	<20080804135248.GA23031@34-mo7-2.acn.waw.pl>
	<20080804140951.GB23031@34-mo7-2.acn.waw.pl>
	<F3FE46EF-EFAC-4548-8785-CA4AC6DB9238@syenar.hu>
	<9257026e0808040732u22e686c8oe25c4aff477c5a9b@mail.gmail.com>
	<6B54CE53-9C8E-460B-A6D9-2B9A9C0FF668@syenar.hu>
	<9257026e0808040801m3250f29egbc7cbf5e3eefe283@mail.gmail.com>
Message-ID: <8CE5116D-9773-4D4D-95FF-B6A63452EB04@syenar.hu>

>> Okay, how to mark it as unsupported? (screen message?,
>> item in whatsnew?, not creating it by default?)
>
> What about moving it to the contrib dir?
> It would be easy to build for the ones that want it and clear that
> it's not part of the standard build.

It's not very straightforward, as contrib is able
to build libs only with the current tools.

The current place for executables / tools inside
contrib is 'contrib/examples'.

That's where I'd put it along with a few make files
(B32/VC) to make it easy to build.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Aug  4 11:14:58 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug  4 11:15:05 2008
Subject: [Harbour] hbinet issue under Windows and Mac OS X ( Linux works )
In-Reply-To: <9257026e0808040726t41fb9f7awa0c6ef5b6ced23fd@mail.gmail.com>
References: <9257026e0808040726t41fb9f7awa0c6ef5b6ced23fd@mail.gmail.com>
Message-ID: <20080804151458.GA23678@34-mo7-2.acn.waw.pl>

On Mon, 04 Aug 2008, Lorenzo Fiorini wrote:

Hi Lorenzo,

> Is there anybody that can find sth wrong in the code below?
> To build and test it:
> hbmk -n static -gtcgi tt75s
> hbmk -n static -gtcgi tt75c
> ./tt75s.exe 61111 & ( or any other unused port number )
> then
> ./tt75c.exe localhost 61111
> tt75s.exe it should print "Socket got contacted" and quit.
> 
> This happens in Linux but in Windows and Mac OS X it doesn't happen
> but "telnet localhost 61111" works.
> Any idea?

For the windows version you should probably add to client code:
   HB_InetInit()
which is missing. But I have no idea why it does not work for you
in MacOS X. POSIX systems does not need call to HB_InetInit().
Try to add before:
      hb_idleSleep( .1 )
This line:
      ? "nRetCode=", nRetCode, hb_InetErrorDesc( nSocket )
and maybe the results will tell you sth more. You can also
test 127.0.0.1 instead of localhost as server address.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Aug  4 11:15:16 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 11:15:26 2008
Subject: [Harbour] Recursive Error
In-Reply-To: <48971AA9.7040305@mweb.co.za>
References: <48971AA9.7040305@mweb.co.za>
Message-ID: <2320B7A9-3A41-40FD-86BB-CBCA41A1746A@syenar.hu>

Hi Alex,

Probably, but there are few things, first of all
we'd need to think of this on the global level and
there are quite some more places where stack trace
is dumped. The other thing is that I'd rather like
to fully exclude source filenames from my final
executables (which is not possible since some time),
than even displaying them. Also function names should
always be enough to identify a program location
without doubts, IMO it would just mess up the
current simple dump layout.

I'd overall vote to leave it as is now, and maybe
give it another thought after 1.0.

Brgds,
Viktor

On 2008.08.04., at 17:05, Alex Strickland wrote:

> Hi
>
> I have created a recursive error for myself and the hb_out.log file  
> is very useful.
>
> I notice though that the stack trace does not have source file  
> names. Is it possible to add them?
>
> Thanks
> Alex
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From abe.buch at att.net  Mon Aug  4 11:36:49 2008
From: abe.buch at att.net (Abeb)
Date: Mon Aug  4 11:36:54 2008
Subject: [Harbour] error restoring MEM files save in foxpro 4 Dos
Message-ID: <18813646.post@talk.nabble.com>


traced to 128 being deducted/added to the var type. 

mem files saved in foxpro could be restored in Clipper though.

could this be changed?
Thanks
Abe
-- 
View this message in context: http://www.nabble.com/error-restoring-MEM-files-save-in-foxpro-4-Dos-tp18813646p18813646.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Aug  4 11:53:13 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 11:53:27 2008
Subject: [Harbour] BCC 5.8 two remaining warnings
In-Reply-To: <20080801090115.GB26689@34-mo7-2.acn.waw.pl>
References: <0A1D0F9F-8BD8-444E-8A64-76C0C4510234@syenar.hu>
	<20080801090115.GB26689@34-mo7-2.acn.waw.pl>
Message-ID: <CECAB7F6-01D4-418F-8D6A-8891221A1E91@syenar.hu>

Hi Przemek,

> Probably yet another problem with stdint.h in BCC5.8
> But without this compiler I can only guess what's wrong
> this time: try to add yet another hack like for INT32_MIN
> but this time for INT64_MIN:
>
>   #undef INT64_MIN
>   #define INT64_MIN ((int64_t) (-INT64_MAX-1))

I've tried this now, but it didn't help.

> If it helps then please commit, if doesn't then please try
> to make some experiments with this code to detect exact
> reason of warning message.
>
>   #define X_MAX ((__int64) 9223372036854775807)
>   #define X_MIN ((__int64) -9223372036854775808)
>   BOOL f( double d )
>   {
>      return ( (long double) X_MIN <= (long double) (d) &&
>               (long double) (d) <= (long double) X_MAX );
>   }

This small snippet creates two "integer arithmetic overflow"
warnings, when compiled using 'bcc32 -c test.c'

If I get the two constants down to 4294967295 and
-4294967295 respectively, the messages get replaced
by a "negating unsigned value".

Anything I could do to get closer to a workaround?

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Mon Aug  4 12:03:50 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Aug  4 12:03:54 2008
Subject: [Harbour] hbinet issue under Windows and Mac OS X ( Linux works )
In-Reply-To: <20080804151458.GA23678@34-mo7-2.acn.waw.pl>
References: <9257026e0808040726t41fb9f7awa0c6ef5b6ced23fd@mail.gmail.com>
	<20080804151458.GA23678@34-mo7-2.acn.waw.pl>
Message-ID: <9257026e0808040903u2c6329b6iae5ca34560a5b566@mail.gmail.com>

On Mon, Aug 4, 2008 at 5:14 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> For the windows version you should probably add to client code:
>   HB_InetInit()
> which is missing.

Many thanks, now win works as expected.

Under Mac OS X now I get a segfault in HB_InetAccept as soon as I run tt75s:

------
 DO WHILE lRunning
      ? "here1"
      nSocket := HB_InetAccept( nServerSock )
      ? "here2"
-----

I see here1 but not here2.

Program received signal EXC_BAD_ACCESS, Could not access memory.
Reason: KERN_INVALID_ADDRESS at address: 0xdffff28c
0x00054fdc in ?? ()


best regards,
Lorenzo
From druzus at acn.waw.pl  Mon Aug  4 12:24:57 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug  4 12:25:07 2008
Subject: [Harbour] hbinet issue under Windows and Mac OS X ( Linux works )
In-Reply-To: <9257026e0808040903u2c6329b6iae5ca34560a5b566@mail.gmail.com>
References: <9257026e0808040726t41fb9f7awa0c6ef5b6ced23fd@mail.gmail.com>
	<20080804151458.GA23678@34-mo7-2.acn.waw.pl>
	<9257026e0808040903u2c6329b6iae5ca34560a5b566@mail.gmail.com>
Message-ID: <20080804162457.GA24255@34-mo7-2.acn.waw.pl>

On Mon, 04 Aug 2008, Lorenzo Fiorini wrote:
> Under Mac OS X now I get a segfault in HB_InetAccept as soon as I run tt75s:
> ------
>  DO WHILE lRunning
>       ? "here1"
>       nSocket := HB_InetAccept( nServerSock )
>       ? "here2"
> -----
> I see here1 but not here2.
> Program received signal EXC_BAD_ACCESS, Could not access memory.
> Reason: KERN_INVALID_ADDRESS at address: 0xdffff28c
> 0x00054fdc in ?? ()

Please rebuild Harbour with -g option (f.e. set it in C_USR) and then try
to build tt75s with -nostrip hbmk parameter. It should enable all debug
information so we can see callstack in GDB and locate where the program
crashes.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Aug  4 12:52:32 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug  4 12:52:38 2008
Subject: [Harbour] BCC 5.8 two remaining warnings
In-Reply-To: <CECAB7F6-01D4-418F-8D6A-8891221A1E91@syenar.hu>
References: <0A1D0F9F-8BD8-444E-8A64-76C0C4510234@syenar.hu>
	<20080801090115.GB26689@34-mo7-2.acn.waw.pl>
	<CECAB7F6-01D4-418F-8D6A-8891221A1E91@syenar.hu>
Message-ID: <20080804165232.GA24391@34-mo7-2.acn.waw.pl>

On Mon, 04 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> >Probably yet another problem with stdint.h in BCC5.8
> >But without this compiler I can only guess what's wrong
> >this time: try to add yet another hack like for INT32_MIN
> >but this time for INT64_MIN:
> >  #undef INT64_MIN
> >  #define INT64_MIN ((int64_t) (-INT64_MAX-1))
> I've tried this now, but it didn't help.

Please try:
   #undef INT64_MIN
   #define INT64_MIN (9223372036854775807i64-1)

and maybe also:
   #undef INT64_MAX
   #define INT64_MAX 9223372036854775807i64

For some reasons BCC5.8 does not correctly uses these
definitions as 64bit signed integers.
If it also not help then please try to locate which one
(INT64_MIN or INT64_MAX) produces the warning, f.e.:

   int f( double d )
   {
      if( (long double) X_MIN <= (long double) (d) )
         return 1;

      if( (long double) (d) <= (long double) X_MAX )
         return 2;

      return 0;
   }

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Mon Aug  4 12:55:15 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Aug  4 12:55:20 2008
Subject: [Harbour] hbinet issue under Windows and Mac OS X ( Linux works )
In-Reply-To: <20080804162457.GA24255@34-mo7-2.acn.waw.pl>
References: <9257026e0808040726t41fb9f7awa0c6ef5b6ced23fd@mail.gmail.com>
	<20080804151458.GA23678@34-mo7-2.acn.waw.pl>
	<9257026e0808040903u2c6329b6iae5ca34560a5b566@mail.gmail.com>
	<20080804162457.GA24255@34-mo7-2.acn.waw.pl>
Message-ID: <9257026e0808040955y2dc3dc90v3e0389d3c5726560@mail.gmail.com>

On Mon, Aug 4, 2008 at 6:24 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> Please rebuild Harbour with -g option (f.e. set it in C_USR) and then try
> to build tt75s with -nostrip hbmk parameter. It should enable all debug
> information so we can see callstack in GDB and locate where the program
> crashes.

My C_USR is:
C_USR=-O3 -g -DHB_NO_READDBG -DHB_EXT_INKEY -DHB_PP_MULTILINE_STRING

Here it is the bt:

here1
Program received signal EXC_BAD_ACCESS, Could not access memory.
Reason: KERN_INVALID_ADDRESS at address: 0xdffff26c
0x00054fbc in hb_selectReadSocket (Socket=0x30fb18) at ../../hbinet.c:239
239        FD_SET(Socket->com, &set);
(gdb) bt
#0  0x00054fbc in hb_selectReadSocket (Socket=0x30fb18) at ../../hbinet.c:239
#1  0x00056c88 in HB_FUN_HB_INETACCEPT () at ../../hbinet.c:1619
#2  0x0003197c in hb_vmDo (uiParams=<value temporarily unavailable,
due to optimizations>) at ../../hvm.c:4847
#3  0x0002d7a8 in hb_vmExecute (pCode=0xb4a50 "\r\004\001$\006",
pSymbols=0xb7014) at ../../hvm.c:1019
#4  0x00002620 in HB_FUN_MAIN ()
#5  0x0003197c in hb_vmDo (uiParams=<value temporarily unavailable,
due to optimizations>) at ../../hvm.c:4847
#6  0x00033258 in hb_vmInit (bStartMainProc=1) at ../../hvm.c:490
#7  0x0003c69c in main (argc=<value temporarily unavailable, due to optimization

best regards,
Lorenzo
From druzus at acn.waw.pl  Mon Aug  4 13:22:18 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug  4 13:23:15 2008
Subject: [Harbour] hbinet issue under Windows and Mac OS X ( Linux works )
In-Reply-To: <9257026e0808040955y2dc3dc90v3e0389d3c5726560@mail.gmail.com>
References: <9257026e0808040726t41fb9f7awa0c6ef5b6ced23fd@mail.gmail.com>
	<20080804151458.GA23678@34-mo7-2.acn.waw.pl>
	<9257026e0808040903u2c6329b6iae5ca34560a5b566@mail.gmail.com>
	<20080804162457.GA24255@34-mo7-2.acn.waw.pl>
	<9257026e0808040955y2dc3dc90v3e0389d3c5726560@mail.gmail.com>
Message-ID: <20080804172218.GA24724@34-mo7-2.acn.waw.pl>

On Mon, 04 Aug 2008, Lorenzo Fiorini wrote:

Hi Lorenzo,

> Here it is the bt:
> Program received signal EXC_BAD_ACCESS, Could not access memory.
> Reason: KERN_INVALID_ADDRESS at address: 0xdffff26c
> 0x00054fbc in hb_selectReadSocket (Socket=0x30fb18) at ../../hbinet.c:239
> 239        FD_SET(Socket->com, &set);
> (gdb) bt
> #0  0x00054fbc in hb_selectReadSocket (Socket=0x30fb18) at ../../hbinet.c:239
> #1  0x00056c88 in HB_FUN_HB_INETACCEPT () at ../../hbinet.c:1619

It means that HB_InetServer() failed.
Please add this code:

      if HB_InetErrorCode( nSocket ) != 0
         ? "socket error=",  HB_InetErrorCode( nSocket ), ;
                             HB_InetErrorDesc( nSocket )
      endif

just after:

      nServerSock := HB_InetServer( nPort )

and you will see the error code and description
and maybe you will be able to answer why it fails.

The other thing is adding protections against passing wrong
(-1) socket handles to low level socket functions. Looks
that in MacOSX the internal functions does not have such
protection and it GPFs in FD_SET(). The problem exists in
all platforms though probably not everywhere GPF appears
and we should add such protection. This should be part
of some general cleanup in hbinet.c code but looks that
for MacOSX it will be critical so I'll try to make it ASAP.

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Mon Aug  4 14:09:40 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Aug  4 14:09:45 2008
Subject: [Harbour] hbinet issue under Windows and Mac OS X ( Linux works )
In-Reply-To: <20080804172218.GA24724@34-mo7-2.acn.waw.pl>
References: <9257026e0808040726t41fb9f7awa0c6ef5b6ced23fd@mail.gmail.com>
	<20080804151458.GA23678@34-mo7-2.acn.waw.pl>
	<9257026e0808040903u2c6329b6iae5ca34560a5b566@mail.gmail.com>
	<20080804162457.GA24255@34-mo7-2.acn.waw.pl>
	<9257026e0808040955y2dc3dc90v3e0389d3c5726560@mail.gmail.com>
	<20080804172218.GA24724@34-mo7-2.acn.waw.pl>
Message-ID: <9257026e0808041109xe6174e0t34c3beda8b9c9dcf@mail.gmail.com>

On Mon, Aug 4, 2008 at 7:22 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> It means that HB_InetServer() failed.
> Please add this code:
> ...
> and you will see the error code and description
> and maybe you will be able to answer why it fails.

Oops, sorry it says:

 Error InetServer         48 Address already in use

I had a instance of tt75s still running.
I like Mac a lot but I'm still not feeling "at home".

> The other thing is adding protections against passing wrong
> (-1) socket handles to low level socket functions. Looks
> that in MacOSX the internal functions does not have such
> protection and it GPFs in FD_SET(). The problem exists in
> all platforms though probably not everywhere GPF appears
> and we should add such protection. This should be part
> of some general cleanup in hbinet.c code but looks that
> for MacOSX it will be critical so I'll try to make it ASAP.

Many thanks.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Mon Aug  4 14:29:16 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 14:29:24 2008
Subject: [Harbour] 2008-08-04 20:24 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f660$Blat.v2.6.2$009d6a0e$28281c978eb8@127.0.0.1>

2008-08-04 20:24 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbdefs.h
     ! Fixed 4 remaining warnings in BCC 5.8.2 builds.
       Many thanks to Przemek for the patch.
       NOTE: Now BCC58 core is warning-free and there are 
             two warnings in its own header files, exploited 
             by contrib hbcurl/libcurl.
--
Brgds,
Viktor

From lautaro.moreira at gmail.com  Mon Aug  4 10:04:07 2008
From: lautaro.moreira at gmail.com (Lautaro Moreira)
Date: Mon Aug  4 15:30:12 2008
Subject: [Harbour] Re: Clipper for web applications!
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EEB2@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815EEB2@SRV02.deltain.net>
Message-ID: <g7728n$akn$1@ger.gmane.org>

You forgot OpenLaszlo, it's pretty amazing on development of RIA web 2.0 
apps it's opensource and free, and that uses SOAP, PlainHTML or XML as 
Exchaging Data Methods:


url : www.openlaszlo.org


Atte,

Lautaro Moreira

From harbour.01 at syenar.hu  Mon Aug  4 15:52:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 15:52:59 2008
Subject: [Harbour] MSVS 2005 new warnings
Message-ID: <A449D520-936A-45D6-82A3-0DA950BC7AF0@syenar.hu>

Hi Przemek,

These are new ones:
source\rtl\filesys.c(2293) : warning C4244: 'function' : conversion  
from 'USHORT' to 'BYTE', possible loss of data
source\rtl\filesys.c(2328) : warning C4244: 'function' : conversion  
from 'USHORT' to 'BYTE', possible loss of data

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Aug  4 16:15:06 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug  4 16:15:12 2008
Subject: [Harbour] 2008-08-04 22:13 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808042015.m74KF6vl002772@31-mo5-4.acn.waw.pl>

2008-08-04 22:13 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/rddads/adsfunc.c
    ! fixed possibly unclosed AdsCloseSQLStatement()

  * harbour/contrib/rddads/ads1.c
    * minor cleanup and protection against possible strange results
      caused by indexes without tags

  * harbour/source/rtl/hbinet.c
    ! added protection against using wrong handles
    ! fixed possible resource leak (unclosed handle) when open handle is
      passed to HB_INETCONNECT[IP]()

  * harbour/source/rtl/filesys.c
    * cleaned warnings

best regards
Przemek
From harbour.01 at syenar.hu  Mon Aug  4 16:20:27 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 16:20:33 2008
Subject: [Harbour] 2008-08-04 22:16 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f66f$Blat.v2.6.2$88cdb226$2b9c1318fe26@127.0.0.1>

2008-08-04 22:16 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/filesys.c
     * Minor formatting. [ Thanks for the patches, they got 
       merged with prev commit. ]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug  4 16:29:26 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 16:29:31 2008
Subject: [Harbour] 2008-08-04 22:28 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f670$Blat.v2.6.2$c9e7a752$27c45c07a806@127.0.0.1>

2008-08-04 22:28 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * utils/hbmake/hbmake.prg
     ! Several minor typos corrected in main help screen.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Mon Aug  4 16:32:26 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug  4 16:32:32 2008
Subject: [Harbour] 2008-08-04 22:31 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808042032.m74KWQNw023424@31-mo5-4.acn.waw.pl>

2008-08-04 22:31 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/make_gcc.mak
    ! fixed SPACEs used instead of TAB in clean command

best regards
Przemek
From dmacias at mail.udg.mx  Mon Aug  4 16:37:09 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Aug  4 16:37:04 2008
Subject: [Harbour] Re: Harbour downloads
In-Reply-To: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
Message-ID: <48976875.8080801@mail.udg.mx>

 >The stat processing subsystem of sf.net is under
 >reconstruction. They are collecting data in the
 >meantime, so eventually it will show the correct
 >values.

Thanks Viktor


 >2008-08-04 12:58 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

 >  * harbour/source/rtl/set.c
 >    * do not attach ".prn" extension to known device names also
 >      in DOS and Windows builds
 >    * recognize "CON" as device name in DOS, Win and OS2 builds

Thanks Przemek

David Macias


From harbour.01 at syenar.hu  Mon Aug  4 16:40:38 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 16:40:43 2008
Subject: [Harbour] hbdot and hbrun merge?
Message-ID: <05056306-8400-4963-8910-96EF9BB5BBFD@syenar.hu>

Hi all,

I noticed these programs implement pretty similar functionality,
and both are pretty big, as they both include the full RTL.

Shouldn't we merge these two utilities into one?

I mean hbdot could run .hrb perfectly well if such file was
specified on the command line, otherwise it could run the
interactive UI.

We could save some considerable build time and distribution
binary size.

Opinions?

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug  4 16:43:16 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 16:43:23 2008
Subject: [Harbour] Re: hbdot and hbrun merge?
In-Reply-To: <05056306-8400-4963-8910-96EF9BB5BBFD@syenar.hu>
References: <05056306-8400-4963-8910-96EF9BB5BBFD@syenar.hu>
Message-ID: <03C8778F-A7BD-4772-A3D0-FCE6A566BF31@syenar.hu>

...moreover: hbdot is already able to run .hrb files.

So the question goes down to: Do we really need hbrun
as a duplicate?

In case we want to offer 'hbrun' as a compatibility
command, it would be much more optimal to just provide
some simple wrapper scripts/batch files.

Brgds,
Viktor

On 2008.08.04., at 22:40, Szak?ts Viktor wrote:

> Hi all,
>
> I noticed these programs implement pretty similar functionality,
> and both are pretty big, as they both include the full RTL.
>
> Shouldn't we merge these two utilities into one?
>
> I mean hbdot could run .hrb perfectly well if such file was
> specified on the command line, otherwise it could run the
> interactive UI.
>
> We could save some considerable build time and distribution
> binary size.
>
> Opinions?
>
> Brgds,
> Viktor
>

From harbour.01 at syenar.hu  Mon Aug  4 16:51:17 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 16:51:24 2008
Subject: [Harbour] Re: hbdot and hbrun merge?
In-Reply-To: <03C8778F-A7BD-4772-A3D0-FCE6A566BF31@syenar.hu>
References: <05056306-8400-4963-8910-96EF9BB5BBFD@syenar.hu>
	<03C8778F-A7BD-4772-A3D0-FCE6A566BF31@syenar.hu>
Message-ID: <5AF785AD-2E7B-4740-85C6-EE264F870BD5@syenar.hu>

and one more: as hbrun seems to be the more
widespread and even xhb compatible exectuable
name, and it might also be referred by scripts,
I'd rather recommend to rename hbdot to hbrun,
and drop current hbrun.

[ One such .exe is 1.5-2MB large depending on
the platform/compiler. ]

Brgds,
Viktor

On 2008.08.04., at 22:43, Szak?ts Viktor wrote:

> ...moreover: hbdot is already able to run .hrb files.
>
> So the question goes down to: Do we really need hbrun
> as a duplicate?
>
> In case we want to offer 'hbrun' as a compatibility
> command, it would be much more optimal to just provide
> some simple wrapper scripts/batch files.
>
> Brgds,
> Viktor
>
> On 2008.08.04., at 22:40, Szak?ts Viktor wrote:
>
>> Hi all,
>>
>> I noticed these programs implement pretty similar functionality,
>> and both are pretty big, as they both include the full RTL.
>>
>> Shouldn't we merge these two utilities into one?
>>
>> I mean hbdot could run .hrb perfectly well if such file was
>> specified on the command line, otherwise it could run the
>> interactive UI.
>>
>> We could save some considerable build time and distribution
>> binary size.
>>
>> Opinions?
>>
>> Brgds,
>> Viktor
>>
>

From lorenzo.fiorini at gmail.com  Mon Aug  4 17:29:17 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Aug  4 17:29:21 2008
Subject: [Harbour] 2008-08-04 22:13 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200808042015.m74KF6vl002772@31-mo5-4.acn.waw.pl>
References: <200808042015.m74KF6vl002772@31-mo5-4.acn.waw.pl>
Message-ID: <9257026e0808041429t7df43efcn2f124ae162bec347@mail.gmail.com>

On Mon, Aug 4, 2008 at 10:15 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

>  * harbour/source/rtl/hbinet.c
>    ! added protection against using wrong handles
>    ! fixed possible resource leak (unclosed handle) when open handle is
>      passed to HB_INETCONNECT[IP]()

Many thanks.

Tomorrow I'll rebuild Mac OS X apps and I'll report the results.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Mon Aug  4 17:46:16 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 17:46:31 2008
Subject: [Harbour] 2008-08-04 22:28 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f67b$Blat.v2.6.2$85add452$1dd0e8a2870a@127.0.0.1>

2008-08-04 22:28 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * utils/hbdot/hbdot.prg
     + hbdot is now able to run .hrb files too, by doing a check
       on the extension, similar to hbrun.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Mon Aug  4 18:01:55 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug  4 18:02:01 2008
Subject: [Harbour] Re: hbdot and hbrun merge?
In-Reply-To: <5AF785AD-2E7B-4740-85C6-EE264F870BD5@syenar.hu>
References: <05056306-8400-4963-8910-96EF9BB5BBFD@syenar.hu>
	<03C8778F-A7BD-4772-A3D0-FCE6A566BF31@syenar.hu>
	<5AF785AD-2E7B-4740-85C6-EE264F870BD5@syenar.hu>
Message-ID: <20080804220155.GA18834@34-mo7-2.acn.waw.pl>

On Mon, 04 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> and one more: as hbrun seems to be the more
> widespread and even xhb compatible exectuable
> name, and it might also be referred by scripts,
> I'd rather recommend to rename hbdot to hbrun,
> and drop current hbrun.

hbdot cannot cleanly execute .hrb files yet but
of course it can be quite easy added. In POSIX
we can even create hbdot link to hbrun for backward
compatibility and to force interactive mode when
run without parameters: it's enough to check hb_argv(0).

> [ One such .exe is 1.5-2MB large depending on
> the platform/compiler. ]

The size is important only in static builds.
In shared builds (make_rpm*.sh, make_tgz.sh) both binaries
are linked with harbour shared library (.dll, .so, .dyn, .sa, ...)
and the size is much smaller ~150KB and most of this is symbol
table with all hbextern definitions which also can be eliminated.
We should only create new hbextern library and add it to harbour
shared library. Now in shared library all .prg functions
are accessible even without including hbextern.ch because .prg
code automatically registers all used symbols. It does not happen
for .c code so Harbour functions written in C which are not accessed
directly by some .prg code are not registered in HVM by harbour.dll
startup code. Such hbextern library can resolve this problem and
I would like to add it even only for this.
hbrun without #include "hbextern.ch" linked but with harbour.so
having all hbextern symbols has only 5KB.
For me it's not a problem if we will have two tools with such
small size. Anyhow before we remove one of them IMHO we should add
hbextern library and try to add support for shared builds for
non GCC conpuilers.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Aug  4 18:41:33 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 18:41:38 2008
Subject: [Harbour] 2008-08-05 00:22 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f683$Blat.v2.6.2$3ec17a78$2fe8baf69c06@127.0.0.1>

2008-08-05 00:22 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   + utils/hbmake/bld_vc.bat
   + utils/hbmake/bld_b32.bat
     + Added non-GNU make batch files to build hbmake.
     ; This is a step towards detaching hbmake from core.

   + contrib/examples/dbu/bld_vc.bat
   + contrib/examples/guestbk/bld_vc.bat
   + contrib/examples/hscript/bld_vc.bat
   + contrib/examples/pe/bld_vc.bat
   + contrib/examples/pp/bld_vc.bat
     + Added MSVC build scripts.
--
Brgds,
Viktor

From philb at philb.us  Mon Aug  4 19:09:02 2008
From: philb at philb.us (Phil Barnett)
Date: Mon Aug  4 19:09:11 2008
Subject: [Harbour] Recursive Error
In-Reply-To: <2320B7A9-3A41-40FD-86BB-CBCA41A1746A@syenar.hu>
References: <48971AA9.7040305@mweb.co.za>
	<2320B7A9-3A41-40FD-86BB-CBCA41A1746A@syenar.hu>
Message-ID: <200808041909.02738.philb@philb.us>

On Monday 04 August 2008 11:15:16 am Szak?ts Viktor wrote:
> Hi Alex,
>
> Probably, but there are few things, first of all
> we'd need to think of this on the global level and
> there are quite some more places where stack trace
> is dumped. The other thing is that I'd rather like
> to fully exclude source filenames from my final
> executables (which is not possible since some time),
> than even displaying them. Also function names should
> always be enough to identify a program location
> without doubts, IMO it would just mess up the
> current simple dump layout.
>
> I'd overall vote to leave it as is now, and maybe
> give it another thought after 1.0.

I'm sure that it's not appropriate to include it into the compiler, but my 
source code reformatting program, Click!, would resolve this problem to the 
correct file name by analyzing all of the .lib file headers and parsing all 
of the function names out of them into a database. Then, at the point where I 
documented where the objects came from, I would use the link file to 
determine which order the libraries were linked and therefore which lib (and 
therefore file name) functions by the same name must have come from.

So, if we need that code, it's in the Click! source code. We would have to 
expand it to index .dll files as well as .lib files to really have good 
coverage.

When we release 1.0.0, I'll probably remake Click! to handle all of this 
external documentation and code function header insertion.

-- 
Waiting for sunspots.
From harbour.01 at syenar.hu  Mon Aug  4 19:11:05 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 19:11:12 2008
Subject: [Harbour] harbour.dll revisited
Message-ID: <FCD89683-4C37-474C-BA92-250DA9A9D5D9@syenar.hu>

Hi all,

Do we want to make any steps towards a standardized harbour.dll?

I'd suggest to rename harbour-vc.dll to harbour.dll as a step now.
This means we consider the MSVC compiler as the standard and
required tool to build our standard harbour.dll.

In the meantime BCC created harbour.dll will stay harbour-b32.dll.

Later we may want to tailor other compilers (BCC, GCC, POCC)
to produce binary compatible .dlls with the standard one.

[ I'm not sure what to do with C++ vs. non-C++ MSVC difference,
but I'm currently assuming they are compatible - even if they
are not exactly identical. ]

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug  4 19:04:12 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug  4 19:19:26 2008
Subject: [Harbour] Re: hbdot and hbrun merge?
In-Reply-To: <20080804220155.GA18834@34-mo7-2.acn.waw.pl>
References: <05056306-8400-4963-8910-96EF9BB5BBFD@syenar.hu>
	<03C8778F-A7BD-4772-A3D0-FCE6A566BF31@syenar.hu>
	<5AF785AD-2E7B-4740-85C6-EE264F870BD5@syenar.hu>
	<20080804220155.GA18834@34-mo7-2.acn.waw.pl>
Message-ID: <3902A337-17D5-415A-B8EE-2456256DB1C6@syenar.hu>

>>
Hi Przemek,

>> and one more: as hbrun seems to be the more
>> widespread and even xhb compatible exectuable
>> name, and it might also be referred by scripts,
>> I'd rather recommend to rename hbdot to hbrun,
>> and drop current hbrun.
>
> hbdot cannot cleanly execute .hrb files yet but
> of course it can be quite easy added. In POSIX
> we can even create hbdot link to hbrun for backward
> compatibility and to force interactive mode when
> run without parameters: it's enough to check hb_argv(0).

Please check me, I've already added this to hbdot.

>> [ One such .exe is 1.5-2MB large depending on
>> the platform/compiler. ]
>
> The size is important only in static builds.
> In shared builds (make_rpm*.sh, make_tgz.sh) both binaries
> are linked with harbour shared library (.dll, .so, .dyn, .sa, ...)
> and the size is much smaller ~150KB and most of this is symbol
> table with all hbextern definitions which also can be eliminated.
> We should only create new hbextern library and add it to harbour
> shared library. Now in shared library all .prg functions
> are accessible even without including hbextern.ch because .prg
> code automatically registers all used symbols. It does not happen
> for .c code so Harbour functions written in C which are not accessed
> directly by some .prg code are not registered in HVM by harbour.dll
> startup code. Such hbextern library can resolve this problem and
> I would like to add it even only for this.
> hbrun without #include "hbextern.ch" linked but with harbour.so
> having all hbextern symbols has only 5KB.
> For me it's not a problem if we will have two tools with such
> small size. Anyhow before we remove one of them IMHO we should add
> hbextern library and try to add support for shared builds for
> non GCC conpuilers.

The size is a problem for all non-Unix builds currently, so it
would be good to deal with it. Even if a .dll based build is
technically possible in Windows, I think one of the strengths of
hbdot/hbrun, that they are self-contained, easy to run just by
having the .exe. Also the functionality of hbrun/hbdot is so
much overlapped that it might be better to have them as one
utility anyway. At least IMO.

Regardless of the merge, all you write can just make everything
even better.

If there are no objections, I'll replace current hbrun code
with hbdot code, and remove hbdot.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Aug  4 20:43:42 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug  4 20:43:48 2008
Subject: [Harbour] 2008-08-05 02:43 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808050043.m750hgsn023906@31-mo5-4.acn.waw.pl>

2008-08-05 02:43 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/utils/hbdot/hbdot.prg
    * removed holder class for HRB modules - it's not longer necessary
      because we have automatic destructors for .hrb modules
    * updated usage message for .hrb files
    * minor modifications

  * harbour/doc/man/hbdot.1
    * updated man page for recent modifications

best regards
Przemek
From druzus at acn.waw.pl  Mon Aug  4 20:53:22 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug  4 20:53:29 2008
Subject: [Harbour] Re: hbdot and hbrun merge?
In-Reply-To: <3902A337-17D5-415A-B8EE-2456256DB1C6@syenar.hu>
References: <05056306-8400-4963-8910-96EF9BB5BBFD@syenar.hu>
	<03C8778F-A7BD-4772-A3D0-FCE6A566BF31@syenar.hu>
	<5AF785AD-2E7B-4740-85C6-EE264F870BD5@syenar.hu>
	<20080804220155.GA18834@34-mo7-2.acn.waw.pl>
	<3902A337-17D5-415A-B8EE-2456256DB1C6@syenar.hu>
Message-ID: <20080805005322.GA23967@34-mo7-2.acn.waw.pl>

On Tue, 05 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> The size is a problem for all non-Unix builds currently, so it
> would be good to deal with it. Even if a .dll based build is
> technically possible in Windows, I think one of the strengths of
> hbdot/hbrun, that they are self-contained, easy to run just by
> having the .exe. Also the functionality of hbrun/hbdot is so
> much overlapped that it might be better to have them as one
> utility anyway. At least IMO.

Probably in non *nix environment yes.

> Regardless of the merge, all you write can just make everything
> even better.

OK, I'll add hbextern library and include it to GNU make builds.
For sure it will be cleaner for users. Now without checking
harbour source code with all internal dependences it's not
possible to guess which functions not used explicitly are visible
in Harbour shared binaries.

> If there are no objections, I'll replace current hbrun code
> with hbdot code, and remove hbdot.

OK, I please do that. I can update RPMs and man files adding
hbextern library.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Aug  4 20:59:17 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug  4 20:59:22 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <FCD89683-4C37-474C-BA92-250DA9A9D5D9@syenar.hu>
References: <FCD89683-4C37-474C-BA92-250DA9A9D5D9@syenar.hu>
Message-ID: <20080805005917.GB23967@34-mo7-2.acn.waw.pl>

On Tue, 05 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Do we want to make any steps towards a standardized harbour.dll?
> I'd suggest to rename harbour-vc.dll to harbour.dll as a step now.
> This means we consider the MSVC compiler as the standard and
> required tool to build our standard harbour.dll.

Can you check if you can use MINGW harbour.dll with MSVC Harbour
builds and the one created by MSVC with MINGW?

best regards,
Przemek
From druzus at acn.waw.pl  Mon Aug  4 21:55:46 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug  4 21:55:52 2008
Subject: [Harbour] Recursive Error
In-Reply-To: <200808041909.02738.philb@philb.us>
References: <48971AA9.7040305@mweb.co.za>
	<2320B7A9-3A41-40FD-86BB-CBCA41A1746A@syenar.hu>
	<200808041909.02738.philb@philb.us>
Message-ID: <20080805015546.GA24289@34-mo7-2.acn.waw.pl>

On Mon, 04 Aug 2008, Phil Barnett wrote:

Hi Phil and Viktor,

> > Probably, but there are few things, first of all
> > we'd need to think of this on the global level and
> > there are quite some more places where stack trace
> > is dumped. The other thing is that I'd rather like
> > to fully exclude source filenames from my final
> > executables (which is not possible since some time),
> > than even displaying them. Also function names should
> > always be enough to identify a program location
> > without doubts, IMO it would just mess up the
> > current simple dump layout.

Function names are not enough when you have binaries with
big number of static functions with the same names written
by different programmers so I can imagine situations when
such information can greatly help to locate the problem.
I can even imagine situations when it will be vital
to diagnose the reason of some errors, f.e. problem maybe
caused by overload functions or wrongly linked functions
with the same name coming from different libraries.
If information about file name can help in resolving the
problem then I do not see anything wrong in adding it.
For all .prg functions we have this information so it's
enough to change:

   while( hb_procinfo( iLevel++, buffer, &uiLine, NULL ) )
   {
      snprintf( ptr, sizeof( msg ) - ( ptr - msg ), 
                HB_I_("Called from %s(%hu)\n"), buffer, uiLine );
      if( hLog )
         fwrite( ptr, sizeof( *ptr ), strlen( ptr ), hLog );
      ptr += strlen( ptr );
   }

to:

   char file[ _POSIX_PATH_MAX + 1 ];
   [...]
   while( hb_procinfo( iLevel++, buffer, &uiLine, file ) )
   {
      snprintf( ptr, sizeof( msg ) - ( ptr - msg ),
                HB_I_("Called from %s(%hu)%s%s\n"), buffer, uiLine,
                *file ? " in " : "", file );
      if( hLog )
         fwrite( ptr, sizeof( *ptr ), strlen( ptr ), hLog );
      ptr += strlen( ptr );
   }

We can also update other procedures which shows call stack:
hb_procinfo() is used only in four places.

> I'm sure that it's not appropriate to include it into the compiler, but my 
> source code reformatting program, Click!, would resolve this problem to the 
> correct file name by analyzing all of the .lib file headers and parsing all 
> of the function names out of them into a database. Then, at the point where I 
> documented where the objects came from, I would use the link file to 
> determine which order the libraries were linked and therefore which lib (and 
> therefore file name) functions by the same name must have come from.

All such tools will be great additions but it's not trivial to detect
dependences list in some compilers/linkers. F.e. GCC/MinGW LD uses much
more different rules then most of other Windows/DOS linkers which are
additionally changed by library grouping options.

> So, if we need that code, it's in the Click! source code. We would have to 
> expand it to index .dll files as well as .lib files to really have good 
> coverage.

I can try to help in adding support for Linux and other *nixes.

> When we release 1.0.0, I'll probably remake Click! to handle all of this 
> external documentation and code function header insertion.

:-)

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Aug  5 02:51:13 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug  5 03:07:35 2008
Subject: [Harbour] 2008-08-05 08:50 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f6c7$Blat.v2.6.2$a6bd46ea$1520ef93e1ee@127.0.0.1>

2008-08-05 08:50 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * harbour-ce-spec
   * harbour-w32-spec
   * harbour.spec
   * common.mak
   * make_b32.mak
   * make_gcc.mak
   * make_vc.mak
   * make_vcce.mak
   * make_tgz.sh
   * debian/rules
   - doc/man/hbdot.1
   * doc/man/hbrun.1
   - utils/hbdot
   * utils/hbrun/Makefile
   * utils/hbrun/hbrun.prg
   - utils/hbrun/external.prg
     * Replaced hbrun functionality with hbdot's.
     - Removed separate hbdot tool.

   * contrib/hbsqlit3/sqlite3/sqlite3.c
   * contrib/hbsqlit3/make_vc.bat
     ! Fixed bug in foreign code (sqlite3.c) to compile in 
       MSVC C++ mode. (HANDLE -> HMODULE)
     * C++ mode is no longer forced in non-GNU MSVC builds, 
       this way also avoiding a screen warning.

   * contrib/examples/dbu/bld_b32.bat
   * contrib/examples/dbu/bld_vc.bat
     ! Fixed to call 'patch' with '-N' so that it doesn't 
       ask to reverse patches when run multiple times.

   + utils/hbdoc/bld_b32.bat
   + utils/hbdoc/bld_vc.bat
     + Added non-GNU make batch files to build hbmake.
     ; This is a step towards detaching hbdoc from core.

   * utils/hbdoc/hbdocdef.ch
     ! Fixed equality operators to be SET EXACT independent.
     ; Minor formatting.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug  5 03:38:34 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug  5 03:38:42 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <20080805005917.GB23967@34-mo7-2.acn.waw.pl>
References: <FCD89683-4C37-474C-BA92-250DA9A9D5D9@syenar.hu>
	<20080805005917.GB23967@34-mo7-2.acn.waw.pl>
Message-ID: <FBA523BF-2BA0-4665-95E6-45128CC51D98@syenar.hu>

Hi Przemek,

Okay, my only problem is how to create harbour.dll
with MinGW (or the GNU-make system in general)?

[ BTW, maybe hbrtl.dll (or something else) would be
a better name for harbour.dll, as it's current name
implies that it's a dependency of harbour.exe. ]

Brgds,
Viktor

On 2008.08.05., at 2:59, Przemyslaw Czerpak wrote:

> On Tue, 05 Aug 2008, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>> Do we want to make any steps towards a standardized harbour.dll?
>> I'd suggest to rename harbour-vc.dll to harbour.dll as a step now.
>> This means we consider the MSVC compiler as the standard and
>> required tool to build our standard harbour.dll.
>
> Can you check if you can use MINGW harbour.dll with MSVC Harbour
> builds and the one created by MSVC with MINGW?
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Tue Aug  5 04:35:53 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Aug  5 04:35:58 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <FBA523BF-2BA0-4665-95E6-45128CC51D98@syenar.hu>
References: <FCD89683-4C37-474C-BA92-250DA9A9D5D9@syenar.hu>
	<20080805005917.GB23967@34-mo7-2.acn.waw.pl>
	<FBA523BF-2BA0-4665-95E6-45128CC51D98@syenar.hu>
Message-ID: <9257026e0808050135r7083e320t58d0743cea7f2e17@mail.gmail.com>

On Tue, Aug 5, 2008 at 9:38 AM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Okay, my only problem is how to create harbour.dll
> with MinGW (or the GNU-make system in general)?

Simply to remind that GNU-make system is the same for
Linux/Windows/Mac OS X and many other OSes so every change should be
done carefully and tested in many different environments.

I don't know what is exactly your goal but I'd leave GNU make system
as it is since it's main goal is portability not host OS "tight"
integration.

best regards,
Lorenzo
From mbelgrano at deltain.it  Tue Aug  5 04:43:57 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Aug  5 04:44:24 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <FBA523BF-2BA0-4665-95E6-45128CC51D98@syenar.hu>
References: <FCD89683-4C37-474C-BA92-250DA9A9D5D9@syenar.hu><20080805005917.GB23967@34-mo7-2.acn.waw.pl>
	<FBA523BF-2BA0-4665-95E6-45128CC51D98@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEB8@SRV02.deltain.net>

Hbrtl01_00_00.dll for versioning

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Tuesday, August 05, 2008 9:39 AM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] harbour.dll revisited

Hi Przemek,

Okay, my only problem is how to create harbour.dll
with MinGW (or the GNU-make system in general)?

[ BTW, maybe hbrtl.dll (or something else) would be
a better name for harbour.dll, as it's current name
implies that it's a dependency of harbour.exe. ]

Brgds,
Viktor

On 2008.08.05., at 2:59, Przemyslaw Czerpak wrote:

> On Tue, 05 Aug 2008, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>> Do we want to make any steps towards a standardized harbour.dll?
>> I'd suggest to rename harbour-vc.dll to harbour.dll as a step now.
>> This means we consider the MSVC compiler as the standard and
>> required tool to build our standard harbour.dll.
>
> Can you check if you can use MINGW harbour.dll with MSVC Harbour
> builds and the one created by MSVC with MINGW?
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From lorenzo.fiorini at gmail.com  Tue Aug  5 05:26:18 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Aug  5 05:26:22 2008
Subject: [Harbour] 2008-08-04 22:13 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200808042015.m74KF6vl002772@31-mo5-4.acn.waw.pl>
References: <200808042015.m74KF6vl002772@31-mo5-4.acn.waw.pl>
Message-ID: <9257026e0808050226w2de1ad68ybdb8c38db4890e04@mail.gmail.com>

On Mon, Aug 4, 2008 at 10:15 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

>  * harbour/source/rtl/hbinet.c
>    ! added protection against using wrong handles
>    ! fixed possible resource leak (unclosed handle) when open handle is
>      passed to HB_INETCONNECT[IP]()

Perfect!

Now if I run tt75s twice I don't get segfault and the error message is set to:

-4 Closed socket

best regards,
Lorenzo
From mbelgrano at deltain.it  Tue Aug  5 06:10:57 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Aug  5 06:11:06 2008
Subject: [Harbour] Re: Clipper for web applications!
In-Reply-To: <g7728n$akn$1@ger.gmane.org>
References: <AFB948164110ED43B5EB849E8DEEF03815EEB2@SRV02.deltain.net>
	<g7728n$akn$1@ger.gmane.org>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEB9@SRV02.deltain.net>

I am impressed by visual webgui demo at
http://samples.visualwebgui.com/MainForm.wgx
Is possible use as gui for harbour?

Do you know a demo for openlaszlo?
 

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Lautaro
Moreira
Sent: Monday, August 04, 2008 4:04 PM
To: harbour@harbour-project.org
Subject: [Harbour] Re: Clipper for web applications!

You forgot OpenLaszlo, it's pretty amazing on development of RIA web 2.0

apps it's opensource and free, and that uses SOAP, PlainHTML or XML as 
Exchaging Data Methods:


url : www.openlaszlo.org


Atte,

Lautaro Moreira

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Tue Aug  5 06:53:02 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug  5 06:53:13 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <9257026e0808050135r7083e320t58d0743cea7f2e17@mail.gmail.com>
References: <FCD89683-4C37-474C-BA92-250DA9A9D5D9@syenar.hu>
	<20080805005917.GB23967@34-mo7-2.acn.waw.pl>
	<FBA523BF-2BA0-4665-95E6-45128CC51D98@syenar.hu>
	<9257026e0808050135r7083e320t58d0743cea7f2e17@mail.gmail.com>
Message-ID: <CA025027-9F40-48D7-8BCF-0777B8C7C49B@syenar.hu>

Hi Lorenzo,

I have no plans to touch the GNU-make system
in any ways this close to the release, I just
simply have no idea how to do that currently,
that's why I was asking.

[ I suspect it's not supported. ]

Brgds,
Viktor

On 2008.08.05., at 10:35, Lorenzo Fiorini wrote:

> On Tue, Aug 5, 2008 at 9:38 AM, Szak?ts Viktor <harbour. 
> 01@syenar.hu> wrote:
>
>> Okay, my only problem is how to create harbour.dll
>> with MinGW (or the GNU-make system in general)?
>
> Simply to remind that GNU-make system is the same for
> Linux/Windows/Mac OS X and many other OSes so every change should be
> done carefully and tested in many different environments.
>
> I don't know what is exactly your goal but I'd leave GNU make system
> as it is since it's main goal is portability not host OS "tight"
> integration.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Tue Aug  5 07:00:50 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Aug  5 07:00:55 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <CA025027-9F40-48D7-8BCF-0777B8C7C49B@syenar.hu>
References: <FCD89683-4C37-474C-BA92-250DA9A9D5D9@syenar.hu>
	<20080805005917.GB23967@34-mo7-2.acn.waw.pl>
	<FBA523BF-2BA0-4665-95E6-45128CC51D98@syenar.hu>
	<9257026e0808050135r7083e320t58d0743cea7f2e17@mail.gmail.com>
	<CA025027-9F40-48D7-8BCF-0777B8C7C49B@syenar.hu>
Message-ID: <9257026e0808050400j3ae0ab8bu617b88f0a2846f4a@mail.gmail.com>

On Tue, Aug 5, 2008 at 12:53 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> I have no plans to touch the GNU-make system
> in any ways this close to the release, I just
> simply have no idea how to do that currently,
> that's why I was asking.
>
> [ I suspect it's not supported. ]

I can't explain the details.

What I know is that if I want a dynamic lib I only need to pass the
object file to hb-mkslib and the result is a dynamic lib.

And if I want to get small exe I only need to change from -static to
-shared and the apps are "linked" against harbour.[so|dll|dylib]

best regards,
Lorenzo
From harbour.01 at syenar.hu  Tue Aug  5 07:12:15 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug  5 07:12:22 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <9257026e0808050400j3ae0ab8bu617b88f0a2846f4a@mail.gmail.com>
References: <FCD89683-4C37-474C-BA92-250DA9A9D5D9@syenar.hu>
	<20080805005917.GB23967@34-mo7-2.acn.waw.pl>
	<FBA523BF-2BA0-4665-95E6-45128CC51D98@syenar.hu>
	<9257026e0808050135r7083e320t58d0743cea7f2e17@mail.gmail.com>
	<CA025027-9F40-48D7-8BCF-0777B8C7C49B@syenar.hu>
	<9257026e0808050400j3ae0ab8bu617b88f0a2846f4a@mail.gmail.com>
Message-ID: <146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>

>>
Hi Lorenzo,

>> [ I suspect it's not supported. ]
>
> I can't explain the details.
>
> What I know is that if I want a dynamic lib I only need to pass the
> object file to hb-mkslib and the result is a dynamic lib.
>
> And if I want to get small exe I only need to change from -static to
> -shared and the apps are "linked" against harbour.[so|dll|dylib]

I'd need this for Windows compilers, in this case MinGW.

Maybe this works in the MinGW shell environment,
but I tried it only once so far (in non-Harbour context),
so I'm highly unfamiliar with it. Even if hb-mkslib worked
in MinGW, how could I generate something like harbour.dll,
when we don't have a libharbour.a to begin with?

Overall, I think I'm leaving this topic for now, and we
will revisit it in a next revision. It's not a critical
issue after all.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Aug  5 07:15:40 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug  5 07:15:46 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <FBA523BF-2BA0-4665-95E6-45128CC51D98@syenar.hu>
References: <FCD89683-4C37-474C-BA92-250DA9A9D5D9@syenar.hu>
	<20080805005917.GB23967@34-mo7-2.acn.waw.pl>
	<FBA523BF-2BA0-4665-95E6-45128CC51D98@syenar.hu>
Message-ID: <20080805111540.GA26636@34-mo7-2.acn.waw.pl>

On Tue, 05 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Okay, my only problem is how to create harbour.dll
> with MinGW (or the GNU-make system in general)?

Just simply run make_gnu.sh from MSYS. It will create
harbour shared library automatically.

> [ BTW, maybe hbrtl.dll (or something else) would be
> a better name for harbour.dll, as it's current name
> implies that it's a dependency of harbour.exe. ]

For me it's very good name because it cleanly shows
what to look for when some applications shows that
harbour[.dll,.so,.dyn,...] is missing. hbrtl will
look to cryptic for final users.
BTW you can create harbour compiler binaries linked
with harbour.dll if you want to reduce the size.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Aug  5 07:23:52 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug  5 07:23:56 2008
Subject: [Harbour] 2008-08-05 13:22 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f6ed$Blat.v2.6.2$bd82802c$2038a634ae30@127.0.0.1>

2008-08-05 13:22 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/whatsnew.txt
     + Added hbdot -> hbrun info.

   * utils/Makefile
     ! Missing change to previous commit.

   * contrib/examples/pp/bld_b32.bat
   * contrib/examples/guestbk/bld_b32.bat
   * contrib/examples/pe/bld_b32.bat
   * contrib/examples/dbu/bld_b32.bat
   * contrib/examples/hscript/bld_b32.bat
   * utils/hbdoc/bld_b32.bat
   * utils/hbmake/bld_b32.bat
     % -e switch removed from bcc32 command line.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Tue Aug  5 07:24:56 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug  5 07:25:03 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>
References: <FCD89683-4C37-474C-BA92-250DA9A9D5D9@syenar.hu>
	<20080805005917.GB23967@34-mo7-2.acn.waw.pl>
	<FBA523BF-2BA0-4665-95E6-45128CC51D98@syenar.hu>
	<9257026e0808050135r7083e320t58d0743cea7f2e17@mail.gmail.com>
	<CA025027-9F40-48D7-8BCF-0777B8C7C49B@syenar.hu>
	<9257026e0808050400j3ae0ab8bu617b88f0a2846f4a@mail.gmail.com>
	<146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>
Message-ID: <20080805112456.GB26636@34-mo7-2.acn.waw.pl>

On Tue, 05 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Maybe this works in the MinGW shell environment,
> but I tried it only once so far (in non-Harbour context),
> so I'm highly unfamiliar with it.

Just click on MSys icon and then make:

   cd <harbour_dir>
   ./make_gnu.sh

> Even if hb-mkslib worked
> in MinGW, how could I generate something like harbour.dll,
> when we don't have a libharbour.a to begin with?

>From existing *.a and *.o files.
>From mk-mkslib.sh:

   simple script to build shared libraries from static ones and
   object files

> Overall, I think I'm leaving this topic for now, and we
> will revisit it in a next revision. It's not a critical
> issue after all.

Anyhow it will be good to check if MinGW is MSVC compatible.
If not then I do not see any reason to force MinGW and GNUC
users to use MSVC for creating official harbour.dll.
Please remember that GCC based binaries are most portable
between systems (in fact they can be created on all supported
by us systems) with support for cross builds and MSVC is compiler
which can be used only for very limited number of platforms.
If sth should be considered as official windows shared library
format then IMHO it should be compatible with MinGW harbour.dll.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Aug  5 07:46:52 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug  5 07:53:59 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <20080805112456.GB26636@34-mo7-2.acn.waw.pl>
References: <FCD89683-4C37-474C-BA92-250DA9A9D5D9@syenar.hu>
	<20080805005917.GB23967@34-mo7-2.acn.waw.pl>
	<FBA523BF-2BA0-4665-95E6-45128CC51D98@syenar.hu>
	<9257026e0808050135r7083e320t58d0743cea7f2e17@mail.gmail.com>
	<CA025027-9F40-48D7-8BCF-0777B8C7C49B@syenar.hu>
	<9257026e0808050400j3ae0ab8bu617b88f0a2846f4a@mail.gmail.com>
	<146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>
	<20080805112456.GB26636@34-mo7-2.acn.waw.pl>
Message-ID: <72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>

>> Maybe this works in the MinGW shell environment,
>> but I tried it only once so far (in non-Harbour context),
>> so I'm highly unfamiliar with it.
>
> Just click on MSys icon and then make:
>
>   cd <harbour_dir>
>   ./make_gnu.sh

Okay it's now running. Pretty smoothly actually.

[ Only make_gnu.sh clean took quite a while to finish,
caused by some 'find' command on my whole harbour dir.
I wonder what is the purpose of this. ]

>> Overall, I think I'm leaving this topic for now, and we
>> will revisit it in a next revision. It's not a critical
>> issue after all.
>
> Anyhow it will be good to check if MinGW is MSVC compatible.
> If not then I do not see any reason to force MinGW and GNUC
> users to use MSVC for creating official harbour.dll.
> Please remember that GCC based binaries are most portable
> between systems (in fact they can be created on all supported
> by us systems) with support for cross builds and MSVC is compiler
> which can be used only for very limited number of platforms.
> If sth should be considered as official windows shared library
> format then IMHO it should be compatible with MinGW harbour.dll.

Surely, it would be better. I believe all compilers should
be able to produce a compatible .dll.

Okay, I've now built Harbour using make_gnu.sh, I don't know
how a shared lib looks like, but there are surely not any
harbour*.dll created. hb-mkslib.sh needs parameters, but
I don't know what exactly?

How should I continue now?

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Aug  5 08:24:25 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug  5 08:24:32 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
References: <FCD89683-4C37-474C-BA92-250DA9A9D5D9@syenar.hu>
	<20080805005917.GB23967@34-mo7-2.acn.waw.pl>
	<FBA523BF-2BA0-4665-95E6-45128CC51D98@syenar.hu>
	<9257026e0808050135r7083e320t58d0743cea7f2e17@mail.gmail.com>
	<CA025027-9F40-48D7-8BCF-0777B8C7C49B@syenar.hu>
	<9257026e0808050400j3ae0ab8bu617b88f0a2846f4a@mail.gmail.com>
	<146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>
	<20080805112456.GB26636@34-mo7-2.acn.waw.pl>
	<72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
Message-ID: <20080805122425.GA27062@34-mo7-2.acn.waw.pl>

On Tue, 05 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Surely, it would be better. I believe all compilers should
> be able to produce a compatible .dll.
> Okay, I've now built Harbour using make_gnu.sh, I don't know
> how a shared lib looks like, but there are surely not any
> harbour*.dll created.

My fault, I forgot that harbour shared library is created in install
phase in HB_LIB_INSTALL directory. By default it's /usr/local/harbour/lib
So please make now:
   ./make_gnu.sh install

> hb-mkslib.sh needs parameters, but I don't know what exactly?

If you want to create harbour.dll manually then make:

hb-mkslib.sh harbour.dll libhbvm.a libhbrtl.a libhbcommon.a <otherhblibs,...>

but it's not necessary. ./make_gnu.sh install will be enough.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Aug  5 08:42:16 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug  5 08:42:23 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <20080805122425.GA27062@34-mo7-2.acn.waw.pl>
References: <FCD89683-4C37-474C-BA92-250DA9A9D5D9@syenar.hu>
	<20080805005917.GB23967@34-mo7-2.acn.waw.pl>
	<FBA523BF-2BA0-4665-95E6-45128CC51D98@syenar.hu>
	<9257026e0808050135r7083e320t58d0743cea7f2e17@mail.gmail.com>
	<CA025027-9F40-48D7-8BCF-0777B8C7C49B@syenar.hu>
	<9257026e0808050400j3ae0ab8bu617b88f0a2846f4a@mail.gmail.com>
	<146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>
	<20080805112456.GB26636@34-mo7-2.acn.waw.pl>
	<72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
	<20080805122425.GA27062@34-mo7-2.acn.waw.pl>
Message-ID: <60B93705-2765-46BE-8BDE-A2EC24A1819E@syenar.hu>

>>
Hi Przemek,

>> Surely, it would be better. I believe all compilers should
>> be able to produce a compatible .dll.
>> Okay, I've now built Harbour using make_gnu.sh, I don't know
>> how a shared lib looks like, but there are surely not any
>> harbour*.dll created.
>
> My fault, I forgot that harbour shared library is created in install
> phase in HB_LIB_INSTALL directory. By default it's /usr/local/ 
> harbour/lib
> So please make now:
>   ./make_gnu.sh install

Okay, now tried with 'install', and it does install everything,
but I don't see it installing any .dlls still. The end of the
process looks like this:

---
...
./bin/postinst.sh
C:\work\harbour\harbour\bin\postinst.sh: ../bin/hb-func.sh: No such  
file or directory
make: *** [install] Error 1
---

>> hb-mkslib.sh needs parameters, but I don't know what exactly?
>
> If you want to create harbour.dll manually then make:
>
> hb-mkslib.sh harbour.dll libhbvm.a libhbrtl.a libhbcommon.a  
> <otherhblibs,...>
>
> but it's not necessary. ./make_gnu.sh install will be enough.

I'd like to get it automatically :)

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Aug  5 09:09:39 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug  5 09:09:46 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <60B93705-2765-46BE-8BDE-A2EC24A1819E@syenar.hu>
References: <20080805005917.GB23967@34-mo7-2.acn.waw.pl>
	<FBA523BF-2BA0-4665-95E6-45128CC51D98@syenar.hu>
	<9257026e0808050135r7083e320t58d0743cea7f2e17@mail.gmail.com>
	<CA025027-9F40-48D7-8BCF-0777B8C7C49B@syenar.hu>
	<9257026e0808050400j3ae0ab8bu617b88f0a2846f4a@mail.gmail.com>
	<146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>
	<20080805112456.GB26636@34-mo7-2.acn.waw.pl>
	<72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
	<20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<60B93705-2765-46BE-8BDE-A2EC24A1819E@syenar.hu>
Message-ID: <20080805130939.GA27446@34-mo7-2.acn.waw.pl>

On Tue, 05 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> ./bin/postinst.sh
> C:\work\harbour\harbour\bin\postinst.sh: ../bin/hb-func.sh: No such  
> file or directory
> make: *** [install] Error 1

There is problem with dirname in you msys environment.
Looks that for ./bin/postinst.sh:
   dirname "$0"
returns "." instead of "./bin"
So far no one reported it. Please change in ./bin/postinst.sh[32]
    hb_root=".."
to:
    hb_root="."
It will help as temporary hack anyhow it will be good to find the
exact reason and fix the problem.
Probably you are using backslashes in your startup harbour directory
and it confuse dirname. I'll try to create some workaround for it.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Aug  5 09:15:11 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug  5 09:15:20 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <20080805122425.GA27062@34-mo7-2.acn.waw.pl>
References: <FCD89683-4C37-474C-BA92-250DA9A9D5D9@syenar.hu>
	<20080805005917.GB23967@34-mo7-2.acn.waw.pl>
	<FBA523BF-2BA0-4665-95E6-45128CC51D98@syenar.hu>
	<9257026e0808050135r7083e320t58d0743cea7f2e17@mail.gmail.com>
	<CA025027-9F40-48D7-8BCF-0777B8C7C49B@syenar.hu>
	<9257026e0808050400j3ae0ab8bu617b88f0a2846f4a@mail.gmail.com>
	<146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>
	<20080805112456.GB26636@34-mo7-2.acn.waw.pl>
	<72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
	<20080805122425.GA27062@34-mo7-2.acn.waw.pl>
Message-ID: <CC699DA7-0B42-42EA-82D9-028816DF3C92@syenar.hu>

> hb-mkslib.sh harbour.dll libhbvm.a libhbrtl.a libhbcommon.a  
> <otherhblibs,...>
>
> but it's not necessary. ./make_gnu.sh install will be enough.

I've manually built harbour.dll using the above method,
and I can now confirm that MSVS2005cpp, MSVS2005,
MSVS2008cpp, MSVS2008 work with the MinGW built harbour.dll.
I've tested with hbtest-dll.exe from each build.

[ It didn't work with harbour-b32.dll of course, as this
one has a leading underscore on each exported symbol
(maybe a different calling convention too). I wonder
if using __stdcall [__export] with BCC32 couldn't solve
this problem. I tried to change HB_EXPORT to __export,
but so far it failed with different error messages. ]

I couldn't try the other was round, as I don't know
how to build hbtest.exe with harbour.dll dynamic lib
using MinGW. But I suspect it would work also.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug  5 09:17:21 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug  5 09:17:30 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <20080805130939.GA27446@34-mo7-2.acn.waw.pl>
References: <20080805005917.GB23967@34-mo7-2.acn.waw.pl>
	<FBA523BF-2BA0-4665-95E6-45128CC51D98@syenar.hu>
	<9257026e0808050135r7083e320t58d0743cea7f2e17@mail.gmail.com>
	<CA025027-9F40-48D7-8BCF-0777B8C7C49B@syenar.hu>
	<9257026e0808050400j3ae0ab8bu617b88f0a2846f4a@mail.gmail.com>
	<146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>
	<20080805112456.GB26636@34-mo7-2.acn.waw.pl>
	<72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
	<20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<60B93705-2765-46BE-8BDE-A2EC24A1819E@syenar.hu>
	<20080805130939.GA27446@34-mo7-2.acn.waw.pl>
Message-ID: <96D47C84-1A3E-40CE-9095-FB763254FA95@syenar.hu>

Hi Przemek,

This is my starter batch file, if it helps:
--
@echo off

set PATH=C:\devl\MinGW-412\bin\;C:\devl\msys\1.0\bin\;%PATH%

set HB_INC_APOLLO=C:/devl/Apollo/include
set HB_INC_CURL=C:/devl/curl/include
set HB_INC_FIREBIRD=C:/devl/Firebird/include
set HB_INC_FREEIMAGE=C:/devl/FreeImage/Dist
set HB_INC_GD=C:/devl/gd/include
set HB_INC_LIBHARU=C:/devl/libharu/include
set HB_INC_MYSQL=C:/devl/mysql/include
set HB_INC_PGSQL=C:/devl/pgsql/include
set HB_INC_ADS=C:/devl/ADS900/ACESDK

set HB_INSTALL_PREFIX=C:/devl/hb_gcc
set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%/bin
set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%/lib
set HB_INC_INSTALL=%HB_INSTALL_PREFIX%/include
set HB_ARCHITECTURE=w32
set HB_COMPILER=mingw32
set PRG_USR=-l
set C_USR=-march=pentiumpro -O4 -fomit-frame-pointer -ffast-math
set L_USR=-s

sh make_gnu.sh %*
--

Brgds,
Viktor

On 2008.08.05., at 15:09, Przemyslaw Czerpak wrote:

> On Tue, 05 Aug 2008, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>> ./bin/postinst.sh
>> C:\work\harbour\harbour\bin\postinst.sh: ../bin/hb-func.sh: No such
>> file or directory
>> make: *** [install] Error 1
>
> There is problem with dirname in you msys environment.
> Looks that for ./bin/postinst.sh:
>   dirname "$0"
> returns "." instead of "./bin"
> So far no one reported it. Please change in ./bin/postinst.sh[32]
>    hb_root=".."
> to:
>    hb_root="."
> It will help as temporary hack anyhow it will be good to find the
> exact reason and fix the problem.
> Probably you are using backslashes in your startup harbour directory
> and it confuse dirname. I'll try to create some workaround for it.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Tue Aug  5 09:23:54 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug  5 09:23:59 2008
Subject: [Harbour] 2008-08-05 15:23 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808051323.m75DNssK031986@31-mo5-4.acn.waw.pl>

2008-08-05 15:23 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/postinst.sh
    * added workaround for wrongly detected harbour root path in some
      environments

  * harbour/source/vm/extrap.c
    * minor modification

best regards
Przemek
From druzus at acn.waw.pl  Tue Aug  5 09:41:36 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug  5 09:41:41 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <CC699DA7-0B42-42EA-82D9-028816DF3C92@syenar.hu>
References: <20080805005917.GB23967@34-mo7-2.acn.waw.pl>
	<FBA523BF-2BA0-4665-95E6-45128CC51D98@syenar.hu>
	<9257026e0808050135r7083e320t58d0743cea7f2e17@mail.gmail.com>
	<CA025027-9F40-48D7-8BCF-0777B8C7C49B@syenar.hu>
	<9257026e0808050400j3ae0ab8bu617b88f0a2846f4a@mail.gmail.com>
	<146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>
	<20080805112456.GB26636@34-mo7-2.acn.waw.pl>
	<72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
	<20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<CC699DA7-0B42-42EA-82D9-028816DF3C92@syenar.hu>
Message-ID: <20080805134136.GA31977@34-mo7-2.acn.waw.pl>

On Tue, 05 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> I've manually built harbour.dll using the above method,

Try it now. I've just committed workaround.
Seeing your other message I think that it can be caused by C:
drive specification. AFAIR MinGW support alternative /c/
*nix like path convention. Anyhow now it should work.

> and I can now confirm that MSVS2005cpp, MSVS2005,
> MSVS2008cpp, MSVS2008 work with the MinGW built harbour.dll.
> I've tested with hbtest-dll.exe from each build.

Very nice.

> I couldn't try the other was round, as I don't know
> how to build hbtest.exe with harbour.dll dynamic lib
> using MinGW. But I suspect it would work also.

Now the postinst.sh should be executed and it will create
hb* scripts.
So simply make:
   cd utils/hbtest
   for i in *.prg; do hbcmp -n -w -es2 $i; done
   hbcc -c rt_miscc.c
   hblnk *.o -gtstd -o hbtest -shared

Then replace harbour.dll created by MinGW with the one from MSVC
And relink the program:
   hblnk *.o -gtstd -o hbtest -shared
HBTEST should show different compiler note for MSVC...

or chose sth more simple:
   cd utils/hbrun
   hbmk -n -w -es2 hbrun -shared

then run it and execute:
   ? hb_compiler()

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Aug  5 10:11:34 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug  5 10:11:44 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <20080805134136.GA31977@34-mo7-2.acn.waw.pl>
References: <20080805005917.GB23967@34-mo7-2.acn.waw.pl>
	<FBA523BF-2BA0-4665-95E6-45128CC51D98@syenar.hu>
	<9257026e0808050135r7083e320t58d0743cea7f2e17@mail.gmail.com>
	<CA025027-9F40-48D7-8BCF-0777B8C7C49B@syenar.hu>
	<9257026e0808050400j3ae0ab8bu617b88f0a2846f4a@mail.gmail.com>
	<146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>
	<20080805112456.GB26636@34-mo7-2.acn.waw.pl>
	<72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
	<20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<CC699DA7-0B42-42EA-82D9-028816DF3C92@syenar.hu>
	<20080805134136.GA31977@34-mo7-2.acn.waw.pl>
Message-ID: <87B16650-6D32-4D42-907A-A5CA59F29B76@syenar.hu>

> Try it now. I've just committed workaround.
> Seeing your other message I think that it can be caused by C:
> drive specification. AFAIR MinGW support alternative /c/
> *nix like path convention. Anyhow now it should work.

Okay. I did. There were only these sed command line problems:
--
./bin/postinst.sh
Generating C:/devl/hb_gcc/bin/hb-build...
Creating links...
c:\devl\MinGW-412\bin\sed.exe: -e expression #1, char 1: unknown  
command: `C'
c:\devl\MinGW-412\bin\sed.exe: -e expression #1, char 1: unknown  
command: `C'
c:\devl\MinGW-412\bin\sed.exe: -e expression #1, char 1: unknown  
command: `C'
Making harbour.dll...
make[1]: Entering directory `c:/work/harbour/harbour/source/vm'
gcc -I. -I../../include -mno-cygwin -Wall -W -march=pentiumpro -O4 - 
fomit-frame-pointer -ffast-math -c fm.c -ofm.o
make[1]: Leaving directory `c:/work/harbour/harbour/source/vm'
--

Difficult to tell how severe this is, but I now have harbour.dll
(although in 'lib', not in 'bin' as for the GNU-make files, NOTE:
we will need to fix that), and hb scripts properly installed. So it
looks good.

GNU sed in question is version 4.1.5 BTW.

>> I couldn't try the other was round, as I don't know
>> how to build hbtest.exe with harbour.dll dynamic lib
>> using MinGW. But I suspect it would work also.
>
> Now the postinst.sh should be executed and it will create
> hb* scripts.
> So simply make:
>   cd utils/hbtest
>   for i in *.prg; do hbcmp -n -w -es2 $i; done
>   hbcc -c rt_miscc.c
>   hblnk *.o -gtstd -o hbtest -shared
>
> Then replace harbour.dll created by MinGW with the one from MSVC
> And relink the program:
>   hblnk *.o -gtstd -o hbtest -shared
> HBTEST should show different compiler note for MSVC...
>
> or chose sth more simple:
>   cd utils/hbrun
>   hbmk -n -w -es2 hbrun -shared
>
> then run it and execute:
>   ? hb_compiler()

I've choosen the easiest, copied hbrun.prg to my bin install dir,
run 'hbmk -n -w -es2 hbrun -shared', and I got hbrun.exe. It runs
fine, after I copy harbour.dll from lib to bin.

If I try with MSVS .dll, I'm getting HB_FUN_HB_COMPILEBUFF
because GNU-make .dlls don't contain some libs, GNU-make made
.dlls do. [ BTW, isn't it a violation of our license to include
the compiler code in a .dll? ]

Anyway, after I remove those missing HB_COMPILE*() functions
from hbrun and recompile, I'm getting this: "The procedure
entry point WinMain@16 couldn't be located in the dynamic
link library harbour.dll".

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug  5 10:19:14 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug  5 10:19:20 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <20080805134136.GA31977@34-mo7-2.acn.waw.pl>
References: <20080805005917.GB23967@34-mo7-2.acn.waw.pl>
	<FBA523BF-2BA0-4665-95E6-45128CC51D98@syenar.hu>
	<9257026e0808050135r7083e320t58d0743cea7f2e17@mail.gmail.com>
	<CA025027-9F40-48D7-8BCF-0777B8C7C49B@syenar.hu>
	<9257026e0808050400j3ae0ab8bu617b88f0a2846f4a@mail.gmail.com>
	<146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>
	<20080805112456.GB26636@34-mo7-2.acn.waw.pl>
	<72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
	<20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<CC699DA7-0B42-42EA-82D9-028816DF3C92@syenar.hu>
	<20080805134136.GA31977@34-mo7-2.acn.waw.pl>
Message-ID: <9453A1C7-9195-46BC-B070-095F0D92601A@syenar.hu>

Hi Przemek and all,

So, to give a short list of Windows .dll problems:

- 'sed' command line error.
- harbour*.dll naming in non-GNU make system.
- harbour.dll install location doesn't match in GNU ('lib') and non- 
GNU ('bin') builds.
- harbour.dll content doesn't match in GNU and non-GNU (missing  
hbcplr) builds.
- harbour.dll generated with BCC isn't compatible with MSVS and MinGW  
ones (due to added leading underscore in BCC).
- Minor: Generation of harbour.dll using the GNU-make system under  
Windows,
   needs full msys shell support. Maybe it would be better to include  
this
   process in the GNU-make system itself (if possible at all).
- MinGW generated shared-lib .exe is not compatible with MSVS generated
   harbour.dll. (missing 'WinMain@16' entry)

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug  5 10:31:29 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug  5 10:31:33 2008
Subject: [Harbour] 2008-08-05 16:29 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f707$Blat.v2.6.2$f31c8b28$17449e9a3428@127.0.0.1>

2008-08-05 16:29 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/examples/pp/bld_b32.bat
   * contrib/examples/pp/bld_vc.bat
   * contrib/examples/guestbk/bld_b32.bat
   * contrib/examples/guestbk/bld_vc.bat
   * contrib/examples/pe/bld_b32.bat
   * contrib/examples/pe/bld_vc.bat
   * contrib/examples/dbu/bld_b32.bat
   * contrib/examples/dbu/bld_vc.bat
   * contrib/examples/hscript/bld_b32.bat
   * contrib/examples/hscript/bld_vc.bat
   * utils/hbdoc/bld_vc.bat
   * utils/hbdoc/bld_b32.bat
   * utils/hbmake/bld_vc.bat
   * utils/hbmake/bld_b32.bat
     + Cleaning .c and .obj files after the build process.
     ! This is needed to not interfere with the GNU-make system, 
       which would pickup and try to compiler those temp .c files.
--
Brgds,
Viktor

From guy.roussin at teledetection.fr  Tue Aug  5 10:52:30 2008
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Tue Aug  5 10:52:36 2008
Subject: [Harbour] Including makefile in prg
Message-ID: <4898692E.4060007@teledetection.fr>

Hi,

I wrote only little apps (scripts) with harbour.
Now i put these lines on top of my prg :

-------------
#ifdef SH_COMPILATION /* sh compilation :
hbmk -n -p -gtcgi -gtstd -gtpca -gttrm -gtxwc -L/usr/lib/mysql -lmysqlclient $0
nameprg="$0"
shift
./${nameprg%.*} "$*"
exit
*/
#endif
--------------

So i can compile and exec my apps with :
./my.prg myparameters

This is very usefull when i can't put #!/usr/bin/hbrun because all libraries
are not linked with hbrun.

Perhaps there is a more beautifull or generic way to do this ?



Guy
From druzus at acn.waw.pl  Tue Aug  5 11:03:51 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug  5 11:04:01 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <9453A1C7-9195-46BC-B070-095F0D92601A@syenar.hu>
References: <9257026e0808050135r7083e320t58d0743cea7f2e17@mail.gmail.com>
	<CA025027-9F40-48D7-8BCF-0777B8C7C49B@syenar.hu>
	<9257026e0808050400j3ae0ab8bu617b88f0a2846f4a@mail.gmail.com>
	<146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>
	<20080805112456.GB26636@34-mo7-2.acn.waw.pl>
	<72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
	<20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<CC699DA7-0B42-42EA-82D9-028816DF3C92@syenar.hu>
	<20080805134136.GA31977@34-mo7-2.acn.waw.pl>
	<9453A1C7-9195-46BC-B070-095F0D92601A@syenar.hu>
Message-ID: <20080805150351.GA5261@34-mo7-2.acn.waw.pl>

On Tue, 05 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> So, to give a short list of Windows .dll problems:
> - 'sed' command line error.

This is probably caused by the C: prefix in your paths.
Probably if you use /c/ instead then this message will
disappear. I'll try to located it and add some workarounds.

> - harbour*.dll naming in non-GNU make system.
> - harbour.dll install location doesn't match in GNU ('lib') and non- 
> GNU ('bin') builds.

I know about it but I left for user decisions where to put it.
Anyhow if other non GNU Windows make systems store harbour*.dll
in HB_BIN_INSTALL then I can update postinst.sh to make the same.

> - harbour.dll content doesn't match in GNU and non-GNU (missing  
> hbcplr) builds.

Yes but probably we should remove hbcplr from commercial builds.
There is still open question about rewriting some part of compiler
which uses pure GPL license with different license similar to Harbour
exception but which will have additional condition: any binaries created
from modified version of this code (directly on indirectly by some
macros) has to be distributed with modified source code and build
scripts so each user should be able to replicate exactly the same
version of hbcplr library.
But this is other subject. I'll exclude hbcplr from harbour shared
libraries before final release.

> - harbour.dll generated with BCC isn't compatible with MSVS and MinGW  
> ones (due to added leading underscore in BCC).

Yes and I do not know if it's possible to make MSVC compatible library
using BCC.

> - Minor: Generation of harbour.dll using the GNU-make system under
> Windows, needs full msys shell support. Maybe it would be better to include
> this process in the GNU-make system itself (if possible at all).

It rather needs bash only and some GNU/MinGW tools. It can be resolved
when we add alternative version of hb* tools written in .c. Now they
are BASH scripts only.

> - MinGW generated shared-lib .exe is not compatible with MSVS generated
>   harbour.dll. (missing 'WinMain@16' entry)

Can you check how this symbol looks in the final MSVC dll?
It probably have some very similar name. It can be different
in pure C and C++ builds.

Please also try to make console application by adding to hbmk -lmainstd
switch, f.e.:
   hbmk -n -w -es2 -lmainstd -gtstd hbrun

best regards,
Przemek
From sscc at mweb.co.za  Tue Aug  5 11:03:53 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Aug  5 11:04:03 2008
Subject: [Harbour] Re: [xHarbour-developers] TortoiseCVS
In-Reply-To: <15c075f70808050756u9a9cf73m74bdff2c6dc302c1@mail.gmail.com>
References: <4898673B.5080504@mweb.co.za>
	<15c075f70808050756u9a9cf73m74bdff2c6dc302c1@mail.gmail.com>
Message-ID: <48986BD9.7090603@mweb.co.za>

Hi Patrick

> I use Tortoise 1.8.31. <http://1.8.31.> What new version did you install?

1.10.7, although little good it has done me so far. Are you able to
Update from the server? Anonymous access seems ok.

> PS. Harbour uses SVN now and it works much faster than CVS. Are we also 
> interested in converting from SCV to SVN?

Yes, it is much faster. I had nothing to do with the conversion but
the it seemed quite a lot of work.

Regards
Alex

From druzus at acn.waw.pl  Tue Aug  5 11:25:34 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug  5 11:25:39 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <20080805150351.GA5261@34-mo7-2.acn.waw.pl>
References: <CA025027-9F40-48D7-8BCF-0777B8C7C49B@syenar.hu>
	<9257026e0808050400j3ae0ab8bu617b88f0a2846f4a@mail.gmail.com>
	<146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>
	<20080805112456.GB26636@34-mo7-2.acn.waw.pl>
	<72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
	<20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<CC699DA7-0B42-42EA-82D9-028816DF3C92@syenar.hu>
	<20080805134136.GA31977@34-mo7-2.acn.waw.pl>
	<9453A1C7-9195-46BC-B070-095F0D92601A@syenar.hu>
	<20080805150351.GA5261@34-mo7-2.acn.waw.pl>
Message-ID: <20080805152534.GA9234@34-mo7-2.acn.waw.pl>

On Tue, 05 Aug 2008, Przemyslaw Czerpak wrote:

Hi Viktor,
> > So, to give a short list of Windows .dll problems:
> > - 'sed' command line error.
> This is probably caused by the C: prefix in your paths.
> Probably if you use /c/ instead then this message will
> disappear. I'll try to located it and add some workarounds.

Can you make a test and change in bin/hb-fun.sh[48-50]:

 MAJOR=`sed -e '/HB_VER_MAJOR/    !d' -e 's/[^0-9]*\([^ ]*\).*/\1/g' "${FVER}"`
 MINOR=`sed -e '/HB_VER_MINOR/    !d' -e 's/[^0-9]*\([^ ]*\).*/\1/g' "${FVER}"`
 REVIS=`sed -e '/HB_VER_REVISION/ !d' -e 's/[^0-9]*\([^ ]*\).*/\1/g' "${FVER}"`

to:

 MAJOR=`sed -e '/HB_VER_MAJOR/    !d' -e 's/[^0-9]*\([^ ]*\).*/\1/g'<"${FVER}"`
 MINOR=`sed -e '/HB_VER_MINOR/    !d' -e 's/[^0-9]*\([^ ]*\).*/\1/g'<"${FVER}"`
 REVIS=`sed -e '/HB_VER_REVISION/ !d' -e 's/[^0-9]*\([^ ]*\).*/\1/g'<"${FVER}"`

Just add '<' before "${FVER}"
In such version "${FVER}" is not passed to sed as parameter but file body
is redirected to sed stdin.
Does it eliminate the problem?
If not then please also test the version where all '/' are replace by '!':

 MAJOR=`sed -e '!HB_VER_MAJOR!    !d' -e 's![^0-9]*\([^ ]*\).*!\1!g' "${FVER}"`
 MINOR=`sed -e '!HB_VER_MINOR!    !d' -e 's![^0-9]*\([^ ]*\).*!\1!g' "${FVER}"`
 REVIS=`sed -e '!HB_VER_REVISION! !d' -e 's![^0-9]*\([^ ]*\).*!\1!g' "${FVER}"`


best regards,
Przemek
From mbelgrano at deltain.it  Tue Aug  5 11:28:17 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Aug  5 11:28:31 2008
Subject: [Harbour] make system GNU and non-GNU
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEBB@SRV02.deltain.net>

non-GNU make system seem different, is aivable documentation for etiher?
Is possible write a make system in prg compatible with ether hb-func.sh
and bld.bat?
Can somebody give me a starting point?
Massimo Belgrano

From harbour.01 at syenar.hu  Tue Aug  5 11:53:47 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug  5 11:53:55 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <20080805150351.GA5261@34-mo7-2.acn.waw.pl>
References: <9257026e0808050135r7083e320t58d0743cea7f2e17@mail.gmail.com>
	<CA025027-9F40-48D7-8BCF-0777B8C7C49B@syenar.hu>
	<9257026e0808050400j3ae0ab8bu617b88f0a2846f4a@mail.gmail.com>
	<146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>
	<20080805112456.GB26636@34-mo7-2.acn.waw.pl>
	<72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
	<20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<CC699DA7-0B42-42EA-82D9-028816DF3C92@syenar.hu>
	<20080805134136.GA31977@34-mo7-2.acn.waw.pl>
	<9453A1C7-9195-46BC-B070-095F0D92601A@syenar.hu>
	<20080805150351.GA5261@34-mo7-2.acn.waw.pl>
Message-ID: <412502C4-03BF-4536-B728-7C18913144CA@syenar.hu>

>>
Hi Przemek,

>> So, to give a short list of Windows .dll problems:
>> - 'sed' command line error.
>
> This is probably caused by the C: prefix in your paths.
> Probably if you use /c/ instead then this message will
> disappear. I'll try to located it and add some workarounds.

Thanks, I'll update my environment anyways, better be
friendly with msys.

I've changed C: to /c/ everywhere except the PATH.
[ but it didn't fix the sed problem. ]

>> - harbour*.dll naming in non-GNU make system.
>> - harbour.dll install location doesn't match in GNU ('lib') and non-
>> GNU ('bin') builds.
>
> I know about it but I left for user decisions where to put it.
> Anyhow if other non GNU Windows make systems store harbour*.dll
> in HB_BIN_INSTALL then I can update postinst.sh to make the same.

That would be great. If it's in lib, one has to always fiddle
with either copying it next to the .exe, or to some system dirs,
or to put the lib dir in the path, I personally hate to do any
of these (especially the latter two).

>> - harbour.dll content doesn't match in GNU and non-GNU (missing
>> hbcplr) builds.
>
> Yes but probably we should remove hbcplr from commercial builds.
> There is still open question about rewriting some part of compiler
> which uses pure GPL license with different license similar to Harbour
> exception but which will have additional condition: any binaries  
> created
> from modified version of this code (directly on indirectly by some
> macros) has to be distributed with modified source code and build
> scripts so each user should be able to replicate exactly the same
> version of hbcplr library.
> But this is other subject. I'll exclude hbcplr from harbour shared
> libraries before final release.

Thanks, I think it is the way to go (excluding the compiler stuff
from harbour.dll).

>> - harbour.dll generated with BCC isn't compatible with MSVS and MinGW
>> ones (due to added leading underscore in BCC).
>
> Yes and I do not know if it's possible to make MSVC compatible library
> using BCC.

That would be a huge shame on BCC...

>> - Minor: Generation of harbour.dll using the GNU-make system under
>> Windows, needs full msys shell support. Maybe it would be better to  
>> include
>> this process in the GNU-make system itself (if possible at all).
>
> It rather needs bash only and some GNU/MinGW tools. It can be resolved
> when we add alternative version of hb* tools written in .c. Now they
> are BASH scripts only.

Isn't it a possibility to somehow integrate the .dll creation
process into the GNU-make system? (rather than having a separate
post-script to do it)

It's not a huge problem to use msys to create MinGW builds though
(once you got through the initial gotchas).

>> - MinGW generated shared-lib .exe is not compatible with MSVS  
>> generated
>>  harbour.dll. (missing 'WinMain@16' entry)
>
> Can you check how this symbol looks in the final MSVC dll?
> It probably have some very similar name. It can be different
> in pure C and C++ builds.

Well, there is no "WinMain" at all in harbour-vc.dlls, but
there is one '?DllEntryPoint@@....' in C++, and a
'_DllEntryPoint@12' in C.

> Please also try to make console application by adding to hbmk - 
> lmainstd
> switch, f.e.:
>   hbmk -n -w -es2 -lmainstd -gtstd hbrun

I've changed mainstd to hbmainstd, and it worked altough the
result looked quite strange :), after that I've rebuilt it
with -shared, and it gave a 'compress2' missing entry.

Which pbly indicates that hbzlib is missing from harbour.dll
in non-GNU make.

After this I reduced hbrun.prg to a pure 4 lines long program
displaying hb_compiler() and waiting for a key. Then it told
's_defaultGT', and at this point I'm pretty much lost.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug  5 12:02:09 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug  5 12:02:23 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <20080805152534.GA9234@34-mo7-2.acn.waw.pl>
References: <CA025027-9F40-48D7-8BCF-0777B8C7C49B@syenar.hu>
	<9257026e0808050400j3ae0ab8bu617b88f0a2846f4a@mail.gmail.com>
	<146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>
	<20080805112456.GB26636@34-mo7-2.acn.waw.pl>
	<72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
	<20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<CC699DA7-0B42-42EA-82D9-028816DF3C92@syenar.hu>
	<20080805134136.GA31977@34-mo7-2.acn.waw.pl>
	<9453A1C7-9195-46BC-B070-095F0D92601A@syenar.hu>
	<20080805150351.GA5261@34-mo7-2.acn.waw.pl>
	<20080805152534.GA9234@34-mo7-2.acn.waw.pl>
Message-ID: <1083DF62-5E05-4DD2-A77B-E98A6CC428EA@syenar.hu>

>
Hi Przemek,

> MAJOR=`sed -e '/HB_VER_MAJOR/    !d' -e 's/[^0-9]*\([^ ]*\).*/\1/ 
> g'<"${FVER}"`
> MINOR=`sed -e '/HB_VER_MINOR/    !d' -e 's/[^0-9]*\([^ ]*\).*/\1/ 
> g'<"${FVER}"`
> REVIS=`sed -e '/HB_VER_REVISION/ !d' -e 's/[^0-9]*\([^ ]*\).*/\1/ 
> g'<"${FVER}"`

This didn't change the results.

> MAJOR=`sed -e '!HB_VER_MAJOR!    !d' -e 's![^0-9]*\([^ ]*\).*!\1!g'  
> "${FVER}"`
> MINOR=`sed -e '!HB_VER_MINOR!    !d' -e 's![^0-9]*\([^ ]*\).*!\1!g'  
> "${FVER}"`
> REVIS=`sed -e '!HB_VER_REVISION! !d' -e 's![^0-9]*\([^ ]*\).*!\1!g'  
> "${FVER}"`

With this one it says:
'-e expression #1, char 3: extra characters after command'

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Aug  5 12:05:06 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug  5 12:05:12 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <412502C4-03BF-4536-B728-7C18913144CA@syenar.hu>
References: <9257026e0808050400j3ae0ab8bu617b88f0a2846f4a@mail.gmail.com>
	<146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>
	<20080805112456.GB26636@34-mo7-2.acn.waw.pl>
	<72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
	<20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<CC699DA7-0B42-42EA-82D9-028816DF3C92@syenar.hu>
	<20080805134136.GA31977@34-mo7-2.acn.waw.pl>
	<9453A1C7-9195-46BC-B070-095F0D92601A@syenar.hu>
	<20080805150351.GA5261@34-mo7-2.acn.waw.pl>
	<412502C4-03BF-4536-B728-7C18913144CA@syenar.hu>
Message-ID: <20080805160506.GA17854@34-mo7-2.acn.waw.pl>

On Tue, 05 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Well, there is no "WinMain" at all in harbour-vc.dlls, but
> there is one '?DllEntryPoint@@....' in C++, and a
> '_DllEntryPoint@12' in C.

As workaround I can add WinMain() or main() dynamically in hb* scripts
and add -gui switch for windows users to control the version.

> >Please also try to make console application by adding to hbmk - 
> >lmainstd
> >switch, f.e.:
> >  hbmk -n -w -es2 -lmainstd -gtstd hbrun
> I've changed mainstd to hbmainstd, and it worked altough the
> result looked quite strange :), after that I've rebuilt it
> with -shared, and it gave a 'compress2' missing entry.
> Which pbly indicates that hbzlib is missing from harbour.dll
> in non-GNU make.

It should be added just like hbpcre it it's also missing.

> After this I reduced hbrun.prg to a pure 4 lines long program
> displaying hb_compiler() and waiting for a key. Then it told
> 's_defaultGT', and at this point I'm pretty much lost.

This I'll try to resolve tomorrow. I'll replace it with function
call. I do not know if I will have inet access in the evening.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Aug  5 12:08:19 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug  5 12:08:24 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <1083DF62-5E05-4DD2-A77B-E98A6CC428EA@syenar.hu>
References: <146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>
	<20080805112456.GB26636@34-mo7-2.acn.waw.pl>
	<72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
	<20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<CC699DA7-0B42-42EA-82D9-028816DF3C92@syenar.hu>
	<20080805134136.GA31977@34-mo7-2.acn.waw.pl>
	<9453A1C7-9195-46BC-B070-095F0D92601A@syenar.hu>
	<20080805150351.GA5261@34-mo7-2.acn.waw.pl>
	<20080805152534.GA9234@34-mo7-2.acn.waw.pl>
	<1083DF62-5E05-4DD2-A77B-E98A6CC428EA@syenar.hu>
Message-ID: <20080805160819.GB17854@34-mo7-2.acn.waw.pl>

On Tue, 05 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> >MAJOR=`sed -e '!HB_VER_MAJOR!    !d' -e 's![^0-9]*\([^ ]*\).*!\1!g'  
> >"${FVER}"`
> >MINOR=`sed -e '!HB_VER_MINOR!    !d' -e 's![^0-9]*\([^ ]*\).*!\1!g'  
> >"${FVER}"`
> >REVIS=`sed -e '!HB_VER_REVISION! !d' -e 's![^0-9]*\([^ ]*\).*!\1!g'  
> >"${FVER}"`
> 
> With this one it says:
> '-e expression #1, char 3: extra characters after command'

Please try to use other unique character, f.e.: '@'. I missed that I use !d.
Tomorrow I'll try to setup MinGW/MSYS environment in one of MW-Win machine
in my firm and make some tests too.

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Tue Aug  5 12:26:29 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Aug  5 12:26:33 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <412502C4-03BF-4536-B728-7C18913144CA@syenar.hu>
References: <9257026e0808050135r7083e320t58d0743cea7f2e17@mail.gmail.com>
	<146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>
	<20080805112456.GB26636@34-mo7-2.acn.waw.pl>
	<72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
	<20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<CC699DA7-0B42-42EA-82D9-028816DF3C92@syenar.hu>
	<20080805134136.GA31977@34-mo7-2.acn.waw.pl>
	<9453A1C7-9195-46BC-B070-095F0D92601A@syenar.hu>
	<20080805150351.GA5261@34-mo7-2.acn.waw.pl>
	<412502C4-03BF-4536-B728-7C18913144CA@syenar.hu>
Message-ID: <9257026e0808050926p24f16b6ar37af28edb059bbab@mail.gmail.com>

On Tue, Aug 5, 2008 at 5:53 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> I've changed C: to /c/ everywhere except the PATH.
> [ but it didn't fix the sed problem. ]

The sed you should use is the one inside msys which is in c:\msys\1.0\bin.

Mixing msys and non-msys tools is the main source of problems.
msys is a posix env and it means the c:\bin\harbour.exe is read like
c:binharbour.exe.
If you want the right path you need to enter c:\\bin\\harbour.exe or
better /bin/harbour.exe

best regards,
Lorenzo
From harbour.01 at syenar.hu  Tue Aug  5 12:51:05 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug  5 12:51:13 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <9257026e0808050926p24f16b6ar37af28edb059bbab@mail.gmail.com>
References: <9257026e0808050135r7083e320t58d0743cea7f2e17@mail.gmail.com>
	<146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>
	<20080805112456.GB26636@34-mo7-2.acn.waw.pl>
	<72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
	<20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<CC699DA7-0B42-42EA-82D9-028816DF3C92@syenar.hu>
	<20080805134136.GA31977@34-mo7-2.acn.waw.pl>
	<9453A1C7-9195-46BC-B070-095F0D92601A@syenar.hu>
	<20080805150351.GA5261@34-mo7-2.acn.waw.pl>
	<412502C4-03BF-4536-B728-7C18913144CA@syenar.hu>
	<9257026e0808050926p24f16b6ar37af28edb059bbab@mail.gmail.com>
Message-ID: <0FCAE5D6-F1CA-48DC-B02A-97FDBFA68598@syenar.hu>

Hi Lorenzo,

>> I've changed C: to /c/ everywhere except the PATH.
>> [ but it didn't fix the sed problem. ]
>
> The sed you should use is the one inside msys which is in c:\msys 
> \1.0\bin.
>
> Mixing msys and non-msys tools is the main source of problems.
> msys is a posix env and it means the c:\bin\harbour.exe is read like
> c:binharbour.exe.
> If you want the right path you need to enter c:\\bin\\harbour.exe or
> better /bin/harbour.exe

This is what I use, at least almost, since I don't know
of any place where I should specify the location of harbour.exe,
the dir specs I'm using are fully /c/bin/... formatted (can't
use /bin, not wanting to trash in the root).

I have tried to reverse my PATH to first include msys, and
mingw afterwards. This blew the whole build process, creating
an infinite loop, an unstoppable chain of sh.exe crashes
and launches, and an unusable system, with no way to pull up
Task Manager. I managed to kill make/sh by issuing a pskill
for both at the same time (killing about 1500 instances of them).
(so don't anybody try this at home.)

Finally I simply copied over sed.exe from msys to mingw dir,
and this way it worked without the error. Thanks for the tip.

[ I wonder however how these tools are meant to be used properly,
if even a 'sed' cannot work consistently along different builds,
not to mention the rest of the mess. I also wonder if there is
any clean method achieve the above effect. ]

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug  5 13:11:23 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug  5 13:11:34 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <20080805160506.GA17854@34-mo7-2.acn.waw.pl>
References: <9257026e0808050400j3ae0ab8bu617b88f0a2846f4a@mail.gmail.com>
	<146A835A-29B3-4E27-8E23-B58FD4866A51@syenar.hu>
	<20080805112456.GB26636@34-mo7-2.acn.waw.pl>
	<72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
	<20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<CC699DA7-0B42-42EA-82D9-028816DF3C92@syenar.hu>
	<20080805134136.GA31977@34-mo7-2.acn.waw.pl>
	<9453A1C7-9195-46BC-B070-095F0D92601A@syenar.hu>
	<20080805150351.GA5261@34-mo7-2.acn.waw.pl>
	<412502C4-03BF-4536-B728-7C18913144CA@syenar.hu>
	<20080805160506.GA17854@34-mo7-2.acn.waw.pl>
Message-ID: <42E9451A-3339-426C-A44F-2D6835CB79E6@syenar.hu>

Hi Przemek,

>> I've changed mainstd to hbmainstd, and it worked altough the
>> result looked quite strange :), after that I've rebuilt it
>> with -shared, and it gave a 'compress2' missing entry.
>> Which pbly indicates that hbzlib is missing from harbour.dll
>> in non-GNU make.
>
> It should be added just like hbpcre it it's also missing.

I've checked and they are added, so the problem
seems to be that the public zlib, pcre interface
is not marked as HB_EXPORT (or export by any
other means).

>> After this I reduced hbrun.prg to a pure 4 lines long program
>> displaying hb_compiler() and waiting for a key. Then it told
>> 's_defaultGT', and at this point I'm pretty much lost.
>
> This I'll try to resolve tomorrow. I'll replace it with function
> call. I do not know if I will have inet access in the evening.

Thanks, take your time, not having internet is
actually a very good opportunity to
worry about it^^^^^^^^^^^^^^^to talk to ppl,
read some books, or go out or something :)

Brgds,
Viktor

From rodrmigu at gmail.com  Tue Aug  5 14:01:56 2008
From: rodrmigu at gmail.com (Rodrigo Miguel)
Date: Tue Aug  5 14:02:01 2008
Subject: [Harbour] re: make system GNU and non-GNU
Message-ID: <80b05d460808051101p2da054b6o5600dbcca6041cfb@mail.gmail.com>

HI Massimo,

Why you don't use the gnu make? I use that on regular basis for my apps even
in windows, so I just have one single makefile for linux and windows.

You can download that from:
http://sourceforge.net/project/showfiles.php?group_id=2435&package_id=23918

Here you have a complete documentation about it:
http://www.gnu.org/software/make/manual/make.html

Regards
Rodrigo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080805/18a16210/attachment.html
From mbelgrano at deltain.it  Tue Aug  5 14:59:12 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Aug  5 14:59:18 2008
Subject: [Harbour] re: make system GNU and non-GNU
In-Reply-To: <80b05d460808051101p2da054b6o5600dbcca6041cfb@mail.gmail.com>
References: <80b05d460808051101p2da054b6o5600dbcca6041cfb@mail.gmail.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEBD@SRV02.deltain.net>

Hi Rodrigo
Thanks for info . I use typically bcc,win32
Can you help me about How start gnu make system in mingw?
Where I put files extracted from
http://sourceforge.net/project/showfiles.php?group_id=2435&package_id=23
918 ?


regards

From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Rodrigo Miguel
Sent: Tuesday, August 05, 2008 8:02 PM
To: Harbour Project Main Developer List.
Subject: [Harbour] re: make system GNU and non-GNU

HI Massimo,

Why you don't use the gnu make? I use that on regular basis for my apps
even in windows, so I just have one single makefile for linux and
windows.

You can download that from:
http://sourceforge.net/project/showfiles.php?group_id=2435&package_id=23
918

Here you have a complete documentation about it:
http://www.gnu.org/software/make/manual/make.html

Regards
Rodrigo
From harbour.01 at syenar.hu  Tue Aug  5 15:48:17 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug  5 15:48:30 2008
Subject: [Harbour] 2008-08-05 21:39 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f734$Blat.v2.6.2$34ab53a4$4aa4b7cb60dc@127.0.0.1>

2008-08-05 21:39 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/hbpcre/_hbconf.h
   * source/hbzlib/zconf.h
   * source/hbzlib/ChangeLog
     ! Fixed to pass down Harbour DLL creation flag to 
       integrated 3rd party sources.
       After this, pcre and zlib public symbols should be 
       properly exported on Windows platform.
     ; NOTE: Harbour uses __EXPORT__ to signal DLL creation, 
             which is not very ideal, so I'd suggest to 
             switch to HB_DLL in future versions.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug  5 17:48:03 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug  5 17:48:07 2008
Subject: [Harbour] 2008-08-05 23:47 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f744$Blat.v2.6.2$eff3c028$4c30c59504b8@127.0.0.1>

2008-08-05 23:47 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/errorint.c
   * source/vm/estack.c
   * source/vm/hvm.c
   * source/vm/extrap.c
     + Added filename to stack traces. Someone please review me.
       Also, pls test if it compiles cleanly with OS/2.
--
Brgds,
Viktor

From gvarona at ec-red.com  Tue Aug  5 17:54:41 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Tue Aug  5 17:54:55 2008
Subject: [Harbour] Mouse not work with ACHOICE()
In-Reply-To: <4893C14E.7040706@ec-red.com>
References: <4893C14E.7040706@ec-red.com>
Message-ID: <4898CC21.9090709@ec-red.com>

Hello, I've verified that also works in xHarbour the mouse.
Can we fix this in harbour?

Best Regards
GVS

P.D.: Sorry for my bad english.

Guillermo Varona Silup? escribi?:
> This Code work fine in clipper with the mouse:
>
> #include "inkey.ch"    // Key definitions
> FUNCTION MAIN
>   LOCAL aOpc := {"Opc. 1","Opc. 2","Opc. 3"}, nOpc
>   SET( _SET_EVENTMASK, INKEY_ALL )
>   cls
>   nOpc := ACHOICE(1,1,10,20,aOpc)
>   ? nOpc
>   RETURN NIL
>
> In harbour not work the mouse.
>
> Best Regards.
> GVS
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> __________ Information from ESET Smart Security, version of virus 
> signature database 3317 (20080801) __________
>
> The message was checked by ESET Smart Security.
>
> http://www.eset.com
>
>
>

From rodrmigu at gmail.com  Tue Aug  5 20:27:32 2008
From: rodrmigu at gmail.com (Rodrigo Miguel)
Date: Tue Aug  5 20:27:39 2008
Subject: [Harbour] RE: make system GNU and non-GNU
Message-ID: <80b05d460808051727u571cc408qff568639d24bcf27@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: Makefile
Type: application/octet-stream
Size: 1616 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080805/7ecd57b5/Makefile.obj
From mbelgrano at deltain.it  Wed Aug  6 03:17:23 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Aug  6 03:17:33 2008
Subject: [Harbour] RE: make system GNU and non-GNU
In-Reply-To: <80b05d460808051727u571cc408qff568639d24bcf27@mail.gmail.com>
References: <80b05d460808051727u571cc408qff568639d24bcf27@mail.gmail.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEBE@SRV02.deltain.net>

Thank for sample now I am trying play
Have you a sample using bcc,msvc?
Do you think that Is possible use "ifeq ($(HB_COMPILER),mingw32)" for
creating a unique make file for all platform/compiler?


From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Rodrigo Miguel
Sent: Wednesday, August 06, 2008 2:28 AM
To: Harbour Project Main Developer List.
Subject: [Harbour] RE: make system GNU and non-GNU

Hi Massimo,

> Where I put files extracted from 
>
http://sourceforge.net/project/showfiles.php?group_id=2435&package_id=23
918 ? 

You can put in any place that you want, just add that to the PATH
variable.

Attached, you will find one good sample that compile all files inside of
a src folder, so create those files and place the Makefile in the root:

src
bin
obj

Regards
Rodrigo
From sscc at mweb.co.za  Wed Aug  6 03:34:49 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Aug  6 03:35:06 2008
Subject: [Harbour] RE: make system GNU and non-GNU
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EEBE@SRV02.deltain.net>
References: <80b05d460808051727u571cc408qff568639d24bcf27@mail.gmail.com>
	<AFB948164110ED43B5EB849E8DEEF03815EEBE@SRV02.deltain.net>
Message-ID: <48995419.4040807@mweb.co.za>

Massimo Belgrano wrote:

> Thank for sample now I am trying play
> Have you a sample using bcc,msvc?

Here is one I use for msvc.

You can use it like:

make -f hmakewin.mak test.exe

if you have test.prg and test.res. You can see though that it is 
pretty specialised for my own use.

Regards
Alex
-------------- next part --------------
.SUFFIXES:

OBJ_DIR = obj
HB_DIR = \harbour-1.0.0
HWGUI_DIR = \hwgui-1.0.0
LETO_DIR = \letodb-1.0.0
MSVC_DIR = "\program files\microsoft visual studio\vc98"
MSVCSDK_DIR = "\program files\microsoft SDK"

LETO_LIB = $(LETO_DIR)\lib\rddleto.lib
HWGUI_LIB = $(HWGUI_DIR)\lib\hwgui.lib
MATRIX_LIB = \Alex\matrix\api\lib\msvc\mxst32.lib
CARD_LIB = "\Alex\IC Card Driver\EZPUSetupV5_41\API\LIB\VC\CASMCARD.LIB"
VCO_LIB = \Alex\ecr6\vcoscale.lib

LDFLAGS = /nodefaultlib:libc /nodefaultlib:libcp
SUBSYSTEM = /subsystem:WINDOWS


HB_LIB = hbdebug.lib gtgui.lib hbvm.lib hbrtl.lib hbmacro.lib hbpp.lib hbcommon.lib hbrdd.lib rddcdx.lib \
rddntx.lib rddfpt.lib hbsix.lib hbtip.lib hbw32.lib xhb.lib rddads.lib

WIN_LIB = kernel32.lib user32.lib gdi32.lib winspool.lib comdlg32.lib comctl32.lib advapi32.lib \
shell32.lib ole32.lib oleaut32.lib wsock32.lib winmm.lib mpr.lib sensapi.lib

$(OBJ_DIR)/%.obj : %.prg
	$(HB_DIR)\bin\harbour $< /q0 /n /m /w /gc0 /es2 /i$(HB_DIR)\include /i$(HWGUI_DIR)\include /o$(OBJ_DIR)\$*.c
	@cl /nologo /Ox /G6 /TP /W3 /c /GA /I. /I$(HB_DIR)\include /I$(MSVCSDK_DIR)\include /I$(MSVC_DIR)\include $(OBJ_DIR)\$*.c /Fo$@
	@del $(OBJ_DIR)\$*.c

$(OBJ_DIR)/%.obj : %.cpp
	cl /nologo /Ox /G6 /TP /W3 /c /GA /I. /I$(HB_DIR)\include /I$(MSVCSDK_DIR)\include /I$(MSVC_DIR)\include $*.cpp /Fo$@

$(OBJ_DIR)/%.obj : %.c
	cl /nologo /Ox /G6 /TP /W3 /c /GA /I. /I$(HB_DIR)\include /I$(MSVCSDK_DIR)\include /I$(MSVC_DIR)\include $*.c /Fo$@

%.exe : $(OBJ_DIR)/%.obj
	@echo link $@
	@link $^ $(MAINOBJ) $*.res \
$(LDFLAGS) /out:$@ /nologo $(SUBSYSTEM) /include:__matherr \
/libpath:$(MSVCSDK_DIR)\lib \
/libpath:$(MSVC_DIR)\lib \
/libpath:$(HB_DIR)\lib \
$(HWGUI_LIB) \
$(LETO_LIB) \
$(MATRIX_LIB) \
$(CARD_LIB) \
$(VCO_LIB) \
$(HB_LIB) \
$(WIN_LIB)

%.dll : $(OBJ_DIR)/%.obj
	link /DLL $^ /out:$@ \
/libpath:$(MSVCSDK_DIR)\lib \
/libpath:$(MSVC_DIR)\lib \
$(VCO_LIB) \
User32.lib \
Shlwapi.lib

# Test

test_objs = \
$(OBJ_DIR)/test.obj

test.exe : $(test_objs)

$(OBJ_DIR)/test.obj : test.prg


hello_objs = \
$(OBJ_DIR)/hellowin.obj \
$(OBJ_DIR)/testerrorsys.obj \
$(OBJ_DIR)/dllcall.obj

hellowin.exe : $(hello_objs)

# MT/VCO scale

mtscale_objs = \
$(OBJ_DIR)/mtscale.obj \
$(OBJ_DIR)/mtprint.obj \
$(OBJ_DIR)/mtdlg6.obj \
$(OBJ_DIR)/tea.obj \
$(OBJ_DIR)/crc32.obj

mtscale.dll : $(mtscale_objs)

# Site Server

sitesvr_objs = \
$(OBJ_DIR)/sitesvr.obj \
$(OBJ_DIR)/blddbf.obj

sitesvr.exe : $(sitesvr_objs)

$(OBJ_DIR)/sitesvr.obj : sitesvr.prg
$(OBJ_DIR)/blddbf.obj : blddbf.prg

# Irish passwords

easipswd_objs = \
$(OBJ_DIR)/easipswd.obj \
$(OBJ_DIR)/ctea.obj \
$(OBJ_DIR)/hwgerrorsys.obj

easipswd.exe : $(easipswd_objs)

$(OBJ_DIR)/easipswd.obj : easipswd.prg
$(OBJ_DIR)/ctea.obj : ctea.prg
$(OBJ_DIR)/hwgerrorsys.obj : hwgerrorsys.prg

# Oplocks

oplock_objs = \
$(OBJ_DIR)/oplock.obj \
$(OBJ_DIR)/winos.obj \
$(OBJ_DIR)/winreg.obj \
$(OBJ_DIR)/hwgerrorsys.obj

oplock.exe : $(oplock_objs)

$(OBJ_DIR)/oplock.obj : oplock.prg
$(OBJ_DIR)/winos.obj : winos.prg
$(OBJ_DIR)/winreg.obj : winreg.prg
$(OBJ_DIR)/hwgerrorsys.obj : hwgerrorsys.prg

# Leto manage

manage_objs = \
$(OBJ_DIR)/manage.obj \
$(OBJ_DIR)/hwgerrorsys.obj

manage.exe : $(manage_objs)

$(OBJ_DIR)/manage.obj : manage.prg
$(OBJ_DIR)/hwgerrorsys.obj : hwgerrorsys.prg

From dmacias at mail.udg.mx  Wed Aug  6 04:15:49 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Aug  6 04:15:42 2008
Subject: [Harbour] Re: 2008-08-05 23:47 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
Message-ID: <48995DB5.4070601@mail.udg.mx>

>2008-08-05 23:47 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>   * source/rtl/errorint.c
>   * source/vm/estack.c
>   * source/vm/hvm.c
>   * source/vm/extrap.c
>     + Added filename to stack traces. Someone please review me.
>       Also, pls test if it compiles cleanly with OS/2.

Viktor:

It build / run fine under OS/2

David Macias



From harbour.01 at syenar.hu  Wed Aug  6 05:28:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 05:29:01 2008
Subject: [Harbour] Re: 2008-08-05 23:47 UTC+0200 Viktor Szakats
	(harbour.01 syenar hu)
In-Reply-To: <48995DB5.4070601@mail.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
	<48995DB5.4070601@mail.udg.mx>
Message-ID: <31709F2F-2908-4DD5-8C77-053B44CE1805@syenar.hu>

Thanks David.

Brgds,
Viktor

On 2008.08.06., at 10:15, David Arturo Macias Corona wrote:

>> 2008-08-05 23:47 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>>  * source/rtl/errorint.c
>>  * source/vm/estack.c
>>  * source/vm/hvm.c
>>  * source/vm/extrap.c
>>    + Added filename to stack traces. Someone please review me.
>>      Also, pls test if it compiles cleanly with OS/2.
>
> Viktor:
>
> It build / run fine under OS/2
>
> David Macias
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug  6 05:37:29 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 05:37:32 2008
Subject: [Harbour] 2008-08-06 11:36 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f7a8$Blat.v2.6.2$0b37fb66$3ec88b2738e4@127.0.0.1>

2008-08-06 11:36 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * utils/hbdoc/hbdoc.prg
     ! Typos fixed on help screen.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Wed Aug  6 05:57:13 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug  6 05:57:19 2008
Subject: [Harbour] 2008-08-05 23:47 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8f744$Blat.v2.6.2$eff3c028$4c30c59504b8@127.0.0.1>
References: <01c8f744$Blat.v2.6.2$eff3c028$4c30c59504b8@127.0.0.1>
Message-ID: <20080806095713.GA28548@34-mo7-2.acn.waw.pl>

On Tue, 05 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> 2008-08-05 23:47 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>    * source/rtl/errorint.c
>    * source/vm/estack.c
>    * source/vm/hvm.c
>    * source/vm/extrap.c
>      + Added filename to stack traces. Someone please review me.
>        Also, pls test if it compiles cleanly with OS/2.

Many thanks.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Aug  6 06:47:26 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug  6 06:47:36 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <42E9451A-3339-426C-A44F-2D6835CB79E6@syenar.hu>
References: <20080805112456.GB26636@34-mo7-2.acn.waw.pl>
	<72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
	<20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<CC699DA7-0B42-42EA-82D9-028816DF3C92@syenar.hu>
	<20080805134136.GA31977@34-mo7-2.acn.waw.pl>
	<9453A1C7-9195-46BC-B070-095F0D92601A@syenar.hu>
	<20080805150351.GA5261@34-mo7-2.acn.waw.pl>
	<412502C4-03BF-4536-B728-7C18913144CA@syenar.hu>
	<20080805160506.GA17854@34-mo7-2.acn.waw.pl>
	<42E9451A-3339-426C-A44F-2D6835CB79E6@syenar.hu>
Message-ID: <20080806104726.GB28548@34-mo7-2.acn.waw.pl>

On Tue, 05 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> I've checked and they are added, so the problem
> seems to be that the public zlib, pcre interface
> is not marked as HB_EXPORT (or export by any
> other means).

It should not be a problem. The HB_EXPORT attribute is necessary
only for external modules linked with .DLL Internally inside
single DLL it's not necessary.
So zlib internal functions have to be declared with DLLEXPORT
attribute only if you want to linke some code which uses ZLIB
with harbour*.dll and without any other zlib library.

I've also noticed that hbdebug library is included in harbour*dll
created by non GNU make files. IMHO it should not be. If someone
wants to create code for debugger then he can link static debug
library with static part of his code.
Due to registered symbol __DBGENTRY it also informs HVM that debugger
is linked in all windows dynamic binaries.

I'll commit some modifications to current code with hbextern library
anyhow but the problem with main vs WinMain cannot be easy resolved
due to differences between compilers and linkers. I can exclude WinMain()
from HVM library in MinGW builds and add hbmainwin library but I do not
know if it will work for all MinGW versions. AFAIR some of them where
not accepting WinMain() from library as long as it was not explicitly
requested. This is the reason why we have at the end of hvm.c and
mainwin.c explicit binding for MinGW compilers. If I move WinMain()
to separate library then I will have to eliminate this binding. It
will not be a problem for people who use hb* scripts because I will
generate WinMain() on the fly from them but for other users it may
create very serious problem which cannot be easy resolved by them.
If possible then you can try to add also MSVC to compilers which set
such explicit binding and maybe it will resolve the problem with
WinMain() stored in harbour*.dll created by this compiler so it will
be usable also for others.
If not then without linker wrappers like hb* scripts but working
without BASH I suggest to not touch it.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Aug  6 06:58:00 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug  6 06:58:15 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <0FCAE5D6-F1CA-48DC-B02A-97FDBFA68598@syenar.hu>
References: <20080805112456.GB26636@34-mo7-2.acn.waw.pl>
	<72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
	<20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<CC699DA7-0B42-42EA-82D9-028816DF3C92@syenar.hu>
	<20080805134136.GA31977@34-mo7-2.acn.waw.pl>
	<9453A1C7-9195-46BC-B070-095F0D92601A@syenar.hu>
	<20080805150351.GA5261@34-mo7-2.acn.waw.pl>
	<412502C4-03BF-4536-B728-7C18913144CA@syenar.hu>
	<9257026e0808050926p24f16b6ar37af28edb059bbab@mail.gmail.com>
	<0FCAE5D6-F1CA-48DC-B02A-97FDBFA68598@syenar.hu>
Message-ID: <20080806105800.GC28548@34-mo7-2.acn.waw.pl>

On Tue, 05 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Finally I simply copied over sed.exe from msys to mingw dir,
> and this way it worked without the error. Thanks for the tip.
> [ I wonder however how these tools are meant to be used properly,
> if even a 'sed' cannot work consistently along different builds,
> not to mention the rest of the mess. I also wonder if there is
> any clean method achieve the above effect. ]

The answer is very simple. MS-Windows pass parameters to application
as single ASCIIZ string not as arrays of ASCIIZ strings like in *nixes.
It means that in Windows is not possible that SHELL divide parameters
using given shell rulles and pass them correctly to application which
only have to scan each of them. In MS-Win each program has to parse and
divide parameters using it's own rules. Because program does not know
anything about the SHELL from which he was executed then he cannot make
it well for all environments. The main differens in GNU tools ported
for MS-Windows is the method of parameters extracting. Never try
to use tools compiled for MSYS/SHELL environment in cmd.exe/command.com
and tools compiled for MS-Win command interpreter in *nix like shells
because some more advanced parameters (using spaces or special characters)
will be wrongly recognized.
This is not GNU tools problem but MS-Windows limitation inherited
from DOS.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Aug  6 06:59:50 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 06:59:52 2008
Subject: [Harbour] 2008-08-06 12:59 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f7b3$Blat.v2.6.2$8c16ae84$4bc8c25e177e@127.0.0.1>

2008-08-06 12:59 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * common.mak
     - Excluded hbdebug.lib from non-GNU make made harbour*.dlls.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Wed Aug  6 07:10:27 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug  6 07:10:33 2008
Subject: [Harbour] 2008-08-06 13:09 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808061110.m76BAR2f011787@31-mo5-4.acn.waw.pl>

2008-08-06 13:09 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
  * harbour/source/vm/hvm.c
  * harbour/source/rtl/hbgtcore.c
    * added const to s_defaultGT and s_pszLinkedMain declarations
    * make s_pszLinkedMain visible and functional for platforms
      which does not use HARBOUR_START_PROCEDURE

  * harbour/source/vm/extrap.c
    + added exception trap for SIGSEGV, SIGILL, SIGFPE and SIGBUS
      for *nixes which support sigaltstack()

  * harbour/include/hbwmain.c
  * harbour/source/vm/mainwin.c
    * use of WinMain() from hbwmain.c

  * harbour/source/pp/pplib.c
    * ignore all #pragma directives setting compiler switches instead
      of generating RT error when user uses PP in .prg code by __PP_*()
      functions

  * harbour/source/Makefile
  + harbour/source/hbextern
  + harbour/source/hbextern/hbextern.prg
  + harbour/source/hbextern/Makefile
  * harbour/common.mak
  * harbour/make_b32.mak
  * harbour/make_gcc.mak
  * harbour/make_vc.mak
  * harbour/make_vcce.mak
  * harbour/bin/hb-func.sh
    + added hbextern library
    + added hbextern to harbour shared library. Now all functions
      are registered and visible for dynamically linked applications
      not only .prg ones and .c functions explicitly bound with some
      .prg code

  * harbour/utils/hbrun/Makefile
  * harbour/utils/hbrun/hbrun.prg
    * use hbextern library instead of #include "hbextern.ch"
      It has no noticeable effect on static builds but greatly
      reduce the size of dynamic builds, f.e. current hbrun
      linked dynamically in my Linux box has 12KB.

best regards
Przemek
From harbour.01 at syenar.hu  Wed Aug  6 07:18:06 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 07:18:15 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <20080806105800.GC28548@34-mo7-2.acn.waw.pl>
References: <20080805112456.GB26636@34-mo7-2.acn.waw.pl>
	<72A58CA1-8826-44EC-9FB0-2C9CF9089AA6@syenar.hu>
	<20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<CC699DA7-0B42-42EA-82D9-028816DF3C92@syenar.hu>
	<20080805134136.GA31977@34-mo7-2.acn.waw.pl>
	<9453A1C7-9195-46BC-B070-095F0D92601A@syenar.hu>
	<20080805150351.GA5261@34-mo7-2.acn.waw.pl>
	<412502C4-03BF-4536-B728-7C18913144CA@syenar.hu>
	<9257026e0808050926p24f16b6ar37af28edb059bbab@mail.gmail.com>
	<0FCAE5D6-F1CA-48DC-B02A-97FDBFA68598@syenar.hu>
	<20080806105800.GC28548@34-mo7-2.acn.waw.pl>
Message-ID: <3D190761-5705-4757-9999-ED45DB96E45C@syenar.hu>

Hi Przemek,

Okay, I see now. What I still don't see is how to
assemble a properly usable MinGW environment without
manual hacks.

I know have two pre-build manual instructions for
MinGW, and it doesn't help to make the process
automatic or easy to port or replicate.

Currently I have to rename msys sh.exe to sh-.exe
to make MinGW builds possible using the Windows
shell. I have to do the opposite if I want to build
using bash shell, plus now I have to copy over
sed.exe from msys to mingw, if I want to make it work.
With for different MinGW version installed (and
sometimes updated separately), this becomes quite
error prone and ugly. As a mere user, just wanting
to use MinGW, I'd expect a somewhat more user-friendly
or straightforward approach. Not to mention if we
want to give someone instructions, how to replicate
the process locally.

I'm not sure if we can do anything more to make
the above easier, or this is the job of the MinGW
team, but it's very sad that MinGW (and GNU on
Windows in general) was and still - after 10 years -
is such a PITA to work with.

And to rumble a bit more: GNU make is probably the
far weakest piece of the GNU toolchain, I can't even
understand how it didn't get a replacement in all
these years.

Anyhow, anyone who managed to tame MinGW in a
proper way, is welcome to share his experiences,
and best practices.

Brgds,
Viktor

On 2008.08.06., at 12:58, Przemyslaw Czerpak wrote:

> On Tue, 05 Aug 2008, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>> Finally I simply copied over sed.exe from msys to mingw dir,
>> and this way it worked without the error. Thanks for the tip.
>> [ I wonder however how these tools are meant to be used properly,
>> if even a 'sed' cannot work consistently along different builds,
>> not to mention the rest of the mess. I also wonder if there is
>> any clean method achieve the above effect. ]
>
> The answer is very simple. MS-Windows pass parameters to application
> as single ASCIIZ string not as arrays of ASCIIZ strings like in  
> *nixes.
> It means that in Windows is not possible that SHELL divide parameters
> using given shell rulles and pass them correctly to application which
> only have to scan each of them. In MS-Win each program has to parse  
> and
> divide parameters using it's own rules. Because program does not know
> anything about the SHELL from which he was executed then he cannot  
> make
> it well for all environments. The main differens in GNU tools ported
> for MS-Windows is the method of parameters extracting. Never try
> to use tools compiled for MSYS/SHELL environment in cmd.exe/ 
> command.com
> and tools compiled for MS-Win command interpreter in *nix like shells
> because some more advanced parameters (using spaces or special  
> characters)
> will be wrongly recognized.
> This is not GNU tools problem but MS-Windows limitation inherited
> from DOS.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From sscc at mweb.co.za  Wed Aug  6 07:35:33 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Aug  6 07:35:47 2008
Subject: [Harbour] 2008-08-05 23:47 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8f744$Blat.v2.6.2$eff3c028$4c30c59504b8@127.0.0.1>
References: <01c8f744$Blat.v2.6.2$eff3c028$4c30c59504b8@127.0.0.1>
Message-ID: <48998C85.8080705@mweb.co.za>

Szak?ts Viktor wrote:
> 2008-08-05 23:47 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>    * source/rtl/errorint.c
>    * source/vm/estack.c
>    * source/vm/hvm.c
>    * source/vm/extrap.c
>      + Added filename to stack traces. Someone please review me.
>        Also, pls test if it compiles cleanly with OS/2.

Thank you.

Regards
Alex
From druzus at acn.waw.pl  Wed Aug  6 08:02:43 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug  6 08:02:49 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <3D190761-5705-4757-9999-ED45DB96E45C@syenar.hu>
References: <20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<CC699DA7-0B42-42EA-82D9-028816DF3C92@syenar.hu>
	<20080805134136.GA31977@34-mo7-2.acn.waw.pl>
	<9453A1C7-9195-46BC-B070-095F0D92601A@syenar.hu>
	<20080805150351.GA5261@34-mo7-2.acn.waw.pl>
	<412502C4-03BF-4536-B728-7C18913144CA@syenar.hu>
	<9257026e0808050926p24f16b6ar37af28edb059bbab@mail.gmail.com>
	<0FCAE5D6-F1CA-48DC-B02A-97FDBFA68598@syenar.hu>
	<20080806105800.GC28548@34-mo7-2.acn.waw.pl>
	<3D190761-5705-4757-9999-ED45DB96E45C@syenar.hu>
Message-ID: <20080806120243.GA11500@34-mo7-2.acn.waw.pl>

On Wed, 06 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> I know have two pre-build manual instructions for
> MinGW, and it doesn't help to make the process
> automatic or easy to port or replicate.
> Currently I have to rename msys sh.exe to sh-.exe
> to make MinGW builds possible using the Windows
> shell. I have to do the opposite if I want to build
> using bash shell, plus now I have to copy over
> sed.exe from msys to mingw, if I want to make it work.
> With for different MinGW version installed (and
> sometimes updated separately), this becomes quite
> error prone and ugly. As a mere user, just wanting
> to use MinGW, I'd expect a somewhat more user-friendly
> or straightforward approach. Not to mention if we
> want to give someone instructions, how to replicate
> the process locally.
> I'm not sure if we can do anything more to make
> the above easier, or this is the job of the MinGW
> team, but it's very sad that MinGW (and GNU on
> Windows in general) was and still - after 10 years -
> is such a PITA to work with.

I haven't made any real Windows builds for very long time
but AFAIR it was very easy to setup MinGW and MSYS environment.
You have to sets of GNU tools one designed for MSYS and 2-nd
for Windows command shell. It was enough to keep them in default
paths and when you want to use MSYS then simply set MSYS binary
directory at the beginning of your PATH. Otherwise do not set it
at all or set it at the end.
That's all and it was working for me.

> And to rumble a bit more: GNU make is probably the
> far weakest piece of the GNU toolchain, I can't even
> understand how it didn't get a replacement in all
> these years.

I do not agree. What is missing for you in GNU make?
For me it's the best make tool and when I have to use
some other then I still found some limitations. Maybe
I do not know those tools enough but as I can see some
things cannot be easy resolved also i our non GNU make
files what effectively blocks their simplification.

Other thing is _OUR_ GNU make files. It should be seriously
changed but because it has to work on all supported platforms
then I try to not touch it as long as possible.
Somewhere in the future I'll try to change it but without any
deadline because all modifications will have to be tested in
many different platforms and environments.

> Anyhow, anyone who managed to tame MinGW in a
> proper way, is welcome to share his experiences,
> and best practices.

Today I'll try to make some tests with real MS-Windows machine.
Maybe I'll find some problems which appeared in last year(s).

best regards,
Przemek
From dmacias at mail.udg.mx  Wed Aug  6 08:27:45 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Aug  6 08:27:38 2008
Subject: [Harbour] Re: harbour.dll revisited
In-Reply-To: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
Message-ID: <489998C1.5040100@mail.udg.mx>

Przemek:

 > Today I'll try to make some tests with real MS-Windows machine.

Take care, do not forget your gloves  :-)

You can use VirtualBox (virtualbox.org)
In last months I use VirtualBox to use Windows XP within Linux Mandriva 
2008.1 without need to boot partition where I have a "real" Windows XP
I have not seen differences between "real" WinXP and WinXP within 
VirtualBox, except speed

David Macias

From druzus at acn.waw.pl  Wed Aug  6 08:27:51 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug  6 08:27:57 2008
Subject: [Harbour] 2008-08-06 14:27 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808061227.m76CRp5j018386@31-mo5-4.acn.waw.pl>

2008-08-06 14:27 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    * updated to create harbour.dll in HB_BIN_INSTALL instead of
      HB_LIB_INSTALL
    * added to library paths in hb* scripts HB_BIN_INSTALL directory
      for shared linking when harbour shared library does not exist
      in HB_LIB_INSTALL but it's present in HB_BIN_INSTALL

best regards
Przemek
From harbour.01 at syenar.hu  Wed Aug  6 08:59:55 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 09:00:13 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <20080806120243.GA11500@34-mo7-2.acn.waw.pl>
References: <20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<CC699DA7-0B42-42EA-82D9-028816DF3C92@syenar.hu>
	<20080805134136.GA31977@34-mo7-2.acn.waw.pl>
	<9453A1C7-9195-46BC-B070-095F0D92601A@syenar.hu>
	<20080805150351.GA5261@34-mo7-2.acn.waw.pl>
	<412502C4-03BF-4536-B728-7C18913144CA@syenar.hu>
	<9257026e0808050926p24f16b6ar37af28edb059bbab@mail.gmail.com>
	<0FCAE5D6-F1CA-48DC-B02A-97FDBFA68598@syenar.hu>
	<20080806105800.GC28548@34-mo7-2.acn.waw.pl>
	<3D190761-5705-4757-9999-ED45DB96E45C@syenar.hu>
	<20080806120243.GA11500@34-mo7-2.acn.waw.pl>
Message-ID: <0BDBD8C3-1D08-4CA3-946B-4D5ECB428CBC@syenar.hu>

>>
Hi Przemek,

>> Windows in general) was and still - after 10 years -
>> is such a PITA to work with.
>
> I haven't made any real Windows builds for very long time
> but AFAIR it was very easy to setup MinGW and MSYS environment.
> You have to sets of GNU tools one designed for MSYS and 2-nd
> for Windows command shell. It was enough to keep them in default
> paths and when you want to use MSYS then simply set MSYS binary
> directory at the beginning of your PATH. Otherwise do not set it
> at all or set it at the end.
> That's all and it was working for me.

Okay, I've checked all my m* dirs and there turned out
to be some leftovers from the past, so I'm currently
testing the cleaned environment. There are a few
strangenesses still, like missing make.exe from mingw,
even if I select this option. (The .exe is named mingw-make.exe),
but anyway, I have a mingw based make.exe in the path
anyway, so this is still hacky, but fine. I dropped msys
from the path for Windows shell builds.

For bash shell builds (which I'll use for 1.0.0 binaries),
I've added msys to the front, and cleaned my bin dir
from some past make.exe versions copied there (it was
also a mingw make.exe).

This way it looks clean and tidy, with only one hack
(make.exe in the path).

>> And to rumble a bit more: GNU make is probably the
>> far weakest piece of the GNU toolchain, I can't even
>> understand how it didn't get a replacement in all
>> these years.
>
> I do not agree. What is missing for you in GNU make?
> For me it's the best make tool and when I have to use
> some other then I still found some limitations. Maybe
> I do not know those tools enough but as I can see some
> things cannot be easy resolved also i our non GNU make
> files what effectively blocks their simplification.

It cannot pick sources from different dirs and/or
cannot put target into different dirs. I can't remember,
but each time I have to deal with GNU make, I end up
spending days on it without any results.

The other thing is this insane reliance on TAB vs. spaces.

> Other thing is _OUR_ GNU make files. It should be seriously
> changed but because it has to work on all supported platforms
> then I try to not touch it as long as possible.
> Somewhere in the future I'll try to change it but without any
> deadline because all modifications will have to be tested in
> many different platforms and environments.

Hm, yes. I don't know what exactly you have in mind,
but for me for example the way recursivity is solved
seems rather problematic, error prone and slow. It
starts to have lots of hacks too.

I still believe we should be better off with one
make system, which is working perfectly well everywhere,
rather than having GNU and 3 non-GNU build paths.
This one make system can be GNU, I have no problem
with that, I'm just unlucky with it locally.

[ Okay, some say that having native build environment
is always good - which I can agree -, but the overall
importance of BCC and even MSVC is fading year by year. ]

>> Anyhow, anyone who managed to tame MinGW in a
>> proper way, is welcome to share his experiences,
>> and best practices.
>
> Today I'll try to make some tests with real MS-Windows machine.
> Maybe I'll find some problems which appeared in last year(s).

Thanks, I'm sure you'll find some things to fix :)

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug  6 09:33:41 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 09:33:57 2008
Subject: [Harbour] MinGW harbour.dll stripping
Message-ID: <1FAB3706-93FF-444E-BE7D-96908470F56B@syenar.hu>

Hi Przemek,

Currently harbour.dll is created with full symbol information.

I use L_USR=-s to request stripping for all binaries for the
final binary distribution to avoid that. But this flag is not
effective for harbour.dll, since it's done outside the GNU
make system.

Can you change hb-func.sh to honor this setting, or if this is
not possible, do the stripping by other means?

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Wed Aug  6 09:48:54 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Aug  6 09:48:59 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <0BDBD8C3-1D08-4CA3-946B-4D5ECB428CBC@syenar.hu>
References: <20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<9453A1C7-9195-46BC-B070-095F0D92601A@syenar.hu>
	<20080805150351.GA5261@34-mo7-2.acn.waw.pl>
	<412502C4-03BF-4536-B728-7C18913144CA@syenar.hu>
	<9257026e0808050926p24f16b6ar37af28edb059bbab@mail.gmail.com>
	<0FCAE5D6-F1CA-48DC-B02A-97FDBFA68598@syenar.hu>
	<20080806105800.GC28548@34-mo7-2.acn.waw.pl>
	<3D190761-5705-4757-9999-ED45DB96E45C@syenar.hu>
	<20080806120243.GA11500@34-mo7-2.acn.waw.pl>
	<0BDBD8C3-1D08-4CA3-946B-4D5ECB428CBC@syenar.hu>
Message-ID: <9257026e0808060648r5d4b59e0y9997a3026a041253@mail.gmail.com>

On Wed, Aug 6, 2008 at 2:59 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Okay, I've checked all my m* dirs and there turned out
> to be some leftovers from the past, so I'm currently
> testing the cleaned environment. There are a few
> strangenesses still, like missing make.exe from mingw,
> even if I select this option. (The .exe is named mingw-make.exe),
> but anyway, I have a mingw based make.exe in the path
> anyway, so this is still hacky, but fine. I dropped msys
> from the path for Windows shell builds.

This is correct, mingw make is a windows exe while msys/make is a msys one.
( see Przemyslaw's previous message ).

I use msys/mingw since years like all my developers and I don't see
any major problem.

What I ask to my devs is:
- download and install stable mingw c/c++
- download and install stable msys
- never ever use batch files

that's all.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Wed Aug  6 09:50:16 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 09:50:25 2008
Subject: [Harbour] libfm.a -> libhbfm.a ?
Message-ID: <135BB8CC-91FB-4646-AAA4-B35A4548466E@syenar.hu>

Hi Przemek,

Another minor looking problem: I've found libfm.a (generated
outside the GNU make env), and I think it should be named
libhbfm.a to be in sync with the rest of the libs.

What do you think?

Brgds,
Viktor

From lautaro.moreira at gmail.com  Wed Aug  6 09:55:02 2008
From: lautaro.moreira at gmail.com (Lautaro Moreira)
Date: Wed Aug  6 09:55:24 2008
Subject: [Harbour] Re: Clipper for web applications!
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EEB9@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815EEB2@SRV02.deltain.net>	<g7728n$akn$1@ger.gmane.org>
	<AFB948164110ED43B5EB849E8DEEF03815EEB9@SRV02.deltain.net>
Message-ID: <4899AD36.6060400@gmail.com>

In the http://www.gliffy.com/ exist a application running, and this is 
building usign openlaszlo.

In this application you can design a flow diagrams.


I'm working in a sample using harbour for the backend.


Atte.,
Lautaro Moreira

PD, Sorry for my bad english.

Massimo Belgrano escribi?:
> I am impressed by visual webgui demo at
> http://samples.visualwebgui.com/MainForm.wgx
> Is possible use as gui for harbour?
> 
> Do you know a demo for openlaszlo?
>  
> 
> -----Original Message-----
> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Lautaro
> Moreira
> Sent: Monday, August 04, 2008 4:04 PM
> To: harbour@harbour-project.org
> Subject: [Harbour] Re: Clipper for web applications!
> 
> You forgot OpenLaszlo, it's pretty amazing on development of RIA web 2.0
> 
> apps it's opensource and free, and that uses SOAP, PlainHTML or XML as 
> Exchaging Data Methods:
> 
> 
> url : www.openlaszlo.org
> 
> 
> Atte,
> 
> Lautaro Moreira
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Wed Aug  6 10:13:47 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug  6 10:13:53 2008
Subject: [Harbour] MinGW harbour.dll stripping
In-Reply-To: <1FAB3706-93FF-444E-BE7D-96908470F56B@syenar.hu>
References: <1FAB3706-93FF-444E-BE7D-96908470F56B@syenar.hu>
Message-ID: <20080806141347.GA18927@34-mo7-2.acn.waw.pl>

On Wed, 06 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Currently harbour.dll is created with full symbol information.

About which symbols you are talking about. Debug information
(created by -g gcc compile time flag) or relocation and symbol
table?

> I use L_USR=-s to request stripping for all binaries for the
> final binary distribution to avoid that. But this flag is not
> effective for harbour.dll, since it's done outside the GNU
> make system.

L_USR is used for static libraries. The parameters accepted by
'ar' are different then the one used by 'gcc' when shared library
is created so we cannot use the same envvar.
If you need it then we can intorduce new envvar, f.e. SO_USR/SL_USR/
DL_USR which will be passed to gcc when shared library is created.
You can also use strip with -S or -s parameter to strip symbols from
existing DLL.
Anyhow please remember that most of symbols come from debug informations
(-g compiler switch) and it's enough to remove -g from C_USR and that
the relocation table cannot be safely removed in some systems.

> Can you change hb-func.sh to honor this setting, or if this is
> not possible, do the stripping by other means?

It cannot be L_USR but as new envvar yes. I can add it and in such
case I think it should be also added to non GNU make systems.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Aug  6 10:14:56 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 10:14:59 2008
Subject: [Harbour] 2008-08-06 16:14 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f7ce$Blat.v2.6.2$cd688784$18a4eb4231a4@127.0.0.1>

2008-08-06 16:14 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbapollo/Makefile
   * contrib/hbapollo/apollo.c
     ! Fixed include dir detection to honor file casing, to 
       make it compatible with MinGW + bash.
       Could someone with Apollo for Linux check whether it uses 
       'Sde61.h' or 'sde61.h' as the header name?
     ! Fixed to #include "Sde61.h" instead of "sde61.h"
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug  6 10:14:55 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 10:15:04 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <9257026e0808060648r5d4b59e0y9997a3026a041253@mail.gmail.com>
References: <20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<9453A1C7-9195-46BC-B070-095F0D92601A@syenar.hu>
	<20080805150351.GA5261@34-mo7-2.acn.waw.pl>
	<412502C4-03BF-4536-B728-7C18913144CA@syenar.hu>
	<9257026e0808050926p24f16b6ar37af28edb059bbab@mail.gmail.com>
	<0FCAE5D6-F1CA-48DC-B02A-97FDBFA68598@syenar.hu>
	<20080806105800.GC28548@34-mo7-2.acn.waw.pl>
	<3D190761-5705-4757-9999-ED45DB96E45C@syenar.hu>
	<20080806120243.GA11500@34-mo7-2.acn.waw.pl>
	<0BDBD8C3-1D08-4CA3-946B-4D5ECB428CBC@syenar.hu>
	<9257026e0808060648r5d4b59e0y9997a3026a041253@mail.gmail.com>
Message-ID: <5A986E80-0886-4093-917B-E4806ED30894@syenar.hu>

Hi Lorenzo,

Do you know if MinGW's linker has support for
incremental linking in recent versions?

One of the things that put me off using MinGW,
is that linking my .exe (which is 20megs using -gc3)
takes so much more time than with BCC32, which
has the incremental linking feature (albeit
it sometimes gets confused about it, so a full
build is needed before release), so that it
takes only seconds.

Brgds,
Viktor

On 2008.08.06., at 15:48, Lorenzo Fiorini wrote:

> On Wed, Aug 6, 2008 at 2:59 PM, Szak?ts Viktor <harbour. 
> 01@syenar.hu> wrote:
>
>> Okay, I've checked all my m* dirs and there turned out
>> to be some leftovers from the past, so I'm currently
>> testing the cleaned environment. There are a few
>> strangenesses still, like missing make.exe from mingw,
>> even if I select this option. (The .exe is named mingw-make.exe),
>> but anyway, I have a mingw based make.exe in the path
>> anyway, so this is still hacky, but fine. I dropped msys
>> from the path for Windows shell builds.
>
> This is correct, mingw make is a windows exe while msys/make is a  
> msys one.
> ( see Przemyslaw's previous message ).
>
> I use msys/mingw since years like all my developers and I don't see
> any major problem.
>
> What I ask to my devs is:
> - download and install stable mingw c/c++
> - download and install stable msys
> - never ever use batch files
>
> that's all.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Wed Aug  6 10:17:53 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug  6 10:17:59 2008
Subject: [Harbour] MinGW harbour.dll stripping
In-Reply-To: <20080806141347.GA18927@34-mo7-2.acn.waw.pl>
References: <1FAB3706-93FF-444E-BE7D-96908470F56B@syenar.hu>
	<20080806141347.GA18927@34-mo7-2.acn.waw.pl>
Message-ID: <20080806141753.GA23455@34-mo7-2.acn.waw.pl>

On Wed, 06 Aug 2008, Przemyslaw Czerpak wrote:
> L_USR is used for static libraries.

Sorry my mistake. It's for linking. A_USR is used for static libraries.
It can be used as parameter for gcc though maybe it will be better
to introduce new flag. What's your opinion?

best regards,
Przemek
From druzus at acn.waw.pl  Wed Aug  6 10:19:09 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug  6 10:19:14 2008
Subject: [Harbour] libfm.a -> libhbfm.a ?
In-Reply-To: <135BB8CC-91FB-4646-AAA4-B35A4548466E@syenar.hu>
References: <135BB8CC-91FB-4646-AAA4-B35A4548466E@syenar.hu>
Message-ID: <20080806141909.GB23455@34-mo7-2.acn.waw.pl>

On Wed, 06 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Another minor looking problem: I've found libfm.a (generated
> outside the GNU make env), and I think it should be named
> libhbfm.a to be in sync with the rest of the libs.
> What do you think?

I'll rename it.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Aug  6 10:24:24 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 10:24:34 2008
Subject: [Harbour] MinGW harbour.dll stripping
In-Reply-To: <20080806141347.GA18927@34-mo7-2.acn.waw.pl>
References: <1FAB3706-93FF-444E-BE7D-96908470F56B@syenar.hu>
	<20080806141347.GA18927@34-mo7-2.acn.waw.pl>
Message-ID: <88F0456A-48CA-476B-8559-A7A9688CF56C@syenar.hu>

>>
Hi Przemek,

>> Currently harbour.dll is created with full symbol information.
>
> About which symbols you are talking about. Debug information
> (created by -g gcc compile time flag) or relocation and symbol
> table?

I used to think of this as debug information, but I don't
use -g, so it might be relocation and symbol table.

It comes at the end of the file, it's about 500KB, and it
can be removed with GNU strip (strip harbour.dll).

>> I use L_USR=-s to request stripping for all binaries for the
>> final binary distribution to avoid that. But this flag is not
>> effective for harbour.dll, since it's done outside the GNU
>> make system.
>
> L_USR is used for static libraries. The parameters accepted by
> 'ar' are different then the one used by 'gcc' when shared library
> is created so we cannot use the same envvar.
> If you need it then we can intorduce new envvar, f.e. SO_USR/SL_USR/
> DL_USR which will be passed to gcc when shared library is created.
> You can also use strip with -S or -s parameter to strip symbols from
> existing DLL.
> Anyhow please remember that most of symbols come from debug  
> informations
> (-g compiler switch) and it's enough to remove -g from C_USR and that
> the relocation table cannot be safely removed in some systems.

Hm, I don't know, but I never see this GCC specific information
at the end of any production Windows binary files, so I wonder
why would we need it on harbour.dll only.

>> Can you change hb-func.sh to honor this setting, or if this is
>> not possible, do the stripping by other means?
>
> It cannot be L_USR but as new envvar yes. I can add it and in such
> case I think it should be also added to non GNU make systems.

Okay, new envvar is perfect.

As for the non-GNU make system, make_gcc.sh could use it indeed.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug  6 10:28:31 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 10:28:40 2008
Subject: [Harbour] MinGW harbour.dll stripping
In-Reply-To: <20080806141753.GA23455@34-mo7-2.acn.waw.pl>
References: <1FAB3706-93FF-444E-BE7D-96908470F56B@syenar.hu>
	<20080806141347.GA18927@34-mo7-2.acn.waw.pl>
	<20080806141753.GA23455@34-mo7-2.acn.waw.pl>
Message-ID: <155FADED-B984-4A20-B95D-818D74AF2DCF@syenar.hu>

>
> On Wed, 06 Aug 2008, Przemyslaw Czerpak wrote:
>> L_USR is used for static libraries.
>
> Sorry my mistake. It's for linking. A_USR is used for static  
> libraries.
> It can be used as parameter for gcc though maybe it will be better
> to introduce new flag. What's your opinion?

I'd opt for a new flag, as symbol information is essential
for .a files, but only useful for debug purposes for .dlls.

Brgds,
Viktor

From mbelgrano at deltain.it  Wed Aug  6 10:33:31 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Aug  6 10:33:36 2008
Subject: [Harbour] Re: Clipper for web applications!
In-Reply-To: <4899AD36.6060400@gmail.com>
References: <AFB948164110ED43B5EB849E8DEEF03815EEB2@SRV02.deltain.net>	<g7728n$akn$1@ger.gmane.org><AFB948164110ED43B5EB849E8DEEF03815EEB9@SRV02.deltain.net>
	<4899AD36.6060400@gmail.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEC1@SRV02.deltain.net>

This application is interesting so also openlaszo is interesting
Which kind of integration do you think for harbour & gliffy?
An harbour application will be hosted on this platform?


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Lautaro
Moreira
Sent: Wednesday, August 06, 2008 3:55 PM
To: harbour@harbour-project.org
Subject: [Harbour] Re: Clipper for web applications!

In the http://www.gliffy.com/ exist a application running, and this is 
building usign openlaszlo.

In this application you can design a flow diagrams.


I'm working in a sample using harbour for the backend.



From lorenzo.fiorini at gmail.com  Wed Aug  6 10:51:13 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Aug  6 10:51:17 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <5A986E80-0886-4093-917B-E4806ED30894@syenar.hu>
References: <20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<412502C4-03BF-4536-B728-7C18913144CA@syenar.hu>
	<9257026e0808050926p24f16b6ar37af28edb059bbab@mail.gmail.com>
	<0FCAE5D6-F1CA-48DC-B02A-97FDBFA68598@syenar.hu>
	<20080806105800.GC28548@34-mo7-2.acn.waw.pl>
	<3D190761-5705-4757-9999-ED45DB96E45C@syenar.hu>
	<20080806120243.GA11500@34-mo7-2.acn.waw.pl>
	<0BDBD8C3-1D08-4CA3-946B-4D5ECB428CBC@syenar.hu>
	<9257026e0808060648r5d4b59e0y9997a3026a041253@mail.gmail.com>
	<5A986E80-0886-4093-917B-E4806ED30894@syenar.hu>
Message-ID: <9257026e0808060751m7b1f33e3y1a6b6be11b968dbf@mail.gmail.com>

On Wed, Aug 6, 2008 at 4:14 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Do you know if MinGW's linker has support for
> incremental linking in recent versions?

Sorry I don't know.
For me msys/mingw, like Mac's xcode, are simply "compatibility tools".
I update the the hg repositories and type make clean, make install.
Then I test the executables and release them.

What I know is that in gcc 4.3 Win is set as a "tier 2" platform while
before it was "tier 3".
This will likely result in a better support from gcc core team.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Wed Aug  6 10:57:06 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Aug  6 10:57:12 2008
Subject: [Harbour] MinGW harbour.dll stripping
In-Reply-To: <1FAB3706-93FF-444E-BE7D-96908470F56B@syenar.hu>
References: <1FAB3706-93FF-444E-BE7D-96908470F56B@syenar.hu>
Message-ID: <9257026e0808060757s2e985c26t91db086ea4cc555@mail.gmail.com>

On Wed, Aug 6, 2008 at 3:33 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> I use L_USR=-s to request stripping for all binaries for the
> final binary distribution to avoid that. But this flag is not
> effective for harbour.dll, since it's done outside the GNU
> make system.

Have you tried to "strip" the executables?

With gcc the debug informations can be easily removed from the
binaries using the strip command.

I don't know if this is the case but It's a common practice in the gnu
world to leave them in the libs and remove them only for the release
binaries.

best regards,
Lorenzo
From druzus at acn.waw.pl  Wed Aug  6 11:09:36 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug  6 11:09:41 2008
Subject: [Harbour] MinGW harbour.dll stripping
In-Reply-To: <88F0456A-48CA-476B-8559-A7A9688CF56C@syenar.hu>
References: <1FAB3706-93FF-444E-BE7D-96908470F56B@syenar.hu>
	<20080806141347.GA18927@34-mo7-2.acn.waw.pl>
	<88F0456A-48CA-476B-8559-A7A9688CF56C@syenar.hu>
Message-ID: <20080806150936.GA25011@34-mo7-2.acn.waw.pl>

On Wed, 06 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> I used to think of this as debug information, but I don't
> use -g, so it might be relocation and symbol table.
> It comes at the end of the file, it's about 500KB, and it
> can be removed with GNU strip (strip harbour.dll).

It's probably only symbol and relocation table.
Debug information is much bigger.

> Hm, I don't know, but I never see this GCC specific information
> at the end of any production Windows binary files, so I wonder
> why would we need it on harbour.dll only.

Debugging final application. F.e. you can see C call stack in debugger.
AFAIK GCC is the only one compiler we are using which does not reduce
the speed or change optimization methods when debug information is added.
This information intentionally internally separated, can be easy stripped
or even moved to separate files. F.e. when you create RPMs in Linux then
all debug information is moved to separated RPMs which you can install
when you want to see real C function names debugging your binaries or
tracing them with tools like valgrind.
In *nixes you have yet another important feature. You can set your
environment to generate core dump file with full application state
on GPF or similar error. Then it's enough to run gdb using this file
and you can see where and how your application crashed. For me debug and
relocation symbols are very important and of course if I want to create
final user binaries then I simply use strip in my build strips.
But for other C compilers it's not such easy because code after striping
is not the same as code generated without debug information though maybe
sth changed in last years here.

> Okay, new envvar is perfect.
> As for the non-GNU make system, make_gcc.sh could use it indeed.

What do you think about using the same envvar names in make_{vc,bcc}.bat?

best regards,
Przemek
From cvc at oohg.org  Wed Aug  6 11:10:47 2008
From: cvc at oohg.org (Ciro Vargas Clemow)
Date: Wed Aug  6 11:11:05 2008
Subject: [Harbour] about memoediting
Message-ID: <4899BEF7.7020207@oohg.org>


hi all:


When I'm editing a text with memoedit, the cursor dissapear...

Is very dificult write a text without a visible cursor.

regards
Ciro




-- 
http://sistemascvc.tripod.com  (la casa del clip2win y nodosimp / the no2imp and 
clip2win home )

http://www.oohg.org ( Object Oriented Harbour GUI, more simple, more powerfull )


From harbour.01 at syenar.hu  Wed Aug  6 11:11:33 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 11:11:42 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <9257026e0808060751m7b1f33e3y1a6b6be11b968dbf@mail.gmail.com>
References: <20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<412502C4-03BF-4536-B728-7C18913144CA@syenar.hu>
	<9257026e0808050926p24f16b6ar37af28edb059bbab@mail.gmail.com>
	<0FCAE5D6-F1CA-48DC-B02A-97FDBFA68598@syenar.hu>
	<20080806105800.GC28548@34-mo7-2.acn.waw.pl>
	<3D190761-5705-4757-9999-ED45DB96E45C@syenar.hu>
	<20080806120243.GA11500@34-mo7-2.acn.waw.pl>
	<0BDBD8C3-1D08-4CA3-946B-4D5ECB428CBC@syenar.hu>
	<9257026e0808060648r5d4b59e0y9997a3026a041253@mail.gmail.com>
	<5A986E80-0886-4093-917B-E4806ED30894@syenar.hu>
	<9257026e0808060751m7b1f33e3y1a6b6be11b968dbf@mail.gmail.com>
Message-ID: <92713336-29ED-4CF9-AB79-CAE167794AB2@syenar.hu>

>
Hi Lorenzo,

> On Wed, Aug 6, 2008 at 4:14 PM, Szak?ts Viktor <harbour. 
> 01@syenar.hu> wrote:
>
>> Do you know if MinGW's linker has support for
>> incremental linking in recent versions?
>
> Sorry I don't know.
> For me msys/mingw, like Mac's xcode, are simply "compatibility tools".
> I update the the hg repositories and type make clean, make install.
> Then I test the executables and release them.

Okay, I understand. I understand your main development
platform is Linux, so to rephrase the question a bit,
does GCC on Linux has such incremental linking feature?
how snappy is a modify/compile/link/testrun cycle?

> What I know is that in gcc 4.3 Win is set as a "tier 2" platform while
> before it was "tier 3".
> This will likely result in a better support from gcc core team.

I didn't know, good news, and it was about time :)

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug  6 11:13:34 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 11:13:40 2008
Subject: [Harbour] MinGW harbour.dll stripping
In-Reply-To: <9257026e0808060757s2e985c26t91db086ea4cc555@mail.gmail.com>
References: <1FAB3706-93FF-444E-BE7D-96908470F56B@syenar.hu>
	<9257026e0808060757s2e985c26t91db086ea4cc555@mail.gmail.com>
Message-ID: <F7EE4C0B-DC55-43F1-A0FF-5EA17A8745B4@syenar.hu>

>>
Hi Lorenzo,

>> I use L_USR=-s to request stripping for all binaries for the
>> final binary distribution to avoid that. But this flag is not
>> effective for harbour.dll, since it's done outside the GNU
>> make system.
>
> Have you tried to "strip" the executables?
>
> With gcc the debug informations can be easily removed from the
> binaries using the strip command.
>
> I don't know if this is the case but It's a common practice in the gnu
> world to leave them in the libs and remove them only for the release
> binaries.

Yes, of course, I can strip it using 'strip', but it would be
better to include this step in the mainstream build process,
rather than implementing it in my local build scripts.

Brgds,
Viktor

From lautaro.moreira at gmail.com  Wed Aug  6 11:17:28 2008
From: lautaro.moreira at gmail.com (Lautaro Moreira)
Date: Wed Aug  6 11:17:52 2008
Subject: [Harbour] Re: Clipper for web applications!
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EEC1@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815EEB2@SRV02.deltain.net>	<g7728n$akn$1@ger.gmane.org><AFB948164110ED43B5EB849E8DEEF03815EEB9@SRV02.deltain.net>	<4899AD36.6060400@gmail.com>
	<AFB948164110ED43B5EB849E8DEEF03815EEC1@SRV02.deltain.net>
Message-ID: <g7cfab$3l9$1@ger.gmane.org>

Massimo,

Openlaszlo is for build gui interface and can using with any language 
programs for backend.

gliffy is only a example of the openlaszlo power.

In the other words, you write yours interface of application in 
openlaszlo and using harbour for the backend, the comunication from 
openlaszlo frontend with harbour backend can using xml files or cgi calls.

atte.,

Lautaro Moreira

Massimo Belgrano escribi?:
> This application is interesting so also openlaszo is interesting
> Which kind of integration do you think for harbour & gliffy?
> An harbour application will be hosted on this platform?
> 
> 
> -----Original Message-----
> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Lautaro
> Moreira
> Sent: Wednesday, August 06, 2008 3:55 PM
> To: harbour@harbour-project.org
> Subject: [Harbour] Re: Clipper for web applications!
> 
> In the http://www.gliffy.com/ exist a application running, and this is 
> building usign openlaszlo.
> 
> In this application you can design a flow diagrams.
> 
> 
> I'm working in a sample using harbour for the backend.
> 
> 
> 

From harbour.01 at syenar.hu  Wed Aug  6 11:21:00 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 11:21:07 2008
Subject: [Harbour] MinGW harbour.dll stripping
In-Reply-To: <20080806150936.GA25011@34-mo7-2.acn.waw.pl>
References: <1FAB3706-93FF-444E-BE7D-96908470F56B@syenar.hu>
	<20080806141347.GA18927@34-mo7-2.acn.waw.pl>
	<88F0456A-48CA-476B-8559-A7A9688CF56C@syenar.hu>
	<20080806150936.GA25011@34-mo7-2.acn.waw.pl>
Message-ID: <72B77E64-FF5D-43F2-919A-700DCE3BFBF9@syenar.hu>

>> Okay, new envvar is perfect.
>> As for the non-GNU make system, make_gcc.sh could use it indeed.
>
> What do you think about using the same envvar names in  
> make_{vc,bcc}.bat?

Of course, the more syncing we can do between our make systems,
the better.

make_b32/vc.bat already uses LDFLAGSDLL for similar purposes,
so the new one can be a replacement (or GNU-make compatible
synonym) for it, if that's what you mean.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug  6 11:23:55 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 11:24:02 2008
Subject: [Harbour] about memoediting
In-Reply-To: <4899BEF7.7020207@oohg.org>
References: <4899BEF7.7020207@oohg.org>
Message-ID: <45FBEF23-81DB-48D0-94A5-5B3DFC52FB04@syenar.hu>

Hi Ciro,

Can you send a working example which demonstrates this
problem?

Doing a quick test using a simple MemoEdit() call with not
other fuss, using GTWIN, the cursor is properly visible.

Brgds,
Viktor


On 2008.08.06., at 17:10, Ciro Vargas Clemow wrote:

>
> hi all:
>
>
> When I'm editing a text with memoedit, the cursor dissapear...
>
> Is very dificult write a text without a visible cursor.
>
> regards
> Ciro
>
>
>
>
> --  
> http://sistemascvc.tripod.com  (la casa del clip2win y nodosimp /  
> the no2imp and clip2win home )
>
> http://www.oohg.org ( Object Oriented Harbour GUI, more simple, more  
> powerfull )
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Wed Aug  6 11:26:00 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Aug  6 11:26:05 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <92713336-29ED-4CF9-AB79-CAE167794AB2@syenar.hu>
References: <20080805122425.GA27062@34-mo7-2.acn.waw.pl>
	<0FCAE5D6-F1CA-48DC-B02A-97FDBFA68598@syenar.hu>
	<20080806105800.GC28548@34-mo7-2.acn.waw.pl>
	<3D190761-5705-4757-9999-ED45DB96E45C@syenar.hu>
	<20080806120243.GA11500@34-mo7-2.acn.waw.pl>
	<0BDBD8C3-1D08-4CA3-946B-4D5ECB428CBC@syenar.hu>
	<9257026e0808060648r5d4b59e0y9997a3026a041253@mail.gmail.com>
	<5A986E80-0886-4093-917B-E4806ED30894@syenar.hu>
	<9257026e0808060751m7b1f33e3y1a6b6be11b968dbf@mail.gmail.com>
	<92713336-29ED-4CF9-AB79-CAE167794AB2@syenar.hu>
Message-ID: <9257026e0808060826p58ce47d6y4a94ec6718e035be@mail.gmail.com>

On Wed, Aug 6, 2008 at 5:11 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Okay, I understand. I understand your main development
> platform is Linux, so to rephrase the question a bit,
> does GCC on Linux has such incremental linking feature?

I don't know.

> how snappy is a modify/compile/link/testrun cycle?

As I said my development env is ... :) so probably I'm not the right
one that can answer.

Also I often use Eclipse which is not a "speedy guy" by itself but I
modify a prg click on the exe Eclipse rebuilds it and then launchs it.
When I make some "rare" :) mistakes it point me to the offending line and so on.

best regards,
Lorenzo
From druzus at acn.waw.pl  Wed Aug  6 11:30:06 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug  6 11:30:13 2008
Subject: [Harbour] MinGW harbour.dll stripping
In-Reply-To: <72B77E64-FF5D-43F2-919A-700DCE3BFBF9@syenar.hu>
References: <1FAB3706-93FF-444E-BE7D-96908470F56B@syenar.hu>
	<20080806141347.GA18927@34-mo7-2.acn.waw.pl>
	<88F0456A-48CA-476B-8559-A7A9688CF56C@syenar.hu>
	<20080806150936.GA25011@34-mo7-2.acn.waw.pl>
	<72B77E64-FF5D-43F2-919A-700DCE3BFBF9@syenar.hu>
Message-ID: <20080806153006.GA526@34-mo7-2.acn.waw.pl>

On Wed, 06 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Of course, the more syncing we can do between our make systems,
> the better.

I've just check that hb-mkslib.sh respect L_USR for most of platforms
and I added it because it was necessary in some *nixes or when user
uses some custom libraries. I forgot about it - it was about four years
ago. It means that it was quite well tested in different environments
so I'll change it to make the same in Windows too.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Aug  6 11:31:38 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug  6 11:31:43 2008
Subject: [Harbour] 2008-08-06 17:31 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808061531.m76FVcjb000661@31-mo5-4.acn.waw.pl>

2008-08-06 17:31 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
  * harbour/bin/postinst.sh
    * changed FM lib name to HBFM

  * harbour/bin/hb-mkslib.sh
    * respect L_USR also in Windows builds

best regards
Przemek
From mbelgrano at deltain.it  Wed Aug  6 11:34:36 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Aug  6 11:34:43 2008
Subject: [Harbour] Re: Clipper for web applications!
In-Reply-To: <g7cfab$3l9$1@ger.gmane.org>
References: <AFB948164110ED43B5EB849E8DEEF03815EEB2@SRV02.deltain.net>	<g7728n$akn$1@ger.gmane.org><AFB948164110ED43B5EB849E8DEEF03815EEB9@SRV02.deltain.net>	<4899AD36.6060400@gmail.com><AFB948164110ED43B5EB849E8DEEF03815EEC1@SRV02.deltain.net>
	<g7cfab$3l9$1@ger.gmane.org>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEC2@SRV02.deltain.net>

Very good !
Tell me when you have a sample using harbour for the backend
Do you think that is possible implement a gt?

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Lautaro Moreira
Sent: Wednesday, August 06, 2008 5:17 PM
To: harbour@harbour-project.org
Subject: [Harbour] Re: Clipper for web applications!

Massimo,

Openlaszlo is for build gui interface and can using with any language 
programs for backend.

gliffy is only a example of the openlaszlo power.

In the other words, you write yours interface of application in 
openlaszlo and using harbour for the backend, the comunication from 
openlaszlo frontend with harbour backend can using xml files or cgi calls.

atte.,

Lautaro Moreira

Massimo Belgrano escribi?:
> This application is interesting so also openlaszo is interesting
> Which kind of integration do you think for harbour & gliffy?
> An harbour application will be hosted on this platform?
> 
> 
> -----Original Message-----
> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Lautaro
> Moreira
> Sent: Wednesday, August 06, 2008 3:55 PM
> To: harbour@harbour-project.org
> Subject: [Harbour] Re: Clipper for web applications!
> 
> In the http://www.gliffy.com/ exist a application running, and this is 
> building usign openlaszlo.
> 
> In this application you can design a flow diagrams.
> 
> 
> I'm working in a sample using harbour for the backend.
> 
> 
> 

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From cvc at oohg.org  Wed Aug  6 11:38:08 2008
From: cvc at oohg.org (Ciro Vargas Clemow)
Date: Wed Aug  6 11:38:25 2008
Subject: [Harbour] about memoediting
In-Reply-To: <45FBEF23-81DB-48D0-94A5-5B3DFC52FB04@syenar.hu>
References: <4899BEF7.7020207@oohg.org>
	<45FBEF23-81DB-48D0-94A5-5B3DFC52FB04@syenar.hu>
Message-ID: <4899C560.6010403@oohg.org>

Szak?ts Viktor escribi?:
> Hi Ciro,
> 
> Can you send a working example which demonstrates this
> problem?
> 
> Doing a quick test using a simple MemoEdit() call with not
> other fuss, using GTWIN, the cursor is properly visible.

sorry Victor,  I missed say that I use GTWVG.

best regards
Ciro

> http://sistemascvc.tripod.com  (la casa del clip2win y nodosimp / the no2imp and 
clip2win home )

http://www.oohg.org ( Object Oriented Harbour GUI, more simple, more powerfull )


From harbour.01 at syenar.hu  Wed Aug  6 11:41:39 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 11:42:00 2008
Subject: [Harbour] 2008-08-06 17:31 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200808061531.m76FVcjb000661@31-mo5-4.acn.waw.pl>
References: <200808061531.m76FVcjb000661@31-mo5-4.acn.waw.pl>
Message-ID: <AF1D37B9-075C-46B7-88F2-9B7D67CC5777@syenar.hu>

Thanks a lot Przemek.

Is there anything else left before 1.0.0?

I'd personally not fiddle anymore with Windows .dll problems this time,
since I believe this is as far as we can go without deeper  
modifications.

We have this pending MemoEdit() cursor and AChoice() mousing problem,
none of them critical enough to stop the release, we can include it in
next version if someone takes the time to add the support.

The only remaining thing I can think of is removing hbcplr from
the GNU-make harbour dynamic libs.

Brgds,
Viktor

On 2008.08.06., at 17:31, Przemyslaw Czerpak wrote:

> 2008-08-06 17:31 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/bin/hb-func.sh
>  * harbour/bin/postinst.sh
>    * changed FM lib name to HBFM
>
>  * harbour/bin/hb-mkslib.sh
>    * respect L_USR also in Windows builds
>
> best regards
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug  6 11:43:40 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 11:43:49 2008
Subject: [Harbour] about memoediting
In-Reply-To: <4899C560.6010403@oohg.org>
References: <4899BEF7.7020207@oohg.org>
	<45FBEF23-81DB-48D0-94A5-5B3DFC52FB04@syenar.hu>
	<4899C560.6010403@oohg.org>
Message-ID: <DD4B826D-7F84-4140-9535-AC09DACA60ED@syenar.hu>

Okay, thanks Ciro.

All I can confirm is that it also works with GTWVT.

 From this point it seems a GTWVG contrib issue.

Brgds,
Viktor

On 2008.08.06., at 17:38, Ciro Vargas Clemow wrote:

> Szak?ts Viktor escribi?:
>> Hi Ciro,
>> Can you send a working example which demonstrates this
>> problem?
>> Doing a quick test using a simple MemoEdit() call with not
>> other fuss, using GTWIN, the cursor is properly visible.
>
> sorry Victor,  I missed say that I use GTWVG.
>
> best regards
> Ciro
>
>> http://sistemascvc.tripod.com  (la casa del clip2win y nodosimp /  
>> the no2imp and
> clip2win home )
>
> http://www.oohg.org ( Object Oriented Harbour GUI, more simple, more  
> powerfull )
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Wed Aug  6 11:44:17 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Aug  6 11:44:23 2008
Subject: [Harbour] ads and windows mobile
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEC3@SRV02.deltain.net>

This is reply of ads regarding windows mobile version of client for windows mobile for ads 9
>I understand it is currently being worked on but we do not have a beta available yet. ? 
>I will not guarantee it, but there is a chance it will be available with ADS 9.1 so look out for a 9.1 beta 
>(no confirmed date for when this will be available however). 

Massimo Belgrano

From harbour.01 at syenar.hu  Wed Aug  6 11:53:54 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 11:53:56 2008
Subject: [Harbour] 2008-08-06 17:53 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f7dc$Blat.v2.6.2$a0e656d8$10a47f307aba@127.0.0.1>

2008-08-06 17:53 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/whatsnew.txt
     + Updated with recent changes.
--
Brgds,
Viktor

From bedipritpal at hotmail.com  Wed Aug  6 13:31:05 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Aug  6 13:31:09 2008
Subject: [Harbour] about memoediting
In-Reply-To: <DD4B826D-7F84-4140-9535-AC09DACA60ED@syenar.hu>
References: <4899BEF7.7020207@oohg.org>
	<45FBEF23-81DB-48D0-94A5-5B3DFC52FB04@syenar.hu>
	<4899C560.6010403@oohg.org>
	<DD4B826D-7F84-4140-9535-AC09DACA60ED@syenar.hu>
Message-ID: <18856047.post@talk.nabble.com>


Hello

>All I can confirm is that it also works with GTWVT.

>From this point it seems a GTWVG contrib issue.

Though GTWVG is almost identical with GTWVT on
I/O levels, I suspect something else is responsible.
I will look into this issue today evening.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/about-memoediting-tp18853331p18856047.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Wed Aug  6 13:52:12 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug  6 13:52:17 2008
Subject: [Harbour] 2008-08-06 17:31 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <AF1D37B9-075C-46B7-88F2-9B7D67CC5777@syenar.hu>
References: <200808061531.m76FVcjb000661@31-mo5-4.acn.waw.pl>
	<AF1D37B9-075C-46B7-88F2-9B7D67CC5777@syenar.hu>
Message-ID: <20080806175212.GA1205@34-mo7-2.acn.waw.pl>

On Wed, 06 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Is there anything else left before 1.0.0?

Build tests. I'll try to make some test with OpenSolaris on x86
machine ASAP.

> I'd personally not fiddle anymore with Windows .dll problems this time,
> since I believe this is as far as we can go without deeper  
> modifications.

Let's leave it as is now.

> We have this pending MemoEdit() cursor and AChoice() mousing problem,
> none of them critical enough to stop the release, we can include it in
> next version if someone takes the time to add the support.

Adding mouse to AChoice() should be trivial for someone who knows this
code or at least knows what AChoice() should do. I can make it but I've
never used AChoice() in Clipper so 1-st I will have to make some tests
what will consume the time. If you know it then as I can see in xHarbour
it will be enough to add support for K_LBUTTONDOWN and K_LDBLCLK (in
practice the same but K_LDBLCLK should simulate also ENTER action).
We can also support for add K_MWFORWARD/K_MWBACKWARD as synonyms of
K_PGUP/K_PGDN just like in xHarbour.

> The only remaining thing I can think of is removing hbcplr from
> the GNU-make harbour dynamic libs.

I'll make it ASAP.

best regards
Przemek
From lorenzo.fiorini at gmail.com  Wed Aug  6 13:57:57 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Aug  6 13:58:01 2008
Subject: [Harbour] 2008-08-06 17:31 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <AF1D37B9-075C-46B7-88F2-9B7D67CC5777@syenar.hu>
References: <200808061531.m76FVcjb000661@31-mo5-4.acn.waw.pl>
	<AF1D37B9-075C-46B7-88F2-9B7D67CC5777@syenar.hu>
Message-ID: <9257026e0808061057v105c4a26m57b495af20738327@mail.gmail.com>

On Wed, Aug 6, 2008 at 5:41 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Is there anything else left before 1.0.0?
>
> I'd personally not fiddle anymore with Windows .dll problems this time,
> since I believe this is as far as we can go without deeper modifications.
>
> We have this pending MemoEdit() cursor and AChoice() mousing problem,
> none of them critical enough to stop the release, we can include it in
> next version if someone takes the time to add the support.
>
> The only remaining thing I can think of is removing hbcplr from
> the GNU-make harbour dynamic libs.

I've just built svn under Linux, Win msys/mingw and Mac OS X and I
didn't get any warning or error.

Everything works as expected, all the apps are built without errors
and for the first time I've seen my new "web interface" under the Mac.

Many thanks to all.

best regards,
Lorenzo
From mbelgrano at deltain.it  Wed Aug  6 14:26:21 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Aug  6 14:26:28 2008
Subject: R: [Harbour] about memoediting
In-Reply-To: <18856047.post@talk.nabble.com>
References: <4899BEF7.7020207@oohg.org><45FBEF23-81DB-48D0-94A5-5B3DFC52FB04@syenar.hu><4899C560.6010403@oohg.org><DD4B826D-7F84-4140-9535-AC09DACA60ED@syenar.hu>
	<18856047.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEC5@SRV02.deltain.net>

memoedit work in mysample with gtwvg

-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] Per conto di Pritpal Bedi
Inviato: mercoled? 6 agosto 2008 19.31
A: harbour@harbour-project.org
Oggetto: Re: [Harbour] about memoediting


Hello

>All I can confirm is that it also works with GTWVT.

>From this point it seems a GTWVG contrib issue.

Though GTWVG is almost identical with GTWVT on
I/O levels, I suspect something else is responsible.
I will look into this issue today evening.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/about-memoediting-tp18853331p18856047.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From cvc at oohg.org  Wed Aug  6 14:41:00 2008
From: cvc at oohg.org (Ciro Vargas Clemow)
Date: Wed Aug  6 14:41:18 2008
Subject: [Harbour] about memoediting
In-Reply-To: <18856047.post@talk.nabble.com>
References: <4899BEF7.7020207@oohg.org>	<45FBEF23-81DB-48D0-94A5-5B3DFC52FB04@syenar.hu>	<4899C560.6010403@oohg.org>	<DD4B826D-7F84-4140-9535-AC09DACA60ED@syenar.hu>
	<18856047.post@talk.nabble.com>
Message-ID: <4899F03C.8090008@oohg.org>

Pritpal Bedi escribi?:
> Hello
> 
>> All I can confirm is that it also works with GTWVT.
> 
>>From this point it seems a GTWVG contrib issue.
> 
> Though GTWVG is almost identical with GTWVT on
> I/O levels, I suspect something else is responsible.
> I will look into this issue today evening.


Thanks Pritpal

Best regards

Ciro

> 
-- 
http://sistemascvc.tripod.com  (la casa del clip2win y nodosimp / the no2imp and 
clip2win home )

http://www.oohg.org ( Object Oriented Harbour GUI, more simple, more powerfull )


From cvc at oohg.org  Wed Aug  6 14:42:37 2008
From: cvc at oohg.org (Ciro Vargas Clemow)
Date: Wed Aug  6 14:42:50 2008
Subject: R: [Harbour] about memoediting
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EEC5@SRV02.deltain.net>
References: <4899BEF7.7020207@oohg.org><45FBEF23-81DB-48D0-94A5-5B3DFC52FB04@syenar.hu><4899C560.6010403@oohg.org><DD4B826D-7F84-4140-9535-AC09DACA60ED@syenar.hu>	<18856047.post@talk.nabble.com>
	<AFB948164110ED43B5EB849E8DEEF03815EEC5@SRV02.deltain.net>
Message-ID: <4899F09D.4060109@oohg.org>

Massimo Belgrano escribi?:
> memoedit work in mysample with gtwvg
> 


Massimo you may post your sample in order to test in my system.




best regards
Ciro

-- 
http://sistemascvc.tripod.com  (la casa del clip2win y nodosimp / the no2imp and 
clip2win home )

http://www.oohg.org ( Object Oriented Harbour GUI, more simple, more powerfull )


From harbour.01 at syenar.hu  Wed Aug  6 15:23:59 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 15:24:08 2008
Subject: [Harbour] about memoediting
In-Reply-To: <4899F03C.8090008@oohg.org>
References: <4899BEF7.7020207@oohg.org>	<45FBEF23-81DB-48D0-94A5-5B3DFC52FB04@syenar.hu>	<4899C560.6010403@oohg.org>	<DD4B826D-7F84-4140-9535-AC09DACA60ED@syenar.hu>
	<18856047.post@talk.nabble.com> <4899F03C.8090008@oohg.org>
Message-ID: <B3390D82-11D9-4FC2-AE0C-7FD783D19EE8@syenar.hu>

Hi Ciro,

It would still be useful, if you'd post your
reduced working example to demonstrate the
problem.

Brgds,
Viktor

On 2008.08.06., at 20:41, Ciro Vargas Clemow wrote:

> Pritpal Bedi escribi?:
>> Hello
>>> All I can confirm is that it also works with GTWVT.
>>> From this point it seems a GTWVG contrib issue.
>> Though GTWVG is almost identical with GTWVT on
>> I/O levels, I suspect something else is responsible.
>> I will look into this issue today evening.
>
>
> Thanks Pritpal
>
> Best regards
>
> Ciro
>
> --  
> http://sistemascvc.tripod.com  (la casa del clip2win y nodosimp /  
> the no2imp and clip2win home )
>
> http://www.oohg.org ( Object Oriented Harbour GUI, more simple, more  
> powerfull )
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From cvc at oohg.org  Wed Aug  6 15:29:33 2008
From: cvc at oohg.org (Ciro Vargas Clemow)
Date: Wed Aug  6 15:29:42 2008
Subject: [Harbour] about memoediting
In-Reply-To: <B3390D82-11D9-4FC2-AE0C-7FD783D19EE8@syenar.hu>
References: <4899BEF7.7020207@oohg.org>	<45FBEF23-81DB-48D0-94A5-5B3DFC52FB04@syenar.hu>	<4899C560.6010403@oohg.org>	<DD4B826D-7F84-4140-9535-AC09DACA60ED@syenar.hu>	<18856047.post@talk.nabble.com>
	<4899F03C.8090008@oohg.org>
	<B3390D82-11D9-4FC2-AE0C-7FD783D19EE8@syenar.hu>
Message-ID: <4899FB9D.6040609@oohg.org>

Szak?ts Viktor escribi?:
> Hi Ciro,
> 
> It would still be useful, if you'd post your
> reduced working example to demonstrate the
> problem.

I was testing with little sample and work ok.

But in my big aplication the problem persist.

I don't found the problem in my code yet.

what kind of code could hide the cursor in a memoedit, i'm really lost...

best regards
Ciro

-- 
http://sistemascvc.tripod.com  (la casa del clip2win y nodosimp / the no2imp and 
clip2win home )

http://www.oohg.org ( Object Oriented Harbour GUI, more simple, more powerfull )


From harbour.01 at syenar.hu  Wed Aug  6 15:29:53 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 15:30:02 2008
Subject: [Harbour] Fwd: Some missing xhb functions from Harbour
References: <7ECE7421-0506-4D6E-8DD1-488AF90F59AD@syenar.hu>
Message-ID: <D5B5F76A-910B-4187-8A7A-D21FB3BAD14A@syenar.hu>

Hi Przemek and all,

I'm forwarding one recent message I received
in my local mailbox (plus my answer to it).
The topic is some missing xhb class related
API functions.

I'm not saying to include these before 1.0.0
or include them at all, but here it is for
further consideration. In any case, I'd give
these functions better names.

Brgds,
Viktor

Begin forwarded message:

> From: Szak?ts Viktor <harbour.01@syenar.hu>
> Date: 2008. j?lius 21. 12:40:06 GMT+02:00
> To: Maurizio la Cecilia <m.lacecilia@gmail.com>
> Cc: "'VATzCT'" <vatzct@polly.com.ua>, <hwgui-developers@lists.sourceforge.net 
> >
> Subject: Re: R: [Hwgui-developers] build designer...
>
> Hi Maurizio,
>
> I can't really judge these extra functions, all I can
> say at this point is that their names are very unclear
> to me. However, if they are otherwise useful or give better
> xhb compatibility, we may include them, or their
> functionality in Harbour.
>
> Please raise this question on the devel-list.
>
> Brgds,
> Viktor
>
> On 2008.07.10., at 10:32, Maurizio la Cecilia wrote:
>
>> None ready, as objfunc.prg of Harbour lacks of some very useful  
>> functions
>> present in xHarbour.
>> I send this mail to Viktor also because would be good if in the  
>> coming
>> release of Harbour this will be added.
>> I've changed the blddesig.bat to comply with harbour compilation  
>> and i'll
>> commit with many other changes i've ready and now testing.
>> Alex, good thing could be if you post next bug issues and enhancement
>> requests to the wiki, so we can quickly share the problem and  
>> assign to a
>> developer for fast resolution.
>> The url is http://hwgui.altervista.org and the tracker is in the  
>> section
>> "Bugs and enhancements". If you agree, we'll give an account as  
>> developer
>> and you will partecipate to the job.
>> Best regards.
>>
>> Maurizio la Cecilia
>>
>>
>>> -----Messaggio originale-----
>>> Da: hwgui-developers-bounces@lists.sourceforge.net
>>> [mailto:hwgui-developers-bounces@lists.sourceforge.net] Per
>>> conto di VATzCT
>>> Inviato: gioved? 10 luglio 2008 8.18
>>> A: hwgui-developers@lists.sourceforge.net
>>> Oggetto: [Hwgui-developers] build designer...
>>>
>>> I got this:
>>> Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
>>> Error: Unresolved external '_HB_FUN___OBJGETVALUEDIFF'
>>> referenced from
>>> D:\HWGUI\UTILS\DESIGNER\INSPECT.OBJ
>>>
>>> Which function i should use in harbour instead of __ObjGetValueDiff?
>>>
>>> Regards,
>>> Alexey Myronenko
>>>
>>>
>>>
>>> --------------------------------------------------------------
>>> -----------
>>> Sponsored by: SourceForge.net Community Choice Awards: VOTE NOW!
>>> Studies have shown that voting for your favorite open source  
>>> project,
>>> along with a healthy diet, reduces your potential for chronic  
>>> lameness
>>> and boredom. Vote Now at http://www.sourceforge.net/community/cca08
>>> _______________________________________________
>>> Hwgui-developers mailing list
>>> Hwgui-developers@lists.sourceforge.net
>>> https://lists.sourceforge.net/lists/listinfo/hwgui-developers
>>>
>>
>

From harbour.01 at syenar.hu  Wed Aug  6 15:36:42 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 15:36:50 2008
Subject: [Harbour] about memoediting
In-Reply-To: <4899FB9D.6040609@oohg.org>
References: <4899BEF7.7020207@oohg.org>	<45FBEF23-81DB-48D0-94A5-5B3DFC52FB04@syenar.hu>	<4899C560.6010403@oohg.org>	<DD4B826D-7F84-4140-9535-AC09DACA60ED@syenar.hu>	<18856047.post@talk.nabble.com>
	<4899F03C.8090008@oohg.org>
	<B3390D82-11D9-4FC2-AE0C-7FD783D19EE8@syenar.hu>
	<4899FB9D.6040609@oohg.org>
Message-ID: <A9120922-64B9-4E0E-B458-934B52C7469E@syenar.hu>

Does the same code work properly with Clipper?
(if you can still compile it with Clipper of course)

I'd start with the obvious SetCursor(), SET CURSOR, and
Set( _SET_CURSOR, ), maybe hb_gtInfo(), and SetMode(), too.

Brgds,
Viktor

On 2008.08.06., at 21:29, Ciro Vargas Clemow wrote:

> Szak?ts Viktor escribi?:
>> Hi Ciro,
>> It would still be useful, if you'd post your
>> reduced working example to demonstrate the
>> problem.
>
> I was testing with little sample and work ok.
>
> But in my big aplication the problem persist.
>
> I don't found the problem in my code yet.
>
> what kind of code could hide the cursor in a memoedit, i'm really  
> lost...
>
> best regards
> Ciro
>
> -- 
> http://sistemascvc.tripod.com  (la casa del clip2win y nodosimp /  
> the no2imp and clip2win home )
>
> http://www.oohg.org ( Object Oriented Harbour GUI, more simple, more  
> powerfull )
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From cvc at oohg.org  Wed Aug  6 15:36:50 2008
From: cvc at oohg.org (Ciro Vargas Clemow)
Date: Wed Aug  6 15:37:24 2008
Subject: [Harbour] about memo fixed
Message-ID: <4899FD52.2060502@oohg.org>



hi all:

sorry with this "problem"

I found the problem in my code.

best regards
Ciro

-- 
http://sistemascvc.tripod.com  (la casa del clip2win y nodosimp / the no2imp and 
clip2win home )

http://www.oohg.org ( Object Oriented Harbour GUI, more simple, more powerfull )


From mbelgrano at deltain.it  Wed Aug  6 15:53:48 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Aug  6 15:53:58 2008
Subject: R: [Harbour] about memo fixed
In-Reply-To: <4899FD52.2060502@oohg.org>
References: <4899FD52.2060502@oohg.org>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEC6@SRV02.deltain.net>

Here Is my test
    ANNOUNCE HB_GTSYS
    REQUEST HB_GT_WVG
    REQUEST HB_GT_WVT
    ANNOUNCE HB_GT_WVG_DEFAULT

    PROC MAIN()
     CLS
     ? HB_GTVERSION(), HB_GTVERSION(1)
     Name="TESTE"+space(30)+CHR(13)+CHR(10)
     memoedit(NAME,2,2,23,70)
     INKEY( 0 )
    RETURN
During my test I notice problem with this sample that work in clipper and emulate foxbase edit command
Cursor is off and My app crash on exit
set HB_ARCHITECTURE=w32
set HB_COMPILER=bcc32
set HB_USER_LIBS=gtwvt.lib gtwvg.lib
SET CFLAGS= -tW -a8 -OS -O2 -5 -6 -DADS_REQUIRE_VERSION=7  


//.............................................................................
//
//   Program Name: SAMPLE.PRG        Copyright: Asta Engineering, Inc.                                   
//   Date Created: 06/02/93           Language: Clipper 5.0                                         
//   Time Created: 15:20:52             Author: John C. Burkhard                          
//
//.............................................................................
// sample program to demonstrate @...Edit

    ANNOUNCE HB_GTSYS
    REQUEST HB_GT_WVG
    REQUEST HB_GT_WVT
    ANNOUNCE HB_GT_WVG_DEFAULT

       
#command @ <top>, <left> TO <bottom>, <right> EDIT <var>             ;
   [WHEN <when>]                                                     ;
   [COLOR <color>]                                                   ;
   [<scroll: SCROLL>]                                                ;
   =>                                                                ;
      aadd( GetList, GetNew() )                                      ;
      ;aTail( GetList ):row := <top>                                 ;
      ;aTail( GetList ):col := <left>                                ;
      ;aTail( GetList ):name := #<var>                               ;
      ;aTail( GetList ):block := { |__val| iif( pcount()>0,          ;
                                                <var>:=__val,<var>)} ;
      ;aTail( GetList ):picture := "X"                               ;
      ;aTail( GetList ):reader := { |g| __editread( g, <top>,        ;
                           <left>, <bottom>, <right>, <.scroll.> ) } ;
      [;aTail( GetList ):preblock := <{when}>]                       ;
      [;aTail( GetList ):ColorSpec := <color>]                       ;
      ;__editdisp( <var>, <top>, <left>, <bottom>, <right>,          ;
                   <.scroll.>, <color> )
#include "Inkey.ch"
				   
static sExitState := nil                         // for passing the exit state back to our get object
static sMaxLines := 0                            // for telling our memoedit() UDF how many lines in window
static sScrollable := .T.                        // for telling our memoedit() UDF if window is scrollable


// Quick documentation:
//
// Syntax is as described above.  The SCROLL keyword controls whether the
// window is a scrolling window (like a real editor) or a non-scrolling
// window.  Non-scrolling windows are useful for fixed length fields, while
// scrolling windows are useful for memo-fields.
//
// Depending upon your application, when working with fixed length
// fields, it may be handy to pass the the field through memotran() to
// convert hard CR's and soft CR's into something a little more
// meaningful.


function main( )

   local cFld1, cFld2, cFld3
   local GetList := { }
   SET EVENTMASK TO INKEY_ALL
   cFld1 := space(240)
   cFld2 := space(240)
   cFld3 := space(1)

   clear screen

   @ 0,0 to 5,61
   @ 0,1 say " Field 1 Note without scroll"
   @ 1,1 to 4, 60 edit cFld1

   @ 7,0 to 14,41
   @ 7,1 say " Field 2 Note scroll"
   @ 8,1 to 13,40 edit cFld2 scroll

   @ 16,0 say "Field 3:" get cFld3 picture "@S40"  // scroll
   @  22,0 SAY  HB_GTVERSION()+ HB_GTVERSION(1)

   read

return nil

//.............................................................................
//
//   Program Name: ATEDIT.PRG        Copyright: Asta Engineering, Inc.
//   Date Created: 04/30/92           Language: Clipper 5.0
//   Time Created: 12:16:39             Author: John C. Burkhard
//
//.............................................................................
// Revision: 1.01 Last Revised: 05/21/93 at 15:07:26
// Description: Stand-alone version
//
// Removed all references to the window library to make it a stand-alone
// UDC.
//.............................................................................

//
// Known anomalies:
//
// Checking LastKey() will return innacurate results.  To exit from
// MemoEdit() we must stuff a K_CTRL_END into the keyboard, since MemoEdit()
// seems to ignore any return values during idle states.  For this reason,
// if you use the @..EDIT command in your program, don't count on LastKey()
// accurately reporting the last key press!
//
// At some point in the future, CA will have to address this behavior or
// someone will have to release a replacement MemoEdit() which is more like
// TBrowse().  MemoEdit() is a hold over from the 'bad' old days and should
// have been disposed of a long time ago.
//
// Better yet would be a get system which uses something a little more 
// sophisticated than LastKey() and Updated() to return the exit state.
//


#include "inkey.ch"
#include "getexit.ch"
#include "memoedit.ch"

#define TAB_SIZE 5

#define ExitState( x ) sExitState := x ;
   ; keyboard chr( K_CTRL_END ) ;
   ; lSoftExit := .T.




/*
** __editdisp( ) - display the contents of the edit window for an @...edit
*/

function __editdisp( cBuf, nTop, nLeft, nBottom, nRight, lScrollable, cColor )
   local nWidth
   local nLines
   local nI
   local cOldCol
   local cLine
   local GetList := { }

   nWidth := nRight - nLeft + 1
   nLines := nBottom - nTop + 1
   if ( empty( cColor ) )
      for nI := 1 to nLines
         cLine := memoline( cBuf, nWidth, nI, TAB_SIZE, .T. )
         @ nTop + nI - 1, nLeft get cLine
      next
   else
      for nI := 1 to nLines
         cLine := memoline( cBuf, nWidth, nI, TAB_SIZE, .T. )
         @ nTop + nI - 1, nLeft get cLine color cColor
      next
   endif

return nil



/*
** __editread( ) - reader function for @...edit command
*/

function __editread( oGet, nTop, nLeft, nBottom, nRight, lScrollable )
   local nWidth
   local nLines
   local nCurLin
   local cOldCol
   local cBuffer

   if ( oGet:preblock != nil .and. !eval( oGet:preblock ) )
      oGet:exitstate := GE_WHEN
   else
      sScrollable := iif( lScrollable == nil, .T., lScrollable )
      cOldCol := SetColor( oGet:colorSpec )
      nWidth := nRight - nLeft + 1
      nLines := nBottom - nTop + 1
      sMaxLines := nLines
      cbuffer := eval( oGet:block )
      cBuffer := memoedit( cBuffer, nTop, nLeft, nBottom, nRight, ;
         .T.,;                                   // edit mode
         "__editmemo",;                          // reader function
         nWidth, ;
         TAB_SIZE, ;
         0, 0, 0, 0 )
      if ( sExitState != GE_ESCAPE )
         if ( sExitState == GE_DOWN .or. ( sExitState == GE_WRITE .and. !lScrollable ) )
            __editdisp( cBuffer, nTop, nLeft, nBottom, nRight )
         endif
         eval( oGet:block, cBuffer )
      endif

      oGet:exitstate := sExitState
      setcolor( cOldCol )
   endif

return nil



/*
** __editmemo( ) - memoedit() user function
*/

function __editmemo( nMode, nLine, nColumn )
   local nRetVal
   local nKey
   static nLastLine
   static lSoftExit

   nKey := LastKey()

   do case
      case !sScrollable
         do case
            case nMode == ME_INIT
               nLastLine := 1
               lSoftExit := .F.
               nRetVal := 0
               keyboard chr(0)
            case nMode == ME_UNKEY .or. nMode == ME_UNKEYX
               nRetVal := ME_DEFAULT
               do case
                  case nKey == K_ESC
                     sExitState := GE_ESCAPE
                     nRetVal := K_ESC
                  case nKey == K_CTRL_END .and. !lSoftExit
                     sExitState := GE_WRITE
                     nRetVal := K_CTRL_END
                  case nKey == K_CTRL_END .and. lSoftExit
                     nRetVal := K_CTRL_END
               endcase

            case nMode == ME_IDLE

               //
               // ExitState() stuffs the keyboard with a K_CTRL_END
               // to force MemoEdit() to exit.  Values returned from
               // idle states seem to be ignored by MemoEdit().  For
               // this reason, if you use the @..EDIT command in your
               // program, you can't rely on LastKey() to accurately
               // report the last key pressed!
               //

               do case
                  case nKey == K_PGDN
                     ExitState( GE_WRITE )

                  case nKey == K_PGUP
                     ExitState( GE_WRITE )

                  case nKey == K_DOWN .and. nLastLine >= sMaxLines
                     ExitState( GE_DOWN )

                  case nKey == K_UP .and. nLastLine == 1
                     ExitState( GE_UP )

                  case nKey == K_ENTER .and. nLastLine >= sMaxLines
                     ExitState( GE_DOWN )

                  case nLine > sMaxLines
                     ExitState( GE_DOWN )

                  case nKey == K_CTRL_END
                     ExitState( GE_WRITE )
               endcase

               nLastLine := nLine

         endcase

      case sScrollable
         do case
            case nMode == ME_INIT
               nLastLine := 1
               lSoftExit := .F.
               nRetVal := 0
               keyboard chr(0)

            case nMode == ME_UNKEY .or. nMode == ME_UNKEYX
               nRetVal := ME_DEFAULT
               do case
                  case nKey == K_ESC
                     sExitState := GE_ESCAPE
                     nRetVal := K_ESC
                  case nKey == K_CTRL_END .and. lSoftExit
                     sExitState := GE_WRITE
                     nRetVal := K_CTRL_END
                  case nKey == K_CTRL_W
                     sExitState := GE_WRITE
                     nRetVal := K_CTRL_END
                  case nKey == K_CTRL_Q
                     sExitState := GE_ESCAPE
                     nRetVal := K_ESC
               endcase

            case nMode == ME_IDLE
               // do nothing...

         endcase
   endcase

return nRetVal




-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] Per conto di Ciro Vargas Clemow
Inviato: mercoled? 6 agosto 2008 21.37
A: Harbour Project Main Developer List.
Oggetto: [Harbour] about memo fixed



hi all:

sorry with this "problem"

I found the problem in my code.

best regards
Ciro

-- 
http://sistemascvc.tripod.com  (la casa del clip2win y nodosimp / the no2imp and 
clip2win home )

http://www.oohg.org ( Object Oriented Harbour GUI, more simple, more powerfull )


_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Wed Aug  6 15:58:28 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 15:58:36 2008
Subject: [Harbour] harbour -k case insensitivity
Message-ID: <9098D694-CF84-4886-A9A1-B0B06C359896@syenar.hu>

Hi all,

I'd like to propose the above (last) switch cleanup
before 1.0.0. The point is to make these switches
case-insensitive too, like all the rest of Harbour
command-line switches.

This creates no compatibility problems, but
- if implemented - -km will mean the same as
-kM and -kc will be the same -kC.

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Aug  6 16:05:28 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug  6 16:06:14 2008
Subject: [Harbour] Fwd: Some missing xhb functions from Harbour
In-Reply-To: <D5B5F76A-910B-4187-8A7A-D21FB3BAD14A@syenar.hu>
References: <7ECE7421-0506-4D6E-8DD1-488AF90F59AD@syenar.hu>
	<D5B5F76A-910B-4187-8A7A-D21FB3BAD14A@syenar.hu>
Message-ID: <20080806200528.GA1772@34-mo7-2.acn.waw.pl>

On Wed, 06 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> I'm forwarding one recent message I received
> in my local mailbox (plus my answer to it).
> The topic is some missing xhb class related
> API functions.
> I'm not saying to include these before 1.0.0
> or include them at all, but here it is for
> further consideration. In any case, I'd give
> these functions better names.

I was taking about it with Maurizio and finally I added:

2008-07-31 17:41 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
    + adding 2-nd parameter to __clsGetProperties()
      When it's TRUE then __clsGetProperties() returns also exported
      messages which have corresponding assign messages (with "_" prefix)
    + added __objGetProperties( oObject, [ lAllExported = .F. ] ) ->
                  aMsgAndValues
      This function returns list of PROPERTY message with their values,
      when 2-nd parameter is true it also returns exported messages which
      which have corresponding assign messages (with "_" prefix)
      This function is designed to use in object inspectors.

what seems to address the problem much better then using
__ObjGetValueDiff() in xHarbour which was not designed to
write object inspectors and has some serious bugs.
If there are some other suggestions or extensions requests
then we can talk about them and I can implement what we agree.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Aug  6 16:21:51 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 16:21:54 2008
Subject: [Harbour] 2008-08-06 22:18 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f802$Blat.v2.6.2$0f9f5082$fccfb66e39e@127.0.0.1>

2008-08-06 22:18 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/compiler/hbusage.c
     + Updated credit list based on contributors 
       committing ChangeLog entries.
       If anyone has someone to recommend to add to the list, 
       please do this on the devl-list.

   * source/compiler/hbusage.c
   * source/compiler/cmdcheck.c
     + -k? switches made case-insensitive.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug  6 16:22:11 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 16:22:19 2008
Subject: [Harbour] Fwd: Some missing xhb functions from Harbour
In-Reply-To: <20080806200528.GA1772@34-mo7-2.acn.waw.pl>
References: <7ECE7421-0506-4D6E-8DD1-488AF90F59AD@syenar.hu>
	<D5B5F76A-910B-4187-8A7A-D21FB3BAD14A@syenar.hu>
	<20080806200528.GA1772@34-mo7-2.acn.waw.pl>
Message-ID: <A0929590-4BFF-4294-ADD6-7F2CDCA1A0EA@syenar.hu>

Hi Przemek,

Okay, this makes things clear.

Not any request from me, and I think this way
it's clean and perfectly well (and better than
the xhb API for sure).

Brgds,
Viktor

On 2008.08.06., at 22:05, Przemyslaw Czerpak wrote:

> On Wed, 06 Aug 2008, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>> I'm forwarding one recent message I received
>> in my local mailbox (plus my answer to it).
>> The topic is some missing xhb class related
>> API functions.
>> I'm not saying to include these before 1.0.0
>> or include them at all, but here it is for
>> further consideration. In any case, I'd give
>> these functions better names.
>
> I was taking about it with Maurizio and finally I added:
>
> 2008-07-31 17:41 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>    + adding 2-nd parameter to __clsGetProperties()
>      When it's TRUE then __clsGetProperties() returns also exported
>      messages which have corresponding assign messages (with "_"  
> prefix)
>    + added __objGetProperties( oObject, [ lAllExported = .F. ] ) ->
>                  aMsgAndValues
>      This function returns list of PROPERTY message with their values,
>      when 2-nd parameter is true it also returns exported messages  
> which
>      which have corresponding assign messages (with "_" prefix)
>      This function is designed to use in object inspectors.
>
> what seems to address the problem much better then using
> __ObjGetValueDiff() in xHarbour which was not designed to
> write object inspectors and has some serious bugs.
> If there are some other suggestions or extensions requests
> then we can talk about them and I can implement what we agree.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug  6 16:57:40 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 16:57:44 2008
Subject: [Harbour] 2008-08-06 22:56 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f807$Blat.v2.6.2$109e8886$44d0a9307b1c@127.0.0.1>

2008-08-06 22:56 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/hbzlib/zconf.h
     * Undone previous ZLIB_DLL related change, as it causes these 
       warnings, when compiled with MSVS:
       hbzlib.obj : warning LNK4217: locally defined symbol _inflateEnd imported in function _hb_zlibUncompressedSize
       hbzlib.obj : warning LNK4217: locally defined symbol _inflate imported in function _hb_zlibUncompressedSize
       hbzlib.obj : warning LNK4217: locally defined symbol _inflateInit_ imported in function _hb_zlibUncompressedSize
       hbzlib.obj : warning LNK4217: locally defined symbol _zlibVersion imported in function _HB_FUN_HB_ZLIBVERSION
       hbzlib.obj : warning LNK4217: locally defined symbol _compressBound imported in function _HB_FUN_HB_COMPRESSBOUND
       hbzlib.obj : warning LNK4217: locally defined symbol _compress imported in function _HB_FUN_HB_COMPRESS
       hbzlib.obj : warning LNK4217: locally defined symbol _compress2 imported in function _HB_FUN_HB_COMPRESS
       hbzlib.obj : warning LNK4217: locally defined symbol _uncompress imported in function _HB_FUN_HB_UNCOMPRESS
       hbzlib.obj : warning LNK4217: locally defined symbol _gzclose imported in function _hb_gz_Destructor
       hbzlib.obj : warning LNK4217: locally defined symbol _gzopen imported in function _HB_FUN_HB_GZOPEN
       hbzlib.obj : warning LNK4217: locally defined symbol _gzdopen imported in function _HB_FUN_HB_GZDOPEN
       hbzlib.obj : warning LNK4217: locally defined symbol _gzsetparams imported in function _HB_FUN_HB_GZSETPARAMS
       hbzlib.obj : warning LNK4217: locally defined symbol _gzread imported in function _HB_FUN_HB_GZREAD
       hbzlib.obj : warning LNK4217: locally defined symbol _gzwrite imported in function _HB_FUN_HB_GZWRITE
       hbzlib.obj : warning LNK4217: locally defined symbol _gzgets imported in function _HB_FUN_HB_GZGETS
       hbzlib.obj : warning LNK4217: locally defined symbol _gzputs imported in function _HB_FUN_HB_GZPUTS
       hbzlib.obj : warning LNK4217: locally defined symbol _gzgetc imported in function _HB_FUN_HB_GZGETC
       hbzlib.obj : warning LNK4217: locally defined symbol _gzungetc imported in function _HB_FUN_HB_GZUNGETC
       hbzlib.obj : warning LNK4217: locally defined symbol _gzflush imported in function _HB_FUN_HB_GZFLUSH
       hbzlib.obj : warning LNK4217: locally defined symbol _gzseek imported in function _HB_FUN_HB_GZSEEK
       hbzlib.obj : warning LNK4217: locally defined symbol _gzrewind imported in function _HB_FUN_HB_GZREWIND
       hbzlib.obj : warning LNK4217: locally defined symbol _gztell imported in function _HB_FUN_HB_GZTELL
       hbzlib.obj : warning LNK4217: locally defined symbol _gzeof imported in function _HB_FUN_HB_GZEOF
       hbzlib.obj : warning LNK4217: locally defined symbol _gzdirect imported in function _HB_FUN_HB_GZDIRECT
       hbzlib.obj : warning LNK4217: locally defined symbol _gzerror imported in function _HB_FUN_HB_GZERROR
       hbzlib.obj : warning LNK4217: locally defined symbol _gzclearerr imported in function _HB_FUN_HB_GZCLEARERR
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug  6 17:07:46 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 17:07:49 2008
Subject: [Harbour] 2008-08-06 23:07 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f808$Blat.v2.6.2$799e57ca$49205ce8fc70@127.0.0.1>

2008-08-06 23:07 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbapollo/Makefile
     ! Excluded from DOS builds.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug  6 18:23:49 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 18:23:58 2008
Subject: [Harbour] Pelles C and unused var warnings
Message-ID: <AD724686-09D2-42BF-8747-98CDD50A09A6@syenar.hu>

Hi all,

I see that HB_SYMBOL_UNUSED() doesn't work for Pelles C.

Is there anyone with a suggestion to make it work?

even this won't work:
var = var + 1 - 1;

this would for ints, but not for pointers:
var += 0.0;

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug  6 18:30:03 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 18:30:11 2008
Subject: [Harbour] DOS build problem
Message-ID: <678E1ABE-534E-450C-B61A-C1FE4C34E603@syenar.hu>

Hi Przemek,

I'm getting this with the DOS build, maybe it would be
best to include a dummy version of these functions under
DOS (to avoid any .prg level fiddling with platforms):

../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3d38): undefined reference to `_HB_FUN_HB_INETINIT'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3d48): undefined reference to `_HB_FUN_HB_INETCLEANUP'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3d58): undefined reference to `_HB_FUN_HB_INETCREATE'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3d68): undefined reference to `_HB_FUN_HB_INETCLOSE'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3d78): undefined reference to `_HB_FUN_HB_INETFD'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3d88): undefined reference to `_HB_FUN_HB_INETSTATUS'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3d98): undefined reference to `_HB_FUN_HB_INETERRORCODE'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3da8): undefined reference to `_HB_FUN_HB_INETERRORDESC'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3db8): undefined reference to `_HB_FUN_HB_INETCLEARERROR'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3dc8): undefined reference to `_HB_FUN_HB_INETCOUNT'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3dd8): undefined reference to `_HB_FUN_HB_INETADDRESS'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3de8): undefined reference to `_HB_FUN_HB_INETPORT'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3df8): undefined reference to `_HB_FUN_HB_INETTIMEOUT'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3e08): undefined reference to `_HB_FUN_HB_INETCLEARTIMEOUT'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3e18): undefined reference to `_HB_FUN_HB_INETTIMELIMIT'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3e28): undefined reference to `_HB_FUN_HB_INETCLEARTIMELIMIT'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3e38): undefined reference to `_HB_FUN_HB_INETPERIODCALLBACK'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3e48): undefined reference to `_HB_FUN_HB_INETCLEARPERIODCALLBACK'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3e58): undefined reference to `_HB_FUN_HB_INETRECV'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3e68): undefined reference to `_HB_FUN_HB_INETRECVALL'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3e78): undefined reference to `_HB_FUN_HB_INETRECVLINE'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3e88): undefined reference to `_HB_FUN_HB_INETRECVENDBLOCK'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3e98): undefined reference to `_HB_FUN_HB_INETDATAREADY'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3ea8): undefined reference to `_HB_FUN_HB_INETSEND'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3eb8): undefined reference to `_HB_FUN_HB_INETSENDALL'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3ec8): undefined reference to `_HB_FUN_HB_INETGETHOSTS'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3ed8): undefined reference to `_HB_FUN_HB_INETGETALIAS'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3ee8): undefined reference to `_HB_FUN_HB_INETSERVER'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3ef8): undefined reference to `_HB_FUN_HB_INETACCEPT'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3f08): undefined reference to `_HB_FUN_HB_INETCONNECT'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3f18): undefined reference to `_HB_FUN_HB_INETCONNECTIP'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3f28): undefined reference to `_HB_FUN_HB_INETDGRAMBIND'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3f38): undefined reference to `_HB_FUN_HB_INETDGRAM'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3f48): undefined reference to `_HB_FUN_HB_INETDGRAMSEND'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3f58): undefined reference to `_HB_FUN_HB_INETDGRAMRECV'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3f68): undefined reference to `_HB_FUN_HB_INETCRLF'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3f78): undefined reference to `_HB_FUN_HB_INETISSOCKET'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3f88): undefined reference to `_HB_FUN_HB_INETGETSNDBUFSIZE'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3f98): undefined reference to `_HB_FUN_HB_INETGETRCVBUFSIZE'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3fa8): undefined reference to `_HB_FUN_HB_INETSETSNDBUFSIZE'
../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
+0x3fb8): undefined reference to `_HB_FUN_HB_INETSETRCVBUFSIZE'

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug  6 19:13:17 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 19:13:27 2008
Subject: [Harbour] GCC 4.3.1 warnings
Message-ID: <4CC04710-B006-4F3F-A135-079DB8DB9C99@syenar.hu>

Hi all,

../../genc.c: In function 'hb_p_pushlonglong':
../../genc.c:1582: warning: unknown conversion type character 'L' in  
format
../../genc.c:1582: warning: too many arguments for format
../../gencc.c: In function 'hb_p_pushlonglong':
../../gencc.c:1239: warning: unknown conversion type character 'L' in  
format
../../gencc.c:1239: warning: too many arguments for format
../../estack.c: In function 'hb_stackDispLocal':
../../estack.c:562: warning: unknown conversion type character 'L' in  
format
../../estack.c:562: warning: too many arguments for format
../../hbsqlit3.c: In function 'SQL3ProfileLog':
../../hbsqlit3.c:1128: warning: unknown conversion type character 'L'  
in format
../../hbsqlit3.c:1128: warning: too many arguments for format
../../sqlite3/sqlite3.c: In function 'sqlite3WhereBegin':
../../sqlite3/sqlite3.c:38766: warning: assuming signed overflow does  
not occur when assuming that (X - c) <= X is always true
../../firebird.c: In function 'HB_FUN_FBGETDATA':
../../firebird.c:562: warning: unknown conversion type character 'l'  
in format
../../firebird.c:562: warning: unknown conversion type character 'l'  
in format
../../firebird.c:562: warning: too many arguments for format
../../firebird.c:568: warning: unknown conversion type character 'l'  
in format
../../firebird.c:568: warning: unknown conversion type character 'l'  
in format
../../firebird.c:568: warning: too many arguments for format
../../firebird.c:574: warning: unknown conversion type character 'l'  
in format
../../firebird.c:574: warning: too many arguments for format
../../firebird.c:577: warning: unknown conversion type character 'l'  
in format
../../firebird.c:577: warning: field width should have type 'int', but  
argument 5 has type 'ISC_INT64'
../../firebird.c:577: warning: too many arguments for format
../../firebird.c:579: warning: unknown conversion type character 'l'  
in format
../../firebird.c:579: warning: too many arguments for format

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Aug  6 20:55:09 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug  6 20:55:16 2008
Subject: [Harbour] DOS build problem
In-Reply-To: <678E1ABE-534E-450C-B61A-C1FE4C34E603@syenar.hu>
References: <678E1ABE-534E-450C-B61A-C1FE4C34E603@syenar.hu>
Message-ID: <20080807005509.GA2433@34-mo7-2.acn.waw.pl>

On Thu, 07 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> I'm getting this with the DOS build, maybe it would be
> best to include a dummy version of these functions under
> DOS (to avoid any .prg level fiddling with platforms):
> ../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
> +0x3d38): undefined reference to `_HB_FUN_HB_INETINIT'
> ../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data 
> +0x3d48): undefined reference to `_HB_FUN_HB_INETCLEANUP'
[...]

Please check your environment settings.
This functions should be excluded by __PLATFORM__DOS macro in
hbextern.ch. I've just created DJGPP binaries without any problem.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Aug  6 21:09:28 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug  6 21:09:34 2008
Subject: [Harbour] GCC 4.3.1 warnings
In-Reply-To: <4CC04710-B006-4F3F-A135-079DB8DB9C99@syenar.hu>
References: <4CC04710-B006-4F3F-A135-079DB8DB9C99@syenar.hu>
Message-ID: <20080807010928.GB2433@34-mo7-2.acn.waw.pl>

On Thu, 07 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> ../../genc.c: In function 'hb_p_pushlonglong':
> ../../genc.c:1582: warning: unknown conversion type character 'L' in format

It stops to understand 'L' length modifier. In fact it should be 'll'
and for some historical reason is wrongly defined as 'L' in hbdefs.h.
Please change in hbdefs.h[656]:

   #ifndef PFLL
   #  if defined( __BORLANDC__ ) || defined( _MSC_VER )
   #     define PFLL    "I64"
   #  elif defined( __LCC__ )
   #     define PFLL    "ll"
   #  else
   #     define PFLL    "L"
   #  endif
   #endif

to:

   #ifndef PFLL
   #  if defined( __BORLANDC__ ) || defined( _MSC_VER )
   #     define PFLL    "I64"
   #  else
   #     define PFLL    "ll"
   #  endif
   #endif

We should make tests if it will not effect some builds.
I hope not and we will not have problems with currently
used C compilers.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Aug  6 21:37:18 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 21:37:19 2008
Subject: [Harbour] 2008-08-07 03:35 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f82e$Blat.v2.6.2$20e8dcd8$48e42529808c@127.0.0.1>

2008-08-07 03:35 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/gtwvg/gtwvg.c
   * contrib/gtwvg/wvgutils.c
   * contrib/gtwvg/wvgcore.c
     ! Fixed 64 bit (MSVS 2008 64 bit and Pelles C 5 64 bit) related 
       problems shown as warnings.
     ; Please review and test, especially WinCE and older MSVC builds.
     ; NOTE: There are many other 64 bit related problems not 
             shown as compiler warnings.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Wed Aug  6 21:44:58 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug  6 21:45:06 2008
Subject: [Harbour] Pelles C and unused var warnings
In-Reply-To: <AD724686-09D2-42BF-8747-98CDD50A09A6@syenar.hu>
References: <AD724686-09D2-42BF-8747-98CDD50A09A6@syenar.hu>
Message-ID: <20080807014458.GC2433@34-mo7-2.acn.waw.pl>

On Thu, 07 Aug 2008, Szak?ts Viktor wrote:
> Hi all,
> I see that HB_SYMBOL_UNUSED() doesn't work for Pelles C.

It works for variable's symbol but it does not mark
variable's value as used in POCC.

> Is there anyone with a suggestion to make it work?
> even this won't work:
> var = var + 1 - 1;
> this would for ints, but not for pointers:
> var += 0.0;

    if( var ) {;}

But I do not know if this is clean method without RT speed/code
overhead for POCC.
Looks that if code is optimized for full reduction too early then
POCC generates warning about unused value (not variable). The
question is if it fully optimize above code. You can check it
in generated assembler code. If you want to make safe macro
which can be used in any place in nested statements then it should
be inside do ... while( 0 ), f.e.:

   HB_VALUE_UNUSED( v )       do if( v ) {;} while( 0 )

for non POCC based compilers it should be empty.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Aug  6 21:53:43 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug  6 21:53:50 2008
Subject: [Harbour] DOS build problem
In-Reply-To: <20080807005509.GA2433@34-mo7-2.acn.waw.pl>
References: <678E1ABE-534E-450C-B61A-C1FE4C34E603@syenar.hu>
	<20080807005509.GA2433@34-mo7-2.acn.waw.pl>
Message-ID: <3907EF07-4DF2-4601-8A86-DB97CF471C4C@syenar.hu>

>>
Hi Przemek,

>> I'm getting this with the DOS build, maybe it would be
>> best to include a dummy version of these functions under
>> DOS (to avoid any .prg level fiddling with platforms):
>> ../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data
>> +0x3d38): undefined reference to `_HB_FUN_HB_INETINIT'
>> ../../../../lib/dos/djgpp/libhbextern.a(hbextern.o):hbextern.c:(.data
>> +0x3d48): undefined reference to `_HB_FUN_HB_INETCLEANUP'
> [...]
>
> Please check your environment settings.
> This functions should be excluded by __PLATFORM__DOS macro in
> hbextern.ch. I've just created DJGPP binaries without any problem.

You're right, I was execting several builds in chain
(from one batch file), and a previous cross compile
setting remained set.

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Aug  6 23:06:10 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug  6 23:06:16 2008
Subject: [Harbour] 2008-08-07 05:05 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808070306.m7736A4b025908@31-mo5-4.acn.waw.pl>

2008-08-07 05:05 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbdefs.h
    ! fixed default printf length modifier for long long integer values

  * harbour/harbour.spec
  * harbour/harbour-ce-spec
  * harbour/harbour-w32-spec
    ! fixed for new FM library name

best regards
Przemek
From bedipritpal at hotmail.com  Thu Aug  7 01:35:44 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug  7 01:35:48 2008
Subject: [Harbour] 2008-08-06 22:30 UTC-0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <18864375.post@talk.nabble.com>


2008-08-06 22:30 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/source/rtl/achoice.prg
    + Implemented mouse operations as follows.
      CASE ( nKey == K_MWFORWARD )
         Keyboard( Chr( K_UP ) )
      CASE ( nKey == K_MWBACKWARD )
         Keyboard( Chr( K_DOWN ) )
      CASE nKey == K_LDBLCLK
         Keyboard( Chr( K_ENTER ) )

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-08-06-22%3A30-UTC-0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp18864375p18864375.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Thu Aug  7 01:37:45 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Aug  7 01:37:49 2008
Subject: [Harbour] make_rpm.sh requires ncurses-devel
Message-ID: <9257026e0808062237h29238c36rfcfc3e64e0c1803b@mail.gmail.com>

I haven't installed it since we move to gttrm as default.

I normally use make_gnu.sh, I'm just testing what I can before the release.

best regards,
Lorenzo
From bedipritpal at hotmail.com  Thu Aug  7 01:50:12 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug  7 01:50:15 2008
Subject: [Harbour] 2008-08-06 22:30 UTC-0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <18864375.post@talk.nabble.com>
References: <18864375.post@talk.nabble.com>
Message-ID: <18864502.post@talk.nabble.com>


Hello


Pritpal Bedi wrote:
> 
>       CASE ( nKey == K_MWFORWARD )
>          Keyboard( Chr( K_UP ) )
>       CASE ( nKey == K_MWBACKWARD )
>          Keyboard( Chr( K_DOWN ) )
>       CASE nKey == K_LDBLCLK
>          Keyboard( Chr( K_ENTER ) )
> 

I intentionally opted for K_UP/K_DOWN instead of 
K_PGUP/K_PGDOWN because mouse movement is per record
( if going by the universal methodology ), so moving one
step is more natural instead of moving a page.

K_LDBLCLK == K_ENTER can be discussed.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-08-06-22%3A30-UTC-0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp18864375p18864502.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Thu Aug  7 02:29:03 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Aug  7 02:29:08 2008
Subject: [Harbour] make_xyz.sh issues
Message-ID: <9257026e0808062329k2397a904gae298f31049095b0@mail.gmail.com>

I've tried this situation:

- svn co harbour-project svn
- make_rpm.sh
following the standard method: "when everything fails, read the instructions" :)

I removed ncurses reqs from make_rpm.sh and harbour.spec ( see prev
msg ) but after a while it stops asking for slang.

I think make_gnu.sh and make_rpm.sh should have the minimal
requirements and the safest defaults even for the ones that don't read
the doc before and run them without parameters and without setting
envvars.

I would replace "--without x11", "--without gpllib", "--without nf"
"--without gpm"  and "--without gtsln" with "--with xyz" ( and the
respective envvars ).

Also I still think that the default GT should be gtcgi.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Thu Aug  7 03:13:17 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 03:13:25 2008
Subject: [Harbour] 2008-08-07 09:10 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f85d$Blat.v2.6.2$10aa7474$2b745947d064@127.0.0.1>

2008-08-07 09:10 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbdefs.h
     ! Changed HB_SYMBOL_UNUSED() to better work for all 
       compilers, notably Pelles C.
     ! Fix to PFLL, although it didn't fix all GCC 4.3.1 warnings.
       These remained:
       ../../genc.c:1582: warning: unknown conversion type character 'l' in format
       ../../genc.c:1582: warning: too many arguments for format
       [ This changed got merged with existing commit. ]
     ; Thanks to Przemek for these patches.

   * contrib/hbfbird/firebird.c
     % Using PFLL instead of local logic.

   * contrib/gtwvg/wvgutils.c
     ! Reverted some wrong fixes from previous commit.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Aug  7 03:16:43 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 03:16:44 2008
Subject: [Harbour] 2008-08-07 09:15 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f85d$Blat.v2.6.2$8b712d1a$2574bad9c9b4@127.0.0.1>

2008-08-07 09:15 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/achoice.prg
     * Minor formatting.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Aug  7 03:38:01 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 03:38:09 2008
Subject: [Harbour] Harbour aggregated warnings #2
Message-ID: <9A5D3924-BAFD-4ABC-A6FA-B05FD7135370@syenar.hu>

Hi all,

Number of aggregated warnings went down from 1498
to 830 (or 806 if we exclude GCC 4.31 which wasn't
part of the previous listing). If we exclude the
two 64 bit platforms from the list, a total of _71_
warnings remain, of which, only 38 is in our own
source code, and if we exclude GCC 4.31, only 17
remain. 12 is in w32_ole.c (known ones in hacky
code), the remaining 4 are POCC empty file warnings,
and there is one POCC unreachable code warning in
disksphb.c.

This is pretty good.

I've attached the list for those interested.

Compilers/Platforms included:
BCC55
BCC58
MinGW 4.12
MinGW 4.31
MSVS 2005
MSVS 2005 C++,
MSVS 2008
MSVS 2008 C++
Pelles C 4.5
Pelles C 5.0
Pelles C 5.0 64 bit
MSVS 2008 C++ 64 bit
DJGPP 4.23 32 bit

Brgds,
Viktor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: hb-warnings-20080807.zip
Type: application/zip
Size: 9816 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080807/ee1a1736/hb-warnings-20080807-0001.zip
-------------- next part --------------

From harbour.01 at syenar.hu  Thu Aug  7 04:12:18 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 04:12:23 2008
Subject: [Harbour] 2008-08-07 10:11 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f865$Blat.v2.6.2$4f16e046$129040e88d62@127.0.0.1>

2008-08-07 10:11 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbodbc/odbc.c
     ! Replaced depracated ODBC API calls to new ones, thus 
       solving some potential buffer overflow problems and 
       64 bit warnings.

   * contrib/hbodbc/tests/odbcdemo.prg
     ! Fixed some non-ASCII chars.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Aug  7 05:53:03 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 05:53:05 2008
Subject: [Harbour] 2008-08-07 11:52 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f873$Blat.v2.6.2$6243bf96$209c585a0e46@127.0.0.1>

2008-08-07 11:52 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/pp/hbpp.c
   * utils/hbdoc/hbdoc.prg
   * utils/hbmake/hbmake.prg
   * utils/hbtest/hbtest.prg
     * Synced help screen, header and copyright layout.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Aug  7 05:58:51 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 05:58:53 2008
Subject: [Harbour] 2008-08-07 11:58 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f874$Blat.v2.6.2$3193b95e$11605b4dccd0@127.0.0.1>

2008-08-07 11:58 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/pp/hbpp.c
   * utils/hbrun/hbrun.prg
     * Synced help screen, header and copyright layout.
       (some more minor)
--
Brgds,
Viktor

From dmacias at mail.udg.mx  Thu Aug  7 06:20:00 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Aug  7 06:19:54 2008
Subject: [Harbour] Re: 2008-08-06 17:53 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
Message-ID: <489ACC50.9020301@mail.udg.mx>

 >2008-08-06 17:53 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
 >   * doc/whatsnew.txt
 >     + Updated with recent changes.

Harbour build / run fine under OS/2

rddado.a is created, but I do not know if it apply to OS/2
Should rddado be excluded automatically for OS/2, as for example hbw32 ?

David Macias


From druzus at acn.waw.pl  Thu Aug  7 06:21:20 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 06:21:26 2008
Subject: [Harbour] 2008-08-07 09:10 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8f85d$Blat.v2.6.2$10aa7474$2b745947d064@127.0.0.1>
References: <01c8f85d$Blat.v2.6.2$10aa7474$2b745947d064@127.0.0.1>
Message-ID: <20080807102120.GA22102@34-mo7-2.acn.waw.pl>

On Thu, 07 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

>    * include/hbdefs.h
>      ! Changed HB_SYMBOL_UNUSED() to better work for all 
>        compilers, notably Pelles C.

   do if( symbol ) {;} while( 0 )

should not be used as previous HB_SYMBOL_UNUSED() replacement because 
it has a little bit different meaning and can be source of some other
warnings. The previous version:
   ( void ) symbol
can be used also for uninitialized parameters:
   int i;
   ( void ) i;
and also other symbols, f.e. labels in some compilers:
   lab01:
   ( void ) lab01;
I do not know what exactly newest POCC does but for 4.50 we should
rather intorduce:
   #if defined( __POCC__ )
      #define HB_VALUE_UNUSED( symbol )  do if( symbol ) {;} while( 0 )
   #else
      #define HB_VALUE_UNUSED( symbol )  do {;} while( 0 )
   #endif

and use it in places where it generates warnings.
Does it has many of them? POCC4.5 has ~5 for such warnings.
If newest versions reports too much of them for code updating
then I suggest to make:

   #if defined( __POCC__ ) && __POCC__ >= ...
      #define HB_SYMBOL_UNUSED( symbol )  do if( symbol ) {;} while( 0 )
   #else
      #define HB_SYMBOL_UNUSED( symbol )  ( void ) symbol
   #endif

>      ! Fix to PFLL, although it didn't fix all GCC 4.3.1 warnings.
>        These remained:
>        ../../genc.c:1582: warning: unknown conversion type character 'l' in format
>        ../../genc.c:1582: warning: too many arguments for format

Strange. It shouldn't. Is it the only one warning with above and
other were cleaned or all still exist?
On what platform does it happen?

>    * contrib/gtwvg/wvgutils.c
>      ! Reverted some wrong fixes from previous commit.

If you want to avoid warnings with number<->pointer conversions
on different platforms (32/64bit) then use casting to HB_PTRDIFF
or LONG_PTR in windows only code, f.e.:

   ( HWND ) ( LONG_PTR ) hb_parnint( 1 )

or create macro like:
   #define HB_PARNVOID( n )   ( ( void * ) ( LONG_PTR ) hb_parnint( n ) )
and use:
   ( HWND ) HB_PARNVOID( 1 )

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Aug  7 06:33:32 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 06:33:44 2008
Subject: [Harbour] 2008-08-07 09:10 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <20080807102120.GA22102@34-mo7-2.acn.waw.pl>
References: <01c8f85d$Blat.v2.6.2$10aa7474$2b745947d064@127.0.0.1>
	<20080807102120.GA22102@34-mo7-2.acn.waw.pl>
Message-ID: <2FA60F6D-AE0A-4996-BC5F-F5105C83A15C@syenar.hu>

Hi Przemek,

> I do not know what exactly newest POCC does but for 4.50 we should
> rather intorduce:
>   #if defined( __POCC__ )
>      #define HB_VALUE_UNUSED( symbol )  do if( symbol ) {;} while( 0 )
>   #else
>      #define HB_VALUE_UNUSED( symbol )  do {;} while( 0 )
>   #endif

Not many, about the same amount, but I didn't want
to add the complexity of having two different macros,
as most ppl (including myself) would never be able
to choose the correct one. So it would be just a new
source of mistake.

I'd rather revert this, because it's overall not such
a big problem.

I didn't check the generated source code in all compilers
(only Pelles C 5), so what I know that after the change,
no tested compilers complained, and that it didn't
generate any code with Pelles C 5 when optimizations
(Harbour defaults) were turned on.

> and use it in places where it generates warnings.
> Does it has many of them? POCC4.5 has ~5 for such warnings.
> If newest versions reports too much of them for code updating
> then I suggest to make:
>
>   #if defined( __POCC__ ) && __POCC__ >= ...
>      #define HB_SYMBOL_UNUSED( symbol )  do if( symbol ) {;}  
> while( 0 )
>   #else
>      #define HB_SYMBOL_UNUSED( symbol )  ( void ) symbol
>   #endif

Okay, this seems to be the best way to go.

>>     ! Fix to PFLL, although it didn't fix all GCC 4.3.1 warnings.
>>       These remained:
>>       ../../genc.c:1582: warning: unknown conversion type character  
>> 'l' in format
>>       ../../genc.c:1582: warning: too many arguments for format
>
> Strange. It shouldn't. Is it the only one warning with above and
> other were cleaned or all still exist?

No it didn't clear anything, neither did it create any
new warnings.

> On what platform does it happen?

MinGW 4.30 and 4.31, which is a test release BTW, so
it might easily be a compiler problem.

>>   * contrib/gtwvg/wvgutils.c
>>     ! Reverted some wrong fixes from previous commit.
>
> If you want to avoid warnings with number<->pointer conversions
> on different platforms (32/64bit) then use casting to HB_PTRDIFF
> or LONG_PTR in windows only code, f.e.:
>
>   ( HWND ) ( LONG_PTR ) hb_parnint( 1 )
>
> or create macro like:
>   #define HB_PARNVOID( n )   ( ( void * ) ( LONG_PTR )  
> hb_parnint( n ) )
> and use:
>   ( HWND ) HB_PARNVOID( 1 )

Thanks for the tip! I was wondering about this. Maybe it
would be even better to use hb_parptr()/hb_retptr() for
the offending functions, since these are pointers (Windows
handles) in most cases.

I'm not planning to touch GTWVG any deeper than this, as it
has many problems, and I don't use it.

Brgds,
Viktor

From druzus at acn.waw.pl  Thu Aug  7 06:55:45 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 06:55:50 2008
Subject: [Harbour] 2008-08-07 12:55 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808071055.m77AtjiE032673@31-mo5-4.acn.waw.pl>

2008-08-07 12:55 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/harbour-ce-spec
  * harbour/harbour-w32-spec
  * harbour/harbour.spec
    ! added hbextern library

  * harbour/harbour.spec
    * removed dependences on ncurses (--without gtcrs)

  * harbour/make_rpm.sh
    * added automatic ncurses detection

best regards
Przemek
From druzus at acn.waw.pl  Thu Aug  7 07:01:40 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 07:01:45 2008
Subject: [Harbour] 2008-08-07 13:01 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808071101.m77B1eZu000309@31-mo5-4.acn.waw.pl>

2008-08-07 13:01 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    * excluded hbcplr library from harbour shared library

best regards
Przemek
From harbour.01 at syenar.hu  Thu Aug  7 07:07:38 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 07:07:40 2008
Subject: [Harbour] 2008-08-07 12:55 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f87d$Blat.v2.6.2$cd9c187e$b286ca0bddc@127.0.0.1>

2008-08-07 12:55 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbdefs.h
     % Tamed latest HB_SYMBOL_UNUSED() change to only affect 
       __POCC__, __XCC__.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Thu Aug  7 07:10:29 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 07:10:34 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <0BDBD8C3-1D08-4CA3-946B-4D5ECB428CBC@syenar.hu>
References: <20080805134136.GA31977@34-mo7-2.acn.waw.pl>
	<9453A1C7-9195-46BC-B070-095F0D92601A@syenar.hu>
	<20080805150351.GA5261@34-mo7-2.acn.waw.pl>
	<412502C4-03BF-4536-B728-7C18913144CA@syenar.hu>
	<9257026e0808050926p24f16b6ar37af28edb059bbab@mail.gmail.com>
	<0FCAE5D6-F1CA-48DC-B02A-97FDBFA68598@syenar.hu>
	<20080806105800.GC28548@34-mo7-2.acn.waw.pl>
	<3D190761-5705-4757-9999-ED45DB96E45C@syenar.hu>
	<20080806120243.GA11500@34-mo7-2.acn.waw.pl>
	<0BDBD8C3-1D08-4CA3-946B-4D5ECB428CBC@syenar.hu>
Message-ID: <20080807111028.GC22102@34-mo7-2.acn.waw.pl>

On Wed, 06 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> It cannot pick sources from different dirs and/or
> cannot put target into different dirs. I can't remember,
> but each time I have to deal with GNU make, I end up
> spending days on it without any results.

I think that I do not understand what exactly you want to do.
IMHO it can and it works for me. Can you post some example?
Maybe I'll be able to help. Now I can only guess that you missed
that paths are significant part of patterns in GNU make.

> The other thing is this insane reliance on TAB vs. spaces.

This is semantic dependent and gives quite well separation
for commands. Most of editors I use colors significant TABs
in edited Makefile(s) and I'm finding it as very clear.
But these are personal preferences only.

best regards,
Przemek
From druzus at acn.waw.pl  Thu Aug  7 07:32:56 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 07:33:02 2008
Subject: [Harbour] 2008-08-07 13:32 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808071132.m77BWu4C024813@31-mo5-4.acn.waw.pl>

2008-08-07 13:32 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbodbc/odbc.c
    ! fixed casting in conditional expressions

best regards
Przemek
From harbour.01 at syenar.hu  Thu Aug  7 08:20:31 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 08:20:42 2008
Subject: [Harbour] harbour.dll revisited
In-Reply-To: <20080807111028.GC22102@34-mo7-2.acn.waw.pl>
References: <20080805134136.GA31977@34-mo7-2.acn.waw.pl>
	<9453A1C7-9195-46BC-B070-095F0D92601A@syenar.hu>
	<20080805150351.GA5261@34-mo7-2.acn.waw.pl>
	<412502C4-03BF-4536-B728-7C18913144CA@syenar.hu>
	<9257026e0808050926p24f16b6ar37af28edb059bbab@mail.gmail.com>
	<0FCAE5D6-F1CA-48DC-B02A-97FDBFA68598@syenar.hu>
	<20080806105800.GC28548@34-mo7-2.acn.waw.pl>
	<3D190761-5705-4757-9999-ED45DB96E45C@syenar.hu>
	<20080806120243.GA11500@34-mo7-2.acn.waw.pl>
	<0BDBD8C3-1D08-4CA3-946B-4D5ECB428CBC@syenar.hu>
	<20080807111028.GC22102@34-mo7-2.acn.waw.pl>
Message-ID: <53EBA326-43F1-4A16-9403-23921D4A15DC@syenar.hu>

>>
Hi Przemek,

>> It cannot pick sources from different dirs and/or
>> cannot put target into different dirs. I can't remember,
>> but each time I have to deal with GNU make, I end up
>> spending days on it without any results.
>
> I think that I do not understand what exactly you want to do.
> IMHO it can and it works for me. Can you post some example?
> Maybe I'll be able to help. Now I can only guess that you missed
> that paths are significant part of patterns in GNU make.

Thanks a lot, I'll give it a shot, and I'll get back to you
with specifics, as it would be essential to get rid of rmake.exe
and also to switch to MinGW/GCC.

>> The other thing is this insane reliance on TAB vs. spaces.
>
> This is semantic dependent and gives quite well separation
> for commands. Most of editors I use colors significant TABs
> in edited Makefile(s) and I'm finding it as very clear.
> But these are personal preferences only.

I use Far Manager's editor, and it doesn't show tabs
unfortunately, it would be great for other occasions, too,
as another TODO on my list is to switch to TABs from spaces
for indenting.

Maybe there is a plugin for this, I'll look around.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Aug  7 08:34:49 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 08:34:50 2008
Subject: [Harbour] 2008-08-07 14:33 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f889$Blat.v2.6.2$fb685b6c$1534d27ff562@127.0.0.1>

2008-08-07 14:33 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbver.h
     - Removed reference to hbverfix.

   * utils/hbmake/hbmake.prg
     - Remove local version number. Full Harbour version 
       number is shown.
--
Brgds,
Viktor

From niki at synel.co.il  Thu Aug  7 08:51:14 2008
From: niki at synel.co.il (Chen Kedem)
Date: Thu Aug  7 08:51:06 2008
Subject: [Harbour] Re: harbour.dll revisited
Message-ID: <1A07FEDC778C3E4AA417F089511F859C031F3B74D3@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

I still could not link harbour.dll when CodeGuard (BCB 5.0) is enabled
(I am working on rev 9047 2008-08-04).
cg32.lib is not linked in and I get unresolved external '_CG_*' in our OBJ.
Do you have any clue which envar should I set (and which parameters to write there).

To enable full debug and codeguard I usually set CFLAGS=-v -y -vG -Od
Usually the HB_BUILD_DLL is not defined, and all is working fine, when
I set it to yes I get the above errors. Do we have a default flag set that tell the
linker to ignore lib requests for DLL creation?

> as another TODO on my list is to switch to TABs from spaces
> for indenting

Are you talking about Harbour source files? if so please don't.
I have a few editors in my environment, each have a different defaults for TAB expansions.


  Chen.
From druzus at acn.waw.pl  Thu Aug  7 08:58:45 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 08:58:53 2008
Subject: [Harbour] 2008-08-07 14:58 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808071258.m77Cwjwf021147@31-mo5-4.acn.waw.pl>

2008-08-07 14:58 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/harbour-ce-spec
  * harbour/harbour-w32-spec
    ! set HB_XBUILD evvar
  * harbour/bin/hb-func.sh
    ! do not move harbour.dll to HB_BIN_INSTALL directory when
      HB_XBUILD envvar is set

  * harbour/source/hbzlib/deflate.c
    * pacified warning

best regards
Przemek
From druzus at acn.waw.pl  Thu Aug  7 09:06:27 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 09:06:32 2008
Subject: [Harbour] 2008-08-07 15:06 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808071306.m77D6ROU021260@31-mo5-4.acn.waw.pl>

2008-08-07 15:06 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/gtwvg/wvgutils.c
    ! fixed OpenWatcom compilation

best regards
Przemek
From druzus at acn.waw.pl  Thu Aug  7 09:12:55 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 09:13:01 2008
Subject: [Harbour] Re: harbour.dll revisited
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C031F3B74D3@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C031F3B74D3@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20080807131255.GA21123@34-mo7-2.acn.waw.pl>

On Thu, 07 Aug 2008, Chen Kedem wrote:

Hi Chen,

> I still could not link harbour.dll when CodeGuard (BCB 5.0) is enabled
> (I am working on rev 9047 2008-08-04).
> cg32.lib is not linked in and I get unresolved external '_CG_*' in our OBJ.
> Do you have any clue which envar should I set (and which parameters to write there).

If unresolved externals comes from DLL linking then try to add cg32.lib
to LDFLAGSDLL.

Best regards,
Przemek
From harbour.01 at syenar.hu  Thu Aug  7 09:23:01 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 09:23:13 2008
Subject: [Harbour] Re: harbour.dll revisited
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C031F3B74D3@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C031F3B74D3@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <6F7DDC79-11F7-4CFA-8DC3-59AED43D88F0@syenar.hu>

>
Hi Chen,

> I still could not link harbour.dll when CodeGuard (BCB 5.0) is enabled
> (I am working on rev 9047 2008-08-04).
> cg32.lib is not linked in and I get unresolved external '_CG_*' in  
> our OBJ.
> Do you have any clue which envar should I set (and which parameters  
> to write there).
>
> To enable full debug and codeguard I usually set CFLAGS=-v -y -vG -Od
> Usually the HB_BUILD_DLL is not defined, and all is working fine, when
> I set it to yes I get the above errors. Do we have a default flag  
> set that tell the
> linker to ignore lib requests for DLL creation?

I wish I could, but I cannot tell you much. I'm new
to the .dll issue in Harbour, and .dll creation in general.
As a guess, you may try to add cg32.lib to the .dll targets
in line 537 of make_b32.mak, and see if it makes a difference.

>> as another TODO on my list is to switch to TABs from spaces
>> for indenting
>
> Are you talking about Harbour source files? if so please don't.
> I have a few editors in my environment, each have a different  
> defaults for TAB expansions.

No, not Harbour, my local files. (I'm using a mixture of 5 and 3 space
indented files, which is not very ideal).

Brgds,
Viktor

From niki at synel.co.il  Thu Aug  7 09:42:52 2008
From: niki at synel.co.il (Chen Kedem)
Date: Thu Aug  7 09:42:46 2008
Subject: [Harbour] RE: harbour.dll revisited
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C031F3B74D3@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C031F3B74D3@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C031F3B74D4@Mail-yoq.SYNEL-COMPANY.LTD>

I might been reporting the wrong issue. I set LDFLAGSDLL=cg32.lib as suggested by Przemek.
I see that harbour-b32.dll is created in bin/b32 and iside there are references to the codeguard functions.

The error is:

Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
Error: Unresolved external '_CG_DESC' referenced from E:\HRB\OBJ\DLL\B32\MAINSTD.OBJ
** error 2 ** deleting bin\b32\hbtest-dll.exe

(since it takes 10 min to build, I send this before I will try it again without setting LDFLAGSDLL)


  Chen.
From lorenzo.fiorini at gmail.com  Thu Aug  7 11:28:27 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Aug  7 11:28:32 2008
Subject: [Harbour] Small typo in debugger.prg
Message-ID: <9257026e0808070828r7948ff51m77a6b67d28af11e9@mail.gmail.com>

../../../../source/main/linux/gcc/harbour ../../debugger.prg
-DHB_NO_READDBG -DHB_EXT_INKEY -DHB_PP_MULTILINE_STRING -n -q0 -w3
-es2 -gc0 -kM -I../../ -I../../../../include

../../debugger.prg(1156) Error E0020  Incomplete statement or
unbalanced delimiters

../../debugger.prg(1158) Error E0030  Syntax error: "syntax error at ','"

2 errors

A semicolon is missed in the -DHB_NO_READDBG branch.

Is there anyone that can add this small fix in the next commit?

best regards,
Lorenzo
From druzus at acn.waw.pl  Thu Aug  7 11:48:38 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 11:48:43 2008
Subject: [Harbour] 2008-08-07 17:48 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808071548.m77FmcIS017657@31-mo5-4.acn.waw.pl>

2008-08-07 17:48 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/debug/debugger.prg
    ! added missing semicolon for -DHB_NO_READDBG compilation
      Thanks to Lorenzo

best regards
Przemek
From lorenzo.fiorini at gmail.com  Thu Aug  7 12:20:22 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Aug  7 12:20:28 2008
Subject: [Harbour] 2008-08-07 17:48 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200808071548.m77FmcIS017657@31-mo5-4.acn.waw.pl>
References: <200808071548.m77FmcIS017657@31-mo5-4.acn.waw.pl>
Message-ID: <9257026e0808070920r5b7f6f69md81d03f9b6019e9@mail.gmail.com>

On Thu, Aug 7, 2008 at 5:48 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> 2008-08-07 17:48 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/source/debug/debugger.prg
>    ! added missing semicolon for -DHB_NO_READDBG compilation
>      Thanks to Lorenzo

Thanks to you.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Thu Aug  7 12:34:02 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Aug  7 12:34:07 2008
Subject: [Harbour] What about removing colons ":" from error messages
Message-ID: <9257026e0808070934s253c1315oacd7fa89d28c9154@mail.gmail.com>

Colons ":" in compile time error messages interfere with IDEs like
Netbeans and Eclipse that parse them as separators.
Removing them will not change the meaning of the message nor the format.

Any comment?

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Thu Aug  7 12:40:13 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Aug  7 12:40:19 2008
Subject: [Harbour] Anyone using color palettes functions?
Message-ID: <9257026e0808070940t3e6796b5p225f5cf67e4881b8@mail.gmail.com>

I'm trying to use color palettes functions instead of using modified
gtwvt.h and gtxwc.c but from the code I can't see the correct syntax.

Is there anyone with some lines of working code?

best regards,
Lorenzo
From gvarona at ec-red.com  Thu Aug  7 12:49:43 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Thu Aug  7 12:49:45 2008
Subject: [Harbour] Error updating from SVN
Message-ID: <489B27A7.10901@ec-red.com>

Hi:
Today morning I was able to do an update, but at this moment I am 
leaving these messages:

Command: Update 
Error: OPTIONS de  
Error: 
'https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour':   

Error: Could not resolve hostname `harbour-project.svn.sourceforge.net': 
El nombre  
Error: solicitado es v?lido y se ha encontrado en la base de datos, pero 
no tiene  
Error: asociados los datos correctos que se intentan resolver. 
Error:  (https://harbour-project.svn.sourceforge.net) 
Finished!:  

Any Hint?

Best Regards
GVS


From harbour.01 at syenar.hu  Thu Aug  7 12:51:16 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 12:51:17 2008
Subject: [Harbour] 2008-08-07 18:50 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f8ad$Blat.v2.6.2$cf08fcc4$1b6cdd13a6dc@127.0.0.1>

2008-08-07 18:50 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/achoice.prg
     * Minor changes to mouse support. TOFIX/TODO added.
--
Brgds,
Viktor

From mbelgrano at deltain.it  Thu Aug  7 12:55:41 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Aug  7 12:55:51 2008
Subject: [Harbour] Anyone using color palettes functions?
In-Reply-To: <9257026e0808070940t3e6796b5p225f5cf67e4881b8@mail.gmail.com>
References: <9257026e0808070940t3e6796b5p225f5cf67e4881b8@mail.gmail.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EECC@SRV02.deltain.net>


More elements to play...

/*
 * $Id: wvtext.prg 8723 2008-06-13 17:26:48Z vszakats $  */

//----------------------------------------------------------------------
//
//----------------------------------------------------------------------
//
//----------------------------------------------------------------------
//
//
//                  [x]Harbour Extended Features Deno
//                                    .
//                 Pritpal Bedi <pritpal@vouchcac.com>
//
//----------------------------------------------------------------------
//
//----------------------------------------------------------------------
//
//----------------------------------------------------------------------
//

#include 'hbgtinfo.ch'
#include 'inkey.ch'

#define RGB(r,g,b) ( r + ( g * 256 ) + ( b * 256 * 256 ) )

//----------------------------------------------------------------------
//

FUNCTION Main()
   Local nKey, lMark, lResize, lClose
   Local nHeight := 20
   Local nWidth  := Int( nHeight/2 )
   Local cFont

   //cFont := 'Courier New' // Harbour default
   //cFont := 'Times New Roman'
   //cFont := 'Lucida Console'

   Hb_GtInfo( HB_GTI_FONTNAME , cFont   )
   Hb_GtInfo( HB_GTI_FONTWIDTH, nWidth  )
   Hb_GtInfo( HB_GTI_FONTSIZE , nHeight )

   SetCursor( 0 )
   SetColor( 'n/w' )

   HB_GtInfo( HB_GTI_NOTIFIERBLOCK, {|nEvent, ...| MyNotifier( nEvent,
... ) } )

   DispScreen()

   DO WHILE .T.
      nKey := Inkey()
      if nKey == K_ESC
         exit
      endif

      DO CASE
      CASE nKey == K_ENTER
         Alert( '<Enter> Pressed' )

      CASE nKey == K_F2
         lMark := Hb_GtInfo( HB_GTI_SELECTCOPY )
         Hb_GtInfo( HB_GTI_SELECTCOPY, !lMark )

      CASE nKey == K_F3
         lResize := Hb_GtInfo( HB_GTI_RESIZABLE )
         Hb_GtInfo( HB_GTI_RESIZABLE, !lResize )

      CASE nKey == K_F4
         lClose := Hb_GtInfo( HB_GTI_CLOSABLE )
         hb_GtInfo( HB_GTI_CLOSABLE, !lClose )

      CASE nKey == K_F5
         SetPalette( 1 )

      CASE nKey == K_F6
         SetPalette( 0 )

      CASE nKey == K_F7
         SetPaletteIndex()

      CASE nKey == K_F8
         Alert( "Menu text changed. Was: " + hb_GtInfo(
HB_GTI_SELECTCOPY,
DToS(Date()) + " " + Time() ) )

      CASE nKey == K_F9
         NewWindow()

      ENDCASE
   ENDDO

   RETURN NIL
//----------------------------------------------------------------------
//

STATIC FUNCTION MyNotifier( nEvent, ... )

   DO CASE

   CASE nEvent == HB_GTE_SETFOCUS
      DispScreen()
      DispOutAt( maxrow(), 33, "We got focus", 'B/G*' )

   CASE nEvent == HB_GTE_CLOSE
      DispScreen()
      if Alert( 'Close Application', {'Yes','No' } ) == 2
         Return ( 1 )
      endif

   ENDCASE

   RETURN 0

//----------------------------------------------------------------------
//

STATIC FUNCTION DispScreen()
   Local nRow := 12, nCol := 28
   Local cColor := 'N/W'
   Local nMaxCol := MaxCol()+1

   DispBegin()

   CLS
   DispOutAt( 0, 0,padc( 'Harbour GT - New Features', maxcol()+1 ),
'N/GR*'
)

   // Contributed by Massimo Belgrano
   DispOutAt( 2, 0, padc( "______  __             ______________________

",nMaxCol ), 'W+/W' )
   DispOutAt( 3, 0, padc( "___  / / /_____ ___________ /___________ 
_________    __  ____/____/",nMaxCol ), 'W+/W' )
   DispOutAt( 4, 0, padc( "__  /_/ /_  __ `/_  ___/_  __ \  __ \  / / /_

___/    _  / __ __/   ",nMaxCol ), 'W+/W' )
   DispOutAt( 5, 0, padc( "_  __  / / /_/ /_  /   _  /_/ / /_/ / /_/ /_
/       
/ /_/ / _  /  ",nMaxCol ), 'W+/W' )
   DispOutAt( 6, 0, padc( "/_/ /_/  \__,_/ /_/    /_.___/\____/\__,_/
/_/        
\____/  /_/   ",nMaxCol ), 'W+/W' )

   DispOutAt( ++nRow, nCol, '< F2 MarkCopy    Toggle >', cColor )
   DispOutAt( ++nRow, nCol, '< F3 Resize      Toggle >', cColor )
   DispOutAt( ++nRow, nCol, '< F4 Closable    Toggle >', cColor )
   DispOutAt( ++nRow, nCol, '< F5 Palette L   Repeat >', cColor )
   DispOutAt( ++nRow, nCol, '< F6 Palette D   Repeat >', cColor )
   DispOutAt( ++nRow, nCol, '< F7 Palette By Index R >', cColor )
   DispOutAt( ++nRow, nCol, '< F8 MarkCopy menu text >', cColor )
   DispOutAt( ++nRow, nCol, '<    Click Other Window >', cColor )
   DispOutAt( ++nRow, nCol, '<    Click X Button     >', cColor )
   DispOutAt( ++nRow, nCol, '< F9 New Console        >', cColor )

   DispOutAt( maxrow(), 0, Space( maxcol()+1 ), "N/G*" )

   DispOutAt( 0, 0                  , "TL", "N/GR*" )
   DispOutAt( 0, MaxCol() - 1       , "TR", "N/GR*" )
   DispOutAt( MaxRow(), 0           , "BL", "N/G*"  )
   DispOutAt( MaxRow(), MaxCol() - 1, "BR", "N/G*"  )

   DispEnd()
   RETURN NIL

//----------------------------------------------------------------------
//

PROCEDURE HB_GTSYS()
     REQUEST HB_GT_WVT
     REQUEST HB_GT_WIN
     RETURN

//----------------------------------------------------------------------
//

PROCEDURE HB_GT_WVT_DEFAULT()
     RETURN

//----------------------------------------------------------------------
//

FUNCTION SetPalette( nMode )
   Local aPalette := Hb_GtInfo( HB_GTI_PALETTE )

   static nR := 198
   static nG := 198
   static nB := 198

   nR += if( nMode == 0, -5, 5 )
   nG += if( nMode == 0, -5, 5 )
   nB += if( nMode == 0, -5, 5 )

   // Change 'W' to slightly gray everytime you press F5
   //
   aPalette[ 8 ] := RGB( nR, nG, nB )

   Hb_GtInfo( HB_GTI_PALETTE, aPalette )
   DispScreen()

   RETURN NIL
//----------------------------------------------------------------------
//

FUNCTION SetPaletteIndex()

   Hb_GtInfo( HB_GTI_PALETTE, 8, RGB( 120, 200, 240 ) )
   DispScreen()

   RETURN NIL

//----------------------------------------------------------------------
//

FUNCTION NewWindow()
   Local nWnd, nKey
   Local nWndOld  := Hb_WndSelect()
   Local aColor   := { 'W+/B', 'W+/BG', 'N/RB', 'W+/G', 'N/GR*' }
   Local aFont    := { 'Courier New', 'Lucida Console', 'Terminal',
'Ariel',
'Times New Roman' }
   Local aPalette
   Static nIndex  := 0
   Static nBottom :=  40
   Static nRight  := 100

   nIndex++
   if nIndex > 5
      nIndex := 1
   endif
   nBottom -= 2
   nRight  -= 4

   if ( nWnd := Hb_WndCreate( 10, 10, nBottom, nRight ) ) > 0
      Hb_GtInfo( HB_GTI_CLOSABLE, .F. )
      Hb_GtInfo( HB_GTI_WINTITLE, 'Harbour Multi Console Window' )
      Hb_GtInfo( HB_GTI_FONTNAME, aFont[ nIndex ] )
      Hb_GtInfo( HB_GTI_FONTSIZE, 18 )
      aPalette := Hb_GtInfo( HB_GTI_PALETTE )
      Hb_GtInfo( HB_GTI_PALETTE, 5 /* RED */, aPalette[ 5 ] + ( nIndex *
10000 ) )

      SetColor( aColor[ nIndex ] )
      CLS
      DispOutAt( maxrow(), 0, padc( 'Press F9 for another console!',
maxcol()+1 ), 'W+/R' )

      SetPos( 0, 0 )
      ?
      ? 'Type some characters...'

      do while .t.
         nKey := Inkey()
         do case
         case nKey == K_ESC
            exit
         case nKey == K_F9
            NewWindow()
         case nKey <> 0
            ?? chr( nKey )
         endcase
      enddo

      Hb_WndDestroy( nWnd )
      Hb_WndSelect( nWndOld )
   endif

   RETURN NIL

//----------------------------------------------------------------------
//


--
View this message in context:
http://www.nabble.com/Multi-Window-GTWVT---First-Implementation-tp178577
24p17858267.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo
Fiorini
Sent: Thursday, August 07, 2008 6:40 PM
To: Harbour Project Main Developer List.
Subject: [Harbour] Anyone using color palettes functions?

I'm trying to use color palettes functions instead of using modified
gtwvt.h and gtxwc.c but from the code I can't see the correct syntax.

Is there anyone with some lines of working code?

best regards,
Lorenzo
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Thu Aug  7 12:59:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 12:59:58 2008
Subject: [Harbour] What about removing colons ":" from error messages
In-Reply-To: <9257026e0808070934s253c1315oacd7fa89d28c9154@mail.gmail.com>
References: <9257026e0808070934s253c1315oacd7fa89d28c9154@mail.gmail.com>
Message-ID: <0200EAC1-6D27-4E19-A160-DB799C11FBB1@syenar.hu>

Hi Lorenzo,

That's a pretty commonly used char in our compile time
messages, so I'm not sure how to stay readable for humans
and be nice with these tools. I'd leave this after the
release.

[ Isn't there any way to change the setup in these tools?
That seems such an obvious char in messages. ]

Brgds,
Viktor

On 2008.08.07., at 18:34, Lorenzo Fiorini wrote:

> Colons ":" in compile time error messages interfere with IDEs like
> Netbeans and Eclipse that parse them as separators.
> Removing them will not change the meaning of the message nor the  
> format.
>
> Any comment?
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From gvarona at ec-red.com  Thu Aug  7 13:10:53 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Thu Aug  7 13:10:53 2008
Subject: [Harbour] Error updating from SVN
In-Reply-To: <489B27A7.10901@ec-red.com>
References: <489B27A7.10901@ec-red.com>
Message-ID: <489B2C9D.2090502@ec-red.com>

Sorry,
please forget this, because I update.

Best Regard
GVS

Guillermo Varona Silup? escribi?:
> Hi:
> Today morning I was able to do an update, but at this moment I am 
> leaving these messages:
>
> Command: Update Error: OPTIONS de  Error: 
> 'https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour':   
>
> Error: Could not resolve hostname 
> `harbour-project.svn.sourceforge.net': El nombre  Error: solicitado es 
> v?lido y se ha encontrado en la base de datos, pero no tiene  Error: 
> asociados los datos correctos que se intentan resolver. Error:  
> (https://harbour-project.svn.sourceforge.net) Finished!: 
> Any Hint?
>
> Best Regards
> GVS
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> __________ Information from ESET Smart Security, version of virus 
> signature database 3324 (20080804) __________
>
> The message was checked by ESET Smart Security.
>
> http://www.eset.com
>
>
>

From lorenzo.fiorini at gmail.com  Thu Aug  7 13:46:52 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Aug  7 13:46:57 2008
Subject: [Harbour] What about removing colons ":" from error messages
In-Reply-To: <0200EAC1-6D27-4E19-A160-DB799C11FBB1@syenar.hu>
References: <9257026e0808070934s253c1315oacd7fa89d28c9154@mail.gmail.com>
	<0200EAC1-6D27-4E19-A160-DB799C11FBB1@syenar.hu>
Message-ID: <9257026e0808071046l413cdcby891023f2b2445e5d@mail.gmail.com>

On Thu, Aug 7, 2008 at 6:59 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> That's a pretty commonly used char in our compile time
> messages, so I'm not sure how to stay readable for humans
> and be nice with these tools. I'd leave this after the
> release.
>
> [ Isn't there any way to change the setup in these tools?
> That seems such an obvious char in messages. ]

Not a problem forget it.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Thu Aug  7 13:50:00 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Aug  7 13:50:06 2008
Subject: [Harbour] Convert a color value to a RGB triplet
Message-ID: <9257026e0808071050g229a677ak15917d77cc951cd@mail.gmail.com>

What I'm looking for is the inverse of RGB( r,g,b ).

best regards,
Lorenzo
From bedipritpal at hotmail.com  Thu Aug  7 15:21:55 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug  7 15:22:00 2008
Subject: [Harbour] 2008-08-07 12:23 UTC-0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <18877827.post@talk.nabble.com>


2008-08-07 12:23 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/source/rtl/achoice.prg
    * Corrected behavior of K_LDBLCLK and K_LBUTTONDOWN.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-08-07-12%3A23-UTC-0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp18877827p18877827.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From toninhofwi at yahoo.com.br  Thu Aug  7 15:39:20 2008
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Thu Aug  7 15:38:09 2008
Subject: [Harbour] Convert a color value to a RGB triplet
In-Reply-To: <9257026e0808071050g229a677ak15917d77cc951cd@mail.gmail.com>
References: <9257026e0808071050g229a677ak15917d77cc951cd@mail.gmail.com>
Message-ID: <cpjm945p0a0ehpifi2fgtcbsfhetvvgdpu@4ax.com>

>What I'm looking for is the inverse of RGB( r,g,b ).

Lorenzo, IIUC you need this: (?)

   int iR = GetRValue( nColor );
   int iG = GetGValue( nColor );
   int iB = GetBValue( nColor ) ;


Regards,

Toninho.

__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From bedipritpal at hotmail.com  Thu Aug  7 15:43:45 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug  7 15:44:07 2008
Subject: [Harbour] Convert a color value to a RGB triplet
In-Reply-To: <cpjm945p0a0ehpifi2fgtcbsfhetvvgdpu@4ax.com>
References: <9257026e0808071050g229a677ak15917d77cc951cd@mail.gmail.com>
	<cpjm945p0a0ehpifi2fgtcbsfhetvvgdpu@4ax.com>
Message-ID: <18878236.post@talk.nabble.com>





Toninho@fwi wrote:
> 
> Lorenzo, IIUC you need this: (?)
> 
>    int iR = GetRValue( nColor );
>    int iG = GetGValue( nColor );
>    int iB = GetBValue( nColor ) ;
> 

No. 
He needs opposite of it.

May be this is valid:

Function InverseRGB( r,g,b )
   Return RGB( 255-r, 255-g, 255-b )

255 or 256 I am not sure.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Convert-a-color-value-to-a-RGB-triplet-tp18876329p18878236.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Aug  7 15:46:30 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug  7 15:46:34 2008
Subject: [Harbour] Convert a color value to a RGB triplet
In-Reply-To: <cpjm945p0a0ehpifi2fgtcbsfhetvvgdpu@4ax.com>
References: <9257026e0808071050g229a677ak15917d77cc951cd@mail.gmail.com>
	<cpjm945p0a0ehpifi2fgtcbsfhetvvgdpu@4ax.com>
Message-ID: <18878298.post@talk.nabble.com>


May be you are right.

Lorenzo's message subject suggest it but 
inverse of RGB(...) suggests what I replied.


Toninho@fwi wrote:
> 
>>What I'm looking for is the inverse of RGB( r,g,b ).
> 
> Lorenzo, IIUC you need this: (?)
> 
>    int iR = GetRValue( nColor );
>    int iG = GetGValue( nColor );
>    int iB = GetBValue( nColor ) ;
> 

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Convert-a-color-value-to-a-RGB-triplet-tp18876329p18878298.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Aug  7 15:54:27 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 15:54:45 2008
Subject: [Harbour] 2008-08-07 21:49 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f8c7$Blat.v2.6.2$65dd6e50$3620fd9eed58@127.0.0.1>

2008-08-07 21:49 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/examples/pp/pp.c
   * contrib/hbmisc/fileread.prg
   * contrib/hbmisc/tests/readfile.prg
   * contrib/hbmisc/tests/twirl.prg
   * contrib/hbmisc/twirler.prg
   * doc/en/readme.txt
   * doc/es/readme.txt
   * harbour-ce-spec
   * harbour-w32-spec
   * harbour.spec
   * source/rtl/achoice.prg
   * tests/boxtst2.prg
   * tests/delimtst.prg
   * tests/devtest.prg
   * tests/disptest.prg
   * tests/inkeytst.prg
   * tests/longdev.prg
   * tests/output.prg
   * tests/round.prg
   * tests/sbartest.prg
   * tests/scroll.prg
   * tests/sdf_test.prg
   * tests/seconds.prg
   * tests/setkeys.prg
   * tests/testhtml.prg
   * tests/version.prg
   * utils/hbdoc/hbdoc.prg
     * Minor formattings, cosmetic updates, 
       homepage made lower case everywhere.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Aug  7 16:33:31 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 16:33:42 2008
Subject: [Harbour] Release 1.0.0 Final #2
Message-ID: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>

Hi all,

Some new problems detected:
OSX (GCC 4.0.1):
	harbour.so doesn't get created like in Linux.
	../../sqlite3/sqlite3.c:19843: warning: unused parameter ?__dataOnly?_t
Linux (GCC 4.2.3):
	../../sqlite3/sqlite3.c: In function ?__sqlite3DeleteTriggerStep?_t:
	../../sqlite3/sqlite3.c:67553: warning: passing argument 1 of  
?__sqlite3_free?_t discards qualifiers from pointer target type  
		../../sqlite3/sqlite3.c: In function ?__sqlite3DeleteTrigger?_t:
	../../sqlite3/sqlite3.c:67964: warning: passing argument 1 of  
?__sqlite3_free?_t discards qualifiers from pointer target type
	
Passed:
- Windows
	BCC 5.51
	BCC 5.82
	GCC MinGW 3.45 bash
	GCC MinGW 4.12
	GCC MinGW 4.12 bash
	GCC MinGW 4.31a bash
	MSVC 6 (ODBC problems)
	MSVC 12
	MSVS 2005
	MSVS 2005 C++
	MSVS 2008
	MSVS 2008 C++
	MSVS 2008 64 bit (known failure)
	MSVS 2008 C++ 64 bit
	PellesC 4.5
	PellesC 5.0
	PellesC 5.0 64 bit
- OSX
	GCC 4.01 Unibin (Leopard 10.5.4 PPC + XCode 3.1b) full (no harbour.so)
	GCC (Leopard 10.5.4 + XCode 3.0)
- Linux
	GCC 4.23 (Ubuntu 8) full
	GCC 4.30 (Fedora)
- DOS
	GCC DJGPP 4.23 32 bit

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Aug  7 16:53:30 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 16:53:42 2008
Subject: [Harbour] 2008-08-07 22:52 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f8cf$Blat.v2.6.2$a5ed7802$26f08b41fde2@127.0.0.1>

2008-08-07 22:52 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/whatsnew.txt
     * Updated.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Aug  7 17:04:47 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 17:04:49 2008
Subject: [Harbour] 2008-08-07 23:04 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f8d1$Blat.v2.6.2$396c5174$46584aa6e53c@127.0.0.1>

2008-08-07 23:04 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   - doc/es/simplex.txt
   * doc/es/Makefile
     - Obsolete file removed.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Thu Aug  7 17:45:06 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 17:45:12 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
Message-ID: <20080807214506.GA18903@34-mo7-2.acn.waw.pl>

On Thu, 07 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Some new problems detected:
> OSX (GCC 4.0.1):
> 	harbour.so doesn't get created like in Linux.

In MacOSX shared libraries have .dylib extension not .so
You should find it with version number and some links.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Aug  7 18:20:07 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 18:20:18 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080807214506.GA18903@34-mo7-2.acn.waw.pl>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<20080807214506.GA18903@34-mo7-2.acn.waw.pl>
Message-ID: <A7E54D44-3660-4E0C-AFE7-69ACEE864443@syenar.hu>

Hi Przemek,

I can find no *.dylib either. Also, and maybe this is
related, I cannot 'gzip -d' the extracted tar.gz file,
because it says
'gzip: harbour-1.0.0-darwin_9.4.0.bin.tar.gz: unexpected end of file'
(both on OSX, using native gzip 1.3.10 and Windows gzip 1.3.5)

This is so since in all OSX releases I've ever tested.

So I cannot directly check the .tar file, but I did a lookup
on my OSX drive, and couldn't find any harbour .dylibs either.

All .dylib reference I can see is in stdout, in this line:
'Making lib-n harbour.-n 1.0.0.dylib...'

I can also see some 'ld: library not found for -lharbour'
messages in the stderr output.

Brgds,
Viktor

On 2008.08.07., at 23:45, Przemyslaw Czerpak wrote:

> On Thu, 07 Aug 2008, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>> Some new problems detected:
>> OSX (GCC 4.0.1):
>> 	harbour.so doesn't get created like in Linux.
>
> In MacOSX shared libraries have .dylib extension not .so
> You should find it with version number and some links.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Thu Aug  7 18:30:56 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 18:31:03 2008
Subject: [Harbour] 2008-08-08 00:30 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808072230.m77MUuii023004@31-mo5-4.acn.waw.pl>

2008-08-08 00:30 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    + recognize -mwindows -mconsole MinGW-GCC switches and update
      library list for them

  * harbour/source/rtl/gtwvt/gtwvt.h
  * harbour/source/rtl/gtwvt/gtwvt.c
    + added support HB_SET{TERM|DISP|KEY}CP() in non Unicode builds

best regards
Przemek
From harbour.01 at syenar.hu  Thu Aug  7 18:36:56 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 18:36:58 2008
Subject: [Harbour] 2008-08-08 00:33 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f8de$Blat.v2.6.2$18e875d8$ba4aecee990@127.0.0.1>

2008-08-08 00:33 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   + doc/genhtm.sh
     + Added Linux/Unix make file for docs (sf.net #1673897)
       Thanks to Wilfried Brunken - df7be.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Thu Aug  7 18:57:25 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 18:57:30 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <A7E54D44-3660-4E0C-AFE7-69ACEE864443@syenar.hu>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<20080807214506.GA18903@34-mo7-2.acn.waw.pl>
	<A7E54D44-3660-4E0C-AFE7-69ACEE864443@syenar.hu>
Message-ID: <20080807225725.GA22912@34-mo7-2.acn.waw.pl>

On Fri, 08 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> I can find no *.dylib either. Also, and maybe this is
> related, I cannot 'gzip -d' the extracted tar.gz file,
> because it says
> 'gzip: harbour-1.0.0-darwin_9.4.0.bin.tar.gz: unexpected end of file'
> (both on OSX, using native gzip 1.3.10 and Windows gzip 1.3.5)
> This is so since in all OSX releases I've ever tested.

Probably it was not extracted correctly.
You can easy make it yourself. Just look at this file end remove
beginning lines up to HB_INST_EOF.

> So I cannot directly check the .tar file, but I did a lookup
> on my OSX drive, and couldn't find any harbour .dylibs either.
> 
> All .dylib reference I can see is in stdout, in this line:
> 'Making lib-n harbour.-n 1.0.0.dylib...'

Your echo command does not recognize -n extension and adds it
to output.
Please replace in bin/hb-func.sh all:
   echo -n "..."
with:
   echo "..."
and repeat build test.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Aug  7 19:14:59 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 19:15:17 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080807225725.GA22912@34-mo7-2.acn.waw.pl>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<20080807214506.GA18903@34-mo7-2.acn.waw.pl>
	<A7E54D44-3660-4E0C-AFE7-69ACEE864443@syenar.hu>
	<20080807225725.GA22912@34-mo7-2.acn.waw.pl>
Message-ID: <6DB13C7B-2CE3-4EE9-842F-63BB2578F4D9@syenar.hu>

>>
Hi Przemek,

>> I can find no *.dylib either. Also, and maybe this is
>> related, I cannot 'gzip -d' the extracted tar.gz file,
>> because it says
>> 'gzip: harbour-1.0.0-darwin_9.4.0.bin.tar.gz: unexpected end of file'
>> (both on OSX, using native gzip 1.3.10 and Windows gzip 1.3.5)
>> This is so since in all OSX releases I've ever tested.
>
> Probably it was not extracted correctly.
> You can easy make it yourself. Just look at this file end remove
> beginning lines up to HB_INST_EOF.

The problem seems to be a prepended 0x0A byte at the end
of the extracted .tar.gz file. Without this byte, both
gzip can extract the file w/o problem.

Still no harbour .dylib though.

>> So I cannot directly check the .tar file, but I did a lookup
>> on my OSX drive, and couldn't find any harbour .dylibs either.
>>
>> All .dylib reference I can see is in stdout, in this line:
>> 'Making lib-n harbour.-n 1.0.0.dylib...'
>
> Your echo command does not recognize -n extension and adds it
> to output.
> Please replace in bin/hb-func.sh all:
>   echo -n "..."
> with:
>   echo "..."
> and repeat build test.

I will do, but my OSX 'man echo' says that -n is supported
and it even works when I try it in the shell.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Aug  7 19:23:18 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 19:23:19 2008
Subject: [Harbour] 2008-08-08 01:10 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f8e4$Blat.v2.6.2$9319967e$288078aee2f0@127.0.0.1>

2008-08-08 01:10 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/genhtm.sh
     ! Minor fix to previous commit.

   * utils/hbdoc/rtf.prg
   * utils/hbdoc/genos2.prg
   * utils/hbdoc/genng.prg
   * utils/hbdoc/genasc.prg
   * utils/hbdoc/hbdocdef.ch
   * utils/hbdoc/genchm.prg
   * utils/hbdoc/os2.prg
   * utils/hbdoc/ng.prg
   * utils/hbdoc/genhpc.prg
   * utils/hbdoc/html.prg
   * utils/hbdoc/ft_funcs.prg
   * utils/hbdoc/hbdoc.prg
   * utils/hbdoc/troff.prg
   * utils/hbdoc/genhtm.prg
   * utils/hbdoc/genpdf1.prg
   * utils/hbdoc/gentrf.prg
   * utils/hbdoc/genrtf.prg
     ! Fixed to not convert filenames to uppercase. (sf.net #1673895)
     ! Formatting.
     * <> -> !=, .f. -> .F., .t. -> .T.
     ! = -> ==/:= (where the intent was clear)
     ! Added newline to the end of files.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Thu Aug  7 19:27:43 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 19:27:50 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <6DB13C7B-2CE3-4EE9-842F-63BB2578F4D9@syenar.hu>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<20080807214506.GA18903@34-mo7-2.acn.waw.pl>
	<A7E54D44-3660-4E0C-AFE7-69ACEE864443@syenar.hu>
	<20080807225725.GA22912@34-mo7-2.acn.waw.pl>
	<6DB13C7B-2CE3-4EE9-842F-63BB2578F4D9@syenar.hu>
Message-ID: <20080807232743.GA9682@34-mo7-2.acn.waw.pl>

On Fri, 08 Aug 2008, Szak?ts Viktor wrote:
> The problem seems to be a prepended 0x0A byte at the end
> of the extracted .tar.gz file. Without this byte, both
> gzip can extract the file w/o problem.

if *inst.sh file does not have it then it was attched by sed
during --extract command
It should not make it.

> Still no harbour .dylib though.

It cannot be due to -n before name and number.

> >>All .dylib reference I can see is in stdout, in this line:
> >>'Making lib-n harbour.-n 1.0.0.dylib...'
> >Your echo command does not recognize -n extension and adds it
> >to output.
> >Please replace in bin/hb-func.sh all:
> >  echo -n "..."
> >with:
> >  echo "..."
> >and repeat build test.
> I will do, but my OSX 'man echo' says that -n is supported
> and it even works when I try it in the shell.

As you can see above for some reasons it does not work for you.
Strange because it was working for me without any problems
when I was making Darwin builds some years ago. It was also
working for Phil. Maybe you have some alias for 'echo' set in
your environment. I can only guess. echo is very often also
embedded shell command and it may behaves differently then
standalone program though each should accept -n and -e switches.

best regards,
Przemek
From gvarona at ec-red.com  Thu Aug  7 19:28:16 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Thu Aug  7 19:28:18 2008
Subject: [Harbour] 2008-08-07 12:23 UTC-0800 Pritpal
	Bedi	(pritpal@vouchcac.com)
In-Reply-To: <18877827.post@talk.nabble.com>
References: <18877827.post@talk.nabble.com>
Message-ID: <489B8510.4000806@ec-red.com>

Thanks very much, now work fine the mouse

Best Regard
GVS

Pritpal Bedi escribi?:
> 2008-08-07 12:23 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * harbour/source/rtl/achoice.prg
>     * Corrected behavior of K_LDBLCLK and K_LBUTTONDOWN.
>
> Regards
> Pritpal Bedi
>   

From harbour.01 at syenar.hu  Thu Aug  7 19:32:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 19:32:59 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080807225725.GA22912@34-mo7-2.acn.waw.pl>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<20080807214506.GA18903@34-mo7-2.acn.waw.pl>
	<A7E54D44-3660-4E0C-AFE7-69ACEE864443@syenar.hu>
	<20080807225725.GA22912@34-mo7-2.acn.waw.pl>
Message-ID: <DE2EC2F6-094D-477D-B382-CEB50E2E67C5@syenar.hu>

>
Hi Przemek,

> Your echo command does not recognize -n extension and adds it
> to output.
> Please replace in bin/hb-func.sh all:
>   echo -n "..."
> with:
>   echo "..."
> and repeat build test.

I've just found that this is a known property of OS X 10.5.x
by purpose, whereas /bin/sh doesn't support 'echo -n'.
/bin/bash does. It also works if called as /bin/echo.

The reason is to be certified for Single UNIX Specification,
and -n for echo is a bash add-on.

Brgds,
Viktor

From bedipritpal at hotmail.com  Thu Aug  7 19:35:20 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug  7 19:35:24 2008
Subject: [Harbour] 2008-08-07 16:35 UTC-0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <18882135.post@talk.nabble.com>


2008-08-07 16:35 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/source/rtl/achoice.prg
    + Added functionality for K_MOUSEMOVE.
      Now if the moouse is moved over the AChoice area,
      prompt ready for selection will also change, just like
      in Windows.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-08-07-16%3A35-UTC-0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp18882135p18882135.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Aug  7 19:37:29 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 19:37:35 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080807232743.GA9682@34-mo7-2.acn.waw.pl>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<20080807214506.GA18903@34-mo7-2.acn.waw.pl>
	<A7E54D44-3660-4E0C-AFE7-69ACEE864443@syenar.hu>
	<20080807225725.GA22912@34-mo7-2.acn.waw.pl>
	<6DB13C7B-2CE3-4EE9-842F-63BB2578F4D9@syenar.hu>
	<20080807232743.GA9682@34-mo7-2.acn.waw.pl>
Message-ID: <D2BFDC69-C9E4-4348-929F-E52B0C951BF7@syenar.hu>

>>
Hi Przemek,

>> The problem seems to be a prepended 0x0A byte at the end
>> of the extracted .tar.gz file. Without this byte, both
>> gzip can extract the file w/o problem.
>
> if *inst.sh file does not have it then it was attched by sed
> during --extract command
> It should not make it.

The *inst.sh file doesn't have it.

It's /usr/bin/sed and I cannot see any version numbers,
just the fact that it's a BSD compatible command.

Any ways to fix this?

>>> As you can see above for some reasons it does not work for you.
> Strange because it was working for me without any problems
> when I was making Darwin builds some years ago. It was also
> working for Phil. Maybe you have some alias for 'echo' set in
> your environment. I can only guess. echo is very often also
> embedded shell command and it may behaves differently then
> standalone program though each should accept -n and -e switches.

Yes, something like this, pls see my other mail.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Aug  7 19:41:17 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 19:41:24 2008
Subject: [Harbour] 2008-08-07 16:35 UTC-0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <18882135.post@talk.nabble.com>
References: <18882135.post@talk.nabble.com>
Message-ID: <3D63B375-5B71-4845-9186-0E9791184484@syenar.hu>

Hi Pritpal,

This is not Clipper compatible, so IMO we'd need
to mark it with HB_EXTENSION. It's also not in sync
with general mouse behaviour of other Clipper/Harbour
CUI elements. I'd opt to disable this.

Brgds,
Viktor

On 2008.08.08., at 1:35, Pritpal Bedi wrote:

>
> 2008-08-07 16:35 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * harbour/source/rtl/achoice.prg
>    + Added functionality for K_MOUSEMOVE.
>      Now if the moouse is moved over the AChoice area,
>      prompt ready for selection will also change, just like
>      in Windows.
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/2008-08-07-16%3A35-UTC-0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp18882135p18882135.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Thu Aug  7 19:55:55 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug  7 19:55:59 2008
Subject: [Harbour] 2008-08-07 16:35 UTC-0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <3D63B375-5B71-4845-9186-0E9791184484@syenar.hu>
References: <18882135.post@talk.nabble.com>
	<3D63B375-5B71-4845-9186-0E9791184484@syenar.hu>
Message-ID: <18882400.post@talk.nabble.com>


Hello Viktor


Szak?ts Viktor wrote:
> 
> This is not Clipper compatible, so IMO we'd need
> to mark it with HB_EXTENSION. It's also not in sync
> with general mouse behaviour of other Clipper/Harbour
> CUI elements. I'd opt to disable this.
> 

So it be guarded aginst HB_EXTENSION or removed ?

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/2008-08-07-16%3A35-UTC-0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp18882135p18882400.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Aug  7 20:08:44 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 20:08:51 2008
Subject: [Harbour] 2008-08-07 16:35 UTC-0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <18882400.post@talk.nabble.com>
References: <18882135.post@talk.nabble.com>
	<3D63B375-5B71-4845-9186-0E9791184484@syenar.hu>
	<18882400.post@talk.nabble.com>
Message-ID: <A60EA653-D93C-4483-81AF-013371D48539@syenar.hu>

>>
Hi Pritpal,

>> This is not Clipper compatible, so IMO we'd need
>> to mark it with HB_EXTENSION. It's also not in sync
>> with general mouse behaviour of other Clipper/Harbour
>> CUI elements. I'd opt to disable this.
>>
>
> So it be guarded aginst HB_EXTENSION or removed ?

I'd opt to be removed rather, it's not very inline
with other UI parts and it also effectively
disables the Clipper compatible K_LBUTTONDOWN feature.

Brgds,
Viktor

From bedipritpal at hotmail.com  Thu Aug  7 20:18:22 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug  7 20:18:26 2008
Subject: [Harbour] 2008-08-07 17:20 UTC-0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <18882740.post@talk.nabble.com>


2008-08-07 17:20 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/source/rtl/achoice.prg
    - Removed K_MOUSEMOVE functionality.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-08-07-17%3A20-UTC-0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp18882740p18882740.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Thu Aug  7 20:19:04 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 20:19:09 2008
Subject: [Harbour] 2008-08-08 02:18 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808080019.m780J47O015531@31-mo5-4.acn.waw.pl>

2008-08-08 02:18 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/make_deb.sh
  * harbour/make_tgz.sh
  * harbour/make_rpm.sh
  * harbour/make_rpmce.sh
  * harbour/make_rpmw32.sh
  * harbour/bin/pack_src.sh
    * force using BASH in all files which includes hb-func.sh

  * harbour/include/hbgtcore.h
  * harbour/include/hbapigt.h
  * harbour/include/hbextern.ch
  * harbour/source/rtl/hbgtcore.c
  * harbour/source/rtl/inkeyapi.c
  * harbour/source/rtl/inkey.c
    + added HB_KEYINS() which works like HB_KEYPUT() but numeric
      key values puts at the beginning of keyboard buffer.
      It does not clear keyboard buffer contents.

best regards
Przemek
From bedipritpal at hotmail.com  Thu Aug  7 20:21:19 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug  7 20:21:24 2008
Subject: [Harbour] GTWVT and HB_NOSTARTUPWINDOW
Message-ID: <18882776.post@talk.nabble.com>


Hello Viktor

I would like if HB_NOSTARTUPWINDOW functionality
is restored in GTWVT as there is no way to force it
programatically. 

And it is a required feature for some kind of applications.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/GTWVT-and-HB_NOSTARTUPWINDOW-tp18882776p18882776.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Thu Aug  7 20:26:32 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 20:26:37 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <DE2EC2F6-094D-477D-B382-CEB50E2E67C5@syenar.hu>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<20080807214506.GA18903@34-mo7-2.acn.waw.pl>
	<A7E54D44-3660-4E0C-AFE7-69ACEE864443@syenar.hu>
	<20080807225725.GA22912@34-mo7-2.acn.waw.pl>
	<DE2EC2F6-094D-477D-B382-CEB50E2E67C5@syenar.hu>
Message-ID: <20080808002632.GA10480@34-mo7-2.acn.waw.pl>

On Fri, 08 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> I've just found that this is a known property of OS X 10.5.x
> by purpose, whereas /bin/sh doesn't support 'echo -n'.
> /bin/bash does. It also works if called as /bin/echo.

Please try build Harbour with clean SVN after:
   2008-08-08 02:18 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

> The reason is to be certified for Single UNIX Specification,
> and -n for echo is a bash add-on.

AFAIR it was not BASH add-on but rather Bourne-SHell - it's very old
extension. Anyhow it doesn't matter for us. I've just forced using
BASH in all files which include bin/hb-func.sh

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Aug  7 20:30:22 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 20:30:31 2008
Subject: [Harbour] GTWVT and HB_NOSTARTUPWINDOW
In-Reply-To: <18882776.post@talk.nabble.com>
References: <18882776.post@talk.nabble.com>
Message-ID: <662E9C03-916B-40F7-86EB-B0CFCA9F74A7@syenar.hu>

Hi Pritpal,

I still don't agree with this functionality.

Even worse, we're in a feature freeze, and really
just a few revisions from the final one, and it'd
be pretty unfortunate to go to another test/fix
cycle after continuous changes. I'd suggest a local
patch this time, or GTWVG for everyone who happens
to need this feature.

I hope to tag 1.0.0 in the next 1-2 days, until
then let's please all deal with final bug fixes,
and doing build tests on as much platforms as
possible.

We're still missing WinCE builds and several
Linux distros miss a green flag yet.

Brgds,
Viktor

On 2008.08.08., at 2:21, Pritpal Bedi wrote:

>
> Hello Viktor
>
> I would like if HB_NOSTARTUPWINDOW functionality
> is restored in GTWVT as there is no way to force it
> programatically.
>
> And it is a required feature for some kind of applications.
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/GTWVT-and-HB_NOSTARTUPWINDOW-tp18882776p18882776.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Aug  7 20:32:36 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 20:32:41 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080808002632.GA10480@34-mo7-2.acn.waw.pl>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<20080807214506.GA18903@34-mo7-2.acn.waw.pl>
	<A7E54D44-3660-4E0C-AFE7-69ACEE864443@syenar.hu>
	<20080807225725.GA22912@34-mo7-2.acn.waw.pl>
	<DE2EC2F6-094D-477D-B382-CEB50E2E67C5@syenar.hu>
	<20080808002632.GA10480@34-mo7-2.acn.waw.pl>
Message-ID: <7F7E4786-78BD-454F-876C-6BEFFDADA435@syenar.hu>

Hi Przemek,

>> I've just found that this is a known property of OS X 10.5.x
>> by purpose, whereas /bin/sh doesn't support 'echo -n'.
>> /bin/bash does. It also works if called as /bin/echo.
>
> Please try build Harbour with clean SVN after:
>   2008-08-08 02:18 UTC+0200 Przemyslaw Czerpak (druzus/at/ 
> priv.onet.pl)

Thanks, I'll do it in a minute.

>> The reason is to be certified for Single UNIX Specification,
>> and -n for echo is a bash add-on.
>
> AFAIR it was not BASH add-on but rather Bourne-SHell - it's very old
> extension. Anyhow it doesn't matter for us. I've just forced using
> BASH in all files which include bin/hb-func.sh

Shouldn't we uniformly change all .sh script to use bash?

Do you have any idea for the sed problem? It's not critical,
but for the 'corrupted' message looked pretty scary, and I
couldn't be really sure that my installation went complete.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Aug  7 20:37:08 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 20:37:16 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <7F7E4786-78BD-454F-876C-6BEFFDADA435@syenar.hu>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<20080807214506.GA18903@34-mo7-2.acn.waw.pl>
	<A7E54D44-3660-4E0C-AFE7-69ACEE864443@syenar.hu>
	<20080807225725.GA22912@34-mo7-2.acn.waw.pl>
	<DE2EC2F6-094D-477D-B382-CEB50E2E67C5@syenar.hu>
	<20080808002632.GA10480@34-mo7-2.acn.waw.pl>
	<7F7E4786-78BD-454F-876C-6BEFFDADA435@syenar.hu>
Message-ID: <92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>

>>
Hi Przemek,

>> AFAIR it was not BASH add-on but rather Bourne-SHell - it's very old
>> extension. Anyhow it doesn't matter for us. I've just forced using
>> BASH in all files which include bin/hb-func.sh
>
> Shouldn't we uniformly change all .sh script to use bash?

Nevermind, I see it's started in a "tricky" way. So the
default is still /bin/sh. Just ignore this question of mine.

Brgds,
Viktor


From druzus at acn.waw.pl  Thu Aug  7 20:47:53 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 20:47:59 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <7F7E4786-78BD-454F-876C-6BEFFDADA435@syenar.hu>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<20080807214506.GA18903@34-mo7-2.acn.waw.pl>
	<A7E54D44-3660-4E0C-AFE7-69ACEE864443@syenar.hu>
	<20080807225725.GA22912@34-mo7-2.acn.waw.pl>
	<DE2EC2F6-094D-477D-B382-CEB50E2E67C5@syenar.hu>
	<20080808002632.GA10480@34-mo7-2.acn.waw.pl>
	<7F7E4786-78BD-454F-876C-6BEFFDADA435@syenar.hu>
Message-ID: <20080808004753.GA2045@34-mo7-2.acn.waw.pl>

On Fri, 08 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Shouldn't we uniformly change all .sh script to use bash?

If script does not need any extra features then I do not see
any reason to force it.

> Do you have any idea for the sed problem? It's not critical,
> but for the 'corrupted' message looked pretty scary, and I
> couldn't be really sure that my installation went complete.

Does it also shows the same message when you try to install it?

best regards,
Przemek
From druzus at acn.waw.pl  Thu Aug  7 20:50:28 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 20:50:33 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<20080807214506.GA18903@34-mo7-2.acn.waw.pl>
	<A7E54D44-3660-4E0C-AFE7-69ACEE864443@syenar.hu>
	<20080807225725.GA22912@34-mo7-2.acn.waw.pl>
	<DE2EC2F6-094D-477D-B382-CEB50E2E67C5@syenar.hu>
	<20080808002632.GA10480@34-mo7-2.acn.waw.pl>
	<7F7E4786-78BD-454F-876C-6BEFFDADA435@syenar.hu>
	<92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
Message-ID: <20080808005028.GB2045@34-mo7-2.acn.waw.pl>

On Fri, 08 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Nevermind, I see it's started in a "tricky" way.

It's a workaround for different BASH locations in some systems.
Not nice but in some *nixes BASH and other GNU tools are not
installed in default system directories.

best regards,
Przemek
From philb at philb.us  Thu Aug  7 20:57:43 2008
From: philb at philb.us (Phil Barnett)
Date: Thu Aug  7 20:57:48 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080808005028.GB2045@34-mo7-2.acn.waw.pl>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
	<20080808005028.GB2045@34-mo7-2.acn.waw.pl>
Message-ID: <200808072057.43812.philb@philb.us>

On Thursday 07 August 2008 08:50:28 pm Przemyslaw Czerpak wrote:
> On Fri, 08 Aug 2008, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
> > Nevermind, I see it's started in a "tricky" way.
>
> It's a workaround for different BASH locations in some systems.
> Not nice but in some *nixes BASH and other GNU tools are not
> installed in default system directories.

Would it be unrealistic to require people in this case to install a symlink?

I think it would be simple to detect and requist.

-- 
Waiting for sunspots.
From harbour.01 at syenar.hu  Thu Aug  7 21:01:15 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 21:01:29 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080808002632.GA10480@34-mo7-2.acn.waw.pl>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<20080807214506.GA18903@34-mo7-2.acn.waw.pl>
	<A7E54D44-3660-4E0C-AFE7-69ACEE864443@syenar.hu>
	<20080807225725.GA22912@34-mo7-2.acn.waw.pl>
	<DE2EC2F6-094D-477D-B382-CEB50E2E67C5@syenar.hu>
	<20080808002632.GA10480@34-mo7-2.acn.waw.pl>
Message-ID: <F74EDF31-F798-4A9F-A36B-0FEE4C25D5F3@syenar.hu>

>>
Hi Przemek,

>> by purpose, whereas /bin/sh doesn't support 'echo -n'.
>> /bin/bash does. It also works if called as /bin/echo.
>
> Please try build Harbour with clean SVN after:
>   2008-08-08 02:18 UTC+0200 Przemyslaw Czerpak (druzus/at/ 
> priv.onet.pl)

I did a full SVN export and rebuild, but the same thing happens
as before. ('Making lib-n harbour.-n 1.0.0.dylib')

Isn't it an option to somehow avoid 'echo -n' in the scripts?

Brgds,
Viktor

From druzus at acn.waw.pl  Thu Aug  7 21:06:29 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 21:06:34 2008
Subject: [Harbour] 2008-08-08 03:05 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808080106.m7816TJt026899@31-mo5-4.acn.waw.pl>

2008-08-08 03:05 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    * replaced all echo -n with echo - shells should remove trailing
      blank characters when stream command is not quoted by ""

best regards
Przemek
From harbour.01 at syenar.hu  Thu Aug  7 21:08:01 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 21:08:11 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080808004753.GA2045@34-mo7-2.acn.waw.pl>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<20080807214506.GA18903@34-mo7-2.acn.waw.pl>
	<A7E54D44-3660-4E0C-AFE7-69ACEE864443@syenar.hu>
	<20080807225725.GA22912@34-mo7-2.acn.waw.pl>
	<DE2EC2F6-094D-477D-B382-CEB50E2E67C5@syenar.hu>
	<20080808002632.GA10480@34-mo7-2.acn.waw.pl>
	<7F7E4786-78BD-454F-876C-6BEFFDADA435@syenar.hu>
	<20080808004753.GA2045@34-mo7-2.acn.waw.pl>
Message-ID: <9FEB689C-60D4-4034-A404-71507FA6F66F@syenar.hu>

>>
Hi Przemek,

>> Do you have any idea for the sed problem? It's not critical,
>> but for the 'corrupted' message looked pretty scary, and I
>> couldn't be really sure that my installation went complete.
>
> Does it also shows the same message when you try to install it?

Yes. This exactly:
--
...
./usr/local/lib/harbour/librddntx.a
./usr/local/lib/harbour/libxhb.a

gzip: stdin: unexpected end of file
--

Brgds,
Viktor

From druzus at acn.waw.pl  Thu Aug  7 21:11:42 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 21:11:47 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <200808072057.43812.philb@philb.us>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
	<20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
Message-ID: <20080808011142.GC2045@34-mo7-2.acn.waw.pl>

On Thu, 07 Aug 2008, Phil Barnett wrote:

Hi Phil,

> > It's a workaround for different BASH locations in some systems.
> > Not nice but in some *nixes BASH and other GNU tools are not
> > installed in default system directories.
> Would it be unrealistic to require people in this case to install a symlink?
> I think it would be simple to detect and requist.

If you have write access to system directories then it's not a problem.
Unfortunately it's not everywhere possible. If you think then we can
ignore such situations then we can replace all:
   #!/bin/sh
   [ "$BASH" ] || exec bash `which $0` ${1+"$@"}

with simple:
   #!/bin/bash

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Aug  7 21:22:39 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug  7 21:22:49 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080808011142.GC2045@34-mo7-2.acn.waw.pl>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
	<20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
Message-ID: <6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>

Hi folks,

Just wait for my test results, because we might not
need bash at all, if we can get away without echo -n.

It'll probably be ready next morning, as I'm doing
a combined i386 / PPC / x86_64 / PPC64 build.

In the meantime, if anyone has any idea why I'm
getting thousands of these lines in stderr, please speak up:
--
/usr/bin/../libexec/gcc/darwin/i386/as: Flag option -o has already  
been seen!
/usr/bin/../libexec/gcc/darwin/ppc/as: Flag option -o has already been  
seen!
/usr/bin/../libexec/gcc/darwin/ppc64/as: Flag option -o has already  
been seen!
/usr/bin/../libexec/gcc/darwin/x86_64/as: Flag option -o has already  
been seen!
--

There is one such line for each -arch flag and for each file compiled.

Brgds,
Viktor

On 2008.08.08., at 3:11, Przemyslaw Czerpak wrote:

> On Thu, 07 Aug 2008, Phil Barnett wrote:
>
> Hi Phil,
>
>>> It's a workaround for different BASH locations in some systems.
>>> Not nice but in some *nixes BASH and other GNU tools are not
>>> installed in default system directories.
>> Would it be unrealistic to require people in this case to install a  
>> symlink?
>> I think it would be simple to detect and requist.
>
> If you have write access to system directories then it's not a  
> problem.
> Unfortunately it's not everywhere possible. If you think then we can
> ignore such situations then we can replace all:
>   #!/bin/sh
>   [ "$BASH" ] || exec bash `which $0` ${1+"$@"}
>
> with simple:
>   #!/bin/bash
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Thu Aug  7 21:32:16 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 21:32:20 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <F74EDF31-F798-4A9F-A36B-0FEE4C25D5F3@syenar.hu>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<20080807214506.GA18903@34-mo7-2.acn.waw.pl>
	<A7E54D44-3660-4E0C-AFE7-69ACEE864443@syenar.hu>
	<20080807225725.GA22912@34-mo7-2.acn.waw.pl>
	<DE2EC2F6-094D-477D-B382-CEB50E2E67C5@syenar.hu>
	<20080808002632.GA10480@34-mo7-2.acn.waw.pl>
	<F74EDF31-F798-4A9F-A36B-0FEE4C25D5F3@syenar.hu>
Message-ID: <20080808013216.GD2045@34-mo7-2.acn.waw.pl>

On Fri, 08 Aug 2008, Szak?ts Viktor wrote:
> I did a full SVN export and rebuild, but the same thing happens
> as before. ('Making lib-n harbour.-n 1.0.0.dylib')

Then it means that you have nonempty BASH envvar set in your
/bin/sh shell but it's not BASH.

I've just replaced all echo -n with simple echo.
If you assing command results like:
   VAR=`some_command`
then it should not create problems but code like:
   VAR="`some_command`"
will be effected. We do not have it.
Or maybe we should force #!/bin/bash in header as Phil suggested?
I feel that it consumes too much time.
What's BASH location in your system?

best regards,
Przemek
From druzus at acn.waw.pl  Thu Aug  7 21:43:21 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 21:43:26 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
	<20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
Message-ID: <20080808014321.GE2045@34-mo7-2.acn.waw.pl>

On Fri, 08 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Just wait for my test results, because we might not
> need bash at all, if we can get away without echo -n.

We are using many extensions in our scripts which may not
be present in standard /bin/sh shell. I do not know what
is your default shell (BTW what is it?) but for sure I know
many shells which will not work.

> It'll probably be ready next morning, as I'm doing
> a combined i386 / PPC / x86_64 / PPC64 build.


> In the meantime, if anyone has any idea why I'm
> getting thousands of these lines in stderr, please speak up:
> --
> /usr/bin/../libexec/gcc/darwin/i386/as: Flag option -o has already  
> been seen!
> /usr/bin/../libexec/gcc/darwin/ppc/as: Flag option -o has already been  
> seen!
> /usr/bin/../libexec/gcc/darwin/ppc64/as: Flag option -o has already  
> been seen!
> /usr/bin/../libexec/gcc/darwin/x86_64/as: Flag option -o has already  
> been seen!
> --
> There is one such line for each -arch flag and for each file compiled.

I'm afraid I cannot help you here.
Please make some test with gcc and -o<file> option with and without
space before <file>. If additional space resolves the problem then
try to add space after = in config/darwin/gcc.cf[16]:
   CC_OUT = -o

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Thu Aug  7 22:16:26 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Aug  7 22:16:32 2008
Subject: [Harbour] Convert a color value to a RGB triplet
In-Reply-To: <cpjm945p0a0ehpifi2fgtcbsfhetvvgdpu@4ax.com>
References: <9257026e0808071050g229a677ak15917d77cc951cd@mail.gmail.com>
	<cpjm945p0a0ehpifi2fgtcbsfhetvvgdpu@4ax.com>
Message-ID: <9257026e0808071916n5f57fa8q15919f5c1f2a96ca@mail.gmail.com>

On Thu, Aug 7, 2008 at 9:39 PM, Toninho@fwi

> Lorenzo, IIUC you need this: (?)
>
>   int iR = GetRValue( nColor );
>   int iG = GetGValue( nColor );
>   int iB = GetBValue( nColor ) ;

Yes.

best regards,
Lorenzo
From jarabal at gmail.com  Thu Aug  7 22:36:10 2008
From: jarabal at gmail.com (Xavi)
Date: Thu Aug  7 22:37:18 2008
Subject: [Harbour] hbmd5.c * cleaned warnings
Message-ID: <489BB11A.2080901@gmail.com>

Please, someone can update *repositories*.

Borland C++ 5.5.1 for Win32 Copyright (c) 1993, 2000 Borland
hbmd5.c:
Warning W8071 hbmd5.c 260: Conversion may lose significant digits in function hb_md5val
Warning W8071 hbmd5.c 271: Conversion may lose significant digits in function hb_md5digest
Warning W8071 hbmd5.c 273: Conversion may lose significant digits in function hb_md5digest
Warning W8071 hbmd5.c 306: Conversion may lose significant digits in function hb_md5
Warning W8071 hbmd5.c 310: Conversion may lose significant digits in function hb_md5
Warning W8071 hbmd5.c 359: Conversion may lose significant digits in function hb_md5file
Warning W8071 hbmd5.c 363: Conversion may lose significant digits in function hb_md5file

Thank you very much.
Xavi

-------------- next part --------------
/*
 * $Id: hbmd5.c 9014 2008-07-28 10:37:57Z druzus $
 */

/*
 * Harbour Project source code:
 *    Harbour MD5 Support
 *
 * Copyright 2004 Dmitry V. Korzhov <dk@april26.spb.ru>
 *
 * Copyright 2007 Przemyslaw Czerpak <druzus / at / priv.onet.pl>
 *    updated for current Harbour code, other then x86@32 machines,
 *    files and buffers longer then 2^32 and some fixes
 *
 * www - http://www.harbour-project.org
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software; see the file COPYING.  If not, write to
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
 *
 * As a special exception, the Harbour Project gives permission for
 * additional uses of the text contained in its release of Harbour.
 *
 * The exception is that, if you link the Harbour libraries with other
 * files to produce an executable, this does not by itself cause the
 * resulting executable to be covered by the GNU General Public License.
 * Your use of that executable is in no way restricted on account of
 * linking the Harbour library code into it.
 *
 * This exception does not however invalidate any other reasons why
 * the executable file might be covered by the GNU General Public License.
 *
 * This exception applies only to the code released by the Harbour
 * Project under the name Harbour.  If you copy code from other
 * Harbour Project or Free Software Foundation releases into a copy of
 * Harbour, as the General Public License permits, the exception does
 * not apply to the code that you add in this way.  To avoid misleading
 * anyone as to the status of such modified files, you must delete
 * this exception notice from them.
 *
 * If you write modifications of your own for Harbour, it is your choice
 * whether to permit this exception to apply to your modifications.
 * If you do not wish that, delete this exception notice.
 *
 */

/*
MD5 digest (based on RFC 1321 only). [x]Harbour implementation

PRG functions:

   HB_MD5( <cString> ) -> <cMD5>
         Calculates RFC 1321 MD5 digest (128-bit checksum)
      Parameters:
         <cString>   - string variable to calculate MD5
      Returns:
         ASCII hex MD5 digest as 32-byte string
         empty string on error

   HB_MD5FILE( <cFileName> ) -> <cMD5>
         Calculates RFC 1321 MD5 digest (128-bit checksum) of a file contents
         (file size is limited by OS limits only)
      Parameters:
         <cFileName> - file name
      Returns:
         ASCII hex MD5 digest as 32-byte string
         empty string on error

C functions:

   void hb_md5( BYTE * data, ULONG datalen, BYTE * digest )
      Parameters:
         data     - input byte stream
         datalen  - input stream length
         digest   - raw (unformatted) MD5 digest buffer
                    (at least 16 bytes long)

   void hb_md5file( FHANDLE hFile, BYTE * digest )
      Parameters:
         hFile    - file handle
         digest   - raw (unformatted) MD5 digest buffer
                    (at least 16 bytes long)

*/

#include "hbapi.h"
#include "hbapifs.h"
#include "hbchksum.h"

/* MD5 buffer */
typedef struct
{
   UINT32   accum[ 4 ];
   BYTE     buf[ 64 ];
} MD5_BUF;

/*
   Pseudofunctions;
   A[x] - accumulators[4]
   T[x] - Value table[64]
   X[x] - buffer[16]
*/
#define ROTL(x,n) ((x << n) | (x >> (32 - n)))
#define PF1(a,b,c,d,k,s,i) \
   A[a] = A[a] + ((A[b] & A[c]) | ((~A[b]) & A[d])) + X[k] + T[i]; \
   A[a] = ROTL(A[a], s) + A[b]
#define PF2(a,b,c,d,k,s,i) \
   A[a] = A[a] + ((A[b] & A[d]) | (A[c] & (~A[d]))) + X[k] + T[i]; \
   A[a] = ROTL(A[a], s) + A[b]
#define PF3(a,b,c,d,k,s,i) \
   A[a] = A[a] + (A[b] ^ A[c] ^ A[d]) + X[k] + T[i]; \
   A[a] = ROTL(A[a], s) + A[b]
#define PF4(a,b,c,d,k,s,i) \
   A[a] = A[a] + (A[c] ^(A[b] | (~A[d]))) + X[k] + T[i]; \
   A[a] = ROTL(A[a], s) + A[b]

/* Defines for file ops */
#define MAX_FBUF 0x20000 /* file read buffer size, MUST be 64*n */

/* Static data */
static const UINT32 T[ 64 ] = {
   0xD76AA478, 0xE8C7B756, 0x242070DB, 0xC1BDCEEE,
   0xF57C0FAF, 0x4787C62A, 0xA8304613, 0xFD469501,
   0x698098D8, 0x8B44F7AF, 0xFFFF5BB1, 0x895CD7BE,
   0x6B901122, 0xFD987193, 0xA679438E, 0x49B40821,
   0xF61E2562, 0xC040B340, 0x265E5A51, 0xE9B6C7AA,
   0xD62F105D, 0x02441453, 0xD8A1E681, 0xE7D3FBC8,
   0x21E1CDE6, 0xC33707D6, 0xF4D50D87, 0x455A14ED,
   0xA9E3E905, 0xFCEFA3F8, 0x676F02D9, 0x8D2A4C8A,
   0xFFFA3942, 0x8771F681, 0x6D9D6122, 0xFDE5380C,
   0xA4BEEA44, 0x4BDECFA9, 0xF6BB4B60, 0xBEBFBC70,
   0x289b7EC6, 0xEAA127FA, 0xD4EF3085, 0x04881D05,
   0xD9D4D039, 0xE6DB99E5, 0x1FA27CF8, 0xC4AC5665,
   0xF4292244, 0x432AFF97, 0xAB9423A7, 0xFC93A039,
   0x655b59C3, 0x8F0CCC92, 0xFFEFF47D, 0x85845DD1,
   0x6Fa87E4F, 0xFE2CE6e0, 0xA3014314, 0x4E0811A1,
   0xF7537E82, 0xBD3AF235, 0x2AD7D2BB, 0xEB86D391
};

static const BYTE pad[ 64 ] = {
   0x80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
};

static void hb_md5go( MD5_BUF * md5 )
{
   UINT32 X[ 16 ], A[ 4 ];
   BYTE * ptr;
   int i;

   /* copy accumulators first */
   memcpy( A, md5->accum, sizeof( A ) );

   /* fill buffer */
   for( i = 0, ptr = md5->buf; i < 16; i++, ptr += 4 )
      X[ i ] = HB_GET_LE_UINT32( ptr );

   /* process buffer */
   PF1( 0, 1, 2, 3,  0,  7,  0 );
   PF1( 3, 0, 1, 2,  1, 12,  1 );
   PF1( 2, 3, 0, 1,  2, 17,  2 );
   PF1( 1, 2, 3, 0,  3, 22,  3 );
   PF1( 0, 1, 2, 3,  4,  7,  4 );
   PF1( 3, 0, 1, 2,  5, 12,  5 );
   PF1( 2, 3, 0, 1,  6, 17,  6 );
   PF1( 1, 2, 3, 0,  7, 22,  7 );
   PF1( 0, 1, 2, 3,  8,  7,  8 );
   PF1( 3, 0, 1, 2,  9, 12,  9 );
   PF1( 2, 3, 0, 1, 10, 17, 10 );
   PF1( 1, 2, 3, 0, 11, 22, 11 );
   PF1( 0, 1, 2, 3, 12,  7, 12 );
   PF1( 3, 0, 1, 2, 13, 12, 13 );
   PF1( 2, 3, 0, 1, 14, 17, 14 );
   PF1( 1, 2, 3, 0, 15, 22, 15 );
   PF2( 0, 1, 2, 3,  1,  5, 16 );
   PF2( 3, 0, 1, 2,  6,  9, 17 );
   PF2( 2, 3, 0, 1, 11, 14, 18 );
   PF2( 1, 2, 3, 0,  0, 20, 19 );
   PF2( 0, 1, 2, 3,  5,  5, 20 );
   PF2( 3, 0, 1, 2, 10,  9, 21 );
   PF2( 2, 3, 0, 1, 15, 14, 22 );
   PF2( 1, 2, 3, 0,  4, 20, 23 );
   PF2( 0, 1, 2, 3,  9,  5, 24 );
   PF2( 3, 0, 1, 2, 14,  9, 25 );
   PF2( 2, 3, 0, 1,  3, 14, 26 );
   PF2( 1, 2, 3, 0,  8, 20, 27 );
   PF2( 0, 1, 2, 3, 13,  5, 28 );
   PF2( 3, 0, 1, 2,  2,  9, 29 );
   PF2( 2, 3, 0, 1,  7, 14, 30 );
   PF2( 1, 2, 3, 0, 12, 20, 31 );
   PF3( 0, 1, 2, 3,  5,  4, 32 );
   PF3( 3, 0, 1, 2,  8, 11, 33 );
   PF3( 2, 3, 0, 1, 11, 16, 34 );
   PF3( 1, 2, 3, 0, 14, 23, 35 );
   PF3( 0, 1, 2, 3,  1,  4, 36 );
   PF3( 3, 0, 1, 2,  4, 11, 37 );
   PF3( 2, 3, 0, 1,  7, 16, 38 );
   PF3( 1, 2, 3, 0, 10, 23, 39 );
   PF3( 0, 1, 2, 3, 13,  4, 40 );
   PF3( 3, 0, 1, 2,  0, 11, 41 );
   PF3( 2, 3, 0, 1,  3, 16, 42 );
   PF3( 1, 2, 3, 0,  6, 23, 43 );
   PF3( 0, 1, 2, 3,  9,  4, 44 );
   PF3( 3, 0, 1, 2, 12, 11, 45 );
   PF3( 2, 3, 0, 1, 15, 16, 46 );
   PF3( 1, 2, 3, 0,  2, 23, 47 );
   PF4( 0, 1, 2, 3,  0,  6, 48 );
   PF4( 3, 0, 1, 2,  7, 10, 49 );
   PF4( 2, 3, 0, 1, 14, 15, 50 );
   PF4( 1, 2, 3, 0,  5, 21, 51 );
   PF4( 0, 1, 2, 3, 12,  6, 52 );
   PF4( 3, 0, 1, 2,  3, 10, 53 );
   PF4( 2, 3, 0, 1, 10, 15, 54 );
   PF4( 1, 2, 3, 0,  1, 21, 55 );
   PF4( 0, 1, 2, 3,  8,  6, 56 );
   PF4( 3, 0, 1, 2, 15, 10, 57 );
   PF4( 2, 3, 0, 1,  6, 15, 58 );
   PF4( 1, 2, 3, 0, 13, 21, 59 );
   PF4( 0, 1, 2, 3,  4,  6, 60 );
   PF4( 3, 0, 1, 2, 11, 10, 61 );
   PF4( 2, 3, 0, 1,  2, 15, 62 );
   PF4( 1, 2, 3, 0,  9, 21, 63 );

   /* Update accumulators */
   md5->accum[ 0 ] += A[ 0 ];
   md5->accum[ 1 ] += A[ 1 ];
   md5->accum[ 2 ] += A[ 2 ];
   md5->accum[ 3 ] += A[ 3 ];
}

static void hb_md5accinit( UINT32 accum[] )
{
   /* fill initial accumulator state */
   accum[ 0 ] = 0x67452301;
   accum[ 1 ] = 0xEFCDAB89;
   accum[ 2 ] = 0x98BADCFE;
   accum[ 3 ] = 0x10325476;
}

static void hb_md5val( UINT32 accum[], BYTE * md5val )
{
   int i, n;

   for( i = 0; i < 4; i++ )
   {
      for( n = 0; n < 4; n++ )
         *md5val++ = ( BYTE )( ( accum[ i ] >> ( n << 3 ) ) & 0xFF );
   }
}

static void hb_md5digest( BYTE * md5val, char * digest )
{
   int i, b;

   for( i = 0; i < 16; i++ )
   {
      b = ( md5val[ i ] >> 4 ) & 0x0F;
      *digest++ = (char)( b + ( b > 9 ? 'a' - 10 : '0' ) );
      b = md5val[ i ] & 0x0F;
      *digest++ = (char)( b + ( b > 9 ? 'a' - 10 : '0' ) );
   }
}

HB_EXPORT void hb_md5( BYTE * ucData, ULONG ulLen, BYTE * ucDigest )
{
   UCHAR buf[ 128 ];
   MD5_BUF md5;
   int i, n;

   /* perform startup procedures */
   hb_md5accinit( md5.accum );
   /* count full 512bit blocks in data*/
   n = ulLen >> 6;
   /* process full blocks */
   for( i = 0; i < n; i++, ucData += 64 )
   {
      memcpy( md5.buf, ucData, 64 );
      hb_md5go( &md5 );
   }
   /* prepare additional block(s) */
   n = ulLen & 63;
   if( n )
      memcpy( buf, ucData, n );
   memcpy( buf + n, pad, 64 );
   /* count bits length */
   i = 56;
   if( n >= 56 )
   {
      i += 64;
      memcpy( md5.buf, buf, 64 );
      hb_md5go( &md5 );
   }
   buf[ i++ ] = (UCHAR)( ( ulLen << 3 ) & 0xF8 );
   ulLen >>= 5;
   for( n = 7; n; --n )
   {
      buf[ i++ ] = (UCHAR)( ulLen & 0xFF );
      ulLen >>= 8;
   }
   memcpy( md5.buf, buf + i - 64, 64 );
   hb_md5go( &md5 );
   /* write digest */
   hb_md5val( md5.accum, ucDigest );
}

HB_EXPORT void hb_md5file( FHANDLE hFile, BYTE * ucDigest )
{
   MD5_BUF md5;
   ULONG n;
   int i;
   HB_FOFFSET flen = 0;
   UCHAR buf[ 128 ], * readbuf = ( UCHAR * ) hb_xgrab( MAX_FBUF );

   hb_md5accinit( md5.accum );
   n = hb_fsReadLarge( hFile, readbuf, MAX_FBUF );
   flen += n;
   while( n == MAX_FBUF )
   {
      for( i = 0; i < ( MAX_FBUF >> 6 ); i++ )
      {
         memcpy( md5.buf, readbuf + ( i << 6 ), 64 );
         hb_md5go( &md5 );
      }
      n = hb_fsReadLarge( hFile, readbuf, MAX_FBUF );
      flen += n;
   }
   hb_fsClose( hFile );
   i = 0;
   while( n > 64 )
   {
      memcpy( md5.buf, readbuf + i, 64 );
      hb_md5go( &md5 );
      i += 64;
      n -= 64;
   }
   if( n )
      memcpy( buf, readbuf + i, n );
   memcpy( buf + n, pad, 64 );
   i = 56;
   if( n >= 56 )
   {
      i += 64;
      memcpy( md5.buf, buf, 64 );
      hb_md5go( &md5 );
   }
   buf[ i++ ] = (UCHAR)( ( flen << 3 ) & 0xF8 );
   flen >>= 5;
   for( n = 7; n; --n )
   {
      buf[ i++ ] = (UCHAR)( flen & 0xFF );
      flen >>= 8;
   }
   memcpy( md5.buf, buf + i - 64, 64 );
   hb_md5go( &md5 );
   hb_md5val( md5.accum, ucDigest );
   hb_xfree( readbuf );
}

HB_FUNC( HB_MD5 )
{
   char * pszStr = hb_parc( 1 );

   if( pszStr )
   {
      ULONG ulLen = hb_parclen( 1 );
      BYTE dststr[ 16 ];
      char digest[ 33 ];

      hb_md5( ( BYTE * ) pszStr, ulLen, dststr );
      hb_md5digest( dststr, digest );
      hb_retclen( digest, 32 );
   }
   else
      hb_retc( NULL ); /* return empty string on wrong call */
}

HB_FUNC( HB_MD5FILE )
{
   char * pszFile = hb_parc( 1 );

   if( pszFile )
   {
      FHANDLE hFile = hb_fsOpen( ( BYTE * ) pszFile, FO_READ );

      if( hFile != FS_ERROR )
      {
         BYTE dststr[ 16 ];
         char digest[ 33 ];

         hb_md5file( hFile, dststr );
         hb_md5digest( dststr, digest );
         hb_retclen( digest, 32 );
         return;
      }
   }
   hb_retc( NULL ); /* return empty string on wrong call */
}


From druzus at acn.waw.pl  Thu Aug  7 23:01:13 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug  7 23:01:20 2008
Subject: [Harbour] 2008-08-08 05:00 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808080301.m7831DMS031004@31-mo5-4.acn.waw.pl>

2008-08-08 05:00 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/hbgtmk.sh
    * removed ncurses dependences

  * harbour/source/rtl/hbmd5.c
    * pacified warnings. Thanks to Xavi

best regards
Przemek
From lorenzo.fiorini at gmail.com  Thu Aug  7 23:15:05 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Aug  7 23:15:10 2008
Subject: [Harbour] 2008-08-08 05:00 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200808080301.m7831DMS031004@31-mo5-4.acn.waw.pl>
References: <200808080301.m7831DMS031004@31-mo5-4.acn.waw.pl>
Message-ID: <9257026e0808072015p14e1b0b0n44f93f9f7dcaa387@mail.gmail.com>

On Fri, Aug 8, 2008 at 5:01 AM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:
> 2008-08-08 05:00 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/hbgtmk.sh
>    * removed ncurses dependences

Many thanks.

best regards,
Lorenzo
From philb at philb.us  Fri Aug  8 02:13:31 2008
From: philb at philb.us (Phil Barnett)
Date: Fri Aug  8 02:13:36 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080808013216.GD2045@34-mo7-2.acn.waw.pl>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<F74EDF31-F798-4A9F-A36B-0FEE4C25D5F3@syenar.hu>
	<20080808013216.GD2045@34-mo7-2.acn.waw.pl>
Message-ID: <200808080213.31590.philb@philb.us>

On Thursday 07 August 2008 09:32:16 pm Przemyslaw Czerpak wrote:
> Or maybe we should force #!/bin/bash in header as Phil suggested?
> I feel that it consumes too much time.
> What's BASH location in your system?

I can't recall any Linux system I've used in the last 10 years that it 
wasn't /bin/bash.

I suppose MacOS, Sun, Irix, etc. might have it somewhere else, or completely 
missing. I'd say that's a border condition though. The overwhelming majority 
of all *nix systems, it's in bin.

-- 
Waiting for sunspots.
From harbour.01 at syenar.hu  Fri Aug  8 04:00:14 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 04:00:22 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080808014321.GE2045@34-mo7-2.acn.waw.pl>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
	<20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
Message-ID: <B9ED700C-1113-4F68-904F-A2D1F8093F12@syenar.hu>

>>
Hi Przemek,

>> Just wait for my test results, because we might not
>> need bash at all, if we can get away without echo -n.
>
> We are using many extensions in our scripts which may not
> be present in standard /bin/sh shell. I do not know what
> is your default shell (BTW what is it?) but for sure I know
> many shells which will not work.

I believe it's bash. How to check this?

>> /usr/bin/../libexec/gcc/darwin/x86_64/as: Flag option -o has already
>> been seen!
>> --
>> There is one such line for each -arch flag and for each file  
>> compiled.
>
> I'm afraid I cannot help you here.
> Please make some test with gcc and -o<file> option with and without
> space before <file>. If additional space resolves the problem then
> try to add space after = in config/darwin/gcc.cf[16]:
>   CC_OUT = -o

I've added a space after -o and now it doesn't
generate the message (great!). I'm waiting for
a new dual build to finish to see if there is
not other problem with it now.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Aug  8 04:00:48 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 04:00:53 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080808013216.GD2045@34-mo7-2.acn.waw.pl>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<20080807214506.GA18903@34-mo7-2.acn.waw.pl>
	<A7E54D44-3660-4E0C-AFE7-69ACEE864443@syenar.hu>
	<20080807225725.GA22912@34-mo7-2.acn.waw.pl>
	<DE2EC2F6-094D-477D-B382-CEB50E2E67C5@syenar.hu>
	<20080808002632.GA10480@34-mo7-2.acn.waw.pl>
	<F74EDF31-F798-4A9F-A36B-0FEE4C25D5F3@syenar.hu>
	<20080808013216.GD2045@34-mo7-2.acn.waw.pl>
Message-ID: <9ABB1364-113A-4541-9712-0E3F4369560E@syenar.hu>

Hi Przemek,

1) I've tested with latest SVN (r9111) and the 'Making'
line now looks like 'Making libharbour.1.0.0.dylib...',
which looks okay now.

So I think you can remove the BASH stuff.
(Location of bash is /bin/bash BTW)

2) Despite the above, I still cannot find libharbour.1.0.0.dylib
anywhere, and it's certainly not in the .tar.gz file generated.

3) I still got quite some 'ld: library not found for -lharbour'
message.

4) Got about 4 thousand 'Flag option -o has already been seen!'
messages. This is due to my custom flags:
export C_USR="-arch i386 -arch ppc -arch x86_64 -arch ppc64"
export L_USR="-arch i386 -arch ppc -arch x86_64 -arch ppc64"

[ See my other mail, I'm waiting for results of a new build now. ]

5) The 'sed' problem is still present.

6) 64bit OSX builds showed up some new warnings in
sqlite3.c, but other than that it looked perfectly
fine. Here are the warnings:

../../sqlite3/sqlite3.c: In function ?__full_fsync?_t:
../../sqlite3/sqlite3.c:19843: warning: unused parameter ?__dataOnly?_t
../../sqlite3/sqlite3.c: In function ?__sqlite3ValueText?_t:
../../sqlite3/sqlite3.c:38229: warning: cast from pointer to integer  
of different size
../../sqlite3/sqlite3.c: In function ?__sqlite3VdbeChangeP4?_t:
../../sqlite3/sqlite3.c:38908: warning: cast from pointer to integer  
of different size
../../sqlite3/sqlite3.c: In function ?__sqlite3RefillIndex?_t:
../../sqlite3/sqlite3.c:55231: warning: cast to pointer from integer  
of different size
../../sqlite3/sqlite3.c: In function ?__trimFunc?_t:
../../sqlite3/sqlite3.c:58275: warning: cast from pointer to integer  
of different size
../../sqlite3/sqlite3.c: In function  
?__sqlite3RegisterBuiltinFunctions?_t:
../../sqlite3/sqlite3.c:58652: warning: cast to pointer from integer  
of different size
../../sqlite3/sqlite3.c:58670: warning: cast to pointer from integer  
of different size
../../sqlite3/sqlite3.c: In function  
?__sqlite3GenerateConstraintChecks?_t:
../../sqlite3/sqlite3.c:59961: warning: cast to pointer from integer  
of different size
../../sqlite3/sqlite3.c: In function ?__sqlite3_get_table?_t:
../../sqlite3/sqlite3.c:67476: warning: cast to pointer from integer  
of different size
../../sqlite3/sqlite3.c: In function ?__sqlite3_free_table?_t:
../../sqlite3/sqlite3.c:67521: warning: cast from pointer to integer  
of different size
../../sqlite3/sqlite3.c: In function ?__sqlite3WhereBegin?_t:
../../sqlite3/sqlite3.c:72768: warning: cast to pointer from integer  
of different size
../../sqlite3/sqlite3.c:72790: warning: cast to pointer from integer  
of different size

Brgds,
Viktor

On 2008.08.08., at 3:32, Przemyslaw Czerpak wrote:

> On Fri, 08 Aug 2008, Szak?ts Viktor wrote:
>> I did a full SVN export and rebuild, but the same thing happens
>> as before. ('Making lib-n harbour.-n 1.0.0.dylib')
>
> Then it means that you have nonempty BASH envvar set in your
> /bin/sh shell but it's not BASH.
>
> I've just replaced all echo -n with simple echo.
> If you assing command results like:
>   VAR=`some_command`
> then it should not create problems but code like:
>   VAR="`some_command`"
> will be effected. We do not have it.
> Or maybe we should force #!/bin/bash in header as Phil suggested?
> I feel that it consumes too much time.
> What's BASH location in your system?
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Aug  8 04:47:54 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 04:48:49 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080808014321.GE2045@34-mo7-2.acn.waw.pl>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
	<20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
Message-ID: <A8471D5A-B5CA-4F5F-BB65-DFFA1CB30412@syenar.hu>

>>
Hi Przemek,

>> /usr/bin/../libexec/gcc/darwin/ppc64/as: Flag option -o has already
>> been seen!
>> /usr/bin/../libexec/gcc/darwin/x86_64/as: Flag option -o has already
>> been seen!
>> --
>> There is one such line for each -arch flag and for each file  
>> compiled.
>
> I'm afraid I cannot help you here.
> Please make some test with gcc and -o<file> option with and without
> space before <file>. If additional space resolves the problem then
> try to add space after = in config/darwin/gcc.cf[16]:
>   CC_OUT = -o

Okay this fully eliminated the error.

I've attached the now clean list of errors, as it
contains some stuff which may need to be fixed.
(regarding libhbextern and libhbfm maybe)

--- my starter script
#!/bin/bash

export HB_ARCHITECTURE=darwin
export HB_COMPILER=gcc

export C_USR="-arch i386 -arch ppc"
export L_USR="-arch i386 -arch ppc"

#if [ -z "$HB_GT_LIB" ]; then export HB_GT_LIB=gttrm; fi

#if [ -z "$HB_BIN_INSTALL" ]; then export HB_BIN_INSTALL=$PREFIX/bin; fi
#if [ -z "$HB_LIB_INSTALL" ]; then export HB_LIB_INSTALL=$PREFIX/lib/ 
harbour; fi
#if [ -z "$HB_INC_INSTALL" ]; then export HB_INC_INSTALL=$PREFIX/ 
include/harbour; fi

. `dirname $0`/make_tgz.sh $*
---

--- stderr
libtool: for architecture: i386 file: hbwince.o has no symbols
libtool: for architecture: ppc file: hbwince.o has no symbols
libtool: for architecture: i386 file: gtkbstat.o has no symbols
libtool: for architecture: i386 file: gtkeycod.o has no symbols
libtool: for architecture: i386 file: gttone.o has no symbols
libtool: for architecture: i386 file: browdbx.o has no symbols
libtool: for architecture: ppc file: gtkbstat.o has no symbols
libtool: for architecture: ppc file: gtkeycod.o has no symbols
libtool: for architecture: ppc file: gttone.o has no symbols
libtool: for architecture: ppc file: browdbx.o has no symbols
libtool: for architecture: i386 file: ctnet.o has no symbols
libtool: for architecture: i386 file: ctset.o has no symbols
libtool: for architecture: i386 file: video.o has no symbols
libtool: for architecture: ppc file: ctnet.o has no symbols
libtool: for architecture: ppc file: ctset.o has no symbols
libtool: for architecture: ppc file: video.o has no symbols
In file included from ../../hbsqlit3.c:45:
../../sqlite3/sqlite3.c: In function ?__full_fsync?_t:
../../sqlite3/sqlite3.c:19843: warning: unused parameter ?__dataOnly?_t
In file included from ../../hbsqlit3.c:45:
../../sqlite3/sqlite3.c: In function ?__full_fsync?_t:
../../sqlite3/sqlite3.c:19843: warning: unused parameter ?__dataOnly?_t
ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbcommon.a(hbwince.o) has no symbols
ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbcommon.a(hbwince.o) has no symbols
ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbrtl.a(gtkbstat.o) has no symbols
ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbrtl.a(gtkeycod.o) has no symbols
ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbrtl.a(gttone.o) has no symbols
ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbrtl.a(browdbx.o) has no symbols
ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbrtl.a(gtkbstat.o) has no symbols
ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbrtl.a(gtkeycod.o) has no symbols
ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbrtl.a(gttone.o) has no symbols
ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbrtl.a(browdbx.o) has no symbols
ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbct.a(ctnet.o) has no symbols
ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbct.a(ctset.o) has no symbols
ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbct.a(video.o) has no symbols
ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbct.a(ctnet.o) has no symbols
ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbct.a(ctset.o) has no symbols
ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbct.a(video.o) has no symbols
ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbct.a(ctnet.o) has no symbols
ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbct.a(ctset.o) has no symbols
ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbct.a(video.o) has no symbols
ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbct.a(ctnet.o) has no symbols
ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbct.a(ctset.o) has no symbols
ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
+BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
libhbct.a(video.o) has no symbols
ar: /var/folders/zE/zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/ 
harbour.bin.vszakats.76256/usr/local/lib/harbour/libhbextern.a is a  
fat file (use libtool(1) or lipo(1) and ar(1) on it)
ar: /var/folders/zE/zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/ 
harbour.bin.vszakats.76256/usr/local/lib/harbour/libhbextern.a:  
Inappropriate file type or format
ranlib: archive library: /var/folders/zE/zEKVnguu2RW3OE+BYw4Bx++++TI/- 
Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/libhbfm.a will  
be fat and ar(1) will not be able to operate on it
strip: input object file stripped: /private/var/folders/zE/ 
zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
lib/harbour/libhbcommon.a(hbwince.o) (for architecture i386)
strip: input object file stripped: /private/var/folders/zE/ 
zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
lib/harbour/libhbcommon.a(hbwince.o) (for architecture ppc)
strip: input object file stripped: /private/var/folders/zE/ 
zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
lib/harbour/libhbct.a(ctnet.o) (for architecture i386)
strip: input object file stripped: /private/var/folders/zE/ 
zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
lib/harbour/libhbct.a(ctset.o) (for architecture i386)
strip: input object file stripped: /private/var/folders/zE/ 
zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
lib/harbour/libhbct.a(video.o) (for architecture i386)
strip: input object file stripped: /private/var/folders/zE/ 
zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
lib/harbour/libhbct.a(ctnet.o) (for architecture ppc)
strip: input object file stripped: /private/var/folders/zE/ 
zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
lib/harbour/libhbct.a(ctset.o) (for architecture ppc)
strip: input object file stripped: /private/var/folders/zE/ 
zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
lib/harbour/libhbct.a(video.o) (for architecture ppc)
strip: input object file stripped: /private/var/folders/zE/ 
zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
lib/harbour/libhbrtl.a(gtkbstat.o) (for architecture i386)
strip: input object file stripped: /private/var/folders/zE/ 
zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
lib/harbour/libhbrtl.a(gtkeycod.o) (for architecture i386)
strip: input object file stripped: /private/var/folders/zE/ 
zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
lib/harbour/libhbrtl.a(gttone.o) (for architecture i386)
strip: input object file stripped: /private/var/folders/zE/ 
zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
lib/harbour/libhbrtl.a(browdbx.o) (for architecture i386)
strip: input object file stripped: /private/var/folders/zE/ 
zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
lib/harbour/libhbrtl.a(gtkbstat.o) (for architecture ppc)
strip: input object file stripped: /private/var/folders/zE/ 
zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
lib/harbour/libhbrtl.a(gtkeycod.o) (for architecture ppc)
strip: input object file stripped: /private/var/folders/zE/ 
zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
lib/harbour/libhbrtl.a(gttone.o) (for architecture ppc)
strip: input object file stripped: /private/var/folders/zE/ 
zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
lib/harbour/libhbrtl.a(browdbx.o) (for architecture ppc)
ld: library not found for -lharbour
collect2: ld returned 1 exit status
ld: library not found for -lharbour
collect2: ld returned 1 exit status
lipo: can't open input file: /var/folders/zE/zEKVnguu2RW3OE+BYw4Bx+++ 
+TI/-Tmp-//ccpvY1d2.out (No such file or directory)
make[1]: *** [hbmake] Error 1
make: *** [descend] Error 2
ld: library not found for -lharbour
collect2: ld returned 1 exit status
ld: library not found for -lharbour
collect2: ld returned 1 exit status
lipo: can't open input file: /var/folders/zE/zEKVnguu2RW3OE+BYw4Bx+++ 
+TI/-Tmp-//ccqcH8FJ.out (No such file or directory)
make[1]: *** [hbrun] Error 1
make: *** [descend] Error 2
ld: library not found for -lharbour
collect2: ld returned 1 exit status
ld: library not found for -lharbour
collect2: ld returned 1 exit status
lipo: can't open input file: /var/folders/zE/zEKVnguu2RW3OE+BYw4Bx+++ 
+TI/-Tmp-//ccR4VtI0.out (No such file or directory)
make[1]: *** [hbdoc] Error 1
make: *** [descend] Error 2
ld: library not found for -lharbour
collect2: ld returned 1 exit status
ld: library not found for -lharbour
collect2: ld returned 1 exit status
lipo: can't open input file: /var/folders/zE/zEKVnguu2RW3OE+BYw4Bx+++ 
+TI/-Tmp-//ccRUMdYH.out (No such file or directory)
make[1]: *** [hbtest] Error 1
make: *** [descend] Error 2
---

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Aug  8 05:18:36 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 05:18:36 2008
Subject: [Harbour] 2008-08-08 11:17 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f937$Blat.v2.6.2$bc934146$3a34267e03a4@127.0.0.1>

2008-08-08 11:17 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * config/darwin/gcc.cf
     ! Added space after -o in CC_OUT to avoid a lot of 
       warning messages.
       NOTE: Is there any way to add the ending space in a safer way?
             Now an editor can easily truncate it by incident.
--
Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Fri Aug  8 05:25:55 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Aug  8 05:26:00 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <B9ED700C-1113-4F68-904F-A2D1F8093F12@syenar.hu>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
	<20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
	<B9ED700C-1113-4F68-904F-A2D1F8093F12@syenar.hu>
Message-ID: <9257026e0808080225v7e56f779p5f05141c0eaefa3e@mail.gmail.com>

On Fri, Aug 8, 2008 at 10:00 AM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> I've added a space after -o and now it doesn't
> generate the message (great!). I'm waiting for
> a new dual build to finish to see if there is
> not other problem with it now.

I confirm it.

Sorry, I didn't understand that the problem could be that.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Fri Aug  8 05:27:30 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 05:27:39 2008
Subject: [Harbour] Release 1.0.0 Final #3
Message-ID: <CACCA4D8-8C8C-44A0-A1DF-2DE6B31E39C5@syenar.hu>

Hi all,

Some problems detected:
OSX (GCC 4.01):
	NOTE: bash change can be safely reverted.
	harbour.dylib doesn't get created.
	ungzip/sed problem
	hbfm, hbextern suspicious looking error messages.
	
Passed:
- Windows
	BCC 5.51
	BCC 5.82
	GCC MinGW 3.45 bash
	GCC MinGW 4.12
	GCC MinGW 4.12 bash
	GCC MinGW 4.31a bash
	MSVC 6 (ODBC problems)
	MSVC 12
	MSVS 2005
	MSVS 2005 C++
	MSVS 2008
	MSVS 2008 C++
	MSVS 2008 64 bit (known failure)
	MSVS 2008 C++ 64 bit
	PellesC 4.5
	PellesC 5.0
	PellesC 5.0 64 bit
- OSX
	GCC 4.01 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 PPC + XCode 3.1b)  
full (some general Darwin problems)
	GCC (Leopard 10.5.4 + XCode 3.0)
- Linux
	GCC 4.23 (Ubuntu 8) full
	GCC 4.30 (Fedora)
- DOS
	GCC DJGPP 4.23 32 bit

Brgds,
Viktor

From mbelgrano at deltain.it  Fri Aug  8 05:49:56 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Aug  8 05:50:04 2008
Subject: [Harbour] Release 1.0.0 Final #3
In-Reply-To: <CACCA4D8-8C8C-44A0-A1DF-2DE6B31E39C5@syenar.hu>
References: <CACCA4D8-8C8C-44A0-A1DF-2DE6B31E39C5@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EECE@SRV02.deltain.net>

Why osx not use gcc 4.3X?

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Friday, August 08, 2008 11:28 AM
To: Harbour Project Main Developer List.
Subject: [Harbour] Release 1.0.0 Final #3

Hi all,

Some problems detected:
OSX (GCC 4.01):
	NOTE: bash change can be safely reverted.
	harbour.dylib doesn't get created.
	ungzip/sed problem
	hbfm, hbextern suspicious looking error messages.
	
Passed:
- Windows
	BCC 5.51
	BCC 5.82
	GCC MinGW 3.45 bash
	GCC MinGW 4.12
	GCC MinGW 4.12 bash
	GCC MinGW 4.31a bash
	MSVC 6 (ODBC problems)
	MSVC 12
	MSVS 2005
	MSVS 2005 C++
	MSVS 2008
	MSVS 2008 C++
	MSVS 2008 64 bit (known failure)
	MSVS 2008 C++ 64 bit
	PellesC 4.5
	PellesC 5.0
	PellesC 5.0 64 bit
- OSX
	GCC 4.01 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 PPC + XCode 3.1b)  
full (some general Darwin problems)
	GCC (Leopard 10.5.4 + XCode 3.0)
- Linux
	GCC 4.23 (Ubuntu 8) full
	GCC 4.30 (Fedora)
- DOS
	GCC DJGPP 4.23 32 bit

Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From lorenzo.fiorini at gmail.com  Fri Aug  8 06:04:03 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Aug  8 06:04:09 2008
Subject: [Harbour] Release 1.0.0 Final #3
In-Reply-To: <CACCA4D8-8C8C-44A0-A1DF-2DE6B31E39C5@syenar.hu>
References: <CACCA4D8-8C8C-44A0-A1DF-2DE6B31E39C5@syenar.hu>
Message-ID: <9257026e0808080304v7f38ad41h43ef31e3c886fcad@mail.gmail.com>

On Fri, Aug 8, 2008 at 11:27 AM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Some problems detected:
> OSX (GCC 4.01):
>        NOTE: bash change can be safely reverted.
>        harbour.dylib doesn't get created.
>        ungzip/sed problem
>        hbfm, hbextern suspicious looking error messages.

I've just rebuilt using ./make_gnu.sh and everything seems ok.

gcc -version says:
powerpc-apple-darwin9-gcc-4.0.1

The only "errors" I've are like libtool: file: hbwince.o has no symbols

best regards,
Lorenzo
From druzus at acn.waw.pl  Fri Aug  8 06:08:36 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug  8 06:08:42 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <B9ED700C-1113-4F68-904F-A2D1F8093F12@syenar.hu>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
	<20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
	<B9ED700C-1113-4F68-904F-A2D1F8093F12@syenar.hu>
Message-ID: <20080808100836.GA2953@34-mo7-2.acn.waw.pl>

On Fri, 08 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> >We are using many extensions in our scripts which may not
> >be present in standard /bin/sh shell. I do not know what
> >is your default shell (BTW what is it?) but for sure I know
> >many shells which will not work.
> I believe it's bash.

Do you want to say that in MacOSX bash is hacked to not understand -n
echo switch?

> How to check this?

/bin/sh --help

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Fri Aug  8 06:14:32 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Aug  8 06:14:37 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080808100836.GA2953@34-mo7-2.acn.waw.pl>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
	<20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
	<B9ED700C-1113-4F68-904F-A2D1F8093F12@syenar.hu>
	<20080808100836.GA2953@34-mo7-2.acn.waw.pl>
Message-ID: <9257026e0808080314l19090b55k1323aaee9ace3dd@mail.gmail.com>

2008/8/8 Przemyslaw Czerpak <druzus@acn.waw.pl>:

> Do you want to say that in MacOSX bash is hacked to not understand -n
> echo switch?
>
>> How to check this?
>
> /bin/sh --help

I can't confirm these problems.
I can build rev. 9079 without any problem.

/bin/bash --version returns:
GNU bash, version 3.2.17(1)-release (powerpc-apple-darwin9.0)

best regards,
Lorenzo
From harbour.01 at syenar.hu  Fri Aug  8 06:14:49 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 06:14:57 2008
Subject: [Harbour] Release 1.0.0 Final #3
In-Reply-To: <9257026e0808080304v7f38ad41h43ef31e3c886fcad@mail.gmail.com>
References: <CACCA4D8-8C8C-44A0-A1DF-2DE6B31E39C5@syenar.hu>
	<9257026e0808080304v7f38ad41h43ef31e3c886fcad@mail.gmail.com>
Message-ID: <045A121B-57C9-47F7-8228-0EDA6477FC3D@syenar.hu>

>
Hi Lorenzo,

> On Fri, Aug 8, 2008 at 11:27 AM, Szak?ts Viktor <harbour. 
> 01@syenar.hu> wrote:
>
>> Some problems detected:
>> OSX (GCC 4.01):
>>       NOTE: bash change can be safely reverted.
>>       harbour.dylib doesn't get created.
>>       ungzip/sed problem
>>       hbfm, hbextern suspicious looking error messages.
>
> I've just rebuilt using ./make_gnu.sh and everything seems ok.
>
> gcc -version says:
> powerpc-apple-darwin9-gcc-4.0.1

Mine seems to be the same:
powerpc-apple-darwin9-gcc-4.0.1 (GCC) 4.0.1 (Apple Inc. build 5470)  
(Aspen 5470.3)

> The only "errors" I've are like libtool: file: hbwince.o has no  
> symbols

Where is your harbour.dylib created?

Also, could you try with make_tgz.sh to see if the sed/gzip
problem is present on your system, too?

[ I have to suspect that some of my errors are the
result of the multi-build (universal binary) run. But I think
Universal Binary is now a definite must on Macs, so
it'd be important to clear away any problems. ]

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Aug  8 06:20:08 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 06:20:18 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080808100836.GA2953@34-mo7-2.acn.waw.pl>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
	<20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
	<B9ED700C-1113-4F68-904F-A2D1F8093F12@syenar.hu>
	<20080808100836.GA2953@34-mo7-2.acn.waw.pl>
Message-ID: <F44C1A87-DED5-4FA1-A8FA-5D4C7E2B51F4@syenar.hu>

>>> We are using many extensions in our scripts which may not
>>> be present in standard /bin/sh shell. I do not know what
>>> is your default shell (BTW what is it?) but for sure I know
>>> many shells which will not work.
>> I believe it's bash.
>
> Do you want to say that in MacOSX bash is hacked to not understand -n
> echo switch?

I'm confused what bash means, if I type /bin/sh --help, it will
show this:
--
silver:harbour vszakats$ /bin/sh --help
GNU bash, version 3.2.17(1)-release-(powerpc-apple-darwin9.0)
Usage:	/bin/sh [GNU long option] [option] ...
	/bin/sh [GNU long option] [option] script-file ...
GNU long options:
--

And I think the answer to your question is: yes. As far
as I could see on internet articles, Apple tackled sh
to not understand 'echo -n', in order to be compliant with
the Unix whatever standard. This didn't affect bash though,
which still understands ''echo -n'. The two shell binaries
are almost identical, except some subtle differences, like
this one.

I'm referring to this article as a starting point:
http://www.macosxhints.com/article.php?story=20071106192548833
[ read the comments too. ]

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Fri Aug  8 06:42:45 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Aug  8 06:42:50 2008
Subject: [Harbour] Release 1.0.0 Final #3
In-Reply-To: <045A121B-57C9-47F7-8228-0EDA6477FC3D@syenar.hu>
References: <CACCA4D8-8C8C-44A0-A1DF-2DE6B31E39C5@syenar.hu>
	<9257026e0808080304v7f38ad41h43ef31e3c886fcad@mail.gmail.com>
	<045A121B-57C9-47F7-8228-0EDA6477FC3D@syenar.hu>
Message-ID: <9257026e0808080342m7b5ac8a9j61bfa45611ebf76@mail.gmail.com>

On Fri, Aug 8, 2008 at 12:14 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Where is your harbour.dylib created?

Do you mean installed?

/opt/harbour/lib/libharbour.1.0.0.dylib
/opt/harbour/lib/libharbour.1.dylib
/opt/harbour/lib/libharbour.dylib

> Also, could you try with make_tgz.sh to see if the sed/gzip
> problem is present on your system, too?

make_tgz.sh creates a harbour-1.0.0-darwin_9.4.0.inst.sh but if I try
to install it it gives gzip: stdin: unexpected end of file.

best regards,
Lorenzo
From druzus at acn.waw.pl  Fri Aug  8 06:57:29 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug  8 06:57:34 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <A8471D5A-B5CA-4F5F-BB65-DFFA1CB30412@syenar.hu>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
	<20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
	<A8471D5A-B5CA-4F5F-BB65-DFFA1CB30412@syenar.hu>
Message-ID: <20080808105729.GB2953@34-mo7-2.acn.waw.pl>

On Fri, 08 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> I've attached the now clean list of errors, as it
> contains some stuff which may need to be fixed.
> (regarding libhbextern and libhbfm maybe)

> --- my starter script
> #!/bin/bash
> export HB_ARCHITECTURE=darwin
> export HB_COMPILER=gcc

Both should be detected automatically by make_{gnu,tgz}.sh
Try to remove it. We should know if autodetection works correctly.

> export C_USR="-arch i386 -arch ppc"
> export L_USR="-arch i386 -arch ppc"

I've never tried to create dual platform libraries and I have no idea
if it works. If possible make tests only with natvie platform without
any -arch switches. Then we can try to create multiplatform binaries.

> #if [ -z "$HB_GT_LIB" ]; then export HB_GT_LIB=gttrm; fi

It's also default. Please remove.

> #if [ -z "$HB_BIN_INSTALL" ]; then export HB_BIN_INSTALL=$PREFIX/bin; fi
> #if [ -z "$HB_LIB_INSTALL" ]; then export HB_LIB_INSTALL=$PREFIX/lib/harbour; fi
> #if [ -z "$HB_INC_INSTALL" ]; then export HB_INC_INSTALL=$PREFIX/include/harbour; fi

If you do not have PREFIX envvar then location is not the best one.
Here I also rather sugest to remove this. Default locations for make_tgz.sh
is /usr/local

> . `dirname $0`/make_tgz.sh $*
> ---
> --- stderr
> libtool: for architecture: i386 file: hbwince.o has no symbols
> libtool: for architecture: ppc file: hbwince.o has no symbols
> libtool: for architecture: i386 file: gtkbstat.o has no symbols
> libtool: for architecture: i386 file: gtkeycod.o has no symbols
> libtool: for architecture: i386 file: gttone.o has no symbols
> libtool: for architecture: i386 file: browdbx.o has no symbols
> libtool: for architecture: ppc file: gtkbstat.o has no symbols
> libtool: for architecture: ppc file: gtkeycod.o has no symbols
> libtool: for architecture: ppc file: gttone.o has no symbols
> libtool: for architecture: ppc file: browdbx.o has no symbols
> libtool: for architecture: i386 file: ctnet.o has no symbols
> libtool: for architecture: i386 file: ctset.o has no symbols
> libtool: for architecture: i386 file: video.o has no symbols
> libtool: for architecture: ppc file: ctnet.o has no symbols
> libtool: for architecture: ppc file: ctset.o has no symbols
> libtool: for architecture: ppc file: video.o has no symbols

All this files are empty so the warning messages are perfectly
correct.

> In file included from ../../hbsqlit3.c:45:
> ../../sqlite3/sqlite3.c: In function ?__full_fsync?_t:
> ../../sqlite3/sqlite3.c:19843: warning: unused parameter ?__dataOnly?_t
> In file included from ../../hbsqlit3.c:45:
> ../../sqlite3/sqlite3.c: In function ?__full_fsync?_t:
> ../../sqlite3/sqlite3.c:19843: warning: unused parameter ?__dataOnly?_t

Just pacify it.

> ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbcommon.a(hbwince.o) has no symbols
> ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbcommon.a(hbwince.o) has no symbols
> ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbrtl.a(gtkbstat.o) has no symbols
> ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbrtl.a(gtkeycod.o) has no symbols
> ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbrtl.a(gttone.o) has no symbols
> ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbrtl.a(browdbx.o) has no symbols
> ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbrtl.a(gtkbstat.o) has no symbols
> ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbrtl.a(gtkeycod.o) has no symbols
> ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbrtl.a(gttone.o) has no symbols
> ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbrtl.a(browdbx.o) has no symbols
> ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbct.a(ctnet.o) has no symbols
> ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbct.a(ctset.o) has no symbols
> ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbct.a(video.o) has no symbols
> ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbct.a(ctnet.o) has no symbols
> ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbct.a(ctset.o) has no symbols
> ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbct.a(video.o) has no symbols
> ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbct.a(ctnet.o) has no symbols
> ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbct.a(ctset.o) has no symbols
> ranlib: for architecture: i386 file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbct.a(video.o) has no symbols
> ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbct.a(ctnet.o) has no symbols
> ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbct.a(ctset.o) has no symbols
> ranlib: for architecture: ppc file: /var/folders/zE/zEKVnguu2RW3OE 
> +BYw4Bx++++TI/-Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/ 
> libhbct.a(video.o) has no symbols

repeated for empty files.

> ar: /var/folders/zE/zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/ 
> harbour.bin.vszakats.76256/usr/local/lib/harbour/libhbextern.a is a  
> fat file (use libtool(1) or lipo(1) and ar(1) on it)
> ar: /var/folders/zE/zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/ 
> harbour.bin.vszakats.76256/usr/local/lib/harbour/libhbextern.a:  
> Inappropriate file type or format

And this may be the reason why shared library is not created.
But I have no idea why hbextern library is different then all others.
It's created in standard build process. Maybe stdout log can say sth
more. Or even better mixed output:
   ./make_tgz.sh &> mktgz.log

> ranlib: archive library: /var/folders/zE/zEKVnguu2RW3OE+BYw4Bx++++TI/- 
> Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/libhbfm.a will  
> be fat and ar(1) will not be able to operate on it

This I'll change. hbfm is build in different way then other libraries
It's created with ar and Darwin builds uses libtool.

> strip: input object file stripped: /private/var/folders/zE/ 
> zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
> lib/harbour/libhbcommon.a(hbwince.o) (for architecture i386)
> strip: input object file stripped: /private/var/folders/zE/ 
> zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
> lib/harbour/libhbcommon.a(hbwince.o) (for architecture ppc)
> strip: input object file stripped: /private/var/folders/zE/ 
> zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
> lib/harbour/libhbct.a(ctnet.o) (for architecture i386)
> strip: input object file stripped: /private/var/folders/zE/ 
> zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
> lib/harbour/libhbct.a(ctset.o) (for architecture i386)
> strip: input object file stripped: /private/var/folders/zE/ 
> zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
> lib/harbour/libhbct.a(video.o) (for architecture i386)
> strip: input object file stripped: /private/var/folders/zE/ 
> zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
> lib/harbour/libhbct.a(ctnet.o) (for architecture ppc)
> strip: input object file stripped: /private/var/folders/zE/ 
> zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
> lib/harbour/libhbct.a(ctset.o) (for architecture ppc)
> strip: input object file stripped: /private/var/folders/zE/ 
> zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
> lib/harbour/libhbct.a(video.o) (for architecture ppc)
> strip: input object file stripped: /private/var/folders/zE/ 
> zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
> lib/harbour/libhbrtl.a(gtkbstat.o) (for architecture i386)
> strip: input object file stripped: /private/var/folders/zE/ 
> zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
> lib/harbour/libhbrtl.a(gtkeycod.o) (for architecture i386)
> strip: input object file stripped: /private/var/folders/zE/ 
> zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
> lib/harbour/libhbrtl.a(gttone.o) (for architecture i386)
> strip: input object file stripped: /private/var/folders/zE/ 
> zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
> lib/harbour/libhbrtl.a(browdbx.o) (for architecture i386)
> strip: input object file stripped: /private/var/folders/zE/ 
> zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
> lib/harbour/libhbrtl.a(gtkbstat.o) (for architecture ppc)
> strip: input object file stripped: /private/var/folders/zE/ 
> zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
> lib/harbour/libhbrtl.a(gtkeycod.o) (for architecture ppc)
> strip: input object file stripped: /private/var/folders/zE/ 
> zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
> lib/harbour/libhbrtl.a(gttone.o) (for architecture ppc)
> strip: input object file stripped: /private/var/folders/zE/ 
> zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/harbour.bin.vszakats.76256/usr/local/ 
> lib/harbour/libhbrtl.a(browdbx.o) (for architecture ppc)

again warning for empty files.

> ld: library not found for -lharbour
> collect2: ld returned 1 exit status
> ld: library not found for -lharbour
> collect2: ld returned 1 exit status
> lipo: can't open input file: /var/folders/zE/zEKVnguu2RW3OE+BYw4Bx+++ 
> +TI/-Tmp-//ccpvY1d2.out (No such file or directory)
> make[1]: *** [hbmake] Error 1
> make: *** [descend] Error 2
> ld: library not found for -lharbour
> collect2: ld returned 1 exit status
> ld: library not found for -lharbour
> collect2: ld returned 1 exit status
> lipo: can't open input file: /var/folders/zE/zEKVnguu2RW3OE+BYw4Bx+++ 
> +TI/-Tmp-//ccqcH8FJ.out (No such file or directory)
> make[1]: *** [hbrun] Error 1
> make: *** [descend] Error 2
> ld: library not found for -lharbour
> collect2: ld returned 1 exit status
> ld: library not found for -lharbour
> collect2: ld returned 1 exit status
> lipo: can't open input file: /var/folders/zE/zEKVnguu2RW3OE+BYw4Bx+++ 
> +TI/-Tmp-//ccR4VtI0.out (No such file or directory)
> make[1]: *** [hbdoc] Error 1
> make: *** [descend] Error 2
> ld: library not found for -lharbour
> collect2: ld returned 1 exit status
> ld: library not found for -lharbour
> collect2: ld returned 1 exit status
> lipo: can't open input file: /var/folders/zE/zEKVnguu2RW3OE+BYw4Bx+++ 
> +TI/-Tmp-//ccRUMdYH.out (No such file or directory)
> make[1]: *** [hbtest] Error 1
> make: *** [descend] Error 2

This are results of missing harbour shared library.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Aug  8 07:06:09 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 07:06:21 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <9257026e0808080314l19090b55k1323aaee9ace3dd@mail.gmail.com>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
	<20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
	<B9ED700C-1113-4F68-904F-A2D1F8093F12@syenar.hu>
	<20080808100836.GA2953@34-mo7-2.acn.waw.pl>
	<9257026e0808080314l19090b55k1323aaee9ace3dd@mail.gmail.com>
Message-ID: <99686863-7FAD-4756-AD0E-67AB237D4222@syenar.hu>

>>
Hi Przemek, Lorenzo,

>> /bin/sh --help
>
> I can't confirm these problems.
> I can build rev. 9079 without any problem.
>
> /bin/bash --version returns:
> GNU bash, version 3.2.17(1)-release (powerpc-apple-darwin9.0)

1) My shell versions:
silver:harbour vszakats$ /bin/bash --version
GNU bash, version 3.2.17(1)-release (powerpc-apple-darwin9.0)
Copyright (C) 2005 Free Software Foundation, Inc.

silver:harbour vszakats$ /bin/sh --version
GNU bash, version 3.2.17(1)-release (powerpc-apple-darwin9.0)
Copyright (C) 2005 Free Software Foundation, Inc.
silver:harbour vszakats$

Still the two binaries are a bit different, see the linked
article in my previous mail.

2) I'm using Mac OS X 10.5.4 with all patches on a PPC G4.

XCode is 3.1 (Beta)
Xcode IDE: 1037.0
Xcode Core: 1036.0
ToolSupport: 1024.0

3) Snippet from the man page of sed (emphasis from me):
--
      Normally, sed cyclically copies a line of input, not including  
its terminating newline character, into a pattern
      space, (unless there is something left after a ``D'' function),  
applies all of the commands with addresses that
      select that pattern space, copies the pattern space to the  
standard output, __appending a newline__, and deletes the
      pattern space.
--

4) I have no errors/warnings whatsoever (besides the ones mentioned
by Lorenzo, plus one known sqlite3.c warning), if you start a plain
./make_gnu.sh. But notice that this path won't trigger hb-func.sh
(responsible for .dylib, hbfm stuffs), and also won't create a tar.gz,
so the sed/gzip problem is also not touched.

This explains why Lorenzo have no problem, while I do.

Also notice, that for binary distributions, one must use make_tgz.sh.

5) I've tried to run make_tgz.sh without my universal binary extra
flags, and this way .dylib _got_ created and included in  
the .inst.sh/.tar.gz
file, this is fine. Also, the hbextern and hbfm errors vanished, too.
So we can conclude that somehow hb-func.sh triggered .dylib, hbextern
and hbfm stuffs are broken when trying to create a unibin release,
and/or I'm missing something/doing something wrong when I use these
envvars to trigger the unibin build:
--
export C_USR="-arch -i386 -arch ppc"
export L_USR="$C_USR"
--

Sorry for the information flood / overdose.

Brgds,
Viktor

From druzus at acn.waw.pl  Fri Aug  8 07:10:57 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug  8 07:11:03 2008
Subject: [Harbour] Release 1.0.0 Final #3
In-Reply-To: <9257026e0808080342m7b5ac8a9j61bfa45611ebf76@mail.gmail.com>
References: <CACCA4D8-8C8C-44A0-A1DF-2DE6B31E39C5@syenar.hu>
	<9257026e0808080304v7f38ad41h43ef31e3c886fcad@mail.gmail.com>
	<045A121B-57C9-47F7-8228-0EDA6477FC3D@syenar.hu>
	<9257026e0808080342m7b5ac8a9j61bfa45611ebf76@mail.gmail.com>
Message-ID: <20080808111057.GC2953@34-mo7-2.acn.waw.pl>

On Fri, 08 Aug 2008, Lorenzo Fiorini wrote:
> Do you mean installed?
> /opt/harbour/lib/libharbour.1.0.0.dylib
> /opt/harbour/lib/libharbour.1.dylib
> /opt/harbour/lib/libharbour.dylib

What's you C_USR/L_USR flags?

> > Also, could you try with make_tgz.sh to see if the sed/gzip
> > problem is present on your system, too?
> make_tgz.sh creates a harbour-1.0.0-darwin_9.4.0.inst.sh but if I try
> to install it it gives gzip: stdin: unexpected end of file.

I'll remove this self extracting script.
If it creates problem on darwin then the same can happen also on
some other platforms. Looks that MacOSX sed always add EOL to
preprocessed data. When I will have access to MacOSX I'll check
deeper.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Aug  8 07:13:47 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug  8 07:13:52 2008
Subject: [Harbour] 2008-08-08 13:13 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808081113.m78BDlZx003456@31-mo5-4.acn.waw.pl>

2008-08-08 13:13 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/postinst.sh
    * use libtool instead of ar to create library on Darwin

  * harbour/make_tgz.sh
    * disabled self extracting shell envelop

best regards
Przemek
From harbour.01 at syenar.hu  Fri Aug  8 07:22:34 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 07:22:48 2008
Subject: [Harbour] Release 1.0.0 Final #3
In-Reply-To: <20080808111057.GC2953@34-mo7-2.acn.waw.pl>
References: <CACCA4D8-8C8C-44A0-A1DF-2DE6B31E39C5@syenar.hu>
	<9257026e0808080304v7f38ad41h43ef31e3c886fcad@mail.gmail.com>
	<045A121B-57C9-47F7-8228-0EDA6477FC3D@syenar.hu>
	<9257026e0808080342m7b5ac8a9j61bfa45611ebf76@mail.gmail.com>
	<20080808111057.GC2953@34-mo7-2.acn.waw.pl>
Message-ID: <EA3B7FCE-7DB4-4C54-8421-BF870FE58A6C@syenar.hu>

>>> Also, could you try with make_tgz.sh to see if the sed/gzip
>>> problem is present on your system, too?
>> make_tgz.sh creates a harbour-1.0.0-darwin_9.4.0.inst.sh but if I try
>> to install it it gives gzip: stdin: unexpected end of file.
>
> I'll remove this self extracting script.
> If it creates problem on darwin then the same can happen also on
> some other platforms. Looks that MacOSX sed always add EOL to
> preprocessed data. When I will have access to MacOSX I'll check
> deeper.

Okay.

In any case, I can give you a shell account, if you want.

Brgds,
Viktor

From druzus at acn.waw.pl  Fri Aug  8 07:26:21 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug  8 07:26:28 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <99686863-7FAD-4756-AD0E-67AB237D4222@syenar.hu>
References: <92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
	<20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
	<B9ED700C-1113-4F68-904F-A2D1F8093F12@syenar.hu>
	<20080808100836.GA2953@34-mo7-2.acn.waw.pl>
	<9257026e0808080314l19090b55k1323aaee9ace3dd@mail.gmail.com>
	<99686863-7FAD-4756-AD0E-67AB237D4222@syenar.hu>
Message-ID: <20080808112621.GD2953@34-mo7-2.acn.waw.pl>

On Fri, 08 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> 4) I have no errors/warnings whatsoever (besides the ones mentioned
> by Lorenzo, plus one known sqlite3.c warning), if you start a plain
> ./make_gnu.sh. But notice that this path won't trigger hb-func.sh
> (responsible for .dylib, hbfm stuffs), and also won't create a tar.gz,
> so the sed/gzip problem is also not touched.

It's nNot true. Both uses exactly the same scripts. hb-fnuc.sh
is executed by make_gnu.sh in install phase to create shared libraries.
If Lorenzo has them then it had to execute ./make_gnu.sh install

> This explains why Lorenzo have no problem, while I do.

No, see above.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Aug  8 07:29:49 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 07:29:52 2008
Subject: [Harbour] 2008-08-08 13:18 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f94a$Blat.v2.6.2$1149412e$20ccf76e3504@127.0.0.1>

2008-08-08 13:18 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbsqlit3/sqlite3/sqlite3.c
     ! Pacified one OSX GCC unused var warning.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Aug  8 07:33:09 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 07:33:18 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080808112621.GD2953@34-mo7-2.acn.waw.pl>
References: <92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
	<20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
	<B9ED700C-1113-4F68-904F-A2D1F8093F12@syenar.hu>
	<20080808100836.GA2953@34-mo7-2.acn.waw.pl>
	<9257026e0808080314l19090b55k1323aaee9ace3dd@mail.gmail.com>
	<99686863-7FAD-4756-AD0E-67AB237D4222@syenar.hu>
	<20080808112621.GD2953@34-mo7-2.acn.waw.pl>
Message-ID: <B0B23F95-2A59-4CBD-AC67-FE030F4ACD3F@syenar.hu>

>> 4) I have no errors/warnings whatsoever (besides the ones mentioned
>> by Lorenzo, plus one known sqlite3.c warning), if you start a plain
>> ./make_gnu.sh. But notice that this path won't trigger hb-func.sh
>> (responsible for .dylib, hbfm stuffs), and also won't create a  
>> tar.gz,
>> so the sed/gzip problem is also not touched.
>
> It's nNot true. Both uses exactly the same scripts. hb-fnuc.sh
> is executed by make_gnu.sh in install phase to create shared  
> libraries.
> If Lorenzo has them then it had to execute ./make_gnu.sh install

Yes, the problem is my unibin flags. Sorry for the confusion.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Fri Aug  8 07:42:00 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Aug  8 07:42:06 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080808112621.GD2953@34-mo7-2.acn.waw.pl>
References: <92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
	<B9ED700C-1113-4F68-904F-A2D1F8093F12@syenar.hu>
	<20080808100836.GA2953@34-mo7-2.acn.waw.pl>
	<9257026e0808080314l19090b55k1323aaee9ace3dd@mail.gmail.com>
	<99686863-7FAD-4756-AD0E-67AB237D4222@syenar.hu>
	<20080808112621.GD2953@34-mo7-2.acn.waw.pl>
Message-ID: <9257026e0808080442n1a377b62h8ef61b2666e8eaf6@mail.gmail.com>

2008/8/8 Przemyslaw Czerpak <druzus@acn.waw.pl>:

> It's nNot true. Both uses exactly the same scripts. hb-fnuc.sh
> is executed by make_gnu.sh in install phase to create shared libraries.
> If Lorenzo has them then it had to execute ./make_gnu.sh install

What I did in all 3 platforms is simply:

./make_gnu.sh -s install
then I zip the /opt/harbour dir and I release it to developers.
They get the zip, completely delete the old /opt/harbour and unzip the new one.

The only difference is that I don't use the "standard" svn but my local copies.
I have a local stable version and a devel version.

The devel one is only in my systems and I sync it with the svn many
times during the day.
In my Linux box rebuilding harbour takes only few seconds so I do it
after every sync, while I do it only to do specific tests in Win and
Mac OS X.

When I "feel" the devel is good I copy it as stable, do the 3 builds,
release to developers and the cycle restart.

I can't think about anything simpler and faster.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Fri Aug  8 07:45:03 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Aug  8 07:45:07 2008
Subject: [Harbour] Release 1.0.0 Final #3
In-Reply-To: <20080808111057.GC2953@34-mo7-2.acn.waw.pl>
References: <CACCA4D8-8C8C-44A0-A1DF-2DE6B31E39C5@syenar.hu>
	<9257026e0808080304v7f38ad41h43ef31e3c886fcad@mail.gmail.com>
	<045A121B-57C9-47F7-8228-0EDA6477FC3D@syenar.hu>
	<9257026e0808080342m7b5ac8a9j61bfa45611ebf76@mail.gmail.com>
	<20080808111057.GC2953@34-mo7-2.acn.waw.pl>
Message-ID: <9257026e0808080445s3eb67962y20bb2a72a560a90f@mail.gmail.com>

On Fri, Aug 8, 2008 at 1:10 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> What's you C_USR/L_USR flags?

L_USR is empty
C_USR=-O3 -DHB_NO_READDBG -DHB_EXT_INKEY -DHB_PP_MULTILINE_STRING

> I'll remove this self extracting script.
> If it creates problem on darwin then the same can happen also on
> some other platforms. Looks that MacOSX sed always add EOL to
> preprocessed data. When I will have access to MacOSX I'll check
> deeper.

Ok.

gest regards,
Lorenzo
From druzus at acn.waw.pl  Fri Aug  8 07:53:56 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug  8 07:54:02 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <F44C1A87-DED5-4FA1-A8FA-5D4C7E2B51F4@syenar.hu>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
	<20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
	<B9ED700C-1113-4F68-904F-A2D1F8093F12@syenar.hu>
	<20080808100836.GA2953@34-mo7-2.acn.waw.pl>
	<F44C1A87-DED5-4FA1-A8FA-5D4C7E2B51F4@syenar.hu>
Message-ID: <20080808115356.GE2953@34-mo7-2.acn.waw.pl>

On Fri, 08 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> And I think the answer to your question is: yes. As far
> as I could see on internet articles, Apple tackled sh
> to not understand 'echo -n', in order to be compliant with
> the Unix whatever standard. This didn't affect bash though,
> which still understands ''echo -n'.

But they didn't created new shell. This shell (/bin/sh)
is hacked bash copy only which will be recognized as bash
by scripts which later will bahve wrongly. IMHO It's the
worst thing they could do.

> The two shell binaries
> are almost identical, except some subtle differences, like
> this one.

Unfortunately they are _too_similar_ and both reports that
are bash when one of them is hacked bash confusing scripts.

> I'm referring to this article as a starting point:
> http://www.macosxhints.com/article.php?story=20071106192548833
> [ read the comments too. ]

I've just read it and I do not agree it's well implemented feature.
Due to MacOSX authors we will have new rules in autoconf to detect
bash and MacOSX hacked bash :-(

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Aug  8 07:54:20 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 07:54:30 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080808105729.GB2953@34-mo7-2.acn.waw.pl>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
	<20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
	<A8471D5A-B5CA-4F5F-BB65-DFFA1CB30412@syenar.hu>
	<20080808105729.GB2953@34-mo7-2.acn.waw.pl>
Message-ID: <DCD1562F-CCC5-4476-ABA7-06B5EBDBAD35@syenar.hu>

>>
Hi Przemek,

>> #!/bin/bash
>> export HB_ARCHITECTURE=darwin
>> export HB_COMPILER=gcc
>
> Both should be detected automatically by make_{gnu,tgz}.sh
> Try to remove it. We should know if autodetection works correctly.

Yes, I can confirm autodetection does work.
I'll remove these, they are here from the past.

>> export C_USR="-arch i386 -arch ppc"
>> export L_USR="-arch i386 -arch ppc"
>
> I've never tried to create dual platform libraries and I have no idea
> if it works. If possible make tests only with natvie platform without
> any -arch switches. Then we can try to create multiplatform binaries.

Without the extra switches, it now works perfectly.
(except the 'sed' problem)

>> #if [ -z "$HB_GT_LIB" ]; then export HB_GT_LIB=gttrm; fi
>
> It's also default. Please remove.

Done.

>> #if [ -z "$HB_BIN_INSTALL" ]; then export HB_BIN_INSTALL=$PREFIX/ 
>> bin; fi
>> #if [ -z "$HB_LIB_INSTALL" ]; then export HB_LIB_INSTALL=$PREFIX/ 
>> lib/harbour; fi
>> #if [ -z "$HB_INC_INSTALL" ]; then export HB_INC_INSTALL=$PREFIX/ 
>> include/harbour; fi
>
> If you do not have PREFIX envvar then location is not the best one.
> Here I also rather sugest to remove this. Default locations for  
> make_tgz.sh
> is /usr/local

$PREFIX was commented :(

I'll retry a unibin with this fix.
(It didn't make a difference in .dylib / hbextern problem)

>> libtool: for architecture: ppc file: ctset.o has no symbols
>> libtool: for architecture: ppc file: video.o has no symbols
>
> All this files are empty so the warning messages are perfectly
> correct.

Yes, indeed.

>> In file included from ../../hbsqlit3.c:45:
>> ../../sqlite3/sqlite3.c: In function ?__full_fsync?_t:
>> ../../sqlite3/sqlite3.c:19843: warning: unused parameter  
>> ?__dataOnly?_t
>> In file included from ../../hbsqlit3.c:45:
>> ../../sqlite3/sqlite3.c: In function ?__full_fsync?_t:
>> ../../sqlite3/sqlite3.c:19843: warning: unused parameter  
>> ?__dataOnly?_t
>
> Just pacify it.

Done.

>> ar: /var/folders/zE/zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/
>> harbour.bin.vszakats.76256/usr/local/lib/harbour/libhbextern.a is a
>> fat file (use libtool(1) or lipo(1) and ar(1) on it)
>> ar: /var/folders/zE/zEKVnguu2RW3OE+BYw4Bx++++TI/-Tmp-/
>> harbour.bin.vszakats.76256/usr/local/lib/harbour/libhbextern.a:
>> Inappropriate file type or format
>
> And this may be the reason why shared library is not created.
> But I have no idea why hbextern library is different then all others.
> It's created in standard build process. Maybe stdout log can say sth
> more. Or even better mixed output:
>   ./make_tgz.sh &> mktgz.log

I've tried it, this is what I got:
--
Making libharbour.1.0.0.dylib...
ar: /var/...-Tmp-/harbour.bin.vszakats.24669/usr/local/lib/harbour/ 
libhbextern.a is a fat file (use libtool(1) or lipo(1) and ar(1) on it)
ar: /var/...-Tmp-/harbour.bin.vszakats.24669/usr/local/lib/harbour/ 
libhbextern.a: Inappropriate file type or format
--

So it seems hbextern doesn't "like" unibin, and this causes
the remaining chain of problems.

>> ranlib: archive library: /var/folders/zE/zEKVnguu2RW3OE+BYw4Bx+++ 
>> +TI/-
>> Tmp-//harbour.bin.vszakats.76256/usr/local/lib/harbour/libhbfm.a will
>> be fat and ar(1) will not be able to operate on it
>
> This I'll change. hbfm is build in different way then other libraries
> It's created with ar and Darwin builds uses libtool.

Thanks. I can confirm it works.

I can confirm that make_tgz.sh now would generate a .tar.gz, so the
sed problem is no more. [ I liked the .inst.sh method though, since
you didn't have to remember any tar switches, but it's fine. ]

Can you remove BASH now? Also the "-o " solution is a bit error
prone in darwin/gcc.cf, could you take a look at it? Notice that
the official GCC -o switch format is using a space, so this might
come as problem on other platforms, too.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Fri Aug  8 07:58:48 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Aug  8 07:58:53 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <99686863-7FAD-4756-AD0E-67AB237D4222@syenar.hu>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
	<B9ED700C-1113-4F68-904F-A2D1F8093F12@syenar.hu>
	<20080808100836.GA2953@34-mo7-2.acn.waw.pl>
	<9257026e0808080314l19090b55k1323aaee9ace3dd@mail.gmail.com>
	<99686863-7FAD-4756-AD0E-67AB237D4222@syenar.hu>
Message-ID: <9257026e0808080458n2c01d42duc6ba7cef8213a1d5@mail.gmail.com>

On Fri, Aug 8, 2008 at 1:06 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> 2) I'm using Mac OS X 10.5.4 with all patches on a PPC G4.
>
> XCode is 3.1 (Beta)
> Xcode IDE: 1037.0
> Xcode Core: 1036.0
> ToolSupport: 1024.0

I have only Xcode 3.0.

best regards,
Lorenzo
From druzus at acn.waw.pl  Fri Aug  8 08:09:05 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug  8 08:09:21 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <200808080213.31590.philb@philb.us>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<F74EDF31-F798-4A9F-A36B-0FEE4C25D5F3@syenar.hu>
	<20080808013216.GD2045@34-mo7-2.acn.waw.pl>
	<200808080213.31590.philb@philb.us>
Message-ID: <20080808120905.GF2953@34-mo7-2.acn.waw.pl>

On Fri, 08 Aug 2008, Phil Barnett wrote:

Hi Phil,

> I can't recall any Linux system I've used in the last 10 years that it 
> wasn't /bin/bash.

AFAIR MSys in windows had only /bin/sh as bash without /bin/bash
and it was one of the reason I stop using #!/bin/bash directly.
Can some check if current MSys versions have /bin/bash by default?

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Aug  8 08:13:50 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 08:14:01 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080808115356.GE2953@34-mo7-2.acn.waw.pl>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
	<20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
	<B9ED700C-1113-4F68-904F-A2D1F8093F12@syenar.hu>
	<20080808100836.GA2953@34-mo7-2.acn.waw.pl>
	<F44C1A87-DED5-4FA1-A8FA-5D4C7E2B51F4@syenar.hu>
	<20080808115356.GE2953@34-mo7-2.acn.waw.pl>
Message-ID: <F112A7AE-EBBB-487D-A7A2-CEDD3A701C1E@syenar.hu>

>> which still understands ''echo -n'.
>
> But they didn't created new shell. This shell (/bin/sh)
> is hacked bash copy only which will be recognized as bash
> by scripts which later will bahve wrongly. IMHO It's the
> worst thing they could do.
>> The two shell binaries
>> are almost identical, except some subtle differences, like
>> this one.
>
> Unfortunately they are _too_similar_ and both reports that
> are bash when one of them is hacked bash confusing scripts.

Yes. We probably have to live with this though, as they
did it on purpose. Maybe they'll do something in 10.6,
but in 10.5 it'll surely stay like this.

I think their concept might be to discourage any non-sh
compatible extensions to be used anywhere. I might be wrong
and I cannot judge how bad this is, but as far as it
enhances .sh consistency, it might even be good in theory.

>> I'm referring to this article as a starting point:
>> http://www.macosxhints.com/article.php?story=20071106192548833
>> [ read the comments too. ]
>
> I've just read it and I do not agree it's well implemented feature.
> Due to MacOSX authors we will have new rules in autoconf to detect
> bash and MacOSX hacked bash :-(

They've hurried Leopard a bit for sure. (it took me 2 complete
days to consistently wade through all the possible install bugs
I've ever read about.)

Anyway, if we don't use 'echo -n' we're fine, aren't we?

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Aug  8 08:14:58 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 08:15:07 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080808120905.GF2953@34-mo7-2.acn.waw.pl>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<F74EDF31-F798-4A9F-A36B-0FEE4C25D5F3@syenar.hu>
	<20080808013216.GD2045@34-mo7-2.acn.waw.pl>
	<200808080213.31590.philb@philb.us>
	<20080808120905.GF2953@34-mo7-2.acn.waw.pl>
Message-ID: <C3284314-4E0B-4BA8-AE26-AA3B41027F12@syenar.hu>

>> I can't recall any Linux system I've used in the last 10 years that  
>> it
>> wasn't /bin/bash.
>
> AFAIR MSys in windows had only /bin/sh as bash without /bin/bash
> and it was one of the reason I stop using #!/bin/bash directly.
> Can some check if current MSys versions have /bin/bash by default?

Nope in msys 1.0.

Brgds,
Viktor



From druzus at acn.waw.pl  Fri Aug  8 08:29:15 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug  8 08:29:21 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <DCD1562F-CCC5-4476-ABA7-06B5EBDBAD35@syenar.hu>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
	<20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
	<A8471D5A-B5CA-4F5F-BB65-DFFA1CB30412@syenar.hu>
	<20080808105729.GB2953@34-mo7-2.acn.waw.pl>
	<DCD1562F-CCC5-4476-ABA7-06B5EBDBAD35@syenar.hu>
Message-ID: <20080808122915.GG2953@34-mo7-2.acn.waw.pl>

On Fri, 08 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> >And this may be the reason why shared library is not created.
> >But I have no idea why hbextern library is different then all others.
> >It's created in standard build process. Maybe stdout log can say sth
> >more. Or even better mixed output:
> >  ./make_tgz.sh &> mktgz.log
> I've tried it, this is what I got:
> --
> Making libharbour.1.0.0.dylib...
> ar: /var/...-Tmp-/harbour.bin.vszakats.24669/usr/local/lib/harbour/ 
> libhbextern.a is a fat file (use libtool(1) or lipo(1) and ar(1) on it)
> ar: /var/...-Tmp-/harbour.bin.vszakats.24669/usr/local/lib/harbour/ 
> libhbextern.a: Inappropriate file type or format
> --
> So it seems hbextern doesn't "like" unibin, and this causes
> the remaining chain of problems.

Rather unibin does not like hbextern code ;-) and generates final
library which is too crypted for ar during extraction.
Anyhow for Darwin we should replace in hb-mkslib.sh ar with libtool.
ar is used to extract .o files from .a libary.
See in hb-mkslib.sh[105]:
   ${CCPREFIX}ar -x "${dir}/${f}" || exit 1
I do not know Darwin libtool parameters. If possible please try
replace this ar command with libtool or corresponding tools.
Please also note that for Darwin L_USR is not passed to gcc
when shared library is created. Looks that it should. Please
check. Most of Darwin support in build scripts was added by
Phil Krylov and I cannot help you too much. If it will be
necessary then I'll ask you for account on your system.

> Can you remove BASH now? Also the "-o " solution is a bit error
> prone in darwin/gcc.cf, could you take a look at it? Notice that
> the official GCC -o switch format is using a space, so this might
> come as problem on other platforms, too.

Each platform uses it's own scripts. AFAIR for SunOS in
config/sunos/gcc.cf was strictly necessary to remove the
space after CC_OUT = -o

best regards,
Przemek
From druzus at acn.waw.pl  Fri Aug  8 08:31:12 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug  8 08:31:18 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <F112A7AE-EBBB-487D-A7A2-CEDD3A701C1E@syenar.hu>
References: <20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
	<B9ED700C-1113-4F68-904F-A2D1F8093F12@syenar.hu>
	<20080808100836.GA2953@34-mo7-2.acn.waw.pl>
	<F44C1A87-DED5-4FA1-A8FA-5D4C7E2B51F4@syenar.hu>
	<20080808115356.GE2953@34-mo7-2.acn.waw.pl>
	<F112A7AE-EBBB-487D-A7A2-CEDD3A701C1E@syenar.hu>
Message-ID: <20080808123112.GH2953@34-mo7-2.acn.waw.pl>

On Fri, 08 Aug 2008, Szak?ts Viktor wrote:
> Anyway, if we don't use 'echo -n' we're fine, aren't we?

Yes we do not use it anymore but we use many other bash only
extensions, f.e. arrays. I hope they will not be blocked in
next MacOSX release ;-)

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Aug  8 08:32:06 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 08:32:17 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <C3284314-4E0B-4BA8-AE26-AA3B41027F12@syenar.hu>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<F74EDF31-F798-4A9F-A36B-0FEE4C25D5F3@syenar.hu>
	<20080808013216.GD2045@34-mo7-2.acn.waw.pl>
	<200808080213.31590.philb@philb.us>
	<20080808120905.GF2953@34-mo7-2.acn.waw.pl>
	<C3284314-4E0B-4BA8-AE26-AA3B41027F12@syenar.hu>
Message-ID: <71982921-37A0-4E7B-89FD-E535ADF3AE2D@syenar.hu>

>> AFAIR MSys in windows had only /bin/sh as bash without /bin/bash
>> and it was one of the reason I stop using #!/bin/bash directly.
>> Can some check if current MSys versions have /bin/bash by default?
>
> Nope in msys 1.0.

To be more precise:
Nope in msys 1.0.9
Nope in msys 1.0.10 (current stable)
Maybe in msys 1.0.11
    (technology preview, currently a pack of .bz2 file,
     not a coherent install, and there is a separate bash package,
     to add to the confusion, the bash package contains bash.exe
     and sh.exe, and they are completely identical, and internally
     is seems to show up as 'bash'.)

Sometimes the open source world can be more than confusing.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Aug  8 10:26:38 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 10:26:50 2008
Subject: [Harbour] Release 1.0.0 Final #3
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EECE@SRV02.deltain.net>
References: <CACCA4D8-8C8C-44A0-A1DF-2DE6B31E39C5@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815EECE@SRV02.deltain.net>
Message-ID: <D4CFEAA4-0207-4DD4-A730-18C8F512AF96@syenar.hu>

XCode 3 has GCC 4.0 and GCC 4.2, the default being 4.0,
and I couldn't find out how to switch to 4.2.

Brgds,
Viktor

On 2008.08.08., at 11:49, Massimo Belgrano wrote:

> Why osx not use gcc 4.3X?
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Szak?ts Viktor
> Sent: Friday, August 08, 2008 11:28 AM
> To: Harbour Project Main Developer List.
> Subject: [Harbour] Release 1.0.0 Final #3
>
> Hi all,
>
> Some problems detected:
> OSX (GCC 4.01):
> 	NOTE: bash change can be safely reverted.
> 	harbour.dylib doesn't get created.
> 	ungzip/sed problem
> 	hbfm, hbextern suspicious looking error messages.
> 	
> Passed:
> - Windows
> 	BCC 5.51
> 	BCC 5.82
> 	GCC MinGW 3.45 bash
> 	GCC MinGW 4.12
> 	GCC MinGW 4.12 bash
> 	GCC MinGW 4.31a bash
> 	MSVC 6 (ODBC problems)
> 	MSVC 12
> 	MSVS 2005
> 	MSVS 2005 C++
> 	MSVS 2008
> 	MSVS 2008 C++
> 	MSVS 2008 64 bit (known failure)
> 	MSVS 2008 C++ 64 bit
> 	PellesC 4.5
> 	PellesC 5.0
> 	PellesC 5.0 64 bit
> - OSX
> 	GCC 4.01 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 PPC + XCode 3.1b)
> full (some general Darwin problems)
> 	GCC (Leopard 10.5.4 + XCode 3.0)
> - Linux
> 	GCC 4.23 (Ubuntu 8) full
> 	GCC 4.30 (Fedora)
> - DOS
> 	GCC DJGPP 4.23 32 bit
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Fri Aug  8 10:48:42 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Aug  8 10:48:46 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080808120905.GF2953@34-mo7-2.acn.waw.pl>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<F74EDF31-F798-4A9F-A36B-0FEE4C25D5F3@syenar.hu>
	<20080808013216.GD2045@34-mo7-2.acn.waw.pl>
	<200808080213.31590.philb@philb.us>
	<20080808120905.GF2953@34-mo7-2.acn.waw.pl>
Message-ID: <9257026e0808080748x7202df9bt384e937bdfad4edf@mail.gmail.com>

On Fri, Aug 8, 2008 at 2:09 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> AFAIR MSys in windows had only /bin/sh as bash without /bin/bash
> and it was one of the reason I stop using #!/bin/bash directly.
> Can some check if current MSys versions have /bin/bash by default?

This is still true.

I would revert all the bash and echo -n changes.

Also the -o<space> is needed when generating binaries but not when
generating objects.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Fri Aug  8 10:55:10 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 10:55:37 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080808122915.GG2953@34-mo7-2.acn.waw.pl>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<92A1F56F-6FA1-4ACD-94A0-125AA5893CEB@syenar.hu>
	<20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
	<A8471D5A-B5CA-4F5F-BB65-DFFA1CB30412@syenar.hu>
	<20080808105729.GB2953@34-mo7-2.acn.waw.pl>
	<DCD1562F-CCC5-4476-ABA7-06B5EBDBAD35@syenar.hu>
	<20080808122915.GG2953@34-mo7-2.acn.waw.pl>
Message-ID: <6C10FB10-20BE-42D7-9FB9-BC0E1EAED55B@syenar.hu>

>
Hi Przemek,

> Rather unibin does not like hbextern code ;-) and generates final
> library which is too crypted for ar during extraction.
> Anyhow for Darwin we should replace in hb-mkslib.sh ar with libtool.
> ar is used to extract .o files from .a libary.
> See in hb-mkslib.sh[105]:
>   ${CCPREFIX}ar -x "${dir}/${f}" || exit 1
> I do not know Darwin libtool parameters. If possible please try
> replace this ar command with libtool or corresponding tools.
> Please also note that for Darwin L_USR is not passed to gcc
> when shared library is created. Looks that it should. Please
> check. Most of Darwin support in build scripts was added by
> Phil Krylov and I cannot help you too much. If it will be
> necessary then I'll ask you for account on your system.

I've added L_USR, I've also upgraded to XCode 3.1 (didn't
make a difference), and I'm now trying to find out how to
use libtool to extract .o files from an .a one (this is the
task if I understand correctly). No results so far.

The only "result" I got is that there is nothing special in
hbextern, it's just the first file on the list to be extracted,
and the process is choking on it. Trying any other multi-target
.a file gives the same error.

>> Can you remove BASH now? Also the "-o " solution is a bit error
>> prone in darwin/gcc.cf, could you take a look at it? Notice that
>> the official GCC -o switch format is using a space, so this might
>> come as problem on other platforms, too.
>
> Each platform uses it's own scripts. AFAIR for SunOS in
> config/sunos/gcc.cf was strictly necessary to remove the
> space after CC_OUT = -o

Okay, I don't mean to make wide changes here,
but if you have any idea how to protect the
ending space in Darwin gcc.cf, it'd be great. I had no
success with CC_OUT = "-o " and CC_OUT = '-o '.

Brgds,
Viktor

From druzus at acn.waw.pl  Fri Aug  8 11:30:46 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug  8 11:30:55 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <6C10FB10-20BE-42D7-9FB9-BC0E1EAED55B@syenar.hu>
References: <20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
	<A8471D5A-B5CA-4F5F-BB65-DFFA1CB30412@syenar.hu>
	<20080808105729.GB2953@34-mo7-2.acn.waw.pl>
	<DCD1562F-CCC5-4476-ABA7-06B5EBDBAD35@syenar.hu>
	<20080808122915.GG2953@34-mo7-2.acn.waw.pl>
	<6C10FB10-20BE-42D7-9FB9-BC0E1EAED55B@syenar.hu>
Message-ID: <20080808153046.GA5252@34-mo7-2.acn.waw.pl>

On Fri, 08 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> I've added L_USR, I've also upgraded to XCode 3.1 (didn't
> make a difference), and I'm now trying to find out how to
> use libtool to extract .o files from an .a one (this is the
> task if I understand correctly). No results so far.
> The only "result" I got is that there is nothing special in
> hbextern, it's just the first file on the list to be extracted,
> and the process is choking on it. Trying any other multi-target
> .a file gives the same error.

Maybe some other tool. libtool is only wrapper to native platform
tools and it does not support whole functionality.
Please check ar parameters and maybe releated programas.
   libtool --config
should show the configuration. Look for used archiver.
Propably for multiarch libraries different program is used
and it should be able to extract object files.
In fact we should add second build pass for shared library
to GNU make which will use different compile time switches
and will create shared library directly from object files.
But it's hard to touch sth what is used for such many platforms.

> >Each platform uses it's own scripts. AFAIR for SunOS in
> >config/sunos/gcc.cf was strictly necessary to remove the
> >space after CC_OUT = -o
> Okay, I don't mean to make wide changes here,
> but if you have any idea how to protect the
> ending space in Darwin gcc.cf, it'd be great. I had no
> success with CC_OUT = "-o " and CC_OUT = '-o '.

   CC_OUT = -o$(subst x,x, )

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Aug  8 11:37:32 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 11:37:46 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <9257026e0808080748x7202df9bt384e937bdfad4edf@mail.gmail.com>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<F74EDF31-F798-4A9F-A36B-0FEE4C25D5F3@syenar.hu>
	<20080808013216.GD2045@34-mo7-2.acn.waw.pl>
	<200808080213.31590.philb@philb.us>
	<20080808120905.GF2953@34-mo7-2.acn.waw.pl>
	<9257026e0808080748x7202df9bt384e937bdfad4edf@mail.gmail.com>
Message-ID: <82E82C3F-495A-40C3-B165-2315BB763755@syenar.hu>

>> AFAIR MSys in windows had only /bin/sh as bash without /bin/bash
>> and it was one of the reason I stop using #!/bin/bash directly.
>> Can some check if current MSys versions have /bin/bash by default?
>
> This is still true.
>
> I would revert all the bash and echo -n changes.

I agree with bash, but since echo -n isn't supported
in OS X 10.5.x, I cannot see how this could be a good
move. Especially since dropping echo -n didn't create
any side effects, but having it was creating an obviously
wrongly formatted .dylib name.

> Also the -o<space> is needed when generating binaries but not when
> generating objects.

-o<space> is definitely needed when generating objects,
otherwise thousands of warning messages were generated,
as shown in several recent e-mails of mine.

Also:
--- 'gcc --help'
   -o <file>                Place the output into <file>
---

Generating binaries seems okay though without a space though.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Aug  8 12:14:42 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 12:14:59 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080808153046.GA5252@34-mo7-2.acn.waw.pl>
References: <20080808005028.GB2045@34-mo7-2.acn.waw.pl>
	<200808072057.43812.philb@philb.us>
	<20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
	<A8471D5A-B5CA-4F5F-BB65-DFFA1CB30412@syenar.hu>
	<20080808105729.GB2953@34-mo7-2.acn.waw.pl>
	<DCD1562F-CCC5-4476-ABA7-06B5EBDBAD35@syenar.hu>
	<20080808122915.GG2953@34-mo7-2.acn.waw.pl>
	<6C10FB10-20BE-42D7-9FB9-BC0E1EAED55B@syenar.hu>
	<20080808153046.GA5252@34-mo7-2.acn.waw.pl>
Message-ID: <1C100C5A-1B9B-4D1F-B957-716BC0791D62@syenar.hu>

>
Hi Przemek,

> Maybe some other tool. libtool is only wrapper to native platform
> tools and it does not support whole functionality.
> Please check ar parameters and maybe releated programas.
>   libtool --config
> should show the configuration. Look for used archiver.

Not supported in OSX :/

---
silver:harbour vszakats$ libtool --config
libtool: unknown option character `-' in: --config
Usage: libtool -static [-] file [...] [-filelist listfile[,dirname]] [- 
arch_only arch] [-sacLT]
Usage: libtool -dynamic [-] file [...] [-filelist listfile[,dirname]]  
[-arch_only arch] [-o output] [-install_name name] [- 
compatibility_version #] [-current_version #] [-seg1addr 0x#] [- 
segs_read_only_addr 0x#] [-segs_read_write_addr 0x#] [-seg_addr_table  
<filename>] [-seg_addr_table_filename <file_system_path>] [-all_load]  
[-noall_load]
---

[ -config also doesn't work. ]

There is something called otool, but it doesn't seem
to be the answer either.

> Propably for multiarch libraries different program is used
> and it should be able to extract object files.
> In fact we should add second build pass for shared library
> to GNU make which will use different compile time switches
> and will create shared library directly from object files.
> But it's hard to touch sth what is used for such many platforms.

I like the .sh way of creating dynamic libs, since it's
much faster than doing two passes, it's also good IMO to
have a common set of build flags to avoid any unnecessary
complexities.

True however, that GNU-make should also properly support
non-Linux/Unix environment (notably Windows BCC/MSVC),
where such a second pass might be unavoidable (but I'm not
100% sure if this is really the case), but for sure for
those platforms where .sh is not available.

Anyhow, the dynamic lib creation would truly be better if
integrated into the GNU-make process. And this is definitely
something to do _after_ 1.0.0.

I just hope we can tweak something to make a unibin OSX
release possible. Maybe the best temp solution should be
to drop shared libs on this platform, since it doesn't
truly effect the usefulness of Harbour, overall.

>>> Each platform uses it's own scripts. AFAIR for SunOS in
>>> config/sunos/gcc.cf was strictly necessary to remove the
>>> space after CC_OUT = -o
>> Okay, I don't mean to make wide changes here,
>> but if you have any idea how to protect the
>> ending space in Darwin gcc.cf, it'd be great. I had no
>> success with CC_OUT = "-o " and CC_OUT = '-o '.
>
>   CC_OUT = -o$(subst x,x, )

Great, thanks.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Aug  8 12:30:38 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 12:30:38 2008
Subject: [Harbour] 2008-08-08 18:28 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8f974$Blat.v2.6.2$179214d2$228c51ad11b6@127.0.0.1>

2008-08-08 18:28 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * bin/hb-mkslib.sh
     + Added $(L_USR) to Darwin dynamic lib creation command line.

   * config/darwin/gcc.cf
     * Changed '-o ' to a more robust expression.
--
Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Fri Aug  8 12:41:23 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Aug  8 12:41:27 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <82E82C3F-495A-40C3-B165-2315BB763755@syenar.hu>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<F74EDF31-F798-4A9F-A36B-0FEE4C25D5F3@syenar.hu>
	<20080808013216.GD2045@34-mo7-2.acn.waw.pl>
	<200808080213.31590.philb@philb.us>
	<20080808120905.GF2953@34-mo7-2.acn.waw.pl>
	<9257026e0808080748x7202df9bt384e937bdfad4edf@mail.gmail.com>
	<82E82C3F-495A-40C3-B165-2315BB763755@syenar.hu>
Message-ID: <9257026e0808080941sffb1b42rfbb5b991c47b717@mail.gmail.com>

On Fri, Aug 8, 2008 at 5:37 PM, Szak?ts Viktor

> I agree with bash, but since echo -n isn't supported
> in OS X 10.5.x, I cannot see how this could be a good
> move. Especially since dropping echo -n didn't create
> any side effects, but having it was creating an obviously
> wrongly formatted .dylib name.

I can't understand why we have so different results.

How could I have been working with Mac OS X is there are so many
things to change now?
In my apps I use several .dylib created using hb-mkslib.

best regards,
Lorenzo
From druzus at acn.waw.pl  Fri Aug  8 12:43:40 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug  8 12:43:46 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <1C100C5A-1B9B-4D1F-B957-716BC0791D62@syenar.hu>
References: <20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
	<A8471D5A-B5CA-4F5F-BB65-DFFA1CB30412@syenar.hu>
	<20080808105729.GB2953@34-mo7-2.acn.waw.pl>
	<DCD1562F-CCC5-4476-ABA7-06B5EBDBAD35@syenar.hu>
	<20080808122915.GG2953@34-mo7-2.acn.waw.pl>
	<6C10FB10-20BE-42D7-9FB9-BC0E1EAED55B@syenar.hu>
	<20080808153046.GA5252@34-mo7-2.acn.waw.pl>
	<1C100C5A-1B9B-4D1F-B957-716BC0791D62@syenar.hu>
Message-ID: <20080808164340.GA5737@34-mo7-2.acn.waw.pl>

On Fri, 08 Aug 2008, Szak?ts Viktor wrote:

Hi, Viktor,

> Not supported in OSX :/
> ---
> silver:harbour vszakats$ libtool --config
> libtool: unknown option character `-' in: --config
> Usage: libtool -static [-] file [...] [-filelist listfile[,dirname]] [- 
> arch_only arch] [-sacLT]
> Usage: libtool -dynamic [-] file [...] [-filelist listfile[,dirname]]  
> [-arch_only arch] [-o output] [-install_name name] [- 
> compatibility_version #] [-current_version #] [-seg1addr 0x#] [- 
> segs_read_only_addr 0x#] [-segs_read_write_addr 0x#] [-seg_addr_table  
> <filename>] [-seg_addr_table_filename <file_system_path>] [-all_load]  
> [-noall_load]
> ---

-dynamic may be an answer for you.
Please try to create shared library from static one, f.e.:
   libtool -dynamic -o libhbcommon.dylib libhbcommon.a
if it will work then we skip .a library extracting in
hb-mkslib.sh for Darwin and will use them directly.

> I like the .sh way of creating dynamic libs, since it's
> much faster than doing two passes, it's also good IMO to
> have a common set of build flags to avoid any unnecessary
> complexities.

On some platforms such conversion is impossible. It's necessary
to set -fPIC flag to force relocatable code during compilation.
Such code is a little bit slower but can be always converted.
In such case the optimal for performance is having two sets of
libraries (static and shared) created from objects compiled with
different flags. I also like current solution but sometiems I'd
like two have an option to build Harbour shared library with
different switches.

> I just hope we can tweak something to make a unibin OSX
> release possible. Maybe the best temp solution should be
> to drop shared libs on this platform, since it doesn't
> truly effect the usefulness of Harbour, overall.

Please try to use libtool to create shared library directly
from static one. Maybe it will resolve the problem. If you
will see message that you need relocatable code then please
add to C_USR -fPIC or -fpic and rebuild Harbour.

best regards,
Przemek
From gvarona at ec-red.com  Fri Aug  8 13:23:14 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Fri Aug  8 13:23:12 2008
Subject: [Harbour] 2008-08-07 17:20 UTC-0800 Pritpal
	Bedi	(pritpal@vouchcac.com)
In-Reply-To: <18882740.post@talk.nabble.com>
References: <18882740.post@talk.nabble.com>
Message-ID: <489C8102.1070503@ec-red.com>

Pritpal Bedi escribi?:
> 2008-08-07 17:20 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * harbour/source/rtl/achoice.prg
>     - Removed K_MOUSEMOVE functionality.
>   
That sad,:-( this was very pretty, but is not compatible :-((.

Thanks Pritpal and Thank Victor.

Best Regards
GVS
From harbour.01 at syenar.hu  Fri Aug  8 13:27:31 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 13:27:39 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <9257026e0808080941sffb1b42rfbb5b991c47b717@mail.gmail.com>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<F74EDF31-F798-4A9F-A36B-0FEE4C25D5F3@syenar.hu>
	<20080808013216.GD2045@34-mo7-2.acn.waw.pl>
	<200808080213.31590.philb@philb.us>
	<20080808120905.GF2953@34-mo7-2.acn.waw.pl>
	<9257026e0808080748x7202df9bt384e937bdfad4edf@mail.gmail.com>
	<82E82C3F-495A-40C3-B165-2315BB763755@syenar.hu>
	<9257026e0808080941sffb1b42rfbb5b991c47b717@mail.gmail.com>
Message-ID: <3E56B501-8D38-40EF-8FE1-D062FBFEF056@syenar.hu>

>>
Hi Lorenzo,

>> I agree with bash, but since echo -n isn't supported
>> in OS X 10.5.x, I cannot see how this could be a good
>> move. Especially since dropping echo -n didn't create
>> any side effects, but having it was creating an obviously
>> wrongly formatted .dylib name.
>
> I can't understand why we have so different results.
>
> How could I have been working with Mac OS X is there are so many
> things to change now?
> In my apps I use several .dylib created using hb-mkslib.

The 'echo -n' problem was in 'hb-func.sh', so plain
'hb-mkslib.sh' usage was not affected.

Another reason why you missed some of the problems, is
because you don't use universal binaries. The '-o '
problem only comes up if I use my custom C_USR/L_USR
universal flags.

Yet another reason for differences is that you use a
customized list of contribs (with some non-SVN ones),
while I use the plain default, which includes all but
a few contribs now.

Another cause of difference might be that you
reported success with make_gnu.sh, while the 'echo -n'
problem could only come up if you run 'make_gnu.sh install'.
You had the .dylib on your system somehow though, so
I don't know.

I still don't understand however, how couldn't you be
affected by 'echo -n' problem when creating the default
harbour.dylib... For some reason we might have something
different in our default shell settings.

I've now did a full svn export (r9100) and 'make_gnu.sh' +
'make_gnu.sh install', and the 'echo -n' problem is clearly
there. This is a Core 2 Duo Mac with the exact same Leopard
and now XCode 3.1 (final) that is on the other Mac. This
is a quite new machine, without any special tricks or tweaks
applied through the command line, so I'm 100% sure that
the shell is the Apple default.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Aug  8 13:29:39 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 13:29:47 2008
Subject: [Harbour] 2008-08-07 17:20 UTC-0800 Pritpal
	Bedi	(pritpal@vouchcac.com)
In-Reply-To: <489C8102.1070503@ec-red.com>
References: <18882740.post@talk.nabble.com> <489C8102.1070503@ec-red.com>
Message-ID: <A4A5FD29-1C56-4F7A-B008-FC4269D97A7B@syenar.hu>

Hi Guillermo,

You can easily embed the whole customized achoice.prg
code in your own local lib or app, with Pritpal's
extension, since whole achoice.prg is public domain
code, so you don't even have to make a notice, just
use it.

Brgds,
Viktor

On 2008.08.08., at 19:23, Guillermo Varona Silup? wrote:

> Pritpal Bedi escribi?:
>> 2008-08-07 17:20 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>>  * harbour/source/rtl/achoice.prg
>>    - Removed K_MOUSEMOVE functionality.
>>
> That sad,:-( this was very pretty, but is not compatible :-((.
>
> Thanks Pritpal and Thank Victor.
>
> Best Regards
> GVS
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Fri Aug  8 13:33:05 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug  8 13:33:11 2008
Subject: [Harbour] 2008-08-07 17:20 UTC-0800 Pritpal
	Bedi	(pritpal@vouchcac.com)
In-Reply-To: <489C8102.1070503@ec-red.com>
References: <18882740.post@talk.nabble.com> <489C8102.1070503@ec-red.com>
Message-ID: <20080808173305.GA5973@34-mo7-2.acn.waw.pl>

On Fri, 08 Aug 2008, Guillermo Varona Silup? wrote:

Hi Guillermo,

> >2008-08-07 17:20 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> >  * harbour/source/rtl/achoice.prg
> >    - Removed K_MOUSEMOVE functionality.
> >  
> That sad,:-( this was very pretty, but is not compatible :-((.

Creating code which depends on simple mouse move events is not
good idea because it will not work with terminal GTs which receives
mouse events from remote terminals and simple mouse move when no
mouse key is pressed is not reported by most of them. I do not
remember any terminal which sends such events.

best regards,
Przemek
From gvarona at ec-red.com  Fri Aug  8 13:49:56 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Fri Aug  8 13:49:56 2008
Subject: [Harbour] 2008-08-07 17:20 UTC-0800
	Pritpal	Bedi	(pritpal@vouchcac.com)
In-Reply-To: <A4A5FD29-1C56-4F7A-B008-FC4269D97A7B@syenar.hu>
References: <18882740.post@talk.nabble.com> <489C8102.1070503@ec-red.com>
	<A4A5FD29-1C56-4F7A-B008-FC4269D97A7B@syenar.hu>
Message-ID: <489C8744.40700@ec-red.com>

Szak?ts Viktor escribi?:
> Hi Guillermo,
>
> You can easily embed the whole customized achoice.prg
> code in your own local lib or app, with Pritpal's
> extension, since whole achoice.prg is public domain
> code, so you don't even have to make a notice, just
> use it.
>
Thank you Viktor is a very good idea

> Przemyslaw Czerpak escribi?:
>> . . .
>> Creating code which depends on simple mouse move events is not
>> good idea because it will not work with terminal GTs which receives
>> mouse events from remote terminals and simple mouse move when no
>> mouse key is pressed is not reported by most of them. I do not
>> remember any terminal which sends such events.
>>     
Thank Przemek by the explanation and warnings, although I'm just a 
programmer who only look at the programming PC's

Best Regards,
GVS

From lorenzo.fiorini at gmail.com  Fri Aug  8 13:56:27 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Aug  8 13:56:32 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <3E56B501-8D38-40EF-8FE1-D062FBFEF056@syenar.hu>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<F74EDF31-F798-4A9F-A36B-0FEE4C25D5F3@syenar.hu>
	<20080808013216.GD2045@34-mo7-2.acn.waw.pl>
	<200808080213.31590.philb@philb.us>
	<20080808120905.GF2953@34-mo7-2.acn.waw.pl>
	<9257026e0808080748x7202df9bt384e937bdfad4edf@mail.gmail.com>
	<82E82C3F-495A-40C3-B165-2315BB763755@syenar.hu>
	<9257026e0808080941sffb1b42rfbb5b991c47b717@mail.gmail.com>
	<3E56B501-8D38-40EF-8FE1-D062FBFEF056@syenar.hu>
Message-ID: <9257026e0808081056u4c7641f6k9573e0a3f994b0ec@mail.gmail.com>

On Fri, Aug 8, 2008 at 7:27 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Another cause of difference might be that you
> reported success with make_gnu.sh, while the 'echo -n'
> problem could only come up if you run 'make_gnu.sh install'.
> You had the .dylib on your system somehow though, so
> I don't know.

Sorry when I say make_gnu.sh I mean that I use make_gnu.sh alone
make_gnu.sh clean and make_gnu.sh install.

I need harbour.dylib since my apps uses it and I build my own dylibs (
BTW since there is no ld.conf I need to copy all the .dylib in
/usr/lib ).

The number of the contribs should not be a problem.

> I've now did a full svn export (r9100) and 'make_gnu.sh' +
> 'make_gnu.sh install', and the 'echo -n' problem is clearly
> there.

Sorry what is exactly the problem I should see?

> This is a Core 2 Duo Mac with the exact same Leopard
> and now XCode 3.1 (final) that is on the other Mac. This
> is a quite new machine, without any special tricks or tweaks
> applied through the command line, so I'm 100% sure that
> the shell is the Apple default.

Mine is an old ( but really cool ) iMac 15" Flat PPC 32. I've bought
and installed a new Leopard OS, new iLife 08, X11 and Developer Tools
packege that I found on the OS CD and since then I've done all the
updates.
I've never installed beta or other sw from Apple site.
The only third party sw I installed have been macports for gd and pgsql.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Fri Aug  8 14:06:21 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 14:06:30 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <20080808164340.GA5737@34-mo7-2.acn.waw.pl>
References: <20080808011142.GC2045@34-mo7-2.acn.waw.pl>
	<6DD01AB9-5110-4853-B458-EB9E48624F9F@syenar.hu>
	<20080808014321.GE2045@34-mo7-2.acn.waw.pl>
	<A8471D5A-B5CA-4F5F-BB65-DFFA1CB30412@syenar.hu>
	<20080808105729.GB2953@34-mo7-2.acn.waw.pl>
	<DCD1562F-CCC5-4476-ABA7-06B5EBDBAD35@syenar.hu>
	<20080808122915.GG2953@34-mo7-2.acn.waw.pl>
	<6C10FB10-20BE-42D7-9FB9-BC0E1EAED55B@syenar.hu>
	<20080808153046.GA5252@34-mo7-2.acn.waw.pl>
	<1C100C5A-1B9B-4D1F-B957-716BC0791D62@syenar.hu>
	<20080808164340.GA5737@34-mo7-2.acn.waw.pl>
Message-ID: <E6AE986C-88DD-419C-A690-42AE6B11929A@syenar.hu>

>
Hi Przemek,

> -dynamic may be an answer for you.
> Please try to create shared library from static one, f.e.:
>   libtool -dynamic -o libhbcommon.dylib libhbcommon.a
> if it will work then we skip .a library extracting in
> hb-mkslib.sh for Darwin and will use them directly.

This command looks like a good lead, I got a lot of
unresolved symbols.

I've tried this in a dir having only those .a files
which would make up the .dylib:
libtool -dynamic -o harbour.dylib *.a

The system libs are missing from the cmdline.

>> I just hope we can tweak something to make a unibin OSX
>> release possible. Maybe the best temp solution should be
>> to drop shared libs on this platform, since it doesn't
>> truly effect the usefulness of Harbour, overall.
>
> Please try to use libtool to create shared library directly
> from static one. Maybe it will resolve the problem. If you
> will see message that you need relocatable code then please
> add to C_USR -fPIC or -fpic and rebuild Harbour.

There was no such message so far.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Aug  8 14:37:31 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 14:37:38 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <9257026e0808081056u4c7641f6k9573e0a3f994b0ec@mail.gmail.com>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<F74EDF31-F798-4A9F-A36B-0FEE4C25D5F3@syenar.hu>
	<20080808013216.GD2045@34-mo7-2.acn.waw.pl>
	<200808080213.31590.philb@philb.us>
	<20080808120905.GF2953@34-mo7-2.acn.waw.pl>
	<9257026e0808080748x7202df9bt384e937bdfad4edf@mail.gmail.com>
	<82E82C3F-495A-40C3-B165-2315BB763755@syenar.hu>
	<9257026e0808080941sffb1b42rfbb5b991c47b717@mail.gmail.com>
	<3E56B501-8D38-40EF-8FE1-D062FBFEF056@syenar.hu>
	<9257026e0808081056u4c7641f6k9573e0a3f994b0ec@mail.gmail.com>
Message-ID: <F36C675A-362B-4658-AAA0-5B8F2790FA38@syenar.hu>

>>
Hi Lorenzo,

>> I've now did a full svn export (r9100) and 'make_gnu.sh' +
>> 'make_gnu.sh install', and the 'echo -n' problem is clearly
>> there.
>
> Sorry what is exactly the problem I should see?

In the stdout output of 'make_gnu.sh install' or 'make_tgz.sh'
I can see a line 'Making lib-n harbour.-n 1.0.0.dylib...',
which is the sign that the dylib name got wrongly assembled
in hb-func.sh, as it has two excessive '-n 's in it.

>> This is a Core 2 Duo Mac with the exact same Leopard
>> and now XCode 3.1 (final) that is on the other Mac. This
>> is a quite new machine, without any special tricks or tweaks
>> applied through the command line, so I'm 100% sure that
>> the shell is the Apple default.
>
> Mine is an old ( but really cool ) iMac 15" Flat PPC 32. I've bought
> and installed a new Leopard OS, new iLife 08, X11 and Developer Tools
> packege that I found on the OS CD and since then I've done all the
> updates.
> I've never installed beta or other sw from Apple site.
> The only third party sw I installed have been macports for gd and  
> pgsql.

I don't know enough the guts of OSX to tell much hints.
I used to be a bit afraid of the latter kind of packages
on my system, but I also did install a few such on the PPC
machine.

This is the size/timestamp of my sh and bash (on both Macs):
---
silver:gcc vszakats$ ls -l /bin/sh
-r-xr-xr-x  1 root  wheel  1244960 May 23 15:02 /bin/sh

silver:gcc vszakats$ ls -l /bin/bash
-rwxr-xr-x  1 root  wheel  1244928 May 23 15:02 /bin/bash
---

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Fri Aug  8 15:54:12 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Aug  8 15:54:17 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <F36C675A-362B-4658-AAA0-5B8F2790FA38@syenar.hu>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<20080808013216.GD2045@34-mo7-2.acn.waw.pl>
	<200808080213.31590.philb@philb.us>
	<20080808120905.GF2953@34-mo7-2.acn.waw.pl>
	<9257026e0808080748x7202df9bt384e937bdfad4edf@mail.gmail.com>
	<82E82C3F-495A-40C3-B165-2315BB763755@syenar.hu>
	<9257026e0808080941sffb1b42rfbb5b991c47b717@mail.gmail.com>
	<3E56B501-8D38-40EF-8FE1-D062FBFEF056@syenar.hu>
	<9257026e0808081056u4c7641f6k9573e0a3f994b0ec@mail.gmail.com>
	<F36C675A-362B-4658-AAA0-5B8F2790FA38@syenar.hu>
Message-ID: <9257026e0808081254p1c4af5a5sb4d98569103bdc0d@mail.gmail.com>

On Fri, Aug 8, 2008 at 8:37 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> In the stdout output of 'make_gnu.sh install' or 'make_tgz.sh'
> I can see a line 'Making lib-n harbour.-n 1.0.0.dylib...',
> which is the sign that the dylib name got wrongly assembled
> in hb-func.sh, as it has two excessive '-n 's in it.

I don't have this problem.

I've tried to type echo -n "hello" and I get correctly only "hello".

> I don't know enough the guts of OSX to tell much hints.
> I used to be a bit afraid of the latter kind of packages
> on my system, but I also did install a few such on the PPC
> machine.

I also don't know much about OS X.
I use it as I use Linux: it has X11, vim, eclipse, gnu tool chain, gd,
postgresql, firefox and openoffice and that's all I need. I can build
harbour on it and so I can build my apps.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Fri Aug  8 16:40:54 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 16:41:02 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <9257026e0808081254p1c4af5a5sb4d98569103bdc0d@mail.gmail.com>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<20080808013216.GD2045@34-mo7-2.acn.waw.pl>
	<200808080213.31590.philb@philb.us>
	<20080808120905.GF2953@34-mo7-2.acn.waw.pl>
	<9257026e0808080748x7202df9bt384e937bdfad4edf@mail.gmail.com>
	<82E82C3F-495A-40C3-B165-2315BB763755@syenar.hu>
	<9257026e0808080941sffb1b42rfbb5b991c47b717@mail.gmail.com>
	<3E56B501-8D38-40EF-8FE1-D062FBFEF056@syenar.hu>
	<9257026e0808081056u4c7641f6k9573e0a3f994b0ec@mail.gmail.com>
	<F36C675A-362B-4658-AAA0-5B8F2790FA38@syenar.hu>
	<9257026e0808081254p1c4af5a5sb4d98569103bdc0d@mail.gmail.com>
Message-ID: <662AA76E-FC40-4DC7-97AC-10469D2E595C@syenar.hu>

Hi Lorenzo, Przemek,

>> I don't have this problem.
>
> I've tried to type echo -n "hello" and I get correctly only "hello".

This works for me too.

However (tested on both G4 and Core2 Mac):
--- testsh.sh
#!/bin/sh
echo -n abc
echo def
---
$ ./testsh.sh
-n abc
def
---

--- testbash.sh
#!/bin/bash
echo -n abc
echo def
---
$ ./testbash.sh
abcdef
---

Also, official Apple document about these changes, workarounds, etc:
http://developer.apple.com/releasenotes/Darwin/RN-Unix03Conformance/

> I also don't know much about OS X.
> I use it as I use Linux: it has X11, vim, eclipse, gnu tool chain, gd,
> postgresql, firefox and openoffice and that's all I need. I can build
> harbour on it and so I can build my apps.

Right, that's why I opted back then for a Mac
in the first place :)

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Aug  8 19:57:21 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug  8 19:57:30 2008
Subject: [Harbour] HB_COMPRESS()/HB_UNCOMPRESS()
Message-ID: <40BA726C-3D8B-40C6-BD77-421D8096F24A@syenar.hu>

Hi all,

The above two function names are used both in RTL
and the xhb lib, with different parameter list.

IMO we should consider renaming the RTL ones as follows:
HB_COMPRESSBOUND -> HB_ZCOMPRESSBOUND
HB_COMPRESS      -> HB_ZCOMPRESS
HB_UNCOMPRESSLEN -> HB_ZUNCOMPRESSLEN
HB_UNCOMPRESS    -> HB_ZUNCOMPRESS

The xhb version might already be used in apps, moreover
it's good to use the "Z" prefix to signal ZLIB, as there
might be other compression methods implemented later.

Any opinions?

[ This come up while fiddling with libtool today. ]

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Sat Aug  9 02:23:25 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Aug  9 02:23:29 2008
Subject: [Harbour] Release 1.0.0 Final #2
In-Reply-To: <662AA76E-FC40-4DC7-97AC-10469D2E595C@syenar.hu>
References: <BC4E5451-5D2A-48B3-A278-8B23BFE7CFEC@syenar.hu>
	<20080808120905.GF2953@34-mo7-2.acn.waw.pl>
	<9257026e0808080748x7202df9bt384e937bdfad4edf@mail.gmail.com>
	<82E82C3F-495A-40C3-B165-2315BB763755@syenar.hu>
	<9257026e0808080941sffb1b42rfbb5b991c47b717@mail.gmail.com>
	<3E56B501-8D38-40EF-8FE1-D062FBFEF056@syenar.hu>
	<9257026e0808081056u4c7641f6k9573e0a3f994b0ec@mail.gmail.com>
	<F36C675A-362B-4658-AAA0-5B8F2790FA38@syenar.hu>
	<9257026e0808081254p1c4af5a5sb4d98569103bdc0d@mail.gmail.com>
	<662AA76E-FC40-4DC7-97AC-10469D2E595C@syenar.hu>
Message-ID: <9257026e0808082323k29e80410s8b24ea0f1176206c@mail.gmail.com>

On Fri, Aug 8, 2008 at 10:40 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> However (tested on both G4 and Core2 Mac):
> --- testsh.sh
> #!/bin/sh
> echo -n abc
> echo def
> ---
> $ ./testsh.sh
> -n abc
> def
> ---
>
> --- testbash.sh
> #!/bin/bash
> echo -n abc
> echo def
> ---
> $ ./testbash.sh
> abcdef

Sorry, I don't have a Mac at home so I cannot check it right now.

I'll check it asap.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Sat Aug  9 03:44:35 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Aug  9 03:44:40 2008
Subject: [Harbour] hb_run vs __run vs hbrun vs __hrbrun vs winexec
Message-ID: <9257026e0808090044u699332das2aa23511948143f9@mail.gmail.com>

There are some old tests that still use hb_run as "__hrbrun".

Moreover we now have an util called hbrun which is more an "hrbrun".

Sorry for the "word game", but I was looking for the differences
between __RUN and HB_RUN and it took me a while to get the right info
so this may confuse users too.

I was looking for it because I need to start an harbour app "in
background". Under Unix is as easy as add an "&" at the end of the
string but under Win you need sth like WinExec to achieve the same
result.

I wonder if instead of using sth like:

#if __PLATFORM__WINDOWS
    WinExec( CmdStr )
#else
    __RUN( CmdStr + " &" )
#endif

we could add a second parameter to HB_RUN like "fore/back" to get a
more elegant solution ( even because WinExec is not in std libs ).

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sat Aug  9 04:00:26 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug  9 04:00:37 2008
Subject: [Harbour] hb_run vs __run vs hbrun vs __hrbrun vs winexec
In-Reply-To: <9257026e0808090044u699332das2aa23511948143f9@mail.gmail.com>
References: <9257026e0808090044u699332das2aa23511948143f9@mail.gmail.com>
Message-ID: <26D99F55-9C4E-4E67-9848-BFF73ECFB7A6@syenar.hu>

>
Hi Lorenzo,

> There are some old tests that still use hb_run as "__hrbrun".

Well, that was not your point, but IMO __hrb*() functions should
be named hb_hrb*() since they are not really internal features
anymore.

Should we do it now?

> Moreover we now have an util called hbrun which is more an "hrbrun".

Name stayed for compatibility reasons, I'd have better liked
hbdot, and it's still not too late to change it. If groups agreed
I can do it.

> Sorry for the "word game", but I was looking for the differences
> between __RUN and HB_RUN and it took me a while to get the right info
> so this may confuse users too.

I think the only difference is that HB_RUN() is in the documented
namespace, and it does return an errorlevel, while __RUN() is a
compatibility internal command with no return value. Otherwise
they do the same.

> I was looking for it because I need to start an harbour app "in
> background". Under Unix is as easy as add an "&" at the end of the
> string but under Win you need sth like WinExec to achieve the same
> result.
>
> I wonder if instead of using sth like:
>
> #if __PLATFORM__WINDOWS
>    WinExec( CmdStr )
> #else
>    __RUN( CmdStr + " &" )
> #endif
>
> we could add a second parameter to HB_RUN like "fore/back" to get a
> more elegant solution ( even because WinExec is not in std libs ).

For this I'd suggest to add something to hbw32.lib. Not only background,
but also minimized, hidden, dont-wait-to-terminate (solvabe with direct
CreateProcess() call only AFAIK) etc can be other options on Windows.
You might also already use ShellExecute(), this is also Win and even
shell specific, and not portable in a clean way.

Anyway, if there would be a portable way to solve any of this, it would
be great, I agree.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Sat Aug  9 04:28:16 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Aug  9 04:28:20 2008
Subject: [Harbour] hb_run vs __run vs hbrun vs __hrbrun vs winexec
In-Reply-To: <26D99F55-9C4E-4E67-9848-BFF73ECFB7A6@syenar.hu>
References: <9257026e0808090044u699332das2aa23511948143f9@mail.gmail.com>
	<26D99F55-9C4E-4E67-9848-BFF73ECFB7A6@syenar.hu>
Message-ID: <9257026e0808090128j25412f4ah62aa3419de9a9339@mail.gmail.com>

On Sat, Aug 9, 2008 at 10:00 AM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Well, that was not your point, but IMO __hrb*() functions should
> be named hb_hrb*() since they are not really internal features
> anymore.
>
> Should we do it now?

I'd delete the two spawn*.prg tests.
They are outdated, with a wrong name and don't represent the real
possibilities of hrb.

> For this I'd suggest to add something to hbw32.lib. Not only background,
> but also minimized, hidden, dont-wait-to-terminate (solvabe with direct
> CreateProcess() call only AFAIK) etc can be other options on Windows.
> You might also already use ShellExecute(), this is also Win and even
> shell specific, and not portable in a clean way.
>
> Anyway, if there would be a portable way to solve any of this, it would
> be great, I agree.

As it is now __RUN ( or HB_RUN ) is more a "SHELL" or "SYSTEM".

It's clear that we can't change __RUN or RUN cmd but extending HB_RUN
to use WinExec ( or CreateProcess ) would be simple and highly
portable ( in the sense that it has a meaning in all OS ).
I agree that other possibilities like window behaviour control should
be OS specific

best regatds,
Lorenzo
From lorenzo.fiorini at gmail.com  Sat Aug  9 05:23:39 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Aug  9 05:23:43 2008
Subject: [Harbour] gtxwc HB_GTI_CLOSABLE and HB_GTI_PALETTE
Message-ID: <9257026e0808090223yc7b499cjf7a86ef0546cc95d@mail.gmail.com>

I'm trying to port HB_GTI_CLOSABLE and HB_GTI_PALETTE to gtxwc.c but
I'm finding that's much more complicated than I expected.

My aim is to have a compatible palette definitions between gtwvt
(gtwvg), gtxwc and putty/pterm ( gttrm ).

Clearly I cannot control from the apps the colours of the terminal
based programs so I'd like to adopt putty/pterm standard.
They defines colours as resources ( or via putty gui in the Win registry ) like:

pterm.Colour0: 187,187,187
pterm.Colour1: 255,255,255
....
pterm.Colour15: 85,85,255
pterm.Colour16: 187,0,187

For gtwvt/gtxwc apps I think about an ini like:

[palette0]
Colour0=187,187,187
...
Colour16=187,0,187

But it seems that gtxwc needs colors in the form "rgb:hh/hh/hh" to get
the color value from the X server.

Any suggestion?

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sat Aug  9 05:59:21 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug  9 05:59:22 2008
Subject: [Harbour] 2008-08-09 11:43 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fa06$Blat.v2.6.2$9899ec52$1560a78c2d02@127.0.0.1>

2008-08-09 11:43 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/whatsnew.txt
   * bin/hb-mkslib.sh
     ! Changed the way harbour.dylib is created on Darwin systems 
       to support universal builds. Please review and test.
     ! Fixed generating links for .dylibs on Darwin.
     ! Removed one excessive 'cd "${OTMPDIR}"' command.
       (I hope this is right)
     ! Removed previously added $(L_USR) from Darwin dynamic 
       lib creation command line, as the L_USR "-arch" flags 
       (and probably others) cannot work here.
     ; TOFIX: 'ld: library not found for -lharbour' is still 
              present.

   * include/hbsetup.h
     + Added autodetection for HB_OS_DARWIN (based on __APPLE__).

   * config/darwin/gcc.cf
     ! Not forcing HB_OS_DARWIN from the command-line, 
       we're relying on the autodetection.

   * source/rtl/hbzlib.c
   * include/hbextern.ch
   * doc/whatsnew.txt
     * Harbour level functions renamed:
       HB_COMPRESS      -> HB_ZCOMPRESS     
       HB_COMPRESSBOUND -> HB_ZCOMPRESSBOUND
       HB_UNCOMPRESS    -> HB_ZUNCOMPRESS   
       HB_UNCOMPRESSLEN -> HB_ZUNCOMPRESSLEN
       This is to avoid collision with xhb functions 
       with similar name but different parameter list.
       Please modify your programs to use the new interface.
       INCOMPATIBLE.

   * utils/hbextern/hbextern.prg
     * Disabled scanning C HB_FUNC functions in .prg files.
     * Minor formatting.

   * include/hbapigt.h
     ! Minor cosmetic.

   * source/vm/runner.c
   * include/hbextern.ch
   * doc/whatsnew.txt
   * contrib/examples/hscript/hscript.prg
   * utils/hbrun/hbrun.prg
     * Harbour level functions renamed:
       __HRBRUN    -> HB_HRBRUN
       __HRBLOAD   -> HB_HRBLOAD
       __HRBDO     -> HB_HRBDO
       __HRBUNLOAD -> HB_HRBUNLOAD
       __HRBGETFU  -> HB_HRBGETSYMBOL
       __HRBDOFU   -> HB_HRBDOSYMBOL
       .hrb API functions moved to the documented namespace.
       Old function names still function, but are deprecated.
       Please modify your programs to use the new interface.
     ; NOTE: HB_DBG_*() function should I believe correctly 
             named as __DBG*(), as they are indeed internal 
             functions, not meant to guaranteed for final apps.
             We should do this cleanup in the future.

   * tests/Makefile
   - tests/spawn.prg
   - tests/spawn2.prg
     ! Removed two obsolete tests.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Aug  9 06:34:09 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug  9 06:34:07 2008
Subject: [Harbour] 2008-08-09 12:33 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fa0b$Blat.v2.6.2$74fa85fe$32843b89c108@127.0.0.1>

2008-08-09 12:33 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * config/darwin/gcc.cf
     % Removed an unnecessary -I option from the GCC command line.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Aug  9 06:56:23 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug  9 06:56:22 2008
Subject: [Harbour] 2008-08-09 12:55 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fa0e$Blat.v2.6.2$901ac4fe$1b3cb6beb6f8@127.0.0.1>

2008-08-09 12:55 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * config/darwin/gcc.cf
     % Commented -Wno-long-double Darwin option. It seems that 
       it's no longer needed with GCC 4.0.1.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Aug  9 07:09:09 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug  9 07:09:30 2008
Subject: [Harbour] OS X Intel 64 bit
Message-ID: <2A8B7349-1D27-4A73-8319-9BEC9FD5B7F7@syenar.hu>

A non-text attachment was scrubbed...
Name: hbosx64.png
Type: image/png
Size: 19461 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080809/7476a979/hbosx64-0001.png
-------------- next part --------------

From harbour.01 at syenar.hu  Sat Aug  9 07:15:31 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug  9 07:15:39 2008
Subject: [Harbour] Release 1.0.0 Final #4
Message-ID: <A3CE463D-D492-462A-BA96-3E60BBBA7EAC@syenar.hu>

Hi all,

Problems:
- OSX (GCC 4.01):
	NOTE: bash change can be safely reverted.
	ld error when trying to create executables using the dynamic lib (non- 
critical)

Pending:
- WinCE (MinGW, MSVC)
- HPUX
- SunOS
- Other Linux distros
	
Passed:
- Windows
	BCC 5.51
	BCC 5.82
	GCC MinGW 3.45 bash
	GCC MinGW 4.12
	GCC MinGW 4.12 bash
	GCC MinGW 4.31a bash
	MSVC 6 (ODBC problems)
	MSVC 12
	MSVS 2005
	MSVS 2005 C++
	MSVS 2008
	MSVS 2008 C++
	MSVS 2008 64 bit (known failure)
	MSVS 2008 C++ 64 bit
	PellesC 4.5
	PellesC 5.0
	PellesC 5.0 64 bit
- OSX
	GCC 4.01 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 PPC + XCode 3.1b)  
full (some general Darwin problems)
	GCC (Leopard 10.5.4 + XCode 3.0)
- Linux
	GCC 4.23 (Ubuntu 8) full
	GCC 4.30 (Fedora)
- DOS
	GCC DJGPP 4.23 32 bit

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Sat Aug  9 07:15:43 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Aug  9 07:15:49 2008
Subject: [Harbour] OS X Intel 64 bit
In-Reply-To: <2A8B7349-1D27-4A73-8319-9BEC9FD5B7F7@syenar.hu>
References: <2A8B7349-1D27-4A73-8319-9BEC9FD5B7F7@syenar.hu>
Message-ID: <9257026e0808090415v56b73fd2jf142ddc64a9fccdb@mail.gmail.com>

On Sat, Aug 9, 2008 at 1:09 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

Good job.

best regards,
Lorenzo
From mbelgrano at deltain.it  Sat Aug  9 07:26:11 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Aug  9 07:26:30 2008
Subject: [Harbour] (x)Harbour Corner
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EECF@SRV02.deltain.net>

There is same interesting information about (x)harbour in this web site
: http://geocities.yahoo.com.br/angeiras/
Is present also a documentation of gtwvw ( mix traditional SAY/GET with
HUI elements for an easy and fast migration with .Multiple Windows
Support and some native Windows controls as statusbar, toolbars,
textbar, scrollbars
and pushbuttons).


Massimo Belgrano

From mbelgrano at deltain.it  Sat Aug  9 08:11:42 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Aug  9 08:11:49 2008
Subject: [Harbour] Ocassional SET ORDER TO failure in RDDADS - xHarbour
In-Reply-To: <18768654.post@talk.nabble.com>
References: <18768654.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EED0@SRV02.deltain.net>

Hello Pritpal
I have similar problem in past in two situation:
When I have switched from novell to nt and my application (made with
xharbour  & adsl 8.1.0.18) give occcasionally open error 7041
set path to \saletool
set defa to \saletool
use cal
here I receive 7041  error or open only dbf and not cdx
This is due to disconnect disk that i see on same nt4 machine? On my
computer lan drive appear as red X disconnected
Resolved updating client and inserting a test is directory exist first
of command use/set index to

Second situation
Problem due to gropwise who consume server cpu in same moment

Massimo Belgrano

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: Friday, August 01, 2008 7:59 AM
To: harbour@harbour-project.org
Subject: [Harbour] Ocassional SET ORDER TO failure in RDDADS - xHarbour


Hello Przemek

This is an xHarbour compiled ( as of Jun 2007 CVS ) application, a very
large one.
               
RDD = > RDDADS

Here is a code snippet:

select verify
set order to 2
seek substr(cCustId,2)  // Generates RT Error and stats are

alias() == verify
recno() == 200120 or like
IndexOrd() == 0
GenCode == 36
Description == Workarea not indexed.

This error comes ocassionaly and not all the time.
Table under the error may be different, above is only one instance.

I need to know under what circumstances this error can happen.
For sure  "SET ORDER TO 2"  statement is failing somehow on Advantage.
It is really difficult to understand where I put additional traps as
the error has no particular place in this very large application.

Thanks in advance.

Regards
Pritpal Bedi, INDIA-USA


-- 
View this message in context:
http://www.nabble.com/Ocassional-SET-ORDER-TO-failure-in-RDDADS---xHarbo
ur-tp18768654p18768654.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Sat Aug  9 08:27:19 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug  9 08:27:26 2008
Subject: [Harbour] Multiple DESTRUCTOR calls on inherited classes
In-Reply-To: <20080304125956.GB6398@localhost.localdomain>
References: <200803040449.32104.teo@windtelsoft.com>
	<20080304125956.GB6398@localhost.localdomain>
Message-ID: <E3125AE0-0292-42A8-B1F9-72BFF3874D0F@syenar.hu>

Hi Przemek, Teo,

Reading some backlog, I've found this. I wonder if this
has been committed since, or should we now?

Brgds,
Viktor

On 2008.03.04., at 13:59, Przemyslaw Czerpak wrote:

> On Tue, 04 Mar 2008, Teo Fonrouge wrote:
>> Hello,
>> In a set of inherited classes, the DESTRUCTOR procedure is called  
>> more than
>> one time if a parent class, has a DESTRUCTOR.
>> I think that this is incorrect behavior. Acceptable only when each  
>> parent
>> class has his own DESTRUCTOR.
>
> Below is patch which fixes it. I'll commit it after new release.
>
> best regards,
> Przemek
>
>
> Index: harbour/source/vm/classes.c
> ===================================================================
> --- harbour/source/vm/classes.c	(wersja 8313)
> +++ harbour/source/vm/classes.c	(kopia robocza)
> @@ -2041,11 +2041,20 @@
>    {
>       if( pbClasses[ uiClass ] == 1 )
>       {
> -         hb_vmPushSymbol( &s___msgDestructor );
> -         hb_clsMakeSuperObject( hb_stackAllocItem(), pObject,  
> uiClass );
> -         hb_vmSend( 0 );
> -         if( hb_vmRequestQuery() != 0 )
> -            break;
> +         PMETHOD pDestructor = hb_clsFindMsg( &s_pClasses[ uiClass ],
> +                                               
> s___msgDestructor.pDynSym );
> +         if( pDestructor )
> +         {
> +            if( pbClasses[ pDestructor->uiSprClass ] == 1 )
> +            {
> +               hb_vmPushSymbol( &s___msgDestructor );
> +               hb_clsMakeSuperObject( hb_stackAllocItem(), pObject,  
> uiClass );
> +               hb_vmSend( 0 );
> +               if( hb_vmRequestQuery() != 0 )
> +                  break;
> +               pbClasses[ pDestructor->uiSprClass ] |= 2;
> +            }
> +         }
>       }
>    }
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Aug  9 08:30:14 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug  9 08:30:21 2008
Subject: [Harbour] Multiple DESTRUCTOR calls on inherited classes
In-Reply-To: <E3125AE0-0292-42A8-B1F9-72BFF3874D0F@syenar.hu>
References: <200803040449.32104.teo@windtelsoft.com>
	<20080304125956.GB6398@localhost.localdomain>
	<E3125AE0-0292-42A8-B1F9-72BFF3874D0F@syenar.hu>
Message-ID: <85FDF38B-BFF0-4A29-BB38-31EDA86BCF60@syenar.hu>

Disregard my prev mail (the fix is committed).

On 2008.08.09., at 14:27, Szak?ts Viktor wrote:

> Hi Przemek, Teo,
>
> Reading some backlog, I've found this. I wonder if this
> has been committed since, or should we now?
>
> Brgds,
> Viktor
>
> On 2008.03.04., at 13:59, Przemyslaw Czerpak wrote:
>
>> On Tue, 04 Mar 2008, Teo Fonrouge wrote:
>>> Hello,
>>> In a set of inherited classes, the DESTRUCTOR procedure is called  
>>> more than
>>> one time if a parent class, has a DESTRUCTOR.
>>> I think that this is incorrect behavior. Acceptable only when each  
>>> parent
>>> class has his own DESTRUCTOR.
>>
>> Below is patch which fixes it. I'll commit it after new release.
>>
>> best regards,
>> Przemek
>>
>>
>> Index: harbour/source/vm/classes.c
>> ===================================================================
>> --- harbour/source/vm/classes.c	(wersja 8313)
>> +++ harbour/source/vm/classes.c	(kopia robocza)
>> @@ -2041,11 +2041,20 @@
>>   {
>>      if( pbClasses[ uiClass ] == 1 )
>>      {
>> -         hb_vmPushSymbol( &s___msgDestructor );
>> -         hb_clsMakeSuperObject( hb_stackAllocItem(), pObject,  
>> uiClass );
>> -         hb_vmSend( 0 );
>> -         if( hb_vmRequestQuery() != 0 )
>> -            break;
>> +         PMETHOD pDestructor =  
>> hb_clsFindMsg( &s_pClasses[ uiClass ],
>> +                                               
>> s___msgDestructor.pDynSym );
>> +         if( pDestructor )
>> +         {
>> +            if( pbClasses[ pDestructor->uiSprClass ] == 1 )
>> +            {
>> +               hb_vmPushSymbol( &s___msgDestructor );
>> +               hb_clsMakeSuperObject( hb_stackAllocItem(),  
>> pObject, uiClass );
>> +               hb_vmSend( 0 );
>> +               if( hb_vmRequestQuery() != 0 )
>> +                  break;
>> +               pbClasses[ pDestructor->uiSprClass ] |= 2;
>> +            }
>> +         }
>>      }
>>   }
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>

From mbelgrano at deltain.it  Sat Aug  9 10:19:19 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Aug  9 10:19:36 2008
Subject: [Harbour] How to download and compile last version of harbour from
	svn on ubuntu 8.4.01
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EED1@SRV02.deltain.net>

1) Open Application accessory Terminal
2) If prompt is $ then type 
sudo  -s
3) type follow command
apt-get update; apt-get install wget cvs rcs build-essential ncurses-dev
libslang2-dev tk8.3-dev unixodbc-dev subversion
rm -fr /usr/src/harbour
cd /usr/src
svn co
https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trun
k/harbour harbour
cd /usr/src/harbour
export HB_BIN_INSTALL=/usr/bin/; export HB_LIB_INSTALL=/usr/lib/; export
HB_INC_INSTALL=/usr/include/
chmod 700 make_gnu.sh
sh ./make_gnu.sh clean; sh ./make_gnu.sh; sh ./make_gnu.sh install
harbour -build

Please post any comment or suggestion if I made same error


How can I compile follow  sample in gtxwc and gttrm and other linux gt
??
function main()
do while .t.
   setcolor("w/n")
   clear screen
   dummy:="N"
   @ 3,3 say "Hello World" color "w/r"
   @ 4,3 say "I am harbour!-)" color "w/b"
   @ 5,3 say "Do you want exit? "
   @ row(), col()+1 get dummy picture "@K!"
   read
   if dummy=="Y"
      clear screen
      quit
   endif
   @ 8,10 say "Ok You don't want exit from application"
   inkey(2)
enddo
return nil

Massimo Belgrano


From druzus at acn.waw.pl  Sat Aug  9 10:27:58 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Aug  9 10:28:06 2008
Subject: [Harbour] 2008-08-09 11:43 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8fa06$Blat.v2.6.2$9899ec52$1560a78c2d02@127.0.0.1>
References: <01c8fa06$Blat.v2.6.2$9899ec52$1560a78c2d02@127.0.0.1>
Message-ID: <20080809142758.GA7200@34-mo7-2.acn.waw.pl>

On Sat, 09 Aug 2008, Szak?ts Viktor wrote:

Vi Viktor,

>    * bin/hb-mkslib.sh
>      ! Changed the way harbour.dylib is created on Darwin systems 
>        to support universal builds. Please review and test.

Thank you, I cannot test it but it looks correct. I'll ad only minor
cleanup.

>      ! Fixed generating links for .dylibs on Darwin.

This is incorrect. You replaced relative soft links with
absolute ones and should be reverted.

>      ! Removed one excessive 'cd "${OTMPDIR}"' command.
>        (I hope this is right)

It was minor protection against theoretically possible error in
mkdir/cd operations executed during .a files extracting.

>      ! Removed previously added $(L_USR) from Darwin dynamic 
>        lib creation command line, as the L_USR "-arch" flags 
>        (and probably others) cannot work here.
>      ; TOFIX: 'ld: library not found for -lharbour' is still 
>               present.

It's possible that it cannot accept during linking harbour shared
library which is not located in one of system directories.
But 1-st I would like to see file list inside final .tgz archive.
I'll commit some modifications to hb-mkslib.sh in a while and
if possible please rebuild Harbour and send this list to me.

>    * include/hbsetup.h
>      + Added autodetection for HB_OS_DARWIN (based on __APPLE__).

If possible please try to extend this condition adding some additional
macro like __unix__, f.e.:
   #if defined(__APPLE__) && \
       ( defined(unix) || defined(__unix) || defined(__unix__) )
      #define HB_OS_DARWIN
   #endif

to avoid possible collision with some older MacOS versions.

>    * source/vm/runner.c
>        __HRBGETFU  -> HB_HRBGETSYMBOL

This functions should be renamed to HB_HRBGETFUN[C[SYM]]()
and fixed to respect only functions. Now it can return memvar or alias
symbol if it exists with the same name as function in .hrb file.

>        __HRBDOFU   -> HB_HRBDOSYMBOL

This functions is redundant and should be removed. It's subset of
DO() function functionality.

>      ; NOTE: HB_DBG_*() function should I believe correctly 
>              named as __DBG*(), as they are indeed internal 
>              functions, not meant to guaranteed for final apps.
>              We should do this cleanup in the future.

No one should try to access debugger functions in normal code
because we do not guarantee that we will keep their functionality
in the future so they should rather use __DBG*() prefix anyhow
the debugger code is mostly developed by Phil Krylov in xHarbour
and such modification will make synchronization with xHarbour harder.

best regards,
Przemek
From druzus at acn.waw.pl  Sat Aug  9 10:29:00 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Aug  9 10:29:12 2008
Subject: [Harbour] 2008-08-09 16:28 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808091429.m79ET04d001728@31-mo5-4.acn.waw.pl>

2008-08-09 16:28 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-mkslib.sh
    * do not create temporary directory in MacOSX
    ! fixed absolute shared library soft links to be relative ones

best regards
Przemek
From harbour.01 at syenar.hu  Sat Aug  9 10:41:14 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug  9 10:41:32 2008
Subject: [Harbour] 2008-08-09 11:43 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <20080809142758.GA7200@34-mo7-2.acn.waw.pl>
References: <01c8fa06$Blat.v2.6.2$9899ec52$1560a78c2d02@127.0.0.1>
	<20080809142758.GA7200@34-mo7-2.acn.waw.pl>
Message-ID: <087E2D91-4DAF-48CB-8E01-00D61754636F@syenar.hu>

>
Hi Przemek,

> Thank you, I cannot test it but it looks correct. I'll ad only minor
> cleanup.
>
>>     ! Fixed generating links for .dylibs on Darwin.
>
> This is incorrect. You replaced relative soft links with
> absolute ones and should be reverted.

Okay, sorry, I'll undo this if you didn't do so in
your commit.

>>     ! Removed one excessive 'cd "${OTMPDIR}"' command.
>>       (I hope this is right)
>
> It was minor protection against theoretically possible error in
> mkdir/cd operations executed during .a files extracting.

Same as above.

>>     ! Removed previously added $(L_USR) from Darwin dynamic
>>       lib creation command line, as the L_USR "-arch" flags
>>       (and probably others) cannot work here.
>>     ; TOFIX: 'ld: library not found for -lharbour' is still
>>              present.
>
> It's possible that it cannot accept during linking harbour shared
> library which is not located in one of system directories.
> But 1-st I would like to see file list inside final .tgz archive.
> I'll commit some modifications to hb-mkslib.sh in a while and
> if possible please rebuild Harbour and send this list to me.

Sure.

>>   * include/hbsetup.h
>>     + Added autodetection for HB_OS_DARWIN (based on __APPLE__).
>
> If possible please try to extend this condition adding some additional
> macro like __unix__, f.e.:
>   #if defined(__APPLE__) && \
>       ( defined(unix) || defined(__unix) || defined(__unix__) )
>      #define HB_OS_DARWIN
>   #endif
>
> to avoid possible collision with some older MacOS versions.

Okay, I'll commit this.

>>   * source/vm/runner.c
>>       __HRBGETFU  -> HB_HRBGETSYMBOL
>
> This functions should be renamed to HB_HRBGETFUN[C[SYM]]()
> and fixed to respect only functions. Now it can return memvar or alias
> symbol if it exists with the same name as function in .hrb file.
>
>>       __HRBDOFU   -> HB_HRBDOSYMBOL
>
> This functions is redundant and should be removed. It's subset of
> DO() function functionality.

I'll commit both.

>>     ; NOTE: HB_DBG_*() function should I believe correctly
>>             named as __DBG*(), as they are indeed internal
>>             functions, not meant to guaranteed for final apps.
>>             We should do this cleanup in the future.
>
> No one should try to access debugger functions in normal code
> because we do not guarantee that we will keep their functionality
> in the future so they should rather use __DBG*() prefix anyhow
> the debugger code is mostly developed by Phil Krylov in xHarbour
> and such modification will make synchronization with xHarbour harder.

Yes, plus we already have some wrappers for even older (__VM*())
functions once renamed to HB_DBG_*(). We should clean this up
later also IMO. It's not a big task whatsoever.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Aug  9 10:44:07 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug  9 10:44:16 2008
Subject: [Harbour] 2008-08-09 11:43 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <20080809142758.GA7200@34-mo7-2.acn.waw.pl>
References: <01c8fa06$Blat.v2.6.2$9899ec52$1560a78c2d02@127.0.0.1>
	<20080809142758.GA7200@34-mo7-2.acn.waw.pl>
Message-ID: <743BB559-B2E9-4894-A2BC-410DD0033E74@syenar.hu>

Hi Przemek,

Ops, I forgot one thing: When testing hbrun on OSX,
I noticed that the color changed after exiting hbrun
(from my default green to lightgray).

I'm not sure if this is a problem or not (and I've seen
multiple fixes from you regarding this), but in any
case I report it.

Brgds,
Viktor

On 2008.08.09., at 16:27, Przemyslaw Czerpak wrote:

> On Sat, 09 Aug 2008, Szak?ts Viktor wrote:
>
> Vi Viktor,
>
>>   * bin/hb-mkslib.sh
>>     ! Changed the way harbour.dylib is created on Darwin systems
>>       to support universal builds. Please review and test.
>
> Thank you, I cannot test it but it looks correct. I'll ad only minor
> cleanup.
>
>>     ! Fixed generating links for .dylibs on Darwin.
>
> This is incorrect. You replaced relative soft links with
> absolute ones and should be reverted.
>
>>     ! Removed one excessive 'cd "${OTMPDIR}"' command.
>>       (I hope this is right)
>
> It was minor protection against theoretically possible error in
> mkdir/cd operations executed during .a files extracting.
>
>>     ! Removed previously added $(L_USR) from Darwin dynamic
>>       lib creation command line, as the L_USR "-arch" flags
>>       (and probably others) cannot work here.
>>     ; TOFIX: 'ld: library not found for -lharbour' is still
>>              present.
>
> It's possible that it cannot accept during linking harbour shared
> library which is not located in one of system directories.
> But 1-st I would like to see file list inside final .tgz archive.
> I'll commit some modifications to hb-mkslib.sh in a while and
> if possible please rebuild Harbour and send this list to me.
>
>>   * include/hbsetup.h
>>     + Added autodetection for HB_OS_DARWIN (based on __APPLE__).
>
> If possible please try to extend this condition adding some additional
> macro like __unix__, f.e.:
>   #if defined(__APPLE__) && \
>       ( defined(unix) || defined(__unix) || defined(__unix__) )
>      #define HB_OS_DARWIN
>   #endif
>
> to avoid possible collision with some older MacOS versions.
>
>>   * source/vm/runner.c
>>       __HRBGETFU  -> HB_HRBGETSYMBOL
>
> This functions should be renamed to HB_HRBGETFUN[C[SYM]]()
> and fixed to respect only functions. Now it can return memvar or alias
> symbol if it exists with the same name as function in .hrb file.
>
>>       __HRBDOFU   -> HB_HRBDOSYMBOL
>
> This functions is redundant and should be removed. It's subset of
> DO() function functionality.
>
>>     ; NOTE: HB_DBG_*() function should I believe correctly
>>             named as __DBG*(), as they are indeed internal
>>             functions, not meant to guaranteed for final apps.
>>             We should do this cleanup in the future.
>
> No one should try to access debugger functions in normal code
> because we do not guarantee that we will keep their functionality
> in the future so they should rather use __DBG*() prefix anyhow
> the debugger code is mostly developed by Phil Krylov in xHarbour
> and such modification will make synchronization with xHarbour harder.
>
> best regards,
> Przemek

From harbour.01 at syenar.hu  Sat Aug  9 11:00:48 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug  9 11:00:48 2008
Subject: [Harbour] 2008-08-09 16:52 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fa30$Blat.v2.6.2$b524f432$31a090cfe73a@127.0.0.1>

2008-08-09 16:52 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbsetup.h
     * Refinement to HB_OS_DARWIN autodetection.
       Thanks Przemek.

   * doc/whatsnew.txt
   * include/hbextern.ch
   * source/vm/runner.c
     * Refinements to previous commit.
       HB_HRBGETSYMBOL() -> HB_HRBGETFUNSYM()
       HB_HRBDOSYMBOL()  -> deleted
     * __HRBDOFU() made equivalent to __HRBDO()

--
Brgds,
Viktor

From druzus at acn.waw.pl  Sat Aug  9 11:09:36 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Aug  9 11:09:48 2008
Subject: [Harbour] How to download and compile last version of harbour
	from svn on ubuntu 8.4.01
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EED1@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815EED1@SRV02.deltain.net>
Message-ID: <20080809150936.GA1693@34-mo7-2.acn.waw.pl>

On Sat, 09 Aug 2008, Massimo Belgrano wrote:

Hi Massimo

> 1) Open Application accessory Terminal
> 2) If prompt is $ then type 
> sudo  -s
> 3) type follow command
> apt-get update; apt-get install wget cvs rcs build-essential ncurses-dev
> libslang2-dev tk8.3-dev unixodbc-dev subversion

OK.

> rm -fr /usr/src/harbour
> cd /usr/src
> svn co
> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trun
> k/harbour harbour
> cd /usr/src/harbour

I suggest to drop root acount for above and always build Harbour
binaries from non root acount. I suggest it for all programs.
A small typo in build scripts may cause that your system will
be demaged.

   cd $HOME
   mkdir src
   cd src
   svn co https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour harbour
   cd harbour

> export HB_BIN_INSTALL=/usr/bin/; export HB_LIB_INSTALL=/usr/lib/; export
> HB_INC_INSTALL=/usr/include/
> chmod 700 make_gnu.sh
> sh ./make_gnu.sh clean; sh ./make_gnu.sh; sh ./make_gnu.sh install
> harbour -build

This works but if you are using Ubuntu then you can create native .deb
packages by:
   ./make_deb.sh
and then simply install harbour*.deb file in your system.

> Please post any comment or suggestion if I made same error

See above.

> How can I compile follow  sample in gtxwc and gttrm and other linux gt
> ??
> function main()
> do while .t.
>    setcolor("w/n")
>    clear screen
>    dummy:="N"
>    @ 3,3 say "Hello World" color "w/r"
>    @ 4,3 say "I am harbour!-)" color "w/b"
>    @ 5,3 say "Do you want exit? "
>    @ row(), col()+1 get dummy picture "@K!"
>    read
>    if dummy=="Y"
>       clear screen
>       quit
>    endif
>    @ 8,10 say "Ok You don't want exit from application"
>    inkey(2)
> enddo
> return nil

hbmk -n -w -es2 test.prg

see doc/howtobld.txt for detail description of hb* scripts.

best regards,
Przemek
From druzus at acn.waw.pl  Sat Aug  9 11:32:09 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Aug  9 11:32:14 2008
Subject: [Harbour] 2008-08-09 17:31 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808091532.m79FW9Wp014926@31-mo5-4.acn.waw.pl>

2008-08-09 17:31 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/extrap.c
    * deallocate alternative signal stack on exit
      TOFIX: hb_vmSetExceptionHandler() / hb_vmUnsetExceptionHandler()
             cover only part of hb_vmInit() and not hb_vmQuit(). Their
             calls should be moved to external places where both
             hb_vmInit() and hb_vmQuit() are executed.

  * harbour/source/rdd/dbfcdx/dbfcdx1.c
    ! fixed to not respect bitmap filters when structural order
      is scanned, f.e. in OrdListAdd() with active bitmap filter.

best regards
Przemek
From druzus at acn.waw.pl  Sat Aug  9 11:36:06 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Aug  9 11:36:11 2008
Subject: [Harbour] 2008-08-09 16:52 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8fa30$Blat.v2.6.2$b524f432$31a090cfe73a@127.0.0.1>
References: <01c8fa30$Blat.v2.6.2$b524f432$31a090cfe73a@127.0.0.1>
Message-ID: <20080809153606.GA15013@34-mo7-2.acn.waw.pl>

On Sat, 09 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

>      * __HRBDOFU() made equivalent to __HRBDO()

Thank you for modifications but it should be DO() function
not __HRBDO().
The old __HRBDOFU() has been never related to .hrb files.
I even suggest to fully remove it to not confuse users.

best regards,
Przemek
From harbour.01 at syenar.hu  Sat Aug  9 11:49:53 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug  9 11:50:03 2008
Subject: [Harbour] 2008-08-09 16:28 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200808091429.m79ET04d001728@31-mo5-4.acn.waw.pl>
References: <200808091429.m79ET04d001728@31-mo5-4.acn.waw.pl>
Message-ID: <43B91F9B-9E91-4453-9050-8D8515F7501A@syenar.hu>

Hi Przemek,

After r9121, the 'ld:' problem vanished, and the full build
got created without any errors (except sqlite3.c and the
empty sources). Many thanks for all the assistance.

build info
---
# OSX Leopard lates on Intel + XCode 3.1 / GCC 4.0.1
export L_USR="-arch i386 -arch ppc -arch x86_64 -arch ppc64"
export C_USR="-O4 $L_USR"
---

tar -tvf harbour...tar.gz (size: 17MB)
---
drwxr-xr-x root/wheel        0 2008-08-09 17:40:35 ./
drwxr-xr-x root/wheel        0 2008-08-09 17:40:35 ./private/
drwxr-xr-x root/wheel        0 2008-08-09 17:40:35 ./private/etc/
drwxr-xr-x root/wheel        0 2008-08-09 17:40:35 ./private/etc/ 
harbour/
-rw-r--r-- root/wheel     5840 2008-08-09 17:40:35 ./private/etc/ 
harbour/hb-charmap.def
-rw-r--r-- root/wheel       73 2008-08-09 17:40:35 ./private/etc/ 
harbour.cfg
drwxr-xr-x root/wheel        0 2008-08-09 17:40:00 ./usr/
drwxr-xr-x root/wheel        0 2008-08-09 17:40:00 ./usr/local/
drwxr-xr-x root/wheel        0 2008-08-09 17:40:55 ./usr/local/bin/
-rwxr-xr-x root/wheel  2471472 2008-08-09 17:40:30 ./usr/local/bin/ 
harbour
-rwxr-xr-x root/wheel    13943 2008-08-09 17:40:19 ./usr/local/bin/hb- 
build
-rwxr-xr-x root/wheel     4263 2008-08-09 17:40:19 ./usr/local/bin/hb- 
mkslib
lrwxr-xr-x root/wheel        0 2008-08-09 17:40:19 ./usr/local/bin/ 
hbcc -> hb-build
lrwxr-xr-x root/wheel        0 2008-08-09 17:40:19 ./usr/local/bin/ 
hbcmp -> hb-build
-rwxr-xr-x root/wheel   824440 2008-08-09 17:40:47 ./usr/local/bin/hbdoc
lrwxr-xr-x root/wheel        0 2008-08-09 17:40:19 ./usr/local/bin/ 
hblnk -> hb-build
-rwxr-xr-x root/wheel   666604 2008-08-09 17:40:40 ./usr/local/bin/ 
hbmake
lrwxr-xr-x root/wheel        0 2008-08-09 17:40:19 ./usr/local/bin/ 
hbmk -> hb-build
-rwxr-xr-x root/wheel   465096 2008-08-09 17:40:02 ./usr/local/bin/hbpp
-rwxr-xr-x root/wheel  1403200 2008-08-09 17:40:41 ./usr/local/bin/hbrun
-rwxr-xr-x root/wheel  1481156 2008-08-09 17:40:55 ./usr/local/bin/ 
hbtest
drwxr-xr-x root/wheel        0 2008-08-09 17:40:00 ./usr/local/include/
drwxr-xr-x root/wheel        0 2008-08-09 17:40:19 ./usr/local/include/ 
harbour/
-rw-r--r-- root/wheel     3245 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/achoice.ch
-rw-r--r-- root/wheel     5845 2008-08-09 17:40:18 ./usr/local/include/ 
harbour/adordd.ch
-rw-r--r-- root/wheel     3257 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/assert.ch
-rw-r--r-- root/wheel     3871 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/blob.ch
-rw-r--r-- root/wheel     3469 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/box.ch
-rw-r--r-- root/wheel     4452 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/button.ch
-rw-r--r-- root/wheel     4329 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/clipdefs.h
-rw-r--r-- root/wheel     2519 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/color.ch
-rw-r--r-- root/wheel     4085 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/common.ch
-rw-r--r-- root/wheel     3672 2008-08-09 17:40:14 ./usr/local/include/ 
harbour/ct.ch
-rw-r--r-- root/wheel     3124 2008-08-09 17:40:14 ./usr/local/include/ 
harbour/ctdisk.ch
-rw-r--r-- root/wheel    26548 2008-08-09 17:40:14 ./usr/local/include/ 
harbour/cterror.ch
-rw-r--r-- root/wheel     7796 2008-08-09 17:40:14 ./usr/local/include/ 
harbour/ctextern.ch
-rw-r--r-- root/wheel     2861 2008-08-09 17:40:14 ./usr/local/include/ 
harbour/ctvideo.ch
-rw-r--r-- root/wheel     3158 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/dbedit.ch
-rw-r--r-- root/wheel    19585 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/dbinfo.ch
-rw-r--r-- root/wheel     2640 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/dbstruct.ch
-rw-r--r-- root/wheel     2771 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/directry.ch
-rw-r--r-- root/wheel     3500 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/error.api
-rw-r--r-- root/wheel     6037 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/error.ch
-rw-r--r-- root/wheel     4356 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/extend.api
-rw-r--r-- root/wheel     2658 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/extend.h
-rw-r--r-- root/wheel     4336 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/fileio.ch
-rw-r--r-- root/wheel     3766 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/filesys.api
-rw-r--r-- root/wheel     2732 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/fm.api
-rw-r--r-- root/wheel     3031 2008-08-09 17:40:15 ./usr/local/include/ 
harbour/ftmenuto.ch
-rw-r--r-- root/wheel     2804 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/getexit.ch
-rw-r--r-- root/wheel     4220 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/gt.api
-rw-r--r-- root/wheel     2611 2008-08-09 17:40:13 ./usr/local/include/ 
harbour/hb_btree.api
-rw-r--r-- root/wheel     2312 2008-08-09 17:40:13 ./usr/local/include/ 
harbour/hb_btree.ch
-rw-r--r-- root/wheel     2669 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hb_io.h
-rw-r--r-- root/wheel    63681 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbapi.h
-rw-r--r-- root/wheel     8397 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbapicdp.h
-rw-r--r-- root/wheel     6472 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbapicls.h
-rw-r--r-- root/wheel     4272 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbapidbg.h
-rw-r--r-- root/wheel     8894 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbapierr.h
-rw-r--r-- root/wheel    16382 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbapifs.h
-rw-r--r-- root/wheel    14306 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbapigt.h
-rw-r--r-- root/wheel    12203 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbapiitm.h
-rw-r--r-- root/wheel     3961 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbapilng.h
-rw-r--r-- root/wheel    52507 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbapirdd.h
-rw-r--r-- root/wheel     2531 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbassert.h
-rw-r--r-- root/wheel     2931 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbchksum.h
-rw-r--r-- root/wheel    34319 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbclass.ch
-rw-r--r-- root/wheel     2514 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hbcommon.ch
-rw-r--r-- root/wheel    21794 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbcomp.h
-rw-r--r-- root/wheel    14819 2008-08-09 17:40:18 ./usr/local/include/ 
harbour/hbcompat.ch
-rw-r--r-- root/wheel     3269 2008-08-09 17:40:18 ./usr/local/include/ 
harbour/hbcompat.h
-rw-r--r-- root/wheel    27697 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbcompdf.h
-rw-r--r-- root/wheel    25302 2008-08-09 17:40:18 ./usr/local/include/ 
harbour/hbcurl.ch
-rw-r--r-- root/wheel     4324 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbdate.h
-rw-r--r-- root/wheel     3530 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbdbf.h
-rw-r--r-- root/wheel     4244 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbdbferr.h
-rw-r--r-- root/wheel     3146 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbdbsort.h
-rw-r--r-- root/wheel     2994 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hbdebug.ch
-rw-r--r-- root/wheel    52402 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbdefs.h
-rw-r--r-- root/wheel     7635 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hberrors.h
-rw-r--r-- root/wheel    11547 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbexprop.h
-rw-r--r-- root/wheel    24812 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hbextern.ch
-rw-r--r-- root/wheel     3551 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbfixdj.h
-rw-r--r-- root/wheel     9972 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hbgetcmt.ch
-rw-r--r-- root/wheel     5228 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hbgfx.ch
-rw-r--r-- root/wheel     5566 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hbgfxdef.ch
-rw-r--r-- root/wheel    33632 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbgtcore.h
-rw-r--r-- root/wheel    11966 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hbgtinfo.ch
-rw-r--r-- root/wheel     4093 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbhash.h
-rw-r--r-- root/wheel     7992 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbinit.h
-rw-r--r-- root/wheel    13919 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hbinkey.ch
-rw-r--r-- root/wheel     2709 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hblang.ch
-rw-r--r-- root/wheel     2886 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hbmacro.ch
-rw-r--r-- root/wheel     7341 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbmacro.h
-rw-r--r-- root/wheel     3940 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hbmath.ch
-rw-r--r-- root/wheel     4718 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbmath.h
-rw-r--r-- root/wheel     3635 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hbmemory.ch
-rw-r--r-- root/wheel     2956 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hbmemvar.ch
-rw-r--r-- root/wheel     3119 2008-08-09 17:40:14 ./usr/local/include/ 
harbour/hbmzip.ch
-rw-r--r-- root/wheel     5743 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hboo.ch
-rw-r--r-- root/wheel    18812 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbpcode.h
-rw-r--r-- root/wheel     2618 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hbpers.ch
-rw-r--r-- root/wheel    31672 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbpp.h
-rw-r--r-- root/wheel    29552 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbrddcdx.h
-rw-r--r-- root/wheel    17784 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbrdddbf.h
-rw-r--r-- root/wheel     8803 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbrdddbt.h
-rw-r--r-- root/wheel     5809 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbrdddel.h
-rw-r--r-- root/wheel    16168 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbrddfpt.h
-rw-r--r-- root/wheel    20758 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbrddntx.h
-rw-r--r-- root/wheel     5333 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbrddsdf.h
-rw-r--r-- root/wheel     4936 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbregex.h
-rw-r--r-- root/wheel    10643 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbset.h
-rw-r--r-- root/wheel     3462 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hbsetup.ch
-rw-r--r-- root/wheel    13063 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbsetup.h
-rw-r--r-- root/wheel    10443 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hbsix.ch
-rw-r--r-- root/wheel     4183 2008-08-09 17:40:17 ./usr/local/include/ 
harbour/hbsqlit3.ch
-rw-r--r-- root/wheel    11927 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbstack.h
-rw-r--r-- root/wheel     2874 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hbstdgen.ch
-rw-r--r-- root/wheel     3176 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hbsxdef.ch
-rw-r--r-- root/wheel     3093 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbsxfunc.h
-rw-r--r-- root/wheel     6852 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbtrace.h
-rw-r--r-- root/wheel     7594 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbtypes.h
-rw-r--r-- root/wheel     4031 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hbundoc.api
-rw-r--r-- root/wheel    12865 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hbusrrdd.ch
-rw-r--r-- root/wheel     2807 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbver.h
-rw-r--r-- root/wheel     9378 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbvm.h
-rw-r--r-- root/wheel     2963 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbvmopt.h
-rw-r--r-- root/wheel     7632 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbvmpub.h
-rw-r--r-- root/wheel     8468 2008-08-09 17:40:18 ./usr/local/include/ 
harbour/hbvpdf.ch
-rw-r--r-- root/wheel     9433 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbwince.h
-rw-r--r-- root/wheel    15705 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbxvm.h
-rw-r--r-- root/wheel     2581 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/hbzlib.ch
-rw-r--r-- root/wheel     2463 2008-08-09 17:40:00 ./usr/local/include/ 
harbour/hbzlib.h
-rw-r--r-- root/wheel    18284 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/inkey.ch
-rw-r--r-- root/wheel     3439 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/item.api
-rw-r--r-- root/wheel     3724 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/memoedit.ch
-rw-r--r-- root/wheel     3156 2008-08-09 17:40:19 ./usr/local/include/ 
harbour/msql.ch
-rw-r--r-- root/wheel     4075 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/ord.ch
-rw-r--r-- root/wheel     2690 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/rdd.api
-rw-r--r-- root/wheel     2503 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/rddsys.ch
-rw-r--r-- root/wheel     2408 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/reserved.ch
-rw-r--r-- root/wheel     5470 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/set.ch
-rw-r--r-- root/wheel     2561 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/setcurs.ch
-rw-r--r-- root/wheel     2662 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/simpleio.ch
-rw-r--r-- root/wheel     7710 2008-08-09 17:40:15 ./usr/local/include/ 
harbour/sql.ch
-rw-r--r-- root/wheel    35868 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/std.ch
-rw-r--r-- root/wheel     2786 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/tbrowse.ch
-rw-r--r-- root/wheel    14246 2008-08-09 17:40:17 ./usr/local/include/ 
harbour/thtml.ch
-rw-r--r-- root/wheel      453 2008-08-09 17:40:13 ./usr/local/include/ 
harbour/time87.ch
-rw-r--r-- root/wheel      452 2008-08-09 17:40:17 ./usr/local/include/ 
harbour/tip.ch
-rw-r--r-- root/wheel     3786 2008-08-09 17:40:01 ./usr/local/include/ 
harbour/vm.api
-rw-r--r-- root/wheel     2563 2008-08-09 17:40:18 ./usr/local/include/ 
harbour/xhb.ch
drwxr-xr-x root/wheel        0 2008-08-09 17:40:29 ./usr/local/lib/
drwxr-xr-x root/wheel        0 2008-08-09 17:40:35 ./usr/local/lib/ 
harbour/
-rw-r--r-- root/wheel    23808 2008-08-09 17:40:25 ./usr/local/lib/ 
harbour/libgtcgi.a
-rw-r--r-- root/wheel   322040 2008-08-09 17:40:25 ./usr/local/lib/ 
harbour/libgtcrs.a
-rw-r--r-- root/wheel    80376 2008-08-09 17:40:25 ./usr/local/lib/ 
harbour/libgtpca.a
-rw-r--r-- root/wheel    45176 2008-08-09 17:40:25 ./usr/local/lib/ 
harbour/libgtstd.a
-rw-r--r-- root/wheel   215328 2008-08-09 17:40:25 ./usr/local/lib/ 
harbour/libgttrm.a
-rwxr-xr-x root/wheel 11358016 2008-08-09 17:40:30 ./usr/local/lib/ 
harbour/libharbour.1.0.0.dylib
lrwxr-xr-x root/wheel        0 2008-08-09 17:40:29 ./usr/local/lib/ 
harbour/libharbour.1.dylib -> libharbour.1.0.0.dylib
lrwxr-xr-x root/wheel        0 2008-08-09 17:40:29 ./usr/local/lib/ 
harbour/libharbour.dylib -> libharbour.1.0.0.dylib
-rw-r--r-- root/wheel  1191168 2008-08-09 17:40:26 ./usr/local/lib/ 
harbour/libhbbmcdx.a
-rw-r--r-- root/wheel   149320 2008-08-09 17:40:26 ./usr/local/lib/ 
harbour/libhbbtree.a
-rw-r--r-- root/wheel    97592 2008-08-09 17:40:26 ./usr/local/lib/ 
harbour/libhbclipsm.a
-rw-r--r-- root/wheel   360408 2008-08-09 17:40:26 ./usr/local/lib/ 
harbour/libhbcommon.a
-rw-r--r-- root/wheel   421352 2008-08-09 17:40:26 ./usr/local/lib/ 
harbour/libhbcpage.a
-rw-r--r-- root/wheel  2130784 2008-08-09 17:40:26 ./usr/local/lib/ 
harbour/libhbcplr.a
-rw-r--r-- root/wheel  1388136 2008-08-09 17:40:26 ./usr/local/lib/ 
harbour/libhbct.a
-rw-r--r-- root/wheel   216624 2008-08-09 17:40:26 ./usr/local/lib/ 
harbour/libhbcurl.a
-rw-r--r-- root/wheel  1093384 2008-08-09 17:40:27 ./usr/local/lib/ 
harbour/libhbdebug.a
-rw-r--r-- root/wheel   393352 2008-08-09 17:40:27 ./usr/local/lib/ 
harbour/libhbextern.a
-rw-r--r-- root/wheel    43952 2008-08-09 17:40:27 ./usr/local/lib/ 
harbour/libhbfm.a
-rw-r--r-- root/wheel    83592 2008-08-09 17:40:27 ./usr/local/lib/ 
harbour/libhbgt.a
-rw-r--r-- root/wheel   121784 2008-08-09 17:40:27 ./usr/local/lib/ 
harbour/libhbhsx.a
-rw-r--r-- root/wheel  1423176 2008-08-09 17:40:27 ./usr/local/lib/ 
harbour/libhblang.a
-rw-r--r-- root/wheel   394168 2008-08-09 17:40:27 ./usr/local/lib/ 
harbour/libhbmacro.a
-rw-r--r-- root/wheel   257544 2008-08-09 17:40:27 ./usr/local/lib/ 
harbour/libhbmisc.a
-rw-r--r-- root/wheel   116624 2008-08-09 17:40:27 ./usr/local/lib/ 
harbour/libhbmsql.a
-rw-r--r-- root/wheel   203296 2008-08-09 17:40:27 ./usr/local/lib/ 
harbour/libhbmzip.a
-rw-r--r-- root/wheel  1550416 2008-08-09 17:40:28 ./usr/local/lib/ 
harbour/libhbnf.a
-rw-r--r-- root/wheel    27840 2008-08-09 17:40:28 ./usr/local/lib/ 
harbour/libhbnulrdd.a
-rw-r--r-- root/wheel   169280 2008-08-09 17:40:28 ./usr/local/lib/ 
harbour/libhbodbc.a
-rw-r--r-- root/wheel   643456 2008-08-09 17:40:28 ./usr/local/lib/ 
harbour/libhbpcre.a
-rw-r--r-- root/wheel  1524104 2008-08-09 17:40:28 ./usr/local/lib/ 
harbour/libhbpp.a
-rw-r--r-- root/wheel  1220424 2008-08-09 17:40:28 ./usr/local/lib/ 
harbour/libhbrdd.a
-rw-r--r-- root/wheel  4930744 2008-08-09 17:40:28 ./usr/local/lib/ 
harbour/libhbrtl.a
-rw-r--r-- root/wheel   299832 2008-08-09 17:40:28 ./usr/local/lib/ 
harbour/libhbsix.a
-rw-r--r-- root/wheel  4023120 2008-08-09 17:40:28 ./usr/local/lib/ 
harbour/libhbsqlit3.a
-rw-r--r-- root/wheel  1185376 2008-08-09 17:40:29 ./usr/local/lib/ 
harbour/libhbtip.a
-rw-r--r-- root/wheel   357400 2008-08-09 17:40:29 ./usr/local/lib/ 
harbour/libhbusrrdd.a
-rw-r--r-- root/wheel  2156080 2008-08-09 17:40:29 ./usr/local/lib/ 
harbour/libhbvm.a
-rw-r--r-- root/wheel   492800 2008-08-09 17:40:29 ./usr/local/lib/ 
harbour/libhbvpdf.a
-rw-r--r-- root/wheel   353304 2008-08-09 17:40:29 ./usr/local/lib/ 
harbour/libhbzlib.a
-rw-r--r-- root/wheel   115840 2008-08-09 17:40:29 ./usr/local/lib/ 
harbour/librddado.a
-rw-r--r-- root/wheel  1208520 2008-08-09 17:40:29 ./usr/local/lib/ 
harbour/librddcdx.a
-rw-r--r-- root/wheel   236088 2008-08-09 17:40:30 ./usr/local/lib/ 
harbour/librddfpt.a
-rw-r--r-- root/wheel   521008 2008-08-09 17:40:30 ./usr/local/lib/ 
harbour/librddntx.a
-rw-r--r-- root/wheel   733360 2008-08-09 17:40:30 ./usr/local/lib/ 
harbour/libxhb.a
lrwxr-xr-x root/wheel        0 2008-08-09 17:40:29 ./usr/local/lib/ 
libharbour.dylib -> harbour/libharbour.1.0.0.dylib
---

Brgds,
Viktor


On 2008.08.09., at 16:29, Przemyslaw Czerpak wrote:

> 2008-08-09 16:28 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/bin/hb-mkslib.sh
>    * do not create temporary directory in MacOSX
>    ! fixed absolute shared library soft links to be relative ones
>
> best regards
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Aug  9 11:52:54 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug  9 11:52:58 2008
Subject: [Harbour] 2008-08-09 17:52 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fa37$Blat.v2.6.2$fc1d8f00$265ccbf9fca6@127.0.0.1>

2008-08-09 17:52 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/whatsnew.txt
   * include/hbextern.ch
   * source/vm/runner.c
     - Completely removed __HRBDOFU(). Users should use DO() instead.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Sat Aug  9 11:55:34 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Aug  9 11:55:40 2008
Subject: [Harbour] 2008-08-09 17:55 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808091555.m79FtYYE017620@31-mo5-4.acn.waw.pl>

2008-08-09 17:55 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/runner.c
    ! fixed HB_HRBGETFUNSYM() to respect only function symbols

best regards
Przemek
From harbour.01 at syenar.hu  Sat Aug  9 11:59:32 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug  9 12:00:12 2008
Subject: [Harbour] hbfixdj.h merge into hbsetup.h
Message-ID: <696B8F6B-2D9C-419D-95A3-9C90C6339834@syenar.hu>

Hi Przemek,

We have hbfixdj.h. It's only included in one place
in hbsetup.h.

Do you see anything against merging this file into
hbsetup.h? It would look a bit more elegant IMO.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Aug  9 12:02:33 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug  9 12:02:31 2008
Subject: [Harbour] 2008-08-09 18:00 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fa39$Blat.v2.6.2$556c03e2$492c97ce6094@127.0.0.1>

2008-08-09 18:00 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_gnu_os2.cmd
     * Minor formatting.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Sat Aug  9 12:08:09 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Aug  9 12:08:15 2008
Subject: [Harbour] 2008-08-09 18:07 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808091608.m79G89NW020718@31-mo5-4.acn.waw.pl>

2008-08-09 18:07 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/extrap.c
    * use static buffer for signal alternative stack so it will not
      have to be deallocated for clean application exit

best regards
Przemek
From druzus at acn.waw.pl  Sat Aug  9 12:37:16 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Aug  9 12:37:23 2008
Subject: [Harbour] hbfixdj.h merge into hbsetup.h
In-Reply-To: <696B8F6B-2D9C-419D-95A3-9C90C6339834@syenar.hu>
References: <696B8F6B-2D9C-419D-95A3-9C90C6339834@syenar.hu>
Message-ID: <20080809163716.GA20702@34-mo7-2.acn.waw.pl>

On Sat, 09 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> We have hbfixdj.h. It's only included in one place
> in hbsetup.h.
> Do you see anything against merging this file into
> hbsetup.h? It would look a bit more elegant IMO.

It's a hack for using directly char type or wrongly casted
to (int) to ctype functions. It causes that negative values
are passed to this functions. I hope that I cleaned whole
Harbour code and replaced all code like:
   char cVal;
   ...
   cVal = toupper( cVal );
or even worser:
   cVal = toupper( ( int ) cVal );
which effectively pacifies warnings leaving buggy code
which still passes negative values on platforms where
char is signed with:

   cVal = toupper( ( UCHAR ) cVal );

but I'm not sure so I haven't removed hbfixdj.h so far.

If we hard code it inside hbsetup.h then we quite fast forget
about it.
Personally I have some other similar hbfix*.h files I'm using
in my custom builds with some more exotic compilers and it is
very good for me that I can only add simple #include to hbsetup.h

best regards,
Przemek
From harbour.01 at syenar.hu  Sat Aug  9 12:40:32 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug  9 12:40:42 2008
Subject: [Harbour] hbfixdj.h merge into hbsetup.h
In-Reply-To: <20080809163716.GA20702@34-mo7-2.acn.waw.pl>
References: <696B8F6B-2D9C-419D-95A3-9C90C6339834@syenar.hu>
	<20080809163716.GA20702@34-mo7-2.acn.waw.pl>
Message-ID: <82B7217E-2720-4099-8CE1-1FD455A7C0C0@syenar.hu>

Okay, I agree to leave it there to remind us.

Brgds,
Viktor

On 2008.08.09., at 18:37, Przemyslaw Czerpak wrote:

> On Sat, 09 Aug 2008, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>> We have hbfixdj.h. It's only included in one place
>> in hbsetup.h.
>> Do you see anything against merging this file into
>> hbsetup.h? It would look a bit more elegant IMO.
>
> It's a hack for using directly char type or wrongly casted
> to (int) to ctype functions. It causes that negative values
> are passed to this functions. I hope that I cleaned whole
> Harbour code and replaced all code like:
>   char cVal;
>   ...
>   cVal = toupper( cVal );
> or even worser:
>   cVal = toupper( ( int ) cVal );
> which effectively pacifies warnings leaving buggy code
> which still passes negative values on platforms where
> char is signed with:
>
>   cVal = toupper( ( UCHAR ) cVal );
>
> but I'm not sure so I haven't removed hbfixdj.h so far.
>
> If we hard code it inside hbsetup.h then we quite fast forget
> about it.
> Personally I have some other similar hbfix*.h files I'm using
> in my custom builds with some more exotic compilers and it is
> very good for me that I can only add simple #include to hbsetup.h
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From jarabal at gmail.com  Sat Aug  9 13:10:54 2008
From: jarabal at gmail.com (Xavi)
Date: Sat Aug  9 13:12:04 2008
Subject: [Harbour] hb_run vs __run vs hbrun vs __hrbrun vs winexec
In-Reply-To: <26D99F55-9C4E-4E67-9848-BFF73ECFB7A6@syenar.hu>
References: <9257026e0808090044u699332das2aa23511948143f9@mail.gmail.com>
	<26D99F55-9C4E-4E67-9848-BFF73ECFB7A6@syenar.hu>
Message-ID: <489DCF9E.2000804@gmail.com>

Hi Viktor,

For my part is no objection to incorporate _RunHide() in the project, with the name you want and where you want.

http://groups.google.com/group/comp.lang.xharbour/browse_thread/thread/3378461f63826ce0/f842512cc396adf6#f842512cc396adf6
	
But I would like that a linux C coder adapt to the system.

Best regards,
Xavi

Szak?ts Viktor escribi?:
>>
> Hi Lorenzo,
> 
>> There are some old tests that still use hb_run as "__hrbrun".
> 
> Well, that was not your point, but IMO __hrb*() functions should
> be named hb_hrb*() since they are not really internal features
> anymore.
> 
> Should we do it now?
> 
>> Moreover we now have an util called hbrun which is more an "hrbrun".
> 
> Name stayed for compatibility reasons, I'd have better liked
> hbdot, and it's still not too late to change it. If groups agreed
> I can do it.
> 
>> Sorry for the "word game", but I was looking for the differences
>> between __RUN and HB_RUN and it took me a while to get the right info
>> so this may confuse users too.
> 
> I think the only difference is that HB_RUN() is in the documented
> namespace, and it does return an errorlevel, while __RUN() is a
> compatibility internal command with no return value. Otherwise
> they do the same.
> 
>> I was looking for it because I need to start an harbour app "in
>> background". Under Unix is as easy as add an "&" at the end of the
>> string but under Win you need sth like WinExec to achieve the same
>> result.
>>
>> I wonder if instead of using sth like:
>>
>> #if __PLATFORM__WINDOWS
>>    WinExec( CmdStr )
>> #else
>>    __RUN( CmdStr + " &" )
>> #endif
>>
>> we could add a second parameter to HB_RUN like "fore/back" to get a
>> more elegant solution ( even because WinExec is not in std libs ).
> 
> For this I'd suggest to add something to hbw32.lib. Not only background,
> but also minimized, hidden, dont-wait-to-terminate (solvabe with direct
> CreateProcess() call only AFAIK) etc can be other options on Windows.
> You might also already use ShellExecute(), this is also Win and even
> shell specific, and not portable in a clean way.
> 
> Anyway, if there would be a portable way to solve any of this, it would
> be great, I agree.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-------------- next part --------------
/*
 * Harbour Project source code:
 * _RUNHIDE & FILTEROUTCON functions
 *
 * Copyright 2008 Xavi <jarabal/at/gmail.com>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software; see the file COPYING.  If not, write to
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
 *
 * As a special exception, the Harbour Project gives permission for
 * additional uses of the text contained in its release of Harbour.
 *
 * The exception is that, if you link the Harbour libraries with other
 * files to produce an executable, this does not by itself cause the
 * resulting executable to be covered by the GNU General Public License.
 * Your use of that executable is in no way restricted on account of
 * linking the Harbour library code into it.
 *
 * This exception does not however invalidate any other reasons why
 * the executable file might be covered by the GNU General Public License.
 *
 * This exception applies only to the code released by the Harbour
 * Project under the name Harbour.  If you copy code from other
 * Harbour Project or Free Software Foundation releases into a copy of
 * Harbour, as the General Public License permits, the exception does
 * not apply to the code that you add in this way.  To avoid misleading
 * anyone as to the status of such modified files, you must delete
 * this exception notice from them.
 *
 * If you write modifications of your own for Harbour, it is your choice
 * whether to permit this exception to apply to your modifications.
 * If you do not wish that, delete this exception notice.
 *
 */

#include "hbapi.h"
#include "hbapiitm.h"
#include "hbapierr.h"

/* TODO: S.O. Implementations. Now only Windows */
#include <windows.h>

/*******************************************************************************
* RUN HIDE PROCESS CAPTURING OUTPUT
* ---------------------------------
* nRes := _RunHide( @cOut, cCmd )
*******************************************************************************/

#define DK_FACSIZE 4
#define DK_BUFSIZE 4096

HB_FUNC( _RUNHIDE )
{
   char *cCmd = hb_parc(2);
   PHB_ITEM pItmOut = hb_param( 1, HB_IT_STRING );

   if( !cCmd || !pItmOut || !ISBYREF( 1 ) ){
      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, "_RUNHIDE", 2, hb_paramError(1), hb_paramError(2) );
   }else{
      STARTUPINFO si;
      SECURITY_ATTRIBUTES sa;
      PROCESS_INFORMATION pi;
      HANDLE hRPipe, hWPipe;
      char *cOut, cBuffer[DK_BUFSIZE];
      ULONG ulRes, ulBytes, ulRead, ulOff, ulMax;

      sa.nLength = sizeof(SECURITY_ATTRIBUTES);
      sa.lpSecurityDescriptor = NULL;
      sa.bInheritHandle = TRUE;

      if( !CreatePipe( &hRPipe, &hWPipe, &sa, 0 ) ){
         hb_errRT_BASE_SubstR( EG_ARG, 0, "Create stdout pipe", "_RUNHIDE", 0 ); return;
      }

      GetStartupInfo( &si );
      si.dwFlags = STARTF_USESTDHANDLES | STARTF_USESHOWWINDOW;
      si.wShowWindow = SW_HIDE;
      si.hStdOutput = si.hStdError = hWPipe;
      si.hStdInput = NULL;

      if( !CreateProcess( NULL, cCmd, NULL, NULL, TRUE, DETACHED_PROCESS, NULL, NULL, &si, &pi ) ){
         CloseHandle( hRPipe ); CloseHandle( hWPipe );
         hb_errRT_BASE_SubstR( EG_ARG, 0, "CreateProcess", "_RUNHIDE", 0 ); return;
      }

      ulOff = hb_itemGetCLen( pItmOut );
      ulMax = ulOff + (DK_FACSIZE * DK_BUFSIZE);
      cOut = (char *)hb_xgrab( ulMax );
      memcpy( cOut, hb_itemGetCPtr( pItmOut ), ulOff );

      for(;;){
         GetExitCodeProcess( pi.hProcess, &ulRes );
         if( ulRes != STILL_ACTIVE ) break;

         PeekNamedPipe( hRPipe, NULL, 0, NULL, &ulBytes, NULL );
         if( ulBytes > 0 ){
            ReadFile( hRPipe, cBuffer, DK_BUFSIZE, &ulRead, NULL );
            if( ulOff + ulRead > ulMax ){
               ulMax += DK_FACSIZE * DK_BUFSIZE;
               cOut = (char *)hb_xrealloc( cOut, ulMax );
            }
            memcpy( cOut + ulOff, cBuffer, ulRead );
            ulOff += ulRead;
         }
         Sleep( 10 );
      }
      do{
         PeekNamedPipe( hRPipe, NULL, 0, NULL, &ulBytes, NULL );
         if( ulBytes > 0 ){
            ReadFile( hRPipe, cBuffer, DK_BUFSIZE, &ulRead, NULL );
            if( ulOff + ulRead > ulMax ){
               ulMax += DK_FACSIZE * DK_BUFSIZE;
               cOut = (char *)hb_xrealloc( cOut, ulMax );
            }
            memcpy( cOut + ulOff, cBuffer, ulRead );
            ulOff += ulRead;
         }
      }while( ulBytes > 0 );

      CloseHandle( hRPipe ); CloseHandle( hWPipe );
      hb_itemPutCL( pItmOut, cOut, ulOff );
      hb_retnl( ulRes );
      hb_xfree( cOut );
   }
}

/*******************************************************************************
* FILTER OUTPUT CONSOLA PROCESSING \r & \n
* ----------------------------------------
* FilterOutCon( @cOut )
*******************************************************************************/
HB_FUNC( FILTEROUTCON )
{
   PHB_ITEM pItmOut = hb_param( 1, HB_IT_STRING );

   if( !pItmOut || !ISBYREF( 1 ) ){
      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, "FILTEROUTCON", 1, hb_paramError(1) );
   }else{
      char *cRes, *cOut = hb_itemGetCPtr( pItmOut );
      ULONG n, i, k, ulLen = hb_itemGetCLen( pItmOut );

      if( ulLen > 0 ){
         cRes = (char *)hb_xgrab( ulLen );
         for( n = i = k = 0; i < ulLen; i++ ){
            if( cOut[i] == '\r' && cOut[i+1] != '\n') k = n;
            else cRes[k++] = cOut[i];
            if( cOut[i] == '\n' ) n = k;
         }
         hb_itemPutCL( pItmOut, cRes, k );
         hb_xfree( cRes );
      }
   }
}
/* END */
From harbour.01 at syenar.hu  Sat Aug  9 14:37:57 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug  9 14:38:10 2008
Subject: [Harbour] hb_run vs __run vs hbrun vs __hrbrun vs winexec
In-Reply-To: <489DCF9E.2000804@gmail.com>
References: <9257026e0808090044u699332das2aa23511948143f9@mail.gmail.com>
	<26D99F55-9C4E-4E67-9848-BFF73ECFB7A6@syenar.hu>
	<489DCF9E.2000804@gmail.com>
Message-ID: <70EC4E27-61A9-4EC1-9BB4-E79A0D5C0D39@syenar.hu>

Hi Xavi,

Many thanks, in its current form, we can add it to hbw32.lib.
I'd suggest to do this after the release.

Brgds,
Viktor

On 2008.08.09., at 19:10, Xavi wrote:

> Hi Viktor,
>
> For my part is no objection to incorporate _RunHide() in the  
> project, with the name you want and where you want.
>
> http://groups.google.com/group/comp.lang.xharbour/browse_thread/thread/3378461f63826ce0/f842512cc396adf6#f842512cc396adf6
> 	
> But I would like that a linux C coder adapt to the system.
>
> Best regards,
> Xavi
>
> Szak?ts Viktor escribi?:
>>>
>> Hi Lorenzo,
>>> There are some old tests that still use hb_run as "__hrbrun".
>> Well, that was not your point, but IMO __hrb*() functions should
>> be named hb_hrb*() since they are not really internal features
>> anymore.
>> Should we do it now?
>>> Moreover we now have an util called hbrun which is more an "hrbrun".
>> Name stayed for compatibility reasons, I'd have better liked
>> hbdot, and it's still not too late to change it. If groups agreed
>> I can do it.
>>> Sorry for the "word game", but I was looking for the differences
>>> between __RUN and HB_RUN and it took me a while to get the right  
>>> info
>>> so this may confuse users too.
>> I think the only difference is that HB_RUN() is in the documented
>> namespace, and it does return an errorlevel, while __RUN() is a
>> compatibility internal command with no return value. Otherwise
>> they do the same.
>>> I was looking for it because I need to start an harbour app "in
>>> background". Under Unix is as easy as add an "&" at the end of the
>>> string but under Win you need sth like WinExec to achieve the same
>>> result.
>>>
>>> I wonder if instead of using sth like:
>>>
>>> #if __PLATFORM__WINDOWS
>>>   WinExec( CmdStr )
>>> #else
>>>   __RUN( CmdStr + " &" )
>>> #endif
>>>
>>> we could add a second parameter to HB_RUN like "fore/back" to get a
>>> more elegant solution ( even because WinExec is not in std libs ).
>> For this I'd suggest to add something to hbw32.lib. Not only  
>> background,
>> but also minimized, hidden, dont-wait-to-terminate (solvabe with  
>> direct
>> CreateProcess() call only AFAIK) etc can be other options on Windows.
>> You might also already use ShellExecute(), this is also Win and even
>> shell specific, and not portable in a clean way.
>> Anyway, if there would be a portable way to solve any of this, it  
>> would
>> be great, I agree.
>> Brgds,
>> Viktor
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> /*
> * Harbour Project source code:
> * _RUNHIDE & FILTEROUTCON functions
> *
> * Copyright 2008 Xavi <jarabal/at/gmail.com>
> *
> * This program is free software; you can redistribute it and/or modify
> * it under the terms of the GNU General Public License as published by
> * the Free Software Foundation; either version 2, or (at your option)
> * any later version.
> *
> * This program is distributed in the hope that it will be useful,
> * but WITHOUT ANY WARRANTY; without even the implied warranty of
> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
> * GNU General Public License for more details.
> *
> * You should have received a copy of the GNU General Public License
> * along with this software; see the file COPYING.  If not, write to
> * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
> * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/) 
> .
> *
> * As a special exception, the Harbour Project gives permission for
> * additional uses of the text contained in its release of Harbour.
> *
> * The exception is that, if you link the Harbour libraries with other
> * files to produce an executable, this does not by itself cause the
> * resulting executable to be covered by the GNU General Public  
> License.
> * Your use of that executable is in no way restricted on account of
> * linking the Harbour library code into it.
> *
> * This exception does not however invalidate any other reasons why
> * the executable file might be covered by the GNU General Public  
> License.
> *
> * This exception applies only to the code released by the Harbour
> * Project under the name Harbour.  If you copy code from other
> * Harbour Project or Free Software Foundation releases into a copy of
> * Harbour, as the General Public License permits, the exception does
> * not apply to the code that you add in this way.  To avoid misleading
> * anyone as to the status of such modified files, you must delete
> * this exception notice from them.
> *
> * If you write modifications of your own for Harbour, it is your  
> choice
> * whether to permit this exception to apply to your modifications.
> * If you do not wish that, delete this exception notice.
> *
> */
>
> #include "hbapi.h"
> #include "hbapiitm.h"
> #include "hbapierr.h"
>
> /* TODO: S.O. Implementations. Now only Windows */
> #include <windows.h>
>
> / 
> *******************************************************************************
> * RUN HIDE PROCESS CAPTURING OUTPUT
> * ---------------------------------
> * nRes := _RunHide( @cOut, cCmd )
> *******************************************************************************/
>
> #define DK_FACSIZE 4
> #define DK_BUFSIZE 4096
>
> HB_FUNC( _RUNHIDE )
> {
>   char *cCmd = hb_parc(2);
>   PHB_ITEM pItmOut = hb_param( 1, HB_IT_STRING );
>
>   if( !cCmd || !pItmOut || !ISBYREF( 1 ) ){
>      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, "_RUNHIDE", 2,  
> hb_paramError(1), hb_paramError(2) );
>   }else{
>      STARTUPINFO si;
>      SECURITY_ATTRIBUTES sa;
>      PROCESS_INFORMATION pi;
>      HANDLE hRPipe, hWPipe;
>      char *cOut, cBuffer[DK_BUFSIZE];
>      ULONG ulRes, ulBytes, ulRead, ulOff, ulMax;
>
>      sa.nLength = sizeof(SECURITY_ATTRIBUTES);
>      sa.lpSecurityDescriptor = NULL;
>      sa.bInheritHandle = TRUE;
>
>      if( !CreatePipe( &hRPipe, &hWPipe, &sa, 0 ) ){
>         hb_errRT_BASE_SubstR( EG_ARG, 0, "Create stdout pipe",  
> "_RUNHIDE", 0 ); return;
>      }
>
>      GetStartupInfo( &si );
>      si.dwFlags = STARTF_USESTDHANDLES | STARTF_USESHOWWINDOW;
>      si.wShowWindow = SW_HIDE;
>      si.hStdOutput = si.hStdError = hWPipe;
>      si.hStdInput = NULL;
>
>      if( !CreateProcess( NULL, cCmd, NULL, NULL, TRUE,  
> DETACHED_PROCESS, NULL, NULL, &si, &pi ) ){
>         CloseHandle( hRPipe ); CloseHandle( hWPipe );
>         hb_errRT_BASE_SubstR( EG_ARG, 0, "CreateProcess",  
> "_RUNHIDE", 0 ); return;
>      }
>
>      ulOff = hb_itemGetCLen( pItmOut );
>      ulMax = ulOff + (DK_FACSIZE * DK_BUFSIZE);
>      cOut = (char *)hb_xgrab( ulMax );
>      memcpy( cOut, hb_itemGetCPtr( pItmOut ), ulOff );
>
>      for(;;){
>         GetExitCodeProcess( pi.hProcess, &ulRes );
>         if( ulRes != STILL_ACTIVE ) break;
>
>         PeekNamedPipe( hRPipe, NULL, 0, NULL, &ulBytes, NULL );
>         if( ulBytes > 0 ){
>            ReadFile( hRPipe, cBuffer, DK_BUFSIZE, &ulRead, NULL );
>            if( ulOff + ulRead > ulMax ){
>               ulMax += DK_FACSIZE * DK_BUFSIZE;
>               cOut = (char *)hb_xrealloc( cOut, ulMax );
>            }
>            memcpy( cOut + ulOff, cBuffer, ulRead );
>            ulOff += ulRead;
>         }
>         Sleep( 10 );
>      }
>      do{
>         PeekNamedPipe( hRPipe, NULL, 0, NULL, &ulBytes, NULL );
>         if( ulBytes > 0 ){
>            ReadFile( hRPipe, cBuffer, DK_BUFSIZE, &ulRead, NULL );
>            if( ulOff + ulRead > ulMax ){
>               ulMax += DK_FACSIZE * DK_BUFSIZE;
>               cOut = (char *)hb_xrealloc( cOut, ulMax );
>            }
>            memcpy( cOut + ulOff, cBuffer, ulRead );
>            ulOff += ulRead;
>         }
>      }while( ulBytes > 0 );
>
>      CloseHandle( hRPipe ); CloseHandle( hWPipe );
>      hb_itemPutCL( pItmOut, cOut, ulOff );
>      hb_retnl( ulRes );
>      hb_xfree( cOut );
>   }
> }
>
> / 
> *******************************************************************************
> * FILTER OUTPUT CONSOLA PROCESSING \r & \n
> * ----------------------------------------
> * FilterOutCon( @cOut )
> *******************************************************************************/
> HB_FUNC( FILTEROUTCON )
> {
>   PHB_ITEM pItmOut = hb_param( 1, HB_IT_STRING );
>
>   if( !pItmOut || !ISBYREF( 1 ) ){
>      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, "FILTEROUTCON", 1,  
> hb_paramError(1) );
>   }else{
>      char *cRes, *cOut = hb_itemGetCPtr( pItmOut );
>      ULONG n, i, k, ulLen = hb_itemGetCLen( pItmOut );
>
>      if( ulLen > 0 ){
>         cRes = (char *)hb_xgrab( ulLen );
>         for( n = i = k = 0; i < ulLen; i++ ){
>            if( cOut[i] == '\r' && cOut[i+1] != '\n') k = n;
>            else cRes[k++] = cOut[i];
>            if( cOut[i] == '\n' ) n = k;
>         }
>         hb_itemPutCL( pItmOut, cRes, k );
>         hb_xfree( cRes );
>      }
>   }
> }
> /* END */
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Aug  9 14:40:05 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug  9 14:40:13 2008
Subject: [Harbour] Release 1.0.0 Final #5
Message-ID: <E869EA84-8CFB-4144-A1C7-F8C6A91865CD@syenar.hu>

Hi all,

Problems:
	NOTE: bash change can be safely reverted.

Pending:
- WinCE (CE-MinGW, MSVC)
- HPUX
- SunOS
- Other Linux distros

Passed:
- Windows
	BCC 5.51
	BCC 5.82
	GCC MinGW 3.45 bash
	GCC MinGW 4.12
	GCC MinGW 4.12 bash
	GCC MinGW 4.31a bash
	MSVC 6 (ODBC problems)
	MSVC 12
	MSVS 2005
	MSVS 2005 C++
	MSVS 2008
	MSVS 2008 C++
	MSVS 2008 64 bit (known failure)
	MSVS 2008 C++ 64 bit
	PellesC 4.5
	PellesC 5.0
	PellesC 5.0 64 bit
- OSX
	GCC 4.01 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 PPC and Intel +  
XCode 3.1) full
	GCC (Leopard 10.5.4 PPC + XCode 3.0)
- Linux
	GCC 4.23 (Ubuntu 8) full
	GCC 4.30 (Fedora)
- DOS
	GCC DJGPP 4.23 32 bit

Brgds,
Viktor

From mbelgrano at deltain.it  Sat Aug  9 16:11:53 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Aug  9 16:12:06 2008
Subject: [Harbour] How to download and compile last version of harbourfrom
	svn on ubuntu 8.4.01
In-Reply-To: <20080809150936.GA1693@34-mo7-2.acn.waw.pl>
References: <AFB948164110ED43B5EB849E8DEEF03815EED1@SRV02.deltain.net>
	<20080809150936.GA1693@34-mo7-2.acn.waw.pl>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EED2@SRV02.deltain.net>

>I suggest to drop root acount for above and always build Harbour
>binaries from non root acount. I suggest it for all programs.
>A small typo in build scripts may cause that your system will
>be demaged.

Thanks for information

>This works but if you are using Ubuntu then you can create native .deb
>packages by:
>   ./make_deb.sh
>and then simply install harbour*.deb file in your system

How can I install?
.
>> How can I compile follow  sample in gtxwc and gttrm and other linux
gt
>> ??
>> function main()
>> do while .t.
>>    setcolor("w/n")
>>    clear screen
>>    dummy:="N"
>>    @ 3,3 say "Hello World" color "w/r"
>>    @ 4,3 say "I am harbour!-)" color "w/b"
>>    @ 5,3 say "Do you want exit? "
>>    @ row(), col()+1 get dummy picture "@K!"
>>    read
>>    if dummy=="Y"
>>       clear screen
>>       quit
>>    endif
>>    @ 8,10 say "Ok You don't want exit from application"
>>    inkey(2)
>> enddo
>> return nil

>hbmk -n -w -es2 test.prg
hbmk -n  -es2 test.prg
Made ---it generate test executable but if i type test it doesn't
display none
what I must add for gtxwc?
How can I compile sample in harbour/test?

Hbmk is very good tools will be usefull also for BCC user, what do you
think about converting it to prg?
If Can you give me same indication I will try

From harbour.01 at syenar.hu  Sat Aug  9 16:34:26 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug  9 16:34:24 2008
Subject: [Harbour] 2008-08-09 21:44 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fa5f$Blat.v2.6.2$50d944f4$30d09f64d0ee@127.0.0.1>

2008-08-09 21:44 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/whatsnew.txt
     * Minor corrections.

   * contrib/hbclipsm/Makefile
   * contrib/hbclipsm/common.mak
   * contrib/hbclipsm/num.c
   + contrib/hbclipsm/numfloor.c
   + contrib/hbclipsm/numceil.c
     * Moved CEILING() and FLOOR() to separate source files 
       to lessen the impact with colliding function names in 
       hbct.lib.
--
Brgds,
Viktor

From philb at philb.us  Sun Aug 10 03:16:33 2008
From: philb at philb.us (Phil Barnett)
Date: Sun Aug 10 03:16:35 2008
Subject: [Harbour] (x)Harbour Corner
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EECF@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815EECF@SRV02.deltain.net>
Message-ID: <200808100316.33861.philb@philb.us>

On Saturday 09 August 2008 07:26:11 am Massimo Belgrano wrote:
> There is same interesting information about (x)harbour in this web site
>
> : http://geocities.yahoo.com.br/angeiras/
>
> Is present also a documentation of gtwvw ( mix traditional SAY/GET with
> HUI elements for an easy and fast migration with .Multiple Windows
> Support and some native Windows controls as statusbar, toolbars,
> textbar, scrollbars
> and pushbuttons).

Massimo,

Can you please put this type of non developer posting on Harbour-Users mailing 
list in the future? I'd like to keep this list directly for development 
details.

-- 
Waiting for sunspots.
From dmacias at mail.udg.mx  Sun Aug 10 04:06:14 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Aug 10 04:06:03 2008
Subject: [Harbour] Re: Release 1.0.0 Final #5
In-Reply-To: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
Message-ID: <489EA176.5010109@mail.udg.mx>

Harbour build / run fine under OS/2

rddado.a is created, but I do not know if it apply to OS/2
Should rddado be excluded automatically for OS/2, as for example hbw32 ?

David Macias



From harbour.01 at syenar.hu  Sun Aug 10 04:12:23 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 10 04:12:32 2008
Subject: [Harbour] Re: Release 1.0.0 Final #5
In-Reply-To: <489EA176.5010109@mail.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
	<489EA176.5010109@mail.udg.mx>
Message-ID: <523678AF-B648-4FB1-B324-E69F35185281@syenar.hu>

Hi David,

Does hbodbc compile and work for OS/2? If yes, rddado
might be useful too, but it's just a hunch.

Brgds,
Viktor

On 2008.08.10., at 10:06, David Arturo Macias Corona wrote:

> Harbour build / run fine under OS/2
>
> rddado.a is created, but I do not know if it apply to OS/2
> Should rddado be excluded automatically for OS/2, as for example  
> hbw32 ?
>
> David Macias
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From a.jurkiewicz at abix.info.pl  Sun Aug 10 04:31:21 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Sun Aug 10 04:31:27 2008
Subject: [Harbour] How to download and compile last version of harbourfrom
	svn on ubuntu 8.4.01
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EED2@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815EED1@SRV02.deltain.net>
	<20080809150936.GA1693@34-mo7-2.acn.waw.pl>
	<AFB948164110ED43B5EB849E8DEEF03815EED2@SRV02.deltain.net>
Message-ID: <200808101031.21515.a.jurkiewicz@abix.info.pl>

> >This works but if you are using Ubuntu then you can create native .deb
> >packages by:
> >   ./make_deb.sh
> >and then simply install harbour*.deb file in your system
>
> How can I install?
As usualy in all debians .... sudo dpkg -i harbour*.deb
or maybe apt-get ...

> .
> >.prg
> Made ---it generate test executable but if i type test it doesn't
> display none
> what I must add for gtxwc?
Maybe you should try ./test rather than test ?
Please consider PATH in environment, in UNIX/Linux there is no . (current dir) 
in PATH by default.

Best regards,
Adam
-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu www.abix.info.pl
Gadu-Gadu: 302315
Skype: abix_adamj 
Wsparcie aplikacji: http://groups-beta.google.com/group/abix-rcsoft?hl=pl
From niki at synel.co.il  Sun Aug 10 05:26:51 2008
From: niki at synel.co.il (Chen Kedem)
Date: Sun Aug 10 05:26:50 2008
Subject: [Harbour] RE: harbour.dll revisited
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C031F3B74D4@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C031F3B74D3@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C031F3B74D4@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C031F3B74D7@Mail-yoq.SYNEL-COMPANY.LTD>

I had finally managed to build harbour.dll with CodeGuard

    set HB_BUILD_DLL=yes
    set CFLAGS=-v -y -vG -Od
    set LDFLAGSDLL=cg32.lib
    set LDFLAGS=cg32.lib

both LDFLAGS and LDFLAGSDLL need to be defined. I wonder why it is not needed
to add cg32.lib to normal (no DLL) build when the CodeGuard -vG is set.

The attached ZIP contains same build logs from hbtest.exe and hbtest-dll.exe and there are differences.
(Rev.9128 BCB 5.0 WinNT4.0)


  Chen.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbtest_log.ZIP
Type: application/x-zip-compressed
Size: 3053 bytes
Desc: hbtest_log.ZIP
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080810/94d99110/hbtest_log.bin
From harbour.01 at syenar.hu  Sun Aug 10 05:44:26 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 10 05:44:33 2008
Subject: [Harbour] RE: harbour.dll revisited
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C031F3B74D7@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C031F3B74D3@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C031F3B74D4@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C031F3B74D7@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <C1BD8341-C33F-4242-89CC-34000C8649E6@syenar.hu>

Hi Chen,

I can confirm the hbtest-dll problem, even on MSVC builds.

Brgds,
Viktor

On 2008.08.10., at 11:26, Chen Kedem wrote:

> I had finally managed to build harbour.dll with CodeGuard
>
>    set HB_BUILD_DLL=yes
>    set CFLAGS=-v -y -vG -Od
>    set LDFLAGSDLL=cg32.lib
>    set LDFLAGS=cg32.lib
>
> both LDFLAGS and LDFLAGSDLL need to be defined. I wonder why it is  
> not needed
> to add cg32.lib to normal (no DLL) build when the CodeGuard -vG is  
> set.
>
> The attached ZIP contains same build logs from hbtest.exe and hbtest- 
> dll.exe and there are differences.
> (Rev.9128 BCB 5.0 WinNT4.0)
>
>
>  Chen.
> <hbtest_log.ZIP>_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Aug 10 05:45:04 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 10 05:45:11 2008
Subject: [Harbour] RE: harbour.dll revisited
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C031F3B74D7@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C031F3B74D3@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C031F3B74D4@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C031F3B74D7@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <D0C06684-064F-48BB-9BB5-0671FC764EDF@syenar.hu>

Ops forgot to write, that this problem was not present in rc2.

Brgds,
Viktor

On 2008.08.10., at 11:26, Chen Kedem wrote:

> I had finally managed to build harbour.dll with CodeGuard
>
>    set HB_BUILD_DLL=yes
>    set CFLAGS=-v -y -vG -Od
>    set LDFLAGSDLL=cg32.lib
>    set LDFLAGS=cg32.lib
>
> both LDFLAGS and LDFLAGSDLL need to be defined. I wonder why it is  
> not needed
> to add cg32.lib to normal (no DLL) build when the CodeGuard -vG is  
> set.
>
> The attached ZIP contains same build logs from hbtest.exe and hbtest- 
> dll.exe and there are differences.
> (Rev.9128 BCB 5.0 WinNT4.0)
>
>
>  Chen.
> <hbtest_log.ZIP>_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From niki at synel.co.il  Sun Aug 10 05:52:18 2008
From: niki at synel.co.il (Chen Kedem)
Date: Sun Aug 10 05:52:15 2008
Subject: [Harbour] RE: harbour.dll revisited
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C031F3B74D7@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C031F3B74D3@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C031F3B74D4@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C031F3B74D7@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C031F3B74D8@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

The logs were taken after:

make_b32 clean
set HB_BUILD_DLL=yes
make_b32

with no extra user flags. Today is the first time I run hbtest-dll.exe so I can't tell if this is a new issue or not.
The results of hbtest.exe are the same as to those I got on Jul 20th (Rev. 8983).

  Chen.
From druzus at acn.waw.pl  Sun Aug 10 05:57:49 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Aug 10 05:57:55 2008
Subject: [Harbour] Re: harbour.dll revisited
In-Reply-To: <489998C1.5040100@mail.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
	<489998C1.5040100@mail.udg.mx>
Message-ID: <20080810095749.GA8887@34-mo7-2.acn.waw.pl>

On Wed, 06 Aug 2008, David Arturo Macias Corona wrote:

Hi David,

> > Today I'll try to make some tests with real MS-Windows machine.
> Take care, do not forget your gloves  :-)

:-)

> You can use VirtualBox (virtualbox.org)
> In last months I use VirtualBox to use Windows XP within Linux Mandriva 
> 2008.1 without need to boot partition where I have a "real" Windows XP
> I have not seen differences between "real" WinXP and WinXP within 
> VirtualBox, except speed

The main problem is with license. I do not have non OEM XP version
which I can install and I won't buy it to make some tests with
Harbour MS-Win builds.
But of course VirtualBox is very nice tools to make some tests.
On Monday I'll install OpenSolaris using VirtualBox.

best regards,
Przemek
From mbelgrano at deltain.it  Sun Aug 10 06:06:13 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Aug 10 06:06:32 2008
Subject: [Harbour] How to download and compile last version of
	harbourfromsvn on ubuntu 8.4.01
In-Reply-To: <200808101031.21515.a.jurkiewicz@abix.info.pl>
References: <AFB948164110ED43B5EB849E8DEEF03815EED1@SRV02.deltain.net><20080809150936.GA1693@34-mo7-2.acn.waw.pl><AFB948164110ED43B5EB849E8DEEF03815EED2@SRV02.deltain.net>
	<200808101031.21515.a.jurkiewicz@abix.info.pl>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EED3@SRV02.deltain.net>

Thanks works!
How can I execute .test from file browser or from desktop?
Wich are step for download and compile last svn on  macos leopard?

For download and compile last svn must go Application accessory terminal
and type:
apt-get update; apt-get install wget cvs rcs build-essential ncurses-dev
libslang2-dev tk8.3-dev unixodbc-dev subversion debhelper
cd $HOME
mkdir src
cd src
svn co
https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trun
k/harbour harbour
cd harbour
./make_deb.sh
sudo dpkg -i harbour*.deb

For compiling a sample
hbmk -n  -es2 test.prg
For executing a sample
./test

Wich are step for macos?



-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of ABIX - Adam
Jurkiewicz
Sent: Sunday, August 10, 2008 10:31 AM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] How to download and compile last version of
harbourfromsvn on ubuntu 8.4.01

> >This works but if you are using Ubuntu then you can create native
.deb
> >packages by:
> >   ./make_deb.sh
> >and then simply install harbour*.deb file in your system
>
> How can I install?
As usualy in all debians .... sudo dpkg -i harbour*.deb
or maybe apt-get ...

> .
> >.prg
> Made ---it generate test executable but if i type test it doesn't
> display none
> what I must add for gtxwc?
Maybe you should try ./test rather than test ?
Please consider PATH in environment, in UNIX/Linux there is no .
(current dir) 
in PATH by default.

Best regards,
Adam
-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu www.abix.info.pl
Gadu-Gadu: 302315
Skype: abix_adamj 
Wsparcie aplikacji:
http://groups-beta.google.com/group/abix-rcsoft?hl=pl
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Sun Aug 10 06:17:18 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 10 06:17:25 2008
Subject: [Harbour] Re: harbour.dll revisited
In-Reply-To: <20080810095749.GA8887@34-mo7-2.acn.waw.pl>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
	<489998C1.5040100@mail.udg.mx>
	<20080810095749.GA8887@34-mo7-2.acn.waw.pl>
Message-ID: <08EBE52F-A72C-4E5C-A52B-8BFEC65DA920@syenar.hu>

Hi Przemek,

If you want I can give you Remote Desktop access
to a bare (and mostly unused) Windows installation
(running on the Core2 Mac under VMWare Fusion).

You need to bring the gloves though :)

Brgds,
Viktor

On 2008.08.10., at 11:57, Przemyslaw Czerpak wrote:

> On Wed, 06 Aug 2008, David Arturo Macias Corona wrote:
>
> Hi David,
>
>>> Today I'll try to make some tests with real MS-Windows machine.
>> Take care, do not forget your gloves  :-)
>
> :-)
>
>> You can use VirtualBox (virtualbox.org)
>> In last months I use VirtualBox to use Windows XP within Linux  
>> Mandriva
>> 2008.1 without need to boot partition where I have a "real" Windows  
>> XP
>> I have not seen differences between "real" WinXP and WinXP within
>> VirtualBox, except speed
>
> The main problem is with license. I do not have non OEM XP version
> which I can install and I won't buy it to make some tests with
> Harbour MS-Win builds.
> But of course VirtualBox is very nice tools to make some tests.
> On Monday I'll install OpenSolaris using VirtualBox.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Sun Aug 10 06:19:49 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Aug 10 06:19:55 2008
Subject: [Harbour] RE: harbour.dll revisited
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C031F3B74D7@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C031F3B74D4@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C031F3B74D7@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20080810101949.GB8887@34-mo7-2.acn.waw.pl>

On Sun, 10 Aug 2008, Chen Kedem wrote:

Hi Chen,

> I had finally managed to build harbour.dll with CodeGuard
>     set HB_BUILD_DLL=yes
>     set CFLAGS=-v -y -vG -Od
>     set LDFLAGSDLL=cg32.lib
>     set LDFLAGS=cg32.lib
> both LDFLAGS and LDFLAGSDLL need to be defined. I wonder why it is not needed
> to add cg32.lib to normal (no DLL) build when the CodeGuard -vG is set.

I maybe it's enough to use -vG switch instead of cg32.lib to inform
BCC that it should link with cg32.lib and when the same set of switches
where passed everywhere it was working.

> The attached ZIP contains same build logs from hbtest.exe and hbtest-dll.exe
> and there are differences.
> (Rev.9128 BCB 5.0 WinNT4.0)

It's caused by activating scallar classes in hbextern.ch:

   EXTERNAL HBSCALAR
   EXTERNAL HBARRAY
   EXTERNAL HBBLOCK
   EXTERNAL HBCHARACTER
   EXTERNAL HBDATE
   EXTERNAL HBLOGICAL
   EXTERNAL HBNIL
   EXTERNAL HBNUMERIC

so simple types have their own classes and default HVM error messages
are overloaded by TObject:MSGNOTFOUND.

If you do not want to enable scallar classes then this functions
should be removed from hbextern.ch. We can also hide them by some
macro, f.e.:
   #ifdef HB_REQUEST_SCALLAR
      EXTERNAL HBSCALAR
      EXTERNAL HBARRAY
      EXTERNAL HBBLOCK
      EXTERNAL HBCHARACTER
      EXTERNAL HBDATE
      EXTERNAL HBLOGICAL
      EXTERNAL HBNIL
      EXTERNAL HBNUMERIC
   #endif

best regards,
Przemek
From druzus at acn.waw.pl  Sun Aug 10 06:59:13 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Aug 10 06:59:18 2008
Subject: [Harbour] 2008-08-10 12:58 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808101059.m7AAxD7M013924@31-mo5-4.acn.waw.pl>

2008-08-10 12:58 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbextern.ch
    * include scalar classes only when HB_REQUEST_SCALLAR define is set

  * harbour/source/rtl/tobject.prg
    ! use <obj>:className instead of __objGetClsName( <obj> ) in error
      message

best regards
Przemek
From mbelgrano at deltain.it  Sun Aug 10 08:11:45 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Aug 10 08:12:00 2008
Subject: [Harbour] Wich datatype are supported?
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EED4@SRV02.deltain.net>

Wich datatype are supported by dbfcdx?

Massimo Belgrano

From harbour.01 at syenar.hu  Sun Aug 10 08:27:38 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 10 08:27:48 2008
Subject: [Harbour] mingw32-cegcc build
Message-ID: <CF3E60A5-22CD-45FD-AF27-73A03961F22F@syenar.hu>

Hi Przemek,

I'm trying (for the first time) doing a mingw32ce build on
Ubuntu Server 8.04 and Harbour r9100.

I've installed mingw32ce/cegcc using this command:
sudo alien -i cegcc-cegcc-0.51.0-1.i586.rpm mandriva-cegcc- 
mingw32ce-0.51.0-1.i586.rpm

Then I started:
./make_gnu.sh clean
./make_gnu.sh install
./make_xmingwce.sh

I'm attaching the results. There are some errors in hbwince.c
and a few warnings in gtclip.c and wvgcore.c.

Brgds,
Viktor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: mingwce-ubuntu-r9100.zip
Type: application/zip
Size: 14198 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080810/443ffccd/mingwce-ubuntu-r9100-0001.zip
-------------- next part --------------

From druzus at acn.waw.pl  Sun Aug 10 09:15:03 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Aug 10 09:15:09 2008
Subject: [Harbour] 2008-08-10 15:14 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808101315.m7ADF34R018107@31-mo5-4.acn.waw.pl>

2008-08-10 15:14 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/ChangeLog
  * harbour/include/hbextern.ch
    ! fixed typo, should be HB_REQUEST_SCALAR

best regards
Przemek
From druzus at acn.waw.pl  Sun Aug 10 09:27:18 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Aug 10 09:27:25 2008
Subject: [Harbour] mingw32-cegcc build
In-Reply-To: <CF3E60A5-22CD-45FD-AF27-73A03961F22F@syenar.hu>
References: <CF3E60A5-22CD-45FD-AF27-73A03961F22F@syenar.hu>
Message-ID: <20080810132718.GB17802@34-mo7-2.acn.waw.pl>

On Sun, 10 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> I'm trying (for the first time) doing a mingw32ce build on
> Ubuntu Server 8.04 and Harbour r9100.
> I've installed mingw32ce/cegcc using this command:
> sudo alien -i cegcc-cegcc-0.51.0-1.i586.rpm mandriva-cegcc- 
> mingw32ce-0.51.0-1.i586.rpm
> Then I started:
> ./make_gnu.sh clean
> ./make_gnu.sh install
> ./make_xmingwce.sh
> I'm attaching the results. There are some errors in hbwince.c

../../hbwince.c:660: error: 'LPVOID' redeclared as different kind of symbol
/opt/mingw32ce/lib/gcc/arm-wince-mingw32ce/4.1.0/../../../../arm-wince-mingw32ce/include/winnt.h:88: error: previous declaration of 'LPVOID' was here
../../hbwince.c:664: error: expected ')' before numeric constant
../../hbwince.c:672: error: 'HLOCAL' redeclared as different kind of symbol
/opt/mingw32ce/lib/gcc/arm-wince-mingw32ce/4.1.0/../../../../arm-wince-mingw32ce/include/windef.h:278: error: previous declaration of 'HLOCAL' was here
../../hbwince.c: In function 'HLOCAL':
../../hbwince.c:673: error: expected ';' before 'p'
../../hbwince.c: At top level:
../../hbwince.c:671: warning: unused parameter 'p'

Looks taht LocalLock(), LocalUnlock() and LocalHandle() are defined as
macros in new MinGWCE. (BTW I was using 0.50).
Please change in hbwince.c:

   PVOID WINAPI LocalLock( HLOCAL h )
   {
      return ( PVOID ) h;
   }

   BOOL WINAPI LocalUnlock( HLOCAL h )
   {
      HB_SYMBOL_UNUSED( h );
      return FALSE;
   }

   HLOCAL WINAPI LocalHandle( LPCVOID p )
   {
      return ( HLOCAL ) p;
   }

to:

   #ifndef LocalLock
   PVOID WINAPI LocalLock( HLOCAL h )
   {
      return ( PVOID ) h;
   }
   #endif

   #ifndef LocalUnlock
   BOOL WINAPI LocalUnlock( HLOCAL h )
   {
      HB_SYMBOL_UNUSED( h );
      return FALSE;
   }
   #endif

   #ifndef LocalHandle
   HLOCAL WINAPI LocalHandle( LPCVOID p )
   {
      return ( HLOCAL ) p;
   }
   #endif

> and a few warnings in gtclip.c and wvgcore.c.

GlobalUnlock has to be also macro which gives such effect.
We can ignore it or we can try to redefine this macro in
hbwince.h to pacify warning.

best regards,
Przemek
From harbour.01 at syenar.hu  Sun Aug 10 09:49:01 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 10 09:49:08 2008
Subject: [Harbour] mingw32-cegcc build
In-Reply-To: <20080810132718.GB17802@34-mo7-2.acn.waw.pl>
References: <CF3E60A5-22CD-45FD-AF27-73A03961F22F@syenar.hu>
	<20080810132718.GB17802@34-mo7-2.acn.waw.pl>
Message-ID: <006806D3-5492-4565-A14B-F62050556A2F@syenar.hu>

Hi Przemek,

> Looks taht LocalLock(), LocalUnlock() and LocalHandle() are defined as
> macros in new MinGWCE. (BTW I was using 0.50).
> Please change in hbwince.c:

Thanks, that cleared it.

You're right in winbase.h these functions are #defined to ((LPVOID)(H)).

>> and a few warnings in gtclip.c and wvgcore.c.
>
> GlobalUnlock has to be also macro which gives such effect.
> We can ignore it or we can try to redefine this macro in
> hbwince.h to pacify warning.

Okay. Not a big problem, but if we can pacify in a safe
way, even better.

Brgds,
Viktor

From mbelgrano at deltain.it  Sun Aug 10 10:17:15 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Aug 10 10:17:28 2008
Subject: [Harbour] GTWVT API for adding compoment
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EED5@SRV02.deltain.net>

Is possible an api for adding GUI component to gtwvt?

Like in Visual Component Library e`, a lib astract windows api for
windows 

Massimo Belgrano

From druzus at acn.waw.pl  Sun Aug 10 10:17:54 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Aug 10 10:18:00 2008
Subject: [Harbour] 2008-08-10 16:17 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808101417.m7AEHs65004307@31-mo5-4.acn.waw.pl>

2008-08-10 16:17 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    * updated library list for wince harbour.dll linking

  * harbour/source/common/hbwince.c
    ! fixed compilation new MinGWCE

best regards
Przemek
From harbour.01 at syenar.hu  Sun Aug 10 10:23:58 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 10 10:23:55 2008
Subject: [Harbour] 2008-08-10 16:18 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8faf4$Blat.v2.6.2$ba9a24cc$276059c509fc@127.0.0.1>

2008-08-10 16:18 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * config/rules.cf
   * make_b32.mak
   * make_gcc.mak
   * make_vcce.mak
   * make_vc.mak
     * -kM -> -km
     ! Synced make_vcce.mak HBFLAGSCMN flag with make_vc.mak.
       (-gc1 -> -gc0 -km)

   * make_xmingwce.sh
     ! Minor typos.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Aug 10 10:55:34 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 10 10:55:43 2008
Subject: [Harbour] mingw32 cross build problem
Message-ID: <9E045878-70C2-46F9-8300-550341B735E4@syenar.hu>

Hi Przemek,

Continuing with build tests, I'm now trying a mingw32 cross build
on the Ubuntu 8.04.

After apt-get installing mingw32, I did these:
svn export ... (r9132)
./make_gnu.sh
./make_gnu.sh install
./make_xmingw.sh

After that I'm getting this kind of error:
---
/tmp/hb-xmingw-5974/harbour.exe ../../achoice.prg - 
D__PLATFORM__WINDOWS -undef:__PLATFORM__UNIX -undef:__PLATFORM__Linux   
-n -q0 -w3
-es2 -gc0 -km -I../../ -I../../../../include
Error F0034  Bad command line option: 'km'
---

Do you have an idea why?

[ Before my last commit (r9132) the same error was present but with  
'kM' ]

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Aug 10 11:30:01 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 10 11:30:10 2008
Subject: [Harbour] make_xmingw*.sh problem
Message-ID: <BBD13A87-1D20-4C59-AB42-079577590334@syenar.hu>

Hi Przemek,

Another problem I noticed is that __PLATFORM__Linux
is -undef:-ed on the harbour command line in the above two
macros, instead of __PLATFORM__LINUX.

It got slipped from my updates because the macro name is
assembled from a script variable.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Aug 10 11:33:02 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 10 11:33:00 2008
Subject: [Harbour] 2008-08-10 17:32 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fafe$Blat.v2.6.2$6062c202$480c4c9fc8dc@127.0.0.1>

2008-08-10 17:32 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_xmingwce.sh
   * make_xmingw.sh
     ! Fixed to use full uppercase for script generated __PLATFORM__ 
       macros too. Przemek pls check me.
--
Brgds,
Viktor

From mbelgrano at deltain.it  Sun Aug 10 13:07:44 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Aug 10 13:07:52 2008
Subject: [Harbour] Can i update Harbour web site?
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EED6@SRV02.deltain.net>

Can i update Harbour web site?
http://www.harbour-project.org/

Please send here any information regarding page like 3rd party or link
3pardy GUI COMMERCIAL
FIVEWIN
http://www.fivetechsoft.com/english/fwh.html
XAILER GUI Commercial Library with RAD tool (or IDE) to manage design
forms and edit source code.
http://www.xailer.com/
3pardy GUI OPEN SOURCE
Harbour MiniGUI (HMG) a xBase WIN32 / GUI Development System based on
Harbour MiniGUI library, Harbour MiniGUI IDE, Harbour compiler and MingW
compiler. Ready to use
http://harbourminigui.googlepages.com/
http://sourceforge.net/projects/harbourminigui/
MiniGUI UNNOFICIAL BUILD WITH EXTENDED NEW FEATURES
http://www.hmgextended.com/
Object-Oriented Harbour Graphical interface. from the MiniGUI's lib.
http://sourceforge.net/projects/oohg/
Hwgui use win32 api and gtk for linux 
http://sourceforge.net/projects/hwgui/
wxHarbour bindings for wxWidgets. multi-platform GUI toolkit for
[x]Harbour http://sourceforge.net/projects/wxharbour/
HbWxW - A Multiplatform GUI Library for Harbour  
http://harbour.fm.interia.pl/
xbGTK 
http://xbgtk.sourceforge.net/index.php?TITLE=Home
xHGtk: multplataform GUI library for harbour and xHarbour. Use GTK+ to
create programs that can run in Windows and Linux. 
http://sourceforge.net/projects/xhgtk/
t-gtk. Library GUI for compilers Harbour and xHarbour under GTK+
http://sourceforge.net/projects/t-gtk/



Massimo Belgrano

From philb at philb.us  Sun Aug 10 13:24:28 2008
From: philb at philb.us (Phil Barnett)
Date: Sun Aug 10 13:24:31 2008
Subject: [Harbour] Can i update Harbour web site?
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EED6@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815EED6@SRV02.deltain.net>
Message-ID: <200808101324.29057.philb@philb.us>

On Sunday 10 August 2008 01:07:44 pm Massimo Belgrano wrote:
> Can i update Harbour web site?
> http://www.harbour-project.org/

Looks like a good update for this page:

http://www.harbour-project.org/links.htm

-- 
Waiting for sunspots.
From mbelgrano at deltain.it  Sun Aug 10 13:43:00 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Aug 10 13:43:05 2008
Subject: [Harbour] Can i update Harbour web site?
In-Reply-To: <200808101324.29057.philb@philb.us>
References: <AFB948164110ED43B5EB849E8DEEF03815EED6@SRV02.deltain.net>
	<200808101324.29057.philb@philb.us>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EED7@SRV02.deltain.net>

http://www.harbour-project.org/
http://www.harbour-project.org/3rdparty.htm
http://www.harbour-project.org/links.htm


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Phil Barnett
Sent: Sunday, August 10, 2008 7:24 PM
To: harbour@harbour-project.org
Subject: Re: [Harbour] Can i update Harbour web site?

On Sunday 10 August 2008 01:07:44 pm Massimo Belgrano wrote:
> Can i update Harbour web site?
> http://www.harbour-project.org/

Looks like a good update for this page:

http://www.harbour-project.org/links.htm

-- 
Waiting for sunspots.
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Sun Aug 10 18:50:59 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 10 18:51:07 2008
Subject: [Harbour] Release 1.0.0 Final #6
Message-ID: <25C1D326-DA8B-4926-951E-D1DD2D00470B@syenar.hu>

Hi all,

Problems:
- bash change can be safely reverted.
- MinGW cross compile possible failure (?)

Pending:
- WinCE (MSVC)
- HPUX
- SunOS
- Other Linux distros

Passed:
- Windows
	BCC 5.51
	BCC 5.82
	GCC MinGW 3.4.5 (on msys 1.0.10 bash)
	GCC MinGW 4.1.2
	GCC MinGW 4.1.2 (on msys 1.0.10 bash)
	GCC MinGW 4.2.1 (cross compile on Ubuntu 8.04) (FAILED)
	GCC MinGW 4.3.1a (on msys 1.0.10 bash)
	MSVC 6 (ODBC problems)
	MSVC 12
	MSVS 2005
	MSVS 2005 C++
	MSVS 2008
	MSVS 2008 C++
	MSVS 2008 64 bit (known failure)
	MSVS 2008 C++ 64 bit (cross-compile on Win32)
	PellesC 4.5
	PellesC 5.0
	PellesC 5.0 64 bit (cross-compile on Win32)
- WinCE
	GCC 4.0.1 (mingw32ce 0.51.0) (cross-compile on Ubuntu 8.04)
- OS/2
	GCC ?.?.?
- OSX
	GCC 4.0.1 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 PPC + XCode 3.1)
	GCC 4.0.1 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 Intel + XCode 3.1)
	GCC (Leopard 10.5.4 PPC + XCode 3.0) (non-default)
- Linux
	GCC 4.2.3 (Ubuntu 8.04)
	GCC 4.3.0 (Fedora) (non-default)
- DOS
	GCC DJGPP 4.2.3 32 bit

Brgds,
Viktor

From a.jurkiewicz at abix.info.pl  Mon Aug 11 04:49:41 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Mon Aug 11 04:49:48 2008
Subject: [Harbour] Release 1.0.0 Final #6
In-Reply-To: <25C1D326-DA8B-4926-951E-D1DD2D00470B@syenar.hu>
References: <25C1D326-DA8B-4926-951E-D1DD2D00470B@syenar.hu>
Message-ID: <200808111049.42093.a.jurkiewicz@abix.info.pl>

Dnia poniedzia?ek, 11 sierpnia 2008, Szak?ts Viktor napisa?:
> Hi all,
SuSE Linux 10.3 ( gcc (GCC) 4.2.1 (SUSE Linux) ) compiles fine with hbgtmk.sh, 
which calls mare_rpm.sh without any special parameters.

best regards,
Adam
-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu www.abix.info.pl
Gadu-Gadu: 302315
Skype: abix_adamj 
Wsparcie aplikacji: http://groups-beta.google.com/group/abix-rcsoft?hl=pl
From harbour.01 at syenar.hu  Mon Aug 11 05:03:04 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 05:03:11 2008
Subject: [Harbour] 2008-08-11 11:02 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fb91$Blat.v2.6.2$10a73007$48e4d478c3de@127.0.0.1>

2008-08-11 11:02 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_vcce.mak
     * Minor cosmetic sync with make_vc.mak

   * hbgtmk.sh
     ! Minor typos.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 11 05:10:53 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 05:11:00 2008
Subject: [Harbour] Release 1.0.0 Final #7
Message-ID: <42B979F6-3172-42F9-A96B-17A707D722F4@syenar.hu>

Hi all,

Problems/TODOs:
- bash change can be safely reverted.
- MinGW cross compile possible failure (?)

Pending platforms:
- WinCE (MSVC)
- HPUX
- SunOS
- Other Linux distros (Mandriva, Slackware)

Tested platforms:
- Windows
	BCC 5.51
	BCC 5.82
	GCC MinGW 3.4.5 (on msys 1.0.10)
	GCC MinGW 4.1.2
	GCC MinGW 4.1.2 (on msys 1.0.10)
	GCC MinGW 4.2.1 (cross compile on Ubuntu 8.04) (FAILED)
	GCC MinGW 4.3.1a (on msys 1.0.10)
	MSVC 6 (ODBC problems)
	MSVC 12
	MSVS 2005
	MSVS 2005 C++
	MSVS 2008
	MSVS 2008 C++
	MSVS 2008 64 bit (FAILED - known)
	MSVS 2008 C++ 64 bit (cross-compile on Win32)
	PellesC 4.5
	PellesC 5.0
	PellesC 5.0 64 bit (cross-compile on Win32)
- WinCE
	GCC 4.0.1 (mingw32ce 0.51.0) (cross-compile on Ubuntu 8.04)
- Linux
	GCC 4.2.3 (Ubuntu 8.04)
	GCC 4.3.0 (Fedora) (non-default build)
         GCC 4.2.1 (SuSE 10.3)
- OSX
	GCC 4.0.1 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 PPC + XCode 3.1)
	GCC 4.0.1 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 Intel + XCode 3.1)
	GCC (Leopard 10.5.4 PPC + XCode 3.0) (non-default build)
- OS/2
	GCC ?.?.?
- DOS
	GCC DJGPP 4.2.3 32 bit

Brgds,
Viktor

From mbelgrano at deltain.it  Mon Aug 11 05:14:05 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Aug 11 05:14:20 2008
Subject: [Harbour] OFF LINE
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EED8@SRV02.deltain.net>

I will be off-line for about 2 weeks
If not found a wifi connection in Chania, Greece
About website I have updated for harbour 1.0, please post here any
suggestion.
I request to same guru or English people to write presentation of
harbour 1.0

Massimo Belgrano



From harbour.01 at syenar.hu  Mon Aug 11 06:13:52 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 06:14:02 2008
Subject: [Harbour] SVN: Created branch harbour-1.0 + website
Message-ID: <8C17A6AB-15D7-4D31-B8FE-749757B4CABC@syenar.hu>

Hi all,

As a next step towards the release, I've created a new branch
called harbour-1.0 in the 'branches' section. From this
point on please submit any pending and future 1.0.x updates
(including any changes still pending for 1.0.0) to this
branch.

URL for this branch:
https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/branches/harbour-1.0

(to use it, checkout the URL with 'svn co' and work on it
as usual)

I will tag 1.0.0 based on branch harbour-1.0 as soon as
we have finished testing all platforms, this should happen
pretty shortly.

 From this point on in the _main branch_, we can continue
developing Harbour towards 1.1. The main branch will now
essentially become 'Harbour-1.1dev'.

The release will could well use the support of our homepage,
but in it's current form I think this is pretty difficult.
There could be named dozens of problems with it, and due to
our short resources, the best alternative IMO would still
be to use a wiki page, where everyone could easily do updates
and correct errors. I'd prefer MediaWiki as the wiki the most
commonly used. We may limit editing it with passwords, if
this is a concern.

Phil, do you see any chance get that up and running?

Another minor thing: It was already reported AFAIK, but
the harbour-users web archive page is showing the list address
as the sender for all messages.

And another info: The sf.net download statistics and
counters started to work again.

Brgds,
Viktor

From mbelgrano at deltain.it  Mon Aug 11 07:56:54 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Aug 11 07:57:06 2008
Subject: [Harbour] SVN: Created branch harbour-1.0 + website
In-Reply-To: <8C17A6AB-15D7-4D31-B8FE-749757B4CABC@syenar.hu>
References: <8C17A6AB-15D7-4D31-B8FE-749757B4CABC@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EED9@SRV02.deltain.net>

Is possible send a mail to all storical harbour developer/user Announcing  harbour 1.0?


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Monday, August 11, 2008 12:14 PM
To: Harbour Project Main Developer List.
Subject: [Harbour] SVN: Created branch harbour-1.0 + website


The release will could well use the support of our homepage,
but in it's current form I think this is pretty difficult.
There could be named dozens of problems with it, and due to
our short resources, the best alternative IMO would still
be to use a wiki page, where everyone could easily do updates
and correct errors. I'd prefer MediaWiki as the wiki the most
commonly used. We may limit editing it with passwords, if
this is a concern.

Phil, do you see any chance get that up and running?

Another minor thing: It was already reported AFAIK, but
the harbour-users web archive page is showing the list address
as the sender for all messages.

And another info: The sf.net download statistics and
counters started to work again.

Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Mon Aug 11 08:10:01 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 08:10:09 2008
Subject: [Harbour] SVN: Created branch harbour-1.0 + website
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EED9@SRV02.deltain.net>
References: <8C17A6AB-15D7-4D31-B8FE-749757B4CABC@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815EED9@SRV02.deltain.net>
Message-ID: <8CECF69B-9E5D-4EE8-A383-B28A971E3AFE@syenar.hu>

>
Hi Massimo,

> Is possible send a mail to all storical harbour developer/user  
> Announcing  harbour 1.0?

Probably, but I'm not sure I'd be happy to find myself
on such an announcement list without my permission. Let
the group decide though. Those who are currently
interested are probably on one of the harbour lists, and
there are proper public places where such an announcement
can be made (like our lists, our sf.net page, "non-official"
Harbour/xhb newsgroups and forums, 3rd party product
pages/forums/lists, OSS forums, and last but not least
our homepage (which is in a shamefully bad state IMO, sorry).

BTW, the 1.0.0 whatsnew section on our page is missing
some elements (pls see latest doc/whatsnew.txt in current
SVN), if you can still update it, I'd appreciate.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 11 10:01:20 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 10:01:32 2008
Subject: [Harbour] 2008-08-11 15:58 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fbba$Blat.v2.6.2$bb0419bf$1cb067ac4bc@127.0.0.1>

2008-08-11 15:58 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * config/sunos/gcc.cf
     ! Fixed to include required system libs for hbinet.c.
     - Removed HB_OS_SUNOS command-line macro. Now relying on 
       autodetection.

   * include/hbsetup.h
     * Extended autodetection for HB_OS_SUNOS.

   * source/vm/itemapi.c
     ! Fixed to check for HB_OS_SUNOS macro after 
       including Harbour headers.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 11 10:02:35 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 10:02:45 2008
Subject: [Harbour] [1.0] 2008-08-11 15:58 UTC+0200 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8fbba$Blat.v2.6.2$e84e6565$2d14e954e4c4@127.0.0.1>

2008-08-11 15:58 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * config/sunos/gcc.cf
     ! Fixed to include required system libs for hbinet.c.
     - Removed HB_OS_SUNOS command-line macro. Now relying on 
       autodetection.

   * include/hbsetup.h
     * Extended autodetection for HB_OS_SUNOS.

   * source/vm/itemapi.c
     ! Fixed to check for HB_OS_SUNOS macro after 
       including Harbour headers.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 11 10:03:54 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 10:04:03 2008
Subject: [Harbour] Release 1.0.0 Final #8
Message-ID: <FFAEAF6E-8E31-4A6E-A35C-ED1C77057210@syenar.hu>

Hi all,

Problems/TODOs:
- MinGW cross compile possible failure (?)
[ - bash change can be safely reverted. (POSTPONED) ]

Pending platforms:
- WinCE (MSVC)
- HPUX
- Other Linux distros (Mandriva, Slackware)

Tested platforms:
- Windows
	BCC 5.51
	BCC 5.82
	GCC MinGW 3.4.5 (on msys 1.0.10)
	GCC MinGW 4.1.2
	GCC MinGW 4.1.2 (on msys 1.0.10)
	GCC MinGW 4.2.1 (cross compile on Ubuntu 8.04) (FAILED)
	GCC MinGW 4.3.1a (on msys 1.0.10)
	MSVC 6 (ODBC problems)
	MSVC 12
	MSVS 2005
	MSVS 2005 C++
	MSVS 2008
	MSVS 2008 C++
	MSVS 2008 64 bit (FAILED - known)
	MSVS 2008 C++ 64 bit (cross-compile on Win32)
	PellesC 4.5
	PellesC 5.0
	PellesC 5.0 64 bit (cross-compile on Win32)
- WinCE
	GCC 4.0.1 (mingw32ce 0.51.0) (cross-compile on Ubuntu 8.04)
- Linux
	GCC 4.2.3 (Ubuntu 8.04)
	GCC 4.3.0 (Fedora) (non-default build)
	GCC 4.2.1 (SuSE 10.3)
- OSX
	GCC 4.0.1 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 PPC + XCode 3.1)
	GCC 4.0.1 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 Intel + XCode 3.1)
	GCC (Leopard 10.5.4 PPC + XCode 3.0) (non-default build)
- SunOS
	GCC 3.4.3 i86pc (SunOS 5.11 - OpenSolaris 2008.05)
- OS/2
	GCC ?.?.?
- DOS
	GCC DJGPP 4.2.3 32 bit

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 11 10:08:27 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 10:08:37 2008
Subject: [Harbour] SunOS screenshot
Message-ID: <72534172-0237-4C20-B6CD-66779F0D69E9@syenar.hu>

A non-text attachment was scrubbed...
Name: hbsunos2.png
Type: image/png
Size: 10980 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080811/8f830e88/hbsunos2.png
-------------- next part --------------


From lorenzo.fiorini at gmail.com  Mon Aug 11 10:18:46 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Aug 11 10:18:52 2008
Subject: [Harbour] Release 1.0.0 Final #8
In-Reply-To: <FFAEAF6E-8E31-4A6E-A35C-ED1C77057210@syenar.hu>
References: <FFAEAF6E-8E31-4A6E-A35C-ED1C77057210@syenar.hu>
Message-ID: <9257026e0808110718s484a2effo39de61fa4f785f29@mail.gmail.com>

On Mon, Aug 11, 2008 at 4:03 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Problems/TODOs:
> - MinGW cross compile possible failure (?)

I've just tried ./make_xmingw.sh using
http://sourceforge.net/projects/mingw-cross under Fedora 9 and it
works as expected.

What kind of failure do you get?

The main problem in cross-compiling are the external libs ( f.e. I
cannot easily build hbpgsql and hbgd ).

best regards,
Lorenzo
From harbour.01 at syenar.hu  Mon Aug 11 10:25:32 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 10:25:42 2008
Subject: [Harbour] Release 1.0.0 Final #8
In-Reply-To: <9257026e0808110718s484a2effo39de61fa4f785f29@mail.gmail.com>
References: <FFAEAF6E-8E31-4A6E-A35C-ED1C77057210@syenar.hu>
	<9257026e0808110718s484a2effo39de61fa4f785f29@mail.gmail.com>
Message-ID: <DD29307B-1230-4402-86CD-FE96579630DD@syenar.hu>

Hi Lorenzo,

Here is what I'm getting [on Ubuntu 8.04 after 'apt-get install  
mingw32',
and after having built/installed Harbour the regular way]:
---
/tmp/hb-xmingw-5974/harbour.exe ../../achoice.prg - 
D__PLATFORM__WINDOWS -undef:__PLATFORM__UNIX -undef:__PLATFORM__LINUX   
-n -q0 -w3
-es2 -gc0 -km -I../../ -I../../../../include
Error F0034  Bad command line option: 'km'
---

It can be that I'm doing something wrong, but I cannot
imagine what. Or maybe something obvious, but nevertheless
I have no idea at this moment, this looks a bit strange.

Brgds,
Viktor

On 2008.08.11., at 16:18, Lorenzo Fiorini wrote:

> On Mon, Aug 11, 2008 at 4:03 PM, Szak?ts Viktor <harbour. 
> 01@syenar.hu> wrote:
>
>> Problems/TODOs:
>> - MinGW cross compile possible failure (?)
>
> I've just tried ./make_xmingw.sh using
> http://sourceforge.net/projects/mingw-cross under Fedora 9 and it
> works as expected.
>
> What kind of failure do you get?
>
> The main problem in cross-compiling are the external libs ( f.e. I
> cannot easily build hbpgsql and hbgd ).
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Mon Aug 11 10:55:25 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Aug 11 10:55:31 2008
Subject: [Harbour] Release 1.0.0 Final #8
In-Reply-To: <DD29307B-1230-4402-86CD-FE96579630DD@syenar.hu>
References: <FFAEAF6E-8E31-4A6E-A35C-ED1C77057210@syenar.hu>
	<9257026e0808110718s484a2effo39de61fa4f785f29@mail.gmail.com>
	<DD29307B-1230-4402-86CD-FE96579630DD@syenar.hu>
Message-ID: <9257026e0808110755l57db328bi575d582591e1adc4@mail.gmail.com>

On Mon, Aug 11, 2008 at 4:25 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:
> Hi Lorenzo,
>
> Here is what I'm getting [on Ubuntu 8.04 after 'apt-get install mingw32',
> and after having built/installed Harbour the regular way]:
> ---
> /tmp/hb-xmingw-5974/harbour.exe ../../achoice.prg -D__PLATFORM__WINDOWS
> -undef:__PLATFORM__UNIX -undef:__PLATFORM__LINUX  -n -q0 -w3
> -es2 -gc0 -km -I../../ -I../../../../include
> Error F0034  Bad command line option: 'km'

Under Fedora it works as expected:

/tmp/harbour.exe ../../achoice.prg -D__PLATFORM__WINDOWS
-undef:__PLATFORM__UNIX -undef:__PLATFORM__LINUX -DHB_NO_READDBG
-DHB_EXT_INKEY -DHB_PP_MULTILINE_STRING -n -q0 -w3 -es2 -gc0 -km
-I../../ -I../../../../include

I'll install mingw32 in my Ubntu 8.04.1 VirtualBox VM to see if I can find sth.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Mon Aug 11 12:23:42 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Aug 11 12:23:46 2008
Subject: [Harbour] Release 1.0.0 Final #8
In-Reply-To: <9257026e0808110755l57db328bi575d582591e1adc4@mail.gmail.com>
References: <FFAEAF6E-8E31-4A6E-A35C-ED1C77057210@syenar.hu>
	<9257026e0808110718s484a2effo39de61fa4f785f29@mail.gmail.com>
	<DD29307B-1230-4402-86CD-FE96579630DD@syenar.hu>
	<9257026e0808110755l57db328bi575d582591e1adc4@mail.gmail.com>
Message-ID: <9257026e0808110923y38cdfe34nca71764f44f5b6e@mail.gmail.com>

On Mon, Aug 11, 2008 at 4:55 PM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com> wrote:

> I'll install mingw32 in my Ubntu 8.04.1 VirtualBox VM to see if I can find sth.

This is what I get:

make[3]: /tmp/hb-xmingw-15484/hbpp.exe: Command not found
make[3]: *** [pptable.c] Error 127
make[2]: *** [descend] Error 2

but strangely hbpp.exe is correctly built:

i586-mingw32msvc-gcc -I. -I../../../../include -mno-cygwin -Wall -W
-O3 -DHB_NO_READDBG -DHB_EXT_INKEY -DHB_PP_MULTILINE_STRING  -c
../../hbpp.c -ohbpp.o
i586-mingw32msvc-gcc -Wall -W -ohbpp.exe hbpp.o -mno-cygwin
-L../../../../lib/w32/mingw32 -Wl,--start-group    -lhbcommon
-Wl,--end-group -luser32 -lwinspool -lgdi32 -lcomctl32 -lcomdlg32
-lole32 -loleaut32 -luuid -lmpr -lwsock32 -lws2_32 -lmapi32
/tmp/hb-xmingw-15484/hbpp.exe ../../../../include/hbstdgen.ch
-opptable.c -q -c -v../../../../include/hbverbld.h
rm hbpp.o

and I have it ./source/pp/w32/mingw32/hbpp.exe.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Mon Aug 11 12:28:25 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 12:28:33 2008
Subject: [Harbour] Release 1.0.0 Final #8
In-Reply-To: <9257026e0808110923y38cdfe34nca71764f44f5b6e@mail.gmail.com>
References: <FFAEAF6E-8E31-4A6E-A35C-ED1C77057210@syenar.hu>
	<9257026e0808110718s484a2effo39de61fa4f785f29@mail.gmail.com>
	<DD29307B-1230-4402-86CD-FE96579630DD@syenar.hu>
	<9257026e0808110755l57db328bi575d582591e1adc4@mail.gmail.com>
	<9257026e0808110923y38cdfe34nca71764f44f5b6e@mail.gmail.com>
Message-ID: <692207C4-88A3-431D-B9D3-E3214FC88467@syenar.hu>

>
Hi Lorenzo,

> On Mon, Aug 11, 2008 at 4:55 PM, Lorenzo Fiorini
> <lorenzo.fiorini@gmail.com> wrote:
>
>> I'll install mingw32 in my Ubntu 8.04.1 VirtualBox VM to see if I  
>> can find sth.
>
> This is what I get:
>
> make[3]: /tmp/hb-xmingw-15484/hbpp.exe: Command not found
> make[3]: *** [pptable.c] Error 127
> make[2]: *** [descend] Error 2
>
> but strangely hbpp.exe is correctly built:
>
> i586-mingw32msvc-gcc -I. -I../../../../include -mno-cygwin -Wall -W
> -O3 -DHB_NO_READDBG -DHB_EXT_INKEY -DHB_PP_MULTILINE_STRING  -c
> ../../hbpp.c -ohbpp.o
> i586-mingw32msvc-gcc -Wall -W -ohbpp.exe hbpp.o -mno-cygwin
> -L../../../../lib/w32/mingw32 -Wl,--start-group    -lhbcommon
> -Wl,--end-group -luser32 -lwinspool -lgdi32 -lcomctl32 -lcomdlg32
> -lole32 -loleaut32 -luuid -lmpr -lwsock32 -lws2_32 -lmapi32
> /tmp/hb-xmingw-15484/hbpp.exe ../../../../include/hbstdgen.ch
> -opptable.c -q -c -v../../../../include/hbverbld.h
> rm hbpp.o
>
> and I have it ./source/pp/w32/mingw32/hbpp.exe.

This may sound obvious, but did you do a non-cross-platform
build and install first, before this one?

It seems like the Linux version of hbpp is missing.

Brgds,
Viktor


From harbour.01 at syenar.hu  Mon Aug 11 12:34:11 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 12:34:17 2008
Subject: [Harbour] 2008-08-11 18:24 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fbd0$Blat.v2.6.2$15d2dad3$44b0f507ca36@127.0.0.1>

2008-08-11 18:24 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * config/rules.cf
     % Removed unnecessary -I option from Harbour command line.

   * ChangeLog
     + Added entry to signal the branching.

2008-08-11 12:13 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * SVN
     ; =========================================================
     ; =========================================================
     + New '/branches/harbour-1.0' branch created.
       Any work involving 1.0.x versions should be done in this 
       branch.
     ; In the "normal" repository (= the trunk = this one), the 
       development of next main version (1.1) of Harbour should 
       continue.
       To put it shortly:
       - Don't commit here anything belonging to 1.0.x.
       - Do commit everything belonging to 1.1.
       - Do commit everything belonging to 1.0 to /branches/harbour-1.0
     ; =========================================================
     ; =========================================================
--
Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Mon Aug 11 12:34:16 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Aug 11 12:34:22 2008
Subject: [Harbour] Release 1.0.0 Final #8
In-Reply-To: <692207C4-88A3-431D-B9D3-E3214FC88467@syenar.hu>
References: <FFAEAF6E-8E31-4A6E-A35C-ED1C77057210@syenar.hu>
	<9257026e0808110718s484a2effo39de61fa4f785f29@mail.gmail.com>
	<DD29307B-1230-4402-86CD-FE96579630DD@syenar.hu>
	<9257026e0808110755l57db328bi575d582591e1adc4@mail.gmail.com>
	<9257026e0808110923y38cdfe34nca71764f44f5b6e@mail.gmail.com>
	<692207C4-88A3-431D-B9D3-E3214FC88467@syenar.hu>
Message-ID: <9257026e0808110934t3c3e0a52k855107061652cc4f@mail.gmail.com>

On Mon, Aug 11, 2008 at 6:28 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> This may sound obvious, but did you do a non-cross-platform
> build and install first, before this one?
>
> It seems like the Linux version of hbpp is missing.

Sorry I was not clear enough.

The problem seems in:
ln -s "$DIR/source/pp/$UNAMEL/gcc/hbpp" ${HB_BIN_COMPILE}/hbpp.exe

that is it requires that you've "built" hbpp, while for harbour it
looks in the path and so if it's installed.

IMHO hbpp should be searched like harbour using the which command.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Mon Aug 11 12:44:12 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 12:44:21 2008
Subject: [Harbour] Release 1.0.0 Final #8
In-Reply-To: <9257026e0808110934t3c3e0a52k855107061652cc4f@mail.gmail.com>
References: <FFAEAF6E-8E31-4A6E-A35C-ED1C77057210@syenar.hu>
	<9257026e0808110718s484a2effo39de61fa4f785f29@mail.gmail.com>
	<DD29307B-1230-4402-86CD-FE96579630DD@syenar.hu>
	<9257026e0808110755l57db328bi575d582591e1adc4@mail.gmail.com>
	<9257026e0808110923y38cdfe34nca71764f44f5b6e@mail.gmail.com>
	<692207C4-88A3-431D-B9D3-E3214FC88467@syenar.hu>
	<9257026e0808110934t3c3e0a52k855107061652cc4f@mail.gmail.com>
Message-ID: <B61857AF-813F-469F-BA20-74288FD10845@syenar.hu>

>>
Hi Lorenzo,

>> It seems like the Linux version of hbpp is missing.
>
> Sorry I was not clear enough.
>
> The problem seems in:
> ln -s "$DIR/source/pp/$UNAMEL/gcc/hbpp" ${HB_BIN_COMPILE}/hbpp.exe
>
> that is it requires that you've "built" hbpp, while for harbour it
> looks in the path and so if it's installed.
> IMHO hbpp should be searched like harbour using the which command.

Okay, that clarifies.

Can you do a test with attached make_xmingw.sh?

Brgds,
Viktor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: make_xmingw.zip
Type: application/zip
Size: 1551 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080811/a025155b/make_xmingw.zip
-------------- next part --------------

From lorenzo.fiorini at gmail.com  Mon Aug 11 12:45:05 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Aug 11 12:45:49 2008
Subject: [Harbour] Release 1.0.0 Final #8
In-Reply-To: <9257026e0808110934t3c3e0a52k855107061652cc4f@mail.gmail.com>
References: <FFAEAF6E-8E31-4A6E-A35C-ED1C77057210@syenar.hu>
	<9257026e0808110718s484a2effo39de61fa4f785f29@mail.gmail.com>
	<DD29307B-1230-4402-86CD-FE96579630DD@syenar.hu>
	<9257026e0808110755l57db328bi575d582591e1adc4@mail.gmail.com>
	<9257026e0808110923y38cdfe34nca71764f44f5b6e@mail.gmail.com>
	<692207C4-88A3-431D-B9D3-E3214FC88467@syenar.hu>
	<9257026e0808110934t3c3e0a52k855107061652cc4f@mail.gmail.com>
Message-ID: <9257026e0808110945m476cc667x3637f2c7e423823c@mail.gmail.com>

On Mon, Aug 11, 2008 at 6:34 PM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com> wrote:

> IMHO hbpp should be searched like harbour using the which command.

I've duplicated the "which logic" of harbour for hbpp and I get a
working solution.

What I mean is that I shouldn't need to build harbour twice to get a
cross-compiled solution.

Now I need first to run ./make_gnu.sh and then to run ./make_xmingw.sh
simply because native hbpp is searched in the build tree.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Mon Aug 11 12:47:00 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Aug 11 12:47:05 2008
Subject: [Harbour] Release 1.0.0 Final #8
In-Reply-To: <B61857AF-813F-469F-BA20-74288FD10845@syenar.hu>
References: <FFAEAF6E-8E31-4A6E-A35C-ED1C77057210@syenar.hu>
	<9257026e0808110718s484a2effo39de61fa4f785f29@mail.gmail.com>
	<DD29307B-1230-4402-86CD-FE96579630DD@syenar.hu>
	<9257026e0808110755l57db328bi575d582591e1adc4@mail.gmail.com>
	<9257026e0808110923y38cdfe34nca71764f44f5b6e@mail.gmail.com>
	<692207C4-88A3-431D-B9D3-E3214FC88467@syenar.hu>
	<9257026e0808110934t3c3e0a52k855107061652cc4f@mail.gmail.com>
	<B61857AF-813F-469F-BA20-74288FD10845@syenar.hu>
Message-ID: <9257026e0808110947m630ba0etab983e1a581f9f0e@mail.gmail.com>

On Mon, Aug 11, 2008 at 6:44 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Okay, that clarifies.
>
> Can you do a test with attached make_xmingw.sh?

Ok ( see my prev msg )

best regards,
Lorenzo
From jarabal at gmail.com  Mon Aug 11 13:38:05 2008
From: jarabal at gmail.com (Xavi)
Date: Mon Aug 11 13:39:29 2008
Subject: [Harbour] spd.c * Fixed work with repeat indirect parameters.
Message-ID: <48A078FD.6030402@gmail.com>

For performances reason I do conversions inside items of stack frame parametrers but with repeat indirect parameters causes 
unexpected results because change the type of parameter. Now copy the parameter before making the conversion.
Please Viktor, could you update the repository, thank you and I'm sorry for any inconvenience.

Procedure Test()
    Local cSQL, dFecha, n, i

    dFecha := Date()
    ? Sql_sprintf("SELECT * FROM `%2$s` WHERE `dtOrd`=%1$t OR `dtSnd`=%1$t", dFecha, 'table')
    ?
    for i := 1 to 5
       ? Sql_sprintf("%s", Replicate('-', 74))
       ? cSQL := Sql_sprintf("%% nil=%1$t, char=%2$t, Date=%3$t, num=%4$s, char=%2$s %%%5$n", nil, "String's", dFecha, 5.21, @n)
       ? Sql_sprintf("Result: i=%d, Len=%d, Pos=%d", i, Len(cSQL), n)
    next
    ?
    Wait
return

Best regards,
Xavi
-------------- next part --------------
/*
 * $Id: spd.c 8922 2008-07-03 14:50:43Z vszakats $
 */

/*
 * Harbour Project source code:
 * SQL_SPRINTF() function
 *
 * Copyright 2008 Xavi <jarabal/at/gmail.com>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software; see the file COPYING.  If not, write to
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
 *
 * As a special exception, the Harbour Project gives permission for
 * additional uses of the text contained in its release of Harbour.
 *
 * The exception is that, if you link the Harbour libraries with other
 * files to produce an executable, this does not by itself cause the
 * resulting executable to be covered by the GNU General Public License.
 * Your use of that executable is in no way restricted on account of
 * linking the Harbour library code into it.
 *
 * This exception does not however invalidate any other reasons why
 * the executable file might be covered by the GNU General Public License.
 *
 * This exception applies only to the code released by the Harbour
 * Project under the name Harbour.  If you copy code from other
 * Harbour Project or Free Software Foundation releases into a copy of
 * Harbour, as the General Public License permits, the exception does
 * not apply to the code that you add in this way.  To avoid misleading
 * anyone as to the status of such modified files, you must delete
 * this exception notice from them.
 *
 * If you write modifications of your own for Harbour, it is your choice
 * whether to permit this exception to apply to your modifications.
 * If you do not wish that, delete this exception notice.
 *
 */

#include "hbapi.h"
#include "hbapiitm.h"
#include "hbapierr.h"
#include "hbdate.h"
#include "hbset.h"

static void STAItm( PHB_ITEM pItmPar )
{
   ULONG i, ulItmPar = hb_itemGetCLen( pItmPar );
   char *cRes, *c, *cItmPar = hb_itemGetCPtr( pItmPar );

   for( i = 3, c = cItmPar; *c; c++ ){
      if( *c == '\'' ) i++;   /* Count ' Tokens */
   }
   cRes = (char *)hb_xgrab( ulItmPar + i * sizeof(char) );
   i = 0; c = cItmPar; cRes[i++] = '\'';
   while( *c ){
      if( *c == '\'' ) cRes[i++] = '\'';
      cRes[i++] = *c++;
   }
   cRes[i++] = '\''; /* cRes[i] = '\0'; */
   hb_itemPutCLPtr( pItmPar, cRes, i );
}

static ULONG SCItm( char *cBuffer, ULONG ulMaxBuf, char *cParFrm, int iCOut, int IsIndW, int iIndWidth, int IsIndP, int iIndPrec, PHB_ITEM pItmPar )
{
   ULONG s;

   /* NOTE: In DJGPP (4.2.3) snprintf() will be preprocessed to sprintf(), which
            makes ulMaxBuf unused, and this in turn causes a warning, so we're
            manually suppressing it. [vszakats] */
   #if defined(__DJGPP__)
      HB_SYMBOL_UNUSED( ulMaxBuf );
   #endif

   if( IsIndW && IsIndP ){
      switch( iCOut ){
      case 'p':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetPtr( pItmPar ) );
         break;
      case 's': case 'S':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetCPtr( pItmPar ) );
         break;
      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetND( pItmPar ) );
         break;
      /* case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X': */
      default:
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
      }
   }else if( IsIndW || IsIndP ){
      int iInd = (IsIndW ? iIndWidth : iIndPrec);

      switch( iCOut ){
      case 'p':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetPtr( pItmPar ) );
         break;
      case 's': case 'S':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetCPtr( pItmPar ) );
         break;
      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetND( pItmPar ) );
         break;
      /* case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X': */
      default:
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
      }
   }else{
      switch( iCOut ){
      case 'p':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetPtr( pItmPar ) );
         break;
      case 's': case 'S':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetCPtr( pItmPar ) );
         break;
      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetND( pItmPar ) );
         break;
      /* case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X': */
      default:
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
      }
   }
   return s;
}

/*******************************************************************************
* ANSI C sprintf() for ANSI SQL with DATE, DATETIME, LOGICAL, NIL, NUMERIC
* ------------------------------------------------------------------------
*       cRes := Sql_sprintf( cFrm, ... ) or cRes := _Spd( cFrm, ... )
*
* Full compatible ANSI C99 formats with C,S converters wchar_t (UNICODE)
* Integer & Floating point converters with Width and Precision for NUMERIC & STRING
* a,A converters Hexadecimal floating point format. Thanks Rafa.
*  ? Sql_sprintf( "Phi = %A", (1 + 5**0.5) / 2 ) // Phi = 0X1,9E3779B97F4A8P+0
* %m$,*m$ Index & Indirect arguments C99. Thanks Viktor.
*  ? Sql_sprintf( "Phi = %2$0*3$.*1$f", 4, (1 + 5**0.5) / 2, 7 ) // Phi = 01.6180
*
* s converter for format Harbour data types.
*    NUMERIC with FIXED DECIMALS = n | n.d   STRING = String's ANSI C
*    DATE = HB_SET_DATEFORMAT      DATETIME = HB_SET_DATEFORMAT hh:mm:ss
*     New Internal Modifier {}. Thanks Mindaugas.
*     Date and Time Format separate by first space {DD/MM/YYYY hh:mm:ss.ccc pm}
*     {DD/MM/YYYY} = Only Date | { hh:mm:ss.ccc pm} = Only Time
*        ? Sql_sprintf( "%s", Date() )                // 16/06/08
*        ? Sql_sprintf( "%s", DateTime() )            // 16/06/08 04:11:21
*        ? Sql_sprintf( "%{YYYYMMDD}s", DateTime() )  // 20080616
*        ? Sql_sprintf( "%{ hh:mm pm}s", DateTime() ) // 04:11 AM
*    LOGICAL = TRUE | FALSE        %d converter for LOGICAL = 1 | 0
*     Accepts Internal Modifier TRUE and FALSE Format separate by first comma
*     {T .T.,F .F.} = TRUE & FALSE | {ON} = Only TRUE | {,OFF} = Only FALSE
*        ? Sql_sprintf( "%{VERDADERO,FALSO}s", .F. ) // FALSO
*        ? Sql_sprintf( "%{ONLY IF TRUE}s", .T. ) // ONLY IF TRUE
*
* New t converter for format ANSI SQL types.
*    NUMERIC with FIXED DECIMALS = n | n.d   STRING = 'String''s ANSI SQL'
*    DATE = 'YYYY-MM-DD' DATETIME = 'YYYY-MM-DD HH:MM:SS'
*     Accepts Internal Modifier like s converter {DD/MM/YYYY hh:mm:ss.ccc pm}
*    LOGICAL = TRUE | FALSE        Accepts Internal Modifier like s {ON,OFF}
*
* Print NULL if the parameter is NIL or HB_IT_NULL
* Processing %% and n converter Position.
*******************************************************************************/

#define DK_INCRES 1024
#define DK_INCBUF 512
#define DK_BLKBUF HB_MAX_DOUBLE_LENGTH   /* Expense of DK_INCBUF */

HB_FUNC( SQL_SPRINTF )
{
   ULONG ulItmFrm;
   char *cRes, *cItmFrm;
   int argc = hb_pcount() - 1;
   PHB_ITEM pItmFrm = hb_param( 1, HB_IT_STRING );

   if( !pItmFrm || (cItmFrm = hb_itemGetCPtr( pItmFrm )) == NULL ){
      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, 1, hb_paramError( 1 ) );
   }else if( !(ulItmFrm = hb_itemGetCLen( pItmFrm )) ){
      hb_retc( NULL );
   }else if( !argc ){
      cRes = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
      memcpy( cRes, cItmFrm, ulItmFrm + sizeof(char) );
      hb_retclen_buffer( cRes, ulItmFrm );
   }else{
      PHB_ITEM pItmPar, pItmCpy;
      char *cIntMod, *cBuffer, *cParFrm, *c;
      int p, arg, iCOut, IsType, IsIndW, IsIndP, iIndWidth, iIndPrec, iErrorPar = 0;
      ULONG s, f, i, ulWidth, ulParPos = 0, ulResPos = 0, ulMaxBuf = DK_INCBUF, ulMaxRes = DK_INCRES;
      static char cToken[] = "stcdiouxXaAeEfgGpnSC";

      cIntMod = NULL;
      cRes = (char *)hb_xgrab( ulMaxRes );
      cBuffer = (char *)hb_xgrab( ulMaxBuf );
      cParFrm = (char *)hb_xgrab( ulItmFrm + sizeof(char) );

      for( p = 0; p < argc; /* Not p++ by support index & indirect arguments */ ){

         c = cItmFrm + ulParPos;
         s = f = i = ulWidth = arg = iCOut = IsType = IsIndW = iIndWidth = IsIndP = iIndPrec = 0;
         do{   /* Get Par Format */
            cParFrm[i++] = *c;
            if( f && *c == '%' ){
               f = ulWidth = IsIndW = IsIndP = 0;
            }else if( f && !ulWidth && *c >= '0' && *c <= '9' ){
               ulWidth = atol( c );
            }else if( f && *c == '.' ){
               if( f++ == 2 ) iErrorPar = 1;
            }else if( f && *c == '*' ){
               if( f == 2 ){
                  if( IsIndP ){
                     f = 3; iErrorPar = 1;
                  }else{
                     IsIndP = 1;
                  }
               }else if( !IsIndW ){
                  IsIndW = 1;
               }else{
                  f = 3; iErrorPar = 1;
               }
            }else if( f && *c == '$' ){
               if( ulWidth && IsIndP && !iIndPrec ){
                  iIndPrec = ulWidth;
                  iCOut = '*';
               }else if( ulWidth && IsIndW && !iIndWidth ){
                  iIndWidth = ulWidth;
                  ulWidth = 0; iCOut = '*';
               }else if( ulWidth && !arg ){
                  arg = ulWidth;
                  ulWidth = 0; iCOut = '%';
               }else{
                  f = 3; iErrorPar = 1;
               }
               while( i && cParFrm[--i] != iCOut );
               ++i; iCOut = 0;
            }else if( f && *c == '{' ){
               if( s ){
                  f = 3; iErrorPar = 1;
               }else{   /* Remove Internal Modifier */
                  if( cIntMod == NULL ){
                     cIntMod = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
                  }
                  while( *c++ && *c != '}' ) cIntMod[s++] = *c;
                  --i; cIntMod[s] = '\0';
                  if( *(c - 1) == '\0' ){
                     f = 3; iErrorPar = 1;
                  }
               }
            }else if( f && strchr(cToken, *c) ){
               f = 3; iCOut = *c;
            }else if( *c == '%' ){
               f = 1;
            }
            c++;
         }while( f < 3 && *c ); cParFrm[f = i] = '\0';
         if( iErrorPar ) break;

         if( iCOut == 't' ){
            if( cParFrm[f - 2] == '%' ){
               IsType = 1; iCOut = cParFrm[f - 1] = 's';
            }else{
               iErrorPar = 1; break;
            }
         }

         if( IsIndW  ){ /* Get Par Indirectly Width Item */
            pItmPar = hb_param( (iIndWidth ? iIndWidth + 1 :  p++ + 2), HB_IT_INTEGER );
            if( pItmPar ){
               if( (iIndWidth = hb_itemGetNI( pItmPar )) < 0 ){
                  ulWidth = -iIndWidth;
               }else{
                  ulWidth = iIndWidth;
               }
            }else{
               iErrorPar = 1; break;
            }
         }

         if( IsIndP ){  /* Get Par Indirectly Precision Item */
            pItmPar = hb_param( (iIndPrec ? iIndPrec + 1 :  p++ + 2), HB_IT_INTEGER );
            if( pItmPar ){
               iIndPrec = hb_itemGetNI( pItmPar );
            }else{
               iErrorPar = 1; break;
            }
         }

         if( !arg && *c && p == argc - 1 ){ /* No more Par Items */
            do{ cParFrm[i++] = *c; }while( *c++ ); i--;
         }  /* i == strlen(cParFrm) */

         pItmPar = hb_param( (arg ? arg + 1 :  p++ + 2), HB_IT_ANY );   /* Get Par Item */
         if( !pItmPar ){
            iErrorPar = 1; break;
         }

         if( !iCOut || iCOut == 'n' ){ /* Par Text Out */

            for( f = i, i = 0; i < f; i++ ){ /* Change %% with % */
               if( cParFrm[i] == '%' && cParFrm[i + 1] == '%' ){
                  memcpy( cParFrm + i, cParFrm + i + 1, f - i );
                  f--;
               }
            }  /* i == strlen(cParFrm) */
            if( iCOut ){
               for( f = 0; f < i; f++ ){  /* Erase %n */
                  if( cParFrm[f] == '%' && cParFrm[f + 1] == 'n' ){
                     memcpy( cParFrm + f, cParFrm + f + 2, i - f - 1 );
                     break;
                  }
               }  /* f == Index % of n */
               if( f < i ){
                  i -= 2;  /* i == strlen(cParFrm) */
                  hb_itemPutNL( pItmPar, ulResPos + f );
               }else{
                  iErrorPar = 1; break;
               }
            }
            if( (f = i + sizeof(char)) > ulMaxBuf ){
               ulMaxBuf += f + DK_INCBUF;
               cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
            }
            strcpy( cBuffer, cParFrm ); s = i;

         }else{   /* Par Item sprintf() Out */

#        ifdef HB_IT_NULL
            if( (HB_IS_NIL( pItmPar ) || HB_IS_NULL( pItmPar )) ){
#        else
            if( HB_IS_NIL( pItmPar ) ){
#        endif
               ulWidth = f; IsIndW = IsIndP = 0;
               while( cParFrm[--f] != '%' );
               iCOut = cParFrm[f + 1] = 's'; /* Change format with %s */
               memcpy( cParFrm + f + 2, cParFrm + ulWidth, i - ulWidth + 1 );
               i -= ulWidth - f - 2;   /* i == strlen(cParFrm) */
               if( (f = i + 5) > ulMaxBuf ){ /* size of "NULL" == 5 */
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar );
               hb_itemPutCL( pItmCpy, "NULL", 4 );
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmCpy );
               hb_itemRelease( pItmCpy );

            }else if( HB_IS_STRING( pItmPar ) && (iCOut == 's' || iCOut == 'S') ){
               if( IsType ){
                  hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar ); pItmPar = pItmCpy;
                  STAItm( pItmPar );
               }
               f = hb_itemGetCLen( pItmPar );
               if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );
               if( IsType ) hb_itemRelease( pItmPar );

            }else if( HB_IS_DATE( pItmPar ) && iCOut == 's' ){
               char cDTBuf[ 19 ], cDTFrm[ 28 ]; /* 26 + 2 if %t and change format time */

               if( s ){ /* Internal Modifier */
                  for( f = 0; cIntMod[f] && cIntMod[f] != ' '; f++ );
                  if( f != s ) cIntMod[f++] = '\0';   /* Date & Time */
               }

#           ifdef __XHARBOUR__
               if( HB_IS_DATETIME( pItmPar ) ){
                  hb_datetimeFormat( hb_itemGetDTS( pItmPar, cDTBuf ), cDTFrm,
                                       (s ? cIntMod : (IsType ? "YYYY-MM-DD" : hb_set.HB_SET_DATEFORMAT)),
                                       (s ? cIntMod + f : "HH:MM:SS") );
                  if( s ){
                     if( !cIntMod[0] ){
                        memcpy( cDTFrm, cDTFrm + 1, 27 );   /* LTrim 1 space if only Time */
                     }else if( cDTFrm[s] == ' ' ){
                        cDTFrm[s] = '\0'; /* RTrim 1 space if only Date */
                     }
                  }
               }else
#           endif
                  hb_dateFormat( hb_itemGetDS( pItmPar, cDTBuf ), cDTFrm,
                                    (s ? cIntMod : (IsType ? "YYYY-MM-DD" : hb_set.HB_SET_DATEFORMAT)) );

               if( (f = i + HB_MAX(ulWidth, 28)) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar );
               hb_itemPutC( pItmCpy, cDTFrm );
               if( IsType ) STAItm( pItmCpy );
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmCpy );
               hb_itemRelease( pItmCpy );

            }else if( HB_IS_LOGICAL( pItmPar ) ){

               if( s ){ /* Internal Modifier */
                  for( f = 0; cIntMod[f] && cIntMod[f] != ','; f++ );
                  if( f != s ) cIntMod[f++] = '\0';   /* TRUE & FALSE */
               }
               if( iCOut == 's' ){
                  hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar ); pItmPar = pItmCpy;
                  hb_itemPutC( pItmPar, (hb_itemGetL( pItmPar ) ? (s ? cIntMod : "TRUE") : (s ? cIntMod + f : "FALSE")) );
               }
               if( (f = i + (iCOut == 's' ? HB_MAX(ulWidth, (s ? s : 6)) : HB_MAX(ulWidth, DK_BLKBUF))) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;   /* size of "FALSE" == 6 */
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );
               if( iCOut == 's' ) hb_itemRelease( pItmPar );

            }else if( iCOut == 's' ){
               char *cTrimStr, *cStr = hb_itemStr( pItmPar, NULL, NULL );

               if( cStr ){
                  f = strlen( cStr ); cTrimStr = hb_strLTrim( cStr, &f );
                  if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
                     ulMaxBuf += f + DK_INCBUF;
                     cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
                  }
                  hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar );
                  hb_itemPutCL( pItmCpy, cTrimStr, f );
                  s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmCpy );
                  hb_itemRelease( pItmCpy ); hb_xfree( cStr );
               }else{
                  iErrorPar = p + 2; break;
               }

            }else if( HB_IS_NUMERIC( pItmPar ) || HB_IS_POINTER( pItmPar ) ){
               if( (f = i + HB_MAX(ulWidth, DK_BLKBUF)) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );

            }else{
               iErrorPar = p + 2; break;
            }
         }

         if( (f = s + ulResPos + sizeof(char)) > ulMaxRes ){
            ulMaxRes += f + DK_INCRES;
            cRes = (char *)hb_xrealloc( cRes, ulMaxRes );
         }
         strcpy( cRes + ulResPos, cBuffer ); ulResPos += s;

         if( (ulParPos = c - cItmFrm) >= ulItmFrm ){
            break;   /* No more Par Format */
         }
      }
      if( cIntMod ) hb_xfree( cIntMod );
      hb_xfree( cParFrm ); hb_xfree( cBuffer );
      if( iErrorPar ){
         hb_xfree( cRes );
         if( iErrorPar > 1 ){
            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, 2, hb_paramError( 1 ), hb_paramError( iErrorPar ) );
         }else{
            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, 1, hb_paramError( 1 ) );
         }
      }else{
         hb_retclen_buffer( cRes, ulResPos );
      }
   }
}
From harbour.01 at syenar.hu  Mon Aug 11 13:44:57 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 13:45:05 2008
Subject: [Harbour] 2008-08-11 19:40 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fbd9$Blat.v2.6.2$f8bd43b1$37c4d2f7f80c@127.0.0.1>

2008-08-11 19:40 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_xmingw.sh
     ! Fixed to look for hbpp in the path, like it does for 
       harbour.
--
Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Mon Aug 11 13:51:21 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Aug 11 13:51:44 2008
Subject: [Harbour] Again about contribs and paths
Message-ID: <9257026e0808111051s4e9a0f9asf1e65d962c998510@mail.gmail.com>

For me it's still too complicated to define which contribs include and
where to find the include/libs.

Under Windows there isn't a standard, under Mac OS X usually they go
under /opt/local and even under Linux where paths are well defined,
postgresql's includes are in /usr/include in Fedora and
/usr/include/postgresql in Ubuntu.

Now f.e. for Windows I have to define HB_CONTRIBLIBS="hbgd hbpgsql",
set HB_INC_GD="/gnuwin32/include", set HB_INC_PGSQL="/pgsql/include".
Note that the libs are "hbxyz" while the includes are "HB_INC_XYZ
without hb".
But after this I've to provide -L/gnuwin32/lib -lgd -L/pgsql/lib -lpq
for every binary I want to link.

My suggestion is:

- remove all the contribs that require external files from the contrib/Makefile
- use envvars like ENABLE_HBGD_PATH= or WITH_HBMYSQL_PATH= or
HBODBC_PATH= where the _PATH= points to the "root" of the development
files which usually have ./include ./lib.
- every "external" contrib will look if exist its own envvar and will
use the path
- add "switches" to hb* scripts  like -gd -pgsql -mysql that read the
envvars and add the correct libs.

So the doc will simply state "to enable a contrib, install the
required development files, set the envvar to the installation path,
build harbour and use the switch at compile/link time".

gest regards,
Lorenzo
From harbour.01 at syenar.hu  Mon Aug 11 14:33:33 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 14:33:41 2008
Subject: [Harbour] Again about contribs and paths
In-Reply-To: <9257026e0808111051s4e9a0f9asf1e65d962c998510@mail.gmail.com>
References: <9257026e0808111051s4e9a0f9asf1e65d962c998510@mail.gmail.com>
Message-ID: <E3DCD062-CB6B-4734-B4CC-0D9CF5F144B0@syenar.hu>

>
Hi Lorenzo,

> Now f.e. for Windows I have to define HB_CONTRIBLIBS="hbgd hbpgsql",
> set HB_INC_GD="/gnuwin32/include", set HB_INC_PGSQL="/pgsql/include".
> Note that the libs are "hbxyz" while the includes are "HB_INC_XYZ
> without hb".

HB_CONTRIBLIBS refers to the Harbour contrib names,
while HB_INC_* refers to the name of the external lib.
The reason is that you specify the location of the
external lib, and that doesn't have by itself anything
to do with the Harbour contrib name. For example, multiple
contribs could in theory use the same external lib,
and one contrib could even use multiple external libs, too.
The main point is that we're referring to a non-Harbour,
external package, so we shouldn't use any Harbour names.

To create a connection between Harbour contribs and
external libs, we may use envvars like HBCURL_INC_LIBCURL,
HBFBIRD_INC_FIREBIRD, this would be a bit more redundant
in some rare cases, but we can think of implementing it.

> But after this I've to provide -L/gnuwin32/lib -lgd -L/pgsql/lib -lpq
> for every binary I want to link.
>
> My suggestion is:
>
> - remove all the contribs that require external files from the  
> contrib/Makefile

I cannot see how would that help anyone. Currently every
externally dependent contrib will do an automatic self-check
if the required headers are available on some default path
lists, and if not, the contrib will _not_ be built. So
currently a more intelligent and local logic is there.

What you say could only be useful if someone had some
external dependencies installed, yet, he wouldn't want to
build those contribs for whatever reasons. [ There exists
some envvars to control these too, like HB_WITHOUT_ODBC,
but these are contrib local features. ] Currently though,
all the make files are tuned to build everything possible,
out of the box.

> - use envvars like ENABLE_HBGD_PATH= or WITH_HBMYSQL_PATH= or
> HBODBC_PATH= where the _PATH= points to the "root" of the development
> files which usually have ./include ./lib.

I've been actually going to the opposite direction, because
especially under Linux, many times there isn't any 'root' dir.
(at least not the systems I've tested Harbour for our current
external package list, if installed using default OS tools.)
[ Under Windows there almost always is one, so in non-GNU make
files you can use HB_DIR_* to specify it as an option. ]

Other than that your suggestion is already implemented,
but the name is HB_INC_<external_lib_name>.

> - every "external" contrib will look if exist its own envvar and will
> use the path

That's what happens currently with HB_INC_* envvars. If
not specified, it will use some predefined list of dirs
to look into.

> - add "switches" to hb* scripts  like -gd -pgsql -mysql that read the
> envvars and add the correct libs.

I leave this to Przemek.

> So the doc will simply state "to enable a contrib, install the
> required development files, set the envvar to the installation path,
> build harbour and use the switch at compile/link time".

The current default is pretty much that, or even simpler,
saying: if you have any external libs in non default locations,
and you want to build the contrib dependent on it, specify
the non-default location using HB_INC_*. IOW: Normally, by
default, everything installed will be built without any manual
tweaking.

If someone for any reason wants to limit or modify the list
of default contribs, that's a different problem. Currently
Harbour wants to build everything it can, and with the least
user configuration.

I think you major concern is that you want to use some
selected contribs, and not the default Harbour list. In
this non-default case one envvar is not very difficult
to be added, not to mention that some ppl (AFAIK you, Przemek,
me and probably other, too), are storing extra contribs in
the contrib dir, so some sort of manual configuration
would be needed anyway to make them build by Harbour.

[ All the above applies to GNU-make system. For (Windows)
non-GNU make, it's pretty much the same, except that there
isn't any external lib autodetection - since there cannot
be one under Windows -, so HB_INC_* must be used to specify
the location of external libs. Also HB_DIR_* may be used
as an alternative, if one wants to specify the root dir,
and get the .dll .lib generated, too. ]

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 11 14:42:10 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 14:42:17 2008
Subject: [Harbour] 2008-08-11 20:41 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fbe1$Blat.v2.6.2$f6dfa6ad$23989ab5a58c@127.0.0.1>

2008-08-11 20:41 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbmisc/spd.c
     ! Fix to SQL_SPRINTF() by Xavi.
--
Brgds,
Viktor

From rodrmigu at gmail.com  Mon Aug 11 14:58:43 2008
From: rodrmigu at gmail.com (Rodrigo Miguel)
Date: Mon Aug 11 14:58:47 2008
Subject: [Harbour] Re: Release 1.0.0 Final #8
Message-ID: <80b05d460808111158i47908884mbf65db98f24790af@mail.gmail.com>

Hi Viktor

I don't how much relevant the messages below are, so I'm having these error
messages with MSVS 2005

source\vm\cmdarg.c(229) : warning C4996: 'strncpy' was declared deprecated
        C:\Program Files\Microsoft Visual Studio 8\VC\include\string.h(156)
: see declaration of 'strncpy'
        Message: 'This function or variable may be unsafe. Consider using
strncpy_s instead. To disable deprecation, use _CRT_SECURE_NO_DEPRECATE. See
online help for details.'

source\vm\cmdarg.c(353) : warning C4996: '_snprintf' was declared deprecated
        C:\Program Files\Microsoft Visual Studio 8\VC\include\stdio.h(339) :
see declaration of '_snprintf'
        Message: 'This function or variable may be unsafe. Consider using
_snprintf_s instead. To disable deprecation, use _CRT_SECURE_NO_DEPRECATE.
See online help for details.'

source\rtl\hbinet.c(432) : warning C4996: 'strerror' was declared deprecated
        C:\Program Files\Microsoft Visual Studio 8\VC\include\string.h(125)
: see declaration of 'strerror'
        Message: 'This function or variable may be unsafe. Consider using
strerror_s instead. To disable deprecation, use _CRT_SECURE_NO_DEPRECATE.
See online help for details.'

By setting the CFLAGS=/D_CRT_SECURE_NO_DEPRECATE.the messages above they go
away. Also I've these messages as well, probably nothing that need to be
worried about it:

cl : Command line warning D9035 : option 'Og' has been deprecated and will
be removed in a future release
cl : Command line warning D9035 : option 'GX-' has been deprecated and will
be removed in a future release
cl : Command line warning D9036 : use 'EHs-c-' instead of 'GX-'
cl : Command line warning D9002 : ignoring unknown option '-Op'
cl : Command line warning D9002 : ignoring unknown option '-G6'
cl : Command line warning D9002 : ignoring unknown option '-YX'

Best regards
Rodrigo Moreno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080811/9a8ce3fe/attachment.html
From harbour.01 at syenar.hu  Mon Aug 11 15:09:13 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 15:09:22 2008
Subject: [Harbour] Re: Release 1.0.0 Final #8
In-Reply-To: <80b05d460808111158i47908884mbf65db98f24790af@mail.gmail.com>
References: <80b05d460808111158i47908884mbf65db98f24790af@mail.gmail.com>
Message-ID: <2D87AF54-A66D-49E2-9A8B-5008934D907A@syenar.hu>

Hi Rodrigo,

> I don't how much relevant the messages below are, so I'm having  
> these error messages with MSVS 2005
>
> source\vm\cmdarg.c(229) : warning C4996: 'strncpy' was declared  
> deprecated
>         C:\Program Files\Microsoft Visual Studio 8\VC\include 
> \string.h(156) : see declaration of 'strncpy'
>         Message: 'This function or variable may be unsafe. Consider  
> using strncpy_s instead. To disable deprecation, use  
> _CRT_SECURE_NO_DEPRECATE. See online help for details.'
>
> source\vm\cmdarg.c(353) : warning C4996: '_snprintf' was declared  
> deprecated
>         C:\Program Files\Microsoft Visual Studio 8\VC\include 
> \stdio.h(339) : see declaration of '_snprintf'
>         Message: 'This function or variable may be unsafe. Consider  
> using _snprintf_s instead. To disable deprecation, use  
> _CRT_SECURE_NO_DEPRECATE. See online help for details.'
>
> source\rtl\hbinet.c(432) : warning C4996: 'strerror' was declared  
> deprecated
>         C:\Program Files\Microsoft Visual Studio 8\VC\include 
> \string.h(125) : see declaration of 'strerror'
>         Message: 'This function or variable may be unsafe. Consider  
> using strerror_s instead. To disable deprecation, use  
> _CRT_SECURE_NO_DEPRECATE. See online help for details.'
>
> By setting the CFLAGS=/D_CRT_SECURE_NO_DEPRECATE.the messages above  
> they go away. Also I've these messages as well, probably nothing  
> that need to be worried about it:
>
> cl : Command line warning D9035 : option 'Og' has been deprecated  
> and will be removed in a future release
> cl : Command line warning D9035 : option 'GX-' has been deprecated  
> and will be removed in a future release
> cl : Command line warning D9036 : use 'EHs-c-' instead of 'GX-'
> cl : Command line warning D9002 : ignoring unknown option '-Op'
> cl : Command line warning D9002 : ignoring unknown option '-G6'
> cl : Command line warning D9002 : ignoring unknown option '-YX'

If you set envvar HB_VISUALC_VER to 80 (or higher),
all these messages will disappear.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 11 15:33:57 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 15:34:07 2008
Subject: [Harbour] 2008-08-11 21:20 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fbe9$Blat.v2.6.2$32be4e6b$33b094f19ab8@127.0.0.1>

2008-08-11 21:20 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbsetup.h
   * config/hpux/gcc.cf
   * config/linux/gcc.cf
   * config/os2/gcc.cf
   * config/bsd/gcc.cf
     ! Never force the platform from the make files, rather 
       rely on the autodetection in hbsetup.h.
       Compiling default parts of the software should only rely 
       on manually set macros if there is no reasonable chance to 
       make the detection automatic.
     ! HB_OS_LINUX, HB_OS_HPUX autodetection supposedly made more robust.

   * include/hbsetup.ch
   * include/hbapi.h
   * source/rtl/hbffind.c
     - Removed HB_FILE_VER stuff. It's lost it's importancy with SVN.

   * include/Makefile
   * include/hbcommon.ch
     - Removed hbcommon.ch no longer needed. It only contained 
       HB_FILE_VER related stuff.

   * contrib/rddado/Makefile
     ! Excluded from OS/2 builds.
--
Brgds,
Viktor

From capelsoft at terra.es  Mon Aug 11 15:44:11 2008
From: capelsoft at terra.es (=?iso-8859-1?Q?Jos=E9_Luis_Capel_-?=)
Date: Mon Aug 11 15:44:17 2008
Subject: [Harbour] Error making libs with EVC4
References: <80b05d460808111158i47908884mbf65db98f24790af@mail.gmail.com>
	<2D87AF54-A66D-49E2-9A8B-5008934D907A@syenar.hu>
Message-ID: <B469C91110BC4EA296B926CE738CFEE8@pepeluis>

Hi,

With latest svn.  Using this sets:

SET HB_ARCHITECTURE=w32
SET HB_GT_LIB=gtgui
SET HB_GT_DEFAULT=gui
SET HB_VISUALC_VER=60
SET HB_BUILD_MODE=c
SET 
CLIBFLAGS=-DHB_OS_WIN_32  -DHB_WINCE -DHB_GTGUI_HACK -DHARBOUR_MAIN_WIN -DHB_TR_LEVEL_ALWAYS 
 -DUNICODE


make_vcce /CLEAN
make_vcce



I got this error:


hbwince.c
Microsoft (R) Library Manager Version 6.24.3077
Copyright (C) Microsoft Corporation.  All rights reserved.

hbpp.c
LINK : warning LNK4044: unrecognized option '/MANIFEST:NO'; ignored
Harbour Preprocessor 1.0.0
Copyright 1999-2008, http://www.harbour-project.org
pptable.c
ppcore.c
pplib.c
Microsoft (R) Library Manager Version 6.24.3077
Copyright (C) Microsoft Corporation.  All rights reserved.

hbmain.c
cmdcheck.c
hbusage.c
genhrb.c
Microsoft (R) Library Manager Version 6.24.3077
Copyright (C) Microsoft Corporation.  All rights reserved.

estack.c
extrap.c
hvm.c
itemapi.c
runner.c
mainwin.c
Microsoft (R) Library Manager Version 6.24.3077
Copyright (C) Microsoft Corporation.  All rights reserved.

Error F0034  Bad command line option: 'km'


Best Regards,
JOs? Luis Capel 

From harbour.01 at syenar.hu  Mon Aug 11 15:49:35 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 15:49:44 2008
Subject: [Harbour] Release 1.0.0 Final #9
Message-ID: <E3E3A7F0-B574-4441-8973-F69C8C322E67@syenar.hu>

Hi all,

Note:
mingw32 cross compile failure was caused by an old (0.45)
Harbour version installed using apt-get. So this issue
is CLEARED.

Pending platforms:
- WinCE (MSVC)
- BSD
- HPUX
- Other Linux distros (Mandriva, Slackware)

Tested platforms:
- Windows
	BCC 5.51
	BCC 5.82
	GCC MinGW 3.4.5 (on msys 1.0.10)
	GCC MinGW 4.1.2
	GCC MinGW 4.1.2 (on msys 1.0.10)
	GCC MinGW 4.2.1 (cross compile on Ubuntu 8.04)
	GCC MinGW 4.3.1a (on msys 1.0.10)
	MSVC 6 (ODBC problems)
	MSVC 12
	MSVS 2005
	MSVS 2005 C++
	MSVS 2008
	MSVS 2008 C++
	MSVS 2008 64 bit (FAILED - known)
	MSVS 2008 C++ 64 bit (cross-compile on Win32)
	PellesC 4.5
	PellesC 5.0
	PellesC 5.0 64 bit (cross-compile on Win32)
- WinCE
	GCC 4.0.1 (mingw32ce 0.51.0) (cross-compile on Ubuntu 8.04)
- Linux
	GCC 4.2.3 (Ubuntu 8.04)
	GCC 4.3.0 (Fedora) (non-default build)
	GCC 4.2.1 (SuSE 10.3)
- OSX
	GCC 4.0.1 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 PPC + XCode 3.1)
	GCC 4.0.1 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 Intel + XCode 3.1)
	GCC (Leopard 10.5.4 PPC + XCode 3.0) (non-default build)
- SunOS
	GCC 3.4.3 i86pc (SunOS 5.11 - OpenSolaris 2008.05)
- OS/2
	GCC 3.3.5 (EMX/Innotek)
- DOS
	GCC DJGPP 4.2.3 32 bit

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 11 15:51:34 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 15:51:46 2008
Subject: [Harbour] Error making libs with EVC4
In-Reply-To: <B469C91110BC4EA296B926CE738CFEE8@pepeluis>
References: <80b05d460808111158i47908884mbf65db98f24790af@mail.gmail.com>
	<2D87AF54-A66D-49E2-9A8B-5008934D907A@syenar.hu>
	<B469C91110BC4EA296B926CE738CFEE8@pepeluis>
Message-ID: <903A499E-C547-48A4-896F-4FCB51274B4E@syenar.hu>

Hi Jose,

You're doing a cross-platform build, but your harbour.exe
and hbpp.exe files were not rebuilt with recent version.

Please replace your harbour.exe and hbpp.exe with current
ones and retry.

Brgds,
Viktor

On 2008.08.11., at 21:44, Jos? Luis Capel - wrote:

> Hi,
>
> With latest svn.  Using this sets:
>
> SET HB_ARCHITECTURE=w32
> SET HB_GT_LIB=gtgui
> SET HB_GT_DEFAULT=gui
> SET HB_VISUALC_VER=60
> SET HB_BUILD_MODE=c
> SET CLIBFLAGS=-DHB_OS_WIN_32  -DHB_WINCE -DHB_GTGUI_HACK - 
> DHARBOUR_MAIN_WIN -DHB_TR_LEVEL_ALWAYS -DUNICODE
>
>
> make_vcce /CLEAN
> make_vcce
>
>
>
> I got this error:
>
>
> hbwince.c
> Microsoft (R) Library Manager Version 6.24.3077
> Copyright (C) Microsoft Corporation.  All rights reserved.
>
> hbpp.c
> LINK : warning LNK4044: unrecognized option '/MANIFEST:NO'; ignored
> Harbour Preprocessor 1.0.0
> Copyright 1999-2008, http://www.harbour-project.org
> pptable.c
> ppcore.c
> pplib.c
> Microsoft (R) Library Manager Version 6.24.3077
> Copyright (C) Microsoft Corporation.  All rights reserved.
>
> hbmain.c
> cmdcheck.c
> hbusage.c
> genhrb.c
> Microsoft (R) Library Manager Version 6.24.3077
> Copyright (C) Microsoft Corporation.  All rights reserved.
>
> estack.c
> extrap.c
> hvm.c
> itemapi.c
> runner.c
> mainwin.c
> Microsoft (R) Library Manager Version 6.24.3077
> Copyright (C) Microsoft Corporation.  All rights reserved.
>
> Error F0034  Bad command line option: 'km'
>
>
> Best Regards,
> JOs? Luis Capel
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Aug 11 15:56:42 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 15:56:52 2008
Subject: [Harbour] [1.0] 2008-08-11 21:20 UTC+0200 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8fbec$Blat.v2.6.2$6058c6eb$c38c723770a@127.0.0.1>

2008-08-11 21:20 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   ; Merging last-minute fixes to 1.0 from main branch.

   * contrib/hbmisc/spd.c
     ! Fix to SQL_SPRINTF() by Xavi.

   * make_xmingw.sh
     ! Fixed to look for hbpp in the path, like it does for 
       harbour.
--
Brgds,
Viktor

From capelsoft at terra.es  Mon Aug 11 16:00:14 2008
From: capelsoft at terra.es (=?iso-8859-1?Q?Jos=E9_Luis_Capel_-?=)
Date: Mon Aug 11 16:00:19 2008
Subject: [Harbour] Error making libs with EVC4
References: <80b05d460808111158i47908884mbf65db98f24790af@mail.gmail.com><2D87AF54-A66D-49E2-9A8B-5008934D907A@syenar.hu><B469C91110BC4EA296B926CE738CFEE8@pepeluis>
	<903A499E-C547-48A4-896F-4FCB51274B4E@syenar.hu>
Message-ID: <48BD895C0E244697A43EE3800ED6B479@pepeluis>

Victor,

Many thanks for you answer.  It was it!!

REgards,
Jos? Luis CApel

----- Original Message ----- 
From: "Szak?ts Viktor" <harbour.01@syenar.hu>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Monday, August 11, 2008 9:51 PM
Subject: Re: [Harbour] Error making libs with EVC4


Hi Jose,

You're doing a cross-platform build, but your harbour.exe
and hbpp.exe files were not rebuilt with recent version.

Please replace your harbour.exe and hbpp.exe with current
ones and retry.

Brgds,
Viktor

On 2008.08.11., at 21:44, Jos? Luis Capel - wrote:

> Hi,
>
> With latest svn.  Using this sets:
>
> SET HB_ARCHITECTURE=w32
> SET HB_GT_LIB=gtgui
> SET HB_GT_DEFAULT=gui
> SET HB_VISUALC_VER=60
> SET HB_BUILD_MODE=c
> SET CLIBFLAGS=-DHB_OS_WIN_32  -DHB_WINCE -DHB_GTGUI_HACK - 
> DHARBOUR_MAIN_WIN -DHB_TR_LEVEL_ALWAYS -DUNICODE
>
>
> make_vcce /CLEAN
> make_vcce
>
>
>
> I got this error:
>
>
> hbwince.c
> Microsoft (R) Library Manager Version 6.24.3077
> Copyright (C) Microsoft Corporation.  All rights reserved.
>
> hbpp.c
> LINK : warning LNK4044: unrecognized option '/MANIFEST:NO'; ignored
> Harbour Preprocessor 1.0.0
> Copyright 1999-2008, http://www.harbour-project.org
> pptable.c
> ppcore.c
> pplib.c
> Microsoft (R) Library Manager Version 6.24.3077
> Copyright (C) Microsoft Corporation.  All rights reserved.
>
> hbmain.c
> cmdcheck.c
> hbusage.c
> genhrb.c
> Microsoft (R) Library Manager Version 6.24.3077
> Copyright (C) Microsoft Corporation.  All rights reserved.
>
> estack.c
> extrap.c
> hvm.c
> itemapi.c
> runner.c
> mainwin.c
> Microsoft (R) Library Manager Version 6.24.3077
> Copyright (C) Microsoft Corporation.  All rights reserved.
>
> Error F0034  Bad command line option: 'km'
>
>
> Best Regards,
> JOs? Luis Capel
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour 

From harbour.01 at syenar.hu  Mon Aug 11 16:46:06 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 16:46:16 2008
Subject: [Harbour] Release 1.0.0 Final #10
Message-ID: <3D9CFB44-015D-480D-B09A-FC74A915EBBA@syenar.hu>

Hi all,

Last call for those who may want to test any pending
platforms. I'll tag 1.0.0 tomorrow.

Przemek, you're probably busy with other things, but
I'd be grateful if your could take a second look on
the latest patches of today and yesterday.

Pending platforms:
- BSD
- HPUX
- Other Linux distros (Mandriva, Slackware)

Tested platforms:
- Windows
	BCC 5.51
	BCC 5.82
	GCC MinGW 3.4.5 (on msys 1.0.10)
	GCC MinGW 4.1.2
	GCC MinGW 4.1.2 (on msys 1.0.10)
	GCC MinGW 4.2.1 (cross compile on Ubuntu 8.04.1)
	GCC MinGW 4.3.1a (on msys 1.0.10)
	MSVC 6 (ODBC problems)
	MSVC 12
	MSVS 2005
	MSVS 2005 C++
	MSVS 2008
	MSVS 2008 C++
	MSVS 2008 64 bit (FAILED - known)
	MSVS 2008 C++ 64 bit (cross-compile on Win32)
	PellesC 4.5
	PellesC 5.0
	PellesC 5.0 64 bit (cross-compile on Win32)
- WinCE
	MSVC 6 (EVC4)
	GCC 4.0.1 (mingw32ce 0.51.0) (cross-compile on Ubuntu 8.04.1)
- Linux
	GCC 4.2.3 (Ubuntu 8.04.1)
	GCC 4.3.0 (Fedora) (non-default build)
	GCC 4.2.1 (SuSE 10.3)
- OSX
	GCC 4.0.1 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 PPC + XCode 3.1)
	GCC 4.0.1 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 Intel + XCode 3.1)
	GCC (Leopard 10.5.4 PPC + XCode 3.0) (non-default build)
- SunOS
	GCC 3.4.3 i86pc (SunOS 5.11 - OpenSolaris 2008.05)
- OS/2
	GCC 3.3.5 (EMX/Innotek)
- DOS
	GCC DJGPP 4.2.3 32 bit

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 11 18:16:24 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 18:16:31 2008
Subject: [Harbour] [1.0] 2008-08-12 00:11 UTC+0200 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8fbff$Blat.v2.6.2$e4101c74$4c848bfea100@127.0.0.1>

2008-08-12 00:11 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   ; Merging last-minute fixes to 1.0 from main branch.

   * include/hbsetup.ch
   * include/hbapi.h
   * source/rtl/hbffind.c
     - Removed HB_FILE_VER stuff. It's lost its importancy with SVN.

   * include/Makefile
   * include/hbcommon.ch
     - Removed hbcommon.ch no longer needed. It only contained 
       HB_FILE_VER related stuff.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 11 18:22:36 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 11 18:22:48 2008
Subject: [Harbour] [1.0] 2008-08-12 00:17 UTC+0200 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8fc00$Blat.v2.6.2$c22c8ede$245c8d283e00@127.0.0.1>

2008-08-12 00:17 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   ; Merging last-minute fixes to 1.0 from main branch.

   * include/hbsetup.h
     ! HB_OS_LINUX, HB_OS_HPUX autodetection supposedly made more robust.
       [1.0]
--
Brgds,
Viktor

From toninhofwi at yahoo.com.br  Mon Aug 11 19:18:40 2008
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Mon Aug 11 19:12:40 2008
Subject: [Harbour] Ocassional SET ORDER TO failure in RDDADS - xHarbour
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EED0@SRV02.deltain.net>
References: <18768654.post@talk.nabble.com>
	<AFB948164110ED43B5EB849E8DEEF03815EED0@SRV02.deltain.net>
Message-ID: <74i1a4l6boph97pf356hfvgppdcbcftkb6@4ax.com>

Hi friends.

This problem was fully fixed after:

2008-08-04 22:13 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/rddads/ads1.c
    * minor cleanup and protection against possible strange results
      caused by indexes without tags

Thanks a lot...

Regards,

Toninho.

		
_______________________________________________________ 
Yahoo! Mail - Sempre a melhor opção para você! 
Experimente já e veja as novidades. 
http://br.yahoo.com/mailbeta/tudonovo/
 

From harbour.01 at syenar.hu  Tue Aug 12 04:56:59 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 04:57:05 2008
Subject: [Harbour] 2008-08-12 10:55 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fc59$Blat.v2.6.2$61171250$e6c36b860d0@127.0.0.1>

2008-08-12 10:55 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/lang/msgcskam.c
   * source/lang/msgcs852.c
   * source/lang/msgcsiso.c
   * source/lang/msgcswin.c
     ! Typo fixed (by Vojtech Obrdlik).
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 12 04:58:26 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 04:58:37 2008
Subject: [Harbour] [1.0] 2008-08-12 10:55 UTC+0200 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8fc59$Blat.v2.6.2$950a0f54$339cd6e1cb02@127.0.0.1>

2008-08-12 10:55 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   ; Merging last-minute fixes to 1.0 from main branch.

   * source/lang/msgcskam.c
   * source/lang/msgcs852.c
   * source/lang/msgcsiso.c
   * source/lang/msgcswin.c
     ! Typo fixed (by Vojtech Obrdlik).
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 12 06:06:27 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 06:06:32 2008
Subject: [Harbour] 2008-08-12 12:02 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fc63$Blat.v2.6.2$156e2b04$2638e636aa16@127.0.0.1>

2008-08-12 12:02 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/rddads/adsfunc.c
     ! Fixed GCC warning (Ubuntu/GCC422 + ACE 9.00.0.0)
     ; TOFIX: These ones still remain:
       ../../ads1.c: In function 'adsInfo':
       ../../ads1.c:2792: warning: format '%ld' expects type 'long int', but argument 5 has type 'UNSIGNED32'
       ../../ads1.c:2792: warning: format '%ld' expects type 'long int', but argument 6 has type 'UNSIGNED32'
       ../../ads1.c:2792: warning: format '%ld' expects type 'long int', but argument 5 has type 'UNSIGNED32'
       ../../ads1.c:2792: warning: format '%ld' expects type 'long int', but argument 6 has type 'UNSIGNED32'
       ../../adsfunc.c: In function 'HB_FUN_ADSVERSION':
       ../../adsfunc.c:1617: warning: format '%ld' expects type 'long int', but argument 4 has type 'UNSIGNED32'
       ../../adsfunc.c:1617: warning: format '%ld' expects type 'long int', but argument 5 has type 'UNSIGNED32'
       ../../adsfunc.c:1617: warning: format '%ld' expects type 'long int', but argument 4 has type 'UNSIGNED32'
       ../../adsfunc.c:1617: warning: format '%ld' expects type 'long int', but argument 5 has type 'UNSIGNED32'
       ../../adsfunc.c:1620: warning: format '%ld' expects type 'long int', but argument 5 has type 'UNSIGNED32'
       ../../adsfunc.c:1620: warning: format '%ld' expects type 'long int', but argument 6 has type 'UNSIGNED32'
       ../../adsfunc.c:1620: warning: format '%ld' expects type 'long int', but argument 5 has type 'UNSIGNED32'
       ../../adsfunc.c:1620: warning: format '%ld' expects type 'long int', but argument 6 has type 'UNSIGNED32'
       [1.0]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 12 06:07:50 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 06:07:56 2008
Subject: [Harbour] [1.0] 2008-08-12 12:02 UTC+0200 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8fc63$Blat.v2.6.2$470d1c24$294c2a48c67e@127.0.0.1>

2008-08-12 12:02 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   ; Merging last-minute fixes to 1.0 from main branch.

   * contrib/rddads/adsfunc.c
     ! Fixed GCC warning (Ubuntu/GCC422 + ACE 9.00.0.0)
     ; TOFIX: These ones still remain:
       ../../ads1.c: In function 'adsInfo':
       ../../ads1.c:2792: warning: format '%ld' expects type 'long int', but argument 5 has type 'UNSIGNED32'
       ../../ads1.c:2792: warning: format '%ld' expects type 'long int', but argument 6 has type 'UNSIGNED32'
       ../../ads1.c:2792: warning: format '%ld' expects type 'long int', but argument 5 has type 'UNSIGNED32'
       ../../ads1.c:2792: warning: format '%ld' expects type 'long int', but argument 6 has type 'UNSIGNED32'
       ../../adsfunc.c: In function 'HB_FUN_ADSVERSION':
       ../../adsfunc.c:1617: warning: format '%ld' expects type 'long int', but argument 4 has type 'UNSIGNED32'
       ../../adsfunc.c:1617: warning: format '%ld' expects type 'long int', but argument 5 has type 'UNSIGNED32'
       ../../adsfunc.c:1617: warning: format '%ld' expects type 'long int', but argument 4 has type 'UNSIGNED32'
       ../../adsfunc.c:1617: warning: format '%ld' expects type 'long int', but argument 5 has type 'UNSIGNED32'
       ../../adsfunc.c:1620: warning: format '%ld' expects type 'long int', but argument 5 has type 'UNSIGNED32'
       ../../adsfunc.c:1620: warning: format '%ld' expects type 'long int', but argument 6 has type 'UNSIGNED32'
       ../../adsfunc.c:1620: warning: format '%ld' expects type 'long int', but argument 5 has type 'UNSIGNED32'
       ../../adsfunc.c:1620: warning: format '%ld' expects type 'long int', but argument 6 has type 'UNSIGNED32'
--
Brgds,
Viktor

From druzus at acn.waw.pl  Tue Aug 12 06:31:07 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 12 06:31:16 2008
Subject: [Harbour] Re: Release 1.0.0 Final #10
In-Reply-To: <3D9CFB44-015D-480D-B09A-FC74A915EBBA@syenar.hu>
References: <3D9CFB44-015D-480D-B09A-FC74A915EBBA@syenar.hu>
Message-ID: <20080812103107.GA18705@34-mo7-2.acn.waw.pl>

On Mon, 11 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Last call for those who may want to test any pending
> platforms. I'll tag 1.0.0 tomorrow.
> Przemek, you're probably busy with other things, but
> I'd be grateful if your could take a second look on
> the latest patches of today and yesterday.

Sorry I really was but I'll try to look at it ASAP.
BTW thank you very much for tests with OpenSolaris.
I've also seen that you wrote about reverting forcing
bash mode in few scripts. We should keep this modification.
It does not make anything wrong (it does not call /bin/bash
explicitly) and we really should use bash in these scripts.

> Pending platforms:
> - BSD
> - HPUX

I'll made above.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Aug 12 07:02:18 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 12 07:02:25 2008
Subject: [Harbour] 2008-08-12 13:01 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808121102.m7CB2IkM022826@31-mo5-4.acn.waw.pl>

2008-08-12 13:01 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/make_xmingw.sh
  * harbour/make_xmingwce.sh
    ! cleanup and some minor fixes
    * synced behavior of both scripts in few places

  * harbour/contrib/rddads/ads1.c
  * harbour/contrib/rddads/adsfunc.c
    ! fixed casting of parameters passed to snprintf()

best regards
Przemek
From harbour.01 at syenar.hu  Tue Aug 12 07:10:13 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 07:10:18 2008
Subject: [Harbour] 2008-08-12 13:00 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fc6b$Blat.v2.6.2$fdf0f96c$ad41a8e5cca@127.0.0.1>

2008-08-12 13:00 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbhpdf/Makefile
     ! Fixed to find libharu headers in its current default 
       location. (tested on Ubuntu with .tar.gz package from 
       libharu.org.)
       [1.0]

   ; Some more (albeit not new) errors from Ubuntu when compiled 
     will all possible external packages installed:

     In file included from ../../fi_winfu.c:74:
     /usr/include/FreeImage.h:134: error: conflicting types for 'LONG'
     ../../../../include/hbdefs.h:205: error: previous declaration of 'LONG' was here
     In file included from ../../fi_wrp.c:74:
     /usr/include/FreeImage.h:134: error: conflicting types for 'LONG'
     ../../../../include/hbdefs.h:205: error: previous declaration of 'LONG' was here
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 12 07:21:37 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 07:21:44 2008
Subject: [Harbour] [1.0] 2008-08-12 13:00 UTC+0200 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8fc6d$Blat.v2.6.2$961325f2$11048cb7b092@127.0.0.1>

2008-08-12 13:00 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   ; Merging last-minute fixes to 1.0 from main branch.

   * contrib/hbhpdf/Makefile
     ! Fixed to find libharu headers in its current default 
       location. (tested on Ubuntu with .tar.gz package from 
       libharu.org.)

   ; Some more (albeit not new) errors from Ubuntu when compiled 
     will all possible external packages installed:

     In file included from ../../fi_winfu.c:74:
     /usr/include/FreeImage.h:134: error: conflicting types for 'LONG'
     ../../../../include/hbdefs.h:205: error: previous declaration of 'LONG' was here
     In file included from ../../fi_wrp.c:74:
     /usr/include/FreeImage.h:134: error: conflicting types for 'LONG'
     ../../../../include/hbdefs.h:205: error: previous declaration of 'LONG' was here

2008-08-12 13:01 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
   ; Merging last-minute fixes to 1.0 from main branch.

  * harbour/make_xmingw.sh
  * harbour/make_xmingwce.sh
    ! cleanup and some minor fixes
    * synced behavior of both scripts in few places

  * harbour/contrib/rddads/ads1.c
  * harbour/contrib/rddads/adsfunc.c
    ! fixed casting of parameters passed to snprintf()
--
Brgds,
Viktor

From druzus at acn.waw.pl  Tue Aug 12 08:07:24 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 12 08:07:31 2008
Subject: [Harbour] 2008-08-12 14:06 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808121207.m7CC7Oo0017965@31-mo5-4.acn.waw.pl>

2008-08-12 14:06 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/make_rpmw32.sh
  * harbour/make_rpmce.sh
    ! fixed release number setting for empty harbour release string

best regards
Przemek
From harbour.01 at syenar.hu  Tue Aug 12 10:11:33 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 10:11:41 2008
Subject: [Harbour] 2008-08-12 16:00 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fc85$Blat.v2.6.2$52d2ff8e$45046c0e7618@127.0.0.1>

2008-08-12 16:00 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/Makefile
   - doc/hbpplib.txt
     - Removed obsolete file.
       [1.0]

   * doc/linux1st.txt
     * Added required Ubuntu packages for all existing contribs 
       (except hbgf).
       [1.0]

   * doc/whatsnew.txt
     + Added "Known issues", with MSVC 64 bit C mode compilation 
       and hbfimage compile failure in Linux.
       [1.0]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 12 10:12:49 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 10:13:03 2008
Subject: [Harbour] [1.0] 2008-08-12 16:00 UTC+0200 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8fc85$Blat.v2.6.2$8070bd82$43a09d55b908@127.0.0.1>

2008-08-12 16:00 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   ; Merging last-minute fixes to 1.0 from main branch.

   * doc/Makefile
   - doc/hbpplib.txt
     - Removed obsolete file.

   * doc/linux1st.txt
     * Added required Ubuntu packages for all existing contribs 
       (except hbgf).

   * doc/whatsnew.txt
     + Added "Known issues", with MSVC 64 bit C mode compilation 
       and hbfimage compile failure in Linux.

2008-08-12 14:06 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  ; Merging last-minute fixes to 1.0 from main branch.

  * harbour/make_rpmw32.sh
  * harbour/make_rpmce.sh
    ! fixed release number setting for empty harbour release string
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 12 10:17:20 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 10:17:44 2008
Subject: [Harbour] hbgf Linux failure
Message-ID: <D66DC718-4E70-4CBC-A93D-1B647E5840E4@syenar.hu>

Hi Przemek and all,

I've tried to build hbgfgtk, by doing these first:
sudo apt-get install libglib2.0-dev
sudo opt-get install libglib1.2-dev (to run glib-config, otherwise  
glibconfig.h couldn't be found)

But I'm still getting the attached errors.

[ All this on Ubuntu 8.04.1, brand new install. ]

Brgds,
Viktor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbgf-linux-failure.zip
Type: application/zip
Size: 20638 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080812/5eb28fe9/hbgf-linux-failure-0001.zip
-------------- next part --------------



From lorenzo.fiorini at gmail.com  Tue Aug 12 10:45:42 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Aug 12 10:45:47 2008
Subject: [Harbour] hbgf Linux failure
In-Reply-To: <D66DC718-4E70-4CBC-A93D-1B647E5840E4@syenar.hu>
References: <D66DC718-4E70-4CBC-A93D-1B647E5840E4@syenar.hu>
Message-ID: <9257026e0808120745n2c21103fg557514e071c96a67@mail.gmail.com>

On Tue, Aug 12, 2008 at 4:17 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> I've tried to build hbgfgtk, by doing these first:
> sudo apt-get install libglib2.0-dev
> sudo opt-get install libglib1.2-dev (to run glib-config, otherwise
> glibconfig.h couldn't be found)
>
> But I'm still getting the attached errors.
>
> [ All this on Ubuntu 8.04.1, brand new install. ]

I've just tried under Fedora 9 and it builds without errors, I'll try
under Ubuntu.

It's strange that both glib 2 and glib 1.2 are needed.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Tue Aug 12 10:57:43 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Aug 12 10:57:49 2008
Subject: [Harbour] hbgf Linux failure
In-Reply-To: <9257026e0808120745n2c21103fg557514e071c96a67@mail.gmail.com>
References: <D66DC718-4E70-4CBC-A93D-1B647E5840E4@syenar.hu>
	<9257026e0808120745n2c21103fg557514e071c96a67@mail.gmail.com>
Message-ID: <9257026e0808120757k6c5272e6m8324bcc1032bb6e@mail.gmail.com>

On Tue, Aug 12, 2008 at 4:45 PM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com> wrote:

> I've just tried under Fedora 9 and it builds without errors, I'll try
> under Ubuntu.

You need to install libgtk2.0-dev and you shouldn't need glib1.2.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Tue Aug 12 11:00:02 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 11:00:11 2008
Subject: [Harbour] hbgf Linux failure
In-Reply-To: <9257026e0808120745n2c21103fg557514e071c96a67@mail.gmail.com>
References: <D66DC718-4E70-4CBC-A93D-1B647E5840E4@syenar.hu>
	<9257026e0808120745n2c21103fg557514e071c96a67@mail.gmail.com>
Message-ID: <C2115E03-0990-4E7C-965F-9B914A9D92EF@syenar.hu>

>>
Hi Lorenzo,

>> I've tried to build hbgfgtk, by doing these first:
>> sudo apt-get install libglib2.0-dev
>> sudo opt-get install libglib1.2-dev (to run glib-config, otherwise
>> glibconfig.h couldn't be found)
>>
>> But I'm still getting the attached errors.
>>
>> [ All this on Ubuntu 8.04.1, brand new install. ]
>
> I've just tried under Fedora 9 and it builds without errors, I'll try
> under Ubuntu.
>
> It's strange that both glib 2 and glib 1.2 are needed.

Don't take it as granted. I've first installed libglib2.0-dev,
but I got about 2MB worth of error log, and the starting
point _seemed_ missing glibconfig.h. I've read somewhere that
glib-config can be used to generate it, and typing glib-config
told me I need libglib1.2-dev for that to work, so I've installed
it, and tried again, with the posted results.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 12 11:00:28 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 11:00:34 2008
Subject: [Harbour] hbgf Linux failure
In-Reply-To: <9257026e0808120757k6c5272e6m8324bcc1032bb6e@mail.gmail.com>
References: <D66DC718-4E70-4CBC-A93D-1B647E5840E4@syenar.hu>
	<9257026e0808120745n2c21103fg557514e071c96a67@mail.gmail.com>
	<9257026e0808120757k6c5272e6m8324bcc1032bb6e@mail.gmail.com>
Message-ID: <0867A511-C190-4684-A23A-DBA1B1AA1F7F@syenar.hu>

Okay, let me try.

Brgds,
Viktor

On 2008.08.12., at 16:57, Lorenzo Fiorini wrote:

> On Tue, Aug 12, 2008 at 4:45 PM, Lorenzo Fiorini
> <lorenzo.fiorini@gmail.com> wrote:
>
>> I've just tried under Fedora 9 and it builds without errors, I'll try
>> under Ubuntu.
>
> You need to install libgtk2.0-dev and you shouldn't need glib1.2.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Aug 12 11:14:41 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 11:15:03 2008
Subject: [Harbour] hbgf Linux failure
In-Reply-To: <9257026e0808120757k6c5272e6m8324bcc1032bb6e@mail.gmail.com>
References: <D66DC718-4E70-4CBC-A93D-1B647E5840E4@syenar.hu>
	<9257026e0808120745n2c21103fg557514e071c96a67@mail.gmail.com>
	<9257026e0808120757k6c5272e6m8324bcc1032bb6e@mail.gmail.com>
Message-ID: <61281E85-6A6F-4844-94E8-985E40E391BD@syenar.hu>

Thanks a lot Lorenzo, now it compiles without a hitch.

I do need still hbglib2.0-dev though, right?

Brgds,
Viktor

On 2008.08.12., at 16:57, Lorenzo Fiorini wrote:

> On Tue, Aug 12, 2008 at 4:45 PM, Lorenzo Fiorini
> <lorenzo.fiorini@gmail.com> wrote:
>
>> I've just tried under Fedora 9 and it builds without errors, I'll try
>> under Ubuntu.
>
> You need to install libgtk2.0-dev and you shouldn't need glib1.2.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Tue Aug 12 11:28:03 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Aug 12 11:28:08 2008
Subject: [Harbour] hbgf Linux failure
In-Reply-To: <61281E85-6A6F-4844-94E8-985E40E391BD@syenar.hu>
References: <D66DC718-4E70-4CBC-A93D-1B647E5840E4@syenar.hu>
	<9257026e0808120745n2c21103fg557514e071c96a67@mail.gmail.com>
	<9257026e0808120757k6c5272e6m8324bcc1032bb6e@mail.gmail.com>
	<61281E85-6A6F-4844-94E8-985E40E391BD@syenar.hu>
Message-ID: <9257026e0808120828o6b7c1c71o614b1f8ebb6aa129@mail.gmail.com>

On Tue, Aug 12, 2008 at 5:14 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> I do need still hbglib2.0-dev though, right?

Yes, glib is the "foundation" for gtk is normal to have both.

gtk 1.2 is quite old and unfortunately around the net there are a lot
of outdated resources.

I don't want to start a flame but my experience is that Ubuntu is
really good user oriented distro with really strong hardware support.
However RedHat has key developers in gcc, Linux kernel, xorg, gnome,
gtk, Java, OpenOffice and many other projects, and is used as
development distro by PS3, IBM and Eclipse teams.
This is reflected in the quality of the development tools that you
find in RHEL, Fedora, Centos.

best regards,
Lorenzo
From harbour at cbn.net.id  Tue Aug 12 12:30:56 2008
From: harbour at cbn.net.id (Andi Jahja)
Date: Tue Aug 12 12:34:55 2008
Subject: [Harbour] Release 1.0.0 Final #10
In-Reply-To: <3D9CFB44-015D-480D-B09A-FC74A915EBBA@syenar.hu>
References: <3D9CFB44-015D-480D-B09A-FC74A915EBBA@syenar.hu>
Message-ID: <20080812232656.6F6E.EBF3FC18@cbn.net.id>

On Mon, 11 Aug 2008 22:46:06 +0200
Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Pending platforms:
> - BSD
> - HPUX
> - Other Linux distros (Mandriva, Slackware)
> 

No touch on OpenWatcom? Is's a very good compiler, in term of speed, it
is the same level of the free MSVS 9 (aka MS Visual Studion 2008).
--
Andi


From harbour.01 at syenar.hu  Tue Aug 12 12:38:00 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 12:38:13 2008
Subject: [Harbour] Release 1.0.0 Final #10
In-Reply-To: <20080812232656.6F6E.EBF3FC18@cbn.net.id>
References: <3D9CFB44-015D-480D-B09A-FC74A915EBBA@syenar.hu>
	<20080812232656.6F6E.EBF3FC18@cbn.net.id>
Message-ID: <E0154E99-7CE2-479F-92E8-E86E8B16C7D6@syenar.hu>

Hi Andi,

Yes, it would have been included in the #11
release mail, you're right I've forgotten
about it so far. I don't have it installed though,
so ppl on list are welcome to make tests in
DOS, Windows and Linux OpenWatcom compilers.

Brgds,
Viktor

On 2008.08.12., at 18:30, Andi Jahja wrote:

> On Mon, 11 Aug 2008 22:46:06 +0200
> Szak?ts Viktor <harbour.01@syenar.hu> wrote:
>
>> Pending platforms:
>> - BSD
>> - HPUX
>> - Other Linux distros (Mandriva, Slackware)
>>
>
> No touch on OpenWatcom? Is's a very good compiler, in term of speed,  
> it
> is the same level of the free MSVS 9 (aka MS Visual Studion 2008).
> --
> Andi
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour at cbn.net.id  Tue Aug 12 12:41:11 2008
From: harbour at cbn.net.id (Andi Jahja)
Date: Tue Aug 12 12:45:11 2008
Subject: [Harbour] Release 1.0.0 Final #10
In-Reply-To: <20080812232656.6F6E.EBF3FC18@cbn.net.id>
References: <3D9CFB44-015D-480D-B09A-FC74A915EBBA@syenar.hu>
	<20080812232656.6F6E.EBF3FC18@cbn.net.id>
Message-ID: <20080812233830.6F71.EBF3FC18@cbn.net.id>

> No touch on OpenWatcom? 

Please also consider DMC (aka Symantec C Plua Plus):
http://www.digitalmars.com, yet another!
--
Andi

From harbour at cbn.net.id  Tue Aug 12 12:49:16 2008
From: harbour at cbn.net.id (Andi Jahja)
Date: Tue Aug 12 12:53:13 2008
Subject: [Harbour] Release 1.0.0 Final #10
In-Reply-To: <E0154E99-7CE2-479F-92E8-E86E8B16C7D6@syenar.hu>
References: <20080812232656.6F6E.EBF3FC18@cbn.net.id>
	<E0154E99-7CE2-479F-92E8-E86E8B16C7D6@syenar.hu>
Message-ID: <20080812234421.6F74.EBF3FC18@cbn.net.id>

On Tue, 12 Aug 2008 18:38:00 +0200
Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Yes, it would have been included in the #11
> release mail, you're right I've forgotten
> about it so far. I don't have it installed though,
> so ppl on list are welcome to make tests in
> DOS, Windows and Linux OpenWatcom compilers.

Viktor,

OpenWatcom should be working OK, so does MSVS 2008 and DMC.
BTW, why MSVC 7 and MSVS 9 seemed to be ignored? Anyway, the things that
you did not mentioned, eg DMC, MSVC7(2003), MSVS9, OpenWatcom are all OK
here.

Except: tests/testole.prg failed on OpenWatcom and DMC.

Congrats for the great work!
--
Andi

From harbour at cbn.net.id  Tue Aug 12 13:02:19 2008
From: harbour at cbn.net.id (Andi Jahja)
Date: Tue Aug 12 13:06:16 2008
Subject: [Harbour] Release 1.0.0 Final #10
In-Reply-To: <20080812234421.6F74.EBF3FC18@cbn.net.id>
References: <E0154E99-7CE2-479F-92E8-E86E8B16C7D6@syenar.hu>
	<20080812234421.6F74.EBF3FC18@cbn.net.id>
Message-ID: <20080813000057.6F77.EBF3FC18@cbn.net.id>

On Tue, 12 Aug 2008 23:49:16 +0700
Andi Jahja <harbour@cbn.net.id> wrote:

> you did not mentioned, ... MSVS9

Sorry, you did it :-)
--
Andi

From harbour.01 at syenar.hu  Tue Aug 12 13:07:24 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 13:07:40 2008
Subject: [Harbour] Release 1.0.0 Final #10
In-Reply-To: <20080812234421.6F74.EBF3FC18@cbn.net.id>
References: <20080812232656.6F6E.EBF3FC18@cbn.net.id>
	<E0154E99-7CE2-479F-92E8-E86E8B16C7D6@syenar.hu>
	<20080812234421.6F74.EBF3FC18@cbn.net.id>
Message-ID: <66A3EB79-E6AC-4A61-9B51-37C24EC13821@syenar.hu>

>
Hi Andi,

>> Yes, it would have been included in the #11
>> release mail, you're right I've forgotten
>> about it so far. I don't have it installed though,
>> so ppl on list are welcome to make tests in
>> DOS, Windows and Linux OpenWatcom compilers.
>
> Viktor,
>
> OpenWatcom should be working OK, so does MSVS 2008 and DMC.
> BTW, why MSVC 7 and MSVS 9 seemed to be ignored? Anyway, the things  
> that
> you did not mentioned, eg DMC, MSVC7(2003), MSVS9, OpenWatcom are  
> all OK
> here.
>
> Except: tests/testole.prg failed on OpenWatcom and DMC.

Which one exactly, the one in hbole or the one in hbw32?
(also how did it fail?)

MSVC 9 is the same as MSVS 2008, AFAIK. As for
MSVC 7.0 (= MSVS 2002/.NET) and MSVC7.1 (= MSVS 2003) it's
not ignored at all, it just so happens I don't have these
products installed (since they aren't available for free,
and I didn't buy them), and no one submitted any results
with them either, until now :)

BTW, which DMC version and OpenWatcom/platform/version did
you use for testing? Also, what make method did you use?

I'd be happy to include these as well in the next release
mail.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 12 13:32:12 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 13:32:18 2008
Subject: [Harbour] 2008-08-12 19:31 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fca1$Blat.v2.6.2$5ade9a32$2864e290bcf4@127.0.0.1>

2008-08-12 19:31 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/linux1st.txt
     * Updated with hbgf package requirement information.
       [1.0]

   * contrib/hbcurl/hbcurl.ch
     * Minor update for libcurl 7.18.2
       [1.0]
--
Brgds,
Viktor

From druzus at acn.waw.pl  Tue Aug 12 13:54:58 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 12 13:55:04 2008
Subject: [Harbour] 2008-08-12 19:31 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8fca1$Blat.v2.6.2$5ade9a32$2864e290bcf4@127.0.0.1>
References: <01c8fca1$Blat.v2.6.2$5ade9a32$2864e290bcf4@127.0.0.1>
Message-ID: <20080812175457.GA27494@34-mo7-2.acn.waw.pl>

On Tue, 12 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> 2008-08-12 19:31 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>    * doc/linux1st.txt
>      * Updated with hbgf package requirement information.

   For mouse support
   sudo apt-get install libgpmg1-dev

should be changed to:
   For console mouse support in GTTRM GTSLN and GTCRS:
   sudo apt-get install libgpmg1-dev

GPM is used only in those three GTs and only when
harbour application is executed directly in console
without pseudo terminal. When you execute Harbour
application from remote terminal or terminal emulator
(XTERM, PTERM, ...) then mouse is supported without GPM
if terminal can report X11 mouse events.

I also suggest to add small info about:
   ./make_deb.sh
   dpkg -i harbour-*.deb
   and small note about hb* tools with redirection to doc/howtobld.txt
Probably we should also remove the section about manual building in
'DEBIAN distro' part - it's not longer necessary and some information
is not correct for current SVN code.
Description for Ubunto should be also valid in Debian.
Instead we should add small info for RPM based distributions:
   ./make_rpm.sh
maybe also about:
   ./make_tgz.zh
and:
   ./make_gnu.sh

best regards,
Przemek
From druzus at acn.waw.pl  Tue Aug 12 14:47:09 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 12 14:47:15 2008
Subject: [Harbour] Wich datatype are supported?
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EED4@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815EED4@SRV02.deltain.net>
Message-ID: <20080812184709.GA31733@34-mo7-2.acn.waw.pl>

On Sun, 10 Aug 2008, Massimo Belgrano wrote:

Hi Massimo,

> Wich datatype are supported by dbfcdx?

you can create tags on character, numeric, date and logical
expressions used as key. All numeric values are represented
ad modified IEEE758 double values so precision is up to 53bits.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Aug 12 14:55:31 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 14:55:36 2008
Subject: [Harbour] 2008-08-12 19:31 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fcac$Blat.v2.6.2$febf74d6$31048f5ba35c@127.0.0.1>

2008-08-12 19:31 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   + config/w32/dm.cf
     + Digital Mars .cf file added. Some cleanups done, and 
       TOFIX added besides the following:
     ; TOFIX: This file comes from xhb, and it needs to be updated 
              to create core and contrib .lib files in central dir.
              Until then it doesn't work. Ryszard, if you see 
              this, could you take a look?

   * config/dos/djgpp.cf
   * config/w32/bcc32.cf
   * config/w32/xcc.cf
     % Unnecessary CPPFLAGS -I options deleted:
       -I$(TOP)
       -I$(TOP)include
       -Iinclude
       -I$(TOP)$(ROOT)

   ; NOTE/TODO: CPPFLAGS -i usage should be cleaned for these files:
     config/dos/owatcom.cf
     config/linux/owatcom.cf
     config/os2/gcc.cf
     config/w32/owatcom.cf
     config/w32/watcom.cf
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 12 15:00:49 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 15:00:58 2008
Subject: [Harbour] 2008-08-12 19:31 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <20080812175457.GA27494@34-mo7-2.acn.waw.pl>
References: <01c8fca1$Blat.v2.6.2$5ade9a32$2864e290bcf4@127.0.0.1>
	<20080812175457.GA27494@34-mo7-2.acn.waw.pl>
Message-ID: <36079EAB-2A98-401F-9E93-57E77BDBE968@syenar.hu>

Thanks Przemek.

I'll do some minimal update, but I'll leave the proper
documentation for someone else. The second part of
linux1st seems mostly outdated by now also.

Brgds,
Viktor

On 2008.08.12., at 19:54, Przemyslaw Czerpak wrote:

> On Tue, 12 Aug 2008, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>> 2008-08-12 19:31 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>>   * doc/linux1st.txt
>>     * Updated with hbgf package requirement information.
>
>   For mouse support
>   sudo apt-get install libgpmg1-dev
>
> should be changed to:
>   For console mouse support in GTTRM GTSLN and GTCRS:
>   sudo apt-get install libgpmg1-dev
>
> GPM is used only in those three GTs and only when
> harbour application is executed directly in console
> without pseudo terminal. When you execute Harbour
> application from remote terminal or terminal emulator
> (XTERM, PTERM, ...) then mouse is supported without GPM
> if terminal can report X11 mouse events.
>
> I also suggest to add small info about:
>   ./make_deb.sh
>   dpkg -i harbour-*.deb
>   and small note about hb* tools with redirection to doc/howtobld.txt
> Probably we should also remove the section about manual building in
> 'DEBIAN distro' part - it's not longer necessary and some information
> is not correct for current SVN code.
> Description for Ubunto should be also valid in Debian.
> Instead we should add small info for RPM based distributions:
>   ./make_rpm.sh
> maybe also about:
>   ./make_tgz.zh
> and:
>   ./make_gnu.sh
>
> best regards,
> Przemek

From harbour.01 at syenar.hu  Tue Aug 12 15:04:25 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 15:04:30 2008
Subject: [Harbour] 2008-08-12 21:02 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fcae$Blat.v2.6.2$3cde7982$2920d44b482e@127.0.0.1>

2008-08-12 21:02 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/linux1st.txt
     * Some further updates.
       [1.0]
--
Brgds,
Viktor

From druzus at acn.waw.pl  Tue Aug 12 16:50:41 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 12 16:50:47 2008
Subject: [Harbour] 2008-08-12 22:49 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808122050.m7CKofA5018969@31-mo5-4.acn.waw.pl>

2008-08-12 22:49 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/w32/dm.cf
    * updated for central library directory used by Harbour - not tested

  * harbour/config/w32/xcc.cf
    ! fixed include PATH in XCC builds - Viktor be carefull with
      cleaning -I<path> parameter. Some compilers use different
      rulles then the one you may expect using the most popular
      ones and such operation will break compilation. F.e. XCC
      seems to ignore source file location for releative paths
      so in GNU make builds it's necessary to add "-I$(TOP)"
      instead of "-I." and when included file starts with ".."
      then it does not try to use it with paths set by -I option
      so we need -I$(TOP)$(ROOT) and hard coded for this compiler
      directories in include/hbregex.h and include/hbzip.h

  * harbour/source/hbzlib/zutil.h
    ! do not use fdopen() with XCC - it does not support it

  * harbour/contrib/examples/pp/pp.c
  * harbour/contrib/examples/pp/hbppcore.c
  * harbour/source/common/hbfsapi.c
  * harbour/source/rtl/fnsplit.c
  * harbour/source/rtl/fstemp.c
    ! always use _POSIX_PATH_MAX + 1 buffers

  * harbour/source/compiler/gencobj.c
    * extended line buffer size

  * harbour/source/rtl/gtcrs/gtcrs.h
    * removed unnecessary declaration for _POSIX_PATH_MAX
      it's always defined in Harbour header files

  * harbour/source/rtl/inkey.c
  * harbour/source/rtl/hbinet.c
  * harbour/source/rtl/gtwvt/gtwvt.c
    * use hb_array[SG]et*() functions insteaf of
      hb_item*( hb_arrayGetItemPtr, ... )

best regards
Przemek
From harbour.01 at syenar.hu  Tue Aug 12 19:12:43 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 19:12:47 2008
Subject: [Harbour] 2008-08-13 01:11 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fcd0$Blat.v2.6.2$ecc4de82$43a05a19f4da@127.0.0.1>

2008-08-13 01:11 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/whatsnew.txt
     * Extended releases notes/issues section.

   * config/w32/dm.cf
     ! Fixed to exclude "possible extraneous ';'" warnings 
       for every for()/while()/etc constructs with an empty body.
     ! Further fixes to link/lib rules.
     ; TOFIX1: odbc.c, gtwvg.c still don't compile.
     ; TOFIX2: Harbour executables won't run, by simply doing nothing.

   * source/rtl/gtwvt/gtwvt.c
     ! Fixed to compile with __DMC__.
     ; NOTE: Przemek, could you please check these?

   * include/hbsetup.h
     ! snprintf() for __DMC__.
     
   * contrib/hbw32/dllcall.c
     ! Fixed casting for __DMC__.

   * contrib/hbsqlit3/hbsqlit3.c
     ! Workaround for Pelles C 4.5 and Open Watcom, so that 
       sqlite3.c won't be included for these compilers.
       Pelles C 4.5 crashes, Open Watcom 1.7 goes into an 
       infinite loop on this huge file. For thes compilers 
       the sqlite3 library should be supplied by the users.

   * contrib/hbapollo/apollo.c
     ! Fixed to compile with Open Watcom.

   * source/vm/mainwin.c
   * source/vm/hvm.c
     ! Fix for __DMC__ startup problem:
       'OPTLINK : Warning 134: No Start Address'
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 12 19:47:22 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 19:47:30 2008
Subject: [Harbour] Release 1.0.0 Final #11
Message-ID: <9EEF65F9-E7A4-4B2C-9CF7-B1989C4FAD50@syenar.hu>

Hi all,

---- some personal comments
Since I believe we could spend a year testing all existing
combinations of compilers, platforms, build options and
external lib versions, we should draw the line somewhere,
my personal platforms / compiler preference is as follows:
Platforms:
- Tier 1: Windows x86, Linux (Debian/RedHat), OS X
- Tier 2: WinCE, BSD, SunOS, Windows x64
- Tier 3: OS/2, HPUX, DOS
Compilers:
- Tier 1: GCC 3/4, BCC 5.5, MSVC 2005/2008
- Tier 2: Remaining BCC and MSVC versions.
- Tier 3: Open Watcom, DMC, XCC, Pelles C, other platform specific  
compilers.
Build options:
- The SVN defaults in the first place.
I'll probably (re)limit my testing to Tier 1 stuff, since 80%
of the work done is spent on 20% of combinations, and
this 20% won't probably be used by this much % of users.
----

Pending platforms:
- BSD
- HPUX
- Open Watcom (Linux)
- Other Linux distros (Mandriva, Slackware)

Tested platforms:
- Windows
	BCC 5.51
	BCC 5.82
	GCC MinGW 3.4.5 (on msys 1.0.10)
	GCC MinGW 4.1.2
	GCC MinGW 4.1.2 (on msys 1.0.10)
	GCC MinGW 4.2.1 (cross compile on Ubuntu 8.04.1)
	GCC MinGW 4.3.1a (on msys 1.0.10)
	MSVC 6.0 (HBODBC problems)
	MSVC 7.1 (MSVS 2003)
	MSVC 8.0 (MSVS 2005)
	MSVC 8.0 (MSVS 2005) C++
	MSVC 9.0 (MSVS 2008 SP1)
	MSVC 9.0 (MSVS 2008 SP1) C++
	MSVC 9.0 (MSVS 2008 SP1) 64 bit (FAILED - known)
	MSVC 9.0 (MSVS 2008 SP1) C++ 64 bit (cross-compile on Win32)
	PellesC 4.5 (HBSQLIT3: interface only)
	PellesC 5.0
	PellesC 5.0 64 bit (cross-compile on Win32) (some compiler problems)
	Open Watcom 1.7 (HBSQLIT3: interface only)
	Digital Mars C 4.50 (HBODBC, GTWVG problems, FAILED)
- WinCE
	MSVC 6.0 (EVC4)
	GCC 4.0.1 (mingw32ce 0.51.0) (cross-compile on Ubuntu 8.04.1)
- Linux
	GCC 4.2.3 (Ubuntu 8.04.1)
	GCC 4.3.0 (Fedora) (non-default build)
	GCC 4.2.1 (SuSE 10.3)
- OS X
	GCC 4.0.1 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 PPC + XCode 3.1)
	GCC 4.0.1 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 Intel + XCode 3.1)
	GCC 4.0.1 PPC (Leopard 10.5.4 PPC + XCode 3.0) (non-default build)
- Solaris
	GCC 3.4.3 i86pc (SunOS 5.11 - OpenSolaris 2008.05)
- OS/2
	GCC 3.3.5 (EMX/Innotek)
- DOS
	GCC 4.2.3 32 bit (DJGPP) ('make install' won't properly work)
	Open Watcom 1.7 (utter FAILURE)

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 12 19:59:48 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 19:59:56 2008
Subject: [Harbour] hbgf Linux failure
In-Reply-To: <9257026e0808120828o6b7c1c71o614b1f8ebb6aa129@mail.gmail.com>
References: <D66DC718-4E70-4CBC-A93D-1B647E5840E4@syenar.hu>
	<9257026e0808120745n2c21103fg557514e071c96a67@mail.gmail.com>
	<9257026e0808120757k6c5272e6m8324bcc1032bb6e@mail.gmail.com>
	<61281E85-6A6F-4844-94E8-985E40E391BD@syenar.hu>
	<9257026e0808120828o6b7c1c71o614b1f8ebb6aa129@mail.gmail.com>
Message-ID: <1D495A32-B7FF-407E-8518-F0CD9D3D8378@syenar.hu>

>>
Hi Lorenzo,

>> I do need still hbglib2.0-dev though, right?
>
> Yes, glib is the "foundation" for gtk is normal to have both.

Thanks.

> gtk 1.2 is quite old and unfortunately around the net there are a lot
> of outdated resources.
>
> I don't want to start a flame but my experience is that Ubuntu is
> really good user oriented distro with really strong hardware support.
> However RedHat has key developers in gcc, Linux kernel, xorg, gnome,
> gtk, Java, OpenOffice and many other projects, and is used as
> development distro by PS3, IBM and Eclipse teams.
> This is reflected in the quality of the development tools that you
> find in RHEL, Fedora, Centos.

For me RedHat "lost" it when it got split between the
above, I can't really see or tell the difference, so I
have no idea which one would fit me the best. I've found
Debian more clear, and more consistently recommended around
those how deal with this more deeply. But all this is more
of a subjective thing and it's not even based on too much
first hand experience or deep knowledge.

So we can say my preference in Linux distros is pretty light
and I could hardly go to a flame war for any one of them :)

Maybe later I will give a try with a RedHat based distro.
The big question is still: with which one?

[ BTW, I once was a RedHat "user", meaning my small
experimental home server was running it for years. It
was the RedHat 6-7-8 era. With as painful update process
as it can be. ]

Brgds,
Viktor

From philb at philb.us  Tue Aug 12 20:14:18 2008
From: philb at philb.us (Phil Barnett)
Date: Tue Aug 12 20:14:26 2008
Subject: [Harbour] Fwd: SourceForge.net Project Web/Shell/Database Migration
	on 2008-08-18
Message-ID: <200808122014.18419.philb@philb.us>


----------  Forwarded Message  ----------

Subject: SourceForge.net Project Web/Shell/Database Migration on 2008-08-18
Date: Wednesday 06 August 2008
From: "SourceForge.net Team" 

Greetings,

The date for the migration of the project web, database and shell services
to the new Chicago data center is 2008-08-18 starting at 05:00 Pacific
(12:00 UTC). This message is being sent to project admins to let you know
what to expect ahead of time. Should someone else on your team who is not a
project admin need this information, forward it to them. Please note, this
migration will involve a service downtime, as detailed below.

List of changes by service:

Project Web - http://sf.net/community/forum/topic.php?id=2840
Project Shell - http://sf.net/community/forum/topic.php?id=2838
Project Database - http://sf.net/community/forum/topic.php?id=2839


Here's how we are going to do the migration:

1. We will revoke write access to all project content on the project shell
service, web and database. Read operations will continue to work in the old
data center. Some applications may be impacted by lack of write access.
There is no need to report such issues to us during the migration.

2. We will disable shell access.

3. We will have already copied the data to the new data center. A final
copy of all project group file content and /tmp/persistent content will be
sent to the new data center at this time.

4. We will confirm proper service operation.

5. DNS will be updated to point to the new data center.

6. Projects will then need to make application changes and move data to new
locations to match software to new data center environment.



We expect the data copy and service cutover to take about 8 hours. This is
exclusive of MySQL database migration.

While the above steps are happening we will be checking, fixing, dumping
and restoring databases from the old data center to the new. We currently
have no estimate as for how long that will take, but believe it will likely
take a few days. For projects that absolutely need their DB moved over
first, they should create a table named 'ch3priority', case sensitive, in
the important databases. We'll migrate those over first. Please only flag a
database as important if you can't wait as it will hold up other key
databases for projects from being imported as early as possible.

To address any questions users may have regarding this migration, we will
also be scheduling an IRC meeting with the SourceForge.net Service
Operations team. This meeting will be held on 2008-08-14 at 08:00 Pacific
(15:00 UTC) on irc.slashnet.org channel #sourceforge. Alternately, you may
submit your inquiries by Support Request at:
https://sf.net/tracker/?func=add&group_id=1&atid=200001

Thank you,

The SourceForge.net Team

-- 
Waiting for sunspots.
From harbour.01 at syenar.hu  Tue Aug 12 20:37:49 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 20:37:53 2008
Subject: [Harbour] 2008-08-13 02:30 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fcdc$Blat.v2.6.2$d0251a1a$7c8581e53b8@127.0.0.1>

2008-08-13 02:30 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_b32.bat
   * make_b32.mak
     - Removed dummy option HB_BUILD_MODE.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Tue Aug 12 21:25:27 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 12 21:25:34 2008
Subject: [Harbour] 2008-08-13 03:24 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808130125.m7D1PRWn008302@31-mo5-4.acn.waw.pl>

2008-08-13 03:24 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/gtwvt/gtwvt.c
    ! use HB_PTRDIFF for handle to number casting

best regards
Przemek
From harbour.01 at syenar.hu  Tue Aug 12 21:51:51 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 21:51:54 2008
Subject: [Harbour] 2008-08-13 03:08 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fce7$Blat.v2.6.2$27ba34fe$2f4c66cafa84@127.0.0.1>

2008-08-13 03:08 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtwvt/gtwvt.c
     ! Fixed one possible minor bug (synced from gtwvg.c), 
       when pressing the mouse button for mark&select.

   * contrib/hbodbc/odbc.c
     ! Fixed some compile errors for __DMC__.
     ; TOFIX: Some more remain.
       ../../odbc.c(517) : Error: undefined identifier 'SQL_IS_INTEGER'
       ../../odbc.c(525) : Error: undefined identifier 'SQLSetStmtAttr'
       ../../odbc.c(536) : Error: undefined identifier 'SQLGetConnectAttr'
       ../../odbc.c(549) : Error: undefined identifier 'SQLGetStmtAttr'

   * contrib/gtwvg/gtwvg.c
   * contrib/gtwvg/gtwvg.h
     ! Synced (to some extent) with gtwvt.c, so that it now 
       also compiles with __DMC__.
     ! Fixed a some more compile errors for __DMC__.
     ; TOFIX: Some more remain.
       ../../wvgutils.c(356) : Error: undefined identifier 'TTM_SETMARGIN'
       ../../wvgutils.c(367) : Error: undefined identifier 'TTM_GETMAXTIPWIDTH'
       ../../wvgutils.c(371) : Error: undefined identifier 'TTM_SETMAXTIPWIDTH'
       ../../wvgutils.c(385) : Error: undefined identifier 'TTM_GETTIPBKCOLOR'
       ../../wvgutils.c(389) : Error: undefined identifier 'TTM_SETTIPBKCOLOR'
       ../../wvgutils.c(402) : Error: undefined identifier 'TTM_GETTIPTEXTCOLOR'
       ../../wvgutils.c(406) : Error: undefined identifier 'TTM_SETTIPTEXTCOLOR'
       ../../wvgutils.c(761) : Error: undefined identifier 'UINT_PTR'
       ../../wvgutils.c(1296) : Error: undefined identifier 'LONG_PTR'
       ../../wvgutils.c(1297) : Error: undefined identifier 'ul'

   * config/w32/dm.cf
     ! Fix missed from previous commit added.
     * Added -x C compiler switch.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 12 21:58:55 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 21:58:59 2008
Subject: [Harbour] 2008-08-13 03:08 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fce8$Blat.v2.6.2$24b17622$274a9b8f692@127.0.0.1>

2008-08-13 03:08 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtwvt/gtwvt.c
     ! Fixed one possible minor bug (synced from gtwvg.c), 
       when pressing the mouse button for mark&select.

   * contrib/hbodbc/odbc.c
     ! Fixed some compile errors for __DMC__.
     ; TOFIX: Some more remain.
       ../../odbc.c(517) : Error: undefined identifier 'SQL_IS_INTEGER'
       ../../odbc.c(525) : Error: undefined identifier 'SQLSetStmtAttr'
       ../../odbc.c(536) : Error: undefined identifier 'SQLGetConnectAttr'
       ../../odbc.c(549) : Error: undefined identifier 'SQLGetStmtAttr'

   * contrib/gtwvg/gtwvg.c
   * contrib/gtwvg/gtwvg.h
   * contrib/gtwvg/wvgcore.c
   * contrib/gtwvg/wvgutils.c
     ! Synced (to some extent) with gtwvt.c, so that it now 
       also compiles with __DMC__.
     ! Fixed a some more compile errors for __DMC__.
     ; TOFIX: Some more remain.
       ../../wvgutils.c(356) : Error: undefined identifier 'TTM_SETMARGIN'
       ../../wvgutils.c(367) : Error: undefined identifier 'TTM_GETMAXTIPWIDTH'
       ../../wvgutils.c(371) : Error: undefined identifier 'TTM_SETMAXTIPWIDTH'
       ../../wvgutils.c(385) : Error: undefined identifier 'TTM_GETTIPBKCOLOR'
       ../../wvgutils.c(389) : Error: undefined identifier 'TTM_SETTIPBKCOLOR'
       ../../wvgutils.c(402) : Error: undefined identifier 'TTM_GETTIPTEXTCOLOR'
       ../../wvgutils.c(406) : Error: undefined identifier 'TTM_SETTIPTEXTCOLOR'
       ../../wvgutils.c(761) : Error: undefined identifier 'UINT_PTR'
       ../../wvgutils.c(1296) : Error: undefined identifier 'LONG_PTR'
       ../../wvgutils.c(1297) : Error: undefined identifier 'ul'

   * config/w32/dm.cf
     ! Fix missed from previous commit added.
     * Added -x C compiler switch.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 12 22:19:06 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 12 22:19:09 2008
Subject: [Harbour] 2008-08-13 04:16 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fcea$Blat.v2.6.2$f645cad8$23ca1ca33fc@127.0.0.1>

2008-08-13 04:16 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbodbc/odbc.c
     ! Some recently updated code now conditionally restored 
       to pre-ODBC 3.0 versions to support compilers (namely 
       __DMC__) with old ODBC headers. I couldn't find out 
       how to point DMC to newer (SDK) ODBC headers, but as 
       soon as we do, we can remove this workaround.
       There is a similar problem with MSVC6.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Tue Aug 12 23:29:51 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 12 23:29:58 2008
Subject: [Harbour] Release 1.0.0 Final #11
In-Reply-To: <9EEF65F9-E7A4-4B2C-9CF7-B1989C4FAD50@syenar.hu>
References: <9EEF65F9-E7A4-4B2C-9CF7-B1989C4FAD50@syenar.hu>
Message-ID: <20080813032950.GA4890@34-mo7-2.acn.waw.pl>

On Wed, 13 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Pending platforms:
> - BSD

It's OK.

> - HPUX

I'm afraid that I cannot test it now but I made tests a week
ago and all was working correctly.

> - Open Watcom (Linux)

It's OK but to compile Harbour I had to patch OpenWatcom and
add some missing OS functions so it will not work for "normal"
users.

I also tested:
   GCC 4.1.0 (mingw32ce 0.50.0) (cross-compile on OpenSuse 10.3, FC3)
   GCC MinGW 3.4.5 (cross compile on OpenSuse 10.3, FC3)
- DOS
   GCC 3.3.2 (DJGPP) (DJGPP bash port)
   Open Watcom 1.7 (command.com)
And all works cleanly in native environment.
OpenWatcom builds with some *nix like shell in the PATH does not work.
Just like make install in DJGPP when SHLVL is not set.
Old problem with automatic *sh.exe detecting by GNU make in Windows/DOS.

Other native Linux builds (RH7.3, OpenSuse10.3, FC3) passed without
warnings.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Aug 12 23:31:03 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 12 23:31:08 2008
Subject: [Harbour] 2008-08-13 05:30 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808130331.m7D3V3Y2010909@31-mo5-4.acn.waw.pl>

2008-08-13 05:30 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/pp/ppcore.c
  * harbour/source/pp/hbpp.c
  * harbour/source/vm/itemapi.c
  * harbour/source/vm/hvm.c
  * harbour/source/common/hbver.c
  * harbour/source/macro/macrolex.c
  * harbour/source/hbpcre/pcrecomp.c
  * harbour/source/compiler/hbpcode.c
  * harbour/contrib/hbmisc/spd.c
  * harbour/contrib/hbsqlit3/sqlite3/sqlite3.c
    * pacified warnings

  * harbour/config/w32/dm.cf
    * updated to work with SHELL env
    - comment -w7 switch

best regards
Przemek
From druzus at acn.waw.pl  Tue Aug 12 23:50:53 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 12 23:50:59 2008
Subject: [Harbour] 2008-08-13 05:50 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808130350.m7D3orZG012431@31-mo5-4.acn.waw.pl>

2008-08-13 05:50 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/gtwvg/gtwvg.h
    ! added missing defines for DMC builds

  * harbour/contrib/gtwvg/wvgutils.c
    ! use HB_PTRDIFF for pointer to number casting

best regards
Przemek
From harbour at cbn.net.id  Wed Aug 13 03:54:25 2008
From: harbour at cbn.net.id (Andi Jahja)
Date: Wed Aug 13 03:58:27 2008
Subject: [Harbour] 2008-08-13 01:11 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8fcd0$Blat.v2.6.2$ecc4de82$43a05a19f4da@127.0.0.1>
References: <01c8fcd0$Blat.v2.6.2$ecc4de82$43a05a19f4da@127.0.0.1>
Message-ID: <20080813145155.19D5.EBF3FC18@cbn.net.id>

On Wed, 13 Aug 2008 01:12:43 +0200
Szak?ts Viktor<harbour.01@syenar.hu> wrote:

> 2008-08-13 01:11 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>    * source/vm/mainwin.c
>    * source/vm/hvm.c
>      ! Fix for __DMC__ startup problem:
>        'OPTLINK : Warning 134: No Start Address'

Hi Viktor,

Digitalmars wants mainstd.obj to be link "explicitely" as an object file,
not via lib (that's what I did, CMIIW)
--
Andi

From harbour at cbn.net.id  Wed Aug 13 04:11:55 2008
From: harbour at cbn.net.id (Andi Jahja)
Date: Wed Aug 13 04:15:57 2008
Subject: [Harbour] 2008-08-13 01:11 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <20080813145155.19D5.EBF3FC18@cbn.net.id>
References: <01c8fcd0$Blat.v2.6.2$ecc4de82$43a05a19f4da@127.0.0.1>
	<20080813145155.19D5.EBF3FC18@cbn.net.id>
Message-ID: <20080813151018.D65E.EBF3FC18@cbn.net.id>

On Wed, 13 Aug 2008 14:54:25 +0700
Andi Jahja <harbour@cbn.net.id> wrote:
 
> Digitalmars wants mainstd.obj to be link "explicitely" as an object file,
> not via lib (that's what I did, CMIIW)

Sorry, you have done it. It's been a hard day for me .....
--
Andi
From harbour.01 at syenar.hu  Wed Aug 13 05:55:24 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 13 05:55:36 2008
Subject: [Harbour] Release 1.0.0 Final #11
In-Reply-To: <20080813032950.GA4890@34-mo7-2.acn.waw.pl>
References: <9EEF65F9-E7A4-4B2C-9CF7-B1989C4FAD50@syenar.hu>
	<20080813032950.GA4890@34-mo7-2.acn.waw.pl>
Message-ID: <2C893BF7-7265-4581-8BB2-5BA1CFF00882@syenar.hu>

Thanks Przemek.

I've made a small patch (not yet merged with 1.0 branch),
which removed hard-coded -DHB_OS_HPUX from command line.
Plus tweaked autodetection to be supposedly safer.

Do you think it's safe to merge these changes with 1.0?

Brgds,
Viktor

On 2008.08.13., at 5:29, Przemyslaw Czerpak wrote:

> On Wed, 13 Aug 2008, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>> Pending platforms:
>> - BSD
>
> It's OK.
>
>> - HPUX
>
> I'm afraid that I cannot test it now but I made tests a week
> ago and all was working correctly.
>
>> - Open Watcom (Linux)
>
> It's OK but to compile Harbour I had to patch OpenWatcom and
> add some missing OS functions so it will not work for "normal"
> users.
>
> I also tested:
>   GCC 4.1.0 (mingw32ce 0.50.0) (cross-compile on OpenSuse 10.3, FC3)
>   GCC MinGW 3.4.5 (cross compile on OpenSuse 10.3, FC3)
> - DOS
>   GCC 3.3.2 (DJGPP) (DJGPP bash port)
>   Open Watcom 1.7 (command.com)
> And all works cleanly in native environment.
> OpenWatcom builds with some *nix like shell in the PATH does not work.
> Just like make install in DJGPP when SHLVL is not set.
> Old problem with automatic *sh.exe detecting by GNU make in Windows/ 
> DOS.
>
> Other native Linux builds (RH7.3, OpenSuse10.3, FC3) passed without
> warnings.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug 13 05:57:30 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 13 05:57:37 2008
Subject: [Harbour] 2008-08-13 01:11 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <20080813151018.D65E.EBF3FC18@cbn.net.id>
References: <01c8fcd0$Blat.v2.6.2$ecc4de82$43a05a19f4da@127.0.0.1>
	<20080813145155.19D5.EBF3FC18@cbn.net.id>
	<20080813151018.D65E.EBF3FC18@cbn.net.id>
Message-ID: <CA1BBA53-50AF-4E75-99B7-3B50CBF73303@syenar.hu>

Hi Andi,

But it didn't work for me still unfortunately.
The resulting Harbour executables exit without
doing anything.

Do you have any clue why this happens?

Brgds,
Viktor

On 2008.08.13., at 10:11, Andi Jahja wrote:

> On Wed, 13 Aug 2008 14:54:25 +0700
> Andi Jahja <harbour@cbn.net.id> wrote:
>
>> Digitalmars wants mainstd.obj to be link "explicitely" as an object  
>> file,
>> not via lib (that's what I did, CMIIW)
>
> Sorry, you have done it. It's been a hard day for me .....
> --
> Andi
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug 13 06:15:00 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 13 06:15:14 2008
Subject: [Harbour] OpenWatcom/w32 sqlite3.c failure
Message-ID: <F6ED241F-8380-4655-B963-469BFA1A3B90@syenar.hu>

Hi all,

[ Written a few commits ago. For the record. ]

Above compiler  to an infinite loop when trying
to compile sqlite3.c.

I've temporarily disabled embedded sqlite3.c for this
compiler, and maybe we should later split sqlite3.c to
its parts (creates make difficulties), or we should
maybe use this lib externally, as this is the second
compiler which chokes on it (the other being PellesC 4.5).

It's also worth mentioning that sqlite3 3.6.1 is out,
and there are lots of changes, presumably impossible to
merge with our current version. So we will have to find
a solution which solves the current compile problems,
warnings in foreign code problems on the long run, too.

Brgds,
Viktor

From a.jurkiewicz at abix.info.pl  Wed Aug 13 07:11:27 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Wed Aug 13 07:11:33 2008
Subject: [Harbour] Release 1.0.0 Final #11
In-Reply-To: <9EEF65F9-E7A4-4B2C-9CF7-B1989C4FAD50@syenar.hu>
References: <9EEF65F9-E7A4-4B2C-9CF7-B1989C4FAD50@syenar.hu>
Message-ID: <200808131311.27940.a.jurkiewicz@abix.info.pl>

Dnia ?roda, 13 sierpnia 2008, Szak?ts Viktor napisa?:
> Hi all,
>
> ---- some personal comments
> Since I believe we could spend a year testing all existing
> combinations of compilers, platforms, build options and
> external lib versions, we should draw the line somewhere,
> my personal platforms / compiler preference is as follows:
> Platforms:
> - Tier 1: Windows x86, Linux (Debian/RedHat), OS X
My opinion: Windows x86, Linux (Debian/RedHat/openSUSE), OS X

Why openSUSE? Because Novell stands behind it.

best regards,
Adam
-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu www.abix.info.pl
Gadu-Gadu: 302315
Skype: abix_adamj 
Wsparcie aplikacji: http://groups-beta.google.com/group/abix-rcsoft?hl=pl
From harbour.01 at syenar.hu  Wed Aug 13 08:00:55 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 13 08:00:59 2008
Subject: [Harbour] 2008-08-13 13:55 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fd3c$Blat.v2.6.2$3d9eedf0$7d092a2579a@127.0.0.1>

2008-08-13 13:55 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/whatsnew.txt
     * Minor adjustments, typo fixes.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug 13 08:01:08 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 13 08:01:19 2008
Subject: [Harbour] Release 1.0.0 Final #12
Message-ID: <90B2F8D8-4EB9-4DAE-BBCD-9942F060795B@syenar.hu>

Hi all,

Comments:
- We're done.
- If there is no more feedback in the next few hours
   (regarding the DMC executable problem and HPUX), I'll
   merge all the changes in trunk to harbour-1.0 branch,
   and tag 1.0.0.

Tested platforms:
- Windows
	BCC 5.51
	BCC 5.82
	GCC MinGW 3.4.5 (on msys 1.0.10)
	GCC MinGW 4.1.2
	GCC MinGW 4.1.2 (on msys 1.0.10)
	GCC MinGW 3.4.5 (cross compile on OpenSuse 10.3, FC3)
	GCC MinGW 4.2.1 (cross compile on Ubuntu 8.04.1)
	GCC MinGW 4.3.1a (on msys 1.0.10)
	MSVC 6.0 (HBODBC: needs fresh ODBC headers from MSSDK)
	MSVC 7.1 (MSVS 2003)
	MSVC 8.0 (MSVS 2005)
	MSVC 8.0 (MSVS 2005) C++
	MSVC 9.0 (MSVS 2008 SP1)
	MSVC 9.0 (MSVS 2008 SP1) C++
	MSVC 9.0 (MSVS 2008 SP1) 64 bit (FAILED - known)
	MSVC 9.0 (MSVS 2008 SP1) C++ 64 bit (cross-compile on Win32)
	PellesC 4.5 (HBSQLIT3: interface only)
	PellesC 5.0
	PellesC 5.0 64 bit (cross-compile on Win32) (some compiler problems)
	Open Watcom 1.7 (HBSQLIT3: interface only, HBFIMAGE: FAILED)
	Digital Mars C 4.50 (compiles OK, but no Harbour executable does  
anything: FAILED)
- WinCE
	MSVC 6.0 (eVC4)
	GCC 4.0.1 (mingw32ce 0.51.0) (cross-compile on Ubuntu 8.04.1)
	GCC 4.1.0 (mingw32ce 0.50.0) (cross-compile on OpenSuse 10.3, FC3)
- Linux
	GCC 4.2.3 (Ubuntu 8.04.1)
	GCC 4.3.0 (Fedora) (non-default build)
	GCC 4.2.1 (SuSE 10.3)
	Open Watcom (with patches only. FAILED)
	GCC (RedHat 7.3)
	GCC (OpenSuse 10.3)
	GCC (FC3)
- OS X
	GCC 4.0.1 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 PPC + XCode 3.1)
	GCC 4.0.1 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 Intel + XCode 3.1)
	GCC 4.0.1 PPC (Leopard 10.5.4 PPC + XCode 3.0) (non-default build)
- Solaris
	GCC 3.4.3 i86pc (SunOS 5.11 - OpenSolaris 2008.05)
- BSD
	Reported OK (No details)
- HPUX
	Reported OK (a week ago in /trunk)
- OS/2
	GCC 3.3.5 (EMX/Innotek)
- DOS
	GCC 3.3.2 32 bit (DJGPP) (DJGPP bash port)
	GCC 4.2.3 32 bit (DJGPP) ('make install' won't properly work)
	Open Watcom 1.7 (command.com)

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Aug 13 08:29:47 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug 13 08:29:56 2008
Subject: [Harbour] Release 1.0.0 Final #12
In-Reply-To: <90B2F8D8-4EB9-4DAE-BBCD-9942F060795B@syenar.hu>
References: <90B2F8D8-4EB9-4DAE-BBCD-9942F060795B@syenar.hu>
Message-ID: <20080813122947.GA22876@34-mo7-2.acn.waw.pl>

On Wed, 13 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> - BSD
> 	Reported OK (No details)

GCC C 3.4.6 (32 bit) FreeBSD 6.2 x86@32

> - HPUX
> 	Reported OK (a week ago in /trunk)

GNU C 3.4.2 (32 bit) HP-UX B.11.11 9000/800 PA-RISC

> - DOS
> 	GCC 3.3.2 32 bit (DJGPP) (DJGPP bash port)
> 	GCC 4.2.3 32 bit (DJGPP) ('make install' won't properly work)

AFAIK make install works correctly if you do not have *sh.exe in path
and your environment plays well with long filenames.
If you have and you didn't set SHLVL=1 envvar then both fails just like
most of other GNU make builds. If you install DJGPP with bash.exe then
or you have any other shell in your path then please set SHLVL=1 before
you run make_gnu.bat

> 	Open Watcom 1.7 (command.com)

I can look at it to work with *nix like SHELLs but please remember about
setting SHLVL if you do not execute make process from the SHELL.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Aug 13 09:30:58 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug 13 09:31:05 2008
Subject: [Harbour] 2008-08-13 15:30 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808131330.m7DDUwsk015859@31-mo5-4.acn.waw.pl>

2008-08-13 15:30 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/hpux/gcc.cf
  * harbour/config/sunos/gcc.cf
    ! fixed typo in comment

  * harbour/config/dos/owatcom.cf
    ! fixed build process in POSIX SHELL environment

best regards
Przemek
From harbour.01 at syenar.hu  Wed Aug 13 10:22:17 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 13 10:22:29 2008
Subject: [Harbour] Release 1.0.0 Final #12
In-Reply-To: <20080813122947.GA22876@34-mo7-2.acn.waw.pl>
References: <90B2F8D8-4EB9-4DAE-BBCD-9942F060795B@syenar.hu>
	<20080813122947.GA22876@34-mo7-2.acn.waw.pl>
Message-ID: <1F420FB7-EF5E-4BC4-8BD7-3E2FCA049D70@syenar.hu>

Hi Przemek,

> AFAIK make install works correctly if you do not have *sh.exe in path
> and your environment plays well with long filenames.
> If you have and you didn't set SHLVL=1 envvar then both fails just  
> like
> most of other GNU make builds. If you install DJGPP with bash.exe then
> or you have any other shell in your path then please set SHLVL=1  
> before
> you run make_gnu.bat
>
>> 	Open Watcom 1.7 (command.com)
>
> I can look at it to work with *nix like SHELLs but please remember  
> about
> setting SHLVL if you do not execute make process from the SHELL.

I have no bash or sh in my path.

Actually the problem with DJGPP seems deeper, I've now corrected
_all_ paths to be short ones, but install for some libs still doesn't
work, and the reason is pretty obvious: only the .a files with long
names are not copied.

[ I may test OW DOS later. ]

Brdgs,
Viktor

From harbour.01 at syenar.hu  Wed Aug 13 10:35:50 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 13 10:35:55 2008
Subject: [Harbour] 2008-08-13 16:35 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fd51$Blat.v2.6.2$e2222148$1443b5f659c@127.0.0.1>

2008-08-13 16:35 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/whatsnew.txt
     * More minor adjustments.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug 13 10:45:24 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 13 10:45:36 2008
Subject: [Harbour] Release 1.0.0 FREEZED
Message-ID: <F892467B-C0C5-4FB0-8E10-978809895492@syenar.hu>

Hi all,

- We're done.
- Some compilers (BCC58, DJGPP) won't compile with Firebird 2.1.1

Tested platforms:
- Windows
   (Apollo 6.1.0.4, libcurl 7.18.2, Firebird 2.0.4,
    FreeImage 3.11.0, libgd 2.0.34, libharu 2.0.8,
    MySQL 5.0.67, PGSQL 8.3.3, ACE 9.00)
	BCC 5.51
	BCC 5.82
	GCC 3.4.5 (MinGW) (on msys 1.0.10)
	GCC 4.1.2 (MinGW)
	GCC 4.1.2 (MinGW) (on msys 1.0.10)
	GCC 3.4.5 (MinGW) (cross compile on OpenSuse 10.3, FC3)
	GCC 4.2.1 (MinGW) (cross compile on Ubuntu 8.04.1)
	GCC 4.3.1a (MinGW) (on msys 1.0.10)
	MSVC 6.0 (HBODBC: needs fresh ODBC headers from MSSDK)
	MSVC 7.1 (MSVS 2003)
	MSVC 8.0 (MSVS 2005)
	MSVC 8.0 (MSVS 2005) C++
	MSVC 9.0 (MSVS 2008 SP1)
	MSVC 9.0 (MSVS 2008 SP1) C++
	MSVC 9.0 (MSVS 2008 SP1) 64 bit (FAILED - known)
	MSVC 9.0 (MSVS 2008 SP1) C++ 64 bit (cross-compile on Win32)
	Pelles C 4.5 (HBSQLIT3: interface only)
	Pelles C 5.0
	Pelles C 5.0 64 bit (cross-compile on Win32) (due to Pelles C bugs:  
HBCT, HBRUN won't be built)
	Open Watcom 1.7 (HBSQLIT3: interface only, HBFIMAGE: FAILED)
	Digital Mars C 4.50 (compiles OK, but no Harbour executable does  
anything: FAILED, FIX POSTPONED)
- WinCE
	MSVC 6.0 (eVC4)
	GCC 4.0.1 (mingw32ce 0.51.0) (cross-compile on Ubuntu 8.04.1)
	GCC 4.1.0 (mingw32ce 0.50.0) (cross-compile on OpenSuse 10.3, FC3)
- Linux
	GCC 4.2.3 (Ubuntu 8.04.1) (HBFIMAGE: FAILED)
	GCC 4.3.0 (Fedora) (non-default build)
	GCC 4.2.1 (SuSE 10.3)
	Open Watcom (with patches only. FAILED)
	GCC (RedHat 7.3)
	GCC (OpenSuse 10.3)
	GCC (FC3)
- OS X
	GCC 4.0.1 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 PPC + XCode 3.1)
	GCC 4.0.1 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 Intel + XCode 3.1)
	GCC 4.0.1 PPC (Leopard 10.5.4 PPC + XCode 3.0) (non-default build)
- Solaris
	GCC 3.4.3 i86pc (SunOS 5.11 - OpenSolaris 2008.05)
- BSD
	GCC 3.4.6 (32 bit) FreeBSD 6.2 x86@32
- HPUX
	GCC 3.4.2 (32 bit) HP-UX B.11.11 9000/800 PA-RISC
- OS/2
	GCC 3.3.5 (EMX/Innotek)
- DOS
	GCC 3.3.2 32 bit (DJGPP) (DJGPP bash port)
	GCC 4.2.3 32 bit (DJGPP) ('make install' won't properly work for .a  
files with long filename)
	Open Watcom 1.7 (command.com)

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug 13 10:50:25 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 13 10:50:33 2008
Subject: [Harbour] Release 1.0.0 FROZEN rather :)
Message-ID: <F0BA70CD-7F43-4B98-91FD-F6C36B16E4C8@syenar.hu>

Hi all,

- We're done.
- Some compilers (BCC58, DJGPP) won't compile with Firebird 2.1.1

Tested platforms:
- Windows
  (Apollo 6.1.0.4, libcurl 7.18.2, Firebird 2.0.4,
   FreeImage 3.11.0, libgd 2.0.34, libharu 2.0.8,
   MySQL 5.0.67, PGSQL 8.3.3, ACE 9.00)
	BCC 5.51
	BCC 5.82
	GCC 3.4.5 (MinGW) (on msys 1.0.10)
	GCC 4.1.2 (MinGW)
	GCC 4.1.2 (MinGW) (on msys 1.0.10)
	GCC 3.4.5 (MinGW) (cross compile on OpenSuse 10.3, FC3)
	GCC 4.2.1 (MinGW) (cross compile on Ubuntu 8.04.1)
	GCC 4.3.1a (MinGW) (on msys 1.0.10)
	MSVC 6.0 (HBODBC: needs fresh ODBC headers from MSSDK)
	MSVC 7.1 (MSVS 2003)
	MSVC 8.0 (MSVS 2005)
	MSVC 8.0 (MSVS 2005) C++
	MSVC 9.0 (MSVS 2008 SP1)
	MSVC 9.0 (MSVS 2008 SP1) C++
	MSVC 9.0 (MSVS 2008 SP1) 64 bit (FAILED - known)
	MSVC 9.0 (MSVS 2008 SP1) C++ 64 bit (cross-compile on Win32)
	Pelles C 4.5 (HBSQLIT3: interface only)
	Pelles C 5.0
	Pelles C 5.0 64 bit (cross-compile on Win32) (due to Pelles C bugs:  
HBCT, HBRUN won't be built)
	Open Watcom 1.7 (HBSQLIT3: interface only, HBFIMAGE: FAILED)
	Digital Mars C 4.50 (compiles OK, but no Harbour executable does  
anything: FAILED, FIX POSTPONED)
- WinCE
	MSVC 6.0 (eVC4)
	GCC 4.0.1 (mingw32ce 0.51.0) (cross-compile on Ubuntu 8.04.1)
	GCC 4.1.0 (mingw32ce 0.50.0) (cross-compile on OpenSuse 10.3, FC3)
- Linux
	GCC 4.2.3 (Ubuntu 8.04.1) (HBFIMAGE: FAILED)
	GCC 4.3.0 (Fedora) (non-default build)
	GCC 4.2.1 (SuSE 10.3)
	Open Watcom (with patches only. FAILED)
	GCC (RedHat 7.3)
	GCC (OpenSuse 10.3)
	GCC (FC3)
- OS X
	GCC 4.0.1 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 PPC + XCode 3.1)
	GCC 4.0.1 i386, x86_64, PPC, PPC64 (Leopard 10.5.4 Intel + XCode 3.1)
	GCC 4.0.1 PPC (Leopard 10.5.4 PPC + XCode 3.0) (non-default build)
- Solaris
	GCC 3.4.3 i86pc (SunOS 5.11 - OpenSolaris 2008.05)
- BSD
	GCC 3.4.6 (32 bit) FreeBSD 6.2 x86@32
- HPUX
	GCC 3.4.2 (32 bit) HP-UX B.11.11 9000/800 PA-RISC
- OS/2
	GCC 3.3.5 (EMX/Innotek)
- DOS
	GCC 3.3.2 32 bit (DJGPP) (DJGPP bash port)
	GCC 4.2.3 32 bit (DJGPP) ('make install' won't properly work for .a  
files with long filename)
	Open Watcom 1.7 (command.com)

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Wed Aug 13 10:54:33 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Aug 13 10:54:38 2008
Subject: [Harbour] Release 1.0.0 FREEZED
In-Reply-To: <F892467B-C0C5-4FB0-8E10-978809895492@syenar.hu>
References: <F892467B-C0C5-4FB0-8E10-978809895492@syenar.hu>
Message-ID: <9257026e0808130754g6ac27ecbs49f754dafe6b3c4b@mail.gmail.com>

On Wed, Aug 13, 2008 at 4:45 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> - We're done.

Many thanks to all.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Wed Aug 13 10:54:48 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 13 10:55:01 2008
Subject: [Harbour] Release 1.0.0 Final #12
In-Reply-To: <1F420FB7-EF5E-4BC4-8BD7-3E2FCA049D70@syenar.hu>
References: <90B2F8D8-4EB9-4DAE-BBCD-9942F060795B@syenar.hu>
	<20080813122947.GA22876@34-mo7-2.acn.waw.pl>
	<1F420FB7-EF5E-4BC4-8BD7-3E2FCA049D70@syenar.hu>
Message-ID: <3A7C715F-4468-49AF-BAF2-69A9596DD804@syenar.hu>

>>
Hi Przemek,

>> I can look at it to work with *nix like SHELLs but please remember  
>> about
>> setting SHLVL if you do not execute make process from the SHELL.
>
> I have no bash or sh in my path.
>
> Actually the problem with DJGPP seems deeper, I've now corrected
> _all_ paths to be short ones, but install for some libs still doesn't
> work, and the reason is pretty obvious: only the .a files with long
> names are not copied.
>
> [ I may test OW DOS later. ]

I simply cannot make OpenWatcom DOS work for me, I'm using
the make.exe coming with DJGPP (still dated 2001) (also tested
with the mingw one, but it works even less). I have no *sh
in my path, all the dirs involved are short ones.

I've attached my results (plus my local make script).

Brgds,
Viktor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: HB100OW-logs.zip
Type: application/zip
Size: 2791 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080813/c497cd44/HB100OW-logs.zip
From harbour.01 at syenar.hu  Wed Aug 13 11:13:54 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 13 11:14:00 2008
Subject: [Harbour] [1.0] 2008-08-13 16:35 UTC+0200 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8fd57$Blat.v2.6.2$3385a3fc$14ac58200f46@127.0.0.1>

; Merging all remaining last-minute fixes to 1.0 from main branch.

2008-08-13 16:35 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/whatsnew.txt
     * More minor adjustments.

2008-08-13 15:30 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/hpux/gcc.cf
  * harbour/config/sunos/gcc.cf
    ! fixed typo in comment

  * harbour/config/dos/owatcom.cf
    ! fixed build process in POSIX SHELL environment

2008-08-13 13:55 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/whatsnew.txt
     * Minor adjustments, typo fixes.

2008-08-13 05:50 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/gtwvg/gtwvg.h
    ! added missing defines for DMC builds

  * harbour/contrib/gtwvg/wvgutils.c
    ! use HB_PTRDIFF for pointer to number casting

2008-08-13 05:30 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/pp/ppcore.c
  * harbour/source/pp/hbpp.c
  * harbour/source/vm/itemapi.c
  * harbour/source/vm/hvm.c
  * harbour/source/common/hbver.c
  * harbour/source/macro/macrolex.c
  * harbour/source/hbpcre/pcrecomp.c
  * harbour/source/compiler/hbpcode.c
  * harbour/contrib/hbmisc/spd.c
  * harbour/contrib/hbsqlit3/sqlite3/sqlite3.c
    * pacified warnings

  * harbour/config/w32/dm.cf
    * updated to work with SHELL env
    - comment -w7 switch

2008-08-13 04:16 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbodbc/odbc.c
     ! Some recently updated code now conditionally restored 
       to pre-ODBC 3.0 versions to support compilers (namely 
       __DMC__) with old ODBC headers. I couldn't find out 
       how to point DMC to newer (SDK) ODBC headers, but as 
       soon as we do, we can remove this workaround.
       There is a similar problem with MSVC6.

2008-08-13 03:08 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtwvt/gtwvt.c
     ! Fixed one possible minor bug (synced from gtwvg.c), 
       when pressing the mouse button for mark&select.

   * contrib/hbodbc/odbc.c
     ! Fixed some compile errors for __DMC__.
     ; TOFIX: Some more remain.
       ../../odbc.c(517) : Error: undefined identifier 'SQL_IS_INTEGER'
       ../../odbc.c(525) : Error: undefined identifier 'SQLSetStmtAttr'
       ../../odbc.c(536) : Error: undefined identifier 'SQLGetConnectAttr'
       ../../odbc.c(549) : Error: undefined identifier 'SQLGetStmtAttr'

   * contrib/gtwvg/gtwvg.c
   * contrib/gtwvg/gtwvg.h
   * contrib/gtwvg/wvgcore.c
   * contrib/gtwvg/wvgutils.c
     ! Synced (to some extent) with gtwvt.c, so that it now 
       also compiles with __DMC__.
     ! Fixed a some more compile errors for __DMC__.
     ; TOFIX: Some more remain.
       ../../wvgutils.c(356) : Error: undefined identifier 'TTM_SETMARGIN'
       ../../wvgutils.c(367) : Error: undefined identifier 'TTM_GETMAXTIPWIDTH'
       ../../wvgutils.c(371) : Error: undefined identifier 'TTM_SETMAXTIPWIDTH'
       ../../wvgutils.c(385) : Error: undefined identifier 'TTM_GETTIPBKCOLOR'
       ../../wvgutils.c(389) : Error: undefined identifier 'TTM_SETTIPBKCOLOR'
       ../../wvgutils.c(402) : Error: undefined identifier 'TTM_GETTIPTEXTCOLOR'
       ../../wvgutils.c(406) : Error: undefined identifier 'TTM_SETTIPTEXTCOLOR'
       ../../wvgutils.c(761) : Error: undefined identifier 'UINT_PTR'
       ../../wvgutils.c(1296) : Error: undefined identifier 'LONG_PTR'
       ../../wvgutils.c(1297) : Error: undefined identifier 'ul'

   * config/w32/dm.cf
     ! Fix missed from previous commit added.
     * Added -x C compiler switch.

2008-08-13 03:24 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/gtwvt/gtwvt.c
    ! use HB_PTRDIFF for handle to number casting

2008-08-13 02:30 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_b32.bat
   * make_b32.mak
     - Removed dummy option HB_BUILD_MODE.

2008-08-13 01:11 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/whatsnew.txt
     * Extended releases notes/issues section.

   * config/w32/dm.cf
     ! Fixed to exclude "possible extraneous ';'" warnings 
       for every for()/while()/etc constructs with an empty body.
     ! Further fixes to link/lib rules.
     ; TOFIX1: odbc.c, gtwvg.c still don't compile.
     ; TOFIX2: Harbour executables won't run, by simply doing nothing.

   * source/rtl/gtwvt/gtwvt.c
     ! Fixed to compile with __DMC__.
     ; NOTE: Przemek, could you please check these?

   * include/hbsetup.h
     ! snprintf() for __DMC__.
     
   * contrib/hbw32/dllcall.c
     ! Fixed casting for __DMC__.

   * contrib/hbsqlit3/hbsqlit3.c
     ! Workaround for Pelles C 4.5 and Open Watcom, so that 
       sqlite3.c won't be included for these compilers.
       Pelles C 4.5 crashes, Open Watcom 1.7 goes into an 
       infinite loop on this huge file. For thes compilers 
       the sqlite3 library should be supplied by the users.

   * contrib/hbapollo/apollo.c
     ! Fixed to compile with Open Watcom.

   * source/vm/mainwin.c
   * source/vm/hvm.c
     ! Fix for __DMC__ startup problem:
       'OPTLINK : Warning 134: No Start Address'

2008-08-12 22:49 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/w32/dm.cf
    * updated for central library directory used by Harbour - not tested

  * harbour/config/w32/xcc.cf
    ! fixed include PATH in XCC builds - Viktor be carefull with
      cleaning -I<path> parameter. Some compilers use different
      rulles then the one you may expect using the most popular
      ones and such operation will break compilation. F.e. XCC
      seems to ignore source file location for releative paths
      so in GNU make builds it's necessary to add "-I$(TOP)"
      instead of "-I." and when included file starts with ".."
      then it does not try to use it with paths set by -I option
      so we need -I$(TOP)$(ROOT) and hard coded for this compiler
      directories in include/hbregex.h and include/hbzip.h

  * harbour/source/hbzlib/zutil.h
    ! do not use fdopen() with XCC - it does not support it

  * harbour/contrib/examples/pp/pp.c
  * harbour/contrib/examples/pp/hbppcore.c
  * harbour/source/common/hbfsapi.c
  * harbour/source/rtl/fnsplit.c
  * harbour/source/rtl/fstemp.c
    ! always use _POSIX_PATH_MAX + 1 buffers

  * harbour/source/compiler/gencobj.c
    * extended line buffer size

  * harbour/source/rtl/gtcrs/gtcrs.h
    * removed unnecessary declaration for _POSIX_PATH_MAX
      it's always defined in Harbour header files

  * harbour/source/rtl/inkey.c
  * harbour/source/rtl/hbinet.c
  * harbour/source/rtl/gtwvt/gtwvt.c
    * use hb_array[SG]et*() functions insteaf of
      hb_item*( hb_arrayGetItemPtr, ... )

2008-08-12 20:55 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   + config/w32/dm.cf
     + Digital Mars .cf file added. Some cleanups done, and 
       TOFIX added besides the following:
     ; TOFIX: This file comes from xhb, and it needs to be updated 
              to create core and contrib .lib files in central dir.
              Until then it doesn't work. Ryszard, if you see 
              this, could you take a look?

   * config/dos/djgpp.cf
   * config/w32/bcc32.cf
   * config/w32/xcc.cf
     % Unnecessary CPPFLAGS -I options deleted:
       -I$(TOP)
       -I$(TOP)include
       -Iinclude
       -I$(TOP)$(ROOT)

   ; NOTE/TODO: CPPFLAGS -i usage should be cleaned for these files:
     config/dos/owatcom.cf
     config/linux/owatcom.cf
     config/os2/gcc.cf
     config/w32/owatcom.cf
     config/w32/watcom.cf

2008-08-11 21:20 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * config/hpux/gcc.cf
   * config/linux/gcc.cf
   * config/os2/gcc.cf
   * config/bsd/gcc.cf
     ! Never force the platform from the make files, rather 
       rely on the autodetection in hbsetup.h.
       Compiling default parts of the software should only rely 
       on manually set macros if there is no reasonable chance to 
       make the detection automatic.

   * contrib/rddado/Makefile
     ! Excluded from OS/2 builds.

2008-08-11 18:24 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * config/rules.cf
     % Removed unnecessary -I option from Harbour command line.

   * ChangeLog
     + Added entry to signal the branching.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug 13 11:41:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 13 11:41:59 2008
Subject: [Harbour] SVN: Created tag harbour-1.0.0
Message-ID: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>

Hi all,

I've created Harbour 1.0.0 tag just now.

URL:
https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/tags/harbour-1.0.0

To use it, export the URL with 'svn export <URL>'.

This URL is meant to be read-only, so don't checkout,
and even more so don't commit to it anything. Again:
Commit 1.0.0 patches to branch 1.0, and continue towards
1.1 development in main branch (trunk).

[ Next move is to upload source downloads, than binaries,
and update our homepage, and announce the release in relevant
places. ]

[ I'll now go to breath some fresh air to Sziget 2008 though :) ]

Many thanks for everyone to help reaching this point.

Brgds,
Viktor

From bedipritpal at hotmail.com  Wed Aug 13 13:05:57 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Aug 13 13:06:02 2008
Subject: Re[Harbour] lease 1.0.0 FREEZED
In-Reply-To: <F892467B-C0C5-4FB0-8E10-978809895492@syenar.hu>
References: <F892467B-C0C5-4FB0-8E10-978809895492@syenar.hu>
Message-ID: <18967253.post@talk.nabble.com>



- We're done.

Congratulations, a mission accomplished!

Congrates to all who contributed to this noble project.

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/Release-1.0.0-FREEZED-tp18964670p18967253.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Wed Aug 13 13:06:03 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug 13 13:06:10 2008
Subject: [Harbour] SVN: Created tag harbour-1.0.0
In-Reply-To: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>
References: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>
Message-ID: <20080813170603.GA20044@34-mo7-2.acn.waw.pl>

On Wed, 13 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> I've created Harbour 1.0.0 tag just now.
> URL:
> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/tags/harbour-1.0.0

Many many thanks.

> [ Next move is to upload source downloads, than binaries,
> and update our homepage, and announce the release in relevant
> places. ]

And I would like to ask someone who can update Harbour home page
to add me to developers list. I was not with you when the project
started but in last years I created a lot of core code which is
now heart of Harbour.
As I can see also many other people should be added to this list.

> [ I'll now go to breath some fresh air to Sziget 2008 though :) ]

Have a good time :-)

> Many thanks for everyone to help reaching this point.

Thank you all guys.

best regards,
Przemek
From bedipritpal at hotmail.com  Wed Aug 13 13:20:09 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Aug 13 13:20:12 2008
Subject: [Harbour] SVN: Created tag harbour-1.0.0
In-Reply-To: <20080813170603.GA20044@34-mo7-2.acn.waw.pl>
References: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>
	<20080813170603.GA20044@34-mo7-2.acn.waw.pl>
Message-ID: <18967513.post@talk.nabble.com>


Hello Przem

<<<
And I would like to ask someone who can update Harbour home page
to add me to developers list. I was not with you when the project
started but in last years I created a lot of core code which is
now heart of Harbour.
>>>

We all are indebted to you for your superb contributions, and perhaps, this
project could never have reached this state, at least in terms of time,
without
you. So accept my heartiest feelings of respect which I cannot explain in
words.
Though all contributed in one way or another, but what Viktor and you did, 
nobody could.

>As I can see also many other people should be added to this list.

Will be a tribute to all of them, Phil ?

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/SVN%3A-Created-tag-harbour-1.0.0-tp18965742p18967513.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From devlist.harbour at gmail.com  Wed Aug 13 14:26:02 2008
From: devlist.harbour at gmail.com (Patrick Mast)
Date: Wed Aug 13 14:26:08 2008
Subject: [Harbour] SVN: Created tag harbour-1.0.0
In-Reply-To: <20080813170603.GA20044@34-mo7-2.acn.waw.pl>
References: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>
	<20080813170603.GA20044@34-mo7-2.acn.waw.pl>
Message-ID: <15c075f70808131126o3d0360c1m555a9f14b041c03d@mail.gmail.com>

Congratulations guys! Good job, well done!
Patrick

2008/8/13 Przemyslaw Czerpak <druzus@acn.waw.pl>

> On Wed, 13 Aug 2008, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
> > I've created Harbour 1.0.0 tag just now.
> > URL:
> >
> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/tags/harbour-1.0.0
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080813/63afcb2a/attachment.html
From toninhofwi at yahoo.com.br  Wed Aug 13 16:29:46 2008
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Wed Aug 13 16:28:16 2008
Subject: [Harbour] SVN: Created tag harbour-1.0.0
In-Reply-To: <18967513.post@talk.nabble.com>
References: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>
	<20080813170603.GA20044@34-mo7-2.acn.waw.pl>
	<18967513.post@talk.nabble.com>
Message-ID: <brg6a4pi87ejjk1edct4m9rmmmpqnl67ba@4ax.com>

>
>Hello Przem
>
>We all are indebted to you for your superb contributions, and perhaps, this
>project could never have reached this state, at least in terms of time,
>without you. So accept my heartiest feelings of respect which I cannot explain in
>words. 
>Though all contributed in one way or another, but what Viktor and you did, 
>nobody could.

I agree 100%. 

All times that I need help, Przem answer me, same in private messages.

Thanks a lot and congratulations.

Regards,

Toninho.

__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From lorenzo.fiorini at gmail.com  Wed Aug 13 16:30:54 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Aug 13 16:30:58 2008
Subject: [Harbour] Will be MT the next step?
Message-ID: <9257026e0808131330k718eceb9p961f56cdd7968a08@mail.gmail.com>

I cannot see anything more needed for 1.1 ( or 2.0 ).

At the second place i would put the "hrb libraries" that is the way to
dinamically load more functions at once.

These features are platform neutral and will complete the core of the harbour.

Any comment?

best regards,
Lorenzo
From cvc at oohg.org  Wed Aug 13 16:32:25 2008
From: cvc at oohg.org (Ciro Vargas Clemow)
Date: Wed Aug 13 16:31:56 2008
Subject: [Harbour] congratulations
Message-ID: <48A344D9.8080405@oohg.org>



Hi to all harbour team.

congratulations with this fantastic release

best regards
Ciro

-- 
http://sistemascvc.tripod.com  (la casa del clip2win y nodosimp / the no2imp and 
clip2win home )

http://www.oohg.org ( Object Oriented Harbour GUI, more simple, more powerfull )


From info at fsgiudice.com  Wed Aug 13 18:05:42 2008
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Wed Aug 13 18:05:53 2008
Subject: [Harbour] SVN: Created tag harbour-1.0.0
In-Reply-To: <brg6a4pi87ejjk1edct4m9rmmmpqnl67ba@4ax.com>
References: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>	<20080813170603.GA20044@34-mo7-2.acn.waw.pl>	<18967513.post@talk.nabble.com>
	<brg6a4pi87ejjk1edct4m9rmmmpqnl67ba@4ax.com>
Message-ID: <48A35AB6.2060609@fsgiudice.com>



Toninho@fwi ha scritto:
>> Hello Przem
>>
>> We all are indebted to you for your superb contributions, and perhaps, this
>> project could never have reached this state, at least in terms of time,
>> without you. So accept my heartiest feelings of respect which I cannot explain in
>> words. 
>> Though all contributed in one way or another, but what Viktor and you did, 
>> nobody could.
> 
> I agree 100%. 
> 
> All times that I need help, Przem answer me, same in private messages.
> 
> Thanks a lot and congratulations.
> 

+1

Many Many Thanks to Przemek and Viktor and all others for this superb work.

Best regards,

Francesco Saverio Giudice
From druzus at acn.waw.pl  Wed Aug 13 18:08:56 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug 13 18:09:04 2008
Subject: [Harbour] 2008-08-14 00:08 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808132208.m7DM8uX7032146@31-mo5-4.acn.waw.pl>

2008-08-14 00:08 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    ! updated SunOS and HPUX library list
    ! allow to set startup .prg function in DJGPP builds

  * harbour/include/hbdefs.h
    ! defined HARBOUR_START_PROCEDURE procedure for DMC
      it fixes problem with executing final applications

  * harbour/config/w32/dm.cf
    ! disabled -o+time - with this switch wrong code is generated
      what can be seen in HBRUN

best regards
Przemek
From lostmyhearttoher at gmail.com  Wed Aug 13 18:16:05 2008
From: lostmyhearttoher at gmail.com (Lost)
Date: Wed Aug 13 18:16:11 2008
Subject: [Harbour] SVN: Created tag harbour-1.0.0
In-Reply-To: <20080813170603.GA20044@34-mo7-2.acn.waw.pl>
References: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>
	<20080813170603.GA20044@34-mo7-2.acn.waw.pl>
Message-ID: <402ac8b70808131516h636c2b52gc59f2e0b187c4281@mail.gmail.com>

El 13 de agosto de 2008 a las 14:06, Przemyslaw Czerpak
<druzus@acn.waw.pl> escribi?:

> On Wed, 13 Aug 2008, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>> I've created Harbour 1.0.0 tag just now.
>> URL:
>> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/tags/harbour-1.0.0
>
> Many many thanks.
>
>> [ Next move is to upload source downloads, than binaries,
>> and update our homepage, and announce the release in relevant
>> places. ]
>
> And I would like to ask someone who can update Harbour home page
> to add me to developers list. I was not with you when the project
> started but in last years I created a lot of core code which is
> now heart of Harbour.
> As I can see also many other people should be added to this list.
>
>> [ I'll now go to breath some fresh air to Sziget 2008 though :) ]
>
> Have a good time :-)
>
>> Many thanks for everyone to help reaching this point.
>
> Thank you all guys.
>

Congratulations, Viktor, Przemek and everybody else! Great job!
Thank you all for the efforts and dedication!

Best regards,

-- 
Lost

Linux Registered User #417589
From roberbox at gmail.com  Wed Aug 13 18:28:21 2008
From: roberbox at gmail.com (Roberto Lopez)
Date: Wed Aug 13 18:28:33 2008
Subject: [Harbour] Release 1.0.0 FROZEN rather :)
In-Reply-To: <F0BA70CD-7F43-4B98-91FD-F6C36B16E4C8@syenar.hu>
References: <F0BA70CD-7F43-4B98-91FD-F6C36B16E4C8@syenar.hu>
Message-ID: <48A36005.6070007@gmail.com>

Szak?ts Viktor Wrote:
> Hi all,
> 
> - We're done.

Many many thanks to all the team for this fantastic job!

Regards,

Roberto.
From f.eichelhardt at web.de  Wed Aug 13 18:41:02 2008
From: f.eichelhardt at web.de (Fritz Eichelhardt)
Date: Wed Aug 13 18:37:57 2008
Subject: [Harbour] SVN: Created tag harbour-1.0.0
In-Reply-To: <20080813170603.GA20044@34-mo7-2.acn.waw.pl>
References: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>
	<20080813170603.GA20044@34-mo7-2.acn.waw.pl>
Message-ID: <200808140041.02840.f.eichelhardt@web.de>

hi all,

no doubt, przemek *is* member of the developers team.

a thousand thanks to him and the others for their good job.


-- 
Mit freundlichen Gr??en

Fritz Eichelhardt
Br?ckenstr. 1
53545 Linz
Tel.: 02644 - 3784
Fax/UMS: 01212 - 517045068
From hbco2 at sbcglobal.net  Wed Aug 13 18:39:43 2008
From: hbco2 at sbcglobal.net (Bill Smith)
Date: Wed Aug 13 18:39:51 2008
Subject: [Harbour] SVN: Created tag harbour-1.0.0
References: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>
Message-ID: <003001c8fd95$7ceb29c0$0303a8c0@hbco>

Goes without saying, Thank You All for the tremendous program!

Bill

----- Original Message ----- 
From: Szak?ts Viktor
To: Harbour Project Main Developer List.
Sent: Wednesday, August 13, 2008 8:41 AM
Subject: [Harbour] SVN: Created tag harbour-1.0.0


Hi all,

I've created Harbour 1.0.0 tag just now.

URL:
https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/tags/harbour-1.0.0

To use it, export the URL with 'svn export <URL>'.

This URL is meant to be read-only, so don't checkout,
and even more so don't commit to it anything. Again:
Commit 1.0.0 patches to branch 1.0, and continue towards
1.1 development in main branch (trunk).

[ Next move is to upload source downloads, than binaries,
and update our homepage, and announce the release in relevant
places. ]

[ I'll now go to breath some fresh air to Sziget 2008 though :) ]

Many thanks for everyone to help reaching this point.

Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From fredyg1965 at gmail.com  Wed Aug 13 19:35:14 2008
From: fredyg1965 at gmail.com (Fredy Gonzales P.)
Date: Wed Aug 13 19:36:59 2008
Subject: [Harbour] SVN: Created tag harbour-1.0.0
References: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>
	<003001c8fd95$7ceb29c0$0303a8c0@hbco>
Message-ID: <670E9679CD5B4AECBCE1D4F3C21EBD7D@gcg.com.pe>

Y desde Lima - Peru un saludo y agradecimiento por gran el trabajo que ha 
desarrollado el equipo de Harbour.

Felicitaciones.


Fredy Gonzales P.
Lima - Peru

From philb at philb.us  Thu Aug 14 02:26:48 2008
From: philb at philb.us (Phil Barnett)
Date: Thu Aug 14 02:26:51 2008
Subject: [Harbour] Release 1.0.0 FREEZED
In-Reply-To: <F892467B-C0C5-4FB0-8E10-978809895492@syenar.hu>
References: <F892467B-C0C5-4FB0-8E10-978809895492@syenar.hu>
Message-ID: <200808140226.49221.philb@philb.us>

On Wednesday 13 August 2008 10:45:24 am Szak?ts Viktor wrote:

> - We're done.

Wow! What a project! I'm so happy to see this day come.

Over 8 years ago, a group of volunteers from the usenet newsgroup 
comp.lang.clipper formed a dream and opened this mailing list on September 
16, 2000. We had a couple of months on another list, but I don't remember how 
long and it doesn't really matter. If anyone is interested in a compressed 
mbox of every message ever posted here, I have it. Email me. 35,992 developer 
messages!

This has been a long difficult project with huge variety of participants. Many 
amazing contributors. Many people stayed with the project for all 8 years. 
That takes sincere dedication and as the leader of The Harbour Project I 
thank you for being here whether you contributed one suggestion or spent 
thousands of hours over half a decade helping to get it to the finish line.

I would like to make special mention of VIktor Skazats and 
Przemyslaw 'Przemek' Czerpak. I think we can all agree that you have been 
pulling the moijority of the load for years now. Unselfishly, you have been 
on a relentless drive to the finish line. You remind me of the Olympians we 
have been watching on television this week. Thank you Viktor and Przemek! You 
both deserve a 'Gold Medal in Programming'.

And they were most certainly not without great help from dozens of other 
faithful contributors. I would like to personally extend my thanks to 
everyone who has been involved with Harbour Project in any way. We could not 
have done it without you. You helped us make it to this goal!

A monumental task for a group of volunteers spread around our planet. We did 
it to provide a basis for programming freedom in the future. We did it 
because it was a great challenge. We did it because we saw a language we love 
being intentionally put to death, possibly costing us our futures. Above all, 
I believe it has been a labor of love. Nothing else can make this much work 
come together and get finished against all odds.

What we have created is FAR beyond our original dreams. We have not only 
managed to stay true to our goal of creating a fully compatible Clipper 5.2e 
compiler, but we have also folded in an amazing array of advancements.

You all deserve a great round of applause.

Congratulations to everyone, past and present!

Clipper is dead. Long live Harbour Project!

-- 
Waiting for sunspots.
From philb at philb.us  Thu Aug 14 02:32:09 2008
From: philb at philb.us (Phil Barnett)
Date: Thu Aug 14 02:32:11 2008
Subject: [Harbour] SVN: Created tag harbour-1.0.0
In-Reply-To: <20080813170603.GA20044@34-mo7-2.acn.waw.pl>
References: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>
	<20080813170603.GA20044@34-mo7-2.acn.waw.pl>
Message-ID: <200808140232.09950.philb@philb.us>

On Wednesday 13 August 2008 01:06:03 pm Przemyslaw Czerpak wrote:

> And I would like to ask someone who can update Harbour home page
> to add me to developers list. I was not with you when the project
> started but in last years I created a lot of core code which is
> now heart of Harbour.
> As I can see also many other people should be added to this list.

No doubt, this page needs to be revised. I don't have time right now, but 
there's a chance I could parse the mailbox that I have saved all these years.

Przemek, you are without a doubt a PREMIER developer in this project.

See my other email. I think my feelings are well explained there.

-- 
Waiting for sunspots.
From sscc at mweb.co.za  Thu Aug 14 03:07:46 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Aug 14 03:14:14 2008
Subject: [Harbour] Release 1.0.0 FREEZED
In-Reply-To: <F892467B-C0C5-4FB0-8E10-978809895492@syenar.hu>
References: <F892467B-C0C5-4FB0-8E10-978809895492@syenar.hu>
Message-ID: <48A3D9C2.6070302@mweb.co.za>

Szak?ts Viktor wrote:

> - We're done.

Well done!

It's a superlative effort that you and Przemek have put in recently.

Thanks also, to the contributions of the scores of other developers 
over the years, not least those at the "other" Harbour.

Thank you
Alex


From sscc at mweb.co.za  Thu Aug 14 03:20:54 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Aug 14 03:21:01 2008
Subject: [Harbour] SVN: Created tag harbour-1.0.0
In-Reply-To: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>
References: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>
Message-ID: <48A3DCD6.207@mweb.co.za>

Szak?ts Viktor wrote:

> [ Next move is to upload source downloads, than binaries,
> and update our homepage, and announce the release in relevant
> places. ]

Is there any batch equivalent to the install shell commands? I have 
contributed binary builds before for MSVC 6 but frankly, I have never 
been too sure what should be in them.

If not, I will write a batch file, assuming that I can understand the 
install command to see what should be included (not something 
guaranteed at all).

Regards
Alex

From dmacias at mail.udg.mx  Thu Aug 14 04:54:36 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Aug 14 04:54:40 2008
Subject: [Harbour] Re: Release 1.0.0 FREEZED
In-Reply-To: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
Message-ID: <48A3F2CC.3050507@mail.udg.mx>

On Wednesday 13 August 2008 10:45:24 am Szak?ts Viktor wrote:

 >> - We're done.

 >Wow! What a project! I'm so happy to see this day come.

Congratulations to everyone, to those who started this project, to those 
who supported it and now specially to Przemek and Viktor   :-)

David Macias


From niki at synel.co.il  Thu Aug 14 05:43:49 2008
From: niki at synel.co.il (Chen Kedem)
Date: Thu Aug 14 05:45:46 2008
Subject: [Harbour] updated doc/dirstruc.txt
Message-ID: <1A07FEDC778C3E4AA417F089511F859C031F3B74EA@Mail-yoq.SYNEL-COMPANY.LTD>

Might be a bit late, but here is an updated doc/dirstruc.txt
(attached since I am not sure if and where to update it now)

  Chen.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: DIRSTRUC.ZIP
Type: application/x-zip-compressed
Size: 3469 bytes
Desc: DIRSTRUC.ZIP
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080814/16fefd5d/DIRSTRUC-0001.bin
From niki at synel.co.il  Thu Aug 14 05:51:07 2008
From: niki at synel.co.il (Chen Kedem)
Date: Thu Aug 14 05:51:07 2008
Subject: [Harbour] Harbour home page
Message-ID: <1A07FEDC778C3E4AA417F089511F859C031F3B74EB@Mail-yoq.SYNEL-COMPANY.LTD>

When someone edit a page, please also update the "Last updated on" date at the bottom of each page.
(Currently it says 2007/06/15)

  Chen.

Oh, and greeting all for this release!!!

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080814/68f19a41/attachment.html
From druzus at acn.waw.pl  Thu Aug 14 05:56:48 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug 14 05:56:57 2008
Subject: [Harbour] Will be MT the next step?
In-Reply-To: <9257026e0808131330k718eceb9p961f56cdd7968a08@mail.gmail.com>
References: <9257026e0808131330k718eceb9p961f56cdd7968a08@mail.gmail.com>
Message-ID: <20080814095648.GA4114@34-mo7-2.acn.waw.pl>

On Wed, 13 Aug 2008, Lorenzo Fiorini wrote:

Hi Lorenzo,

I will work on it. For next 10 days I will not be available
but when I'll return then I'll restore my worker MT repository.
The very base version I can probably create quite fast but
then we will have to decide which resources should be global
and which thread local, which should be synchronized by HVM
and which ones by user, which MT features should we supported
and how (portability and cost) and finally update the code to
respect our choices. This will have to take some time. It's
possible that quite long anyhow the base version should be
functional for people who will want to use it accepting that
for final version they will have to update their code.

> I cannot see anything more needed for 1.1 ( or 2.0 ).

Multiwindow GTs, GT runtime switching, GTNET with remote
resource sharing and procedures calls, new internal DBF*
RDD API to not replicate the same code between different
indexing RDDs, SQL queries for DBFs and other native RDDs,
SQLRDD, virtual handle support with user defined streams
and central event message queue, cleaned INET support with
C API, rewriting some part of compiler covered by pure
GPL license with new license, strong typing, finishing
i18n support, file cache support, full object support for
pointer HB_ITEMs for easy creating objects at C level and
adding new types to HVM, ...
Probably each user has his own priority list.

> At the second place i would put the "hrb libraries" that is
> the way to dinamically load more functions at once.

This of course too.

> These features are platform neutral and will complete the core
> of the harbour.

Not exactly. Some platforms like DOS or WinCE does not support threads
but of course it does not mean that we should not implement them for
others. Here I will need some help from other developers. I can create
PTHREAD based version for POSIX systems and maybe some skeleton for
MS-Win and OS2 but this code will have to be tested and updated by
other developers who use these platforms.

best regards,
Przemek
From dmacias at mail.udg.mx  Thu Aug 14 06:48:08 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Aug 14 06:48:11 2008
Subject: [Harbour] Harbour 1.0.0 binaries for OS/2-eCS
In-Reply-To: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
Message-ID: <48A40D68.6030100@mail.udg.mx>

Harbour 1.0.0 binaries file for OS/2-eComStation are available in Harbour
download page

as harbour-1.0.0.bin-os2.gcc.zip

Include Harbour libraries for:
- MySQL 5.1.23 ( hbmysql.a )
- Postgres 8.1.4 ( hbpgsql.a )
- cUrl 7.18.1 ( hbcurl.a )

All packages from Paul Smedley site:
http://www.smedley.info/os2ports/index.php

David Macias


From rportnoff at spendmap.com  Thu Aug 14 10:50:51 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Thu Aug 14 10:49:33 2008
Subject: [Harbour] C compiler warnings using Visual Studio 2005
In-Reply-To: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>
References: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>
Message-ID: <B0082772789@ms1.3peaks.com>

Hi all,

I get the following warnings (in my DOS/command shell) when building 
release 1.0 using MS Visual Studio 2005:

cl : Command line warning D9035 : option 'Og' has been deprecated and 
will be removed in a future release
cl : Command line warning D9035 : option 'GX-' has been deprecated 
and will beremoved in a future release
cl : Command line warning D9036 : use 'EHs-c-' instead of 'GX-'
cl : Command line warning D9002 : ignoring unknown option '-Op'
cl : Command line warning D9002 : ignoring unknown option '-G6'

Should I just ignore these?

Regards,
Randy.


From ptucker at sympatico.ca  Thu Aug 14 10:56:56 2008
From: ptucker at sympatico.ca (Paul Tucker)
Date: Thu Aug 14 10:57:05 2008
Subject: [Harbour] C compiler warnings using Visual Studio 2005
In-Reply-To: <B0082772789@ms1.3peaks.com>
Message-ID: <BAY114-F360509C16AE2F7632B860ADF720@phx.gbl>

Randy,

Try this before bui9ld.
set_HB_VISUALC_VER=80

Paul

>Hi all,
>
>I get the following warnings (in my DOS/command shell) when building 
>release 1.0 using MS Visual Studio 2005:
>
>cl : Command line warning D9035 : option 'Og' has been deprecated and will 
>be removed in a future release
>cl : Command line warning D9035 : option 'GX-' has been deprecated and will 
>beremoved in a future release
>cl : Command line warning D9036 : use 'EHs-c-' instead of 'GX-'
>cl : Command line warning D9002 : ignoring unknown option '-Op'
>cl : Command line warning D9002 : ignoring unknown option '-G6'


From rportnoff at spendmap.com  Thu Aug 14 11:25:41 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Thu Aug 14 11:24:22 2008
Subject: [Harbour] C compiler warnings using Visual Studio 2005
In-Reply-To: <B0082772789@ms1.3peaks.com>
References: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>
	<B0082772789@ms1.3peaks.com>
Message-ID: <B0082773632@ms1.3peaks.com>

Someone off the list helped me with this - I needed to:

set HB_VISUALC_VER=80


At 10:50 AM 8/14/2008, you wrote:
>Hi all,
>
>I get the following warnings (in my DOS/command shell) when building 
>release 1.0 using MS Visual Studio 2005:
>
>cl : Command line warning D9035 : option 'Og' has been deprecated 
>and will be removed in a future release
>cl : Command line warning D9035 : option 'GX-' has been deprecated 
>and will beremoved in a future release
>cl : Command line warning D9036 : use 'EHs-c-' instead of 'GX-'
>cl : Command line warning D9002 : ignoring unknown option '-Op'
>cl : Command line warning D9002 : ignoring unknown option '-G6'
>
>Should I just ignore these?
>
>Regards,
>Randy.
>
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From rportnoff at spendmap.com  Thu Aug 14 12:10:19 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Thu Aug 14 12:09:01 2008
Subject: [Harbour] Issue with hb_numRound in MSVS 2005
Message-ID: <B0082774847@ms1.3peaks.com>

Hi all,

I have changed the numeric comparison functions in my Harbour version 
to compensate for floating point issues when comparing numeric values 
(it was must simpler doing it in Harbour than in the PRG code) - I 
round all values to 8 decimal places before making the comparison - I 
have used this for years with many Harbour builds with MSVC v6.

I am trying MS Visual Studio 2005 (MSVC v8?) but there seems to be an 
issue with my changes as they relate to hb_numRound. For example, my 
hb_vmExactlyEqual() code was changed from:

else if( HB_IS_NUMERIC( pItem1 ) && HB_IS_NUMERIC( pItem2 ) )
     hb_vmPushLogical( hb_vmPopNumber() == hb_vmPopNumber() );

...to this...

else if( HB_IS_NUMERIC( pItem1 ) && HB_IS_NUMERIC( pItem2 ) )
{
    double dNumber2 = hb_vmPopNumber();
    double dNumber1 = hb_vmPopNumber();
    dNumber1 = hb_numRound( dNumber1, (int) MY_PRECISION );  // 
MY_PRECISION is defined as 8
    dNumber2 = hb_numRound( dNumber2, (int) MY_PRECISION );  // 
MY_PRECISION is defined as 8
    hb_vmPushLogical( dNumber1 == dNumber2 );
}

Again, this works fine in MSVC v6 but the following PRG code fails if 
I build this using VS 2005:

? 3.2 == 3.2  // returns .T. in MSVC v6 and .F. in VS 2005.

If I remove the calls to hn_numRound() as...

else if( HB_IS_NUMERIC( pItem1 ) && HB_IS_NUMERIC( pItem2 ) )
{
    double dNumber2 = hb_vmPopNumber();
    double dNumber1 = hb_vmPopNumber();
// dNumber1 = hb_numRound( dNumber1, (int) MY_PRECISION );
// dNumber2 = hb_numRound( dNumber2, (int) MY_PRECISION );
    hb_vmPushLogical( dNumber1 == dNumber2 );
}

...it works ok.

Can anyone tell my why there is a difference between these 2 C versions?

TIA.

Regards,
Randy.


From harbour.01 at syenar.hu  Thu Aug 14 12:20:34 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 14 12:20:35 2008
Subject: [Harbour] 2008-08-14 18:15 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fe29$Blat.v2.6.2$adb147d0$1f30d6068d0@127.0.0.1>

2008-08-14 18:15 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * ChangeLog
     + Added entry for yesterday's syncing/tagging.

   * make_deb.sh
     ! Removed hbsqlit2 from contrib list.
     + Added libharu detection.
     + Added FreeImage detection (commented).
     * Contrib list more or less ordered by alphabet.
     ; [ QUESTION: Do we need to keep this logic duplicated here, 
       if we now have the detection logic and contrib list 
       embedded into the make system anyway? ]

   * doc/linux1st.txt
     * Synced with make_deb.sh.

2008-08-13 17:41 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * SVN
     ; =========================================================
     ; =========================================================
     ; Fully synced /branches/harbour-1.0 with /trunk/harbour
     ; Created /tags/harbour-1.0.0 based on /branches/harbour-1.0
     ; (revision 9175)
     ; =========================================================
     ; =========================================================
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Aug 14 12:32:31 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 14 12:32:39 2008
Subject: [Harbour] 1.0.0 file releases uploaded
Message-ID: <D2762FC6-ED52-4E32-B287-820E8F2F88EA@syenar.hu>

Hi all,

I've uploaded following files to sf.net:

Sources:
	harbour-1.0.0-src.zip
	harbour-1.0.0.tar.bz2
	harbour-1.0.0.tar.gz
OSX:
	harbour-1.0.0-darwin_9.4.0.bin.tar.gz
Linux (Ubuntu/Debian):
	harbour_1.0.0-1_i386.deb
	harbour-1.0.0-linux_2.6.24-19-generic.bin.tar.gz
Windows:
	harbour-1.0.0-win32-bcc551.zip
	harbour-1.0.0-win32-bcc582.zip
	harbour-1.0.0-win32-mingw345.zip
	harbour-1.0.0-win32-mingw412.zip
	harbour-1.0.0-win32-mingw431.zip
	harbour-1.0.0-win32-msvs2005.zip
	harbour-1.0.0-win32-msvs2005cpp.zip
	harbour-1.0.0-win32-msvs2008.zip
	harbour-1.0.0-win32-msvs2008cpp.zip
	harbour-1.0.0-win32-owatcom17.zip
	harbour-1.0.0-win32-pellesc45.zip
	harbour-1.0.0-win32-pellesc50.zip
	harbour-1.0.0-win64-msvs2008cpp.zip
	harbour-1.0.0-win64-pellesc50.zip
DOS:
	HB100.zip

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Aug 14 12:33:48 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 14 12:33:50 2008
Subject: [Harbour] 2008-08-14 18:15 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8fe2b$Blat.v2.6.2$873b975c$1e48c2e99270@127.0.0.1>

2008-08-14 18:15 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * ChangeLog
     + Added entry for yesterday's syncing/tagging.

   * make_deb.sh
     ! Removed hbsqlit2 from contrib list.
     + Added libharu detection.
     + Added FreeImage detection (commented).
     * Contrib list more or less ordered by alphabet.
     ; [ QUESTION: Do we need to keep this logic duplicated here, 
       if we now have the detection logic and contrib list 
       embedded into the make system anyway? ]

   * doc/linux1st.txt
     * Synced with make_deb.sh.

2008-08-13 17:41 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * SVN
     ; =========================================================
     ; =========================================================
     ; Fully synced /branches/harbour-1.0 with /trunk/harbour
     ; Created /tags/harbour-1.0.0 based on /branches/harbour-1.0
     ; (revision 9175)
     ; =========================================================
     ; =========================================================
--
Brgds,
Viktor

From lkrausem at shaw.ca  Thu Aug 14 12:42:42 2008
From: lkrausem at shaw.ca (Luis Krause Mantilla)
Date: Thu Aug 14 12:42:56 2008
Subject: [Harbour] SVN: Created tag harbour-1.0.0
In-Reply-To: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>
References: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>
Message-ID: <48A46082.1050904@shaw.ca>

Congratulations on this milestone!

Przemek and Viktor have really pulled more than their
weight in this project.

Szak?ts Viktor wrote:
> Hi all,
>
> I've created Harbour 1.0.0 tag just now.
>
> URL:
> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/tags/harbour-1.0.0 
>
>
-- 
Luis Krause Mantilla
lkrausem at shaw dot ca
luis_krause at hotmail dot com
"May the Source be with GNU"


From a.jurkiewicz at abix.info.pl  Thu Aug 14 13:23:35 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Thu Aug 14 13:23:41 2008
Subject: [Harbour] 1.0.0 file releases uploaded
In-Reply-To: <D2762FC6-ED52-4E32-B287-820E8F2F88EA@syenar.hu>
References: <D2762FC6-ED52-4E32-B287-820E8F2F88EA@syenar.hu>
Message-ID: <200808141923.35181.a.jurkiewicz@abix.info.pl>

Dnia czwartek, 14 sierpnia 2008, Szak?ts Viktor napisa?:
> Hi all,
>
> I've uploaded following files to sf.net:
On my homepage there are rpm's build on openSUSE 10.3

http://www.abix.info.pl/kompilator-harbour,56.html

If you could upload them to sf...

best regards,
Adam

p.s.
Very good work ... congratulations.

-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu www.abix.info.pl
Gadu-Gadu: 302315
Skype: abix_adamj 
Wsparcie aplikacji: http://groups-beta.google.com/group/abix-rcsoft?hl=pl
From druzus at acn.waw.pl  Thu Aug 14 14:28:26 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug 14 14:28:34 2008
Subject: [Harbour] Issue with hb_numRound in MSVS 2005
In-Reply-To: <B0082774847@ms1.3peaks.com>
References: <B0082774847@ms1.3peaks.com>
Message-ID: <20080814182826.GA13956@34-mo7-2.acn.waw.pl>

On Thu, 14 Aug 2008, Randy Portnoff wrote:

Hi Randy,

> I have changed the numeric comparison functions in my Harbour version 
> to compensate for floating point issues when comparing numeric values 
> (it was must simpler doing it in Harbour than in the PRG code) - I 
> round all values to 8 decimal places before making the comparison - I 
> have used this for years with many Harbour builds with MSVC v6.

This is technically wrong. IEE758 double value has 53-bit precision
(nearly 16 decimal digit) but the range is much wider 1024-bit (~308
dec digits) and such hack with fixed number of decimal places breaks
very small numbers comparison and has no effect on very big ones.

> I am trying MS Visual Studio 2005 (MSVC v8?) but there seems to be an 
> issue with my changes as they relate to hb_numRound. For example, my 
> hb_vmExactlyEqual() code was changed from:
> else if( HB_IS_NUMERIC( pItem1 ) && HB_IS_NUMERIC( pItem2 ) )
>     hb_vmPushLogical( hb_vmPopNumber() == hb_vmPopNumber() );
> ...to this...
> else if( HB_IS_NUMERIC( pItem1 ) && HB_IS_NUMERIC( pItem2 ) )
> {
>    double dNumber2 = hb_vmPopNumber();
>    double dNumber1 = hb_vmPopNumber();
>    dNumber1 = hb_numRound( dNumber1, (int) MY_PRECISION );  // 
> MY_PRECISION is defined as 8
>    dNumber2 = hb_numRound( dNumber2, (int) MY_PRECISION );  // 
> MY_PRECISION is defined as 8
>    hb_vmPushLogical( dNumber1 == dNumber2 );
                                ^^

You are adding workaround for float point arithmetic problems
hardcoding exact comparission so it's still wrong. The above
code should be changed to:

   /* define precision factor which will reduce precision
    * to ~15 digit but it will work for any range of supported
    * values.
    */
   #define HB_PRECISION_FACTOR      1.000000000000005

   [...]

   else if( HB_IS_NUMERIC( pItem1 ) && HB_IS_NUMERIC( pItem2 ) )
   {
      double dNumber2 = hb_vmPopNumber();
      double dNumber1 = hb_vmPopNumber();
      BOOL fResult;

      if( dNumber1 < dNumber2 )
      {
         if( dNumber1 < 0 )
            fResult = dNumber2 * HB_PRECISION_FACTOR <= dNumber1;
         else
            fResult = dNumber1 * HB_PRECISION_FACTOR >= dNumber2;
      }
      else
      {
         if( dNumber1 < 0 )
            fResult = dNumber1 * HB_PRECISION_FACTOR <= dNumber2;
         else
            fResult = dNumber2 * HB_PRECISION_FACTOR >= dNumber1;
      }
      hb_vmPushLogical( fResult );
   }

This code will be probably faster, it will work for any supported range
numbers and it's not effected by compiler/hardware floating point
arithmetic. The cost is reducing precision to ~15 significant decimal
digits. So the cumulative difference in your code during calculations
should not be bigger. If it's too small for you then increase
HB_PRECISION_FACTOR removing one or more 0. It will also reduce the
precision.

> Again, this works fine in MSVC v6 but the following PRG code fails if 
> I build this using VS 2005:
> ? 3.2 == 3.2  // returns .T. in MSVC v6 and .F. in VS 2005.

Nothing amazing - it's expected in such code. You still have FL
comparison problem.

> If I remove the calls to hn_numRound() as...
> else if( HB_IS_NUMERIC( pItem1 ) && HB_IS_NUMERIC( pItem2 ) )
> {
>    double dNumber2 = hb_vmPopNumber();
>    double dNumber1 = hb_vmPopNumber();
> // dNumber1 = hb_numRound( dNumber1, (int) MY_PRECISION );
> // dNumber2 = hb_numRound( dNumber2, (int) MY_PRECISION );
>    hb_vmPushLogical( dNumber1 == dNumber2 );
> }
> ...it works ok.

As above. It may work for this number but it may not work for other.

> Can anyone tell my why there is a difference between these 2 C versions?

It's FL arithmetic nature. These two compilers uses different floating
point math libraries or you build Harbour with different math optimization
switches. Such difference can appear even with the same binary program
but executed on different machines due to small difference between
math coprocessors in different CPUs. As above nothing amazing.
You have two choices:
   1. check carefully for MSVC math optimization switches used to build
      harbour and disable them. It may help for some chosen cases.
   2. change the method used to compare numbers, f.e. to the one
      I presented but please check me - I've just written this code
      by finger without any tests and it's possible that I made some
      mistakes but I hope you understand the idea - it's important
      because my version behaves differently then yours.
      If you do not understand it and you are happy with your current
      code then simply change it to:

   else if( HB_IS_NUMERIC( pItem1 ) && HB_IS_NUMERIC( pItem2 ) )
   {
      double dNumber2 = hb_vmPopNumber();
      double dNumber1 = hb_vmPopNumber();
      hb_vmPushLogical( hb_numRound( dNumber1 - dNumber2,
                                     (int) MY_PRECISION ) == 0 );

   }

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Thu Aug 14 14:38:02 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Aug 14 14:38:07 2008
Subject: [Harbour] Will be MT the next step?
In-Reply-To: <20080814095648.GA4114@34-mo7-2.acn.waw.pl>
References: <9257026e0808131330k718eceb9p961f56cdd7968a08@mail.gmail.com>
	<20080814095648.GA4114@34-mo7-2.acn.waw.pl>
Message-ID: <9257026e0808141138r2b4abe39o6efe033ac59d441@mail.gmail.com>

On Thu, Aug 14, 2008 at 11:56 AM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> I will work on it. For next 10 days I will not be available
> but when I'll return then I'll restore my worker MT repository.

Many thanks.

I also will be on vacation until the end of August.

> The very base version I can probably create quite fast but
> ...
> for final version they will have to update their code.

Of course, here we don't have the cli*per blueprint so we will have to "test".

> Multiwindow GTs, GT runtime switching, GTNET with remote
> ...
> Probably each user has his own priority list.

Of course, these are simply my priorities.

I'm moving my desktop apps to an rpc/xml/web interface but I've found
that without MT, web remote apps become quite complicated if not
impossible to create.

Also I'm heavily using dynamic functions using hrbs that are wonderful
replacement of php scripts but here hrb libs are almost necessary to
avoid duplication of code.

Clearly you and the other core developers are free to set the
priorities and the road map.

I'll do my best to help.

best regards,
Lorenzo
From rportnoff at spendmap.com  Thu Aug 14 14:41:48 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Thu Aug 14 14:40:30 2008
Subject: [Harbour] Issue with hb_numRound in MSVS 2005
In-Reply-To: <20080814182826.GA13956@34-mo7-2.acn.waw.pl>
References: <B0082774847@ms1.3peaks.com>
	<20080814182826.GA13956@34-mo7-2.acn.waw.pl>
Message-ID: <B0082778481@ms1.3peaks.com>

Hi Przemek,

Thank you VERY much for that detailed explanation and for your help!

Your second solution...

hb_vmPushLogical( hb_numRound( dNumber1 - dNumber2,
                               (int) MY_PRECISION ) == 0 );

...is much simpler than the first one - Why should I not use this 
second solution instead?

Also, while I have you attention... The only reason I am interested 
in upgrading to VS 2005 is that MSVC v6 is no longer supported - 
However, v6 has always worked very well for me (and compiles much 
faster!) - IYO, is there any reason I should NOT be using v6 anymore?

TIA.

Regards,
Randy.


At 02:28 PM 8/14/2008, you wrote:
>On Thu, 14 Aug 2008, Randy Portnoff wrote:
>
>Hi Randy,
>
> > I have changed the numeric comparison functions in my Harbour version
> > to compensate for floating point issues when comparing numeric values
> > (it was must simpler doing it in Harbour than in the PRG code) - I
> > round all values to 8 decimal places before making the comparison - I
> > have used this for years with many Harbour builds with MSVC v6.
>
>This is technically wrong. IEE758 double value has 53-bit precision
>(nearly 16 decimal digit) but the range is much wider 1024-bit (~308
>dec digits) and such hack with fixed number of decimal places breaks
>very small numbers comparison and has no effect on very big ones.
>
> > I am trying MS Visual Studio 2005 (MSVC v8?) but there seems to be an
> > issue with my changes as they relate to hb_numRound. For example, my
> > hb_vmExactlyEqual() code was changed from:
> > else if( HB_IS_NUMERIC( pItem1 ) && HB_IS_NUMERIC( pItem2 ) )
> >     hb_vmPushLogical( hb_vmPopNumber() == hb_vmPopNumber() );
> > ...to this...
> > else if( HB_IS_NUMERIC( pItem1 ) && HB_IS_NUMERIC( pItem2 ) )
> > {
> >    double dNumber2 = hb_vmPopNumber();
> >    double dNumber1 = hb_vmPopNumber();
> >    dNumber1 = hb_numRound( dNumber1, (int) MY_PRECISION );  //
> > MY_PRECISION is defined as 8
> >    dNumber2 = hb_numRound( dNumber2, (int) MY_PRECISION );  //
> > MY_PRECISION is defined as 8
> >    hb_vmPushLogical( dNumber1 == dNumber2 );
>                                 ^^
>
>You are adding workaround for float point arithmetic problems
>hardcoding exact comparission so it's still wrong. The above
>code should be changed to:
>
>    /* define precision factor which will reduce precision
>     * to ~15 digit but it will work for any range of supported
>     * values.
>     */
>    #define HB_PRECISION_FACTOR      1.000000000000005
>
>    [...]
>
>    else if( HB_IS_NUMERIC( pItem1 ) && HB_IS_NUMERIC( pItem2 ) )
>    {
>       double dNumber2 = hb_vmPopNumber();
>       double dNumber1 = hb_vmPopNumber();
>       BOOL fResult;
>
>       if( dNumber1 < dNumber2 )
>       {
>          if( dNumber1 < 0 )
>             fResult = dNumber2 * HB_PRECISION_FACTOR <= dNumber1;
>          else
>             fResult = dNumber1 * HB_PRECISION_FACTOR >= dNumber2;
>       }
>       else
>       {
>          if( dNumber1 < 0 )
>             fResult = dNumber1 * HB_PRECISION_FACTOR <= dNumber2;
>          else
>             fResult = dNumber2 * HB_PRECISION_FACTOR >= dNumber1;
>       }
>       hb_vmPushLogical( fResult );
>    }
>
>This code will be probably faster, it will work for any supported range
>numbers and it's not effected by compiler/hardware floating point
>arithmetic. The cost is reducing precision to ~15 significant decimal
>digits. So the cumulative difference in your code during calculations
>should not be bigger. If it's too small for you then increase
>HB_PRECISION_FACTOR removing one or more 0. It will also reduce the
>precision.
>
> > Again, this works fine in MSVC v6 but the following PRG code fails if
> > I build this using VS 2005:
> > ? 3.2 == 3.2  // returns .T. in MSVC v6 and .F. in VS 2005.
>
>Nothing amazing - it's expected in such code. You still have FL
>comparison problem.
>
> > If I remove the calls to hn_numRound() as...
> > else if( HB_IS_NUMERIC( pItem1 ) && HB_IS_NUMERIC( pItem2 ) )
> > {
> >    double dNumber2 = hb_vmPopNumber();
> >    double dNumber1 = hb_vmPopNumber();
> > // dNumber1 = hb_numRound( dNumber1, (int) MY_PRECISION );
> > // dNumber2 = hb_numRound( dNumber2, (int) MY_PRECISION );
> >    hb_vmPushLogical( dNumber1 == dNumber2 );
> > }
> > ...it works ok.
>
>As above. It may work for this number but it may not work for other.
>
> > Can anyone tell my why there is a difference between these 2 C versions?
>
>It's FL arithmetic nature. These two compilers uses different floating
>point math libraries or you build Harbour with different math optimization
>switches. Such difference can appear even with the same binary program
>but executed on different machines due to small difference between
>math coprocessors in different CPUs. As above nothing amazing.
>You have two choices:
>    1. check carefully for MSVC math optimization switches used to build
>       harbour and disable them. It may help for some chosen cases.
>    2. change the method used to compare numbers, f.e. to the one
>       I presented but please check me - I've just written this code
>       by finger without any tests and it's possible that I made some
>       mistakes but I hope you understand the idea - it's important
>       because my version behaves differently then yours.
>       If you do not understand it and you are happy with your current
>       code then simply change it to:
>
>    else if( HB_IS_NUMERIC( pItem1 ) && HB_IS_NUMERIC( pItem2 ) )
>    {
>       double dNumber2 = hb_vmPopNumber();
>       double dNumber1 = hb_vmPopNumber();
>       hb_vmPushLogical( hb_numRound( dNumber1 - dNumber2,
>                                      (int) MY_PRECISION ) == 0 );
>
>    }
>
>best regards,
>Przemek
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From bedipritpal at hotmail.com  Thu Aug 14 18:01:46 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug 14 18:01:51 2008
Subject: [Harbour] Harbour Roadmap - Overview
Message-ID: <18990552.post@talk.nabble.com>


Hello Everybody

Here is a compiled overview of feature set for next
version(s) not in a specifc order, though I have tried to 
put these in order of relevance with present times.

[ Przemek's Descriptives in List Form + Few Addums ]

[]  Multi-Threading

    Basic Version
       subject to changes over the development phase

    Mature Version
       after settling how resources have to behave
       i.e. Statics, Globals, Publics, Aliases, Workareas, etc

   InSight existing modal could be Xbase++

[] Central Event Message Queue

[] MultiWindow GT

[] GTNET with Remote Resource Sharing and Procedures Calls

[] HRB Libraries

[] RDDNET

[] Strong Typing

[] GT Runtime Switching

[] New internal DBF* RDD API to not replicate the same 
   code between different indexing RDDs

[] SQL Queries for DBFs and other native RDDs

[] SQLRDD

[] Virtual Handle Support with User-Defined Streams 

[] Cleaned INET Support with C API

[] Finishing i18n Support

[] File Cache Support

[] Full object support for pointer HB_ITEMs for easy 
   - creating objects at C level and 
   - adding new types to HVM

[] Rewriting some part of compiler covered by pure 
   GPL License with New License

[] Portable GUI Component Library ( if possible )


Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/Harbour-Roadmap---Overview-tp18990552p18990552.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From philb at philb.us  Fri Aug 15 00:11:55 2008
From: philb at philb.us (Phil Barnett)
Date: Fri Aug 15 00:11:57 2008
Subject: [Harbour] Harbour Roadmap - Overview
In-Reply-To: <18990552.post@talk.nabble.com>
References: <18990552.post@talk.nabble.com>
Message-ID: <200808150011.56128.philb@philb.us>

On Thursday 14 August 2008 06:01:46 pm Pritpal Bedi wrote:
> Hello Everybody
>
> Here is a compiled overview of feature set for next
> version(s) not in a specifc order, though I have tried to
> put these in order of relevance with present times.
>
> [ Przemek's Descriptives in List Form + Few Addums ]
>
> []  Multi-Threading
>
>     Basic Version
>        subject to changes over the development phase
>
>     Mature Version
>        after settling how resources have to behave
>        i.e. Statics, Globals, Publics, Aliases, Workareas, etc
>
>    InSight existing modal could be Xbase++
>
> [] Central Event Message Queue
>
> [] MultiWindow GT
>
> [] GTNET with Remote Resource Sharing and Procedures Calls
>
> [] HRB Libraries
>
> [] RDDNET
>
> [] Strong Typing
>
> [] GT Runtime Switching
>
> [] New internal DBF* RDD API to not replicate the same
>    code between different indexing RDDs
>
> [] SQL Queries for DBFs and other native RDDs
>
> [] SQLRDD
>
> [] Virtual Handle Support with User-Defined Streams
>
> [] Cleaned INET Support with C API
>
> [] Finishing i18n Support
>
> [] File Cache Support
>
> [] Full object support for pointer HB_ITEMs for easy
>    - creating objects at C level and
>    - adding new types to HVM
>
> [] Rewriting some part of compiler covered by pure
>    GPL License with New License
>
> [] Portable GUI Component Library ( if possible )
>
>
> Regards
> Pritpal Bedi, INDIA-USA

Do we have a DOM style XML parser? I use that a lot in my current work.

-- 
Waiting for sunspots.
From wangshuming01 at gmail.com  Fri Aug 15 00:15:32 2008
From: wangshuming01 at gmail.com (wang shuming)
Date: Fri Aug 15 00:15:36 2008
Subject: [Harbour] Habour1.0.0 +FWH +BCC551 works very well !
Message-ID: <c26b21640808142115x5cb84f5eh2ccdcda66aa0504f@mail.gmail.com>

Hi,
  I tested Harbour 1.0.0 +FWH801+BCC551 +MySQL 5.0.

  WORKS VERY WELL OK!

Thanks Harbour team's hard work !

Shuming Wang
Canton,China
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080815/cf911cdf/attachment.html
From sscc at mweb.co.za  Fri Aug 15 03:05:54 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Aug 15 03:06:05 2008
Subject: [Harbour] Harbour Roadmap - Overview
In-Reply-To: <18990552.post@talk.nabble.com>
References: <18990552.post@talk.nabble.com>
Message-ID: <48A52AD2.3060505@mweb.co.za>

Pritpal Bedi wrote:

> Hello Everybody

I'd like to see:

[] Date and Time type

[] Decimal arithmetic type

Regards
Alex
From lorenzo.fiorini at gmail.com  Fri Aug 15 03:20:30 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Aug 15 03:20:34 2008
Subject: [Harbour] Harbour Roadmap - Overview
In-Reply-To: <200808150011.56128.philb@philb.us>
References: <18990552.post@talk.nabble.com> <200808150011.56128.philb@philb.us>
Message-ID: <9257026e0808150020id7977a6sd7a5a4fb9616d386@mail.gmail.com>

On Fri, Aug 15, 2008 at 6:11 AM, Phil Barnett <philb@philb.us> wrote:
>
> Do we have a DOM style XML parser? I use that a lot in my current work.

Inside xhb dir there are what in xHarbour are hbxml and hblog libs.

I've "extracted" them and I use them extensively.

They are also well documented in xHarbour's doc dir.

best regards,
Lorenzo
From alex_degarate at hotmail.com  Fri Aug 15 12:12:48 2008
From: alex_degarate at hotmail.com (Alejandro de Garate)
Date: Fri Aug 15 12:12:54 2008
Subject: [Harbour] Release 1.0
Message-ID: <BLU149-W405E91135F740C8EEABA1C856D0@phx.gbl>


Congratulations !!!!!!! 

to all people which made posible, specially to Przemek and Viktor.

Go Ahead! 

Alejandro


_________________________________________________________________
Discover the new Windows Vista
http://search.msn.com/results.aspx?q=windows+vista&mkt=en-US&form=QBRE
From ernad.husremovic at sigma-com.net  Fri Aug 15 13:20:52 2008
From: ernad.husremovic at sigma-com.net (Ernad Husremovic)
Date: Fri Aug 15 13:21:02 2008
Subject: [Harbour] gtxwc app maximized on startup
In-Reply-To: <19418248.121218820763299.JavaMail.hernad@nmraka-1>
Message-ID: <11163006.141218820848892.JavaMail.hernad@nmraka-1>

Hello,
Congratulations to the harbour team for the great achievement with release 1.0.0. 

Now the question:

Is it possible to maximize gtxwc application window on application startup ?

For example, when I build hbrun with gtxwc screen size is always 25 x 80 char regardless of current screen resolution.


this is defined gtxwc.h
#define XWC_DEFAULT_ROWS             25
#define XWC_DEFAULT_COLS             80

and here is used:
...
hb_gt_xwc_SetScrBuff( wnd, XWC_DEFAULT_COLS, XWC_DEFAULT_ROWS );
...

Maybe I can somehow send WINDOW_MAXIMIZE event to the hb_gt_xwc_WndProc() ?


Thank you,
Ernad

From alex_degarate at hotmail.com  Fri Aug 15 13:21:09 2008
From: alex_degarate at hotmail.com (Alejandro de Garate)
Date: Fri Aug 15 13:21:15 2008
Subject: [Harbour] Harbour Roadmap - Overview
Message-ID: <BLU149-W5639DE77A5D4F5F9F94854856D0@phx.gbl>


I agree in most of the points. and I would like to see:

-- harbour embebed as a script language in html pages.

-- GUI Multiplatform (executable and some internet standard interface)
   but I haven't a clear idea how to achieve this.

The are today many interpreted language in use and Harbour can be a good 
candidate and not as a standalone compiler only.

Alejandro

 




_________________________________________________________________
News, entertainment and everything you care about at Live.com. Get it now!
http://www.live.com/getstarted.aspx
From rafa at tesipro.com  Fri Aug 15 16:31:31 2008
From: rafa at tesipro.com (rafa)
Date: Fri Aug 15 16:32:38 2008
Subject: [Harbour] 1.0.0 file releases uploaded
In-Reply-To: <D2762FC6-ED52-4E32-B287-820E8F2F88EA@syenar.hu>
References: <D2762FC6-ED52-4E32-B287-820E8F2F88EA@syenar.hu>
Message-ID: <48A5E7A3.5030204@tesipro.com>

Very job, thanks!
> Linux (Ubuntu/Debian):
>     harbour_1.0.0-1_i386.deb
but.. under Ubuntu 7.10 this problem this package .deb;
Error: Dependency is not satisfiable; libncurses5

But.. i have install this packages;
libncurses5--> version 5.6+20070716-1ub
libncurses5-dev-> version 5.6+20070716-1ub

Where is the problem ?

Thanks!
Regards
Rafa Carmona


From harbour.01 at syenar.hu  Fri Aug 15 18:10:02 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 15 18:10:11 2008
Subject: [Harbour] 1.0.0 file releases uploaded
In-Reply-To: <48A5E7A3.5030204@tesipro.com>
References: <D2762FC6-ED52-4E32-B287-820E8F2F88EA@syenar.hu>
	<48A5E7A3.5030204@tesipro.com>
Message-ID: <9F517606-129E-4A48-B3D9-0D77C251EC1F@syenar.hu>

Hi Rafa,

I'm afraid I have no idea, sorry. Maybe you would have
better luck with the supplied .tar.gz file, until we
resolve this.

make_deb.sh had minor problems which I've found out
after the release, maybe it had others, or maybe I
messed up something when running make_deb.sh.

If someone else can double check and confirm problems
with this .deb file, we can pull the release and later
replace it with another one.

Brgds,
Viktor

On 2008.08.15., at 22:31, rafa wrote:

> Very job, thanks!
>> Linux (Ubuntu/Debian):
>>    harbour_1.0.0-1_i386.deb
> but.. under Ubuntu 7.10 this problem this package .deb;
> Error: Dependency is not satisfiable; libncurses5
>
> But.. i have install this packages;
> libncurses5--> version 5.6+20070716-1ub
> libncurses5-dev-> version 5.6+20070716-1ub
>
> Where is the problem ?
>
> Thanks!
> Regards
> Rafa Carmona
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Aug 15 20:21:27 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 15 20:21:30 2008
Subject: [Harbour] 2008-08-16 02:19 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8ff36$Blat.v2.6.2$0615cfce$1f68e9498116@127.0.0.1>

2008-08-16 02:19 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbmzip/hbmzip.c
     ! Fixed potential GPF in executable type detection.
       Fixes GCC 4.3.1 warnings in openSUSE 11.

   * tests/debugtst.prg
   * tests/funcarr.prg
   * tests/inherit.prg
   * tests/objarr.prg
   * tests/objasign.prg
   * doc/en/hvm.txt
   * doc/es/hvm.txt
   * include/hbextern.ch
   * source/vm/debug.c
   * source/vm/hvm.c
   * source/debug/dbgtobj.prg
   * source/debug/debugger.prg
   * source/rtl/altd.prg
     * Harbour level HB_DBG_*() functions renamed to __DBG*() to 
       reflect their internal nature.
     - Removed old __VM*() synonyms to Harbour level __DBG*() functions.
       INCOMPATIBLE.
     ! Fixed a few minor doc bugs along the way.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Aug 15 21:11:09 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 15 21:11:09 2008
Subject: [Harbour] 2008-08-16 03:10 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8ff3c$Blat.v2.6.2$f76e3658$13047626239e@127.0.0.1>

2008-08-16 03:10 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_rpm.sh
   * harbour.spec
     ! Added hbsqlit3, hbmsql to the contrib list.
     ! Added hbhpdf (libharu) detection and build.
     ; Untested
--
Brgds,
Viktor

From jamajbr at gmail.com  Fri Aug 15 23:20:10 2008
From: jamajbr at gmail.com (=?ISO-8859-1?Q?Jos=E9_Augusto_Jr.?=)
Date: Fri Aug 15 23:20:15 2008
Subject: [Harbour] Error linking in Ubuntu
Message-ID: <7160e8800808152020s3b46822kb8eb8850712f87aa@mail.gmail.com>

Hi,

I downloaded the binearies for Ubuntu and tried to link the hello.prg
from harbour/tests.

I receive the error
SLutf8_enable not defined.
I know that this symbol is from Slang, and enable UTF8.

How can i compile in ubuntu?
I used hbmk and hblnk. The two give the same error.

Thanks in advance.
From wangshuming01 at gmail.com  Sat Aug 16 03:47:31 2008
From: wangshuming01 at gmail.com (wang shuming)
Date: Sat Aug 16 03:47:37 2008
Subject: [Harbour] contirb/hbmysql missing mysql.h
Message-ID: <c26b21640808160047h130be682hce16b24f727cc560@mail.gmail.com>

Hi,
As title, in  sourceforge.org  SVN  tags( 1.0.0), trunk and 1.0.0 source
package.
Thanks!
Shuming Wang
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080816/7f4a0bda/attachment.html
From harbour.01 at syenar.hu  Sat Aug 16 04:31:34 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug 16 04:31:42 2008
Subject: [Harbour] contirb/hbmysql missing mysql.h
In-Reply-To: <c26b21640808160047h130be682hce16b24f727cc560@mail.gmail.com>
References: <c26b21640808160047h130be682hce16b24f727cc560@mail.gmail.com>
Message-ID: <7317B177-FF22-488B-B53C-E45E888474D2@syenar.hu>

Hi,

Harbour doesn't provide external package headers/libs
along with it.

If you want to build these contribs from source, you'll
need to have these packages installed (in your preferred
version) and point Harbour to them using HB_INC_* envvars.
(see /contrib/make_gcc_all.sh for the exact envvar names)

On Windows/non-GNU make files this is a must, on Linux/Unix
systems, Harbour will find the packages in their default places,
so you only have to deal with it if you have them installed
in non-default ones.

Brgds,
Viktor

On 2008.08.16., at 9:47, wang shuming wrote:

> Hi,
> As title, in  sourceforge.org  SVN  tags( 1.0.0), trunk and 1.0.0  
> source package.
> Thanks!
> Shuming Wang
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Aug 16 07:22:07 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug 16 07:22:08 2008
Subject: [Harbour] 2008-08-16 13:19 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8ff92$Blat.v2.6.2$51818f14$1c2066197008@127.0.0.1>

2008-08-16 13:19 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/linux1st.txt
     + Added some quick openSUSE package requirement information.

   * config/rules.cf
     ! Fixed .prg rule to add PRG_USR after the built-in rules, 
       to allow overriding them. This way it's also in sync with 
       non-GNU make files.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Aug 16 10:17:07 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug 16 10:17:14 2008
Subject: [Harbour] 2008-08-16 16:16 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8ffaa$Blat.v2.6.2$c3c2ce4a$14382698f0d4@127.0.0.1>

2008-08-16 16:16 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * config/os2/gcc.cf
     % Cleaned include path for OS/2/GCC.
       David, please test it if it still builds successfully.

   * make_b32.mak
   * make_gcc.mak
   * make_vc.mak
   * make_vcce.mak
   * utils/hbmake/hbmake.prg
     % Removed using -D__EXPORT__ from any Harbour command lines, 
       as this switch has no effect of the .prg level.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Aug 16 10:23:50 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug 16 10:23:49 2008
Subject: [Harbour] 2008-08-16 16:16 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8ffab$Blat.v2.6.2$b3f7b9ca$16cc7b5aa00c@127.0.0.1>

2008-08-16 16:16 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_b32.mak
   * make_gcc.mak
   * make_vc.mak
   * make_vcce.mak
   * include/hbdefs.h
   * source/vm/mainwin.c
   * source/vm/hvm.c
   * source/hbpcre/_hbconf.h
   * source/hbzlib/ChangeLog
   * source/hbzlib/zconf.h
   * utils/hbmake/hbmake.prg
     * __EXPORT__ -> HB_DYNLIB
--
Brgds,
Viktor

From niki at synel.co.il  Sun Aug 17 01:54:25 2008
From: niki at synel.co.il (Chen Kedem)
Date: Sun Aug 17 01:56:42 2008
Subject: [Harbour] Re: updated doc/dirstruc.txt
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C031F3B74EA@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C031F3B74EA@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C031F3B74EC@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

Can you take care of this please?

On 14 Aug 2008, I wrote:
http://lists.harbour-project.org/pipermail/harbour/2008-August/009943.html
,-
| Might be a bit late, but here is an updated doc/dirstruc.txt
| (attached since I am not sure if and where to update it now)
`-

Thanks,

  Chen.
From harbour.01 at syenar.hu  Sun Aug 17 03:39:43 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 17 03:39:41 2008
Subject: [Harbour] 2008-08-17 08:59 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c9003c$Blat.v2.6.2$69f0aa6c$1640b79a4384@127.0.0.1>

2008-08-17 08:59 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/dirstruc.txt
     * Updated to reflect current state. [Chen Kedem]

   * contrib/examples/pp/hbppcore.c
   * contrib/examples/pp/pp.c
   * contrib/hbct/disk.c
   * contrib/hbct/files.c
   * contrib/hbnf/getenvrn.c
   * contrib/hbw32/tprinter.c
   * contrib/hbziparch/hbxdirec.c
   * contrib/hbziparch/hbziparc.c
   * contrib/rddads/ads1.c
   * contrib/rddads/adsfunc.c
   * doc/en/terminal.txt
   * include/hb_io.h
   * include/hbapifs.h
   * include/hbapirdd.h
   * include/hbdefs.h
   * include/hbsetup.h
   * include/hbwince.h
   * source/common/hbfsapi.c
   * source/compiler/gencobj.c
   * source/compiler/hbcomp.c
   * source/compiler/hbusage.c
   * source/debug/dbgentry.c
   * source/main/harbour.c
   * source/pp/hbpp.c
   * source/pp/ppcore.c
   * source/rdd/dbcmd.c
   * source/rdd/dbf1.c
   * source/rdd/delim1.c
   * source/rdd/sdf1.c
   * source/rdd/usrrdd/usrrdd.c
   * source/rdd/wacore.c
   * source/rdd/wafunc.c
   * source/rdd/workarea.c
   * source/rtl/console.c
   * source/rtl/copyfile.c
   * source/rtl/defpath.c
   * source/rtl/direct.c
   * source/rtl/disksphb.c
   * source/rtl/file.c
   * source/rtl/filesys.c
   * source/rtl/fssize.c
   * source/rtl/fstemp.c
   * source/rtl/gtos2/gtos2.c
   * source/rtl/gtpca/gtpca.c
   * source/rtl/gtstd/gtstd.c
   * source/rtl/gttrm/gttrm.c
   * source/rtl/hbffind.c
   * source/rtl/hbinet.c
   * source/rtl/memofile.c
   * source/rtl/philes.c
   * source/rtl/seconds.c
   * source/rtl/set.c
   * source/vm/hvm.c
   * source/vm/main.c
     * Changed some macros to be in the HB_ namespace, to be 
       possibly shorter, more unified and clearer.
       OS_UNIX_COMPATIBLE                -> HB_OS_UNIX_COMPATIBLE
       OS_PATH_LIST_SEPARATOR            -> HB_OS_PATH_LIST_SEP_CHR
       OS_PATH_DELIMITER                 -> HB_OS_PATH_DELIM_CHR
       OS_PATH_DELIMITER_STRING          -> HB_OS_PATH_DELIM_STR
       OS_PATH_DELIMITER_LIST            -> HB_OS_PATH_DELIM_LIST
       OS_FILE_MASK                      -> HB_OS_ALLFILE_MASK
       OS_DRIVE_DELIMITER                -> HB_OS_DRIVE_DELIM_CHR
       OS_HAS_DRIVE_LETTER               -> HB_OS_HAS_DRIVE_LETTER
       OS_OPT_DELIMITER_LIST             -> HB_OS_OPT_DELIM_LIST
       OS_EOL_LEN                        -> HB_OS_EOL_LEN
       HARBOUR_GCC_OS2                   -> HB_OS_OS2_GCC
       HARBOUR_START_PROCEDURE           -> HB_START_PROCEDURE
       HARBOUR_MAIN_STD                  -> HB_MAIN_STD
       HARBOUR_MAIN_WIN                  -> HB_MAIN_WIN
       HARBOUR_MAX_RDD_DRIVERNAME_LENGTH -> HB_RDD_MAX_DRIVERNAME_LEN
       HARBOUR_MAX_RDD_ALIAS_LENGTH      -> HB_RDD_MAX_ALIAS_LEN
       HARBOUR_MAX_RDD_AREA_NUM          -> HB_RDD_MAX_AREA_NUM
     ; INCOMPATIBLE change, please update your sources, a simple 
       case-sensitive search and replace on .c/.cpp/.h/.hpp files 
       will be enough for most sources.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Aug 17 03:48:52 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 17 03:48:49 2008
Subject: [Harbour] 2008-08-17 09:48 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c9003d$Blat.v2.6.2$b145a4ca$12804e20a35c@127.0.0.1>

2008-08-17 09:48 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbapirdd.h
   * include/hbsetup.h
     + Added the most commonly used old #defines for compatibility:
       - HARBOUR_MAX_RDD_DRIVERNAME_LENGTH
       - HARBOUR_MAX_RDD_ALIAS_LENGTH
       - OS_UNIX_COMPATIBLE
       - OS_PATH_DELIMITER
       Please try not to use these anymore, as they will be removed 
       in version 1.1.
--
Brgds,
Viktor

From dmacias at mail.udg.mx  Sun Aug 17 04:20:59 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Aug 17 04:20:59 2008
Subject: [Harbour] Re: 2008-08-16 16:16 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
Message-ID: <48A7DF6B.3050400@mail.udg.mx>

Viktor:

 >2008-08-16 16:16 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
 >   * config/os2/gcc.cf
 >     % Cleaned include path for OS/2/GCC.
 >       David, please test it if it still builds successfully.

It build / run fine

David Macias



From harbour.01 at syenar.hu  Sun Aug 17 09:39:49 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 17 09:39:58 2008
Subject: [Harbour] Re: 2008-08-16 16:16 UTC+0200 Viktor Szakats
	(harbour.01 syenar hu)
In-Reply-To: <48A7DF6B.3050400@mail.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
	<48A7DF6B.3050400@mail.udg.mx>
Message-ID: <497DC69D-7B77-4E4C-A088-17C4CF402FFB@syenar.hu>

Thanks David.

Brgds,
Viktor

On 2008.08.17., at 10:20, David Arturo Macias Corona wrote:

> Viktor:
>
> >2008-08-16 16:16 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
> >   * config/os2/gcc.cf
> >     % Cleaned include path for OS/2/GCC.
> >       David, please test it if it still builds successfully.
>
> It build / run fine
>
> David Macias
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Aug 17 09:40:30 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 17 09:40:36 2008
Subject: [Harbour] Re: updated doc/dirstruc.txt
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C031F3B74EC@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C031F3B74EA@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C031F3B74EC@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <DA85DB5B-ACC9-48CC-8045-04F1AFD91BE9@syenar.hu>

Hi Chen,

I've committed it now, thanks.

Brgds,
Viktor

On 2008.08.17., at 7:54, Chen Kedem wrote:

> Viktor,
>
> Can you take care of this please?
>
> On 14 Aug 2008, I wrote:
> http://lists.harbour-project.org/pipermail/harbour/2008-August/009943.html
> ,-
> | Might be a bit late, but here is an updated doc/dirstruc.txt
> | (attached since I am not sure if and where to update it now)
> `-
>
> Thanks,
>
>  Chen.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Aug 17 11:04:27 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 17 11:04:25 2008
Subject: [Harbour] 2008-08-17 17:00 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c9007a$Blat.v2.6.2$8b1ab244$15a47c8edcea@127.0.0.1>

2008-08-17 17:00 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/examples/guestbk/guestbk.ini
   * contrib/examples/guestbk/testcgi.prg
   * contrib/examples/hscript/hscript.prg
   * contrib/examples/pp/hbppdef.h
   * contrib/examples/pp/hbpptbl.c
   * contrib/gtwvg/tests/demowvg.prg
   * contrib/gtwvg/wvgclass.prg
   * contrib/hbapollo/tests/apollo.prg
   * contrib/hbgd/ChangeLog
   * contrib/hbgt/doc/gendoc.bat
   * contrib/hbmisc/doc/gendoc.bat
   * contrib/hbvpdf/hbvpdf.prg
   * contrib/hbvpdf/hbvpdft.prg
   * contrib/hbwhat32/_winclpb.c
   * contrib/hbwhat32/_windate.c
   * contrib/hbwhat32/_windc.c
   * contrib/hbwhat32/_windir.c
   * contrib/hbwhat32/_windraw.c
   * contrib/hbwhat32/_wingdi.c
   * contrib/hbwhat32/_winmisc.c
   * contrib/hbwhat32/_winpen.c
   * contrib/hbwhat32/_winprn.c
   * contrib/hbwhat32/_winrect.c
   * contrib/hbwhat32/_winrgn.c
   * contrib/hbwhat32/_winsock.c
   * contrib/hbwhat32/_wintbar.c
   * contrib/hbwhat32/import.ch
   * contrib/hbwhat32/sqltypes.ch
   * contrib/hbwhat32/windebug.prg
   * contrib/hbwhat32/winerror.prg
   * contrib/hbwhat32/winini.prg
   * contrib/hbwhat32/winrbar.prg
   * contrib/hbwhat32/winstruc.ch
   * contrib/hbwhat32/wintbar.prg
   * contrib/hbziparch/hbziparc.c
   * contrib/rddads/doc/gendoc.bat
   * doc/cmdline.txt
   * doc/dirstruc.txt
   * doc/en/cmdline.txt
   * doc/en/dbstrux.txt
   * doc/en/dir.txt
   * doc/en/file.txt
   * doc/en/rddord.txt
   * doc/es/dbstrux.txt
   * doc/es/file.txt
   * doc/es/hbpplib.txt
   * doc/howtomak.txt
   * doc/hrb_faq.txt
   * doc/windll.txt
   * include/dbinfo.ch
   * source/debug/dbghelp.prg
   * source/vm/classes.c
   * source/vm/hvm.c
   * tests/keywords.ch
   * tests/output.prg
   * tests/statics1.prg
   * tests/statics2.prg
   * tests/test_all.prg
   * tests/testcgi.prg
   * tests/testpre.prg
   * tests/testrdd2.prg
   * utils/hbmake/hbmake.prg
   * utils/hbmake/hbmutils.prg
     ! Some filename casing related fixes, cleanups.
     * Some non-ASCII drawing chars in comments changed to ASCII ones.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Aug 17 11:48:38 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 17 11:48:36 2008
Subject: [Harbour] 2008-08-17 17:30 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90080$Blat.v2.6.2$b7130c24$1da44ae210c@127.0.0.1>

2008-08-17 17:30 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbstack.h
   * include/hbsetup.h
   * include/hbapi.h
   * source/rtl/filesys.c
   * contrib/gtwvg/tests/demowvg.prg
   * contrib/hbct/tests/ctwtest.prg
   * contrib/hbgd/ChangeLog
   * contrib/hbodbc/sql.ch
   * contrib/rddads/ads.ch
   * contrib/rddads/ads1.c
     ! Some more filename casing related cleanups.
--
Brgds,
Viktor

From rafa at tesipro.com  Mon Aug 18 03:12:19 2008
From: rafa at tesipro.com (rafa)
Date: Mon Aug 18 03:12:33 2008
Subject: [Harbour] 1.0.0 file releases uploaded
In-Reply-To: <9F517606-129E-4A48-B3D9-0D77C251EC1F@syenar.hu>
References: <D2762FC6-ED52-4E32-B287-820E8F2F88EA@syenar.hu>	<48A5E7A3.5030204@tesipro.com>
	<9F517606-129E-4A48-B3D9-0D77C251EC1F@syenar.hu>
Message-ID: <48A920D3.5060007@tesipro.com>

Szak?ts Viktor escribi?:
> Hi Rafa,
>
> I'm afraid I have no idea, sorry. Maybe you would have
> better luck with the supplied .tar.gz file, until we
> resolve this.
>
> make_deb.sh had minor problems which I've found out
> after the release, maybe it had others, or maybe I
> messed up something when running make_deb.sh.
>
Ok. I install svn and running make_deb.sh.
I reporting if I found any problemn.

Thanks!
Rafa Carmona
From harbour.01 at syenar.hu  Tue Aug 19 06:50:29 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 19 06:50:55 2008
Subject: [Harbour] 2008-08-19 11:53 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c901e9$Blat.v2.6.2$6553ff82$1f8863dac576@127.0.0.1>

2008-08-19 11:53 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * config/w32/install.cf
   * doc/man/hbdoc.1
   * doc/en/tlabel.txt
   * doc/en/set.txt
   * doc/en/readme.txt
   * doc/hbmake.txt
   * doc/es/tlabel.txt
   * doc/es/rdd.txt
   * doc/es/hbpplib.txt
   * doc/es/treport.txt
   * doc/es/dirstruc.txt
   * doc/es/dir.txt
   * doc/es/file.txt
   * doc/es/readme.txt
   * doc/whatsnew.txt
   * source/rtl/setkey.c
   * source/rtl/tclass.prg
   * source/compiler/cmdcheck.c
   * contrib/hbmysql/utils/dbf2mysq.prg
   * contrib/hbw32ddr/readme.txt
   * contrib/hbodbc/odbc.txt
   * contrib/hbodbc/readme.txt
   * contrib/hbwhat32/_wincdlg.c
   * contrib/hbtpathy/ChangeLog
   * contrib/hbsqlit2/tests/hbsqlite.prg
   * contrib/hbapollo/ChangeLog
   * contrib/hbnf/byteneg.prg
   * contrib/hbnf/savearr.prg
   * contrib/hbnf/fttext.c
   * contrib/hbnf/restsets.prg
   * contrib/hbnf/byt2bit.prg
   * contrib/hbnf/byt2hex.prg
   * contrib/hbnf/ftint86.ch
   * contrib/hbnf/byteand.prg
   * contrib/hbnf/bytexor.prg
   * contrib/hbnf/byteor.prg
   * contrib/hbnf/origin.c
   * contrib/hbnf/bitset.prg
   * contrib/hbnf/popadder.prg
   * contrib/hbnf/menutonf.prg
   * contrib/hbnf/ftattr.c
   * contrib/hbnf/isbit.prg
   * contrib/hbnf/putkey.c
   * contrib/hbnf/getenvrn.c
   * contrib/hbnf/bytenot.prg
   * contrib/hbnf/savesets.prg
   * contrib/hbnf/tbwhile.prg
   * contrib/hbnf/ftmenuto.ch
   * contrib/hbnf/bitclr.prg
   * contrib/hbnf/readme.txt
   * contrib/rddads/doc/en/adsfuncs.txt
   * contrib/rddads/doc/en/readme.txt
   * contrib/rddads/readme.txt
   * contrib/hbgd/ChangeLog
   * contrib/hbgd/readme.txt
   * contrib/hbmisc/hb_f.c
   * contrib/hbtip/utils.c
   * contrib/hbbtree/doc/hb_btree.txt
   * contrib/examples/guestbk/guestbk.txt
   * contrib/examples/hscript/readme.txt
   * utils/hbdoc/genos2.prg
   * utils/hbdoc/genng.prg
   * utils/hbdoc/genasc.prg
   * utils/hbdoc/genchm.prg
   * utils/hbdoc/genhpc.prg
   * utils/hbdoc/html.prg
   * utils/hbdoc/ft_funcs.prg
   * utils/hbdoc/hbdoc.prg
   * utils/hbdoc/genpdf1.prg
   * utils/hbdoc/gentrf.prg
   * utils/hbdoc/genrtf.prg
   * utils/hbmake/checks.prg
   * utils/hbmake/ft_funcs.prg
   * utils/hbmake/radios.prg
   * utils/hbmake/hbmake.prg
     ! Some more filename casing related cleanups.
--
Brgds,
Viktor

From rafa at tesipro.com  Tue Aug 19 08:01:58 2008
From: rafa at tesipro.com (rafa)
Date: Tue Aug 19 08:02:14 2008
Subject: [Harbour] 1.0.0 file releases uploaded
In-Reply-To: <9F517606-129E-4A48-B3D9-0D77C251EC1F@syenar.hu>
References: <D2762FC6-ED52-4E32-B287-820E8F2F88EA@syenar.hu>	<48A5E7A3.5030204@tesipro.com>
	<9F517606-129E-4A48-B3D9-0D77C251EC1F@syenar.hu>
Message-ID: <48AAB636.8060803@tesipro.com>

I get from svn the harbour/trunk
I execute as root make_deb.sh but, i find error in this script line 79;

if test_reqpkg libfreeimage-dev
then
    # export HB_CONTRIBLIBS="${HB_CONTRIBLIBS} hbfimage"
fi

#export is error, I quite #.

dh_strip
dh_compress
dh_fixperms
dh_installdeb
dh_shlibdeps
dh_gencontrol
dh_md5sums
dh_builddeb
dpkg-deb: construyendo el paquete `harbour' en 
`../harbour_1.0.0-1_i386.deb'.
 dpkg-genchanges -b
dpkg-genchanges: subida solo binaria - no incluyendo ning?n c?digo fuente
 signfile harbour_1.0.0-1_i386.changes
gpg: `guy.roussin <guy.roussin@teledetection.fr>' omitido: clave secreta 
no disponible
gpg: [stdin]: clearsign failed: clave secreta no disponible

dpkg-buildpackage: binary only upload (no source included)
(WARNING: Failed to sign .changes file)


Well, i create .DEB and INSTALL CORRECT!

Very thanks to everybody by this fantastic job!
Rafa Carmona


From harbour.01 at syenar.hu  Tue Aug 19 09:11:55 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 19 09:12:01 2008
Subject: [Harbour] 2008-08-19 14:58 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c901fd$Blat.v2.6.2$270b01da$1b2cf73c5588@127.0.0.1>

2008-08-19 14:58 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_deb.sh
     * Removed wrong comment recently added.
       (we will need to fix hbfimage compilation anyway)

   * harbour-ce-spec
   * harbour-w32-spec
   * harbour.spec
   * debian/control
   * include/vm.api
   * include/extend.api
   * include/button.ch
   * include/hbstack.h
   * include/item.api
   * include/rdd.api
   * include/gt.api
   * include/dbinfo.ch
   * include/error.api
   * include/filesys.api
   * include/hbapigt.h
   * include/clipdefs.h
   * include/assert.ch
   * include/fm.api
   * include/extend.h
   * source/compiler/genhrb.c
   * config/os2/install.cf
   * tests/db_brows.prg
   * tests/debugtst.prg
   * tests/ac_test.prg
   * tests/testhtml.prg
   * tests/tstcolor.prg
   * doc/hdr_tpl.txt
   * doc/man/harbour.1
   * doc/dirstruc.txt
   * doc/howtobld.txt
   * doc/en/diskspac.txt
   * doc/en/string.txt
   * doc/en/rddord.txt
   * doc/en/math.txt
   * doc/en/error.txt
   * doc/en/treport.txt
   * doc/en/memvar2.txt
   * doc/en/terminal.txt
   * doc/en/dir.txt
   * doc/en/rddmisc.txt
   * doc/en/var.txt
   * doc/en/nation.txt
   * doc/en/dbstrux.txt
   * doc/en/datetime.txt
   * doc/en/memo.txt
   * doc/en/tgetlist.txt
   * doc/en/tlabel.txt
   * doc/en/hb_compa.txt
   * doc/en/array.txt
   * doc/en/rdddb.txt
   * doc/en/dbsdf.txt
   * doc/en/tbrowse.txt
   * doc/en/hvm.txt
   * doc/en/input.txt
   * doc/en/dbdelim.txt
   * doc/en/browse.txt
   * doc/en/menu.txt
   * doc/en/file.txt
   * doc/en/binnum.txt
   * doc/en/tclass.txt
   * doc/en/set.txt
   * doc/en/misc.txt
   * doc/en/sayget.txt
   * doc/en/readme.txt
   * doc/es/diskspac.txt
   * doc/es/tlabel.txt
   * doc/es/array.txt
   * doc/es/dbsdf.txt
   * doc/es/tbrowse.txt
   * doc/es/math.txt
   * doc/es/hvm.txt
   * doc/es/treport.txt
   * doc/es/input.txt
   * doc/es/dbdelim.txt
   * doc/es/browse.txt
   * doc/es/memvar2.txt
   * doc/es/command.txt
   * doc/es/dir.txt
   * doc/es/file.txt
   * doc/es/eval.txt
   * doc/es/binnum.txt
   * doc/es/nation.txt
   * doc/es/var.txt
   * doc/es/tclass.txt
   * doc/es/dbstrux.txt
   * doc/es/misc.txt
   * doc/es/datetime.txt
   * doc/es/sayget.txt
   * doc/es/memo.txt
   * doc/es/readme.txt
   * doc/es/tgetlist.txt
   * doc/readme.txt
   * contrib/hbct/ctnet.c
   * contrib/hbct/video.c
   * contrib/hbct/dattime3.c
   * contrib/hbct/color.c
   * contrib/hbnf/acctyear.prg
   * contrib/hbnf/byteneg.prg
   * contrib/hbnf/isshare.prg
   * contrib/hbnf/sinkey.prg
   * contrib/hbnf/dhkey.h
   * contrib/hbnf/kspeed.c
   * contrib/hbnf/prtscr.c
   * contrib/hbnf/descendn.c
   * contrib/hbnf/peek.c
   * contrib/hbnf/scancode.prg
   * contrib/hbnf/vidmode.prg
   * contrib/hbnf/nwsem.prg
   * contrib/hbnf/acctadj.prg
   * contrib/hbnf/week.prg
   * contrib/hbnf/vidcur.prg
   * contrib/hbnf/iamidle.c
   * contrib/hbnf/prtesc.prg
   * contrib/hbnf/miltime.prg
   * contrib/hbnf/proper.c
   * contrib/hbnf/acctmnth.prg
   * contrib/hbnf/savearr.prg
   * contrib/hbnf/rand1.prg
   * contrib/hbnf/madd.prg
   * contrib/hbnf/dispmsg.prg
   * contrib/hbnf/settime.prg
   * contrib/hbnf/restsets.prg
   * contrib/hbnf/page.prg
   * contrib/hbnf/byt2bit.prg
   * contrib/hbnf/setkeys.c
   * contrib/hbnf/month.prg
   * contrib/hbnf/byt2hex.prg
   * contrib/hbnf/findith.prg
   * contrib/hbnf/at2.prg
   * contrib/hbnf/acctweek.prg
   * contrib/hbnf/dispc.c
   * contrib/hbnf/gcd.prg
   * contrib/hbnf/pegs.prg
   * contrib/hbnf/min2dhm.prg
   * contrib/hbnf/acctqtr.prg
   * contrib/hbnf/numlock.c
   * contrib/hbnf/dosver.prg
   * contrib/hbnf/nooccur.prg
   * contrib/hbnf/dayofyr.prg
   * contrib/hbnf/metaph.prg
   * contrib/hbnf/ontick.c
   * contrib/hbnf/menu1.prg
   * contrib/hbnf/byteand.prg
   * contrib/hbnf/sqzn.prg
   * contrib/hbnf/bytexor.prg
   * contrib/hbnf/ftidle.c
   * contrib/hbnf/workdays.prg
   * contrib/hbnf/byteor.prg
   * contrib/hbnf/asum.prg
   * contrib/hbnf/shift.c
   * contrib/hbnf/sleep.prg
   * contrib/hbnf/wda.prg
   * contrib/hbnf/aavg.prg
   * contrib/hbnf/woy.prg
   * contrib/hbnf/origin.c
   * contrib/hbnf/any2any.prg
   * contrib/hbnf/chdir.c
   * contrib/hbnf/adessort.prg
   * contrib/hbnf/setdate.prg
   * contrib/hbnf/netpv.prg
   * contrib/hbnf/amedian.prg
   * contrib/hbnf/blink.prg
   * contrib/hbnf/stod.c
   * contrib/hbnf/vertmenu.prg
   * contrib/hbnf/qtr.prg
   * contrib/hbnf/linked.prg
   * contrib/hbnf/n2color.c
   * contrib/hbnf/aredit.prg
   * contrib/hbnf/alt.c
   * contrib/hbnf/xbox.prg
   * contrib/hbnf/ftround.prg
   * contrib/hbnf/hex2dec.prg
   * contrib/hbnf/nwuid.prg
   * contrib/hbnf/dectobin.prg
   * contrib/hbnf/bitset.prg
   * contrib/hbnf/aemaxlen.prg
   * contrib/hbnf/nwlstat.prg
   * contrib/hbnf/invclr.prg
   * contrib/hbnf/ctrl.c
   * contrib/hbnf/lastday.prg
   * contrib/hbnf/tempfile.prg
   * contrib/hbnf/diskfunc.prg
   * contrib/hbnf/scregion.prg
   * contrib/hbnf/mouse2.prg
   * contrib/hbnf/d2e.prg
   * contrib/hbnf/ftisprn.c
   * contrib/hbnf/pickday.prg
   * contrib/hbnf/firstday.prg
   * contrib/hbnf/daytobow.prg
   * contrib/hbnf/anomatch.prg
   * contrib/hbnf/pvid.prg
   * contrib/hbnf/isbiton.prg
   * contrib/hbnf/color2n.c
   * contrib/hbnf/isbit.prg
   * contrib/hbnf/putkey.c
   * contrib/hbnf/cntryset.prg
   * contrib/hbnf/datecnfg.prg
   * contrib/hbnf/getenvrn.c
   * contrib/hbnf/easter.prg
   * contrib/hbnf/bytenot.prg
   * contrib/hbnf/ntow.prg
   * contrib/hbnf/poke.c
   * contrib/hbnf/aeminlen.prg
   * contrib/hbnf/floptst.prg
   * contrib/hbnf/pchr.prg
   * contrib/hbnf/savesets.prg
   * contrib/hbnf/mkdir.c
   * contrib/hbnf/year.prg
   * contrib/hbnf/caplock.c
   * contrib/hbnf/rmdir.c
   * contrib/hbnf/calendar.prg
   * contrib/hbnf/e2d.prg
   * contrib/hbnf/elapsed.prg
   * contrib/hbnf/sysmem.prg
   * contrib/hbnf/bitclr.prg
   * contrib/hbnf/eltime.prg
   * contrib/hbnf/aading.prg
   * contrib/hbnf/dfile.prg
   * contrib/hbnf/elapmil.prg
   * contrib/hbnf/setlastk.c
   * contrib/hbnf/pending.prg
   * contrib/hbnf/clrsel.prg
   * contrib/rddads/doc/en/adsfuncs.txt
   * contrib/rddads/doc/en/readme.txt
   * contrib/hbclip/hbclip.ch
   * contrib/hbclip/readme.txt
   * contrib/hbmisc/doc/en/ht_dbf.txt
   * utils/hbdoc/rtf.prg
   * utils/hbdoc/fclass1.prg
   * utils/hbdoc/genos2.prg
   * utils/hbdoc/genng.prg
   * utils/hbdoc/genasc.prg
   * utils/hbdoc/genchm.prg
   * utils/hbdoc/os2.prg
   * utils/hbdoc/ng.prg
   * utils/hbdoc/genhpc.prg
   * utils/hbdoc/html.prg
   * utils/hbdoc/ffile1.prg
   * utils/hbdoc/ft_funcs.prg
   * utils/hbdoc/hbdoc.prg
   * utils/hbdoc/troff.prg
   * utils/hbdoc/genhtm.prg
   * utils/hbdoc/genpdf1.prg
   * utils/hbdoc/gentrf.prg
   * utils/hbdoc/genrtf.prg
   * utils/hbmake/fclass1.prg
   * utils/hbmake/prb_stak.prg
   * utils/hbmake/ffile1.prg
   * utils/hbmake/ft_funcs.prg
   * utils/hbmake/pickfile.prg
   * utils/hbmake/hbmutils.prg
     * More cleanups, formatting (filename casing, CA-Cl*pper, etc).
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 19 10:17:56 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 19 10:18:11 2008
Subject: [Harbour] 2008-08-19 16:16 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90206$Blat.v2.6.2$604a51f4$594f714790e@127.0.0.1>

2008-08-19 16:16 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/en/diskspac.txt
   * doc/en/string.txt
   * doc/en/rddord.txt
   * doc/en/terminal.txt
   * doc/en/rddmisc.txt
   * doc/en/datetime.txt
   * doc/en/array.txt
   * doc/en/rdddb.txt
   * doc/en/menu.txt
   * doc/en/file.txt
   * doc/en/eval.txt
   * ChangeLog
   * contrib/hbodbc/todbc.prg
   * contrib/hbodbc/tests/odbcdemo.prg
   * contrib/hbtpathy/readme.txt
   * utils/hbmake/pickfile.prg
     * More cleanups, formatting (filename casing, CA-Cl*pper, etc).
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 19 11:07:33 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 19 11:07:39 2008
Subject: [Harbour] 2008-08-19 17:06 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c9020d$Blat.v2.6.2$4eb87874$1d4c8168ccd0@127.0.0.1>

2008-08-19 17:06 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/en/string.txt
   * doc/en/rddord.txt
   * doc/en/treport.txt
   * doc/en/memvar2.txt
   * doc/en/terminal.txt
   * doc/en/rddmisc.txt
   * doc/en/setmode.txt
   * doc/en/rdddb.txt
   * doc/en/tbrowse.txt
   * doc/en/set.txt
   * doc/en/sayget.txt
   * doc/es/treport.txt
   * ChangeLog
   * utils/hbtest/rt_misc.prg
     * More cleanups, formatting (filename casing, CA-Cl*pper, etc).
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 19 11:18:17 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 19 11:18:23 2008
Subject: [Harbour] 2008-08-19 17:17 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c9020e$Blat.v2.6.2$ce7fffa4$16e84a39022c@127.0.0.1>

2008-08-19 17:17 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/en/string.txt
   * doc/en/rddord.txt
   * doc/hbmake.txt
     * More cleanups, formatting (filename casing, CA-Cl*pper, etc).
--
Brgds,
Viktor

From capelsoft at terra.es  Tue Aug 19 13:57:15 2008
From: capelsoft at terra.es (=?iso-8859-1?Q?Jos=E9_Luis_Capel_-?=)
Date: Tue Aug 19 13:57:29 2008
Subject: [Harbour] HB_FUN_STATIC 
References: <01c9020e$Blat.v2.6.2$ce7fffa4$16e84a39022c@127.0.0.1>
Message-ID: <D0C9CBC7E59D4DAFBA2EA74750614DAA@pepeluis>

Hi all,

This piece of code (three separate prg's):

// one.prg

CLASS MyClass
    METHOD MyMethod() INLINE 'Bye'
    METHOD New() INLINE Self
ENDCLASS

// Two.Prg

CLASS MyOtherClass FROM MyClass
    METHOD MyMethod()
ENDCLASS

#pragma BEGINDUMP
#include "hbapi.h"

HB_FUNC_STATIC( MYOTHERCLASS_MYMETHOD )
{
    hb_retc("Hello");
}

#pragma ENDDUMP

// Three.prg
FUNCTION MAIN()

    LOCAL o

    o := MyOtherClass():New()

    ? o:MyMethod() // --> 'Bye'

RETURN NIL

Should not it shows 'Hello' instead of 'Bye'??

I make the question in other words...

How can I 'emulate' xHarbour behavior ??

Do I have to set any flag ??

If not... how can I mix (in same prg) prg level methods of a class with C 
level methods of same class ??

Many thanks for your help.
Jos? Luis Capel







From abe.buch at att.net  Tue Aug 19 15:31:05 2008
From: abe.buch at att.net (Abeb)
Date: Tue Aug 19 15:31:12 2008
Subject: [Harbour] gtwvg + ald debuger
Message-ID: <19057065.post@talk.nabble.com>


it just freezes if a WVT_PAINT() exists.
anybody aware of this?
-- 
View this message in context: http://www.nabble.com/gtwvg-%2B-ald-debuger-tp19057065p19057065.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From manuexposito at gmail.com  Tue Aug 19 17:48:24 2008
From: manuexposito at gmail.com (Manu)
Date: Tue Aug 19 17:47:27 2008
Subject: [Harbour] HB_FUN_STATIC
In-Reply-To: <D0C9CBC7E59D4DAFBA2EA74750614DAA@pepeluis>
References: <01c9020e$Blat.v2.6.2$ce7fffa4$16e84a39022c@127.0.0.1>
	<D0C9CBC7E59D4DAFBA2EA74750614DAA@pepeluis>
Message-ID: <48AB3FA8.4010105@gmail.com>

Jose Luis he probado el c?digo en un mismo PRG. Poniendo la funcion main 
al principio y va perfectamente :-)

De hecho yo lo uso en mis clases y no me falla

#include "hbclass.ch"

FUNCTION MAIN()

   LOCAL o

   o := MyOtherClass():New()

   ? o:MyMethod()  // --> 'Bye'

RETURN NIL

CLASS MyClass
   METHOD MyMethod() INLINE 'Bye'
   METHOD New() INLINE Self
ENDCLASS


CLASS MyOtherClass FROM MyClass
   METHOD MyMethod()
ENDCLASS

#pragma BEGINDUMP
#include "hbapi.h"

HB_FUNC_STATIC( MYOTHERCLASS_MYMETHOD )
{
   hb_retc("Hello");
}

#pragma ENDDUMP




Jos? Luis Capel - escribi?:
> Hi all,
>
> This piece of code (three separate prg's):
>
> // one.prg
>
> CLASS MyClass
>    METHOD MyMethod() INLINE 'Bye'
>    METHOD New() INLINE Self
> ENDCLASS
>
> // Two.Prg
>
> CLASS MyOtherClass FROM MyClass
>    METHOD MyMethod()
> ENDCLASS
>
> #pragma BEGINDUMP
> #include "hbapi.h"
>
> HB_FUNC_STATIC( MYOTHERCLASS_MYMETHOD )
> {
>    hb_retc("Hello");
> }
>
> #pragma ENDDUMP
>
> // Three.prg
> FUNCTION MAIN()
>
>    LOCAL o
>
>    o := MyOtherClass():New()
>
>    ? o:MyMethod() // --> 'Bye'
>
> RETURN NIL
>
> Should not it shows 'Hello' instead of 'Bye'??
>
> I make the question in other words...
>
> How can I 'emulate' xHarbour behavior ??
>
> Do I have to set any flag ??
>
> If not... how can I mix (in same prg) prg level methods of a class 
> with C level methods of same class ??
>
> Many thanks for your help.
> Jos? Luis Capel
>
>
>
>
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>

From arcadia2 at sbcglobal.net  Tue Aug 19 19:23:06 2008
From: arcadia2 at sbcglobal.net (bill robertson)
Date: Tue Aug 19 19:23:10 2008
Subject: [Harbour] hbmake
Message-ID: <22B4F0C9EF1342B79D3264F89E0D95C8@billws>

Hi All,

Since the recent changes to Harbour, hbmake fails when you try adding the 
debugger with the /b flag with the following error:

My system is windows Xp sp3 using Borland v5.82

  Harbour Make
  Copyright (c) 2000-2008, http://www.harbour-project.org/
  Harbour 1.0.0 Intl. (Rev. 9194) / Borland C++ 5.8.2 (32 bit)Harbour 1.0.0 
Intl. (Rev. 9194)
  Copyright (c) 1999-2008, http://www.harbour-project.org/
  Compiling 'TEST.PRG'...G
  Lines 18, Functions/Procedures 1?????????
  Generating C source output to 'obj\TEST.c'... Done.
       ????????????????????????????????????
  Building object module for 'obj\TEST.c'
  C:\BCC55\BIN\ilink32  @makefile.lnk in 'harbour.cfg'...
  Turbo Incremental Link 5.69 Copyright (c) 1997-2005 
Borlandarbour\lib -oobj\TEST.obj obj\TEST.c
  Fatal: Unable to open file 'DEBUG.LIB'
  Done.

It seems the debug.lib has been renamed to hbdebug. Fixing this entry in the 
.bc file produces the following errors:

  Harbour Make
  Copyright (c) 2000-2008, http://www.harbour-project.org/
  Harbour 1.0.0 Intl. (Rev. 9194) / Borland C++ 5.8.2 (32 bit)Harbour 1.0.0 
Intl. (Rev. 9194)
  Copyright (c) 1999-2008, http://www.harbour-project.org/
  Compiling 'TEST.PRG'...G
  Lines 18, Functions/Procedures 1?????????
  Generating C source output to 'obj\TEST.c'... Done.
       ????????????????????????????????????
  Building object module for 'obj\TEST.c'
  C:\BCC55\BIN\ilink32  @makefile.lnk in 'harbour.cfg'...
  Turbo Incremental Link 5.69 Copyright (c) 1997-2005 
Borlandarbour\lib -oobj\TEST.obj obj\TEST.c
  Error: Unresolved external '_HB_FUN___DBGSETENTRY' referenced from 
D:\HARBOUR\LIB\HBDEBUG.LIB|debugger
  Error: Unresolved external '_HB_FUN___DBGSETGO' referenced from 
D:\HARBOUR\LIB\HBDEBUG.LIB|debugger
  Error: Unresolved external '_HB_FUN___DBGSETCBTRACE' referenced from 
D:\HARBOUR\LIB\HBDEBUG.LIB|debugger
  Error: Unresolved external '_HB_FUN___DBGSENDMSG' referenced from 
D:\HARBOUR\LIB\HBDEBUG.LIB|dbgtobj
  Error: Unresolved external '_HB_FUN___DBGGETEXPRVALUE' referenced from 
D:\HARBOUR\LIB\HBDEBUG.LIB|debugger
  Error: Unresolved external '_HB_FUN___DBGGETSOURCEFILES' referenced from 
D:\HARBOUR\LIB\HBDEBUG.LIB|debugger
  Error: Unresolved external '_HB_FUN___DBGISVALIDSTOPLINE' referenced from 
D:\HARBOUR\LIB\HBDEBUG.LIB|debugger
  Error: Unresolved external '_HB_FUN___DBGSETNEXTROUTINE' referenced from 
D:\HARBOUR\LIB\HBDEBUG.LIB|debugger
  Error: Unresolved external '_HB_FUN___DBGSETQUIT' referenced from 
D:\HARBOUR\LIB\HBDEBUG.LIB|debugger
  Error: Unresolved external '_HB_FUN___DBGSETTOCURSOR' referenced from 
D:\HARBOUR\LIB\HBDEBUG.LIB|debugger
  Error: Unresolved external '_HB_FUN___DBGADDBREAK' referenced from 
D:\HARBOUR\LIB\HBDEBUG.LIB|debugger
  Error: Unresolved external '_HB_FUN___DBGDELBREAK' referenced from 
D:\HARBOUR\LIB\HBDEBUG.LIB|debugger
  Error: Unresolved external '_HB_FUN___DBGSETTRACE' referenced from 
D:\HARBOUR\LIB\HBDEBUG.LIB|debugger
  Error: Unresolved external '_HB_FUN___DBGADDWATCH' referenced from 
D:\HARBOUR\LIB\HBDEBUG.LIB|debugger
  Error: Unresolved external '_HB_FUN___DBGDELWATCH' referenced from 
D:\HARBOUR\LIB\HBDEBUG.LIB|debugger
  Error: Unresolved external '_HB_FUN___DBGSETWATCH' referenced from 
D:\HARBOUR\LIB\HBDEBUG.LIB|debugger 

From harbour.01 at syenar.hu  Tue Aug 19 22:39:03 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 19 22:39:15 2008
Subject: [Harbour] hbmake
In-Reply-To: <22B4F0C9EF1342B79D3264F89E0D95C8@billws>
References: <22B4F0C9EF1342B79D3264F89E0D95C8@billws>
Message-ID: <0F4F540B-D1E4-4372-AD12-D00D396F3CB6@syenar.hu>

Hi Bill,

You seem to be mixing an old version of hbmake.exe
with current SVN Harbour version. Also, you seem to
be using an old version of hbdebug.lib (renamed from
an old debug.lib) with the recent SVN version of Harbour,
or vice versa a new version of hbdebug.lib with old
version of hbrtl/hbvm.lib.

Try to use the recent versions of all the above, and
it should work properly. As any alternative, try to
use the _same_ versions of all the above tools/libs
to get correct results. I suggest version 1.0.0 as
the latest stable build, instead of current SVN.

Brgds,
Viktor

On 2008.08.20., at 1:23, bill robertson wrote:

> Hi All,
>
> Since the recent changes to Harbour, hbmake fails when you try  
> adding the debugger with the /b flag with the following error:
>
> My system is windows Xp sp3 using Borland v5.82
>
> Harbour Make
> Copyright (c) 2000-2008, http://www.harbour-project.org/
> Harbour 1.0.0 Intl. (Rev. 9194) / Borland C++ 5.8.2 (32 bit)Harbour  
> 1.0.0 Intl. (Rev. 9194)
> Copyright (c) 1999-2008, http://www.harbour-project.org/
> Compiling 'TEST.PRG'...G
> Lines 18, Functions/Procedures 1?????????
> Generating C source output to 'obj\TEST.c'... Done.
>      ????????????????????????????????????
> Building object module for 'obj\TEST.c'
> C:\BCC55\BIN\ilink32  @makefile.lnk in 'harbour.cfg'...
> Turbo Incremental Link 5.69 Copyright (c) 1997-2005 Borlandarbour 
> \lib -oobj\TEST.obj obj\TEST.c
> Fatal: Unable to open file 'DEBUG.LIB'
> Done.
>
> It seems the debug.lib has been renamed to hbdebug. Fixing this  
> entry in the .bc file produces the following errors:
>
> Harbour Make
> Copyright (c) 2000-2008, http://www.harbour-project.org/
> Harbour 1.0.0 Intl. (Rev. 9194) / Borland C++ 5.8.2 (32 bit)Harbour  
> 1.0.0 Intl. (Rev. 9194)
> Copyright (c) 1999-2008, http://www.harbour-project.org/
> Compiling 'TEST.PRG'...G
> Lines 18, Functions/Procedures 1?????????
> Generating C source output to 'obj\TEST.c'... Done.
>      ????????????????????????????????????
> Building object module for 'obj\TEST.c'
> C:\BCC55\BIN\ilink32  @makefile.lnk in 'harbour.cfg'...
> Turbo Incremental Link 5.69 Copyright (c) 1997-2005 Borlandarbour 
> \lib -oobj\TEST.obj obj\TEST.c
> Error: Unresolved external '_HB_FUN___DBGSETENTRY' referenced from D: 
> \HARBOUR\LIB\HBDEBUG.LIB|debugger
> Error: Unresolved external '_HB_FUN___DBGSETGO' referenced from D: 
> \HARBOUR\LIB\HBDEBUG.LIB|debugger
> Error: Unresolved external '_HB_FUN___DBGSETCBTRACE' referenced from  
> D:\HARBOUR\LIB\HBDEBUG.LIB|debugger
> Error: Unresolved external '_HB_FUN___DBGSENDMSG' referenced from D: 
> \HARBOUR\LIB\HBDEBUG.LIB|dbgtobj
> Error: Unresolved external '_HB_FUN___DBGGETEXPRVALUE' referenced  
> from D:\HARBOUR\LIB\HBDEBUG.LIB|debugger
> Error: Unresolved external '_HB_FUN___DBGGETSOURCEFILES' referenced  
> from D:\HARBOUR\LIB\HBDEBUG.LIB|debugger
> Error: Unresolved external '_HB_FUN___DBGISVALIDSTOPLINE' referenced  
> from D:\HARBOUR\LIB\HBDEBUG.LIB|debugger
> Error: Unresolved external '_HB_FUN___DBGSETNEXTROUTINE' referenced  
> from D:\HARBOUR\LIB\HBDEBUG.LIB|debugger
> Error: Unresolved external '_HB_FUN___DBGSETQUIT' referenced from D: 
> \HARBOUR\LIB\HBDEBUG.LIB|debugger
> Error: Unresolved external '_HB_FUN___DBGSETTOCURSOR' referenced  
> from D:\HARBOUR\LIB\HBDEBUG.LIB|debugger
> Error: Unresolved external '_HB_FUN___DBGADDBREAK' referenced from D: 
> \HARBOUR\LIB\HBDEBUG.LIB|debugger
> Error: Unresolved external '_HB_FUN___DBGDELBREAK' referenced from D: 
> \HARBOUR\LIB\HBDEBUG.LIB|debugger
> Error: Unresolved external '_HB_FUN___DBGSETTRACE' referenced from D: 
> \HARBOUR\LIB\HBDEBUG.LIB|debugger
> Error: Unresolved external '_HB_FUN___DBGADDWATCH' referenced from D: 
> \HARBOUR\LIB\HBDEBUG.LIB|debugger
> Error: Unresolved external '_HB_FUN___DBGDELWATCH' referenced from D: 
> \HARBOUR\LIB\HBDEBUG.LIB|debugger
> Error: Unresolved external '_HB_FUN___DBGSETWATCH' referenced from D: 
> \HARBOUR\LIB\HBDEBUG.LIB|debugger
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From arcadia2 at sbcglobal.net  Wed Aug 20 00:17:38 2008
From: arcadia2 at sbcglobal.net (bill robertson)
Date: Wed Aug 20 00:17:42 2008
Subject: [Harbour] hbmake
References: <22B4F0C9EF1342B79D3264F89E0D95C8@billws>
	<0F4F540B-D1E4-4372-AD12-D00D396F3CB6@syenar.hu>
Message-ID: <F9F0AFDD71BC437581ADF91155F31041@billws>

> Hi Bill,
>
> You seem to be mixing an old version of hbmake.exe
> with current SVN Harbour version. Also, you seem to
> be using an old version of hbdebug.lib (renamed from
> an old debug.lib) with the recent SVN version of Harbour,
> or vice versa a new version of hbdebug.lib with old
> version of hbrtl/hbvm.lib.
>
Hi Viktor

I deleted my Harbour direcotory and got the latest SVN. I looked at the 
hbmake.prg file and I see the following at line 2288:

   IF lDebug
      cHarbourFlags    += " -b "
      cDefaultLibs     += " debug.lib "
      cDefGccLibs      += " -ldebug "
      cDefGccLibsw     += " -ldebug "
      cGccLibsOs2      += " -ldebug "
      cDefLibGccLibs   += " -ldebug "
      cDefGccLibsUnix  += " -ldebug "
      cDefGccLibsUnixMt+= " -ldebug "
      cDefaultLibsMt   += " debug.lib "
      cDefGccLibsMt    += " -ldebug "
      cDefGccLibsMtw   += " -ldebug "
      cGccLibsOs2Mt    += " -ldebug "
      cDefLibGccLibsMt += " -ldebug "
   ENDIF

As you can see, it uses debug.lib as one of the defaults whenever -b is 
selected. This library is never made. Only hbdebug.lib is made.

Also in ft_funcs.prg for hbmake there is a slight inconsistency at line 224. 
The second comparison is given as = instead of = =. ft_funcs.prg did have 2 
places where this happened in both the hbdoc and hbmake utils. It was fixed 
in both places in hbdoc but only the first place in hbmake. It would be rare 
for this to cause any problems though.

      IF cChar >= CHR( 64 ) .AND. cChar <= CHR( 90 ) .OR. cChar >= CHR( 97 ) 
;
                 .AND. cChar <= CHR( 122 ) .OR. cChar >= CHR( 48 ) .AND. 
cChar <= CHR( 57 ) ;
                 .OR. cChar == CHR( 60 ) .OR. cchar == CHR( ASC( "-" ) ) ;
-->                 .OR. cchar == CHR( ASC( "(" ) ) .OR. cchar = CHR( ASC( 
"|" ) ) .OR. ;
                 cchar == CHR( ASC( '.' ) ) .OR. cchar == CHR( ASC( '*' ) ) 
.OR. ;
                 cchar == CHR( ASC( '#' ) ) .OR. cchar == CHR( ASC( '"' ) ) 
.OR. ;
                 cchar == CHR( ASC( '/' ) ) .OR. cchar == CHR( ASC( "@" ) ) 
;
                 .OR. cchar == CHR( ASC( "=" ) ) .OR. cchar == CHR( ASC( 
'?' ) ) ;
                 .OR. cchar == CHR( ASC( '?' ) ) .OR. cchar == CHR( ASC( 
'!' ) ) ;
                 .OR. cchar == CHR( ASC( "<" ) ) .OR. cchar == CHR( ASC( 
'>' ) ) ;
                 .OR. cchar == CHR( ASC( '!' ) ) .OR. cchar == CHR( ASC( 
'+' ) )

> Try to use the recent versions of all the above, and
> it should work properly. As any alternative, try to
> use the _same_ versions of all the above tools/libs
> to get correct results. I suggest version 1.0.0 as
> the latest stable build, instead of current SVN.
>
I'm not really interested in the stable build. I was just playing around 
with Harbour's MD5 hash function. After a recent fix it seems to get the 
correct hashes while xHarbour MD5 hash has some problems. I was using debug 
to play with some strings and thought there was a problem with hbmake. I 
still think there is a problem with the SVN version. 

From harbour.01 at syenar.hu  Wed Aug 20 04:10:10 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 20 04:10:18 2008
Subject: [Harbour] 2008-08-20 10:09 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c9029c$Blat.v2.6.2$2a685d6a$1d4879224238@127.0.0.1>

2008-08-20 10:09 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbmzip/hbmzip.c
   * contrib/hbmzip/readme.txt
     ! Typos.

   * utils/hbdoc/rtf.prg
   * utils/hbdoc/fclass1.prg
   * utils/hbdoc/genos2.prg
   * utils/hbdoc/genng.prg
   * utils/hbdoc/genasc.prg
   * utils/hbdoc/genchm.prg
   * utils/hbdoc/os2.prg
   * utils/hbdoc/html.prg
   * utils/hbdoc/genhpc.prg
   * utils/hbdoc/ng.prg
   * utils/hbdoc/ffile1.prg
   * utils/hbdoc/ft_funcs.prg
   * utils/hbdoc/hbdoc.prg
   * utils/hbdoc/troff.prg
   * utils/hbdoc/genhtm.prg
   * utils/hbdoc/genpdf1.prg
   * utils/hbdoc/gentrf.prg
   * utils/hbdoc/genrtf.prg
   * utils/hbmake/fclass1.prg
   * utils/hbmake/tmake.prg
   * utils/hbmake/ffile1.prg
   * utils/hbmake/ft_funcs.prg
   * utils/hbmake/pickarry.prg
   * utils/hbmake/pickfile.prg
   * utils/hbmake/hbmutils.prg
   * utils/hbmake/hbmake.prg
     ! Fixed problems reported by Bill Robertson. (Thanks)
     * Some general code cleanups.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug 20 04:22:42 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 20 04:22:46 2008
Subject: [Harbour] 2008-08-20 10:22 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c9029d$Blat.v2.6.2$ea7eb224$ff46704b6cc@127.0.0.1>

2008-08-20 10:22 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * utils/hbdoc/hbdoc.prg
   * utils/hbdoc/gentrf.prg
   * utils/hbmake/hbmake.prg
     * Some more general code cleanups.
--
Brgds,
Viktor

From capelsoft at terra.es  Wed Aug 20 04:23:43 2008
From: capelsoft at terra.es (=?iso-8859-1?Q?Jos=E9_Luis_Capel_-?=)
Date: Wed Aug 20 04:23:53 2008
Subject: [Harbour] HB_FUN_STATIC
References: <01c9020e$Blat.v2.6.2$ce7fffa4$16e84a39022c@127.0.0.1><D0C9CBC7E59D4DAFBA2EA74750614DAA@pepeluis>
	<48AB3FA8.4010105@gmail.com>
Message-ID: <0CFE926643664C2D976142EF56513995@pepeluis>

Hola Manu,

Cuanto tiempo!!

?Qu? te responde? ?Bye? ?Hello?

El caso es que deber?as ver si te funciona usando tres prgs diferentes.

Ese ejemplo es un extracto de lo que estoy haciendo en la 'realidad'.

Saludos,
Jos? LUis CApel



----- Original Message ----- 
From: "Manu" <manuexposito@gmail.com>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Tuesday, August 19, 2008 11:48 PM
Subject: Re: [Harbour] HB_FUN_STATIC


> Jose Luis he probado el c?digo en un mismo PRG. Poniendo la funcion main 
> al principio y va perfectamente :-)
>
> De hecho yo lo uso en mis clases y no me falla
>
> #include "hbclass.ch"
>
> FUNCTION MAIN()
>
>   LOCAL o
>
>   o := MyOtherClass():New()
>
>   ? o:MyMethod()  // --> 'Bye'
>
> RETURN NIL
>
> CLASS MyClass
>   METHOD MyMethod() INLINE 'Bye'
>   METHOD New() INLINE Self
> ENDCLASS
>
>
> CLASS MyOtherClass FROM MyClass
>   METHOD MyMethod()
> ENDCLASS
>
> #pragma BEGINDUMP
> #include "hbapi.h"
>
> HB_FUNC_STATIC( MYOTHERCLASS_MYMETHOD )
> {
>   hb_retc("Hello");
> }
>
> #pragma ENDDUMP
>
>
>
>
> Jos? Luis Capel - escribi?:
>> Hi all,
>>
>> This piece of code (three separate prg's):
>>
>> // one.prg
>>
>> CLASS MyClass
>>    METHOD MyMethod() INLINE 'Bye'
>>    METHOD New() INLINE Self
>> ENDCLASS
>>
>> // Two.Prg
>>
>> CLASS MyOtherClass FROM MyClass
>>    METHOD MyMethod()
>> ENDCLASS
>>
>> #pragma BEGINDUMP
>> #include "hbapi.h"
>>
>> HB_FUNC_STATIC( MYOTHERCLASS_MYMETHOD )
>> {
>>    hb_retc("Hello");
>> }
>>
>> #pragma ENDDUMP
>>
>> // Three.prg
>> FUNCTION MAIN()
>>
>>    LOCAL o
>>
>>    o := MyOtherClass():New()
>>
>>    ? o:MyMethod() // --> 'Bye'
>>
>> RETURN NIL
>>
>> Should not it shows 'Hello' instead of 'Bye'??
>>
>> I make the question in other words...
>>
>> How can I 'emulate' xHarbour behavior ??
>>
>> Do I have to set any flag ??
>>
>> If not... how can I mix (in same prg) prg level methods of a class with C 
>> level methods of same class ??
>>
>> Many thanks for your help.
>> Jos? Luis Capel
>>
>>
>>
>>
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour 

From harbour.01 at syenar.hu  Wed Aug 20 05:56:56 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 20 05:57:00 2008
Subject: [Harbour] 2008-08-20 11:50 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c902ab$Blat.v2.6.2$1491c832$24b05bbadd9e@127.0.0.1>

2008-08-20 11:50 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * tests/onidle.prg
   * tests/codebloc.prg
   * tests/keywords.prg
   * tests/wvtext.prg
   * tests/test_all.prg
   * tests/ainstest.prg
   * doc/es/compiler.txt
   * doc/es/file.txt
   * contrib/hbct/numconv.prg
   * contrib/hbct/tests/expomant.prg
   * contrib/hbwhat32/whatutil.prg
   * contrib/hbwhat32/winrbar.prg
   * contrib/hbwhat32/wintabs.prg
   * contrib/hbwhat32/wincomm.prg
   * contrib/hbwhat32/wincdlg.prg
   * contrib/hbwhat32/wintbar.prg
   * contrib/hbwhat32/_wininet.c
   * contrib/hbwhat32/wincore.prg
   * contrib/hbw32/w32_ole.c
   * contrib/hbapollo/tests/apollo.prg
   * contrib/hbnf/dispmsg.prg
   * contrib/hbnf/fttext.c
   * contrib/hbnf/mouse1.prg
   * contrib/hbnf/menu1.prg
   * contrib/hbnf/sleep.prg
   * contrib/hbnf/xbox.prg
   * contrib/hbnf/popadder.prg
   * contrib/hbnf/mouse2.prg
   * contrib/hbnf/pchr.prg
   * contrib/hbhpdf/tests/harupdf.prg
   * contrib/gtwvg/wvgclass.prg
   * contrib/gtwvg/tests/demowvg.prg
   * contrib/gtwvg/wvgpaint.prg
   * contrib/rddads/tests/testmg.prg
   * contrib/hbclipsm/tests/testgaug.prg
   * contrib/hbfimage/tests/fitest.prg
   * contrib/hbmisc/twirler.prg
   * contrib/hbtip/httpcln.prg
   * contrib/hbtip/ftpcln.prg
   * contrib/hbvpdf/hbvpdft.prg
   * utils/hbmake/hbmake.prg
     * Some more general code cleanups.
     * iif(), quote char, #include, filename-casing, = usage cleanups, 
       hardcoded absolute paths, non-ASCII drawing chars in source.
       Using mixed-case filenames to #include .ch files breaks on 
       non-WinDOS platforms.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug 20 06:01:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 20 06:01:58 2008
Subject: [Harbour] hbmake
In-Reply-To: <F9F0AFDD71BC437581ADF91155F31041@billws>
References: <22B4F0C9EF1342B79D3264F89E0D95C8@billws>
	<0F4F540B-D1E4-4372-AD12-D00D396F3CB6@syenar.hu>
	<F9F0AFDD71BC437581ADF91155F31041@billws>
Message-ID: <89315252-AD90-482E-9A99-0E7721B3AAD8@syenar.hu>

Hi Bill,

You're right, this somehow escaped from being
updated when the lib names got changed.

I've committed a fix.

Brgds,
Viktor

On 2008.08.20., at 6:17, bill robertson wrote:

>> Hi Bill,
>>
>> You seem to be mixing an old version of hbmake.exe
>> with current SVN Harbour version. Also, you seem to
>> be using an old version of hbdebug.lib (renamed from
>> an old debug.lib) with the recent SVN version of Harbour,
>> or vice versa a new version of hbdebug.lib with old
>> version of hbrtl/hbvm.lib.
>>
> Hi Viktor
>
> I deleted my Harbour direcotory and got the latest SVN. I looked at  
> the hbmake.prg file and I see the following at line 2288:
>
>  IF lDebug
>     cHarbourFlags    += " -b "
>     cDefaultLibs     += " debug.lib "
>     cDefGccLibs      += " -ldebug "
>     cDefGccLibsw     += " -ldebug "
>     cGccLibsOs2      += " -ldebug "
>     cDefLibGccLibs   += " -ldebug "
>     cDefGccLibsUnix  += " -ldebug "
>     cDefGccLibsUnixMt+= " -ldebug "
>     cDefaultLibsMt   += " debug.lib "
>     cDefGccLibsMt    += " -ldebug "
>     cDefGccLibsMtw   += " -ldebug "
>     cGccLibsOs2Mt    += " -ldebug "
>     cDefLibGccLibsMt += " -ldebug "
>  ENDIF
>
> As you can see, it uses debug.lib as one of the defaults whenever -b  
> is selected. This library is never made. Only hbdebug.lib is made.
>
> Also in ft_funcs.prg for hbmake there is a slight inconsistency at  
> line 224. The second comparison is given as = instead of = =.  
> ft_funcs.prg did have 2 places where this happened in both the hbdoc  
> and hbmake utils. It was fixed in both places in hbdoc but only the  
> first place in hbmake. It would be rare for this to cause any  
> problems though.
>
>     IF cChar >= CHR( 64 ) .AND. cChar <= CHR( 90 ) .OR. cChar >=  
> CHR( 97 ) ;
>                .AND. cChar <= CHR( 122 ) .OR. cChar >=  
> CHR( 48 ) .AND. cChar <= CHR( 57 ) ;
>                .OR. cChar == CHR( 60 ) .OR. cchar ==  
> CHR( ASC( "-" ) ) ;
> -->                 .OR. cchar == CHR( ASC( "(" ) ) .OR. cchar =  
> CHR( ASC( "|" ) ) .OR. ;
>                cchar == CHR( ASC( '.' ) ) .OR. cchar ==  
> CHR( ASC( '*' ) ) .OR. ;
>                cchar == CHR( ASC( '#' ) ) .OR. cchar ==  
> CHR( ASC( '"' ) ) .OR. ;
>                cchar == CHR( ASC( '/' ) ) .OR. cchar ==  
> CHR( ASC( "@" ) ) ;
>                .OR. cchar == CHR( ASC( "=" ) ) .OR. cchar ==  
> CHR( ASC( '?' ) ) ;
>                .OR. cchar == CHR( ASC( '?' ) ) .OR. cchar ==  
> CHR( ASC( '!' ) ) ;
>                .OR. cchar == CHR( ASC( "<" ) ) .OR. cchar ==  
> CHR( ASC( '>' ) ) ;
>                .OR. cchar == CHR( ASC( '!' ) ) .OR. cchar ==  
> CHR( ASC( '+' ) )
>
>> Try to use the recent versions of all the above, and
>> it should work properly. As any alternative, try to
>> use the _same_ versions of all the above tools/libs
>> to get correct results. I suggest version 1.0.0 as
>> the latest stable build, instead of current SVN.
>>
> I'm not really interested in the stable build. I was just playing  
> around with Harbour's MD5 hash function. After a recent fix it seems  
> to get the correct hashes while xHarbour MD5 hash has some problems.  
> I was using debug to play with some strings and thought there was a  
> problem with hbmake. I still think there is a problem with the SVN  
> version.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug 20 07:04:37 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 20 07:04:42 2008
Subject: [Harbour] 2008-08-20 12:50 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c902b4$Blat.v2.6.2$8926be1a$17078a7f59a@127.0.0.1>

2008-08-20 12:50 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * tests/longdev.prg
   * tests/hbpptest/hbpptest.prg
   * tests/testcgi.prg
   * tests/foreach.prg
   * tests/onidle.prg
   * tests/tstchbx.prg
   * tests/codebl.prg
   * tests/tstdbi.prg
   * tests/vmasort.prg
   * tests/tstasort.prg
   * tests/testbrw.prg
   * tests/inkeytst.prg
   * tests/testrdd2.prg
   * tests/keywords.prg
   * tests/testhtml.prg
   * tests/readhrb.prg
   * tests/stripem.prg
   * tests/wvtext.prg
   * tests/testpre.prg
   * tests/seconds.prg
   * tests/fsplit.prg
   * tests/mousetst.prg
   * contrib/hbmysql/tmysql.prg
   * contrib/hbct/numconv.prg
   * contrib/hbct/ctmisc.prg
   * contrib/hbodbc/todbc.prg
   * contrib/hbapollo/tests/apollo.prg
   * contrib/hbnf/acctyear.prg
   * contrib/hbnf/acctadj.prg
   * contrib/hbnf/nwsem.prg
   * contrib/hbnf/week.prg
   * contrib/hbnf/acctmnth.prg
   * contrib/hbnf/savearr.prg
   * contrib/hbnf/madd.prg
   * contrib/hbnf/mouse1.prg
   * contrib/hbnf/month.prg
   * contrib/hbnf/findith.prg
   * contrib/hbnf/acctweek.prg
   * contrib/hbnf/pegs.prg
   * contrib/hbnf/acctqtr.prg
   * contrib/hbnf/nooccur.prg
   * contrib/hbnf/dayofyr.prg
   * contrib/hbnf/menu1.prg
   * contrib/hbnf/sqzn.prg
   * contrib/hbnf/asum.prg
   * contrib/hbnf/aavg.prg
   * contrib/hbnf/any2any.prg
   * contrib/hbnf/adessort.prg
   * contrib/hbnf/amedian.prg
   * contrib/hbnf/blink.prg
   * contrib/hbnf/qtr.prg
   * contrib/hbnf/aredit.prg
   * contrib/hbnf/xbox.prg
   * contrib/hbnf/ftround.prg
   * contrib/hbnf/invclr.prg
   * contrib/hbnf/tempfile.prg
   * contrib/hbnf/diskfunc.prg
   * contrib/hbnf/mouse2.prg
   * contrib/hbnf/daytobow.prg
   * contrib/hbnf/anomatch.prg
   * contrib/hbnf/datecnfg.prg
   * contrib/hbnf/tbwhile.prg
   * contrib/hbnf/year.prg
   * contrib/hbnf/elapsed.prg
   * contrib/hbnf/dfile.prg
   * contrib/hbnf/clrsel.prg
   * contrib/hbmisc/twirler.prg
   * contrib/hbmisc/fileread.prg
   * contrib/hbmisc/stringp.prg
   * contrib/hbgf/hbgfw32/winctrl.prg
   * contrib/hbgf/hbgfw32/form.prg
   * contrib/hbgf/hbgfos2/winctrl.prg
   * contrib/hbgf/hbgfos2/tform.prg
   * contrib/hbtip/httpcln.prg
   * contrib/hbvpdf/hbvpdf.prg
   * contrib/hbvpdf/hbvpdft.prg
   * contrib/examples/guestbk/guestbk.prg
   * contrib/examples/pe/editorhi.prg
     * Some more general code cleanups ( if() -> iif() ).
--
Brgds,
Viktor

From rportnoff at spendmap.com  Wed Aug 20 12:02:14 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Wed Aug 20 12:01:13 2008
Subject: [Harbour] C compiler switches for VS 2005
In-Reply-To: <89315252-AD90-482E-9A99-0E7721B3AAD8@syenar.hu>
References: <22B4F0C9EF1342B79D3264F89E0D95C8@billws>
	<0F4F540B-D1E4-4372-AD12-D00D396F3CB6@syenar.hu>
	<F9F0AFDD71BC437581ADF91155F31041@billws>
	<89315252-AD90-482E-9A99-0E7721B3AAD8@syenar.hu>
Message-ID: <B0082904919@ms1.3peaks.com>

Hi all,

I have been using the following C compiler switches with MSVC v6 when 
compiling C source generated by the Harbour compiler:

cl.exe -c -W3 %CFLAGS% -I%HB_INC_INSTALL% -DWIN32_LEAN_AND_MEAN 
-D_MSC_VER=1010 -Tp %1.C

Are these still valid/correct when using VS 2005 (v8)?

TIA.

Regards,
Randy.


From ptucker at sympatico.ca  Wed Aug 20 12:52:43 2008
From: ptucker at sympatico.ca (Paul Tucker)
Date: Wed Aug 20 12:52:51 2008
Subject: [Harbour] C compiler switches for VS 2005
In-Reply-To: <B0082904919@ms1.3peaks.com>
Message-ID: <BAY114-F37D4A16129600029DEEBB8DF680@phx.gbl>

Randy,

-D_MSC_VER=1010

Why are you doing this?   This is controlled by the C compiler, and 
over-riding it could be a problem.

Paul

>Hi all,
>
>I have been using the following C compiler switches with MSVC v6 when 
>compiling C source generated by the Harbour compiler:
>
>cl.exe -c -W3 %CFLAGS% -I%HB_INC_INSTALL% -DWIN32_LEAN_AND_MEAN 
>-D_MSC_VER=1010 -Tp %1.C
>
>Are these still valid/correct when using VS 2005 (v8)?
>
>TIA.


From arcadia2 at sbcglobal.net  Wed Aug 20 12:54:18 2008
From: arcadia2 at sbcglobal.net (bill robertson)
Date: Wed Aug 20 12:54:21 2008
Subject: [Harbour] hbmake
References: <22B4F0C9EF1342B79D3264F89E0D95C8@billws><0F4F540B-D1E4-4372-AD12-D00D396F3CB6@syenar.hu><F9F0AFDD71BC437581ADF91155F31041@billws>
	<89315252-AD90-482E-9A99-0E7721B3AAD8@syenar.hu>
Message-ID: <F8E2C259BEA446D4840832A672FE1F08@billws>

On Wenesday, August 20, 2008 6:01 AM Viktor Szak?ts wrote:

> Hi Bill,
>
> You're right, this somehow escaped from being
> updated when the lib names got changed.
>
> I've committed a fix.
>
> Brgds,
> Viktor

Hi Viktor

The fix did put the correct library into the makefile. However, the other 
unresolved references I mention in a previous email are still unresolved. 
The unresolved functions come from debugger.prg and dbgtobj.prg which seemed 
to have renamed functions that are defined in dbgentry.c without changing 
the names in dbgentry.c.

Perhaps the following list of the unresolved functions and their location in 
debugger.prg or dbgtobj.prg will make resolving the names easier.

Unresolved References in \harbour\source\debug\debugger.prg
Line Function
 129 __DBGSETENTRY
 143 __DBGSETGO
1273
 651 __DBGSETCBTRACE
1237 __DBGGETEXPRVALUE
1256 __DBGGETSOURCEFILES
1657 __DBGISVALIDSTOPLINE
1911 __DBGSETNEXTROUTINE
2023 __DBGSETQUIT
2796 __DBGSETTOCURSOR
2831 __DBGADDBREAK
2838 __DBGDELBREAK
2851 __DBGSETTRACE
2874 __DBGADDWATCH
3047 __DBGDELWATCH
3082 __DBGSETWATCH

Unresolved References in \harbour\source\debug\dbgtobj.prg
Line Function
 358 __DBGSENDMSG
 363
 379
 383

From rportnoff at spendmap.com  Wed Aug 20 13:06:58 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Wed Aug 20 13:05:40 2008
Subject: [Harbour] C compiler switches for VS 2005
In-Reply-To: <BAY114-F37D4A16129600029DEEBB8DF680@phx.gbl>
References: <B0082904919@ms1.3peaks.com>
	<BAY114-F37D4A16129600029DEEBB8DF680@phx.gbl>
Message-ID: <B0082906358@ms1.3peaks.com>

This was done years ago when I setup my Harbour environment - I 
_think_ John told me to do it but I'm not 100% sure.

At 12:52 PM 8/20/2008, you wrote:
>Randy,
>
>-D_MSC_VER=1010
>
>Why are you doing this?   This is controlled by the C compiler, and 
>over-riding it could be a problem.
>
>Paul
>
>>Hi all,
>>
>>I have been using the following C compiler switches with MSVC v6 
>>when compiling C source generated by the Harbour compiler:
>>
>>cl.exe -c -W3 %CFLAGS% -I%HB_INC_INSTALL% -DWIN32_LEAN_AND_MEAN 
>>-D_MSC_VER=1010 -Tp %1.C
>>
>>Are these still valid/correct when using VS 2005 (v8)?
>>
>>TIA.
>
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From harbour.01 at syenar.hu  Wed Aug 20 13:09:10 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 20 13:09:26 2008
Subject: [Harbour] 2008-08-20 19:07 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c902e7$Blat.v2.6.2$7680d3a8$2098a2ad5bec@127.0.0.1>

2008-08-20 19:07 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/debug/dbgentry.c
     ! HB_DBG_*() -> __DBG*().
     ; I somehow completely missed this file from recent 
       update, thanks Bill.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug 20 13:18:02 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 20 13:18:13 2008
Subject: [Harbour] C compiler switches for VS 2005
In-Reply-To: <B0082904919@ms1.3peaks.com>
References: <22B4F0C9EF1342B79D3264F89E0D95C8@billws>
	<0F4F540B-D1E4-4372-AD12-D00D396F3CB6@syenar.hu>
	<F9F0AFDD71BC437581ADF91155F31041@billws>
	<89315252-AD90-482E-9A99-0E7721B3AAD8@syenar.hu>
	<B0082904919@ms1.3peaks.com>
Message-ID: <354AF84B-D194-40DB-92E3-1FF00ACC4918@syenar.hu>

Hi Randy,

> cl.exe -c -W3 %CFLAGS% -I%HB_INC_INSTALL% -DWIN32_LEAN_AND_MEAN - 
> D_MSC_VER=1010 -Tp %1.C

-DWIN32_LEAN_AND_MEAN is not necessary for .c files generated
by Harbour compiler, as we don't include any Windows headers from
them (unless you happen to use inline C).

-D_MSC_VER is dangerous and shouldn't be used, as Paul said.

If you do a default Harbour build with MSVS2005, you can see
a working set of options in the generated output. Just don't
forget to set HB_VISUALC_VER envvar to 80.

Brgds,
Viktor

From arcadia2 at sbcglobal.net  Wed Aug 20 13:27:54 2008
From: arcadia2 at sbcglobal.net (bill robertson)
Date: Wed Aug 20 13:27:57 2008
Subject: [Harbour] 2008-08-20 19:07 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
References: <01c902e7$Blat.v2.6.2$7680d3a8$2098a2ad5bec@127.0.0.1>
Message-ID: <1BCAE8BE2E0640CE991C0CAFCCF78EB6@billws>

----- Original Message ----- 
From: "Szak?ts Viktor" <harbour.01@syenar.hu>
To: <harbour@harbour-project.org>
Sent: Wednesday, August 20, 2008 1:09 PM
Subject: [Harbour] 2008-08-20 19:07 UTC+0200 Viktor Szakats 
(harbour.01syenar hu)


> 2008-08-20 19:07 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>   * source/debug/dbgentry.c
>     ! HB_DBG_*() -> __DBG*().
>     ; I somehow completely missed this file from recent
>       update, thanks Bill.
> --
> Brgds,
> Viktor
>
Thanks Viktor,

Now my little debugger works like a charm! 

From stefano.sarpa at gmail.com  Wed Aug 20 16:36:24 2008
From: stefano.sarpa at gmail.com (stefano sarpa)
Date: Wed Aug 20 16:36:29 2008
Subject: [Harbour] Release 1.0.0 FREEZED
In-Reply-To: <200808140226.49221.philb@philb.us>
References: <F892467B-C0C5-4FB0-8E10-978809895492@syenar.hu>
	<200808140226.49221.philb@philb.us>
Message-ID: <1c59ca780808201336p6e5aa8a0jb716fe7474626e14@mail.gmail.com>

I am an old Clipper programmer (not professional).
I've been following the development of Harbour (and xHarbour) from many years
and I' am waiting anxiously this stable release.

Very compliments to the active partecipants of this project and, first of all,
many thanks to Przemyslaw Czerpak and Viktor Skazats.
Without their effort the Harbour project would never have reached this state !

Many thanks also to the original ideator Antonio Linares and to Phil
Barnett's enthusiastic support.

Now the Clipper and xBase is not dead and we have a language
open-source  and platform indipendent,
without any architectural limit or future constraints !

Best regards

Stefano Sarpa
From harbour.01 at syenar.hu  Wed Aug 20 17:09:23 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 20 17:09:43 2008
Subject: [Harbour] 2008-08-20 23:06 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90309$Blat.v2.6.2$057f64d6$1f346ea87760@127.0.0.1>

2008-08-20 23:06 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/mtpl_b32.mak
   * contrib/mtpl_gcc.mak
   * contrib/mtpl_vc.mak
     ! Added -km switch to contribs by default.
       This way it's synced with the GNU-make system, too.

   * utils/hbdoc/hbdocdef.ch
   * utils/hbdoc/fclass1.prg
   * utils/hbdoc/ffile1.prg
   * utils/hbdoc/ft_funcs.prg
   * utils/hbmake/hbdocdef.ch
   * utils/hbmake/fclass1.prg
   * utils/hbmake/ffile1.prg
   * utils/hbmake/ft_funcs.prg
     * Cleanups, optimizations (in ft_funcs.prg)
     ! Synced these for common files to be completely 
       identical. In fact this is a fix, as their name 
       is common so they were "randomly" interchanged 
       along the non-GNU build process even before.
       There was only one very small functional difference, 
       though.
     ; Please test.
--
Brgds,
Viktor

From arcadia2 at sbcglobal.net  Wed Aug 20 23:27:11 2008
From: arcadia2 at sbcglobal.net (bill robertson)
Date: Wed Aug 20 23:27:14 2008
Subject: [Harbour] hbmake
Message-ID: <CF5C00689F804270A63266A0DAB21B57@billws>

Hi Viktor,

After the recent changes to
* utils/hbmake/fclass1.prg
* utils/hbmake/ffile1.prg
* utils/hbmake/ft_funcs.prg

I get the following error in hbmake:

Harbour Make
Copyright (c) 2000-2008, http://www.harbour-project.org/
Harbour 1.0.0 Intl. (Rev. 9202) / Borland C++ 5.8.2 (32 bit)
Error BASE/2021  Argument error: FOPEN
Called from FOPEN(0)
Called from FILEBASE:OPENFILE(356)
Called from FILEBASE:OPEN(327)
Called from FT_FUSE(76)
Called from PARSEMAKEFILE(835)
Called from MAIN(393)
Called from CREATEMAKEFILE(3253)
Called from MAIN(379)
C:\Source\md5>

There are some additional small quirks with hbmake as well. The recent changes to make Harbour more consistent may make fixing the quirks easier but I didn't see anything simple. I'm going on memory here since I can't run hbmake now (who keeps backups?).

1. hbmake has a drop down window so you can choose a graphics driver. The hardwired choices are:
  c4w, fwh, gtwvt, gtwvw, gtwvw+mwvw, hwgui, minigui, xwt, what32, whoo, xhgtk. Of these, I only have gtwvt in the libarary although I do have 6 other drivers available that aren't listed.

2. ole2.lib is included on the default libs even though I don't have an ole2.lib

3. Libs hbmysql, hbpgsql and hbziparch are listed as choices even though I don't have these libs available.

4. Libs that don't show up that should are hbct, hbnulrdd, hbodbc, hbtip, hbw32 and some terminal libs (gtcgi, gtpca, gtstd, gtwvt). I do use hbct and hbtip often but they are easily added on the user libs line.

5. hbole shows up twice in the libs pick screen. The first one is called hbole (old) but it uses the exact same lib whether you choose (old) or current. Then hbole.lib shows up twice in the make file. Although this doesn't hurt, it still seems a bit strange.

6. hbhsx, hbpcre and hbsix are listed by default but are also shown as available picks. If you pick them, they too show up twice.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080820/84d348c9/attachment-0001.html
From harbour.01 at syenar.hu  Thu Aug 21 05:12:24 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 21 05:12:39 2008
Subject: [Harbour] 2008-08-21 10:28 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c9036e$Blat.v2.6.2$0658b032$19e8e231d74@127.0.0.1>

2008-08-21 10:28 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/dbinfo.ch
   * include/dbstruct.ch
   * include/hbgtinfo.ch
   * include/hblang.ch
   * include/setcurs.ch
     ! Added "also used from C code" comments.

   * utils/hbmake/ffile1.prg
     ! Minor cleanup.

   * include/hbgfxdef.ch
   * include/hbgtinfo.ch
     * Marked old GTI_*, GFX_* macros with HB_LEGACY_LEVEL.
       (Old macro HB_GT_NO_XHB no longer works)

   * include/hbsetup.ch
     + Added HB_LEGACY_LEVEL macro. Currently turned on.
       Will be turned off later, and completely removed 
       as a final step. Times are not defined for these 
       yet. Please prepare to modify your code to not 
       use old legacy stuff.
       NOTE: C code using legacy Clipper (.api) headers are
             unaffected.

   * include/hbapirdd.h
     * Marked HARBOUR_* macros with HB_LEGACY_LEVEL

   * include/hbsetup.h
     * Marked OS_UNIX_COMPATIBLE, OS_PATH_DELIMITER 
       macros with HB_LEGACY_LEVEL.

   * include/hbapifs.h
   * source/rtl/filesys.c
     * Marked hb_fileNameConv() as HB_LEGACY_LEVEL.
     ; 3rd party and app developers should switch to 
       hb_fsNameConv().

   * source/rtl/box.c
   * source/rtl/console.c
   * source/rtl/filesys.c
   * source/rtl/gtapi.c
   * source/rtl/hbgtcore.c
   * contrib/hbclipsm/gauge.c
   * contrib/hbclipsm/status.c
   * contrib/hbct/ctwin.c
   * source/rtl/set.c
   * utils/hbmake/hbmlang.c
     * Updated core/contrib sources to use non-legacy names:
       HB_CLRSTR_LEN, HB_EVALINFO, PHB_EVALINFO, HB_FHANDLE
     ; TODO: FHANDLE -> HB_FHANDLE is incomplete yet.

   * include/hbdefs.h
     * Minor formatting.

   * include/hbmath.h
     ! #include <hbmath.ch> -> #include "hbmath.ch"

   * contrib/hbmysql/mysql.c
     + function SQLFETCHR() updated to allow fetching binary (BLOB) 
       fields. [Thanks to Mitja Podgornik]

   * include/hbapifs.h
   * include/hbapigt.h
   * include/hbapiitm.h
   * include/hbdefs.h
   * include/item.api
   * include/filesys.api
   * include/gt.api
     * FHANDLE      -> HB_FHANDLE
     * EVALINFO     -> HB_EVALINFO
     * PEVALINFO    -> PHB_EVALINFO
     * EVALINFO_PTR -> marked as legacy
     * CLR_STRLEN   -> HB_CLRSTR_LEN
     ; Old names are still working if HB_LEGACY_LEVEL 
       is #defined, and by default now it is.
     ; It's highly recommended to change all 3rd party and 
       app C code to use the new #defines/types/functions.
     ; NOTE1: There are some more names which are still 
              in the legacy "namespace", and gradually 
              I'd like to clean some of these as well. The most 
              important would be the type names, as these 
              are currently colliding with multiple external 
              packages, like windows.h, and it also makes it 
              impossible to compile hbfimage on certain systems.
     ; NOTE2: I'd also like to move the *_PTR (like HB_ITEM_PTR) 
              names to legacy status as we don't really use 
              them except in a few VM files, and we have PHB_* 
              as a wide-spread (and shorter) replacement.
     ; NOTE3: We may also use HB_LEGACY_LEVEL to obolete other 
              legacy or unsafe functions, with better new 
              alternatives.
     ; NOTE4: Here's a more or less complete list of names 
              that _may_ cause such problems:
              ; Type related stuff
                - TRUE, FALSE
                - BOOL, BYTE, SCHAR, UINT, USHORT
                - INT_MAX, INT_MIN
                - INT16, INT16_MAX, INT16_MIN
                - INT24_MAX, INT24_MIN
                - INT32, INT32_MAX, INT32_MIN
                - INT64, INT64_MAX, INT64_MIN
                - LONG, LONG_MAX, LONG_MIN
                - LONGLONG, LONGLONG_MAX, LONGLONG_MIN
                - SHORT, SHRT_MAX, SHRT_MIN
                - UCHAR, UCHAR_MAX
                - UINT16, UINT16_MAX
                - UINT24_MAX
                - UINT32, UINT32_MAX
                - UINT64, UINT64_MAX
                - ULONG, ULONG_MAX
                - ULONGLONG, ULONGLONG_MAX
                - assert()
              ; Some hacks currently used:
                - HB_DONT_DEFINE_BASIC_TYPES
                - HB_DONT_DEFINE_BOOL
                - HB_OS_WIN_32_USED ->
                  (include <windows.h> locally where needed)
              ; Compiler related stuff:
                - VS_*, VU_*, VT_*, FUN_*
                - *COMDECLARED, *COMCLASS, *COMSYMBOL
                - VAR, PVAR
                - _FUNC, PFUNCTION
                - _INLINE, PINLINE
                - _FUNCALL, PFUNCALL
                - _EXTERN, PEXTERN
                - AUTOOPEN, PAUTOOPEN
                - FUNCTIONS
                - INLINES
                - FUNCALLS
                - SYMBOLS
              ; Clipper compatibility #defines,
                better be moved behind a compatibility layer:
                - F_ERROR, FS_ERROR
                - IS*()
                - E_*, EF_*
                - FL_*, FLX_*, FO_*, FXO_*
                - _B_*
                - FC_*, FS_*, FD_*
                - INKEY_*, K_*
                - ES_*, EG_*
                - SC_*
                - DBS_*
              ; + All RDD related stuff, including "dbinfo.ch" constants.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Aug 21 05:17:16 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 21 05:17:24 2008
Subject: [Harbour] hbmake
In-Reply-To: <CF5C00689F804270A63266A0DAB21B57@billws>
References: <CF5C00689F804270A63266A0DAB21B57@billws>
Message-ID: <4A51A5A3-0190-4BDD-83DB-B8B1779B0FEB@syenar.hu>

Hi Bill,

> Harbour Make
> Copyright (c) 2000-2008, http://www.harbour-project.org/
> Harbour 1.0.0 Intl. (Rev. 9202) / Borland C++ 5.8.2 (32 bit)
> Error BASE/2021  Argument error: FOPEN
> Called from FOPEN(0)
> Called from FILEBASE:OPENFILE(356)
> Called from FILEBASE:OPEN(327)
> Called from FT_FUSE(76)
> Called from PARSEMAKEFILE(835)
> Called from MAIN(393)
> Called from CREATEMAKEFILE(3253)
> Called from MAIN(379)
> C:\Source\md5>

I cannot reproduce this (after a clean build) with 'hbmake -e test'.

Any hints how to replicate this on my system?

> There are some additional small quirks with hbmake as well. The  
> recent changes to make Harbour more consistent may make fixing the  
> quirks easier but I didn't see anything simple. I'm going on memory  
> here since I can't run hbmake now (who keeps backups?).
>
> 1. hbmake has a drop down window so you can choose a graphics  
> driver. The hardwired choices are:
>   c4w, fwh, gtwvt, gtwvw, gtwvw+mwvw, hwgui, minigui, xwt, what32,  
> whoo, xhgtk. Of these, I only have gtwvt in the libarary although I  
> do have 6 other drivers available that aren't listed.
>
> 2. ole2.lib is included on the default libs even though I don't have  
> an ole2.lib
>
> 3. Libs hbmysql, hbpgsql and hbziparch are listed as choices even  
> though I don't have these libs available.
>
> 4. Libs that don't show up that should are hbct, hbnulrdd, hbodbc,  
> hbtip, hbw32 and some terminal libs (gtcgi, gtpca, gtstd, gtwvt). I  
> do use hbct and hbtip often but they are easily added on the user  
> libs line.
>
> 5. hbole shows up twice in the libs pick screen. The first one is  
> called hbole (old) but it uses the exact same lib whether you choose  
> (old) or current. Then hbole.lib shows up twice in the make file.  
> Although this doesn't hurt, it still seems a bit strange.
>
> 6. hbhsx, hbpcre and hbsix are listed by default but are also shown  
> as available picks. If you pick them, they too show up twice.

If you could post patches for anything of the above,
I'd be glad to commit them, but I don't want to spend
more time on this tool, than it is absolutely necessary.

Some problems you mention are very difficult to solve
cleanly without a major redesign of hbmake, the rest
could probably be solved, but it would need a heavier
amount of time spent in the spaghetti code.

I wish it would be obvious to add/remove libs to/from
hbmake, but it apparently isn't (for me that is). (f.e.
hbole only occurs once in the code, hbct is present
also, yet hbole seems to popup twice, but hbct isn't
at all.)

Brgds,
Viktor

From wangshuming01 at gmail.com  Thu Aug 21 05:36:00 2008
From: wangshuming01 at gmail.com (wang shuming)
Date: Thu Aug 21 05:36:05 2008
Subject: [Harbour] When will Habour support unicode ?
Message-ID: <c26b21640808210236k49c10e83la9a125d41ff5893@mail.gmail.com>

Hi,
  As title, this is very important for us, for Chinse words inlcudes simple
and traditional with GB2312,GBK,Big5, only Unicode can whole deal all of
them work .

 Best regards!

Shuming Wang
Canton, Guangdong Province ,China
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080821/04d4db7e/attachment.html
From jfl at mafact.com  Thu Aug 21 06:37:00 2008
From: jfl at mafact.com (J. Lefebvre)
Date: Thu Aug 21 06:37:20 2008
Subject: [Harbour] Problem with debug.c ... All HB_DBG_VM... func disapeared
	!
In-Reply-To: <4A51A5A3-0190-4BDD-83DB-B8B1779B0FEB@syenar.hu>
Message-ID: <d97621f6.1c90379.18d85cbf.2a63@mafact.com>

Hi,

I just try a compile from a fresh SVN update and discovered there is some missed function.

They got rename to their initial name 2 years ago ...

Ie ;

HB_DBG_VMVARSLEN() -> __DBGVMVARSLEN()

HB_DBG_VMPARLLIST() -> __DBGVMVARSLIST()

HB_DBG_VMSTKLCOUNT() -> __DBGVMSTKLCOUNT()

Not any more HB_DBG_... func within Harbour sources.

Regards,

JF

 

From harbour.01 at syenar.hu  Thu Aug 21 07:01:55 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 21 07:02:09 2008
Subject: [Harbour] Problem with debug.c ... All HB_DBG_VM... func
	disapeared !
In-Reply-To: <d97621f6.1c90379.18d85cbf.2a63@mafact.com>
References: <d97621f6.1c90379.18d85cbf.2a63@mafact.com>
Message-ID: <261C6A79-3625-4D32-AA89-762AE8A37C61@syenar.hu>

Hi JF,

Yes, this was the intention.

I'm not sure what exactly do you mean, but if you
happen to use these internal functions from your
code, you can either write some wrappers to them, or
search/replace them in your code to the new names.
Or, you can also use the stable Harbour 1.0.0 build,
until we have this matter stabilized in trunk.

in *.prg/*.ch, case-insensitive search & replace:
HB_DBG_ -> __DBG. Unfortunately you'll have to
take care not to touch HB_DBG_* _macros_ (if you
use them in your code), #defined in hbdebug.ch.

[ The debug interface is an internal one, not a
public one and it's not suited for normal app
code, hence the __DBG* name. HB_DBG_* was wrong.
You can find more if you search for '__DBG', or
'INCOMPATIBLE' in /ChangeLog ]

[ If this is a wide-spread problem for Harbour
users, we can add a file /source/debug/dbgold.c
with the required wrappers, but I anticipate this
is unnecessary for the majority of them. ]

[ Also notice, that very old __VM*() functions also
got removed by this move. ]

Brgds,
Viktor

On 2008.08.21., at 12:37, J. Lefebvre wrote:

> Hi,
>
> I just try a compile from a fresh SVN update and discovered there is  
> some missed function.
>
> They got rename to their initial name 2 years ago ...
>
> Ie ;
>
> HB_DBG_VMVARSLEN() -> __DBGVMVARSLEN()
>
> HB_DBG_VMPARLLIST() -> __DBGVMVARSLIST()
>
> HB_DBG_VMSTKLCOUNT() -> __DBGVMSTKLCOUNT()
>
> Not any more HB_DBG_... func within Harbour sources.
>
> Regards,
>
> JF
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From jfl at mafact.com  Thu Aug 21 08:33:00 2008
From: jfl at mafact.com (J. Lefebvre)
Date: Thu Aug 21 08:33:58 2008
Subject: [Harbour] Problem with debug.c ... All HB_DBG_VM... func
	disapeared !
In-Reply-To: <261C6A79-3625-4D32-AA89-762AE8A37C61@syenar.hu>
Message-ID: <20733a84.1c9038a.19430986.11aa@mafact.com>

Hi Viktor,

Not really a problem for me, only 4 function are used by Antonio from FiveWin and I suppose he will replace them without any problem. In the meantime, I already wrote a wrapper as a workaround. I was just not sure it was the intention.

PS: Good job !

Friendly,

JF,

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Szak?ts Viktor
Envoy??: jeudi 21 ao?t 2008 13:02
??: Harbour Project Main Developer List.
Objet?: Re: [Harbour] Problem with debug.c ... All HB_DBG_VM... func disapeared !

Hi JF,

Yes, this was the intention.

I'm not sure what exactly do you mean, but if you
happen to use these internal functions from your
code, you can either write some wrappers to them, or
search/replace them in your code to the new names.
Or, you can also use the stable Harbour 1.0.0 build,
until we have this matter stabilized in trunk.

in *.prg/*.ch, case-insensitive search & replace:
HB_DBG_ -> __DBG. Unfortunately you'll have to
take care not to touch HB_DBG_* _macros_ (if you
use them in your code), #defined in hbdebug.ch.

[ The debug interface is an internal one, not a
public one and it's not suited for normal app
code, hence the __DBG* name. HB_DBG_* was wrong.
You can find more if you search for '__DBG', or
'INCOMPATIBLE' in /ChangeLog ]

[ If this is a wide-spread problem for Harbour
users, we can add a file /source/debug/dbgold.c
with the required wrappers, but I anticipate this
is unnecessary for the majority of them. ]

[ Also notice, that very old __VM*() functions also
got removed by this move. ]

Brgds,
Viktor

On 2008.08.21., at 12:37, J. Lefebvre wrote:

> Hi,
>
> I just try a compile from a fresh SVN update and discovered there is  
> some missed function.
>
> They got rename to their initial name 2 years ago ...
>
> Ie ;
>
> HB_DBG_VMVARSLEN() -> __DBGVMVARSLEN()
>
> HB_DBG_VMPARLLIST() -> __DBGVMVARSLIST()
>
> HB_DBG_VMSTKLCOUNT() -> __DBGVMSTKLCOUNT()
>
> Not any more HB_DBG_... func within Harbour sources.
>
> Regards,
>
> JF
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From lkrausem at shaw.ca  Thu Aug 21 11:00:20 2008
From: lkrausem at shaw.ca (Luis Krause Mantilla)
Date: Thu Aug 21 11:00:32 2008
Subject: [Harbour] Problem with debug.c ... All HB_DBG_VM...
	func	disapeared !
In-Reply-To: <20733a84.1c9038a.19430986.11aa@mafact.com>
References: <20733a84.1c9038a.19430986.11aa@mafact.com>
Message-ID: <48AD8304.3010206@shaw.ca>

JF:

I added this to solve references in FW for Harbour (not xHarbour):

#ifndef __XHARBOUR__
Function HB_DBG_VMSTKLCOUNT(n)
Return __DBGVMSTKLCOUNT(n)

Function HB_DBG_VMPARLLIST(n)
Return __DBGVMPARLLIST(n)

Function HB_DBG_VMVARLGET(n1,n2)
Return __DBGVMVARLGET(n1,n2)

Function HB_DBG_VMVARSLEN()
Return __DBGVMVARSLEN()
#endif


And as you mentioned about 3 years ago Ryzard renamed them
from __VM.... to HB_DBG_VM...

Regards,

J. Lefebvre wrote:
> Hi Viktor,
>
> Not really a problem for me, only 4 function are used by Antonio from FiveWin and I suppose he will replace them without any problem. In the meantime, I already wrote a wrapper as a workaround. I was just not sure it was the intention.
>
> PS: Good job !
>
> Friendly,
>
> JF,
>
> -----Message d'origine-----
> De : harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Szak?ts Viktor
> Envoy? : jeudi 21 ao?t 2008 13:02
> ? : Harbour Project Main Developer List.
> Objet : Re: [Harbour] Problem with debug.c ... All HB_DBG_VM... func disapeared !
>
> Hi JF,
>
> Yes, this was the intention.
>
> I'm not sure what exactly do you mean, but if you
> happen to use these internal functions from your
> code, you can either write some wrappers to them, or
> search/replace them in your code to the new names.
> Or, you can also use the stable Harbour 1.0.0 build,
> until we have this matter stabilized in trunk.
>
> in *.prg/*.ch, case-insensitive search & replace:
> HB_DBG_ -> __DBG. Unfortunately you'll have to
> take care not to touch HB_DBG_* _macros_ (if you
> use them in your code), #defined in hbdebug.ch.
>
> [ The debug interface is an internal one, not a
> public one and it's not suited for normal app
> code, hence the __DBG* name. HB_DBG_* was wrong.
> You can find more if you search for '__DBG', or
> 'INCOMPATIBLE' in /ChangeLog ]
>
> [ If this is a wide-spread problem for Harbour
> users, we can add a file /source/debug/dbgold.c
> with the required wrappers, but I anticipate this
> is unnecessary for the majority of them. ]
>
> [ Also notice, that very old __VM*() functions also
> got removed by this move. ]
>
> Brgds,
> Viktor
>
> On 2008.08.21., at 12:37, J. Lefebvre wrote:
>
>   
>> Hi,
>>
>> I just try a compile from a fresh SVN update and discovered there is  
>> some missed function.
>>
>> They got rename to their initial name 2 years ago ...
>>
>> Ie ;
>>
>> HB_DBG_VMVARSLEN() -> __DBGVMVARSLEN()
>>
>> HB_DBG_VMPARLLIST() -> __DBGVMVARSLIST()
>>
>> HB_DBG_VMSTKLCOUNT() -> __DBGVMSTKLCOUNT()
>>
>> Not any more HB_DBG_... func within Harbour sources.
>>
>> Regards,
>>
>> JF
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>     
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>   

-- 
Luis Krause Mantilla
lkrausem at shaw dot ca
luis_krause at hotmail dot com
"May the Source be with GNU"


From lkrausem at shaw.ca  Thu Aug 21 11:08:00 2008
From: lkrausem at shaw.ca (Luis Krause Mantilla)
Date: Thu Aug 21 11:08:13 2008
Subject: [Harbour] Problem with debug.c ... All HB_DBG_VM...
	func	disapeared !
In-Reply-To: <261C6A79-3625-4D32-AA89-762AE8A37C61@syenar.hu>
References: <d97621f6.1c90379.18d85cbf.2a63@mafact.com>
	<261C6A79-3625-4D32-AA89-762AE8A37C61@syenar.hu>
Message-ID: <48AD84D0.4050203@shaw.ca>

Viktor:

About 4 years ago when Ryzsard renamed renamed this
funcs I added

2004-01-29 18:45 UTC-0800 Luis Krause Mantilla <lkrausem /*at*/ shaw 
/*dot*/ ca>
   * source/vm/debug.c
     + add wrappers (some 3rd-party-libs still use these ones) for:
       __VMSTKLCOUNT()
       __VMPARLLIST()
       __VMSTKLLIST()
       __VMVARLGET()
       __VMVARLSET()
   * source/vm/hvm.c
     + add wrappers (some 3rd-party-libs still use these ones) for:
       __VMVARSLIST()
       __VMVARSLEN()
       __VMVARSGET()
       __VMVARSSET()

And I see you guarded them inside an #if 0

How about adding similar solution for those external libs like FWH
that will start blowing up with this change, i.e.

HB_FUNC( HB_DBG_VMSTKLCOUNT )
{
   HB_FUNC_EXEC( __DBGVMSTKLCOUNT );
}

etc.

Regards,
Szak?ts Viktor wrote:
> Hi JF,
>
> Yes, this was the intention.
>
> I'm not sure what exactly do you mean, but if you
> happen to use these internal functions from your
> code, you can either write some wrappers to them, or
> search/replace them in your code to the new names.
> Or, you can also use the stable Harbour 1.0.0 build,
> until we have this matter stabilized in trunk.
>
> in *.prg/*.ch, case-insensitive search & replace:
> HB_DBG_ -> __DBG. Unfortunately you'll have to
> take care not to touch HB_DBG_* _macros_ (if you
> use them in your code), #defined in hbdebug.ch.
>
> [ The debug interface is an internal one, not a
> public one and it's not suited for normal app
> code, hence the __DBG* name. HB_DBG_* was wrong.
> You can find more if you search for '__DBG', or
> 'INCOMPATIBLE' in /ChangeLog ]
>
> [ If this is a wide-spread problem for Harbour
> users, we can add a file /source/debug/dbgold.c
> with the required wrappers, but I anticipate this
> is unnecessary for the majority of them. ]
>
> [ Also notice, that very old __VM*() functions also
> got removed by this move. ]
>
> Brgds,
> Viktor
>
> On 2008.08.21., at 12:37, J. Lefebvre wrote:
>
>> Hi,
>>
>> I just try a compile from a fresh SVN update and discovered there is 
>> some missed function.
>>
>> They got rename to their initial name 2 years ago ...
>>
>> Ie ;
>>
>> HB_DBG_VMVARSLEN() -> __DBGVMVARSLEN()
>>
>> HB_DBG_VMPARLLIST() -> __DBGVMVARSLIST()
>>
>> HB_DBG_VMSTKLCOUNT() -> __DBGVMSTKLCOUNT()
>>
>> Not any more HB_DBG_... func within Harbour sources.
>>
>> Regards,
>>
>> JF
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>

-- 
Luis Krause Mantilla
lkrausem at shaw dot ca
luis_krause at hotmail dot com
"May the Source be with GNU"


From harbour.01 at syenar.hu  Thu Aug 21 11:09:46 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 21 11:10:06 2008
Subject: [Harbour] Problem with debug.c ... All HB_DBG_VM...
	func	disapeared !
In-Reply-To: <48AD8304.3010206@shaw.ca>
References: <20733a84.1c9038a.19430986.11aa@mafact.com>
	<48AD8304.3010206@shaw.ca>
Message-ID: <14FF01A2-A4DE-45C8-B6EF-3A227CA68C8E@syenar.hu>

It would be nice to know why exactly FW or any
other 3rd party code need these access such internal
stuff. Maybe there is better existing solution to
replace them, or if these are indeed essential in
some real-world situations, we may want to think of
creating some documented and supported alternative
solution.

Brgds,
Viktor

On 2008.08.21., at 17:00, Luis Krause Mantilla wrote:

> JF:
>
> I added this to solve references in FW for Harbour (not xHarbour):
>
> #ifndef __XHARBOUR__
> Function HB_DBG_VMSTKLCOUNT(n)
> Return __DBGVMSTKLCOUNT(n)
>
> Function HB_DBG_VMPARLLIST(n)
> Return __DBGVMPARLLIST(n)
>
> Function HB_DBG_VMVARLGET(n1,n2)
> Return __DBGVMVARLGET(n1,n2)
>
> Function HB_DBG_VMVARSLEN()
> Return __DBGVMVARSLEN()
> #endif
>
>
> And as you mentioned about 3 years ago Ryzard renamed them
> from __VM.... to HB_DBG_VM...
>
> Regards,
>
> J. Lefebvre wrote:
>> Hi Viktor,
>>
>> Not really a problem for me, only 4 function are used by Antonio  
>> from FiveWin and I suppose he will replace them without any  
>> problem. In the meantime, I already wrote a wrapper as a  
>> workaround. I was just not sure it was the intention.
>>
>> PS: Good job !
>>
>> Friendly,
>>
>> JF,
>>
>> -----Message d'origine-----
>> De : harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
>> ] De la part de Szak?ts Viktor
>> Envoy? : jeudi 21 ao?t 2008 13:02
>> ? : Harbour Project Main Developer List.
>> Objet : Re: [Harbour] Problem with debug.c ... All HB_DBG_VM...  
>> func disapeared !
>>
>> Hi JF,
>>
>> Yes, this was the intention.
>>
>> I'm not sure what exactly do you mean, but if you
>> happen to use these internal functions from your
>> code, you can either write some wrappers to them, or
>> search/replace them in your code to the new names.
>> Or, you can also use the stable Harbour 1.0.0 build,
>> until we have this matter stabilized in trunk.
>>
>> in *.prg/*.ch, case-insensitive search & replace:
>> HB_DBG_ -> __DBG. Unfortunately you'll have to
>> take care not to touch HB_DBG_* _macros_ (if you
>> use them in your code), #defined in hbdebug.ch.
>>
>> [ The debug interface is an internal one, not a
>> public one and it's not suited for normal app
>> code, hence the __DBG* name. HB_DBG_* was wrong.
>> You can find more if you search for '__DBG', or
>> 'INCOMPATIBLE' in /ChangeLog ]
>>
>> [ If this is a wide-spread problem for Harbour
>> users, we can add a file /source/debug/dbgold.c
>> with the required wrappers, but I anticipate this
>> is unnecessary for the majority of them. ]
>>
>> [ Also notice, that very old __VM*() functions also
>> got removed by this move. ]
>>
>> Brgds,
>> Viktor
>>
>> On 2008.08.21., at 12:37, J. Lefebvre wrote:
>>
>>
>>> Hi,
>>>
>>> I just try a compile from a fresh SVN update and discovered there  
>>> is  some missed function.
>>>
>>> They got rename to their initial name 2 years ago ...
>>>
>>> Ie ;
>>>
>>> HB_DBG_VMVARSLEN() -> __DBGVMVARSLEN()
>>>
>>> HB_DBG_VMPARLLIST() -> __DBGVMVARSLIST()
>>>
>>> HB_DBG_VMSTKLCOUNT() -> __DBGVMSTKLCOUNT()
>>>
>>> Not any more HB_DBG_... func within Harbour sources.
>>>
>>> Regards,
>>>
>>> JF
>>>
>>>
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
> -- 
> Luis Krause Mantilla
> lkrausem at shaw dot ca
> luis_krause at hotmail dot com
> "May the Source be with GNU"
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From arcadia2 at sbcglobal.net  Thu Aug 21 11:15:56 2008
From: arcadia2 at sbcglobal.net (bill robertson)
Date: Thu Aug 21 11:16:00 2008
Subject: [Harbour] hbmake
References: <CF5C00689F804270A63266A0DAB21B57@billws>
	<4A51A5A3-0190-4BDD-83DB-B8B1779B0FEB@syenar.hu>
Message-ID: <C9703610CE8947AFBA9B638135088724@billws>

----- Original Message ----- 
From: "Szak?ts Viktor" <harbour.01@syenar.hu>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Thursday, August 21, 2008 5:17 AM
Subject: Re: [Harbour] hbmake


> Hi Bill,
>
>> Harbour Make
>> Copyright (c) 2000-2008, http://www.harbour-project.org/
>> Harbour 1.0.0 Intl. (Rev. 9202) / Borland C++ 5.8.2 (32 bit)
>> Error BASE/2021  Argument error: FOPEN
>> Called from FOPEN(0)
>> Called from FILEBASE:OPENFILE(356)
>> Called from FILEBASE:OPEN(327)
>> Called from FT_FUSE(76)
>> Called from PARSEMAKEFILE(835)
>> Called from MAIN(393)
>> Called from CREATEMAKEFILE(3253)
>> Called from MAIN(379)
>> C:\Source\md5>
>
> I cannot reproduce this (after a clean build) with 'hbmake -e test'.
>
> Any hints how to replicate this on my system?
>
Hi Viktor,

I just resynced with SVN and did a clean build. I tried with hbmake -e 
test.bc and hbmake -ex test.bc and got the same error as above. I will try 
to get you better information. 

From harbour.01 at syenar.hu  Thu Aug 21 11:19:19 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 21 11:19:40 2008
Subject: [Harbour] Problem with debug.c ... All HB_DBG_VM...
	func	disapeared !
In-Reply-To: <48AD84D0.4050203@shaw.ca>
References: <d97621f6.1c90379.18d85cbf.2a63@mafact.com>
	<261C6A79-3625-4D32-AA89-762AE8A37C61@syenar.hu>
	<48AD84D0.4050203@shaw.ca>
Message-ID: <0A7A61B9-B651-4B9B-8872-371AEB520B73@syenar.hu>

Hi Luiz,

Maybe, but before we continue to take and maintain
old compatibility stuff in Harbour core and doing
a temporary solution again, I'd suggest looking
a bit deeper into this (see my other mail).

[ BTW, right now I'm committing stuff targeting
1.1, where such old stuff may be completely
dropped. Changes _done so far_ may go into 1.0.1
as well. ]

I can see multiple solutions to solve this one:
- HB_DBG_*() compatibility in separate source file in trunk.
   (guarded with HB_LEGACY_LEVEL)
- Documented interface for this kind of functionality
   needed for apps, if there is no other way to
   replace them. (we need info!)
- HB_DBG_*() compatibility functions added solely
   to 1.0 branch (for version 1.0.1).

Until this settles, pls use local wrappers,
as current trunk is not meant for large scale
production use.

Brgds,
Viktor

On 2008.08.21., at 17:08, Luis Krause Mantilla wrote:

> Viktor:
>
> About 4 years ago when Ryzsard renamed renamed this
> funcs I added
>
> 2004-01-29 18:45 UTC-0800 Luis Krause Mantilla <lkrausem /*at*/  
> shaw /*dot*/ ca>
>  * source/vm/debug.c
>    + add wrappers (some 3rd-party-libs still use these ones) for:
>      __VMSTKLCOUNT()
>      __VMPARLLIST()
>      __VMSTKLLIST()
>      __VMVARLGET()
>      __VMVARLSET()
>  * source/vm/hvm.c
>    + add wrappers (some 3rd-party-libs still use these ones) for:
>      __VMVARSLIST()
>      __VMVARSLEN()
>      __VMVARSGET()
>      __VMVARSSET()
>
> And I see you guarded them inside an #if 0
>
> How about adding similar solution for those external libs like FWH
> that will start blowing up with this change, i.e.
>
> HB_FUNC( HB_DBG_VMSTKLCOUNT )
> {
>  HB_FUNC_EXEC( __DBGVMSTKLCOUNT );
> }
>
> etc.
>
> Regards,
> Szak?ts Viktor wrote:
>> Hi JF,
>>
>> Yes, this was the intention.
>>
>> I'm not sure what exactly do you mean, but if you
>> happen to use these internal functions from your
>> code, you can either write some wrappers to them, or
>> search/replace them in your code to the new names.
>> Or, you can also use the stable Harbour 1.0.0 build,
>> until we have this matter stabilized in trunk.
>>
>> in *.prg/*.ch, case-insensitive search & replace:
>> HB_DBG_ -> __DBG. Unfortunately you'll have to
>> take care not to touch HB_DBG_* _macros_ (if you
>> use them in your code), #defined in hbdebug.ch.
>>
>> [ The debug interface is an internal one, not a
>> public one and it's not suited for normal app
>> code, hence the __DBG* name. HB_DBG_* was wrong.
>> You can find more if you search for '__DBG', or
>> 'INCOMPATIBLE' in /ChangeLog ]
>>
>> [ If this is a wide-spread problem for Harbour
>> users, we can add a file /source/debug/dbgold.c
>> with the required wrappers, but I anticipate this
>> is unnecessary for the majority of them. ]
>>
>> [ Also notice, that very old __VM*() functions also
>> got removed by this move. ]
>>
>> Brgds,
>> Viktor
>>
>> On 2008.08.21., at 12:37, J. Lefebvre wrote:
>>
>>> Hi,
>>>
>>> I just try a compile from a fresh SVN update and discovered there  
>>> is some missed function.
>>>
>>> They got rename to their initial name 2 years ago ...
>>>
>>> Ie ;
>>>
>>> HB_DBG_VMVARSLEN() -> __DBGVMVARSLEN()
>>>
>>> HB_DBG_VMPARLLIST() -> __DBGVMVARSLIST()
>>>
>>> HB_DBG_VMSTKLCOUNT() -> __DBGVMSTKLCOUNT()
>>>
>>> Not any more HB_DBG_... func within Harbour sources.
>>>
>>> Regards,
>>>
>>> JF
>>>
>>>
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> -- 
> Luis Krause Mantilla
> lkrausem at shaw dot ca
> luis_krause at hotmail dot com
> "May the Source be with GNU"
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Aug 21 11:34:31 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 21 11:34:46 2008
Subject: [Harbour] hbmake
In-Reply-To: <C9703610CE8947AFBA9B638135088724@billws>
References: <CF5C00689F804270A63266A0DAB21B57@billws>
	<4A51A5A3-0190-4BDD-83DB-B8B1779B0FEB@syenar.hu>
	<C9703610CE8947AFBA9B638135088724@billws>
Message-ID: <C4515887-52BB-476D-A09D-110F2AEE527A@syenar.hu>

Okay, I've found something, I'll fix it ASAP.

Brgds,
Viktor

On 2008.08.21., at 17:15, bill robertson wrote:

> ----- Original Message ----- From: "Szak?ts Viktor" <harbour.01@syenar.hu 
> >
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org 
> >
> Sent: Thursday, August 21, 2008 5:17 AM
> Subject: Re: [Harbour] hbmake
>
>
>> Hi Bill,
>>
>>> Harbour Make
>>> Copyright (c) 2000-2008, http://www.harbour-project.org/
>>> Harbour 1.0.0 Intl. (Rev. 9202) / Borland C++ 5.8.2 (32 bit)
>>> Error BASE/2021  Argument error: FOPEN
>>> Called from FOPEN(0)
>>> Called from FILEBASE:OPENFILE(356)
>>> Called from FILEBASE:OPEN(327)
>>> Called from FT_FUSE(76)
>>> Called from PARSEMAKEFILE(835)
>>> Called from MAIN(393)
>>> Called from CREATEMAKEFILE(3253)
>>> Called from MAIN(379)
>>> C:\Source\md5>
>>
>> I cannot reproduce this (after a clean build) with 'hbmake -e test'.
>>
>> Any hints how to replicate this on my system?
>>
> Hi Viktor,
>
> I just resynced with SVN and did a clean build. I tried with hbmake - 
> e test.bc and hbmake -ex test.bc and got the same error as above. I  
> will try to get you better information.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lkrausem at shaw.ca  Thu Aug 21 11:36:38 2008
From: lkrausem at shaw.ca (Luis Krause Mantilla)
Date: Thu Aug 21 11:36:50 2008
Subject: [Harbour] Problem with debug.c ... All
	HB_DBG_VM...	func	disapeared !
In-Reply-To: <14FF01A2-A4DE-45C8-B6EF-3A227CA68C8E@syenar.hu>
References: <20733a84.1c9038a.19430986.11aa@mafact.com>
	<48AD8304.3010206@shaw.ca>
	<14FF01A2-A4DE-45C8-B6EF-3A227CA68C8E@syenar.hu>
Message-ID: <48AD8B86.6050801@shaw.ca>

Viktor:

In the case of FWH, Antonio uses them as wrappers
to legacy functions from FW 16 bit days to return the
number of local vars, param count etc at the .c level.

Antonio would have to explain in more detail exactly
why they're used.

Regards,

Szak?ts Viktor wrote:
> It would be nice to know why exactly FW or any
> other 3rd party code need these access such internal
> stuff. Maybe there is better existing solution to
> replace them, or if these are indeed essential in
> some real-world situations, we may want to think of
> creating some documented and supported alternative
> solution.
>
> Brgds,
> Viktor
>
> On 2008.08.21., at 17:00, Luis Krause Mantilla wrote:
>
>> JF:
>>
>> I added this to solve references in FW for Harbour (not xHarbour):
>>
>> #ifndef __XHARBOUR__
>> Function HB_DBG_VMSTKLCOUNT(n)
>> Return __DBGVMSTKLCOUNT(n)
>>
>> Function HB_DBG_VMPARLLIST(n)
>> Return __DBGVMPARLLIST(n)
>>
>> Function HB_DBG_VMVARLGET(n1,n2)
>> Return __DBGVMVARLGET(n1,n2)
>>
>> Function HB_DBG_VMVARSLEN()
>> Return __DBGVMVARSLEN()
>> #endif
>>
>>
>> And as you mentioned about 3 years ago Ryzard renamed them
>> from __VM.... to HB_DBG_VM...
>>
>> Regards,
>>
>> J. Lefebvre wrote:
>>> Hi Viktor,
>>>
>>> Not really a problem for me, only 4 function are used by Antonio 
>>> from FiveWin and I suppose he will replace them without any problem. 
>>> In the meantime, I already wrote a wrapper as a workaround. I was 
>>> just not sure it was the intention.
>>>
>>> PS: Good job !
>>>
>>> Friendly,
>>>
>>> JF,
>>>
>>> -----Message d'origine-----
>>> De : harbour-bounces@harbour-project.org 
>>> [mailto:harbour-bounces@harbour-project.org] De la part de Szak?ts 
>>> Viktor
>>> Envoy? : jeudi 21 ao?t 2008 13:02
>>> ? : Harbour Project Main Developer List.
>>> Objet : Re: [Harbour] Problem with debug.c ... All HB_DBG_VM... func 
>>> disapeared !
>>>
>>> Hi JF,
>>>
>>> Yes, this was the intention.
>>>
>>> I'm not sure what exactly do you mean, but if you
>>> happen to use these internal functions from your
>>> code, you can either write some wrappers to them, or
>>> search/replace them in your code to the new names.
>>> Or, you can also use the stable Harbour 1.0.0 build,
>>> until we have this matter stabilized in trunk.
>>>
>>> in *.prg/*.ch, case-insensitive search & replace:
>>> HB_DBG_ -> __DBG. Unfortunately you'll have to
>>> take care not to touch HB_DBG_* _macros_ (if you
>>> use them in your code), #defined in hbdebug.ch.
>>>
>>> [ The debug interface is an internal one, not a
>>> public one and it's not suited for normal app
>>> code, hence the __DBG* name. HB_DBG_* was wrong.
>>> You can find more if you search for '__DBG', or
>>> 'INCOMPATIBLE' in /ChangeLog ]
>>>
>>> [ If this is a wide-spread problem for Harbour
>>> users, we can add a file /source/debug/dbgold.c
>>> with the required wrappers, but I anticipate this
>>> is unnecessary for the majority of them. ]
>>>
>>> [ Also notice, that very old __VM*() functions also
>>> got removed by this move. ]
>>>
>>> Brgds,
>>> Viktor
>>>
>>> On 2008.08.21., at 12:37, J. Lefebvre wrote:
>>>
>>>
>>>> Hi,
>>>>
>>>> I just try a compile from a fresh SVN update and discovered there 
>>>> is  some missed function.
>>>>
>>>> They got rename to their initial name 2 years ago ...
>>>>
>>>> Ie ;
>>>>
>>>> HB_DBG_VMVARSLEN() -> __DBGVMVARSLEN()
>>>>
>>>> HB_DBG_VMPARLLIST() -> __DBGVMVARSLIST()
>>>>
>>>> HB_DBG_VMSTKLCOUNT() -> __DBGVMSTKLCOUNT()
>>>>
>>>> Not any more HB_DBG_... func within Harbour sources.
>>>>
>>>> Regards,
>>>>
>>>> JF
>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>>
>>
>> -- 
>> Luis Krause Mantilla
>> lkrausem at shaw dot ca
>> luis_krause at hotmail dot com
>> "May the Source be with GNU"
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>

-- 
Luis Krause Mantilla
lkrausem at shaw dot ca
luis_krause at hotmail dot com
"May the Source be with GNU"


From harbour.01 at syenar.hu  Thu Aug 21 11:42:39 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 21 11:43:17 2008
Subject: [Harbour] Problem with debug.c ... All
	HB_DBG_VM...	func	disapeared !
In-Reply-To: <48AD8B86.6050801@shaw.ca>
References: <20733a84.1c9038a.19430986.11aa@mafact.com>
	<48AD8304.3010206@shaw.ca>
	<14FF01A2-A4DE-45C8-B6EF-3A227CA68C8E@syenar.hu>
	<48AD8B86.6050801@shaw.ca>
Message-ID: <256509DE-F00C-4314-8B3D-FE8C4A21200D@syenar.hu>

Hi Luis,

Okay, it would be great to get an insight in that,
I hope Antonio will tell us some more.

Brgds,
Viktor

On 2008.08.21., at 17:36, Luis Krause Mantilla wrote:

> Viktor:
>
> In the case of FWH, Antonio uses them as wrappers
> to legacy functions from FW 16 bit days to return the
> number of local vars, param count etc at the .c level.
>
> Antonio would have to explain in more detail exactly
> why they're used.
>
> Regards,
>
> Szak?ts Viktor wrote:
>> It would be nice to know why exactly FW or any
>> other 3rd party code need these access such internal
>> stuff. Maybe there is better existing solution to
>> replace them, or if these are indeed essential in
>> some real-world situations, we may want to think of
>> creating some documented and supported alternative
>> solution.
>>
>> Brgds,
>> Viktor
>>
>> On 2008.08.21., at 17:00, Luis Krause Mantilla wrote:
>>
>>> JF:
>>>
>>> I added this to solve references in FW for Harbour (not xHarbour):
>>>
>>> #ifndef __XHARBOUR__
>>> Function HB_DBG_VMSTKLCOUNT(n)
>>> Return __DBGVMSTKLCOUNT(n)
>>>
>>> Function HB_DBG_VMPARLLIST(n)
>>> Return __DBGVMPARLLIST(n)
>>>
>>> Function HB_DBG_VMVARLGET(n1,n2)
>>> Return __DBGVMVARLGET(n1,n2)
>>>
>>> Function HB_DBG_VMVARSLEN()
>>> Return __DBGVMVARSLEN()
>>> #endif
>>>
>>>
>>> And as you mentioned about 3 years ago Ryzard renamed them
>>> from __VM.... to HB_DBG_VM...
>>>
>>> Regards,
>>>
>>> J. Lefebvre wrote:
>>>> Hi Viktor,
>>>>
>>>> Not really a problem for me, only 4 function are used by Antonio  
>>>> from FiveWin and I suppose he will replace them without any  
>>>> problem. In the meantime, I already wrote a wrapper as a  
>>>> workaround. I was just not sure it was the intention.
>>>>
>>>> PS: Good job !
>>>>
>>>> Friendly,
>>>>
>>>> JF,
>>>>
>>>> -----Message d'origine-----
>>>> De : harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
>>>> ] De la part de Szak?ts Viktor
>>>> Envoy? : jeudi 21 ao?t 2008 13:02
>>>> ? : Harbour Project Main Developer List.
>>>> Objet : Re: [Harbour] Problem with debug.c ... All HB_DBG_VM...  
>>>> func disapeared !
>>>>
>>>> Hi JF,
>>>>
>>>> Yes, this was the intention.
>>>>
>>>> I'm not sure what exactly do you mean, but if you
>>>> happen to use these internal functions from your
>>>> code, you can either write some wrappers to them, or
>>>> search/replace them in your code to the new names.
>>>> Or, you can also use the stable Harbour 1.0.0 build,
>>>> until we have this matter stabilized in trunk.
>>>>
>>>> in *.prg/*.ch, case-insensitive search & replace:
>>>> HB_DBG_ -> __DBG. Unfortunately you'll have to
>>>> take care not to touch HB_DBG_* _macros_ (if you
>>>> use them in your code), #defined in hbdebug.ch.
>>>>
>>>> [ The debug interface is an internal one, not a
>>>> public one and it's not suited for normal app
>>>> code, hence the __DBG* name. HB_DBG_* was wrong.
>>>> You can find more if you search for '__DBG', or
>>>> 'INCOMPATIBLE' in /ChangeLog ]
>>>>
>>>> [ If this is a wide-spread problem for Harbour
>>>> users, we can add a file /source/debug/dbgold.c
>>>> with the required wrappers, but I anticipate this
>>>> is unnecessary for the majority of them. ]
>>>>
>>>> [ Also notice, that very old __VM*() functions also
>>>> got removed by this move. ]
>>>>
>>>> Brgds,
>>>> Viktor
>>>>
>>>> On 2008.08.21., at 12:37, J. Lefebvre wrote:
>>>>
>>>>
>>>>> Hi,
>>>>>
>>>>> I just try a compile from a fresh SVN update and discovered  
>>>>> there is  some missed function.
>>>>>
>>>>> They got rename to their initial name 2 years ago ...
>>>>>
>>>>> Ie ;
>>>>>
>>>>> HB_DBG_VMVARSLEN() -> __DBGVMVARSLEN()
>>>>>
>>>>> HB_DBG_VMPARLLIST() -> __DBGVMVARSLIST()
>>>>>
>>>>> HB_DBG_VMSTKLCOUNT() -> __DBGVMSTKLCOUNT()
>>>>>
>>>>> Not any more HB_DBG_... func within Harbour sources.
>>>>>
>>>>> Regards,
>>>>>
>>>>> JF
>>>>>
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Harbour mailing list
>>>>> Harbour@harbour-project.org
>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>>
>>>>
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>>
>>>
>>> -- 
>>> Luis Krause Mantilla
>>> lkrausem at shaw dot ca
>>> luis_krause at hotmail dot com
>>> "May the Source be with GNU"
>>>
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> -- 
> Luis Krause Mantilla
> lkrausem at shaw dot ca
> luis_krause at hotmail dot com
> "May the Source be with GNU"
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From arcadia2 at sbcglobal.net  Thu Aug 21 11:45:52 2008
From: arcadia2 at sbcglobal.net (bill robertson)
Date: Thu Aug 21 11:45:57 2008
Subject: [Harbour] hbmake
References: <CF5C00689F804270A63266A0DAB21B57@billws><4A51A5A3-0190-4BDD-83DB-B8B1779B0FEB@syenar.hu><C9703610CE8947AFBA9B638135088724@billws>
	<C4515887-52BB-476D-A09D-110F2AEE527A@syenar.hu>
Message-ID: <A0FC69FF90A0475EBB58EA3FB24ACB00@billws>

----- Original Message ----- 
From: "Szak?ts Viktor" <harbour.01@syenar.hu>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Thursday, August 21, 2008 11:34 AM
Subject: Re: [Harbour] hbmake


Okay, I've found something, I'll fix it ASAP.

Brgds,
Viktor

Hi Viktor,

That's good because I just downloaded and installed the stable release. 
Unfortunately it has the original error about the renamed files. Trying to 
use the stable release & debugger gives:

Turbo Incremental Link 5.69 Copyright (c) 1997-2005 Borland
Error: Unresolved external '_HB_FUN___DBGENTRY' referenced from 
D:\HARBOUR\SOURC
etc...

From harbour.01 at syenar.hu  Thu Aug 21 12:20:16 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 21 12:20:20 2008
Subject: [Harbour] 2008-08-21 18:06 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c903a9$Blat.v2.6.2$cbd16968$190ccebbff26@127.0.0.1>

2008-08-21 18:06 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * utils/hbdoc/fclass1.prg
   * utils/hbdoc/ffile1.prg
   * utils/hbdoc/ft_funcs.prg
   * utils/hbmake/fclass1.prg
   * utils/hbmake/tmake.prg
   * utils/hbmake/ffile1.prg
   * utils/hbmake/ft_funcs.prg
   * utils/hbmake/pickarry.prg
   * utils/hbmake/pickfile.prg
   * utils/hbmake/hbmutils.prg
   * utils/hbmake/hbmake.prg
     * Cleanups.
     ! Fixed open bug from previous commit (hopefully).

   * common.mak
   * utils/hbmake/Makefile
   * utils/hbmake/bld_b32.bat
   * utils/hbmake/bld_vc.bat
   - utils/hbmake/readline.c
   + utils/hbmake/hbmfrdln.c
   * utils/hbmake/hbmlang.c
   + utils/hbmake/hbmgauge.c
     * readline.c -> hbmfrdln.c
       (made fully identical to /contrib/xhb/freadlin.c)
     * GAUGE*() stuff moved into separate file.
       (separate file is fully identical to /contrib/hbclipsm/gauge.c)
     ! GAUGE*() function copyright restored to original.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Aug 21 12:20:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 21 12:21:03 2008
Subject: [Harbour] hbmake
In-Reply-To: <A0FC69FF90A0475EBB58EA3FB24ACB00@billws>
References: <CF5C00689F804270A63266A0DAB21B57@billws><4A51A5A3-0190-4BDD-83DB-B8B1779B0FEB@syenar.hu><C9703610CE8947AFBA9B638135088724@billws>
	<C4515887-52BB-476D-A09D-110F2AEE527A@syenar.hu>
	<A0FC69FF90A0475EBB58EA3FB24ACB00@billws>
Message-ID: <CF3CD8E5-059D-4758-A081-80FEF89039DF@syenar.hu>

>
Hi Bill,

> That's good because I just downloaded and installed the stable  
> release. Unfortunately it has the original error about the renamed  
> files. Trying to use the stable release & debugger gives:

Yes, hbmake and hbdoc are the "black sheeps" in the
Harbour distro. No one is using them from the core
contributors and no one reported any problems with
them before the release either (this bug was there
since about 6 months), so such may happen :(

Exactly for the above reasons these tools almost
didn't even make it into the final release, and
I just feel more and more compelled to move them to
/contrib/examples/ or /contrib/utils/. They have new
separate make files (bld_*.bat in the local dirs),
so anyone (with BCC or MSVC) can easily build them
now separately.

[ Even hbdoc has most of those file reading problems
that you've mentioned before. Also, hbdoc has a very
difficult time with non-Windows/DOS systems, and
these tools are generally unsupported even in xhb.
hbmake doesn't work if HB_COMPAT_C53 is turned off,
the code quality is below Harbour standard, and so
on and so on. ]

Pls try again with current SVN, if the 'open' crash
disappeared.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Aug 21 12:53:21 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 21 12:53:31 2008
Subject: [Harbour] 2008-08-21 18:52 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c903ae$Blat.v2.6.2$6b745a30$15b4dc45ad86@127.0.0.1>

2008-08-21 18:52 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * common.mak
   * utils/hbdoc/Makefile
   * utils/hbdoc/bld_b32.bat
   * utils/hbdoc/bld_vc.bat
   - utils/hbdoc/fclass1.prg
   - utils/hbdoc/ffile1.prg
   * utils/hbdoc/ft_funcs.prg
   * utils/hbmake/Makefile
   * utils/hbmake/bld_vc.bat
   * utils/hbmake/bld_b32.bat
   - utils/hbmake/fclass1.prg
   - utils/hbmake/ffile1.prg
   * utils/hbmake/ft_funcs.prg
   * utils/hbmake/pickarry.prg
   - utils/hbmake/prb_stak.prg
   - utils/hbmake/pickfile.prg
     % Removed unused modules.
     % Replaced module with simple constructs.
     * Merged file handling classes and functions into 
       one file, for easier syncing.
--
Brgds,
Viktor

From arcadia2 at sbcglobal.net  Thu Aug 21 13:50:06 2008
From: arcadia2 at sbcglobal.net (bill robertson)
Date: Thu Aug 21 13:50:07 2008
Subject: [Harbour] hbmake
References: <CF5C00689F804270A63266A0DAB21B57@billws><4A51A5A3-0190-4BDD-83DB-B8B1779B0FEB@syenar.hu><C9703610CE8947AFBA9B638135088724@billws><C4515887-52BB-476D-A09D-110F2AEE527A@syenar.hu><A0FC69FF90A0475EBB58EA3FB24ACB00@billws>
	<CF3CD8E5-059D-4758-A081-80FEF89039DF@syenar.hu>
Message-ID: <AB553226FE5C48DC9FBC684A1C9A1F79@billws>

Hi Viktor

> Pls try again with current SVN, if the 'open' crash
> disappeared.
>

Yes, the 'open' crash disappeard. Thanks!

>
> Yes, hbmake and hbdoc are the "black sheeps" in the
> Harbour distro. No one is using them from the core
> contributors and no one reported any problems with
> them before the release either (this bug was there
> since about 6 months), so such may happen :(
>
There are other bugs that have been in them from the inception.

> Exactly for the above reasons these tools almost
> didn't even make it into the final release, and
> I just feel more and more compelled to move them to
> /contrib/examples/ or /contrib/utils/. They have new
> separate make files (bld_*.bat in the local dirs),
> so anyone (with BCC or MSVC) can easily build them
> now separately.
>
I don't know of anyone that's actively using them. I use hbmake because it's 
so easy. I doubt it would work on any system other than DOS/Windows.

> [ Even hbdoc has most of those file reading problems
> that you've mentioned before. Also, hbdoc has a very
> difficult time with non-Windows/DOS systems, and
> these tools are generally unsupported even in xhb.
> hbmake doesn't work if HB_COMPAT_C53 is turned off,
> the code quality is below Harbour standard, and so
> on and so on. ]
>
Yes, in fact in December 2007 when you suggested that I fix hbdoc, I did 
rewite all the modules in the order they were listed by invoking hbdoc 
without parameters down to the -htm -ht2 parameters. I discovered that MS 
never released the (new doc) format for the -ht2 parameter.

However, I discovered a flaw in xHarbour's hb_fReadLine() function and 
reported it. I waited several weeks but they never fixed it. It's still 
present in the freadline() that Harbour uses that was borrowed from 
xHarbour. In fact, it's the exact same error I discussed with you about the 
file functions you just fixed so hbmake will work. The error is still in 
these functions as well.

In reading text lines, these functions only get the first line correct for 
Microsoft OSes which have CRLF ending. The functions will eat the CR leaving 
the LF as the first character of all suceeding lines. Only the first line is 
correct. I just wrote a small program to insure nothing has changed. In 
xHarbours favor is that the error only happens if you use an array of line 
ending terminators that have proper subsets of array elements that aren't 
unique. Still errors are errors and I can't use the routine on many 
conversion projects because of this error. The program and output is below:

// Program to check hb_freadLine() with array of EOLs with common elements
function main()
LOCAL cLine, nHandle:= fOpen( "fread.prg" )
LOCAL c1stChar

IF nHandle < 1
  Alert("Couldn't open input file: fread.prg" )
  RETURN -1
ENDIF

Clear Screen
? "1st Char of line in Hex and the rest of the Line"
WHILE hb_freadline( nHandle, @cLine, { Chr(13)+Chr(10), Chr(13) } ) == 0
  c1stChar:= HB_NumToHex( Asc( Left( cLine, 1 ) ) )
  ? c1stChar, SubStr(cLine, 2 )
END WHILE

RETURN 0

-----------------------------------------------
Program Output
1st Char of line in Hex and the rest of the Line
66 unction main()
A LOCAL cLine, nHandle:= fOpen( "fread.prg" )
A LOCAL c1stChar
A
A IF nHandle < 1
A   Alert("Couldn't open input file: fread.prg" )
A   RETURN -1
A ENDIF
A
A Clear Screen
A ? "1st Char of line in Hex and the rest of the Line"
A WHILE hb_freadline( nHandle, @cLine, { Chr(13)+Chr(10), Chr(13) } ) == 0
A   c1stChar:= HB_NumToHex( Asc( Left( cLine, 1 ) ) )
A   ? c1stChar, SubStr(cLine, 2 )
A END WHILE
A
A RETURN 0
C:\Source\fRead>

The 1st line has '66 unction main()' which is correct for the first line 
since 0x66 is 'f' this would make the first line function main(). All the 
other lines have hex A which is the LF left over from the CRLF. Instead of 
taking the longest EOL, freadline() takes the shortest EOL.

After this I gave up on sending you the hbdoc that I had fixed. Why have two 
different ways of getting the same problem? 

From harbour.01 at syenar.hu  Thu Aug 21 14:11:45 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 21 14:12:02 2008
Subject: [Harbour] hbmake
In-Reply-To: <AB553226FE5C48DC9FBC684A1C9A1F79@billws>
References: <CF5C00689F804270A63266A0DAB21B57@billws><4A51A5A3-0190-4BDD-83DB-B8B1779B0FEB@syenar.hu><C9703610CE8947AFBA9B638135088724@billws><C4515887-52BB-476D-A09D-110F2AEE527A@syenar.hu><A0FC69FF90A0475EBB58EA3FB24ACB00@billws>
	<CF3CD8E5-059D-4758-A081-80FEF89039DF@syenar.hu>
	<AB553226FE5C48DC9FBC684A1C9A1F79@billws>
Message-ID: <0DE74767-5836-4B39-B5FC-2B260649E0B5@syenar.hu>

Hi Bill,

Can you send me a patch for the current version
of hbmake, with your fixes?

BTW, just one technical note about FREADLINEs:
- hbdoc uses a .prg level one in ft_funcs.prg called FREADLINE()
- hbmake uses a .c level one in hbmfrdln.c called HB_FREADLINE()
   (this one is excatly identical with the one in xhb.lib, which
   is in turn probably exactly identical with the xhb version.)

While it would be nice to have a properly working generic
line reader in core, until that happens we (you :) can patch
these local implementation in any means just to make
them work for these tools.

I can also add the .c version HB_FREADLINE() (xhb style) to
hbdoc, so that we can apply the same patch for both tools.

Brgds,
Viktor

On 2008.08.21., at 19:50, bill robertson wrote:

> Hi Viktor
>
>> Pls try again with current SVN, if the 'open' crash
>> disappeared.
>>
>
> Yes, the 'open' crash disappeard. Thanks!
>
>>
>> Yes, hbmake and hbdoc are the "black sheeps" in the
>> Harbour distro. No one is using them from the core
>> contributors and no one reported any problems with
>> them before the release either (this bug was there
>> since about 6 months), so such may happen :(
>>
> There are other bugs that have been in them from the inception.
>
>> Exactly for the above reasons these tools almost
>> didn't even make it into the final release, and
>> I just feel more and more compelled to move them to
>> /contrib/examples/ or /contrib/utils/. They have new
>> separate make files (bld_*.bat in the local dirs),
>> so anyone (with BCC or MSVC) can easily build them
>> now separately.
>>
> I don't know of anyone that's actively using them. I use hbmake  
> because it's so easy. I doubt it would work on any system other than  
> DOS/Windows.
>
>> [ Even hbdoc has most of those file reading problems
>> that you've mentioned before. Also, hbdoc has a very
>> difficult time with non-Windows/DOS systems, and
>> these tools are generally unsupported even in xhb.
>> hbmake doesn't work if HB_COMPAT_C53 is turned off,
>> the code quality is below Harbour standard, and so
>> on and so on. ]
>>
> Yes, in fact in December 2007 when you suggested that I fix hbdoc, I  
> did rewite all the modules in the order they were listed by invoking  
> hbdoc without parameters down to the -htm -ht2 parameters. I  
> discovered that MS never released the (new doc) format for the -ht2  
> parameter.
>
> However, I discovered a flaw in xHarbour's hb_fReadLine() function  
> and reported it. I waited several weeks but they never fixed it.  
> It's still present in the freadline() that Harbour uses that was  
> borrowed from xHarbour. In fact, it's the exact same error I  
> discussed with you about the file functions you just fixed so hbmake  
> will work. The error is still in these functions as well.
>
> In reading text lines, these functions only get the first line  
> correct for Microsoft OSes which have CRLF ending. The functions  
> will eat the CR leaving the LF as the first character of all  
> suceeding lines. Only the first line is correct. I just wrote a  
> small program to insure nothing has changed. In xHarbours favor is  
> that the error only happens if you use an array of line ending  
> terminators that have proper subsets of array elements that aren't  
> unique. Still errors are errors and I can't use the routine on many  
> conversion projects because of this error. The program and output is  
> below:
>
> // Program to check hb_freadLine() with array of EOLs with common  
> elements
> function main()
> LOCAL cLine, nHandle:= fOpen( "fread.prg" )
> LOCAL c1stChar
>
> IF nHandle < 1
> Alert("Couldn't open input file: fread.prg" )
> RETURN -1
> ENDIF
>
> Clear Screen
> ? "1st Char of line in Hex and the rest of the Line"
> WHILE hb_freadline( nHandle, @cLine, { Chr(13)+Chr(10), Chr(13) } )  
> == 0
> c1stChar:= HB_NumToHex( Asc( Left( cLine, 1 ) ) )
> ? c1stChar, SubStr(cLine, 2 )
> END WHILE
>
> RETURN 0
>
> -----------------------------------------------
> Program Output
> 1st Char of line in Hex and the rest of the Line
> 66 unction main()
> A LOCAL cLine, nHandle:= fOpen( "fread.prg" )
> A LOCAL c1stChar
> A
> A IF nHandle < 1
> A   Alert("Couldn't open input file: fread.prg" )
> A   RETURN -1
> A ENDIF
> A
> A Clear Screen
> A ? "1st Char of line in Hex and the rest of the Line"
> A WHILE hb_freadline( nHandle, @cLine, { Chr(13)+Chr(10),  
> Chr(13) } ) == 0
> A   c1stChar:= HB_NumToHex( Asc( Left( cLine, 1 ) ) )
> A   ? c1stChar, SubStr(cLine, 2 )
> A END WHILE
> A
> A RETURN 0
> C:\Source\fRead>
>
> The 1st line has '66 unction main()' which is correct for the first  
> line since 0x66 is 'f' this would make the first line function  
> main(). All the other lines have hex A which is the LF left over  
> from the CRLF. Instead of taking the longest EOL, freadline() takes  
> the shortest EOL.
>
> After this I gave up on sending you the hbdoc that I had fixed. Why  
> have two different ways of getting the same problem?
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From arcadia2 at sbcglobal.net  Thu Aug 21 16:05:56 2008
From: arcadia2 at sbcglobal.net (bill robertson)
Date: Thu Aug 21 16:05:58 2008
Subject: [Harbour] hbmake
References: <CF5C00689F804270A63266A0DAB21B57@billws><4A51A5A3-0190-4BDD-83DB-B8B1779B0FEB@syenar.hu><C9703610CE8947AFBA9B638135088724@billws><C4515887-52BB-476D-A09D-110F2AEE527A@syenar.hu><A0FC69FF90A0475EBB58EA3FB24ACB00@billws><CF3CD8E5-059D-4758-A081-80FEF89039DF@syenar.hu><AB553226FE5C48DC9FBC684A1C9A1F79@billws>
	<0DE74767-5836-4B39-B5FC-2B260649E0B5@syenar.hu>
Message-ID: <FB38A3A5F67E49B492AC52C64269EFC3@billws>

----- Original Message ----- 
From: "Szak?ts Viktor" <harbour.01@syenar.hu>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Thursday, August 21, 2008 2:11 PM
Subject: Re: [Harbour] hbmake


> Hi Bill,
>
> Can you send me a patch for the current version
> of hbmake, with your fixes?
>
Hi Viktor,

I never patched hbmake, only hbdoc and the fixes for hbdoc were for 
DOS/Windows only tools which are fairly limited in scope. I was hoping that 
someone would have answered your request in Dec for input about using a more 
modern documentor such as robodoc or natural doc.

I thought about adding a module to hbdoc to produce robodoc files. However, 
when I looked at the document files, their format and quality was 
inconsistent. Some of the better docs didn't have any of the tags that hbdoc 
used. For example, none of the text files in \harbour\doc\ have the $tag$ 
format and they contain quite useful information. Most, but not all, of the 
text files in the en/ and es/ directories have $tag$ formats. To a lesser 
extent, the same is true of the .prg and .c files.

Some of the files have no more than the following information. This isn't in 
the standard hbdoc format and while my changes handled this OK; it's of very 
limited use.
 * $Doc$
 * $Description$  Debug function tests.
 *                Based on classes.prg
 * $Requirement$  source\tools\stringp.prg
 *                source\rtl\objfunc.prg
 *                source\rtl\asort.prg
 * $End$

Because of these little problems, I loaded the windows version of the groff 
document processing packages and looked at the old macros I used to use with 
UNIX System V. Those macros (man, me, ms, mm) seem pretty dated to me now. 
Even the new mom macro didn't seem to produce much improvement without a lot 
of effort. No wonder xHarbour had such a cost overrun with their manual 
produced by Dr. Ziegler.

As it stands, your idea of moving hbdoc and hbmake out of the main stream 
may be best. I might be able to make some small improvements in hbdoc and 
hbmake, but I'm quite novice compared to the harbour developers. 

From jfl at mafact.com  Thu Aug 21 16:48:00 2008
From: jfl at mafact.com (J. Lefebvre)
Date: Thu Aug 21 16:49:06 2008
Subject: [Harbour] 2008-08-21 18:52 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c903ae$Blat.v2.6.2$6b745a30$15b4dc45ad86@127.0.0.1>
Message-ID: <4fd70518.1c903cf.1b0872e3.7fff@mafact.com>

Hi Viktor,

Did you touch debuger.prg ?

Here is what I receive doing a full new compile with the very last svn sources ;

source\debug\debugger.prg(411) Warning W0001  Ambiguous reference: 'GTI_GETWIN'
source\debug\debugger.prg(415) Warning W0001  Ambiguous reference: 'GTI_GETWIN'
source\debug\debugger.prg(417) Warning W0001  Ambiguous reference: 'GTI_SETWIN'
source\debug\debugger.prg(428) Warning W0001  Ambiguous reference: 'GTI_GETWIN'
source\debug\debugger.prg(429) Warning W0001  Ambiguous reference: 'GTI_SETWIN'

JF,

From harbour.01 at syenar.hu  Fri Aug 22 02:53:04 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 22 02:53:18 2008
Subject: [Harbour] 2008-08-22 08:20 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90423$Blat.v2.6.2$ba14d064$19209b668608@127.0.0.1>

2008-08-22 08:20 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * common.mak
   * make_b32.mak
   * make_gcc.mak
   * make_vc.mak
   * make_vcce.mak
   * utils/hbdoc/Makefile
   * utils/hbdoc/bld_b32.bat
   * utils/hbdoc/bld_vc.bat
   * utils/hbdoc/hbdoc.prg
   * utils/hbmake/Makefile
   * utils/hbmake/bld_b32.bat
   * utils/hbmake/bld_vc.bat
   * utils/hbmake/hbmake.prg
     % Reduced executable size of hbmake and hbdoc
       (by 20%) by excluding unused libs and RDD stuff.
     % Optimized local non-GNU make files to work 
       faster and generate faster executables.

   * utils/hbdoc/hbdocdef.ch
     % Removed unused macro.
     * minor formatting.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Aug 22 03:35:08 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 22 03:35:16 2008
Subject: [Harbour] 2008-08-22 09:32 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90429$Blat.v2.6.2$9a5ce31e$1f4c7aa6d18c@127.0.0.1>

2008-08-22 09:32 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * common.mak
   * source/vm/debug.c
   * source/vm/hvm.c
   * source/vm/Makefile
   + source/vm/debugold.c
     + Added some HB_DBG_*() functions for compatibility 
       with certain 3rd party libs. They are marked with 
       HB_LEGACY_LEVEL, and will be removed (pbly at 1.1.0), 
       so everyone is encouraged to use __DBG*() version 
       for Harbour versions above 0x010000 (or not use 
       them at all, if this is possible). If these functions 
       are indeed needed for some functionality, it'd be 
       good to hear about it, maybe there is a solution 
       which doesn't require internals.

   * utils/hbdoc/ft_funcs.prg
   * utils/hbmake/ft_funcs.prg
     * Using FS_* manifest constants.
--
Brgds,
Viktor

From jfl at mafact.com  Fri Aug 22 04:16:00 2008
From: jfl at mafact.com (J. Lefebvre)
Date: Fri Aug 22 04:16:36 2008
Subject: [Harbour] 2008-08-22 09:32 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c90429$Blat.v2.6.2$9a5ce31e$1f4c7aa6d18c@127.0.0.1>
Message-ID: <536f89c4.1c9042f.42e9e2.7230@mafact.com>

Hi Viktor,

I just changed (but not yet committed) debugger.prg to use HB_GTI_GETWIN & HB_GTI_SETWIN in place of their preview GTI_... version from hbgtinfo.h.

But now here is what I received...


hbnulrdd.lib(nulsys.obj) : error LNK2005: _HB_FUN_RDDSYS already defined in hbdoc.obj
bin\vc\hbdoc.exe : fatal error LNK1169: one or more multiply defined symbols found

Regards,

PS: do I commit the new debugger.prg or do you prefer to continue with cleaning from your side ?

JF

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Szak?ts Viktor
Envoy??: vendredi 22 ao?t 2008 9:35
??: harbour@harbour-project.org
Objet?: [Harbour] 2008-08-22 09:32 UTC+0200 Viktor Szakats (harbour.01 syenar hu)

2008-08-22 09:32 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * common.mak
   * source/vm/debug.c
   * source/vm/hvm.c
   * source/vm/Makefile
   + source/vm/debugold.c
     + Added some HB_DBG_*() functions for compatibility 
       with certain 3rd party libs. They are marked with 
       HB_LEGACY_LEVEL, and will be removed (pbly at 1.1.0), 
       so everyone is encouraged to use __DBG*() version 
       for Harbour versions above 0x010000 (or not use 
       them at all, if this is possible). If these functions 
       are indeed needed for some functionality, it'd be 
       good to hear about it, maybe there is a solution 
       which doesn't require internals.

   * utils/hbdoc/ft_funcs.prg
   * utils/hbmake/ft_funcs.prg
     * Using FS_* manifest constants.
--
Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Aug 22 04:24:50 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 22 04:24:59 2008
Subject: [Harbour] hbmake
In-Reply-To: <FB38A3A5F67E49B492AC52C64269EFC3@billws>
References: <CF5C00689F804270A63266A0DAB21B57@billws><4A51A5A3-0190-4BDD-83DB-B8B1779B0FEB@syenar.hu><C9703610CE8947AFBA9B638135088724@billws><C4515887-52BB-476D-A09D-110F2AEE527A@syenar.hu><A0FC69FF90A0475EBB58EA3FB24ACB00@billws><CF3CD8E5-059D-4758-A081-80FEF89039DF@syenar.hu><AB553226FE5C48DC9FBC684A1C9A1F79@billws>
	<0DE74767-5836-4B39-B5FC-2B260649E0B5@syenar.hu>
	<FB38A3A5F67E49B492AC52C64269EFC3@billws>
Message-ID: <F922A4BA-273C-43D0-97C6-970C40ECAFCE@syenar.hu>

>>
Hi Bill,

>> Can you send me a patch for the current version
>> of hbmake, with your fixes?
>>
> I never patched hbmake, only hbdoc and the fixes for hbdoc were for  
> DOS/Windows only tools which are fairly limited in scope. I was  
> hoping that someone would have answered your request in Dec for  
> input about using a more modern documentor such as robodoc or  
> natural doc.

I think the problem is not with the principal, but
rather with the fact that such move needs serious
conversion (and more) work to kick off and realize
in practice.

We can choose the best tools, but unless someone is
willing to contribute efforts into it, it's nothing
more than words.

> I thought about adding a module to hbdoc to produce robodoc files.  
> However, when I looked at the document files, their format and  
> quality was inconsistent. Some of the better docs didn't have any of  
> the tags that hbdoc used. For example, none of the text files in  
> \harbour\doc\ have the $tag$ format and they contain quite useful  
> information. Most, but not all, of the text files in the en/ and es/  
> directories have $tag$ formats. To a lesser extent, the same is true  
> of the .prg and .c files.

Conversion to robodoc would be very nice. Even if it's
not perfect, it would be great. Later we can jump
into making the perfect, but currently the format is a
limiting factor IMO. Also, probably the most kind of
errors are typical and reoccurring, so maybe they could
be corrected (on a basic level), by the converter tool.

> Some of the files have no more than the following information. This  
> isn't in the standard hbdoc format and while my changes handled this  
> OK; it's of very limited use.
> * $Doc$
> * $Description$  Debug function tests.
> *                Based on classes.prg
> * $Requirement$  source\tools\stringp.prg
> *                source\rtl\objfunc.prg
> *                source\rtl\asort.prg
> * $End$
>
> Because of these little problems, I loaded the windows version of  
> the groff document processing packages and looked at the old macros  
> I used to use with UNIX System V. Those macros (man, me, ms, mm)  
> seem pretty dated to me now. Even the new mom macro didn't seem to  
> produce much improvement without a lot of effort. No wonder xHarbour  
> had such a cost overrun with their manual produced by Dr. Ziegler.

Yes, it's very nice docs.

If free (including updates) is important, someone
will have to contribute for another doc.

> As it stands, your idea of moving hbdoc and hbmake out of the main  
> stream may be best. I might be able to make some small improvements  
> in hbdoc and hbmake, but I'm quite novice compared to the harbour  
> developers.

Don't underestimate your capabilities to volunteer.
hbmake / hbdoc are pretty much abandoned parts, so
even your smallest contribution is a valuable addition
to keep them alive and working.

Or robodoc conversion.. it would be great.

Brgds,
Viktor

From jfl at mafact.com  Fri Aug 22 05:01:00 2008
From: jfl at mafact.com (J. Lefebvre)
Date: Fri Aug 22 05:02:10 2008
Subject: [Harbour] 2008-08-22 09:32 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <536f89c4.1c9042f.42e9e2.7230@mafact.com>
Message-ID: <b6510c74.1c90435.6cc43d.440b@mafact.com>

Hi Viktor,

Ok, found.

Either hbdoc.prg as hbmake.prg had the line ;
ANNOUNCE RDDSYS

Normaly, using nulrdd we shoud remove this line.

Do you do it or do I it by myself, including debugger.prg correction ?

Regards,

JF, 

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de J. Lefebvre
Envoy??: vendredi 22 ao?t 2008 10:16
??: 'harbour.01@syenar.hu'; 'Harbour Project Main Developer List.'
Objet?: RE: [Harbour] 2008-08-22 09:32 UTC+0200 Viktor Szakats (harbour.01 syenar hu)

Hi Viktor,

I just changed (but not yet committed) debugger.prg to use HB_GTI_GETWIN & HB_GTI_SETWIN in place of their preview GTI_... version from hbgtinfo.h.

But now here is what I received...


hbnulrdd.lib(nulsys.obj) : error LNK2005: _HB_FUN_RDDSYS already defined in hbdoc.obj
bin\vc\hbdoc.exe : fatal error LNK1169: one or more multiply defined symbols found

Regards,

PS: do I commit the new debugger.prg or do you prefer to continue with cleaning from your side ?

JF

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Szak?ts Viktor
Envoy??: vendredi 22 ao?t 2008 9:35
??: harbour@harbour-project.org
Objet?: [Harbour] 2008-08-22 09:32 UTC+0200 Viktor Szakats (harbour.01 syenar hu)

2008-08-22 09:32 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * common.mak
   * source/vm/debug.c
   * source/vm/hvm.c
   * source/vm/Makefile
   + source/vm/debugold.c
     + Added some HB_DBG_*() functions for compatibility 
       with certain 3rd party libs. They are marked with 
       HB_LEGACY_LEVEL, and will be removed (pbly at 1.1.0), 
       so everyone is encouraged to use __DBG*() version 
       for Harbour versions above 0x010000 (or not use 
       them at all, if this is possible). If these functions 
       are indeed needed for some functionality, it'd be 
       good to hear about it, maybe there is a solution 
       which doesn't require internals.

   * utils/hbdoc/ft_funcs.prg
   * utils/hbmake/ft_funcs.prg
     * Using FS_* manifest constants.
--
Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Aug 22 05:15:06 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 22 05:15:22 2008
Subject: [Harbour] 2008-08-22 09:32 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <b6510c74.1c90435.6cc43d.440b@mafact.com>
References: <b6510c74.1c90435.6cc43d.440b@mafact.com>
Message-ID: <E1B4455E-AC4A-42E7-B688-3FE24D7B603B@syenar.hu>

Hi JF,

[ messages are lagging ]

> Either hbdoc.prg as hbmake.prg had the line ;
> ANNOUNCE RDDSYS
>
> Normaly, using nulrdd we shoud remove this line.

Yes, I didn't know. And BCC didn't complain.

> Do you do it or do I it by myself, including debugger.prg correction ?

Please do it, and thanks a bunch.

[ I don't understand yet, why GTI_* stopped working in debugger.prg,
the intention is to let these work, and they do in my small local
tests (after full BCC55 rebuild). Anyhow, updating them to HB_GTI_* is
the way to go. ]

Brgds,
Viktor

>
>
> Regards,
>
> JF,
>
> -----Message d'origine-----
> De : harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] De la part de J. Lefebvre
> Envoy? : vendredi 22 ao?t 2008 10:16
> ? : 'harbour.01@syenar.hu'; 'Harbour Project Main Developer List.'
> Objet : RE: [Harbour] 2008-08-22 09:32 UTC+0200 Viktor Szakats  
> (harbour.01 syenar hu)
>
> Hi Viktor,
>
> I just changed (but not yet committed) debugger.prg to use  
> HB_GTI_GETWIN & HB_GTI_SETWIN in place of their preview GTI_...  
> version from hbgtinfo.h.
>
> But now here is what I received...
>
>
> hbnulrdd.lib(nulsys.obj) : error LNK2005: _HB_FUN_RDDSYS already  
> defined in hbdoc.obj
> bin\vc\hbdoc.exe : fatal error LNK1169: one or more multiply defined  
> symbols found
>
> Regards,
>
> PS: do I commit the new debugger.prg or do you prefer to continue  
> with cleaning from your side ?
>
> JF
>
> -----Message d'origine-----
> De : harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] De la part de Szak?ts Viktor
> Envoy? : vendredi 22 ao?t 2008 9:35
> ? : harbour@harbour-project.org
> Objet : [Harbour] 2008-08-22 09:32 UTC+0200 Viktor Szakats (harbour. 
> 01 syenar hu)
>
> 2008-08-22 09:32 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>   * common.mak
>   * source/vm/debug.c
>   * source/vm/hvm.c
>   * source/vm/Makefile
>   + source/vm/debugold.c
>     + Added some HB_DBG_*() functions for compatibility
>       with certain 3rd party libs. They are marked with
>       HB_LEGACY_LEVEL, and will be removed (pbly at 1.1.0),
>       so everyone is encouraged to use __DBG*() version
>       for Harbour versions above 0x010000 (or not use
>       them at all, if this is possible). If these functions
>       are indeed needed for some functionality, it'd be
>       good to hear about it, maybe there is a solution
>       which doesn't require internals.
>
>   * utils/hbdoc/ft_funcs.prg
>   * utils/hbmake/ft_funcs.prg
>     * Using FS_* manifest constants.
> --
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From jfl at mafact.com  Fri Aug 22 05:17:00 2008
From: jfl at mafact.com (J. Lefebvre)
Date: Fri Aug 22 05:17:59 2008
Subject: [Harbour] 2008-08-22 09:32 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <E1B4455E-AC4A-42E7-B688-3FE24D7B603B@syenar.hu>
Message-ID: <ec13912c.1c90437.7b4000.3a10@mafact.com>

Ok, I'll do it asap.

Regards,

JF,

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Szak?ts Viktor
Envoy??: vendredi 22 ao?t 2008 11:15
??: Harbour Project Main Developer List.
Objet?: Re: [Harbour] 2008-08-22 09:32 UTC+0200 Viktor Szakats (harbour.01 syenar hu)

Hi JF,

[ messages are lagging ]

> Either hbdoc.prg as hbmake.prg had the line ;
> ANNOUNCE RDDSYS
>
> Normaly, using nulrdd we shoud remove this line.

Yes, I didn't know. And BCC didn't complain.

> Do you do it or do I it by myself, including debugger.prg correction ?

Please do it, and thanks a bunch.

[ I don't understand yet, why GTI_* stopped working in debugger.prg,
the intention is to let these work, and they do in my small local
tests (after full BCC55 rebuild). Anyhow, updating them to HB_GTI_* is
the way to go. ]

Brgds,
Viktor

>
>
> Regards,
>
> JF,
>
> -----Message d'origine-----
> De : harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] De la part de J. Lefebvre
> Envoy? : vendredi 22 ao?t 2008 10:16
> ? : 'harbour.01@syenar.hu'; 'Harbour Project Main Developer List.'
> Objet : RE: [Harbour] 2008-08-22 09:32 UTC+0200 Viktor Szakats  
> (harbour.01 syenar hu)
>
> Hi Viktor,
>
> I just changed (but not yet committed) debugger.prg to use  
> HB_GTI_GETWIN & HB_GTI_SETWIN in place of their preview GTI_...  
> version from hbgtinfo.h.
>
> But now here is what I received...
>
>
> hbnulrdd.lib(nulsys.obj) : error LNK2005: _HB_FUN_RDDSYS already  
> defined in hbdoc.obj
> bin\vc\hbdoc.exe : fatal error LNK1169: one or more multiply defined  
> symbols found
>
> Regards,
>
> PS: do I commit the new debugger.prg or do you prefer to continue  
> with cleaning from your side ?
>
> JF
>
> -----Message d'origine-----
> De : harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] De la part de Szak?ts Viktor
> Envoy? : vendredi 22 ao?t 2008 9:35
> ? : harbour@harbour-project.org
> Objet : [Harbour] 2008-08-22 09:32 UTC+0200 Viktor Szakats (harbour. 
> 01 syenar hu)
>
> 2008-08-22 09:32 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>   * common.mak
>   * source/vm/debug.c
>   * source/vm/hvm.c
>   * source/vm/Makefile
>   + source/vm/debugold.c
>     + Added some HB_DBG_*() functions for compatibility
>       with certain 3rd party libs. They are marked with
>       HB_LEGACY_LEVEL, and will be removed (pbly at 1.1.0),
>       so everyone is encouraged to use __DBG*() version
>       for Harbour versions above 0x010000 (or not use
>       them at all, if this is possible). If these functions
>       are indeed needed for some functionality, it'd be
>       good to hear about it, maybe there is a solution
>       which doesn't require internals.
>
>   * utils/hbdoc/ft_funcs.prg
>   * utils/hbmake/ft_funcs.prg
>     * Using FS_* manifest constants.
> --
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From jfl at mafact.com  Fri Aug 22 05:25:00 2008
From: jfl at mafact.com (J. Lefebvre)
Date: Fri Aug 22 05:25:51 2008
Subject: [Harbour] 2008-08-22 11:20 UTC+0100 JF Lefebvre (MAFACT) (jfl at
	mafact dot com)
In-Reply-To: <E1B4455E-AC4A-42E7-B688-3FE24D7B603B@syenar.hu>
Message-ID: <75dbb00.1c90439.828091.4c7f@mafact.com>

   * utils/hbdoc/hbdoc.prg 
   * utils/hbmake/Makefile
   * utils/hbmake/hbmake.prg
     % removing 'ANNOUNCE RDDSYS', not anymore needed
       causing some problem with msvc linking.
   * debug/debugger.prg 
     % changing all GTI_ by HB_GTI_

From harbour.01 at syenar.hu  Fri Aug 22 05:31:55 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 22 05:31:59 2008
Subject: [Harbour] 2008-08-22 11:30 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90439$Blat.v2.6.2$eab616fe$1abc397529cc@127.0.0.1>

2008-08-22 11:30 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtalleg/gtalleg.c
     * GFX_* -> HB_GFX_*
     ; (untested)
--
Brgds,
Viktor

From jfl at mafact.com  Fri Aug 22 05:38:00 2008
From: jfl at mafact.com (J. Lefebvre)
Date: Fri Aug 22 05:39:15 2008
Subject: [Harbour] 2008-08-22 11:30 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c90439$Blat.v2.6.2$eab616fe$1abc397529cc@127.0.0.1>
Message-ID: <df446cac.1c9043a.8e9538.6909@mafact.com>

Compile with msvc 6 without complaining ;-)

JF,

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Szak?ts Viktor
Envoy??: vendredi 22 ao?t 2008 11:32
??: harbour@harbour-project.org
Objet?: [Harbour] 2008-08-22 11:30 UTC+0200 Viktor Szakats (harbour.01 syenar hu)

2008-08-22 11:30 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtalleg/gtalleg.c
     * GFX_* -> HB_GFX_*
     ; (untested)
--
Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Aug 22 07:52:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 22 07:53:10 2008
Subject: [Harbour] Moving externally dependent GTs
Message-ID: <EC99FAF0-B8FF-414D-97FE-690944C3AA02@syenar.hu>

Hi all,

I've noticed so far I've never ever compiled or
dealt with 'gtalleg', simply because it fall out
of the mainstream build infrastructure pbly because
of it's external dependency.

Since we now have a pretty good infrastructure in
the contrib area, to detect and deal with 3rd party
lib requirements, I'd like to propose to move
externally dependent GTs to the contrib area
(next to gtwvg), so that we can use the same
mainstream methods for them too.

In practice this would mean that some existing
power could be unleashed for builders/systems,
not yet easily accessible so far, and it would
also make the make files, docs and general layout
of Harbour a bit more clear, since core would no
longer depend on any non-default OS parts.

Also, this doesn't mean that these GTs would become
second class citizens at all, first of all because
these are perfectly good parts of Harbour, secondly
because our contrib area is more and more comparable
to core in terms of quality or developer attention.

These GTs would be involved in this move:
- gtalleg
- gtcrs
- gtsln
- gtxwc

Locally, by moving gtalleg to contrib, and creating
a few standard makefiles, I could finally built it
on Windows/BCC55.

Opinions?

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Aug 22 08:57:12 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 22 08:57:14 2008
Subject: [Harbour] 2008-08-22 14:56 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90456$Blat.v2.6.2$98705bee$1650927b33e6@127.0.0.1>

2008-08-22 14:56 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtalleg/ssf.h
     ! Fixed to compile with BCC.

   * source/rtl/gtalleg/Makefile
     ! Missing SVN header.
     % Removed obsolete HB_MULTI_GT #define.

   * source/rtl/gtalleg/gtalleg.c
   * utils/hbmake/hbmake.prg
     ! Typos.
--
Brgds,
Viktor

From jfl at mafact.com  Fri Aug 22 09:38:00 2008
From: jfl at mafact.com (J. Lefebvre)
Date: Fri Aug 22 09:38:46 2008
Subject: [Harbour] Moving externally dependent GTs
In-Reply-To: <EC99FAF0-B8FF-414D-97FE-690944C3AA02@syenar.hu>
Message-ID: <5a8bab98.1c9045c.16a01f3.64bb@mafact.com>

No problem for me.



-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Szak?ts Viktor
Envoy??: vendredi 22 ao?t 2008 13:53
??: Harbour Project Main Developer List.
Objet?: [Harbour] Moving externally dependent GTs

Hi all,

I've noticed so far I've never ever compiled or
dealt with 'gtalleg', simply because it fall out
of the mainstream build infrastructure pbly because
of it's external dependency.

Since we now have a pretty good infrastructure in
the contrib area, to detect and deal with 3rd party
lib requirements, I'd like to propose to move
externally dependent GTs to the contrib area
(next to gtwvg), so that we can use the same
mainstream methods for them too.

In practice this would mean that some existing
power could be unleashed for builders/systems,
not yet easily accessible so far, and it would
also make the make files, docs and general layout
of Harbour a bit more clear, since core would no
longer depend on any non-default OS parts.

Also, this doesn't mean that these GTs would become
second class citizens at all, first of all because
these are perfectly good parts of Harbour, secondly
because our contrib area is more and more comparable
to core in terms of quality or developer attention.

These GTs would be involved in this move:
- gtalleg
- gtcrs
- gtsln
- gtxwc

Locally, by moving gtalleg to contrib, and creating
a few standard makefiles, I could finally built it
on Windows/BCC55.

Opinions?

Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Aug 22 11:05:06 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 22 11:05:18 2008
Subject: [Harbour] 2008-08-22 17:03 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90468$Blat.v2.6.2$767b103a$26242fc05c98@127.0.0.1>

2008-08-22 17:03 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/make_gcc_all.sh
     + Added darwin autodetection.

   * contrib/Makefile
     + Added HB_CONTRIB_ADDONS envvar which enables building 
       local custom contribs stored in the contrib dir.
       A separate dir may be better, but we will see.

   * utils/hbtest/hbtest.prg
     * Changed test .dbf filename casing to lowercase.

   + tests/rddtest
   + tests/rddtest/rddmktst.prg
   + tests/rddtest/adscl52.prg
   + tests/rddtest/adscl53.prg
   + tests/rddtest/ntxcl52.prg
   + tests/rddtest/ntxcl53.prg
   + tests/rddtest/cdxcl52.prg
   + tests/rddtest/rddtst.prg
   + tests/rddtest/make_c52.bat
   + tests/rddtest/cdxcl53.prg
   + tests/rddtest/make_c53.bat
     + Added RDD tests from xhb.
--
Brgds,
Viktor

From arcadia2 at sbcglobal.net  Fri Aug 22 12:06:06 2008
From: arcadia2 at sbcglobal.net (bill robertson)
Date: Fri Aug 22 12:06:09 2008
Subject: [Harbour] Typo in /harbour/utilt/hbtest/rt_math.prg
Message-ID: <85EF86E6AB164F008CD12ACD0B1C03DD@billws>

Hi all,

Line 359 in /harbour/util/hbtest/rt_math.prg is:

   TEST_LINE( Str(1234567890 * 1234567890 )   , " 1524157875019052000"         ) // real val is 1524157875019052100

The comparison value " 152415875019052000" should be " 1524157875019052100"

The comment at the end of the line stating the correct value seems to indicate that the author knows the real value but uses the incorrect value anyway. Perhaps Harbour didn't always get the correct value. Or perhaps some combination of hardware/OSs still get an incorrect answer. I get the correct value. Fixing the comparison value will reduce the error count reported by hbtest by 1.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080822/84dacdbc/attachment.html
From harbour.01 at syenar.hu  Fri Aug 22 12:18:46 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 22 12:18:57 2008
Subject: [Harbour] Typo in /harbour/utilt/hbtest/rt_math.prg
In-Reply-To: <85EF86E6AB164F008CD12ACD0B1C03DD@billws>
References: <85EF86E6AB164F008CD12ACD0B1C03DD@billws>
Message-ID: <9DC0BA65-A26D-4191-9818-6FC5865F6B8C@syenar.hu>

Hi Bill,

Yes, with some compilers it's the correct one,
with others it's the other one. We aim for Clipper
compatibility, so the expect value in hbtest is
the Clipper one.

AFAIR, this can be fixed for all systems if
we introduce 64bit Harbour numeric types.

Brgds,
Viktor

On 2008.08.22., at 18:06, bill robertson wrote:

> Hi all,
>
> Line 359 in /harbour/util/hbtest/rt_math.prg is:
>
>    TEST_LINE( Str(1234567890 * 1234567890 )   , "  
> 1524157875019052000"         ) // real val is 1524157875019052100
> The comparison value " 152415875019052000" should be "  
> 1524157875019052100"
>
> The comment at the end of the line stating the correct value seems  
> to indicate that the author knows the real value but uses the  
> incorrect value anyway. Perhaps Harbour didn't always get the  
> correct value. Or perhaps some combination of hardware/OSs still get  
> an incorrect answer. I get the correct value. Fixing the comparison  
> value will reduce the error count reported by hbtest by 1.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From arcadia2 at sbcglobal.net  Fri Aug 22 12:49:29 2008
From: arcadia2 at sbcglobal.net (bill robertson)
Date: Fri Aug 22 12:49:31 2008
Subject: [Harbour] Typo in /harbour/utilt/hbtest/rt_math.prg
References: <85EF86E6AB164F008CD12ACD0B1C03DD@billws>
	<9DC0BA65-A26D-4191-9818-6FC5865F6B8C@syenar.hu>
Message-ID: <2B9D81037BE54B17B2DB06A93EFD5E51@billws>

----- Original Message ----- 
From: "Szak?ts Viktor" <harbour.01@syenar.hu>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Friday, August 22, 2008 12:18 PM
Subject: Re: [Harbour] Typo in /harbour/utilt/hbtest/rt_math.prg


> Hi Bill,
>
> Yes, with some compilers it's the correct one,
> with others it's the other one. We aim for Clipper
> compatibility, so the expect value in hbtest is
> the Clipper one.
>
Hi Viktor

When there are multiple items you may not be able or want to make Clipper 
compatibible. Consider the following pgm:
//---------------------------------------------
function main()
LOCAL nInfinity:= Infinity(.T.)

Clear screen
?
? 2^1024 >  nInfinity
? 2^1024 == nInfinity
? 2^1024 <  nInfinity
? 1234567890*1234567890
?
RETURN 0

You get the following answers:
clipper
.F.
.T.
.F.
 1524157875019052000

harbour
.T.
.F.
.F.
 1524157875019052100

Harbour gets the multiplication correct. Clipper sets the infinity() 
function to the largest 32-bit value but Harbour doesn't.

> AFAIR, this can be fixed for all systems if
> we introduce 64bit Harbour numeric types.
>
I really need 64bit numerics just to read text files from the NIST.

From arcadia2 at sbcglobal.net  Fri Aug 22 13:13:06 2008
From: arcadia2 at sbcglobal.net (bill robertson)
Date: Fri Aug 22 13:13:08 2008
Subject: [Harbour] ft_funcs
References: <85EF86E6AB164F008CD12ACD0B1C03DD@billws>
	<9DC0BA65-A26D-4191-9818-6FC5865F6B8C@syenar.hu>
Message-ID: <7F903BD148844AE181473C830C3B5A54@billws>

Hi Viktor

I see that you have vastly improved the fclass1, ffile1, ft_funcs by getting 
rid of most of the chr(10), chr(13) mess and using hb_OSNewLine(). I haven't 
build the new system yet but see a problem for systems that use anything but 
CRLF as the EOL terminator.

looking at the code:
   cB       := ""
   nSavePos := FSEEK( nH, 0, FS_RELATIVE )
   nNumRead := FREAD( nH, @cLine, nMaxLine )
   IF ( nEol := AT( hb_OSNewLine(), SUBSTR( cLine, 1, nNumRead ) ) ) == 0
      cB := cLine
   ELSE
      cB := SUBSTR( cLine, 1, nEol - 1 )
      FSEEK( nH, nSavePos + nEol + 1, FS_SET )
   ENDIF

Say the line is as follows:
Pos
1234567890123
xxxxLCxxxxxLC  where L is LF and C is CR

If nSavePos = 1, nEol = 5 you seek to 1+5+1=7 which is correct. However for 
systems with only LF or CR as EOL you still seek to 7 which is incorrect.
It seems you should seek to:

FSEEK( nH, nSavePos + len( hb_OSNewLine() ) - 1, FS_SET )

1234567890123
xxxxLxxxxxxLx

nSavePos =1, nEOL = 5 len( hb_OSNewLine() ) - 1 = 0

So you now seek to Pos 6 for LF systems and Pos 7 for MS systems which is 
correct. It even works for the 3 and 4 byte EOL of some mainframes.

Additionaly, the chr(13) stripping at line 911 isn't needed. It should have 
always been chr(10) anyway to remove the dangling LF from the CRLF that was 
always left in the way.
FUNCTION FT_FReadLn()
   RETURN FReadLn()

From harbour.01 at syenar.hu  Fri Aug 22 13:43:30 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 22 13:43:38 2008
Subject: [Harbour] ft_funcs
In-Reply-To: <7F903BD148844AE181473C830C3B5A54@billws>
References: <85EF86E6AB164F008CD12ACD0B1C03DD@billws>
	<9DC0BA65-A26D-4191-9818-6FC5865F6B8C@syenar.hu>
	<7F903BD148844AE181473C830C3B5A54@billws>
Message-ID: <B6D238EC-05E1-4779-A743-B7410603B5E8@syenar.hu>

Hi Bill,

On 2008.08.22., at 19:13, bill robertson wrote:

> I see that you have vastly improved the fclass1, ffile1, ft_funcs by  
> getting rid of most of the chr(10), chr(13) mess and using  
> hb_OSNewLine(). I haven't build the new system yet but see a problem  
> for systems that use anything but CRLF as the EOL terminator.

Unfortunately I was just cleaning away dust, but
it didn't effectively change anything in the code.
Just replaced CRLF #define with hb_OSNewLine().
But at least now the code is easier to read.

> looking at the code:
>  cB       := ""
>  nSavePos := FSEEK( nH, 0, FS_RELATIVE )
>  nNumRead := FREAD( nH, @cLine, nMaxLine )
>  IF ( nEol := AT( hb_OSNewLine(), SUBSTR( cLine, 1, nNumRead ) ) )  
> == 0
>     cB := cLine
>  ELSE
>     cB := SUBSTR( cLine, 1, nEol - 1 )
>     FSEEK( nH, nSavePos + nEol + 1, FS_SET )
>  ENDIF
>
> Say the line is as follows:
> Pos
> 1234567890123
> xxxxLCxxxxxLC  where L is LF and C is CR
>
> If nSavePos = 1, nEol = 5 you seek to 1+5+1=7 which is correct.  
> However for systems with only LF or CR as EOL you still seek to 7  
> which is incorrect.
> It seems you should seek to:
>
> FSEEK( nH, nSavePos + len( hb_OSNewLine() ) - 1, FS_SET )
>
> 1234567890123
> xxxxLxxxxxxLx
>
> nSavePos =1, nEOL = 5 len( hb_OSNewLine() ) - 1 = 0
>
> So you now seek to Pos 6 for LF systems and Pos 7 for MS systems  
> which is correct. It even works for the 3 and 4 byte EOL of some  
> mainframes.
>
> Additionaly, the chr(13) stripping at line 911 isn't needed. It  
> should have always been chr(10) anyway to remove the dangling LF  
> from the CRLF that was always left in the way.
> FUNCTION FT_FReadLn()
>  RETURN FReadLn()

Thanks, I'll commit these two modifications.

[ Actually I've replaced FT_FReadLn() with FReadLn()
calls in code, as there were only one such in each tool. ]

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Aug 22 14:00:13 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 22 14:00:21 2008
Subject: [Harbour] Harbour sf.net top rank: 32
Message-ID: <3C3CD925-53F7-4201-A2EE-3AB147F667FE@syenar.hu>

Check out Harbour's rank folks, pretty amazing:
http://www.syenar.hu/harbour/hb_20080813_rank_32.png
(this was release day)

Brgds,
Viktor

From bedipritpal at hotmail.com  Fri Aug 22 14:59:03 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Aug 22 14:59:08 2008
Subject: [Harbour] AADD() - tilts under stress test
Message-ID: <19113619.post@talk.nabble.com>


Hello 

Function Main()
   Local i
   Local a_:={}
   Local aRecs := {}

   for i := 1 to 100000
      a_:= RetArray()
      aadd( aRecs, a_ )
      ? i
   next

   Return nil

Static Function RetArray()

   Return afill( array( 76 ), '2134565424' )



At about 20000 iterations (appx 1/5th) application terminates without
showing 
up any error.

The same code executes fine in xHarbour and .

What I am missing? Compilation switch or it is a bug ? 
I suspect mem reallocation issue.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/AADD%28%29---tilts-under-stress-test-tp19113619p19113619.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Aug 22 15:30:58 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 22 15:31:09 2008
Subject: [Harbour] AADD() - tilts under stress test
In-Reply-To: <19113619.post@talk.nabble.com>
References: <19113619.post@talk.nabble.com>
Message-ID: <3D276B25-6D64-4A47-95A8-7B49AFC2B0B8@syenar.hu>

Hi Pritpal,

[ Which Harbour version / compiler / platform BTW? ]

Current SVN with BCC55 (-DUNICODE -v -y) gives me this
after 32698 iterations:
--
Unrecoverable error 9009: hb_xrealloc can't reallocate memory
Called from AADD(0)
Called from MAIN(23) in stress.prg
--
This happened when the app was using about 3GB
(1GB + 2GB paged) of memory according to the
Task Manager.

This message was also put into hb_out.log, maybe
you have it too, and you can check why it failed.

Memory consumption seems a bit high to me too.

Brgds,
Viktor

On 2008.08.22., at 20:59, Pritpal Bedi wrote:

>
> Hello
>
> Function Main()
>   Local i
>   Local a_:={}
>   Local aRecs := {}
>
>   for i := 1 to 100000
>      a_:= RetArray()
>      aadd( aRecs, a_ )
>      ? i
>   next
>
>   Return nil
>
> Static Function RetArray()
>
>   Return afill( array( 76 ), '2134565424' )
>
>
>
> At about 20000 iterations (appx 1/5th) application terminates without
> showing
> up any error.
>
> The same code executes fine in xHarbour and .
>
> What I am missing? Compilation switch or it is a bug ?
> I suspect mem reallocation issue.
>
> Regards
> Pritpal Bedi
>
> -- 
> View this message in context: http://www.nabble.com/AADD%28%29---tilts-under-stress-test-tp19113619p19113619.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Aug 22 15:50:01 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 22 15:50:10 2008
Subject: [Harbour] AADD() - tilts under stress test
In-Reply-To: <19113619.post@talk.nabble.com>
References: <19113619.post@talk.nabble.com>
Message-ID: <8DFF37C0-8ED9-4A0D-8427-7FCE238A408A@syenar.hu>

This reduced example give pretty much the same effect:
---
Function Main()
   Local i
   Local aRecs := {}

   for i := 1 to 100000
      aadd( aRecs, {} )
      ? i
   next

   Return nil
---

It goes wild after a little more while.
(400MB @ i = 40000, 900MB @ i = 5000).

Strangely, replacing {} with "1234567890123456"
seems to make it work okay.

Brgds,
Viktor

From jarabal at gmail.com  Fri Aug 22 15:59:07 2008
From: jarabal at gmail.com (Xavi)
Date: Fri Aug 22 16:00:58 2008
Subject: [Harbour] AADD() - tilts under stress test
In-Reply-To: <19113619.post@talk.nabble.com>
References: <19113619.post@talk.nabble.com>
Message-ID: <48AF1A8B.8000308@gmail.com>

Hi Pritpal,

About 2GB of memory xHabour in Win32 BCC 5.5/32b (Intel Core2Duo 4GB RAM) report error 9009 in hb_xrealloc.

#2: Error irrecuperable 9009:
#3: hb_xrealloc no puede reubicar la memoria
#4:

> The same code executes fine in xHarbour and .
What xHarbour or system are you use?
How much memory manages the program?

Best regards,
Xavi

Pritpal Bedi escribi?:
> Hello 
> 
> Function Main()
>    Local i
>    Local a_:={}
>    Local aRecs := {}
> 
>    for i := 1 to 100000
>       a_:= RetArray()
>       aadd( aRecs, a_ )
>       ? i
>    next
> 
>    Return nil
> 
> Static Function RetArray()
> 
>    Return afill( array( 76 ), '2134565424' )
> 
> 
> 
> At about 20000 iterations (appx 1/5th) application terminates without
> showing 
> up any error.
> 
> The same code executes fine in xHarbour and .
> 
> What I am missing? Compilation switch or it is a bug ? 
> I suspect mem reallocation issue.
> 
> Regards
> Pritpal Bedi
> 



From rportnoff at spendmap.com  Fri Aug 22 16:05:44 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Fri Aug 22 16:04:24 2008
Subject: [Harbour] Off topic: VS 2005 running on older O/S versions
In-Reply-To: <3D276B25-6D64-4A47-95A8-7B49AFC2B0B8@syenar.hu>
References: <19113619.post@talk.nabble.com>
	<3D276B25-6D64-4A47-95A8-7B49AFC2B0B8@syenar.hu>
Message-ID: <B0082958702@ms1.3peaks.com>

Hi all,

Will a Harbour app build using VS 2005 still run on older versions of 
Windows (eg. 98, Me, 2000 and 2003)?

TIA.

Regards,
Randy.


From alex_degarate at hotmail.com  Fri Aug 22 16:07:18 2008
From: alex_degarate at hotmail.com (Alejandro de Garate)
Date: Fri Aug 22 16:07:23 2008
Subject: [Harbour] hbdoc
Message-ID: <BLU149-W45A0AA87A07C7119141FCC856A0@phx.gbl>


Hi Viktor

I have been working a couple of years ago in hbdoc after the last release of .ng format unfortunately all that work disapear with a crash in my home machine.

I did many of the spanish translations, but still is missing many of the 
documentation in english and not only of the known Clipper's functions and commands, but of the great work of Przemek about gt systems rdds and others areas which you knows better than me because you've been working in those areas.

In shortly, we still missing docs an info of Harbour.

Many times I read the free release of xHarbour docs, but I don't know if this
happened and if it can help in something.

I can go back to work in hbdoc if necessary when I have some time available, but also read Pritpal (Bill and maybe other people) was working in docs and
I have no clear idea where we stand today.

So we need to agree something about the future of Harbour's documentation (formats, tools, etc.)

regards

Alejandro

_________________________________________________________________
Explore the seven wonders of the world
http://search.msn.com/results.aspx?q=7+wonders+world&mkt=en-US&form=QBRE
From harbour.01 at syenar.hu  Fri Aug 22 16:56:18 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 22 16:56:20 2008
Subject: [Harbour] 2008-08-22 22:51 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90499$Blat.v2.6.2$85faf576$7e4412b19f0@127.0.0.1>

2008-08-22 22:51 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * utils/hbtest/rt_array.prg
     + Added failing test case of doing AEval() 
       and resizing the evaluated array in the 
       eval codeblock.

   * utils/hbdoc/ft_funcs.prg
   * utils/hbdoc/hbdoc.prg
   * utils/hbmake/ft_funcs.prg
   * utils/hbmake/hbmutils.prg
     ! Two EOL handling fixes applied.
       Thanks to Bill Robertson.
     ; Please test.

   * contrib/xhb/Makefile
   * contrib/xhb/common.mak
   + contrib/xhb/arrayblk.prg
     + Added HB_ARRAYBLOCK()
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Aug 22 17:21:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 22 17:22:00 2008
Subject: [Harbour] hbdoc
In-Reply-To: <BLU149-W45A0AA87A07C7119141FCC856A0@phx.gbl>
References: <BLU149-W45A0AA87A07C7119141FCC856A0@phx.gbl>
Message-ID: <6BD46FC6-7D7E-4ACD-8901-8019991F2FC7@syenar.hu>

Hi Alejandro,

It'd be definitely good to start doing basically
anything around the docs issue.

I see two key goals:

1) The doc source format to be open.
    This means the doc should be in an open standard text
    format, which can be handled using open source tools.

2) Using open source and preferably standard,
    _existing_ tools to compile this doc source into
    various end-user formats.
    hbdoc may also work if someone is really jumping
    on it and maintaining it, but if not, or maybe
    on the long run at all, IMO we're better off with
    some existing tools like robodoc (I always forget
    the other candidate). To start with any new tool,
    we first need to write a converter to convert
    current format to robodoc (or else).

So in less generic words, we have two options:

a) To continue with current NANFOR format, and
    and revive hbdoc as our doc generator tool.

b) Choose a doc generator tool, convert what we
    have in NANFOR format to this standard format
    and continue writing the docs in this new format.

Pritpal's effort is nice, but IMO it can only stay
an independent project as it's hosted on his own site
and uses proprietary tools to process the docs. [ I
didn't follow the development of the actual content,
which we may use in some form. ]

Brgds,
Viktor

On 2008.08.22., at 22:07, Alejandro de Garate wrote:

>
> Hi Viktor
>
> I have been working a couple of years ago in hbdoc after the last  
> release of .ng format unfortunately all that work disapear with a  
> crash in my home machine.
>
> I did many of the spanish translations, but still is missing many of  
> the
> documentation in english and not only of the known Clipper's  
> functions and commands, but of the great work of Przemek about gt  
> systems rdds and others areas which you knows better than me because  
> you've been working in those areas.
>
> In shortly, we still missing docs an info of Harbour.
>
> Many times I read the free release of xHarbour docs, but I don't  
> know if this
> happened and if it can help in something.
>
> I can go back to work in hbdoc if necessary when I have some time  
> available, but also read Pritpal (Bill and maybe other people) was  
> working in docs and
> I have no clear idea where we stand today.
>
> So we need to agree something about the future of Harbour's  
> documentation (formats, tools, etc.)
>
> regards
>
> Alejandro
>
> _________________________________________________________________
> Explore the seven wonders of the world
> http://search.msn.com/results.aspx?q=7+wonders+world&mkt=en-US&form=QBRE_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Aug 22 17:30:46 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 22 17:30:55 2008
Subject: [Harbour] Re: HB_FUN_STATIC 
In-Reply-To: <D0C9CBC7E59D4DAFBA2EA74750614DAA@pepeluis>
References: <01c9020e$Blat.v2.6.2$ce7fffa4$16e84a39022c@127.0.0.1>
	<D0C9CBC7E59D4DAFBA2EA74750614DAA@pepeluis>
Message-ID: <144E211F-3D91-448E-B4D3-77F7979F13DF@syenar.hu>

Hi Jose,

---
// one.prg

CLASS MyClass
   METHOD MyMethod() INLINE 'Bye'
   METHOD New() INLINE Self
ENDCLASS

// Two.Prg

CLASS MyOtherClass FROM MyClass
   METHOD MyMethod() INLINE MYOTHERCLASS_MYMETHOD() // <-- using INLINE
ENDCLASS

#pragma BEGINDUMP
#include "hbapi.h"

HB_FUNC( MYOTHERCLASS_MYMETHOD ) // <-- plain HB_FUNC
{
   hb_retc("Hello");
}

#pragma ENDDUMP

// Three.prg
FUNCTION MAIN()

   LOCAL o

   o := MyOtherClass():New()

   ? o:MyMethod() // --> 'Bye'

RETURN NIL
---

> Should not it shows 'Hello' instead of 'Bye'??

Harbour doesn't support HB_FUNC_STATIC() in the
way xhb tries to, and it most probably never will.

> How can I 'emulate' xHarbour behavior ??
>
> Do I have to set any flag ??
>
> If not... how can I mix (in same prg) prg level methods of a class  
> with C level methods of same class ??

I've modified your code to work as you've intended.
(but I didn't test it, so it may be completely wrong)

Brgds,
Viktor

From jarabal at gmail.com  Fri Aug 22 22:29:35 2008
From: jarabal at gmail.com (Xavi)
Date: Fri Aug 22 22:31:27 2008
Subject: [Harbour] HB_FUN_STATIC
In-Reply-To: <D0C9CBC7E59D4DAFBA2EA74750614DAA@pepeluis>
References: <01c9020e$Blat.v2.6.2$ce7fffa4$16e84a39022c@127.0.0.1>
	<D0C9CBC7E59D4DAFBA2EA74750614DAA@pepeluis>
Message-ID: <48AF760F.3020404@gmail.com>

Jos?,
> Should not it shows 'Hello' instead of 'Bye'?? 
No consigo reproducir el problema: con tres PRGs me presenta 'Hello'.
Por cierto, XEdit 2 (abril 2008) tiene problemas para gestionar el 
"M?dulo principal" si no lo has creado el primero. :)

Un saludo
Xavi

Jos? Luis Capel - escribi?:
> Hi all,
>
> This piece of code (three separate prg's):
>
> // one.prg
>
> CLASS MyClass
>    METHOD MyMethod() INLINE 'Bye'
>    METHOD New() INLINE Self
> ENDCLASS
>
> // Two.Prg
>
> CLASS MyOtherClass FROM MyClass
>    METHOD MyMethod()
> ENDCLASS
>
> #pragma BEGINDUMP
> #include "hbapi.h"
>
> HB_FUNC_STATIC( MYOTHERCLASS_MYMETHOD )
> {
>    hb_retc("Hello");
> }
>
> #pragma ENDDUMP
>
> // Three.prg
> FUNCTION MAIN()
>
>    LOCAL o
>
>    o := MyOtherClass():New()
>
>    ? o:MyMethod() // --> 'Bye'
>
> RETURN NIL
>
> Should not it shows 'Hello' instead of 'Bye'??
>
> I make the question in other words...
>
> How can I 'emulate' xHarbour behavior ??
>
> Do I have to set any flag ??
>
> If not... how can I mix (in same prg) prg level methods of a class 
> with C level methods of same class ??
>
> Many thanks for your help.
> Jos? Luis Capel
>
>
>
>
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From philb at philb.us  Sat Aug 23 02:13:55 2008
From: philb at philb.us (Phil Barnett)
Date: Sat Aug 23 02:13:49 2008
Subject: [Harbour] Off topic: VS 2005 running on older O/S versions
In-Reply-To: <B0082958702@ms1.3peaks.com>
References: <19113619.post@talk.nabble.com>
	<3D276B25-6D64-4A47-95A8-7B49AFC2B0B8@syenar.hu>
	<B0082958702@ms1.3peaks.com>
Message-ID: <200808230213.55578.philb@philb.us>

On Friday 22 August 2008 04:05:44 pm Randy Portnoff wrote:
> Hi all,
>
> Will a Harbour app build using VS 2005 still run on older versions of
> Windows (eg. 98, Me, 2000 and 2003)?

It will require the same version of the .net framework that you compile 
against. I believe by default that would be .net 2.0. As long ast that 
support library/system is installed, it will run.

-- 
Waiting for sunspots.
From harbour.01 at syenar.hu  Sat Aug 23 03:02:07 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug 23 03:02:34 2008
Subject: [Harbour] Off topic: VS 2005 running on older O/S versions
In-Reply-To: <B0082958702@ms1.3peaks.com>
References: <19113619.post@talk.nabble.com>
	<3D276B25-6D64-4A47-95A8-7B49AFC2B0B8@syenar.hu>
	<B0082958702@ms1.3peaks.com>
Message-ID: <5F6A5CB0-A261-472F-B02F-C4BA6D4A8810@syenar.hu>

Hi Randy,

Yes, it does work. Harbour MSVS builds don't rely
on MSVS dynamic C RTL, so you don't even have to
install any MSVS redistributables.

Note, that you cannot use -DUNICODE builds of Harbour
if you want to run the final apps on Win9x/ME systems.
[ Maybe there is a workaround with unicows.dll, but
it doesn't currently work for Harbour. ]

Brgds,
Viktor

On 2008.08.22., at 22:05, Randy Portnoff wrote:

> Hi all,
>
> Will a Harbour app build using VS 2005 still run on older versions  
> of Windows (eg. 98, Me, 2000 and 2003)?
>
> TIA.
>
> Regards,
> Randy.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Aug 23 06:43:34 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug 23 06:43:41 2008
Subject: [Harbour] 2008-08-23 11:38 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c9050d$Blat.v2.6.2$179a414e$23f436ea9dee@127.0.0.1>

2008-08-23 11:38 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/pp/hbpp.c
   * source/vm/cmdarg.c
   * source/vm/memvars.c
   * source/rtl/dates.c
   * source/rtl/fstemp.c
   * source/rtl/gtchrmap.c
   * source/rtl/gtcrs/gtcrs.c
   * source/rtl/gtpca/gtpca.c
   * source/rtl/gtstd/gtstd.c
   * source/rdd/dbf1.c
   * source/rdd/dbfntx/dbfntx1.c
   * contrib/hbct/disk.c
   * contrib/hbfbird/firebird.c
   * contrib/hbw32/w32_ole.c
   * contrib/xhb/hboutdbg.c
   * contrib/examples/pp/hbppcore.c
     * strncpy() -> hb_strncpy()
     * strncat() -> hb_strncat()
     ! In most of these places the terminating zero 
       was not explicitly set by the caller before.

   * contrib/hbnf/getenvrn.c
   * contrib/hbw32/dllcall.c
   * contrib/hbw32/w32_ole.c
   * contrib/hbwhat32/_wincdlg.c
   * contrib/hbwhat32/_windll.c
   * contrib/hbwhat32/_winmain.c
   * contrib/hbziparch/hbzipnew.cpp
     ! strcpy() -> hb_strncpy()
     ! strcat() -> hb_strncat()
     ; TOFIX1: There are still two strcpy()s left in SQL_SPRINTF().
               Xavi, could you pls take a look at it?
     ; TOFIX2: There are still a few strcpy()s in hbwince.c and 
               dbgentry.c.

   * source/pp/hbpp.c
   * source/rtl/gtcrs/gtcrs.c
   * source/rtl/gtpca/gtpca.c
   * source/rtl/gtstd/gtstd.c
   * contrib/hbfbird/firebird.c
   * contrib/hbwhat32/_wincdlg.c
   * contrib/hbwhat32/_windll.c
     ! Fixed wrong buffer sizes (or no buffer limits) in some 
       string copy operations (potential buffer overruns).

   * contrib/hbnf/getenvrn.c
     ! Fixed bad leak in FT_GETE() on Win32 systems.

   * source/rtl/fstemp.c
     ! hb_fsTempName(): Fixed potential buffer overrun by one byte.
     * Minor formatting.

   * source/rtl/fstemp.c
   * source/rtl/hbffind.c
   * contrib/xhb/hboutdbg.c
     * Using sizeof() instead of explicit size in string copy operations.
     ; TODO: There is a lot more to fix like this.

   ; Przemek, could you double check these changes pls?
     I can send you the .diff if it helps.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Aug 23 07:12:09 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug 23 07:12:10 2008
Subject: [Harbour] 2008-08-23 13:05 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90511$Blat.v2.6.2$15ea5452$2208d77fc138@127.0.0.1>

2008-08-23 13:05 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   + contrib/hbnf/tests/ftgete.prg
     + Added test.

   * contrib/hbwhat32/Makefile
   * contrib/hbwhat32/common.mak
   + contrib/hbwhat32/whtbmp.c
   + contrib/hbwhat32/whtbrsh.c
   + contrib/hbwhat32/whtcall.c
   + contrib/hbwhat32/whtcdlg.c
   + contrib/hbwhat32/whtclpb.c
   + contrib/hbwhat32/whtcomm.c
   + contrib/hbwhat32/whtcret.c
   + contrib/hbwhat32/whtdate.c
   + contrib/hbwhat32/whtdc.c
   + contrib/hbwhat32/whtdir.c
   + contrib/hbwhat32/whtdlg.c
   + contrib/hbwhat32/whtdll.c
   + contrib/hbwhat32/whtdraw.c
   + contrib/hbwhat32/whtfont.c
   + contrib/hbwhat32/whtgdi.c
   + contrib/hbwhat32/whthead.c
   + contrib/hbwhat32/whticon.c
   + contrib/hbwhat32/whtilst.c
   + contrib/hbwhat32/whtinet.c
   + contrib/hbwhat32/whtini.c
   + contrib/hbwhat32/whtkbrd.c
   + contrib/hbwhat32/whtlv.c
   + contrib/hbwhat32/whtmain.c
   + contrib/hbwhat32/whtmapi.c
   + contrib/hbwhat32/whtmem.c
   + contrib/hbwhat32/whtmenu.c
   + contrib/hbwhat32/whtmeta.c
   + contrib/hbwhat32/whtmisc.c
   + contrib/hbwhat32/whtmmcap.c
   + contrib/hbwhat32/whtmous.c
   + contrib/hbwhat32/whtmsg.c
   + contrib/hbwhat32/whtpen.c
   + contrib/hbwhat32/whtprn.c
   + contrib/hbwhat32/whtrect.c
   + contrib/hbwhat32/whtreg.c
   + contrib/hbwhat32/whtrgn.c
   + contrib/hbwhat32/whtscrlb.c
   + contrib/hbwhat32/whtseria.c
   + contrib/hbwhat32/whtshell.c
   + contrib/hbwhat32/whtsock.c
   + contrib/hbwhat32/whtsys.c
   + contrib/hbwhat32/whttab.c
   + contrib/hbwhat32/whttbar.c
   + contrib/hbwhat32/whttext.c
   + contrib/hbwhat32/whttree.c
   + contrib/hbwhat32/whtview.c
   + contrib/hbwhat32/whtwnd.c
   - contrib/hbwhat32/_winbmp.c
   - contrib/hbwhat32/_winbrsh.c
   - contrib/hbwhat32/_wincall.c
   - contrib/hbwhat32/_wincdlg.c
   - contrib/hbwhat32/_winclpb.c
   - contrib/hbwhat32/_wincomm.c
   - contrib/hbwhat32/_wincret.c
   - contrib/hbwhat32/_windate.c
   - contrib/hbwhat32/_windc.c
   - contrib/hbwhat32/_windir.c
   - contrib/hbwhat32/_windlg.c
   - contrib/hbwhat32/_windll.c
   - contrib/hbwhat32/_windraw.c
   - contrib/hbwhat32/_winfont.c
   - contrib/hbwhat32/_wingdi.c
   - contrib/hbwhat32/_winhead.c
   - contrib/hbwhat32/_winicon.c
   - contrib/hbwhat32/_winilst.c
   - contrib/hbwhat32/_wininet.c
   - contrib/hbwhat32/_winini.c
   - contrib/hbwhat32/_winkbrd.c
   - contrib/hbwhat32/_winlv.c
   - contrib/hbwhat32/_winmain.c
   - contrib/hbwhat32/_winmapi.c
   - contrib/hbwhat32/_winmem.c
   - contrib/hbwhat32/_winmenu.c
   - contrib/hbwhat32/_winmeta.c
   - contrib/hbwhat32/_winmisc.c
   - contrib/hbwhat32/_winmmcap.c
   - contrib/hbwhat32/_winmous.c
   - contrib/hbwhat32/_winmsg.c
   - contrib/hbwhat32/_winpen.c
   - contrib/hbwhat32/_winprn.c
   - contrib/hbwhat32/_winrect.c
   - contrib/hbwhat32/_winreg.c
   - contrib/hbwhat32/_winrgn.c
   - contrib/hbwhat32/_winscrlb.c
   - contrib/hbwhat32/_winserial.c
   - contrib/hbwhat32/_winshell.c
   - contrib/hbwhat32/_winsock.c
   - contrib/hbwhat32/_winsys.c
   - contrib/hbwhat32/_wintab.c
   - contrib/hbwhat32/_wintbar.c
   - contrib/hbwhat32/_wintext.c
   - contrib/hbwhat32/_wintree.c
   - contrib/hbwhat32/_winview.c
   - contrib/hbwhat32/_winwnd.c
     * Renamed hbwhat32 files to not have a leading underscore 
       and long filenames.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Aug 23 10:46:38 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug 23 10:46:48 2008
Subject: [Harbour] 2008-08-23 16:40 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c9052f$Blat.v2.6.2$0c796e3a$b2c4ec0e4f0@127.0.0.1>

2008-08-23 16:40 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbgt/Makefile
   * contrib/hbgt/common.mak
   - contrib/hbgt/strdiff.c
   + contrib/hbgt/strdiffg.c
   - contrib/hbgt/charmix.c
   + contrib/hbgt/charmixg.c
   - contrib/hbgt/asciisum.c
   + contrib/hbgt/asciisgt.c
   - contrib/hbgt/ascpos.c
   + contrib/hbgt/ascposgt.c
   * contrib/hbgf/hbgfos2/Makefile
   - contrib/hbgf/hbgfos2/tmenuitm.prg
   + contrib/hbgf/hbgfos2/tmenuit.prg
     ! Some files renamed to collide with each other on 
       non-GNU make systems.

   * contrib/examples/hscript/cgi.ch
   * contrib/examples/hscript/dir.hs
   * contrib/examples/hscript/multiply.hs
   * contrib/examples/hscript/ugly.hs
   * contrib/examples/hscript/hello.hs
   * contrib/examples/guestbk/guestbk.ini
     + Added SVN headers.

   + source/rtl/gtalleg/common.mak
   + source/rtl/gtalleg/make_gcc.sh
   + source/rtl/gtalleg/make_b32.bat
   + source/rtl/gtalleg/make_vc.bat
     + Added non-GNU make file as an ugly hack to 
       build them on Windows systems.

   - tests/altd.prg
   + tests/altdtest.prg
     * Rename.

   * include/hbver.h
   * harbour-ce-spec
   * harbour-w32-spec
   * harbour.spec
     * Version changed to '1.0.1dev'.
       Trunk will need to be synced to tag/1.0.

   * common.mak
     + Added version to harbour.dll: harbour-101-b32/vc.dll
     ; Work in progress. Pls comment.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Aug 23 11:02:59 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug 23 11:03:01 2008
Subject: [Harbour] 2008-08-23 16:52 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90531$Blat.v2.6.2$552affac$28f49ef4dc84@127.0.0.1>

2008-08-23 16:52 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * tests/multifnc/t0.prg
   * tests/multifnc/t1.prg
   * tests/multifnc/t2.prg
   * source/rdd/usrrdd/example/exmemo.prg
   * source/rdd/usrrdd/example/exhsx.prg
   * source/rdd/usrrdd/example/exfcm.prg
   * source/rdd/usrrdd/example/exrlx.prg
   * contrib/xhb/hbsyslog.c
   * contrib/rddado/tests/mysql3.prg
   * contrib/rddado/tests/access1.prg
   * contrib/rddado/tests/access2.prg
   * contrib/rddado/tests/mysql1.prg
   * contrib/hbpgsql/tests/tstpgrdd.prg
     ! SVN headers.

   * contrib/hbwhat32/Makefile
   * contrib/hbwhat32/common.mak
   - contrib/hbwhat32/wintypes.ch
     - Removed wintypes.ch, as it collides with a header with 
       the same name (and similar content) in xhb. It will 
       now use the xhb one, since it already relied on other 
       xhb headers anyway.
       If anyone wants to sort this out properly, pls do.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Aug 23 13:01:57 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug 23 13:01:59 2008
Subject: [Harbour] 2008-08-23 19:00 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90541$Blat.v2.6.2$f35b39e8$2c9836a831c4@127.0.0.1>

2008-08-23 19:00 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/common/hbwince.c
     ! strcpy() -> hb_strncpy()
     ; TOFIX: Only spd.c and dbgentry.c have some remaining strcpy() 
              calls.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Aug 22 13:34:15 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug 23 13:18:00 2008
Subject: [Harbour] Harbour sf.net top rank: 32
Message-ID: <66496050-43A7-4635-809F-242E75C0D992@syenar.hu>

Check out Harbour's rank, folks, pretty amazing:

-------------- next part --------------
A non-text attachment was scrubbed...
Name: hb-20080813-rank-32.png
Type: image/png
Size: 66622 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080822/c45b0d35/hb-20080813-rank-32-0001.png
-------------- next part --------------


Brgds,
Viktor

From philb at philb.us  Sat Aug 23 13:20:09 2008
From: philb at philb.us (Phil Barnett)
Date: Sat Aug 23 13:20:08 2008
Subject: [Harbour] Off topic: VS 2005 running on older O/S versions
In-Reply-To: <200808230213.55578.philb@philb.us>
References: <19113619.post@talk.nabble.com> <B0082958702@ms1.3peaks.com>
	<200808230213.55578.philb@philb.us>
Message-ID: <200808231320.09560.philb@philb.us>

On Saturday 23 August 2008 02:13:55 am Phil Barnett wrote:
> On Friday 22 August 2008 04:05:44 pm Randy Portnoff wrote:
> > Hi all,
> >
> > Will a Harbour app build using VS 2005 still run on older versions of
> > Windows (eg. 98, Me, 2000 and 2003)?
>
> It will require the same version of the .net framework that you compile
> against. I believe by default that would be .net 2.0. As long ast that
> support library/system is installed, it will run.

I guess I was thinking about a .net application from the application 
framework, not using the compiler to create a Harbour executable.

Of course, Viktor is correct, there are no external dependencies on the .net 
framework for Harbour compiled executables.

-- 
Waiting for sunspots.
From jarabal at gmail.com  Sat Aug 23 14:53:39 2008
From: jarabal at gmail.com (Xavi)
Date: Sat Aug 23 14:55:37 2008
Subject: [Harbour] 2008-08-23 19:00 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c90541$Blat.v2.6.2$f35b39e8$2c9836a831c4@127.0.0.1>
References: <01c90541$Blat.v2.6.2$f35b39e8$2c9836a831c4@127.0.0.1>
Message-ID: <48B05CB3.6010601@gmail.com>

Ok, thanks Viktor.

! strcpy() -> hb_strncpy() in spd.c

Best regards,
Xavi

Szak?ts Viktor escribi?:
> 2008-08-23 19:00 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>    * source/common/hbwince.c
>      ! strcpy() -> hb_strncpy()
>      ; TOFIX: Only spd.c and dbgentry.c have some remaining strcpy() 
>               calls.
> --
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-------------- next part --------------
/*
 * $Id: spd.c 9170 2008-08-13 03:31:00Z druzus $
 */

/*
 * Harbour Project source code:
 * SQL_SPRINTF() function
 *
 * Copyright 2008 Xavi <jarabal/at/gmail.com>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software; see the file COPYING.  If not, write to
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
 *
 * As a special exception, the Harbour Project gives permission for
 * additional uses of the text contained in its release of Harbour.
 *
 * The exception is that, if you link the Harbour libraries with other
 * files to produce an executable, this does not by itself cause the
 * resulting executable to be covered by the GNU General Public License.
 * Your use of that executable is in no way restricted on account of
 * linking the Harbour library code into it.
 *
 * This exception does not however invalidate any other reasons why
 * the executable file might be covered by the GNU General Public License.
 *
 * This exception applies only to the code released by the Harbour
 * Project under the name Harbour.  If you copy code from other
 * Harbour Project or Free Software Foundation releases into a copy of
 * Harbour, as the General Public License permits, the exception does
 * not apply to the code that you add in this way.  To avoid misleading
 * anyone as to the status of such modified files, you must delete
 * this exception notice from them.
 *
 * If you write modifications of your own for Harbour, it is your choice
 * whether to permit this exception to apply to your modifications.
 * If you do not wish that, delete this exception notice.
 *
 */

#include "hbapi.h"
#include "hbapiitm.h"
#include "hbapierr.h"
#include "hbdate.h"
#include "hbset.h"

static void STAItm( PHB_ITEM pItmPar )
{
   ULONG i, ulItmPar = hb_itemGetCLen( pItmPar );
   char *cRes, *c, *cItmPar = hb_itemGetCPtr( pItmPar );

   for( i = 3, c = cItmPar; *c; c++ ){
      if( *c == '\'' ) i++;   /* Count ' Tokens */
   }
   cRes = (char *)hb_xgrab( ulItmPar + i * sizeof(char) );
   i = 0; c = cItmPar; cRes[i++] = '\'';
   while( *c ){
      if( *c == '\'' ) cRes[i++] = '\'';
      cRes[i++] = *c++;
   }
   cRes[i++] = '\''; /* cRes[i] = '\0'; */
   hb_itemPutCLPtr( pItmPar, cRes, i );
}

static ULONG SCItm( char *cBuffer, ULONG ulMaxBuf, char *cParFrm, int iCOut, int IsIndW, int iIndWidth, int IsIndP, int iIndPrec, PHB_ITEM pItmPar )
{
   ULONG s;

   /* NOTE: In DJGPP (4.2.3) snprintf() will be preprocessed to sprintf(), which
            makes ulMaxBuf unused, and this in turn causes a warning, so we're
            manually suppressing it. [vszakats] */
   #if defined(__DJGPP__)
      HB_SYMBOL_UNUSED( ulMaxBuf );
   #endif

   if( IsIndW && IsIndP ){
      switch( iCOut ){
      case 'p':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetPtr( pItmPar ) );
         break;
      case 's': case 'S':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetCPtr( pItmPar ) );
         break;
      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetND( pItmPar ) );
         break;
      /* case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X': */
      default:
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
      }
   }else if( IsIndW || IsIndP ){
      int iInd = (IsIndW ? iIndWidth : iIndPrec);

      switch( iCOut ){
      case 'p':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetPtr( pItmPar ) );
         break;
      case 's': case 'S':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetCPtr( pItmPar ) );
         break;
      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetND( pItmPar ) );
         break;
      /* case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X': */
      default:
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
      }
   }else{
      switch( iCOut ){
      case 'p':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetPtr( pItmPar ) );
         break;
      case 's': case 'S':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetCPtr( pItmPar ) );
         break;
      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetND( pItmPar ) );
         break;
      /* case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X': */
      default:
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
      }
   }
   return s;
}

/*******************************************************************************
* ANSI C sprintf() for ANSI SQL with DATE, DATETIME, LOGICAL, NIL, NUMERIC
* ------------------------------------------------------------------------
*                      cRes := Sql_sprintf( cFrm, ... )
*
* Full compatible ANSI C99 formats with C,S converters wchar_t (UNICODE)
* Integer & Floating point converters with Width and Precision for NUMERIC & STRING
* a,A converters Hexadecimal floating point format. Thanks Rafa.
*  ? Sql_sprintf( "Phi = %A", (1 + 5**0.5) / 2 ) // Phi = 0X1,9E3779B97F4A8P+0
* %m$,*m$ Index & Indirect arguments C99. Thanks Viktor.
*  ? Sql_sprintf( "Phi = %2$0*3$.*1$f", 4, (1 + 5**0.5) / 2, 7 ) // Phi = 01.6180
*
* s converter for format Harbour data types.
*    NUMERIC with FIXED DECIMALS = n | n.d   STRING = String's ANSI C
*    DATE = HB_SET_DATEFORMAT      DATETIME = HB_SET_DATEFORMAT hh:mm:ss
*     New Internal Modifier {}. Thanks Mindaugas.
*     Date and Time Format separate by first space {DD/MM/YYYY hh:mm:ss.ccc pm}
*     {DD/MM/YYYY} = Only Date | { hh:mm:ss.ccc pm} = Only Time
*        ? Sql_sprintf( "%s", Date() )                // 16/06/08
*        ? Sql_sprintf( "%s", DateTime() )            // 16/06/08 04:11:21
*        ? Sql_sprintf( "%{YYYYMMDD}s", DateTime() )  // 20080616
*        ? Sql_sprintf( "%{ hh:mm pm}s", DateTime() ) // 04:11 AM
*    LOGICAL = TRUE | FALSE        %d converter for LOGICAL = 1 | 0
*     Accepts Internal Modifier TRUE and FALSE Format separate by first comma
*     {T .T.,F .F.} = TRUE & FALSE | {ON} = Only TRUE | {,OFF} = Only FALSE
*        ? Sql_sprintf( "%{VERDADERO,FALSO}s", .F. ) // FALSO
*        ? Sql_sprintf( "%{ONLY IF TRUE}s", .T. ) // ONLY IF TRUE
*
* New t converter for format ANSI SQL types.
*    NUMERIC with FIXED DECIMALS = n | n.d   STRING = 'String''s ANSI SQL'
*    DATE = 'YYYY-MM-DD' DATETIME = 'YYYY-MM-DD HH:MM:SS'
*     Accepts Internal Modifier like s converter {DD/MM/YYYY hh:mm:ss.ccc pm}
*    LOGICAL = TRUE | FALSE        Accepts Internal Modifier like s {ON,OFF}
*
* Print NULL if the parameter is NIL or HB_IT_NULL
* Processing %% and n converter Position.
*******************************************************************************/

#define DK_INCRES 1024
#define DK_INCBUF 512
#define DK_BLKBUF HB_MAX_DOUBLE_LENGTH   /* Expense of DK_INCBUF */

HB_FUNC( SQL_SPRINTF )
{
   ULONG ulItmFrm;
   char *cRes, *cItmFrm;
   int argc = hb_pcount() - 1;
   PHB_ITEM pItmFrm = hb_param( 1, HB_IT_STRING );

   if( !pItmFrm || (cItmFrm = hb_itemGetCPtr( pItmFrm )) == NULL ){
      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, 1, hb_paramError( 1 ) );
   }else if( (ulItmFrm = hb_itemGetCLen( pItmFrm )) == 0 ){
      hb_retc( NULL );
   }else if( !argc ){
      cRes = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
      memcpy( cRes, cItmFrm, ulItmFrm + sizeof(char) );
      hb_retclen_buffer( cRes, ulItmFrm );
   }else{
      PHB_ITEM pItmPar, pItmCpy;
      char *cIntMod, *cBuffer, *cParFrm, *c;
      int p, arg, iCOut, IsType, IsIndW, IsIndP, iIndWidth, iIndPrec, iErrorPar = 0;
      ULONG s, f, i, ulWidth, ulParPos = 0, ulResPos = 0, ulMaxBuf = DK_INCBUF, ulMaxRes = DK_INCRES;
      static char cToken[] = "stcdiouxXaAeEfgGpnSC";

      cIntMod = NULL;
      cRes = (char *)hb_xgrab( ulMaxRes );
      cBuffer = (char *)hb_xgrab( ulMaxBuf );
      cParFrm = (char *)hb_xgrab( ulItmFrm + sizeof(char) );

      for( p = 0; p < argc; /* Not p++ by support index & indirect arguments */ ){

         c = cItmFrm + ulParPos;
         s = f = i = ulWidth = arg = iCOut = IsType = IsIndW = iIndWidth = IsIndP = iIndPrec = 0;
         do{   /* Get Par Format */
            cParFrm[i++] = *c;
            if( f && *c == '%' ){
               f = ulWidth = IsIndW = IsIndP = 0;
            }else if( f && !ulWidth && *c >= '0' && *c <= '9' ){
               ulWidth = atol( c );
            }else if( f && *c == '.' ){
               if( f++ == 2 ) iErrorPar = 1;
            }else if( f && *c == '*' ){
               if( f == 2 ){
                  if( IsIndP ){
                     f = 3; iErrorPar = 1;
                  }else{
                     IsIndP = 1;
                  }
               }else if( !IsIndW ){
                  IsIndW = 1;
               }else{
                  f = 3; iErrorPar = 1;
               }
            }else if( f && *c == '$' ){
               if( ulWidth && IsIndP && !iIndPrec ){
                  iIndPrec = ulWidth;
                  iCOut = '*';
               }else if( ulWidth && IsIndW && !iIndWidth ){
                  iIndWidth = ulWidth;
                  ulWidth = 0; iCOut = '*';
               }else if( ulWidth && !arg ){
                  arg = ulWidth;
                  ulWidth = 0; iCOut = '%';
               }else{
                  f = 3; iErrorPar = 1;
               }
               while( i && cParFrm[--i] != iCOut ) {};
               ++i; iCOut = 0;
            }else if( f && *c == '{' ){
               if( s ){
                  f = 3; iErrorPar = 1;
               }else{   /* Remove Internal Modifier */
                  if( cIntMod == NULL ){
                     cIntMod = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
                  }
                  while( *c++ && *c != '}' ) cIntMod[s++] = *c;
                  --i; cIntMod[s] = '\0';
                  if( *(c - 1) == '\0' ){
                     f = 3; iErrorPar = 1;
                  }
               }
            }else if( f && strchr(cToken, *c) ){
               f = 3; iCOut = *c;
            }else if( *c == '%' ){
               f = 1;
            }
            c++;
         }while( f < 3 && *c ); cParFrm[f = i] = '\0';
         if( iErrorPar ) break;

         if( iCOut == 't' ){
            if( cParFrm[f - 2] == '%' ){
               IsType = 1; iCOut = cParFrm[f - 1] = 's';
            }else{
               iErrorPar = 1; break;
            }
         }

         if( IsIndW  ){ /* Get Par Indirectly Width Item */
            pItmPar = hb_param( (iIndWidth ? iIndWidth + 1 :  p++ + 2), HB_IT_INTEGER );
            if( pItmPar ){
               if( (iIndWidth = hb_itemGetNI( pItmPar )) < 0 ){
                  ulWidth = -iIndWidth;
               }else{
                  ulWidth = iIndWidth;
               }
            }else{
               iErrorPar = 1; break;
            }
         }

         if( IsIndP ){  /* Get Par Indirectly Precision Item */
            pItmPar = hb_param( (iIndPrec ? iIndPrec + 1 :  p++ + 2), HB_IT_INTEGER );
            if( pItmPar ){
               iIndPrec = hb_itemGetNI( pItmPar );
            }else{
               iErrorPar = 1; break;
            }
         }

         if( !arg && *c && p == argc - 1 ){ /* No more Par Items */
            do{ cParFrm[i++] = *c; }while( *c++ ); i--;
         }  /* i == strlen(cParFrm) */

         pItmPar = hb_param( (arg ? arg + 1 :  p++ + 2), HB_IT_ANY );   /* Get Par Item */
         if( !pItmPar ){
            iErrorPar = 1; break;
         }

         if( !iCOut || iCOut == 'n' ){ /* Par Text Out */

            for( f = i, i = 0; i < f; i++ ){ /* Change %% with % */
               if( cParFrm[i] == '%' && cParFrm[i + 1] == '%' ){
                  memcpy( cParFrm + i, cParFrm + i + 1, f - i );
                  f--;
               }
            }  /* i == strlen(cParFrm) */
            if( iCOut ){
               for( f = 0; f < i; f++ ){  /* Erase %n */
                  if( cParFrm[f] == '%' && cParFrm[f + 1] == 'n' ){
                     memcpy( cParFrm + f, cParFrm + f + 2, i - f - 1 );
                     break;
                  }
               }  /* f == Index % of n */
               if( f < i ){
                  i -= 2;  /* i == strlen(cParFrm) */
                  hb_itemPutNL( pItmPar, ulResPos + f );
               }else{
                  iErrorPar = 1; break;
               }
            }
            if( (f = i + sizeof(char)) > ulMaxBuf ){
               ulMaxBuf += f + DK_INCBUF;
               cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
            }
            hb_strncpy( cBuffer, cParFrm, i ); s = i;

         }else{   /* Par Item sprintf() Out */

#        ifdef HB_IT_NULL
            if( (HB_IS_NIL( pItmPar ) || HB_IS_NULL( pItmPar )) ){
#        else
            if( HB_IS_NIL( pItmPar ) ){
#        endif
               ulWidth = f; IsIndW = IsIndP = 0;
               while( cParFrm[--f] != '%' ) {};
               iCOut = cParFrm[f + 1] = 's'; /* Change format with %s */
               memcpy( cParFrm + f + 2, cParFrm + ulWidth, i - ulWidth + 1 );
               i -= ulWidth - f - 2;   /* i == strlen(cParFrm) */
               if( (f = i + 5) > ulMaxBuf ){ /* size of "NULL" == 5 */
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar );
               hb_itemPutCL( pItmCpy, "NULL", 4 );
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmCpy );
               hb_itemRelease( pItmCpy );

            }else if( HB_IS_STRING( pItmPar ) && (iCOut == 's' || iCOut == 'S') ){
               if( IsType ){
                  hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar ); pItmPar = pItmCpy;
                  STAItm( pItmPar );
               }
               f = hb_itemGetCLen( pItmPar );
               if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );
               if( IsType ) hb_itemRelease( pItmPar );

            }else if( HB_IS_DATE( pItmPar ) && iCOut == 's' ){
               char cDTBuf[ 19 ], cDTFrm[ 28 ]; /* 26 + 2 if %t and change format time */

               if( s ){ /* Internal Modifier */
                  for( f = 0; cIntMod[f] && cIntMod[f] != ' '; f++ ) {};
                  if( f != s ) cIntMod[f++] = '\0';   /* Date & Time */
               }

#           ifdef __XHARBOUR__
               if( HB_IS_DATETIME( pItmPar ) ){
                  hb_datetimeFormat( hb_itemGetDTS( pItmPar, cDTBuf ), cDTFrm,
                                       (s ? cIntMod : (IsType ? "YYYY-MM-DD" : hb_set.HB_SET_DATEFORMAT)),
                                       (s ? cIntMod + f : "HH:MM:SS") );
                  if( s ){
                     if( !cIntMod[0] ){
                        memcpy( cDTFrm, cDTFrm + 1, 27 );   /* LTrim 1 space if only Time */
                     }else if( cDTFrm[s] == ' ' ){
                        cDTFrm[s] = '\0'; /* RTrim 1 space if only Date */
                     }
                  }
               }else
#           endif
                  hb_dateFormat( hb_itemGetDS( pItmPar, cDTBuf ), cDTFrm,
                                    (s ? cIntMod : (IsType ? "YYYY-MM-DD" : hb_set.HB_SET_DATEFORMAT)) );

               if( (f = i + HB_MAX(ulWidth, 28)) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar );
               hb_itemPutC( pItmCpy, cDTFrm );
               if( IsType ) STAItm( pItmCpy );
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmCpy );
               hb_itemRelease( pItmCpy );

            }else if( HB_IS_LOGICAL( pItmPar ) ){

               if( s ){ /* Internal Modifier */
                  for( f = 0; cIntMod[f] && cIntMod[f] != ','; f++ ) {};
                  if( f != s ) cIntMod[f++] = '\0';   /* TRUE & FALSE */
               }
               if( iCOut == 's' ){
                  hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar ); pItmPar = pItmCpy;
                  hb_itemPutC( pItmPar, (hb_itemGetL( pItmPar ) ? (s ? cIntMod : "TRUE") : (s ? cIntMod + f : "FALSE")) );
               }
               if( (f = i + (iCOut == 's' ? HB_MAX(ulWidth, (s ? s : 6)) : HB_MAX(ulWidth, DK_BLKBUF))) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;   /* size of "FALSE" == 6 */
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );
               if( iCOut == 's' ) hb_itemRelease( pItmPar );

            }else if( iCOut == 's' ){
               char *cTrimStr, *cStr = hb_itemStr( pItmPar, NULL, NULL );

               if( cStr ){
                  f = strlen( cStr ); cTrimStr = hb_strLTrim( cStr, &f );
                  if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
                     ulMaxBuf += f + DK_INCBUF;
                     cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
                  }
                  hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar );
                  hb_itemPutCL( pItmCpy, cTrimStr, f );
                  s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmCpy );
                  hb_itemRelease( pItmCpy ); hb_xfree( cStr );
               }else{
                  iErrorPar = p + 2; break;
               }

            }else if( HB_IS_NUMERIC( pItmPar ) || HB_IS_POINTER( pItmPar ) ){
               if( (f = i + HB_MAX(ulWidth, DK_BLKBUF)) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );

            }else{
               iErrorPar = p + 2; break;
            }
         }

         if( (f = s + ulResPos + sizeof(char)) > ulMaxRes ){
            ulMaxRes += f + DK_INCRES;
            cRes = (char *)hb_xrealloc( cRes, ulMaxRes );
         }
         hb_strncpy( cRes + ulResPos, cBuffer, s ); ulResPos += s;

         if( (ulParPos = c - cItmFrm) >= ulItmFrm ){
            break;   /* No more Par Format */
         }
      }
      if( cIntMod ) hb_xfree( cIntMod );
      hb_xfree( cParFrm ); hb_xfree( cBuffer );
      if( iErrorPar ){
         hb_xfree( cRes );
         if( iErrorPar > 1 ){
            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, 2, hb_paramError( 1 ), hb_paramError( iErrorPar ) );
         }else{
            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, 1, hb_paramError( 1 ) );
         }
      }else{
         hb_retclen_buffer( cRes, ulResPos );
      }
   }
}
From arcadia2 at sbcglobal.net  Sat Aug 23 16:22:59 2008
From: arcadia2 at sbcglobal.net (bill robertson)
Date: Sat Aug 23 16:23:02 2008
Subject: [Harbour] debugger hides global statics
Message-ID: <C125341C4A944478B95E71C7542C22B8@billws>

Hi all,

The debugger can't show the value of global statics. The following program in Harbour gives the value of n1 as nil in the command window. Clipper and xHarbour shows the correct value. Only the displayed value in the debug command window is wrong. Harbour uses the correct value in the program of course.

/* Borland v5.82, Windows XP */
Static n1:= 5
function Main()
Static n2:= 3

AltD()
Clear screen
?
? n1, n2
?

RETURN 0
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080823/0ca1e4d5/attachment-0001.html
From lorenzo.fiorini at gmail.com  Sun Aug 24 02:49:57 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Aug 24 02:50:03 2008
Subject: [Harbour] Moving externally dependent GTs
In-Reply-To: <EC99FAF0-B8FF-414D-97FE-690944C3AA02@syenar.hu>
References: <EC99FAF0-B8FF-414D-97FE-690944C3AA02@syenar.hu>
Message-ID: <9257026e0808232349v1def43abs7a07085fcc0c1038@mail.gmail.com>

On 8/22/08, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> These GTs would be involved in this move:
> - gtalleg
> - gtcrs
> - gtsln
> - gtxwc

I agree for gtalleg.

I strongly disagree for gtcrs, gtsln, gtxwc.
In *nix ncurses, slang and X11 are as standard as gtwin or gtwvt are in Win.

best regards,
Lorenzo

p.s. I'm on vacation using an "instable" gprs connection so I can't
timely replay.
From harbour.01 at syenar.hu  Sun Aug 24 05:38:36 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 24 05:38:54 2008
Subject: [Harbour] Moving externally dependent GTs
In-Reply-To: <9257026e0808232349v1def43abs7a07085fcc0c1038@mail.gmail.com>
References: <EC99FAF0-B8FF-414D-97FE-690944C3AA02@syenar.hu>
	<9257026e0808232349v1def43abs7a07085fcc0c1038@mail.gmail.com>
Message-ID: <824E1AFA-4F7E-4A51-91B9-6CA46296F307@syenar.hu>

Hi Lorenzo,

Okay and I agree (having given it some more thought since).

[ I'm not moving it until everyone comes back from holidays. ]

Brgds,
Viktor

On 2008.08.24., at 8:49, Lorenzo Fiorini wrote:

> On 8/22/08, Szak?ts Viktor <harbour.01@syenar.hu> wrote:
>
>> These GTs would be involved in this move:
>> - gtalleg
>> - gtcrs
>> - gtsln
>> - gtxwc
>
> I agree for gtalleg.
>
> I strongly disagree for gtcrs, gtsln, gtxwc.
> In *nix ncurses, slang and X11 are as standard as gtwin or gtwvt are  
> in Win.
>
> best regards,
> Lorenzo
>
> p.s. I'm on vacation using an "instable" gprs connection so I can't
> timely replay.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Aug 24 05:39:01 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 24 05:39:12 2008
Subject: [Harbour] 2008-08-23 19:00 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <48B05CB3.6010601@gmail.com>
References: <01c90541$Blat.v2.6.2$f35b39e8$2c9836a831c4@127.0.0.1>
	<48B05CB3.6010601@gmail.com>
Message-ID: <63283787-A0AD-48B1-9E15-098FE78876DA@syenar.hu>

Thanks a lot Xavi, I'll commit it ASAP.

Brgds,
Viktor

On 2008.08.23., at 20:53, Xavi wrote:

> Ok, thanks Viktor.
>
> ! strcpy() -> hb_strncpy() in spd.c
>
> Best regards,
> Xavi
>
> Szak?ts Viktor escribi?:
>> 2008-08-23 19:00 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>>   * source/common/hbwince.c
>>     ! strcpy() -> hb_strncpy()
>>     ; TOFIX: Only spd.c and dbgentry.c have some remaining  
>> strcpy()               calls.
>> --
>> Brgds,
>> Viktor
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> /*
> * $Id: spd.c 9170 2008-08-13 03:31:00Z druzus $
> */
>
> /*
> * Harbour Project source code:
> * SQL_SPRINTF() function
> *
> * Copyright 2008 Xavi <jarabal/at/gmail.com>
> *
> * This program is free software; you can redistribute it and/or modify
> * it under the terms of the GNU General Public License as published by
> * the Free Software Foundation; either version 2, or (at your option)
> * any later version.
> *
> * This program is distributed in the hope that it will be useful,
> * but WITHOUT ANY WARRANTY; without even the implied warranty of
> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
> * GNU General Public License for more details.
> *
> * You should have received a copy of the GNU General Public License
> * along with this software; see the file COPYING.  If not, write to
> * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
> * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/) 
> .
> *
> * As a special exception, the Harbour Project gives permission for
> * additional uses of the text contained in its release of Harbour.
> *
> * The exception is that, if you link the Harbour libraries with other
> * files to produce an executable, this does not by itself cause the
> * resulting executable to be covered by the GNU General Public  
> License.
> * Your use of that executable is in no way restricted on account of
> * linking the Harbour library code into it.
> *
> * This exception does not however invalidate any other reasons why
> * the executable file might be covered by the GNU General Public  
> License.
> *
> * This exception applies only to the code released by the Harbour
> * Project under the name Harbour.  If you copy code from other
> * Harbour Project or Free Software Foundation releases into a copy of
> * Harbour, as the General Public License permits, the exception does
> * not apply to the code that you add in this way.  To avoid misleading
> * anyone as to the status of such modified files, you must delete
> * this exception notice from them.
> *
> * If you write modifications of your own for Harbour, it is your  
> choice
> * whether to permit this exception to apply to your modifications.
> * If you do not wish that, delete this exception notice.
> *
> */
>
> #include "hbapi.h"
> #include "hbapiitm.h"
> #include "hbapierr.h"
> #include "hbdate.h"
> #include "hbset.h"
>
> static void STAItm( PHB_ITEM pItmPar )
> {
>   ULONG i, ulItmPar = hb_itemGetCLen( pItmPar );
>   char *cRes, *c, *cItmPar = hb_itemGetCPtr( pItmPar );
>
>   for( i = 3, c = cItmPar; *c; c++ ){
>      if( *c == '\'' ) i++;   /* Count ' Tokens */
>   }
>   cRes = (char *)hb_xgrab( ulItmPar + i * sizeof(char) );
>   i = 0; c = cItmPar; cRes[i++] = '\'';
>   while( *c ){
>      if( *c == '\'' ) cRes[i++] = '\'';
>      cRes[i++] = *c++;
>   }
>   cRes[i++] = '\''; /* cRes[i] = '\0'; */
>   hb_itemPutCLPtr( pItmPar, cRes, i );
> }
>
> static ULONG SCItm( char *cBuffer, ULONG ulMaxBuf, char *cParFrm,  
> int iCOut, int IsIndW, int iIndWidth, int IsIndP, int iIndPrec,  
> PHB_ITEM pItmPar )
> {
>   ULONG s;
>
>   /* NOTE: In DJGPP (4.2.3) snprintf() will be preprocessed to  
> sprintf(), which
>            makes ulMaxBuf unused, and this in turn causes a warning,  
> so we're
>            manually suppressing it. [vszakats] */
>   #if defined(__DJGPP__)
>      HB_SYMBOL_UNUSED( ulMaxBuf );
>   #endif
>
>   if( IsIndW && IsIndP ){
>      switch( iCOut ){
>      case 'p':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth,  
> iIndPrec, hb_itemGetPtr( pItmPar ) );
>         break;
>      case 's': case 'S':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth,  
> iIndPrec, hb_itemGetCPtr( pItmPar ) );
>         break;
>      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a':  
> case 'A':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth,  
> iIndPrec, hb_itemGetND( pItmPar ) );
>         break;
>      /* case 'c': case 'C': case 'd': case 'i': case 'o': case 'u':  
> case 'x': case 'X': */
>      default:
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth,  
> iIndPrec, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) :  
> hb_itemGetNI( pItmPar )) );
>      }
>   }else if( IsIndW || IsIndP ){
>      int iInd = (IsIndW ? iIndWidth : iIndPrec);
>
>      switch( iCOut ){
>      case 'p':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd,  
> hb_itemGetPtr( pItmPar ) );
>         break;
>      case 's': case 'S':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd,  
> hb_itemGetCPtr( pItmPar ) );
>         break;
>      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a':  
> case 'A':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd,  
> hb_itemGetND( pItmPar ) );
>         break;
>      /* case 'c': case 'C': case 'd': case 'i': case 'o': case 'u':  
> case 'x': case 'X': */
>      default:
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd,  
> (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) :  
> hb_itemGetNI( pItmPar )) );
>      }
>   }else{
>      switch( iCOut ){
>      case 'p':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm,  
> hb_itemGetPtr( pItmPar ) );
>         break;
>      case 's': case 'S':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm,  
> hb_itemGetCPtr( pItmPar ) );
>         break;
>      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a':  
> case 'A':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm,  
> hb_itemGetND( pItmPar ) );
>         break;
>      /* case 'c': case 'C': case 'd': case 'i': case 'o': case 'u':  
> case 'x': case 'X': */
>      default:
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm,  
> (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) :  
> hb_itemGetNI( pItmPar )) );
>      }
>   }
>   return s;
> }
>
> / 
> *******************************************************************************
> * ANSI C sprintf() for ANSI SQL with DATE, DATETIME, LOGICAL, NIL,  
> NUMERIC
> *  
> ------------------------------------------------------------------------
> *                      cRes := Sql_sprintf( cFrm, ... )
> *
> * Full compatible ANSI C99 formats with C,S converters wchar_t  
> (UNICODE)
> * Integer & Floating point converters with Width and Precision for  
> NUMERIC & STRING
> * a,A converters Hexadecimal floating point format. Thanks Rafa.
> *  ? Sql_sprintf( "Phi = %A", (1 + 5**0.5) / 2 ) // Phi =  
> 0X1,9E3779B97F4A8P+0
> * %m$,*m$ Index & Indirect arguments C99. Thanks Viktor.
> *  ? Sql_sprintf( "Phi = %2$0*3$.*1$f", 4, (1 + 5**0.5) / 2, 7 ) //  
> Phi = 01.6180
> *
> * s converter for format Harbour data types.
> *    NUMERIC with FIXED DECIMALS = n | n.d   STRING = String's ANSI C
> *    DATE = HB_SET_DATEFORMAT      DATETIME = HB_SET_DATEFORMAT  
> hh:mm:ss
> *     New Internal Modifier {}. Thanks Mindaugas.
> *     Date and Time Format separate by first space {DD/MM/YYYY  
> hh:mm:ss.ccc pm}
> *     {DD/MM/YYYY} = Only Date | { hh:mm:ss.ccc pm} = Only Time
> *        ? Sql_sprintf( "%s", Date() )                // 16/06/08
> *        ? Sql_sprintf( "%s", DateTime() )            // 16/06/08  
> 04:11:21
> *        ? Sql_sprintf( "%{YYYYMMDD}s", DateTime() )  // 20080616
> *        ? Sql_sprintf( "%{ hh:mm pm}s", DateTime() ) // 04:11 AM
> *    LOGICAL = TRUE | FALSE        %d converter for LOGICAL = 1 | 0
> *     Accepts Internal Modifier TRUE and FALSE Format separate by  
> first comma
> *     {T .T.,F .F.} = TRUE & FALSE | {ON} = Only TRUE | {,OFF} =  
> Only FALSE
> *        ? Sql_sprintf( "%{VERDADERO,FALSO}s", .F. ) // FALSO
> *        ? Sql_sprintf( "%{ONLY IF TRUE}s", .T. ) // ONLY IF TRUE
> *
> * New t converter for format ANSI SQL types.
> *    NUMERIC with FIXED DECIMALS = n | n.d   STRING = 'String''s  
> ANSI SQL'
> *    DATE = 'YYYY-MM-DD' DATETIME = 'YYYY-MM-DD HH:MM:SS'
> *     Accepts Internal Modifier like s converter {DD/MM/YYYY  
> hh:mm:ss.ccc pm}
> *    LOGICAL = TRUE | FALSE        Accepts Internal Modifier like s  
> {ON,OFF}
> *
> * Print NULL if the parameter is NIL or HB_IT_NULL
> * Processing %% and n converter Position.
> *******************************************************************************/
>
> #define DK_INCRES 1024
> #define DK_INCBUF 512
> #define DK_BLKBUF HB_MAX_DOUBLE_LENGTH   /* Expense of DK_INCBUF */
>
> HB_FUNC( SQL_SPRINTF )
> {
>   ULONG ulItmFrm;
>   char *cRes, *cItmFrm;
>   int argc = hb_pcount() - 1;
>   PHB_ITEM pItmFrm = hb_param( 1, HB_IT_STRING );
>
>   if( !pItmFrm || (cItmFrm = hb_itemGetCPtr( pItmFrm )) == NULL ){
>      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, 1,  
> hb_paramError( 1 ) );
>   }else if( (ulItmFrm = hb_itemGetCLen( pItmFrm )) == 0 ){
>      hb_retc( NULL );
>   }else if( !argc ){
>      cRes = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
>      memcpy( cRes, cItmFrm, ulItmFrm + sizeof(char) );
>      hb_retclen_buffer( cRes, ulItmFrm );
>   }else{
>      PHB_ITEM pItmPar, pItmCpy;
>      char *cIntMod, *cBuffer, *cParFrm, *c;
>      int p, arg, iCOut, IsType, IsIndW, IsIndP, iIndWidth, iIndPrec,  
> iErrorPar = 0;
>      ULONG s, f, i, ulWidth, ulParPos = 0, ulResPos = 0, ulMaxBuf =  
> DK_INCBUF, ulMaxRes = DK_INCRES;
>      static char cToken[] = "stcdiouxXaAeEfgGpnSC";
>
>      cIntMod = NULL;
>      cRes = (char *)hb_xgrab( ulMaxRes );
>      cBuffer = (char *)hb_xgrab( ulMaxBuf );
>      cParFrm = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
>
>      for( p = 0; p < argc; /* Not p++ by support index & indirect  
> arguments */ ){
>
>         c = cItmFrm + ulParPos;
>         s = f = i = ulWidth = arg = iCOut = IsType = IsIndW =  
> iIndWidth = IsIndP = iIndPrec = 0;
>         do{   /* Get Par Format */
>            cParFrm[i++] = *c;
>            if( f && *c == '%' ){
>               f = ulWidth = IsIndW = IsIndP = 0;
>            }else if( f && !ulWidth && *c >= '0' && *c <= '9' ){
>               ulWidth = atol( c );
>            }else if( f && *c == '.' ){
>               if( f++ == 2 ) iErrorPar = 1;
>            }else if( f && *c == '*' ){
>               if( f == 2 ){
>                  if( IsIndP ){
>                     f = 3; iErrorPar = 1;
>                  }else{
>                     IsIndP = 1;
>                  }
>               }else if( !IsIndW ){
>                  IsIndW = 1;
>               }else{
>                  f = 3; iErrorPar = 1;
>               }
>            }else if( f && *c == '$' ){
>               if( ulWidth && IsIndP && !iIndPrec ){
>                  iIndPrec = ulWidth;
>                  iCOut = '*';
>               }else if( ulWidth && IsIndW && !iIndWidth ){
>                  iIndWidth = ulWidth;
>                  ulWidth = 0; iCOut = '*';
>               }else if( ulWidth && !arg ){
>                  arg = ulWidth;
>                  ulWidth = 0; iCOut = '%';
>               }else{
>                  f = 3; iErrorPar = 1;
>               }
>               while( i && cParFrm[--i] != iCOut ) {};
>               ++i; iCOut = 0;
>            }else if( f && *c == '{' ){
>               if( s ){
>                  f = 3; iErrorPar = 1;
>               }else{   /* Remove Internal Modifier */
>                  if( cIntMod == NULL ){
>                     cIntMod = (char *)hb_xgrab( ulItmFrm +  
> sizeof(char) );
>                  }
>                  while( *c++ && *c != '}' ) cIntMod[s++] = *c;
>                  --i; cIntMod[s] = '\0';
>                  if( *(c - 1) == '\0' ){
>                     f = 3; iErrorPar = 1;
>                  }
>               }
>            }else if( f && strchr(cToken, *c) ){
>               f = 3; iCOut = *c;
>            }else if( *c == '%' ){
>               f = 1;
>            }
>            c++;
>         }while( f < 3 && *c ); cParFrm[f = i] = '\0';
>         if( iErrorPar ) break;
>
>         if( iCOut == 't' ){
>            if( cParFrm[f - 2] == '%' ){
>               IsType = 1; iCOut = cParFrm[f - 1] = 's';
>            }else{
>               iErrorPar = 1; break;
>            }
>         }
>
>         if( IsIndW  ){ /* Get Par Indirectly Width Item */
>            pItmPar = hb_param( (iIndWidth ? iIndWidth + 1 :  p++ +  
> 2), HB_IT_INTEGER );
>            if( pItmPar ){
>               if( (iIndWidth = hb_itemGetNI( pItmPar )) < 0 ){
>                  ulWidth = -iIndWidth;
>               }else{
>                  ulWidth = iIndWidth;
>               }
>            }else{
>               iErrorPar = 1; break;
>            }
>         }
>
>         if( IsIndP ){  /* Get Par Indirectly Precision Item */
>            pItmPar = hb_param( (iIndPrec ? iIndPrec + 1 :  p++ + 2),  
> HB_IT_INTEGER );
>            if( pItmPar ){
>               iIndPrec = hb_itemGetNI( pItmPar );
>            }else{
>               iErrorPar = 1; break;
>            }
>         }
>
>         if( !arg && *c && p == argc - 1 ){ /* No more Par Items */
>            do{ cParFrm[i++] = *c; }while( *c++ ); i--;
>         }  /* i == strlen(cParFrm) */
>
>         pItmPar = hb_param( (arg ? arg + 1 :  p++ + 2),  
> HB_IT_ANY );   /* Get Par Item */
>         if( !pItmPar ){
>            iErrorPar = 1; break;
>         }
>
>         if( !iCOut || iCOut == 'n' ){ /* Par Text Out */
>
>            for( f = i, i = 0; i < f; i++ ){ /* Change %% with % */
>               if( cParFrm[i] == '%' && cParFrm[i + 1] == '%' ){
>                  memcpy( cParFrm + i, cParFrm + i + 1, f - i );
>                  f--;
>               }
>            }  /* i == strlen(cParFrm) */
>            if( iCOut ){
>               for( f = 0; f < i; f++ ){  /* Erase %n */
>                  if( cParFrm[f] == '%' && cParFrm[f + 1] == 'n' ){
>                     memcpy( cParFrm + f, cParFrm + f + 2, i - f - 1 );
>                     break;
>                  }
>               }  /* f == Index % of n */
>               if( f < i ){
>                  i -= 2;  /* i == strlen(cParFrm) */
>                  hb_itemPutNL( pItmPar, ulResPos + f );
>               }else{
>                  iErrorPar = 1; break;
>               }
>            }
>            if( (f = i + sizeof(char)) > ulMaxBuf ){
>               ulMaxBuf += f + DK_INCBUF;
>               cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>            }
>            hb_strncpy( cBuffer, cParFrm, i ); s = i;
>
>         }else{   /* Par Item sprintf() Out */
>
> #        ifdef HB_IT_NULL
>            if( (HB_IS_NIL( pItmPar ) || HB_IS_NULL( pItmPar )) ){
> #        else
>            if( HB_IS_NIL( pItmPar ) ){
> #        endif
>               ulWidth = f; IsIndW = IsIndP = 0;
>               while( cParFrm[--f] != '%' ) {};
>               iCOut = cParFrm[f + 1] = 's'; /* Change format with %s  
> */
>               memcpy( cParFrm + f + 2, cParFrm + ulWidth, i -  
> ulWidth + 1 );
>               i -= ulWidth - f - 2;   /* i == strlen(cParFrm) */
>               if( (f = i + 5) > ulMaxBuf ){ /* size of "NULL" == 5 */
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar );
>               hb_itemPutCL( pItmCpy, "NULL", 4 );
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmCpy );
>               hb_itemRelease( pItmCpy );
>
>            }else if( HB_IS_STRING( pItmPar ) && (iCOut == 's' ||  
> iCOut == 'S') ){
>               if( IsType ){
>                  hb_itemCopy( pItmCpy = hb_itemNew( NULL ),  
> pItmPar ); pItmPar = pItmCpy;
>                  STAItm( pItmPar );
>               }
>               f = hb_itemGetCLen( pItmPar );
>               if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>               if( IsType ) hb_itemRelease( pItmPar );
>
>            }else if( HB_IS_DATE( pItmPar ) && iCOut == 's' ){
>               char cDTBuf[ 19 ], cDTFrm[ 28 ]; /* 26 + 2 if %t and  
> change format time */
>
>               if( s ){ /* Internal Modifier */
>                  for( f = 0; cIntMod[f] && cIntMod[f] != ' '; f++ )  
> {};
>                  if( f != s ) cIntMod[f++] = '\0';   /* Date & Time */
>               }
>
> #           ifdef __XHARBOUR__
>               if( HB_IS_DATETIME( pItmPar ) ){
>                  hb_datetimeFormat( hb_itemGetDTS( pItmPar,  
> cDTBuf ), cDTFrm,
>                                       (s ? cIntMod : (IsType ? "YYYY- 
> MM-DD" : hb_set.HB_SET_DATEFORMAT)),
>                                       (s ? cIntMod + f :  
> "HH:MM:SS") );
>                  if( s ){
>                     if( !cIntMod[0] ){
>                        memcpy( cDTFrm, cDTFrm + 1, 27 );   /* LTrim  
> 1 space if only Time */
>                     }else if( cDTFrm[s] == ' ' ){
>                        cDTFrm[s] = '\0'; /* RTrim 1 space if only  
> Date */
>                     }
>                  }
>               }else
> #           endif
>                  hb_dateFormat( hb_itemGetDS( pItmPar, cDTBuf ),  
> cDTFrm,
>                                    (s ? cIntMod : (IsType ? "YYYY-MM- 
> DD" : hb_set.HB_SET_DATEFORMAT)) );
>
>               if( (f = i + HB_MAX(ulWidth, 28)) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar );
>               hb_itemPutC( pItmCpy, cDTFrm );
>               if( IsType ) STAItm( pItmCpy );
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmCpy );
>               hb_itemRelease( pItmCpy );
>
>            }else if( HB_IS_LOGICAL( pItmPar ) ){
>
>               if( s ){ /* Internal Modifier */
>                  for( f = 0; cIntMod[f] && cIntMod[f] != ','; f++ )  
> {};
>                  if( f != s ) cIntMod[f++] = '\0';   /* TRUE & FALSE  
> */
>               }
>               if( iCOut == 's' ){
>                  hb_itemCopy( pItmCpy = hb_itemNew( NULL ),  
> pItmPar ); pItmPar = pItmCpy;
>                  hb_itemPutC( pItmPar, (hb_itemGetL( pItmPar ) ?  
> (s ? cIntMod : "TRUE") : (s ? cIntMod + f : "FALSE")) );
>               }
>               if( (f = i + (iCOut == 's' ? HB_MAX(ulWidth, (s ? s :  
> 6)) : HB_MAX(ulWidth, DK_BLKBUF))) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;   /* size of "FALSE" ==  
> 6 */
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>               if( iCOut == 's' ) hb_itemRelease( pItmPar );
>
>            }else if( iCOut == 's' ){
>               char *cTrimStr, *cStr = hb_itemStr( pItmPar, NULL,  
> NULL );
>
>               if( cStr ){
>                  f = strlen( cStr ); cTrimStr = hb_strLTrim( cStr,  
> &f );
>                  if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
>                     ulMaxBuf += f + DK_INCBUF;
>                     cBuffer = (char *)hb_xrealloc( cBuffer,  
> ulMaxBuf );
>                  }
>                  hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar );
>                  hb_itemPutCL( pItmCpy, cTrimStr, f );
>                  s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut,  
> IsIndW, iIndWidth, IsIndP, iIndPrec, pItmCpy );
>                  hb_itemRelease( pItmCpy ); hb_xfree( cStr );
>               }else{
>                  iErrorPar = p + 2; break;
>               }
>
>            }else if( HB_IS_NUMERIC( pItmPar ) ||  
> HB_IS_POINTER( pItmPar ) ){
>               if( (f = i + HB_MAX(ulWidth, DK_BLKBUF)) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else{
>               iErrorPar = p + 2; break;
>            }
>         }
>
>         if( (f = s + ulResPos + sizeof(char)) > ulMaxRes ){
>            ulMaxRes += f + DK_INCRES;
>            cRes = (char *)hb_xrealloc( cRes, ulMaxRes );
>         }
>         hb_strncpy( cRes + ulResPos, cBuffer, s ); ulResPos += s;
>
>         if( (ulParPos = c - cItmFrm) >= ulItmFrm ){
>            break;   /* No more Par Format */
>         }
>      }
>      if( cIntMod ) hb_xfree( cIntMod );
>      hb_xfree( cParFrm ); hb_xfree( cBuffer );
>      if( iErrorPar ){
>         hb_xfree( cRes );
>         if( iErrorPar > 1 ){
>            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL,  
> HB_ERR_FUNCNAME, 2, hb_paramError( 1 ), hb_paramError( iErrorPar ) );
>         }else{
>            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL,  
> HB_ERR_FUNCNAME, 1, hb_paramError( 1 ) );
>         }
>      }else{
>         hb_retclen_buffer( cRes, ulResPos );
>      }
>   }
> }

From harbour.01 at syenar.hu  Sun Aug 24 05:53:26 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 24 05:53:25 2008
Subject: [Harbour] 2008-08-24 11:47 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c905cf$Blat.v2.6.2$40cf560e$2aacc2c17330@127.0.0.1>

2008-08-24 11:47 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbmisc/spd.c
     ! strcpy() -> hb_strncpy()
       Patch by Xavi. Many thanks.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Aug 24 07:21:20 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 24 07:21:20 2008
Subject: [Harbour] 2008-08-24 13:15 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c905db$Blat.v2.6.2$8867cad0$12f849dc2e6a@127.0.0.1>

2008-08-24 13:15 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/vm/runner.c
   * source/vm/fm.c
   * source/common/hbver.c
   * source/rtl/hbgtcore.c
   * source/rtl/gtwvt/gtwvt.c
   * source/rdd/dbfntx/dbfntx1.c
   * source/rdd/workarea.c
   * source/rdd/wacore.c
   * source/rdd/sdf1.c
   * source/rdd/dbfcdx/dbfcdx1.c
   * source/rdd/delim1.c
   * source/rdd/dbf1.c
   * source/rdd/wafunc.c
   * source/rdd/dbffpt/dbffpt1.c
   * source/compiler/hbmain.c
   * source/compiler/fixflex.c
   * source/compiler/gencobj.c
   * source/compiler/genc.c
   * source/compiler/harbour.yyc
   * source/compiler/harbour.y
   * contrib/hbct/disk.c
   * contrib/hbwhat32/whtcdlg.c
   * contrib/gtwvg/gtwvg.c
   * contrib/rddads/adsfunc.c
   * contrib/rddads/ads1.c
   * contrib/hbbmcdx/bmdbfcdx.c
   * contrib/examples/pp/hbppcomp.c
     * hb_strncpy()/hb_strncat() size parameter changed from 
       CONSTANT to 'sizeof( dest ) - 1', where applicable.
     ! hbct/VOLUME() buffer overrun fixed.
     ; NOTE: dbfntx1.c has a couple of places where I wasn't 
             sure of the intention, so I left them unchanged.
--
Brgds,
Viktor

From gvarona at ec-red.com  Sun Aug 24 10:00:28 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Sun Aug 24 10:00:43 2008
Subject: [Harbour] Error of Application Exception testing
	D:\harbour\contrib\hbole\tests\testole.prg
Message-ID: <48B1697C.5060707@ec-red.com>

Hello:
Testing D:\harbour\contrib\hbole\tests\testole.prg, compile ok, but when 
you run, get this:

With Excel:


With Word


What was I missing?
TIA
Best Regards.
GVS

I use:
Env.: WinXP SP2 + MinGW + Harbour 1.0.0
xMate with this ENV:
[Environment]
Description 1=Harbour + MinGW + DOS
Description 2=
Description 3=
PRG Compiler ver=
C compiler ver=
Subsystem=
Author=GVS
Last update=08/24/2008

[Advanced]
Command types=1,1,1,1,1,1,1,1,1

[Harbour]
HB_INSTALL=D:\harbourMinGW
HB_COMMAND=%HB_BIN_INSTALL%\Harbour.Exe %PRG% /m /n /gc0 /w0 /es2 /a /b 
/i%HB_INC_INSTALL%
Option prefix=/

[C]
C_INSTALL=C:\MinGW
C_COMP_COMMAND=%C_BIN_INSTALL%\gcc.Exe%CRLF% -I%HB_INC_INSTALL% 
-I%C_INC_INSTALL%%CRLF% -mno-cygwin -Wall -c %C% -o%OBJ%
C_LIB_COMMAND=%C_BIN_INSTALL%\ar.Exe -M < %RSP%
C_LINK_COMMAND=%C_BIN_INSTALL%\gcc.Exe -o%EXE% -Wall -mno-cygwin  
-mwindows -I%C_INC_INSTALL% %LNK%
C_RC_COMMAND=%C_BIN_INSTALL%\windres.exe -i %RC% -o %RES%
C_DLL_COMMAND=
Option prefix=-

[User]
POSTEXE_COMMAND=
POSTLIB_COMMAND=
POSTDLL_COMMAND=

[Files]
%HB_LIB_INSTALL%\LibAbraxasMinGW.A=1
%HB_LIB_INSTALL%\libhbole.a=2
%HB_LIB_INSTALL%\libgtcgi.a=3
%HB_LIB_INSTALL%\libgtgui.a=4
%HB_LIB_INSTALL%\libgtpca.a=5
%HB_LIB_INSTALL%\libgtstd.a=6
%HB_LIB_INSTALL%\libgtwin.a=7
%HB_LIB_INSTALL%\libgtwvg.a=8
%HB_LIB_INSTALL%\libgtwvt.a=9
%HB_LIB_INSTALL%\libhbbmcdx.a=10
%HB_LIB_INSTALL%\libhbbtree.a=11
%HB_LIB_INSTALL%\libhbclipsm.a=12
%HB_LIB_INSTALL%\libhbcommon.a=13
%HB_LIB_INSTALL%\libhbcpage.a=14
%HB_LIB_INSTALL%\libhbcplr.a=15
%HB_LIB_INSTALL%\libhbct.a=16
%HB_LIB_INSTALL%\libhbdebug.a=17
%HB_LIB_INSTALL%\libhbgt.a=18
%HB_LIB_INSTALL%\libhbhsx.a=19
%HB_LIB_INSTALL%\libhblang.a=20
%HB_LIB_INSTALL%\libhbmacro.a=21
%HB_LIB_INSTALL%\libhbmainstd.a=22
%HB_LIB_INSTALL%\libhbmisc.a=23
%HB_LIB_INSTALL%\libhbnf.a=24
%HB_LIB_INSTALL%\libhbodbc.a=25
%HB_LIB_INSTALL%\libhbpcre.a=26
%HB_LIB_INSTALL%\libhbpp.a=27
%HB_LIB_INSTALL%\libxhb.a=28
%HB_LIB_INSTALL%\libhbrdd.a=29
%HB_LIB_INSTALL%\libhbrtl.a=30
%HB_LIB_INSTALL%\libhbsix.a=31
%HB_LIB_INSTALL%\libhbtip.a=32
%HB_LIB_INSTALL%\libhbusrrdd.a=33
%HB_LIB_INSTALL%\libhbvm.a=34
%HB_LIB_INSTALL%\libhbw32.a=35
%HB_LIB_INSTALL%\librddado.a=36
%HB_LIB_INSTALL%\librddcdx.a=37
%HB_LIB_INSTALL%\librddfpt.a=38
%HB_LIB_INSTALL%\librddntx.a=39
%C_LIB_INSTALL%\liboleaut32.a=40
%C_LIB_INSTALL%\libolesvr32.a=41
%C_LIB_INSTALL%\libole32.a=42
%C_LIB_INSTALL%\liboleacc.a=43
%C_LIB_INSTALL%\libolecli32.a=44
%C_LIB_INSTALL%\liboledlg.a=45
%C_LIB_INSTALL%\libolepro32.a=46
%C_LIB_INSTALL%\libuuid.a=47
%C_LIB_INSTALL%\libcomctl32.a=48
%C_LIB_INSTALL%\libcomdlg32.a=49
%C_LIB_INSTALL%\libobjc.a=50
%HB_LIB_INSTALL%\libhbsqlit3.a=51
<cid:part3.07010009.01090307@ec-red.com>
-------------- next part --------------
Skipped content of type multipart/related
From harbour.01 at syenar.hu  Sun Aug 24 12:19:51 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 24 12:19:55 2008
Subject: [Harbour] 2008-08-24 18:18 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90605$Blat.v2.6.2$3cafdcf2$282c227f4e42@127.0.0.1>

2008-08-24 18:18 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/compiler/cmdcheck.c
   * source/compiler/hbusage.c
     * Changed default .c code generation option to -gc0 (from -gc2).
       So now the default is 'compact' (faster/smaller) instead of 
       'verbose' (good to inspect/debug how Harbour pcode works).

   * make_b32.mak
   * make_gcc.mak
   * make_vc.mak
   * make_vcce.mak
   * contrib/mtpl_b32.mak
   * contrib/mtpl_gcc.mak
   * contrib/mtpl_vc.mak
     % Removed explicit -gc0 switches from Harbour command lines.

   * make_vcce.mak
     % Removed unnecessary -DHB_WINCE from Harbour command line.
--
Brgds,
Viktor

From capelsoft at terra.es  Sun Aug 24 14:28:21 2008
From: capelsoft at terra.es (=?iso-8859-1?Q?Jos=E9_Luis_Capel_-?=)
Date: Sun Aug 24 14:28:28 2008
Subject: [Harbour] HB_FUN_STATIC
References: <01c9020e$Blat.v2.6.2$ce7fffa4$16e84a39022c@127.0.0.1><D0C9CBC7E59D4DAFBA2EA74750614DAA@pepeluis>
	<48AF760F.3020404@gmail.com>
Message-ID: <5D51AF493990471FBCFC6C8F6E293C54@pepeluis>

Hola Xavi,



> Jos?,
>> Should not it shows 'Hello' instead of 'Bye'??
> No consigo reproducir el problema: con tres PRGs me presenta 'Hello'.
> Por cierto, XEdit 2 (abril 2008) tiene problemas para gestionar el "M?dulo 
> principal" si no lo has creado el primero. :)
>
> Un saludo
> Xavi
>

Gracias por responder.  Al final resulta que es un error m?o... (realmente 
no comprob? el ejemplo, y claro, el ejemplo funciona bien).  El problema es 
en realidad la definici?n del m?todo desarrollado en C.  F?jate que en la 
clase 'MyOtherClass' el m?todo 'MyMethod' no est? definido y s? 
desarrollado.

// one.prg

CLASS MyClass
    METHOD MyMethod() INLINE 'Bye'
    METHOD New() INLINE Self
ENDCLASS

// Two.Prg

CLASS MyOtherClass FROM MyClass
   // METHOD MyMethod()
    METHOD OtherMethod() INLINE .T.
ENDCLASS

#pragma BEGINDUMP
#include "hbapi.h"

HB_FUNC_STATIC( MYOTHERCLASS_MYMETHOD )
{
    hb_retc("Hello");
}

#pragma ENDDUMP

// Three.prg
FUNCTION MAIN()

    LOCAL o

    o := MyOtherClass():New()

    ? o:MyMethod() // --> 'Bye'

RETURN NIL

Al compilar estos tres prgs no hay queja alguna usando -w3.  Y por eso no me 
di cuenta de que el m?todo que realmente se estaba ejecutando era el del 
padre.

Saludos y gracias por tu ayuda.
Jos? Luis Capel

From harbour.01 at syenar.hu  Sun Aug 24 14:41:33 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 24 14:41:39 2008
Subject: [Harbour] 2008-08-24 20:40 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90619$Blat.v2.6.2$0824bb06$2218913a2236@127.0.0.1>

2008-08-24 20:40 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbole/ole2.c
     ! Fixed GPF reported by Guillermo.
       (introduced in 1.0.0rc2 when switching from parnl to 
       parptr as 64-bit cleanup, two calls were missed from 
       the update).
     ! Fixed another potential problem.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Aug 24 14:57:34 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 24 14:57:36 2008
Subject: [Harbour] 2008-08-24 21:10 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c9061b$Blat.v2.6.2$449bdcde$2eac7df33ca2@127.0.0.1>

2008-08-24 21:10 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbw32/w32_ole.c
   * contrib/hbole/ole2.c
     ! 64-bit fix for MessageBox() Harbour level functions.
     * Formatting.
--
Brgds,
Viktor

From mbelgrano at deltain.it  Mon Aug 25 07:16:38 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Aug 25 07:16:45 2008
Subject: R: [Harbour] SVN: Created tag harbour-1.0.0
In-Reply-To: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>
References: <7F08C37B-12B0-434D-A431-E2A9A8D25A55@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEE2@SRV02.deltain.net>

Thanks to everybody but particularly to Przemek and Viktor for this superb work.


-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] Per conto di Szak?ts Viktor
Inviato: mercoled? 13 agosto 2008 17.42
A: Harbour Project Main Developer List.
Oggetto: [Harbour] SVN: Created tag harbour-1.0.0

Hi all,

I've created Harbour 1.0.0 tag just now.

URL:
https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/tags/harbour-1.0.0

To use it, export the URL with 'svn export <URL>'.

This URL is meant to be read-only, so don't checkout,
and even more so don't commit to it anything. Again:
Commit 1.0.0 patches to branch 1.0, and continue towards
1.1 development in main branch (trunk).

[ Next move is to upload source downloads, than binaries,
and update our homepage, and announce the release in relevant
places. ]

[ I'll now go to breath some fresh air to Sziget 2008 though :) ]

Many thanks for everyone to help reaching this point.

Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Mon Aug 25 07:20:31 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Aug 25 07:20:37 2008
Subject: [Harbour] Wich choice for  Multi-Window GT ?
In-Reply-To: <17855569.post@talk.nabble.com>
References: <17855569.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEE3@SRV02.deltain.net>

Now that xharbour 1.0.0.0 is released, I hope that start exchange of opinion about MultiWIndows Gt proposed by Pritpal

-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] Per conto di Pritpal Bedi
Inviato: luned? 16 giugno 2008 1.05
A: harbour@harbour-project.org
Oggetto: [Harbour] Multi-Window GT - New Implementation


Hello Viktor, all

<<<
hb_wSelect( [<nNewSelectedWnd>] ) -> nPrevSelectedWnd

hb_wOpen( ... ) -> <wnd>
hb_wClose( wnd )
hb_wDispOut( wnd, "Text" [, cnColor ] )
hb_wDispOutAt( wnd, 10, 10, "Text" [, cnColor ] )
hb_wSetColor( wnd [, cnColor ] ) -> <cnOldColor>
hb_wSetPos( wnd, r, c )
hb_wRow( wnd ) -> r
hb_wCol( wnd ) -> c
hb_wBox( wnd, ... )
hb_wShadow( wnd[, nMode ] ) -> <nOldMode>
hb_wMove( wnd, ... )
hb_wShow( wnd )
hb_wHide( wnd )
hb_wMaxRow( wnd )
hb_wMaxCol( wnd )
hb_wList() -> <aWnd> (list of all open windows)
>>>

<<<
After such call all regular display functions
will be rerouted to the selected window. Existing
classes and other program parts which are supposed
to keep writing to the same window (like TBrowse),
should internally store the selected window at
creation time, and select this whenever doing any
output.
>>>

I am ready to provide the multi-window in above said manner.

All output/input goes to window selected with

hb_wSelect( [<nNewSelectedWnd>] ) -> nPrevSelectedWnd

though other windows may be viewable by a click.

It will need few more methods to be implemented in core GT.

The skelton will be like:

nWnd := hb_wCreate/Open( nTop, nLeft, nBottom, nRight ) 

/* NOTE: Base window will ever be 0 */
if nWnd > 0
   ? SetAppWindow()   // 1
   SetColor( 'N/W' )
   CLS
   @ 10,10 SAY [x]Harbour'
   @ 12,10 GET someVrbl
   READ
   
   Hb_wDestroy/Close( nWnd )
endif

Now suppose base window is clicked by the user while nWnd is in READ state,
how the GT should respond to it ? We may work on two angles:

1) Make it a modal window so that user is never allowed to click on base
window.
2) Allow user to view the contents of base window then he is to click again
on nWnd.

If we agree on this I can start working on it. Basic prototype
should be ready within a day or two.

We can guard these method in core with a define also.
Because these methods are additions and interfere nothing with thw core
code, I suggest to keep these without guard.

Awaiting opinions.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---New-Implementation-tp17855569p17855569.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Mon Aug 25 07:29:56 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Aug 25 07:30:02 2008
Subject: R: [Harbour] hbmake 
In-Reply-To: <FB38A3A5F67E49B492AC52C64269EFC3@billws>
References: <CF5C00689F804270A63266A0DAB21B57@billws><4A51A5A3-0190-4BDD-83DB-B8B1779B0FEB@syenar.hu><C9703610CE8947AFBA9B638135088724@billws><C4515887-52BB-476D-A09D-110F2AEE527A@syenar.hu><A0FC69FF90A0475EBB58EA3FB24ACB00@billws><CF3CD8E5-059D-4758-A081-80FEF89039DF@syenar.hu><AB553226FE5C48DC9FBC684A1C9A1F79@billws><0DE74767-5836-4B39-B5FC-2B260649E0B5@syenar.hu>
	<FB38A3A5F67E49B492AC52C64269EFC3@billws>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEE4@SRV02.deltain.net>

i want refer a good documentation regarding harbour as chm/html http://www.oohg.org/manual/harbour/(x)harbour.html

It is made by free helpmaker (http://www.vizacc.com/Default.aspx ) HelpMaker is a good  Help Authoring tool.It can export htm,pdf,rtf
This documentation is made by Janusz in the oop minigui project and i have his agreement on upload on Harbour csv.

Can we include this documentation on next harbour distribution?

-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] Per conto di bill robertson
Inviato: gioved? 21 agosto 2008 22.06
A: Harbour Project Main Developer List.
Oggetto: Re: [Harbour] hbmake

----- Original Message ----- 
From: "Szak?ts Viktor" <harbour.01@syenar.hu>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Thursday, August 21, 2008 2:11 PM
Subject: Re: [Harbour] hbmake


> Hi Bill,
>
> Can you send me a patch for the current version
> of hbmake, with your fixes?
>
Hi Viktor,

I never patched hbmake, only hbdoc and the fixes for hbdoc were for 
DOS/Windows only tools which are fairly limited in scope. I was hoping that 
someone would have answered your request in Dec for input about using a more 
modern documentor such as robodoc or natural doc.

I thought about adding a module to hbdoc to produce robodoc files. However, 
when I looked at the document files, their format and quality was 
inconsistent. Some of the better docs didn't have any of the tags that hbdoc 
used. For example, none of the text files in \harbour\doc\ have the $tag$ 
format and they contain quite useful information. Most, but not all, of the 
text files in the en/ and es/ directories have $tag$ formats. To a lesser 
extent, the same is true of the .prg and .c files.

Some of the files have no more than the following information. This isn't in 
the standard hbdoc format and while my changes handled this OK; it's of very 
limited use.
 * $Doc$
 * $Description$  Debug function tests.
 *                Based on classes.prg
 * $Requirement$  source\tools\stringp.prg
 *                source\rtl\objfunc.prg
 *                source\rtl\asort.prg
 * $End$

Because of these little problems, I loaded the windows version of the groff 
document processing packages and looked at the old macros I used to use with 
UNIX System V. Those macros (man, me, ms, mm) seem pretty dated to me now. 
Even the new mom macro didn't seem to produce much improvement without a lot 
of effort. No wonder xHarbour had such a cost overrun with their manual 
produced by Dr. Ziegler.

As it stands, your idea of moving hbdoc and hbmake out of the main stream 
may be best. I might be able to make some small improvements in hbdoc and 
hbmake, but I'm quite novice compared to the harbour developers. 

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Mon Aug 25 07:36:38 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Aug 25 07:36:44 2008
Subject: [Harbour] Suggestion for harbour web site?
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEE5@SRV02.deltain.net>

Please post here any suggestion for harbour website

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080825/64fee831/attachment.html
From druzus at acn.waw.pl  Mon Aug 25 08:04:44 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 25 08:04:53 2008
Subject: [Harbour] 2008-08-23 11:38 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c9050d$Blat.v2.6.2$179a414e$23f436ea9dee@127.0.0.1>
References: <01c9050d$Blat.v2.6.2$179a414e$23f436ea9dee@127.0.0.1>
Message-ID: <20080825120444.GA17241@34-mo7-2.acn.waw.pl>

On Sat, 23 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

[...]

>    ; Przemek, could you double check these changes pls?
>      I can send you the .diff if it helps.

I've just created one myself.
In few places this modifications are wrong and introduced bugs.
F.e. In DBFNTX replacing strncpy() by hb_strncpy() causes that
setting 'key_expr' damages 'unique' flag.
In most of cases when I was using strncpy() instead of hb_strncpy()
it was intentional because trailing 0 was not necessary or even
_MUST_NOT_BE_ set when string allocates whole buffer, f.e. in
low RDD structures.

I also do not find replacing all:
   hb_strncpy( dest, src, CONST_DEFINE )
with:
   hb_strncpy( dest, src, sizeof( dest ) - 1 )

as good idea because it will make code updating harder in some
cases, f.e. when I will want to change in some structure:
   struct
   {
      ...
      char szBuffer[ BUFF_SIZE ];
      ...
   }

with:
   struct
   {
      ...
      char *szBuffer;
      ...
   }

to allocate buffer dynamically. Now I will have to check and updated
all places where szBuffer is set and restore previous version.
In many places the above modifications were really good idea but
I will have to revert them in some others to fix bugs and for easier
code modifications in the future. I'll try to check them carefully.

BTW: in contrib/hbwhat32/_winmain.c we have yet another WinMain()
implementation. I guest it exists for some historical reasons.
It should be removed and additional functions should be changed
to use variables set by source/vm/mainwin.c

best regards,
Przemek
From druzus at acn.waw.pl  Mon Aug 25 08:10:52 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 25 08:10:59 2008
Subject: [Harbour] 2008-08-25 14:09 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808251210.m7PCAqec017446@31-mo5-4.acn.waw.pl>

2008-08-25 14:09 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/tests/rddtest/rddmktst.prg
  * harbour/tests/rddtest/adscl52.prg
  * harbour/tests/rddtest/adscl53.prg
  * harbour/tests/rddtest/ntxcl52.prg
  * harbour/tests/rddtest/ntxcl53.prg
  * harbour/tests/rddtest/cdxcl52.prg
  * harbour/tests/rddtest/rddtst.prg
  * harbour/tests/rddtest/cdxcl53.prg
    * added copyright note. It's my code.

  * harbour/source/debug/dbgentry.c
    ! strip function name from module name used to initialize
      global and file wide variables. It fixes presenting file
      wide static variables in debugger.

  * harbour/source/debug/debugger.prg
    % minor optimization

best regards
Przemek
From harbour.01 at syenar.hu  Mon Aug 25 08:19:13 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 08:19:24 2008
Subject: [Harbour] 2008-08-25 14:12 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c906ac$Blat.v2.6.2$c93695e7$34ccd21d5c@127.0.0.1>

2008-08-25 14:12 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_vc.mak
   * make_vcce.mak
     % Cleaned list of system libraries for VC. winspool.lib 
       removed, the rest documented.
     * Syncing between VC and VCCE.
     ; NOTE: WinCE system lib list didn't get anything removed 
             (just added), but nevertheless pls test it.

   * ChangeLog
     * Some cleanups (regarding my entries).

   * source/pp/hbpp.c
     ! Comment typo.

   * source/rtl/gtclip.c
     ! Fixed for __CYGWIN__.

   * contrib/hbw32/dllcall.c
     ! Disabled asm parts for __CYGWIN__ to make it compile.

   * config/w32/gcc.cf
     ! Added missing system lib wsock32 for Cygwin.

   * config/w32/gcc.cf
   * config/w32/cemgw.cf
   * config/w32/mingw32.cf
   * config/w32/owatcom.cf
   * config/w32/pocc.cf
   * config/w32/watcom.cf
   * config/w32/xcc.cf
     * Attempt to sort out system libs needed for core from 
       those needed for contribs. No system libraries have 
       been removed or added so far. [ I wonder why we need to 
       include contrib sys lib dependencies here, when Harbour 
       GNU make system doesn't build any contrib dependent 
       executables. Also, some ws2_32.lib seems definitely 
       superfluous. ]

   ; TOFIX: (for __CYGWIN__)
     ../../filesys.c: In function `hb_fsPOpen':
     ../../filesys.c:577: warning: passing arg 1 of `pipe' from incompatible pointer type
--
Brgds,
Viktor

From druzus at acn.waw.pl  Mon Aug 25 08:20:01 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 25 08:20:08 2008
Subject: [Harbour] AADD() - tilts under stress test
In-Reply-To: <8DFF37C0-8ED9-4A0D-8427-7FCE238A408A@syenar.hu>
References: <19113619.post@talk.nabble.com>
	<8DFF37C0-8ED9-4A0D-8427-7FCE238A408A@syenar.hu>
Message-ID: <20080825122001.GB17241@34-mo7-2.acn.waw.pl>

On Fri, 22 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> This reduced example give pretty much the same effect:
> ---
> Function Main()
>   Local i
>   Local aRecs := {}
> 
>   for i := 1 to 100000
>      aadd( aRecs, {} )
>      ? i
>   next
> 
>   Return nil
> ---
> It goes wild after a little more while.
> (400MB @ i = 40000, 900MB @ i = 5000).

Classic problem with memory fragmentation. Algorithms
used by your C compiler to allocate memory from OS and
then divide it for application do not work well with such
code which is BTW killer for many memory managers.
We can try to reduce this problem by adding code for
array preallocation anyhow programmers should now about
it and try to write more memory manager friendly code.

> Strangely, replacing {} with "1234567890123456"
> seems to make it work okay.

It's expected because literal strings does not allocate
new memory and you do not have problem with fragmentation.
Change "1234567890123456" to space(32) and check what will
happen.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Aug 25 08:29:55 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 08:30:03 2008
Subject: [Harbour] 2008-08-23 11:38 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <20080825120444.GA17241@34-mo7-2.acn.waw.pl>
References: <01c9050d$Blat.v2.6.2$179a414e$23f436ea9dee@127.0.0.1>
	<20080825120444.GA17241@34-mo7-2.acn.waw.pl>
Message-ID: <19F91730-51D2-4D65-9FFC-BA06C55D419E@syenar.hu>

>>
Hi Przemek,

Nice to see you back.

>>   ; Przemek, could you double check these changes pls?
>>     I can send you the .diff if it helps.
>
> I've just created one myself.
> In few places this modifications are wrong and introduced bugs.
> F.e. In DBFNTX replacing strncpy() by hb_strncpy() causes that
> setting 'key_expr' damages 'unique' flag.
> In most of cases when I was using strncpy() instead of hb_strncpy()
> it was intentional because trailing 0 was not necessary or even
> _MUST_NOT_BE_ set when string allocates whole buffer, f.e. in
> low RDD structures.

Okay, can we someone make it like it so that we can
differentiate between legitimate and intentional
usage and possible mistakes? Maybe a macro, or comment
would do good.

Also, would you prefer to refix those parts which are
now wrong or should I just revert some or all of them?

> I also do not find replacing all:
>   hb_strncpy( dest, src, CONST_DEFINE )
> with:
>   hb_strncpy( dest, src, sizeof( dest ) - 1 )
>
> as good idea because it will make code updating harder in some
> cases, f.e. when I will want to change in some structure:
>   struct
>   {
>      ...
>      char szBuffer[ BUFF_SIZE ];
>      ...
>   }
>
> with:
>   struct
>   {
>      ...
>      char *szBuffer;
>      ...
>   }

Yes, it's the only disadvantage I could actually find.
Dunno how this will be a problem in practice, pls
advise what to do.

> to allocate buffer dynamically. Now I will have to check and updated
> all places where szBuffer is set and restore previous version.
> In many places the above modifications were really good idea but
> I will have to revert them in some others to fix bugs and for easier
> code modifications in the future. I'll try to check them carefully.
>
> BTW: in contrib/hbwhat32/_winmain.c we have yet another WinMain()
> implementation. I guest it exists for some historical reasons.
> It should be removed and additional functions should be changed
> to use variables set by source/vm/mainwin.c

Okay, I'll try to do that.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 25 08:47:05 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 08:47:12 2008
Subject: [Harbour] 2008-08-25 14:46 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c906b0$Blat.v2.6.2$ada76447$16bc79108118@127.0.0.1>

2008-08-25 14:46 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/vm/cmdarg.c
     ! hb_hInstance, hb_hPrevInstance, s_iCmdShow, s_WinMainParam
       vars marked as 'static', hb_ prefix changed to s_.
       NOTE: This may pose a problem if some 3rd party code 
             was relying on the names or the fact that these 
             vars were exported by incident (since they were 
             not declared in any Harbour headers.)
             [INCOMPATIBLE]

   * contrib/hbwhat32/whtmain.c
     ! Removed WinMain() function and some global vars colliding 
       with some Harbour core ones.
     * HINSTANCE(), HPREVINSTANCE(), NCMDSHOW() functions now 
       use Harbour API calls to retrieve values.
--
Brgds,
Viktor

From miguelangel at marchuet.net  Mon Aug 25 09:07:15 2008
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Mon Aug 25 09:01:15 2008
Subject: [Harbour] Question abour arrised error
Message-ID: <48B2AE83.3000901@marchuet.net>

	
Is that mistake should show?

     ? (GetNew())->Jamon

Now appears :  Error BASE/1065  Error de argumento: &

( Why & ) ?

instead of :  Error BASE/1002  No existe el alias: (<object>)

or similar

Best regards,
Miguel Angel Marchuet
From harbour.01 at syenar.hu  Mon Aug 25 09:42:11 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 09:42:22 2008
Subject: [Harbour] AADD() - tilts under stress test
In-Reply-To: <20080825122001.GB17241@34-mo7-2.acn.waw.pl>
References: <19113619.post@talk.nabble.com>
	<8DFF37C0-8ED9-4A0D-8427-7FCE238A408A@syenar.hu>
	<20080825122001.GB17241@34-mo7-2.acn.waw.pl>
Message-ID: <FAAD304C-52A7-4FDF-887D-04F7644BCD50@syenar.hu>

>
Hi Przemek,

Thanks for the explanation, std C allocator was a
suspect for me, too.

> Classic problem with memory fragmentation. Algorithms
> used by your C compiler to allocate memory from OS and
> then divide it for application do not work well with such
> code which is BTW killer for many memory managers.
> We can try to reduce this problem by adding code for
> array preallocation anyhow programmers should now about
> it and try to write more memory manager friendly code.

The problem with this is that such code (AAdd( a, v ))
is fairly common in regular Clipper code and even in
Harbour core .prg code. In tbrowse.prg for example,
there is no way to know the number of columns in advance.
teditor/dirscan are also affected.

The end result is that it's difficult to really exploit
the "unlimited" size of arrays in Harbour since it
chokes much earlier because of this. IOW AADD() can
easily be considered as dangerous.

Maybe we should try to replicate the xhb preallocation
(and maybe lazy shrinking) methods to avoid this. But
you probably have some other and/or better ideas too.

[ I also wonder what other Harbour parts could suffer
from the same effect. ]

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Aug 25 10:03:03 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 25 10:03:10 2008
Subject: [Harbour] 2008-08-25 16:01 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808251403.m7PE33Uw025856@31-mo5-4.acn.waw.pl>

2008-08-25 16:01 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/macro.c
  * harbour/source/vm/hvm.c
    ! fixed _FIELD indirectly used as alias, f.e.:
         ? ("_FIELD")->NAME
      or:
         M->var := "_FIELD"
         ? ("&var")->NAME

  * harbour/include/hbclass.ch
  * harbour/include/common.ch
    * use a little bit simpler form for HB_SYMBOL_UNUSED()

  * harbour/contrib/hbw32/w32_ole.c
  * harbour/contrib/hbole/ole2.c
    ! fixed numeric to pointer casting
    * accept both pointer and numeric values as window handle
      for easier code migration

best regards
Przemek
From e.m.giordano at emagsoftware.it  Mon Aug 25 10:03:27 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Aug 25 10:03:33 2008
Subject: [Harbour] Error updating SVN
Message-ID: <1FA4E31773C84AA58A3130919A904D49@emag>

REPORT of '/svnroot/harbour-project/!svn/vcc/default': Could not read 
response

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From gvarona at ec-red.com  Mon Aug 25 10:12:12 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Mon Aug 25 10:12:15 2008
Subject: [Harbour] 2008-08-24 20:40 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c90619$Blat.v2.6.2$0824bb06$2218913a2236@127.0.0.1>
References: <01c90619$Blat.v2.6.2$0824bb06$2218913a2236@127.0.0.1>
Message-ID: <48B2BDBC.1080409@ec-red.com>

Thanks Viktor, now work fine.

Best Regards
GVS

Szak?ts Viktor escribi?:
> 2008-08-24 20:40 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>    * contrib/hbole/ole2.c
>      ! Fixed GPF reported by Guillermo.
>        (introduced in 1.0.0rc2 when switching from parnl to 
>        parptr as 64-bit cleanup, two calls were missed from 
>        the update).
>      ! Fixed another potential problem.
> --
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> ---------------------------------------------------------------------------------------------------
> Texto a?adido por Panda IS 2008:
>
>  Este mensaje NO ha sido clasificado como SPAM. Si se trata de un mensaje de correo no solicitado (SPAM), haz clic en el siguiente v?nculo para reclasificarlo: http://localhost:6083/Panda?ID=pav_745&SPAM=true&path=C:\Documents%20and%20Settings\Usuario\Configuraci?n%20local\Datos%20de%20programa\Panda%20Software\AntiSpam
> ---------------------------------------------------------------------------------------------------
>
>
>   


From e.m.giordano at emagsoftware.it  Mon Aug 25 10:13:00 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Aug 25 10:13:10 2008
Subject: [Harbour] Error updating SVN
References: <1FA4E31773C84AA58A3130919A904D49@emag>
Message-ID: <64FF055058A8442D8F3D450F27A3BC0A@emag>


-----Messaggio Originale----- 
Da: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 25 agosto 2008 16.03
Oggetto: [Harbour] Error updating SVN


> REPORT of '/svnroot/harbour-project/!svn/vcc/default': Could not read 
> response

It's ok now.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Mon Aug 25 10:51:46 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 10:51:56 2008
Subject: [Harbour] 2008-08-25 16:37 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c906c2$Blat.v2.6.2$18ab046d$fec820a0e8a@127.0.0.1>

2008-08-25 16:37 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * common.mak
   * utils/hbmake/Makefile
   * utils/hbmake/bld_b32.bat
   * utils/hbmake/bld_vc.bat
   * utils/hbmake/hbmake.prg
   * utils/hbmake/hbmutils.prg
   * utils/hbmake/tmake.prg
   - utils/hbmake/ft_funcs.prg
   - utils/hbmake/tmake.prg
     ! Applied patches sent by Bill Robertson.
       ft_funcs.prg got replaced by standard file handling 
       functions and HB_FREADLINE(), EOL handling fixes, 
       typos and other fixes.
       Many thanks Bill.
     * Eliminated STATIC var in tmake.prg
     * Merged tmake.prg into hbmake.prg. (this was the 
       easiest way to make the new s_aEOL variable available 
       to this module.)
     ; Please test.

   * common.mak
   * utils/hbdoc/Makefile
   * utils/hbdoc/bld_b32.bat
   * utils/hbdoc/bld_vc.bat
   + utils/hbdoc/hbdfrdln.c
     + Added HB_FREADLINE() to hbdoc, too. It's not 
       used, just a small help to allow using it here, 
       too, instead of ft_funcs.prg.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 25 11:06:51 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 11:06:58 2008
Subject: [Harbour] 2008-08-25 17:05 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c906c4$Blat.v2.6.2$342a21bd$d747e12cbe@127.0.0.1>

2008-08-25 17:05 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * utils/hbdoc/bld_vc.bat
   * utils/hbdoc/bld_b32.bat
   * utils/hbmake/bld_b32.bat
   * utils/hbmake/bld_vc.bat
     + Harbour option: /w2
     - Harbour option: /gc0 (now default)

   * common.mak
   * utils/hbmake/Makefile
   * utils/hbmake/bld_b32.bat
   * utils/hbmake/bld_vc.bat
   * utils/hbmake/hbmake.prg
   - utils/hbmake/pickarry.prg
     % Eliminated all STATIC vars in pickarry.prg.
     * pickarry.prg merged into hbmake.prg.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 25 11:14:19 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 11:14:29 2008
Subject: [Harbour] 2008-08-25 17:13 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c906c5$Blat.v2.6.2$3f44948d$d709bd5c8f6@127.0.0.1>

2008-08-25 17:13 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * common.mak
   * utils/hbmake/Makefile
   * utils/hbmake/bld_b32.bat
   * utils/hbmake/bld_vc.bat
   * utils/hbmake/hbmake.prg
   - utils/hbmake/hbmutils.prg
     * hbmutils.prg merged into hbmake.prg.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Mon Aug 25 11:30:23 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 25 11:30:30 2008
Subject: [Harbour] AADD() - tilts under stress test
In-Reply-To: <FAAD304C-52A7-4FDF-887D-04F7644BCD50@syenar.hu>
References: <19113619.post@talk.nabble.com>
	<8DFF37C0-8ED9-4A0D-8427-7FCE238A408A@syenar.hu>
	<20080825122001.GB17241@34-mo7-2.acn.waw.pl>
	<FAAD304C-52A7-4FDF-887D-04F7644BCD50@syenar.hu>
Message-ID: <20080825153023.GA21845@34-mo7-2.acn.waw.pl>

On Mon, 25 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> >Classic problem with memory fragmentation. Algorithms
> >used by your C compiler to allocate memory from OS and
> >then divide it for application do not work well with such
> >code which is BTW killer for many memory managers.
> >We can try to reduce this problem by adding code for
> >array preallocation anyhow programmers should now about
> >it and try to write more memory manager friendly code.
> The problem with this is that such code (AAdd( a, v ))
> is fairly common in regular Clipper code and even in
> Harbour core .prg code. In tbrowse.prg for example,
> there is no way to know the number of columns in advance.
> teditor/dirscan are also affected.

There is no problem with AADD() but with the _very_ large
array and memory manager which is simply fatal. F.e. your
code works perfectly on Linux with GLIBC. I added at the
end:
   ? memory( HB_MEM_USED )
compiling it with FMSTAT and it reports:
   4965585
It allocates less then 5MB for Harbour structures.
It means that it should not need more then 20MB from
OS if memory manager does not have some serious internal
problems (in Linux total application memory is 17MB).
I guess you are using BCC. Please try to compile Harbour
with -DHB_FM_WIN32_ALLOC and check the results.
It will be interesting if also default windows memory
manager is effected. This example is very trivial and
should not be a problem for good memory manager.

> The end result is that it's difficult to really exploit
> the "unlimited" size of arrays in Harbour since it
> chokes much earlier because of this. IOW AADD() can
> easily be considered as dangerous.

If memory manager does not have some basic protection against
memory fragmentation then any function which allocates memory
can be dangerous in long working programs. Sooner or later
we will have to implement our own memory manager which will
be tuned for Harbour structures.

> Maybe we should try to replicate the xhb preallocation
> (and maybe lazy shrinking) methods to avoid this. But
> you probably have some other and/or better ideas too.

We will add preallocation but I would like to join this
modification with our own memory manager. Please remember
that some CRTLs have quite nice MM and works very well
without user preallocation, f.e. the one from GLIBC in
Linux.
Adding item preallocation like in xHarbour arrays reduces
only the problem. But if your example exploits it with C
compiler you are using then I can easy create other example
which will also exploit current xHarbour code.

> [ I also wonder what other Harbour parts could suffer
> from the same effect. ]

Pure AADD() is not dangerous as long as total memory consumption
is less then half of total memory available for process.
To recreate the problem it's necessary to resize many times
very large array allocating new memory blocks between resizing
using some primitive or buggy memory manager.
AFAIR we only have one place which may need very large arrays
resized dynamically. It's HB_DirScan().
I even though about changing this code to make preallocation
but I was too lazy ;-( I can update it quite fast.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Aug 25 11:44:09 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 11:44:21 2008
Subject: [Harbour] Harbour OSX problem
Message-ID: <983BAC0D-2773-4651-BDF8-BD4BD88033FF@syenar.hu>

Hi Przemek and all,

I've just found a fatal problem with OSX Harbour binaries,
where ./hbmake (and hbmake, hbrun and hbtest) will say this:
--
dyld: Symbol not found: _environ
   Referenced from /Users/vszakats/harbour/test1/usr/local/bin/ 
libharbour.1.dylib
   Expected in: flat namespace
--

Notice that I've just extracted the whole Harbour
binary installation using 'tar -zxvf' to a test
directory and I've copied .dylibs to the /bin dir.
Could that be a problem?

If this is indeed a problem, 1.0.0 is also affected.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 25 12:02:02 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 12:02:12 2008
Subject: [Harbour] AADD() - tilts under stress test
In-Reply-To: <20080825153023.GA21845@34-mo7-2.acn.waw.pl>
References: <19113619.post@talk.nabble.com>
	<8DFF37C0-8ED9-4A0D-8427-7FCE238A408A@syenar.hu>
	<20080825122001.GB17241@34-mo7-2.acn.waw.pl>
	<FAAD304C-52A7-4FDF-887D-04F7644BCD50@syenar.hu>
	<20080825153023.GA21845@34-mo7-2.acn.waw.pl>
Message-ID: <81674CC9-0974-4A87-A3CD-1ABCE4AEF7AD@syenar.hu>

Hi Przemek,

Well, you're right, I've tried this same example
with MingW and it happily goes up to 100000 iterations,
with a top memory consumption of 32MB.

Then I tested with BCC 5.8 and it went mad a bit
later @ 40000, and stayed on 232MB until reaching
100000.

One more reason to avoid BCC 5.5 for final apps.

I think I'll now switch to 5.8 for the base
compiler for both Harbour and on my projects
(until switching to GCC that is).

Brgds,
Viktor

On 2008.08.25., at 17:30, Przemyslaw Czerpak wrote:

> On Mon, 25 Aug 2008, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>>> Classic problem with memory fragmentation. Algorithms
>>> used by your C compiler to allocate memory from OS and
>>> then divide it for application do not work well with such
>>> code which is BTW killer for many memory managers.
>>> We can try to reduce this problem by adding code for
>>> array preallocation anyhow programmers should now about
>>> it and try to write more memory manager friendly code.
>> The problem with this is that such code (AAdd( a, v ))
>> is fairly common in regular Clipper code and even in
>> Harbour core .prg code. In tbrowse.prg for example,
>> there is no way to know the number of columns in advance.
>> teditor/dirscan are also affected.
>
> There is no problem with AADD() but with the _very_ large
> array and memory manager which is simply fatal. F.e. your
> code works perfectly on Linux with GLIBC. I added at the
> end:
>   ? memory( HB_MEM_USED )
> compiling it with FMSTAT and it reports:
>   4965585
> It allocates less then 5MB for Harbour structures.
> It means that it should not need more then 20MB from
> OS if memory manager does not have some serious internal
> problems (in Linux total application memory is 17MB).
> I guess you are using BCC. Please try to compile Harbour
> with -DHB_FM_WIN32_ALLOC and check the results.
> It will be interesting if also default windows memory
> manager is effected. This example is very trivial and
> should not be a problem for good memory manager.
>
>> The end result is that it's difficult to really exploit
>> the "unlimited" size of arrays in Harbour since it
>> chokes much earlier because of this. IOW AADD() can
>> easily be considered as dangerous.
>
> If memory manager does not have some basic protection against
> memory fragmentation then any function which allocates memory
> can be dangerous in long working programs. Sooner or later
> we will have to implement our own memory manager which will
> be tuned for Harbour structures.
>
>> Maybe we should try to replicate the xhb preallocation
>> (and maybe lazy shrinking) methods to avoid this. But
>> you probably have some other and/or better ideas too.
>
> We will add preallocation but I would like to join this
> modification with our own memory manager. Please remember
> that some CRTLs have quite nice MM and works very well
> without user preallocation, f.e. the one from GLIBC in
> Linux.
> Adding item preallocation like in xHarbour arrays reduces
> only the problem. But if your example exploits it with C
> compiler you are using then I can easy create other example
> which will also exploit current xHarbour code.
>
>> [ I also wonder what other Harbour parts could suffer
>> from the same effect. ]
>
> Pure AADD() is not dangerous as long as total memory consumption
> is less then half of total memory available for process.
> To recreate the problem it's necessary to resize many times
> very large array allocating new memory blocks between resizing
> using some primitive or buggy memory manager.
> AFAIR we only have one place which may need very large arrays
> resized dynamically. It's HB_DirScan().
> I even though about changing this code to make preallocation
> but I was too lazy ;-( I can update it quite fast.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Mon Aug 25 12:20:57 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 25 12:21:03 2008
Subject: [Harbour] Harbour OSX problem
In-Reply-To: <983BAC0D-2773-4651-BDF8-BD4BD88033FF@syenar.hu>
References: <983BAC0D-2773-4651-BDF8-BD4BD88033FF@syenar.hu>
Message-ID: <20080825162057.GA22998@34-mo7-2.acn.waw.pl>

On Mon, 25 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> I've just found a fatal problem with OSX Harbour binaries,
> where ./hbmake (and hbmake, hbrun and hbtest) will say this:
> --
> dyld: Symbol not found: _environ
>   Referenced from /Users/vszakats/harbour/test1/usr/local/bin/ 
> libharbour.1.dylib
>   Expected in: flat namespace
> --
> Notice that I've just extracted the whole Harbour
> binary installation using 'tar -zxvf' to a test
> directory and I've copied .dylibs to the /bin dir.

Why did you copy dynamic library to bin directory?
I do not know MacOSX but IMHO it should be in one of
system library directories (or link to it), f.e. /usr/lib.
Try to check 'ldd', 'ldconfig', 'dyld' and related tools
documentation for default library location scanned
by dynamic linker.

> Could that be a problem?

yes but also many other things can cause it. F.e. missing
-fPIC on some platforms.

> If this is indeed a problem, 1.0.0 is also affected.

I do not know what is the exact problem and if it's
Harbour related. Too few information and too small knowledge
about MacOSX.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Aug 25 12:29:06 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 12:29:14 2008
Subject: [Harbour] 2008-08-25 18:28 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c906cf$Blat.v2.6.2$b1ae864b$edcd90d0714@127.0.0.1>

2008-08-25 18:28 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/common/hbver.c
     ! Fix to commit '2008-07-11 18:20 UTC+0200' which 
       effectively disabled Vista/2008 detection for 
       everything but MSVC (>1400) compilers.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Mon Aug 25 12:36:39 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 25 12:36:44 2008
Subject: [Harbour] Harbour OSX problem
In-Reply-To: <20080825162057.GA22998@34-mo7-2.acn.waw.pl>
References: <983BAC0D-2773-4651-BDF8-BD4BD88033FF@syenar.hu>
	<20080825162057.GA22998@34-mo7-2.acn.waw.pl>
Message-ID: <20080825163639.GA23285@34-mo7-2.acn.waw.pl>

On Mon, 25 Aug 2008, Przemyslaw Czerpak wrote:

Hi Viktor,

> I do not know what is the exact problem and if it's
> Harbour related. Too few information and too small knowledge
> about MacOSX.

BTW Are you sure that platform auto detection for MacOSX in
hbsetup.h works correctly and HB_OS_DARWIN is set?
The only one place where we are accessing environ variable
directly is in rtl/filesys.c and looks like MacOSX section
in this code:

   #if defined( HB_OS_DARWIN )
      #include <crt_externs.h>
      #define environ (*_NSGetEnviron())
   #elif !defined( __WATCOMC__ )
      extern char **environ;
   #endif

is ignored.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Aug 25 13:01:57 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 13:02:08 2008
Subject: [Harbour] Harbour OSX problem
In-Reply-To: <20080825163639.GA23285@34-mo7-2.acn.waw.pl>
References: <983BAC0D-2773-4651-BDF8-BD4BD88033FF@syenar.hu>
	<20080825162057.GA22998@34-mo7-2.acn.waw.pl>
	<20080825163639.GA23285@34-mo7-2.acn.waw.pl>
Message-ID: <3B6B9AC9-26AC-4D58-A67E-82839F16FDA4@syenar.hu>

>>
Hi Przemek,

>> I do not know what is the exact problem and if it's
>> Harbour related. Too few information and too small knowledge
>> about MacOSX.
>
> BTW Are you sure that platform auto detection for MacOSX in
> hbsetup.h works correctly and HB_OS_DARWIN is set?
> The only one place where we are accessing environ variable
> directly is in rtl/filesys.c and looks like MacOSX section
> in this code:
>
>   #if defined( HB_OS_DARWIN )
>      #include <crt_externs.h>
>      #define environ (*_NSGetEnviron())
>   #elif !defined( __WATCOMC__ )
>      extern char **environ;
>   #endif

Good find.

HB_OS_DARWIN seems alright.

But, this snippet is also guarded with HB_OS_UNIX_COMPATIBLE,
and the detection of this one is indeed wrong (and it was
wrong for quite a long time).

Detection also looks quite clumsy to me.

We should also fix HB_OS_UNIX detection to not rely on
HB_OS_UNIX_COMPATIBLE. (but rather vice-versa) ]

And another one: Maybe HB_OS_UNIX_COMPATIBLE is
completely unnecessary, as we also seems to have HB_OS_UNIX,
which seems to be enough for its purpose.

If we're at it, I'm also not sure if it's right to set
HB_OS_BSD, when HB_OS_DARWIN is detected. The idea was
to have _one_ such HB_OS_* macro #defined at a time.

What do you think? And who wants to clean this? :)

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 25 13:02:39 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 13:02:47 2008
Subject: [Harbour] Harbour OSX problem
In-Reply-To: <20080825162057.GA22998@34-mo7-2.acn.waw.pl>
References: <983BAC0D-2773-4651-BDF8-BD4BD88033FF@syenar.hu>
	<20080825162057.GA22998@34-mo7-2.acn.waw.pl>
Message-ID: <6C06DC52-7086-4241-9663-CC8C718122FA@syenar.hu>

>>
Hi Przemek,

(this is now a bit outdated but I'm sending it anyway)

>> I've just found a fatal problem with OSX Harbour binaries,
>> where ./hbmake (and hbmake, hbrun and hbtest) will say this:
>> --
>> dyld: Symbol not found: _environ
>>  Referenced from /Users/vszakats/harbour/test1/usr/local/bin/
>> libharbour.1.dylib
>>  Expected in: flat namespace
>> --
>> Notice that I've just extracted the whole Harbour
>> binary installation using 'tar -zxvf' to a test
>> directory and I've copied .dylibs to the /bin dir.
>
> Why did you copy dynamic library to bin directory?
> I do not know MacOSX but IMHO it should be in one of
> system library directories (or link to it), f.e. /usr/lib.
> Try to check 'ldd', 'ldconfig', 'dyld' and related tools
> documentation for default library location scanned
> by dynamic linker.

I'm testing loads of different OSX builds and
I don't like to clutter my root dir structure with
any of these test Harbour versions (there is no way
to cleanly uninstall these things and I don't like
to clutter my OSX install this way anyway, BTW it's also
quite cumbersome to achieve). In fact this is also something
I wouldn't want to do even on Linux, but I have no
idea how to achieve it. (this is also a reason why
I don't like dynamic libs, in this case I just simply
wanted to run hbmake for testing).

Seems like I'm trying to p*ss against the wind here, but... :/

Back to the problem: It did find the Harbour .dylib,
but it cannot load it because of this missing '_environ'
symbol.

I've tried adding -fPIC to C flags, but same thing
happened.

Brgds,
Viktor


From harbour.01 at syenar.hu  Mon Aug 25 13:11:21 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 13:11:34 2008
Subject: [Harbour] Harbour OSX problem
In-Reply-To: <20080825163639.GA23285@34-mo7-2.acn.waw.pl>
References: <983BAC0D-2773-4651-BDF8-BD4BD88033FF@syenar.hu>
	<20080825162057.GA22998@34-mo7-2.acn.waw.pl>
	<20080825163639.GA23285@34-mo7-2.acn.waw.pl>
Message-ID: <E7C4FBCC-6F5C-4D8A-8BFF-5191EA6C40A1@syenar.hu>

Hi Przemek,

Here's a somewhat fixed hbsetup.h + diff, what's your opinion?

Brgds,
Viktor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbsetup.h
Type: application/octet-stream
Size: 13758 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080825/068c42a0/hbsetup-0001.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbsetup.h.dif
Type: video/x-dv
Size: 4460 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080825/068c42a0/hbsetup.h-0001.bin
-------------- next part --------------

On 2008.08.25., at 18:36, Przemyslaw Czerpak wrote:

> On Mon, 25 Aug 2008, Przemyslaw Czerpak wrote:
>
> Hi Viktor,
>
>> I do not know what is the exact problem and if it's
>> Harbour related. Too few information and too small knowledge
>> about MacOSX.
>
> BTW Are you sure that platform auto detection for MacOSX in
> hbsetup.h works correctly and HB_OS_DARWIN is set?
> The only one place where we are accessing environ variable
> directly is in rtl/filesys.c and looks like MacOSX section
> in this code:
>
>   #if defined( HB_OS_DARWIN )
>      #include <crt_externs.h>
>      #define environ (*_NSGetEnviron())
>   #elif !defined( __WATCOMC__ )
>      extern char **environ;
>   #endif
>
> is ignored.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Aug 25 13:43:25 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 13:43:34 2008
Subject: [Harbour] Harbour OSX problem
In-Reply-To: <3B6B9AC9-26AC-4D58-A67E-82839F16FDA4@syenar.hu>
References: <983BAC0D-2773-4651-BDF8-BD4BD88033FF@syenar.hu>
	<20080825162057.GA22998@34-mo7-2.acn.waw.pl>
	<20080825163639.GA23285@34-mo7-2.acn.waw.pl>
	<3B6B9AC9-26AC-4D58-A67E-82839F16FDA4@syenar.hu>
Message-ID: <A07E9C07-4F6F-4740-A293-DF4B9226C185@syenar.hu>

>
Hi Przemek,

> HB_OS_DARWIN seems alright.

I've double checked and no, HB_OS_DARWIN is not
right either.

unix/__unix/__unix__ are not #defined by GCC/Darwin.

I think it's safe to remove those, as __APPLE__
is a recently added #define to identify OSX, so
it cannot be confused with Mac OS 9 and pre
versions.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 25 14:04:07 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 14:04:15 2008
Subject: [Harbour] 2008-08-25 19:49 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c906dc$Blat.v2.6.2$f7b22b09$15201f594886@127.0.0.1>

2008-08-25 19:49 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbsetup.h
     ! Fixed problem where Darwin autodetection went wrong 
       between 1.0.0rc2 -> 1.0.0.
     * HB_OS_DARWIN added to the HB_OS_UNIX detection list.
       (no functional difference, just makes it more clear.)
     % HB_OS_OS2_EMX removed. It was unused.

   * source/compiler/gencobj.c
   * include/hbsetup.h
     % Removed OS_DOS_COMPATIBLE.
       It's equivalent to !defined(HB_OS_UNIX_COMPATIBLE).
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 25 14:08:24 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 14:08:34 2008
Subject: [Harbour] Harbour OSX problem
In-Reply-To: <A07E9C07-4F6F-4740-A293-DF4B9226C185@syenar.hu>
References: <983BAC0D-2773-4651-BDF8-BD4BD88033FF@syenar.hu>
	<20080825162057.GA22998@34-mo7-2.acn.waw.pl>
	<20080825163639.GA23285@34-mo7-2.acn.waw.pl>
	<3B6B9AC9-26AC-4D58-A67E-82839F16FDA4@syenar.hu>
	<A07E9C07-4F6F-4740-A293-DF4B9226C185@syenar.hu>
Message-ID: <D0CFB3E8-64F4-4611-BCA0-EA422244C896@syenar.hu>

Hi Przemek,

Okay, after my last commit Harbour works fine on OSX.

[ I left those hbsetup.h cleanups for a later time,
some of my initial comments were wrong anyway. ]

Brgds,
Viktor

On 2008.08.25., at 19:43, Szak?ts Viktor wrote:

>>
> Hi Przemek,
>
>> HB_OS_DARWIN seems alright.
>
> I've double checked and no, HB_OS_DARWIN is not
> right either.
>
> unix/__unix/__unix__ are not #defined by GCC/Darwin.
>
> I think it's safe to remove those, as __APPLE__
> is a recently added #define to identify OSX, so
> it cannot be confused with Mac OS 9 and pre
> versions.
>
> Brgds,
> Viktor
>

From druzus at acn.waw.pl  Mon Aug 25 14:16:09 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 25 14:16:16 2008
Subject: [Harbour] 2008-08-25 20:14 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808251816.m7PIG9de025773@31-mo5-4.acn.waw.pl>

2008-08-25 20:14 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbw32/w32_ole.c
    * removed hack with malloc()/free() directly used to avoid
      memory leak reports - it's not necessary in Harbour.

  * harbour/contrib/hbfbird/firebird.c
  * harbour/contrib/examples/pp/hbppcore.c
    ! fixed buffer size calculation in hbstrnc*() functions

  * harbour/contrib/hbziparch/hbzipnew.cpp
    % use hb_strdup() instead of hb_xgrab()/hb_strncpy()

  * harbour/contrib/hbnf/getenvrn.c
    ! use hb_xgrab() instead of hb_xalloc() - the returned value
      was not checked and internal error is for sure better then
      GPF on NULL pointer

  * harbour/source/rdd/dbfntx/dbfntx1.c
    ! use memcpy() instead of hb_strncpy() to avoid problems when
      there is no place for tailing 0

best regards
Przemek
From druzus at acn.waw.pl  Mon Aug 25 14:31:52 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 25 14:32:00 2008
Subject: [Harbour] Harbour OSX problem
In-Reply-To: <E7C4FBCC-6F5C-4D8A-8BFF-5191EA6C40A1@syenar.hu>
References: <983BAC0D-2773-4651-BDF8-BD4BD88033FF@syenar.hu>
	<20080825162057.GA22998@34-mo7-2.acn.waw.pl>
	<20080825163639.GA23285@34-mo7-2.acn.waw.pl>
	<E7C4FBCC-6F5C-4D8A-8BFF-5191EA6C40A1@syenar.hu>
Message-ID: <20080825183152.GA25628@34-mo7-2.acn.waw.pl>

On Mon, 25 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Here's a somewhat fixed hbsetup.h + diff, what's your opinion?

It's OK for me but why we still have:
   #define OS_DOS_COMPATIBLE
instead of:
   #define HB_OS_DOS_COMPATIBLE
?

BTW HB_OS_UNIX_COMPATIBLE is for native *nix systems and
environments which try to emulate them, f.e. CYGWIN or
CEGCC (it's not MinGW-CE).
Probably we can remove it and use HB_OS_UNIX but first we
should clean CYGWIN builds. I've seen in change log:
   ; TOFIX: (for __CYGWIN__)
     ../../filesys.c: In function `hb_fsPOpen':
     ../../filesys.c:577: warning: passing arg 1 of `pipe' from incompatible pointer type

It means that in CYGWIN builds WIN32_IO is used and mixed with stdio.
It cannot work. CYGWIN port developers should decide what they want
to do. Use native windows API or POSIX one. If POSIX then all calls
to MS-Win functions should be excluded and it should use int for file
handles. In such case we can HB_OS_UNIX for this build and undef
HB_OS_WIN32. Otherwise I do not see big sense in keeping CYGWIN
builds as long as we have MinGW one.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Aug 25 14:37:40 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 14:37:51 2008
Subject: [Harbour] 2008-08-25 20:36 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c906e1$Blat.v2.6.2$a7a16f0d$ec4ad0a796e@127.0.0.1>

2008-08-25 20:36 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * utils/hbmake/hbmake.prg
     ! Harbour executable detection cleanups and fix to look 
       into current dir and detect Darwin as a Unix platform.
       (usable state is still very far)
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 25 14:42:50 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 14:42:59 2008
Subject: [Harbour] Harbour OSX problem
In-Reply-To: <20080825183152.GA25628@34-mo7-2.acn.waw.pl>
References: <983BAC0D-2773-4651-BDF8-BD4BD88033FF@syenar.hu>
	<20080825162057.GA22998@34-mo7-2.acn.waw.pl>
	<20080825163639.GA23285@34-mo7-2.acn.waw.pl>
	<E7C4FBCC-6F5C-4D8A-8BFF-5191EA6C40A1@syenar.hu>
	<20080825183152.GA25628@34-mo7-2.acn.waw.pl>
Message-ID: <F95F1000-9050-4822-B9E5-9E977CF47CC4@syenar.hu>

>>
Hi Przemek,

>> Here's a somewhat fixed hbsetup.h + diff, what's your opinion?
>
> It's OK for me but why we still have:
>   #define OS_DOS_COMPATIBLE
> instead of:
>   #define HB_OS_DOS_COMPATIBLE
> ?

Yes, I've cleaned this just now.

> BTW HB_OS_UNIX_COMPATIBLE is for native *nix systems and
> environments which try to emulate them, f.e. CYGWIN or
> CEGCC (it's not MinGW-CE).
> Probably we can remove it and use HB_OS_UNIX but first we
> should clean CYGWIN builds. I've seen in change log:
>   ; TOFIX: (for __CYGWIN__)
>     ../../filesys.c: In function `hb_fsPOpen':
>     ../../filesys.c:577: warning: passing arg 1 of `pipe' from  
> incompatible pointer type
>
> It means that in CYGWIN builds WIN32_IO is used and mixed with stdio.
> It cannot work. CYGWIN port developers should decide what they want
> to do. Use native windows API or POSIX one. If POSIX then all calls
> to MS-Win functions should be excluded and it should use int for file
> handles. In such case we can HB_OS_UNIX for this build and undef
> HB_OS_WIN32. Otherwise I do not see big sense in keeping CYGWIN
> builds as long as we have MinGW one.

Well, if you ask me I think we can safely drop Cygwin
as a supported platform. It sort of works after today's
patches, but I wonder what is the point, GCC is an older
version (3.4.4), installation is less straightforward,
all executable are cygwin1.dll dependent, -mno-cygwin
doesn't seem to currently work with Harbour...

In case it can make things more clear inside Harbour, I'd
say to drop support altogether.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 25 14:45:19 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 14:45:28 2008
Subject: [Harbour] 2008-08-25 20:44 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c906e2$Blat.v2.6.2$b91aaa55$1190b5b1b19c@127.0.0.1>

2008-08-25 20:44 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * config/w32/mingw32.cf
     % -mno-cygwin options removed. No longer needed. If someone 
       wants to compile a mingw build using cygwin, this option 
       should be explicitly specified as C_USR/L_USR and 'gcc' 
       should be used as a compiler. But this setup is barely 
       supported in Harbour, so don't expect it work.
       (Rather, install MinGW)
--
Brgds,
Viktor

From druzus at acn.waw.pl  Mon Aug 25 15:02:54 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 25 15:03:04 2008
Subject: [Harbour] 2008-08-25 20:44 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c906e2$Blat.v2.6.2$b91aaa55$1190b5b1b19c@127.0.0.1>
References: <01c906e2$Blat.v2.6.2$b91aaa55$1190b5b1b19c@127.0.0.1>
Message-ID: <20080825190254.GA25987@34-mo7-2.acn.waw.pl>

On Mon, 25 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> 2008-08-25 20:44 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>    * config/w32/mingw32.cf
>      % -mno-cygwin options removed. No longer needed. If someone 
>        wants to compile a mingw build using cygwin, this option 
>        should be explicitly specified as C_USR/L_USR and 'gcc' 
>        should be used as a compiler. But this setup is barely 
>        supported in Harbour, so don't expect it work.
>        (Rather, install MinGW)

I do not understand. -mno-cygwin disables CYGWIN interface
and forces MinGW one. -mcygwin is opposite option. Removing
-mno-cygwin may break builds in environments which have
CYGWIN interface enabled by default.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Aug 25 15:21:33 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 15:21:48 2008
Subject: [Harbour] 2008-08-25 20:44 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <20080825190254.GA25987@34-mo7-2.acn.waw.pl>
References: <01c906e2$Blat.v2.6.2$b91aaa55$1190b5b1b19c@127.0.0.1>
	<20080825190254.GA25987@34-mo7-2.acn.waw.pl>
Message-ID: <2899674D-ABBB-46B7-9087-85F6440B5136@syenar.hu>

Hi Przemek,

There is no such option in any of the MinGW versions (3.4.2,
3.4.5, 4.1.2, 4.3.1) I have installed (on Windows). [ Well,
4.3.1 has -mcygwin in its help somewhere, but both -mcygwin,
and -mno-cygwin are completely ignored. ]

I recall adding this in those times when the only way to
create a 'mingw32' build, was through a Cygwin installation
and this switch.

Do you mean this is needed for the Linux MingW cross-compiler
environment, still? If that's the case, shouldn't we add this
command line option in the starter .sh files?

Brgds,
Viktor

On 2008.08.25., at 21:02, Przemyslaw Czerpak wrote:

> On Mon, 25 Aug 2008, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>> 2008-08-25 20:44 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>>   * config/w32/mingw32.cf
>>     % -mno-cygwin options removed. No longer needed. If someone
>>       wants to compile a mingw build using cygwin, this option
>>       should be explicitly specified as C_USR/L_USR and 'gcc'
>>       should be used as a compiler. But this setup is barely
>>       supported in Harbour, so don't expect it work.
>>       (Rather, install MinGW)
>
> I do not understand. -mno-cygwin disables CYGWIN interface
> and forces MinGW one. -mcygwin is opposite option. Removing
> -mno-cygwin may break builds in environments which have
> CYGWIN interface enabled by default.
>
> best regards,
> Przemek

From capelsoft at terra.es  Mon Aug 25 15:41:11 2008
From: capelsoft at terra.es (=?iso-8859-1?Q?Jos=E9_Luis_Capel_-?=)
Date: Mon Aug 25 15:41:19 2008
Subject: [Harbour] Error creating libs using eVc4 
References: <01c906e2$Blat.v2.6.2$b91aaa55$1190b5b1b19c@127.0.0.1><20080825190254.GA25987@34-mo7-2.acn.waw.pl>
	<2899674D-ABBB-46B7-9087-85F6440B5136@syenar.hu>
Message-ID: <7779F980C20545E4B124402E6EC70935@pepeluis>

Hi,

With latest svn I got this error (make_vcce):



expropt1.c
expropt2.c
hbarch.c
hbfsapi.c
hbfopen.c
hbgete.c
hbwince.c
hbhash.c
hbdate.c
hbstr.c
hbtrace.c
hbver.c
hbverdsp.c
reserved.c
Microsoft (R) Library Manager Version 6.24.3077
Copyright (C) Microsoft Corporation.  All rights reserved.

hbpp.c
LINK : warning LNK4044: unrecognized option '/MANIFEST:NO'; ignored
LINK : fatal error LNK1181: cannot open input file 'gdi32.lib'


These are my sets:

SET HB_ARCHITECTURE=w32
SET HB_GT_LIB=gtgui
SET HB_GT_DEFAULT=gui
SET HB_VISUALC_VER=60
SET HB_BUILD_MODE=c
SET 
CLIBFLAGS=-DHB_OS_WIN_32  -DHB_WINCE -DHB_GTGUI_HACK -DHARBOUR_MAIN_WIN -DHB_TR_LEVEL_ALWAYS 
 -DUNICODE


Regards,
Jos? Luis Capel 

From harbour.01 at syenar.hu  Mon Aug 25 15:56:46 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 15:56:54 2008
Subject: [Harbour] 2008-08-25 21:56 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c906ec$Blat.v2.6.2$b47c54c1$1e705f77230c@127.0.0.1>

2008-08-25 21:56 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_vcce.mak
     ! Fixed system library list to not contain gdi32.lib.
       This lib was previously used for harbour.dll generation, 
       so I wonder if it was correct, but probably not.
       It would be great if someone could try an MSVC WinCE .dll
       build using the option:
       set HB_BUILD_DLL=yes
--
Brgds,
Viktor

From druzus at acn.waw.pl  Mon Aug 25 16:00:42 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 25 16:00:50 2008
Subject: [Harbour] 2008-08-25 20:44 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <2899674D-ABBB-46B7-9087-85F6440B5136@syenar.hu>
References: <01c906e2$Blat.v2.6.2$b91aaa55$1190b5b1b19c@127.0.0.1>
	<20080825190254.GA25987@34-mo7-2.acn.waw.pl>
	<2899674D-ABBB-46B7-9087-85F6440B5136@syenar.hu>
Message-ID: <20080825200042.GA26373@34-mo7-2.acn.waw.pl>

On Mon, 25 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> There is no such option in any of the MinGW versions (3.4.2,
> 3.4.5, 4.1.2, 4.3.1) I have installed (on Windows). [ Well,
> 4.3.1 has -mcygwin in its help somewhere, but both -mcygwin,
> and -mno-cygwin are completely ignored. ]

Try:
   gcc --target-help

AFAIR this option have been existing in all of the above MinGW
versions for very long time.

> I recall adding this in those times when the only way to
> create a 'mingw32' build, was through a Cygwin installation
> and this switch.

In general it's for all MinGW installations which have CYGWIN
interface enabled by default and we had -mno-cygwin to ignore
such default settings.

> Do you mean this is needed for the Linux MingW cross-compiler
> environment, still? If that's the case, shouldn't we add this
> command line option in the starter .sh files?

It does not depend on OS but on default compiler switches which
can be changed/customized in all installations. If you think it's
very seldom situation then we can leave it as is.

best regards,
Przemek
From capelsoft at terra.es  Mon Aug 25 16:06:16 2008
From: capelsoft at terra.es (=?iso-8859-1?Q?Jos=E9_Luis_Capel_-?=)
Date: Mon Aug 25 16:06:31 2008
Subject: [Harbour] 2008-08-25 21:56 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
References: <01c906ec$Blat.v2.6.2$b47c54c1$1e705f77230c@127.0.0.1>
Message-ID: <E30B7818E0924CC4BA6E3508CF0016B7@pepeluis>

Viktor,

I test build WinCe.dll.

I got a list of errors attached.

Regards,
Jos? Luis Capel

These are my sets:

SET HB_ARCHITECTURE=w32
SET HB_GT_LIB=gtgui
SET HB_GT_DEFAULT=gui
SET HB_VISUALC_VER=60
SET HB_BUILD_MODE=c
SET 
CLIBFLAGS=-DHB_OS_WIN_32  -DHB_WINCE -DHB_GTGUI_HACK -DHARBOUR_MAIN_WIN -DHB_TR_LEVEL_ALWAYS 
 -DUNICODE
SET HB_BUILD_DLL=yes






----- Original Message ----- 
From: "Szak?ts Viktor" <harbour.01@syenar.hu>
To: <harbour@harbour-project.org>
Sent: Monday, August 25, 2008 9:56 PM
Subject: [Harbour] 2008-08-25 21:56 UTC+0200 Viktor Szakats 
(harbour.01syenar hu)


> 2008-08-25 21:56 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>   * make_vcce.mak
>     ! Fixed system library list to not contain gdi32.lib.
>       This lib was previously used for harbour.dll generation,
>       so I wonder if it was correct, but probably not.
>       It would be great if someone could try an MSVC WinCE .dll
>       build using the option:
>       set HB_BUILD_DLL=yes
> --
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: make_vcce.rar
Type: application/octet-stream
Size: 3035 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080825/c7b47315/make_vcce.obj
From harbour.01 at syenar.hu  Mon Aug 25 16:15:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 16:16:02 2008
Subject: [Harbour] 2008-08-25 20:44 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <20080825200042.GA26373@34-mo7-2.acn.waw.pl>
References: <01c906e2$Blat.v2.6.2$b91aaa55$1190b5b1b19c@127.0.0.1>
	<20080825190254.GA25987@34-mo7-2.acn.waw.pl>
	<2899674D-ABBB-46B7-9087-85F6440B5136@syenar.hu>
	<20080825200042.GA26373@34-mo7-2.acn.waw.pl>
Message-ID: <71F92F10-BAA4-4CFC-AF13-E0870B58BEFC@syenar.hu>

Hi Przemek,

> Try:
>   gcc --target-help

You're right, these options are somehow visible
on this help screen, but I did a few simple tests
(compiling a simple program to return different value,
if __CYGWIN__ is #defined, and also 'gcc -dD -E - < nul'
dumps), and there is no sign that these switches are
doing anything, __CYGWIN__ was never #defined, that is.

This was done on 3.4.2, so I suspect this is true for
newer versions.

>> Do you mean this is needed for the Linux MingW cross-compiler
>> environment, still? If that's the case, shouldn't we add this
>> command line option in the starter .sh files?
>
> It does not depend on OS but on default compiler switches which
> can be changed/customized in all installations. If you think it's
> very seldom situation then we can leave it as is.

It may cause problems for those who want to use MinGW 2.95
(which was still labeled Cygnus MinGW), but I suspect there
is not many wanting to do this. I'm also not sure what was
the default for this version, but maybe -mno-cygwin was
indeed needed for this, maybe not. I don't have this version
anymore, so I cannot test.

But anyway, just like __CYGWIN__ support, HB_OS_MAC, this
looks pretty much a thing of the past.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 25 16:27:37 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 16:27:43 2008
Subject: [Harbour] 2008-08-25 22:25 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c906f1$Blat.v2.6.2$03af0f17$1ee8eed1edac@127.0.0.1>

2008-08-25 22:25 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_vcce.mak
     ! Attempt to fix /MANIFEST:NO warnings for MSVC 6.0.
     ! Attempt to fix WinCE .dll linking error.
     ; Jose, another test would be great.

   * make_vc.bat
   * make_vc.mak
   * make_vcce.bat
   * make_vcce.mak
     * Some syncing and minor fixes in comments.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 25 16:36:38 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 16:36:46 2008
Subject: [Harbour] 2008-08-25 22:35 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c906f2$Blat.v2.6.2$461b922f$1dc88e70f722@127.0.0.1>

2008-08-25 22:35 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbsetup.h
   * source/common/hbver.c
     - Removed HB_OS_MAC support. It was nothing more than a simple
       detection and a static version string, so we didn't lose much.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 25 16:50:02 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 16:50:08 2008
Subject: [Harbour] 2008-08-25 22:49 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c906f4$Blat.v2.6.2$25543c2f$193c3de3f44@127.0.0.1>

2008-08-25 22:49 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_vcce.mak
     ! Do not explicitly #define HB_WINCE. This should be 
       autodetected in hbsetup.h.

   * include/hbsetup.h
     % Minor cleanup.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 25 17:07:02 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 17:07:13 2008
Subject: [Harbour] 2008-08-25 22:49 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c906f6$Blat.v2.6.2$855c92a5$5ecf8b3bd2e@127.0.0.1>

2008-08-25 22:49 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbsetup.h
     ! Fixed OS_UNIX_COMPATIBLE
     + Small comments added.
     ; NOTE: I'd like to do the following global renames:
             HB_WINCE     -> HB_OS_WIN_CE
             HB_OS_WIN_32 -> HB_OS_WIN
             Opinions? Especially on the latter.

   * include/hbdefs.h
   * include/hbinit.h
   * contrib/hbodbc/odbc.c
     * _WIN64 -> HB_OS_WIN_64
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 25 17:36:35 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 17:36:43 2008
Subject: [Harbour] 2008-08-25 23:30 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c906fa$Blat.v2.6.2$a637979b$19b095293c5e@127.0.0.1>

2008-08-25 23:30 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/cmdline.txt
   * doc/hrb_faq.txt
   * doc/en/cmdline.txt
   * doc/en/dir.txt
   * doc/en/file.txt
   * doc/en/set.txt
   * doc/es/cmdline.txt
   * doc/es/dir.txt
   * doc/es/file.txt
   * doc/whatsnew.txt
   * contrib/hbct/disk.c
   * contrib/hbodbc/odbc.txt
   * contrib/hbwhat32/whtmapi.c
   * contrib/hbwhat32/whtsys.c
   * contrib/hbwhat32/whtinet.c
   * contrib/hbziparch/hbziparc.c
   * contrib/hbnf/chdir.c
   * contrib/hbnf/tempfile.prg
   * contrib/hbnf/ftisprn.c
   * contrib/hbnf/getenvrn.c
   * contrib/hbnf/mkdir.c
   * contrib/hbnf/rmdir.c
   * contrib/hbpgsql/readme.txt
   * contrib/hbclipsm/environ.c
   * contrib/hbclipsm/tests/testenv.prg
   * contrib/hbgd/tests/gdtest.prg
   * contrib/hbgd/tests/test_out.prg
   * contrib/hbgd/tests/gdtestcl.prg
   * contrib/hbgd/tests/testdpi.prg
   * contrib/hbgd/tests/counter.prg
   * contrib/hbtip/thtml.prg
   * contrib/hbvpdf/hbvpdf.prg
   * contrib/hbvpdf/tests/pdf_demo.prg
   * contrib/hbvpdf/hbvpdft.prg
   * contrib/examples/guestbk/guestbk.prg
   * contrib/examples/pe/editorlo.c
   * utils/hbdoc/genos2.prg
   * utils/hbdoc/hbdoc.prg
   * utils/hbmake/hbmake.prg
     ! Filename casing fixes. (nothing critical)
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 25 18:49:39 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 18:49:57 2008
Subject: [Harbour] 2008-08-26 00:43 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90704$Blat.v2.6.2$db60bf1f$1060c60e5a16@127.0.0.1>

2008-08-26 00:43 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_vc.bat
   * make_vcce.bat
   * make_vc.mak
   - make_vcce.mak
     % make_vcce functionality merged into make_vc.
     * make_vcce.bat changed to a stub calling make_vc.bat.
     ; WinCE builds can be triggered using envvars:
       set HB_BUILD_WINCE=yes
       set HB_CC_NAME=vcce
       Please update your environment and test WinCE builds 
       after this change.

   * make_vc.mak
   * contrib/mtpl_vc.mak
     * Changed HB_VISUALC_VER default to 80.
       It was 60 for non-WinCE builds and contribs, 
       80 for WinCE builds. Now it is 80 for all 
       these cases.

   * make_b32.mak
     * Minor comment visual sync with make_vc.mak.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 25 19:20:37 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 19:20:46 2008
Subject: R: [Harbour] hbmake 
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EEE4@SRV02.deltain.net>
References: <CF5C00689F804270A63266A0DAB21B57@billws><4A51A5A3-0190-4BDD-83DB-B8B1779B0FEB@syenar.hu><C9703610CE8947AFBA9B638135088724@billws><C4515887-52BB-476D-A09D-110F2AEE527A@syenar.hu><A0FC69FF90A0475EBB58EA3FB24ACB00@billws><CF3CD8E5-059D-4758-A081-80FEF89039DF@syenar.hu><AB553226FE5C48DC9FBC684A1C9A1F79@billws><0DE74767-5836-4B39-B5FC-2B260649E0B5@syenar.hu>
	<FB38A3A5F67E49B492AC52C64269EFC3@billws>
	<AFB948164110ED43B5EB849E8DEEF03815EEE4@SRV02.deltain.net>
Message-ID: <98D0BE14-AF6D-4E9D-A937-FA47E093182A@syenar.hu>

>
Hi Massimo,

I hope you had a nice holiday.

> i want refer a good documentation regarding harbour as chm/html http://www.oohg.org/manual/harbour/(x)harbour.html
>
> It is made by free helpmaker (http://www.vizacc.com/Default.aspx )  
> HelpMaker is a good  Help Authoring tool.It can export htm,pdf,rtf
> This documentation is made by Janusz in the oop minigui project and  
> i have his agreement on upload on Harbour csv.
>
> Can we include this documentation on next harbour distribution?

This doc look very good (albeit tailored to xhb, so
it'd need some adjustments here and there), but I
don't like this tree-like framed web format very much,
since it makes broader searching impossible.

Also, I personally prefer open source/multiplatform
tools to create documentation for something we upload
to the SVN.

How does this docs look as source code? Can you upload
it to an FTP/website so that we can have a look?

In any case we can either have a link to this manual
page from our website, or - even better - we may also
host a copy on our homepage. I think this would be
great.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 25 19:26:27 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 19:26:35 2008
Subject: [Harbour] Suggestion for harbour web site?
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EEE5@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815EEE5@SRV02.deltain.net>
Message-ID: <1499C9D4-4ACD-4EDE-B123-8DDA8C2979BF@syenar.hu>

Hi Massimo,

A total rewrite / redesign maybe. And/or wiki.

Currently it's full of lost links, empty pages,
smaller and bigger visual artifacts, and the whole
format / content is also very outdated, and just
frightening for anyone trying to get a level of
confidence in this project.

Brgds,
Viktor

On 2008.08.25., at 13:36, Massimo Belgrano wrote:

> Please post here any suggestion for harbour website
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Aug 25 19:28:07 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 19:28:15 2008
Subject: [Harbour] Typo in /harbour/utilt/hbtest/rt_math.prg
In-Reply-To: <2B9D81037BE54B17B2DB06A93EFD5E51@billws>
References: <85EF86E6AB164F008CD12ACD0B1C03DD@billws>
	<9DC0BA65-A26D-4191-9818-6FC5865F6B8C@syenar.hu>
	<2B9D81037BE54B17B2DB06A93EFD5E51@billws>
Message-ID: <1AA2B8A3-5FA6-49A8-BA0B-EC462E3FE003@syenar.hu>

Hi Bill,

Well hbtest is meant to check for Clipper compatibility,
Clipper may be incorrect in cases, and if it's the case
we may disable the given test to not bother us. In this
case though it clearly shows some important difference
so I'm not sure we should hide it at this point yet,
since this Clipper problem also affects Harbour, and
we haven't fixed in a consistent way yet. (again: some
compilers on some platforms with Harbour will generate
the wrong result, so will not.)

I'd say let's tweak this a bit later.

Brgds,
Viktor

On 2008.08.22., at 18:49, bill robertson wrote:

> ----- Original Message ----- From: "Szak?ts Viktor" <harbour.01@syenar.hu 
> >
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org 
> >
> Sent: Friday, August 22, 2008 12:18 PM
> Subject: Re: [Harbour] Typo in /harbour/utilt/hbtest/rt_math.prg
>
>
>> Hi Bill,
>>
>> Yes, with some compilers it's the correct one,
>> with others it's the other one. We aim for Clipper
>> compatibility, so the expect value in hbtest is
>> the Clipper one.
>>
> Hi Viktor
>
> When there are multiple items you may not be able or want to make  
> Clipper compatibible. Consider the following pgm:
> //---------------------------------------------
> function main()
> LOCAL nInfinity:= Infinity(.T.)
>
> Clear screen
> ?
> ? 2^1024 >  nInfinity
> ? 2^1024 == nInfinity
> ? 2^1024 <  nInfinity
> ? 1234567890*1234567890
> ?
> RETURN 0
>
> You get the following answers:
> clipper
> .F.
> .T.
> .F.
> 1524157875019052000
>
> harbour
> .T.
> .F.
> .F.
> 1524157875019052100
>
> Harbour gets the multiplication correct. Clipper sets the infinity()  
> function to the largest 32-bit value but Harbour doesn't.
>
>> AFAIR, this can be fixed for all systems if
>> we introduce 64bit Harbour numeric types.
>>
> I really need 64bit numerics just to read text files from the NIST.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Aug 25 20:45:59 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Aug 25 20:46:05 2008
Subject: [Harbour] 2008-08-26 02:43 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90715$Blat.v2.6.2$1b9f9280$15a830e68a20@127.0.0.1>

2008-08-26 02:43 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/xhb/hbcrypt.c
   * contrib/hbw32/tprinter.c
   * contrib/hbw32/w32_ole.c
   * contrib/hbw32/w32_prn.c
   * contrib/hbfbird/tests/testapi.c
   * contrib/hbziparch/hbziparc.c
   * contrib/hbziparch/hbzipnew.cpp
   * contrib/hbhpdf/harupdf.c
   * contrib/hbfimage/fi_winfu.c
   * contrib/hbfimage/fi_wrp.c
   * contrib/hbgf/hbgfw32/win32.c
   * contrib/hbgf/hbgfos2/os2pm.c
   * source/rtl/filesys.c
   * utils/hbtest/rt_miscc.c
     * // -> ANSI comments.
     ; NOTE: hbwhat32 and gtwvg remain with //.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 26 02:11:19 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 26 02:11:27 2008
Subject: [Harbour] 2008-08-26 08:10 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90742$Blat.v2.6.2$8e43c7d4$1790c2b664f0@127.0.0.1>

2008-08-26 08:10 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * utils/hbmake/hbmake.prg
     ! Some liblists synced with xhb / hbmake.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 26 03:01:01 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 26 03:01:08 2008
Subject: [Harbour] Harbour compiler GPF
Message-ID: <52B3D8F1-1D0D-4D3E-9BFF-E8678E8F75B0@syenar.hu>

Hi Przemek,

If I run this command on current SVN files,
Harbour compiler will GPF when compiling ft_funcs:

harbour -w3 -n -i..\..\include hbdoc ft_funcs

It also happens with 1.0.0 release compiler version.
If I remove either '-w3' or 'hbdoc' from the command-line,
the GPF disappears.

[ tested with 1.0.0/BCC58 and 1.0.1current/MSVS2008 on Windows. ]

[ I'll commit some modifications to hbdoc soon, but
it doesn't change the situation. ]

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 26 03:02:00 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 26 03:02:06 2008
Subject: [Harbour] 2008-08-26 09:00 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90749$Blat.v2.6.2$a2f1c832$1acc6e7cce8@127.0.0.1>

2008-08-26 09:00 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbsetup.h
     + Added small table (partly from MS KB) about _MSC_VER 
       values and MS product names, as we know them.

   * common.mak
   * utils/hbdoc/Makefile
   * utils/hbdoc/bld_b32.bat
   * utils/hbdoc/bld_vc.bat
   * utils/hbdoc/hbdoc.prg
   * utils/hbdoc/genasc.prg
   * utils/hbdoc/genchm.prg
   * utils/hbdoc/genhpc.prg
   * utils/hbdoc/genhtm.prg
   * utils/hbdoc/genng.prg
   * utils/hbdoc/genos2.prg
   * utils/hbdoc/genpdf1.prg
   * utils/hbdoc/genrtf.prg
   * utils/hbdoc/gentrf.prg
   - utils/hbdoc/rtf.prg
   - utils/hbdoc/os2.prg
   - utils/hbdoc/teeasc.prg
   - utils/hbdoc/ng.prg
   - utils/hbdoc/html.prg
   - utils/hbdoc/troff.prg
     ! Removed non-ASCII drawing chars from comments.
     % Removed STATIC var from THTML class.
     % Merged separate support classes to their gen*.prg.
--
Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Tue Aug 26 03:08:19 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Aug 26 03:08:24 2008
Subject: [Harbour] Suggestion for harbour web site?
In-Reply-To: <1499C9D4-4ACD-4EDE-B123-8DDA8C2979BF@syenar.hu>
References: <AFB948164110ED43B5EB849E8DEEF03815EEE5@SRV02.deltain.net>
	<1499C9D4-4ACD-4EDE-B123-8DDA8C2979BF@syenar.hu>
Message-ID: <9257026e0808260008i789f03e0n646230e199dd98c8@mail.gmail.com>

On 8/26/08, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> A total rewrite / redesign maybe. And/or wiki.

Since it seems clear that at the moment we have not much resources for
the website, the wiki solution ( sth like mediawiki ) seems the more
efficient.

best regards,
Lorenzo
From mbelgrano at deltain.it  Tue Aug 26 04:25:57 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Aug 26 04:26:09 2008
Subject: [Harbour] Suggestion for harbour web site?
In-Reply-To: <1499C9D4-4ACD-4EDE-B123-8DDA8C2979BF@syenar.hu>
References: <AFB948164110ED43B5EB849E8DEEF03815EEE5@SRV02.deltain.net>
	<1499C9D4-4ACD-4EDE-B123-8DDA8C2979BF@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEE7@SRV02.deltain.net>

Hi Vicktor
Now i try some modification but total rewrite is little difficult for me
I have a bad English so I hope that anyone can write contents for harbour website
"for anyone trying to get a level of confidence in this project."

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Tuesday, August 26, 2008 1:26 AM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Suggestion for harbour web site?

Hi Massimo,

A total rewrite / redesign maybe. And/or wiki.

Currently it's full of lost links, empty pages,
smaller and bigger visual artifacts, and the whole
format / content is also very outdated, and just
frightening for anyone trying to get a level of
confidence in this project.

Brgds,
Viktor

On 2008.08.25., at 13:36, Massimo Belgrano wrote:

> Please post here any suggestion for harbour website
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Tue Aug 26 04:51:17 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 26 04:51:24 2008
Subject: [Harbour] 2008-08-26 10:35 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90758$Blat.v2.6.2$e74ba782$16e0456b7ec0@127.0.0.1>

2008-08-26 10:35 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   - source/rtl/gtalleg
   + contrib/gtalleg
   * TODO
   * doc/dirstruc.txt
   * include/hbgtcore.h
   * contrib/gtalleg/Makefile
   * contrib/gtalleg/make_b32.bat
   * contrib/gtalleg/make_vc.bat
   * contrib/gtalleg/make_gcc.sh
   * contrib/make_b32_all.bat
   * contrib/make_vc_all.bat
   * contrib/make_gcc_all.sh
   * contrib/Makefile
   * config/hpux/gcc.cf
   * config/hpux/global.cf
   * config/darwin/gcc.cf
   * config/darwin/global.cf
   * config/dos/global.cf
   * config/linux/gcc.cf
   * config/linux/global.cf
   * config/sunos/gcc.cf
   * config/sunos/global.cf
   * config/bsd/gcc.cf
   * config/bsd/global.cf
   * config/w32/global.cf
   * harbour-ce-spec
   * harbour-w32-spec
   * harbour.spec
     * GTALLEG moved to contrib to make it possible to build 
       using the non-GNU make system, also to align the build 
       process with other 3rd party package dependent parts 
       of Harbour.
       HB_INC_ALLEGRO or HB_DIR_ALLEGRO may be used to point 
       to Allegro package directory. This is generally necessary 
       on non-*nix systems.
     ; NOTE: Review and test build processes and modified files, 
             and unmodified, but potentially related files:
             bin/hb-func.sh
             make_gnu.sh
             make_rpm.sh
             make_rpmce.sh
             make_rpmw32.sh
--
Brgds,
Viktor

From jose.luis at iaicom.com  Tue Aug 26 05:11:46 2008
From: jose.luis at iaicom.com (=?iso-8859-1?Q?Jos=E9_Luis_Capel_?=)
Date: Tue Aug 26 05:08:27 2008
Subject: [Harbour] 2008-08-26 00:43 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
In-Reply-To: <01c90704$Blat.v2.6.2$db60bf1f$1060c60e5a16@127.0.0.1>
References: <01c90704$Blat.v2.6.2$db60bf1f$1060c60e5a16@127.0.0.1>
Message-ID: <002701c9075b$c46065c0$bb001aac@AGSoft.local>

Viktor,

JLC>
JLC>2008-08-26 00:43 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
JLC>   * make_vc.bat
JLC>   * make_vcce.bat
JLC>   * make_vc.mak
JLC>   - make_vcce.mak
JLC>     % make_vcce functionality merged into make_vc.
JLC>     * make_vcce.bat changed to a stub calling make_vc.bat.
JLC>     ; WinCE builds can be triggered using envvars:
JLC>       set HB_BUILD_WINCE=yes
JLC>       set HB_CC_NAME=vcce
JLC>       Please update your environment and test WinCE builds 
JLC>       after this change.
JLC>

Does it mean that my sets have to be as shown bellow ?

SET HB_BUILD_WINCE=yes
SET HB_CC_NAME=vcce
SET HB_ARCHITECTURE=w32
SET HB_GT_LIB=gtgui
SET HB_GT_DEFAULT=gui
SET HB_VISUALC_VER=60
SET HB_BUILD_MODE=c
SET CLIBFLAGS=-DHB_OS_WIN_32  -DHB_WINCE -DHB_GTGUI_HACK -DHARBOUR_MAIN_WIN
-DHB_TR_LEVEL_ALWAYS  -DUNICODE 
SET HB_BUILD_DLL=yes

Regards,
JOs? LUis Capel

From jose.luis at iaicom.com  Tue Aug 26 05:12:31 2008
From: jose.luis at iaicom.com (=?iso-8859-1?Q?Jos=E9_Luis_Capel_?=)
Date: Tue Aug 26 05:09:08 2008
Subject: [Harbour] 2008-08-25 22:25 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
In-Reply-To: <01c906f1$Blat.v2.6.2$03af0f17$1ee8eed1edac@127.0.0.1>
References: <01c906f1$Blat.v2.6.2$03af0f17$1ee8eed1edac@127.0.0.1>
Message-ID: <002801c9075b$df323e00$bb001aac@AGSoft.local>

Viktor,
 
JLC>
JLC>2008-08-25 22:25 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
JLC>   * make_vcce.mak
JLC>     ! Attempt to fix /MANIFEST:NO warnings for MSVC 6.0.
JLC>     ! Attempt to fix WinCE .dll linking error.
JLC>     ; Jose, another test would be great.
JLC>

This afternoon I'll make some tests.

Regards,
Jos? LUis Capel

From harbour.01 at syenar.hu  Tue Aug 26 05:18:30 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 26 05:18:49 2008
Subject: [Harbour] 2008-08-26 00:43 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
In-Reply-To: <002701c9075b$c46065c0$bb001aac@AGSoft.local>
References: <01c90704$Blat.v2.6.2$db60bf1f$1060c60e5a16@127.0.0.1>
	<002701c9075b$c46065c0$bb001aac@AGSoft.local>
Message-ID: <553A7DCB-CA0D-449E-A9FB-D02F054F5860@syenar.hu>

Hi Jose,

> Does it mean that my sets have to be as shown bellow ?
>
> SET HB_BUILD_WINCE=yes
> SET HB_CC_NAME=vcce
> SET HB_ARCHITECTURE=w32
> SET HB_GT_LIB=gtgui
> SET HB_GT_DEFAULT=gui
> SET HB_VISUALC_VER=60
> SET HB_BUILD_MODE=c
> SET CLIBFLAGS=-DHB_OS_WIN_32  -DHB_WINCE -DHB_GTGUI_HACK - 
> DHARBOUR_MAIN_WIN
> -DHB_TR_LEVEL_ALWAYS  -DUNICODE
> SET HB_BUILD_DLL=yes

Yes. I'd suggest to remove -DHB_OS_WIN_32, -DHB_WINCE and
-DUNICODE. These are either autodetected or #defined by
the make files, so they are all unnecessary on user level.
I'd also recommend using C_USR instead of CLIBFLAGS.

Brgds,
Viktor

From mbelgrano at deltain.it  Tue Aug 26 05:32:12 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Aug 26 05:32:18 2008
Subject: R: [Harbour] 2008-08-26 00:43 UTC+0200 Viktor
	Szakats(harbour.01syenar hu)
In-Reply-To: <553A7DCB-CA0D-449E-A9FB-D02F054F5860@syenar.hu>
References: <01c90704$Blat.v2.6.2$db60bf1f$1060c60e5a16@127.0.0.1><002701c9075b$c46065c0$bb001aac@AGSoft.local>
	<553A7DCB-CA0D-449E-A9FB-D02F054F5860@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEE9@SRV02.deltain.net>

Wich kind of unicode support have Harbour now?


-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] Per conto di Szak?ts Viktor
Inviato: marted? 26 agosto 2008 11.19
A: Jos? Luis Capel
Cc: 'Harbour Project Main Developer List.'
Oggetto: Re: [Harbour] 2008-08-26 00:43 UTC+0200 Viktor Szakats(harbour.01syenar hu)

Hi Jose,

> Does it mean that my sets have to be as shown bellow ?
>
> SET HB_BUILD_WINCE=yes
> SET HB_CC_NAME=vcce
> SET HB_ARCHITECTURE=w32
> SET HB_GT_LIB=gtgui
> SET HB_GT_DEFAULT=gui
> SET HB_VISUALC_VER=60
> SET HB_BUILD_MODE=c
> SET CLIBFLAGS=-DHB_OS_WIN_32  -DHB_WINCE -DHB_GTGUI_HACK - 
> DHARBOUR_MAIN_WIN
> -DHB_TR_LEVEL_ALWAYS  -DUNICODE
> SET HB_BUILD_DLL=yes

Yes. I'd suggest to remove -DHB_OS_WIN_32, -DHB_WINCE and
-DUNICODE. These are either autodetected or #defined by
the make files, so they are all unnecessary on user level.
I'd also recommend using C_USR instead of CLIBFLAGS.

Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Tue Aug 26 05:45:15 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Aug 26 05:45:21 2008
Subject: R: [Harbour] 2008-08-26 00:43 UTC+0200 ViktorSzakats(harbour.01syenar
	hu)
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EEE9@SRV02.deltain.net>
References: <01c90704$Blat.v2.6.2$db60bf1f$1060c60e5a16@127.0.0.1><002701c9075b$c46065c0$bb001aac@AGSoft.local><553A7DCB-CA0D-449E-A9FB-D02F054F5860@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815EEE9@SRV02.deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEEA@SRV02.deltain.net>

Harbour does not support Unicode as a native data type.  Harbour developers are now planning to add this support.
In the meantime, Harbour can support Unicode as a byte stream.  
In minigui project has been wrote some functions to convert between various formats of Unicode byte streams and Harbour numeric arrays.  The arrays hold Unicode numeric character codes.  You can download these functions from the MiniGui Extended forum at http://tech.groups.yahoo.com/group/harbourminigui/files/CONTRIB, file name UnicodeConvert.prg.
harbour can compiler unicode source code

> On Sun, 14 Oct 2007, Kevin Carmody wrote:
>   
>> I've written some Harbour routines for handling UTF8 on the back end.  
>> These can be used with current Harbour.  You can download this from 
>> http://kevincarmody.com/misc/unicodeconvert.prg
>>     


-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] Per conto di Massimo Belgrano
Inviato: marted? 26 agosto 2008 11.32
A: Harbour Project Main Developer List.
Oggetto: R: [Harbour] 2008-08-26 00:43 UTC+0200 ViktorSzakats(harbour.01syenar hu)

Wich kind of unicode support have Harbour now?


-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] Per conto di Szak?ts Viktor
Inviato: marted? 26 agosto 2008 11.19
A: Jos? Luis Capel
Cc: 'Harbour Project Main Developer List.'
Oggetto: Re: [Harbour] 2008-08-26 00:43 UTC+0200 Viktor Szakats(harbour.01syenar hu)

Hi Jose,

> Does it mean that my sets have to be as shown bellow ?
>
> SET HB_BUILD_WINCE=yes
> SET HB_CC_NAME=vcce
> SET HB_ARCHITECTURE=w32
> SET HB_GT_LIB=gtgui
> SET HB_GT_DEFAULT=gui
> SET HB_VISUALC_VER=60
> SET HB_BUILD_MODE=c
> SET CLIBFLAGS=-DHB_OS_WIN_32  -DHB_WINCE -DHB_GTGUI_HACK - 
> DHARBOUR_MAIN_WIN
> -DHB_TR_LEVEL_ALWAYS  -DUNICODE
> SET HB_BUILD_DLL=yes

Yes. I'd suggest to remove -DHB_OS_WIN_32, -DHB_WINCE and
-DUNICODE. These are either autodetected or #defined by
the make files, so they are all unnecessary on user level.
I'd also recommend using C_USR instead of CLIBFLAGS.

Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From druzus at acn.waw.pl  Tue Aug 26 05:57:47 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 26 05:57:54 2008
Subject: [Harbour] 2008-08-26 11:57 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808260957.m7Q9vlhj014939@31-mo5-4.acn.waw.pl>

2008-08-26 11:57 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/compiler/hbmain.c
    ! fixed GPF when more then one file was compiled with -w3 switch

best regards
Przemek
From harbour.01 at syenar.hu  Tue Aug 26 06:23:10 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 26 06:23:21 2008
Subject: [Harbour] 2008-08-26 11:57 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200808260957.m7Q9vlhj014939@31-mo5-4.acn.waw.pl>
References: <200808260957.m7Q9vlhj014939@31-mo5-4.acn.waw.pl>
Message-ID: <083E7FA6-ED91-409E-AB78-5CE162289A8A@syenar.hu>

Thanks Przemek.

There is still something here, now it continues
to compile, but when running this:
harbour -w3 -n -i..\..\include hbdoc genhtm genng

I'm getting this:
..\..\include\hbclass.ch(223) Warning W0019  Duplicate declaration of  
Function 'HBCLASS'

After that, it GPFs.

If I remove -w3 or one the gen* files (both #include
hbclass.ch), the problem goes away.

I'm testing this with latest SVN (with some local
FHANDLE to HB_FHANDLE modifications, but that shouldn't
make a difference here).

Brgds,
Viktor

On 2008.08.26., at 11:57, Przemyslaw Czerpak wrote:

> 2008-08-26 11:57 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/source/compiler/hbmain.c
>    ! fixed GPF when more then one file was compiled with -w3 switch
>
> best regards
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Tue Aug 26 06:50:31 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 26 06:50:37 2008
Subject: [Harbour] 2008-08-26 12:50 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808261050.m7QAoVPZ016614@31-mo5-4.acn.waw.pl>

2008-08-26 12:50 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/compiler/hbmain.c
    ! reset class and functions static declarations to avoid GPF
      when more then one file is compiled with -w3 switch
      NOTE: Whole this code will have to be removed and written
            from scratch

best regards
Przemek
From harbour.01 at syenar.hu  Tue Aug 26 07:17:19 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 26 07:17:28 2008
Subject: [Harbour] 2008-08-26 12:50 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200808261050.m7QAoVPZ016614@31-mo5-4.acn.waw.pl>
References: <200808261050.m7QAoVPZ016614@31-mo5-4.acn.waw.pl>
Message-ID: <1F2E694D-12A4-4BF3-8C98-837E3254E393@syenar.hu>

Hi Przemek,

Thanks, it now works okay.

I see what you mean, hbmain.c contains declarations
of stuff found in the RTL, and some of those are not
even true these days. This declarations should come
from some .ch files, instead of being hardcoded, but
that's just the tip of the iceberg.

Can't we just remove this stuff?

Brgds,
Viktor

On 2008.08.26., at 12:50, Przemyslaw Czerpak wrote:

> 2008-08-26 12:50 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/source/compiler/hbmain.c
>    ! reset class and functions static declarations to avoid GPF
>      when more then one file is compiled with -w3 switch
>      NOTE: Whole this code will have to be removed and written
>            from scratch
>
> best regards
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Aug 26 07:33:17 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 26 07:33:25 2008
Subject: [Harbour] 2008-08-26 13:24 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c9076f$Blat.v2.6.2$8912673e$1dc7f3c6d4c@127.0.0.1>

2008-08-26 13:24 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/compiler/hbmain.c
     ! Text casing fixed in some warning messages.
     ! Attempted to update hardcoded declarations for TGET methods.
       Some of the were removed, for some of them the parameter list 
       was updated to be in sync with current tget.prg.

   * contrib/gtalleg/gtalleg.c
   * contrib/gtwvg/gtwvg.c
   * contrib/hbbmcdx/bmdbfcdx.c
   * contrib/hbbmcdx/hbbmcdx.h
   * contrib/hbbtree/hb_btree.c
   * contrib/hbct/ctnet.c
   * contrib/hbct/ctstrfil.c
   * contrib/hbct/ctwin.c
   * contrib/hbcurl/hbcurl.c
   * contrib/hbgd/gdwrp.c
   * contrib/hbmzip/hbmzip.c
   * contrib/hbnf/fttext.c
   * contrib/hbtip/utils.c
   * contrib/xhb/freadlin.c
   * contrib/xhb/hbxml.c
   * contrib/xhb/hbxml.h
   * doc/codestyl.txt
   * doc/en/garbage.txt
   * doc/en/hb_apifs.txt
   * include/hbapigt.h
   * include/hbchksum.h
   * include/hbdbsort.h
   * include/hbgtcore.h
   * include/hbrddcdx.h
   * include/hbrdddbf.h
   * include/hbrdddel.h
   * include/hbrddntx.h
   * include/hbrddsdf.h
   * include/hbset.h
   * include/hbsxfunc.h
   * source/rdd/dbf1.c
   * source/rdd/dbfcdx/dbfcdx1.c
   * source/rdd/dbffpt/dbffpt1.c
   * source/rdd/dbfntx/dbfntx1.c
   * source/rdd/dbsql.c
   * source/rdd/hbsix/sxcompr.c
   * source/rdd/hbsix/sxsem.c
   * source/rdd/hsx/hsx.c
   * source/rtl/console.c
   * source/rtl/copyfile.c
   * source/rtl/fssize.c
   * source/rtl/fstemp.c
   * source/rtl/gt_tpl/gt_tpl.c
   * source/rtl/gtapi.c
   * source/rtl/gtcgi/gtcgi.c
   * source/rtl/gtcrs/gtcrs.c
   * source/rtl/gtdos/gtdos.c
   * source/rtl/gtos2/gtos2.c
   * source/rtl/gtpca/gtpca.c
   * source/rtl/gtsln/gtsln.c
   * source/rtl/gtstd/gtstd.c
   * source/rtl/gttrm/gttrm.c
   * source/rtl/gtwin/gtwin.c
   * source/rtl/gtwvt/gtwvt.c
   * source/rtl/gtxwc/gtxwc.c
   * source/rtl/hbgtcore.c
   * source/rtl/hbmd5.c
   * source/rtl/isprint.c
   * source/rtl/memofile.c
   * source/rtl/philes.c
   * source/rtl/set.c
   * source/vm/memvars.c
   * source/vm/runner.c
   * utils/hbdoc/hbdfrdln.c
   * utils/hbmake/hbmfrdln.c
     * FHANDLE -> HB_FHANDLE
     * hbct: HB_ITEM_PTR -> PHB_ITEM
--
Brgds,
Viktor

From druzus at acn.waw.pl  Tue Aug 26 07:42:42 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 26 07:42:49 2008
Subject: [Harbour] 2008-08-26 12:50 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <1F2E694D-12A4-4BF3-8C98-837E3254E393@syenar.hu>
References: <200808261050.m7QAoVPZ016614@31-mo5-4.acn.waw.pl>
	<1F2E694D-12A4-4BF3-8C98-837E3254E393@syenar.hu>
Message-ID: <20080826114242.GA17010@34-mo7-2.acn.waw.pl>

On Tue, 26 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> I see what you mean, hbmain.c contains declarations
> of stuff found in the RTL, and some of those are not
> even true these days. This declarations should come
> from some .ch files, instead of being hardcoded, but
> that's just the tip of the iceberg.

Exactly. It's also the only one part of Harbour compiler
which is not MT safe due to this static tables. If you
look carefully at the code then you will find that this
static declarations forced additional hacks for freeing
memory which also effected search order when they are
used, etc.
In practice it has to be written from scratch without
any hard coded rules. Definitions should come from .ch
files or some others with function and class prototypes
(f.e. .ph), compiler should have support for automatic
generation such prototype files and finally if we will
find it useful then we can add support to generate code
for hard coded rules just like built in PP tables are
created by hbpp from our std.ch.

> Can't we just remove this stuff?

Probably it's the best idea. They do not give any valuable
information now. Anyhow the code should be updated for empty
tables. I'll make it and comment the static tables.

best regards
Przemek
From harbour.01 at syenar.hu  Tue Aug 26 09:15:11 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 26 09:15:23 2008
Subject: [Harbour] 2008-08-26 15:14 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c9077d$Blat.v2.6.2$c5185082$1c14f6d95816@127.0.0.1>

2008-08-26 15:14 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/common/hbver.c
     + Show bitness for all (non-DJGPP) compilers.
     ! Fixed to show "Windows Server 2003 / XP x64" when 
       Windows 5.2 is detected.
--
Brgds,
Viktor

From rodrmigu at gmail.com  Tue Aug 26 14:33:17 2008
From: rodrmigu at gmail.com (Rodrigo Miguel)
Date: Tue Aug 26 14:33:24 2008
Subject: [Harbour] HBODBC and Bind Variables
Message-ID: <80b05d460808261133p1a06acf3t96fd00d5e398adb3@mail.gmail.com>

Hi All,

I wrote a small workaround of SQLBindParameter and I need some help about
the approach to be used. The code can be found at the end of this email. So
if I execute the following line:

Approach 1
==========

SQLExecBind( hStmt, 'INSERT INTO test_rod(CustomerID, EmployeeID, Salary,
OrderDate) VALUES (?, ?, ?, ?)', 3, 'RODRIGO', 8000, date() )

insted of have these values as:

3, "RODRIGO", 8000, "2008-08-18"

I got

8000, "RODRIGO", 8000, "2008-08-18"

Anyway, I was able to figure out the issue, and that's being caused by reuse
of pointers of the same C type values. So I was wondering how to resolve
that. Shall I use an array of pointers? or shall I use hb_xgrab and then let
the GC clear that after the execution of SQLExecute?

Or should I separate that in 3 formal functions as showed below:

Approach 2
==========

a := 0
b := ''
c := Ctod('')

res := SQLPrepare(hstmt, 'INSERT INTO test_rod(CustomerID, EmployeeID,
OrderDate) VALUES (?, ?, ?)')

res := SQLBindParameter(hstmt, 1, @a)
res := SQLBindParameter(hstmt, 2, @b)
res := SQLBindParameter(hstmt, 3, @c)

for i := 1 to 1000000
   a := i
   b := 'TEST' + str(i)
   c := Date() + 1
   res := SQLExecute(hstmt)
next

So, the second way if my prefered one, but the problem is, how the reference
inside of HB_FUNC the variables (a, b and c) until the execution of next
SQLExecute() ? Is that possible? The code showed above is that we usually do
in a C code, Prepare and bind once and then execute many times as requested
the SQLExecute.

Suggestions and comments?

Thanks in advance.
Rodrigo Moreno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080826/5525f253/attachment.html
From rodrmigu at gmail.com  Tue Aug 26 14:37:18 2008
From: rodrmigu at gmail.com (Rodrigo Miguel)
Date: Tue Aug 26 14:37:23 2008
Subject: [Harbour] Re: HBODBC and Bind Variables
In-Reply-To: <80b05d460808261133p1a06acf3t96fd00d5e398adb3@mail.gmail.com>
References: <80b05d460808261133p1a06acf3t96fd00d5e398adb3@mail.gmail.com>
Message-ID: <80b05d460808261137p47f2c1edj7000c65b8688ddeb@mail.gmail.com>

I forgot the attach the code:

HB_FUNC( SQLEXECBIND )
{
    int nParam;
    int nNumParams = hb_pcount();

    SQLRETURN retcode;
    SQLHSTMT hstmt = ( HSTMT ) hb_parptr( 1 );
    LPTSTR szQuery = hb_parcx( 2 );

    retcode = SQLPrepare(hstmt, szQuery, SQL_NTS);

    for(nParam = 3; nParam <= nNumParams; nParam++)
    {
        PHB_ITEM pItem = hb_param( nParam, HB_IT_ANY );

        if (HB_IS_INTEGER(pItem))
        {
            SQLINTEGER pValue = hb_parni(nParam);
            SQLINTEGER cbValue = 0;
            retcode = SQLBindParameter(hstmt, nParam - 2, SQL_PARAM_INPUT,
SQL_C_USHORT, SQL_INTEGER, 0, 0, &pValue, 0, &cbValue);
        }
        else if (HB_IS_DOUBLE(pItem))
        {
            SQLDOUBLE pValue = hb_parnd(nParam);
            SQLINTEGER cbValue = 0;
            retcode = SQLBindParameter(hstmt, nParam - 2, SQL_PARAM_INPUT,
SQL_C_DOUBLE, SQL_DOUBLE, 0, 0, &pValue, 0, &cbValue);
        }
        else if (HB_IS_LOGICAL(pItem))
        {
            SQLINTEGER pValue = hb_parl(nParam);
            SQLINTEGER cbValue = 0;
            retcode = SQLBindParameter(hstmt, nParam - 2, SQL_PARAM_INPUT,
SQL_C_USHORT, SQL_INTEGER, 0, 0, &pValue, 0, &cbValue);
        }
        else if (HB_IS_STRING(pItem) || HB_IS_NIL(pItem))
        {
            LPTSTR pValue = hb_parcx(nParam);
            SQLINTEGER cbValue = SQL_NTS;
            retcode = SQLBindParameter(hstmt, nParam - 2, SQL_PARAM_INPUT,
SQL_C_CHAR, SQL_CHAR, hb_parclen(nParam), 0, pValue, 0, &cbValue);
        }
        else if (HB_IS_DATE(pItem))
        {
            SQL_DATE_STRUCT pValue;
            SQLINTEGER cbValue = 0;
            int year, month, day;

            hb_dateDecode( hb_itemGetDL( pItem ), &year, &month, &day );
            pValue.year = year;
            pValue.month = month;
            pValue.day = day;
            retcode = SQLBindParameter(hstmt, nParam - 2, SQL_PARAM_INPUT,
SQL_C_TYPE_DATE, SQL_TYPE_DATE, 0, 0, &pValue, 0, &cbValue);
        }
    }

   retcode = SQLExecute(hstmt);

   hb_retni(retcode);
}


On Tue, Aug 26, 2008 at 3:33 PM, Rodrigo Miguel <rodrmigu@gmail.com> wrote:

> Hi All,
>
> I wrote a small workaround of SQLBindParameter and I need some help about
> the approach to be used. The code can be found at the end of this email. So
> if I execute the following line:
>
> Approach 1
> ==========
>
> SQLExecBind( hStmt, 'INSERT INTO test_rod(CustomerID, EmployeeID, Salary,
> OrderDate) VALUES (?, ?, ?, ?)', 3, 'RODRIGO', 8000, date() )
>
> insted of have these values as:
>
> 3, "RODRIGO", 8000, "2008-08-18"
>
> I got
>
> 8000, "RODRIGO", 8000, "2008-08-18"
>
> Anyway, I was able to figure out the issue, and that's being caused by
> reuse of pointers of the same C type values. So I was wondering how to
> resolve that. Shall I use an array of pointers? or shall I use hb_xgrab and
> then let the GC clear that after the execution of SQLExecute?
>
> Or should I separate that in 3 formal functions as showed below:
>
> Approach 2
> ==========
>
> a := 0
> b := ''
> c := Ctod('')
>
> res := SQLPrepare(hstmt, 'INSERT INTO test_rod(CustomerID, EmployeeID,
> OrderDate) VALUES (?, ?, ?)')
>
> res := SQLBindParameter(hstmt, 1, @a)
> res := SQLBindParameter(hstmt, 2, @b)
> res := SQLBindParameter(hstmt, 3, @c)
>
> for i := 1 to 1000000
>    a := i
>    b := 'TEST' + str(i)
>    c := Date() + 1
>    res := SQLExecute(hstmt)
> next
>
> So, the second way if my prefered one, but the problem is, how the
> reference inside of HB_FUNC the variables (a, b and c) until the execution
> of next SQLExecute() ? Is that possible? The code showed above is that we
> usually do in a C code, Prepare and bind once and then execute many times as
> requested the SQLExecute.
>
> Suggestions and comments?
>
> Thanks in advance.
> Rodrigo Moreno
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080826/eda0fe5c/attachment.html
From harbour.01 at syenar.hu  Tue Aug 26 16:15:46 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 26 16:16:00 2008
Subject: [Harbour] 2008-08-26 22:13 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c907b8$Blat.v2.6.2$860c3576$18b8c97db5da@127.0.0.1>

2008-08-26 22:13 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/common/hbver.c
     * hb_verCompiler() buffer size cleanup.

   * source/rtl/hbinet.c
     * Minor formatting.

   * utils/hbmake/hbmake.prg
     * PRG -> .prg on some screen messages.

   * config/w32/xcc.cf
   * config/w32/pocc.cf
     + Added ws2_32.lib. Didn't solve the problem, but 
       as per MS docs of some functions we use, we should 
       use this instead of wsock2 (everywhere actually) 
       [and ws2 instead of winsock for WinCE]. Someone pls 
       correct me if I'm wrong, or if there is any reason 
       we're using both and/or the older one?

   * config/w32/pocc.cf
     - Removed C switch -Zx (Enable Pelles C extensions).
       We don't need this.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 26 16:24:18 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 26 16:24:24 2008
Subject: [Harbour] 2008-08-26 22:23 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c907b9$Blat.v2.6.2$b736d31c$2664eddfaa30@127.0.0.1>

2008-08-26 22:23 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbct/atnum.c
     ! Workaround for PelleC 5.00.1 bug in AMD64 mode.
       'fatal error: Internal error: reduce_tree()'
       I didn't test if it actually works, but at least now 
       is compiles.
       Bug reported on Pelles C forum.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 26 16:42:52 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 26 16:42:57 2008
Subject: [Harbour] 2008-08-26 22:41 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c907bc$Blat.v2.6.2$4f2e950e$1fc8996ebd8@127.0.0.1>

2008-08-26 22:41 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/gtalleg/Makefile
     * Excluded for POCC and XCC.

   * contrib/gtalleg/ssf.h
     ! Setting platform before include Allegro headers.
       (I'm not sure this is necessary for all platforms, 
       but it surely is for BCC and MinGW).

   * contrib/gtwvg/gtwvg.h
     ! __MINGW__ -> __MINGW32__. __MINGW__ is not #defined by MinGW.
--
Brgds,
Viktor

From mbelgrano at deltain.it  Tue Aug 26 18:31:14 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Aug 26 18:31:22 2008
Subject: [Harbour] Google Summer of Code & harbour
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEEF@SRV02.deltain.net>

Google has generously sponsored Aaron W. LaFramboise to work on Windows
GCC Improvements from May to August of
2008.http://gcc.gnu.org/wiki/WindowsGCCImprovementsGSoC2008

Will harbour participate to Google Summer of Code 2009?

Best regard
Massimo Belgrano

From harbour.01 at syenar.hu  Tue Aug 26 19:04:01 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 26 19:04:07 2008
Subject: [Harbour] 2008-08-27 00:54 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c907d0$Blat.v2.6.2$07766944$f148bf05978@127.0.0.1>

2008-08-27 00:54 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbinit.h
   * source/rtl/gtwin/gtwin.c
   * source/rtl/gtwvt/gtwvt.c
   * source/compiler/genc.c
     + Enabled init functions for MSVC 64-bit in C mode.
     ; NOTE: You get the idea, please comment. If there is 
             no simpler/easier/shorter way to achieve this, 
             I'll update the rest 150 files, too.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 26 19:47:07 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 26 19:47:15 2008
Subject: [Harbour] 2008-08-27 01:46 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c907d6$Blat.v2.6.2$0d03fef2$15882b4ba6f2@127.0.0.1>

2008-08-27 01:46 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/hbinet.c
     ! Bad workaround for the '__WSAFDIsSet unresolved' problem 
       in Pelles C 5.00.13 AMD64 mode, to make final executables 
       link at all. Some hbinet.c features (or the whole module) 
       won't properly work though.
       This possible bug has been reported on the Pellec C forums:
       http://forum.pellesc.de/index.php?topic=2590.0
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 26 19:47:46 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 26 19:47:57 2008
Subject: [Harbour] Harbour 64bit MSVC / PellesC
Message-ID: <81B93341-C18D-4EE4-9764-121448051AFA@syenar.hu>

Hi all,

Finally managed to run Harbour on Windows 64-bit.

Brgds,
Viktor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: hb_xp64pocc.png
Type: image/png
Size: 10027 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080827/743d0d7c/hb_xp64pocc-0001.png
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hb_xp64msvc.png
Type: image/png
Size: 9950 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080827/743d0d7c/hb_xp64msvc-0001.png
From hbco2 at sbcglobal.net  Tue Aug 26 20:24:13 2008
From: hbco2 at sbcglobal.net (Bill Smith)
Date: Tue Aug 26 20:24:18 2008
Subject: [Harbour] Harbour 64bit MSVC / PellesC
In-Reply-To: <81B93341-C18D-4EE4-9764-121448051AFA@syenar.hu>
References: <81B93341-C18D-4EE4-9764-121448051AFA@syenar.hu>
Message-ID: <1219796653.4255.76.camel@hblx.340cst>

Congratulations, and again thanks for all the tremendous results!

Looks great!

Bill

On Wed, 2008-08-27 at 01:47 +0200, Szak?ts Viktor wrote:
> Hi all,
> 
> Finally managed to run Harbour on Windows 64-bit.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Aug 26 20:48:08 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 26 20:48:15 2008
Subject: [Harbour] 2008-08-27 02:47 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c907de$Blat.v2.6.2$92df1f40$14b87030a314@127.0.0.1>

2008-08-27 02:47 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/filesys.c
     ! Disabled hb_fsPOpen() body for __CYGWIN__.
       This way __CYGWIN__ compiles cleanly.
       (although I'm not sure how important Cygwin support is)
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 26 22:00:20 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Aug 26 22:00:24 2008
Subject: [Harbour] 2008-08-27 03:57 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c907e8$Blat.v2.6.2$a8e38f24$1078143c113e@127.0.0.1>

2008-08-27 03:57 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * utils/hbmake/hbmake.prg
     ; Applied patches made by Bill Robertson. (Thanks!)
     % Removed Function C( STRING ) as it was only used in the function, 
       Attention(), to center a line on the screen.
     % Removed Static Function IsWin() since it wasn't being used.
     ! Replace all remaining calls to hb_OSNewLine() with s_cEOL.
     ! Changed some calls from OutStd() to OutErr() since they were 
       essentially errors mesages.
     % Replaced some long series of FWrite()s with a single FWrite() 
       where convientent so I could see what was being written to 
       the makefile easier.
     ! Replaced some comparisons from '=' to '=='.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug 27 03:44:00 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 27 03:44:16 2008
Subject: R: [Harbour] 2008-08-26 00:43 UTC+0200 Viktor
	Szakats(harbour.01syenar hu)
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EEE9@SRV02.deltain.net>
References: <01c90704$Blat.v2.6.2$db60bf1f$1060c60e5a16@127.0.0.1><002701c9075b$c46065c0$bb001aac@AGSoft.local>
	<553A7DCB-CA0D-449E-A9FB-D02F054F5860@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815EEE9@SRV02.deltain.net>
Message-ID: <9C3E8D8C-B96D-4FF4-9CB6-EBB6B8DC9FB7@syenar.hu>

It can compile and work using Windows's Unicode API.
This was needed for WinCE, because this one doesn't
have a non-Unicode (ANSI) API.

Internally, Harbour isn't Unicode though, which means
a conversion is needed for all strings, when interfacing
with Unicode APIs.

Brgds,
Viktor

On 2008.08.26., at 11:32, Massimo Belgrano wrote:

> Wich kind of unicode support have Harbour now?
>
>
> -----Messaggio originale-----
> Da: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] Per conto di Szak?ts Viktor
> Inviato: marted? 26 agosto 2008 11.19
> A: Jos? Luis Capel
> Cc: 'Harbour Project Main Developer List.'
> Oggetto: Re: [Harbour] 2008-08-26 00:43 UTC+0200 Viktor  
> Szakats(harbour.01syenar hu)
>
> Hi Jose,
>
>> Does it mean that my sets have to be as shown bellow ?
>>
>> SET HB_BUILD_WINCE=yes
>> SET HB_CC_NAME=vcce
>> SET HB_ARCHITECTURE=w32
>> SET HB_GT_LIB=gtgui
>> SET HB_GT_DEFAULT=gui
>> SET HB_VISUALC_VER=60
>> SET HB_BUILD_MODE=c
>> SET CLIBFLAGS=-DHB_OS_WIN_32  -DHB_WINCE -DHB_GTGUI_HACK -
>> DHARBOUR_MAIN_WIN
>> -DHB_TR_LEVEL_ALWAYS  -DUNICODE
>> SET HB_BUILD_DLL=yes
>
> Yes. I'd suggest to remove -DHB_OS_WIN_32, -DHB_WINCE and
> -DUNICODE. These are either autodetected or #defined by
> the make files, so they are all unnecessary on user level.
> I'd also recommend using C_USR instead of CLIBFLAGS.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug 27 04:28:44 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 27 04:34:29 2008
Subject: [Harbour] Suggestion for harbour web site?
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EEE7@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815EEE5@SRV02.deltain.net>
	<1499C9D4-4ACD-4EDE-B123-8DDA8C2979BF@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815EEE7@SRV02.deltain.net>
Message-ID: <BE96D9E6-1C79-4C10-B2B7-AD4B9D9DAF40@syenar.hu>

>
Hi Massimo,

> Hi Vicktor
> Now i try some modification but total rewrite is little difficult  
> for me
> I have a bad English so I hope that anyone can write contents for  
> harbour website
> "for anyone trying to get a level of confidence in this project."

I think there is no need to put large amount of new
English text to the homepage to make it useful, or
better now. (we may add those later if there is somebody
to write them).

For now, it would be enough to 'clean up' the homepage,
and for this, there is a lot of small steps that can
be made even now.

Notice our homepage is basically saved from WinWord,
which is not very ideal for a start, and see the few
'bug reports' I've sent to you, to this very list.
(these were unfortunately ignored for the most part)

[ This also goes for the English Wikipedia entry for Harbour,
which also contains lots of texts, but not too much
information, and there, there is indeed a large amount
of typos, some of those could be easily fixed with
a browser which can do spell checking - like Firefox 3. ]

Another thought: The xhb homepage (and Wikipedia entry)
is for example a very nicely done one in most respects.
There are also a lot of other OSS projects with clear,
simple, informative and nicely done homepages.

If someone could tell you any more specifics than this,
he could probably do the homepage itself :)

Right now you're the only one able to modify our homepage,
so it would be great if your could help us out with this.

Brgds,
Viktor

>
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Szak?ts Viktor
> Sent: Tuesday, August 26, 2008 1:26 AM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] Suggestion for harbour web site?
>
> Hi Massimo,
>
> A total rewrite / redesign maybe. And/or wiki.
>
> Currently it's full of lost links, empty pages,
> smaller and bigger visual artifacts, and the whole
> format / content is also very outdated, and just
> frightening for anyone trying to get a level of
> confidence in this project.
>
> Brgds,
> Viktor
>
> On 2008.08.25., at 13:36, Massimo Belgrano wrote:
>
>> Please post here any suggestion for harbour website
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug 27 05:39:25 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 27 05:39:32 2008
Subject: [Harbour] 2008-08-27 11:22 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90828$Blat.v2.6.2$caf115e2$166cc2cc7162@127.0.0.1>

2008-08-27 11:22 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/examples/rdddbt/dbfdbt1.c
   * contrib/gtalleg/gtalleg.c
   * contrib/gtwvg/gtwvg.c
   * contrib/hbbmcdx/bmdbfcdx.c
   * contrib/hbbtree/hb_btree.c
   * contrib/hbct/ctwin.c
   * contrib/rddads/ads1.c
   * source/codepage/cp_tpl.c
   * source/codepage/cpbg866.c
   * source/codepage/cpbgiso.c
   * source/codepage/cpbgmik.c
   * source/codepage/cpbgwin.c
   * source/codepage/cpcs852.c
   * source/codepage/cpcsiso.c
   * source/codepage/cpcskam.c
   * source/codepage/cpcswin.c
   * source/codepage/cpde850.c
   * source/codepage/cpdeiso.c
   * source/codepage/cpdewin.c
   * source/codepage/cpel737.c
   * source/codepage/cpelwin.c
   * source/codepage/cpes850.c
   * source/codepage/cpesmwin.c
   * source/codepage/cpeswin.c
   * source/codepage/cpfr850.c
   * source/codepage/cphr1250.c
   * source/codepage/cphr437.c
   * source/codepage/cphr852.c
   * source/codepage/cphu852.c
   * source/codepage/cphu852s.c
   * source/codepage/cphuiso.c
   * source/codepage/cphuisos.c
   * source/codepage/cphuwin.c
   * source/codepage/cphuwins.c
   * source/codepage/cpit437.c
   * source/codepage/cpit850.c
   * source/codepage/cpitisb.c
   * source/codepage/cpitiso.c
   * source/codepage/cpltwin.c
   * source/codepage/cppl852.c
   * source/codepage/cppliso.c
   * source/codepage/cpplmaz.c
   * source/codepage/cpplwin.c
   * source/codepage/cppt850.c
   * source/codepage/cpptiso.c
   * source/codepage/cpru866.c
   * source/codepage/cpruiso.c
   * source/codepage/cprukoi.c
   * source/codepage/cpruwin.c
   * source/codepage/cpsk852.c
   * source/codepage/cpskiso.c
   * source/codepage/cpskkam.c
   * source/codepage/cpskwin.c
   * source/codepage/cpsl437.c
   * source/codepage/cpsl852.c
   * source/codepage/cpsliso.c
   * source/codepage/cpslwin.c
   * source/codepage/cpsrwin.c
   * source/codepage/cpsv850.c
   * source/codepage/cpsvclip.c
   * source/codepage/cpsvwin.c
   * source/codepage/cptr857.c
   * source/codepage/cptrwin.c
   * source/codepage/cpua866.c
   * source/codepage/cpuakoi.c
   * source/codepage/cpuawin.c
   * source/lang/msg_tpl.c
   * source/lang/msgbe866.c
   * source/lang/msgbewin.c
   * source/lang/msgbg866.c
   * source/lang/msgbgiso.c
   * source/lang/msgbgmik.c
   * source/lang/msgbgwin.c
   * source/lang/msgca.c
   * source/lang/msgcs852.c
   * source/lang/msgcsiso.c
   * source/lang/msgcskam.c
   * source/lang/msgcswin.c
   * source/lang/msgde.c
   * source/lang/msgdewin.c
   * source/lang/msgel.c
   * source/lang/msgelwin.c
   * source/lang/msgeo.c
   * source/lang/msges.c
   * source/lang/msgeswin.c
   * source/lang/msgeu.c
   * source/lang/msgfr.c
   * source/lang/msggl.c
   * source/lang/msghe862.c
   * source/lang/msghewin.c
   * source/lang/msghr437.c
   * source/lang/msghr852.c
   * source/lang/msghriso.c
   * source/lang/msghrwin.c
   * source/lang/msghu852.c
   * source/lang/msghucwi.c
   * source/lang/msghuiso.c
   * source/lang/msghuwin.c
   * source/lang/msgid.c
   * source/lang/msgis850.c
   * source/lang/msgit.c
   * source/lang/msgko.c
   * source/lang/msgltwin.c
   * source/lang/msgnl.c
   * source/lang/msgpl852.c
   * source/lang/msgpliso.c
   * source/lang/msgplmaz.c
   * source/lang/msgplwin.c
   * source/lang/msgpt.c
   * source/lang/msgro.c
   * source/lang/msgru866.c
   * source/lang/msgrukoi.c
   * source/lang/msgruwin.c
   * source/lang/msgsk852.c
   * source/lang/msgskiso.c
   * source/lang/msgskkam.c
   * source/lang/msgskwin.c
   * source/lang/msgsl437.c
   * source/lang/msgsl852.c
   * source/lang/msgsliso.c
   * source/lang/msgslwin.c
   * source/lang/msgsr852.c
   * source/lang/msgsriso.c
   * source/lang/msgsrwin.c
   * source/lang/msgtr857.c
   * source/lang/msgtrwin.c
   * source/lang/msgua866.c
   * source/lang/msguakoi.c
   * source/lang/msguawin.c
   * source/lang/msgzhb5.c
   * source/lang/msgzhgb.c
   * source/pp/pplib3.c
   * source/rdd/dbf1.c
   * source/rdd/dbfcdx/dbfcdx1.c
   * source/rdd/dbffpt/dbffpt1.c
   * source/rdd/dbfntx/dbfntx1.c
   * source/rdd/delim1.c
   * source/rdd/sdf1.c
   * source/rtl/gt_tpl/gt_tpl.c
   * source/rtl/gtcgi/gtcgi.c
   * source/rtl/gtcrs/gtcrs.c
   * source/rtl/gtdos/gtdos.c
   * source/rtl/gtgui/gtdef.c
   * source/rtl/gtgui/gtgui.c
   * source/rtl/gtos2/gtos2.c
   * source/rtl/gtpca/gtpca.c
   * source/rtl/gtsln/gtsln.c
   * source/rtl/gtstd/gtstd.c
   * source/rtl/gttrm/gttrm.c
   * source/rtl/gtxwc/gtxwc.c
     ! Fix for MSVC 64-bit C mode startup procedure.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug 27 06:06:27 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 27 06:06:31 2008
Subject: [Harbour] 2008-08-27 12:05 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c9082c$Blat.v2.6.2$91947f42$fd0f5eeed42@127.0.0.1>

2008-08-27 12:05 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/compiler/hbcomp.c
     * Changed the default -gc generation mode for real.
--
Brgds,
Viktor

From mbelgrano at deltain.it  Wed Aug 27 10:05:01 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Aug 27 10:05:10 2008
Subject: [Harbour] Suggestion for harbour web site?
In-Reply-To: <BE96D9E6-1C79-4C10-B2B7-AD4B9D9DAF40@syenar.hu>
References: <AFB948164110ED43B5EB849E8DEEF03815EEE5@SRV02.deltain.net><1499C9D4-4ACD-4EDE-B123-8DDA8C2979BF@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815EEE7@SRV02.deltain.net>
	<BE96D9E6-1C79-4C10-B2B7-AD4B9D9DAF40@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEF1@SRV02.deltain.net>

I propose rewritring from scratch web site, Removing from new structure Sample app,Documentation,sample apps
Redefined simple menu Download/Community/News/Harbour word

Is can use as model: http://www.web20generator.com/generated.aspx?l=66FF00&b=0099FF&g=FFFF66&n=Harbour

I also suggest Using Perspective As wiki who not require database so is good for hosting with good editing capability http://www.high-beyond.com/ or web can choice other from http://www.wikimatrix.org/

Will be interesting also make a new logo more simple base on H stylized like a true harbour

Please Phil Barnett, can you give us the correct direction?
.

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Wednesday, August 27, 2008 10:29 AM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Suggestion for harbour web site?

>
Hi Massimo,

> Hi Vicktor
> Now i try some modification but total rewrite is little difficult  
> for me
> I have a bad English so I hope that anyone can write contents for  
> harbour website
> "for anyone trying to get a level of confidence in this project."

I think there is no need to put large amount of new
English text to the homepage to make it useful, or
better now. (we may add those later if there is somebody
to write them).

For now, it would be enough to 'clean up' the homepage,
and for this, there is a lot of small steps that can
be made even now.

Notice our homepage is basically saved from WinWord,
which is not very ideal for a start, and see the few
'bug reports' I've sent to you, to this very list.
(these were unfortunately ignored for the most part)

[ This also goes for the English Wikipedia entry for Harbour,
which also contains lots of texts, but not too much
information, and there, there is indeed a large amount
of typos, some of those could be easily fixed with
a browser which can do spell checking - like Firefox 3. ]

Another thought: The xhb homepage (and Wikipedia entry)
is for example a very nicely done one in most respects.
There are also a lot of other OSS projects with clear,
simple, informative and nicely done homepages.

If someone could tell you any more specifics than this,
he could probably do the homepage itself :)

Right now you're the only one able to modify our homepage,
so it would be great if your could help us out with this.

Brgds,
Viktor

>
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Szak?ts Viktor
> Sent: Tuesday, August 26, 2008 1:26 AM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] Suggestion for harbour web site?
>
> Hi Massimo,
>
> A total rewrite / redesign maybe. And/or wiki.
>
> Currently it's full of lost links, empty pages,
> smaller and bigger visual artifacts, and the whole
> format / content is also very outdated, and just
> frightening for anyone trying to get a level of
> confidence in this project.
>
> Brgds,
> Viktor
>
> On 2008.08.25., at 13:36, Massimo Belgrano wrote:
>
>> Please post here any suggestion for harbour website
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From rportnoff at spendmap.com  Wed Aug 27 10:14:30 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Wed Aug 27 10:13:10 2008
Subject: [Harbour] hDC in WIN32_SETDOCUMENTPROPERTIES
In-Reply-To: <01c9082c$Blat.v2.6.2$91947f42$fd0f5eeed42@127.0.0.1>
References: <01c9082c$Blat.v2.6.2$91947f42$fd0f5eeed42@127.0.0.1>
Message-ID: <B0083056279@ms1.3peaks.com>

Hi all,

I am calling WIN32_SETDOCUMENTPROPERTIES() from PRG code with a valid 
hDC returned by a call to the Win API PrintDlg(). It seems that the 
conversion of the first param to hDC is not working.

I had to change it from this...

HDC hDC = win32_HDC_par( 1 );

...to this...

HDC hDC = (HDC) hb_parnl( 1 );

...and the function worked ok.

Any idea what's wrong?

Regards,
Randy.


From harbour.01 at syenar.hu  Wed Aug 27 10:23:50 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 27 10:24:01 2008
Subject: [Harbour] Re: hDC in WIN32_SETDOCUMENTPROPERTIES
In-Reply-To: <B0083056279@ms1.3peaks.com>
References: <01c9082c$Blat.v2.6.2$91947f42$fd0f5eeed42@127.0.0.1>
	<B0083056279@ms1.3peaks.com>
Message-ID: <E5ECEE41-5CD8-4503-A00A-0216E66C5C28@syenar.hu>

Hi Randy,

You're trying to pass a Windows handle (pointer)
directly to this function, while this function
expects a special Harbour pointer item (containing
a Windows handle in this case).

win32_SetDocumentProperties() does it that way
to avoid any lost handles on .prg level (due to
programming errors), but automatically freeing
them when they go out of scope.

You may modify win32_HDC_par() to accept numeric
values using hb_parnint() (and not hb_parnl(),
which is not 64-bit compatible). Or, as a better,
solution, you may want to modify your PrintDlg()
wrapper to return a proper Harbour pointer item (see
win32_CreateDC() for a code example.)

Brgds,
Viktor

On 2008.08.27., at 16:14, Randy Portnoff wrote:

> Hi all,
>
> I am calling WIN32_SETDOCUMENTPROPERTIES() from PRG code with a  
> valid hDC returned by a call to the Win API PrintDlg(). It seems  
> that the conversion of the first param to hDC is not working.
>
> I had to change it from this...
>
> HDC hDC = win32_HDC_par( 1 );
>
> ...to this...
>
> HDC hDC = (HDC) hb_parnl( 1 );
>
> ...and the function worked ok.
>
> Any idea what's wrong?
>
> Regards,
> Randy.
>
>

From jfl at mafact.com  Wed Aug 27 11:11:00 2008
From: jfl at mafact.com (J. Lefebvre)
Date: Wed Aug 27 11:11:31 2008
Subject: [Harbour] 2008-08-27 17:05 UTC+0100 JF Lefebvre (Mafact) (jfl at
	mafact dot com)
In-Reply-To: <E5ECEE41-5CD8-4503-A00A-0216E66C5C28@syenar.hu>
Message-ID: <27b17d8a.1c90857.64acc61.1e9e@mafact.com>

2008-08-27 17:05 UTC+0100 JF Lefebvre (Mafact) (jfl at mafact dot com)
   * contrib/rddads/make_vc.bat
     * small typo in set _HB_LIB_INSTALL="%HB_LIB_INSTALL%
       _HB_LIB_INSTALL=%HB_LIB_INSTALL%

From jfl at mafact.com  Wed Aug 27 11:14:00 2008
From: jfl at mafact.com (J. Lefebvre)
Date: Wed Aug 27 11:14:43 2008
Subject: [Harbour] Contrib HBW32 compiling problem
In-Reply-To: <B0083056279@ms1.3peaks.com>
Message-ID: <97086e78.1c90857.64da60e.4d10@mafact.com>

Hi,


There is a problem with some structure member here,

Not sure what should be used so ...	

cl.exe -c -MT -I..\..\include -Ogt2yb1p -GX- -G6 -YX -FD -Gs -W3 -nologo -TC    -Fo..\..\obj\vc\\\ .\w32_ole.c 
w32_ole.c
.\w32_ole.c(403) : error C2039: 'pllVal' : is not a member of '__unnamed'
        C:\PROGRA~1\MICROS~3\VC98\INCLUDE\oaidl.h(412) : see declaration of '__unnamed'
.\w32_ole.c(408) : error C2039: 'llVal' : is not a member of '__unnamed'
        C:\PROGRA~1\MICROS~3\VC98\INCLUDE\oaidl.h(412) : see declaration of '__unnamed'
.\w32_ole.c(786) : error C2039: 'pllVal' : is not a member of '__unnamed'
        C:\PROGRA~1\MICROS~3\VC98\INCLUDE\oaidl.h(412) : see declaration of '__unnamed'
.\w32_ole.c(786) : error C2198: 'hb_itemPutNLL' : too few actual parameters
.\w32_ole.c(792) : error C2039: 'llVal' : is not a member of '__unnamed'
        C:\PROGRA~1\MICROS~3\VC98\INCLUDE\oaidl.h(412) : see declaration of '__unnamed'
.\w32_ole.c(792) : error C2198: 'hb_itemPutNLL' : too few actual parameters

From harbour.01 at syenar.hu  Wed Aug 27 11:16:14 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 27 11:16:24 2008
Subject: [Harbour] 2008-08-27 17:05 UTC+0100 JF Lefebvre (Mafact) (jfl at
	mafact dot com)
In-Reply-To: <27b17d8a.1c90857.64acc61.1e9e@mafact.com>
References: <27b17d8a.1c90857.64acc61.1e9e@mafact.com>
Message-ID: <124B284C-58DB-4CAB-8EC0-7C015F2F7E0A@syenar.hu>

Hi JF,

It was not a typo, this was needed to support dirs
with spaces in them (the default ACE installation
dir is such).

In what environment did this not work for you?

Brgds,
Viktor

On 2008.08.27., at 17:11, J. Lefebvre wrote:

> 2008-08-27 17:05 UTC+0100 JF Lefebvre (Mafact) (jfl at mafact dot com)
>   * contrib/rddads/make_vc.bat
>     * small typo in set _HB_LIB_INSTALL="%HB_LIB_INSTALL%
>       _HB_LIB_INSTALL=%HB_LIB_INSTALL%
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug 27 11:32:00 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 27 11:32:16 2008
Subject: [Harbour] Contrib HBW32 compiling problem
In-Reply-To: <97086e78.1c90857.64da60e.4d10@mafact.com>
References: <97086e78.1c90857.64da60e.4d10@mafact.com>
Message-ID: <9EDBC5A6-5695-43CE-8674-D2D628A3AE54@syenar.hu>

Hi,

Which MSVC version is this exactly?

You may try with
set C_USR=HB_LONG_LONG_OFF

Brgds,
Viktor

On 2008.08.27., at 17:14, J. Lefebvre wrote:

> Hi,
>
>
> There is a problem with some structure member here,
>
> Not sure what should be used so ...	
>
> cl.exe -c -MT -I..\..\include -Ogt2yb1p -GX- -G6 -YX -FD -Gs -W3 - 
> nologo -TC    -Fo..\..\obj\vc\\\ .\w32_ole.c
> w32_ole.c
> .\w32_ole.c(403) : error C2039: 'pllVal' : is not a member of  
> '__unnamed'
>        C:\PROGRA~1\MICROS~3\VC98\INCLUDE\oaidl.h(412) : see  
> declaration of '__unnamed'
> .\w32_ole.c(408) : error C2039: 'llVal' : is not a member of  
> '__unnamed'
>        C:\PROGRA~1\MICROS~3\VC98\INCLUDE\oaidl.h(412) : see  
> declaration of '__unnamed'
> .\w32_ole.c(786) : error C2039: 'pllVal' : is not a member of  
> '__unnamed'
>        C:\PROGRA~1\MICROS~3\VC98\INCLUDE\oaidl.h(412) : see  
> declaration of '__unnamed'
> .\w32_ole.c(786) : error C2198: 'hb_itemPutNLL' : too few actual  
> parameters
> .\w32_ole.c(792) : error C2039: 'llVal' : is not a member of  
> '__unnamed'
>        C:\PROGRA~1\MICROS~3\VC98\INCLUDE\oaidl.h(412) : see  
> declaration of '__unnamed'
> .\w32_ole.c(792) : error C2198: 'hb_itemPutNLL' : too few actual  
> parameters
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From jfl at mafact.com  Wed Aug 27 11:50:00 2008
From: jfl at mafact.com (J. Lefebvre)
Date: Wed Aug 27 11:50:32 2008
Subject: [Harbour] Contrib HBW32 compiling problem
In-Reply-To: <9EDBC5A6-5695-43CE-8674-D2D628A3AE54@syenar.hu>
Message-ID: <9957d20e.1c9085c.66e79cd.620b@mafact.com>

Hi Viktor,

MSVC 98.
nMake.exe 6.00.8168.0
Cl.exe 12.00.8168 (c) 1984-1998    (  :-(((((  )

Probably time to migrate to something more up to date :-)

But I need some help from Antonio to do so.

Would you like I reverse my change with make_vc.bat for rddads ?

Friendly,

JF,

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Szak?ts Viktor
Envoy??: mercredi 27 ao?t 2008 17:32
??: Harbour Project Main Developer List.
Objet?: Re: [Harbour] Contrib HBW32 compiling problem

Hi,

Which MSVC version is this exactly?

You may try with
set C_USR=HB_LONG_LONG_OFF

Brgds,
Viktor

On 2008.08.27., at 17:14, J. Lefebvre wrote:

> Hi,
>
>
> There is a problem with some structure member here,
>
> Not sure what should be used so ...	
>
> cl.exe -c -MT -I..\..\include -Ogt2yb1p -GX- -G6 -YX -FD -Gs -W3 - 
> nologo -TC    -Fo..\..\obj\vc\\\ .\w32_ole.c
> w32_ole.c
> .\w32_ole.c(403) : error C2039: 'pllVal' : is not a member of  
> '__unnamed'
>        C:\PROGRA~1\MICROS~3\VC98\INCLUDE\oaidl.h(412) : see  
> declaration of '__unnamed'
> .\w32_ole.c(408) : error C2039: 'llVal' : is not a member of  
> '__unnamed'
>        C:\PROGRA~1\MICROS~3\VC98\INCLUDE\oaidl.h(412) : see  
> declaration of '__unnamed'
> .\w32_ole.c(786) : error C2039: 'pllVal' : is not a member of  
> '__unnamed'
>        C:\PROGRA~1\MICROS~3\VC98\INCLUDE\oaidl.h(412) : see  
> declaration of '__unnamed'
> .\w32_ole.c(786) : error C2198: 'hb_itemPutNLL' : too few actual  
> parameters
> .\w32_ole.c(792) : error C2039: 'llVal' : is not a member of  
> '__unnamed'
>        C:\PROGRA~1\MICROS~3\VC98\INCLUDE\oaidl.h(412) : see  
> declaration of '__unnamed'
> .\w32_ole.c(792) : error C2198: 'hb_itemPutNLL' : too few actual  
> parameters
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From jfl at mafact.com  Wed Aug 27 11:50:00 2008
From: jfl at mafact.com (J. Lefebvre)
Date: Wed Aug 27 11:51:13 2008
Subject: [Harbour] 2008-08-27 17:05 UTC+0100 JF Lefebvre (Mafact) (jfl at
	mafact dot com)
In-Reply-To: <124B284C-58DB-4CAB-8EC0-7C015F2F7E0A@syenar.hu>
Message-ID: <b2b19302.1c9085c.66f1ff0.5893@mafact.com>

MSVC 98, see details on the other mail. 

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Szak?ts Viktor
Envoy??: mercredi 27 ao?t 2008 17:16
??: Harbour Project Main Developer List.
Objet?: Re: [Harbour] 2008-08-27 17:05 UTC+0100 JF Lefebvre (Mafact) (jfl at mafact dot com)

Hi JF,

It was not a typo, this was needed to support dirs
with spaces in them (the default ACE installation
dir is such).

In what environment did this not work for you?

Brgds,
Viktor

On 2008.08.27., at 17:11, J. Lefebvre wrote:

> 2008-08-27 17:05 UTC+0100 JF Lefebvre (Mafact) (jfl at mafact dot com)
>   * contrib/rddads/make_vc.bat
>     * small typo in set _HB_LIB_INSTALL="%HB_LIB_INSTALL%
>       _HB_LIB_INSTALL=%HB_LIB_INSTALL%
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug 27 11:58:00 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 27 11:58:12 2008
Subject: [Harbour] Contrib HBW32 compiling problem
In-Reply-To: <9957d20e.1c9085c.66e79cd.620b@mafact.com>
References: <9957d20e.1c9085c.66e79cd.620b@mafact.com>
Message-ID: <7EDC1B6C-32DE-473D-8A68-7A315854DFF3@syenar.hu>

>
Hi JF,

> MSVC 98.
> nMake.exe 6.00.8168.0
> Cl.exe 12.00.8168 (c) 1984-1998    (  :-(((((  )
>
> Probably time to migrate to something more up to date :-)

Well, it can be. This version was largely untested with
Harbour, as it seems. We could probably fix Harbour to
make it compile, but there might be surprises when it
comes to 3rd party code and such (difficult to fix) nuances
like this batch file (or rather cl.exe command line) problem.

As an idea, you may try to use an explicit:
set C_USR=-I<your_ACE_include_dir>
to make rddads compile.

> But I need some help from Antonio to do so.
>
> Would you like I reverse my change with make_vc.bat for rddads ?

Yes, I think it would be the best. If we choose to implement
any solution we should do it for all contribs, as it's consistently
using quotes now. [ I have not too many ideas how to solve
this problem cleanly though. This MSVC version is indeed very
old, older than Harbour itself. ]

Brgds,
Viktor

From mbelgrano at deltain.it  Wed Aug 27 13:17:51 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Aug 27 13:18:07 2008
Subject: [Harbour] Proposal for harbour website
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEF2@SRV02.deltain.net>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/png
Size: 4088 bytes
Desc: image001.png
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080827/3d1045c6/attachment.png
From mbelgrano at deltain.it  Wed Aug 27 13:24:12 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Aug 27 13:24:20 2008
Subject: [Harbour] Proposal for harbour website
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EEF2@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815EEF2@SRV02.deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEF3@SRV02.deltain.net>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/png
Size: 4464 bytes
Desc: image002.png
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080827/abc036ce/attachment.png
From capelsoft at terra.es  Wed Aug 27 15:17:15 2008
From: capelsoft at terra.es (=?iso-8859-1?Q?Jos=E9_Luis_Capel_-?=)
Date: Wed Aug 27 15:17:32 2008
Subject: [Harbour] 2008-08-26 00:43 UTC+0200 Viktor
	Szakats(harbour.01syenar hu)
References: <01c90704$Blat.v2.6.2$db60bf1f$1060c60e5a16@127.0.0.1><002701c9075b$c46065c0$bb001aac@AGSoft.local>
	<553A7DCB-CA0D-449E-A9FB-D02F054F5860@syenar.hu>
Message-ID: <CB1E952FE69A4B3FADCEFE4CC025CF4B@pepeluis>

Hi Viktor,

After updating from svn I tried to build harbour libs for Evc4.

My sets now are:


SET HB_BUILD_WINCE=yes
SET HB_CC_NAME=vcce
SET HB_ARCHITECTURE=w32
SET HB_GT_LIB=gtgui
SET HB_GT_DEFAULT=gui
SET HB_VISUALC_VER=60
SET HB_BUILD_MODE=c
SET C_USR= -DHB_GTGUI_HACK -DHARBOUR_MAIN_WIN -DHB_TR_LEVEL_ALWAYS



I do:

<<<<-----
P:\PROGRA~1\harbour>make_vcce

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

NMAKE : fatal error U1052: file 'make_vcce.mak' not found
Stop.
<<<-------

And that's right: make_vcce.mak does not exist (I deleted all .mak and all 
.bat and update from svn).

Maybe I mistaked somewhere.

Thanks for your help....

Regards,
Jos? LUis CApel
----- Original Message ----- 
From: "Szak?ts Viktor" <harbour.01@syenar.hu>
To: "Jos? Luis Capel" <jose.luis@iaicom.com>
Cc: "'Harbour Project Main Developer List.'" <harbour@harbour-project.org>
Sent: Tuesday, August 26, 2008 11:18 AM
Subject: Re: [Harbour] 2008-08-26 00:43 UTC+0200 Viktor 
Szakats(harbour.01syenar hu)


> Hi Jose,
>
>> Does it mean that my sets have to be as shown bellow ?
>>
>> SET HB_BUILD_WINCE=yes
>> SET HB_CC_NAME=vcce
>> SET HB_ARCHITECTURE=w32
>> SET HB_GT_LIB=gtgui
>> SET HB_GT_DEFAULT=gui
>> SET HB_VISUALC_VER=60
>> SET HB_BUILD_MODE=c
>> SET CLIBFLAGS=-DHB_OS_WIN_32  -DHB_WINCE -DHB_GTGUI_HACK - 
>> DHARBOUR_MAIN_WIN
>> -DHB_TR_LEVEL_ALWAYS  -DUNICODE
>> SET HB_BUILD_DLL=yes
>
> Yes. I'd suggest to remove -DHB_OS_WIN_32, -DHB_WINCE and
> -DUNICODE. These are either autodetected or #defined by
> the make files, so they are all unnecessary on user level.
> I'd also recommend using C_USR instead of CLIBFLAGS.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour 

From capelsoft at terra.es  Wed Aug 27 15:17:15 2008
From: capelsoft at terra.es (=?iso-8859-1?Q?Jos=E9_Luis_Capel_-?=)
Date: Wed Aug 27 15:17:40 2008
Subject: [Harbour] 2008-08-26 00:43 UTC+0200 Viktor
	Szakats(harbour.01syenar hu)
References: <01c90704$Blat.v2.6.2$db60bf1f$1060c60e5a16@127.0.0.1><002701c9075b$c46065c0$bb001aac@AGSoft.local>
	<553A7DCB-CA0D-449E-A9FB-D02F054F5860@syenar.hu>
Message-ID: <CB1E952FE69A4B3FADCEFE4CC025CF4B@pepeluis>

Hi Viktor,

After updating from svn I tried to build harbour libs for Evc4.

My sets now are:


SET HB_BUILD_WINCE=yes
SET HB_CC_NAME=vcce
SET HB_ARCHITECTURE=w32
SET HB_GT_LIB=gtgui
SET HB_GT_DEFAULT=gui
SET HB_VISUALC_VER=60
SET HB_BUILD_MODE=c
SET C_USR= -DHB_GTGUI_HACK -DHARBOUR_MAIN_WIN -DHB_TR_LEVEL_ALWAYS



I do:

<<<<-----
P:\PROGRA~1\harbour>make_vcce

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

NMAKE : fatal error U1052: file 'make_vcce.mak' not found
Stop.
<<<-------

And that's right: make_vcce.mak does not exist (I deleted all .mak and all 
.bat and update from svn).

Maybe I mistaked somewhere.

Thanks for your help....

Regards,
Jos? LUis CApel
----- Original Message ----- 
From: "Szak?ts Viktor" <harbour.01@syenar.hu>
To: "Jos? Luis Capel" <jose.luis@iaicom.com>
Cc: "'Harbour Project Main Developer List.'" <harbour@harbour-project.org>
Sent: Tuesday, August 26, 2008 11:18 AM
Subject: Re: [Harbour] 2008-08-26 00:43 UTC+0200 Viktor 
Szakats(harbour.01syenar hu)


> Hi Jose,
>
>> Does it mean that my sets have to be as shown bellow ?
>>
>> SET HB_BUILD_WINCE=yes
>> SET HB_CC_NAME=vcce
>> SET HB_ARCHITECTURE=w32
>> SET HB_GT_LIB=gtgui
>> SET HB_GT_DEFAULT=gui
>> SET HB_VISUALC_VER=60
>> SET HB_BUILD_MODE=c
>> SET CLIBFLAGS=-DHB_OS_WIN_32  -DHB_WINCE -DHB_GTGUI_HACK - 
>> DHARBOUR_MAIN_WIN
>> -DHB_TR_LEVEL_ALWAYS  -DUNICODE
>> SET HB_BUILD_DLL=yes
>
> Yes. I'd suggest to remove -DHB_OS_WIN_32, -DHB_WINCE and
> -DUNICODE. These are either autodetected or #defined by
> the make files, so they are all unnecessary on user level.
> I'd also recommend using C_USR instead of CLIBFLAGS.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour 

From harbour.01 at syenar.hu  Wed Aug 27 15:25:08 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 27 15:25:21 2008
Subject: [Harbour] 2008-08-26 00:43 UTC+0200 Viktor
	Szakats(harbour.01syenar hu)
In-Reply-To: <CB1E952FE69A4B3FADCEFE4CC025CF4B@pepeluis>
References: <01c90704$Blat.v2.6.2$db60bf1f$1060c60e5a16@127.0.0.1><002701c9075b$c46065c0$bb001aac@AGSoft.local>
	<553A7DCB-CA0D-449E-A9FB-D02F054F5860@syenar.hu>
	<CB1E952FE69A4B3FADCEFE4CC025CF4B@pepeluis>
Message-ID: <F03B3E0B-FDF9-4E1E-A11B-9CC00C395A66@syenar.hu>

Hi Jose,

Pls try it with:
set HB_CC_NAME=vc
(or just remove this setting)

I'll remove it from make_vcce.bat ASAP.

Brgds,
Viktor

On 2008.08.27., at 21:17, Jos? Luis Capel - wrote:

> Hi Viktor,
>
> After updating from svn I tried to build harbour libs for Evc4.
>
> My sets now are:
>
>
> SET HB_BUILD_WINCE=yes
> SET HB_CC_NAME=vcce
> SET HB_ARCHITECTURE=w32
> SET HB_GT_LIB=gtgui
> SET HB_GT_DEFAULT=gui
> SET HB_VISUALC_VER=60
> SET HB_BUILD_MODE=c
> SET C_USR= -DHB_GTGUI_HACK -DHARBOUR_MAIN_WIN -DHB_TR_LEVEL_ALWAYS
>
>
>
> I do:
>
> <<<<-----
> P:\PROGRA~1\harbour>make_vcce
>
> Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
> Copyright (C) Microsoft Corp 1988-1998. All rights reserved.
>
> NMAKE : fatal error U1052: file 'make_vcce.mak' not found
> Stop.
> <<<-------
>
> And that's right: make_vcce.mak does not exist (I deleted all .mak  
> and all .bat and update from svn).
>
> Maybe I mistaked somewhere.
>
> Thanks for your help....
>
> Regards,
> Jos? LUis CApel
> ----- Original Message ----- From: "Szak?ts Viktor" <harbour.01@syenar.hu 
> >
> To: "Jos? Luis Capel" <jose.luis@iaicom.com>
> Cc: "'Harbour Project Main Developer List.'" <harbour@harbour-project.org 
> >
> Sent: Tuesday, August 26, 2008 11:18 AM
> Subject: Re: [Harbour] 2008-08-26 00:43 UTC+0200 Viktor  
> Szakats(harbour.01syenar hu)
>
>
>> Hi Jose,
>>
>>> Does it mean that my sets have to be as shown bellow ?
>>>
>>> SET HB_BUILD_WINCE=yes
>>> SET HB_CC_NAME=vcce
>>> SET HB_ARCHITECTURE=w32
>>> SET HB_GT_LIB=gtgui
>>> SET HB_GT_DEFAULT=gui
>>> SET HB_VISUALC_VER=60
>>> SET HB_BUILD_MODE=c
>>> SET CLIBFLAGS=-DHB_OS_WIN_32  -DHB_WINCE -DHB_GTGUI_HACK -  
>>> DHARBOUR_MAIN_WIN
>>> -DHB_TR_LEVEL_ALWAYS  -DUNICODE
>>> SET HB_BUILD_DLL=yes
>>
>> Yes. I'd suggest to remove -DHB_OS_WIN_32, -DHB_WINCE and
>> -DUNICODE. These are either autodetected or #defined by
>> the make files, so they are all unnecessary on user level.
>> I'd also recommend using C_USR instead of CLIBFLAGS.
>>
>> Brgds,
>> Viktor
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug 27 15:31:33 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 27 15:31:37 2008
Subject: [Harbour] 2008-08-27 21:30 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c9087b$Blat.v2.6.2$83585a58$1c9ce0915918@127.0.0.1>

2008-08-27 21:30 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_vcce.bat
     ! Fixed.

   * contrib/rddads/make_vc.bat
     ! Undone previous modification. Quotes are needed to support 
       dirs containing spaces (this is actually the case for the 
       default install dir of ACE SDK).
       For very old MSVC compilers not understanding quotes 
       in -I (and possibly other) switches, pls specify the 
       external package #include directories directly through:
       set C_USR=-IC:\mypath\pkg\include
       and so on. MSVC98 is a very old product and there is 
       probably no way to make all features of our build systems 
       100% compatible with it, but with this manual workaround, 
       it can properly work (until a recommended VC upgrade :).
--
Brgds,
Viktor

From capelsoft at terra.es  Wed Aug 27 15:44:05 2008
From: capelsoft at terra.es (=?iso-8859-1?Q?Jos=E9_Luis_Capel_-?=)
Date: Wed Aug 27 15:44:12 2008
Subject: [Harbour] 2008-08-26 00:43 UTC+0200
	ViktorSzakats(harbour.01syenar hu)
References: <01c90704$Blat.v2.6.2$db60bf1f$1060c60e5a16@127.0.0.1><002701c9075b$c46065c0$bb001aac@AGSoft.local><553A7DCB-CA0D-449E-A9FB-D02F054F5860@syenar.hu><CB1E952FE69A4B3FADCEFE4CC025CF4B@pepeluis>
	<F03B3E0B-FDF9-4E1E-A11B-9CC00C395A66@syenar.hu>
Message-ID: <56FE7829C90946C28CD04B4E436D8636@pepeluis>

Hi Viktor,

Thanks for your answer.

I updated from svn.

These are my sets:

P:\Programacion\harbour>SET HB_BUILD_WINCE=yes
P:\Programacion\harbour>SET HB_CC_NAME=vc
P:\Programacion\harbour>SET HB_ARCHITECTURE=w32
P:\Programacion\harbour>SET HB_GT_LIB=gtgui
P:\Programacion\harbour>SET HB_GT_DEFAULT=gui
P:\Programacion\harbour>SET HB_VISUALC_VER=60
P:\Programacion\harbour>SET HB_BUILD_MODE=c
P:\Programacion\harbour>SET 
C_USR= -DHB_GTGUI_HACK -DHARBOUR_MAIN_WIN -DHB_TR_LEVEL_ALWAYS

P:\Programacion\harbour>make_vcce /CLEAN
NMAKE :  U1052: file 'make_vcce.mak' not found
Stop.

Regards,
Jos? Luis Capel


----- Original Message ----- 
From: "Szak?ts Viktor" <harbour.01@syenar.hu>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Wednesday, August 27, 2008 9:25 PM
Subject: Re: [Harbour] 2008-08-26 00:43 UTC+0200 
ViktorSzakats(harbour.01syenar hu)


Hi Jose,

Pls try it with:
set HB_CC_NAME=vc
(or just remove this setting)

I'll remove it from make_vcce.bat ASAP.

Brgds,
Viktor

On 2008.08.27., at 21:17, Jos? Luis Capel - wrote:

> Hi Viktor,
>
> After updating from svn I tried to build harbour libs for Evc4.
>
> My sets now are:
>
>
> SET HB_BUILD_WINCE=yes
> SET HB_CC_NAME=vcce
> SET HB_ARCHITECTURE=w32
> SET HB_GT_LIB=gtgui
> SET HB_GT_DEFAULT=gui
> SET HB_VISUALC_VER=60
> SET HB_BUILD_MODE=c
> SET C_USR= -DHB_GTGUI_HACK -DHARBOUR_MAIN_WIN -DHB_TR_LEVEL_ALWAYS
>
>
>
> I do:
>
> <<<<-----
> P:\PROGRA~1\harbour>make_vcce
>
> Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
> Copyright (C) Microsoft Corp 1988-1998. All rights reserved.
>
> NMAKE : fatal error U1052: file 'make_vcce.mak' not found
> Stop.
> <<<-------
>
> And that's right: make_vcce.mak does not exist (I deleted all .mak  and 
> all .bat and update from svn).
>
> Maybe I mistaked somewhere.
>
> Thanks for your help....
>
> Regards,
> Jos? LUis CApel
> ----- Original Message ----- From: "Szak?ts Viktor" <harbour.01@syenar.hu
> >
> To: "Jos? Luis Capel" <jose.luis@iaicom.com>
> Cc: "'Harbour Project Main Developer List.'" <harbour@harbour-project.org
> >
> Sent: Tuesday, August 26, 2008 11:18 AM
> Subject: Re: [Harbour] 2008-08-26 00:43 UTC+0200 Viktor 
> Szakats(harbour.01syenar hu)
>
>
>> Hi Jose,
>>
>>> Does it mean that my sets have to be as shown bellow ?
>>>
>>> SET HB_BUILD_WINCE=yes
>>> SET HB_CC_NAME=vcce
>>> SET HB_ARCHITECTURE=w32
>>> SET HB_GT_LIB=gtgui
>>> SET HB_GT_DEFAULT=gui
>>> SET HB_VISUALC_VER=60
>>> SET HB_BUILD_MODE=c
>>> SET CLIBFLAGS=-DHB_OS_WIN_32  -DHB_WINCE -DHB_GTGUI_HACK - 
>>> DHARBOUR_MAIN_WIN
>>> -DHB_TR_LEVEL_ALWAYS  -DUNICODE
>>> SET HB_BUILD_DLL=yes
>>
>> Yes. I'd suggest to remove -DHB_OS_WIN_32, -DHB_WINCE and
>> -DUNICODE. These are either autodetected or #defined by
>> the make files, so they are all unnecessary on user level.
>> I'd also recommend using C_USR instead of CLIBFLAGS.
>>
>> Brgds,
>> Viktor
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour 

From jfl at mafact.com  Wed Aug 27 15:54:00 2008
From: jfl at mafact.com (J. Lefebvre)
Date: Wed Aug 27 15:54:25 2008
Subject: [Harbour] 2008-08-27 21:30 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c9087b$Blat.v2.6.2$83585a58$1c9ce0915918@127.0.0.1>
Message-ID: <a96d7356.1c9087e.74db5c0.4823@mafact.com>

Thanks viktor,

Sorry, I do not had any time till now to reverse my modif.

On the other hand, I tried a very simple hack, replacing nmake.exe 6.00.XXX with those from Visual 2005 (8.00.XXX) and it work fine. ;-)

Will now try my full new Visual 2008 on harbour ;-)

Friendly,

JF,

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Szak?ts Viktor
Envoy??: mercredi 27 ao?t 2008 21:32
??: harbour@harbour-project.org
Objet?: [Harbour] 2008-08-27 21:30 UTC+0200 Viktor Szakats (harbour.01 syenar hu)

2008-08-27 21:30 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_vcce.bat
     ! Fixed.

   * contrib/rddads/make_vc.bat
     ! Undone previous modification. Quotes are needed to support 
       dirs containing spaces (this is actually the case for the 
       default install dir of ACE SDK).
       For very old MSVC compilers not understanding quotes 
       in -I (and possibly other) switches, pls specify the 
       external package #include directories directly through:
       set C_USR=-IC:\mypath\pkg\include
       and so on. MSVC98 is a very old product and there is 
       probably no way to make all features of our build systems 
       100% compatible with it, but with this manual workaround, 
       it can properly work (until a recommended VC upgrade :).
--
Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour


From harbour.01 at syenar.hu  Wed Aug 27 15:59:07 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 27 15:59:17 2008
Subject: [Harbour] 2008-08-27 21:30 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <a96d7356.1c9087e.74db5c0.4823@mafact.com>
References: <a96d7356.1c9087e.74db5c0.4823@mafact.com>
Message-ID: <B32E238F-2F4F-476C-AC85-ADE355165C82@syenar.hu>

Hi JF,

On 2008.08.27., at 21:54, J. Lefebvre wrote:

> Thanks viktor,
>
> Sorry, I do not had any time till now to reverse my modif.

No problem at all, I should have waited, but I've
committed it with something else, me sorry.

> On the other hand, I tried a very simple hack, replacing nmake.exe  
> 6.00.XXX with those from Visual 2005 (8.00.XXX) and it work fine. ;-)

Great :)

> Will now try my full new Visual 2008 on harbour ;-)

And even greater :)

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug 27 15:57:19 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 27 16:02:36 2008
Subject: [Harbour] 2008-08-26 00:43 UTC+0200
	ViktorSzakats(harbour.01syenar hu)
In-Reply-To: <56FE7829C90946C28CD04B4E436D8636@pepeluis>
References: <01c90704$Blat.v2.6.2$db60bf1f$1060c60e5a16@127.0.0.1><002701c9075b$c46065c0$bb001aac@AGSoft.local><553A7DCB-CA0D-449E-A9FB-D02F054F5860@syenar.hu><CB1E952FE69A4B3FADCEFE4CC025CF4B@pepeluis>
	<F03B3E0B-FDF9-4E1E-A11B-9CC00C395A66@syenar.hu>
	<56FE7829C90946C28CD04B4E436D8636@pepeluis>
Message-ID: <A47D49A4-302B-49DB-B223-404E383B2908@syenar.hu>

Hi Jose,

That's pretty strange, either something
is left from the previous envvar settings
and/or files, or there is something so obvious
I cannot see.

I any case, with the settings you have, you
can start 'make_vc.bat' directly (no need to
mess with 'make_vcce.bat' anymore).

Brgds,
Viktor

On 2008.08.27., at 21:44, Jos? Luis Capel - wrote:

> Hi Viktor,
>
> Thanks for your answer.
>
> I updated from svn.
>
> These are my sets:
>
> P:\Programacion\harbour>SET HB_BUILD_WINCE=yes
> P:\Programacion\harbour>SET HB_CC_NAME=vc
> P:\Programacion\harbour>SET HB_ARCHITECTURE=w32
> P:\Programacion\harbour>SET HB_GT_LIB=gtgui
> P:\Programacion\harbour>SET HB_GT_DEFAULT=gui
> P:\Programacion\harbour>SET HB_VISUALC_VER=60
> P:\Programacion\harbour>SET HB_BUILD_MODE=c
> P:\Programacion\harbour>SET C_USR= -DHB_GTGUI_HACK - 
> DHARBOUR_MAIN_WIN -DHB_TR_LEVEL_ALWAYS
>
> P:\Programacion\harbour>make_vcce /CLEAN
> NMAKE :  U1052: file 'make_vcce.mak' not found
> Stop.
>
> Regards,
> Jos? Luis Capel
>
>
> ----- Original Message ----- From: "Szak?ts Viktor" <harbour.01@syenar.hu 
> >
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org 
> >
> Sent: Wednesday, August 27, 2008 9:25 PM
> Subject: Re: [Harbour] 2008-08-26 00:43 UTC+0200  
> ViktorSzakats(harbour.01syenar hu)
>
>
> Hi Jose,
>
> Pls try it with:
> set HB_CC_NAME=vc
> (or just remove this setting)
>
> I'll remove it from make_vcce.bat ASAP.
>
> Brgds,
> Viktor
>
> On 2008.08.27., at 21:17, Jos? Luis Capel - wrote:
>
>> Hi Viktor,
>>
>> After updating from svn I tried to build harbour libs for Evc4.
>>
>> My sets now are:
>>
>>
>> SET HB_BUILD_WINCE=yes
>> SET HB_CC_NAME=vcce
>> SET HB_ARCHITECTURE=w32
>> SET HB_GT_LIB=gtgui
>> SET HB_GT_DEFAULT=gui
>> SET HB_VISUALC_VER=60
>> SET HB_BUILD_MODE=c
>> SET C_USR= -DHB_GTGUI_HACK -DHARBOUR_MAIN_WIN -DHB_TR_LEVEL_ALWAYS
>>
>>
>>
>> I do:
>>
>> <<<<-----
>> P:\PROGRA~1\harbour>make_vcce
>>
>> Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
>> Copyright (C) Microsoft Corp 1988-1998. All rights reserved.
>>
>> NMAKE : fatal error U1052: file 'make_vcce.mak' not found
>> Stop.
>> <<<-------
>>
>> And that's right: make_vcce.mak does not exist (I deleted all .mak   
>> and all .bat and update from svn).
>>
>> Maybe I mistaked somewhere.
>>
>> Thanks for your help....
>>
>> Regards,
>> Jos? LUis CApel
>> ----- Original Message ----- From: "Szak?ts Viktor" <harbour.01@syenar.hu
>> >
>> To: "Jos? Luis Capel" <jose.luis@iaicom.com>
>> Cc: "'Harbour Project Main Developer List.'" <harbour@harbour-project.org
>> >
>> Sent: Tuesday, August 26, 2008 11:18 AM
>> Subject: Re: [Harbour] 2008-08-26 00:43 UTC+0200 Viktor  
>> Szakats(harbour.01syenar hu)
>>
>>
>>> Hi Jose,
>>>
>>>> Does it mean that my sets have to be as shown bellow ?
>>>>
>>>> SET HB_BUILD_WINCE=yes
>>>> SET HB_CC_NAME=vcce
>>>> SET HB_ARCHITECTURE=w32
>>>> SET HB_GT_LIB=gtgui
>>>> SET HB_GT_DEFAULT=gui
>>>> SET HB_VISUALC_VER=60
>>>> SET HB_BUILD_MODE=c
>>>> SET CLIBFLAGS=-DHB_OS_WIN_32  -DHB_WINCE -DHB_GTGUI_HACK -  
>>>> DHARBOUR_MAIN_WIN
>>>> -DHB_TR_LEVEL_ALWAYS  -DUNICODE
>>>> SET HB_BUILD_DLL=yes
>>>
>>> Yes. I'd suggest to remove -DHB_OS_WIN_32, -DHB_WINCE and
>>> -DUNICODE. These are either autodetected or #defined by
>>> the make files, so they are all unnecessary on user level.
>>> I'd also recommend using C_USR instead of CLIBFLAGS.
>>>
>>> Brgds,
>>> Viktor
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug 27 16:03:52 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 27 16:03:57 2008
Subject: [Harbour] 2008-08-27 21:56 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90880$Blat.v2.6.2$072c1d5c$2228bf9550ca@127.0.0.1>

2008-08-27 21:56 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   + config/w32/poccce.cf
     + Added POCC GNU make file for WinCE.
       It has quite some errors yet.
--
Brgds,
Viktor

From jfl at mafact.com  Wed Aug 27 16:09:00 2008
From: jfl at mafact.com (J. Lefebvre)
Date: Wed Aug 27 16:10:07 2008
Subject: [Harbour] 2008-08-27 21:30 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <a96d7356.1c9087e.74db5c0.4823@mafact.com>
Message-ID: <dafcb380.1c90880.75c15fd.18be@mafact.com>

Hummm, was not very well awake :-(

Do not work as the problem is not nmake.exe, but cl.exe as expected :-(

Regards,

JF,

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de J. Lefebvre
Envoy??: mercredi 27 ao?t 2008 21:54
??: 'harbour.01@syenar.hu'; 'Harbour Project Main Developer List.'
Objet?: RE: [Harbour] 2008-08-27 21:30 UTC+0200 Viktor Szakats (harbour.01 syenar hu)

Thanks viktor,

Sorry, I do not had any time till now to reverse my modif.

On the other hand, I tried a very simple hack, replacing nmake.exe 6.00.XXX with those from Visual 2005 (8.00.XXX) and it work fine. ;-)

Will now try my full new Visual 2008 on harbour ;-)

Friendly,

JF,

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Szak?ts Viktor
Envoy??: mercredi 27 ao?t 2008 21:32
??: harbour@harbour-project.org
Objet?: [Harbour] 2008-08-27 21:30 UTC+0200 Viktor Szakats (harbour.01 syenar hu)

2008-08-27 21:30 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_vcce.bat
     ! Fixed.

   * contrib/rddads/make_vc.bat
     ! Undone previous modification. Quotes are needed to support 
       dirs containing spaces (this is actually the case for the 
       default install dir of ACE SDK).
       For very old MSVC compilers not understanding quotes 
       in -I (and possibly other) switches, pls specify the 
       external package #include directories directly through:
       set C_USR=-IC:\mypath\pkg\include
       and so on. MSVC98 is a very old product and there is 
       probably no way to make all features of our build systems 
       100% compatible with it, but with this manual workaround, 
       it can properly work (until a recommended VC upgrade :).
--
Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour


_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour


From harbour.01 at syenar.hu  Wed Aug 27 16:10:53 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 27 16:11:05 2008
Subject: [Harbour] 2008-08-26 00:43 UTC+0200
	ViktorSzakats(harbour.01syenar hu)
In-Reply-To: <56FE7829C90946C28CD04B4E436D8636@pepeluis>
References: <01c90704$Blat.v2.6.2$db60bf1f$1060c60e5a16@127.0.0.1><002701c9075b$c46065c0$bb001aac@AGSoft.local><553A7DCB-CA0D-449E-A9FB-D02F054F5860@syenar.hu><CB1E952FE69A4B3FADCEFE4CC025CF4B@pepeluis>
	<F03B3E0B-FDF9-4E1E-A11B-9CC00C395A66@syenar.hu>
	<56FE7829C90946C28CD04B4E436D8636@pepeluis>
Message-ID: <34856661-3758-480C-91C0-4AA788A34132@syenar.hu>

BTW, you should use CLEAN (not /CLEAN) when running make_vc.bat.

But that's unrelated to this problem.

Brgds,
Viktor

On 2008.08.27., at 21:44, Jos? Luis Capel - wrote:

> Hi Viktor,
>
> Thanks for your answer.
>
> I updated from svn.
>
> These are my sets:
>
> P:\Programacion\harbour>SET HB_BUILD_WINCE=yes
> P:\Programacion\harbour>SET HB_CC_NAME=vc
> P:\Programacion\harbour>SET HB_ARCHITECTURE=w32
> P:\Programacion\harbour>SET HB_GT_LIB=gtgui
> P:\Programacion\harbour>SET HB_GT_DEFAULT=gui
> P:\Programacion\harbour>SET HB_VISUALC_VER=60
> P:\Programacion\harbour>SET HB_BUILD_MODE=c
> P:\Programacion\harbour>SET C_USR= -DHB_GTGUI_HACK - 
> DHARBOUR_MAIN_WIN -DHB_TR_LEVEL_ALWAYS
>
> P:\Programacion\harbour>make_vcce /CLEAN
> NMAKE :  U1052: file 'make_vcce.mak' not found
> Stop.
>
> Regards,
> Jos? Luis Capel
>
>
> ----- Original Message ----- From: "Szak?ts Viktor" <harbour.01@syenar.hu 
> >
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org 
> >
> Sent: Wednesday, August 27, 2008 9:25 PM
> Subject: Re: [Harbour] 2008-08-26 00:43 UTC+0200  
> ViktorSzakats(harbour.01syenar hu)
>
>
> Hi Jose,
>
> Pls try it with:
> set HB_CC_NAME=vc
> (or just remove this setting)
>
> I'll remove it from make_vcce.bat ASAP.
>
> Brgds,
> Viktor
>
> On 2008.08.27., at 21:17, Jos? Luis Capel - wrote:
>
>> Hi Viktor,
>>
>> After updating from svn I tried to build harbour libs for Evc4.
>>
>> My sets now are:
>>
>>
>> SET HB_BUILD_WINCE=yes
>> SET HB_CC_NAME=vcce
>> SET HB_ARCHITECTURE=w32
>> SET HB_GT_LIB=gtgui
>> SET HB_GT_DEFAULT=gui
>> SET HB_VISUALC_VER=60
>> SET HB_BUILD_MODE=c
>> SET C_USR= -DHB_GTGUI_HACK -DHARBOUR_MAIN_WIN -DHB_TR_LEVEL_ALWAYS
>>
>>
>>
>> I do:
>>
>> <<<<-----
>> P:\PROGRA~1\harbour>make_vcce
>>
>> Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
>> Copyright (C) Microsoft Corp 1988-1998. All rights reserved.
>>
>> NMAKE : fatal error U1052: file 'make_vcce.mak' not found
>> Stop.
>> <<<-------
>>
>> And that's right: make_vcce.mak does not exist (I deleted all .mak   
>> and all .bat and update from svn).
>>
>> Maybe I mistaked somewhere.
>>
>> Thanks for your help....
>>
>> Regards,
>> Jos? LUis CApel
>> ----- Original Message ----- From: "Szak?ts Viktor" <harbour.01@syenar.hu
>> >
>> To: "Jos? Luis Capel" <jose.luis@iaicom.com>
>> Cc: "'Harbour Project Main Developer List.'" <harbour@harbour-project.org
>> >
>> Sent: Tuesday, August 26, 2008 11:18 AM
>> Subject: Re: [Harbour] 2008-08-26 00:43 UTC+0200 Viktor  
>> Szakats(harbour.01syenar hu)
>>
>>
>>> Hi Jose,
>>>
>>>> Does it mean that my sets have to be as shown bellow ?
>>>>
>>>> SET HB_BUILD_WINCE=yes
>>>> SET HB_CC_NAME=vcce
>>>> SET HB_ARCHITECTURE=w32
>>>> SET HB_GT_LIB=gtgui
>>>> SET HB_GT_DEFAULT=gui
>>>> SET HB_VISUALC_VER=60
>>>> SET HB_BUILD_MODE=c
>>>> SET CLIBFLAGS=-DHB_OS_WIN_32  -DHB_WINCE -DHB_GTGUI_HACK -  
>>>> DHARBOUR_MAIN_WIN
>>>> -DHB_TR_LEVEL_ALWAYS  -DUNICODE
>>>> SET HB_BUILD_DLL=yes
>>>
>>> Yes. I'd suggest to remove -DHB_OS_WIN_32, -DHB_WINCE and
>>> -DUNICODE. These are either autodetected or #defined by
>>> the make files, so they are all unnecessary on user level.
>>> I'd also recommend using C_USR instead of CLIBFLAGS.
>>>
>>> Brgds,
>>> Viktor
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug 27 16:14:03 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 27 16:14:11 2008
Subject: [Harbour] 2008-08-27 21:30 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <dafcb380.1c90880.75c15fd.18be@mafact.com>
References: <dafcb380.1c90880.75c15fd.18be@mafact.com>
Message-ID: <5274CAA3-FADA-4281-AC0F-31823E966516@syenar.hu>

>
Hi JF,

> Do not work as the problem is not nmake.exe, but cl.exe as  
> expected :-(

Yes, that's why I didn't understand, but I left any speculation.

Try the method I'm writing in the ChangeLog.

Brgds,
Viktor

From philb at philb.us  Wed Aug 27 17:20:51 2008
From: philb at philb.us (Phil Barnett)
Date: Wed Aug 27 17:20:43 2008
Subject: [Harbour] Suggestion for harbour web site?
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EEF1@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815EEE5@SRV02.deltain.net>
	<BE96D9E6-1C79-4C10-B2B7-AD4B9D9DAF40@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815EEF1@SRV02.deltain.net>
Message-ID: <200808271720.52080.philb@philb.us>

On Wednesday 27 August 2008 10:05:01 am Massimo Belgrano wrote:
> I propose rewritring from scratch web site, Removing from new structure
> Sample app,Documentation,sample apps Redefined simple menu
> Download/Community/News/Harbour word
>
> Is can use as model:
> http://www.web20generator.com/generated.aspx?l=66FF00&b=0099FF&g=FFFF66&n=H
>arbour

I really don't care much for html generators when it's so easy to write from 
scratch and have virtually no vulnerabilities. And frameworks that make it 
easy for you to create a web site make it easy for other people to compromise 
my server.

Every single compromise on my server in the last 10 years has come from some 
stupid web framework or idiotic web cgi script.

Come on. html is simple to write. Do you use a code generator for Harbour? The 
Harbour language is a hundred times more complex than html.

If we are going to settle on a html code generator, I want it to be open 
source and GPL so anyone can install it. There are an abundance of those, so 
pick one. And no frameworks, like Mambo or PHPBB or Joomla. Those are the 
worst for being compromised.

> I also suggest Using Perspective As wiki who not require database so is
> good for hosting with good editing capability http://www.high-beyond.com/
> or web can choice other from http://www.wikimatrix.org/

Perspective requires the .net runtime. This assumes a windows server. My 
server is running Linux

Also, MediaWiki requires PHP 5.x and currently this server is stuck at PHP 4.3 
due to a customer requirement.

If anyone wants to host the wiki, I can easily point a dns entry to it. i 
agree with Viktor that MediaWiki is an excellent choice.

In the mean time, when I gave you the keys to our web site, I created a 
complete backup of it, so feel free to wipe it out and start over. We can 
always get back to where we came from as a last resort.

But first, unless you agree to code html from scratch, we need to agree on a 
html generator. I like this one a lot. It's free, open source and it's 
wysiwyg. No framework. Works on Linux, Windows and Macintosh. Well supported.

http://www.nvudev.com/index.php

-- 
"Ninety percent of politicians give the other 10 percent a bad name." -- Henry 
Kissinger
From harbour.01 at syenar.hu  Wed Aug 27 17:57:55 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 27 17:58:05 2008
Subject: [Harbour] Suggestion for harbour web site?
In-Reply-To: <200808271720.52080.philb@philb.us>
References: <AFB948164110ED43B5EB849E8DEEF03815EEE5@SRV02.deltain.net>
	<BE96D9E6-1C79-4C10-B2B7-AD4B9D9DAF40@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815EEF1@SRV02.deltain.net>
	<200808271720.52080.philb@philb.us>
Message-ID: <7C540C4E-20F2-4A42-A72F-AB8CEEF8C3EB@syenar.hu>

>>
Hi Massimo, Phil,

>> Is can use as model:
>> http://www.web20generator.com/generated.aspx?l=66FF00&b=0099FF&g=FFFF66&n=H
>> arbour
>
> I really don't care much for html generators when it's so easy to  
> write from
> scratch and have virtually no vulnerabilities. And frameworks that  
> make it
> easy for you to create a web site make it easy for other people to  
> compromise
> my server.
>
> Every single compromise on my server in the last 10 years has come  
> from some
> stupid web framework or idiotic web cgi script.
>
> Come on. html is simple to write. Do you use a code generator for  
> Harbour? The
> Harbour language is a hundred times more complex than html.
>
> If we are going to settle on a html code generator, I want it to be  
> open
> source and GPL so anyone can install it. There are an abundance of  
> those, so
> pick one. And no frameworks, like Mambo or PHPBB or Joomla. Those  
> are the
> worst for being compromised.

Yes, please no 'code generators' if possible, nor Drupal and friends.
We need some simple, but well formed and cleaned .html files, not
a full blown portal motor and other fluffs.

We can go on forever talking rounds around the 'proper' tool, but
what we'd need is plain CLEANING work in our current website, instead
of words.

How many pages do we have or need? 10? We don't need CGI, scripts,
forms, animation, ads, just some text, links and a few images, maybe
some .css.

I don't think we need any heavy tools to manage that.

>> I also suggest Using Perspective As wiki who not require database  
>> so is
>> good for hosting with good editing capability http://www.high-beyond.com/
>> or web can choice other from http://www.wikimatrix.org/
>
> Perspective requires the .net runtime. This assumes a windows  
> server. My
> server is running Linux
>
> Also, MediaWiki requires PHP 5.x and currently this server is stuck  
> at PHP 4.3
> due to a customer requirement.

That's a problem.

Anyone able and wanting to host the Harbour website?

> If anyone wants to host the wiki, I can easily point a dns entry to  
> it. i
> agree with Viktor that MediaWiki is an excellent choice.
>
> In the mean time, when I gave you the keys to our web site, I  
> created a
> complete backup of it, so feel free to wipe it out and start over.  
> We can
> always get back to where we came from as a last resort.
>
> But first, unless you agree to code html from scratch, we need to  
> agree on a
> html generator. I like this one a lot. It's free, open source and it's
> wysiwyg. No framework. Works on Linux, Windows and Macintosh. Well  
> supported.
>
> http://www.nvudev.com/index.php

If Massimo can find any tool, which can help him to create
clean and _standard_ standalone static .html pages, the tool
can be pretty much anything, as we can most probably
continue editing them (if the code is indeed clean and standard).

I also prefer NVU as a mid-heady editor, over other proprietary
and/or payware stuff. I personally use 'nb2', but my .html
writing needs are very basic.

[ As for a web standard, I prefer XHTML 1.1, but that's
again something we can be flexible with at this point. ]

For .html correctness http://validator.w3.org/ is our friend.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug 27 18:00:58 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 27 18:01:15 2008
Subject: [Harbour] Proposal for harbour website
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EEF2@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815EEF2@SRV02.deltain.net>
Message-ID: <E7E51B13-0532-418A-A4A5-7E0B64D7886F@syenar.hu>

Looks good.

[ I'd maybe like it better with a simpler sans-serif font. ]

Group opinions?

Brgds,
Viktor

On 2008.08.27., at 19:17, Massimo Belgrano wrote:

> <image001.png>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From capelsoft at terra.es  Wed Aug 27 18:37:34 2008
From: capelsoft at terra.es (Jose luis Capel)
Date: Wed Aug 27 18:37:53 2008
Subject: [Harbour] 2008-08-26 00:43 UTC+0200ViktorSzakats(harbour.01syenar
	hu)
Message-ID: <mailman.0.1219876673.3696.harbour@harbour-project.org>

Hi Viktor,

Now I could build libs for evc4.

Seemed that in my previous try some envar did not set correctly.

Just one question: now libs are created in /libs/vc instead of /libs/vcce.

Is it possible to leave these libs in /libs/vcce?

Regards and thaks,
Jose Luis Capel

-----Mensaje original-----
    De: "Szak?ts Viktor"<harbour.01@syenar.hu>
    Enviado: 27/08/08 21:57:19
    Para: "Harbour Project Main Developer List."<harbour@harbour-project.org>
    Asunto: Re: [Harbour] 2008-08-26 00:43 UTC+0200ViktorSzakats(harbour.01syenar hu)
    
    Hi Jose,
    
    That's pretty strange, either something
    is left from the previous envvar settings
    and/or files, or there is something so obvious
    I cannot see.
    
    I any case, with the settings you have, you
    can start 'make_vc.bat' directly (no need to
    mess with 'make_vcce.bat' anymore).
    
    Brgds,
    Viktor
    
    On 2008.08.27., at 21:44, Jos? Luis Capel - wrote:
    
    > Hi Viktor,
    >
    > Thanks for your answer.
    >
    > I updated from svn.
    >
    > These are my sets:
    >
    > P:\Programacion\harbour>SET HB_BUILD_WINCE=yes
    

[Mensaje truncado. Para ver la parte restante, puntee en Edici?n->Marcar para descarga.]

From harbour.01 at syenar.hu  Wed Aug 27 19:01:07 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 27 19:01:21 2008
Subject: [Harbour] 2008-08-26 00:43 UTC+0200ViktorSzakats(harbour.01syenar
	hu)
In-Reply-To: <48b5d75f.47c1f10a.07bc.1d05SMTPIN_ADDED@mx.google.com>
References: <48b5d75f.47c1f10a.07bc.1d05SMTPIN_ADDED@mx.google.com>
Message-ID: <01B2B7BC-88D3-4232-A272-F4392E70B2E8@syenar.hu>

Hi Jose,

Okay, I can easily fix this, but I just can hope
I won't step on Marek's toes. (The problem is that
I don't know what is exactly the reason HB_CC_NAME
is made a public setting.)

After the fix, you'll need to set HB_CC_NAME to vcce,
and it should be okay.

Brdgs,
Viktor

On 2008.08.28., at 0:37, Jose luis Capel wrote:

> Hi Viktor,
>
> Now I could build libs for evc4.
>
> Seemed that in my previous try some envar did not set correctly.
>
> Just one question: now libs are created in /libs/vc instead of /libs/ 
> vcce.
>
> Is it possible to leave these libs in /libs/vcce?
>
> Regards and thaks,
> Jose Luis Capel
>
> -----Mensaje original-----
>    De: "Szak?ts Viktor"<harbour.01@syenar.hu>
>    Enviado: 27/08/08 21:57:19
>    Para: "Harbour Project Main Developer List."<harbour@harbour-project.org 
> >
>    Asunto: Re: [Harbour] 2008-08-26 00:43 UTC 
> +0200ViktorSzakats(harbour.01syenar hu)
>
>    Hi Jose,
>
>    That's pretty strange, either something
>    is left from the previous envvar settings
>    and/or files, or there is something so obvious
>    I cannot see.
>
>    I any case, with the settings you have, you
>    can start 'make_vc.bat' directly (no need to
>    mess with 'make_vcce.bat' anymore).
>
>    Brgds,
>    Viktor
>
>    On 2008.08.27., at 21:44, Jos? Luis Capel - wrote:
>
>> Hi Viktor,
>>
>> Thanks for your answer.
>>
>> I updated from svn.
>>
>> These are my sets:
>>
>> P:\Programacion\harbour>SET HB_BUILD_WINCE=yes
>
>
> [Mensaje truncado. Para ver la parte restante, puntee en Edici?n- 
> >Marcar para descarga.]
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug 27 19:15:02 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 27 19:15:06 2008
Subject: [Harbour] 2008-08-28 01:14 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c9089a$Blat.v2.6.2$bb8e142a$116826a05ff2@127.0.0.1>

2008-08-28 01:14 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_b32.bat
   * make_vc.bat
     ! Made makefile name independent of the HB_CC_NAME envvar.
       NOTE: If this poses a limitation for someone, please shout, 
             we may add an additional variable to control/override 
             makefile name (but it cannot directly depend on 
             HB_CC_NAME now that make_vc.mak and make_vcce.mak 
             got merged.)
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug 27 19:21:32 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Aug 27 19:21:36 2008
Subject: [Harbour] 2008-08-28 01:20 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c9089b$Blat.v2.6.2$a3f2aab4$1c88902d88f4@127.0.0.1>

2008-08-28 01:20 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_b32.bat
   * make_vc.bat
     * exit_err.bat -> hbmkpost.bat
       Please update your environment if you used this feature.
       INCOMPATIBLE.

   * make_vcce.bat
     ! Adjusted to latest change.

   * make_gnu.bat
     * Minor formatting.
--
Brgds,
Viktor

From jfl at mafact.com  Thu Aug 28 03:45:00 2008
From: jfl at mafact.com (J. Lefebvre)
Date: Thu Aug 28 03:46:21 2008
Subject: [Harbour] 2008-08-27 21:30 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <5274CAA3-FADA-4281-AC0F-31823E966516@syenar.hu>
Message-ID: <17607bc0.1c908e2.9d954c1.6784@mafact.com>

Hi Viktor,

I finally got it working (VC98, Visual2005 Visual2008) :-)

Very simple in fact. It was just a problem of terminating "\"

As this one is working with the include string :  E:\ads81\api\acesdk\
cl.exe -c -MT -I"..\..\include" -Ot2b1 -FD -Gs -D_CRT_SECURE_NO_DEPRECATE -W3 -nologo -TC  -IE:\ads81\api\acesdk\  -Fo..\..\obj\vc\\\ .\ads1.c .\adsfunc.c .\adsmgmnt.c

this one fail with : "E:\ads81\api\acesdk\"
cl.exe -c -MT -I"..\..\include" -Ot2b1 -FD -Gs -D_CRT_SECURE_NO_DEPRECATE -W3 -nologo -TC  -I"E:\ads81\api\acesdk\"  -Fo..\..\obj\vc\\\ .\ads1.c .\adsfunc.c .\adsmgmnt.c

but is working with : "E:\ads81\api\acesdk"
cl.exe -c -MT -I"..\..\include" -Ot2b1 -FD -Gs -D_CRT_SECURE_NO_DEPRECATE -W3 -nologo -TC  -I"E:\ads81\api\acesdk"  -Fo..\..\obj\vc\\\ .\ads1.c .\adsfunc.c .\adsmgmnt.c

Just for information in case of someone else could have a similar problem.

Regards,

JF,

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Szak?ts Viktor
Envoy??: mercredi 27 ao?t 2008 22:14
??: Harbour Project Main Developer List.
Objet?: Re: [Harbour] 2008-08-27 21:30 UTC+0200 Viktor Szakats (harbour.01 syenar hu)

>
Hi JF,

> Do not work as the problem is not nmake.exe, but cl.exe as  
> expected :-(

Yes, that's why I didn't understand, but I left any speculation.

Try the method I'm writing in the ChangeLog.

Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour


From sscc at mweb.co.za  Thu Aug 28 04:33:29 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Aug 28 04:33:43 2008
Subject: [Harbour] 2008-08-27 21:30 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <dafcb380.1c90880.75c15fd.18be@mafact.com>
References: <dafcb380.1c90880.75c15fd.18be@mafact.com>
Message-ID: <48B662D9.1000808@mweb.co.za>

J. Lefebvre wrote:
> Hummm, was not very well awake :-(
> 
> Do not work as the problem is not nmake.exe, but cl.exe as expected :-(

I also use MSVC 6 and I use quotes around the /i parameters:

MSVC_DIR = "\program files\microsoft visual studio\vc98"
MSVCSDK_DIR = "\program files\microsoft SDK"

and

$(OBJ_DIR)/%.obj : %.prg
	$(HB_DIR)\bin\harbour $< /q0 /n /m /w /gc0 /es2 /dECR32 /dEASIPOS 
/dECR /i$(HB_DIR)\include /i$(HWGUI_DIR)\include /o$(OBJ_DIR)\$*.c
	@cl /nologo /W3 /c /TP /I. /I$(HB_DIR)\include 
/I$(MSVCSDK_DIR)\include /I$(MSVC_DIR)\include $(OBJ_DIR)\$*.c /Fo$@
	@del $(OBJ_DIR)\$*.c

I am not using nmake, but so what.

Sorry about the folding but you should be able to see what I mean (the 
@cl means don't echo the cl command with MinGW make).

Regards
Alex
From jfl at mafact.com  Thu Aug 28 04:42:00 2008
From: jfl at mafact.com (J. Lefebvre)
Date: Thu Aug 28 04:42:39 2008
Subject: [Harbour] 2008-08-27 21:30 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <48B662D9.1000808@mweb.co.za>
Message-ID: <fc5d9184.1c908e9.a0d1181.4ae1@mafact.com>

Thanks Alex,

I finally found the problem. Just the fact that cl.exe do not allow a final "\" when include string is surrounded by double quotes.

Thanks,

PS:Just a question ? Is there any 'plus' using MinGW make in place of Microsoft one nMake ?

JF,

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Alex Strickland
Envoy??: jeudi 28 ao?t 2008 10:33
??: Harbour Project Main Developer List.
Objet?: Re: [Harbour] 2008-08-27 21:30 UTC+0200 Viktor Szakats (harbour.01 syenar hu)

J. Lefebvre wrote:
> Hummm, was not very well awake :-(
> 
> Do not work as the problem is not nmake.exe, but cl.exe as expected :-(

I also use MSVC 6 and I use quotes around the /i parameters:

MSVC_DIR = "\program files\microsoft visual studio\vc98"
MSVCSDK_DIR = "\program files\microsoft SDK"

and

$(OBJ_DIR)/%.obj : %.prg
	$(HB_DIR)\bin\harbour $< /q0 /n /m /w /gc0 /es2 /dECR32 /dEASIPOS 
/dECR /i$(HB_DIR)\include /i$(HWGUI_DIR)\include /o$(OBJ_DIR)\$*.c
	@cl /nologo /W3 /c /TP /I. /I$(HB_DIR)\include 
/I$(MSVCSDK_DIR)\include /I$(MSVC_DIR)\include $(OBJ_DIR)\$*.c /Fo$@
	@del $(OBJ_DIR)\$*.c

I am not using nmake, but so what.

Sorry about the folding but you should be able to see what I mean (the 
@cl means don't echo the cl command with MinGW make).

Regards
Alex
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour


From sscc at mweb.co.za  Thu Aug 28 05:00:20 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Aug 28 05:00:43 2008
Subject: [Harbour] 2008-08-27 21:30 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <fc5d9184.1c908e9.a0d1181.4ae1@mafact.com>
References: <fc5d9184.1c908e9.a0d1181.4ae1@mafact.com>
Message-ID: <48B66924.5070103@mweb.co.za>

J. Lefebvre wrote:

> PS:Just a question ? Is there any 'plus' using MinGW make in place of Microsoft one nMake ?

Well I thought there was a plus. I did not know how to get nmake to 
infer the rules the way I like, so :

easipos_objs = \
$(OBJ_DIR)/ecr.obj \
$(OBJ_DIR)/ecrapp.obj

easipos.exe : $(easipos_objs)

knows to go and look for ecr.prg and ecrapp.prg without explicitly 
declaring rules for each prg file, but I could get the GNU make to do 
this.

But recently I found out how to do this with nmake as well (for the 
HWGUI makefile) so really now there is little difference for my 
purposes IMO. The GNU make documentation is far superior.

Regards
Alex

From jfl at mafact.com  Thu Aug 28 05:31:00 2008
From: jfl at mafact.com (J. Lefebvre)
Date: Thu Aug 28 05:32:18 2008
Subject: [Harbour] 2008-08-27 21:30 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <48B66924.5070103@mweb.co.za>
Message-ID: <ea2e5cd0.1c908f0.a3a7a62.3d6c@mafact.com>

Thanks for the info.

JF

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Alex Strickland
Envoy??: jeudi 28 ao?t 2008 11:00
??: Harbour Project Main Developer List.
Objet?: Re: [Harbour] 2008-08-27 21:30 UTC+0200 Viktor Szakats (harbour.01 syenar hu)

J. Lefebvre wrote:

> PS:Just a question ? Is there any 'plus' using MinGW make in place of Microsoft one nMake ?

Well I thought there was a plus. I did not know how to get nmake to 
infer the rules the way I like, so :

easipos_objs = \
$(OBJ_DIR)/ecr.obj \
$(OBJ_DIR)/ecrapp.obj

easipos.exe : $(easipos_objs)

knows to go and look for ecr.prg and ecrapp.prg without explicitly 
declaring rules for each prg file, but I could get the GNU make to do 
this.

But recently I found out how to do this with nmake as well (for the 
HWGUI makefile) so really now there is little difference for my 
purposes IMO. The GNU make documentation is far superior.

Regards
Alex

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour


From harbour.01 at syenar.hu  Thu Aug 28 06:23:05 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 28 06:23:11 2008
Subject: [Harbour] 2008-08-28 12:20 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c908f8$Blat.v2.6.2$0ef5927a$1864a4ba75e8@127.0.0.1>

2008-08-28 12:20 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_vc.bat
     * Updated usage text.

   * include/hbwince.h
     ! Fix for Pelles C 5.0 in WinCE/ARM mode.

   * include/hbsetup.h
     + Detecting Pelles C 5.0 in ARM mode as HB_WINCE.

   * ChangeLog
     - Removed some advices not valid anymore from previous entry.

   * contrib/mtpl_b32.bat
   * contrib/mtpl_vc.bat
     * Synced with /make_*.bat so that the name of the .mak 
       file is now hard-wired instead of being HB_CC_NAME dependent.
       This way contribs may be built for WinCE in the future 
       (this still needs adding WinCE support to mtpl_vc.mak).

   * contrib/mtpl_gcc.sh
     + Darwin autodetection was missing.

   * contrib/hbfimage/fi_winfu.c
     ! Added CBM_INIT definition for Pellec C in WinCE mode.

   * source/rtl/gtclip.c
     + Added GMEM_MOVEABLE definiction for Pelles C in WinCE mode.

   + config/w32/poccce.cf
     + Added Pellec C WinCE make file.

   + config/w32/msvcce.cf
     + Added WinCE GNU make file for MSVC. Untested, probably not working, 
       this is just a small step to make the GNU-make equal in feature 
       with the non-GNU make one.

   * config/w32/bcc32.cf
     * Minor sync of C options with non-GNU make file.

   * config/w32/msvc.cf
     * Attempt to sync C options with non-GNU make file.

   * contrib/hbfbird/firebird.c
     * Minor formatting.

   ; NOTE1: For better consistency I'd like to rename GNU make compiler names
            'mingw32' to 'mingw' (they've dropped '32' long ago), and 
            'cemgw' to 'mingwce'.
   ; NOTE2: Pelles C WinCE build still generates following errors:
       POLINK: error: Unresolved external symbol 'GetModuleFileNameA'.
       POLINK: error: Unresolved external symbol 'RegOpenKeyExA'.
       ../../math.c(605): error #3120: [asm] Symbol 'inf' is undefined.
       contrib\gtwvg\gtwvg.h(78): fatal error #1035: Can't find include file <olectl.h>.
       ../../ctmath2.c(324): error #3120: [asm] Symbol 'inf' is undefined.
       ../../win32.c(70): error #2048: Undeclared identifier 'CS_OWNDC'.
       ../../win32.c(75): error #2048: Undeclared identifier 'IDI_APPLICATION'.
       ../../win32.c(75): error #2140: Type error in argument 2 to 'LoadIconA'; found 'int', expected 'const char *'.
       ../../win32.c(181): error #2048: Undeclared identifier 'MFS_DISABLED'.
       ../../win32.c(194): warning #2027: Missing prototype for 'InsertMenuItem'.
       ../../win32.c(219): warning #2027: Missing prototype for 'SetMenu'.
       ../../odbc.c(94): fatal error #1035: Can't find include file <sql.h>.
       contrib\hbsqlit3\sqlite3\sqlite3.c(9936): warning #2027: Missing prototype for 'localtime'. [ ... ]
       ../../w32_ole.c(403): error #2152: Unknown field 'pllVal' of 'union (no name)'.
       ../../w32_ole.c(403): error #2168: Operands of = have incompatible types 'int' and 'long long int *'.
       ../../w32_ole.c(408): error #2152: Unknown field 'llVal' of 'union (no name)'.
       ../../w32_ole.c(786): error #2152: Unknown field 'pllVal' of 'union (no name)'.
       ../../w32_ole.c(786): error #2144: Type error: pointer expected.
       ../../w32_ole.c(792): error #2152: Unknown field 'llVal' of 'union (no name)'.
       ../../hbsyslog.c(31): error #2140: Type error in argument 2 to 'RegisterEventSourceW'; found 'const char *', expected 'const wchar_t *'.
       ../../hbsyslog.c(97): error #2140: Type error in argument 8 to 'ReportEventW'; found 'const char * *', expected 'const wchar_t * *'.
       ../../firebird.c(448): error #2149: Undefined size for 'times' with type '(incomplete) struct tm'.
       ../../firebird.c(479): error #2152: Unknown field 'tm_year' of '(incomplete) struct tm'.
       ../../firebird.c(480): error #2152: Unknown field 'tm_mon' of '(incomplete) struct tm'.
       ../../firebird.c(481): error #2152: Unknown field 'tm_mday' of '(incomplete) struct tm'.
       ../../firebird.c(482): error #2152: Unknown field 'tm_hour' of '(incomplete) struct tm'.
       ../../firebird.c(483): error #2152: Unknown field 'tm_min' of '(incomplete) struct tm'.
       ../../firebird.c(484): error #2152: Unknown field 'tm_sec' of '(incomplete) struct tm'.
       ../../firebird.c(493): error #2152: Unknown field 'tm_year' of '(incomplete) struct tm'.
       ../../firebird.c(493): error #2152: Unknown field 'tm_mon' of '(incomplete) struct tm'.
       ../../firebird.c(493): error #2152: Unknown field 'tm_mday' of '(incomplete) struct tm'.
       ../../firebird.c(502): error #2152: Unknown field 'tm_hour' of '(incomplete) struct tm'.
       ../../firebird.c(503): error #2152: Unknown field 'tm_min' of '(incomplete) struct tm'.
       ../../firebird.c(504): error #2152: Unknown field 'tm_sec' of '(incomplete) struct tm'.
       ../../fi_winfu.c(97): warning #2027: Missing prototype for 'CreateDIBitmap'.
       ../../fi_winfu.c(98): error #2048: Undeclared identifier 'CBM_INIT'.
       ../../fi_winfu.c(99): error #2168: Operands of = have incompatible types 'HBITMAP' and 'int'.
       ../../fi_winfu.c(150): warning #2027: Missing prototype for 'GetDIBits'.
       [ lots of them with hbmysql ]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Aug 28 06:25:37 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 28 06:25:42 2008
Subject: [Harbour] 2008-08-28 12:22 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c908f8$Blat.v2.6.2$69c826ea$d28a75598de@127.0.0.1>

2008-08-28 12:22 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbfimage/fi_winfu.c
     ! Added CBM_INIT definition for Pellec C in WinCE mode.
       [UNDONE. CreateDIBitmap() also doesn't exist in WinCE. ]
--
Brgds,
Viktor

From mbelgrano at deltain.it  Thu Aug 28 12:21:34 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Aug 28 12:21:49 2008
Subject: [Harbour] 2008-08-25 14:46 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
In-Reply-To: <01c906b0$Blat.v2.6.2$ada76447$16bc79108118@127.0.0.1>
References: <01c906b0$Blat.v2.6.2$ada76447$16bc79108118@127.0.0.1>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEFA@SRV02.deltain.net>

Recompiling an application with gtwvg now I receive this:
Error: Unresolved external '_hb_hInstance' referenced from C:\HARBOUR\LIB\GTWVG.
LIB|wvgutils



-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Monday, August 25, 2008 2:47 PM
To: harbour@harbour-project.org
Subject: [Harbour] 2008-08-25 14:46 UTC+0200 Viktor Szakats (harbour.01syenar hu)

2008-08-25 14:46 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/vm/cmdarg.c
     ! hb_hInstance, hb_hPrevInstance, s_iCmdShow, s_WinMainParam
       vars marked as 'static', hb_ prefix changed to s_.
       NOTE: This may pose a problem if some 3rd party code 
             was relying on the names or the fact that these 
             vars were exported by incident (since they were 
             not declared in any Harbour headers.)
             [INCOMPATIBLE]

   * contrib/hbwhat32/whtmain.c
     ! Removed WinMain() function and some global vars colliding 
       with some Harbour core ones.
     * HINSTANCE(), HPREVINSTANCE(), NCMDSHOW() functions now 
       use Harbour API calls to retrieve values.
--
Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Thu Aug 28 12:33:06 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 28 12:33:20 2008
Subject: [Harbour] 2008-08-28 18:31 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c9092b$Blat.v2.6.2$c02650b0$1f842d99f4dc@127.0.0.1>

2008-08-28 18:31 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/gtwvg/wvgutils.c
     ! Fixed to use documented Harbour API hb_winmainArgGet() 
       instead of the (since cleaned away) undocumented Harbour 
       global variable hb_hInstance.
--
Brgds,
Viktor

From mbelgrano at deltain.it  Thu Aug 28 13:27:28 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Aug 28 13:27:39 2008
Subject: R: [Harbour] 2008-08-28 18:31 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
In-Reply-To: <01c9092b$Blat.v2.6.2$c02650b0$1f842d99f4dc@127.0.0.1>
References: <01c9092b$Blat.v2.6.2$c02650b0$1f842d99f4dc@127.0.0.1>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EEFD@SRV02.deltain.net>

Tank
.
Now compile without error

-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] Per conto di Szak?ts Viktor
Inviato: gioved? 28 agosto 2008 18.33
A: harbour@harbour-project.org
Oggetto: [Harbour] 2008-08-28 18:31 UTC+0200 Viktor Szakats (harbour.01syenar hu)

2008-08-28 18:31 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/gtwvg/wvgutils.c
     ! Fixed to use documented Harbour API hb_winmainArgGet() 
       instead of the (since cleaned away) undocumented Harbour 
       global variable hb_hInstance.
--
Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Thu Aug 28 14:01:28 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 28 14:01:40 2008
Subject: [Harbour] 2008-08-28 20:00 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90938$Blat.v2.6.2$182edbf4$1a185ce3cff2@127.0.0.1>

2008-08-28 20:00 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtchrmap.c
   * source/rtl/hbgtcore.c
   * source/vm/hvm.c
     + Added three TOFIXes regarding namespace violations.
       s_pszLinkedMain        -> hb_vm_pszLinkedMain
       s_defaultGT            -> hb_gt_szNameDefault
       s_szDefaultCharMapFile -> hb_gt_szCharMapFileDefault
       TOFIX: These should be fixed in 1.1 (or maybe even in 
              1.0.1 if this isn't such a big problem for 3rd 
              parties).
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Aug 28 14:17:45 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 28 14:17:50 2008
Subject: [Harbour] 2008-08-28 20:17 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c9093a$Blat.v2.6.2$5e8c6182$1c085224ffa0@127.0.0.1>

2008-08-28 20:17 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_vc.bat
   - make_vcce.bat
     + Added some additional information how to create WinCE 
       builds using make_vc.bat.
     - Deleted make_vcce.bat
--
Brgds,
Viktor

From capelsoft at terra.es  Thu Aug 28 15:57:09 2008
From: capelsoft at terra.es (=?iso-8859-1?Q?Jos=E9_Luis_Capel_-?=)
Date: Thu Aug 28 15:57:36 2008
Subject: [Harbour] Building libs Wince Evc4 latest svn
References: <01c9093a$Blat.v2.6.2$5e8c6182$1c085224ffa0@127.0.0.1>
Message-ID: <E84ACD3E60D0465297C3A37866A06790@pepeluis>

Viktor,

With latest snv finally I could build correctly libs for Wince Evc4 using 
new bat/mak.  Many thanks.

I also tried to build dll.  I had some problems (see attached file).

These are my sets:

P:\Programacion\harbour>SET HB_BUILD_WINCE=yes
P:\Programacion\harbour>SET HB_CC_NAME=vcce
P:\Programacion\harbour>SET HB_ARCHITECTURE=w32
P:\Programacion\harbour>SET HB_GT_LIB=gtgui
P:\Programacion\harbour>SET HB_GT_DEFAULT=gui
P:\Programacion\harbour>SET HB_VISUALC_VER=60
P:\Programacion\harbour>SET HB_BUILD_MODE=c
P:\Programacion\harbour>SET 
C_USR= -DHB_GTGUI_HACK -DHARBOUR_MAIN_WIN -DHB_TR_LEVEL_ALWAYS
P:\Programacion\harbour>SET HB_BUILD_DLL=yes
P:\Programacion\harbour>make_vc

Regards,
Jos? Luis CApel
-------------- next part --------------
A non-text attachment was scrubbed...
Name: make_vcce.rar
Type: application/octet-stream
Size: 2360 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080828/dde2f7ab/make_vcce.obj
From harbour.01 at syenar.hu  Thu Aug 28 16:22:01 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 28 16:22:13 2008
Subject: [Harbour] Re: Building libs Wince Evc4 latest svn
In-Reply-To: <E84ACD3E60D0465297C3A37866A06790@pepeluis>
References: <01c9093a$Blat.v2.6.2$5e8c6182$1c085224ffa0@127.0.0.1>
	<E84ACD3E60D0465297C3A37866A06790@pepeluis>
Message-ID: <535F10D3-B193-4296-A2E7-77DC87FC3322@syenar.hu>

Hi Jose,

Thanks for your tests.

This is the only problem present when linking hbtest-dll
against harbour-10-vcce.dll:
---
corelibc.lib(pegwmain.obj) : error LNK2019: unresolved external symbol  
WinMain referenced in function WinMainCRTStartup
bin\vcce\hbtest-dll.exe : fatal error LNK1120: 1 unresolved externals
---

Unfortunately I have no idea how to fix this,
hopefully someone will jump in with the solution.

Brgds,
Viktor

On 2008.08.28., at 21:57, Jos? Luis Capel - wrote:

> Viktor,
>
> With latest snv finally I could build correctly libs for Wince Evc4  
> using new bat/mak.  Many thanks.
>
> I also tried to build dll.  I had some problems (see attached file).
>
> These are my sets:
>
> P:\Programacion\harbour>SET HB_BUILD_WINCE=yes
> P:\Programacion\harbour>SET HB_CC_NAME=vcce
> P:\Programacion\harbour>SET HB_ARCHITECTURE=w32
> P:\Programacion\harbour>SET HB_GT_LIB=gtgui
> P:\Programacion\harbour>SET HB_GT_DEFAULT=gui
> P:\Programacion\harbour>SET HB_VISUALC_VER=60
> P:\Programacion\harbour>SET HB_BUILD_MODE=c
> P:\Programacion\harbour>SET C_USR= -DHB_GTGUI_HACK - 
> DHARBOUR_MAIN_WIN -DHB_TR_LEVEL_ALWAYS
> P:\Programacion\harbour>SET HB_BUILD_DLL=yes
> P:\Programacion\harbour>make_vc
>
> Regards,
> Jos? Luis CApel
> <make_vcce.rar>

From harbour.01 at syenar.hu  Thu Aug 28 17:50:33 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 28 17:50:43 2008
Subject: [Harbour] BUG (1.0.0 and current): Leak with /w3 and duplicate
	method declaration
Message-ID: <D797480C-F54F-4694-8665-6D864CD6A100@syenar.hu>

Hi all,

--- leak.prg
#include "hbclass.ch"

CLASS test
    DATA var1
    DATA var1
ENDCLASS
---

--- screen
C:\harbour\bin>harbour leak /n /i..\include /w3
Harbour 1.0.0 Intl. (Rev. 9175)
Copyright (c) 1999-2008, http://www.harbour-project.org/
Compiling 'leak.prg'...
leak.prg(5) Warning W0019  Duplicate declaration of Method 'VAR1'
leak.prg(5) Warning W0019  Duplicate declaration of Method '_VAR1'
Lines 736, Functions/Procedures 1
Generating C source output to 'leak.c'... Done.

----------------------------------------
Total memory allocated: 119939 bytes (6751 blocks)
WARNING! Memory allocated but not released: 17 bytes (2 blocks)
source\main\harbour.c:319: HB_TR_ERROR Block 1 009A1CE4 (size 16)  
"\00\00\00\00\00\00\00\00\EE\4F\47\00\01\00\00\00"
source\main\harbour.c:319: HB_TR_ERROR Block 2 009B7264 (size 1) " "
---

Brgds,
Viktor

From druzus at acn.waw.pl  Thu Aug 28 17:59:50 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug 28 17:59:58 2008
Subject: [Harbour] BUG (1.0.0 and current): Leak with /w3 and duplicate
	method declaration
In-Reply-To: <D797480C-F54F-4694-8665-6D864CD6A100@syenar.hu>
References: <D797480C-F54F-4694-8665-6D864CD6A100@syenar.hu>
Message-ID: <20080828215950.GA7840@34-mo7-2.acn.waw.pl>

On Thu, 28 Aug 2008, Szak?ts Viktor wrote:

Hi Viktor,

> --- leak.prg
> #include "hbclass.ch"
> CLASS test
>    DATA var1
>    DATA var1
> ENDCLASS

It's a known issue. Look at harbour.h[1332]
If it's necessary I can try to fix it though as I said
few time in the past whole strong typing code have to be
removed and written from scratch in different way.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Aug 28 18:12:35 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Aug 28 18:12:45 2008
Subject: [Harbour] BUG (1.0.0 and current): Leak with /w3 and duplicate
	method declaration
In-Reply-To: <20080828215950.GA7840@34-mo7-2.acn.waw.pl>
References: <D797480C-F54F-4694-8665-6D864CD6A100@syenar.hu>
	<20080828215950.GA7840@34-mo7-2.acn.waw.pl>
Message-ID: <83433E6C-67AD-41A7-B806-5A2F135C55E1@syenar.hu>

Hi Przemek,

Well, I see. Can you just remove it completely? (when
you get to it, that is)

Ppl are running into these from time to time, and it's
difficult to remember that this is again the same issue.
It's even more confusing, since I've seen this kind of
error message also without leak reports.

Brgds,
Viktor

On 2008.08.28., at 23:59, Przemyslaw Czerpak wrote:

> On Thu, 28 Aug 2008, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>> --- leak.prg
>> #include "hbclass.ch"
>> CLASS test
>>   DATA var1
>>   DATA var1
>> ENDCLASS
>
> It's a known issue. Look at harbour.h[1332]
> If it's necessary I can try to fix it though as I said
> few time in the past whole strong typing code have to be
> removed and written from scratch in different way.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Aug 29 04:37:13 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 29 04:37:19 2008
Subject: [Harbour] 2008-08-29 10:35 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c909b2$Blat.v2.6.2$6f2ed09c$1e08351ea38e@127.0.0.1>

2008-08-29 10:35 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * ChangeLog
     ! Minor typo.

   * utils/hbmake/hbmake.prg
     % Minor cleanup.

   * source/common/hbver.c
     * Further cleanup of constant usage.
     + Changed Borland to CodeGear to BCC5.9 and above.
       (borrowed from xhb / Andi Jahja)

   * config/w32/gcc.cf
   * config/w32/dm.cf
     * contrib syslibs moved to separate lines.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Aug 29 04:40:38 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 29 04:40:43 2008
Subject: [Harbour] 2008-08-29 10:40 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c909b2$Blat.v2.6.2$e9b9ee78$21a858a52b54@127.0.0.1>

2008-08-29 10:40 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   + config/w32/mingwce.cf
   - config/w32/cemgw.cf
   * harbour-ce-spec
   * make_xmingwce.sh
   * bin/hb-mkslib.sh
   * bin/hb-func.sh
   * bin/postinst.sh
   * source/vm/Makefile
     * Renamed 'cemgw' HB_COMPILER name to 'mingwce' 
       for consitency.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Fri Aug 29 05:30:18 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 29 05:30:24 2008
Subject: [Harbour] 2008-08-29 11:29 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200808290930.m7T9UIYc025463@31-mo5-4.acn.waw.pl>

2008-08-29 11:29 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbcompdf.h
  * harbour/source/compiler/hbmain.c
  * harbour/source/compiler/harbour.yyc
  * harbour/source/compiler/harbour.y
    ! removed all classes and functions static declarations
    ! fixed cleanup code for classes and functions declarations

best regards
Przemek
From harbour.01 at syenar.hu  Fri Aug 29 08:26:29 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 29 08:26:35 2008
Subject: [Harbour] 2008-08-29 14:45 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c909d2$Blat.v2.6.2$7690c0f0$108c5f0b591c@127.0.0.1>

2008-08-29 14:45 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * utils/hbmake/hbmake.prg
     ; Applied patch created by Bill Robertson:
     * The following functions aren't used in hbmake and were removed:
       FindCfile(), TestforPrg(), AsDll(), ExtenPrg(), GetMakeDir()
--
Brgds,
Viktor

From alex_degarate at hotmail.com  Fri Aug 29 10:24:45 2008
From: alex_degarate at hotmail.com (Alejandro de Garate)
Date: Fri Aug 29 10:24:49 2008
Subject: [Harbour] hbdoc
Message-ID: <BLU149-W35AFF2208CB0E54D2AC0EC85630@phx.gbl>



I was thinking about Harbour's documentacion and from what I can recall
last time I build doc info, I found and noted the following:

NG doc:
---------
I have to bend some NG rules because in Harbour exists Functions & Commands with more than 10 characters in its names, and the right side of the screen, menus and other parts of the harbour.ng had to be modificated.
So I see serius problems to use this format.

Changing to a New source format:
----------------------------------------
I don't know nothing about other popular formats like man or robocop or...
whatever.
But if we switch to said.. robocop doc source and in the future, we need to
change or switch to another tool we face it with the same problem.

My opinion is:
probably the better and more simple decision is to continue with the NANFOR
format (which is quite simple) as the source doc format. And build the
docs as HTML (as first election) and PDF (I never make it) or other format
as second choice).
Using a good template or config file we can change the current format to fit
a standard like XTML and then if we find apropiate we can adopt it in the
future as the new source doc format.

Of course it's imperative that we will make the Harbour doc easely and as
soon as we can, but following some agreed rules.
But build it, is only a technical matter, and sooner or later we will do it.

The other issue and it's not minor, is almost nobody is writing docs,
so the main problem still remains.

Anyway... we can get one step at a time

Alejandro


_________________________________________________________________
Connect to the next generation of MSN Messenger?
http://imagine-msn.com/messenger/launch80/default.aspx?locale=en-us&source=wlmailtagline
From lkrausem at shaw.ca  Fri Aug 29 11:09:10 2008
From: lkrausem at shaw.ca (Luis Krause Mantilla)
Date: Fri Aug 29 11:09:26 2008
Subject: [Harbour] Error with BCC 5.5.1
Message-ID: <48B81116.6030003@shaw.ca>

Any idea what does this error mean (using latest svn):

    bcc32.exe -c -q -d -w -w-sig- -DHB_GT_LIB=win -O2 -Iinclude  
-D__EXPORT__ -Iobj\b32  -oobj\b32\dbfcdx1.obj source\rdd\dbfcdx\dbfcdx1.c
source\rdd\dbfcdx\dbfcdx1.c:
    bcc32.exe -c -q -d -w -w-sig- -DHB_GT_LIB=win -O2 -Iinclude  
-D__EXPORT__ -Iobj\b32  -oobj\b32\sixcdx1.obj source\rdd\dbfcdx\sixcdx1.c
source\rdd\dbfcdx\sixcdx1.c:
    IF EXIST "lib\b32\rddcdx.lib" del "lib\b32\rddcdx.lib" > NUL

** error 11075584 ** deleting lib\b32\rddcdx.lib

Regards

-- 
Luis Krause Mantilla
lkrausem at shaw dot ca
luis_krause at hotmail dot com
"May the Source be with GNU"


From harbour.01 at syenar.hu  Fri Aug 29 11:47:46 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 29 11:48:22 2008
Subject: [Harbour] hbdoc
In-Reply-To: <BLU149-W35AFF2208CB0E54D2AC0EC85630@phx.gbl>
References: <BLU149-W35AFF2208CB0E54D2AC0EC85630@phx.gbl>
Message-ID: <E8652A4F-6162-4B12-88EF-38341C5C5514@syenar.hu>

Hi Alejandro,

I agree, that anything actually _done_ with the docs
(in any format), or with hbdoc can only help.

Brgds,
Viktor

On 2008.08.29., at 16:24, Alejandro de Garate wrote:

>
>
> I was thinking about Harbour's documentacion and from what I can  
> recall
> last time I build doc info, I found and noted the following:
>
> NG doc:
> ---------
> I have to bend some NG rules because in Harbour exists Functions &  
> Commands with more than 10 characters in its names, and the right  
> side of the screen, menus and other parts of the harbour.ng had to  
> be modificated.
> So I see serius problems to use this format.
>
> Changing to a New source format:
> ----------------------------------------
> I don't know nothing about other popular formats like man or robocop  
> or...
> whatever.
> But if we switch to said.. robocop doc source and in the future, we  
> need to
> change or switch to another tool we face it with the same problem.
>
> My opinion is:
> probably the better and more simple decision is to continue with the  
> NANFOR
> format (which is quite simple) as the source doc format. And build the
> docs as HTML (as first election) and PDF (I never make it) or other  
> format
> as second choice).
> Using a good template or config file we can change the current  
> format to fit
> a standard like XTML and then if we find apropiate we can adopt it  
> in the
> future as the new source doc format.
>
> Of course it's imperative that we will make the Harbour doc easely  
> and as
> soon as we can, but following some agreed rules.
> But build it, is only a technical matter, and sooner or later we  
> will do it.
>
> The other issue and it's not minor, is almost nobody is writing docs,
> so the main problem still remains.
>
> Anyway... we can get one step at a time
>
> Alejandro
>
>
> _________________________________________________________________
> Connect to the next generation of MSN Messenger
> http://imagine-msn.com/messenger/launch80/default.aspx?locale=en-us&source=wlmailtagline_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Aug 29 11:51:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Aug 29 11:52:02 2008
Subject: [Harbour] Error with BCC 5.5.1
In-Reply-To: <48B81116.6030003@shaw.ca>
References: <48B81116.6030003@shaw.ca>
Message-ID: <20C5457D-95C6-445E-8C6A-277F10005DB0@syenar.hu>

Hi Luis,

Doesn't look like Harbour related.

[ If you're using latest SVN, the -D__EXPORT__ option
is not needed. I guess it's not needed at all, since
you don't seem to be building a .dll here, but if you
need it still, pls use -DHB_DYNLIB instead. But this is
unrelated to your actual problem. ]

Brgds,
Viktor

On 2008.08.29., at 17:09, Luis Krause Mantilla wrote:

> Any idea what does this error mean (using latest svn):
>
>   bcc32.exe -c -q -d -w -w-sig- -DHB_GT_LIB=win -O2 -Iinclude  - 
> D__EXPORT__ -Iobj\b32  -oobj\b32\dbfcdx1.obj source\rdd\dbfcdx 
> \dbfcdx1.c
> source\rdd\dbfcdx\dbfcdx1.c:
>   bcc32.exe -c -q -d -w -w-sig- -DHB_GT_LIB=win -O2 -Iinclude  - 
> D__EXPORT__ -Iobj\b32  -oobj\b32\sixcdx1.obj source\rdd\dbfcdx 
> \sixcdx1.c
> source\rdd\dbfcdx\sixcdx1.c:
>   IF EXIST "lib\b32\rddcdx.lib" del "lib\b32\rddcdx.lib" > NUL
>
> ** error 11075584 ** deleting lib\b32\rddcdx.lib
>
> Regards
>
> -- 
> Luis Krause Mantilla
> lkrausem at shaw dot ca
> luis_krause at hotmail dot com
> "May the Source be with GNU"
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Aug 30 06:21:34 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug 30 06:21:39 2008
Subject: [Harbour] 2008-08-30 11:58 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90a8a$Blat.v2.6.2$2de3c9fc$1f102e299028@127.0.0.1>

2008-08-30 11:58 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbsetup.ch
     + Added HB_LEGACY_OFF macro to turn off HB_LEGACY_LEVEL.

   * utils/hbmake/hbmake.prg
     * Two minor cleanups.

   * doc/en/hb_apiit.txt
   * source/vm/eval.c
     * PEVALINFO -> PHB_EVALINFO
     * EVALINFO -> HB_EVALINFO

   * contrib/hbct/ctwin.c
   * contrib/hbct/keyset.c
   * contrib/hbct/misc3.c
   * contrib/hbnf/numlock.c
   * contrib/hbnf/shift.c
   * contrib/hbnf/alt.c
   * contrib/hbnf/ctrl.c
   * contrib/hbnf/caplock.c
     * GTI_* -> HB_GTI_*

   * source/rtl/spfiles.c
     * FHANDLE -> HB_FHANDLE
--
Brgds,
Viktor

From arcadia2 at sbcglobal.net  Sat Aug 30 14:49:46 2008
From: arcadia2 at sbcglobal.net (bill robertson)
Date: Sat Aug 30 14:49:49 2008
Subject: [Harbour] 2008-08-30 11:58 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
References: <01c90a8a$Blat.v2.6.2$2de3c9fc$1f102e299028@127.0.0.1>
Message-ID: <3599BA1E9FD744B7AE4C8FBB7A098961@billws>

Hi Viktor,

I looked at hbmake.prg after your last cleanup. Your change at the 
aLibsDesc, reminded me of when I thought hbmake included some libraries 
twice. It turns out that I was wrong about this but it does produce a 
makefile that can be confusing. Consider the following excerpts from hbmake:

USERLIBS = c:\harbour\lib\whrlib.lib
...
LIBFILES =  hblang.lib hbvm.lib hbrtl.lib hbrdd.lib hbmacro.lib hbpp.lib 
rddntx.lib rddcdx.lib rddfpt.lib hbcommon.lib gtwin.lib hbcpage.lib 
hbpcre.lib hbzlib.lib hbhsx.lib hbsix.lib hbdebug.lib   hbmisc.lib hbnf.lib 
hbgt.lib
EXTLIBFILES = hbmisc.lib hbnf.lib hbgt.lib
...
ALLLIB = $(USERLIBS) $(LIBFILES) import32.lib cw32.lib
...
#BUILD

$(PROJECT): $(CFILES) $(OBJFILES) $(RESDEPEN) $(DEFFILE)
    $(CC_DIR)\bin\$(LINKER) @&&!
    $(LFLAGS) +
    $(ALLOBJ), +
    $(PROJECT),, +
    $(ALLLIB), +
    $(DEFFILE), +
    $(ALLRES)
!

On the LIBFILES line at the end are the EXTLIBFILES appended with 3-spaces 
between harbour's default library files and the other (contrib/user) lib 
files. Thus they are included in the makefile twice but are only used once 
since the libs on the EXTLIBFILES line is ignored.

It might be less confusing if the External Library Files were called Contrib 
Lib files since that's what they are and the libfiles called HBLIBS. For 
example, the make file could be something like:

...
HBLIBS = hblang.lib ...
CONTRIBLIBS = hbmisc.lib ...
USERLIBS = c:\harbour\lib\whrlib.lib
ALLLIB = $(USERLIBS) $(CONTRIBLIBS) $(HBLIBS) import32.lib cw32.lib
...

where nothing is used twice and nothing is ignored.

From harbour.01 at syenar.hu  Sat Aug 30 15:56:25 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Aug 30 15:56:46 2008
Subject: [Harbour] 2008-08-30 11:58 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
In-Reply-To: <3599BA1E9FD744B7AE4C8FBB7A098961@billws>
References: <01c90a8a$Blat.v2.6.2$2de3c9fc$1f102e299028@127.0.0.1>
	<3599BA1E9FD744B7AE4C8FBB7A098961@billws>
Message-ID: <B715845C-4C6C-4996-B991-0A7A80A61C0E@syenar.hu>

>
Hi Bill,

> I looked at hbmake.prg after your last cleanup. Your change at the  
> aLibsDesc, reminded me of when I thought hbmake included some  
> libraries twice. It turns out that I was wrong about this but it  
> does produce a makefile that can be confusing. Consider the  
> following excerpts from hbmake:
>
> USERLIBS = c:\harbour\lib\whrlib.lib
> ...
> LIBFILES =  hblang.lib hbvm.lib hbrtl.lib hbrdd.lib hbmacro.lib  
> hbpp.lib rddntx.lib rddcdx.lib rddfpt.lib hbcommon.lib gtwin.lib  
> hbcpage.lib hbpcre.lib hbzlib.lib hbhsx.lib hbsix.lib hbdebug.lib    
> hbmisc.lib hbnf.lib hbgt.lib
> EXTLIBFILES = hbmisc.lib hbnf.lib hbgt.lib
> ...
> ALLLIB = $(USERLIBS) $(LIBFILES) import32.lib cw32.lib
> ...
> #BUILD
>
> $(PROJECT): $(CFILES) $(OBJFILES) $(RESDEPEN) $(DEFFILE)
>   $(CC_DIR)\bin\$(LINKER) @&&!
>   $(LFLAGS) +
>   $(ALLOBJ), +
>   $(PROJECT),, +
>   $(ALLLIB), +
>   $(DEFFILE), +
>   $(ALLRES)
> !
>
> On the LIBFILES line at the end are the EXTLIBFILES appended with 3- 
> spaces between harbour's default library files and the other  
> (contrib/user) lib files. Thus they are included in the makefile  
> twice but are only used once since the libs on the EXTLIBFILES line  
> is ignored.

Looks like it was fixed in the past, but the fix
wasn't exactly the right one.

> It might be less confusing if the External Library Files were called  
> Contrib Lib files since that's what they are and the libfiles called  
> HBLIBS. For example, the make file could be something like:
>
> ...
> HBLIBS = hblang.lib ...
> CONTRIBLIBS = hbmisc.lib ...
> USERLIBS = c:\harbour\lib\whrlib.lib
> ALLLIB = $(USERLIBS) $(CONTRIBLIBS) $(HBLIBS) import32.lib cw32.lib
> ...
>
> where nothing is used twice and nothing is ignored.

I agree. This would be the way it should work.

Could you create a patch for this?

Brgds,
Viktor

From gvarona at ec-red.com  Sun Aug 31 01:07:15 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Sun Aug 31 01:07:24 2008
Subject: [Harbour] Fail in \harbour\contrib\hbole\tests\testole.prg
Message-ID: <48BA2703.4000208@ec-red.com>

Hi folks,
something is happening with MS Excel part of this example, not working, 
they could review please.

Best Regards
GVS
From harbour.01 at syenar.hu  Sun Aug 31 05:08:10 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 31 05:08:21 2008
Subject: [Harbour] 2008-08-31 10:53 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90b49$Blat.v2.6.2$17638acc$2708f6e7b94@127.0.0.1>

2008-08-31 10:53 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbole/oleauto.prg
   * contrib/hbw32/w32_tole.prg
     * MessageBox() calls converted to Alert()s.
       A #translate added for the to be reconverted to MessageBox(), 
       since I'm not sure why should we use MessageBox()es here?
       IMO it'd be better to throw RTEs, or handle these cases more 
       "natively". Opinions?

   * contrib/hbole/oleauto.prg
     + Modified to generate RTE when the object could not 
       be created, so that it works more like OLE in hbw32.lib, 
       and the test doesn't crash in this case. I don't have 
       Excel, and this is what I could fix without it.

   * contrib/hbw32/w32_tole.prg
   * contrib/hbw32/w32_ole.c
     ! Typos, minor formatting.

   * common.mak
   * source/hbpcre/Makefile
   * source/hbpcre/cnv_hb2o.bat
   * source/hbpcre/cnv_o2hb.bat
   - source/hbpcre/ucpinter.h
   - source/hbpcre/ucptable.h
   - source/hbpcre/pcrefind.c
   + source/hbpcre/pcreucd.c
   * source/hbpcre/pcrevutf.c
   * source/hbpcre/pcre.h
   * source/hbpcre/pcreconf.c
   * source/hbpcre/pcreinfo.c
   * source/hbpcre/pcremktb.c
   * source/hbpcre/config.h
   * source/hbpcre/pcrenewl.c
   * source/hbpcre/pcreoutf.c
   * source/hbpcre/chartabs.c
   * source/hbpcre/pcrerefc.c
   * source/hbpcre/pcreget.c
   * source/hbpcre/pcrefinf.c
   * source/hbpcre/pcretryf.c
   * source/hbpcre/pcreexec.c
   * source/hbpcre/pcreinal.h
   * source/hbpcre/pcretabs.c
   * source/hbpcre/pcredfa.c
   * source/hbpcre/pcrever.c
   * source/hbpcre/pcrecomp.c
   * source/hbpcre/pcrexcls.c
   * source/hbpcre/pcrestud.c
   * source/hbpcre/ucp.h
     + Updated to PCRE 7.8 RC1
       (will be updated to final pretty soon)
       This version contains the small patches we 
       so far had locally in Harbour. Thanks to 
       Philip Hazel for applying them.
--
Brgds,
Viktor

From a.jurkiewicz at abix.info.pl  Sun Aug 31 06:34:11 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Sun Aug 31 06:34:18 2008
Subject: [Harbour] Proposal for harbour website
In-Reply-To: <E7E51B13-0532-418A-A4A5-7E0B64D7886F@syenar.hu>
References: <AFB948164110ED43B5EB849E8DEEF03815EEF2@SRV02.deltain.net>
	<E7E51B13-0532-418A-A4A5-7E0B64D7886F@syenar.hu>
Message-ID: <200808311234.12082.a.jurkiewicz@abix.info.pl>

Dnia czwartek, 28 sierpnia 2008, Szak?ts Viktor napisa?:
> Looks good.
> Group opinions?
My wife's opinion (she was working in photographic):
First logo is beeter than second, but should have larger "H" and in other, 
broghter colour.

My own opinion (just a net admin): first logo is better than second, I don't 
care on colours.

best regards,
Adam
-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu www.abix.info.pl
Gadu-Gadu: 302315
Skype: abix_adamj 
Wsparcie aplikacji: http://groups-beta.google.com/group/abix-rcsoft?hl=pl
From manuexposito at gmail.com  Sun Aug 31 08:50:26 2008
From: manuexposito at gmail.com (Manu)
Date: Sun Aug 31 08:49:28 2008
Subject: [Harbour] Proposal for harbour website
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EEF3@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815EEF2@SRV02.deltain.net>
	<AFB948164110ED43B5EB849E8DEEF03815EEF3@SRV02.deltain.net>
Message-ID: <48BA9392.7080402@gmail.com>


-------------- next part --------------
Skipped content of type multipart/related
From gvarona at ec-red.com  Sun Aug 31 09:38:47 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Sun Aug 31 09:38:58 2008
Subject: [Harbour] 2008-08-31 10:53 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c90b49$Blat.v2.6.2$17638acc$2708f6e7b94@127.0.0.1>
References: <01c90b49$Blat.v2.6.2$17638acc$2708f6e7b94@127.0.0.1>
Message-ID: <48BA9EE7.8090707@ec-red.com>

Hi Viktor:

testole.prg even not working, so I followed the debugger

STATIC PROCEDURE Exm_MSExcel()
   LOCAL oExcel
   LOCAL oWorkBook
   LOCAL oWorkSheet
   LOCAL oAS
   BEGIN SEQUENCE WITH {|oErr| Break( oErr )}
      oExcel := CreateObject( "Excel.Application" )
      BEGIN SEQUENCE WITH {|oErr| Break( oErr )}
         oWorkBook := oExcel:WorkBooks:Add()
         FOR EACH oWorkSheet IN oWorkBook:WorkSheets
            ? oWorkSheet:Name         // _Line 139: Here fails, and then 
jump to END SECUENCE_


TIA
Best Regards
GVS



Szak?ts Viktor escribi?:
> 2008-08-31 10:53 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>    * contrib/hbole/oleauto.prg
>    * contrib/hbw32/w32_tole.prg
>      * MessageBox() calls converted to Alert()s.
>        A #translate added for the to be reconverted to MessageBox(), 
>        since I'm not sure why should we use MessageBox()es here?
>        IMO it'd be better to throw RTEs, or handle these cases more 
>        "natively". Opinions?
>
>    * contrib/hbole/oleauto.prg
>      + Modified to generate RTE when the object could not 
>        be created, so that it works more like OLE in hbw32.lib, 
>        and the test doesn't crash in this case. I don't have 
>        Excel, and this is what I could fix without it.
>
>    * contrib/hbw32/w32_tole.prg
>    * contrib/hbw32/w32_ole.c
>      ! Typos, minor formatting.
>
>    * common.mak
>    * source/hbpcre/Makefile
>    * source/hbpcre/cnv_hb2o.bat
>    * source/hbpcre/cnv_o2hb.bat
>    - source/hbpcre/ucpinter.h
>    - source/hbpcre/ucptable.h
>    - source/hbpcre/pcrefind.c
>    + source/hbpcre/pcreucd.c
>    * source/hbpcre/pcrevutf.c
>    * source/hbpcre/pcre.h
>    * source/hbpcre/pcreconf.c
>    * source/hbpcre/pcreinfo.c
>    * source/hbpcre/pcremktb.c
>    * source/hbpcre/config.h
>    * source/hbpcre/pcrenewl.c
>    * source/hbpcre/pcreoutf.c
>    * source/hbpcre/chartabs.c
>    * source/hbpcre/pcrerefc.c
>    * source/hbpcre/pcreget.c
>    * source/hbpcre/pcrefinf.c
>    * source/hbpcre/pcretryf.c
>    * source/hbpcre/pcreexec.c
>    * source/hbpcre/pcreinal.h
>    * source/hbpcre/pcretabs.c
>    * source/hbpcre/pcredfa.c
>    * source/hbpcre/pcrever.c
>    * source/hbpcre/pcrecomp.c
>    * source/hbpcre/pcrexcls.c
>    * source/hbpcre/pcrestud.c
>    * source/hbpcre/ucp.h
>      + Updated to PCRE 7.8 RC1
>        (will be updated to final pretty soon)
>        This version contains the small patches we 
>        so far had locally in Harbour. Thanks to 
>        Philip Hazel for applying them.
> --
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>   

From harbour.01 at syenar.hu  Sun Aug 31 10:29:45 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 31 10:29:47 2008
Subject: [Harbour] 2008-08-31 16:26 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90b76$Blat.v2.6.2$038e398e$21f4fb4b6206@127.0.0.1>

2008-08-31 16:26 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * utils/hbdoc/bld_vc.bat
   * utils/hbmake/bld_vc.bat
     % Minor cleanup.

   * contrib/hbwhat32/whticon.c
   * contrib/hbwhat32/whtcret.c
   * contrib/hbwhat32/whthead.c
   * contrib/hbwhat32/whtmous.c
   * contrib/hbwhat32/whtmeta.c
   * contrib/hbwhat32/whtrgn.c
   * contrib/hbwhat32/whttbar.c
   * contrib/hbwhat32/whtrect.c
   * contrib/hbwhat32/whtbrsh.c
   * contrib/hbwhat32/whtgdi.c
   * contrib/hbwhat32/whtview.c
   * contrib/hbwhat32/whtlv.c
   * contrib/hbwhat32/whtwnd.c
   * contrib/hbwhat32/whtcomm.c
   * contrib/hbwhat32/whtprn.c
   * contrib/hbwhat32/whttab.c
   * contrib/hbwhat32/whtfont.c
   * contrib/hbwhat32/whtbmp.c
   * contrib/hbwhat32/whtpen.c
   * contrib/hbwhat32/whtkbrd.c
   * contrib/hbwhat32/whttext.c
   * contrib/hbwhat32/whtdc.c
   * contrib/hbwhat32/whtdraw.c
   * contrib/hbnf/fttext.c
   * contrib/hbnf/peek.c
   * contrib/hbnf/ontick.c
   * contrib/hbnf/origin.c
   * contrib/hbnf/mouse.c
   * contrib/hbnf/poke.c
     ! Fixed to use Harbour API instead of legacy Clipper API.

   + contrib/hbbtree/tests/bld_b32.bat
   + contrib/hbbtree/tests/bld_vc.bat
   + contrib/hbbtree/tests/bld_djgp.bat
   - contrib/hbbtree/tests/mktest.bat
   * contrib/hbbtree/tests/ctest.c
     + Added make files.
     * Minor cleanups.
     ; One of the tests fail.

   * contrib/hbbtree/tbtree.prg
     ! Fixed crash due to scope problem in class declaration.

   * contrib/examples/pe/editorlo.c
     ! #include <x> -> #include "x" for Harbour headers.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Aug 31 10:38:49 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 31 10:39:00 2008
Subject: [Harbour] 2008-08-31 10:53 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <48BA9EE7.8090707@ec-red.com>
References: <01c90b49$Blat.v2.6.2$17638acc$2708f6e7b94@127.0.0.1>
	<48BA9EE7.8090707@ec-red.com>
Message-ID: <44607B6B-F86D-4A8D-8A17-BBCDDD2DCD92@syenar.hu>

Hi Guillermo,

It could help if you remove BEGIN SEQUENCE
and see what RTE is exactly happening here.

I don't have Excel, so this example doesn't
really help me. If you could fire up a C debugger
and see what's happening and where, it could help
a lot. As another option, you may also try the
same test using RC2, RC1 or even earlier Harbour
release version of hbole.lib to see if anyone of
those work.

Brgds,
Viktor

On 2008.08.31., at 15:38, Guillermo Varona Silup? wrote:

> Hi Viktor:
>
> testole.prg even not working, so I followed the debugger
>
> STATIC PROCEDURE Exm_MSExcel()
>  LOCAL oExcel
>  LOCAL oWorkBook
>  LOCAL oWorkSheet
>  LOCAL oAS
>  BEGIN SEQUENCE WITH {|oErr| Break( oErr )}
>     oExcel := CreateObject( "Excel.Application" )
>     BEGIN SEQUENCE WITH {|oErr| Break( oErr )}
>        oWorkBook := oExcel:WorkBooks:Add()
>        FOR EACH oWorkSheet IN oWorkBook:WorkSheets
>           ? oWorkSheet:Name         // _Line 139: Here fails, and  
> then jump to END SECUENCE_
>
>
> TIA
> Best Regards
> GVS
>
>
>
> Szak?ts Viktor escribi?:
>> 2008-08-31 10:53 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>>   * contrib/hbole/oleauto.prg
>>   * contrib/hbw32/w32_tole.prg
>>     * MessageBox() calls converted to Alert()s.
>>       A #translate added for the to be reconverted to  
>> MessageBox(),        since I'm not sure why should we use  
>> MessageBox()es here?
>>       IMO it'd be better to throw RTEs, or handle these cases  
>> more        "natively". Opinions?
>>
>>   * contrib/hbole/oleauto.prg
>>     + Modified to generate RTE when the object could not        be  
>> created, so that it works more like OLE in hbw32.lib,        and  
>> the test doesn't crash in this case. I don't have        Excel, and  
>> this is what I could fix without it.
>>
>>   * contrib/hbw32/w32_tole.prg
>>   * contrib/hbw32/w32_ole.c
>>     ! Typos, minor formatting.
>>
>>   * common.mak
>>   * source/hbpcre/Makefile
>>   * source/hbpcre/cnv_hb2o.bat
>>   * source/hbpcre/cnv_o2hb.bat
>>   - source/hbpcre/ucpinter.h
>>   - source/hbpcre/ucptable.h
>>   - source/hbpcre/pcrefind.c
>>   + source/hbpcre/pcreucd.c
>>   * source/hbpcre/pcrevutf.c
>>   * source/hbpcre/pcre.h
>>   * source/hbpcre/pcreconf.c
>>   * source/hbpcre/pcreinfo.c
>>   * source/hbpcre/pcremktb.c
>>   * source/hbpcre/config.h
>>   * source/hbpcre/pcrenewl.c
>>   * source/hbpcre/pcreoutf.c
>>   * source/hbpcre/chartabs.c
>>   * source/hbpcre/pcrerefc.c
>>   * source/hbpcre/pcreget.c
>>   * source/hbpcre/pcrefinf.c
>>   * source/hbpcre/pcretryf.c
>>   * source/hbpcre/pcreexec.c
>>   * source/hbpcre/pcreinal.h
>>   * source/hbpcre/pcretabs.c
>>   * source/hbpcre/pcredfa.c
>>   * source/hbpcre/pcrever.c
>>   * source/hbpcre/pcrecomp.c
>>   * source/hbpcre/pcrexcls.c
>>   * source/hbpcre/pcrestud.c
>>   * source/hbpcre/ucp.h
>>     + Updated to PCRE 7.8 RC1
>>       (will be updated to final pretty soon)
>>       This version contains the small patches we        so far had  
>> locally in Harbour. Thanks to        Philip Hazel for applying them.
>> --
>> Brgds,
>> Viktor
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>>
>

From harbour.01 at syenar.hu  Sun Aug 31 11:00:33 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Aug 31 11:00:32 2008
Subject: [Harbour] 2008-08-31 16:59 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c90b7a$Blat.v2.6.2$51189150$dc8dee4c542@127.0.0.1>

2008-08-31 16:59 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * hbwhat32/whtdate.c
   * hbwhat32/whthead.c
   * hbwhat32/whtbrsh.c
   * hbwhat32/whtgdi.c
   * hbwhat32/whtmisc.c
   * hbwhat32/whttab.c
   * hbwhat32/whtbmp.c
   * hbwhat32/whtkbrd.c
     % Using hb_arraySet*() instead of hb_arraySet()
--
Brgds,
Viktor

From toninhofwi at yahoo.com.br  Sun Aug 31 20:55:27 2008
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Sun Aug 31 20:49:16 2008
Subject: [Harbour] Error compiling hbziparch with CodeGear 5.9
Message-ID: <o1fmb491ashidk7tnvil3ieijm1it4qp8g@4ax.com>

MAKE Version 5.2  Copyright (c) 1987, 2000 Borland
	bcc32.exe -c -q -d -w -w-sig- -O2 -I..\..\include -DHB_GUI
-DHB_NO_TRACE -DHB_FM_STATISTICS_OFF -DADS_LIB_VERSION=700
-DHB_HASH_MSG_ITEMS -Iinclude -D_RWSTD_NO_NEW_HEADER   -P
-o..\..\obj\b32\ziparchive.obj .\ziparchive.cpp
.\ziparchive.cpp:
Warning W8027 include\zipstring.h 165: Functions containing do are not
expanded inline
Warning W8027 include\zipstring.h 277: Functions containing for are
not expanded inline
Warning W8026 include\zipstring.h 289: Functions with exception
specifications are not expanded inline
Warning W8026 include\zipstring.h 289: Functions with exception
specifications are not expanded inline
Warning W8026 include\zipstring.h 289: Functions with exception
specifications are not expanded inline
Warning W8026 include\zipstring.h 289: Functions with exception
specifications are not expanded inline
Warning W8026 include\zipstring.h 289: Functions with exception
specifications are not expanded inline
Warning W8027 include\zipstring.h 216: Functions containing some
return statements are not expanded inline in function
CZipString::Left(int) const
Warning W8027 include\zipstring.h 220: Functions containing some
return statements are not expanded inline in function
CZipString::Right(int) const
Warning W8027 include\zipstring.h 222: Functions containing some
return statements are not expanded inline in function
CZipString::Mid(int) const
Warning W8027 include\zipstring.h 223: Functions containing some
return statements are not expanded inline in function
CZipString::Mid(int,int) const
Error E2113 include\zipexception.h 189: Virtual function
'~CZipException::CZipException()' conflicts with base class
'std::exception'
Warning W8026 include\zipexception.h 223: Functions with exception
specifications are not expanded inline
Warning W8026 include\zipabstractfile.h 50: Functions with exception
specifications are not expanded inline
Warning W8026 include\zipabstractfile.h 50: Functions with exception
specifications are not expanded inline
Warning W8017 E:\harbour\bcc55\include\stdint.h 77: Redefinition of
'INT16_MIN' is not identical
Warning W8017 E:\harbour\bcc55\include\stdint.h 78: Redefinition of
'INT32_MIN' is not identical
Warning W8017 E:\harbour\bcc55\include\stdint.h 79: Redefinition of
'INT64_MIN' is not identical
Warning W8017 E:\harbour\bcc55\include\stdint.h 82: Redefinition of
'INT16_MAX' is not identical
Warning W8017 E:\harbour\bcc55\include\stdint.h 83: Redefinition of
'INT32_MAX' is not identical
Warning W8017 E:\harbour\bcc55\include\stdint.h 84: Redefinition of
'INT64_MAX' is not identical
Warning W8017 E:\harbour\bcc55\include\stdint.h 87: Redefinition of
'UINT16_MAX' is not identical
Warning W8017 E:\harbour\bcc55\include\stdint.h 88: Redefinition of
'UINT32_MAX' is not identical
Warning W8017 E:\harbour\bcc55\include\stdint.h 89: Redefinition of
'UINT64_MAX' is not identical
Warning W8026 include\zipfile.h 114: Functions with exception
specifications are not expanded inline
Warning W8026 include\zipfile.h 114: Functions with exception
specifications are not expanded inline
Warning W8026 include\zipmemfile.h 106: Functions with exception
specifications are not expanded inline
Warning W8026 include\zipmemfile.h 106: Functions with exception
specifications are not expanded inline
Warning W8026 include\zipmemfile.h 106: Functions with exception
specifications are not expanded inline
Warning W8026 include\zipstorage.h 196: Functions with exception
specifications are not expanded inline
Error E2238 E:\harbour\bcc55\include\dinkumware\functional 811:
Multiple declaration for 'operator hash<string>::()(const string &)
const'
Error E2344 E:\harbour\bcc55\include\dinkumware\functional 792:
Earlier declaration of 'operator hash<string>::()(const string &)
const'
Error E2238 E:\harbour\bcc55\include\dinkumware\functional 836:
Multiple declaration for 'operator hash<wstring>::()(const wstring &)
const'
Error E2344 E:\harbour\bcc55\include\dinkumware\functional 792:
Earlier declaration of 'operator hash<wstring>::()(const wstring &)
const'
Warning W8027 include\zipcollections.h 119: Functions containing while
are not expanded inline
Warning W8027 include\zipcollections.h 125: Functions containing while
are not expanded inline
Warning W8027 include\zipcentraldir.h 184: Functions containing some
if statements are not expanded inline in function
CZipCentralDir::RemoveLastFile(CZipFileHeader *,int)
Warning W8027 include\zipcentraldir.h 232: Functions containing some
return statements are not expanded inline in function
CZipCentralDir::GetProperHeaderFileName(const CZipFileHeader *) const
Warning W8026 include\zipcentraldir.h 551: Functions with exception
specifications are not expanded inline
Warning W8026 include\zipcentraldir.h 551: Functions with exception
specifications are not expanded inline
Warning W8026 include\zippathcomponent.h 204: Functions with exception
specifications are not expanded inline
Warning W8026 include\zippathcomponent.h 204: Functions with exception
specifications are not expanded inline
Warning W8027 include\zippathcomponent.h 162: Functions containing
some return statements are not expanded inline in function
CZipPathComponent::GetFileName() const
Warning W8027 include\zippathcomponent.h 176: Functions containing
some return statements are not expanded inline in function
CZipPathComponent::GetFullPath() const
Warning W8027 include\zippathcomponent.h 189: Functions containing
some return statements are not expanded inline in function
CZipPathComponent::GetFilePath() const
Warning W8026 include\ziparchive.h 217: Functions with exception
specifications are not expanded inline
Warning W8026 include\ziparchive.h 217: Functions with exception
specifications are not expanded inline
Warning W8026 include\ziparchive.h 217: Functions with exception
specifications are not expanded inline
Warning W8027 include\ziparchive.h 735: Functions containing try are
not expanded inline
Warning W8027 include\ziparchive.h 1121: Functions containing for are
not expanded inline
Warning W8026 include\ziparchive.h 2048: Functions with exception
specifications are not expanded inline
Warning W8026 include\ziparchive.h 2048: Functions with exception
specifications are not expanded inline
Warning W8026 include\ziparchive.h 2048: Functions with exception
specifications are not expanded inline
Warning W8026 include\ziparchive.h 2048: Functions with exception
specifications are not expanded inline
Warning W8026 include\ziparchive.h 2048: Functions with exception
specifications are not expanded inline
Warning W8026 include\ziparchive.h 2048: Functions with exception
specifications are not expanded inline
Warning W8026 include\ziparchive.h 2048: Functions with exception
specifications are not expanded inline
Warning W8026 include\ziparchive.h 2048: Functions with exception
specifications are not expanded inline
Error E2522 .\ziparchive.cpp 273: Non-const function operator
CZipAutoBuffer::char *() called for const object in function
CZipArchive::GetLocalExtraField(char *,int) const
Warning W8057 .\ziparchive.cpp 1157: Parameter 'iSmartLevel' is never
used in function CZipArchive::AddNewFile(const char
*,int,bool,int,unsigned long)
Warning W8057 .\ziparchive.cpp 1171: Parameter 'iSmartLevel' is never
used in function CZipArchive::AddNewFileDrv(const char
*,int,bool,int,unsigned long)
Warning W8057 .\ziparchive.cpp 1184: Parameter 'iSmartLevel' is never
used in function CZipArchive::AddNewFile(const char *,const char
*,int,int,unsigned long)
Warning W8057 .\ziparchive.cpp 1197: Parameter 'iSmartLevel' is never
used in function CZipArchive::AddNewFile(CZipMemFile &,const char
*,int,int,unsigned long)
Error E2451 .\ziparchive.cpp 1357: Undefined symbol 'bRet' in function
CZipArchive::AddNewFileDrv(CZipAddNewFileInfo &)
Error E2451 .\ziparchive.cpp 1653: Undefined symbol 'bRet' in function
CZipArchive::AddNewFile(CZipAddNewFileInfo &)
Warning W8004 .\ziparchive.cpp 3113: 'pBuf' is assigned a value that
is never used in function CZipArchive::RenameFile(unsigned short,const
char *)
*** 8 errors in Compile ***

** error 2 ** deleting ..\..\obj\b32\ziparchive.obj

__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 

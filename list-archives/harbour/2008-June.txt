From niki at synel.co.il  Sun Jun  1 03:36:32 2008
From: niki at synel.co.il (Chen Kedem)
Date: Sun Jun  1 03:36:20 2008
Subject: [Harbour] Compile errors with ChangeLog 8539 2008-05-30
Message-ID: <48425180.2D77@synel.co.il>

With ChangeLog 2008-05-31 21:00 UTC+0100 Viktor Szakats (rev 8552)
Win32/BCC5.5.1 and standard make_b32.bat I get NO warnings, but if
I enable CodeGuard and debug: set CFLAGS=-v -y -vG -Od
I get these warnings:

Warning W8080 source\rtl\FILESYS.C 2446: '_fstat(int,_stat *)' is declared but never used
Warning W8080 source\rtl\FILESYS.C 2446: '_disable()' is declared but never used
Warning W8080 source\rtl\FILESYS.C 2446: '_enable()' is declared but never used
Warning W8080 source\rtl\FSSIZE.C 142: '_fstat(int,_stat *)' is declared but never used


_fstat is defined in sys/stat.h
_disable and _enable defined in dos.h and winnt.h
Maybe CodeGuard uses its own cache version of these headers?
I never saw these warnings, but since we didn't had -w enabled,
this might be an old issue.

  Chen.
From dmacias at mail.udg.mx  Sun Jun  1 06:47:10 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Jun  1 06:46:49 2008
Subject: [Harbour] Harbour under OS/2 - eCS
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <48427E2E.7000903@mail.udg.mx>

Current Harbour under OS/2 can not build due error shown below

David Macias

../../extrap.c: In function `hb_vmSetExceptionHandler':
../../extrap.c:167: warning: implicit declaration of function 
`hb_errInternal'
../../extrap.c:167: error: `HB_EI_ERRUNRECOV' undeclared (first use in 
this func
tion)
../../extrap.c:167: error: (Each undeclared identifier is reported only once
../../extrap.c:167: error: for each function it appears in.)
make[3]: *** [extrap.o] Error 1
make[2]: *** [descend] Error 2
E:/usr/i386-pc-os2-emx/bin/ld.exe: No such file or directory for hbvm
make[3]: *** [hbpptest.exe] Error 1
make[2]: *** [descend] Error 2
E:/usr/i386-pc-os2-emx/bin/ld.exe: No such file or directory for hbvm
make[3]: *** [hbrun.exe] Error 1
make[2]: *** [descend] Error 2

rest ...
From harbour.01 at syenar.hu  Sun Jun  1 07:31:59 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  1 07:31:57 2008
Subject: [Harbour] 2008-06-01 13:26 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c3db$Blat.v2.6.2$1aef0dac$248cdb4ea810@127.0.0.1>

2008-06-01 13:26 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * source/vm/extrap.c
     ! Fixed missing header for OS/2.

   * source/vm/classes.c
     ! Minor fix in internal error text.

   * contrib/hbcurl/make_b32.bat
   * contrib/hbcurl/make_vc.bat
   * contrib/hbcurl/hbcurl.c
   * contrib/hbcurl/hbcurl.ch
   * contrib/hbcurl/tests/ftp_uldl.prg
     ! non-GNU make will also look into the /bin folder 
       for .dlls.
     ! Lots of fixes, too many to mention.
     + Enabled GC pointers. (see TOFIX though)
     + Added all remaining CURL 'easy' API parts and 
       implemented all options existing in 7.18.1:
       + All option values (except bit-level ones) made available in hbcurl.ch
       + All options updated to latest CURL version in hbcurl.ch
       + All error codes made available in hbcurl.ch
       + CURL_EASY_DUPLICATE()
       + CURL_EASY_RESET()
       + CURL_EASY_PAUSE()
       + CURL_EASY_SEND() (not yet available in stable builds)
       + CURL_EASY_RECV() (not yet available in stable builds)
       + CURL_EASY_GETINFO()
       + CURL_ESCAPE() (obsolete)
       + CURL_UNESCAPE() (obsolete)
       + CURL_GETDATE()
     ; TOFIX1: Could someone look at it? In case I call the destructor 
               (curl_easy_cleanup()) manually, the garbage collector 
               will run into an invalid pointer, when terminating the 
               test program.
     ; TOFIX2: The casting to 'curl_off_t' goes wrong. Could someone 
               help?
     ; NOTE1:  Harbour needs at least libcurl 7.17.0. Unfortunately 
               compile time version detection is not working at this time, 
               so try with the latest version 7.18.1.
     ; NOTE2:  Most callback interfaces are not implemented on the 
               Harbour level.
     ; NOTE3:  Harbour is currently not optimizing
               "<const1> ** <const2>" type of expressions at compile time.
               Could we add it? This expression is not widespread, 
               but anyways, it cannot hurt, if isn't too much 
               work to do.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun  1 07:43:24 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  1 07:43:22 2008
Subject: [Harbour] 2008-06-01 13:40 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c3dc$Blat.v2.6.2$b321eaa8$1c345e3f7ec4@127.0.0.1>

2008-06-01 13:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbcurl/hbcurl.c
     ! Fixed TOFIX1 from the previous entry.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun  1 07:52:11 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  1 07:52:07 2008
Subject: [Harbour] 2008-06-01 13:50 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c3dd$Blat.v2.6.2$ed38951a$13248c7cd396@127.0.0.1>

2008-06-01 13:50 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbcurl/hbcurl.ch
     ! Few typos.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun  1 08:48:39 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  1 08:49:44 2008
Subject: [Harbour] SQLite 2/3
Message-ID: <6899C37B-2718-46F9-AC38-C37B71631700@syenar.hu>

Hi folks,

I've uploaded hbsqlit2 and hbsqlit3 here:
http://www.syenar.hu/harbour/hbsqlit2.zip
http://www.syenar.hu/harbour/hbsqlit3.zip

They've been shaped to work the same way
as all our contrib. SQLite code is embedded
for both. Notice however, that the foreign
code has lots of warnings under BCC and doesn't
compile in C++ mode for MSVC, so some compiler
option overrides are needed in the meantime.

sqlite2 test program works okay.

I got GPFs however when trying sqlite3_test,
so some things might not be perfect yet.

Petr, could you take a look at it?

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun  1 10:46:49 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  1 10:46:46 2008
Subject: [Harbour] 2008-06-01 16:44 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c3f6$Blat.v2.6.2$529ae274$1f83d073fb2@127.0.0.1>

2008-06-01 16:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * tests/Makefile
   - tests/testhbf.prg
   + contrib/hbmisc/tests/testhbf.prg
     * Moved to its place.

   * contrib/hbcurl/hbcurl.c
   * contrib/hbcurl/hbcurl.ch
   * contrib/hbcurl/make_b32.bat
   * contrib/hbcurl/make_vc.bat
   * contrib/hbcurl/make_gcc.sh
     * Minor.
--
Brgds,
Viktor

From myorg63 at mail.ru  Sun Jun  1 11:01:13 2008
From: myorg63 at mail.ru (Petr Chornyj)
Date: Sun Jun  1 11:02:09 2008
Subject: [Harbour] SQLite 2/3
In-Reply-To: <6899C37B-2718-46F9-AC38-C37B71631700@syenar.hu>
References: <6899C37B-2718-46F9-AC38-C37B71631700@syenar.hu>
Message-ID: <17586536.post@talk.nabble.com>



Szak?ts Viktor wrote:
> 
> 
> I got GPFs however when trying sqlite3_test,
> so some things might not be perfect yet.
> 
> 

Hi, Viktor

In hbsqlit3.c pls replace 

#include "sqlite3ext.h"

SQLITE_EXTENSION_INIT1
//SQLITE_EXTENSION_INIT2(v)

=>

#include "sqlite3.h"

//SQLITE_EXTENSION_INIT1
//SQLITE_EXTENSION_INIT2(v)


Regards,
Petr
-- 
View this message in context: http://www.nabble.com/SQLite-2-3-tp17585333p17586536.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From myorg63 at mail.ru  Sun Jun  1 11:02:08 2008
From: myorg63 at mail.ru (Petr Chornyj)
Date: Sun Jun  1 11:02:57 2008
Subject: [Harbour] SQLite 2/3
In-Reply-To: <6899C37B-2718-46F9-AC38-C37B71631700@syenar.hu>
References: <6899C37B-2718-46F9-AC38-C37B71631700@syenar.hu>
Message-ID: <17586538.post@talk.nabble.com>



Szak?ts Viktor wrote:
> 
> 
> I got GPFs however when trying sqlite3_test,
> so some things might not be perfect yet.
> 
> 

Hi, Viktor

In hbsqlit3.c pls replace 

#include "sqlite3ext.h"

SQLITE_EXTENSION_INIT1
//SQLITE_EXTENSION_INIT2(v)

=>

#include "sqlite3.h"

//SQLITE_EXTENSION_INIT1
//SQLITE_EXTENSION_INIT2(v)


Regards,
Petr
-- 
View this message in context: http://www.nabble.com/SQLite-2-3-tp17585333p17586538.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sun Jun  1 11:53:07 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  1 11:53:05 2008
Subject: [Harbour] 2008-06-01 17:31 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c3ff$Blat.v2.6.2$95e4598a$1cb466efa366@127.0.0.1>

2008-06-01 17:31 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/make_b32_all.bat
   * contrib/make_vc_all.bat
   * contrib/make_gcc_all.sh
   + contrib/hbsqlit3
   + contrib/hbsqlit3/Makefile
   + contrib/hbsqlit3/make_b32.bat
   + contrib/hbsqlit3/make_vc.bat
   + contrib/hbsqlit3/make_gcc.sh
   + contrib/hbsqlit3/common.mak
   + contrib/hbsqlit3/hbsqlit3.c
   + contrib/hbsqlit3/hbsqlit3.ch
   + contrib/hbsqlit3/sqlite3/sqlite3.c
   + contrib/hbsqlit3/sqlite3/sqlite3.h
   + contrib/hbsqlit3/tests/bld_b32.bat
   + contrib/hbsqlit3/tests/bld_vc.bat
   + contrib/hbsqlit3/tests/blob.prg
   + contrib/hbsqlit3/tests/pack.prg
   + contrib/hbsqlit3/tests/metadata.prg
   + contrib/hbsqlit3/tests/sqlite3_test.prg
     + Added Harbour interface for SQLite 3.x.

       Thanks goes to Petr Chornyj <myorg63/at/mail.ru> for 
       creating this code and making it available for this project.

       (The code also based on Alejandro de G?rate 
       <alex_degarate/at/hotmail.com> SQLite 2 interface work)

     + Added make files, arranged std contrib layout.
     * Renamed header, source and lib name to comply with 8.3 rules.
     + Added to 'all' make files.
     + Added foreign SQLite 3.5.9 (amalgamation) latest version 
       source code to the repository.
       Compiles with lots of warnings under BCC and 
       doesn't compile in C++ mode in MSVC (due to missing 
       casts).
     ; We may remove foreign code once the warnings 
       has been fixed and retrofitted in the original 
       package. Since the two required files are simply 
       #included in the Harbour source code, moving them 
       anywhere, or accessing them from anywhere is a matter 
       of -I switch.
     ; TOFIX:
       - Replace MessageBox() with RTE or HB_TRACE().
       - Remove HB_OS_WIN_32_USED dependency.
       - Review if __XHARBOUR__ branches are indeed necessary.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun  1 11:56:18 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  1 11:56:14 2008
Subject: [Harbour] 2008-06-01 17:35 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c400$Blat.v2.6.2$078cf402$1aa089608d2c@127.0.0.1>

2008-06-01 17:35 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbsqlit3/hbsqlit3.c
     - Not needed to #include "sqlite3/sqlite3.h" 
       if we've already #included "sqlite3/sqlite3.c"
--
Brgds,
Viktor

From e.m.giordano at emagsoftware.it  Sun Jun  1 11:57:12 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Jun  1 11:57:16 2008
Subject: [Harbour] 2008-06-01 16:44 UTC+0100 Viktor Szakats
	(harbour.01syenar hu)
References: <01c8c3f6$Blat.v2.6.2$529ae274$1f83d073fb2@127.0.0.1>
Message-ID: <03A01B4CBED54DE5959BAD9A4CCEFAC3@emag>


-----Messaggio Originale----- 
Da: "Szak?ts Viktor" <harbour.01@syenar.hu>
A: <harbour@harbour-project.org>
Data invio: domenica 1 giugno 2008 16.46
Oggetto: [Harbour] 2008-06-01 16:44 UTC+0100 Viktor Szakats 
(harbour.01syenar hu)


> 2008-06-01 16:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * tests/Makefile
>   - tests/testhbf.prg
>   + contrib/hbmisc/tests/testhbf.prg
>     * Moved to its place.
>
>   * contrib/hbcurl/hbcurl.c
>   * contrib/hbcurl/hbcurl.ch
>   * contrib/hbcurl/make_b32.bat
>   * contrib/hbcurl/make_vc.bat
>   * contrib/hbcurl/make_gcc.sh
>     * Minor.

This seems not to be in the current changelog.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Sun Jun  1 12:28:36 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  1 12:29:41 2008
Subject: [Harbour] 2008-06-01 16:44 UTC+0100 Viktor Szakats
	(harbour.01syenar hu)
In-Reply-To: <03A01B4CBED54DE5959BAD9A4CCEFAC3@emag>
References: <01c8c3f6$Blat.v2.6.2$529ae274$1f83d073fb2@127.0.0.1>
	<03A01B4CBED54DE5959BAD9A4CCEFAC3@emag>
Message-ID: <9C1CE21E-4AFF-4906-932E-22BA63284CE3@syenar.hu>

Thanks I've missed adding the entry to ChangeLog,
(now fixed). The changes were properly committed though.

Brgds,
Viktor

On 2008.06.01., at 17:57, Enrico Maria Giordano wrote:

>
> -----Messaggio Originale----- Da: "Szak?ts Viktor" <harbour.01@syenar.hu 
> >
> A: <harbour@harbour-project.org>
> Data invio: domenica 1 giugno 2008 16.46
> Oggetto: [Harbour] 2008-06-01 16:44 UTC+0100 Viktor Szakats (harbour. 
> 01syenar hu)
>
>
>> 2008-06-01 16:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>>  * tests/Makefile
>>  - tests/testhbf.prg
>>  + contrib/hbmisc/tests/testhbf.prg
>>    * Moved to its place.
>>
>>  * contrib/hbcurl/hbcurl.c
>>  * contrib/hbcurl/hbcurl.ch
>>  * contrib/hbcurl/make_b32.bat
>>  * contrib/hbcurl/make_vc.bat
>>  * contrib/hbcurl/make_gcc.sh
>>    * Minor.
>
> This seems not to be in the current changelog.
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic

From harbour.01 at syenar.hu  Sun Jun  1 12:29:33 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  1 12:30:37 2008
Subject: [Harbour] SQLite 2/3
In-Reply-To: <17586538.post@talk.nabble.com>
References: <6899C37B-2718-46F9-AC38-C37B71631700@syenar.hu>
	<17586538.post@talk.nabble.com>
Message-ID: <02ACED26-3EA1-41DE-B2B9-59BC0FF8833B@syenar.hu>

Thanks Petr, that solved it.

Brgds,
Viktor

On 2008.06.01., at 17:02, Petr Chornyj wrote:

>
>
> Szak?ts Viktor wrote:
>>
>>
>> I got GPFs however when trying sqlite3_test,
>> so some things might not be perfect yet.
>>
>>
>
> Hi, Viktor
>
> In hbsqlit3.c pls replace
>
> #include "sqlite3ext.h"
>
> SQLITE_EXTENSION_INIT1
> //SQLITE_EXTENSION_INIT2(v)
>
> =>
>
> #include "sqlite3.h"
>
> //SQLITE_EXTENSION_INIT1
> //SQLITE_EXTENSION_INIT2(v)
>
>
> Regards,
> Petr
> -- 
> View this message in context: http://www.nabble.com/SQLite-2-3-tp17585333p17586538.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From e.m.giordano at emagsoftware.it  Sun Jun  1 13:16:30 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Jun  1 13:16:35 2008
Subject: [Harbour] 2008-06-01 16:44 UTC+0100 Viktor Szakats
	(harbour.01syenar hu)
References: <01c8c3f6$Blat.v2.6.2$529ae274$1f83d073fb2@127.0.0.1>
	<03A01B4CBED54DE5959BAD9A4CCEFAC3@emag>
	<9C1CE21E-4AFF-4906-932E-22BA63284CE3@syenar.hu>
Message-ID: <B635CF5ECB694DF189D86F83238DDC11@emag>


-----Messaggio Originale----- 
Da: "Szak?ts Viktor" <harbour.01@syenar.hu>
A: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
Cc: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: domenica 1 giugno 2008 18.28
Oggetto: Re: [Harbour] 2008-06-01 16:44 UTC+0100 Viktor Szakats 
(harbour.01syenar hu)


> Thanks I've missed adding the entry to ChangeLog,
> (now fixed). The changes were properly committed though.

It's ok now, thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From dmacias at mail.udg.mx  Sun Jun  1 17:31:48 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Jun  1 17:31:25 2008
Subject: [Harbour] Re: Harbour under OS/2 - eCS
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <48431544.30706@mail.udg.mx>

Current Harbour under OS/2 can not build due error shown below (another)

 >2008-06-01 13:26 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
 >   * source/vm/extrap.c
 >     ! Fixed missing header for OS/2.

extrap error is fixed. Thanks, Viktor

David Macias

../../hvm.c: In function `hb_vmInit':
../../hvm.c:495: error: `rc' undeclared (first use in this function)
../../hvm.c:495: error: (Each undeclared identifier is reported only once
../../hvm.c:495: error: for each function it appears in.)
../../hvm.c:495: error: `RegRec' undeclared (first use in this function)
make[3]: *** [hvm.o] Error 1
make[2]: *** [descend] Error 2
E:/usr/i386-pc-os2-emx/bin/ld.exe: No such file or directory for hbvm
make[3]: *** [hbpptest.exe] Error 1
make[2]: *** [descend] Error 2

rest ...

From harbour.01 at syenar.hu  Sun Jun  1 18:07:02 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  1 18:07:20 2008
Subject: [Harbour] 2008-06-01 23:56 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c433$Blat.v2.6.2$d1ec88d8$f8c825eaa72@127.0.0.1>

2008-06-01 23:56 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * include/hbvm.h
   * source/vm/hvm.c
   * source/vm/extrap.c
     ! Fixed OS/2 problem reported by David.
       (BTW, do we need really need to remove the exception 
       handler before exiting? If yes, shouldn't we do the 
       same under Win32?)

   * source/common/hbstr.c
     ! Silenced one 'loss of significant digit' BCC warning.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun  1 18:35:58 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  1 18:35:55 2008
Subject: [Harbour] 2008-06-02 00:34 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c437$Blat.v2.6.2$dcb043e6$2294bf3614ee@127.0.0.1>

2008-06-02 00:34 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * doc/whatsnew.txt
     + Added some recent stuff.

   * contrib/xhb/hbcompat.ch
     + hb_FSize() <-> FileSize()

   * contrib/hbcurl/hbcurl.c
     ! Fixed typo.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun  1 20:24:09 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  1 20:24:06 2008
Subject: [Harbour] 2008-06-02 02:21 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c446$Blat.v2.6.2$f9a04366$1920c78f9fc@127.0.0.1>

2008-06-02 02:21 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbw32/w32_prn.c
   * contrib/hbhpdf/harupdf.c
     ! Fixed to not GPF in garbage collector if objects 
       were explicitly released by caller using HPDF_FREE(), 
       WIN32_DELETEDC().

   * contrib/hbw32/w32_prn.c
     % Minor opt.
     * Formatting.

   * contrib/hbcurl/hbcurl.c
     % Minor opt.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun  1 20:38:46 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  1 20:38:43 2008
Subject: [Harbour] 2008-06-02 02:36 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c449$Blat.v2.6.2$0465614e$6a8a0c467d8@127.0.0.1>

2008-06-02 02:36 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbsqlit3/hbsqlit3.c
     ! Removed Windows API dependencies (MessageBox() -> HB_TRACE())
     % Minor opt.
--
Brgds,
Viktor

From philb at philb.us  Sun Jun  1 23:00:58 2008
From: philb at philb.us (Phil Barnett)
Date: Sun Jun  1 23:01:05 2008
Subject: [Harbour] Release Time
Message-ID: <200806012300.58789.philb@philb.us>

I know I promised to make the release mark last weekend, but things got in the 
way and this is the first time I've even gotten back to read the list's 
email. Wow, what a huge effort on bug fixing. I'm glad this all made it into 
the release candidate.

Please let me know if the bug fixes are all in for everything but contrib and 
I'll set the mark.

If you have a bug fix that needs to go in before we set the RC1 mark, do it 
now or let us all know when it will go in.

I expect to set the RC1 mark Tuesday night.

-- 
Waiting for sunspots.
From niki at synel.co.il  Mon Jun  2 01:52:30 2008
From: niki at synel.co.il (Chen Kedem)
Date: Mon Jun  2 01:52:16 2008
Subject: [Harbour] Compile errors with ChangeLog 8539 2008-05-30
References: <48425180.2D77@synel.co.il>
Message-ID: <48438A9E.2ECB@synel.co.il>

On Sun, 01 Jun 2008, I wrote:
> With ChangeLog 2008-05-31 21:00 UTC+0100 Viktor Szakats (rev 8552)
> Win32/BCC5.5.1 and standard make_b32.bat I get NO warnings, but if
> I enable CodeGuard and debug: set CFLAGS=-v -y -vG -Od
> I get these warnings:

> Warning W8080 source\rtl\FILESYS.C 2446: '_fstat(int,_stat *)' is declared but never used
> Warning W8080 source\rtl\FILESYS.C 2446: '_disable()' is declared but never used
> Warning W8080 source\rtl\FILESYS.C 2446: '_enable()' is declared but never used
> Warning W8080 source\rtl\FSSIZE.C 142: '_fstat(int,_stat *)' is declared but never used

I tested it again with ChangeLog 2008-06-02 02:36 UTC+0100 Viktor Szakats
and after some testing I see that the warnings had nothing to do with
CodeGuard. They show up if I use: set CFLAGS=-v
,-
| -v = Turn on source debugging, debugging information is included in
| OBJ files. C++ inline fuctions are treated as normal fucntions.
`-


And something unrelated:

After: make_b32 clean
the generated file include/hbverbld.h is left in the include directory.


  Chen.
From dmacias at mail.udg.mx  Mon Jun  2 04:05:59 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Jun  2 04:05:35 2008
Subject: [Harbour] Re: Harbour under OS/2 - eCS
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <4843A9E7.5050508@mail.udg.mx>

Viktor

 >2008-06-01 23:56 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
 >   * include/hbvm.h
 >   * source/vm/hvm.c
 >   * source/vm/extrap.c
 >     ! Fixed OS/2 problem reported by David.
 >       (BTW, do we need really need to remove the exception
 >       handler before exiting? If yes, shouldn't we do the
 >       same under Win32?)

Current Harbour under OS/2 build fine but report error on executables  exit
Is first time I see this kind of error on OS/2

hbtest:
----------------------------------------
...
WARNING ! Failures detected

Exception c0000005 at address 0x1c021b0d
                                          SYS1808:
The process has stopped.  The software diagnostic
code (exception code) is  0005.
----------------------------------------


hbdot:
----------------------------------------
RDD:        | Area:    | Dbf:            | Index:          | #        /

Exception c0000005 at address 0x1c021b0d
                                          SYS1808:
The process has stopped.  The software diagnostic
code (exception code) is  0005.
----------------------------------------


[E:\harbour806\harbour\bin]help sys1808

SYS1808:
The process has stopped.  The software diagnostic
code (exception code) is ***.

EXPLANATION: The program generated an exception that the system cannot
resolve.  The soft ware diagnostic code allows determination of what
type of exception was generated.

ACTION: Correct the problem or try a different version of the program.


David Macias



From harbour.01 at syenar.hu  Mon Jun  2 04:39:41 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 04:40:48 2008
Subject: [Harbour] Re: Harbour under OS/2 - eCS
In-Reply-To: <4843A9E7.5050508@mail.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<4843A9E7.5050508@mail.udg.mx>
Message-ID: <68B238CB-73E7-4F71-A225-6F15E6658C4E@syenar.hu>

Hi David,

Please try to remove OS/2 exception handling stuff
in source/vm/extrap.c and see if it helps.

Brgds,
Viktor

On 2008.06.02., at 10:05, David Arturo Macias Corona wrote:

> Viktor
>
> >2008-06-01 23:56 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> >   * include/hbvm.h
> >   * source/vm/hvm.c
> >   * source/vm/extrap.c
> >     ! Fixed OS/2 problem reported by David.
> >       (BTW, do we need really need to remove the exception
> >       handler before exiting? If yes, shouldn't we do the
> >       same under Win32?)
>
> Current Harbour under OS/2 build fine but report error on  
> executables  exit
> Is first time I see this kind of error on OS/2
>
> hbtest:
> ----------------------------------------
> ...
> WARNING ! Failures detected
>
> Exception c0000005 at address 0x1c021b0d
>                                         SYS1808:
> The process has stopped.  The software diagnostic
> code (exception code) is  0005.
> ----------------------------------------
>
>
> hbdot:
> ----------------------------------------
> RDD:        | Area:    | Dbf:            | Index:          |  
> #        /
>
> Exception c0000005 at address 0x1c021b0d
>                                         SYS1808:
> The process has stopped.  The software diagnostic
> code (exception code) is  0005.
> ----------------------------------------
>
>
> [E:\harbour806\harbour\bin]help sys1808
>
> SYS1808:
> The process has stopped.  The software diagnostic
> code (exception code) is ***.
>
> EXPLANATION: The program generated an exception that the system cannot
> resolve.  The soft ware diagnostic code allows determination of what
> type of exception was generated.
>
> ACTION: Correct the problem or try a different version of the program.
>
>
> David Macias
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From dmacias at mail.udg.mx  Mon Jun  2 05:15:51 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Jun  2 05:15:26 2008
Subject: [Harbour] Re: Harbour under OS/2 - eCS
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <4843BA47.2000600@mail.udg.mx>

Viktor

 >Please try to remove OS/2 exception handling stuff
 >in source/vm/extrap.c and see if it helps.

These are SVN browse of last change (rev 8553, 8562)
What code should I to change ?

-------------------------------------------------------------
       { 	
167 	          hb_errInternal( HB_EI_ERRUNRECOV, "Unable to setup 
exception handler (DosSetExceptionHandler())", NULL, NULL ); 	 
hb_errInternal( HB_EI_ERRUNRECOV, "Unable to setup exception handler 
(DosSetExceptionHandler())", NULL, NULL );
168 	       } 	       }
169 	  	 #endif
170 	  	 }
171 	  	
172 	  	 void hb_vmUnsetExceptionHandler( void )
173 	  	 {
174 	  	 #if defined(HB_OS_OS2) /* Add OS2TermHandler to this thread's 
chain of exception handlers */
175 	  	    {
176 	  	       EXCEPTIONREGISTRATIONRECORD RegRec;    /* Exception 
Registration Record */
177 	  	       APIRET rc;                             /* Return code 
                */
178 	  	
179 	  	       /* I don't do any check on return code since harbour is 
exiting in any case */
180 	  	       rc = DosUnsetExceptionHandler( &RegRec );
181 	  	       HB_SYMBOL_UNUSED( rc );

-------------------------------------------------------------

David Macias


From harbour.01 at syenar.hu  Mon Jun  2 05:35:38 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 05:35:34 2008
Subject: [Harbour] 2008-06-02 11:34 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c494$Blat.v2.6.2$04480cb6$22f87a33f17a@127.0.0.1>

2008-06-02 11:34 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * source/vm/extrap.c
     ! Blind fix for OS/2.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun  2 05:34:46 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 05:35:50 2008
Subject: [Harbour] Re: Harbour under OS/2 - eCS
In-Reply-To: <4843BA47.2000600@mail.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<4843BA47.2000600@mail.udg.mx>
Message-ID: <DAC4F36A-3122-4266-B9AE-DEFCEFB76777@syenar.hu>

David, please test with current repo.

Brgds,
Viktor

On 2008.06.02., at 11:15, David Arturo Macias Corona wrote:

> Viktor
>
> >Please try to remove OS/2 exception handling stuff
> >in source/vm/extrap.c and see if it helps.
>
> These are SVN browse of last change (rev 8553, 8562)
> What code should I to change ?
>
> -------------------------------------------------------------
>      { 	
> 167 	          hb_errInternal( HB_EI_ERRUNRECOV, "Unable to setup  
> exception handler (DosSetExceptionHandler())", NULL, NULL ); 	  
> hb_errInternal( HB_EI_ERRUNRECOV, "Unable to setup exception handler  
> (DosSetExceptionHandler())", NULL, NULL );
> 168 	       } 	       }
> 169 	  	 #endif
> 170 	  	 }
> 171 	  	
> 172 	  	 void hb_vmUnsetExceptionHandler( void )
> 173 	  	 {
> 174 	  	 #if defined(HB_OS_OS2) /* Add OS2TermHandler to this  
> thread's chain of exception handlers */
> 175 	  	    {
> 176 	  	       EXCEPTIONREGISTRATIONRECORD RegRec;    /* Exception  
> Registration Record */
> 177 	  	       APIRET rc;                             /* Return  
> code                */
> 178 	  	
> 179 	  	       /* I don't do any check on return code since harbour  
> is exiting in any case */
> 180 	  	       rc = DosUnsetExceptionHandler( &RegRec );
> 181 	  	       HB_SYMBOL_UNUSED( rc );
>
> -------------------------------------------------------------
>
> David Macias
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Jun  2 06:12:37 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 06:12:32 2008
Subject: [Harbour] 2008-06-02 12:00 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c499$Blat.v2.6.2$2ed0bcb2$19e03a792240@127.0.0.1>

2008-06-02 12:00 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * source/common/hbverdsp.c
     ! Minor correction.
     * Wording/layout. C++/C and ANSI C init mode is now in 
       one line as "Other build settings".

   * contrib/hbcurl/hbcurl.c
     + Comment extended regarding libcurl version requirement.
     + Added version guard (not currently effective).
--
Brgds,
Viktor

From druzus at acn.waw.pl  Mon Jun  2 06:43:00 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  2 06:43:06 2008
Subject: [Harbour] 2008-06-02 12:42 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806021043.m52Ah0vL023401@31-mo5-4.acn.waw.pl>

2008-06-02 12:42 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbsqlit3/tests/blob.prg
  * harbour/contrib/hbsqlit3/tests/sqlite3_test.prg
  * harbour/contrib/hbsqlit3/sqlite3/sqlite3.c
  * harbour/contrib/hbsqlit3/sqlite3/sqlite3.h
    * converted TABs to SPACEs

best regards
Przemek
From dmacias at mail.udg.mx  Mon Jun  2 06:50:30 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Jun  2 06:50:09 2008
Subject: [Harbour] Re: Harbour under OS/2 - eCS
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <4843D076.4000705@mail.udg.mx>

Viktor

 >2008-06-02 11:34 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
 >   * source/vm/extrap.c
 >     ! Blind fix for OS/2.

 > David, please test with current repo.

No change, exactly same error:
   Exception c0000005 at address 0x1c021b0d

( everything was rebuilt with new extrap.c )
        memset( &RegRec, 0, sizeof( RegRec ) );
        RegRec.ExceptionHandler = ( ERR ) hb_os2ExceptionHandler;

David Macias



From harbour.01 at syenar.hu  Mon Jun  2 06:53:57 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 06:55:02 2008
Subject: [Harbour] Re: Harbour under OS/2 - eCS
In-Reply-To: <4843D076.4000705@mail.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<4843D076.4000705@mail.udg.mx>
Message-ID: <1E7C564A-A5A7-4C29-92C8-4F916EC998FA@syenar.hu>

Hi David,

I have run out of ideas then, sorry.

You could still try to remove all OS/2 stuff from
extrap.c and see if it helps. In all OS/2 stuff
I mean everything which is guarded with HB_OS_OS2.

Brgds,
Viktor

On 2008.06.02., at 12:50, David Arturo Macias Corona wrote:

> Viktor
>
> >2008-06-02 11:34 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> >   * source/vm/extrap.c
> >     ! Blind fix for OS/2.
>
> > David, please test with current repo.
>
> No change, exactly same error:
>  Exception c0000005 at address 0x1c021b0d
>
> ( everything was rebuilt with new extrap.c )
>       memset( &RegRec, 0, sizeof( RegRec ) );
>       RegRec.ExceptionHandler = ( ERR ) hb_os2ExceptionHandler;
>
> David Macias
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Mon Jun  2 07:33:07 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  2 07:33:11 2008
Subject: [Harbour] 2008-06-02 13:32 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806021133.m52BX73K028090@31-mo5-4.acn.waw.pl>

2008-06-02 13:32 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbexprop.h
  * harbour/include/hbexprb.c
  * harbour/source/common/expropt2.c
    + added hb_compExprReducePower() and compile time optimization for:
         <NumConst1> ^ <NumConst2>
    + added compile time optimization for:
         <NumConst1> % <NumConst2>
      when <NumConst1> or <NumConst2> is not integer value
    NOTE: both optimizations are not Clipper compatible and disabled
          when -kc compiler switch is used

best regards
Przemek
From druzus at acn.waw.pl  Mon Jun  2 07:57:54 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  2 07:57:59 2008
Subject: [Harbour] 2008-06-02 13:57 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806021157.m52BvsGd028374@31-mo5-4.acn.waw.pl>

2008-06-02 13:57 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbcurl/common.mak
  * harbour/contrib/hbcurl/hbcurl.c
  * harbour/contrib/hbcurl/hbcurl.ch
  * harbour/contrib/hbcurl/Makefile
    ! set svn:eol-style to native

  * harbour/contrib/hbcurl/make_gcc.sh
    ! set svn:eol-style to LF

  * harbour/contrib/hbcurl/Makefile
    * added missing rules to install header files and create library

  * harbour/contrib/hbcurl/hbcurl.ch
    ! closed uncloused /* comments

  * harbour/contrib/hbcurl/hbcurl.c
    ! fixed hb_curl_calloc() to clear allocated memory

best regards
Przemek
From harbour.01 at syenar.hu  Mon Jun  2 08:03:01 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 08:04:09 2008
Subject: [Harbour] 2008-06-02 13:32 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200806021133.m52BX73K028090@31-mo5-4.acn.waw.pl>
References: <200806021133.m52BX73K028090@31-mo5-4.acn.waw.pl>
Message-ID: <9E72B2B0-00FD-4C57-8CB0-EAB44797CCA5@syenar.hu>

Great, thanks a lot Przemek.

Some other candidates for optimizations that sprang
to mind (after I wrote that NOTE unfortunately), are
the hb_bit*() functions. Not a priority, but they would
be useful, when using these functions in #defines
to not cause any additional runtime cost. If you agree
and have time, these would be also great IMO.
(Sorry for forgetting about these when writing my first
NOTE)

Brgds,
Viktor

On 2008.06.02., at 13:33, Przemyslaw Czerpak wrote:

> 2008-06-02 13:32 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbexprop.h
>  * harbour/include/hbexprb.c
>  * harbour/source/common/expropt2.c
>    + added hb_compExprReducePower() and compile time optimization for:
>         <NumConst1> ^ <NumConst2>
>    + added compile time optimization for:
>         <NumConst1> % <NumConst2>
>      when <NumConst1> or <NumConst2> is not integer value
>    NOTE: both optimizations are not Clipper compatible and disabled
>          when -kc compiler switch is used
>
> best regards
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Mon Jun  2 09:41:01 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  2 09:41:11 2008
Subject: [Harbour] 2008-06-02 15:40 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806021341.m52Df1Qv011488@31-mo5-4.acn.waw.pl>

2008-06-02 15:40 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbsqlit3/hbsqlit3.c
    ! use char * instead of LPSTR to compile in non Windows environment
    ! fixed one printf() parames
    ! fixed casting and parameter type in sqlite3_blob_open()

  * harbour/include/hbexprop.h
  * harbour/include/hbexprb.c
  * harbour/source/common/expropt1.c
  * harbour/source/common/expropt2.c
    - removed unused hb_compExprAsLong()
    + added hb_compExprAsLongNum(), hb_compExprReduceBitFunc()
    + added compiletime optimizatiob for HB_BIT*() functions:
      HB_BITAND(), HB_BITOR(), HB_BITXOR(), HB_BITSET(), HB_BITRESET()
      HB_BITSHIFT(), HB_BITNOT(), HB_BITTEST()

best regards
Przemek
From rportnoff at spendmap.com  Mon Jun  2 10:08:55 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Mon Jun  2 10:07:44 2008
Subject: [Harbour] Problem building RDDADS
Message-ID: <B0080896347@ms1.3peaks.com>

Hi all,

I am trying to build RDDADS using the current CVS - I set HB_DIR_ADS 
as indicated but I am getting the following build error using MSVC v6:

..\mtpl_vc.mak(112) : fatal error U1023: syntax error in expression
Stop.

Randy.


From harbour.01 at syenar.hu  Mon Jun  2 10:22:40 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 10:23:45 2008
Subject: [Harbour] Problem building RDDADS
In-Reply-To: <B0080896347@ms1.3peaks.com>
References: <B0080896347@ms1.3peaks.com>
Message-ID: <72942E99-4862-4470-B376-6DFCE9CE43DC@syenar.hu>

Hi Randy,

Are you sure this file is unmodified?

(Line 112 is a comment, and the only change
in the recent month was a few flags removed.)

Brgds,
Viktor

On 2008.06.02., at 16:08, Randy Portnoff wrote:

> Hi all,
>
> I am trying to build RDDADS using the current CVS - I set HB_DIR_ADS  
> as indicated but I am getting the following build error using MSVC v6:
>
> ..\mtpl_vc.mak(112) : fatal error U1023: syntax error in expression
> Stop.
>
> Randy.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Jun  2 10:29:46 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 10:30:51 2008
Subject: [Harbour] 2008-06-02 15:40 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200806021341.m52Df1Qv011488@31-mo5-4.acn.waw.pl>
References: <200806021341.m52Df1Qv011488@31-mo5-4.acn.waw.pl>
Message-ID: <FDA81C44-DCA4-4143-A3E2-E3683FC82B2C@syenar.hu>

Perfect!

Brgds,
Viktor

On 2008.06.02., at 15:41, Przemyslaw Czerpak wrote:

> 2008-06-02 15:40 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/contrib/hbsqlit3/hbsqlit3.c
>    ! use char * instead of LPSTR to compile in non Windows environment
>    ! fixed one printf() parames
>    ! fixed casting and parameter type in sqlite3_blob_open()
>
>  * harbour/include/hbexprop.h
>  * harbour/include/hbexprb.c
>  * harbour/source/common/expropt1.c
>  * harbour/source/common/expropt2.c
>    - removed unused hb_compExprAsLong()
>    + added hb_compExprAsLongNum(), hb_compExprReduceBitFunc()
>    + added compiletime optimizatiob for HB_BIT*() functions:
>      HB_BITAND(), HB_BITOR(), HB_BITXOR(), HB_BITSET(), HB_BITRESET()
>      HB_BITSHIFT(), HB_BITNOT(), HB_BITTEST()
>
> best regards
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Jun  2 10:38:28 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 10:39:33 2008
Subject: [Harbour] 2008-06-02 15:40 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200806021341.m52Df1Qv011488@31-mo5-4.acn.waw.pl>
References: <200806021341.m52Df1Qv011488@31-mo5-4.acn.waw.pl>
Message-ID: <F0273CA6-7326-45B2-BA53-0BDE260A6239@syenar.hu>

Hi Przemek,

One observation:

I'd expect HB_CURLPAUSE_ALL to be optimized
to one integer value.

HB_CURLPAUSE_ALL is
hb_bitOr( A, B )
where
A = ( 2 ^ 0 )
B = ( 2 ^ 2 )

In the resulting pcode, hb_bitOr() is not optimized,
and it's being pushed two doubles with the (width set
to 255, 255).

Shouldn't or couldn't these values be integers, if
they can fit? Also hb_bitOr() is otherwise optimizing
doubles, but in this case it doesn't for some reason.

Brgds,
Viktor

On 2008.06.02., at 15:41, Przemyslaw Czerpak wrote:

> 2008-06-02 15:40 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/contrib/hbsqlit3/hbsqlit3.c
>    ! use char * instead of LPSTR to compile in non Windows environment
>    ! fixed one printf() parames
>    ! fixed casting and parameter type in sqlite3_blob_open()
>
>  * harbour/include/hbexprop.h
>  * harbour/include/hbexprb.c
>  * harbour/source/common/expropt1.c
>  * harbour/source/common/expropt2.c
>    - removed unused hb_compExprAsLong()
>    + added hb_compExprAsLongNum(), hb_compExprReduceBitFunc()
>    + added compiletime optimizatiob for HB_BIT*() functions:
>      HB_BITAND(), HB_BITOR(), HB_BITXOR(), HB_BITSET(), HB_BITRESET()
>      HB_BITSHIFT(), HB_BITNOT(), HB_BITTEST()
>
> best regards
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Mon Jun  2 10:46:21 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  2 10:46:27 2008
Subject: [Harbour] 2008-06-02 16:46 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806021446.m52EkLBu032064@31-mo5-4.acn.waw.pl>

2008-06-02 16:46 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbexprb.c
    ! do not optimize HB_BIAND(), HB_BITOR() and HB_BITXOR() when only
      one parameter is passed to keep RT error compatibility
    * use hb_compExprListStrip() to optimize function calls also when
      parameters are passed in parenthesis, f.e.:
         ? CHR(65), CHR((65))
      It's not Clipper compatible and disabled by -kc switch.
      Viktor it will interact with some hbtest tests when compile time
      optimization used by Clipper gives different results then RT function
      f.e. CHR( ( 256 ) ). Please think if we should keep it.
      It's important optimization if someone uses constant values or
      expressions defined in parentheses.

best regards
Przemek
From rportnoff at spendmap.com  Mon Jun  2 10:51:28 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Mon Jun  2 10:50:18 2008
Subject: [Harbour] Problem building RDDADS
In-Reply-To: <72942E99-4862-4470-B376-6DFCE9CE43DC@syenar.hu>
References: <B0080896347@ms1.3peaks.com>
	<72942E99-4862-4470-B376-6DFCE9CE43DC@syenar.hu>
Message-ID: <B0080897626@ms1.3peaks.com>

Hi Viktor,

I run MAKE_VC.BAT and this is the output...

Using this .dll: "C:\AXS32\32bit\ace32.dll"

Microsoft (R) Program Maintenance Utility   Version 6.00.9782.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

..\mtpl_vc.mak(112) : fatal error U1023: syntax error in expression
Stop.

...and here is what is at my line 112 ("# C Compiler Flags" is 
apparently at line 112)

# C Compiler Flags
!if $(HB_VISUALC_VER) >= 80
CFLAGS_VER     = -Ot2b1 -FD -Gs -D_CRT_SECURE_NO_DEPRECATE
!else
CFLAGS_VER     = -Ogt2yb1p -GX- -G6 -YX -FD -Gs
!endif
#-----------

Randy.


At 10:22 AM 6/2/2008, you wrote:
>Hi Randy,
>
>Are you sure this file is unmodified?
>
>(Line 112 is a comment, and the only change
>in the recent month was a few flags removed.)
>
>Brgds,
>Viktor
>
>On 2008.06.02., at 16:08, Randy Portnoff wrote:
>
>>Hi all,
>>
>>I am trying to build RDDADS using the current CVS - I set HB_DIR_ADS
>>as indicated but I am getting the following build error using MSVC v6:
>>
>>..\mtpl_vc.mak(112) : fatal error U1023: syntax error in expression
>>Stop.
>>
>>Randy.
>>
>>
>>_______________________________________________
>>Harbour mailing list
>>Harbour@harbour-project.org
>>http://lists.harbour-project.org/mailman/listinfo/harbour
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From druzus at acn.waw.pl  Mon Jun  2 10:50:26 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  2 10:50:32 2008
Subject: [Harbour] 2008-06-02 15:40 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <F0273CA6-7326-45B2-BA53-0BDE260A6239@syenar.hu>
References: <200806021341.m52Df1Qv011488@31-mo5-4.acn.waw.pl>
	<F0273CA6-7326-45B2-BA53-0BDE260A6239@syenar.hu>
Message-ID: <20080602145026.GA1256@34-mo7-2.acn.waw.pl>

On Mon, 02 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> One observation:
> I'd expect HB_CURLPAUSE_ALL to be optimized
> to one integer value.
> HB_CURLPAUSE_ALL is
> hb_bitOr( A, B )
> where
> A = ( 2 ^ 0 )
> B = ( 2 ^ 2 )
> In the resulting pcode, hb_bitOr() is not optimized,
> and it's being pushed two doubles with the (width set
> to 255, 255).
> Shouldn't or couldn't these values be integers, if
> they can fit?

It will break some compatibility with SET FIXED / SET DECIMAL.
Integer number are formatted in different way by VM then double
values.

> Also hb_bitOr() is otherwise optimizing
> doubles, but in this case it doesn't for some reason.

It's caused by strictly Clipper compatible behavior in our
expression optimizer. See the question in my last commit
and decide what we should do.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Jun  2 11:03:58 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 11:05:03 2008
Subject: [Harbour] Problem building RDDADS
In-Reply-To: <B0080897626@ms1.3peaks.com>
References: <B0080896347@ms1.3peaks.com>
	<72942E99-4862-4470-B376-6DFCE9CE43DC@syenar.hu>
	<B0080897626@ms1.3peaks.com>
Message-ID: <08A976A3-8A6C-4A9E-878F-8360315BC45E@syenar.hu>

Hi Randy,

I think you miss the HB_VISUALC_VER envvar, and
the line no is misreported by nmake (yes, and they
didn't bother to fix even in 9.0 - compatibility
must be the reason ;)

So, please use this:
set HB_VISUALC_VER=60

I'll add something to default to a safely looking value
instead of choking like this. Actually the best would
be to somehow remove this envvar requirement and make
8.0 (and upper) detection automatic. Maybe Marek could
help.

Brgds,
Viktor

On 2008.06.02., at 16:51, Randy Portnoff wrote:

> Hi Viktor,
>
> I run MAKE_VC.BAT and this is the output...
>
> Using this .dll: "C:\AXS32\32bit\ace32.dll"
>
> Microsoft (R) Program Maintenance Utility   Version 6.00.9782.0
> Copyright (C) Microsoft Corp 1988-1998. All rights reserved.
>
> ..\mtpl_vc.mak(112) : fatal error U1023: syntax error in expression
> Stop.
>
> ...and here is what is at my line 112 ("# C Compiler Flags" is  
> apparently at line 112)
>
> # C Compiler Flags
> !if $(HB_VISUALC_VER) >= 80
> CFLAGS_VER     = -Ot2b1 -FD -Gs -D_CRT_SECURE_NO_DEPRECATE
> !else
> CFLAGS_VER     = -Ogt2yb1p -GX- -G6 -YX -FD -Gs
> !endif
> #-----------
>
> Randy.
>
>
> At 10:22 AM 6/2/2008, you wrote:
>> Hi Randy,
>>
>> Are you sure this file is unmodified?
>>
>> (Line 112 is a comment, and the only change
>> in the recent month was a few flags removed.)
>>
>> Brgds,
>> Viktor
>>
>> On 2008.06.02., at 16:08, Randy Portnoff wrote:
>>
>>> Hi all,
>>>
>>> I am trying to build RDDADS using the current CVS - I set HB_DIR_ADS
>>> as indicated but I am getting the following build error using MSVC  
>>> v6:
>>>
>>> ..\mtpl_vc.mak(112) : fatal error U1023: syntax error in expression
>>> Stop.
>>>
>>> Randy.
>>>
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From rportnoff at spendmap.com  Mon Jun  2 11:09:38 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Mon Jun  2 11:08:29 2008
Subject: [Harbour] Case insensitive environment vars
Message-ID: <B0080898121@ms1.3peaks.com>

Hi all,

IMO, any of the environment variables that are set to a value like 
"yes" (eg. HB_BUILD_ST) should be case insensitive. I had mine set as 
HB_BUILD_ST=YES and it had no effect - I took me a while to realize 
what the problem was.

Randy.


From harbour.01 at syenar.hu  Mon Jun  2 11:11:10 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 11:12:14 2008
Subject: [Harbour] 2008-06-02 16:46 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200806021446.m52EkLBu032064@31-mo5-4.acn.waw.pl>
References: <200806021446.m52EkLBu032064@31-mo5-4.acn.waw.pl>
Message-ID: <086658CA-ED39-4EA1-8C6E-D3B3A60B0673@syenar.hu>

Hi Przemek,

We currently also use the '()' non-optimization for
HB_SYMBOL_UNUSED().

If we can resolve the above, and make it possible to disable
the feature using -k switch, I think we are fine with it.

If this involves any complexities though, I'd leave it for after RC1.

Brgds,
Viktor

On 2008.06.02., at 16:46, Przemyslaw Czerpak wrote:

> 2008-06-02 16:46 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbexprb.c
>    ! do not optimize HB_BIAND(), HB_BITOR() and HB_BITXOR() when only
>      one parameter is passed to keep RT error compatibility
>    * use hb_compExprListStrip() to optimize function calls also when
>      parameters are passed in parenthesis, f.e.:
>         ? CHR(65), CHR((65))
>      It's not Clipper compatible and disabled by -kc switch.
>      Viktor it will interact with some hbtest tests when compile time
>      optimization used by Clipper gives different results then RT  
> function
>      f.e. CHR( ( 256 ) ). Please think if we should keep it.
>      It's important optimization if someone uses constant values or
>      expressions defined in parentheses.
>
> best regards
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Jun  2 11:16:03 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 11:17:08 2008
Subject: [Harbour] Case insensitive environment vars
In-Reply-To: <B0080898121@ms1.3peaks.com>
References: <B0080898121@ms1.3peaks.com>
Message-ID: <E2E7F6D4-04C1-489E-9111-12A222AFD85C@syenar.hu>

Hi Randy,

I think a better approach would be to use 0/1 rather
than words. HB_BUILD_MODE is also effected.

Look at make_b32.bat to see how many variations are
covered explicitly for build targets, and the many hours
wasted updating these duplicate lines all over Harbour.
So I'd rather not make it any worse.

[ IOW for DOS/Win batch files all possible combination
should be listed to give a 100% solution, for all such
options. ]

Brgds,
Viktor

On 2008.06.02., at 17:09, Randy Portnoff wrote:

> Hi all,
>
> IMO, any of the environment variables that are set to a value like  
> "yes" (eg. HB_BUILD_ST) should be case insensitive. I had mine set  
> as HB_BUILD_ST=YES and it had no effect - I took me a while to  
> realize what the problem was.
>
> Randy.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From rportnoff at spendmap.com  Mon Jun  2 11:35:28 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Mon Jun  2 11:34:19 2008
Subject: [Harbour] Problem building RDDADS
In-Reply-To: <08A976A3-8A6C-4A9E-878F-8360315BC45E@syenar.hu>
References: <B0080896347@ms1.3peaks.com>
	<72942E99-4862-4470-B376-6DFCE9CE43DC@syenar.hu>
	<B0080897626@ms1.3peaks.com>
	<08A976A3-8A6C-4A9E-878F-8360315BC45E@syenar.hu>
Message-ID: <B0080898593@ms1.3peaks.com>

Thanks - That worked!

At 11:03 AM 6/2/2008, you wrote:
>Hi Randy,
>
>I think you miss the HB_VISUALC_VER envvar, and
>the line no is misreported by nmake (yes, and they
>didn't bother to fix even in 9.0 - compatibility
>must be the reason ;)
>
>So, please use this:
>set HB_VISUALC_VER=60
>
>I'll add something to default to a safely looking value
>instead of choking like this. Actually the best would
>be to somehow remove this envvar requirement and make
>8.0 (and upper) detection automatic. Maybe Marek could
>help.
>
>Brgds,
>Viktor
>
>On 2008.06.02., at 16:51, Randy Portnoff wrote:
>
>>Hi Viktor,
>>
>>I run MAKE_VC.BAT and this is the output...
>>
>>Using this .dll: "C:\AXS32\32bit\ace32.dll"
>>
>>Microsoft (R) Program Maintenance Utility   Version 6.00.9782.0
>>Copyright (C) Microsoft Corp 1988-1998. All rights reserved.
>>
>>..\mtpl_vc.mak(112) : fatal error U1023: syntax error in expression
>>Stop.
>>
>>...and here is what is at my line 112 ("# C Compiler Flags" is
>>apparently at line 112)
>>
>># C Compiler Flags
>>!if $(HB_VISUALC_VER) >= 80
>>CFLAGS_VER     = -Ot2b1 -FD -Gs -D_CRT_SECURE_NO_DEPRECATE
>>!else
>>CFLAGS_VER     = -Ogt2yb1p -GX- -G6 -YX -FD -Gs
>>!endif
>>#-----------
>>
>>Randy.
>>
>>
>>At 10:22 AM 6/2/2008, you wrote:
>>>Hi Randy,
>>>
>>>Are you sure this file is unmodified?
>>>
>>>(Line 112 is a comment, and the only change
>>>in the recent month was a few flags removed.)
>>>
>>>Brgds,
>>>Viktor
>>>
>>>On 2008.06.02., at 16:08, Randy Portnoff wrote:
>>>
>>>>Hi all,
>>>>
>>>>I am trying to build RDDADS using the current CVS - I set HB_DIR_ADS
>>>>as indicated but I am getting the following build error using MSVC
>>>>v6:
>>>>
>>>>..\mtpl_vc.mak(112) : fatal error U1023: syntax error in expression
>>>>Stop.
>>>>
>>>>Randy.
>>>>
>>>>
>>>>_______________________________________________
>>>>Harbour mailing list
>>>>Harbour@harbour-project.org
>>>>http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>>_______________________________________________
>>>Harbour mailing list
>>>Harbour@harbour-project.org
>>>http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>>_______________________________________________
>>Harbour mailing list
>>Harbour@harbour-project.org
>>http://lists.harbour-project.org/mailman/listinfo/harbour
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From druzus at acn.waw.pl  Mon Jun  2 11:56:09 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  2 11:56:14 2008
Subject: [Harbour] 2008-06-02 16:46 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <086658CA-ED39-4EA1-8C6E-D3B3A60B0673@syenar.hu>
References: <200806021446.m52EkLBu032064@31-mo5-4.acn.waw.pl>
	<086658CA-ED39-4EA1-8C6E-D3B3A60B0673@syenar.hu>
Message-ID: <20080602155609.GA16755@34-mo7-2.acn.waw.pl>

On Mon, 02 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> We currently also use the '()' non-optimization for
> HB_SYMBOL_UNUSED().

It is and was optimized. For all expressions like:
   (exp) <op> (exp)
our expression optimizer strips parenthesis.
It's also not Clipper compatible and maybe we should disable
this optimization when -kc is used. Now it's always enabled.
We also have some other optimizations not done by Clipper, f.e.
Clipper does not make any optimization for <exp> when message
is sent to <exp>, f.e.:
   ? (10==10):calsname
Now this optimization can be disabled by -kc.

> If we can resolve the above, and make it possible to disable
> the feature using -k switch, I think we are fine with it.
> If this involves any complexities though, I'd leave it for after RC1.

In last commit I've already done it for function parameters and -kc
disable this optimization.
Anyhow I think we should update hbtest and use #pragma -kc / #pragma -khx
or HB_C52_STRICT macro for some of CHR( ( <num> ) ).
See current hbtest results.
In general there is a problem with compile time optimizations for
   CHR( <integer_value> * 256 )
and $ operator in expressions like:
   "" $ <exp>
caused by bugs in Clipper compiler. It gives different results then
runtime functions/operations. Keeping strict Clipper compatibility
is hard in complex expressions. Probably we should think about adding
option to set valid results in such situations or we should introduce
flag for expressions to mark them as optimized and in such case do not
replicate wrong Clipper compile time optimizations.
BTW I also thing we should also add INT( <num> ) optimization.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Jun  2 12:41:03 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 12:42:08 2008
Subject: [Harbour] 2008-06-02 16:46 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <20080602155609.GA16755@34-mo7-2.acn.waw.pl>
References: <200806021446.m52EkLBu032064@31-mo5-4.acn.waw.pl>
	<086658CA-ED39-4EA1-8C6E-D3B3A60B0673@syenar.hu>
	<20080602155609.GA16755@34-mo7-2.acn.waw.pl>
Message-ID: <A4A9E8C7-C074-4E09-954C-31581EF2DF15@syenar.hu>

>>
Hi Przemek,

>> We currently also use the '()' non-optimization for
>> HB_SYMBOL_UNUSED().
>
> It is and was optimized. For all expressions like:
>   (exp) <op> (exp)
> our expression optimizer strips parenthesis.
> It's also not Clipper compatible and maybe we should disable
> this optimization when -kc is used. Now it's always enabled.
> We also have some other optimizations not done by Clipper, f.e.
> Clipper does not make any optimization for <exp> when message
> is sent to <exp>, f.e.:
>   ? (10==10):calsname
> Now this optimization can be disabled by -kc.

This is fine. I've also checked HB_SYMBOL_UNUSED(), and it works.

>> If we can resolve the above, and make it possible to disable
>> the feature using -k switch, I think we are fine with it.
>> If this involves any complexities though, I'd leave it for after RC1.
>
> In last commit I've already done it for function parameters and -kc
> disable this optimization.
> Anyhow I think we should update hbtest and use #pragma -kc / #pragma  
> -khx
> or HB_C52_STRICT macro for some of CHR( ( <num> ) ).
> See current hbtest results.
> In general there is a problem with compile time optimizations for
>   CHR( <integer_value> * 256 )
> and $ operator in expressions like:
>   "" $ <exp>
> caused by bugs in Clipper compiler. It gives different results then
> runtime functions/operations. Keeping strict Clipper compatibility
> is hard in complex expressions. Probably we should think about adding
> option to set valid results in such situations or we should introduce
> flag for expressions to mark them as optimized and in such case do not
> replicate wrong Clipper compile time optimizations.

We may guard those with #pragmas for Harbour, to
disable compile time optimization for these cases,
or better yet, add both versions to make the
difference more apparent.

It's not possible to make a perfect decision here,
unless investing extreme energy (like those flags)
to keep bug compatibility, not to mention what an
ugly inconsistency this is. My personal opinion in this
case is to fix this Clipper bug in Harbour, and make it
available using a switch for those few ppl who are relying
on them and haven't yet corrected their code. I suspect
there is not too many such ppl, and even most of this
code is probably macro compiled.

Question: Do we do all these optimization for macro
code too, and do we have a way to disable it? Yes and
yes is the answer AFAIK, so IMO we're covered.

> BTW I also thing we should also add INT( <num> ) optimization.

Definitely.

I'd plug these just to not forget about them, but these
will need new pcodes, so it's a slightly different story:

- HB_P_PUSHNIL + HB_P_RETVALUE would become: HB_P_RETNIL
- HB_P_FALSE + HB_P_RETVALUE would become: HB_P_RETFALSE
- HB_P_TRUE + HB_P_RETVALUE would become: HB_P_RETTRUE
- SUBSTR(s,n,1) -> HB_P_SUBSTR1 (or whatever name)
- ASC(SUBSTR(s,n,1)) -> HB_P_SUBSTR1ASC (or whatever name)

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun  2 12:57:56 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 12:59:03 2008
Subject: [Harbour] 2008-06-02 16:46 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <A4A9E8C7-C074-4E09-954C-31581EF2DF15@syenar.hu>
References: <200806021446.m52EkLBu032064@31-mo5-4.acn.waw.pl>
	<086658CA-ED39-4EA1-8C6E-D3B3A60B0673@syenar.hu>
	<20080602155609.GA16755@34-mo7-2.acn.waw.pl>
	<A4A9E8C7-C074-4E09-954C-31581EF2DF15@syenar.hu>
Message-ID: <44F72016-9084-4CE5-9DC9-8D92AB9F910B@syenar.hu>

>>
Hi Przemek,

>> In general there is a problem with compile time optimizations for
>>  CHR( <integer_value> * 256 )
>> and $ operator in expressions like:
>>  "" $ <exp>
>> caused by bugs in Clipper compiler. It gives different results then
>> runtime functions/operations. Keeping strict Clipper compatibility
>> is hard in complex expressions. Probably we should think about adding
>> option to set valid results in such situations or we should introduce
>> flag for expressions to mark them as optimized and in such case do  
>> not
>> replicate wrong Clipper compile time optimizations.
>
> We may guard those with #pragmas for Harbour, to
> disable compile time optimization for these cases,
> or better yet, add both versions to make the
> difference more apparent.

One thing I forgot: To do this we'd need a switch
which would toggle the parenthesised expression
optimization only.

BTW, for me it's unclear by looking at the 'harbour /k?'
help, which options are enabled by default, and what
is the relation between them. It's unclear whether
'-kh' actually means all, or a selection of options
turned on, or something else.

Plus, rather than saying 'lowercase/uppercase significant'
it would be more intuitive to just use lowercase
for 'J' and 'M', and make casing not to matter, like
for the rest of Harbour switches. I can make this, but
I wonder if there was any special reason doing it like
this?

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun  2 13:02:58 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 13:02:54 2008
Subject: [Harbour] 2008-06-02 18:59 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c4d2$Blat.v2.6.2$8217f5e6$a589555f732@127.0.0.1>

2008-06-02 18:59 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/xhb/hbcompat.ch
     ! Minor fix in hb to xhb branch.

   * contrib/hbcurl/hbcurl.ch
     * '( 2 ** n )' expressions changed to actual values.
     ; We now have these optimized, but I'm committing anyway, 
     as some folks may be scared away by seeing these, and 
     not knowing it's optimized (and they might not even be 
     optimized on some Clipper platforms...).

   * contrib/mtpl_vc.mak
     ! Fixed HB_VISUALC_VER to default to '60' rather than 
       crashing. Same default is used for core make files 
       already.

   * source/common/hbverdsp.c
     - Removed 'CA'.
     + Added word 'compatible' to the 'undocumented' line.
--
Brgds,
Viktor

From mbelgrano at deltain.it  Mon Jun  2 13:05:15 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun  2 13:05:32 2008
Subject: [Harbour] Release Time
In-Reply-To: <200806012300.58789.philb@philb.us>
References: <200806012300.58789.philb@philb.us>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECA0@SRV02.deltain.net>

What about new harbour's web site and fidonet group?


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Phil Barnett
Sent: Monday, June 02, 2008 5:01 AM
To: Harbour@harbour-project.org
Subject: [Harbour] Release Time

I know I promised to make the release mark last weekend, but things got
in the 
way and this is the first time I've even gotten back to read the list's 
email. Wow, what a huge effort on bug fixing. I'm glad this all made it
into 
the release candidate.

Please let me know if the bug fixes are all in for everything but
contrib and 
I'll set the mark.

If you have a bug fix that needs to go in before we set the RC1 mark, do
it 
now or let us all know when it will go in.

I expect to set the RC1 mark Tuesday night.

-- 
Waiting for sunspots.
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From druzus at acn.waw.pl  Mon Jun  2 13:54:14 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  2 13:54:19 2008
Subject: [Harbour] 2008-06-02 16:46 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <A4A9E8C7-C074-4E09-954C-31581EF2DF15@syenar.hu>
References: <200806021446.m52EkLBu032064@31-mo5-4.acn.waw.pl>
	<086658CA-ED39-4EA1-8C6E-D3B3A60B0673@syenar.hu>
	<20080602155609.GA16755@34-mo7-2.acn.waw.pl>
	<A4A9E8C7-C074-4E09-954C-31581EF2DF15@syenar.hu>
Message-ID: <20080602175414.GA26641@34-mo7-2.acn.waw.pl>

On Mon, 02 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> It's not possible to make a perfect decision here,
> unless investing extreme energy (like those flags)
> to keep bug compatibility, not to mention what an
> ugly inconsistency this is. My personal opinion in this
> case is to fix this Clipper bug in Harbour, and make it
> available using a switch for those few ppl who are relying
> on them and haven't yet corrected their code. I suspect
> there is not too many such ppl, and even most of this
> code is probably macro compiled.

I do not like Clipper behavior. For me it's a bug which may
confuse users, f.e. try this code with Clipper:

   ? CHR( 256 ) == CHR( 256 ), CHR( 256 ) == CHR( ( 256 ) )
   ? "" $ "", "" $ (""), ("") $ ""
   ? AT( "", "" ), AT( ( "" ), "" ), AT( "", ( "" ) )

> Question: Do we do all these optimization for macro
> code too, and do we have a way to disable it? Yes and
> yes is the answer AFAIK, so IMO we're covered.

Clipper does not make any optimizations for macro compiled
code so it gives correct results executing RT functions or
evaluating PCODE. We are making the optimizations but for
macro compiler Harbour calculates correct results so there
is not problem here.

> I'd plug these just to not forget about them, but these
> will need new pcodes, so it's a slightly different story:
> - HB_P_PUSHNIL + HB_P_RETVALUE would become: HB_P_RETNIL
> - HB_P_FALSE + HB_P_RETVALUE would become: HB_P_RETFALSE
> - HB_P_TRUE + HB_P_RETVALUE would become: HB_P_RETTRUE
> - SUBSTR(s,n,1) -> HB_P_SUBSTR1 (or whatever name)
> - ASC(SUBSTR(s,n,1)) -> HB_P_SUBSTR1ASC (or whatever name)

These I'll add after 1.0. Now I do not want to touch PCODE table
as long as we will not find some serious bug which will force
such operation.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Jun  2 13:55:50 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  2 13:55:55 2008
Subject: [Harbour] 2008-06-02 19:55 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806021755.m52Hto3G004132@31-mo5-4.acn.waw.pl>

2008-06-02 19:55 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbexprop.h
  * harbour/include/hbexprb.c
  * harbour/source/common/expropt2.c
    + added compile time INT( <num> ) optimization

  * harbour/source/compiler/hbusage.c
    * updated -k? description to show "(default)" for really set flags

best regards
Przemek
From harbour.01 at syenar.hu  Mon Jun  2 14:06:00 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 14:07:05 2008
Subject: [Harbour] 2008-06-02 16:46 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <20080602175414.GA26641@34-mo7-2.acn.waw.pl>
References: <200806021446.m52EkLBu032064@31-mo5-4.acn.waw.pl>
	<086658CA-ED39-4EA1-8C6E-D3B3A60B0673@syenar.hu>
	<20080602155609.GA16755@34-mo7-2.acn.waw.pl>
	<A4A9E8C7-C074-4E09-954C-31581EF2DF15@syenar.hu>
	<20080602175414.GA26641@34-mo7-2.acn.waw.pl>
Message-ID: <1A5EB215-0298-4626-854D-91867EDACDB3@syenar.hu>

>>
Hi Przemek,

>> It's not possible to make a perfect decision here,
>> unless investing extreme energy (like those flags)
>> to keep bug compatibility, not to mention what an
>> ugly inconsistency this is. My personal opinion in this
>> case is to fix this Clipper bug in Harbour, and make it
>> available using a switch for those few ppl who are relying
>> on them and haven't yet corrected their code. I suspect
>> there is not too many such ppl, and even most of this
>> code is probably macro compiled.
>
> I do not like Clipper behavior. For me it's a bug which may
> confuse users, f.e. try this code with Clipper:
>
>   ? CHR( 256 ) == CHR( 256 ), CHR( 256 ) == CHR( ( 256 ) )
>   ? "" $ "", "" $ (""), ("") $ ""
>   ? AT( "", "" ), AT( ( "" ), "" ), AT( "", ( "" ) )

We agree. I personally don't need this bug at all.
If you ask me we can just fix it and leave it at that.

>> Question: Do we do all these optimization for macro
>> code too, and do we have a way to disable it? Yes and
>> yes is the answer AFAIK, so IMO we're covered.
>
> Clipper does not make any optimizations for macro compiled
> code so it gives correct results executing RT functions or
> evaluating PCODE. We are making the optimizations but for
> macro compiler Harbour calculates correct results so there
> is not problem here.

Even better. So I expect not too many ppl having
Chr( 1024 ) and "" $ "string" in real life code, since
the expressions are pointless, they are side cases
(invalid or close to invalid input) by themselves,
someone using such expressions with _full literals_
is even more pointless. So besides inspecting these
in a lab, like some strange viruses, they serve no
purpose, and I don't expect finding them in too much
real world code.

[ NOTE: Clipper '87 had these right, and I bet
- but I cannot try right now - the rest of Clipper
compiler has this right too. ]

>> I'd plug these just to not forget about them, but these
>> will need new pcodes, so it's a slightly different story:
>> - HB_P_PUSHNIL + HB_P_RETVALUE would become: HB_P_RETNIL
>> - HB_P_FALSE + HB_P_RETVALUE would become: HB_P_RETFALSE
>> - HB_P_TRUE + HB_P_RETVALUE would become: HB_P_RETTRUE
>> - SUBSTR(s,n,1) -> HB_P_SUBSTR1 (or whatever name)
>> - ASC(SUBSTR(s,n,1)) -> HB_P_SUBSTR1ASC (or whatever name)
>
> These I'll add after 1.0. Now I do not want to touch PCODE table
> as long as we will not find some serious bug which will force
> such operation.

Absolutely fine.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Jun  2 14:08:11 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  2 14:08:18 2008
Subject: [Harbour] 2008-06-02 16:46 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <44F72016-9084-4CE5-9DC9-8D92AB9F910B@syenar.hu>
References: <200806021446.m52EkLBu032064@31-mo5-4.acn.waw.pl>
	<086658CA-ED39-4EA1-8C6E-D3B3A60B0673@syenar.hu>
	<20080602155609.GA16755@34-mo7-2.acn.waw.pl>
	<A4A9E8C7-C074-4E09-954C-31581EF2DF15@syenar.hu>
	<44F72016-9084-4CE5-9DC9-8D92AB9F910B@syenar.hu>
Message-ID: <20080602180811.GB26641@34-mo7-2.acn.waw.pl>

On Mon, 02 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> One thing I forgot: To do this we'd need a switch
> which would toggle the parenthesised expression
> optimization only.

OK, I can add it.

> BTW, for me it's unclear by looking at the 'harbour /k?'
> help, which options are enabled by default, and what
> is the relation between them. It's unclear whether
> '-kh' actually means all, or a selection of options
> turned on, or something else.

I've just updated usage message for -k? so it shows really
set flags. You can even test the behavior of different switches
using:
   harbour [some -k<x> switches] -k?

In general -kc clears all switches and disables all extensions
which have RT interactions so it does not disable jump optimization
(-kJ). As I can see it disable macro substitution (-kM) and this is
bug which should be fixed. I'll do taht ASAP.

> Plus, rather than saying 'lowercase/uppercase significant'
> it would be more intuitive to just use lowercase
> for 'J' and 'M', and make casing not to matter, like
> for the rest of Harbour switches. I can make this, but
> I wonder if there was any special reason doing it like
> this?

Probably Ryszard should answer for this.
Now upper letters are used to disable some features.
In the future we may need more combinations so maybe it's
good idea to keep it case sensitive.

best regards,
Przemek
From jarabal at ya.com  Mon Jun  2 14:10:37 2008
From: jarabal at ya.com (Javier)
Date: Mon Jun  2 14:11:01 2008
Subject: [Harbour] A question about hb_strRemEscSeq ()
Message-ID: <4844379D.2070602@ya.com>

It is possible that I lost but .-

2006-03-09 16:30 UTC+0100 Ryszard Glab <rglab//imid.med.pl>
...
   * source/common/hbstr.c
   * source/rtl/strings.c
     * added hb_strRemEscSeq() function that removes C-like Esc
       sequences (\n \t \r \b currently)

On the source/rtl/strings.c is not and on the source/common/hbstr.c, Do not need an HB_EXPORT?

best regards
Xavi
From gvarona at ec-red.com  Mon Jun  2 14:11:07 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Mon Jun  2 14:11:06 2008
Subject: [Harbour] Show symbol of the square root in console application
In-Reply-To: <484180EC.9060405@ec-red.com>
References: <484180EC.9060405@ec-red.com>
Message-ID: <484437BB.5030008@ec-red.com>

Any suggestions/tip for this?

TIA

Best Regards
GVS

Guillermo Varona Silup? escribi?:
> Hi
> I have a small console application in which I want to show the symbol 
> of the square root, but the screen shows me at number 1 as superscript.
> What should I set to display the symbol of the square root?
>
> Env.: WinXP SP2 + Harbour + MinGW
>
> TIA
>
> Best Regards
> GVS
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> __________ Information from ESET Smart Security, version of virus 
> signature database 3152 (20080602) __________
>
> The message was checked by ESET Smart Security.
>
> http://www.eset.com
>
>
>

From harbour.01 at syenar.hu  Mon Jun  2 14:10:02 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 14:11:10 2008
Subject: [Harbour] 2008-06-02 19:55 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200806021755.m52Hto3G004132@31-mo5-4.acn.waw.pl>
References: <200806021755.m52Hto3G004132@31-mo5-4.acn.waw.pl>
Message-ID: <44688A7B-7F2F-49FF-B130-84D1A2C5F6CA@syenar.hu>

>
Hi Przemek,

> 2008-06-02 19:55 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbexprop.h
>  * harbour/include/hbexprb.c
>  * harbour/source/common/expropt2.c
>    + added compile time INT( <num> ) optimization
>
>  * harbour/source/compiler/hbusage.c
>    * updated -k? description to show "(default)" for really set flags

Do you have anything against making -kM and -kJ (and
the rest of switches) to work in a case-insensitive
fashion? I can only think of the lesser variations this
would us, but there would be something seriously
wrong with Harbour if we'd be needing more than 25
such switch in the future.

Also, is -kh equivalent to -kix ?

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Jun  2 14:11:58 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  2 14:12:03 2008
Subject: [Harbour] 2008-06-02 20:11 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806021811.m52IBwi3005140@31-mo5-4.acn.waw.pl>

2008-06-02 20:11 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/compiler/ppcomp.c
  * harbour/source/compiler/cmdcheck.c
    ! do not disable macrotext substitution for -kc

best regards
Przemek
From harbour.01 at syenar.hu  Mon Jun  2 14:13:49 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 14:14:54 2008
Subject: [Harbour] 2008-06-02 16:46 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <20080602180811.GB26641@34-mo7-2.acn.waw.pl>
References: <200806021446.m52EkLBu032064@31-mo5-4.acn.waw.pl>
	<086658CA-ED39-4EA1-8C6E-D3B3A60B0673@syenar.hu>
	<20080602155609.GA16755@34-mo7-2.acn.waw.pl>
	<A4A9E8C7-C074-4E09-954C-31581EF2DF15@syenar.hu>
	<44F72016-9084-4CE5-9DC9-8D92AB9F910B@syenar.hu>
	<20080602180811.GB26641@34-mo7-2.acn.waw.pl>
Message-ID: <2A81F908-58C7-4C8C-938B-99C7B57AB5F4@syenar.hu>

>> Plus, rather than saying 'lowercase/uppercase significant'
>> it would be more intuitive to just use lowercase
>> for 'J' and 'M', and make casing not to matter, like
>> for the rest of Harbour switches. I can make this, but
>> I wonder if there was any special reason doing it like
>> this?
>
> Probably Ryszard should answer for this.
> Now upper letters are used to disable some features.
> In the future we may need more combinations so maybe it's
> good idea to keep it case sensitive.

Well, I really hope so we won't need that many
such language modifiers. Unless we want to kill the
language that is.

The turn off vs on would make sense, but I think it's
enough to emphasis that in the description.

Maybe Ryszard is here to comment.

Brgds,
Viktor

From e.m.giordano at emagsoftware.it  Mon Jun  2 14:18:08 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Jun  2 14:18:12 2008
Subject: [Harbour] Compile defines
Message-ID: <7064BB2792AA4C81BD1A191794981825@emag>

Which of the following symbols are still useful/mandatory?

-DHB_FM_STATISTICS_OFF
-DHB_GUI
-DHB_NO_PROFILER
-DHB_NO_TRACE
-DHB_WIN32_IO

Thank you in advance.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic
From harbour.01 at syenar.hu  Mon Jun  2 14:30:18 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 14:30:14 2008
Subject: [Harbour] 2008-06-02 20:16 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c4de$Blat.v2.6.2$b56ed002$a7c99375f68@127.0.0.1>

2008-06-02 20:16 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * source/common/hbstr.c
     ! HB_EXPORT added to hb_strRemEscSeq(). Thanks Javier.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Mon Jun  2 14:32:37 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  2 14:32:42 2008
Subject: [Harbour] Show symbol of the square root in console application
In-Reply-To: <484437BB.5030008@ec-red.com>
References: <484180EC.9060405@ec-red.com> <484437BB.5030008@ec-red.com>
Message-ID: <20080602183237.GA5261@34-mo7-2.acn.waw.pl>

On Mon, 02 Jun 2008, Guillermo Varona Silup? wrote:
> Any suggestions/tip for this?
> >I have a small console application in which I want to show the symbol 
> >of the square root, but the screen shows me at number 1 as superscript.
> >What should I set to display the symbol of the square root?
> >Env.: WinXP SP2 + Harbour + MinGW

It depends on used GT and font.
What GT driver do you use?

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Jun  2 14:34:14 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 14:35:19 2008
Subject: [Harbour] Compile defines
In-Reply-To: <7064BB2792AA4C81BD1A191794981825@emag>
References: <7064BB2792AA4C81BD1A191794981825@emag>
Message-ID: <4AC607FC-BBDA-440A-9F01-1339E01A5867@syenar.hu>

> -DHB_FM_STATISTICS_OFF

Valid.

> -DHB_GUI ?

Still exists. I think we should somehow
remove this (meaning: replace with some superior
solution) in the future. Since this is
yet another thing to remember at build-time and
yet another thing to badly interact with
a multi GT app.

Actually something like this already in the
code (hvm.c), and IMO should be uncommented.

> -DHB_NO_PROFILER

Valid.

> -DHB_NO_TRACE

Not existing anymore. Tracing disabled by default.
Enable it with HB_TR_LEVEL_* macros (see include/hbtrace.h)

> -DHB_WIN32_IO

Still existing, but this is the default, so
there's no reason to mess with it on user level.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Jun  2 14:44:28 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  2 14:44:32 2008
Subject: [Harbour] Compile defines
In-Reply-To: <7064BB2792AA4C81BD1A191794981825@emag>
References: <7064BB2792AA4C81BD1A191794981825@emag>
Message-ID: <20080602184428.GB5261@34-mo7-2.acn.waw.pl>

On Mon, 02 Jun 2008, Enrico Maria Giordano wrote:
> Which of the following symbols are still useful/mandatory?
> -DHB_FM_STATISTICS_OFF

It's still functional. Default is HB_FM_STATISTICS

> -DHB_GUI

It disables inkey polling in main HVM loop.
In normal programs it means that K_ALT_C and K_ALT_D will
not work. It gives some small speed improvement.

> -DHB_NO_PROFILER

It's default. If you want to use profiler then you have to recompile
HVM with -DHB_USE_PROFILER

> -DHB_NO_TRACE

It disables the possibility of function call tracing which can be enabled
in default builds by:
   __TRACEPRGCALLS( [ <lOnOff> ] ) -> <lPrevSetting>
It gives some small speed improvement.

There is also HB_NO_DEBUG macro which disables debugger also giving
some small speed improvement.

> -DHB_WIN32_IO

It's default for MS-Windows builds. Using Win32 IO API can be disabled
by HB_WIN32_IO_OFF.

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Mon Jun  2 14:44:57 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Jun  2 14:45:03 2008
Subject: [Harbour] Compile defines
References: <7064BB2792AA4C81BD1A191794981825@emag>
	<4AC607FC-BBDA-440A-9F01-1339E01A5867@syenar.hu>
Message-ID: <A85AC87326EF4693990FCB432F20649D@emag>


-----Messaggio Originale----- 
Da: "Szak?ts Viktor" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 2 giugno 2008 20.34
Oggetto: Re: [Harbour] Compile defines

Thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Mon Jun  2 14:49:49 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Jun  2 14:49:53 2008
Subject: [Harbour] Compile defines
References: <7064BB2792AA4C81BD1A191794981825@emag>
	<20080602184428.GB5261@34-mo7-2.acn.waw.pl>
Message-ID: <AD63F8955CC14F59A133B7DABF2BCE3D@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: lunedi 2 giugno 2008 20.44
Oggetto: Re: [Harbour] Compile defines

Thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic
From rportnoff at spendmap.com  Mon Jun  2 14:51:58 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Mon Jun  2 14:50:49 2008
Subject: [Harbour] Compile defines
In-Reply-To: <4AC607FC-BBDA-440A-9F01-1339E01A5867@syenar.hu>
References: <7064BB2792AA4C81BD1A191794981825@emag>
	<4AC607FC-BBDA-440A-9F01-1339E01A5867@syenar.hu>
Message-ID: <B0080903804@ms1.3peaks.com>

Hi Viktor,

>>-DHB_NO_PROFILER
>
>Valid.

I cannot find any docs on the purpose of HB_NO_PROFILER - Can you 
please offer a brief explanation of what it is used for?

TIA.

Randy.


From harbour.01 at syenar.hu  Mon Jun  2 15:06:18 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 15:07:23 2008
Subject: [Harbour] Compile defines
In-Reply-To: <20080602184428.GB5261@34-mo7-2.acn.waw.pl>
References: <7064BB2792AA4C81BD1A191794981825@emag>
	<20080602184428.GB5261@34-mo7-2.acn.waw.pl>
Message-ID: <07386B36-1BC6-4374-A375-9E932AB1F274@syenar.hu>

>> -DHB_GUI
>
> It disables inkey polling in main HVM loop.
> In normal programs it means that K_ALT_C and K_ALT_D will
> not work. It gives some small speed improvement.

What do you think of making this a runtime option?
(a Set())

>> -DHB_NO_TRACE
>
> It disables the possibility of function call tracing which can be  
> enabled
> in default builds by:
>   __TRACEPRGCALLS( [ <lOnOff> ] ) -> <lPrevSetting>
> It gives some small speed improvement.
>
> There is also HB_NO_DEBUG macro which disables debugger also giving
> some small speed improvement.

Okay, so it does in fact exist, but does
something completely different :)

Since we already have a TRACE functionality on the
C level which has nothing to do with this, I'd like
to rename this to HB_NO_TRACEPRG. Or rather, shouldn't
we tie this functionality to PROFILER? Opinions?

For HB_NO_DEBUG we're talking about maybe 4-6 CPU instructions
per Harbour function call. Do we really need this? Is this
measurable?

Brgds
Viktor

From harbour.01 at syenar.hu  Mon Jun  2 15:17:07 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 15:18:13 2008
Subject: [Harbour] Compile defines
In-Reply-To: <07386B36-1BC6-4374-A375-9E932AB1F274@syenar.hu>
References: <7064BB2792AA4C81BD1A191794981825@emag>
	<20080602184428.GB5261@34-mo7-2.acn.waw.pl>
	<07386B36-1BC6-4374-A375-9E932AB1F274@syenar.hu>
Message-ID: <359D46A6-500D-4884-A8E6-1D8EB1B7F7D8@syenar.hu>

>> It disables the possibility of function call tracing which can be  
>> enabled
>> in default builds by:
>>  __TRACEPRGCALLS( [ <lOnOff> ] ) -> <lPrevSetting>
>> It gives some small speed improvement.
>>
>> There is also HB_NO_DEBUG macro which disables debugger also giving
>> some small speed improvement.
>
> Okay, so it does in fact exist, but does
> something completely different :)
>
> Since we already have a TRACE functionality on the
> C level which has nothing to do with this, I'd like
> to rename this to HB_NO_TRACEPRG. Or rather, shouldn't
> we tie this functionality to PROFILER? Opinions?

Inspecting it a little more, I think we
should just use another HB_TRACE level
for these messages, and leave the full
control to the HB_TRACE setting, rather
having another control layer above.

Harbour uses DEBUG level for most messages,
rarely some INFOs, so I think we should
simply make those PRG trace calls to the
INFO level.

The .prg level switch can be guarded
with #if HB_TR_LEVEL >= HB_TR_INFO so
the check won't cause any runtime overhead
if someone has built Harbour with higher
HB_TRACE level.

Opinions?

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun  2 15:20:02 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 15:20:06 2008
Subject: [Harbour] 2008-06-02 21:16 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c4e5$Blat.v2.6.2$a8103b10$156462f01db4@127.0.0.1>

2008-06-02 21:16 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * source/vm/hvm.c
     % Minor opt to __SETPROFILE(), __TRACEPRGCALLS()
     ! __SETPROFILE() to only set the value if a parameter was passed.
       This way it's possible to read the value without destroying it.
--
Brgds,
Viktor

From e.m.giordano at emagsoftware.it  Mon Jun  2 15:24:06 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Jun  2 15:24:10 2008
Subject: [Harbour] Warning on unused codeblock parameters
Message-ID: <AB3B59A2B23D48789CCDC95B2D36A95F@emag>

Please look at the following sample:

FUNCTION MAIN()

    LOCAL bTest := { | Param | MyFunc() }

    RETURN NIL


STATIC FUNCTION MYFUNC()

    RETURN NIL

The compiler shows this warning if /w2 or /w3 are used:

Warning W0004  Codeblock parameter: 'PARAM' declared but not used in 
function: 'MAIN'

Is it expected? I think it is common to not reference all the codeblock 
parameters.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at acn.waw.pl  Mon Jun  2 15:46:48 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  2 15:46:54 2008
Subject: [Harbour] Warning on unused codeblock parameters
In-Reply-To: <AB3B59A2B23D48789CCDC95B2D36A95F@emag>
References: <AB3B59A2B23D48789CCDC95B2D36A95F@emag>
Message-ID: <20080602194648.GA5598@34-mo7-2.acn.waw.pl>

On Mon, 02 Jun 2008, Enrico Maria Giordano wrote:

Hi Enrico,

> Please look at the following sample:
> FUNCTION MAIN()
>    LOCAL bTest := { | Param | MyFunc() }
>    RETURN NIL
> STATIC FUNCTION MYFUNC()
>    RETURN NIL
> The compiler shows this warning if /w2 or /w3 are used:
> Warning W0004  Codeblock parameter: 'PARAM' declared but not used in 
> function: 'MAIN'
> Is it expected?

Yes, it's expected.
   HB_SYMBOL_UNUSED( Param )
disables the warning without any RT overhead.

> I think it is common to not reference all the codeblock parameters.

Probably yes though in some cases it may be usable and will help
to locate wrong code. To make all people happy we will have to add
compiler switch to disable this warning for codeblocks only, f.e.:
      -kB      turn off unused codeblock parameter warnings

best regards,
Przemek
From druzus at acn.waw.pl  Mon Jun  2 15:52:30 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  2 15:52:36 2008
Subject: [Harbour] Compile defines
In-Reply-To: <359D46A6-500D-4884-A8E6-1D8EB1B7F7D8@syenar.hu>
References: <7064BB2792AA4C81BD1A191794981825@emag>
	<20080602184428.GB5261@34-mo7-2.acn.waw.pl>
	<07386B36-1BC6-4374-A375-9E932AB1F274@syenar.hu>
	<359D46A6-500D-4884-A8E6-1D8EB1B7F7D8@syenar.hu>
Message-ID: <20080602195230.GB5598@34-mo7-2.acn.waw.pl>

On Mon, 02 Jun 2008, Szak?ts Viktor wrote:
> >Since we already have a TRACE functionality on the
> >C level which has nothing to do with this, I'd like
> >to rename this to HB_NO_TRACEPRG. Or rather, shouldn't
> >we tie this functionality to PROFILER? Opinions?

HB_NO_TRACEPRG is OK for me though I'd rather suggest to
disable function call tracing and add HB_TRACEPRG

> Inspecting it a little more, I think we
> should just use another HB_TRACE level
> for these messages, and leave the full
> control to the HB_TRACE setting, rather
> having another control layer above.
> Harbour uses DEBUG level for most messages,
> rarely some INFOs, so I think we should
> simply make those PRG trace calls to the
> INFO level.
> The .prg level switch can be guarded
> with #if HB_TR_LEVEL >= HB_TR_INFO so
> the check won't cause any runtime overhead
> if someone has built Harbour with higher
> HB_TRACE level.
> Opinions?

90% users on this list do not know what HB_TR_LEVEL does
and how to use it. The above modification will mean for
them that we are removing this feature at all.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Jun  2 16:02:21 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  2 16:02:28 2008
Subject: [Harbour] Compile defines
In-Reply-To: <07386B36-1BC6-4374-A375-9E932AB1F274@syenar.hu>
References: <7064BB2792AA4C81BD1A191794981825@emag>
	<20080602184428.GB5261@34-mo7-2.acn.waw.pl>
	<07386B36-1BC6-4374-A375-9E932AB1F274@syenar.hu>
Message-ID: <20080602200221.GC5598@34-mo7-2.acn.waw.pl>

On Mon, 02 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> >>-DHB_GUI
> >It disables inkey polling in main HVM loop.
> >In normal programs it means that K_ALT_C and K_ALT_D will
> >not work. It gives some small speed improvement.
> What do you think of making this a runtime option?
> (a Set())

The idea of using this macro was eliminating all possible
overhead from main HVM loop. Using and RT switch like new
set() does not make it. Anyhow current code can/should be
updated. See the note about hb_set.HB_SET_KEYPOLL I left
in main HVM loop few years ago.

> For HB_NO_DEBUG we're talking about maybe 4-6 CPU instructions
> per Harbour function call. Do we really need this? Is this
> measurable?

Just like for most of others. Probably only HB_GUI is HB_NO_PROFILER
are important because pending code is executed in each HVM loop (for
each PCODE). I'll make speed test for HB_GUI to check current difference.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Jun  2 16:04:42 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 16:05:46 2008
Subject: [Harbour] Warning on unused codeblock parameters
In-Reply-To: <20080602194648.GA5598@34-mo7-2.acn.waw.pl>
References: <AB3B59A2B23D48789CCDC95B2D36A95F@emag>
	<20080602194648.GA5598@34-mo7-2.acn.waw.pl>
Message-ID: <E14DFA5D-7296-4879-A3FB-B95FC76C796A@syenar.hu>

>> Please look at the following sample:
>> FUNCTION MAIN()
>>   LOCAL bTest := { | Param | MyFunc() }
>>   RETURN NIL
>> STATIC FUNCTION MYFUNC()
>>   RETURN NIL
>> The compiler shows this warning if /w2 or /w3 are used:
>> Warning W0004  Codeblock parameter: 'PARAM' declared but not used in
>> function: 'MAIN'
>> Is it expected?
>
> Yes, it's expected.
>   HB_SYMBOL_UNUSED( Param )
> disables the warning without any RT overhead.
>
>> I think it is common to not reference all the codeblock parameters.
>
> Probably yes though in some cases it may be usable and will help
> to locate wrong code. To make all people happy we will have to add
> compiler switch to disable this warning for codeblocks only, f.e.:
>      -kB      turn off unused codeblock parameter warnings

We may, but as the one having went through almost all
the Harbour + contrib code (and own app code) to fix these,
I can tell that in most cases the extra parameters were
simply sloppy coding. The most widespread one is:
AEval( a, {|x, y| whatever(x) } ) kind of code, where
y is simply superfluous as it's not used in most such
calls, so why polluting the source with it?

In my local reference codebase, which is roughly 30MB
of Clipper code, I had to add _only one_ SYMBOL_UNUSED
to a codeblock, and even in this case (which is a
TBColumn():colorBlock value BTW), the parameter could
well be dropped, but I left it there as a sort of
self-documentation.

In any case, this should be a -w modifier option, not
a -k one.

Not for this specific case, but otherwise I think
it would be very helpful to add _more_ warnings to
spot sloppy coding, like usage of '=' in assignments,
if() inline, old-style comments (*) and there are
many others obsolete construct with superior alternatives
in the language. This is a nice way to push the language
ahead, leave old ballast and let space for new stuff
and better quality code in general. (while not breaking
compatibility)

Brgds,
Viktor

From gvarona at ec-red.com  Mon Jun  2 16:18:43 2008
From: gvarona at ec-red.com (=?ISO-8859-2?Q?Guillermo_Varona_Silup=FA?=)
Date: Mon Jun  2 16:18:43 2008
Subject: [Harbour] Show symbol of the square root in console application
In-Reply-To: <20080602183237.GA5261@34-mo7-2.acn.waw.pl>
References: <484180EC.9060405@ec-red.com> <484437BB.5030008@ec-red.com>
	<20080602183237.GA5261@34-mo7-2.acn.waw.pl>
Message-ID: <484455A3.5020908@ec-red.com>

Przemyslaw Czerpak escribi?:
> On Mon, 02 Jun 2008, Guillermo Varona Silup? wrote:
>   
>> Any suggestions/tip for this?
>>     
>>> I have a small console application in which I want to show the symbol 
>>> of the square root, but the screen shows me at number 1 as superscript.
>>> What should I set to display the symbol of the square root?
>>> Env.: WinXP SP2 + Harbour + MinGW
>>>       
> It depends on used GT and font.
> What GT driver do you use?
>   
Using the GT and font default. I do not set any GT and font.
How do I know that GT and font that I am using?

TIA

Best Regards
GVS
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080602/edaaf5f2/attachment.html
From e.m.giordano at emagsoftware.it  Mon Jun  2 16:23:40 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Jun  2 16:23:44 2008
Subject: [Harbour] Warning on unused codeblock parameters
References: <AB3B59A2B23D48789CCDC95B2D36A95F@emag>
	<20080602194648.GA5598@34-mo7-2.acn.waw.pl>
Message-ID: <FC48A96211684ABFA780A318898C5C5F@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: lunedi 2 giugno 2008 21.46
Oggetto: Re: [Harbour] Warning on unused codeblock parameters


> To make all people happy we will have to add
> compiler switch to disable this warning for codeblocks only, f.e.:
>      -kB      turn off unused codeblock parameter warnings

It would be great.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic
From e.m.giordano at emagsoftware.it  Mon Jun  2 16:31:37 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Jun  2 16:31:42 2008
Subject: [Harbour] Warning on unused codeblock parameters
References: <AB3B59A2B23D48789CCDC95B2D36A95F@emag><20080602194648.GA5598@34-mo7-2.acn.waw.pl>
	<E14DFA5D-7296-4879-A3FB-B95FC76C796A@syenar.hu>
Message-ID: <833217051FCE4F0E847E8E868051F6C8@emag>


-----Messaggio Originale----- 
Da: "Szak?ts Viktor" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 2 giugno 2008 22.04
Oggetto: Re: [Harbour] Warning on unused codeblock parameters


> We may, but as the one having went through almost all
> the Harbour + contrib code (and own app code) to fix these,
> I can tell that in most cases the extra parameters were
> simply sloppy coding. The most widespread one is:
> AEval( a, {|x, y| whatever(x) } ) kind of code, where
> y is simply superfluous as it's not used in most such
> calls, so why polluting the source with it?

Please look at the following FWH sample:

#include "Fivewin.ch"


FUNCTION MAIN()

    LOCAL oDlg

    LOCAL cVar := SPACE( 30 )

    DEFINE DIALOG oDlg

    @ 1, 1 GET cVar;
           ON CHANGE MYFUNC()

    ACTIVATE DIALOG oDlg;
             CENTER

    RETURN NIL


STATIC FUNCTION MYFUNC()

    RETURN NIL

I get these warnings that I can't easily fix:

Warning W0004  Codeblock parameter: 'NKEY' declared but not used in 
function: 'MAIN'
Warning W0004  Codeblock parameter: 'NFLAGS' declared but not used in 
function: 'MAIN'
Warning W0004  Codeblock parameter: 'SELF' declared but not used in 
function: 'MAIN'

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Mon Jun  2 16:43:53 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 16:44:58 2008
Subject: [Harbour] Compile defines
In-Reply-To: <20080602200221.GC5598@34-mo7-2.acn.waw.pl>
References: <7064BB2792AA4C81BD1A191794981825@emag>
	<20080602184428.GB5261@34-mo7-2.acn.waw.pl>
	<07386B36-1BC6-4374-A375-9E932AB1F274@syenar.hu>
	<20080602200221.GC5598@34-mo7-2.acn.waw.pl>
Message-ID: <09163B2D-A517-425E-88B9-5C29FFED9A18@syenar.hu>

>> What do you think of making this a runtime option?
>> (a Set())
>
> The idea of using this macro was eliminating all possible
> overhead from main HVM loop. Using and RT switch like new
> set() does not make it. Anyhow current code can/should be
> updated. See the note about hb_set.HB_SET_KEYPOLL I left
> in main HVM loop few years ago.

That's why I was asking. But would one flag comparison
be such an overhead there?

>> For HB_NO_DEBUG we're talking about maybe 4-6 CPU instructions
>> per Harbour function call. Do we really need this? Is this
>> measurable?
>
> Just like for most of others. Probably only HB_GUI is HB_NO_PROFILER
> are important because pending code is executed in each HVM loop (for
> each PCODE). I'll make speed test for HB_GUI to check current  
> difference.

Thanks Przemek.

Also HB_NO_DEBUG... I saw these were added (along with NO_TRACE)
on request last year but IMO there are better ways to squeeze
more performance out of Harbour in general. If there is someone
who so badly needs more raw VM performance there are most
probably a dozen more stuff which could be commented out
of Harbour VM/RTL. These customization can be made locally
(not on repo) unless they aren't features which give
benefit for 'lots' of users IMO.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Jun  2 16:46:34 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  2 16:46:40 2008
Subject: [Harbour] Show symbol of the square root in console application
In-Reply-To: <484455A3.5020908@ec-red.com>
References: <484180EC.9060405@ec-red.com> <484437BB.5030008@ec-red.com>
	<20080602183237.GA5261@34-mo7-2.acn.waw.pl>
	<484455A3.5020908@ec-red.com>
Message-ID: <20080602204634.GD5598@34-mo7-2.acn.waw.pl>

On Mon, 02 Jun 2008, Guillermo Varona Silup? wrote:

Hi Guillermo,

> >It depends on used GT and font.
> >What GT driver do you use?
> Using the GT and font default. I do not set any GT and font.
> How do I know that GT and font that I am using?

to check GT driver you can run you program with //info switch, f.e:
   your_app //info
or add to your code:
   ? hb_gtVersion()

the default GT for Windows is GTWIN. The font used by GTWIN
is out of Harbour control. You can try to set it for your
console window by setting/changing its properties and/or
installing font with glyphs you want to use. Maybe some
windows users will help you and describe details. The default
font and encoding used by console window depends on windows
version and national setting. It's not Harbour problem.

best regards,
Przemek
From gvarona at ec-red.com  Mon Jun  2 17:07:34 2008
From: gvarona at ec-red.com (=?ISO-8859-2?Q?Guillermo_Varona_Silup=FA?=)
Date: Mon Jun  2 17:07:31 2008
Subject: [Harbour] Show symbol of the square root in console application
In-Reply-To: <20080602204634.GD5598@34-mo7-2.acn.waw.pl>
References: <484180EC.9060405@ec-red.com>
	<484437BB.5030008@ec-red.com>	<20080602183237.GA5261@34-mo7-2.acn.waw.pl>	<484455A3.5020908@ec-red.com>
	<20080602204634.GD5598@34-mo7-2.acn.waw.pl>
Message-ID: <48446116.8000708@ec-red.com>

Przemyslaw Czerpak escribi?:
> On Mon, 02 Jun 2008, Guillermo Varona Silup? wrote:
>
> Hi Guillermo,
>
>   
>>> It depends on used GT and font.
>>> What GT driver do you use?
>>>       
>> Using the GT and font default. I do not set any GT and font.
>> How do I know that GT and font that I am using?
>>     
>
> to check GT driver you can run you program with //info switch, f.e:
>    your_app //info
> or add to your code:
>    ? hb_gtVersion()
>   
Ok. Thank you Przmek.

This is the GT used:

D:\Tst_CT>tst_ct //info
Harbour Terminal: Win32 buffered console
Harbour devel build 1.1-1 Intl. (Rev. 8358)
Windows XP 5.1.2600 Service Pack 2
DS avail=190000KB  OS avail=2064124KB  EMM avail=0KB  MemStat:On
> the default GT for Windows is GTWIN. The font used by GTWIN
> is out of Harbour control. You can try to set it for your
> console window by setting/changing its properties and/or
> installing font with glyphs you want to use. Maybe some
> windows users will help you and describe details. The default
> font and encoding used by console window depends on windows
> version and national setting. It's not Harbour problem.
>   
Again, Thank you Przmek, it became clear to me.

Best Regars
GVS
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080602/0e862a04/attachment.html
From harbour.01 at syenar.hu  Mon Jun  2 17:20:52 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 17:21:58 2008
Subject: [Harbour] Warning on unused codeblock parameters
In-Reply-To: <833217051FCE4F0E847E8E868051F6C8@emag>
References: <AB3B59A2B23D48789CCDC95B2D36A95F@emag><20080602194648.GA5598@34-mo7-2.acn.waw.pl>
	<E14DFA5D-7296-4879-A3FB-B95FC76C796A@syenar.hu>
	<833217051FCE4F0E847E8E868051F6C8@emag>
Message-ID: <65E7DB84-6852-4839-884B-008EF786F86D@syenar.hu>

Well, yes, unfortunately these should be fixed in
FiveWin.ch.

Okay for me. We need to find out the layout of the
granular -w switch.

I'd propose:
-w<alpha>[+/-] where alpha is single (case-sensitive)
alphabetic letter.

For this one, case sensitivity makes sense, as we can
end up with quote some options. (I'll also leave -k in
this regard).

Also -w? could bring up a subscreen with the possible
options, like -k.

Brgds,
Viktor

On 2008.06.02., at 22:31, Enrico Maria Giordano wrote:

>
> -----Messaggio Originale----- Da: "Szak?ts Viktor" <harbour.01@syenar.hu 
> >
> A: "Harbour Project Main Developer List." <harbour@harbour- 
> project.org>
> Data invio: luned? 2 giugno 2008 22.04
> Oggetto: Re: [Harbour] Warning on unused codeblock parameters
>
>
>> We may, but as the one having went through almost all
>> the Harbour + contrib code (and own app code) to fix these,
>> I can tell that in most cases the extra parameters were
>> simply sloppy coding. The most widespread one is:
>> AEval( a, {|x, y| whatever(x) } ) kind of code, where
>> y is simply superfluous as it's not used in most such
>> calls, so why polluting the source with it?
>
> Please look at the following FWH sample:
>
> #include "Fivewin.ch"
>
>
> FUNCTION MAIN()
>
>   LOCAL oDlg
>
>   LOCAL cVar := SPACE( 30 )
>
>   DEFINE DIALOG oDlg
>
>   @ 1, 1 GET cVar;
>          ON CHANGE MYFUNC()
>
>   ACTIVATE DIALOG oDlg;
>            CENTER
>
>   RETURN NIL
>
>
> STATIC FUNCTION MYFUNC()
>
>   RETURN NIL
>
> I get these warnings that I can't easily fix:
>
> Warning W0004  Codeblock parameter: 'NKEY' declared but not used in  
> function: 'MAIN'
> Warning W0004  Codeblock parameter: 'NFLAGS' declared but not used  
> in function: 'MAIN'
> Warning W0004  Codeblock parameter: 'SELF' declared but not used in  
> function: 'MAIN'
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Mon Jun  2 17:29:12 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  2 17:29:18 2008
Subject: [Harbour] Compile defines
In-Reply-To: <09163B2D-A517-425E-88B9-5C29FFED9A18@syenar.hu>
References: <7064BB2792AA4C81BD1A191794981825@emag>
	<20080602184428.GB5261@34-mo7-2.acn.waw.pl>
	<07386B36-1BC6-4374-A375-9E932AB1F274@syenar.hu>
	<20080602200221.GC5598@34-mo7-2.acn.waw.pl>
	<09163B2D-A517-425E-88B9-5C29FFED9A18@syenar.hu>
Message-ID: <20080602212912.GE5598@34-mo7-2.acn.waw.pl>

On Mon, 02 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> >Just like for most of others. Probably only HB_GUI is HB_NO_PROFILER
> >are important because pending code is executed in each HVM loop (for
> >each PCODE). I'll make speed test for HB_GUI to check current  
> >difference.

   #define N_LOOP 100000000
   proc main()
   local t, i
   t:=secondsCPU()
   for i:=1 to N_LOOP
   next
   ? secondsCPU()-t
   return

In this code the speed difference is about 4.3% (12.77 vs. 12.24).
Not too much but noticeable. Of course it's not realistic example
and in normal code which calls functions the difference will be
much smaller anyhow it illustrates the cost of single if() in main
HVM loop.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Jun  2 17:46:16 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 17:46:11 2008
Subject: [Harbour] 2008-06-02 23:33 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c4fa$Blat.v2.6.2$15c3ffb6$1e282b667c52@127.0.0.1>

2008-06-02 23:33 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/make_b32_all.bat
   * contrib/make_gcc_all.sh
   * contrib/make_vc_all.bat
   + contrib/hbsqlit2
   + contrib/hbsqlit2/Makefile
   + contrib/hbsqlit2/make_b32.bat
   + contrib/hbsqlit2/make_vc.bat
   + contrib/hbsqlit2/make_gcc.sh
   + contrib/hbsqlit2/common.mak
   + contrib/hbsqlit2/hbsqlit2.c
   + contrib/hbsqlit2/hbsqlit2.ch
   + contrib/hbsqlit2/LICENSE.txt
   + contrib/hbsqlit2/TODO.txt
   + contrib/hbsqlit2/readme.txt
   + contrib/hbsqlit2/attach.c
   + contrib/hbsqlit2/auth.c
   + contrib/hbsqlit2/btree.c
   + contrib/hbsqlit2/btree.h
   + contrib/hbsqlit2/btree_rb.c
   + contrib/hbsqlit2/build.c
   + contrib/hbsqlit2/config.h
   + contrib/hbsqlit2/copy.c
   + contrib/hbsqlit2/date.c
   + contrib/hbsqlit2/delete.c
   + contrib/hbsqlit2/encode.c
   + contrib/hbsqlit2/expr.c
   + contrib/hbsqlit2/func.c
   + contrib/hbsqlit2/hash.c
   + contrib/hbsqlit2/hash.h
   + contrib/hbsqlit2/insert.c
   + contrib/hbsqlit2/main.c
   + contrib/hbsqlit2/opcodes.c
   + contrib/hbsqlit2/opcodes.h
   + contrib/hbsqlit2/os.c
   + contrib/hbsqlit2/os.h
   + contrib/hbsqlit2/pager.c
   + contrib/hbsqlit2/pager.h
   + contrib/hbsqlit2/parse.c
   + contrib/hbsqlit2/parse.h
   + contrib/hbsqlit2/pragma.c
   + contrib/hbsqlit2/printf.c
   + contrib/hbsqlit2/random.c
   + contrib/hbsqlit2/select.c
   + contrib/hbsqlit2/sqlite.h
   + contrib/hbsqlit2/sqliteInt.h
   + contrib/hbsqlit2/table.c
   + contrib/hbsqlit2/tokenize.c
   + contrib/hbsqlit2/trigger.c
   + contrib/hbsqlit2/update.c
   + contrib/hbsqlit2/util.c
   + contrib/hbsqlit2/vacuum.c
   + contrib/hbsqlit2/vdbe.c
   + contrib/hbsqlit2/vdbe.h
   + contrib/hbsqlit2/vdbeaux.c
   + contrib/hbsqlit2/vdbeInt.h
   + contrib/hbsqlit2/where.c
   + contrib/hbsqlit2/tests/bld_b32.bat
   + contrib/hbsqlit2/tests/bld_vc.bat
   + contrib/hbsqlit2/tests/example.db
   + contrib/hbsqlit2/tests/hbsqlite.prg
     + Added hbsqlit2 SQLite 2.x interface library.

       With kind permission from the author:
       Alejandro de G?rate <alex_degarate/at/hotmail.com>

     + Some renames were done here too to better fit into 
       the contrib structure.
     + Added std make files.
     + Added to 'all' make files.
     + Added foreign SQLite 2.8.16 (final 2.x version)
       source code to the repository.
       Compiles with an okay amount of warnings under BCC but 
       doesn't compile in C++ mode in MSVC (due to missing 
       casts).
     ; NOTE: I've added this because this is the original 
             SQLite Harbour interface, clean and working 
             implementation, and SQLite 2 is incompatible 
             with 3, and some may need to access existing 
             2.x databases from Harbour.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun  2 18:02:22 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 18:03:27 2008
Subject: [Harbour] Compile defines
In-Reply-To: <20080602212912.GE5598@34-mo7-2.acn.waw.pl>
References: <7064BB2792AA4C81BD1A191794981825@emag>
	<20080602184428.GB5261@34-mo7-2.acn.waw.pl>
	<07386B36-1BC6-4374-A375-9E932AB1F274@syenar.hu>
	<20080602200221.GC5598@34-mo7-2.acn.waw.pl>
	<09163B2D-A517-425E-88B9-5C29FFED9A18@syenar.hu>
	<20080602212912.GE5598@34-mo7-2.acn.waw.pl>
Message-ID: <609D30BF-BE96-4AE9-93C7-FAFF67602B41@syenar.hu>

>>>
Hi Przemek,

>>> Just like for most of others. Probably only HB_GUI is HB_NO_PROFILER
>>> are important because pending code is executed in each HVM loop (for
>>> each PCODE). I'll make speed test for HB_GUI to check current
>>> difference.
>
>   #define N_LOOP 100000000
>   proc main()
>   local t, i
>   t:=secondsCPU()
>   for i:=1 to N_LOOP
>   next
>   ? secondsCPU()-t
>   return
>
> In this code the speed difference is about 4.3% (12.77 vs. 12.24).
> Not too much but noticeable. Of course it's not realistic example
> and in normal code which calls functions the difference will be
> much smaller anyhow it illustrates the cost of single if() in main
> HVM loop.

Hm, even less difference for HB_NO_DEBUG, below 2%.
(this value is below normal OS background processing)

Dunno, we may leave both as non-documented modifiers,
but this kind of optimization is like if you'd drop
out the passenger seat from your car to get a slightly
better 0-100 run. Some ppl even turn off headlights
with the same goal :)

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun  2 20:09:02 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  2 20:08:57 2008
Subject: [Harbour] 2008-06-03 01:31 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c50e$Blat.v2.6.2$0776554e$23cc55bf5d2e@127.0.0.1>

2008-06-03 01:31 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * source/vm/extend.c
     ! hb_storclen_buffer() fixed to free the passed buffer 
       in case it couldn't be stored. This situation was 
       easy to miss and difficult to detect for the caller, 
       and it might cause leaks.
      
   * contrib/hbw32/Makefile
   * contrib/hbw32/common.mak
   + contrib/hbw32/hbw32.ch
   + contrib/hbw32/w32_reg.prg
   + contrib/hbw32/w32_regc.c
   + contrib/hbw32/tests/testreg.prg
     + Added Windows registry handling stuff.
       Work of Peter Rees <peter@rees.co.nz> / xhb.
     * Code cleaned, formatted, optimized a bit.
     + Added an even simpler interface:
       w32_regRead( <reg_path> ) -> xValue
       w32_regWrite( <reg_path>, <value> ) -> <lSuccess>
       where <reg_path> is: "HKCU\key[\subkeys]\entry"
--
Brgds,
Viktor

From ssbbs at mail.zzz.com.tw  Mon Jun  2 20:18:02 2008
From: ssbbs at mail.zzz.com.tw ({TE(WenSheng))
Date: Mon Jun  2 20:18:16 2008
Subject: [Harbour] Harbour & Unicode
In-Reply-To: <01c8c50e$Blat.v2.6.2$0776554e$23cc55bf5d2e@127.0.0.1>
References: <01c8c50e$Blat.v2.6.2$0776554e$23cc55bf5d2e@127.0.0.1>
Message-ID: <20080603081552.726B.SSBBS@mail.zzz.com.tw>


We are ASIA country, We need unicode support,
Who can help us?

ps.At M$ is not Linux.
From philb at philb.us  Mon Jun  2 20:52:58 2008
From: philb at philb.us (Phil Barnett)
Date: Mon Jun  2 20:53:01 2008
Subject: [Harbour] Release Time
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECA0@SRV02.deltain.net>
References: <200806012300.58789.philb@philb.us>
	<AFB948164110ED43B5EB849E8DEEF03815ECA0@SRV02.deltain.net>
Message-ID: <200806022052.58113.philb@philb.us>

On Monday 02 June 2008 01:05:15 pm Massimo Belgrano wrote:
> What about new harbour's web site and fidonet group?

What about it?

I thought fidonet died about 15 years ago...

-- 
Waiting for sunspots.
From jarabal at ya.com  Mon Jun  2 22:14:39 2008
From: jarabal at ya.com (Javier)
Date: Mon Jun  2 22:14:52 2008
Subject: [Harbour] 2008-06-02 20:16 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8c4de$Blat.v2.6.2$b56ed002$a7c99375f68@127.0.0.1>
References: <01c8c4de$Blat.v2.6.2$b56ed002$a7c99375f68@127.0.0.1>
Message-ID: <4844A90F.2080905@ya.com>

Thanks Viktor,

Why not complete?
In order to send out to full printers and terminals may be useful.

HB_EXPORT char * hb_strRemEscSeq( char *str, ULONG *pLen )
{
   ULONG ul = *pLen, ulStripped = 0;
   char *ptr, *dst, ch;

   ptr = dst = str;
   while( ul )
   {
      if( *ptr == '\\' )
         break;
      ++ptr; ++dst;
      --ul;
   }

   while( ul-- )
   {
      ch = *ptr++;
      if( ch == '\\' )
      {
         ++ulStripped;
         if( ul )
         {
            ul--;
            ch = *ptr++;
            switch( ch )
            {
               case 'a': ch = '\a'; break;
               case 'b':
                  ch = '\b';
                  break;
               case 'f': ch = '\f'; break;
               case 'n':
                  ch = '\n';
                  break;
               case 'r':
                  ch = '\r';
                  break;
               case 't':
                  ch = '\t';
                  break;
               case 'v': ch = '\v'; break;
               case '0':
               case '1':
               case '2':
               case '3':
               case '4':
               case '5':
               case '6':
               case '7':
                  ch -= '0';
                  if( ul && *ptr >= '0' && *ptr <= '7' )
                  {
                     ch = ( ch << 3 ) | ( *ptr++ - '0' );
                     ++ulStripped;
                     if( --ul && *ptr >= '0' && *ptr <= '7' )
                     {
                        ch = ( ch << 3 ) | ( *ptr++ - '0' );
                        ++ulStripped;
                        --ul;
                     }
                  }
                  break;
               case 'x':
                  ch = 0;
                  while( ul )
                  {
                     if( *ptr >= '0' && *ptr <= '9' )
                        ch = ( ch << 4 ) | ( *ptr++ - '0' );
                     else if( *ptr >= 'A' && *ptr <= 'F' )
                        ch = ( ch << 4 ) | ( *ptr++ - 'A' + 10 );
                     else if( *ptr >= 'a' && *ptr <= 'f' )
                        ch = ( ch << 4 ) | ( *ptr++ - 'a' + 10 );
                     else
                        break;
                     ++ulStripped;
                     --ul;
                  }
                  break;
               default: /* case '\\': // Also any ch */
                  break;
            }
         }
         else
            break;

      }
      *dst++ = ch;
   }

   if( ulStripped )
   {
      *dst = '\0';
      *pLen -= ulStripped;
   }

   return str;
}

best regards
Xavi

Szak?ts Viktor escribi?:
> 2008-06-02 20:16 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>    * source/common/hbstr.c
>      ! HB_EXPORT added to hb_strRemEscSeq(). Thanks Javier.
> --
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>   
From eghorbino at yahoo.com  Tue Jun  3 00:20:04 2008
From: eghorbino at yahoo.com (Edmer)
Date: Tue Jun  3 00:20:07 2008
Subject: [Harbour] GLOBAL statement
Message-ID: <17615771.post@talk.nabble.com>


Hi Guys,

Is xHarbour's GLOBAL and GLOBAL EXTERNAL statements supported in Harbour ?

Thanks,
Ed

-- 
View this message in context: http://www.nabble.com/GLOBAL-statement-tp17615771p17615771.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Jun  3 02:25:48 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun  3 02:26:53 2008
Subject: [Harbour] 2008-06-02 20:16 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <4844A90F.2080905@ya.com>
References: <01c8c4de$Blat.v2.6.2$b56ed002$a7c99375f68@127.0.0.1>
	<4844A90F.2080905@ya.com>
Message-ID: <FEEB4824-C8F0-4776-9DFA-EB11FDA91242@syenar.hu>

Hi Javier,

 > Why not complete?

I can only guess: No one has written such
a wrapper, yet.

IMO though, besides the conversion itself,
sending out the stripped string to any output
device is not the job of such wrapper.
You can do the latter with existing functions.

Brgds,
Viktor

On 2008.06.03., at 4:14, Javier wrote:

> Thanks Viktor,
>
> Why not complete?
> In order to send out to full printers and terminals may be useful.
>
> HB_EXPORT char * hb_strRemEscSeq( char *str, ULONG *pLen )
> {
>  ULONG ul = *pLen, ulStripped = 0;
>  char *ptr, *dst, ch;
>
>  ptr = dst = str;
>  while( ul )
>  {
>     if( *ptr == '\\' )
>        break;
>     ++ptr; ++dst;
>     --ul;
>  }
>
>  while( ul-- )
>  {
>     ch = *ptr++;
>     if( ch == '\\' )
>     {
>        ++ulStripped;
>        if( ul )
>        {
>           ul--;
>           ch = *ptr++;
>           switch( ch )
>           {
>              case 'a': ch = '\a'; break;
>              case 'b':
>                 ch = '\b';
>                 break;
>              case 'f': ch = '\f'; break;
>              case 'n':
>                 ch = '\n';
>                 break;
>              case 'r':
>                 ch = '\r';
>                 break;
>              case 't':
>                 ch = '\t';
>                 break;
>              case 'v': ch = '\v'; break;
>              case '0':
>              case '1':
>              case '2':
>              case '3':
>              case '4':
>              case '5':
>              case '6':
>              case '7':
>                 ch -= '0';
>                 if( ul && *ptr >= '0' && *ptr <= '7' )
>                 {
>                    ch = ( ch << 3 ) | ( *ptr++ - '0' );
>                    ++ulStripped;
>                    if( --ul && *ptr >= '0' && *ptr <= '7' )
>                    {
>                       ch = ( ch << 3 ) | ( *ptr++ - '0' );
>                       ++ulStripped;
>                       --ul;
>                    }
>                 }
>                 break;
>              case 'x':
>                 ch = 0;
>                 while( ul )
>                 {
>                    if( *ptr >= '0' && *ptr <= '9' )
>                       ch = ( ch << 4 ) | ( *ptr++ - '0' );
>                    else if( *ptr >= 'A' && *ptr <= 'F' )
>                       ch = ( ch << 4 ) | ( *ptr++ - 'A' + 10 );
>                    else if( *ptr >= 'a' && *ptr <= 'f' )
>                       ch = ( ch << 4 ) | ( *ptr++ - 'a' + 10 );
>                    else
>                       break;
>                    ++ulStripped;
>                    --ul;
>                 }
>                 break;
>              default: /* case '\\': // Also any ch */
>                 break;
>           }
>        }
>        else
>           break;
>
>     }
>     *dst++ = ch;
>  }
>
>  if( ulStripped )
>  {
>     *dst = '\0';
>     *pLen -= ulStripped;
>  }
>
>  return str;
> }
>
> best regards
> Xavi
>
> Szak?ts Viktor escribi?:
>> 2008-06-02 20:16 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>>   * source/common/hbstr.c
>>     ! HB_EXPORT added to hb_strRemEscSeq(). Thanks Javier.
>> --
>> Brgds,
>> Viktor
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>

From niki at synel.co.il  Tue Jun  3 02:36:00 2008
From: niki at synel.co.il (Chen Kedem)
Date: Tue Jun  3 02:35:47 2008
Subject: [Harbour] Show symbol of the square root in console application
Message-ID: <4844E650.22D7@synel.co.il>

Guillermo,

try this code:

---zz2.prg---
proc test
? chr(251) + "4 = 2"
return
-------------

bld_b32 zz2 /w/a/n
zz2

It works on my NT 4.0 and Win2K both full screen and windowed.
My systems are Hebrew enabled, on your code page you might not
have CHR(251) as square root.


  Chen.
From harbour.01 at syenar.hu  Tue Jun  3 03:14:18 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun  3 03:14:12 2008
Subject: [Harbour] 2008-06-03 09:11 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c549$Blat.v2.6.2$702569e6$25685a9e680@127.0.0.1>

2008-06-03 09:11 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * include/rdd.api
     + Added necessary conversions.
     ; NOTE: 3 functions are not yet implemented in Harbour.

   * contrib/hbw32/w32_regc.c
   * contrib/hbw32/tests/testreg.prg
     % Optimizations.
     * Formatting.

   * contrib/hbw32/w32_ole.c
     ! Fixed indentation.

   * contrib/hbhpdf/harupdf.c
     ! Fixed hpdf_ReadFromStream() fixed to not overflow 
       to buffer in hb_storlen_buffer().
--
Brgds,
Viktor

From druzus at acn.waw.pl  Tue Jun  3 03:50:57 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun  3 03:51:04 2008
Subject: [SPAM]  [Harbour] GLOBAL statement
In-Reply-To: <17615771.post@talk.nabble.com>
References: <17615771.post@talk.nabble.com>
Message-ID: <20080603075057.GA7275@34-mo7-2.acn.waw.pl>

On Mon, 02 Jun 2008, Edmer wrote:

Hi Ed,

> Hi Guys,
> Is xHarbour's GLOBAL and GLOBAL EXTERNAL statements supported in Harbour ?

No it isn't.
I have patches for GLOBALs implementation but I'm waiting for MT mode
and final solution for memvars and PUBLICs. If I'll made all memvars
thread oritented then I'll intorduce GLOBALs otherwise if PUBLIC will
be shared between threads then rather not though I hope that we will
talk about it later. It should be group decision.

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Tue Jun  3 03:59:31 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Jun  3 03:59:35 2008
Subject: [Harbour] Warning on unused codeblock parameters
References: <AB3B59A2B23D48789CCDC95B2D36A95F@emag><20080602194648.GA5598@34-mo7-2.acn.waw.pl><E14DFA5D-7296-4879-A3FB-B95FC76C796A@syenar.hu><833217051FCE4F0E847E8E868051F6C8@emag>
	<65E7DB84-6852-4839-884B-008EF786F86D@syenar.hu>
Message-ID: <6C240A8D202A4A0A9800C37B5C5AA09D@emag>


-----Messaggio Originale----- 
Da: "Szak?ts Viktor" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 2 giugno 2008 23.20
Oggetto: Re: [Harbour] Warning on unused codeblock parameters


> Well, yes, unfortunately these should be fixed in
> FiveWin.ch.

No, it could be fixed only in my code:

ON CHANGE MYFUNC( nKey, nFlags, Self )

But it would be a huge work.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Tue Jun  3 04:01:59 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun  3 04:03:05 2008
Subject: [Harbour] HB_TRACE and MT
Message-ID: <058B1CA7-ACF2-4C51-A90C-B6B98EBC99C7@syenar.hu>

Hi Przemek,

Just a quick note; taking a quick look into the
common/hbtrace.c code, it doesn't seem MT friendly,
and it's used all over the code.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Jun  3 04:05:30 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun  3 04:05:35 2008
Subject: [Harbour] 2008-06-03 01:31 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8c50e$Blat.v2.6.2$0776554e$23cc55bf5d2e@127.0.0.1>
References: <01c8c50e$Blat.v2.6.2$0776554e$23cc55bf5d2e@127.0.0.1>
Message-ID: <20080603080530.GA10418@34-mo7-2.acn.waw.pl>

On Tue, 03 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> 2008-06-03 01:31 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>    * source/vm/extend.c
>      ! hb_storclen_buffer() fixed to free the passed buffer 
>        in case it couldn't be stored. This situation was 
>        easy to miss and difficult to detect for the caller, 
>        and it might cause leaks.

We cannot leave it in such form because now we have real problem.
So far caller could check the return value from hb_storclen_buffer()
and free the pointer when it was 0, f.e.:

   if( !hb_storclen_buffer( szText, ulLen, 1 ) )
      hb_xfree( szText );

And there was no memory leak for such code at all.
Now it's not possible because hb_arraySetCPtr() may return FALSE
and we have real memory leak.

This modification should be reverted or we should update all other
functions like hb_storptrGC(), hb_arraySetCPtr(), hb_arraySetPtrGC(),
etc. to keep compatible behavior instead of create exceptions.
I do not know if it's good idea because it will forbid to make
code like:

   if( !hb_storclen_buffer( szText, ulLen, 1 ) )
   {
      if( !hb_storclen_buffer( szText, ulLen, 2 ) )
      {
         hb_retclen_buffer( szText, ulLen );
      }
   }

I would like to hear other developers opinion too.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Jun  3 04:07:21 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun  3 04:08:25 2008
Subject: [Harbour] 2008-06-03 01:31 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <20080603080530.GA10418@34-mo7-2.acn.waw.pl>
References: <01c8c50e$Blat.v2.6.2$0776554e$23cc55bf5d2e@127.0.0.1>
	<20080603080530.GA10418@34-mo7-2.acn.waw.pl>
Message-ID: <4CF73200-E196-4A38-B868-FD77EA4DFF8A@syenar.hu>

Hi Przemek,

You're right, I'll fix it.

Brgds,
Viktor

On 2008.06.03., at 10:05, Przemyslaw Czerpak wrote:

> On Tue, 03 Jun 2008, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>> 2008-06-03 01:31 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>>   * source/vm/extend.c
>>     ! hb_storclen_buffer() fixed to free the passed buffer
>>       in case it couldn't be stored. This situation was
>>       easy to miss and difficult to detect for the caller,
>>       and it might cause leaks.
>
> We cannot leave it in such form because now we have real problem.
> So far caller could check the return value from hb_storclen_buffer()
> and free the pointer when it was 0, f.e.:
>
>   if( !hb_storclen_buffer( szText, ulLen, 1 ) )
>      hb_xfree( szText );
>
> And there was no memory leak for such code at all.
> Now it's not possible because hb_arraySetCPtr() may return FALSE
> and we have real memory leak.
>
> This modification should be reverted or we should update all other
> functions like hb_storptrGC(), hb_arraySetCPtr(), hb_arraySetPtrGC(),
> etc. to keep compatible behavior instead of create exceptions.
> I do not know if it's good idea because it will forbid to make
> code like:
>
>   if( !hb_storclen_buffer( szText, ulLen, 1 ) )
>   {
>      if( !hb_storclen_buffer( szText, ulLen, 2 ) )
>      {
>         hb_retclen_buffer( szText, ulLen );
>      }
>   }
>
> I would like to hear other developers opinion too.
>
> best regards,
> Przemek

From dmacias at mail.udg.mx  Tue Jun  3 04:18:51 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Tue Jun  3 04:18:55 2008
Subject: [Harbour] Re: Harbour under OS/2 - eCS
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <4844FE6B.8010106@mail.udg.mx>

Viktor

 >I have run out of ideas then, sorry.

 >You could still try to remove all OS/2 stuff from
 >extrap.c and see if it helps. In all OS/2 stuff
 >I mean everything which is guarded with HB_OS_OS2.

As I see, extrap.c is a new file with code extracted from other files

To test I started with bottom of extrap.c
I commented content of hb_vmUnsetExceptionHandler( void ), included 
below, and error disappear

I do not know what this function does, but it can help you to make changes

What other tests/comments do you suggest ?

David Macias


void hb_vmUnsetExceptionHandler( void )
{
#if defined(HB_OS_OS2) /* Add OS2TermHandler to this thread's chain of 
exception handlers */
//   {
//      EXCEPTIONREGISTRATIONRECORD RegRec;    /* Exception Registration 
Record */
//      APIRET rc;                             /* Return code 
         */

//      memset( &RegRec, 0, sizeof( RegRec ) );
//      RegRec.ExceptionHandler = ( ERR ) hb_os2ExceptionHandler;
//      /* I don't do any check on return code since harbour is exiting 
in any case */
//      rc = DosUnsetExceptionHandler( &RegRec );
//      HB_SYMBOL_UNUSED( rc );
//   }
#endif
}


From druzus at acn.waw.pl  Tue Jun  3 04:20:42 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun  3 04:20:47 2008
Subject: [Harbour] HB_TRACE and MT
In-Reply-To: <058B1CA7-ACF2-4C51-A90C-B6B98EBC99C7@syenar.hu>
References: <058B1CA7-ACF2-4C51-A90C-B6B98EBC99C7@syenar.hu>
Message-ID: <20080603082042.GB10418@34-mo7-2.acn.waw.pl>

On Tue, 03 Jun 2008, Szak?ts Viktor wrote:
> Hi Przemek,
> Just a quick note; taking a quick look into the
> common/hbtrace.c code, it doesn't seem MT friendly,
> and it's used all over the code.

Just like many other things below I'm attaching some small
list I extracted from my MT repository copy. It's not full list
and some things are already discarded but it shows part of
problem. Some of items below I've already updated some other
I'll update later. Most of other things which didn't need any
special synchronization mechanisms I've already changed and
this is in current SVN repository.
Also hbtrace will be updated but 1-st I will have to rethink
the form of multi threads logs.
BTW HB_TRACE() is not used in default compilation and fully
stripped so it's used only in custom debug builds.

best regards,
Przemek





*** HVM ***

hvm.c
=====
   hb_ulOpcodesCalls    \
   hb_ulOpcodesTime      > profiler
   hb_bProfiler         /

   s_bDebugging         \
   s_bDebugRequest       \
   s_pDynsDbgEntry        > debugger
   s_pFunDbgEntry        /

   hb_bTracePrgCalls    - prg tracing

   s_pSymbols     \
   s_ulFreeSymbols \ PCODE module registering
   s_hDynLibID     / MUTEX in HB_LIBLOAD()/__HRBLOAD()
   s_fCloneSym    /

   s_pSymStart    \
   s_pszLinkedMain \
   s_VMFlags        \
   s_VMCancelKey     > startup code or executed once
   s_VMCancelKeyEx  /
   s_fDoExitProc   /
   s_fHVMActive   /
   s_nErrorLevel /

   s_InitFunctions \ MUTEX
   s_ExitFunctions /

   s_aStatics      - MUTEX


classes.c
=========
   s_pClasses
   s_uiClasses

dynsym.c
========
   s_pDynItems           \
   s_uiDynSymbols         > TODO: protect with critical section
   s_pAllocSyms          /
   s_uiClosestDynSym    /


estack.c
========
   hb_stack

fm.c
====
   s_lMemoryBlocks       \
   s_lMemoryMaxBlocks     \
   s_lMemoryMaxConsumed    > TODO: protect with critical section
   s_lMemoryConsumed      /
   s_pFirstBlock         /
   s_pLastBlock         /

garbage.c
=========
   s_pCurrBlock          \
   s_pLockedBlock         \
   s_pDeletedBlock         > TODO: protect with critical section
   s_pSweepExtern         /
   s_bCollecting         /
   s_uUsedFlag          /

macro.c
=======
   s_macroFlags         //TODO: hb_stack

memvars.c
=========
   s_privateStack       //TODO: hb_stack
   s_privateStackSize   //TODO: hb_stack
   s_privateStackCnt    //TODO: hb_stack
   s_privateStackBase   //TODO: hb_stack

   s_globalTable         \
   s_globalTableSize      > TODO: protect with critical section
   s_globalFirstFree     /
   s_globalLastFree     /

*** COMMON ***

hbver.c
=======
   s_fWinNT
   s_fInited

hbtrace.c
=========
   s_enabled
   s_flush
   s_fp
   s_slevel
   s_level


*** RTL ***

cdpapi.c
========
   hb_cdp_page    - TODO: hb_stack
   s_cdpList      - const after startup initialization (CDP registration)

errorapi.c
==========
   s_errorHandler       \
   s_errorBlock          > TODO: hb_stack
   s_iLaunchCount       /

   s_uiErrorDOS         - global? better replaced by current FERROR()

filesys.c
=========
   s_fUseWaitLocks      - hack, keep it static as is
   s_byDirBuffer        //TODO: hb_stack

fserror.c
=========
   s_uiFError           //TODO: hb_stack
   s_uiErrorLast        //TODO: hb_stack
   s_uiOsErrorLast      //TODO: hb_stack

gtapi.c
=======
   s_bInit

hbgtcore.c
==========
   s_hStdIn    \
   s_hStdOut    > const
   s_hStdErr   /
   s_curGT     - //TODO: hb_stack


idle.c
======
   s_pIdleTasks
   s_bIamIdle
   s_uiIdleTask
   s_uiIdleMaxTask
   hb_vm_bCollectGarbage

inkey.c
=======
   s_inKeyBlockBefore   \
   s_inKeyBlockAfter     > TODO: TSD
   s_fInit              /

langapi.c
=========
   s_langList     - TODO: hb_stack
   s_lang         - const after startup initialization (LANG registration)

math.c
======
   s_hb_exc             \
   s_hb_matherr_mode     \
   s_mathHandlerProc      > leave it as is - it needs serious cleanup
   spMathErrorBlock      /
   sPrevMathHandler     /

set.c
=====
   sp_sl_first       \
   sp_sl_last         \  PHB_SET_LISTENER ???
   s_next_listener     > TODO: hb_stack
   sp_set_path        /
   hb_set            /

/*
INITIALIZED AT STARTUP, CONST LATER:
      console.c
         s_hFilenoStdin, s_hFilenoStdout, s_hFilenoStderr

LEAVE IT AS IS UNPROTECTED
      hbrandom.c
         s_fInit
         - maybe on some platform rand()/srand() should be
           covered by critical section

GLOBAL SETTINGs (do not change for MT mode):
      alert.prg
         s_lNoAlert

THREAD STATICs:
      getlist.prg
         s_oGetListActive, s_oGetListLast
      menuto.prg
         s_aLevel, s_nPointer
      perfuncs.prg
         s_aObjects
      readvar.prg
         s_cVarName
      text.prg
         s_cFile, s_lOldPrinter, s_lOldExtra, s_cOldExtraFile

TSD:
      xsavescr.c
      setkey.c
      accept.c
         s_szAcceptResult
      console.c
         s_uiPRow, s_uiPCol

CRITICAL SECTIONs:
      gtclip.c
         s_szClipboardData, s_ulClipboardLen
*/


*** RDD ***

wacore.c
========
   s_WaList       \
   s_uiWaMax       \
   s_uiWaSpace      > TODO: hb_stack
   s_WaNums        /
   s_uiWaNumMax   /

   s_uiCurrArea   \
   s_pCurrArea     > TODO: hb_stack
   s_fNetError    /

workarea.c
==========
   s_RddList      \ common for all threads synced by user
   s_uiRddMax     /


************************************************************
hsx.c
=====
   s_iHandleCount \
   s_iHandleSize   > TODO: TSD
   s_handleArray  /

usrrdd.c
========
   s_uiUsrNodes   \ common for all threads synced by user
   s_pUsrRddNodes /

m6funcs.c
=========
   s_ulRecords    - TODO: TSD

rmap1.c
=======
   s_rlError      \
   s_rlOptLevel    > TODO: TSD
   s_RM_bag       /

rmap2.c
=======
   s_byDelExp     \ thread safe
   s_ulDelExp     / const after initialization during first usage

rmcdx1.c
========
   s_uiRddId      \ const after RDD registration
   rmSuper        /

rmntx1.c
========
   s_uiRddId      \ const after RDD registration
   rmSuper        /


dbf1.c
======
   s_uiRddId      \ const after RDD registration
   dbfSuper       /

delim1.c
========
   delimSuper     - const after RDD registration

sbf1.c
======
   sdfSuper       - const after RDD registration

dbfcdx1.c
=========
   cdxSuper       \ const after RDD registration
   s_uiRddId      /

dbfdbt1.c
=========
   dbtSuper       - const after RDD registration

dbffpt1.c
=========
   fptSuper       \
   s_uiRddIdBLOB   > const after RDD registration
   s_uiRddIdFPT   /

dbfntx1.c
=========
   ntxSuper       \ const after RDD registration
   s_uiRddId      /

ads1.c
======
   adsSuper             \
   s_iSetListenerHandle  \
   s_uiRddCount           \
   s_uiRddIdADS            > const after RDD registration
   s_uiRddIdADSCDX        /
   s_uiRddIdADSNTX       /
   s_uiRddIdADT         /
From harbour.01 at syenar.hu  Tue Jun  3 04:41:45 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun  3 04:41:40 2008
Subject: [Harbour] 2008-06-03 10:12 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c555$Blat.v2.6.2$a79ed81a$20e4375b2558@127.0.0.1>

2008-06-03 10:12 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * source/vm/extend.c
     ! Reverted previous change. Caller should check the 
       retval of hb_storclen_buffer() and free the pointer 
       in case it's zero.
       Thanks Przemek.

   * contrib/hbw32/w32_regc.c
   * contrib/hbhpdf/harupdf.c
   * contrib/hbwhat32/_winsys.c
   * utils/hbmake/readline.c
     ! Fixed hb_storclen_buffer() calls.

   * contrib/hbwhat32/_winsys.c
     ! SYSTEMPARAMETERSINFO() fixed retval and leaks.
     ; Please test.

   * source/rtl/tget.prg
     ! Typo.
--
Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Tue Jun  3 04:55:23 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Jun  3 04:55:27 2008
Subject: [Harbour] HB_TRACE and MT
In-Reply-To: <20080603082042.GB10418@34-mo7-2.acn.waw.pl>
References: <058B1CA7-ACF2-4C51-A90C-B6B98EBC99C7@syenar.hu>
	<20080603082042.GB10418@34-mo7-2.acn.waw.pl>
Message-ID: <9257026e0806030155p4a923114nadacc1a5c35da4f2@mail.gmail.com>

2008/6/3 Przemyslaw Czerpak <druzus@acn.waw.pl>:

> Just like many other things below I'm attaching some small
> list I extracted from my MT repository copy. It's not full list
> ...
> BTW HB_TRACE() is not used in default compilation and fully
> stripped so it's used only in custom debug builds.

Just a question, isn't it an option to slip the rc1 and add the MT?

IMHO MT is a key feature and adding it to 1.1 or 2.0 will make 1.0
very soon obsolete.

We took 8 years to get to 1.0 we can wait some weeks/months for it.

If we need a release now we can call it beta4. Nobody expects main
changes between RCs.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Tue Jun  3 05:17:17 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun  3 05:18:29 2008
Subject: [Harbour] HB_TRACE and MT
In-Reply-To: <9257026e0806030155p4a923114nadacc1a5c35da4f2@mail.gmail.com>
References: <058B1CA7-ACF2-4C51-A90C-B6B98EBC99C7@syenar.hu>
	<20080603082042.GB10418@34-mo7-2.acn.waw.pl>
	<9257026e0806030155p4a923114nadacc1a5c35da4f2@mail.gmail.com>
Message-ID: <7FA54356-9FC4-4117-8D76-A9A6A6762B39@syenar.hu>

Hi Lorenzo,

We need to define why do we want a release.

IMO the main point of a release is to create
a stable core feature set for users not following
this list closely. Even better if there are no bugs,
but it would be a pipe dream to think there
won't be any found even after 1.0 FINAL.

For those who follow the list, the release may
seem like something superfluous (myself included),
but it's still important to build a user base.

The current state of Harbour is perfectly enough
for most ppl wanting to port Clipper apps to other
platforms, and even much more.

Consequently, I think we should to the release
rather quickly, since the feature set is stable by
now, and no major bugs are known. Fixing the rest
can always be done in the 1.0 RC branch.

Then we should unlock the feature set ASAP to go
for MT and the rest. I'm also awaiting these cool
things.

Brgds,
Viktor

On 2008.06.03., at 10:55, Lorenzo Fiorini wrote:

> 2008/6/3 Przemyslaw Czerpak <druzus@acn.waw.pl>:
>
>> Just like many other things below I'm attaching some small
>> list I extracted from my MT repository copy. It's not full list
>> ...
>> BTW HB_TRACE() is not used in default compilation and fully
>> stripped so it's used only in custom debug builds.
>
> Just a question, isn't it an option to slip the rc1 and add the MT?
>
> IMHO MT is a key feature and adding it to 1.1 or 2.0 will make 1.0
> very soon obsolete.
>
> We took 8 years to get to 1.0 we can wait some weeks/months for it.
>
> If we need a release now we can call it beta4. Nobody expects main
> changes between RCs.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Tue Jun  3 06:14:58 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Jun  3 06:15:02 2008
Subject: [Harbour] HB_TRACE and MT
In-Reply-To: <7FA54356-9FC4-4117-8D76-A9A6A6762B39@syenar.hu>
References: <058B1CA7-ACF2-4C51-A90C-B6B98EBC99C7@syenar.hu>
	<20080603082042.GB10418@34-mo7-2.acn.waw.pl>
	<9257026e0806030155p4a923114nadacc1a5c35da4f2@mail.gmail.com>
	<7FA54356-9FC4-4117-8D76-A9A6A6762B39@syenar.hu>
Message-ID: <9257026e0806030314p64a244c6n9dcd719350af2d42@mail.gmail.com>

On Tue, Jun 3, 2008 at 11:17 AM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Consequently, I think we should to the release
> rather quickly, since the feature set is stable by
> now, and no major bugs are known. Fixing the rest
> can always be done in the 1.0 RC branch.

I agree, but if we think that MT will come soon we should release a
beta4 not an RC.
An RC cycle will take time and for me RC means only bug fix.

It's not about features but about resources:
we'll have to wait for the final release of the 1.0 to add MT or start
a branch for 1.1 but the past has shown that keeping in sync two
branches is not so easy and not so useful since if programmers know
that there is sth more to come and they'll skip 1.0 for 1.1.

The "world" will compare Harbour 1.0 with other solutions and we know
how important is the "first look".
We are not a company but I think we all want Harbour be as successful
as possible.
More users means more developers and longer life and more users and
more programmers and...

best regards,
Lorenzo
From mbelgrano at deltain.it  Tue Jun  3 06:20:26 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Jun  3 06:20:31 2008
Subject: [Harbour] HB_TRACE and MT
In-Reply-To: <9257026e0806030155p4a923114nadacc1a5c35da4f2@mail.gmail.com>
References: <058B1CA7-ACF2-4C51-A90C-B6B98EBC99C7@syenar.hu><20080603082042.GB10418@34-mo7-2.acn.waw.pl>
	<9257026e0806030155p4a923114nadacc1a5c35da4f2@mail.gmail.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECA7@SRV02.deltain.net>

I agree with Lorenzo
MT is important feature and first we release first we have a stable mt
version
Also comparing harbour with other solution MT and Multi windows GT will
be important inclusion

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo
Fiorini
Sent: Tuesday, June 03, 2008 10:55 AM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] HB_TRACE and MT

2008/6/3 Przemyslaw Czerpak <druzus@acn.waw.pl>:

> Just like many other things below I'm attaching some small
> list I extracted from my MT repository copy. It's not full list
> ...
> BTW HB_TRACE() is not used in default compilation and fully
> stripped so it's used only in custom debug builds.

Just a question, isn't it an option to slip the rc1 and add the MT?

IMHO MT is a key feature and adding it to 1.1 or 2.0 will make 1.0
very soon obsolete.

We took 8 years to get to 1.0 we can wait some weeks/months for it.

If we need a release now we can call it beta4. Nobody expects main
changes between RCs.

best regards,
Lorenzo
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From niki at synel.co.il  Tue Jun  3 06:21:54 2008
From: niki at synel.co.il (Chen Kedem)
Date: Tue Jun  3 06:21:39 2008
Subject: [Harbour] Re: CodeGuard errors: demowvg
References: <483A589C.2577@synel.co.il>
Message-ID: <48451B42.4A81@synel.co.il>

On Mon, 26 May 2008, I wrote:
http://lists.harbour-project.org/pipermail/harbour/2008-May/007330.html
,-
| I compiled contrib/gtwvg/tests/demowvg.prg on Win32/BCC
|
| From the main menu, when I select Modeless Dialogs | Dialog First
| and then click on the mouse on the "(x)Harbour" entry of the listbox
| on the right, I get the following CodeGuard error:
`-

I found the cause of the error.
In contrib/gtwvg/wvtutils.c HB_FUNC( WIN_SENDMESSAGE )
there is a code like:

   if( cText )
   {
      char * szText = HB_TCHAR_CONVFROM( cText );
      hb_storc( szText, 4 );
      HB_TCHAR_FREE( szText );
      HB_TCHAR_FREE( cText );
   }

But, if UNICODE is not defined, HB_TCHAR_CONVFROM() just return
cText, which is actually hb_parc( 4 ) since HB_TCHAR_CONVTO() also
return the passed parameter as is when UNICODE is not defined
(see include/hbwince.h).

When you pass hb_parc( 4 ) as a parameter to hb_storc( szText, 4 ),
the source is freed before it can be used.

A dirty fix would be:

   if( cText )
   {
      #ifdef UNICODE
         char * szText = HB_TCHAR_CONVFROM( cText );
         hb_storc( szText, 4 );
         HB_TCHAR_FREE( szText );
      #else
         char * szText = hb_strdup( cText );
         hb_storc( szText, 4 );
         hb_xfree( szText );
      #endif
      HB_TCHAR_FREE( cText );
   }

It is dirty since you are not suppose to know that the HB_TCHAR_*
macros are depentent on UNICODE. Other options is to always
duplicate szText and free it (but then it looks less optimize to me).


  Chen.
From harbour.01 at syenar.hu  Tue Jun  3 06:33:16 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun  3 06:34:21 2008
Subject: [Harbour] HB_TRACE and MT
In-Reply-To: <9257026e0806030314p64a244c6n9dcd719350af2d42@mail.gmail.com>
References: <058B1CA7-ACF2-4C51-A90C-B6B98EBC99C7@syenar.hu>
	<20080603082042.GB10418@34-mo7-2.acn.waw.pl>
	<9257026e0806030155p4a923114nadacc1a5c35da4f2@mail.gmail.com>
	<7FA54356-9FC4-4117-8D76-A9A6A6762B39@syenar.hu>
	<9257026e0806030314p64a244c6n9dcd719350af2d42@mail.gmail.com>
Message-ID: <E54977A8-7B5B-4AB9-BBA7-19F9BDF47B11@syenar.hu>

>>
Hi Lorenzo,

>> Consequently, I think we should to the release
>> rather quickly, since the feature set is stable by
>> now, and no major bugs are known. Fixing the rest
>> can always be done in the 1.0 RC branch.
>
> I agree, but if we think that MT will come soon we should release a
> beta4 not an RC.
> An RC cycle will take time and for me RC means only bug fix.

The RC fixing cycle can go (should go in fact) in parallel
with next version development. There is no point, or technical
reason for idling to wait until 1.0 Final.

> It's not about features but about resources:
> we'll have to wait for the final release of the 1.0 to add MT or start
> a branch for 1.1 but the past has shown that keeping in sync two
> branches is not so easy and not so useful since if programmers know
> that there is sth more to come and they'll skip 1.0 for 1.1.

Ideally, if we have a stable state (which we believe
we have now), there is no need to do large scale fixing
in 1.0 branch. The critical fixes can be applied using few
resources, moreover this task can be done by _other ppl_
doing the actual fixes on the main branch. It's a matter
of selection and merge.

> The "world" will compare Harbour 1.0 with other solutions and we know
> how important is the "first look".

First look should rather be stable than full of potentially
rushed-in features IMO; it's a development platform after all :)
And MT doesn't look like a one week feature, next version is
not just about MT even.

> We are not a company but I think we all want Harbour be as successful
> as possible.
> More users means more developers and longer life and more users and
> more programmers and...

That's exactly why we should release.

I'm heading for today's repository tag done by Phil.

This is not a blocking one, but something which will
allow start implementing next version stuff while
still fixing bugs in 1.0 branch for an RCn -> 1.0 Final.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Tue Jun  3 06:35:11 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Jun  3 06:35:15 2008
Subject: [Harbour] HB_TRACE and MT
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECA7@SRV02.deltain.net>
References: <058B1CA7-ACF2-4C51-A90C-B6B98EBC99C7@syenar.hu>
	<20080603082042.GB10418@34-mo7-2.acn.waw.pl>
	<9257026e0806030155p4a923114nadacc1a5c35da4f2@mail.gmail.com>
	<AFB948164110ED43B5EB849E8DEEF03815ECA7@SRV02.deltain.net>
Message-ID: <9257026e0806030335w3849c0d4xce4330f1fb3086c9@mail.gmail.com>

On Tue, Jun 3, 2008 at 12:20 PM, Massimo Belgrano <mbelgrano@deltain.it> wrote:

> I agree with Lorenzo
> MT is important feature and first we release first we have a stable mt
> version
> Also comparing harbour with other solution MT and Multi windows GT will
> be important inclusion

Sorry I don't want to give the bad impression that I'm asking for sth:
the problem is the name not the time.

I'll try to make it simpler:

1.0 RC for me means "we have nothing more to add to this release, test
and find bugs"
1.0 beta4 means "not finished, test and find bugs"

MT will take it's time to come, but if we think we could add it in
weeks or months, I'll wait to name this release 1.0 RC.

For me saying sth like "this is 1.0 it hasn't MT right now but it'll
come soon" is a waste of resources.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Tue Jun  3 06:39:36 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun  3 06:40:47 2008
Subject: [Harbour] HB_TRACE and MT
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECA7@SRV02.deltain.net>
References: <058B1CA7-ACF2-4C51-A90C-B6B98EBC99C7@syenar.hu><20080603082042.GB10418@34-mo7-2.acn.waw.pl>
	<9257026e0806030155p4a923114nadacc1a5c35da4f2@mail.gmail.com>
	<AFB948164110ED43B5EB849E8DEEF03815ECA7@SRV02.deltain.net>
Message-ID: <CC41AADE-0E51-4879-8015-E2D852ABC622@syenar.hu>

Well, I can also cite some other such features,
and probably everybody can. But if we cannot
do a release, because we're all the time distracted
by these new feature, we will end up being in unstable
state forever, without a release.

Without a release there is no way do document
anything (unless someone wants to peek into every
ChangeLog entry, and wishes to work with a daily
build, both pretty scary for production level apps
for most normal user.)

Seems that 'release' is seen as something stopping
the project, while in fact the lack of the release
is what is really stopping it since some time. Now
we seem ready, let's do it.

Brgds,
Viktor

On 2008.06.03., at 12:20, Massimo Belgrano wrote:

> I agree with Lorenzo
> MT is important feature and first we release first we have a stable mt
> version
> Also comparing harbour with other solution MT and Multi windows GT  
> will
> be important inclusion
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo
> Fiorini
> Sent: Tuesday, June 03, 2008 10:55 AM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] HB_TRACE and MT
>
> 2008/6/3 Przemyslaw Czerpak <druzus@acn.waw.pl>:
>
>> Just like many other things below I'm attaching some small
>> list I extracted from my MT repository copy. It's not full list
>> ...
>> BTW HB_TRACE() is not used in default compilation and fully
>> stripped so it's used only in custom debug builds.
>
> Just a question, isn't it an option to slip the rc1 and add the MT?
>
> IMHO MT is a key feature and adding it to 1.1 or 2.0 will make 1.0
> very soon obsolete.
>
> We took 8 years to get to 1.0 we can wait some weeks/months for it.
>
> If we need a release now we can call it beta4. Nobody expects main
> changes between RCs.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Tue Jun  3 07:04:01 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Jun  3 07:04:06 2008
Subject: [Harbour] HB_TRACE and MT
In-Reply-To: <E54977A8-7B5B-4AB9-BBA7-19F9BDF47B11@syenar.hu>
References: <058B1CA7-ACF2-4C51-A90C-B6B98EBC99C7@syenar.hu>
	<20080603082042.GB10418@34-mo7-2.acn.waw.pl>
	<9257026e0806030155p4a923114nadacc1a5c35da4f2@mail.gmail.com>
	<7FA54356-9FC4-4117-8D76-A9A6A6762B39@syenar.hu>
	<9257026e0806030314p64a244c6n9dcd719350af2d42@mail.gmail.com>
	<E54977A8-7B5B-4AB9-BBA7-19F9BDF47B11@syenar.hu>
Message-ID: <9257026e0806030404w65546affvec61f9d3b3728318@mail.gmail.com>

On Tue, Jun 3, 2008 at 12:33 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> First look should rather be stable than full of potentially
> rushed-in features IMO; it's a development platform after all :)
> And MT doesn't look like a one week feature, next version is
> not just about MT even.

I agree that we need stable releases ( also more frequents, last was
almost a year ago )
but I can't understand why "wasting" and event like 1.0 with a simply
"stable release".

If we agree that the releases are for the "mass", the "mass" need good
reasons to use Harbour
and stability is "obvious" ( nodoby release "unstable" or at least
nobody say so ).

1.0 need to be "revolutionary" or at least be comparable feature by
feature with other similar solutions and be better on many of them,
since everybody expects that 1.0.x or 1.x will fix the bugs.

best regards,
Lorenzo
From niki at synel.co.il  Tue Jun  3 07:32:38 2008
From: niki at synel.co.il (Chen Kedem)
Date: Tue Jun  3 07:32:21 2008
Subject: [Harbour] HB_TRACE and MT
Message-ID: <48452BD6.775B@synel.co.il>

Lorenzo,

> I can't understand why "wasting" and event like 1.0 with
> a simply "stable release"
:
> 1.0 need to be "revolutionary" or at least be comparable
> feature by feature with other similar solutions and be better
> on many of them

Harbour 1.0 goal was/is to be the best Cliper 5.2 compatibe
open source multi-platform product.

With emphasis on the compatibility. No one said that MT is not
important, as I guess it is planned for future versions. But since
Clipper 5.x does not have MT, this feature is not essential for 1.0

If both Przemek and Viktor said it should be added after 1.0,
I trust that they know what they are saying, as not many people
grasp the amount of work needed to do it, and the free time they
are willing to spare to implement this.


  Chen.
From dbtopas at dbtopas.lt  Tue Jun  3 08:09:03 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Jun  3 08:11:01 2008
Subject: [Harbour] HB_TRACE and MT
In-Reply-To: <9257026e0806030314p64a244c6n9dcd719350af2d42@mail.gmail.com>
References: <058B1CA7-ACF2-4C51-A90C-B6B98EBC99C7@syenar.hu>	<20080603082042.GB10418@34-mo7-2.acn.waw.pl>	<9257026e0806030155p4a923114nadacc1a5c35da4f2@mail.gmail.com>	<7FA54356-9FC4-4117-8D76-A9A6A6762B39@syenar.hu>
	<9257026e0806030314p64a244c6n9dcd719350af2d42@mail.gmail.com>
Message-ID: <4845345F.2030304@dbtopas.lt>

> I agree, but if we think that MT will come soon we should release a
> beta4 not an RC.

Hi,


I really do not care, if it will be 1.0 or 0.1 release, but I want to 
have a stable release ASAP and SVN open for new features. I'm waiting 
for this for half a year, and I do not want to wait one more year.

I guess implementation of the final version of MT will be available in a 
year or more. I know Przemek has most of MT code ready, but we have not 
decided which resource (PUBLICS, work areas, etc) should be global and 
which thread dependent! Some things are in stage of discussion! The 
final MT tuning will take some time. We will have to find some not 
trivial bugs, because MT bugs hard to detect. There is no stable 
self-contained bug samples.

So, let's do a release now, or we will not have it for two more years.


Best regards,
Mindaugas


P.S. I see some people are chasing for version numbers: 1.0 now, 2.0 
multi-window GT, 3.0 MT, etc. I prefer more conservative way of 
versionning: 1.0 now, 1.2 multi-window GT, 1.4 MT, etc. (1.1, 1.3, etc, 
versions to be used for development/SVN code). Otherwise we will get 
version 8.0, 9.0, 10.0, 11.0 quite soon.
My personal feeling about products having version 0.8.6 is better, than 
about 11.0 SP2 products. Conservative version numbering makes me feeling 
product is steady/solid. Version 11.0 looks like 10.0 + one bugfix, and 
a possibility to get upgrade money from customers. 11.0 is more .com, 
0.8.6 is more .org. I hope we are .org.
From harbour.01 at syenar.hu  Tue Jun  3 08:21:27 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun  3 08:22:31 2008
Subject: [Harbour] HB_TRACE and MT
In-Reply-To: <4845345F.2030304@dbtopas.lt>
References: <058B1CA7-ACF2-4C51-A90C-B6B98EBC99C7@syenar.hu>	<20080603082042.GB10418@34-mo7-2.acn.waw.pl>	<9257026e0806030155p4a923114nadacc1a5c35da4f2@mail.gmail.com>	<7FA54356-9FC4-4117-8D76-A9A6A6762B39@syenar.hu>
	<9257026e0806030314p64a244c6n9dcd719350af2d42@mail.gmail.com>
	<4845345F.2030304@dbtopas.lt>
Message-ID: <2D927887-4B2F-4E74-ADF1-51CB326EB573@syenar.hu>

> P.S. I see some people are chasing for version numbers: 1.0 now, 2.0  
> multi-window GT, 3.0 MT, etc. I prefer more conservative way of  
> versionning: 1.0 now, 1.2 multi-window GT, 1.4 MT, etc. (1.1, 1.3,  
> etc, versions to be used for development/SVN code). Otherwise we  
> will get version 8.0, 9.0, 10.0, 11.0 quite soon.
> My personal feeling about products having version 0.8.6 is better,  
> than about 11.0 SP2 products. Conservative version numbering makes  
> me feeling product is steady/solid. Version 11.0 looks like 10.0 +  
> one bugfix, and a possibility to get upgrade money from customers.  
> 11.0 is more .com, 0.8.6 is more .org. I hope we are .org.

I agree.

Maybe even the NMAKE line numbering bug will
be fixed in MSVC 24.0, who knows!

Brgds,
Viktor

From philb at philb.us  Tue Jun  3 08:29:09 2008
From: philb at philb.us (Phil Barnett)
Date: Tue Jun  3 08:29:13 2008
Subject: [Harbour] HB_TRACE and MT
In-Reply-To: <9257026e0806030404w65546affvec61f9d3b3728318@mail.gmail.com>
References: <058B1CA7-ACF2-4C51-A90C-B6B98EBC99C7@syenar.hu>
	<E54977A8-7B5B-4AB9-BBA7-19F9BDF47B11@syenar.hu>
	<9257026e0806030404w65546affvec61f9d3b3728318@mail.gmail.com>
Message-ID: <200806030829.09795.philb@philb.us>

On Tuesday 03 June 2008 07:04:01 am Lorenzo Fiorini wrote:
> I agree that we need stable releases ( also more frequents, last was
> almost a year ago )
> but I can't understand why "wasting" and event like 1.0 with a simply
> "stable release".
>
> If we agree that the releases are for the "mass", the "mass" need good
> reasons to use Harbour
> and stability is "obvious" ( nodoby release "unstable" or at least
> nobody say so ).
>
> 1.0 need to be "revolutionary" or at least be comparable feature by
> feature with other similar solutions and be better on many of them,
> since everybody expects that 1.0.x or 1.x will fix the bugs.

The idea of release cycles and version control is to slow things down long 
enough for them to be stable. Once we get this done, things will get very 
ugly for a while and we need for people in general to not be working from the 
ugly part of our work.

1.0 is already revolutionary. We need for 1.0 to be extremely stable and with 
as few bugs as possible so we can spend time on the revolutionary aspects in 
peace.


-- 
Waiting for sunspots.
From druzus at acn.waw.pl  Tue Jun  3 08:46:44 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun  3 08:46:49 2008
Subject: [Harbour] Re: CodeGuard errors: demowvg
In-Reply-To: <48451B42.4A81@synel.co.il>
References: <483A589C.2577@synel.co.il> <48451B42.4A81@synel.co.il>
Message-ID: <20080603124644.GA16820@34-mo7-2.acn.waw.pl>

On Tue, 03 Jun 2008, Chen Kedem wrote:

Hi Chen,

> I found the cause of the error.
> In contrib/gtwvg/wvtutils.c HB_FUNC( WIN_SENDMESSAGE )
> there is a code like:
[...]
> When you pass hb_parc( 4 ) as a parameter to hb_storc( szText, 4 ),
> the source is freed before it can be used.

Thank you very much for diagnose. If even in core code we are finding
such situations then I think it will be better if I'll fix it inside
hb_itemPutC() so it will be safe to overwrite the string.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Jun  3 09:10:50 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun  3 09:10:55 2008
Subject: [Harbour] 2008-06-03 15:10 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806031310.m53DAolk022470@31-mo5-4.acn.waw.pl>

2008-06-03 15:10 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/extrap.c
    ! fixed unregistering exception error handler in OS2 builds
      David, if possible please test.

best regards
Przemek
From druzus at acn.waw.pl  Tue Jun  3 09:13:35 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun  3 09:13:40 2008
Subject: [Harbour] 2008-06-02 19:55 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <44688A7B-7F2F-49FF-B130-84D1A2C5F6CA@syenar.hu>
References: <200806021755.m52Hto3G004132@31-mo5-4.acn.waw.pl>
	<44688A7B-7F2F-49FF-B130-84D1A2C5F6CA@syenar.hu>
Message-ID: <20080603131335.GB16820@34-mo7-2.acn.waw.pl>

On Mon, 02 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Do you have anything against making -kM and -kJ (and
> the rest of switches) to work in a case-insensitive
> fashion? I can only think of the lesser variations this
> would us, but there would be something seriously
> wrong with Harbour if we'd be needing more than 25
> such switch in the future.

Let's wait with final decisions for Ryszard response.

> Also, is -kh equivalent to -kix ?

No, it isn't. Now you can test it yourself by
   harbour -kch -k?

'c' will clear all flags and 'h' will set Harbour extensions.
'i' and 'x' have separated switches.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Jun  3 09:19:35 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun  3 09:19:40 2008
Subject: [Harbour] 2008-06-02 16:46 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <1A5EB215-0298-4626-854D-91867EDACDB3@syenar.hu>
References: <200806021446.m52EkLBu032064@31-mo5-4.acn.waw.pl>
	<086658CA-ED39-4EA1-8C6E-D3B3A60B0673@syenar.hu>
	<20080602155609.GA16755@34-mo7-2.acn.waw.pl>
	<A4A9E8C7-C074-4E09-954C-31581EF2DF15@syenar.hu>
	<20080602175414.GA26641@34-mo7-2.acn.waw.pl>
	<1A5EB215-0298-4626-854D-91867EDACDB3@syenar.hu>
Message-ID: <20080603131935.GC16820@34-mo7-2.acn.waw.pl>

On Mon, 02 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> >Clipper does not make any optimizations for macro compiled
> >code so it gives correct results executing RT functions or
> >evaluating PCODE. We are making the optimizations but for
> >macro compiler Harbour calculates correct results so there
> >is not problem here.
> Even better. So I expect not too many ppl having
> Chr( 1024 ) and "" $ "string" in real life code, since
> the expressions are pointless, they are side cases
> (invalid or close to invalid input) by themselves,
> someone using such expressions with _full literals_
> is even more pointless. So besides inspecting these
> in a lab, like some strange viruses, they serve no
> purpose, and I don't expect finding them in too much
> real world code.

I can quite easy change it and make -kc strictly Clipper
compatible. For -kh we will not replicate the bugs in
$ / CHR() / AT() optimization.
I can also add separate switch to control it but I do not
know if it's necessary.

> [ NOTE: Clipper '87 had these right, and I bet
> - but I cannot try right now - the rest of Clipper
> compiler has this right too. ]

Probably S87 does not have compile time optimizations.

best regards,
Przemek
From rportnoff at spendmap.com  Tue Jun  3 09:27:15 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Tue Jun  3 09:26:05 2008
Subject: [Harbour] Compile defines
In-Reply-To: <09163B2D-A517-425E-88B9-5C29FFED9A18@syenar.hu>
References: <7064BB2792AA4C81BD1A191794981825@emag>
	<20080602184428.GB5261@34-mo7-2.acn.waw.pl>
	<07386B36-1BC6-4374-A375-9E932AB1F274@syenar.hu>
	<20080602200221.GC5598@34-mo7-2.acn.waw.pl>
	<09163B2D-A517-425E-88B9-5C29FFED9A18@syenar.hu>
Message-ID: <B0080920799@ms1.3peaks.com>

Hi Viktor,

IMO, all environment vars and compiler switches should default for 
maximum performance - If a user wants profiling, tracing, debugging, 
etc., they can enable them as required.

Randy.


At 04:43 PM 6/2/2008, you wrote:
>>>What do you think of making this a runtime option?
>>>(a Set())
>>
>>The idea of using this macro was eliminating all possible
>>overhead from main HVM loop. Using and RT switch like new
>>set() does not make it. Anyhow current code can/should be
>>updated. See the note about hb_set.HB_SET_KEYPOLL I left
>>in main HVM loop few years ago.
>
>That's why I was asking. But would one flag comparison
>be such an overhead there?
>
>>>For HB_NO_DEBUG we're talking about maybe 4-6 CPU instructions
>>>per Harbour function call. Do we really need this? Is this
>>>measurable?
>>
>>Just like for most of others. Probably only HB_GUI is HB_NO_PROFILER
>>are important because pending code is executed in each HVM loop (for
>>each PCODE). I'll make speed test for HB_GUI to check current
>>difference.
>
>Thanks Przemek.
>
>Also HB_NO_DEBUG... I saw these were added (along with NO_TRACE)
>on request last year but IMO there are better ways to squeeze
>more performance out of Harbour in general. If there is someone
>who so badly needs more raw VM performance there are most
>probably a dozen more stuff which could be commented out
>of Harbour VM/RTL. These customization can be made locally
>(not on repo) unless they aren't features which give
>benefit for 'lots' of users IMO.
>
>Brgds,
>Viktor
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From guy.roussin at teledetection.fr  Tue Jun  3 09:37:18 2008
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Tue Jun  3 09:37:22 2008
Subject: [Harbour] little fix and improve of make_deb.sh 
Message-ID: <4845490E.9070101@teledetection.fr>

Hi,

Here is a little patch to fix and improve make_deb.sh.
I think this patch fix Lorenzo problem. It uses dpkg -l
instead of dpkg -s to find if a package is intalled.
It also add hbgd in HB_CONTRIBLIBS, if libgd[2]-xpm-dev
is present. It also fixes some typos.

Feel free to apply this patch if you found it usefull.

-- 
Guy Roussin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: make_deb.diff
Type: patch
Size: 805 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080603/c1a02816/make_deb.pl
From mbelgrano at deltain.it  Tue Jun  3 10:18:49 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Jun  3 10:18:56 2008
Subject: [Harbour] How find wich library are missing?
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECA9@SRV02.deltain.net>

How find witch library are missing?

Error: Unresolved external '_HB_FUN_HB_GT_WIN' 
Error: Unresolved external '_HB_FUN_GETMSSGLINE' 
Error: Unresolved external '_HB_FUN_HBCONSOLELOCK' 
Error: Unresolved external '_HB_FUN_HBCONSOLEUNLOCK'
Error: Unresolved external '_HB_FUN_ISDIRECTORY' 
Error: Unresolved external '_HB_FUN_OS_VERSIONINFO' 
Error: Unresolved external '_HB_FUN_PRINTERPORTTONAME
Error: Unresolved external '_HB_FUN_GETPRINTERS' 
Error: Unresolved external '_HB_FUN_GETDEFAULTPRINTER
Error: Unresolved external '_HB_FUN_SETSHUTDOWNEVENT'
Error: Unresolved external '_HB_FUN_SETCLOSEEVENT' 
Error: Unresolved external '_HB_FUN_THROW' 
Error: Unresolved external '_HB_FUN_CSTR' 

Massimo Belgrano

From guy.roussin at teledetection.fr  Tue Jun  3 10:26:27 2008
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Tue Jun  3 10:26:30 2008
Subject: [Harbour] little fix and improve of make_deb.sh
In-Reply-To: <4845490E.9070101@teledetection.fr>
References: <4845490E.9070101@teledetection.fr>
Message-ID: <48455493.3000107@teledetection.fr>

Hi,

Again a little fix, the line :

if [ -z "$HB_WITHOUT_GTSLN" ] && test_reqpkg libslang2-dev

can be replace by :

if [ -z "$HB_WITHOUT_GTSLN" ] && ! test_reqpkg libslang2-dev

Guy

Guy Roussin a ?crit :
> Hi,
> 
> Here is a little patch to fix and improve make_deb.sh.
> I think this patch fix Lorenzo problem. It uses dpkg -l
> instead of dpkg -s to find if a package is intalled.
> It also add hbgd in HB_CONTRIBLIBS, if libgd[2]-xpm-dev
> is present. It also fixes some typos.
> 
> Feel free to apply this patch if you found it usefull.
> 
From druzus at acn.waw.pl  Tue Jun  3 11:24:01 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun  3 11:24:05 2008
Subject: [Harbour] 2008-06-03 17:23 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806031524.m53FO1MG009098@31-mo5-4.acn.waw.pl>

2008-06-03 17:23 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbw32/w32_regc.c
    ! fixed typo hb_free() => hb_xfree()
    ! fixed UNICODE build

  * harbour/source/vm/itemapi.c
    * changed hb_itemPutC() and hb_itemPutCL() to be safe when
      user call it passing string which is stored in item passed
      as first parameter. It should fix problem located by Chen.
      Please test.

best regards
Przemek
From mbelgrano at deltain.it  Tue Jun  3 11:31:39 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Jun  3 11:31:48 2008
Subject: [Harbour] untranslate seem not work with #INCLUDE "hbcompat.ch"
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECA9@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ECA9@SRV02.deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECAB@SRV02.deltain.net>

when I have added include "hbcompact.ch" untranslate seem not work
#INCLUDE "hbcompat.ch"

  #xuntranslate lj_gotoxy  (      =>
  #xuntranslate LJ_SAY     (      =>
  #xuntranslate LJ_FILL    (      =>
  #xuntranslate LoPrPcx    (      =>




From druzus at acn.waw.pl  Tue Jun  3 11:32:30 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun  3 11:32:36 2008
Subject: [Harbour] 2008-06-03 17:32 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806031532.m53FWUJN009245@31-mo5-4.acn.waw.pl>

2008-06-03 17:32 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/make_deb.sh
    ! added fixes by Guy Roussin - many thanks

best regards
Przemek
From druzus at acn.waw.pl  Tue Jun  3 11:33:51 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun  3 11:33:55 2008
Subject: [Harbour] little fix and improve of make_deb.sh
In-Reply-To: <48455493.3000107@teledetection.fr>
References: <4845490E.9070101@teledetection.fr>
	<48455493.3000107@teledetection.fr>
Message-ID: <20080603153351.GA9105@34-mo7-2.acn.waw.pl>

On Tue, 03 Jun 2008, Guy Roussin wrote:

Hi Guy,

> Again a little fix, the line :
> if [ -z "$HB_WITHOUT_GTSLN" ] && test_reqpkg libslang2-dev
> can be replace by :
> if [ -z "$HB_WITHOUT_GTSLN" ] && ! test_reqpkg libslang2-dev
> >Here is a little patch to fix and improve make_deb.sh.
> >I think this patch fix Lorenzo problem. It uses dpkg -l
> >instead of dpkg -s to find if a package is intalled.
> >It also add hbgd in HB_CONTRIBLIBS, if libgd[2]-xpm-dev
> >is present. It also fixes some typos.
> >Feel free to apply this patch if you found it usefull.

Thank you very much. Just committed.

best regards,
Przemek
From mbelgrano at deltain.it  Tue Jun  3 11:39:05 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Jun  3 11:39:11 2008
Subject: [Harbour] untranslate seem not work with #INCLUDE "hbcompat.ch"
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECAB@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ECA9@SRV02.deltain.net>
	<AFB948164110ED43B5EB849E8DEEF03815ECAB@SRV02.deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECAC@SRV02.deltain.net>

#xtranslate lj_gotoxy(      =>   lj2_gotoxy(
#xtranslate LJ_SAY(         =>   lj2_SAY(
#xtranslate LJ_FILL(        =>   lj2_FILL(
#xtranslate LoPrPcx(        =>   LO2_PRJPG(

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo
Belgrano
Sent: Tuesday, June 03, 2008 5:32 PM
To: Harbour Project Main Developer List.
Subject: [Harbour] untranslate seem not work with #INCLUDE "hbcompat.ch"

when I have added include "hbcompact.ch" untranslate seem not work
#INCLUDE "hbcompat.ch"

  #xuntranslate lj_gotoxy  (      =>
  #xuntranslate LJ_SAY     (      =>
  #xuntranslate LJ_FILL    (      =>
  #xuntranslate LoPrPcx    (      =>




_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From druzus at acn.waw.pl  Tue Jun  3 11:50:58 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun  3 11:51:03 2008
Subject: [Harbour] untranslate seem not work with #INCLUDE
	"hbcompat.ch"
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECAC@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ECA9@SRV02.deltain.net>
	<AFB948164110ED43B5EB849E8DEEF03815ECAB@SRV02.deltain.net>
	<AFB948164110ED43B5EB849E8DEEF03815ECAC@SRV02.deltain.net>
Message-ID: <20080603155058.GA12095@34-mo7-2.acn.waw.pl>

On Tue, 03 Jun 2008, Massimo Belgrano wrote:

Hi Massimo,

> when I have added include "hbcompact.ch" untranslate seem not work

The code below is preprocessed perfectly well. I do not see any problem.

best regards,
Przemek


#xtranslate lj_gotoxy(      =>   lj2_gotoxy(
#xtranslate LJ_SAY(         =>   lj2_SAY(
#xtranslate LJ_FILL(        =>   lj2_FILL(
#xtranslate LoPrPcx(        =>   LO2_PRJPG(

lj_gotoxy()
LJ_SAY()
LJ_FILL()
LoPrPcx()

#INCLUDE "hbcompat.ch"

#xuntranslate lj_gotoxy  (      =>
#xuntranslate LJ_SAY     (      =>
#xuntranslate LJ_FILL    (      =>
#xuntranslate LoPrPcx    (      =>

lj_gotoxy()
LJ_SAY()
LJ_FILL()
LoPrPcx()
From druzus at acn.waw.pl  Tue Jun  3 12:09:01 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun  3 12:09:06 2008
Subject: [Harbour] 2008-06-03 18:08 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806031609.m53G91Lf014727@31-mo5-4.acn.waw.pl>

2008-06-03 18:08 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/common.mak
  * harbour/source/rtl/Makefile
  * harbour/include/hbextern.ch
  + harbour/source/rtl/hbrun.c
    + added function to execute commands which returns application
      exit code:
         HB_RUN( <cCommand> ) -> <nErrorLevel>

best regards
Przemek
From mbelgrano at deltain.it  Tue Jun  3 12:15:20 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Jun  3 12:15:27 2008
Subject: [Harbour] Release Time
In-Reply-To: <200806022052.58113.philb@philb.us>
References: <200806012300.58789.philb@philb.us><AFB948164110ED43B5EB849E8DEEF03815ECA0@SRV02.deltain.net>
	<200806022052.58113.philb@philb.us>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECAD@SRV02.deltain.net>

I think usenet when write fidonet

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Phil Barnett
Sent: Tuesday, June 03, 2008 2:53 AM
To: harbour@harbour-project.org
Subject: Re: [Harbour] Release Time

On Monday 02 June 2008 01:05:15 pm Massimo Belgrano wrote:
> What about new harbour's web site and fidonet group?

What about it?

I thought fidonet died about 15 years ago...

-- 
Waiting for sunspots.
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From e.m.giordano at emagsoftware.it  Tue Jun  3 12:25:56 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Jun  3 12:26:00 2008
Subject: [Harbour] 2008-06-03 18:08 UTC+0200 Przemyslaw
	Czerpak(druzus/at/priv.onet.pl)
References: <200806031609.m53G91Lf014727@31-mo5-4.acn.waw.pl>
Message-ID: <27AB4F761D534BB693BFA64723876B7A@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: <harbour@harbour-project.org>
Data invio: marted? 3 giugno 2008 18.09
Oggetto: [Harbour] 2008-06-03 18:08 UTC+0200 Przemyslaw 
Czerpak(druzus/at/priv.onet.pl)


> 2008-06-03 18:08 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/common.mak
>  * harbour/source/rtl/Makefile
>  * harbour/include/hbextern.ch
>  + harbour/source/rtl/hbrun.c
>    + added function to execute commands which returns application
>      exit code:
>         HB_RUN( <cCommand> ) -> <nErrorLevel>

Error: Unresolved external '_HB_FUN_HB_RUN' referenced from E:\HARBOUR 
CVS\HARBOUR\OBJ\B32\HBRUN.OBJ

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From lkrausem at shaw.ca  Tue Jun  3 12:33:34 2008
From: lkrausem at shaw.ca (Luis Krause Mantilla)
Date: Tue Jun  3 12:34:36 2008
Subject: [Harbour] 2008-06-03 18:08 UTC+0200 Przemyslaw
	Czerpak(druzus/at/priv.onet.pl)
In-Reply-To: <27AB4F761D534BB693BFA64723876B7A@emag>
References: <200806031609.m53G91Lf014727@31-mo5-4.acn.waw.pl>
	<27AB4F761D534BB693BFA64723876B7A@emag>
Message-ID: <4845725E.6080507@shaw.ca>

Same error here (BCC 5.5.1).

Enrico Maria Giordano wrote:
>
> -----Messaggio Originale----- Da: "Przemyslaw Czerpak" 
> <druzus@acn.waw.pl>
> A: <harbour@harbour-project.org>
> Data invio: marted? 3 giugno 2008 18.09
> Oggetto: [Harbour] 2008-06-03 18:08 UTC+0200 Przemyslaw 
> Czerpak(druzus/at/priv.onet.pl)
>
>
>> 2008-06-03 18:08 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>>  * harbour/common.mak
>>  * harbour/source/rtl/Makefile
>>  * harbour/include/hbextern.ch
>>  + harbour/source/rtl/hbrun.c
>>    + added function to execute commands which returns application
>>      exit code:
>>         HB_RUN( <cCommand> ) -> <nErrorLevel>
>
> Error: Unresolved external '_HB_FUN_HB_RUN' referenced from E:\HARBOUR 
> CVS\HARBOUR\OBJ\B32\HBRUN.OBJ
>
> EMG
>
> -- 
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>

-- 
Luis Krause Mantilla
lkrausem at shaw dot ca
luis_krause at hotmail dot com
"May the Source be with GNU"


From druzus at acn.waw.pl  Tue Jun  3 12:36:41 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun  3 12:36:47 2008
Subject: [Harbour] 2008-06-01 13:26 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8c3db$Blat.v2.6.2$1aef0dac$248cdb4ea810@127.0.0.1>
References: <01c8c3db$Blat.v2.6.2$1aef0dac$248cdb4ea810@127.0.0.1>
Message-ID: <20080603163641.GA16437@34-mo7-2.acn.waw.pl>

On Sun, 01 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

>     ; TOFIX2: The casting to 'curl_off_t' goes wrong. Could someone help?

Can you describe what's the problem?
After short check I see only typo in macro definition (n is ignored and
always 3-rd parameter is accessed) but I do not see anything wrong in
casting.
BTW We have hb_parnint()/hb_retnint()/hb_stornint() and corresponding
hb_item*NInt() and hb_array*NInt() functions which always operate on
largest integer value supported by HVM (HB_LONG) so you do not have
to check for HB_LONG_LONG_OFF but it's enough to use them, f.e.:

   #define HB_CURL_OPT_LARGEN( n ) ( ( curl_off_t ) hb_parnint( n ) )

best regards,
Przemek
From druzus at acn.waw.pl  Tue Jun  3 12:43:30 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun  3 12:43:35 2008
Subject: [Harbour] 2008-06-03 18:08 UTC+0200 Przemyslaw
	Czerpak(druzus/at/priv.onet.pl)
In-Reply-To: <27AB4F761D534BB693BFA64723876B7A@emag>
References: <200806031609.m53G91Lf014727@31-mo5-4.acn.waw.pl>
	<27AB4F761D534BB693BFA64723876B7A@emag>
Message-ID: <20080603164330.GA16542@34-mo7-2.acn.waw.pl>

On Tue, 03 Jun 2008, Enrico Maria Giordano wrote:

Hi Enrico,

> >2008-06-03 18:08 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> > * harbour/common.mak
> > * harbour/source/rtl/Makefile
> > * harbour/include/hbextern.ch
> > + harbour/source/rtl/hbrun.c
> >   + added function to execute commands which returns application
> >     exit code:
> >        HB_RUN( <cCommand> ) -> <nErrorLevel>
> Error: Unresolved external '_HB_FUN_HB_RUN' referenced from E:\HARBOUR 
> CVS\HARBOUR\OBJ\B32\HBRUN.OBJ

The non GNU make system does not accept multiple files with the same name
even if they are located in different directories and belongs to different
libraries and I forgot about hbrun.prg used for HBRUN tool. I'll change
new file name (hbrun.c) ASAP.
Thanks for information.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Jun  3 12:48:01 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun  3 12:48:07 2008
Subject: [Harbour] 2008-06-03 18:47 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806031648.m53Gm1AT016629@31-mo5-4.acn.waw.pl>

2008-06-03 18:47 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/common.mak
  * harbour/source/rtl/Makefile
  - harbour/source/rtl/hbrun.c
  + harbour/source/rtl/hbrunfun.c
    * renamed hbrun.c to hbrunfun.c to satisfy non GNU make system

best regards
Przemek
From e.m.giordano at emagsoftware.it  Tue Jun  3 13:09:28 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Jun  3 13:09:35 2008
Subject: [Harbour] 2008-06-03 18:47 UTC+0200 Przemyslaw
	Czerpak(druzus/at/priv.onet.pl)
References: <200806031648.m53Gm1AT016629@31-mo5-4.acn.waw.pl>
Message-ID: <1C2EBC91214741AC8D4FF46E63F694CD@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: <harbour@harbour-project.org>
Data invio: marted? 3 giugno 2008 18.48
Oggetto: [Harbour] 2008-06-03 18:47 UTC+0200 Przemyslaw 
Czerpak(druzus/at/priv.onet.pl)


> 2008-06-03 18:47 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/common.mak
>  * harbour/source/rtl/Makefile
>  - harbour/source/rtl/hbrun.c
>  + harbour/source/rtl/hbrunfun.c
>    * renamed hbrun.c to hbrunfun.c to satisfy non GNU make system

Thank you, it's ok now.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From lkrausem at shaw.ca  Tue Jun  3 13:11:39 2008
From: lkrausem at shaw.ca (Luis Krause Mantilla)
Date: Tue Jun  3 13:11:56 2008
Subject: [Harbour] 2008-06-03 18:47 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200806031648.m53Gm1AT016629@31-mo5-4.acn.waw.pl>
References: <200806031648.m53Gm1AT016629@31-mo5-4.acn.waw.pl>
Message-ID: <48457B4B.3020200@shaw.ca>

Fixed.  Thanks Przemek.

Przemyslaw Czerpak wrote:
> 2008-06-03 18:47 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/common.mak
>   * harbour/source/rtl/Makefile
>   - harbour/source/rtl/hbrun.c
>   + harbour/source/rtl/hbrunfun.c
>     * renamed hbrun.c to hbrunfun.c to satisfy non GNU make system
>
> best regards
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>   

-- 
Luis Krause Mantilla
lkrausem at shaw dot ca
luis_krause at hotmail dot com
"May the Source be with GNU"


From druzus at acn.waw.pl  Tue Jun  3 13:15:04 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun  3 13:15:09 2008
Subject: [Harbour] 2008-06-03 18:47 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <48457B4B.3020200@shaw.ca>
References: <200806031648.m53Gm1AT016629@31-mo5-4.acn.waw.pl>
	<48457B4B.3020200@shaw.ca>
Message-ID: <20080603171503.GA19718@34-mo7-2.acn.waw.pl>

On Tue, 03 Jun 2008, Luis Krause Mantilla wrote:
> Fixed.  Thanks Przemek.
> >2008-06-03 18:47 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> >    * renamed hbrun.c to hbrunfun.c to satisfy non GNU make system

Hi Luis,

Thanks for confirmation.

best regards
Przemek
From druzus at acn.waw.pl  Tue Jun  3 13:59:51 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun  3 13:59:56 2008
Subject: [Harbour] 2008-06-03 19:59 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806031759.m53HxpRi029219@31-mo5-4.acn.waw.pl>

2008-06-03 19:59 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/garbage.c
    % clear hb_stack return item in HB_GCALL() function before
      executing hb_gcCollectAll()

best regards
Przemek
From harbour.01 at syenar.hu  Tue Jun  3 16:09:17 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun  3 16:10:30 2008
Subject: [Harbour] Compile defines
In-Reply-To: <B0080920799@ms1.3peaks.com>
References: <7064BB2792AA4C81BD1A191794981825@emag>
	<20080602184428.GB5261@34-mo7-2.acn.waw.pl>
	<07386B36-1BC6-4374-A375-9E932AB1F274@syenar.hu>
	<20080602200221.GC5598@34-mo7-2.acn.waw.pl>
	<09163B2D-A517-425E-88B9-5C29FFED9A18@syenar.hu>
	<B0080920799@ms1.3peaks.com>
Message-ID: <D477A4E7-68D5-4AD8-8091-22B00B1A0BF7@syenar.hu>

>
Hi Randy,

> IMO, all environment vars and compiler switches should default for  
> maximum performance - If a user wants profiling, tracing, debugging,  
> etc., they can enable them as required.

In general I don't agree that we should aim
for maximum performance. Performance is not
the only aspect of a language. It's important
but it's not above everything. Usually there
is no free performance, so something has to be
traded off, and it's pretty difficult to trade
off on behalf of users. That's why we don't
compile with -6 switch in BCC for example.

We have profiler turned off, tracing turned
off, disabling debugging completely would be
a big mistake IMO, since ppl are expecting this
as a basic feature. HB_GUI kills some compatibility
and expected features, so it cannot be turned on.

Memory tracing is an interesting thing, I'd
definitely leave it turned on for RC builds,
otherwise we are missing important input from
users, and we can disable it for final code.
Same goes for 'harbour /l' switch.

Also notice that here we may define a safe
or reasonable set of defaults, which can be
overridden in any ways by non-official binary
builders. Non-official binary builds are a
healty thing and their role is exactly to
emphasis on specific target, like performance.

Brgds,
Viktor

>
>
> Randy.
>
>
> At 04:43 PM 6/2/2008, you wrote:
>>>> What do you think of making this a runtime option?
>>>> (a Set())
>>>
>>> The idea of using this macro was eliminating all possible
>>> overhead from main HVM loop. Using and RT switch like new
>>> set() does not make it. Anyhow current code can/should be
>>> updated. See the note about hb_set.HB_SET_KEYPOLL I left
>>> in main HVM loop few years ago.
>>
>> That's why I was asking. But would one flag comparison
>> be such an overhead there?
>>
>>>> For HB_NO_DEBUG we're talking about maybe 4-6 CPU instructions
>>>> per Harbour function call. Do we really need this? Is this
>>>> measurable?
>>>
>>> Just like for most of others. Probably only HB_GUI is HB_NO_PROFILER
>>> are important because pending code is executed in each HVM loop (for
>>> each PCODE). I'll make speed test for HB_GUI to check current
>>> difference.
>>
>> Thanks Przemek.
>>
>> Also HB_NO_DEBUG... I saw these were added (along with NO_TRACE)
>> on request last year but IMO there are better ways to squeeze
>> more performance out of Harbour in general. If there is someone
>> who so badly needs more raw VM performance there are most
>> probably a dozen more stuff which could be commented out
>> of Harbour VM/RTL. These customization can be made locally
>> (not on repo) unless they aren't features which give
>> benefit for 'lots' of users IMO.
>>
>> Brgds,
>> Viktor
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Jun  3 16:10:59 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun  3 16:12:09 2008
Subject: [Harbour] 2008-06-03 18:08 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200806031609.m53G91Lf014727@31-mo5-4.acn.waw.pl>
References: <200806031609.m53G91Lf014727@31-mo5-4.acn.waw.pl>
Message-ID: <CBDFEC16-2473-46D6-AEE6-6304A24AAD48@syenar.hu>

Great! I had this in mind since long, thanks for adding it.

Brgds,
Viktor

On 2008.06.03., at 18:09, Przemyslaw Czerpak wrote:

> 2008-06-03 18:08 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/common.mak
>  * harbour/source/rtl/Makefile
>  * harbour/include/hbextern.ch
>  + harbour/source/rtl/hbrun.c
>    + added function to execute commands which returns application
>      exit code:
>         HB_RUN( <cCommand> ) -> <nErrorLevel>
>
> best regards
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Jun  3 16:16:47 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun  3 16:17:50 2008
Subject: [Harbour] 2008-06-01 13:26 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <20080603163641.GA16437@34-mo7-2.acn.waw.pl>
References: <01c8c3db$Blat.v2.6.2$1aef0dac$248cdb4ea810@127.0.0.1>
	<20080603163641.GA16437@34-mo7-2.acn.waw.pl>
Message-ID: <CF7DC117-373B-4392-B663-2A560E5A7B0C@syenar.hu>

>>    ; TOFIX2: The casting to 'curl_off_t' goes wrong. Could someone  
>> help?
>
Hi Przemek,

> Can you describe what's the problem?
> After short check I see only typo in macro definition (n is ignored  
> and
> always 3-rd parameter is accessed) but I do not see anything wrong in
> casting.

Good observation.. especially that I've already fixed
one such bug a line away 8-/ [ It doesn't effect current
usage though, so this is unrelated to the problem I referred to. ]

> BTW We have hb_parnint()/hb_retnint()/hb_stornint() and corresponding
> hb_item*NInt() and hb_array*NInt() functions which always operate on
> largest integer value supported by HVM (HB_LONG) so you do not have
> to check for HB_LONG_LONG_OFF but it's enough to use them, f.e.:
>
>   #define HB_CURL_OPT_LARGEN( n ) ( ( curl_off_t ) hb_parnint( n ) )

The problem I had with hb_parnll() (which was the one used
for BCC55), is that it got a completely wrong number in
the callback. Now that I say this, callback is actually
getting a size_t, which may seem like a libcurl problem.
But I'm very tired so I might be wrong.

So at the end, the problem is that if I use the _LARGE
version of *setopt() to pass the length in the test program,
the progress bar won't work.

Brgds,
Viktor

From rportnoff at spendmap.com  Tue Jun  3 16:52:27 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Tue Jun  3 16:51:19 2008
Subject: [Harbour] Compile defines
In-Reply-To: <D477A4E7-68D5-4AD8-8091-22B00B1A0BF7@syenar.hu>
References: <7064BB2792AA4C81BD1A191794981825@emag>
	<20080602184428.GB5261@34-mo7-2.acn.waw.pl>
	<07386B36-1BC6-4374-A375-9E932AB1F274@syenar.hu>
	<20080602200221.GC5598@34-mo7-2.acn.waw.pl>
	<09163B2D-A517-425E-88B9-5C29FFED9A18@syenar.hu>
	<B0080920799@ms1.3peaks.com>
	<D477A4E7-68D5-4AD8-8091-22B00B1A0BF7@syenar.hu>
Message-ID: <B0080933081@ms1.3peaks.com>

Hi Viktor,

>>IMO, all environment vars and compiler switches should default for
>>maximum performance - If a user wants profiling, tracing, debugging,
>>etc., they can enable them as required.
>
>In general I don't agree that we should aim
>for maximum performance.

Sorry, I forgot about the binary builds where the user would have no 
control/option to change the defaults. I agree, in this case, a 
balance of performance-to-usefulness needs to be achieved.

I guess, in the case of the user building their own binaries, they 
can do whatever they want. However, in this case, it would be great 
to have a document listing all the options including a brief 
description and the implications of enabling/disabling them.

Randy.


From harbour.01 at syenar.hu  Tue Jun  3 17:11:55 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun  3 17:15:24 2008
Subject: [Harbour] hb_parc()/hb_itemGetCPtr() vs. 'const' question
Message-ID: <118ADF41-979D-47F9-A54E-706B4064825D@syenar.hu>

Hi Przemek and all,

We have hb_parc()/hb_parcx()/hb_itemGetCPtr() to
return direct pointers to Harbour strings (maybe more).

I've stumbled into some C code (rddads, hbhpdf) directly
passing these buffers to C level functions _returning_
values in this buffer. This may corrupt HVM.

Such code is currently difficult to find.

Question: should we make the return value of these
functions 'const' ? (and maybe do some tricks to
stay compatible when user code is using _parc()).

Or in general: Shouldn't we make better use of
'const' flag?

Does these make any sense?

[ Few examples for possible HVM corruption, after
recompiling hbwhat32 with const flag:
GETCOMPUTERNAMEEX(), GETUSERNAME(), ACCEPT() ]

Brgds,
Viktor

PS: I know this would cause an avalanche in 'const'-ing
various other function parameters and add casting,
and I also know of hb_itemUnShareString(), and I'm not
suggesting to solve it before 1.0.

From harbour.01 at syenar.hu  Tue Jun  3 18:27:36 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun  3 18:27:32 2008
Subject: [Harbour] 2008-06-03 22:24 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c5c9$Blat.v2.6.2$066e05d2$234c92d2f6be@127.0.0.1>

2008-06-03 22:24 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbcurl/hbcurl.c
     ! Fixed macros used in *_LARGE setopt options.

   * contrib/hbcurl/hbcurl.c
   * contrib/hbsqlit3/hbsqlit3.c
     * Using hb_parnint()/hb_retnint() instead of messing 
       with LONG_LONG locally.

   (missed to send e-mail and update ChangeLog in prev commit)
--
Brgds,
Viktor

From dmacias at mail.udg.mx  Tue Jun  3 18:28:43 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Tue Jun  3 18:28:46 2008
Subject: [Harbour] Re: Harbour under OS/2 - eCS
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <4845C59B.1030400@mail.udg.mx>

Przemek

 >2008-06-03 15:10 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
 >  * harbour/source/vm/extrap.c
 >    ! fixed unregistering exception error handler in OS2 builds
 >      David, if possible please test.

It build and run fine, thanks

I am ready for release  :-)

David Macias


From harbour.01 at syenar.hu  Tue Jun  3 18:35:33 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun  3 18:35:30 2008
Subject: [Harbour] 2008-06-04 00:32 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c5ca$Blat.v2.6.2$2295ea58$10146d589524@127.0.0.1>

2008-06-04 00:32 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbcurl/hbcurl.c
     * CURL_GETDATE(): using hb_retnint().
--
Brgds,
Viktor

From druzus at acn.waw.pl  Tue Jun  3 18:44:13 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun  3 18:44:19 2008
Subject: [Harbour] hb_parc()/hb_itemGetCPtr() vs. 'const' question
In-Reply-To: <118ADF41-979D-47F9-A54E-706B4064825D@syenar.hu>
References: <118ADF41-979D-47F9-A54E-706B4064825D@syenar.hu>
Message-ID: <20080603224413.GA18257@34-mo7-2.acn.waw.pl>

On Tue, 03 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> We have hb_parc()/hb_parcx()/hb_itemGetCPtr() to
> return direct pointers to Harbour strings (maybe more).
> I've stumbled into some C code (rddads, hbhpdf) directly
> passing these buffers to C level functions _returning_
> values in this buffer. This may corrupt HVM.
> Such code is currently difficult to find.

Yes, it is.

> Question: should we make the return value of these
> functions 'const' ? (and maybe do some tricks to
> stay compatible when user code is using _parc()).

I wanted to make it but I was afraid 3-rd party developers
reaction. For C mode it will cause only warnings but for C++
it will force code updating.
The trick for _parc() can be made by adding explicit char *
casting in this macro.

> Or in general: Shouldn't we make better use of
> 'const' flag?

Yes we should and I'm trying to make it but so far in very
small steps.

> Does these make any sense?
> [ Few examples for possible HVM corruption, after
> recompiling hbwhat32 with const flag:
> GETCOMPUTERNAMEEX(), GETUSERNAME(), ACCEPT() ]

I think that at least our core code should be ready to cleanly
compile with hb_parc() and related functions declared as const.
IMHO it will be good to introduce it at least as an macro defined
option.

> PS: I know this would cause an avalanche in 'const'-ing
> various other function parameters and add casting,
> and I also know of hb_itemUnShareString(), and I'm not
> suggesting to solve it before 1.0.

If you look at changelog then you will find that for last years I've
been adding const flag systematically to different functions in places
which should not effect 3-rd party code. It means that for old functions
I was changing only parameters and return value only for new once.

Anyhow without adding const to return value for functions return
constant strings is very slow process and does not help enough in
fixing exiting code.
I think it will be good to introduce HB_OPT_CONST or sth like that
with the following code in hbdefs.h:
   #ifndef HB_OPT_CONST
      #define HB_OPT_CONST
   #endif

so at least core developers may use it to recompile Harbour with
   C_USR=-DHB_OPT_CONST
to validate existing code. Of course after adding HB_OPT_CONST casting
in return value declaration for all functions which return constant
strings.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Jun  3 18:45:59 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun  3 18:46:04 2008
Subject: [Harbour] Re: Harbour under OS/2 - eCS
In-Reply-To: <4845C59B.1030400@mail.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<4845C59B.1030400@mail.udg.mx>
Message-ID: <20080603224559.GB18257@34-mo7-2.acn.waw.pl>

On Tue, 03 Jun 2008, David Arturo Macias Corona wrote:

Hi David,

> >2008-06-03 15:10 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> >  * harbour/source/vm/extrap.c
> >    ! fixed unregistering exception error handler in OS2 builds
> >      David, if possible please test.
> It build and run fine, thanks
> I am ready for release  :-)

Thank you very much for confirmation.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Jun  3 19:40:33 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun  3 19:41:39 2008
Subject: [Harbour] hb_parc()/hb_itemGetCPtr() vs. 'const' question
In-Reply-To: <20080603224413.GA18257@34-mo7-2.acn.waw.pl>
References: <118ADF41-979D-47F9-A54E-706B4064825D@syenar.hu>
	<20080603224413.GA18257@34-mo7-2.acn.waw.pl>
Message-ID: <9254872B-8241-4BBA-84E9-3D21010001EF@syenar.hu>

Okay, thanks for your confirmation. I think we can
make this move, even in the non-optional way, in the
next release. This is very important for code quality
and security.

I also believe core code and the few top contribs
are fine, but it would be still great to get
this under control and get a real proof.

Let's wake up on an RC branch tomorrow :)

Good night for you and all.

Brgds,
Viktor

On 2008.06.04., at 0:44, Przemyslaw Czerpak wrote:

> On Tue, 03 Jun 2008, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>> We have hb_parc()/hb_parcx()/hb_itemGetCPtr() to
>> return direct pointers to Harbour strings (maybe more).
>> I've stumbled into some C code (rddads, hbhpdf) directly
>> passing these buffers to C level functions _returning_
>> values in this buffer. This may corrupt HVM.
>> Such code is currently difficult to find.
>
> Yes, it is.
>
>> Question: should we make the return value of these
>> functions 'const' ? (and maybe do some tricks to
>> stay compatible when user code is using _parc()).
>
> I wanted to make it but I was afraid 3-rd party developers
> reaction. For C mode it will cause only warnings but for C++
> it will force code updating.
> The trick for _parc() can be made by adding explicit char *
> casting in this macro.
>
>> Or in general: Shouldn't we make better use of
>> 'const' flag?
>
> Yes we should and I'm trying to make it but so far in very
> small steps.
>
>> Does these make any sense?
>> [ Few examples for possible HVM corruption, after
>> recompiling hbwhat32 with const flag:
>> GETCOMPUTERNAMEEX(), GETUSERNAME(), ACCEPT() ]
>
> I think that at least our core code should be ready to cleanly
> compile with hb_parc() and related functions declared as const.
> IMHO it will be good to introduce it at least as an macro defined
> option.
>
>> PS: I know this would cause an avalanche in 'const'-ing
>> various other function parameters and add casting,
>> and I also know of hb_itemUnShareString(), and I'm not
>> suggesting to solve it before 1.0.
>
> If you look at changelog then you will find that for last years I've
> been adding const flag systematically to different functions in places
> which should not effect 3-rd party code. It means that for old  
> functions
> I was changing only parameters and return value only for new once.
>
> Anyhow without adding const to return value for functions return
> constant strings is very slow process and does not help enough in
> fixing exiting code.
> I think it will be good to introduce HB_OPT_CONST or sth like that
> with the following code in hbdefs.h:
>   #ifndef HB_OPT_CONST
>      #define HB_OPT_CONST
>   #endif
>
> so at least core developers may use it to recompile Harbour with
>   C_USR=-DHB_OPT_CONST
> to validate existing code. Of course after adding HB_OPT_CONST casting
> in return value declaration for all functions which return constant
> strings.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Jun  3 20:10:03 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun  3 20:09:57 2008
Subject: [Harbour] 2008-06-04 02:05 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c5d7$Blat.v2.6.2$562da3b2$145428df0f4@127.0.0.1>

2008-06-04 02:05 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/rddads/adsfunc.c
     ! Fix to ADSCREATEFTSINDEX().
       Thanks Brian and Luis.

   * contrib/rddads/ads.ch
     * Formatting: Moved #commands together to end of the file.
     * Formatting: Aligned #define values to look more organized.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Tue Jun  3 22:03:51 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun  3 22:04:02 2008
Subject: [Harbour] 2008-06-04 04:02 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806040203.m5423pF3025313@31-mo5-4.acn.waw.pl>

2008-06-04 04:02 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-mkslib.sh
  * harbour/bin/hb-func.sh
  * harbour/bin/postinst.sh
  * harbour/bin/pack_src.sh
  * harbour/contrib/hbw32ddr/make_gcc.sh
  * harbour/contrib/hbmysql/make_gcc.sh
  * harbour/contrib/hbct/make_gcc.sh
  * harbour/contrib/hbodbc/make_gcc.sh
  * harbour/contrib/xhb/make_gcc.sh
  * harbour/contrib/hbwhat32/make_gcc.sh
  * harbour/contrib/hbtpathy/make_gcc.sh
  * harbour/contrib/hbtpathy/make_b32.bat
  * harbour/contrib/hbtpathy/make_vc.bat
  * harbour/contrib/hbgt/make_gcc.sh
  * harbour/contrib/hbw32/make_gcc.sh
  * harbour/contrib/hbmsql/make_gcc.sh
  * harbour/contrib/hbsqlit2/vdbeaux.c
  * harbour/contrib/hbsqlit2/build.c
  * harbour/contrib/hbsqlit2/hbsqlit2.ch
  * harbour/contrib/hbsqlit2/vdbeInt.h
  * harbour/contrib/hbsqlit2/opcodes.h
  * harbour/contrib/hbsqlit2/btree.c
  * harbour/contrib/hbsqlit2/delete.c
  * harbour/contrib/hbsqlit2/printf.c
  * harbour/contrib/hbsqlit2/trigger.c
  * harbour/contrib/hbsqlit2/attach.c
  * harbour/contrib/hbsqlit2/btree.h
  * harbour/contrib/hbsqlit2/sqlite.h
  * harbour/contrib/hbsqlit2/pragma.c
  * harbour/contrib/hbsqlit2/config.h
  * harbour/contrib/hbsqlit2/util.c
  * harbour/contrib/hbsqlit2/select.c
  * harbour/contrib/hbsqlit2/os.c
  * harbour/contrib/hbsqlit2/tests/hbsqlite.prg
  * harbour/contrib/hbsqlit2/hash.c
  * harbour/contrib/hbsqlit2/os.h
  * harbour/contrib/hbsqlit2/tokenize.c
  * harbour/contrib/hbsqlit2/hash.h
  * harbour/contrib/hbsqlit2/hbsqlit2.c
  * harbour/contrib/hbsqlit2/Makefile
  * harbour/contrib/hbsqlit2/pager.c
  * harbour/contrib/hbsqlit2/vacuum.c
  * harbour/contrib/hbsqlit2/auth.c
  * harbour/contrib/hbsqlit2/pager.h
  * harbour/contrib/hbsqlit2/insert.c
  * harbour/contrib/hbsqlit2/copy.c
  * harbour/contrib/hbsqlit2/parse.c
  * harbour/contrib/hbsqlit2/where.c
  * harbour/contrib/hbsqlit2/date.c
  * harbour/contrib/hbsqlit2/common.mak
  * harbour/contrib/hbsqlit2/expr.c
  * harbour/contrib/hbsqlit2/parse.h
  * harbour/contrib/hbsqlit2/random.c
  * harbour/contrib/hbsqlit2/vdbe.c
  * harbour/contrib/hbsqlit2/sqliteInt.h
  * harbour/contrib/hbsqlit2/update.c
  * harbour/contrib/hbsqlit2/main.c
  * harbour/contrib/hbsqlit2/btree_rb.c
  * harbour/contrib/hbsqlit2/vdbe.h
  * harbour/contrib/hbsqlit2/table.c
  * harbour/contrib/hbsqlit2/readme.txt
  * harbour/contrib/hbsqlit2/func.c
  * harbour/contrib/hbsqlit2/opcodes.c
  * harbour/contrib/hbsqlit2/encode.c
  * harbour/contrib/hbole/make_gcc.sh
  * harbour/contrib/hbmzip/make_b32.bat
  * harbour/contrib/hbmzip/make_vc.bat
  * harbour/contrib/hbfbird/make_gcc.sh
  * harbour/contrib/hbapollo/make_gcc.sh
  * harbour/contrib/hbcurl/tests/ftp_uldl.prg
  * harbour/contrib/mtpl_gcc.mak
  * harbour/source/hbpcre/cnv_o2hb.bat
  * harbour/source/hbpcre/cnv_hb2o.bat
    * CRLF<->LF conversion
    * set strict svn:eol-style

best regards
Przemek
From philb at philb.us  Tue Jun  3 22:58:39 2008
From: philb at philb.us (Phil Barnett)
Date: Tue Jun  3 22:58:43 2008
Subject: [Harbour] Release Time
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECAD@SRV02.deltain.net>
References: <200806012300.58789.philb@philb.us>
	<200806022052.58113.philb@philb.us>
	<AFB948164110ED43B5EB849E8DEEF03815ECAD@SRV02.deltain.net>
Message-ID: <200806032258.39380.philb@philb.us>

On Tuesday 03 June 2008 12:15:20 pm Massimo Belgrano wrote:
> I think usenet when write fidonet

> > What about new harbour's web site and fidonet group?

What about it?

-- 
Waiting for sunspots.
From philb at philb.us  Tue Jun  3 23:00:53 2008
From: philb at philb.us (Phil Barnett)
Date: Tue Jun  3 23:00:56 2008
Subject: [Harbour] Release Time
In-Reply-To: <200806012300.58789.philb@philb.us>
References: <200806012300.58789.philb@philb.us>
Message-ID: <200806032300.53765.philb@philb.us>

On Sunday 01 June 2008 11:00:58 pm Phil Barnett wrote:
> I know I promised to make the release mark last weekend, but things got in
> the way and this is the first time I've even gotten back to read the list's
> email. Wow, what a huge effort on bug fixing. I'm glad this all made it
> into the release candidate.
>
> Please let me know if the bug fixes are all in for everything but contrib
> and I'll set the mark.
>
> If you have a bug fix that needs to go in before we set the RC1 mark, do it
> now or let us all know when it will go in.
>
> I expect to set the RC1 mark Tuesday night.

After a nice 13 hour day at work, I'll get started on this in a few minutes. 

Please stop committing at this time. Thanks.

-- 
Waiting for sunspots.
From philb at philb.us  Wed Jun  4 01:17:45 2008
From: philb at philb.us (Phil Barnett)
Date: Wed Jun  4 01:17:49 2008
Subject: [Harbour] harbour-RC1 tag is in place.
Message-ID: <200806040117.45777.philb@philb.us>

I updated the following files

Sending        [harbour]/ChangeLog
Sending        [harbour]/doc/whatsnew.txt
Sending        [harbour]/harbour.spec
Sending        [harbour]/include/hbver.h
Transmitting file data ....
Committed revision 8597.

I have no idea how or how long the version has been at 1.1.1, but it is now 
0.9.9-RC1. When we get to 1.0, it will change to 1.0.0

In SVN, tagging is simply a copy operation, so I placed the tag with the 
following command:

$ svn copy 
https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour 
https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour-RC1

Committed revision 8598.

So, I believe you can all start working on the new RC1 image by changing your 
co directory to the new directory.

Let me know if I did something stupid.

-- 
Waiting for sunspots.
From dbtopas at dbtopas.lt  Wed Jun  4 01:35:42 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Jun  4 01:37:39 2008
Subject: [Harbour] harbour-RC1 tag is in place.
In-Reply-To: <200806040117.45777.philb@philb.us>
References: <200806040117.45777.philb@philb.us>
Message-ID: <484629AE.1040806@dbtopas.lt>

Phil Barnett wrote:
> In SVN, tagging is simply a copy operation, so I placed the tag with the 
> following command:
> 
> $ svn copy 
> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour 
> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour-RC1


Hi,


I guess it should be in the 
https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/tags
(not in /thunk)!

I also think we must agree on tags names in advance. Current /tags 
folder contains many different "animals". I propose tags names:
0.9.9-RC1 (or 1.0-RC1 I'm not sure what name is more correct)
1.0.0
1.0.1
1.2.0
etc...

Names for branches:
1.0
1.2
etc...

Feature branches could be named: feature-webgt, feature-gc, etc.,  if we 
ever need a feature branches.


Best regards,
Mindaugas
From dbtopas at dbtopas.lt  Wed Jun  4 02:00:51 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Jun  4 02:02:48 2008
Subject: [Harbour] harbour-RC1 tag is in place.
In-Reply-To: <484629AE.1040806@dbtopas.lt>
References: <200806040117.45777.philb@philb.us> <484629AE.1040806@dbtopas.lt>
Message-ID: <48462F93.1000805@dbtopas.lt>

P.S. I also remember Przemek some time ago mentioned some issue about 
Linux package versioning. I see last release 0.99.3, on SourceForge 
download.
It could be, 0.9.9 is less than 0.99.3, and packages will not be updated 
to 0.9.9. So, probably this should be 0.99.9 (or 0.99.4-RC1, to allow 
0.99.5-RC2). I'm not sure how versions are compared by package 
manager... Let's ask guru.
From niki at synel.co.il  Wed Jun  4 02:00:18 2008
From: niki at synel.co.il (Chen Kedem)
Date: Wed Jun  4 02:07:48 2008
Subject: [Harbour] RE: SourceForge issues
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C0215F398B0@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C0215F398B0@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C0215F398D8@Mail-yoq.SYNEL-COMPANY.LTD>

Now that the tag was set, I guess its time to build binaries.
What should be the process for uploading?

  Chen.


________________________________________
From: Chen Kedem
Sent: 25 May 2008 09:42
To: harbour@harbour-project.org
Subject: SourceForge issues

File upload mechanism was changed in the past month. Upload via anonymous FTP is not supported
any more. See this link:
http://alexandria.wiki.sourceforge.net/File+Release+System+-+Offering+Files+for+Download

When we did a release, users uploaded the files to FT and one of the project admins took the files
and used them to create a release in the SF Download page. Now, it seems that each user can only
see that files that he/she was uploaded, so the admin can't see files contributed by other members.
I post a question on the SF community forum (which sucks by the way), and this is the reply I got:
http://sourceforge.net/community/forum/topic.php?id=2393
From harbour.01 at syenar.hu  Wed Jun  4 02:45:33 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 02:46:41 2008
Subject: [Harbour] harbour-RC1 tag is in place.
In-Reply-To: <200806040117.45777.philb@philb.us>
References: <200806040117.45777.philb@philb.us>
Message-ID: <D37C4D0E-9415-4CBB-8AC8-F7B2FC8CCD08@syenar.hu>

Hi Phil,

Many thanks.

I wonder if we should rather have a 'harbour-1.0.0'
(or similar, with an agreed version number), and we
should simply release RC1 -> RC2 -> RCn by doing
updates inside this one branch, rather than having
separate branches for all sub-releases of 1.0.0.

Brgds,
Viktor

On 2008.06.04., at 7:17, Phil Barnett wrote:

> I updated the following files
>
> Sending        [harbour]/ChangeLog
> Sending        [harbour]/doc/whatsnew.txt
> Sending        [harbour]/harbour.spec
> Sending        [harbour]/include/hbver.h
> Transmitting file data ....
> Committed revision 8597.
>
> I have no idea how or how long the version has been at 1.1.1, but it  
> is now
> 0.9.9-RC1. When we get to 1.0, it will change to 1.0.0
>
> In SVN, tagging is simply a copy operation, so I placed the tag with  
> the
> following command:
>
> $ svn copy
> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour-RC1
>
> Committed revision 8598.
>
> So, I believe you can all start working on the new RC1 image by  
> changing your
> co directory to the new directory.
>
> Let me know if I did something stupid.
>
> -- 
> Waiting for sunspots.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Wed Jun  4 05:28:41 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jun  4 05:28:49 2008
Subject: [Harbour] Release Time
In-Reply-To: <200806032258.39380.philb@philb.us>
References: <200806012300.58789.philb@philb.us><200806022052.58113.philb@philb.us><AFB948164110ED43B5EB849E8DEEF03815ECAD@SRV02.deltain.net>
	<200806032258.39380.philb@philb.us>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECAF@SRV02.deltain.net>

Do you plan open a fidonet group or something similar for user group ?
Is possible after new release having something of news in webside?


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Phil Barnett
Sent: Wednesday, June 04, 2008 4:59 AM
To: harbour@harbour-project.org
Subject: Re: [Harbour] Release Time

On Tuesday 03 June 2008 12:15:20 pm Massimo Belgrano wrote:
> I think usenet when write fidonet

> > What about new harbour's web site and fidonet group?

What about it?

-- 
Waiting for sunspots.
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Wed Jun  4 05:28:44 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 05:28:54 2008
Subject: [Harbour] [RC1] 2008-06-04 11:26 UTC+0100 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8c625$Blat.v2.6.2$624b183e$1e3cbbca48b0@127.0.0.1>

2008-06-04 11:26 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * include/hbver.h
     + Added HB_VERSION unified version identifier:
       three bytes: major + minor + revision (0x000909)
       This is to aid 3rd parties to detect version.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun  4 05:46:25 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 05:46:33 2008
Subject: [Harbour] 2008-06-04 11:41 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c627$Blat.v2.6.2$daa94f56$16cc564bad96@127.0.0.1>

2008-06-04 11:41 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * include/hbver.h
     + Added HB_VERSION unified version identifier:
       three bytes: major + minor + revision (0x000909)
       This is to aid 3rd parties to detect version.
       [RC1]

   * contrib/hbsqlit3/make_b32.bat
   * contrib/hbsqlit3/hbsqlit3.c
     ! SQLITE3_OPEN(): Fixed potential leak.
     + BCC warnings are now suppressed for the foreign code only, 
       and this is now effective in all build systems.
     * Code formatting.
--
Brgds,
Viktor

From a.jurkiewicz at abix.info.pl  Wed Jun  4 06:33:57 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Wed Jun  4 06:34:03 2008
Subject: [Harbour] Bug in hbgtmk.sh or make_rpm.sh
Message-ID: <200806041233.57400.a.jurkiewicz@abix.info.pl>

Thi is for Przemek...
I've just ran hbgtmk.sh and ...

Pobrano wersj? 8599.
b??d: linia 96: Nielegalny znak '-' w version: Version:        0.9.9-RC1
Translation: Illegal char '-' in Version ....

Because hbgtmk.sh has only 40 lines, I've checked out make_rmp.sh in line 96:

93:if test_reqrpm "postgresql-devel"
94:then
95:    INST_PARAM="${INST_PARAM} --with pgsql"
96:fi

OpenSuSE 10.3 of course.
Adam
-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
From f.eichelhardt at web.de  Wed Jun  4 11:09:19 2008
From: f.eichelhardt at web.de (Fritz Eichelhardt)
Date: Wed Jun  4 08:02:34 2008
Subject: [Harbour] Scan to pdf
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EC59@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815EC59@SRV02.deltain.net>
Message-ID: <200806041709.19391.f.eichelhardt@web.de>

hi massimo,

Am Freitag, 23. Mai 2008 17:05:06 schrieb Massimo Belgrano:
> There is a way in harbour  for Scan a page and generate a pdf?
i would do that with sribus.

the spelling was wrong.
i meant scribus.

what happened to your idea?

you'll find scribus at         www.sourceforge.org.
it's free and open source - for windows and linux.

i can and will help you, if help is needed/wanted.

-- 
Mit freundlichen Gr??en

Fritz Eichelhardt
Br?ckenstr. 1
53545 Linz
Tel.: 02644 - 3784
Fax/UMS: 01212 - 517045068
From harbour.01 at syenar.hu  Wed Jun  4 08:09:28 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 08:09:34 2008
Subject: [Harbour] 2008-06-04 14:02 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c63b$Blat.v2.6.2$d68e53e4$2488d8a2876a@127.0.0.1>

2008-06-04 14:02 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbsqlit3/hbsqlit3.c
     % Removed __XHARBOUR__ guards.
     * Minor cleanups.

   * contrib/hbsqlit2/hbsqlit2.c
     % Major cleanup, formatting, optimizations.
     ! INCOMPATIBLE: public vars prefixed with 'hb_sqlite2_'.
--
Brgds,
Viktor

From mbelgrano at deltain.it  Wed Jun  4 08:12:38 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jun  4 08:12:45 2008
Subject: [Harbour] Scan to pdf
In-Reply-To: <200806041709.19391.f.eichelhardt@web.de>
References: <AFB948164110ED43B5EB849E8DEEF03815EC59@SRV02.deltain.net>
	<200806041709.19391.f.eichelhardt@web.de>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECB3@SRV02.deltain.net>

http://sourceforge.net/projects/scribus/
You can made a static library for Manage scanner from harbour?


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Fritz Eichelhardt
Sent: Wednesday, June 04, 2008 5:09 PM
To: harbour@harbour-project.org
Subject: Re: [Harbour] Scan to pdf

hi massimo,

Am Freitag, 23. Mai 2008 17:05:06 schrieb Massimo Belgrano:
> There is a way in harbour  for Scan a page and generate a pdf?
i would do that with sribus.

the spelling was wrong.
i meant scribus.

what happened to your idea?

you'll find scribus at         www.sourceforge.org.
it's free and open source - for windows and linux.

i can and will help you, if help is needed/wanted.

-- 
Mit freundlichen Gr??en

Fritz Eichelhardt
Br?ckenstr. 1
53545 Linz
Tel.: 02644 - 3784
Fax/UMS: 01212 - 517045068
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From rglab at przesiew.imid.med.pl  Wed Jun  4 08:27:44 2008
From: rglab at przesiew.imid.med.pl (Ryszard Glab)
Date: Wed Jun  4 08:14:45 2008
Subject: [Harbour] 2008-06-02 16:46 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <2A81F908-58C7-4C8C-938B-99C7B57AB5F4@syenar.hu>
References: <200806021446.m52EkLBu032064@31-mo5-4.acn.waw.pl>,
	<20080602180811.GB26641@34-mo7-2.acn.waw.pl>,
	<2A81F908-58C7-4C8C-938B-99C7B57AB5F4@syenar.hu>
Message-ID: <4846A660.890.5FB989F@rglab.przesiew.imid.med.pl>

On 2 Jun 2008 at 20:13, Szak?ts Viktor wrote:

> > Probably Ryszard should answer for this.
> > Now upper letters are used to disable some features.
> > In the future we may need more combinations so maybe it's
> > good idea to keep it case sensitive.
> 
> Well, I really hope so we won't need that many
> such language modifiers. Unless we want to kill the
> language that is.
> 
> The turn off vs on would make sense, but I think it's
> enough to emphasis that in the description.

  Curently only a set of features can be enabled/disabled (Clipper 
compatibility/harbour extensions/xbase extensions). My first idea was 
disabling/enabling any single feature thus case sensitivity was used 
to increase the number of available switches. Since the idea of such 
detailed switches was not accepted here thenwe can remove case 
sensitivity.

Regards, Ryszard

PS. I am really amazed (positively) with the amount of changes in 
Harbour.
From philb at philb.us  Wed Jun  4 08:26:47 2008
From: philb at philb.us (Phil Barnett)
Date: Wed Jun  4 08:26:53 2008
Subject: [Harbour] Release Time
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECAF@SRV02.deltain.net>
References: <200806012300.58789.philb@philb.us>
	<200806032258.39380.philb@philb.us>
	<AFB948164110ED43B5EB849E8DEEF03815ECAF@SRV02.deltain.net>
Message-ID: <200806040826.47329.philb@philb.us>

On Wednesday 04 June 2008 05:28:41 am Massimo Belgrano wrote:
> Do you plan open a fidonet group or something similar for user group ?
> Is possible after new release having something of news in webside?

We can reopen the mailing list harbour-users.

-- 
Waiting for sunspots.
From philb at philb.us  Wed Jun  4 08:28:51 2008
From: philb at philb.us (Phil Barnett)
Date: Wed Jun  4 08:28:54 2008
Subject: [Harbour] harbour-RC1 tag is in place.
In-Reply-To: <D37C4D0E-9415-4CBB-8AC8-F7B2FC8CCD08@syenar.hu>
References: <200806040117.45777.philb@philb.us>
	<D37C4D0E-9415-4CBB-8AC8-F7B2FC8CCD08@syenar.hu>
Message-ID: <200806040828.51318.philb@philb.us>

On Wednesday 04 June 2008 02:45:33 am Szak?ts Viktor wrote:
> Hi Phil,
>
> Many thanks.
>
> I wonder if we should rather have a 'harbour-1.0.0'
> (or similar, with an agreed version number), and we
> should simply release RC1 -> RC2 -> RCn by doing
> updates inside this one branch, rather than having
> separate branches for all sub-releases of 1.0.0.

I found it interesting that there is no difference in SVN between branch and 
tag.

And I can certainly change it to 1.0.0-RC1. I think that's a good idea.


-- 
Waiting for sunspots.
From harbour.01 at syenar.hu  Wed Jun  4 08:29:11 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 08:29:17 2008
Subject: [Harbour] 2008-06-04 14:27 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c63e$Blat.v2.6.2$97c5a4e8$115c3f3454f2@127.0.0.1>

2008-06-04 14:27 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbsqlit2/hbsqlit2.c
     * Further cleanup, optimizations.
     ! Converted to use ANSI comment only.

   * contrib/hbsqlit3/hbsqlit3.c
     % Minor optimization.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun  4 08:38:12 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 08:39:19 2008
Subject: [Harbour] SQLite 2/3
In-Reply-To: <17586538.post@talk.nabble.com>
References: <6899C37B-2718-46F9-AC38-C37B71631700@syenar.hu>
	<17586538.post@talk.nabble.com>
Message-ID: <D10A6877-9A54-48B8-A39A-ADD3419ACDBC@syenar.hu>

Hi Petr,

Sorry, I forgot to check if you have R/W access
for Harbour SVN to be able to access your own
work here, but I see you don't.

So, if you have an sf.net ID, I'd gladly add
you to the developer list.

Brgds,
Viktor

On 2008.06.01., at 17:02, Petr Chornyj wrote:

>
>
> Szak?ts Viktor wrote:
>>
>>
>> I got GPFs however when trying sqlite3_test,
>> so some things might not be perfect yet.
>>
>>
>
> Hi, Viktor
>
> In hbsqlit3.c pls replace
>
> #include "sqlite3ext.h"
>
> SQLITE_EXTENSION_INIT1
> //SQLITE_EXTENSION_INIT2(v)
>
> =>
>
> #include "sqlite3.h"
>
> //SQLITE_EXTENSION_INIT1
> //SQLITE_EXTENSION_INIT2(v)
>
>
> Regards,
> Petr
> -- 
> View this message in context: http://www.nabble.com/SQLite-2-3-tp17585333p17586538.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Wed Jun  4 08:44:44 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jun  4 08:44:51 2008
Subject: [Harbour] Release Time
In-Reply-To: <200806040826.47329.philb@philb.us>
References: <200806012300.58789.philb@philb.us><200806032258.39380.philb@philb.us><AFB948164110ED43B5EB849E8DEEF03815ECAF@SRV02.deltain.net>
	<200806040826.47329.philb@philb.us>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECB4@SRV02.deltain.net>

Where?
Google or Yahoo group is better than old source forge mailing system
Requirement can be:
Aivable via web or nntp or mailing list 
capability of Attach file (so user can attach little image or database)

http://en.wikipedia.org/wiki/Google_Groups
http://en.wikipedia.org/wiki/Yahoo_group
http://en.wikipedia.org/wiki/Usenet

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Phil Barnett
Sent: Wednesday, June 04, 2008 2:27 PM
To: harbour@harbour-project.org
Subject: Re: [Harbour] Release Time

On Wednesday 04 June 2008 05:28:41 am Massimo Belgrano wrote:
> Do you plan open a fidonet group or something similar for user group ?
> Is possible after new release having something of news in webside?

We can reopen the mailing list harbour-users.

-- 
Waiting for sunspots.
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From dbtopas at dbtopas.lt  Wed Jun  4 08:48:41 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Jun  4 08:50:38 2008
Subject: [Harbour] Macro compile syntax error argument
Message-ID: <48468F29.3070201@dbtopas.lt>

Hi,


one more Clipper/Harbour compatibility issue. Harbour does not set 
oErrorObject:Args in case of macro compile syntax error.

Sample:
PROC main()
LOCAL bI
   ERRORBLOCK({|e| QOUT(VALTYPE(e:Args))})
   bI := &("{|| 'hhh}")
RETURN

Clipper:
A

Harbour:
U


Best regards,
Mindaugas
From mbelgrano at deltain.it  Wed Jun  4 09:37:25 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jun  4 09:37:35 2008
Subject: [Harbour] untranslate seem not work with #INCLUDE"hbcompat.ch"
In-Reply-To: <20080603155058.GA12095@34-mo7-2.acn.waw.pl>
References: <AFB948164110ED43B5EB849E8DEEF03815ECA9@SRV02.deltain.net><AFB948164110ED43B5EB849E8DEEF03815ECAB@SRV02.deltain.net><AFB948164110ED43B5EB849E8DEEF03815ECAC@SRV02.deltain.net>
	<20080603155058.GA12095@34-mo7-2.acn.waw.pl>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECB6@SRV02.deltain.net>

I have added to mysource #include "hbcompat.ch" and receive this error 
ARCALOG.PRG(3632) Error E0030  Syntax error: "syntax error at ')'"
ARCALOG.PRG(3632) Error E0022  Invalid lvalue: '()'
ARCALOG.PRG(3636) Error E0030  Syntax error: "syntax error at 'ENDIF'"
Without #include "hbcompat.ch" I not receive this error

3623               for A := 1 to NCAMPI
                  if type(alias()+"->"+NOM[A]) <> type("M_"+NOM[A])
.and. type(alias()+"->"+NOM[A]) <> "M"              
                     //                  ONLY
                     //                  fields
                     //                  veryfie
                     //                  content
                     //                  but no memo
                     x_ster := x_ster+alias()+"->"+NOM[A]+" "
                  else
3632                  if (.not. &(alias()+"->"+NOM[A]) ==
&("M_"+NOM[A])) .or. type(alias()+"->"+NOM[A]) = "M"           
3633                      replace &( alias() + "->" + NOM[ A ] ) with
&("M_"+NOM[A]) // VETTORE=NOM[A]
3634                      X_COSAAGG=X_COSAAGG+ NOM[ A ] +"="+ANY2STR(
&("M_"+NOM[A]) )+","
3635                   endif
3636                  endif
               next A


ppo
               for A := 1 to NCAMPI
                  if type(alias()+"->"+NOM[A]) <> type("M_"+NOM[A])
.AND. type(alias()+"->"+NOM[A]) <> "M"





                     x_ster := x_ster+alias()+"->"+NOM[A]+" "
                  else
                     if ( HB_BITAND( (!), ( HB_BITAND(
((alias()+"->"+NOM[A]) ==), (("M_"+NOM[A])) ) ) ) ) .OR.
type(alias()+"->"+NOM[A]) = "M"
                        _FIELD->&( alias() + "->" + NOM[ A ] ) :=
&("M_"+NOM[A])
                        X_COSAAGG=X_COSAAGG+ NOM[ A ] +"="+ANY2STR(
&("M_"+NOM[A]) )+","
                     endif
                  endif
               next


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Przemyslaw
Czerpak
Sent: Tuesday, June 03, 2008 5:51 PM
To: Harbour Project Main Developer List.
Subject: Re: RE: [Harbour] untranslate seem not work with
#INCLUDE"hbcompat.ch"

On Tue, 03 Jun 2008, Massimo Belgrano wrote:

Hi Massimo,

> when I have added include "hbcompact.ch" untranslate seem not work

The code below is preprocessed perfectly well. I do not see any problem.

best regards,
Przemek


#xtranslate lj_gotoxy(      =>   lj2_gotoxy(
#xtranslate LJ_SAY(         =>   lj2_SAY(
#xtranslate LJ_FILL(        =>   lj2_FILL(
#xtranslate LoPrPcx(        =>   LO2_PRJPG(

lj_gotoxy()
LJ_SAY()
LJ_FILL()
LoPrPcx()

#INCLUDE "hbcompat.ch"

#xuntranslate lj_gotoxy  (      =>
#xuntranslate LJ_SAY     (      =>
#xuntranslate LJ_FILL    (      =>
#xuntranslate LoPrPcx    (      =>

lj_gotoxy()
LJ_SAY()
LJ_FILL()
LoPrPcx()
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Wed Jun  4 09:53:08 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 09:53:13 2008
Subject: [Harbour] 2008-06-04 15:48 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c64a$Blat.v2.6.2$51f701e4$115885707648@127.0.0.1>

2008-06-04 15:48 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/hbbit.c
     + Added important NOTE about hb_bit*() functions' 
       relation to the compiler optimization engine.

   * source/vm/fm.c
   * source/vm/extrap.c
     * Log filenames converted to static variables. With the 
       intent that they'll be converted to Set()s or similar 
       user settable values in the future, since it's useful 
       and more elegant to redirect these to the app's normal 
       logfile.

   * contrib/hbsqlit3/hbsqlit3.c
     * Minor formatting.
--
Brgds,
Viktor

From myorg63 at mail.ru  Wed Jun  4 10:23:21 2008
From: myorg63 at mail.ru (Petr Chornyj)
Date: Wed Jun  4 10:23:28 2008
Subject: [Harbour] SQLite 2/3
In-Reply-To: <D10A6877-9A54-48B8-A39A-ADD3419ACDBC@syenar.hu>
References: <6899C37B-2718-46F9-AC38-C37B71631700@syenar.hu>
	<D10A6877-9A54-48B8-A39A-ADD3419ACDBC@syenar.hu>
Message-ID: <17647976.post@talk.nabble.com>




Szak?ts Viktor wrote:
> 
> 
> So, if you have an sf.net ID, I'd gladly add
> you to the developer list.
> 
> 

Hi Viktor,

my sf.net ID is petr_ch


Regards
Petr



-- 
View this message in context: http://www.nabble.com/SQLite-2-3-tp17585333p17647976.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Jun  4 10:29:55 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 10:30:59 2008
Subject: [Harbour] SQLite 2/3
In-Reply-To: <17647976.post@talk.nabble.com>
References: <6899C37B-2718-46F9-AC38-C37B71631700@syenar.hu>
	<D10A6877-9A54-48B8-A39A-ADD3419ACDBC@syenar.hu>
	<17647976.post@talk.nabble.com>
Message-ID: <04B25E72-FCA0-4D50-8DA9-21536DCA947F@syenar.hu>

Thanks Petr, you're now added. Welcome!

Brgds,
Viktor

On 2008.06.04., at 16:23, Petr Chornyj wrote:

>
>
>
> Szak?ts Viktor wrote:
>>
>>
>> So, if you have an sf.net ID, I'd gladly add
>> you to the developer list.
>>
>>
>
> Hi Viktor,
>
> my sf.net ID is petr_ch
>
>
> Regards
> Petr
>
>
>
> -- 
> View this message in context: http://www.nabble.com/SQLite-2-3-tp17585333p17647976.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Wed Jun  4 11:12:59 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jun  4 11:13:08 2008
Subject: [Harbour] threee question regarding harbour
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECB8@SRV02.deltain.net>

How detect wich os  is running?
      aversion:=OS_VersionInfo()
      if aversion[1]=6  // SE WINDOWS VISTA

Can i change active gt only at startup with parameter like "//GTWIN" Or
can I change via code?

How undestrand if a function (like cstr) is present in one or more
library?

Massimo Belgrano



From harbour.01 at syenar.hu  Wed Jun  4 11:23:03 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 11:23:09 2008
Subject: [Harbour] 2008-06-04 17:21 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c656$Blat.v2.6.2$e1ba84e8$6a82830a6f0@127.0.0.1>

2008-06-04 17:21 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbcurl/hbcurl.c
     + Changed to use hb_parc() (instead of hb_parcx()) for all 
       curl_easy_setopt() string options, so that NULL (NIL) will 
       reset these options to default state, instead of passing 
       an empty string to them.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun  4 11:36:12 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 11:36:17 2008
Subject: [Harbour] 2008-06-04 17:32 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c658$Blat.v2.6.2$b7ef4a98$e147c7a4090@127.0.0.1>

2008-06-04 17:32 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbcurl/hbcurl.c
     * Changed all logical options to default to .T.. This 
       way all work the same way, and in real life usage 
       the logical parameter can omitted in most cases.
       INCOMPATIBLE.

   * contrib/hbcurl/tests/ftp_uldl.prg
     + Added small example to get a dir listing.
--
Brgds,
Viktor

From lkrausem at shaw.ca  Wed Jun  4 12:59:55 2008
From: lkrausem at shaw.ca (Luis Krause Mantilla)
Date: Wed Jun  4 13:00:42 2008
Subject: [Harbour] Skipping rddads buiild when building all contibs
Message-ID: <4846CA0B.1080604@shaw.ca>

Viktor:

For those developers that like to build all contribs but do
not have the advantage SDK, is there a way to instruct
make_*_all to skip it it to avoid errors?

Regards,

-- 
Luis Krause Mantilla
lkrausem at shaw dot ca
luis_krause at hotmail dot com
"May the Source be with GNU"


From harbour.01 at syenar.hu  Wed Jun  4 13:01:04 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 13:01:09 2008
Subject: [Harbour] 2008-06-04 18:55 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c664$Blat.v2.6.2$92fe723e$1660100484f8@127.0.0.1>

2008-06-04 18:55 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbcurl/hbcurl.c
   * contrib/hbcurl/hbcurl.ch
   * contrib/hbcurl/tests/ftp_uldl.prg
     + Added some more test for downloading to memory, 
       uploading from memory.
     + Added possibility to download to memory, and upload 
       from memory:
       - CURL_EASY_SETOPT() / HB_CURLOPT_UL_BUFF_SETUP
       - CURL_EASY_SETOPT() / HB_CURLOPT_DL_BUFF_SETUP
       - CURL_EASY_SETOPT() / HB_CURLOPT_DL_BUFF_GET  
       - CURL_EASY_DL_BUFF_GET() -> <cFileContent>
     * Changed a few old Harbour setopt defines:
       (old ones are still working to retain compatibility)
       - HB_CURLOPT_SETUPLOADFILE     -> HB_CURLOPT_UL_FILE_SETUP
       - HB_CURLOPT_CLOSEUPLOADFILE   -> HB_CURLOPT_UL_FILE_CLOSE
       - HB_CURLOPT_SETDOWNLOADFILE   -> HB_CURLOPT_DL_FILE_SETUP
       - HB_CURLOPT_CLOSEDOWNLOADFILE -> HB_CURLOPT_DL_FILE_CLOSE
       - HB_CURLOPT_SETPROGRESS       -> HB_CURLOPT_PROGRESSBLOCK
--
Brgds,
Viktor

From mbelgrano at deltain.it  Wed Jun  4 13:05:21 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jun  4 13:05:30 2008
Subject: [Harbour] Skipping rddads buiild when building all contibs
In-Reply-To: <4846CA0B.1080604@shaw.ca>
References: <4846CA0B.1080604@shaw.ca>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECBE@SRV02.deltain.net>

Afaik without set HB_DIR_ADS=   instead of 
set HB_DIR_ADS=C:\Program Files\Extended Systems\Advantage 8.1\acesdk
Harbour not compile advantage lib 


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Luis Krause
Mantilla
Sent: Wednesday, June 04, 2008 7:00 PM
To: Harbour Project Main Developer List.
Subject: [Harbour] Skipping rddads buiild when building all contibs

Viktor:

For those developers that like to build all contribs but do
not have the advantage SDK, is there a way to instruct
make_*_all to skip it it to avoid errors?

Regards,

-- 
Luis Krause Mantilla
lkrausem at shaw dot ca
luis_krause at hotmail dot com
"May the Source be with GNU"


_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Wed Jun  4 13:13:56 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 13:15:02 2008
Subject: [Harbour] Skipping rddads buiild when building all contibs
In-Reply-To: <4846CA0B.1080604@shaw.ca>
References: <4846CA0B.1080604@shaw.ca>
Message-ID: <A03A7656-1045-4ECB-B345-70FC1CC569B9@syenar.hu>

Hi Luis,

make_*_all script will only build contribs with external
dependencies, if their corresponding HB_DIR_* envvar is set,
otherwise they will be skipped. This is the case with RDDADS,
too, its envvar is HB_DIR_ADS.

Brgds,
Viktor

On 2008.06.04., at 18:59, Luis Krause Mantilla wrote:

> Viktor:
>
> For those developers that like to build all contribs but do
> not have the advantage SDK, is there a way to instruct
> make_*_all to skip it it to avoid errors?
>
> Regards,
>
> -- 
> Luis Krause Mantilla
> lkrausem at shaw dot ca
> luis_krause at hotmail dot com
> "May the Source be with GNU"
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Jun  4 13:22:41 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 13:22:48 2008
Subject: [Harbour] 2008-06-04 19:21 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c667$Blat.v2.6.2$982d8cf6$1c905084f084@127.0.0.1>

2008-06-04 19:21 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbcurl/hbcurl.c
     ! Missing cast.
--
Brgds,
Viktor

From mbelgrano at deltain.it  Wed Jun  4 13:35:16 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jun  4 13:35:28 2008
Subject: [Harbour] gtwvt function used in xharbour
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECBF@SRV02.deltain.net>

How can rewrite in Harbour using gtwvt or gtwvg ?
   SetShutDownEvent(2048)
   setkey(2048,{|| ReShutDown()})
   SetCloseEvent(2049)
   setkey(2049,{|| ReAppQuit()})

   setkey(K_SH_INS,{|| WVT_PasteFromClipboard()})



Massimo Belgrano

From lkrausem at shaw.ca  Wed Jun  4 13:36:50 2008
From: lkrausem at shaw.ca (Luis Krause Mantilla)
Date: Wed Jun  4 13:48:08 2008
Subject: [Harbour] Skipping rddads buiild when building all contibs
In-Reply-To: <A03A7656-1045-4ECB-B345-70FC1CC569B9@syenar.hu>
References: <4846CA0B.1080604@shaw.ca>
	<A03A7656-1045-4ECB-B345-70FC1CC569B9@syenar.hu>
Message-ID: <4846D2B2.6020903@shaw.ca>

Viktor:

Thanks.  That makes sense.

Szak?ts Viktor wrote:
> Hi Luis,
>
> make_*_all script will only build contribs with external
> dependencies, if their corresponding HB_DIR_* envvar is set,
> otherwise they will be skipped. This is the case with RDDADS,
> too, its envvar is HB_DIR_ADS.
>
> Brgds,
> Viktor
>
> On 2008.06.04., at 18:59, Luis Krause Mantilla wrote:
>
>> Viktor:
>>
>> For those developers that like to build all contribs but do
>> not have the advantage SDK, is there a way to instruct
>> make_*_all to skip it it to avoid errors?
>>
>> Regards,
>>
>> -- 
>> Luis Krause Mantilla
>> lkrausem at shaw dot ca
>> luis_krause at hotmail dot com
>> "May the Source be with GNU"
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>

-- 
Luis Krause Mantilla
lkrausem at shaw dot ca
luis_krause at hotmail dot com
"May the Source be with GNU"


From harbour.01 at syenar.hu  Wed Jun  4 13:55:53 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 13:55:58 2008
Subject: [Harbour] [RC1] 2008-06-04 19:54 UTC+0100 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8c66c$Blat.v2.6.2$3b7979e8$1ebc1144b27a@127.0.0.1>

2008-06-04 19:54 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbsqlit3/hbsqlit3.c
     ! Removed 'HB_VER_MAJOR < 1' version check, as it 
       makes it fail with the new version setting.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun  4 14:13:44 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 14:13:51 2008
Subject: [Harbour] 2008-06-04 20:12 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c66e$Blat.v2.6.2$b9d256b4$268cb95fb634@127.0.0.1>

2008-06-04 20:12 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbcurl/hbcurl.c
     * Minor.

   * contrib/hbodbc/todbc.prg
   * contrib/hbodbc/odbc.txt
   * contrib/hbodbc/sql.ch
   * contrib/hbodbc/readme.txt
     + Added SVN headers.

   * contrib/hbodbc/sql.ch
     ! Aligned #define values.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun  4 14:18:27 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 14:18:34 2008
Subject: [Harbour] 2008-06-04 20:17 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c66f$Blat.v2.6.2$6280b634$24ec997b28f0@127.0.0.1>

2008-06-04 20:17 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbsqlit3/hbsqlit3.c
     ! Fix for GCC.
--
Brgds,
Viktor

From e.m.giordano at emagsoftware.it  Wed Jun  4 14:29:50 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Jun  4 14:29:56 2008
Subject: [Harbour] Bug in GET
Message-ID: <F28C8A930B60415B928E9A220B91221F@emag>

In the following sample press a numeric key and you will see that the 
decimal separator become the dot:

FUNCTION MAIN()

    LOCAL GetList := {}

    LOCAL nVar := 0

    @ 10, 10 GET nVar;
             PICTURE "@EZ 999,999.99"

    READ

    RETURN NIL

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Wed Jun  4 15:48:02 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 15:48:08 2008
Subject: [Harbour] 2008-06-04 21:44 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c67b$Blat.v2.6.2$e62d7538$22e8fb554042@127.0.0.1>

2008-06-04 21:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbcurl/hbcurl.ch
   * contrib/hbcurl/hbcurl.c
   * contrib/hbcurl/tests/ftp_uldl.prg
     + Added test for deleting file.
     + Added dummy upload option:
       + CURL_EASY_SETOPT() / HB_CURLOPT_UL_NULL_SETUP
     ! Fixed all the above setopt options. Very old bug in 
       hbcurl code. Now rename, delete, other custom commands 
       plus a few other options work properly:
       HB_CURLOPT_HTTPHEADER
       HB_CURLOPT_HTTP200ALIASES
       HB_CURLOPT_QUOTE
       HB_CURLOPT_POSTQUOTE
       HB_CURLOPT_PREQUOTE
       HB_CURLOPT_TELNETOPTIONS
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun  4 15:55:20 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 15:56:24 2008
Subject: [Harbour] Bug in GET
In-Reply-To: <F28C8A930B60415B928E9A220B91221F@emag>
References: <F28C8A930B60415B928E9A220B91221F@emag>
Message-ID: <594B4C89-6B3D-4252-922A-DA3330F38D54@syenar.hu>

Yes, it's a known bug, also related to the one
Edmer has sent not long ago. I don't know when
I'll have free time to look at this and fix it,
so I'd welcome if someone would do some fixing
work on this remaining untested part of
TGet(): ::unTransform(), ::PutMask() and ::Picture().

I highly recommend using /tests/rto_get.prg to
verify and compare results with Clipper while
fiddling with them.

There are BTW quite some more incompatibilities
and other uncovered side-cases in these three
functions. Most of them aren't critical though.

Brgds,
Viktor

On 2008.06.04., at 20:29, Enrico Maria Giordano wrote:

> In the following sample press a numeric key and you will see that  
> the decimal separator become the dot:
>
> FUNCTION MAIN()
>
>   LOCAL GetList := {}
>
>   LOCAL nVar := 0
>
>   @ 10, 10 GET nVar;
>            PICTURE "@EZ 999,999.99"
>
>   READ
>
>   RETURN NIL
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Jun  4 16:16:57 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 16:17:01 2008
Subject: [Harbour] [RC1] 2008-06-04 22:13 UTC+0100 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8c67f$Blat.v2.6.2$f04cae04$1a0890ec8bae@127.0.0.1>

2008-06-04 22:13 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * tests/rto_get.prg
     + Added keypress emulator to aid automated testing.
     + Added test for EMG's bug case.
       [RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun  4 16:15:38 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 16:21:47 2008
Subject: [Harbour] 2008-06-04 22:13 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c67f$Blat.v2.6.2$c1389ede$1070e1e5a718@127.0.0.1>

2008-06-04 22:13 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * tests/rto_get.prg
     + Added keypress emulator to aid automated testing.
     + Added test for EMG's bug case.
       [RC1]
--
Brgds,
Viktor

From gvarona at ec-red.com  Wed Jun  4 17:12:14 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Wed Jun  4 17:12:20 2008
Subject: [Harbour] 2008-06-04 20:17 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8c66f$Blat.v2.6.2$6280b634$24ec997b28f0@127.0.0.1>
References: <01c8c66f$Blat.v2.6.2$6280b634$24ec997b28f0@127.0.0.1>
Message-ID: <4847052E.3030604@ec-red.com>

Szak?ts Viktor escribi?:
> 2008-06-04 20:17 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>    * contrib/hbsqlit3/hbsqlit3.c
>      ! Fix for GCC.
>   
Hello, I'm doing tests with hbsqlite3, when the genre LIB throws me 
several Warnings, but it generates the LIB and work examples.
What do these warnings?
TIA
Best Regards
GVS
From gvarona at ec-red.com  Wed Jun  4 17:15:01 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Wed Jun  4 17:15:07 2008
Subject: [Harbour] 2008-06-04 20:17 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8c66f$Blat.v2.6.2$6280b634$24ec997b28f0@127.0.0.1>
References: <01c8c66f$Blat.v2.6.2$6280b634$24ec997b28f0@127.0.0.1>
Message-ID: <484705D5.7020504@ec-red.com>

Szak?ts Viktor escribi?:
> 2008-06-04 20:17 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>    * contrib/hbsqlit3/hbsqlit3.c
>      ! Fix for GCC.
>   
Hello, I'm doing tests with hbsqlite3, when the genre LIB throws me
several Warnings, but it generates the LIB and work examples.
What do these warnings?
TIA
Best Regards
GVS
	
Here I put some warnings:

D:\harbour\contrib\hbsqlit3>mingw32-make
D:\harbour\contrib\hbsqlit3>if not exist w32\. md w32
D:\harbour\contrib\hbsqlit3>if not exist w32\mingw32\. md w32\mingw32
D:\harbour\contrib\hbsqlit3>if not exist ..\..\lib\w32\. md .\..\lib\w32
D:\harbour\contrib\hbsqlit3>if not exist ..\..\lib\w32\mingw32\. md
..\..\lib\w3 2\mingw32
mingw32-make[1]: Entering directory
'D:/harbour/contrib/hbsqlit3/w32/mingw32'
gcc -I. -I../../../../include -mno-cygwin -Wall -W  -c ../../hbsqlit3.c
-ohbsqlit3.o In file included from ../../hbsqlit3.c:46:
../../sqlite3/sqlite3.c: In function `parseModifier':
../../sqlite3/sqlite3.c:9948: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `strftimeFunc':
../../sqlite3/sqlite3.c:10305: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: At top level:
../../sqlite3/sqlite3.c:10384: warning: unused parameter 'argc'
../../sqlite3/sqlite3.c:10386: warning: unused parameter 'argv'
../../sqlite3/sqlite3.c:10397: warning: unused parameter 'argc'
../../sqlite3/sqlite3.c:10399: warning: unused parameter 'argv'
../../sqlite3/sqlite3.c:10410: warning: unused parameter 'argc'
../../sqlite3/sqlite3.c:10412: warning: unused parameter 'argv'
../../sqlite3/sqlite3.c: In function `sqlite3RegisterDateTimeFunctions':
../../sqlite3/sqlite3.c:10486: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `sqlite3_mutex_alloc':
../../sqlite3/sqlite3.c:13648: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: At top level:
../../sqlite3/sqlite3.c:13698: warning: unused parameter 'p'
../../sqlite3/sqlite3.c:13774: warning: unused parameter 'NotUsed'
../../sqlite3/sqlite3.c:13775: warning: unused parameter 'inUse'
../../sqlite3/sqlite3.c:13775: warning: unused parameter 'inUse'
../../sqlite3/sqlite3.c:13807: warning: unused parameter 'n'
../../sqlite3/sqlite3.c: In function `appendSpace':
../../sqlite3/sqlite3.c:14166: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `vxprintf':
../../sqlite3/sqlite3.c:14331: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `sqlite3SafetyCheckOk':
../../sqlite3/sqlite3.c:16950: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c:16951: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `sqlite3SafetyCheckSickOrOk':
../../sqlite3/sqlite3.c:16959: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c:16960: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: At top level:
../../sqlite3/sqlite3.c:22512: warning: unused parameter 'flags'
../../sqlite3/sqlite3.c:22803: warning: unused parameter 'id'
../../sqlite3/sqlite3.c:22810: warning: unused parameter 'id'
../../sqlite3/sqlite3.c:22861: warning: unused parameter 'pVfs'
../../sqlite3/sqlite3.c: In function `winDelete':
../../sqlite3/sqlite3.c:23001: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c:23009: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c:23014: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: At top level:
../../sqlite3/sqlite3.c:22986: warning: unused parameter 'pVfs'
../../sqlite3/sqlite3.c:22989: warning: unused parameter 'syncDir'
../../sqlite3/sqlite3.c:23021: warning: unused parameter 'pVfs'
../../sqlite3/sqlite3.c:23060: warning: unused parameter 'pVfs'
../../sqlite3/sqlite3.c:23114: warning: unused parameter 'nFull'
../../sqlite3/sqlite3.c:23178: warning: unused parameter 'pVfs'
../../sqlite3/sqlite3.c:23196: warning: unused parameter 'pVfs'
../../sqlite3/sqlite3.c:23216: warning: unused parameter 'pVfs'
../../sqlite3/sqlite3.c:23226: warning: unused parameter 'pVfs'
../../sqlite3/sqlite3.c: In function `winRandomness':
../../sqlite3/sqlite3.c:23242: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c:23242: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c:23248: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c:23253: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c:23258: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: At top level:
../../sqlite3/sqlite3.c:23240: warning: unused parameter 'pVfs'
../../sqlite3/sqlite3.c:23271: warning: unused parameter 'pVfs'
../../sqlite3/sqlite3.c:23289: warning: unused parameter 'pVfs'
../../sqlite3/sqlite3.c: In function `sqlite3BitvecSet':
../../sqlite3/sqlite3.c:23511: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `sqlite3BitvecClear':
../../sqlite3/sqlite3.c:23542: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `sqlite3BitvecDestroy':
../../sqlite3/sqlite3.c:23557: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `readMasterJournal':
../../sqlite3/sqlite3.c:24580: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c:24597: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `pager_playback_one_page':
../../sqlite3/sqlite3.c:25193: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `pager_playback':
../../sqlite3/sqlite3.c:25592: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `sqlite3PagerOpen':
../../sqlite3/sqlite3.c:25921: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `pager_truncate_cache':
../../sqlite3/sqlite3.c:26314: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `pager_write_pagelist':
../../sqlite3/sqlite3.c:26743: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `pagerAcquire':
../../sqlite3/sqlite3.c:27414: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `sqlite3PagerWrite':
../../sqlite3/sqlite3.c:28048: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `sqlite3PagerCommitPhaseOne':
../../sqlite3/sqlite3.c:28366: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c:28366: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c:28367: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: At top level:
../../sqlite3/sqlite3.c:31038: warning: unused parameter 'pageSize'
../../sqlite3/sqlite3.c:31060: warning: unused parameter 'pageSize'
../../sqlite3/sqlite3.c:31074: warning: unused parameter 'n'
../../sqlite3/sqlite3.c: In function `incrVacuumStep':
../../sqlite3/sqlite3.c:32127: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c:32200: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `autoVacuumCommit':
../../sqlite3/sqlite3.c:32262: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c:32268: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c:32268: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c:32271: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `getOverflowPage':
../../sqlite3/sqlite3.c:32929: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c:32933: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `accessPayload':
../../sqlite3/sqlite3.c:33055: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `fetchPayload':
../../sqlite3/sqlite3.c:33258: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `allocateBtreePage':
../../sqlite3/sqlite3.c:33918: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c:34054: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c:34092: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c:34104: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `clearCell':
../../sqlite3/sqlite3.c:34237: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `fillInCell':
../../sqlite3/sqlite3.c:34327: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `btreeCreateTable':
../../sqlite3/sqlite3.c:35848: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `clearDatabasePage':

. . .

../../sqlite3/sqlite3.c:64971: warning: unused parameter 'idx'
../../sqlite3/sqlite3.c:66129: warning: unused parameter 'pParse'
../../sqlite3/sqlite3.c:67982: warning: unused parameter 'pParse'
../../sqlite3/sqlite3.c: In function `sqlite3RunVacuum':
../../sqlite3/sqlite3.c:69145: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `sqlite3VtabUnlock':
../../sqlite3/sqlite3.c:69286: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `bestVirtualIndex':
../../sqlite3/sqlite3.c:71291: warning: empty body in an if-statement
../../sqlite3/sqlite3.c:71341: warning: empty body in an if-statement
../../sqlite3/sqlite3.c: In function `bestIndex':
../../sqlite3/sqlite3.c:71679: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: In function `sqlite3WhereBegin':
../../sqlite3/sqlite3.c:72043: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c:72292: warning: comparison between signed and
unsigned
../../sqlite3/sqlite3.c: At top level:
../../sqlite3/sqlite3.c:74484: warning: unused parameter 'yypMinor'
../../sqlite3/sqlite3.c:75943: warning: unused parameter 'yymajor'
../../sqlite3/sqlite3.c:77161: warning: unused parameter 'NotUsed'
../../sqlite3/sqlite3.c: In function `sqliteDefaultBusyCallback':
../../sqlite3/sqlite3.c:77392: warning: comparison between signed and
unsigned
../../hbsqlit3.c: At top level:
../../sqlite3/sqlite3.c:6753: warning: 'sqlite3BtreeHoldsMutex' declared
`stati
' but never defined
../../sqlite3/sqlite3.c:6758: warning: 'sqlite3BtreeHoldsAllMutexes'
declared `
tatic' but never defined
../../sqlite3/sqlite3.c:13576: warning: 'mutexIsNT' defined but not used
ar  cr ../../../../lib/w32/mingw32/libhbsqlit3.a hbsqlit3.o && ranlib
../../../
./lib/w32/mingw32/libhbsqlit3.a || del /q /f
../../../../lib/w32/mingw32/libhbs
lit3.a
mingw32-make[1]: Leaving directory `D:/harbour/contrib/hbsqlit3/w32/mingw32'

D:\harbour\contrib\hbsqlit3>

From harbour.01 at syenar.hu  Wed Jun  4 17:19:52 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 17:19:59 2008
Subject: [Harbour] 2008-06-04 23:18 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c688$Blat.v2.6.2$ba58d076$1a78e8d45aca@127.0.0.1>

2008-06-04 23:18 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbsqlit2/hbsqlit2.c
     * Removed commented debug code.
     * Code cleanup, optimizations.
     ! GPFs fixed in many function, when no db was open.
     ! Automatically closing previous db when opening a new one.
     ! hb_sqlite2_db initialized with NULL.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun  4 17:29:04 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 17:30:13 2008
Subject: [Harbour] 2008-06-04 20:17 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <484705D5.7020504@ec-red.com>
References: <01c8c66f$Blat.v2.6.2$6280b634$24ec997b28f0@127.0.0.1>
	<484705D5.7020504@ec-red.com>
Message-ID: <568F2FC3-24B2-44E8-9F5C-C4AB0A4E3F4C@syenar.hu>

Hi Guillermo,

These are warnings in foreign code, they should either be:
1) ignored (since they most probably don't cause any harm)
2) fixed (and submitted to the sqlite project)
3) suppressed by compiler specific pragmas or other methods.
    (BCC is suppressed already)

It seems that Harbour's "no-warning policy" is rare to find
amongst other projects.

Brgds,
Viktor

On 2008.06.04., at 23:15, Guillermo Varona Silup? wrote:

> Szak?ts Viktor escribi?:
>> 2008-06-04 20:17 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>>   * contrib/hbsqlit3/hbsqlit3.c
>>     ! Fix for GCC.
>>
> Hello, I'm doing tests with hbsqlite3, when the genre LIB throws me
> several Warnings, but it generates the LIB and work examples.
> What do these warnings?
> TIA
> Best Regards
> GVS
> 	
> Here I put some warnings:
>
> D:\harbour\contrib\hbsqlit3>mingw32-make
> D:\harbour\contrib\hbsqlit3>if not exist w32\. md w32
> D:\harbour\contrib\hbsqlit3>if not exist w32\mingw32\. md w32\mingw32
> D:\harbour\contrib\hbsqlit3>if not exist ..\..\lib\w32\. md .\..\lib 
> \w32
> D:\harbour\contrib\hbsqlit3>if not exist ..\..\lib\w32\mingw32\. md
> ..\..\lib\w3 2\mingw32
> mingw32-make[1]: Entering directory
> 'D:/harbour/contrib/hbsqlit3/w32/mingw32'
> gcc -I. -I../../../../include -mno-cygwin -Wall -W  -c ../../ 
> hbsqlit3.c
> -ohbsqlit3.o In file included from ../../hbsqlit3.c:46:
> ../../sqlite3/sqlite3.c: In function `parseModifier':
> ../../sqlite3/sqlite3.c:9948: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `strftimeFunc':
> ../../sqlite3/sqlite3.c:10305: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: At top level:
> ../../sqlite3/sqlite3.c:10384: warning: unused parameter 'argc'
> ../../sqlite3/sqlite3.c:10386: warning: unused parameter 'argv'
> ../../sqlite3/sqlite3.c:10397: warning: unused parameter 'argc'
> ../../sqlite3/sqlite3.c:10399: warning: unused parameter 'argv'
> ../../sqlite3/sqlite3.c:10410: warning: unused parameter 'argc'
> ../../sqlite3/sqlite3.c:10412: warning: unused parameter 'argv'
> ../../sqlite3/sqlite3.c: In function  
> `sqlite3RegisterDateTimeFunctions':
> ../../sqlite3/sqlite3.c:10486: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `sqlite3_mutex_alloc':
> ../../sqlite3/sqlite3.c:13648: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: At top level:
> ../../sqlite3/sqlite3.c:13698: warning: unused parameter 'p'
> ../../sqlite3/sqlite3.c:13774: warning: unused parameter 'NotUsed'
> ../../sqlite3/sqlite3.c:13775: warning: unused parameter 'inUse'
> ../../sqlite3/sqlite3.c:13775: warning: unused parameter 'inUse'
> ../../sqlite3/sqlite3.c:13807: warning: unused parameter 'n'
> ../../sqlite3/sqlite3.c: In function `appendSpace':
> ../../sqlite3/sqlite3.c:14166: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `vxprintf':
> ../../sqlite3/sqlite3.c:14331: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `sqlite3SafetyCheckOk':
> ../../sqlite3/sqlite3.c:16950: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c:16951: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `sqlite3SafetyCheckSickOrOk':
> ../../sqlite3/sqlite3.c:16959: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c:16960: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: At top level:
> ../../sqlite3/sqlite3.c:22512: warning: unused parameter 'flags'
> ../../sqlite3/sqlite3.c:22803: warning: unused parameter 'id'
> ../../sqlite3/sqlite3.c:22810: warning: unused parameter 'id'
> ../../sqlite3/sqlite3.c:22861: warning: unused parameter 'pVfs'
> ../../sqlite3/sqlite3.c: In function `winDelete':
> ../../sqlite3/sqlite3.c:23001: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c:23009: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c:23014: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: At top level:
> ../../sqlite3/sqlite3.c:22986: warning: unused parameter 'pVfs'
> ../../sqlite3/sqlite3.c:22989: warning: unused parameter 'syncDir'
> ../../sqlite3/sqlite3.c:23021: warning: unused parameter 'pVfs'
> ../../sqlite3/sqlite3.c:23060: warning: unused parameter 'pVfs'
> ../../sqlite3/sqlite3.c:23114: warning: unused parameter 'nFull'
> ../../sqlite3/sqlite3.c:23178: warning: unused parameter 'pVfs'
> ../../sqlite3/sqlite3.c:23196: warning: unused parameter 'pVfs'
> ../../sqlite3/sqlite3.c:23216: warning: unused parameter 'pVfs'
> ../../sqlite3/sqlite3.c:23226: warning: unused parameter 'pVfs'
> ../../sqlite3/sqlite3.c: In function `winRandomness':
> ../../sqlite3/sqlite3.c:23242: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c:23242: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c:23248: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c:23253: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c:23258: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: At top level:
> ../../sqlite3/sqlite3.c:23240: warning: unused parameter 'pVfs'
> ../../sqlite3/sqlite3.c:23271: warning: unused parameter 'pVfs'
> ../../sqlite3/sqlite3.c:23289: warning: unused parameter 'pVfs'
> ../../sqlite3/sqlite3.c: In function `sqlite3BitvecSet':
> ../../sqlite3/sqlite3.c:23511: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `sqlite3BitvecClear':
> ../../sqlite3/sqlite3.c:23542: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `sqlite3BitvecDestroy':
> ../../sqlite3/sqlite3.c:23557: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `readMasterJournal':
> ../../sqlite3/sqlite3.c:24580: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c:24597: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `pager_playback_one_page':
> ../../sqlite3/sqlite3.c:25193: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `pager_playback':
> ../../sqlite3/sqlite3.c:25592: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `sqlite3PagerOpen':
> ../../sqlite3/sqlite3.c:25921: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `pager_truncate_cache':
> ../../sqlite3/sqlite3.c:26314: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `pager_write_pagelist':
> ../../sqlite3/sqlite3.c:26743: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `pagerAcquire':
> ../../sqlite3/sqlite3.c:27414: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `sqlite3PagerWrite':
> ../../sqlite3/sqlite3.c:28048: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `sqlite3PagerCommitPhaseOne':
> ../../sqlite3/sqlite3.c:28366: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c:28366: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c:28367: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: At top level:
> ../../sqlite3/sqlite3.c:31038: warning: unused parameter 'pageSize'
> ../../sqlite3/sqlite3.c:31060: warning: unused parameter 'pageSize'
> ../../sqlite3/sqlite3.c:31074: warning: unused parameter 'n'
> ../../sqlite3/sqlite3.c: In function `incrVacuumStep':
> ../../sqlite3/sqlite3.c:32127: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c:32200: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `autoVacuumCommit':
> ../../sqlite3/sqlite3.c:32262: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c:32268: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c:32268: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c:32271: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `getOverflowPage':
> ../../sqlite3/sqlite3.c:32929: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c:32933: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `accessPayload':
> ../../sqlite3/sqlite3.c:33055: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `fetchPayload':
> ../../sqlite3/sqlite3.c:33258: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `allocateBtreePage':
> ../../sqlite3/sqlite3.c:33918: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c:34054: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c:34092: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c:34104: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `clearCell':
> ../../sqlite3/sqlite3.c:34237: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `fillInCell':
> ../../sqlite3/sqlite3.c:34327: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `btreeCreateTable':
> ../../sqlite3/sqlite3.c:35848: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `clearDatabasePage':
>
> . . .
>
> ../../sqlite3/sqlite3.c:64971: warning: unused parameter 'idx'
> ../../sqlite3/sqlite3.c:66129: warning: unused parameter 'pParse'
> ../../sqlite3/sqlite3.c:67982: warning: unused parameter 'pParse'
> ../../sqlite3/sqlite3.c: In function `sqlite3RunVacuum':
> ../../sqlite3/sqlite3.c:69145: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `sqlite3VtabUnlock':
> ../../sqlite3/sqlite3.c:69286: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `bestVirtualIndex':
> ../../sqlite3/sqlite3.c:71291: warning: empty body in an if-statement
> ../../sqlite3/sqlite3.c:71341: warning: empty body in an if-statement
> ../../sqlite3/sqlite3.c: In function `bestIndex':
> ../../sqlite3/sqlite3.c:71679: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: In function `sqlite3WhereBegin':
> ../../sqlite3/sqlite3.c:72043: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c:72292: warning: comparison between signed and
> unsigned
> ../../sqlite3/sqlite3.c: At top level:
> ../../sqlite3/sqlite3.c:74484: warning: unused parameter 'yypMinor'
> ../../sqlite3/sqlite3.c:75943: warning: unused parameter 'yymajor'
> ../../sqlite3/sqlite3.c:77161: warning: unused parameter 'NotUsed'
> ../../sqlite3/sqlite3.c: In function `sqliteDefaultBusyCallback':
> ../../sqlite3/sqlite3.c:77392: warning: comparison between signed and
> unsigned
> ../../hbsqlit3.c: At top level:
> ../../sqlite3/sqlite3.c:6753: warning: 'sqlite3BtreeHoldsMutex'  
> declared
> `stati
> ' but never defined
> ../../sqlite3/sqlite3.c:6758: warning: 'sqlite3BtreeHoldsAllMutexes'
> declared `
> tatic' but never defined
> ../../sqlite3/sqlite3.c:13576: warning: 'mutexIsNT' defined but not  
> used
> ar  cr ../../../../lib/w32/mingw32/libhbsqlit3.a hbsqlit3.o && ranlib
> ../../../
> ./lib/w32/mingw32/libhbsqlit3.a || del /q /f
> ../../../../lib/w32/mingw32/libhbs
> lit3.a
> mingw32-make[1]: Leaving directory `D:/harbour/contrib/hbsqlit3/w32/ 
> mingw32'
>
> D:\harbour\contrib\hbsqlit3>
>

From gvarona at ec-red.com  Wed Jun  4 17:34:59 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Wed Jun  4 17:35:04 2008
Subject: [Harbour] 2008-06-04 23:18 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8c688$Blat.v2.6.2$ba58d076$1a78e8d45aca@127.0.0.1>
References: <01c8c688$Blat.v2.6.2$ba58d076$1a78e8d45aca@127.0.0.1>
Message-ID: <48470A83.50302@ec-red.com>

Szak?ts Viktor escribi?:
> 2008-06-04 23:18 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>    * contrib/hbsqlit2/hbsqlit2.c
>      * Removed commented debug code.
>      * Code cleanup, optimizations.
>      ! GPFs fixed in many function, when no db was open.
>      ! Automatically closing previous db when opening a new one.
>      ! hb_sqlite2_db initialized with NULL.
> --
>   

Here da mistake and does not allow creating the LIB.

Firstly gives this error:
D:\harbour\contrib\hbsqlit2>MINGW32-MAKE
makefile:46: ../../config/lib.c: No such file or directory
MINGW32-MAKE: *** No rule to make target `../../config/lib.c'.  Stop.

This is solved by changing this line of Makefile:
include $(TOP)$(ROOT)config/lib.cf

After this, I get these messages and not establishing LIB:

D:\harbour\contrib\hbsqlit2>MINGW32-MAKE
D:\harbour\contrib\hbsqlit2>if not exist w32\. md w32
D:\harbour\contrib\hbsqlit2>if not exist w32\mingw32\. md w32\mingw32
D:\harbour\contrib\hbsqlit2>if not exist ..\..\lib\w32\. md ..\..\lib\w32
D:\harbour\contrib\hbsqlit2>if not exist ..\..\lib\w32\mingw32\. md 
..\..\lib\w32\mingw32
MINGW32-MAKE[1]: Entering directory 
`D:/harbour/contrib/hbsqlit2/w32/mingw32'
gcc -I. -I../../../../include -mno-cygwin -Wall -W  -c ../../func.c -ofunc.o
In file included from ../../func.c:26:
../../os.h:134: error: conflicting types for 'off_t'
c:/mingw/bin/../lib/gcc/mingw32/3.4.5/../../../../include/sys/types.h:41: 
error:
 previous declaration of 'off_t' was here
../../func.c:198: warning: unused parameter 'argc'
../../func.c:198: warning: unused parameter 'argv'
../../func.c:208: warning: unused parameter 'arg'
../../func.c:208: warning: unused parameter 'argv'
../../func.c:217: warning: unused parameter 'arg'
../../func.c:217: warning: unused parameter 'argv'
../../func.c:226: warning: unused parameter 'arg'
../../func.c:227: warning: unused parameter 'argv'

../../func.c:227: warning: unused parameter 'argv'
../../func.c:241: warning: unused parameter 'arg'
../../func.c:257: warning: unused parameter 'arg'
../../func.c:269: warning: unused parameter 'argc'
../../func.c:279: warning: unused parameter 'argc'
../../func.c:279: warning: unused parameter 'argv'
../../func.c: In function `minmaxStep':
../../func.c:536: warning: comparison between signed and unsigned
../../func.c: In function `sqliteRegisterBuiltinFunctions':
../../func.c:625: warning: comparison between signed and unsigned
../../func.c:638: warning: comparison between signed and unsigned
../../func.c:649: warning: comparison between signed and unsigned
MINGW32-MAKE[1]: *** [func.o] Error 1
MINGW32-MAKE[1]: Leaving directory `D:/harbour/contrib/hbsqlit2/w32/mingw32'
MINGW32-MAKE: *** [descend] Error 2

D:\harbour\contrib\hbsqlit2>

Best Regards
GVS
From harbour.01 at syenar.hu  Wed Jun  4 18:00:48 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 18:01:53 2008
Subject: [Harbour] 2008-06-04 23:18 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <48470A83.50302@ec-red.com>
References: <01c8c688$Blat.v2.6.2$ba58d076$1a78e8d45aca@127.0.0.1>
	<48470A83.50302@ec-red.com>
Message-ID: <8AB92C62-D33E-4B17-B454-3ACC662BD0DA@syenar.hu>


On 2008.06.04., at 23:34, Guillermo Varona Silup? wrote:

> Szak?ts Viktor escribi?:
>> 2008-06-04 23:18 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>>   * contrib/hbsqlit2/hbsqlit2.c
>>     * Removed commented debug code.
>>     * Code cleanup, optimizations.
>>     ! GPFs fixed in many function, when no db was open.
>>     ! Automatically closing previous db when opening a new one.
>>     ! hb_sqlite2_db initialized with NULL.
>> --
>>
>
> Here da mistake and does not allow creating the LIB.
>
> Firstly gives this error:
> D:\harbour\contrib\hbsqlit2>MINGW32-MAKE
> makefile:46: ../../config/lib.c: No such file or directory
> MINGW32-MAKE: *** No rule to make target `../../config/lib.c'.  Stop.

Yes, Makefile got snipped (seemingly by accident)
the last char. I'll readd it.

For the rest, it seems sqlite 2.x code cannot compile
out of the box under GNU. Someone will have to fix this,
who is more familiar with this compiler than me.

Maybe it would be better to switch back to .dll mode
for this contrib.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun  4 18:03:43 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 18:03:47 2008
Subject: [Harbour] 2008-06-05 00:00 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c68e$Blat.v2.6.2$da95175e$23388df58cae@127.0.0.1>

2008-06-05 00:00 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbsqlit2/Makefile
     ! Readded last char of last line.
       [RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun  4 18:04:03 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 18:04:07 2008
Subject: [Harbour] [RC1] 2008-06-04 22:13 UTC+0100 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8c68e$Blat.v2.6.2$e67c14aa$13949dd67dfc@127.0.0.1>

2008-06-04 22:13 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * tests/rto_get.prg
     + Added keypress emulator to aid automated testing.
     + Added test for EMG's bug case.
       [RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun  4 18:17:49 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 18:17:55 2008
Subject: [Harbour] [RC1] 2008-06-05 00:00 UTC+0100 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8c690$Blat.v2.6.2$d2adea64$188036fa69a2@127.0.0.1>

2008-06-05 00:00 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbsqlit2/Makefile
     ! Readded last char of last line.
       [RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun  4 20:08:08 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 20:08:15 2008
Subject: [Harbour] Contents of file: body.tmp
Message-ID: <01c8c6a0$Blat.v2.6.2$3c0a8ad0$17a4efccfdd0@127.0.0.1>

   * hbpgsql/make_b32.bat
   * hbpgsql/make_vc.bat
   * hbpgsql/tests/bld_b32.bat
   * hbpgsql/tests/bld_vc.bat
     ! Fixed to use the right .dll to generate the .lib.
     ; TOMERGE [RC1]

   * hbpgsql/tpostgre.prg
     * Comment.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Wed Jun  4 20:34:42 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Jun  4 20:34:54 2008
Subject: [Harbour] 2008-06-05 02:34 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806050034.m550Yghq008501@31-mo5-4.acn.waw.pl>

2008-06-05 02:34 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/macro.c
    ! pass macro compiled string to error object. It fixes Clipper
      incompatible behavior reported by Mindaugas.
    ! fixed few possible internal errors when user error handler will
      try to force wrong substitution

best regards
Przemek
From harbour.01 at syenar.hu  Wed Jun  4 20:45:12 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 20:45:20 2008
Subject: [Harbour] 2008-06-05 02:30 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c6a5$Blat.v2.6.2$69ad29de$265cd45a05d0@127.0.0.1>

2008-06-05 02:30 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * hbpgsql/postgres.c
     ! Don't request windows.h.
     + Using hb_parptrGC() for PGconn()
     + PQCONNECT() larger buffer for connect string.
     ! PQCONNECT() not passing trash to PG API if no. of params != 5
     ! PQCONNECT() buffer overflow vulnerability.
     ! PQSETDBLOGIN() password could not be passed to PG API due 
       to typo.
     ! PQMETADATA() now returns empty array instead of NIL in case 
       of failure (so test.prg won't RTE).
     ! PQCREATETRACE(), PQCLOSETRACE(), PQTRACE() now only activated 
       in 'NODLL' (temp name) is defined, since passing 'FILE *' to 
       .dlls results in crash.
     ; TOFIX? added to PQESCAPEBYTEA()
     * Formatting.
     % Cleanup, optimizations.
     ; NOTE: I've tried test.prg and while it runs, it doesn't seem 
             to work properly for some reason.
     ; TOFIX: Use bh_parptrGC() for PGresult, FILE*.

   * hbpgsql/make_vc.bat
     + Now uses the .lib provided in the binary package.
       (This needs the current 8.3.1 version)
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun  4 20:46:19 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 20:46:24 2008
Subject: [Harbour] 2008-06-05 02:05 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c6a5$Blat.v2.6.2$91ad3dd4$10f459356f96@127.0.0.1>

2008-06-05 02:05 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * hbpgsql/make_b32.bat
   * hbpgsql/make_vc.bat
   * hbpgsql/tests/bld_b32.bat
   * hbpgsql/tests/bld_vc.bat
     ! Fixed to use the right .dll to generate the .lib.
     ; TOMERGE [RC1]

   * hbpgsql/tpostgre.prg
     * Comment.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun  4 21:17:13 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 21:17:17 2008
Subject: [Harbour] 2008-06-05 03:05 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c6a9$Blat.v2.6.2$e2a4f6f6$1974b36712fc@127.0.0.1>

2008-06-05 03:05 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbsqlit3/hbsqlit3.c
     * Suppressed MSVC warnings in foreign code.
     ; Added NOTE that suppressing warnings with #pragmas 
       is not possible in GCC.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun  4 21:27:14 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun  4 21:27:19 2008
Subject: [Harbour] 2008-06-05 03:25 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c6ab$Blat.v2.6.2$48f3bea0$2430abd0e0b0@127.0.0.1>

2008-06-05 03:25 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbsqlit3/hbsqlit3.c
     * Suppressed GCC warnings in foreign code.
       Only works for GCC 4.2.x and above. 
       Please test.
--
Brgds,
Viktor

From philb at philb.us  Thu Jun  5 00:45:03 2008
From: philb at philb.us (Phil Barnett)
Date: Thu Jun  5 00:45:07 2008
Subject: [Harbour] Release Time
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECB4@SRV02.deltain.net>
References: <200806012300.58789.philb@philb.us>
	<200806040826.47329.philb@philb.us>
	<AFB948164110ED43B5EB849E8DEEF03815ECB4@SRV02.deltain.net>
Message-ID: <200806050045.03216.philb@philb.us>

On Wednesday 04 June 2008 08:44:44 am Massimo Belgrano wrote:
> Where?

I think the obvious place would be harbour-users@harbour-project.org

-- 
Waiting for sunspots.
From philb at philb.us  Thu Jun  5 00:54:49 2008
From: philb at philb.us (Phil Barnett)
Date: Thu Jun  5 00:54:53 2008
Subject: [Harbour] 2008-06-05 12:50 UTC-0400 Phil Barnett <philb/at/philb.us>
Message-ID: <200806050054.49837.philb@philb.us>

2008-06-05 12:50 UTC-0400 Phil Barnett <philb/at/philb.us>
  * Set version in harbour.spec to 1.0.0-RC1
  * Set version in include/hbver.h to 1.0.0-RC1

-- 
Waiting for sunspots.
From harbour.01 at syenar.hu  Thu Jun  5 03:25:55 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 03:33:41 2008
Subject: [Harbour] utils/hbpp folder question
Message-ID: <C4F44B3E-DA83-4030-A869-DF4DCE74C0E1@syenar.hu>

Hi all,

I see that utils/hbpp contains a standalone PP.

It looks this is fully based on old PP code, so
it's not compatible with 'harbour -p'.

Should we keep this, or update it to use the core
PP engine?

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun  5 04:19:53 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 04:19:58 2008
Subject: [Harbour] 2008-06-05 10:12 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c6e4$Blat.v2.6.2$ee6b685e$17c84485a0d6@127.0.0.1>

2008-06-05 10:12 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * common.mak
   * contrib/hbbtree/hb_btree.c
   * contrib/hbclipsm/gauge.c
   * contrib/hbfbird/firebird.c
   * contrib/hbgd/gdwrp.c
   * contrib/hbmsql/msql.c
   * contrib/hbmysql/mysql.c
   * contrib/hbnf/dispc.c
   * contrib/hbnf/getenvrn.c
   * contrib/hbnf/getver.c
   * contrib/hbnf/kspeed.c
   * contrib/hbodbc/odbc.c
   * contrib/hbole/ole2.c
   * contrib/hbsqlit2/hbsqlit2.c
   * contrib/hbsqlit3/hbsqlit3.ch
   * contrib/hbtpathy/tplinux.c
   * contrib/hbtpathy/tpwin32.c
   * contrib/hbtpathy/tpos2.c
   * contrib/hbtpathy/tpcommon.c
   * contrib/hbtip/thtml.ch
   * contrib/hbtip/utils.c
   * contrib/hbtip/tip.ch
   * contrib/xhb/hboutdbg.c
   * utils/hbpp/Makefile
   - utils/hbpp/pragma.c
   + utils/hbpp/hbpragma.c
     * General code quality improvements.
       (.api usage, sprintf -> snprintf, ANSI comments, CLIPDEFS, 
       windows.h inclusion, hb_retc*_buffer, hb_ret(), hb_itemReturnRelease(), 
       formatting.)
     ! Collision between two pragma.c files resolved.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun  5 04:44:33 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 04:44:38 2008
Subject: [Harbour] 2008-06-05 10:41 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c6e8$Blat.v2.6.2$60a48f2e$24e0f8c1db32@127.0.0.1>

2008-06-05 10:41 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbmysql/mysql.c
     ! Fixes to previous commit.
     ! Using hb_retptr().
     ! SQLNROWS() fixed to return 64 bit values.
     % Using array API optimally.
--
Brgds,
Viktor

From a.jurkiewicz at abix.info.pl  Thu Jun  5 05:03:41 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Thu Jun  5 05:03:49 2008
Subject: [Harbour] Bad char "-" in Version
Message-ID: <200806051103.41476.a.jurkiewicz@abix.info.pl>

Dears,
I've found in OpenSuse 10.3, rpm 4.4.2, there is a problem vith Haurbor 
Version.

If in harbour.spec Version is definded as now:
adasiek@abix-acer:~/SVN/harbour> cat harbour.spec | grep version
%define version  1.0.0-RC1
Version:        %{version}
Source:         %{name}-%{version}.src.tar.gz

Then rpmbuid has an error:

adasiek@abix-acer:~/SVN/harbour> rpmbuild -ba harbour.spec
Error: line 96: Illegal Char '-' in version: Version:        1.0.0-RC1

I can't chect this in any other Linux, because on all of my servers I use only 
OpenSuse. But maybe someone has other linux and can chect thi, or maybe 
version has to be change from 1.0.0-RC1  to 1.0.0.RC1

Best regards,
Adam
-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
From druzus at acn.waw.pl  Thu Jun  5 06:16:39 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jun  5 06:16:45 2008
Subject: [Harbour] utils/hbpp folder question
In-Reply-To: <C4F44B3E-DA83-4030-A869-DF4DCE74C0E1@syenar.hu>
References: <C4F44B3E-DA83-4030-A869-DF4DCE74C0E1@syenar.hu>
Message-ID: <20080605101638.GA11321@34-mo7-2.acn.waw.pl>

On Thu, 05 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> I see that utils/hbpp contains a standalone PP.
> It looks this is fully based on old PP code, so
> it's not compatible with 'harbour -p'.

Yes, it's old PP code and it's not compatible with
current one used by compiler.

> Should we keep this, or update it to use the core
> PP engine?

Old PP is not token by character oriented. Internally
it preprocess code in very different way and this can
be interesting in some cases though rather when used
for other languages so I suggest to keep it. But to
not confuse users we probably should move it to contrib
and updated hbppgen to accept similar parameters as
hbpp. In practice hbppgen is very similar tool but
uses new PP engine. As I can see only -D<id>[=<val>]
is missing and -w has different meaning. Maybe we
should also rename them: hbpp->hbppold and hbppgen->hbpp.
If you want I can add -D support to hbppgen.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Jun  5 06:28:41 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 06:29:45 2008
Subject: [Harbour] utils/hbpp folder question
In-Reply-To: <20080605101638.GA11321@34-mo7-2.acn.waw.pl>
References: <C4F44B3E-DA83-4030-A869-DF4DCE74C0E1@syenar.hu>
	<20080605101638.GA11321@34-mo7-2.acn.waw.pl>
Message-ID: <EA8AF087-D3F5-4F45-8F4A-825C756D4300@syenar.hu>

>
Hi Przemek,

> Hi Viktor,
>
>> I see that utils/hbpp contains a standalone PP.
>> It looks this is fully based on old PP code, so
>> it's not compatible with 'harbour -p'.
>
> Yes, it's old PP code and it's not compatible with
> current one used by compiler.
>
>> Should we keep this, or update it to use the core
>> PP engine?
>
> Old PP is not token by character oriented. Internally
> it preprocess code in very different way and this can
> be interesting in some cases though rather when used
> for other languages so I suggest to keep it. But to
> not confuse users we probably should move it to contrib
> and updated hbppgen to accept similar parameters as
> hbpp. In practice hbppgen is very similar tool but
> uses new PP engine. As I can see only -D<id>[=<val>]
> is missing and -w has different meaning. Maybe we
> should also rename them: hbpp->hbppold and hbppgen->hbpp.
> If you want I can add -D support to hbppgen.

Yes, that would be very good, also the rename to
'hbpp'.

I'll move current hbpp to contrib/examples/pp.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun  5 06:49:06 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 06:49:14 2008
Subject: [Harbour] 2008-06-05 12:42 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c6f9$Blat.v2.6.2$c6ce062a$1fec20b36116@127.0.0.1>

2008-06-05 12:42 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * make_b32.mak
   * make_gcc.mak
   * make_vc.mak
   * make_vcce.mak
   * common.mak
   * utils/Makefile
   - utils/hbpp/hbpplib.c
   - utils/hbpp
   + contrib/examples/pp
   + contrib/examples/pp/bld_b32.bat
     * Moved utils/hbpp -> contrib/examples/pp
     + Added BCC make file.

   * contrib/examples/pe/bld_b32.bat
     ! Fixed.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun  5 06:55:19 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 06:55:28 2008
Subject: [Harbour] 2008-06-05 12:53 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c6fa$Blat.v2.6.2$a5214eaa$131859371c98@127.0.0.1>

2008-06-05 12:53 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * source/pp/hbppgen.c
   * contrib/examples/pp/hbpp.c
     * Headers cleaned.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Thu Jun  5 06:57:30 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jun  5 06:57:36 2008
Subject: [Harbour] 2008-06-05 12:57 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806051057.m55AvUus009949@31-mo5-4.acn.waw.pl>

2008-06-05 12:57 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    + added get_hbverstat function to extract build status from hbver.h

  * harbour/make_rpmw32.sh
  * harbour/harbour.spec
  * harbour/make_rpmce.sh
    * moved -RC1 from version to releasen part - it resolves the problem
      with illegal character in version number

best regards
Przemek
From druzus at acn.waw.pl  Thu Jun  5 07:42:28 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jun  5 07:42:35 2008
Subject: [Harbour] 2008-06-05 13:42 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806051142.m55BgS3W015615@31-mo5-4.acn.waw.pl>

2008-06-05 13:42 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/pp/hbppgen.c
    + added -d<id>[=<val>] command line switch

  * harbour/source/compiler/cmdcheck.c
    * cleaned processing -d<id>[=<val>] switches

best regards
Przemek
From druzus at acn.waw.pl  Thu Jun  5 07:53:54 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jun  5 07:53:59 2008
Subject: [Harbour] 2008-06-05 13:53 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806051153.m55BrsF9023397@31-mo5-4.acn.waw.pl>

2008-06-05 13:53 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/make_vcce.mak
  * harbour/make_vc.mak
  * harbour/common.mak
    * removed not longer used HBPP references

best regards
Przemek
From druzus at acn.waw.pl  Thu Jun  5 08:58:56 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jun  5 08:59:03 2008
Subject: [Harbour] 2008-06-05 14:58 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806051258.m55Cwu62031243@31-mo5-4.acn.waw.pl>

2008-06-05 14:58 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/harbour-ce-spec
  * harbour/harbour-w32-spec
  * harbour/harbour.spec
  * harbour/make_tgz.sh
    * removed not longer used HBPP references, thanks to Adam
    * added hbppgen to list of installed binaries for native builds
    * removed hbppgen from cross builds

  * harbour/source/pp/Makefile
  * harbour/config/install.cf
    * added hack to install also hbppgen
      I do not want to make deeper modifications in non GNU makefiles now.
      Looks that now we are ready to rename hbppgen to hbpp. I would like
      to keep -w hbppgen option semantic as is. Does anyone find it as
      a problem?

best regards
Przemek
From guy.roussin at teledetection.fr  Thu Jun  5 09:26:27 2008
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Thu Jun  5 09:26:33 2008
Subject: [Harbour] Incrementing debian version of harbour
Message-ID: <4847E983.1010600@teledetection.fr>

Hi,

I think we need to update the harbour version of debian to 1.0.0.RC1 for example.
and write something like this (on a debian host) :
$ cd harbour/debian
$ dch -v 1.0.0.RC1 "Lot of new stuff see changelog"

This command "increment" the debian/changelog.

I think we can simulate "dch" command (on non debian host) by adding on top
of this file something like this (don't change spaces ...) :

--- :< ---
harbour (1.0.0.RC1) unstable; urgency=low

   * Lot of new stuff see changelog

  -- Iam.TheDebianMaintener <Iam@myemail.org>  Thu, 05 Jun 2008 15:05:20 +0200

--- :< ---

Thank you,

-- 
Guy Roussin

From gvarona at ec-red.com  Thu Jun  5 09:56:53 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Thu Jun  5 09:56:57 2008
Subject: [Harbour] 2008-06-05 03:25 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8c6ab$Blat.v2.6.2$48f3bea0$2430abd0e0b0@127.0.0.1>
References: <01c8c6ab$Blat.v2.6.2$48f3bea0$2430abd0e0b0@127.0.0.1>
Message-ID: <4847F0A5.4040800@ec-red.com>

Hi Viktor

Szak?ts Viktor escribi?:
> 2008-06-05 03:25 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>    * contrib/hbsqlit3/hbsqlit3.c
>      * Suppressed GCC warnings in foreign code.
>        Only works for GCC 4.2.x and above. 
>        Please test.
>   

How can get GCC 4.2.x (for WinXP SP2)?, I have now this:

D:\harbour>gcc -dumpversion
3.4.5
D:\harbour>

TIA

Best Regards
GVS
From druzus at acn.waw.pl  Thu Jun  5 10:05:27 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jun  5 10:05:33 2008
Subject: [Harbour] Incrementing debian version of harbour
In-Reply-To: <4847E983.1010600@teledetection.fr>
References: <4847E983.1010600@teledetection.fr>
Message-ID: <20080605140527.GA23022@34-mo7-2.acn.waw.pl>

On Thu, 05 Jun 2008, Guy Roussin wrote:

Hi Guy,

> I think we need to update the harbour version of debian to 1.0.0.RC1 for 
> example.
> and write something like this (on a debian host) :
> $ cd harbour/debian
> $ dch -v 1.0.0.RC1 "Lot of new stuff see changelog"
> This command "increment" the debian/changelog.
> I think we can simulate "dch" command (on non debian host) by adding on top
> of this file something like this (don't change spaces ...) :

Can you made necessary modifications yourself and commit them?
Do you have harbour repository write access?

best regards,
Przemek
From m.lacecilia at gmail.com  Thu Jun  5 11:16:10 2008
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Thu Jun  5 11:16:18 2008
Subject: [Harbour] HB_STATIC_FUNC
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com>

As posted on the hwGUI developers list on 13/04/2008 by Andi Jahja, ther'is
a different implementation of static funcs at c level of harbour and
xharbour.
In harbour a similar declaration results in a HB_FUNC_EXTERN function with
FS_PUBLIC scope and not in HB_FUNC_STATIC with FS_LOCAL scope.
Maybe the current rearrangement of code in view of a new stable release
could be a good time for analyzing this problem.
In hwGUI development some weird coding is needed in mantaining source
compatibility with either compilers.
Best regards.
 
Maurizio la Cecilia                             

From harbour.01 at syenar.hu  Thu Jun  5 11:18:03 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 11:19:16 2008
Subject: [Harbour] 2008-06-05 14:58 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200806051258.m55Cwu62031243@31-mo5-4.acn.waw.pl>
References: <200806051258.m55Cwu62031243@31-mo5-4.acn.waw.pl>
Message-ID: <8EE68212-4F30-46AA-8C3B-70B4415C476E@syenar.hu>

>
Hi Przemek,

> 2008-06-05 14:58 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/harbour-ce-spec
>  * harbour/harbour-w32-spec
>  * harbour/harbour.spec
>  * harbour/make_tgz.sh
>    * removed not longer used HBPP references, thanks to Adam
>    * added hbppgen to list of installed binaries for native builds
>    * removed hbppgen from cross builds
>
>  * harbour/source/pp/Makefile
>  * harbour/config/install.cf
>    * added hack to install also hbppgen
>      I do not want to make deeper modifications in non GNU makefiles  
> now.
>      Looks that now we are ready to rename hbppgen to hbpp. I would  
> like

I'll look into it.

>      to keep -w hbppgen option semantic as is. Does anyone find it as
>      a problem?

I've checked and I don't get the way it works now, maybe
it's just me. I might be wrong, but simply running
'hbppgen test.prg' does nothing, I have to use
'hbppgen test.prg -w', to get the .ppo. It's a little
strange to me :/ Also, the help text says: '-w write .ppo
input file', shouldn't it rather say 'output file'?

IMO, it would be intuitive if it would generate .ppo file
by default, and/or if -w would be a -w<file> option, like -o
and -v. But again, maybe I'm misunderstanding something,
I assumed hbpp is a similar tool to 'cpp' in BCC, plus it
has some extra features (-c, -v).

In any case, instead of not doing anything ('hbpp test.prg')
I think it would be helpful to show some message about
what's going on.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun  5 11:20:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 11:21:56 2008
Subject: [Harbour] 2008-06-05 03:25 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <4847F0A5.4040800@ec-red.com>
References: <01c8c6ab$Blat.v2.6.2$48f3bea0$2430abd0e0b0@127.0.0.1>
	<4847F0A5.4040800@ec-red.com>
Message-ID: <BD7DCF2C-ACD9-457B-B220-57F08D6302C7@syenar.hu>

Hi Guillermo,

Check it here:
http://www.tdragon.net/recentgcc/

[ Latest MinGW pre-release is GCC 4.3.0 ]

Brgds,
Viktor

On 2008.06.05., at 15:56, Guillermo Varona Silup? wrote:

> Hi Viktor
>
> Szak?ts Viktor escribi?:
>> 2008-06-05 03:25 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>>   * contrib/hbsqlit3/hbsqlit3.c
>>     * Suppressed GCC warnings in foreign code.
>>       Only works for GCC 4.2.x and above.        Please test.
>>
>
> How can get GCC 4.2.x (for WinXP SP2)?, I have now this:
>
> D:\harbour>gcc -dumpversion
> 3.4.5
> D:\harbour>
>
> TIA
>
> Best Regards
> GVS

From harbour.01 at syenar.hu  Thu Jun  5 11:27:32 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 11:28:39 2008
Subject: [Harbour] 2008-06-05 03:25 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <4847F0A5.4040800@ec-red.com>
References: <01c8c6ab$Blat.v2.6.2$48f3bea0$2430abd0e0b0@127.0.0.1>
	<4847F0A5.4040800@ec-red.com>
Message-ID: <F1235FB8-0FA5-4ECF-90D0-499B521664FB@syenar.hu>

BTW, maybe I missed something, but those new GCC #pragmas
(in contrib/hbsqlit3/hbsqlit3.c) don't seem to suppress
any warnings.

[ #pragma GCC diagnostic ignored "-Wunused" ]

Anyone has any idea for this?

Brgds,
Viktor

On 2008.06.05., at 15:56, Guillermo Varona Silup? wrote:

> Hi Viktor
>
> Szak?ts Viktor escribi?:
>> 2008-06-05 03:25 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>>   * contrib/hbsqlit3/hbsqlit3.c
>>     * Suppressed GCC warnings in foreign code.
>>       Only works for GCC 4.2.x and above.        Please test.
>>
>
> How can get GCC 4.2.x (for WinXP SP2)?, I have now this:
>
> D:\harbour>gcc -dumpversion
> 3.4.5
> D:\harbour>
>
> TIA
>
> Best Regards
> GVS

From harbour.01 at syenar.hu  Thu Jun  5 11:51:41 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 12:00:07 2008
Subject: [Harbour] 2008-06-02 16:46 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <4846A660.890.5FB989F@rglab.przesiew.imid.med.pl>
References: <200806021446.m52EkLBu032064@31-mo5-4.acn.waw.pl>,
	<20080602180811.GB26641@34-mo7-2.acn.waw.pl>,
	<2A81F908-58C7-4C8C-938B-99C7B57AB5F4@syenar.hu>
	<4846A660.890.5FB989F@rglab.przesiew.imid.med.pl>
Message-ID: <4832EA2C-312A-4064-BC31-E97C409CAA7D@syenar.hu>

Many thanks for your input Ryszard.

Brgds,
Viktor

On 2008.06.04., at 14:27, Ryszard Glab wrote:

> On 2 Jun 2008 at 20:13, Szak?ts Viktor wrote:
>
>>> Probably Ryszard should answer for this.
>>> Now upper letters are used to disable some features.
>>> In the future we may need more combinations so maybe it's
>>> good idea to keep it case sensitive.
>>
>> Well, I really hope so we won't need that many
>> such language modifiers. Unless we want to kill the
>> language that is.
>>
>> The turn off vs on would make sense, but I think it's
>> enough to emphasis that in the description.
>
>  Curently only a set of features can be enabled/disabled (Clipper
> compatibility/harbour extensions/xbase extensions). My first idea was
> disabling/enabling any single feature thus case sensitivity was used
> to increase the number of available switches. Since the idea of such
> detailed switches was not accepted here thenwe can remove case
> sensitivity.
>
> Regards, Ryszard
>
> PS. I am really amazed (positively) with the amount of changes in
> Harbour.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Jun  5 12:33:42 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 12:33:49 2008
Subject: [Harbour] 2008-06-05 18:30 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c729$Blat.v2.6.2$eab06738$1a10766680ec@127.0.0.1>

2008-06-05 18:30 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * common.mak
   * harbour-ce-spec
   * harbour-w32-spec
   * harbour.spec
   * make_b32.mak
   * make_gcc.mak
   * make_vc.mak
   * make_vcce.bat
   * make_vcce.mak
   * make_xmingw.sh
   * make_xmingwce.sh
   + source/pp/hbpp.c
   - source/pp/hbppgen.c
   * source/pp/Makefile
     * hbppgen -> hbpp
     ; Please test.

   * harbour-w32-spec
     ! Added 'svn:keywords "Author Date Id Revision"'
     ; TOMERGE [RC1]
--
Brgds,
Viktor

From druzus at acn.waw.pl  Thu Jun  5 12:56:27 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jun  5 12:56:33 2008
Subject: [Harbour] HB_STATIC_FUNC
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com>
Message-ID: <20080605165627.GA25874@34-mo7-2.acn.waw.pl>

On Thu, 05 Jun 2008, Maurizio la Cecilia wrote:

Hi Maurizio,

> As posted on the hwGUI developers list on 13/04/2008 by Andi Jahja, ther'is
> a different implementation of static funcs at c level of harbour and
> xharbour.

It's not true.

> In harbour a similar declaration results in a HB_FUNC_EXTERN function with
> FS_PUBLIC scope and not in HB_FUNC_STATIC with FS_LOCAL scope.

Again it's not true.

> Maybe the current rearrangement of code in view of a new stable release
> could be a good time for analyzing this problem.

There is no problem in Harbour at all.
The only one problem is in xHarbour which tries to analyze code
inside:
   #pragma begindump
      <code>
   #pragma enddump
guessing it's valid C code to detect function declaration used inside.
And of course it cannot work correctly without adding to xHarbour core
code full functional C preprocessor plus code which will also parse all
include .h files to make this C preprocessor working. This xHarbour
feature have never worked so far for all valid C code and I do not see
any way that it will ever be without investing time to write preprocessor
which will be C compatible and adding to compilation process yet another
pass which will preprocess .c file generated by Harbour with all included
files (also with internal C compiler headers) to detect final compilation
stream. Of course this C preprocessor should have all predefined values
used later by C compiler and also respect local extenssions used by different
C compilers so in practice it will have to be tuned for each compiler we
are using. Do you believe it will be ever finished in xHarbour? I don't.
Just check in generated .c files how xHarbour declares FUNC2() for
code like:

   proc main()
      ? func1()
      ? func2()
   return
   #pragma begindump
   #include "hbapi.h"
   HB_FUNC( FUNC1 ) { hb_retc( "func1" ); }
   #if defined(_LOCAL_FUNC2_) && ( __GCC__ - 0 ) >= 0x500
      HB_FUNC_STATIC( FUNC2 ) { hb_retc( "static func2" ); }
   else
      HB_FUNC( FUNC2 ) { hb_retc( "func2" ); }
   #endif
   #pragma enddump

And this is very trivial example. You can easy imagine much more
complicated.
In the past I proposed that if using #pragma begindump / #pragma enddump
is such very important thing and compiler have to know about functions
declared inside forign code then we should add to .prg code special
declaration for such functions instead of digging in dumped code
(what as I said in pratice cannot be ever well done), f.e.:
   DECLARE [STATIC] FUNCTION <FUNCNAME>[(<FUNCPARAMS,...>)]
or:
   PROTOTYPE [STATIC] FUNCTION <FUNCNAME>[(<FUNCPARAMS,...>)]
This way also resolves the problem with parameters validation
and prototyping for strong type checking so in the future we
will have support for sth like above for normal .prg code.
As a side effect it may resolve also this problem.

> In hwGUI development some weird coding is needed in mantaining source
> compatibility with either compilers.

For this problem the solution is very easy. Do not use:
   #pragma begindump
      <code>
   #pragma enddump
in .prg code.
In general it's very good practice because without above and
hb_inline() { ... } the HWGUI code will be ready for direct
.obj file generation without C compiler when we will add it
to Harbour.

best regards,
Przemek
From alex_degarate at hotmail.com  Thu Jun  5 12:59:58 2008
From: alex_degarate at hotmail.com (Alejandro de Garate)
Date: Thu Jun  5 13:00:04 2008
Subject: [Harbour] hbcurl
Message-ID: <BLU138-W31066C3E7F47F5B8423BEE85B40@phx.gbl>


Viktor
Could you give a brief explanation which is the purpose (the intended use) of the hbcurl library ?
And if you can (;)  drop a few lines in a .txt
TIA
Alejandro
_________________________________________________________________
News, entertainment and everything you care about at Live.com. Get it now!
http://www.live.com/getstarted.aspx
From harbour.01 at syenar.hu  Thu Jun  5 13:13:02 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 13:14:09 2008
Subject: [Harbour] HB_STATIC_FUNC
In-Reply-To: <20080605165627.GA25874@34-mo7-2.acn.waw.pl>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com>
	<20080605165627.GA25874@34-mo7-2.acn.waw.pl>
Message-ID: <28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu>

>
Hi Przemek,

>   PROTOTYPE [STATIC] FUNCTION <FUNCNAME>[(<FUNCPARAMS,...>)]
> This way also resolves the problem with parameters validation
> and prototyping for strong type checking so in the future we
> will have support for sth like above for normal .prg code.
> As a side effect it may resolve also this problem.

Nonsense and a waste of time. ("F?b?l vaskarika" in Hungarian)

>> In hwGUI development some weird coding is needed in mantaining source
>> compatibility with either compilers.
>
> For this problem the solution is very easy. Do not use:
>   #pragma begindump
>      <code>
>   #pragma enddump
> in .prg code.
> In general it's very good practice because without above and
> hb_inline() { ... } the HWGUI code will be ready for direct
> .obj file generation without C compiler when we will add it
> to Harbour.

I cannot agree more.

I see we have -ki (hb_inline) enabled by default.
Can't we make this disabled in next version (or even
current one)? Also I think we'd need another switch to
disable BEGINDUMP/ENDDUMP. It's happened several time
that I've spent time looking around for C stuff, and
at the end I had to realize that it's inline C code.
Quite a waste of time. Not to mention the numerous
non-portable code you mention.

It can be very rarely useful if I want to quickly
test a small program needs C code (using bld.bat),
but I'd perfectly be happy to use a Harbour switch
to enable the feature in these few cases.

As for hb_inline() I'd remove it completely.

Shall we go in this direction?

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun  5 13:35:20 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 13:36:25 2008
Subject: [Harbour] hbcurl
In-Reply-To: <BLU138-W31066C3E7F47F5B8423BEE85B40@phx.gbl>
References: <BLU138-W31066C3E7F47F5B8423BEE85B40@phx.gbl>
Message-ID: <A0763AAE-4C45-4BEC-A777-B3A10FAC9C71@syenar.hu>

Hi Alejandro,

In brief: 'libcurl' is an API which makes it very simple
and easy to send and receive files (and even more) using
various TCP/IP communication protocols, FTP, HTTP, HTTPS,
SCP, SFTP, TFTP and even LDAP, LDAPS, TELNET, etc. There
is wide proxy and authentication support.
'hbcurl' is the Harbour layer to access 'libcurl'.

libcurl has three set of APIs: easy, multi and share.
Harbour's hbcurl implements a wrapper for the 'easy'
API, which is the core one.

As for a documentation, I cannot promise one, but if you
examine the libcurl docs on the webpage (they are very good)
plus the small example in /tests (which could be clearer,
but you'll get the idea), it will get you started. The
hbcurl API is almost identical to the libcurl one, except
you are freed from setting up callbacks, so it's even easier.

[ There is also 'curl', which is a powerful multiplatform
command-line tool using the libcurl engine. Some free
alternatives (with more specialized focus) are ncftp and
wget. curl is the most universal one and the only one
providing a C interface. ]

Brgds,
Viktor

On 2008.06.05., at 18:59, Alejandro de Garate wrote:

>
> Viktor
> Could you give a brief explanation which is the purpose (the  
> intended use) of the hbcurl library ?
> And if you can (;)  drop a few lines in a .txt
> TIA
> Alejandro
> _________________________________________________________________
> News, entertainment and everything you care about at Live.com. Get  
> it now!
> http://www.live.com/getstarted.aspx_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Jun  5 13:46:24 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 13:47:30 2008
Subject: [Harbour] HB_STATIC_FUNC
In-Reply-To: <28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com>
	<20080605165627.GA25874@34-mo7-2.acn.waw.pl>
	<28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu>
Message-ID: <E55035C5-F10C-4F01-8DA3-6285587D984D@syenar.hu>

I'd add one more problem with INLINE C code:

I extensively use grep for Harbour and my own projects
too, it's a very powerful tool to locate stuff in the
source.

When I'm looking for C code parts (function names
let's say), naturally I search through *.c files only.
Problem: C code may be hiding inside .prg, too, or
even in .ch. This results in either wrong code updates,
decisions, or in the best, case another pass of grep.

Not to mention all the tools which rightly except
some kind of content in a given file type (most
obvious example is syntax coloring).

So this is IMO just one more thing that makes development
more complicated and error prone, without much gain.

Brgds,
Viktor

On 2008.06.05., at 19:13, Szak?ts Viktor wrote:

>>
> Hi Przemek,
>
>>  PROTOTYPE [STATIC] FUNCTION <FUNCNAME>[(<FUNCPARAMS,...>)]
>> This way also resolves the problem with parameters validation
>> and prototyping for strong type checking so in the future we
>> will have support for sth like above for normal .prg code.
>> As a side effect it may resolve also this problem.
>
> Nonsense and a waste of time. ("F?b?l vaskarika" in Hungarian)
>
>>> In hwGUI development some weird coding is needed in mantaining  
>>> source
>>> compatibility with either compilers.
>>
>> For this problem the solution is very easy. Do not use:
>>  #pragma begindump
>>     <code>
>>  #pragma enddump
>> in .prg code.
>> In general it's very good practice because without above and
>> hb_inline() { ... } the HWGUI code will be ready for direct
>> .obj file generation without C compiler when we will add it
>> to Harbour.
>
> I cannot agree more.
>
> I see we have -ki (hb_inline) enabled by default.
> Can't we make this disabled in next version (or even
> current one)? Also I think we'd need another switch to
> disable BEGINDUMP/ENDDUMP. It's happened several time
> that I've spent time looking around for C stuff, and
> at the end I had to realize that it's inline C code.
> Quite a waste of time. Not to mention the numerous
> non-portable code you mention.
>
> It can be very rarely useful if I want to quickly
> test a small program needs C code (using bld.bat),
> but I'd perfectly be happy to use a Harbour switch
> to enable the feature in these few cases.
>
> As for hb_inline() I'd remove it completely.
>
> Shall we go in this direction?
>
> Brgds,
> Viktor
>

From alex_degarate at hotmail.com  Thu Jun  5 14:00:27 2008
From: alex_degarate at hotmail.com (Alejandro de Garate)
Date: Thu Jun  5 14:00:30 2008
Subject: [Harbour] harbour source snapshot size
Message-ID: <BLU138-W24F04EE18125A25462726085B40@phx.gbl>


I know we are very close to a new release, but I want to ask if posible 
to get a solution for the download size of the harbour source snapshot in the meanwhile.

What I mean is to get rid of of the unused files belonging to SVN from the real harbour source code. 

It increments more than 3 times the size of source code. See the old links

http://lists.harbour-project.org/pipermail/harbour/2007-October/003824.html
http://lists.harbour-project.org/pipermail/harbour/2007-October/003870.html

TIA

Alejandro

_________________________________________________________________
Explore the seven wonders of the world
http://search.msn.com/results.aspx?q=7+wonders+world&mkt=en-US&form=QBRE
From harbour.01 at syenar.hu  Thu Jun  5 14:23:44 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 14:24:51 2008
Subject: (To Phil) Re: [Harbour] harbour source snapshot size
In-Reply-To: <BLU138-W24F04EE18125A25462726085B40@phx.gbl>
References: <BLU138-W24F04EE18125A25462726085B40@phx.gbl>
Message-ID: <A76B7485-6F7F-4B6E-98A3-398598FBD357@syenar.hu>

Hi Phil,

Could you modify the snapshot scripts to use "svn export <url>"
rather than "svn checkout <url>" to download the source tree?

The "export"-ed source size is currently 5.5MB as .tar.bz2 and
8.8MB as .zip, which is much smaller, as all .svn internal
administration files are excluded this way.

Brgds,
Viktor

On 2008.06.05., at 20:00, Alejandro de Garate wrote:

>
> I know we are very close to a new release, but I want to ask if  
> posible
> to get a solution for the download size of the harbour source  
> snapshot in the meanwhile.
>
> What I mean is to get rid of of the unused files belonging to SVN  
> from the real harbour source code.
>
> It increments more than 3 times the size of source code. See the old  
> links
>
> http://lists.harbour-project.org/pipermail/harbour/2007-October/003824.html
> http://lists.harbour-project.org/pipermail/harbour/2007-October/003870.html
>
> TIA
>
> Alejandro
>
> _________________________________________________________________
> Explore the seven wonders of the world
> http://search.msn.com/results.aspx?q=7+wonders+world&mkt=en-US&form=QBRE_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From gvarona at ec-red.com  Thu Jun  5 14:27:11 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Thu Jun  5 14:27:15 2008
Subject: [Harbour] harbour source snapshot size
In-Reply-To: <BLU138-W24F04EE18125A25462726085B40@phx.gbl>
References: <BLU138-W24F04EE18125A25462726085B40@phx.gbl>
Message-ID: <48482FFF.8020602@ec-red.com>

Hola Alejandro, lo que se puede hacer es utilizar la opcion de exportar  
del SVN (TortoiseSVN->Exportar) y obtendras una copia de harbour libre 
de archivos del SVN, que pesa mas o menos 31.9 MB, efectivamente, como 
tu manifiestas esta es la cuarta parte de la carpeta donde esta SVN que 
pesa en estos momentos aqui en mi maquina 123MB.

Salu2,
GVS


Alejandro de Garate escribi?:
> I know we are very close to a new release, but I want to ask if posible 
> to get a solution for the download size of the harbour source snapshot in the meanwhile.
>
> What I mean is to get rid of of the unused files belonging to SVN from the real harbour source code. 
>
> It increments more than 3 times the size of source code. See the old links
>
> http://lists.harbour-project.org/pipermail/harbour/2007-October/003824.html
> http://lists.harbour-project.org/pipermail/harbour/2007-October/003870.html
>
> TIA
>
> Alejandro
>
> _________________________________________________________________
> Explore the seven wonders of the world
> http://search.msn.com/results.aspx?q=7+wonders+world&mkt=en-US&form=QBRE_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> __________ Information from ESET Smart Security, version of virus signature database 3162 (20080605) __________
>
> The message was checked by ESET Smart Security.
>
> http://www.eset.com
>
>
>
>   

From druzus at acn.waw.pl  Thu Jun  5 14:45:34 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jun  5 14:45:39 2008
Subject: [Harbour] HB_STATIC_FUNC
In-Reply-To: <28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com>
	<20080605165627.GA25874@34-mo7-2.acn.waw.pl>
	<28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu>
Message-ID: <20080605184534.GA16574@34-mo7-2.acn.waw.pl>

On Thu, 05 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> >  PROTOTYPE [STATIC] FUNCTION <FUNCNAME>[(<FUNCPARAMS,...>)]
> >This way also resolves the problem with parameters validation
> >and prototyping for strong type checking so in the future we
> >will have support for sth like above for normal .prg code.
> >As a side effect it may resolve also this problem.
> Nonsense and a waste of time. ("F?b?l vaskarika" in Hungarian)

I'm not sure you understood.
We will need such prototyping for strong type checking in .prg code.
Probably the side effect of this will be also addressing the issue
with functions declared inside #pragma begindump. If it will then
good, for sure I do not plan to invest any additional time for
intentional blocking it :-)

> I see we have -ki (hb_inline) enabled by default.
> Can't we make this disabled in next version (or even
> current one)? Also I think we'd need another switch to
> disable BEGINDUMP/ENDDUMP. It's happened several time
> that I've spent time looking around for C stuff, and
> at the end I had to realize that it's inline C code.
> Quite a waste of time. Not to mention the numerous
> non-portable code you mention.

I'll add such switch. And if you want we can also change
the default setting to disable hb_inline() support.

> It can be very rarely useful if I want to quickly
> test a small program needs C code (using bld.bat),
> but I'd perfectly be happy to use a Harbour switch
> to enable the feature in these few cases.
> As for hb_inline() I'd remove it completely.

We should never have this feature. But it was added and there
is a code which uses it. I've invest too much time to make it
working as real inline in the .prg syntax adopting new PP for
it that now I would leave it as is. Probably only disabling -ki
in default compiler setting so user will have to enable it
explicitly.

best regards,
Przemek
From niki at synel.co.il  Thu Jun  5 15:00:21 2008
From: niki at synel.co.il (Chen Kedem)
Date: Thu Jun  5 15:05:11 2008
Subject: [Harbour] harbour source snapshot size
Message-ID: <1A07FEDC778C3E4AA417F089511F859C0215F398E4@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

> Could you modify the snapshot scripts to use "svn export <url>"
> rather than "svn checkout <url>" to download the source tree?
> The "export"-ed source size is currently 5.5MB as .tar.bz2 and
> 8.8MB as .zip, which is much smaller, as all .svn internal
> administration files are excluded this way

I think the idea was to expose the whole SVN tree, so in case of a disaster
it could be rebuilt from one of such download.

  Chen.
From harbour.01 at syenar.hu  Thu Jun  5 15:19:09 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 15:26:41 2008
Subject: [Harbour] HB_STATIC_FUNC
In-Reply-To: <20080605184534.GA16574@34-mo7-2.acn.waw.pl>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com>
	<20080605165627.GA25874@34-mo7-2.acn.waw.pl>
	<28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu>
	<20080605184534.GA16574@34-mo7-2.acn.waw.pl>
Message-ID: <C3D7682E-167B-4B5D-A7F5-690DC481F898@syenar.hu>

>> Nonsense and a waste of time. ("F?b?l vaskarika" in Hungarian)
>
Hi Przemek,

> I'm not sure you understood.
> We will need such prototyping for strong type checking in .prg code.
> Probably the side effect of this will be also addressing the issue
> with functions declared inside #pragma begindump. If it will then
> good, for sure I do not plan to invest any additional time for
> intentional blocking it :-)

I was reflecting to "inline", not your resolution plan really :)

I'm all for strong type checking [ although I began to
see it having a bit too much impact on the language
than I though it would ], but I'm against things which
are specifically to aid embedding foreign languages.

I meant that a waste of time.

>> I see we have -ki (hb_inline) enabled by default.
>> Can't we make this disabled in next version (or even
>> current one)? Also I think we'd need another switch to
>> disable BEGINDUMP/ENDDUMP. It's happened several time
>> that I've spent time looking around for C stuff, and
>> at the end I had to realize that it's inline C code.
>> Quite a waste of time. Not to mention the numerous
>> non-portable code you mention.
>
> I'll add such switch. And if you want we can also change
> the default setting to disable hb_inline() support.

That would be very nice. Thanks.

>> It can be very rarely useful if I want to quickly
>> test a small program needs C code (using bld.bat),
>> but I'd perfectly be happy to use a Harbour switch
>> to enable the feature in these few cases.
>> As for hb_inline() I'd remove it completely.
>
> We should never have this feature. But it was added and there
> is a code which uses it. I've invest too much time to make it
> working as real inline in the .prg syntax adopting new PP for
> it that now I would leave it as is. Probably only disabling -ki
> in default compiler setting so user will have to enable it
> explicitly.

Yes, this was one of those features which shouldn't
have made it into Harbour. Reading back my mail from then
(before the fact), I wasn't enough against it, and if
anything I proposed the current "half-solution" as the
one with the least impact, later when I wasn't around,
the later-became xhb team added it to the code, along
with hb_inline(), which is even worse.

I'm sorry you had to spend time on that.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun  5 15:27:58 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 15:34:25 2008
Subject: [Harbour] harbour source snapshot size
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C0215F398E4@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C0215F398E4@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <36F31F46-AD65-4C98-8C38-4B51679954A1@syenar.hu>

>
Hi Chen,

> Viktor,
>
>> Could you modify the snapshot scripts to use "svn export <url>"
>> rather than "svn checkout <url>" to download the source tree?
>> The "export"-ed source size is currently 5.5MB as .tar.bz2 and
>> 8.8MB as .zip, which is much smaller, as all .svn internal
>> administration files are excluded this way
>
> I think the idea was to expose the whole SVN tree, so in case of a  
> disaster
> it could be rebuilt from one of such download.

Yes, but notice that a full "svn co" is not enough to
rebuild the whole database, as it doesn't contain
any history information. What it contains is a duplicate
of all files (for offline revert and diff features),
plus several admin files for svn to use the tree as
a development sandbox. For users simply wanting to
build Harbour from source, nothing of these are needed.

For full SVN backup there is a method using rsync,
which - AFAIR - is also running on Phil's server.

This is the command:
rsync -av harbour-project.svn.sourceforge.net::svn/harbour-project/* .

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun  5 16:06:28 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 16:06:31 2008
Subject: [Harbour] 2008-06-05 20:30 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c747$Blat.v2.6.2$a3d62eec$1e20ae35ebba@127.0.0.1>

2008-06-05 20:30 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   - contrib/examples/pp/hbpp.c
   + contrib/examples/pp/pp.c
   * contrib/examples/pp/bld_b32.bat
   * contrib/examples/pp/Makefile
     * hbpp.c -> pp.c to generate pp.exe using GNU make files.

   * contrib/examples/pp/bld_b32.bat
     % Removed unnecessary libs.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun  5 16:12:37 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 16:12:44 2008
Subject: [Harbour] 2008-06-05 22:10 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c748$Blat.v2.6.2$7fc71d6c$26b47c0e1586@127.0.0.1>

2008-06-05 22:10 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbapollo/common.mak
   * contrib/hbapollo/Makefile
   + contrib/hbapollo/apollo.ch
   - contrib/hbapollo/tests/apollo.ch
     ! apollo.ch file was in tests by mistake.
     ; TOMERGE [RC1]
--
Brgds,
Viktor

From druzus at acn.waw.pl  Thu Jun  5 17:00:31 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jun  5 17:01:09 2008
Subject: [Harbour] harbour source snapshot size
In-Reply-To: <36F31F46-AD65-4C98-8C38-4B51679954A1@syenar.hu>
References: <1A07FEDC778C3E4AA417F089511F859C0215F398E4@Mail-yoq.SYNEL-COMPANY.LTD>
	<36F31F46-AD65-4C98-8C38-4B51679954A1@syenar.hu>
Message-ID: <20080605210031.GA18502@34-mo7-2.acn.waw.pl>

On Thu, 05 Jun 2008, Szak?ts Viktor wrote:
Hi Viktor,
> Yes, but notice that a full "svn co" is not enough to
> rebuild the whole database, as it doesn't contain
> any history information. What it contains is a duplicate
> of all files (for offline revert and diff features),
> plus several admin files for svn to use the tree as
> a development sandbox. For users simply wanting to
> build Harbour from source, nothing of these are needed.

harbour/bin/pack_src.sh packs only current files.
It uses SVN command to create list of active files in repository
and then packs only them without any additional hidden SVN files
or local user files even if they are located in harbour source
tree. Just try.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Jun  5 17:28:27 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 17:29:32 2008
Subject: [Harbour] harbour source snapshot size
In-Reply-To: <20080605210031.GA18502@34-mo7-2.acn.waw.pl>
References: <1A07FEDC778C3E4AA417F089511F859C0215F398E4@Mail-yoq.SYNEL-COMPANY.LTD>
	<36F31F46-AD65-4C98-8C38-4B51679954A1@syenar.hu>
	<20080605210031.GA18502@34-mo7-2.acn.waw.pl>
Message-ID: <FD56D3A1-B3B4-4787-9905-C681E679856C@syenar.hu>

>
Hi Przemek,

> On Thu, 05 Jun 2008, Szak?ts Viktor wrote:
> Hi Viktor,
>> Yes, but notice that a full "svn co" is not enough to
>> rebuild the whole database, as it doesn't contain
>> any history information. What it contains is a duplicate
>> of all files (for offline revert and diff features),
>> plus several admin files for svn to use the tree as
>> a development sandbox. For users simply wanting to
>> build Harbour from source, nothing of these are needed.
>
> harbour/bin/pack_src.sh packs only current files.
> It uses SVN command to create list of active files in repository
> and then packs only them without any additional hidden SVN files
> or local user files even if they are located in harbour source
> tree. Just try.

Yes, that's fine for someone wanting to create proper
source .zip from a "checkout"-et sandbox, but I think
Alejandro was thinking about the automatic source archive
found on the hb page, and this one is created on the
server by a different script.

About pack_src.sh: I still don't really get it :)

I mean, if someone wants to create a source distro
file, IMO the best is to "svn export -r <revision> <url>"
to a fresh dir and pack the thing as a whole, so
that it's guaranteed that no local modifications,
additional files or other mess is picked up (there
would be considerable amount of this if I did one
in my sandbox :). It might also be easier to do and
free from any messing with svn internals.

I did some tests with this little script yesterday:
--- to be run in a fresh dir
svn export <url>
tar -c harbour/* > harbour-src.tar
bzip2 -z harbour-src.tar
---

Brgds,
Viktor

From mbelgrano at deltain.it  Thu Jun  5 17:54:11 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jun  5 17:54:18 2008
Subject: [Harbour] HB_STATIC_FUNC
In-Reply-To: <E55035C5-F10C-4F01-8DA3-6285587D984D@syenar.hu>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com><20080605165627.GA25874@34-mo7-2.acn.waw.pl><28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu>
	<E55035C5-F10C-4F01-8DA3-6285587D984D@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECC9@SRV02.deltain.net>

Hi Maurizio
Your problem in hwgui will be resolved isolating c code in external *.C ?


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Thursday, June 05, 2008 7:46 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] HB_STATIC_FUNC

I'd add one more problem with INLINE C code:

I extensively use grep for Harbour and my own projects
too, it's a very powerful tool to locate stuff in the
source.

When I'm looking for C code parts (function names
let's say), naturally I search through *.c files only.
Problem: C code may be hiding inside .prg, too, or
even in .ch. This results in either wrong code updates,
decisions, or in the best, case another pass of grep.

Not to mention all the tools which rightly except
some kind of content in a given file type (most
obvious example is syntax coloring).

So this is IMO just one more thing that makes development
more complicated and error prone, without much gain.

Brgds,
Viktor


From harbour.01 at syenar.hu  Thu Jun  5 18:49:28 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun  5 18:50:34 2008
Subject: [Harbour] HB_STATIC_FUNC
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECC9@SRV02.deltain.net>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com><20080605165627.GA25874@34-mo7-2.acn.waw.pl><28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu>
	<E55035C5-F10C-4F01-8DA3-6285587D984D@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ECC9@SRV02.deltain.net>
Message-ID: <1577336E-57C4-4173-9903-2ABFB5BE6C14@syenar.hu>

I see that even in hwgui, there are plenty of .c and
.prg files anyway, so I wonder why the mixed ones?

One reason might be that this way, they can make
those C functions 'static' to the .prg file that uses
them (hence the recent question and all the hacking
to achieve this). To me this seems like something
which can be resolved using some internal namespaces,
or other logical distinction between published and
private API. All in all this is a fully regular problem,
present in all projects using more than one source
file, and everyone solves it without mixing.

BTW, hwgui main source folder has two hb_inline()s,
both seems easy to replace with one hb_bit*() call
each, plus there are a few files with BEGINDUMP, no
C code there has any special properties (and only some
of them are 'static') which would prevent moving them
into .c files, IMO. I had similar experience when porting
code with inline C from xhb to Harbour.

Brgds,
Viktor

On 2008.06.05., at 23:54, Massimo Belgrano wrote:

> Hi Maurizio
> Your problem in hwgui will be resolved isolating c code in external  
> *.C ?
>
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Szak?ts Viktor
> Sent: Thursday, June 05, 2008 7:46 PM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] HB_STATIC_FUNC
>
> I'd add one more problem with INLINE C code:
>
> I extensively use grep for Harbour and my own projects
> too, it's a very powerful tool to locate stuff in the
> source.
>
> When I'm looking for C code parts (function names
> let's say), naturally I search through *.c files only.
> Problem: C code may be hiding inside .prg, too, or
> even in .ch. This results in either wrong code updates,
> decisions, or in the best, case another pass of grep.
>
> Not to mention all the tools which rightly except
> some kind of content in a given file type (most
> obvious example is syntax coloring).
>
> So this is IMO just one more thing that makes development
> more complicated and error prone, without much gain.
>
> Brgds,
> Viktor
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From philb at philb.us  Thu Jun  5 19:59:29 2008
From: philb at philb.us (Phil Barnett)
Date: Thu Jun  5 19:59:38 2008
Subject: (To Phil) Re: [Harbour] harbour source snapshot size
In-Reply-To: <A76B7485-6F7F-4B6E-98A3-398598FBD357@syenar.hu>
References: <BLU138-W24F04EE18125A25462726085B40@phx.gbl>
	<A76B7485-6F7F-4B6E-98A3-398598FBD357@syenar.hu>
Message-ID: <200806051959.29250.philb@philb.us>

On Thursday 05 June 2008 02:23:44 pm Szak?ts Viktor wrote:

> Could you modify the snapshot scripts to use "svn export <url>"
> rather than "svn checkout <url>" to download the source tree?
>
> The "export"-ed source size is currently 5.5MB as .tar.bz2 and
> 8.8MB as .zip, which is much smaller, as all .svn internal
> administration files are excluded this way.

Ok, I modified harbour-svn.sh to use the export instead of co. The other three 
backups scripts still use rsync.

-- 
Waiting for sunspots.
From eghorbino at yahoo.com  Thu Jun  5 22:48:50 2008
From: eghorbino at yahoo.com (Edmer)
Date: Thu Jun  5 22:48:57 2008
Subject: [Harbour] Bug in GET
In-Reply-To: <594B4C89-6B3D-4252-922A-DA3330F38D54@syenar.hu>
References: <F28C8A930B60415B928E9A220B91221F@emag>
	<594B4C89-6B3D-4252-922A-DA3330F38D54@syenar.hu>
Message-ID: <17683574.post@talk.nabble.com>


Hi Viktor,

I know you are very busy these days and I appreciate all the work you and
Przemek have put in the Harbour project. I hope you and/or Przemek could be
able to slice some time to fix this bug.

My regards to the whole team and thanks again,

Ed

-- 
View this message in context: http://www.nabble.com/Bug-in-GET-tp17653431p17683574.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Fri Jun  6 01:42:46 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jun  6 01:42:52 2008
Subject: [Harbour] 2008-06-06 07:42 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806060542.m565gkTr019780@31-mo5-4.acn.waw.pl>

2008-06-06 07:42 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/make_tgz.sh
    * added build status (RC1) extracted automatically from hbver.h
      to final package name

best regards
Przemek
From druzus at acn.waw.pl  Fri Jun  6 02:18:39 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jun  6 02:18:44 2008
Subject: [Harbour] 2008-06-05 14:58 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <8EE68212-4F30-46AA-8C3B-70B4415C476E@syenar.hu>
References: <200806051258.m55Cwu62031243@31-mo5-4.acn.waw.pl>
	<8EE68212-4F30-46AA-8C3B-70B4415C476E@syenar.hu>
Message-ID: <20080606061839.GA19732@34-mo7-2.acn.waw.pl>

On Thu, 05 Jun 2008, Szak?ts Viktor wrote:

Vi Viktor,

> >     to keep -w hbppgen option semantic as is. Does anyone find it as
> >     a problem?
> I've checked and I don't get the way it works now, maybe
> it's just me. I might be wrong, but simply running
> 'hbppgen test.prg' does nothing, I have to use
> 'hbppgen test.prg -w', to get the .ppo. It's a little
> strange to me :/

I can make -w default when -o and -v is missing or I will have to
create new switch to disable .ppo output for build time when this
tool is used to generate .c file with std.ch rules.

> Also, the help text says: '-w write .ppo
> input file', shouldn't it rather say 'output file'?

It's probably result of my fatal English but full option name is:
   "write preprocessed (.ppo) input file"
and I though about "preprocessed (.ppo) input (.prg) file."
If it confuse user then I will have to change it. Maybe simple:
   "write preprocessed (.ppo) file"
will be enough.

> IMO, it would be intuitive if it would generate .ppo file
> by default, and/or if -w would be a -w<file> option, like -o
> and -v. But again, maybe I'm misunderstanding something,
> I assumed hbpp is a similar tool to 'cpp' in BCC, plus it
> has some extra features (-c, -v).

These extra features are used at build time for automatic
version and release information setting (hbverbld.h).

> In any case, instead of not doing anything ('hbpp test.prg')
> I think it would be helpful to show some message about
> what's going on.

And one thing else I forgot. This version of hbpp by default
does not have any rules hardcoded inside. We can add them
by recompiling hbpp after generating the pptable.c but personally
I like such behavior and I'd prefer to only add support for
      -u<file> use command def set in <file>

best regards,
Przemek
From m.lacecilia at gmail.com  Fri Jun  6 02:47:47 2008
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Fri Jun  6 02:48:02 2008
Subject: R: [Harbour] HB_STATIC_FUNC
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECC9@SRV02.deltain.net>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com><20080605165627.GA25874@34-mo7-2.acn.waw.pl><28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu><E55035C5-F10C-4F01-8DA3-6285587D984D@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ECC9@SRV02.deltain.net>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAOPdgDPCectKg6CejpbNnbABAAAAAA==@gmail.com>

Hi Massimo,
not at all.
My target is strong encapsulation of data and methods in class
implementation and i can obtain this, IMHO, only having in the same source
the (x)harbour and C code. Otherwise the static function, i think obviously,
will remain local to C module and cannot be reached by xBase code.
In the hwgui CVS repository you can find source/hanimat.prg and take a look
to what i'm meaning. This code works in xHarbour but in Harbour (stable
version) don't resolves the HB_STATIC_FUNC correctly giving error at compile
time.
Best regards.
Maurizio

> -----Messaggio originale-----
> Da: harbour-bounces@harbour-project.org 
> [mailto:harbour-bounces@harbour-project.org] Per conto di 
> Massimo Belgrano
> Inviato: gioved? 5 giugno 2008 23.54
> A: Harbour Project Main Developer List.
> Oggetto: RE: [Harbour] HB_STATIC_FUNC
> 
> Hi Maurizio
> Your problem in hwgui will be resolved isolating c code in 
> external *.C ?
> 
> 
> -----Original Message-----
> From: harbour-bounces@harbour-project.org 
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of 
> Szak?ts Viktor
> Sent: Thursday, June 05, 2008 7:46 PM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] HB_STATIC_FUNC
> 
> I'd add one more problem with INLINE C code:
> 
> I extensively use grep for Harbour and my own projects
> too, it's a very powerful tool to locate stuff in the
> source.
> 
> When I'm looking for C code parts (function names
> let's say), naturally I search through *.c files only.
> Problem: C code may be hiding inside .prg, too, or
> even in .ch. This results in either wrong code updates,
> decisions, or in the best, case another pass of grep.
> 
> Not to mention all the tools which rightly except
> some kind of content in a given file type (most
> obvious example is syntax coloring).
> 
> So this is IMO just one more thing that makes development
> more complicated and error prone, without much gain.
> 
> Brgds,
> Viktor
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From druzus at acn.waw.pl  Fri Jun  6 03:04:46 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jun  6 03:04:52 2008
Subject: [Harbour] Clipper compatibility - strange syntax
Message-ID: <20080606070446.GA28287@34-mo7-2.acn.waw.pl>

Hi All,

Yesterday I've found some interesting thing in Clipper.
It can compile attached code. Neither Harbour nor xHarbour
support it. Should I updated our grammar rules and add
support for statements with such expressions?
I'm surprised that so far no one reported it.

best regards,
Przemek


proc main()
  local i
  if qout("if"), .t.
    qqout(" statement")
  endif
  if qqout(" is"), .f.
    qqout("...Ops")
  elseif qqout(" realy"), .t.
    qqout(" fine")
  else
    qqout("...Ops")
  endif
  while qout("while"), .f.
    qqout("...Ops")
  enddo
  while qqout(" is"), .t.
    qqout(" correct")
    exit
  enddo
  do case
    case qout("case"), .f.
      qqout("...Ops")
    case qqout(" is"), .t.
      qqout(" OK")
    otherwise
      qqout("...Ops")
  endcase
  for i:=2 to qout("for"),8 step qqout(" step"), 2
    qqout(" "+ltrim(str(i)))
  next
  qqout(" finished")
return
From m.lacecilia at gmail.com  Fri Jun  6 03:20:49 2008
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Fri Jun  6 03:20:56 2008
Subject: R: [Harbour] HB_STATIC_FUNC
In-Reply-To: <1577336E-57C4-4173-9903-2ABFB5BE6C14@syenar.hu>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com><20080605165627.GA25874@34-mo7-2.acn.waw.pl><28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu><E55035C5-F10C-4F01-8DA3-6285587D984D@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815ECC9@SRV02.deltain.net>
	<1577336E-57C4-4173-9903-2ABFB5BE6C14@syenar.hu>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAANDXEVH/yp1PgllCwyI9o5wBAAAAAA==@gmail.com>

Hi Viktor, 

> I see that even in hwgui, there are plenty of .c and
> .prg files anyway, so I wonder why the mixed ones?
> 
> One reason might be that this way, they can make
> those C functions 'static' to the .prg file that uses
> them (hence the recent question and all the hacking
> to achieve this). To me this seems like something
> which can be resolved using some internal namespaces,
> or other logical distinction between published and
> private API. All in all this is a fully regular problem,
> present in all projects using more than one source
> file, and everyone solves it without mixing.

IMHO, i think that the solutions obtained without mixing prg and c code have
as side effect that the function declared as static have still public scope
and thus reachable by other modules of application.
 
> BTW, hwgui main source folder has two hb_inline()s,
> both seems easy to replace with one hb_bit*() call
> each, plus there are a few files with BEGINDUMP, no
> C code there has any special properties (and only some
> of them are 'static') which would prevent moving them
> into .c files, IMO. I had similar experience when porting
> code with inline C from xhb to Harbour.

In the hwgui CVS repository you can find source/hanimat.prg and take a look
to what i'm meaning. This code works in xHarbour but in Harbour (stable
version) don't resolves the HB_STATIC_FUNC correctly giving error at compile
time. Avoiding the STATIC, the functions, also if present in the prg file,
obviously become freely callable by other modules, and this is what i would
to avoid.
I think, after all, this is a real problem when is needed some C
implementation AND encapsulation of class or standalone functions.
Best regards.
Maurizio

From harbour.01 at syenar.hu  Fri Jun  6 03:20:55 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 03:22:00 2008
Subject: [Harbour] 2008-06-05 14:58 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <20080606061839.GA19732@34-mo7-2.acn.waw.pl>
References: <200806051258.m55Cwu62031243@31-mo5-4.acn.waw.pl>
	<8EE68212-4F30-46AA-8C3B-70B4415C476E@syenar.hu>
	<20080606061839.GA19732@34-mo7-2.acn.waw.pl>
Message-ID: <48FEECE4-D5B2-4C31-A9B5-6DCFA3DD80FB@syenar.hu>

Hi Przemek,

>>>    to keep -w hbppgen option semantic as is. Does anyone find it as
>>>    a problem?
>> I've checked and I don't get the way it works now, maybe
>> it's just me. I might be wrong, but simply running
>> 'hbppgen test.prg' does nothing, I have to use
>> 'hbppgen test.prg -w', to get the .ppo. It's a little
>> strange to me :/
>
> I can make -w default when -o and -v is missing or I will have to

Good idea.

> create new switch to disable .ppo output for build time when this
> tool is used to generate .c file with std.ch rules.

It's fine as it is.

>> Also, the help text says: '-w write .ppo
>> input file', shouldn't it rather say 'output file'?
>
> It's probably result of my fatal English but full option name is:
>   "write preprocessed (.ppo) input file"
> and I though about "preprocessed (.ppo) input (.prg) file."
> If it confuse user then I will have to change it. Maybe simple:
>   "write preprocessed (.ppo) file"
> will be enough.

Yes, that's perfect.

>> In any case, instead of not doing anything ('hbpp test.prg')
>> I think it would be helpful to show some message about
>> what's going on.
>
> And one thing else I forgot. This version of hbpp by default
> does not have any rules hardcoded inside. We can add them
> by recompiling hbpp after generating the pptable.c but personally

That seems too complicated.

> I like such behavior and I'd prefer to only add support for
>      -u<file> use command def set in <file>

I agree. We may also consider looking for a default
std.ch in std INCLUDE dirs. If not found, show a warning.
Simple -u disables this, and -u<file> overrides it with
another file.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Jun  6 03:26:16 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 03:27:19 2008
Subject: (To Phil) Re: [Harbour] harbour source snapshot size
In-Reply-To: <200806051959.29250.philb@philb.us>
References: <BLU138-W24F04EE18125A25462726085B40@phx.gbl>
	<A76B7485-6F7F-4B6E-98A3-398598FBD357@syenar.hu>
	<200806051959.29250.philb@philb.us>
Message-ID: <06C3F08A-D24D-4B33-A7EE-3A1AB3C22166@syenar.hu>

Thanks a lot Phil.

Brgds,
Viktor

On 2008.06.06., at 1:59, Phil Barnett wrote:

> On Thursday 05 June 2008 02:23:44 pm Szak?ts Viktor wrote:
>
>> Could you modify the snapshot scripts to use "svn export <url>"
>> rather than "svn checkout <url>" to download the source tree?
>>
>> The "export"-ed source size is currently 5.5MB as .tar.bz2 and
>> 8.8MB as .zip, which is much smaller, as all .svn internal
>> administration files are excluded this way.
>
> Ok, I modified harbour-svn.sh to use the export instead of co. The  
> other three
> backups scripts still use rsync.
>
> -- 
> Waiting for sunspots.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Fri Jun  6 03:38:42 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jun  6 03:38:47 2008
Subject: [Harbour] Clipper compatibility - strange syntax
In-Reply-To: <20080606070446.GA28287@34-mo7-2.acn.waw.pl>
References: <20080606070446.GA28287@34-mo7-2.acn.waw.pl>
Message-ID: <9257026e0806060038x32ca3626k1e0420fb241ff90d@mail.gmail.com>

On Fri, Jun 6, 2008 at 9:04 AM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> Yesterday I've found some interesting thing in Clipper.
> It can compile attached code. Neither Harbour nor xHarbour
> support it. Should I updated our grammar rules and add
> support for statements with such expressions?
> I'm surprised that so far no one reported it.

"Lists" are frequently used in when and valid codeblocks when you want
to cal a func but you need to return a true/false.

I would not use it in an if or a while so for me it's not a priority.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Fri Jun  6 03:40:02 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 03:41:08 2008
Subject: R: [Harbour] HB_STATIC_FUNC
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAOPdgDPCectKg6CejpbNnbABAAAAAA==@gmail.com>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com><20080605165627.GA25874@34-mo7-2.acn.waw.pl><28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu><E55035C5-F10C-4F01-8DA3-6285587D984D@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ECC9@SRV02.deltain.net>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAOPdgDPCectKg6CejpbNnbABAAAAAA==@gmail.com>
Message-ID: <1765C3EC-4F76-43C1-805E-DB015FD192C5@syenar.hu>

Hi Maurizio,

> not at all.
> My target is strong encapsulation of data and methods in class
> implementation and i can obtain this, IMHO, only having in the same  
> source
> the (x)harbour and C code. Otherwise the static function, i think  
> obviously,
> will remain local to C module and cannot be reached by xBase code.
> In the hwgui CVS repository you can find source/hanimat.prg and take  
> a look
> to what i'm meaning. This code works in xHarbour but in Harbour  
> (stable
> version) don't resolves the HB_STATIC_FUNC correctly giving error at  
> compile
> time.

Notice that amongst the 7 files using "inline" C,
hanimat.prg is the only one actually using STATIC,
and all those functions have distinct global names
anyway, so IMO the whole problem is quite marginal
and academic. The only "upside" is that you can work
in one file instead of two when developing, but
with the cost of creating non-portable code. I'm
not sure if it's worth it.

If speed is critical, or the whole functionality
is in C anyway, you may also consider moving the
whole class to C level. (errorapi.c is an example
for such solution in Harbour). But in the case
of ANIMATE_*() I think it's by itself useful to
have access to the API in a non-OOP way, too.

This is the "inline" C list in hwgui/source:

barcode.prg:947:HB_FUNC( RICH_RECTANGLE )
barcode.prg:958:HB_FUNC( RICH_CREATEPEN )
barcode.prg:968:HB_FUNC( RICH_SELECTOBJECT )
barcode.prg:975:HB_FUNC( RICH_CREATESOLIDBRUSH )
hanimat.prg:116:HB_FUNC_STATIC ( ANIMATE_CREATE )
hanimat.prg:125:HB_FUNC_STATIC ( ANIMATE_OPEN )
hanimat.prg:130:HB_FUNC_STATIC ( ANIMATE_PLAY )
hanimat.prg:135:HB_FUNC_STATIC ( ANIMATE_SEEK )
hanimat.prg:140:HB_FUNC_STATIC ( ANIMATE_STOP )
hanimat.prg:145:HB_FUNC_STATIC ( ANIMATE_CLOSE )
hanimat.prg:150:HB_FUNC_STATIC ( ANIMATE_DESTROY )
hanimat.prg:155:HB_FUNC_STATIC ( ANIMATE_OPENEX )
hcombo.prg:35:HB_FUNC(COPYDATA)
hcontrol.prg:614:      if hb_inline( lParam) { LPARAM l = (LPARAM)  
hb_parnl( 1 ); hb_retl( l & 0x40000000);}
hcontrol.prg:870:     if hb_inline(uStyleTmp) { ULONG ulStyle =  
(ULONG)hb_parnl( 1 ) ; hb_retl( ulStyle & BS_MULTILINE ); }
hcontrol.prg:1251:HB_FUNC_STATIC( TACTIVEX___ERROR )
hcontrol.prg:1298:HB_FUNC_STATIC( INITACTIVEX ) // hWnd, cProgId ->  
hActiveXWnd
hcontrol.prg:1315:HB_FUNC( ATLAXGETDISP ) // hWnd -> pDisp
hmonthc.prg:133:HB_FUNC ( INITMONTHCALENDAR )
hmonthc.prg:155:HB_FUNC ( SETMONTHCALENDARDATE ) // adaptation of  
function SetDatePicker of file Control.c
hmonthc.prg:184:HB_FUNC ( GETMONTHCALENDARDATE ) // adaptation of  
function GetDatePicker of file Control.c
htrackbr.prg:152:HB_FUNC ( INITTRACKBAR )
htrackbr.prg:171:HB_FUNC ( TRACKBARSETRANGE )
printdos.prg:615:HB_FUNC( AFILLTEXT )

Brgds,
Viktor

>
> Best regards.
> Maurizio
>
>> -----Messaggio originale-----
>> Da: harbour-bounces@harbour-project.org
>> [mailto:harbour-bounces@harbour-project.org] Per conto di
>> Massimo Belgrano
>> Inviato: gioved? 5 giugno 2008 23.54
>> A: Harbour Project Main Developer List.
>> Oggetto: RE: [Harbour] HB_STATIC_FUNC
>>
>> Hi Maurizio
>> Your problem in hwgui will be resolved isolating c code in
>> external *.C ?
>>
>>
>> -----Original Message-----
>> From: harbour-bounces@harbour-project.org
>> [mailto:harbour-bounces@harbour-project.org] On Behalf Of
>> Szak?ts Viktor
>> Sent: Thursday, June 05, 2008 7:46 PM
>> To: Harbour Project Main Developer List.
>> Subject: Re: [Harbour] HB_STATIC_FUNC
>>
>> I'd add one more problem with INLINE C code:
>>
>> I extensively use grep for Harbour and my own projects
>> too, it's a very powerful tool to locate stuff in the
>> source.
>>
>> When I'm looking for C code parts (function names
>> let's say), naturally I search through *.c files only.
>> Problem: C code may be hiding inside .prg, too, or
>> even in .ch. This results in either wrong code updates,
>> decisions, or in the best, case another pass of grep.
>>
>> Not to mention all the tools which rightly except
>> some kind of content in a given file type (most
>> obvious example is syntax coloring).
>>
>> So this is IMO just one more thing that makes development
>> more complicated and error prone, without much gain.
>>
>> Brgds,
>> Viktor
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From m.lacecilia at gmail.com  Fri Jun  6 03:45:23 2008
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Fri Jun  6 03:45:30 2008
Subject: R: [Harbour] HB_STATIC_FUNC
In-Reply-To: <20080605165627.GA25874@34-mo7-2.acn.waw.pl>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com>
	<20080605165627.GA25874@34-mo7-2.acn.waw.pl>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAHRdIvcS6gpKrcdywflpKKMBAAAAAA==@gmail.com>

Hi Przemek,

> > In harbour a similar declaration results in a 
> HB_FUNC_EXTERN function with
> > FS_PUBLIC scope and not in HB_FUNC_STATIC with FS_LOCAL scope.
> 
> Again it's not true.

I'm not so expert in prototyping, thus i could made some incorrect
assertion.
The true problem isn't probably in Harbour, but in Watcom/Harbour
compilation respect to Watcom/xHarbour one.
This is the Watcom/Harbour output:
...
Function Prototype:
HB_FUNC_EXTERN( ANIMATE_CREATE );   
HB_FUNC_EXTERN( ANIMATE_OPEN );
HB_FUNC_EXTERN( ANIMATE_PLAY );
HB_FUNC_EXTERN( ANIMATE_SEEK );
HB_FUNC_EXTERN( ANIMATE_STOP );
HB_FUNC_EXTERN( ANIMATE_CLOSE );
...

Function body:
HB_FUNC_STATIC ( ANIMATE_CREATE ) 
HB_FUNC_STATIC ( ANIMATE_OPEN ) 
HB_FUNC_STATIC ( ANIMATE_PLAY )
HB_FUNC_STATIC ( ANIMATE_SEEK )
HB_FUNC_STATIC ( ANIMATE_STOP )
HB_FUNC_STATIC ( ANIMATE_CLOSE )

This is the output obtained using Bcc/xHarbour, but Andi Jahja reported this
worked also for Watcom/xHarbour.
HB_INIT_SYMBOLS_BEGIN( hb_vm_SymbolInit_HANIMAT )
........
{ "HANIMATION_NEW", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
HANIMATION_NEW )}, &ModuleFakeDyn },
{ "HANIMATION_ACTIVATE", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
HANIMATION_ACTIVATE )}, &ModuleFakeDyn },
{ "HANIMATION_INIT", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
HANIMATION_INIT )}, &ModuleFakeDyn },
{ "HANIMATION_OPEN", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
HANIMATION_OPEN )}, &ModuleFakeDyn },
{ "HANIMATION_PLAY", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
HANIMATION_PLAY )}, &ModuleFakeDyn },
{ "HANIMATION_SEEK", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
HANIMATION_SEEK )}, &ModuleFakeDyn },
{ "HANIMATION_STOP", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
HANIMATION_STOP )}, &ModuleFakeDyn },
{ "HANIMATION_CLOSE", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
HANIMATION_CLOSE )}, &ModuleFakeDyn },
{ "HANIMATION_DESTROY", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
HANIMATION_DESTROY )}, &ModuleFakeDyn }, 
.....

Maybe this can better clarify what i was meaning.

> > In hwGUI development some weird coding is needed in 
> mantaining source
> > compatibility with either compilers.
> 
> For this problem the solution is very easy. Do not use:
>    #pragma begindump
>       <code>
>    #pragma enddump
> in .prg code.

If i don't do it, the symbol of C function become external and callable by
other modules of application and not only by the class prg code containing
the method.

Best regards.
Maurizio

> -----Messaggio originale-----
> Da: harbour-bounces@harbour-project.org 
> [mailto:harbour-bounces@harbour-project.org] Per conto di 
> Przemyslaw Czerpak
> Inviato: gioved? 5 giugno 2008 18.56
> A: Harbour Project Main Developer List.
> Oggetto: Re: [Harbour] HB_STATIC_FUNC
> 
> On Thu, 05 Jun 2008, Maurizio la Cecilia wrote:
> 
> Hi Maurizio,
> 
> > As posted on the hwGUI developers list on 13/04/2008 by 
> Andi Jahja, ther'is
> > a different implementation of static funcs at c level of harbour and
> > xharbour.
> 
> It's not true.
> 
> > In harbour a similar declaration results in a 
> HB_FUNC_EXTERN function with
> > FS_PUBLIC scope and not in HB_FUNC_STATIC with FS_LOCAL scope.
> 
> Again it's not true.
> 
> > Maybe the current rearrangement of code in view of a new 
> stable release
> > could be a good time for analyzing this problem.
> 
> There is no problem in Harbour at all.
> The only one problem is in xHarbour which tries to analyze code
> inside:
>    #pragma begindump
>       <code>
>    #pragma enddump
> guessing it's valid C code to detect function declaration used inside.
> And of course it cannot work correctly without adding to xHarbour core
> code full functional C preprocessor plus code which will also 
> parse all
> include .h files to make this C preprocessor working. This xHarbour
> feature have never worked so far for all valid C code and I do not see
> any way that it will ever be without investing time to write 
> preprocessor
> which will be C compatible and adding to compilation process 
> yet another
> pass which will preprocess .c file generated by Harbour with 
> all included
> files (also with internal C compiler headers) to detect final 
> compilation
> stream. Of course this C preprocessor should have all 
> predefined values
> used later by C compiler and also respect local extenssions 
> used by different
> C compilers so in practice it will have to be tuned for each 
> compiler we
> are using. Do you believe it will be ever finished in 
> xHarbour? I don't.
> Just check in generated .c files how xHarbour declares FUNC2() for
> code like:
> 
>    proc main()
>       ? func1()
>       ? func2()
>    return
>    #pragma begindump
>    #include "hbapi.h"
>    HB_FUNC( FUNC1 ) { hb_retc( "func1" ); }
>    #if defined(_LOCAL_FUNC2_) && ( __GCC__ - 0 ) >= 0x500
>       HB_FUNC_STATIC( FUNC2 ) { hb_retc( "static func2" ); }
>    else
>       HB_FUNC( FUNC2 ) { hb_retc( "func2" ); }
>    #endif
>    #pragma enddump
> 
> And this is very trivial example. You can easy imagine much more
> complicated.
> In the past I proposed that if using #pragma begindump / 
> #pragma enddump
> is such very important thing and compiler have to know about functions
> declared inside forign code then we should add to .prg code special
> declaration for such functions instead of digging in dumped code
> (what as I said in pratice cannot be ever well done), f.e.:
>    DECLARE [STATIC] FUNCTION <FUNCNAME>[(<FUNCPARAMS,...>)]
> or:
>    PROTOTYPE [STATIC] FUNCTION <FUNCNAME>[(<FUNCPARAMS,...>)]
> This way also resolves the problem with parameters validation
> and prototyping for strong type checking so in the future we
> will have support for sth like above for normal .prg code.
> As a side effect it may resolve also this problem.
> 
> > In hwGUI development some weird coding is needed in 
> mantaining source
> > compatibility with either compilers.
> 
> For this problem the solution is very easy. Do not use:
>    #pragma begindump
>       <code>
>    #pragma enddump
> in .prg code.
> In general it's very good practice because without above and
> hb_inline() { ... } the HWGUI code will be ready for direct
> .obj file generation without C compiler when we will add it
> to Harbour.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From harbour.01 at syenar.hu  Fri Jun  6 03:49:20 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 03:57:14 2008
Subject: [Harbour] Clipper compatibility - strange syntax
In-Reply-To: <20080606070446.GA28287@34-mo7-2.acn.waw.pl>
References: <20080606070446.GA28287@34-mo7-2.acn.waw.pl>
Message-ID: <04722660-CC64-4703-8731-9B305B569BD0@syenar.hu>

Nice :)

I would say yes.

Brgds,
Viktor

On 2008.06.06., at 9:04, Przemyslaw Czerpak wrote:

> Hi All,
>
> Yesterday I've found some interesting thing in Clipper.
> It can compile attached code. Neither Harbour nor xHarbour
> support it. Should I updated our grammar rules and add
> support for statements with such expressions?
> I'm surprised that so far no one reported it.
>
> best regards,
> Przemek
>
>
> proc main()
>  local i
>  if qout("if"), .t.
>    qqout(" statement")
>  endif
>  if qqout(" is"), .f.
>    qqout("...Ops")
>  elseif qqout(" realy"), .t.
>    qqout(" fine")
>  else
>    qqout("...Ops")
>  endif
>  while qout("while"), .f.
>    qqout("...Ops")
>  enddo
>  while qqout(" is"), .t.
>    qqout(" correct")
>    exit
>  enddo
>  do case
>    case qout("case"), .f.
>      qqout("...Ops")
>    case qqout(" is"), .t.
>      qqout(" OK")
>    otherwise
>      qqout("...Ops")
>  endcase
>  for i:=2 to qout("for"),8 step qqout(" step"), 2
>    qqout(" "+ltrim(str(i)))
>  next
>  qqout(" finished")
> return
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Fri Jun  6 04:09:11 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jun  6 04:09:16 2008
Subject: [Harbour] 2008-06-05 14:58 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <48FEECE4-D5B2-4C31-A9B5-6DCFA3DD80FB@syenar.hu>
References: <200806051258.m55Cwu62031243@31-mo5-4.acn.waw.pl>
	<8EE68212-4F30-46AA-8C3B-70B4415C476E@syenar.hu>
	<20080606061839.GA19732@34-mo7-2.acn.waw.pl>
	<48FEECE4-D5B2-4C31-A9B5-6DCFA3DD80FB@syenar.hu>
Message-ID: <20080606080911.GA28506@34-mo7-2.acn.waw.pl>

On Fri, 06 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> >I like such behavior and I'd prefer to only add support for
> >     -u<file> use command def set in <file>
> I agree. We may also consider looking for a default
> std.ch in std INCLUDE dirs. If not found, show a warning.
> Simple -u disables this, and -u<file> overrides it with
> another file.

I'd rather prefer to add only INCLUDE dir but do not add
std.ch by default. In many cases this tool is used to preprocess
foreign code. It can be easy changed later by simple initialization
of default value.
BTW In the future I'll add an option to enable escaped strings
in standard '' and "" not only in e"".

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Jun  6 04:08:39 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 04:09:43 2008
Subject: R: [Harbour] HB_STATIC_FUNC
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAANDXEVH/yp1PgllCwyI9o5wBAAAAAA==@gmail.com>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com><20080605165627.GA25874@34-mo7-2.acn.waw.pl><28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu><E55035C5-F10C-4F01-8DA3-6285587D984D@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815ECC9@SRV02.deltain.net>
	<1577336E-57C4-4173-9903-2ABFB5BE6C14@syenar.hu>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAANDXEVH/yp1PgllCwyI9o5wBAAAAAA==@gmail.com>
Message-ID: <C3469D24-360D-4EC9-8E9E-D67B4295E684@syenar.hu>

Hi Maurizio,

>> I see that even in hwgui, there are plenty of .c and
>> .prg files anyway, so I wonder why the mixed ones?
>>
>> One reason might be that this way, they can make
>> those C functions 'static' to the .prg file that uses
>> them (hence the recent question and all the hacking
>> to achieve this). To me this seems like something
>> which can be resolved using some internal namespaces,
>> or other logical distinction between published and
>> private API. All in all this is a fully regular problem,
>> present in all projects using more than one source
>> file, and everyone solves it without mixing.
>
> IMHO, i think that the solutions obtained without mixing prg and c  
> code have
> as side effect that the function declared as static have still  
> public scope
> and thus reachable by other modules of application.

I see your problem, but I'd solve it differently.
Also see my other mail.

>> BTW, hwgui main source folder has two hb_inline()s,
>> both seems easy to replace with one hb_bit*() call
>> each, plus there are a few files with BEGINDUMP, no
>> C code there has any special properties (and only some
>> of them are 'static') which would prevent moving them
>> into .c files, IMO. I had similar experience when porting
>> code with inline C from xhb to Harbour.
>
> In the hwgui CVS repository you can find source/hanimat.prg and take  
> a look
> to what i'm meaning. This code works in xHarbour but in Harbour  
> (stable
> version) don't resolves the HB_STATIC_FUNC correctly giving error at  
> compile
> time. Avoiding the STATIC, the functions, also if present in the prg  
> file,
> obviously become freely callable by other modules, and this is what  
> i would
> to avoid.
> I think, after all, this is a real problem when is needed some C
> implementation AND encapsulation of class or standalone functions.

IMO the concept of C encapsulation is wrong several ways, and
while I can imagine a few situation where it can makes some
sense (like what you say), the downsides are so numerous that
I think this is something better to solve the "regular" way.

And again - staying in the scope of hwgui - hanimat.prg is the
only .prg with this proplem so I think it would be much more
easy to solve it there, than start building a C preprocessor
inside Harbour (too?). We're in fact going into the opposite
direction regarding inline C here. Had this be solved, hwgui
may work with Harbour too, which would be a great thing.

Brgds,
Viktor

PS: BTW, the other not-too-welcome feature is .asm usage
in .c code (and also in Harbour in general). We have one such
file in Harbour repo (contrib/hbwhat32/_wincall.c) and this
causes it to not compile for BCC55 users. It would be nice
if this DynaCall() function could be modified to be pure C.
Pritpal, if you read this :)

From m.lacecilia at gmail.com  Fri Jun  6 04:14:52 2008
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Fri Jun  6 04:14:59 2008
Subject: R: R: [Harbour] HB_STATIC_FUNC
In-Reply-To: <1765C3EC-4F76-43C1-805E-DB015FD192C5@syenar.hu>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com><20080605165627.GA25874@34-mo7-2.acn.waw.pl><28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu><E55035C5-F10C-4F01-8DA3-6285587D984D@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815ECC9@SRV02.deltain.net><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAOPdgDPCectKg6CejpbNnbABAAAAAA==@gmail.com>
	<1765C3EC-4F76-43C1-805E-DB015FD192C5@syenar.hu>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAAN9c8bUFHxJs1oRWj+zTbYBAAAAAA==@gmail.com>

 

> -----Messaggio originale-----
> Da: harbour-bounces@harbour-project.org 
> [mailto:harbour-bounces@harbour-project.org] Per conto di 
> Szak?ts Viktor
> Inviato: venerd? 6 giugno 2008 9.40
> A: Harbour Project Main Developer List.
> Oggetto: Re: R: [Harbour] HB_STATIC_FUNC

> Notice that amongst the 7 files using "inline" C,
> hanimat.prg is the only one actually using STATIC,
> and all those functions have distinct global names
> anyway, so IMO the whole problem is quite marginal
> and academic. 

Not so, IMHO.
The Bcc/xHarbour resolves the function references in a local scope:
HB_INIT_SYMBOLS_BEGIN( hb_vm_SymbolInit_HANIMAT )
........
{ "HANIMATION_NEW", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
HANIMATION_NEW )}, &ModuleFakeDyn },
{ "HANIMATION_ACTIVATE", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
HANIMATION_ACTIVATE )}, &ModuleFakeDyn },
{ "HANIMATION_INIT", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
HANIMATION_INIT )}, &ModuleFakeDyn },
{ "HANIMATION_OPEN", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
HANIMATION_OPEN )}, &ModuleFakeDyn },
{ "HANIMATION_PLAY", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
HANIMATION_PLAY )}, &ModuleFakeDyn },
{ "HANIMATION_SEEK", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
HANIMATION_SEEK )}, &ModuleFakeDyn }, 
{ "HANIMATION_STOP", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
HANIMATION_STOP )}, &ModuleFakeDyn }, 
{ "HANIMATION_CLOSE", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
HANIMATION_CLOSE )}, &ModuleFakeDyn }, 
{ "HANIMATION_DESTROY", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
HANIMATION_DESTROY )}, &ModuleFakeDyn },
........

> The only "upside" is that you can work
> in one file instead of two when developing, but
> with the cost of creating non-portable code. I'm
> not sure if it's worth it.

The target isn't to work in a single class file, but in having API wrapper
functions not callable outside of a class.

> If speed is critical, or the whole functionality
> is in C anyway, you may also consider moving the
> whole class to C level. (errorapi.c is an example
> for such solution in Harbour).

Maybe this could be the better choice. I'll try it.

> But in the case
> of ANIMATE_*() I think it's by itself useful to
> have access to the API in a non-OOP way, too.

I don't agree. 
The OOP way have sense just in a self contained implementation and
encapsulation of data and methods. What will happens if you write your own
CLASS_METHOD C function overloading the one declared at class declaration?
Why to make a OOP oriented GUI lib if you could make just a set of c wrapper
functions to API?
Maybe this is academic, but i've choosed hwGUI and not MiniGUI just for the
advantages and the features given by an OOP implementation.
Anyway, the truth is i can't to have a static C function be called by a
Harbour prg code and this, apart of academic talks, is a lack IMHO.
Best regards.
Maurizio

From druzus at acn.waw.pl  Fri Jun  6 04:21:50 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jun  6 04:21:55 2008
Subject: [Harbour] 2008-06-06 10:21 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806060821.m568LoLU029488@31-mo5-4.acn.waw.pl>

2008-06-06 10:21 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbpp.h
  * harbour/source/pp/ppcore.c
    + added hb_pp_errorCount() which returns total number of errors
      which appeared during preprocessing

  * harbour/source/pp/hbpp.c
    * added new switch:
         -u[<file>] use command def set in <file> (or none)
    * if neither -o nor -v is specified then -w is default action
    + added to default search paths INCLUDE envvar
    * set application exit code to non 0 value if errors appear
      during preprocessing

  * harbour/source/compiler/harbour.yyc
  * harbour/source/compiler/harbour.y
    ! added support for expression list without parenthesis used in
      statements - Clipper compatibility fix.

best regards
Przemek
From harbour.01 at syenar.hu  Fri Jun  6 04:35:43 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 04:36:45 2008
Subject: R: R: [Harbour] HB_STATIC_FUNC
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAAN9c8bUFHxJs1oRWj+zTbYBAAAAAA==@gmail.com>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com><20080605165627.GA25874@34-mo7-2.acn.waw.pl><28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu><E55035C5-F10C-4F01-8DA3-6285587D984D@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815ECC9@SRV02.deltain.net><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAOPdgDPCectKg6CejpbNnbABAAAAAA==@gmail.com>
	<1765C3EC-4F76-43C1-805E-DB015FD192C5@syenar.hu>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAAN9c8bUFHxJs1oRWj+zTbYBAAAAAA==@gmail.com>
Message-ID: <BEDB57EE-1732-4516-B6DE-DBA0DB016226@syenar.hu>

>>
Hi Maurizio,

>> Notice that amongst the 7 files using "inline" C,
>> hanimat.prg is the only one actually using STATIC,
>> and all those functions have distinct global names
>> anyway, so IMO the whole problem is quite marginal
>> and academic.
>
> Not so, IMHO.
> The Bcc/xHarbour resolves the function references in a local scope:
> HB_INIT_SYMBOLS_BEGIN( hb_vm_SymbolInit_HANIMAT )
> ........
> { "HANIMATION_STOP", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
> HANIMATION_STOP )}, &ModuleFakeDyn },
> { "HANIMATION_CLOSE", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
> HANIMATION_CLOSE )}, &ModuleFakeDyn },
> { "HANIMATION_DESTROY", {HB_FS_STATIC | HB_FS_LOCAL}, {HB_FUNCNAME(
> HANIMATION_DESTROY )}, &ModuleFakeDyn },
> ........

 From a purely practical POV regarding hwgui, the only
thing I don't see here is what makes ANIMATE
class so different from the other classes, that this
problem is present here, but not in other places.

>> But in the case
>> of ANIMATE_*() I think it's by itself useful to
>> have access to the API in a non-OOP way, too.
>
> I don't agree.
> The OOP way have sense just in a self contained implementation and
> encapsulation of data and methods. What will happens if you write  
> your own
> CLASS_METHOD C function overloading the one declared at class  
> declaration?
> Why to make a OOP oriented GUI lib if you could make just a set of c  
> wrapper
> functions to API?

Why hide them when they're ready and even useful?

But: In any case (for example if you don't want deal
with future compatibility for these functions), you can
name them __ANIMATE_*(), which will clearly show for
most ppl, that these are internal ones, and they better
not use them.

Of course they are still not "forced" to not use them,
but since hwgui is an open source project, if someone
really wants to use them, they can simply remove the
static and still use them as is :)

Also how would someone get to know about these functions
in the first place? 1) Documentation: don't include these
2) sample code which uses internals: don't use them in
test code. 3) Peeking into source/.obj files (they can
do these anyways).

> Maybe this is academic, but i've choosed hwGUI and not MiniGUI just  
> for the
> advantages and the features given by an OOP implementation.

The OOP implementation doesn't suffer in any case IMO.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Jun  6 04:37:48 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 04:39:02 2008
Subject: [Harbour] 2008-06-05 14:58 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <20080606080911.GA28506@34-mo7-2.acn.waw.pl>
References: <200806051258.m55Cwu62031243@31-mo5-4.acn.waw.pl>
	<8EE68212-4F30-46AA-8C3B-70B4415C476E@syenar.hu>
	<20080606061839.GA19732@34-mo7-2.acn.waw.pl>
	<48FEECE4-D5B2-4C31-A9B5-6DCFA3DD80FB@syenar.hu>
	<20080606080911.GA28506@34-mo7-2.acn.waw.pl>
Message-ID: <7F6E6362-871E-4986-A78D-ADD168E2B5F4@syenar.hu>

>
Hi Przemek,

>>> I like such behavior and I'd prefer to only add support for
>>>    -u<file> use command def set in <file>
>> I agree. We may also consider looking for a default
>> std.ch in std INCLUDE dirs. If not found, show a warning.
>> Simple -u disables this, and -u<file> overrides it with
>> another file.
>
> I'd rather prefer to add only INCLUDE dir but do not add
> std.ch by default. In many cases this tool is used to preprocess
> foreign code. It can be easy changed later by simple initialization
> of default value.

Okay.

> BTW In the future I'll add an option to enable escaped strings
> in standard '' and "" not only in e"".

Well, I'm not sure I like this idea. This is a perfect
way to create seemingly compatible, but in reality
incompatible code (aka "hidden extension"). So I vote
against it this time.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Fri Jun  6 05:04:38 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jun  6 05:04:42 2008
Subject: [Harbour] gtwvt font best setup
Message-ID: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>

I'm trying to find out the best font configurations but I can't find
out the relation between font name, size, height, width.

With gtxwc and the fixed font I can get 48 rows and 140 cols using size 13.

With gtwvt the only font that I've found usable at more than 25x80 is
Terminal, but it looks really "Dos".

M$ has a new fixed font "Consolas" that it comes with POwerPoint
Viewer 2007 but I can't find the right HB_GTI_FONT* parameters to use
it.

Has anybody already done it?

Can anybody suggest gtwvt's font configuration?

best regards,
Lorenzo
From m.lacecilia at gmail.com  Fri Jun  6 05:32:12 2008
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Fri Jun  6 05:32:19 2008
Subject: R: R: R: [Harbour] HB_STATIC_FUNC
In-Reply-To: <BEDB57EE-1732-4516-B6DE-DBA0DB016226@syenar.hu>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com><20080605165627.GA25874@34-mo7-2.acn.waw.pl><28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu><E55035C5-F10C-4F01-8DA3-6285587D984D@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815ECC9@SRV02.deltain.net><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAOPdgDPCectKg6CejpbNnbABAAAAAA==@gmail.com><1765C3EC-4F76-43C1-805E-DB015FD192C5@syenar.hu><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAAN9c8bUFHxJs1oRWj+zTbYBAAAAAA==@gmail.com>
	<BEDB57EE-1732-4516-B6DE-DBA0DB016226@syenar.hu>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAALRCnP/oYY5MuOp5OiBUM3EBAAAAAA==@gmail.com>

Hi Victor,

>  From a purely practical POV regarding hwgui, the only
> thing I don't see here is what makes ANIMATE
> class so different from the other classes, that this
> problem is present here, but not in other places.
> 

Simply because this was first class in alphabetical order and when i started
to make a wiki (hwgui.altervista.org) to give an updated reference guide on
hwGUI i've analyzed his code. Other classes don't are affected just because
after changing to static the class methods of hAnimate some signal of
incompatibility with Watcom/Harbour was raised and i've stopped to implement
static methods waiting for a solution, and stopped the documenting on wiki,
because in doubt if also to reference the functions or avoid this.

> Why hide them when they're ready and even useful?

Only because i think that once create an object, to call directly his
methods is ever the better and natural way of manage it. 

> But: In any case (for example if you don't want deal
> with future compatibility for these functions), you can
> name them __ANIMATE_*(), which will clearly show for
> most ppl, that these are internal ones, and they better
> not use them.
> 
> Of course they are still not "forced" to not use them,
> but since hwgui is an open source project, if someone
> really wants to use them, they can simply remove the
> static and still use them as is :)
> 
> Also how would someone get to know about these functions
> in the first place? 1) Documentation: don't include these
> 2) sample code which uses internals: don't use them in
> test code. 3) Peeking into source/.obj files (they can
> do these anyways).
>

Yes, of course, i could hide something that could be hidden natively.
If no solution will came i'll do so, or i'll use some #ifdef __XHARBOUR__
taking decision at compile time about the scope of methods.
Not a problem at all. 

> The OOP implementation doesn't suffer in any case IMO.

I agree, but anyway i still believe that would be better to can write some
static C function (when speed is a must, by example) and can call hem from
(x)harbour code without to make the function globally referenced.
My signalation was just for asking to pay attention to this lack of feature
during your renewed and effective effort about harbour.
Thanks for your attention.
Best regards.
Maurizio

From druzus at acn.waw.pl  Fri Jun  6 05:34:11 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jun  6 05:34:17 2008
Subject: [Harbour] 2008-06-05 14:58 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <7F6E6362-871E-4986-A78D-ADD168E2B5F4@syenar.hu>
References: <200806051258.m55Cwu62031243@31-mo5-4.acn.waw.pl>
	<8EE68212-4F30-46AA-8C3B-70B4415C476E@syenar.hu>
	<20080606061839.GA19732@34-mo7-2.acn.waw.pl>
	<48FEECE4-D5B2-4C31-A9B5-6DCFA3DD80FB@syenar.hu>
	<20080606080911.GA28506@34-mo7-2.acn.waw.pl>
	<7F6E6362-871E-4986-A78D-ADD168E2B5F4@syenar.hu>
Message-ID: <20080606093411.GB28506@34-mo7-2.acn.waw.pl>

On Fri, 06 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> >BTW In the future I'll add an option to enable escaped strings
> >in standard '' and "" not only in e"".
> Well, I'm not sure I like this idea. This is a perfect
> way to create seemingly compatible, but in reality
> incompatible code (aka "hidden extension"). So I vote
> against it this time.

It will not be for Harbour compiler but for hbpp only.
This is very powerful preprocessor and people use it
for other languages. It's also the reason why I do not
want to include std.ch by default to not introduce
Clipper's definitions for such usage.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Jun  6 05:49:28 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 05:50:40 2008
Subject: R: R: R: [Harbour] HB_STATIC_FUNC
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAALRCnP/oYY5MuOp5OiBUM3EBAAAAAA==@gmail.com>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com><20080605165627.GA25874@34-mo7-2.acn.waw.pl><28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu><E55035C5-F10C-4F01-8DA3-6285587D984D@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815ECC9@SRV02.deltain.net><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAOPdgDPCectKg6CejpbNnbABAAAAAA==@gmail.com><1765C3EC-4F76-43C1-805E-DB015FD192C5@syenar.hu><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAAN9c8bUFHxJs1oRWj+zTbYBAAAAAA==@gmail.com>
	<BEDB57EE-1732-4516-B6DE-DBA0DB016226@syenar.hu>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAALRCnP/oYY5MuOp5OiBUM3EBAAAAAA==@gmail.com>
Message-ID: <F2FB3886-47AE-485F-B15D-3B941D9FDB08@syenar.hu>

Hi Maurizio,

> Yes, of course, i could hide something that could be hidden natively.
> If no solution will came i'll do so, or i'll use some #ifdef  
> __XHARBOUR__
> taking decision at compile time about the scope of methods.
> Not a problem at all.

There is also a workaround where you #include external
.c code inside BEGINDUMP/ENDDUMP. So that you can switch
between both methods. This adds some more complexity,
though.

>> The OOP implementation doesn't suffer in any case IMO.
>
> I agree, but anyway i still believe that would be better to can  
> write some
> static C function (when speed is a must, by example) and can call  
> hem from
> (x)harbour code without to make the function globally referenced.
> My signalation was just for asking to pay attention to this lack of  
> feature
> during your renewed and effective effort about harbour.
> Thanks for your attention.

No problem at all.

I'd personally welcome if hwgui would compile with Harbour too,
and I'm probably not alone.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Fri Jun  6 05:54:27 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jun  6 05:54:30 2008
Subject: [Harbour] 2008-06-05 14:58 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <20080606080911.GA28506@34-mo7-2.acn.waw.pl>
References: <200806051258.m55Cwu62031243@31-mo5-4.acn.waw.pl>
	<8EE68212-4F30-46AA-8C3B-70B4415C476E@syenar.hu>
	<20080606061839.GA19732@34-mo7-2.acn.waw.pl>
	<48FEECE4-D5B2-4C31-A9B5-6DCFA3DD80FB@syenar.hu>
	<20080606080911.GA28506@34-mo7-2.acn.waw.pl>
Message-ID: <9257026e0806060254x6df94cd3n6319b56fcff9b2b1@mail.gmail.com>

2008/6/6 Przemyslaw Czerpak <druzus@acn.waw.pl>:

> BTW In the future I'll add an option to enable escaped strings
> in standard '' and "" not only in e"".

Great.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Fri Jun  6 05:53:37 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 05:54:41 2008
Subject: [Harbour] 2008-06-05 14:58 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <20080606093411.GB28506@34-mo7-2.acn.waw.pl>
References: <200806051258.m55Cwu62031243@31-mo5-4.acn.waw.pl>
	<8EE68212-4F30-46AA-8C3B-70B4415C476E@syenar.hu>
	<20080606061839.GA19732@34-mo7-2.acn.waw.pl>
	<48FEECE4-D5B2-4C31-A9B5-6DCFA3DD80FB@syenar.hu>
	<20080606080911.GA28506@34-mo7-2.acn.waw.pl>
	<7F6E6362-871E-4986-A78D-ADD168E2B5F4@syenar.hu>
	<20080606093411.GB28506@34-mo7-2.acn.waw.pl>
Message-ID: <7C4A288D-24E6-48EA-B901-4DFF09A5BF41@syenar.hu>

Hi Przemek,

>>>
>>> BTW In the future I'll add an option to enable escaped strings
>>> in standard '' and "" not only in e"".
>> Well, I'm not sure I like this idea. This is a perfect
>> way to create seemingly compatible, but in reality
>> incompatible code (aka "hidden extension"). So I vote
>> against it this time.
>
> It will not be for Harbour compiler but for hbpp only.
> This is very powerful preprocessor and people use it
> for other languages. It's also the reason why I do not
> want to include std.ch by default to not introduce
> Clipper's definitions for such usage.

I see, this way it seems okay to me. I think we
should emphasis more the fact that this is rather
a separate preprocessor, which is also compatible
with Clipper/Harbour, rather than a pure standalone
version of the Harbour PP.

Brgds,
Viktor

From druzus at acn.waw.pl  Fri Jun  6 06:01:19 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jun  6 06:01:25 2008
Subject: R: R: R: [Harbour] HB_STATIC_FUNC
In-Reply-To: <F2FB3886-47AE-485F-B15D-3B941D9FDB08@syenar.hu>
References: <BEDB57EE-1732-4516-B6DE-DBA0DB016226@syenar.hu>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAALRCnP/oYY5MuOp5OiBUM3EBAAAAAA==@gmail.com>
	<F2FB3886-47AE-485F-B15D-3B941D9FDB08@syenar.hu>
Message-ID: <20080606100119.GA29646@34-mo7-2.acn.waw.pl>

On Fri, 06 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> There is also a workaround where you #include external
> .c code inside BEGINDUMP/ENDDUMP. So that you can switch
> between both methods. This adds some more complexity,
> though.

He cannot. As I said in xHarbour this feature does not work
correctly and #include "<file>.c" inside BEGINDUMP/ENDDUMP
is yet another example where it does not work. Just simply
xHarbour does not know anything about dumped code and does
not recognize C preprocessor directives so if you make it
then you will have exactly the same results in Harbour now.

best regards,
Przemek
From mbelgrano at deltain.it  Fri Jun  6 06:03:50 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun  6 06:04:07 2008
Subject: R: R: [Harbour] HB_STATIC_FUNC
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAALRCnP/oYY5MuOp5OiBUM3EBAAAAAA==@gmail.com>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com><20080605165627.GA25874@34-mo7-2.acn.waw.pl><28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu><E55035C5-F10C-4F01-8DA3-6285587D984D@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815ECC9@SRV02.deltain.net><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAOPdgDPCectKg6CejpbNnbABAAAAAA==@gmail.com><1765C3EC-4F76-43C1-805E-DB015FD192C5@syenar.hu><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAAN9c8bUFHxJs1oRWj+zTbYBAAAAAA==@gmail.com><BEDB57EE-1732-4516-B6DE-DBA0DB016226@syenar.hu>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAALRCnP/oYY5MuOp5OiBUM3EBAAAAAA==@gmail.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECCA@SRV02.deltain.net>

A documentation is important also without documenting HB_STATIC_FUNC for
now
What do you think about using a robodoc for extract from source
Also here you see that separing prg and c will be more useful for
generating documentation

Is not possible a way of join prg and c file if have same name or
similar whit a fixed extension?
Mysample.prg and Mysample_linked.c will be part of same module during
linking?


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Maurizio la
Cecilia
Sent: Friday, June 06, 2008 11:32 AM
To: 'Harbour Project Main Developer List.'
Subject: R: R: R: [Harbour] HB_STATIC_FUNC

Hi Victor,

>  From a purely practical POV regarding hwgui, the only
> thing I don't see here is what makes ANIMATE
> class so different from the other classes, that this
> problem is present here, but not in other places.
> 

Simply because this was first class in alphabetical order and when i
started
to make a wiki (hwgui.altervista.org) to give an updated reference guide
on
hwGUI i've analyzed his code. Other classes don't are affected just
because
after changing to static the class methods of hAnimate some signal of
incompatibility with Watcom/Harbour was raised and i've stopped to
implement
static methods waiting for a solution, and stopped the documenting on
wiki,
because in doubt if also to reference the functions or avoid this.


From harbour.01 at syenar.hu  Fri Jun  6 06:14:01 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 06:15:06 2008
Subject: R: R: R: [Harbour] HB_STATIC_FUNC
In-Reply-To: <20080606100119.GA29646@34-mo7-2.acn.waw.pl>
References: <BEDB57EE-1732-4516-B6DE-DBA0DB016226@syenar.hu>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAALRCnP/oYY5MuOp5OiBUM3EBAAAAAA==@gmail.com>
	<F2FB3886-47AE-485F-B15D-3B941D9FDB08@syenar.hu>
	<20080606100119.GA29646@34-mo7-2.acn.waw.pl>
Message-ID: <C323CAAD-B1B1-4C44-9956-11DFB936B3FC@syenar.hu>

>> There is also a workaround where you #include external
>> .c code inside BEGINDUMP/ENDDUMP. So that you can switch
>> between both methods. This adds some more complexity,
>> though.
>
> He cannot. As I said in xHarbour this feature does not work
> correctly and #include "<file>.c" inside BEGINDUMP/ENDDUMP
> is yet another example where it does not work. Just simply
> xHarbour does not know anything about dumped code and does
> not recognize C preprocessor directives so if you make it
> then you will have exactly the same results in Harbour now.

I see. Only real separation is left then, using "__" function
name prefix (or doing everything in C).

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Jun  6 06:19:18 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 06:20:21 2008
Subject: R: R: [Harbour] HB_STATIC_FUNC
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECCA@SRV02.deltain.net>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com><20080605165627.GA25874@34-mo7-2.acn.waw.pl><28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu><E55035C5-F10C-4F01-8DA3-6285587D984D@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815ECC9@SRV02.deltain.net><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAOPdgDPCectKg6CejpbNnbABAAAAAA==@gmail.com><1765C3EC-4F76-43C1-805E-DB015FD192C5@syenar.hu><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAAN9c8bUFHxJs1oRWj+zTbYBAAAAAA==@gmail.com><BEDB57EE-1732-4516-B6DE-DBA0DB016226@syenar.hu>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAALRCnP/oYY5MuOp5OiBUM3EBAAAAAA==@gmail.com>
	<AFB948164110ED43B5EB849E8DEEF03815ECCA@SRV02.deltain.net>
Message-ID: <32616319-7D94-4B2C-A14C-D43076D7228E@syenar.hu>

> A documentation is important also without documenting HB_STATIC_FUNC  
> for
> now
> What do you think about using a robodoc for extract from source
> Also here you see that separing prg and c will be more useful for
> generating documentation

Yes. Same goes for every tool which makes a decision
about the content based on the extension (or file type).

And even if the tool allows for manual file-type override,
files with mixed types are still practically impossible
to be properly handled.

> Is not possible a way of join prg and c file if have same name or
> similar whit a fixed extension?
> Mysample.prg and Mysample_linked.c will be part of same module during
> linking?

I used to use (but not very strictly) this method, f.e.:
w32_reg.prg
w32_regc.c

Brgds,
Viktor

From sscc at mweb.co.za  Fri Jun  6 06:28:19 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Jun  6 06:28:32 2008
Subject: [Harbour] HB_STATIC_FUNC
In-Reply-To: <20080605165627.GA25874@34-mo7-2.acn.waw.pl>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com>
	<20080605165627.GA25874@34-mo7-2.acn.waw.pl>
Message-ID: <48491143.7060109@mweb.co.za>

Przemyslaw Czerpak wrote:

> In the past I proposed that if using #pragma begindump / #pragma enddump
> is such very important thing and compiler have to know about functions
> declared inside forign code then we should add to .prg code special
> declaration for such functions instead of digging in dumped code
> (what as I said in pratice cannot be ever well done), f.e.:
>    DECLARE [STATIC] FUNCTION <FUNCNAME>[(<FUNCPARAMS,...>)]
> or:
>    PROTOTYPE [STATIC] FUNCTION <FUNCNAME>[(<FUNCPARAMS,...>)]
> This way also resolves the problem with parameters validation
> and prototyping for strong type checking so in the future we
> will have support for sth like above for normal .prg code.
> As a side effect it may resolve also this problem.

I have read this whole thread and come back to this article. Is this 
declaration a big job, even if only to allow the declaration and use 
of C level statics for the moment?

It seems to me that, despite the correct observations of the purists, 
begindump and enddump are very popular, as is hb_inline.

As Victor later notes, I would like to be able to compile HWGUI with 
Harbour (indeed it was originally written for Harbour).

Regards
Alex
From m.lacecilia at gmail.com  Fri Jun  6 06:30:10 2008
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Fri Jun  6 06:30:21 2008
Subject: R: R: R: [Harbour] HB_STATIC_FUNC
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECCA@SRV02.deltain.net>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com><20080605165627.GA25874@34-mo7-2.acn.waw.pl><28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu><E55035C5-F10C-4F01-8DA3-6285587D984D@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815ECC9@SRV02.deltain.net><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAOPdgDPCectKg6CejpbNnbABAAAAAA==@gmail.com><1765C3EC-4F76-43C1-805E-DB015FD192C5@syenar.hu><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAAN9c8bUFHxJs1oRWj+zTbYBAAAAAA==@gmail.com><BEDB57EE-1732-4516-B6DE-DBA0DB016226@syenar.hu><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAALRCnP/oYY5MuOp5OiBUM3EBAAAAAA==@gmail.com>
	<AFB948164110ED43B5EB849E8DEEF03815ECCA@SRV02.deltain.net>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAHfKKpcStcBKlZjFbr5UZk4BAAAAAA==@gmail.com>

Hi Massimo,

> What do you think about using a robodoc for extract from source
> Also here you see that separing prg and c will be more useful for
> generating documentation

I don't know this tools. I'll take a look. Also Francesco was interested to
similar solution in aiding on documentation work.
Thanks for the suggestion.
Best regards.
Maurizio 

From mbelgrano at deltain.it  Fri Jun  6 06:30:14 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun  6 06:30:23 2008
Subject: R: R: [Harbour] HB_STATIC_FUNC
In-Reply-To: <32616319-7D94-4B2C-A14C-D43076D7228E@syenar.hu>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com><20080605165627.GA25874@34-mo7-2.acn.waw.pl><28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu><E55035C5-F10C-4F01-8DA3-6285587D984D@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815ECC9@SRV02.deltain.net><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAOPdgDPCectKg6CejpbNnbABAAAAAA==@gmail.com><1765C3EC-4F76-43C1-805E-DB015FD192C5@syenar.hu><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAAN9c8bUFHxJs1oRWj+zTbYBAAAAAA==@gmail.com><BEDB57EE-1732-4516-B6DE-DBA0DB016226@syenar.hu><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAALRCnP/oYY5MuOp5OiBUM3EBAAAAAA==@gmail.com><AFB948164110ED43B5EB849E8DEEF03815ECCA@SRV02.deltain.net>
	<32616319-7D94-4B2C-A14C-D43076D7228E@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECCB@SRV02.deltain.net>

Can this help maurizio with ANIMATE class in hwgui?

-----Original Message-----
>I used to use (but not very strictly) this method, f.e.:
>w32_reg.prg
>w32_regc.c
>
>Brgds,
>Viktor

From mbelgrano at deltain.it  Fri Jun  6 06:34:10 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun  6 06:34:15 2008
Subject: R: R: [Harbour] HB_STATIC_FUNC
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAHfKKpcStcBKlZjFbr5UZk4BAAAAAA==@gmail.com>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com><20080605165627.GA25874@34-mo7-2.acn.waw.pl><28C6D279-B78F-41ED-ADFF-5EB9FA329D77@syenar.hu><E55035C5-F10C-4F01-8DA3-6285587D984D@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815ECC9@SRV02.deltain.net><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAOPdgDPCectKg6CejpbNnbABAAAAAA==@gmail.com><1765C3EC-4F76-43C1-805E-DB015FD192C5@syenar.hu><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAAN9c8bUFHxJs1oRWj+zTbYBAAAAAA==@gmail.com><BEDB57EE-1732-4516-B6DE-DBA0DB016226@syenar.hu><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAALRCnP/oYY5MuOp5OiBUM3EBAAAAAA==@gmail.com><AFB948164110ED43B5EB849E8DEEF03815ECCA@SRV02.deltain.net>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAHfKKpcStcBKlZjFbr5UZk4BAAAAAA==@gmail.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECCC@SRV02.deltain.net>

Please share here your experience because robodoc(sourceforge) be
usefull also for harbour

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Maurizio la
Cecilia
Sent: Friday, June 06, 2008 12:30 PM
To: 'Harbour Project Main Developer List.'
Subject: R: R: R: [Harbour] HB_STATIC_FUNC

Hi Massimo,

> What do you think about using a robodoc for extract from source
> Also here you see that separing prg and c will be more useful for
> generating documentation

I don't know this tools. I'll take a look. Also Francesco was interested
to
similar solution in aiding on documentation work.
Thanks for the suggestion.
Best regards.
Maurizio 

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Fri Jun  6 06:49:27 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 06:50:45 2008
Subject: [Harbour] HB_STATIC_FUNC
In-Reply-To: <48491143.7060109@mweb.co.za>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com>
	<20080605165627.GA25874@34-mo7-2.acn.waw.pl>
	<48491143.7060109@mweb.co.za>
Message-ID: <87BD7E33-8043-4E6C-8FF8-BB75ECBE541F@syenar.hu>

I vote against to add yet another language element
to support a concept bleeding from several wounds.

We'd just open a door for more future problems IMO.

In relation to hwgui, I doubt this issue is a real
showstopper to make it happen.

Brgds,
Viktor

On 2008.06.06., at 12:28, Alex Strickland wrote:

> Przemyslaw Czerpak wrote:
>
>> In the past I proposed that if using #pragma begindump / #pragma  
>> enddump
>> is such very important thing and compiler have to know about  
>> functions
>> declared inside forign code then we should add to .prg code special
>> declaration for such functions instead of digging in dumped code
>> (what as I said in pratice cannot be ever well done), f.e.:
>>   DECLARE [STATIC] FUNCTION <FUNCNAME>[(<FUNCPARAMS,...>)]
>> or:
>>   PROTOTYPE [STATIC] FUNCTION <FUNCNAME>[(<FUNCPARAMS,...>)]
>> This way also resolves the problem with parameters validation
>> and prototyping for strong type checking so in the future we
>> will have support for sth like above for normal .prg code.
>> As a side effect it may resolve also this problem.
>
> I have read this whole thread and come back to this article. Is this  
> declaration a big job, even if only to allow the declaration and use  
> of C level statics for the moment?
>
> It seems to me that, despite the correct observations of the  
> purists, begindump and enddump are very popular, as is hb_inline.
>
> As Victor later notes, I would like to be able to compile HWGUI with  
> Harbour (indeed it was originally written for Harbour).
>
> Regards
> Alex
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From sscc at mweb.co.za  Fri Jun  6 07:00:16 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Jun  6 07:00:22 2008
Subject: [Harbour] HB_STATIC_FUNC
In-Reply-To: <87BD7E33-8043-4E6C-8FF8-BB75ECBE541F@syenar.hu>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com>	<20080605165627.GA25874@34-mo7-2.acn.waw.pl>	<48491143.7060109@mweb.co.za>
	<87BD7E33-8043-4E6C-8FF8-BB75ECBE541F@syenar.hu>
Message-ID: <484918C0.3040306@mweb.co.za>

Szak?ts Viktor wrote:

> I vote against to add yet another language element
> to support a concept bleeding from several wounds.

I would agree with you if Przemek did not imply that it would be a 
beneficial side effect of a strong typing implementation.

Regards
Alex
From druzus at acn.waw.pl  Fri Jun  6 07:52:40 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jun  6 07:52:45 2008
Subject: [Harbour] HB_STATIC_FUNC
In-Reply-To: <48491143.7060109@mweb.co.za>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAMLAxJNBxHJDiTEB9nHP4XABAAAAAA==@gmail.com>
	<20080605165627.GA25874@34-mo7-2.acn.waw.pl>
	<48491143.7060109@mweb.co.za>
Message-ID: <20080606115240.GB30154@34-mo7-2.acn.waw.pl>

On Fri, 06 Jun 2008, Alex Strickland wrote:

Hi Alex,

> >   DECLARE [STATIC] FUNCTION <FUNCNAME>[(<FUNCPARAMS,...>)]
> >or:
> >   PROTOTYPE [STATIC] FUNCTION <FUNCNAME>[(<FUNCPARAMS,...>)]
> >This way also resolves the problem with parameters validation
> >and prototyping for strong type checking so in the future we
> >will have support for sth like above for normal .prg code.
> >As a side effect it may resolve also this problem.
> I have read this whole thread and come back to this article. Is this 
> declaration a big job, even if only to allow the declaration and use 
> of C level statics for the moment?

Technically it's not a problem. I can commit working code in half hour.
But I do not know yet the final syntax which will be used for strong
type prototyping. It's possible that I do not see some problems and later
I will have to change it. If I document it now then then people will
expect that it will not change in the future and this may be real problem.
Please note that we already have DECLARE command which is used for some
limited situations and even now it creates problems due to conflict with
DECLARE used as synonym of PRIVATE, f.e.:
   DECLARE v1, v2, v2 AS LOGICAL
is recognized as PRIVATE instead of setting type of v1, v2 and v3 to
LOGICAL. Current syntax forces using AS <type> after each variable what
is not compatible with other xBase languages like FlagShip or VO so it
will have to be changed. It's not even compatible with some other
declarations supported by Clipper and [x]Harbour. Look at this code:

   proc main()
      field F1, F2, F3 IN T1
      ? f1, f2, f3
   return

each field F1, F2, F3 belongs to T1 alias. The same should be for:

      local L1, L2, L3 AS NUMERIC

each local variable L1, L2 and L3 should be declared as NUMERIC.
But it isn't for current code and only L3 is.
I want to remove all this grammar rules and create new ones which
will address the whole strong typing and class declaration area
to later not fight with problems like in:

   proc main()
      field F1, F2, F3 IN T1, F4, F5, F6 IN T2
      ? f1, f2, f3, f4, f5, f6
   return

Harbour does not compile it but test it in xHarbour with -gc2
option and check aliasing in final C code.

In summary it can be easy done but I do not want to add anything
as long as I will not resolve whole or nearly whole problem in
my head ;-) and for this I need much more time.

best regards,
Przemek
From mbelgrano at deltain.it  Fri Jun  6 09:06:00 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun  6 09:06:15 2008
Subject: [Harbour] distribuite harbour documentaiton as pdf with ipdf
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECCE@SRV02.deltain.net>

Here is easy translate actual ascii documentation in pdf, so is Possible
distribuite a pdf with harbour distribution
http://hoopajoo.net/projects/ipdf.html

Creates indexed pdf documents from text files. Designed to aid creating
an electronic distribution method for
I receive error from win32 programm to big to fit in memory  will linux
version work fine?


Massimo Belgrano
	
From mbelgrano at deltain.it  Fri Jun  6 09:04:02 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun  6 09:10:52 2008
Subject: [Harbour] How in gtwvg or hwgui / harbour manage memo and rtf
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECCD@SRV02.deltain.net>

How is possible in gtwvg manage memo in get..read with harbour in
conjunction 
Will memo be extended to manage a rft?
How same work with hwgui?
Here my not working demo
What I miss?
        LOCAL aBlocks    := {} 
        m_nome=space(30)
        M_annotation=SPACE(0)
        @ 1, 1  SAY "Name:"
        @ 1, 7  GET  M_nome  PICTURE "@!"   
        @ 2,1 say "Note:"
        Call a func like Managememo (2, 7, 22, 73 , M_annotation)
In gtwvg something of similar to 
aAdd( aBlocks, {|| aEval( GetList, {|oGet| Wvt_DrawBoxGet( oGet:Row,
oGet:Col, Len( Transform( oGet:VarGet(), oGet:Picture ) ) ) } ) } )
   aLastPaint := WvtSetBlocks( aBlocks )
        Read

Massimo Belgrano

From harbour.01 at syenar.hu  Fri Jun  6 08:57:34 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 09:23:38 2008
Subject: [Harbour] 2008-06-06 14:46 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c7d4$Blat.v2.6.2$e388d9d0$14386c97000a@127.0.0.1>

2008-06-06 14:46 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbcurl/hbcurl.c
     + Now throws RTEs when required parameters are missing 
       or the wrong type. The concept here is that RTEs are 
       only to catch syntax mistakes, and not errors resulting 
       from actual libcurl usage/functionality/states.
       
   * contrib/hbapollo/apollo.ch
     * Formatting.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Jun  6 09:50:39 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 09:51:42 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
Message-ID: <4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>

Hi Lorenzo,

> With gtxwc and the fixed font I can get 48 rows and 140 cols using  
> size 13.
>
> With gtwvt the only font that I've found usable at more than 25x80 is
> Terminal, but it looks really "Dos".
>
> M$ has a new fixed font "Consolas" that it comes with POwerPoint
> Viewer 2007 but I can't find the right HB_GTI_FONT* parameters to use
> it.
>
> Has anybody already done it?
>
> Can anybody suggest gtwvt's font configuration?

For me it still doesn't seem to work (or it's possible
that I don't know how to use it).

I tried:
hb_gtInfo( HB_GTI_FONTNAME, "Consolas" )
hb_gtInfo( HB_GTI_FONTQUALITY, HB_GTI_FONTQ_HIGH )

And all I got was the default font (I don't
which this can be), but _without_ antialias.
By default it properly antialiased. (I have Consolas
installed, as I use it for the command prompt.)

If I try this with "Courier New", "Courier", all
the same. "Terminal", "Symbol" works though.

[ The ultimate problem with Consolas though, is that
you cannot distribute it with your application. ]

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Fri Jun  6 10:29:19 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jun  6 10:29:54 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>
Message-ID: <9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>

On Fri, Jun 6, 2008 at 3:50 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> If I try this with "Courier New", "Courier", all
> the same. "Terminal", "Symbol" works though.

I too can't find a "clean" way to set font.

> [ The ultimate problem with Consolas though, is that
> you cannot distribute it with your application. ]

AFAIK Consolas is included in PowerPoint Viewer 2007 which is free for
"genuine" Windows users.

The problem with Courier New is that it gets really "bad" when used at
small sizes.

But what I'm trying to find is a "pattern" ti understand how to set a
font with gtwvt ( or how to know why a font can't be used ).

best regards,
Lorenzo
From harbour.01 at syenar.hu  Fri Jun  6 10:58:56 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 11:00:01 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>
	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>
Message-ID: <27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>

>> [ The ultimate problem with Consolas though, is that
>> you cannot distribute it with your application. ]
>
> AFAIK Consolas is included in PowerPoint Viewer 2007 which is free for
> "genuine" Windows users.

That's true, but you cannot distribute it's fonts with
your own app, regardless. What you can do is distribute
the Viewer 2007, and require it to install, but that is
not very clean.

I miss good free fonts. The only ones I found is the
Liberation fonts (Mono, Sans, Serif).

> The problem with Courier New is that it gets really "bad" when used at
> small sizes.
>
> But what I'm trying to find is a "pattern" ti understand how to set a
> font with gtwvt ( or how to know why a font can't be used ).

Yes, me too.

And if I can have my wishes too:

I'd like some functionality which lets the users reshape
the window, font size, font type. I reckon this will be
a recurring problem once the app gets to the field.
I could do that inside the app, but that would be far
from intuitive in a CUI application
(think of 'guess -> set -> try -> do it again until okay'
cycle - I'm not sure which setting is realtime).
[ I'm not talking about char screen resolution, because
this would need changing display content on the app
level. ]

Another one is what Massimo mentioned once, is the
possibility to control window closing, app shutdown.
In control I mean enable/disable (closing) and catch
it with a callback block. The xhb solution target this,
but it seems to be solved in a not very elegant way
(setkey plus some strange functions).

Also screen scraping is helpful in ordinary DOS window.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Fri Jun  6 11:15:31 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jun  6 11:15:35 2008
Subject: [Harbour] gttrm inside html browser
Message-ID: <9257026e0806060815j75bab596u26067251de508296@mail.gmail.com>

I mean a terminal ( console ) emulation inside stabdard browser?

I've found few of them but they are too "basic" or are part of a much
complex infrastructure.

Is there anybody who has already tried sth like that?

best regards,
Lorenzo
From bedipritpal at hotmail.com  Fri Jun  6 11:28:14 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Jun  6 11:28:20 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>
	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>
	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
Message-ID: <17694977.post@talk.nabble.com>


Lorenzo and Viktor

<<<<<<<
> But what I'm trying to find is a "pattern" ti understand how to set a
> font with gtwvt ( or how to know why a font can't be used ).

Yes, me too.

And if I can have my wishes too:

I'd like some functionality which lets the users reshape
the window, font size, font type. I reckon this will be
a recurring problem once the app gets to the field.
I could do that inside the app, but that would be far
from intuitive in a CUI application
(think of 'guess -> set -> try -> do it again until okay'
cycle - I'm not sure which setting is realtime).
[ I'm not talking about char screen resolution, because
this would need changing display content on the app
level. ]


Another one is what Massimo mentioned once, is the
possibility to control window closing, app shutdown.
In control I mean enable/disable (closing) and catch
it with a callback block. The xhb solution target this,
but it seems to be solved in a not very elegant way
(setkey plus some strange functions).

Also screen scraping is helpful in ordinary DOS window.
>>>>>>>>

This all has been implemented in GTWVG long back. In a day or two I will
show the code. And infact I would like to encapsilate those methods in core
GTWVT.

If I am not missing something, we are out of release freeze? If yes, I will
try to get consent from the group some core GT functionality, which extends
and not interfere with existing one.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/gtwvt-font-best-setup-tp17687774p17694977.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Jun  6 12:03:09 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 12:03:15 2008
Subject: [Harbour] [RC1] 2008-06-06 17:58 UTC+0100 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8c7ee$Blat.v2.6.2$d06d8e26$1f58a7954b9c@127.0.0.1>

2008-06-06 17:58 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbpgsql/make_b32.bat
     - Removed special compiler switches no longer necessary. [RC1]

   * contrib/hbcurl/hbcurl.c
     + Now throws RTEs when required parameters are missing 
       or the wrong type. The concept here is that RTEs are 
       only to catch syntax mistakes, and not errors resulting 
       from actual libcurl usage/functionality/states. [RC1]
       
   * contrib/hbapollo/apollo.ch
     * Formatting. [RC1]

   * contrib/hbapollo/common.mak
   * contrib/hbapollo/Makefile
   + contrib/hbapollo/apollo.ch
   - contrib/hbapollo/tests/apollo.ch
     ! apollo.ch file was in tests by mistake. [RC1]

   * harbour-w32-spec
     ! Added 'svn:keywords "Author Date Id Revision"' [RC1]

   * contrib/examples/pe/bld_b32.bat
     ! Fixed. [RC1]

   * contrib/hbpgsql/make_vc.bat
     + Now uses the .lib provided in the binary package. [RC1]
       (This needs the current 8.3.1 version)

   * contrib/hbpgsql/make_b32.bat
   * contrib/hbpgsql/make_vc.bat
   * contrib/hbpgsql/tests/bld_b32.bat
   * contrib/hbpgsql/tests/bld_vc.bat
     ! Fixed to use the right .dll to generate the .lib. [RC1]

   * contrib/hbcurl/hbcurl.ch
   * contrib/hbcurl/hbcurl.c
   * contrib/hbcurl/tests/ftp_uldl.prg
     + Added test for deleting file.
     + Added dummy upload option:
       + CURL_EASY_SETOPT() / HB_CURLOPT_UL_NULL_SETUP
     ! Fixed all the setopt options below. Very old bug in 
       hbcurl code. Now rename, delete, other custom commands 
       plus a few other options work properly:
       HB_CURLOPT_HTTPHEADER
       HB_CURLOPT_HTTP200ALIASES
       HB_CURLOPT_QUOTE
       HB_CURLOPT_POSTQUOTE
       HB_CURLOPT_PREQUOTE
       HB_CURLOPT_TELNETOPTIONS
     ; [RC1]

   * contrib/hbcurl/hbcurl.c
     * Minor. [RC1]

   * contrib/hbcurl/hbcurl.c
     ! Missing cast. [RC1]

   * contrib/hbcurl/hbcurl.ch
   * contrib/hbcurl/hbcurl.c
   * contrib/hbcurl/tests/ftp_uldl.prg
     + Added some more test for downloading to memory, 
       uploading from memory.
     + Added possibility to download to memory, and upload 
       from memory:
       + CURL_EASY_SETOPT() / HB_CURLOPT_UL_BUFF_SETUP
       + CURL_EASY_SETOPT() / HB_CURLOPT_DL_BUFF_SETUP
       + CURL_EASY_SETOPT() / HB_CURLOPT_DL_BUFF_GET
       + CURL_EASY_DL_BUFF_GET() -> <cFileContent>
     * Changed a few old Harbour setopt defines:
       (old ones are still working to retain compatibility)
       * HB_CURLOPT_SETUPLOADFILE     -> HB_CURLOPT_UL_FILE_SETUP
       * HB_CURLOPT_CLOSEUPLOADFILE   -> HB_CURLOPT_UL_FILE_CLOSE
       * HB_CURLOPT_SETDOWNLOADFILE   -> HB_CURLOPT_DL_FILE_SETUP
       * HB_CURLOPT_CLOSEDOWNLOADFILE -> HB_CURLOPT_DL_FILE_CLOSE
       * HB_CURLOPT_SETPROGRESS       -> HB_CURLOPT_PROGRESSBLOCK
     ; [RC1]

   * contrib/hbcurl/hbcurl.c
     * Changed all logical options to default to .T.. This 
       way all work the same way, and in real life usage 
       the logical parameter can omitted in most cases.
       INCOMPATIBLE. [RC1]

   * contrib/hbcurl/tests/ftp_uldl.prg
     + Added small example to get a dir listing. [RC1]

   * contrib/hbcurl/hbcurl.c
     + Changed to use hb_parc() (instead of hb_parcx()) for all 
       curl_easy_setopt() string options, so that NULL (NIL) will 
       reset these options to default state, instead of passing 
       an empty string to them. [RC1]

   * source/rtl/hbbit.c
     + Added important NOTE about hb_bit*() functions' 
       relation to the compiler optimization engine. [RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Jun  6 12:03:24 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 12:03:29 2008
Subject: [Harbour] 2008-06-06 17:58 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c7ee$Blat.v2.6.2$d9468822$b509f886cd8@127.0.0.1>

2008-06-06 17:58 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * ChangeLog
     + Marked changes merged with RC1.

   * contrib/hbpgsql/make_b32.bat
     - Removed special compiler switches no longer necessary. [RC1]
--
Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Fri Jun  6 12:13:50 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jun  6 12:13:54 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <17694977.post@talk.nabble.com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>
	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>
	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
	<17694977.post@talk.nabble.com>
Message-ID: <9257026e0806060913o17cbbdf9o326abf716880a553@mail.gmail.com>

On Fri, Jun 6, 2008 at 5:28 PM, Pritpal Bedi <bedipritpal@hotmail.com> wrote:

> This all has been implemented in GTWVG long back. In a day or two I will
> show the code. And infact I would like to encapsilate those methods in core
> GTWVT.

Good.

I've never used gtwvg is there a way to have a better font than gtwvt
without much changes?

Which font configuration do you usually use?

best regards,
Lorenzo
From mbelgrano at deltain.it  Fri Jun  6 12:17:55 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun  6 12:18:05 2008
Subject: [Harbour] gttrm inside html browser
In-Reply-To: <9257026e0806060815j75bab596u26067251de508296@mail.gmail.com>
References: <9257026e0806060815j75bab596u26067251de508296@mail.gmail.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECD2@SRV02.deltain.net>

Imo if you serch for "monospaced font" you can found good font
I remember a font part of old lotus suite

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo
Fiorini
Sent: Friday, June 06, 2008 5:16 PM
To: Harbour Project Main Developer List.
Subject: [Harbour] gttrm inside html browser

I mean a terminal ( console ) emulation inside stabdard browser?

I've found few of them but they are too "basic" or are part of a much
complex infrastructure.

Is there anybody who has already tried sth like that?

best regards,
Lorenzo
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Fri Jun  6 12:33:22 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun  6 12:33:31 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <9257026e0806060913o17cbbdf9o326abf716880a553@mail.gmail.com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com><4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu><9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com><27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu><17694977.post@talk.nabble.com>
	<9257026e0806060913o17cbbdf9o326abf716880a553@mail.gmail.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECD3@SRV02.deltain.net>

Untested 
read c:\harbour\contrib\gtwvg\demowvg.prg

WVT_Core()
WVT_Utils()
Wvt_SetGui( .t. )
WvtSetKeys( .t. )
setcolor('N/W,N/GR*,,,N/W*')  // because look windows
cls
screenWidth := Wvt_GetScreenWidth()
if screenWidth >= 1920
WVt_SetFont("Courier New",40,21)
ELSEIF screenWidth >= 1600 // 1280 *960
WVt_SetFont("Courier New",32,18)
elseif screenWidth >= 1280 // 1280 *960
Wvt_SetFont("Courier new",20,13) //
15*80=1200 36*25=900
elseif screenWidth >= 1024 // 1024*760
Wvt_SetFont("Courier new",20,12.5)
elseif screenWidth >= 800
Wvt_SetFont("Courier new",18,10)
else
Wvt_SetFont("Courier new",14,8)
Endif
// other good font
// Wvt_SetFont("Terminal",20,8)
// WVt_SetFont("Lucida Console",20,-8)

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo
Fiorini
Sent: Friday, June 06, 2008 6:14 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] gtwvt font best setup

On Fri, Jun 6, 2008 at 5:28 PM, Pritpal Bedi <bedipritpal@hotmail.com>
wrote:

> This all has been implemented in GTWVG long back. In a day or two I
will
> show the code. And infact I would like to encapsilate those methods in
core
> GTWVT.

Good.

I've never used gtwvg is there a way to have a better font than gtwvt
without much changes?

Which font configuration do you usually use?

best regards,
Lorenzo
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Fri Jun  6 12:40:11 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 12:41:14 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <17694977.post@talk.nabble.com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>
	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>
	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
	<17694977.post@talk.nabble.com>
Message-ID: <31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>

> I'd like some functionality which lets the users reshape
> the window, font size, font type. I reckon this will be
> a recurring problem once the app gets to the field.
> I could do that inside the app, but that would be far
> from intuitive in a CUI application
> (think of 'guess -> set -> try -> do it again until okay'
> cycle - I'm not sure which setting is realtime).
> [ I'm not talking about char screen resolution, because
> this would need changing display content on the app
> level. ]
>
>
> Another one is what Massimo mentioned once, is the
> possibility to control window closing, app shutdown.
> In control I mean enable/disable (closing) and catch
> it with a callback block. The xhb solution target this,
> but it seems to be solved in a not very elegant way
> (setkey plus some strange functions).
>
> Also screen scraping is helpful in ordinary DOS window.
>>>>>>>>>
>
> This all has been implemented in GTWVG long back. In a day or two I  
> will
> show the code. And infact I would like to encapsilate those methods  
> in core
> GTWVT.

Hi Pritpal,

To make my "wishes" a bit more clear:

(I'm talking about pure character display in
a graphical window, like GTWVT)

1) In resize, font modify I meant a method which is
    independent from app code, meaning a custom system
    menu, and ability to resize the graphical window
    with the mouse, and change font setup. Optionally
    some callback to catch the settings to enable the
    app to save those. This would also need support
    for a "scale factor" probably.
    So final layout would depend on:
       Screen size (not modifiable by this feature)
       Font name
       Font style (f.e. bold)
       Font size
       Scale factor

2) In "screen scraping" I meant the regular Windows
    command prompt feature to select parts of the window
    and copy the content to the clipboard as text. This
    also fully implemented by the GT, not requiring
    any application code, except maybe some optional
    callbacks.

I cannot find these in GTWVG, at least not in the
demo app. As for 2) it hasn't a meaning in GWTVG,
since it's fully graphical.

3) as for disabling 'close', I've actually found it
    working in GTWVT. It can be enabled by _SET_CANCEL.
    I'm not sure if this is good this way, as it gives
    a different meaning for an existing setting, and
    makes code more difficult to port between Clipper
    and Harbour. In Clipper I want to use my app with
    SET_CANCEL = .F., in Harbour + GTWVT I'd like to
    disable Alt+C still, but I may want to allow window
    closing, given that I can react to it from the app.
    These are two different things.
    So IMO here we should have a HB_GTI_ setting
    instead, plus a way to specify a callback.

Saying all this, what we need IMO is the option
to specify a HB_GTI_NOTIFICATION_BLOCK, which
gets called with specific event code in the above
cases:

- HB_GTE_REQUESTED_CLOSE
- HB_GTE_REQUESTED_SHUTDOWN
- HB_GTE_REQUESTED_SLEEP
- HB_GTE_GOT_SCREENCOPY
- HB_GTE_GOT_DROP
- HB_GTE_GOT_DRAG /* so we can let part of screen dragged to another  
window */
- HB_GTE_CHANGED_LAYOUT
- HB_GTE_CHANGED_OSRESOLUTION /* ~ */
etc...

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Fri Jun  6 12:42:49 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jun  6 12:42:52 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>
	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>
	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
Message-ID: <9257026e0806060942k23f21290p4e9ee16aebae055d@mail.gmail.com>

On Fri, Jun 6, 2008 at 4:58 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Yes, me too.

I've found that changing in source/rtl/gtwvt.h:

from
#  define WVT_DEFAULT_FONT_HEIGHT   20
#  define WVT_DEFAULT_FONT_WIDTH    10
to
#  define WVT_DEFAULT_FONT_HEIGHT   16
#  define WVT_DEFAULT_FONT_WIDTH      8

Courier 14 gets better.

It seems that font name, size, height and width need to "mixed" correctly.

I wonder if exist a tool like Linux's xfontsel to find out the right values.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Fri Jun  6 12:50:12 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 12:51:14 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECD3@SRV02.deltain.net>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com><4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu><9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com><27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu><17694977.post@talk.nabble.com>
	<9257026e0806060913o17cbbdf9o326abf716880a553@mail.gmail.com>
	<AFB948164110ED43B5EB849E8DEEF03815ECD3@SRV02.deltain.net>
Message-ID: <5CF8F7E1-2763-414C-838B-9F7F8C6DF19E@syenar.hu>

Hi Massimo,

GTWVG is a different beast. I'm personally
interested in GTWVT.

Brgds,
Viktor

On 2008.06.06., at 18:33, Massimo Belgrano wrote:

> Untested
> read c:\harbour\contrib\gtwvg\demowvg.prg
>
> WVT_Core()
> WVT_Utils()
> Wvt_SetGui( .t. )
> WvtSetKeys( .t. )
> setcolor('N/W,N/GR*,,,N/W*')  // because look windows
> cls
> screenWidth := Wvt_GetScreenWidth()
> if screenWidth >= 1920
> WVt_SetFont("Courier New",40,21)
> ELSEIF screenWidth >= 1600 // 1280 *960
> WVt_SetFont("Courier New",32,18)
> elseif screenWidth >= 1280 // 1280 *960
> Wvt_SetFont("Courier new",20,13) //
> 15*80=1200 36*25=900
> elseif screenWidth >= 1024 // 1024*760
> Wvt_SetFont("Courier new",20,12.5)
> elseif screenWidth >= 800
> Wvt_SetFont("Courier new",18,10)
> else
> Wvt_SetFont("Courier new",14,8)
> Endif
> // other good font
> // Wvt_SetFont("Terminal",20,8)
> // WVt_SetFont("Lucida Console",20,-8)
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo
> Fiorini
> Sent: Friday, June 06, 2008 6:14 PM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] gtwvt font best setup
>
> On Fri, Jun 6, 2008 at 5:28 PM, Pritpal Bedi <bedipritpal@hotmail.com>
> wrote:
>
>> This all has been implemented in GTWVG long back. In a day or two I
> will
>> show the code. And infact I would like to encapsilate those methods  
>> in
> core
>> GTWVT.
>
> Good.
>
> I've never used gtwvg is there a way to have a better font than gtwvt
> without much changes?
>
> Which font configuration do you usually use?
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Jun  6 12:52:11 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 12:53:15 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <9257026e0806060942k23f21290p4e9ee16aebae055d@mail.gmail.com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>
	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>
	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
	<9257026e0806060942k23f21290p4e9ee16aebae055d@mail.gmail.com>
Message-ID: <1DC28B01-82CE-4CD8-9EE6-5C3D94DC5340@syenar.hu>

How did you manage to switch to "Courier"
in the first place? Or did it work only
after these core modifications?

Brgds,
Viktor

On 2008.06.06., at 18:42, Lorenzo Fiorini wrote:

> On Fri, Jun 6, 2008 at 4:58 PM, Szak?ts Viktor <harbour. 
> 01@syenar.hu> wrote:
>
>> Yes, me too.
>
> I've found that changing in source/rtl/gtwvt.h:
>
> from
> #  define WVT_DEFAULT_FONT_HEIGHT   20
> #  define WVT_DEFAULT_FONT_WIDTH    10
> to
> #  define WVT_DEFAULT_FONT_HEIGHT   16
> #  define WVT_DEFAULT_FONT_WIDTH      8
>
> Courier 14 gets better.
>
> It seems that font name, size, height and width need to "mixed"  
> correctly.
>
> I wonder if exist a tool like Linux's xfontsel to find out the right  
> values.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Fri Jun  6 13:04:53 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jun  6 13:04:58 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>
	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>
	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
Message-ID: <9257026e0806061004k63539878m6bb02315e19d809f@mail.gmail.com>

On Fri, Jun 6, 2008 at 4:58 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Yes, me too.

I've found that keeping the ratio 1/2 of height ( size ) and width is
very important.

Setting both size and width I got working Lucida Console and Courier
in an "expected" way.

Still Consolas doesn't work.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Fri Jun  6 13:15:44 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jun  6 13:15:48 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <1DC28B01-82CE-4CD8-9EE6-5C3D94DC5340@syenar.hu>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>
	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>
	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
	<9257026e0806060942k23f21290p4e9ee16aebae055d@mail.gmail.com>
	<1DC28B01-82CE-4CD8-9EE6-5C3D94DC5340@syenar.hu>
Message-ID: <9257026e0806061015j3068716s3d9849bf6e1046cb@mail.gmail.com>

On Fri, Jun 6, 2008 at 6:52 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> How did you manage to switch to "Courier"
> in the first place? Or did it work only
> after these core modifications?

I've found that these lines can be a good start:

            GTInfo(GTI_FONTNAME, cName)
            GTInfo(GTI_FONTSIZE, nSize)
            GTInfo(GTI_FONTWIDTH, int(nSize/2))

with these using Courier and Lucida Console I can get 48 rows and 140
cols using size 14.

best regards,
Lorenzo
From makis1970 at gmail.com  Fri Jun  6 13:21:07 2008
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Fri Jun  6 13:25:18 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>
	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>
Message-ID: <00d101c8c7f9$b6636310$232a2930$@com>

Hi Viktor,
I've already done something like that but with a changed version of GTWVW
and under xHarbour (I hope that someday Przemek will add RMDBFCDX under
Harbour also). I've changed GTWVW so when a resize its occurs it resize
every win32 control and font size to respect the new window size. Also it
resizes all subwindows. Also when I move the main window the subwindows
moved also. Even if it's a pseudo modal application (To be truth it's the
same clipper with Ctwindow functions application) but recompiled with
xHarbour and GTWVW with very few changes (guarded with Ifdef) its possible
to resize the application from the main window. Also its possible by the end
user to change Columns-Lines of the application and automatically change the
the font size. The best font for something like that it's a custom one
inspired from lucida console and there is no need to be installed to the
system (I'm using win32api addfont resource). I could send to everyone this
font but I'm not sure if its ok for other languages also.

Regards
Mike Evans

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Szakats Viktor
Sent: Friday, June 06, 2008 7:40 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] gtwvt font best setup

> I'd like some functionality which lets the users reshape
> the window, font size, font type. I reckon this will be
> a recurring problem once the app gets to the field.
> I could do that inside the app, but that would be far
> from intuitive in a CUI application
> (think of 'guess -> set -> try -> do it again until okay'
> cycle - I'm not sure which setting is realtime).
> [ I'm not talking about char screen resolution, because
> this would need changing display content on the app
> level. ]
>
>
> Another one is what Massimo mentioned once, is the
> possibility to control window closing, app shutdown.
> In control I mean enable/disable (closing) and catch
> it with a callback block. The xhb solution target this,
> but it seems to be solved in a not very elegant way
> (setkey plus some strange functions).
>
> Also screen scraping is helpful in ordinary DOS window.
>>>>>>>>>
>
> This all has been implemented in GTWVG long back. In a day or two I  
> will
> show the code. And infact I would like to encapsilate those methods  
> in core
> GTWVT.

Hi Pritpal,

To make my "wishes" a bit more clear:

(I'm talking about pure character display in
a graphical window, like GTWVT)

1) In resize, font modify I meant a method which is
    independent from app code, meaning a custom system
    menu, and ability to resize the graphical window
    with the mouse, and change font setup. Optionally
    some callback to catch the settings to enable the
    app to save those. This would also need support
    for a "scale factor" probably.
    So final layout would depend on:
       Screen size (not modifiable by this feature)
       Font name
       Font style (f.e. bold)
       Font size
       Scale factor

2) In "screen scraping" I meant the regular Windows
    command prompt feature to select parts of the window
    and copy the content to the clipboard as text. This
    also fully implemented by the GT, not requiring
    any application code, except maybe some optional
    callbacks.

I cannot find these in GTWVG, at least not in the
demo app. As for 2) it hasn't a meaning in GWTVG,
since it's fully graphical.

3) as for disabling 'close', I've actually found it
    working in GTWVT. It can be enabled by _SET_CANCEL.
    I'm not sure if this is good this way, as it gives
    a different meaning for an existing setting, and
    makes code more difficult to port between Clipper
    and Harbour. In Clipper I want to use my app with
    SET_CANCEL = .F., in Harbour + GTWVT I'd like to
    disable Alt+C still, but I may want to allow window
    closing, given that I can react to it from the app.
    These are two different things.
    So IMO here we should have a HB_GTI_ setting
    instead, plus a way to specify a callback.

Saying all this, what we need IMO is the option
to specify a HB_GTI_NOTIFICATION_BLOCK, which
gets called with specific event code in the above
cases:

- HB_GTE_REQUESTED_CLOSE
- HB_GTE_REQUESTED_SHUTDOWN
- HB_GTE_REQUESTED_SLEEP
- HB_GTE_GOT_SCREENCOPY
- HB_GTE_GOT_DROP
- HB_GTE_GOT_DRAG /* so we can let part of screen dragged to another  
window */
- HB_GTE_CHANGED_LAYOUT
- HB_GTE_CHANGED_OSRESOLUTION /* ~ */
etc...

Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From makis1970 at gmail.com  Fri Jun  6 13:26:20 2008
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Fri Jun  6 13:29:52 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <9257026e0806060942k23f21290p4e9ee16aebae055d@mail.gmail.com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
	<9257026e0806060942k23f21290p4e9ee16aebae055d@mail.gmail.com>
Message-ID: <00d201c8c7fa$70bc01e0$523405a0$@com>

Hi Lorenzo,
I've made something automatically with the following code

 Local nScreenWidth := Wvw_GetScreenWidth()
 Local nScreenHeight:= Wvw_GetScreenHeight()
 Local nFHeight, nFWidth
 
  Wvw_SetCodePage( ,Val( hIniData["Fonts"]["Codepage"] ) ) //255

  If !Empty( hIniData["Fonts"]["Fontfile"] )
       If AddFontResource( hIniData["Fonts"]["Fontfile"] ) == 0

            MessageBox( NIL, "Error:")+ Alltrim(
hIniData["Fonts"]["Fontfile"] ) ,;
                        NIL, MB_ICONHAND )
            Quit
       Endif

  Endif

  If hIniData["Screen"]["Fullscreen"] == "false"

      Wvw_SETFONT( ,hIniData["Fonts"]["Fontname"]  , Val(
hIniData["Fonts"]["Height"] ),;
              Val( hIniData["Fonts"]["Width"   ] ), Val(
hIniData["Fonts"]["Bold"] ),;
              Val( hIniData["Fonts"]["Quality" ] ) )
  Else // true
      // 112 = 20 statusbar, 36 Toolbar Size      // TODO automatically
calculate Statusbar, Toolbar height) 
      nFHeight := Int( ( nScreenHeight-126 ) / DF_LINES )
      nFWidth  := Int( ( nScreenWidth-7 ) / DF_COLUMNS )
      // Almost fullscren in 1280x1024

      Wvw_SetFont( , hIniData["Fonts"]["Fontname"], nFHeight, nFWidth, 0 )
      wvw_pbSetFont( , hIniData["Fonts"]["Fontname"], nFHeight, nFWidth, 0 )

  Endif

Regards
Mike Evans

From lorenzo.fiorini at gmail.com  Fri Jun  6 13:30:43 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jun  6 13:30:47 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <9257026e0806061015j3068716s3d9849bf6e1046cb@mail.gmail.com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>
	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>
	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
	<9257026e0806060942k23f21290p4e9ee16aebae055d@mail.gmail.com>
	<1DC28B01-82CE-4CD8-9EE6-5C3D94DC5340@syenar.hu>
	<9257026e0806061015j3068716s3d9849bf6e1046cb@mail.gmail.com>
Message-ID: <9257026e0806061030l3581edfdk28b528a737b6292d@mail.gmail.com>

On Fri, Jun 6, 2008 at 7:15 PM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com> wrote:

> I've found that these lines can be a good start:
>
>            GTInfo(GTI_FONTNAME, cName)
>            GTInfo(GTI_FONTSIZE, nSize)
>            GTInfo(GTI_FONTWIDTH, int(nSize/2))
>
> with these using Courier and Lucida Console I can get 48 rows and 140
> cols using size 14.

With these even Terminal looks different ( better ) and I could get 54
rows and 168 cols on a 1024x768 desktop

At the moment this seem the most readable one.

The "problem" is that GTInfo(GTI_FONTNAME) returns the string I set
not the actual font, so I'm not sure I'm actually using Terminal but
it looks good and allows more rows/cols than Courier so it's sth
different.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Fri Jun  6 13:30:13 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 13:31:15 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <9257026e0806061015j3068716s3d9849bf6e1046cb@mail.gmail.com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>
	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>
	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
	<9257026e0806060942k23f21290p4e9ee16aebae055d@mail.gmail.com>
	<1DC28B01-82CE-4CD8-9EE6-5C3D94DC5340@syenar.hu>
	<9257026e0806061015j3068716s3d9849bf6e1046cb@mail.gmail.com>
Message-ID: <4FFBF4F2-F539-4116-B358-164D0AF81077@syenar.hu>

Works great! :)

I've noticed that the blinking cursor is not
resized properly in these cases.

Brgds,
Viktor

On 2008.06.06., at 19:15, Lorenzo Fiorini wrote:

> On Fri, Jun 6, 2008 at 6:52 PM, Szak?ts Viktor <harbour. 
> 01@syenar.hu> wrote:
>
>> How did you manage to switch to "Courier"
>> in the first place? Or did it work only
>> after these core modifications?
>
> I've found that these lines can be a good start:
>
>            GTInfo(GTI_FONTNAME, cName)
>            GTInfo(GTI_FONTSIZE, nSize)
>            GTInfo(GTI_FONTWIDTH, int(nSize/2))
>
> with these using Courier and Lucida Console I can get 48 rows and 140
> cols using size 14.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Fri Jun  6 13:36:12 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jun  6 13:36:20 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <00d201c8c7fa$70bc01e0$523405a0$@com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>
	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>
	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
	<9257026e0806060942k23f21290p4e9ee16aebae055d@mail.gmail.com>
	<00d201c8c7fa$70bc01e0$523405a0$@com>
Message-ID: <9257026e0806061036v5a2e21fbjc76ef86bf0dee56e@mail.gmail.com>

On Fri, Jun 6, 2008 at 7:26 PM, Mike Evans (Gmail) <makis1970@gmail.com> wrote:

> I've made something automatically with the following code
>
>  Local nScreenWidth := Wvw_GetScreenWidth()
> ...
>      Wvw_SetFont( , hIniData["Fonts"]["Fontname"], nFHeight, nFWidth, 0 )
>      wvw_pbSetFont( , hIniData["Fonts"]["Fontname"], nFHeight, nFWidth, 0 )

Thanks Mike.

I'll try to use sth like that with gtwvt.

best regards,
Lorenzo
From makis1970 at gmail.com  Fri Jun  6 13:35:26 2008
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Fri Jun  6 13:39:01 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>
	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>
Message-ID: <00d301c8c7fb$b727b290$257717b0$@com>

Also I've made some changes so the close button of each window acts like
ESC, right click like ESC also, Roller as pgup pgdn , CTRL-CLICK like TAB
and DBLclick like enter. Also I'm using an excellent lib (appface) to skin
my application. Until now the results from my customers are excellent. Even
the interface at least for my dos customers its excellent and they have at
least the same speed as with the dos application. 

Regards
Mike Evans

From lorenzo.fiorini at gmail.com  Fri Jun  6 13:38:57 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jun  6 13:39:03 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <4FFBF4F2-F539-4116-B358-164D0AF81077@syenar.hu>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>
	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>
	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
	<9257026e0806060942k23f21290p4e9ee16aebae055d@mail.gmail.com>
	<1DC28B01-82CE-4CD8-9EE6-5C3D94DC5340@syenar.hu>
	<9257026e0806061015j3068716s3d9849bf6e1046cb@mail.gmail.com>
	<4FFBF4F2-F539-4116-B358-164D0AF81077@syenar.hu>
Message-ID: <9257026e0806061038m3c4a5fdfu25f9be7f9ff20df4@mail.gmail.com>

On Fri, Jun 6, 2008 at 7:30 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> I've noticed that the blinking cursor is not
> resized properly in these cases.

I set the font at the app start. At the moment I get the correct cursor.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Fri Jun  6 13:44:02 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jun  6 13:44:06 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <00d301c8c7fb$b727b290$257717b0$@com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>
	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>
	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
	<17694977.post@talk.nabble.com>
	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>
	<00d301c8c7fb$b727b290$257717b0$@com>
Message-ID: <9257026e0806061044i7194b163ka7f1d9aff7c18dae@mail.gmail.com>

On Fri, Jun 6, 2008 at 7:35 PM, Mike Evans (Gmail) <makis1970@gmail.com> wrote:

> Also I've made some changes so the close button of each window acts like
> ESC, right click like ESC also, Roller as pgup pgdn , CTRL-CLICK like TAB
> and DBLclick like enter. Also I'm using an excellent lib (appface) to skin
> my application. Until now the results from my customers are excellent. Even
> the interface at least for my dos customers its excellent and they have at
> least the same speed as with the dos application.

Did you used Appface with gtwvt ( or wvg ) apps?

If yes, could you kindly send/publish some screenshots?

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Fri Jun  6 14:07:01 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jun  6 14:07:05 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <9257026e0806061030l3581edfdk28b528a737b6292d@mail.gmail.com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>
	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>
	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
	<9257026e0806060942k23f21290p4e9ee16aebae055d@mail.gmail.com>
	<1DC28B01-82CE-4CD8-9EE6-5C3D94DC5340@syenar.hu>
	<9257026e0806061015j3068716s3d9849bf6e1046cb@mail.gmail.com>
	<9257026e0806061030l3581edfdk28b528a737b6292d@mail.gmail.com>
Message-ID: <9257026e0806061107j1b8afc20h7c9008506537d649@mail.gmail.com>

On Fri, Jun 6, 2008 at 7:30 PM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com> wrote:

> The "problem" is that GTInfo(GTI_FONTNAME) returns the string I set
> not the actual font, so I'm not sure I'm actually using Terminal but
> it looks good and allows more rows/cols than Courier so it's sth
> different.

Sorry I've found the reason. Yesterday I've installed a Terminal font
replacement from here
http://www.chiark.greenend.org.uk/~sgtatham/fonts/ and I forgot to remove it.

However it looks really good and it seems really free.

best regards,
Lorenzo
From makis1970 at gmail.com  Fri Jun  6 14:10:05 2008
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Fri Jun  6 14:13:44 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <9257026e0806061044i7194b163ka7f1d9aff7c18dae@mail.gmail.com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d301c8c7fb$b727b290$257717b0$@com>
	<9257026e0806061044i7194b163ka7f1d9aff7c18dae@mail.gmail.com>
Message-ID: <00d701c8c800$8de48ca0$a9ada5e0$@com>

Lorenzo,
I'm using even now (because its not changed to the new GTAPI a changed
version of GTWVW. GTWVW its almost the same as GTWVW but with some
additions). As for the screenshots I don't have any problem to post a link
here but I'll have to do it tomorrow (I don't have access from here to my
ftp server)

Regards
Mike Evans
 


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo Fiorini
Sent: Friday, June 06, 2008 8:44 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] gtwvt font best setup

On Fri, Jun 6, 2008 at 7:35 PM, Mike Evans (Gmail) <makis1970@gmail.com>
wrote:

> Also I've made some changes so the close button of each window acts like
> ESC, right click like ESC also, Roller as pgup pgdn , CTRL-CLICK like TAB
> and DBLclick like enter. Also I'm using an excellent lib (appface) to skin
> my application. Until now the results from my customers are excellent.
Even
> the interface at least for my dos customers its excellent and they have at
> least the same speed as with the dos application.

Did you used Appface with gtwvt ( or wvg ) apps?

If yes, could you kindly send/publish some screenshots?

best regards,
Lorenzo
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Fri Jun  6 14:47:31 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun  6 14:47:41 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <00d301c8c7fb$b727b290$257717b0$@com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com><31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>
	<00d301c8c7fb$b727b290$257717b0$@com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECD4@SRV02.deltain.net>

Interesting can you post same sample?


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Mike Evans
(Gmail)
Sent: Friday, June 06, 2008 7:35 PM
To: 'Harbour Project Main Developer List.'
Subject: RE: [Harbour] gtwvt font best setup

Also I've made some changes so the close button of each window acts like
ESC, right click like ESC also, Roller as pgup pgdn , CTRL-CLICK like
TAB
and DBLclick like enter. Also I'm using an excellent lib (appface) to
skin
my application. Until now the results from my customers are excellent.
Even
the interface at least for my dos customers its excellent and they have
at
least the same speed as with the dos application. 

Regards
Mike Evans

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Fri Jun  6 14:55:23 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun  6 14:55:32 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <9257026e0806061107j1b8afc20h7c9008506537d649@mail.gmail.com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com><4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu><9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com><27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu><9257026e0806060942k23f21290p4e9ee16aebae055d@mail.gmail.com><1DC28B01-82CE-4CD8-9EE6-5C3D94DC5340@syenar.hu><9257026e0806061015j3068716s3d9849bf6e1046cb@mail.gmail.com><9257026e0806061030l3581edfdk28b528a737b6292d@mail.gmail.com>
	<9257026e0806061107j1b8afc20h7c9008506537d649@mail.gmail.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECD5@SRV02.deltain.net>

Is possible using a font via resource compiler?

So it can't be distributed with an application who use it.

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo
Fiorini
Sent: Friday, June 06, 2008 8:07 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] gtwvt font best setup

On Fri, Jun 6, 2008 at 7:30 PM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com> wrote:

> The "problem" is that GTInfo(GTI_FONTNAME) returns the string I set
> not the actual font, so I'm not sure I'm actually using Terminal but
> it looks good and allows more rows/cols than Courier so it's sth
> different.

Sorry I've found the reason. Yesterday I've installed a Terminal font
replacement from here
http://www.chiark.greenend.org.uk/~sgtatham/fonts/ and I forgot to
remove it.

However it looks really good and it seems really free.

best regards,
Lorenzo
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Fri Jun  6 15:06:40 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun  6 15:06:49 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <00d101c8c7f9$b6636310$232a2930$@com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com><31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>
	<00d101c8c7f9$b6636310$232a2930$@com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECD6@SRV02.deltain.net>

Seem that nobody in xharbour is able to modify gtwvw
I can suggest see gtwvg using harbour with Ct3 window functions
application

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Mike Evans
(Gmail)
Sent: Friday, June 06, 2008 7:21 PM
To: 'Harbour Project Main Developer List.'
Subject: RE: [Harbour] gtwvt font best setup

Hi Viktor,
I've already done something like that but with a changed version of
GTWVW
and under xHarbour (I hope that someday Przemek will add RMDBFCDX under
Harbour also). I've changed GTWVW so when a resize its occurs it resize
every win32 control and font size to respect the new window size. Also
it
resizes all subwindows. Also when I move the main window the subwindows
moved also. Even if it's a pseudo modal application (To be truth it's
the
same clipper with Ctwindow functions application) but recompiled with
xHarbour and GTWVW with very few changes (guarded with Ifdef) its
possible
to resize the application from the main window. Also its possible by the
end
user to change Columns-Lines of the application and automatically change
the
the font size. The best font for something like that it's a custom one
inspired from lucida console and there is no need to be installed to the
system (I'm using win32api addfont resource). I could send to everyone
this
font but I'm not sure if its ok for other languages also.

Regards
Mike Evans


From harbour.01 at syenar.hu  Fri Jun  6 21:01:53 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun  6 21:02:57 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <9257026e0806061038m3c4a5fdfu25f9be7f9ff20df4@mail.gmail.com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>
	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>
	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
	<9257026e0806060942k23f21290p4e9ee16aebae055d@mail.gmail.com>
	<1DC28B01-82CE-4CD8-9EE6-5C3D94DC5340@syenar.hu>
	<9257026e0806061015j3068716s3d9849bf6e1046cb@mail.gmail.com>
	<4FFBF4F2-F539-4116-B358-164D0AF81077@syenar.hu>
	<9257026e0806061038m3c4a5fdfu25f9be7f9ff20df4@mail.gmail.com>
Message-ID: <E2F15DD8-9DF8-4B36-AAA2-1A6CE3C50C2C@syenar.hu>

Me too, in an INIT PROC. There were two small
problems in GTWVT, which I've already fixed:
1) The cursor shape was not reinitialized after
    changing font/size, until the first cursor
    shape change.
2) SC_NORMAL cursor shape didn't take into account
    font size, it was constant 4.

I'll commit these later.

Brgds,
Viktor

On 2008.06.06., at 19:38, Lorenzo Fiorini wrote:

> On Fri, Jun 6, 2008 at 7:30 PM, Szak?ts Viktor <harbour. 
> 01@syenar.hu> wrote:
>
>> I've noticed that the blinking cursor is not
>> resized properly in these cases.
>
> I set the font at the app start. At the moment I get the correct  
> cursor.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Sat Jun  7 00:33:38 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Jun  7 00:33:41 2008
Subject: [Harbour] 2008-06-06 20:45 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <17705212.post@talk.nabble.com>


2008-06-06 20:45 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
   * harbour/source/rtl/hbgtcore.c
   * harbour/include/hbgtcore.h
   * harbour/include/hbgtinfo.ch
   * harbour/source/rtl/gtwvt/gtwvt.c
   * harbour/source/rtl/gtwvt/gtwvt.h
     + Added building blocks for CallBacks to be set with Hb_GtInfo( GTI_*
).
   * harbour/tests/wvtext.prg
     + Test program to taste few of the callbacks.

     /* This also sets the ground for futuristic multi-window GT 
        I have kept MW GT code out of current implementation.
        This implementation does not interfere nor affects current
functionality.

        A work in progress.

        Viktor, I have found a way to implement 'consol shearing, working on
it
        and for that to happen these building blocks are a must.

        Przemek, please review the structure of <PHB_PGT>. I have added a
few members.
        Please bear with my meagre knowledge if I did something stupid, just
correct it.
     */

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-06-20%3A45-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17705212p17705212.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Sat Jun  7 02:00:46 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun  7 02:00:57 2008
Subject: [Harbour] gttrm inside html browser
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECD2@SRV02.deltain.net>
References: <9257026e0806060815j75bab596u26067251de508296@mail.gmail.com>
	<AFB948164110ED43B5EB849E8DEEF03815ECD2@SRV02.deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECD7@SRV02.deltain.net>

HOPS. Sorry i have reply to bad messages

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo
Belgrano
Sent: Friday, June 06, 2008 6:18 PM
To: Harbour Project Main Developer List.
Subject: RE: [Harbour] gttrm inside html browser

Imo if you serch for "monospaced font" you can found good font
I remember a font part of old lotus suite

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo
Fiorini
Sent: Friday, June 06, 2008 5:16 PM
To: Harbour Project Main Developer List.
Subject: [Harbour] gttrm inside html browser

I mean a terminal ( console ) emulation inside stabdard browser?

I've found few of them but they are too "basic" or are part of a much
complex infrastructure.

Is there anybody who has already tried sth like that?

best regards,
Lorenzo
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Sat Jun  7 02:23:35 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun  7 02:23:48 2008
Subject: [Harbour] GT for win32
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECD8@SRV02.deltain.net>

In win32 is aivable this gt Gtcgi,gtgui,gtpca,gtstd,gtwin,gtwvg,gtwvt
Wich gt are aivable for linux and wich for pocketpc and mac os?
Gtxwc,gttrm,gtcrs, gtsln,

Will gttrm work also for win32?

Is suggest add follow info to doc\gtapi.txt
gtnul  - base GT driver from which each other inherits.
         it gives screen buffer functionality but does not
         produce any screen output from disp*() commands
         Only outStd()/outErr() are supported.
         It's present on all platforms and i always linked.

gtcgi  - very simple GT driver which does not make any output
         formatting and simply send it as to stdout.
         Supported by all platforms.

gtstd  - it uses stdout output but tries to support full screen output but
         without collor support and cursor shape. It format text to number
         of row and columns if is able to detect these values on given
         platform.
         Supported by all platforms.

gtpca  - It's PCANSI terminal GT - it works in similar way to ANSI GT
         driver in Clipper though keyboard input is not fully supported.
         Now GTTRM can make all GTPCA job and much more.
         Supported by all platforms.

gtdos  - GT driver for DOS - it uses BIOS and direct hardware screen output
         so it's very similar to Clipper one - in practice due to the same
         environment you will noticed that all small details of Clipper
         GT drivers are replicated here. You can think about it like 100%
         Clipper compatible.
         Supported only by DOS builds.

gtos2  - GT driver for OS2 - It's sth like GTWIN but for other OS.
         Supported only by OS2 builds.

gtwin  - GT driver for MS-Windows console window.
         Supported only by MS-WINDOWS (W95 or higher) builds.

gtcrs  - GT driver for platforms which supports curses or compatible
         (ncurses) library - in practice POSIX systems.
         Supported by POSIX systems (mostly different *nixes)

gtsln  - GT driver for platforms which supports slang library.
         It's like GTCRS but instead of CURSES it uses SLANG.
         Supported by POSIX systems (mostly different *nixes).
         It supports Unicode input/output if compiled with slang
         version which also supports it.

gttrm  - it's like GTCRS and GTSLN but it does not use any external
         terminal library like SLANG or CURSES and it does not use
         any external database to extract terminal capabilities so
         it can be compiled on any POSIX system - I'll add support
         also for DOS/Windows in the future. It should automatically
         detect UTF-8 terminal mode and switch internally to Unicode
         mode if necessary. In theory is less functional then GTCRS
         and GTSLN because I hard coded escape sequences only for few
         terminals but because I added support also for some non
         standard terminal extensions and I'm using very limited set
         of output sequences then it usually works better then GTCRS
         and GTSLN.
         Supported by POSIX systems (mostly different *nixes)

gtwvt  - GT driver for MS-Windows. It creates its own GUI window
         instead of using MS-console window. It allows to change
         font, window size, etc.
         Supported only by MS-WINDOWS (W95 or higher) builds.

gtxwc  - GT driver for X-Window. It's like GTWVT but for nixes.
         Additionaly it has set of predefined vector characters
         (box and arrowd drawing characters) which can be used
         instead of the one defined in font. It means that you
         will have all boxes and arrows you know from DOS ans CP437
         even if you chose font which does not have them. Additionally
         it support some simple graphic output. See tests/gfx.prg
         for simple program which demonstrates it.
         Supported by POSIX systems (mostly different *nixes)

gtalleg- GT driver which uses alegro library for input/output.
         It's also GUI driver which support HB_GFX*() drawing.
         Multi platform, works on all platforms for which allegro
         library has been ported: MS-Win, DOS, VESA, X11, FB, SDL, ...

gtgui  - pseudo GT driver which adds to GTNUL Clipboard and Tone
         functionality. If you are using some MS-Windows GUI library
         and you still want to use TONE() function or GTI_CLIPBOARD
         actions then link this GT driver with your application.
         If you do not want to use TONE() or GTI_CLIPBOARD then
         do not link it - it will be only waste of memory.

gtctw  - GT driver which adds CT3 Window functionality to any other
         GT driver from which it inherits. It's activated automatically
         when you execute first W*() function.
         In similar way in Harbour it's possible to add support for
         GTWVW inheriting from GTWVT.

Massimo Belgrano
?

From m.renzi at maticasrl.it  Sat Jun  7 02:36:54 2008
From: m.renzi at maticasrl.it (Massimo Renzi (Matica Srl))
Date: Sat Jun  7 02:36:53 2008
Subject: [Harbour] what about new site?
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECD5@SRV02.deltain.net>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com><4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu><9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com><27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu><9257026e0806060942k23f21290p4e9ee16aebae055d@mail.gmail.com><1DC28B01-82CE-4CD8-9EE6-5C3D94DC5340@syenar.hu><9257026e0806061015j3068716s3d9849bf6e1046cb@mail.gmail.com><9257026e0806061030l3581edfdk28b528a737b6292d@mail.gmail.com>	<9257026e0806061107j1b8afc20h7c9008506537d649@mail.gmail.com>
	<AFB948164110ED43B5EB849E8DEEF03815ECD5@SRV02.deltain.net>
Message-ID: <484A2C86.8000705@maticasrl.it>

Hi all,
what about the new site?
thank you very much.

Max

From bedipritpal at hotmail.com  Sat Jun  7 02:37:08 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Jun  7 02:37:12 2008
Subject: [Harbour] 2008-06-06 23:30 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
Message-ID: <17705848.post@talk.nabble.com>


2008-06-06 23:30 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
   * harbour/source/rtl/gtwvt/gtwvt.c   
     ! hb_gt_wvt_Info() 
       + GTI_SCREENSIZE
         Hb_GtInfo( GTI_SCREENSIZE, { nPxlWidth, nPxlHeight } )
         Try to adjust the mode to rows and columns best fitting nPxlWidth,
nPxlHeight.
       + GTI_SETTIMER
         Hb_GtInfo( GTI_SETTIMER, { nTimerId, nMiliSeconds } ) 
       + GTI_KILLTIMER 
         Hb_GtInfo( GTI_KILLTIMER, nTimerId ) 

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-06-23%3A30-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17705848p17705848.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From philb at philb.us  Sat Jun  7 02:58:36 2008
From: philb at philb.us (Phil Barnett)
Date: Sat Jun  7 02:58:40 2008
Subject: [Harbour] RC1 Reminder
Message-ID: <200806070258.37265.philb@philb.us>

Just a reminder that we are working on releasing the 1.0.0 version of Harbour 
Project.

At this time, we are not accepting code for anything except bug fixes. All 
feature enhancements must wait until after we release the 1.0.0 version to 
the world.

We are actively soliciting feedback on bugs at this time. If you know of a 
bug, let us know right here on this list as soon as possible.

I expect to decide on stability and release or mark RC2 next weekend.

-- 
Waiting for sunspots.
From lorenzo.fiorini at gmail.com  Sat Jun  7 03:20:28 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Jun  7 03:20:32 2008
Subject: [Harbour] Can PP do this?
Message-ID: <9257026e0806070020y697662a7lb8552143c4cc11a4@mail.gmail.com>

Can the PP break a TEXT INTO <x> in several concatenations using a given marker?

This is the case:

function detail_info( oCgi )

   local cContent

   TEXT INTO cContent

   <table class="infomnu_tb">
      <tr class="infomnu_tbr">
         <td class="info_btn" onclick="javascript:show_menu(
'$%cAppId%$', '$%cDiv%$', 'DTCLAN', 'false', 'false', '$%cCodSch%$'
);">
......
      </tr>
   </table>

   ENDTEXT

   cContent := strtran( cContent, "$%cAppId%$", _APP_ID_ )
   cContent := strtran( cContent, "$%cDiv%$",  cDiv )
   cContent := strtran( cContent, "$%cCodSch%$", cCodSch )

This is still better to have to manually concatenate tons of strings
that have ' and " inside.

It would be more elegant to avoid strtran and have:

function detail_info( oCgi )

   local cContent

   TEXT INTO cContent MARKERS "$%", "%$"

   <table class="infomnu_tb">
      <tr class="infomnu_tbr">
         <td class="info_btn" onclick="javascript:show_menu(
'$%cAppId%$', '$%cDiv%$', 'DTCLAN', 'false', 'false', '$%cCodSch%$'
);">
......
      </tr>
   </table>

   ENDTEXT

with the result:

cContent := "   <table class="infomnu_tb"> .........
javascript:show_menu( '" + cAppId + "','" + cDiv + "', 'DTCLAN',
'false', 'false', '" + cCodSch + "');"> "
( it is just a sample it has wrong delimiters )

best regards,
Lorenzo
From philb at philb.us  Sat Jun  7 03:22:10 2008
From: philb at philb.us (Phil Barnett)
Date: Sat Jun  7 03:22:14 2008
Subject: [Harbour] Harbour-Users mailing list has been created.
Message-ID: <200806070322.10360.philb@philb.us>

Someone needs to update the web site with this address, and remove the 
Harbour-Talk references.

http://lists.harbour-project.org/mailman/listinfo/harbour-users

Massimo, I believe you are the only one with passwords to edit the web site.

-- 
Waiting for sunspots.
From harbour.01 at syenar.hu  Sat Jun  7 03:32:16 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun  7 03:33:20 2008
Subject: [Harbour] 2008-06-06 20:45 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <17705212.post@talk.nabble.com>
References: <17705212.post@talk.nabble.com>
Message-ID: <E0804AE8-2423-4ECB-96AE-DAC12BC667F9@syenar.hu>

Hi Pritpal,

I think _one_ callback with an event ID param
would be much better as it could be useful for
other GTs too. Now you're implementing Windows
specific callback types explicitly in the _core_,
it's IMO not very good.

hb_gtInfo( HB_GTI_CALLBACK, {| nEvent, ... |  
myGTCallBack( nEvent, ... ) } )

is what we need to set on the app level IMO.

Also, before you commit such things into the
core GT, please let's discuss before.

Brgds,
Viktor

On 2008.06.07., at 6:33, Pritpal Bedi wrote:

>
> 2008-06-06 20:45 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * harbour/source/rtl/hbgtcore.c
>   * harbour/include/hbgtcore.h
>   * harbour/include/hbgtinfo.ch
>   * harbour/source/rtl/gtwvt/gtwvt.c
>   * harbour/source/rtl/gtwvt/gtwvt.h
>     + Added building blocks for CallBacks to be set with  
> Hb_GtInfo( GTI_*
> ).
>   * harbour/tests/wvtext.prg
>     + Test program to taste few of the callbacks.
>
>     /* This also sets the ground for futuristic multi-window GT
>        I have kept MW GT code out of current implementation.
>        This implementation does not interfere nor affects current
> functionality.
>
>        A work in progress.
>
>        Viktor, I have found a way to implement 'consol shearing,  
> working on
> it
>        and for that to happen these building blocks are a must.
>
>        Przemek, please review the structure of <PHB_PGT>. I have  
> added a
> few members.
>        Please bear with my meagre knowledge if I did something  
> stupid, just
> correct it.
>     */
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/2008-06-06-20%3A45-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17705212p17705212.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Jun  7 03:45:02 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun  7 03:44:58 2008
Subject: [Harbour] 2008-06-07 09:39 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c872$Blat.v2.6.2$64f0c7ec$2034d28921d8@127.0.0.1>

2008-06-07 09:39 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtwvt/gtwvt.c
     ! Fixed cursor width to be synced properly after 
       a font change.
     ! Fixed cursor SC_NORMAL height to be calculated 
       from the font height, instead of being a static 
       number. [RC1_TOMERGE]

   * contrib/hbcurl/hbcurl.c
     + Added RTEs when wrong parameter was passed 
       to the remaining functions:
       CURL_EASY_STRERROR()
       CURL_SHARE_STRERROR()
       CURL_MULTI_STRERROR()
       CURL_GETDATE()
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun  7 04:00:57 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun  7 04:02:03 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <00d101c8c7f9$b6636310$232a2930$@com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>
	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>
	<00d101c8c7f9$b6636310$232a2930$@com>
Message-ID: <C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>

Hi Mike,

On 2008.06.06., at 19:21, Mike Evans (Gmail) wrote:

> Hi Viktor,
> I've already done something like that but with a changed version of  
> GTWVW
> and under xHarbour (I hope that someday Przemek will add RMDBFCDX  
> under
> Harbour also). I've changed GTWVW so when a resize its occurs it  
> resize

Well, me too. (but the current xhb one works with Harbour AFAIK)

> every win32 control and font size to respect the new window size.  
> Also it
> resizes all subwindows. Also when I move the main window the  
> subwindows
> moved also. Even if it's a pseudo modal application (To be truth  
> it's the
> same clipper with Ctwindow functions application) but recompiled with
> xHarbour and GTWVW with very few changes (guarded with Ifdef) its  
> possible
> to resize the application from the main window. Also its possible by  
> the end
> user to change Columns-Lines of the application and automatically  
> change the
> the font size. The best font for something like that it's a custom one

Changing screen dimensions is good to have in real time,
but since it needs work done by the application, this is
something to allow only if the application specifically
enables it and handles this case. Since this latter can be
quite complicated (or impossible) to achieve in existing
apps (some may not be able to rebuild screens easily, can
have min/max boundary requirements, etc), I was thinking
to leave this in the first pass (or maybe at all, as it
may need such a rework on app level), and simply let the
user smoothly _magnify_ the screen content using the mouse,
and let them set the font setup.

Unfortunately it's very difficult to comment on these
as I don't know what exactly GTWVW does. And if I'm not
mistaken it cannot compile with the new GT model. So
I can't even judge how much of GTWVW code could be useful
for GTWVT, but my impression is that not very much, since
GTWVW is GUI emulation in the GTWIN spirit, and GTWVT
seems like something fully GUI orientated, just like GTWVG.

These two "worlds" are very different in requirements.

I'm personally only interested in no app UI rewrite and
maximum portability, so I'm sticking with the CUI look.

> inspired from lucida console and there is no need to be installed to  
> the
> system (I'm using win32api addfont resource). I could send to  
> everyone this
> font but I'm not sure if its ok for other languages also.

This would be definitely good.

Brdgs,
Viktor

From harbour.01 at syenar.hu  Sat Jun  7 04:04:45 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun  7 04:04:41 2008
Subject: [Harbour] [RC1] 2008-06-07 09:39 UTC+0100 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8c875$Blat.v2.6.2$2617687a$20042899da16@127.0.0.1>

2008-06-07 09:39 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtwvt/gtwvt.c
     ! Fixed cursor width to be synced properly after 
       a font change.
     ! Fixed cursor SC_NORMAL height to be calculated 
       from the font height, instead of being a static 
       number. [RC1]
     % Few ""s -> NULL (also from RC1, but I forgot this 
       one from the ChangeLog) [RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun  7 04:17:02 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun  7 04:16:58 2008
Subject: [Harbour] [RC1] 2008-06-07 09:40 UTC+0100 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8c876$Blat.v2.6.2$dd5260de$3fc1bd33cea@127.0.0.1>

2008-06-07 09:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbcurl/hbcurl.c
     + Added RTEs when wrong parameter was passed 
       to the remaining functions:
       CURL_EASY_STRERROR()
       CURL_SHARE_STRERROR()
       CURL_MULTI_STRERROR()
       CURL_GETDATE()
       [RC1]

   * contrib/hbcurl/hbcurl.c
     % Minor opt. [RC1]

   ; Not bugfixes per se, but I didn't want to leave a gap 
     in behaviour. This are the final finishes to this lib.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun  7 04:17:23 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun  7 04:17:21 2008
Subject: [Harbour] 2008-06-07 09:40 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c876$Blat.v2.6.2$e9d6b95e$1554c91bf62c@127.0.0.1>

2008-06-07 09:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbcurl/hbcurl.c
     % Minor opt. [RC1]

   * ChangeLog
     + Marked changes merged with RC1.
--
Brgds,
Viktor

From mbelgrano at deltain.it  Sat Jun  7 04:26:23 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun  7 04:26:31 2008
Subject: [Harbour] Harbour-Users mailing list has been created.
In-Reply-To: <200806070322.10360.philb@philb.us>
References: <200806070322.10360.philb@philb.us>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECDB@SRV02.deltain.net>

Where is web site ?
ftp://ftp.harbour-project.org/Httpdocs
ftp://ftp.harbour-project.org/httpdocs2008
ftp://ftp.harbour-project.org/httpsdocs
other?

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Phil Barnett
Sent: Saturday, June 07, 2008 9:22 AM
To: Harbour@harbour-project.org
Subject: [Harbour] Harbour-Users mailing list has been created.

Someone needs to update the web site with this address, and remove the 
Harbour-Talk references.

http://lists.harbour-project.org/mailman/listinfo/harbour-users

Massimo, I believe you are the only one with passwords to edit the web
site.

-- 
Waiting for sunspots.
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Sat Jun  7 04:39:24 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun  7 04:39:33 2008
Subject: [Harbour] Upating website
In-Reply-To: <200806070322.10360.philb@philb.us>
References: <200806070322.10360.philb@philb.us>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECDC@SRV02.deltain.net>

Will same people write "What is Harbour?" For adding in website

I have tried here with my worse English
http://en.wikipedia.org/wiki/Harbour_compiler

I invite  Przemyslaw Czerpak write "Philosophies of implementation and
Future version"

Massimo Belgrano
From makis1970 at gmail.com  Sat Jun  7 04:37:32 2008
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Sat Jun  7 04:41:04 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com>
	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>
Message-ID: <005201c8c879$bc0c7470$34255d50$@com>

Hi Viktor,

>Well, me too. (but the current xhb one works with Harbour AFAIK). 

That's mean that I can use Harbour with RMDBFCDX?

>Changing screen dimensions is good to have in real time,
>but since it needs work done by the application, this is
>something to allow only if the application specifically
>enables it and handles this case. Since this latter can be
>quite complicated (or impossible) to achieve in existing
>apps (some may not be able to rebuild screens easily, can
>have min/max boundary requirements, etc), I was thinking
>to leave this in the first pass (or maybe at all, as it
>may need such a rework on app level), and simply let the
>user smoothly _magnify_ the screen content using the mouse,
>and let them set the font setup.

All the work is done inside GTWVW. I changed nothing in my application. I
was using CT3 window functions and I have just a runtime flag if I want CUI
ot GUI. If use CUI its exactly like my clipper application but its scaling
font size on window resize, otherwise it's a GUI applications but again its
scaling font size.
 
>Unfortunately it's very difficult to comment on these
>as I don't know what exactly GTWVW does. And if I'm not
>mistaken it cannot compile with the new GT model. So
>I can't even judge how much of GTWVW code could be useful
>for GTWVT, but my impression is that not very much, since
>GTWVW is GUI emulation in the GTWIN spirit, and GTWVT
>seems like something fully GUI orientated, just like GTWVG.
GTWVW its almost exactly the same as GTWVT (Allmost all the code is copied
from GTWVT but add window support. I've just add in my applications KERNEL
the possibility to use CT3 window function or wvw_nOpenwindow functions.
I've already had inside my code a w_Box function that calls wopen-wbox. I've
just change that function to respect a CUI or GUI variable and if its GUI
instead of wopen-wbox i use wvw_nOpenwindow. 

Regards
Mike EVans

From druzus at acn.waw.pl  Sat Jun  7 04:42:49 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Jun  7 04:42:54 2008
Subject: [Harbour] Can PP do this?
In-Reply-To: <9257026e0806070020y697662a7lb8552143c4cc11a4@mail.gmail.com>
References: <9257026e0806070020y697662a7lb8552143c4cc11a4@mail.gmail.com>
Message-ID: <20080607084249.GA16077@34-mo7-2.acn.waw.pl>

On Sat, 07 Jun 2008, Lorenzo Fiorini wrote:

Hi Lorenzo,

> Can the PP break a TEXT INTO <x> in several concatenations using a given marker?
> This is the case:
> function detail_info( oCgi )
>    local cContent
>    TEXT INTO cContent
>    <table class="infomnu_tb">
>       <tr class="infomnu_tbr">
>          <td class="info_btn" onclick="javascript:show_menu(
> '$%cAppId%$', '$%cDiv%$', 'DTCLAN', 'false', 'false', '$%cCodSch%$'
> );">
> ......
>       </tr>
>    </table>
> 
>    ENDTEXT
>    cContent := strtran( cContent, "$%cAppId%$", _APP_ID_ )
>    cContent := strtran( cContent, "$%cDiv%$",  cDiv )
>    cContent := strtran( cContent, "$%cCodSch%$", cCodSch )
> This is still better to have to manually concatenate tons of strings
> that have ' and " inside.
> It would be more elegant to avoid strtran and have:
> function detail_info( oCgi )
>    local cContent
>    TEXT INTO cContent MARKERS "$%", "%$"
>    <table class="infomnu_tb">
>       <tr class="infomnu_tbr">
>          <td class="info_btn" onclick="javascript:show_menu(
> '$%cAppId%$', '$%cDiv%$', 'DTCLAN', 'false', 'false', '$%cCodSch%$'
> );">
> ......
>       </tr>
>    </table>
>    ENDTEXT
> with the result:
> cContent := "   <table class="infomnu_tb"> .........
> javascript:show_menu( '" + cAppId + "','" + cDiv + "', 'DTCLAN',
> 'false', 'false', '" + cCodSch + "');"> "
> ( it is just a sample it has wrong delimiters )

I do not understand what you want to reach and why you want to
make it on PP level. In this example the contents of RT variables
isn't known at compile time so it cannot be optimized during
compilation and you will always new to modify the string at runtime.
If you do not like STRTRAN() then you can create new RT function with
different syntax which will be able to substitute more then one element
in single call, f.e.:
   cText := myTran( cText, "$$", cAppId, cDiv, DTCLAN )
where $$ substrings are translated to passed parameters starting from
cAppId or:
   cText := myExtTran( cText, '$%cAppId%$', cAppId, ;
                              '$%cDiv%$', cDiv, ;
                              '$%cCodSch%$', DTCLAN )
But maybe you were thinking about sth absolutely different.
Just simply I is not clear for me what should be the final result.

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Sat Jun  7 04:51:32 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Jun  7 04:51:35 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>
	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>
	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
	<17694977.post@talk.nabble.com>
	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>
	<00d101c8c7f9$b6636310$232a2930$@com>
	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>
Message-ID: <9257026e0806070151n19eb330dl5a17c81f2cae51d9@mail.gmail.com>

On Sat, Jun 7, 2008 at 10:00 AM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> I'm personally only interested in no app UI rewrite and
> maximum portability, so I'm sticking with the CUI look.

Me too.

My apps have to run "exactly" in the same way under *nix, Win and OS X
( even using same number of rows and cols ), so for me
gtwvt=gtxwc=gttrm.

CUI ( sadly not much appreciated today ) has the plus to work everywhere.
Using gttrm/gtxwc I have users that enters orders with IPAQ, eeepc,
notebooks and every possible desktop with many *nix and many Win*s
versions.

And when you need nice UI for BI, video, CRM and so on html, ajax and
web standards are much easier than gdi, gtk and so on.

So I don't see much room today for desktop apps with mixed CUI/GUI or
even with a full GUI.
Understand me I would pay for a lib that would not require a full
rewrite of a CUI app, but if much of the code have to be rewritten
many other things comes in ( dbf -> sql, developers availability,
costs ) so at last it's easier to hire some Java developers and
rewrite everything from scratch ( if you have customers that will pay
it ).

For this I think that MT is necessary asap.
MT is almost useless used directly in business apps but it's necessary
to create RPC apps that responds to an off-process GUI frontend.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Sat Jun  7 05:02:48 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Jun  7 05:02:52 2008
Subject: [Harbour] Can PP do this?
In-Reply-To: <20080607084249.GA16077@34-mo7-2.acn.waw.pl>
References: <9257026e0806070020y697662a7lb8552143c4cc11a4@mail.gmail.com>
	<20080607084249.GA16077@34-mo7-2.acn.waw.pl>
Message-ID: <9257026e0806070202g2b58f053q34c04a3107affb92@mail.gmail.com>

On Sat, Jun 7, 2008 at 10:42 AM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> I do not understand what you want to reach and why you want to
> make it on PP level. In this example the contents of RT variables
> isn't known at compile time so it cannot be optimized during
> compilation and you will always new to modify the string at runtime.
> If you do not like STRTRAN() then you can create new RT function with
> different syntax which will be able to substitute more then one element

Sorry I was sure I wasn't clear enough.
As you know I'm using Harbour to create web/ajax apps.

What I'd like to get is a way to concatenate a string that comes from
a TEXT INTO with a var without having to break the TEX INTO in several
places or using strtran.

Clearly the var is known only at run-time so what I need form PP is to
make for me the job of closing the string constant with the right
delimiter add + cVarName +  and continue with the next part of the
constant.

if not I'd have to:

local cContent

TEXT INTO cContent
<html>
<title>
ENDTEXT

cContent += cTitle

TEXT INTO cContent
</title>
</html>
ENDTEXT

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sat Jun  7 05:02:35 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun  7 05:03:39 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <005201c8c879$bc0c7470$34255d50$@com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com>
	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>
	<005201c8c879$bc0c7470$34255d50$@com>
Message-ID: <EF303E84-DA4B-4734-BDE5-C9482CBC82BF@syenar.hu>

>>
Hi Mike,

>> Well, me too. (but the current xhb one works with Harbour AFAIK).
>
> That's mean that I can use Harbour with RMDBFCDX?

Theoretically yes. It's difficult to tell, since I
don't have xhb (and parts) running here, but the RDD
model is exactly the same in both projects.

>> user smoothly _magnify_ the screen content using the mouse,
>> and let them set the font setup.
>
> All the work is done inside GTWVW. I changed nothing in my  
> application. I
> was using CT3 window functions and I have just a runtime flag if I  
> want CUI
> ot GUI. If use CUI its exactly like my clipper application but its  
> scaling
> font size on window resize, otherwise it's a GUI applications but  
> again its
> scaling font size.

Okay, I begin to understand. Looking at the 500KB large
source file, it's not easy to find out anything :)

If it's what I think, it could be quite useful. I just
wonder what does take so much source code... Probably those
Windows parts. Which BTW I think would be better added
differently so that the whole GT doesn't get tied to
the Windows platform.

>> Unfortunately it's very difficult to comment on these
>> as I don't know what exactly GTWVW does. And if I'm not
>> mistaken it cannot compile with the new GT model. So
>> I can't even judge how much of GTWVW code could be useful
>> for GTWVT, but my impression is that not very much, since
>> GTWVW is GUI emulation in the GTWIN spirit, and GTWVT
>> seems like something fully GUI orientated, just like GTWVG.
> GTWVW its almost exactly the same as GTWVT (Allmost all the code is  
> copied
> from GTWVT but add window support. I've just add in my applications  
> KERNEL
> the possibility to use CT3 window function or wvw_nOpenwindow  
> functions.
> I've already had inside my code a w_Box function that calls wopen- 
> wbox. I've
> just change that function to respect a CUI or GUI variable and if  
> its GUI
> instead of wopen-wbox i use wvw_nOpenwindow.

How do you see it, are there any chances this GT
will be updated to the new GT model? (now also used
in xhb)

Brgds,
Viktor

From druzus at acn.waw.pl  Sat Jun  7 05:23:25 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Jun  7 05:23:29 2008
Subject: [Harbour] Can PP do this?
In-Reply-To: <9257026e0806070202g2b58f053q34c04a3107affb92@mail.gmail.com>
References: <9257026e0806070020y697662a7lb8552143c4cc11a4@mail.gmail.com>
	<20080607084249.GA16077@34-mo7-2.acn.waw.pl>
	<9257026e0806070202g2b58f053q34c04a3107affb92@mail.gmail.com>
Message-ID: <20080607092325.GC16077@34-mo7-2.acn.waw.pl>

On Sat, 07 Jun 2008, Lorenzo Fiorini wrote:
> What I'd like to get is a way to concatenate a string that comes from
> a TEXT INTO with a var without having to break the TEX INTO in several
> places or using strtran.

OK, but why? What's wrong with strtran()? Such string dividing means
that you will have to inform PP where you want to introduce your own
code. In practice it means that it will be necessary to have some
well known markers in the text just like for strtran() so finally
you will not reach too much. The same but written in different way.
Can you try to create expected by you PP command for some small but
real example. It will be easier to talk about it.
If you do not like series of strtran() calls and you want to use only
single function call then we can make new function which can substitute
more then one pattern or we can create some regex function for it, f.e.
hb_regexReplace()

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Sat Jun  7 05:43:40 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Jun  7 05:43:42 2008
Subject: [Harbour] Can PP do this?
In-Reply-To: <20080607092325.GC16077@34-mo7-2.acn.waw.pl>
References: <9257026e0806070020y697662a7lb8552143c4cc11a4@mail.gmail.com>
	<20080607084249.GA16077@34-mo7-2.acn.waw.pl>
	<9257026e0806070202g2b58f053q34c04a3107affb92@mail.gmail.com>
	<20080607092325.GC16077@34-mo7-2.acn.waw.pl>
Message-ID: <9257026e0806070243m218b77d2h6068e2c09e8a302@mail.gmail.com>

On Sat, Jun 7, 2008 at 11:23 AM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> OK, but why? What's wrong with strtran()? Such string dividing means
> that you will have to inform PP where you want to introduce your own
> code. In practice it means that it will be necessary to have some
> well known markers in the text just like for strtran() so finally
> you will not reach too much. The same but written in different way.

I agree, not a big problem but this is a way to try to separate page
design from code.

Web pages are created by web designer that use Macs and Adobe's tools.

The pages are included using "PP textinclude" but the developer has to
be informed and add the strtran at the bottom of the page to replace
all the vars ( since Harbour code is not xhtml complaint web page
tools don't like it ).

As you have already understood var replacement is not a big "problem"
but if/while/for are so the next step would be:

A designer need to show different html based on the value of a var.
Now it has to create two separate htmls and tell to the developer how
to use them.

Instead if the "if" Harbour code could be embedded in the html page as
simple xhtml and processed at PP level, the html page would be ready
to use after the designer has committed it.

best regards,
Lorenzo
From mbelgrano at deltain.it  Sat Jun  7 05:45:26 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun  7 05:45:32 2008
Subject: [Harbour] Harbour-Users mailing list has been created.
In-Reply-To: <200806070322.10360.philb@philb.us>
References: <200806070322.10360.philb@philb.us>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECDF@SRV02.deltain.net>

Imo is not a good mailing for harbour user list because:
-not permit attached
-not aivable as nntp

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Phil Barnett
Sent: Saturday, June 07, 2008 9:22 AM
To: Harbour@harbour-project.org
Subject: [Harbour] Harbour-Users mailing list has been created.

Someone needs to update the web site with this address, and remove the 
Harbour-Talk references.

http://lists.harbour-project.org/mailman/listinfo/harbour-users

Massimo, I believe you are the only one with passwords to edit the web
site.

-- 
Waiting for sunspots.
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Sat Jun  7 05:54:54 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun  7 05:55:58 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <9257026e0806070151n19eb330dl5a17c81f2cae51d9@mail.gmail.com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>
	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>
	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
	<17694977.post@talk.nabble.com>
	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>
	<00d101c8c7f9$b6636310$232a2930$@com>
	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>
	<9257026e0806070151n19eb330dl5a17c81f2cae51d9@mail.gmail.com>
Message-ID: <1BD279E0-BA65-4DE9-BA25-F9FB5A7FA180@syenar.hu>

>>
Hi Lorenzo,

>> I'm personally only interested in no app UI rewrite and
>> maximum portability, so I'm sticking with the CUI look.
>
> Me too.
>
> My apps have to run "exactly" in the same way under *nix, Win and OS X
> ( even using same number of rows and cols ), so for me
> gtwvt=gtxwc=gttrm.
>
> CUI ( sadly not much appreciated today ) has the plus to work  
> everywhere.
> Using gttrm/gtxwc I have users that enters orders with IPAQ, eeepc,
> notebooks and every possible desktop with many *nix and many Win*s
> versions.
>
> And when you need nice UI for BI, video, CRM and so on html, ajax and
> web standards are much easier than gdi, gtk and so on.
>
> So I don't see much room today for desktop apps with mixed CUI/GUI or
> even with a full GUI.
> Understand me I would pay for a lib that would not require a full
> rewrite of a CUI app, but if much of the code have to be rewritten
> many other things comes in ( dbf -> sql, developers availability,
> costs ) so at last it's easier to hire some Java developers and
> rewrite everything from scratch ( if you have customers that will pay
> it ).

My thoughts _exactly_.

> For this I think that MT is necessary asap.
> MT is almost useless used directly in business apps but it's necessary
> to create RPC apps that responds to an off-process GUI frontend.

Yes, MT is very important. This seems like the highest priority.

I'd also find localization and unicode support very important,
since my apps have to work in multiple countries, with different
codepages. It's also needed to exchange data with external
subsystems of all kinds.

As for Unicode (if anyone else is interested) it would be nice
to identify the bigger steps ahead to implement it in Harbour.

The goal here is to be able to compile a regular .prg file
that may also contain UTF8 encoded chars, into a fully unicode
application. At the end, the application should only deal
with codepages where any input/output subsystems are not
Unicode ready and we need to convert to/from non-Unicode to
Unicode using a specified codepage. Other than that the app
should simply work with all unicode chars and present them
properly on screen for example.

We'll probably need to introduce Unicode versions of pcodes,
so that uni/non-uni Harbour .obj can be mixed, and we may need to
duplicate each API calls to accept both kinds of string input.
This looks very ugly and difficult to maintain, so I wonder if
there is any other solution. Another one, which I'd personally
favor, is to upgrade to Unicode in one step and require to
recompile all Harbour objs in order to make them work with
Unicode Harbour. Here one remaining question is how to stay
compatible with C code expecting a legacy (non-Unicode)
Harbour/Clipper API. This one could be solved using a compatibility
layer between non-Uni and native Harbour Unicode API. So that
apps can keep using old ones and may choose to switch to native
Unicode if they wish. Maybe the two methods below can be combined
for best results.

As for the compiler, it needs a switch to get the codepage
non-Unicode sources, and it needs to recognize UTF-8 source too.

We'll need a Set() to specify codepages for Clipper functions,
like MemoRead().

We'll also need to find the appropriate Unicode APIs for
different platforms. Here there will be a problem supporting
Win95/98/ME in clean way. We'll need to identify those
platforms where unicode is not available, and either drop
or handle these gracefully.

Last but not least we'll need to settle on which Unicode
encoding standards to use. For internal usage I'd personally
stick with UTF16, like most OSes and languages do internally
(not Linux though, unfortunately so this won't be an easy
decision), it's also easy to work with, but I'm fully
convincible on UTF8 either :) For source code representation
I'd stick with UTF8. [ Some speed penalty is to be expected
when the Harbour internal and platform unicode encoding is
different. ]

All the above is just speculation, food for thought...

Brgds,
Viktor

From druzus at acn.waw.pl  Sat Jun  7 06:03:53 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Jun  7 06:03:59 2008
Subject: [Harbour] Can PP do this?
In-Reply-To: <9257026e0806070243m218b77d2h6068e2c09e8a302@mail.gmail.com>
References: <9257026e0806070020y697662a7lb8552143c4cc11a4@mail.gmail.com>
	<20080607084249.GA16077@34-mo7-2.acn.waw.pl>
	<9257026e0806070202g2b58f053q34c04a3107affb92@mail.gmail.com>
	<20080607092325.GC16077@34-mo7-2.acn.waw.pl>
	<9257026e0806070243m218b77d2h6068e2c09e8a302@mail.gmail.com>
Message-ID: <20080607100353.GA16549@34-mo7-2.acn.waw.pl>

On Sat, 07 Jun 2008, Lorenzo Fiorini wrote:
> Instead if the "if" Harbour code could be embedded in the html page as
> simple xhtml and processed at PP level, the html page would be ready
> to use after the designer has committed it.

I'm still missing what you exactly want to do in final code.
Now it looks that you want to preprocess text token, isn't it?
You are using in your code:
   #pragma __streaminclude "foo1.html" | cHtml := %s
and you want to preprocess foo1.html before you asign it to cHtml.
Am I wrong?
If I guessed well then you need sth like:
   #pragma __ppinclude "foo1.html" | cHtml := %s

But there is another question if our PP will be smart enough to
preprocess "foo1.html" in the way you want. Probably if you agree
with foo1.html author some naming convention it will be possible.

best regards,
Przemek
From harbour.01 at syenar.hu  Sat Jun  7 06:03:52 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun  7 06:04:58 2008
Subject: [Harbour] Can PP do this?
In-Reply-To: <9257026e0806070243m218b77d2h6068e2c09e8a302@mail.gmail.com>
References: <9257026e0806070020y697662a7lb8552143c4cc11a4@mail.gmail.com>
	<20080607084249.GA16077@34-mo7-2.acn.waw.pl>
	<9257026e0806070202g2b58f053q34c04a3107affb92@mail.gmail.com>
	<20080607092325.GC16077@34-mo7-2.acn.waw.pl>
	<9257026e0806070243m218b77d2h6068e2c09e8a302@mail.gmail.com>
Message-ID: <D92A631E-E017-4B7F-B5AD-D6E2781185A7@syenar.hu>

Hi Lorenzo,

For this task there are special purpose libs
(templating engines) available:
- XSLT (libxslt)
- ClearSilver (written in C)

I don't think we should transform Harbour PP into such.

Instead, adding a Harbour interface for any of the above
existing libs would be the a good solution.

Brgds,
Viktor

On 2008.06.07., at 11:43, Lorenzo Fiorini wrote:

> On Sat, Jun 7, 2008 at 11:23 AM, Przemyslaw Czerpak  
> <druzus@acn.waw.pl> wrote:
>
>> OK, but why? What's wrong with strtran()? Such string dividing means
>> that you will have to inform PP where you want to introduce your own
>> code. In practice it means that it will be necessary to have some
>> well known markers in the text just like for strtran() so finally
>> you will not reach too much. The same but written in different way.
>
> I agree, not a big problem but this is a way to try to separate page
> design from code.
>
> Web pages are created by web designer that use Macs and Adobe's tools.
>
> The pages are included using "PP textinclude" but the developer has to
> be informed and add the strtran at the bottom of the page to replace
> all the vars ( since Harbour code is not xhtml complaint web page
> tools don't like it ).
>
> As you have already understood var replacement is not a big "problem"
> but if/while/for are so the next step would be:
>
> A designer need to show different html based on the value of a var.
> Now it has to create two separate htmls and tell to the developer how
> to use them.
>
> Instead if the "if" Harbour code could be embedded in the html page as
> simple xhtml and processed at PP level, the html page would be ready
> to use after the designer has committed it.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From e.m.giordano at emagsoftware.it  Sat Jun  7 06:45:44 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Jun  7 06:45:49 2008
Subject: [Harbour] Warning
Message-ID: <FE86F9392DBE4EE28FBDBEEA30FEA91B@emag>

Warning W8004 source\rtl\hbgtcore.c 1672: 'bSet' is assigned a value that is 
never used in function hb_gt_def_Info

Warning W8004 source\rtl\gtwvt\gtwvt.c 2120: 'rc1' is assigned a value that 
is never used in function hb_gt_wvt_Info

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From makis1970 at gmail.com  Sat Jun  7 06:54:31 2008
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Sat Jun  7 06:58:10 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <EF303E84-DA4B-4734-BDE5-C9482CBC82BF@syenar.hu>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com>	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>	<005201c8c879$bc0c7470$34255d50$@com>
	<EF303E84-DA4B-4734-BDE5-C9482CBC82BF@syenar.hu>
Message-ID: <006b01c8c88c$df0da850$9d28f8f0$@com>

Hi Viktor,


>Theoretically yes. It's difficult to tell, since I
>don't have xhb (and parts) running here, but the RDD
>model is exactly the same in both projects.

I'll try to use it and I'll tell my findings (But as I know they change some
low level API of RDD in xHarbour). But I don't know if I violate my contract
with "xHarbour.com". Maybe Przemek knows better.

>Okay, I begin to understand. Looking at the 500KB large
>source file, it's not easy to find out anything :)

>If it's what I think, it could be quite useful. I just
>wonder what does take so much source code... Probably those
>Windows parts. Which BTW I think would be better added
>differently so that the whole GT doesn't get tied to
>the Windows platform.
A lot of source code inside GTWVW does nothing. As an example look at this 

#ifndef _WIN32_IE
    #define _WIN32_IE 0x0400
#endif

And later #if _WIN32_IE > 0x400  


>How do you see it, are there any chances this GT
>will be updated to the new GT model? (now also used
>in xhb)

To be truth I don't know. I'm a clipper and .Net programmer and I've made
only small changes to GTWVW. I had a contract with a C programmer for the
scale font changes. But I'm ready to pay for such a conversion. What I
believe as the best way is a low level api (something like the new GT API
but with new additions). Later must be another level with common
windows-linux (GUI-CUI) support. And a third level specific to each GT. Of
course I'm not the one that can design something like that.

This are some screenshots but they are big from 1 to 3.5 MB.

http://prosvasis.vivodinet.gr/download/temp/dos.bmp
http://prosvasis.vivodinet.gr/download/temp/resized.bmp
http://prosvasis.vivodinet.gr/download/temp/u1.bmp
http://prosvasis.vivodinet.gr/download/temp/u2.bmp


Brgds,
Mike


From mbelgrano at deltain.it  Sat Jun  7 07:04:13 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun  7 07:04:19 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <005201c8c879$bc0c7470$34255d50$@com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com><C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>
	<005201c8c879$bc0c7470$34255d50$@com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECE1@SRV02.deltain.net>

Hi Mike,
Can you post a little demo/screenshoot about your adaption 
will be interesting for me and for most user
what have for your application gtwvw that gtwvt/gtwvg+ct3 not have?

-----Original Message-----

>All the work is done inside GTWVW. I changed nothing in my application.
I
>was using CT3 window functions and I have just a runtime flag if I want
CUI
>ot GUI. If use CUI its exactly like my clipper application but its
scaling
>font size on window resize, otherwise it's a GUI applications but again
its
>scaling font size.
 

From makis1970 at gmail.com  Sat Jun  7 07:12:37 2008
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Sat Jun  7 07:16:14 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <9257026e0806070151n19eb330dl5a17c81f2cae51d9@mail.gmail.com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com>	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>
	<9257026e0806070151n19eb330dl5a17c81f2cae51d9@mail.gmail.com>
Message-ID: <006d01c8c88f$66752190$335f64b0$@com>

Hi Lorenzo,
With the approach I used I don't need to change anything in my code to
change another of my applications from DOS CUI to windows GUI
I've only changed my lib (that is shared between all of my dos applications)
when I use wopen to use wvw_nopenwindow the same for wclose
Function My_wclose()
   If lGui
       wvw_lclosewindow()
       Return( wvw_nSetCurwindow() )
   Else
       Return Wclose()
   Endif

Return NIL

Brgds,
Mike


From makis1970 at gmail.com  Sat Jun  7 07:14:53 2008
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Sat Jun  7 07:18:31 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECE1@SRV02.deltain.net>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com><C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>	<005201c8c879$bc0c7470$34255d50$@com>
	<AFB948164110ED43B5EB849E8DEEF03815ECE1@SRV02.deltain.net>
Message-ID: <006e01c8c88f$b712f2d0$2538d870$@com>

Massimo,
I've already post some screenshots in a previous message. Have in mind that
even if I have other windows open the applicatiosn is scalable-resizeble
from the main window. Also the same is true for toolbar-statusbar.

Brgds,
Mike Evans

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo Belgrano
Sent: Saturday, June 07, 2008 2:04 PM
To: Harbour Project Main Developer List.
Subject: RE: [Harbour] gtwvt font best setup

Hi Mike,
Can you post a little demo/screenshoot about your adaption 
will be interesting for me and for most user
what have for your application gtwvw that gtwvt/gtwvg+ct3 not have?

-----Original Message-----

>All the work is done inside GTWVW. I changed nothing in my application.
I
>was using CT3 window functions and I have just a runtime flag if I want
CUI
>ot GUI. If use CUI its exactly like my clipper application but its
scaling
>font size on window resize, otherwise it's a GUI applications but again
its
>scaling font size.
 

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Jun  7 07:29:36 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun  7 07:29:32 2008
Subject: [Harbour] 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c891$Blat.v2.6.2$c42517bc$19c08d8bc010@127.0.0.1>

2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbmisc/common.mak
   * contrib/hbmisc/Makefile
   - contrib/hbmisc/mathx.c
   + contrib/hbmisc/spd.c
     - Removed math functions equivalent with CT3 ones.
       INCOMPATIBLE: If your code used CEIL() from hbmisc, please 
                     update it to use CEILING() from hbct. Functionality 
                     is the same.
     + Added _SPD() function.
       Contributed by Javier (jarabal at gmail.com)
--
Brgds,
Viktor

From mbelgrano at deltain.it  Sat Jun  7 07:31:12 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun  7 07:31:18 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <006e01c8c88f$b712f2d0$2538d870$@com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com><C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>	<005201c8c879$bc0c7470$34255d50$@com><AFB948164110ED43B5EB849E8DEEF03815ECE1@SRV02.deltain.net>
	<006e01c8c88f$b712f2d0$2538d870$@com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECE2@SRV02.deltain.net>

Very interesting!
I suggest post screenshot as jpg 65%
What kink of work have don't c programmers about scaling font changes. 
What do you think as low level api (GT API with new additions) + common
windows-linux (GUI-CUI) support. 
Why is need third level specific to each GT?
Can you made little/big  demo (menu,toolbar,resize) based on your
application for harbour new user?


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Mike Evans
(Gmail)
Sent: Saturday, June 07, 2008 1:15 PM
To: 'Harbour Project Main Developer List.'
Subject: RE: [Harbour] gtwvt font best setup

Massimo,
I've already post some screenshots in a previous message. Have in mind
that
even if I have other windows open the applicatiosn is scalable-resizeble
from the main window. Also the same is true for toolbar-statusbar.

Brgds,
Mike Evans

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo
Belgrano
Sent: Saturday, June 07, 2008 2:04 PM
To: Harbour Project Main Developer List.
Subject: RE: [Harbour] gtwvt font best setup

Hi Mike,
Can you post a little demo/screenshoot about your adaption 
will be interesting for me and for most user
what have for your application gtwvw that gtwvt/gtwvg+ct3 not have?

-----Original Message-----

>All the work is done inside GTWVW. I changed nothing in my application.
I
>was using CT3 window functions and I have just a runtime flag if I want
CUI
>ot GUI. If use CUI its exactly like my clipper application but its
scaling
>font size on window resize, otherwise it's a GUI applications but again
its
>scaling font size.
 

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From makis1970 at gmail.com  Sat Jun  7 07:37:34 2008
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Sat Jun  7 07:41:13 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECE2@SRV02.deltain.net>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com><C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>	<005201c8c879$bc0c7470$34255d50$@com><AFB948164110ED43B5EB849E8DEEF03815ECE1@SRV02.deltain.net>	<006e01c8c88f$b712f2d0$2538d870$@com>
	<AFB948164110ED43B5EB849E8DEEF03815ECE2@SRV02.deltain.net>
Message-ID: <007601c8c892$e243be50$a6cb3af0$@com>

Massimo,
Nothing big. They just loop inside each control on a window and they change
the font according to the new window dimensions. After that they are doing
an invalidate rect. Until now they are doing the same for every control. The
resize doesn't work for toolbar and statusbar (there is no need). As for the
third level I think that it will be necessary to use specific additions that
it's not possible to have under another OS. In my application I have also
themes so its possible for each end user to change the look of the
application.

Brgds,
Mike Evans

 
-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo Belgrano
Sent: Saturday, June 07, 2008 2:31 PM
To: Harbour Project Main Developer List.
Subject: RE: [Harbour] gtwvt font best setup

Very interesting!
I suggest post screenshot as jpg 65%
What kink of work have don't c programmers about scaling font changes. 
What do you think as low level api (GT API with new additions) + common
windows-linux (GUI-CUI) support. 
Why is need third level specific to each GT?
Can you made little/big  demo (menu,toolbar,resize) based on your
application for harbour new user?


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Mike Evans
(Gmail)
Sent: Saturday, June 07, 2008 1:15 PM
To: 'Harbour Project Main Developer List.'
Subject: RE: [Harbour] gtwvt font best setup

Massimo,
I've already post some screenshots in a previous message. Have in mind
that
even if I have other windows open the applicatiosn is scalable-resizeble
from the main window. Also the same is true for toolbar-statusbar.

Brgds,
Mike Evans

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo
Belgrano
Sent: Saturday, June 07, 2008 2:04 PM
To: Harbour Project Main Developer List.
Subject: RE: [Harbour] gtwvt font best setup

Hi Mike,
Can you post a little demo/screenshoot about your adaption 
will be interesting for me and for most user
what have for your application gtwvw that gtwvt/gtwvg+ct3 not have?

-----Original Message-----

>All the work is done inside GTWVW. I changed nothing in my application.
I
>was using CT3 window functions and I have just a runtime flag if I want
CUI
>ot GUI. If use CUI its exactly like my clipper application but its
scaling
>font size on window resize, otherwise it's a GUI applications but again
its
>scaling font size.
 

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Sat Jun  7 08:02:51 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun  7 08:02:56 2008
Subject: R: [Harbour] gtwvt font best setup
In-Reply-To: <007601c8c892$e243be50$a6cb3af0$@com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com><C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>	<005201c8c879$bc0c7470$34255d50$@com><AFB948164110ED43B5EB849E8DEEF03815ECE1@SRV02.deltain.net>	<006e01c8c88f$b712f2d0$2538d870$@com><AFB948164110ED43B5EB849E8DEEF03815ECE2@SRV02.deltain.net>
	<007601c8c892$e243be50$a6cb3af0$@com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECE3@SRV02.deltain.net>

IMO your experience will be a big improvement for all harbour community
Can you post part of code or better a standalone demo application?
It can be a good demo for all xharbour user for understand the power of
GT architecture
Please give me any additional information about your application
I You can post a demo with CUI/GUI with Menu, toolbar, statusbar,
resize, change theme
, Multiplatform without changing your code it will be a good example?
Do you plane also run as web2.0(2^10 in your case) application?

-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] Per conto di Mike Evans
(Gmail)
Inviato: sabato 7 giugno 2008 13.38
A: 'Harbour Project Main Developer List.'
Oggetto: RE: [Harbour] gtwvt font best setup

Massimo,
Nothing big. They just loop inside each control on a window and they
change
the font according to the new window dimensions. After that they are
doing
an invalidate rect. Until now they are doing the same for every control.
The
resize doesn't work for toolbar and statusbar (there is no need). As for
the
third level I think that it will be necessary to use specific additions
that
it's not possible to have under another OS. In my application I have
also
themes so its possible for each end user to change the look of the
application.

Brgds,
Mike Evans

 
-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo
Belgrano
Sent: Saturday, June 07, 2008 2:31 PM
To: Harbour Project Main Developer List.
Subject: RE: [Harbour] gtwvt font best setup

Very interesting!
I suggest post screenshot as jpg 65%
What kink of work have don't c programmers about scaling font changes. 
What do you think as low level api (GT API with new additions) + common
windows-linux (GUI-CUI) support. 
Why is need third level specific to each GT?
Can you made little/big  demo (menu,toolbar,resize) based on your
application for harbour new user?


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Mike Evans
(Gmail)
Sent: Saturday, June 07, 2008 1:15 PM
To: 'Harbour Project Main Developer List.'
Subject: RE: [Harbour] gtwvt font best setup

Massimo,
I've already post some screenshots in a previous message. Have in mind
that
even if I have other windows open the applicatiosn is scalable-resizeble
from the main window. Also the same is true for toolbar-statusbar.

Brgds,
Mike Evans

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo
Belgrano
Sent: Saturday, June 07, 2008 2:04 PM
To: Harbour Project Main Developer List.
Subject: RE: [Harbour] gtwvt font best setup

Hi Mike,
Can you post a little demo/screenshoot about your adaption 
will be interesting for me and for most user
what have for your application gtwvw that gtwvt/gtwvg+ct3 not have?

-----Original Message-----

>All the work is done inside GTWVW. I changed nothing in my application.
I
>was using CT3 window functions and I have just a runtime flag if I want
CUI
>ot GUI. If use CUI its exactly like my clipper application but its
scaling
>font size on window resize, otherwise it's a GUI applications but again
its
>scaling font size.
 

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From lorenzo.fiorini at gmail.com  Sat Jun  7 08:22:38 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Jun  7 08:22:43 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <006b01c8c88c$df0da850$9d28f8f0$@com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>
	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
	<17694977.post@talk.nabble.com>
	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>
	<00d101c8c7f9$b6636310$232a2930$@com>
	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>
	<005201c8c879$bc0c7470$34255d50$@com>
	<EF303E84-DA4B-4734-BDE5-C9482CBC82BF@syenar.hu>
	<006b01c8c88c$df0da850$9d28f8f0$@com>
Message-ID: <9257026e0806070522g39fb5566rfbe4b339915b77a2@mail.gmail.com>

On Sat, Jun 7, 2008 at 12:54 PM, Mike Evans (Gmail) <makis1970@gmail.com> wrote:

> This are some screenshots but they are big from 1 to 3.5 MB.
>
> http://prosvasis.vivodinet.gr/download/temp/dos.bmp
> http://prosvasis.vivodinet.gr/download/temp/resized.bmp
> http://prosvasis.vivodinet.gr/download/temp/u1.bmp
> http://prosvasis.vivodinet.gr/download/temp/u2.bmp

Good work. I'm really impressed.

Am I correct if I say that resized.bmp is the same app of dos.bmp?

How much menu, get and tbrowse code is different?

best regards,
Lorenzo

p.s. I'll be in Greece next week for vacation :)
From lorenzo.fiorini at gmail.com  Sat Jun  7 08:25:57 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Jun  7 08:26:01 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <9257026e0806070522g39fb5566rfbe4b339915b77a2@mail.gmail.com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
	<17694977.post@talk.nabble.com>
	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>
	<00d101c8c7f9$b6636310$232a2930$@com>
	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>
	<005201c8c879$bc0c7470$34255d50$@com>
	<EF303E84-DA4B-4734-BDE5-C9482CBC82BF@syenar.hu>
	<006b01c8c88c$df0da850$9d28f8f0$@com>
	<9257026e0806070522g39fb5566rfbe4b339915b77a2@mail.gmail.com>
Message-ID: <9257026e0806070525y730c2adfv4f6266eef200d933@mail.gmail.com>

On Sat, Jun 7, 2008 at 2:22 PM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com> wrote:

> How much menu, get and tbrowse code is different?

Oops sorry you've already answered.

Sorry I missed some messages.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Sat Jun  7 08:57:57 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Jun  7 08:58:03 2008
Subject: [Harbour] Can PP do this?
In-Reply-To: <20080607100353.GA16549@34-mo7-2.acn.waw.pl>
References: <9257026e0806070020y697662a7lb8552143c4cc11a4@mail.gmail.com>
	<20080607084249.GA16077@34-mo7-2.acn.waw.pl>
	<9257026e0806070202g2b58f053q34c04a3107affb92@mail.gmail.com>
	<20080607092325.GC16077@34-mo7-2.acn.waw.pl>
	<9257026e0806070243m218b77d2h6068e2c09e8a302@mail.gmail.com>
	<20080607100353.GA16549@34-mo7-2.acn.waw.pl>
Message-ID: <9257026e0806070557x16ef0318gbb6323f158d6d6d@mail.gmail.com>

On Sat, Jun 7, 2008 at 12:03 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> I'm still missing what you exactly want to do in final code.
> Now it looks that you want to preprocess text token, isn't it?

Yes.

> You are using in your code:
>   #pragma __streaminclude "foo1.html" | cHtml := %s
> and you want to preprocess foo1.html before you asign it to cHtml.

Yes.

> But there is another question if our PP will be smart enough to
> preprocess "foo1.html" in the way you want. Probably if you agree
> with foo1.html author some naming convention it will be possible.

Sorry, probably I'm wrong but:
if PP already transform __streaminclude xyz into a cContent :=
e"...whatever" and it is smart enough to process escapes and to
correctly terminates strings even if they include " and ' can't it:
when found a given marker like "$%" terminates the string, add an +
add exactly what's between the first marker and the second marker,
then add another + and continue with the stream process?

Sth like:

 #pragma __streaminclude "foo1.html" markers "$%", "%$" | cHtml := %s

foo1.html is:
<html>
<title>$%cTitle%$</title>
</html>

will become:

cHtml := e"<html><title>" + cTitle + "</title><html>"

The main problem of strtran approach is that mispelled names are found
by the user that sees $%cTitle%$ because the designer or the
programmer has written cTilte.
Using PP the problem will be found by the compiler since cTitle is a local.
And in a complex app there are many strtran.

My aim is to make Harbour more usable for web developers.
PHP didn't exist when Clipper was mainstream and now is supported by
many big of the software. I think that with an Apache module to run
HRBs and few other things ( like a standard SQL interface ) Harbour
could be a viable alternative for web developers.

best regards,
Lorenzo
From philb at philb.us  Sat Jun  7 09:25:17 2008
From: philb at philb.us (Phil Barnett)
Date: Sat Jun  7 09:25:20 2008
Subject: [Harbour] Harbour-Users mailing list has been created.
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECDB@SRV02.deltain.net>
References: <200806070322.10360.philb@philb.us>
	<AFB948164110ED43B5EB849E8DEEF03815ECDB@SRV02.deltain.net>
Message-ID: <200806070925.17271.philb@philb.us>

On Saturday 07 June 2008 04:26:23 am Massimo Belgrano wrote:
> Where is web site ?
> ftp://ftp.harbour-project.org/Httpdocs

This one is the current site.

> ftp://ftp.harbour-project.org/httpdocs2008

This is a copy of the above httpdocs site so if something goes wrong, we can 
find the old implementation.

> ftp://ftp.harbour-project.org/httpsdocs

We don't use https, so this directory is not used.

-- 
Waiting for sunspots.
From philb at philb.us  Sat Jun  7 09:27:40 2008
From: philb at philb.us (Phil Barnett)
Date: Sat Jun  7 09:27:42 2008
Subject: [Harbour] Harbour-Users mailing list has been created.
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECDF@SRV02.deltain.net>
References: <200806070322.10360.philb@philb.us>
	<AFB948164110ED43B5EB849E8DEEF03815ECDF@SRV02.deltain.net>
Message-ID: <200806070927.40099.philb@philb.us>

On Saturday 07 June 2008 05:45:26 am Massimo Belgrano wrote:
> Imo is not a good mailing for harbour user list because:
> -not permit attached

Not true. There is a limit of 40k

> -not aivable as nntp

newsgroups distribute messages. Email distribute messages. There is very 
little difference. Except one place. With newsgroups, there is no control and 
lots of spam. With mailing lists, we can enforce membership and reduce spam.

-- 
Waiting for sunspots.
From bedipritpal at hotmail.com  Sat Jun  7 09:30:00 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Jun  7 09:30:03 2008
Subject: [Harbour] 2008-06-06 20:45 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <E0804AE8-2423-4ECB-96AE-DAC12BC667F9@syenar.hu>
References: <17705212.post@talk.nabble.com>
	<E0804AE8-2423-4ECB-96AE-DAC12BC667F9@syenar.hu>
Message-ID: <17708910.post@talk.nabble.com>


Hello Viktor


Szak?ts Viktor wrote:
> 
> I think _one_ callback with an event ID param
> would be much better as it could be useful for
> other GTs too. Now you're implementing Windows
> specific callback types explicitly in the _core_,
> it's IMO not very good.
> 
> hb_gtInfo( HB_GTI_CALLBACK, {| nEvent, ... |  
> myGTCallBack( nEvent, ... ) } )
> 
> is what we need to set on the app level IMO.
> 

On appln level you can have only one function, just define the event with
it. 

On API level you need to differentiate the event for 
   1) to store the needed info into structure member,
   2) to fire the event at appropriate part of the local GT.
   3) to receive appln defined data ( may be different for each event ) to
the callback.

How you can achieve it with 
hb_gtInfo( HB_GTI_CALLBACK, {| nEvent, ... |  myGTCallBack( nEvent, ... ) }
)
as you does not know to which part of appln execution this event belongs to.

On appln level define one function to receieve all the events. I passback
<nEvent> as first parameter (see wvtext.prg). 2nd parameter passed back is
iHandle which for now is always 0 but can be index in the pWVT or pGT slot
in future. 3rd parameter is user data. 4th parameter is a numeric <wParam in
Windows context> but it can be different content in other GT's.

Please note that I showed a prototype and not the final implementation.

If it tends to be Windows only oriented approach, I am sorry, but as I know
about Windows only so it is a natural way of expression.


>Also, before you commit such things into the
>core GT, please let's discuss before.

Because it does not interfere with existing functionality, we can take it
away anytime, but let us explore a bit further...
Why I committed it to core is because only then we can have a way to
evaluate it in real code and can build the synthesis to include/discard...

Last but not the least, I always know about my limitations in coding, just
show me a better way of above implimentation.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/2008-06-06-20%3A45-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17705212p17708910.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From sami-site1 at laham.com.br  Sat Jun  7 09:30:42 2008
From: sami-site1 at laham.com.br (Sami Laham)
Date: Sat Jun  7 09:31:47 2008
Subject: [Harbour] HARBOUR + WIN CE
Message-ID: <002301c8c8a2$af51f420$6f00a8c0@sami>

Hello Folks, i would like to know where i find more information to use
harbour + wince to use in pocket-pc

Tks

Sami

From bedipritpal at hotmail.com  Sat Jun  7 10:22:05 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Jun  7 10:22:09 2008
Subject: [Harbour] HARBOUR + WIN CE
In-Reply-To: <002301c8c8a2$af51f420$6f00a8c0@sami>
References: <002301c8c8a2$af51f420$6f00a8c0@sami>
Message-ID: <17709375.post@talk.nabble.com>


Hello


Sami Laham wrote:
> 
> Hello Folks, i would like to know where i find more information to use
> harbour + wince to use in pocket-pc
> 

Dig into this NG approximately near October 2007 posts. Przemek has
described the steps to howto.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HARBOUR-%2B-WIN-CE-tp17708929p17709375.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Sat Jun  7 14:39:42 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun  7 14:39:47 2008
Subject: [Harbour] Can PP do this?
In-Reply-To: <9257026e0806070557x16ef0318gbb6323f158d6d6d@mail.gmail.com>
References: <9257026e0806070020y697662a7lb8552143c4cc11a4@mail.gmail.com><20080607084249.GA16077@34-mo7-2.acn.waw.pl><9257026e0806070202g2b58f053q34c04a3107affb92@mail.gmail.com><20080607092325.GC16077@34-mo7-2.acn.waw.pl><9257026e0806070243m218b77d2h6068e2c09e8a302@mail.gmail.com><20080607100353.GA16549@34-mo7-2.acn.waw.pl>
	<9257026e0806070557x16ef0318gbb6323f158d6d6d@mail.gmail.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECE4@SRV02.deltain.net>

I agree
Harbour must evolve in language for made web application
And will have a big number of program ready to run

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo
Fiorini
Sent: Saturday, June 07, 2008 2:58 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Can PP do this?


My aim is to make Harbour more usable for web developers.
PHP didn't exist when Clipper was mainstream and now is supported by
many big of the software. I think that with an Apache module to run
HRBs and few other things ( like a standard SQL interface ) Harbour
could be a viable alternative for web developers.

best regards,
Lorenzo
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Sat Jun  7 14:43:37 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun  7 14:43:35 2008
Subject: [Harbour] 2008-06-07 20:41 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c8ce$Blat.v2.6.2$65d8a858$1940574d8248@127.0.0.1>

2008-06-07 20:41 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbodbc/make_vc.bat
     ! Removed .dll -> .lib conversion for MSVC, 
       since the .lib is provided by the MS SDK anyway.
     ; [TOMERGE RC1]

   * contrib/hbcurl/hbcurl.c
   * contrib/hbcurl/hbcurl.ch
   * contrib/hbcurl/tests/ftp_uldl.prg
     ! Cleanup the rare case when curl_easy_init() returns NULL.
       Functions always return the same type, even in case libcurl 
       failed to initialize.
     + Returns value for above cases is now HB_CURLE_ERROR (== -1).
     ! CURL_*() passed pointers now are also checked for the pointer's 
       type, and RTE is thrown if they are not HBCURL ones. So for 
       example in the very rare case that any hbcurl functions would 
       get passed a GC pointer returned by another API, an argument 
       error would be thrown now.
     ! CURL_ESCAPE()/CURL_UNESCAPE() fixed picked parameter ordinal.
     + CURL_ESCAPE()/CURL_UNESCAPE() added parameter checking.
     ; [TOMERGE RC1]

   * contrib/rddads/adsmgmnt.c
     * Minor formatting.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun  7 14:47:43 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun  7 14:48:46 2008
Subject: [Harbour] Can PP do this?
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECE4@SRV02.deltain.net>
References: <9257026e0806070020y697662a7lb8552143c4cc11a4@mail.gmail.com><20080607084249.GA16077@34-mo7-2.acn.waw.pl><9257026e0806070202g2b58f053q34c04a3107affb92@mail.gmail.com><20080607092325.GC16077@34-mo7-2.acn.waw.pl><9257026e0806070243m218b77d2h6068e2c09e8a302@mail.gmail.com><20080607100353.GA16549@34-mo7-2.acn.waw.pl>
	<9257026e0806070557x16ef0318gbb6323f158d6d6d@mail.gmail.com>
	<AFB948164110ED43B5EB849E8DEEF03815ECE4@SRV02.deltain.net>
Message-ID: <AAB661C2-1F62-4762-89EB-8E09142A44DB@syenar.hu>

Yes, but it would be more beneficial for both Harbour
users (knowledge and files could be ported between the
non-Harbour world and Harbour) and the Harbour developers
to use already matured industry standards rather than
reinventing the wheel and use something not suited for
the job in the first place.

Brgds,
Viktor

On 2008.06.07., at 20:39, Massimo Belgrano wrote:

> I agree
> Harbour must evolve in language for made web application
> And will have a big number of program ready to run
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo
> Fiorini
> Sent: Saturday, June 07, 2008 2:58 PM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] Can PP do this?
>
>
> My aim is to make Harbour more usable for web developers.
> PHP didn't exist when Clipper was mainstream and now is supported by
> many big of the software. I think that with an Apache module to run
> HRBs and few other things ( like a standard SQL interface ) Harbour
> could be a viable alternative for web developers.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Sat Jun  7 14:52:27 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun  7 14:52:30 2008
Subject: [Harbour] HARBOUR + WIN CE
In-Reply-To: <002301c8c8a2$af51f420$6f00a8c0@sami>
References: <002301c8c8a2$af51f420$6f00a8c0@sami>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECE5@SRV02.deltain.net>

>From an old post of Przemyslaw Czerpak
How compile harbour for PocketPC

You will have to change C compiler and use one which supports ARM
processors and linker which can create WinCE binaries. You can try MSVC,
POCC or POGCC, CeGCC and probably others I haven't tested.
My tests with new POCC version shows that this compiler has some
problems/bugs when generate ARM binaries so probably it's not good
choice today. POGCC was not developed for long time. So you should chose
between MSVC and CeGCC. I've chosen CeGCC with MinGW RTL (MinGW-CE). See
http://cegcc.sourceforge.net/ It can be installed on x86 Windows and
Linux and then you can create PocketPC(ARM)-WinCE binaries. Such
binaries cannot be executed on x86 computers natively but you can
install PocketPC emulator (Virtual Machine) and test them and of course
you can copy them to your mobile device controlled by WinCE and execute.
If you decide to use MinGW-CE then I suggest to use *nix like shell
environment, f.e. MSYS in Windows. In such case you will be able to use
hb* scripts updated for this compiler. If you are using RPM based Linux
distribution then creating WinCE binaries is very easy. Run
./make_rpm.sh from non root account and in few minutes in
${HOME}/RPM/RPMS/<arch>/ you will have ready to install RPMs with native
harbour build. Then run ./make_rpmce.sh and it will create RPM with
Harbour binaries for PocketPC in the same directory.
Install new RPMs using root account and now you can easy create PocketPC
binaries. For .prg compilation use hbcecmp and for linking hbcelnk. See
/usr/share/doc/harbour-ce-1.1.1/README.RPM for detail description of
hbce* scripts. They are working in exactly the same way as normal hb*
scripts which are used for standard native builds.
If you want to compile and link .prg file in one command then use
hbcemk. F.e.:
    hbcemk -n -w -es2 -gtwvt wcecon

If you will create binaries linked with harbour shared library
(harbour.dll), f.e. by:
    hbcemk -n -w -es2 -gtwvt wcecon -shared

then please remember that you will have to copy to your PocketPC also
harbour.dll (you will find it in /usr/lib/harbour-ce).



-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Sami Laham
Sent: Saturday, June 07, 2008 3:31 PM
To: 'Harbour Project Main Developer List.'
Subject: [Harbour] HARBOUR + WIN CE

Hello Folks, i would like to know where i find more information to use
harbour + wince to use in pocket-pc

Tks

Sami

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Sat Jun  7 15:22:37 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun  7 15:22:44 2008
Subject: [Harbour] Invitation to harbour writer 
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECE6@SRV02.deltain.net>

The upcoming release have a big number of improvment
Please send me or post here any Documentation regarding harbour for update web site.
When have you tried harbour have same difficult your experience will be usefull for other user
Can be usefull post like 
-How install and use harbour for pocket pc, windows,linux,macos
-Description of process of conversion from clipper,harbour
-Why harbour is better and where Philosophies of implementation differ from xharbour project?
-what is present in clipper and not in harbour?
-what can happen in next harbour release?
I hope Not a reference of languages but of concepts and a pratical guide
I invite same English people writing information harbour

Thanks in advance
Massimo Belgrano
?

From mbelgrano at deltain.it  Sat Jun  7 15:36:49 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun  7 15:36:53 2008
Subject: R: [Harbour] Harbour-Users mailing list has been created.
In-Reply-To: <200806070322.10360.philb@philb.us>
References: <200806070322.10360.philb@philb.us>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECE7@SRV02.deltain.net>

Done!
http://www.harbour-project.org/mailinglist.htm

Please send me any suggestion regarding website

-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] Per conto di Phil Barnett
Inviato: sabato 7 giugno 2008 9.22
A: Harbour@harbour-project.org
Oggetto: [Harbour] Harbour-Users mailing list has been created.

Someone needs to update the web site with this address, and remove the 
Harbour-Talk references.

http://lists.harbour-project.org/mailman/listinfo/harbour-users

Massimo, I believe you are the only one with passwords to edit the web
site.

-- 
Waiting for sunspots.
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Sat Jun  7 15:37:20 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun  7 15:38:23 2008
Subject: (To Phil) Re: [Harbour] harbour source snapshot size
In-Reply-To: <200806051959.29250.philb@philb.us>
References: <BLU138-W24F04EE18125A25462726085B40@phx.gbl>
	<A76B7485-6F7F-4B6E-98A3-398598FBD357@syenar.hu>
	<200806051959.29250.philb@philb.us>
Message-ID: <BA16C216-1774-42AD-AAE1-1809A3CCFD19@syenar.hu>

Hi Phil,

I'm not sure what's going on, but the source snapshots
here:
http://www.harbour-project.org/harbour-svn.zip
http://www.harbour-project.org/harbour-svn.tgz

still include all svn internal files (hence they're big).
I was under the impression that they're refreshed every
three hours, yet they still show the state from a few
days ago.

Could you take a look at it?

Brgds,
Viktor

On 2008.06.06., at 1:59, Phil Barnett wrote:

> On Thursday 05 June 2008 02:23:44 pm Szak?ts Viktor wrote:
>
>> Could you modify the snapshot scripts to use "svn export <url>"
>> rather than "svn checkout <url>" to download the source tree?
>>
>> The "export"-ed source size is currently 5.5MB as .tar.bz2 and
>> 8.8MB as .zip, which is much smaller, as all .svn internal
>> administration files are excluded this way.
>
> Ok, I modified harbour-svn.sh to use the export instead of co. The  
> other three
> backups scripts still use rsync.
>
> -- 
> Waiting for sunspots.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Sat Jun  7 15:57:18 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun  7 15:57:26 2008
Subject: R: (To Phil) Re: [Harbour] harbour source snapshot size
In-Reply-To: <BA16C216-1774-42AD-AAE1-1809A3CCFD19@syenar.hu>
References: <BLU138-W24F04EE18125A25462726085B40@phx.gbl><A76B7485-6F7F-4B6E-98A3-398598FBD357@syenar.hu><200806051959.29250.philb@philb.us>
	<BA16C216-1774-42AD-AAE1-1809A3CCFD19@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECE9@SRV02.deltain.net>

Now seem updated at 07-06-2007 22:02

-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] Per conto di Szak?ts Viktor
Inviato: sabato 7 giugno 2008 21.37
A: Harbour Project Main Developer List.
Oggetto: Re: (To Phil) Re: [Harbour] harbour source snapshot size

Hi Phil,

I'm not sure what's going on, but the source snapshots
here:
http://www.harbour-project.org/harbour-svn.zip
http://www.harbour-project.org/harbour-svn.tgz

still include all svn internal files (hence they're big).
I was under the impression that they're refreshed every
three hours, yet they still show the state from a few
days ago.

Could you take a look at it?

Brgds,
Viktor

On 2008.06.06., at 1:59, Phil Barnett wrote:

> On Thursday 05 June 2008 02:23:44 pm Szak?ts Viktor wrote:
>
>> Could you modify the snapshot scripts to use "svn export <url>"
>> rather than "svn checkout <url>" to download the source tree?
>>
>> The "export"-ed source size is currently 5.5MB as .tar.bz2 and
>> 8.8MB as .zip, which is much smaller, as all .svn internal
>> administration files are excluded this way.
>
> Ok, I modified harbour-svn.sh to use the export instead of co. The  
> other three
> backups scripts still use rsync.
>
> -- 
> Waiting for sunspots.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Sat Jun  7 16:04:34 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun  7 16:04:40 2008
Subject: R: [Harbour] gtwvt font best setup
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECE3@SRV02.deltain.net>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com><C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>	<005201c8c879$bc0c7470$34255d50$@com><AFB948164110ED43B5EB849E8DEEF03815ECE1@SRV02.deltain.net>	<006e01c8c88f$b712f2d0$2538d870$@com><AFB948164110ED43B5EB849E8DEEF03815ECE2@SRV02.deltain.net><007601c8c892$e243be50$a6cb3af0$@com>
	<AFB948164110ED43B5EB849E8DEEF03815ECE3@SRV02.deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECEA@SRV02.deltain.net>

He Miki
Can you write a post for harbour web site like Modernize your clipper
application with harbour gt.

-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] Per conto di Massimo
Belgrano
Inviato: sabato 7 giugno 2008 14.03
A: Harbour Project Main Developer List.
Oggetto: R: [Harbour] gtwvt font best setup

IMO your experience will be a big improvement for all harbour community
Can you post part of code or better a standalone demo application?
It can be a good demo for all xharbour user for understand the power of
GT architecture
Please give me any additional information about your application
I You can post a demo with CUI/GUI with Menu, toolbar, statusbar,
resize, change theme
, Multiplatform without changing your code it will be a good example?
Do you plane also run as web2.0(2^10 in your case) application?

-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] Per conto di Mike Evans
(Gmail)
Inviato: sabato 7 giugno 2008 13.38
A: 'Harbour Project Main Developer List.'
Oggetto: RE: [Harbour] gtwvt font best setup

Massimo,
Nothing big. They just loop inside each control on a window and they
change
the font according to the new window dimensions. After that they are
doing
an invalidate rect. Until now they are doing the same for every control.
The
resize doesn't work for toolbar and statusbar (there is no need). As for
the
third level I think that it will be necessary to use specific additions
that
it's not possible to have under another OS. In my application I have
also
themes so its possible for each end user to change the look of the
application.

Brgds,
Mike Evans

 
-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo
Belgrano
Sent: Saturday, June 07, 2008 2:31 PM
To: Harbour Project Main Developer List.
Subject: RE: [Harbour] gtwvt font best setup

Very interesting!
I suggest post screenshot as jpg 65%
What kink of work have don't c programmers about scaling font changes. 
What do you think as low level api (GT API with new additions) + common
windows-linux (GUI-CUI) support. 
Why is need third level specific to each GT?
Can you made little/big  demo (menu,toolbar,resize) based on your
application for harbour new user?


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Mike Evans
(Gmail)
Sent: Saturday, June 07, 2008 1:15 PM
To: 'Harbour Project Main Developer List.'
Subject: RE: [Harbour] gtwvt font best setup

Massimo,
I've already post some screenshots in a previous message. Have in mind
that
even if I have other windows open the applicatiosn is scalable-resizeble
from the main window. Also the same is true for toolbar-statusbar.

Brgds,
Mike Evans

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo
Belgrano
Sent: Saturday, June 07, 2008 2:04 PM
To: Harbour Project Main Developer List.
Subject: RE: [Harbour] gtwvt font best setup

Hi Mike,
Can you post a little demo/screenshoot about your adaption 
will be interesting for me and for most user
what have for your application gtwvw that gtwvt/gtwvg+ct3 not have?

-----Original Message-----

>All the work is done inside GTWVW. I changed nothing in my application.
I
>was using CT3 window functions and I have just a runtime flag if I want
CUI
>ot GUI. If use CUI its exactly like my clipper application but its
scaling
>font size on window resize, otherwise it's a GUI applications but again
its
>scaling font size.
 

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Sat Jun  7 16:16:38 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun  7 16:17:40 2008
Subject: R: (To Phil) Re: [Harbour] harbour source snapshot size
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECE9@SRV02.deltain.net>
References: <BLU138-W24F04EE18125A25462726085B40@phx.gbl><A76B7485-6F7F-4B6E-98A3-398598FBD357@syenar.hu><200806051959.29250.philb@philb.us>
	<BA16C216-1774-42AD-AAE1-1809A3CCFD19@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ECE9@SRV02.deltain.net>
Message-ID: <A4EF1C0A-876A-4DE2-880E-1028C04B0851@syenar.hu>

True, I forgot which day is today.

Still the point doesn't change: The files still
have all the svn info, so they're big.

Brgds,
Viktor

On 2008.06.07., at 21:57, Massimo Belgrano wrote:

> Now seem updated at 07-06-2007 22:02
>
> -----Messaggio originale-----
> Da: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] Per conto di Szak?ts Viktor
> Inviato: sabato 7 giugno 2008 21.37
> A: Harbour Project Main Developer List.
> Oggetto: Re: (To Phil) Re: [Harbour] harbour source snapshot size
>
> Hi Phil,
>
> I'm not sure what's going on, but the source snapshots
> here:
> http://www.harbour-project.org/harbour-svn.zip
> http://www.harbour-project.org/harbour-svn.tgz
>
> still include all svn internal files (hence they're big).
> I was under the impression that they're refreshed every
> three hours, yet they still show the state from a few
> days ago.
>
> Could you take a look at it?
>
> Brgds,
> Viktor
>
> On 2008.06.06., at 1:59, Phil Barnett wrote:
>
>> On Thursday 05 June 2008 02:23:44 pm Szak?ts Viktor wrote:
>>
>>> Could you modify the snapshot scripts to use "svn export <url>"
>>> rather than "svn checkout <url>" to download the source tree?
>>>
>>> The "export"-ed source size is currently 5.5MB as .tar.bz2 and
>>> 8.8MB as .zip, which is much smaller, as all .svn internal
>>> administration files are excluded this way.
>>
>> Ok, I modified harbour-svn.sh to use the export instead of co. The
>> other three
>> backups scripts still use rsync.
>>
>> -- 
>> Waiting for sunspots.
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Sat Jun  7 18:41:15 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Jun  7 18:41:18 2008
Subject: [Harbour] 2008-06-07 15:32 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
Message-ID: <17713796.post@talk.nabble.com>


2008-06-07 15:32 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
   * harbour/source/rtl/gtwvt/gtwvt.c
   * harbour/source/rtl/gtwvt/gtwvt.h
     + Added feature to copy text from WVT console just like any console
window.
     /*
        1. Click on SysMenu icon at the left on Title Bar
        2. Click on "Mark" option
        3. Place cursor on top of the text you wish to copy.
        4. Keep left button down and drag to desired end of console text.
        5. Release left button.
        6. Right click anywhere "Paste" operation is supported.
        7. Copies text is there.

        You can drag the mouse in any direction, copied text will always be
in order.
     */

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-07-15%3A32-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17713796p17713796.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Sun Jun  8 05:10:24 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Jun  8 05:13:38 2008
Subject: R: [Harbour] 2008-06-07 15:32 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
Message-ID: <003301c8c947$ed8419ae$0400a8c0@deltain.net>

I suggest add info in  a demo
Is posible disable?

----- Messaggio originale -----
Da: Pritpal Bedi <bedipritpal@hotmail.com>
Inviato: domenica 8 giugno 2008 0.41
A: harbour@harbour-project.org <harbour@harbour-project.org>
Oggetto: [Harbour] 2008-06-07 15:32 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com


2008-06-07 15:32 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
   * harbour/source/rtl/gtwvt/gtwvt.c
   * harbour/source/rtl/gtwvt/gtwvt.h
     + Added feature to copy text from WVT console just like any console
window.
     /*
        1. Click on SysMenu icon at the left on Title Bar
        2. Click on "Mark" option
        3. Place cursor on top of the text you wish to copy.
        4. Keep left button down and drag to desired end of console text.
        5. Release left button.
        6. Right click anywhere "Paste" operation is supported.
        7. Copies text is there.

        You can drag the mouse in any direction, copied text will always be
in order.
     */

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-07-15%3A32-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17713796p17713796.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Sun Jun  8 06:22:45 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  8 06:22:47 2008
Subject: [Harbour] 2008-06-08 12:14 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c951$Blat.v2.6.2$97f8333e$10dc4e4faa66@127.0.0.1>

2008-06-08 12:14 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbmysql/tmysql.prg
   * contrib/hbmysql/mysql.c
   * contrib/hbmysql/mysql.ch
   * contrib/hbtpathy/telepath.ch
   * contrib/hbtpathy/tplinux.c
   * contrib/hbtpathy/tpwin32.c
   * contrib/hbtpathy/tpos2.c
   * contrib/hbtpathy/tpcommon.c
   * contrib/hbmsql/msql.h
   * contrib/hbmsql/msql.ch
   * contrib/hbmsql/msql.c
   * contrib/hbfbird/firebird.c
   * contrib/hbfbird/tests/test.prg
   * contrib/hbapollo/apollo.c
   * contrib/hbmisc/hb_f.c
     * General code cleanup, formatting, minor optimizations, 
       Harbour API usage cleanup, ANSI comments.
     ! Several minor fixes to Firebird interface code, but it 
       still doesn't seem to work, and the code is very unclear, 
       partly because of the strange/unsafe Firebird API.
     ! Firebird test.prg fixes: Variable name typos, undeclared 
       vars, hard-coded paths.

   * contrib/hbfbird/make_b32.bat
   * contrib/hbfbird/make_vc.bat
     * Fixed location where .libs are looked for.
       [TOMERGE RC1]

   * contrib/hbcurl/hbcurl.c
     % Minor cleanups.
       [TOMERGE RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun  8 06:42:08 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  8 06:43:10 2008
Subject: [Harbour] 2008-06-07 15:32 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
In-Reply-To: <17713796.post@talk.nabble.com>
References: <17713796.post@talk.nabble.com>
Message-ID: <C601E02C-B96F-44D1-84B5-DEEFDF63351E@syenar.hu>

That's great, thanks a lot Pritpal.

Brgds,
Viktor

On 2008.06.08., at 0:41, Pritpal Bedi wrote:

>
> 2008-06-07 15:32 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
>   * harbour/source/rtl/gtwvt/gtwvt.c
>   * harbour/source/rtl/gtwvt/gtwvt.h
>     + Added feature to copy text from WVT console just like any  
> console
> window.
>     /*
>        1. Click on SysMenu icon at the left on Title Bar
>        2. Click on "Mark" option
>        3. Place cursor on top of the text you wish to copy.
>        4. Keep left button down and drag to desired end of console  
> text.
>        5. Release left button.
>        6. Right click anywhere "Paste" operation is supported.
>        7. Copies text is there.
>
>        You can drag the mouse in any direction, copied text will  
> always be
> in order.
>     */
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/2008-06-07-15%3A32-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17713796p17713796.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Jun  8 06:45:40 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  8 07:01:17 2008
Subject: [Harbour] 2008-06-08 12:42 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c954$Blat.v2.6.2$cb672bd2$1ec65994a24@127.0.0.1>

2008-06-08 12:42 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtwvt/gtwvt.c
     + Appending CRLF to each marked row before copying to 
       the clipboard.
     * "Mark" sysmenu named "Mark and Copy".
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun  8 07:29:29 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  8 07:30:33 2008
Subject: [Harbour] hb_errFuncname question
Message-ID: <01897F89-82B9-4D56-B296-FB213ECB6D61@syenar.hu>

Hi Przemek,

I'd like to avoid replicating the function name
in every hb_errRT*() calls, since it's consuming
string space, is a PITA to type in, and it's just
another thing to mistype. So, I've noticed code
which uses &hb_errFuncname instead. Is this safe
to use by external code (contrib)?

Wouldn't it be even better to just pass NULL,
if we want to use the currently executed Harbour
function name? This might be more MT friendly
and even less typing.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun  8 07:50:05 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  8 07:51:09 2008
Subject: [Harbour] BUG: win32 - ISDISK()/hb_fsIsDrv() 
Message-ID: <0AD4A4AD-A168-414B-93E1-97A111E5F53C@syenar.hu>

Hi all,

If I call ISDISK( "G" ) on my system (XP SP3 English),
I'm getting the attached error msg from my application,
and as a "bonus" all other programs trying to enumerate
drives will stall while waiting for thes input.

The drive in question is a SanDisk Extreme USB2 card
reader (connected through a D-Link HUB if that makes
any difference), with no memory card in it. It didn't
cause problems with any other apps in a year.

Any suggestions to fix this in hb_fsIsDrv()? Or else?

Brgds,
Viktor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: nodisk.png
Type: image/png
Size: 6555 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080608/aa6db321/nodisk-0001.png
-------------- next part --------------

From harbour.01 at syenar.hu  Sun Jun  8 08:32:28 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  8 08:33:29 2008
Subject: [Harbour] Re: BUG: win32 - ISDISK()/hb_fsIsDrv() 
In-Reply-To: <0AD4A4AD-A168-414B-93E1-97A111E5F53C@syenar.hu>
References: <0AD4A4AD-A168-414B-93E1-97A111E5F53C@syenar.hu>
Message-ID: <0A60FE7C-1EFC-402B-9301-B657FACCD46F@syenar.hu>

Update:

I managed to fix hb_fsIsDrv() using GetDriveTypeA() API.

This one returns success for such mounted but empty USB
drives, so the next problem is to solve the same error
message in hb_fsChDir() (SetCurrentDirectoryA()).

Ideas are welcome.

Brgds,
Viktor

On 2008.06.08., at 13:50, Szak?ts Viktor wrote:

> Hi all,
>
> If I call ISDISK( "G" ) on my system (XP SP3 English),
> I'm getting the attached error msg from my application,
> and as a "bonus" all other programs trying to enumerate
> drives will stall while waiting for thes input.
>
> The drive in question is a SanDisk Extreme USB2 card
> reader (connected through a D-Link HUB if that makes
> any difference), with no memory card in it. It didn't
> cause problems with any other apps in a year.
>
> Any suggestions to fix this in hb_fsIsDrv()? Or else?
>
> Brgds,
> Viktor
>
> <nodisk.png>

From harbour.01 at syenar.hu  Sun Jun  8 09:30:36 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  8 09:30:37 2008
Subject: [Harbour] 2008-06-08 15:18 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c96b$Blat.v2.6.2$d5d03f5c$156092953f7e@127.0.0.1>

2008-06-08 15:18 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * include/hbgtinfo.ch
     + Added comment to compatibility #defines, to not use 
       them, since they deprecated.
       [TOMERGE RC1]
     * HB_GTI_CB_* -> HB_GTE_* (stands for GT Event). Removed 
       plain GTI_ versions, GTI_* range is frozen, pls don't 
       and new codes to them and especially don't use them in 
       core code.

   * include/hbgfx.ch
   * include/hbgfxdef.ch
   * contrib/gtwvg/gtwvg.c
   * source/rtl/gtxwc/gtxwc.c
   * source/rtl/gtwvt/gtwvt.c
     * GFX_* constants renamed to HB_GFX_*. The old ones are 
       still working but it's recommended to update to use HB_GFX_*.
       #define HB_GT_NO_XHB to disable the compatibility #defines, 
       if it collides with your code or you want to test after 
       transition.
     ; [TOMERGE RC1]

   * source/rtl/dirdrive.c
     ! Guarded C53 undoc functions with HB_C52_UNDOC, which is enabled 
       so it won't make a difference in default builds.
     ; [TOMERGE RC1]

   * source/rtl/filesys.c
     ! Fixed hb_fsIsDrv() to use GetDriveTypeA() API, to avoid some 
       win32 system MessageBox() to be shown when certain types of 
       drives (f.e. USB reader devices) are queried.
     ; Please test.
     ; TOFIX: hb_fsChDrv() suffers from the same problem.
     ; [TOMERGE RC1 - after testing]

   * contrib/hbcurl/hbcurl.c
   * contrib/rddads/adsfunc.c
   * contrib/rddads/ads1.c
     % Optimized out explicit function name strings in RTE calls.
     ! The above is actually a fix (I hope) for the one in 
       hb_adsCheckLock(). Error text also made more consistent.
     ; [TOMERGE RC1 - after testing]

   * contrib/hbw32/w32_prn.c
     % Minor optimizations, cleanups.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun  8 10:01:27 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  8 10:02:31 2008
Subject: [Harbour] Core constant cleanup
Message-ID: <E4B6304F-887E-4BD7-857F-8B641739EB1C@syenar.hu>

Hi all,

I plan to clean constants as below:

OS_UNIX_COMPATIBLE                -> HB_OS_UNIX_COMPATIBLE
OS_PATH_LIST_SEPARATOR            -> HB_OS_PATH_LIST_SEP_CHR
OS_PATH_DELIMITER                 -> HB_OS_PATH_DELIM_CHR
OS_PATH_DELIMITER_STRING          -> HB_OS_PATH_DELIM_STR
OS_PATH_DELIMITER_LIST            -> HB_OS_PATH_DELIM_LIST
OS_FILE_MASK                      -> HB_OS_ALLFILE_MASK
OS_DRIVE_DELIMITER                -> HB_OS_DRIVE_DELIM_CHR
OS_HAS_DRIVE_LETTER               -> HB_OS_HAS_DRIVE_LETTER
OS_OPT_DELIMITER_LIST             -> HB_OS_OPT_DELIM_LIST
OS_EOL_LEN                        -> HB_OS_EOL_LEN
HARBOUR_GCC_OS2                   -> HB_OS_OS2_GCC
HARBOUR_START_PROCEDURE           -> HB_START_PROCEDURE
HARBOUR_MAIN_STD                  -> HB_MAIN_STD
HARBOUR_MAIN_WIN                  -> HB_MAIN_WIN
HARBOUR_MAX_RDD_DRIVERNAME_LENGTH -> HB_RDD_MAX_DRIVERNAME_LEN
HARBOUR_MAX_RDD_ALIAS_LENGTH      -> HB_RDD_MAX_ALIAS_LEN
HARBOUR_MAX_RDD_AREA_NUM          -> HB_RDD_MAX_AREA_NUM

The main point here is usage if HB_ as standard
plus I've made some other cleanup to make names
more distinctive, better align with similar ones,
and possibly shorter.

Please comment. We can of course leave those ones
which may be used by 3rd parties to live for a while
with the old name too, to not break them.

Brgds,
Viktor

From jarabal at ya.com  Sun Jun  8 10:20:06 2008
From: jarabal at ya.com (Javier)
Date: Sun Jun  8 10:20:23 2008
Subject: [Harbour] 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8c891$Blat.v2.6.2$c42517bc$19c08d8bc010@127.0.0.1>
References: <01c8c891$Blat.v2.6.2$c42517bc$19c08d8bc010@127.0.0.1>
Message-ID: <484BEA96.40101@ya.com>

Tanks Viktor,
Please, change with more complete function.

Incorporate a new converter "%t" to print ANSI SQL's Strings and typing 
Dates and Numbers according to FIXED DECIMALS .-

? _Spd( "String's C to %t and Dates %t, Number %t \n", "String's ANSI 
SQL", Date(), 3.141516 )

Print NULL always if the parameter is NIL or NULL .-

? _Spd( "Sample of nil parameter for print SQL Field DECIMAL(18,6) = 
%18.6f \n", nil )

Complete functionality of sprintf() safe, like C, Java, PHP, Perl, 
Python, ... .-

? _Spd( "Phi = %.*f \n", 10, (1 + 5**0.5) / 2 )

Thanks so much.
Xavi

Szak?ts Viktor escribi?:
> 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>    * contrib/hbmisc/common.mak
>    * contrib/hbmisc/Makefile
>    - contrib/hbmisc/mathx.c
>    + contrib/hbmisc/spd.c
>      - Removed math functions equivalent with CT3 ones.
>        INCOMPATIBLE: If your code used CEIL() from hbmisc, please 
>                      update it to use CEILING() from hbct. Functionality 
>                      is the same.
>      + Added _SPD() function.
>        Contributed by Javier (jarabal at gmail.com)
> --
> Brgds,
> Viktor
>
>   
-------------- next part --------------
/*
 * Harbour Project source code:
 * _SPD() function
 *
 * Copyright 2008 Xavi <jarabal@gmail.com>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software; see the file COPYING.  If not, write to
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
 *
 * As a special exception, the Harbour Project gives permission for
 * additional uses of the text contained in its release of Harbour.
 *
 * The exception is that, if you link the Harbour libraries with other
 * files to produce an executable, this does not by itself cause the
 * resulting executable to be covered by the GNU General Public License.
 * Your use of that executable is in no way restricted on account of
 * linking the Harbour library code into it.
 *
 * This exception does not however invalidate any other reasons why
 * the executable file might be covered by the GNU General Public License.
 *
 * This exception applies only to the code released by the Harbour
 * Project under the name Harbour.  If you copy code from other
 * Harbour Project or Free Software Foundation releases into a copy of
 * Harbour, as the General Public License permits, the exception does
 * not apply to the code that you add in this way.  To avoid misleading
 * anyone as to the status of such modified files, you must delete
 * this exception notice from them.
 *
 * If you write modifications of your own for Harbour, it is your choice
 * whether to permit this exception to apply to your modifications.
 * If you do not wish that, delete this exception notice.
 *
 */

#include "hbapi.h"
#include "hbapiitm.h"
#include "hbapierr.h"
#include "hbdate.h"

static void STAItm( PHB_ITEM pItmPar )
{
   ULONG i, ulItmPar = hb_itemGetCLen( pItmPar );
   char *cRes, *c, *cItmPar = hb_itemGetCPtr( pItmPar );

   for( i = 3, c = cItmPar; *c; c++ ){
      if( *c == '\'' ) i++;   /* Count ' Tokens */
   }
   cRes = (char *)hb_xgrab( ulItmPar + i * sizeof(char) );
   i = 0; c = cItmPar; cRes[i++] = '\'';
   while( *c ){
      if( *c == '\'' ) cRes[i++] = '\'';
      cRes[i++] = *c++;
   }
   cRes[i++] = '\''; /* cRes[i] = '\0'; */
   hb_itemPutCPtr( pItmPar, cRes, i );
}

static ULONG SCItm( char *cBuffer, ULONG ulMaxBuf, char *cParFrm, int iCOut, int IsIndW, int iIndWidth, int IsIndP, int iIndPrec, PHB_ITEM pItmPar )
{
   ULONG s = 0;

   if( IsIndW && IsIndP ){
      switch( iCOut ){
      case 'p':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetPtr( pItmPar ) );
         break;
      case 's': case 'S':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetCPtr( pItmPar ) );
         break;
      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetND( pItmPar ) );
         break;
      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
      }
   }else if( IsIndW || IsIndP ){
      int iInd = (IsIndW ? iIndWidth : iIndPrec);

      switch( iCOut ){
      case 'p':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetPtr( pItmPar ) );
         break;
      case 's': case 'S':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetCPtr( pItmPar ) );
         break;
      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetND( pItmPar ) );
         break;
      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
      }
   }else{
      switch( iCOut ){
      case 'p':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetPtr( pItmPar ) );
         break;
      case 's': case 'S':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetCPtr( pItmPar ) );
         break;
      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetND( pItmPar ) );
         break;
      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
      }
   }
   return s;
}

/*******************************************************************************
* ANSI C sprintf() for ANSI SQL with DATE, DATETIME, LOGICAL, NIL, NUMERIC
* ------------------------------------------------------------------------
* cRes := _SPD( cFrm, ... )
* cFrm : %s for DATE = YYYY-MM-DD, DATETIME = YYYY-MM-DD HH:MM:SS
*        %t for DATE = 'YYYY-MM-DD', DATETIME = 'YYYY-MM-DD HH:MM:SS'
*        %t for STRING = 'String''s ANSI SQL'
*        %t & %s for LOGICAL = TRUE | FALSE, %d for LOGICAL = 1 | 0
*        %t & %s is also for NUMERIC with FIXED DECIMALS
*        NIL or HB_IT_NULL = NULL
*
* NOTE .-
* Remove C ESC sequences and converts them to Clipper chars in cRes.
*    OutStd( _SPD( 'Hello\nworld!' ) ) => like printf( "Hello\nworld!" );
* Accepts conversion inside if variable is passed by reference.
*    Local xDate := Date(); _SPD('%s', @xDate) => xDate == '2008-05-19'
*
* TODO: Support for $ in format %.
*******************************************************************************/

#define DK_INCRES 1024
#define DK_INCBUF 512
#define DK_BLKBUF HB_MAX_DOUBLE_LENGTH   /* Expense of DK_INCBUF */
#define DK_FRMTIM "HH:MM:SS"

HB_FUNC( _SPD )
{
   ULONG ulItmFrm;
   char *cRes, *cItmFrm;
   int argc = hb_pcount() - 1;
   PHB_ITEM pItmFrm = hb_param( 1, HB_IT_STRING );

   if( !pItmFrm || (cItmFrm = hb_itemGetCPtr( pItmFrm )) == NULL ){
      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, "_SPD", 1, hb_paramError( 1 ) );
   }else if( !(ulItmFrm = hb_itemGetCLen( pItmFrm )) ){
      hb_retclen( "", 0 );
   }else if( !argc ){
      cRes = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
      memcpy( cRes, cItmFrm, ulItmFrm + sizeof(char) );
      cRes = hb_strRemEscSeq( cRes, &ulItmFrm );
      hb_retclen( cRes, ulItmFrm );
      hb_xfree( cRes );
   }else{
      PHB_ITEM pItmPar;
      char *cBuffer, *cParFrm, *c;
      int p, iCOut, IsType, IsIndW, IsIndP, iIndWidth, iIndPrec, iErrorPar = 0;
      ULONG s, f, i, ulWidth, ulParPos = 0, ulResPos = 0, ulMaxBuf = DK_INCBUF, ulMaxRes = DK_INCRES;
      static char cToken[] = "stcdiouxXaAeEfgGpnSC";

      cRes = (char *)hb_xgrab( ulMaxRes );
      cBuffer = (char *)hb_xgrab( ulMaxBuf );
      cParFrm = (char *)hb_xgrab( ulItmFrm + sizeof(char) );

      for( p = 0; p < argc; p++ ){

         c = cItmFrm + ulParPos;
         f = i = ulWidth = iCOut = IsType = IsIndW = IsIndP = 0;
         do{   /* Get Par Format */
            if( f && *c == '%' ){
               f = ulWidth = IsIndW = IsIndP = 0;
            }else if( f == 1 && !ulWidth && *c >= '0' && *c <= '9' ){
               ulWidth = atol( c );
            }else if( f && *c == '.' ){
               if( f++ == 2 ) iErrorPar = 1;
            }else if( f && *c == '*' ){
               if( f == 2 ){
                  if( IsIndP ){
                     f = 3; iErrorPar = 1;
                  }else{
                     IsIndP = 1;
                  }
               }else if( !IsIndW ){
                  ulWidth = IsIndW = 1;
               }else{
                  f = 3; iErrorPar = 1;
               }
            }else if( f && *c == '$' ){
               f = 3; iErrorPar = 1;   /* TO DO */
            }else if( f && strchr(cToken, *c) ){
               f = 3; iCOut = *c;
            }else if( *c == '%' ){
               f = 1;
            }
            cParFrm[i++] = *c++;
         }while( f < 3 && *c ); cParFrm[f = i] = '\0';
         if( iErrorPar ) break;

         if( iCOut == 't' ){
            if( cParFrm[f - 2] == '%' ){
               IsType = 1; iCOut = cParFrm[f - 1] = 's';
            }else{
               iErrorPar = 1; break;
            }
         }

         if( IsIndW  ){ /* Get Par Indirectly Width Item */
            pItmPar = hb_param( p + 2, HB_IT_INTEGER );
            if( pItmPar ){
               if( (iIndWidth = hb_itemGetNI( pItmPar )) < 0 ){
                  ulWidth = -iIndWidth;
               }else{
                  ulWidth = iIndWidth;
               }
            }else{
               iErrorPar = 1; break;
            }
            p++;
         }

         if( IsIndP ){  /* Get Par Indirectly Precision Item */
            pItmPar = hb_param( p + 2, HB_IT_INTEGER );
            if( pItmPar ){
               iIndPrec = hb_itemGetNI( pItmPar );
            }else{
               iErrorPar = 1; break;
            }
            p++;
         }

         if( *c && p == argc - 1 ){ /* No more Par Items */
            do{ cParFrm[i++] = *c; }while( *c++ ); i--;
         }  /* i == strlen(cParFrm) */

         pItmPar = hb_param( p + 2, HB_IT_ANY );   /* Get Par Item */
         if( !pItmPar ){
            iErrorPar = 1; break;
         }

         if( !iCOut || iCOut == 'n' ){ /* Par Text Out */

            for( f = i, i = 0; i < f; i++ ){ /* Change %% with % */
               if( cParFrm[i] == '%' && cParFrm[i + 1] == '%' ){
                  memcpy( cParFrm + i, cParFrm + i + 1, f - i );
                  f--;
               }
            }  /* i == strlen(cParFrm) */
            if( iCOut ){
               for( f = 0; f < i; f++ ){  /* Erase %n */
                  if( cParFrm[f] == '%' && cParFrm[f + 1] == 'n' ){
                     memcpy( cParFrm + f, cParFrm + f + 2, i - f - 1 );
                     break;
                  }
               }  /* f == Index % of n */
               if( f < i ){
                  i -= 2;  /* i == strlen(cParFrm) */
                  hb_itemPutNL( pItmPar, ulResPos + f );
               }else{
                  iErrorPar = 1; break;
               }
            }
            if( (f = i + sizeof(char)) > ulMaxBuf ){
               ulMaxBuf += f + DK_INCBUF;
               cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
            }
            strcpy( cBuffer, cParFrm ); s = i;

         }else{   /* Par Item sprintf() Out */

#        ifdef HB_IT_NULL
            if( (HB_IS_NIL( pItmPar ) || HB_IS_NULL( pItmPar )) ){
#        else
            if( HB_IS_NIL( pItmPar ) ){
#        endif
               ulWidth = f; IsIndW = IsIndP = 0;
               while( cParFrm[--f] != '%' );
               iCOut = cParFrm[f + 1] = 's'; /* Change format with %s */
               memcpy( cParFrm + f + 2, cParFrm + ulWidth, i - ulWidth + 1 );
               i -= ulWidth - f - 2;   /* i == strlen(cParFrm) */
               if( (f = i + 5) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;   /* size of "NULL" == 5 */
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               hb_itemPutCL( pItmPar, "NULL", 4 );
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );

            }else if( HB_IS_STRING( pItmPar ) && (iCOut == 's' || iCOut == 'S') ){
               if( IsType ) STAItm( pItmPar );
               f = hb_itemGetCLen( pItmPar );
               if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );

            }else if( HB_IS_DATE( pItmPar ) && iCOut == 's' ){
               char cDTBuf[ 19 ], cDTFrm[ 28 ]; /* 26 + 2 if %t and change format time */

#           ifdef __XHARBOUR__
               if( HB_IS_DATETIME( pItmPar ) ){
                  hb_datetimeFormat( hb_itemGetDTS( pItmPar, cDTBuf ), cDTFrm, "YYYY-MM-DD", DK_FRMTIM );
               }else
#           endif
                  hb_dateFormat( hb_itemGetDS( pItmPar, cDTBuf ), cDTFrm, "YYYY-MM-DD" );

               if( (f = i + HB_MAX(ulWidth, 28)) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               hb_itemPutC( pItmPar, cDTFrm );
               if( IsType ) STAItm( pItmPar );
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );

            }else if( HB_IS_LOGICAL( pItmPar ) ){
               if( (f = i + (iCOut == 's' ? HB_MAX(ulWidth, 6) : HB_MAX(ulWidth, DK_BLKBUF))) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;   /* size of "FALSE" == 6 */
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               if( iCOut == 's' ){
                  hb_itemPutC( pItmPar, (hb_itemGetL( pItmPar ) ? "TRUE" : "FALSE") );
               }
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );

            }else if( iCOut == 's' ){
               char *cTrimStr, *cStr = hb_itemStr( pItmPar, NULL, NULL );

               if( cStr ){
                  f = strlen( cStr ); cTrimStr = hb_strLTrim( cStr, &f );
                  if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
                     ulMaxBuf += f + DK_INCBUF;
                     cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
                  }
                  hb_itemPutCL( pItmPar, cTrimStr, f );
                  s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );
                  hb_xfree( cStr );
               }else{
                  iErrorPar = p + 2; break;
               }

            }else if( HB_IS_NUMERIC( pItmPar ) || HB_IS_POINTER( pItmPar ) ){
               if( (f = i + HB_MAX(ulWidth, DK_BLKBUF)) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );

            }else{
               iErrorPar = p + 2; break;
            }
         }

         if( (f = s + ulResPos + sizeof(char)) > ulMaxRes ){
            ulMaxRes += f + DK_INCRES;
            cRes = (char *)hb_xrealloc( cRes, ulMaxRes );
         }
         strcpy( cRes + ulResPos, cBuffer ); ulResPos += s;

         if( (ulParPos = c - cItmFrm) >= ulItmFrm ){
            break;   /* No more Par Format */
         }
      }
      hb_xfree( cParFrm ); hb_xfree( cBuffer );
      if( iErrorPar ){
         hb_xfree( cRes );
         if( iErrorPar > 1 ){
            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, "_SPD", 2, hb_paramError( 1 ), hb_paramError( iErrorPar ) );
         }else{
            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, "_SPD", 1, hb_paramError( 1 ) );
         }
      }else{
         cRes = hb_strRemEscSeq( cRes, &ulResPos );
         hb_retclen( cRes, ulResPos );
         hb_xfree( cRes );
      }
   }
}
/* END */
	
#if 0
/*
 * Little change in Harbour hb_strRemEscSeq() to complete escape sequences ANSI C
 */
HB_EXPORT char * hb_strRemEscSeq( char *str, ULONG *pLen )
{
   ULONG ul = *pLen, ulStripped = 0;
   char *ptr, *dst, ch;

   ptr = dst = str;
   while( ul )
   {
      if( *ptr == '\\' )
         break;
      ++ptr; ++dst;
      --ul;
   }

   while( ul-- )
   {
      ch = *ptr++;
      if( ch == '\\' )
      {
         ++ulStripped;
         if( ul )
         {
            ul--;
            ch = *ptr++;
            switch( ch )
            {
               case 'a': ch = '\a'; break;
               case 'b':
                  ch = '\b';
                  break;
               case 'f': ch = '\f'; break;
               case 'n':
                  ch = '\n';
                  break;
               case 'r':
                  ch = '\r';
                  break;
               case 't':
                  ch = '\t';
                  break;
               case 'v': ch = '\v'; break;
               case '0':
               case '1':
               case '2':
               case '3':
               case '4':
               case '5':
               case '6':
               case '7':
                  ch -= '0';
                  if( ul && *ptr >= '0' && *ptr <= '7' )
                  {
                     ch = ( ch << 3 ) | ( *ptr++ - '0' );
                     ++ulStripped;
                     if( --ul && *ptr >= '0' && *ptr <= '7' )
                     {
                        ch = ( ch << 3 ) | ( *ptr++ - '0' );
                        ++ulStripped;
                        --ul;
                     }
                  }
                  break;
               case 'x':
                  ch = 0;
                  while( ul )
                  {
                     if( *ptr >= '0' && *ptr <= '9' )
                        ch = ( ch << 4 ) | ( *ptr++ - '0' );
                     else if( *ptr >= 'A' && *ptr <= 'F' )
                        ch = ( ch << 4 ) | ( *ptr++ - 'A' + 10 );
                     else if( *ptr >= 'a' && *ptr <= 'f' )
                        ch = ( ch << 4 ) | ( *ptr++ - 'a' + 10 );
                     else
                        break;
                     ++ulStripped;
                     --ul;
                  }
                  break;
               default: /* case '\\': // Also any ch */
                  break;
            }
         }
         else
            break;

      }
      *dst++ = ch;
   }

   if( ulStripped )
   {
      *dst = '\0';
      *pLen -= ulStripped;
   }

   return str;
}
#endif
From harbour.01 at syenar.hu  Sun Jun  8 10:31:00 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  8 10:32:03 2008
Subject: [Harbour] 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <484BEA96.40101@ya.com>
References: <01c8c891$Blat.v2.6.2$c42517bc$19c08d8bc010@127.0.0.1>
	<484BEA96.40101@ya.com>
Message-ID: <F22C4FE2-1276-4F58-924A-6AF11FFC4F40@syenar.hu>

Hi Javier,

Could you please apply your changes to the file
on the repository? It's also good if you send a .dif
file for that one. Thanks in advance.

I'd also suggest a more descriptive function name
and maybe even some documentation, so that ppl. can
find out what it does. [ For the doc you can embed it
in the code using the NF format. ]

Brgds,
Viktor

On 2008.06.08., at 16:20, Javier wrote:

> Tanks Viktor,
> Please, change with more complete function.
>
> Incorporate a new converter "%t" to print ANSI SQL's Strings and  
> typing Dates and Numbers according to FIXED DECIMALS .-
>
> ? _Spd( "String's C to %t and Dates %t, Number %t \n", "String's  
> ANSI SQL", Date(), 3.141516 )
>
> Print NULL always if the parameter is NIL or NULL .-
>
> ? _Spd( "Sample of nil parameter for print SQL Field DECIMAL(18,6) =  
> %18.6f \n", nil )
>
> Complete functionality of sprintf() safe, like C, Java, PHP, Perl,  
> Python, ... .-
>
> ? _Spd( "Phi = %.*f \n", 10, (1 + 5**0.5) / 2 )
>
> Thanks so much.
> Xavi
>
> Szak?ts Viktor escribi?:
>> 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>>   * contrib/hbmisc/common.mak
>>   * contrib/hbmisc/Makefile
>>   - contrib/hbmisc/mathx.c
>>   + contrib/hbmisc/spd.c
>>     - Removed math functions equivalent with CT3 ones.
>>       INCOMPATIBLE: If your code used CEIL() from hbmisc,  
>> please                      update it to use CEILING() from hbct.  
>> Functionality                      is the same.
>>     + Added _SPD() function.
>>       Contributed by Javier (jarabal at gmail.com)
>> --
>> Brgds,
>> Viktor
>>
>>
> /*
> * Harbour Project source code:
> * _SPD() function
> *
> * Copyright 2008 Xavi <jarabal@gmail.com>
> *
> * This program is free software; you can redistribute it and/or modify
> * it under the terms of the GNU General Public License as published by
> * the Free Software Foundation; either version 2, or (at your option)
> * any later version.
> *
> * This program is distributed in the hope that it will be useful,
> * but WITHOUT ANY WARRANTY; without even the implied warranty of
> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
> * GNU General Public License for more details.
> *
> * You should have received a copy of the GNU General Public License
> * along with this software; see the file COPYING.  If not, write to
> * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
> * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/) 
> .
> *
> * As a special exception, the Harbour Project gives permission for
> * additional uses of the text contained in its release of Harbour.
> *
> * The exception is that, if you link the Harbour libraries with other
> * files to produce an executable, this does not by itself cause the
> * resulting executable to be covered by the GNU General Public  
> License.
> * Your use of that executable is in no way restricted on account of
> * linking the Harbour library code into it.
> *
> * This exception does not however invalidate any other reasons why
> * the executable file might be covered by the GNU General Public  
> License.
> *
> * This exception applies only to the code released by the Harbour
> * Project under the name Harbour.  If you copy code from other
> * Harbour Project or Free Software Foundation releases into a copy of
> * Harbour, as the General Public License permits, the exception does
> * not apply to the code that you add in this way.  To avoid misleading
> * anyone as to the status of such modified files, you must delete
> * this exception notice from them.
> *
> * If you write modifications of your own for Harbour, it is your  
> choice
> * whether to permit this exception to apply to your modifications.
> * If you do not wish that, delete this exception notice.
> *
> */
>
> #include "hbapi.h"
> #include "hbapiitm.h"
> #include "hbapierr.h"
> #include "hbdate.h"
>
> static void STAItm( PHB_ITEM pItmPar )
> {
>   ULONG i, ulItmPar = hb_itemGetCLen( pItmPar );
>   char *cRes, *c, *cItmPar = hb_itemGetCPtr( pItmPar );
>
>   for( i = 3, c = cItmPar; *c; c++ ){
>      if( *c == '\'' ) i++;   /* Count ' Tokens */
>   }
>   cRes = (char *)hb_xgrab( ulItmPar + i * sizeof(char) );
>   i = 0; c = cItmPar; cRes[i++] = '\'';
>   while( *c ){
>      if( *c == '\'' ) cRes[i++] = '\'';
>      cRes[i++] = *c++;
>   }
>   cRes[i++] = '\''; /* cRes[i] = '\0'; */
>   hb_itemPutCPtr( pItmPar, cRes, i );
> }
>
> static ULONG SCItm( char *cBuffer, ULONG ulMaxBuf, char *cParFrm,  
> int iCOut, int IsIndW, int iIndWidth, int IsIndP, int iIndPrec,  
> PHB_ITEM pItmPar )
> {
>   ULONG s = 0;
>
>   if( IsIndW && IsIndP ){
>      switch( iCOut ){
>      case 'p':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth,  
> iIndPrec, hb_itemGetPtr( pItmPar ) );
>         break;
>      case 's': case 'S':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth,  
> iIndPrec, hb_itemGetCPtr( pItmPar ) );
>         break;
>      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a':  
> case 'A':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth,  
> iIndPrec, hb_itemGetND( pItmPar ) );
>         break;
>      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u':  
> case 'x': case 'X':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth,  
> iIndPrec, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) :  
> hb_itemGetNI( pItmPar )) );
>      }
>   }else if( IsIndW || IsIndP ){
>      int iInd = (IsIndW ? iIndWidth : iIndPrec);
>
>      switch( iCOut ){
>      case 'p':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd,  
> hb_itemGetPtr( pItmPar ) );
>         break;
>      case 's': case 'S':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd,  
> hb_itemGetCPtr( pItmPar ) );
>         break;
>      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a':  
> case 'A':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd,  
> hb_itemGetND( pItmPar ) );
>         break;
>      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u':  
> case 'x': case 'X':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd,  
> (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) :  
> hb_itemGetNI( pItmPar )) );
>      }
>   }else{
>      switch( iCOut ){
>      case 'p':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm,  
> hb_itemGetPtr( pItmPar ) );
>         break;
>      case 's': case 'S':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm,  
> hb_itemGetCPtr( pItmPar ) );
>         break;
>      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a':  
> case 'A':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm,  
> hb_itemGetND( pItmPar ) );
>         break;
>      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u':  
> case 'x': case 'X':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm,  
> (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) :  
> hb_itemGetNI( pItmPar )) );
>      }
>   }
>   return s;
> }
>
> / 
> *******************************************************************************
> * ANSI C sprintf() for ANSI SQL with DATE, DATETIME, LOGICAL, NIL,  
> NUMERIC
> *  
> ------------------------------------------------------------------------
> * cRes := _SPD( cFrm, ... )
> * cFrm : %s for DATE = YYYY-MM-DD, DATETIME = YYYY-MM-DD HH:MM:SS
> *        %t for DATE = 'YYYY-MM-DD', DATETIME = 'YYYY-MM-DD HH:MM:SS'
> *        %t for STRING = 'String''s ANSI SQL'
> *        %t & %s for LOGICAL = TRUE | FALSE, %d for LOGICAL = 1 | 0
> *        %t & %s is also for NUMERIC with FIXED DECIMALS
> *        NIL or HB_IT_NULL = NULL
> *
> * NOTE .-
> * Remove C ESC sequences and converts them to Clipper chars in cRes.
> *    OutStd( _SPD( 'Hello\nworld!' ) ) => like printf( "Hello 
> \nworld!" );
> * Accepts conversion inside if variable is passed by reference.
> *    Local xDate := Date(); _SPD('%s', @xDate) => xDate ==  
> '2008-05-19'
> *
> * TODO: Support for $ in format %.
> *******************************************************************************/
>
> #define DK_INCRES 1024
> #define DK_INCBUF 512
> #define DK_BLKBUF HB_MAX_DOUBLE_LENGTH   /* Expense of DK_INCBUF */
> #define DK_FRMTIM "HH:MM:SS"
>
> HB_FUNC( _SPD )
> {
>   ULONG ulItmFrm;
>   char *cRes, *cItmFrm;
>   int argc = hb_pcount() - 1;
>   PHB_ITEM pItmFrm = hb_param( 1, HB_IT_STRING );
>
>   if( !pItmFrm || (cItmFrm = hb_itemGetCPtr( pItmFrm )) == NULL ){
>      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, "_SPD", 1,  
> hb_paramError( 1 ) );
>   }else if( !(ulItmFrm = hb_itemGetCLen( pItmFrm )) ){
>      hb_retclen( "", 0 );
>   }else if( !argc ){
>      cRes = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
>      memcpy( cRes, cItmFrm, ulItmFrm + sizeof(char) );
>      cRes = hb_strRemEscSeq( cRes, &ulItmFrm );
>      hb_retclen( cRes, ulItmFrm );
>      hb_xfree( cRes );
>   }else{
>      PHB_ITEM pItmPar;
>      char *cBuffer, *cParFrm, *c;
>      int p, iCOut, IsType, IsIndW, IsIndP, iIndWidth, iIndPrec,  
> iErrorPar = 0;
>      ULONG s, f, i, ulWidth, ulParPos = 0, ulResPos = 0, ulMaxBuf =  
> DK_INCBUF, ulMaxRes = DK_INCRES;
>      static char cToken[] = "stcdiouxXaAeEfgGpnSC";
>
>      cRes = (char *)hb_xgrab( ulMaxRes );
>      cBuffer = (char *)hb_xgrab( ulMaxBuf );
>      cParFrm = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
>
>      for( p = 0; p < argc; p++ ){
>
>         c = cItmFrm + ulParPos;
>         f = i = ulWidth = iCOut = IsType = IsIndW = IsIndP = 0;
>         do{   /* Get Par Format */
>            if( f && *c == '%' ){
>               f = ulWidth = IsIndW = IsIndP = 0;
>            }else if( f == 1 && !ulWidth && *c >= '0' && *c <= '9' ){
>               ulWidth = atol( c );
>            }else if( f && *c == '.' ){
>               if( f++ == 2 ) iErrorPar = 1;
>            }else if( f && *c == '*' ){
>               if( f == 2 ){
>                  if( IsIndP ){
>                     f = 3; iErrorPar = 1;
>                  }else{
>                     IsIndP = 1;
>                  }
>               }else if( !IsIndW ){
>                  ulWidth = IsIndW = 1;
>               }else{
>                  f = 3; iErrorPar = 1;
>               }
>            }else if( f && *c == '$' ){
>               f = 3; iErrorPar = 1;   /* TO DO */
>            }else if( f && strchr(cToken, *c) ){
>               f = 3; iCOut = *c;
>            }else if( *c == '%' ){
>               f = 1;
>            }
>            cParFrm[i++] = *c++;
>         }while( f < 3 && *c ); cParFrm[f = i] = '\0';
>         if( iErrorPar ) break;
>
>         if( iCOut == 't' ){
>            if( cParFrm[f - 2] == '%' ){
>               IsType = 1; iCOut = cParFrm[f - 1] = 's';
>            }else{
>               iErrorPar = 1; break;
>            }
>         }
>
>         if( IsIndW  ){ /* Get Par Indirectly Width Item */
>            pItmPar = hb_param( p + 2, HB_IT_INTEGER );
>            if( pItmPar ){
>               if( (iIndWidth = hb_itemGetNI( pItmPar )) < 0 ){
>                  ulWidth = -iIndWidth;
>               }else{
>                  ulWidth = iIndWidth;
>               }
>            }else{
>               iErrorPar = 1; break;
>            }
>            p++;
>         }
>
>         if( IsIndP ){  /* Get Par Indirectly Precision Item */
>            pItmPar = hb_param( p + 2, HB_IT_INTEGER );
>            if( pItmPar ){
>               iIndPrec = hb_itemGetNI( pItmPar );
>            }else{
>               iErrorPar = 1; break;
>            }
>            p++;
>         }
>
>         if( *c && p == argc - 1 ){ /* No more Par Items */
>            do{ cParFrm[i++] = *c; }while( *c++ ); i--;
>         }  /* i == strlen(cParFrm) */
>
>         pItmPar = hb_param( p + 2, HB_IT_ANY );   /* Get Par Item */
>         if( !pItmPar ){
>            iErrorPar = 1; break;
>         }
>
>         if( !iCOut || iCOut == 'n' ){ /* Par Text Out */
>
>            for( f = i, i = 0; i < f; i++ ){ /* Change %% with % */
>               if( cParFrm[i] == '%' && cParFrm[i + 1] == '%' ){
>                  memcpy( cParFrm + i, cParFrm + i + 1, f - i );
>                  f--;
>               }
>            }  /* i == strlen(cParFrm) */
>            if( iCOut ){
>               for( f = 0; f < i; f++ ){  /* Erase %n */
>                  if( cParFrm[f] == '%' && cParFrm[f + 1] == 'n' ){
>                     memcpy( cParFrm + f, cParFrm + f + 2, i - f - 1 );
>                     break;
>                  }
>               }  /* f == Index % of n */
>               if( f < i ){
>                  i -= 2;  /* i == strlen(cParFrm) */
>                  hb_itemPutNL( pItmPar, ulResPos + f );
>               }else{
>                  iErrorPar = 1; break;
>               }
>            }
>            if( (f = i + sizeof(char)) > ulMaxBuf ){
>               ulMaxBuf += f + DK_INCBUF;
>               cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>            }
>            strcpy( cBuffer, cParFrm ); s = i;
>
>         }else{   /* Par Item sprintf() Out */
>
> #        ifdef HB_IT_NULL
>            if( (HB_IS_NIL( pItmPar ) || HB_IS_NULL( pItmPar )) ){
> #        else
>            if( HB_IS_NIL( pItmPar ) ){
> #        endif
>               ulWidth = f; IsIndW = IsIndP = 0;
>               while( cParFrm[--f] != '%' );
>               iCOut = cParFrm[f + 1] = 's'; /* Change format with %s  
> */
>               memcpy( cParFrm + f + 2, cParFrm + ulWidth, i -  
> ulWidth + 1 );
>               i -= ulWidth - f - 2;   /* i == strlen(cParFrm) */
>               if( (f = i + 5) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;   /* size of "NULL" == 5  
> */
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               hb_itemPutCL( pItmPar, "NULL", 4 );
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else if( HB_IS_STRING( pItmPar ) && (iCOut == 's' ||  
> iCOut == 'S') ){
>               if( IsType ) STAItm( pItmPar );
>               f = hb_itemGetCLen( pItmPar );
>               if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else if( HB_IS_DATE( pItmPar ) && iCOut == 's' ){
>               char cDTBuf[ 19 ], cDTFrm[ 28 ]; /* 26 + 2 if %t and  
> change format time */
>
> #           ifdef __XHARBOUR__
>               if( HB_IS_DATETIME( pItmPar ) ){
>                  hb_datetimeFormat( hb_itemGetDTS( pItmPar,  
> cDTBuf ), cDTFrm, "YYYY-MM-DD", DK_FRMTIM );
>               }else
> #           endif
>                  hb_dateFormat( hb_itemGetDS( pItmPar, cDTBuf ),  
> cDTFrm, "YYYY-MM-DD" );
>
>               if( (f = i + HB_MAX(ulWidth, 28)) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               hb_itemPutC( pItmPar, cDTFrm );
>               if( IsType ) STAItm( pItmPar );
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else if( HB_IS_LOGICAL( pItmPar ) ){
>               if( (f = i + (iCOut == 's' ? HB_MAX(ulWidth, 6) :  
> HB_MAX(ulWidth, DK_BLKBUF))) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;   /* size of "FALSE" ==  
> 6 */
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               if( iCOut == 's' ){
>                  hb_itemPutC( pItmPar, (hb_itemGetL( pItmPar ) ?  
> "TRUE" : "FALSE") );
>               }
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else if( iCOut == 's' ){
>               char *cTrimStr, *cStr = hb_itemStr( pItmPar, NULL,  
> NULL );
>
>               if( cStr ){
>                  f = strlen( cStr ); cTrimStr = hb_strLTrim( cStr,  
> &f );
>                  if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
>                     ulMaxBuf += f + DK_INCBUF;
>                     cBuffer = (char *)hb_xrealloc( cBuffer,  
> ulMaxBuf );
>                  }
>                  hb_itemPutCL( pItmPar, cTrimStr, f );
>                  s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut,  
> IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );
>                  hb_xfree( cStr );
>               }else{
>                  iErrorPar = p + 2; break;
>               }
>
>            }else if( HB_IS_NUMERIC( pItmPar ) ||  
> HB_IS_POINTER( pItmPar ) ){
>               if( (f = i + HB_MAX(ulWidth, DK_BLKBUF)) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else{
>               iErrorPar = p + 2; break;
>            }
>         }
>
>         if( (f = s + ulResPos + sizeof(char)) > ulMaxRes ){
>            ulMaxRes += f + DK_INCRES;
>            cRes = (char *)hb_xrealloc( cRes, ulMaxRes );
>         }
>         strcpy( cRes + ulResPos, cBuffer ); ulResPos += s;
>
>         if( (ulParPos = c - cItmFrm) >= ulItmFrm ){
>            break;   /* No more Par Format */
>         }
>      }
>      hb_xfree( cParFrm ); hb_xfree( cBuffer );
>      if( iErrorPar ){
>         hb_xfree( cRes );
>         if( iErrorPar > 1 ){
>            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, "_SPD", 2,  
> hb_paramError( 1 ), hb_paramError( iErrorPar ) );
>         }else{
>            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, "_SPD", 1,  
> hb_paramError( 1 ) );
>         }
>      }else{
>         cRes = hb_strRemEscSeq( cRes, &ulResPos );
>         hb_retclen( cRes, ulResPos );
>         hb_xfree( cRes );
>      }
>   }
> }
> /* END */
> 	
> #if 0
> /*
> * Little change in Harbour hb_strRemEscSeq() to complete escape  
> sequences ANSI C
> */
> HB_EXPORT char * hb_strRemEscSeq( char *str, ULONG *pLen )
> {
>   ULONG ul = *pLen, ulStripped = 0;
>   char *ptr, *dst, ch;
>
>   ptr = dst = str;
>   while( ul )
>   {
>      if( *ptr == '\\' )
>         break;
>      ++ptr; ++dst;
>      --ul;
>   }
>
>   while( ul-- )
>   {
>      ch = *ptr++;
>      if( ch == '\\' )
>      {
>         ++ulStripped;
>         if( ul )
>         {
>            ul--;
>            ch = *ptr++;
>            switch( ch )
>            {
>               case 'a': ch = '\a'; break;
>               case 'b':
>                  ch = '\b';
>                  break;
>               case 'f': ch = '\f'; break;
>               case 'n':
>                  ch = '\n';
>                  break;
>               case 'r':
>                  ch = '\r';
>                  break;
>               case 't':
>                  ch = '\t';
>                  break;
>               case 'v': ch = '\v'; break;
>               case '0':
>               case '1':
>               case '2':
>               case '3':
>               case '4':
>               case '5':
>               case '6':
>               case '7':
>                  ch -= '0';
>                  if( ul && *ptr >= '0' && *ptr <= '7' )
>                  {
>                     ch = ( ch << 3 ) | ( *ptr++ - '0' );
>                     ++ulStripped;
>                     if( --ul && *ptr >= '0' && *ptr <= '7' )
>                     {
>                        ch = ( ch << 3 ) | ( *ptr++ - '0' );
>                        ++ulStripped;
>                        --ul;
>                     }
>                  }
>                  break;
>               case 'x':
>                  ch = 0;
>                  while( ul )
>                  {
>                     if( *ptr >= '0' && *ptr <= '9' )
>                        ch = ( ch << 4 ) | ( *ptr++ - '0' );
>                     else if( *ptr >= 'A' && *ptr <= 'F' )
>                        ch = ( ch << 4 ) | ( *ptr++ - 'A' + 10 );
>                     else if( *ptr >= 'a' && *ptr <= 'f' )
>                        ch = ( ch << 4 ) | ( *ptr++ - 'a' + 10 );
>                     else
>                        break;
>                     ++ulStripped;
>                     --ul;
>                  }
>                  break;
>               default: /* case '\\': // Also any ch */
>                  break;
>            }
>         }
>         else
>            break;
>
>      }
>      *dst++ = ch;
>   }
>
>   if( ulStripped )
>   {
>      *dst = '\0';
>      *pLen -= ulStripped;
>   }
>
>   return str;
> }
> #endif
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Jun  8 10:55:17 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  8 10:56:24 2008
Subject: [Harbour] 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <484BEA96.40101@ya.com>
References: <01c8c891$Blat.v2.6.2$c42517bc$19c08d8bc010@127.0.0.1>
	<484BEA96.40101@ya.com>
Message-ID: <FABECC9C-2B6B-4D9B-B5D7-8393A474E40F@syenar.hu>

Hi Javier,

One more thing (well two).

IMO to make this function more universal and even easier
to use and update (and usable for someone needing it for
translated text formatting), I think it would very
nice if there would be a possibility to specify the
_ordinals_ of those format strings:

cName := "Bond"; cCity := "Tokyo"
_SPD( "Hi, I'm %#01s from %#02s.", cName, cCity ) -> "Hi, I'm Bond  
from Tokyo"
_SPD( "Hi, I'm from %#02s, my name is %#01s.", cName, cCity ) -> "Hi,  
I'm from Tokyo, my name is Bond"

[ I seem to recall there is a standard way to achieve this
in printf(), but I didn't find any specifics, so I might be
wrong. ]

To bring this to another level - but this is even more
out of scope of this one function -, it would be great
to have something where you can replace _named_ strings:

_FILL( "INSERT INTO stuff ( stuff_ID, stuff_Name ) VALUES ( %stuff_ID 
%, %stuff_Name% )",;
    { "stuff_ID" => cStuff_ID, "stuff_Name" => cStuff_Name } )

(or something along this line)

This could be useful for a number of purposes. Basically
a light form of template engine. Maybe it would be best
to mimic some existing standards for the format strings.

Brgds,
Viktor


On 2008.06.08., at 16:20, Javier wrote:

> Tanks Viktor,
> Please, change with more complete function.
>
> Incorporate a new converter "%t" to print ANSI SQL's Strings and  
> typing Dates and Numbers according to FIXED DECIMALS .-
>
> ? _Spd( "String's C to %t and Dates %t, Number %t \n", "String's  
> ANSI SQL", Date(), 3.141516 )
>
> Print NULL always if the parameter is NIL or NULL .-
>
> ? _Spd( "Sample of nil parameter for print SQL Field DECIMAL(18,6) =  
> %18.6f \n", nil )
>
> Complete functionality of sprintf() safe, like C, Java, PHP, Perl,  
> Python, ... .-
>
> ? _Spd( "Phi = %.*f \n", 10, (1 + 5**0.5) / 2 )
>
> Thanks so much.
> Xavi
>
> Szak?ts Viktor escribi?:
>> 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>>   * contrib/hbmisc/common.mak
>>   * contrib/hbmisc/Makefile
>>   - contrib/hbmisc/mathx.c
>>   + contrib/hbmisc/spd.c
>>     - Removed math functions equivalent with CT3 ones.
>>       INCOMPATIBLE: If your code used CEIL() from hbmisc,  
>> please                      update it to use CEILING() from hbct.  
>> Functionality                      is the same.
>>     + Added _SPD() function.
>>       Contributed by Javier (jarabal at gmail.com)
>> --
>> Brgds,
>> Viktor
>>
>>
> /*
> * Harbour Project source code:
> * _SPD() function
> *
> * Copyright 2008 Xavi <jarabal@gmail.com>
> *
> * This program is free software; you can redistribute it and/or modify
> * it under the terms of the GNU General Public License as published by
> * the Free Software Foundation; either version 2, or (at your option)
> * any later version.
> *
> * This program is distributed in the hope that it will be useful,
> * but WITHOUT ANY WARRANTY; without even the implied warranty of
> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
> * GNU General Public License for more details.
> *
> * You should have received a copy of the GNU General Public License
> * along with this software; see the file COPYING.  If not, write to
> * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
> * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/) 
> .
> *
> * As a special exception, the Harbour Project gives permission for
> * additional uses of the text contained in its release of Harbour.
> *
> * The exception is that, if you link the Harbour libraries with other
> * files to produce an executable, this does not by itself cause the
> * resulting executable to be covered by the GNU General Public  
> License.
> * Your use of that executable is in no way restricted on account of
> * linking the Harbour library code into it.
> *
> * This exception does not however invalidate any other reasons why
> * the executable file might be covered by the GNU General Public  
> License.
> *
> * This exception applies only to the code released by the Harbour
> * Project under the name Harbour.  If you copy code from other
> * Harbour Project or Free Software Foundation releases into a copy of
> * Harbour, as the General Public License permits, the exception does
> * not apply to the code that you add in this way.  To avoid misleading
> * anyone as to the status of such modified files, you must delete
> * this exception notice from them.
> *
> * If you write modifications of your own for Harbour, it is your  
> choice
> * whether to permit this exception to apply to your modifications.
> * If you do not wish that, delete this exception notice.
> *
> */
>
> #include "hbapi.h"
> #include "hbapiitm.h"
> #include "hbapierr.h"
> #include "hbdate.h"
>
> static void STAItm( PHB_ITEM pItmPar )
> {
>   ULONG i, ulItmPar = hb_itemGetCLen( pItmPar );
>   char *cRes, *c, *cItmPar = hb_itemGetCPtr( pItmPar );
>
>   for( i = 3, c = cItmPar; *c; c++ ){
>      if( *c == '\'' ) i++;   /* Count ' Tokens */
>   }
>   cRes = (char *)hb_xgrab( ulItmPar + i * sizeof(char) );
>   i = 0; c = cItmPar; cRes[i++] = '\'';
>   while( *c ){
>      if( *c == '\'' ) cRes[i++] = '\'';
>      cRes[i++] = *c++;
>   }
>   cRes[i++] = '\''; /* cRes[i] = '\0'; */
>   hb_itemPutCPtr( pItmPar, cRes, i );
> }
>
> static ULONG SCItm( char *cBuffer, ULONG ulMaxBuf, char *cParFrm,  
> int iCOut, int IsIndW, int iIndWidth, int IsIndP, int iIndPrec,  
> PHB_ITEM pItmPar )
> {
>   ULONG s = 0;
>
>   if( IsIndW && IsIndP ){
>      switch( iCOut ){
>      case 'p':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth,  
> iIndPrec, hb_itemGetPtr( pItmPar ) );
>         break;
>      case 's': case 'S':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth,  
> iIndPrec, hb_itemGetCPtr( pItmPar ) );
>         break;
>      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a':  
> case 'A':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth,  
> iIndPrec, hb_itemGetND( pItmPar ) );
>         break;
>      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u':  
> case 'x': case 'X':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth,  
> iIndPrec, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) :  
> hb_itemGetNI( pItmPar )) );
>      }
>   }else if( IsIndW || IsIndP ){
>      int iInd = (IsIndW ? iIndWidth : iIndPrec);
>
>      switch( iCOut ){
>      case 'p':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd,  
> hb_itemGetPtr( pItmPar ) );
>         break;
>      case 's': case 'S':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd,  
> hb_itemGetCPtr( pItmPar ) );
>         break;
>      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a':  
> case 'A':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd,  
> hb_itemGetND( pItmPar ) );
>         break;
>      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u':  
> case 'x': case 'X':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd,  
> (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) :  
> hb_itemGetNI( pItmPar )) );
>      }
>   }else{
>      switch( iCOut ){
>      case 'p':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm,  
> hb_itemGetPtr( pItmPar ) );
>         break;
>      case 's': case 'S':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm,  
> hb_itemGetCPtr( pItmPar ) );
>         break;
>      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a':  
> case 'A':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm,  
> hb_itemGetND( pItmPar ) );
>         break;
>      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u':  
> case 'x': case 'X':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm,  
> (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) :  
> hb_itemGetNI( pItmPar )) );
>      }
>   }
>   return s;
> }
>
> / 
> *******************************************************************************
> * ANSI C sprintf() for ANSI SQL with DATE, DATETIME, LOGICAL, NIL,  
> NUMERIC
> *  
> ------------------------------------------------------------------------
> * cRes := _SPD( cFrm, ... )
> * cFrm : %s for DATE = YYYY-MM-DD, DATETIME = YYYY-MM-DD HH:MM:SS
> *        %t for DATE = 'YYYY-MM-DD', DATETIME = 'YYYY-MM-DD HH:MM:SS'
> *        %t for STRING = 'String''s ANSI SQL'
> *        %t & %s for LOGICAL = TRUE | FALSE, %d for LOGICAL = 1 | 0
> *        %t & %s is also for NUMERIC with FIXED DECIMALS
> *        NIL or HB_IT_NULL = NULL
> *
> * NOTE .-
> * Remove C ESC sequences and converts them to Clipper chars in cRes.
> *    OutStd( _SPD( 'Hello\nworld!' ) ) => like printf( "Hello 
> \nworld!" );
> * Accepts conversion inside if variable is passed by reference.
> *    Local xDate := Date(); _SPD('%s', @xDate) => xDate ==  
> '2008-05-19'
> *
> * TODO: Support for $ in format %.
> *******************************************************************************/
>
> #define DK_INCRES 1024
> #define DK_INCBUF 512
> #define DK_BLKBUF HB_MAX_DOUBLE_LENGTH   /* Expense of DK_INCBUF */
> #define DK_FRMTIM "HH:MM:SS"
>
> HB_FUNC( _SPD )
> {
>   ULONG ulItmFrm;
>   char *cRes, *cItmFrm;
>   int argc = hb_pcount() - 1;
>   PHB_ITEM pItmFrm = hb_param( 1, HB_IT_STRING );
>
>   if( !pItmFrm || (cItmFrm = hb_itemGetCPtr( pItmFrm )) == NULL ){
>      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, "_SPD", 1,  
> hb_paramError( 1 ) );
>   }else if( !(ulItmFrm = hb_itemGetCLen( pItmFrm )) ){
>      hb_retclen( "", 0 );
>   }else if( !argc ){
>      cRes = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
>      memcpy( cRes, cItmFrm, ulItmFrm + sizeof(char) );
>      cRes = hb_strRemEscSeq( cRes, &ulItmFrm );
>      hb_retclen( cRes, ulItmFrm );
>      hb_xfree( cRes );
>   }else{
>      PHB_ITEM pItmPar;
>      char *cBuffer, *cParFrm, *c;
>      int p, iCOut, IsType, IsIndW, IsIndP, iIndWidth, iIndPrec,  
> iErrorPar = 0;
>      ULONG s, f, i, ulWidth, ulParPos = 0, ulResPos = 0, ulMaxBuf =  
> DK_INCBUF, ulMaxRes = DK_INCRES;
>      static char cToken[] = "stcdiouxXaAeEfgGpnSC";
>
>      cRes = (char *)hb_xgrab( ulMaxRes );
>      cBuffer = (char *)hb_xgrab( ulMaxBuf );
>      cParFrm = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
>
>      for( p = 0; p < argc; p++ ){
>
>         c = cItmFrm + ulParPos;
>         f = i = ulWidth = iCOut = IsType = IsIndW = IsIndP = 0;
>         do{   /* Get Par Format */
>            if( f && *c == '%' ){
>               f = ulWidth = IsIndW = IsIndP = 0;
>            }else if( f == 1 && !ulWidth && *c >= '0' && *c <= '9' ){
>               ulWidth = atol( c );
>            }else if( f && *c == '.' ){
>               if( f++ == 2 ) iErrorPar = 1;
>            }else if( f && *c == '*' ){
>               if( f == 2 ){
>                  if( IsIndP ){
>                     f = 3; iErrorPar = 1;
>                  }else{
>                     IsIndP = 1;
>                  }
>               }else if( !IsIndW ){
>                  ulWidth = IsIndW = 1;
>               }else{
>                  f = 3; iErrorPar = 1;
>               }
>            }else if( f && *c == '$' ){
>               f = 3; iErrorPar = 1;   /* TO DO */
>            }else if( f && strchr(cToken, *c) ){
>               f = 3; iCOut = *c;
>            }else if( *c == '%' ){
>               f = 1;
>            }
>            cParFrm[i++] = *c++;
>         }while( f < 3 && *c ); cParFrm[f = i] = '\0';
>         if( iErrorPar ) break;
>
>         if( iCOut == 't' ){
>            if( cParFrm[f - 2] == '%' ){
>               IsType = 1; iCOut = cParFrm[f - 1] = 's';
>            }else{
>               iErrorPar = 1; break;
>            }
>         }
>
>         if( IsIndW  ){ /* Get Par Indirectly Width Item */
>            pItmPar = hb_param( p + 2, HB_IT_INTEGER );
>            if( pItmPar ){
>               if( (iIndWidth = hb_itemGetNI( pItmPar )) < 0 ){
>                  ulWidth = -iIndWidth;
>               }else{
>                  ulWidth = iIndWidth;
>               }
>            }else{
>               iErrorPar = 1; break;
>            }
>            p++;
>         }
>
>         if( IsIndP ){  /* Get Par Indirectly Precision Item */
>            pItmPar = hb_param( p + 2, HB_IT_INTEGER );
>            if( pItmPar ){
>               iIndPrec = hb_itemGetNI( pItmPar );
>            }else{
>               iErrorPar = 1; break;
>            }
>            p++;
>         }
>
>         if( *c && p == argc - 1 ){ /* No more Par Items */
>            do{ cParFrm[i++] = *c; }while( *c++ ); i--;
>         }  /* i == strlen(cParFrm) */
>
>         pItmPar = hb_param( p + 2, HB_IT_ANY );   /* Get Par Item */
>         if( !pItmPar ){
>            iErrorPar = 1; break;
>         }
>
>         if( !iCOut || iCOut == 'n' ){ /* Par Text Out */
>
>            for( f = i, i = 0; i < f; i++ ){ /* Change %% with % */
>               if( cParFrm[i] == '%' && cParFrm[i + 1] == '%' ){
>                  memcpy( cParFrm + i, cParFrm + i + 1, f - i );
>                  f--;
>               }
>            }  /* i == strlen(cParFrm) */
>            if( iCOut ){
>               for( f = 0; f < i; f++ ){  /* Erase %n */
>                  if( cParFrm[f] == '%' && cParFrm[f + 1] == 'n' ){
>                     memcpy( cParFrm + f, cParFrm + f + 2, i - f - 1 );
>                     break;
>                  }
>               }  /* f == Index % of n */
>               if( f < i ){
>                  i -= 2;  /* i == strlen(cParFrm) */
>                  hb_itemPutNL( pItmPar, ulResPos + f );
>               }else{
>                  iErrorPar = 1; break;
>               }
>            }
>            if( (f = i + sizeof(char)) > ulMaxBuf ){
>               ulMaxBuf += f + DK_INCBUF;
>               cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>            }
>            strcpy( cBuffer, cParFrm ); s = i;
>
>         }else{   /* Par Item sprintf() Out */
>
> #        ifdef HB_IT_NULL
>            if( (HB_IS_NIL( pItmPar ) || HB_IS_NULL( pItmPar )) ){
> #        else
>            if( HB_IS_NIL( pItmPar ) ){
> #        endif
>               ulWidth = f; IsIndW = IsIndP = 0;
>               while( cParFrm[--f] != '%' );
>               iCOut = cParFrm[f + 1] = 's'; /* Change format with %s  
> */
>               memcpy( cParFrm + f + 2, cParFrm + ulWidth, i -  
> ulWidth + 1 );
>               i -= ulWidth - f - 2;   /* i == strlen(cParFrm) */
>               if( (f = i + 5) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;   /* size of "NULL" == 5  
> */
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               hb_itemPutCL( pItmPar, "NULL", 4 );
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else if( HB_IS_STRING( pItmPar ) && (iCOut == 's' ||  
> iCOut == 'S') ){
>               if( IsType ) STAItm( pItmPar );
>               f = hb_itemGetCLen( pItmPar );
>               if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else if( HB_IS_DATE( pItmPar ) && iCOut == 's' ){
>               char cDTBuf[ 19 ], cDTFrm[ 28 ]; /* 26 + 2 if %t and  
> change format time */
>
> #           ifdef __XHARBOUR__
>               if( HB_IS_DATETIME( pItmPar ) ){
>                  hb_datetimeFormat( hb_itemGetDTS( pItmPar,  
> cDTBuf ), cDTFrm, "YYYY-MM-DD", DK_FRMTIM );
>               }else
> #           endif
>                  hb_dateFormat( hb_itemGetDS( pItmPar, cDTBuf ),  
> cDTFrm, "YYYY-MM-DD" );
>
>               if( (f = i + HB_MAX(ulWidth, 28)) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               hb_itemPutC( pItmPar, cDTFrm );
>               if( IsType ) STAItm( pItmPar );
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else if( HB_IS_LOGICAL( pItmPar ) ){
>               if( (f = i + (iCOut == 's' ? HB_MAX(ulWidth, 6) :  
> HB_MAX(ulWidth, DK_BLKBUF))) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;   /* size of "FALSE" ==  
> 6 */
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               if( iCOut == 's' ){
>                  hb_itemPutC( pItmPar, (hb_itemGetL( pItmPar ) ?  
> "TRUE" : "FALSE") );
>               }
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else if( iCOut == 's' ){
>               char *cTrimStr, *cStr = hb_itemStr( pItmPar, NULL,  
> NULL );
>
>               if( cStr ){
>                  f = strlen( cStr ); cTrimStr = hb_strLTrim( cStr,  
> &f );
>                  if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
>                     ulMaxBuf += f + DK_INCBUF;
>                     cBuffer = (char *)hb_xrealloc( cBuffer,  
> ulMaxBuf );
>                  }
>                  hb_itemPutCL( pItmPar, cTrimStr, f );
>                  s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut,  
> IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );
>                  hb_xfree( cStr );
>               }else{
>                  iErrorPar = p + 2; break;
>               }
>
>            }else if( HB_IS_NUMERIC( pItmPar ) ||  
> HB_IS_POINTER( pItmPar ) ){
>               if( (f = i + HB_MAX(ulWidth, DK_BLKBUF)) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else{
>               iErrorPar = p + 2; break;
>            }
>         }
>
>         if( (f = s + ulResPos + sizeof(char)) > ulMaxRes ){
>            ulMaxRes += f + DK_INCRES;
>            cRes = (char *)hb_xrealloc( cRes, ulMaxRes );
>         }
>         strcpy( cRes + ulResPos, cBuffer ); ulResPos += s;
>
>         if( (ulParPos = c - cItmFrm) >= ulItmFrm ){
>            break;   /* No more Par Format */
>         }
>      }
>      hb_xfree( cParFrm ); hb_xfree( cBuffer );
>      if( iErrorPar ){
>         hb_xfree( cRes );
>         if( iErrorPar > 1 ){
>            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, "_SPD", 2,  
> hb_paramError( 1 ), hb_paramError( iErrorPar ) );
>         }else{
>            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, "_SPD", 1,  
> hb_paramError( 1 ) );
>         }
>      }else{
>         cRes = hb_strRemEscSeq( cRes, &ulResPos );
>         hb_retclen( cRes, ulResPos );
>         hb_xfree( cRes );
>      }
>   }
> }
> /* END */
> 	
> #if 0
> /*
> * Little change in Harbour hb_strRemEscSeq() to complete escape  
> sequences ANSI C
> */
> HB_EXPORT char * hb_strRemEscSeq( char *str, ULONG *pLen )
> {
>   ULONG ul = *pLen, ulStripped = 0;
>   char *ptr, *dst, ch;
>
>   ptr = dst = str;
>   while( ul )
>   {
>      if( *ptr == '\\' )
>         break;
>      ++ptr; ++dst;
>      --ul;
>   }
>
>   while( ul-- )
>   {
>      ch = *ptr++;
>      if( ch == '\\' )
>      {
>         ++ulStripped;
>         if( ul )
>         {
>            ul--;
>            ch = *ptr++;
>            switch( ch )
>            {
>               case 'a': ch = '\a'; break;
>               case 'b':
>                  ch = '\b';
>                  break;
>               case 'f': ch = '\f'; break;
>               case 'n':
>                  ch = '\n';
>                  break;
>               case 'r':
>                  ch = '\r';
>                  break;
>               case 't':
>                  ch = '\t';
>                  break;
>               case 'v': ch = '\v'; break;
>               case '0':
>               case '1':
>               case '2':
>               case '3':
>               case '4':
>               case '5':
>               case '6':
>               case '7':
>                  ch -= '0';
>                  if( ul && *ptr >= '0' && *ptr <= '7' )
>                  {
>                     ch = ( ch << 3 ) | ( *ptr++ - '0' );
>                     ++ulStripped;
>                     if( --ul && *ptr >= '0' && *ptr <= '7' )
>                     {
>                        ch = ( ch << 3 ) | ( *ptr++ - '0' );
>                        ++ulStripped;
>                        --ul;
>                     }
>                  }
>                  break;
>               case 'x':
>                  ch = 0;
>                  while( ul )
>                  {
>                     if( *ptr >= '0' && *ptr <= '9' )
>                        ch = ( ch << 4 ) | ( *ptr++ - '0' );
>                     else if( *ptr >= 'A' && *ptr <= 'F' )
>                        ch = ( ch << 4 ) | ( *ptr++ - 'A' + 10 );
>                     else if( *ptr >= 'a' && *ptr <= 'f' )
>                        ch = ( ch << 4 ) | ( *ptr++ - 'a' + 10 );
>                     else
>                        break;
>                     ++ulStripped;
>                     --ul;
>                  }
>                  break;
>               default: /* case '\\': // Also any ch */
>                  break;
>            }
>         }
>         else
>            break;
>
>      }
>      *dst++ = ch;
>   }
>
>   if( ulStripped )
>   {
>      *dst = '\0';
>      *pLen -= ulStripped;
>   }
>
>   return str;
> }
> #endif
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Jun  8 11:47:21 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  8 11:48:25 2008
Subject: [Harbour] 2008-06-07 15:32 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
In-Reply-To: <17713796.post@talk.nabble.com>
References: <17713796.post@talk.nabble.com>
Message-ID: <B6F2198B-6D14-4CE0-856D-6305ECB543E0@syenar.hu>

Hi Pritpal,

Is there any way to reduce flicker? I've tried
using InvertRect() on the previous region instead
of RedrawWindow() and it's better, but with some
artifacts to solve (similar to those in the official
NTVDM).

Can we "buffer" these GDI calls?

[ See modified test version attached ]

Brgds,
Viktor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: gtwvt.zip
Type: application/zip
Size: 16910 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080608/05287f16/gtwvt.zip
-------------- next part --------------


On 2008.06.08., at 0:41, Pritpal Bedi wrote:

>
> 2008-06-07 15:32 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
>   * harbour/source/rtl/gtwvt/gtwvt.c
>   * harbour/source/rtl/gtwvt/gtwvt.h
>     + Added feature to copy text from WVT console just like any  
> console
> window.
>     /*
>        1. Click on SysMenu icon at the left on Title Bar
>        2. Click on "Mark" option
>        3. Place cursor on top of the text you wish to copy.
>        4. Keep left button down and drag to desired end of console  
> text.
>        5. Release left button.
>        6. Right click anywhere "Paste" operation is supported.
>        7. Copies text is there.
>
>        You can drag the mouse in any direction, copied text will  
> always be
> in order.
>     */
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/2008-06-07-15%3A32-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17713796p17713796.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Sun Jun  8 12:00:01 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Jun  8 12:00:05 2008
Subject: [Harbour] 2008-06-08 08:57 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
Message-ID: <17720143.post@talk.nabble.com>


2008-06-08 08:57 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
   * harbour/source/rtl/gtwvt/gtwvt.c
     + Added functionality to disable "Mark and Copy" prompt in the SysMenu.
       Include Function Hb_NoCopyConsole() if you do not want this
functionality.

     + Added funtionality to resize the console window with mouse
operations.
       /*
          Resizing of console is enabled by default. 
          To supress this behavior include a dummy function
Hb_NoResizableWindow()

          Resizing is available in both directions. I mean horizontal as
well as verticle.
          Maximize button is also enabled. Click it to see to your surprize
that now
          console window will provide you DOS like terminal.

          However there is a bug in maximized operation, last row does not
show up correct.
          I feel it belongs to some miscalculation, but what that is I am
unable to locate, so far.
          Please experiment.
       */
   * harbour/tests/wvtext.prg
     * Updated to new HB_GT*_ constants and new functionality.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-08-08%3A57-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17720143p17720143.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From dbtopas at dbtopas.lt  Sun Jun  8 12:43:20 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sun Jun  8 12:41:18 2008
Subject: [Harbour] 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <FABECC9C-2B6B-4D9B-B5D7-8393A474E40F@syenar.hu>
References: <01c8c891$Blat.v2.6.2$c42517bc$19c08d8bc010@127.0.0.1>	<484BEA96.40101@ya.com>
	<FABECC9C-2B6B-4D9B-B5D7-8393A474E40F@syenar.hu>
Message-ID: <484C0C28.1020506@dbtopas.lt>


> ... I think it would very
> nice if there would be a possibility to specify the
> _ordinals_ of those format strings:
> 
> cName := "Bond"; cCity := "Tokyo"
> _SPD( "Hi, I'm %#01s from %#02s.", cName, cCity ) -> "Hi, I'm Bond from 
> Tokyo"
> _SPD( "Hi, I'm from %#02s, my name is %#01s.", cName, cCity ) -> "Hi, 
> I'm from Tokyo, my name is Bond"
> 
> [ I seem to recall there is a standard way to achieve this
> in printf(), but I didn't find any specifics, so I might be
> wrong. ]

Hi,


the correct syntax is: %1$s, etc. Example:
      "Only %2$d bytes free on '%1$s'."
is semantically equivalent to
      "'%s' has only %d bytes free."

The more detail docs is here: 
http://www.opengroup.org/onlinepubs/009695399/functions/fprintf.html


Best regards,
Mindaugas
From jarabal at ya.com  Sun Jun  8 12:47:43 2008
From: jarabal at ya.com (Javier)
Date: Sun Jun  8 12:48:25 2008
Subject: [Harbour] 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <FABECC9C-2B6B-4D9B-B5D7-8393A474E40F@syenar.hu>
References: <01c8c891$Blat.v2.6.2$c42517bc$19c08d8bc010@127.0.0.1>	<484BEA96.40101@ya.com>
	<FABECC9C-2B6B-4D9B-B5D7-8393A474E40F@syenar.hu>
Message-ID: <484C0D2F.7090509@ya.com>

Viktor,

 > cName := "Bond"; cCity := "Tokyo"
 > _SPD( "Hi, I'm %#01s from %#02s.", cName, cCity ) -> "Hi, I'm Bond 
from Tokyo"
 > _SPD( "Hi, I'm from %#02s, my name is %#01s.", cName, cCity ) -> "Hi, 
I'm from Tokyo, my name is Bond"

This is TO DO, do you want do it?
My problem is that I have limited time, as we all suppose. :)

ANSI C99 can explicitly specify what argument is taken at each place 
where it is needed an argument, writing %m$ instead of  % and *m$ 
instead of  %, where the entire decimal m denotes position in the 
argument list of desired argument, starting with 1. Therefore, 
printf("%*d", width, num); and printf("%2$*1$d", width, num); are 
equivalent. The second style allows repeated references to the same 
argument. The standard C99 does not allow mixing both styles.
-----------------------
ANSI C99 se puede especificar expl?citamente qu? argumento se toma, en 
cada lugar donde se necesite un argumento, escribiendo `%m$' en lugar de 
`%' y `*m$' en lugar de `*', donde el entero decimal m denota la 
posici?n en la lista de argumentos del argumento deseado, empezando por 
1. Por tanto, printf("%*d", width, num); y printf("%2$*1$d", width, 
num); son equivalentes. El segundo estilo permite referencias repetidas 
al mismo argumento. El est?ndar C99 no permite mezclar ambos estilos.
http://es.tldp.org/Paginas-manual/man-pages-es-1.28/man3/printf.3.html
-----------------------
In my case, the necessity of the function is mount SQL sentences in the 
same way that in C with some help.
New functionality or improvements in benefits are welcome: this is Open 
Source.
About the name I think it should be the Harbour's community who name, 
_SPD is just the name that I have given.

Best regards
Xavi

Szak?ts Viktor escribi?:
> Hi Javier,
>
> One more thing (well two).
>
> IMO to make this function more universal and even easier
> to use and update (and usable for someone needing it for
> translated text formatting), I think it would very
> nice if there would be a possibility to specify the
> _ordinals_ of those format strings:
>
> cName := "Bond"; cCity := "Tokyo"
> _SPD( "Hi, I'm %#01s from %#02s.", cName, cCity ) -> "Hi, I'm Bond 
> from Tokyo"
> _SPD( "Hi, I'm from %#02s, my name is %#01s.", cName, cCity ) -> "Hi, 
> I'm from Tokyo, my name is Bond"
>
> [ I seem to recall there is a standard way to achieve this
> in printf(), but I didn't find any specifics, so I might be
> wrong. ]
>
> To bring this to another level - but this is even more
> out of scope of this one function -, it would be great
> to have something where you can replace _named_ strings:
>
> _FILL( "INSERT INTO stuff ( stuff_ID, stuff_Name ) VALUES ( 
> %stuff_ID%, %stuff_Name% )",;
>    { "stuff_ID" => cStuff_ID, "stuff_Name" => cStuff_Name } )
>
> (or something along this line)
>
> This could be useful for a number of purposes. Basically
> a light form of template engine. Maybe it would be best
> to mimic some existing standards for the format strings.
>
> Brgds,
> Viktor
From bedipritpal at hotmail.com  Sun Jun  8 12:48:56 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Jun  8 12:49:00 2008
Subject: [Harbour] 2008-06-07 15:32 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
In-Reply-To: <B6F2198B-6D14-4CE0-856D-6305ECB543E0@syenar.hu>
References: <17713796.post@talk.nabble.com>
	<B6F2198B-6D14-4CE0-856D-6305ECB543E0@syenar.hu>
Message-ID: <17720615.post@talk.nabble.com>


Hello


Szak?ts Viktor wrote:
> 
> Is there any way to reduce flicker? I've tried
> using InvertRect() on the previous region instead
> of RedrawWindow() and it's better, but with some
> artifacts to solve (similar to those in the official
> NTVDM).
> 
> Can we "buffer" these GDI calls?
> 
> [ See modified test version attached ]
> 

With your modified code I see more flicker. Or I may be missing something.

I am looking into alternatives.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/2008-06-07-15%3A32-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17713796p17720615.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sun Jun  8 13:05:25 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Jun  8 13:05:28 2008
Subject: [Harbour] R: 2008-06-07 15:32 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
In-Reply-To: <003301c8c947$ed8419ae$0400a8c0@deltain.net>
References: <003301c8c947$ed8419ae$0400a8c0@deltain.net>
Message-ID: <17720751.post@talk.nabble.com>


Hi

> I suggest add info in  a demo

?

> Is posible disable?

Done. Declare Function Hb_NoCopyConsole();Return Nil in your appln.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/R%3A-2008-06-07-15%3A32-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17716936p17720751.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sun Jun  8 13:06:54 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  8 13:07:56 2008
Subject: [Harbour] 2008-06-08 08:57 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
In-Reply-To: <17720143.post@talk.nabble.com>
References: <17720143.post@talk.nabble.com>
Message-ID: <C0AF60F1-DF2C-480A-9F17-6AFC1471B87A@syenar.hu>

Many thanks Pripal.

After testing here are a few observations:
- If you move the cursor to the edge of the screen while resizing,
   the window disappears.
- While resizing, I've seen the font codepage to change. (maybe because
   the font changed too, I'm not sure)
   On init I change to "Courier", size 14, and the next proportionally
   smaller step messes the codepage.
- When resizing to a small size, part of the screen gets duplicated.
- Sometimes when resizing using the top edge, the screen gets into
   a strange state, with the bottom there but empty, trashed and not  
updated.
- There is a great amount of flicker while resizing, I wonder
   if this can be reduced?
- I think that the "hb_nocopyconsole()" and "hb_noresizableWindow()"
   methods better be replaced by something else in the future.
   Question: Can these be made runtime options? (HB_GTI_SPECFLAGS
   options f.e.) For the copy feature we'd need a way to remove and
   readd the sysmenu item. For the resize, maybe the window style
   should be always the same and just toggle the resize feature.
- Can you solve it that if users resize with one of the corners,
   the resize tries to keep the original proportions?

Sorry for so much stuff..

Brgds,
Viktor

On 2008.06.08., at 18:00, Pritpal Bedi wrote:

>
> 2008-06-08 08:57 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
>   * harbour/source/rtl/gtwvt/gtwvt.c
>     + Added functionality to disable "Mark and Copy" prompt in the  
> SysMenu.
>       Include Function Hb_NoCopyConsole() if you do not want this
> functionality.
>
>     + Added funtionality to resize the console window with mouse
> operations.
>       /*
>          Resizing of console is enabled by default.
>          To supress this behavior include a dummy function
> Hb_NoResizableWindow()
>
>          Resizing is available in both directions. I mean horizontal  
> as
> well as verticle.
>          Maximize button is also enabled. Click it to see to your  
> surprize
> that now
>          console window will provide you DOS like terminal.
>
>          However there is a bug in maximized operation, last row  
> does not
> show up correct.
>          I feel it belongs to some miscalculation, but what that is  
> I am
> unable to locate, so far.
>          Please experiment.
>       */
>   * harbour/tests/wvtext.prg
>     * Updated to new HB_GT*_ constants and new functionality.
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/2008-06-08-08%3A57-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17720143p17720143.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Jun  8 13:11:43 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  8 13:12:44 2008
Subject: [Harbour] 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <484C0C28.1020506@dbtopas.lt>
References: <01c8c891$Blat.v2.6.2$c42517bc$19c08d8bc010@127.0.0.1>	<484BEA96.40101@ya.com>
	<FABECC9C-2B6B-4D9B-B5D7-8393A474E40F@syenar.hu>
	<484C0C28.1020506@dbtopas.lt>
Message-ID: <DFAD910D-EAD0-4CA3-8798-197E912DDC33@syenar.hu>

That's it, thanks Mindaugas.

Brgds,
Viktor

On 2008.06.08., at 18:43, Mindaugas Kavaliauskas wrote:

>
>> ... I think it would very
>> nice if there would be a possibility to specify the
>> _ordinals_ of those format strings:
>> cName := "Bond"; cCity := "Tokyo"
>> _SPD( "Hi, I'm %#01s from %#02s.", cName, cCity ) -> "Hi, I'm Bond  
>> from Tokyo"
>> _SPD( "Hi, I'm from %#02s, my name is %#01s.", cName, cCity ) ->  
>> "Hi, I'm from Tokyo, my name is Bond"
>> [ I seem to recall there is a standard way to achieve this
>> in printf(), but I didn't find any specifics, so I might be
>> wrong. ]
>
> Hi,
>
>
> the correct syntax is: %1$s, etc. Example:
>     "Only %2$d bytes free on '%1$s'."
> is semantically equivalent to
>     "'%s' has only %d bytes free."
>
> The more detail docs is here: http://www.opengroup.org/onlinepubs/009695399/functions/fprintf.html
>
>
> Best regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Jun  8 13:31:43 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  8 13:32:45 2008
Subject: R: [Harbour] 2008-06-07 15:32 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
In-Reply-To: <003301c8c947$ed8419ae$0400a8c0@deltain.net>
References: <003301c8c947$ed8419ae$0400a8c0@deltain.net>
Message-ID: <68BAFE19-2015-4CFD-938A-43CB72AB077F@syenar.hu>

Hi Massimo,

I just wonder: What problem can it cause if enabled?

Brgds,
Viktor

On 2008.06.08., at 11:10, Massimo Belgrano wrote:

> I suggest add info in  a demo
> Is posible disable?
>
> ----- Messaggio originale -----
> Da: Pritpal Bedi <bedipritpal@hotmail.com>
> Inviato: domenica 8 giugno 2008 0.41
> A: harbour@harbour-project.org <harbour@harbour-project.org>
> Oggetto: [Harbour] 2008-06-07 15:32 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
>
>
> 2008-06-07 15:32 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
>   * harbour/source/rtl/gtwvt/gtwvt.c
>   * harbour/source/rtl/gtwvt/gtwvt.h
>     + Added feature to copy text from WVT console just like any  
> console
> window.
>     /*
>        1. Click on SysMenu icon at the left on Title Bar
>        2. Click on "Mark" option
>        3. Place cursor on top of the text you wish to copy.
>        4. Keep left button down and drag to desired end of console  
> text.
>        5. Release left button.
>        6. Right click anywhere "Paste" operation is supported.
>        7. Copies text is there.
>
>        You can drag the mouse in any direction, copied text will  
> always be
> in order.
>     */
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/2008-06-07-15%3A32-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17713796p17713796.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Jun  8 13:50:32 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  8 13:51:34 2008
Subject: [Harbour] 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <484C0D2F.7090509@ya.com>
References: <01c8c891$Blat.v2.6.2$c42517bc$19c08d8bc010@127.0.0.1>	<484BEA96.40101@ya.com>
	<FABECC9C-2B6B-4D9B-B5D7-8393A474E40F@syenar.hu>
	<484C0D2F.7090509@ya.com>
Message-ID: <B6022834-8A3A-4866-B0E0-5D8C180CF3D6@syenar.hu>

> > cName := "Bond"; cCity := "Tokyo"
> > _SPD( "Hi, I'm %#01s from %#02s.", cName, cCity ) -> "Hi, I'm Bond  
> from Tokyo"
> > _SPD( "Hi, I'm from %#02s, my name is %#01s.", cName, cCity ) ->  
> "Hi, I'm from Tokyo, my name is Bond"
>
> This is TO DO, do you want do it?

No thanks, I'm doing enough things with Harbour already,
and I personally don't plan to use _SPD().

> My problem is that I have limited time, as we all suppose. :)

Yes, we all have limited time.

Brgds,
Viktor

> In my case, the necessity of the function is mount SQL sentences in  
> the same way that in C with some help.
> New functionality or improvements in benefits are welcome: this is  
> Open Source.
> About the name I think it should be the Harbour's community who  
> name, _SPD is just the name that I have given.
>
> Best regards
> Xavi
>
> Szak?ts Viktor escribi?:
>> Hi Javier,
>>
>> One more thing (well two).
>>
>> IMO to make this function more universal and even easier
>> to use and update (and usable for someone needing it for
>> translated text formatting), I think it would very
>> nice if there would be a possibility to specify the
>> _ordinals_ of those format strings:
>>
>> cName := "Bond"; cCity := "Tokyo"
>> _SPD( "Hi, I'm %#01s from %#02s.", cName, cCity ) -> "Hi, I'm Bond  
>> from Tokyo"
>> _SPD( "Hi, I'm from %#02s, my name is %#01s.", cName, cCity ) ->  
>> "Hi, I'm from Tokyo, my name is Bond"
>>
>> [ I seem to recall there is a standard way to achieve this
>> in printf(), but I didn't find any specifics, so I might be
>> wrong. ]
>>
>> To bring this to another level - but this is even more
>> out of scope of this one function -, it would be great
>> to have something where you can replace _named_ strings:
>>
>> _FILL( "INSERT INTO stuff ( stuff_ID, stuff_Name ) VALUES  
>> ( %stuff_ID%, %stuff_Name% )",;
>>   { "stuff_ID" => cStuff_ID, "stuff_Name" => cStuff_Name } )
>>
>> (or something along this line)
>>
>> This could be useful for a number of purposes. Basically
>> a light form of template engine. Maybe it would be best
>> to mimic some existing standards for the format strings.
>>
>> Brgds,
>> Viktor
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Sun Jun  8 14:11:04 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Jun  8 14:11:08 2008
Subject: [Harbour] 2008-06-08 08:57 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
Message-ID: <17721437.post@talk.nabble.com>


2008-06-08 08:57 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
   * harbour/source/rtl/gtwvt/gtwvt.c
     * Fixed flickering in "Mark and Copy" operation.
       /* Viktor, see the slight change in your code. */

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-08-08%3A57-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17721437p17721437.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sun Jun  8 14:33:48 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Jun  8 14:33:51 2008
Subject: [Harbour] 2008-06-08 08:57 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
In-Reply-To: <C0AF60F1-DF2C-480A-9F17-6AFC1471B87A@syenar.hu>
References: <17720143.post@talk.nabble.com>
	<C0AF60F1-DF2C-480A-9F17-6AFC1471B87A@syenar.hu>
Message-ID: <17721714.post@talk.nabble.com>


Hello Viktor

> Many thanks Pripal.
:-)

> If you move the cursor to the edge of the screen while resizing, the
> window disappears.

Observed.

> While resizing, I've seen the font codepage to change. (maybe because 
> the font changed too, I'm not sure)
>  On init I change to "Courier", size 14, and the next proportionally
>  smaller step messes the codepage.

I did not notice. I have XP Pro on my laptop, so may be. Investigating...

> When resizing to a small size, part of the screen gets duplicated.

Do you say that if console is resized to smaller one the parts are
duplicated? Unable to reproduce...

> Sometimes when resizing using the top edge, the screen gets into
> a strange state, with the bottom there but empty, trashed and not  
> updated.

All some logical calculations. I am trying to find out...

> There is a great amount of flicker while resizing, I wonder
>  if this can be reduced?

Perhaps this can be avoided if we set Windows property just to show the
ghost frame while resizing. I have no clue as to how I can avoid it, so far.

<<<
- I think that the "hb_nocopyconsole()" and "hb_noresizableWindow()"
   methods better be replaced by something else in the future.
   Question: Can these be made runtime options? (HB_GTI_SPECFLAGS
   options f.e.) For the copy feature we'd need a way to remove and
   readd the sysmenu item. For the resize, maybe the window style
   should be always the same and just toggle the resize feature.
>>>

This is easy. Why in future, why not right now. I propose:
Hb_GtInfo( HB_GTI_COPYCONSOLE, TRUE|FALSE ) -> Toggles the SysMeny "Mark &
Copy"
Hb_GtInfo( HB_GTI_RESIZEWINDOW, TRUE|FALSE ) -> Toggles resize feature

If accepted, provide slots for HB_GTI_COPYCONSOLE and HB_GTI_RESIZEWINDOW or
some other define in hbgtinfo.ch, I will do the rest.

> Can you solve it that if users resize with one of the corners,
>  the resize tries to keep the original proportions?

At the moment I have no clue, but constantly on lookups.

> Sorry for so much stuff..

No, it is the beauty of the open source. You initiate and possibility is
there that it will reach the perfection by someone else if you could not do
it.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/2008-06-08-08%3A57-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17720143p17721714.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From myorg63 at mail.ru  Sun Jun  8 14:54:47 2008
From: myorg63 at mail.ru (Petr Chornyj)
Date: Sun Jun  8 14:54:50 2008
Subject: [Harbour] 2008-06-08 08:57 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
In-Reply-To: <17721714.post@talk.nabble.com>
References: <17720143.post@talk.nabble.com>
	<C0AF60F1-DF2C-480A-9F17-6AFC1471B87A@syenar.hu>
	<17721714.post@talk.nabble.com>
Message-ID: <17721914.post@talk.nabble.com>




Pritpal Bedi wrote:
> 
> 
> 
>> Can you solve it that if users resize with one of the corners,
>>  the resize tries to keep the original proportions?
> 
> At the moment I have no clue, but constantly on lookups.
> 
> 

Try it with WM_ENTERSIZEMOVE, WM_EXITSIZEMOVE


Regards,
Petr
-- 
View this message in context: http://www.nabble.com/2008-06-08-08%3A57-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17720143p17721914.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Sun Jun  8 14:56:45 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Jun  8 14:56:55 2008
Subject: R: [Harbour] 2008-06-07 15:32 UTC+0800 Pritpal
	Bedi(pritpal@vouchcac.com
In-Reply-To: <68BAFE19-2015-4CFD-938A-43CB72AB077F@syenar.hu>
References: <003301c8c947$ed8419ae$0400a8c0@deltain.net>
	<68BAFE19-2015-4CFD-938A-43CB72AB077F@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECF2@SRV02.deltain.net>

In a program where is used another copy strategies is better having one but no problem



-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Sunday, June 08, 2008 7:32 PM
To: Harbour Project Main Developer List.
Subject: Re: R: [Harbour] 2008-06-07 15:32 UTC+0800 Pritpal Bedi(pritpal@vouchcac.com

Hi Massimo,

I just wonder: What problem can it cause if enabled?

Brgds,
Viktor

On 2008.06.08., at 11:10, Massimo Belgrano wrote:

> I suggest add info in  a demo
> Is posible disable?
>
> ----- Messaggio originale -----
> Da: Pritpal Bedi <bedipritpal@hotmail.com>
> Inviato: domenica 8 giugno 2008 0.41
> A: harbour@harbour-project.org <harbour@harbour-project.org>
> Oggetto: [Harbour] 2008-06-07 15:32 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
>
>
> 2008-06-07 15:32 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
>   * harbour/source/rtl/gtwvt/gtwvt.c
>   * harbour/source/rtl/gtwvt/gtwvt.h
>     + Added feature to copy text from WVT console just like any  
> console
> window.
>     /*
>        1. Click on SysMenu icon at the left on Title Bar
>        2. Click on "Mark" option
>        3. Place cursor on top of the text you wish to copy.
>        4. Keep left button down and drag to desired end of console  
> text.
>        5. Release left button.
>        6. Right click anywhere "Paste" operation is supported.
>        7. Copies text is there.
>
>        You can drag the mouse in any direction, copied text will  
> always be
> in order.
>     */
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/2008-06-07-15%3A32-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17713796p17713796.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Sun Jun  8 15:02:06 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Jun  8 15:02:14 2008
Subject: [Harbour] requesto to Pripal.
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECF3@SRV02.deltain.net>

Hello Pripal.

Can you explain differences from gtwvg and gtwvt?


Massimo Belgrano

From harbour.01 at syenar.hu  Sun Jun  8 15:14:02 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  8 15:15:03 2008
Subject: [Harbour] 2008-06-08 08:57 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
In-Reply-To: <17721714.post@talk.nabble.com>
References: <17720143.post@talk.nabble.com>
	<C0AF60F1-DF2C-480A-9F17-6AFC1471B87A@syenar.hu>
	<17721714.post@talk.nabble.com>
Message-ID: <B8CB1E85-657F-48B7-BD06-75F1C226DFE9@syenar.hu>

Hi Pritpal.

Thanks a lot for your answers.

>> When resizing to a small size, part of the screen gets duplicated.
>
> Do you say that if console is resized to smaller one the parts are
> duplicated? Unable to reproduce...

http://www.syenar.hu/harbour/pic1.png
http://www.syenar.hu/harbour/pic2.png

>> Sometimes when resizing using the top edge, the screen gets into
>> a strange state, with the bottom there but empty, trashed and not
>> updated.
>
> All some logical calculations. I am trying to find out...

http://www.syenar.hu/harbour/pic3.png

>> This is easy. Why in future, why not right now. I propose:
> Hb_GtInfo( HB_GTI_COPYCONSOLE, TRUE|FALSE ) -> Toggles the SysMeny  
> "Mark &
> Copy"
> Hb_GtInfo( HB_GTI_RESIZEWINDOW, TRUE|FALSE ) -> Toggles resize feature
>
> If accepted, provide slots for HB_GTI_COPYCONSOLE and  
> HB_GTI_RESIZEWINDOW or
> some other define in hbgtinfo.ch, I will do the rest.

Yes, I was thinking about something similar ideally.
I'd rather rename HB_COPYCONSOLE to HB_GTI_SELECTCOPY though.

I'm also waiting for Massimo's input on why the
copy feature could be any problem (so that we need
a way to disable it at all), given that we have
this facility in DOS windows since about >15 years,
with no option to turn off. (Security risk?)

I'll also need a separate setting for CLOSE enable/disable,
(HB_GTI_NOCLOSE) to not have it tied to SetCancel().

>> No, it is the beauty of the open source. You initiate and  
>> possibility is
> there that it will reach the perfection by someone else if you could  
> not do
> it.

:)

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun  8 15:33:44 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  8 15:34:49 2008
Subject: [Harbour] 2008-06-08 08:57 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
In-Reply-To: <17721437.post@talk.nabble.com>
References: <17721437.post@talk.nabble.com>
Message-ID: <8D4291A7-949A-4A15-A48D-F316FD361C38@syenar.hu>

Hi Pritpal,

Slightly better than the first version, since it's
not calling RedrawWindow() for smaller mouse movements
now. Still flickers very much, when the selection
changes though.

The culprit here is RedrawWindow() which seems slow and
redraws the whole window, hence the flicker.

My attempt was replacing RedrawWindow() with InvertRect()
on the previously inverted area.

I wonder if there are any other tricks to apply?
(double buffering?)

Brgds,
Viktor

On 2008.06.08., at 20:11, Pritpal Bedi wrote:

>
> 2008-06-08 08:57 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
>   * harbour/source/rtl/gtwvt/gtwvt.c
>     * Fixed flickering in "Mark and Copy" operation.
>       /* Viktor, see the slight change in your code. */
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/2008-06-08-08%3A57-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17721437p17721437.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Jun  8 15:37:08 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  8 15:38:10 2008
Subject: R: [Harbour] 2008-06-07 15:32 UTC+0800 Pritpal
	Bedi(pritpal@vouchcac.com
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECF2@SRV02.deltain.net>
References: <003301c8c947$ed8419ae$0400a8c0@deltain.net>
	<68BAFE19-2015-4CFD-938A-43CB72AB077F@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ECF2@SRV02.deltain.net>
Message-ID: <14C19426-F38E-48A3-9BE8-CD648FF0B742@syenar.hu>

Okay. I was asking because DOS windows had this since
ages :)

I see no perceivable downsides of this feature, so
if there are no objections I'd drop the toggle option
for this.

Opinions?

Brgds,
Viktor

On 2008.06.08., at 20:56, Massimo Belgrano wrote:

> In a program where is used another copy strategies is better having  
> one but no problem
>
>
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Szak?ts Viktor
> Sent: Sunday, June 08, 2008 7:32 PM
> To: Harbour Project Main Developer List.
> Subject: Re: R: [Harbour] 2008-06-07 15:32 UTC+0800 Pritpal Bedi(pritpal@vouchcac.com
>
> Hi Massimo,
>
> I just wonder: What problem can it cause if enabled?
>
> Brgds,
> Viktor
>
> On 2008.06.08., at 11:10, Massimo Belgrano wrote:
>
>> I suggest add info in  a demo
>> Is posible disable?
>>
>> ----- Messaggio originale -----
>> Da: Pritpal Bedi <bedipritpal@hotmail.com>
>> Inviato: domenica 8 giugno 2008 0.41
>> A: harbour@harbour-project.org <harbour@harbour-project.org>
>> Oggetto: [Harbour] 2008-06-07 15:32 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
>>
>>
>> 2008-06-07 15:32 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
>>  * harbour/source/rtl/gtwvt/gtwvt.c
>>  * harbour/source/rtl/gtwvt/gtwvt.h
>>    + Added feature to copy text from WVT console just like any
>> console
>> window.
>>    /*
>>       1. Click on SysMenu icon at the left on Title Bar
>>       2. Click on "Mark" option
>>       3. Place cursor on top of the text you wish to copy.
>>       4. Keep left button down and drag to desired end of console
>> text.
>>       5. Release left button.
>>       6. Right click anywhere "Paste" operation is supported.
>>       7. Copies text is there.
>>
>>       You can drag the mouse in any direction, copied text will
>> always be
>> in order.
>>    */
>>
>> Regards
>> Pritpal Bedi
>> -- 
>> View this message in context: http://www.nabble.com/2008-06-07-15%3A32-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17713796p17713796.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Jun  8 16:06:13 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  8 16:07:17 2008
Subject: [Harbour] 2008-06-08 08:57 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
In-Reply-To: <8D4291A7-949A-4A15-A48D-F316FD361C38@syenar.hu>
References: <17721437.post@talk.nabble.com>
	<8D4291A7-949A-4A15-A48D-F316FD361C38@syenar.hu>
Message-ID: <7A2AFF11-AC7E-485C-B4BE-6706934802C9@syenar.hu>

Hi Pritpal,

Check out the code attached. Flicker completely gone.

It still has some small quirks, but the direction seems
to be the one.

Brgds,
Viktor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: gtwvt.zip
Type: application/zip
Size: 17590 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080608/19b5c6fc/gtwvt-0001.zip
-------------- next part --------------


On 2008.06.08., at 21:33, Szak?ts Viktor wrote:

> Hi Pritpal,
>
> Slightly better than the first version, since it's
> not calling RedrawWindow() for smaller mouse movements
> now. Still flickers very much, when the selection
> changes though.
>
> The culprit here is RedrawWindow() which seems slow and
> redraws the whole window, hence the flicker.
>
> My attempt was replacing RedrawWindow() with InvertRect()
> on the previously inverted area.
>
> I wonder if there are any other tricks to apply?
> (double buffering?)
>
> Brgds,
> Viktor
>
> On 2008.06.08., at 20:11, Pritpal Bedi wrote:
>
>>
>> 2008-06-08 08:57 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
>>  * harbour/source/rtl/gtwvt/gtwvt.c
>>    * Fixed flickering in "Mark and Copy" operation.
>>      /* Viktor, see the slight change in your code. */
>>
>> Regards
>> Pritpal Bedi
>> -- 
>> View this message in context: http://www.nabble.com/2008-06-08-08%3A57-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17721437p17721437.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>

From jfl at mafact.com  Sun Jun  8 16:42:00 2008
From: jfl at mafact.com (J. Lefebvre)
Date: Sun Jun  8 16:43:22 2008
Subject: [Harbour] Test, to delete
In-Reply-To: <17721437.post@talk.nabble.com>
Message-ID: <3c2bc7d0.1c8c9a8.138d4d6.29@mafact.com>

Test.

Best regards,

JF


From bedipritpal at hotmail.com  Sun Jun  8 19:15:38 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Jun  8 19:15:41 2008
Subject: [Harbour] 2008-06-08 16:03 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
Message-ID: <17724278.post@talk.nabble.com>


2008-06-08 16:03 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
   * harbour/source/rtl/gtwvt/gtwvt.c
   * harbour/source/rtl/gtwvt/gtwvt.h
   * harbour/source/rtl/hbgtcore.c
   * harbour/include/hbgtinfo.ch
     + HB_GTI_MARKCOPY
       Added feature to toggle "Mark and Copy" Sysmenu option with:
          Hb_GtInfo( HB_GTI_MARKCOPY, TRUE|FALSE ) -> lPrevState

       Removed necessity to have Hb_NoCopyConsole() to not include it.
       Now appln always HAS this SysMenu option. 

     + HB_GTI_RESIZEABLE
       Added feature to toggle resizing of appln window as:
          Hb_GtInfo( HB_GTI_RESIZEABLE, TRUE|FALSE ) -> lPrevState

       Function Hb_NoResizeableWindow() still hold good for startup.
       You always can activate/deactivate this feature from within appln.

       Few more optimizations while resizing, still work in progress.  
       
   * harbour/tests/wvtext.prg
     * Updated to demonstrate above functionality.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-08-16%3A03-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17724278p17724278.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sun Jun  8 20:48:17 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Jun  8 20:48:20 2008
Subject: [Harbour] 2008-06-08 08:57 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
In-Reply-To: <7A2AFF11-AC7E-485C-B4BE-6706934802C9@syenar.hu>
References: <17721437.post@talk.nabble.com>
	<8D4291A7-949A-4A15-A48D-F316FD361C38@syenar.hu>
	<7A2AFF11-AC7E-485C-B4BE-6706934802C9@syenar.hu>
Message-ID: <17724879.post@talk.nabble.com>


Viktor

>Check out the code attached. Flicker completely gone.

>It still has some small quirks, but the direction seems
>to be the one.

Applied, but I think RedrawWindow() is still required. But I amy need more
inputs.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-08-08%3A57-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17721437p17724879.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From cvc at oohg.org  Sun Jun  8 22:16:54 2008
From: cvc at oohg.org (Ciro Vargas Clemow)
Date: Sun Jun  8 22:17:09 2008
Subject: [Harbour] wvtgui   xvtgui
Message-ID: <484C9296.7060603@oohg.org>


Hi all:

Any similiar contribution like  wvtgui (but for linux)

xvtgui ?

best regards
Ciro




-- 
http://sistemascvc.tripod.com  (la casa del clip2win y nodosimp / the no2imp and 
clip2win home )

http://www.oohg.org ( Object Oriented Harbour GUI, more simple, more powerfull )


From bedipritpal at hotmail.com  Sun Jun  8 23:16:18 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Jun  8 23:16:21 2008
Subject: [Harbour] 2008-06-08 20:12 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
Message-ID: <17725728.post@talk.nabble.com>


2008-06-08 20:12 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
   * harbour/source/rtl/gtwvt/gtwvt.c
     * More fixes on resizing. Now appears to be behaving correctly. Please
test.

   * harbour/tests/wvtext.pr
     * Formatting and typos.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-08-20%3A12-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17725728p17725728.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sun Jun  8 23:47:19 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun  8 23:48:21 2008
Subject: [Harbour] 2008-06-08 08:57 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
In-Reply-To: <17724879.post@talk.nabble.com>
References: <17721437.post@talk.nabble.com>
	<8D4291A7-949A-4A15-A48D-F316FD361C38@syenar.hu>
	<7A2AFF11-AC7E-485C-B4BE-6706934802C9@syenar.hu>
	<17724879.post@talk.nabble.com>
Message-ID: <7A90E53D-9505-433E-82B8-2E44C68C11EE@syenar.hu>

>> Check out the code attached. Flicker completely gone.
>
>> It still has some small quirks, but the direction seems
>> to be the one.
>
> Applied, but I think RedrawWindow() is still required. But I amy  
> need more
> inputs.

RedrawWindow() is needed to restore the original,
"unselected" state. The above idea uses it for only
the delta selection in case the selection got smaller
by the mouse movement. This is similar to how regular
Windows console "Mark" function works.

The "quirks" I mentioned needs to be resolved, I'm
not exactly sure what causes the one where states
are skipped. The other one is a simple init problem.

Brgds,
Viktor

From bedipritpal at hotmail.com  Sun Jun  8 23:50:18 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Jun  8 23:50:22 2008
Subject: re[Harbour] questo to Pripal.
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECF3@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ECF3@SRV02.deltain.net>
Message-ID: <17725938.post@talk.nabble.com>


Hi

>Can you explain differences from gtwvg and gtwvt?

GTWVT is a pure console implementation of traditional Clipper terminal
taking Windows API as its base console IO protocols. Its OI are rendered in
a Windows window and hence all of MSDN is available for use with GTWVT.

To let the memory refreshed, I must remind everybody that it is a superb
work of Peter Rees contributed to xHarbour on 22nd December 2003.

GTWVG is GUI emulation of GTWVT. It implements itself on top of GTWVT. GTWVG
( WVTGUI in xHarbour ) offers functions and classes to present a console
application look like a windows one. It renderes GUI elements on top of
Clipper elements ( GETS, BROWSERS, BOXES, LINES ) which makes them feel like
a Windows element. GTWVG can be used with existing code just adding some
more code but without sacrificing or modifying old one. Also all IO commands
can be rendered on top of the GUI elements.

Hope this brief explanation answers your query.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/requesto-to-Pripal.-tp17722161p17725938.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Jun  9 00:39:46 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 00:39:44 2008
Subject: [Harbour] 2008-06-09 06:25 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c9ea$Blat.v2.6.2$d7d700c2$1654a50fb1e4@127.0.0.1>

2008-06-09 06:25 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * tests/wvtext.prg
   * include/hbgtinfo.ch
   * include/hbgtcore.h
   * source/rtl/gtwvt/gtwvt.h
   * source/rtl/gtwvt/gtwvt.c
     ! Fixed a few warnings.
     ! Fixed bad selection behaviour when starting the 
       selection (to not let it "stick" to the upper left corned).
     - Removed predefined symbols as a way to control GT 
       behaviour.
     * HB_GTI_MARKCOPY -> HB_GTI_SELECTCOPY to use more generic 
       terminology.
     * HB_GTI_RESIZEABLE -> HB_GTI_RESIZABLE
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun  9 00:40:18 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 00:40:15 2008
Subject: [Harbour] 2008-06-09 06:25 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c9ea$Blat.v2.6.2$eadde500$13bceb8dd8d6@127.0.0.1>

2008-06-09 06:25 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * tests/wvtext.prg
   * include/hbgtinfo.ch
   * include/hbgtcore.h
   * source/rtl/gtwvt/gtwvt.h
   * source/rtl/gtwvt/gtwvt.c
     ! Fixed a few warnings.
     ! Fixed bad selection behaviour when starting the 
       selection (to not let it "stick" to the upper left corner).
     - Removed predefined symbols as a way to control GT 
       behaviour. They may interfere with foreign libs. We have 
       hb_gtInfo() for these kinds of settings.
     * HB_GTI_MARKCOPY -> HB_GTI_SELECTCOPY to use more generic 
       terminology.
     * HB_GTI_RESIZEABLE -> HB_GTI_RESIZABLE
     ; TODO: Clean the callback interface to not be Windows specific, 
             and to hole one notifier block with higher level of 
             information.
     ; TOFIX: Sometime irreguralities appear in selection, probably due 
              to skipped updates or the like.
     ; TOFIX: The window gets messy while resizing to a bigger size.
              Test: Grab the corner, resize to bigger size while not 
              releasing the mouse button.
     ; TOFIX: Window resized to a very small size will have "dead" 
              (non-updated) portions on the sides.
     ; TOFIX: Resize is without flicker now, but it's not interactive 
              anymore, so it's difficult to predict what the result 
              will be.
     ; TOFIX: It's possible to resize the windows so that parts of screen 
              disappear.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun  9 00:47:34 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 00:48:36 2008
Subject: [Harbour] 2008-06-08 16:03 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
In-Reply-To: <17724278.post@talk.nabble.com>
References: <17724278.post@talk.nabble.com>
Message-ID: <BAFD0BDB-FF0D-412D-87DE-6BA3563D61C2@syenar.hu>

Hi Priptal,

If you don't mind I'd remove the symbol based
methods, as it doesn't seem to be std core
language way to control such things. It causes
problems where other libs define this symbol for
example.

Also back to FireEvent:

Since IMO the whole point of GTs is to give an
abstraction level above the very different terminal
types, we should apply this level of abstraction
to the callback event, too. Meaning that I think
we should remove any "wparam", "lparam" refs,
as the beauty of core Harbour is that it doesn't
deal with this level of system specific stuff
diirectly. This stuff is to be implemented outside
of the scope of the GT core. I'm also not sure
if this is a good way to pass mouse/keyboard events
in a generic way, some GTs may not work like this,
plus we'd rather need a core key/mouse pipeline,
I think there has been discussion about this, but
it's still not implemented (I'm not sure).

So the idea is: Let's pass _abstracted_, _high level_
and platform neutral messages to these callbacks
to notify about these the underlying app. And we
need only one notifier block. Any user data may
be passed through the callback, so IMO we don't
need a duplicate way to do this.

hb_gtInfo( HB_GTI_NOTIFIERBLOCK, {|nEvent, xPar|  
myEventCatcher( nEvent, xPar, myappdata ) })

Brgds,
Viktor

On 2008.06.09., at 1:15, Pritpal Bedi wrote:

>
> 2008-06-08 16:03 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
>   * harbour/source/rtl/gtwvt/gtwvt.c
>   * harbour/source/rtl/gtwvt/gtwvt.h
>   * harbour/source/rtl/hbgtcore.c
>   * harbour/include/hbgtinfo.ch
>     + HB_GTI_MARKCOPY
>       Added feature to toggle "Mark and Copy" Sysmenu option with:
>          Hb_GtInfo( HB_GTI_MARKCOPY, TRUE|FALSE ) -> lPrevState
>
>       Removed necessity to have Hb_NoCopyConsole() to not include it.
>       Now appln always HAS this SysMenu option.
>
>     + HB_GTI_RESIZEABLE
>       Added feature to toggle resizing of appln window as:
>          Hb_GtInfo( HB_GTI_RESIZEABLE, TRUE|FALSE ) -> lPrevState
>
>       Function Hb_NoResizeableWindow() still hold good for startup.
>       You always can activate/deactivate this feature from within  
> appln.
>
>       Few more optimizations while resizing, still work in progress.
>
>   * harbour/tests/wvtext.prg
>     * Updated to demonstrate above functionality.
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/2008-06-08-16%3A03-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17724278p17724278.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Mon Jun  9 01:12:07 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Jun  9 01:12:10 2008
Subject: [Harbour] 2008-06-08 22:10 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
Message-ID: <17726441.post@talk.nabble.com>


2008-06-08 22:10 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
   * harbour/source/rtl/gtwvt/gtwvt.c
     * Hack to fix maxrow() display. Now maximizing the window displays 
       correctly on 25x80.
   * harbour/tests/wvtext.pr
     * More information.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-08-22%3A10-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17726441p17726441.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From philb at philb.us  Mon Jun  9 01:30:36 2008
From: philb at philb.us (Phil Barnett)
Date: Mon Jun  9 01:30:39 2008
Subject: [Harbour] SVN Backup
Message-ID: <200806090130.36911.philb@philb.us>

It's much smaller now. MUCH MUCH smaller.

I deleted the checkout directory and ran it. That got rid of the extra stuff.

-- 
Waiting for sunspots.
From harbour.01 at syenar.hu  Mon Jun  9 01:44:49 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 01:45:50 2008
Subject: [Harbour] SVN Backup
In-Reply-To: <200806090130.36911.philb@philb.us>
References: <200806090130.36911.philb@philb.us>
Message-ID: <45D0615E-C068-48DB-A57B-A70E7EDDD57A@syenar.hu>

Thanks Phil.

I think the checkout dir should be deleted
before each process to not leave there files
already deleted from the repository.

Brgds,
Viktor

On 2008.06.09., at 7:30, Phil Barnett wrote:

> It's much smaller now. MUCH MUCH smaller.
>
> I deleted the checkout directory and ran it. That got rid of the  
> extra stuff.
>
> -- 
> Waiting for sunspots.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Mon Jun  9 01:47:28 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Jun  9 01:47:32 2008
Subject: [Harbour] 2008-06-08 16:03 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
In-Reply-To: <BAFD0BDB-FF0D-412D-87DE-6BA3563D61C2@syenar.hu>
References: <17724278.post@talk.nabble.com>
	<BAFD0BDB-FF0D-412D-87DE-6BA3563D61C2@syenar.hu>
Message-ID: <17726667.post@talk.nabble.com>


Hello Viktor

<<<
If you don't mind I'd remove the symbol based
methods, as it doesn't seem to be std core
language way to control such things. It causes
problems where other libs define this symbol for
example.
>>>

I do not mind. But "HB_NOSTARTUPWINDOW" is a must as there is no way to
force it at the time of initialization of GT. It serves a great purpose.
Rest no other symbol is required, so you removed them.
Please readd "HB_NOSTARTUPWINDOW".

<<<
Since IMO the whole point of GTs is to give an
abstraction level above the very different terminal
types, we should apply this level of abstraction
to the callback event, too. Meaning that I think
we should remove any "wparam", "lparam" refs,
as the beauty of core Harbour is that it doesn't
deal with this level of system specific stuff
diirectly. This stuff is to be implemented outside
of the scope of the GT core. I'm also not sure
if this is a good way to pass mouse/keyboard events
in a generic way, some GTs may not work like this,
plus we'd rather need a core key/mouse pipeline,
I think there has been discussion about this, but
it's still not implemented (I'm not sure).
>>>

It is matter of terminology. We can give generic names to them and generic
names to parameters. How a method is implemented is local to the GT in
question. One can find a way to simulate the same behavior another may not. 
But we need SLOTS in the core, otherwise it becomes impossible to extract
full power of a protocol.

<<<
So the idea is: Let's pass _abstracted_, _high level_
and platform neutral messages to these callbacks
to notify about these the underlying app. And we
need only one notifier block. Any user data may
be passed through the callback, so IMO we don't
need a duplicate way to do this.

hb_gtInfo( HB_GTI_NOTIFIERBLOCK, {|nEvent, xPar|  
myEventCatcher( nEvent, xPar, myappdata ) })
>>>

I agree on the _abstracted_, _high level_ concept. But to achieve this we
also need a mechanism.
Per your example:
hb_gtInfo( HB_GTI_NOTIFIERBLOCK, {|nEvent, xPar|  myEventCatcher( nEvent,
xPar, myappdata ) })
Under this construct how do GT will know about <nEvent> and will fire this
slot at what point of execution ?

The body of the GT execution is different with each implementation. In one
GT some event, e.g. HB_GTE_CLOSE needs to be executed where Key Press is
processed and in some other (GTWVT) when X button is clicked. How you will
know that GT is advised to react to this event?

I agree with abstraction, so we can provide generic names, but slots and
dispatching needs to be in the core.

I implemented all these methods in GTWVG but from outside the core. My
viewpoint is to enrich GT. In the past many methods were introduced which
belonged to a particular GT only and they still exist in the core. 
All we need is to define symbology and its behavior and forget about how a
GT will implement them. It will lift a lot of restrictions.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/2008-06-08-16%3A03-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17724278p17726667.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From philb at philb.us  Mon Jun  9 01:56:06 2008
From: philb at philb.us (Phil Barnett)
Date: Mon Jun  9 01:56:10 2008
Subject: [Harbour] SVN Backup
In-Reply-To: <45D0615E-C068-48DB-A57B-A70E7EDDD57A@syenar.hu>
References: <200806090130.36911.philb@philb.us>
	<45D0615E-C068-48DB-A57B-A70E7EDDD57A@syenar.hu>
Message-ID: <200806090156.06937.philb@philb.us>

On Monday 09 June 2008 01:44:49 am Szak?ts Viktor wrote:
> Thanks Phil.
>
> I think the checkout dir should be deleted
> before each process to not leave there files
> already deleted from the repository.

I don't think I want to do this each time since it pulls a lot of traffic this 
way. How about once a week. Or at most, once a day.

-- 
Waiting for sunspots.
From philb at philb.us  Mon Jun  9 02:00:24 2008
From: philb at philb.us (Phil Barnett)
Date: Mon Jun  9 02:00:27 2008
Subject: [Harbour] RC1 Status
Message-ID: <200806090200.24957.philb@philb.us>

Don't forget that we are in bug fixing and cleanup mode only.

I will tag RC2 next weekend.

If we go a week with few fixes, I will release 1.0.0.

-- 
Waiting for sunspots.
From harbour.01 at syenar.hu  Mon Jun  9 02:08:08 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 02:08:06 2008
Subject: [Harbour] 2008-06-09 07:36 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8c9f7$Blat.v2.6.2$3051fce6$e50472f0be2@127.0.0.1>

2008-06-09 07:36 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * tests/wvtext.prg
   * include/hbgtinfo.ch
   * include/hbgtcore.h
   * source/rtl/hbgtcore.c
   * source/rtl/gtwvt/gtwvt.c
     * Changed the way notifications work. It's now platform 
       neutral and more simple.
       hb_gtInfo( HB_GTI_NOTIFIERBLOCK, {|nEvent, ...| myhandler( nEvent, mycustomdata, ... ) })
       may be used to set it. Use NIL to disable it. The purpose of 
       this is to be able to get notifications from GT related
       user interactions not initiated inside the apps UI world.
       F.e. to save screen size after the user has changed it, 
       or to have a last chance to commit tables, set flags, etc 
       when user (or OS) closed the app window.
     + Added basic support to handle return values from notifier.
     ! Added missing SVN header to wvtext.prg
     ; TOFIX: New TIMER stuff in GTWVT should be replace by 
              a platform neutral solution, which is probably MT.
              (see also "background events")
     ; TOFIX: Is there a way to force "non-full content" resize 
              on the window level? This way we could avoid 
              current trashing while resizing.
--
Brgds,
Viktor

From bedipritpal at hotmail.com  Mon Jun  9 02:22:55 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Jun  9 02:22:58 2008
Subject: [Harbour] 2008-06-09 06:25 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8c9ea$Blat.v2.6.2$eadde500$13bceb8dd8d6@127.0.0.1>
References: <01c8c9ea$Blat.v2.6.2$eadde500$13bceb8dd8d6@127.0.0.1>
Message-ID: <17726962.post@talk.nabble.com>


Hi Viktor

<<<
     - Removed predefined symbols as a way to control GT 
       behaviour. They may interfere with foreign libs. We have 
       hb_gtInfo() for these kinds of settings.
>>>

Except for HB_NOSTARTUPWINDOW. This cannot be achieved with any other
method.

<<<
     ; TODO: Clean the callback interface to not be Windows specific, 
             and to hole one notifier block with higher level of 
             information.
>>>

First we need to establsih how above block can get implmented.

<<<
     ; TOFIX: Sometime irreguralities appear in selection, probably due 
              to skipped updates or the like.
>>>

I suspect RedrawWindow() has to be called may be at the cost of some speed.

<<<
     ; TOFIX: The window gets messy while resizing to a bigger size.
              Test: Grab the corner, resize to bigger size while not 
              releasing the mouse button.
>>>

These are two events we can update the window: 1) WM_SIZE 2)
WM_EXITSIZEMOVE.
If it is updated in WM_SIZE then a lot of flickering is there which cannot
be overcome as
font creation is early binding and code has no control whatsoever onto that.

<<<
     ; TOFIX: Window resized to a very small size will have "dead" 
              (non-updated) portions on the sides.
>>>

I cannot reproduce this behavior, now.

<<<   
     ; TOFIX: Resize is without flicker now, but it's not interactive 
              anymore, so it's difficult to predict what the result 
              will be.
>>>

Which "results" you are referring to?

<<<
     ; TOFIX: It's possible to resize the windows so that parts of screen 
              disappear.
>>>

I could not follow it. It is possible that that wider frame is visible but
right and lower parts are not updated. This is again font configuration
dependant. A next resize sets it right.

Regards
Pritpal Bedi, INDIA-USA
-- 
View this message in context: http://www.nabble.com/2008-06-09-06%3A25-UTC%2B0100-Viktor-Szakats-%28harbour.01-syenar-hu%29-tp17726216p17726962.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Jun  9 03:03:10 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 03:04:13 2008
Subject: [Harbour] 2008-06-08 16:03 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
In-Reply-To: <17726667.post@talk.nabble.com>
References: <17724278.post@talk.nabble.com>
	<BAFD0BDB-FF0D-412D-87DE-6BA3563D61C2@syenar.hu>
	<17726667.post@talk.nabble.com>
Message-ID: <94C9545E-B1C6-4037-9675-29A4A88522FD@syenar.hu>

> I do not mind. But "HB_NOSTARTUPWINDOW" is a must as there is no way  
> to
> force it at the time of initialization of GT. It serves a great  
> purpose.
> Rest no other symbol is required, so you removed them.
> Please readd "HB_NOSTARTUPWINDOW".

Okay, sorry I didn't even know such thing existed.
I'll readd in next commit.

>>>>
>
> It is matter of terminology. We can give generic names to them and  
> generic
> names to parameters. How a method is implemented is local to the GT in
> question. One can find a way to simulate the same behavior another  
> may not.
> But we need SLOTS in the core, otherwise it becomes impossible to  
> extract
> full power of a protocol.

It's not just the names. If something is closely tied
to a given GT + platform, it should solely be exist
inside that GT. Or not exist at all, since the whole
point of GTWVT is to give a console window, which has
happened to be implemented as graphics, but from the
apps POV, this is an implementation detail, and the
GT should look the same as all other console GTs to
the app. Otherwise the plugin system ("replaceable")
suffers.

If we want to extract full power of Windows, we have
GTWVG, or we can create other Windows orientated GTs.

> I agree on the _abstracted_, _high level_ concept. But to achieve  
> this we
> also need a mechanism.
> Per your example:
> hb_gtInfo( HB_GTI_NOTIFIERBLOCK, {|nEvent, xPar|   
> myEventCatcher( nEvent,
> xPar, myappdata ) })
> Under this construct how do GT will know about <nEvent> and will  
> fire this
> slot at what point of execution ?

We define events in a generic fashion, and GTs may implement
those which apply, the more carefully we choose the event
the more GTs will be able to use them. We just need a few IMO.

> The body of the GT execution is different with each implementation.  
> In one
> GT some event, e.g. HB_GTE_CLOSE needs to be executed where Key  
> Press is
> processed and in some other (GTWVT) when X button is clicked. How  
> you will
> know that GT is advised to react to this event?

Each GT should translate its own "close" type of event (whatever
this is, keypress, signal, close button) to the abstract Harbour
event.

If there is no such event in the rest of the GTs, it's better
to not implement it on the core level. As for CLOSE, I think
it's quite a generic one (but I may be wrong).

> I agree with abstraction, so we can provide generic names, but slots  
> and
> dispatching needs to be in the core.

We need one slot. The event number is enough identify the
type of event. We don't need multiple callback codeblocks
for this. This just makes the system more difficult to use,
maintain and extend.

> I implemented all these methods in GTWVG but from outside the core. My
> viewpoint is to enrich GT. In the past many methods were introduced  
> which
> belonged to a particular GT only and they still exist in the core.

Yes, I see a few such in HB_GTI_* already. But I think it's
rather wrong than good, so I'd opt not to make it any worse.

> All we need is to define symbology and its behavior and forget about  
> how a
> GT will implement them. It will lift a lot of restrictions.

I wouldn't add much more complexity to these existing
GTs, except refining what we already have. In any case,
if we want to do something which is completely GT specific,
it should be added to the GT itself, using the pGTData
variable and maybe another file inside the GT. I'd keep
the API unified in the core, so I wouldn't possibly
allow hb_wvt_whatever() kind of Harbour functions either.

To put it shortly: For core GTs _only_ generic stuff
should be added, which applies for the most GTs we
support.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun  9 03:04:56 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 03:05:57 2008
Subject: [Harbour] SVN Backup
In-Reply-To: <200806090156.06937.philb@philb.us>
References: <200806090130.36911.philb@philb.us>
	<45D0615E-C068-48DB-A57B-A70E7EDDD57A@syenar.hu>
	<200806090156.06937.philb@philb.us>
Message-ID: <B7897642-89AE-4D51-ADD8-919AF9306DDE@syenar.hu>

>
Hi Phil,

> On Monday 09 June 2008 01:44:49 am Szak?ts Viktor wrote:
>> Thanks Phil.
>>
>> I think the checkout dir should be deleted
>> before each process to not leave there files
>> already deleted from the repository.
>
> I don't think I want to do this each time since it pulls a lot of  
> traffic this
> way. How about once a week. Or at most, once a day.

Notice that if we've now switched to "svn export" you need to
do this anyway, since "svn export" cannot _update_ a previously
"exported" dir, just redownload it altogether.

I think once a day is perfectly fine for this source snapshot.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun  9 03:11:24 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 03:12:28 2008
Subject: [Harbour] 2008-06-09 06:25 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <17726962.post@talk.nabble.com>
References: <01c8c9ea$Blat.v2.6.2$eadde500$13bceb8dd8d6@127.0.0.1>
	<17726962.post@talk.nabble.com>
Message-ID: <1B53CCA1-4A05-4264-BF3E-6B05683C2E3D@syenar.hu>

> Except for HB_NOSTARTUPWINDOW. This cannot be achieved with any other
> method.

Noted!

>     ; TOFIX: Sometime irreguralities appear in selection, probably due
>              to skipped updates or the like.
>>>>
>
> I suspect RedrawWindow() has to be called may be at the cost of some  
> speed.

I'm working on this as we speak.

>     ; TOFIX: The window gets messy while resizing to a bigger size.
>              Test: Grab the corner, resize to bigger size while not
>              releasing the mouse button.
>>>>
>
> These are two events we can update the window: 1) WM_SIZE 2)
> WM_EXITSIZEMOVE.
> If it is updated in WM_SIZE then a lot of flickering is there which  
> cannot
> be overcome as
> font creation is early binding and code has no control whatsoever  
> onto that.

I have no idea for this, but it's pretty ugly looking
right :( Maybe the first version was better, more flicker
but also more interactive and less such trashing.

>     ; TOFIX: Window resized to a very small size will have "dead"
>              (non-updated) portions on the sides.
>>>>
>
> I cannot reproduce this behavior, now.

I've sent some pics. Basically the window is sized
x * y, but the content inside is smaller (font size
times the console resolution is smaller than x * y),
thus, the extra part of the window won't be
updated, and it gets trashy.

>     ; TOFIX: Resize is without flicker now, but it's not interactive
>              anymore, so it's difficult to predict what the result
>              will be.
>>>>
>
> Which "results" you are referring to?

I mean, you take the corner, press the mouse, drag, at this
point you don't see anything, you don't know what will happen.
You release the button, and either you get it resized or
not, depending on the autosize feature.

Shortly: It's no interactive.

>     ; TOFIX: It's possible to resize the windows so that parts of  
> screen
>              disappear.
>>>>
>
> I could not follow it. It is possible that that wider frame is  
> visible but
> right and lower parts are not updated. This is again font  
> configuration
> dependant. A next resize sets it right.

Perhaps. But I think we shouldn't allow to resize to
a so small size, that the console content cannot fit
anymore in the window.

Brgds,
Viktor

From bedipritpal at hotmail.com  Mon Jun  9 03:48:41 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Jun  9 03:48:45 2008
Subject: [Harbour] 2008-06-08 16:03 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
In-Reply-To: <94C9545E-B1C6-4037-9675-29A4A88522FD@syenar.hu>
References: <17724278.post@talk.nabble.com>
	<BAFD0BDB-FF0D-412D-87DE-6BA3563D61C2@syenar.hu>
	<17726667.post@talk.nabble.com>
	<94C9545E-B1C6-4037-9675-29A4A88522FD@syenar.hu>
Message-ID: <17728013.post@talk.nabble.com>


Hi Viktor

<<<
We define events in a generic fashion, and GTs may implement
those which apply, the more carefully we choose the event
the more GTs will be able to use them. We just need a few IMO.
>>>

Mostly true, but not always.

<<<
We need one slot. The event number is enough identify the
type of event. We don't need multiple callback codeblocks
for this. This just makes the system more difficult to use,
maintain and extend.
>>>

Event number + GT Data.

<<<
I wouldn't add much more complexity to these existing
GTs, except refining what we already have. In any case,
if we want to do something which is completely GT specific,
it should be added to the GT itself, using the pGTData
variable and maybe another file inside the GT. I'd keep
the API unified in the core, so I wouldn't possibly
allow hb_wvt_whatever() kind of Harbour functions either.
>>>

Your solution is much more elegant. I confirm. I only need one more
parameter
pGTData with the event handler, as, 


hb_gt_wvt_FireEvent( PHB_GTWVT pWVT, int nEvent, PHB_ITEM pGTData )

MyCallBack( nEvent, xGTData ) -> nStatus

And it solves all the purpose.

For example, 
HB_GTE_TIMER needs to be notified of timer id.
HB_GTE_INKEY needs to be notified of iKey.
HB_GTE_RESIZED needs to be notified of new client rect.
etc.


Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/2008-06-08-16%3A03-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17724278p17728013.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Jun  9 03:50:18 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 03:50:15 2008
Subject: [Harbour] 2008-06-09 09:47 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8ca05$Blat.v2.6.2$7621ada8$1198a9b14ec4@127.0.0.1>

2008-06-09 09:47 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtwvt/gtwvt.c
     ! Fixed most cases of trashing whilst marking.
       Maybe there is a simpler way of doing this...
     ! Readded "HB_NOSTARTUPWINDOW" feature deleted by mistake.
     ; TOFIX: Some trashing is still visible if switching 
              directions relative to the starting corner.
     ; TOFIX: It doesn't seem to be possible to select 
              the last row and the last column. Pritpal, 
              could you take a look at it?
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun  9 04:31:16 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 04:32:18 2008
Subject: [Harbour] 2008-06-08 16:03 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
In-Reply-To: <17728013.post@talk.nabble.com>
References: <17724278.post@talk.nabble.com>
	<BAFD0BDB-FF0D-412D-87DE-6BA3563D61C2@syenar.hu>
	<17726667.post@talk.nabble.com>
	<94C9545E-B1C6-4037-9675-29A4A88522FD@syenar.hu>
	<17728013.post@talk.nabble.com>
Message-ID: <394F8D58-3D35-4917-9A6E-A3F55D11FE38@syenar.hu>

>
Hi Pritpal,

> We need one slot. The event number is enough identify the
> type of event. We don't need multiple callback codeblocks
> for this. This just makes the system more difficult to use,
> maintain and extend.
>>>>
>
> Event number + GT Data.

I'd prefer if those callback could read out all
the necessary information via regular hb_gbInfo()
calls. IOW, an app shouldn't be forced to use
a callback just to get hold of some information.
It's just a way to be _notified_ about the change,
in a "push" way.

> Your solution is much more elegant. I confirm. I only need one more
> parameter
> pGTData with the event handler, as,

I'm not sure, see above. If we'd have GTData,
that would mean some information would be exclusively
available there. If it's not exclusive, there is
no point, if it's exclusive, it forces callback
usage. With passed data we have another problem:

How to assure that a given event type will receive
the same kind of data from all GTs. So that's yet
another level of coordination and things to go wrongs.

I think we should keep hb_gtInfo() as the exclusive
data store, where apps can go for GT information.

> hb_gt_wvt_FireEvent( PHB_GTWVT pWVT, int nEvent, PHB_ITEM pGTData )
>
> MyCallBack( nEvent, xGTData ) -> nStatus
>
> And it solves all the purpose.
>
> For example,
> HB_GTE_TIMER needs to be notified of timer id.

TIMER is highly Windows specific, so I think it shouldn't
be in core GT.

> HB_GTE_INKEY needs to be notified of iKey.

For Inkey(), we also will need platform neutral way.
See my remark, I think this is a long standing TODO.

Solving it here would just implicate Windows specific
keycode conversion, and so on.

> HB_GTE_RESIZED needs to be notified of new client rect.

New client rect should be present in some hb_gtInfo()
if this is really such information which may be useful
for the application. I would think it's not. The app
expects a console, and the final graphical resolution
of a console is meaningless.

In any case, technically, "xGTData" is really one or
more custom, event dependent parameters, which may be
passed to the callback by the GT, so it doesn't need
additional core support or storage in the GT structure.
I'd strongly argue against adding any platform specific
stuff as such parameters.

Brgds,
Viktor

From makis1970 at gmail.com  Mon Jun  9 05:06:13 2008
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Mon Jun  9 05:09:40 2008
Subject: [Harbour] gtwvt font best setup
In-Reply-To: <9257026e0806070522g39fb5566rfbe4b339915b77a2@mail.gmail.com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com>	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>	<005201c8c879$bc0c7470$34255d50$@com>	<EF303E84-DA4B-4734-BDE5-C9482CBC82BF@syenar.hu>	<006b01c8c88c$df0da850$9d28f8f0$@com>
	<9257026e0806070522g39fb5566rfbe4b339915b77a2@mail.gmail.com>
Message-ID: <013401c8ca10$124246c0$36c6d440$@com>

Hi Lorenzo,
Yes it's the same app (everythink it's the same). The tbrowse is exactly the
same not even one line of code had changed. The only different is the menu
class. Under Dos we've made a special lib for the menu. The menu is data
driven and user dependable. The window program uses exactly the same
database for the menu but uses a different technique to display every think
in one window. In general right now the same program can be compiled under
dos (clipper) and under windows xHarbour - GTWVW. The only changes I've made
is inside my kernel lib for windows functions (wopen-xbox ->
wvw_nopenwindow). The same is true for printing. Under dos I was using a
Pscript and under windows PScript32 with excellent results (windows preview,
no need pscript.ini pscript.exe etc).

Brgds,
Mike Evans

PS. If you come in Athens just sent me an email.

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo Fiorini
Sent: Saturday, June 07, 2008 3:23 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] gtwvt font best setup

On Sat, Jun 7, 2008 at 12:54 PM, Mike Evans (Gmail) <makis1970@gmail.com>
wrote:

> This are some screenshots but they are big from 1 to 3.5 MB.
>
> http://prosvasis.vivodinet.gr/download/temp/dos.bmp
> http://prosvasis.vivodinet.gr/download/temp/resized.bmp
> http://prosvasis.vivodinet.gr/download/temp/u1.bmp
> http://prosvasis.vivodinet.gr/download/temp/u2.bmp

Good work. I'm really impressed.

Am I correct if I say that resized.bmp is the same app of dos.bmp?

How much menu, get and tbrowse code is different?

best regards,
Lorenzo

p.s. I'll be in Greece next week for vacation :)
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Jun  9 05:54:36 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 05:55:38 2008
Subject: dllcall.c - Was: [Harbour] gtwvt font best setup
In-Reply-To: <013401c8ca10$124246c0$36c6d440$@com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com>	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>	<005201c8c879$bc0c7470$34255d50$@com>	<EF303E84-DA4B-4734-BDE5-C9482CBC82BF@syenar.hu>	<006b01c8c88c$df0da850$9d28f8f0$@com>
	<9257026e0806070522g39fb5566rfbe4b339915b77a2@mail.gmail.com>
	<013401c8ca10$124246c0$36c6d440$@com>
Message-ID: <D30B8615-EE36-4406-B18A-32FFCE79B644@syenar.hu>

Hi Mike and all,

I'll check what it takes (like dependencies)
to port dllcall.c to Harbour.

For now it looks to me that it could be ported
to contrib/hbw32. I suspect but I cannot see any
deep dependencies to xhb "C struct" feature.

The ASM dependency is a bit troubling, because
it may not compile on all Windows compilers
(like plain BCC55 without TASM32), but TASM32
is now available for free as part of the BCC58
package, which clears this up about nicely.

WINCE will have to exluded from this feature
though, because it can be other CPU platform.

Brgds,
Viktor

On 2008.06.09., at 11:06, Mike Evans (Gmail) wrote:

> Hi Lorenzo,
> Yes it's the same app (everythink it's the same). The tbrowse is  
> exactly the
> same not even one line of code had changed. The only different is  
> the menu
> class. Under Dos we've made a special lib for the menu. The menu is  
> data
> driven and user dependable. The window program uses exactly the same
> database for the menu but uses a different technique to display  
> every think
> in one window. In general right now the same program can be compiled  
> under
> dos (clipper) and under windows xHarbour - GTWVW. The only changes  
> I've made
> is inside my kernel lib for windows functions (wopen-xbox ->
> wvw_nopenwindow). The same is true for printing. Under dos I was  
> using a
> Pscript and under windows PScript32 with excellent results (windows  
> preview,
> no need pscript.ini pscript.exe etc).
>
> Brgds,
> Mike Evans
>
> PS. If you come in Athens just sent me an email.
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo  
> Fiorini
> Sent: Saturday, June 07, 2008 3:23 PM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] gtwvt font best setup
>
> On Sat, Jun 7, 2008 at 12:54 PM, Mike Evans (Gmail) <makis1970@gmail.com 
> >
> wrote:
>
>> This are some screenshots but they are big from 1 to 3.5 MB.
>>
>> http://prosvasis.vivodinet.gr/download/temp/dos.bmp
>> http://prosvasis.vivodinet.gr/download/temp/resized.bmp
>> http://prosvasis.vivodinet.gr/download/temp/u1.bmp
>> http://prosvasis.vivodinet.gr/download/temp/u2.bmp
>
> Good work. I'm really impressed.
>
> Am I correct if I say that resized.bmp is the same app of dos.bmp?
>
> How much menu, get and tbrowse code is different?
>
> best regards,
> Lorenzo
>
> p.s. I'll be in Greece next week for vacation :)
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Jun  9 05:58:09 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 05:59:13 2008
Subject: dllcall.c - Was: [Harbour] gtwvt font best setup
In-Reply-To: <D30B8615-EE36-4406-B18A-32FFCE79B644@syenar.hu>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com>	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>	<005201c8c879$bc0c7470$34255d50$@com>	<EF303E84-DA4B-4734-BDE5-C9482CBC82BF@syenar.hu>	<006b01c8c88c$df0da850$9d28f8f0$@com>
	<9257026e0806070522g39fb5566rfbe4b339915b77a2@mail.gmail.com>
	<013401c8ca10$124246c0$36c6d440$@com>
	<D30B8615-EE36-4406-B18A-32FFCE79B644@syenar.hu>
Message-ID: <9FA31D2B-D13E-450E-9ACF-26A3DC44F889@syenar.hu>

Sorry I've left this out:

pscript32 lib uses dllcall.c to interface
with pscript.dll, hence my previous mail.

We could in fact create a pure C interface too,
but besides needing more work, pscrip32.dll doesn't
have a published C interface AFAICS. I wonder
why the Abee guys didn't opt this solution.

Brgds,
Viktor

On 2008.06.09., at 11:54, Szak?ts Viktor wrote:

> Hi Mike and all,
>
> I'll check what it takes (like dependencies)
> to port dllcall.c to Harbour.
>
> For now it looks to me that it could be ported
> to contrib/hbw32. I suspect but I cannot see any
> deep dependencies to xhb "C struct" feature.
>
> The ASM dependency is a bit troubling, because
> it may not compile on all Windows compilers
> (like plain BCC55 without TASM32), but TASM32
> is now available for free as part of the BCC58
> package, which clears this up about nicely.
>
> WINCE will have to exluded from this feature
> though, because it can be other CPU platform.
>
> Brgds,
> Viktor
>
> On 2008.06.09., at 11:06, Mike Evans (Gmail) wrote:
>
>> Hi Lorenzo,
>> Yes it's the same app (everythink it's the same). The tbrowse is  
>> exactly the
>> same not even one line of code had changed. The only different is  
>> the menu
>> class. Under Dos we've made a special lib for the menu. The menu is  
>> data
>> driven and user dependable. The window program uses exactly the same
>> database for the menu but uses a different technique to display  
>> every think
>> in one window. In general right now the same program can be  
>> compiled under
>> dos (clipper) and under windows xHarbour - GTWVW. The only changes  
>> I've made
>> is inside my kernel lib for windows functions (wopen-xbox ->
>> wvw_nopenwindow). The same is true for printing. Under dos I was  
>> using a
>> Pscript and under windows PScript32 with excellent results (windows  
>> preview,
>> no need pscript.ini pscript.exe etc).
>>
>> Brgds,
>> Mike Evans
>>
>> PS. If you come in Athens just sent me an email.
>>
>> -----Original Message-----
>> From: harbour-bounces@harbour-project.org
>> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo  
>> Fiorini
>> Sent: Saturday, June 07, 2008 3:23 PM
>> To: Harbour Project Main Developer List.
>> Subject: Re: [Harbour] gtwvt font best setup
>>
>> On Sat, Jun 7, 2008 at 12:54 PM, Mike Evans (Gmail) <makis1970@gmail.com 
>> >
>> wrote:
>>
>>> This are some screenshots but they are big from 1 to 3.5 MB.
>>>
>>> http://prosvasis.vivodinet.gr/download/temp/dos.bmp
>>> http://prosvasis.vivodinet.gr/download/temp/resized.bmp
>>> http://prosvasis.vivodinet.gr/download/temp/u1.bmp
>>> http://prosvasis.vivodinet.gr/download/temp/u2.bmp
>>
>> Good work. I'm really impressed.
>>
>> Am I correct if I say that resized.bmp is the same app of dos.bmp?
>>
>> How much menu, get and tbrowse code is different?
>>
>> best regards,
>> Lorenzo
>>
>> p.s. I'll be in Greece next week for vacation :)
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>

From mbelgrano at deltain.it  Mon Jun  9 06:24:39 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun  9 06:24:47 2008
Subject: [Harbour] 2008-06-09 UTC+0100 Belgrano Massimo
	(mbelgrano/at/deltain.it)
In-Reply-To: <46BAD373.4080906@mail.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
	<46BAD373.4080906@mail.udg.mx>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECF8@SRV02.deltain.net>

2008-06-09 UTC+0100 Belgrano Massimo (mbelgrano/at/deltain.it)
   * doc/gtapi.txt  aadded info by post regarding gt
  

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of David Arturo
Macias Corona
Sent: Thursday, August 09, 2007 10:42 AM
To: harbour@harbour-project.org
Subject: [Harbour] Re: is there any documentation about available Gt's

Przemek:

Excelent info

Can you add to Harbour doc somewhere ?
Maybe in doc\gtapi.txt ?

David Macias



On Wed, 08 Aug 2007, Mike Evans (Gmail) wrote:
 > I can see under the rtl folder many different Gts but for most of
them I
 > don't know what they do and where (Platform, gui, terminal etc). Also

Which
 > functions-methods are available for each of them?

gtnul  - base GT driver from which each other inherits.
          it gives screen buffer functionality but does not
          produce any screen output from disp*() commands
          Only outStd()/outErr() are supported.
          It's present on all platforms and i always linked.

gtcgi  - very simple GT driver which does not make any output
          formatting and simply send it as to stdout.
          Supported by all platforms.

gtstd  - it uses stdout output but tries to support full screen output
but
          without collor support and cursor shape. It format text to
number
          of row and columns if is able to detect these values on given
          platform.
          Supported by all platforms.

gtpca  - It's PCANSI terminal GT - it works in similar way to ANSI GT
          driver in Clipper though keyboard input is not fully
supported.
          Now GTTRM can make all GTPCA job and much more.
          Supported by all platforms.

gtdos  - GT driver for DOS - it uses BIOS and direct hardware screen
output
          so it's very similar to Clipper one - in practice due to the
same
          environment you will noticed that all small details of Clipper
          GT drivers are replicated here. You can think about it like
100%
          Clipper compatible.
          Supported only by DOS builds.

gtos2  - GT driver for OS2 - It's sth like GTWIN but for other OS.
          Supported only by OS2 builds.

gtwin  - GT driver for MS-Windows console window.
          Supported only by MS-WINDOWS (W95 or higher) builds.

gtcrs  - GT driver for platforms which supports curses or compatible
          (ncurses) library - in practice POSIX systems.
          Supported by POSIX systems (mostly different *nixes)

gtsln  - GT driver for platforms which supports slang library.
          It's like GTCRS but instead of CURSES it uses SLANG.
          Supported by POSIX systems (mostly different *nixes).
          It supports Unicode input/output if compiled with slang
          version which also supports it.

gttrm  - it's like GTCRS and GTSLN but it does not use any external
          terminal library like SLANG or CURSES and it does not use
          any external database to extract terminal capabilities so
          it can be compiled on any POSIX system - I'll add support
          also for DOS/Windows in the future. It should automatically
          detect UTF-8 terminal mode and switch internally to Unicode
          mode if necessary. In theory is less functional then GTCRS
          and GTSLN because I hard coded escape sequences only for few
          terminals but because I added support also for some non
          standard terminal extensions and I'm using very limited set
          of output sequences then it usually works better then GTCRS
          and GTSLN.
          Supported by POSIX systems (mostly different *nixes)

gtwvt  - GT driver for MS-Windows. It creates its own GUI window
          instead of using MS-console window. It allows to change
          font, window size, etc.
          Supported only by MS-WINDOWS (W95 or higher) builds.

gtxwc  - GT driver for X-Window. It's like GTWVT but for nixes.
          Additionaly it has set of predefined vector characters
          (box and arrowd drawing characters) which can be used
          instead of the one defined in font. It means that you
          will have all boxes and arrows you know from DOS ans CP437
          even if you chose font which does not have them. Additionally
          it support some simple graphic output. See tests/gfx.prg
          for simple program which demonstrates it.
          Supported by POSIX systems (mostly different *nixes)

gtalleg- GT driver which uses alegro library for input/output.
          It's also GUI driver which support HB_GFX*() drawing.
          Multi platform, works on all platforms for which allegro
          library has been ported: MS-Win, DOS, VESA, X11, FB, SDL, ...

gtgui  - pseudo GT driver which adds to GTNUL Clipboard and Tone
          functionality. If you are using some MS-Windows GUI library
          and you still want to use TONE() function or GTI_CLIPBOARD
          actions then link this GT driver with your application.
          If you do not want to use TONE() or GTI_CLIPBOARD then
          do not link it - it will be only waste of memory.

gtctw  - GT driver which adds CT3 Window functionality to any other
          GT driver from which it inherits. It's activated automatically
          when you execute first W*() function.
          In similar way in Harbour it's possible to add support for
          GTWVW inheriting from GTWVT.

Some of the GT drivers support additional functionality with hb_gtInfo()
interface. See include/hbgtinfo.ch for different actions.

best regards,
Przemek




_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From makis1970 at gmail.com  Mon Jun  9 06:22:55 2008
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Mon Jun  9 06:26:32 2008
Subject: dllcall.c - Was: [Harbour] gtwvt font best setup
In-Reply-To: <9FA31D2B-D13E-450E-9ACF-26A3DC44F889@syenar.hu>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com>	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>	<005201c8c879$bc0c7470$34255d50$@com>	<EF303E84-DA4B-4734-BDE5-C9482CBC82BF@syenar.hu>	<006b01c8c88c$df0da850$9d28f8f0$@com>	<9257026e0806070522g39fb5566rfbe4b339915b77a2@mail.gmail.com>	<013401c8ca10$124246c0$36c6d440$@com>	<D30B8615-EE36-4406-B18A-32FFCE79B644@syenar.hu>
	<9FA31D2B-D13E-450E-9ACF-26A3DC44F889@syenar.hu>
Message-ID: <015401c8ca1a$c9b434d0$5d1c9e70$@com>

Hi Viktor,
Pscript it?s a nice lib if you use it also under dos. I think that at least
for windows world we need a report lib (Maybe Frax or something similar) A
coworker of me already evaluate frax to see a possible transmission of our
reports to Frax. 

Brgds,
Mike Evans

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Szakats Viktor
Sent: Monday, June 09, 2008 12:58 PM
To: Harbour Project Main Developer List.
Subject: Re: dllcall.c - Was: [Harbour] gtwvt font best setup

Sorry I've left this out:

pscript32 lib uses dllcall.c to interface
with pscript.dll, hence my previous mail.

We could in fact create a pure C interface too,
but besides needing more work, pscrip32.dll doesn't
have a published C interface AFAICS. I wonder
why the Abee guys didn't opt this solution.

Brgds,
Viktor

On 2008.06.09., at 11:54, Szak?ts Viktor wrote:

> Hi Mike and all,
>
> I'll check what it takes (like dependencies)
> to port dllcall.c to Harbour.
>
> For now it looks to me that it could be ported
> to contrib/hbw32. I suspect but I cannot see any
> deep dependencies to xhb "C struct" feature.
>
> The ASM dependency is a bit troubling, because
> it may not compile on all Windows compilers
> (like plain BCC55 without TASM32), but TASM32
> is now available for free as part of the BCC58
> package, which clears this up about nicely.
>
> WINCE will have to exluded from this feature
> though, because it can be other CPU platform.
>
> Brgds,
> Viktor
>
> On 2008.06.09., at 11:06, Mike Evans (Gmail) wrote:
>
>> Hi Lorenzo,
>> Yes it's the same app (everythink it's the same). The tbrowse is  
>> exactly the
>> same not even one line of code had changed. The only different is  
>> the menu
>> class. Under Dos we've made a special lib for the menu. The menu is  
>> data
>> driven and user dependable. The window program uses exactly the same
>> database for the menu but uses a different technique to display  
>> every think
>> in one window. In general right now the same program can be  
>> compiled under
>> dos (clipper) and under windows xHarbour - GTWVW. The only changes  
>> I've made
>> is inside my kernel lib for windows functions (wopen-xbox ->
>> wvw_nopenwindow). The same is true for printing. Under dos I was  
>> using a
>> Pscript and under windows PScript32 with excellent results (windows  
>> preview,
>> no need pscript.ini pscript.exe etc).
>>
>> Brgds,
>> Mike Evans
>>
>> PS. If you come in Athens just sent me an email.
>>
>> -----Original Message-----
>> From: harbour-bounces@harbour-project.org
>> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo  
>> Fiorini
>> Sent: Saturday, June 07, 2008 3:23 PM
>> To: Harbour Project Main Developer List.
>> Subject: Re: [Harbour] gtwvt font best setup
>>
>> On Sat, Jun 7, 2008 at 12:54 PM, Mike Evans (Gmail) <makis1970@gmail.com 
>> >
>> wrote:
>>
>>> This are some screenshots but they are big from 1 to 3.5 MB.
>>>
>>> http://prosvasis.vivodinet.gr/download/temp/dos.bmp
>>> http://prosvasis.vivodinet.gr/download/temp/resized.bmp
>>> http://prosvasis.vivodinet.gr/download/temp/u1.bmp
>>> http://prosvasis.vivodinet.gr/download/temp/u2.bmp
>>
>> Good work. I'm really impressed.
>>
>> Am I correct if I say that resized.bmp is the same app of dos.bmp?
>>
>> How much menu, get and tbrowse code is different?
>>
>> best regards,
>> Lorenzo
>>
>> p.s. I'll be in Greece next week for vacation :)
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From sscc at mweb.co.za  Mon Jun  9 06:41:41 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Jun  9 06:41:48 2008
Subject: dllcall.c - Was: [Harbour] gtwvt font best setup
In-Reply-To: <D30B8615-EE36-4406-B18A-32FFCE79B644@syenar.hu>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com>	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>	<005201c8c879$bc0c7470$34255d50$@com>	<EF303E84-DA4B-4734-BDE5-C9482CBC82BF@syenar.hu>	<006b01c8c88c$df0da850$9d28f8f0$@com>	<9257026e0806070522g39fb5566rfbe4b339915b77a2@mail.gmail.com>	<013401c8ca10$124246c0$36c6d440$@com>
	<D30B8615-EE36-4406-B18A-32FFCE79B644@syenar.hu>
Message-ID: <484D08E5.9030201@mweb.co.za>

Szak?ts Viktor wrote:

> I'll check what it takes (like dependencies)
> to port dllcall.c to Harbour.

I would appreciate this. I use it and have simply copied it across 
from xHarbour.

I made some changes to support strings with embedded nulls and 
committed it to xHarbour CVS. However, Peter Rees pointed out that it 
would be preferable to use hb_xgrab,hb_xfree rather than malloc, free. 
I made the changes on my local copy but never committed them. Perhaps 
you could do it.

Note also that there is no .PRG level interface to specify return 
types as far as I can see. I have a horrible kludge called CALLDLLBOOL 
which specifies return type as CTYPE_BOOL. (I added HB_FUNC( CALLDLL ) 
  as there was no interface when you had a pointer to the function 
already and did not wish to load the dll and get the function pointer 
for each call).

The current version on CVS has this signature for DllExec:

static void DllExec( int iFlags, LPVOID lpFunction, int iParams, int 
iFirst, int iArgCnt, PEXECSTRUCT xec )

The one I use has:

static void DllExec( int iFlags, int iRtype, LPVOID lpFunction, int 
iParams, int iFirst, int iArgCnt, PEXECSTRUCT xec )

Someone now assumes that iRtype data can be extracted from iFlags but 
looking at the DC_* defines and the CTYPE_* defines I don't see how 
this could be ( I could *easily* be wrong).

There is also a line:

iRtype = iFlags & 0x0f00;  // Return type - An additional flag over 
XBase++

which I commented out, it makes no sense to me.

Finally, when I moved to Harbour, I did comment out the structure 
support so I assume that I had a compiling/linking problem there, but 
I made no notes.

Regards
Alex

From harbour.01 at syenar.hu  Mon Jun  9 06:41:07 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 06:42:08 2008
Subject: dllcall.c - Was: [Harbour] gtwvt font best setup
In-Reply-To: <015401c8ca1a$c9b434d0$5d1c9e70$@com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com>	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>	<005201c8c879$bc0c7470$34255d50$@com>	<EF303E84-DA4B-4734-BDE5-C9482CBC82BF@syenar.hu>	<006b01c8c88c$df0da850$9d28f8f0$@com>	<9257026e0806070522g39fb5566rfbe4b339915b77a2@mail.gmail.com>	<013401c8ca10$124246c0$36c6d440$@com>	<D30B8615-EE36-4406-B18A-32FFCE79B644@syenar.hu>
	<9FA31D2B-D13E-450E-9ACF-26A3DC44F889@syenar.hu>
	<015401c8ca1a$c9b434d0$5d1c9e70$@com>
Message-ID: <1ED6F20E-CFB0-40FE-A862-0921575826BB@syenar.hu>

>
Hi Mike,

> Pscript it?s a nice lib if you use it also under dos. I think that  
> at least

Under DOS it needs a permanently running Windows tool.
So it's off my scope unfortunately.

For me so far the portable printing issue goes
down to using a .pdf lib (hbhpdf, maybe hbvpdf),
and using some .pdf handling apps to push it to
the printer (like SumatraPDF, or optionally
Adobe, if installed, as the latter has better quality;
Some also use Foxit Reader, but this one cannot
be distrbuted with apps).

Anyhow, access to pscript32 from Harbour would
just widen the options.

> for windows world we need a report lib (Maybe Frax or something  
> similar) A
> coworker of me already evaluate frax to see a possible transmission  
> of our
> reports to Frax.

Bit early for me, but can you post a link for Frax?

Brgds,
Viktor

From makis1970 at gmail.com  Mon Jun  9 06:44:40 2008
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Mon Jun  9 06:48:16 2008
Subject: dllcall.c - Was: [Harbour] gtwvt font best setup
In-Reply-To: <1ED6F20E-CFB0-40FE-A862-0921575826BB@syenar.hu>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com>	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>	<005201c8c879$bc0c7470$34255d50$@com>	<EF303E84-DA4B-4734-BDE5-C9482CBC82BF@syenar.hu>	<006b01c8c88c$df0da850$9d28f8f0$@com>	<9257026e0806070522g39fb5566rfbe4b339915b77a2@mail.gmail.com>	<013401c8ca10$124246c0$36c6d440$@com>	<D30B8615-EE36-4406-B18A-32FFCE79B644@syenar.hu>	<9FA31D2B-D13E-450E-9ACF-26A3DC44F889@syenar.hu>	<015401c8ca1a$c9b434d0$5d1c9e70$@com>
	<1ED6F20E-CFB0-40FE-A862-0921575826BB@syenar.hu>
Message-ID: <015c01c8ca1d$d3d54190$7b7fc4b0$@com>

Hi Viktor,
This is the link for frax (Fast report + xharbour api)

http://www.paritetsoft.ru/frh.htm

Brgds,
Mike Evans

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Szakats Viktor
Sent: Monday, June 09, 2008 1:41 PM
To: Harbour Project Main Developer List.
Subject: Re: dllcall.c - Was: [Harbour] gtwvt font best setup

>
Hi Mike,

> Pscript it's a nice lib if you use it also under dos. I think that  
> at least

Under DOS it needs a permanently running Windows tool.
So it's off my scope unfortunately.

For me so far the portable printing issue goes
down to using a .pdf lib (hbhpdf, maybe hbvpdf),
and using some .pdf handling apps to push it to
the printer (like SumatraPDF, or optionally
Adobe, if installed, as the latter has better quality;
Some also use Foxit Reader, but this one cannot
be distrbuted with apps).

Anyhow, access to pscript32 from Harbour would
just widen the options.

> for windows world we need a report lib (Maybe Frax or something  
> similar) A
> coworker of me already evaluate frax to see a possible transmission  
> of our
> reports to Frax.

Bit early for me, but can you post a link for Frax?

Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Jun  9 06:49:22 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 06:50:23 2008
Subject: dllcall.c - Was: [Harbour] gtwvt font best setup
In-Reply-To: <484D08E5.9030201@mweb.co.za>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com>	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>	<005201c8c879$bc0c7470$34255d50$@com>	<EF303E84-DA4B-4734-BDE5-C9482CBC82BF@syenar.hu>	<006b01c8c88c$df0da850$9d28f8f0$@com>	<9257026e0806070522g39fb5566rfbe4b339915b77a2@mail.gmail.com>	<013401c8ca10$124246c0$36c6d440$@com>
	<D30B8615-EE36-4406-B18A-32FFCE79B644@syenar.hu>
	<484D08E5.9030201@mweb.co.za>
Message-ID: <6BAFC84B-999C-44C7-82AE-6734527B2E48@syenar.hu>

Hi Alex,

Nice to read about your experiences, I'd appreciate to
see your code.

Seems like the CSTRUCT stuff can easily be detached,
this is good.

I currently have a ported version from xhb repo, plus
a modified version distributed along pscript32 (with
some enhanced 'double' support I guess), and I hope
to get yours.

We will need to mash up these versions to create the
one going to hbw32.

Brgds,
Viktor

On 2008.06.09., at 12:41, Alex Strickland wrote:

> Szak?ts Viktor wrote:
>
>> I'll check what it takes (like dependencies)
>> to port dllcall.c to Harbour.
>
> I would appreciate this. I use it and have simply copied it across  
> from xHarbour.
>
> I made some changes to support strings with embedded nulls and  
> committed it to xHarbour CVS. However, Peter Rees pointed out that  
> it would be preferable to use hb_xgrab,hb_xfree rather than malloc,  
> free. I made the changes on my local copy but never committed them.  
> Perhaps you could do it.
>
> Note also that there is no .PRG level interface to specify return  
> types as far as I can see. I have a horrible kludge called  
> CALLDLLBOOL which specifies return type as CTYPE_BOOL. (I added  
> HB_FUNC( CALLDLL )  as there was no interface when you had a pointer  
> to the function already and did not wish to load the dll and get the  
> function pointer for each call).
>
> The current version on CVS has this signature for DllExec:
>
> static void DllExec( int iFlags, LPVOID lpFunction, int iParams, int  
> iFirst, int iArgCnt, PEXECSTRUCT xec )
>
> The one I use has:
>
> static void DllExec( int iFlags, int iRtype, LPVOID lpFunction, int  
> iParams, int iFirst, int iArgCnt, PEXECSTRUCT xec )
>
> Someone now assumes that iRtype data can be extracted from iFlags  
> but looking at the DC_* defines and the CTYPE_* defines I don't see  
> how this could be ( I could *easily* be wrong).
>
> There is also a line:
>
> iRtype = iFlags & 0x0f00;  // Return type - An additional flag over  
> XBase++
>
> which I commented out, it makes no sense to me.
>
> Finally, when I moved to Harbour, I did comment out the structure  
> support so I assume that I had a compiling/linking problem there,  
> but I made no notes.
>
> Regards
> Alex
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From sscc at mweb.co.za  Mon Jun  9 07:19:26 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Jun  9 07:19:36 2008
Subject: dllcall.c - Was: [Harbour] gtwvt font best setup
In-Reply-To: <6BAFC84B-999C-44C7-82AE-6734527B2E48@syenar.hu>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com>	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>	<005201c8c879$bc0c7470$34255d50$@com>	<EF303E84-DA4B-4734-BDE5-C9482CBC82BF@syenar.hu>	<006b01c8c88c$df0da850$9d28f8f0$@com>	<9257026e0806070522g39fb5566rfbe4b339915b77a2@mail.gmail.com>	<013401c8ca10$124246c0$36c6d440$@com>	<D30B8615-EE36-4406-B18A-32FFCE79B644@syenar.hu>	<484D08E5.9030201@mweb.co.za>
	<6BAFC84B-999C-44C7-82AE-6734527B2E48@syenar.hu>
Message-ID: <484D11BE.5040605@mweb.co.za>

Szak?ts Viktor wrote:

> Nice to read about your experiences, I'd appreciate to
> see your code.
> 
> Seems like the CSTRUCT stuff can easily be detached,
> this is good.
> 
> I currently have a ported version from xhb repo, plus
> a modified version distributed along pscript32 (with
> some enhanced 'double' support I guess), and I hope
> to get yours.
> 
> We will need to mash up these versions to create the
> one going to hbw32.

I have done exactly what you and Przemek dislike and made it a .prg 
with BEGINDUMP/ENDDUMP :) but besides that it is easy to do a diff.

I have attached it.

Regards
Alex
-------------- next part --------------
#pragma BEGINDUMP

/*
 * $Id: dllcall.c,v 1.9 2007/04/14 21:47:22 ronpinkas Exp $
 */

/*
 * Harbour Project source code:
 * Xbase++ Compatibility functions
 * Copyright 2006 Paul Tucker <ptucker@sympatico.ca>
 * Additional copyrights below.
 *
 * See doc/license.txt for licensing terms.
 *
 * www - http://www.harbour-project.org; http://www.xharbour.org
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option )
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software; see the file COPYING.   If not, write to
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/ ).
 *
 * As a special exception, the Harbour Project gives permission for
 * additional uses of the text contained in its release of Harbour.
 *
 * The exception is that, if you link the Harbour libraries with other
 * files to produce an executable, this does not by itself cause the
 * resulting executable to be covered by the GNU General Public License.
 * Your use of that executable is in no way restricted on account of
 * linking the Harbour library code into it.
 *
 * This exception does not however invalidate any other reasons why
 * the executable file might be covered by the GNU General Public License.
 *
 * This exception applies only to the code released by the Harbour
 * Project under the name Harbour.  If you copy code from other
 * Harbour Project or Free Software Foundation releases into a copy of
 * Harbour, as the General Public License permits, the exception does
 * not apply to the code that you add in this way.   To avoid misleading
 * anyone as to the status of such modified files, you must delete
 * this exception notice from them.
 *
 * If you write modifications of your own for Harbour, it is your choice
 * whether to permit this exception to apply to your modifications.
 * If you do not wish that, delete this exception notice.
*/

/*
 * Notes:
 *
 * I'm not totally familiar with how Xbase++ works.  This functionality was
 * derived from the context in which the functions are used.
 *
 * pt
 *
 */

#define _WIN32_WINNT   0x0400
#define  WIN32_LEAN_AND_MEAN

#include "hbapiitm.h"

#if defined( HB_OS_WIN_32 )

#include <windows.h>

#include "hbdll.ch"

#define EXEC_DLL               0x45584543

typedef struct tag_ExecStruct
{
   DWORD     dwType;       // type info
   char *    cDLL;         // DLL
   HINSTANCE hDLL;         // Handle
   char *    cProc;        // Ordinal or Name
   DWORD     dwOrdinal;
   DWORD     dwFlags;      // Calling Flags
   LPVOID    lpFunc;
} EXECSTRUCT, *PEXECSTRUCT;


static PHB_DYNS pHB_CSTRUCTURE = NULL, pPOINTER, pVALUE, pBUFFER, pDEVALUE;

#include "hbapi.h"
#ifndef __XHARBOUR__
 #include "hbapicls.h"
#endif
#include "hbstack.h"
#include "hbvm.h"

/* ADS char HB_EXPORT * hb_parcstruct( int iParam, ... )
{
   //HB_THREAD_STUB_ANY

   HB_TRACE(HB_TR_DEBUG, ("hb_parcstruct(%d, ...)", iParam));

   if( pHB_CSTRUCTURE == NULL )
   {
       pHB_CSTRUCTURE = hb_dynsymFind( "HB_CSTRUCTURE" );

       pPOINTER       = hb_dynsymGetCase( "POINTER" );
       pVALUE         = hb_dynsymGetCase( "VALUE" );
       pBUFFER        = hb_dynsymGetCase( "BUFFER" );
       pDEVALUE       = hb_dynsymGetCase( "DEVALUE" );
   }

   if( ( iParam >= 0 && iParam <= hb_pcount() ) || ( iParam == -1 ) )
   {
      PHB_ITEM pItem = ( iParam == -1 ) ? hb_stackReturnItem() : hb_stackItemFromBase( iParam );
      BOOL bRelease = FALSE;

      if( HB_IS_BYREF( pItem ) )
      {
         pItem = hb_itemUnRef( pItem );
      }

      if( HB_IS_ARRAY( pItem ) && ! HB_IS_OBJECT( pItem ) )
      {
         va_list va;
         ULONG ulArrayIndex;
         PHB_ITEM pArray = pItem;

         va_start( va, iParam );
         ulArrayIndex = va_arg( va, ULONG );
         va_end( va );

         pItem = hb_itemNew( NULL );
         bRelease = TRUE;

         hb_arrayGet( pArray, ulArrayIndex, pItem );
      }

      if( strncmp( hb_objGetClsName( pItem ), "C Structure", 11 ) == 0 )
      {
         hb_vmPushSymbol( pVALUE->pSymbol );
         hb_vmPush( pItem );
         hb_vmSend(0);

         if( bRelease )
         {
            hb_itemRelease( pItem );
         }

         return hb_stackReturnItem()->item.asString.value;
      }
   }

   return NULL;
}*/

static HB_GARBAGE_FUNC( _DLLUnload )
{
   PEXECSTRUCT xec = (PEXECSTRUCT) Cargo;  // provided by decl.

   if ( xec->dwType == EXEC_DLL )
   {
      if ( xec->cDLL != NULL )
      {
         if ( xec->hDLL != (HINSTANCE) 0 )
         {
            FreeLibrary( xec->hDLL );
         }

         hb_xfree( xec->cDLL );
      }

      if ( xec->cProc != NULL )
      {
         hb_xfree( xec->cProc );
      }

      xec->dwType = 0;
   }
}


HB_FUNC( DLLPREPARECALL )
{
   PEXECSTRUCT xec = (PEXECSTRUCT) hb_gcAlloc( sizeof( EXECSTRUCT ), _DLLUnload );

   memset( xec, 0, sizeof( EXECSTRUCT ) );

   if ( ISCHAR( 1 ) )
   {
      xec->cDLL = hb_strdup( hb_parc( 1 ) );
      xec->hDLL = LoadLibrary( xec->cDLL );
   }
   else if (ISNUM( 1 ) )
   {
      xec->hDLL = (HINSTANCE) hb_parnl( 1 );
   }

   if (ISNUM( 2 ) )
   {
      xec->dwFlags = hb_parnl( 2 );
   }
   else
   {
      xec->dwFlags = DC_CALL_STD;
   }

   if ( xec->hDLL )
   {
      if ( ISCHAR( 3 ) )
      {
         // Not a typo - reserving space for possible Ansi 'A' suffix!
         xec->cProc = (char *) hb_xgrab( hb_parclen(3) + 2 );
         strncpy( xec->cProc, hb_parc(3), hb_parclen(3) + 1 );
      }
      else if (ISNUM( 3 ) )
      {
         xec->dwOrdinal = hb_parnl( 3 );
      }
   }
   else
   {
      if( xec->cDLL )
      {
         MessageBox( GetActiveWindow(), "DllPrepareCall:LoadLibrary() failed!", xec->cDLL, MB_OK | MB_ICONERROR );
      }
      else
      {
         MessageBox( GetActiveWindow(), "DllPrepareCall() invalid handle argument!", "DllPrepareCall", MB_OK | MB_ICONERROR );
      }
   }

   xec->dwType = EXEC_DLL;
   xec->lpFunc = (LPVOID) GetProcAddress( xec->hDLL, xec->cProc != NULL ? (LPCSTR) xec->cProc : (LPCSTR) xec->dwOrdinal );

   if( xec->lpFunc == NULL && xec->cProc )
   {
      // try ANSI flavour ?
      xec->cProc[ hb_parclen(3) ] = 'A';
      xec->cProc[ hb_parclen(3) +1  ] = '\0';

      xec->lpFunc = (LPVOID) GetProcAddress( xec->hDLL, xec->cProc != NULL ? (LPCSTR) xec->cProc : (LPCSTR) xec->dwOrdinal );
   }

   if( xec->hDLL && xec->lpFunc )
   {
       hb_retptrGC(  xec );
   }
   else if( xec->hDLL && xec->lpFunc == NULL )
   {
      if( xec->cProc )
      {
         LPVOID lpMsgBuf;

         FormatMessage( FORMAT_MESSAGE_ALLOCATE_BUFFER |
         FORMAT_MESSAGE_FROM_SYSTEM,
         NULL,
         GetLastError(),
         MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT),
         (LPTSTR) &lpMsgBuf,
         0, NULL );

         MessageBox( GetActiveWindow(), (LPCSTR) lpMsgBuf, "DllPrepareCall:GetProcAddress() failed!", MB_OK | MB_ICONERROR );

         LocalFree(lpMsgBuf);
      }
      else
      {
         MessageBox( GetActiveWindow(), "DllPrepareCall:GetProcAddress() invalid oridnal argument!", "DllPrepareCall", MB_OK | MB_ICONERROR );
      }
   }
}


HB_FUNC( LOADLIBRARY )
{
   hb_retnl( (DWORD) LoadLibraryA( (LPCSTR) hb_parcx( 1 ) ) ) ;
}

HB_FUNC( FREELIBRARY )
{
   hb_retl( FreeLibrary( (HMODULE) hb_parnl( 1 ) ) ) ;
}

// compatibility
HB_FUNC( DLLLOAD )
{
   HB_FUNCNAME( LOADLIBRARY )();
}

// compatibility
HB_FUNC( DLLUNLOAD )
{
   HB_FUNCNAME( FREELIBRARY )();
}

/*HB_FUNC( GETLASTERROR )
{
   hb_retnl( GetLastError() );
}

HB_FUNC( SETLASTERROR )
{
   hb_retnl( GetLastError() );
   SetLastError( hb_parnl(1) );
}*/

HB_FUNC( GETPROCADDRESS )
{
   LPVOID lpProcAddr;
   char  cFuncName[MAX_PATH];

   if ((lpProcAddr = (LPVOID) GetProcAddress( (HMODULE) hb_parnl(1),
                                ISCHAR( 2 ) ? (LPCSTR) hb_parcx(2) :
                                              (LPCSTR) hb_parnl(2) )) == 0 )
   {
      if ( ISCHAR( 2 ) )
      {
         // try ANSI flavour ?
         strcpy(cFuncName, hb_parc(2));
         strcat(cFuncName, "A");
         lpProcAddr = (LPVOID) GetProcAddress((HMODULE) hb_parnl(1), cFuncName);
      }
   }

   hb_retptr( lpProcAddr );
}


//==================================================================
// See DynaCall support comments below

#define DC_CALL_STD_BO         (DC_CALL_STD | DC_BORLAND)
#define DC_CALL_STD_MS         (DC_CALL_STD | DC_MICROSOFT)
#define DC_CALL_STD_M8         (DC_CALL_STD | DC_RETVAL_MATH8)

#define DC_FLAG_ARGPTR         0x00000002

#define CTYPE_VOID 0
#define CTYPE_CHAR 1

#define CTYPE_UNSIGNED_CHAR -1
#define CTYPE_CHAR_PTR 10
#define CTYPE_UNSIGNED_CHAR_PTR -10

#define CTYPE_SHORT 2
#define CTYPE_UNSIGNED_SHORT -2
#define CTYPE_SHORT_PTR 20
#define CTYPE_UNSIGNED_SHORT_PTR -20

#define CTYPE_INT 3
#define CTYPE_UNSIGNED_INT -3
#define CTYPE_INT_PTR 30
#define CTYPE_UNSIGNED_INT_PTR -30

#define CTYPE_LONG 4
#define CTYPE_UNSIGNED_LONG -4
#define CTYPE_LONG_PTR 40
#define CTYPE_UNSIGNED_LONG_PTR -40

#define CTYPE_FLOAT 5
#define CTYPE_FLOAT_PTR 50

#define CTYPE_DOUBLE 6
#define CTYPE_DOUBLE_PTR 60

#define CTYPE_VOID_PTR 7

#define CTYPE_BOOL 8

#define CTYPE_STRUCTURE 1000
#define CTYPE_STRUCTURE_PTR 10000


#pragma pack(1)

typedef union RESULT {          // Various result types
    int     Int;                // Generic four-byte type
    long    Long;               // Four-byte long
    void   *Pointer;            // 32-bit pointer
    float   Float;              // Four byte real
    double  Double;             // 8-byte real
    __int64 int64;              // big int (64-bit)
} RESULT;

typedef struct DYNAPARM {
    DWORD       dwFlags;        // Parameter flags
    int         nWidth;         // Byte width
    union {                     //
            BYTE    bArg;          // 1-byte argument
            SHORT   usArg;         // 2-byte argument
            DWORD   dwArg;         // 4-byte argument
          };
    void   *pArg;           // Pointer to argument
} DYNAPARM;

#pragma pack()

RESULT DynaCall(int Flags, LPVOID lpFunction, int nArgs,
                DYNAPARM Parm[], LPVOID pRet, int nRetSiz);
//
//==================================================================

// Based originally on CallDLL from What32
static void DllExec( int iFlags, int iRtype, LPVOID lpFunction, int iParams, int iFirst, int iArgCnt, PEXECSTRUCT xec )
{
//   int iRtype;
   int iCnt = 0;
//   int iCmode;
   int i;
   double DblParms[15];
   DYNAPARM   Parm[15];
   RESULT     rc;

   if( xec )
   {
      iFlags     = xec->dwFlags;
      lpFunction = xec->lpFunc;

      //TODO Params maybe explictly specified in xec!
   }

//   iCmode = iFlags & 0xf000;  // Unsupported Mode (specifies XBase++ Function1)
   //iRtype = iFlags & 0x0f00;  // Return type - An additional flag over XBase++
   iFlags = iFlags & 0x00ff;  // Calling Convention

   if ( iRtype == 0 )
   {
      iRtype = CTYPE_UNSIGNED_LONG;
   }

   memset( Parm, 0, sizeof( Parm ) );
   memset( DblParms, 0, sizeof( DblParms ) );

   if( iArgCnt > 0)
   {
      for( i = iFirst; i <= iParams; i++)
      {
         switch ( hb_parinfo( i ) & ~HB_IT_BYREF )
         {
            case HB_IT_NIL               :
               Parm[iCnt].nWidth = sizeof( void * );
               Parm[iCnt].dwArg = (DWORD) NULL;
               break;

            case HB_IT_POINTER           :
               Parm[iCnt].nWidth = sizeof( void * );
               Parm[iCnt].dwArg = (DWORD) hb_parptr ( i );
               break;

            case HB_IT_INTEGER           :
            case HB_IT_LONG              :
            case HB_IT_DATE              :
            case HB_IT_LOGICAL           :
               Parm[iCnt].nWidth = sizeof( DWORD );
               Parm[iCnt].dwArg = (DWORD) hb_parnl( i );

               if( hb_parinfo( i ) & HB_IT_BYREF )
               {
                  Parm[iCnt].pArg   = &( Parm[iCnt].dwArg );
                  Parm[iCnt].dwFlags = DC_FLAG_ARGPTR;  // use the pointer
               }
               break;

            case HB_IT_DOUBLE            :
               Parm[iCnt].nWidth = sizeof( double );
               DblParms[iCnt] = (double) hb_parnd( i );
               Parm[iCnt].pArg   = &( DblParms[iCnt] );
               Parm[iCnt].dwFlags = DC_FLAG_ARGPTR;  // use the pointer
               iFlags |= DC_RETVAL_MATH8;
               break;

            case HB_IT_STRING            :
            case HB_IT_MEMO              :
               Parm[iCnt].nWidth = sizeof( void * );
               if( ( hb_parinfo( i ) & HB_IT_BYREF ) && hb_parclen( i ) )
               {
                  Parm[iCnt].pArg = hb_xgrab( hb_parclen( i ) );
                  memcpy( Parm[iCnt].pArg, hb_parc( i ), hb_parclen( i ) );
               }
               else {
                  Parm[iCnt].pArg = (void *) hb_parc( i );
               }
               Parm[iCnt].dwFlags = DC_FLAG_ARGPTR;  // use the pointer
               break;

            /*ADS case HB_IT_ARRAY             :
               if( strncmp( hb_objGetClsName( hb_param(i, HB_IT_ANY ) ), "C Structure", 11 ) == 0 )
               {
                  Parm[iCnt].nWidth = sizeof(  void * );
                  Parm[iCnt].dwArg = (DWORD) hb_parcstruct( i );
                  break;
               }*/

            case HB_IT_HASH              :
            case HB_IT_SYMBOL            :
            case HB_IT_ALIAS             :
            case HB_IT_MEMOFLAG          :
            case HB_IT_BLOCK             :
            case HB_IT_MEMVAR            :

            default:
               MessageBox( GetActiveWindow(), "UNKNOWN Parameter Type!", "DLLCall Parameter Error!", MB_OK | MB_ICONERROR );
               return;
         }

         iCnt++;
      }
   }

   /*SetLastError(0);*/

   rc = DynaCall(iFlags, lpFunction, iArgCnt, Parm, NULL, 0);

   /*if( GetLastError() )
   {
      LPVOID lpMsgBuf;

      FormatMessage( FORMAT_MESSAGE_ALLOCATE_BUFFER |
      FORMAT_MESSAGE_FROM_SYSTEM,
      NULL,
      GetLastError(),
      MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT),
      (LPTSTR) &lpMsgBuf,
      0, NULL );

      MessageBox( GetActiveWindow(), (LPCSTR) lpMsgBuf, "DllExec:DynaCall() failed!", MB_OK | MB_ICONERROR );

      LocalFree(lpMsgBuf);
   }*/

   if( iArgCnt > 0)
   {
      iCnt = 0;

      for( i = iFirst; i <= iParams; i++)
      {
         if( hb_parinfo( i ) & HB_IT_BYREF )
         {
            switch ( hb_parinfo( i ) & ~HB_IT_BYREF )
            {
               case HB_IT_NIL               :
                  hb_stornl( Parm[iCnt].dwArg, i );
                  break;

               case HB_IT_POINTER           :
                  break;

               case HB_IT_INTEGER           :
               case HB_IT_LONG              :
               case HB_IT_DATE              :
               case HB_IT_LOGICAL           :
                  hb_stornl( *(LONG *) ( Parm[iCnt].pArg ), i );
                  break;

               case HB_IT_DOUBLE            :
                  hb_stornd( DblParms[iCnt], i );
                  break;

               case HB_IT_STRING            :
               case HB_IT_MEMO              :
                  if( hb_parclen( i ) )
                  {
                     hb_storclen( (char *) Parm[iCnt].pArg, hb_parclen( i ), i );
                     hb_xfree( Parm[iCnt].pArg );
                  }
                  break;

               /* ADS case HB_IT_ARRAY             :
                  if( strncmp( hb_objGetClsName( hb_param(i, HB_IT_ANY ) ), "C Structure", 11 ) == 0 )
                  {
                     hb_vmPushSymbol( pDEVALUE->pSymbol );
                     hb_vmPush( hb_param( i, HB_IT_ANY ) );
                     hb_vmSend(0);

                     break;
                  }*/

               default:
                  MessageBox( GetActiveWindow(), "UNKNOWN Parameter Type!", "DLLCall Parameter Error!", MB_OK | MB_ICONERROR );
                  return;
            }
         }

         iCnt++;
      }
   }

   // return the correct value
   switch ( iRtype )
   {
      case CTYPE_BOOL :
         hb_retl( (BOOL) rc.Long );
         break;

      case CTYPE_VOID :
         hb_retni(0);
         break;

      case CTYPE_CHAR              :
      case CTYPE_UNSIGNED_CHAR     :
         hb_retni ( (char) rc.Int );
         break;

      case CTYPE_SHORT             :
      case CTYPE_UNSIGNED_SHORT    :
         hb_retni ( (int) rc.Int );
         break;

      case CTYPE_INT               :
         hb_retni ( (int) rc.Long );
         break;

      case CTYPE_LONG              :
         hb_retnl ( (LONG) rc.Long );
         break;

      case CTYPE_CHAR_PTR          :
      case CTYPE_UNSIGNED_CHAR_PTR :
         hb_retc ( (char *) rc.Long );
         break;

      case CTYPE_UNSIGNED_INT      :
      case CTYPE_UNSIGNED_LONG     :
         hb_retnl ( rc.Long );
         break;

      case CTYPE_INT_PTR           :
      case CTYPE_UNSIGNED_SHORT_PTR:
      case CTYPE_UNSIGNED_INT_PTR  :
      case CTYPE_STRUCTURE_PTR     :
      case CTYPE_LONG_PTR          :
      case CTYPE_UNSIGNED_LONG_PTR :
      case CTYPE_VOID_PTR          :
      case CTYPE_FLOAT_PTR         :
      case CTYPE_DOUBLE_PTR        :
         hb_retptr ( (void *) rc.Long );
         break;

      case CTYPE_FLOAT             :
         hb_retnd( rc.Float );
         break;

      case CTYPE_DOUBLE            :
         hb_retnd( rc.Double );
         break;

      default:
         MessageBox( GetActiveWindow(), "Unknown return type!", "DLLCall Parameter Error!", MB_OK | MB_ICONERROR );
         break;
   }
}

//------------------------------------------------------------------

HB_FUNC( DLLEXECUTECALL )
{
   int iParams = hb_pcount();
   int iFirst  = 2;
   int iArgCnt = iParams - 1;
   PEXECSTRUCT xec = (PEXECSTRUCT) hb_parptr(1);

   if ( xec != NULL )
   {
      if ( xec->dwType == EXEC_DLL )
      {
         if ( xec->hDLL != (HINSTANCE) NULL )
         {
            if ( xec->lpFunc != NULL )
            {
               DllExec( 0, 0, NULL, iParams, iFirst, iArgCnt, xec );
            }
         }
      }
   }
}

HB_FUNC( DLLCALL )
{
   int iParams = hb_pcount();
   int iFirst = 4;
   int iArgCnt = iParams - 3;
   int iFlags;
   BOOL lUnload = FALSE;
   HINSTANCE  hInst;
   LPVOID     lpFunction;
   BYTE       cFuncName[MAX_PATH];

   if ( ISCHAR(1) )
   {
      hInst = LoadLibrary( hb_parc( 1 ) );
      lUnload = TRUE;
   }
   else
   {
      hInst = (HINSTANCE) hb_parnl( 1 );
   }

   if ( hInst == NULL || (DWORD) hInst < 32)
   {
      hb_ret();
      return;
   }

   iFlags = hb_parni( 2 );

   if ((lpFunction = (LPVOID) GetProcAddress( (HMODULE) hInst,
                                ISCHAR( 3 ) ? (LPCSTR) hb_parcx(3) :
                                              (LPCSTR) hb_parnl(3) )) == 0 )
   {
      if ( ISCHAR( 3 ) )
      {
         // try forced ANSI flavour ?
         strcpy((char *) cFuncName, hb_parc(3));
         strcat((char *) cFuncName, "A");
         lpFunction = (LPVOID) GetProcAddress( (HMODULE) hInst, (const char *) cFuncName);
      }
   }

   if (lpFunction != NULL)
   {
      DllExec( iFlags, 0, lpFunction, iParams, iFirst, iArgCnt, NULL );
   }

   if ( lUnload )
   {
      FreeLibrary( hInst );
   }
}



//------------------------------------------------------------------
// DynaCall support comments below
//////////////////////////////////////////////////////
//
//   This part used modified code of Vic McClung.
//   The modifications were to separate the library
//   loading and getting the procedure address
//   from the actual function call.
//   The parameters have been slightly re-arranged
//   to allow for C-like syntax, on function
//   declaration. The changes allow to load the library
//   and to get the procedure addresses in advance,
//   which makes it work similarly to C import libraries.
//   From experience, when using dynamic libraries, loading
//   the library and getting the address of the procedure
//   part of using the DLL.
//   Additionally the changes will allow to use standard
//   xHarbour C type defines, as used with structure types,
//   ande defined in cstruct.ch .
//
//
//   Andrew Wos.
//   20/07/2002.
//
//
//////////////////////////////////////////////////////


/*

Copyright 2002 Vic McClung <vicmcclung@vicmcclung.com>
www - http://www.vicmcclung.com

Borland mods by ptucker@sympatico.ca
MinGW support by Phil Krylov <phil a t newstar.rinet.ru>

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this software; see the file COPYING.  If not, write to
the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).

As a special exception, you have permission for
additional uses of the text contained in this release of VMGUI.

The exception is that, if you link the VMGUI library with other
files to produce an executable, this does not by itself cause the
resulting executable to be covered by the GNU General Public License.
Your use of that executable is in no way restricted on account of
linking the VMGUI library code into it.

*/

//------------------------------------------------------------------


//------------------------------------------------------------------

RESULT DynaCall(int Flags,       LPVOID lpFunction, int nArgs,
                DYNAPARM Parm[], LPVOID pRet,      int nRetSiz)
{
   // Call the specified function with the given parameters. Build a
   // proper stack and take care of correct return value processing.
   RESULT  Res = { 0 };
   int    i, nInd, nSize;
   DWORD   dwEAX, dwEDX, dwVal, *pStack, *pESP, dwStSize = 0;
   BYTE   *pArg;

   // Reserve 256 bytes of stack space for our arguments
   #if defined( __MINGW32__ )
      asm volatile( "\tmovl %%esp, %0\n"
                    "\tsubl $0x100, %%esp\n"
                    : "=r" (pStack) );
   #elif defined( __BORLANDC__ ) || defined(__DMC__)
      pStack = (DWORD *)_ESP;
      _ESP -= 0x100;
   #else
      _asm mov pStack, esp
      _asm mov pESP, esp
      _asm sub esp, 0x100
   #endif

   // Push args onto the stack. Every argument is aligned on a
   // 4-byte boundary. We start at the rightmost argument.
   for (i = 0; i < nArgs; i++)
   {
      nInd  = (nArgs - 1) - i;
      // Start at the back of the arg ptr, aligned on a DWORD
      nSize = (Parm[nInd].nWidth + 3) / 4 * 4;
      pArg  = (BYTE *)Parm[nInd].pArg + nSize - 4;
      dwStSize += (DWORD)nSize; // Count no of bytes on stack
      while (nSize > 0)
      {
         // Copy argument to the stack
         if (Parm[nInd].dwFlags & DC_FLAG_ARGPTR)
         {
            // Arg has a ptr to a variable that has the arg
            dwVal = (DWORD) pArg; // Get first four bytes
            pArg -= 4;           // Next part of argument
         }
         else
         {
            // Arg has the real arg
            dwVal = Parm[nInd].dwArg;
         }
         // Do push dwVal
         pStack--;         // ESP = ESP - 4
         *pStack = dwVal;   // SS:[ESP] = dwVal
         nSize -= 4;
      }
   }

   if ((pRet != NULL) && ((Flags & DC_BORLAND) || (nRetSiz > 8)))
   {
      // Return value isn't passed through registers, memory copy
      // is performed instead. Pass the pointer as hidden arg.
      dwStSize += 4;        // Add stack size
      pStack--;            // ESP = ESP - 4
      *pStack = (DWORD)pRet;  // SS:[ESP] = pMem
   }
   #if defined( __MINGW32__ )
      asm volatile( "\taddl $0x100, %%esp\n" /* Restore to original position */
                    "\tsubl %2, %%esp\n"     /* Adjust for our new parameters */

                    /* Stack is now properly built, we can call the function */
                    "\tcall *%3\n"
                    : "=a" (dwEAX), "=d" (dwEDX) /* Save eax/edx registers */
                    : "r" (dwStSize), "r" (lpFunction) );

      /* Possibly adjust stack and read return values. */
      if (Flags & DC_CALL_CDECL)
      {
         asm volatile( "\taddl %0, %%esp\n" : : "r" (dwStSize) );
      }

      if (Flags & DC_RETVAL_MATH4)
      {
         asm volatile( "\tfstps (%0)\n" : "=r" (Res) );
      }
      else if (Flags & DC_RETVAL_MATH8)
      {
         asm volatile( "\tfstpl (%0)\n" : "=r" (Res) );
      }
      else if (pRet == NULL)
      {
         Res.Int = dwEAX;
         (&Res.Int)[1] = dwEDX;
      }
      else if (((Flags & DC_BORLAND) == 0) && (nRetSiz <= 8))
      {
         /* Microsoft optimized less than 8-bytes structure passing */
         ((int *)pRet)[0] = dwEAX;
         ((int *)pRet)[1] = dwEDX;
      }
   #elif defined( __BORLANDC__ ) || defined(__DMC__)
      _ESP += (0x100 - dwStSize);
      _EDX =  (DWORD) &lpFunction;
      __emit__(0xff,0x12); // call [edx];
      dwEAX = _EAX;
      dwEDX = _EDX;

      // Possibly adjust stack and read return values.
      if (Flags & DC_CALL_CDECL)
      {
         _ESP += dwStSize;
      }

      if (Flags & DC_RETVAL_MATH4)
      {
         _EBX = (DWORD) &Res;
         _EAX = dwEAX;
         _EDX = dwEDX;
         __emit__(0xd9,0x1b);   //     _asm fnstp float ptr [ebx]
      }
      else if (Flags & DC_RETVAL_MATH8)
      {
         _EBX = (DWORD) &Res;
         _EAX = dwEAX;
         _EDX = dwEDX;
         __emit__(0xdd,0x1b);   //     _asm fnstp qword ptr [ebx]
      }
      else if (pRet == NULL)
      {
         _EBX = (DWORD) &Res;
         _EAX = dwEAX;
         _EDX = dwEDX;
//         _asm mov DWORD PTR [ebx], eax
//         _asm mov DWORD PTR [ebx + 4], edx
         __emit__(0x89,0x03,0x89,0x53,0x04);
      }
      else if (((Flags & DC_BORLAND) == 0) && (nRetSiz <= 8))
      {
         _EBX = (DWORD) pRet;
         _EAX = dwEAX;
         _EDX = dwEDX;
//         _asm mov DWORD PTR [ebx], eax
//         _asm mov DWORD PTR [ebx + 4], edx
         __emit__(0x89,0x03,0x89,0x53,0x04);
      }
   #else
      _asm add esp, 0x100       // Restore to original position
      _asm sub esp, dwStSize     // Adjust for our new parameters

      // Stack is now properly built, we can call the function
      _asm call [lpFunction]

      _asm mov dwEAX, eax       // Save eax/edx registers
      _asm mov dwEDX, edx       //

      // Possibly adjust stack and read return values.
      if (Flags & DC_CALL_CDECL)
      {
         _asm add esp, dwStSize
      }

      if (Flags & DC_RETVAL_MATH4)
      {
         _asm fstp dword ptr [Res]
      }
      else if (Flags & DC_RETVAL_MATH8)
      {
         _asm fstp qword ptr [Res]
      }
      else if (pRet == NULL)
      {
         _asm mov eax, [dwEAX]
         _asm mov DWORD PTR [Res], eax
         _asm mov edx, [dwEDX]
         _asm mov DWORD PTR [Res + 4], edx
      }
      else if (((Flags & DC_BORLAND) == 0) && (nRetSiz <= 8))
      {
         // Microsoft optimized less than 8-bytes structure passing
         _asm mov ecx, DWORD PTR [pRet]
         _asm mov eax, [dwEAX]
         _asm mov DWORD PTR [ecx], eax
         _asm mov edx, [dwEDX]
         _asm mov DWORD PTR [ecx + 4], edx
      }

      _asm mov esp, pESP
   #endif

   return Res;
}


//
// Call a DLL function from (x)Harbour, the first parameter is a pointer returned from
// GetProcAddress above. Note that it is hardcoded to use PASCAL calling convention.
//

HB_FUNC( CALLDLL )
{
   int iParams = hb_pcount();
   int iFirst = 2;
   int iArgCnt = iParams - 1;
   LPVOID     lpFunction;

   lpFunction = (LPVOID) hb_parptr( 1 );
   if (lpFunction != NULL)
   {
      DllExec( DC_CALL_STD, 0, lpFunction, iParams, iFirst, iArgCnt, NULL );
   }

}


HB_FUNC( CALLDLLBOOL )
{
   int iParams = hb_pcount();
   int iFirst = 2;
   int iArgCnt = iParams - 1;
   LPVOID     lpFunction;

   lpFunction = (LPVOID) hb_parptr( 1 );
   if (lpFunction != NULL)
   {
      DllExec( DC_CALL_STD, CTYPE_BOOL, lpFunction, iParams, iFirst, iArgCnt, NULL );
   }

}


#endif /* HB_OS_WIN32 */

#pragma ENDDUMP
From makis1970 at gmail.com  Mon Jun  9 08:15:55 2008
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Mon Jun  9 08:19:30 2008
Subject: dllcall.c - Was: [Harbour] gtwvt font best setup
In-Reply-To: <1ED6F20E-CFB0-40FE-A862-0921575826BB@syenar.hu>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com>	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>	<005201c8c879$bc0c7470$34255d50$@com>	<EF303E84-DA4B-4734-BDE5-C9482CBC82BF@syenar.hu>	<006b01c8c88c$df0da850$9d28f8f0$@com>	<9257026e0806070522g39fb5566rfbe4b339915b77a2@mail.gmail.com>	<013401c8ca10$124246c0$36c6d440$@com>	<D30B8615-EE36-4406-B18A-32FFCE79B644@syenar.hu>	<9FA31D2B-D13E-450E-9ACF-26A3DC44F889@syenar.hu>	<015401c8ca1a$c9b434d0$5d1c9e70$@com>
	<1ED6F20E-CFB0-40FE-A862-0921575826BB@syenar.hu>
Message-ID: <017e01c8ca2a$9311e5c0$b935b140$@com>

Viktor,
Have in mind also that Frax (Fastreport) have also a cross platform report
designer. I don't know if it's possible to port frax to linux also.

Brgds,
Mike Evans


From mbelgrano at deltain.it  Mon Jun  9 08:57:16 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun  9 08:57:24 2008
Subject: [Harbour] How Hbmk, hblnk, hbcc with bcc
In-Reply-To: <20080515003852.GC5548@34-mo7-2.acn.waw.pl>
References: <20080429145512.GC13289@34-mo7-2.acn.waw.pl><AFB948164110ED43B5EB849E8DEEF03815EBDD@SRV02.deltain.net>
	<20080515003852.GC5548@34-mo7-2.acn.waw.pl>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECF9@SRV02.deltain.net>

please Przemek start the base version as prg so I/we can continue it.

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Przemyslaw
Czerpak
Sent: Thursday, May 15, 2008 2:39 AM
To: Harbour Project Main Developer List.
Subject: Re: RE: [Harbour] How Hbmk, hblnk, hbcc with bcc

On Wed, 14 May 2008, Massimo Belgrano wrote:

Hi Massimo,

> >Anyhow for real multiplatform support I suggest to rewrite
> >them from scratch in C. I think that it will be good to add
> >to linker wrapper also support RTLINK, BLINKER and EXOSPACE
> >.lnk files so it will be possible to use original Clipper
> >link files. Of course most of commands necessary for DOS Clipper
> >builds will be simply ignored.
> >In first stage I suggest to write them as .prg code. Massimo,
> >I guess that it will be easier for you and it's highly possible
> >that it will not be necessary to rewrite them in C at all.
> Will anybody create new make system?

Probably I will start the base version but I cannot say when
I'll find time for it. I'm really very busy now - sorry.

best regards,
Przemek
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Mon Jun  9 09:20:29 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun  9 09:20:36 2008
Subject: [Harbour] How Hbmk, hblnk, hbcc with bcc
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECF9@SRV02.deltain.net>
References: <20080429145512.GC13289@34-mo7-2.acn.waw.pl><AFB948164110ED43B5EB849E8DEEF03815EBDD@SRV02.deltain.net><20080515003852.GC5548@34-mo7-2.acn.waw.pl>
	<AFB948164110ED43B5EB849E8DEEF03815ECF9@SRV02.deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECFA@SRV02.deltain.net>

The fist user ha made a request
http://lists.harbour-project.org/pipermail/harbour-users/2008-June/00000
1.html
it is not able to compile a sample
I invite same linux user to help him?
We need a unique make system for made more easy ?
We need better documentation?


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo
Belgrano
Sent: Monday, June 09, 2008 2:57 PM
To: Harbour Project Main Developer List.
Subject: RE: RE: [Harbour] How Hbmk, hblnk, hbcc with bcc

please Przemek start the base version as prg so I/we can continue it.

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Przemyslaw
Czerpak
Sent: Thursday, May 15, 2008 2:39 AM
To: Harbour Project Main Developer List.
Subject: Re: RE: [Harbour] How Hbmk, hblnk, hbcc with bcc

On Wed, 14 May 2008, Massimo Belgrano wrote:

Hi Massimo,

> >Anyhow for real multiplatform support I suggest to rewrite
> >them from scratch in C. I think that it will be good to add
> >to linker wrapper also support RTLINK, BLINKER and EXOSPACE
> >.lnk files so it will be possible to use original Clipper
> >link files. Of course most of commands necessary for DOS Clipper
> >builds will be simply ignored.
> >In first stage I suggest to write them as .prg code. Massimo,
> >I guess that it will be easier for you and it's highly possible
> >that it will not be necessary to rewrite them in C at all.
> Will anybody create new make system?

Probably I will start the base version but I cannot say when
I'll find time for it. I'm really very busy now - sorry.

best regards,
Przemek
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Mon Jun  9 09:27:50 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun  9 09:28:03 2008
Subject: [Harbour] Why your are using harbour ?
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECFC@SRV02.deltain.net>

Because you have clipper code and want modernize?
Because you want a productive tools to made business application?
Please post here your because

Massimo Belgrano

From a.jurkiewicz at abix.info.pl  Mon Jun  9 09:33:15 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Mon Jun  9 09:33:20 2008
Subject: [Harbour] How Hbmk, hblnk, hbcc with bcc
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECFA@SRV02.deltain.net>
References: <20080429145512.GC13289@34-mo7-2.acn.waw.pl>
	<AFB948164110ED43B5EB849E8DEEF03815ECF9@SRV02.deltain.net>
	<AFB948164110ED43B5EB849E8DEEF03815ECFA@SRV02.deltain.net>
Message-ID: <200806091533.16284.a.jurkiewicz@abix.info.pl>

Dnia poniedzia?ek, 9 czerwca 2008, Massimo Belgrano napisa?:
> http://lists.harbour-project.org/pipermail/harbour-users/2008-June/00000
> 1.html
Done,
I've answered.


Best Regards,
Adam

-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
From rportnoff at spendmap.com  Mon Jun  9 09:36:34 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Mon Jun  9 09:35:24 2008
Subject: [Harbour] Why your are using harbour ?
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECFC@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ECFC@SRV02.deltain.net>
Message-ID: <B0081075207@ms1.3peaks.com>

Because Harbour is proven to be stable, robust and efficient.

Because Harbour supports RDDs (Replaceable Database Drivers) to allow 
multiple data sources which allows an application to scale.

Because Harbour is portable across multiple operating systems with 
the same code base.

Because Harbour's architecture is fully open and supports a 
third-party add on market.


At 09:27 AM 6/9/2008, you wrote:
>Because you have clipper code and want modernize?
>Because you want a productive tools to made business application?
>Please post here your because
>
>Massimo Belgrano
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From a.jurkiewicz at abix.info.pl  Mon Jun  9 09:36:18 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Mon Jun  9 09:36:25 2008
Subject: [Harbour] Why your are using harbour ?
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECFC@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ECFC@SRV02.deltain.net>
Message-ID: <200806091536.18337.a.jurkiewicz@abix.info.pl>

Dnia poniedzia?ek, 9 czerwca 2008, Massimo Belgrano napisa?:
> Because you have clipper code and want modernize?
> Because you want a productive tools to made business application?
> Please post here your because
>
Because Przemek uses it ;-)

And for real, because I know Clipper and use ut since 1990... and now I'm 
selling bussiness aplication made by Przemek and I'm making some additional 
functionality for it under Harbour ...

Best Regards,
Adam
-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
From mbelgrano at deltain.it  Mon Jun  9 09:41:43 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun  9 09:41:51 2008
Subject: [Harbour] Why your are using harbour ?
In-Reply-To: <200806091536.18337.a.jurkiewicz@abix.info.pl>
References: <AFB948164110ED43B5EB849E8DEEF03815ECFC@SRV02.deltain.net>
	<200806091536.18337.a.jurkiewicz@abix.info.pl>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ECFF@SRV02.deltain.net>

Przemek is a key factor in Harbour?

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of ABIX - Adam Jurkiewicz
Sent: Monday, June 09, 2008 3:36 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Why your are using harbour ?

Dnia poniedzia?ek, 9 czerwca 2008, Massimo Belgrano napisa?:
> Because you have clipper code and want modernize?
> Because you want a productive tools to made business application?
> Please post here your because
>
Because Przemek uses it ;-)

And for real, because I know Clipper and use ut since 1990... and now I'm 
selling bussiness aplication made by Przemek and I'm making some additional 
functionality for it under Harbour ...

Best Regards,
Adam
-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From rportnoff at spendmap.com  Mon Jun  9 09:47:33 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Mon Jun  9 09:46:22 2008
Subject: [Harbour] Why your are using harbour ?
Message-ID: <B0081075508@ms1.3peaks.com>

Because Harbour is open-source and therefore you are not at the mercy 
of the decisions of a private company.

Because Harbour is developed by a very experienced and capable team 
of developers.


At 09:27 AM 6/9/2008, you wrote:
>Because you have clipper code and want modernize?
>Because you want a productive tools to made business application?
>Please post here your because
>
>Massimo Belgrano
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From a.jurkiewicz at abix.info.pl  Mon Jun  9 10:03:07 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Mon Jun  9 10:03:14 2008
Subject: [Harbour] Why your are using harbour ?
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECFF@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ECFC@SRV02.deltain.net>
	<200806091536.18337.a.jurkiewicz@abix.info.pl>
	<AFB948164110ED43B5EB849E8DEEF03815ECFF@SRV02.deltain.net>
Message-ID: <200806091603.07916.a.jurkiewicz@abix.info.pl>

Dnia poniedzia?ek, 9 czerwca 2008, Massimo Belgrano napisa?:
> Przemek is a key factor in Harbour?
>
Massimo, please explain the question, I'm not so good in English..
Adam


-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
From myorg63 at mail.ru  Mon Jun  9 10:16:23 2008
From: myorg63 at mail.ru (Petr Chornyj)
Date: Mon Jun  9 10:16:26 2008
Subject: [Harbour] dllcall.c - Was: gtwvt font best setup
In-Reply-To: <017e01c8ca2a$9311e5c0$b935b140$@com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>
	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>
	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>
	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>
	<17694977.post@talk.nabble.com>
	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>
	<00d101c8c7f9$b6636310$232a2930$@com>
	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>
	<005201c8c879$bc0c7470$34255d50$@com>
	<EF303E84-DA4B-4734-BDE5-C9482CBC82BF@syenar.hu>
	<006b01c8c88c$df0da850$9d28f8f0$@com>
	<9257026e0806070522g39fb5566rfbe4b339915b77a2@mail.gmail.com>
	<013401c8ca10$124246c0$36c6d440$@com>
	<D30B8615-EE36-4406-B18A-32FFCE79B644@syenar.hu>
	<9FA31D2B-D13E-450E-9ACF-26A3DC44F889@syenar.hu>
	<015401c8ca1a$c9b434d0$5d1c9e70$@com>
	<1ED6F20E-CFB0-40FE-A862-0921575826BB@syenar.hu>
	<017e01c8ca2a$9311e5c0$b935b140$@com>
Message-ID: <17733751.post@talk.nabble.com>




Mike Evans (Gmail) wrote:
> 
> Have in mind also that Frax (Fastreport) have also a cross platform report
> designer. I don't know if it's possible to port frax to linux also.
> 

Why you say Frax ( FastReport for Alaska xBase ) not FRH ( FastReport for
Harbour )?

Q: Is there Fastreport for Linux ?

Sergey Spirin (translated from russian):
..
In Windows it was realized as compiling  of Fastreport as dynamic library
(as the first step to the purpose).
..
Speech about Fastreport CLX. And it a product providing all life cycle of
reports in Linux, from development to the seal and export. .. 
But as I talked already, Borland had stopped Kylix, declaring about absence
of commercial interest, Fastreport CLX is "frozen". A therefore current talk
is abstract enough.
..


Regards,
Petr

-- 
View this message in context: http://www.nabble.com/gtwvt-font-best-setup-tp17687774p17733751.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From rportnoff at spendmap.com  Mon Jun  9 10:18:50 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Mon Jun  9 10:17:41 2008
Subject: [Harbour] Upating website
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECDC@SRV02.deltain.net>
References: <200806070322.10360.philb@philb.us>
	<AFB948164110ED43B5EB849E8DEEF03815ECDC@SRV02.deltain.net>
Message-ID: <B0081076421@ms1.3peaks.com>

Hi Massimo,

Once the content is complete, I don't mind cleaning-up the grammar - 
Let me know...

Randy.


At 04:39 AM 6/7/2008, you wrote:
>Will same people write "What is Harbour?" For adding in website
>
>I have tried here with my worse English
>http://en.wikipedia.org/wiki/Harbour_compiler
>
>I invite  Przemyslaw Czerpak write "Philosophies of implementation and
>Future version"
>
>Massimo Belgrano
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From mbelgrano at deltain.it  Mon Jun  9 10:31:26 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun  9 10:31:32 2008
Subject: [Harbour] Why your are using harbour ?
In-Reply-To: <200806091603.07916.a.jurkiewicz@abix.info.pl>
References: <AFB948164110ED43B5EB849E8DEEF03815ECFC@SRV02.deltain.net><200806091536.18337.a.jurkiewicz@abix.info.pl><AFB948164110ED43B5EB849E8DEEF03815ECFF@SRV02.deltain.net>
	<200806091603.07916.a.jurkiewicz@abix.info.pl>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED03@SRV02.deltain.net>

Sorry for my bad English?
I appreciate the way that Przemek have make to harbour from 2007

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of ABIX - Adam Jurkiewicz
Sent: Monday, June 09, 2008 4:03 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Why your are using harbour ?

Dnia poniedzia?ek, 9 czerwca 2008, Massimo Belgrano napisa?:
> Przemek is a key factor in Harbour?
>
Massimo, please explain the question, I'm not so good in English..
Adam


-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Mon Jun  9 10:30:50 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun  9 10:37:38 2008
Subject: [Harbour] Proposal of modification in Harbour\doc 
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED02@SRV02.deltain.net>

In Harbour\doc there is a few but important documentation files:
author.txt     class_tp.txt   cmdline.txt    codebloc.txt   codestyl.txt
c_std.txt      destruct.txt   dirstruc.txt   funclist.txt   gmake.txt
gtapi.txt      hbmake.txt     hbpplib.txt    hdr_tpl.txt    howtobld.txt
howtobsd.txt   howtomak.txt   howtorel.txt   howtosvn.txt   hrb_faq.txt
lang_id.txt    license.txt    linux1st.txt   pcode.txt      pp.txt
pragma.txt     readme.txt     simplex.txt    statics.txt    tracing.txt
transfrm.txt   vm.txt         whatsnew.txt   windll.txt

Is possible convert in rtp,odf,XML (IMO by OpenOffice.org)
So it can be edited from linux/windows with better layout and image with
Style Sheets


Massimo Belgrano


From a.jurkiewicz at abix.info.pl  Mon Jun  9 10:44:01 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Mon Jun  9 10:44:05 2008
Subject: [Harbour] Why your are using harbour ?
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED03@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ECFC@SRV02.deltain.net>
	<200806091603.07916.a.jurkiewicz@abix.info.pl>
	<AFB948164110ED43B5EB849E8DEEF03815ED03@SRV02.deltain.net>
Message-ID: <200806091644.01444.a.jurkiewicz@abix.info.pl>

Dnia poniedzia?ek, 9 czerwca 2008, Massimo Belgrano napisa?:
> Sorry for my bad English?
> I appreciate the way that Przemek have make to harbour from 2007
>
Yes, 

I can only add, that I'm happy, that I know him personally ;-)


Best regards,
Adam

-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
From mbelgrano at deltain.it  Mon Jun  9 10:54:08 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun  9 10:54:16 2008
Subject: [Harbour] Upating website
In-Reply-To: <B0081076421@ms1.3peaks.com>
References: <200806070322.10360.philb@philb.us><AFB948164110ED43B5EB849E8DEEF03815ECDC@SRV02.deltain.net>
	<B0081076421@ms1.3peaks.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED05@SRV02.deltain.net>

Hi randy
What is missing in your opition at
http://en.wikipedia.org/wiki/Harbour_compiler ?

If you can clean up the grammar now will be usefull for user that want
add something later
Thanks for collaboration
Massimo.

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Randy Portnoff
Sent: Monday, June 09, 2008 4:19 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Upating website

Hi Massimo,

Once the content is complete, I don't mind cleaning-up the grammar - 
Let me know...

Randy.


From makis1970 at gmail.com  Mon Jun  9 10:51:54 2008
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Mon Jun  9 10:55:34 2008
Subject: [Harbour] dllcall.c - Was: gtwvt font best setup
In-Reply-To: <17733751.post@talk.nabble.com>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<4B5F21AF-EA04-44BB-8882-BD1E7963580E@syenar.hu>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com>	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>	<005201c8c879$bc0c7470$34255d50$@com>	<EF303E84-DA4B-4734-BDE5-C9482CBC82BF@syenar.hu>	<006b01c8c88c$df0da850$9d28f8f0$@com>	<9257026e0806070522g39fb5566rfbe4b339915b77a2@mail.gmail.com>	<013401c8ca10$124246c0$36c6d440$@com>	<D30B8615-EE36-4406-B18A-32FFCE79B644@syenar.hu>	<9FA31D2B-D13E-450E-9ACF-26A3DC44F889@syenar.hu>	<015401c8ca1a$c9b434d0$5d1c9e70$@com>	<1ED6F20E-CFB0-40FE-A862-0921575826BB@syenar.hu>	<017e01c8ca2a$9311e5c0$b935b140$@com>
	<17733751.post@talk.nabble.com>
Message-ID: <019a01c8ca40$5cf83ff0$16e8bfd0$@com>

Hi Petr,
I said frax by accident. Of course I mean Frah.

>Why you say Frax ( FastReport for Alaska xBase ) not FRH ( FastReport for
>Harbour )?

>Speech about Fastreport CLX. And it a product providing all life cycle of
>reports in Linux, from development to the seal and export. .. 
>But as I talked already, Borland had stopped Kylix, declaring about absence
>of commercial interest, Fastreport CLX is "frozen". A therefore current
talk
>is abstract enough.
I don't know if Fast report abandoned CLX but from their site it's possible
to purchase it and they said :
You can develop cross-platform reports with cross-platform 32-bit
applications that run on both the Linux and Windows operating systems.
FastReport CLX is designed for Delphi 6,7, C++Builder 6, and Kylix (1-3).
FastReport CLX supports Red Hat 7.2, ASP Linux 8.2, and SuSE 7.3.
FastReport CLX files can be opened only in FastReprt CLX and FastReport 2.47
VCL.

Brgds,
Mike Evans

From rportnoff at spendmap.com  Mon Jun  9 11:20:58 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Mon Jun  9 11:19:53 2008
Subject: [Harbour] Upating website
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED05@SRV02.deltain.net>
References: <200806070322.10360.philb@philb.us>
	<AFB948164110ED43B5EB849E8DEEF03815ECDC@SRV02.deltain.net>
	<B0081076421@ms1.3peaks.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED05@SRV02.deltain.net>
Message-ID: <B0081078256@ms1.3peaks.com>

Ok - I will take the text from there, clean it up and I will then 
send it to you so that you can update it...

At 10:54 AM 6/9/2008, you wrote:
>Hi randy
>What is missing in your opition at
>http://en.wikipedia.org/wiki/Harbour_compiler ?
>
>If you can clean up the grammar now will be usefull for user that want
>add something later
>Thanks for collaboration
>Massimo.
>
>-----Original Message-----
>From: harbour-bounces@harbour-project.org
>[mailto:harbour-bounces@harbour-project.org] On Behalf Of Randy Portnoff
>Sent: Monday, June 09, 2008 4:19 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Upating website
>
>Hi Massimo,
>
>Once the content is complete, I don't mind cleaning-up the grammar -
>Let me know...
>
>Randy.
>
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From mbelgrano at deltain.it  Mon Jun  9 11:24:06 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun  9 11:24:16 2008
Subject: [Harbour] Upating website
In-Reply-To: <B0081078256@ms1.3peaks.com>
References: <200806070322.10360.philb@philb.us><AFB948164110ED43B5EB849E8DEEF03815ECDC@SRV02.deltain.net><B0081076421@ms1.3peaks.com><AFB948164110ED43B5EB849E8DEEF03815ED05@SRV02.deltain.net>
	<B0081078256@ms1.3peaks.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED07@SRV02.deltain.net>

Thanks

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Randy Portnoff
Sent: Monday, June 09, 2008 5:21 PM
To: Harbour Project Main Developer List.
Subject: RE: [Harbour] Upating website

Ok - I will take the text from there, clean it up and I will then 
send it to you so that you can update it...


From david at gesintur.com  Mon Jun  9 11:27:00 2008
From: david at gesintur.com (David MS)
Date: Mon Jun  9 11:27:06 2008
Subject: [Harbour] How to call a external app?
Message-ID: <005901c8ca45$435f91b0$1301a8c0@INFOR04>

Hi all,

I want to call a external app like __Run( ) does, but I need to stop the execution on main
thread until the end on the application called and also get the return value.

It?s exits?

Best regards.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080609/f645c0a9/attachment-0001.html
From a.jurkiewicz at abix.info.pl  Mon Jun  9 11:32:59 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Mon Jun  9 11:33:06 2008
Subject: [Harbour] How to call a external app?
In-Reply-To: <005901c8ca45$435f91b0$1301a8c0@INFOR04>
References: <005901c8ca45$435f91b0$1301a8c0@INFOR04>
Message-ID: <200806091732.59195.a.jurkiewicz@abix.info.pl>

Dnia poniedzia?ek, 9 czerwca 2008, David MS napisa?:
> Hi all,
>
> I want to call a external app like __Run( ) does, but I need to stop the
> execution on main thread until the end on the application called and also
> get the return value.
>
> It?s exits?
>
> Best regards.

local cApp := "/path/to/application"
nReturnCode := HB_RUN ( cApp )

Best Regards,
Adam
-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
From harbour.01 at syenar.hu  Mon Jun  9 11:32:50 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 11:33:54 2008
Subject: dllcall.c - Was: [Harbour] gtwvt font best setup
In-Reply-To: <484D11BE.5040605@mweb.co.za>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com>	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>	<005201c8c879$bc0c7470$34255d50$@com>	<EF303E84-DA4B-4734-BDE5-C9482CBC82BF@syenar.hu>	<006b01c8c88c$df0da850$9d28f8f0$@com>	<9257026e0806070522g39fb5566rfbe4b339915b77a2@mail.gmail.com>	<013401c8ca10$124246c0$36c6d440$@com>	<D30B8615-EE36-4406-B18A-32FFCE79B644@syenar.hu>	<484D08E5.9030201@mweb.co.za>
	<6BAFC84B-999C-44C7-82AE-6734527B2E48@syenar.hu>
	<484D11BE.5040605@mweb.co.za>
Message-ID: <0C80EBCC-47F1-46FD-B95A-69490932D505@syenar.hu>

Thanks Alex. This looks like a pure .c in .prg disguise
(which, I don't really the point of but anyways :).

I'll do some merging later. I may have questions, too.

Brgds,
Viktor

On 2008.06.09., at 13:19, Alex Strickland wrote:

> Szak?ts Viktor wrote:
>
>> Nice to read about your experiences, I'd appreciate to
>> see your code.
>> Seems like the CSTRUCT stuff can easily be detached,
>> this is good.
>> I currently have a ported version from xhb repo, plus
>> a modified version distributed along pscript32 (with
>> some enhanced 'double' support I guess), and I hope
>> to get yours.
>> We will need to mash up these versions to create the
>> one going to hbw32.
>
> I have done exactly what you and Przemek dislike and made it a .prg  
> with BEGINDUMP/ENDDUMP :) but besides that it is easy to do a diff.
>
> I have attached it.
>
> Regards
> Alex
> #pragma BEGINDUMP
>
> /*
> * $Id: dllcall.c,v 1.9 2007/04/14 21:47:22 ronpinkas Exp $
> */
>
> /*
> * Harbour Project source code:
> * Xbase++ Compatibility functions
> * Copyright 2006 Paul Tucker <ptucker@sympatico.ca>
> * Additional copyrights below.
> *
> * See doc/license.txt for licensing terms.
> *
> * www - http://www.harbour-project.org; http://www.xharbour.org
> *
> * This program is free software; you can redistribute it and/or modify
> * it under the terms of the GNU General Public License as published by
> * the Free Software Foundation; either version 2, or (at your option )
> * any later version.
> *
> * This program is distributed in the hope that it will be useful,
> * but WITHOUT ANY WARRANTY; without even the implied warranty of
> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
> * GNU General Public License for more details.
> *
> * You should have received a copy of the GNU General Public License
> * along with this software; see the file COPYING.   If not, write to
> * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
> * Boston, MA 02111-1307 USA (or visit the web site http:// 
> www.gnu.org/ ).
> *
> * As a special exception, the Harbour Project gives permission for
> * additional uses of the text contained in its release of Harbour.
> *
> * The exception is that, if you link the Harbour libraries with other
> * files to produce an executable, this does not by itself cause the
> * resulting executable to be covered by the GNU General Public  
> License.
> * Your use of that executable is in no way restricted on account of
> * linking the Harbour library code into it.
> *
> * This exception does not however invalidate any other reasons why
> * the executable file might be covered by the GNU General Public  
> License.
> *
> * This exception applies only to the code released by the Harbour
> * Project under the name Harbour.  If you copy code from other
> * Harbour Project or Free Software Foundation releases into a copy of
> * Harbour, as the General Public License permits, the exception does
> * not apply to the code that you add in this way.   To avoid  
> misleading
> * anyone as to the status of such modified files, you must delete
> * this exception notice from them.
> *
> * If you write modifications of your own for Harbour, it is your  
> choice
> * whether to permit this exception to apply to your modifications.
> * If you do not wish that, delete this exception notice.
> */
>
> /*
> * Notes:
> *
> * I'm not totally familiar with how Xbase++ works.  This  
> functionality was
> * derived from the context in which the functions are used.
> *
> * pt
> *
> */
>
> #define _WIN32_WINNT   0x0400
> #define  WIN32_LEAN_AND_MEAN
>
> #include "hbapiitm.h"
>
> #if defined( HB_OS_WIN_32 )
>
> #include <windows.h>
>
> #include "hbdll.ch"
>
> #define EXEC_DLL               0x45584543
>
> typedef struct tag_ExecStruct
> {
>   DWORD     dwType;       // type info
>   char *    cDLL;         // DLL
>   HINSTANCE hDLL;         // Handle
>   char *    cProc;        // Ordinal or Name
>   DWORD     dwOrdinal;
>   DWORD     dwFlags;      // Calling Flags
>   LPVOID    lpFunc;
> } EXECSTRUCT, *PEXECSTRUCT;
>
>
> static PHB_DYNS pHB_CSTRUCTURE = NULL, pPOINTER, pVALUE, pBUFFER,  
> pDEVALUE;
>
> #include "hbapi.h"
> #ifndef __XHARBOUR__
> #include "hbapicls.h"
> #endif
> #include "hbstack.h"
> #include "hbvm.h"
>
> /* ADS char HB_EXPORT * hb_parcstruct( int iParam, ... )
> {
>   //HB_THREAD_STUB_ANY
>
>   HB_TRACE(HB_TR_DEBUG, ("hb_parcstruct(%d, ...)", iParam));
>
>   if( pHB_CSTRUCTURE == NULL )
>   {
>       pHB_CSTRUCTURE = hb_dynsymFind( "HB_CSTRUCTURE" );
>
>       pPOINTER       = hb_dynsymGetCase( "POINTER" );
>       pVALUE         = hb_dynsymGetCase( "VALUE" );
>       pBUFFER        = hb_dynsymGetCase( "BUFFER" );
>       pDEVALUE       = hb_dynsymGetCase( "DEVALUE" );
>   }
>
>   if( ( iParam >= 0 && iParam <= hb_pcount() ) || ( iParam == -1 ) )
>   {
>      PHB_ITEM pItem = ( iParam == -1 ) ? hb_stackReturnItem() :  
> hb_stackItemFromBase( iParam );
>      BOOL bRelease = FALSE;
>
>      if( HB_IS_BYREF( pItem ) )
>      {
>         pItem = hb_itemUnRef( pItem );
>      }
>
>      if( HB_IS_ARRAY( pItem ) && ! HB_IS_OBJECT( pItem ) )
>      {
>         va_list va;
>         ULONG ulArrayIndex;
>         PHB_ITEM pArray = pItem;
>
>         va_start( va, iParam );
>         ulArrayIndex = va_arg( va, ULONG );
>         va_end( va );
>
>         pItem = hb_itemNew( NULL );
>         bRelease = TRUE;
>
>         hb_arrayGet( pArray, ulArrayIndex, pItem );
>      }
>
>      if( strncmp( hb_objGetClsName( pItem ), "C Structure", 11 ) ==  
> 0 )
>      {
>         hb_vmPushSymbol( pVALUE->pSymbol );
>         hb_vmPush( pItem );
>         hb_vmSend(0);
>
>         if( bRelease )
>         {
>            hb_itemRelease( pItem );
>         }
>
>         return hb_stackReturnItem()->item.asString.value;
>      }
>   }
>
>   return NULL;
> }*/
>
> static HB_GARBAGE_FUNC( _DLLUnload )
> {
>   PEXECSTRUCT xec = (PEXECSTRUCT) Cargo;  // provided by decl.
>
>   if ( xec->dwType == EXEC_DLL )
>   {
>      if ( xec->cDLL != NULL )
>      {
>         if ( xec->hDLL != (HINSTANCE) 0 )
>         {
>            FreeLibrary( xec->hDLL );
>         }
>
>         hb_xfree( xec->cDLL );
>      }
>
>      if ( xec->cProc != NULL )
>      {
>         hb_xfree( xec->cProc );
>      }
>
>      xec->dwType = 0;
>   }
> }
>
>
> HB_FUNC( DLLPREPARECALL )
> {
>   PEXECSTRUCT xec = (PEXECSTRUCT) hb_gcAlloc( sizeof( EXECSTRUCT ),  
> _DLLUnload );
>
>   memset( xec, 0, sizeof( EXECSTRUCT ) );
>
>   if ( ISCHAR( 1 ) )
>   {
>      xec->cDLL = hb_strdup( hb_parc( 1 ) );
>      xec->hDLL = LoadLibrary( xec->cDLL );
>   }
>   else if (ISNUM( 1 ) )
>   {
>      xec->hDLL = (HINSTANCE) hb_parnl( 1 );
>   }
>
>   if (ISNUM( 2 ) )
>   {
>      xec->dwFlags = hb_parnl( 2 );
>   }
>   else
>   {
>      xec->dwFlags = DC_CALL_STD;
>   }
>
>   if ( xec->hDLL )
>   {
>      if ( ISCHAR( 3 ) )
>      {
>         // Not a typo - reserving space for possible Ansi 'A' suffix!
>         xec->cProc = (char *) hb_xgrab( hb_parclen(3) + 2 );
>         strncpy( xec->cProc, hb_parc(3), hb_parclen(3) + 1 );
>      }
>      else if (ISNUM( 3 ) )
>      {
>         xec->dwOrdinal = hb_parnl( 3 );
>      }
>   }
>   else
>   {
>      if( xec->cDLL )
>      {
>         MessageBox( GetActiveWindow(), "DllPrepareCall:LoadLibrary()  
> failed!", xec->cDLL, MB_OK | MB_ICONERROR );
>      }
>      else
>      {
>         MessageBox( GetActiveWindow(), "DllPrepareCall() invalid  
> handle argument!", "DllPrepareCall", MB_OK | MB_ICONERROR );
>      }
>   }
>
>   xec->dwType = EXEC_DLL;
>   xec->lpFunc = (LPVOID) GetProcAddress( xec->hDLL, xec->cProc !=  
> NULL ? (LPCSTR) xec->cProc : (LPCSTR) xec->dwOrdinal );
>
>   if( xec->lpFunc == NULL && xec->cProc )
>   {
>      // try ANSI flavour ?
>      xec->cProc[ hb_parclen(3) ] = 'A';
>      xec->cProc[ hb_parclen(3) +1  ] = '\0';
>
>      xec->lpFunc = (LPVOID) GetProcAddress( xec->hDLL, xec->cProc !=  
> NULL ? (LPCSTR) xec->cProc : (LPCSTR) xec->dwOrdinal );
>   }
>
>   if( xec->hDLL && xec->lpFunc )
>   {
>       hb_retptrGC(  xec );
>   }
>   else if( xec->hDLL && xec->lpFunc == NULL )
>   {
>      if( xec->cProc )
>      {
>         LPVOID lpMsgBuf;
>
>         FormatMessage( FORMAT_MESSAGE_ALLOCATE_BUFFER |
>         FORMAT_MESSAGE_FROM_SYSTEM,
>         NULL,
>         GetLastError(),
>         MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT),
>         (LPTSTR) &lpMsgBuf,
>         0, NULL );
>
>         MessageBox( GetActiveWindow(), (LPCSTR) lpMsgBuf,  
> "DllPrepareCall:GetProcAddress() failed!", MB_OK | MB_ICONERROR );
>
>         LocalFree(lpMsgBuf);
>      }
>      else
>      {
>         MessageBox( GetActiveWindow(),  
> "DllPrepareCall:GetProcAddress() invalid oridnal argument!",  
> "DllPrepareCall", MB_OK | MB_ICONERROR );
>      }
>   }
> }
>
>
> HB_FUNC( LOADLIBRARY )
> {
>   hb_retnl( (DWORD) LoadLibraryA( (LPCSTR) hb_parcx( 1 ) ) ) ;
> }
>
> HB_FUNC( FREELIBRARY )
> {
>   hb_retl( FreeLibrary( (HMODULE) hb_parnl( 1 ) ) ) ;
> }
>
> // compatibility
> HB_FUNC( DLLLOAD )
> {
>   HB_FUNCNAME( LOADLIBRARY )();
> }
>
> // compatibility
> HB_FUNC( DLLUNLOAD )
> {
>   HB_FUNCNAME( FREELIBRARY )();
> }
>
> /*HB_FUNC( GETLASTERROR )
> {
>   hb_retnl( GetLastError() );
> }
>
> HB_FUNC( SETLASTERROR )
> {
>   hb_retnl( GetLastError() );
>   SetLastError( hb_parnl(1) );
> }*/
>
> HB_FUNC( GETPROCADDRESS )
> {
>   LPVOID lpProcAddr;
>   char  cFuncName[MAX_PATH];
>
>   if ((lpProcAddr = (LPVOID) GetProcAddress( (HMODULE) hb_parnl(1),
>                                ISCHAR( 2 ) ? (LPCSTR) hb_parcx(2) :
>                                              (LPCSTR) hb_parnl(2) ))  
> == 0 )
>   {
>      if ( ISCHAR( 2 ) )
>      {
>         // try ANSI flavour ?
>         strcpy(cFuncName, hb_parc(2));
>         strcat(cFuncName, "A");
>         lpProcAddr = (LPVOID) GetProcAddress((HMODULE) hb_parnl(1),  
> cFuncName);
>      }
>   }
>
>   hb_retptr( lpProcAddr );
> }
>
>
> //==================================================================
> // See DynaCall support comments below
>
> #define DC_CALL_STD_BO         (DC_CALL_STD | DC_BORLAND)
> #define DC_CALL_STD_MS         (DC_CALL_STD | DC_MICROSOFT)
> #define DC_CALL_STD_M8         (DC_CALL_STD | DC_RETVAL_MATH8)
>
> #define DC_FLAG_ARGPTR         0x00000002
>
> #define CTYPE_VOID 0
> #define CTYPE_CHAR 1
>
> #define CTYPE_UNSIGNED_CHAR -1
> #define CTYPE_CHAR_PTR 10
> #define CTYPE_UNSIGNED_CHAR_PTR -10
>
> #define CTYPE_SHORT 2
> #define CTYPE_UNSIGNED_SHORT -2
> #define CTYPE_SHORT_PTR 20
> #define CTYPE_UNSIGNED_SHORT_PTR -20
>
> #define CTYPE_INT 3
> #define CTYPE_UNSIGNED_INT -3
> #define CTYPE_INT_PTR 30
> #define CTYPE_UNSIGNED_INT_PTR -30
>
> #define CTYPE_LONG 4
> #define CTYPE_UNSIGNED_LONG -4
> #define CTYPE_LONG_PTR 40
> #define CTYPE_UNSIGNED_LONG_PTR -40
>
> #define CTYPE_FLOAT 5
> #define CTYPE_FLOAT_PTR 50
>
> #define CTYPE_DOUBLE 6
> #define CTYPE_DOUBLE_PTR 60
>
> #define CTYPE_VOID_PTR 7
>
> #define CTYPE_BOOL 8
>
> #define CTYPE_STRUCTURE 1000
> #define CTYPE_STRUCTURE_PTR 10000
>
>
> #pragma pack(1)
>
> typedef union RESULT {          // Various result types
>    int     Int;                // Generic four-byte type
>    long    Long;               // Four-byte long
>    void   *Pointer;            // 32-bit pointer
>    float   Float;              // Four byte real
>    double  Double;             // 8-byte real
>    __int64 int64;              // big int (64-bit)
> } RESULT;
>
> typedef struct DYNAPARM {
>    DWORD       dwFlags;        // Parameter flags
>    int         nWidth;         // Byte width
>    union {                     //
>            BYTE    bArg;          // 1-byte argument
>            SHORT   usArg;         // 2-byte argument
>            DWORD   dwArg;         // 4-byte argument
>          };
>    void   *pArg;           // Pointer to argument
> } DYNAPARM;
>
> #pragma pack()
>
> RESULT DynaCall(int Flags, LPVOID lpFunction, int nArgs,
>                DYNAPARM Parm[], LPVOID pRet, int nRetSiz);
> //
> //==================================================================
>
> // Based originally on CallDLL from What32
> static void DllExec( int iFlags, int iRtype, LPVOID lpFunction, int  
> iParams, int iFirst, int iArgCnt, PEXECSTRUCT xec )
> {
> //   int iRtype;
>   int iCnt = 0;
> //   int iCmode;
>   int i;
>   double DblParms[15];
>   DYNAPARM   Parm[15];
>   RESULT     rc;
>
>   if( xec )
>   {
>      iFlags     = xec->dwFlags;
>      lpFunction = xec->lpFunc;
>
>      //TODO Params maybe explictly specified in xec!
>   }
>
> //   iCmode = iFlags & 0xf000;  // Unsupported Mode (specifies XBase+ 
> + Function1)
>   //iRtype = iFlags & 0x0f00;  // Return type - An additional flag  
> over XBase++
>   iFlags = iFlags & 0x00ff;  // Calling Convention
>
>   if ( iRtype == 0 )
>   {
>      iRtype = CTYPE_UNSIGNED_LONG;
>   }
>
>   memset( Parm, 0, sizeof( Parm ) );
>   memset( DblParms, 0, sizeof( DblParms ) );
>
>   if( iArgCnt > 0)
>   {
>      for( i = iFirst; i <= iParams; i++)
>      {
>         switch ( hb_parinfo( i ) & ~HB_IT_BYREF )
>         {
>            case HB_IT_NIL               :
>               Parm[iCnt].nWidth = sizeof( void * );
>               Parm[iCnt].dwArg = (DWORD) NULL;
>               break;
>
>            case HB_IT_POINTER           :
>               Parm[iCnt].nWidth = sizeof( void * );
>               Parm[iCnt].dwArg = (DWORD) hb_parptr ( i );
>               break;
>
>            case HB_IT_INTEGER           :
>            case HB_IT_LONG              :
>            case HB_IT_DATE              :
>            case HB_IT_LOGICAL           :
>               Parm[iCnt].nWidth = sizeof( DWORD );
>               Parm[iCnt].dwArg = (DWORD) hb_parnl( i );
>
>               if( hb_parinfo( i ) & HB_IT_BYREF )
>               {
>                  Parm[iCnt].pArg   = &( Parm[iCnt].dwArg );
>                  Parm[iCnt].dwFlags = DC_FLAG_ARGPTR;  // use the  
> pointer
>               }
>               break;
>
>            case HB_IT_DOUBLE            :
>               Parm[iCnt].nWidth = sizeof( double );
>               DblParms[iCnt] = (double) hb_parnd( i );
>               Parm[iCnt].pArg   = &( DblParms[iCnt] );
>               Parm[iCnt].dwFlags = DC_FLAG_ARGPTR;  // use the pointer
>               iFlags |= DC_RETVAL_MATH8;
>               break;
>
>            case HB_IT_STRING            :
>            case HB_IT_MEMO              :
>               Parm[iCnt].nWidth = sizeof( void * );
>               if( ( hb_parinfo( i ) & HB_IT_BYREF ) &&  
> hb_parclen( i ) )
>               {
>                  Parm[iCnt].pArg = hb_xgrab( hb_parclen( i ) );
>                  memcpy( Parm[iCnt].pArg, hb_parc( i ),  
> hb_parclen( i ) );
>               }
>               else {
>                  Parm[iCnt].pArg = (void *) hb_parc( i );
>               }
>               Parm[iCnt].dwFlags = DC_FLAG_ARGPTR;  // use the pointer
>               break;
>
>            /*ADS case HB_IT_ARRAY             :
>               if( strncmp( hb_objGetClsName( hb_param(i,  
> HB_IT_ANY ) ), "C Structure", 11 ) == 0 )
>               {
>                  Parm[iCnt].nWidth = sizeof(  void * );
>                  Parm[iCnt].dwArg = (DWORD) hb_parcstruct( i );
>                  break;
>               }*/
>
>            case HB_IT_HASH              :
>            case HB_IT_SYMBOL            :
>            case HB_IT_ALIAS             :
>            case HB_IT_MEMOFLAG          :
>            case HB_IT_BLOCK             :
>            case HB_IT_MEMVAR            :
>
>            default:
>               MessageBox( GetActiveWindow(), "UNKNOWN Parameter  
> Type!", "DLLCall Parameter Error!", MB_OK | MB_ICONERROR );
>               return;
>         }
>
>         iCnt++;
>      }
>   }
>
>   /*SetLastError(0);*/
>
>   rc = DynaCall(iFlags, lpFunction, iArgCnt, Parm, NULL, 0);
>
>   /*if( GetLastError() )
>   {
>      LPVOID lpMsgBuf;
>
>      FormatMessage( FORMAT_MESSAGE_ALLOCATE_BUFFER |
>      FORMAT_MESSAGE_FROM_SYSTEM,
>      NULL,
>      GetLastError(),
>      MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT),
>      (LPTSTR) &lpMsgBuf,
>      0, NULL );
>
>      MessageBox( GetActiveWindow(), (LPCSTR) lpMsgBuf,  
> "DllExec:DynaCall() failed!", MB_OK | MB_ICONERROR );
>
>      LocalFree(lpMsgBuf);
>   }*/
>
>   if( iArgCnt > 0)
>   {
>      iCnt = 0;
>
>      for( i = iFirst; i <= iParams; i++)
>      {
>         if( hb_parinfo( i ) & HB_IT_BYREF )
>         {
>            switch ( hb_parinfo( i ) & ~HB_IT_BYREF )
>            {
>               case HB_IT_NIL               :
>                  hb_stornl( Parm[iCnt].dwArg, i );
>                  break;
>
>               case HB_IT_POINTER           :
>                  break;
>
>               case HB_IT_INTEGER           :
>               case HB_IT_LONG              :
>               case HB_IT_DATE              :
>               case HB_IT_LOGICAL           :
>                  hb_stornl( *(LONG *) ( Parm[iCnt].pArg ), i );
>                  break;
>
>               case HB_IT_DOUBLE            :
>                  hb_stornd( DblParms[iCnt], i );
>                  break;
>
>               case HB_IT_STRING            :
>               case HB_IT_MEMO              :
>                  if( hb_parclen( i ) )
>                  {
>                     hb_storclen( (char *) Parm[iCnt].pArg,  
> hb_parclen( i ), i );
>                     hb_xfree( Parm[iCnt].pArg );
>                  }
>                  break;
>
>               /* ADS case HB_IT_ARRAY             :
>                  if( strncmp( hb_objGetClsName( hb_param(i,  
> HB_IT_ANY ) ), "C Structure", 11 ) == 0 )
>                  {
>                     hb_vmPushSymbol( pDEVALUE->pSymbol );
>                     hb_vmPush( hb_param( i, HB_IT_ANY ) );
>                     hb_vmSend(0);
>
>                     break;
>                  }*/
>
>               default:
>                  MessageBox( GetActiveWindow(), "UNKNOWN Parameter  
> Type!", "DLLCall Parameter Error!", MB_OK | MB_ICONERROR );
>                  return;
>            }
>         }
>
>         iCnt++;
>      }
>   }
>
>   // return the correct value
>   switch ( iRtype )
>   {
>      case CTYPE_BOOL :
>         hb_retl( (BOOL) rc.Long );
>         break;
>
>      case CTYPE_VOID :
>         hb_retni(0);
>         break;
>
>      case CTYPE_CHAR              :
>      case CTYPE_UNSIGNED_CHAR     :
>         hb_retni ( (char) rc.Int );
>         break;
>
>      case CTYPE_SHORT             :
>      case CTYPE_UNSIGNED_SHORT    :
>         hb_retni ( (int) rc.Int );
>         break;
>
>      case CTYPE_INT               :
>         hb_retni ( (int) rc.Long );
>         break;
>
>      case CTYPE_LONG              :
>         hb_retnl ( (LONG) rc.Long );
>         break;
>
>      case CTYPE_CHAR_PTR          :
>      case CTYPE_UNSIGNED_CHAR_PTR :
>         hb_retc ( (char *) rc.Long );
>         break;
>
>      case CTYPE_UNSIGNED_INT      :
>      case CTYPE_UNSIGNED_LONG     :
>         hb_retnl ( rc.Long );
>         break;
>
>      case CTYPE_INT_PTR           :
>      case CTYPE_UNSIGNED_SHORT_PTR:
>      case CTYPE_UNSIGNED_INT_PTR  :
>      case CTYPE_STRUCTURE_PTR     :
>      case CTYPE_LONG_PTR          :
>      case CTYPE_UNSIGNED_LONG_PTR :
>      case CTYPE_VOID_PTR          :
>      case CTYPE_FLOAT_PTR         :
>      case CTYPE_DOUBLE_PTR        :
>         hb_retptr ( (void *) rc.Long );
>         break;
>
>      case CTYPE_FLOAT             :
>         hb_retnd( rc.Float );
>         break;
>
>      case CTYPE_DOUBLE            :
>         hb_retnd( rc.Double );
>         break;
>
>      default:
>         MessageBox( GetActiveWindow(), "Unknown return type!",  
> "DLLCall Parameter Error!", MB_OK | MB_ICONERROR );
>         break;
>   }
> }
>
> //------------------------------------------------------------------
>
> HB_FUNC( DLLEXECUTECALL )
> {
>   int iParams = hb_pcount();
>   int iFirst  = 2;
>   int iArgCnt = iParams - 1;
>   PEXECSTRUCT xec = (PEXECSTRUCT) hb_parptr(1);
>
>   if ( xec != NULL )
>   {
>      if ( xec->dwType == EXEC_DLL )
>      {
>         if ( xec->hDLL != (HINSTANCE) NULL )
>         {
>            if ( xec->lpFunc != NULL )
>            {
>               DllExec( 0, 0, NULL, iParams, iFirst, iArgCnt, xec );
>            }
>         }
>      }
>   }
> }
>
> HB_FUNC( DLLCALL )
> {
>   int iParams = hb_pcount();
>   int iFirst = 4;
>   int iArgCnt = iParams - 3;
>   int iFlags;
>   BOOL lUnload = FALSE;
>   HINSTANCE  hInst;
>   LPVOID     lpFunction;
>   BYTE       cFuncName[MAX_PATH];
>
>   if ( ISCHAR(1) )
>   {
>      hInst = LoadLibrary( hb_parc( 1 ) );
>      lUnload = TRUE;
>   }
>   else
>   {
>      hInst = (HINSTANCE) hb_parnl( 1 );
>   }
>
>   if ( hInst == NULL || (DWORD) hInst < 32)
>   {
>      hb_ret();
>      return;
>   }
>
>   iFlags = hb_parni( 2 );
>
>   if ((lpFunction = (LPVOID) GetProcAddress( (HMODULE) hInst,
>                                ISCHAR( 3 ) ? (LPCSTR) hb_parcx(3) :
>                                              (LPCSTR) hb_parnl(3) ))  
> == 0 )
>   {
>      if ( ISCHAR( 3 ) )
>      {
>         // try forced ANSI flavour ?
>         strcpy((char *) cFuncName, hb_parc(3));
>         strcat((char *) cFuncName, "A");
>         lpFunction = (LPVOID) GetProcAddress( (HMODULE) hInst,  
> (const char *) cFuncName);
>      }
>   }
>
>   if (lpFunction != NULL)
>   {
>      DllExec( iFlags, 0, lpFunction, iParams, iFirst, iArgCnt, NULL );
>   }
>
>   if ( lUnload )
>   {
>      FreeLibrary( hInst );
>   }
> }
>
>
>
> //------------------------------------------------------------------
> // DynaCall support comments below
> //////////////////////////////////////////////////////
> //
> //   This part used modified code of Vic McClung.
> //   The modifications were to separate the library
> //   loading and getting the procedure address
> //   from the actual function call.
> //   The parameters have been slightly re-arranged
> //   to allow for C-like syntax, on function
> //   declaration. The changes allow to load the library
> //   and to get the procedure addresses in advance,
> //   which makes it work similarly to C import libraries.
> //   From experience, when using dynamic libraries, loading
> //   the library and getting the address of the procedure
> //   part of using the DLL.
> //   Additionally the changes will allow to use standard
> //   xHarbour C type defines, as used with structure types,
> //   ande defined in cstruct.ch .
> //
> //
> //   Andrew Wos.
> //   20/07/2002.
> //
> //
> //////////////////////////////////////////////////////
>
>
> /*
>
> Copyright 2002 Vic McClung <vicmcclung@vicmcclung.com>
> www - http://www.vicmcclung.com
>
> Borland mods by ptucker@sympatico.ca
> MinGW support by Phil Krylov <phil a t newstar.rinet.ru>
>
> This program is free software; you can redistribute it and/or modify
> it under the terms of the GNU General Public License as published by
> the Free Software Foundation; either version 2 of the License, or
> (at your option) any later version.
>
> This program is distributed in the hope that it will be useful,
> but WITHOUT ANY WARRANTY; without even the implied warranty of
> MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
> GNU General Public License for more details.
>
> You should have received a copy of the GNU General Public License
> along with this software; see the file COPYING.  If not, write to
> the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
> Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
>
> As a special exception, you have permission for
> additional uses of the text contained in this release of VMGUI.
>
> The exception is that, if you link the VMGUI library with other
> files to produce an executable, this does not by itself cause the
> resulting executable to be covered by the GNU General Public License.
> Your use of that executable is in no way restricted on account of
> linking the VMGUI library code into it.
>
> */
>
> //------------------------------------------------------------------
>
>
> //------------------------------------------------------------------
>
> RESULT DynaCall(int Flags,       LPVOID lpFunction, int nArgs,
>                DYNAPARM Parm[], LPVOID pRet,      int nRetSiz)
> {
>   // Call the specified function with the given parameters. Build a
>   // proper stack and take care of correct return value processing.
>   RESULT  Res = { 0 };
>   int    i, nInd, nSize;
>   DWORD   dwEAX, dwEDX, dwVal, *pStack, *pESP, dwStSize = 0;
>   BYTE   *pArg;
>
>   // Reserve 256 bytes of stack space for our arguments
>   #if defined( __MINGW32__ )
>      asm volatile( "\tmovl %%esp, %0\n"
>                    "\tsubl $0x100, %%esp\n"
>                    : "=r" (pStack) );
>   #elif defined( __BORLANDC__ ) || defined(__DMC__)
>      pStack = (DWORD *)_ESP;
>      _ESP -= 0x100;
>   #else
>      _asm mov pStack, esp
>      _asm mov pESP, esp
>      _asm sub esp, 0x100
>   #endif
>
>   // Push args onto the stack. Every argument is aligned on a
>   // 4-byte boundary. We start at the rightmost argument.
>   for (i = 0; i < nArgs; i++)
>   {
>      nInd  = (nArgs - 1) - i;
>      // Start at the back of the arg ptr, aligned on a DWORD
>      nSize = (Parm[nInd].nWidth + 3) / 4 * 4;
>      pArg  = (BYTE *)Parm[nInd].pArg + nSize - 4;
>      dwStSize += (DWORD)nSize; // Count no of bytes on stack
>      while (nSize > 0)
>      {
>         // Copy argument to the stack
>         if (Parm[nInd].dwFlags & DC_FLAG_ARGPTR)
>         {
>            // Arg has a ptr to a variable that has the arg
>            dwVal = (DWORD) pArg; // Get first four bytes
>            pArg -= 4;           // Next part of argument
>         }
>         else
>         {
>            // Arg has the real arg
>            dwVal = Parm[nInd].dwArg;
>         }
>         // Do push dwVal
>         pStack--;         // ESP = ESP - 4
>         *pStack = dwVal;   // SS:[ESP] = dwVal
>         nSize -= 4;
>      }
>   }
>
>   if ((pRet != NULL) && ((Flags & DC_BORLAND) || (nRetSiz > 8)))
>   {
>      // Return value isn't passed through registers, memory copy
>      // is performed instead. Pass the pointer as hidden arg.
>      dwStSize += 4;        // Add stack size
>      pStack--;            // ESP = ESP - 4
>      *pStack = (DWORD)pRet;  // SS:[ESP] = pMem
>   }
>   #if defined( __MINGW32__ )
>      asm volatile( "\taddl $0x100, %%esp\n" /* Restore to original  
> position */
>                    "\tsubl %2, %%esp\n"     /* Adjust for our new  
> parameters */
>
>                    /* Stack is now properly built, we can call the  
> function */
>                    "\tcall *%3\n"
>                    : "=a" (dwEAX), "=d" (dwEDX) /* Save eax/edx  
> registers */
>                    : "r" (dwStSize), "r" (lpFunction) );
>
>      /* Possibly adjust stack and read return values. */
>      if (Flags & DC_CALL_CDECL)
>      {
>         asm volatile( "\taddl %0, %%esp\n" : : "r" (dwStSize) );
>      }
>
>      if (Flags & DC_RETVAL_MATH4)
>      {
>         asm volatile( "\tfstps (%0)\n" : "=r" (Res) );
>      }
>      else if (Flags & DC_RETVAL_MATH8)
>      {
>         asm volatile( "\tfstpl (%0)\n" : "=r" (Res) );
>      }
>      else if (pRet == NULL)
>      {
>         Res.Int = dwEAX;
>         (&Res.Int)[1] = dwEDX;
>      }
>      else if (((Flags & DC_BORLAND) == 0) && (nRetSiz <= 8))
>      {
>         /* Microsoft optimized less than 8-bytes structure passing */
>         ((int *)pRet)[0] = dwEAX;
>         ((int *)pRet)[1] = dwEDX;
>      }
>   #elif defined( __BORLANDC__ ) || defined(__DMC__)
>      _ESP += (0x100 - dwStSize);
>      _EDX =  (DWORD) &lpFunction;
>      __emit__(0xff,0x12); // call [edx];
>      dwEAX = _EAX;
>      dwEDX = _EDX;
>
>      // Possibly adjust stack and read return values.
>      if (Flags & DC_CALL_CDECL)
>      {
>         _ESP += dwStSize;
>      }
>
>      if (Flags & DC_RETVAL_MATH4)
>      {
>         _EBX = (DWORD) &Res;
>         _EAX = dwEAX;
>         _EDX = dwEDX;
>         __emit__(0xd9,0x1b);   //     _asm fnstp float ptr [ebx]
>      }
>      else if (Flags & DC_RETVAL_MATH8)
>      {
>         _EBX = (DWORD) &Res;
>         _EAX = dwEAX;
>         _EDX = dwEDX;
>         __emit__(0xdd,0x1b);   //     _asm fnstp qword ptr [ebx]
>      }
>      else if (pRet == NULL)
>      {
>         _EBX = (DWORD) &Res;
>         _EAX = dwEAX;
>         _EDX = dwEDX;
> //         _asm mov DWORD PTR [ebx], eax
> //         _asm mov DWORD PTR [ebx + 4], edx
>         __emit__(0x89,0x03,0x89,0x53,0x04);
>      }
>      else if (((Flags & DC_BORLAND) == 0) && (nRetSiz <= 8))
>      {
>         _EBX = (DWORD) pRet;
>         _EAX = dwEAX;
>         _EDX = dwEDX;
> //         _asm mov DWORD PTR [ebx], eax
> //         _asm mov DWORD PTR [ebx + 4], edx
>         __emit__(0x89,0x03,0x89,0x53,0x04);
>      }
>   #else
>      _asm add esp, 0x100       // Restore to original position
>      _asm sub esp, dwStSize     // Adjust for our new parameters
>
>      // Stack is now properly built, we can call the function
>      _asm call [lpFunction]
>
>      _asm mov dwEAX, eax       // Save eax/edx registers
>      _asm mov dwEDX, edx       //
>
>      // Possibly adjust stack and read return values.
>      if (Flags & DC_CALL_CDECL)
>      {
>         _asm add esp, dwStSize
>      }
>
>      if (Flags & DC_RETVAL_MATH4)
>      {
>         _asm fstp dword ptr [Res]
>      }
>      else if (Flags & DC_RETVAL_MATH8)
>      {
>         _asm fstp qword ptr [Res]
>      }
>      else if (pRet == NULL)
>      {
>         _asm mov eax, [dwEAX]
>         _asm mov DWORD PTR [Res], eax
>         _asm mov edx, [dwEDX]
>         _asm mov DWORD PTR [Res + 4], edx
>      }
>      else if (((Flags & DC_BORLAND) == 0) && (nRetSiz <= 8))
>      {
>         // Microsoft optimized less than 8-bytes structure passing
>         _asm mov ecx, DWORD PTR [pRet]
>         _asm mov eax, [dwEAX]
>         _asm mov DWORD PTR [ecx], eax
>         _asm mov edx, [dwEDX]
>         _asm mov DWORD PTR [ecx + 4], edx
>      }
>
>      _asm mov esp, pESP
>   #endif
>
>   return Res;
> }
>
>
> //
> // Call a DLL function from (x)Harbour, the first parameter is a  
> pointer returned from
> // GetProcAddress above. Note that it is hardcoded to use PASCAL  
> calling convention.
> //
>
> HB_FUNC( CALLDLL )
> {
>   int iParams = hb_pcount();
>   int iFirst = 2;
>   int iArgCnt = iParams - 1;
>   LPVOID     lpFunction;
>
>   lpFunction = (LPVOID) hb_parptr( 1 );
>   if (lpFunction != NULL)
>   {
>      DllExec( DC_CALL_STD, 0, lpFunction, iParams, iFirst, iArgCnt,  
> NULL );
>   }
>
> }
>
>
> HB_FUNC( CALLDLLBOOL )
> {
>   int iParams = hb_pcount();
>   int iFirst = 2;
>   int iArgCnt = iParams - 1;
>   LPVOID     lpFunction;
>
>   lpFunction = (LPVOID) hb_parptr( 1 );
>   if (lpFunction != NULL)
>   {
>      DllExec( DC_CALL_STD, CTYPE_BOOL, lpFunction, iParams, iFirst,  
> iArgCnt, NULL );
>   }
>
> }
>
>
> #endif /* HB_OS_WIN32 */
>
> #pragma ENDDUMP
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Jun  9 11:34:09 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 11:35:13 2008
Subject: [Harbour] Why your are using harbour ?
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ECFC@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ECFC@SRV02.deltain.net>
Message-ID: <08D7769A-5B24-4BD5-A089-3B74A5E7BB57@syenar.hu>

I want a way out of the NTVDM.

Brgds,
Viktor

On 2008.06.09., at 15:27, Massimo Belgrano wrote:

> Because you have clipper code and want modernize?
> Because you want a productive tools to made business application?
> Please post here your because
>
> Massimo Belgrano
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From sscc at mweb.co.za  Mon Jun  9 11:37:34 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Jun  9 11:37:40 2008
Subject: [Harbour] Testing RC1
Message-ID: <484D4E3E.3050900@mweb.co.za>

Hi

TortioseSVN question, if I wish to test RC1 do I "Switch to 
Branch/Tag" and enter the URL:

https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour-RC1

and use the "HEAD" revision?

Assuming that all goes well, are we releasing the binaries on sourceforge?

Is there a "list" of what should be included in a binary release?

TIA
Alex

From mbelgrano at deltain.it  Mon Jun  9 11:39:45 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun  9 11:39:54 2008
Subject: [Harbour] Why your are using harbour ?
In-Reply-To: <08D7769A-5B24-4BD5-A089-3B74A5E7BB57@syenar.hu>
References: <AFB948164110ED43B5EB849E8DEEF03815ECFC@SRV02.deltain.net>
	<08D7769A-5B24-4BD5-A089-3B74A5E7BB57@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED08@SRV02.deltain.net>

What is for you NTVDM?
The NT Virtual DOS Machine (a.k.a WOW, or Windows on Windows), is a Win16 subsystem that runs under Windows NT, which allows 16-bit applications to run as if they were being executed on a DOS machine, with that machine's multitasking and segmented memory model.


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Monday, June 09, 2008 5:34 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Why your are using harbour ?

I want a way out of the NTVDM.

Brgds,
Viktor


From harbour.01 at syenar.hu  Mon Jun  9 11:44:25 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 11:45:26 2008
Subject: [Harbour] Proposal of modification in Harbour\doc 
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED02@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ED02@SRV02.deltain.net>
Message-ID: <245E6AF2-9F5D-4C1B-B4F5-9878DCD81BCF@syenar.hu>

These docs are/were primarily suited for the
developers (or close to developer users), so
I'm afraid it's not a matter of file format.

For usable end-user docs, the user-orientated
parts would need to be gathered, processed,
made into readable and organized form and put
in a properly formatted user documentation.
These could be put in /manual for example.

For these docs though, or their enhanced
versions in /docs, I'd keep .txt, as this is
the only format not suffering from all the
mess of doc handling softwares.

For /manual, I'd recommend Doxygene, or the
other one which I forgot this time (see
several previous mails about the same topic).

Brgds,
Viktor

On 2008.06.09., at 16:30, Massimo Belgrano wrote:

> In Harbour\doc there is a few but important documentation files:
> author.txt     class_tp.txt   cmdline.txt    codebloc.txt    
> codestyl.txt
> c_std.txt      destruct.txt   dirstruc.txt   funclist.txt   gmake.txt
> gtapi.txt      hbmake.txt     hbpplib.txt    hdr_tpl.txt     
> howtobld.txt
> howtobsd.txt   howtomak.txt   howtorel.txt   howtosvn.txt    
> hrb_faq.txt
> lang_id.txt    license.txt    linux1st.txt   pcode.txt      pp.txt
> pragma.txt     readme.txt     simplex.txt    statics.txt     
> tracing.txt
> transfrm.txt   vm.txt         whatsnew.txt   windll.txt
>
> Is possible convert in rtp,odf,XML (IMO by OpenOffice.org)
> So it can be edited from linux/windows with better layout and image  
> with
> Style Sheets
>
>
> Massimo Belgrano
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Jun  9 11:48:54 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 11:49:55 2008
Subject: [Harbour] Why your are using harbour ?
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED08@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ECFC@SRV02.deltain.net>
	<08D7769A-5B24-4BD5-A089-3B74A5E7BB57@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED08@SRV02.deltain.net>
Message-ID: <92695A15-D102-46FF-BC3A-3CD9BAA53A4C@syenar.hu>

> What is for you NTVDM?
> The NT Virtual DOS Machine (a.k.a WOW, or Windows on Windows), is a  
> Win16 subsystem that runs under Windows NT, which allows 16-bit  
> applications to run as if they were being executed on a DOS machine,  
> with that machine's multitasking and segmented memory model.

I know what NTVDM is, that's why I want to get
my apps out of it :)

NTVDM and DOS means lots of limitations. Clipper/DOS
has limits like: max no of files, TBrowse size limit,
max line length limit, no access to OS APIs, screen
size limits, etc.

Brgds,
Viktor

>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Szak?ts Viktor
> Sent: Monday, June 09, 2008 5:34 PM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] Why your are using harbour ?
>
> I want a way out of the NTVDM.
>
> Brgds,
> Viktor
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From david at gesintur.com  Mon Jun  9 11:49:58 2008
From: david at gesintur.com (David MS)
Date: Mon Jun  9 11:50:02 2008
Subject: [Harbour] Re: How to call a external app?
Message-ID: <006e01c8ca48$7895d300$1301a8c0@INFOR04>

Thanks Adams, 

I get a error from linker:
Error: Unresolved external '_HB_FUN_HB_RUN' referenced from ...

Best Regards,
David MS
From sscc at mweb.co.za  Mon Jun  9 11:51:16 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Jun  9 11:51:22 2008
Subject: dllcall.c - Was: [Harbour] gtwvt font best setup
In-Reply-To: <0C80EBCC-47F1-46FD-B95A-69490932D505@syenar.hu>
References: <9257026e0806060204m23f615f2saf518db4b664fa08@mail.gmail.com>	<9257026e0806060729x26d76914o98da4e3ab7d27fa9@mail.gmail.com>	<27D11391-E80D-4981-9889-A651D00ACB55@syenar.hu>	<17694977.post@talk.nabble.com>	<31ACEBDC-B0C2-4918-A7D7-A3DC547B8689@syenar.hu>	<00d101c8c7f9$b6636310$232a2930$@com>	<C7B87B4C-9B90-4CF5-9464-887756548162@syenar.hu>	<005201c8c879$bc0c7470$34255d50$@com>	<EF303E84-DA4B-4734-BDE5-C9482CBC82BF@syenar.hu>	<006b01c8c88c$df0da850$9d28f8f0$@com>	<9257026e0806070522g39fb5566rfbe4b339915b77a2@mail.gmail.com>	<013401c8ca10$124246c0$36c6d440$@com>	<D30B8615-EE36-4406-B18A-32FFCE79B644@syenar.hu>	<484D08E5.9030201@mweb.co.za>	<6BAFC84B-999C-44C7-82AE-6734527B2E48@syenar.hu>	<484D11BE.5040605@mweb.co.za>
	<0C80EBCC-47F1-46FD-B95A-69490932D505@syenar.hu>
Message-ID: <484D5174.2000900@mweb.co.za>

Szak?ts Viktor wrote:
> Thanks Alex. This looks like a pure .c in .prg disguise
> (which, I don't really the point of but anyways :).

Only laziness. I have improved my make files a bit, and would not do 
it now.

> I'll do some merging later. I may have questions, too.

I hope I can help.

IIRC the EXECSTRUCT structure looked nice, but on closer examination 
it did not provide much functionality, or perhaps it just did not suit me.

It seemed to be designed to work with commands via the preprocessor, 
but the DLL would be loaded and unloaded on each call - something like 
that, which did not suit me.

Also it looked like there was to be some support for argument checking 
of args supplied via the preprocessor, but it was not completed. This 
would be nice as, of course, any small mistake and you are in GPF 
territory.

Regards
Alex

From mbelgrano at deltain.it  Mon Jun  9 12:42:11 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun  9 12:42:27 2008
Subject: [Harbour] Proposal of modification in Harbour\doc 
In-Reply-To: <245E6AF2-9F5D-4C1B-B4F5-9878DCD81BCF@syenar.hu>
References: <AFB948164110ED43B5EB849E8DEEF03815ED02@SRV02.deltain.net>
	<245E6AF2-9F5D-4C1B-B4F5-9878DCD81BCF@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED0A@SRV02.deltain.net>

Well agree , and want start in doxygen so have download doxygen and read this guide http://www.codeproject.com/KB/tips/doxysetup.aspx but i have some problem to start:
Harbour source *.c aren't in doxygen format. How convert? (Is possible convert using preprocessor?)
How doxygen  process prg?

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Monday, June 09, 2008 5:44 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Proposal of modification in Harbour\doc 

These docs are/were primarily suited for the
developers (or close to developer users), so
I'm afraid it's not a matter of file format.

For usable end-user docs, the user-orientated
parts would need to be gathered, processed,
made into readable and organized form and put
in a properly formatted user documentation.
These could be put in /manual for example.

For these docs though, or their enhanced
versions in /docs, I'd keep .txt, as this is
the only format not suffering from all the
mess of doc handling softwares.

For /manual, I'd recommend Doxygene, or the
other one which I forgot this time (see
several previous mails about the same topic).

Brgds,
Viktor

On 2008.06.09., at 16:30, Massimo Belgrano wrote:

> In Harbour\doc there is a few but important documentation files:
> author.txt     class_tp.txt   cmdline.txt    codebloc.txt    
> codestyl.txt
> c_std.txt      destruct.txt   dirstruc.txt   funclist.txt   gmake.txt
> gtapi.txt      hbmake.txt     hbpplib.txt    hdr_tpl.txt     
> howtobld.txt
> howtobsd.txt   howtomak.txt   howtorel.txt   howtosvn.txt    
> hrb_faq.txt
> lang_id.txt    license.txt    linux1st.txt   pcode.txt      pp.txt
> pragma.txt     readme.txt     simplex.txt    statics.txt     
> tracing.txt
> transfrm.txt   vm.txt         whatsnew.txt   windll.txt
>
> Is possible convert in rtp,odf,XML (IMO by OpenOffice.org)
> So it can be edited from linux/windows with better layout and image  
> with
> Style Sheets
>
>
> Massimo Belgrano
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Mon Jun  9 13:08:54 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun  9 13:09:01 2008
Subject: [Harbour] Proposal of modification in Harbour\doc 
In-Reply-To: <245E6AF2-9F5D-4C1B-B4F5-9878DCD81BCF@syenar.hu>
References: <AFB948164110ED43B5EB849E8DEEF03815ED02@SRV02.deltain.net>
	<245E6AF2-9F5D-4C1B-B4F5-9878DCD81BCF@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED0B@SRV02.deltain.net>

CLIP project now use the DocBook documentation system to provide multiformat and multilanguage documentation in the strong and regular fasion. http://www.itk.ru/clip-doc.en/x1166.html

Is possible share same experiences if same harbour user know how made or know it?
http://www.itk.ru/english/clip/clipauthors.shtml


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Monday, June 09, 2008 5:44 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Proposal of modification in Harbour\doc 

These docs are/were primarily suited for the
developers (or close to developer users), so
I'm afraid it's not a matter of file format.

For usable end-user docs, the user-orientated
parts would need to be gathered, processed,
made into readable and organized form and put
in a properly formatted user documentation.
These could be put in /manual for example.

For these docs though, or their enhanced
versions in /docs, I'd keep .txt, as this is
the only format not suffering from all the
mess of doc handling softwares.

For /manual, I'd recommend Doxygene, or the
other one which I forgot this time (see
several previous mails about the same topic).

Brgds,
Viktor

On 2008.06.09., at 16:30, Massimo Belgrano wrote:

> In Harbour\doc there is a few but important documentation files:
> author.txt     class_tp.txt   cmdline.txt    codebloc.txt    
> codestyl.txt
> c_std.txt      destruct.txt   dirstruc.txt   funclist.txt   gmake.txt
> gtapi.txt      hbmake.txt     hbpplib.txt    hdr_tpl.txt     
> howtobld.txt
> howtobsd.txt   howtomak.txt   howtorel.txt   howtosvn.txt    
> hrb_faq.txt
> lang_id.txt    license.txt    linux1st.txt   pcode.txt      pp.txt
> pragma.txt     readme.txt     simplex.txt    statics.txt     
> tracing.txt
> transfrm.txt   vm.txt         whatsnew.txt   windll.txt
>
> Is possible convert in rtp,odf,XML (IMO by OpenOffice.org)
> So it can be edited from linux/windows with better layout and image  
> with
> Style Sheets
>
>
> Massimo Belgrano
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From druzus at acn.waw.pl  Mon Jun  9 14:31:50 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  9 14:31:58 2008
Subject: [Harbour] hb_errFuncname question
In-Reply-To: <01897F89-82B9-4D56-B296-FB213ECB6D61@syenar.hu>
References: <01897F89-82B9-4D56-B296-FB213ECB6D61@syenar.hu>
Message-ID: <20080609183150.GA27977@34-mo7-2.acn.waw.pl>

On Sun, 08 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> I'd like to avoid replicating the function name
> in every hb_errRT*() calls, since it's consuming
> string space, is a PITA to type in, and it's just
> another thing to mistype.

Please only remember that in few cases we are not showing
call stack function name so literal string should be left
in them.

> So, I've noticed code
> which uses &hb_errFuncname instead. Is this safe
> to use by external code (contrib)?

Yes. It's constant value.

> Wouldn't it be even better to just pass NULL,
> if we want to use the currently executed Harbour
> function name? This might be more MT friendly
> and even less typing.

hb_errFuncname does not cause any bad side effects for
MT mode. It's constant value. It's a little bit different
version of some predefined constant which does not need
explicit casting, f.e. you can replace it by:
   #define HB_ERR_FUNCNAME  ( ( char * ) 1 )
and inside hb_errPutOperation() change:

   if( szOperation == &hb_errFuncName )
   {
      PHB_SYMB pSym = hb_itemGetSymbol( hb_stackBaseItem() );
      if( pSym )
         szOperation = pSym->szName;
   }

to:
   if( szOperation == HB_ERR_FUNCNAME )
   {
      PHB_SYMB pSym = hb_itemGetSymbol( hb_stackBaseItem() );
      if( pSym )
         szOperation = pSym->szName;
   }

But I do not like such explicit casting to numbers so I allowed
to chose exact value for the linker from existing address space.
Anyhow you can add to hbapierr.h:
   #define HB_ERR_FUNCNAME  &hb_errFuncName
Probably final code will look cleaner and will not confuse users
about MT dependences.

I added it because NULL was already used as empty value
and I didn't want to change the behavior of existing code.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Jun  9 14:38:29 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  9 14:38:33 2008
Subject: [Harbour] Re: How to call a external app?
In-Reply-To: <006e01c8ca48$7895d300$1301a8c0@INFOR04>
References: <006e01c8ca48$7895d300$1301a8c0@INFOR04>
Message-ID: <20080609183829.GB27977@34-mo7-2.acn.waw.pl>

On Mon, 09 Jun 2008, David MS wrote:

Hi David,

> I get a error from linker:
> Error: Unresolved external '_HB_FUN_HB_RUN' referenced from ...

You need current RC1 build to use this function. It was added recently.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Jun  9 14:49:17 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  9 14:49:22 2008
Subject: [Harbour] 2008-06-09 20:48 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806091849.m59InHc9029013@31-mo5-4.acn.waw.pl>

2008-06-09 20:48 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/doc/whatsnew.txt
    * minor fixes in formatting

  * harbour/source/rtl/hbgtcore.c
    ! fixed memory leak when HB_GTI_NOTIFIERBLOCK was used to overload
      register before block

  * harbour/source/vm/eval.c
    + added support for SYMBOL items in hb_evalLaunch() to be compatible
      with hb_itemDo()

  * harbour/contrib/hbmisc/spd.c
    * cleaned warnings

best regards
Przemek
From harbour.01 at syenar.hu  Mon Jun  9 14:58:53 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 15:00:04 2008
Subject: [Harbour] Fwd: hbdoc / hbmake
References: <3CF18839-3215-4231-8E9B-6D96531BF2C7@syenar.hu>
Message-ID: <D0BFA977-1CE5-4DC3-BD3E-47329218CD99@syenar.hu>

Hi Massimo,

For ref:

[ robodoc is the other tool ]

Begin forwarded message:

> From: Szak?ts Viktor <harbour.01@syenar.hu>
> Date: 2007. november 23. 21:31:46 GMT+01:00
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org 
> >
> Subject: hbdoc / hbmake
>
> Hi all,
>
> I'd like to get some opinions on hbmake / hbdoc.
>
> Both seems to be pretty bug ridden and not well
> maintained (seems so even after refreshing to the
> latest xhb version).
>
> IMO hbmake should somehow be "refactored" to reach
> a certain level of quality.
>
> hbdoc on the other hand could be replaced by some
> standard doc generating tool, so that we don't have
> to deal with the development of the tool itself.
> Some possible (free, GPL) alternatives:
>
> robodoc (HTML, DocBook, TXT, LaTeX, PDF, RTF outputs)
> 	http://en.wikipedia.org/wiki/ROBODoc
> 	http://www.xs4all.nl/~rfsber/Robo/robodoc.html
> doxygen (HTML, LaTeX, man, RTF, XML, CHM, PS, PDF)
> 	http://en.wikipedia.org/wiki/Doxygen
> 	http://www.doxygene.org/
>
> robodoc would need less reformatting of our current
> docs, doxygen has a wider output support, but both are
> able to produce most modern doc type outputs, see the
> links for more.
>
> Opinions (and contributors) are welcome.
>
> Brgds,
> Viktor
>

From harbour.01 at syenar.hu  Mon Jun  9 15:00:24 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 15:01:41 2008
Subject: [Harbour] Proposal of modification in Harbour\doc 
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED0B@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ED02@SRV02.deltain.net>
	<245E6AF2-9F5D-4C1B-B4F5-9878DCD81BCF@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED0B@SRV02.deltain.net>
Message-ID: <74DDDE2B-780D-4226-9229-62DA17ACA19A@syenar.hu>

and also DocBook, yes.

I forgot why I didn't recommend it last time though.

On 2008.06.09., at 19:08, Massimo Belgrano wrote:

> CLIP project now use the DocBook documentation system to provide  
> multiformat and multilanguage documentation in the strong and  
> regular fasion. http://www.itk.ru/clip-doc.en/x1166.html
>
> Is possible share same experiences if same harbour user know how  
> made or know it?
> http://www.itk.ru/english/clip/clipauthors.shtml
>
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Szak?ts Viktor
> Sent: Monday, June 09, 2008 5:44 PM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] Proposal of modification in Harbour\doc
>
> These docs are/were primarily suited for the
> developers (or close to developer users), so
> I'm afraid it's not a matter of file format.
>
> For usable end-user docs, the user-orientated
> parts would need to be gathered, processed,
> made into readable and organized form and put
> in a properly formatted user documentation.
> These could be put in /manual for example.
>
> For these docs though, or their enhanced
> versions in /docs, I'd keep .txt, as this is
> the only format not suffering from all the
> mess of doc handling softwares.
>
> For /manual, I'd recommend Doxygene, or the
> other one which I forgot this time (see
> several previous mails about the same topic).
>
> Brgds,
> Viktor
>
> On 2008.06.09., at 16:30, Massimo Belgrano wrote:
>
>> In Harbour\doc there is a few but important documentation files:
>> author.txt     class_tp.txt   cmdline.txt    codebloc.txt
>> codestyl.txt
>> c_std.txt      destruct.txt   dirstruc.txt   funclist.txt   gmake.txt
>> gtapi.txt      hbmake.txt     hbpplib.txt    hdr_tpl.txt
>> howtobld.txt
>> howtobsd.txt   howtomak.txt   howtorel.txt   howtosvn.txt
>> hrb_faq.txt
>> lang_id.txt    license.txt    linux1st.txt   pcode.txt      pp.txt
>> pragma.txt     readme.txt     simplex.txt    statics.txt
>> tracing.txt
>> transfrm.txt   vm.txt         whatsnew.txt   windll.txt
>>
>> Is possible convert in rtp,odf,XML (IMO by OpenOffice.org)
>> So it can be edited from linux/windows with better layout and image
>> with
>> Style Sheets
>>
>>
>> Massimo Belgrano
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From a.jurkiewicz at abix.info.pl  Mon Jun  9 15:04:59 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Mon Jun  9 15:11:43 2008
Subject: [Harbour] Re: How to call a external app?
In-Reply-To: <006e01c8ca48$7895d300$1301a8c0@INFOR04>
References: <006e01c8ca48$7895d300$1301a8c0@INFOR04>
Message-ID: <200806092104.59554.a.jurkiewicz@abix.info.pl>

Dnia poniedzia?ek, 9 czerwca 2008, David MS napisa?:
> Thanks Adams,
>
> I get a error from linker:
> Error: Unresolved external '_HB_FUN_HB_RUN' referenced from ...
>
Go to http://www.abix.info.pl/kompilator-harbour,56.html
and get all the RPM's for Linux. It is SVN with HB_RUN ...

Best Regards,
Adam


-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
From harbour.01 at syenar.hu  Mon Jun  9 15:21:57 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 15:22:07 2008
Subject: [Harbour] 2008-06-09 21:18 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8ca66$Blat.v2.6.2$156d03c0$2570605629a4@127.0.0.1>

2008-06-09 21:18 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtwvt/gtwvt.c
     ! Fixed windows size after maximize.
     * Temporary restored "instant resize" on mouse move.

   + contrib/hbw32/dllcall.c
   * contrib/hbw32/common.mak
   * contrib/hbw32/Makefile
     + Added DLL interface. From xhb. Work of several authors.
     ; I've applied some modifications made by Alex Strickland.
     ; The API calls below are implemented:
       XBase++ compatible:
       - DLLLoad()
       - DLLUnload()
       - DLLPrepareCall()
       - DLLExecuteCall()
       - DLLCall()
       Proprietary:
       - LoadLibrary() - Same as DLLLoad()
       - FreeLibrary() - Same as DLLUnload()
       - GetProcAddress()
       - CallDLL()
       - CallDLLBool()
       - GetLastError()
       - SetLastError()
     ! Fixed GetProcAddress() passed ordinals to always be 
       WORDs casted to DWORD.
     ! Fixed a few possible buffer overruns.
     * Cleanup, format, etc.
     ; Compile with HB_NO_ASM if you use BCC55 and don't have 
       TASM32 (or upgrade to free BCC58 which contains TASM32).
     ; "C struct" support was stripped (but that seems only a 
       small portion.
     ; Please test. I doesn't work me for simple test code, 
       I have no idea why.
     ; TOFIX: Replace MessageBox() calls with RTEs.
     ; TOFIX: Solve any name clashing problems and/or use namespace 
              for the proprietary interface.

   * include/hbapierr.h
     + HB_ERR_FUNCNAME() added to replace &hb_errFuncName
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun  9 15:29:59 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 15:29:56 2008
Subject: [Harbour] 2008-06-09 21:28 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8ca67$Blat.v2.6.2$34b5fe66$2c8c671cecfc@127.0.0.1>

2008-06-09 21:28 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/errorapi.c
     * Using HB_ERR_FUNCNAME.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun  9 15:38:31 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 15:39:33 2008
Subject: [Harbour] hb_errFuncname question
In-Reply-To: <20080609183150.GA27977@34-mo7-2.acn.waw.pl>
References: <01897F89-82B9-4D56-B296-FB213ECB6D61@syenar.hu>
	<20080609183150.GA27977@34-mo7-2.acn.waw.pl>
Message-ID: <0AFEB2AE-E057-482F-85AF-A01A0FF9DD9B@syenar.hu>

>
Hi Przemek,

>> I'd like to avoid replicating the function name
>> in every hb_errRT*() calls, since it's consuming
>> string space, is a PITA to type in, and it's just
>> another thing to mistype.
>
> Please only remember that in few cases we are not showing
> call stack function name so literal string should be left
> in them.

Many thanks, I did your modifications.

We may remove hb_errFuncName after changing references, right?

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Jun  9 16:03:07 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  9 16:03:11 2008
Subject: [Harbour] 2008-06-09 21:18 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8ca66$Blat.v2.6.2$156d03c0$2570605629a4@127.0.0.1>
References: <01c8ca66$Blat.v2.6.2$156d03c0$2570605629a4@127.0.0.1>
Message-ID: <20080609200307.GA3399@34-mo7-2.acn.waw.pl>

On Mon, 09 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

>    + contrib/hbw32/dllcall.c
>    * contrib/hbw32/common.mak
>    * contrib/hbw32/Makefile
>      + Added DLL interface. From xhb. Work of several authors.
>      ; I've applied some modifications made by Alex Strickland.
>      ; The API calls below are implemented:
>        XBase++ compatible:
>        - DLLLoad()
>        - DLLUnload()
>        - DLLPrepareCall()
>        - DLLExecuteCall()
>        - DLLCall()
>        Proprietary:
>        - LoadLibrary() - Same as DLLLoad()
>        - FreeLibrary() - Same as DLLUnload()
>        - GetProcAddress()
>        - CallDLL()
>        - CallDLLBool()
>        - GetLastError()
>        - SetLastError()
>      ! Fixed GetProcAddress() passed ordinals to always be 
>        WORDs casted to DWORD.
>      ! Fixed a few possible buffer overruns.
>      * Cleanup, format, etc.
>      ; Compile with HB_NO_ASM if you use BCC55 and don't have 
>        TASM32 (or upgrade to free BCC58 which contains TASM32).

Please note that this code is ABI dependent. In WIN64 pointer size
has 64bit and it uses different ABI so this code will not work.
Now it has to be disabled for such builds. But for WIN64 it should be
possible to easy eliminate asm code. 1-st 10 parameters are passed
in registers (AFAIR RAX, RCX, RX1, ..., RX8) so simple casting of
function pointer to some function with 10 _INT64 parameters and
passing this parameters or 0 for unused should be enough to execute
any function.
It's even possible to eliminate .asm code also for 32bit platform
using similar dirty hack with casting but it will have to be more
complicated.

>      ; "C struct" support was stripped (but that seems only a 
>        small portion.

I added C structures ported from xharbour to XHB library so maybe
you can enable them optionally.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Jun  9 16:06:09 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun  9 16:06:14 2008
Subject: [Harbour] hb_errFuncname question
In-Reply-To: <0AFEB2AE-E057-482F-85AF-A01A0FF9DD9B@syenar.hu>
References: <01897F89-82B9-4D56-B296-FB213ECB6D61@syenar.hu>
	<20080609183150.GA27977@34-mo7-2.acn.waw.pl>
	<0AFEB2AE-E057-482F-85AF-A01A0FF9DD9B@syenar.hu>
Message-ID: <20080609200609.GB3399@34-mo7-2.acn.waw.pl>

On Mon, 09 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> >Please only remember that in few cases we are not showing
> >call stack function name so literal string should be left
> >in them.
> Many thanks, I did your modifications.
> We may remove hb_errFuncName after changing references, right?

If we replace all references with HB_ERR_FUNCNAME then we can
redefine this macro to anything we may like. It's my fault that
I haven't use macro from the beginning. I should think about it.

best regard,
Przemek
From rportnoff at spendmap.com  Mon Jun  9 15:53:40 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Mon Jun  9 16:08:14 2008
Subject: [Harbour] Upating website
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED05@SRV02.deltain.net>
References: <200806070322.10360.philb@philb.us>
	<AFB948164110ED43B5EB849E8DEEF03815ECDC@SRV02.deltain.net>
	<B0081076421@ms1.3peaks.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED05@SRV02.deltain.net>
Message-ID: <B0081087054@ms1.3peaks.com>

Hi Massimo,

Attached is the revised text - I moved stuff around and removed a few 
items that were redundant or  (IMO) not required. Please review it 
and let me know if you need anything else added or changed.

Randy.


At 10:54 AM 6/9/2008, you wrote:
>Hi randy
>What is missing in your opition at
>http://en.wikipedia.org/wiki/Harbour_compiler ?
>
>If you can clean up the grammar now will be usefull for user that want
>add something later
>Thanks for collaboration
>Massimo.
>
>-----Original Message-----
>From: harbour-bounces@harbour-project.org
>[mailto:harbour-bounces@harbour-project.org] On Behalf Of Randy Portnoff
>Sent: Monday, June 09, 2008 4:19 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Upating website
>
>Hi Massimo,
>
>Once the content is complete, I don't mind cleaning-up the grammar -
>Let me know...
>
>Randy.
>
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
A non-text attachment was scrubbed...
Name: HarbourWiki.zip
Type: application/zip
Size: 10581 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080609/29c496f9/HarbourWiki.zip
From rportnoff at spendmap.com  Mon Jun  9 16:17:32 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Mon Jun  9 16:16:21 2008
Subject: [Harbour] Upating website
Message-ID: <B0081087233@ms1.3peaks.com>

Hi Massimo,

Since you are referring to various products in this text, I think it 
would be a good idea to include the following text at the bottom:


All product or brand names are trademarks or registered trademarks of 
their respective holders.


Randy.


At 10:54 AM 6/9/2008, you wrote:
>Hi randy
>What is missing in your opition at
>http://en.wikipedia.org/wiki/Harbour_compiler ?
>
>If you can clean up the grammar now will be usefull for user that want
>add something later
>Thanks for collaboration
>Massimo.
>
>-----Original Message-----
>From: harbour-bounces@harbour-project.org
>[mailto:harbour-bounces@harbour-project.org] On Behalf Of Randy Portnoff
>Sent: Monday, June 09, 2008 4:19 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Upating website
>
>Hi Massimo,
>
>Once the content is complete, I don't mind cleaning-up the grammar -
>Let me know...
>
>Randy.
>
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From harbour.01 at syenar.hu  Mon Jun  9 16:18:01 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 16:19:03 2008
Subject: [Harbour] 2008-06-09 21:18 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <20080609200307.GA3399@34-mo7-2.acn.waw.pl>
References: <01c8ca66$Blat.v2.6.2$156d03c0$2570605629a4@127.0.0.1>
	<20080609200307.GA3399@34-mo7-2.acn.waw.pl>
Message-ID: <2A47D803-6520-4AC2-82EA-78AA3EC8E3D3@syenar.hu>

Hi Przemek,

>>
>>     ! Fixed GetProcAddress() passed ordinals to always be
>>       WORDs casted to DWORD.
>>     ! Fixed a few possible buffer overruns.
>>     * Cleanup, format, etc.
>>     ; Compile with HB_NO_ASM if you use BCC55 and don't have
>>       TASM32 (or upgrade to free BCC58 which contains TASM32).
>
> Please note that this code is ABI dependent. In WIN64 pointer size
> has 64bit and it uses different ABI so this code will not work.
> Now it has to be disabled for such builds. But for WIN64 it should be
> possible to easy eliminate asm code. 1-st 10 parameters are passed
> in registers (AFAIR RAX, RCX, RX1, ..., RX8) so simple casting of
> function pointer to some function with 10 _INT64 parameters and
> passing this parameters or 0 for unused should be enough to execute
> any function.
> It's even possible to eliminate .asm code also for 32bit platform
> using similar dirty hack with casting but it will have to be more
> complicated.

I thought you'll know the solutions to these problems :)

It's too much for me though, especially since I couldn't
even try these as they are now. Maybe I broke it, but
the original code didn't work for me the same way either.
Not having any test code doesn't help either.

I've added it in hope that it ignites some interest (and
to help porting 3rd party stuff), and that it will get
properly fixed eventually. If it's you, even better.

> I added C structures ported from xharbour to XHB library so maybe
> you can enable them optionally.

It would create cross dependency which I wanted (and
want) to avoid.

In any case, if someone needs "c struct" support, it's
enought to use CFLAGS=-D__XHARBOUR__ for hbw32. Not tested,
but the code is there, intact.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun  9 16:18:58 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 16:20:00 2008
Subject: [Harbour] hb_errFuncname question
In-Reply-To: <20080609200609.GB3399@34-mo7-2.acn.waw.pl>
References: <01897F89-82B9-4D56-B296-FB213ECB6D61@syenar.hu>
	<20080609183150.GA27977@34-mo7-2.acn.waw.pl>
	<0AFEB2AE-E057-482F-85AF-A01A0FF9DD9B@syenar.hu>
	<20080609200609.GB3399@34-mo7-2.acn.waw.pl>
Message-ID: <3AD23EF3-AB2E-422B-B268-AECAAA26977B@syenar.hu>

No problem at all, I'll give it a shot anyway
for some files, so it doesn't take anything to
update it in whole Harbour.

Brgds,
Viktor

On 2008.06.09., at 22:06, Przemyslaw Czerpak wrote:

> On Mon, 09 Jun 2008, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>>> Please only remember that in few cases we are not showing
>>> call stack function name so literal string should be left
>>> in them.
>> Many thanks, I did your modifications.
>> We may remove hb_errFuncName after changing references, right?
>
> If we replace all references with HB_ERR_FUNCNAME then we can
> redefine this macro to anything we may like. It's my fault that
> I haven't use macro from the beginning. I should think about it.
>
> best regard,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Jun  9 15:41:16 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 16:37:25 2008
Subject: [Harbour] Proposal of modification in Harbour\doc 
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED0A@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ED02@SRV02.deltain.net>
	<245E6AF2-9F5D-4C1B-B4F5-9878DCD81BCF@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED0A@SRV02.deltain.net>
Message-ID: <01827152-3D1A-41CF-BDB2-047CFAE6CEB4@syenar.hu>

>
> Well agree , and want start in doxygen so have download doxygen and  
> read this guide http://www.codeproject.com/KB/tips/doxysetup.aspx  
> but i have some problem to start:
> Harbour source *.c aren't in doxygen format. How convert? (Is  
> possible convert using preprocessor?)
> How doxygen  process prg?

This won't be a once button-press process methinks.

Brgds,
Viktor

From teo at windtelsoft.com  Mon Jun  9 17:30:52 2008
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Mon Jun  9 17:31:19 2008
Subject: [Harbour] Proposal of modification in Harbour\doc
In-Reply-To: <01827152-3D1A-41CF-BDB2-047CFAE6CEB4@syenar.hu>
References: <AFB948164110ED43B5EB849E8DEEF03815ED02@SRV02.deltain.net>
	<AFB948164110ED43B5EB849E8DEEF03815ED0A@SRV02.deltain.net>
	<01827152-3D1A-41CF-BDB2-047CFAE6CEB4@syenar.hu>
Message-ID: <200806091630.53078.teo@windtelsoft.com>

On Monday 09 June 2008 02:41:16 pm Szak?ts Viktor wrote:
> > Well agree , and want start in doxygen so have download doxygen and
> > read this guide http://www.codeproject.com/KB/tips/doxysetup.aspx
> > but i have some problem to start:
> > Harbour source *.c aren't in doxygen format. How convert? (Is
> > possible convert using preprocessor?)
> > How doxygen  process prg?
>
> This won't be a once button-press process methinks.

I think that we just need to pass the comments (of course only the C 
compatibles ones) right to the *.c sources generated by the harbour compiler 
and from here just do a pass with the doxygen.

It would be great to be able to use a standard tool like doxygen in our 
harbour sources.


best regards

Teo
From harbour.01 at syenar.hu  Mon Jun  9 16:26:38 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun  9 17:32:12 2008
Subject: [Harbour] hb_errFuncname question
In-Reply-To: <20080609183150.GA27977@34-mo7-2.acn.waw.pl>
References: <01897F89-82B9-4D56-B296-FB213ECB6D61@syenar.hu>
	<20080609183150.GA27977@34-mo7-2.acn.waw.pl>
Message-ID: <D9449DEC-EB7B-40E8-9F9F-28BE796C9037@syenar.hu>

Hi Przemek,

>>
>> I'd like to avoid replicating the function name
>> in every hb_errRT*() calls, since it's consuming
>> string space, is a PITA to type in, and it's just
>> another thing to mistype.
>
> Please only remember that in few cases we are not showing
> call stack function name so literal string should be left
> in them.

Can you tell some examples?

I'd like to see all the consequences before updating code
with this.

One good side effect is that it will return the
proper function name for forwarded functions.
(HB_FUNC_EXEC() for example)

Brgds,
Viktor

From bedipritpal at hotmail.com  Mon Jun  9 17:50:38 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Jun  9 17:50:41 2008
Subject: [Harbour] 2008-06-09 14:48 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <17742948.post@talk.nabble.com>


2008-06-09 14:48 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
   * harbour/source/rtl/gtwvt/gtwvt.c
     ! Fixed for selection in the last row and column.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-09-14%3A48-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17742948p17742948.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From dbtopas at dbtopas.lt  Mon Jun  9 18:35:59 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Jun  9 18:33:56 2008
Subject: [Harbour] 2008-06-09 21:18 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <2A47D803-6520-4AC2-82EA-78AA3EC8E3D3@syenar.hu>
References: <01c8ca66$Blat.v2.6.2$156d03c0$2570605629a4@127.0.0.1>	<20080609200307.GA3399@34-mo7-2.acn.waw.pl>
	<2A47D803-6520-4AC2-82EA-78AA3EC8E3D3@syenar.hu>
Message-ID: <484DB04F.8090705@dbtopas.lt>

Szak?ts Viktor wrote:
> I thought you'll know the solutions to these problems :)

Hi,


if I've understood a problem, you are trying to call dynamic C function 
(function with no parameters count known for compiler). I'm using this 
solution for some 9 years under Win16, Win32. It's not multiplatform, 
not Win64 compatible, but it works in the cases I need. The idea is:


static const BYTE CallProcByStackFrameCode[] = {
     0x55,                //             push    ebp
     0x8B, 0xEC,          //             mov     ebp,esp
     0x8B, 0x4D, 0x10,    //             mov     ecx,dword ptr [ebp+16]
     0x67, 0xE3, 0x10,    //             jcxz    @@noparam
     0x8B, 0x5D, 0x0C,    //             mov     ebx,dword ptr [ebp+12]
     0x2B, 0xE1,          //             sub     esp,ecx
     0x8B, 0xD4,          //             mov     edx,esp
     0x8A, 0x03,          // @@loop:     mov     al,byte ptr [ebx]
     0x36, 0x88, 0x02,    //             mov     byte ptr ss:[edx],al
     0x43,                //             inc     ebx
     0x42,                //             inc     edx
     0xE2, 0xF7,          //             loop    @@loop
     0x8B, 0x45, 0x08,    // @@noparam:  mov     eax,dword ptr [ebp+8]
     0xFF, 0xD0,          //             call    eax
     0x8B, 0xE5,          //             mov	esp,ebp
     0x5D,                //             pop	ebp
     0xC3};               //             ret

typedef int (* CallProcByStackFrameFunc) (void*, void*, int);

CallProcByStackFrameFunc CallProcByStackFrame = 
(CallProcByStackFrameFunc)CallProcByStackFrameCode;


You are free to call any C function with any stackframe directly from 
.prg, but expect GPF is you are not good enough on internals:

HB_FUNC ( CALLPROCBYSTACKFRAME )
{
    if ( ISCHAR( 2 ) )
       hb_retnl( CallProcByStackFrame( hb_parptr( 1 ), hb_parc( 2 ), 
hb_parclen( 2 ) ) );
    else
       hb_retnl( CallProcByStackFrame( hb_parptr( 1 ), NULL, 0 ) );
}


CALLDLL(), DLLEXECUTE(), etc .prg calls can be implemented in a way 
similar to this:

HB_FUNC ( CALLPROC )
{
/*
    TODO: this function always returns LONG type. It could be pointer, etc.
    Tipu konvertavimas:
      NUMERIC -> int
      CHAR -> char*
      LOGIC -> BOOL
    Jei ByRef, tai atgal sukisami su _storn, _storclen.
    Pvz.:
    cBuf := SPACE(1000)
    nRead := 0
    CallProc("ReadFile", hFile, @cBuf, 1000, @nRead, NIL);
*/
    long       pbuf[ 10 ];
    int        i, j, pcount, storn = 0, storc = 0, storp = 0;
    char       *pstr, *pFuncName;
    HINSTANCE  hInst;
    void*      pFunc;

    pcount = hb_parinfo( 0 );
    j = 9;
    for ( i = 2; i <= pcount; i++ )
    {
       if ( i - 2 >= j )
       {
          // ### runerror
          hb_ret();
          return;
       }

       if ( ISNUM( i ) )
       {
          if ( ISBYREF( i ) )
          {
             pbuf[ j ] = (long) hb_parnl( i );
             pbuf[ i - 2 ] = (long) &pbuf[ j ];
             j--;
             storn |= 1 << ( i - 2 );
          }
          else
             pbuf[ i - 2 ] = (long) hb_parnl( i );
       }
       else if ( ISCHAR( i ) )
       {
          if ( ISBYREF( i ) )
          {
             pbuf[ i - 2 ] = (long) hb_xgrabcopy( hb_parclen( i ) + 1, 
hb_parc( i ) );
             storc |= 1 << ( i - 2 );
          }
          else
             pbuf[ i - 2 ] = (long) hb_parc( i );
       }
       else if ( ISPOINTER( i ) )
       {
          if ( ISBYREF( i ) )
          {
             pbuf[ j ] = (long) hb_parptr( i );
             pbuf[ i - 2 ] = (long) &pbuf[ j ];
             j--;
             storp |= 1 << ( i - 2 );
          }
          else
             pbuf[ i - 2 ] = (long) hb_parptr( i );
       }
       else if ( ISLOG(i) )
          pbuf[ i-2 ] = (long) hb_parl( i );
    }

    hInst = NULL;
    if ( ISPOINTER( 1 ) )  pFunc = hb_parptr( 1 );
    else
    {
       pstr = hb_parc(1);
       if ( ( pFuncName = strrchr( pstr, ':' ) ) == NULL )
       {
          // ### runerror
          hb_ret();
          return;
       }
       *pFuncName = '\0';
       hInst = LoadLibrary( pstr );
       *pFuncName = ':';
       pFunc = GetProcAddress( hInst, pFuncName + 1 );
    }

    if ( ! pFunc )
    {
       // ### runerror
       hb_ret();
       return;
    }

    hb_retnl( CallProcByStackFrame( pFunc, &pbuf, ( pcount - 1 ) * 4 ) );

    if ( hInst )
       FreeLibrary( hInst );

    for ( i = 0; i < pcount - 1; i++ )
    {
       if ( storn & (1 << i) )
       {
          hb_stornl( * (long*) pbuf[ i ], i + 2 );
       }
       else if ( storc & (1 << i) )
       {
          hb_storclen( (char*) pbuf[ i ], hb_parclen( i + 2 ), i + 2 );
          hb_xfree( (char*) pbuf[ i ] );
       }
       else if ( storp & (1 << i) )
       {
          hb_storptr( (void*) pbuf[ i ], i + 2 );
       }
    }
}


This is one of the most hackiest function in my Windows code. One more 
solution I use for the same 9 years is dynamic WndProc registration. 
I've not seen it in other libs. For example, contrib\what32\wincorec.c 
uses ten callbacks __WndProc, ..., __WndProc10. But it's not a problem 
to have any number of window procedures and create it dynamically. I 
create one for every class like Button, ListBox, Static, Dialog, during 
.prg level class initialisation.


#define LENProcCode      13

typedef struct
{
   BYTE    code[ LENProcCode ];
} WProcCode;

static WProcCode     pWPCode[ 256 ];


Some library initialisation code should do this:

    for ( i = 0; i < 256; i++ )
    {
       pWPCode[ i ].code[ 0 ] = 0x6A;                   // push imm8
       pWPCode[ i ].code[ 1 ] = (unsigned char) i;
       pWPCode[ i ].code[ 2 ] = 0xB8;                   // mov ax,imm32
       * (int*) &( pWPCode[i].code[ 3 ] ) = (int) &WProcHandler;
       pWPCode[ i ].code[ 7 ] = 0xFF;                   // call eax
       pWPCode[ i ].code[ 8 ] = 0xD0;
       pWPCode[ i ].code[ 9 ] = 0x59;                   // pop ecx
       pWPCode[ i ].code[ 10 ] = 0xC2;                  // retn 0010h
       pWPCode[ i ].code[ 11 ] = 0x10;
       pWPCode[ i ].code[ 12 ] = 0x00;
    }


Now you can allocate any of 256 entries dynamicaly. I use this simple 
allocation scheme, it fits my needs, but you can change push imm8, to 
push imm32 and allocate pWPCode array items by hb_xgrab(), you'll have 
dynamic window procedure allocation with limit of 2^32 procedures :)

Oh, I forgot:

static LRESULT WProcHandler( int iEntryPoint, void* pRetAddr, HWND hWnd, 
UINT uiParam, WPARAM wParam, LPARAM lParam )
{
  ....
}

Here is real entry handling function. Use iEntryPoint (it's imm8 
parameter from machine code above) to identify allocated procedure's 
resources such as PHB_ITEM pCodeblock to call Harbour level handlers, etc.


Best regards,
Mindaugas


P.S. this is great solutions for Win32, but it's not multiplatform. It's 
hacky, so, try to this keep code isolated. Hacking should not be a habit 
of developer (or you'll need to rewrite your code from the scratch soon).



From ssbbstw at pchome.com.tw  Mon Jun  9 20:26:41 2008
From: ssbbstw at pchome.com.tw (WenSheng)
Date: Mon Jun  9 20:26:46 2008
Subject: [Harbour] Why your are using harbour ?
In-Reply-To: <B0081075508@ms1.3peaks.com>
References: <B0081075508@ms1.3peaks.com>
Message-ID: <20080609221202.E9BC.SSBBSTW@pchome.com.tw>


May be add one:

Why your want cancel Harbour?
From philb at philb.us  Mon Jun  9 20:31:07 2008
From: philb at philb.us (Phil Barnett)
Date: Mon Jun  9 20:31:12 2008
Subject: [Harbour] Fwd: Uncaught bounce notification
Message-ID: <200806092031.08101.philb@philb.us>

Newsgroups and mail lists accomplish EXACTLY the same goals. Information 
sharing. There is nothing about newsgroups that make this better. In fact, 
newsgroups get distributed wastefully to places that will never use them, 
taking up internet bandwidth with nothing to show for it. Kinda like spam.

And, there is no control over who can post to a newsgroup, so you inevitably 
end up with all kinds of spam.

Have you noticed the spam level of our email list? Spam is nonexistent. And 
that is because we have control over it. Control which we will not have if we 
link up to a newsgroup. Can you show me a widely distributed newsgroup that 
has this same low level of spam? Don't waste your time. The only ones that 
have a low spam level are moderated. Don't even go there. Moderation is the 
death of spontaneity.

Since they serve exactly the same function, there is no need to duplicate our 
communication effort into a poorly controlled substitute for what we already 
have working very well today.

-- 
Waiting for sunspots.
-------------- next part --------------
An embedded message was scrubbed...
From: mailman-bounces@harbour-project.org
Subject: Uncaught bounce notification
Date: Mon, 09 Jun 2008 09:35:05 -0400
Size: 4857
Url: http://lists.harbour-project.org/pipermail/harbour/attachments/20080609/58ec2d5b/attachment-0001.mht
From harbour.01 at syenar.hu  Tue Jun 10 02:11:33 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 02:12:37 2008
Subject: [Harbour] Fwd: Uncaught bounce notification
In-Reply-To: <200806092031.08101.philb@philb.us>
References: <200806092031.08101.philb@philb.us>
Message-ID: <755C86BF-6AC6-4A69-87A6-47EDA73F9C69@syenar.hu>

Hi Phil,

I started receiving lots of "MAILER-DAEMON"s since
yesterday (from the devl list), telling about message
loops. See one below.

Is there any relation to this gmane thing?
And more importantly is there any way to fix this?

Brgds,
Viktor


Begin forwarded message:

> From: MAILER-DAEMON@taz5.fiberhosting.net
> Date: 2008. j?nius 10. 4:56:54 GMT+02:00
> To: harbour.01@syenar.hu
> Subject: failure notice
>
> Hi. This is the qmail-send program at taz5.fiberhosting.net.
> I'm afraid I wasn't able to deliver your message to the following  
> addresses.
> This is a permanent error; I've given up. Sorry it didn't work out.
>
> <harbour@harbour-project.org>:
> This message is looping: it already has my Delivered-To line. (#5.4.6)
>
> --- Below this line is a copy of the message.
>
> Return-Path: <harbour.01@syenar.hu>
> Received: (qmail 19938 invoked from network); 9 Jun 2008 22:56:53  
> -0400
> Received: from cable-83.217.158.241.static.coditel.net (HELO  
> mafact.be) (83.217.158.241)
>  by harbour-project.org with SMTP; 9 Jun 2008 22:56:53 -0400
> Received-SPF: none (harbour-project.org: domain at syenar.hu does  
> not designate permitted sender hosts)
> Received: (qmail 3816 invoked from network); 8 Jun 2008 10:02:32 -0400
> Received: from localhost (HELO taz5.fiberhosting.net) (127.0.0.1)
>  by localhost with SMTP; 8 Jun 2008 10:02:31 -0400
> Return-Path: <harbour.01@syenar.hu>
> Delivered-To: 7-harbour@harbour-project.org
> Received: (qmail 3715 invoked from network); 8 Jun 2008 10:02:28 -0400
> Received: from gv-out-0910.google.com (216.239.58.190)
> 	by harbour-project.org with SMTP; 8 Jun 2008 10:02:28 -0400
> Received-SPF: none (harbour-project.org: domain at syenar.hu does not
> 	designate permitted sender hosts)
> Received: by gv-out-0910.google.com with SMTP id r4so454476gve.0
> 	for <harbour@harbour-project.org>; Sun, 08 Jun 2008 07:02:26 -0700  
> (PDT)
> Received: by 10.103.17.10 with SMTP id u10mr1533842mui. 
> 97.1212933745982;
> 	Sun, 08 Jun 2008 07:02:25 -0700 (PDT)
> Return-Path: <harbour.01@syenar.hu>
> Received: from ?192.168.3.5? ( [84.1.175.112])
> 	by mx.google.com with ESMTPS id y2sm36077845mug.1.2008.06.08.07.02.24
> 	(version=TLSv1/SSLv3 cipher=RC4-MD5);
> 	Sun, 08 Jun 2008 07:02:25 -0700 (PDT)
> Message-Id: <E4B6304F-887E-4BD7-857F-8B641739EB1C@syenar.hu>
> From: =?ISO-8859-1?Q?Szak=E1ts_Viktor?= <harbour.01@syenar.hu>
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org 
> >
> Content-Type: text/plain; charset=US-ASCII; format=flowed
> Content-Transfer-Encoding: 7bit
> Mime-Version: 1.0 (Apple Message framework v924)
> Date: Sun, 8 Jun 2008 16:01:27 +0200
> X-Mailer: Apple Mail (2.924)
> Subject: [Harbour] Core constant cleanup
> X-BeenThere: harbour@harbour-project.org
> X-Mailman-Version: 2.1.5
> Precedence: list
> Reply-To: "Harbour Project Main Developer List." <harbour@harbour-project.org 
> >
> List-Id: "Harbour Project Main Developer List." <harbour.harbour- 
> project.org>
> List-Unsubscribe: <http://lists.harbour-project.org/mailman/listinfo/harbour 
> >,
> 	<mailto:harbour-request@harbour-project.org?subject=unsubscribe>
> List-Archive: <http://lists.harbour-project.org/pipermail/harbour>
> List-Post: <mailto:harbour@harbour-project.org>
> List-Help: <mailto:harbour-request@harbour-project.org?subject=help>
> List-Subscribe: <http://lists.harbour-project.org/mailman/listinfo/harbour 
> >,
> 	<mailto:harbour-request@harbour-project.org?subject=subscribe>
> Sender: harbour-bounces@harbour-project.org
> Errors-To: harbour-bounces@harbour-project.org
> X-MDBadQueue-Reason: maximum hop count exceeded (possible message  
> loop)
>
> Hi all,
>
> I plan to clean constants as below:
>
> OS_UNIX_COMPATIBLE                -> HB_OS_UNIX_COMPATIBLE
> OS_PATH_LIST_SEPARATOR            -> HB_OS_PATH_LIST_SEP_CHR
> OS_PATH_DELIMITER                 -> HB_OS_PATH_DELIM_CHR
> OS_PATH_DELIMITER_STRING          -> HB_OS_PATH_DELIM_STR
> OS_PATH_DELIMITER_LIST            -> HB_OS_PATH_DELIM_LIST
> OS_FILE_MASK                      -> HB_OS_ALLFILE_MASK
> OS_DRIVE_DELIMITER                -> HB_OS_DRIVE_DELIM_CHR
> OS_HAS_DRIVE_LETTER               -> HB_OS_HAS_DRIVE_LETTER
> OS_OPT_DELIMITER_LIST             -> HB_OS_OPT_DELIM_LIST
> OS_EOL_LEN                        -> HB_OS_EOL_LEN
> HARBOUR_GCC_OS2                   -> HB_OS_OS2_GCC
> HARBOUR_START_PROCEDURE           -> HB_START_PROCEDURE
> HARBOUR_MAIN_STD                  -> HB_MAIN_STD
> HARBOUR_MAIN_WIN                  -> HB_MAIN_WIN
> HARBOUR_MAX_RDD_DRIVERNAME_LENGTH -> HB_RDD_MAX_DRIVERNAME_LEN
> HARBOUR_MAX_RDD_ALIAS_LENGTH      -> HB_RDD_MAX_ALIAS_LEN
> HARBOUR_MAX_RDD_AREA_NUM          -> HB_RDD_MAX_AREA_NUM
>
> The main point here is usage if HB_ as standard
> plus I've made some other cleanup to make names
> more distinctive, better align with similar ones,
> and possibly shorter.
>
> Please comment. We can of course leave those ones
> which may be used by 3rd parties to live for a while
> with the old name too, to not break them.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>

From mbelgrano at deltain.it  Tue Jun 10 03:48:57 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Jun 10 03:49:08 2008
Subject: [Harbour] Fwd: Uncaught bounce notification
In-Reply-To: <200806092031.08101.philb@philb.us>
References: <200806092031.08101.philb@philb.us>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED0E@SRV02.deltain.net>

In newsgroup managed by xharbour are present 1-3 spam messages each
month
http://groups.google.it/group/comp.lang.xharbour/topics
so spam in not a problem in my opinion

Think that if you have stored all your messages in a newsgroup you want
continue with it et viceversa
so most website made assistance in either way 
newsgroup seem have a more diffusion and seem most modern of mailing
list
http://www.google.com/trends?q=newsgroup%2Cmailinglist&ctab=0&geo=all&da
te=all&sort=0
Mailing list tipycally have this limitation :
  -limited in attachment because any mail sent to the list to the email
account of everyone on the list.
-require a registration process so seem most closed to public
-Searching a mail in a mailing of period where you aren't subscriver is
very difficult


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Phil Barnett
Sent: Tuesday, June 10, 2008 2:31 AM
To: Harbour@harbour-project.org
Subject: [Harbour] Fwd: Uncaught bounce notification

Newsgroups and mail lists accomplish EXACTLY the same goals. Information
sharing. There is nothing about newsgroups that make this better. In
fact, newsgroups get distributed wastefully to places that will never
use them, taking up internet bandwidth with nothing to show for it.
Kinda like spam.

And, there is no control over who can post to a newsgroup, so you
inevitably end up with all kinds of spam.

Have you noticed the spam level of our email list? Spam is nonexistent.
And that is because we have control over it. Control which we will not
have if we link up to a newsgroup. Can you show me a widely distributed
newsgroup that has this same low level of spam? Don't waste your time.
The only ones that have a low spam level are moderated. Don't even go
there. Moderation is the death of spontaneity.

Since they serve exactly the same function, there is no need to
duplicate our communication effort into a poorly controlled substitute
for what we already have working very well today.

--
Waiting for sunspots.
From harbour.01 at syenar.hu  Tue Jun 10 04:47:27 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 04:48:32 2008
Subject: [Harbour] Fwd: Uncaught bounce notification
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED0E@SRV02.deltain.net>
References: <200806092031.08101.philb@philb.us>
	<AFB948164110ED43B5EB849E8DEEF03815ED0E@SRV02.deltain.net>
Message-ID: <71BC6722-81B5-4274-9A9E-4D3430C53B19@syenar.hu>

Hi Massimo,

What does a usenet newsgroup like 'comp.lang.harbour'
have anything to do with our official server? Anyone
can start these independently.

I'm also not sure what you're talking about, since
even this developer list can be found in these places
on the internet (besides the official webarchive):

http://www.mail-archive.com/
http://www.nabble.com/
http://news.gmane.org/

This is from the first few hits of a google search, so
there may be more. On some of these you can even post,
and the last one serves as a newsgroup, too. This is
already a bit too much for a devl list if you ask me.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Jun 10 05:08:21 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun 10 05:08:26 2008
Subject: [Harbour] hb_errFuncname question
In-Reply-To: <D9449DEC-EB7B-40E8-9F9F-28BE796C9037@syenar.hu>
References: <01897F89-82B9-4D56-B296-FB213ECB6D61@syenar.hu>
	<20080609183150.GA27977@34-mo7-2.acn.waw.pl>
	<D9449DEC-EB7B-40E8-9F9F-28BE796C9037@syenar.hu>
Message-ID: <20080610090821.GA5654@34-mo7-2.acn.waw.pl>

On Mon, 09 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> >Please only remember that in few cases we are not showing
> >call stack function name so literal string should be left
> >in them.
> Can you tell some examples?
> I'd like to see all the consequences before updating code
> with this.

F.e. see __DBAPP() and __DBCOPY(). It's usually in places
where we moved some Clipper .prg code to .c keeping original
Clipper error messages but there is not too much of them.
You can easy see such places during code updating.

> One good side effect is that it will return the
> proper function name for forwarded functions.
> (HB_FUNC_EXEC() for example)

Yes it is. It also resolves the problem of function name
when RT is generated from some low level code, f.e. inside
RDD code when the exact entry point isn't well known.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Jun 10 05:13:49 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 05:13:44 2008
Subject: [Harbour] 2008-06-10 11:10 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cada$Blat.v2.6.2$4aff8480$1fdca46ada9c@127.0.0.1>

2008-06-10 11:10 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtwvt/gtwvt.c
     ! Fixed maximized window size.

   * contrib/hbw32/dllcall.c
     * Further cleanup.
     ! MessageBox()es converted to RTE calls.

   * contrib/hbcurl/hbcurl.c
   * contrib/rddads/ads1.c
   * contrib/rddads/adsfunc.c
   * source/rdd/dbcmd.c
   * source/rdd/dbcmd53.c
   * source/rdd/dbcmdx.c
   * source/rdd/dbsql.c
   * source/rdd/wafunc.c
   * source/rdd/workarea.c
   * source/rtl/abs.c
   * source/rtl/at.c
   * source/rtl/cdpapi.c
   * source/rtl/chrasc.c
   * source/rtl/copyfile.c
   * source/rtl/datec.c
   * source/rtl/dateshb.c
   * source/rtl/do.c
   * source/rtl/gtfunc.c
   * source/rtl/hbadler.c
   * source/rtl/hbbit.c
   * source/rtl/hbcrc.c
   * source/rtl/hbhex.c
   * source/rtl/hbinet.c
   * source/rtl/hbregex.c
   * source/rtl/hbregexc.c
   * source/rtl/hbrunfun.c
   * source/rtl/hbtoken.c
   * source/rtl/hbzlib.c
   * source/rtl/left.c
   * source/rtl/len.c
   * source/rtl/math.c
   * source/rtl/minmax.c
   * source/rtl/philes.c
   * source/rtl/philesx.c
   * source/rtl/replic.c
   * source/rtl/round.c
   * source/rtl/run.c
   * source/rtl/set.c
   * source/rtl/space.c
   * source/rtl/str.c
   * source/rtl/strcase.c
   * source/rtl/strpeek.c
   * source/rtl/strtran.c
   * source/rtl/strzero.c
   * source/rtl/substr.c
   * source/rtl/transfrm.c
   * source/rtl/trim.c
   * source/rtl/type.c
   * source/rtl/val.c
   * source/rtl/valtype.c
   * source/rtl/word.c
   * source/vm/arrayshb.c
   * source/vm/classes.c
   * source/vm/debug.c
   * source/vm/eval.c
   * source/vm/evalhb.c
   * source/vm/hashfunc.c
   * source/vm/memvars.c
   * source/vm/runner.c
     * &hb_errFuncName -> HB_ERR_FUNCNAME
     % Using HB_ERR_FUNCNAME wherever possible.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Jun 10 05:13:35 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 05:14:36 2008
Subject: [Harbour] hb_errFuncname question
In-Reply-To: <20080610090821.GA5654@34-mo7-2.acn.waw.pl>
References: <01897F89-82B9-4D56-B296-FB213ECB6D61@syenar.hu>
	<20080609183150.GA27977@34-mo7-2.acn.waw.pl>
	<D9449DEC-EB7B-40E8-9F9F-28BE796C9037@syenar.hu>
	<20080610090821.GA5654@34-mo7-2.acn.waw.pl>
Message-ID: <4E663B9B-8558-41C8-83AC-40F40B3EFFE7@syenar.hu>

Hi Przemek,

Thanks for clarfiying. I'm committing then.
Few redundant Ks saved in final executable.

There were just a few changes in low level code,
I hope they're alright.

Brgds,
Viktor

On 2008.06.10., at 11:08, Przemyslaw Czerpak wrote:

> On Mon, 09 Jun 2008, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>>> Please only remember that in few cases we are not showing
>>> call stack function name so literal string should be left
>>> in them.
>> Can you tell some examples?
>> I'd like to see all the consequences before updating code
>> with this.
>
> F.e. see __DBAPP() and __DBCOPY(). It's usually in places
> where we moved some Clipper .prg code to .c keeping original
> Clipper error messages but there is not too much of them.
> You can easy see such places during code updating.
>
>> One good side effect is that it will return the
>> proper function name for forwarded functions.
>> (HB_FUNC_EXEC() for example)
>
> Yes it is. It also resolves the problem of function name
> when RT is generated from some low level code, f.e. inside
> RDD code when the exact entry point isn't well known.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Tue Jun 10 06:31:19 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Jun 10 06:31:25 2008
Subject: [Harbour] 2008-06-09 07:36 UTC+0100 Viktor Szakats
	(harbour.01syenar hu)
In-Reply-To: <01c8c9f7$Blat.v2.6.2$3051fce6$e50472f0be2@127.0.0.1>
References: <01c8c9f7$Blat.v2.6.2$3051fce6$e50472f0be2@127.0.0.1>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED12@SRV02.deltain.net>

How is possible compile test\wvtext.prg with bcc 

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Monday, June 09, 2008 8:08 AM
To: harbour@harbour-project.org
Subject: [Harbour] 2008-06-09 07:36 UTC+0100 Viktor Szakats (harbour.01syenar hu)

2008-06-09 07:36 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * tests/wvtext.prg
--
Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From philb at philb.us  Tue Jun 10 08:18:41 2008
From: philb at philb.us (Phil Barnett)
Date: Tue Jun 10 08:18:48 2008
Subject: [Harbour] Fwd: Uncaught bounce notification
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED0E@SRV02.deltain.net>
References: <200806092031.08101.philb@philb.us>
	<AFB948164110ED43B5EB849E8DEEF03815ED0E@SRV02.deltain.net>
Message-ID: <200806100818.41707.philb@philb.us>

On Tuesday 10 June 2008 03:48:57 am Massimo Belgrano wrote:
> In newsgroup managed by xharbour are present 1-3 spam messages each
> month
> http://groups.google.it/group/comp.lang.xharbour/topics
> so spam in not a problem in my opinion
>
> Think that if you have stored all your messages in a newsgroup you want
> continue with it et viceversa
> so most website made assistance in either way
> newsgroup seem have a more diffusion and seem most modern of mailing
> list
> http://www.google.com/trends?q=newsgroup%2Cmailinglist&ctab=0&geo=all&da
> te=all&sort=0
> Mailing list tipycally have this limitation :
>   -limited in attachment because any mail sent to the list to the email
> account of everyone on the list.
> -require a registration process so seem most closed to public
> -Searching a mail in a mailing of period where you aren't subscriver is
> very difficult

Search into our email list is as simple as a google search, so it's not a big 
deal.

Whatever you have done, please shut it off. It's causing email bounce loops.

-- 
Waiting for sunspots.
From mbelgrano at deltain.it  Tue Jun 10 09:09:48 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Jun 10 09:09:57 2008
Subject: [Harbour] Canghe font at runtime wvt
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED14@SRV02.deltain.net>

   Pressing f11 does not change font in harbour but does in xharbour
Must I use Hb_GtInfo( HB_GTI_FONTNAME/HB_GTI_FONTWIDTH/HB_GTI_FONTSIZE
,param)?


   setkey(K_SH_F11,{|| choose_FONT()})
   a=100
   @ 1,1 say "test" get a
   Read

func choose_FONT
   static A_FONT[8]
   a_font :=
Wvt_ChooseFont(a_font[1],a_font[2],a_font[3],a_font[4],a_font[5])
   // only if changed are returned
   screenWidth := Wvt_GetScreenWidth()
   screenHeight := Wvt_GetScreenHeight()
   x_Ratio=0.85
   X_ALT=a_font[2]  // int(screenHeight/maxrow() * x_ratio)
   X_LAR=a_font[3] // Int( screenWidth/maxcol()-.5)
   Wvt_setFont(a_font[1],X_ALT,X_LAR,a_font[4],a_font[5])
   Wvt_SetCodePage(255)
return .T.


Massimo Belgrano
From druzus at acn.waw.pl  Tue Jun 10 09:32:18 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun 10 09:32:22 2008
Subject: [Harbour] 2008-06-10 11:10 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8cada$Blat.v2.6.2$4aff8480$1fdca46ada9c@127.0.0.1>
References: <01c8cada$Blat.v2.6.2$4aff8480$1fdca46ada9c@127.0.0.1>
Message-ID: <20080610133218.GA32266@34-mo7-2.acn.waw.pl>

On Tue, 10 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> 2008-06-10 11:10 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>    * source/rtl/gtwvt/gtwvt.c
>      ! Fixed maximized window size.
>    * contrib/hbw32/dllcall.c
>      * Further cleanup.
>      ! MessageBox()es converted to RTE calls.

If possible please try to create test build with UNICODE macro
(C_USR=-DUNICODE). Some of recent modifications are not adopted
for unicode builds.
We will also have to add wrapper for GetDriveTypeA() to WinCE
builds. I'll add it ASAP.

best regards,
Przemek
From rodrmigu at gmail.com  Tue Jun 10 09:37:09 2008
From: rodrmigu at gmail.com (Rodrigo Miguel)
Date: Tue Jun 10 09:37:14 2008
Subject: [Harbour] Migrating from xHarbour to Harbour
Message-ID: <80b05d460806100637u538876b5t8fb69f1d405defa0@mail.gmail.com>

All,

I found just a small issues during my migration from xharbour to harbour.
Here are a list of missing functions:

obj/comun.o:comun.c:(.data+0x3e8): undefined reference to
`HB_FUN_GETDEFAULTPRINTER'
obj/senhas.o:senhas.c:(.data+0x828): undefined reference to
`HB_FUN_GETPRINTERS'
obj/senhas.o:senhas.c:(.data+0x898): undefined reference to
`HB_FUN_HB_CRYPT'
obj/senhas.o:senhas.c:(.data+0x8e8): undefined reference to
`HB_FUN_HB_DECRYPT'
obj/senhas.o:senhas.c:(.data+0x938): undefined reference to
`HB_FUN_HB_FREADLINE'
g:/gtklib/lib/libgtklib.a(errorsys.o):errorsys.c:(.data+0x1b8): undefined
reference to `HB_FUN_VALTOPRGEXP'
g:/gtklib/lib/libgtklib.a(network.o):network.c:(.data+0x358): undefined
reference to `HB_FUN_HASH'
g:/gtklib/lib/libgtklib.a(network.o):network.c:(.data+0x678): undefined
reference to `HB_FUN_HGETKEYS'
g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x538): undefined
reference to `HB_FUN_INETINIT'
g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x548): undefined
reference to `HB_FUN_INETCONNECT'
g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x558): undefined
reference to `HB_FUN_INETSETTIMEOUT'
g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x568): undefined
reference to `HB_FUN_INETERRORCODE'
g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x578): undefined
reference to `HB_FUN_INETSENDALL'
g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x588): undefined
reference to `HB_FUN_INETDATAREADY'
g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x598): undefined
reference to `HB_FUN_INETRECVALL'
g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x5c8): undefined
reference to `HB_FUN_INETCLOSE'
g:/gtklib/lib/libgtklib.a(printer.o):printer.c:(.data+0xb8): undefined
reference to `HB_FUN_HB_FREADLINE'
g:/gtklib/lib/libgtklib.a(report.o):report.c:(.data+0x1a8): undefined
reference to `HB_FUN_GETACTIVEOBJECT'
g:/gtklib/lib/libgtklib.a(report.o):report.c:(.data+0x1b8): undefined
reference to `HB_FUN_CREATEOBJECT'
g:/xhgtk/lib/libxhgtk.a(TTreeView.o):TTreeView.c:(.data+0x198): undefined
reference to `HB_FUN_PVALUE'

Hashs, PValue, FReadline and valtoprgexp I can rewrite to be harbour
compatible. The printer functions I think I can write that one using windows
api's, so not a problem at all.
So, my only concerns are related to Crypt/Decrypt, Inet and OLE functions,
anyway, is there this type of functions available for harbour as well?

Thanks in advance
Rodrigo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080610/154a51b0/attachment.html
From mbelgrano at deltain.it  Tue Jun 10 09:39:33 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Jun 10 09:39:41 2008
Subject: [Harbour] 2008-06-09 07:36 UTC+0100 Viktor
	Szakats(harbour.01syenar hu)
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED12@SRV02.deltain.net>
References: <01c8c9f7$Blat.v2.6.2$3051fce6$e50472f0be2@127.0.0.1>
	<AFB948164110ED43B5EB849E8DEEF03815ED12@SRV02.deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED15@SRV02.deltain.net>

I have tried with bld_32 as follow but my wvtext.exe not show anything when run


@echo off
rem
rem $Id: bld_b32.bat 8467 2008-05-21 11:45:42Z vszakats $
rem

if "%HB_BIN_INSTALL%" == "" set HB_BIN_INSTALL=..\..\..\bin
if "%HB_LIB_INSTALL%" == "" set HB_LIB_INSTALL=..\..\..\lib
if "%HB_INC_INSTALL%" == "" set HB_INC_INSTALL=..\..\..\include

set HB_ARCHITECTURE=w32
set HB_COMPILER=bcc32
set HB_USER_LIBS=gtwvt.lib

call %HB_BIN_INSTALL%\bld.bat %1 %2 %3 %4 %5 %6 %7 %8 %9


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo Belgrano
Sent: Tuesday, June 10, 2008 12:31 PM
To: harbour.01@syenar.hu; Harbour Project Main Developer List.
Subject: RE: [Harbour] 2008-06-09 07:36 UTC+0100 Viktor Szakats(harbour.01syenar hu)

How is possible compile test\wvtext.prg with bcc 

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Monday, June 09, 2008 8:08 AM
To: harbour@harbour-project.org
Subject: [Harbour] 2008-06-09 07:36 UTC+0100 Viktor Szakats (harbour.01syenar hu)

2008-06-09 07:36 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * tests/wvtext.prg
--
Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Tue Jun 10 09:48:06 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 09:48:06 2008
Subject: [Harbour] 2008-06-10 15:45 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cb00$Blat.v2.6.2$9ca32dfc$13344156fbea@127.0.0.1>

2008-06-10 15:45 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbw32/dllcall.c
     ! Fixed some xhb specific code to work in Harbour.
       Now the DLL functions started to work.
     ! Fixed buffer corruption (by 1 byte) when strings were 
       passed by reference.
     + Added some XBase++-like support to always pass a copy 
       of our string buffers to the called functions. This is 
       safer but slower. The support is probably not complete. 
       Please test.
     + Added some XBase++ compatible #defines.
     + Added CALLDLLTYPED() function where the return value 
       type can be specified. Untested work in progress, 
       feel free to modify.
     ; Now this test code works:
       ---
       hDLL := DllLoad( "pscript.dll" )
       cVersion := Space(24)
       DllCall( hDll, NIL, "PSGetVersion", @cVersion )
       ? cVersion
       DllUnload( hDLL )
       ---
     ; TODO: Add header for these #defines.
--
Brgds,
Viktor

From mbelgrano at deltain.it  Tue Jun 10 09:52:01 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Jun 10 09:52:11 2008
Subject: [Harbour] Migrating from xHarbour to Harbour
In-Reply-To: <80b05d460806100637u538876b5t8fb69f1d405defa0@mail.gmail.com>
References: <80b05d460806100637u538876b5t8fb69f1d405defa0@mail.gmail.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED16@SRV02.deltain.net>

Verify which are the library  linked in your project 
For GETDEFAULTPRINTER add hbw32.lib

Them can be hbtip,hbsix,xhb (I am not sure, you can try)

From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Rodrigo Miguel
Sent: Tuesday, June 10, 2008 3:37 PM
To: harbour@harbour-project.org
Subject: [Harbour] Migrating from xHarbour to Harbour

All,

I found just a small issues during my migration from xharbour to
harbour. Here are a list of missing functions:

obj/comun.o:comun.c:(.data+0x3e8): undefined reference to
`HB_FUN_GETDEFAULTPRINTER'
obj/senhas.o:senhas.c:(.data+0x828): undefined reference to
`HB_FUN_GETPRINTERS'
obj/senhas.o:senhas.c:(.data+0x898): undefined reference to
`HB_FUN_HB_CRYPT'
obj/senhas.o:senhas.c:(.data+0x8e8): undefined reference to
`HB_FUN_HB_DECRYPT'
obj/senhas.o:senhas.c:(.data+0x938): undefined reference to
`HB_FUN_HB_FREADLINE'
g:/gtklib/lib/libgtklib.a(errorsys.o):errorsys.c:(.data+0x1b8):
undefined reference to `HB_FUN_VALTOPRGEXP'
g:/gtklib/lib/libgtklib.a(network.o):network.c:(.data+0x358): undefined
reference to `HB_FUN_HASH'
g:/gtklib/lib/libgtklib.a(network.o):network.c:(.data+0x678): undefined
reference to `HB_FUN_HGETKEYS'
g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x538):
undefined reference to `HB_FUN_INETINIT'
g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x548):
undefined reference to `HB_FUN_INETCONNECT'
g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x558):
undefined reference to `HB_FUN_INETSETTIMEOUT'
g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x568):
undefined reference to `HB_FUN_INETERRORCODE'
g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x578):
undefined reference to `HB_FUN_INETSENDALL'
g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x588):
undefined reference to `HB_FUN_INETDATAREADY'
g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x598):
undefined reference to `HB_FUN_INETRECVALL'
g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x5c8):
undefined reference to `HB_FUN_INETCLOSE'
g:/gtklib/lib/libgtklib.a(printer.o):printer.c:(.data+0xb8): undefined
reference to `HB_FUN_HB_FREADLINE'
g:/gtklib/lib/libgtklib.a(report.o):report.c:(.data+0x1a8): undefined
reference to `HB_FUN_GETACTIVEOBJECT'
g:/gtklib/lib/libgtklib.a(report.o):report.c:(.data+0x1b8): undefined
reference to `HB_FUN_CREATEOBJECT'
g:/xhgtk/lib/libxhgtk.a(TTreeView.o):TTreeView.c:(.data+0x198):
undefined reference to `HB_FUN_PVALUE'

Hashs, PValue, FReadline and valtoprgexp I can rewrite to be harbour
compatible. The printer functions I think I can write that one using
windows api's, so not a problem at all. 
So, my only concerns are related to Crypt/Decrypt, Inet and OLE
functions, anyway, is there this type of functions available for harbour
as well?

Thanks in advance
Rodrigo
From rodrmigu at gmail.com  Tue Jun 10 09:55:48 2008
From: rodrmigu at gmail.com (Rodrigo Miguel)
Date: Tue Jun 10 09:55:59 2008
Subject: [Harbour] Migrating from xHarbour to Harbour
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED16@SRV02.deltain.net>
References: <80b05d460806100637u538876b5t8fb69f1d405defa0@mail.gmail.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED16@SRV02.deltain.net>
Message-ID: <80b05d460806100655s1fcf1f5r645b5eeea7976c41@mail.gmail.com>

Hi,

I'm already using the hbtip, but the hbw32 fix the printer functions.

Thanks
Rodrigo

On Tue, Jun 10, 2008 at 10:52 AM, Massimo Belgrano <mbelgrano@deltain.it>
wrote:

> Verify which are the library  linked in your project
> For GETDEFAULTPRINTER add hbw32.lib
>
> Them can be hbtip,hbsix,xhb (I am not sure, you can try)
>
> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Rodrigo Miguel
> Sent: Tuesday, June 10, 2008 3:37 PM
> To: harbour@harbour-project.org
> Subject: [Harbour] Migrating from xHarbour to Harbour
>
> All,
>
> I found just a small issues during my migration from xharbour to
> harbour. Here are a list of missing functions:
>
> obj/comun.o:comun.c:(.data+0x3e8): undefined reference to
> `HB_FUN_GETDEFAULTPRINTER'
> obj/senhas.o:senhas.c:(.data+0x828): undefined reference to
> `HB_FUN_GETPRINTERS'
> obj/senhas.o:senhas.c:(.data+0x898): undefined reference to
> `HB_FUN_HB_CRYPT'
> obj/senhas.o:senhas.c:(.data+0x8e8): undefined reference to
> `HB_FUN_HB_DECRYPT'
> obj/senhas.o:senhas.c:(.data+0x938): undefined reference to
> `HB_FUN_HB_FREADLINE'
> g:/gtklib/lib/libgtklib.a(errorsys.o):errorsys.c:(.data+0x1b8):
> undefined reference to `HB_FUN_VALTOPRGEXP'
> g:/gtklib/lib/libgtklib.a(network.o):network.c:(.data+0x358): undefined
> reference to `HB_FUN_HASH'
> g:/gtklib/lib/libgtklib.a(network.o):network.c:(.data+0x678): undefined
> reference to `HB_FUN_HGETKEYS'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x538):
> undefined reference to `HB_FUN_INETINIT'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x548):
> undefined reference to `HB_FUN_INETCONNECT'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x558):
> undefined reference to `HB_FUN_INETSETTIMEOUT'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x568):
> undefined reference to `HB_FUN_INETERRORCODE'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x578):
> undefined reference to `HB_FUN_INETSENDALL'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x588):
> undefined reference to `HB_FUN_INETDATAREADY'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x598):
> undefined reference to `HB_FUN_INETRECVALL'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x5c8):
> undefined reference to `HB_FUN_INETCLOSE'
> g:/gtklib/lib/libgtklib.a(printer.o):printer.c:(.data+0xb8): undefined
> reference to `HB_FUN_HB_FREADLINE'
> g:/gtklib/lib/libgtklib.a(report.o):report.c:(.data+0x1a8): undefined
> reference to `HB_FUN_GETACTIVEOBJECT'
> g:/gtklib/lib/libgtklib.a(report.o):report.c:(.data+0x1b8): undefined
> reference to `HB_FUN_CREATEOBJECT'
> g:/xhgtk/lib/libxhgtk.a(TTreeView.o):TTreeView.c:(.data+0x198):
> undefined reference to `HB_FUN_PVALUE'
>
> Hashs, PValue, FReadline and valtoprgexp I can rewrite to be harbour
> compatible. The printer functions I think I can write that one using
> windows api's, so not a problem at all.
> So, my only concerns are related to Crypt/Decrypt, Inet and OLE
> functions, anyway, is there this type of functions available for harbour
> as well?
>
> Thanks in advance
> Rodrigo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080610/2bb97c9e/attachment-0001.html
From harbour.01 at syenar.hu  Tue Jun 10 09:49:33 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 09:57:32 2008
Subject: [Harbour] 2008-06-09 07:36 UTC+0100 Viktor
	Szakats(harbour.01syenar hu)
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED15@SRV02.deltain.net>
References: <01c8c9f7$Blat.v2.6.2$3051fce6$e50472f0be2@127.0.0.1>
	<AFB948164110ED43B5EB849E8DEEF03815ED12@SRV02.deltain.net>
	<AFB948164110ED43B5EB849E8DEEF03815ED15@SRV02.deltain.net>
Message-ID: <582C34EB-0ABB-4870-8F91-A4243D997CF8@syenar.hu>

You'll need the -tW C compiler switch.

Brgds,
Viktor

On 2008.06.10., at 15:39, Massimo Belgrano wrote:

> I have tried with bld_32 as follow but my wvtext.exe not show  
> anything when run
>
>
> @echo off
> rem
> rem $Id: bld_b32.bat 8467 2008-05-21 11:45:42Z vszakats $
> rem
>
> if "%HB_BIN_INSTALL%" == "" set HB_BIN_INSTALL=..\..\..\bin
> if "%HB_LIB_INSTALL%" == "" set HB_LIB_INSTALL=..\..\..\lib
> if "%HB_INC_INSTALL%" == "" set HB_INC_INSTALL=..\..\..\include
>
> set HB_ARCHITECTURE=w32
> set HB_COMPILER=bcc32
> set HB_USER_LIBS=gtwvt.lib
>
> call %HB_BIN_INSTALL%\bld.bat %1 %2 %3 %4 %5 %6 %7 %8 %9
>
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Massimo Belgrano
> Sent: Tuesday, June 10, 2008 12:31 PM
> To: harbour.01@syenar.hu; Harbour Project Main Developer List.
> Subject: RE: [Harbour] 2008-06-09 07:36 UTC+0100 Viktor  
> Szakats(harbour.01syenar hu)
>
> How is possible compile test\wvtext.prg with bcc
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Szak?ts Viktor
> Sent: Monday, June 09, 2008 8:08 AM
> To: harbour@harbour-project.org
> Subject: [Harbour] 2008-06-09 07:36 UTC+0100 Viktor Szakats (harbour. 
> 01syenar hu)
>
> 2008-06-09 07:36 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * tests/wvtext.prg
> --
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From rodrmigu at gmail.com  Tue Jun 10 10:04:23 2008
From: rodrmigu at gmail.com (Rodrigo Miguel)
Date: Tue Jun 10 10:04:34 2008
Subject: [Harbour] Migrating from xHarbour to Harbour
In-Reply-To: <80b05d460806100655s1fcf1f5r645b5eeea7976c41@mail.gmail.com>
References: <80b05d460806100637u538876b5t8fb69f1d405defa0@mail.gmail.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED16@SRV02.deltain.net>
	<80b05d460806100655s1fcf1f5r645b5eeea7976c41@mail.gmail.com>
Message-ID: <80b05d460806100704p18b7eeem9f82745e7fff7ed4@mail.gmail.com>

HI,

The hash and Inet functions were fixed by adding the -lxhb, so still missing
these functions:

obj/senhas.o:senhas.c:(.data+0x898): undefined reference to
`HB_FUN_HB_CRYPT'
obj/senhas.o:senhas.c:(.data+0x8e8): undefined reference to
`HB_FUN_HB_DECRYPT'
obj/senhas.o:senhas.c:(.data+0x938): undefined reference to
`HB_FUN_HB_FREADLINE'
g:/gtklib/lib/libgtklib.a(errorsys.o):errorsys.c:(.data+0x1b8): undefined
reference to `HB_FUN_VALTOPRGEXP'
g:/gtklib/lib/libgtklib.a(printer.o):printer.c:(.data+0xb8): undefined
reference to `HB_FUN_HB_FREADLINE'
g:/xhgtk/lib/libxhgtk.a(TTreeView.o):TTreeView.c:(.data+0x198): undefined
reference to `HB_FUN_PVALUE'

As I said, PValue, FReadline and Valtoprgexp aren't an issue, but crypto
functions I'll miss them :(

Thanks
Rodrigo

On Tue, Jun 10, 2008 at 10:55 AM, Rodrigo Miguel <rodrmigu@gmail.com> wrote:

> Hi,
>
> I'm already using the hbtip, but the hbw32 fix the printer functions.
>
> Thanks
> Rodrigo
>
>
> On Tue, Jun 10, 2008 at 10:52 AM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>
>> Verify which are the library  linked in your project
>> For GETDEFAULTPRINTER add hbw32.lib
>>
>> Them can be hbtip,hbsix,xhb (I am not sure, you can try)
>>
>> From: harbour-bounces@harbour-project.org
>> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Rodrigo Miguel
>> Sent: Tuesday, June 10, 2008 3:37 PM
>> To: harbour@harbour-project.org
>> Subject: [Harbour] Migrating from xHarbour to Harbour
>>
>> All,
>>
>> I found just a small issues during my migration from xharbour to
>> harbour. Here are a list of missing functions:
>>
>> obj/comun.o:comun.c:(.data+0x3e8): undefined reference to
>> `HB_FUN_GETDEFAULTPRINTER'
>> obj/senhas.o:senhas.c:(.data+0x828): undefined reference to
>> `HB_FUN_GETPRINTERS'
>> obj/senhas.o:senhas.c:(.data+0x898): undefined reference to
>> `HB_FUN_HB_CRYPT'
>> obj/senhas.o:senhas.c:(.data+0x8e8): undefined reference to
>> `HB_FUN_HB_DECRYPT'
>> obj/senhas.o:senhas.c:(.data+0x938): undefined reference to
>> `HB_FUN_HB_FREADLINE'
>> g:/gtklib/lib/libgtklib.a(errorsys.o):errorsys.c:(.data+0x1b8):
>> undefined reference to `HB_FUN_VALTOPRGEXP'
>> g:/gtklib/lib/libgtklib.a(network.o):network.c:(.data+0x358): undefined
>> reference to `HB_FUN_HASH'
>> g:/gtklib/lib/libgtklib.a(network.o):network.c:(.data+0x678): undefined
>> reference to `HB_FUN_HGETKEYS'
>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x538):
>> undefined reference to `HB_FUN_INETINIT'
>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x548):
>> undefined reference to `HB_FUN_INETCONNECT'
>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x558):
>> undefined reference to `HB_FUN_INETSETTIMEOUT'
>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x568):
>> undefined reference to `HB_FUN_INETERRORCODE'
>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x578):
>> undefined reference to `HB_FUN_INETSENDALL'
>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x588):
>> undefined reference to `HB_FUN_INETDATAREADY'
>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x598):
>> undefined reference to `HB_FUN_INETRECVALL'
>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x5c8):
>> undefined reference to `HB_FUN_INETCLOSE'
>> g:/gtklib/lib/libgtklib.a(printer.o):printer.c:(.data+0xb8): undefined
>> reference to `HB_FUN_HB_FREADLINE'
>> g:/gtklib/lib/libgtklib.a(report.o):report.c:(.data+0x1a8): undefined
>> reference to `HB_FUN_GETACTIVEOBJECT'
>> g:/gtklib/lib/libgtklib.a(report.o):report.c:(.data+0x1b8): undefined
>> reference to `HB_FUN_CREATEOBJECT'
>> g:/xhgtk/lib/libxhgtk.a(TTreeView.o):TTreeView.c:(.data+0x198):
>> undefined reference to `HB_FUN_PVALUE'
>>
>> Hashs, PValue, FReadline and valtoprgexp I can rewrite to be harbour
>> compatible. The printer functions I think I can write that one using
>> windows api's, so not a problem at all.
>> So, my only concerns are related to Crypt/Decrypt, Inet and OLE
>> functions, anyway, is there this type of functions available for harbour
>> as well?
>>
>> Thanks in advance
>> Rodrigo
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080610/5671ae3b/attachment.html
From harbour.01 at syenar.hu  Tue Jun 10 10:07:42 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 10:07:41 2008
Subject: [Harbour] 2008-06-10 16:06 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cb03$Blat.v2.6.2$595d518c$ea41b9db954@127.0.0.1>

2008-06-10 16:06 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   + contrib/xhb/hbcrypt.c
   + contrib/xhb/hbnxs.h
   * contrib/xhb/Makefile
   * contrib/xhb/common.mak
     + Added HB_CRYPT()/HB_DECRYPT().
       Thanks to Giancarlo Niccolai / xhb.
     + Changed to not depend on hbzlib.
     ; Minor modifications to compile smoothly in Harbour.

   * bin/bld.bat
     * Prev change undone.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Jun 10 10:07:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 10:08:58 2008
Subject: [Harbour] Migrating from xHarbour to Harbour
In-Reply-To: <80b05d460806100637u538876b5t8fb69f1d405defa0@mail.gmail.com>
References: <80b05d460806100637u538876b5t8fb69f1d405defa0@mail.gmail.com>
Message-ID: <6B20ACDD-3E4C-4BF3-A934-9126696E27F9@syenar.hu>

Hi Rodrigo,

You'll need hbw32.lib for printing and OLE, hbmisc.lib for FReadLine(),
xhb.lib for crypt/decrypt [just added two minutes ago, so you'll need
a fresh Harbour build], and to #include "hbcompat.ch" in your sources
for Hash, Inet and a few others.

As for valtoprgexp(), you'll need to port it from xhb source code.

Brgds,
Viktor

On 2008.06.10., at 15:37, Rodrigo Miguel wrote:

> All,
>
> I found just a small issues during my migration from xharbour to  
> harbour. Here are a list of missing functions:
>
> obj/comun.o:comun.c:(.data+0x3e8): undefined reference to  
> `HB_FUN_GETDEFAULTPRINTER'
> obj/senhas.o:senhas.c:(.data+0x828): undefined reference to  
> `HB_FUN_GETPRINTERS'
> obj/senhas.o:senhas.c:(.data+0x898): undefined reference to  
> `HB_FUN_HB_CRYPT'
> obj/senhas.o:senhas.c:(.data+0x8e8): undefined reference to  
> `HB_FUN_HB_DECRYPT'
> obj/senhas.o:senhas.c:(.data+0x938): undefined reference to  
> `HB_FUN_HB_FREADLINE'
> g:/gtklib/lib/libgtklib.a(errorsys.o):errorsys.c:(.data+0x1b8):  
> undefined reference to `HB_FUN_VALTOPRGEXP'
> g:/gtklib/lib/libgtklib.a(network.o):network.c:(.data+0x358):  
> undefined reference to `HB_FUN_HASH'
> g:/gtklib/lib/libgtklib.a(network.o):network.c:(.data+0x678):  
> undefined reference to `HB_FUN_HGETKEYS'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x538):  
> undefined reference to `HB_FUN_INETINIT'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x548):  
> undefined reference to `HB_FUN_INETCONNECT'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x558):  
> undefined reference to `HB_FUN_INETSETTIMEOUT'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x568):  
> undefined reference to `HB_FUN_INETERRORCODE'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x578):  
> undefined reference to `HB_FUN_INETSENDALL'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x588):  
> undefined reference to `HB_FUN_INETDATAREADY'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x598):  
> undefined reference to `HB_FUN_INETRECVALL'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x5c8):  
> undefined reference to `HB_FUN_INETCLOSE'
> g:/gtklib/lib/libgtklib.a(printer.o):printer.c:(.data+0xb8):  
> undefined reference to `HB_FUN_HB_FREADLINE'
> g:/gtklib/lib/libgtklib.a(report.o):report.c:(.data+0x1a8):  
> undefined reference to `HB_FUN_GETACTIVEOBJECT'
> g:/gtklib/lib/libgtklib.a(report.o):report.c:(.data+0x1b8):  
> undefined reference to `HB_FUN_CREATEOBJECT'
> g:/xhgtk/lib/libxhgtk.a(TTreeView.o):TTreeView.c:(.data+0x198):  
> undefined reference to `HB_FUN_PVALUE'
>
> Hashs, PValue, FReadline and valtoprgexp I can rewrite to be harbour  
> compatible. The printer functions I think I can write that one using  
> windows api's, so not a problem at all.
> So, my only concerns are related to Crypt/Decrypt, Inet and OLE  
> functions, anyway, is there this type of functions available for  
> harbour as well?
>
> Thanks in advance
> Rodrigo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Tue Jun 10 10:08:57 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun 10 10:09:04 2008
Subject: [Harbour] Migrating from xHarbour to Harbour
In-Reply-To: <80b05d460806100637u538876b5t8fb69f1d405defa0@mail.gmail.com>
References: <80b05d460806100637u538876b5t8fb69f1d405defa0@mail.gmail.com>
Message-ID: <20080610140857.GA32659@34-mo7-2.acn.waw.pl>

On Tue, 10 Jun 2008, Rodrigo Miguel wrote:

Hi Rodrigo,

> I found just a small issues during my migration from xharbour to harbour.
> Here are a list of missing functions:
> obj/comun.o:comun.c:(.data+0x3e8): undefined reference to
> `HB_FUN_GETDEFAULTPRINTER'
> obj/senhas.o:senhas.c:(.data+0x828): undefined reference to
> `HB_FUN_GETPRINTERS'
> obj/senhas.o:senhas.c:(.data+0x898): undefined reference to
> `HB_FUN_HB_CRYPT'
> obj/senhas.o:senhas.c:(.data+0x8e8): undefined reference to
> `HB_FUN_HB_DECRYPT'
> obj/senhas.o:senhas.c:(.data+0x938): undefined reference to
> `HB_FUN_HB_FREADLINE'
> g:/gtklib/lib/libgtklib.a(errorsys.o):errorsys.c:(.data+0x1b8): undefined
> reference to `HB_FUN_VALTOPRGEXP'
> g:/gtklib/lib/libgtklib.a(network.o):network.c:(.data+0x358): undefined
> reference to `HB_FUN_HASH'
> g:/gtklib/lib/libgtklib.a(network.o):network.c:(.data+0x678): undefined
> reference to `HB_FUN_HGETKEYS'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x538): undefined
> reference to `HB_FUN_INETINIT'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x548): undefined
> reference to `HB_FUN_INETCONNECT'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x558): undefined
> reference to `HB_FUN_INETSETTIMEOUT'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x568): undefined
> reference to `HB_FUN_INETERRORCODE'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x578): undefined
> reference to `HB_FUN_INETSENDALL'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x588): undefined
> reference to `HB_FUN_INETDATAREADY'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x598): undefined
> reference to `HB_FUN_INETRECVALL'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x5c8): undefined
> reference to `HB_FUN_INETCLOSE'
> g:/gtklib/lib/libgtklib.a(printer.o):printer.c:(.data+0xb8): undefined
> reference to `HB_FUN_HB_FREADLINE'
> g:/gtklib/lib/libgtklib.a(report.o):report.c:(.data+0x1a8): undefined
> reference to `HB_FUN_GETACTIVEOBJECT'
> g:/gtklib/lib/libgtklib.a(report.o):report.c:(.data+0x1b8): undefined
> reference to `HB_FUN_CREATEOBJECT'
> g:/xhgtk/lib/libxhgtk.a(TTreeView.o):TTreeView.c:(.data+0x198): undefined
> reference to `HB_FUN_PVALUE'
>
> Hashs, PValue, FReadline and valtoprgexp I can rewrite to be harbour
> compatible. The printer functions I think I can write that one using windows
> api's, so not a problem at all.
> So, my only concerns are related to Crypt/Decrypt, Inet and OLE functions,
> anyway, is there this type of functions available for harbour as well?

Most of the above functions are available for Harbour but with HB_ *
prefix. You can also add to your source code:
   #include "hbcompat.ch"
which will make such trnaslations automatically during compilation.

HB_CRYPT()/HB_DECRYPT() does not exists though they can be easy added
to contrib/xhb library. It's not very strong encyption and maybe
it will be better to reserve such generaic names for future Harbour
encryption so I do not want to add it to core code now. If you do not
need binary compatibility then it will be enough to make:
   #xtrnaslate HB_CRYPT(<x,..>)   => sx_enCrypt(<x>)
   #xtrnaslate HB_DECRYPT(<x,..>) => sx_deCrypt(<x>)
For binary compatibility I'll add these function to XHB library soon.

The printer functions are already included in XHB lib.

CREATEOBJECT()/GETACTIVEOBJECT() are part of HBW32 library.

We do not have VALTOPRGEXP() function but in many cases you can use
as replacement HB_VALTOEXP(). It's not exactly the same so you should
check if it will be enough for you. Here we can also add xHarbour
version of VALTOPRGEXP() to XHB library.

HB_FREADLINE() does not exist in Harbour though it also can be added
to XHB library.

best regards,
Przemek
From mbelgrano at deltain.it  Tue Jun 10 10:02:28 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Jun 10 10:09:16 2008
Subject: [Harbour] 2008-06-09 07:36 UTC+0100
	ViktorSzakats(harbour.01syenar hu)
In-Reply-To: <582C34EB-0ABB-4870-8F91-A4243D997CF8@syenar.hu>
References: <01c8c9f7$Blat.v2.6.2$3051fce6$e50472f0be2@127.0.0.1><AFB948164110ED43B5EB849E8DEEF03815ED12@SRV02.deltain.net><AFB948164110ED43B5EB849E8DEEF03815ED15@SRV02.deltain.net>
	<582C34EB-0ABB-4870-8F91-A4243D997CF8@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED17@SRV02.deltain.net>

Sorry but How can set?


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Tuesday, June 10, 2008 3:50 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] 2008-06-09 07:36 UTC+0100 ViktorSzakats(harbour.01syenar hu)

You'll need the -tW C compiler switch.

Brgds,
Viktor

On 2008.06.10., at 15:39, Massimo Belgrano wrote:

> I have tried with bld_32 as follow but my wvtext.exe not show  
> anything when run
>
>
> @echo off
> rem
> rem $Id: bld_b32.bat 8467 2008-05-21 11:45:42Z vszakats $
> rem
>
> if "%HB_BIN_INSTALL%" == "" set HB_BIN_INSTALL=..\..\..\bin
> if "%HB_LIB_INSTALL%" == "" set HB_LIB_INSTALL=..\..\..\lib
> if "%HB_INC_INSTALL%" == "" set HB_INC_INSTALL=..\..\..\include
>
> set HB_ARCHITECTURE=w32
> set HB_COMPILER=bcc32
> set HB_USER_LIBS=gtwvt.lib
>
> call %HB_BIN_INSTALL%\bld.bat %1 %2 %3 %4 %5 %6 %7 %8 %9
>
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Massimo Belgrano
> Sent: Tuesday, June 10, 2008 12:31 PM
> To: harbour.01@syenar.hu; Harbour Project Main Developer List.
> Subject: RE: [Harbour] 2008-06-09 07:36 UTC+0100 Viktor  
> Szakats(harbour.01syenar hu)
>
> How is possible compile test\wvtext.prg with bcc
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Szak?ts Viktor
> Sent: Monday, June 09, 2008 8:08 AM
> To: harbour@harbour-project.org
> Subject: [Harbour] 2008-06-09 07:36 UTC+0100 Viktor Szakats (harbour. 
> 01syenar hu)
>
> 2008-06-09 07:36 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * tests/wvtext.prg
> --
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From druzus at acn.waw.pl  Tue Jun 10 10:15:06 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun 10 10:15:10 2008
Subject: [Harbour] Migrating from xHarbour to Harbour
In-Reply-To: <20080610140857.GA32659@34-mo7-2.acn.waw.pl>
References: <80b05d460806100637u538876b5t8fb69f1d405defa0@mail.gmail.com>
	<20080610140857.GA32659@34-mo7-2.acn.waw.pl>
Message-ID: <20080610141506.GB32659@34-mo7-2.acn.waw.pl>

On Tue, 10 Jun 2008, Przemyslaw Czerpak wrote:
> HB_CRYPT()/HB_DECRYPT() does not exists though they can be easy added
> to contrib/xhb library.
[...]
> For binary compatibility I'll add these function to XHB library soon.

Viktor has just added it. Thanks.

best regards,
Przemek
From mbelgrano at deltain.it  Tue Jun 10 10:15:21 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Jun 10 10:15:30 2008
Subject: [Harbour] Migrating from xHarbour to Harbour
In-Reply-To: <6B20ACDD-3E4C-4BF3-A934-9126696E27F9@syenar.hu>
References: <80b05d460806100637u538876b5t8fb69f1d405defa0@mail.gmail.com>
	<6B20ACDD-3E4C-4BF3-A934-9126696E27F9@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED18@SRV02.deltain.net>

For  see because " undefined reference to  " in static lib?
Will be adapded: http://www.codeproject.com/KB/DLL/inside_a_maze_of_dlls.aspx who work on exe and dll?



-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Tuesday, June 10, 2008 4:08 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Migrating from xHarbour to Harbour

Hi Rodrigo,

You'll need hbw32.lib for printing and OLE, hbmisc.lib for FReadLine(),
xhb.lib for crypt/decrypt [just added two minutes ago, so you'll need
a fresh Harbour build], and to #include "hbcompat.ch" in your sources
for Hash, Inet and a few others.

As for valtoprgexp(), you'll need to port it from xhb source code.

Brgds,
Viktor

On 2008.06.10., at 15:37, Rodrigo Miguel wrote:

> All,
>
> I found just a small issues during my migration from xharbour to  
> harbour. Here are a list of missing functions:
>
> obj/comun.o:comun.c:(.data+0x3e8): undefined reference to  
> `HB_FUN_GETDEFAULTPRINTER'
> obj/senhas.o:senhas.c:(.data+0x828): undefined reference to  
> `HB_FUN_GETPRINTERS'
> obj/senhas.o:senhas.c:(.data+0x898): undefined reference to  
> `HB_FUN_HB_CRYPT'
> obj/senhas.o:senhas.c:(.data+0x8e8): undefined reference to  
> `HB_FUN_HB_DECRYPT'
> obj/senhas.o:senhas.c:(.data+0x938): undefined reference to  
> `HB_FUN_HB_FREADLINE'
> g:/gtklib/lib/libgtklib.a(errorsys.o):errorsys.c:(.data+0x1b8):  
> undefined reference to `HB_FUN_VALTOPRGEXP'
> g:/gtklib/lib/libgtklib.a(network.o):network.c:(.data+0x358):  
> undefined reference to `HB_FUN_HASH'
> g:/gtklib/lib/libgtklib.a(network.o):network.c:(.data+0x678):  
> undefined reference to `HB_FUN_HGETKEYS'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x538):  
> undefined reference to `HB_FUN_INETINIT'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x548):  
> undefined reference to `HB_FUN_INETCONNECT'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x558):  
> undefined reference to `HB_FUN_INETSETTIMEOUT'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x568):  
> undefined reference to `HB_FUN_INETERRORCODE'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x578):  
> undefined reference to `HB_FUN_INETSENDALL'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x588):  
> undefined reference to `HB_FUN_INETDATAREADY'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x598):  
> undefined reference to `HB_FUN_INETRECVALL'
> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x5c8):  
> undefined reference to `HB_FUN_INETCLOSE'
> g:/gtklib/lib/libgtklib.a(printer.o):printer.c:(.data+0xb8):  
> undefined reference to `HB_FUN_HB_FREADLINE'
> g:/gtklib/lib/libgtklib.a(report.o):report.c:(.data+0x1a8):  
> undefined reference to `HB_FUN_GETACTIVEOBJECT'
> g:/gtklib/lib/libgtklib.a(report.o):report.c:(.data+0x1b8):  
> undefined reference to `HB_FUN_CREATEOBJECT'
> g:/xhgtk/lib/libxhgtk.a(TTreeView.o):TTreeView.c:(.data+0x198):  
> undefined reference to `HB_FUN_PVALUE'
>
> Hashs, PValue, FReadline and valtoprgexp I can rewrite to be harbour  
> compatible. The printer functions I think I can write that one using  
> windows api's, so not a problem at all.
> So, my only concerns are related to Crypt/Decrypt, Inet and OLE  
> functions, anyway, is there this type of functions available for  
> harbour as well?
>
> Thanks in advance
> Rodrigo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Tue Jun 10 10:14:38 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 10:15:42 2008
Subject: [Harbour] Migrating from xHarbour to Harbour
In-Reply-To: <20080610140857.GA32659@34-mo7-2.acn.waw.pl>
References: <80b05d460806100637u538876b5t8fb69f1d405defa0@mail.gmail.com>
	<20080610140857.GA32659@34-mo7-2.acn.waw.pl>
Message-ID: <E6960C41-D6D3-4715-BC55-192C24F8F12A@syenar.hu>

Hi folks,

I've added the two crypt functions to xhb.

I'll also add HB_FReadLine() to it.

valtoprgexp() is written in highly unportable xhb
code, so I won't attempt.

Brgds,
Viktor

On 2008.06.10., at 16:08, Przemyslaw Czerpak wrote:

> On Tue, 10 Jun 2008, Rodrigo Miguel wrote:
>
> Hi Rodrigo,
>
>> I found just a small issues during my migration from xharbour to  
>> harbour.
>> Here are a list of missing functions:
>> obj/comun.o:comun.c:(.data+0x3e8): undefined reference to
>> `HB_FUN_GETDEFAULTPRINTER'
>> obj/senhas.o:senhas.c:(.data+0x828): undefined reference to
>> `HB_FUN_GETPRINTERS'
>> obj/senhas.o:senhas.c:(.data+0x898): undefined reference to
>> `HB_FUN_HB_CRYPT'
>> obj/senhas.o:senhas.c:(.data+0x8e8): undefined reference to
>> `HB_FUN_HB_DECRYPT'
>> obj/senhas.o:senhas.c:(.data+0x938): undefined reference to
>> `HB_FUN_HB_FREADLINE'
>> g:/gtklib/lib/libgtklib.a(errorsys.o):errorsys.c:(.data+0x1b8):  
>> undefined
>> reference to `HB_FUN_VALTOPRGEXP'
>> g:/gtklib/lib/libgtklib.a(network.o):network.c:(.data+0x358):  
>> undefined
>> reference to `HB_FUN_HASH'
>> g:/gtklib/lib/libgtklib.a(network.o):network.c:(.data+0x678):  
>> undefined
>> reference to `HB_FUN_HGETKEYS'
>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x538):  
>> undefined
>> reference to `HB_FUN_INETINIT'
>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x548):  
>> undefined
>> reference to `HB_FUN_INETCONNECT'
>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x558):  
>> undefined
>> reference to `HB_FUN_INETSETTIMEOUT'
>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x568):  
>> undefined
>> reference to `HB_FUN_INETERRORCODE'
>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x578):  
>> undefined
>> reference to `HB_FUN_INETSENDALL'
>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x588):  
>> undefined
>> reference to `HB_FUN_INETDATAREADY'
>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x598):  
>> undefined
>> reference to `HB_FUN_INETRECVALL'
>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x5c8):  
>> undefined
>> reference to `HB_FUN_INETCLOSE'
>> g:/gtklib/lib/libgtklib.a(printer.o):printer.c:(.data+0xb8):  
>> undefined
>> reference to `HB_FUN_HB_FREADLINE'
>> g:/gtklib/lib/libgtklib.a(report.o):report.c:(.data+0x1a8): undefined
>> reference to `HB_FUN_GETACTIVEOBJECT'
>> g:/gtklib/lib/libgtklib.a(report.o):report.c:(.data+0x1b8): undefined
>> reference to `HB_FUN_CREATEOBJECT'
>> g:/xhgtk/lib/libxhgtk.a(TTreeView.o):TTreeView.c:(.data+0x198):  
>> undefined
>> reference to `HB_FUN_PVALUE'
>>
>> Hashs, PValue, FReadline and valtoprgexp I can rewrite to be harbour
>> compatible. The printer functions I think I can write that one  
>> using windows
>> api's, so not a problem at all.
>> So, my only concerns are related to Crypt/Decrypt, Inet and OLE  
>> functions,
>> anyway, is there this type of functions available for harbour as  
>> well?
>
> Most of the above functions are available for Harbour but with HB_ *
> prefix. You can also add to your source code:
>   #include "hbcompat.ch"
> which will make such trnaslations automatically during compilation.
>
> HB_CRYPT()/HB_DECRYPT() does not exists though they can be easy added
> to contrib/xhb library. It's not very strong encyption and maybe
> it will be better to reserve such generaic names for future Harbour
> encryption so I do not want to add it to core code now. If you do not
> need binary compatibility then it will be enough to make:
>   #xtrnaslate HB_CRYPT(<x,..>)   => sx_enCrypt(<x>)
>   #xtrnaslate HB_DECRYPT(<x,..>) => sx_deCrypt(<x>)
> For binary compatibility I'll add these function to XHB library soon.
>
> The printer functions are already included in XHB lib.
>
> CREATEOBJECT()/GETACTIVEOBJECT() are part of HBW32 library.
>
> We do not have VALTOPRGEXP() function but in many cases you can use
> as replacement HB_VALTOEXP(). It's not exactly the same so you should
> check if it will be enough for you. Here we can also add xHarbour
> version of VALTOPRGEXP() to XHB library.
>
> HB_FREADLINE() does not exist in Harbour though it also can be added
> to XHB library.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From rodrmigu at gmail.com  Tue Jun 10 10:17:48 2008
From: rodrmigu at gmail.com (Rodrigo Miguel)
Date: Tue Jun 10 10:18:10 2008
Subject: [Harbour] Migrating from xHarbour to Harbour
In-Reply-To: <20080610141506.GB32659@34-mo7-2.acn.waw.pl>
References: <80b05d460806100637u538876b5t8fb69f1d405defa0@mail.gmail.com>
	<20080610140857.GA32659@34-mo7-2.acn.waw.pl>
	<20080610141506.GB32659@34-mo7-2.acn.waw.pl>
Message-ID: <80b05d460806100717k5b4b9a3bqe18d80e71034dce3@mail.gmail.com>

Thank you Viktor and Przemek, now I'm able to get most of the functions
fixed during my harbour convertion.

Thanks
Rodrigo


On Tue, Jun 10, 2008 at 11:15 AM, Przemyslaw Czerpak <druzus@acn.waw.pl>
wrote:

> On Tue, 10 Jun 2008, Przemyslaw Czerpak wrote:
> > HB_CRYPT()/HB_DECRYPT() does not exists though they can be easy added
> > to contrib/xhb library.
> [...]
> > For binary compatibility I'll add these function to XHB library soon.
>
> Viktor has just added it. Thanks.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080610/ff0d5530/attachment.html
From druzus at acn.waw.pl  Tue Jun 10 10:26:46 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun 10 10:26:52 2008
Subject: [Harbour] 2008-06-10 16:26 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806101426.m5AEQkCq000737@31-mo5-4.acn.waw.pl>

2008-06-10 16:26 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/common/hbwince.c
    + added GetDriveTypeA() wrapper for WinCE builds

  * harbour/source/rtl/gtwvt/gtwvt.c
    ! changed wrongly used NULL to 0

  * harbour/source/rtl/gtwvt/gtwvt.c
    * changed LoadLibrary() to LoadLibraryA() for UNICODE builds
      still some other code have to be updated for UNICODE builds.

best regards
Przemek
From harbour.01 at syenar.hu  Tue Jun 10 10:25:56 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 10:33:11 2008
Subject: [Harbour] 2008-06-10 16:24 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cb05$Blat.v2.6.2$e5753d40$1760b22efc9c@127.0.0.1>

2008-06-10 16:24 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * xhb/Makefile
   * xhb/common.mak
   + xhb/freadlin.c
     + Adopted HB_FREADLINE().
       Work of Marcelo Lombardo / xhb.
     ! Fixed one potential leak (probably not exploited 
       by current control flow).
     ; Please test.

   * xhb/hbcrypt.c
     % Minor opt. (HB_ERR_FUNCNAME)
--
Brgds,
Viktor

From mbelgrano at deltain.it  Tue Jun 10 10:35:23 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Jun 10 10:35:32 2008
Subject: [Harbour] 2008-06-09 07:36 UTC+0100
	ViktorSzakats(harbour.01syenar hu)
In-Reply-To: <582C34EB-0ABB-4870-8F91-A4243D997CF8@syenar.hu>
References: <01c8c9f7$Blat.v2.6.2$3051fce6$e50472f0be2@127.0.0.1><AFB948164110ED43B5EB849E8DEEF03815ED12@SRV02.deltain.net><AFB948164110ED43B5EB849E8DEEF03815ED15@SRV02.deltain.net>
	<582C34EB-0ABB-4870-8F91-A4243D997CF8@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED19@SRV02.deltain.net>

First I have as CFLAGS= -tWM -a8 -OS -O2 -5 -6 Then CFLAGS= -tW -a8 -OS -O2 -5 -6 and WVTEXT.exe works FINE
Thank.

Wich cflag are recommended for harbour/bcc compilation ?



-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Tuesday, June 10, 2008 3:50 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] 2008-06-09 07:36 UTC+0100 ViktorSzakats(harbour.01syenar hu)

You'll need the -tW C compiler switch.

Brgds,
Viktor

On 2008.06.10., at 15:39, Massimo Belgrano wrote:

> I have tried with bld_32 as follow but my wvtext.exe not show  
> anything when run
>
>
> @echo off
> rem
> rem $Id: bld_b32.bat 8467 2008-05-21 11:45:42Z vszakats $
> rem
>
> if "%HB_BIN_INSTALL%" == "" set HB_BIN_INSTALL=..\..\..\bin
> if "%HB_LIB_INSTALL%" == "" set HB_LIB_INSTALL=..\..\..\lib
> if "%HB_INC_INSTALL%" == "" set HB_INC_INSTALL=..\..\..\include
>
> set HB_ARCHITECTURE=w32
> set HB_COMPILER=bcc32
> set HB_USER_LIBS=gtwvt.lib
>
> call %HB_BIN_INSTALL%\bld.bat %1 %2 %3 %4 %5 %6 %7 %8 %9
>
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Massimo Belgrano
> Sent: Tuesday, June 10, 2008 12:31 PM
> To: harbour.01@syenar.hu; Harbour Project Main Developer List.
> Subject: RE: [Harbour] 2008-06-09 07:36 UTC+0100 Viktor  
> Szakats(harbour.01syenar hu)
>
> How is possible compile test\wvtext.prg with bcc
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Szak?ts Viktor
> Sent: Monday, June 09, 2008 8:08 AM
> To: harbour@harbour-project.org
> Subject: [Harbour] 2008-06-09 07:36 UTC+0100 Viktor Szakats (harbour. 
> 01syenar hu)
>
> 2008-06-09 07:36 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * tests/wvtext.prg
> --
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Tue Jun 10 10:41:33 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 10:42:34 2008
Subject: [Harbour] 2008-06-10 11:10 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <20080610133218.GA32266@34-mo7-2.acn.waw.pl>
References: <01c8cada$Blat.v2.6.2$4aff8480$1fdca46ada9c@127.0.0.1>
	<20080610133218.GA32266@34-mo7-2.acn.waw.pl>
Message-ID: <4A9E3B5D-8481-4D6D-AE06-283AAA9D3033@syenar.hu>

Hi Przemek,

Okay I'm trying, but it's nearly impossible to
test everything in multiple versions after each
change.

I wonder though, what are the disadvantages and
advantages of a UNICODE build on plain Windows,
at the stage we are?

If it's not too bad, I may switch to UNICODE
permanently to do a small step into this direction.

(non-UNICODE still needs to be tested though)

Brgds,
Viktor

On 2008.06.10., at 15:32, Przemyslaw Czerpak wrote:

> On Tue, 10 Jun 2008, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>> 2008-06-10 11:10 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>>   * source/rtl/gtwvt/gtwvt.c
>>     ! Fixed maximized window size.
>>   * contrib/hbw32/dllcall.c
>>     * Further cleanup.
>>     ! MessageBox()es converted to RTE calls.
>
> If possible please try to create test build with UNICODE macro
> (C_USR=-DUNICODE). Some of recent modifications are not adopted
> for unicode builds.
> We will also have to add wrapper for GetDriveTypeA() to WinCE
> builds. I'll add it ASAP.
>
> best regards,
> Przemek

From dbtopas at dbtopas.lt  Tue Jun 10 10:52:18 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Jun 10 10:50:11 2008
Subject: [Harbour] Hash functions return value
Message-ID: <484E9522.5060100@dbtopas.lt>

Hi,


my friend said, he expects HB_HSet(), HB_HDel() and HB_HDelAt() to 
return hash, just like Clipper's ADel() or AIns() return array.

This allows to use expressions like:
   aHash2 := HB_HSet( HB_HDel( aHash, "old"), "new", "value" )

Any objection to add this small extension?


Best regards,
Mindaugas
From mbelgrano at deltain.it  Tue Jun 10 11:12:26 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Jun 10 11:12:45 2008
Subject: [Harbour] 2008-06-09 07:36 UTC+0100ViktorSzakats(harbour.01syenar
	hu)
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED19@SRV02.deltain.net>
References: <01c8c9f7$Blat.v2.6.2$3051fce6$e50472f0be2@127.0.0.1><AFB948164110ED43B5EB849E8DEEF03815ED12@SRV02.deltain.net><AFB948164110ED43B5EB849E8DEEF03815ED15@SRV02.deltain.net><582C34EB-0ABB-4870-8F91-A4243D997CF8@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED19@SRV02.deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED1A@SRV02.deltain.net>

Recompiling harbour with CFLAGS= -tW -a8 -OS -O2 -5 -6 I receive this error

MAKE Version 5.2  Copyright (c) 1987, 2000 Borland
source\common\expropt1.c:
source\common\expropt2.c:
source\common\hbarch.c:
source\common\hbfsapi.c:
source\common\hbfopen.c:
source\common\hbgete.c:
source\common\hbwince.c:
source\common\hbhash.c:
source\common\hbdate.c:
source\common\hbstr.c:
source\common\hbtrace.c:
source\common\hbver.c:
source\common\hbverdsp.c:
source\common\reserved.c:
TLIB 4.5 Copyright (c) 1987, 1999 Inprise Corporation
+obj\b32\expropt1.obj &
+obj\b32\expropt2.obj &
+obj\b32\hbarch.obj &
+obj\b32\hbfsapi.obj &
+obj\b32\hbfopen.obj &
+obj\b32\hbgete.obj &
+obj\b32\hbwince.obj &
+obj\b32\hbhash.obj &
+obj\b32\hbdate.obj &
+obj\b32\hbstr.obj &
+obj\b32\hbtrace.obj &
+obj\b32\hbver.obj &
+obj\b32\hbverdsp.obj &
+obj\b32\reserved.obj &
+
source\pp\hbpp.c:
Borland C++ 5.5.1 for Win32 Copyright (c) 1993, 2000 Borland
Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
Error: Unresolved external 'WinMain' referenced from C:\HARBOUR\BCC55\LIB\C0W32.OBJ


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo Belgrano
Sent: Tuesday, June 10, 2008 4:35 PM
To: Harbour Project Main Developer List.
Subject: RE: [Harbour] 2008-06-09 07:36 UTC+0100ViktorSzakats(harbour.01syenar hu)

First I have as CFLAGS= -tWM -a8 -OS -O2 -5 -6 Then CFLAGS= -tW -a8 -OS -O2 -5 -6 and WVTEXT.exe works FINE
Thank.

Wich cflag are recommended for harbour/bcc compilation ?



-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Tuesday, June 10, 2008 3:50 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] 2008-06-09 07:36 UTC+0100 ViktorSzakats(harbour.01syenar hu)

You'll need the -tW C compiler switch.

Brgds,
Viktor

On 2008.06.10., at 15:39, Massimo Belgrano wrote:

> I have tried with bld_32 as follow but my wvtext.exe not show  
> anything when run
>
>
> @echo off
> rem
> rem $Id: bld_b32.bat 8467 2008-05-21 11:45:42Z vszakats $
> rem
>
> if "%HB_BIN_INSTALL%" == "" set HB_BIN_INSTALL=..\..\..\bin
> if "%HB_LIB_INSTALL%" == "" set HB_LIB_INSTALL=..\..\..\lib
> if "%HB_INC_INSTALL%" == "" set HB_INC_INSTALL=..\..\..\include
>
> set HB_ARCHITECTURE=w32
> set HB_COMPILER=bcc32
> set HB_USER_LIBS=gtwvt.lib
>
> call %HB_BIN_INSTALL%\bld.bat %1 %2 %3 %4 %5 %6 %7 %8 %9
>
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Massimo Belgrano
> Sent: Tuesday, June 10, 2008 12:31 PM
> To: harbour.01@syenar.hu; Harbour Project Main Developer List.
> Subject: RE: [Harbour] 2008-06-09 07:36 UTC+0100 Viktor  
> Szakats(harbour.01syenar hu)
>
> How is possible compile test\wvtext.prg with bcc
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Szak?ts Viktor
> Sent: Monday, June 09, 2008 8:08 AM
> To: harbour@harbour-project.org
> Subject: [Harbour] 2008-06-09 07:36 UTC+0100 Viktor Szakats (harbour. 
> 01syenar hu)
>
> 2008-06-09 07:36 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * tests/wvtext.prg
> --
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From druzus at acn.waw.pl  Tue Jun 10 11:27:41 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun 10 11:27:47 2008
Subject: [Harbour] GC pointer items
Message-ID: <20080610152741.GA862@34-mo7-2.acn.waw.pl>

Hi Viktor,

In DLLPREPARECALL() GC pointer item is used.
Looks that there is memory leak if when RT error generated
at the end of this function. 'xec' is not freed.
I would like to also suggest one thing. Memory blocks allocated
by hb_gcAlloc() not not attached to any known HB_ITEM and not
locked (hb_gcLock()) will be freed by garbage collector.
This code is potentially danger because RT error handler can
activate GC. It will also block us against adding automatic
GC activation, f.e. inside hb_xgrab() when total allocated
memory reach some limits. If possible please always try to
allocate GC block just before hb_retptrGC() when all initialization
variables are calculated and you do not have to call any other
functions which may internally activate GC in the future.
I know that it's unpleasure condition and I will want to remove it.
I wanted to made this modification after 1.0 but maybe I should
make it now because number of code which uses GC pointers is
growing up really fast.
The modification will be very simple.
hb_gcAlloc() will always return locked block which cannot be freed
by GC. Such block will have to be freed by user (hb_gcFree()) or
attached to known item by one of GC pointer function (f.e.
hb_retptrGC()). Attaching will automatically unlock the GC block.
Such modification in 99.9% will not force code updating and it will
resolve the problem of freeing GC blocks by unexpected GC activation.
Probably it will be also good to make safe such code:
   HB_FUNC( F )
   {
      hb_retptrGC( hb_parptrGC( 1 ) );
   }

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Jun 10 11:29:11 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 11:29:18 2008
Subject: [Harbour] 2008-06-10 17:27 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cb0e$Blat.v2.6.2$bb6f840c$1444224b3976@127.0.0.1>

2008-06-10 17:27 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/xhb/Makefile
   * contrib/xhb/common.mak
   + contrib/xhb/hbrandom.c
     + Added some remaining xhb functions:
       HB_RANDOM()
       HB_RANDOMINT()
       HB_RANDOMSEED()
       Work of Giancarlo Niccolai / xhb.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Tue Jun 10 11:29:27 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun 10 11:29:31 2008
Subject: [Harbour] Hash functions return value
In-Reply-To: <484E9522.5060100@dbtopas.lt>
References: <484E9522.5060100@dbtopas.lt>
Message-ID: <20080610152927.GA1067@34-mo7-2.acn.waw.pl>

On Tue, 10 Jun 2008, Mindaugas Kavaliauskas wrote:

Ho Mindaugas,

> my friend said, he expects HB_HSet(), HB_HDel() and HB_HDelAt() to 
> return hash, just like Clipper's ADel() or AIns() return array.
> This allows to use expressions like:
>   aHash2 := HB_HSet( HB_HDel( aHash, "old"), "new", "value" )
> Any objection to add this small extension?

No, AFAIR we even wanted to make such modification in the past
but probably we forgot.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Jun 10 11:30:02 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 11:31:06 2008
Subject: [Harbour] Hash functions return value
In-Reply-To: <484E9522.5060100@dbtopas.lt>
References: <484E9522.5060100@dbtopas.lt>
Message-ID: <D534AF28-1D51-4383-8656-121FD106693C@syenar.hu>

Hi Mindaugas,

Not from me. It's a good idea.

Brgds,
Viktor

On 2008.06.10., at 16:52, Mindaugas Kavaliauskas wrote:

> Hi,
>
>
> my friend said, he expects HB_HSet(), HB_HDel() and HB_HDelAt() to  
> return hash, just like Clipper's ADel() or AIns() return array.
>
> This allows to use expressions like:
>  aHash2 := HB_HSet( HB_HDel( aHash, "old"), "new", "value" )
>
> Any objection to add this small extension?
>
>
> Best regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From rportnoff at spendmap.com  Tue Jun 10 11:33:26 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Tue Jun 10 11:32:15 2008
Subject: [Harbour] Upating website
In-Reply-To: <B0081087054@ms1.3peaks.com>
References: <200806070322.10360.philb@philb.us>
	<AFB948164110ED43B5EB849E8DEEF03815ECDC@SRV02.deltain.net>
	<B0081076421@ms1.3peaks.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED05@SRV02.deltain.net>
	<B0081087054@ms1.3peaks.com>
Message-ID: <B0081105716@ms1.3peaks.com>

Hi Massimo,

You may also want to include a note about the powerful string 
handling capabilities of xBase/Harbour.

Randy.


>At 10:54 AM 6/9/2008, you wrote:
>>Hi randy
>>What is missing in your opition at
>>http://en.wikipedia.org/wiki/Harbour_compiler ?
>>
>>If you can clean up the grammar now will be usefull for user that want
>>add something later
>>Thanks for collaboration
>>Massimo.
>>
>>-----Original Message-----
>>From: harbour-bounces@harbour-project.org
>>[mailto:harbour-bounces@harbour-project.org] On Behalf Of Randy Portnoff
>>Sent: Monday, June 09, 2008 4:19 PM
>>To: Harbour Project Main Developer List.
>>Subject: Re: [Harbour] Upating website
>>
>>Hi Massimo,
>>
>>Once the content is complete, I don't mind cleaning-up the grammar -
>>Let me know...
>>
>>Randy.
>>
>>
>>_______________________________________________
>>Harbour mailing list
>>Harbour@harbour-project.org
>>http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From druzus at acn.waw.pl  Tue Jun 10 11:35:18 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun 10 11:35:23 2008
Subject: [Harbour] 2008-06-10 17:27 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8cb0e$Blat.v2.6.2$bb6f840c$1444224b3976@127.0.0.1>
References: <01c8cb0e$Blat.v2.6.2$bb6f840c$1444224b3976@127.0.0.1>
Message-ID: <20080610153518.GA1186@34-mo7-2.acn.waw.pl>

On Tue, 10 Jun 2008, Szak?ts Viktor wrote:

Hi Viktorm,

>    * contrib/xhb/Makefile
>    * contrib/xhb/common.mak
>    + contrib/xhb/hbrandom.c
>      + Added some remaining xhb functions:
>        HB_RANDOM()
>        HB_RANDOMINT()
>        HB_RANDOMSEED()
>        Work of Giancarlo Niccolai / xhb.

We already have them in RTL.

best regards,
Przemek
From mbelgrano at deltain.it  Tue Jun 10 11:38:48 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Jun 10 11:39:00 2008
Subject: [Harbour] Upating website
In-Reply-To: <B0081105716@ms1.3peaks.com>
References: <200806070322.10360.philb@philb.us><AFB948164110ED43B5EB849E8DEEF03815ECDC@SRV02.deltain.net><B0081076421@ms1.3peaks.com><AFB948164110ED43B5EB849E8DEEF03815ED05@SRV02.deltain.net><B0081087054@ms1.3peaks.com>
	<B0081105716@ms1.3peaks.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED1B@SRV02.deltain.net>

YES
Include it is very good idea.

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Randy Portnoff
Sent: Tuesday, June 10, 2008 5:33 PM
To: Harbour Project Main Developer List.
Subject: RE: [Harbour] Upating website

Hi Massimo,

You may also want to include a note about the powerful string 
handling capabilities of xBase/Harbour.

Randy.


>At 10:54 AM 6/9/2008, you wrote:
>>Hi randy
>>What is missing in your opition at
>>http://en.wikipedia.org/wiki/Harbour_compiler ?
>>
>>If you can clean up the grammar now will be usefull for user that want
>>add something later
>>Thanks for collaboration
>>Massimo.
>>
>>-----Original Message-----
>>From: harbour-bounces@harbour-project.org
>>[mailto:harbour-bounces@harbour-project.org] On Behalf Of Randy
Portnoff
>>Sent: Monday, June 09, 2008 4:19 PM
>>To: Harbour Project Main Developer List.
>>Subject: Re: [Harbour] Upating website
>>
>>Hi Massimo,
>>
>>Once the content is complete, I don't mind cleaning-up the grammar -
>>Let me know...
>>
>>Randy.
>>
>>
>>_______________________________________________
>>Harbour mailing list
>>Harbour@harbour-project.org
>>http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Tue Jun 10 11:41:48 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 11:42:50 2008
Subject: [Harbour] GC pointer items
In-Reply-To: <20080610152741.GA862@34-mo7-2.acn.waw.pl>
References: <20080610152741.GA862@34-mo7-2.acn.waw.pl>
Message-ID: <8931DAD5-5F08-4759-A958-990E0C6861C7@syenar.hu>

Hi Przemek,

On 2008.06.10., at 17:27, Przemyslaw Czerpak wrote:

> Hi Viktor,
>
> In DLLPREPARECALL() GC pointer item is used.
> Looks that there is memory leak if when RT error generated
> at the end of this function. 'xec' is not freed.
> I would like to also suggest one thing. Memory blocks allocated
> by hb_gcAlloc() not not attached to any known HB_ITEM and not
> locked (hb_gcLock()) will be freed by garbage collector.
> This code is potentially danger because RT error handler can
> activate GC. It will also block us against adding automatic
> GC activation, f.e. inside hb_xgrab() when total allocated
> memory reach some limits. If possible please always try to
> allocate GC block just before hb_retptrGC() when all initialization
> variables are calculated and you do not have to call any other
> functions which may internally activate GC in the future.
> I know that it's unpleasure condition and I will want to remove it.
> I wanted to made this modification after 1.0 but maybe I should
> make it now because number of code which uses GC pointers is
> growing up really fast.
> The modification will be very simple.
> hb_gcAlloc() will always return locked block which cannot be freed
> by GC. Such block will have to be freed by user (hb_gcFree()) or
> attached to known item by one of GC pointer function (f.e.
> hb_retptrGC()). Attaching will automatically unlock the GC block.
> Such modification in 99.9% will not force code updating and it will
> resolve the problem of freeing GC blocks by unexpected GC activation.
> Probably it will be also good to make safe such code:
>   HB_FUNC( F )
>   {
>      hb_retptrGC( hb_parptrGC( 1 ) );
>   }

Okay, I didn't review GC handling in dllcall.c yet
(so it's fully as-is from xhb), thanks for this
tip.

I've checked and I don't seem to recall other parts
doing this kind of mistake. In any case if it can be
made more foolproof the better, what you suggest seem
good to me.

I spent the most time on hbcurl's GC handling,
and my intention is to use it as reference for
other GC usages, so may I ask you to take a look
at it, if it seems correct? (I know not every
situations are exactly the same, but most of them
falls into this scheme in our contrib.)

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Jun 10 11:43:38 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 11:44:40 2008
Subject: [Harbour] 2008-06-10 17:27 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <20080610153518.GA1186@34-mo7-2.acn.waw.pl>
References: <01c8cb0e$Blat.v2.6.2$bb6f840c$1444224b3976@127.0.0.1>
	<20080610153518.GA1186@34-mo7-2.acn.waw.pl>
Message-ID: <7F3F428C-9322-4A15-8E64-EBF85AB61256@syenar.hu>

Ops.

Do you anything that could be missing?

I did a check and there are only some more obscure,
internal-looking functions left.

Brgds,
Viktor

On 2008.06.10., at 17:35, Przemyslaw Czerpak wrote:

> On Tue, 10 Jun 2008, Szak?ts Viktor wrote:
>
> Hi Viktorm,
>
>>   * contrib/xhb/Makefile
>>   * contrib/xhb/common.mak
>>   + contrib/xhb/hbrandom.c
>>     + Added some remaining xhb functions:
>>       HB_RANDOM()
>>       HB_RANDOMINT()
>>       HB_RANDOMSEED()
>>       Work of Giancarlo Niccolai / xhb.
>
> We already have them in RTL.
>
> best regards,
> Przemek

From harbour.01 at syenar.hu  Tue Jun 10 11:46:02 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 11:46:02 2008
Subject: [Harbour] 2008-06-10 17:44 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cb11$Blat.v2.6.2$160c41e6$1484988d4aba@127.0.0.1>

2008-06-10 17:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/xhb/Makefile
   * contrib/xhb/common.mak
   - contrib/xhb/hbrandom.c
     - We had it in core. Removed.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Tue Jun 10 11:48:12 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun 10 11:48:17 2008
Subject: [Harbour] 2008-06-10 11:10 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <4A9E3B5D-8481-4D6D-AE06-283AAA9D3033@syenar.hu>
References: <01c8cada$Blat.v2.6.2$4aff8480$1fdca46ada9c@127.0.0.1>
	<20080610133218.GA32266@34-mo7-2.acn.waw.pl>
	<4A9E3B5D-8481-4D6D-AE06-283AAA9D3033@syenar.hu>
Message-ID: <20080610154812.GB1186@34-mo7-2.acn.waw.pl>

On Tue, 10 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Okay I'm trying, but it's nearly impossible to
> test everything in multiple versions after each
> change.

Yes, I know and understand the reason. I only signal
problem. For my own use I have mk_all.sh script which
creates over then different Harbour builds and I run
it from time to time to test current code status.

> I wonder though, what are the disadvantages and
> advantages of a UNICODE build on plain Windows,
> at the stage we are?

UNICODE is the only one choice for WinCE builds so
we have to keep it. Now we are only translating
from/to CP character strings when calling unicode
functions. After 1.0 I'll add set of extended API
functions to oprtate on unicode strings, f.e.:
   hb_parc_utf8()
   hb_parc_u16()
   hb_retc_utf8()
   hb_retc_u16()

Which will make all necessary translation internally
respecting current HVM CP. Please note that such API
allows to introduce unicode string items without updating
3-rd party code. If 3-rd party code will need unicode
string then it simply call hb_parc_u16(1) and and HVM
will make all necessary translation or it will return
raw string pointer if the item already contains string
in U16 unicode representation. It will be invisible
for user. Also when user code will make hb_parc( 1 )
and string item will be in U16 representation then
reverted translation will be done respecting current
HVM CP. It will alow us to introduce UNICODE in small
steps.

best regards,
Przemek
From rportnoff at spendmap.com  Tue Jun 10 11:52:49 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Tue Jun 10 11:51:42 2008
Subject: [Harbour] Upating website
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED1B@SRV02.deltain.net>
References: <200806070322.10360.philb@philb.us>
	<AFB948164110ED43B5EB849E8DEEF03815ECDC@SRV02.deltain.net>
	<B0081076421@ms1.3peaks.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED05@SRV02.deltain.net>
	<B0081087054@ms1.3peaks.com> <B0081105716@ms1.3peaks.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED1B@SRV02.deltain.net>
Message-ID: <B0081106282@ms1.3peaks.com>

Ok, please send me the text and I will clean it up and add it to the 
existing doc.

At 11:38 AM 6/10/2008, you wrote:
>YES
>Include it is very good idea.
>
>-----Original Message-----
>From: harbour-bounces@harbour-project.org
>[mailto:harbour-bounces@harbour-project.org] On Behalf Of Randy Portnoff
>Sent: Tuesday, June 10, 2008 5:33 PM
>To: Harbour Project Main Developer List.
>Subject: RE: [Harbour] Upating website
>
>Hi Massimo,
>
>You may also want to include a note about the powerful string
>handling capabilities of xBase/Harbour.
>
>Randy.
>
>
> >At 10:54 AM 6/9/2008, you wrote:
> >>Hi randy
> >>What is missing in your opition at
> >>http://en.wikipedia.org/wiki/Harbour_compiler ?
> >>
> >>If you can clean up the grammar now will be usefull for user that want
> >>add something later
> >>Thanks for collaboration
> >>Massimo.
> >>
> >>-----Original Message-----
> >>From: harbour-bounces@harbour-project.org
> >>[mailto:harbour-bounces@harbour-project.org] On Behalf Of Randy
>Portnoff
> >>Sent: Monday, June 09, 2008 4:19 PM
> >>To: Harbour Project Main Developer List.
> >>Subject: Re: [Harbour] Upating website
> >>
> >>Hi Massimo,
> >>
> >>Once the content is complete, I don't mind cleaning-up the grammar -
> >>Let me know...
> >>
> >>Randy.
> >>
> >>
> >>_______________________________________________
> >>Harbour mailing list
> >>Harbour@harbour-project.org
> >>http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
> >
> >_______________________________________________
> >Harbour mailing list
> >Harbour@harbour-project.org
> >http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From harbour.01 at syenar.hu  Tue Jun 10 11:55:40 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 11:56:51 2008
Subject: [Harbour] 2008-06-10 11:10 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <20080610154812.GB1186@34-mo7-2.acn.waw.pl>
References: <01c8cada$Blat.v2.6.2$4aff8480$1fdca46ada9c@127.0.0.1>
	<20080610133218.GA32266@34-mo7-2.acn.waw.pl>
	<4A9E3B5D-8481-4D6D-AE06-283AAA9D3033@syenar.hu>
	<20080610154812.GB1186@34-mo7-2.acn.waw.pl>
Message-ID: <397CD645-CD60-4DDB-8E05-89D56750AFEC@syenar.hu>

>>
Hi Przemek,

>> Okay I'm trying, but it's nearly impossible to
>> test everything in multiple versions after each
>> change.
>
> Yes, I know and understand the reason. I only signal
> problem. For my own use I have mk_all.sh script which
> creates over then different Harbour builds and I run
> it from time to time to test current code status.

I can create quite some of them under Windows, but
without any automatism, so generally it's a PITA
to deal with it.

I wish I could switch to GNU make, but for some
reason I hate it for everyday use. (I think because
it's building /tests too and it takes forever, and
also difficult to control contrib list to include)

Fully switching to GCC is also on my TODO list, but
here, 'rmake' is the blocking piece.

>> I wonder though, what are the disadvantages and
>> advantages of a UNICODE build on plain Windows,
>> at the stage we are?
>>
>
> UNICODE is the only one choice for WinCE builds so
> we have to keep it. Now we are only translating
> from/to CP character strings when calling unicode
> functions. After 1.0 I'll add set of extended API
> functions to oprtate on unicode strings, f.e.:
>   hb_parc_utf8()
>   hb_parc_u16()
>   hb_retc_utf8()
>   hb_retc_u16()

Sounds great. BTW I'm not suggesting the slightest
that UNICODE mode is a problem, I'd actually like
to switch to full unicode even under plain Windows.

IMO in the future we should step into full Unicode,
if that has any base of reality.

[ See some random thoughts on this in a mail from a few days before. ]

> Which will make all necessary translation internally
> respecting current HVM CP. Please note that such API
> allows to introduce unicode string items without updating
> 3-rd party code. If 3-rd party code will need unicode
> string then it simply call hb_parc_u16(1) and and HVM
> will make all necessary translation or it will return
> raw string pointer if the item already contains string
> in U16 unicode representation. It will be invisible
> for user. Also when user code will make hb_parc( 1 )
> and string item will be in U16 representation then
> reverted translation will be done respecting current
> HVM CP. It will alow us to introduce UNICODE in small
> steps.

Very nice!

Brgds,
Viktor

From dbtopas at dbtopas.lt  Tue Jun 10 12:11:50 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Jun 10 12:09:44 2008
Subject: [Harbour] ChangeLog 2008-06-10 19:10 UTC+0300 Mindaugas Kavaliauskas
Message-ID: <484EA7C6.9030900@dbtopas.lt>

2008-06-10 19:10 UTC+0300 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
   * harbour/source/vm/hashfunc.c
     * extended functionality of HB_HSet(), HB_HDel() and HB_HDelAt()
       to return hash value
From mbelgrano at deltain.it  Tue Jun 10 12:22:44 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Jun 10 12:22:55 2008
Subject: [Harbour] 2008-06-08 16:03 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
In-Reply-To: <17724278.post@talk.nabble.com>
References: <17724278.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED1D@SRV02.deltain.net>

Hi Pritpal
Resize and copy work also with gtwvg?
Massimo


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: Monday, June 09, 2008 1:16 AM
To: harbour@harbour-project.org
Subject: [Harbour] 2008-06-08 16:03 UTC+0800 Pritpal Bedi
(pritpal@vouchcac.com


2008-06-08 16:03 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com
   * harbour/source/rtl/gtwvt/gtwvt.c
   * harbour/source/rtl/gtwvt/gtwvt.h
   * harbour/source/rtl/hbgtcore.c
   * harbour/include/hbgtinfo.ch
     + HB_GTI_MARKCOPY
       Added feature to toggle "Mark and Copy" Sysmenu option with:
          Hb_GtInfo( HB_GTI_MARKCOPY, TRUE|FALSE ) -> lPrevState

       Removed necessity to have Hb_NoCopyConsole() to not include it.
       Now appln always HAS this SysMenu option. 

     + HB_GTI_RESIZEABLE
       Added feature to toggle resizing of appln window as:
          Hb_GtInfo( HB_GTI_RESIZEABLE, TRUE|FALSE ) -> lPrevState

       Function Hb_NoResizeableWindow() still hold good for startup.
       You always can activate/deactivate this feature from within
appln.

       Few more optimizations while resizing, still work in progress.  
       
   * harbour/tests/wvtext.prg
     * Updated to demonstrate above functionality.

Regards
Pritpal Bedi
-- 
View this message in context:
http://www.nabble.com/2008-06-08-16%3A03-UTC%2B0800-Pritpal-Bedi-%28prit
pal%40vouchcac.com-tp17724278p17724278.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Tue Jun 10 12:52:44 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 12:52:42 2008
Subject: [Harbour] 2008-06-10 18:50 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cb1a$Blat.v2.6.2$6778eaa8$17d81690edc6@127.0.0.1>

2008-06-10 18:50 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbw32/dllcall.c
     ! Fixed to not execute code after hb_errRT*() calls.
     ! Fixed to call hb_gcFree() if the hb_gcAlloc()ed 
       pointer is not hb_retptrGC()d (in case of errors).
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Jun 10 13:12:30 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 13:12:29 2008
Subject: [Harbour] 2008-06-10 19:03 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cb1d$Blat.v2.6.2$2a6227a8$f3c36474698@127.0.0.1>

2008-06-10 19:03 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbw32/dllcall.c
     ! Fixed memory corruption when more than 15 parameters 
       were passed to a DLL function.

   * contrib/hbw32/w32_regc.c
     % Minor optimization.
--
Brgds,
Viktor

From rportnoff at spendmap.com  Tue Jun 10 13:15:34 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Tue Jun 10 13:14:24 2008
Subject: [Harbour] Upating website
In-Reply-To: <B0081106282@ms1.3peaks.com>
References: <200806070322.10360.philb@philb.us>
	<AFB948164110ED43B5EB849E8DEEF03815ECDC@SRV02.deltain.net>
	<B0081076421@ms1.3peaks.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED05@SRV02.deltain.net>
	<B0081087054@ms1.3peaks.com> <B0081105716@ms1.3peaks.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED1B@SRV02.deltain.net>
	<B0081106282@ms1.3peaks.com>
Message-ID: <B0081108762@ms1.3peaks.com>

...and you may also want to mention the powerful VM system and 
transparent garbage collection.


>At 11:38 AM 6/10/2008, you wrote:
>>YES
>>Include it is very good idea.
>>
>>-----Original Message-----
>>From: harbour-bounces@harbour-project.org
>>[mailto:harbour-bounces@harbour-project.org] On Behalf Of Randy Portnoff
>>Sent: Tuesday, June 10, 2008 5:33 PM
>>To: Harbour Project Main Developer List.
>>Subject: RE: [Harbour] Upating website
>>
>>Hi Massimo,
>>
>>You may also want to include a note about the powerful string
>>handling capabilities of xBase/Harbour.
>>
>>Randy.
>>
>>
>> >At 10:54 AM 6/9/2008, you wrote:
>> >>Hi randy
>> >>What is missing in your opition at
>> >>http://en.wikipedia.org/wiki/Harbour_compiler ?
>> >>
>> >>If you can clean up the grammar now will be usefull for user that want
>> >>add something later
>> >>Thanks for collaboration
>> >>Massimo.
>> >>
>> >>-----Original Message-----
>> >>From: harbour-bounces@harbour-project.org
>> >>[mailto:harbour-bounces@harbour-project.org] On Behalf Of Randy
>>Portnoff
>> >>Sent: Monday, June 09, 2008 4:19 PM
>> >>To: Harbour Project Main Developer List.
>> >>Subject: Re: [Harbour] Upating website
>> >>
>> >>Hi Massimo,
>> >>
>> >>Once the content is complete, I don't mind cleaning-up the grammar -
>> >>Let me know...
>> >>
>> >>Randy.
>> >>
>> >>
>> >>_______________________________________________
>> >>Harbour mailing list
>> >>Harbour@harbour-project.org
>> >>http://lists.harbour-project.org/mailman/listinfo/harbour
>> >
>> >
>> >
>> >_______________________________________________
>> >Harbour mailing list
>> >Harbour@harbour-project.org
>> >http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>>_______________________________________________
>>Harbour mailing list
>>Harbour@harbour-project.org
>>http://lists.harbour-project.org/mailman/listinfo/harbour
>>_______________________________________________
>>Harbour mailing list
>>Harbour@harbour-project.org
>>http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From druzus at acn.waw.pl  Tue Jun 10 13:32:17 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun 10 13:32:22 2008
Subject: [Harbour] stripping parenthesis in expression optimizer
Message-ID: <20080610173217.GA1347@34-mo7-2.acn.waw.pl>

Hi All,

I would like to return to the problem with stripping parenthesis
in expression optimizer.
In general Clipper optimizer does not reduce (<exp>) to <exp>.
It means that during compilation it can reduce:
   x := 1 - -1
to:
   x := 2
eliminating RT overhead. But it cannot reduce:
   x := 1 - ( -1 )
In some cases it's a serious problem because not only RT overhead
is important. Only fully optimized expression can be used to
initialize static variables. F.e.:
   static s := 1 - -1
is legal expression in Clipper but:
   static s := 1 - (-1)
isn't. People using lot of macros very often have to use parenthesis
to force operator precedence. F.e. this code:

   #define  DEC(x)      x-1
   ? DEC(5) * 3

gives differnet result then:

   #define  DEC(x)      (x-1)
   ? DEC(5) * 3

So in many situation it's a must to use parenthesis.
Now with some exceptions (f.e. Harbour can compile code like:
   #define  DEC(x)      (x-1)
   static s := DEC(5) * 3
and Clipper cannot) we are Clipper compatible.
I would like to introduce full parenthesise stripping in
expression optimizer so parenthesis will not block optimization
(of course they still will be used to define precedence order).
This will be default behavior (-kh switch) and -kc will
set _strictly_ Clipper compatible mode (no parenthesis stripping
at all). This is quite simple modification and final code will
be even smaller because the stripping code will be activated
only in one place for all list of expressions. The special behavior
of enumerator and with_object messages sent to (<var>) will be
kept.
IMHO it will be much cleaner and simpler then in current
code where the stripping is enabled in different chosen
places and even some of them are not disable by -kc.

If you agree for above modification then I'll commit it ASAP.

best regards,
Przemek
From bedipritpal at hotmail.com  Tue Jun 10 13:36:28 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Jun 10 13:36:31 2008
Subject: [Harbour] 2008-06-08 16:03 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED1D@SRV02.deltain.net>
References: <17724278.post@talk.nabble.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED1D@SRV02.deltain.net>
Message-ID: <17760798.post@talk.nabble.com>


Hi

>Resize and copy work also with gtwvg?

Not as per today.

Actually I am awaiting Przemek to pull GTWVT specific code off GTWVG to
minimize the duplicating efforts.

But if it is any priority, it can be done easily. 

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/2008-06-08-16%3A03-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17724278p17760798.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Tue Jun 10 13:36:29 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun 10 13:36:38 2008
Subject: [Harbour] 2008-06-10 19:36 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806101736.m5AHaTIU008356@31-mo5-4.acn.waw.pl>

2008-06-10 19:36 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/gtwvt/gtwvt.c
    ! do not use min()/max() C functions. These are not portable
      functions. Use HB_MIN()/HB_MAX() macros instead.

best regards
Przemek
From harbour.01 at syenar.hu  Tue Jun 10 13:45:33 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 13:46:35 2008
Subject: [Harbour] stripping parenthesis in expression optimizer
In-Reply-To: <20080610173217.GA1347@34-mo7-2.acn.waw.pl>
References: <20080610173217.GA1347@34-mo7-2.acn.waw.pl>
Message-ID: <645B6D02-7A97-4033-A214-4D5D5140A3EE@syenar.hu>

I agree!

Brgds,
Viktor

On 2008.06.10., at 19:32, Przemyslaw Czerpak wrote:

> Hi All,
>
> I would like to return to the problem with stripping parenthesis
> in expression optimizer.
> In general Clipper optimizer does not reduce (<exp>) to <exp>.
> It means that during compilation it can reduce:
>   x := 1 - -1
> to:
>   x := 2
> eliminating RT overhead. But it cannot reduce:
>   x := 1 - ( -1 )
> In some cases it's a serious problem because not only RT overhead
> is important. Only fully optimized expression can be used to
> initialize static variables. F.e.:
>   static s := 1 - -1
> is legal expression in Clipper but:
>   static s := 1 - (-1)
> isn't. People using lot of macros very often have to use parenthesis
> to force operator precedence. F.e. this code:
>
>   #define  DEC(x)      x-1
>   ? DEC(5) * 3
>
> gives differnet result then:
>
>   #define  DEC(x)      (x-1)
>   ? DEC(5) * 3
>
> So in many situation it's a must to use parenthesis.
> Now with some exceptions (f.e. Harbour can compile code like:
>   #define  DEC(x)      (x-1)
>   static s := DEC(5) * 3
> and Clipper cannot) we are Clipper compatible.
> I would like to introduce full parenthesise stripping in
> expression optimizer so parenthesis will not block optimization
> (of course they still will be used to define precedence order).
> This will be default behavior (-kh switch) and -kc will
> set _strictly_ Clipper compatible mode (no parenthesis stripping
> at all). This is quite simple modification and final code will
> be even smaller because the stripping code will be activated
> only in one place for all list of expressions. The special behavior
> of enumerator and with_object messages sent to (<var>) will be
> kept.
> IMHO it will be much cleaner and simpler then in current
> code where the stripping is enabled in different chosen
> places and even some of them are not disable by -kc.
>
> If you agree for above modification then I'll commit it ASAP.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Tue Jun 10 13:54:29 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Jun 10 13:54:42 2008
Subject: [Harbour] 2008-06-08 16:03 UTC+0800 Pritpal
	Bedi(pritpal@vouchcac.com
In-Reply-To: <17760798.post@talk.nabble.com>
References: <17724278.post@talk.nabble.com><AFB948164110ED43B5EB849E8DEEF03815ED1D@SRV02.deltain.net>
	<17760798.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED20@SRV02.deltain.net>

No is't a priority
Can you give me very little sample about how manage a memo with gtwvg
   Wich kind of coordinate have WvtTextBox?
   Where return a modified value

  LOCAL aObjects:= WvtSetBlocks( {} )
   Local oDlg
   Local test:="test"
  oDlg := WvtDialog():New( nWinRows, nWinCols, cWinTitle, cFont, nHeight
)
   oDlg:nTooltipWidth     := 300
   oDlg:nTooltipTextColor := RGB( 255,0,0 )
   @ 1,1 say "Test" get test
   oTBx := WvtTextBox():New( oDlg, , 42,129,51,oDlg:MaxCol()-4 )
   oTBx:cText       := "sample memo"
   oTBx:Tooltip     := 'try this memo'
   oTBx:nFontHeight := 16
   oTBx:lItalic     := .t.
   oTBx:lUnderline  := .t.
   oTBx:nAlignHorz  := 2
   oTBx:nTextColor  := RGB( 255,255,255 )
   oTBx:nTextColorHoverOn := RGB( 0,0,255 )
   oTBx:aPopup      := {}
   aadd( oTBx:aPopup, { 'Getsome' , {|| .t. } } )
   aadd( oTBx:aPopup, { 'Getsome2', {|| .t. } } )
   oDlg:AddObject( oTBx )
   read


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: Tuesday, June 10, 2008 7:36 PM
To: harbour@harbour-project.org
Subject: RE: [Harbour] 2008-06-08 16:03 UTC+0800 Pritpal
Bedi(pritpal@vouchcac.com


Hi

>Resize and copy work also with gtwvg?

Not as per today.

Actually I am awaiting Przemek to pull GTWVT specific code off GTWVG to
minimize the duplicating efforts.

But if it is any priority, it can be done easily. 

Regards
Pritpal Bedi

-- 
View this message in context:
http://www.nabble.com/2008-06-08-16%3A03-UTC%2B0800-Pritpal-Bedi-%28prit
pal%40vouchcac.com-tp17724278p17760798.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From bedipritpal at hotmail.com  Tue Jun 10 14:54:25 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Jun 10 14:54:28 2008
Subject: [Harbour] 2008-06-08 16:03 UTC+0800 Pritpal
	Bedi(pritpal@vouchcac.com
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED20@SRV02.deltain.net>
References: <17724278.post@talk.nabble.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED1D@SRV02.deltain.net>
	<17760798.post@talk.nabble.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED20@SRV02.deltain.net>
Message-ID: <17762217.post@talk.nabble.com>


Massimo

>   Wich kind of coordinate have WvtTextBox?
>   Where return a modified value

I would suggest you to look into the demo carefully and try to understand
the concepts employed. 

It is NOT a memoedit. It is only a display control.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/2008-06-08-16%3A03-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17724278p17762217.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Jun 10 15:13:14 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 15:13:11 2008
Subject: [Harbour] 2008-06-10 21:11 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cb2e$Blat.v2.6.2$0824d5a8$ba4257194ac@127.0.0.1>

2008-06-10 21:11 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbw32/dllcall.c
     % Optimizations. Removed one internal limit.

   + contrib/hbw32/tests/testdll.prg
     + Added small test code.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Jun 10 15:57:28 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 15:57:29 2008
Subject: [Harbour] 2008-06-10 21:55 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cb34$Blat.v2.6.2$36038f40$124c979e1842@127.0.0.1>

2008-06-10 21:55 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbw32/dllcall.c
     % Futher optimizations.
     ! Fixed LoadLibrary() handle leak in DLLPREPARECALL() when 
       an invalid function is requested from a valid library.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Jun 10 16:49:47 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 16:49:45 2008
Subject: [Harbour] 2008-06-10 22:48 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cb3b$Blat.v2.6.2$84fe9066$ce8f0e0ee94@127.0.0.1>

2008-06-10 22:48 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbw32/dllcall.c
     * Casts and cleanups.
--
Brgds,
Viktor

From mbelgrano at deltain.it  Tue Jun 10 17:29:20 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Jun 10 17:29:26 2008
Subject: R: RE: [Harbour] 2008-06-08 16:03 UTC+0800
	PritpalBedi(pritpal@vouchcac.com
Message-ID: <003a01c8cb41$0cd50158$0400a8c0@deltain.net>

Thanks
Exist a textbox multiline for editing in gtwvg?

----- Messaggio originale -----
Da: Pritpal Bedi <bedipritpal@hotmail.com>
Inviato: marted? 10 giugno 2008 20.54
A: harbour@harbour-project.org <harbour@harbour-project.org>
Oggetto: RE: [Harbour] 2008-06-08 16:03 UTC+0800 PritpalBedi(pritpal@vouchcac.com


Massimo

>   Wich kind of coordinate have WvtTextBox?
>   Where return a modified value

I would suggest you to look into the demo carefully and try to understand
the concepts employed. 

It is NOT a memoedit. It is only a display control.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/2008-06-08-16%3A03-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com-tp17724278p17762217.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Tue Jun 10 17:58:55 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 17:59:58 2008
Subject: [Harbour] Mail archive frenzy
References: <71BC6722-81B5-4274-9A9E-4D3430C53B19@syenar.hu>
Message-ID: <A94D0F92-3793-4D50-85AF-0FDBD3733090@syenar.hu>

Hi Phil and all,

I see now that such many "archives" was actually not
a mere coincidence but active contribution.
(archives@mail-archive.com is a subscribed member
for example).

May I suggest to choose one archival system and stick
to it? I'd suggest to keep the native archive on
lists.harbour-project.org, which is BTW also indexed
by google.

Right now we have so many duplicate results, that it
actually makes it _harder_ to find something using
a search engine.

Moreover if someone wants to lookup past messages
locally, the zipped messages are a snap to import
into any decent mailers.

Any opinions?

Brgds,
Viktor

Begin forwarded message:

> From: Szak?ts Viktor <harbour.01@syenar.hu>
> Date: 2008. j?nius 10. 10:47:27 GMT+02:00
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org 
> >
> Subject: Re: [Harbour] Fwd: Uncaught bounce notification
>
> Hi Massimo,
>
> What does a usenet newsgroup like 'comp.lang.harbour'
> have anything to do with our official server? Anyone
> can start these independently.
>
> I'm also not sure what you're talking about, since
> even this developer list can be found in these places
> on the internet (besides the official webarchive):
>
> http://www.mail-archive.com/
> http://www.nabble.com/
> http://news.gmane.org/
>
> This is from the first few hits of a google search, so
> there may be more. On some of these you can even post,
> and the last one serves as a newsgroup, too. This is
> already a bit too much for a devl list if you ask me.
>
> Brgds,
> Viktor
>

From dbtopas at dbtopas.lt  Tue Jun 10 18:18:44 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Jun 10 18:16:36 2008
Subject: [Harbour] stripping parenthesis in expression optimizer
In-Reply-To: <20080610173217.GA1347@34-mo7-2.acn.waw.pl>
References: <20080610173217.GA1347@34-mo7-2.acn.waw.pl>
Message-ID: <484EFDC4.1070802@dbtopas.lt>

Przemyslaw Czerpak wrote:
> Hi All,
> 
> I would like to return to the problem with stripping parenthesis
> in expression optimizer.
> ... 
> If you agree for above modification then I'll commit it ASAP.

Hi,


I see no problem with this commit. We should not limit ourselves to be 
compatible with Clipper's "side effects".

I just think it would be good to write down these small 
incompatibilities for future documentation, etc. It's good we support 
-kc and Clipper's original behaviour. We'll be able to get a list of 
incompatibilities by searching for -kc usage.


Best regards,
Mindaugas
From bedipritpal at hotmail.com  Tue Jun 10 18:42:43 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Jun 10 18:42:47 2008
Subject: [Harbour] 2008-06-10 15:35 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <17766403.post@talk.nabble.com>


2008-06-10 15:35 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
   * harbour/source/rtl/gtwvt/gtwvt.c
     ! Fixed maximized state. Borders were missing.
     + Added functionality to force Windows not to show Windows contents
while 
       resizing. This can be set manually via 
       <Desktop><Right-Click><Properties><Appearance><Effects><Show windows
contents while dragging>
     ; To review: If this behavior be controlled via HB_GTI_SHOWRESIZING or
like.

   * harbour/tests/wvtext.prg 
     * Minor changes.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-10-15%3A35-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17766403p17766403.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Jun 10 19:01:25 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 19:02:27 2008
Subject: [Harbour] 2008-06-10 15:35 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <17766403.post@talk.nabble.com>
References: <17766403.post@talk.nabble.com>
Message-ID: <61C99D2A-9CE9-4C68-BB0C-082D85DCD293@syenar.hu>

> 2008-06-10 15:35 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * harbour/source/rtl/gtwvt/gtwvt.c
>     ! Fixed maximized state. Borders were missing.
>     + Added functionality to force Windows not to show Windows  
> contents
> while
>       resizing. This can be set manually via
>       <Desktop><Right-Click><Properties><Appearance><Effects><Show  
> windows
> contents while dragging>
>     ; To review: If this behavior be controlled via  
> HB_GTI_SHOWRESIZING or
> li
> ke.

Hi Pripal,

This will change this setting for all the running
applicatoins. IMO it's rather bad when an application
is modifying user preferences on behalf of the user.
I think Harbour should not do such thing, not even
with a hb_gtInfo() setting.

Isn't there a way to apply this setting to the
application window only?

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Jun 10 19:05:30 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 19:06:33 2008
Subject: [Harbour] 2008-06-10 15:35 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <17766403.post@talk.nabble.com>
References: <17766403.post@talk.nabble.com>
Message-ID: <7A3ABE04-5274-4388-83B3-676E43A1625F@syenar.hu>

>
> 2008-06-10 15:35 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * harbour/source/rtl/gtwvt/gtwvt.c
>     ! Fixed maximized state. Borders were missing.
>     + Added functionality to force Windows not to show Windows  
> contents
> while
>       resizing. This can be set manually via

For me, the borders are again inside the screen area
now, like before my change. See screenshot, the right
is snapped, the bottom is alright.

There must be a solution which works for everyone.

Brgds,
Viktor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: fullscreen.png
Type: image/png
Size: 1957 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080611/19a2dd97/fullscreen.png
-------------- next part --------------

From harbour.01 at syenar.hu  Tue Jun 10 19:10:53 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 19:11:55 2008
Subject: [Harbour] 2008-06-10 15:35 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <7A3ABE04-5274-4388-83B3-676E43A1625F@syenar.hu>
References: <17766403.post@talk.nabble.com>
	<7A3ABE04-5274-4388-83B3-676E43A1625F@syenar.hu>
Message-ID: <06F13FE9-CFF6-4EA4-B720-0CBC7D19EFC3@syenar.hu>

Hi Pritpal,

If I remove the 'bMaximized' hack from #line 553
(so that 'borderwidth' is always subtracted),
for me it shows alright, it's better than before even.

Can you verify on your system?

Brgds,
Viktor

On 2008.06.11., at 1:05, Szak?ts Viktor wrote:

>>
>> 2008-06-10 15:35 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
>>  * harbour/source/rtl/gtwvt/gtwvt.c
>>    ! Fixed maximized state. Borders were missing.
>>    + Added functionality to force Windows not to show Windows  
>> contents
>> while
>>      resizing. This can be set manually via
>
> For me, the borders are again inside the screen area
> now, like before my change. See screenshot, the right
> is snapped, the bottom is alright.
>
> There must be a solution which works for everyone.
>
> Brgds,
> Viktor
>
> <fullscreen.png>

From druzus at acn.waw.pl  Tue Jun 10 19:17:41 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun 10 19:17:47 2008
Subject: [Harbour] 2008-06-11 01:17 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806102317.m5ANHfwC021897@31-mo5-4.acn.waw.pl>

2008-06-11 01:17 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/common/hbwince.c
    ! fixed typo in GetDriveTypeA()
    * temporary disabled GetDriveTypeW() call because not all CRTLs for
      WinCE support it

  * harbour/include/hbexpra.c
  * harbour/include/hbexprb.c
  * harbour/source/common/expropt2.c
  * harbour/source/compiler/harbour.y
  * harbour/source/compiler/harbour.yyc
    * added full expression list stripping - it enables optimizations
      in few additional places
    ! fixed code to always refresh expression address after direct or
      indirect reduction - seems that we have some memory leaks and
      possible GPFs not located so far
   Please make tests with your code.

best regards
Przemek
From harbour.01 at syenar.hu  Tue Jun 10 19:23:26 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 19:24:27 2008
Subject: [Harbour] 2008-06-10 15:35 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <61C99D2A-9CE9-4C68-BB0C-082D85DCD293@syenar.hu>
References: <17766403.post@talk.nabble.com>
	<61C99D2A-9CE9-4C68-BB0C-082D85DCD293@syenar.hu>
Message-ID: <5BE7B366-1CBA-4285-9F68-201CF6A2BD39@syenar.hu>

>>
>>      resizing. This can be set manually via
>>      <Desktop><Right-Click><Properties><Appearance><Effects><Show  
>> windows
>> contents while dragging>
>>    ; To review: If this behavior be controlled via  
>> HB_GTI_SHOWRESIZING or
>> li
>> ke.
>
> Hi Pripal,
>
> This will change this setting for all the running
> applicatoins. IMO it's rather bad when an application
> is modifying user preferences on behalf of the user.
> I think Harbour should not do such thing, not even
> with a hb_gtInfo() setting.
>
> Isn't there a way to apply this setting to the
> application window only?

FWIW, if someone wants to do this from his/her app,
here is the .prg code to do it:

DllCall( "user32.dll", NIL, "SystemParametersInfo", 37, 0, 0, 0 ) //  
Full drag OFF
DllCall( "user32.dll", NIL, "SystemParametersInfo", 37, 1, 0, 0 ) //  
Full drag ON

[ needs hbw32.lib ]

Brgds,
Viktor

From bedipritpal at hotmail.com  Tue Jun 10 19:56:19 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Jun 10 19:56:22 2008
Subject: [Harbour] 2008-06-10 15:35 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <61C99D2A-9CE9-4C68-BB0C-082D85DCD293@syenar.hu>
References: <17766403.post@talk.nabble.com>
	<61C99D2A-9CE9-4C68-BB0C-082D85DCD293@syenar.hu>
Message-ID: <17767302.post@talk.nabble.com>


Hello

<<<
This will change this setting for all the running
applicatoins. IMO it's rather bad when an application
is modifying user preferences on behalf of the user.
I think Harbour should not do such thing, not even
with a hb_gtInfo() setting.
>>>

Yes I also had this in mind and was not finding the better solution.
DllCall(...) is the right way to achieve it.

>Isn't there a way to apply this setting to the
>application window only?

Perhaps NO, as I tried different approaches but failed with everything
except this.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/2008-06-10-15%3A35-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17766403p17767302.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Tue Jun 10 20:05:14 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Jun 10 20:05:16 2008
Subject: [Harbour] 2008-06-10 15:35 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <06F13FE9-CFF6-4EA4-B720-0CBC7D19EFC3@syenar.hu>
References: <17766403.post@talk.nabble.com>
	<7A3ABE04-5274-4388-83B3-676E43A1625F@syenar.hu>
	<06F13FE9-CFF6-4EA4-B720-0CBC7D19EFC3@syenar.hu>
Message-ID: <17767404.post@talk.nabble.com>


Hello Viktor


Szak?ts Viktor wrote:
> 
> If I remove the 'bMaximized' hack from #line 553
> (so that 'borderwidth' is always subtracted),
> for me it shows alright, it's better than before even.
> 
> Can you verify on your system?
> 

It is dependant on font used.
wvtext.prg as is now in SVN gives 100% correct display on 1280x800 XP
montitor.
Courier New      100%
Lucida Console  100%
Ariel                100%
Times New Roman - Does not scale properly.
Terminal           Too much rigid, do not scales to maxamize

Which font you are using?

By 100% I mean full window with all 4 borders are 0,0,0,0 to Desktop.

Regards
Pritpal Bedi



-- 
View this message in context: http://www.nabble.com/2008-06-10-15%3A35-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17766403p17767404.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Jun 10 20:14:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 20:15:53 2008
Subject: [Harbour] 2008-06-10 15:35 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <17767302.post@talk.nabble.com>
References: <17766403.post@talk.nabble.com>
	<61C99D2A-9CE9-4C68-BB0C-082D85DCD293@syenar.hu>
	<17767302.post@talk.nabble.com>
Message-ID: <22F3EB7F-132A-491B-BB0E-D00B22AD2F12@syenar.hu>

> Yes I also had this in mind and was not finding the better solution.
> DllCall(...) is the right way to achieve it.
>
>> Isn't there a way to apply this setting to the
>> application window only?
>
> Perhaps NO, as I tried different approaches but failed with everything
> except this.

Same here, the only thing I've found is a KB article
(Q121541) describing how to "emulate" turning it off.
It's probably more useful to you than it was for me.

Brgds,
Viktor

From bedipritpal at hotmail.com  Tue Jun 10 20:23:40 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Jun 10 20:23:45 2008
Subject: [Harbour] 2008-06-10 15:35 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <06F13FE9-CFF6-4EA4-B720-0CBC7D19EFC3@syenar.hu>
References: <17766403.post@talk.nabble.com>
	<7A3ABE04-5274-4388-83B3-676E43A1625F@syenar.hu>
	<06F13FE9-CFF6-4EA4-B720-0CBC7D19EFC3@syenar.hu>
Message-ID: <17767601.post@talk.nabble.com>


Hi

If nMaximized hack is removed then observe the right edge.
X butten is visible 4 pixels short.
As left edge is visible with border (also top and bottom), it is very clumsy
that right edge is missing. It imbalances the window space.

We are calculating the font with given full resolution of the screen and
this needs to be taken care when maximizing. When resizing we know the
windows rectangles and add the border width which is always 8.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/2008-06-10-15%3A35-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17766403p17767601.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Jun 10 20:27:30 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 20:28:32 2008
Subject: [Harbour] 2008-06-10 15:35 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <17767404.post@talk.nabble.com>
References: <17766403.post@talk.nabble.com>
	<7A3ABE04-5274-4388-83B3-676E43A1625F@syenar.hu>
	<06F13FE9-CFF6-4EA4-B720-0CBC7D19EFC3@syenar.hu>
	<17767404.post@talk.nabble.com>
Message-ID: <52FF230F-179C-4758-9741-1813620D28C7@syenar.hu>

Hi Pritpal,

>>
>> Can you verify on your system?
>>
>
> It is dependant on font used.
> wvtext.prg as is now in SVN gives 100% correct display on 1280x800 XP
> montitor.

Notice that with wvtext.prg it's not possible to
see the artifact I'm experiencing with my app, as
wvtext doesn't have any text in the border (right)
columns, so you won't notice it being snapped.

BTW, if I keep pressing <F3> in wvtext, the screen
gets smaller and smaller, while leaving a not-so-good
looking trash after itself. It seems it doesn't update
the underlying screen area, but the bigger problem
is that it changes window size at all. I think it's
should leave it intact, after all it should just
toggle the feature on/off.

> Courier New      100%
> Lucida Console  100%
> Ariel                100%
> Times New Roman - Does not scale properly.
> Terminal           Too much rigid, do not scales to maxamize
>
> Which font you are using?

The Harbour default, "Courier New".

> By 100% I mean full window with all 4 borders are 0,0,0,0 to Desktop.

I'm not expecting full screen to cover my whole
screen, as it's not likely anyway because of the
fixed proportions of the fonts. My only goal was
to align the window borders with the content without
leaving gaps and without snapping it.

I'm on 1280x1024, XP "classic" theme, Taskbar on
the right side of the screen.

Brgds,
Viktor

From bedipritpal at hotmail.com  Tue Jun 10 20:29:06 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Jun 10 20:29:08 2008
Subject: [Harbour] 2008-06-10 15:35 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <17767601.post@talk.nabble.com>
References: <17766403.post@talk.nabble.com>
	<7A3ABE04-5274-4388-83B3-676E43A1625F@syenar.hu>
	<06F13FE9-CFF6-4EA4-B720-0CBC7D19EFC3@syenar.hu>
	<17767601.post@talk.nabble.com>
Message-ID: <17767664.post@talk.nabble.com>


Hi

Try this one:

width  = ( ( USHORT ) ( pWVT->PTEXTSIZE.x * pWVT->COLS ) ) + borderwidth;

SetWindowPos( pWVT->hWnd, NULL, left-(pWVT->bMaximized?3:0), top, width,
height, SWP_NOZORDER );

Then the windows shows up in right proportions at left and right edge.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-10-15%3A35-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17766403p17767664.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Jun 10 20:49:36 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 20:50:37 2008
Subject: [Harbour] 2008-06-10 15:35 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <17767601.post@talk.nabble.com>
References: <17766403.post@talk.nabble.com>
	<7A3ABE04-5274-4388-83B3-676E43A1625F@syenar.hu>
	<06F13FE9-CFF6-4EA4-B720-0CBC7D19EFC3@syenar.hu>
	<17767601.post@talk.nabble.com>
Message-ID: <FEF36AF9-DA4D-4BA7-9116-285C2C25E810@syenar.hu>

> Hi
>
> If nMaximized hack is removed then observe the right edge.
> X butten is visible 4 pixels short.
> As left edge is visible with border (also top and bottom), it is  
> very clumsy
> that right edge is missing. It imbalances the window space.
>
> We are calculating the font with given full resolution of the screen  
> and
> this needs to be taken care when maximizing. When resizing we know the
> windows rectangles and add the border width which is always 8.

Hi Pritpal,

The solution lies elsewhere then. I definitely
cannot see the rightmost column in the window,
as it's covered by the border. If we correct
this, you see a gap.

See what I see:
- After your commit:
http://www.syenar.hu/harbour/svn.png
- After your commit + small mod I've posted:
http://www.syenar.hu/harbour/svn_mod.png

To me it looks like the client area is wrongly
calculated from the desktop size, specifically
I think the window borders are not properly
taken into account.

So I guess we have different border settings,
or maybe it's not always 8.

Another bug: If I maximize, than minimize to
tray, the window gets resized, so I need to
maximize again. IMO any "maximize" hacks would
better to be removed, to not make it a special
case.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Jun 10 21:03:21 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 10 21:04:22 2008
Subject: [Harbour] 2008-06-10 15:35 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <17767664.post@talk.nabble.com>
References: <17766403.post@talk.nabble.com>
	<7A3ABE04-5274-4388-83B3-676E43A1625F@syenar.hu>
	<06F13FE9-CFF6-4EA4-B720-0CBC7D19EFC3@syenar.hu>
	<17767601.post@talk.nabble.com> <17767664.post@talk.nabble.com>
Message-ID: <28F15199-75AC-4E9A-A3EA-F997496B04A5@syenar.hu>

> Try this one:
>
> width  = ( ( USHORT ) ( pWVT->PTEXTSIZE.x * pWVT->COLS ) ) +  
> borderwidth;
>
> SetWindowPos( pWVT->hWnd, NULL, left-(pWVT->bMaximized?3:0), top,  
> width,
> height, SWP_NOZORDER );
>
> Then the windows shows up in right proportions at left and right edge.

Not for me. For me it shifts the window 3 pixels to
the left (when maximized), which makes part of the left
border go off screen.

Maybe we're talking about different things. What I want
to achieve is:

- "Maximize" means the largest possible font size, which
   still fits in a window, which in turn fits on the screen,
   with borders fully visible. (otherwise users cannot resize
   it easily). [ In this sense "maximize" is not what maximize
   means for regular Windows apps. ]
- On "maximize", window can be automatically positioned to
   the top left (0, 0) position, no problem with that.
- The screen content (the emulated console) should exactly
   fit inside the borders, without gaps and snaps. At all
   sizes.
   Too small screen should be somehow avoided, since I'm
   still getting those trashy windows, where the content
   is too small compated to the border.
- Toggling HB_GTI_RESIZABLE shouldn't resize the window.
- Minimizing to tray, than clicking on it to, shouldn't
   resize the window.
- Of course all the above should possible work with any
   customized Windows appearance. This comes down to
   measuring borders on all sides accurately.

Maybe there are other factors, but that should be enough
for first goals :)

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Jun 10 22:10:31 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jun 10 22:10:36 2008
Subject: [Harbour] 2008-06-11 04:10 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806110210.m5B2AVpg014802@31-mo5-4.acn.waw.pl>

2008-06-11 04:10 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbexprop.h
  * harbour/include/hbexprb.c
  * harbour/source/common/expropt2.c
    * added optimization for DTOS( <date_constant> ), f.e.:
      static s := DTOS( 0d20080611 )

best regards
Przemek
From bedipritpal at hotmail.com  Wed Jun 11 02:20:52 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jun 11 02:20:55 2008
Subject: [Harbour] 2008-06-10 23:06 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <17770859.post@talk.nabble.com>


2008-06-10 23:06 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
   * harbour/source/rtl/gtwvt/gtwvt.c
     ! Fixed maximized state. Borders were missing.
     - Removed functionality to force Windows not to show Windows contents
while resizing. 
       ; Instead application can issue :
          To switch off full drag  
             DllCall( "user32.dll", NIL, "SystemParametersInfo", 37, 0, 0, 0
)
          To switch on full drag  
             DllCall( "user32.dll", NIL, "SystemParametersInfo", 37, 1, 0, 0
)
      ! Fixed non-refreshed client area under certain circumstances.
      * Removed all the hacks to adjust borders.
      * Adjusted maximize operation - now window is centered on the screen.
      ; TODO - Find a better solution to 
        enabling and disabling of resizing feature at run time.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-10-23%3A06-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17770859p17770859.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From M.Horodyski at pzuzycie.com.pl  Wed Jun 11 03:54:00 2008
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Jun 11 03:54:05 2008
Subject: [Harbour] RE: Harbour Digest, Vol 20, Issue 38
In-Reply-To: <NLB01FEhTrBoe2U8QVj00001a24@gatein.pzuzycie.com.pl>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C95F052C5@PINK.zycie.pzu>

>Message: 7
>Date: Sat, 7 Jun 2008 10:39:24 +0200
>From: "Massimo Belgrano" <mbelgrano@deltain.it>
>Subject: [Harbour] Upating website

[...]

>Will same people write "What is Harbour?" For adding in website
>
>I have tried here with my worse English
>http://en.wikipedia.org/wiki/Harbour_compiler
>
>I invite  Przemyslaw Czerpak write "Philosophies of implementation and
>Future version"

And maby add polish translation :)

Regards,
Marek Horodyski
From mbelgrano at deltain.it  Wed Jun 11 03:58:28 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jun 11 03:58:35 2008
Subject: [Harbour] 2008-06-10 15:35 UTC+0800 Pritpal
	Bedi(pritpal@vouchcac.com)
In-Reply-To: <17767404.post@talk.nabble.com>
References: <17766403.post@talk.nabble.com><7A3ABE04-5274-4388-83B3-676E43A1625F@syenar.hu><06F13FE9-CFF6-4EA4-B720-0CBC7D19EFC3@syenar.hu>
	<17767404.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED21@SRV02.deltain.net>

What happen on 16/9 display?

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: Wednesday, June 11, 2008 2:05 AM
To: harbour@harbour-project.org
Subject: Re: [Harbour] 2008-06-10 15:35 UTC+0800 Pritpal Bedi(pritpal@vouchcac.com)


Hello Viktor


Szak?ts Viktor wrote:
> 
> If I remove the 'bMaximized' hack from #line 553
> (so that 'borderwidth' is always subtracted),
> for me it shows alright, it's better than before even.
> 
> Can you verify on your system?
> 

It is dependant on font used.
wvtext.prg as is now in SVN gives 100% correct display on 1280x800 XP
montitor.
Courier New      100%
Lucida Console  100%
Ariel                100%
Times New Roman - Does not scale properly.
Terminal           Too much rigid, do not scales to maxamize

Which font you are using?

By 100% I mean full window with all 4 borders are 0,0,0,0 to Desktop.

Regards
Pritpal Bedi



-- 
View this message in context: http://www.nabble.com/2008-06-10-15%3A35-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17766403p17767404.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From sscc at mweb.co.za  Wed Jun 11 04:32:43 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Jun 11 04:32:50 2008
Subject: [Harbour] Testing RC1
In-Reply-To: <484D4E3E.3050900@mweb.co.za>
References: <484D4E3E.3050900@mweb.co.za>
Message-ID: <484F8DAB.8010601@mweb.co.za>

Alex Strickland wrote:

Compiling RC1 with MSVC 6 went perfectly.

I only have ADS 9 and FreeImage on my machine, so a number of the 
contribs were not compiled.

The only error I got was for DirectDraw:

	cl.exe -c -MT -I..\..\include -Ogt2yb1p -GX- -G6 -YX -FD -Gs -W3 
-nologo -TP    -Fo..\..\obj\vc\\\ .\w32_ddrw.cpp
w32_ddrw.cpp
.\w32_ddrw.h(61) : error C2065: 'IDirectDrawSurface4' : undeclared 
identifier
.\w32_ddrw.h(61) : error C2065: 'pdds' : undeclared identifier
.\w32_ddrw.h(61) : error C2275: 'HBITMAP' : illegal use of this type 
as an expression
         C:\PROGRA~1\MIFD68~1\INCLUDE\windef.h(241) : see declaration 
of 'HBITMAP'
.\w32_ddrw.h(61) : error C2146: syntax error : missing ')' before 
identifier 'hbm'
.\w32_ddrw.h(61) : error C2078: too many initializers
.\w32_ddrw.h(61) : error C2275: 'HBITMAP' : illegal use of this type 
as an expression
         C:\PROGRA~1\MIFD68~1\INCLUDE\windef.h(241) : see declaration 
of 'HBITMAP'
.\w32_ddrw.h(61) : error C2059: syntax error : ')'
.\w32_ddrw.h(63) : error C2275: 'COLORREF' : illegal use of this type 
as an expression
         C:\PROGRA~1\MIFD68~1\INCLUDE\windef.h(290) : see declaration 
of 'COLORREF'
.\w32_ddrw.h(63) : error C2146: syntax error : missing ')' before 
identifier 'rgb'
.\w32_ddrw.h(63) : error C2078: too many initializers
.\w32_ddrw.h(63) : error C2275: 'COLORREF' : illegal use of this type 
as an expression
         C:\PROGRA~1\MIFD68~1\INCLUDE\windef.h(290) : see declaration 
of 'COLORREF'
.\w32_ddrw.h(63) : error C2059: syntax error : ')'
.\w32_ddrw.cpp(42) : error C2146: syntax error : missing ';' before 
identifier 'hb_dd_g_pDD'
.\w32_ddrw.cpp(42) : error C2501: 'LPDIRECTDRAW4' : missing 
storage-class or type specifiers
.\w32_ddrw.cpp(42) : fatal error C1004: unexpected end of file found
Microsoft (R) Library Manager Version 6.00.8447
Copyright (C) Microsoft Corp 1992-1998. All rights reserved.

_temp.def : warning LNK4093: Drive/Directory component ignored in 
"LIBRARY" statement
    Creating library ..\..\lib\vc\ddraw.lib and object 
..\..\lib\vc\ddraw.exp


> Assuming that all goes well, are we releasing the binaries on sourceforge?
> 
> Is there a "list" of what should be included in a binary release?

Does anyone have an answer for this?

Thanks
Alex
From harbour.01 at syenar.hu  Wed Jun 11 04:53:02 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 11 04:54:04 2008
Subject: [Harbour] Testing RC1
In-Reply-To: <484F8DAB.8010601@mweb.co.za>
References: <484D4E3E.3050900@mweb.co.za> <484F8DAB.8010601@mweb.co.za>
Message-ID: <4B535C5C-9F24-44A1-9898-1CA5278256CD@syenar.hu>

Hi Alex,

> The only error I got was for DirectDraw:
>
> 	cl.exe -c -MT -I..\..\include -Ogt2yb1p -GX- -G6 -YX -FD -Gs -W3 - 
> nologo -TP    -Fo..\..\obj\vc\\\ .\w32_ddrw.cpp
> w32_ddrw.cpp
> .\w32_ddrw.h(61) : error C2065: 'IDirectDrawSurface4' : undeclared  
> identifier

You may need a newer version of ddraw.h. But it's plain guess.
I'm using latest MS SDK and MSVS 2005, and it compiles fine
under this combination.

>> Assuming that all goes well, are we releasing the binaries on  
>> sourceforge?
>> Is there a "list" of what should be included in a binary release?
>
> Does anyone have an answer for this?

I'd personally include these:
hbct
hbgt
hbmisc
hbmzip
hbnf
hbodbc
hbsqlit3
hbtip
hbtpathy
hbvpdf
hbw32
rddado

Maybe xhb, but I need to clean the list of headers to be installed
to the main include dir first. I'll do this ASAP.

There could be another package which contains
contrib with 3rd party .dll dependencies:
hbcurl
hbfimage
hbgf
hbhpdf
hbmysql
rddads

Brgds,
Viktor

From mbelgrano at deltain.it  Wed Jun 11 06:25:06 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jun 11 06:25:16 2008
Subject: [Harbour] 2008-06-10 15:35 UTC+0800
	PritpalBedi(pritpal@vouchcac.com)
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED21@SRV02.deltain.net>
References: <17766403.post@talk.nabble.com><7A3ABE04-5274-4388-83B3-676E43A1625F@syenar.hu><06F13FE9-CFF6-4EA4-B720-0CBC7D19EFC3@syenar.hu><17767404.post@talk.nabble.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED21@SRV02.deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED22@SRV02.deltain.net>

On 1900*1200 woring fine with standard font.

Can somebody help me add to wvttext a way for changing the font at runtime?
add wvg to reference of project because using Wvt_ChooseFont

STATIC FUNCTION choose_FONT
   static A_FONT[8]
   local x_ratio,x_alt,x_lar
   a_font :=   Wvt_ChooseFont(a_font[1],a_font[2],a_font[3],a_font[4],a_font[5])
   Hb_GtInfo( HB_GTI_FONTNAME,_font[1])
   return .T.

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo Belgrano
Sent: Wednesday, June 11, 2008 9:58 AM
To: Harbour Project Main Developer List.
Subject: RE: [Harbour] 2008-06-10 15:35 UTC+0800 PritpalBedi(pritpal@vouchcac.com)

What happen on 16/9 display?

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: Wednesday, June 11, 2008 2:05 AM
To: harbour@harbour-project.org
Subject: Re: [Harbour] 2008-06-10 15:35 UTC+0800 Pritpal Bedi(pritpal@vouchcac.com)


Hello Viktor


Szak?ts Viktor wrote:
> 
> If I remove the 'bMaximized' hack from #line 553 (so that 
> 'borderwidth' is always subtracted), for me it shows alright, it's 
> better than before even.
> 
> Can you verify on your system?
> 

It is dependant on font used.
wvtext.prg as is now in SVN gives 100% correct display on 1280x800 XP montitor.
Courier New      100%
Lucida Console  100%
Ariel                100%
Times New Roman - Does not scale properly.
Terminal           Too much rigid, do not scales to maxamize

Which font you are using?

By 100% I mean full window with all 4 borders are 0,0,0,0 to Desktop.

Regards
Pritpal Bedi



--
View this message in context: http://www.nabble.com/2008-06-10-15%3A35-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17766403p17767404.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From e.m.giordano at emagsoftware.it  Wed Jun 11 08:19:45 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Jun 11 08:19:51 2008
Subject: [Harbour] Warnings
Message-ID: <CB6A78479B474C5DAB8C8F7EA7248BED@emag>

Warning W8004 source\rtl\gtwvt\gtwvt.c 529: 'height' is assigned a value 
that is never used in function hb_gt_wvt_FitSize
Warning W8004 source\rtl\gtwvt\gtwvt.c 528: 'width' is assigned a value that 
is never used in function hb_gt_wvt_FitSize

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Wed Jun 11 08:49:31 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 11 08:50:31 2008
Subject: [Harbour] Warnings
In-Reply-To: <CB6A78479B474C5DAB8C8F7EA7248BED@emag>
References: <CB6A78479B474C5DAB8C8F7EA7248BED@emag>
Message-ID: <2BFE131D-AA3C-4803-852A-C870E61101D9@syenar.hu>

Hi EMG,

I'm planning to commit some changes to this
file, which will also fix these warnings.

Brgds,
Viktor

On 2008.06.11., at 14:19, Enrico Maria Giordano wrote:

> Warning W8004 source\rtl\gtwvt\gtwvt.c 529: 'height' is assigned a  
> value that is never used in function hb_gt_wvt_FitSize
> Warning W8004 source\rtl\gtwvt\gtwvt.c 528: 'width' is assigned a  
> value that is never used in function hb_gt_wvt_FitSize
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From e.m.giordano at emagsoftware.it  Wed Jun 11 08:55:29 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Jun 11 08:55:33 2008
Subject: [Harbour] Warnings
References: <CB6A78479B474C5DAB8C8F7EA7248BED@emag>
	<2BFE131D-AA3C-4803-852A-C870E61101D9@syenar.hu>
Message-ID: <F0C16D849B79426184FF25208AEA89DD@emag>


-----Messaggio Originale----- 
Da: "Szak?ts Viktor" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 11 giugno 2008 14.49
Oggetto: Re: [Harbour] Warnings


> Hi EMG,
>
> I'm planning to commit some changes to this
> file, which will also fix these warnings.

Thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From mbelgrano at deltain.it  Wed Jun 11 09:03:02 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jun 11 09:03:14 2008
Subject: [Harbour] Wvt_ChooseFont return incorrect parameter
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED23@SRV02.deltain.net>

Wvt_ChooseFont return incorrect parameter

FUNC MAIN
   WVT_CORE()       
   WVT_UTILS()      
   choose_FONT()
   CLS
   INKEY(0)
   RETURN 


STATIC FUNCTION choose_FONT
   static A_FONT[8]
   a_font :=
Wvt_ChooseFont(a_font[1],a_font[2],a_font[3],a_font[4],a_font[5],
a_font[6], a_font[7], a_font[8])
   ? a_font[1]
   ? a_font[2]
   ? a_font[3]  // IY RETURN ALWAYS 0
   ? a_font[4]
   ? a_font[5]
   ? a_font[6]
   ? a_font[7]
   ? a_font[8]
   INKEY(0)
   
   Hb_GtInfo( HB_GTI_FONTNAME,a_font[1])
   Hb_GtInfo( HB_GTI_FONTWIDTH, a_font[2]  )
   Hb_GtInfo( HB_GTI_FONTSIZE ,a_font[3] )
   return .T.

Massimo Belgrano

From druzus at acn.waw.pl  Wed Jun 11 10:22:52 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Jun 11 10:22:57 2008
Subject: [Harbour] 2008-06-11 16:22 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806111422.m5BEMqaZ013158@31-mo5-4.acn.waw.pl>

2008-06-11 16:22 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbw32/dllcall.c
    * added casting of wOrdinal to HB_PTR_DIFF to avoid waring
    * disabled asm code for WIN64 builds
    * disabled asm code for WINCE builds
    * disabled some code which breaks WINCE builds
    ; TODO: add support for WINCE/ARM and WIN64

  * harbour/source/rtl/gtwvt/gtwvt.c
    ! always use literal strings inside TEXT() macro for UNICODE builds

best regards
Przemek
From bedipritpal at hotmail.com  Wed Jun 11 11:01:20 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jun 11 11:01:22 2008
Subject: [Harbour] Wvt_ChooseFont return incorrect parameter
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED23@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ED23@SRV02.deltain.net>
Message-ID: <17779983.post@talk.nabble.com>


Massimo


Massimo Belgrano-3 wrote:
> 
> Wvt_ChooseFont return incorrect parameter
>  ...
>    ? a_font[3]  // IY RETURN ALWAYS 0
>    
>    Hb_GtInfo( HB_GTI_FONTNAME,a_font[1])
>    Hb_GtInfo( HB_GTI_FONTWIDTH, a_font[2]  )
>    Hb_GtInfo( HB_GTI_FONTSIZE ,a_font[3] )
>  ...
> 

You are again mixing two concepts. Wvt_ChooseFont() is never intented to be
WVT specific. It is Windows specific. Where do you see the SIZE of a font in
font selection dialog ? It only contains FontName, Weight, bItalic,
bUnderline, bSubscript only.

To set WVT window to the desired size you need touse other tricks.

One feature I can implement could be HB_GTI_MAXIMIZE which will force the
window to go maximized state without user clicking the maximize button. It
may solve your wish but partially.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Wvt_ChooseFont-return-incorrect-parameter-tp17777056p17779983.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Wed Jun 11 11:07:09 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jun 11 11:07:12 2008
Subject: [Harbour] Some more HB_GTI_ slots
Message-ID: <17780103.post@talk.nabble.com>


Hello Viktor and all,

I plan to introduce some HB_GTI slots as

HB_GTI_HIDE         will hide the console
HB_GTI_SHOW       will restore the console if it is hidden
HB_GTI_MAXIMIZE  will maximize the console
HB_GTI_MINIMIZE   will minimize the console
HB_GTI_SETCLOSE  will control the "X" click 

Opinions...

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/Some-more-HB_GTI_-slots-tp17780103p17780103.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Jun 11 11:28:24 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 11 11:29:27 2008
Subject: [Harbour] Some more HB_GTI_ slots
In-Reply-To: <17780103.post@talk.nabble.com>
References: <17780103.post@talk.nabble.com>
Message-ID: <B7B941A5-500E-4BA4-A74C-92AAEAAC2F40@syenar.hu>

Hi Pritpal,

> I plan to introduce some HB_GTI slots as
>
> HB_GTI_HIDE         will hide the console
> HB_GTI_SHOW       will restore the console if it is hidden

I'm not sure if these has any meaning outside
the Windows worlds, so I vote no. I'd also not
be happy as a user to have a hidden app running
invisibly.

> HB_GTI_MAXIMIZE  will maximize the console
> HB_GTI_MINIMIZE   will minimize the console

I'd rather add one HB_GTI_WINDOWMODE, with
submodes. HB_GTI_WINMODE_FITTODESKTOP, would
better describe what's really happening than
MAXIMIZE. MINIMIZE seems okay, but I personally
can't imagine I'd ever need it.

> HB_GTI_SETCLOSE  will control the "X" click

This one is fine with me.

But I think we should fix what we already have
before adding new features.

I'm right know knee deep into the debugger,
and to tell the truth I'm not really advancing,
and very few initial bugs are fixed yet.

Another TOFIX: After maximizing, the "maximize"
icon on the window should be disabled IMO,
and only reenabled after the first resize.

Please hold back any changes until I'm
finished with this debug session.

Brgds,
Viktor

From mbelgrano at deltain.it  Wed Jun 11 11:38:45 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jun 11 11:38:52 2008
Subject: [Harbour] Some more HB_GTI_ slots
In-Reply-To: <17780103.post@talk.nabble.com>
References: <17780103.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED2E@SRV02.deltain.net>

I agree as good this HB_GTI also can be used from few application
The Best is HB_GTI_SETCLOSE  
I notice also the capability of Show process in task bar will be useful
and different from hide/show



-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: Wednesday, June 11, 2008 5:07 PM
To: harbour@harbour-project.org
Subject: [Harbour] Some more HB_GTI_ slots


Hello Viktor and all,

I plan to introduce some HB_GTI slots as

HB_GTI_HIDE         will hide the console
HB_GTI_SHOW       will restore the console if it is hidden
HB_GTI_MAXIMIZE  will maximize the console
HB_GTI_MINIMIZE   will minimize the console
HB_GTI_SETCLOSE  will control the "X" click 

Opinions...

Regards
Pritpal Bedi


-- 
View this message in context:
http://www.nabble.com/Some-more-HB_GTI_-slots-tp17780103p17780103.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From lorenzo.fiorini at gmail.com  Wed Jun 11 11:41:02 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Jun 11 11:41:36 2008
Subject: [Harbour] Some more HB_GTI_ slots
In-Reply-To: <17780103.post@talk.nabble.com>
References: <17780103.post@talk.nabble.com>
Message-ID: <9257026e0806110841n56e9e99uc5acb5c0ee3efa9b@mail.gmail.com>

On Wed, Jun 11, 2008 at 5:07 PM, Pritpal Bedi <bedipritpal@hotmail.com> wrote:
>
> Hello Viktor and all,
>
> I plan to introduce some HB_GTI slots as
>
> HB_GTI_HIDE         will hide the console
> HB_GTI_SHOW       will restore the console if it is hidden
> HB_GTI_MAXIMIZE  will maximize the console
> HB_GTI_MINIMIZE   will minimize the console
> HB_GTI_SETCLOSE  will control the "X" click
>
> Opinions...

If we care about multiplatform, I think we should try to keep the GTs in sync.

For me multiplatform means gtwvt=gtxwc=gttrm ( obviously gttrm depends
a lot from the terminal program ).

> HB_GTI_SETCLOSE  will control the "X" click
I've proposed time ago a callback at prg level to "control" the X close.

Another thing that I'd like to see in both gtwvt adnd gtxwc is the
"palette management".
Today I've changed the #define.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Wed Jun 11 11:45:33 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 11 11:46:36 2008
Subject: [Harbour] Some more HB_GTI_ slots
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED2E@SRV02.deltain.net>
References: <17780103.post@talk.nabble.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED2E@SRV02.deltain.net>
Message-ID: <7A4C85C7-2E7A-43C9-A672-9CADDA1675DA@syenar.hu>

Harbour is still a multiplatform project, so
we should all think out of the "Windows box".

"Useful" is _only_ useful for Harbour if multiplatform.

Windows specific stuffs belong to the contrib area.

Brgds,
Viktor

On 2008.06.11., at 17:38, Massimo Belgrano wrote:

> I agree as good this HB_GTI also can be used from few application
> The Best is HB_GTI_SETCLOSE
> I notice also the capability of Show process in task bar will be  
> useful
> and different from hide/show
>
>
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
> Sent: Wednesday, June 11, 2008 5:07 PM
> To: harbour@harbour-project.org
> Subject: [Harbour] Some more HB_GTI_ slots
>
>
> Hello Viktor and all,
>
> I plan to introduce some HB_GTI slots as
>
> HB_GTI_HIDE         will hide the console
> HB_GTI_SHOW       will restore the console if it is hidden
> HB_GTI_MAXIMIZE  will maximize the console
> HB_GTI_MINIMIZE   will minimize the console
> HB_GTI_SETCLOSE  will control the "X" click
>
> Opinions...
>
> Regards
> Pritpal Bedi
>
>
> -- 
> View this message in context:
> http://www.nabble.com/Some-more-HB_GTI_-slots-tp17780103p17780103.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Jun 11 11:54:06 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 11 11:55:16 2008
Subject: [Harbour] Some more HB_GTI_ slots
In-Reply-To: <9257026e0806110841n56e9e99uc5acb5c0ee3efa9b@mail.gmail.com>
References: <17780103.post@talk.nabble.com>
	<9257026e0806110841n56e9e99uc5acb5c0ee3efa9b@mail.gmail.com>
Message-ID: <CEE7D7F3-2A65-4E30-9E2C-5CF945D91192@syenar.hu>

Hi Lorenzo,

>>
>> Opinions...
>
> If we care about multiplatform, I think we should try to keep the  
> GTs in sync.

It would be great if you could comment on the recent
or planned features, I personally still only use Windows,
so my overview of other platforms is slim, and it's
sometime difficult to know how things are elsewhere.
Your input is important.

BTW, the intent is absolutely to be multiplatform.

Which means: Harbour apps should run on other
platforms, without modifications, with the same
capabilities.

So let's say we start to rely on close-to-Windows
feature x ("minimize to tray") and I port the app,
in this case we should either develop this functionality
on all other platforms, or drop it completely,
otherwise it just ties some app level features
to a platforms. And this is no good.

> For me multiplatform means gtwvt=gtxwc=gttrm ( obviously gttrm depends
> a lot from the terminal program ).

Exactly.

> Today I've changed the #define.

Excellent :)

Brgds,
Viktor

From mbelgrano at deltain.it  Wed Jun 11 11:59:44 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jun 11 11:59:53 2008
Subject: [Harbour] Wvt_ChooseFont return incorrect parameter
In-Reply-To: <17779983.post@talk.nabble.com>
References: <AFB948164110ED43B5EB849E8DEEF03815ED23@SRV02.deltain.net>
	<17779983.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED2F@SRV02.deltain.net>

you CAN see where i see size of font in selection dialog 

If I choice arial regular size 10 like here
http://www.bigbcreations.com/Images/screenshots/ChooseFont.jpg  where
are size:10 in return parameter?


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: Wednesday, June 11, 2008 5:01 PM
To: harbour@harbour-project.org
Subject: Re: [Harbour] Wvt_ChooseFont return incorrect parameter


Massimo


Massimo Belgrano-3 wrote:
> 
> Wvt_ChooseFont return incorrect parameter
>  ...
>    ? a_font[3]  // IY RETURN ALWAYS 0
>    
>    Hb_GtInfo( HB_GTI_FONTNAME,a_font[1])
>    Hb_GtInfo( HB_GTI_FONTWIDTH, a_font[2]  )
>    Hb_GtInfo( HB_GTI_FONTSIZE ,a_font[3] )
>  ...
> 

You are again mixing two concepts. Wvt_ChooseFont() is never intented to
be
WVT specific. It is Windows specific. Where do you see the SIZE of a
font in
font selection dialog ? It only contains FontName, Weight, bItalic,
bUnderline, bSubscript only.

To set WVT window to the desired size you need touse other tricks.

One feature I can implement could be HB_GTI_MAXIMIZE which will force
the
window to go maximized state without user clicking the maximize button.
It
may solve your wish but partially.

Regards
Pritpal Bedi
-- 
View this message in context:
http://www.nabble.com/Wvt_ChooseFont-return-incorrect-parameter-tp177770
56p17779983.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From druzus at acn.waw.pl  Wed Jun 11 12:23:04 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Jun 11 12:23:13 2008
Subject: [Harbour] 2008-06-11 18:22 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806111623.m5BGN47x024213@31-mo5-4.acn.waw.pl>

2008-06-11 18:22 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbdate.h
  * harbour/source/rtl/dates.c
    + added hb_dateUnformat() - code by David G. Holm extracted from CTOD()
    * updated copyright note to point original author of hb_dateFormat()
      and hb_dateUnformat()

  * harbour/source/rtl/dateshb.c
    * use hb_dateUnformat() in CTOD()

best regards
Przemek
From mbelgrano at deltain.it  Wed Jun 11 12:38:30 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jun 11 12:38:43 2008
Subject: [Harbour] (no subject)
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED30@SRV02.deltain.net>

Possible add to tests\vtext.prg  ?

STATIC FUNCTION DispScreen()
   CLS
   DispOutAt( 0,0,padc( 'Harbour GT - New Features', maxcol()+1 ),
'N/GR*' )
   ?"______  __             ______
________________"
   ?"___  / / /_____ __________  /___________  _________    __  ____/__
__/"
   ?"__  /_/ /_  __ `/_  ___/_  __ \  __ \  / / /_  ___/    _  / __ __
/   "
   ?"_  __  / / /_/ /_  /   _  /_/ / /_/ / /_/ /_  /        / /_/ / _  /
"
   ?"/_/ /_/  \__,_/ /_/    /_.___/\____/\__,_/ /_/         \____/  /_/
"
   DispOutAt( maxrow(),0,padc( '<F2 En MarkCopy> <F3 En Resize> <Click
Other Window> <Click X Button> <f11 Font>', maxcol()+1 ), 'N/G*' )

   RETURN NIL





Massimo Belgrano

From mbelgrano at deltain.it  Wed Jun 11 12:48:48 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jun 11 12:49:02 2008
Subject: [Harbour] How can i have correct line feed in mypost with outlook?
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED31@SRV02.deltain.net>

1How can i have correct line feed in mypost with outlook 2007? (msg of 8
row)
2H)    hh                 b)                                   G)gggg
T)tttttt 
3H)    hh                 b)                                  G)
T)    
4H)hhhhhh a)AAAA   r)RRR  b)BBBB   o)OOO  u)   UU  r)RRR     G)  ggg
T)    
5H)    hh  a)AAA  r)   RR b)   BB o)   OO u)   UU r)   RR    G)    gg
T)    
6H)    hh a)   A  r)      b)   BB o)   OO u)   UU r)          G)   gg
T)    
7H)    hh  a)AAAA r)      b)BBBB   o)OOO   u)UUU  r)           G)ggg
T)    
8Massimo Belgrano

From philb at philb.us  Wed Jun 11 12:50:38 2008
From: philb at philb.us (Phil Barnett)
Date: Wed Jun 11 12:50:42 2008
Subject: [Harbour] Mail archive frenzy
In-Reply-To: <A94D0F92-3793-4D50-85AF-0FDBD3733090@syenar.hu>
References: <71BC6722-81B5-4274-9A9E-4D3430C53B19@syenar.hu>
	<A94D0F92-3793-4D50-85AF-0FDBD3733090@syenar.hu>
Message-ID: <200806111250.38758.philb@philb.us>

On Tuesday 10 June 2008 05:58:55 pm Szak?ts Viktor wrote:

> May I suggest to choose one archival system and stick
> to it? I'd suggest to keep the native archive on
> lists.harbour-project.org, which is BTW also indexed
> by google.

I don't have a problem with lots of external archiving. We didn't request them 
and I'm not sure it's worth the effort to try to stop them. information wants 
to be free.

We have our mailing list archives here:
http://lists.harbour-project.org/pipermail/harbour/

I just added a request at Google to rescan that directory.

> Right now we have so many duplicate results, that it
> actually makes it _harder_ to find something using
> a search engine.

On Google, the site:harbour-project.org prefix can help.

-- 
Waiting for sunspots.
From harbour.01 at syenar.hu  Wed Jun 11 13:39:38 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 11 13:39:44 2008
Subject: [Harbour] 2008-06-11 19:19 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cbea$Blat.v2.6.2$1f487863$11505e330b0@127.0.0.1>

2008-06-11 19:19 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbgtinfo.ch
   * source/rtl/gtwvt/gtwvt.c
     ! Fixed stupid typo from me. This is why maximized size 
       didn't want to get right.
     ! Fixed to not reposition non-maximized windows while 
       resizing them and their top/left corner was off screen.
     ! Fixed to not allow font screen below a certain limit 
       (3x4 pixels). This fixes some of the more obvious cases 
       when window gets trashed.
     ! Fixed to not resize the windows when toggling the 
       resizing feature using HB_GTI_RESIZABLE.
     + Added to disable maximize icon after maximizing and 
       reenable it on the first resize attempt.
     - Removed TIMER related stuff as it's very difficult 
       (or impossible) to support on other platforms.
       Timer support could be added to hbw32.lib, though.
     * Some cleanups.
     ; Remaining TOFIXes:
       - Window trashing when settling on a size which 
         cannot be properly filled with the console. Try with 
         vertically or horizontally narrow window shapes.
       - Mark&Copy is still trashing when swapping directions 
         with the selection compared to the starting position.

   * tests/wvtext.prg
     ! Added missing SVN keywords properties.
     ! Added missing SVN eol property.
     ! Fixed to use the default font to have a more common 
       ground for testing.
     + Added markers to the corners to easily spot chopped 
       borders.

   * contrib/xhb/Makefile
   * contrib/xhb/common.mak
     - Removed some xhb specific non-standard headers from 
       the list of those getting installed to the Harbour central 
       include dir. Only hbcompat.ch, hbcompat.h and xhb.ch 
       goes now to the official include dir. After this change 
       has been merged with RC1, xhb.lib may be included in 
       the default build.
       [TOMERGE RC1]

   * contrib/hbw32/tests/testdll.prg
     + Added some more DLL calling samples.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun 11 13:49:17 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 11 13:49:22 2008
Subject: [Harbour] [RC1] 2008-06-11 19:39 UTC+0200 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8cbeb$Blat.v2.6.2$7832ca81$e646d8ea17c@127.0.0.1>

2008-06-11 19:39 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/xhb/Makefile
   * contrib/xhb/common.mak
     - Removed some xhb specific non-standard headers from 
       the list of those getting installed to the Harbour central 
       include dir. Only hbcompat.ch, hbcompat.h and xhb.ch 
       goes now to the official include dir. After this change 
       has been merged with RC1, xhb.lib may be included in 
       the default build.
       [RC1]

   * include/hbgtinfo.ch
     + Added comment to compatibility #defines, to not use 
       them, since they're deprecated.
       [RC1]

   * include/hbgfx.ch
   * include/hbgfxdef.ch
   * contrib/gtwvg/gtwvg.c
   * source/rtl/gtxwc/gtxwc.c
   * source/rtl/gtwvt/gtwvt.c
     * GFX_* constants renamed to HB_GFX_*. The old ones are 
       still working but it's recommended to update to use HB_GFX_*.
       #define HB_GT_NO_XHB to disable the compatibility #defines, 
       if it collides with your code or you want to test after 
       transition.
     ; [RC1]

   * source/rtl/dirdrive.c
     ! Guarded C53 undoc functions with HB_C52_UNDOC, which is enabled 
       so it won't make a difference in default builds.
     ; [RC1]

   * contrib/hbfbird/make_b32.bat
   * contrib/hbfbird/make_vc.bat
     * Fixed location where .libs are looked for.
       [RC1]

   * contrib/hbcurl/hbcurl.c
     % Minor cleanups.
       [RC1]

   * contrib/hbodbc/make_vc.bat
     ! Removed .dll -> .lib conversion for MSVC, 
       since the .lib is provided by the MS SDK anyway.
     ; [RC1]

   * contrib/hbcurl/hbcurl.c
   * contrib/hbcurl/hbcurl.ch
   * contrib/hbcurl/tests/ftp_uldl.prg
     ! Cleanup the rare case when curl_easy_init() returns NULL.
       Functions now always return the same type, even in case libcurl 
       failed to initialize.
     + Return values for above cases is now HB_CURLE_ERROR (== -1).
     ! CURL_*() passed pointers now are also checked for the pointer 
       type, and RTE is thrown if they are not HBCURL ones. So for 
       example in the very rare case when any hbcurl functions would 
       get passed a GC pointer returned by another API, an argument 
       error would be thrown now.
     ! CURL_ESCAPE()/CURL_UNESCAPE() fixed picked parameter ordinal.
     + CURL_ESCAPE()/CURL_UNESCAPE() added parameter checking.
     ; [RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun 11 13:50:08 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 11 13:50:12 2008
Subject: [Harbour] 2008-06-11 19:39 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cbeb$Blat.v2.6.2$9694014d$103434b17244@127.0.0.1>

2008-06-11 19:39 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * ChangeLog
     + Marked changes merged with RC1.
--
Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Wed Jun 11 13:59:18 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Jun 11 13:59:22 2008
Subject: [Harbour] Some more HB_GTI_ slots
In-Reply-To: <CEE7D7F3-2A65-4E30-9E2C-5CF945D91192@syenar.hu>
References: <17780103.post@talk.nabble.com>
	<9257026e0806110841n56e9e99uc5acb5c0ee3efa9b@mail.gmail.com>
	<CEE7D7F3-2A65-4E30-9E2C-5CF945D91192@syenar.hu>
Message-ID: <9257026e0806111059u40133810r8d4ebce3f6d1afeb@mail.gmail.com>

On Wed, Jun 11, 2008 at 5:54 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> It would be great if you could comment on the recent
> or planned features, I personally still only use Windows,
> so my overview of other platforms is slim, and it's
> sometime difficult to know how things are elsewhere.
> Your input is important.

As today ( I mean with a RC1 + local modifications ) the situation is
quite good for me.
I build the same SVN tree under Linux, Win ( msys/mingw ), Mac OS X
Leopard setting few envvars and a make_gnu.sh -s install.
Then I can develop my apps using one of the three env using hg
mercurial as VCS, gnu tools and EclipseCDT or vim.

> So let's say we start to rely on close-to-Windows
> feature x ("minimize to tray") and I port the app,
> in this case we should either develop this functionality
> on all other platforms, or drop it completely,
> otherwise it just ties some app level features
> to a platforms. And this is no good.

I don't follow the development of the "Win only" features ( like ole,
wvt, wvg ) since I implement only what's available on all the
platforms and all the GTs, so probably I've missed sth and I'm not
answering to your question but as I already said for me the
web/browser UI + SQL is the present and the ONLY future.

However since I think that many here like me have a lot of
test/dbf/custom code to convert we should see if we can agree on some
directions for Harbour 1.0+ to avoid such a "drastic" rewrite of the
apps.

best regards,
Lorenzo
From a.jurkiewicz at abix.info.pl  Wed Jun 11 14:39:43 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Wed Jun 11 14:39:53 2008
Subject: [Harbour] How can i have correct line feed in mypost with outlook?
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED31@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ED31@SRV02.deltain.net>
Message-ID: <200806112039.44109.a.jurkiewicz@abix.info.pl>

Dnia ?roda, 11 czerwca 2008, Massimo Belgrano napisa?:
> 1How can i have correct line feed in mypost with outlook 2007? (msg of 8
> row)
Maybe try to compress first the txt file to some zip archive and then attach 
it to email.
Some email clients convert DOS to UNIX and vce versa CR+LF without any 
information.

Best regards, 
Adam
-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
From e.m.giordano at emagsoftware.it  Wed Jun 11 14:44:42 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Jun 11 14:44:47 2008
Subject: [Harbour] Errors
Message-ID: <92A816EB3FA043E9ADD3B86A96BAA552@emag>

Error E2451 .\dllcall.c 753: Undefined symbol 'HB_PTR_DIFF' in function 
HB_FUN_DLLPREPARECALL
Error E2121 .\dllcall.c 753: Function call missing ) in function 
HB_FUN_DLLPREPARECALL

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From jarabal at ya.com  Wed Jun 11 15:05:36 2008
From: jarabal at ya.com (Javier)
Date: Wed Jun 11 15:06:02 2008
Subject: [Harbour] 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <B6022834-8A3A-4866-B0E0-5D8C180CF3D6@syenar.hu>
References: <01c8c891$Blat.v2.6.2$c42517bc$19c08d8bc010@127.0.0.1>	<484BEA96.40101@ya.com>	<FABECC9C-2B6B-4D9B-B5D7-8393A474E40F@syenar.hu>	<484C0D2F.7090509@ya.com>
	<B6022834-8A3A-4866-B0E0-5D8C180CF3D6@syenar.hu>
Message-ID: <48502200.10101@ya.com>

Ok Viktor, I do it.
Now support index & indirect arguments ANSI C99 .-

Local cName := "Bond", cCity := "Tokyo"
? _SPD( "Hi, I'm %01$s from %02$s.", cName, cCity ) // -> "Hi, I'm Bond 
from Tokyo"
? _SPD( "Hi, I'm from %02$s, my name is %01$s.", cName, cCity ) // -> 
"Hi, I'm from Tokyo, my name is Bond"

? _SPD( "Phi = %2$0*3$.*1$f", 10, (1 + 5**0.5) / 2, 13 ) // -> "Phi = 
01.6180339887"

Please, could you update the repository for me, I would be very grateful.
I understand that the provide of the successive versions they make 
easier understand the logic.
I think that the better name for the function would be Sprintf() but I 
believe that it is not my decision.

Thanks in advance.
Xavi

Szak?ts Viktor escribi?:
>> > cName := "Bond"; cCity := "Tokyo"
>> > _SPD( "Hi, I'm %#01s from %#02s.", cName, cCity ) -> "Hi, I'm Bond 
>> from Tokyo"
>> > _SPD( "Hi, I'm from %#02s, my name is %#01s.", cName, cCity ) -> 
>> "Hi, I'm from Tokyo, my name is Bond"
>>
>> This is TO DO, do you want do it?
>
> No thanks, I'm doing enough things with Harbour already,
> and I personally don't plan to use _SPD().
>
>> My problem is that I have limited time, as we all suppose. :)
>
> Yes, we all have limited time.
>
> Brgds,
> Viktor
>
>> In my case, the necessity of the function is mount SQL sentences in 
>> the same way that in C with some help.
>> New functionality or improvements in benefits are welcome: this is 
>> Open Source.
>> About the name I think it should be the Harbour's community who name, 
>> _SPD is just the name that I have given.
>>
>> Best regards
>> Xavi
>>
>> Szak?ts Viktor escribi?:
>>> Hi Javier,
>>>
>>> One more thing (well two).
>>>
>>> IMO to make this function more universal and even easier
>>> to use and update (and usable for someone needing it for
>>> translated text formatting), I think it would very
>>> nice if there would be a possibility to specify the
>>> _ordinals_ of those format strings:
>>>
>>> cName := "Bond"; cCity := "Tokyo"
>>> _SPD( "Hi, I'm %#01s from %#02s.", cName, cCity ) -> "Hi, I'm Bond 
>>> from Tokyo"
>>> _SPD( "Hi, I'm from %#02s, my name is %#01s.", cName, cCity ) -> 
>>> "Hi, I'm from Tokyo, my name is Bond"
>>>
>>> [ I seem to recall there is a standard way to achieve this
>>> in printf(), but I didn't find any specifics, so I might be
>>> wrong. ]
>>>
>>> To bring this to another level - but this is even more
>>> out of scope of this one function -, it would be great
>>> to have something where you can replace _named_ strings:
>>>
>>> _FILL( "INSERT INTO stuff ( stuff_ID, stuff_Name ) VALUES ( 
>>> %stuff_ID%, %stuff_Name% )",;
>>>   { "stuff_ID" => cStuff_ID, "stuff_Name" => cStuff_Name } )
>>>
>>> (or something along this line)
>>>
>>> This could be useful for a number of purposes. Basically
>>> a light form of template engine. Maybe it would be best
>>> to mimic some existing standards for the format strings.
>>>
>>> Brgds,
>>> Viktor
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
/*
 * Harbour Project source code:
 * _SPD() function
 *
 * Copyright 2008 Xavi <jarabal@gmail.com>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software; see the file COPYING.  If not, write to
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
 *
 * As a special exception, the Harbour Project gives permission for
 * additional uses of the text contained in its release of Harbour.
 *
 * The exception is that, if you link the Harbour libraries with other
 * files to produce an executable, this does not by itself cause the
 * resulting executable to be covered by the GNU General Public License.
 * Your use of that executable is in no way restricted on account of
 * linking the Harbour library code into it.
 *
 * This exception does not however invalidate any other reasons why
 * the executable file might be covered by the GNU General Public License.
 *
 * This exception applies only to the code released by the Harbour
 * Project under the name Harbour.  If you copy code from other
 * Harbour Project or Free Software Foundation releases into a copy of
 * Harbour, as the General Public License permits, the exception does
 * not apply to the code that you add in this way.  To avoid misleading
 * anyone as to the status of such modified files, you must delete
 * this exception notice from them.
 *
 * If you write modifications of your own for Harbour, it is your choice
 * whether to permit this exception to apply to your modifications.
 * If you do not wish that, delete this exception notice.
 *
 */

#include "hbapi.h"
#include "hbapiitm.h"
#include "hbapierr.h"
#include "hbdate.h"

static void STAItm( PHB_ITEM pItmPar )
{
   ULONG i, ulItmPar = hb_itemGetCLen( pItmPar );
   char *cRes, *c, *cItmPar = hb_itemGetCPtr( pItmPar );

   for( i = 3, c = cItmPar; *c; c++ ){
      if( *c == '\'' ) i++;   /* Count ' Tokens */
   }
   cRes = (char *)hb_xgrab( ulItmPar + i * sizeof(char) );
   i = 0; c = cItmPar; cRes[i++] = '\'';
   while( *c ){
      if( *c == '\'' ) cRes[i++] = '\'';
      cRes[i++] = *c++;
   }
   cRes[i++] = '\''; /* cRes[i] = '\0'; */
   hb_itemPutCPtr( pItmPar, cRes, i );
}

static ULONG SCItm( char *cBuffer, ULONG ulMaxBuf, char *cParFrm, int iCOut, int IsIndW, int iIndWidth, int IsIndP, int iIndPrec, PHB_ITEM pItmPar )
{
   ULONG s = 0;

   if( IsIndW && IsIndP ){
      switch( iCOut ){
      case 'p':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetPtr( pItmPar ) );
         break;
      case 's': case 'S':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetCPtr( pItmPar ) );
         break;
      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetND( pItmPar ) );
         break;
      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
      }
   }else if( IsIndW || IsIndP ){
      int iInd = (IsIndW ? iIndWidth : iIndPrec);

      switch( iCOut ){
      case 'p':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetPtr( pItmPar ) );
         break;
      case 's': case 'S':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetCPtr( pItmPar ) );
         break;
      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetND( pItmPar ) );
         break;
      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
      }
   }else{
      switch( iCOut ){
      case 'p':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetPtr( pItmPar ) );
         break;
      case 's': case 'S':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetCPtr( pItmPar ) );
         break;
      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetND( pItmPar ) );
         break;
      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
      }
   }
   return s;
}

/*******************************************************************************
* ANSI C sprintf() for ANSI SQL with DATE, DATETIME, LOGICAL, NIL, NUMERIC
* ------------------------------------------------------------------------
* cRes := _SPD( cFrm, ... )
* cFrm : %s for DATE = YYYY-MM-DD, DATETIME = YYYY-MM-DD HH:MM:SS
*        %t for DATE = 'YYYY-MM-DD', DATETIME = 'YYYY-MM-DD HH:MM:SS'
*        %t for STRING = 'String''s ANSI SQL'
*        %t & %s for LOGICAL = TRUE | FALSE, %d for LOGICAL = 1 | 0
*        %t & %s is also for NUMERIC with FIXED DECIMALS
*        NIL or HB_IT_NULL = NULL
*
* NOTE .-
* Remove C ESC sequences and converts them to Clipper chars in cRes.
*    OutStd( _SPD( 'Hello\nworld!' ) ) => like printf( "Hello\nworld!" );
* Accepts conversion inside if variable is passed by reference.
*    Local xDate := Date(); _SPD('%s', @xDate) => xDate == '2008-05-19'
* Support index & indirect arguments C99.
*    cRes := _SPD( "Phi = %2$0*3$.*1$f \n", 10, (1 + 5**0.5) / 2, 13 )
*******************************************************************************/

#define DK_INCRES 1024
#define DK_INCBUF 512
#define DK_BLKBUF HB_MAX_DOUBLE_LENGTH   /* Expense of DK_INCBUF */
#define DK_FRMTIM "HH:MM:SS"

HB_FUNC( _SPD )
{
   ULONG ulItmFrm;
   char *cRes, *cItmFrm;
   int argc = hb_pcount() - 1;
   PHB_ITEM pItmFrm = hb_param( 1, HB_IT_STRING );

   if( !pItmFrm || (cItmFrm = hb_itemGetCPtr( pItmFrm )) == NULL ){
      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, "_SPD", 1, hb_paramError( 1 ) );
   }else if( !(ulItmFrm = hb_itemGetCLen( pItmFrm )) ){
      hb_retclen( "", 0 );
   }else if( !argc ){
      cRes = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
      memcpy( cRes, cItmFrm, ulItmFrm + sizeof(char) );
      cRes = hb_strRemEscSeq( cRes, &ulItmFrm );
      hb_retclen_buffer( cRes, ulItmFrm );
   }else{
      PHB_ITEM pItmPar;
      char *cBuffer, *cParFrm, *c;
      int p, arg, iCOut, IsType, IsIndW, IsIndP, iIndWidth, iIndPrec, iErrorPar = 0;
      ULONG s, f, i, ulWidth, ulParPos = 0, ulResPos = 0, ulMaxBuf = DK_INCBUF, ulMaxRes = DK_INCRES;
      static char cToken[] = "stcdiouxXaAeEfgGpnSC";

      cRes = (char *)hb_xgrab( ulMaxRes );
      cBuffer = (char *)hb_xgrab( ulMaxBuf );
      cParFrm = (char *)hb_xgrab( ulItmFrm + sizeof(char) );

      for( p = 0; p < argc; /* Not p++ by support index & indirect arguments */ ){

         c = cItmFrm + ulParPos;
         f = i = ulWidth = arg = iCOut = IsType = IsIndW = iIndWidth = IsIndP = iIndPrec = 0;
         do{   /* Get Par Format */
            cParFrm[i++] = *c;
            if( f && *c == '%' ){
               f = ulWidth = IsIndW = IsIndP = 0;
            }else if( f && !ulWidth && *c >= '0' && *c <= '9' ){
               ulWidth = atol( c );
            }else if( f && *c == '.' ){
               if( f++ == 2 ) iErrorPar = 1;
            }else if( f && *c == '*' ){
               if( f == 2 ){
                  if( IsIndP ){
                     f = 3; iErrorPar = 1;
                  }else{
                     IsIndP = 1;
                  }
               }else if( !IsIndW ){
                  IsIndW = 1;
               }else{
                  f = 3; iErrorPar = 1;
               }
            }else if( f && *c == '$' ){
               if( ulWidth && IsIndP && !iIndPrec ){
                  iIndPrec = ulWidth;
                  iCOut = '*';
               }else if( ulWidth && IsIndW && !iIndWidth ){
                  iIndWidth = ulWidth;
                  ulWidth = 0; iCOut = '*';
               }else if( ulWidth && !arg ){
                  arg = ulWidth;
                  ulWidth = 0; iCOut = '%';
               }else{
                  f = 3; iErrorPar = 1;
               }
               while( i && cParFrm[--i] != iCOut );
               ++i; iCOut = 0;
            }else if( f && strchr(cToken, *c) ){
               f = 3; iCOut = *c;
            }else if( *c == '%' ){
               f = 1;
            }
            c++;
         }while( f < 3 && *c ); cParFrm[f = i] = '\0';
         if( iErrorPar ) break;

         if( iCOut == 't' ){
            if( cParFrm[f - 2] == '%' ){
               IsType = 1; iCOut = cParFrm[f - 1] = 's';
            }else{
               iErrorPar = 1; break;
            }
         }

         if( IsIndW  ){ /* Get Par Indirectly Width Item */
            pItmPar = hb_param( (iIndWidth ? iIndWidth + 1 :  p++ + 2), HB_IT_INTEGER );
            if( pItmPar ){
               if( (iIndWidth = hb_itemGetNI( pItmPar )) < 0 ){
                  ulWidth = -iIndWidth;
               }else{
                  ulWidth = iIndWidth;
               }
            }else{
               iErrorPar = 1; break;
            }
         }

         if( IsIndP ){  /* Get Par Indirectly Precision Item */
            pItmPar = hb_param( (iIndPrec ? iIndPrec + 1 :  p++ + 2), HB_IT_INTEGER );
            if( pItmPar ){
               iIndPrec = hb_itemGetNI( pItmPar );
            }else{
               iErrorPar = 1; break;
            }
         }

         if( !arg && *c && p == argc - 1 ){ /* No more Par Items */
            do{ cParFrm[i++] = *c; }while( *c++ ); i--;
         }  /* i == strlen(cParFrm) */

         pItmPar = hb_param( (arg ? arg + 1 :  p++ + 2), HB_IT_ANY );   /* Get Par Item */
         if( !pItmPar ){
            iErrorPar = 1; break;
         }

         if( !iCOut || iCOut == 'n' ){ /* Par Text Out */

            for( f = i, i = 0; i < f; i++ ){ /* Change %% with % */
               if( cParFrm[i] == '%' && cParFrm[i + 1] == '%' ){
                  memcpy( cParFrm + i, cParFrm + i + 1, f - i );
                  f--;
               }
            }  /* i == strlen(cParFrm) */
            if( iCOut ){
               for( f = 0; f < i; f++ ){  /* Erase %n */
                  if( cParFrm[f] == '%' && cParFrm[f + 1] == 'n' ){
                     memcpy( cParFrm + f, cParFrm + f + 2, i - f - 1 );
                     break;
                  }
               }  /* f == Index % of n */
               if( f < i ){
                  i -= 2;  /* i == strlen(cParFrm) */
                  hb_itemPutNL( pItmPar, ulResPos + f );
               }else{
                  iErrorPar = 1; break;
               }
            }
            if( (f = i + sizeof(char)) > ulMaxBuf ){
               ulMaxBuf += f + DK_INCBUF;
               cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
            }
            strcpy( cBuffer, cParFrm ); s = i;

         }else{   /* Par Item sprintf() Out */

#        ifdef HB_IT_NULL
            if( (HB_IS_NIL( pItmPar ) || HB_IS_NULL( pItmPar )) ){
#        else
            if( HB_IS_NIL( pItmPar ) ){
#        endif
               ulWidth = f; IsIndW = IsIndP = 0;
               while( cParFrm[--f] != '%' );
               iCOut = cParFrm[f + 1] = 's'; /* Change format with %s */
               memcpy( cParFrm + f + 2, cParFrm + ulWidth, i - ulWidth + 1 );
               i -= ulWidth - f - 2;   /* i == strlen(cParFrm) */
               if( (f = i + 5) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;   /* size of "NULL" == 5 */
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               hb_itemPutCL( pItmPar, "NULL", 4 );
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );

            }else if( HB_IS_STRING( pItmPar ) && (iCOut == 's' || iCOut == 'S') ){
               if( IsType ) STAItm( pItmPar );
               f = hb_itemGetCLen( pItmPar );
               if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );

            }else if( HB_IS_DATE( pItmPar ) && iCOut == 's' ){
               char cDTBuf[ 19 ], cDTFrm[ 28 ]; /* 26 + 2 if %t and change format time */

#           ifdef __XHARBOUR__
               if( HB_IS_DATETIME( pItmPar ) ){
                  hb_datetimeFormat( hb_itemGetDTS( pItmPar, cDTBuf ), cDTFrm, "YYYY-MM-DD", DK_FRMTIM );
               }else
#           endif
                  hb_dateFormat( hb_itemGetDS( pItmPar, cDTBuf ), cDTFrm, "YYYY-MM-DD" );

               if( (f = i + HB_MAX(ulWidth, 28)) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               hb_itemPutC( pItmPar, cDTFrm );
               if( IsType ) STAItm( pItmPar );
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );

            }else if( HB_IS_LOGICAL( pItmPar ) ){
               if( (f = i + (iCOut == 's' ? HB_MAX(ulWidth, 6) : HB_MAX(ulWidth, DK_BLKBUF))) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;   /* size of "FALSE" == 6 */
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               if( iCOut == 's' ){
                  hb_itemPutC( pItmPar, (hb_itemGetL( pItmPar ) ? "TRUE" : "FALSE") );
               }
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );

            }else if( iCOut == 's' ){
               char *cTrimStr, *cStr = hb_itemStr( pItmPar, NULL, NULL );

               if( cStr ){
                  f = strlen( cStr ); cTrimStr = hb_strLTrim( cStr, &f );
                  if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
                     ulMaxBuf += f + DK_INCBUF;
                     cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
                  }
                  hb_itemPutCL( pItmPar, cTrimStr, f );
                  s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );
                  hb_xfree( cStr );
               }else{
                  iErrorPar = p + 2; break;
               }

            }else if( HB_IS_NUMERIC( pItmPar ) || HB_IS_POINTER( pItmPar ) ){
               if( (f = i + HB_MAX(ulWidth, DK_BLKBUF)) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );

            }else{
               iErrorPar = p + 2; break;
            }
         }

         if( (f = s + ulResPos + sizeof(char)) > ulMaxRes ){
            ulMaxRes += f + DK_INCRES;
            cRes = (char *)hb_xrealloc( cRes, ulMaxRes );
         }
         strcpy( cRes + ulResPos, cBuffer ); ulResPos += s;

         if( (ulParPos = c - cItmFrm) >= ulItmFrm ){
            break;   /* No more Par Format */
         }
      }
      hb_xfree( cParFrm ); hb_xfree( cBuffer );
      if( iErrorPar ){
         hb_xfree( cRes );
         if( iErrorPar > 1 ){
            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, "_SPD", 2, hb_paramError( 1 ), hb_paramError( iErrorPar ) );
         }else{
            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, "_SPD", 1, hb_paramError( 1 ) );
         }
      }else{
         cRes = hb_strRemEscSeq( cRes, &ulResPos );
         hb_retclen_buffer( cRes, ulResPos );
      }
   }
}
/* END */

From bedipritpal at hotmail.com  Wed Jun 11 15:39:38 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jun 11 15:39:42 2008
Subject: [Harbour] 2008-06-11 12:30 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <17785552.post@talk.nabble.com>


2008-06-11 12:30 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
   * harbour/source/rtl/gtwvt/gtwvt.c
   * harbour/source/rtl/gtwvt/gtwvt.h
   * harbour/include/hbgtinfo.ch
     + Added HB_GTI_CLOSABLE
       Hb_GtInfo( HB_GTI_CLOSABLE, TRUE|FALSE ) -> lPrevState
       TRUE enables the "X" button, FALSE disbles it.
     + Added functionality to respond to WM_CLOSE message. 
       If application returns 1 then application is exited.
    
   * harbour/tests/wvtext.prg
     + Added functionality to demonstrate above feature.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-11-12%3A30-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17785552p17785552.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Jun 11 16:22:59 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 11 16:24:07 2008
Subject: [Harbour] 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <48502200.10101@ya.com>
References: <01c8c891$Blat.v2.6.2$c42517bc$19c08d8bc010@127.0.0.1>	<484BEA96.40101@ya.com>	<FABECC9C-2B6B-4D9B-B5D7-8393A474E40F@syenar.hu>	<484C0D2F.7090509@ya.com>
	<B6022834-8A3A-4866-B0E0-5D8C180CF3D6@syenar.hu>
	<48502200.10101@ya.com>
Message-ID: <E3B15135-601A-4356-88A8-E3828DA7002F@syenar.hu>

Hi Javier,

Thanks a bunch for your update. I'll commit it ASAP.

As for a name I'd suggest LIBC_SPRINTF() or C_SPRINTF(),
maybe HB_SPRINTF() as alternatives.

Votes, suggestions and opinions are welcome.

Brgds,
Viktor

On 2008.06.11., at 21:05, Javier wrote:

> Ok Viktor, I do it.
> Now support index & indirect arguments ANSI C99 .-
>
> Local cName := "Bond", cCity := "Tokyo"
> ? _SPD( "Hi, I'm %01$s from %02$s.", cName, cCity ) // -> "Hi, I'm  
> Bond from Tokyo"
> ? _SPD( "Hi, I'm from %02$s, my name is %01$s.", cName, cCity ) // - 
> > "Hi, I'm from Tokyo, my name is Bond"
>
> ? _SPD( "Phi = %2$0*3$.*1$f", 10, (1 + 5**0.5) / 2, 13 ) // -> "Phi  
> = 01.6180339887"
>
> Please, could you update the repository for me, I would be very  
> grateful.
> I understand that the provide of the successive versions they make  
> easier understand the logic.
> I think that the better name for the function would be Sprintf() but  
> I believe that it is not my decision.
>
> Thanks in advance.
> Xavi
>
> Szak?ts Viktor escribi?:
>>> > cName := "Bond"; cCity := "Tokyo"
>>> > _SPD( "Hi, I'm %#01s from %#02s.", cName, cCity ) -> "Hi, I'm  
>>> Bond from Tokyo"
>>> > _SPD( "Hi, I'm from %#02s, my name is %#01s.", cName, cCity ) ->  
>>> "Hi, I'm from Tokyo, my name is Bond"
>>>
>>> This is TO DO, do you want do it?
>>
>> No thanks, I'm doing enough things with Harbour already,
>> and I personally don't plan to use _SPD().
>>
>>> My problem is that I have limited time, as we all suppose. :)
>>
>> Yes, we all have limited time.
>>
>> Brgds,
>> Viktor
>>
>>> In my case, the necessity of the function is mount SQL sentences  
>>> in the same way that in C with some help.
>>> New functionality or improvements in benefits are welcome: this is  
>>> Open Source.
>>> About the name I think it should be the Harbour's community who  
>>> name, _SPD is just the name that I have given.
>>>
>>> Best regards
>>> Xavi
>>>
>>> Szak?ts Viktor escribi?:
>>>> Hi Javier,
>>>>
>>>> One more thing (well two).
>>>>
>>>> IMO to make this function more universal and even easier
>>>> to use and update (and usable for someone needing it for
>>>> translated text formatting), I think it would very
>>>> nice if there would be a possibility to specify the
>>>> _ordinals_ of those format strings:
>>>>
>>>> cName := "Bond"; cCity := "Tokyo"
>>>> _SPD( "Hi, I'm %#01s from %#02s.", cName, cCity ) -> "Hi, I'm  
>>>> Bond from Tokyo"
>>>> _SPD( "Hi, I'm from %#02s, my name is %#01s.", cName, cCity ) ->  
>>>> "Hi, I'm from Tokyo, my name is Bond"
>>>>
>>>> [ I seem to recall there is a standard way to achieve this
>>>> in printf(), but I didn't find any specifics, so I might be
>>>> wrong. ]
>>>>
>>>> To bring this to another level - but this is even more
>>>> out of scope of this one function -, it would be great
>>>> to have something where you can replace _named_ strings:
>>>>
>>>> _FILL( "INSERT INTO stuff ( stuff_ID, stuff_Name ) VALUES  
>>>> ( %stuff_ID%, %stuff_Name% )",;
>>>>  { "stuff_ID" => cStuff_ID, "stuff_Name" => cStuff_Name } )
>>>>
>>>> (or something along this line)
>>>>
>>>> This could be useful for a number of purposes. Basically
>>>> a light form of template engine. Maybe it would be best
>>>> to mimic some existing standards for the format strings.
>>>>
>>>> Brgds,
>>>> Viktor
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> /*
> * Harbour Project source code:
> * _SPD() function
> *
> * Copyright 2008 Xavi <jarabal@gmail.com>
> *
> * This program is free software; you can redistribute it and/or modify
> * it under the terms of the GNU General Public License as published by
> * the Free Software Foundation; either version 2, or (at your option)
> * any later version.
> *
> * This program is distributed in the hope that it will be useful,
> * but WITHOUT ANY WARRANTY; without even the implied warranty of
> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
> * GNU General Public License for more details.
> *
> * You should have received a copy of the GNU General Public License
> * along with this software; see the file COPYING.  If not, write to
> * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
> * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/) 
> .
> *
> * As a special exception, the Harbour Project gives permission for
> * additional uses of the text contained in its release of Harbour.
> *
> * The exception is that, if you link the Harbour libraries with other
> * files to produce an executable, this does not by itself cause the
> * resulting executable to be covered by the GNU General Public  
> License.
> * Your use of that executable is in no way restricted on account of
> * linking the Harbour library code into it.
> *
> * This exception does not however invalidate any other reasons why
> * the executable file might be covered by the GNU General Public  
> License.
> *
> * This exception applies only to the code released by the Harbour
> * Project under the name Harbour.  If you copy code from other
> * Harbour Project or Free Software Foundation releases into a copy of
> * Harbour, as the General Public License permits, the exception does
> * not apply to the code that you add in this way.  To avoid misleading
> * anyone as to the status of such modified files, you must delete
> * this exception notice from them.
> *
> * If you write modifications of your own for Harbour, it is your  
> choice
> * whether to permit this exception to apply to your modifications.
> * If you do not wish that, delete this exception notice.
> *
> */
>
> #include "hbapi.h"
> #include "hbapiitm.h"
> #include "hbapierr.h"
> #include "hbdate.h"
>
> static void STAItm( PHB_ITEM pItmPar )
> {
>   ULONG i, ulItmPar = hb_itemGetCLen( pItmPar );
>   char *cRes, *c, *cItmPar = hb_itemGetCPtr( pItmPar );
>
>   for( i = 3, c = cItmPar; *c; c++ ){
>      if( *c == '\'' ) i++;   /* Count ' Tokens */
>   }
>   cRes = (char *)hb_xgrab( ulItmPar + i * sizeof(char) );
>   i = 0; c = cItmPar; cRes[i++] = '\'';
>   while( *c ){
>      if( *c == '\'' ) cRes[i++] = '\'';
>      cRes[i++] = *c++;
>   }
>   cRes[i++] = '\''; /* cRes[i] = '\0'; */
>   hb_itemPutCPtr( pItmPar, cRes, i );
> }
>
> static ULONG SCItm( char *cBuffer, ULONG ulMaxBuf, char *cParFrm,  
> int iCOut, int IsIndW, int iIndWidth, int IsIndP, int iIndPrec,  
> PHB_ITEM pItmPar )
> {
>   ULONG s = 0;
>
>   if( IsIndW && IsIndP ){
>      switch( iCOut ){
>      case 'p':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth,  
> iIndPrec, hb_itemGetPtr( pItmPar ) );
>         break;
>      case 's': case 'S':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth,  
> iIndPrec, hb_itemGetCPtr( pItmPar ) );
>         break;
>      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a':  
> case 'A':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth,  
> iIndPrec, hb_itemGetND( pItmPar ) );
>         break;
>      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u':  
> case 'x': case 'X':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth,  
> iIndPrec, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) :  
> hb_itemGetNI( pItmPar )) );
>      }
>   }else if( IsIndW || IsIndP ){
>      int iInd = (IsIndW ? iIndWidth : iIndPrec);
>
>      switch( iCOut ){
>      case 'p':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd,  
> hb_itemGetPtr( pItmPar ) );
>         break;
>      case 's': case 'S':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd,  
> hb_itemGetCPtr( pItmPar ) );
>         break;
>      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a':  
> case 'A':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd,  
> hb_itemGetND( pItmPar ) );
>         break;
>      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u':  
> case 'x': case 'X':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd,  
> (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) :  
> hb_itemGetNI( pItmPar )) );
>      }
>   }else{
>      switch( iCOut ){
>      case 'p':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm,  
> hb_itemGetPtr( pItmPar ) );
>         break;
>      case 's': case 'S':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm,  
> hb_itemGetCPtr( pItmPar ) );
>         break;
>      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a':  
> case 'A':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm,  
> hb_itemGetND( pItmPar ) );
>         break;
>      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u':  
> case 'x': case 'X':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm,  
> (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) :  
> hb_itemGetNI( pItmPar )) );
>      }
>   }
>   return s;
> }
>
> / 
> *******************************************************************************
> * ANSI C sprintf() for ANSI SQL with DATE, DATETIME, LOGICAL, NIL,  
> NUMERIC
> *  
> ------------------------------------------------------------------------
> * cRes := _SPD( cFrm, ... )
> * cFrm : %s for DATE = YYYY-MM-DD, DATETIME = YYYY-MM-DD HH:MM:SS
> *        %t for DATE = 'YYYY-MM-DD', DATETIME = 'YYYY-MM-DD HH:MM:SS'
> *        %t for STRING = 'String''s ANSI SQL'
> *        %t & %s for LOGICAL = TRUE | FALSE, %d for LOGICAL = 1 | 0
> *        %t & %s is also for NUMERIC with FIXED DECIMALS
> *        NIL or HB_IT_NULL = NULL
> *
> * NOTE .-
> * Remove C ESC sequences and converts them to Clipper chars in cRes.
> *    OutStd( _SPD( 'Hello\nworld!' ) ) => like printf( "Hello 
> \nworld!" );
> * Accepts conversion inside if variable is passed by reference.
> *    Local xDate := Date(); _SPD('%s', @xDate) => xDate ==  
> '2008-05-19'
> * Support index & indirect arguments C99.
> *    cRes := _SPD( "Phi = %2$0*3$.*1$f \n", 10, (1 + 5**0.5) / 2, 13 )
> *******************************************************************************/
>
> #define DK_INCRES 1024
> #define DK_INCBUF 512
> #define DK_BLKBUF HB_MAX_DOUBLE_LENGTH   /* Expense of DK_INCBUF */
> #define DK_FRMTIM "HH:MM:SS"
>
> HB_FUNC( _SPD )
> {
>   ULONG ulItmFrm;
>   char *cRes, *cItmFrm;
>   int argc = hb_pcount() - 1;
>   PHB_ITEM pItmFrm = hb_param( 1, HB_IT_STRING );
>
>   if( !pItmFrm || (cItmFrm = hb_itemGetCPtr( pItmFrm )) == NULL ){
>      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, "_SPD", 1,  
> hb_paramError( 1 ) );
>   }else if( !(ulItmFrm = hb_itemGetCLen( pItmFrm )) ){
>      hb_retclen( "", 0 );
>   }else if( !argc ){
>      cRes = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
>      memcpy( cRes, cItmFrm, ulItmFrm + sizeof(char) );
>      cRes = hb_strRemEscSeq( cRes, &ulItmFrm );
>      hb_retclen_buffer( cRes, ulItmFrm );
>   }else{
>      PHB_ITEM pItmPar;
>      char *cBuffer, *cParFrm, *c;
>      int p, arg, iCOut, IsType, IsIndW, IsIndP, iIndWidth, iIndPrec,  
> iErrorPar = 0;
>      ULONG s, f, i, ulWidth, ulParPos = 0, ulResPos = 0, ulMaxBuf =  
> DK_INCBUF, ulMaxRes = DK_INCRES;
>      static char cToken[] = "stcdiouxXaAeEfgGpnSC";
>
>      cRes = (char *)hb_xgrab( ulMaxRes );
>      cBuffer = (char *)hb_xgrab( ulMaxBuf );
>      cParFrm = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
>
>      for( p = 0; p < argc; /* Not p++ by support index & indirect  
> arguments */ ){
>
>         c = cItmFrm + ulParPos;
>         f = i = ulWidth = arg = iCOut = IsType = IsIndW = iIndWidth  
> = IsIndP = iIndPrec = 0;
>         do{   /* Get Par Format */
>            cParFrm[i++] = *c;
>            if( f && *c == '%' ){
>               f = ulWidth = IsIndW = IsIndP = 0;
>            }else if( f && !ulWidth && *c >= '0' && *c <= '9' ){
>               ulWidth = atol( c );
>            }else if( f && *c == '.' ){
>               if( f++ == 2 ) iErrorPar = 1;
>            }else if( f && *c == '*' ){
>               if( f == 2 ){
>                  if( IsIndP ){
>                     f = 3; iErrorPar = 1;
>                  }else{
>                     IsIndP = 1;
>                  }
>               }else if( !IsIndW ){
>                  IsIndW = 1;
>               }else{
>                  f = 3; iErrorPar = 1;
>               }
>            }else if( f && *c == '$' ){
>               if( ulWidth && IsIndP && !iIndPrec ){
>                  iIndPrec = ulWidth;
>                  iCOut = '*';
>               }else if( ulWidth && IsIndW && !iIndWidth ){
>                  iIndWidth = ulWidth;
>                  ulWidth = 0; iCOut = '*';
>               }else if( ulWidth && !arg ){
>                  arg = ulWidth;
>                  ulWidth = 0; iCOut = '%';
>               }else{
>                  f = 3; iErrorPar = 1;
>               }
>               while( i && cParFrm[--i] != iCOut );
>               ++i; iCOut = 0;
>            }else if( f && strchr(cToken, *c) ){
>               f = 3; iCOut = *c;
>            }else if( *c == '%' ){
>               f = 1;
>            }
>            c++;
>         }while( f < 3 && *c ); cParFrm[f = i] = '\0';
>         if( iErrorPar ) break;
>
>         if( iCOut == 't' ){
>            if( cParFrm[f - 2] == '%' ){
>               IsType = 1; iCOut = cParFrm[f - 1] = 's';
>            }else{
>               iErrorPar = 1; break;
>            }
>         }
>
>         if( IsIndW  ){ /* Get Par Indirectly Width Item */
>            pItmPar = hb_param( (iIndWidth ? iIndWidth + 1 :  p++ +  
> 2), HB_IT_INTEGER );
>            if( pItmPar ){
>               if( (iIndWidth = hb_itemGetNI( pItmPar )) < 0 ){
>                  ulWidth = -iIndWidth;
>               }else{
>                  ulWidth = iIndWidth;
>               }
>            }else{
>               iErrorPar = 1; break;
>            }
>         }
>
>         if( IsIndP ){  /* Get Par Indirectly Precision Item */
>            pItmPar = hb_param( (iIndPrec ? iIndPrec + 1 :  p++ + 2),  
> HB_IT_INTEGER );
>            if( pItmPar ){
>               iIndPrec = hb_itemGetNI( pItmPar );
>            }else{
>               iErrorPar = 1; break;
>            }
>         }
>
>         if( !arg && *c && p == argc - 1 ){ /* No more Par Items */
>            do{ cParFrm[i++] = *c; }while( *c++ ); i--;
>         }  /* i == strlen(cParFrm) */
>
>         pItmPar = hb_param( (arg ? arg + 1 :  p++ + 2),  
> HB_IT_ANY );   /* Get Par Item */
>         if( !pItmPar ){
>            iErrorPar = 1; break;
>         }
>
>         if( !iCOut || iCOut == 'n' ){ /* Par Text Out */
>
>            for( f = i, i = 0; i < f; i++ ){ /* Change %% with % */
>               if( cParFrm[i] == '%' && cParFrm[i + 1] == '%' ){
>                  memcpy( cParFrm + i, cParFrm + i + 1, f - i );
>                  f--;
>               }
>            }  /* i == strlen(cParFrm) */
>            if( iCOut ){
>               for( f = 0; f < i; f++ ){  /* Erase %n */
>                  if( cParFrm[f] == '%' && cParFrm[f + 1] == 'n' ){
>                     memcpy( cParFrm + f, cParFrm + f + 2, i - f - 1 );
>                     break;
>                  }
>               }  /* f == Index % of n */
>               if( f < i ){
>                  i -= 2;  /* i == strlen(cParFrm) */
>                  hb_itemPutNL( pItmPar, ulResPos + f );
>               }else{
>                  iErrorPar = 1; break;
>               }
>            }
>            if( (f = i + sizeof(char)) > ulMaxBuf ){
>               ulMaxBuf += f + DK_INCBUF;
>               cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>            }
>            strcpy( cBuffer, cParFrm ); s = i;
>
>         }else{   /* Par Item sprintf() Out */
>
> #        ifdef HB_IT_NULL
>            if( (HB_IS_NIL( pItmPar ) || HB_IS_NULL( pItmPar )) ){
> #        else
>            if( HB_IS_NIL( pItmPar ) ){
> #        endif
>               ulWidth = f; IsIndW = IsIndP = 0;
>               while( cParFrm[--f] != '%' );
>               iCOut = cParFrm[f + 1] = 's'; /* Change format with %s  
> */
>               memcpy( cParFrm + f + 2, cParFrm + ulWidth, i -  
> ulWidth + 1 );
>               i -= ulWidth - f - 2;   /* i == strlen(cParFrm) */
>               if( (f = i + 5) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;   /* size of "NULL" == 5  
> */
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               hb_itemPutCL( pItmPar, "NULL", 4 );
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else if( HB_IS_STRING( pItmPar ) && (iCOut == 's' ||  
> iCOut == 'S') ){
>               if( IsType ) STAItm( pItmPar );
>               f = hb_itemGetCLen( pItmPar );
>               if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else if( HB_IS_DATE( pItmPar ) && iCOut == 's' ){
>               char cDTBuf[ 19 ], cDTFrm[ 28 ]; /* 26 + 2 if %t and  
> change format time */
>
> #           ifdef __XHARBOUR__
>               if( HB_IS_DATETIME( pItmPar ) ){
>                  hb_datetimeFormat( hb_itemGetDTS( pItmPar,  
> cDTBuf ), cDTFrm, "YYYY-MM-DD", DK_FRMTIM );
>               }else
> #           endif
>                  hb_dateFormat( hb_itemGetDS( pItmPar, cDTBuf ),  
> cDTFrm, "YYYY-MM-DD" );
>
>               if( (f = i + HB_MAX(ulWidth, 28)) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               hb_itemPutC( pItmPar, cDTFrm );
>               if( IsType ) STAItm( pItmPar );
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else if( HB_IS_LOGICAL( pItmPar ) ){
>               if( (f = i + (iCOut == 's' ? HB_MAX(ulWidth, 6) :  
> HB_MAX(ulWidth, DK_BLKBUF))) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;   /* size of "FALSE" ==  
> 6 */
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               if( iCOut == 's' ){
>                  hb_itemPutC( pItmPar, (hb_itemGetL( pItmPar ) ?  
> "TRUE" : "FALSE") );
>               }
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else if( iCOut == 's' ){
>               char *cTrimStr, *cStr = hb_itemStr( pItmPar, NULL,  
> NULL );
>
>               if( cStr ){
>                  f = strlen( cStr ); cTrimStr = hb_strLTrim( cStr,  
> &f );
>                  if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
>                     ulMaxBuf += f + DK_INCBUF;
>                     cBuffer = (char *)hb_xrealloc( cBuffer,  
> ulMaxBuf );
>                  }
>                  hb_itemPutCL( pItmPar, cTrimStr, f );
>                  s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut,  
> IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );
>                  hb_xfree( cStr );
>               }else{
>                  iErrorPar = p + 2; break;
>               }
>
>            }else if( HB_IS_NUMERIC( pItmPar ) ||  
> HB_IS_POINTER( pItmPar ) ){
>               if( (f = i + HB_MAX(ulWidth, DK_BLKBUF)) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else{
>               iErrorPar = p + 2; break;
>            }
>         }
>
>         if( (f = s + ulResPos + sizeof(char)) > ulMaxRes ){
>            ulMaxRes += f + DK_INCRES;
>            cRes = (char *)hb_xrealloc( cRes, ulMaxRes );
>         }
>         strcpy( cRes + ulResPos, cBuffer ); ulResPos += s;
>
>         if( (ulParPos = c - cItmFrm) >= ulItmFrm ){
>            break;   /* No more Par Format */
>         }
>      }
>      hb_xfree( cParFrm ); hb_xfree( cBuffer );
>      if( iErrorPar ){
>         hb_xfree( cRes );
>         if( iErrorPar > 1 ){
>            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, "_SPD", 2,  
> hb_paramError( 1 ), hb_paramError( iErrorPar ) );
>         }else{
>            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, "_SPD", 1,  
> hb_paramError( 1 ) );
>         }
>      }else{
>         cRes = hb_strRemEscSeq( cRes, &ulResPos );
>         hb_retclen_buffer( cRes, ulResPos );
>      }
>   }
> }
> /* END */
>

From bedipritpal at hotmail.com  Wed Jun 11 16:27:23 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jun 11 16:27:26 2008
Subject: [Harbour] 2008-06-11 13:30 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <17786520.post@talk.nabble.com>


2008-06-11 13:30 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
   * harbour/tests/wvtext.prg
     + Added Massimo's contribution.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-11-13%3A30-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17786520p17786520.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Wed Jun 11 16:28:34 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jun 11 16:28:39 2008
Subject: [Harbour] (no subject)
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED30@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ED30@SRV02.deltain.net>
Message-ID: <17786543.post@talk.nabble.com>


Massimo


Massimo Belgrano-3 wrote:
> 
>    ?"______  __             ______
> ________________"
>    ?"___  / / /_____ __________  /___________  _________    __  ____/__
> __/"
>    ?"__  /_/ /_  __ `/_  ___/_  __ \  __ \  / / /_  ___/    _  / __ __
> /   "
>    ?"_  __  / / /_/ /_  /   _  /_/ / /_/ / /_/ /_  /        / /_/ / _  /
> "
>    ?"/_/ /_/  \__,_/ /_/    /_.___/\____/\__,_/ /_/         \____/  /_/
> "
> 

Done and thanks.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/%28no-subject%29-tp17782129p17786543.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From a.jurkiewicz at abix.info.pl  Wed Jun 11 16:32:55 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Wed Jun 11 16:33:04 2008
Subject: [Harbour] Web site in Polish
Message-ID: <200806112232.55334.a.jurkiewicz@abix.info.pl>

Dears,
I'm writing presentation about Harbour and Ive found on main page link to 
polish version: http://www.harbour.pl.eu.org/
This site is still Under Construction ... and is not in DNS system.
Can anyone tell me, who is responsible for it ?
I would like to make something for Harbour Project, and think that making 
Polish version of site would be good point to start.

Best regards,
Adam
-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
From harbour.01 at syenar.hu  Wed Jun 11 17:00:45 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 11 17:01:46 2008
Subject: [Harbour] Window updates vs. long Harbour processes
Message-ID: <28DABC0A-321D-4F24-8266-725E3F2C11B7@syenar.hu>

Hi all,

There is a problem when an application is calling
a process which takes a long time, and doesn't
involve screen activity or user input processing.
(aka the code does't return to the HVM loop for a
longer time). Like a dbSetFilter() or dbPack() call
on a large table, or indexing without a progress
callback.

While Harbour is doing the processing, the GTWVT
window doesn't get refreshed, so the content
is pure blank if minimizing and restoring the
window. It also doesn't react to any system inputs.

Maybe other GTs are affected too.

I think we should have an idle call processing
ability built into the GTs. This call may be
called by some generic idle processing functions
in Harbour, and finally this function would need
to be called regularly by these time-consuming
Harbour functions.

Or maybe something completely different, but
the goal is given.

Opinions, suggestion?

Brgds,
Viktor

From bedipritpal at hotmail.com  Wed Jun 11 17:31:20 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jun 11 17:31:23 2008
Subject: [Harbour] Window updates vs. long Harbour processes
In-Reply-To: <28DABC0A-321D-4F24-8266-725E3F2C11B7@syenar.hu>
References: <28DABC0A-321D-4F24-8266-725E3F2C11B7@syenar.hu>
Message-ID: <17787715.post@talk.nabble.com>


Hello Viktor


Szak?ts Viktor wrote:
> 
> While Harbour is doing the processing, the GTWVT
> window doesn't get refreshed, so the content
> is pure blank if minimizing and restoring the
> window. It also doesn't react to any system inputs.
> 

You just catched my thoughts, just.

One way, specific to GTWVT, is to implement a timer 
with unique id whose sole function is to refresh the window.
Because though this is not desirable under all circumstances,
can be a starting point for thoughts.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Window-updates-vs.-long-Harbour-processes-tp17787182p17787715.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From rportnoff at spendmap.com  Wed Jun 11 17:36:40 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Wed Jun 11 17:35:31 2008
Subject: [Harbour] Window updates vs. long Harbour processes
In-Reply-To: <17787715.post@talk.nabble.com>
References: <28DABC0A-321D-4F24-8266-725E3F2C11B7@syenar.hu>
	<17787715.post@talk.nabble.com>
Message-ID: <B0081155147@ms1.3peaks.com>

Hi Pritpal,

I don't think a timer (on the current thread) 
will work. In many cases, the process consumes 
all the resources of the current thread so a 
timer event would not fire until the process was 
complete. Therefore, I think to accomplish this, 
a second thread would need to be started that 
could have a timer associated with it.

Randy.


At 05:31 PM 6/11/2008, you wrote:

>Hello Viktor
>
>
>Szak??ts Viktor wrote:
> >
> > While Harbour is doing the processing, the GTWVT
> > window doesn't get refreshed, so the content
> > is pure blank if minimizing and restoring the
> > window. It also doesn't react to any system inputs.
> >
>
>You just catched my thoughts, just.
>
>One way, specific to GTWVT, is to implement a timer
>with unique id whose sole function is to refresh the window.
>Because though this is not desirable under all circumstances,
>can be a starting point for thoughts.
>
>Regards
>Pritpal Bedi
>
>--
>View this message in context: 
>http://www.nabble.com/Window-updates-vs.-long-Harbour-processes-tp17787182p17787715.html
>Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From bedipritpal at hotmail.com  Wed Jun 11 17:39:39 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jun 11 17:39:42 2008
Subject: [Harbour] Some more HB_GTI_ slots
In-Reply-To: <9257026e0806110841n56e9e99uc5acb5c0ee3efa9b@mail.gmail.com>
References: <17780103.post@talk.nabble.com>
	<9257026e0806110841n56e9e99uc5acb5c0ee3efa9b@mail.gmail.com>
Message-ID: <17787868.post@talk.nabble.com>


Hello Lorenzo

> Another thing that I'd like to see in both gtwvt adnd gtxwc is the
> "palette management".

Can you explain how tou would like to implement this functionality.
It is available in GTWVG but am not sure what you are looking for.

>Today I've changed the #define.

Viktor snsed what you meant. I could not. Can you explain a little?

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/Some-more-HB_GTI_-slots-tp17780103p17787868.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Jun 11 17:45:33 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 11 17:46:39 2008
Subject: [Harbour] Window updates vs. long Harbour processes
In-Reply-To: <B0081155147@ms1.3peaks.com>
References: <28DABC0A-321D-4F24-8266-725E3F2C11B7@syenar.hu>
	<17787715.post@talk.nabble.com> <B0081155147@ms1.3peaks.com>
Message-ID: <433FA909-8F2E-40FD-9CA9-9C76BAC171C6@syenar.hu>

Threads can be a solution if all Windows platforms
(including all WinCE platforms) support it, but still
only for Windows.

We should also think about GTXWC, and maybe even
future GTs, so I think we need to look for a solution
which works without threads, and works above al GTs.

We happen to have a function called hb_idleState(),
which _may_ be used for such purpose.

Brgds,
Viktor

On 2008.06.11., at 23:36, Randy Portnoff wrote:

> Hi Pritpal,
>
> I don't think a timer (on the current thread) will work. In many  
> cases, the process consumes all the resources of the current thread  
> so a timer event would not fire until the process was complete.  
> Therefore, I think to accomplish this, a second thread would need to  
> be started that could have a timer associated with it.
>
> Randy.
>
>
> At 05:31 PM 6/11/2008, you wrote:
>
>> Hello Viktor
>>
>>
>> Szak??ts Viktor wrote:
>> >
>> > While Harbour is doing the processing, the GTWVT
>> > window doesn't get refreshed, so the content
>> > is pure blank if minimizing and restoring the
>> > window. It also doesn't react to any system inputs.
>> >
>>
>> You just catched my thoughts, just.
>>
>> One way, specific to GTWVT, is to implement a timer
>> with unique id whose sole function is to refresh the window.
>> Because though this is not desirable under all circumstances,
>> can be a starting point for thoughts.
>>
>> Regards
>> Pritpal Bedi
>>
>> --
>> View this message in context: http://www.nabble.com/Window-updates-vs.-long-Harbour-processes-tp17787182p17787715.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Jun 11 18:02:19 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 11 18:02:22 2008
Subject: [Harbour] 2008-06-11 23:59 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cc0e$Blat.v2.6.2$d1731dd0$13c487bdde00@127.0.0.1>

2008-06-11 23:59 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbmisc/spd.c
     + Added support for index & indirect arguments ANSI C99.
     ; Update contributed by original author:
       Xavi <jarabal@gmail.com>. Thanks!
     * Function renamed from _SPD() to C_SPRINTF().
       Name tentative.

   * source/rtl/filesys.c
     ! hb_fsIsDrv() restored to generic version fo WinCE, because 
       it's API doesn't have GetDriveTypeA().
--
Brgds,
Viktor

From druzus at acn.waw.pl  Wed Jun 11 19:41:01 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Jun 11 19:41:08 2008
Subject: [Harbour] 2008-06-12 01:40 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806112341.m5BNf160027263@31-mo5-4.acn.waw.pl>

2008-06-12 01:40 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbw32/dllcall.c
    ! fixed typo in previous modification. It should be HB_PTRDIFF
      instead of HB_PTR_DIFF

best regards
Przemek
From harbour.01 at syenar.hu  Wed Jun 11 19:50:28 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 11 19:50:38 2008
Subject: [Harbour] 2008-06-12 01:47 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cc1d$Blat.v2.6.2$ed5f3cfe$1cf4d12421e0@127.0.0.1>

2008-06-12 01:47 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtwvt/gtwvt.c
     ! Fixed remaining Mark&Copy trashing while doing the selection.
     * I've undone fix (2008-06-09 14:48 UTC+0800) for non-selectable 
       maxrow/maxcol, since after the fix the _first_ row/col couldn't 
       be selected.
       TOFIX: Reopened.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Wed Jun 11 20:01:54 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Jun 11 20:01:59 2008
Subject: [Harbour] Window updates vs. long Harbour processes
In-Reply-To: <28DABC0A-321D-4F24-8266-725E3F2C11B7@syenar.hu>
References: <28DABC0A-321D-4F24-8266-725E3F2C11B7@syenar.hu>
Message-ID: <20080612000154.GA26528@34-mo7-2.acn.waw.pl>

On Wed, 11 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> While Harbour is doing the processing, the GTWVT
> window doesn't get refreshed, so the content
> is pure blank if minimizing and restoring the
> window. It also doesn't react to any system inputs.
> Maybe other GTs are affected too.

It's problem with GUI GTs: GTWVT and GTXWC. In the most
of GUI system application has to redraw its screen contents.
Probaly in each OS some hacks exists which alows to move
this job to OS. F.e. on some X-Window systems it's possible
to set bitamp as window background and it will be redrawn
automatically by window manager so GT only have to update
this bitamp on output. Probably sth like that exists also
for MS-Windows. But because it will be hack which can cause
troubles in portability I left it for the future.
BTW I do not like that GTWVG draws into two areas: directly
to window and to internal bitamp. IMHO it will be much
easier to update only internal bitmap and restore the
screen from this bitamp or if possible to make it window
background as I wrote above.

> I think we should have an idle call processing
> ability built into the GTs. This call may be
> called by some generic idle processing functions
> in Harbour, and finally this function would need
> to be called regularly by these time-consuming
> Harbour functions.

It will not be easy to make it well and even if we
try to implement it then it will not be efficient
enough and it will cost a lot of CPU cycles. For
systems which supports MT we can intorduce inspector
thread which will make all background jobs and even
it will notice foregroung .prg thread(s) about some
events. I think that sth like that Ryszard wanted to
add. We do not need support for MT in HVM for it. If
Ryszard will not make it then working on MT mode
I'll add also support for such inspector threads.
Please remember that we also need common system for
inspecting incomming events. So far I'm using my
own library which uses select() for it (in *nixes
select() can watch for any type of handles not only
for sockets like in MS-Win). Anyhow it will be very
nice to have a solution on Harbour level which will
work also in MS-Windows and as I said I plan to work
on it.

best regards,
Przemek
From bedipritpal at hotmail.com  Wed Jun 11 20:05:47 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jun 11 20:05:51 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
Message-ID: <17789933.post@talk.nabble.com>


Hi

There are three constants in hbgtinfo.ch, viz.,

HB_GTI_GETWIN
HB_GTI_SETWIN
HB_GTI_NEWWIN

These messages are in the context of CTWIN, if I am not mistaking.
The similar type of constants I need for GTWVT.

HB_GTI_GETWINDOWHANDLE
HB_GTI_NEWWINDOW

How this can be achieved in a multi-GT way?

Also I propose for, opposite of HB_GTE_* constants,
HB_GtInfo( HB_GTI_MESSAGE, { nMessage | HB_GTM_*, xSomeValue } ) ->
xOldValue
I feel this is multi platform and will eliminate the need of so 
many functions which one will be writing to do certain things.
Local GT will be knowing what these values means and how to react to them. 
It is another level of abstraction.

HB_GTI_NOTIFIERBLOCK - GT to APP
HB_GTI_MESSAGE - APP - GT

Opinions?

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/GT--Multi-platform-Messaging-Interface-tp17789933p17789933.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Wed Jun 11 20:32:49 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jun 11 20:32:52 2008
Subject: [Harbour] Window updates vs. long Harbour processes
In-Reply-To: <20080612000154.GA26528@34-mo7-2.acn.waw.pl>
References: <28DABC0A-321D-4F24-8266-725E3F2C11B7@syenar.hu>
	<20080612000154.GA26528@34-mo7-2.acn.waw.pl>
Message-ID: <17790192.post@talk.nabble.com>


Hello Przemek

<<<
It's problem with GUI GTs: GTWVT and GTXWC. In the most
of GUI system application has to redraw its screen contents.
Probaly in each OS some hacks exists which alows to move
this job to OS. F.e. on some X-Window systems it's possible
to set bitamp as window background and it will be redrawn
automatically by window manager so GT only have to update
this bitamp on output. Probably sth like that exists also
for MS-Windows. But because it will be hack which can cause
troubles in portability I left it for the future.
>>>

Exactly this I wanted for GTWVG but could not find a better way.

<<<
BTW I do not like that GTWVG draws into two areas: directly
to window and to internal bitamp. IMHO it will be much
easier to update only internal bitmap and restore the
screen from this bitamp or if possible to make it window
background as I wrote above.
>>>

As I said I could not find other ways to achieve this.
May be my knowledge in WinAPI was very limited then.
Can you please give me a clue how this can be changed.
A line or two of code will be enough to move into that direction.

<<<
Please remember that we also need common system for
inspecting incomming events. 
>>>

For this point in mind I just suggested 
HB_GTE_INKEY
but still has not been accepted by the group. 

<<<
So far I'm using my
own library which uses select() for it (in *nixes
select() can watch for any type of handles not only
for sockets like in MS-Win). Anyhow it will be very
nice to have a solution on Harbour level which will
work also in MS-Windows and as I said I plan to work
on it.
>>>

For sure I will wait for it to happen.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Window-updates-vs.-long-Harbour-processes-tp17787182p17790192.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mhsabado at gmail.com  Wed Jun 11 22:42:44 2008
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Wed Jun 11 22:42:52 2008
Subject: [Harbour] FileCopy() Argument error
Message-ID: <f81ad3e40806111942q1adddf31y96f627e1367879f8@mail.gmail.com>

Hi,

I have the following error when using FileCopy() function.  I have verified
that my parameter contains valid values.  Any hint?

>Error BASE/1066  Argument error: conditional
>Called from FILECOPY(114)

Thanks,
Mario
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080612/c30ccd7f/attachment.html
From harbour.01 at syenar.hu  Thu Jun 12 01:52:49 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 12 01:53:50 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <17789933.post@talk.nabble.com>
References: <17789933.post@talk.nabble.com>
Message-ID: <D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>

>
Hi Pritpal,

> Hi
>
> There are three constants in hbgtinfo.ch, viz.,
>
> HB_GTI_GETWIN
> HB_GTI_SETWIN
> HB_GTI_NEWWIN
>
> These messages are in the context of CTWIN, if I am not mistaking.
> The similar type of constants I need for GTWVT.
>
> HB_GTI_GETWINDOWHANDLE
> HB_GTI_NEWWINDOW

Can we use the existing names HB_GTI_???WIN?

> HB_GtInfo( HB_GTI_MESSAGE, { nMessage | HB_GTM_*, xSomeValue } ) ->
> xOldValue
> I feel this is multi platform and will eliminate the need of so
> many functions which one will be writing to do certain things.
> Local GT will be knowing what these values means and how to react to  
> them.
> It is another level of abstraction.
>
> HB_GTI_NOTIFIERBLOCK - GT to APP
> HB_GTI_MESSAGE - APP - GT
>
> Opinions?

IMO it would be even more simple to use this:
hb_gtInfo( HB_GTI_SPECFEATURE, <HB_GTI_WVT_EXTRAFEATURE>[,  
xNewValue ] ) -> <xOldValue>

But the fundamental problem with both is that
we're again introducing a way to make the GTs
behave differently. So it kind of ruins the concept.

If we already have such stuff in common GT,
maybe it'd be better to switch them to the above
method, but I feel this would just give way for
lots of GT specific features, so overall I think
it creates more problems.

BTW, the third method, and the one used for RDDs
too, is to simply use hb_gt_wvt_<extrafeature>()
kind of calls. This has the downside that app
code needs to use #defines to exclude such call
if the GT is not linked (just like for RDDs).
The conceptual problem remains here too though.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Thu Jun 12 02:09:57 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Jun 12 02:10:00 2008
Subject: [Harbour] Some more HB_GTI_ slots
In-Reply-To: <17787868.post@talk.nabble.com>
References: <17780103.post@talk.nabble.com>
	<9257026e0806110841n56e9e99uc5acb5c0ee3efa9b@mail.gmail.com>
	<17787868.post@talk.nabble.com>
Message-ID: <9257026e0806112309u3508375bjc9dc655d259dd97b@mail.gmail.com>

On Wed, Jun 11, 2008 at 11:39 PM, Pritpal Bedi <bedipritpal@hotmail.com> wrote:

> Can you explain how tou would like to implement this functionality.
> It is available in GTWVG but am not sure what you are looking for.

If I had to implement it I'd use an hash like { "color0" => "#ff55ff",
"color1" => "bc9df2", ... } to pass to a HB_GTI_SETPALETTE() function.

In this way hbini could be used to have an external file like colors.ini
[paletteA]
color0=#ff5ff
color1=#bc9df2
...

that returns an hash like hColors[ "paletteA" ].

This also would be very similar to terminal programs like putty and
pterm that use "resources" f.e.:
pterm.color0:
...
  pterm.Font: 9x15
  pterm.BoldFont: 9x15bold
  pterm.BoldAsColour: 0
  pterm.Colour0: 255,255,255
  pterm.Colour8: 255,0,0
  pterm.Colour10: 0,255,0
  pterm.Colour12: 255,255,0
  pterm.Colour14: 30,144,255
  pterm.Colour15: 99,184,255
  pterm.Colour16: 255,0,255
  pterm.Colour18: 0,255,255
  pterm.Colour20: 255,255,255
...

>>Today I've changed the #define.
>
> Viktor snsed what you meant. I could not. Can you explain a little?

Sorry I was not clear enough, what I meant was that as a workaround I
changed the values of the #defines in gtwvt.h and gtxwc.c.
Which is of course not an ideal situation.

In general I think Harbour should extend the "colors syntax" since in
this way strings like "B/W+" have no meaning.
It would be nice if colors could be set using sth like
"#ff55ff/#cb3f56" or "{255,123,255}/{178,83,156}"
Instead numbers strings like "1/13" are useful as reference to the
palette's colors.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Thu Jun 12 02:23:28 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 12 02:24:30 2008
Subject: [Harbour] Some more HB_GTI_ slots
In-Reply-To: <9257026e0806112309u3508375bjc9dc655d259dd97b@mail.gmail.com>
References: <17780103.post@talk.nabble.com>
	<9257026e0806110841n56e9e99uc5acb5c0ee3efa9b@mail.gmail.com>
	<17787868.post@talk.nabble.com>
	<9257026e0806112309u3508375bjc9dc655d259dd97b@mail.gmail.com>
Message-ID: <1EE65427-7E05-4EB0-916C-094B08C8E7CB@syenar.hu>

>>
Hi folks,

>> Viktor snsed what you meant. I could not. Can you explain a little?
>
> Sorry I was not clear enough, what I meant was that as a workaround I
> changed the values of the #defines in gtwvt.h and gtxwc.c.

I misunderstood then :) and now don't get it.

As for the palette stuff, I'd use something like:
hb_gtInfo( HB_GTI_PALETTE, <nColor>[, <nNewRGB> ] ) -> <nOldRGB>
optionally:
hb_gtInfo( HB_GTI_PALETTE[, <aNewRGB> ] ) -> <aOldRGB>

where RGB could be "#ffeedd", or { nR, nG, nB }, an system
returning the former.

This way it could be stored in an .ini or wherever,
using a simple array to list conversion, in one line:

[palettes]
mypalette=#ffeedd, #ccaa99, ...

> Which is of course not an ideal situation.
> In general I think Harbour should extend the "colors syntax" since in
> this way strings like "B/W+" have no meaning.
> It would be nice if colors could be set using sth like
> "#ff55ff/#cb3f56" or "{255,123,255}/{178,83,156}"
> Instead numbers strings like "1/13" are useful as reference to the
> palette's colors.

Numbers can be used in Harbour, just like in Clipper.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Thu Jun 12 02:34:55 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Jun 12 02:34:58 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>
References: <17789933.post@talk.nabble.com>
	<D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>
Message-ID: <9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com>

On Thu, Jun 12, 2008 at 7:52 AM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> But the fundamental problem with both is that
> we're again introducing a way to make the GTs
> behave differently. So it kind of ruins the concept.

+1

For me the first question is: what do we expect from GTs?

For me GTs are like RDDs, a compatibility layer with "old" code.
I would add only few things like close and palette ( not available at
DOS times ) that can be used in all or many GTs.
All the rest should go in contrib libs like wvt, wvg.

The next question is: what is the next step?

For me the only thing that worth the work is "merging" CT win
management with tbrowse, get system, teditor, add the controls we
miss, put everything in a "blueprint" and see if we can map this tree
to sth like wxWidgets that is already multiplatform.

But we need a good plan BEFORE starting to add features here and there.

For example Teo has a project on SF called wxHarbour.

If we careful plan the goals and share the work between the very few C
developers and the few prg developers we could probably achieve
something useful in not much time.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Thu Jun 12 02:40:49 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Jun 12 02:40:53 2008
Subject: [Harbour] Some more HB_GTI_ slots
In-Reply-To: <1EE65427-7E05-4EB0-916C-094B08C8E7CB@syenar.hu>
References: <17780103.post@talk.nabble.com>
	<9257026e0806110841n56e9e99uc5acb5c0ee3efa9b@mail.gmail.com>
	<17787868.post@talk.nabble.com>
	<9257026e0806112309u3508375bjc9dc655d259dd97b@mail.gmail.com>
	<1EE65427-7E05-4EB0-916C-094B08C8E7CB@syenar.hu>
Message-ID: <9257026e0806112340p1469e618q4ff6131387824bf4@mail.gmail.com>

On Thu, Jun 12, 2008 at 8:23 AM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Numbers can be used in Harbour, just like in Clipper.

Of course.

best regards,
Lorenzo
From dbtopas at dbtopas.lt  Thu Jun 12 02:51:54 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Jun 12 02:49:47 2008
Subject: [Harbour] Window updates vs. long Harbour processes
In-Reply-To: <17787715.post@talk.nabble.com>
References: <28DABC0A-321D-4F24-8266-725E3F2C11B7@syenar.hu>
	<17787715.post@talk.nabble.com>
Message-ID: <4850C78A.5080403@dbtopas.lt>

Hi,


> One way, specific to GTWVT, is to implement a timer 
> with unique id whose sole function is to refresh the window.

WM_TIMER event will not be delivered until GetMessage/DispatchMessage 
loop will be reached. So, it does not solves problem at all.


> Or maybe something completely different, but
> the goal is given.
> 
> Opinions, suggestion? 

Wait MT and run a separate thead for GT window update.


Best regards,
Mindaugas
From harbour.01 at syenar.hu  Thu Jun 12 02:48:58 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 12 02:49:59 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com>
References: <17789933.post@talk.nabble.com>
	<D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>
	<9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com>
Message-ID: <32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>

>> But the fundamental problem with both is that
>> we're again introducing a way to make the GTs
>> behave differently. So it kind of ruins the concept.
>
> +1
>
> For me the first question is: what do we expect from GTs?
>
> For me GTs are like RDDs, a compatibility layer with "old" code.
> I would add only few things like close and palette ( not available at
> DOS times ) that can be used in all or many GTs.
> All the rest should go in contrib libs like wvt, wvg.

WVG, as WVT is core :)

> The next question is: what is the next step?
>
> For me the only thing that worth the work is "merging" CT win
> management with tbrowse, get system, teditor, add the controls we
> miss, put everything in a "blueprint" and see if we can map this tree
> to sth like wxWidgets that is already multiplatform.
>
> But we need a good plan BEFORE starting to add features here and  
> there.
>
> For example Teo has a project on SF called wxHarbour.
>
> If we careful plan the goals and share the work between the very few C
> developers and the few prg developers we could probably achieve
> something useful in not much time.

As a first step I would personally add (~move from CT)
window support to core. I'm for example relying on
a custom written windowing system, so I cannot use the
CT one as is. Admittedly this is a rare thing, but
having windowing capabilities in core GT would be good
for everyone I guess.

This way CT windowing could become just a thin(nish)
compatibility layer above the core implementation.

Having window support in core could create the bed
for natively windowing GTs (like GTWVW). From this
point on, the actual presentation could be changed to
more and more graphical.

But, for me it's still very difficult to believe
in _any_ portable GUIs.. It's enough to look at
Firefox, all the work they've done, and it's still
(3.0) just a mockup on OS X for example. Maybe using
QT, but QT is commercial. Not to mention the huge
work this needs for any final apps to migrate.

BTW, there is GUI in XBase++ too, but it looks very
very "alien" even in Windows... for sure it doesn't
look professional.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun 12 02:57:47 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 12 02:57:51 2008
Subject: [Harbour] 2008-06-12 08:55 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cc59$Blat.v2.6.2$9f2c8fb4$1148302de408@127.0.0.1>

2008-06-12 08:55 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbct/fcopy.prg
     ! Fixed crash in FILECOPY() (reported by Mario H. Sabado)
       [TOMERGE RC1 - if correct]

   * contrib/hbodbc/odbc.c
     * Using sizeof() wherever possible.
     ! SQLGETDATA(): One strcpy() converted to hb_strncpy()
     + SQLGETDATA(): One TOFIX added for strcat() usage and 
                     possible buffer overrun.
                     Also, it looks to me that both of the above 
                     would better be replaced by memcpy() calls 
                     otherwise it cannot support embedded '\0's.
                     Anyone?
--
Brgds,
Viktor

From dbtopas at dbtopas.lt  Thu Jun 12 03:36:57 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Jun 12 03:34:46 2008
Subject: [Harbour] 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <48502200.10101@ya.com>
References: <01c8c891$Blat.v2.6.2$c42517bc$19c08d8bc010@127.0.0.1>	<484BEA96.40101@ya.com>	<FABECC9C-2B6B-4D9B-B5D7-8393A474E40F@syenar.hu>	<484C0D2F.7090509@ya.com>	<B6022834-8A3A-4866-B0E0-5D8C180CF3D6@syenar.hu>
	<48502200.10101@ya.com>
Message-ID: <4850D219.2010605@dbtopas.lt>

Javier wrote:
> I think that the better name for the function would be Sprintf() but I 
> believe that it is not my decision.

Szak?ts Viktor wrote:
 > As for a name I'd suggest LIBC_SPRINTF() or C_SPRINTF(),
 > maybe HB_SPRINTF() as alternatives.
 >
 > Votes, suggestions and opinions are welcome.


Hi,


for HB_Sprintf() I think we must implement a C compatible sprintf() but 
add a type specifier for printing typeless data. This new specifier 
should print data of all types: string, numeric, date (respecting 
_SET_DATE format), etc.
New flags worth to be implemented can be:
1) string and numbers trimming (it would be usefull because .dbf fields 
are space PADR'ed);
2) some 'plain portable format' flag for printing date;
time in '20080612' instead of _SET_DATE '12/06/08'. If we find a way to 
specify a full date formating, I see it also usefull, example:
%'YYYY-MM-DD hh:mm:ss.ttt't.

Your current _SPD() implementation is very similar. You use %t the 
similar way I've mentioned specifier for typeless data, but it's SQL 
oriented. I would expect
   HB_Sprintf("%t %t", "It's number", 5.5) => "It's number 5.5"
but current code works
   _SPD("%t %t", "It's number", 5.5) => "'It''s number' 5.5"

I think your code is more SQL_Sprintf(), than HB_Sprintf().


Best regards,
Mindaugas
From bedipritpal at hotmail.com  Thu Jun 12 03:48:03 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jun 12 03:48:06 2008
Subject: [Harbour] 2008-06-12 00:40 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <17794370.post@talk.nabble.com>


2008-06-12 00:40 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
   * harbour/source/rtl/gtwvt/gtwvt.c
     ! Completely removed flickering under Mark and Copy operation
       without lengthy calculations. Forwarded by Andy Wos - thanks.
     ; Viktor, now first row and column are being selected.
       When right < left only then first column is not accessible
       but it is very rare in practical application.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-12-00%3A40-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17794370p17794370.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Jun 12 04:00:05 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 12 04:01:07 2008
Subject: [Harbour] 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <4850D219.2010605@dbtopas.lt>
References: <01c8c891$Blat.v2.6.2$c42517bc$19c08d8bc010@127.0.0.1>	<484BEA96.40101@ya.com>	<FABECC9C-2B6B-4D9B-B5D7-8393A474E40F@syenar.hu>	<484C0D2F.7090509@ya.com>	<B6022834-8A3A-4866-B0E0-5D8C180CF3D6@syenar.hu>
	<48502200.10101@ya.com> <4850D219.2010605@dbtopas.lt>
Message-ID: <65183AB3-E131-4A90-9341-C0A11C3A9404@syenar.hu>

Thanks Mingaugas, I was expecting exactly this kind
of input. So this is not a clone of sprintf(), but
rather something similar but specially crafted for
SQL expressions.

I'll rename current C_SPRINTF() to SQL_SPRINTF(),
and we can later plug additional implementations
with different names.

Actually we have StrFormat() in hbmisc already, which
might be extended with the functionality your describe.

It currently supports %1, %2, ..., %9, and accepts
strings only. I'll commit some cleanups for it ASAP.

I'd stick with a simpler name for such a (non-sprintf
compatible) function, HB_STRFORMAT() comes to mind.

Brgds,
Viktor

On 2008.06.12., at 9:36, Mindaugas Kavaliauskas wrote:

> Javier wrote:
>> I think that the better name for the function would be Sprintf()  
>> but I believe that it is not my decision.
>
> Szak?ts Viktor wrote:
> > As for a name I'd suggest LIBC_SPRINTF() or C_SPRINTF(),
> > maybe HB_SPRINTF() as alternatives.
> >
> > Votes, suggestions and opinions are welcome.
>
>
> Hi,
>
>
> for HB_Sprintf() I think we must implement a C compatible sprintf()  
> but add a type specifier for printing typeless data. This new  
> specifier should print data of all types: string, numeric, date  
> (respecting _SET_DATE format), etc.
> New flags worth to be implemented can be:
> 1) string and numbers trimming (it would be usefull because .dbf  
> fields are space PADR'ed);
> 2) some 'plain portable format' flag for printing date;
> time in '20080612' instead of _SET_DATE '12/06/08'. If we find a way  
> to specify a full date formating, I see it also usefull, example:
> %'YYYY-MM-DD hh:mm:ss.ttt't.
>
> Your current _SPD() implementation is very similar. You use %t the  
> similar way I've mentioned specifier for typeless data, but it's SQL  
> oriented. I would expect
>  HB_Sprintf("%t %t", "It's number", 5.5) => "It's number 5.5"
> but current code works
>  _SPD("%t %t", "It's number", 5.5) => "'It''s number' 5.5"
>
> I think your code is more SQL_Sprintf(), than HB_Sprintf().
>
>
> Best regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Thu Jun 12 04:12:32 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jun 12 04:12:38 2008
Subject: [Harbour] offline note
Message-ID: <20080612081232.GA28217@34-mo7-2.acn.waw.pl>

Hi All,

I'll be offline for about two weeks.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Jun 12 04:13:41 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 12 04:14:47 2008
Subject: [Harbour] 2008-06-12 00:40 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <17794370.post@talk.nabble.com>
References: <17794370.post@talk.nabble.com>
Message-ID: <583A4E98-A5C3-454A-B797-FFB9B8AF69F3@syenar.hu>

>
Hi Pritpal,

> 2008-06-12 00:40 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * harbour/source/rtl/gtwvt/gtwvt.c
>     ! Completely removed flickering under Mark and Copy operation
>       without lengthy calculations. Forwarded by Andy Wos - thanks.

Nice! Thanks to Andy.

>     ; Viktor, now first row and column are being selected.
>       When right < left only then first column is not accessible
>       but it is very rare in practical application.

You've readded the previous fix...

I think it should be fixed properly, because it gives the
impression of unfinished work.

Any ideas for the trashing windows when resizing? (see pics)

Brgds,
Viktor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: trash2.png
Type: image/png
Size: 3686 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080612/a0bf189e/trash2-0001.png
-------------- next part --------------
A non-text attachment was scrubbed...
Name: trash1.png
Type: image/png
Size: 6793 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080612/a0bf189e/trash1-0001.png
From dbtopas at dbtopas.lt  Thu Jun 12 04:17:39 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Jun 12 04:15:32 2008
Subject: [Harbour] offline note
In-Reply-To: <20080612081232.GA28217@34-mo7-2.acn.waw.pl>
References: <20080612081232.GA28217@34-mo7-2.acn.waw.pl>
Message-ID: <4850DBA3.2090906@dbtopas.lt>

Przemyslaw Czerpak wrote:
> Hi All,
> 
> I'll be offline for about two weeks.
> 
> best regards,
> Przemek


Hi,


bad news for Harbour community, but I hope you'll have a good holiday! :)


Best regards,
Mindaugas
From harbour.01 at syenar.hu  Thu Jun 12 04:15:37 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 12 04:16:38 2008
Subject: [Harbour] offline note
In-Reply-To: <20080612081232.GA28217@34-mo7-2.acn.waw.pl>
References: <20080612081232.GA28217@34-mo7-2.acn.waw.pl>
Message-ID: <16CA3ADF-33F1-4C77-8005-A5D71CF0E946@syenar.hu>

Hi Przemek,

Have a nice time!

Brgds,
Viktor

On 2008.06.12., at 10:12, Przemyslaw Czerpak wrote:

> Hi All,
>
> I'll be offline for about two weeks.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Thu Jun 12 04:19:35 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jun 12 04:19:39 2008
Subject: [Harbour] Some more HB_GTI_ slots
In-Reply-To: <1EE65427-7E05-4EB0-916C-094B08C8E7CB@syenar.hu>
References: <17780103.post@talk.nabble.com>
	<9257026e0806110841n56e9e99uc5acb5c0ee3efa9b@mail.gmail.com>
	<17787868.post@talk.nabble.com>
	<9257026e0806112309u3508375bjc9dc655d259dd97b@mail.gmail.com>
	<1EE65427-7E05-4EB0-916C-094B08C8E7CB@syenar.hu>
Message-ID: <17794809.post@talk.nabble.com>


Hello

>hb_gtInfo( HB_GTI_PALETTE, <nColor>[, <nNewRGB> ] ) -> <nOldRGB>

Is Gt_Info() accepts 3 parameters? I think it does not, may be I am missing
something. 

>hb_gtInfo( HB_GTI_PALETTE[, <aNewRGB> ] ) -> <aOldRGB>

This is the format I did in GTWVG. 

Practically both formats are useful and should be supported. I commit 2nd
vesrion in few minutes.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Some-more-HB_GTI_-slots-tp17780103p17794809.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From a.jurkiewicz at abix.info.pl  Thu Jun 12 04:26:42 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Thu Jun 12 04:26:49 2008
Subject: [Harbour] offline note
In-Reply-To: <20080612081232.GA28217@34-mo7-2.acn.waw.pl>
References: <20080612081232.GA28217@34-mo7-2.acn.waw.pl>
Message-ID: <200806121026.42878.a.jurkiewicz@abix.info.pl>

Dnia czwartek, 12 czerwca 2008, Przemyslaw Czerpak napisa?:
> Hi All,
>
> I'll be offline for about two weeks.
And don't forget to FORGET mobile ;-)

Adam

-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
From bedipritpal at hotmail.com  Thu Jun 12 04:30:21 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jun 12 04:30:23 2008
Subject: [Harbour] 2008-06-12 00:40 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <583A4E98-A5C3-454A-B797-FFB9B8AF69F3@syenar.hu>
References: <17794370.post@talk.nabble.com>
	<583A4E98-A5C3-454A-B797-FFB9B8AF69F3@syenar.hu>
Message-ID: <17794920.post@talk.nabble.com>


Hello

>You've readded the previous fix...

:-(
But if it is not done like this, last row and columns get messy.
I have another suggestion by Andy. I will fix it soon.

>Any ideas for the trashing windows when resizing? (see pics)

Yes. The problem is in some situations when fontheight or width is bigger
than expected.

Remove 
         if( width <= maxWidth &&
             height <= maxHeight &&
             tm.tmAveCharWidth >= 3 &&
             tm.tmHeight >= 4 )

and it will be set right. I did it previously but you removed. Just test.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-12-00%3A40-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17794370p17794920.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Jun 12 04:30:44 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 12 04:31:44 2008
Subject: [Harbour] Some more HB_GTI_ slots
In-Reply-To: <17794809.post@talk.nabble.com>
References: <17780103.post@talk.nabble.com>
	<9257026e0806110841n56e9e99uc5acb5c0ee3efa9b@mail.gmail.com>
	<17787868.post@talk.nabble.com>
	<9257026e0806112309u3508375bjc9dc655d259dd97b@mail.gmail.com>
	<1EE65427-7E05-4EB0-916C-094B08C8E7CB@syenar.hu>
	<17794809.post@talk.nabble.com>
Message-ID: <09B1CFE2-5C15-4BAB-81AC-B8783134C660@syenar.hu>

>> hb_gtInfo( HB_GTI_PALETTE, <nColor>[, <nNewRGB> ] ) -> <nOldRGB>
>>
>
> Is Gt_Info() accepts 3 parameters? I think it does not, may be I am  
> missing
> something.

There is nothing which would limit hb_gtInfo() to only two
parameters.

>> hb_gtInfo( HB_GTI_PALETTE[, <aNewRGB> ] ) -> <aOldRGB>
>
> This is the format I did in GTWVG.
>
> Practically both formats are useful and should be supported. I  
> commit 2nd
> vesrion in few minutes.

Okay. I'm again deep into gtwvt.c, so I'd appreciate
if you could wait a little :)

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun 12 04:41:09 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 12 04:42:10 2008
Subject: [Harbour] 2008-06-12 00:40 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <17794920.post@talk.nabble.com>
References: <17794370.post@talk.nabble.com>
	<583A4E98-A5C3-454A-B797-FFB9B8AF69F3@syenar.hu>
	<17794920.post@talk.nabble.com>
Message-ID: <2E78EBA6-03AA-4648-BFA8-9E3B827563D9@syenar.hu>

>> You've readded the previous fix...
>
> :-(
> But if it is not done like this, last row and columns get messy.
> I have another suggestion by Andy. I will fix it soon.

For a finished solution check the Windows console mark
feature.

You can observe that there, the selection is calculated
relative to the starting position, so for example it's
possible to not select anything, by staying in the
starting row or col. That's where our "missing"
row/column is actually.

In Harbour we always calculate relative to the origo,
so we will be missing one position whatever we do.

>> Any ideas for the trashing windows when resizing? (see pics)
>
> Yes. The problem is in some situations when fontheight or width is  
> bigger
> than expected.
>
> Remove
>         if( width <= maxWidth &&
>             height <= maxHeight &&
>             tm.tmAveCharWidth >= 3 &&
>             tm.tmHeight >= 4 )
>
> and it will be set right. I did it previously but you removed. Just  
> test.

If I remove 'tm.* >=' checks, the other problem
will come back again, where too small windows
will have a non-updated regions. If I leave the
check there, it will trash in other occasions.

There must a proper solution to this.

Brgds,
Viktor

From bedipritpal at hotmail.com  Thu Jun 12 05:22:14 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jun 12 05:22:19 2008
Subject: [Harbour] offline note
In-Reply-To: <200806121026.42878.a.jurkiewicz@abix.info.pl>
References: <20080612081232.GA28217@34-mo7-2.acn.waw.pl>
	<200806121026.42878.a.jurkiewicz@abix.info.pl>
Message-ID: <17795677.post@talk.nabble.com>


>And don't forget to FORGET mobile ;-)

Well said Adam! 
mobile - the worst enemy of developers especially if support is also
expected from them.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/offline-note-tp17794706p17795677.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Thu Jun 12 05:33:23 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Jun 12 05:33:27 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
References: <17789933.post@talk.nabble.com>
	<D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>
	<9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com>
	<32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
Message-ID: <9257026e0806120233j49b35277sea4eb0d505abc0c2@mail.gmail.com>

On Thu, Jun 12, 2008 at 8:48 AM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> As a first step I would personally add (~move from CT)
> window support to core. I'm for example relying on
> a custom written windowing system

I also have a custom windows system :)

> But, for me it's still very difficult to believe
> in _any_ portable GUIs.. It's enough to look at
> ...
> BTW, there is GUI in XBase++ too, but it looks very
> very "alien" even in Windows... for sure it doesn't
> look professional.

Yes, GUIs are like football teams: everyone has its own :)

best regards,
Lorenzo
From harbour.01 at syenar.hu  Thu Jun 12 05:36:58 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 12 05:37:03 2008
Subject: [Harbour] 2008-06-12 11:02 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cc6f$Blat.v2.6.2$dc011eda$100c27d1175c@127.0.0.1>

2008-06-12 11:02 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtwvt/gtwvt.c
     % Minor optimization in new screen marking code.

   * contrib/hbmisc/strfmt.c
     * Cleanup, optimization, some internal limits removed.

   * contrib/hbmisc/spd.c
     * Former _SPD() function renamed to SQL_SPRINTF()
--
Brgds,
Viktor

From bedipritpal at hotmail.com  Thu Jun 12 06:02:06 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jun 12 06:02:12 2008
Subject: [Harbour] Some more HB_GTI_ slots
In-Reply-To: <09B1CFE2-5C15-4BAB-81AC-B8783134C660@syenar.hu>
References: <17780103.post@talk.nabble.com>
	<9257026e0806110841n56e9e99uc5acb5c0ee3efa9b@mail.gmail.com>
	<17787868.post@talk.nabble.com>
	<9257026e0806112309u3508375bjc9dc655d259dd97b@mail.gmail.com>
	<1EE65427-7E05-4EB0-916C-094B08C8E7CB@syenar.hu>
	<17794809.post@talk.nabble.com>
	<09B1CFE2-5C15-4BAB-81AC-B8783134C660@syenar.hu>
Message-ID: <17796498.post@talk.nabble.com>


Hi

>There is nothing which would limit hb_gtInfo() to only two
>parameters.

Any example?

>Okay. I'm again deep into gtwvt.c, so I'd appreciate
>if you could wait a little :)

Sure. 
I see that pGT is initialized with colors provided at the startup and 
then never refers to local GT color table. 

Przemek please confirm.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Some-more-HB_GTI_-slots-tp17780103p17796498.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Jun 12 06:14:20 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 12 06:15:23 2008
Subject: [Harbour] 2008-06-12 00:40 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <17794920.post@talk.nabble.com>
References: <17794370.post@talk.nabble.com>
	<583A4E98-A5C3-454A-B797-FFB9B8AF69F3@syenar.hu>
	<17794920.post@talk.nabble.com>
Message-ID: <93CAA511-53FB-4E7E-AC3E-09173B8E33F6@syenar.hu>

Hi Pritpal,

I gave up on both of these issue, and committed
just a minor optim for Andy's code.

So what we have left is:

1/a) Trashing (unupdated regions) when window is too small.
1/b) Trashing when frame is larger than content (flat and tall windows).
2)   Impossible to select leftmost col, topmost row.
      (selection should be calculated relative to the selection
      origo rather than the window's origo)

+1) Separate thread to refresh the screen content.

Brgds,
Viktor

On 2008.06.12., at 10:30, Pritpal Bedi wrote:

>
> Hello
>
>> You've readded the previous fix...
>
> :-(
> But if it is not done like this, last row and columns get messy.
> I have another suggestion by Andy. I will fix it soon.
>
>> Any ideas for the trashing windows when resizing? (see pics)
>
> Yes. The problem is in some situations when fontheight or width is  
> bigger
> than expected.
>
> Remove
>         if( width <= maxWidth &&
>             height <= maxHeight &&
>             tm.tmAveCharWidth >= 3 &&
>             tm.tmHeight >= 4 )
>
> and it will be set right. I did it previously but you removed. Just  
> test.
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/2008-06-12-00%3A40-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17794370p17794920.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From M.Horodyski at pzuzycie.com.pl  Thu Jun 12 06:23:26 2008
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Jun 12 06:23:32 2008
Subject: [Harbour] RE: Harbour Digest, Vol 20, Issue 73
In-Reply-To: <NLB01FEOAkK5LqN33HF00002fc2@gatein.pzuzycie.com.pl>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C95F05714@PINK.zycie.pzu>

>Date: Wed, 11 Jun 2008 22:32:55 +0200
>From: ABIX - Adam Jurkiewicz <a.jurkiewicz@abix.info.pl>
>Subject: [Harbour] Web site in Polish
...
>Dears,
>I'm writing presentation about Harbour and Ive found on main 
>page link to 
>polish version: http://www.harbour.pl.eu.org/
>This site is still Under Construction ... and is not in DNS system.
>Can anyone tell me, who is responsible for it ?

Pls. contact with Andrzej P. Wozniak, moderator of pl.comp.bazy-danych
(gsm 602276135).

Regards,
Marek Horodyski
From harbour.01 at syenar.hu  Thu Jun 12 06:22:50 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 12 06:23:49 2008
Subject: [Harbour] offline note
In-Reply-To: <17795677.post@talk.nabble.com>
References: <20080612081232.GA28217@34-mo7-2.acn.waw.pl>
	<200806121026.42878.a.jurkiewicz@abix.info.pl>
	<17795677.post@talk.nabble.com>
Message-ID: <52B2EBBF-1065-4650-A4CA-8F063B04C799@syenar.hu>

Support (especially phone support!) is more effectively
killing brain cells than any alcohol :)

On 2008.06.12., at 11:22, Pritpal Bedi wrote:

>
>> And don't forget to FORGET mobile ;-)
>
> Well said Adam!
> mobile - the worst enemy of developers especially if support is also
> expected from them.
>
> Regards
> Pritpal Bedi

From harbour.01 at syenar.hu  Thu Jun 12 06:23:36 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 12 06:24:36 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <9257026e0806120233j49b35277sea4eb0d505abc0c2@mail.gmail.com>
References: <17789933.post@talk.nabble.com>
	<D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>
	<9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com>
	<32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
	<9257026e0806120233j49b35277sea4eb0d505abc0c2@mail.gmail.com>
Message-ID: <68D399DE-B5F9-4D29-B633-D2F818B86F18@syenar.hu>

> On Thu, Jun 12, 2008 at 8:48 AM, Szak?ts Viktor <harbour. 
> 01@syenar.hu> wrote:
>
>> As a first step I would personally add (~move from CT)
>> window support to core. I'm for example relying on
>> a custom written windowing system
>
> I also have a custom windows system :)

Mine has three features which makes it different from
the CT one (maybe we can gather these and form a common direction):

- I can write to any windows anytime, even overlapped ones.
- It handles two-level shadows nicely (very important :)
- Uses 0xFF bytes to represent Clipper colors. This
   is very unorthodox, but I hated working with the Clipper
   color strings, especially on C level. Using bytes
   is also faster (but this is probably unjustified
   on the grand scale)
- Not-CT dependent. (irrelevant with Harbour)

>> But, for me it's still very difficult to believe
>> in _any_ portable GUIs.. It's enough to look at
>> ...
>> BTW, there is GUI in XBase++ too, but it looks very
>> very "alien" even in Windows... for sure it doesn't
>> look professional.
>
> Yes, GUIs are like football teams: everyone has its own :)

:)

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun 12 06:26:06 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 12 06:27:05 2008
Subject: [Harbour] Some more HB_GTI_ slots
In-Reply-To: <17796498.post@talk.nabble.com>
References: <17780103.post@talk.nabble.com>
	<9257026e0806110841n56e9e99uc5acb5c0ee3efa9b@mail.gmail.com>
	<17787868.post@talk.nabble.com>
	<9257026e0806112309u3508375bjc9dc655d259dd97b@mail.gmail.com>
	<1EE65427-7E05-4EB0-916C-094B08C8E7CB@syenar.hu>
	<17794809.post@talk.nabble.com>
	<09B1CFE2-5C15-4BAB-81AC-B8783134C660@syenar.hu>
	<17796498.post@talk.nabble.com>
Message-ID: <5F2B4604-E0B2-4C46-A66B-C5E5095E9B71@syenar.hu>

>>
Hi Pritpal,

>> There is nothing which would limit hb_gtInfo() to only two
>> parameters.
>
> Any example?

There is no example, but just like we have 'gtInfo.pNewVal'
we could instead have 'gtInfo.pParam1' and 'gtInfo.pParam2'.
Then the low level hb_gtInfo() call could process these
accordingly.

At least I cannot see a reason why this could be a problem.

The only thing we lose is the fully simple and uniform
hb_gtInfo() syntax.

>> Okay. I'm again deep into gtwvt.c, so I'd appreciate
>> if you could wait a little :)
>
> Sure.

Okay, I'm now done.

Brgds,
Viktor

From mbelgrano at deltain.it  Thu Jun 12 06:35:36 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jun 12 06:35:44 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
References: <17789933.post@talk.nabble.com><D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu><9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com>
	<32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED34@SRV02.deltain.net>

IMO the best is integrate a GUI inside GT for permit to same GUI of EXTEND windows created by GT

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Thursday, June 12, 2008 8:49 AM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] GT- Multi-platform Messaging Interface
Having window support in core could create the bed
for natively windowing GTs (like GTWVW). From this
point on, the actual presentation could be changed to
more and more graphical.

But, for me it's still very difficult to believe
in _any_ portable GUIs.. It's enough to look at
Firefox, all the work they've done, and it's still
(3.0) just a mockup on OS X for example. Maybe using
QT, but QT is commercial. Not to mention the huge
work this needs for any final apps to migrate.

BTW, there is GUI in XBase++ too, but it looks very
very "alien" even in Windows... for sure it doesn't
look professional.

Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From jarabal at ya.com  Thu Jun 12 07:51:54 2008
From: jarabal at ya.com (Javier)
Date: Thu Jun 12 07:52:11 2008
Subject: [Harbour] 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <4850D219.2010605@dbtopas.lt>
References: <01c8c891$Blat.v2.6.2$c42517bc$19c08d8bc010@127.0.0.1>	<484BEA96.40101@ya.com>	<FABECC9C-2B6B-4D9B-B5D7-8393A474E40F@syenar.hu>	<484C0D2F.7090509@ya.com>	<B6022834-8A3A-4866-B0E0-5D8C180CF3D6@syenar.hu>	<48502200.10101@ya.com>
	<4850D219.2010605@dbtopas.lt>
Message-ID: <48510DDA.6090906@ya.com>

Thanks Mindaugas, I very much appreciate your views.

Mindaugas Kavaliauskas escribi?:
> New flags worth to be implemented can be:
> 1) string and numbers trimming (it would be usefull because .dbf 
> fields are space PADR'ed);
But this already it does sprintf.-

_SPD("[%15s] [%8.1f]", "It's number", 5.5) // => "[    It's number] 
[     5.5]"

> 2) some 'plain portable format' flag for printing date;
> time in '20080612' instead of _SET_DATE '12/06/08'. If we find a way 
> to specify a full date formating, I see it also usefull, example:
> %'YYYY-MM-DD hh:mm:ss.ttt't.
This I like much.-

"%{YYYYMMDD hh:mm:ss.ccc}s" // => "20080612 13:41:49.000"
"%{YYYYMMDD hh:mm:ss.ccc}t" // => "'20080612 13:41:49.000'"

Best regards
Xavi
From mbelgrano at deltain.it  Thu Jun 12 08:27:32 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jun 12 08:27:45 2008
Subject: [Harbour] RE: Harbour Digest, Vol 20, Issue 73
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C95F05714@PINK.zycie.pzu>
References: <NLB01FEOAkK5LqN33HF00002fc2@gatein.pzuzycie.com.pl>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95F05714@PINK.zycie.pzu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED35@SRV02.deltain.net>

Sorry but where is published Harbour Diges Vol ?


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Horodyski
Marek (PZUZ)
Sent: Thursday, June 12, 2008 12:23 PM
To: harbour@harbour-project.org
Subject: [Harbour] RE: Harbour Digest, Vol 20, Issue 73

>Date: Wed, 11 Jun 2008 22:32:55 +0200
>From: ABIX - Adam Jurkiewicz <a.jurkiewicz@abix.info.pl>
>Subject: [Harbour] Web site in Polish
...
>Dears,
>I'm writing presentation about Harbour and Ive found on main 
>page link to 
>polish version: http://www.harbour.pl.eu.org/
>This site is still Under Construction ... and is not in DNS system.
>Can anyone tell me, who is responsible for it ?

Pls. contact with Andrzej P. Wozniak, moderator of pl.comp.bazy-danych
(gsm 602276135).

Regards,
Marek Horodyski
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Thu Jun 12 08:33:19 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jun 12 08:33:27 2008
Subject: [Harbour] 2008-06-07 13:26 UTC+0100 Viktor Szakats
	(harbour.01syenar hu)
In-Reply-To: <65183AB3-E131-4A90-9341-C0A11C3A9404@syenar.hu>
References: <01c8c891$Blat.v2.6.2$c42517bc$19c08d8bc010@127.0.0.1>	<484BEA96.40101@ya.com>	<FABECC9C-2B6B-4D9B-B5D7-8393A474E40F@syenar.hu>	<484C0D2F.7090509@ya.com>	<B6022834-8A3A-4866-B0E0-5D8C180CF3D6@syenar.hu><48502200.10101@ya.com>
	<4850D219.2010605@dbtopas.lt>
	<65183AB3-E131-4A90-9341-C0A11C3A9404@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED36@SRV02.deltain.net>

I suggest add Mindaugas posting to documentation of upcoming function


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Thursday, June 12, 2008 10:00 AM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01syenar hu)

Thanks Mingaugas, I was expecting exactly this kind
of input. So this is not a clone of sprintf(), but
rather something similar but specially crafted for
SQL expressions.

I'll rename current C_SPRINTF() to SQL_SPRINTF(),
and we can later plug additional implementations
with different names.

Actually we have StrFormat() in hbmisc already, which
might be extended with the functionality your describe.

It currently supports %1, %2, ..., %9, and accepts
strings only. I'll commit some cleanups for it ASAP.

I'd stick with a simpler name for such a (non-sprintf
compatible) function, HB_STRFORMAT() comes to mind.

Brgds,
Viktor

On 2008.06.12., at 9:36, Mindaugas Kavaliauskas wrote:

> Javier wrote:
>> I think that the better name for the function would be Sprintf()  
>> but I believe that it is not my decision.
>
> Szak?ts Viktor wrote:
> > As for a name I'd suggest LIBC_SPRINTF() or C_SPRINTF(),
> > maybe HB_SPRINTF() as alternatives.
> >
> > Votes, suggestions and opinions are welcome.
>
>
> Hi,
>
>
> for HB_Sprintf() I think we must implement a C compatible sprintf()  
> but add a type specifier for printing typeless data. This new  
> specifier should print data of all types: string, numeric, date  
> (respecting _SET_DATE format), etc.
> New flags worth to be implemented can be:
> 1) string and numbers trimming (it would be usefull because .dbf  
> fields are space PADR'ed);
> 2) some 'plain portable format' flag for printing date;
> time in '20080612' instead of _SET_DATE '12/06/08'. If we find a way  
> to specify a full date formating, I see it also usefull, example:
> %'YYYY-MM-DD hh:mm:ss.ttt't.
>
> Your current _SPD() implementation is very similar. You use %t the  
> similar way I've mentioned specifier for typeless data, but it's SQL  
> oriented. I would expect
>  HB_Sprintf("%t %t", "It's number", 5.5) => "It's number 5.5"
> but current code works
>  _SPD("%t %t", "It's number", 5.5) => "'It''s number' 5.5"
>
> I think your code is more SQL_Sprintf(), than HB_Sprintf().
>
>
> Best regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From lorenzo.fiorini at gmail.com  Thu Jun 12 08:39:52 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Jun 12 08:39:56 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <68D399DE-B5F9-4D29-B633-D2F818B86F18@syenar.hu>
References: <17789933.post@talk.nabble.com>
	<D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>
	<9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com>
	<32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
	<9257026e0806120233j49b35277sea4eb0d505abc0c2@mail.gmail.com>
	<68D399DE-B5F9-4D29-B633-D2F818B86F18@syenar.hu>
Message-ID: <9257026e0806120539o58428367t8d8805417f838d90@mail.gmail.com>

On Thu, Jun 12, 2008 at 12:23 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Mine has three features which makes it different from
> the CT one (maybe we can gather these and form a common direction):
> ...
> - Not-CT dependent. (irrelevant with Harbour)

Mine is not so "sophisticated" :) just a savescreen, box, @say/get,
restscreen pattern, but I've "integrated" controls like tbrowse,
textarea, notebook ( folders ), toolbar so any change would be
difficult also for me.

I'm working on a "long term" web/browser/RPC solution ( that would
really need MT :) but I'd be happy to find a "short term" solution to
enhance the look without a major rewrite.

My only "base" requirement is that it has to work on Linux and Win.
I don't see many Mac developers interested in xBase so aiming for a
native Mac UI is a no sense. :(

best regards,
Lorenzo
From mbelgrano at deltain.it  Thu Jun 12 08:45:34 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jun 12 08:45:41 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <9257026e0806120539o58428367t8d8805417f838d90@mail.gmail.com>
References: <17789933.post@talk.nabble.com><D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu><9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com><32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu><9257026e0806120233j49b35277sea4eb0d505abc0c2@mail.gmail.com><68D399DE-B5F9-4D29-B633-D2F818B86F18@syenar.hu>
	<9257026e0806120539o58428367t8d8805417f838d90@mail.gmail.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED37@SRV02.deltain.net>

What is MINE?


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo Fiorini
Sent: Thursday, June 12, 2008 2:40 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] GT- Multi-platform Messaging Interface

On Thu, Jun 12, 2008 at 12:23 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Mine has three features which makes it different from
> the CT one (maybe we can gather these and form a common direction):
> ...
> - Not-CT dependent. (irrelevant with Harbour)

Mine is not so "sophisticated" :) just a savescreen, box, @say/get,
restscreen pattern, but I've "integrated" controls like tbrowse,
textarea, notebook ( folders ), toolbar so any change would be
difficult also for me.

I'm working on a "long term" web/browser/RPC solution ( that would
really need MT :) but I'd be happy to find a "short term" solution to
enhance the look without a major rewrite.

My only "base" requirement is that it has to work on Linux and Win.
I don't see many Mac developers interested in xBase so aiming for a
native Mac UI is a no sense. :(

best regards,
Lorenzo
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From rportnoff at spendmap.com  Thu Jun 12 09:09:27 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Thu Jun 12 09:09:05 2008
Subject: [Harbour] Window updates vs. long Harbour processes
In-Reply-To: <20080612000154.GA26528@34-mo7-2.acn.waw.pl>
References: <28DABC0A-321D-4F24-8266-725E3F2C11B7@syenar.hu>
	<20080612000154.GA26528@34-mo7-2.acn.waw.pl>
Message-ID: <B0081167708@ms1.3peaks.com>

Hi Przemek,

>For systems which supports MT we can intorduce inspector
>thread...

BTW, there is a way to start a second thread in a single-threaded app 
also - I am not sure how this is done but Mediator does do it in my ST app.

Randy.


From lorenzo.fiorini at gmail.com  Thu Jun 12 09:10:37 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Jun 12 09:10:41 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED37@SRV02.deltain.net>
References: <17789933.post@talk.nabble.com>
	<D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>
	<9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com>
	<32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
	<9257026e0806120233j49b35277sea4eb0d505abc0c2@mail.gmail.com>
	<68D399DE-B5F9-4D29-B633-D2F818B86F18@syenar.hu>
	<9257026e0806120539o58428367t8d8805417f838d90@mail.gmail.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED37@SRV02.deltain.net>
Message-ID: <9257026e0806120610t28664604s98e619bd442d4bee@mail.gmail.com>

On Thu, Jun 12, 2008 at 2:45 PM, Massimo Belgrano <mbelgrano@deltain.it> wrote:

> What is MINE?

Isn't it english?

If it isn't I apologize. I meant "My custom window system".

best regards,
Lorenzo
From mbelgrano at deltain.it  Thu Jun 12 09:17:14 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jun 12 09:17:22 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <9257026e0806120610t28664604s98e619bd442d4bee@mail.gmail.com>
References: <17789933.post@talk.nabble.com><D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu><9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com><32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu><9257026e0806120233j49b35277sea4eb0d505abc0c2@mail.gmail.com><68D399DE-B5F9-4D29-B633-D2F818B86F18@syenar.hu><9257026e0806120539o58428367t8d8805417f838d90@mail.gmail.com><AFB948164110ED43B5EB849E8DEEF03815ED37@SRV02.deltain.net>
	<9257026e0806120610t28664604s98e619bd442d4bee@mail.gmail.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED38@SRV02.deltain.net>

NO sorry it my english that is very bad

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo
Fiorini
Sent: Thursday, June 12, 2008 3:11 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] GT- Multi-platform Messaging Interface

On Thu, Jun 12, 2008 at 2:45 PM, Massimo Belgrano <mbelgrano@deltain.it>
wrote:

> What is MINE?

Isn't it english?

If it isn't I apologize. I meant "My custom window system".

best regards,
Lorenzo
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From M.Horodyski at pzuzycie.com.pl  Thu Jun 12 09:18:51 2008
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Jun 12 09:18:59 2008
Subject: [Harbour] RE: Harbour Digest, Vol 20, Issue 77
In-Reply-To: <NLB01FECPx33E1ioWwr000032c3@gatein.pzuzycie.com.pl>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C95F05860@PINK.zycie.pzu>

>Date: Thu, 12 Jun 2008 14:27:32 +0200
>From: "Massimo Belgrano" <mbelgrano@deltain.it>
>Subject: RE: [Harbour] RE: Harbour Digest, Vol 20, Issue 73
>To: "Harbour Project Main Developer List."
>	<harbour@harbour-project.org>
>Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED35@SRV02.deltain.net>
>Content-Type: text/plain;	charset="us-ascii"
>
>Sorry but where is published Harbour Diges Vol ?

I do not understand, what is "Diges Vol" ?

Regards,
Marek
From mbelgrano at deltain.it  Thu Jun 12 09:51:10 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jun 12 09:51:17 2008
Subject: [Harbour] RE: Harbour Digest, Vol 20, Issue 77
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C95F05860@PINK.zycie.pzu>
References: <NLB01FECPx33E1ioWwr000032c3@gatein.pzuzycie.com.pl>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95F05860@PINK.zycie.pzu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED39@SRV02.deltain.net>

Is the name of this post
And I don't understand because i
I don't know a digest regarding harbour so I am curios


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Horodyski
Marek (PZUZ)
Sent: Thursday, June 12, 2008 3:19 PM
To: harbour@harbour-project.org
Subject: [Harbour] RE: Harbour Digest, Vol 20, Issue 77

>Date: Thu, 12 Jun 2008 14:27:32 +0200
>From: "Massimo Belgrano" <mbelgrano@deltain.it>
>Subject: RE: [Harbour] RE: Harbour Digest, Vol 20, Issue 73
>To: "Harbour Project Main Developer List."
>	<harbour@harbour-project.org>
>Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED35@SRV02.deltain.net>
>Content-Type: text/plain;	charset="us-ascii"
>
>Sorry but where is published Harbour Diges Vol ?

I do not understand, what is "Diges Vol" ?

Regards,
Marek
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mhsabado at gmail.com  Thu Jun 12 10:01:10 2008
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Thu Jun 12 10:15:44 2008
Subject: [Harbour] Re: FileCopy() Argument error
In-Reply-To: <4850c75d.060ec00a.5ce5.ffffd9faSMTPIN_ADDED@mx.google.com>
References: <4850c75d.060ec00a.5ce5.ffffd9faSMTPIN_ADDED@mx.google.com>
Message-ID: <48512C26.2000309@gmail.com>

>
> ------------------------------ Message: 3 Date: Thu, 12 Jun 2008 
> 10:42:44 +0800 From: "Mario H. Sabado" <mhsabado@gmail.com> Subject: 
> [Harbour] FileCopy() Argument error To: harbour@harbour-project.org 
> Message-ID: 
> <f81ad3e40806111942q1adddf31y96f627e1367879f8@mail.gmail.com> 
> Content-Type: text/plain; charset="iso-8859-1" Hi, I have the 
> following error when using FileCopy() function. I have verified that 
> my parameter contains valid values. Any hint?
>> >Error BASE/1066  Argument error: conditional
>> >Called from FILECOPY(114)
>>     
I confirm the fix after SVN 2008-06-12 08:55 UTC+0200.

Many thanks Viktor!

Regards,
Mario



From harbour.01 at syenar.hu  Thu Jun 12 12:02:26 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 12 12:02:38 2008
Subject: [Harbour] 2008-06-12 17:57 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cca5$Blat.v2.6.2$b55ddada$1d24bdcfcad6@127.0.0.1>

2008-06-12 17:57 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbmisc/strfmt.c
   + contrib/hbmisc/tests/tsstrfmt.prg
     + StrFormat() extended to automatically convert parameters 
       to strings, above that the result will AllTrim()-med too 
       before being inserted into the mask string:
       StrFormat( "%2 %1 born on %3", "Smith", "Mr.", Date() ) ->
       "Mr. Smith born on 06/12/08"
--
Brgds,
Viktor

From bedipritpal at hotmail.com  Thu Jun 12 12:23:07 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jun 12 12:23:12 2008
Subject: [Harbour] 2008-06-13 09:12 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <17803992.post@talk.nabble.com>


2008-06-13 09:12 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
   * harbour/source/rtl/gtwvt/gtwvt.c
   * harbour/include/hbgtinfo.ch
     + Added functionality to change Palette. 
       Hb_GtInfo( HB_GTI_PALETTE, aNewPalette ) -> aOldPalette
       <aNewPalette> must be of 16 elements containg RGB colors.

   * harbour/tests/wvtext.prg
     * Updated to demonstrate palette info.
     ; TODO : Hb_GtInfo( HB_GTI_PALETTEBYINDEX, nIndex[, nNewRGB ] ) ->
nOldRGB
       Needs deeper modifications in GT core. Needs additional parameter 
       in core setup. Will commit today.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-13-09%3A12-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17803992p17803992.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Thu Jun 12 12:25:28 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jun 12 12:25:38 2008
Subject: [Harbour] Little testing in harbour test
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED3D@SRV02.deltain.net>

In Harbour\test 
The STANDAR batch (bld_b32) is not able compiling wvtext Is possible add
a pragma for made easy compilatiom from user?
Is not Possible compile test\alias.prg Error: Unresolved external
'_HB_FUN_TEST' 

Massimo Belgrano


From harbour.01 at syenar.hu  Thu Jun 12 12:48:20 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 12 12:49:21 2008
Subject: [Harbour] 2008-06-13 09:12 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <17803992.post@talk.nabble.com>
References: <17803992.post@talk.nabble.com>
Message-ID: <E9D57866-0539-49BB-AC1A-AB8799A4BC70@syenar.hu>

> 2008-06-13 09:12 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * harbour/source/rtl/gtwvt/gtwvt.c
>   * harbour/include/hbgtinfo.ch
>     + Added functionality to change Palette.
>       Hb_GtInfo( HB_GTI_PALETTE, aNewPalette ) -> aOldPalette
>       <aNewPalette> must be of 16 elements containg RGB colors.
>
>   * harbour/tests/wvtext.prg
>     * Updated to demonstrate palette info.
>     ; TODO : Hb_GtInfo( HB_GTI_PALETTEBYINDEX, nIndex[, nNewRGB ] ) ->
> nOldRGB

Hi Pritpal, please use the same 'HB_GTI_PALETTE' name as above.
If the second parameter is an array, you handle it that
way, if it's a numeric, you handle it the new way. They
don't collide.

Brgds,
Viktor

From rodrmigu at gmail.com  Thu Jun 12 13:18:41 2008
From: rodrmigu at gmail.com (Rodrigo Miguel)
Date: Thu Jun 12 13:19:06 2008
Subject: [Harbour] Migrating from xHarbour to Harbour
In-Reply-To: <E6960C41-D6D3-4715-BC55-192C24F8F12A@syenar.hu>
References: <80b05d460806100637u538876b5t8fb69f1d405defa0@mail.gmail.com>
	<20080610140857.GA32659@34-mo7-2.acn.waw.pl>
	<E6960C41-D6D3-4715-BC55-192C24F8F12A@syenar.hu>
Message-ID: <80b05d460806121018g5d94cb2fj8534b816f72aa37e@mail.gmail.com>

All,

Just a feedback. Everything is working pretty good. I'm able to get my apps
working fine with harbour.

Thanks a lot.
Rodrigo

On Tue, Jun 10, 2008 at 11:14 AM, Szak?ts Viktor <harbour.01@syenar.hu>
wrote:

> Hi folks,
>
> I've added the two crypt functions to xhb.
>
> I'll also add HB_FReadLine() to it.
>
> valtoprgexp() is written in highly unportable xhb
> code, so I won't attempt.
>
> Brgds,
> Viktor
>
>
> On 2008.06.10., at 16:08, Przemyslaw Czerpak wrote:
>
>  On Tue, 10 Jun 2008, Rodrigo Miguel wrote:
>>
>> Hi Rodrigo,
>>
>>  I found just a small issues during my migration from xharbour to harbour.
>>> Here are a list of missing functions:
>>> obj/comun.o:comun.c:(.data+0x3e8): undefined reference to
>>> `HB_FUN_GETDEFAULTPRINTER'
>>> obj/senhas.o:senhas.c:(.data+0x828): undefined reference to
>>> `HB_FUN_GETPRINTERS'
>>> obj/senhas.o:senhas.c:(.data+0x898): undefined reference to
>>> `HB_FUN_HB_CRYPT'
>>> obj/senhas.o:senhas.c:(.data+0x8e8): undefined reference to
>>> `HB_FUN_HB_DECRYPT'
>>> obj/senhas.o:senhas.c:(.data+0x938): undefined reference to
>>> `HB_FUN_HB_FREADLINE'
>>> g:/gtklib/lib/libgtklib.a(errorsys.o):errorsys.c:(.data+0x1b8): undefined
>>> reference to `HB_FUN_VALTOPRGEXP'
>>> g:/gtklib/lib/libgtklib.a(network.o):network.c:(.data+0x358): undefined
>>> reference to `HB_FUN_HASH'
>>> g:/gtklib/lib/libgtklib.a(network.o):network.c:(.data+0x678): undefined
>>> reference to `HB_FUN_HGETKEYS'
>>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x538):
>>> undefined
>>> reference to `HB_FUN_INETINIT'
>>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x548):
>>> undefined
>>> reference to `HB_FUN_INETCONNECT'
>>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x558):
>>> undefined
>>> reference to `HB_FUN_INETSETTIMEOUT'
>>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x568):
>>> undefined
>>> reference to `HB_FUN_INETERRORCODE'
>>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x578):
>>> undefined
>>> reference to `HB_FUN_INETSENDALL'
>>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x588):
>>> undefined
>>> reference to `HB_FUN_INETDATAREADY'
>>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x598):
>>> undefined
>>> reference to `HB_FUN_INETRECVALL'
>>> g:/gtklib/lib/libgtklib.a(functions.o):functions.c:(.data+0x5c8):
>>> undefined
>>> reference to `HB_FUN_INETCLOSE'
>>> g:/gtklib/lib/libgtklib.a(printer.o):printer.c:(.data+0xb8): undefined
>>> reference to `HB_FUN_HB_FREADLINE'
>>> g:/gtklib/lib/libgtklib.a(report.o):report.c:(.data+0x1a8): undefined
>>> reference to `HB_FUN_GETACTIVEOBJECT'
>>> g:/gtklib/lib/libgtklib.a(report.o):report.c:(.data+0x1b8): undefined
>>> reference to `HB_FUN_CREATEOBJECT'
>>> g:/xhgtk/lib/libxhgtk.a(TTreeView.o):TTreeView.c:(.data+0x198): undefined
>>> reference to `HB_FUN_PVALUE'
>>>
>>> Hashs, PValue, FReadline and valtoprgexp I can rewrite to be harbour
>>> compatible. The printer functions I think I can write that one using
>>> windows
>>> api's, so not a problem at all.
>>> So, my only concerns are related to Crypt/Decrypt, Inet and OLE
>>> functions,
>>> anyway, is there this type of functions available for harbour as well?
>>>
>>
>> Most of the above functions are available for Harbour but with HB_ *
>> prefix. You can also add to your source code:
>>  #include "hbcompat.ch"
>> which will make such trnaslations automatically during compilation.
>>
>> HB_CRYPT()/HB_DECRYPT() does not exists though they can be easy added
>> to contrib/xhb library. It's not very strong encyption and maybe
>> it will be better to reserve such generaic names for future Harbour
>> encryption so I do not want to add it to core code now. If you do not
>> need binary compatibility then it will be enough to make:
>>  #xtrnaslate HB_CRYPT(<x,..>)   => sx_enCrypt(<x>)
>>  #xtrnaslate HB_DECRYPT(<x,..>) => sx_deCrypt(<x>)
>> For binary compatibility I'll add these function to XHB library soon.
>>
>> The printer functions are already included in XHB lib.
>>
>> CREATEOBJECT()/GETACTIVEOBJECT() are part of HBW32 library.
>>
>> We do not have VALTOPRGEXP() function but in many cases you can use
>> as replacement HB_VALTOEXP(). It's not exactly the same so you should
>> check if it will be enough for you. Here we can also add xHarbour
>> version of VALTOPRGEXP() to XHB library.
>>
>> HB_FREADLINE() does not exist in Harbour though it also can be added
>> to XHB library.
>>
>> best regards,
>> Przemek
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080612/65d4b2cd/attachment.html
From bedipritpal at hotmail.com  Thu Jun 12 13:55:25 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jun 12 13:55:27 2008
Subject: [Harbour] 2008-06-13 09:12 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <E9D57866-0539-49BB-AC1A-AB8799A4BC70@syenar.hu>
References: <17803992.post@talk.nabble.com>
	<E9D57866-0539-49BB-AC1A-AB8799A4BC70@syenar.hu>
Message-ID: <17805948.post@talk.nabble.com>


Vikstor

<<<
Hi Pritpal, please use the same 'HB_GTI_PALETTE' name as above.
If the second parameter is an array, you handle it that
way, if it's a numeric, you handle it the new way. They
don't collide.
>>>

Already along these lines.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/2008-06-13-09%3A12-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17803992p17805948.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Jun 12 14:01:45 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jun 12 14:01:48 2008
Subject: [Harbour] 2008-06-13 10:56 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <17806095.post@talk.nabble.com>


2008-06-13 10:56 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
   * harbour/source/rtl/gtwvt/gtwvt.c
   * harbour/source/rtl/gtfunc.c
   * harbour/include/hbapigt.h
     + Added Palette implementation by color index.
       Hb_GtInfo( HB_GTI_PALETTE, nIndex[, nNewRGB ] ) -> nOldRGB
   
   * harbour/tests/wvtext.prg
     * Updated to demonstrate above functionality.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-13-10%3A56-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17806095p17806095.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From info at fsgiudice.com  Thu Jun 12 14:10:19 2008
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Jun 12 14:10:30 2008
Subject: [Harbour] Window updates vs. long Harbour processes
In-Reply-To: <17790192.post@talk.nabble.com>
References: <28DABC0A-321D-4F24-8266-725E3F2C11B7@syenar.hu>	<20080612000154.GA26528@34-mo7-2.acn.waw.pl>
	<17790192.post@talk.nabble.com>
Message-ID: <4851668B.6000001@fsgiudice.com>

Hi Pripal and others,

sorry to jump in and if I miss something, but, reading fastly I have 
understood that you have problem with long loops or intensive jobs.
In Windows I have solved it using code I have written and attached here.

Use it inside heavy loop as shown in example on top of file.
Please test it because I haven't tested alone (it is extracted from a 
lib of mine). So, probably, I missed some header needed.

If you find usefull please add to SVN.

Best Regards

Francesco Saverio Giudice

Pritpal Bedi ha scritto:
> Hello Przemek
> 
> <<<
> It's problem with GUI GTs: GTWVT and GTXWC. In the most
> of GUI system application has to redraw its screen contents.
> Probaly in each OS some hacks exists which alows to move
> this job to OS. F.e. on some X-Window systems it's possible
> to set bitamp as window background and it will be redrawn
> automatically by window manager so GT only have to update
> this bitamp on output. Probably sth like that exists also
> for MS-Windows. But because it will be hack which can cause
> troubles in portability I left it for the future.
> 
> Exactly this I wanted for GTWVG but could not find a better way.
> 
> <<<
> BTW I do not like that GTWVG draws into two areas: directly
> to window and to internal bitamp. IMHO it will be much
> easier to update only internal bitmap and restore the
> screen from this bitamp or if possible to make it window
> background as I wrote above.
> 
> As I said I could not find other ways to achieve this.
> May be my knowledge in WinAPI was very limited then.
> Can you please give me a clue how this can be changed.
> A line or two of code will be enough to move into that direction.
> 
> <<<
> Please remember that we also need common system for
> inspecting incomming events. 
> 
> For this point in mind I just suggested 
> HB_GTE_INKEY
> but still has not been accepted by the group. 
> 
> <<<
> So far I'm using my
> own library which uses select() for it (in *nixes
> select() can watch for any type of handles not only
> for sockets like in MS-Win). Anyhow it will be very
> nice to have a solution on Harbour level which will
> work also in MS-Windows and as I said I plan to work
> on it.
> 
> For sure I will wait for it to happen.
> 
> Regards
> Pritpal Bedi
> 
-------------- next part --------------

/*
  2006 (C) Francesco Saverio Giudice
  hb_SystemMessageRelease( <nMilliseconds> ) -> <lQuit>

  This function releases application message queue.
  It is usefull inside a heavy loop or file or dbf handling and it will empty message queue like Screen Updating.
  It will wait until or time will expires or an keyoboard or mouse event will be intercepted in queue or queue
  will be empty.

  Parameters :
  nMilliseconds = 0 is INFINITE or a limited milliseconds time

  Returns:
  lQuit         = .T. if there is a WM_QUIT inside message queue (to be handled from application)

  Example:

  ....
  DO WHILE !Eof()

     field->name := cName
     ...

     // Release Windows Application Queue
     IF hb_SystemMessageRelease()
        // WM_QUIT intercepted
        EXIT
     ENDIF

     SKIP

  ENDDO
  ....

*/

#define HB_OS_WIN_32_USED

#include <windows.h>

#include "hbapiitm.h"
#include "item.api"

BOOL hb_SystemMessageRelease( int iMsec )
{
   int iQuit = (int) FALSE;

   HANDLE hDummyEvent = CreateEvent(NULL, FALSE, FALSE, NULL);

   /* Begin the operation and continue until it is complete
      or until the user clicks the mouse or presses a key. */

   while (MsgWaitForMultipleObjects(1, &hDummyEvent, FALSE, ( iMsec == 0, INFINITE, iMsec ), QS_ALLINPUT | QS_ALLPOSTMESSAGE) == WAIT_OBJECT_0 + 1)
   {
      MSG msg;
      while (PeekMessage(&msg, NULL,  0, 0, PM_REMOVE))
      {
         switch(msg.message)
         {
             case WM_QUIT:
             {
                  iQuit = (int) msg.wParam;
                  goto stopLoop;
             }
             default:
                TranslateMessage(&msg);
                DispatchMessage(&msg);
         }

      }
      if (!iQuit)
      {
         goto stopLoop;
      }
   }

stopLoop:

   CloseHandle( hDummyEvent );

   return iQuit;

}

HB_FUNC( HB_SYSTEMMESSAGERELEASE )
{
   hb_retl( hb_SystemMessageRelease( ( ISNIL( 1 ) ? 0 : hb_parni( 1 ) ) ) );
}
From rportnoff at spendmap.com  Thu Jun 12 14:19:53 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Thu Jun 12 14:18:41 2008
Subject: [Harbour] Window updates vs. long Harbour processes
In-Reply-To: <4851668B.6000001@fsgiudice.com>
References: <28DABC0A-321D-4F24-8266-725E3F2C11B7@syenar.hu>
	<20080612000154.GA26528@34-mo7-2.acn.waw.pl>
	<17790192.post@talk.nabble.com> <4851668B.6000001@fsgiudice.com>
Message-ID: <B0081176190@ms1.3peaks.com>

Hi Francesco,

The problem is when the delay is outside the control of the PRG code 
(eg. a SQL query) where control is transferred to some other non-PRG 
process and the PRG process must wait until it completes - In this 
case, anything in the PRG code cannot help as is not running.

As I mentioned, in Windows this can be handled with a second thread - 
I have no idea what to do in other operating systems.

Randy.


At 02:10 PM 6/12/2008, you wrote:
>Hi Pripal and others,
>
>sorry to jump in and if I miss something, but, reading fastly I have 
>understood that you have problem with long loops or intensive jobs.
>In Windows I have solved it using code I have written and attached here.
>
>Use it inside heavy loop as shown in example on top of file.
>Please test it because I haven't tested alone (it is extracted from 
>a lib of mine). So, probably, I missed some header needed.
>
>If you find usefull please add to SVN.
>
>Best Regards
>
>Francesco Saverio Giudice
>
>Pritpal Bedi ha scritto:
>>Hello Przemek
>><<<
>>It's problem with GUI GTs: GTWVT and GTXWC. In the most
>>of GUI system application has to redraw its screen contents.
>>Probaly in each OS some hacks exists which alows to move
>>this job to OS. F.e. on some X-Window systems it's possible
>>to set bitamp as window background and it will be redrawn
>>automatically by window manager so GT only have to update
>>this bitamp on output. Probably sth like that exists also
>>for MS-Windows. But because it will be hack which can cause
>>troubles in portability I left it for the future.
>>Exactly this I wanted for GTWVG but could not find a better way.
>><<<
>>BTW I do not like that GTWVG draws into two areas: directly
>>to window and to internal bitamp. IMHO it will be much
>>easier to update only internal bitmap and restore the
>>screen from this bitamp or if possible to make it window
>>background as I wrote above.
>>As I said I could not find other ways to achieve this.
>>May be my knowledge in WinAPI was very limited then.
>>Can you please give me a clue how this can be changed.
>>A line or two of code will be enough to move into that direction.
>><<<
>>Please remember that we also need common system for
>>inspecting incomming events.
>>For this point in mind I just suggested HB_GTE_INKEY
>>but still has not been accepted by the group.
>><<<
>>So far I'm using my
>>own library which uses select() for it (in *nixes
>>select() can watch for any type of handles not only
>>for sockets like in MS-Win). Anyhow it will be very
>>nice to have a solution on Harbour level which will
>>work also in MS-Windows and as I said I plan to work
>>on it.
>>For sure I will wait for it to happen.
>>Regards
>>Pritpal Bedi
>
>
>
>/*
>   2006 (C) Francesco Saverio Giudice
>   hb_SystemMessageRelease( <nMilliseconds> ) -> <lQuit>
>
>   This function releases application message queue.
>   It is usefull inside a heavy loop or file or dbf handling and it 
> will empty message queue like Screen Updating.
>   It will wait until or time will expires or an keyoboard or mouse 
> event will be intercepted in queue or queue
>   will be empty.
>
>   Parameters :
>   nMilliseconds = 0 is INFINITE or a limited milliseconds time
>
>   Returns:
>   lQuit         = .T. if there is a WM_QUIT inside message queue 
> (to be handled from application)
>
>   Example:
>
>   ....
>   DO WHILE !Eof()
>
>      field->name := cName
>      ...
>
>      // Release Windows Application Queue
>      IF hb_SystemMessageRelease()
>         // WM_QUIT intercepted
>         EXIT
>      ENDIF
>
>      SKIP
>
>   ENDDO
>   ....
>
>*/
>
>#define HB_OS_WIN_32_USED
>
>#include <windows.h>
>
>#include "hbapiitm.h"
>#include "item.api"
>
>BOOL hb_SystemMessageRelease( int iMsec )
>{
>    int iQuit = (int) FALSE;
>
>    HANDLE hDummyEvent = CreateEvent(NULL, FALSE, FALSE, NULL);
>
>    /* Begin the operation and continue until it is complete
>       or until the user clicks the mouse or presses a key. */
>
>    while (MsgWaitForMultipleObjects(1, &hDummyEvent, FALSE, ( iMsec 
> == 0, INFINITE, iMsec ), QS_ALLINPUT | QS_ALLPOSTMESSAGE) == WAIT_OBJECT_0 + 1)
>    {
>       MSG msg;
>       while (PeekMessage(&msg, NULL,  0, 0, PM_REMOVE))
>       {
>          switch(msg.message)
>          {
>              case WM_QUIT:
>              {
>                   iQuit = (int) msg.wParam;
>                   goto stopLoop;
>              }
>              default:
>                 TranslateMessage(&msg);
>                 DispatchMessage(&msg);
>          }
>
>       }
>       if (!iQuit)
>       {
>          goto stopLoop;
>       }
>    }
>
>stopLoop:
>
>    CloseHandle( hDummyEvent );
>
>    return iQuit;
>
>}
>
>HB_FUNC( HB_SYSTEMMESSAGERELEASE )
>{
>    hb_retl( hb_SystemMessageRelease( ( ISNIL( 1 ) ? 0 : hb_parni( 1 ) ) ) );
>}
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From gvarona at ec-red.com  Thu Jun 12 14:25:18 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Thu Jun 12 14:25:38 2008
Subject: [Harbour] Testing wvtext.prg
Message-ID: <48516A0E.7030608@ec-red.com>

How can build wvtext.exe.
What LIB missing?
I get it's messages of error:

Proyecto: tst_CT, Entorno: MinGW_H_DOS_GVS:
[1]:gcc.Exe -otst_CT.Exe -Wall -mno-cygwin  -mconsole tst_CT.gcl
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x56f): undefined 
reference to `CreateFontIndirectA@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x583): undefined 
reference to `GetStockObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x928): undefined 
reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x949): undefined 
reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x961): undefined 
reference to `GetTextMetricsA@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x977): undefined 
reference to `SetTextCharacterExtra@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x98c): undefined 
reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0xdfa): undefined 
reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0xe13): undefined 
reference to `SetTextCharacterExtra@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0xe2b): undefined 
reference to `GetTextMetricsA@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0xe40): undefined 
reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0xed3): undefined 
reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1a81): 
undefined reference to `CreateRectRgn@16'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1aa7): 
undefined reference to `CreateRectRgn@16'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1ad1): 
undefined reference to `CreateRectRgn@16'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1af8): 
undefined reference to `CombineRgn@16'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1b28): 
undefined reference to `InvertRgn@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1b51): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1b5f): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1b6d): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x2765): 
undefined reference to `SetTextColor@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x278b): 
undefined reference to `SetBkColor@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x27a1): 
undefined reference to `SetTextAlign@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x2866): 
undefined reference to `ExtTextOutA@32'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x28b1): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x3085): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x309d): 
undefined reference to `GetTextMetricsA@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x30b2): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x3660): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x3a64): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a11): 
undefined reference to `CreatePen@12'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a29): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a3a): 
undefined reference to `CreateSolidBrush@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a52): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a79): 
undefined reference to `MoveToEx@16'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a95): 
undefined reference to `LineTo@12'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4aaa): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4abf): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4acd): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4adb): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4b61): 
undefined reference to `CreatePen@12'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4b79): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4b8a): 
undefined reference to `CreateSolidBrush@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4ba2): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4bc9): 
undefined reference to `MoveToEx@16'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4be5): 
undefined reference to `LineTo@12'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4bfa): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4c0f): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4c1d): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4c2b): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4cc9): 
undefined reference to `CreatePen@12'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4ce1): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4cf2): 
undefined reference to `CreateSolidBrush@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4d0a): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4d3e): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4d53): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4d61): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4d6f): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4df5): 
undefined reference to `CreatePen@12'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4e0d): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4e1e): 
undefined reference to `CreateSolidBrush@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4e36): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4e63): 
undefined reference to `Rectangle@20'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4e78): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4e8d): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4e9b): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4ea9): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4f2f): 
undefined reference to `CreatePen@12'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4f47): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4f58): 
undefined reference to `CreateSolidBrush@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4f70): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5005): 
undefined reference to `Arc@36'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x501a): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x502f): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x503d): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x504b): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x50d1): 
undefined reference to `CreatePen@12'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x50e9): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x50fa): 
undefined reference to `CreateSolidBrush@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5112): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5187): 
undefined reference to `Ellipse@20'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x519c): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x51b1): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x51bf): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x51cd): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5253): 
undefined reference to `CreatePen@12'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x526b): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x527c): 
undefined reference to `CreateSolidBrush@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5294): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5329): 
undefined reference to `Arc@36'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x533e): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5353): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5361): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x536f): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x53f5): 
undefined reference to `CreatePen@12'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x540d): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x541e): 
undefined reference to `CreateSolidBrush@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5436): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x54ab): 
undefined reference to `Ellipse@20'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x54c0): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x54d5): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x54e3): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x54f1): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5577): 
undefined reference to `CreatePen@12'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x558f): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x55a0): 
undefined reference to `CreateSolidBrush@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x55b8): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x55de): 
undefined reference to `FloodFill@16'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x55f3): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5608): 
undefined reference to `SelectObject@8'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5616): 
undefined reference to `DeleteObject@4'
C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5624): 
undefined reference to `DeleteObject@4'
collect2: ld returned 1 exit status

Best Regards
GVS
From info at fsgiudice.com  Thu Jun 12 14:39:00 2008
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Jun 12 14:39:08 2008
Subject: [Harbour] Window updates vs. long Harbour processes
In-Reply-To: <B0081176190@ms1.3peaks.com>
References: <28DABC0A-321D-4F24-8266-725E3F2C11B7@syenar.hu>	<20080612000154.GA26528@34-mo7-2.acn.waw.pl>	<17790192.post@talk.nabble.com>
	<4851668B.6000001@fsgiudice.com> <B0081176190@ms1.3peaks.com>
Message-ID: <48516D44.2000706@fsgiudice.com>

Hi Randy,

Randy Portnoff ha scritto:
  > The problem is when the delay is outside the control of the PRG code
> (eg. a SQL query) where control is transferred to some other non-PRG 
> process and the PRG process must wait until it completes - In this case, 
> anything in the PRG code cannot help as is not running.

good point, I missed it before, but apart from external queries (like 
SQL), inside harbour code, either at PRG or at C level, I find it usefull.

> 
> As I mentioned, in Windows this can be handled with a second thread 

or with MT version (that is another thread)

> - I have no idea what to do in other operating systems.
> 

Like me, but I wonder if there is a similar function for other systems

Best Regards

Francesco
From jarabal at ya.com  Thu Jun 12 14:41:17 2008
From: jarabal at ya.com (Javier)
Date: Thu Jun 12 14:41:32 2008
Subject: [Harbour] 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <48510DDA.6090906@ya.com>
References: <01c8c891$Blat.v2.6.2$c42517bc$19c08d8bc010@127.0.0.1>	<484BEA96.40101@ya.com>	<FABECC9C-2B6B-4D9B-B5D7-8393A474E40F@syenar.hu>	<484C0D2F.7090509@ya.com>	<B6022834-8A3A-4866-B0E0-5D8C180CF3D6@syenar.hu>	<48502200.10101@ya.com>	<4850D219.2010605@dbtopas.lt>
	<48510DDA.6090906@ya.com>
Message-ID: <48516DCD.2020003@ya.com>

Sorry for my error.-

? _SPD( "[%-15s] [%8.1f]", "It's number", 5.5.) // => "[It's number    ] 
[     5.5]"

For ANSI SQL is only new 't' converter everything others is clone C 
sprintf() or error in type data of sprintf(), so we could convert the 
Harbour types of data LOGIC and DATES with the 's' converter.
I think that for the logical type is not problem presents TRUE instead 
of T for a 's' converter but I could present T or.T. for 's' and TRUE/ 
FALSE for 't', conserving 1/ 0 for the remainder converters. So the only 
thing left are the dates. Well, 't' converter to present ANSI SQL Dates 
"'2008-06-12'" and "'String''s'" by defatult "%t" or with .-
"%{YYYYMMDD hh:mm:ss.ccc}t" // => "'20080612 13:41:49.000'"
And the 's' converter by default "%s" with hb_set.HB_SET_DATEFORMAT or 
with .-
"%{YYYYMMDD hh:mm:ss.ccc}s" // => "20080612 13:41:49.000"

I don't see anything more in Sprintf() for Harbour and SQL always 
thinking in C sprintf(), this not replace Transform().
There is no problem in implementing these changes if there is consensus 
and I do not think that reduce benefits but I do not seem logical to 
have "additional implementations with different names" and neither 
exists a PHP_Sprintf() is Sprintf ().

Best regards
Xavi

Javier escribi?:
> Thanks Mindaugas, I very much appreciate your views.
>
> Mindaugas Kavaliauskas escribi?:
>> New flags worth to be implemented can be:
>> 1) string and numbers trimming (it would be usefull because .dbf 
>> fields are space PADR'ed);
> But this already it does sprintf.-
>
> _SPD("[%15s] [%8.1f]", "It's number", 5.5) // => "[    It's number] 
> [     5.5]"
>
>> 2) some 'plain portable format' flag for printing date;
>> time in '20080612' instead of _SET_DATE '12/06/08'. If we find a way 
>> to specify a full date formating, I see it also usefull, example:
>> %'YYYY-MM-DD hh:mm:ss.ttt't.
> This I like much.-
>
> "%{YYYYMMDD hh:mm:ss.ccc}s" // => "20080612 13:41:49.000"
> "%{YYYYMMDD hh:mm:ss.ccc}t" // => "'20080612 13:41:49.000'"
>
> Best regards
> Xavi
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From bedipritpal at hotmail.com  Thu Jun 12 16:58:45 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jun 12 16:58:49 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>
References: <17789933.post@talk.nabble.com>
	<D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>
Message-ID: <17809551.post@talk.nabble.com>


Hello

Now we have one more slot in Hb_GtInfo() so back to this point again

<<<
> HB_GTI_GETWINDOWHANDLE
> HB_GTI_NEWWINDOW

Can we use the existing names HB_GTI_???WIN?
>>>

We can if group agrees. But because these constants are 
returning values specially HB_GTI_GETWIN, I think these are not 
the placeholders for what I was proposing.

>hb_gtInfo( HB_GTI_SPECFEATURE, <HB_GTI_WVT_EXTRAFEATURE>[,  xNewValue ] )
-> <xOldValue>

Me too vote for this construct. 

<<<
But the fundamental problem with both is that
we're again introducing a way to make the GTs
behave differently. So it kind of ruins the concept.

If we already have such stuff in common GT,
maybe it'd be better to switch them to the above
method, but I feel this would just give way for
lots of GT specific features, so overall I think
it creates more problems.

BTW, the third method, and the one used for RDDs
too, is to simply use hb_gt_wvt_<extrafeature>()
kind of calls. This has the downside that app
code needs to use #defines to exclude such call
if the GT is not linked (just like for RDDs).
The conceptual problem remains here too though.
>>>

This fundamental problem cannot be overcome completely ever.

We alao analyze the it from another perspective too.
Each GT has some proprietory features which other GT 
may/may not have. You write the application under one
GT and suddenly you realize that my another customer 
has changed his references. If you try to update to his
wishes you suddenly find yourself short of slots to hook
required functionality.

As a programmer, I am always aware I am writing what.
If I issue a GTI instruction I always know what its ittent is.
If I write only for terminal, I know I have to avoid GUI messages.
But still if I do so, chances are that GT will not do anything 
if the GTI command does not belong to it. But certainly it will
avoid rewiting of new code o hooking to a separate library
and using #ifdefs.

Having said that I propose these constants:

HB_GTI_MESSAGE
   HB_GTM_HWND
   HB_GTM_SHOWWND
   HB_GTM_CREATEWND
   HB_GTM_CLOSEWND
   HB_GTM_SELECTWND
   HB_GTM_CENTERWND
   HB_GTM_PROCESSMSG
   HB_GTM_INVALIDATE
   HB_GTM_SETTIMER
   HB_GTM_KILLTIMER
   HB_GTM_KEYBOARD
   HB_GTM_MAXIMIZE
   HB_GTM_MINIMIZE
   HB_GTM_SETONTOP
   HB_GTM_SETASNORMAL
   HB_GTM_MOUSEPOS
   HB_GTM_USER

These are some specific messages a window can manipulate
and these are generic ones. Every GT cn take use of it in 
some form or the other. Particular GT specific messages will
start at HB_GTM_USER + nMessage.

For example:
Hb_GtInfo( HB_GTI_MESSAGE, HB_GTM_SHOWWND, SW_HIDE ) 

Opinions, suggestions, restrictions, etc.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/GT--Multi-platform-Messaging-Interface-tp17789933p17809551.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Jun 12 17:14:48 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jun 12 17:14:52 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
References: <17789933.post@talk.nabble.com>
	<D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>
	<9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com>
	<32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
Message-ID: <17809847.post@talk.nabble.com>


Hello Viktor

<<<
As a first step I would personally add (~move from CT)
window support to core. I'm for example relying on
a custom written windowing system, so I cannot use the
CT one as is. Admittedly this is a rare thing, but
having windowing capabilities in core GT would be good
for everyone I guess.
>>>

This is what I am emphasizing since long and has also shown the
prototype and necessary changes in the GT core. But without
any takers...  :-((.

<<<
Having window support in core could create the bed
for natively windowing GTs (like GTWVW). From this
point on, the actual presentation could be changed to
more and more graphical.
>>>

A lot more can be added than we can think at this time, believe me.

<<<
BTW, there is GUI in XBase++ too, but it looks very
very "alien" even in Windows... for sure it doesn't
look professional.
>>>

I had worked on Xbase++ few years back and gave up beacause
of its message dispatching bugs and huge dll over baggage. I was 
able to do with its console windows what I did in GTWVG. I had
posted messages on NGs to that effect. Also I was able to modify
its Get Syatem to suit to multi-window consoles. I attained a good
success but left inbetween because their message dispatching
was giving me the nightmares. Appln was handing at odd times.

For sure Xbase++'s MT modal is superb. I still feel the punch of it 
not having it into [x]Harbour. I agree with you its GUI is very basic.
I have written few classes confirming to Xbase++ syntax for GUI
parts, e.g., xbpTreeView(), xbpPushButton(), xbpStatic() etc.

If we intend to go towards GUI, may be separate off GT core 
or along with it, I can submit its basic code.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/GT--Multi-platform-Messaging-Interface-tp17789933p17809847.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From gvarona at ec-red.com  Thu Jun 12 18:12:40 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Thu Jun 12 18:12:47 2008
Subject: [Harbour] Testing wvtext.prg
In-Reply-To: <48516A0E.7030608@ec-red.com>
References: <48516A0E.7030608@ec-red.com>
Message-ID: <48519F58.1060208@ec-red.com>

Guillermo Varona Silup? escribi?:
> How can build wvtext.exe.
> What LIB missing?
> I get it's messages of error:
>
> Proyecto: tst_CT, Entorno: MinGW_H_DOS_GVS:
> [1]:gcc.Exe -otst_CT.Exe -Wall -mno-cygwin  -mconsole tst_CT.gcl
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x56f): 
> undefined reference to `CreateFontIndirectA@4'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x583): 
> undefined reference to `GetStockObject@4'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x928): 
> undefined reference to `DeleteObject@4'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x949): 
> undefined reference to `SelectObject@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x961): 
> undefined reference to `GetTextMetricsA@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x977): 
> undefined reference to `SetTextCharacterExtra@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0xe13): 
> undefined reference to `SetTextCharacterExtra@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0xe2b): 
> undefined reference to `GetTextMetricsA@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0xe40): 
> undefined reference to `SelectObject@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1ad1): 
> undefined reference to `CreateRectRgn@16'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1af8): 
> undefined reference to `CombineRgn@16'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1b28): 
> undefined reference to `InvertRgn@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x2765): 
> undefined reference to `SetTextColor@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x278b): 
> undefined reference to `SetBkColor@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x27a1): 
> undefined reference to `SetTextAlign@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x2866): 
> undefined reference to `ExtTextOutA@32'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x309d): 
> undefined reference to `GetTextMetricsA@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a11): 
> undefined reference to `CreatePen@12'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a3a): 
> undefined reference to `CreateSolidBrush@4'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a79): 
> undefined reference to `MoveToEx@16'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a95): 
> undefined reference to `LineTo@12'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4b8a): 
> undefined reference to `CreateSolidBrush@4'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4be5): 
> undefined reference to `LineTo@12'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4e63): 
> undefined reference to `Rectangle@20'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5005): 
> undefined reference to `Arc@36'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5187): 
> undefined reference to `Ellipse@20'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x55de): 
> undefined reference to `FloodFill@16'

In what LIBS are these functions?
?En qu? librer?as se estan estas funciones?

Enviro: WinXP SP2 + MinGW

Best Regars
GVS

From mbelgrano at deltain.it  Thu Jun 12 18:44:53 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jun 12 18:44:59 2008
Subject: [Harbour] Testing wvtext.prg
In-Reply-To: <48519F58.1060208@ec-red.com>
References: <48516A0E.7030608@ec-red.com> <48519F58.1060208@ec-red.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED40@SRV02.deltain.net>

I don't use minigw so I can post my setting
set HB_ARCHITECTURE=w32
set HB_COMPILER=bcc32
set HB_USER_LIBS=gtwvt.lib 
SET CFLAGS= -tW -a8 -OS -O2 -5 -6 

Have you added a bad library?

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Guillermo Varona Silup?
Sent: Friday, June 13, 2008 12:13 AM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Testing wvtext.prg

Guillermo Varona Silup? escribi?:
> How can build wvtext.exe.
> What LIB missing?
> I get it's messages of error:
>
> Proyecto: tst_CT, Entorno: MinGW_H_DOS_GVS:
> [1]:gcc.Exe -otst_CT.Exe -Wall -mno-cygwin  -mconsole tst_CT.gcl
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x56f): 
> undefined reference to `CreateFontIndirectA@4'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x583): 
> undefined reference to `GetStockObject@4'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x928): 
> undefined reference to `DeleteObject@4'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x949): 
> undefined reference to `SelectObject@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x961): 
> undefined reference to `GetTextMetricsA@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x977): 
> undefined reference to `SetTextCharacterExtra@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0xe13): 
> undefined reference to `SetTextCharacterExtra@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0xe2b): 
> undefined reference to `GetTextMetricsA@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0xe40): 
> undefined reference to `SelectObject@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1ad1): 
> undefined reference to `CreateRectRgn@16'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1af8): 
> undefined reference to `CombineRgn@16'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1b28): 
> undefined reference to `InvertRgn@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x2765): 
> undefined reference to `SetTextColor@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x278b): 
> undefined reference to `SetBkColor@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x27a1): 
> undefined reference to `SetTextAlign@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x2866): 
> undefined reference to `ExtTextOutA@32'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x309d): 
> undefined reference to `GetTextMetricsA@8'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a11): 
> undefined reference to `CreatePen@12'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a3a): 
> undefined reference to `CreateSolidBrush@4'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a79): 
> undefined reference to `MoveToEx@16'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a95): 
> undefined reference to `LineTo@12'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4b8a): 
> undefined reference to `CreateSolidBrush@4'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4be5): 
> undefined reference to `LineTo@12'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4e63): 
> undefined reference to `Rectangle@20'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5005): 
> undefined reference to `Arc@36'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5187): 
> undefined reference to `Ellipse@20'
> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x55de): 
> undefined reference to `FloodFill@16'

In what LIBS are these functions?
?En qu? librer?as se estan estas funciones?

Enviro: WinXP SP2 + MinGW

Best Regars
GVS

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Thu Jun 12 18:47:55 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jun 12 18:48:01 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <17809847.post@talk.nabble.com>
References: <17789933.post@talk.nabble.com><D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu><9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com><32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
	<17809847.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED41@SRV02.deltain.net>

Interesting!

-----Original Message-----

>If we intend to go towards GUI, may be separate off GT core 
>or along with it, I can submit its basic code.



From mbelgrano at deltain.it  Thu Jun 12 18:57:06 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jun 12 18:57:11 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
References: <17789933.post@talk.nabble.com><D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu><9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com>
	<32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED42@SRV02.deltain.net>

I subscribe all assertion



-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Thursday, June 12, 2008 8:49 AM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] GT- Multi-platform Messaging Interface

> For example Teo has a project on SF called wxHarbour.
>
> If we careful plan the goals and share the work between the very few C
> developers and the few prg developers we could probably achieve
> something useful in not much time.

As a first step I would personally add (~move from CT)
window support to core. I'm for example relying on
a custom written windowing system, so I cannot use the
CT one as is. Admittedly this is a rare thing, but
having windowing capabilities in core GT would be good
for everyone I guess.

This way CT windowing could become just a thin(nish)
compatibility layer above the core implementation.

Having window support in core could create the bed
for natively windowing GTs (like GTWVW). From this
point on, the actual presentation could be changed to
more and more graphical.

But, for me it's still very difficult to believe
in _any_ portable GUIs.. It's enough to look at
Firefox, all the work they've done, and it's still
(3.0) just a mockup on OS X for example. Maybe using
QT, but QT is commercial. Not to mention the huge
work this needs for any final apps to migrate.

BTW, there is GUI in XBase++ too, but it looks very
very "alien" even in Windows... for sure it doesn't
look professional.

Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Thu Jun 12 22:45:05 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 12 22:46:06 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <17809551.post@talk.nabble.com>
References: <17789933.post@talk.nabble.com>
	<D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>
	<17809551.post@talk.nabble.com>
Message-ID: <C80EEBF1-2E96-46D4-B872-E7AE7D13F8D3@syenar.hu>

>
Hi Pritpal,

> Having said that I propose these constants:
>
> HB_GTI_MESSAGE
>   HB_GTM_HWND
>   HB_GTM_SHOWWND
>   HB_GTM_CREATEWND
>   HB_GTM_CLOSEWND
>   HB
> _GTM_SELECTWND
>   HB_GTM_CENTERWND
>   HB_GTM_PROCESSMSG
>   HB_GTM_INVALIDATE
>   HB_GTM_SETTIMER
>   HB_GTM_KILLTIMER
>   HB_GTM_KEYBOARD
>   HB_GTM_MAXIMIZE
>   HB_GTM_MINIMIZE
>   HB_GTM_SETONTOP
>   HB_GTM_SETASNORMAL
>   HB_GTM_MOUSEPOS
>   HB_GTM_USER
>
> These are some specific messages a window can manipulate
> and these are generic ones. Every GT cn take use of it in
> some form or the other. Particular GT specific messages will
> start at HB_GTM_USER + nMessage.
>
> For example:
> Hb_GtInfo( HB_GTI_MESSAGE, HB_GTM_SHOWWND, SW_HIDE )
>
> Opinions, suggestions, restrictions, etc.

To put it shortly: No way. This is my opinions for all
the above.

Sorry but what you try to implement here _completely_
out of scope of Harbour GT. All the above are direct
Windows API interactions, which I believe belongs to
hbwhat32, hbw32 or gtwvg but certainly not to core GT.

Harbour is a multiplatform project, so anything what
is platform specific shouldn't be part of the core.

All of the above can be easily added to a contrib
library with no side effects at all. Maybe hbwhat32
already have them even.

This has been the goal since 1999, ans it hasn't
changed since.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun 12 22:52:33 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 12 22:53:35 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <17809847.post@talk.nabble.com>
References: <17789933.post@talk.nabble.com>
	<D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>
	<9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com>
	<32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
	<17809847.post@talk.nabble.com>
Message-ID: <42736D90-E94C-4FA0-8FED-DECA0C5EBD79@syenar.hu>

Hi Pritpal,

We're very far from having any GUI in core right
now, so I'd suggest to plan and discuss before
making any moves.

GUI, if ever implemented in Harbour core, should
be _multiplatform_. This is not a very trivial
goal and in fact no one got it right so far. So,
I'd suggest to concentrate on things which are
improving Harbour on all platforms this time.

Or, there is always a space to add _anything_,
even platform specific things to _contrib_.

For a start, we have hbwhat32, which has lots of
unfinished parts and possible problems, memory
corruption, GPFs and so on, so I'd think it would
be great to enhance the quality of this lib, to
make it possible to take full advantage of Win32
API, for all those apps that want to do this.

Brdgs,
Viktor

On 2008.06.12., at 23:14, Pritpal Bedi wrote:

>
> Hello Viktor
>
> <<<
> As a first step I would personally add (~move from CT)
> window support to core. I'm for example relying on
> a custom written windowing system, so I cannot use the
> CT one as is. Admittedly this is a rare thing, but
> having windowing capabilities in core GT would be good
> for everyone I guess.
>>>>
>
> This is what I am emphasizing since long and has also shown the
> prototype and necessary changes in the GT core. But without
> any takers...  :-((.
>
> <<<
> Having window support in core could create the bed
> for natively windowing GTs (like GTWVW). From this
> point on, the actual presentation could be changed to
> more and more graphical.
>>>>
>
> A lot more can be added than we can think at this time, believe me.
>
> <<<
> BTW, there is GUI in XBase++ too, but it looks very
> very "alien" even in Windows... for sure it doesn't
> look professional.
>>>>
>
> I had worked on Xbase++ few years back and gave up beacause
> of its message dispatching bugs and huge dll over baggage. I was
> able to do with its console windows what I did in GTWVG. I had
> posted messages on NGs to that effect. Also I was able to modify
> its Get Syatem to suit to multi-window consoles. I attained a good
> success but left inbetween because their message dispatching
> was giving me the nightmares. Appln was handing at odd times.
>
> For sure Xbase++'s MT modal is superb. I still feel the punch of it
> not having it into [x]Harbour. I agree with you its GUI is very basic.
> I have written few classes confirming to Xbase++ syntax for GUI
> parts, e.g., xbpTreeView(), xbpPushButton(), xbpStatic() etc.
>
> If we intend to go towards GUI, may be separate off GT core
> or along with it, I can submit its basic code.
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/GT--Multi-platform-Messaging-Interface-tp17789933p17809847.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Thu Jun 12 23:23:35 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jun 12 23:23:39 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <C80EEBF1-2E96-46D4-B872-E7AE7D13F8D3@syenar.hu>
References: <17789933.post@talk.nabble.com>
	<D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>
	<17809551.post@talk.nabble.com>
	<C80EEBF1-2E96-46D4-B872-E7AE7D13F8D3@syenar.hu>
Message-ID: <17814459.post@talk.nabble.com>


No Problem Viktor

>This has been the goal since 1999, ans it hasn't
>changed since.

I can implement all these in GTWVG, was just suggesting without foresight.

No advancements in this direction. I will concentrate on GTWVG.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/GT--Multi-platform-Messaging-Interface-tp17789933p17814459.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Fri Jun 13 00:54:38 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Jun 13 00:54:41 2008
Subject: [Harbour] 2008-06-13 21:56 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <17815126.post@talk.nabble.com>


2008-06-13 21:56 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
   * harbour/source/rtl/gtwvt/gtwvt.c
     ! Fixed selection of left most column and top row.
       Thanks to Andy Wos.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/2008-06-13-21%3A56-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17815126p17815126.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Fri Jun 13 01:27:08 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Jun 13 01:27:11 2008
Subject: [Harbour] 2008-06-13 22:24 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <17815387.post@talk.nabble.com>


2008-06-13 22:24 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
   * harbour/source/rtl/gtwvt/gtwvt.c
   * harbour/source/rtl/gtwvt/gtwvt.h
     * Minor cleanups.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-13-22%3A24-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17815387p17815387.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Wed Jun 11 11:20:10 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun 13 01:28:59 2008
Subject: [Harbour] Wvt_ChooseFont return incorrect parameter
In-Reply-To: <17779983.post@talk.nabble.com>
References: <AFB948164110ED43B5EB849E8DEEF03815ED23@SRV02.deltain.net>
	<17779983.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED2D@SRV02.deltain.net>

In Attached you see where i see size of font in Italian selection dialog
If I choice arial regular size 10 like here
http://www.bigbcreations.com/Images/screenshots/ChooseFont.jpg where are
size:10 in return parameter?


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: Wednesday, June 11, 2008 5:01 PM
To: harbour@harbour-project.org
Subject: Re: [Harbour] Wvt_ChooseFont return incorrect parameter


Massimo


Massimo Belgrano-3 wrote:
> 
> Wvt_ChooseFont return incorrect parameter
>  ...
>    ? a_font[3]  // IY RETURN ALWAYS 0
>    
>    Hb_GtInfo( HB_GTI_FONTNAME,a_font[1])
>    Hb_GtInfo( HB_GTI_FONTWIDTH, a_font[2]  )
>    Hb_GtInfo( HB_GTI_FONTSIZE ,a_font[3] )
>  ...
> 

You are again mixing two concepts. Wvt_ChooseFont() is never intented to
be
WVT specific. It is Windows specific. Where do you see the SIZE of a
font in
font selection dialog ? It only contains FontName, Weight, bItalic,
bUnderline, bSubscript only.

To set WVT window to the desired size you need touse other tricks.

One feature I can implement could be HB_GTI_MAXIMIZE which will force
the
window to go maximized state without user clicking the maximize button.
It
may solve your wish but partially.

Regards
Pritpal Bedi
-- 
View this message in context:
http://www.nabble.com/Wvt_ChooseFont-return-incorrect-parameter-tp177770
56p17779983.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
A non-text attachment was scrubbed...
Name: wvt_chooseFont.jpg
Type: image/jpeg
Size: 30814 bytes
Desc: wvt_chooseFont.jpg
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080611/82747058/wvt_chooseFont-0001.jpg
From philb at philb.us  Fri Jun 13 01:30:01 2008
From: philb at philb.us (Phil Barnett)
Date: Fri Jun 13 01:30:07 2008
Subject: [Harbour] RE: Harbour Digest, Vol 20, Issue 77
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED39@SRV02.deltain.net>
References: <NLB01FECPx33E1ioWwr000032c3@gatein.pzuzycie.com.pl>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95F05860@PINK.zycie.pzu>
	<AFB948164110ED43B5EB849E8DEEF03815ED39@SRV02.deltain.net>
Message-ID: <200806130130.01938.philb@philb.us>

On Thursday 12 June 2008 09:51:10 am Massimo Belgrano wrote:
> Is the name of this post
> And I don't understand because i
> I don't know a digest regarding harbour so I am curios

When you subscribe to this list, you have a choice of getting each message as 
it is mailed, or having them all batched together once a day. That is called 
a digest.

-- 
Waiting for sunspots.
From M.Horodyski at pzuzycie.com.pl  Fri Jun 13 02:43:17 2008
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Jun 13 02:43:22 2008
Subject: [Harbour] RE: Harbour Digest, Vol 20, Issue 78
In-Reply-To: <NLB01FEoYAPNXRPmcar000033de@gatein.pzuzycie.com.pl>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C95F0592B@PINK.zycie.pzu>

>Date: Thu, 12 Jun 2008 09:09:27 -0400
>From: Randy Portnoff <rportnoff@spendmap.com>
>Subject: Re: [Harbour] Window updates vs. long Harbour processes
...

>BTW, there is a way to start a second thread in a 
>single-threaded app also - I am not sure how this is done but 
>Mediator does do it in my ST app.


Mediator Server work in MT. On client you can work only in ST.
Try send long wait "select ..." - you can't callback, break or swith to
anther task.

Regards,
Marek Horodyski
From mbelgrano at deltain.it  Fri Jun 13 04:21:28 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun 13 04:21:35 2008
Subject: [Harbour] RE: Harbour Digest, Vol 20, Issue 77
In-Reply-To: <200806130130.01938.philb@philb.us>
References: <NLB01FECPx33E1ioWwr000032c3@gatein.pzuzycie.com.pl><FFAFD6EA63A3FC4784FBDA52BE7A7C95F05860@PINK.zycie.pzu><AFB948164110ED43B5EB849E8DEEF03815ED39@SRV02.deltain.net>
	<200806130130.01938.philb@philb.us>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED46@SRV02.deltain.net>

Thanks for clarification
I think a digest like a mazile

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Phil Barnett
Sent: Friday, June 13, 2008 7:30 AM
To: harbour@harbour-project.org
Subject: Re: [Harbour] RE: Harbour Digest, Vol 20, Issue 77

On Thursday 12 June 2008 09:51:10 am Massimo Belgrano wrote:
> Is the name of this post
> And I don't understand because i
> I don't know a digest regarding harbour so I am curios

When you subscribe to this list, you have a choice of getting each
message as 
it is mailed, or having them all batched together once a day. That is
called 
a digest.

-- 
Waiting for sunspots.
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Fri Jun 13 04:25:42 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun 13 04:25:47 2008
Subject: [Harbour] RE: Harbour Digest, Vol 20, Issue 77
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED46@SRV02.deltain.net>
References: <NLB01FECPx33E1ioWwr000032c3@gatein.pzuzycie.com.pl><FFAFD6EA63A3FC4784FBDA52BE7A7C95F05860@PINK.zycie.pzu><AFB948164110ED43B5EB849E8DEEF03815ED39@SRV02.deltain.net><200806130130.01938.philb@philb.us>
	<AFB948164110ED43B5EB849E8DEEF03815ED46@SRV02.deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED47@SRV02.deltain.net>

Hops 
like a magazine

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo
Belgrano
Sent: Friday, June 13, 2008 10:21 AM
To: Harbour Project Main Developer List.
Subject: RE: [Harbour] RE: Harbour Digest, Vol 20, Issue 77

Thanks for clarification
I think a digest like a mazile


From mbelgrano at deltain.it  Fri Jun 13 04:58:58 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun 13 04:59:03 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <17814459.post@talk.nabble.com>
References: <17789933.post@talk.nabble.com><D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu><17809551.post@talk.nabble.com><C80EEBF1-2E96-46D4-B872-E7AE7D13F8D3@syenar.hu>
	<17814459.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED48@SRV02.deltain.net>

For example can you implement in gtwvg a way for adding to @say get read
of gtwvg:
-a component for memo textbox multiline
-a component masked textbox for implement data entry
-Capability to add active-x/ocx component like
http://www.componentsource.com/products/sybase-datawindow-net/index.html

My dream Is integration in gtwvg of same component from other harbour
gui like hwgui,minigui,wxHarbour GUI


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: Friday, June 13, 2008 5:24 AM
To: harbour@harbour-project.org
Subject: Re: [Harbour] GT- Multi-platform Messaging Interface


No Problem Viktor

>This has been the goal since 1999, ans it hasn't
>changed since.

I can implement all these in GTWVG, was just suggesting without
foresight.

No advancements in this direction. I will concentrate on GTWVG.

Regards
Pritpal Bedi

-- 
View this message in context:
http://www.nabble.com/GT--Multi-platform-Messaging-Interface-tp17789933p
17814459.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From lorenzo.fiorini at gmail.com  Fri Jun 13 06:31:22 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jun 13 06:31:26 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED48@SRV02.deltain.net>
References: <17789933.post@talk.nabble.com>
	<D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>
	<17809551.post@talk.nabble.com>
	<C80EEBF1-2E96-46D4-B872-E7AE7D13F8D3@syenar.hu>
	<17814459.post@talk.nabble.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED48@SRV02.deltain.net>
Message-ID: <9257026e0806130331r5ba2bed3v1eb184fb35c6fe21@mail.gmail.com>

On Fri, Jun 13, 2008 at 10:58 AM, Massimo Belgrano <mbelgrano@deltain.it> wrote:

> My dream Is integration in gtwvg of same component from other harbour
> gui like hwgui,minigui,wxHarbour GUI

Sorry but I don't see the point if the only target is Win.

For Win there are tons of possibilities: commercials like FiveWin and
Visual xHarbour or "gratis" like hwgui, minigui and probably many
others.

What can do gtwvg that can't do hwgui directly?

best regards,
Lorenzo
From mbelgrano at deltain.it  Fri Jun 13 06:53:28 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun 13 06:53:33 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <9257026e0806130331r5ba2bed3v1eb184fb35c6fe21@mail.gmail.com>
References: <17789933.post@talk.nabble.com><D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu><17809551.post@talk.nabble.com><C80EEBF1-2E96-46D4-B872-E7AE7D13F8D3@syenar.hu><17814459.post@talk.nabble.com><AFB948164110ED43B5EB849E8DEEF03815ED48@SRV02.deltain.net>
	<9257026e0806130331r5ba2bed3v1eb184fb35c6fe21@mail.gmail.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED4B@SRV02.deltain.net>

Gtwvg made easy integration without rewriting code I use new element
like for menu, toolbar, status bar.
My only problem is adding a few component in same screen where gtwvt is
already running
Particularly I need a new memoedit with more windows look and feel
select,copy past
Also incompatible with old memoedit but integrated in say/get/read

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo
Fiorini
Sent: Friday, June 13, 2008 12:31 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] GT- Multi-platform Messaging Interface

On Fri, Jun 13, 2008 at 10:58 AM, Massimo Belgrano
<mbelgrano@deltain.it> wrote:

> My dream Is integration in gtwvg of same component from other harbour
> gui like hwgui,minigui,wxHarbour GUI

Sorry but I don't see the point if the only target is Win.

For Win there are tons of possibilities: commercials like FiveWin and
Visual xHarbour or "gratis" like hwgui, minigui and probably many
others.

What can do gtwvg that can't do hwgui directly?

best regards,
Lorenzo
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Fri Jun 13 07:58:52 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 13 07:58:53 2008
Subject: [Harbour] 2008-06-13 13:56 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cd4c$Blat.v2.6.2$d9688b58$ce0eb965d5c@127.0.0.1>

2008-06-13 13:56 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtwvt/gtwvt.c
     ! Fixed window trashing for tall/wide windows where the 
       content cannot fill the entire window client area.
     ; There is still a great amount of flickering, while doing 
       the resize. I wonder if there is any solution for this 
       besides turning off full-content drag/resize. Anyways 
       it's only really bad when trying insane sizes, so it's 
       not a big problem for normal usage.
--
Brgds,
Viktor

From bedipritpal at hotmail.com  Fri Jun 13 09:20:38 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Jun 13 09:20:43 2008
Subject: [Harbour] 2008-06-14 06:18 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <17823256.post@talk.nabble.com>


2008-06-14 06:18 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
   * harbour/source/rtl/gtwvt/gtwvt.c
     ! Replaced min()/max() functions with HB_MIN()/HB_MAX() macro.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-14-06%3A18-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17823256p17823256.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Fri Jun 13 09:50:53 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun 13 09:51:12 2008
Subject: [Harbour] in gtwvt is possible application more big that desktop?
In-Reply-To: <01c8cd4c$Blat.v2.6.2$d9688b58$ce0eb965d5c@127.0.0.1>
References: <01c8cd4c$Blat.v2.6.2$d9688b58$ce0eb965d5c@127.0.0.1>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED4F@SRV02.deltain.net>

Is possible having size of application more big that desktop resolution ?
Thinking mobile devices with a little screen resoluzion or umpc device like asus eee with low resolution


From harbour.01 at syenar.hu  Fri Jun 13 13:26:58 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 13 13:26:59 2008
Subject: [Harbour] 2008-06-13 19:19 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cd7a$Blat.v2.6.2$aefbb0f6$f483b268af2@127.0.0.1>

2008-06-13 19:19 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtwvt/gtwvt.h
   * source/rtl/gtwvt/gtwvt.c
   * tests/wvtext.prg
     + Added hb_gtInfo( HB_GTI_SELECTCOPY, <cMenuText> )
       to set the menu text ("Mark and Copy" on startup).
       cMenuText mustn't be zero length. Setting the menu text 
       also enables select&copy automatically. The call 
       will return the previously set menu text. To get 
       the menu text without setting a new one, use: 
       hb_gtInfo( HB_GTI_SELECTCOPY, "" )
       This is good if someone wants to adapt the menu 
       text to the OS's or app's language.

   * doc/en/hb_apiit.txt
   * include/hbapi.h
   * include/hbapiitm.h
   * source/rtl/gtwin/gtwin.c
   * source/rtl/hbgtcore.c
   * source/rtl/gtgui/gtgui.c
   * source/rtl/gtwvt/gtwvt.c
   * source/vm/macro.c
   * source/vm/debug.c
   * source/vm/itemapi.c
   * source/vm/hvm.c
   * source/vm/arrays.c
   * source/vm/extend.c
   * source/rdd/dbfntx/dbfntx1.c
   * source/rdd/sdf1.c
   * source/rdd/dbfcdx/dbfcdx1.c
   * source/rdd/delim1.c
   * source/rdd/dbf1.c
   * source/rdd/dbffpt/dbffpt1.c
   * contrib/hbw32/w32_ole.c
   * contrib/gtwvg/gtwvg.c
   * contrib/rddads/ads1.c
   * contrib/hbmisc/spd.c
   * contrib/hbbmcdx/bmdbfcdx1.c
   * contrib/examples/rdddbt/dbfdbt1.c
     * I did a mistake in 1999 by giving the name hb_itemPutCPtr() 
       to the function which would have to be correctly named 
       hb_itemPutCLPtr() (notice the 'L' for 'length').
       So, now this was renamed to hb_itemPutCLPtr(), and stub was 
       added with the old name, and Harbour code was changed to use 
       the new one. I've also added hb_itemPutCPtr2() as a version 
       not requiring len parameter, the proper name would be hb_itemPutCPtr() 
       for this, but we cannot use without breakin compatiblity.

       IMPORTANT: I'd strongly suggest all 3rd parties to update 
       their code to use the call hb_itemPutCLPtr() instead of 
       hb_itemPutCLPtr().

       The final goal would be to have hb_itemPutCPtr() with two 
       parameters instead of the hakish looking hb_itemPutCPtr2().

       I'd welcome any opinions how to reach this goal. I didn't want to 
       break compatiblity with 3rd parties this time, but IMO we may do 
       it in 1.1, or even before 1.0.

     ! The above also fixes the (potential) problem when hb_retc_buffer()'s 
       szText parameter was evaluated twice if HB_API_MACROS was #defined.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Jun 13 14:02:43 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 13 14:02:43 2008
Subject: [Harbour] 2008-06-13 20:00 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cd7f$Blat.v2.6.2$ad8a40de$18e06a9df65a@127.0.0.1>

2008-06-13 20:00 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtwvt/gtwvt.h
   * source/rtl/gtwvt/gtwvt.c
     ! Sorted out SELECTCOPY menu text and Unicode.
--
Brgds,
Viktor

From gvarona at ec-red.com  Fri Jun 13 14:24:35 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Fri Jun 13 14:24:39 2008
Subject: [Harbour] Testing wvtext.prg
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED40@SRV02.deltain.net>
References: <48516A0E.7030608@ec-red.com> <48519F58.1060208@ec-red.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED40@SRV02.deltain.net>
Message-ID: <4852BB63.7020105@ec-red.com>

Massimo Belgrano escribi?:
> I don't use minigw so I can post my setting
> set HB_ARCHITECTURE=w32
> set HB_COMPILER=bcc32
> set HB_USER_LIBS=gtwvt.lib 
> SET CFLAGS= -tW -a8 -OS -O2 -5 -6 
>
> Have you added a bad library?
>   
Al parecer, falta es una LIBS, pero no se cuales.
Apparently, missing LIBS, but not whom.
Question: WVT is only for Windows?

Best Regards
GVS

> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Guillermo Varona Silup?
> Sent: Friday, June 13, 2008 12:13 AM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] Testing wvtext.prg
>
> Guillermo Varona Silup? escribi?:
>   
>> How can build wvtext.exe.
>> What LIB missing?
>> I get it's messages of error:
>>
>> Proyecto: tst_CT, Entorno: MinGW_H_DOS_GVS:
>> [1]:gcc.Exe -otst_CT.Exe -Wall -mno-cygwin  -mconsole tst_CT.gcl
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x56f): 
>> undefined reference to `CreateFontIndirectA@4'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x583): 
>> undefined reference to `GetStockObject@4'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x928): 
>> undefined reference to `DeleteObject@4'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x949): 
>> undefined reference to `SelectObject@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x961): 
>> undefined reference to `GetTextMetricsA@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x977): 
>> undefined reference to `SetTextCharacterExtra@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0xe13): 
>> undefined reference to `SetTextCharacterExtra@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0xe2b): 
>> undefined reference to `GetTextMetricsA@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0xe40): 
>> undefined reference to `SelectObject@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1ad1): 
>> undefined reference to `CreateRectRgn@16'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1af8): 
>> undefined reference to `CombineRgn@16'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1b28): 
>> undefined reference to `InvertRgn@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x2765): 
>> undefined reference to `SetTextColor@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x278b): 
>> undefined reference to `SetBkColor@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x27a1): 
>> undefined reference to `SetTextAlign@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x2866): 
>> undefined reference to `ExtTextOutA@32'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x309d): 
>> undefined reference to `GetTextMetricsA@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a11): 
>> undefined reference to `CreatePen@12'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a3a): 
>> undefined reference to `CreateSolidBrush@4'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a79): 
>> undefined reference to `MoveToEx@16'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a95): 
>> undefined reference to `LineTo@12'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4b8a): 
>> undefined reference to `CreateSolidBrush@4'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4be5): 
>> undefined reference to `LineTo@12'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4e63): 
>> undefined reference to `Rectangle@20'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5005): 
>> undefined reference to `Arc@36'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5187): 
>> undefined reference to `Ellipse@20'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x55de): 
>> undefined reference to `FloodFill@16'
>>     
>
> In what LIBS are these functions?
> ?En qu? librer?as se estan estas funciones?
>
> Enviro: WinXP SP2 + MinGW
>
> Best Regars
> GVS
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> __________ Information from ESET Smart Security, version of virus signature database 3182 (20080612) __________
>
> The message was checked by ESET Smart Security.
>
> http://www.eset.com
>
>
>
>   

From bedipritpal at hotmail.com  Fri Jun 13 17:55:55 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Jun 13 17:55:59 2008
Subject: [Harbour] Please do not update GTWVG
Message-ID: <17832697.post@talk.nabble.com>


Hello All

Please do not update harbour/contrib/gtwvg for 
a couple of days as I am heavily synchronizing it with GTWVT.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Please-do-not-update-GTWVG-tp17832697p17832697.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Jun 14 03:20:05 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 14 03:20:10 2008
Subject: [Harbour] 2008-06-14 09:13 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cdef$Blat.v2.6.2$1197bc36$112cf28e41d6@127.0.0.1>

2008-06-14 09:13 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbbmcdx/bmdbfcdx1.c
   * contrib/hbct/ctnet.c
   * contrib/hbct/pos2.c
   * contrib/hbgf/gtk/creabutt.c
   * contrib/hbgf/gtk/creawin.c
   * contrib/hbgt/bitflags.c
   * contrib/hbmisc/stringsx.c
   * contrib/hbtip/encmthd.c
   * contrib/hbtip/utils.c
   * contrib/hbw32/w32_ole.c
   * contrib/hbwhat32/_wincdlg.c
   * contrib/hbwhat32/_winclpb.c
   * contrib/hbwhat32/_wintree.c
   * contrib/rddads/ads1.c
   * contrib/xhb/xstrdel.c
   * source/rdd/dbcmd.c
   * source/rdd/dbf1.c
   * source/rdd/dbfcdx/dbfcdx1.c
   * source/rdd/dbffpt/dbffpt1.c
   * source/rdd/dbfntx/dbfntx1.c
   * source/rdd/delim1.c
   * source/rdd/hbsix/sxsem.c
   * source/rdd/sdf1.c
   * source/rdd/workarea.c
   * source/rtl/alert.prg
   * source/rtl/errorsys.prg
   * source/rtl/gtcrs/gtcrs.c
   * source/rtl/gtgui/gtgui.c
   * source/rtl/gtsln/gtsln.c
   * source/rtl/gtwin/gtwin.c
   * source/rtl/gtxwc/gtxwc.c
   * source/rtl/hbgtcore.c
   * source/rtl/hbregex.c
   * source/vm/cmdarg.c
   * source/vm/dynsym.c
     ! LUPDATE() buffer overread fixed. (hb_retds(""))
     % hb_itemPutC*()/hb_retc*()/hb_errInternal() "" parameter -> NULL
       NOTE: gtwvg not changed.
     * Few minor cleanups.
     * Some formatting in ads1.c.
       (verified to result in no actual codeflow change)
     ; TODO: hb_retc( NULL ) -> hb_retc_null()
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 14 03:23:00 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 14 03:23:03 2008
Subject: [Harbour] [RC1] 2008-06-14 09:13 UTC+0200 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8cdef$Blat.v2.6.2$79d38ae6$130088149e92@127.0.0.1>

2008-06-14 09:13 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rdd/dbcmd.c
     ! LUPDATE() buffer overread fixed. (hb_retds(""))
       [RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 14 03:37:45 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 14 03:37:47 2008
Subject: [Harbour] 2008-06-14 09:35 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cdf1$Blat.v2.6.2$894cac58$13bcdff8a38e@127.0.0.1>

2008-06-14 09:35 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbw32/w32_ole.c
     * Fix to previous commit.
--
Brgds,
Viktor

From mbelgrano at deltain.it  Sat Jun 14 04:27:46 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun 14 04:27:55 2008
Subject: [Harbour] Testing wvtext.prg
In-Reply-To: <4852BB63.7020105@ec-red.com>
References: <48516A0E.7030608@ec-red.com>
	<48519F58.1060208@ec-red.com><AFB948164110ED43B5EB849E8DEEF03815ED40@SRV02.deltain.net>
	<4852BB63.7020105@ec-red.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED55@SRV02.deltain.net>

Yes from harbour\doc\gtapi

gtwvt  - GT driver for MS-Windows. It creates its own GUI window
         instead of using MS-console window. It allows to change
         font, window size, etc.
         Supported only by MS-WINDOWS (W95 or higher) builds.
         is a pure console implementation of traditional Clipper terminal 
         taking Windows API as its base console IO protocols. Its OI are 
         rendered in a Windows window and hence all of MSDN is available 
         for use with GTWVT.
         To let the memory refreshed, I must remind 
         everybody that it is a superb work of Peter Rees contributed 
         to xHarbour on 22nd December 2003.

gtxwc  - GT driver for X-Window. It's like GTWVT but for nixes.
         Additionaly it has set of predefined vector characters
         (box and arrowd drawing characters) which can be used
         instead of the one defined in font. It means that you
         will have all boxes and arrows you know from DOS ans CP437
         even if you chose font which does not have them. Additionally
         it support some simple graphic output. See tests/gfx.prg
         for simple program which demonstrates it.
         Supported by POSIX systems (mostly different *nixes)


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Guillermo Varona Silup?
Sent: Friday, June 13, 2008 8:25 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Testing wvtext.prg

Massimo Belgrano escribi?:
> I don't use minigw so I can post my setting
> set HB_ARCHITECTURE=w32
> set HB_COMPILER=bcc32
> set HB_USER_LIBS=gtwvt.lib 
> SET CFLAGS= -tW -a8 -OS -O2 -5 -6 
>
> Have you added a bad library?
>   
Al parecer, falta es una LIBS, pero no se cuales.
Apparently, missing LIBS, but not whom.
Question: WVT is only for Windows?

Best Regards
GVS

> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Guillermo Varona Silup?
> Sent: Friday, June 13, 2008 12:13 AM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] Testing wvtext.prg
>
> Guillermo Varona Silup? escribi?:
>   
>> How can build wvtext.exe.
>> What LIB missing?
>> I get it's messages of error:
>>
>> Proyecto: tst_CT, Entorno: MinGW_H_DOS_GVS:
>> [1]:gcc.Exe -otst_CT.Exe -Wall -mno-cygwin  -mconsole tst_CT.gcl
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x56f): 
>> undefined reference to `CreateFontIndirectA@4'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x583): 
>> undefined reference to `GetStockObject@4'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x928): 
>> undefined reference to `DeleteObject@4'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x949): 
>> undefined reference to `SelectObject@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x961): 
>> undefined reference to `GetTextMetricsA@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x977): 
>> undefined reference to `SetTextCharacterExtra@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0xe13): 
>> undefined reference to `SetTextCharacterExtra@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0xe2b): 
>> undefined reference to `GetTextMetricsA@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0xe40): 
>> undefined reference to `SelectObject@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1ad1): 
>> undefined reference to `CreateRectRgn@16'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1af8): 
>> undefined reference to `CombineRgn@16'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1b28): 
>> undefined reference to `InvertRgn@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x2765): 
>> undefined reference to `SetTextColor@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x278b): 
>> undefined reference to `SetBkColor@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x27a1): 
>> undefined reference to `SetTextAlign@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x2866): 
>> undefined reference to `ExtTextOutA@32'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x309d): 
>> undefined reference to `GetTextMetricsA@8'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a11): 
>> undefined reference to `CreatePen@12'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a3a): 
>> undefined reference to `CreateSolidBrush@4'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a79): 
>> undefined reference to `MoveToEx@16'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a95): 
>> undefined reference to `LineTo@12'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4b8a): 
>> undefined reference to `CreateSolidBrush@4'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4be5): 
>> undefined reference to `LineTo@12'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4e63): 
>> undefined reference to `Rectangle@20'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5005): 
>> undefined reference to `Arc@36'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5187): 
>> undefined reference to `Ellipse@20'
>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x55de): 
>> undefined reference to `FloodFill@16'
>>     
>
> In what LIBS are these functions?
> ?En qu? librer?as se estan estas funciones?
>
> Enviro: WinXP SP2 + MinGW
>
> Best Regars
> GVS
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> __________ Information from ESET Smart Security, version of virus signature database 3182 (20080612) __________
>
> The message was checked by ESET Smart Security.
>
> http://www.eset.com
>
>
>
>   

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Sat Jun 14 06:05:00 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 14 06:05:02 2008
Subject: [Harbour] 2008-06-14 12:03 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8ce06$Blat.v2.6.2$1b6a9b9a$1a48a68aaa0@127.0.0.1>

2008-06-14 12:03 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   + contrib/hbtip/tests
   + contrib/hbtip/tests/bld_b32.bat
   + contrib/hbtip/tests/bld_vc.bat
   + contrib/hbtip/tests/base64.prg
   + contrib/hbtip/tests/dbToHtml.prg
   + contrib/hbtip/tests/dnldftp.prg
   + contrib/hbtip/tests/ftpadv.prg
   + contrib/hbtip/tests/httpadv.prg
   + contrib/hbtip/tests/loadhtml.prg
   + contrib/hbtip/tests/tipmail.prg
   + contrib/hbtip/tests/tipmime.prg
   + contrib/hbtip/tests/tipmmail.prg
   + contrib/hbtip/tests/tiptest.prg
   + contrib/hbtip/tests/tiptime.prg
   + contrib/hbtip/tests/uploadftp.prg
     + Added TIP library tests from xhb repository.
       [TOMERGE RC1]
--
Brgds,
Viktor

From mbelgrano at deltain.it  Sat Jun 14 15:03:37 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun 14 15:03:51 2008
Subject: [Harbour] Unbdestranding cflag
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED57@SRV02.deltain.net>

CFLAGS and CXXFLAGS is the name of environment variables that can be set to specify additional switches be passed at c compiler in the process of building of harbour
Where is possible find info for cflag each compiler?


Please post info about how (AND WHY) your use of cflag 

For BCC 5.5 I use:
  SET CFLAGS= -tWM -a8 -OS -O2 -5 -6
  Same prg with -tW
For BCC 5.5 WITH CODEHUARD    
  set CFLAGS=-v -y -vG -Od
For MINIGW for windows I  use:
For minigw for Windows CE (CROSS COMPILING) I use
For MSVC I use:

Please post info also about LFLAGS, PRG_USR,C_USR

Massimo Belgrano
?

From bedipritpal at hotmail.com  Sat Jun 14 15:04:02 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Jun 14 15:04:06 2008
Subject: [Harbour] 2008-06-15 11:34 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <17842480.post@talk.nabble.com>


2008-06-15 11:34 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
   * contrib/gtwvg/gtwvg.c
   * contrib/gtwvg/gtwvg.h
   * contrib/gtwvg/wvtutils.c
   * contrib/gtwvg/wvtcore.c
   * contrib/gtwvg/wvtpaint.prg
   * contrib/gtwvg/wvtclass.prg
     + Implemented all features recently added in gtwvt.

   * contrib/gtwvg/tests/demowvg.prg
     * Just refreshed to match the date/time stamps with gtwvg.lib

     ; This is first attempt in this series of optimizations in gtwvg
       to synchronize it with gtwvt builing a basis for inheretance
       from gtwvt. 
    
       Now all EXPORTed funtions in gtwvg.c are stripped and isolated
       in wvtpaint.prg as prg code taking use of Hb_GtInfo() architecture.

       gtwvg.c contains only static functions and as such GT layer is made
       self contained. For this to happen I had to define few more GTI_* 
       constants which goes in gtwvg.h and local to wvtpaint.prg. One or two 
       of them validly become candidate fot gtwvt/hbgtinfo.ch also.

       TODO: To clean wvtutils.c by plugging the functionality in HB_GTINFO
             structure. Please do not update any of these files.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-15-11%3A34-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17842480p17842480.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Sat Jun 14 15:30:41 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun 14 15:30:46 2008
Subject: [Harbour] 2008-06-15 11:34 UTC+0800 Pritpal
	Bedi(pritpal@vouchcac.com)
In-Reply-To: <17842480.post@talk.nabble.com>
References: <17842480.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED58@SRV02.deltain.net>

Very good !
Gtwvg is very good form me, i need only a Multiline TextBox.

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: Saturday, June 14, 2008 9:04 PM
To: harbour@harbour-project.org
Subject: [Harbour] 2008-06-15 11:34 UTC+0800 Pritpal
Bedi(pritpal@vouchcac.com)


2008-06-15 11:34 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
   * contrib/gtwvg/gtwvg.c
   * contrib/gtwvg/gtwvg.h
   * contrib/gtwvg/wvtutils.c
   * contrib/gtwvg/wvtcore.c
   * contrib/gtwvg/wvtpaint.prg
   * contrib/gtwvg/wvtclass.prg
     + Implemented all features recently added in gtwvt.

   * contrib/gtwvg/tests/demowvg.prg
     * Just refreshed to match the date/time stamps with gtwvg.lib

     ; This is first attempt in this series of optimizations in gtwvg
       to synchronize it with gtwvt builing a basis for inheretance
       from gtwvt. 
    
       Now all EXPORTed funtions in gtwvg.c are stripped and isolated
       in wvtpaint.prg as prg code taking use of Hb_GtInfo()
architecture.

       gtwvg.c contains only static functions and as such GT layer is
made
       self contained. For this to happen I had to define few more GTI_*

       constants which goes in gtwvg.h and local to wvtpaint.prg. One or
two 
       of them validly become candidate fot gtwvt/hbgtinfo.ch also.

       TODO: To clean wvtutils.c by plugging the functionality in
HB_GTINFO
             structure. Please do not update any of these files.

Regards
Pritpal Bedi
-- 
View this message in context:
http://www.nabble.com/2008-06-15-11%3A34-UTC%2B0800-Pritpal-Bedi-%28prit
pal%40vouchcac.com%29-tp17842480p17842480.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Sun Jun 15 05:16:35 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 15 05:17:37 2008
Subject: [Harbour] 2008-06-15 11:34 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <17842480.post@talk.nabble.com>
References: <17842480.post@talk.nabble.com>
Message-ID: <36AB6CA2-82D7-4526-A039-E2B0595967E1@syenar.hu>

Hi Pritpal,

 From the list of stuff you proposed for inclusion in hbgtinfo.ch,
pls find my comment below.

- HB_GTI_SETFONT
   We already have HB_GTI_FONT*, so IMO we don't need another one.
- HB_GTI_USER
   should rather be HB_GTI_SPEC IMO, as it's not a "user" defined
   setting, but something specific to a given GT.

As for HB_GTU_* stuff (HB_GTS_* to be in sync with above), it
shouldn't go to hbgtinfo.ch, since GTWVG is not in core, so IMO
you should add a new public header hbgtwvg.ch to contrib/gtwvg
and #define these there. This header can then be added to the
header list in local Makefile/common.mak so that it will be
installed in central /include dir. This way programmers will be
better aware they are using something special, plus we're not
adding contrib dependency to the core.

Brgds,
Viktor

On 2008.06.14., at 21:04, Pritpal Bedi wrote:

>
> 2008-06-15 11:34 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * contrib/gtwvg/gtwvg.c
>   * contrib/gtwvg/gtwvg.h
>   * contrib/gtwvg/wvtutils.c
>   * contrib/gtwvg/wvtcore.c
>   * contrib/gtwvg/wvtpaint.prg
>   * contrib/gtwvg/wvtclass.prg
>     + Implemented all features recently added in gtwvt.
>
>   * contrib/gtwvg/tests/demowvg.prg
>     * Just refreshed to match the date/time stamps with gtwvg.lib
>
>     ; This is first attempt in this series of optimizations in gtwvg
>       to synchronize it with gtwvt builing a basis for inheretance
>       from gtwvt.
>
>       Now all EXPORTed funtions in gtwvg.c are stripped and isolated
>       in wvtpaint.prg as prg code taking use of Hb_GtInfo()  
> architecture.
>
>       gtwvg.c contains only static functions and as such GT layer is  
> made
>       self contained. For this to happen I had to define few more  
> GTI_*
>       constants which goes in gtwvg.h and local to wvtpaint.prg. One  
> or two
>       of them validly become candidate fot gtwvt/hbgtinfo.ch also.
>
>       TODO: To clean wvtutils.c by plugging the functionality in  
> HB_GTINFO
>             structure. Please do not update any of these files.
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/2008-06-15-11%3A34-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17842480p17842480.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Sun Jun 15 06:24:43 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Jun 15 06:24:49 2008
Subject: R: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
References: <17789933.post@talk.nabble.com><D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu><9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com>
	<32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED59@SRV02.deltain.net>

Do you plan "add windows support in core" for upcoming release?

-----Messaggio originale-----

As a first step I would personally add (~move from CT)
window support to core. I'm for example relying on
a custom written windowing system, so I cannot use the
CT one as is. Admittedly this is a rare thing, but
having windowing capabilities in core GT would be good
for everyone I guess.

This way CT windowing could become just a thin(nish)
compatibility layer above the core implementation.

Having window support in core could create the bed
for natively windowing GTs (like GTWVW). From this
point on, the actual presentation could be changed to
more and more graphical.


From harbour.01 at syenar.hu  Sun Jun 15 06:43:54 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 15 06:44:54 2008
Subject: R: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED59@SRV02.deltain.net>
References: <17789933.post@talk.nabble.com><D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu><9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com>
	<32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED59@SRV02.deltain.net>
Message-ID: <F8F089EB-8F6F-48EC-8E16-5BD8AD1B518E@syenar.hu>

Yes, I'm ready to actively participate but this will be a team work.

Brgds,
Viktor

On 2008.06.15., at 12:24, Massimo Belgrano wrote:

> Do you plan "add windows support in core" for upcoming release?
>
> -----Messaggio originale-----
>
> As a first step I would personally add (~move from CT)
> window support to core. I'm for example relying on
> a custom written windowing system, so I cannot use the
> CT one as is. Admittedly this is a rare thing, but
> having windowing capabilities in core GT would be good
> for everyone I guess.
>
> This way CT windowing could become just a thin(nish)
> compatibility layer above the core implementation.
>
> Having window support in core could create the bed
> for natively windowing GTs (like GTWVW). From this
> point on, the actual presentation could be changed to
> more and more graphical.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Sun Jun 15 06:57:07 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Jun 15 06:57:11 2008
Subject: R: R: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <F8F089EB-8F6F-48EC-8E16-5BD8AD1B518E@syenar.hu>
References: <17789933.post@talk.nabble.com><D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu><9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com><32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815ED59@SRV02.deltain.net>
	<F8F089EB-8F6F-48EC-8E16-5BD8AD1B518E@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED5A@SRV02.deltain.net>

Your effort for harbour is Huge, very Thanks
I can't help you because not write C, but anything you need please ask me: I try. 
I think that also Pritpal have agree your idea
So is interesting see create the bed for natively windowing GTs (like GTWVW). 
And transform the actual presentation to more and more graphical.

Do you (or anybody) see any contraindication for this idea?



-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] Per conto di Szak?ts Viktor
Inviato: domenica 15 giugno 2008 12.44
A: Harbour Project Main Developer List.
Oggetto: Re: R: [Harbour] GT- Multi-platform Messaging Interface

Yes, I'm ready to actively participate but this will be a team work.

Brgds,
Viktor

On 2008.06.15., at 12:24, Massimo Belgrano wrote:

> Do you plan "add windows support in core" for upcoming release?
>
> -----Messaggio originale-----
>
> As a first step I would personally add (~move from CT)
> window support to core. I'm for example relying on
> a custom written windowing system, so I cannot use the
> CT one as is. Admittedly this is a rare thing, but
> having windowing capabilities in core GT would be good
> for everyone I guess.
>
> This way CT windowing could become just a thin(nish)
> compatibility layer above the core implementation.
>
> Having window support in core could create the bed
> for natively windowing GTs (like GTWVW). From this
> point on, the actual presentation could be changed to
> more and more graphical.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From lorenzo.fiorini at gmail.com  Sun Jun 15 07:14:25 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Jun 15 07:21:29 2008
Subject: R: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <F8F089EB-8F6F-48EC-8E16-5BD8AD1B518E@syenar.hu>
References: <17789933.post@talk.nabble.com>
	<D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>
	<9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com>
	<32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED59@SRV02.deltain.net>
	<F8F089EB-8F6F-48EC-8E16-5BD8AD1B518E@syenar.hu>
Message-ID: <9257026e0806150414t1458479bo871c509107b75c8e@mail.gmail.com>

On Sun, Jun 15, 2008 at 12:43 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Yes, I'm ready to actively participate but this will be a team work.

I think we should start from the "prg level" and think about it as the
"abstract level".

We already have 5.3 classes like tbrowse, button, get, menu so we
don't start from scratch.

We have only to add what is missed for a more complete GUI like
twindow ( or tform ), tcombo, teditor, ttoolbar, tfolder and so on.

These classes can start simply as "empty bodies" that define standard
methods and properties and only after they should be mapped to "low
level" layers like text, CT, Win, X.

In this way we keep the "philosophy" of Harbour UI and we'll not end
with tons of xyz_funcs() that are not portable.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sun Jun 15 07:54:59 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 15 07:56:01 2008
Subject: R: R: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED5A@SRV02.deltain.net>
References: <17789933.post@talk.nabble.com><D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu><9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com><32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815ED59@SRV02.deltain.net>
	<F8F089EB-8F6F-48EC-8E16-5BD8AD1B518E@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED5A@SRV02.deltain.net>
Message-ID: <E5073589-33B9-45CE-8ECF-AD0715B7B28A@syenar.hu>

> Your effort for harbour is Huge, very Thanks
> I can't help you because not write C, but anything you need please  
> ask me: I try.
> I think that also Pritpal have agree your idea
> So is interesting see create the bed for natively windowing GTs  
> (like GTWVW).
> And transform the actual presentation to more and more graphical.

Yes, this seems to be the same thing Pritpal
suggested last year as Multi-Window GT.

Shortly: Adding core support so that any GTs can
have several independent display areas, where the
actual visualization of these is GT dependent
(it could be classic CUI windows inside the one
main window for GTWIN/GTWVT for example, it may
be distinct CUI-in-GUI windows as in GTWVW, but
I may even be possible to choose between these
modes at runtime, so that GTWVT can be extended
to support both old-fashioned and native
multi-window, but probably not both at the same
time.)

> Do you (or anybody) see any contraindication for this idea?

We need to discuss how to implement it in a way to it
doesn't introduce hidden extensions and doesn't
break existing code on Harbour, and breaks the less
code on C level and/or make transition for C level
code the easiest.

This means adding _new parameters to existing functions
should be avoided_.

Instead, we may add a few new functions to switch between
windows:

hb_wSelect( [<nNewSelectedWnd>] ) -> nPrevSelectedWnd

After such call all regular display functions
will be rerouted to the selected window. Existing
classes and other program parts which are supposed
to keep writing to the same window (like TBrowse),
should internally store the selected window at
creation time, and select this whenever doing any
output.

We will need to define which so far global GT
properties should stay global and which should be
converted to the per-window data. Selected color
and current row/pos for example will be per-window.
Good example for something to think about is
DispBegin()/DispBegin(). SetCursor() is something
which would stay global IMO.

Any applications not multi-window aware, will
keep working as before, by doing all outputs to
the "base" window. Exact specifics of the "base"
window should also be discussed.

Additionally, we should define a new set of Harbour
functions to directly do output to any selected window:

hb_wOpen( ... ) -> <wnd>
hb_wClose( wnd )
hb_wDispOut( wnd, "Text" [, cnColor ] )
hb_wDispOutAt( wnd, 10, 10, "Text" [, cnColor ] )
hb_wSetColor( wnd [, cnColor ] ) -> <cnOldColor>
hb_wSetPos( wnd, r, c )
hb_wRow( wnd ) -> r
hb_wCol( wnd ) -> c
hb_wBox( wnd, ... )
hb_wShadow( wnd[, nMode ] ) -> <nOldMode>
hb_wMove( wnd, ... )
hb_wShow( wnd )
hb_wHide( wnd )
hb_wMaxRow( wnd )
hb_wMaxCol( wnd )
hb_wList() -> <aWnd> (list of all open windows)

Maybe it would be a good idea to introduce
numeric-based colors in this new API, so that
we can depart from the 16/16 colors, and to
make color handling easier. Specifics of this
should be discussed. I'd personally stick with
palette based approach, but supporting
256 (or 65535) choices for both background
and foreground. So that one color would be
a word or a double word (it is currently byte).

Last but not least, most C level GT API functions
should be extended with a new window handle
parameter. This will also mean that 3rd party
GTs will have to adapted since C level compatibility
will be lost.

Important, but natural property of the multi
window GT is that all windows will be "buffered".
GTs will need to be extended to render these
buffers on the available output buffer (or
display the separately, by using f.e. Windows API
to render them).

There are a lot more to be discussed, like
"modal"/"non-modal", routing inputs, how to solve
everything above if we don't have a "base" window
(should we support this at all in the first round),
and those things which I completely forgot

Brgds,
Viktor


>
>
>
>
> -----Messaggio originale-----
> Da: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] Per conto di Szak?ts Viktor
> Inviato: domenica 15 giugno 2008 12.44
> A: Harbour Project Main Developer List.
> Oggetto: Re: R: [Harbour] GT- Multi-platform Messaging Interface
>
> Yes, I'm ready to actively participate but this will be a team work.
>
> Brgds,
> Viktor
>
> On 2008.06.15., at 12:24, Massimo Belgrano wrote:
>
>> Do you plan "add windows support in core" for upcoming release?
>>
>> -----Messaggio originale-----
>>
>> As a first step I would personally add (~move from CT)
>> window support to core. I'm for example relying on
>> a custom written windowing system, so I cannot use the
>> CT one as is. Admittedly this is a rare thing, but
>> having windowing capabilities in core GT would be good
>> for everyone I guess.
>>
>> This way CT windowing could become just a thin(nish)
>> compatibility layer above the core implementation.
>>
>> Having window support in core could create the bed
>> for natively windowing GTs (like GTWVW). From this
>> point on, the actual presentation could be changed to
>> more and more graphical.
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Jun 15 08:42:04 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 15 08:43:08 2008
Subject: R: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <9257026e0806150414t1458479bo871c509107b75c8e@mail.gmail.com>
References: <17789933.post@talk.nabble.com>
	<D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>
	<9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com>
	<32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED59@SRV02.deltain.net>
	<F8F089EB-8F6F-48EC-8E16-5BD8AD1B518E@syenar.hu>
	<9257026e0806150414t1458479bo871c509107b75c8e@mail.gmail.com>
Message-ID: <50119E0E-F0A9-4AA8-937B-2EF3E9F73E98@syenar.hu>

Hi Lorenzo,

>> Yes, I'm ready to actively participate but this will be a team work.
>
> I think we should start from the "prg level" and think about it as the
> "abstract level".

I think the opposite way :) BTW what I had in mind is
"multi-window GT", you seem to talking about something different.

> We already have 5.3 classes like tbrowse, button, get, menu so we
> don't start from scratch.
>
> We have only to add what is missed for a more complete GUI like
> twindow ( or tform ), tcombo, teditor, ttoolbar, tfolder and so on.

This is different from what I had in mind. These things are
controls. TWindow is related, since it can be an OOP wrapper
(and extender) for window handling, but even this is one level
above hb_w*() functionality.

To me these all seem like part of a different move (than
multi-window GT), and what you say would be something like
"Harbour UI abstraction library". And if you mean a CUI
implementation, it is doable (even independently from
multi-window). A very good implementation of this idea was
sold under the name ProVision:Windows. For me it's a bit
late to invest in a new set of CUI controls, tough.

[ If you mean to implement it in a very generic way so that
it works equally well for GTTRM and GTWVT (with Windows controls),
I'm in huge doubt if this is indeed viable inside the boundaries
of Harbour. ]

> These classes can start simply as "empty bodies" that define standard
> methods and properties and only after they should be mapped to "low
> level" layers like text, CT, Win, X.

It's very dangerous to build the building from the top :)
This will lead to forced bad design decisions just
because we already have a higher level element that
needs to do something weird.

> In this way we keep the "philosophy" of Harbour UI and we'll not end
> with tons of xyz_funcs() that are not portable.

I think we should define what we want. At this point Harbour
is very far from implementing any native GUIs, or even UI.

The whole point of GT is to help console based output (meaning
a matrix of chars with colors). Multi-window still fits into
this. But it's not suited for GUI.

If we want to add a framework for GUI to Harbour core, that
should be built from ground up IMO. It will be a very tough trip :)

Maybe I misunderstood you.

Brgds,
Viktor

From mbelgrano at deltain.it  Sun Jun 15 10:11:55 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Jun 15 10:12:01 2008
Subject: R: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <9257026e0806150414t1458479bo871c509107b75c8e@mail.gmail.com>
References: <17789933.post@talk.nabble.com><D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu><9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com><32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815ED59@SRV02.deltain.net><F8F089EB-8F6F-48EC-8E16-5BD8AD1B518E@syenar.hu>
	<9257026e0806150414t1458479bo871c509107b75c8e@mail.gmail.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED5B@SRV02.deltain.net>

Define some .prg API common for different GUI libraries and platforms with replaceable low level GUI module so the same source code can be used in different environments then sth like that was started by Giancarlo Niccolai in xHarbour. Simply you want a new syntax only for new component/class
I have seen a evolutionary GUI and is eXPress++ by rober donnay for xbase++ http://www.donnay-software.com/expprod19.htm

I agree that is important define a new syntax for basic class but is can be done independently from "Adding core support so that any GTs can have several independent display areas"

Your idea can give "Pluggable gui" if you write in common area but imo better can we have in harbour the capability of add single GUI component to a standard gui instead of an entire gui.
So I can add a component from hwgui (button) and another from fivewin (combo) in same form opened from core function gt


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Lorenzo Fiorini
Sent: Sunday, June 15, 2008 1:14 PM
To: Harbour Project Main Developer List.
Subject: Re: R: [Harbour] GT- Multi-platform Messaging Interface

On Sun, Jun 15, 2008 at 12:43 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Yes, I'm ready to actively participate but this will be a team work.

I think we should start from the "prg level" and think about it as the
"abstract level".

We already have 5.3 classes like tbrowse, button, get, menu so we
don't start from scratch.

We have only to add what is missed for a more complete GUI like
twindow ( or tform ), tcombo, teditor, ttoolbar, tfolder and so on.

These classes can start simply as "empty bodies" that define standard
methods and properties and only after they should be mapped to "low
level" layers like text, CT, Win, X.

In this way we keep the "philosophy" of Harbour UI and we'll not end
with tons of xyz_funcs() that are not portable.

best regards,
Lorenzo
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From bedipritpal at hotmail.com  Sun Jun 15 10:41:14 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Jun 15 10:41:17 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <E5073589-33B9-45CE-8ECF-AD0715B7B28A@syenar.hu>
References: <17789933.post@talk.nabble.com>
	<D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>
	<9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com>
	<32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED59@SRV02.deltain.net>
	<F8F089EB-8F6F-48EC-8E16-5BD8AD1B518E@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED5A@SRV02.deltain.net>
	<E5073589-33B9-45CE-8ECF-AD0715B7B28A@syenar.hu>
Message-ID: <17850687.post@talk.nabble.com>


Hello Viktor

>> And transform the actual presentation to more and more graphical.

>Yes, this seems to be the same thing Pritpal
>suggested last year as Multi-Window GT.

Exactly except the part "graphical". My insistance was on multi-windows,
graphical pard depend on the GT in question.

<<<
Shortly: Adding core support so that any GTs can
have several independent display areas, where the
actual visualization of these is GT dependent
(it could be classic CUI windows inside the one
main window for GTWIN/GTWVT for example, it may
be distinct CUI-in-GUI windows as in GTWVW, but
I may even be possible to choose between these
modes at runtime, so that GTWVT can be extended
to support both old-fashioned and native
multi-window, but probably not both at the same
time.)
>>>

No, if implemented along the lines I suggested, both can 
coexist at the same time.

<<<
We need to discuss how to implement it in a way to it
doesn't introduce hidden extensions and doesn't
break existing code on Harbour, and breaks the less
code on C level and/or make transition for C level
code the easiest.
>>>

The way I suggested, nothing breaks the third party code 
OR existing Clipper code. Because Przemek superb work on
GT abstraction implements everything needed for Multi-Ws.

<<<
This means adding _new parameters to existing functions
should be avoided_.
>>>

As I said it does not break anything and we have nothing to
change in C code exept for PRG callable functions like 
DispOut(),DispBox() etc.

<<<
Instead, we may add a few new functions to switch between
windows:

hb_wSelect( [<nNewSelectedWnd>] ) -> nPrevSelectedWnd

After such call all regular display functions
will be rerouted to the selected window. Existing
classes and other program parts which are supposed
to keep writing to the same window (like TBrowse),
should internally store the selected window at
creation time, and select this whenever doing any
output.
>>>

This is the area where I totally disagree. 
Xbase++ implemented it in their much propogated
campaign to lure Clipper programmers but it is totally
a frustration. In the modern era we need to match
the current presentation protocols. For example, how
will you control if the user clicks on other appln window?
For every GT command you cannot match a  
hb_wSelect() as in m-w environment the program
flow is controlled the user instead of application.


<<<
We will need to define which so far global GT
properties should stay global and which should be
converted to the per-window data. Selected color
and current row/pos for example will be per-window.
Good example for something to think about is
DispBegin()/DispBegin(). SetCursor() is something
which would stay global IMO.
>>>

We need not to define anything. Przemek has already
done it in GT core ad is perfect.

<<<
Any applications not multi-window aware, will
keep working as before, by doing all outputs to
the "base" window. Exact specifics of the "base"
window should also be discussed.
>>>

This is exactly what I did. If you do not pass a 
window handle ( an internal index number ) all outputs
are routed to base window given a number 0 at the
time of initialization.

<<<
Additionally, we should define a new set of Harbour
functions to directly do output to any selected window:

hb_wOpen( ... ) -> <wnd>
hb_wClose( wnd )
hb_wDispOut( wnd, "Text" [, cnColor ] )
hb_wDispOutAt( wnd, 10, 10, "Text" [, cnColor ] )
hb_wSetColor( wnd [, cnColor ] ) -> <cnOldColor>
hb_wSetPos( wnd, r, c )
hb_wRow( wnd ) -> r
hb_wCol( wnd ) -> c
hb_wBox( wnd, ... )
hb_wShadow( wnd[, nMode ] ) -> <nOldMode>
hb_wMove( wnd, ... )
hb_wShow( wnd )
hb_wHide( wnd )
hb_wMaxRow( wnd )
hb_wMaxCol( wnd )
hb_wList() -> <aWnd> (list of all open windows)
>>>

This is where I strongly differ. All existing GT methods are
capable of setting/returning values of respective window. However,
hb_wList() -> <aWnd> (list of all open windows) will be an 
additional one. It can also go into core.

<<<
Maybe it would be a good idea to introduce
numeric-based colors in this new API, so that
we can depart from the 16/16 colors, and to
make color handling easier. Specifics of this
should be discussed. I'd personally stick with
palette based approach, but supporting
256 (or 65535) choices for both background
and foreground. So that one color would be
a word or a double word (it is currently byte).
>>>

I ever longed for this functionality but found the
solution in palette only. It will be nice to see this 
capability in core but for sure it will break a lot of
existing code.

<<<
Last but not least, most C level GT API functions
should be extended with a new window handle
parameter. This will also mean that 3rd party
GTs will have to adapted since C level compatibility
will be lost.
>>>

C level GT API functions need not to be changed.
Only PRG callable C functions need one more parameter.

DispOutAt( nRow, nCol, xVariable, cColor[, hWindow ] )
DispBox( ...[, hWindow ] )
and so on.

If [hWindow] is omitted, base window is the output surface.

<<<
Important, but natural property of the multi
window GT is that all windows will be "buffered".
GTs will need to be extended to render these
buffers on the available output buffer (or
display the separately, by using f.e. Windows API
to render them).
>>>

This is already there. Each window has its own buffer.

<<<
There are a lot more to be discussed, like
"modal"/"non-modal", routing inputs, how to solve
everything above if we don't have a "base" window
(should we support this at all in the first round),
and those things which I completely forgot
>>>

Yes. To implement this is much easier.

SUMUP:
For multi-window to be a success it is important
that user be able to control the flow of operations 
instead of program code.

Regards
Pritpal Bedi

PS: First look executable and sources can be found at
http://www.nabble.com/Multi-Window-GT---III---MemoEdit%28%29-tt14554190.html#a14554190





-- 
View this message in context: http://www.nabble.com/GT--Multi-platform-Messaging-Interface-tp17789933p17850687.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sun Jun 15 10:58:42 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Jun 15 10:58:44 2008
Subject: [Harbour] 2008-06-15 11:34 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <36AB6CA2-82D7-4526-A039-E2B0595967E1@syenar.hu>
References: <17842480.post@talk.nabble.com>
	<36AB6CA2-82D7-4526-A039-E2B0595967E1@syenar.hu>
Message-ID: <17850904.post@talk.nabble.com>


Hello

>- HB_GTI_SETFONT
>   We already have HB_GTI_FONT*, so IMO we don't need another one.

This is slightly different than existing implementation. This is much
easier to change the font settings at once instead of making 
5 calls to Hb_GtInfo() and also making sure that 
Hb_GtInfo( HB_GTI_FONTNAME, cFontName ) is always executed
as a last function.


<<<
- HB_GTI_USER
   should rather be HB_GTI_SPEC IMO, as it's not a "user" defined
   setting, but something specific to a given GT.

As for HB_GTU_* stuff (HB_GTS_* to be in sync with above), it
shouldn't go to hbgtinfo.ch, since GTWVG is not in core, so IMO
you should add a new public header hbgtwvg.ch to contrib/gtwvg
and #define these there. This header can then be added to the
header list in local Makefile/common.mak so that it will be
installed in central /include dir. This way programmers will be
better aware they are using something special, plus we're not
adding contrib dependency to the core.
>>>

Good idea. I will club these in hbgtwvg.ch.

HB_GTI_SPEC
   HB_GTS_* 

It is logical classification. I will change.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/2008-06-15-11%3A34-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17842480p17850904.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sun Jun 15 11:03:12 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 15 11:04:15 2008
Subject: R: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED5B@SRV02.deltain.net>
References: <17789933.post@talk.nabble.com><D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu><9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com><32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815ED59@SRV02.deltain.net><F8F089EB-8F6F-48EC-8E16-5BD8AD1B518E@syenar.hu>
	<9257026e0806150414t1458479bo871c509107b75c8e@mail.gmail.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED5B@SRV02.deltain.net>
Message-ID: <59705F71-FA02-4D57-8267-E770AE951478@syenar.hu>

> Define some .prg API common for different GUI libraries and  
> platforms with replaceable low level GUI module so the same source  
> code can be used in different environments then sth like that was  
> started by Giancarlo Niccolai in xHarbour. Simply you want a new  
> syntax only for new component/class
> I have seen a evolutionary GUI and is eXPress++ by rober donnay for  
> xbase++ http://www.donnay-software.com/expprod19.htm

IMO GUI is out of scope regarding Harbour-project
core development.

A GUI can (and do) live and exist fully independently
from the core. One can be developed, be tested, can
evolve by itself. Even in contrib.

If such project needs some kind of support from Harbour
core in order to work properly, or to make it work
better, we can coordinate to implement such changes in
the core of course. Such GUI lib doesn't even need
the most (or rather any) part our GT subsystem.

> Your idea can give "Pluggable gui" if you write in common area but  
> imo better can we have in harbour the capability of add single GUI  
> component to a standard gui instead of an entire gui.
> So I can add a component from hwgui (button) and another from  
> fivewin (combo) in same form opened from core function gt

If you mean mixing regular CUI with GUI elements;
this is technically a GUI with some support for
legacy - Clipper compatible - controls. This is
GTWVG. There is the danger that these UIs will
be percepted by users as "alien".

Mixing GUI elements from different independent
GUI libs sounds close to impossible, IMO there
should rather be a standard way to create _3rd party
controls_ to plug into one well-designed GUI lib.
To define a framework for such thing is the job
this well-designed GUI library.

Maybe I'm mystifying GUI too much, but the concept
is so different (if done right) than CUI, and
programming for each is also so different, that
there is no "magic" way to do a switch for "free",
meaning with no programming effort or drastic
rework of source code. I see no point in defining
such an unreachable goal for Harbour to promise
for "no-effort" GUI programming using CUI syntax,
if that's what you meant.

A multiplatform, portable GUI could be started
though as an _independent_ project, this may definitely
be useful to develop new fat client apps using Harbour.
This will rather need contributors than a general
agreement :)

Regarding Harbour core, IMO we should concentrate to
create a good base system (MT, Unicode, XML, SQL and
maybe evolve the language itself, to help users create
better quality code, like strong typing, syntax cleanup,
and also multi-window GT for CUI apps. The interoperability
side can also be improved, like web-service support
for one example. SSL/SSH based internet protocols are
also missing from Harbour, authentication support as well,
powerful encryption and digital signature tools too.)

Brgds,
Viktor

From mbelgrano at deltain.it  Sun Jun 15 11:22:26 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Jun 15 11:22:31 2008
Subject: R: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <59705F71-FA02-4D57-8267-E770AE951478@syenar.hu>
References: <17789933.post@talk.nabble.com><D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu><9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com><32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815ED59@SRV02.deltain.net><F8F089EB-8F6F-48EC-8E16-5BD8AD1B518E@syenar.hu><9257026e0806150414t1458479bo871c509107b75c8e@mail.gmail.com><AFB948164110ED43B5EB849E8DEEF03815ED5B@SRV02.deltain.net>
	<59705F71-FA02-4D57-8267-E770AE951478@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED5C@SRV02.deltain.net>


Wil gtwvg have standard way to create _3rd party controls_ to plug into
?

I agree with your concept except  thet difference from GUI and CUI :
this is made by eXPress++ syntax CUI look GUI

>Regarding Harbour core, IMO we should concentrate to create a good base
system 
>(MT, Unicode, XML, SQL and maybe evolve the language itself, to help
users create
>better quality code, like strong typing, syntax cleanup,and also
multi-window GT for CUI apps. 
>The interoperability side can also be improved, like web-service
support
>for one example. SSL/SSH based internet protocols are
>also missing from Harbour, authentication support as well,
>powerful encryption and digital signature tools too.)

I totally agree also if I add a gt for run CUI as web application and
standard way to create _3rd party controls



From harbour.01 at syenar.hu  Sun Jun 15 11:46:11 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 15 11:47:19 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <17850687.post@talk.nabble.com>
References: <17789933.post@talk.nabble.com>
	<D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>
	<9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com>
	<32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED59@SRV02.deltain.net>
	<F8F089EB-8F6F-48EC-8E16-5BD8AD1B518E@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED5A@SRV02.deltain.net>
	<E5073589-33B9-45CE-8ECF-AD0715B7B28A@syenar.hu>
	<17850687.post@talk.nabble.com>
Message-ID: <5EAA7508-1A3B-4E58-8314-F2745B2C5E9F@syenar.hu>

>> <<<
> This means adding _new parameters to existing functions
> should be avoided_.
>>>>
>
> As I said it does not break anything and we have nothing to
> change in C code exept for PRG callable functions like
> DispOut(),DispBox() etc.

_"Except for DispOut/DispBox()?"_

There are thousands of such calls in every application.
If changing these wouldn't quality as "break anything" I
don't know what would do.

> hb_wSelect( [<nNewSelectedWnd>] ) -> nPrevSelectedWnd
>
> This is the area where I totally disagree.
> Xbase++ implemented it in their much propogated
> campaign to lure Clipper programmers but it is totally
> a frustration. In the modern era we need to match

I use this method since 15 years, and there is zero
frustration as most of the time I open a windows, write
to this window, close the window, and I get back the
focus of the original one automatically. So in actual
.prg code I only use Open/Close, but never Select().

wSelect() is only needed if I want to display stuff in
other windows than the current, which is pretty rare.

> the current presentation protocols. For example, how
> will you control if the user clicks on other appln window?
> For every GT command you cannot match a
> hb_wSelect() as in m-w environment the program
> flow is controlled the user instead of application.

I'm not talking about GUI applications, but rather
modal CUI applications. Where one windows is active
at a time, clicks can only be accepted by current
window.

Again, baby steps please, it looks you're trying
to get the Windows concept into Harbour core.

Which I'm totally against.

>>>>
> We need not to define anything. Przemek has already
> done it in GT core ad is perfect.

huh?

The current GT is perfect, I was talking about moving
windows support to GT core, rather then having it
implemented as a layer above. This raises some question,
these are a few of them.

> This is where I strongly differ. All existing GT methods are
> capable of setting/returning values of respective window. However,
> hb_wList() -> <aWnd> (list of all open windows) will be an
> additional one. It can also go into core.

GT methods on the C level and "GT methods" (display functions)
on the Harbour level are two different things. C level should be
extended (hb_gt*()), while keeping compatibility with legacy GT
API (_gt*()). This seems easy.

For the Harbour level though, we need to keep compatibility
with existing code. Part of this compatibility is that we
don't introduce "hidden extensions" to existing functions.
For this reason DispOut() parameter list for example cannot
be touched.

If you personally favour extending DispOut(), you can create
#translates DispOut( "text", color, wnd ) => hb_wDispOut( wnd, "Text",  
color" )

>>>> I ever longed for this functionality but found the
> solution in palette only. It will be nice to see this
> capability in core but for sure it will break a lot of
> existing code.

It won't break any code, as the numeric colors
would only be supported in new hb_w*() functions.

> C level GT API functions need not to be changed.

I cannot even how you'd do that.

> Only PRG callable C functions need one more parameter.
>
> DispOutAt( nRow, nCol, xVariable, cColor[, hWindow ] )
> DispBox( ...[, hWindow ] )
> and so on.
>
> If [hWindow] is omitted, base window is the output surface.

Sorry Pritpal, but you seem to not recognize a very
important rule, we've been discussing a lot and which
we're working since the very start of this project:

Compatibility.

> Important, but natural property of the multi
> window GT is that all windows will be "buffered".
> GTs will need to be extended to render these
> buffers on the available output buffer (or
> display the separately, by using f.e. Windows API
> to render them).
>>>>
>
> This is already there. Each window has its own buffer.

There is no window support in any of the GTs,
besides ctwin. What window are you referring to?

"window" means a selected and separately handled
area inside a CUI box. I'm not talking about
window in any GUI terms.

> Yes. To implement this is much easier.
>
> SUMUP:
> For multi-window to be a success it is important
> that user be able to control the flow of operations
> instead of program code.

The other important thing is to adhere to some basic
rules of Harbour development, rather than being caught
by easy and quick features tackled into the Harbour
core, which will create problems later, or the some
of the main goals and properties of Harbour will suffer
(like portability and compatibility).

Your multwvt is example is interesting, but it's mixing
different concepts, like callback based input handling
(Windows-style), which I personally find extremely
counter-productive to use in a real application, and
non-modal Windows in a single threaded app. I don't
like it, and all I'm personally proposing is to move
ctwin-like logic to core Harbour, and see where to
go next, as your move seems to raise a lot more questions
than it solves, and I'd better like to discuss these
step-by-step.

So again: I'm proposing to add ctwin-like windowing
to core, with no messing with callbacks and input routing,
or moving to a GUI-like direction in one step. And
while keeping the Harbour interface compatible, with
no hidden extensions, extra parameters.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun 15 11:53:37 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 15 11:54:37 2008
Subject: [Harbour] 2008-06-15 11:34 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <17850904.post@talk.nabble.com>
References: <17842480.post@talk.nabble.com>
	<36AB6CA2-82D7-4526-A039-E2B0595967E1@syenar.hu>
	<17850904.post@talk.nabble.com>
Message-ID: <4A6B7C90-0007-49FA-B228-7E314BFD15FB@syenar.hu>

>>
Hi Pritpal,

>> - HB_GTI_SETFONT
>>  We already have HB_GTI_FONT*, so IMO we don't need another one.
>
> This is slightly different than existing implementation. This is much
> easier to change the font settings at once instead of making
> 5 calls to Hb_GtInfo() and also making sure that
> Hb_GtInfo( HB_GTI_FONTNAME, cFontName ) is always executed
> as a last function.

You mean HB_GTI_FONTSIZE?

Couldn't we rather fix our current ones to not
have such a hidden requirement? Is this a GT
specific requirement?

I'd rather vote to have _one_ way this works
in all GTs, rather than adding new alternatives.

> It is logical classification. I will change.

Thanks.

Brgds,
Viktor

From philb at philb.us  Sun Jun 15 12:10:42 2008
From: philb at philb.us (Phil Barnett)
Date: Sun Jun 15 12:10:47 2008
Subject: R: R: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <E5073589-33B9-45CE-8ECF-AD0715B7B28A@syenar.hu>
References: <17789933.post@talk.nabble.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED5A@SRV02.deltain.net>
	<E5073589-33B9-45CE-8ECF-AD0715B7B28A@syenar.hu>
Message-ID: <200806151210.42968.philb@philb.us>

On Sunday 15 June 2008 07:54:59 am Szak?ts Viktor wrote:
> There are a lot more to be discussed, like
> "modal"/"non-modal", routing inputs, how to solve
> everything above if we don't have a "base" window
> (should we support this at all in the first round),

I would think not.

-- 
Waiting for sunspots.
From bedipritpal at hotmail.com  Sun Jun 15 12:50:24 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Jun 15 12:50:28 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <5EAA7508-1A3B-4E58-8314-F2745B2C5E9F@syenar.hu>
References: <17789933.post@talk.nabble.com>
	<D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>
	<9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com>
	<32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED59@SRV02.deltain.net>
	<F8F089EB-8F6F-48EC-8E16-5BD8AD1B518E@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED5A@SRV02.deltain.net>
	<E5073589-33B9-45CE-8ECF-AD0715B7B28A@syenar.hu>
	<17850687.post@talk.nabble.com>
	<5EAA7508-1A3B-4E58-8314-F2745B2C5E9F@syenar.hu>
Message-ID: <17852116.post@talk.nabble.com>


Hello Viktor

<<<
So again: I'm proposing to add ctwin-like windowing
to core, with no messing with callbacks and input routing,
or moving to a GUI-like direction in one step. And
while keeping the Harbour interface compatible, with
no hidden extensions, extra parameters.
>>>

Amen.

Perhaps we are dicussing two different angles contradicting each other.

Then you can look into GTWVW. Budyanto did exactly like you think.

I will try to extend GTWVG for multi-windows without any 
changes to core code. I suppose it is absolutely not restricted, right ?

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/GT--Multi-platform-Messaging-Interface-tp17789933p17852116.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sun Jun 15 12:55:40 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Jun 15 12:55:43 2008
Subject: [Harbour] 2008-06-15 11:34 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <4A6B7C90-0007-49FA-B228-7E314BFD15FB@syenar.hu>
References: <17842480.post@talk.nabble.com>
	<36AB6CA2-82D7-4526-A039-E2B0595967E1@syenar.hu>
	<17850904.post@talk.nabble.com>
	<4A6B7C90-0007-49FA-B228-7E314BFD15FB@syenar.hu>
Message-ID: <17852184.post@talk.nabble.com>


Hello


>You mean HB_GTI_FONTSIZE?

Yep. Sorry for wrong input.

>>>
Couldn't we rather fix our current ones to not
have such a hidden requirement? Is this a GT
specific requirement?

I'd rather vote to have _one_ way this works
in all GTs, rather than adding new alternatives.
>>>

Sure it should. I did not change because this protocol
I had already implemented in GTWVG long back and also
I do not know why Przemek kept it separate call for
each component. I will wait Przemek's input first. 
Till then this constant goes to hbgtwvg.ch.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-15-11%3A34-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17842480p17852184.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From f.eichelhardt at web.de  Sun Jun 15 17:17:50 2008
From: f.eichelhardt at web.de (Fritz Eichelhardt)
Date: Sun Jun 15 14:09:58 2008
Subject: [Harbour] should work
Message-ID: <200806152317.50838.f.eichelhardt@web.de>

hi all,

the following example of the online documentation doesn't work here
(linux)

i have only changed the #include

is it for windows only, or what might be the reason?

***********************************************************************
//#include "Box.ch"
#include "/usr/include/xharbour/box.ch"

procedure main

cls
dispbox(10,110,20,50, "Das iss 'ne box", "W+/R")

inkey(0)

dispbox(10,110,20,50, B_DOUBLE + SPACE(7))

dispout("Using irgendwas")

@ maxrow(),0
return
***********************************************************************


-- 
Best regards

Fritz Eichelhardt
Br?ckenstr. 1
53545 Linz
Tel.: 02644 - 3784
Fax/UMS: 01212 - 517045068
From harbour.01 at syenar.hu  Sun Jun 15 15:21:06 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 15 15:22:16 2008
Subject: [Harbour] GT- Multi-platform Messaging Interface
In-Reply-To: <17852116.post@talk.nabble.com>
References: <17789933.post@talk.nabble.com>
	<D7334F39-E800-47F9-A6A8-F587985AC8D7@syenar.hu>
	<9257026e0806112334q4968ee75id1b75c21ee37144b@mail.gmail.com>
	<32FED9F4-CD91-4459-9492-2EDCCD29F97E@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED59@SRV02.deltain.net>
	<F8F089EB-8F6F-48EC-8E16-5BD8AD1B518E@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED5A@SRV02.deltain.net>
	<E5073589-33B9-45CE-8ECF-AD0715B7B28A@syenar.hu>
	<17850687.post@talk.nabble.com>
	<5EAA7508-1A3B-4E58-8314-F2745B2C5E9F@syenar.hu>
	<17852116.post@talk.nabble.com>
Message-ID: <8D59ABEF-140D-4E40-AA01-9138C7D1FF70@syenar.hu>

Hi Pritpal,

>
> So again: I'm proposing to add ctwin-like windowing
> to core, with no messing with callbacks and input routing,
> or moving to a GUI-like direction in one step. And
> while keeping the Harbour interface compatible, with
> no hidden extensions, extra parameters.
>>>>
>
> Amen.
>
> Perhaps we are dicussing two different angles contradicting each  
> other.
>
> Then you can look into GTWVW. Budyanto did exactly like you think.

Yes, GTWVW is something like that (I've never watched it
in action, but that's how I imagine it to be based on Mike's
description).

The problem with GTWVW however, is that it's based on the
old GT model, so it no longer works with current Harbour
(and xhb), unless rewritten. Rewriting it would be a huge
task as I reckon, and it might be easier to lay the grounds
in core, so that more GTs can benefit from it. At least
that's the idea.

> I will try to extend GTWVG for multi-windows without any
> changes to core code. I suppose it is absolutely not restricted,  
> right ?

Absolutely not, in fact you're rather absolutely encouraged :)

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun 15 15:25:24 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 15 15:26:29 2008
Subject: [Harbour] 2008-06-15 11:34 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <17852184.post@talk.nabble.com>
References: <17842480.post@talk.nabble.com>
	<36AB6CA2-82D7-4526-A039-E2B0595967E1@syenar.hu>
	<17850904.post@talk.nabble.com>
	<4A6B7C90-0007-49FA-B228-7E314BFD15FB@syenar.hu>
	<17852184.post@talk.nabble.com>
Message-ID: <40784A3B-841C-4B7F-952D-5FC1CAB35ACE@syenar.hu>

Okay, let's wait for Przemek's input.

The drawback of separate functions is either
some visible flickering - if all calls cause
visible change -, or the hidden functionality
that one of them (FONTSIZE) should be called last.
(now we have the latter)

That also explains why didn't FONTQUALITY
and FONTNAME worked for me first... I called
them _after_ FONTSIZE, or at first I didn't
use FONTSIZE at all.

Brgds,
Viktor

On 2008.06.15., at 18:55, Pritpal Bedi wrote:

>
> Hello
>
>
>> You mean HB_GTI_FONTSIZE?
>
> Yep. Sorry for wrong input.
>
>>>>
> Couldn't we rather fix our current ones to not
> have such a hidden requirement? Is this a GT
> specific requirement?
>
> I'd rather vote to have _one_ way this works
> in all GTs, rather than adding new alternatives.
>>>>
>
> Sure it should. I did not change because this protocol
> I had already implemented in GTWVG long back and also
> I do not know why Przemek kept it separate call for
> each component. I will wait Przemek's input first.
> Till then this constant goes to hbgtwvg.ch.
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/2008-06-15-11%3A34-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17842480p17852184.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Sun Jun 15 16:25:04 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Jun 15 16:25:10 2008
Subject: [Harbour] should work
In-Reply-To: <200806152317.50838.f.eichelhardt@web.de>
References: <200806152317.50838.f.eichelhardt@web.de>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED5E@SRV02.deltain.net>

You use a Xharbour include with harbour?
#include "\usr\includ\xharbour\box.ch"

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Fritz Eichelhardt
Sent: Sunday, June 15, 2008 11:18 PM
To: harbour@harbour-project.org
Subject: [Harbour] should work

hi all,

the following example of the online documentation doesn't work here
(linux)

i have only changed the #include

is it for windows only, or what might be the reason?

***********************************************************************
//#include "Box.ch"
#include "/usr/include/xharbour/box.ch"

procedure main

cls
dispbox(10,110,20,50, "Das iss 'ne box", "W+/R")

inkey(0)

dispbox(10,110,20,50, B_DOUBLE + SPACE(7))

dispout("Using irgendwas")

@ maxrow(),0
return
***********************************************************************


-- 
Best regards

Fritz Eichelhardt
Br?ckenstr. 1
53545 Linz
Tel.: 02644 - 3784
Fax/UMS: 01212 - 517045068
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Sun Jun 15 17:11:47 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 15 17:11:49 2008
Subject: [Harbour] 2008-06-15 23:10 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cf2c$Blat.v2.6.2$6bc6a3f0$1044a4f27e00@127.0.0.1>

2008-06-15 23:10 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/vm/memvars.c
     * Minor format.

   * contrib/hbmzip/hbmzip.c
     * Minor cleanups.

   * contrib/hbtip/tests/httpadv.prg
   * contrib/hbtip/tests/dnldftp.prg
   * contrib/hbtip/tests/upld_ftp.prg
   * contrib/hbtip/tests/tipmail.prg
   * contrib/hbtip/tests/loadhtml.prg
   * contrib/hbtip/tests/ftpadv.prg
     * Changed to compile in Harbour.
--
Brgds,
Viktor

From bedipritpal at hotmail.com  Sun Jun 15 18:29:31 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Jun 15 18:29:35 2008
Subject: [Harbour] 2008-06-15 15:16 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <17855246.post@talk.nabble.com>


2008-06-15 15:16 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
   * contrib/gtwvg/gtwvg.c
   * contrib/gtwvg/wvtutils.c
   * contrib/gtwvg/wvtcore.c
   * contrib/gtwvg/wvtpaint.prg
   * contrib/gtwvg/gtwvg.h
   + contrib/gtwvg/hbgtwvg.ch
     ! Syntactically and parameters wise GTWVG matches GTWVT.
     ! More functions ported to Hb_GtInfo().
     ! wvtcore.c and wvtutils.c are now based on function call 
          instead of static variables.
     + Separate hbgtwvg.ch included containg GTI_ constants 
          proprietory to GTWVG only.
     ! Organizing, formatting and code clean ups.
   ; TODO: Separate HB_GTWVT structure in 3 units 
       1) Core GT member.
       2) WVG specif member -  per GT.
       3) GDI members
     
     Work-in-progress. Please deffer updates in GTWVG.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-15-15%3A16-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp17855246p17855246.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sun Jun 15 19:04:43 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Jun 15 19:04:46 2008
Subject: [Harbour] Multi-Window GT - New Implementation
Message-ID: <17855569.post@talk.nabble.com>


Hello Viktor, all

<<<
hb_wSelect( [<nNewSelectedWnd>] ) -> nPrevSelectedWnd

hb_wOpen( ... ) -> <wnd>
hb_wClose( wnd )
hb_wDispOut( wnd, "Text" [, cnColor ] )
hb_wDispOutAt( wnd, 10, 10, "Text" [, cnColor ] )
hb_wSetColor( wnd [, cnColor ] ) -> <cnOldColor>
hb_wSetPos( wnd, r, c )
hb_wRow( wnd ) -> r
hb_wCol( wnd ) -> c
hb_wBox( wnd, ... )
hb_wShadow( wnd[, nMode ] ) -> <nOldMode>
hb_wMove( wnd, ... )
hb_wShow( wnd )
hb_wHide( wnd )
hb_wMaxRow( wnd )
hb_wMaxCol( wnd )
hb_wList() -> <aWnd> (list of all open windows)
>>>

<<<
After such call all regular display functions
will be rerouted to the selected window. Existing
classes and other program parts which are supposed
to keep writing to the same window (like TBrowse),
should internally store the selected window at
creation time, and select this whenever doing any
output.
>>>

I am ready to provide the multi-window in above said manner.

All output/input goes to window selected with

hb_wSelect( [<nNewSelectedWnd>] ) -> nPrevSelectedWnd

though other windows may be viewable by a click.

It will need few more methods to be implemented in core GT.

The skelton will be like:

nWnd := hb_wCreate/Open( nTop, nLeft, nBottom, nRight ) 

/* NOTE: Base window will ever be 0 */
if nWnd > 0
   ? SetAppWindow()   // 1
   SetColor( 'N/W' )
   CLS
   @ 10,10 SAY [x]Harbour'
   @ 12,10 GET someVrbl
   READ
   
   Hb_wDestroy/Close( nWnd )
endif

Now suppose base window is clicked by the user while nWnd is in READ state,
how the GT should respond to it ? We may work on two angles:

1) Make it a modal window so that user is never allowed to click on base
window.
2) Allow user to view the contents of base window then he is to click again
on nWnd.

If we agree on this I can start working on it. Basic prototype
should be ready within a day or two.

We can guard these method in core with a define also.
Because these methods are additions and interfere nothing with thw core
code, I suggest to keep these without guard.

Awaiting opinions.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---New-Implementation-tp17855569p17855569.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sun Jun 15 19:45:38 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 15 19:46:38 2008
Subject: [Harbour] Multi-Window GT - New Implementation
In-Reply-To: <17855569.post@talk.nabble.com>
References: <17855569.post@talk.nabble.com>
Message-ID: <AB322654-7FB7-4E56-9008-EAD95D883431@syenar.hu>

>
Hi Pritpal,

> I am ready to provide the multi-window in above said manner.
>
> All output/input goes to window selected with
>
> hb_wSelect( [<nNewSelectedWnd>] ) -> nPrevSelectedWnd
>
> though other windows may be viewable by a click.
>
> It will need few more methods to be implemented in core GT.
>
> The skelton will be like:
>
> nWnd := hb_wCreate/Open( nTop, nLeft, nBottom, nRight )
>
> /* NOTE: Base window will ever be 0 */
> if nWnd > 0
>   ? SetAppWindow()   // 1
>   SetColor( 'N/W' )
>   CLS
>   @ 10,10 SAY [x]Harbour'
>   @ 12,10 GET someVrbl
>   READ
>
>   Hb_wDestroy/Close( nWnd )
> endif

I think the "base" window should always be created by
all GTs, and get the number 0. Maybe you meant the same.

> Now suppose base window is clicked by the user while nWnd is in READ  
> state,
> how the GT should respond to it ? We may work on two angles:
>
> 1) Make it a modal window so that user is never allowed to click on  
> base window.
> 2) Allow user to view the contents of base window then he is to  
> click again on nWnd.

The second looks more useful, but it will confuse
users. So I'd vote for 1), plus - if possible - to let
users move around any windows, but GTs should not bring
those inactive Windows to front (z order should remain).

> If we agree on this I can start working on it. Basic prototype
> should be ready within a day or two.
>
> We can guard these method in core with a define also.
> Because these methods are additions and interfere nothing with thw  
> core
> code, I suggest to keep these without guard.

It would be best do it right and without bad side-effects,
so that we don't need guards.

I think we should let ppl voice opinions, I'd also like to
hear Przemek's comments before committing anything to the
core, so I'd wait for a bit.

If you'd like to work on this until then, I'm ready to check
it out, but let's please do it outside the SVN.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun 15 19:49:03 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 15 19:49:03 2008
Subject: [Harbour] 2008-06-16 01:47 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cf42$Blat.v2.6.2$642e9628$195c46164994@127.0.0.1>

2008-06-16 01:47 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/set.ch
   * include/hbset.h
   * source/rtl/set.c
   * source/vm/fm.c
   * source/vm/extrap.c
     + Added: Set( _SET_HBOUTLOG[, <cFileName>] ) -> <cOldFileName>
       Default value: "hb_out.log"
       This replaces hb_fm.log and hb_ex.log, and makes it possible 
       for the applications to control the filename where these 
       internal Harbour outputs are written to.

   * source/rtl/gtwvt/gtwvt.c
     % Minor redundancy removed.
--
Brgds,
Viktor

From mbelgrano at deltain.it  Sun Jun 15 19:54:24 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Jun 15 19:54:30 2008
Subject: R: [Harbour] Multi-Window GT - New Implementation
In-Reply-To: <17855569.post@talk.nabble.com>
References: <17855569.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED62@SRV02.deltain.net>

I think that is modal but the read istead of the form
Set StateOfWindowsSelected to modal (default)/normal
(In vb it can be set simply form.Show vbModal I think that will be usefull create a class form)
So each developer can choice in his porting from two choice
Make it a modal window not require change of prg istead give liberty to user but must update program flow
If must made a choice I choice modal

-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] Per conto di Pritpal Bedi
Inviato: luned? 16 giugno 2008 1.05
A: harbour@harbour-project.org
Oggetto: [Harbour] Multi-Window GT - New Implementation


Hello Viktor, all

<<<
hb_wSelect( [<nNewSelectedWnd>] ) -> nPrevSelectedWnd

hb_wOpen( ... ) -> <wnd>
hb_wClose( wnd )
hb_wDispOut( wnd, "Text" [, cnColor ] )
hb_wDispOutAt( wnd, 10, 10, "Text" [, cnColor ] )
hb_wSetColor( wnd [, cnColor ] ) -> <cnOldColor>
hb_wSetPos( wnd, r, c )
hb_wRow( wnd ) -> r
hb_wCol( wnd ) -> c
hb_wBox( wnd, ... )
hb_wShadow( wnd[, nMode ] ) -> <nOldMode>
hb_wMove( wnd, ... )
hb_wShow( wnd )
hb_wHide( wnd )
hb_wMaxRow( wnd )
hb_wMaxCol( wnd )
hb_wList() -> <aWnd> (list of all open windows)
>>>

<<<
After such call all regular display functions
will be rerouted to the selected window. Existing
classes and other program parts which are supposed
to keep writing to the same window (like TBrowse),
should internally store the selected window at
creation time, and select this whenever doing any
output.
>>>

I am ready to provide the multi-window in above said manner.

All output/input goes to window selected with

hb_wSelect( [<nNewSelectedWnd>] ) -> nPrevSelectedWnd

though other windows may be viewable by a click.

It will need few more methods to be implemented in core GT.

The skelton will be like:

nWnd := hb_wCreate/Open( nTop, nLeft, nBottom, nRight ) 

/* NOTE: Base window will ever be 0 */
if nWnd > 0
   ? SetAppWindow()   // 1
   SetColor( 'N/W' )
   CLS
   @ 10,10 SAY [x]Harbour'
   @ 12,10 GET someVrbl
   READ
   
   Hb_wDestroy/Close( nWnd )
endif

Now suppose base window is clicked by the user while nWnd is in READ state,
how the GT should respond to it ? We may work on two angles:

1) Make it a modal window so that user is never allowed to click on base
window.	
2) Allow user to view the contents of base window then he is to click again
on nWnd.

If we agree on this I can start working on it. Basic prototype
should be ready within a day or two.

We can guard these method in core with a define also.
Because these methods are additions and interfere nothing with thw core
code, I suggest to keep these without guard.

Awaiting opinions.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---New-Implementation-tp17855569p17855569.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Sun Jun 15 19:58:19 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Jun 15 19:58:23 2008
Subject: R: [Harbour] Multi-Window GT - New Implementation
In-Reply-To: <AB322654-7FB7-4E56-9008-EAD95D883431@syenar.hu>
References: <17855569.post@talk.nabble.com>
	<AB322654-7FB7-4E56-9008-EAD95D883431@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED63@SRV02.deltain.net>

>
>If you'd like to work on this until then, I'm ready to check
>it out, but let's please do it outside the SVN.

I am also ready (and happy) to test
From eghorbino at yahoo.com  Sun Jun 15 20:46:25 2008
From: eghorbino at yahoo.com (Edmer)
Date: Sun Jun 15 20:46:28 2008
Subject: [Harbour] Harbour Memory Allocation Issue
Message-ID: <17856282.post@talk.nabble.com>


Hi All,

I'm trying to compile our testole.prg using hbmake and it produce the
following warning message at the end which is also stored in hb_out.log

Harbour Memory Allocation Report - C:\hrb\bin\b32\hbmake.exe
Terminated at: 2008.06.16 10:38:02
Total memory allocated: 98268 bytes (1864 block(s))
Warning, memory allocated but not released: 15 bytes (1 block(s))
Block 1 00B0AA20 (size 11) hb_stackInit(0), "hb_out.log."
------------------------------------------------------------------------

Cheers,
Ed

-- 
View this message in context: http://www.nabble.com/Harbour-Memory-Allocation-Issue-tp17856282p17856282.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From eghorbino at yahoo.com  Sun Jun 15 21:15:02 2008
From: eghorbino at yahoo.com (Edmer)
Date: Sun Jun 15 21:15:05 2008
Subject: [Harbour] GetActiveObject() problem
Message-ID: <17856438.post@talk.nabble.com>


Hi All, 

The following code always produce the following runtime error in
GetActiveObject().

*---
Harbour Exception - C:\TRIAL\trial305.exe
Terminated at: 2008.06.16 11:03:11
Called from OLESETPROPERTY(0)
Called from TOLEAUTO:SET(153)
Called from TOLEAUTO:_VISIBLE(208)
Called from MAIN(5)
------------------------------------------------------------------------


This is the prg

*---

PROCEDURE main
  local oOLE
  BEGIN SEQUENCE WITH { |oErr| Break( oErr )}
     oOLE := GetActiveObject( "InternetExplorer.Application" )
  RECOVER
     BEGIN SEQUENCE WITH { |oErr| Break( oErr )}
        oOLE := CreateObject( "InternetExplorer.Application" )
     RECOVER
        Alert( "Error: IExplorer A not available. [" + Ole2TxtError()+ "]" )
     END SEQUENCE
  END SEQUENCE

  oOLE:Visible := .T.

  oOLE:Navigate("http://www.harbour-project.org")
  DO WHILE oOLE:ReadyState != 4
    HB_IdleSleep(1)
  ENDDO

RETURN
*---

Cheers,
Ed

-- 
View this message in context: http://www.nabble.com/GetActiveObject%28%29-problem-tp17856438p17856438.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Mon Jun 16 00:10:19 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Jun 16 00:10:22 2008
Subject: [Harbour] Multi-Window GT - New Implementation
In-Reply-To: <AB322654-7FB7-4E56-9008-EAD95D883431@syenar.hu>
References: <17855569.post@talk.nabble.com>
	<AB322654-7FB7-4E56-9008-EAD95D883431@syenar.hu>
Message-ID: <17857605.post@talk.nabble.com>


Hello Everybody

Here are the source of all affected files, wvtext.prg and executable.

Please post all these files in their respective folders and compile Harbour.
OR you can play with he executable.

Please note that this is a first look demonstration of proposed GT and
it has few issues which I plan to resolve in a couple of days. In the 
mean time I will here your comments.

I would prefer if all you compile Harbour with these sources and 
link your application and test under production like environments. 

If normal behavior of GT is ok, we can safely place the code in SVN.

Regards
Pritpal Bedi


http://www.nabble.com/file/p17857605/gtwvt_mw.zip gtwvt_mw.zip 

-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---New-Implementation-tp17855569p17857605.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Mon Jun 16 00:26:57 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Jun 16 00:27:02 2008
Subject: [Harbour] Multi-Window GTWVT - First Implementation
Message-ID: <17857724.post@talk.nabble.com>


Hello Everybody

Just in case it appears buried...

http://www.nabble.com/Multi-Window-GT---New-Implementation-tt17855569.html

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Multi-Window-GTWVT---First-Implementation-tp17857724p17857724.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From eghorbino at yahoo.com  Mon Jun 16 01:21:54 2008
From: eghorbino at yahoo.com (Edmer)
Date: Mon Jun 16 01:21:57 2008
Subject: [Harbour] About OLE
Message-ID: <17858071.post@talk.nabble.com>


Hi Guys,

In a classic example of invoking IE using Objects such as the following:
*---
PROCEDURE Main
  local cUrl := "http://www.harbour-project.org"
  local oOLE

  BEGIN SEQUENCE WITH { |oErr| Break( oErr )}
     oOLE := GetActiveObject( "InternetExplorer.Application" )
  RECOVER
     BEGIN SEQUENCE WITH { |oErr| Break( oErr )}
        oOLE := CreateObject( "InternetExplorer.Application" )
     RECOVER
        Alert( "Error: IExplorer A not available. [" + Ole2TxtError()+ "]" )
     END SEQUENCE
  END SEQUENCE

  oOLE:Visible := .T.
  oOLE:Navigate(cUrl)
  inkey(0)
  oOle:quit()
RETURN
*---

How could I use FireFox instead of Internet Explorer.

Thanks,
Ed

-- 
View this message in context: http://www.nabble.com/About-OLE-tp17858071p17858071.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Mon Jun 16 01:49:00 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Jun 16 01:49:04 2008
Subject: [Harbour] Multi-Window GTWVT - More Elements
In-Reply-To: <17857724.post@talk.nabble.com>
References: <17857724.post@talk.nabble.com>
Message-ID: <17858267.post@talk.nabble.com>


More elements to play...

/*
 * $Id: wvtext.prg 8723 2008-06-13 17:26:48Z vszakats $
 */

//----------------------------------------------------------------------//
//----------------------------------------------------------------------//
//----------------------------------------------------------------------//
//
//                  [x]Harbour Extended Features Deno
//                                    .
//                 Pritpal Bedi <pritpal@vouchcac.com>
//
//----------------------------------------------------------------------//
//----------------------------------------------------------------------//
//----------------------------------------------------------------------//

#include 'hbgtinfo.ch'
#include 'inkey.ch'

#define RGB(r,g,b) ( r + ( g * 256 ) + ( b * 256 * 256 ) )

//----------------------------------------------------------------------//

FUNCTION Main()
   Local nKey, lMark, lResize, lClose
   Local nHeight := 20
   Local nWidth  := Int( nHeight/2 )
   Local cFont

   //cFont := 'Courier New' // Harbour default
   //cFont := 'Times New Roman'
   //cFont := 'Lucida Console'

   Hb_GtInfo( HB_GTI_FONTNAME , cFont   )
   Hb_GtInfo( HB_GTI_FONTWIDTH, nWidth  )
   Hb_GtInfo( HB_GTI_FONTSIZE , nHeight )

   SetCursor( 0 )
   SetColor( 'n/w' )

   HB_GtInfo( HB_GTI_NOTIFIERBLOCK, {|nEvent, ...| MyNotifier( nEvent, ... )
} )

   DispScreen()

   DO WHILE .T.
      nKey := Inkey()
      if nKey == K_ESC
         exit
      endif

      DO CASE
      CASE nKey == K_ENTER
         Alert( '<Enter> Pressed' )

      CASE nKey == K_F2
         lMark := Hb_GtInfo( HB_GTI_SELECTCOPY )
         Hb_GtInfo( HB_GTI_SELECTCOPY, !lMark )

      CASE nKey == K_F3
         lResize := Hb_GtInfo( HB_GTI_RESIZABLE )
         Hb_GtInfo( HB_GTI_RESIZABLE, !lResize )

      CASE nKey == K_F4
         lClose := Hb_GtInfo( HB_GTI_CLOSABLE )
         hb_GtInfo( HB_GTI_CLOSABLE, !lClose )

      CASE nKey == K_F5
         SetPalette( 1 )

      CASE nKey == K_F6
         SetPalette( 0 )

      CASE nKey == K_F7
         SetPaletteIndex()

      CASE nKey == K_F8
         Alert( "Menu text changed. Was: " + hb_GtInfo( HB_GTI_SELECTCOPY,
DToS(Date()) + " " + Time() ) )

      CASE nKey == K_F9
         NewWindow()

      ENDCASE
   ENDDO

   RETURN NIL
//----------------------------------------------------------------------//

STATIC FUNCTION MyNotifier( nEvent, ... )

   DO CASE

   CASE nEvent == HB_GTE_SETFOCUS
      DispScreen()
      DispOutAt( maxrow(), 33, "We got focus", 'B/G*' )

   CASE nEvent == HB_GTE_CLOSE
      DispScreen()
      if Alert( 'Close Application', {'Yes','No' } ) == 2
         Return ( 1 )
      endif

   ENDCASE

   RETURN 0

//----------------------------------------------------------------------//

STATIC FUNCTION DispScreen()
   Local nRow := 12, nCol := 28
   Local cColor := 'N/W'
   Local nMaxCol := MaxCol()+1

   DispBegin()

   CLS
   DispOutAt( 0, 0,padc( 'Harbour GT - New Features', maxcol()+1 ), 'N/GR*'
)

   // Contributed by Massimo Belgrano
   DispOutAt( 2, 0, padc( "______  __             ______________________                       
",nMaxCol ), 'W+/W' )
   DispOutAt( 3, 0, padc( "___  / / /_____ ___________ /___________ 
_________    __  ____/____/",nMaxCol ), 'W+/W' )
   DispOutAt( 4, 0, padc( "__  /_/ /_  __ `/_  ___/_  __ \  __ \  / / /_ 
___/    _  / __ __/   ",nMaxCol ), 'W+/W' )
   DispOutAt( 5, 0, padc( "_  __  / / /_/ /_  /   _  /_/ / /_/ / /_/ /_  /       
/ /_/ / _  /  ",nMaxCol ), 'W+/W' )
   DispOutAt( 6, 0, padc( "/_/ /_/  \__,_/ /_/    /_.___/\____/\__,_/ /_/        
\____/  /_/   ",nMaxCol ), 'W+/W' )

   DispOutAt( ++nRow, nCol, '< F2 MarkCopy    Toggle >', cColor )
   DispOutAt( ++nRow, nCol, '< F3 Resize      Toggle >', cColor )
   DispOutAt( ++nRow, nCol, '< F4 Closable    Toggle >', cColor )
   DispOutAt( ++nRow, nCol, '< F5 Palette L   Repeat >', cColor )
   DispOutAt( ++nRow, nCol, '< F6 Palette D   Repeat >', cColor )
   DispOutAt( ++nRow, nCol, '< F7 Palette By Index R >', cColor )
   DispOutAt( ++nRow, nCol, '< F8 MarkCopy menu text >', cColor )
   DispOutAt( ++nRow, nCol, '<    Click Other Window >', cColor )
   DispOutAt( ++nRow, nCol, '<    Click X Button     >', cColor )
   DispOutAt( ++nRow, nCol, '< F9 New Console        >', cColor )

   DispOutAt( maxrow(), 0, Space( maxcol()+1 ), "N/G*" )

   DispOutAt( 0, 0                  , "TL", "N/GR*" )
   DispOutAt( 0, MaxCol() - 1       , "TR", "N/GR*" )
   DispOutAt( MaxRow(), 0           , "BL", "N/G*"  )
   DispOutAt( MaxRow(), MaxCol() - 1, "BR", "N/G*"  )

   DispEnd()
   RETURN NIL

//----------------------------------------------------------------------//

PROCEDURE HB_GTSYS()
     REQUEST HB_GT_WVT
     REQUEST HB_GT_WIN
     RETURN

//----------------------------------------------------------------------//

PROCEDURE HB_GT_WVT_DEFAULT()
     RETURN

//----------------------------------------------------------------------//

FUNCTION SetPalette( nMode )
   Local aPalette := Hb_GtInfo( HB_GTI_PALETTE )

   static nR := 198
   static nG := 198
   static nB := 198

   nR += if( nMode == 0, -5, 5 )
   nG += if( nMode == 0, -5, 5 )
   nB += if( nMode == 0, -5, 5 )

   // Change 'W' to slightly gray everytime you press F5
   //
   aPalette[ 8 ] := RGB( nR, nG, nB )

   Hb_GtInfo( HB_GTI_PALETTE, aPalette )
   DispScreen()

   RETURN NIL
//----------------------------------------------------------------------//

FUNCTION SetPaletteIndex()

   Hb_GtInfo( HB_GTI_PALETTE, 8, RGB( 120, 200, 240 ) )
   DispScreen()

   RETURN NIL

//----------------------------------------------------------------------//

FUNCTION NewWindow()
   Local nWnd, nKey
   Local nWndOld  := Hb_WndSelect()
   Local aColor   := { 'W+/B', 'W+/BG', 'N/RB', 'W+/G', 'N/GR*' }
   Local aFont    := { 'Courier New', 'Lucida Console', 'Terminal', 'Ariel',
'Times New Roman' }
   Local aPalette
   Static nIndex  := 0
   Static nBottom :=  40
   Static nRight  := 100

   nIndex++
   if nIndex > 5
      nIndex := 1
   endif
   nBottom -= 2
   nRight  -= 4

   if ( nWnd := Hb_WndCreate( 10, 10, nBottom, nRight ) ) > 0
      Hb_GtInfo( HB_GTI_CLOSABLE, .F. )
      Hb_GtInfo( HB_GTI_WINTITLE, 'Harbour Multi Console Window' )
      Hb_GtInfo( HB_GTI_FONTNAME, aFont[ nIndex ] )
      Hb_GtInfo( HB_GTI_FONTSIZE, 18 )
      aPalette := Hb_GtInfo( HB_GTI_PALETTE )
      Hb_GtInfo( HB_GTI_PALETTE, 5 /* RED */, aPalette[ 5 ] + ( nIndex *
10000 ) )

      SetColor( aColor[ nIndex ] )
      CLS
      DispOutAt( maxrow(), 0, padc( 'Press F9 for another console!',
maxcol()+1 ), 'W+/R' )

      SetPos( 0, 0 )
      ?
      ? 'Type some characters...'

      do while .t.
         nKey := Inkey()
         do case
         case nKey == K_ESC
            exit
         case nKey == K_F9
            NewWindow()
         case nKey <> 0
            ?? chr( nKey )
         endcase
      enddo

      Hb_WndDestroy( nWnd )
      Hb_WndSelect( nWndOld )
   endif

   RETURN NIL

//----------------------------------------------------------------------//


-- 
View this message in context: http://www.nabble.com/Multi-Window-GTWVT---First-Implementation-tp17857724p17858267.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Mon Jun 16 02:04:48 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Jun 16 02:04:52 2008
Subject: [Harbour] Offline for a week
Message-ID: <9257026e0806152304u729eca01kf172f70948de478d@mail.gmail.com>

as subject

best regards,
Lorenzo
From harbour.01 at syenar.hu  Mon Jun 16 03:31:56 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 16 03:32:57 2008
Subject: [Harbour] Harbour Memory Allocation Issue
In-Reply-To: <17856282.post@talk.nabble.com>
References: <17856282.post@talk.nabble.com>
Message-ID: <1AF2D399-D514-446D-AA43-50AC11812A1B@syenar.hu>

Thanks Edmer, I'll commit the fix ASAP.

Brgds,
Viktor

On 2008.06.16., at 2:46, Edmer wrote:

>
> Hi All,
>
> I'm trying to compile our testole.prg using hbmake and it produce the
> following warning message at the end which is also stored in  
> hb_out.log
>
> Harbour Memory Allocation Report - C:\hrb\bin\b32\hbmake.exe
> Terminated at: 2008.06.16 10:38:02
> Total memory allocated: 98268 bytes (1864 block(s))
> Warning, memory allocated but not released: 15 bytes (1 block(s))
> Block 1 00B0AA20 (size 11) hb_stackInit(0), "hb_out.log."
> ------------------------------------------------------------------------
>
> Cheers,
> Ed
>
> -- 
> View this message in context: http://www.nabble.com/Harbour-Memory-Allocation-Issue-tp17856282p17856282.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From e.m.giordano at emagsoftware.it  Mon Jun 16 03:34:18 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Jun 16 03:34:22 2008
Subject: [Harbour] GetActiveObject() problem
References: <17856438.post@talk.nabble.com>
Message-ID: <0A7D1F825F58475E9CB5BE627CEE2278@emag>


-----Messaggio Originale----- 
Da: "Edmer" <eghorbino@yahoo.com>
A: <harbour@harbour-project.org>
Data invio: luned? 16 giugno 2008 3.15
Oggetto: [Harbour] GetActiveObject() problem


> Hi All,
>
> The following code always produce the following runtime error in
> GetActiveObject().

Your sample works perfectly here using BCC55.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Mon Jun 16 04:17:03 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 16 04:17:00 2008
Subject: [Harbour] 2008-06-16 10:15 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cf89$Blat.v2.6.2$5bc090f8$1a5046ccb938@127.0.0.1>

2008-06-16 10:15 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/set.c
     ! Fix to previous commit.

   * contrib/hbole/oleauto.prg
   * contrib/hbole/ole2.c
     * Some cleanups.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun 16 05:06:03 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 16 05:06:02 2008
Subject: [Harbour] 2008-06-16 11:04 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cf90$Blat.v2.6.2$3419cfea$36c7004c4ca@127.0.0.1>

2008-06-16 11:04 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/set.ch
     ! Fix to previous commit.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun 16 07:18:18 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 16 07:19:21 2008
Subject: [Harbour] Multi-Window GT - New Implementation
In-Reply-To: <17857605.post@talk.nabble.com>
References: <17855569.post@talk.nabble.com>
	<AB322654-7FB7-4E56-9008-EAD95D883431@syenar.hu>
	<17857605.post@talk.nabble.com>
Message-ID: <687150B3-BD13-4EAC-AC2A-95EF87AA9FDD@syenar.hu>

Hi Pritpal,

You have to think about GTs where the windows
are not separated physically, but handled inside
one common buffer (GTTRM). Just like in CTWIN. Also,
the whole low level API needs to be extended with
window handles otherwise there is no way to write
anywhere else than the selected window.

Brgds,
Viktor

On 2008.06.16., at 6:10, Pritpal Bedi wrote:

>
> Hello Everybody
>
> Here are the source of all affected files, wvtext.prg and executable.
>
> Please post all these files in their respective folders and compile  
> Harbour.
> OR you can play with he executable.
>
> Please note that this is a first look demonstration of proposed GT and
> it has few issues which I plan to resolve in a couple of days. In the
> mean time I will here your comments.
>
> I would prefer if all you compile Harbour with these sources and
> link your application and test under production like environments.
>
> If normal behavior of GT is ok, we can safely place the code in SVN.
>
> Regards
> Pritpal Bedi
>
>
> http://www.nabble.com/file/p17857605/gtwvt_mw.zip gtwvt_mw.zip
>
> -- 
> View this message in context: http://www.nabble.com/Multi-Window-GT---New-Implementation-tp17855569p17857605.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Jun 16 07:58:03 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 16 08:12:05 2008
Subject: [Harbour] 2008-06-16 13:56 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cfa8$Blat.v2.6.2$3b0edac6$185c79952d80@127.0.0.1>

2008-06-16 13:56 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbole/ole2.c
     * Further cleanup.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun 16 08:12:36 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 16 08:12:35 2008
Subject: [Harbour] 2008-06-16 14:11 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cfaa$Blat.v2.6.2$43719eae$e54a28d16ba@127.0.0.1>

2008-06-16 14:11 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbole/ole2.c
     * And some more.
--
Brgds,
Viktor

From bedipritpal at hotmail.com  Mon Jun 16 09:26:30 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Jun 16 09:26:33 2008
Subject: [Harbour] Multi-Window GT - New Implementation
In-Reply-To: <687150B3-BD13-4EAC-AC2A-95EF87AA9FDD@syenar.hu>
References: <17855569.post@talk.nabble.com>
	<AB322654-7FB7-4E56-9008-EAD95D883431@syenar.hu>
	<17857605.post@talk.nabble.com>
	<687150B3-BD13-4EAC-AC2A-95EF87AA9FDD@syenar.hu>
Message-ID: <17864416.post@talk.nabble.com>


Hello Viktor

<<<
You have to think about GTs where the windows
are not separated physically, but handled inside
one common buffer (GTTRM). Just like in CTWIN. Also,
the whole low level API needs to be extended with
window handles otherwise there is no way to write
anywhere else than the selected window.
>>>

I think I could not get your point from the very begining.
GTWVW exactly does the same as I posted and you confirmed
that this appears to be near your approach.

Anyhow, I do not know about a single buffer and windowing.
Did you check /contrib/gtwvg/tests/demogwg.prg and opened
its first menu option which opens a big window with 3 browsers,
2 get entries and other GUI stuff? There you can move around
either by tabs or mouse click. Is that the same in concept 
you have in your mind? How far CTWIN matches/differs your 
point of view. As I know nothing about GTTRM I cannot comment
about it.

Even if this multi-window concept does not match your imagination, do
it becomes candidate for incusion in the core? This I may need to 
extend GTWVG. If it does not harm or interfere with existing 
layers, I vote for its inculsion in the core code.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---New-Implementation-tp17855569p17864416.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Mon Jun 16 09:35:18 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun 16 09:35:26 2008
Subject: [Harbour] Multi-Window GT - New Implementation
In-Reply-To: <17864416.post@talk.nabble.com>
References: <17855569.post@talk.nabble.com><AB322654-7FB7-4E56-9008-EAD95D883431@syenar.hu><17857605.post@talk.nabble.com><687150B3-BD13-4EAC-AC2A-95EF87AA9FDD@syenar.hu>
	<17864416.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED6D@SRV02.deltain.net>

Tomorrow i try in my application at a big customer (50 client)
Can post the more updated version?

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: Monday, June 16, 2008 3:27 PM
To: harbour@harbour-project.org
Subject: Re: [Harbour] Multi-Window GT - New Implementation


Hello Viktor

<<<
You have to think about GTs where the windows
are not separated physically, but handled inside
one common buffer (GTTRM). Just like in CTWIN. Also,
the whole low level API needs to be extended with
window handles otherwise there is no way to write
anywhere else than the selected window.
>>>

I think I could not get your point from the very begining.
GTWVW exactly does the same as I posted and you confirmed
that this appears to be near your approach.

Anyhow, I do not know about a single buffer and windowing.
Did you check /contrib/gtwvg/tests/demogwg.prg and opened
its first menu option which opens a big window with 3 browsers,
2 get entries and other GUI stuff? There you can move around
either by tabs or mouse click. Is that the same in concept 
you have in your mind? How far CTWIN matches/differs your 
point of view. As I know nothing about GTTRM I cannot comment
about it.

Even if this multi-window concept does not match your imagination, do
it becomes candidate for incusion in the core? This I may need to 
extend GTWVG. If it does not harm or interfere with existing 
layers, I vote for its inculsion in the core code.

Regards
Pritpal Bedi


-- 
View this message in context:
http://www.nabble.com/Multi-Window-GT---New-Implementation-tp17855569p17
864416.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From bedipritpal at hotmail.com  Mon Jun 16 09:45:36 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Jun 16 09:45:40 2008
Subject: [Harbour] Multi-Window GT - New Implementation
In-Reply-To: <687150B3-BD13-4EAC-AC2A-95EF87AA9FDD@syenar.hu>
References: <17855569.post@talk.nabble.com>
	<AB322654-7FB7-4E56-9008-EAD95D883431@syenar.hu>
	<17857605.post@talk.nabble.com>
	<687150B3-BD13-4EAC-AC2A-95EF87AA9FDD@syenar.hu>
Message-ID: <17864786.post@talk.nabble.com>


Hello

<<<
Also, the whole low level API needs to be extended with
window handles otherwise there is no way to write
anywhere else than the selected window.
>>>

This is easy. I did the same way about 6 months ago where I extended
every low level API with one additional parameter, the window handle.
Some points are contradicting each other or I am unable to 
get to your imaginations.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---New-Implementation-tp17855569p17864786.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Jun 16 09:46:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 16 09:47:50 2008
Subject: R: [Harbour] Multi-Window GT - New Implementation
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED62@SRV02.deltain.net>
References: <17855569.post@talk.nabble.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED62@SRV02.deltain.net>
Message-ID: <AD4D8D1A-8C66-4DEB-911E-89940AF33B0B@syenar.hu>

> I think that is modal but the read istead of the form
> Set StateOfWindowsSelected to modal (default)/normal
> (In vb it can be set simply form.Show vbModal I think that will be  
> usefull create a class form)
> So each developer can choice in his porting from two choice
> Make it a modal window not require change of prg istead give liberty  
> to user but must update program flow
> If must made a choice I choice modal

non-modal needs a completely different
approach both from the app, and from
the UI subsystem. This is out of scope
regarding Harbour core and core GT
development.

Brgds,
Viktor

From bedipritpal at hotmail.com  Mon Jun 16 09:49:31 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Jun 16 09:49:34 2008
Subject: [Harbour] Multi-Window GT - New Implementation
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED6D@SRV02.deltain.net>
References: <17855569.post@talk.nabble.com>
	<AB322654-7FB7-4E56-9008-EAD95D883431@syenar.hu>
	<17857605.post@talk.nabble.com>
	<687150B3-BD13-4EAC-AC2A-95EF87AA9FDD@syenar.hu>
	<17864416.post@talk.nabble.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED6D@SRV02.deltain.net>
Message-ID: <17864861.post@talk.nabble.com>


Massimo

>Can post the more updated version?

What you mean by "updated version" ?
I wanted the benchmarking of your existing 
application wihout any changes. Only Harbour had to be
compiled with my posted files.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---New-Implementation-tp17855569p17864861.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From rportnoff at spendmap.com  Mon Jun 16 09:57:24 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Mon Jun 16 09:59:51 2008
Subject: [Harbour] WTYPES.H in MSVC v6
Message-ID: <B0081264563@ms1.3peaks.com>

Hi all,

I was told to use a special/fixed version of WTYPES.H with MSVC v6 - 
I believe it corrected a bug.

When using MS Visual Studio 2005 (MSVC v8), are there any special 
files that need to be replaced?

TIA.

Regards,
Randy.


From mbelgrano at deltain.it  Mon Jun 16 10:03:55 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun 16 10:04:06 2008
Subject: [Harbour] Multi-Window GT - New Implementation
In-Reply-To: <17864861.post@talk.nabble.com>
References: <17855569.post@talk.nabble.com><AB322654-7FB7-4E56-9008-EAD95D883431@syenar.hu><17857605.post@talk.nabble.com><687150B3-BD13-4EAC-AC2A-95EF87AA9FDD@syenar.hu><17864416.post@talk.nabble.com><AFB948164110ED43B5EB849E8DEEF03815ED6D@SRV02.deltain.net>
	<17864861.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED6F@SRV02.deltain.net>

OK
I want referring to your posted file
Without changes in myapplication

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: Monday, June 16, 2008 3:50 PM
To: harbour@harbour-project.org
Subject: RE: [Harbour] Multi-Window GT - New Implementation


Massimo

>Can post the more updated version?

What you mean by "updated version" ?
I wanted the benchmarking of your existing 
application wihout any changes. Only Harbour had to be
compiled with my posted files.

Regards
Pritpal Bedi

-- 
View this message in context:
http://www.nabble.com/Multi-Window-GT---New-Implementation-tp17855569p17
864861.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Mon Jun 16 10:04:02 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 16 10:05:01 2008
Subject: [Harbour] Multi-Window GT - New Implementation
In-Reply-To: <17864416.post@talk.nabble.com>
References: <17855569.post@talk.nabble.com>
	<AB322654-7FB7-4E56-9008-EAD95D883431@syenar.hu>
	<17857605.post@talk.nabble.com>
	<687150B3-BD13-4EAC-AC2A-95EF87AA9FDD@syenar.hu>
	<17864416.post@talk.nabble.com>
Message-ID: <9A917F2E-AF28-405E-955A-D1828189FB1C@syenar.hu>

>
Hi Pritpal,

> I think I could not get your point from the very begining.
> GTWVW exactly does the same as I posted and you confirmed
> that this appears to be near your approach.
>
> Anyhow, I do not know about a single buffer and windowing.
> Did you check /contrib/gtwvg/tests/demogwg.prg and opened
> its first menu option which opens a big window with 3 browsers,
> 2 get entries and other GUI stuff? There you can move around
> either by tabs or mouse click. Is that the same in concept
> you have in your mind? How far CTWIN matches/differs your

No, I'm not thinking in GUI or controls. Also, a "window"
- as per this context - is not a separate GUI window, it's
simply a output area which is handled separately, and the
actual representation can vary, and _may_ be a GUI a window,
but this is up to the GT, but it may be just a subarea
inside the regular 80x25 console screen.

> point of view. As I know nothing about GTTRM I cannot comment
> about it.

Please check contrib/hbct/tests/ctwtest.prg to see how
CT windowing works. This is exactly what I have in mind,
with per-window buffers as an addition.

> Even if this multi-window concept does not match your imagination, do
> it becomes candidate for incusion in the core? This I may need to
> extend GTWVG. If it does not harm or interfere with existing
> layers, I vote for its inculsion in the core code.

I vote no. You've added a few new functions and some GTWVT
specific additions, which are barely scratching the surface
of this feature IMO.

There is no need to rush, let's think about it.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun 16 10:07:32 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 16 10:08:35 2008
Subject: [Harbour] WTYPES.H in MSVC v6
In-Reply-To: <B0081264563@ms1.3peaks.com>
References: <B0081264563@ms1.3peaks.com>
Message-ID: <5324EDF6-4DD9-4492-AC9C-3EA9FC970398@syenar.hu>

Hi Randy,

> When using MS Visual Studio 2005 (MSVC v8), are there any special  
> files that need to be replaced?

No.

Brgds,
Viktor

On 2008.06.16., at 15:57, Randy Portnoff wrote:

> Hi all,
>
> I was told to use a special/fixed version of WTYPES.H with MSVC v6 -  
> I believe it corrected a bug.
>
> When using MS Visual Studio 2005 (MSVC v8), are there any special  
> files that need to be replaced?
>
> TIA.
>
> Regards,
> Randy.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Mon Jun 16 10:24:11 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun 16 10:24:18 2008
Subject: [Harbour] Some more HB_GTI_ slots
In-Reply-To: <B7B941A5-500E-4BA4-A74C-92AAEAAC2F40@syenar.hu>
References: <17780103.post@talk.nabble.com>
	<B7B941A5-500E-4BA4-A74C-92AAEAAC2F40@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED70@SRV02.deltain.net>


>> HB_GTI_MAXIMIZE  will maximize the console
>> HB_GTI_MINIMIZE   will minimize the console

>I'd rather add one HB_GTI_WINDOWMODE, with
>submodes. HB_GTI_WINMODE_FITTODESKTOP, would
>better describe what's really happening than
>MAXIMIZE. MINIMIZE seems okay, but I personally
>can't imagine I'd ever need it.


Is implemented maximize or WINDOWMODE?
From harbour.01 at syenar.hu  Mon Jun 16 12:23:02 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 16 12:23:01 2008
Subject: [Harbour] 2008-06-16 18:17 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8cfcd$Blat.v2.6.2$3ffddd0a$1044ca4022e0@127.0.0.1>

2008-06-16 18:17 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbole/ole2.c
     * More cleanups.

   * contrib/rddads/doc/en/adsfuncs.txt
   * contrib/rddads/doc/en/readme.txt
     + Updated.
       [TOMERGE RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun 16 12:24:36 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 16 12:24:33 2008
Subject: [Harbour] [RC1] 2008-06-16 18:17 UTC+0200 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8cfcd$Blat.v2.6.2$77aa86ae$1284310634b8@127.0.0.1>

2008-06-16 18:17 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/rddads/doc/en/adsfuncs.txt
   * contrib/rddads/doc/en/readme.txt
     + Updated.
       [RC1]

   * contrib/hbtip/tests/httpadv.prg
   * contrib/hbtip/tests/dnldftp.prg
   * contrib/hbtip/tests/upld_ftp.prg
   * contrib/hbtip/tests/tipmail.prg
   * contrib/hbtip/tests/loadhtml.prg
   * contrib/hbtip/tests/ftpadv.prg
     * Changed to compile in Harbour.
       [RC1]

   + contrib/hbtip/tests
   + contrib/hbtip/tests/bld_b32.bat
   + contrib/hbtip/tests/bld_vc.bat
   + contrib/hbtip/tests/base64.prg
   + contrib/hbtip/tests/dbToHtml.prg
   + contrib/hbtip/tests/dnldftp.prg
   + contrib/hbtip/tests/ftpadv.prg
   + contrib/hbtip/tests/httpadv.prg
   + contrib/hbtip/tests/loadhtml.prg
   + contrib/hbtip/tests/tipmail.prg
   + contrib/hbtip/tests/tipmime.prg
   + contrib/hbtip/tests/tipmmail.prg
   + contrib/hbtip/tests/tiptest.prg
   + contrib/hbtip/tests/tiptime.prg
   + contrib/hbtip/tests/uploadftp.prg
     + Added TIP library tests from xhb repository.
       [RC1]

   * contrib/hbct/fcopy.prg
     ! Fixed crash in FILECOPY() (reported by Mario H. Sabado)
       [RC1]
--
Brgds,
Viktor

From mbelgrano at deltain.it  Mon Jun 16 12:29:31 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun 16 12:29:50 2008
Subject: [Harbour] demowvg ssuggestion
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED71@SRV02.deltain.net>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 3559 bytes
Desc: image001.gif
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080616/8e088184/attachment.gif
From mbelgrano at deltain.it  Mon Jun 16 13:12:10 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun 16 13:12:27 2008
Subject: [Harbour] USING  Memoedit.prg & Teditor.prg 
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED72@SRV02.deltain.net>

How is possible with Memoedit.prg & Teditor.prg having select,copy,paste?

Massimo Belgrano
?

From mbelgrano at deltain.it  Mon Jun 16 13:18:05 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun 16 13:18:13 2008
Subject: [Harbour] demowvg ssuggestion
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED71@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ED71@SRV02.deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED73@SRV02.deltain.net>

Hoops Sorry 

From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo Belgrano
Sent: Monday, June 16, 2008 6:30 PM
To: Harbour Project Main Developer List.
Subject: [Harbour] demowvg ssuggestion

I suggest add ??????SET(_SET_EVENTMASK, INKEY_ALL )? To demowvg.prg


From gvarona at ec-red.com  Mon Jun 16 14:28:43 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Mon Jun 16 14:28:45 2008
Subject: [Harbour] Testing wvtext.prg
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED55@SRV02.deltain.net>
References: <48516A0E.7030608@ec-red.com>	<48519F58.1060208@ec-red.com><AFB948164110ED43B5EB849E8DEEF03815ED40@SRV02.deltain.net>	<4852BB63.7020105@ec-red.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED55@SRV02.deltain.net>
Message-ID: <4856B0DB.3020602@ec-red.com>

Ok. Thanks.

Best Regards
GVS

Massimo Belgrano escribi?:
> Yes from harbour\doc\gtapi
>
> gtwvt  - GT driver for MS-Windows. It creates its own GUI window
>          instead of using MS-console window. It allows to change
>          font, window size, etc.
>          Supported only by MS-WINDOWS (W95 or higher) builds.
>          is a pure console implementation of traditional Clipper terminal 
>          taking Windows API as its base console IO protocols. Its OI are 
>          rendered in a Windows window and hence all of MSDN is available 
>          for use with GTWVT.
>          To let the memory refreshed, I must remind 
>          everybody that it is a superb work of Peter Rees contributed 
>          to xHarbour on 22nd December 2003.
>
> gtxwc  - GT driver for X-Window. It's like GTWVT but for nixes.
>          Additionaly it has set of predefined vector characters
>          (box and arrowd drawing characters) which can be used
>          instead of the one defined in font. It means that you
>          will have all boxes and arrows you know from DOS ans CP437
>          even if you chose font which does not have them. Additionally
>          it support some simple graphic output. See tests/gfx.prg
>          for simple program which demonstrates it.
>          Supported by POSIX systems (mostly different *nixes)
>
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Guillermo Varona Silup?
> Sent: Friday, June 13, 2008 8:25 PM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] Testing wvtext.prg
>
> Massimo Belgrano escribi?:
>   
>> I don't use minigw so I can post my setting
>> set HB_ARCHITECTURE=w32
>> set HB_COMPILER=bcc32
>> set HB_USER_LIBS=gtwvt.lib 
>> SET CFLAGS= -tW -a8 -OS -O2 -5 -6 
>>
>> Have you added a bad library?
>>   
>>     
> Al parecer, falta es una LIBS, pero no se cuales.
> Apparently, missing LIBS, but not whom.
> Question: WVT is only for Windows?
>
> Best Regards
> GVS
>
>   
>> -----Original Message-----
>> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Guillermo Varona Silup?
>> Sent: Friday, June 13, 2008 12:13 AM
>> To: Harbour Project Main Developer List.
>> Subject: Re: [Harbour] Testing wvtext.prg
>>
>> Guillermo Varona Silup? escribi?:
>>   
>>     
>>> How can build wvtext.exe.
>>> What LIB missing?
>>> I get it's messages of error:
>>>
>>> Proyecto: tst_CT, Entorno: MinGW_H_DOS_GVS:
>>> [1]:gcc.Exe -otst_CT.Exe -Wall -mno-cygwin  -mconsole tst_CT.gcl
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x56f): 
>>> undefined reference to `CreateFontIndirectA@4'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x583): 
>>> undefined reference to `GetStockObject@4'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x928): 
>>> undefined reference to `DeleteObject@4'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x949): 
>>> undefined reference to `SelectObject@8'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x961): 
>>> undefined reference to `GetTextMetricsA@8'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x977): 
>>> undefined reference to `SetTextCharacterExtra@8'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0xe13): 
>>> undefined reference to `SetTextCharacterExtra@8'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0xe2b): 
>>> undefined reference to `GetTextMetricsA@8'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0xe40): 
>>> undefined reference to `SelectObject@8'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1ad1): 
>>> undefined reference to `CreateRectRgn@16'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1af8): 
>>> undefined reference to `CombineRgn@16'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x1b28): 
>>> undefined reference to `InvertRgn@8'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x2765): 
>>> undefined reference to `SetTextColor@8'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x278b): 
>>> undefined reference to `SetBkColor@8'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x27a1): 
>>> undefined reference to `SetTextAlign@8'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x2866): 
>>> undefined reference to `ExtTextOutA@32'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x309d): 
>>> undefined reference to `GetTextMetricsA@8'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a11): 
>>> undefined reference to `CreatePen@12'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a3a): 
>>> undefined reference to `CreateSolidBrush@4'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a79): 
>>> undefined reference to `MoveToEx@16'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4a95): 
>>> undefined reference to `LineTo@12'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4b8a): 
>>> undefined reference to `CreateSolidBrush@4'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4be5): 
>>> undefined reference to `LineTo@12'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x4e63): 
>>> undefined reference to `Rectangle@20'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5005): 
>>> undefined reference to `Arc@36'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x5187): 
>>> undefined reference to `Ellipse@20'
>>> C:\HarbourMinGW\Lib/libgtwvt.a(gtwvt.o):gtwvt.c:(.text+0x55de): 
>>> undefined reference to `FloodFill@16'
>>>     
>>>       
>> In what LIBS are these functions?
>> ?En qu? librer?as se estan estas funciones?
>>
>> Enviro: WinXP SP2 + MinGW
>>
>> Best Regars
>> GVS
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>> __________ Information from ESET Smart Security, version of virus signature database 3182 (20080612) __________
>>
>> The message was checked by ESET Smart Security.
>>
>> http://www.eset.com
>>
>>
>>
>>   
>>     
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> __________ Information from ESET Smart Security, version of virus signature database 3190 (20080616) __________
>
> The message was checked by ESET Smart Security.
>
> http://www.eset.com
>
>
>
>   

From eghorbino at yahoo.com  Mon Jun 16 19:39:38 2008
From: eghorbino at yahoo.com (Edmer)
Date: Mon Jun 16 19:39:41 2008
Subject: [Harbour] GetActiveObject() problem
In-Reply-To: <0A7D1F825F58475E9CB5BE627CEE2278@emag>
References: <17856438.post@talk.nabble.com>
	<0A7D1F825F58475E9CB5BE627CEE2278@emag>
Message-ID: <17875431.post@talk.nabble.com>


Hi Enrico,

I build the Harbour using C++ Builder 6 and the latest CVS. I tested this
sample prg in XP and Vista Desktop and it still producing the same Error.

Thanks,
Ed

-- 
View this message in context: http://www.nabble.com/GetActiveObject%28%29-problem-tp17856438p17875431.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From jarabal at ya.com  Mon Jun 16 23:45:52 2008
From: jarabal at ya.com (Javier)
Date: Mon Jun 16 23:46:09 2008
Subject: [Harbour] 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <48516DCD.2020003@ya.com>
References: <01c8c891$Blat.v2.6.2$c42517bc$19c08d8bc010@127.0.0.1>	<484BEA96.40101@ya.com>	<FABECC9C-2B6B-4D9B-B5D7-8393A474E40F@syenar.hu>	<484C0D2F.7090509@ya.com>	<B6022834-8A3A-4866-B0E0-5D8C180CF3D6@syenar.hu>	<48502200.10101@ya.com>	<4850D219.2010605@dbtopas.lt>	<48510DDA.6090906@ya.com>
	<48516DCD.2020003@ya.com>
Message-ID: <48573370.1090909@ya.com>

Thanks Viktor & Mindaugas,

A question, does it be better to make the change hb_itemPutCPtr() to 
hb_itemPutCLPtr() by macro in hbapi.h?
#define hb_itemPutCPtr    hb_itemPutCLPtr

I done the change suggested by Mindaugas. Please, could you update the 
repository, thank you so much Viktor.
Now accepts Internal Modifier for DATES & LOGICAL.-

? Sql_sprintf( "%s", Date() ) // 16/06/08
? Sql_sprintf( "%{YYYYMMDD}s", Date() )  // 20080616

? Sql_sprintf( "%{VERDADERO,FALSO}s", .F. ) // FALSO
? Sql_sprintf( "%{ONLY IF TRUE}s", .T. ) // ONLY IF TRUE
? Sql_sprintf( "%{,ONLY IF FALSE}s", .F. ) // ONLY IF FALSE

I attempted to explain better the function but it is not easy to explain 
everything it does.-

Full compatible ANSI C99 formats with C,S converters wchar_t (UNICODE)
Integer & Floating point converters with Width and Precision for NUMERIC 
& STRING
a,A converters Hexadecimal floating point format.
%m$,*m$ Index & Indirect arguments C99.

s converter for format Harbour data types.
    NUMERIC with FIXED DECIMALS = n | n.d   STRING = String's ANSI C
    DATE = HB_SET_DATEFORMAT      DATETIME = HB_SET_DATEFORMAT hh:mm:ss
     Date and Time Format separate by first space {DD/MM/YYYY 
hh:mm:ss.ccc pm}
     {DD/MM/YYYY} = Only Date | { hh:mm:ss.ccc pm} = Only Time
    LOGICAL = TRUE | FALSE        %d converter for LOGICAL = 1 | 0
     Accepts Internal Modifier TRUE and FALSE Format separate by first comma
     {T .T.,F .F.} = TRUE & FALSE | {ON} = Only TRUE | {,OFF} = Only FALSE

New t converter for format ANSI SQL types.
    NUMERIC with FIXED DECIMALS = n | n.d   STRING = 'String''s ANSI SQL'
    DATE = 'YYYY-MM-DD' DATETIME = 'YYYY-MM-DD HH:MM:SS'
     Accepts Internal Modifier like s converter {DD/MM/YYYY hh:mm:ss.ccc pm}
    LOGICAL = TRUE | FALSE        Accepts Internal Modifier like s {ON,OFF}

Print NULL if the parameter is NIL
Processing %% and n converter Position.
Remove C ESC sequences and converts them to Clipper chars in cRes.
Accepts conversion inside if variable is passed by reference.

Thanks so much.
Xavi
-------------- next part --------------
/*
 * Harbour Project source code:
 * SQL_SPRINTF() function
 *
 * Copyright 2008 Xavi <jarabal/at/gmail.com>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software; see the file COPYING.  If not, write to
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
 *
 * As a special exception, the Harbour Project gives permission for
 * additional uses of the text contained in its release of Harbour.
 *
 * The exception is that, if you link the Harbour libraries with other
 * files to produce an executable, this does not by itself cause the
 * resulting executable to be covered by the GNU General Public License.
 * Your use of that executable is in no way restricted on account of
 * linking the Harbour library code into it.
 *
 * This exception does not however invalidate any other reasons why
 * the executable file might be covered by the GNU General Public License.
 *
 * This exception applies only to the code released by the Harbour
 * Project under the name Harbour.  If you copy code from other
 * Harbour Project or Free Software Foundation releases into a copy of
 * Harbour, as the General Public License permits, the exception does
 * not apply to the code that you add in this way.  To avoid misleading
 * anyone as to the status of such modified files, you must delete
 * this exception notice from them.
 *
 * If you write modifications of your own for Harbour, it is your choice
 * whether to permit this exception to apply to your modifications.
 * If you do not wish that, delete this exception notice.
 *
 */

#include "hbapi.h"
#include "hbapiitm.h"
#include "hbapierr.h"
#include "hbdate.h"
#include "hbset.h"

static void STAItm( PHB_ITEM pItmPar )
{
   ULONG i, ulItmPar = hb_itemGetCLen( pItmPar );
   char *cRes, *c, *cItmPar = hb_itemGetCPtr( pItmPar );

   for( i = 3, c = cItmPar; *c; c++ ){
      if( *c == '\'' ) i++;   /* Count ' Tokens */
   }
   cRes = (char *)hb_xgrab( ulItmPar + i * sizeof(char) );
   i = 0; c = cItmPar; cRes[i++] = '\'';
   while( *c ){
      if( *c == '\'' ) cRes[i++] = '\'';
      cRes[i++] = *c++;
   }
   cRes[i++] = '\''; /* cRes[i] = '\0'; */
#ifdef __XHARBOUR__
   hb_itemPutCPtr( pItmPar, cRes, i );
#else
   hb_itemPutCLPtr( pItmPar, cRes, i );
#endif
}

static ULONG SCItm( char *cBuffer, ULONG ulMaxBuf, char *cParFrm, int iCOut, int IsIndW, int iIndWidth, int IsIndP, int iIndPrec, PHB_ITEM pItmPar )
{
   ULONG s = 0;

   if( IsIndW && IsIndP ){
      switch( iCOut ){
      case 'p':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetPtr( pItmPar ) );
         break;
      case 's': case 'S':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetCPtr( pItmPar ) );
         break;
      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetND( pItmPar ) );
         break;
      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
      }
   }else if( IsIndW || IsIndP ){
      int iInd = (IsIndW ? iIndWidth : iIndPrec);

      switch( iCOut ){
      case 'p':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetPtr( pItmPar ) );
         break;
      case 's': case 'S':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetCPtr( pItmPar ) );
         break;
      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetND( pItmPar ) );
         break;
      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
      }
   }else{
      switch( iCOut ){
      case 'p':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetPtr( pItmPar ) );
         break;
      case 's': case 'S':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetCPtr( pItmPar ) );
         break;
      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetND( pItmPar ) );
         break;
      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X':
         s = snprintf( cBuffer, ulMaxBuf, cParFrm, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
      }
   }
   return s;
}

/*******************************************************************************
* ANSI C sprintf() for ANSI SQL with DATE, DATETIME, LOGICAL, NIL, NUMERIC
* ------------------------------------------------------------------------
*                    cRes := Sql_sprintf( cFrm, ... )
*
* Full compatible ANSI C99 formats with C,S converters wchar_t (UNICODE)
* Integer & Floating point converters with Width and Precision for NUMERIC & STRING
* a,A converters Hexadecimal floating point format. Thanks Rafa.
*  ? Sql_sprintf( "Phi = %A", (1 + 5**0.5) / 2 ) // Phi = 0X1,9E3779B97F4A8P+0
* %m$,*m$ Index & Indirect arguments C99. Thanks Viktor.
*  ? Sql_sprintf( "Phi = %2$0*3$.*1$f", 4, (1 + 5**0.5) / 2, 7 ) // Phi = 01.6180
*
* s converter for format Harbour data types.
*    NUMERIC with FIXED DECIMALS = n | n.d   STRING = String's ANSI C
*    DATE = HB_SET_DATEFORMAT      DATETIME = HB_SET_DATEFORMAT hh:mm:ss
*     New Internal Modifier {}. Thanks Mindaugas.
*     Date and Time Format separate by first space {DD/MM/YYYY hh:mm:ss.ccc pm}
*     {DD/MM/YYYY} = Only Date | { hh:mm:ss.ccc pm} = Only Time
*        ? Sql_sprintf( "%s", Date() )                // 16/06/08
*        ? Sql_sprintf( "%s", DateTime() )            // 16/06/08 04:11:21
*        ? Sql_sprintf( "%{YYYYMMDD}s", DateTime() )  // 20080616
*        ? Sql_sprintf( "%{ hh:mm pm}s", DateTime() ) // 04:11 AM
*    LOGICAL = TRUE | FALSE        %d converter for LOGICAL = 1 | 0
*     Accepts Internal Modifier TRUE and FALSE Format separate by first comma
*     {T .T.,F .F.} = TRUE & FALSE | {ON} = Only TRUE | {,OFF} = Only FALSE
*        ? Sql_sprintf( "%{VERDADERO,FALSO}s", .F. ) // FALSO
*        ? Sql_sprintf( "%{ONLY IF TRUE}s", .T. ) // ONLY IF TRUE
*
* New t converter for format ANSI SQL types.
*    NUMERIC with FIXED DECIMALS = n | n.d   STRING = 'String''s ANSI SQL'
*    DATE = 'YYYY-MM-DD' DATETIME = 'YYYY-MM-DD HH:MM:SS'
*     Accepts Internal Modifier like s converter {DD/MM/YYYY hh:mm:ss.ccc pm}
*    LOGICAL = TRUE | FALSE        Accepts Internal Modifier like s {ON,OFF}
*
* Print NULL if the parameter is NIL or HB_IT_NULL
* Processing %% and n converter Position.
* Remove C ESC sequences and converts them to Clipper chars in cRes.
*  ? Sql_sprintf( 'Hello\nworld!' ) ) // like printf( "Hello\nworld!" );
*
* Accepts conversion inside if variable is passed by reference.
*  Local xDate := Date(); Sql_sprintf('%s', @xDate) => xDate == '2008-05-19'
/******************************************************************************/

#define DK_INCRES 1024
#define DK_INCBUF 512
#define DK_BLKBUF HB_MAX_DOUBLE_LENGTH   /* Expense of DK_INCBUF */

#if defined( __XHARBOUR__ ) && ! defined( HB_ERR_FUNCNAME )
   #define HB_ERR_FUNCNAME "SQL_SPRINTF"
#endif

HB_FUNC( SQL_SPRINTF )
{
   ULONG ulItmFrm;
   char *cRes, *cItmFrm;
   int argc = hb_pcount() - 1;
   PHB_ITEM pItmFrm = hb_param( 1, HB_IT_STRING );

   if( !pItmFrm || (cItmFrm = hb_itemGetCPtr( pItmFrm )) == NULL ){
      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, 1, hb_paramError( 1 ) );
   }else if( !(ulItmFrm = hb_itemGetCLen( pItmFrm )) ){
      hb_retc( NULL );
   }else if( !argc ){
      cRes = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
      memcpy( cRes, cItmFrm, ulItmFrm + sizeof(char) );
      cRes = hb_strRemEscSeq( cRes, &ulItmFrm );
      hb_retclen_buffer( cRes, ulItmFrm );
   }else{
      PHB_ITEM pItmPar;
      char *cIntMod, *cBuffer, *cParFrm, *c;
      int p, arg, iCOut, IsType, IsIndW, IsIndP, iIndWidth, iIndPrec, iErrorPar = 0;
      ULONG s, f, i, ulWidth, ulParPos = 0, ulResPos = 0, ulMaxBuf = DK_INCBUF, ulMaxRes = DK_INCRES;
      static char cToken[] = "stcdiouxXaAeEfgGpnSC";

      cIntMod = NULL;
      cRes = (char *)hb_xgrab( ulMaxRes );
      cBuffer = (char *)hb_xgrab( ulMaxBuf );
      cParFrm = (char *)hb_xgrab( ulItmFrm + sizeof(char) );

      for( p = 0; p < argc; /* Not p++ by support index & indirect arguments */ ){

         c = cItmFrm + ulParPos;
         s = f = i = ulWidth = arg = iCOut = IsType = IsIndW = iIndWidth = IsIndP = iIndPrec = 0;
         do{   /* Get Par Format */
            cParFrm[i++] = *c;
            if( f && *c == '%' ){
               f = ulWidth = IsIndW = IsIndP = 0;
            }else if( f && !ulWidth && *c >= '0' && *c <= '9' ){
               ulWidth = atol( c );
            }else if( f && *c == '.' ){
               if( f++ == 2 ) iErrorPar = 1;
            }else if( f && *c == '*' ){
               if( f == 2 ){
                  if( IsIndP ){
                     f = 3; iErrorPar = 1;
                  }else{
                     IsIndP = 1;
                  }
               }else if( !IsIndW ){
                  IsIndW = 1;
               }else{
                  f = 3; iErrorPar = 1;
               }
            }else if( f && *c == '$' ){
               if( ulWidth && IsIndP && !iIndPrec ){
                  iIndPrec = ulWidth;
                  iCOut = '*';
               }else if( ulWidth && IsIndW && !iIndWidth ){
                  iIndWidth = ulWidth;
                  ulWidth = 0; iCOut = '*';
               }else if( ulWidth && !arg ){
                  arg = ulWidth;
                  ulWidth = 0; iCOut = '%';
               }else{
                  f = 3; iErrorPar = 1;
               }
               while( i && cParFrm[--i] != iCOut );
               ++i; iCOut = 0;
            }else if( f && *c == '{' ){
               if( s ){
                  f = 3; iErrorPar = 1;
               }else{   /* Remove Internal Modifier */
                  if( cIntMod == NULL ){
                     cIntMod = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
                  }
                  while( *c++ && *c != '}' ) cIntMod[s++] = *c;
                  --i; cIntMod[s] = '\0';
                  if( *(c - 1) == '\0' ){
                     f = 3; iErrorPar = 1;
                  }
               }
            }else if( f && strchr(cToken, *c) ){
               f = 3; iCOut = *c;
            }else if( *c == '%' ){
               f = 1;
            }
            c++;
         }while( f < 3 && *c ); cParFrm[f = i] = '\0';
         if( iErrorPar ) break;

         if( iCOut == 't' ){
            if( cParFrm[f - 2] == '%' ){
               IsType = 1; iCOut = cParFrm[f - 1] = 's';
            }else{
               iErrorPar = 1; break;
            }
         }

         if( IsIndW  ){ /* Get Par Indirectly Width Item */
            pItmPar = hb_param( (iIndWidth ? iIndWidth + 1 :  p++ + 2), HB_IT_INTEGER );
            if( pItmPar ){
               if( (iIndWidth = hb_itemGetNI( pItmPar )) < 0 ){
                  ulWidth = -iIndWidth;
               }else{
                  ulWidth = iIndWidth;
               }
            }else{
               iErrorPar = 1; break;
            }
         }

         if( IsIndP ){  /* Get Par Indirectly Precision Item */
            pItmPar = hb_param( (iIndPrec ? iIndPrec + 1 :  p++ + 2), HB_IT_INTEGER );
            if( pItmPar ){
               iIndPrec = hb_itemGetNI( pItmPar );
            }else{
               iErrorPar = 1; break;
            }
         }

         if( !arg && *c && p == argc - 1 ){ /* No more Par Items */
            do{ cParFrm[i++] = *c; }while( *c++ ); i--;
         }  /* i == strlen(cParFrm) */

         pItmPar = hb_param( (arg ? arg + 1 :  p++ + 2), HB_IT_ANY );   /* Get Par Item */
         if( !pItmPar ){
            iErrorPar = 1; break;
         }

         if( !iCOut || iCOut == 'n' ){ /* Par Text Out */

            for( f = i, i = 0; i < f; i++ ){ /* Change %% with % */
               if( cParFrm[i] == '%' && cParFrm[i + 1] == '%' ){
                  memcpy( cParFrm + i, cParFrm + i + 1, f - i );
                  f--;
               }
            }  /* i == strlen(cParFrm) */
            if( iCOut ){
               for( f = 0; f < i; f++ ){  /* Erase %n */
                  if( cParFrm[f] == '%' && cParFrm[f + 1] == 'n' ){
                     memcpy( cParFrm + f, cParFrm + f + 2, i - f - 1 );
                     break;
                  }
               }  /* f == Index % of n */
               if( f < i ){
                  i -= 2;  /* i == strlen(cParFrm) */
                  hb_itemPutNL( pItmPar, ulResPos + f );
               }else{
                  iErrorPar = 1; break;
               }
            }
            if( (f = i + sizeof(char)) > ulMaxBuf ){
               ulMaxBuf += f + DK_INCBUF;
               cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
            }
            strcpy( cBuffer, cParFrm ); s = i;

         }else{   /* Par Item sprintf() Out */

#        ifdef HB_IT_NULL
            if( (HB_IS_NIL( pItmPar ) || HB_IS_NULL( pItmPar )) ){
#        else
            if( HB_IS_NIL( pItmPar ) ){
#        endif
               ulWidth = f; IsIndW = IsIndP = 0;
               while( cParFrm[--f] != '%' );
               iCOut = cParFrm[f + 1] = 's'; /* Change format with %s */
               memcpy( cParFrm + f + 2, cParFrm + ulWidth, i - ulWidth + 1 );
               i -= ulWidth - f - 2;   /* i == strlen(cParFrm) */
               if( (f = i + 5) > ulMaxBuf ){ /* size of "NULL" == 5 */
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               hb_itemPutCL( pItmPar, "NULL", 4 );
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );

            }else if( HB_IS_STRING( pItmPar ) && (iCOut == 's' || iCOut == 'S') ){
               if( IsType ) STAItm( pItmPar );
               f = hb_itemGetCLen( pItmPar );
               if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );

            }else if( HB_IS_DATE( pItmPar ) && iCOut == 's' ){
               char cDTBuf[ 19 ], cDTFrm[ 28 ]; /* 26 + 2 if %t and change format time */

               if( s ){ /* Internal Modifier */
                  for( f = 0; cIntMod[f] && cIntMod[f] != ' '; f++);
                  if( f != s ) cIntMod[f++] = '\0';   /* Date & Time */
               }

#           ifdef __XHARBOUR__
               if( HB_IS_DATETIME( pItmPar ) ){
                  hb_datetimeFormat( hb_itemGetDTS( pItmPar, cDTBuf ), cDTFrm,
                                       (s ? cIntMod : (IsType ? "YYYY-MM-DD" : hb_set.HB_SET_DATEFORMAT)),
                                       (s ? cIntMod + f : "HH:MM:SS") );
                  if( s ){
                     if( !cIntMod[0] ){
                        memcpy( cDTFrm, cDTFrm + 1, 27 );   /* LTrim 1 space if only Time */
                     }else if( cDTFrm[s] == ' ' ){
                        cDTFrm[s] = '\0'; /* RTrim 1 space if only Date */
                     }
                  }
               }else
#           endif
                  hb_dateFormat( hb_itemGetDS( pItmPar, cDTBuf ), cDTFrm,
                                    (s ? cIntMod : (IsType ? "YYYY-MM-DD" : hb_set.HB_SET_DATEFORMAT)) );

               if( (f = i + HB_MAX(ulWidth, 28)) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               hb_itemPutC( pItmPar, cDTFrm );
               if( IsType ) STAItm( pItmPar );
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );

            }else if( HB_IS_LOGICAL( pItmPar ) ){

               if( s ){ /* Internal Modifier */
                  for( f = 0; cIntMod[f] && cIntMod[f] != ','; f++);
                  if( f != s ) cIntMod[f++] = '\0';   /* TRUE & FALSE */
               }
               if( iCOut == 's' ){
                  hb_itemPutC( pItmPar, (hb_itemGetL( pItmPar ) ? (s ? cIntMod : "TRUE") : (s ? cIntMod + f : "FALSE")) );
               }
               if( (f = i + (iCOut == 's' ? HB_MAX(ulWidth, (s ? s : 6)) : HB_MAX(ulWidth, DK_BLKBUF))) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;   /* size of "FALSE" == 6 */
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );

            }else if( iCOut == 's' ){
               char *cTrimStr, *cStr = hb_itemStr( pItmPar, NULL, NULL );

               if( cStr ){
                  f = strlen( cStr ); cTrimStr = hb_strLTrim( cStr, &f );
                  if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
                     ulMaxBuf += f + DK_INCBUF;
                     cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
                  }
                  hb_itemPutCL( pItmPar, cTrimStr, f );
                  s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );
                  hb_xfree( cStr );
               }else{
                  iErrorPar = p + 2; break;
               }

            }else if( HB_IS_NUMERIC( pItmPar ) || HB_IS_POINTER( pItmPar ) ){
               if( (f = i + HB_MAX(ulWidth, DK_BLKBUF)) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );

            }else{
               iErrorPar = p + 2; break;
            }
         }

         if( (f = s + ulResPos + sizeof(char)) > ulMaxRes ){
            ulMaxRes += f + DK_INCRES;
            cRes = (char *)hb_xrealloc( cRes, ulMaxRes );
         }
         strcpy( cRes + ulResPos, cBuffer ); ulResPos += s;

         if( (ulParPos = c - cItmFrm) >= ulItmFrm ){
            break;   /* No more Par Format */
         }
      }
      if( cIntMod ) hb_xfree( cIntMod );
      hb_xfree( cParFrm ); hb_xfree( cBuffer );
      if( iErrorPar ){
         hb_xfree( cRes );
         if( iErrorPar > 1 ){
            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, 2, hb_paramError( 1 ), hb_paramError( iErrorPar ) );
         }else{
            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, 1, hb_paramError( 1 ) );
         }
      }else{
         cRes = hb_strRemEscSeq( cRes, &ulResPos );
         hb_retclen_buffer( cRes, ulResPos );
      }
   }
}
/* END */
From harbour.01 at syenar.hu  Tue Jun 17 02:49:16 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 17 02:50:16 2008
Subject: [Harbour] GetActiveObject() problem
In-Reply-To: <17875431.post@talk.nabble.com>
References: <17856438.post@talk.nabble.com>
	<0A7D1F825F58475E9CB5BE627CEE2278@emag>
	<17875431.post@talk.nabble.com>
Message-ID: <46F7D031-EE9A-4768-8E29-8E13C9983611@syenar.hu>

Hi guys,

Pls try using OLE from hbw32. Functionally
it's the same, and it doesn't produce this GPF.

Brgds,
Viktor

On 2008.06.17., at 1:39, Edmer wrote:

>
> Hi Enrico,
>
> I build the Harbour using C++ Builder 6 and the latest CVS. I tested  
> this
> sample prg in XP and Vista Desktop and it still producing the same  
> Error.
>
> Thanks,
> Ed
>
> -- 
> View this message in context: http://www.nabble.com/GetActiveObject%28%29-problem-tp17856438p17875431.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Jun 17 03:17:02 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 17 03:18:05 2008
Subject: [Harbour] 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <48573370.1090909@ya.com>
References: <01c8c891$Blat.v2.6.2$c42517bc$19c08d8bc010@127.0.0.1>	<484BEA96.40101@ya.com>	<FABECC9C-2B6B-4D9B-B5D7-8393A474E40F@syenar.hu>	<484C0D2F.7090509@ya.com>	<B6022834-8A3A-4866-B0E0-5D8C180CF3D6@syenar.hu>	<48502200.10101@ya.com>	<4850D219.2010605@dbtopas.lt>	<48510DDA.6090906@ya.com>
	<48516DCD.2020003@ya.com> <48573370.1090909@ya.com>
Message-ID: <E6E62E18-9472-41D0-B79E-253105EF5F4D@syenar.hu>

Hi Javier,

> A question, does it be better to make the change hb_itemPutCPtr() to  
> hb_itemPutCLPtr() by macro in hbapi.h?
> #define hb_itemPutCPtr    hb_itemPutCLPtr

Currently there is a stub with the old name (so
it still works, but it needs two more CPU jumps),
and I did it like this to slightly better encourage
users to switch to the new version. Technically,
a #define would do also.

I hope xhb will add the new function name, so
that we can stay in sync. (same goes for hb_arrayPut*()
functions, BTW).

I'll update your code in the repo ASAP.

Brgds,
Viktor

>
>
> I done the change suggested by Mindaugas. Please, could you update  
> the repository, thank you so much Viktor.
> Now accepts Internal Modifier for DATES & LOGICAL.-
>
> ? Sql_sprintf( "%s", Date() ) // 16/06/08
> ? Sql_sprintf( "%{YYYYMMDD}s", Date() )  // 20080616
>
> ? Sql_sprintf( "%{VERDADERO,FALSO}s", .F. ) // FALSO
> ? Sql_sprintf( "%{ONLY IF TRUE}s", .T. ) // ONLY IF TRUE
> ? Sql_sprintf( "%{,ONLY IF FALSE}s", .F. ) // ONLY IF FALSE
>
> I attempted to explain better the function but it is not easy to  
> explain everything it does.-
>
> Full compatible ANSI C99 formats with C,S converters wchar_t (UNICODE)
> Integer & Floating point converters with Width and Precision for  
> NUMERIC & STRING
> a,A converters Hexadecimal floating point format.
> %m$,*m$ Index & Indirect arguments C99.
>
> s converter for format Harbour data types.
>   NUMERIC with FIXED DECIMALS = n | n.d   STRING = String's ANSI C
>   DATE = HB_SET_DATEFORMAT      DATETIME = HB_SET_DATEFORMAT hh:mm:ss
>    Date and Time Format separate by first space {DD/MM/YYYY  
> hh:mm:ss.ccc pm}
>    {DD/MM/YYYY} = Only Date | { hh:mm:ss.ccc pm} = Only Time
>   LOGICAL = TRUE | FALSE        %d converter for LOGICAL = 1 | 0
>    Accepts Internal Modifier TRUE and FALSE Format separate by first  
> comma
>    {T .T.,F .F.} = TRUE & FALSE | {ON} = Only TRUE | {,OFF} = Only  
> FALSE
>
> New t converter for format ANSI SQL types.
>   NUMERIC with FIXED DECIMALS = n | n.d   STRING = 'String''s ANSI  
> SQL'
>   DATE = 'YYYY-MM-DD' DATETIME = 'YYYY-MM-DD HH:MM:SS'
>    Accepts Internal Modifier like s converter {DD/MM/YYYY  
> hh:mm:ss.ccc pm}
>   LOGICAL = TRUE | FALSE        Accepts Internal Modifier like s  
> {ON,OFF}
>
> Print NULL if the parameter is NIL
> Processing %% and n converter Position.
> Remove C ESC sequences and converts them to Clipper chars in cRes.
> Accepts conversion inside if variable is passed by reference.
>
> Thanks so much.
> Xavi
> /*
> * Harbour Project source code:
> * SQL_SPRINTF() function
> *
> * Copyright 2008 Xavi <jarabal/at/gmail.com>
> *
> * This program is free software; you can redistribute it and/or modify
> * it under the terms of the GNU General Public License as published by
> * the Free Software Foundation; either version 2, or (at your option)
> * any later version.
> *
> * This program is distributed in the hope that it will be useful,
> * but WITHOUT ANY WARRANTY; without even the implied warranty of
> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
> * GNU General Public License for more details.
> *
> * You should have received a copy of the GNU General Public License
> * along with this software; see the file COPYING.  If not, write to
> * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
> * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/) 
> .
> *
> * As a special exception, the Harbour Project gives permission for
> * additional uses of the text contained in its release of Harbour.
> *
> * The exception is that, if you link the Harbour libraries with other
> * files to produce an executable, this does not by itself cause the
> * resulting executable to be covered by the GNU General Public  
> License.
> * Your use of that executable is in no way restricted on account of
> * linking the Harbour library code into it.
> *
> * This exception does not however invalidate any other reasons why
> * the executable file might be covered by the GNU General Public  
> License.
> *
> * This exception applies only to the code released by the Harbour
> * Project under the name Harbour.  If you copy code from other
> * Harbour Project or Free Software Foundation releases into a copy of
> * Harbour, as the General Public License permits, the exception does
> * not apply to the code that you add in this way.  To avoid misleading
> * anyone as to the status of such modified files, you must delete
> * this exception notice from them.
> *
> * If you write modifications of your own for Harbour, it is your  
> choice
> * whether to permit this exception to apply to your modifications.
> * If you do not wish that, delete this exception notice.
> *
> */
>
> #include "hbapi.h"
> #include "hbapiitm.h"
> #include "hbapierr.h"
> #include "hbdate.h"
> #include "hbset.h"
>
> static void STAItm( PHB_ITEM pItmPar )
> {
>   ULONG i, ulItmPar = hb_itemGetCLen( pItmPar );
>   char *cRes, *c, *cItmPar = hb_itemGetCPtr( pItmPar );
>
>   for( i = 3, c = cItmPar; *c; c++ ){
>      if( *c == '\'' ) i++;   /* Count ' Tokens */
>   }
>   cRes = (char *)hb_xgrab( ulItmPar + i * sizeof(char) );
>   i = 0; c = cItmPar; cRes[i++] = '\'';
>   while( *c ){
>      if( *c == '\'' ) cRes[i++] = '\'';
>      cRes[i++] = *c++;
>   }
>   cRes[i++] = '\''; /* cRes[i] = '\0'; */
> #ifdef __XHARBOUR__
>   hb_itemPutCPtr( pItmPar, cRes, i );
> #else
>   hb_itemPutCLPtr( pItmPar, cRes, i );
> #endif
> }
>
> static ULONG SCItm( char *cBuffer, ULONG ulMaxBuf, char *cParFrm,  
> int iCOut, int IsIndW, int iIndWidth, int IsIndP, int iIndPrec,  
> PHB_ITEM pItmPar )
> {
>   ULONG s = 0;
>
>   if( IsIndW && IsIndP ){
>      switch( iCOut ){
>      case 'p':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth,  
> iIndPrec, hb_itemGetPtr( pItmPar ) );
>         break;
>      case 's': case 'S':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth,  
> iIndPrec, hb_itemGetCPtr( pItmPar ) );
>         break;
>      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a':  
> case 'A':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth,  
> iIndPrec, hb_itemGetND( pItmPar ) );
>         break;
>      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u':  
> case 'x': case 'X':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth,  
> iIndPrec, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) :  
> hb_itemGetNI( pItmPar )) );
>      }
>   }else if( IsIndW || IsIndP ){
>      int iInd = (IsIndW ? iIndWidth : iIndPrec);
>
>      switch( iCOut ){
>      case 'p':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd,  
> hb_itemGetPtr( pItmPar ) );
>         break;
>      case 's': case 'S':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd,  
> hb_itemGetCPtr( pItmPar ) );
>         break;
>      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a':  
> case 'A':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd,  
> hb_itemGetND( pItmPar ) );
>         break;
>      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u':  
> case 'x': case 'X':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm, iInd,  
> (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) :  
> hb_itemGetNI( pItmPar )) );
>      }
>   }else{
>      switch( iCOut ){
>      case 'p':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm,  
> hb_itemGetPtr( pItmPar ) );
>         break;
>      case 's': case 'S':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm,  
> hb_itemGetCPtr( pItmPar ) );
>         break;
>      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a':  
> case 'A':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm,  
> hb_itemGetND( pItmPar ) );
>         break;
>      case 'c': case 'C': case 'd': case 'i': case 'o': case 'u':  
> case 'x': case 'X':
>         s = snprintf( cBuffer, ulMaxBuf, cParFrm,  
> (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) :  
> hb_itemGetNI( pItmPar )) );
>      }
>   }
>   return s;
> }
>
> / 
> *******************************************************************************
> * ANSI C sprintf() for ANSI SQL with DATE, DATETIME, LOGICAL, NIL,  
> NUMERIC
> *  
> ------------------------------------------------------------------------
> *                    cRes := Sql_sprintf( cFrm, ... )
> *
> * Full compatible ANSI C99 formats with C,S converters wchar_t  
> (UNICODE)
> * Integer & Floating point converters with Width and Precision for  
> NUMERIC & STRING
> * a,A converters Hexadecimal floating point format. Thanks Rafa.
> *  ? Sql_sprintf( "Phi = %A", (1 + 5**0.5) / 2 ) // Phi =  
> 0X1,9E3779B97F4A8P+0
> * %m$,*m$ Index & Indirect arguments C99. Thanks Viktor.
> *  ? Sql_sprintf( "Phi = %2$0*3$.*1$f", 4, (1 + 5**0.5) / 2, 7 ) //  
> Phi = 01.6180
> *
> * s converter for format Harbour data types.
> *    NUMERIC with FIXED DECIMALS = n | n.d   STRING = String's ANSI C
> *    DATE = HB_SET_DATEFORMAT      DATETIME = HB_SET_DATEFORMAT  
> hh:mm:ss
> *     New Internal Modifier {}. Thanks Mindaugas.
> *     Date and Time Format separate by first space {DD/MM/YYYY  
> hh:mm:ss.ccc pm}
> *     {DD/MM/YYYY} = Only Date | { hh:mm:ss.ccc pm} = Only Time
> *        ? Sql_sprintf( "%s", Date() )                // 16/06/08
> *        ? Sql_sprintf( "%s", DateTime() )            // 16/06/08  
> 04:11:21
> *        ? Sql_sprintf( "%{YYYYMMDD}s", DateTime() )  // 20080616
> *        ? Sql_sprintf( "%{ hh:mm pm}s", DateTime() ) // 04:11 AM
> *    LOGICAL = TRUE | FALSE        %d converter for LOGICAL = 1 | 0
> *     Accepts Internal Modifier TRUE and FALSE Format separate by  
> first comma
> *     {T .T.,F .F.} = TRUE & FALSE | {ON} = Only TRUE | {,OFF} =  
> Only FALSE
> *        ? Sql_sprintf( "%{VERDADERO,FALSO}s", .F. ) // FALSO
> *        ? Sql_sprintf( "%{ONLY IF TRUE}s", .T. ) // ONLY IF TRUE
> *
> * New t converter for format ANSI SQL types.
> *    NUMERIC with FIXED DECIMALS = n | n.d   STRING = 'String''s  
> ANSI SQL'
> *    DATE = 'YYYY-MM-DD' DATETIME = 'YYYY-MM-DD HH:MM:SS'
> *     Accepts Internal Modifier like s converter {DD/MM/YYYY  
> hh:mm:ss.ccc pm}
> *    LOGICAL = TRUE | FALSE        Accepts Internal Modifier like s  
> {ON,OFF}
> *
> * Print NULL if the parameter is NIL or HB_IT_NULL
> * Processing %% and n converter Position.
> * Remove C ESC sequences and converts them to Clipper chars in cRes.
> *  ? Sql_sprintf( 'Hello\nworld!' ) ) // like printf( "Hello 
> \nworld!" );
> *
> * Accepts conversion inside if variable is passed by reference.
> *  Local xDate := Date(); Sql_sprintf('%s', @xDate) => xDate ==  
> '2008-05-19'
> / 
> ******************************************************************************/
>
> #define DK_INCRES 1024
> #define DK_INCBUF 512
> #define DK_BLKBUF HB_MAX_DOUBLE_LENGTH   /* Expense of DK_INCBUF */
>
> #if defined( __XHARBOUR__ ) && ! defined( HB_ERR_FUNCNAME )
>   #define HB_ERR_FUNCNAME "SQL_SPRINTF"
> #endif
>
> HB_FUNC( SQL_SPRINTF )
> {
>   ULONG ulItmFrm;
>   char *cRes, *cItmFrm;
>   int argc = hb_pcount() - 1;
>   PHB_ITEM pItmFrm = hb_param( 1, HB_IT_STRING );
>
>   if( !pItmFrm || (cItmFrm = hb_itemGetCPtr( pItmFrm )) == NULL ){
>      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, 1,  
> hb_paramError( 1 ) );
>   }else if( !(ulItmFrm = hb_itemGetCLen( pItmFrm )) ){
>      hb_retc( NULL );
>   }else if( !argc ){
>      cRes = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
>      memcpy( cRes, cItmFrm, ulItmFrm + sizeof(char) );
>      cRes = hb_strRemEscSeq( cRes, &ulItmFrm );
>      hb_retclen_buffer( cRes, ulItmFrm );
>   }else{
>      PHB_ITEM pItmPar;
>      char *cIntMod, *cBuffer, *cParFrm, *c;
>      int p, arg, iCOut, IsType, IsIndW, IsIndP, iIndWidth, iIndPrec,  
> iErrorPar = 0;
>      ULONG s, f, i, ulWidth, ulParPos = 0, ulResPos = 0, ulMaxBuf =  
> DK_INCBUF, ulMaxRes = DK_INCRES;
>      static char cToken[] = "stcdiouxXaAeEfgGpnSC";
>
>      cIntMod = NULL;
>      cRes = (char *)hb_xgrab( ulMaxRes );
>      cBuffer = (char *)hb_xgrab( ulMaxBuf );
>      cParFrm = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
>
>      for( p = 0; p < argc; /* Not p++ by support index & indirect  
> arguments */ ){
>
>         c = cItmFrm + ulParPos;
>         s = f = i = ulWidth = arg = iCOut = IsType = IsIndW =  
> iIndWidth = IsIndP = iIndPrec = 0;
>         do{   /* Get Par Format */
>            cParFrm[i++] = *c;
>            if( f && *c == '%' ){
>               f = ulWidth = IsIndW = IsIndP = 0;
>            }else if( f && !ulWidth && *c >= '0' && *c <= '9' ){
>               ulWidth = atol( c );
>            }else if( f && *c == '.' ){
>               if( f++ == 2 ) iErrorPar = 1;
>            }else if( f && *c == '*' ){
>               if( f == 2 ){
>                  if( IsIndP ){
>                     f = 3; iErrorPar = 1;
>                  }else{
>                     IsIndP = 1;
>                  }
>               }else if( !IsIndW ){
>                  IsIndW = 1;
>               }else{
>                  f = 3; iErrorPar = 1;
>               }
>            }else if( f && *c == '$' ){
>               if( ulWidth && IsIndP && !iIndPrec ){
>                  iIndPrec = ulWidth;
>                  iCOut = '*';
>               }else if( ulWidth && IsIndW && !iIndWidth ){
>                  iIndWidth = ulWidth;
>                  ulWidth = 0; iCOut = '*';
>               }else if( ulWidth && !arg ){
>                  arg = ulWidth;
>                  ulWidth = 0; iCOut = '%';
>               }else{
>                  f = 3; iErrorPar = 1;
>               }
>               while( i && cParFrm[--i] != iCOut );
>               ++i; iCOut = 0;
>            }else if( f && *c == '{' ){
>               if( s ){
>                  f = 3; iErrorPar = 1;
>               }else{   /* Remove Internal Modifier */
>                  if( cIntMod == NULL ){
>                     cIntMod = (char *)hb_xgrab( ulItmFrm +  
> sizeof(char) );
>                  }
>                  while( *c++ && *c != '}' ) cIntMod[s++] = *c;
>                  --i; cIntMod[s] = '\0';
>                  if( *(c - 1) == '\0' ){
>                     f = 3; iErrorPar = 1;
>                  }
>               }
>            }else if( f && strchr(cToken, *c) ){
>               f = 3; iCOut = *c;
>            }else if( *c == '%' ){
>               f = 1;
>            }
>            c++;
>         }while( f < 3 && *c ); cParFrm[f = i] = '\0';
>         if( iErrorPar ) break;
>
>         if( iCOut == 't' ){
>            if( cParFrm[f - 2] == '%' ){
>               IsType = 1; iCOut = cParFrm[f - 1] = 's';
>            }else{
>               iErrorPar = 1; break;
>            }
>         }
>
>         if( IsIndW  ){ /* Get Par Indirectly Width Item */
>            pItmPar = hb_param( (iIndWidth ? iIndWidth + 1 :  p++ +  
> 2), HB_IT_INTEGER );
>            if( pItmPar ){
>               if( (iIndWidth = hb_itemGetNI( pItmPar )) < 0 ){
>                  ulWidth = -iIndWidth;
>               }else{
>                  ulWidth = iIndWidth;
>               }
>            }else{
>               iErrorPar = 1; break;
>            }
>         }
>
>         if( IsIndP ){  /* Get Par Indirectly Precision Item */
>            pItmPar = hb_param( (iIndPrec ? iIndPrec + 1 :  p++ + 2),  
> HB_IT_INTEGER );
>            if( pItmPar ){
>               iIndPrec = hb_itemGetNI( pItmPar );
>            }else{
>               iErrorPar = 1; break;
>            }
>         }
>
>         if( !arg && *c && p == argc - 1 ){ /* No more Par Items */
>            do{ cParFrm[i++] = *c; }while( *c++ ); i--;
>         }  /* i == strlen(cParFrm) */
>
>         pItmPar = hb_param( (arg ? arg + 1 :  p++ + 2),  
> HB_IT_ANY );   /* Get Par Item */
>         if( !pItmPar ){
>            iErrorPar = 1; break;
>         }
>
>         if( !iCOut || iCOut == 'n' ){ /* Par Text Out */
>
>            for( f = i, i = 0; i < f; i++ ){ /* Change %% with % */
>               if( cParFrm[i] == '%' && cParFrm[i + 1] == '%' ){
>                  memcpy( cParFrm + i, cParFrm + i + 1, f - i );
>                  f--;
>               }
>            }  /* i == strlen(cParFrm) */
>            if( iCOut ){
>               for( f = 0; f < i; f++ ){  /* Erase %n */
>                  if( cParFrm[f] == '%' && cParFrm[f + 1] == 'n' ){
>                     memcpy( cParFrm + f, cParFrm + f + 2, i - f - 1 );
>                     break;
>                  }
>               }  /* f == Index % of n */
>               if( f < i ){
>                  i -= 2;  /* i == strlen(cParFrm) */
>                  hb_itemPutNL( pItmPar, ulResPos + f );
>               }else{
>                  iErrorPar = 1; break;
>               }
>            }
>            if( (f = i + sizeof(char)) > ulMaxBuf ){
>               ulMaxBuf += f + DK_INCBUF;
>               cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>            }
>            strcpy( cBuffer, cParFrm ); s = i;
>
>         }else{   /* Par Item sprintf() Out */
>
> #        ifdef HB_IT_NULL
>            if( (HB_IS_NIL( pItmPar ) || HB_IS_NULL( pItmPar )) ){
> #        else
>            if( HB_IS_NIL( pItmPar ) ){
> #        endif
>               ulWidth = f; IsIndW = IsIndP = 0;
>               while( cParFrm[--f] != '%' );
>               iCOut = cParFrm[f + 1] = 's'; /* Change format with %s  
> */
>               memcpy( cParFrm + f + 2, cParFrm + ulWidth, i -  
> ulWidth + 1 );
>               i -= ulWidth - f - 2;   /* i == strlen(cParFrm) */
>               if( (f = i + 5) > ulMaxBuf ){ /* size of "NULL" == 5 */
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               hb_itemPutCL( pItmPar, "NULL", 4 );
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else if( HB_IS_STRING( pItmPar ) && (iCOut == 's' ||  
> iCOut == 'S') ){
>               if( IsType ) STAItm( pItmPar );
>               f = hb_itemGetCLen( pItmPar );
>               if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else if( HB_IS_DATE( pItmPar ) && iCOut == 's' ){
>               char cDTBuf[ 19 ], cDTFrm[ 28 ]; /* 26 + 2 if %t and  
> change format time */
>
>               if( s ){ /* Internal Modifier */
>                  for( f = 0; cIntMod[f] && cIntMod[f] != ' '; f++);
>                  if( f != s ) cIntMod[f++] = '\0';   /* Date & Time */
>               }
>
> #           ifdef __XHARBOUR__
>               if( HB_IS_DATETIME( pItmPar ) ){
>                  hb_datetimeFormat( hb_itemGetDTS( pItmPar,  
> cDTBuf ), cDTFrm,
>                                       (s ? cIntMod : (IsType ? "YYYY- 
> MM-DD" : hb_set.HB_SET_DATEFORMAT)),
>                                       (s ? cIntMod + f :  
> "HH:MM:SS") );
>                  if( s ){
>                     if( !cIntMod[0] ){
>                        memcpy( cDTFrm, cDTFrm + 1, 27 );   /* LTrim  
> 1 space if only Time */
>                     }else if( cDTFrm[s] == ' ' ){
>                        cDTFrm[s] = '\0'; /* RTrim 1 space if only  
> Date */
>                     }
>                  }
>               }else
> #           endif
>                  hb_dateFormat( hb_itemGetDS( pItmPar, cDTBuf ),  
> cDTFrm,
>                                    (s ? cIntMod : (IsType ? "YYYY-MM- 
> DD" : hb_set.HB_SET_DATEFORMAT)) );
>
>               if( (f = i + HB_MAX(ulWidth, 28)) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               hb_itemPutC( pItmPar, cDTFrm );
>               if( IsType ) STAItm( pItmPar );
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else if( HB_IS_LOGICAL( pItmPar ) ){
>
>               if( s ){ /* Internal Modifier */
>                  for( f = 0; cIntMod[f] && cIntMod[f] != ','; f++);
>                  if( f != s ) cIntMod[f++] = '\0';   /* TRUE & FALSE  
> */
>               }
>               if( iCOut == 's' ){
>                  hb_itemPutC( pItmPar, (hb_itemGetL( pItmPar ) ?  
> (s ? cIntMod : "TRUE") : (s ? cIntMod + f : "FALSE")) );
>               }
>               if( (f = i + (iCOut == 's' ? HB_MAX(ulWidth, (s ? s :  
> 6)) : HB_MAX(ulWidth, DK_BLKBUF))) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;   /* size of "FALSE" ==  
> 6 */
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else if( iCOut == 's' ){
>               char *cTrimStr, *cStr = hb_itemStr( pItmPar, NULL,  
> NULL );
>
>               if( cStr ){
>                  f = strlen( cStr ); cTrimStr = hb_strLTrim( cStr,  
> &f );
>                  if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
>                     ulMaxBuf += f + DK_INCBUF;
>                     cBuffer = (char *)hb_xrealloc( cBuffer,  
> ulMaxBuf );
>                  }
>                  hb_itemPutCL( pItmPar, cTrimStr, f );
>                  s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut,  
> IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );
>                  hb_xfree( cStr );
>               }else{
>                  iErrorPar = p + 2; break;
>               }
>
>            }else if( HB_IS_NUMERIC( pItmPar ) ||  
> HB_IS_POINTER( pItmPar ) ){
>               if( (f = i + HB_MAX(ulWidth, DK_BLKBUF)) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW,  
> iIndWidth, IsIndP, iIndPrec, pItmPar );
>
>            }else{
>               iErrorPar = p + 2; break;
>            }
>         }
>
>         if( (f = s + ulResPos + sizeof(char)) > ulMaxRes ){
>            ulMaxRes += f + DK_INCRES;
>            cRes = (char *)hb_xrealloc( cRes, ulMaxRes );
>         }
>         strcpy( cRes + ulResPos, cBuffer ); ulResPos += s;
>
>         if( (ulParPos = c - cItmFrm) >= ulItmFrm ){
>            break;   /* No more Par Format */
>         }
>      }
>      if( cIntMod ) hb_xfree( cIntMod );
>      hb_xfree( cParFrm ); hb_xfree( cBuffer );
>      if( iErrorPar ){
>         hb_xfree( cRes );
>         if( iErrorPar > 1 ){
>            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL,  
> HB_ERR_FUNCNAME, 2, hb_paramError( 1 ), hb_paramError( iErrorPar ) );
>         }else{
>            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL,  
> HB_ERR_FUNCNAME, 1, hb_paramError( 1 ) );
>         }
>      }else{
>         cRes = hb_strRemEscSeq( cRes, &ulResPos );
>         hb_retclen_buffer( cRes, ulResPos );
>      }
>   }
> }
> /* END */

From harbour.01 at syenar.hu  Tue Jun 17 03:45:35 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 17 04:00:35 2008
Subject: [Harbour] 2008-06-17 09:43 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d04e$Blat.v2.6.2$2094017a$17ce5cd67ee@127.0.0.1>

2008-06-17 09:43 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbmisc/spd.c
     + SQL_SPRINTF() enhancements from Javier.
       (internal modifiers for date and numeric types 
       are now accepted).

   * contrib/hbw32/w32_ole.c
   * contrib/hbole/ole2.c
     * Formatting.
--
Brgds,
Viktor

From eghorbino at yahoo.com  Tue Jun 17 07:07:20 2008
From: eghorbino at yahoo.com (Edmer)
Date: Tue Jun 17 07:07:23 2008
Subject: [Harbour] GetActiveObject() problem
In-Reply-To: <46F7D031-EE9A-4768-8E29-8E13C9983611@syenar.hu>
References: <17856438.post@talk.nabble.com>
	<0A7D1F825F58475E9CB5BE627CEE2278@emag>
	<17875431.post@talk.nabble.com>
	<46F7D031-EE9A-4768-8E29-8E13C9983611@syenar.hu>
Message-ID: <17883391.post@talk.nabble.com>


Thanks Viktor. Just curious - What's the difference between hbole and hbw32.

Thanks again,
Ed

-- 
View this message in context: http://www.nabble.com/GetActiveObject%28%29-problem-tp17856438p17883391.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Jun 17 07:24:49 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 17 07:25:53 2008
Subject: [Harbour] GetActiveObject() problem
In-Reply-To: <17883391.post@talk.nabble.com>
References: <17856438.post@talk.nabble.com>
	<0A7D1F825F58475E9CB5BE627CEE2278@emag>
	<17875431.post@talk.nabble.com>
	<46F7D031-EE9A-4768-8E29-8E13C9983611@syenar.hu>
	<17883391.post@talk.nabble.com>
Message-ID: <5D1453D2-9DA2-4ED4-B9D8-0A9E55FA1FB8@syenar.hu>

Hi Ed,

hbole was the first incarnation of OLE support,
which was later extended by the xhb team into
the version what is today in hbw32. The extended
version however uses some VM hacks (messing with
internals) and a few other unclean programming
tricks. Many of these were cleaned, but the more
complicated ones are still in the code, waiting
to be fixed.

Since there were/are some concerns regarding these,
we kept hbole for the time being as an alternative,
clean implementation.

I hope Mindaugas will help us out with some of
his local patches for hbole, maybe it solve this
specific problem too. But of course anyone else
is welcome to address these as well.

Brgds,
Viktor

On 2008.06.17., at 13:07, Edmer wrote:

>
> Thanks Viktor. Just curious - What's the difference between hbole  
> and hbw32.
>
> Thanks again,
> Ed
>
> -- 
> View this message in context: http://www.nabble.com/GetActiveObject%28%29-problem-tp17856438p17883391.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Jun 17 07:29:47 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 17 07:45:44 2008
Subject: [Harbour] 2008-06-17 13:28 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d06d$Blat.v2.6.2$72c339ce$27c87831ee88@127.0.0.1>

2008-06-17 13:28 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbmzip/hbmzip.ch
   * contrib/hbmzip/hbmzip.c
     + Added error codes to hbmzip.ch
     + Interface code changed to use manifest constants 
       instead of literals in a few places.
       [TOMERGE RC1]
--
Brgds,
Viktor

From dbtopas at dbtopas.lt  Tue Jun 17 08:15:35 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Jun 17 08:17:34 2008
Subject: [Harbour] GetActiveObject() problem
In-Reply-To: <5D1453D2-9DA2-4ED4-B9D8-0A9E55FA1FB8@syenar.hu>
References: <17856438.post@talk.nabble.com>	<0A7D1F825F58475E9CB5BE627CEE2278@emag>	<17875431.post@talk.nabble.com>	<46F7D031-EE9A-4768-8E29-8E13C9983611@syenar.hu>	<17883391.post@talk.nabble.com>
	<5D1453D2-9DA2-4ED4-B9D8-0A9E55FA1FB8@syenar.hu>
Message-ID: <4857AAE7.3030707@dbtopas.lt>

> I hope Mindaugas will help us out with some of
> his local patches for hbole, maybe it solve this
> specific problem too. But of course anyone else
> is welcome to address these as well.

Hi,

I'm sorry I've not kept my promise to upload hbole until monday. I'm 
very busy these days. I'll be almost offline for one more week.

Best regards,
Mindaugas
From jarabal at ya.com  Tue Jun 17 08:16:54 2008
From: jarabal at ya.com (Javier)
Date: Tue Jun 17 08:17:39 2008
Subject: [Harbour] 2008-06-07 13:26 UTC+0100 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <E6E62E18-9472-41D0-B79E-253105EF5F4D@syenar.hu>
References: <01c8c891$Blat.v2.6.2$c42517bc$19c08d8bc010@127.0.0.1>	<484BEA96.40101@ya.com>	<FABECC9C-2B6B-4D9B-B5D7-8393A474E40F@syenar.hu>	<484C0D2F.7090509@ya.com>	<B6022834-8A3A-4866-B0E0-5D8C180CF3D6@syenar.hu>	<48502200.10101@ya.com>	<4850D219.2010605@dbtopas.lt>	<48510DDA.6090906@ya.com>
	<48516DCD.2020003@ya.com> <48573370.1090909@ya.com>
	<E6E62E18-9472-41D0-B79E-253105EF5F4D@syenar.hu>
Message-ID: <4857AB36.8080000@ya.com>

Thanks Viktor,

Ok, I Do understand, thank you very much Viktor.

Best regards.
Xavi

Szak?ts Viktor escribi?:
> Hi Javier,
>
>> A question, does it be better to make the change hb_itemPutCPtr() to 
>> hb_itemPutCLPtr() by macro in hbapi.h?
>> #define hb_itemPutCPtr    hb_itemPutCLPtr
>
> Currently there is a stub with the old name (so
> it still works, but it needs two more CPU jumps),
> and I did it like this to slightly better encourage
> users to switch to the new version. Technically,
> a #define would do also.
>
> I hope xhb will add the new function name, so
> that we can stay in sync. (same goes for hb_arrayPut*()
> functions, BTW).
>
> I'll update your code in the repo ASAP.
>
> Brgds,
> Viktor
>
From rportnoff at spendmap.com  Tue Jun 17 09:06:44 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Tue Jun 17 09:05:33 2008
Subject: [Harbour] Which MSVC version is recommended
Message-ID: <B0081289546@ms1.3peaks.com>

Hi all,

Which version of MSVC is better (ie. more reliable) with Harbour - v6 
or v8/2005?

TIA.

Regards,
Randy.


From harbour.01 at syenar.hu  Tue Jun 17 09:55:23 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 17 09:56:42 2008
Subject: [Harbour] Which MSVC version is recommended
In-Reply-To: <B0081289546@ms1.3peaks.com>
References: <B0081289546@ms1.3peaks.com>
Message-ID: <9C12B531-B885-4D82-9CF5-F62D82EAF65C@syenar.hu>

> Hi all,
>
> Which version of MSVC is better (ie. more reliable) with Harbour -  
> v6 or v8/2005?

Harbour by itself works equally well with both of
them (and even with v9/2008). I assume all compilers
are working reliably enough, so the question goes
down to which one suits better your own or other 3rd
party libs you wish to compile along with Harbour.
Or, which has better features, support, speed,
license or better code generation abilities.

I personally prefer either 2005 or 2008 because
they have free versions, even for building commercial
apps.

Brgds,
Viktor

From mbelgrano at deltain.it  Tue Jun 17 10:04:24 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Jun 17 10:04:32 2008
Subject: [Harbour] Which MSVC version is recommended
In-Reply-To: <9C12B531-B885-4D82-9CF5-F62D82EAF65C@syenar.hu>
References: <B0081289546@ms1.3peaks.com>
	<9C12B531-B885-4D82-9CF5-F62D82EAF65C@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED74@SRV02.deltain.net>

Wich are your setting for vc2008?
HB_COMPILER,BCCDIR,L_USR=,PRG_USR,C_USR,CFLAGS

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Tuesday, June 17, 2008 3:55 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Which MSVC version is recommended

> Hi all,
>
> Which version of MSVC is better (ie. more reliable) with Harbour -  
> v6 or v8/2005?

Harbour by itself works equally well with both of
them (and even with v9/2008). I assume all compilers
are working reliably enough, so the question goes
down to which one suits better your own or other 3rd
party libs you wish to compile along with Harbour.
Or, which has better features, support, speed,
license or better code generation abilities.

I personally prefer either 2005 or 2008 because
they have free versions, even for building commercial
apps.

Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Tue Jun 17 10:08:34 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 17 10:09:33 2008
Subject: [Harbour] Which MSVC version is recommended
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED74@SRV02.deltain.net>
References: <B0081289546@ms1.3peaks.com>
	<9C12B531-B885-4D82-9CF5-F62D82EAF65C@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED74@SRV02.deltain.net>
Message-ID: <BDB2784C-6ADC-4D09-AF8C-311AE7AC0181@syenar.hu>

Hi Massimo,

rem optional but recommended:
set HB_VISUALC_VER=90

rem optional:
set HB_BUILD_MODE=cpp
set CFLAGS=-O2

Brgds,
Viktor

On 2008.06.17., at 16:04, Massimo Belgrano wrote:

> Wich are your setting for vc2008?
> HB_COMPILER,BCCDIR,L_USR=,PRG_USR,C_USR,CFLAGS
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Szak?ts Viktor
> Sent: Tuesday, June 17, 2008 3:55 PM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] Which MSVC version is recommended
>
>> Hi all,
>>
>> Which version of MSVC is better (ie. more reliable) with Harbour -
>> v6 or v8/2005?
>
> Harbour by itself works equally well with both of
> them (and even with v9/2008). I assume all compilers
> are working reliably enough, so the question goes
> down to which one suits better your own or other 3rd
> party libs you wish to compile along with Harbour.
> Or, which has better features, support, speed,
> license or better code generation abilities.
>
> I personally prefer either 2005 or 2008 because
> they have free versions, even for building commercial
> apps.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Tue Jun 17 10:22:59 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Jun 17 10:23:06 2008
Subject: R: [Harbour] Which MSVC version is recommended
In-Reply-To: <BDB2784C-6ADC-4D09-AF8C-311AE7AC0181@syenar.hu>
References: <B0081289546@ms1.3peaks.com><9C12B531-B885-4D82-9CF5-F62D82EAF65C@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815ED74@SRV02.deltain.net>
	<BDB2784C-6ADC-4D09-AF8C-311AE7AC0181@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED75@SRV02.deltain.net>

Thanks
Correct me if made error
Path is set by Msvcdir
Set platform is need for sdk because msvc9 is not sufficient for using with harbour

what setting do you use for BCC & MINIGW?

-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] Per conto di Szak?ts Viktor
Inviato: marted? 17 giugno 2008 16.09
A: Harbour Project Main Developer List.
Oggetto: Re: [Harbour] Which MSVC version is recommended

Hi Massimo,

rem optional but recommended:
set HB_VISUALC_VER=90

rem optional:
set HB_BUILD_MODE=cpp
set CFLAGS=-O2

Brgds,
Viktor

On 2008.06.17., at 16:04, Massimo Belgrano wrote:

> Wich are your setting for vc2008?
> HB_COMPILER,BCCDIR,L_USR=,PRG_USR,C_USR,CFLAGS
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Szak?ts Viktor
> Sent: Tuesday, June 17, 2008 3:55 PM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] Which MSVC version is recommended
>
>> Hi all,
>>
>> Which version of MSVC is better (ie. more reliable) with Harbour -
>> v6 or v8/2005?
>
> Harbour by itself works equally well with both of
> them (and even with v9/2008). I assume all compilers
> are working reliably enough, so the question goes
> down to which one suits better your own or other 3rd
> party libs you wish to compile along with Harbour.
> Or, which has better features, support, speed,
> license or better code generation abilities.
>
> I personally prefer either 2005 or 2008 because
> they have free versions, even for building commercial
> apps.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Tue Jun 17 10:47:19 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 17 10:48:18 2008
Subject: R: [Harbour] Which MSVC version is recommended
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED75@SRV02.deltain.net>
References: <B0081289546@ms1.3peaks.com><9C12B531-B885-4D82-9CF5-F62D82EAF65C@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815ED74@SRV02.deltain.net>
	<BDB2784C-6ADC-4D09-AF8C-311AE7AC0181@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED75@SRV02.deltain.net>
Message-ID: <7AC23A6C-9721-40AE-9559-A03CE93718F6@syenar.hu>

> Correct me if made error
> Path is set by Msvcdir

As for configuring MSVS itself I use the 'vsdir.bat'
(or whatever else named) file which is created by the
MSVS installer.

> Set platform is need for sdk because msvc9 is not sufficient for  
> using with harbour

Yes, I forgot the SDK in 'set INCLUDE', it only
need for a few contribs, not for core Harbour.

> what setting do you use for BCC & MINIGW?

BCC:

I use different settings for development and live,
but all of them are optional. You only need to
setup BCC55 (or 58) and run make_b32.bat.

rem development:
set C_USR=-DUNICODE -v -y
set HB_BUILD_VERBOSE=yes

rem live:
set C_USR=-6 -OS -Ov -Oi -Oc -Q -tWM -DHB_FM_STATISTICS_OFF - 
DHB_NO_DEBUG -DHB_NO_TRACE
set PRG_USR=-l
set HB_BUILD_VERBOSE=yes

MINGW:

rem live:
set C_USR=-march=pentiumpro -O4 -fomit-frame-pointer -ffast-math
set PRG_USR=-l
set L_USR=-s

MINGW+GNU make only works for me if I delete (or rename) C:\msys 
\1.0\bin\sh.exe

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Jun 17 10:50:39 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 17 10:51:45 2008
Subject: [Harbour] Possible copyright violation
Message-ID: <D76D3394-61F4-4231-9146-830C48CAE4B2@syenar.hu>

Hi folks,

I've just noticed that these files inside our repository,
are holding the copyright of a hefty software company:

contrib/hbwhat32/commctrl.ch
contrib/hbwhat32/commdlg.ch
contrib/hbwhat32/wingdi.ch
contrib/hbwhat32/wininet.ch
contrib/hbwhat32/winstruc.ch
contrib/hbwhat32/winuser.ch

This is an important issue to be solved even in RC1.

Please comment.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Jun 17 10:52:53 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 17 10:53:51 2008
Subject: [Harbour] Re: Possible copyright violation
In-Reply-To: <D76D3394-61F4-4231-9146-830C48CAE4B2@syenar.hu>
References: <D76D3394-61F4-4231-9146-830C48CAE4B2@syenar.hu>
Message-ID: <A6F05B11-ECFF-4E44-82E5-F912BD55994E@syenar.hu>

Just an idea, but maybe it'd be better to include
these from the WINE/MINGW distribution (after ensuring
that their license allows it)

Brgds,
Viktor

On 2008.06.17., at 16:50, Szak?ts Viktor wrote:

> Hi folks,
>
> I've just noticed that these files inside our repository,
> are holding the copyright of a hefty software company:
>
> contrib/hbwhat32/commctrl.ch
> contrib/hbwhat32/commdlg.ch
> contrib/hbwhat32/wingdi.ch
> contrib/hbwhat32/wininet.ch
> contrib/hbwhat32/winstruc.ch
> contrib/hbwhat32/winuser.ch
>
> This is an important issue to be solved even in RC1.
>
> Please comment.
>
> Brgds,
> Viktor
>

From harbour.01 at syenar.hu  Tue Jun 17 12:54:19 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 17 12:54:17 2008
Subject: [Harbour] 2008-06-17 18:49 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d09a$Blat.v2.6.2$c8faa1ce$2048cc096f08@127.0.0.1>

2008-06-17 18:49 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtclip.c
     ! Fixed get/set clipboard when UNICODE is #defined.
       (WinCE mostly).
     ! Fixed get/set clipboard when format is CF_UNICODETEXT.
       (untested, please someone review me)
     ! Fixed get clipboard when CF_TEXT/CF_OEMTEXT format 
       is used, so that an additionaly zero byte won't be 
       appended anymore to the returned string.
       [TOMERGE RC1 if correct]

   * source/rtl/gtwvt/gtwvt.c
     * "HARBOUR_WVT" -> "Harbour WVT". This text is visible, 
       so it's better to make it "desktop friendlier"".
       [TOMERGE RC1]
--
Brgds,
Viktor

From e.m.giordano at emagsoftware.it  Tue Jun 17 15:35:16 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Jun 17 15:35:21 2008
Subject: [Harbour] Warnings
Message-ID: <DE1BAFF8E81F45AEAA0345D6B5D482FA@emag>

Warning W8075 source\rtl\gtclip.c 112: Suspicious pointer conversion in 
function hb_gt_w32_setClipboard
Warning W8075 source\rtl\gtclip.c 146: Suspicious pointer conversion in 
function hb_gt_w32_getClipboard
Warning W8075 source\rtl\gtclip.c 148: Suspicious pointer conversion in 
function hb_gt_w32_getClipboard

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Tue Jun 17 15:48:52 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 17 15:48:48 2008
Subject: [Harbour] 2008-06-17 21:45 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d0b3$Blat.v2.6.2$2b324fa0$27c847c66b68@127.0.0.1>

2008-06-17 21:45 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtclip.c
     ! Added three LPWSTR casts to pacify warnings.
       [TOMERGE RC1]
--
Brgds,
Viktor

From e.m.giordano at emagsoftware.it  Tue Jun 17 15:54:12 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Jun 17 15:54:16 2008
Subject: [Harbour] 2008-06-17 21:45 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
References: <01c8d0b3$Blat.v2.6.2$2b324fa0$27c847c66b68@127.0.0.1>
Message-ID: <2ECBC95330DC4E04BF0784F05C8E303A@emag>


-----Messaggio Originale----- 
Da: "Szak?ts Viktor" <harbour.01@syenar.hu>
A: <harbour@harbour-project.org>
Data invio: marted? 17 giugno 2008 21.48
Oggetto: [Harbour] 2008-06-17 21:45 UTC+0200 Viktor Szakats 
(harbour.01syenar hu)


> 2008-06-17 21:45 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>   * source/rtl/gtclip.c
>     ! Added three LPWSTR casts to pacify warnings.
>       [TOMERGE RC1]

Thank you!

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Tue Jun 17 17:02:56 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 17 17:02:51 2008
Subject: [Harbour] 2008-06-17 23:00 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d0bd$Blat.v2.6.2$840947fa$229c9c935dba@127.0.0.1>

2008-06-17 23:00 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * tests/rto_get.prg
   * source/rtl/tget.prg
     ! Fixed TGet():assign() to pad character values 
       to the original length with the original content. 
       This also clears some existing differences in rto_get.prg.
     + Added regression test specifically for this.
       [TOMERGE RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Jun 17 17:35:55 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 17 17:35:50 2008
Subject: [Harbour] 2008-06-17 23:33 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d0c2$Blat.v2.6.2$1fcc6682$2710bb591088@127.0.0.1>

2008-06-17 23:33 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/tget.prg
     % Minor opt.

   * contrib/hbwhat32/_winkbrd.c
   * contrib/hbwhat32/_wintext.c
   * contrib/hbwhat32/_windc.c
   * contrib/hbwhat32/_winsys.c
   * contrib/hbwhat32/_windir.c
   * contrib/hbwhat32/_winmsg.c
   * contrib/hbwhat32/_winmisc.c
   * contrib/hbwhat32/_winfont.c
   * contrib/hbwhat32/_winreg.c
     ! Potential warning fixes.
--
Brgds,
Viktor

From e.m.giordano at emagsoftware.it  Tue Jun 17 17:45:49 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Jun 17 17:45:53 2008
Subject: [Harbour] 2008-06-17 23:00 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
References: <01c8d0bd$Blat.v2.6.2$840947fa$229c9c935dba@127.0.0.1>
Message-ID: <87440C17196F4C67A432052654A54369@emag>


-----Messaggio Originale----- 
Da: "Szak?ts Viktor" <harbour.01@syenar.hu>
A: <harbour@harbour-project.org>
Data invio: marted? 17 giugno 2008 23.02
Oggetto: [Harbour] 2008-06-17 23:00 UTC+0200 Viktor Szakats 
(harbour.01syenar hu)


> 2008-06-17 23:00 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>   * tests/rto_get.prg
>   * source/rtl/tget.prg
>     ! Fixed TGet():assign() to pad character values
>       to the original length with the original content.
>       This also clears some existing differences in rto_get.prg.
>     + Added regression test specifically for this.
>       [TOMERGE RC1]

While you have your hands dirty with tget.prg can you look at the following 
bug? :-)

FUNCTION MAIN()

    LOCAL GetList := {}

    LOCAL nVar := 0

    @ 10, 10 GET nVar;
             PICTURE "@EZ 999,999.99"

    READ

    RETURN NIL

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Tue Jun 17 18:13:17 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 17 18:14:30 2008
Subject: [Harbour] 2008-06-17 23:00 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
In-Reply-To: <87440C17196F4C67A432052654A54369@emag>
References: <01c8d0bd$Blat.v2.6.2$840947fa$229c9c935dba@127.0.0.1>
	<87440C17196F4C67A432052654A54369@emag>
Message-ID: <7FDA78AF-D2F4-42B6-A312-DF1BAC7C85C5@syenar.hu>

>> While you have your hands dirty with tget.prg can you look at the  
>> following bug? :-)
>
> FUNCTION MAIN()
>
>   LOCAL GetList := {}
>
>   LOCAL nVar := 0
>
>   @ 10, 10 GET nVar;
>            PICTURE "@EZ 999,999.99"
>
>   READ
>
>   RETURN NIL

Hi Enrico,

I wish I could, but this would take too much
time, and I have to concentrate on critical
things (or pretty obvious ones) in Harbour for
now.

To fix the above, we'd probably need a new
buffer mask string and add support for it where
needed. Doesn't seem very obvious or quick
for a cosmetic fix. Maybe later, if someone is
not fixing it until then.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun 18 04:10:52 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 18 04:11:03 2008
Subject: [Harbour] 2008-06-18 10:06 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d11a$Blat.v2.6.2$d3549f46$119caee061a0@127.0.0.1>

2008-06-18 10:06 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtwvt/gtwvt.c
     + Now showing the application's executable name 
       in the window title on startup, instead of "Harbour WVT".
     * Window class name handling and control flow cleaned.
       [TOMERGE RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun 18 05:41:06 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 18 05:41:12 2008
Subject: [Harbour] 2008-06-18 11:39 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d127$Blat.v2.6.2$6e6426bc$e94c1d7afb6@127.0.0.1>

2008-06-18 11:39 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtclip.c
     ! hb_gt_w32_setClipboard() fix to CF_UNICODETEXT 
       EOS char setting.
       [TOMERGE RC1]

   * source/rtl/gtwvt/gtwvt.c
     + Internal error string cleanup.
--
Brgds,
Viktor

From paolorus at 2bm.it  Wed Jun 18 09:06:44 2008
From: paolorus at 2bm.it (Paolo Russignan)
Date: Wed Jun 18 09:02:28 2008
Subject: [Harbour] Errore irrecuperabile 9024
Message-ID: <48590864.2080406@2bm.it>

Hello everyone,

someone can help me with the error irrecoverable 9024 "hb_xrealloc 
request to resize to zero byte"

Thank you and hello
Paul Russignan


From mbelgrano at deltain.it  Wed Jun 18 09:11:34 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jun 18 09:11:42 2008
Subject: [Harbour] Errore irrecuperabile 9024
In-Reply-To: <48590864.2080406@2bm.it>
References: <48590864.2080406@2bm.it>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED7E@SRV02.deltain.net>

What is happen? When (startup/exit)?
Wich platform and wich library have you loaded?
Wich Version of harbour?


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Paolo
Russignan
Sent: Wednesday, June 18, 2008 3:07 PM
To: Harbour@harbour-project.org
Subject: [Harbour] Errore irrecuperabile 9024

Hello everyone,

someone can help me with the error irrecoverable 9024 "hb_xrealloc
request to resize to zero byte"

Thank you and hello
Paul Russignan


_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
> 
From harbour.01 at syenar.hu  Wed Jun 18 09:25:55 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 18 09:26:56 2008
Subject: [Harbour] Errore irrecuperabile 9024
In-Reply-To: <48590864.2080406@2bm.it>
References: <48590864.2080406@2bm.it>
Message-ID: <25074C89-1E03-43D3-8A5B-EC7CB70F6D82@syenar.hu>

Hi Paulo,

If it's Harbour code, please send a sample
to reproduce it.

Brgds,
Viktor

On 2008.06.18., at 15:06, Paolo Russignan wrote:

> Hello everyone,
>
> someone can help me with the error irrecoverable 9024 "hb_xrealloc  
> request to resize to zero byte"
>
> Thank you and hello
> Paul Russignan
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Wed Jun 18 09:32:05 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jun 18 09:32:12 2008
Subject: [Harbour] Multi-Window GT - New Implementation
In-Reply-To: <17864861.post@talk.nabble.com>
References: <17855569.post@talk.nabble.com><AB322654-7FB7-4E56-9008-EAD95D883431@syenar.hu><17857605.post@talk.nabble.com><687150B3-BD13-4EAC-AC2A-95EF87AA9FDD@syenar.hu><17864416.post@talk.nabble.com><AFB948164110ED43B5EB849E8DEEF03815ED6D@SRV02.deltain.net>
	<17864861.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED7F@SRV02.deltain.net>

Recompiling harbour (bcc) with Pritpal version gtwvt_mw.zip  I receive
this error
http://www.nabble.com/file/p17857605/gtwvt_mw.zip

Error: Unresolved external '_hb_gtNew' referenced from
C:\HARBOUR\LIB\B32\HBRTL.LIB|gtapi
Error: Unresolved external '_hb_gt_Stack' referenced from
C:\HARBOUR\LIB\B32\HBRTL.LIB|gtapi
Error: Unresolved external '_hb_gtSelect' referenced from
C:\HARBOUR\LIB\B32\HBRTL.LIB|gtapi

** error 1 ** deleting bin\b32\hbrun.exe


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: Monday, June 16, 2008 3:50 PM
To: harbour@harbour-project.org
Subject: RE: [Harbour] Multi-Window GT - New Implementation


Massimo

>Can post the more updated version?

What you mean by "updated version" ?
I wanted the benchmarking of your existing 
application wihout any changes. Only Harbour had to be
compiled with my posted files.

Regards
Pritpal Bedi

-- 
View this message in context:
http://www.nabble.com/Multi-Window-GT---New-Implementation-tp17855569p17
864861.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From bedipritpal at hotmail.com  Wed Jun 18 10:08:05 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jun 18 10:08:09 2008
Subject: [Harbour] Multi-Window GT - New Implementation
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED7F@SRV02.deltain.net>
References: <17855569.post@talk.nabble.com>
	<AB322654-7FB7-4E56-9008-EAD95D883431@syenar.hu>
	<17857605.post@talk.nabble.com>
	<687150B3-BD13-4EAC-AC2A-95EF87AA9FDD@syenar.hu>
	<17864416.post@talk.nabble.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED6D@SRV02.deltain.net>
	<17864861.post@talk.nabble.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED7F@SRV02.deltain.net>
Message-ID: <17983509.post@talk.nabble.com>


You DID NOT distributed the .C .PRG .CH .H files accompanying the upload to
their respective Harbour folders and recompiled Harbour.

And also please avoid to include the message body to which you are
replying into your messages. It disrupts proper viewing of the newsgroup.

Pritpal


Massimo Belgrano-3 wrote:
> 
> Recompiling harbour (bcc) with Pritpal version gtwvt_mw.zip  I receive
> this error
> http://www.nabble.com/file/p17857605/gtwvt_mw.zip
> 
> Error: Unresolved external '_hb_gtNew' referenced from
> C:\HARBOUR\LIB\B32\HBRTL.LIB|gtapi
> Error: Unresolved external '_hb_gt_Stack' referenced from
> C:\HARBOUR\LIB\B32\HBRTL.LIB|gtapi
> Error: Unresolved external '_hb_gtSelect' referenced from
> C:\HARBOUR\LIB\B32\HBRTL.LIB|gtapi
> 
> ** error 1 ** deleting bin\b32\hbrun.exe
> 

-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---New-Implementation-tp17855569p17983509.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Wed Jun 18 10:34:46 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jun 18 10:35:00 2008
Subject: [Harbour] Multi-Window GT - New Implementation
In-Reply-To: <17983509.post@talk.nabble.com>
References: <17855569.post@talk.nabble.com><AB322654-7FB7-4E56-9008-EAD95D883431@syenar.hu><17857605.post@talk.nabble.com><687150B3-BD13-4EAC-AC2A-95EF87AA9FDD@syenar.hu><17864416.post@talk.nabble.com><AFB948164110ED43B5EB849E8DEEF03815ED6D@SRV02.deltain.net><17864861.post@talk.nabble.com><AFB948164110ED43B5EB849E8DEEF03815ED7F@SRV02.deltain.net>
	<17983509.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED80@SRV02.deltain.net>

I have missed updated the hbgtcore.c 
now I have recompiled with bcc without problem
first step in my application recompiled all seem works
now try to distribute it and in next day post result

From mbelgrano at deltain.it  Wed Jun 18 13:00:27 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jun 18 13:00:37 2008
Subject: [Harbour] SCOPE VIOLATION PROTECTED HBGETLIST:_NPOS
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED81@SRV02.deltain.net>

Goto second field in get but return error
In xharbour I do
   OGetList := __GetListActive()
   OGetList:nPos := 2     
How can Do in harbour?

Massimo Belgrano

From harbour.01 at syenar.hu  Wed Jun 18 13:30:49 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 18 13:31:51 2008
Subject: [Harbour] SCOPE VIOLATION PROTECTED HBGETLIST:_NPOS
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED81@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ED81@SRV02.deltain.net>
Message-ID: <1D210103-7B02-4951-9CDB-0295383F821F@syenar.hu>

oGetList:pos := 2

like in Clipper.

Brgds,
Viktor

On 2008.06.18., at 19:00, Massimo Belgrano wrote:

> Goto second field in get but return error
> In xharbour I do
>   OGetList := __GetListActive()
>   OGetList:nPos := 2
> How can Do in harbour?
>
> Massimo Belgrano
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Wed Jun 18 13:36:13 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jun 18 13:36:23 2008
Subject: [Harbour] SCOPE VIOLATION PROTECTED HBGETLIST:_NPOS
In-Reply-To: <1D210103-7B02-4951-9CDB-0295383F821F@syenar.hu>
References: <AFB948164110ED43B5EB849E8DEEF03815ED81@SRV02.deltain.net>
	<1D210103-7B02-4951-9CDB-0295383F821F@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED83@SRV02.deltain.net>

Can I do something of similar in harbour for goto fields by pos?


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Wednesday, June 18, 2008 7:31 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] SCOPE VIOLATION PROTECTED HBGETLIST:_NPOS

oGetList:pos := 2

like in Clipper.

Brgds,
Viktor

On 2008.06.18., at 19:00, Massimo Belgrano wrote:

> Goto second field in get but return error
> In xharbour I do
>   OGetList := __GetListActive()
>   OGetList:nPos := 2
> How can Do in harbour?
>
> Massimo Belgrano
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From bedipritpal at hotmail.com  Wed Jun 18 13:36:40 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jun 18 13:36:43 2008
Subject: [Harbour] OT - FastReport - FRH and FRAH as COM Interface
Message-ID: <17988136.post@talk.nabble.com>


Hello Everybody

I have extended FastRepH.prg to simulate the true
object type behavior like:


      // Returns oPage if 'Page1' exists otherwise creates new
      //
      oPage := ::Page( 'Page1' )
      oPage:LargeDesignHeight := .t.
      oPage:LeftMargin        := 10
      oPage:TopMargin         := 10
      oPage:RightMargin       := 10
      oPage:BottomMargin      := 10


      oMemo := oPage:AddMemo( 'MemoFirst', 'This is Vouch', 100, 200, 100, 
80 )
      oMemo:Font:Size         := 40
      oMemo:Font:Bold         := .t.


      oMemo:Frame:FrameType   := 2
      oMemo:Frame:Width       := 10
      oMemo:Frame:DropShadow  := .t.
      oMemo:Frame:ShadowColor := RGB( 117,0,112 )


      oBand := oPage:AddPageHeader( 'PageHeader' )
      oBand:Top               := ( nBandAt += nGap )
      oMemo := oBand:AddMemo( 'MemoInBand', 'Excellent', 10, 2, 40, 15 )


      ::SetUserDataSet( 0 )
      ::FrPrn:AddGlobalDsToReport( ::cAlias )


      oBand := oPage:AddMasterData( 'MasterData1' )
      oBand:Top               := ( nBandAt += nGap )
      oBand:StartNewPage      := .t.
      oBand:DataSet           := ::cAlias


      if ::lChild
         oBand := oPage:AddDetailData( 'DetailData1' )
         oBand:Top            := ( nBandAt += nGap )
         oBand:DataSet        := ::cAliasChd
      endif


      oBand := oPage:AddPageFooter( 'PageFooter' )
      oBand:Top               := ( nBandAt += nGap )


      oBand := oPage:AddOverlay( 'Overlay' )
      oBand:Top               := ( nBandAt += nGap )


If you are interested in this typeof approach, please let me know.
This class manages all of the properties of FastReport. I have not
been able to manage the method calls so far as FRH (FRAH) does not provide
any construct to do so.


Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/OT---FastReport---FRH-and-FRAH-as-COM-Interface-tp17988136p17988136.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Jun 18 16:19:36 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 18 16:21:04 2008
Subject: [Harbour] hbwhat32 & copyrights
Message-ID: <F848EA6C-CEF9-4D35-B812-3D76DE2B94D7@syenar.hu>

Hi Pritpal,

Could you take a look at the Microsoft copyright
problem in what32?

IMO, we have three options:
1) Get these files from MINGW, WINE (or other GPL projects)
    and convert them to .ch format.
2) Remove the copyrighted content and use externally distributed
    .ch (or .h) files instead. This would be an external package
    which would "plug in" to the contrib.
3) Remove the contrib from Harbour SVN.

1) would be ideal.

Unless of course someone confirms that MS copyrighted files
in our repository are okay.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun 18 20:02:54 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 18 20:02:58 2008
Subject: [Harbour] 2008-06-19 01:53 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d19f$Blat.v2.6.2$d2680cbe$11e81a3bc1a@127.0.0.1>

2008-06-19 01:53 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbw32/tests/testdll.prg
   * source/rtl/colorind.c
   * contrib/hbodbc/odbc.c
     * Minor cleanups.

   * contrib/hbtip/tests/base64.prg
   * contrib/hbtip/tests/dbtohtml.prg
   * contrib/hbtip/tests/httpadv.prg
   * contrib/hbtip/tests/tipmail.prg
   * contrib/hbtip/tests/tipmmail.prg
   * contrib/hbtip/tests/tiptest.prg
     ! All tip tests fixed and tested to compile/link
       with Harbour.
     * Changed to not require hbw32.lib.
       [TOMERGE RC1]

   + contrib/hbtip/tests/test.dbf
     + Added for tests.
       [TOMERGE RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun 18 20:27:50 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 18 20:27:55 2008
Subject: [Harbour] 2008-06-19 02:25 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d1a3$Blat.v2.6.2$4e63d3fe$1f449aed7bb0@127.0.0.1>

2008-06-19 02:25 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbtip/common.mak
     ! Added missing sendmail.prg
       [TOMERGE RC1]

   * contrib/hbtip/sendmail.prg
     * Formatting.
--
Brgds,
Viktor

From philb at philb.us  Wed Jun 18 21:40:11 2008
From: philb at philb.us (Phil Barnett)
Date: Wed Jun 18 21:40:15 2008
Subject: [Harbour] Re: Possible copyright violation
In-Reply-To: <A6F05B11-ECFF-4E44-82E5-F912BD55994E@syenar.hu>
References: <D76D3394-61F4-4231-9146-830C48CAE4B2@syenar.hu>
	<A6F05B11-ECFF-4E44-82E5-F912BD55994E@syenar.hu>
Message-ID: <200806182140.11411.philb@philb.us>

On Tuesday 17 June 2008 10:52:53 am Szak?ts Viktor wrote:
> Just an idea, but maybe it'd be better to include
> these from the WINE/MINGW distribution (after ensuring
> that their license allows it)

Thanks for finding this.

If we can find these files under better licensing we can keep them, or we can 
try to get a license for Harbour. My guess is the latter approach would be 
more difficult and take more time.

-- 
Waiting for sunspots.
From philb at philb.us  Wed Jun 18 21:43:30 2008
From: philb at philb.us (Phil Barnett)
Date: Wed Jun 18 21:43:33 2008
Subject: [Harbour] hbwhat32 & copyrights
In-Reply-To: <F848EA6C-CEF9-4D35-B812-3D76DE2B94D7@syenar.hu>
References: <F848EA6C-CEF9-4D35-B812-3D76DE2B94D7@syenar.hu>
Message-ID: <200806182143.30965.philb@philb.us>

On Wednesday 18 June 2008 04:19:36 pm Szak?ts Viktor wrote:

> Unless of course someone confirms that MS copyrighted files
> in our repository are okay.

No, definitely not OK.

-- 
Waiting for sunspots.
From mhsabado at gmail.com  Thu Jun 19 02:00:22 2008
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Thu Jun 19 02:00:26 2008
Subject: [Harbour] GTWVT Maximize Control Button
Message-ID: <f81ad3e40806182300h3ecfb2d6t44d5af52f5d85b95@mail.gmail.com>

Hi,

Running the WVTEXT.PRG sample when you click the Maximize control button, it
works fine but the button  is being Disabled.  It will re-enable when you
resize the program window by clicking and dragging.the corner.  Should not
it be supposed to switch to Restore status instead?

Thanks,
Mario
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080619/cadf1924/attachment.html
From harbour.01 at syenar.hu  Thu Jun 19 03:42:55 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 19 03:44:04 2008
Subject: [Harbour] GTWVT Maximize Control Button
In-Reply-To: <f81ad3e40806182300h3ecfb2d6t44d5af52f5d85b95@mail.gmail.com>
References: <f81ad3e40806182300h3ecfb2d6t44d5af52f5d85b95@mail.gmail.com>
Message-ID: <DDCB9F21-B408-4AC5-BE87-B0392B4A56F4@syenar.hu>

Hi Mario,

It might, I don't know how to do it, and
how to do it properly (plus weren't interested
enough to find out), but someone could add
such feature.

Brgds,
Viktor

On 2008.06.19., at 8:00, Mario H. Sabado wrote:

> Hi,
>
> Running the WVTEXT.PRG sample when you click the Maximize control  
> button, it works fine but the button  is being Disabled.  It will re- 
> enable when you resize the program window by clicking and  
> dragging.the corner.  Should not it be supposed to switch to Restore  
> status instead?
>
> Thanks,
> Mario
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From sscc at mweb.co.za  Thu Jun 19 03:54:00 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Jun 19 03:54:21 2008
Subject: [Harbour] Re: Possible copyright violation
In-Reply-To: <200806182140.11411.philb@philb.us>
References: <D76D3394-61F4-4231-9146-830C48CAE4B2@syenar.hu>	<A6F05B11-ECFF-4E44-82E5-F912BD55994E@syenar.hu>
	<200806182140.11411.philb@philb.us>
Message-ID: <485A1098.5040805@mweb.co.za>

Phil Barnett wrote:
> On Tuesday 17 June 2008 10:52:53 am Szak?ts Viktor wrote:
>> Just an idea, but maybe it'd be better to include
>> these from the WINE/MINGW distribution (after ensuring
>> that their license allows it)
> 
> Thanks for finding this.
> 
> If we can find these files under better licensing we can keep them, or we can 
> try to get a license for Harbour. My guess is the latter approach would be 
> more difficult and take more time.

This is the license included with version wine-0.9.37 (quite old).

HIH

Alex

-------------- next part --------------
		  GNU LESSER GENERAL PUBLIC LICENSE
		       Version 2.1, February 1999

 Copyright (C) 1991, 1999 Free Software Foundation, Inc.
 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
 Everyone is permitted to copy and distribute verbatim copies
 of this license document, but changing it is not allowed.

[This is the first released version of the Lesser GPL.  It also counts
 as the successor of the GNU Library Public License, version 2, hence
 the version number 2.1.]

			    Preamble

  The licenses for most software are designed to take away your
freedom to share and change it.  By contrast, the GNU General Public
Licenses are intended to guarantee your freedom to share and change
free software--to make sure the software is free for all its users.

  This license, the Lesser General Public License, applies to some
specially designated software packages--typically libraries--of the
Free Software Foundation and other authors who decide to use it.  You
can use it too, but we suggest you first think carefully about whether
this license or the ordinary General Public License is the better
strategy to use in any particular case, based on the explanations below.

  When we speak of free software, we are referring to freedom of use,
not price.  Our General Public Licenses are designed to make sure that
you have the freedom to distribute copies of free software (and charge
for this service if you wish); that you receive source code or can get
it if you want it; that you can change the software and use pieces of
it in new free programs; and that you are informed that you can do
these things.

  To protect your rights, we need to make restrictions that forbid
distributors to deny you these rights or to ask you to surrender these
rights.  These restrictions translate to certain responsibilities for
you if you distribute copies of the library or if you modify it.

  For example, if you distribute copies of the library, whether gratis
or for a fee, you must give the recipients all the rights that we gave
you.  You must make sure that they, too, receive or can get the source
code.  If you link other code with the library, you must provide
complete object files to the recipients, so that they can relink them
with the library after making changes to the library and recompiling
it.  And you must show them these terms so they know their rights.

  We protect your rights with a two-step method: (1) we copyright the
library, and (2) we offer you this license, which gives you legal
permission to copy, distribute and/or modify the library.

  To protect each distributor, we want to make it very clear that
there is no warranty for the free library.  Also, if the library is
modified by someone else and passed on, the recipients should know
that what they have is not the original version, so that the original
author's reputation will not be affected by problems that might be
introduced by others.

  Finally, software patents pose a constant threat to the existence of
any free program.  We wish to make sure that a company cannot
effectively restrict the users of a free program by obtaining a
restrictive license from a patent holder.  Therefore, we insist that
any patent license obtained for a version of the library must be
consistent with the full freedom of use specified in this license.

  Most GNU software, including some libraries, is covered by the
ordinary GNU General Public License.  This license, the GNU Lesser
General Public License, applies to certain designated libraries, and
is quite different from the ordinary General Public License.  We use
this license for certain libraries in order to permit linking those
libraries into non-free programs.

  When a program is linked with a library, whether statically or using
a shared library, the combination of the two is legally speaking a
combined work, a derivative of the original library.  The ordinary
General Public License therefore permits such linking only if the
entire combination fits its criteria of freedom.  The Lesser General
Public License permits more lax criteria for linking other code with
the library.

  We call this license the "Lesser" General Public License because it
does Less to protect the user's freedom than the ordinary General
Public License.  It also provides other free software developers Less
of an advantage over competing non-free programs.  These disadvantages
are the reason we use the ordinary General Public License for many
libraries.  However, the Lesser license provides advantages in certain
special circumstances.

  For example, on rare occasions, there may be a special need to
encourage the widest possible use of a certain library, so that it becomes
a de-facto standard.  To achieve this, non-free programs must be
allowed to use the library.  A more frequent case is that a free
library does the same job as widely used non-free libraries.  In this
case, there is little to gain by limiting the free library to free
software only, so we use the Lesser General Public License.

  In other cases, permission to use a particular library in non-free
programs enables a greater number of people to use a large body of
free software.  For example, permission to use the GNU C Library in
non-free programs enables many more people to use the whole GNU
operating system, as well as its variant, the GNU/Linux operating
system.

  Although the Lesser General Public License is Less protective of the
users' freedom, it does ensure that the user of a program that is
linked with the Library has the freedom and the wherewithal to run
that program using a modified version of the Library.

  The precise terms and conditions for copying, distribution and
modification follow.  Pay close attention to the difference between a
"work based on the library" and a "work that uses the library".  The
former contains code derived from the library, whereas the latter must
be combined with the library in order to run.

		  GNU LESSER GENERAL PUBLIC LICENSE
   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION

  0. This License Agreement applies to any software library or other
program which contains a notice placed by the copyright holder or
other authorized party saying it may be distributed under the terms of
this Lesser General Public License (also called "this License").
Each licensee is addressed as "you".

  A "library" means a collection of software functions and/or data
prepared so as to be conveniently linked with application programs
(which use some of those functions and data) to form executables.

  The "Library", below, refers to any such software library or work
which has been distributed under these terms.  A "work based on the
Library" means either the Library or any derivative work under
copyright law: that is to say, a work containing the Library or a
portion of it, either verbatim or with modifications and/or translated
straightforwardly into another language.  (Hereinafter, translation is
included without limitation in the term "modification".)

  "Source code" for a work means the preferred form of the work for
making modifications to it.  For a library, complete source code means
all the source code for all modules it contains, plus any associated
interface definition files, plus the scripts used to control compilation
and installation of the library.

  Activities other than copying, distribution and modification are not
covered by this License; they are outside its scope.  The act of
running a program using the Library is not restricted, and output from
such a program is covered only if its contents constitute a work based
on the Library (independent of the use of the Library in a tool for
writing it).  Whether that is true depends on what the Library does
and what the program that uses the Library does.
  
  1. You may copy and distribute verbatim copies of the Library's
complete source code as you receive it, in any medium, provided that
you conspicuously and appropriately publish on each copy an
appropriate copyright notice and disclaimer of warranty; keep intact
all the notices that refer to this License and to the absence of any
warranty; and distribute a copy of this License along with the
Library.

  You may charge a fee for the physical act of transferring a copy,
and you may at your option offer warranty protection in exchange for a
fee.

  2. You may modify your copy or copies of the Library or any portion
of it, thus forming a work based on the Library, and copy and
distribute such modifications or work under the terms of Section 1
above, provided that you also meet all of these conditions:

    a) The modified work must itself be a software library.

    b) You must cause the files modified to carry prominent notices
    stating that you changed the files and the date of any change.

    c) You must cause the whole of the work to be licensed at no
    charge to all third parties under the terms of this License.

    d) If a facility in the modified Library refers to a function or a
    table of data to be supplied by an application program that uses
    the facility, other than as an argument passed when the facility
    is invoked, then you must make a good faith effort to ensure that,
    in the event an application does not supply such function or
    table, the facility still operates, and performs whatever part of
    its purpose remains meaningful.

    (For example, a function in a library to compute square roots has
    a purpose that is entirely well-defined independent of the
    application.  Therefore, Subsection 2d requires that any
    application-supplied function or table used by this function must
    be optional: if the application does not supply it, the square
    root function must still compute square roots.)

These requirements apply to the modified work as a whole.  If
identifiable sections of that work are not derived from the Library,
and can be reasonably considered independent and separate works in
themselves, then this License, and its terms, do not apply to those
sections when you distribute them as separate works.  But when you
distribute the same sections as part of a whole which is a work based
on the Library, the distribution of the whole must be on the terms of
this License, whose permissions for other licensees extend to the
entire whole, and thus to each and every part regardless of who wrote
it.

Thus, it is not the intent of this section to claim rights or contest
your rights to work written entirely by you; rather, the intent is to
exercise the right to control the distribution of derivative or
collective works based on the Library.

In addition, mere aggregation of another work not based on the Library
with the Library (or with a work based on the Library) on a volume of
a storage or distribution medium does not bring the other work under
the scope of this License.

  3. You may opt to apply the terms of the ordinary GNU General Public
License instead of this License to a given copy of the Library.  To do
this, you must alter all the notices that refer to this License, so
that they refer to the ordinary GNU General Public License, version 2,
instead of to this License.  (If a newer version than version 2 of the
ordinary GNU General Public License has appeared, then you can specify
that version instead if you wish.)  Do not make any other change in
these notices.

  Once this change is made in a given copy, it is irreversible for
that copy, so the ordinary GNU General Public License applies to all
subsequent copies and derivative works made from that copy.

  This option is useful when you wish to copy part of the code of
the Library into a program that is not a library.

  4. You may copy and distribute the Library (or a portion or
derivative of it, under Section 2) in object code or executable form
under the terms of Sections 1 and 2 above provided that you accompany
it with the complete corresponding machine-readable source code, which
must be distributed under the terms of Sections 1 and 2 above on a
medium customarily used for software interchange.

  If distribution of object code is made by offering access to copy
from a designated place, then offering equivalent access to copy the
source code from the same place satisfies the requirement to
distribute the source code, even though third parties are not
compelled to copy the source along with the object code.

  5. A program that contains no derivative of any portion of the
Library, but is designed to work with the Library by being compiled or
linked with it, is called a "work that uses the Library".  Such a
work, in isolation, is not a derivative work of the Library, and
therefore falls outside the scope of this License.

  However, linking a "work that uses the Library" with the Library
creates an executable that is a derivative of the Library (because it
contains portions of the Library), rather than a "work that uses the
library".  The executable is therefore covered by this License.
Section 6 states terms for distribution of such executables.

  When a "work that uses the Library" uses material from a header file
that is part of the Library, the object code for the work may be a
derivative work of the Library even though the source code is not.
Whether this is true is especially significant if the work can be
linked without the Library, or if the work is itself a library.  The
threshold for this to be true is not precisely defined by law.

  If such an object file uses only numerical parameters, data
structure layouts and accessors, and small macros and small inline
functions (ten lines or less in length), then the use of the object
file is unrestricted, regardless of whether it is legally a derivative
work.  (Executables containing this object code plus portions of the
Library will still fall under Section 6.)

  Otherwise, if the work is a derivative of the Library, you may
distribute the object code for the work under the terms of Section 6.
Any executables containing that work also fall under Section 6,
whether or not they are linked directly with the Library itself.

  6. As an exception to the Sections above, you may also combine or
link a "work that uses the Library" with the Library to produce a
work containing portions of the Library, and distribute that work
under terms of your choice, provided that the terms permit
modification of the work for the customer's own use and reverse
engineering for debugging such modifications.

  You must give prominent notice with each copy of the work that the
Library is used in it and that the Library and its use are covered by
this License.  You must supply a copy of this License.  If the work
during execution displays copyright notices, you must include the
copyright notice for the Library among them, as well as a reference
directing the user to the copy of this License.  Also, you must do one
of these things:

    a) Accompany the work with the complete corresponding
    machine-readable source code for the Library including whatever
    changes were used in the work (which must be distributed under
    Sections 1 and 2 above); and, if the work is an executable linked
    with the Library, with the complete machine-readable "work that
    uses the Library", as object code and/or source code, so that the
    user can modify the Library and then relink to produce a modified
    executable containing the modified Library.  (It is understood
    that the user who changes the contents of definitions files in the
    Library will not necessarily be able to recompile the application
    to use the modified definitions.)

    b) Use a suitable shared library mechanism for linking with the
    Library.  A suitable mechanism is one that (1) uses at run time a
    copy of the library already present on the user's computer system,
    rather than copying library functions into the executable, and (2)
    will operate properly with a modified version of the library, if
    the user installs one, as long as the modified version is
    interface-compatible with the version that the work was made with.

    c) Accompany the work with a written offer, valid for at
    least three years, to give the same user the materials
    specified in Subsection 6a, above, for a charge no more
    than the cost of performing this distribution.

    d) If distribution of the work is made by offering access to copy
    from a designated place, offer equivalent access to copy the above
    specified materials from the same place.

    e) Verify that the user has already received a copy of these
    materials or that you have already sent this user a copy.

  For an executable, the required form of the "work that uses the
Library" must include any data and utility programs needed for
reproducing the executable from it.  However, as a special exception,
the materials to be distributed need not include anything that is
normally distributed (in either source or binary form) with the major
components (compiler, kernel, and so on) of the operating system on
which the executable runs, unless that component itself accompanies
the executable.

  It may happen that this requirement contradicts the license
restrictions of other proprietary libraries that do not normally
accompany the operating system.  Such a contradiction means you cannot
use both them and the Library together in an executable that you
distribute.

  7. You may place library facilities that are a work based on the
Library side-by-side in a single library together with other library
facilities not covered by this License, and distribute such a combined
library, provided that the separate distribution of the work based on
the Library and of the other library facilities is otherwise
permitted, and provided that you do these two things:

    a) Accompany the combined library with a copy of the same work
    based on the Library, uncombined with any other library
    facilities.  This must be distributed under the terms of the
    Sections above.

    b) Give prominent notice with the combined library of the fact
    that part of it is a work based on the Library, and explaining
    where to find the accompanying uncombined form of the same work.

  8. You may not copy, modify, sublicense, link with, or distribute
the Library except as expressly provided under this License.  Any
attempt otherwise to copy, modify, sublicense, link with, or
distribute the Library is void, and will automatically terminate your
rights under this License.  However, parties who have received copies,
or rights, from you under this License will not have their licenses
terminated so long as such parties remain in full compliance.

  9. You are not required to accept this License, since you have not
signed it.  However, nothing else grants you permission to modify or
distribute the Library or its derivative works.  These actions are
prohibited by law if you do not accept this License.  Therefore, by
modifying or distributing the Library (or any work based on the
Library), you indicate your acceptance of this License to do so, and
all its terms and conditions for copying, distributing or modifying
the Library or works based on it.

  10. Each time you redistribute the Library (or any work based on the
Library), the recipient automatically receives a license from the
original licensor to copy, distribute, link with or modify the Library
subject to these terms and conditions.  You may not impose any further
restrictions on the recipients' exercise of the rights granted herein.
You are not responsible for enforcing compliance by third parties with
this License.

  11. If, as a consequence of a court judgment or allegation of patent
infringement or for any other reason (not limited to patent issues),
conditions are imposed on you (whether by court order, agreement or
otherwise) that contradict the conditions of this License, they do not
excuse you from the conditions of this License.  If you cannot
distribute so as to satisfy simultaneously your obligations under this
License and any other pertinent obligations, then as a consequence you
may not distribute the Library at all.  For example, if a patent
license would not permit royalty-free redistribution of the Library by
all those who receive copies directly or indirectly through you, then
the only way you could satisfy both it and this License would be to
refrain entirely from distribution of the Library.

If any portion of this section is held invalid or unenforceable under any
particular circumstance, the balance of the section is intended to apply,
and the section as a whole is intended to apply in other circumstances.

It is not the purpose of this section to induce you to infringe any
patents or other property right claims or to contest validity of any
such claims; this section has the sole purpose of protecting the
integrity of the free software distribution system which is
implemented by public license practices.  Many people have made
generous contributions to the wide range of software distributed
through that system in reliance on consistent application of that
system; it is up to the author/donor to decide if he or she is willing
to distribute software through any other system and a licensee cannot
impose that choice.

This section is intended to make thoroughly clear what is believed to
be a consequence of the rest of this License.

  12. If the distribution and/or use of the Library is restricted in
certain countries either by patents or by copyrighted interfaces, the
original copyright holder who places the Library under this License may add
an explicit geographical distribution limitation excluding those countries,
so that distribution is permitted only in or among countries not thus
excluded.  In such case, this License incorporates the limitation as if
written in the body of this License.

  13. The Free Software Foundation may publish revised and/or new
versions of the Lesser General Public License from time to time.
Such new versions will be similar in spirit to the present version,
but may differ in detail to address new problems or concerns.

Each version is given a distinguishing version number.  If the Library
specifies a version number of this License which applies to it and
"any later version", you have the option of following the terms and
conditions either of that version or of any later version published by
the Free Software Foundation.  If the Library does not specify a
license version number, you may choose any version ever published by
the Free Software Foundation.

  14. If you wish to incorporate parts of the Library into other free
programs whose distribution conditions are incompatible with these,
write to the author to ask for permission.  For software which is
copyrighted by the Free Software Foundation, write to the Free
Software Foundation; we sometimes make exceptions for this.  Our
decision will be guided by the two goals of preserving the free status
of all derivatives of our free software and of promoting the sharing
and reuse of software generally.

			    NO WARRANTY

  15. BECAUSE THE LIBRARY IS LICENSED FREE OF CHARGE, THERE IS NO
WARRANTY FOR THE LIBRARY, TO THE EXTENT PERMITTED BY APPLICABLE LAW.
EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
OTHER PARTIES PROVIDE THE LIBRARY "AS IS" WITHOUT WARRANTY OF ANY
KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
PURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE
LIBRARY IS WITH YOU.  SHOULD THE LIBRARY PROVE DEFECTIVE, YOU ASSUME
THE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION.

  16. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN
WRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY
AND/OR REDISTRIBUTE THE LIBRARY AS PERMITTED ABOVE, BE LIABLE TO YOU
FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR
CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE
LIBRARY (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING
RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A
FAILURE OF THE LIBRARY TO OPERATE WITH ANY OTHER SOFTWARE), EVEN IF
SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH
DAMAGES.

		     END OF TERMS AND CONDITIONS

           How to Apply These Terms to Your New Libraries

  If you develop a new library, and you want it to be of the greatest
possible use to the public, we recommend making it free software that
everyone can redistribute and change.  You can do so by permitting
redistribution under these terms (or, alternatively, under the terms of the
ordinary General Public License).

  To apply these terms, attach the following notices to the library.  It is
safest to attach them to the start of each source file to most effectively
convey the exclusion of warranty; and each file should have at least the
"copyright" line and a pointer to where the full notice is found.

    <one line to give the library's name and a brief idea of what it does.>
    Copyright (C) <year>  <name of author>

    This library is free software; you can redistribute it and/or
    modify it under the terms of the GNU Lesser General Public
    License as published by the Free Software Foundation; either
    version 2.1 of the License, or (at your option) any later version.

    This library is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
    Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public
    License along with this library; if not, write to the Free Software
    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA

Also add information on how to contact you by electronic and paper mail.

You should also get your employer (if you work as a programmer) or your
school, if any, to sign a "copyright disclaimer" for the library, if
necessary.  Here is a sample; alter the names:

  Yoyodyne, Inc., hereby disclaims all copyright interest in the
  library `Frob' (a library for tweaking knobs) written by James Random Hacker.

  <signature of Ty Coon>, 1 April 1990
  Ty Coon, President of Vice

That's all there is to it!
-------------- next part --------------
Copyright (c) 1993-2007 the Wine project authors (see the file AUTHORS
for a complete list)

Wine is free software; you can redistribute it and/or modify it under
the terms of the GNU Lesser General Public License as published by the
Free Software Foundation; either version 2.1 of the License, or (at
your option) any later version. 

This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
Lesser General Public License for more details.

A copy of the GNU Lesser General Public License is included in the
Wine distribution in the file COPYING.LIB. If you did not receive this
copy, write to the Free Software Foundation, Inc., 51 Franklin St,
Fifth Floor, Boston, MA 02110-1301, USA.
From harbour.01 at syenar.hu  Thu Jun 19 05:13:08 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 19 05:13:13 2008
Subject: [Harbour] 2008-06-19 11:08 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d1ec$Blat.v2.6.2$b08dcff0$22f454c25898@127.0.0.1>

2008-06-19 11:08 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbtip/cgi.prg
   * contrib/hbtip/encoder.prg
   * contrib/hbtip/ftpcln.prg
   * contrib/hbtip/httpcln.prg
   * contrib/hbtip/mail.prg
   * contrib/hbtip/popcln.prg
   * contrib/hbtip/sendmail.prg
   * contrib/hbtip/sessid.prg
   * contrib/hbtip/smtpcln.prg
   * contrib/hbtip/thtml.prg
   * contrib/hbtip/url.prg
     * Some formatting, cleanups, <> -> !=

   * contrib/hbtip/sendmail.prg
     + hb_SendMail(): Added <cReplyTo> parameter.

   * contrib/hbtip/thtml.prg
     ! Removed five remaining _SET_EXACT dependent 
       string comparisons. Exact comparisons were 
       used for all these cases, with a NOTE added.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun 19 05:24:59 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 19 05:25:03 2008
Subject: [Harbour] 2008-06-19 11:23 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d1ee$Blat.v2.6.2$583ff5ec$224489f5025e@127.0.0.1>

2008-06-19 11:23 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtwvt/gtwvt.c
     ! Avoid using the "Windows" word in public message.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun 19 12:33:18 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 19 12:33:25 2008
Subject: [Harbour] 2008-06-19 18:26 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d22a$Blat.v2.6.2$2e39761a$27d8f2132122@127.0.0.1>

2008-06-19 18:26 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/examples/guestbk/guestbk.prg
   * contrib/examples/guestbk/inifiles.prg
   * contrib/examples/guestbk/testcgi.prg
   * contrib/examples/hscript/hscript.prg
   * contrib/examples/pe/editorhi.prg
   * contrib/gtwvg/tests/demowvg.prg
   * contrib/hbbtree/tests/test.prg
   * contrib/hbbtree/tests/ttest.prg
   * contrib/hbclipsm/tests/testgaug.prg
   * contrib/hbct/getinfo.prg
   * contrib/hbct/getinput.prg
   * contrib/hbct/getsecrt.prg
   * contrib/hbct/keytime.prg
   * contrib/hbct/numconv.prg
   * contrib/hbfbird/tfirebird.prg
   * contrib/hbgd/gd.prg
   * contrib/hbgd/gdbar.prg
   * contrib/hbgd/gdbarcod.prg
   * contrib/hbgd/gdimage.prg
   * contrib/hbgd/tests/animgif.prg
   * contrib/hbgd/tests/gdtest.prg
   * contrib/hbgd/tests/test_out.prg
   * contrib/hbgf/gtk/button.prg
   * contrib/hbgf/gtk/form.prg
   * contrib/hbgf/gtk/menuitem.prg
   * contrib/hbgf/gtk/winctrl.prg
   * contrib/hbgf/os2pm/button.prg
   * contrib/hbgf/os2pm/edit.prg
   * contrib/hbgf/os2pm/tform.prg
   * contrib/hbgf/os2pm/tmenu.prg
   * contrib/hbgf/os2pm/tmenuitm.prg
   * contrib/hbgf/tests/formtext.prg
   * contrib/hbgf/tests/testctrl.prg
   * contrib/hbgf/tests/testform.prg
   * contrib/hbgf/win32/button.prg
   * contrib/hbgf/win32/edit.prg
   * contrib/hbgf/win32/form.prg
   * contrib/hbgf/win32/menu.prg
   * contrib/hbgf/win32/menuitem.prg
   * contrib/hbhpdf/tests/harupdf.prg
   * contrib/hbmsql/tests/dbf2msql.prg
   * contrib/hbmsql/tmsql.prg
   * contrib/hbmysql/dbf2mysql.prg
   * contrib/hbmysql/tmysql.prg
   * contrib/hbmysql/tsqlbrw.prg
   * contrib/hbmzip/tests/myzip.prg
   * contrib/hbnf/aredit.prg
   * contrib/hbnf/calendar.prg
   * contrib/hbnf/clrsel.prg
   * contrib/hbnf/pending.prg
   * contrib/hbnf/sqzn.prg
   * contrib/hbnf/tbwhile.prg
   * contrib/hbnf/tests/test.prg
   * contrib/hbodbc/todbc.prg
   * contrib/hbpgsql/tests/dbf2pg.prg
   * contrib/hbpgsql/tpostgre.prg
   * contrib/hbsqlit2/tests/hbsqlite.prg
   * contrib/hbsqlit3/tests/sqlite3_test.prg
   * contrib/hbtpathy/telepath.prg
   * contrib/hbvpdf/hbvpdf.prg
   * contrib/hbvpdf/hbvpdft.prg
   * contrib/hbvpdf/tests/pdf_demo.prg
   * contrib/hbvpdf/tests/tstpdf.prg
   * contrib/hbw32/w32_tole.prg
   * contrib/hbw32/w32_tprn.prg
   * contrib/hbw32ddr/tests/testdx.prg
   * contrib/rddado/adordd.prg
   * contrib/rddado/tests/access2.prg
   * source/debug/debugger.prg
   * source/rdd/hbsix/sxini.prg
   * utils/hbdot/hbdot.prg
   * utils/hbextern/hbextern.prg
     * Cleanup.
       <>    -> != or !( == ) for strings
       if()  -> iif() (for inline, where noticed)
       ' = ' -> := or == for comparisons, or left as '=' in the few 
          rare cases where this was (probably) intended (sxini.prg).
       Excluded: most tests, hbnf, util/hbdoc, util/hbmake, hbwhat32, gtwvg, 
          hbvpdf has some difficult to judge '=' operators, so I left them.
     ! Fixed some _SET_EXACT dependencies in a few places.
     ; TODO: If possible, add a compile switch to catch these, as 
             it's not very easy using 'grep'.
--
Brgds,
Viktor

From dmacias at mail.udg.mx  Thu Jun 19 16:40:40 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Jun 19 16:40:34 2008
Subject: [Harbour] spd.c warning
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <485AC448.2060408@mail.udg.mx>

Current Harbour under OS/2

../../spd.c:173:1: warning: "/*" within comment

David Macias



From jarabal at ya.com  Thu Jun 19 22:07:48 2008
From: jarabal at ya.com (Javier)
Date: Thu Jun 19 22:08:02 2008
Subject: [Harbour] spd.c warning
In-Reply-To: <485AC448.2060408@mail.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<485AC448.2060408@mail.udg.mx>
Message-ID: <485B10F4.2070503@ya.com>

What? ... Ops. Sorry.
Please, change the line 173 by .-
...
*******************************************************************************/
...
Thanks David,

Is Everything else fine in OS / 2?

Best regards.
Xavi

David Arturo Macias Corona escribi?:
> Current Harbour under OS/2
>
> ../../spd.c:173:1: warning: "/*" within comment
>
> David Macias
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From harbour.01 at syenar.hu  Fri Jun 20 04:03:54 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 20 04:04:01 2008
Subject: [Harbour] 2008-06-20 09:59 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d2ac$Blat.v2.6.2$2f1c7582$d141f37e9f4@127.0.0.1>

2008-06-20 09:59 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbmisc/spd.c
     ! Fix for OS/2 warning.

   * contrib/examples/pe/editorhi.prg
   * contrib/examples/hscript/hscript.prg
     * Cleanups.

   * contrib/examples/hscript/bld_b32.bat
     ! Fixed to have hbzlib.lib
       [TOMERGE RC1]
--
Brgds,
Viktor

From dmacias at mail.udg.mx  Fri Jun 20 04:41:21 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Jun 20 04:41:17 2008
Subject: [Harbour] Re: spd.c warning
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <485B6D31.7060807@mail.udg.mx>

 >2008-06-20 09:59 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
 >   * contrib/hbmisc/spd.c
 >     ! Fix for OS/2 warning.

Thanks Viktor

Xavi:

 >Is Everything else fine in OS / 2?

Yes, build and run fine


David Macias




From dmacias at mail.udg.mx  Fri Jun 20 04:44:43 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Jun 20 04:44:35 2008
Subject: [Harbour] And binaries ?
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <485B6DFB.4010709@mail.udg.mx>

Now we have Harbour-RC1 tag, but not binaries

They will be created/released ?

David Macias





From mbelgrano at deltain.it  Fri Jun 20 05:11:30 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun 20 05:11:35 2008
Subject: [Harbour] Multi-Window GT - New Implementation
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED80@SRV02.deltain.net>
References: <17855569.post@talk.nabble.com><AB322654-7FB7-4E56-9008-EAD95D883431@syenar.hu><17857605.post@talk.nabble.com><687150B3-BD13-4EAC-AC2A-95EF87AA9FDD@syenar.hu><17864416.post@talk.nabble.com><AFB948164110ED43B5EB849E8DEEF03815ED6D@SRV02.deltain.net><17864861.post@talk.nabble.com><AFB948164110ED43B5EB849E8DEEF03815ED7F@SRV02.deltain.net><17983509.post@talk.nabble.com>
	<AFB948164110ED43B5EB849E8DEEF03815ED80@SRV02.deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED87@SRV02.deltain.net>

I have distributed My wvt application with upcoming "Multi-Window GT"
without modification
All have worked fine because I don't have received any information
regarding problem.
My compliment to Pritpal and to harbour team


From jarabal at ya.com  Fri Jun 20 06:17:50 2008
From: jarabal at ya.com (Javier)
Date: Fri Jun 20 06:18:19 2008
Subject: [Harbour] Re: spd.c warning
In-Reply-To: <485B6D31.7060807@mail.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<485B6D31.7060807@mail.udg.mx>
Message-ID: <485B83CE.2080005@ya.com>

David,

A question, could your help me to transfer a mere C function Win32 to OS/ 2?

Best regards.
Xavi

David Arturo Macias Corona escribi?:
> >2008-06-20 09:59 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
> >   * contrib/hbmisc/spd.c
> >     ! Fix for OS/2 warning.
>
> Thanks Viktor
>
> Xavi:
>
> >Is Everything else fine in OS / 2?
>
> Yes, build and run fine
>
>
> David Macias
>
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From philb at philb.us  Fri Jun 20 08:32:18 2008
From: philb at philb.us (Phil Barnett)
Date: Fri Jun 20 08:32:23 2008
Subject: [Harbour] And binaries ?
In-Reply-To: <485B6DFB.4010709@mail.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<485B6DFB.4010709@mail.udg.mx>
Message-ID: <200806200832.18238.philb@philb.us>

On Friday 20 June 2008 04:44:43 am David Arturo Macias Corona wrote:
> Now we have Harbour-RC1 tag, but not binaries
>
> They will be created/released ?

We will tag RC2 tomorrow unless we decide that there were no bugs in RC1.

Viktor,

You have made some changes to the rtl this week and I believe that means we 
should have RC2.

Opinions, anyone?

-- 
Waiting for sunspots.
From mbelgrano at deltain.it  Fri Jun 20 08:37:00 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun 20 08:37:11 2008
Subject: [Harbour] And binaries ?
In-Reply-To: <200806200832.18238.philb@philb.us>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx><485B6DFB.4010709@mail.udg.mx>
	<200806200832.18238.philb@philb.us>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED89@SRV02.deltain.net>

RC2 is good for me

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Phil Barnett
Sent: Friday, June 20, 2008 2:32 PM
To: harbour@harbour-project.org
Subject: Re: [Harbour] And binaries ?

On Friday 20 June 2008 04:44:43 am David Arturo Macias Corona wrote:
> Now we have Harbour-RC1 tag, but not binaries
>
> They will be created/released ?

We will tag RC2 tomorrow unless we decide that there were no bugs in
RC1.

Viktor,

You have made some changes to the rtl this week and I believe that means
we 
should have RC2.

Opinions, anyone?

-- 
Waiting for sunspots.
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From sscc at mweb.co.za  Fri Jun 20 08:41:28 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Jun 20 08:41:40 2008
Subject: [Harbour] And binaries ?
In-Reply-To: <200806200832.18238.philb@philb.us>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>	<485B6DFB.4010709@mail.udg.mx>
	<200806200832.18238.philb@philb.us>
Message-ID: <485BA578.3070103@mweb.co.za>

Phil Barnett wrote:

> Opinions, anyone?

Well, without distributing binaries via sourceforge I wonder how many 
people have bothered to test it?

Regards
Alex

From harbour.01 at syenar.hu  Fri Jun 20 08:51:40 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 20 08:51:43 2008
Subject: [Harbour] [RC1] 2008-06-20 14:49 UTC+0200 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8d2d4$Blat.v2.6.2$6215fecc$1be0156a6eee@127.0.0.1>

2008-06-20 14:49 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/examples/hscript/bld_b32.bat
     ! Fixed to have hbzlib.lib
       [RC1]

   * contrib/hbtip/common.mak
     ! Added missing sendmail.prg
       [RC1]

   * contrib/hbtip/tests/base64.prg
   * contrib/hbtip/tests/dbtohtml.prg
   * contrib/hbtip/tests/httpadv.prg
   * contrib/hbtip/tests/tipmail.prg
   * contrib/hbtip/tests/tipmmail.prg
   * contrib/hbtip/tests/tiptest.prg
     ! All tip tests fixed and tested to compile/link
       with Harbour.
     * Changed to not require hbw32.lib.
       [RC1]

   + contrib/hbtip/tests/test.dbf
     + Added for tests.
       [RC1]

   * source/rtl/gtclip.c
     ! hb_gt_w32_setClipboard() fix to CF_UNICODETEXT 
       EOS char setting.
       [RC1]

   * source/rtl/gtwvt/gtwvt.c
     + Now showing the application's executable name 
       in the window title on startup, instead of "Harbour WVT".
     * Window class name handling and control flow cleaned.
       [RC1]

   * tests/rto_get.prg
   * source/rtl/tget.prg
     ! Fixed TGet():assign() to pad character values 
       to the original length with the original content. 
       This also clears some existing differences in rto_get.prg.
     + Added regression test specifically for this.
       [RC1]

   * source/rtl/gtclip.c
     ! Added three LPWSTR casts to pacify warnings.

   * source/rtl/gtclip.c
     ! Fixed get/set clipboard when UNICODE is #defined.
       (WinCE mostly).
     ! Fixed get/set clipboard when format is CF_UNICODETEXT.
       (untested, please someone review me)
     ! Fixed get clipboard when CF_TEXT/CF_OEMTEXT format 
       is used, so that an additionaly zero byte won't be 
       appended anymore to the returned string.
       [RC1]

   * source/rtl/gtwvt/gtwvt.c
     * "HARBOUR_WVT" -> "Harbour WVT". This text is visible, 
       so it's better to make it "desktop friendlier"".
       [RC1]

   * contrib/hbmzip/hbmzip.ch
   * contrib/hbmzip/hbmzip.c
     + Added error codes to hbmzip.ch
     + Interface code changed to use manifest constants 
       instead of literals in a few places.
       [RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Jun 20 08:53:57 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 20 08:53:58 2008
Subject: [Harbour] 2008-06-20 14:49 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d2d4$Blat.v2.6.2$b422ac10$207031b0e8fe@127.0.0.1>

2008-06-20 14:49 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * ChangeLog
     + Marked changes merged with RC1.

   * include/hbgtinfo.ch
     ! Comment typo.
       [TOMERGE RC1]

   * contrib/hbtpathy/tplinux.c
   * contrib/hbtpathy/telepath.prg
     ! Moved some commented "inline" stuff to C level.
       [TOMERGE RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Jun 20 08:53:08 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 20 08:54:07 2008
Subject: [Harbour] And binaries ?
In-Reply-To: <200806200832.18238.philb@philb.us>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<485B6DFB.4010709@mail.udg.mx> <200806200832.18238.philb@philb.us>
Message-ID: <F666E1B8-CDA6-4A11-8FB7-46FC2FAD6E93@syenar.hu>

>
Hi Phil,

> On Friday 20 June 2008 04:44:43 am David Arturo Macias Corona wrote:
>> Now we have Harbour-RC1 tag, but not binaries
>>
>> They will be created/released ?
>
> We will tag RC2 tomorrow unless we decide that there were no bugs in  
> RC1.
>
> Viktor,
>
> You have made some changes to the rtl this week and I believe that  
> means we
> should have RC2.
>
> Opinions, anyone?

RC2 definitely (copied from the RC1 branch).

Brgds,
Viktor

From mbelgrano at deltain.it  Fri Jun 20 08:55:00 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun 20 08:55:12 2008
Subject: [Harbour] ChangeLog.* remerge
In-Reply-To: <88E69E40-2F60-4A2F-AC41-22105E941837@syenar.hu>
References: <47203AE3.4775@synel.co.il><474F3C77-8FAF-4417-B51B-19F77CB6452B@syenar.hu><AFB948164110ED43B5EB849E8DEEF03809AB0F@SRV02.deltain.net>
	<88E69E40-2F60-4A2F-AC41-22105E941837@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED8A@SRV02.deltain.net>

Will surive the idea of A scintilla API for Harbour?

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Thursday, October 25, 2007 11:04 AM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] ChangeLog.* remerge

notepad2 uses scintilla.

Such a simple text editor could be created as a simple
contrib (HBEDIT) using MEMOEDIT(). Or we have a program
named PE in /samples/pe/. (I plan to move this inside
contrib later)

A scintilla API for Harbour (in contrib) might be
great, if scintilla is user interface independent.

Another place where this may be good is to develop
a visual interface for Harbour, but that should be IMO
done as a separate project.

Brgds,
Viktor


From iozuniga at ozs.com  Fri Jun 20 09:06:00 2008
From: iozuniga at ozs.com (=?iso-8859-1?Q?Ignacio_Ortiz_de_Z=FA=F1iga?=)
Date: Fri Jun 20 09:06:53 2008
Subject: [Harbour] ChangeLog.* remerge
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED8A@SRV02.deltain.net>
Message-ID: <7cf7edf4.1c8d2d6.16122e4.18be@ozs.com>

Victor, 

>>Another place where this may be good is to develop
>>a visual interface for Harbour, but that should be IMO
>>done as a separate project.

Xailer team already has that tool COMPLETELY FREE for Harbour and xHarbour, at least for Windows platform. The editor is based on Scintilla. You may download it from this link:

http://www.xailer.com/files/xedit2.zip

It also includes a professional DBF and SQLite editor.

Best regards, 

Ignacio Ortiz de Z??iga
iozuniga@ozs.com



From mbelgrano at deltain.it  Fri Jun 20 09:06:51 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun 20 09:07:04 2008
Subject: [Harbour] HrbDemo by Pritpal can be interesting fro newbbies
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED8B@SRV02.deltain.net>

Hi Pritpal
I am refering to http://www.vouchcac.com/Harbour/Harbour.htm.
What do you think add to harbour contrib. in
c:\harbour\contrib\examples\ ?

Massimo Belgrano

From harbour.01 at syenar.hu  Fri Jun 20 09:09:26 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 20 09:09:32 2008
Subject: [Harbour] 2008-06-20 15:07 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d2d6$Blat.v2.6.2$ddbdd3fe$118c4224e4c@127.0.0.1>

2008-06-20 15:07 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtwvt/gtwvt.c
     ! Removed PutChar override. This was added along the 
       palette support, but I'm afraid we'll need to find 
       an alternative solution, as this change caused an 
       huge amount flickering on every screen update, 
       essentially nilling all screen change buffering 
       efforts.
     ; TOFIX: Solve realtime palette change in an 
              alternative way.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Jun 20 09:22:08 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 20 09:23:24 2008
Subject: [Harbour] And binaries ?
In-Reply-To: <485BA578.3070103@mweb.co.za>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>	<485B6DFB.4010709@mail.udg.mx>
	<200806200832.18238.philb@philb.us> <485BA578.3070103@mweb.co.za>
Message-ID: <CB2FE68B-BB81-4875-96B5-76A75DC86396@syenar.hu>

Well, is there anybody volunteering to create binaries?

Brgds,
Viktor

On 2008.06.20., at 14:41, Alex Strickland wrote:

> Phil Barnett wrote:
>
>> Opinions, anyone?
>
> Well, without distributing binaries via sourceforge I wonder how  
> many people have bothered to test it?
>
> Regards
> Alex
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Fri Jun 20 09:26:44 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun 20 09:26:53 2008
Subject: [Harbour] And binaries ?
In-Reply-To: <CB2FE68B-BB81-4875-96B5-76A75DC86396@syenar.hu>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>	<485B6DFB.4010709@mail.udg.mx><200806200832.18238.philb@philb.us>
	<485BA578.3070103@mweb.co.za>
	<CB2FE68B-BB81-4875-96B5-76A75DC86396@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED8C@SRV02.deltain.net>

I can for bcc
Where must be put?
Wich cflag must be used?

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Friday, June 20, 2008 3:22 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] And binaries ?

Well, is there anybody volunteering to create binaries?

Brgds,
Viktor

On 2008.06.20., at 14:41, Alex Strickland wrote:

> Phil Barnett wrote:
>
>> Opinions, anyone?
>
> Well, without distributing binaries via sourceforge I wonder how  
> many people have bothered to test it?
>
> Regards
> Alex
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Fri Jun 20 09:30:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 20 09:31:52 2008
Subject: [Harbour] ChangeLog.* remerge
In-Reply-To: <7cf7edf4.1c8d2d6.16122e4.18be@ozs.com>
References: <7cf7edf4.1c8d2d6.16122e4.18be@ozs.com>
Message-ID: <43D6FCCF-2B85-4C44-B263-9061E99B48BE@syenar.hu>

Hi Ignacio,

Long time no see :)

Nice job. What GUI lib did you use?

Did you try to compile it with current Harbour? is there anything
missing for it?

Brgds,
Viktor

On 2008.06.20., at 15:06, Ignacio Ortiz de Z??iga wrote:

> Victor,
>
>>> Another place where this may be good is to develop
>>> a visual interface for Harbour, but that should be IMO
>>> done as a separate project.
>
> Xailer team already has that tool COMPLETELY FREE for Harbour and  
> xHarbour, at least for Windows platform. The editor is based on  
> Scintilla. You may download it from this link:
>
> http://www.xailer.com/files/xedit2.zip
>
> It also includes a professional DBF and SQLite editor.
>
> Best regards,
>
> Ignacio Ortiz de Z??iga
> iozuniga@ozs.com
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Fri Jun 20 09:34:06 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun 20 09:34:13 2008
Subject: [Harbour] ChangeLog.* remerge
In-Reply-To: <7cf7edf4.1c8d2d6.16122e4.18be@ozs.com>
References: <AFB948164110ED43B5EB849E8DEEF03815ED8A@SRV02.deltain.net>
	<7cf7edf4.1c8d2d6.16122e4.18be@ozs.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED8D@SRV02.deltain.net>

Xedit is a very good tool
What Do you think about donate the make/compile/Build engine (text/console mode) for compile XPJ to harbour project?
So a XMAKE will replace hbmake and we can have good multiplatform project definition file like XPJ

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Ignacio Ortiz de Z??iga
Sent: Friday, June 20, 2008 3:06 PM
To: 'Harbour Project Main Developer List.'
Subject: RE: [Harbour] ChangeLog.* remerge

Victor, 

>>Another place where this may be good is to develop
>>a visual interface for Harbour, but that should be IMO
>>done as a separate project.

Xailer team already has that tool COMPLETELY FREE for Harbour and xHarbour, at least for Windows platform. The editor is based on Scintilla. You may download it from this link:

http://www.xailer.com/files/xedit2.zip

It also includes a professional DBF and SQLite editor.

Best regards, 

Ignacio Ortiz de Z??iga
iozuniga@ozs.com



_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Fri Jun 20 10:08:20 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 20 10:09:17 2008
Subject: [Harbour] And binaries ?
In-Reply-To: <200806200832.18238.philb@philb.us>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<485B6DFB.4010709@mail.udg.mx> <200806200832.18238.philb@philb.us>
Message-ID: <53C1F6F1-88A3-474D-A96E-7DA8ABFE4E83@syenar.hu>

Hi Phil,

Can you please name it harbour-0.9.9RC2?

Also, is there any way to rename the current
one from harbour-RC1 to harbour-0.9.9RC1?

Brgds,
Viktor

On 2008.06.20., at 14:32, Phil Barnett wrote:

> On Friday 20 June 2008 04:44:43 am David Arturo Macias Corona wrote:
>> Now we have Harbour-RC1 tag, but not binaries
>>
>> They will be created/released ?
>
> We will tag RC2 tomorrow unless we decide that there were no bugs in  
> RC1.
>
> Viktor,
>
> You have made some changes to the rtl this week and I believe that  
> means we
> should have RC2.
>
> Opinions, anyone?
>
> -- 
> Waiting for sunspots.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From miguelangel at marchuet.net  Fri Jun 20 10:30:45 2008
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Fri Jun 20 10:26:46 2008
Subject: [Harbour] 2008-06-20 16:23 UTC+0100 Miguel Angel Marchuet Frutos
	<miguelangel@marchuet.net>
Message-ID: <485BBF15.2060908@marchuet.net>

2008-06-20 16:23 UTC+0100 Miguel Angel Marchuet Frutos <miguelangel@marchuet.net>
    * contrib/hbziparch/zip.c
    * contrib/hbziparch/zipfile.cpp
    * contrib/hbziparch/zipnew.cpp
    * contrib/hbziparch/zipplatform.cpp
    * contrib/hbziparch/zipstorage.cpp
      * Synced with xharbour. Added relative paths capability, removed memory leaks and minor refinements.
      ( code aported by Juan Galvez )

Best regards,
Miguel Angel Marchuet
From sscc at mweb.co.za  Fri Jun 20 10:36:44 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Jun 20 10:36:58 2008
Subject: [Harbour] And binaries ?
In-Reply-To: <CB2FE68B-BB81-4875-96B5-76A75DC86396@syenar.hu>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>	<485B6DFB.4010709@mail.udg.mx>	<200806200832.18238.philb@philb.us>
	<485BA578.3070103@mweb.co.za>
	<CB2FE68B-BB81-4875-96B5-76A75DC86396@syenar.hu>
Message-ID: <485BC07C.6040603@mweb.co.za>

Szak?ts Viktor wrote:
> Well, is there anybody volunteering to create binaries?

Yes, I can do MSVC 6 and MSVC 8.

Regards
Alex
From harbour.01 at syenar.hu  Fri Jun 20 10:51:00 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 20 10:52:04 2008
Subject: RC1 file releases. Was: [Harbour] And binaries ?
In-Reply-To: <485BC07C.6040603@mweb.co.za>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>	<485B6DFB.4010709@mail.udg.mx>	<200806200832.18238.philb@philb.us>
	<485BA578.3070103@mweb.co.za>
	<CB2FE68B-BB81-4875-96B5-76A75DC86396@syenar.hu>
	<485BC07C.6040603@mweb.co.za>
Message-ID: <92C0D8C1-534B-452B-9A2E-77BE827F69AB@syenar.hu>

Great, I'll upload the .zip source to sf.net site ASAP.

Also a BCC55 build. I've made it simple by compiling
all existing contribs to the binary package. We may
refine the list in the future.

Okay, since sf.net's wiki subsystem seems to be down,
and because of this (or else) I cannot add files to
a release, here are the files on an external server:

http://www.syenar.hu/harbour/harbour-0.9.9RC1-src.zip
    [harbour-RC1 initial revision 8760]
http://www.syenar.hu/harbour/harbour-0.9.9RC1-win32-bcc55.zip
    [ C_USR=-OS -Ov -Oi -Oc -Q -tWM; PRG_USR=-l ]

Notice that I had to manually strip hbwhat32 from both
the source and the binary, due to the copyright problem.

And finally: I didn't create a release since long, so
I appreciate any comments or problem reports regarding
them. Thanks.

Brgds,
Viktor

On 2008.06.20., at 16:36, Alex Strickland wrote:

> Szak?ts Viktor wrote:
>> Well, is there anybody volunteering to create binaries?
>
> Yes, I can do MSVC 6 and MSVC 8.
>
> Regards
> Alex
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Jun 20 10:54:33 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 20 10:55:46 2008
Subject: RC1 file releases. Was: [Harbour] And binaries ?
In-Reply-To: <92C0D8C1-534B-452B-9A2E-77BE827F69AB@syenar.hu>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>	<485B6DFB.4010709@mail.udg.mx>	<200806200832.18238.philb@philb.us>
	<485BA578.3070103@mweb.co.za>
	<CB2FE68B-BB81-4875-96B5-76A75DC86396@syenar.hu>
	<485BC07C.6040603@mweb.co.za>
	<92C0D8C1-534B-452B-9A2E-77BE827F69AB@syenar.hu>
Message-ID: <37B56321-695B-4759-8093-0133DCB16F34@syenar.hu>

Ops, not 8760 is not initial, but current.

Anyway, let's make a rehearsal before RC2.

Brgds,
Viktor

On 2008.06.20., at 16:51, Szak?ts Viktor wrote:

> Great, I'll upload the .zip source to sf.net site ASAP.
>
> Also a BCC55 build. I've made it simple by compiling
> all existing contribs to the binary package. We may
> refine the list in the future.
>
> Okay, since sf.net's wiki subsystem seems to be down,
> and because of this (or else) I cannot add files to
> a release, here are the files on an external server:
>
> http://www.syenar.hu/harbour/harbour-0.9.9RC1-src.zip
>   [harbour-RC1 initial revision 8760]
> http://www.syenar.hu/harbour/harbour-0.9.9RC1-win32-bcc55.zip
>   [ C_USR=-OS -Ov -Oi -Oc -Q -tWM; PRG_USR=-l ]
>
> Notice that I had to manually strip hbwhat32 from both
> the source and the binary, due to the copyright problem.
>
> And finally: I didn't create a release since long, so
> I appreciate any comments or problem reports regarding
> them. Thanks.
>
> Brgds,
> Viktor
>
> On 2008.06.20., at 16:36, Alex Strickland wrote:
>
>> Szak?ts Viktor wrote:
>>> Well, is there anybody volunteering to create binaries?
>>
>> Yes, I can do MSVC 6 and MSVC 8.
>>
>> Regards
>> Alex
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>

From e.m.giordano at emagsoftware.it  Fri Jun 20 11:48:00 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Jun 20 11:48:05 2008
Subject: [Harbour] Errors
Message-ID: <9410383962C54EEF91030992BCB49A8B@emag>

.\telepath.prg(587) Error E0011  ENDDO does not match WHILE

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic
From mbelgrano at deltain.it  Fri Jun 20 12:01:20 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun 20 12:01:36 2008
Subject: [Harbour] hbwhat32 & copyrights
In-Reply-To: <200806182143.30965.philb@philb.us>
References: <F848EA6C-CEF9-4D35-B812-3D76DE2B94D7@syenar.hu>
	<200806182143.30965.philb@philb.us>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED8E@SRV02.deltain.net>

IS HARBOUR copyright released by Windows Template Library - WTL?
http://en.wikipedia.org/wiki/Windows_Template_Library
http://sourceforge.net/projects/wtl

Microsoft Releases Source Code for Windows Template Library. The company frees the code under the open-source Common Public License and posts it on SourceForge, saying the move will make WTL no longer just something its users consume "but rather something they can pick up and modify."
http://www.eweek.com/c/a/Windows/Microsoft-Releases-Source-Code-for-Windows-Template-Library/

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Phil Barnett
Sent: Thursday, June 19, 2008 3:44 AM
To: harbour@harbour-project.org
Subject: Re: [Harbour] hbwhat32 & copyrights

On Wednesday 18 June 2008 04:19:36 pm Szak?ts Viktor wrote:

> Unless of course someone confirms that MS copyrighted files
> in our repository are okay.

No, definitely not OK.

-- 
Waiting for sunspots.
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Fri Jun 20 11:57:33 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 20 12:12:33 2008
Subject: [Harbour] 2008-06-20 17:56 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d2ee$Blat.v2.6.2$5a1bcd40$18f0a8c3b516@127.0.0.1>

2008-06-20 17:56 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbtpathy/telepath.prg
     ! Fixed embedded comments.
--
Brgds,
Viktor

From e.m.giordano at emagsoftware.it  Fri Jun 20 12:24:24 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Jun 20 12:24:28 2008
Subject: [Harbour] Errors
Message-ID: <AAC9CFDEEEC944D598B39783061554CB@emag>

Error E2141 .\_winfont.c 299: Declaration syntax error in function 
HB_FUN_GETFONTDATA

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Fri Jun 20 12:24:35 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Jun 20 12:24:41 2008
Subject: [Harbour] 2008-06-20 17:56 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
References: <01c8d2ee$Blat.v2.6.2$5a1bcd40$18f0a8c3b516@127.0.0.1>
Message-ID: <99781041F70F45CC98CB6ABDBDEF64B9@emag>


-----Messaggio Originale----- 
Da: "Szak?ts Viktor" <harbour.01@syenar.hu>
A: <harbour@harbour-project.org>
Data invio: venerd? 20 giugno 2008 17.57
Oggetto: [Harbour] 2008-06-20 17:56 UTC+0200 Viktor Szakats 
(harbour.01syenar hu)


> 2008-06-20 17:56 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>   * contrib/hbtpathy/telepath.prg
>     ! Fixed embedded comments.

Thank you!

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From rportnoff at spendmap.com  Fri Jun 20 13:10:35 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Fri Jun 20 13:09:25 2008
Subject: [Harbour] "Harbour exception"
Message-ID: <B0081384742@ms1.3peaks.com>

Hi all,

Should the title of the pop-up window used when a GPF occurs be 
changed from "Harbour exception" to "Application exception".

The term "Harbour" may confuse users since they have no idea what Harbour is.

Regards,
Randy.


From bedipritpal at hotmail.com  Fri Jun 20 14:26:06 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Jun 20 14:26:10 2008
Subject: [Harbour] HrbDemo by Pritpal can be interesting fro newbbies
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED8B@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ED8B@SRV02.deltain.net>
Message-ID: <18035039.post@talk.nabble.com>


Hi Massimo


Massimo Belgrano-3 wrote:
> 
> I am refering to http://www.vouchcac.com/Harbour/Harbour.htm.
> What do you think add to harbour contrib. in
> c:\harbour\contrib\examples\ ?
> 

This demo I posted some 6 years back and a lot has been changed since then.

Presently it is probably out of relevance. However if you find time and can
compile
those sources with current Harbour, you can place it into examples.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HrbDemo-by-Pritpal-can-be-interesting-fro-newbbies-tp18029171p18035039.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Jun 20 14:54:03 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 20 14:55:00 2008
Subject: [Harbour] "Harbour exception"
In-Reply-To: <B0081384742@ms1.3peaks.com>
References: <B0081384742@ms1.3peaks.com>
Message-ID: <B8FB61A1-1766-492C-A1AE-4B569E66907C@syenar.hu>

Hi Randy,

Good point.

I'll correct these later.

Maybe we have such strings in other places, too,
so if you know about any of them pls tell.

Brgds,
Viktor

On 2008.06.20., at 19:10, Randy Portnoff wrote:

> Hi all,
>
> Should the title of the pop-up window used when a GPF occurs be  
> changed from "Harbour exception" to "Application exception".
>
> The term "Harbour" may confuse users since they have no idea what  
> Harbour is.
>
> Regards,
> Randy.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Jun 20 15:02:54 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 20 15:03:59 2008
Subject: [Harbour] hbwhat32 & copyrights
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED8E@SRV02.deltain.net>
References: <F848EA6C-CEF9-4D35-B812-3D76DE2B94D7@syenar.hu>
	<200806182143.30965.philb@philb.us>
	<AFB948164110ED43B5EB849E8DEEF03815ED8E@SRV02.deltain.net>
Message-ID: <7251E406-0E6E-4318-9D26-3AC4FA160192@syenar.hu>

This seems to be a layer above the Windows API, so
it's not good for hbwhat32.

See its include files here:
http://wtl.svn.sourceforge.net/viewvc/wtl/trunk/wtl/include/

The hbwhat32 problem seems very easy to resolve, all it
takes is grabbing a GPL source for those include files
(I've proposed two of them), and convert them using the
same tools as were used for converting the Microsoft
files to .ch. This converter is proprietary though, and
I don't have it.

At least that's what the comments in these files suggest.

It would be good to hear Pritpal's opinion on this.
(Are you here?)

Brgds,
Viktor

On 2008.06.20., at 18:01, Massimo Belgrano wrote:

> IS HARBOUR copyright released by Windows Template Library - WTL?
> http://en.wikipedia.org/wiki/Windows_Template_Library
> http://sourceforge.net/projects/wtl
>
> Microsoft Releases Source Code for Windows Template Library. The  
> company frees the code under the open-source Common Public License  
> and posts it on SourceForge, saying the move will make WTL no longer  
> just something its users consume "but rather something they can pick  
> up and modify."
> http://www.eweek.com/c/a/Windows/Microsoft-Releases-Source-Code-for-Windows-Template-Library/
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Phil Barnett
> Sent: Thursday, June 19, 2008 3:44 AM
> To: harbour@harbour-project.org
> Subject: Re: [Harbour] hbwhat32 & copyrights
>
> On Wednesday 18 June 2008 04:19:36 pm Szak?ts Viktor wrote:
>
>> Unless of course someone confirms that MS copyrighted files
>> in our repository are okay.
>
> No, definitely not OK.
>
> -- 
> Waiting for sunspots.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From rportnoff at spendmap.com  Fri Jun 20 15:11:42 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Fri Jun 20 15:10:27 2008
Subject: [Harbour] "Harbour exception"
In-Reply-To: <B8FB61A1-1766-492C-A1AE-4B569E66907C@syenar.hu>
References: <B0081384742@ms1.3peaks.com>
	<B8FB61A1-1766-492C-A1AE-4B569E66907C@syenar.hu>
Message-ID: <B0081387386@ms1.3peaks.com>

Hi Viktor,

I searched all C/PRG source and all H/CH headers and could not find 
any others that apply.

Regards,
Randy.

At 02:54 PM 6/20/2008, you wrote:
>Hi Randy,
>
>Good point.
>
>I'll correct these later.
>
>Maybe we have such strings in other places, too,
>so if you know about any of them pls tell.
>
>Brgds,
>Viktor
>
>On 2008.06.20., at 19:10, Randy Portnoff wrote:
>
>>Hi all,
>>
>>Should the title of the pop-up window used when a GPF occurs be
>>changed from "Harbour exception" to "Application exception".
>>
>>The term "Harbour" may confuse users since they have no idea what
>>Harbour is.
>>
>>Regards,
>>Randy.
>>
>>
>>_______________________________________________
>>Harbour mailing list
>>Harbour@harbour-project.org
>>http://lists.harbour-project.org/mailman/listinfo/harbour
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From harbour.01 at syenar.hu  Fri Jun 20 15:19:06 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 20 15:19:09 2008
Subject: [Harbour] 2008-06-20 21:16 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d30a$Blat.v2.6.2$8231e1e0$1e88558a8c10@127.0.0.1>

2008-06-20 21:16 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtwvt/gtwvt.c
     + Refreshing whole screen after palette change.
       This replaces the previous method which had some 
       side effects.

   * source/vm/fm.c
   * source/vm/extrap.c
     * Changed "Harbour" to "Application" in user visible 
       screen/log messages.

   * contrib/hbwhat32/_winfont.c
     ! Fixed typo in previous commit.
--
Brgds,
Viktor

From dmacias at mail.udg.mx  Fri Jun 20 15:58:04 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Jun 20 15:57:57 2008
Subject: [Harbour] Re: spd.c warning
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <485C0BCC.7090605@mail.udg.mx>

Xavi:

 >A question, could your help me to transfer a mere C function Win32 to
 >OS/ 2?

I do not know C, but I can help compiling/testing

What do you try to do ?

David Macias

From bedipritpal at hotmail.com  Fri Jun 20 16:23:18 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Jun 20 16:23:22 2008
Subject: [Harbour] 2008-06-20 13:25 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <18036775.post@talk.nabble.com>


2008-06-20 13:25 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
   * contrib/hbwhat32/winuser.ch
     ! Clean to confirm to .CH specifications.
       Formatting.
     ; Let me know if this cleanup fixes the Copyright issue.
       If it is alright then I will cleanup all other .CHs.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-20-13%3A25-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp18036775p18036775.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From e.m.giordano at emagsoftware.it  Fri Jun 20 17:35:23 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Jun 20 17:35:28 2008
Subject: [Harbour] 2008-06-20 21:16 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
References: <01c8d30a$Blat.v2.6.2$8231e1e0$1e88558a8c10@127.0.0.1>
Message-ID: <5565DB17C0DD45478CAF1FE8DB3AC48E@emag>


-----Messaggio Originale----- 
Da: "Szak?ts Viktor" <harbour.01@syenar.hu>
A: <harbour@harbour-project.org>
Data invio: venerd? 20 giugno 2008 21.19
Oggetto: [Harbour] 2008-06-20 21:16 UTC+0200 Viktor Szakats 
(harbour.01syenar hu)


> 2008-06-20 21:16 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>   * source/rtl/gtwvt/gtwvt.c
>     + Refreshing whole screen after palette change.
>       This replaces the previous method which had some
>       side effects.
>
>   * source/vm/fm.c
>   * source/vm/extrap.c
>     * Changed "Harbour" to "Application" in user visible
>       screen/log messages.
>
>   * contrib/hbwhat32/_winfont.c
>     ! Fixed typo in previous commit.

Thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Fri Jun 20 17:54:00 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 20 17:54:56 2008
Subject: [Harbour] 2008-06-20 13:25 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <18036775.post@talk.nabble.com>
References: <18036775.post@talk.nabble.com>
Message-ID: <BF69DC39-ECCB-4D50-960B-E6FFC518CE01@syenar.hu>

Hi Pritpal,

Well, you deleted the copyright message and
some comments, but it's obviously the same file.
So if you ask me, this don't resolve the problem.

This is from the beginning of the file:

"Automatically translated from winuser.h by
hConvert.EXE (Copyright PC Wise Technology) AJ Wos
(andrwos@global.co.za) 1998-2000. ..."

Can't you kindly ask Andy Wos, to take the
same files from MINGW/WINE (did you check these?)
and convert them the same way?

This would solve the problem.

Brgds,
Viktor

On 2008.06.20., at 22:23, Pritpal Bedi wrote:

>
> 2008-06-20 13:25 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * contrib/hbwhat32/winuser.ch
>     ! Clean to confirm to .CH specifications.
>       Formatting.
>     ; Let me know if this cleanup fixes the Copyright issue.
>       If it is alright then I will cleanup all other .CHs.
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/2008-06-20-13%3A25-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp18036775p18036775.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Fri Jun 20 19:27:20 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Jun 20 19:27:26 2008
Subject: [Harbour] 2008-06-20 16:25 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <18039094.post@talk.nabble.com>


2008-06-20 16:25 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
   * contrib/hbwhat32/winuser.ch
     ! Pulled from MinGW distribution.
     ; HbWhat32 compiles fine but I have seen a lot of contradictions
       in the header. Anybody using hbwhat32 needs to test it 
       properly. May be in normal usage this is OK.  

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-20-16%3A25-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp18039094p18039094.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Jun 21 01:55:35 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 01:56:30 2008
Subject: [Harbour] 2008-06-20 16:25 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <18039094.post@talk.nabble.com>
References: <18039094.post@talk.nabble.com>
Message-ID: <6CB11A96-5960-4DA2-873E-6F445DC85EDA@syenar.hu>

Hi Pritpal,

This looks good, thanks.

Could you also reconvert these:
commctrl.ch
commdlg.ch
wingdi.ch

Brgds,
Viktor

On 2008.06.21., at 1:27, Pritpal Bedi wrote:

>
> 2008-06-20 16:25 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * contrib/hbwhat32/winuser.ch
>     ! Pulled from MinGW distribution.
>     ; HbWhat32 compiles fine but I have seen a lot of contradictions
>       in the header. Anybody using hbwhat32 needs to test it
>       properly. May be in normal usage this is OK.
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/2008-06-20-16%3A25-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp18039094p18039094.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Jun 21 04:08:12 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 04:09:10 2008
Subject: [Harbour] Repository and sf.net changes
Message-ID: <D136A4C5-DA7D-426D-9B41-29A29BBA665F@syenar.hu>

Hi all,

Some things I've done on the repository and Sourceforge
page:

- sf.net: Released RC1 r8760 source .zip
- sf.net: Released RC1 r8760 win32-bcc55 binary .zip
  [C_USR=-OS -Ov -Oi -Oc -Q -tWM; PRG_USR=-l]
- sf.net: Wiki enabled

- SVN: Renamed /trunk/harbour-RC1 -> /trunk/harbour0.9.9RC1
- SVN: Removed /trunk/CVSROOT
- SVN: Removed /tags/a
- SVN: Removed /tags/mauriliolongo
- SVN: Removed /branches/b
- SVN: Renamed (server-side) /branches/build31a -> /tags/build31a
- SVN: Renamed (server-side) /branches/build31 -> /tags/build31
- SVN: Renamed (server-side) /branches/beta1 -> /tags/beta1

NOTE1: The RC1 release is not perfect, but I plan to do
the right one as soon as we release RC2 (based on RC1).

NOTE2: I hope this version of this mail will make it to
the list, the bare one didn't.

--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 21 04:01:33 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 04:09:16 2008
Subject: [Harbour] SVN/sf.net Changelogs
Message-ID: <50E89A06-5E61-4C95-B6A4-2681F0F48256@syenar.hu>

- sf.net: Released RC1 r8760 source .zip
- sf.net: Released RC1 r8760 win32-bcc55 binary .zip
   [C_USR=-OS -Ov -Oi -Oc -Q -tWM; PRG_USR=-l]
- sf.net: Wiki enabled

- SVN: Renamed /trunk/harbour-RC1 -> /trunk/harbour0.9.9RC1
- SVN: Removed /trunk/CVSROOT
- SVN: Removed /tags/a
- SVN: Removed /tags/mauriliolongo
- SVN: Removed /branches/b
- SVN: Renamed (server-side) /branches/build31a -> /tags/build31a
- SVN: Renamed (server-side) /branches/build31 -> /tags/build31
- SVN: Renamed (server-side) /branches/beta1 -> /tags/beta1

--
Brgds,
Viktor

From philb at philb.us  Sat Jun 21 04:26:57 2008
From: philb at philb.us (Phil Barnett)
Date: Sat Jun 21 04:27:01 2008
Subject: [Harbour] And binaries ?
In-Reply-To: <CB2FE68B-BB81-4875-96B5-76A75DC86396@syenar.hu>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<485BA578.3070103@mweb.co.za>
	<CB2FE68B-BB81-4875-96B5-76A75DC86396@syenar.hu>
Message-ID: <200806210426.57843.philb@philb.us>

On Friday 20 June 2008 09:22:08 am Szak?ts Viktor wrote:
> Well, is there anybody volunteering to create binaries?

Might as well tag RC2 and build them. There are hundreds of changes from RC1.

-- 
Waiting for sunspots.
From philb at philb.us  Sat Jun 21 04:28:25 2008
From: philb at philb.us (Phil Barnett)
Date: Sat Jun 21 04:28:28 2008
Subject: [Harbour] And binaries ?
In-Reply-To: <53C1F6F1-88A3-474D-A96E-7DA8ABFE4E83@syenar.hu>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<200806200832.18238.philb@philb.us>
	<53C1F6F1-88A3-474D-A96E-7DA8ABFE4E83@syenar.hu>
Message-ID: <200806210428.25544.philb@philb.us>

On Friday 20 June 2008 10:08:20 am Szak?ts Viktor wrote:
> Hi Phil,
>
> Can you please name it harbour-0.9.9RC2?
>
> Also, is there any way to rename the current
> one from harbour-RC1 to harbour-0.9.9RC1?

This is the release candidate for 1.0.0, thus it is named 1.0.0 RCn

This is how most projects do it.

-- 
Waiting for sunspots.
From philb at philb.us  Sat Jun 21 04:31:06 2008
From: philb at philb.us (Phil Barnett)
Date: Sat Jun 21 04:31:10 2008
Subject: [Harbour] Repository and sf.net changes
In-Reply-To: <D136A4C5-DA7D-426D-9B41-29A29BBA665F@syenar.hu>
References: <D136A4C5-DA7D-426D-9B41-29A29BBA665F@syenar.hu>
Message-ID: <200806210431.06884.philb@philb.us>

On Saturday 21 June 2008 04:08:12 am Szak?ts Viktor wrote:
> - SVN: Renamed /trunk/harbour-RC1 -> /trunk/harbour0.9.9RC1

This is wrong. We are working on the release candidate for 1.0.0 and should be 
named that.

-- 
Waiting for sunspots.
From harbour.01 at syenar.hu  Sat Jun 21 05:36:31 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 05:37:29 2008
Subject: [Harbour] Repository and sf.net changes
In-Reply-To: <200806210431.06884.philb@philb.us>
References: <D136A4C5-DA7D-426D-9B41-29A29BBA665F@syenar.hu>
	<200806210431.06884.philb@philb.us>
Message-ID: <67B04916-5A15-40F9-B699-A878D57AFFCF@syenar.hu>

Yes, I agree with 1.0.0RCn.

I was wondering why did we use 0.9.9.

Great that now I have to redo everything.

Brgds,
Viktor

On 2008.06.21., at 10:31, Phil Barnett wrote:

> On Saturday 21 June 2008 04:08:12 am Szak?ts Viktor wrote:
>> - SVN: Renamed /trunk/harbour-RC1 -> /trunk/harbour0.9.9RC1
>
> This is wrong. We are working on the release candidate for 1.0.0 and  
> should be
> named that.
>
> -- 
> Waiting for sunspots.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Jun 21 05:48:13 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 05:48:14 2008
Subject: [Harbour] 2008-06-21 11:44 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d383$Blat.v2.6.2$ebe2665e$b4c2d12544e@127.0.0.1>

2008-06-21 11:44 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * harbour-ce-spec
   * harbour-w32-spec
   * doc/whatsnew.txt
     ! Fixed version to be 1.0.0 RC1
       [TOMERGE RC1]

   * ChangeLog
     ! Marked a few changes as [TOMERGE RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 21 06:06:58 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 06:07:09 2008
Subject: [Harbour] [RC1] 2008-06-21 12:00 UTC+0200 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <01c8d386$Blat.v2.6.2$8aa69cf4$b98adf9984c@127.0.0.1>

2008-06-21 12:00 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * harbour-ce-spec
   * harbour-w32-spec
   * doc/whatsnew.txt
     ! Fixed version to be 1.0.0 RC1
       [1.0.0RC1]

   * contrib/hbwhat32/winuser.ch
     ! Pulled from MinGW distribution.
     ; HbWhat32 compiles fine but I have seen a lot of contradictions
       in the header. Anybody using hbwhat32 needs to test it 
       properly. May be in normal usage this is OK.  
       [1.0.0RC1]

   * contrib/hbtpathy/telepath.prg
     ! Fixed embedded comments.
       [1.0.0RC1]

   * contrib/hbziparch/zip.c
   * contrib/hbziparch/zipfile.cpp
   * contrib/hbziparch/zipnew.cpp
   * contrib/hbziparch/zipplatform.cpp
   * contrib/hbziparch/zipstorage.cpp
     * Synced with xharbour. Added relative paths capability, removed memory leaks and minor refinements.
     ( code aported by Juan Galvez )
       [1.0.0RC1]

   * include/hbgtinfo.ch
     ! Comment typo.
       [1.0.0RC1]

   * contrib/hbtpathy/tplinux.c
   * contrib/hbtpathy/telepath.prg
     ! Moved some commented "inline" stuff to C level.
       [1.0.0RC1]

  * Set version in harbour.spec to 1.0.0-RC1
  * Set version in include/hbver.h to 1.0.0-RC1
       [1.0.0RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 21 06:10:04 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 06:10:06 2008
Subject: [Harbour] 2008-06-21 12:00 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d386$Blat.v2.6.2$f9924410$22389f8d1b6@127.0.0.1>

2008-06-21 12:00 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * ChangeLog
     + Marked changes merged with 1.0.0RC1.
     * RC1 markings renamed to 1.0.0RC1.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 21 06:31:14 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 06:31:16 2008
Subject: [Harbour] [1.0.0RC1] 2008-06-21 12:29 UTC+0200 Viktor Szakats
 (harbour.01 syenar hu)
Message-ID: <01c8d389$Blat.v2.6.2$ee560cfa$1cf0a96ec7ce@127.0.0.1>

2008-06-21 12:29 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * xhb/Makefile
   * xhb/common.mak
   + xhb/freadlin.c
     + Adopted HB_FREADLINE().
       Work of Marcelo Lombardo / xhb.
     ! Fixed one potential leak (probably not exploited 
       by current control flow).
     ; Please test.
       [1.0.0RC1]

2008-06-10 16:06 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
   + contrib/xhb/hbcrypt.c
   + contrib/xhb/hbnxs.h
   * contrib/xhb/Makefile
   * contrib/xhb/common.mak
     + Added HB_CRYPT()/HB_DECRYPT().
       Thanks to Giancarlo Niccolai / xhb.
     + Changed to not depend on hbzlib.
     ; Minor modifications to compile smoothly in Harbour.
       [1.0.0RC1]
--
Brgds,
Viktor

From mbelgrano at deltain.it  Sat Jun 21 09:24:43 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun 21 09:24:52 2008
Subject: [Harbour] 2008-06-20 16:25 UTC+0800 Pritpal
	Bedi(pritpal@vouchcac.com)
In-Reply-To: <6CB11A96-5960-4DA2-873E-6F445DC85EDA@syenar.hu>
References: <18039094.post@talk.nabble.com>
	<6CB11A96-5960-4DA2-873E-6F445DC85EDA@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED92@SRV02.deltain.net>

Is not better wait for rc1 in contrib for this files?

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Saturday, June 21, 2008 7:56 AM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] 2008-06-20 16:25 UTC+0800 Pritpal Bedi(pritpal@vouchcac.com)

Hi Pritpal,

This looks good, thanks.

Could you also reconvert these:
commctrl.ch
commdlg.ch
wingdi.ch

Brgds,
Viktor

On 2008.06.21., at 1:27, Pritpal Bedi wrote:

>
> 2008-06-20 16:25 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * contrib/hbwhat32/winuser.ch
>     ! Pulled from MinGW distribution.
>     ; HbWhat32 compiles fine but I have seen a lot of contradictions
>       in the header. Anybody using hbwhat32 needs to test it
>       properly. May be in normal usage this is OK.
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/2008-06-20-16%3A25-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp18039094p18039094.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Sat Jun 21 10:34:28 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 10:35:19 2008
Subject: [Harbour] 2008-06-21 16:22 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d3ab$Blat.v2.6.2$e909b9fa$22e8a23b7ebe@127.0.0.1>

2008-06-21 16:22 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbfbird/firebird.c
     ! Fixed two bugs signaled by GCC 4.30.

   * contrib/hbziparch/hbcomprs.c
   * contrib/hbziparch/zip.c
   * contrib/hbziparch/ziparchive.cpp
   * contrib/hbziparch/include/zip.h
   * contrib/hbziparch/include/ziparchive.h
   * contrib/hbziparch/include/unzip.h
   * contrib/hbziparch/include/zipinternalinfo.h
   - contrib/hbziparch/include/hbcomprs.h
   - contrib/hbziparch/include/zutil.h
   - contrib/hbziparch/include/zconf.h
     ! Stripped an old version (1.1.4) of ZLIB embedded in this 
       contrib. Some warnings and even more security problems 
       fixed this way. Users of this lib should link hbzlib.lib 
       from now on.
     ! Fixed some warnings after recent update.
       NOTE: One is still there (unused ..HBZIPCLEANUP function).
     ; NOTE: The quality of this code is not up to Harbour 
             standard. It compiles with a large amount of warnings 
             on all (BCC, MSVC, GCC) compilers. Also the included 
             ziparch source is dated.
             Anybody volunteering to clear these up?
     ; NOTE: Please test these changes, I'm not a user of this 
             contrib.
       [TOMERGE 1.0.0RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 21 11:27:14 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 11:27:16 2008
Subject: [Harbour] 2008-06-21 17:23 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d3b3$Blat.v2.6.2$485a97c4$24d4849b5e00@127.0.0.1>

2008-06-21 17:23 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbw32ddr/Makefile
     ! Fixed to compile with GNU make.
     ! Found a way to compile with MingW.
       [TOMERGE 1.0.0RC1]

   * contrib/hbtpathy/Makefile
     ! Fixed to work at all.
       [TOMERGE 1.0.0RC1]

   * contrib/Makefile
   * contrib/gtwvg/Makefile
   * contrib/hbbmcdx/Makefile
   * contrib/hbodbc/Makefile
   * contrib/hbtip/Makefile
   * contrib/hbw32/Makefile
   * contrib/hbw32ddr/Makefile
   * contrib/hbwhat32/Makefile
   * contrib/rddads/Makefile
     + Platform/compiler checks moved to the contrib level 
       Makefiles instead of being in /contrib/Makefile.
       This way it's modular, anyone can easily find out 
       any platform/compiler dependencies and the central 
       Makefile is easier to manage since it's global for all 
       platforms/compilers.
       As a side effect HB_WITHOUT_ODBC, HB_WITHOUT_ADS now 
       behaves similarly on all platforms.
     ; Work in progress. The goal is to be safe to include 
       all contribs in /contrib/Makefile.

   - contrib/hbw32ddr/w32_ddrw.h
   * contrib/hbw32ddr/w32_ddrw.cpp
     * Cleanups, removing unneeded fluffs.
       [TOMERGE 1.0.0RC1]

   * contrib/hbziparch/make_b32_dll.mak
     - Removed many unneeded command line switches.
     ; This make file should better be standardized.

   * contrib/hbziparch/Makefile
     - Removed many unneeded command line switches.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 21 12:00:41 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 12:00:42 2008
Subject: [Harbour] 2008-06-21 17:58 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d3b7$Blat.v2.6.2$f441818e$bdcfeeebf30@127.0.0.1>

2008-06-21 17:58 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/Makefile
   - contrib/hbgf/gtk
   - contrib/hbgf/os2pm
   - contrib/hbgf/win32
   + contrib/hbgf/hbgfw32
   + contrib/hbgf/hbgfos2
   + contrib/hbgf/hbgfgtk
   + contrib/hbgf/Makefile
   * contrib/hbgf/hbgfos2/Makefile
     + Decentralized GNU make for these contribs.
     * Renamed according to stds.
     ! Fix to be built under Linux/Win32.
       (if they don't work they should be fixed/disabled locally)

   * contrib/Makefile
   * contrib/hbodbc/Makefile
   * contrib/hbw32/Makefile
   * contrib/rddado/Makefile
     * Further decentralization of contrib building decisions.
     + Added all existing contribs to the list. Separated into 
       two sections: standalone contribs, and ones with external 
       dependencies.
     ; TODO: Refine this by some clever commenting.
             This is a multiplatform issue, so we need to 
             work together.

   * contrib/examples/Makefile
     ! Fixed to include newly added examples.

   * contrib/hbapollo/make_b32.bat
   * contrib/hbapollo/make_vc.bat
   * contrib/hbcurl/make_b32.bat
   * contrib/hbcurl/make_vc.bat
   * contrib/hbfbird/make_b32.bat
   * contrib/hbfbird/make_vc.bat
   * contrib/hbfimage/make_b32.bat
   * contrib/hbfimage/make_vc.bat
   * contrib/hbgd/make_b32.bat
   * contrib/hbgd/make_vc.bat
   * contrib/hbhpdf/make_b32.bat
   * contrib/hbhpdf/make_vc.bat
   * contrib/hbmysql/make_b32.bat
   * contrib/hbmysql/make_vc.bat
   * contrib/hbpgsql/make_b32.bat
   * contrib/hbpgsql/make_vc.bat
   * contrib/rddads/make_b32.bat
   * contrib/rddads/make_vc.bat
     + Some steps made to make it possible to disable 
       any messings with .dlls. This is not yet complete, 
       and the goal is to be able to use HB_INC_* to 
       specify include dirs for external packages on 
       all make systems (GNU, non-GNU .bat, non-GNU .sh)
       [TOMERGE 1.0.0RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 21 12:04:55 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 12:04:56 2008
Subject: [Harbour] 2008-06-21 18:03 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d3b8$Blat.v2.6.2$8bf31fce$1e34ab4bde96@127.0.0.1>

2008-06-21 18:03 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   - contrib/hbgf/hbgfw32/win32.ch
   + contrib/hbgf/hbgfw32/hbgfw32.ch
   * contrib/hbgf/hbgfw32/common.mak
   * contrib/hbgf/hbgfw32/button.prg
   * contrib/hbgf/hbgfw32/form.prg
   * contrib/hbgf/hbgfw32/edit.prg
     ! Made the .ch name less generic.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 21 12:08:07 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 12:08:13 2008
Subject: [Harbour] 2008-06-21 18:06 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d3b8$Blat.v2.6.2$fe5cd8c0$139890a94b04@127.0.0.1>

2008-06-21 18:06 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbole/Makefile
     + Marked as w32 only.

   + contrib/hbgf/hbgfw32/Makefile
   * contrib/hbgf/hbgfos2/Makefile
   * contrib/hbgf/hbgfgtk/Makefile
     + Added w32 GNU make file.
     + Added platforms guards.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 21 12:14:14 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 12:15:12 2008
Subject: [Harbour] Repository and sf.net changes 2nd
Message-ID: <F14DF45E-E2AC-4ACA-997A-335F273AB6B8@syenar.hu>

Hi all,

Second attempt.

- sf.net: Released 1.0.0 RC1 r8779 source .zip, .bz2, .gz
- sf.net: Released 1.0.0 RC1 r8779 win32-bcc551 binary .zip
   [C_USR=-OS -Ov -Oi -Oc -tWM; PRG_USR=-l]
- sf.net: Released 1.0.0 RC1 r8779 win32-bcc582 binary .zip
   [C_USR=-OS -Ov -Oi -Oc -tWM; PRG_USR=-l]
- sf.net: Released 1.0.0 RC1 r8779 win32-msvs2008cpp binary .zip
   [C_USR=-O2; PRG_USR=-l]

- SVN: Renamed /trunk/harbour-0.9.9RC1 -> /trunk/harbour1.0.0RC1

NOTE: The RC1 release is not perfect (and we shouldn't
normally use a revised RC), but I plan to do the right
one as soon as we release RC2 (based on RC1, or main?).

This is a good way to test scripts, if anyone is interested,
I can send them.

Also, I've cut into a MingW build, and it didn't went
smooth with 4.30, so I'm now trying 4.12.

--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 21 12:27:28 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 12:27:30 2008
Subject: [Harbour] 2008-06-21 18:25 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d3bb$Blat.v2.6.2$b26427f4$25449bf12f60@127.0.0.1>

2008-06-21 18:25 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbwhat32/_winsock.c
   * contrib/hbwhat32/_winmous.c
     ! Silenced GCC 4.30 warnings.
       NOTE: These warnings are pointing to important potential 
             bugs (GPFs) in these functions. It would be better 
             to fix them properly.

--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 21 12:30:43 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 12:31:40 2008
Subject: [Harbour] 2008-06-20 16:25 UTC+0800 Pritpal
	Bedi(pritpal@vouchcac.com)
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED92@SRV02.deltain.net>
References: <18039094.post@talk.nabble.com>
	<6CB11A96-5960-4DA2-873E-6F445DC85EDA@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED92@SRV02.deltain.net>
Message-ID: <289EFF12-E903-4DD7-8B75-3E41F412D4A9@syenar.hu>

Yes, I'm rehearsing RC1. If someone sees this as
a problem, I can remove all releases.

I hope this to be fixed before RC2. If not, we will
need to remove the contrib to not block the release.

Brgds,
Viktor

On 2008.06.21., at 15:24, Massimo Belgrano wrote:

> Is not better wait for rc1 in contrib for this files?
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Szak?ts Viktor
> Sent: Saturday, June 21, 2008 7:56 AM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] 2008-06-20 16:25 UTC+0800 Pritpal Bedi(pritpal@vouchcac.com 
> )
>
> Hi Pritpal,
>
> This looks good, thanks.
>
> Could you also reconvert these:
> commctrl.ch
> commdlg.ch
> wingdi.ch
>
> Brgds,
> Viktor
>
> On 2008.06.21., at 1:27, Pritpal Bedi wrote:
>
>>
>> 2008-06-20 16:25 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
>>  * contrib/hbwhat32/winuser.ch
>>    ! Pulled from MinGW distribution.
>>    ; HbWhat32 compiles fine but I have seen a lot of contradictions
>>      in the header. Anybody using hbwhat32 needs to test it
>>      properly. May be in normal usage this is OK.
>>
>> Regards
>> Pritpal Bedi
>> -- 
>> View this message in context: http://www.nabble.com/2008-06-20-16%3A25-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp18039094p18039094.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Jun 21 13:19:33 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 13:19:35 2008
Subject: [Harbour] 2008-06-21 19:17 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d3c2$Blat.v2.6.2$f9284f06$26a8a1fcbb6c@127.0.0.1>

2008-06-21 19:17 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/pp/hbpp.c
     ! Fixed to escape strings in generated hbverbld.h.
       [TOMERGE 1.0.0RC1]
--
Brgds,
Viktor

From bedipritpal at hotmail.com  Sat Jun 21 13:47:33 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Jun 21 13:47:39 2008
Subject: [Harbour] 2008-06-21 10:42 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <18047062.post@talk.nabble.com>


2008-06-21 10:42 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
   * contrib/hbwhat32/commctrl.ch
   * contrib/hbwhat32/commdlg.ch
   * contrib/hbwhat32/wingdi.ch
   * contrib/hbwhat32/wininet.ch
     ! Pulled from MinGW distribution.
     ; TODO: Refinement for UNICODE version which I realized a little later.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-21-10%3A42-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp18047062p18047062.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Jun 21 13:53:26 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 13:54:25 2008
Subject: [Harbour] HB_NOSTARTUPWINDOW ?
Message-ID: <F0D70E57-314C-4FD6-BFFE-923B152A2A6B@syenar.hu>

Hi all,

Can anyone tell me what is the purpose of the
HB_NOSTARTUPWINDOW GTWVT hack?

If someone is using GTWVT why is it good to _hide_
the console window?

[ We have GTGUI, which is similar to the above feature,
but much faster and without an ugly hack. ]

Also, we have a similar one, but compile-time in GTWIN,
named HB_NO_ALLOC_CONSOLE. Do we need this? Isn't
GTGUI enough for those who don't want a window?

Brgds,
Viktor

From george at duplication.ca  Sat Jun 21 13:54:00 2008
From: george at duplication.ca (George Frehner)
Date: Sat Jun 21 13:56:12 2008
Subject: [Harbour] inkey 
In-Reply-To: <B0081384742@ms1.3peaks.com>
References: <B0081384742@ms1.3peaks.com>
Message-ID: <485D4038.8050401@duplication.ca>

Hi developers,

I made this little test because I was getting 100% CPU usage in some old code when using 
RC1 (rev 8779) and BCC55 on Windows XP. In xharbour I did not get 100% CPU. The help file 
says the granularity of inkey() is 1/10 of a second. Should be 1/100? The loop below does 
not run if I put inkey(0.001).

(Also note the SET TYPEAHEAD test in tests/inkeytst.prg does not work for me)


procedure main()

local nkey

       Do While .t.
          nKey := InKey(0.1)
          If nKey != 0
           EXIT
          EndIf
          ?? "X"
       EndDo

       Do While .t.
          nKey := InKey(0.01)
          If nKey != 0
           EXIT
          EndIf
          ?? "Y"
       EndDo

       Do While .t.
          nKey := InKey(0.001)
          If nKey != 0
           EXIT
          EndIf
          ?? "Z"
       EndDo

       ? "CPU check..."
       Do While .t.
          nKey := InKey()
          If nKey != 0
           EXIT
          EndIf

       EndDo

return

Regards,
George

From harbour.01 at syenar.hu  Sat Jun 21 13:55:18 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 13:56:21 2008
Subject: [Harbour] 2008-06-21 10:42 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <18047062.post@talk.nabble.com>
References: <18047062.post@talk.nabble.com>
Message-ID: <6035AC58-76D4-41C4-A6C2-5D04D668C90D@syenar.hu>

Thanks a lot Pritpal!

I'll merge these with RC1.

Brgds,
Viktor

On 2008.06.21., at 19:47, Pritpal Bedi wrote:

>
> 2008-06-21 10:42 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * contrib/hbwhat32/commctrl.ch
>   * contrib/hbwhat32/commdlg.ch
>   * contrib/hbwhat32/wingdi.ch
>   * contrib/hbwhat32/wininet.ch
>     ! Pulled from MinGW distribution.
>     ; TODO: Refinement for UNICODE version which I realized a little  
> later.
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/2008-06-21-10%3A42-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp18047062p18047062.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From iosys at videotron.ca  Sat Jun 21 14:00:09 2008
From: iosys at videotron.ca (Sylvain Larche)
Date: Sat Jun 21 14:00:14 2008
Subject: [Harbour] Problem with Get
Message-ID: <485D41A9.5060202@videotron.ca>

I was testing new update to my software and notice the following

Here is a simplified piece of my code this is not a working code
but should demonstrated the code of the problem.

FUNCTION EditItem()

   LOCAL GetList AS ARRAY   := {}
   LOCAL lnDept  AS NUMERIC := 0
   LOCAL lnTax   AS NUMERIC := 0

   @ 1, 0 GET     lnDept                                        ;
              PICTURE "999"                                       ;
              VALID   PickDept( GetList, lnDept ) .AND. ;
                         UpdTax( GetList, lnDept )

   @ 2, 0 GET     lnTax                             ;
          PICTURE "9"

   READ

RETURN( NIL )

FUNCTION PickDept( poGetList AS OBJECT, pnDept AS NUMERIC )

   // Tbrowse to pick a dept

   // if we select a dept then do the following

   lnPos := 2 // 2nd field in the getlist TAX

   poGetList[ lnPos ]:VarPut( lnDept )
   poGetList[ lnPos ]:Display()

RETURN( .T. )

FUNCTION UpdTax( poGetList AS OBJECT, pnDept AS NUMERIC  )
   LOCAL loPosDept AS NUMERIC := 1
   LOCAL lnPosTax  AS NUMERIC := 2

   // If we change dept then update tax info and other....
   IF poGetList[ lnPosDept ]:Changed

      DB_DEPT->( dbSeekByTag( pnDept, "Dept" ) )

      poGetList[ lnPosTax  ]:VarPut( DB_DEPT->nTax )

   ENDIF

RETURN( .T. )

Now the problem is that poGetList[ lnPosDept ]:Changed is never .T.
when
a VarPut() is done so my tax Get is never updated

If we add in TGet method Varput a ::Changed := .T. this should fix the
problem.

*Sylvain **Larche*
Iosys Technologie
io... 
<http://groups.google.com/groups/unlock?msg=5d5364d8398f54f6&_done=/group/comp.lang.xharbour/browse_thread/thread/ed47e32740e722ce/915f1034b7a88ba2%3Flnk%3Dgst%26q%3Dsylvain%2Blarche>@videotron.ca 

From harbour.01 at syenar.hu  Sat Jun 21 14:23:23 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 14:24:23 2008
Subject: [Harbour] Problem with Get
In-Reply-To: <485D41A9.5060202@videotron.ca>
References: <485D41A9.5060202@videotron.ca>
Message-ID: <635D0D75-CBA8-4C46-B070-0C24CC124EE1@syenar.hu>

Hi Sylvian,

After making your sample work, I've tested this
with CA-Cl*pper 5.2e, and it doesn't update the
second GET either. In Clipper :varPut() will never
modify :changed, in fact :varPut() will do nothing
else than updating the variable with the current
GET value.

To me it seems that Harbour is compatible with Clipper.

Code:
--
FUNCTION MAIN()
    LOCAL GetList := {}
    LOCAL lnDept  := 0
    LOCAL lnTax   := 0

    @  1, 0 GET lnDept PICTURE "999" VALID PickDept( GetList,  
@lnDept ) .AND. UpdTax( GetList, lnDept )
    @  2, 0 GET lnTax  PICTURE "9"

    READ

    o := _GET_( lnDept, "lnDept" )
    o:VarPut( 20 )
    ? o:Changed
    Inkey( 0 )

    RETURN NIL

FUNCTION PickDept( poGetList, lnDept )

    lnDept := 5 // ; Let's update this as if the user did it.

    poGetList[ 1 ]:VarPut( lnDept )
    poGetList[ 1 ]:Display()

    RETURN .T.

FUNCTION UpdTax( poGetList, pnDept )

    IF poGetList[ 1 ]:Changed
       poGetList[ 2 ]:VarPut( 9 )
    ENDIF

    RETURN .T.
--

Brgds,
Viktor

On 2008.06.21., at 20:00, Sylvain Larche wrote:

> I was testing new update to my software and notice the following
>
> Here is a simplified piece of my code this is not a working code
> but should demonstrated the code of the problem.
>
> FUNCTION EditItem()
>
>  LOCAL GetList AS ARRAY   := {}
>  LOCAL lnDept  AS NUMERIC := 0
>  LOCAL lnTax   AS NUMERIC := 0
>
>  @ 1, 0 GET     lnDept                                        ;
>             PICTURE "999"                                       ;
>             VALID   PickDept( GetList, lnDept ) .AND. ;
>                        UpdTax( GetList, lnDept )
>
>  @ 2, 0 GET     lnTax                             ;
>         PICTURE "9"
>
>  READ
>
> RETURN( NIL )
>
> FUNCTION PickDept( poGetList AS OBJECT, pnDept AS NUMERIC )
>
>  // Tbrowse to pick a dept
>
>  // if we select a dept then do the following
>
>  lnPos := 2 // 2nd field in the getlist TAX
>
>  poGetList[ lnPos ]:VarPut( lnDept )
>  poGetList[ lnPos ]:Display()
>
> RETURN( .T. )
>
> FUNCTION UpdTax( poGetList AS OBJECT, pnDept AS NUMERIC  )
>  LOCAL loPosDept AS NUMERIC := 1
>  LOCAL lnPosTax  AS NUMERIC := 2
>
>  // If we change dept then update tax info and other....
>  IF poGetList[ lnPosDept ]:Changed
>
>     DB_DEPT->( dbSeekByTag( pnDept, "Dept" ) )
>
>     poGetList[ lnPosTax  ]:VarPut( DB_DEPT->nTax )
>
>  ENDIF
>
> RETURN( .T. )
>
> Now the problem is that poGetList[ lnPosDept ]:Changed is never .T.
> when
> a VarPut() is done so my tax Get is never updated
>
> If we add in TGet method Varput a ::Changed := .T. this should fix the
> problem.
>
> *Sylvain **Larche*
> Iosys Technologie
> io... <http://groups.google.com/groups/unlock?msg=5d5364d8398f54f6&_done=/group/comp.lang.xharbour/browse_thread/thread/ed47e32740e722ce/915f1034b7a88ba2%3Flnk%3Dgst%26q%3Dsylvain%2Blarche 
> >@videotron.ca
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From iosys at videotron.ca  Sat Jun 21 14:29:54 2008
From: iosys at videotron.ca (Sylvain Larche)
Date: Sat Jun 21 14:29:59 2008
Subject: [Harbour] Problem with Get
In-Reply-To: <635D0D75-CBA8-4C46-B070-0C24CC124EE1@syenar.hu>
References: <485D41A9.5060202@videotron.ca>
	<635D0D75-CBA8-4C46-B070-0C24CC124EE1@syenar.hu>
Message-ID: <485D48A2.6080608@videotron.ca>

Szak?ts Viktor wrote:
> Hi Sylvian,
>
> After making your sample work, I've tested this
> with CA-Cl*pper 5.2e, and it doesn't update the
> second GET either. In Clipper :varPut() will never
> modify :changed, in fact :varPut() will do nothing
> else than updating the variable with the current
> GET value.
>
> To me it seems that Harbour is compatible with Clipper.
>

I know but in my opinion this is a bug in clipper as Varput REALY 
changed the get value
so why not update the get:Changed to .T.

Do harbour have to be BUG compatible with clipper ?

Sylvain Larche
iosys technologie Inc.

From harbour.01 at syenar.hu  Sat Jun 21 14:43:23 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 14:44:23 2008
Subject: [Harbour] Problem with Get
In-Reply-To: <485D48A2.6080608@videotron.ca>
References: <485D41A9.5060202@videotron.ca>
	<635D0D75-CBA8-4C46-B070-0C24CC124EE1@syenar.hu>
	<485D48A2.6080608@videotron.ca>
Message-ID: <A76C0C67-1DA6-4DFD-829B-D9A1F2A1897B@syenar.hu>

>>
Hi Sylvain,

>> After making your sample work, I've tested this
>> with CA-Cl*pper 5.2e, and it doesn't update the
>> second GET either. In Clipper :varPut() will never
>> modify :changed, in fact :varPut() will do nothing
>> else than updating the variable with the current
>> GET value.
>>
>> To me it seems that Harbour is compatible with Clipper.
>>
>
> I know but in my opinion this is a bug in clipper as Varput REALY  
> changed the get value
> so why not update the get:Changed to .T.
>
>
> Do harbour have to be BUG compatible with clipper ?

No, but I would rather consider this an intentional
decision on part of the original Clipper developers,
than a bug. :changed is meant to show whether the
editing buffer has changed, not the content of the
original value.

Changing this might break a lot of code expecting the
Clipper compatible behaviour.

Quite easy to workaround on app level with such code
though:

PROCEDURE MyVarPut( o, xValue )
    o:varPut( xValue )
    o:changed := .T. // ; Maybe some extra logic could be added to  
check if it's indeed changed.
    RETURN

And use MyVarPut( o, 5 ) instead of o:varPut( 5 ).

Same can be done with subclassing.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 21 15:24:01 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 15:24:02 2008
Subject: [Harbour] 2008-06-21 21:22 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d3d4$Blat.v2.6.2$5c547328$14b0c43e935c@127.0.0.1>

2008-06-21 21:22 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * doc/whatsnew.txt
     + Some updates.
       [TOMERGE 1.0.0RC1]

   * contrib/Makefile
     ! Fix to prev.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 21 15:24:46 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 15:25:56 2008
Subject: [Harbour] Repository and sf.net changes 3rd
Message-ID: <B0B04C49-1BCE-463A-B151-A451C6AD0DC8@syenar.hu>

Hi all,

- sf.net: Released 1.0.0 RC1 r8779 win32-mingw412 binary .zip
- sf.net: Released 1.0.0 RC1 r8779 win32-mingw430 binary .zip

- sf.net: Linux binaries-* groups renamed to binaries-linux-*

--
Brgds,
Viktor

From bedipritpal at hotmail.com  Sat Jun 21 15:31:11 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Jun 21 15:31:14 2008
Subject: [Harbour] HB_NOSTARTUPWINDOW ?
In-Reply-To: <F0D70E57-314C-4FD6-BFFE-923B152A2A6B@syenar.hu>
References: <F0D70E57-314C-4FD6-BFFE-923B152A2A6B@syenar.hu>
Message-ID: <18047990.post@talk.nabble.com>


Hi Viktor

<<<
Can anyone tell me what is the purpose of the
HB_NOSTARTUPWINDOW GTWVT hack?

If someone is using GTWVT why is it good to _hide_
the console window?
>>>

I use it in production. 
I have a my own Terminal which talks to the server, an xHarbour appln in MT
mode.
Server initiates a new instance of my real-appln on the server 
which is initiated as hidden with HB_NOSTARTUPWINDOW. Then Server instructs
client and real-appln to establish another connection directly and
disconnects
from both client and server. I do not want to show up any window on the
server.
Is it enough to explain why it is needed, or if you have any othe idea.

BTW I am cuious to know how HB_NOSTARTUPWINDOW is termed as a "hack".

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HB_NOSTARTUPWINDOW---tp18047134p18047990.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Jun 21 15:38:34 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 15:39:31 2008
Subject: [Harbour] HB_NOSTARTUPWINDOW ?
In-Reply-To: <18047990.post@talk.nabble.com>
References: <F0D70E57-314C-4FD6-BFFE-923B152A2A6B@syenar.hu>
	<18047990.post@talk.nabble.com>
Message-ID: <E49D1B16-2052-4F73-BDE1-9537E6382823@syenar.hu>

>
Hi Pritpal,

> I use it in production.
> I have a my own Terminal which talks to the server, an xHarbour  
> appln in MT
> mode.
> Server initiates a new instance of my real-appln on the server
> which is initiated as hidden with HB_NOSTARTUPWINDOW. Then Server  
> instructs
> client and real-appln to establish another connection directly and
> disconnects
> from both client and server. I do not want to show up any window on  
> the
> server.
> Is it enough to explain why it is needed, or if you have any othe  
> idea.

Wouldn't GTGUI solve these problems?

> BTW I am cuious to know how HB_NOSTARTUPWINDOW is termed as a "hack".

It's very an unusual way to configure a compiler/runtime
in general, but it's also a sole exception in Harbour.

Brgds,
Viktor

From bedipritpal at hotmail.com  Sat Jun 21 15:44:59 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Jun 21 15:45:04 2008
Subject: [Harbour] HB_NOSTARTUPWINDOW ?
In-Reply-To: <E49D1B16-2052-4F73-BDE1-9537E6382823@syenar.hu>
References: <F0D70E57-314C-4FD6-BFFE-923B152A2A6B@syenar.hu>
	<18047990.post@talk.nabble.com>
	<E49D1B16-2052-4F73-BDE1-9537E6382823@syenar.hu>
Message-ID: <18048071.post@talk.nabble.com>


Hello

>Wouldn't GTGUI solve these problems?

No.

>It's very an unusual way to configure a compiler/runtime
>in general, but it's also a sole exception in Harbour.

:-(

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HB_NOSTARTUPWINDOW---tp18047134p18048071.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Jun 21 16:01:20 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 16:02:17 2008
Subject: [Harbour] HB_NOSTARTUPWINDOW ?
In-Reply-To: <18048071.post@talk.nabble.com>
References: <F0D70E57-314C-4FD6-BFFE-923B152A2A6B@syenar.hu>
	<18047990.post@talk.nabble.com>
	<E49D1B16-2052-4F73-BDE1-9537E6382823@syenar.hu>
	<18048071.post@talk.nabble.com>
Message-ID: <2238A329-2229-4056-900E-38D76EB16514@syenar.hu>

>> Wouldn't GTGUI solve these problems?
>
> No.

Any reasons?

If you link in gtgui.lib, and choose it either with
//gtgui, or by ANNOUNCE-ing HB_GT_GUI_DEFAULT in your
code, you'll get an application with no window at all,
not even visible in <Alt+Tab>, but the .exe is still
running fine. This seems to be the exact same effect
as HB_NOSTARTUPWINDOW, but done the "official" way,
without additional hacks.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 21 16:26:51 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 16:26:52 2008
Subject: [Harbour] 2008-06-21 22:24 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d3dd$Blat.v2.6.2$23870606$d283743ee0c@127.0.0.1>

2008-06-21 22:24 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtalleg/gtalleg.c
   * source/rtl/gtgui/gtgui.c
   * source/rtl/gtwin/gtwin.c
   * source/rtl/gtwvt/gtwvt.c
   * source/rtl/gtxwc/gtxwc.c
     * Changed some GT names to more descriptive, uniform ones 
       and leaving "win32" (it can be win64 too):

       "Win32 buffered console                  -> "Windows native console"
       "Win32 buffered WVT"                     -> "Windows GUI console (WVT)"
       "Strep GT driver for W32 GUI programs"   -> "Windows dummy console for GUI programs"
       "XWindow Console XWC"                    -> "XWindow GUI console (XWC)"
       "Multiplatform Allegro graphics console" -> "Portable Allegro GUI console"
--
Brgds,
Viktor

From bedipritpal at hotmail.com  Sat Jun 21 16:51:16 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Jun 21 16:51:19 2008
Subject: [Harbour] HB_NOSTARTUPWINDOW ?
In-Reply-To: <2238A329-2229-4056-900E-38D76EB16514@syenar.hu>
References: <F0D70E57-314C-4FD6-BFFE-923B152A2A6B@syenar.hu>
	<18047990.post@talk.nabble.com>
	<E49D1B16-2052-4F73-BDE1-9537E6382823@syenar.hu>
	<18048071.post@talk.nabble.com>
	<2238A329-2229-4056-900E-38D76EB16514@syenar.hu>
Message-ID: <18048551.post@talk.nabble.com>


Viktor

>Any reasons?

Sure. I do not have time neither a will to change the way 
I am been working all those years just to change something
which is working harmless.

<<<
If you link in gtgui.lib, and choose it either with
//gtgui, or by ANNOUNCE-ing HB_GT_GUI_DEFAULT in your
code, you'll get an application with no window at all,
not even visible in <Alt+Tab>, but the .exe is still
running fine. This seems to be the exact same effect
as HB_NOSTARTUPWINDOW, but done the "official" way,
without additional hacks.
>>>

HB_NOSTARTUPWINDOW simulates exactly the same what you described.
I do not find any point to grasp difference in "official" and "hack"
terminology, especially in this regard. Do it harm any of the Harbour
distribution ?

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/HB_NOSTARTUPWINDOW---tp18047134p18048551.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Jun 21 17:00:40 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 17:00:51 2008
Subject: [Harbour] 2008-06-21 22:50 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d3e1$Blat.v2.6.2$dcc1b4e6$1980320e70fe@127.0.0.1>

2008-06-21 22:50 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbfimage/Makefile
     ! Fixed to compile with MinGW.
       [TOMERGE 1.0.0RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 21 17:18:18 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 17:19:16 2008
Subject: [Harbour] HB_NOSTARTUPWINDOW ?
In-Reply-To: <18048551.post@talk.nabble.com>
References: <F0D70E57-314C-4FD6-BFFE-923B152A2A6B@syenar.hu>
	<18047990.post@talk.nabble.com>
	<E49D1B16-2052-4F73-BDE1-9537E6382823@syenar.hu>
	<18048071.post@talk.nabble.com>
	<2238A329-2229-4056-900E-38D76EB16514@syenar.hu>
	<18048551.post@talk.nabble.com>
Message-ID: <9DCD0C0A-F359-4EF4-83DB-5B0D7587944F@syenar.hu>

>
Hi Pritpal,

> Sure. I do not have time neither a will to change the way
> I am been working all those years just to change something
> which is working harmless.

For me it took 2 minutes to try both methods on
my application.

Moreover, just today I've spent several hours trying
to fix and document warnings and bugs in hbwhat32 only.
I don't even use it, or plan to use it in the future,
just want a clean build.

I'd suggest to step over stirct personal needs when
it comes to developing Harbour.

> If you link in gtgui.lib, and choose it either with
> //gtgui, or by ANNOUNCE-ing HB_GT_GUI_DEFAULT in your
> code, you'll get an application with no window at all,
> not even visible in <Alt+Tab>, but the .exe is still
> running fine. This seems to be the exact same effect
> as HB_NOSTARTUPWINDOW, but done the "official" way,
> without additional hacks.
>>>>
>
> HB_NOSTARTUPWINDOW simulates exactly the same what you described.
> I do not find any point to grasp difference in "official" and "hack"
> terminology, especially in this regard. Do it harm any of the Harbour
> distribution ?

I'm trying to leave unnecessary options and hacks out of
Harbour, because all these just raise questions and
create problems with no gain. There is not much point
in maintaining one good and one bad solution in parallel,
as the resources are scarce.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 21 17:18:48 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 17:19:45 2008
Subject: [Harbour] hbwhat32 mingw 4.12 warnings
Message-ID: <F0A26AED-2335-4E84-8B6F-87B161C72EB5@syenar.hu>

../../wincorec.c: In function 'HB_FUN__CREATEWINDOWEX':
../../wincorec.c:92: warning: signed and unsigned type in conditional expression
../../wincorec.c:93: warning: signed and unsigned type in conditional expression
../../wincorec.c:94: warning: signed and unsigned type in conditional expression
../../wincorec.c:95: warning: signed and unsigned type in conditional expression
../../wincorec.c: In function 'HB_FUN__CREATEMDIWINDOW':
../../wincorec.c:117: warning: signed and unsigned type in conditional expression
../../wincorec.c:118: warning: signed and unsigned type in conditional expression
../../wincorec.c:119: warning: signed and unsigned type in conditional expression
../../wincorec.c:120: warning: signed and unsigned type in conditional expression
../../_wincdlg.c: In function 'HB_FUN_CHOOSECOLOR':
../../_wincdlg.c:178: warning: signed and unsigned type in conditional expression
../../_wincomm.c: In function 'HB_FUN_INITLISTVIEWCOLUMNS':
../../_wincomm.c:319: warning: value computed is not used
../../_wincomm.c: In function 'HB_FUN_ADDLISTVIEWITEMS':
../../_wincomm.c:348: warning: value computed is not used
../../_windir.c: In function 'HB_FUN_GETLONGPATHNAME':
../../_windir.c:294: warning: implicit declaration of function 'GetLongPathName'
../../_windlg.c: In function 'HB_FUN_CHECKDLGBUTTON':
../../_windlg.c:167: warning: signed and unsigned type in conditional expression
../../_winhead.c: In function 'HB_FUN_HEADER_CREATEDRAGIMAGE':
../../_winhead.c:108: warning: implicit declaration of function 'Header_CreateDragImage'
../../_winhead.c: In function 'HB_FUN_HEADER_GETORDERARRAY':
../../_winhead.c:126: warning: implicit declaration of function 'Header_GetOrderArray'
../../_winhead.c: In function 'HB_FUN_HEADER_SETORDERARRAY':
../../_winhead.c:175: warning: implicit declaration of function 'Header_SetOrderArray'
../../_winhead.c: In function 'HB_FUN_HEADER_GETITEMRECT':
../../_winhead.c:195: warning: implicit declaration of function 'Header_GetItemRect'
../../_winhead.c: In function 'HB_FUN_HEADER_GETIMAGELIST':
../../_winhead.c:213: warning: implicit declaration of function 'Header_GetImageList'
../../_winhead.c: In function 'HB_FUN_HEADER_SETIMAGELIST':
../../_winhead.c:224: warning: implicit declaration of function 'Header_SetImageList'
../../_winhead.c: In function 'HB_FUN_HEADER_ORDERTOINDEX':
../../_winhead.c:235: warning: implicit declaration of function 'Header_OrderToIndex'
../../_winhead.c: In function 'HB_FUN_HEADER_SETHOTDIVIDER':
../../_winhead.c:250: warning: implicit declaration of function 'Header_SetHotDivider'
../../_winhead.c: In function 'HB_FUN_HEADER_SETBITMAPMARGIN':
../../_winhead.c:261: warning: implicit declaration of function 'Header_SetBitmapMargin'
../../_winhead.c: In function 'HB_FUN_HEADER_GETBITMAPMARGIN':
../../_winhead.c:272: warning: implicit declaration of function 'Header_GetBitmapMargin'
../../_winhead.c: In function 'HB_FUN_HEADER_SETUNICODEFORMAT':
../../_winhead.c:283: warning: implicit declaration of function 'Header_SetUnicodeFormat'
../../_winhead.c: In function 'HB_FUN_HEADER_GETUNICODEFORMAT':
../../_winhead.c:294: warning: implicit declaration of function 'Header_GetUnicodeFormat'
../../_winhead.c: In function 'HB_FUN_HEADER_SETFILTERCHANGETIMEOUT':
../../_winhead.c:305: warning: implicit declaration of function 'Header_SetFilterChangeTimeout'
../../_winhead.c: In function 'HB_FUN_HEADER_EDITFILTER':
../../_winhead.c:316: warning: implicit declaration of function 'Header_EditFilter'
../../_winhead.c: In function 'HB_FUN_HEADER_CLEARALLFILTERS':
../../_winhead.c:327: warning: implicit declaration of function 'Header_ClearAllFilters'
../../_winhead.c: In function 'HB_FUN_HEADER_CLEARFILTER':
../../_winhead.c:341: warning: implicit declaration of function 'Header_ClearFilter'
../../_winlv.c: In function 'HB_FUN_LISTVIEW_DELETEALLITEMS':
../../_winlv.c:21: warning: value computed is not used
../../_winlv.c: In function 'HB_FUN_LISTVIEW_DELETECOLUMN':
../../_winlv.c:26: warning: value computed is not used
../../_winlv.c: In function 'HB_FUN_LISTVIEW_INSERTCOLUMN':
../../_winlv.c:37: warning: value computed is not used
../../_winmisc.c: In function 'HB_FUN_MESSAGEBEEP':
../../_winmisc.c:352: warning: signed and unsigned type in conditional expression
../../_winmmcap.c: In function 'HB_FUN_CAPCAPTUREABORT':
../../_winmmcap.c:98: warning: implicit declaration of function 'capCaptureAbort'
../../_winmmcap.c: In function 'HB_FUN_CAPCAPTURESEQUENCE':
../../_winmmcap.c:115: warning: implicit declaration of function 'capCaptureSequence'
../../_winmmcap.c: In function 'HB_FUN_CAPCAPTURESEQUENCENOFILE':
../../_winmmcap.c:125: warning: implicit declaration of function 'capCaptureSequenceNoFile'
../../_winmmcap.c: In function 'HB_FUN_CAPCAPTURESINGLEFRAME':
../../_winmmcap.c:142: warning: implicit declaration of function 'capCaptureSingleFrame'
../../_winmmcap.c: In function 'HB_FUN_CAPCAPTURESINGLEFRAMECLOSE':
../../_winmmcap.c:152: warning: implicit declaration of function 'capCaptureSingleFrameClose'
../../_winmmcap.c: In function 'HB_FUN_CAPCAPTURESINGLEFRAMEOPEN':
../../_winmmcap.c:162: warning: implicit declaration of function 'capCaptureSingleFrameOpen'
../../_winmmcap.c: In function 'HB_FUN_CAPCAPTURESTOP':
../../_winmmcap.c:172: warning: implicit declaration of function 'capCaptureStop'
../../_winmmcap.c: In function 'HB_FUN_CAPDLGVIDEOCOMPRESSION':
../../_winmmcap.c:182: warning: implicit declaration of function 'capDlgVideoCompression'
../../_winmmcap.c: In function 'HB_FUN_CAPDLGVIDEODISPLAY':
../../_winmmcap.c:192: warning: implicit declaration of function 'capDlgVideoDisplay'
../../_winmmcap.c: In function 'HB_FUN_CAPDLGVIDEOFORMAT':
../../_winmmcap.c:202: warning: implicit declaration of function 'capDlgVideoFormat'
../../_winmmcap.c: In function 'HB_FUN_CAPDLGVIDEOSOURCE':
../../_winmmcap.c:212: warning: implicit declaration of function 'capDlgVideoSource'
../../_winmmcap.c: In function 'HB_FUN_CAPDRIVERCONNECT':
../../_winmmcap.c:222: warning: implicit declaration of function 'capDriverConnect'
../../_winmmcap.c: In function 'HB_FUN_CAPDRIVERDISCONNECT':
../../_winmmcap.c:232: warning: implicit declaration of function 'capDriverDisconnect'
../../_winmmcap.c: In function 'HB_FUN_CAPEDITCOPY':
../../_winmmcap.c:285: warning: implicit declaration of function 'capEditCopy'
../../_winmmcap.c: In function 'HB_FUN_CAPFILEALLOC':
../../_winmmcap.c:295: warning: implicit declaration of function 'capFileAlloc'
../../_winmmcap.c: In function 'HB_FUN_CAPFILESAVEAS':
../../_winmmcap.c:323: warning: implicit declaration of function 'capFileSaveAs'
../../_winmmcap.c: In function 'HB_FUN_CAPFILESAVEDIB':
../../_winmmcap.c:333: warning: implicit declaration of function 'capFileSaveDIB'
../../_winmmcap.c: In function 'HB_FUN_CAPFILESETCAPTUREFILE':
../../_winmmcap.c:343: warning: implicit declaration of function 'capFileSetCaptureFile'
../../_winmmcap.c: In function 'HB_FUN_CAPGETAUDIOFORMATSIZE':
../../_winmmcap.c:367: warning: implicit declaration of function 'capGetAudioFormatSize'
../../_winmmcap.c: In function 'HB_FUN_CAPGETUSERDATA':
../../_winmmcap.c:403: warning: implicit declaration of function 'capGetUserData'
../../_winmmcap.c: In function 'HB_FUN_CAPGETVIDEOFORMATSIZE':
../../_winmmcap.c:420: warning: implicit declaration of function 'capGetVideoFormatSize'
../../_winmmcap.c: In function 'HB_FUN_CAPGRABFRAME':
../../_winmmcap.c:430: warning: implicit declaration of function 'capGrabFrame'
../../_winmmcap.c: In function 'HB_FUN_CAPGRABFRAMENOSTOP':
../../_winmmcap.c:440: warning: implicit declaration of function 'capGrabFrameNoStop'
../../_winmmcap.c: In function 'HB_FUN_CAPOVERLAY':
../../_winmmcap.c:450: warning: implicit declaration of function 'capOverlay'
../../_winmmcap.c: In function 'HB_FUN_CAPPALETTEAUTO':
../../_winmmcap.c:460: warning: implicit declaration of function 'capPaletteAuto'
../../_winmmcap.c: In function 'HB_FUN_CAPPALETTEMANUAL':
../../_winmmcap.c:470: warning: implicit declaration of function 'capPaletteManual'
../../_winmmcap.c: In function 'HB_FUN_CAPPALETTEOPEN':
../../_winmmcap.c:480: warning: implicit declaration of function 'capPaletteOpen'
../../_winmmcap.c: In function 'HB_FUN_CAPPALETTEPASTE':
../../_winmmcap.c:490: warning: implicit declaration of function 'capPalettePaste'
../../_winmmcap.c: In function 'HB_FUN_CAPPALETTESAVE':
../../_winmmcap.c:500: warning: implicit declaration of function 'capPaletteSave'
../../_winmmcap.c: In function 'HB_FUN_CAPPREVIEW':
../../_winmmcap.c:510: warning: implicit declaration of function 'capPreview'
../../_winmmcap.c: In function 'HB_FUN_CAPPREVIEWRATE':
../../_winmmcap.c:520: warning: implicit declaration of function 'capPreviewRate'
../../_winmmcap.c: In function 'HB_FUN_CAPPREVIEWSCALE':
../../_winmmcap.c:530: warning: implicit declaration of function 'capPreviewScale'
../../_winmmcap.c: In function 'HB_FUN_CAPSETMCIDEVICENAME':
../../_winmmcap.c:596: warning: implicit declaration of function 'capSetMCIDeviceName'
../../_winmmcap.c: In function 'HB_FUN_CAPSETUSERDATA':
../../_winmmcap.c:613: warning: implicit declaration of function 'capSetUserData'
../../_winserial.c: In function 'HB_FUN_SETCOMMCONFIG':
../../_winserial.c:341: warning: signed and unsigned type in conditional expression
../../_winshell.c: In function 'HB_FUN_DOENVIRONMENTSUBST':
../../_winshell.c:179: warning: implicit declaration of function 'DoEnvironmentSubst'
../../_winsock.c: In function 'HB_FUN_ACCEPT':
../../_winsock.c:41: warning: signed and unsigned type in conditional expression
../../_winsock.c: In function 'HB_FUN_GETPEERNAME':
../../_winsock.c:106: warning: signed and unsigned type in conditional expression
../../_winsock.c: In function 'HB_FUN_GETSOCKNAME':
../../_winsock.c:122: warning: signed and unsigned type in conditional expression
../../_winsock.c: In function 'HB_FUN_RECV':
../../_winsock.c:224: warning: signed and unsigned type in conditional expression
../../_winsock.c: In function 'HB_FUN_RECVFROM':
../../_winsock.c:244: warning: signed and unsigned type in conditional expression
../../_winsock.c:247: warning: signed and unsigned type in conditional expression
../../_winsock.c: In function 'HB_FUN_SEND':
../../_winsock.c:316: warning: signed and unsigned type in conditional expression
../../_winsock.c: In function 'HB_FUN_SENDTO':
../../_winsock.c:329: warning: signed and unsigned type in conditional expression
../../_winsock.c:336: warning: signed and unsigned type in conditional expression
../../_winsys.c: In function 'HB_FUN_VIRTUALQUERY':
../../_winsys.c:1088: warning: comparison between signed and unsigned
../../_wintab.c: In function 'HB_FUN_TABCTRL_GETITEMRECT':
../../_wintab.c:102: warning: value computed is not used
../../_wintab.c: In function 'HB_FUN_TABCTRL_ADJUSTRECT':
../../_wintab.c:226: warning: value computed is not used
../../_wintree.c: In function 'HB_FUN_TVDELETEITEM':
../../_wintree.c:39: warning: value computed is not used
../../_wintree.c: In function 'HB_FUN_TVGETSELTEXT':
../../_wintree.c:64: warning: value computed is not used
From harbour.01 at syenar.hu  Sat Jun 21 17:19:12 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 17:20:09 2008
Subject: [Harbour] hbziparch mingw 4.12 warnings
Message-ID: <F6F42E2D-9BCF-4433-AC69-30DBE5BCB5BE@syenar.hu>

../../zip.c:1015: warning: 'HB_FUN_exit_HBZIPCLEANUP' defined but not used
In file included from ../../include/zipexception.h:34,
                 from ../../include/ziparchive.h:92,
                 from ../../ziparchive.cpp:19:
../../include/zipstring.h:52:1: warning: "_vsntprintf" redefined
In file included from ../../include/stdafx.h:91,
                 from ../../ziparchive.cpp:18:
c:/devl/mingw-412/bin/../lib/gcc/i686-pc-mingw32/4.1.2/../../../../include/tchar.h:268:1: warning: this is the location of the previous definition
../../include/zipstring.h: In copy constructor 'CZipString::CZipString(const CZipString&)':
../../include/zipstring.h:125: warning: base class 'struct std::basic_string<char, std::char_traits<char>, std::allocator<char> >' should be explicitly initialized in the copy constructor
../../include/zipexception.h: In copy constructor 'CZipException::CZipException(CZipException&)':
../../include/zipexception.h:57: warning: base class 'class std::exception' should be explicitly initialized in the copy constructor
../../include/zipstorage.h: At global scope:
../../include/zipstorage.h:45: warning: 'struct CZipCallback' has virtual functions but non-virtual destructor
../../include/zipstorage.h:85: warning: 'struct CZipSpanCallback' has virtual functions but non-virtual destructor
../../include/zipstorage.h:102: warning: 'struct CZipActionCallback' has virtual functions but non-virtual destructor
../../include/ziparchive.h: In constructor 'CZipAddNewFileInfo::CZipAddNewFileInfo(CZipAbstractFile*, const TCHAR*)':
../../include/ziparchive.h:209: warning: 'CZipAddNewFileInfo::m_pFile' will be initialized after
../../include/ziparchive.h:135: warning:   'CZipString CZipAddNewFileInfo::m_szFileNameInZip'
../../include/ziparchive.h:120: warning:   when initialized here
../../ziparchive.cpp: In member function 'DWORD CZipArchive::ReadFile(void*, DWORD)':
../../ziparchive.cpp:339: warning: comparison of unsigned expression >= 0 is always true
../../ziparchive.cpp: At global scope:
../../ziparchive.cpp:1148: warning: unused parameter 'iSmartLevel'
../../ziparchive.cpp:1162: warning: unused parameter 'iSmartLevel'
../../ziparchive.cpp:1176: warning: unused parameter 'iSmartLevel'
../../ziparchive.cpp:1189: warning: unused parameter 'iSmartLevel'
In file included from ../../include/zipexception.h:34,
                 from ../../include/zipcentraldir.h:34,
                 from ../../zipcentraldir.cpp:19:
../../include/zipstring.h:52:1: warning: "_vsntprintf" redefined
In file included from ../../include/stdafx.h:91,
                 from ../../zipcentraldir.cpp:18:
c:/devl/mingw-412/bin/../lib/gcc/i686-pc-mingw32/4.1.2/../../../../include/tchar.h:268:1: warning: this is the location of the previous definition
../../zipcentraldir.cpp:852:2: warning: no newline at end of file
../../include/zipstring.h: In copy constructor 'CZipString::CZipString(const CZipString&)':
../../include/zipstring.h:125: warning: base class 'struct std::basic_string<char, std::char_traits<char>, std::allocator<char> >' should be explicitly initialized in the copy constructor
../../include/zipexception.h: In copy constructor 'CZipException::CZipException(CZipException&)':
../../include/zipexception.h:57: warning: base class 'class std::exception' should be explicitly initialized in the copy constructor
../../include/zipstorage.h: At global scope:
../../include/zipstorage.h:45: warning: 'struct CZipCallback' has virtual functions but non-virtual destructor
../../include/zipstorage.h:85: warning: 'struct CZipSpanCallback' has virtual functions but non-virtual destructor
../../include/zipstorage.h:102: warning: 'struct CZipActionCallback' has virtual functions but non-virtual destructor
../../include/ziparchive.h: In constructor 'CZipAddNewFileInfo::CZipAddNewFileInfo(CZipAbstractFile*, const TCHAR*)':
../../include/ziparchive.h:209: warning: 'CZipAddNewFileInfo::m_pFile' will be initialized after
../../include/ziparchive.h:135: warning:   'CZipString CZipAddNewFileInfo::m_szFileNameInZip'
../../include/ziparchive.h:120: warning:   when initialized here
In file included from ../../include/zipexception.h:34,
                 from ../../include/ziparchive.h:92,
                 from ../../include/hbzip2.h:76,
                 from ../../zipcomp.cpp:53:
../../include/zipstring.h:52:1: warning: "_vsntprintf" redefined
In file included from ../../include/stdafx.h:91,
                 from ../../include/zipstring.h:19,
                 from ../../include/zipexception.h:34,
                 from ../../include/ziparchive.h:92,
                 from ../../include/hbzip2.h:76,
                 from ../../zipcomp.cpp:53:
c:/devl/mingw-412/bin/../lib/gcc/i686-pc-mingw32/4.1.2/../../../../include/tchar.h:268:1: warning: this is the location of the previous definition
../../include/zipstring.h: In copy constructor 'CZipString::CZipString(const CZipString&)':
../../include/zipstring.h:125: warning: base class 'struct std::basic_string<char, std::char_traits<char>, std::allocator<char> >' should be explicitly initialized in the copy constructor
../../include/zipexception.h: In copy constructor 'CZipException::CZipException(CZipException&)':
../../include/zipexception.h:57: warning: base class 'class std::exception' should be explicitly initialized in the copy constructor
../../include/zipstorage.h: At global scope:
../../include/zipstorage.h:45: warning: 'struct CZipCallback' has virtual functions but non-virtual destructor
../../include/zipstorage.h:85: warning: 'struct CZipSpanCallback' has virtual functions but non-virtual destructor
../../include/zipstorage.h:102: warning: 'struct CZipActionCallback' has virtual functions but non-virtual destructor
../../include/ziparchive.h: In constructor 'CZipAddNewFileInfo::CZipAddNewFileInfo(CZipAbstractFile*, const TCHAR*)':
../../include/ziparchive.h:209: warning: 'CZipAddNewFileInfo::m_pFile' will be initialized after
../../include/ziparchive.h:135: warning:   'CZipString CZipAddNewFileInfo::m_szFileNameInZip'
../../include/ziparchive.h:120: warning:   when initialized here
../../zipcomp.cpp: At global scope:
../../zipcomp.cpp:69: warning: 'class SpanCallbackc' has virtual functions but non-virtual destructor
../../zipcomp.cpp:70: warning: unused parameter 'iProgress'
../../zipcomp.cpp:82: warning: 'class SpanActionCallbackc' has virtual functions but non-virtual destructor
../../zipcomp.cpp:83: warning: unused parameter 'iProgress'
In file included from ../../include/zipplatform.h:30,
                 from ../../zipcompatibility.cpp:19:
../../include/zipstring.h:52:1: warning: "_vsntprintf" redefined
In file included from ../../include/stdafx.h:91,
                 from ../../zipcompatibility.cpp:17:
c:/devl/mingw-412/bin/../lib/gcc/i686-pc-mingw32/4.1.2/../../../../include/tchar.h:268:1: warning: this is the location of the previous definition
../../include/zipstring.h: In copy constructor 'CZipString::CZipString(const CZipString&)':
../../include/zipstring.h:125: warning: base class 'struct std::basic_string<char, std::char_traits<char>, std::allocator<char> >' should be explicitly initialized in the copy constructor
../../include/zipexception.h: In copy constructor 'CZipException::CZipException(CZipException&)':
../../include/zipexception.h:57: warning: base class 'class std::exception' should be explicitly initialized in the copy constructor
../../include/zipstorage.h: At global scope:
../../include/zipstorage.h:45: warning: 'struct CZipCallback' has virtual functions but non-virtual destructor
../../include/zipstorage.h:85: warning: 'struct CZipSpanCallback' has virtual functions but non-virtual destructor
../../include/zipstorage.h:102: warning: 'struct CZipActionCallback' has virtual functions but non-virtual destructor
In file included from ../../include/zipexception.h:34,
                 from ../../zipexception.cpp:18:
../../include/zipstring.h:52:1: warning: "_vsntprintf" redefined
In file included from ../../include/stdafx.h:91,
                 from ../../zipexception.cpp:17:
c:/devl/mingw-412/bin/../lib/gcc/i686-pc-mingw32/4.1.2/../../../../include/tchar.h:268:1: warning: this is the location of the previous definition
../../include/zipstring.h: In copy constructor 'CZipString::CZipString(const CZipString&)':
../../include/zipstring.h:125: warning: base class 'struct std::basic_string<char, std::char_traits<char>, std::allocator<char> >' should be explicitly initialized in the copy constructor
../../include/zipexception.h: In copy constructor 'CZipException::CZipException(CZipException&)':
../../include/zipexception.h:57: warning: base class 'class std::exception' should be explicitly initialized in the copy constructor
In file included from ../../include/zipabstractfile.h:24,
                 from ../../include/zipfile.h:24,
                 from ../../zipfile.cpp:18:
../../include/zipstring.h:52:1: warning: "_vsntprintf" redefined
In file included from ../../include/stdafx.h:91,
                 from ../../zipfile.cpp:17:
c:/devl/mingw-412/bin/../lib/gcc/i686-pc-mingw32/4.1.2/../../../../include/tchar.h:268:1: warning: this is the location of the previous definition
../../include/zipstring.h: In copy constructor 'CZipString::CZipString(const CZipString&)':
../../include/zipstring.h:125: warning: base class 'struct std::basic_string<char, std::char_traits<char>, std::allocator<char> >' should be explicitly initialized in the copy constructor
../../include/zipexception.h: In copy constructor 'CZipException::CZipException(CZipException&)':
../../include/zipexception.h:57: warning: base class 'class std::exception' should be explicitly initialized in the copy constructor
In file included from ../../include/zipabstractfile.h:24,
                 from ../../include/zipfile.h:24,
                 from ../../include/zipstorage.h:30,
                 from ../../include/zipfileheader.h:31,
                 from ../../zipfileheader.cpp:19:
../../include/zipstring.h:52:1: warning: "_vsntprintf" redefined
In file included from ../../include/stdafx.h:91,
                 from ../../zipfileheader.cpp:18:
c:/devl/mingw-412/bin/../lib/gcc/i686-pc-mingw32/4.1.2/../../../../include/tchar.h:268:1: warning: this is the location of the previous definition
../../include/zipstring.h: In copy constructor 'CZipString::CZipString(const CZipString&)':
../../include/zipstring.h:125: warning: base class 'struct std::basic_string<char, std::char_traits<char>, std::allocator<char> >' should be explicitly initialized in the copy constructor
../../include/zipstorage.h: At global scope:
../../include/zipstorage.h:45: warning: 'struct CZipCallback' has virtual functions but non-virtual destructor
../../include/zipstorage.h:85: warning: 'struct CZipSpanCallback' has virtual functions but non-virtual destructor
../../include/zipstorage.h:102: warning: 'struct CZipActionCallback' has virtual functions but non-virtual destructor
../../include/zipexception.h: In copy constructor 'CZipException::CZipException(CZipException&)':
../../include/zipexception.h:57: warning: base class 'class std::exception' should be explicitly initialized in the copy constructor
../../include/ziparchive.h: In constructor 'CZipAddNewFileInfo::CZipAddNewFileInfo(CZipAbstractFile*, const TCHAR*)':
../../include/ziparchive.h:209: warning: 'CZipAddNewFileInfo::m_pFile' will be initialized after
../../include/ziparchive.h:135: warning:   'CZipString CZipAddNewFileInfo::m_szFileNameInZip'
../../include/ziparchive.h:120: warning:   when initialized here
In file included from ../../include/zipabstractfile.h:24,
                 from ../../include/zipmemfile.h:29,
                 from ../../zipmemfile.cpp:18:
../../include/zipstring.h:52:1: warning: "_vsntprintf" redefined
In file included from ../../include/stdafx.h:91,
                 from ../../zipmemfile.cpp:17:
c:/devl/mingw-412/bin/../lib/gcc/i686-pc-mingw32/4.1.2/../../../../include/tchar.h:268:1: warning: this is the location of the previous definition
../../include/zipstring.h: In copy constructor 'CZipString::CZipString(const CZipString&)':
../../include/zipstring.h:125: warning: base class 'struct std::basic_string<char, std::char_traits<char>, std::allocator<char> >' should be explicitly initialized in the copy constructor
../../include/zipexception.h: In copy constructor 'CZipException::CZipException(CZipException&)':
../../include/zipexception.h:57: warning: base class 'class std::exception' should be explicitly initialized in the copy constructor
../../zipmemfile.cpp: In member function 'virtual DWORD CZipMemFile::Seek(LONG, int)':
../../zipmemfile.cpp:93: warning: comparison of unsigned expression < 0 is always false
In file included from ../../include/zipexception.h:34,
                 from ../../include/ziparchive.h:92,
                 from ../../include/hbzip2.h:76,
                 from ../../zipnew.cpp:53:
../../include/zipstring.h:52:1: warning: "_vsntprintf" redefined
In file included from ../../include/stdafx.h:91,
                 from ../../include/zipstring.h:19,
                 from ../../include/zipexception.h:34,
                 from ../../include/ziparchive.h:92,
                 from ../../include/hbzip2.h:76,
                 from ../../zipnew.cpp:53:
c:/devl/mingw-412/bin/../lib/gcc/i686-pc-mingw32/4.1.2/../../../../include/tchar.h:268:1: warning: this is the location of the previous definition
../../include/zipstring.h: In copy constructor 'CZipString::CZipString(const CZipString&)':
../../include/zipstring.h:125: warning: base class 'struct std::basic_string<char, std::char_traits<char>, std::allocator<char> >' should be explicitly initialized in the copy constructor
../../include/zipexception.h: In copy constructor 'CZipException::CZipException(CZipException&)':
../../include/zipexception.h:57: warning: base class 'class std::exception' should be explicitly initialized in the copy constructor
../../include/zipstorage.h: At global scope:
../../include/zipstorage.h:45: warning: 'struct CZipCallback' has virtual functions but non-virtual destructor
../../include/zipstorage.h:85: warning: 'struct CZipSpanCallback' has virtual functions but non-virtual destructor
../../include/zipstorage.h:102: warning: 'struct CZipActionCallback' has virtual functions but non-virtual destructor
../../include/ziparchive.h: In constructor 'CZipAddNewFileInfo::CZipAddNewFileInfo(CZipAbstractFile*, const TCHAR*)':
../../include/ziparchive.h:209: warning: 'CZipAddNewFileInfo::m_pFile' will be initialized after
../../include/ziparchive.h:135: warning:   'CZipString CZipAddNewFileInfo::m_szFileNameInZip'
../../include/ziparchive.h:120: warning:   when initialized here
../../zipnew.cpp: At global scope:
../../zipnew.cpp:75: warning: 'class SpanCallback' has virtual functions but non-virtual destructor
../../zipnew.cpp:76: warning: unused parameter 'iProgress'
../../zipnew.cpp:89: warning: 'class SpanActionCallback' has virtual functions but non-virtual destructor
../../zipnew.cpp:90: warning: unused parameter 'iProgress'
../../zipnew.cpp:519: warning: unused parameter 'bCase'
../../zipnew.cpp: In function 'int hb_UnzipSel(char*, _HB_ITEM*, BOOL, char*, const char*, _HB_ITEM*, _HB_ITEM*)':
../../zipnew.cpp:635: warning: comparison of unsigned expression >= 0 is always true
../../zipnew.cpp: In function 'int hb_UnzipSelIndex(char*, _HB_ITEM*, BOOL, char*, char*, _HB_ITEM*, _HB_ITEM*)':
../../zipnew.cpp:842: warning: comparison of unsigned expression >= 0 is always true
../../zipnew.cpp: At global scope:
../../zipnew.cpp:1003: warning: unused parameter 'pDiskBlock'
../../zipnew.cpp: In function '_HB_ITEM* hb___GetFileNamesFromZip(char*, BOOL)':
../../zipnew.cpp:270: warning: 'szMethod' may be used uninitialized in this function
../../zipnew.cpp: In function 'int hb___GetNumberofFilestoUnzip(char*)':
../../zipnew.cpp:463: warning: 'iNumberOfFiles' may be used uninitialized in this function
../../zipnew.cpp: In function 'const char* hb_GetZipComment(char*)':
../../zipnew.cpp:742: warning: 'szReturn' may be used uninitialized in this function
In file included from ../../include/zipplatform.h:30,
                 from ../../zipplatformcomm.cpp:19:
../../include/zipstring.h:52:1: warning: "_vsntprintf" redefined
In file included from ../../include/stdafx.h:91,
                 from ../../zipplatformcomm.cpp:18:
c:/devl/mingw-412/bin/../lib/gcc/i686-pc-mingw32/4.1.2/../../../../include/tchar.h:268:1: warning: this is the location of the previous definition
../../include/zipstring.h: In copy constructor 'CZipString::CZipString(const CZipString&)':
../../include/zipstring.h:125: warning: base class 'struct std::basic_string<char, std::char_traits<char>, std::allocator<char> >' should be explicitly initialized in the copy constructor
In file included from ../../include/zipabstractfile.h:24,
                 from ../../include/zipfile.h:24,
                 from ../../include/zipstorage.h:30,
                 from ../../zipstorage.cpp:18:
../../include/zipstring.h:52:1: warning: "_vsntprintf" redefined
In file included from ../../include/stdafx.h:91,
                 from ../../zipstorage.cpp:17:
c:/devl/mingw-412/bin/../lib/gcc/i686-pc-mingw32/4.1.2/../../../../include/tchar.h:268:1: warning: this is the location of the previous definition
../../include/zipstring.h: In copy constructor 'CZipString::CZipString(const CZipString&)':
../../include/zipstring.h:125: warning: base class 'struct std::basic_string<char, std::char_traits<char>, std::allocator<char> >' should be explicitly initialized in the copy constructor
../../include/zipstorage.h: At global scope:
../../include/zipstorage.h:45: warning: 'struct CZipCallback' has virtual functions but non-virtual destructor
../../include/zipstorage.h:85: warning: 'struct CZipSpanCallback' has virtual functions but non-virtual destructor
../../include/zipstorage.h:102: warning: 'struct CZipActionCallback' has virtual functions but non-virtual destructor
../../include/zipexception.h: In copy constructor 'CZipException::CZipException(CZipException&)':
../../include/zipexception.h:57: warning: base class 'class std::exception' should be explicitly initialized in the copy constructor
../../include/ziparchive.h: In constructor 'CZipAddNewFileInfo::CZipAddNewFileInfo(CZipAbstractFile*, const TCHAR*)':
../../include/ziparchive.h:209: warning: 'CZipAddNewFileInfo::m_pFile' will be initialized after
../../include/ziparchive.h:135: warning:   'CZipString CZipAddNewFileInfo::m_szFileNameInZip'
../../include/ziparchive.h:120: warning:   when initialized here
In file included from ../../ZipString.cpp:17:
../../include/zipstring.h:52:1: warning: "_vsntprintf" redefined
In file included from ../../include/stdafx.h:91,
                 from ../../include/zipstring.h:19,
                 from ../../ZipString.cpp:17:
c:/devl/mingw-412/bin/../lib/gcc/i686-pc-mingw32/4.1.2/../../../../include/tchar.h:268:1: warning: this is the location of the previous definition
../../include/zipstring.h: In copy constructor 'CZipString::CZipString(const CZipString&)':
../../include/zipstring.h:125: warning: base class 'struct std::basic_string<char, std::char_traits<char>, std::allocator<char> >' should be explicitly initialized in the copy constructor
In file included from ../../include/zippathcomponent.h:28,
                 from ../../zippathcomponent.cpp:18:
../../include/zipstring.h:52:1: warning: "_vsntprintf" redefined
In file included from ../../include/stdafx.h:91,
                 from ../../zippathcomponent.cpp:17:
c:/devl/mingw-412/bin/../lib/gcc/i686-pc-mingw32/4.1.2/../../../../include/tchar.h:268:1: warning: this is the location of the previous definition
../../include/zipstring.h: In copy constructor 'CZipString::CZipString(const CZipString&)':
../../include/zipstring.h:125: warning: base class 'struct std::basic_string<char, std::char_traits<char>, std::allocator<char> >' should be explicitly initialized in the copy constructor
In file included from ../../include/zipplatform.h:30,
                 from ../../zipplatform.cpp:19:
../../include/zipstring.h:52:1: warning: "_vsntprintf" redefined
In file included from ../../include/stdafx.h:91,
                 from ../../zipplatform.cpp:18:
c:/devl/mingw-412/bin/../lib/gcc/i686-pc-mingw32/4.1.2/../../../../include/tchar.h:268:1: warning: this is the location of the previous definition
../../include/zipstring.h: In copy constructor 'CZipString::CZipString(const CZipString&)':
../../include/zipstring.h:125: warning: base class 'struct std::basic_string<char, std::char_traits<char>, std::allocator<char> >' should be explicitly initialized in the copy constructor
../../include/zipstorage.h: At global scope:
../../include/zipstorage.h:45: warning: 'struct CZipCallback' has virtual functions but non-virtual destructor
../../include/zipstorage.h:85: warning: 'struct CZipSpanCallback' has virtual functions but non-virtual destructor
../../include/zipstorage.h:102: warning: 'struct CZipActionCallback' has virtual functions but non-virtual destructor
../../include/zipexception.h: In copy constructor 'CZipException::CZipException(CZipException&)':
../../include/zipexception.h:57: warning: base class 'class std::exception' should be explicitly initialized in the copy constructor
From bedipritpal at hotmail.com  Sat Jun 21 17:50:27 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Jun 21 17:50:31 2008
Subject: [Harbour] HB_NOSTARTUPWINDOW ?
In-Reply-To: <9DCD0C0A-F359-4EF4-83DB-5B0D7587944F@syenar.hu>
References: <F0D70E57-314C-4FD6-BFFE-923B152A2A6B@syenar.hu>
	<18047990.post@talk.nabble.com>
	<E49D1B16-2052-4F73-BDE1-9537E6382823@syenar.hu>
	<18048071.post@talk.nabble.com>
	<2238A329-2229-4056-900E-38D76EB16514@syenar.hu>
	<18048551.post@talk.nabble.com>
	<9DCD0C0A-F359-4EF4-83DB-5B0D7587944F@syenar.hu>
Message-ID: <18048941.post@talk.nabble.com>


Viktor

<<<
For me it took 2 minutes to try both methods on
my application.
>>>

:-)

<<<
Moreover, just today I've spent several hours trying
to fix and document warnings and bugs in hbwhat32 only.
I don't even use it, or plan to use it in the future,
just want a clean build.
>>>

Me too. I also do not use hbwhat32. But still... goal is the same.

<<<
I'd suggest to step over stirct personal needs when
it comes to developing Harbour.
>>>

I do not use GTWVT either. All my developments are on GTWVG.
May be it counter your suspicion.

<<<
I'm trying to leave unnecessary options and hacks out of
Harbour, because all these just raise questions and
create problems with no gain. There is not much point
in maintaining one good and one bad solution in parallel,
as the resources are scarce.
>>>

You have better goal concepts with you. 
So if you feel it right remove HB_NOSTARTUPWINDOW.
Hope you will not force this on GTWVG anyway.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/HB_NOSTARTUPWINDOW---tp18047134p18048941.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Jun 21 18:12:21 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 18:13:20 2008
Subject: [Harbour] HB_NOSTARTUPWINDOW ?
In-Reply-To: <18048941.post@talk.nabble.com>
References: <F0D70E57-314C-4FD6-BFFE-923B152A2A6B@syenar.hu>
	<18047990.post@talk.nabble.com>
	<E49D1B16-2052-4F73-BDE1-9537E6382823@syenar.hu>
	<18048071.post@talk.nabble.com>
	<2238A329-2229-4056-900E-38D76EB16514@syenar.hu>
	<18048551.post@talk.nabble.com>
	<9DCD0C0A-F359-4EF4-83DB-5B0D7587944F@syenar.hu>
	<18048941.post@talk.nabble.com>
Message-ID: <BB7B1F31-0869-475C-A9B1-C4FCFF24E4FE@syenar.hu>

>
Hi Pritpal,

> <<<
> I'd suggest to step over stirct personal needs when
> it comes to developing Harbour.
>>>>
>
> I do not use GTWVT either. All my developments are on GTWVG.
> May be it counter your suspicion.
>
> <<<
> I'm trying to leave unnecessary options and hacks out of
> Harbour, because all these just raise questions and
> create problems with no gain. There is not much point
> in maintaining one good and one bad solution in parallel,
> as the resources are scarce.
>>>>
>
> You have better goal concepts with you.
> So if you feel it right remove HB_NOSTARTUPWINDOW.
> Hope you will not force this on GTWVG anyway.

GTWVG is a contrib, and contribs (especially if actively
maintained) are private areas. The only thing
I "personally" care about them in general is that they
compile cleanly on all supported platforms. If they
don't, they should either be fixed or properly guarded.
Everything above that is an "extra".

We're at the stage where almost everything compiles
cleanly (at least on Windows and major compilers). Next
stage can be to actually fix / enhance functionality
where needed, and raise code quality / consistency.

As for building cleanly:

GCC 4.12/4.30 are the most picky compilers, and the
only contribs not building cleanly are these:

4.12:
- hbw32 / OLE (known hacks in code)
- hbole (hacks in code)
- hbfbird (longlong problems)
- hbsqlit2 / hbsqlit3 (foreign code only)
- hbwhat32
- hbziparch (this code is close to a disaster)
- rddads (foreign header)

(all .logs are available on sf.net BTW)

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 21 18:18:17 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 18:18:18 2008
Subject: [Harbour] 2008-06-21 23:27 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d3ec$Blat.v2.6.2$b49c33dc$23702f20904a@127.0.0.1>

2008-06-21 23:27 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtwvt/gtwvt.c
     - Removed HB_NOSTARTUPWINDOW link time GTWVT window 
       hiding option.
     ; For the same effect, but with the advantage that the 
       screen output won't slow the application at all, and 
       that behaviour is controllable from the command line 
       and/or at link time, please use gtgui.lib.
       With GTGUI the application window is neither created 
       nor updated, while GTWVT will create the window, 
       update the window, but it will be fully invisible with 
       no way to unhide. Clipboard and sound generation works 
       in both cases.
       For 100% similar end-user experience as the old hack:
         - link gtgui.lib
         - replace ANNOUNCE HB_NOSTARTUPWINDOW with 
                   ANNOUNCE HB_GT_GUI_DEFAULT
         - add REQUEST HB_GT_GUI
       to your application.

   * contrib/hbwhat32/whatutil.prg
   * contrib/hbwhat32/wincomm.prg
   * contrib/hbwhat32/wincore.prg
   * contrib/hbwhat32/windebug.prg
   * contrib/hbwhat32/winerror.prg
   * contrib/hbwhat32/winini.prg
   * contrib/hbwhat32/winrbar.prg
   * contrib/hbwhat32/wintabs.prg
   * contrib/hbwhat32/wintbar.prg
     * Some .prg level code cleanup. (= operators, 
       if(), <> -> !=). No actual problem found.
--
Brgds,
Viktor

From mbelgrano at deltain.it  Sat Jun 21 18:29:34 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun 21 18:29:42 2008
Subject: R: [Harbour] Repository and sf.net changes 3rd
Message-ID: <000201c8d3ee$4a9938ed$0400a8c0@deltain.net>

Is possible having also win64

----- Messaggio originale -----
Da: Szak?ts Viktor <harbour.01@syenar.hu>
Inviato: sabato 21 giugno 2008 21.26
A: Harbour Project Main Developer List. <harbour@harbour-project.org>
Oggetto: [Harbour] Repository and sf.net changes 3rd

Hi all,

- sf.net: Released 1.0.0 RC1 r8779 win32-mingw412 binary .zip
- sf.net: Released 1.0.0 RC1 r8779 win32-mingw430 binary .zip

- sf.net: Linux binaries-* groups renamed to binaries-linux-*

--
Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From bedipritpal at hotmail.com  Sat Jun 21 18:53:02 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Jun 21 18:53:05 2008
Subject: [Harbour] 2008-06-21 23:27 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8d3ec$Blat.v2.6.2$b49c33dc$23702f20904a@127.0.0.1>
References: <01c8d3ec$Blat.v2.6.2$b49c33dc$23702f20904a@127.0.0.1>
Message-ID: <18049459.post@talk.nabble.com>


Hello Viktor

<<<
     ; For the same effect, but with the advantage that the 
       screen output won't slow the application at all, and 
       that behaviour is controllable from the command line 
       and/or at link time, please use gtgui.lib.
       With GTGUI the application window is neither created 
       nor updated, while GTWVT will create the window, 
       update the window, but it will be fully invisible with 
       no way to unhide. Clipboard and sound generation works 
       in both cases.
       For 100% similar end-user experience as the old hack:
         - link gtgui.lib
         - replace ANNOUNCE HB_NOSTARTUPWINDOW with 
                   ANNOUNCE HB_GT_GUI_DEFAULT
         - add REQUEST HB_GT_GUI
       to your application.
>>>

This is partial solutin.

The above is valid only when you do not need the screen updates.
I think I could not explain properly the purpose for which this 'hack' 
was introduced. Let me expalin a bit further.

CASE 1:

GTWVT TERMINAL/SERVER
SERVER - Appln is up and running without visible window but screen is
updated as regular application. Periodically the screen buffer is sent to
th CLIENT to display. This cannot be achieved with GTGUI.

CASE 2:

Function Main()
   // Build screen, at this point console is not visible
   @ r,c say something
   ....
   Some important cleanups/applacation needs ( I have )
   // Popup the fully built screen
   Wvt_ShowWindow()
   ...
   ....

   Retrun NIL

Case 1 is what I use. Case 2 is used but it can be done another way too.
Also in case 1, I need access to Window handle and some other stuff.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/2008-06-21-23%3A27-UTC%2B0200-Viktor-Szakats-%28harbour.01-syenar-hu%29-tp18049174p18049459.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Jun 21 19:01:07 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 19:01:09 2008
Subject: [Harbour] 2008-06-22 00:36 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d3f2$Blat.v2.6.2$b08fb114$118814ace750@127.0.0.1>

2008-06-22 00:36 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbmysql/mysql.c
     ! Fixed GCC warning.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 21 19:32:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 19:33:48 2008
Subject: [Harbour] 2008-06-21 23:27 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <18049459.post@talk.nabble.com>
References: <01c8d3ec$Blat.v2.6.2$b49c33dc$23702f20904a@127.0.0.1>
	<18049459.post@talk.nabble.com>
Message-ID: <17B39A8F-18C8-4A34-A15C-4BB4376AB6C6@syenar.hu>

>
Hi Pritpal,

> The above is valid only when you do not need the screen updates.
> I think I could not explain properly the purpose for which this 'hack'
> was introduced. Let me expalin a bit further.
>
> CASE 1:
>
> GTWVT TERMINAL/SERVER
> SERVER - Appln is up and running without visible window but screen is
> updated as regular application. Periodically the screen buffer is  
> sent to
> th CLIENT to display. This cannot be achieved with GTGUI.
>
> CASE 2:
>
> Function Main()
>   // Build screen, at this point console is not visible
>   @ r,c say something
>   ....
>   Some important cleanups/applacation needs ( I have )
>   // Popup the fully built screen
>   Wvt_ShowWindow()
>   ...
>   ....
>
>   Retrun NIL
>
> Case 1 is what I use. Case 2 is used but it can be done another way  
> too.
> Also in case 1, I need access to Window handle and some other stuff.

Thanks for these descriptions.

CASE 1: I think it would be much "friendlier" (*) if
the app wouldn't hide itself right on startup, but would
rather minimize itself, or something like this. But these
things are enough to be done at runtime, right? With
something which we've already discussed, hb_gtInfo(
HB_GTI_WINDOWMODE, <nMode> ), where nMode can be "hidden",
"fittodesktop", "minimized". I'm not exactly sure what
would be a portable-enough list of modes.

Also, what I noticed though, is that the application is
getting the window parameter from the WinMain() function,
so it's still (and was always) possible to use any window
states when launching the application. You can create
a launcher which launches it hidden (hidden is very close
to a "malware" behaviour in my view, so no wonder they
didn't put this option to the GUI), but minimized, maximized,
are accessible from the Windows GUI.

One purpose a console-less app could theoretically come
handy, is native service support for Vista. HB_NOCONSOLEWINDOW
is not very useful in this case, because not even a hidden
window can be created in this mode.

In any case we might really need this feature for real-world
apps, we need to solve it with an internal command line switch,
IMO.

And like Clipper, we might add a way to support "burning-in"
internal switches to an application. This would be a generic
solution. If needed at all. It would be good to hear opinions
from others before starting up on this.

(*) A fully hidden app is only closable from the Task Manager,
which is not very typical for a business app, even if it runs
as a server.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 21 19:35:12 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 19:36:12 2008
Subject: R: [Harbour] Repository and sf.net changes 3rd
In-Reply-To: <000201c8d3ee$4a9938ed$0400a8c0@deltain.net>
References: <000201c8d3ee$4a9938ed$0400a8c0@deltain.net>
Message-ID: <AD27FC06-77BF-428A-BCE9-671E9286DD0F@syenar.hu>

Probably, if someone has the tools for it :)

I have Express versions installed, and these
don't come with 64bit parts. It would need an
MSVS reinstall, so I'll leave that for another
time.

I can send the 32 bit scripts though, the process
should be the same.

Brgds,
Viktor

On 2008.06.22., at 0:29, Massimo Belgrano wrote:

> Is possible having also win64
>
> ----- Messaggio originale -----
> Da: Szak?ts Viktor <harbour.01@syenar.hu>
> Inviato: sabato 21 giugno 2008 21.26
> A: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Oggetto: [Harbour] Repository and sf.net changes 3rd
>
> Hi all,
>
> - sf.net: Released 1.0.0 RC1 r8779 win32-mingw412 binary .zip
> - sf.net: Released 1.0.0 RC1 r8779 win32-mingw430 binary .zip
>
> - sf.net: Linux binaries-* groups renamed to binaries-linux-*
>
> --
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Jun 21 19:44:51 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 21 19:58:53 2008
Subject: [Harbour] 2008-06-22 01:42 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d3f8$Blat.v2.6.2$cc74f028$1634556b4e1e@127.0.0.1>

2008-06-22 01:42 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbwhat32/Makefile
     ! Fixed to compile using GNU make system. This 
       contrib needs xhb header in order to compile.
       (solved with an ugly hack)
       [TOMERGE 1.0.0RC1]
--
Brgds,
Viktor

From niki at synel.co.il  Sun Jun 22 02:37:17 2008
From: niki at synel.co.il (Chen Kedem)
Date: Sun Jun 22 02:36:26 2008
Subject: [Harbour] HB_NOSTARTUPWINDOW ?
Message-ID: <485DF31D.678F@synel.co.il>

Viktor,

In Borland VCL, the TApplication has a property named "ShowMainForm"
which allows the programmer to show or hide the main form when the
program starts. Some times a program need to work in the background
and "be quite". The SAME program might on other conditions works in
interactive mode.

I don't know if the implementation is clean or not, but I think this
is the reasoning behind that flag.


  Chen.
From niki at synel.co.il  Sun Jun 22 02:42:20 2008
From: niki at synel.co.il (Chen Kedem)
Date: Sun Jun 22 02:41:30 2008
Subject: [Harbour] HB_NOSTARTUPWINDOW ?
References: <485DF31D.678F@synel.co.il>
Message-ID: <485DF44C.6A85@synel.co.il>

Oh, it was a link time flag, sorry was thinking it is a run-time.

  Chen.
From harbour.01 at syenar.hu  Sun Jun 22 04:36:47 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 22 04:36:48 2008
Subject: [Harbour] [1.0.0RC1] 2008-06-22 10:24 UTC+0200 Viktor Szakats
 (harbour.01 syenar hu)
Message-ID: <01c8d443$Blat.v2.6.2$1bca98fe$d745869585a@127.0.0.1>

2008-06-22 10:24 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * common.mak
   + utils/hbpp/hbpragma.c
   - utils/hbpp/pragma.c
   * utils/hbpp/Makefile
     ! Renamed one file to not collide with contrib.
       [1.0.0RC1 ONLY]
       (this was solved in a different way in main branch)

   * contrib/hbwhat32/Makefile
     ! Fixed to compile using GNU make system. This 
       contrib needs xhb header in order to compile.
       (solved with an ugly hack)
       [1.0.0RC1]

   * contrib/hbfimage/Makefile
     ! Fixed to compile with MinGW.
       [1.0.0RC1]

   * doc/whatsnew.txt
     + Some updates.
       [1.0.0RC1]

   * contrib/hbwhat32/commctrl.ch
   * contrib/hbwhat32/commdlg.ch
   * contrib/hbwhat32/wingdi.ch
   * contrib/hbwhat32/wininet.ch
     ! Pulled from MinGW distribution.
     ; TODO: Refinement for UNICODE version which I realized a little later.
       [1.0.0RC1]

   * source/pp/hbppgen.c
     ! Fixed to escape strings in generated hbverbld.h.
       [1.0.0RC1]

   * contrib/hbw32ddr/Makefile
     ! Fixed to compile with GNU make.
     ! Found a way to compile with MingW.
       [1.0.0RC1]

   * contrib/hbtpathy/Makefile
     ! Fixed to work at all.
       [1.0.0RC1]

   - contrib/hbw32ddr/w32_ddrw.h
   * contrib/hbw32ddr/w32_ddrw.cpp
     * Cleanups, removing unneeded fluffs.
       [1.0.0RC1]

   * contrib/hbziparch/hbcomprs.c
   * contrib/hbziparch/zip.c
   * contrib/hbziparch/ziparchive.cpp
   * contrib/hbziparch/include/zip.h
   * contrib/hbziparch/include/ziparchive.h
   * contrib/hbziparch/include/unzip.h
   * contrib/hbziparch/include/zipinternalinfo.h
   - contrib/hbziparch/include/hbcomprs.h
   - contrib/hbziparch/include/zutil.h
   - contrib/hbziparch/include/zconf.h
     ! Stripped an old version (1.1.4) of ZLIB embedded in this 
       contrib. Some warnings and even more security problems 
       fixed this way. Users of this lib should link hbzlib.lib 
       from now on.
     ! Fixed some warnings after recent update.
       NOTE: One is still there (unused ..HBZIPCLEANUP function).
     ; NOTE: The quality of this code is not up to Harbour 
             standard. It compiles with a large amount of warnings 
             on all (BCC, MSVC, GCC) compilers. Also the included 
             ziparch source is dated.
             Anybody volunteering to clear these up?
     ; NOTE: Please test these changes, I'm not a user of this 
             contrib.
       [1.0.0RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun 22 04:39:22 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 22 04:39:22 2008
Subject: [Harbour] 2008-06-22 10:24 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d443$Blat.v2.6.2$7815e0fa$25d4d8fb4de4@127.0.0.1>

2008-06-22 10:24 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * ChangeLog
     + Marked changes merged with 1.0.0RC1.

   * make_vc.mak
   * make_vcce.mak
     * Syncing between these two.
     ! Fixed minor typo in CE comment.
     ! Fixed one rule where HB var was not respected in CE 
       DLL generation. Marek please check me.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun 22 05:00:06 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 22 05:00:07 2008
Subject: [Harbour] 2008-06-22 10:58 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d446$Blat.v2.6.2$5d8a0fec$23b8f327bd40@127.0.0.1>

2008-06-22 10:58 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/mtpl_b32.mak
   * contrib/mtpl_gcc.mak
   * contrib/mtpl_vc.mak
     + Added HB envvar harbour.exe override. This is currently 
       useful in VC only to create cross-platform builds.
       [1.0.0RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun 22 05:00:42 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 22 05:00:48 2008
Subject: [Harbour] [1.0.0RC1] 2008-06-22 10:58 UTC+0200 Viktor Szakats
 (harbour.01 syenar hu)
Message-ID: <01c8d446$Blat.v2.6.2$7308c354$11a8bb461ba2@127.0.0.1>

2008-06-22 10:58 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/mtpl_b32.mak
   * contrib/mtpl_gcc.mak
   * contrib/mtpl_vc.mak
     + Added HB envvar harbour.exe override. This is currently 
       useful in VC only to create cross-platform builds.
       [1.0.0RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun 22 05:21:40 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 22 05:22:38 2008
Subject: [Harbour] Repository and sf.net changes 4th (x64)
Message-ID: <A3C9031B-EDD8-4B30-8DE7-81A0A6650C9A@syenar.hu>

Hi all,

- sf.net: Released 1.0.0 RC1 r8800 win64-msvs2008cpp binary .zip

NOTE1: There are many warnings, even in core (see .logs).
NOTE2: I had to use a fresher revision to make it work.
NOTE3: I couldn't test it.
NOTE4: .dll -> .lib conversion is most probably wrong.
NOTE5: Some contribs didn't build. Most of them contain
        WINAPI calls with non-portable casts.
        Please review the uploaded .log and try to fix them.
        Failed contribs:
	- gtwvg
	- hbodbc
	- hbole
	- hbw32
	- hbw32ddr
	- hbwhat32
--
Brgds,
Viktor

From dmacias at mail.udg.mx  Sun Jun 22 05:28:00 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Jun 22 05:27:51 2008
Subject: [Harbour] And binaries ?
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <485E1B20.6060102@mail.udg.mx>

I made Harbour RC1 for OS/2

harbour-1.0.0rc1.bin-os2.gcc.zip

Where can I upload it ?

David Macias






From harbour.01 at syenar.hu  Sun Jun 22 05:46:35 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 22 05:47:32 2008
Subject: [Harbour] And binaries ?
In-Reply-To: <485E1B20.6060102@mail.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<485E1B20.6060102@mail.udg.mx>
Message-ID: <F693FBA2-D51F-4803-A048-B207D2CB3090@syenar.hu>

Hi David,

You can find the instructions here:
http://alexandria.wiki.sourceforge.net/File+Release+System+-+Offering+Files+for+Download

[ Short version:
   Use SFTP to upload it to <sfnetID>@frs.sourceforge.net/upload
   There are other alternatives too, like WebDAV. ]

I've added you as a "Release Technician", so you
should be able to add this file to the download
area once uploaded. If not, pls tell.

Brgds,
Viktor

On 2008.06.22., at 11:28, David Arturo Macias Corona wrote:

> I made Harbour RC1 for OS/2
>
> harbour-1.0.0rc1.bin-os2.gcc.zip
>
> Where can I upload it ?
>
> David Macias
>
>
>
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Sun Jun 22 05:48:15 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Jun 22 05:48:24 2008
Subject: R: Re: [Harbour] 2008-06-21 23:27 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
Message-ID: <000301c8d44d$1a741831$0400a8c0@deltain.net>

Can you made a sample about use via terminal server?

----- Messaggio originale -----
Da: Pritpal Bedi <bedipritpal@hotmail.com>
Inviato: domenica 22 giugno 2008 0.53
A: harbour@harbour-project.org <harbour@harbour-project.org>
Oggetto: Re: [Harbour] 2008-06-21 23:27 UTC+0200 Viktor Szakats (harbour.01syenar hu)


Hello Viktor

<<<
     ; For the same effect, but with the advantage that the 
       screen output won't slow the application at all, and 
       that behaviour is controllable from the command line 
       and/or at link time, please use gtgui.lib.
       With GTGUI the application window is neither created 
       nor updated, while GTWVT will create the window, 
       update the window, but it will be fully invisible with 
       no way to unhide. Clipboard and sound generation works 
       in both cases.
       For 100% similar end-user experience as the old hack:
         - link gtgui.lib
         - replace ANNOUNCE HB_NOSTARTUPWINDOW with 
                   ANNOUNCE HB_GT_GUI_DEFAULT
         - add REQUEST HB_GT_GUI
       to your application.
>>>

This is partial solutin.

The above is valid only when you do not need the screen updates.
I think I could not explain properly the purpose for which this 'hack' 
was introduced. Let me expalin a bit further.

CASE 1:

GTWVT TERMINAL/SERVER
SERVER - Appln is up and running without visible window but screen is
updated as regular application. Periodically the screen buffer is sent to
th CLIENT to display. This cannot be achieved with GTGUI.

CASE 2:

Function Main()
   // Build screen, at this point console is not visible
   @ r,c say something
   ....
   Some important cleanups/applacation needs ( I have )
   // Popup the fully built screen
   Wvt_ShowWindow()
   ...
   ....

   Retrun NIL

Case 1 is what I use. Case 2 is used but it can be done another way too.
Also in case 1, I need access to Window handle and some other stuff.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/2008-06-21-23%3A27-UTC%2B0200-Viktor-Szakats-%28harbour.01-syenar-hu%29-tp18049174p18049459.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Sun Jun 22 05:52:03 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Jun 22 05:52:11 2008
Subject: R: Re: R: [Harbour] Repository and sf.net changes 3rd
Message-ID: <000401c8d44d$a23aa195$0400a8c0@deltain.net>



----- Messaggio originale -----
Da: Szak?ts Viktor <harbour.01@syenar.hu>
Inviato: domenica 22 giugno 2008 1.36
A: Harbour Project Main Developer List. <harbour@harbour-project.org>
Oggetto: Re: R: [Harbour] Repository and sf.net changes 3rd

Probably, if someone has the tools for it :)

I have Express versions installed, and these
don't come with 64bit parts. It would need an
MSVS reinstall, so I'll leave that for another
time.

I can send the 32 bit scripts though, the process
should be the same.

Brgds,
Viktor

On 2008.06.22., at 0:29, Massimo Belgrano wrote:

> Is possible having also win64
>
> ----- Messaggio originale -----
> Da: Szak?ts Viktor <harbour.01@syenar.hu>
> Inviato: sabato 21 giugno 2008 21.26
> A: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Oggetto: [Harbour] Repository and sf.net changes 3rd
>
> Hi all,
>
> - sf.net: Released 1.0.0 RC1 r8779 win32-mingw412 binary .zip
> - sf.net: Released 1.0.0 RC1 r8779 win32-mingw430 binary .zip
>
> - sf.net: Linux binaries-* groups renamed to binaries-linux-*
>
> --
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Sun Jun 22 05:55:04 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Jun 22 05:55:12 2008
Subject: R: Re: R: [Harbour] Repository and sf.net changes 3rd
Message-ID: <000501c8d44e$0e4f3073$0400a8c0@deltain.net>

I have visual studio 2008 professional
If you give me same instruction i can try

----- Messaggio originale -----
Da: Szak?ts Viktor <harbour.01@syenar.hu>
Inviato: domenica 22 giugno 2008 1.36
A: Harbour Project Main Developer List. <harbour@harbour-project.org>
Oggetto: Re: R: [Harbour] Repository and sf.net changes 3rd

Probably, if someone has the tools for it :)

I have Express versions installed, and these
don't come with 64bit parts. It would need an
MSVS reinstall, so I'll leave that for another
time.

I can send the 32 bit scripts though, the process
should be the same.

Brgds,
Viktor

On 2008.06.22., at 0:29, Massimo Belgrano wrote:

> Is possible having also win64
>
> ----- Messaggio originale -----
> Da: Szak?ts Viktor <harbour.01@syenar.hu>
> Inviato: sabato 21 giugno 2008 21.26
> A: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Oggetto: [Harbour] Repository and sf.net changes 3rd
>
> Hi all,
>
> - sf.net: Released 1.0.0 RC1 r8779 win32-mingw412 binary .zip
> - sf.net: Released 1.0.0 RC1 r8779 win32-mingw430 binary .zip
>
> - sf.net: Linux binaries-* groups renamed to binaries-linux-*
>
> --
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Sun Jun 22 06:08:21 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Jun 22 06:08:32 2008
Subject: R: [Harbour] Repository and sf.net changes 4th (x64)
Message-ID: <000601c8d44f$eb11cf3f$0400a8c0@deltain.net>

thanks

----- Messaggio originale -----
Da: Szak?ts Viktor <harbour.01@syenar.hu>
Inviato: domenica 22 giugno 2008 11.22
A: Harbour Project Main Developer List. <harbour@harbour-project.org>
Oggetto: [Harbour] Repository and sf.net changes 4th (x64)

Hi all,

- sf.net: Released 1.0.0 RC1 r8800 win64-msvs2008cpp binary .zip

NOTE1: There are many warnings, even in core (see .logs).
NOTE2: I had to use a fresher revision to make it work.
NOTE3: I couldn't test it.
NOTE4: .dll -> .lib conversion is most probably wrong.
NOTE5: Some contribs didn't build. Most of them contain
        WINAPI calls with non-portable casts.
        Please review the uploaded .log and try to fix them.
        Failed contribs:
	- gtwvg
	- hbodbc
	- hbole
	- hbw32
	- hbw32ddr
	- hbwhat32
--
Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Sun Jun 22 06:26:14 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 22 06:26:13 2008
Subject: [Harbour] 2008-06-22 12:24 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d452$Blat.v2.6.2$660e6d8c$142494f07e4c@127.0.0.1>

2008-06-22 12:24 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbw32ddr/w32_ddrw.cpp
   * contrib/hbodbc/odbc.c
     ! Fixed to compile with MSVS2008 in AMD64 mode.
       [1.0.0RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun 22 06:29:43 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 22 06:29:44 2008
Subject: [Harbour] [1.0.0RC1] 2008-06-22 12:24 UTC+0200 Viktor Szakats
 (harbour.01 syenar hu)
Message-ID: <01c8d452$Blat.v2.6.2$e2b1fc82$1880d973eb06@127.0.0.1>

2008-06-22 12:24 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbcurl/hbcurl.c
     ! Synced with main branch to avoid an AMD64 mode error.
       [1.0.0RC1]

   * contrib/hbw32ddr/w32_ddrw.cpp
   * contrib/hbodbc/odbc.c
     ! Fixed to compile with MSVS2008 in AMD64 mode.
     * odbc.c completely synced with main branch.
       [1.0.0RC1]
--
Brgds,
Viktor

From dmacias at mail.udg.mx  Sun Jun 22 06:30:11 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Jun 22 06:30:02 2008
Subject: [Harbour] Re: And binaries ?
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <485E29B3.1070803@mail.udg.mx>

 >You can find the instructions here:
 >http://alexandria.wiki.sourceforge.net/File+Release+System+-+Offering+Files+for+Download

 >[ Short version:
 >   Use SFTP to upload it to <sfnetID>@frs.sourceforge.net/upload
 >   There are other alternatives too, like WebDAV. ]

 >I've added you as a "Release Technician", so you
 >should be able to add this file to the download
 >area once uploaded. If not, pls tell.

Thanks Viktor

Missing SFTP I used WebUpload

File are now added in Harbour download page

Can some one update "Harbour News" in Harbour main page to show RC1 
release ?

David Macias




From dmacias at mail.udg.mx  Sun Jun 22 06:32:38 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Jun 22 06:32:28 2008
Subject: [Harbour] RC1 binaries for OS/2-eCS
In-Reply-To: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
Message-ID: <485E2A46.4050105@mail.udg.mx>

Harbour RC1 binaries file for OS/2-eComStation are available in Harbour 
download page

as harbour-1.0.0rc1.bin-os2.gcc.zip

David Macias


From harbour.01 at syenar.hu  Sun Jun 22 07:15:26 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 22 07:16:24 2008
Subject: [Harbour] BUG: MSVC build with HB_BUILD_DLL=yes fails
Message-ID: <3AED82BD-BE23-44FC-B4E7-C004BF4B296D@syenar.hu>

Hi Marek,

As subject. It fails on building hbtest-dll.exe.

RC1 is also affected, so it's not possible to
build MSVC builds with .dlls.

Could you take a look at it?

See log .zipped.

Brdgs,
Viktor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: make_vc.zip
Type: application/zip
Size: 19061 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080622/63ecf36f/make_vc-0001.zip
-------------- next part --------------

From harbour.01 at syenar.hu  Sun Jun 22 07:20:54 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 22 07:20:54 2008
Subject: [Harbour] 2008-06-22 13:19 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d45a$Blat.v2.6.2$0916b58c$1dfc1322fac6@127.0.0.1>

2008-06-22 13:19 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbcurl/hbcurl.c
     + Code cleanup for 64bit. Only calls to Harbour APIs are 
       generating warnings now. (hb_xgrab, hb_xrealloc, 
       hb_fsWriteLarge, hb_fsReadLarge, hb_retclen, hb_storlen)
--
Brgds,
Viktor

From mbelgrano at deltain.it  Sun Jun 22 07:23:50 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Jun 22 07:24:00 2008
Subject: R: [Harbour] [1.0.0RC1] 2008-06-22 12:24 UTC+0200 Viktor Szakats
	(harbour.01 syenar hu)
Message-ID: <000701c8d45a$75b72458$0400a8c0@deltain.net>

Only Msvc allow cross generate executable for 64 bit os?
wich c compiler support cross compiling for windows mobile with harbour?
Which other cross compiler works?
Apple machintos si suppported?




----- Messaggio originale -----
Da: Szak?ts Viktor <harbour.01@syenar.hu>
Inviato: domenica 22 giugno 2008 12.29
A: harbour@harbour-project.org <harbour@harbour-project.org>
Oggetto: [Harbour] [1.0.0RC1] 2008-06-22 12:24 UTC+0200 Viktor Szakats (harbour.01 syenar hu)

2008-06-22 12:24 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbcurl/hbcurl.c
     ! Synced with main branch to avoid an AMD64 mode error.
       [1.0.0RC1]

   * contrib/hbw32ddr/w32_ddrw.cpp
   * contrib/hbodbc/odbc.c
     ! Fixed to compile with MSVS2008 in AMD64 mode.
     * odbc.c completely synced with main branch.
       [1.0.0RC1]
--
Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From e.m.giordano at emagsoftware.it  Sun Jun 22 07:32:04 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Jun 22 07:32:09 2008
Subject: [Harbour] inkey 
References: <B0081384742@ms1.3peaks.com> <485D4038.8050401@duplication.ca>
Message-ID: <87EDFD2F3DE5432DA21D5D7C79C8313D@emag>


-----Messaggio Originale----- 
Da: "George Frehner" <george@duplication.ca>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: sabato 21 giugno 2008 19.54
Oggetto: [Harbour] inkey


> Hi developers,
>
> I made this little test because I was getting 100% CPU
> usage in some old code when using RC1 (rev 8779) and
> BCC55 on Windows XP.

I just tested your sample using the same environment and latest SVN and the 
CPU goes to about 30% only in the last test ("CPU check...").

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Sun Jun 22 07:55:21 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 22 07:56:20 2008
Subject: R: Re: R: [Harbour] Repository and sf.net changes 3rd
In-Reply-To: <000501c8d44e$0e4f3073$0400a8c0@deltain.net>
References: <000501c8d44e$0e4f3073$0400a8c0@deltain.net>
Message-ID: <025B07B3-499D-442D-96D2-EAEA18CFA88F@syenar.hu>

Now, you only have to setup the paths for the
x64 cross compiler (x86 AMD64 cross-tools),
and start make_vc.bat.

But there is still a lot do to get a clean
build and eliminate all contrib errors.

Brgds,
Viktor

On 2008.06.22., at 11:55, Massimo Belgrano wrote:

> I have visual studio 2008 professional
> If you give me same instruction i can try
>
> ----- Messaggio originale -----
> Da: Szak?ts Viktor <harbour.01@syenar.hu>
> Inviato: domenica 22 giugno 2008 1.36
> A: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Oggetto: Re: R: [Harbour] Repository and sf.net changes 3rd
>
> Probably, if someone has the tools for it :)
>
> I have Express versions installed, and these
> don't come with 64bit parts. It would need an
> MSVS reinstall, so I'll leave that for another
> time.
>
> I can send the 32 bit scripts though, the process
> should be the same.
>
> Brgds,
> Viktor
>
> On 2008.06.22., at 0:29, Massimo Belgrano wrote:
>
>> Is possible having also win64
>>
>> ----- Messaggio originale -----
>> Da: Szak?ts Viktor <harbour.01@syenar.hu>
>> Inviato: sabato 21 giugno 2008 21.26
>> A: Harbour Project Main Developer List. <harbour@harbour-project.org>
>> Oggetto: [Harbour] Repository and sf.net changes 3rd
>>
>> Hi all,
>>
>> - sf.net: Released 1.0.0 RC1 r8779 win32-mingw412 binary .zip
>> - sf.net: Released 1.0.0 RC1 r8779 win32-mingw430 binary .zip
>>
>> - sf.net: Linux binaries-* groups renamed to binaries-linux-*
>>
>> --
>> Brgds,
>> Viktor
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Jun 22 07:59:59 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 22 08:00:59 2008
Subject: [Harbour] MSVS2008 64bit warnings and errors
Message-ID: <CEBE1534-350A-4F75-9662-D187E4B9E5FF@syenar.hu>

A non-text attachment was scrubbed...
Name: logs.zip
Type: application/zip
Size: 11792 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080622/7345c1ef/logs-0001.zip
From mbelgrano at deltain.it  Sun Jun 22 10:31:15 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Jun 22 10:31:22 2008
Subject: [Harbour] Wich C Compiler is best for harbour by speed in win32?
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED93@SRV02.deltain.net>


Borland ver 5.82 (free) and 5.9 is supported from most library(mediator) but limited to w32 platform
Microsoft Visual c++ 2008 express ver 9 support w32,w64,arm http://www.microsoft.com/express/vc/
MingW support w32,arm open source
http://codigo-base.blogspot.com/

the  object module library use  as Format OMF (BORLAND) or COFF (MICROSOFT,MINGW, PELLES C)
The OMF is Microsoft defined format but Microsoft at one point decided to abandon it in favor of a Microsoft defined variant on COFF
Just as there are OMF- and COFF-format object files (.obj's), there are also OMF and COFF format library files (.lib's).
http://www.microsoft.com/whdc/system/platform/firmware/PECOFF.mspx
http://www.delorie.com/djgpp/doc/coff/


I have used Borland but now I investigating about a change particularly for speed

Please share your experiences


Massimo Belgrano
?


From makis1970 at gmail.com  Sun Jun 22 10:50:11 2008
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Sun Jun 22 10:54:07 2008
Subject: [Harbour] HB_NOSTARTUPWINDOW ?
In-Reply-To: <F0D70E57-314C-4FD6-BFFE-923B152A2A6B@syenar.hu>
References: <F0D70E57-314C-4FD6-BFFE-923B152A2A6B@syenar.hu>
Message-ID: <009901c8d477$475f3e00$d61dba00$@com>

Hi Viktor,
I've tried to answer also yesterday but somehow my messages does not show
up. HB_NOSTARTUPWINDOW is been used to reduce flickering on startup of an
application. Because the wvt uses by default a specific font size and
current setmode (80,25) to show the window if even in the start of your
application you are changing fonts and setmode you can see lot of
flickering. Maybee the way is not the best but it help a lot to reduce the
applications flickering. I'm using it under gtwvw also. I'm not sure if the
same happen with wvt but I also moved the showwindow later on the
application and the windows opening is very smooth now.

Regards
Mike Evans


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Szakats Viktor
Sent: Saturday, June 21, 2008 8:53 PM
To: Harbour Project Main Developer List.
Subject: [Harbour] HB_NOSTARTUPWINDOW ?

Hi all,

Can anyone tell me what is the purpose of the
HB_NOSTARTUPWINDOW GTWVT hack?

If someone is using GTWVT why is it good to _hide_
the console window?

[ We have GTGUI, which is similar to the above feature,
but much faster and without an ugly hack. ]

Also, we have a similar one, but compile-time in GTWIN,
named HB_NO_ALLOC_CONSOLE. Do we need this? Isn't
GTGUI enough for those who don't want a window?

Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Jun 22 12:42:35 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 22 12:43:34 2008
Subject: [Harbour] HB_NOSTARTUPWINDOW ?
In-Reply-To: <009901c8d477$475f3e00$d61dba00$@com>
References: <F0D70E57-314C-4FD6-BFFE-923B152A2A6B@syenar.hu>
	<009901c8d477$475f3e00$d61dba00$@com>
Message-ID: <715D9B4D-70AE-45F5-9744-01BF31C901AA@syenar.hu>

Hi Mike,

I see, in fact I also have the window painted then
repainted in new size. Since this is a generic problem
(albeit not a huge one IMO), we may think about some
generic ways to avoid it (without special hacks that is).

1) or instance the window gets created only on the
first actual screen access, or something similar
(this may slow down screen methods a bit).

2) Or we might say that any font type, size, etc
changes are displayed on screen on the first SetMode()
call only. This would effectively reduce flickering
to only one repaint per startup (or layout change).
This is already a problem, where only one specific
(but not well documented) hb_gtInfo() call is
initiating a repaint.

Brgds,
Viktor

On 2008.06.22., at 16:50, Mike Evans (Gmail) wrote:

> Hi Viktor,
> I've tried to answer also yesterday but somehow my messages does not  
> show
> up. HB_NOSTARTUPWINDOW is been used to reduce flickering on startup  
> of an
> application. Because the wvt uses by default a specific font size and
> current setmode (80,25) to show the window if even in the start of  
> your
> application you are changing fonts and setmode you can see lot of
> flickering. Maybee the way is not the best but it help a lot to  
> reduce the
> applications flickering. I'm using it under gtwvw also. I'm not sure  
> if the
> same happen with wvt but I also moved the showwindow later on the
> application and the windows opening is very smooth now.
>
> Regards
> Mike Evans
>
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szakats  
> Viktor
> Sent: Saturday, June 21, 2008 8:53 PM
> To: Harbour Project Main Developer List.
> Subject: [Harbour] HB_NOSTARTUPWINDOW ?
>
> Hi all,
>
> Can anyone tell me what is the purpose of the
> HB_NOSTARTUPWINDOW GTWVT hack?
>
> If someone is using GTWVT why is it good to _hide_
> the console window?
>
> [ We have GTGUI, which is similar to the above feature,
> but much faster and without an ugly hack. ]
>
> Also, we have a similar one, but compile-time in GTWIN,
> named HB_NO_ALLOC_CONSOLE. Do we need this? Isn't
> GTGUI enough for those who don't want a window?
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Jun 22 15:07:10 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 22 15:07:11 2008
Subject: [Harbour] 2008-06-22 21:03 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d49b$Blat.v2.6.2$2c263a02$160cd0878eee@127.0.0.1>

2008-06-22 21:03 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbsetup.h
     + Added HB_OS_WIN_64 macro to replace _WIN64.
       [TOMERGE 1.0.0RC1]

   * contrib/hbwhat32/_winsys.c
   * contrib/hbwhat32/_winsock.c
   * contrib/hbwhat32/_wincall.c
   * contrib/gtwvg/wvtutils.c
     ! Fixed WIN64 compile errors.
       [TOMERGE 1.0.0RC1]

   * contrib/hbw32/dllcall.c
   * contrib/hbw32/w32_ole.c
     * _WIN64 -> HB_OS_WIN_64
       [TOMERGE 1.0.0RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun 22 15:22:19 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 22 15:22:19 2008
Subject: [Harbour] 2008-06-22 21:20 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d49d$Blat.v2.6.2$49bdc86c$df875b30d6a@127.0.0.1>

2008-06-22 21:20 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbw32/w32_ole.c
   * contrib/hbole/ole2.c
   * contrib/gtwvg/gtwvg.h
     ! HB_ID_REF() declaration changed to compile with MSVS2008 
       in AMD64.
       Przemek please verify me.
     ; With this, all 64bit contrib errors are fixed.
       [TOMERGE 1.0.0RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun 22 16:55:15 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 22 16:55:17 2008
Subject: [Harbour] 2008-06-22 22:49 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d4aa$Blat.v2.6.2$459f4eba$1f949f8aca84@127.0.0.1>

2008-06-22 22:49 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbapierr.h
   * source/rtl/errorapi.c
   * source/rdd/hbsix/sxtable.c
   * contrib/hbct/charonly.c
   * contrib/hbct/charevod.c
   * contrib/hbct/charone.c
   * contrib/hbct/pos1.c
   * contrib/hbct/ascpos.c
   * contrib/hbct/token1.c
   * contrib/hbct/atnum.c
   * contrib/hbct/count.c
   * contrib/hbct/replace.c
   * contrib/hbct/ctpad.c
   * contrib/hbct/justify.c
   * contrib/hbct/remove.c
   * contrib/xhb/hbxml.c
   * contrib/hbmzip/hbmzip.c
   * contrib/hbtip/utils.c
     * Changed remaining &hb_errFuncName -> HB_ERR_FUNCNAME
     + Added compatibility comments.
     ! Fixed hb_errFuncName value (changed to 1 to be the 
       same as HB_ERR_FUNCNAME).
     ; NOTE: 3rd party developers are encouraged to use 
             HB_ERR_FUNCNAME instead of hb_errFuncName. 
             There is no change in functionality.
       [TOMERGE 1.0.0RC1]
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun 22 16:29:29 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 22 17:31:15 2008
Subject: [Harbour] 2008-06-22 22:28 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d4a6$Blat.v2.6.2$ac18e452$24801928c242@127.0.0.1>

2008-06-22 22:28 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/xhb/hbcompat.ch
     + Added HB_SYMBOL_UNUSED() to xhb branch.
       [TOMERGE 1.0.0RC1]
--
Brgds,
Viktor

From eghorbino at yahoo.com  Mon Jun 23 00:01:47 2008
From: eghorbino at yahoo.com (Edmer)
Date: Mon Jun 23 00:01:59 2008
Subject: [Harbour] About ADORDD
Message-ID: <18062253.post@talk.nabble.com>


Hi Guys,

I noticed that there is no equivalent of DbSeek in ADORDD. Is this
intentional ?

Thanks,
Ed

-- 
View this message in context: http://www.nabble.com/About-ADORDD-tp18062253p18062253.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From dmacias at mail.udg.mx  Mon Jun 23 02:37:54 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Jun 23 02:37:43 2008
Subject: [Harbour] http HEAD method
In-Reply-To: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
Message-ID: <485F44C2.6060309@mail.udg.mx>

I do not found it in source code

There are support of http HEAD method in TIP ?

Below are info of w3.org about HEAD:
http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html

David Macias


9.4 HEAD

The HEAD method is identical to GET except that the server MUST NOT 
return a message-body in the response. The metainformation contained in 
the HTTP headers in response to a HEAD request SHOULD be identical to 
the information sent in response to a GET request. This method can be 
used for obtaining metainformation about the entity implied by the 
request without transferring the entity-body itself. This method is 
often used for testing hypertext links for validity, accessibility, and 
recent modification.

The response to a HEAD request MAY be cacheable in the sense that the 
information contained in the response MAY be used to update a previously 
cached entity from that resource. If the new field values indicate that 
the cached entity differs from the current entity (as would be indicated 
by a change in Content-Length, Content-MD5, ETag or Last-Modified), then 
the cache MUST treat the cache entry as stale.

From harbour.01 at syenar.hu  Mon Jun 23 04:31:12 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 23 04:32:10 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
Message-ID: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>

Hi all,

Are there any opinions on whether to use
RC1 or the main branch as the source for RC2?

I'd more and more vote to the main branch
as the source, as there has been too many
changes and fixes to be easy to merge.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun 23 04:41:01 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 23 04:40:58 2008
Subject: [Harbour] 2008-06-23 10:37 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d50c$Blat.v2.6.2$dda0d30c$1378b767c28c@127.0.0.1>

2008-06-23 10:37 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * make_vcce.mak
   * make_vc.mak
   * contrib/mtpl_vc.mak
     * KEEPSTATE -> HB_KEEPSTATE

   * contrib/hbziparch/Makefile
   * contrib/hbziparch/make_b32.bat
   * contrib/hbziparch/make_vc.bat
   * contrib/hbziparch/common.mak
   - contrib/hbziparch/zip.c
   + contrib/hbziparch/hbziparc.c
   - contrib/hbziparch/include/hbzip2.h
   + contrib/hbziparch/hbziparc.h
   - contrib/hbziparch/include/hbzip.h
   - contrib/hbziparch/include/hbz.h
   * contrib/hbziparch/zipcomp.cpp
   * contrib/hbziparch/zipnew.cpp
     - Removed unnecessary headers.
     * Renamed include/hbzip2.h to hbziparc.h
     * Renamed zip.c to hbziparc.c
     * Some cleanups to source.
     * BCC warnings suppressed.
     % Unecessary compilation flags removed.
--
Brgds,
Viktor

From dmacias at mail.udg.mx  Mon Jun 23 04:53:12 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Jun 23 04:53:02 2008
Subject: [Harbour] Re: Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
Message-ID: <485F6478.1030503@mail.udg.mx>

 >Are there any opinions on whether to use
 >RC1 or the main branch as the source for RC2?

Main branch, of course

David Macias
From harbour.01 at syenar.hu  Mon Jun 23 04:58:04 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 23 04:58:02 2008
Subject: [Harbour] 2008-06-23 10:45 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d50f$Blat.v2.6.2$3f375238$13d03a77881a@127.0.0.1>

2008-06-23 10:45 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbziparch/make_b32_dll.mak
   * contrib/hbziparch/make_b32.bat
   * contrib/hbziparch/make_vc.bat
   * contrib/hbziparch/Makefile
   * contrib/hbziparch/common.mak
   - contrib/hbziparch/lincompile.sh
   - contrib
   - contrib/hbziparch/include -> contrib/hbziparch
   - contrib/hbziparch/Linux
   + contrib/hbziparch/ZipFileMapping.h
   + contrib/hbziparch/ZipPathComponent_lnx.cpp
   + contrib/hbziparch/ZipPlatform_lnx.cpp
   - contrib/hbziparch/zippathcomponent.cpp
   + contrib/hbziparch/ZipPathComponent_win.cpp
   - contrib/hbziparch/zipplatform.cpp
   + contrib/hbziparch/ZipPlatform_win.cpp
     * Directory cleanup.
     ! Fixed #include.
--
Brgds,
Viktor

From mbelgrano at deltain.it  Mon Jun 23 06:07:24 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun 23 06:07:31 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED94@SRV02.deltain.net>

Use the main branch as source 
If is good for you is good for me/we


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Monday, June 23, 2008 10:31 AM
To: Harbour Project Main Developer List.
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?

Hi all,

Are there any opinions on whether to use
RC1 or the main branch as the source for RC2?

I'd more and more vote to the main branch
as the source, as there has been too many
changes and fixes to be easy to merge.

Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From jarabal at ya.com  Mon Jun 23 08:02:42 2008
From: jarabal at ya.com (Javier)
Date: Mon Jun 23 08:02:57 2008
Subject: [Harbour] Re: spd.c warning
In-Reply-To: <485C0BCC.7090605@mail.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<485C0BCC.7090605@mail.udg.mx>
Message-ID: <485F90E2.5080900@ya.com>

Thanks David,

It is not important, the new functions are easier and small that SPD and 
_SPD() or Sql_sprintf() not are in distribution RC1.

Thanks so much.
Xavi

David Arturo Macias Corona escribi?:
> Xavi:
>
> >A question, could your help me to transfer a mere C function Win32 to
> >OS/ 2?
>
> I do not know C, but I can help compiling/testing
>
> What do you try to do ?
>
> David Macias
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From harbour.01 at syenar.hu  Mon Jun 23 08:11:47 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 23 08:11:47 2008
Subject: [Harbour] 2008-06-23 14:08 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d52a$Blat.v2.6.2$4f3dac66$17b06f213b82@127.0.0.1>

2008-06-23 14:08 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   - hbziparch/make_b32_dll.bat
   - hbziparch/make_b32_dll.mak
   - hbziparch/doc
   * hbziparch/Makefile
   * hbziparch/common.mak
   * hbziparch/hbziparc.c
   * hbziparch/hbziparc.h
   - hbziparch/zipcomp.cpp
   + hbziparch/hbzipcom.cpp
   - hbziparch/zipnew.cpp
   + hbziparch/hbzipnew.cpp
     - Docs integrated into source.
     - Removed .dll building batch files (highly redundant, 
       non-maintained and probably non-working), so now the make 
       system is fully standard. If .dll generation is that 
       important, we will have to add it to the central 
       contrib make files, so that we can use it for 
       all contribs.
     * Renamed some files so separate ZipArch and Harbour parts.
     * Cleanups, renames (statics, globals), warning fixes, 
       deleted unneeded stuff, some functions made static.
     ; This is still a mess.
     ; NOTE: Since there is no sample or test program, neither
             do I use this contrib, I couldn't test any of these 
             changes. Please test.
             (if you have test code, upload it to hbziparch/tests)
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun 23 08:15:38 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 23 08:16:42 2008
Subject: [Harbour] Re: spd.c warning
In-Reply-To: <485F90E2.5080900@ya.com>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<485C0BCC.7090605@mail.udg.mx> <485F90E2.5080900@ya.com>
Message-ID: <1B1D6A30-4658-41CC-A659-171ACE312F3D@syenar.hu>

SQL_SPRINTF() will be in RC2, if we use the main branch. Which is  
likely.

Brgds,
Viktor

On 2008.06.23., at 14:02, Javier wrote:

> Thanks David,
>
> It is not important, the new functions are easier and small that SPD  
> and _SPD() or Sql_sprintf() not are in distribution RC1.
>
> Thanks so much.
> Xavi
>
> David Arturo Macias Corona escribi?:
>> Xavi:
>>
>> >A question, could your help me to transfer a mere C function Win32  
>> to
>> >OS/ 2?
>>
>> I do not know C, but I can help compiling/testing
>>
>> What do you try to do ?
>>
>> David Macias
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Jun 23 09:59:33 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 23 10:00:02 2008
Subject: [Harbour] 2008-06-23 15:57 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d539$Blat.v2.6.2$5d613344$b08b5cd6f36@127.0.0.1>

2008-06-23 15:57 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbziparch/common.mak
   - contrib/hbziparch/zip.h
   - contrib/hbziparch/unzip.h
   * contrib/hbziparch/hbziparc.c
   * contrib/hbziparch/hbziparc.h
   * contrib/hbziparch/hbzipcom.cpp
   * contrib/hbziparch/hbzipnew.cpp
     * Further cleanup.
     ; Now the Harbour part compiles cleanly, except the 
       recently added HB_FUNC_EXIT( HBZIPCLEANUP ).
     ; I have a version ready using the unmodified sources 
       of the latest ZipArchive version. Waiting for 
       testers or test code.
--
Brgds,
Viktor

From mbelgrano at deltain.it  Mon Jun 23 11:37:03 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun 23 11:37:16 2008
Subject: [Harbour] About ADORDD
In-Reply-To: <18062253.post@talk.nabble.com>
References: <18062253.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED99@SRV02.deltain.net>

If you search commercial product for complete porting of existing
application this are mediator or sqlrdd
It have emulation of dbfcdx so you can work application made with index
on,seek , set filter to,recno
Adordd permit do access data like dbf but not have a complete emulation
of behaviors of dbf.
Source of adordd are located in \harbour\contrib\rddado\ so if you want
you can inplement it

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Edmer
Sent: Monday, June 23, 2008 6:02 AM
To: harbour@harbour-project.org
Subject: [Harbour] About ADORDD


Hi Guys,

I noticed that there is no equivalent of DbSeek in ADORDD. Is this
intentional ?

Thanks,
Ed

-- 
View this message in context:
http://www.nabble.com/About-ADORDD-tp18062253p18062253.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Mon Jun 23 12:14:52 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun 23 12:15:02 2008
Subject: [Harbour] SCOPE VIOLATION PROTECTED HBGETLIST:_NPOS
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED83@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ED81@SRV02.deltain.net><1D210103-7B02-4951-9CDB-0295383F821F@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED83@SRV02.deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED9B@SRV02.deltain.net>

Instead OGetList:nPos := 2  I have used ReadNJump(oGetList,2  )  from oasys
But give me bound error in function settle probably because it is written for clipper5.2 class
Which modification must I do to run in harbour?

FUNCTION ReadNJump( getlist,nReadPos )
  LOCAL nKey:= 0,lUpdated:= .F.,nGetPos
  DEFAULT nReadPos TO 1
  WHILE nReadPos > 0 .and. nKey <> K_ESC
    lUpdated:= ReadModal( getlist,nReadPos )
    nKey:= Lastkey()
    // if we had a jump, do it.
    IF (nGetPos:= Ascan( getlist,{|e| e:JUMP2POS > 0} )) > 0
       // reset for another entry.
       nReadPos:= getlist[nGetPos]:JUMP2POS
       getlist[nGetPos]:JUMP2POS:= 0
    ENDIF
  ENDDO
RETURN lUpdated

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo Belgrano
Sent: Wednesday, June 18, 2008 7:36 PM
To: Harbour Project Main Developer List.
Subject: RE: [Harbour] SCOPE VIOLATION PROTECTED HBGETLIST:_NPOS

Can I do something of similar in harbour for goto fields by pos?


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Wednesday, June 18, 2008 7:31 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] SCOPE VIOLATION PROTECTED HBGETLIST:_NPOS

oGetList:pos := 2

like in Clipper.

Brgds,
Viktor

On 2008.06.18., at 19:00, Massimo Belgrano wrote:

> Goto second field in get but return error
> In xharbour I do
>   OGetList := __GetListActive()
>   OGetList:nPos := 2
> How can Do in harbour?
>
> Massimo Belgrano
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Mon Jun 23 13:33:12 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 23 13:34:11 2008
Subject: [Harbour] SCOPE VIOLATION PROTECTED HBGETLIST:_NPOS
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED9B@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ED81@SRV02.deltain.net><1D210103-7B02-4951-9CDB-0295383F821F@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED83@SRV02.deltain.net>
	<AFB948164110ED43B5EB849E8DEEF03815ED9B@SRV02.deltain.net>
Message-ID: <FD9301C5-6CFD-44DC-92A4-57CC26AD9124@syenar.hu>

I misread your first mail, sorry.

As for HBGetList() (as opposed to TGet()),
such feature is not implemented in Harbour.

Untested code:
--
// To be called from a VALID or WHEN block.
FUNCTION hb_getSetPos( xPos )
    LOCAL oGetList := __GetListActive()
    IF oGetList != NIL
       DO CASE
       CASE ISNUMBER( xPos )
          IF xPos >= 1 .AND. xPos <= Len( oGetList:aGetList )
             oGetList:Pos( xPos )
          ENDIF
       CASE ISCHARACTER( xPos )
          xPos := Upper( xPos )
          xPos := AScan( oGetList:aGetList, {| oGet |  
hb_getReadVar( oGet ) == xPos } )
          IF xPos > 0
             oGetList:Pos( xPos )
          ENDIF
       OTHERWISE
          oGetList:Pos()
       ENDCASE
    ENDIF
    RETURN

METHOD Pos( nPos ) CLASS TGetList

    ::nPos := nPos

    RETURN NIL
--

This way code in VALID/WHEN can call hb_getSetPos( x ) and
Settle() will try to go to x on the next move. But I didn't
try so the above may not work at all.

Brgds,
Viktor

On 2008.06.23., at 18:14, Massimo Belgrano wrote:

> Instead OGetList:nPos := 2  I have used ReadNJump(oGetList,2  )   
> from oasys
> But give me bound error in function settle probably because it is  
> written for clipper5.2 class
> Which modification must I do to run in harbour?
>
> FUNCTION ReadNJump( getlist,nReadPos )
>  LOCAL nKey:= 0,lUpdated:= .F.,nGetPos
>  DEFAULT nReadPos TO 1
>  WHILE nReadPos > 0 .and. nKey <> K_ESC
>    lUpdated:= ReadModal( getlist,nReadPos )
>    nKey:= Lastkey()
>    // if we had a jump, do it.
>    IF (nGetPos:= Ascan( getlist,{|e| e:JUMP2POS > 0} )) > 0
>       // reset for another entry.
>       nReadPos:= getlist[nGetPos]:JUMP2POS
>       getlist[nGetPos]:JUMP2POS:= 0
>    ENDIF
>  ENDDO
> RETURN lUpdated
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Massimo Belgrano
> Sent: Wednesday, June 18, 2008 7:36 PM
> To: Harbour Project Main Developer List.
> Subject: RE: [Harbour] SCOPE VIOLATION PROTECTED HBGETLIST:_NPOS
>
> Can I do something of similar in harbour for goto fields by pos?
>
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Szak?ts Viktor
> Sent: Wednesday, June 18, 2008 7:31 PM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] SCOPE VIOLATION PROTECTED HBGETLIST:_NPOS
>
> oGetList:pos := 2
>
> like in Clipper.
>
> Brgds,
> Viktor
>
> On 2008.06.18., at 19:00, Massimo Belgrano wrote:
>
>> Goto second field in get but return error
>> In xharbour I do
>>  OGetList := __GetListActive()
>>  OGetList:nPos := 2
>> How can Do in harbour?
>>
>> Massimo Belgrano
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Jun 23 13:43:22 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 23 13:43:18 2008
Subject: [Harbour] 2008-06-23 19:40 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d558$Blat.v2.6.2$a19a869a$168c22b9ded4@127.0.0.1>

2008-06-23 19:40 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/getsys.prg
   * source/rtl/tgetlist.prg
     ! Fixed ReadModal() for C5.2 mode to not accept a 
       (BTW unused) nPos parameter. This could cause an 
       RTE in Harbour if ReadModal( <number> ) was used, 
       with HB_COMPAT_C53 turned off. Default build was 
       not affected.
     + Added hb_GetReadVar( <oGet> ) -> <cVariableName> 
       to get the name of a GET variable in uppercase 
       and including the subscripts.
       Same as existing HBGetList():GetReadVar() on the 
       active GET object.
--
Brgds,
Viktor

From mbelgrano at deltain.it  Mon Jun 23 13:55:46 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun 23 13:56:01 2008
Subject: [Harbour] SCOPE VIOLATION PROTECTED HBGETLIST:_NPOS
In-Reply-To: <FD9301C5-6CFD-44DC-92A4-57CC26AD9124@syenar.hu>
References: <AFB948164110ED43B5EB849E8DEEF03815ED81@SRV02.deltain.net><1D210103-7B02-4951-9CDB-0295383F821F@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815ED83@SRV02.deltain.net><AFB948164110ED43B5EB849E8DEEF03815ED9B@SRV02.deltain.net>
	<FD9301C5-6CFD-44DC-92A4-57CC26AD9124@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815ED9D@SRV02.deltain.net>

Must be placed in getsys?
How
#include "hbclass.ch"
METHOD Pos( nPos ) CLASS TGetList


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Monday, June 23, 2008 7:33 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] SCOPE VIOLATION PROTECTED HBGETLIST:_NPOS

I misread your first mail, sorry.

As for HBGetList() (as opposed to TGet()),
such feature is not implemented in Harbour.

Untested code:
--
// To be called from a VALID or WHEN block.
FUNCTION hb_getSetPos( xPos )
    LOCAL oGetList := __GetListActive()
    IF oGetList != NIL
       DO CASE
       CASE ISNUMBER( xPos )
          IF xPos >= 1 .AND. xPos <= Len( oGetList:aGetList )
             oGetList:Pos( xPos )
          ENDIF
       CASE ISCHARACTER( xPos )
          xPos := Upper( xPos )
          xPos := AScan( oGetList:aGetList, {| oGet |  
hb_getReadVar( oGet ) == xPos } )
          IF xPos > 0
             oGetList:Pos( xPos )
          ENDIF
       OTHERWISE
          oGetList:Pos()
       ENDCASE
    ENDIF
    RETURN

METHOD Pos( nPos ) CLASS TGetList

    ::nPos := nPos

    RETURN NIL
--

This way code in VALID/WHEN can call hb_getSetPos( x ) and
Settle() will try to go to x on the next move. But I didn't
try so the above may not work at all.

Brgds,
Viktor

On 2008.06.23., at 18:14, Massimo Belgrano wrote:

> Instead OGetList:nPos := 2  I have used ReadNJump(oGetList,2  )   
> from oasys
> But give me bound error in function settle probably because it is  
> written for clipper5.2 class
> Which modification must I do to run in harbour?
>
> FUNCTION ReadNJump( getlist,nReadPos )
>  LOCAL nKey:= 0,lUpdated:= .F.,nGetPos
>  DEFAULT nReadPos TO 1
>  WHILE nReadPos > 0 .and. nKey <> K_ESC
>    lUpdated:= ReadModal( getlist,nReadPos )
>    nKey:= Lastkey()
>    // if we had a jump, do it.
>    IF (nGetPos:= Ascan( getlist,{|e| e:JUMP2POS > 0} )) > 0
>       // reset for another entry.
>       nReadPos:= getlist[nGetPos]:JUMP2POS
>       getlist[nGetPos]:JUMP2POS:= 0
>    ENDIF
>  ENDDO
> RETURN lUpdated
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Massimo Belgrano
> Sent: Wednesday, June 18, 2008 7:36 PM
> To: Harbour Project Main Developer List.
> Subject: RE: [Harbour] SCOPE VIOLATION PROTECTED HBGETLIST:_NPOS
>
> Can I do something of similar in harbour for goto fields by pos?
>
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Szak?ts Viktor
> Sent: Wednesday, June 18, 2008 7:31 PM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] SCOPE VIOLATION PROTECTED HBGETLIST:_NPOS
>
> oGetList:pos := 2
>
> like in Clipper.
>
> Brgds,
> Viktor
>
> On 2008.06.18., at 19:00, Massimo Belgrano wrote:
>
>> Goto second field in get but return error
>> In xharbour I do
>>  OGetList := __GetListActive()
>>  OGetList:nPos := 2
>> How can Do in harbour?
>>
>> Massimo Belgrano
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Mon Jun 23 14:04:38 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 23 14:05:41 2008
Subject: [Harbour] SCOPE VIOLATION PROTECTED HBGETLIST:_NPOS
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED9D@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815ED81@SRV02.deltain.net><1D210103-7B02-4951-9CDB-0295383F821F@syenar.hu><AFB948164110ED43B5EB849E8DEEF03815ED83@SRV02.deltain.net><AFB948164110ED43B5EB849E8DEEF03815ED9B@SRV02.deltain.net>
	<FD9301C5-6CFD-44DC-92A4-57CC26AD9124@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815ED9D@SRV02.deltain.net>
Message-ID: <3C50D79D-E192-483D-93D6-C925484483A4@syenar.hu>

tgetlist.prg for a start.

There is a typo (maybe more):
CLASS TGetList should read CLASS HBGetList

This is just to give you an idea, if it doesn't
work out of the box, please try to invest some
effort in it before turning to this list.

Brgds,
Viktor

On 2008.06.23., at 19:55, Massimo Belgrano wrote:

> Must be placed in getsys?
> How
> #include "hbclass.ch"
> METHOD Pos( nPos ) CLASS TGetList
>
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org 
> ] On Behalf Of Szak?ts Viktor
> Sent: Monday, June 23, 2008 7:33 PM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] SCOPE VIOLATION PROTECTED HBGETLIST:_NPOS
>
> I misread your first mail, sorry.
>
> As for HBGetList() (as opposed to TGet()),
> such feature is not implemented in Harbour.
>
> Untested code:
> --
> // To be called from a VALID or WHEN block.
> FUNCTION hb_getSetPos( xPos )
>    LOCAL oGetList := __GetListActive()
>    IF oGetList != NIL
>       DO CASE
>       CASE ISNUMBER( xPos )
>          IF xPos >= 1 .AND. xPos <= Len( oGetList:aGetList )
>             oGetList:Pos( xPos )
>          ENDIF
>       CASE ISCHARACTER( xPos )
>          xPos := Upper( xPos )
>          xPos := AScan( oGetList:aGetList, {| oGet |
> hb_getReadVar( oGet ) == xPos } )
>          IF xPos > 0
>             oGetList:Pos( xPos )
>          ENDIF
>       OTHERWISE
>          oGetList:Pos()
>       ENDCASE
>    ENDIF
>    RETURN
>
> METHOD Pos( nPos ) CLASS TGetList
>
>    ::nPos := nPos
>
>    RETURN NIL
> --
>
> This way code in VALID/WHEN can call hb_getSetPos( x ) and
> Settle() will try to go to x on the next move. But I didn't
> try so the above may not work at all.
>
> Brgds,
> Viktor
>
> On 2008.06.23., at 18:14, Massimo Belgrano wrote:
>
>> Instead OGetList:nPos := 2  I have used ReadNJump(oGetList,2  )
>> from oasys
>> But give me bound error in function settle probably because it is
>> written for clipper5.2 class
>> Which modification must I do to run in harbour?
>>
>> FUNCTION ReadNJump( getlist,nReadPos )
>> LOCAL nKey:= 0,lUpdated:= .F.,nGetPos
>> DEFAULT nReadPos TO 1
>> WHILE nReadPos > 0 .and. nKey <> K_ESC
>>   lUpdated:= ReadModal( getlist,nReadPos )
>>   nKey:= Lastkey()
>>   // if we had a jump, do it.
>>   IF (nGetPos:= Ascan( getlist,{|e| e:JUMP2POS > 0} )) > 0
>>      // reset for another entry.
>>      nReadPos:= getlist[nGetPos]:JUMP2POS
>>      getlist[nGetPos]:JUMP2POS:= 0
>>   ENDIF
>> ENDDO
>> RETURN lUpdated
>>
>> -----Original Message-----
>> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org
>> ] On Behalf Of Massimo Belgrano
>> Sent: Wednesday, June 18, 2008 7:36 PM
>> To: Harbour Project Main Developer List.
>> Subject: RE: [Harbour] SCOPE VIOLATION PROTECTED HBGETLIST:_NPOS
>>
>> Can I do something of similar in harbour for goto fields by pos?
>>
>>
>> -----Original Message-----
>> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org
>> ] On Behalf Of Szak?ts Viktor
>> Sent: Wednesday, June 18, 2008 7:31 PM
>> To: Harbour Project Main Developer List.
>> Subject: Re: [Harbour] SCOPE VIOLATION PROTECTED HBGETLIST:_NPOS
>>
>> oGetList:pos := 2
>>
>> like in Clipper.
>>
>> Brgds,
>> Viktor
>>
>> On 2008.06.18., at 19:00, Massimo Belgrano wrote:
>>
>>> Goto second field in get but return error
>>> In xharbour I do
>>> OGetList := __GetListActive()
>>> OGetList:nPos := 2
>>> How can Do in harbour?
>>>
>>> Massimo Belgrano
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Jun 23 14:07:48 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 23 14:21:15 2008
Subject: [Harbour] 2008-06-23 20:06 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d55c$Blat.v2.6.2$0b38b092$1be47bd688c@127.0.0.1>

2008-06-23 20:06 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbextern.ch
     * HB_GETREADVAR() added.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun 23 18:22:41 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 23 18:22:41 2008
Subject: [Harbour] 2008-06-24 00:21 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d57f$Blat.v2.6.2$a6e2bf60$f845a363b66@127.0.0.1>

2008-06-24 00:21 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   + contrib/hbziparch/tests
   + contrib/hbziparch/tests/bld_b32.bat
   + contrib/hbziparch/tests/bld_vc.bat
   + contrib/hbziparch/tests/zipa.prg
   + contrib/hbziparch/tests/unzipa.prg
   * contrib/hbziparch/hbziparc.c
   * contrib/hbziparch/hbzipcom.cpp
   * contrib/hbziparch/hbcomprs.c
   * contrib/hbziparch/hbzipnew.cpp
     * Further cleanup.
     ! Several potential buffer overruns fixed.
       (there are still quite some left)
     + Added simple tests.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun 23 18:34:59 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 23 18:34:55 2008
Subject: [Harbour] 2008-06-24 00:33 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d581$Blat.v2.6.2$5eb8b09e$16f8ea0d62f6@127.0.0.1>

2008-06-24 00:33 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   + contrib/hbziparch/readme.txt
   + contrib/hbziparch/zlib
   + contrib/hbziparch/zlib/deflate.h
   + contrib/hbziparch/zlib/zlib.h
   * contrib/hbziparch/common.mak
   * contrib/hbziparch/hbcomprs.c
   * contrib/hbziparch/hbziparc.c
   * contrib/hbziparch/hbzipcom.cpp
   * contrib/hbziparch/hbzipnew.cpp
   * contrib/hbziparch/License.txt
   * contrib/hbziparch/make_gcc.sh
   * contrib/hbziparch/make_vc.bat
   * contrib/hbziparch/Makefile
   * contrib/hbziparch/resource.h
   * contrib/hbziparch/stdafx.h
   * contrib/hbziparch/ZipExport.h
   * contrib/hbziparch/ZipPathComponent_lnx.cpp
   * contrib/hbziparch/ZipPathComponent_win.cpp
   * contrib/hbziparch/ZipPlatform_lnx.cpp
   * contrib/hbziparch/ZipPlatform_win.cpp
   * contrib/hbziparch/ZipString.cpp
   - contrib/hbziparch/stdafx.cpp
   - contrib/hbziparch/zipabstractfile.h
   - contrib/hbziparch/ziparchive.cpp
   - contrib/hbziparch/ziparchive.h
   - contrib/hbziparch/zipautobuffer.cpp
   - contrib/hbziparch/zipautobuffer.h
   - contrib/hbziparch/zipbaseexception.h
   - contrib/hbziparch/zipcentraldir.cpp
   - contrib/hbziparch/zipcentraldir.h
   - contrib/hbziparch/zipcollections.h
   - contrib/hbziparch/zipcompatibility.cpp
   - contrib/hbziparch/zipcompatibility.h
   - contrib/hbziparch/zipexception.cpp
   - contrib/hbziparch/zipexception.h
   - contrib/hbziparch/zipfile.cpp
   - contrib/hbziparch/zipfile.h
   - contrib/hbziparch/zipfileheader.cpp
   - contrib/hbziparch/zipfileheader.h
   - contrib/hbziparch/zipfilemapping.h
   - contrib/hbziparch/zipinternalinfo.h
   - contrib/hbziparch/zipmemfile.cpp
   - contrib/hbziparch/zipmemfile.h
   - contrib/hbziparch/zippathcomponent.h
   - contrib/hbziparch/zipplatform.h
   - contrib/hbziparch/zipplatformcomm.cpp
   - contrib/hbziparch/zipstorage.cpp
   - contrib/hbziparch/zipstorage.h
   - contrib/hbziparch/zipstring.h
     * ZipArchive 2.x -> ZipArchive 3.2.0 (latest)
       Only one minor modification (reported to author)
       Plus integrated ZLIB replaced with hbzlib.
     ; Pass 1

--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun 23 18:41:47 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 23 18:41:43 2008
Subject: [Harbour] 2008-06-24 00:35 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d582$Blat.v2.6.2$51d31774$1e502eba30da@127.0.0.1>

2008-06-24 00:35 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbziparch/_features.h
   * contrib/hbziparch/_platform.h
   * contrib/hbziparch/Aes.cpp
   * contrib/hbziparch/Aes.h
   * contrib/hbziparch/BaseLibCompressor.cpp
   * contrib/hbziparch/BaseLibCompressor.h
   * contrib/hbziparch/BytesWriter.h
   * contrib/hbziparch/Bzip2Compressor.cpp
   * contrib/hbziparch/Bzip2Compressor.h
   * contrib/hbziparch/DeflateCompressor.cpp
   * contrib/hbziparch/DeflateCompressor.h
   * contrib/hbziparch/DirEnumerator.cpp
   * contrib/hbziparch/DirEnumerator.h
   * contrib/hbziparch/FileFilter.cpp
   * contrib/hbziparch/FileFilter.h
   * contrib/hbziparch/FileInfo.h
   * contrib/hbziparch/Hmac.cpp
   * contrib/hbziparch/Hmac.h
   * contrib/hbziparch/RandomPool.cpp
   * contrib/hbziparch/RandomPool.h
   * contrib/hbziparch/Sha1.cpp
   * contrib/hbziparch/Sha1.h
   * contrib/hbziparch/std_mfc.h
   * contrib/hbziparch/std_stl.h
   * contrib/hbziparch/Wildcard.cpp
   * contrib/hbziparch/Wildcard.h
   * contrib/hbziparch/ZipAbstractFile.h
   * contrib/hbziparch/ZipAesCryptograph.cpp
   * contrib/hbziparch/ZipAesCryptograph.h
   * contrib/hbziparch/ZipArchive.cpp
   * contrib/hbziparch/ZipArchive.h
   * contrib/hbziparch/ZipAutoBuffer.cpp
   * contrib/hbziparch/ZipAutoBuffer.h
   * contrib/hbziparch/ZipBaseException.h
   * contrib/hbziparch/ZipCallback.h
   * contrib/hbziparch/ZipCallbackProvider.h
   * contrib/hbziparch/ZipCentralDir.cpp
   * contrib/hbziparch/ZipCentralDir.h
   * contrib/hbziparch/ZipCollections.h
   * contrib/hbziparch/ZipCollections_mfc.h
   * contrib/hbziparch/ZipCollections_stl.h
   * contrib/hbziparch/ZipCompatibility.cpp
   * contrib/hbziparch/ZipCompatibility.h
   * contrib/hbziparch/ZipCompressor.cpp
   * contrib/hbziparch/ZipCompressor.h
   * contrib/hbziparch/ZipCrc32Cryptograph.cpp
   * contrib/hbziparch/ZipCrc32Cryptograph.h
   * contrib/hbziparch/ZipCryptograph.cpp
   * contrib/hbziparch/ZipCryptograph.h
   * contrib/hbziparch/ZipException.cpp
   * contrib/hbziparch/ZipException.h
   * contrib/hbziparch/ZipExtraData.cpp
   * contrib/hbziparch/ZipExtraData.h
   * contrib/hbziparch/ZipExtraField.cpp
   * contrib/hbziparch/ZipExtraField.h
   * contrib/hbziparch/ZipFile.h
   * contrib/hbziparch/ZipFile_mfc.cpp
   * contrib/hbziparch/ZipFile_mfc.h
   * contrib/hbziparch/ZipFile_stl.cpp
   * contrib/hbziparch/ZipFile_stl.h
   * contrib/hbziparch/ZipFileHeader.cpp
   * contrib/hbziparch/ZipFileHeader.h
   * contrib/hbziparch/ZipFileMapping.h
   * contrib/hbziparch/ZipFileMapping_lnx.h
   * contrib/hbziparch/ZipFileMapping_win.h
   * contrib/hbziparch/ZipMemFile.cpp
   * contrib/hbziparch/ZipMemFile.h
   * contrib/hbziparch/ZipMutex.h
   * contrib/hbziparch/ZipMutex_lnx.h
   * contrib/hbziparch/ZipMutex_win.h
   * contrib/hbziparch/ZipPathComponent.h
   * contrib/hbziparch/ZipPlatform.h
   * contrib/hbziparch/ZipPlatformComm.cpp
   * contrib/hbziparch/ZipStorage.cpp
   * contrib/hbziparch/ZipStorage.h
   * contrib/hbziparch/ZipString.h
   * contrib/hbziparch/ZipString_mfc.h
   * contrib/hbziparch/ZipString_stl.h
   * contrib/hbziparch/ZipStringStoreSettings.h
     + ZipArchive lib update finished.
     ; Pass 2/2
     ; Please test.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Jun 24 00:42:37 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 24 00:42:33 2008
Subject: [Harbour] 2008-06-24 07:00 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d5b4$Blat.v2.6.2$b9f82a9c$138456d43618@127.0.0.1>

2008-06-24 07:00 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/gtwvg/common.mak
   * contrib/gtwvg/Makefile
     ! Added missing new public .ch header.
--
Brgds,
Viktor

From philb at philb.us  Tue Jun 24 01:35:34 2008
From: philb at philb.us (Phil Barnett)
Date: Tue Jun 24 01:35:38 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
Message-ID: <200806240135.34750.philb@philb.us>

On Monday 23 June 2008 04:31:12 am Szak?ts Viktor wrote:
> Hi all,
>
> Are there any opinions on whether to use
> RC1 or the main branch as the source for RC2?
>
> I'd more and more vote to the main branch
> as the source, as there has been too many
> changes and fixes to be easy to merge.

Well, in the SVN world, there is no distinction between a tag and a branch.

Once a branch is set, there is no reason to keep working on the old branch. If 
you continue working on it, then there is no way to go back to it's original 
state at the branch point.

We should be working in RC1 branch, and when it is tagged for RC2, all work 
should be done there.

The branch that we left behind when we tagged RC1 was not a main branch, it 
was just a branch with a name, like all the others. It was called 0.0.99r??, 
but it was no more or less important than any other branch.

Don't spend a lot of time keeping other branches up to date. 

We should be working exclusively in 1.0.0 RC1.

-- 
Waiting for sunspots.
From harbour.01 at syenar.hu  Tue Jun 24 02:11:30 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 24 02:12:28 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <200806240135.34750.philb@philb.us>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
	<200806240135.34750.philb@philb.us>
Message-ID: <36B1389E-9B38-4982-93E5-B955268F6532@syenar.hu>

>
Hi Phil,

> Well, in the SVN world, there is no distinction between a tag and a  
> branch.

Technically yes (or to be even more precise, in SVN
there are not tags, just branches). We have a choice
to decide how we use branches tough. We can use them
as tags, and we can use them as "real" branches.

Tag is just a marker in time.
Branch makes it possible to do parallel development.

> Once a branch is set, there is no reason to keep working on the old  
> branch. If
> you continue working on it, then there is no way to go back to it's  
> original
> state at the branch point.

There is, if you request the first revision of it.
It's also easy to create a new branch with the original
content of RC1 (svn -r <rev> copy from to).

> We should be working in RC1 branch, and when it is tagged for RC2,  
> all work
> should be done there.

That kind of defeats the purpose IMO, as we're basically
marking a given revision with a name. In this concept it
would be much easier to say that RC1 equals rev 8623.
Of course that's what branches/tags are for, but we should
agree on a concept beforehand to use this properly.

> The branch that we left behind when we tagged RC1 was not a main  
> branch, it
> was just a branch with a name, like all the others. It was called  
> 0.0.99r??,
> but it was no more or less important than any other branch.
>
> Don't spend a lot of time keeping other branches up to date.

Well my concept was (since I think this is the main
point of branching, moreover we did like this in betas,
too), is that work can be done _in parallel_ in RC1 branch,
which should have been called plain 1.0.0, and do all
the necessary fixes in that branch to release RC1 -> RC2
-> RCn -> final.

In RC phase we suppose there is isn't many need for
self-inducted development, we're essentially releasing
something, waiting for feedback and fixing bugs only.

_While_ this happens - thanks to branching - the
team isn't forced to just sit idle, waiting for bug
reports, but can already implement new features on the
main branch.

Maybe we're too few to be able to really exploit this
method and use it cleanly, but the need is definitely
there.

> We should be working exclusively in 1.0.0 RC1.

I think this all depends on the concept we agree on.

Since we didn't really agree on anything, I followed
the method in betas (and my common sense), so I put effort
into retrofitting fixes to RC1, but this turned out to
be a nightmare by now. (just like in betas).

Same would have happened if we continue to work on RC1,
since in that case, we'd have to retrofit everything to
the main branch. Since it's parallel development.

Anyway, since the main branch seems to be okay all in all
(I hope Przemek will take a close look, too), now it
seems better to copy RC2 from main.

It would be also good to hear other thoughts on this,
and get to an agreement whether to do "branching"
(parallel development) or "tagging" (linear). First
needs syncing, allows more dynamic development,
the seconds will slow development, but it requires
less (human) resources.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Jun 24 02:35:13 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 24 02:36:12 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <36B1389E-9B38-4982-93E5-B955268F6532@syenar.hu>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
	<200806240135.34750.philb@philb.us>
	<36B1389E-9B38-4982-93E5-B955268F6532@syenar.hu>
Message-ID: <E9B314DD-1A28-4654-BBBD-45BEFCE5CFEA@syenar.hu>

> It would be also good to hear other thoughts on this,
> and get to an agreement whether to do "branching"
> (parallel development) or "tagging" (linear). First
> needs syncing, allows more dynamic development,
> the seconds will slow development, but it requires
> less (human) resources.

One more - important - thought:

Branching is also for minor bugfix revisions,
not just RCs, so if we consider this, there is simply
no way to get around it. Let's say we're releasing
stable 1.0.0 today; if we completely want to avoid
parallel development ("real" branching), we should
either wait for an indefinite time to get all the
bugs and release 1.0.1 -> 1.0.2 -> 1.0.n. Or, if we
continue development (which we definitely want to
do), we will not be able to release 1.0.1, since we
did and do all the development in one branch.

That's the reason SVN dropped tags and uses
branches only.

This is not black & white of course, because
we can mix the two concepts for best results, by
having branches for main versions (1.0, 1.1, 2.0),
and having "read-only" branches (tags) to store
released codebases (just to make it easy to find
them without remembering the revision numbers).

So, if we consider the above, we should have names
'harbour1.0.0RC1' as 'harbour-1.0'.

Ugly ASCII art:
+--- 1.0
|      +-- 1.0.0RCn
|      | (fixes)
|      +-- 1.0.0
|      | (fixes)
|      +-- 1.0.n
|
| (development)
+--- 1.1
|      +-- 1.1.0RCn
|      | (fixes)
|      +-- 1.1.0
|      | (fixes)
|      +-- 1.1.n
|
| (development)
+--- 2.0
| (development)
...

Brgds,
Viktor

From philb at philb.us  Tue Jun 24 02:46:28 2008
From: philb at philb.us (Phil Barnett)
Date: Tue Jun 24 02:46:31 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <36B1389E-9B38-4982-93E5-B955268F6532@syenar.hu>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
	<200806240135.34750.philb@philb.us>
	<36B1389E-9B38-4982-93E5-B955268F6532@syenar.hu>
Message-ID: <200806240246.28454.philb@philb.us>

On Tuesday 24 June 2008 02:11:30 am Szak?ts Viktor wrote:
> Same would have happened if we continue to work on RC1,
> since in that case, we'd have to retrofit everything to
> the main branch. Since it's parallel development.

This just makes double work for everyone.

Right now, we should be concentrating on getting 1.0.0 out the door.

For now, other development should be on a back burner.

We simply don't have enough resources to be on multiple fronts.

-- 
Waiting for sunspots.
From harbour.01 at syenar.hu  Tue Jun 24 03:05:44 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 24 03:06:43 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <200806240246.28454.philb@philb.us>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
	<200806240135.34750.philb@philb.us>
	<36B1389E-9B38-4982-93E5-B955268F6532@syenar.hu>
	<200806240246.28454.philb@philb.us>
Message-ID: <BDCC8226-747C-4C5D-82AD-36AC21D07B98@syenar.hu>

> On Tuesday 24 June 2008 02:11:30 am Szak?ts Viktor wrote:
>> Same would have happened if we continue to work on RC1,
>> since in that case, we'd have to retrofit everything to
>> the main branch. Since it's parallel development.
>
> This just makes double work for everyone.
>
> Right now, we should be concentrating on getting 1.0.0 out the door.
>
> For now, other development should be on a back burner.
>
> We simply don't have enough resources to be on multiple fronts.

This didn't really help to clear our concept IMO.

(when will 1.0.0 be considered closes, how will we
release 1.0.1, how to copy/mark stuff on SVN...,
shall we rename 1.0.0RC1 to 1.0?)

Brgds,
Viktor

From philb at philb.us  Tue Jun 24 03:25:48 2008
From: philb at philb.us (Phil Barnett)
Date: Tue Jun 24 03:25:51 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <BDCC8226-747C-4C5D-82AD-36AC21D07B98@syenar.hu>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
	<200806240246.28454.philb@philb.us>
	<BDCC8226-747C-4C5D-82AD-36AC21D07B98@syenar.hu>
Message-ID: <200806240325.48221.philb@philb.us>

On Tuesday 24 June 2008 03:05:44 am Szak?ts Viktor wrote:
> (when will 1.0.0 be considered closes, how will we
> release 1.0.1, how to copy/mark stuff on SVN...,
> shall we rename 1.0.0RC1 to 1.0?)

There may be multiple branches, but they need to be clearly defined on what 
can be done to them.

Likely, something like your diagram, though.

For now, it's a problem we can tackle in the future.

When we mark 1.0.0-Final, we will also branch it to 1.1.0-dev where ongoing 
work will be done.

Any branches to 1.0.0-Final will be for service packs, like 1.0.0-SP1, which 
should retain nearly 100% 1.0.0 compatibility and smash any big bugs. If 
there are no big bugs, there should be no SP1.

The old branches need to be left alone. There is no point in updating them. If 
you want to work on multiple fronts, those branches should be made from the 
most current branch you wish to base your branch on. Not something in the 
past that needs to be caught up. That method is a waste of time and breaks 
things.

For now, I have asked developers to put enhancements on hold and concentrate 
on getting a stable 1.0.0 to the world.

Then, we can go crazy.

-- 
Waiting for sunspots.
From harbour.01 at syenar.hu  Tue Jun 24 04:11:47 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 24 04:28:28 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <200806240325.48221.philb@philb.us>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
	<200806240246.28454.philb@philb.us>
	<BDCC8226-747C-4C5D-82AD-36AC21D07B98@syenar.hu>
	<200806240325.48221.philb@philb.us>
Message-ID: <E2540DC3-B3FA-4508-BB59-79704AA8DE85@syenar.hu>

>
Hi Phil,

> There may be multiple branches, but they need to be clearly defined  
> on what
> can be done to them.
>
> Likely, something like your diagram, though.

Yes, see my mail. In the ASCII diagram in it, there
is basically two development paths at the same time.

One in the main branch, and one is the latest x.x
version branch.

As for the versions, I'd keep it simple: 1.0.x, no
Service Packs, just 1.0.0 (which is Final, no need
to add that), the only postfixes are betas and RCs
(maybe alphas).

> For now, it's a problem we can tackle in the future.

Not really, I think we should do this beforehand,
because this way I've already wasted days doing
something which wasn't necessary.

> When we mark 1.0.0-Final, we will also branch it to 1.1.0-dev where  
> ongoing
> work will be done.

An 1.0, 1.1 branch will suffice, which is is the "dev"
branch by definition.

> Any branches to 1.0.0-Final will be for service packs, like 1.0.0- 
> SP1, which
> should retain nearly 100% 1.0.0 compatibility and smash any big  
> bugs. If
> there are no big bugs, there should be no SP1.
>
> The old branches need to be left alone. There is no point in  
> updating them. If
> you want to work on multiple fronts, those branches should be made  
> from the
> most current branch you wish to base your branch on. Not something  
> in the
> past that needs to be caught up. That method is a waste of time and  
> breaks
> things.
>
> For now, I have asked developers to put enhancements on hold and  
> concentrate
> on getting a stable 1.0.0 to the world.

Do you agree with such a branch layout and versioning?:

+ harbour              - commit all new developments
|-+ harbour-1.0        - commit 1.0 fixes only ("1.0dev")
| +-- harbour-1.0.0RCn - read-only for RC release
| +-- harbour-1.0.n    - read-only for final release
|
|-+ harbour-1.1        - commit 1.1 fixes only
| +-- harbour-1.1.0bn  - read-only for beta release
| +-- harbour-1.1.0RCn - read-only for RC release
| +-- harbour-1.1.n    - read-only for final release
|
|-+ harbour-2.0        - commit 2.0 fixes only
| +-- harbour-2.0.0bn  - read-only for beta release
| +-- harbour-2.0.0RCn - read-only for RC release
| +-- harbour-2.0.n    - read-only for final release
| ...
|
...

Given enough time between major (x.x) releases
it's expected that development will be done in
the 'harbour' branch, and post-release bug fixing
is done in parallel in one of the 'harbour-x.x'
branches at a time. 'harbour-x.x.x*' branches
are all _read-only_.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Jun 24 04:29:09 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 24 05:25:06 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <E2540DC3-B3FA-4508-BB59-79704AA8DE85@syenar.hu>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
	<200806240246.28454.philb@philb.us>
	<BDCC8226-747C-4C5D-82AD-36AC21D07B98@syenar.hu>
	<200806240325.48221.philb@philb.us>
	<E2540DC3-B3FA-4508-BB59-79704AA8DE85@syenar.hu>
Message-ID: <6DAD6530-8F34-4CBB-A7B5-BE148D9122B0@syenar.hu>

> Do you agree with such a branch layout and versioning?:
>
> + harbour              - commit all new developments
> |-+ harbour-1.0        - commit 1.0 fixes only ("1.0dev")
> | +-- harbour-1.0.0RCn - read-only for RC release
> | +-- harbour-1.0.n    - read-only for final release
> |
> |-+ harbour-1.1        - commit 1.1 fixes only
> | +-- harbour-1.1.0bn  - read-only for beta release
> | +-- harbour-1.1.0RCn - read-only for RC release
> | +-- harbour-1.1.n    - read-only for final release
> |
> |-+ harbour-2.0        - commit 2.0 fixes only
> | +-- harbour-2.0.0bn  - read-only for beta release
> | +-- harbour-2.0.0RCn - read-only for RC release
> | +-- harbour-2.0.n    - read-only for final release
> | ...
> |
> ...

To emphases all that in the SVN tree, I propose this
layout:

main branch:
/trunk/harbour (what we have)

bugfix branches:
/branches/harbour-1.0
/branches/harbour-1.1
/branches/harbour-2.0

read-only "tags":
/tags/harbour-1.0.0RCn
/tags/harbour-1.1.0bn
/tags/harbour-1.1.0RCn
/tags/harbour-2.0.0bn
/tags/harbour-2.0.0RCn
(we already have all the old CVS "tags" here)

Opinions? Phil?

Brgds,
Viktor

From ernad.husremovic at sigma-com.net  Tue Jun 24 05:47:04 2008
From: ernad.husremovic at sigma-com.net (Ernad Husremovic)
Date: Tue Jun 24 05:47:12 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <23450601.1311214300286195.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <27187550.1331214300824918.JavaMail.root@zimbra-1.sigma-com.net>


> 
> main branch:
> /trunk/harbour (what we have)
> 
> bugfix branches:
> /branches/harbour-1.0
> /branches/harbour-1.1
> /branches/harbour-2.0
> 
> read-only "tags":
> /tags/harbour-1.0.0RCn
> /tags/harbour-1.1.0bn
> /tags/harbour-1.1.0RCn
> /tags/harbour-2.0.0bn
> /tags/harbour-2.0.0RCn
> (we already have all the old CVS "tags" here)
> 
> Opinions? Phil?
> 
> Brgds,
> Viktor
> 

This is the correct and expected svn organization.
Making subdirectories for releases in the trunk is confusing, and out of subversion standards.
This makes standard source code operations ("merging from trunk", "taking diffs between releases") difficult or impossible. 

Many other tools expects organization like above.
We use internally git scm infrastructure,  and pull harbour via git-svn. For that tool is expected to have  /trunk, /branches/, /tags/ organization like proposed in Viktor's post.


Regards,
Ernad

From dbtopas at dbtopas.lt  Tue Jun 24 07:20:03 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Jun 24 07:20:01 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <36B1389E-9B38-4982-93E5-B955268F6532@syenar.hu>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>	<200806240135.34750.philb@philb.us>
	<36B1389E-9B38-4982-93E5-B955268F6532@syenar.hu>
Message-ID: <4860D863.3020304@dbtopas.lt>

Szak?ts Viktor wrote:
> It would be also good to hear other thoughts on this,
> and get to an agreement whether to do "branching"
> (parallel development) or "tagging" (linear).


Hi,


actually, I do not understand at all what are we doing with 
tagging/branching. I've tried to discuss this question once, but no 
response received.

We can:
1) continue development in thunk/harbour until final 1.0 will be 
released and tag RCn to tags/harbour-1.0.0RCn. Then branch to 
branches/harbour-1.0 for future 1.0.n releases and continue all new 
features development in thunk.

2) do branching to branches/harbour-1.0 and do RCn and final 1.0.0 
releases and all corresponding tagging from this branch. And we can 
start all new feature development just after branching. But I understand 
we do not use this method of development, because usage of it failed 
during beta stage (developers where not updating beta branch).

3) do not branch at all and continue 1.0.0 final and 1.0.n development 
in the main branch. No branching will be done, only tagging to 
tags/harbour-1.0.0RCn, tags/harbour-1.0.0, tags/harbour-1.0.1, etc. 
After all 1.0.n we can start new development in thunk.


I think we rejected 2) because no one (with some exceptions) were 
updating branch code in beta stage. 3) is to conservative and I'd rather 
say it's not possible, because we will never know if we will find bug in 
1.0.n and if we will need a new 1.0.n+1. So, I see 1) the only 
acceptable way of development.

What we've done? We've copied thunk/harbour to thunk/harbour-RC1 and 
continued some limited development in thunk/harbour with some sync to 
thunk/harbour-RC1 by Viktor. I say "limited development", because we try 
to not add new features, but still we do much more than bug fixing in 
our code. We've call this svn copy operation "tagging", but it is not in 
the /tags, and we are changing it, so this is not the tag at all. It 
also not in the /branches and we are still closed for new feature 
development in thunk/harbour, so I'm not sure if thunk/harbour-RC1 is a 
branch. So, I do not understand that are we doing at all.

What to do?
If we agree on 1). We have to delete thunk/harbour-RC1, make a real tag 
in tags/harbour-1.0.0RC1 from thunk/harbour revision 8597, add a new tag 
in tags/harbour-1.0.0RC2 from thunk/harbour HEAD revision after we agree 
we are releasing RC2.

One more question I have is, does these RC1, RC2 have any sense if we do 
not do any binary (and even source) release available for final users? 
Everyone is using thunk/harbour HEAD.


Best regards,
Mindaugas

From iozuniga at ozs.com  Tue Jun 24 07:28:00 2008
From: iozuniga at ozs.com (=?iso-8859-1?Q?Ignacio_Ortiz_de_Z=FA=F1iga?=)
Date: Tue Jun 24 07:28:49 2008
Subject: [Harbour] ChangeLog.* remerge
In-Reply-To: <43D6FCCF-2B85-4C44-B263-9061E99B48BE@syenar.hu>
Message-ID: <7487edec.1c8d5ed.e47a0d.4ae1@ozs.com>

Viktor, 

>>Long time no see :)

Always in lurk mode. ;-)

>>Nice job. What GUI lib did you use?

Thanks. The GUI lib is Xailer (http://www.xailer.com)

>>Did you try to compile it with current Harbour? is there anything
>>missing for it?

Right now, Xailer only works with xHarbour, but we hope to have it working with Harbour before the end of year. 

Xailer has its own debugger, an important OOP extension and some other important issues that make the jump to Harbour  a little bit tedious. 

Regards,  

Ignacio Ortiz de Z??iga
iozuniga@ozs.com


-----Mensaje original-----
De: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] En nombre de Szak?ts Viktor
Enviado el: viernes, 20 de junio de 2008 15:31
Para: Harbour Project Main Developer List.
Asunto: Re: [Harbour] ChangeLog.* remerge

Hi Ignacio,

Long time no see :)

Nice job. What GUI lib did you use?

Did you try to compile it with current Harbour? is there anything
missing for it?

Brgds,
Viktor

On 2008.06.20., at 15:06, Ignacio Ortiz de Z??iga wrote:

> Victor,
>
>>> Another place where this may be good is to develop
>>> a visual interface for Harbour, but that should be IMO
>>> done as a separate project.
>
> Xailer team already has that tool COMPLETELY FREE for Harbour and  
> xHarbour, at least for Windows platform. The editor is based on  
> Scintilla. You may download it from this link:
>
> http://www.xailer.com/files/xedit2.zip
>
> It also includes a professional DBF and SQLite editor.
>
> Best regards,
>
> Ignacio Ortiz de Z??iga
> iozuniga@ozs.com
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Jun 24 07:32:38 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 24 07:48:32 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <4860D863.3020304@dbtopas.lt>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>	<200806240135.34750.philb@philb.us>
	<36B1389E-9B38-4982-93E5-B955268F6532@syenar.hu>
	<4860D863.3020304@dbtopas.lt>
Message-ID: <30BBD76C-0B26-497C-8DA7-57A3402570D7@syenar.hu>

>
Hi Mindaugas,

> We can:
> 1) continue development in thunk/harbour until final 1.0 will be  
> released and tag RCn to tags/harbour-1.0.0RCn. Then branch to  
> branches/harbour-1.0 for future 1.0.n releases and continue all new  
> features development in thunk.

My vote for this, this is what I was trying to describe in my answers  
to Phil.

> 2) do branching to branches/harbour-1.0 and do RCn and final 1.0.0  
> releases and all corresponding tagging from this branch. And we can  
> start all new feature development just after branching. But I  
> understand we do not use this method of development, because usage  
> of it failed during beta stage (developers where not updating beta  
> branch).

I agree.

> 3) do not branch at all and continue 1.0.0 final and 1.0.n  
> development in the main branch. No branching will be done, only  
> tagging to tags/harbour-1.0.0RCn, tags/harbour-1.0.0, tags/ 
> harbour-1.0.1, etc. After all 1.0.n we can start new development in  
> thunk.

Yes, this way can wait forever to "finish" 1.0.0, while we halt the  
development.
(or we will be unable to fix anything in 1.0.0 after moving forward).  
So this is
no go IMO.

> What we've done? We've copied thunk/harbour to thunk/harbour-RC1 and  
> continued some limited development in thunk/harbour with some sync  
> to thunk/harbour-RC1 by Viktor. I say "limited development", because  
> we try to not add new features, but still we do much more than bug  
> fixing in our code. We've call this svn copy operation "tagging",  
> but it is not in the /tags, and we are changing it, so this is not  
> the tag at all. It also not in the /branches and we are still closed  
> for new feature development in thunk/harbour, so I'm not sure if  
> thunk/harbour-RC1 is a branch. So, I do not understand that are we  
> doing at all.

We had no agreement on it, and that's where it leads.

> What to do?
> If we agree on 1). We have to delete thunk/harbour-RC1, make a real  
> tag in tags/harbour-1.0.0RC1 from thunk/harbour revision 8597, add a  
> new tag in tags/harbour-1.0.0RC2 from thunk/harbour HEAD revision  
> after we agree we are releasing RC2.

Fully agreed.

> One more question I have is, does these RC1, RC2 have any sense if  
> we do not do any binary (and even source) release available for  
> final users? Everyone is using thunk/harbour HEAD.

No much, but this needs someone(s) to do it. Actually if we have a real
1.0 branch and a real 1.0.0RC1 tag (a "read-only" branch), this can be
done anytime but at least independently from the tagging. You're  
absolutely
right, that releasing an RC1 without getting ppl to actually test it,
has not much point, since the point would be to get feedback on a
basically finished product.

I've tried what I could.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Jun 24 08:06:51 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 24 08:06:55 2008
Subject: [Harbour] 2008-06-24 14:00 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d5f2$Blat.v2.6.2$c961f060$1814777aa074@127.0.0.1>

2008-06-24 14:00 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/tgetlist.prg
     ! Fixed Settle() calls.
     ! Removed type constraint from ::nLastExitState.
       (this value may be of any type, even in TGet())
     * Formatting.
--
Brgds,
Viktor

From philb at philb.us  Tue Jun 24 08:15:34 2008
From: philb at philb.us (Phil Barnett)
Date: Tue Jun 24 08:15:42 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <E2540DC3-B3FA-4508-BB59-79704AA8DE85@syenar.hu>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
	<200806240325.48221.philb@philb.us>
	<E2540DC3-B3FA-4508-BB59-79704AA8DE85@syenar.hu>
Message-ID: <200806240815.34963.philb@philb.us>

On Tuesday 24 June 2008 04:11:47 am Szak?ts Viktor wrote:
> Do you agree with such a branch layout and versioning?:

No.

>
> + harbour ? ? ? ? ? ? ?- commit all new developments
>
> |-+ harbour-1.0 ? ? ? ?- commit 1.0 fixes only ("1.0dev")
> | +-- harbour-1.0.0RCn - read-only for RC release
> | +-- harbour-1.0.n ? ?- read-only for final release

 | +-- harbour-1.0.0    - read-only for final release

Our goal here is a 1.0.0 release, regardless of how many release candidates 
there are.


-- 
Waiting for sunspots.
From philb at philb.us  Tue Jun 24 08:16:10 2008
From: philb at philb.us (Phil Barnett)
Date: Tue Jun 24 08:16:14 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <6DAD6530-8F34-4CBB-A7B5-BE148D9122B0@syenar.hu>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
	<E2540DC3-B3FA-4508-BB59-79704AA8DE85@syenar.hu>
	<6DAD6530-8F34-4CBB-A7B5-BE148D9122B0@syenar.hu>
Message-ID: <200806240816.10774.philb@philb.us>

On Tuesday 24 June 2008 04:29:09 am Szak?ts Viktor wrote:
> > Do you agree with such a branch layout and versioning?:
> >
> > + harbour              - commit all new developments
> >
> > |-+ harbour-1.0        - commit 1.0 fixes only ("1.0dev")
> > | +-- harbour-1.0.0RCn - read-only for RC release
> > | +-- harbour-1.0.n    - read-only for final release
> > |
> > |-+ harbour-1.1        - commit 1.1 fixes only
> > | +-- harbour-1.1.0bn  - read-only for beta release
> > | +-- harbour-1.1.0RCn - read-only for RC release
> > | +-- harbour-1.1.n    - read-only for final release
> > |
> > |-+ harbour-2.0        - commit 2.0 fixes only
> > | +-- harbour-2.0.0bn  - read-only for beta release
> > | +-- harbour-2.0.0RCn - read-only for RC release
> > | +-- harbour-2.0.n    - read-only for final release
> > | ...
> >
> > ...
>
> To emphases all that in the SVN tree, I propose this
> layout:
>
> main branch:
> /trunk/harbour (what we have)
>
> bugfix branches:
> /branches/harbour-1.0
> /branches/harbour-1.1
> /branches/harbour-2.0
>
> read-only "tags":
> /tags/harbour-1.0.0RCn
> /tags/harbour-1.1.0bn
> /tags/harbour-1.1.0RCn
> /tags/harbour-2.0.0bn
> /tags/harbour-2.0.0RCn
> (we already have all the old CVS "tags" here)
>
> Opinions? Phil?

This looks sane.

-- 
Waiting for sunspots.
From harbour.01 at syenar.hu  Tue Jun 24 08:01:36 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 24 08:18:53 2008
Subject: [Harbour] BUG?: == operator in DO CASE
Message-ID: <6E688164-227A-4F50-8CBA-42E9837FAAD8@syenar.hu>

Hi all,

Here's an interesting one:

--- code
PROC MAIN()

    LOCAL n := NIL

    DO CASE
    CASE n == 1
       ? n, "eq 1"
    OTHERWISE
       ? n, "neq 1"
    ENDCASE

    RETURN
---

--- Clipper 5.2 and 5.3 results
Error BASE/1070  Argument error: ==
Called from MAIN(15)

--- Harbour r8824 result
NIL neq 1

Brgds,
Viktor

From rportnoff at spendmap.com  Tue Jun 24 08:29:01 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Tue Jun 24 08:27:48 2008
Subject: [Harbour] BUG?: == operator in DO CASE
In-Reply-To: <6E688164-227A-4F50-8CBA-42E9837FAAD8@syenar.hu>
References: <6E688164-227A-4F50-8CBA-42E9837FAAD8@syenar.hu>
Message-ID: <B0081463128@ms1.3peaks.com>

I think it's a bug in Clipper because...

CASE 1 == n

...will work. In fact, when I used to develop using Clipper, I would 
always make sure the possible NIL value was on the right side of the 
expression.


At 08:01 AM 6/24/2008, you wrote:
>Hi all,
>
>Here's an interesting one:
>
>--- code
>PROC MAIN()
>
>    LOCAL n := NIL
>
>    DO CASE
>    CASE n == 1
>       ? n, "eq 1"
>    OTHERWISE
>       ? n, "neq 1"
>    ENDCASE
>
>    RETURN
>---
>
>--- Clipper 5.2 and 5.3 results
>Error BASE/1070  Argument error: ==
>Called from MAIN(15)
>
>--- Harbour r8824 result
>NIL neq 1
>
>Brgds,
>Viktor
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From rportnoff at spendmap.com  Tue Jun 24 08:35:52 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Tue Jun 24 08:34:40 2008
Subject: [Harbour] BUG?: == operator in DO CASE
Message-ID: <B0081463328@ms1.3peaks.com>

...and if you choose to maintain this Clipper compatibility, IMO, it 
should be via HB_C52_STRICT only!


I think it's a bug in Clipper because...

CASE 1 == n

...will work. In fact, when I used to develop using Clipper, I would 
always make sure the possible NIL value was on the right side of the 
expression.


At 08:01 AM 6/24/2008, you wrote:
>Hi all,
>
>Here's an interesting one:
>
>--- code
>PROC MAIN()
>
>    LOCAL n := NIL
>
>    DO CASE
>    CASE n == 1
>       ? n, "eq 1"
>    OTHERWISE
>       ? n, "neq 1"
>    ENDCASE
>
>    RETURN
>---
>
>--- Clipper 5.2 and 5.3 results
>Error BASE/1070  Argument error: ==
>Called from MAIN(15)
>
>--- Harbour r8824 result
>NIL neq 1
>
>Brgds,
>Viktor
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From harbour.01 at syenar.hu  Tue Jun 24 08:35:10 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 24 08:36:08 2008
Subject: [Harbour] BUG?: == operator in DO CASE
In-Reply-To: <B0081463128@ms1.3peaks.com>
References: <6E688164-227A-4F50-8CBA-42E9837FAAD8@syenar.hu>
	<B0081463128@ms1.3peaks.com>
Message-ID: <95C2BC42-943B-4FC8-A205-99E168B52F68@syenar.hu>

Hi Randy,

Now that you say I had a though session
with a DO CASE construct comparing integers
to my custom NumAnd16() function returning
an int with _retni(). It sometimes worked,
sometimes not. The "solution" was to use
the reverse order that you say.

I still can't explain that odd behaviour.

Brgds,
Viktor

On 2008.06.24., at 14:29, Randy Portnoff wrote:

> I think it's a bug in Clipper because...
>
> CASE 1 == n
>
> ...will work. In fact, when I used to develop using Clipper, I would  
> always make sure the possible NIL value was on the right side of the  
> expression.
>
>
> At 08:01 AM 6/24/2008, you wrote:
>> Hi all,
>>
>> Here's an interesting one:
>>
>> --- code
>> PROC MAIN()
>>
>>   LOCAL n := NIL
>>
>>   DO CASE
>>   CASE n == 1
>>      ? n, "eq 1"
>>   OTHERWISE
>>      ? n, "neq 1"
>>   ENDCASE
>>
>>   RETURN
>> ---
>>
>> --- Clipper 5.2 and 5.3 results
>> Error BASE/1070  Argument error: ==
>> Called from MAIN(15)
>>
>> --- Harbour r8824 result
>> NIL neq 1
>>
>> Brgds,
>> Viktor
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Jun 24 09:10:27 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 24 09:11:28 2008
Subject: [Harbour] Re: BUG?: == operator in DO CASE/IF
In-Reply-To: <6E688164-227A-4F50-8CBA-42E9837FAAD8@syenar.hu>
References: <6E688164-227A-4F50-8CBA-42E9837FAAD8@syenar.hu>
Message-ID: <6A66FB92-9500-4C49-A787-761AA76B6A95@syenar.hu>

I'd add that the same problem exists with
'IF n == 1' and 'IF n = 1'

The construct starts to work in Clipper if
slightly modified:
'IF ( n == 1 )' -> OK
'IF n != 1' -> OK
'IF !( n == 1 )' -> OK
'iif( n == 1, , )' -> OK

Strange that such huge bug could slip into
Clipper.

Brgds,
Viktor

On 2008.06.24., at 14:01, Szak?ts Viktor wrote:

> Hi all,
>
> Here's an interesting one:
>
> --- code
> PROC MAIN()
>
>   LOCAL n := NIL
>
>   DO CASE
>   CASE n == 1
>      ? n, "eq 1"
>   OTHERWISE
>      ? n, "neq 1"
>   ENDCASE
>
>   RETURN
> ---
>
> --- Clipper 5.2 and 5.3 results
> Error BASE/1070  Argument error: ==
> Called from MAIN(15)
>
> --- Harbour r8824 result
> NIL neq 1
>
> Brgds,
> Viktor
>

From clipper5_y2d at versateladsl.be  Tue Jun 24 09:27:36 2008
From: clipper5_y2d at versateladsl.be (frank van nuffel)
Date: Tue Jun 24 09:27:20 2008
Subject: [Harbour] Re: BUG?: == operator in DO CASE/IF
References: <6E688164-227A-4F50-8CBA-42E9837FAAD8@syenar.hu>
	<6A66FB92-9500-4C49-A787-761AA76B6A95@syenar.hu>
Message-ID: <001401c8d5fe$163f0f20$4201a8c0@lan>

Hi Viktor,

Perhaps it's a legacy feature from the '87 compiler where = could also
signify assignment, but then again i doesn't explain the same for ==

iirc, Stephen Straley somewhere documented that for disambiguating = as
comparison, instead of assignment, it is best to write the constant to be
compared upon to the left of the expression, like Randy suggested

just my 2 cents :-)

frank

ps: fixes are moving fast, wow! and thanks

----- Original Message ----- 
From: "Szak?ts Viktor" <harbour.01@syenar.hu>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Tuesday, June 24, 2008 3:10 PM
Subject: [Harbour] Re: BUG?: == operator in DO CASE/IF


I'd add that the same problem exists with
'IF n == 1' and 'IF n = 1'

The construct starts to work in Clipper if
slightly modified:
'IF ( n == 1 )' -> OK
'IF n != 1' -> OK
'IF !( n == 1 )' -> OK
'iif( n == 1, , )' -> OK

Strange that such huge bug could slip into
Clipper.

Brgds,
Viktor

On 2008.06.24., at 14:01, Szak?ts Viktor wrote:

> Hi all,
>
> Here's an interesting one:
>
> --- code
> PROC MAIN()
>
>   LOCAL n := NIL
>
>   DO CASE
>   CASE n == 1
>      ? n, "eq 1"
>   OTHERWISE
>      ? n, "neq 1"
>   ENDCASE
>
>   RETURN
> ---
>
> --- Clipper 5.2 and 5.3 results
> Error BASE/1070  Argument error: ==
> Called from MAIN(15)
>
> --- Harbour r8824 result
> NIL neq 1
>
> Brgds,
> Viktor
>

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From dbtopas at dbtopas.lt  Tue Jun 24 11:56:46 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Jun 24 11:56:44 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <30BBD76C-0B26-497C-8DA7-57A3402570D7@syenar.hu>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>	<200806240135.34750.philb@philb.us>	<36B1389E-9B38-4982-93E5-B955268F6532@syenar.hu>	<4860D863.3020304@dbtopas.lt>
	<30BBD76C-0B26-497C-8DA7-57A3402570D7@syenar.hu>
Message-ID: <4861193E.9030303@dbtopas.lt>

Szak?ts Viktor wrote:
>> What to do?
>> If we agree on 1). We have to delete thunk/harbour-RC1, make a real 
>> tag in tags/harbour-1.0.0RC1 from thunk/harbour revision 8597, add a 
>> new tag in tags/harbour-1.0.0RC2 from thunk/harbour HEAD revision 
>> after we agree we are releasing RC2.
> 
> Fully agreed.
> 
>> One more question I have is, does these RC1, RC2 have any sense if we 
>> do not do any binary (and even source) release available for final 
>> users? Everyone is using thunk/harbour HEAD.
> 
> No much, but this needs someone(s) to do it. Actually if we have a real
> 1.0 branch and a real 1.0.0RC1 tag (a "read-only" branch), this can be
> done anytime but at least independently from the tagging. You're absolutely
> right, that releasing an RC1 without getting ppl to actually test it,
> has not much point, since the point would be to get feedback on a
> basically finished product.
> 
> I've tried what I could.

Hi,


ok, so nothing bad happened. We can proceed in this direction - let's 
continue developing in thunk until 1.0.0 final and do a proper tag 
setting in svn. If we are unable to build binary releases, we'll be able 
  at least to document simple checkout command after tagging, for those 
who want to test some specific RCn.

I'm not sure is Phil has the same opinion about svn layout. He has wrote 
"no", but I've not understood his proposition.

Phil Barnett wrote:
 >> Do you agree with such a branch layout and versioning?:
 > No.


Best regards,
Mindaugas
From harbour.01 at syenar.hu  Tue Jun 24 12:10:19 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 24 12:11:17 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <200806240816.10774.philb@philb.us>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
	<E2540DC3-B3FA-4508-BB59-79704AA8DE85@syenar.hu>
	<6DAD6530-8F34-4CBB-A7B5-BE148D9122B0@syenar.hu>
	<200806240816.10774.philb@philb.us>
Message-ID: <1A636ABE-FDE9-4784-9088-89D8DE0A0639@syenar.hu>

Sorry Phil, I'm not sure I understand you, you
said 'No' first, but here you seem to agree with
my same, but more detailed proposal (also agreed
on by those commenting).

Can we move forward into this direction?

Brgds,
Viktor

On 2008.06.24., at 14:16, Phil Barnett wrote:

> On Tuesday 24 June 2008 04:29:09 am Szak?ts Viktor wrote:
>>> Do you agree with such a branch layout and versioning?:
>>>
>>> + harbour              - commit all new developments
>>>
>>> |-+ harbour-1.0        - commit 1.0 fixes only ("1.0dev")
>>> | +-- harbour-1.0.0RCn - read-only for RC release
>>> | +-- harbour-1.0.n    - read-only for final release
>>> |
>>> |-+ harbour-1.1        - commit 1.1 fixes only
>>> | +-- harbour-1.1.0bn  - read-only for beta release
>>> | +-- harbour-1.1.0RCn - read-only for RC release
>>> | +-- harbour-1.1.n    - read-only for final release
>>> |
>>> |-+ harbour-2.0        - commit 2.0 fixes only
>>> | +-- harbour-2.0.0bn  - read-only for beta release
>>> | +-- harbour-2.0.0RCn - read-only for RC release
>>> | +-- harbour-2.0.n    - read-only for final release
>>> | ...
>>>
>>> ...
>>
>> To emphases all that in the SVN tree, I propose this
>> layout:
>>
>> main branch:
>> /trunk/harbour (what we have)
>>
>> bugfix branches:
>> /branches/harbour-1.0
>> /branches/harbour-1.1
>> /branches/harbour-2.0
>>
>> read-only "tags":
>> /tags/harbour-1.0.0RCn
>> /tags/harbour-1.1.0bn
>> /tags/harbour-1.1.0RCn
>> /tags/harbour-2.0.0bn
>> /tags/harbour-2.0.0RCn
>> (we already have all the old CVS "tags" here)
>>
>> Opinions? Phil?
>
> This looks sane.
>
> -- 
> Waiting for sunspots.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From guy.roussin at teledetection.fr  Tue Jun 24 12:35:49 2008
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Tue Jun 24 12:35:54 2008
Subject: [Harbour] TMYSQLSERVER error ...
Message-ID: <48612265.6000509@teledetection.fr>

Hi,

I get this error with current harbour svn.

Error BASE/1070  Argument error: == (Quit)
Error BASE/1070  Argument error: ==
Called from TMYSQLSERVER:NEW(1376)

Guy Roussin

From roberbox at gmail.com  Tue Jun 24 13:18:07 2008
From: roberbox at gmail.com (Roberto Lopez)
Date: Tue Jun 24 13:18:27 2008
Subject: [Harbour] Win32 Gui app behavior.
Message-ID: <48612C4F.4030507@gmail.com>

Hi All,

I've just downloaded RC1 (MigW version) for testing.

I've noted a different bahavior compared with beta 3 when building a 
Win32 GUI app.

A console window appears along the main app window.

How to avoid this ?

Any help on this is welcome.

TIA.

Roberto.










From harbour.01 at syenar.hu  Tue Jun 24 13:34:40 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 24 13:34:35 2008
Subject: [Harbour] 2008-06-24 19:20 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d620$Blat.v2.6.2$94fb9f78$13f057dae026@127.0.0.1>

2008-06-24 19:20 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbmsql/msql.c
   * contrib/hbmysql/mysql.c
     ! Partially undone previous change where hb_par/retnl() 
       calls were swapped for hb_par/retptr(). HB_PAR/RETPTR() 
       macros are used in the time being, until .prg level 
       code isn't updated to expect pointers rather then 
       numerics. The problem is that these pointers are checked 
       for zero on the .prg level. Notice that using par/retnl() 
       for pointers makes these function fail on Win64.
       TOFIX: Two solutions come to mind: 1) extend HVM to make 
              it possible to compare pointer types against zero. 
              2) develop different ways to return errors and modify 
              .prg level code accordingly.
              I'd vote for 1) if doable.

   * contrib/hbfimage/fi_winfu.c
   * contrib/hbfimage/fi_wrp.c
   * contrib/hbfimage/Makefile
     * __GNUC__ macro requirement moved to C source 
       from GNU-make CFLAGS.
--
Brgds,
Viktor

From roberbox at gmail.com  Tue Jun 24 14:02:06 2008
From: roberbox at gmail.com (Roberto Lopez)
Date: Tue Jun 24 14:02:19 2008
Subject: [Harbour] More on Win32 Gui app behavior.
Message-ID: <4861369E.9070906@gmail.com>

Hi all,

Sorry. It was my mistake, since I was linking gtwin.

Anyway, not linking gtwin, generates an error (undefined reference) 
since it is referenced by gtsys (hbrtl).

What are the correct libraries to link to produce a Win32 GUI app 
(without console)?

TIA.

Roberto.
From harbour.01 at syenar.hu  Tue Jun 24 14:09:28 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 24 14:10:28 2008
Subject: [Harbour] More on Win32 Gui app behavior.
In-Reply-To: <4861369E.9070906@gmail.com>
References: <4861369E.9070906@gmail.com>
Message-ID: <9E7C13D9-0D22-4149-A42A-168DEC47F193@syenar.hu>

Hi Roberto,

GTGUI

Brgds,
Viktor

On 2008.06.24., at 20:02, Roberto Lopez wrote:

> Hi all,
>
> Sorry. It was my mistake, since I was linking gtwin.
>
> Anyway, not linking gtwin, generates an error (undefined reference)  
> since it is referenced by gtsys (hbrtl).
>
> What are the correct libraries to link to produce a Win32 GUI app  
> (without console)?
>
> TIA.
>
> Roberto.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From gvarona at ec-red.com  Tue Jun 24 14:26:52 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Tue Jun 24 14:26:52 2008
Subject: [Harbour] More on Win32 Gui app behavior.
In-Reply-To: <9E7C13D9-0D22-4149-A42A-168DEC47F193@syenar.hu>
References: <4861369E.9070906@gmail.com>
	<9E7C13D9-0D22-4149-A42A-168DEC47F193@syenar.hu>
Message-ID: <48613C6C.5040503@ec-red.com>

I think that is one parameter:
- mwindows or
- mconsole
in the C compiler

Best Regards
GVS
Szak?ts Viktor escribi?:
> Hi Roberto,
>
> GTGUI
>
> Brgds,
> Viktor
>
> On 2008.06.24., at 20:02, Roberto Lopez wrote:
>
>> Hi all,
>>
>> Sorry. It was my mistake, since I was linking gtwin.
>>
>> Anyway, not linking gtwin, generates an error (undefined reference) 
>> since it is referenced by gtsys (hbrtl).
>>
>> What are the correct libraries to link to produce a Win32 GUI app 
>> (without console)?
>>
>> TIA.
>>
>> Roberto.
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> __________ Information from ESET Smart Security, version of virus 
> signature database 3214 (20080624) __________
>
> The message was checked by ESET Smart Security.
>
> http://www.eset.com
>
>
>

From roberbox at gmail.com  Tue Jun 24 15:48:10 2008
From: roberbox at gmail.com (Roberto Lopez)
Date: Tue Jun 24 15:48:22 2008
Subject: [Harbour] More on Win32 Gui app behavior.
In-Reply-To: <9E7C13D9-0D22-4149-A42A-168DEC47F193@syenar.hu>
References: <4861369E.9070906@gmail.com>
	<9E7C13D9-0D22-4149-A42A-168DEC47F193@syenar.hu>
Message-ID: <48614F7A.70707@gmail.com>

Szak?ts Viktor wrote:

> Hi Roberto,
> GTGUI

Thanks for the quick response.

I've tried, but linking GTGUI only I've got the following error:

libhbrtl.a(gtsys.o):gtsys.c:(text+0x11): undefined reference to 
'HB_FUN_HB_GT_WIN'

Regards,

Roberto.
From harbour.01 at syenar.hu  Tue Jun 24 15:57:20 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jun 24 15:58:17 2008
Subject: [Harbour] More on Win32 Gui app behavior.
In-Reply-To: <48614F7A.70707@gmail.com>
References: <4861369E.9070906@gmail.com>
	<9E7C13D9-0D22-4149-A42A-168DEC47F193@syenar.hu>
	<48614F7A.70707@gmail.com>
Message-ID: <FCAB9516-5A1C-4130-BF28-C3DB7CBE4052@syenar.hu>

Please check: /doc/gtapi.txt

Brgds,
Viktor

On 2008.06.24., at 21:48, Roberto Lopez wrote:

> Szak?ts Viktor wrote:
>
>> Hi Roberto,
>> GTGUI
>
> Thanks for the quick response.
>
> I've tried, but linking GTGUI only I've got the following error:
>
> libhbrtl.a(gtsys.o):gtsys.c:(text+0x11): undefined reference to  
> 'HB_FUN_HB_GT_WIN'
>
> Regards,
>
> Roberto.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From roberbox at gmail.com  Tue Jun 24 16:04:22 2008
From: roberbox at gmail.com (Roberto Lopez)
Date: Tue Jun 24 16:04:31 2008
Subject: [Harbour] More on Win32 Gui app behavior.
In-Reply-To: <48613C6C.5040503@ec-red.com>
References: <4861369E.9070906@gmail.com>	<9E7C13D9-0D22-4149-A42A-168DEC47F193@syenar.hu>
	<48613C6C.5040503@ec-red.com>
Message-ID: <48615346.2000409@gmail.com>

Guillermo Varona Silup? escribi?:
> I think that is one parameter:
> - mwindows or
> - mconsole
> in the C compiler

I've been using "-mwindows" parameter but that not solved the problem.

Maybe I'm making some mistake. I'll review the batch files again.

Thanks for the response.

Regards,

Roberto.

From roberbox at gmail.com  Tue Jun 24 16:10:01 2008
From: roberbox at gmail.com (Roberto Lopez)
Date: Tue Jun 24 16:10:11 2008
Subject: [Harbour] More on Win32 Gui app behavior.
In-Reply-To: <FCAB9516-5A1C-4130-BF28-C3DB7CBE4052@syenar.hu>
References: <4861369E.9070906@gmail.com>	<9E7C13D9-0D22-4149-A42A-168DEC47F193@syenar.hu>	<48614F7A.70707@gmail.com>
	<FCAB9516-5A1C-4130-BF28-C3DB7CBE4052@syenar.hu>
Message-ID: <48615499.6070600@gmail.com>

Szak?ts Viktor wrote:

> Please check: /doc/gtapi.txt

Ok. I'll do it.

Thanks.

Regards,

Roberto.
From pete_westg at yahoo.gr  Tue Jun 24 17:05:11 2008
From: pete_westg at yahoo.gr (Pete)
Date: Tue Jun 24 17:05:26 2008
Subject: [Harbour] Win32 Gui app behavior.
In-Reply-To: <48612C4F.4030507@gmail.com>
Message-ID: <611761.64255.qm@web25807.mail.ukl.yahoo.com>

-- ???? ????., 24/06/08, ?/? Roberto Lopez <roberbox@gmail.com> ??????:

> ???: Roberto Lopez <roberbox@gmail.com>
> ????: [Harbour] Win32 Gui app behavior.
> ????: harbour@harbour-project.org
> ??????????: ?????, 24 ??????? 2008, 17:18
> Hi All,
> 
> I've just downloaded RC1 (MigW version) for testing.
> 
> I've noted a different bahavior compared with beta 3
> when building a 
> Win32 GUI app.
> 
> A console window appears along the main app window.
> 
> How to avoid this ?
> 


Try to add the line:

SET C_USR=-DHB_GTGUI_HACK

to your environment settings and see what happens.


HTH


---
Pete





      
___________________________________________________________ 
?????????????? Yahoo!; 
?????????? ?? ?????????? ???????? (spam); ?? Yahoo! Mail 
???????? ??? ???????? ?????? ????????? ???? ??? ??????????? 
????????? http://login.yahoo.com/config/mail?.intl=gr 

From roberbox at gmail.com  Tue Jun 24 18:04:57 2008
From: roberbox at gmail.com (Roberto Lopez)
Date: Tue Jun 24 18:05:21 2008
Subject: [Harbour] [SOLVED] Win32 Gui app behavior.
Message-ID: <48616F89.8030005@gmail.com>

Hi All,

I've read /doc/gtapi.txt and adopted one of the solutions presented there.

I've added the following to my GUI lib:

REQUEST HB_GT_NUL_DEFAULT

And the console is gone.

Thanks to all for the help.

Regards,

Roberto.
From ernad.husremovic at sigma-com.net  Tue Jun 24 18:36:27 2008
From: ernad.husremovic at sigma-com.net (Ernad Husremovic)
Date: Tue Jun 24 18:36:35 2008
Subject: [Harbour] TMYSQLSERVER error ...
In-Reply-To: <27889918.1671214346805474.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <24027830.1691214346987032.JavaMail.root@zimbra-1.sigma-com.net>

I had the same problem.
It seems hbmysql is not in the good shape :(

The cause of problem is that nSocket is pointer, not numberic variable.

For example:
-return iif(::nSocket > 0, sqlGetErr(::nSocket), "No connection to server")
+return iif(::nSocket <> nil, sqlGetErr(::nSocket), "No connection to server")

With this knowledge, i think this would be better:
return iif(hb_IsPointer(::nSocket), sqlGetErr(::nSocket), "No connection to server")

Anyway, attached diff works for me. 


Regards,
Ernad

----- "Guy Roussin" <guy.roussin@teledetection.fr> wrote:

> Hi,
> 
> I get this error with current harbour svn.
> 
> Error BASE/1070  Argument error: == (Quit)
> Error BASE/1070  Argument error: ==
> Called from TMYSQLSERVER:NEW(1376)
> 
> Guy Roussin
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
A non-text attachment was scrubbed...
Name: tmysql.prg_bring.out.ba.diff
Type: application/octet-stream
Size: 3262 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080625/4055ca41/tmysql.prg_bring.out.ba.obj
From dmacias at mail.udg.mx  Tue Jun 24 18:50:47 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Tue Jun 24 18:50:35 2008
Subject: [Harbour] Re: [SOLVED] Win32 Gui app behavior
In-Reply-To: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
Message-ID: <48617A47.4030406@mail.udg.mx>

Roberto:

 >I've read /doc/gtapi.txt and adopted one of the solutions presented
 >there.

 >I've added the following to my GUI lib:

 >REQUEST HB_GT_NUL_DEFAULT

 >And the console is gone.

As I remember gtgui was created to be used with GUI applications with 
support of TONE() and others functions, as explained at bottom of 
/doc/gtapi.txt
You can search Changelog for gtgui too

If you OR OTHERS need those functions you should use
   REQUEST HB_GT_GTGUI_DEFAULT
and add gtgui.lib at link

David Macias

From philb at philb.us  Tue Jun 24 19:18:44 2008
From: philb at philb.us (Phil Barnett)
Date: Tue Jun 24 19:18:47 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <1A636ABE-FDE9-4784-9088-89D8DE0A0639@syenar.hu>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
	<200806240816.10774.philb@philb.us>
	<1A636ABE-FDE9-4784-9088-89D8DE0A0639@syenar.hu>
Message-ID: <200806241918.44417.philb@philb.us>

On Tuesday 24 June 2008 12:10:19 pm Szak?ts Viktor wrote:
> Sorry Phil, I'm not sure I understand you, you
> said 'No' first, but here you seem to agree with
> my same, but more detailed proposal (also agreed
> on by those commenting).
>
> Can we move forward into this direction?

Yes, that's fine.

Do you want to mark RC2?

-- 
Waiting for sunspots.
From roberbox at gmail.com  Tue Jun 24 21:20:22 2008
From: roberbox at gmail.com (Roberto Lopez)
Date: Tue Jun 24 21:20:33 2008
Subject: [Harbour] Re: [SOLVED] Win32 Gui app behavior
In-Reply-To: <48617A47.4030406@mail.udg.mx>
References: <20070330102120.D46851E3795@antivirus2.noc.udg.mx>
	<48617A47.4030406@mail.udg.mx>
Message-ID: <48619D56.1050009@gmail.com>

David Arturo Macias Corona wrote:

> If you OR OTHERS need those functions you should use
>   REQUEST HB_GT_GTGUI_DEFAULT
> and add gtgui.lib at link

Yes, you are right, but the exact name is 'HB_GT_GUI_DEFAULT', so:

REQUEST HB_GT_GUI_DEFAULT

Must be used.

Thanks.

Regards,

Roberto.
From harbour.01 at syenar.hu  Wed Jun 25 01:45:43 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 25 01:46:41 2008
Subject: Pointers as values. Was: Re: [Harbour] TMYSQLSERVER error ...
In-Reply-To: <24027830.1691214346987032.JavaMail.root@zimbra-1.sigma-com.net>
References: <24027830.1691214346987032.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <48BA244E-B45A-4F05-9FFF-778D57D0CF16@syenar.hu>

Hi Ernad,

I'd prefer a solution which won't break existing
.prg level code, yet allows to switch from longs
to pointers on the .c level.

One possible solution is to allow to compare
pointers to zero using operators (p != 0,
p = 0, p == 0, and even p > 0, p < 0). Comparison
with any other values would return .F., also,
maybe NIL should be also allowed in place of 0,
and we may allow such construct too: IF p ; ? "not null" ; ENDIF

This would mean that a non-NULL pointer would qualify
as .T., non-0, non-NIL and a NULL as .F., 0, NIL on
.prg level.

Brgds,
Viktor

On 2008.06.25., at 0:36, Ernad Husremovic wrote:

> I had the same problem.
> It seems hbmysql is not in the good shape :(
>
> The cause of problem is that nSocket is pointer, not numberic  
> variable.
>
> For example:
> -return iif(::nSocket > 0, sqlGetErr(::nSocket), "No connection to  
> server")
> +return iif(::nSocket <> nil, sqlGetErr(::nSocket), "No connection  
> to server")
>
> With this knowledge, i think this would be better:
> return iif(hb_IsPointer(::nSocket), sqlGetErr(::nSocket), "No  
> connection to server")
>
> Anyway, attached diff works for me.
>
>
> Regards,
> Ernad
>
> ----- "Guy Roussin" <guy.roussin@teledetection.fr> wrote:
>
>> Hi,
>>
>> I get this error with current harbour svn.
>>
>> Error BASE/1070  Argument error: == (Quit)
>> Error BASE/1070  Argument error: ==
>> Called from TMYSQLSERVER:NEW(1376)
>>
>> Guy Roussin
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> < 
> tmysql 
> .prg_bring.out.ba.diff>_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Jun 25 01:50:21 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 25 01:51:17 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <200806241918.44417.philb@philb.us>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
	<200806240816.10774.philb@philb.us>
	<1A636ABE-FDE9-4784-9088-89D8DE0A0639@syenar.hu>
	<200806241918.44417.philb@philb.us>
Message-ID: <0A9E84E5-8414-437A-AA2A-5274FCC94065@syenar.hu>

Hi Phil,

Yes ASAP, but IMO we should wait for Przemek to
review latest changes and do tests on Linux.

So I think next Monday / early next week could
be the RC2-day.

Brgds,
Viktor

On 2008.06.25., at 1:18, Phil Barnett wrote:

> On Tuesday 24 June 2008 12:10:19 pm Szak?ts Viktor wrote:
>> Sorry Phil, I'm not sure I understand you, you
>> said 'No' first, but here you seem to agree with
>> my same, but more detailed proposal (also agreed
>> on by those commenting).
>>
>> Can we move forward into this direction?
>
> Yes, that's fine.
>
> Do you want to mark RC2?
>
> -- 
> Waiting for sunspots.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Jun 25 02:34:32 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 25 02:35:28 2008
Subject: Pointers as zero. Was: [Harbour] TMYSQLSERVER error ...
In-Reply-To: <24027830.1691214346987032.JavaMail.root@zimbra-1.sigma-com.net>
References: <24027830.1691214346987032.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <6C0B695D-C003-49F1-B5DD-B6CF2D68E5E0@syenar.hu>

>
Hi Ernad,

> The cause of problem is that nSocket is pointer, not numberic  
> variable.
>
> For example:
> -return iif(::nSocket > 0, sqlGetErr(::nSocket), "No connection to  
> server")
> +return iif(::nSocket <> nil, sqlGetErr(::nSocket), "No connection  
> to server")
>
> With this knowledge, i think this would be better:
> return iif(hb_IsPointer(::nSocket), sqlGetErr(::nSocket), "No  
> connection to server")

This may or may not work depending on how the C module was
implemented. There is quite some variations even inside the
Harbour contribs.

Some C functions return hb_ret() (or nothing), so NIL comparison
will work, but some use hb_retptr( NULL ), which won't, since
it will be a pointer type, and it will not be equal to NIL either.
Old, or non-updated code may simply return hb_retnl( 0 ).

Currently the only way to check whether a pointer is NULL, is
to have a C function always returning hb_retptr( NULL ) (let's call
it hb_nullptr()), and compare against that. (This another solution
to this problem)

Here's a patched hvm.c to support comparing pointers to zero
numeric values. I dropped the idea of pointers as NILs and
pointers as logical, to not break any existing concept and
have a cleaner solution:

http://www.syenar.hu/harbour/null_as_zeronum.zip

if p == NULL:
p == 0, p = 0, p >= 0, p <= 0 -> returns .T.
p != 0, p > 0, p < 0 -> returns .F.

if p != NULL:
p == 0, p = 0, p >= 0, p <= 0 -> returns .F.
p != 0, p > 0, p < 0 -> returns .T.

Comparison to any other values than zero will always return .F.

Brgds,
Viktor

From a.jurkiewicz at abix.info.pl  Wed Jun 25 02:49:22 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Wed Jun 25 02:49:30 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <0A9E84E5-8414-437A-AA2A-5274FCC94065@syenar.hu>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
	<200806241918.44417.philb@philb.us>
	<0A9E84E5-8414-437A-AA2A-5274FCC94065@syenar.hu>
Message-ID: <200806250849.22691.a.jurkiewicz@abix.info.pl>

Dnia ?roda, 25 czerwca 2008, Szak?ts Viktor napisa?:
> Hi Phil,
>
> Yes ASAP, but IMO we should wait for Przemek to
> review latest changes and do tests on Linux.
>
> Brgds,
> Viktor
Yes, please wait for Przemek, because SVN 8800 does not compile and I cannot 
make RPMs for openSUSE (the same which Przemek uses).

Some errors for example:
make[2]: *** Brak regu? do wykonania obiektu `first'. Stop.
In file included from ../../creawin.c:55:
../../harbgtk.h:55:18: error: glib.h: Nie ma takiego pliku ani katalogu
../../harbgtk.h:56:21: error: gtk/gtk.h: Nie ma takiego pliku ani katalogu
In file included from ../../creawin.c:55:
../../harbgtk.h:70: error: expected '=', ',', ';', 'asm' or '__attribute__' 
before '*' token
../../harbgtk.h:75: error: expected '=', ',', ';', 'asm' or '__attribute__' 
before 'CallHarbour'
../../creawin.c:63: error: expected '=', ',', ';', 'asm' or '__attribute__' 
before 'DeleteEventWindowCallback'
../../creawin.c:70: error: expected '=', ',', ';', 'asm' or '__attribute__' 
before 'DestroyWindowCallback'
../../creawin.c:87: error: expected '=', ',', ';', 'asm' or '__attribute__' 
before 'ButtonPressCallback'
../../creawin.c: In function 'HB_FUN_HB_GTKWINDOWCREATE':
../../creawin.c:129: error: 'GtkWidget' undeclared (first use in this 
function)
../../creawin.c:129: error: (Each undeclared identifier is reported only once
../../creawin.c:129: error: for each function it appears in.)
../../creawin.c:129: error: 'MainWin' undeclared (first use in this function)
../../creawin.c:129: error: 'VBox' undeclared (first use in this function)

There are more errors, and I will send them to Przemek as quickly, as he come 
back from holiday, as I know it will be in next two, three days.

I've ade hbgtmk.sh as usualy to create RPMs, and last SVN id, which I compiled 
was 8637 from 5th of June.

Best regards,
Adam

-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
From harbour.01 at syenar.hu  Wed Jun 25 02:56:59 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 25 02:57:57 2008
Subject: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <200806250849.22691.a.jurkiewicz@abix.info.pl>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
	<200806241918.44417.philb@philb.us>
	<0A9E84E5-8414-437A-AA2A-5274FCC94065@syenar.hu>
	<200806250849.22691.a.jurkiewicz@abix.info.pl>
Message-ID: <43C7F40F-62DC-487D-9539-46835626EB45@syenar.hu>

Hi Adam,

This problem is caused by enabling all contribs
by default, the one which fails was probably never
tested in the last n years, plus it needs GTK lib.

Could you please just delete the line "   hbgf \"
from contrib/Makefile and have another try?

If there are other build problems I can look at it.

Brgds,
Viktor

On 2008.06.25., at 8:49, ABIX - Adam Jurkiewicz wrote:

> Dnia ?roda, 25 czerwca 2008, Szak?ts Viktor napisa?:
>> Hi Phil,
>>
>> Yes ASAP, but IMO we should wait for Przemek to
>> review latest changes and do tests on Linux.
>>
>> Brgds,
>> Viktor
> Yes, please wait for Przemek, because SVN 8800 does not compile and  
> I cannot
> make RPMs for openSUSE (the same which Przemek uses).
>
> Some errors for example:
> make[2]: *** Brak regu? do wykonania obiektu `first'. Stop.
> In file included from ../../creawin.c:55:
> ../../harbgtk.h:55:18: error: glib.h: Nie ma takiego pliku ani  
> katalogu
> ../../harbgtk.h:56:21: error: gtk/gtk.h: Nie ma takiego pliku ani  
> katalogu
> In file included from ../../creawin.c:55:
> ../../harbgtk.h:70: error: expected '=', ',', ';', 'asm' or  
> '__attribute__'
> before '*' token
> ../../harbgtk.h:75: error: expected '=', ',', ';', 'asm' or  
> '__attribute__'
> before 'CallHarbour'
> ../../creawin.c:63: error: expected '=', ',', ';', 'asm' or  
> '__attribute__'
> before 'DeleteEventWindowCallback'
> ../../creawin.c:70: error: expected '=', ',', ';', 'asm' or  
> '__attribute__'
> before 'DestroyWindowCallback'
> ../../creawin.c:87: error: expected '=', ',', ';', 'asm' or  
> '__attribute__'
> before 'ButtonPressCallback'
> ../../creawin.c: In function 'HB_FUN_HB_GTKWINDOWCREATE':
> ../../creawin.c:129: error: 'GtkWidget' undeclared (first use in this
> function)
> ../../creawin.c:129: error: (Each undeclared identifier is reported  
> only once
> ../../creawin.c:129: error: for each function it appears in.)
> ../../creawin.c:129: error: 'MainWin' undeclared (first use in this  
> function)
> ../../creawin.c:129: error: 'VBox' undeclared (first use in this  
> function)
>
> There are more errors, and I will send them to Przemek as quickly,  
> as he come
> back from holiday, as I know it will be in next two, three days.
>
> I've ade hbgtmk.sh as usualy to create RPMs, and last SVN id, which  
> I compiled
> was 8637 from 5th of June.
>
> Best regards,
> Adam
>
> -- 
> ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
> Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
> Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
> GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From ernad.husremovic at sigma-com.net  Wed Jun 25 03:03:14 2008
From: ernad.husremovic at sigma-com.net (Ernad Husremovic)
Date: Wed Jun 25 03:03:20 2008
Subject: Pointers as values. Was: Re: [Harbour] TMYSQLSERVER error ...
In-Reply-To: <25151443.1761214377221901.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <14464060.1781214377394367.JavaMail.root@zimbra-1.sigma-com.net>

Hi Victor,
at moment, I am learning harbour through the conversion process 
of our clipper applications.
I have tested mysql, because we have plan 
to change database backend with an standard RDBMS.

You suggest changes in harbour core, 
which is at this moment beyond my competence :).


Regards,
Ernad

----- "Szak?ts Viktor" <harbour.01@syenar.hu> wrote:

> Hi Ernad,
> 
> I'd prefer a solution which won't break existing
> .prg level code, yet allows to switch from longs
> to pointers on the .c level.
> 
> One possible solution is to allow to compare
> pointers to zero using operators (p != 0,
> p = 0, p == 0, and even p > 0, p < 0). Comparison
> with any other values would return .F., also,
> maybe NIL should be also allowed in place of 0,
> and we may allow such construct too: IF p ; ? "not null" ; ENDIF
> 
> This would mean that a non-NULL pointer would qualify
> as .T., non-0, non-NIL and a NULL as .F., 0, NIL on
> .prg level.
> 
> Brgds,
> Viktor
> 
> On 2008.06.25., at 0:36, Ernad Husremovic wrote:
> 
> > I had the same problem.
> > It seems hbmysql is not in the good shape :(
> >
> > The cause of problem is that nSocket is pointer, not numberic  
> > variable.
> >
> > For example:
> > -return iif(::nSocket > 0, sqlGetErr(::nSocket), "No connection to 
> 
> > server")
> > +return iif(::nSocket <> nil, sqlGetErr(::nSocket), "No connection 
> 
> > to server")
> >
> > With this knowledge, i think this would be better:
> > return iif(hb_IsPointer(::nSocket), sqlGetErr(::nSocket), "No  
> > connection to server")
> >
> > Anyway, attached diff works for me.
> >
> >
> > Regards,
> > Ernad
> >
> > ----- "Guy Roussin" <guy.roussin@teledetection.fr> wrote:
> >
> >> Hi,
> >>
> >> I get this error with current harbour svn.
> >>
> >> Error BASE/1070  Argument error: == (Quit)
> >> Error BASE/1070  Argument error: ==
> >> Called from TMYSQLSERVER:NEW(1376)
> >>
> >> Guy Roussin
> >>
> >> _______________________________________________
> >> Harbour mailing list
> >> Harbour@harbour-project.org
> >> http://lists.harbour-project.org/mailman/listinfo/harbour
> > < 
> > tmysql 
> >
> .prg_bring.out.ba.diff>_______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From ernad.husremovic at sigma-com.net  Wed Jun 25 03:11:02 2008
From: ernad.husremovic at sigma-com.net (Ernad Husremovic)
Date: Wed Jun 25 03:11:10 2008
Subject: Pointers as zero. Was: [Harbour] TMYSQLSERVER error ...
In-Reply-To: <6C0B695D-C003-49F1-B5DD-B6CF2D68E5E0@syenar.hu>
Message-ID: <10538702.1811214377862809.JavaMail.root@zimbra-1.sigma-com.net>

Ok I understand, you made correction in the core, 
to provide compatibility with other contribs.

This leads me to another question: 
why you just didn't push this change to the svn repository ?

Regards,
Ernad

----- "Szak?ts Viktor" <harbour.01@syenar.hu> wrote:

> >
> Hi Ernad,
> 
> > The cause of problem is that nSocket is pointer, not numberic  
> > variable.
> >
> > For example:
> > -return iif(::nSocket > 0, sqlGetErr(::nSocket), "No connection to 
> 
> > server")
> > +return iif(::nSocket <> nil, sqlGetErr(::nSocket), "No connection 
> 
> > to server")
> >
> > With this knowledge, i think this would be better:
> > return iif(hb_IsPointer(::nSocket), sqlGetErr(::nSocket), "No  
> > connection to server")
> 
> This may or may not work depending on how the C module was
> implemented. There is quite some variations even inside the
> Harbour contribs.
> 
> Some C functions return hb_ret() (or nothing), so NIL comparison
> will work, but some use hb_retptr( NULL ), which won't, since
> it will be a pointer type, and it will not be equal to NIL either.
> Old, or non-updated code may simply return hb_retnl( 0 ).
> 
> Currently the only way to check whether a pointer is NULL, is
> to have a C function always returning hb_retptr( NULL ) (let's call
> it hb_nullptr()), and compare against that. (This another solution
> to this problem)
> 
> Here's a patched hvm.c to support comparing pointers to zero
> numeric values. I dropped the idea of pointers as NILs and
> pointers as logical, to not break any existing concept and
> have a cleaner solution:
> 
> http://www.syenar.hu/harbour/null_as_zeronum.zip
> 
> if p == NULL:
> p == 0, p = 0, p >= 0, p <= 0 -> returns .T.
> p != 0, p > 0, p < 0 -> returns .F.
> 
> if p != NULL:
> p == 0, p = 0, p >= 0, p <= 0 -> returns .F.
> p != 0, p > 0, p < 0 -> returns .T.
> 
> Comparison to any other values than zero will always return .F.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Jun 25 03:25:07 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 25 03:26:04 2008
Subject: Pointers as zero. Was: [Harbour] TMYSQLSERVER error ...
In-Reply-To: <10538702.1811214377862809.JavaMail.root@zimbra-1.sigma-com.net>
References: <10538702.1811214377862809.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <891A8E41-C944-4AE7-82FD-9F7E12184186@syenar.hu>

> Ok I understand, you made correction in the core,
> to provide compatibility with other contribs.
>
> This leads me to another question:
> why you just didn't push this change to the svn repository ?

To me it looks OK, but I'm waiting for feedback from
the group, before adding such an extension to core in
RC phase.

Brgds,
Viktor

From ernad.husremovic at sigma-com.net  Wed Jun 25 03:44:33 2008
From: ernad.husremovic at sigma-com.net (Ernad Husremovic)
Date: Wed Jun 25 03:45:27 2008
Subject: Pointers as zero. Was: [Harbour] TMYSQLSERVER error ...
In-Reply-To: <6906858.1861214379600986.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <6936864.1881214379873874.JavaMail.root@zimbra-1.sigma-com.net>

Regarding development process, have the group considered creating 
"experimental", or "incubator" branch to avoid  outside patches ?

IMO it is important to push all proposals to the repository without delay.
This would make development process more agile.

Regards, 
Ernad 

----- "Szak?ts Viktor" <harbour.01@syenar.hu> wrote:

> > Ok I understand, you made correction in the core,
> > to provide compatibility with other contribs.
> >
> > This leads me to another question:
> > why you just didn't push this change to the svn repository ?
> 
> To me it looks OK, but I'm waiting for feedback from
> the group, before adding such an extension to core in
> RC phase.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From paolorus at 2bm.it  Wed Jun 25 03:58:35 2008
From: paolorus at 2bm.it (Paolo Russignan)
Date: Wed Jun 25 03:54:27 2008
Subject: [Harbour] Errore irrecuperabile 9024
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815ED7E@SRV02.deltain.net>
References: <48590864.2080406@2bm.it>
	<AFB948164110ED43B5EB849E8DEEF03815ED7E@SRV02.deltain.net>
Message-ID: <4861FAAB.7000400@2bm.it>

An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080625/9957c902/attachment-0001.html
From paolorus at 2bm.it  Wed Jun 25 04:00:35 2008
From: paolorus at 2bm.it (Paolo Russignan)
Date: Wed Jun 25 03:56:25 2008
Subject: [Harbour] Errore irrecuperabile 9024
In-Reply-To: <25074C89-1E03-43D3-8A5B-EC7CB70F6D82@syenar.hu>
References: <48590864.2080406@2bm.it>
	<25074C89-1E03-43D3-8A5B-EC7CB70F6D82@syenar.hu>
Message-ID: <4861FB23.4070105@2bm.it>

Hello Vicktor,

I can not understand where the error occurs and above all I can send the 
program.
Hello
Paolo Russignan

Szak?ts Viktor ha scritto:
> Hi Paulo,
>
> If it's Harbour code, please send a sample
> to reproduce it.
>
> Brgds,
> Viktor
>
> On 2008.06.18., at 15:06, Paolo Russignan wrote:
>
>> Hello everyone,
>>
>> someone can help me with the error irrecoverable 9024 "hb_xrealloc 
>> request to resize to zero byte"
>>
>> Thank you and hello
>> Paul Russignan
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From druzus at acn.waw.pl  Wed Jun 25 03:57:06 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Jun 25 03:57:11 2008
Subject: Pointers as values. Was: Re: [Harbour] TMYSQLSERVER error ...
In-Reply-To: <48BA244E-B45A-4F05-9FFF-778D57D0CF16@syenar.hu>
References: <24027830.1691214346987032.JavaMail.root@zimbra-1.sigma-com.net>
	<48BA244E-B45A-4F05-9FFF-778D57D0CF16@syenar.hu>
Message-ID: <20080625075706.GA18163@34-mo7-2.acn.waw.pl>

On Wed, 25 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> I'd prefer a solution which won't break existing
> .prg level code, yet allows to switch from longs
> to pointers on the .c level.
> One possible solution is to allow to compare
> pointers to zero using operators (p != 0,
> p = 0, p == 0, and even p > 0, p < 0). Comparison
> with any other values would return .F., also,
> maybe NIL should be also allowed in place of 0,
> and we may allow such construct too: IF p ; ? "not null" ; ENDIF
> This would mean that a non-NULL pointer would qualify
> as .T., non-0, non-NIL and a NULL as .F., 0, NIL on
> .prg level.

EMPTY() function can be used for such testes, f.e.:

   return iif( !empty(::nSocket), sqlGetErr(::nSocket), ;
                                  "No connection to server")

It will return TRUE for 0, NIL and NULL pointers.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Jun 25 04:01:24 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 25 04:02:28 2008
Subject: Pointers as values. Was: Re: [Harbour] TMYSQLSERVER error ...
In-Reply-To: <20080625075706.GA18163@34-mo7-2.acn.waw.pl>
References: <24027830.1691214346987032.JavaMail.root@zimbra-1.sigma-com.net>
	<48BA244E-B45A-4F05-9FFF-778D57D0CF16@syenar.hu>
	<20080625075706.GA18163@34-mo7-2.acn.waw.pl>
Message-ID: <0B1087F0-5E1D-4C2F-A671-25090D674585@syenar.hu>

Hi Przemek,

Welcome back on board :) I hope you had a nice time.

>> as .T., non-0, non-NIL and a NULL as .F., 0, NIL on
>> .prg level.
>
> EMPTY() function can be used for such testes, f.e.:
>
>   return iif( !empty(::nSocket), sqlGetErr(::nSocket), ;
>                                  "No connection to server")
>
> It will return TRUE for 0, NIL and NULL pointers.

Yes, the other (IMO important) problem is, that there is
a lot of .prg code to update, if we switch from long to ptr
on the C level. Identifying such code seems to be tedious,
but at least very error prone to me to me. For sure cleaner
though.

Brgds,
Viktor

From myorg63 at mail.ru  Wed Jun 25 05:15:45 2008
From: myorg63 at mail.ru (Petr Chornyj)
Date: Wed Jun 25 05:15:48 2008
Subject: [Harbour] Errore irrecuperabile 9024
In-Reply-To: <4861FB23.4070105@2bm.it>
References: <48590864.2080406@2bm.it>
	<25074C89-1E03-43D3-8A5B-EC7CB70F6D82@syenar.hu>
	<4861FB23.4070105@2bm.it>
Message-ID: <18108095.post@talk.nabble.com>




Paolo Russignan wrote:
> 
> I can not understand where the error occurs and above all I can send the 
> program.
> 

Hi Paolo,
please see source fm.c

HB_EXPORT void * hb_xrealloc( void * pMem, ULONG ulSize )       /*
reallocates memory */
{
   HB_TRACE_FM(HB_TR_DEBUG, ("hb_xrealloc(%p, %lu)", pMem, ulSize));

   if( ! pMem )
      hb_errInternal( HB_EI_XREALLOCNULL, NULL, NULL, NULL );

   if( ulSize == 0 )
      hb_errInternal( HB_EI_XREALLOCNULLSIZE, NULL, NULL, NULL ); //!!!
hb_xrealloc
requested to resize to zero byte
..

You must check parameters value before call hb_xrealloc.

If you need you can post or send not program, but source of program (part of
source) and maybe I can help you.

And another question: Why you not use hbhpdf? 
I think it is very helpful in yours  case.

Regards
Petr

-- 
View this message in context: http://www.nabble.com/Errore-irrecuperabile-9024-tp17982216p18108095.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From a.jurkiewicz at abix.info.pl  Wed Jun 25 05:27:30 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Wed Jun 25 05:27:34 2008
Subject: [Harbour] Problems with creating RPMs 2nd (was: Group opinion...)
In-Reply-To: <43C7F40F-62DC-487D-9539-46835626EB45@syenar.hu>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
	<200806250849.22691.a.jurkiewicz@abix.info.pl>
	<43C7F40F-62DC-487D-9539-46835626EB45@syenar.hu>
Message-ID: <200806251127.30831.a.jurkiewicz@abix.info.pl>

Dnia ?roda, 25 czerwca 2008, Szak?ts Viktor napisa?:
> Hi Adam,
>
> This problem is caused by enabling all contribs
> by default, the one which fails was probably never
> tested in the last n years, plus it needs GTK lib.
Viktor, there is just one little thing, I don't understand.
In last few months I've made a lot of RPMs using hbgtmk.sh scripct created by 
Przemek. There were 0 (ZERO) problems with create RPMs, just one with the 
name harbour-1.0.0RC1, which shuld be harbour-1.0.0-RC1. But Przemek made 
neccesary corrections.
So, what changet in last few days, that I cannot create RPMs the same way, I 
used to do it ? Is this possibel, that someone enabled all contribs during 
last days?
>
> Could you please just delete the line "   hbgf \"
> from contrib/Makefile and have another try?
I've made it .. fils once again.
>
> If there are other build problems I can look at it.
OK, stderr and stdout are in:
http://www.abix.info.pl/files/svn-8800-next.tar

Best regards,
Adam

-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
From harbour.01 at syenar.hu  Wed Jun 25 05:48:37 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 25 05:49:34 2008
Subject: [Harbour] Problems with creating RPMs 2nd (was: Group opinion...)
In-Reply-To: <200806251127.30831.a.jurkiewicz@abix.info.pl>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
	<200806250849.22691.a.jurkiewicz@abix.info.pl>
	<43C7F40F-62DC-487D-9539-46835626EB45@syenar.hu>
	<200806251127.30831.a.jurkiewicz@abix.info.pl>
Message-ID: <0DA96980-D7DC-4312-99B6-62A8456DCDE6@syenar.hu>

>> tested in the last n years, plus it needs GTK lib.
> Viktor, there is just one little thing, I don't understand.
> In last few months I've made a lot of RPMs using hbgtmk.sh scripct  
> created by
> Przemek. There were 0 (ZERO) problems with create RPMs, just one  
> with the
> name harbour-1.0.0RC1, which shuld be harbour-1.0.0-RC1. But Przemek  
> made
> neccesary corrections.
> So, what changet in last few days, that I cannot create RPMs the  
> same way, I
> used to do it ? Is this possibel, that someone enabled all contribs  
> during
> last days?

Okay, to clear up some confusion:
1) RC1 still builds fine, as it should.
2) You are trying with the main branch. In the main branch I've made  
some
    "deeper" changes since we had a not very well defined concept as  
to how
    to develop Harbour after RC1. Now it's clear and these changes  
will all
    have to go to RC2, so we need to clear them up relatively quickly.
    Now, one of these changes were some general review of the way how  
contribs
    are included or not included. I've enabled all of them in the  
central
    Makefile, and left the decision to build or not build to the  
Makefiles
    in each contrib. Moreover, I've added Makefiles for hbgf contrib,  
which
    had none so far.
    I also left a TODO in the ChangeLog, that we need to review this  
list and
    add the necessary enabling/disabling logic to local Makefiles, so  
that
    only those things will be built, which can be built (or which are  
requested).
    So this remained a work in progress.

The goal is to have a clear an unified way to enable and disable
projects on different platforms, compilers and available external
packages.

Until this is cleared, please use RC1 for builds.

>> If there are other build problems I can look at it.
> OK, stderr and stdout are in:
> http://www.abix.info.pl/files/svn-8800-next.tar

Thanks.

I can see these:
- a few warnings in contrib code
- lot of them in 3rd party code (sqlite)
- one error in hbtpathy (will fix it ASAP)
- hbapollo, hbfbird, hbgd, hbhpdf, hbmysql, hbpgsql not finding  
external headers
- hbcurl needing a newer version of libcurl (at least 7.17.0 is needed)
- hbfimage: ?
- One header casing bug in hbziparch (will fix it ASAP)
- hbziparch needing some review under Linux.

I'll correct what I can, until then feel free to comment/remove
offending contribs from contrib/Makefile.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jun 25 05:55:35 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 25 05:55:53 2008
Subject: [Harbour] 2008-06-25 11:49 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d6a9$Blat.v2.6.2$9d54d822$11b81765938a@127.0.0.1>

2008-06-25 11:49 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/gtwvt/gtwvt.c
     * Slightly changed the way CLOSE button works.
       Now the close button, if enabled, will always 
       force a shutdown. So this setting is made independent 
       of SetCancel(). I choose this because there might 
       be cases when we need to use <Alt+C> in app code, yet 
       we want to allow closing the window. Previously it was 
       also easy to create confusing scenarios by using various 
       combinations of HB_GTI_CLOSABLE + SetCancel(). Another 
       kind of fix - without the advantage above - would be 
       to fully sync SetCancel() with HB_GTI_CLOSABLE.

   * contrib/hbtpathy/tplinux.c
     ! Fixed embedded comments in Linux code.

   * contrib/hbziparch/hbziparc.h
     ! Fixed header casing.
--
Brgds,
Viktor

From a.jurkiewicz at abix.info.pl  Wed Jun 25 07:16:46 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Wed Jun 25 07:16:54 2008
Subject: [Harbour] Problems with creating RPMs 2nd (was: Group opinion...)
In-Reply-To: <0DA96980-D7DC-4312-99B6-62A8456DCDE6@syenar.hu>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
	<200806251127.30831.a.jurkiewicz@abix.info.pl>
	<0DA96980-D7DC-4312-99B6-62A8456DCDE6@syenar.hu>
Message-ID: <200806251316.46359.a.jurkiewicz@abix.info.pl>

Dnia ?roda, 25 czerwca 2008, Szak?ts Viktor napisa?:
> 2) You are trying with the main branch. In the main branch I've made
> some
>     "deeper" changes since we had a not very well defined concept as
> to how
>     to develop Harbour after RC1. 

OK  - everything now is clear. I think I'll wait for Przemek to come back and 
I'll talk with him about this, for now if you please write me how to get RC1 
branch rather than main I'll get it and try to compile on openSUSE it.

Now I use :
SVNURL="https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour"

Best Regards,
Adam

-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
From dbtopas at dbtopas.lt  Wed Jun 25 09:27:34 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Jun 25 09:27:33 2008
Subject: Pointers as values. Was: Re: [Harbour] TMYSQLSERVER error ...
In-Reply-To: <48BA244E-B45A-4F05-9FFF-778D57D0CF16@syenar.hu>
References: <24027830.1691214346987032.JavaMail.root@zimbra-1.sigma-com.net>
	<48BA244E-B45A-4F05-9FFF-778D57D0CF16@syenar.hu>
Message-ID: <486247C6.8070805@dbtopas.lt>

Szak?ts Viktor wrote:
> One possible solution is to allow to compare
> pointers to zero using operators (p != 0,
> p = 0, p == 0, and even p > 0, p < 0). Comparison
> with any other values would return .F., also,
> maybe NIL should be also allowed in place of 0,
> and we may allow such construct too: IF p ; ? "not null" ; ENDIF
> 
> This would mean that a non-NULL pointer would qualify
> as .T., non-0, non-NIL and a NULL as .F., 0, NIL on
> .prg level.

Hi,


I do not think it's good idea at all. We will want
   IF 0,
   IF 1,
etc. soon.

I would suggest to fix code:
    IF EMPTY(p)
       ....


Best regards,
Mindaugas
From harbour.01 at syenar.hu  Wed Jun 25 10:35:00 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Jun 25 10:35:07 2008
Subject: Pointers as values. Was: Re: [Harbour] TMYSQLSERVER error ...
In-Reply-To: <486247C6.8070805@dbtopas.lt>
References: <24027830.1691214346987032.JavaMail.root@zimbra-1.sigma-com.net>
	<48BA244E-B45A-4F05-9FFF-778D57D0CF16@syenar.hu>
	<486247C6.8070805@dbtopas.lt>
Message-ID: <18d502870806250735l4793b07dl8096a6860efbae0c@mail.gmail.com>

Okey. I had a similar feeling about it.
Let's leave it then, and update the code to use EMPTY().

(Notice that this also means that _application code_
directly using these MySQL API calls will also need
to be updated, since we will have to break compatibility.)

Brgds,
Viktor

On Wed, Jun 25, 2008 at 3:27 PM, Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>
wrote:

> Szak?ts Viktor wrote:
>
>> One possible solution is to allow to compare
>> pointers to zero using operators (p != 0,
>> p = 0, p == 0, and even p > 0, p < 0). Comparison
>> with any other values would return .F., also,
>> maybe NIL should be also allowed in place of 0,
>> and we may allow such construct too: IF p ; ? "not null" ; ENDIF
>>
>> This would mean that a non-NULL pointer would qualify
>> as .T., non-0, non-NIL and a NULL as .F., 0, NIL on
>> .prg level.
>>
>
> Hi,
>
>
> I do not think it's good idea at all. We will want
>  IF 0,
>  IF 1,
> etc. soon.
>
> I would suggest to fix code:
>   IF EMPTY(p)
>      ....
>
>
> Best regards,
> Mindaugas
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080625/fa1d2b9d/attachment-0001.html
From harbour.01 at syenar.hu  Wed Jun 25 10:36:38 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Jun 25 10:36:43 2008
Subject: [Harbour] Problems with creating RPMs 2nd (was: Group opinion...)
In-Reply-To: <200806251316.46359.a.jurkiewicz@abix.info.pl>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
	<200806251127.30831.a.jurkiewicz@abix.info.pl>
	<0DA96980-D7DC-4312-99B6-62A8456DCDE6@syenar.hu>
	<200806251316.46359.a.jurkiewicz@abix.info.pl>
Message-ID: <18d502870806250736g32a1d0bel3808453763fd28f7@mail.gmail.com>

Enough to replace harbour with harbour-1.0.0RC1.
Or, you can get the RC1 source code from sf.net download page.
I've uploaded proper (I hope) LF delimited .gz/.bz2.

Brgds,
Viktor

2008/6/25 ABIX - Adam Jurkiewicz <a.jurkiewicz@abix.info.pl>:

> Dnia ?roda, 25 czerwca 2008, Szak?ts Viktor napisa?:
> > 2) You are trying with the main branch. In the main branch I've made
> > some
> >     "deeper" changes since we had a not very well defined concept as
> > to how
> >     to develop Harbour after RC1.
>
> OK  - everything now is clear. I think I'll wait for Przemek to come back
> and
> I'll talk with him about this, for now if you please write me how to get
> RC1
> branch rather than main I'll get it and try to compile on openSUSE it.
>
> Now I use :
> SVNURL="
> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
> "
>
> Best Regards,
> Adam
>
> --
> ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
> Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
> Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
> GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080625/eaee129a/attachment.html
From druzus at acn.waw.pl  Wed Jun 25 10:49:24 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Jun 25 10:49:31 2008
Subject: [Harbour] 2008-06-25 16:48 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806251449.m5PEnOU2014341@31-mo5-4.acn.waw.pl>

2008-06-25 16:48 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbver.h
    * removed unnecessary EOL inside comment

  * harbour/contrib/hbodbc/odbc.c
    ! use valid integer type instead of explicit casting in function call.
      Such casting is vary dangerous and may cause unpredictible results
      when integer value has different binary size

  * harbour/contrib/hbtpathy/Makefile
  * harbour/contrib/hbtpathy/common.mak
  * harbour/contrib/hbtpathy/telepath.ch
  * harbour/contrib/hbtpathy/tplinux.c
  * harbour/contrib/hbtpathy/tpwin32.c
  * harbour/contrib/hbtpathy/tpos2.c
  * harbour/contrib/hbtpathy/telepath.prg
  * harbour/contrib/hbtpathy/readme.txt
  * harbour/contrib/hbtpathy/tests/testtp.prg
    * converted EOL style to native
    * set valid SVN attributes

  * harbour/contrib/hbapollo/Makefile
    * disabled non W32 builds, SDE exists only for MS-Windows

  * harbour/contrib/hbziparch/Makefile
    ! fixed C flag setting for Linux builds

  * harbour/source/pp/ppcore.c
    * formatting

  * harbour/source/rtl/valtoexp.prg
    ! fixed empty date conversion

  * harbour/hbgtmk.sh
  * harbour/make_xmingwce.sh
  * harbour/make_deb.sh
  * harbour/make_rpmw32.sh
  * harbour/make_gcc.sh
  * harbour/make_rpm.sh
  * harbour/make_xmingw.sh
  * harbour/make_tgz.sh
  * harbour/make_rpmce.sh
  * harbour/contrib/hbmzip/make_gcc.sh
  * harbour/contrib/hbsqlit3/make_gcc.sh
  * harbour/contrib/make_gcc_all.sh
  * harbour/contrib/hbziparch/make_gcc.sh
  * harbour/contrib/hbnf/make_gcc.sh
  * harbour/contrib/hbhpdf/tests/files/cp932.txt
  * harbour/contrib/hbhpdf/make_gcc.sh
  * harbour/contrib/rddado/make_gcc.sh
  * harbour/contrib/gtwvg/make_gcc.sh
  * harbour/contrib/hbpgsql/make_gcc.sh
  * harbour/contrib/rddads/make_gcc.sh
  * harbour/contrib/hbclipsm/make_gcc.sh
  * harbour/contrib/mtpl_gcc.sh
  * harbour/contrib/hbfimage/make_gcc.sh
  * harbour/contrib/hbgd/tests/bld.sh
  * harbour/contrib/hbgd/make_gcc.sh
  * harbour/contrib/hbmisc/make_gcc.sh
  * harbour/contrib/hbtip/make_gcc.sh
  * harbour/contrib/hbbmcdx/make_gcc.sh
  * harbour/contrib/hbvpdf/make_gcc.sh
  * harbour/contrib/hbbtree/make_gcc.sh
    * set valid SVN EOL attribute

best regards
Przemek
From druzus at acn.waw.pl  Wed Jun 25 11:38:50 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Jun 25 11:38:55 2008
Subject: [Harbour] HB_NOSTARTUPWINDOW ?
In-Reply-To: <715D9B4D-70AE-45F5-9744-01BF31C901AA@syenar.hu>
References: <F0D70E57-314C-4FD6-BFFE-923B152A2A6B@syenar.hu>
	<009901c8d477$475f3e00$d61dba00$@com>
	<715D9B4D-70AE-45F5-9744-01BF31C901AA@syenar.hu>
Message-ID: <20080625153850.GA14332@34-mo7-2.acn.waw.pl>

On Sun, 22 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> I see, in fact I also have the window painted then
> repainted in new size. Since this is a generic problem
> (albeit not a huge one IMO), we may think about some
> generic ways to avoid it (without special hacks that is).

There are also other reasons to have such functionality,
f.e. program which is usually executed as service working
in background but when it cannot finished it's job then
it opens console window switching to interactive mode.

> 1) or instance the window gets created only on the
> first actual screen access, or something similar
> (this may slow down screen methods a bit).

GTXWC has such functionality. The console window is shown
after 1-st screen update. It's important functionality
because application which uses GTXWC can be executed
without active X server and inform user using stdout()/stderr()
functions that it will not work in such mode or make other
alternative actions.

> 2) Or we might say that any font type, size, etc
> changes are displayed on screen on the first SetMode()
> call only. This would effectively reduce flickering
> to only one repaint per startup (or layout change).
> This is already a problem, where only one specific
> (but not well documented) hb_gtInfo() call is
> initiating a repaint.

The problem is that GT driver have to be initialized at
startup before any user code is executed. It means that
we have to inform the GT driver in other way that it should
not show console window immediately.
   ANNOUNCE HB_NOSTARTUPWINDOW
effectively resolves this problem. I do not see anything wrong
with it. Probably the only other solution is adding RT support
to change active GT driver so application can be linked with
GTNUL ad default GTD and later switch to other RDD depending
on RT conditions. This will need some deeper modifications I
wanted to add working on multi window API also with some other
ones. Anyhow it's not sth what I will want to start before
final 1.0 so now I suggest to restore HB_NOSTARTUPWINDOW for
people which strongly need it for existing programs. Later
we will think about sth much more elegant.

best regards,
Przemek
From f.eichelhardt at web.de  Wed Jun 25 17:04:28 2008
From: f.eichelhardt at web.de (Fritz Eichelhardt)
Date: Wed Jun 25 11:56:06 2008
Subject: [Harbour] philosophie ??? of (x)harbour
Message-ID: <200806252304.28991.f.eichelhardt@web.de>

hi all,

2 months ago i discoverd xharbour and installed in on my

opensuse 10.3

since then i'm a member of this list.

very often you mention files (libraries etc.) and almost all the time, i can't 
find them on my machine.

i wonder, if those files are for windows only.
or are they for harbour and not xharbour.
anyhow, what's the difference between harbour and xharbour

i feel somewhat uncomfortable not to understand the concept.

can anybody explain?

-- 
Mit freundlichen Gr??en

Fritz Eichelhardt
Br?ckenstr. 1
53545 Linz
Tel.: 02644 - 3784
Fax/UMS: 01212 - 517045068
From rportnoff at spendmap.com  Wed Jun 25 12:04:49 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Wed Jun 25 12:03:36 2008
Subject: [Harbour] Possible bug in TGET's :delEnd()
Message-ID: <B0081503816@ms1.3peaks.com>

Hi all,

I think there is a bug in TGET's delEnd() method - The loop...

DO WHILE ::nPos > nPos
     ::backSpaceLow()
ENDDO

...can become endless in some circumstances. While I cannot reproduce 
it in a DOS app, my GUI app (that implements its own masked edits 
using TGET) can using a 20-character character variable and a picture 
as "(999) 999-9999" - If I reduce the variable to 14 characters (ie. 
to match the picture length), it seems to work ok.

So, I'm not sure if this should be classified as a bug or not.

Regards,
Randy.

P.S. The use of :Pos and :nPos is very confusing in TGET.PRG


From harbour.01 at syenar.hu  Wed Jun 25 12:10:32 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 25 12:11:31 2008
Subject: [Harbour] Possible bug in TGET's :delEnd()
In-Reply-To: <B0081503816@ms1.3peaks.com>
References: <B0081503816@ms1.3peaks.com>
Message-ID: <471194C2-BD42-4B03-B42C-D331CE0D9092@syenar.hu>

Hi Randy,

Probably. If we can get a small test case
together, I will add it to rto_get.prg, and
I can try it with Clipper too.

So, var is 20 chars string, picture is "(999) 999-9999".
What keys do you press to get into the endless loop?

Brgds,
Viktor

On 2008.06.25., at 18:04, Randy Portnoff wrote:

> Hi all,
>
> I think there is a bug in TGET's delEnd() method - The loop...
>
> DO WHILE ::nPos > nPos
>    ::backSpaceLow()
> ENDDO
>
> ...can become endless in some circumstances. While I cannot  
> reproduce it in a DOS app, my GUI app (that implements its own  
> masked edits using TGET) can using a 20-character character variable  
> and a picture as "(999) 999-9999" - If I reduce the variable to 14  
> characters (ie. to match the picture length), it seems to work ok.
>
> So, I'm not sure if this should be classified as a bug or not.
>
> Regards,
> Randy.
>
> P.S. The use of :Pos and :nPos is very confusing in TGET.PRG
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Jun 25 12:20:53 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jun 25 12:21:01 2008
Subject: [Harbour] 2008-06-25 18:19 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d6df$Blat.v2.6.2$709cb490$13fcc8c83a32@127.0.0.1>

2008-06-25 18:19 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbfimage/fi_winfu.c
   * contrib/hbfimage/fi_wrp.c
     ! I cannot test it right now, but this should fix the 
       build problem for hbfimage under Linux.
--
Brgds,
Viktor

From a.jurkiewicz at abix.info.pl  Wed Jun 25 12:50:54 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Wed Jun 25 12:51:02 2008
Subject: [Harbour] philosophie ??? of (x)harbour
In-Reply-To: <200806252304.28991.f.eichelhardt@web.de>
References: <200806252304.28991.f.eichelhardt@web.de>
Message-ID: <200806251850.54641.a.jurkiewicz@abix.info.pl>

Dnia ?roda, 25 czerwca 2008, Fritz Eichelhardt napisa?:
> hi all,

Hi,
if you want explanation about libraries, please write down exactly which ones, 
I or someone else try to explain to you. Because Harbour is cross platform, 
some functions works only on Windows, some only on Linux/Unix, other on OS/2.

It always depends...

Adam

-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
From a.jurkiewicz at abix.info.pl  Wed Jun 25 13:09:48 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Wed Jun 25 13:09:52 2008
Subject: [Harbour] RC1 Linux RPM builds on openSUSE OK
Message-ID: <200806251909.48997.a.jurkiewicz@abix.info.pl>

To whom should I sent rpms to upload to sf ?
Build on openSUSE 10.3.

Adam
-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
From rportnoff at spendmap.com  Wed Jun 25 13:27:58 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Wed Jun 25 13:27:15 2008
Subject: [Harbour] Possible bug in TGET's :delEnd()
In-Reply-To: <471194C2-BD42-4B03-B42C-D331CE0D9092@syenar.hu>
References: <B0081503816@ms1.3peaks.com>
	<471194C2-BD42-4B03-B42C-D331CE0D9092@syenar.hu>
Message-ID: <B0081505936@ms1.3peaks.com>

Hi Viktor,

Ok, I think I know what is happening here and is partially my fault - 
However, I still feel that extra protection needs to be added to this loop.

The picture is "(999) 999-9999"

When this endless loop occurs, I am doing this:

oGet:Pos := 1
oGet:DelEnd()

I say this is my fault since I am setting :Pos to 1, but the first 
position is not an editable position.

So, what is happening is that nPos is getting set to 1 in :DelEnd() 
(due to my assignment above) and then ::Pos is stopping at 2 since 
:Left() in :backSpaceLow() cannot get to 1 (due to the picture) and 
hence the endless loop.

So, I fixed this in my Harbour build by checking for a change to 
::nPos as follows:

METHOD delEnd() CLASS Get

    LOCAL nPos, nLast

    IF ::hasFocus

       nPos := ::nPos
       ::pos := ::nMaxEdit
       nLast := ::nPos + 1

       ::deleteLow()
       DO WHILE ::nPos > nPos .and. ::nPos < nLast
          nLast := ::nPos
          ::backSpaceLow()
       ENDDO

       ::display()
    ENDIF

    RETURN Self


At 12:10 PM 6/25/2008, you wrote:
>Hi Randy,
>
>Probably. If we can get a small test case
>together, I will add it to rto_get.prg, and
>I can try it with Clipper too.
>
>So, var is 20 chars string, picture is "(999) 999-9999".
>What keys do you press to get into the endless loop?
>
>Brgds,
>Viktor
>
>On 2008.06.25., at 18:04, Randy Portnoff wrote:
>
>>Hi all,
>>
>>I think there is a bug in TGET's delEnd() method - The loop...
>>
>>DO WHILE ::nPos > nPos
>>    ::backSpaceLow()
>>ENDDO
>>
>>...can become endless in some circumstances. While I cannot
>>reproduce it in a DOS app, my GUI app (that implements its own
>>masked edits using TGET) can using a 20-character character variable
>>and a picture as "(999) 999-9999" - If I reduce the variable to 14
>>characters (ie. to match the picture length), it seems to work ok.
>>
>>So, I'm not sure if this should be classified as a bug or not.
>>
>>Regards,
>>Randy.
>>
>>P.S. The use of :Pos and :nPos is very confusing in TGET.PRG
>>
>>
>>_______________________________________________
>>Harbour mailing list
>>Harbour@harbour-project.org
>>http://lists.harbour-project.org/mailman/listinfo/harbour
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From roberbox at gmail.com  Wed Jun 25 17:43:39 2008
From: roberbox at gmail.com (Roberto Lopez)
Date: Wed Jun 25 17:43:53 2008
Subject: [Harbour] ADORDD / OLE
Message-ID: <4862BC0B.5080009@gmail.com>

Hi All,

I continue testing Harbour RC1 MingW binaries published and I've found 
that ADORDD samples are not working.

I've remembered that Beta 3 sources included two OLE library versions. 
The 'old' harbour version and the xHarbour one. ADORDD required the new 
(xHarbour) version.

Replacing the OLE library included in RC1 distribution with thw xHarbour 
one included in Beta3 ADORDD is working fine.

Perhaps OLE contrib should be modified to be compatible with ADORDD or, 
at least, OLE code needed to make work, should be included in contrib again.

am I missing something?

Regards,

Roberto.



From roberbox at gmail.com  Wed Jun 25 17:50:00 2008
From: roberbox at gmail.com (Roberto Lopez)
Date: Wed Jun 25 17:50:10 2008
Subject: [Harbour] ADORDD/OLE (hbw32?)
Message-ID: <4862BD88.4030704@gmail.com>

Hi All,

Ok. I've found 'hbw32' in contrib.

Does it provide adequate OLE support for ADORDD?

TIA.

Roberto.


From bedipritpal at hotmail.com  Wed Jun 25 18:59:54 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jun 25 18:59:58 2008
Subject: [Harbour] 2008-06-25 15:55 UTC-0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <18123405.post@talk.nabble.com>


2008-06-25 15:55 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/gtwvg.c
    * Some futuristic additions and synchronization with GTWVT.
  * harbour/contrib/gtwvg/tests/demowvg.prg
    * Update to recognize all key events.

    ;DONE: I am done with the update og GTWVG. 
     Open to previous modifications, Viktor?

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-25-15%3A55-UTC-0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp18123405p18123405.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Jun 26 04:04:47 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 26 04:05:43 2008
Subject: [Harbour] philosophie ??? of (x)harbour
In-Reply-To: <200806252304.28991.f.eichelhardt@web.de>
References: <200806252304.28991.f.eichelhardt@web.de>
Message-ID: <69A8DD80-731A-402F-A633-5ABFF30D1844@syenar.hu>

Hi Fritz,

> very often you mention files (libraries etc.) and almost all the  
> time, i can't
> find them on my machine.
>
> i wonder, if those files are for windows only.
> or are they for harbour and not xharbour.
> anyhow, what's the difference between harbour and xharbour
>
> i feel somewhat uncomfortable not to understand the concept.
>
> can anybody explain?

Harbour is using a more modular approach [than xhb],
where core is strictly portable and doesn't contain
stuff which could easily live as an independent project.
All this independent and/or non-portable stuff is living
in /contrib. We have more strict naming conventions too,
so most of them now have a different name.

So for example we don't deal with Windows registry in
code, rather we have a hbw32 lib implementing Windows
specific features.

We also have CT lib (named hbct), which is living in
contrib.

Since this is a Harbour list, we're using Harbour terms
and lib names. For best results I'd suggest to use the
Harbour codebase to find things easily :)

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun 26 04:07:05 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 26 04:08:00 2008
Subject: [Harbour] ADORDD/OLE (hbw32?)
In-Reply-To: <4862BD88.4030704@gmail.com>
References: <4862BD88.4030704@gmail.com>
Message-ID: <ECED19E4-3145-4DEA-B727-DA38DBAF4F87@syenar.hu>

Hi Roberto,

It should. The best is if you try, and report your findings.

Brgds,
Viktor

On 2008.06.25., at 23:50, Roberto Lopez wrote:

> Hi All,
>
> Ok. I've found 'hbw32' in contrib.
>
> Does it provide adequate OLE support for ADORDD?
>
> TIA.
>
> Roberto.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Jun 26 04:08:00 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 26 04:08:53 2008
Subject: Pointers as zero. Was: [Harbour] TMYSQLSERVER error ...
In-Reply-To: <6936864.1881214379873874.JavaMail.root@zimbra-1.sigma-com.net>
References: <6936864.1881214379873874.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <270E8D5A-AF42-4224-8AA3-0F73EBD9F6E8@syenar.hu>

> Regarding development process, have the group considered creating
> "experimental", or "incubator" branch to avoid  outside patches ?

I did a few times lately.

> IMO it is important to push all proposals to the repository without  
> delay.
> This would make development process more agile.

I'm not sure that the number of patches justifies
the extra effort in Harbour yet.

BTW, GIT (and Mercurial) is much better in this respect than SVN.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun 26 05:27:45 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 26 05:28:03 2008
Subject: [Harbour] 2008-06-26 11:21 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d76e$Blat.v2.6.2$e44fe5f8$12bc81945730@127.0.0.1>

2008-06-26 11:21 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/common/hbver.c
     * Changed version information layout:
       "Harbour a build x.y-z" -> "Harbour x.y.za" format.

   * contrib/gtwvg/gtwvg.c
     ! Fixed compile error. (commented line, please check this code)
       [ pGT->iLocalGTHandle = pWVT->iHandle; ]

   * contrib/gtwvg/wvtutils.c
   * contrib/gtwvg/wvtcore.c
   * contrib/gtwvg/wvtpaint.prg
   * contrib/gtwvg/wvtclass.prg
     % hb_arraySet( ..., hb_itemPut*() ) -> hb_arraySet*( ... )
     * if() -> iif()
     * != on strings to IS*() macros.
     ; TODO: I'd suggest to change "WVT" references to "WVG" 
             to avoid confusion with core WVT. At least in those places
             which wouldn't break compatibility (like source names).
             If there is no objection I can do it.

   * source/rtl/gtwvt/gtwvt.c
     * Minor cleanup.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Thu Jun 26 05:48:03 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jun 26 05:48:08 2008
Subject: [Harbour] 2008-06-26 11:47 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806260948.m5Q9m34o017295@31-mo5-4.acn.waw.pl>

2008-06-26 11:47 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbmsql/msql.c
    ! changed msqlGetErrMsg( NULL ) => msqlErrMsg

  * harbour/contrib/hbsqlit3/hbsqlit3.c
    ! include harbour header files after sqlite3.c which needs some
      extra sets for system header files

  * harbour/contrib/hbgf/hbgfw32/win32.c
    ! removed wrongly used TEXT( hb_parc( 1 ) ) macro. The TEXT()
      macro can be used _ONLY_ for literal strings.

  * harbour/contrib/hbgf/hbgfgtk/Makefile
  * harbour/contrib/hbgf/hbgfgtk/dispatch.c
  * harbour/contrib/hbgf/hbgfgtk/msginfo.c
  * harbour/contrib/hbgf/hbgfgtk/form.prg
  * harbour/contrib/hbgf/hbgfgtk/creawin.c
    ! fixed compilation in Linux

  * harbour/source/rtl/gtclip.c
    * pacified warning

best regards
Przemek
From guy.roussin at teledetection.fr  Thu Jun 26 06:11:34 2008
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Thu Jun 26 06:11:38 2008
Subject: [Harbour] Error when compiling contrib/hbgf
Message-ID: <48636B56.2060109@teledetection.fr>

Hi,

I add this line before the endif in contrib/hbgf/hbgfgtk/Makefile
to compile hbgf with linux debian
CFLAGS := `pkg-config --cflags --libs gtk+-2.0`

But i still have an error :

make[3]: entrant dans le r?pertoire ? /usr/local/src/harbour/contrib/hbgf ?
make[4]: entrant dans le r?pertoire ? 
/usr/local/src/harbour/contrib/hbgf/hbgfgtk ?
make[5]: entrant dans le r?pertoire ? 
/usr/local/src/harbour/contrib/hbgf/hbgfgtk/linux/gcc ?
gcc -I. -I../../../../../include `pkg-config --cflags --libs gtk+-2.0` 
-c ../../creawin.c -ocreawin.o
gcc -I. -I../../../../../include `pkg-config --cflags --libs gtk+-2.0` 
-c ../../general.c -ogeneral.o
gcc -I. -I../../../../../include `pkg-config --cflags --libs gtk+-2.0` 
-c ../../creamenu.c -ocreamenu.o
gcc -I. -I../../../../../include `pkg-config --cflags --libs gtk+-2.0` 
-c ../../creabutt.c -ocreabutt.o
gcc -I. -I../../../../../include `pkg-config --cflags --libs gtk+-2.0` 
-c ../../dispatch.c -odispatch.o
../../dispatch.c: In function ?CallHarbour?:
../../dispatch.c:69: warning: dereferencing ?void *? pointer
../../dispatch.c:69: error: request for member ?pSymbol? in something 
not a structure or union
make[5]: *** [dispatch.o] Erreur 1
make[5]: quittant le r?pertoire ? 
/usr/local/src/harbour/contrib/hbgf/hbgfgtk/linux/gcc ?
make[4]: *** [descend] Erreur 2
make[4]: quittant le r?pertoire ? 
/usr/local/src/harbour/contrib/hbgf/hbgfgtk ?
make[3]: *** [first] Erreur 2
make[3]: quittant le r?pertoire ? /usr/local/src/harbour/contrib/hbgf ?

Thanks,

-- 
Guy Roussin


From guy.roussin at teledetection.fr  Thu Jun 26 06:19:13 2008
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Thu Jun 26 06:19:16 2008
Subject: [Harbour] Error when compiling contrib/hbgf
In-Reply-To: <48636B56.2060109@teledetection.fr>
References: <48636B56.2060109@teledetection.fr>
Message-ID: <48636D21.3080905@teledetection.fr>

Sorry, fixed with the last commit of Przemek (i don't read my email
before posting)

Guy

> I add this line before the endif in contrib/hbgf/hbgfgtk/Makefile
> to compile hbgf with linux debian
> CFLAGS := `pkg-config --cflags --libs gtk+-2.0`
> 
> But i still have an error :
> 
> make[3]: entrant dans le r?pertoire ? /usr/local/src/harbour/contrib/hbgf ?
> make[4]: entrant dans le r?pertoire ? 
> /usr/local/src/harbour/contrib/hbgf/hbgfgtk ?
> make[5]: entrant dans le r?pertoire ? 
> /usr/local/src/harbour/contrib/hbgf/hbgfgtk/linux/gcc ?
> gcc -I. -I../../../../../include `pkg-config --cflags --libs gtk+-2.0` 
> -c ../../creawin.c -ocreawin.o
> gcc -I. -I../../../../../include `pkg-config --cflags --libs gtk+-2.0` 
> -c ../../general.c -ogeneral.o
> gcc -I. -I../../../../../include `pkg-config --cflags --libs gtk+-2.0` 
> -c ../../creamenu.c -ocreamenu.o
> gcc -I. -I../../../../../include `pkg-config --cflags --libs gtk+-2.0` 
> -c ../../creabutt.c -ocreabutt.o
> gcc -I. -I../../../../../include `pkg-config --cflags --libs gtk+-2.0` 
> -c ../../dispatch.c -odispatch.o
> ../../dispatch.c: In function ?CallHarbour?:
> ../../dispatch.c:69: warning: dereferencing ?void *? pointer
> ../../dispatch.c:69: error: request for member ?pSymbol? in something 
> not a structure or union
> make[5]: *** [dispatch.o] Erreur 1
> make[5]: quittant le r?pertoire ? 
> /usr/local/src/harbour/contrib/hbgf/hbgfgtk/linux/gcc ?
> make[4]: *** [descend] Erreur 2
> make[4]: quittant le r?pertoire ? 
> /usr/local/src/harbour/contrib/hbgf/hbgfgtk ?
> make[3]: *** [first] Erreur 2
> make[3]: quittant le r?pertoire ? /usr/local/src/harbour/contrib/hbgf ?
> 

From harbour.01 at syenar.hu  Thu Jun 26 06:28:10 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 26 06:28:27 2008
Subject: [Harbour] 2008-06-26 12:25 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d777$Blat.v2.6.2$54f3d96a$13e840183912@127.0.0.1>

2008-06-26 12:25 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbmysql/mysql.c
   * contrib/hbmysql/tmysql.prg
   * contrib/hbmsql/msql.c
   * contrib/hbmsql/tmsql.prg
     ! Fixed again to use hb_parptr()/hb_retptr() 
       instead of hb_parnl()/hb_retnl(). This fixes these libs 
       on 64 bit systems.
       This is an INCOMPATIBLE change, users of these libs will 
       have to update their code when dealing with return values 
       of the following functions:
       - hbmysql / SQLCONNECT()
       - hbmysql / SQLSTORER()
       - hbmysql / SQLUSERES()
       - hbmsql / MSQLSTORER()
       - hbmsql / MSQLLISTFI()
       They will now return pointer type instead of a number, 
       so error checking will have to be changed from r > 0, 
       r ==/=/!=/> 0 to !Empty( r ).
     ; Please test.

   * contrib/hbgf/hbgfw32/win32.c
   * contrib/hbgf/hbgfos2/os2pm.c
   * contrib/hbgf/hbgfos2/os2pm.ch
     * Some cleanups.
     ; Please test for OS/2.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun 26 08:17:59 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 26 08:19:15 2008
Subject: [Harbour] Possible bug in TGET's :delEnd()
In-Reply-To: <B0081505936@ms1.3peaks.com>
References: <B0081503816@ms1.3peaks.com>
	<471194C2-BD42-4B03-B42C-D331CE0D9092@syenar.hu>
	<B0081505936@ms1.3peaks.com>
Message-ID: <5B5AA19E-714B-4196-A7EA-4982021E6B32@syenar.hu>

Hi Randy,

I've added a small test case, but I couldn't reproduce the loop:

    cStr07 := Space(20)
    SetPos( 14, 16 )
    o := _GET_( cStr07, "cStr07", "(999) 999-9999",, )
    o:display()
    o:setFocus()
    o:pos := 1
    o:delEnd()

What am I missing?

Brgds,
Viktor

On 2008.06.25., at 19:27, Randy Portnoff wrote:

> Hi Viktor,
>
> Ok, I think I know what is happening here and is partially my fault  
> - However, I still feel that extra protection needs to be added to  
> this loop.
>
> The picture is "(999) 999-9999"
>
> When this endless loop occurs, I am doing this:
>
> oGet:Pos := 1
> oGet:DelEnd()
>
> I say this is my fault since I am setting :Pos to 1, but the first  
> position is not an editable position.
>
> So, what is happening is that nPos is getting set to 1 in :DelEnd()  
> (due to my assignment above) and then ::Pos is stopping at 2  
> since :Left() in :backSpaceLow() cannot get to 1 (due to the  
> picture) and hence the endless loop.
>
> So, I fixed this in my Harbour build by checking for a change  
> to ::nPos as follows:
>
> METHOD delEnd() CLASS Get
>
>   LOCAL nPos, nLast
>
>   IF ::hasFocus
>
>      nPos := ::nPos
>      ::pos := ::nMaxEdit
>      nLast := ::nPos + 1
>
>      ::deleteLow()
>      DO WHILE ::nPos > nPos .and. ::nPos < nLast
>         nLast := ::nPos
>         ::backSpaceLow()
>      ENDDO
>
>      ::display()
>   ENDIF
>
>   RETURN Self
>
>
> At 12:10 PM 6/25/2008, you wrote:
>> Hi Randy,
>>
>> Probably. If we can get a small test case
>> together, I will add it to rto_get.prg, and
>> I can try it with Clipper too.
>>
>> So, var is 20 chars string, picture is "(999) 999-9999".
>> What keys do you press to get into the endless loop?
>>
>> Brgds,
>> Viktor
>>
>> On 2008.06.25., at 18:04, Randy Portnoff wrote:
>>
>>> Hi all,
>>>
>>> I think there is a bug in TGET's delEnd() method - The loop...
>>>
>>> DO WHILE ::nPos > nPos
>>>   ::backSpaceLow()
>>> ENDDO
>>>
>>> ...can become endless in some circumstances. While I cannot
>>> reproduce it in a DOS app, my GUI app (that implements its own
>>> masked edits using TGET) can using a 20-character character variable
>>> and a picture as "(999) 999-9999" - If I reduce the variable to 14
>>> characters (ie. to match the picture length), it seems to work ok.
>>>
>>> So, I'm not sure if this should be classified as a bug or not.
>>>
>>> Regards,
>>> Randy.
>>>
>>> P.S. The use of :Pos and :nPos is very confusing in TGET.PRG
>>>
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Thu Jun 26 08:22:27 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jun 26 08:22:47 2008
Subject: R: [Harbour] 2008-06-25 15:55 UTC-0800 Pritpal
	Bedi(pritpal@vouchcac.com)
Message-ID: <001901c8d787$4fb54cbe$0400a8c0@deltain.net>

Wich are futuristic option?
Can you plan insert in wvg a textbox class like wvw_ebcreate?
Have you ready an update for multi windows for wvt?

----- Messaggio originale -----
Da: Pritpal Bedi <bedipritpal@hotmail.com>
Inviato: gioved? 26 giugno 2008 1.00
A: harbour@harbour-project.org <harbour@harbour-project.org>
Oggetto: [Harbour] 2008-06-25 15:55 UTC-0800 Pritpal Bedi(pritpal@vouchcac.com)


2008-06-25 15:55 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/gtwvg.c
    * Some futuristic additions and synchronization with GTWVT.
  * harbour/contrib/gtwvg/tests/demowvg.prg
    * Update to recognize all key events.

    ;DONE: I am done with the update og GTWVG. 
     Open to previous modifications, Viktor?

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-25-15%3A55-UTC-0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp18123405p18123405.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From roberbox at gmail.com  Thu Jun 26 08:43:12 2008
From: roberbox at gmail.com (Roberto Lopez)
Date: Thu Jun 26 08:43:20 2008
Subject: [Harbour] ADORDD/OLE (hbw32?)
In-Reply-To: <ECED19E4-3145-4DEA-B727-DA38DBAF4F87@syenar.hu>
References: <4862BD88.4030704@gmail.com>
	<ECED19E4-3145-4DEA-B727-DA38DBAF4F87@syenar.hu>
Message-ID: <48638EE0.6060804@gmail.com>

Szak?ts Viktor wrote:
> Hi Roberto,
> 
> It should. The best is if you try, and report your findings.
> 

Ok. It appears to be working fine.

Thanks.

Regards,

Roberto.
From rportnoff at spendmap.com  Thu Jun 26 09:15:21 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Thu Jun 26 09:14:12 2008
Subject: [Harbour] Possible bug in TGET's :delEnd()
In-Reply-To: <5B5AA19E-714B-4196-A7EA-4982021E6B32@syenar.hu>
References: <B0081503816@ms1.3peaks.com>
	<471194C2-BD42-4B03-B42C-D331CE0D9092@syenar.hu>
	<B0081505936@ms1.3peaks.com>
	<5B5AA19E-714B-4196-A7EA-4982021E6B32@syenar.hu>
Message-ID: <B0081524886@ms1.3peaks.com>

Hi Viktor,

I am very sorry, I just realized I am using an older version of TGET 
- In the current TGET, the :Pos() method does not allow the 
assignment of a non-editable position to the :nPos var - Therefore, 
in the case below, when you assign o:pos := 1, it is actually 
assigning 2 and thereby protecting the loop in :DelEnd().

Again, sorry... However, I still feel that the loop in DelEnd() looks 
dangerous!

Regards,
Randy.


At 08:17 AM 6/26/2008, you wrote:
>Hi Randy,
>
>I've added a small test case, but I couldn't reproduce the loop:
>
>    cStr07 := Space(20)
>    SetPos( 14, 16 )
>    o := _GET_( cStr07, "cStr07", "(999) 999-9999",, )
>    o:display()
>    o:setFocus()
>    o:pos := 1
>    o:delEnd()
>
>What am I missing?
>
>Brgds,
>Viktor
>
>On 2008.06.25., at 19:27, Randy Portnoff wrote:
>
>>Hi Viktor,
>>
>>Ok, I think I know what is happening here and is partially my fault
>>- However, I still feel that extra protection needs to be added to
>>this loop.
>>
>>The picture is "(999) 999-9999"
>>
>>When this endless loop occurs, I am doing this:
>>
>>oGet:Pos := 1
>>oGet:DelEnd()
>>
>>I say this is my fault since I am setting :Pos to 1, but the first
>>position is not an editable position.
>>
>>So, what is happening is that nPos is getting set to 1 in :DelEnd()
>>(due to my assignment above) and then ::Pos is stopping at 2
>>since :Left() in :backSpaceLow() cannot get to 1 (due to the
>>picture) and hence the endless loop.
>>
>>So, I fixed this in my Harbour build by checking for a change
>>to ::nPos as follows:
>>
>>METHOD delEnd() CLASS Get
>>
>>   LOCAL nPos, nLast
>>
>>   IF ::hasFocus
>>
>>      nPos := ::nPos
>>      ::pos := ::nMaxEdit
>>      nLast := ::nPos + 1
>>
>>      ::deleteLow()
>>      DO WHILE ::nPos > nPos .and. ::nPos < nLast
>>         nLast := ::nPos
>>         ::backSpaceLow()
>>      ENDDO
>>
>>      ::display()
>>   ENDIF
>>
>>   RETURN Self
>>
>>
>>At 12:10 PM 6/25/2008, you wrote:
>>>Hi Randy,
>>>
>>>Probably. If we can get a small test case
>>>together, I will add it to rto_get.prg, and
>>>I can try it with Clipper too.
>>>
>>>So, var is 20 chars string, picture is "(999) 999-9999".
>>>What keys do you press to get into the endless loop?
>>>
>>>Brgds,
>>>Viktor
>>>
>>>On 2008.06.25., at 18:04, Randy Portnoff wrote:
>>>
>>>>Hi all,
>>>>
>>>>I think there is a bug in TGET's delEnd() method - The loop...
>>>>
>>>>DO WHILE ::nPos > nPos
>>>>   ::backSpaceLow()
>>>>ENDDO
>>>>
>>>>...can become endless in some circumstances. While I cannot
>>>>reproduce it in a DOS app, my GUI app (that implements its own
>>>>masked edits using TGET) can using a 20-character character variable
>>>>and a picture as "(999) 999-9999" - If I reduce the variable to 14
>>>>characters (ie. to match the picture length), it seems to work ok.
>>>>
>>>>So, I'm not sure if this should be classified as a bug or not.
>>>>
>>>>Regards,
>>>>Randy.
>>>>
>>>>P.S. The use of :Pos and :nPos is very confusing in TGET.PRG
>>>>
>>>>
>>>>_______________________________________________
>>>>Harbour mailing list
>>>>Harbour@harbour-project.org
>>>>http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>>_______________________________________________
>>>Harbour mailing list
>>>Harbour@harbour-project.org
>>>http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>>_______________________________________________
>>Harbour mailing list
>>Harbour@harbour-project.org
>>http://lists.harbour-project.org/mailman/listinfo/harbour
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From f.eichelhardt at web.de  Thu Jun 26 14:40:57 2008
From: f.eichelhardt at web.de (Fritz Eichelhardt)
Date: Thu Jun 26 09:32:11 2008
Subject: [Harbour] philosophie ??? of (x)harbour
In-Reply-To: <69A8DD80-731A-402F-A633-5ABFF30D1844@syenar.hu>
References: <200806252304.28991.f.eichelhardt@web.de>
	<69A8DD80-731A-402F-A633-5ABFF30D1844@syenar.hu>
Message-ID: <200806262040.57902.f.eichelhardt@web.de>

hi all,

Am Donnerstag, 26. Juni 2008 10:04:47 schrieb Szak?ts Viktor:

> Harbour is using a more modular approach [than xhb],
> where core is strictly portable and doesn't contain
> stuff which could easily live as an independent project.
> All this independent and/or non-portable stuff is living
> in /contrib. We have more strict naming conventions too,
> so most of them now have a different name.
>
> So for example we don't deal with Windows registry in
> code, rather we have a hbw32 lib implementing Windows
> specific features.
>
> We also have CT lib (named hbct), which is living in
> contrib.
>
> Since this is a Harbour list, we're using Harbour terms
> and lib names. For best results I'd suggest to use the
> Harbour codebase to find things easily :)

thanks for explanations - they make it a lot clearer.

but

- what could be a reason for using xharbour then.
- is xharbour just another (clipper-compatible) language
- is xharbour a commercial project, while harbour is free
- can i use the xharbour reference-guide with harbour
- can i use the clipper 5.1 handbook with harbour


-- 
Mit freundlichen Gr??en

Fritz Eichelhardt
Br?ckenstr. 1
53545 Linz
Tel.: 02644 - 3784
Fax/UMS: 01212 - 517045068
From gfilatov at front.ru  Thu Jun 26 09:44:32 2008
From: gfilatov at front.ru (Grigory Filatov)
Date: Thu Jun 26 09:44:46 2008
Subject: [Harbour] 2008-06-26 12:25 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <18131143.post@talk.nabble.com>


Dear Viktor,

There is a small typo of Last Entry info in hbpp.c at folder
harbour\source\pp :

...
      if( szLastEntry )
      {
         pszEscaped = hb_pp_escapeString( szChangeLogID );
         fprintf( fout, "\n#define HB_VER_LENTRY   \"%s\"\n", pszEscaped );
         hb_xfree( pszEscaped );
      }
...
but should be

...
      if( szLastEntry )
      {
         pszEscaped = hb_pp_escapeString( szLastEntry );
         fprintf( fout, "\n#define HB_VER_LENTRY   \"%s\"\n", pszEscaped );
         hb_xfree( pszEscaped );
      }
...

--
Kind Regards,
Grigory Filatov
Ukraine
-- 
View this message in context: http://www.nabble.com/2008-06-26-12%3A25-UTC%2B0200-Viktor-Szakats-%28harbour.01-syenar-hu%29-tp18130807p18131143.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From paolorus at 2bm.it  Thu Jun 26 09:58:46 2008
From: paolorus at 2bm.it (Paolo Russignan)
Date: Thu Jun 26 09:54:22 2008
Subject: [Harbour] Errore irrecuperabile 9024
In-Reply-To: <18108095.post@talk.nabble.com>
References: <48590864.2080406@2bm.it>	<25074C89-1E03-43D3-8A5B-EC7CB70F6D82@syenar.hu>	<4861FB23.4070105@2bm.it>
	<18108095.post@talk.nabble.com>
Message-ID: <4863A096.8080507@2bm.it>

An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080626/cc59c19a/attachment.html
From harbour.01 at syenar.hu  Thu Jun 26 09:55:05 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 26 09:56:05 2008
Subject: [Harbour] philosophie ??? of (x)harbour
In-Reply-To: <200806262040.57902.f.eichelhardt@web.de>
References: <200806252304.28991.f.eichelhardt@web.de>
	<69A8DD80-731A-402F-A633-5ABFF30D1844@syenar.hu>
	<200806262040.57902.f.eichelhardt@web.de>
Message-ID: <714C4A7C-213F-4264-A0BB-F12619F0305B@syenar.hu>

>>
Hi Fritz,

>> Since this is a Harbour list, we're using Harbour terms
>> and lib names. For best results I'd suggest to use the
>> Harbour codebase to find things easily :)
>
> thanks for explanations - they make it a lot clearer.
>
> but
>
> - what could be a reason for using xharbour then.

You might be using some extensions which are only
found in xhb. The number of these is pretty small
now though. You can find almost all special xhb
language extensions in xhb.lib for Harbour.

Multithreading is missing from Harbour yet, but it
it's planned to be implemented soon, and with
a superior approach.

> - is xharbour just another (clipper-compatible) language

Harbour is a CA-Cl*pper compatible language, probably the
most compatible of all implementations. I don't have
any numbers, but it's pretty close to be 100% compatible.

There are some minor differences, because Harbour is multiplatform
and we also didn't want to replicate all the bugs in Clipper.

> - is xharbour a commercial project, while harbour is free

Harbour is free in spirit.

> - can i use the xharbour reference-guide with harbour

For the most part, yes.

> - can i use the clipper 5.1 handbook with harbour

Yes. Our target is 5.2e/5.3b compatibility, but 5.1 is
also pretty close.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun 26 10:00:21 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 26 10:00:28 2008
Subject: [Harbour] 2008-06-26 15:58 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d794$Blat.v2.6.2$f9194a58$1d4433dfdda0@127.0.0.1>

2008-06-26 15:58 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/pp/hbpp.c
     ! Fixed typo in recent modification.
       Thanks to Grigory Filatov for spotting it.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun 26 10:21:41 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 26 10:22:40 2008
Subject: [Harbour] Set( _SET_HBOUTLOGHEADER ) opinions
Message-ID: <9681146C-F9E4-4DEB-A44D-59282FAAB2BE@syenar.hu>

Hi all,

I'd like to add a small feature which makes it possible
to pass an app defined string to Harbour, which then gets
added to every hb_out.log entries.

Set( _SET_HBOUTLOGHEADER[, <cValue> ) -> <cOldValue>

This is useful to add important information to the
Harbour generated FM and GPF messages, so that for
example you know which user or which station was
involved in any given occurrence of these. Right
now you only see the fact with the details, but
in a multiuser environment this is not always enough.

Any opinions, objections?

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun 26 10:24:08 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 26 10:25:07 2008
Subject: [Harbour] Re: Set( _SET_HBOUTLOGHEADER ) opinions
In-Reply-To: <9681146C-F9E4-4DEB-A44D-59282FAAB2BE@syenar.hu>
References: <9681146C-F9E4-4DEB-A44D-59282FAAB2BE@syenar.hu>
Message-ID: <32DCDCE8-4AA5-4AD3-A572-7C8A942BA228@syenar.hu>

BTW, if someone happens to know GSDGPF for Clipper,
this proposal is essentially an equivalent to the
GsdGPInfo( <cValue> ) call.

[ GSDGPF is a free GPF logging / dumping library
for Clipper. ]

Brgds,
Viktor

On 2008.06.26., at 16:21, Szak?ts Viktor wrote:

> Hi all,
>
> I'd like to add a small feature which makes it possible
> to pass an app defined string to Harbour, which then gets
> added to every hb_out.log entries.
>
> Set( _SET_HBOUTLOGHEADER[, <cValue> ) -> <cOldValue>
>
> This is useful to add important information to the
> Harbour generated FM and GPF messages, so that for
> example you know which user or which station was
> involved in any given occurrence of these. Right
> now you only see the fact with the details, but
> in a multiuser environment this is not always enough.
>
> Any opinions, objections?
>
> Brgds,
> Viktor
>

From e.m.giordano at emagsoftware.it  Thu Jun 26 10:44:38 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Thu Jun 26 10:44:45 2008
Subject: [Harbour] philosophie ??? of (x)harbour
References: <200806252304.28991.f.eichelhardt@web.de><69A8DD80-731A-402F-A633-5ABFF30D1844@syenar.hu>
	<200806262040.57902.f.eichelhardt@web.de>
Message-ID: <1EC47F41809B40F1B747975BF54B541A@emag>


-----Messaggio Originale----- 
Da: "Fritz Eichelhardt" <f.eichelhardt@web.de>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: gioved? 26 giugno 2008 20.40
Oggetto: Re: [Harbour] philosophie ??? of (x)harbour


> - is xharbour a commercial project, while harbour is free

No, xHarbour is also free (www.xharbour.org).

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Thu Jun 26 10:44:06 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 26 10:45:09 2008
Subject: [Harbour] Possible bug in TGET's :delEnd()
In-Reply-To: <B0081524886@ms1.3peaks.com>
References: <B0081503816@ms1.3peaks.com>
	<471194C2-BD42-4B03-B42C-D331CE0D9092@syenar.hu>
	<B0081505936@ms1.3peaks.com>
	<5B5AA19E-714B-4196-A7EA-4982021E6B32@syenar.hu>
	<B0081524886@ms1.3peaks.com>
Message-ID: <FC708BE6-E1AB-4C8B-ADB8-B33627175F06@syenar.hu>

Hi Randy,

Okay, that clears it up.

Before implementing your fix, I think it would be
best to find such a test case which exploits it.

This way maybe we can even find a better fix on
lower level.

Brgds,
Viktor

On 2008.06.26., at 15:15, Randy Portnoff wrote:

> Hi Viktor,
>
> I am very sorry, I just realized I am using an older version of TGET  
> - In the current TGET, the :Pos() method does not allow the  
> assignment of a non-editable position to the :nPos var - Therefore,  
> in the case below, when you assign o:pos := 1, it is actually  
> assigning 2 and thereby protecting the loop in :DelEnd().
>
> Again, sorry... However, I still feel that the loop in DelEnd()  
> looks dangerous!
>
> Regards,
> Randy.
>
>
> At 08:17 AM 6/26/2008, you wrote:
>> Hi Randy,
>>
>> I've added a small test case, but I couldn't reproduce the loop:
>>
>>   cStr07 := Space(20)
>>   SetPos( 14, 16 )
>>   o := _GET_( cStr07, "cStr07", "(999) 999-9999",, )
>>   o:display()
>>   o:setFocus()
>>   o:pos := 1
>>   o:delEnd()
>>
>> What am I missing?
>>
>> Brgds,
>> Viktor
>>
>> On 2008.06.25., at 19:27, Randy Portnoff wrote:
>>
>>> Hi Viktor,
>>>
>>> Ok, I think I know what is happening here and is partially my fault
>>> - However, I still feel that extra protection needs to be added to
>>> this loop.
>>>
>>> The picture is "(999) 999-9999"
>>>
>>> When this endless loop occurs, I am doing this:
>>>
>>> oGet:Pos := 1
>>> oGet:DelEnd()
>>>
>>> I say this is my fault since I am setting :Pos to 1, but the first
>>> position is not an editable position.
>>>
>>> So, what is happening is that nPos is getting set to 1 in :DelEnd()
>>> (due to my assignment above) and then ::Pos is stopping at 2
>>> since :Left() in :backSpaceLow() cannot get to 1 (due to the
>>> picture) and hence the endless loop.
>>>
>>> So, I fixed this in my Harbour build by checking for a change
>>> to ::nPos as follows:
>>>
>>> METHOD delEnd() CLASS Get
>>>
>>>  LOCAL nPos, nLast
>>>
>>>  IF ::hasFocus
>>>
>>>     nPos := ::nPos
>>>     ::pos := ::nMaxEdit
>>>     nLast := ::nPos + 1
>>>
>>>     ::deleteLow()
>>>     DO WHILE ::nPos > nPos .and. ::nPos < nLast
>>>        nLast := ::nPos
>>>        ::backSpaceLow()
>>>     ENDDO
>>>
>>>     ::display()
>>>  ENDIF
>>>
>>>  RETURN Self
>>>
>>>
>>> At 12:10 PM 6/25/2008, you wrote:
>>>> Hi Randy,
>>>>
>>>> Probably. If we can get a small test case
>>>> together, I will add it to rto_get.prg, and
>>>> I can try it with Clipper too.
>>>>
>>>> So, var is 20 chars string, picture is "(999) 999-9999".
>>>> What keys do you press to get into the endless loop?
>>>>
>>>> Brgds,
>>>> Viktor
>>>>
>>>> On 2008.06.25., at 18:04, Randy Portnoff wrote:
>>>>
>>>>> Hi all,
>>>>>
>>>>> I think there is a bug in TGET's delEnd() method - The loop...
>>>>>
>>>>> DO WHILE ::nPos > nPos
>>>>>  ::backSpaceLow()
>>>>> ENDDO
>>>>>
>>>>> ...can become endless in some circumstances. While I cannot
>>>>> reproduce it in a DOS app, my GUI app (that implements its own
>>>>> masked edits using TGET) can using a 20-character character  
>>>>> variable
>>>>> and a picture as "(999) 999-9999" - If I reduce the variable to 14
>>>>> characters (ie. to match the picture length), it seems to work ok.
>>>>>
>>>>> So, I'm not sure if this should be classified as a bug or not.
>>>>>
>>>>> Regards,
>>>>> Randy.
>>>>>
>>>>> P.S. The use of :Pos and :nPos is very confusing in TGET.PRG
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Harbour mailing list
>>>>> Harbour@harbour-project.org
>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From rportnoff at spendmap.com  Thu Jun 26 11:00:03 2008
From: rportnoff at spendmap.com (Randy Portnoff)
Date: Thu Jun 26 10:58:59 2008
Subject: [Harbour] Possible bug in TGET's :delEnd()
In-Reply-To: <FC708BE6-E1AB-4C8B-ADB8-B33627175F06@syenar.hu>
References: <B0081503816@ms1.3peaks.com>
	<471194C2-BD42-4B03-B42C-D331CE0D9092@syenar.hu>
	<B0081505936@ms1.3peaks.com>
	<5B5AA19E-714B-4196-A7EA-4982021E6B32@syenar.hu>
	<B0081524886@ms1.3peaks.com>
	<FC708BE6-E1AB-4C8B-ADB8-B33627175F06@syenar.hu>
Message-ID: <B0081528275@ms1.3peaks.com>

Hi Viktor,

My test cannot fail with the current version of TGET since :Pos() 
will not allow the assignment to :nPos of a non-editable position. 
Therefore, this issue is closed. HOWEVER...

I do not like to see such fragile code - The loop in :DelEnd() is 
highly dependent on other methods in order to not fail (ie. the 
:Pos() method). Some future change could cause this loop to go into 
an endless state again.

Therefore, IMHO, protection against this should be added to this 
loop. IOW, any loop should have a clear exit strategy which is NOT 
dependant on code outside of the scope of that method.

Regards,
Randy.


At 10:44 AM 6/26/2008, you wrote:
>Hi Randy,
>
>Okay, that clears it up.
>
>Before implementing your fix, I think it would be
>best to find such a test case which exploits it.
>
>This way maybe we can even find a better fix on
>lower level.
>
>Brgds,
>Viktor
>
>On 2008.06.26., at 15:15, Randy Portnoff wrote:
>
>>Hi Viktor,
>>
>>I am very sorry, I just realized I am using an older version of TGET
>>- In the current TGET, the :Pos() method does not allow the
>>assignment of a non-editable position to the :nPos var - Therefore,
>>in the case below, when you assign o:pos := 1, it is actually
>>assigning 2 and thereby protecting the loop in :DelEnd().
>>
>>Again, sorry... However, I still feel that the loop in DelEnd()
>>looks dangerous!
>>
>>Regards,
>>Randy.
>>
>>
>>At 08:17 AM 6/26/2008, you wrote:
>>>Hi Randy,
>>>
>>>I've added a small test case, but I couldn't reproduce the loop:
>>>
>>>   cStr07 := Space(20)
>>>   SetPos( 14, 16 )
>>>   o := _GET_( cStr07, "cStr07", "(999) 999-9999",, )
>>>   o:display()
>>>   o:setFocus()
>>>   o:pos := 1
>>>   o:delEnd()
>>>
>>>What am I missing?
>>>
>>>Brgds,
>>>Viktor
>>>
>>>On 2008.06.25., at 19:27, Randy Portnoff wrote:
>>>
>>>>Hi Viktor,
>>>>
>>>>Ok, I think I know what is happening here and is partially my fault
>>>>- However, I still feel that extra protection needs to be added to
>>>>this loop.
>>>>
>>>>The picture is "(999) 999-9999"
>>>>
>>>>When this endless loop occurs, I am doing this:
>>>>
>>>>oGet:Pos := 1
>>>>oGet:DelEnd()
>>>>
>>>>I say this is my fault since I am setting :Pos to 1, but the first
>>>>position is not an editable position.
>>>>
>>>>So, what is happening is that nPos is getting set to 1 in :DelEnd()
>>>>(due to my assignment above) and then ::Pos is stopping at 2
>>>>since :Left() in :backSpaceLow() cannot get to 1 (due to the
>>>>picture) and hence the endless loop.
>>>>
>>>>So, I fixed this in my Harbour build by checking for a change
>>>>to ::nPos as follows:
>>>>
>>>>METHOD delEnd() CLASS Get
>>>>
>>>>  LOCAL nPos, nLast
>>>>
>>>>  IF ::hasFocus
>>>>
>>>>     nPos := ::nPos
>>>>     ::pos := ::nMaxEdit
>>>>     nLast := ::nPos + 1
>>>>
>>>>     ::deleteLow()
>>>>     DO WHILE ::nPos > nPos .and. ::nPos < nLast
>>>>        nLast := ::nPos
>>>>        ::backSpaceLow()
>>>>     ENDDO
>>>>
>>>>     ::display()
>>>>  ENDIF
>>>>
>>>>  RETURN Self
>>>>
>>>>
>>>>At 12:10 PM 6/25/2008, you wrote:
>>>>>Hi Randy,
>>>>>
>>>>>Probably. If we can get a small test case
>>>>>together, I will add it to rto_get.prg, and
>>>>>I can try it with Clipper too.
>>>>>
>>>>>So, var is 20 chars string, picture is "(999) 999-9999".
>>>>>What keys do you press to get into the endless loop?
>>>>>
>>>>>Brgds,
>>>>>Viktor
>>>>>
>>>>>On 2008.06.25., at 18:04, Randy Portnoff wrote:
>>>>>
>>>>>>Hi all,
>>>>>>
>>>>>>I think there is a bug in TGET's delEnd() method - The loop...
>>>>>>
>>>>>>DO WHILE ::nPos > nPos
>>>>>>  ::backSpaceLow()
>>>>>>ENDDO
>>>>>>
>>>>>>...can become endless in some circumstances. While I cannot
>>>>>>reproduce it in a DOS app, my GUI app (that implements its own
>>>>>>masked edits using TGET) can using a 20-character character
>>>>>>variable
>>>>>>and a picture as "(999) 999-9999" - If I reduce the variable to 14
>>>>>>characters (ie. to match the picture length), it seems to work ok.
>>>>>>
>>>>>>So, I'm not sure if this should be classified as a bug or not.
>>>>>>
>>>>>>Regards,
>>>>>>Randy.
>>>>>>
>>>>>>P.S. The use of :Pos and :nPos is very confusing in TGET.PRG
>>>>>>
>>>>>>
>>>>>>_______________________________________________
>>>>>>Harbour mailing list
>>>>>>Harbour@harbour-project.org
>>>>>>http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>>
>>>>>_______________________________________________
>>>>>Harbour mailing list
>>>>>Harbour@harbour-project.org
>>>>>http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>>
>>>>_______________________________________________
>>>>Harbour mailing list
>>>>Harbour@harbour-project.org
>>>>http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>>_______________________________________________
>>>Harbour mailing list
>>>Harbour@harbour-project.org
>>>http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>>_______________________________________________
>>Harbour mailing list
>>Harbour@harbour-project.org
>>http://lists.harbour-project.org/mailman/listinfo/harbour
>
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From guy.roussin at teledetection.fr  Thu Jun 26 11:04:36 2008
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Thu Jun 26 11:04:41 2008
Subject: [Harbour] hbgfgtk errors ...
Message-ID: <4863B004.7000607@teledetection.fr>

Hi,

Warning when compiling harbour ...

make[3]: entrant dans le r?pertoire ? /usr/local/src/harbour/contrib/hbgf ?
make[4]: entrant dans le r?pertoire ? 
/usr/local/src/harbour/contrib/hbgf/hbgfgtk ?
make[5]: entrant dans le r?pertoire ? 
/usr/local/src/harbour/contrib/hbgf/hbgfgtk/linux/gcc ?
gcc -I. -I../../../../../include -DHB_OS_LINUX -Wall -W `pkg-config 
--cflags gtk+-2.0` -c ../../creawin.c -ocreawin.o
gcc -I. -I../../../../../include -DHB_OS_LINUX -Wall -W `pkg-config 
--cflags gtk+-2.0` -c ../../general.c -ogeneral.o
gcc -I. -I../../../../../include -DHB_OS_LINUX -Wall -W `pkg-config 
--cflags gtk+-2.0` -c ../../creamenu.c -ocreamenu.o
../../creamenu.c: In function ?HB_FUN_HB_GTKCREATEMENUBAR?:
../../creamenu.c:77: warning: implicit declaration of function 
?gtk_menu_bar_set_shadow_type?


and error when compiling testform with hbgfgtk ...

contrib/hbgf/tests$ hbmk -n -gtcrs -gtsln -gtstd -gtpca -gttrm -lhbgfgtk 
`pkg-config --cflags --libs gtk+-2.0` testform
Harbour 1.0.0RC1 Intl. (Rev. 8834)
Copyright (c) 1999-2008, http://www.harbour-project.org/
Compiling 'testform.prg'...
Lines 47, Functions/Procedures 1
Generating C source output to 'testform.c'... Done.
/usr/lib/harbour/libhbgfgtk.a(creamenu.o): In function 
`HB_FUN_HB_GTKCREATEMENUBAR':
(.text+0x5e): undefined reference to `gtk_menu_bar_set_shadow_type'
collect2: ld returned 1 exit status

-- 

Guy Roussin


From dbtopas at dbtopas.lt  Thu Jun 26 11:12:04 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Jun 26 11:12:00 2008
Subject: [Harbour] Set( _SET_HBOUTLOGHEADER ) opinions
In-Reply-To: <9681146C-F9E4-4DEB-A44D-59282FAAB2BE@syenar.hu>
References: <9681146C-F9E4-4DEB-A44D-59282FAAB2BE@syenar.hu>
Message-ID: <4863B1C4.8060606@dbtopas.lt>

Szak?ts Viktor wrote:
> I'd like to add a small feature which makes it possible
> to pass an app defined string to Harbour, which then gets
> added to every hb_out.log entries.
> 
> Set( _SET_HBOUTLOGHEADER[, <cValue> ) -> <cOldValue>
> 
> This is useful to add important information to the
> Harbour generated FM and GPF messages, so that for
> example you know which user or which station was
> involved in any given occurrence of these. Right
> now you only see the fact with the details, but
> in a multiuser environment this is not always enough.
> 
> Any opinions, objections?


Hi,


I has nothing against, but does it helps to solve the problem? Do you 
use a standard error block, and will it fit your needs if some header 
would be added?
I use my own error block for real life applications, many information: 
OS version, application version, libraries version, open databases, 
current record, exe file path/name, parameters, locals, C stack frame 
(in case of GPF), etc. are dumped to file. Dialog containing error is 
displayed, user can press "Send" to send all error log to developers by 
email, etc.


Best regards,
Mindaugas


Here is my error log in case of GPF:

====================================================================
2007.06.19 20:06:16

Klaida: CAWI/EG_MEM(11)   0
Apra?ymas: GPF
     Exception Code:C0000005
     Exception Address:004538AF
     EAX:00000400  EBX:00DA67A8  ECX:00000000  EDX:00000A70
     ESI:00CB325C  EDI:00CB31D0 EBP:0012DC80
     CS:EIP:001B:004538AF  SS:ESP:0023:0012DC78
     DS:0023  ES:0023  FS:003B  GS:0000
     Flags:00010206
     CS:EIP: FF 02 EB 6B F6 43 01 40 74 0C 8B 4B 10 51 E8 EE
     SS:ESP: 00000002 00DA6670 0012DC90 004162B5 00CB325C 00DA67A8 
0012DCB8 0043D9D5 00DA67A8 0043E954 00CB31D0 00CB31B4 00000001 0000000D 
0000000E 00000000

     C stack:
     EIP:     EBP:       Frame: OldEBP, RetAddr, Params...
     004538AF 0012DC80   0012DC90 004162B5 00CB325C 00DA67A8
     004162B5 0012DC90   0012DCB8 0043D9D5 00DA67A8 0043E954 00CB31D0 
00CB31B4 00000001 0000000D 0000000E 00000000
     0043D9D5 0012DCB8   0012DD3C 0043E9DC 00CB31B4 00CB31D0 0012DCD0 
0012DCD4 00000001 0000000E 00CB30B8 0012DD00
     0043E9DC 0012DD3C   0012DF50 00409DE5 00000004 00402061 00000002 
004A8C44 7E41B601 5D0C0662 00580436 0012DD68
     00409DE5 0012DF50   0012DF64 00402076 004BB347 004A7404 00000000
     00402076 0012DF64   0012DF90 00414F0A 004BB392 00000000 00000008 
00000000 00000000 00000087 00000000 0000006C
     00414F0A 0012DF90   0012E1A4 00409EAE 00000002 000000F4 FFFF0000 
00CB2FBC 005F4C68 00CB2F84 00000007 00D7F98C
     00409EAE 0012E1A4   0012E254 00415AAB 004BB392 004A7404 00000000 
004159F8 005A2B90 00CB2FBC 004157C1 005F6C57
     00415AAB 0012E254   0012E468 0040AE57 00000003 00431403 00000003 
004A9074 00457DB8 0062D20C 0012E278 6B737061
     0040AE57 0012E468   0012E47C 00431418 005F6C57 005F45B8 00000000
     00431418 0012E47C   0012E4A8 00414F0A 004BB347 00000000 00000056 
00000000 00000000 00000D02 00000000 00000051
     00414F0A 0012E4A8   0012E6BC 00409DE5 00000003 00402061 00000008 
004A8C44 00D28010 0012E4D0 0044CB7C 00D28010
     00409DE5 0012E6BC   0012E6D0 00402076 004BB347 004A7404 00000000
     00402076 0012E6D0   0012E6FC 00414F0A 00CB2C90 00000008 00000009 
00000000 00000000 00000E6D 00000000 0000004D
     00414F0A 0012E6FC   004A8C44 0044AB34 00000008 00000000 00000000 
00000001 0012E74C 0044A7D4 00000002 004C9F28
     0044AB34 004A8C44   004C6600 00000201 00402061 00C74F14 004C660F 
00000201 00402117 00C74F34 004C661A 00000201
     00000201 004C6600   5F504552 414E4953 494C414E 5300455A 53544E49 
4C444D55 49440047 45505A44 444F4952 00474C44

Operacija: AEVAL

Stekas:
     AEVAL(0)                    ([A27], [B], 1, 14)
     REP_SINANALIZE(3377)        ([O:CLS_REPSRV,NID=1200], 1), NIL, 
"20000000001", 14, NIL, [A27], [H], [H], "20 Atsargos"
     (b)REP_SINANALIZE(3333)     ([O:CLS_REPSRV,NID=1200], 1, 0)
     REPORT(169)                 (1200, "Sintetin? analiz?", [B]), NIL, 
NIL, .T., NIL, NIL, 2, [O:CLS_DIALOG,NID=31002], [O:CLS_REPSRV,NID=1200]
     REP_SINANALIZE(3333)        ([H], 1200, NIL, NIL, NIL, NIL, NIL, 
[H]), [H], NIL
     HB_EXECFROMARRAY(0)         ([P], [A8])
     EVALEX(3694)                ([P], [H], 1200), NIL, NIL, NIL, NIL, 
NIL, NIL, "P"
     DLGSETMENU(386)             ("Sintetin? analiz?"), 1200, [P], [P], 
[H], [A2], 65553, [O:CLS_DIALOG,NID=1200], [O:CLS_REGAREA]
     (b)ADDREQUEST(214)          ([H])
     USER_WND_PROC(297)          (273, 1200, 0), 11, 65553
     FRAME_WND_PROC(128)         (106759484, 273, 1200, 0), NIL, 1200, 
NIL, NIL, 0, [O:TAPPLICATION], NIL, 273
     (b)TAPPLICATION:FRAME(33)   (106759484, 273, 1200, 0)
     DISPATCHMESSAGE(0)          ("<]?????????U? ????I???")
     CHECK_ACCEL(83)             ("<]?????????U? ????I???"), [A4], 
NIL, NIL, NIL, NIL
     TAPPLICATION:FRAME(62)      (), [A4], "<]?????????U? 
????I???", 282001408, 0, 65557
     WINMAIN(127)                ("DEBUG"), 31524389, "", NIL

EXE failas:  D:\Kesto\ApskaitW.W32\apsk_w32.exe
Versijos:
   OS: Windows XP Home Edition 5.01.2600 Service Pack 2
   xHarbour: xHarbour build 0.99.61 Intl. (SimpLex), Nov 16 2006 17:18:09
   CAWI32: Nov 29 2006, 19:27:49
   head.lib: Jun 15 2007, 11:46:12
   apskaita-prj: ver. 3.01,Jun 19 2007 20:05:05
   db kelias - duomenys: D:\Kesto\Bazes\Vaineta.new\
   db kelias - sarasai: D:\Kesto\Bazes\Vaineta.new\
   db kelias - ataskaitos: D:\Kesto\Bazes\Vaineta.new\Blankai\

Kompiuteris: TOSHIBA
Vartotojas: LapTopas

Duomen? sritys:
     Einamoji: 8  KVITAS
     Filtras:
     Ry?io i?rai?ka:
     Indekso raktas: TIPAS

      1 NUMERIS       : [C14]:"              "
      2 PAVADINIMA    : [C60]:" 
                    "
      3 MATOVNT       : [C10]:"          "
      4 KIEKIS        : [N]:       0.000
      5 KAINAP        : [N]:        0.00
      6 SUMA          : [N]:          0.00
      7 SIUNTEJAS     : [C8]:"        "
      8 SKYRIUS       : [N]: 0
      9 PADALINYS     : [C60]:" 
                    "
     10 UNIFO         : [C40]:"                                        "
     11 MOKESTIS      : [N]:  0
     12 KASOS_MOK     : [N]:0
     13 PAPILDOM1     : [C50]:" 
          "
     14 PAPILDOM2     : [C50]:" 
          "
     15 PAPILDOM3     : [C50]:" 
          "
     16 PAPILDOM4     : [C50]:" 
          "
     17 IRASAS        : [N]:       0
     18 KAINA         : [N]:        0.00
     19 NUOLAIDA      : [N]: 0
     20 TIPAS         : [C1]:" "
     21 TURINYS       : [C60]:" 
                    "
     22 PAKUOTE       : [N]:     0

      1 DBFCDX LIKUCIAI              192/      1868 Indeksas NUMERIS(1)
      2 DBFCDX KVITAI               3933/      3933
      3 DBFCDX SUDETIS              6399/      6399 Indeksas NUMERIS(2)
      4 DBFCDX MOKESCIA                1/         8 Indeksas NUMERIS2(4)
      5 DBFCDX SKYRIAI                 7/         8 Indeksas KASAKODAS(1)
      6 DBFCDX KLASIFIK_N            100/      4522 Indeksas NUMERIS(1)
      7 DBFCDX ATSKAIT_K             534/       825 Indeksas KODAS(1)
      8 DBFCDX KVITAS                  1/         0 Indeksas TIPAS(1)
      9 DBFCDX TLIKUCIAI               1/      1868 Indeksas NUMERIS(1)
     10 DBFCDX IMONE                   1/         1
==================================================================
From mbelgrano at deltain.it  Thu Jun 26 11:23:44 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jun 26 11:23:54 2008
Subject: R: [Harbour] philosophie ??? of (x)harbour
In-Reply-To: <200806262040.57902.f.eichelhardt@web.de>
References: <200806252304.28991.f.eichelhardt@web.de><69A8DD80-731A-402F-A633-5ABFF30D1844@syenar.hu>
	<200806262040.57902.f.eichelhardt@web.de>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EDA8@SRV02.deltain.net>

>- what could be a reason for using xharbour then.
I prefer Harbour community 
Because Harbour is open-source and therefore you are not at the mercy of
the decisions of a private company.
Because Harbour is developed by a very experienced and capable team of
developers.
Because Harbour is proven to be stable, robust and efficient.
Because Harbour supports RDDs (Replaceable Database Drivers) to allow
multiple data sources which allows an application to scale.
Because Harbour is portable across multiple operating systems with the
same code base.
Because Harbour's architecture is fully open and supports a third-party
add on market.

>- is xharbour just another (clipper-compatible) language
Harbour is a multiplatform language you can made product for
win32,pocketpc,linux)
I have write large clipper application used by my customer

>- is xharbour a commercial project, while harbour is free
No xharbour have also a open source product http://www.xharbour.org/
A commercial product http://www.xharbour.com/
Harbour have open source version http://www.harbour-project.org/
Product have a common base of source

>- can i use the xharbour reference-guide with Harbour
Yes I using it and I suggest it as a very good guide
In my opinion this guide and sqlrdd are the only very good product made
by xharbour.com

> can i use the clipper 5.1 handbook with Harbour
Naturally yes, Without problem

Then you must find in this ng other usefull information regarding
information 


From bedipritpal at hotmail.com  Thu Jun 26 11:44:13 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jun 26 11:44:17 2008
Subject: [Harbour] 2008-06-26 11:21 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8d76e$Blat.v2.6.2$e44fe5f8$12bc81945730@127.0.0.1>
References: <01c8d76e$Blat.v2.6.2$e44fe5f8$12bc81945730@127.0.0.1>
Message-ID: <18137140.post@talk.nabble.com>


Hello Viktor

<<<
     ; TODO: I'd suggest to change "WVT" references to "WVG" 
             to avoid confusion with core WVT. At least in those places
             which wouldn't break compatibility (like source names).
             If there is no objection I can do it.
>>>

What exactly you mean by WVT references?

But I will not suggest any changes to this methodology as both
libraries are essentially the same in all respects and an applicatioon
can be linked with both of them without any code change.

Also it will make it easy to keep synchronized both if
we add more features to one.

But perhaps I may be misunderstanding your concept.

Also please reintroduce HB_NOSTARTUPWINDOW in gtwvt.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-26-11%3A21-UTC%2B0200-Viktor-Szakats-%28harbour.01-syenar-hu%29-tp18129952p18137140.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From rodrmigu at gmail.com  Thu Jun 26 13:19:04 2008
From: rodrmigu at gmail.com (Rodrigo Miguel)
Date: Thu Jun 26 13:19:09 2008
Subject: [Harbour] Re: hbgfgtk errors ...
Message-ID: <80b05d460806261019j5ce2d636l715054fbe7cbbebd@mail.gmail.com>

Hi

The gtk_menu_bar_set_shadow_type is deprecated in gtk+2.0, it's only
available in version 1.

Regards,
Rodrigo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080626/c0d31de3/attachment.html
From m.lacecilia at gmail.com  Thu Jun 26 13:19:19 2008
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Thu Jun 26 14:14:54 2008
Subject: [Harbour] Define for version recognition
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAACC5Fhe0ToVEj3j9an88JKABAAAAAA==@gmail.com>

I don't know if is possible, but i would know if ther'is in Harbour a pre
defined constant telling at compile time what version (and hopefully
subversion) of the compiler is in use.
This could allow me to take care of features implemented in newer version
and lacking in older version (the stable, by example...).
TIA.
Best regards.
Maurizio la Cecilia               

From a.jurkiewicz at abix.info.pl  Thu Jun 26 15:22:54 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Thu Jun 26 15:23:02 2008
Subject: [Harbour] Define for version recognition
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAACC5Fhe0ToVEj3j9an88JKABAAAAAA==@gmail.com>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAACC5Fhe0ToVEj3j9an88JKABAAAAAA==@gmail.com>
Message-ID: <200806262122.55111.a.jurkiewicz@abix.info.pl>

Dnia czwartek, 26 czerwca 2008, Maurizio la Cecilia napisa?:
> I don't know if is possible, but i would know if ther'is in Harbour a pre
> defined constant telling at compile time what version (and hopefully
Of course, use :

HB_SVN_ID	- SVN revision
__DATE__	- compilation date
__TIME__	- compilation time

best regards,
Adam

-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
From bedipritpal at hotmail.com  Thu Jun 26 17:06:03 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jun 26 17:06:05 2008
Subject: [Harbour] Method ClassName:MethodName( ... )
Message-ID: <18142377.post@talk.nabble.com>


Hello Everybody

XBase++ class syntax as above is supported in xHarbour.

Do we have this functionality in Harbour? If yes, what I have
to do extra?

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Method-ClassName%3AMethodName%28-...-%29-tp18142377p18142377.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From sami-site1 at laham.com.br  Thu Jun 26 17:17:30 2008
From: sami-site1 at laham.com.br (Sami Laham)
Date: Thu Jun 26 17:18:23 2008
Subject: [Harbour] HARBOUR + gtwvt  or gtwvg
In-Reply-To: <714C4A7C-213F-4264-A0BB-F12619F0305B@syenar.hu>
Message-ID: <009601c8d7d2$0c9a4540$6f00a8c0@sami>

Hello folks,

I have some doubts, what will be happen with gtwvt (it will be exist in
future release or will be discontinued), can i use mix mode gtwvt+ hwgui
I must be use gtwvt or gtwvg (in win32 plataform) in my mind it is confused
there is some documentation to read ?

Brgds,
Sami

From druzus at acn.waw.pl  Thu Jun 26 17:31:00 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jun 26 17:31:08 2008
Subject: [SPAM]  [Harbour] Method ClassName:MethodName( ... )
In-Reply-To: <18142377.post@talk.nabble.com>
References: <18142377.post@talk.nabble.com>
Message-ID: <20080626213100.GA16939@34-mo7-2.acn.waw.pl>

On Thu, 26 Jun 2008, Pritpal Bedi wrote:

Hi Pritpal,

> XBase++ class syntax as above is supported in xHarbour.
> Do we have this functionality in Harbour? If yes, what I have
> to do extra?

   #xcommand METHOD <!ClassName!>:<MethodName> => ;
             METHOD <MethodName> CLASS <ClassName>

If you find it useful then we can add it to our hbclass.ch

best regards,
Przemek
From bedipritpal at hotmail.com  Thu Jun 26 17:34:04 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jun 26 17:34:09 2008
Subject: [Harbour] OT - E-Mail Address Verification
Message-ID: <18143143.post@talk.nabble.com>


Hello All,

Is there a way to verify if an email address is valid or fake ?

I am looking for pure Harbour solution.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/OT---E-Mail-Address-Verification-tp18143143p18143143.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Thu Jun 26 17:44:50 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jun 26 17:45:02 2008
Subject: [Harbour] OT - E-Mail Address Verification
In-Reply-To: <18143143.post@talk.nabble.com>
References: <18143143.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EDAB@SRV02.deltain.net>

FUNCTION ValidEmailAddr(cAddr AS STRING) AS LOGIC


LOCAL nAtPos,nPerPos AS DWORD
LOCAL lReturn := TRUE


*ErrorBox{,cAddr}:Show()


IF SLen(cAddr) > 0


nAtPos := At("@",cAddr)


// if not found - error
IF nAtPos < 2
lReturn := FALSE
ELSE
nPerPos := At3(".",cAddr,nAtPos)
IF nPerPos == 0
lReturn := FALSE
ELSE
IF (nPerPos - nAtPos) < 2
lReturn := FALSE
ELSE
// min of 1 character after
period
IF SLen(cAddr) - nPerPos < 1
lReturn := FALSE
ENDIF


ENDIF
ENDIF
ENDIF
ENDIF


RETURN lReturn

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: Thursday, June 26, 2008 11:34 PM
To: harbour@harbour-project.org
Subject: [Harbour] OT - E-Mail Address Verification


Hello All,

Is there a way to verify if an email address is valid or fake ?

I am looking for pure Harbour solution.

Regards
Pritpal Bedi
-- 
View this message in context:
http://www.nabble.com/OT---E-Mail-Address-Verification-tp18143143p181431
43.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Thu Jun 26 17:56:53 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jun 26 17:56:59 2008
Subject: [Harbour] HARBOUR + gtwvt  or gtwvg
In-Reply-To: <009601c8d7d2$0c9a4540$6f00a8c0@sami>
References: <714C4A7C-213F-4264-A0BB-F12619F0305B@syenar.hu>
	<009601c8d7d2$0c9a4540$6f00a8c0@sami>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EDAC@SRV02.deltain.net>

Gtwvt is part of Harbour
Gtwvg is contrib extension library who extend gtwvt with additional gui
element
Hwgui will be used but not in same form gtwvt-g. So a hwgui process you
open a form and make your works and close it returning to gtwvt-g

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Sami Laham
Sent: Thursday, June 26, 2008 11:18 PM
To: 'Harbour Project Main Developer List.'
Subject: [Harbour] HARBOUR + gtwvt or gtwvg

Hello folks,

I have some doubts, what will be happen with gtwvt (it will be exist in
future release or will be discontinued), can i use mix mode gtwvt+ hwgui
I must be use gtwvt or gtwvg (in win32 plataform) in my mind it is
confused
there is some documentation to read ?

Brgds,
Sami

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From bedipritpal at hotmail.com  Thu Jun 26 18:19:41 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jun 26 18:19:43 2008
Subject: [Harbour] [SPAM]  Method ClassName:MethodName( ... )
In-Reply-To: <20080626213100.GA16939@34-mo7-2.acn.waw.pl>
References: <18142377.post@talk.nabble.com>
	<20080626213100.GA16939@34-mo7-2.acn.waw.pl>
Message-ID: <18144599.post@talk.nabble.com>


Hello Przem

<<<
   #xcommand METHOD <!ClassName!>:<MethodName> => ;
             METHOD <MethodName> CLASS <ClassName>

If you find it useful then we can add it to our hbclass.ch
>>>

Please do it. It is extremely useful.

Thanks for the quick solution.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Method-ClassName%3AMethodName%28-...-%29-tp18142377p18144599.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Jun 26 18:27:50 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jun 26 18:27:53 2008
Subject: [Harbour] OT - E-Mail Address Verification
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EDAB@SRV02.deltain.net>
References: <18143143.post@talk.nabble.com>
	<AFB948164110ED43B5EB849E8DEEF03815EDAB@SRV02.deltain.net>
Message-ID: <18144732.post@talk.nabble.com>


Thanks Massimo

> FUNCTION ValidEmailAddr(cAddr AS STRING) AS LOGIC

But this is not what I am looking for. 

I need real-time validation from the server.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/OT---E-Mail-Address-Verification-tp18143143p18144732.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Thu Jun 26 18:53:33 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jun 26 18:53:48 2008
Subject: R: RE: [Harbour] OT - E-Mail Address Verification
Message-ID: <001a01c8d7df$7a1f082b$0400a8c0@deltain.net>

Do you know a version written in any language?
How veryfy For Valid domain and how for Valid user


----- Messaggio originale -----
Da: Pritpal Bedi <bedipritpal@hotmail.com>
Inviato: venerd? 27 giugno 2008 0.28
A: harbour@harbour-project.org <harbour@harbour-project.org>
Oggetto: RE: [Harbour] OT - E-Mail Address Verification


Thanks Massimo

> FUNCTION ValidEmailAddr(cAddr AS STRING) AS LOGIC

But this is not what I am looking for. 

I need real-time validation from the server.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/OT---E-Mail-Address-Verification-tp18143143p18144732.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From a.jurkiewicz at abix.info.pl  Thu Jun 26 18:58:49 2008
From: a.jurkiewicz at abix.info.pl (ABIX - Adam Jurkiewicz)
Date: Thu Jun 26 18:58:55 2008
Subject: [Harbour] OT - E-Mail Address Verification
In-Reply-To: <18144732.post@talk.nabble.com>
References: <18143143.post@talk.nabble.com>
	<AFB948164110ED43B5EB849E8DEEF03815EDAB@SRV02.deltain.net>
	<18144732.post@talk.nabble.com>
Message-ID: <200806270058.49288.a.jurkiewicz@abix.info.pl>

Dnia pi?tek, 27 czerwca 2008, Pritpal Bedi napisa?:
> I need real-time validation from the server.
>
Then, check http://verify-email.org/, thats very simple verification, which 
shows how to do it:

= Log:
= MX record about abix.info.pl exists.
= Connection succeeded to abix.info.pl SMTP.
= 220 m099.home.net.pl ESMTP
= > HELO verify-email.org
= 250 m099.home.net.pl
= > MAIL FROM: <check@verify-email.org>
= =250 ok
= > RCPT TO: <test-dd@abix.info.pl>
= =250 ok

But for this you have to know MX record from DNS for domain name, then telnet 
to this MX ip address and process smtp session "by hand".

Other way .. look at http://hexillion.com/email_validation/
I found it via Google, so please test, if this will fit your needs.

Adam
-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu | http://www.abix.info.pl
Skype : abix_adamj | Gadu-Gadu : 302315 | JabberID: abix_adamj@jabster.pl
Wsparcie aplikacji : http://groups-beta.google.com/group/abix-rcsoft?hl=pl
GnuPG Key => http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA810E4FB
From mbelgrano at deltain.it  Thu Jun 26 18:59:22 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jun 26 19:00:44 2008
Subject: R: RE: [Harbour] OT - E-Mail Address Verification
References: <001a01c8d7df$7a1f082b$0400a8c0@deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF0380375F8@SRV02.deltain.net>

http://coveryourasp.com/ValidateEmail.asp
 
Massimo Belgrano <mailto:mbelgrano@deltain.com> 


________________________________

Da: harbour-bounces@harbour-project.org per conto di Massimo Belgrano
Inviato: ven 27/06/2008 0.53
A: Harbour Project Main Developer List.
Oggetto: R: RE: [Harbour] OT - E-Mail Address Verification



Do you know a version written in any language?
How veryfy For Valid domain and how for Valid user


----- Messaggio originale -----
Da: Pritpal Bedi <bedipritpal@hotmail.com>
Inviato: venerd? 27 giugno 2008 0.28
A: harbour@harbour-project.org <harbour@harbour-project.org>
Oggetto: RE: [Harbour] OT - E-Mail Address Verification


Thanks Massimo

> FUNCTION ValidEmailAddr(cAddr AS STRING) AS LOGIC

But this is not what I am looking for.

I need real-time validation from the server.

Regards
Pritpal Bedi

--
View this message in context: http://www.nabble.com/OT---E-Mail-Address-Verification-tp18143143p18144732.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour


-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 4554 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080627/52c644da/attachment.bin
From harbour.01 at syenar.hu  Thu Jun 26 19:42:57 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 26 19:43:53 2008
Subject: [Harbour] 2008-06-26 11:21 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <18137140.post@talk.nabble.com>
References: <01c8d76e$Blat.v2.6.2$e44fe5f8$12bc81945730@127.0.0.1>
	<18137140.post@talk.nabble.com>
Message-ID: <DB873542-F660-4F7C-AA2D-BB7DCE4F8D22@syenar.hu>

> Hello Viktor
>
> <<<
>     ; TODO: I'd suggest to change "WVT" references to "WVG"
>             to avoid confusion with core WVT. At least in those places
>             which wouldn't break compatibility (like source names).
>             If there is no objection I can do it.
>>>>
>
> What exactly you mean by WVT references?
>
> But I will not suggest any changes to this methodology as both
> libraries are essentially the same in all respects and an applicatioon
> can be linked with both of them without any code change.
>
> Also it will make it easy to keep synchronized both if
> we add more features to one.
>
> But perhaps I may be misunderstanding your concept.

Hi Pritpal,

I'm seeing lots of "WVT"s in filenames (sources, headers),
function names, other strings. They might be similar, but
they are not at all the same, so they should have distinct
names. Sometime I even don't know which we are talking about
on this list, it's that confusing. All GTs are replaceable,
that's their main point, but if they are different, they
should be named differently.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun 26 19:44:21 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 26 19:45:16 2008
Subject: [Harbour] Define for version recognition
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAACC5Fhe0ToVEj3j9an88JKABAAAAAA==@gmail.com>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAACC5Fhe0ToVEj3j9an88JKABAAAAAA==@gmail.com>
Message-ID: <3DD21F2E-1AFB-4AAC-9333-F80CEE0DD5B3@syenar.hu>

Hi Maurizio,

Pls check the version #defines in include/hbver.h,
on .prg level __HARBOUR__ has the version as its value.

Brgds,
Viktor

On 2008.06.26., at 19:19, Maurizio la Cecilia wrote:

> I don't know if is possible, but i would know if ther'is in Harbour  
> a pre
> defined constant telling at compile time what version (and hopefully
> subversion) of the compiler is in use.
> This could allow me to take care of features implemented in newer  
> version
> and lacking in older version (the stable, by example...).
> TIA.
> Best regards.
> Maurizio la Cecilia
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Jun 26 19:40:05 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 26 19:48:09 2008
Subject: [Harbour] Set( _SET_HBOUTLOGHEADER ) opinions
In-Reply-To: <4863B1C4.8060606@dbtopas.lt>
References: <9681146C-F9E4-4DEB-A44D-59282FAAB2BE@syenar.hu>
	<4863B1C4.8060606@dbtopas.lt>
Message-ID: <2E699911-A395-4EB7-BAA8-3912CDA717C2@syenar.hu>

>
Hi Mindaugas,

> Szak?ts Viktor wrote:
>> I'd like to add a small feature which makes it possible
>> to pass an app defined string to Harbour, which then gets
>> added to every hb_out.log entries.
>> Set( _SET_HBOUTLOGHEADER[, <cValue> ) -> <cOldValue>
>> This is useful to add important information to the
>> Harbour generated FM and GPF messages, so that for
>> example you know which user or which station was
>> involved in any given occurrence of these. Right
>> now you only see the fact with the details, but
>> in a multiuser environment this is not always enough.
>> Any opinions, objections?
>
> I has nothing against, but does it helps to solve the problem? Do  
> you use a standard error block, and will it fit your needs if some  
> header would be added?
> I use my own error block for real life applications, many  
> information: OS version, application version, libraries version,  
> open databases, current record, exe file path/name, parameters,  
> locals, C stack frame (in case of GPF), etc. are dumped to file.  
> Dialog containing error is displayed, user can press "Send" to send  
> all error log to developers by email, etc.

That's pretty neat! I use my own RTE handler of course,
but I don't have any custom built GPF handlers. IMO it's
better to have the GPF handler as part of Harbour, as it
more problematic to solve on the application level due
to different platforms etc.

In case this is generic and part of Harbour, even if
it contains details information like yours, it's still
missing some app level values, which could help
identify the situation (app level logged in user, or
session ID are two examples for this).

Your code could be a very nice addition to Harbour BTW.
I wonder if you've considered donating it to the project :)

(The only thing I'd not include is any variable contents
as they may contains business sensitive or other confidential
data, which is not very good to include in log files IMO,
other than it's of course also useful)

Brgds,
Viktor

>
> ====================================================================
> 2007.06.19 20:06:16
>
> Klaida: CAWI/EG_MEM(11)   0
> Apra?ymas: GPF
>    Exception Code:C0000005
>    Exception Address:004538AF
>    EAX:00000400  EBX:00DA67A8  ECX:00000000  EDX:00000A70
>    ESI:00CB325C  EDI:00CB31D0 EBP:0012DC80
>    CS:EIP:001B:004538AF  SS:ESP:0023:0012DC78
>    DS:0023  ES:0023  FS:003B  GS:0000
>    Flags:00010206
>    CS:EIP: FF 02 EB 6B F6 43 01 40 74 0C 8B 4B 10 51 E8 EE
>    SS:ESP: 00000002 00DA6670 0012DC90 004162B5 00CB325C 00DA67A8  
> 0012DCB8 0043D9D5 00DA67A8 0043E954 00CB31D0 00CB31B4 00000001  
> 0000000D 0000000E 00000000
>
>    C stack:
>    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...
>    004538AF 0012DC80   0012DC90 004162B5 00CB325C 00DA67A8
>    004162B5 0012DC90   0012DCB8 0043D9D5 00DA67A8 0043E954 00CB31D0  
> 00CB31B4 00000001 0000000D 0000000E 00000000
>    0043D9D5 0012DCB8   0012DD3C 0043E9DC 00CB31B4 00CB31D0 0012DCD0  
> 0012DCD4 00000001 0000000E 00CB30B8 0012DD00
>    0043E9DC 0012DD3C   0012DF50 00409DE5 00000004 00402061 00000002  
> 004A8C44 7E41B601 5D0C0662 00580436 0012DD68
>    00409DE5 0012DF50   0012DF64 00402076 004BB347 004A7404 00000000
>    00402076 0012DF64   0012DF90 00414F0A 004BB392 00000000 00000008  
> 00000000 00000000 00000087 00000000 0000006C
>    00414F0A 0012DF90   0012E1A4 00409EAE 00000002 000000F4 FFFF0000  
> 00CB2FBC 005F4C68 00CB2F84 00000007 00D7F98C
>    00409EAE 0012E1A4   0012E254 00415AAB 004BB392 004A7404 00000000  
> 004159F8 005A2B90 00CB2FBC 004157C1 005F6C57
>    00415AAB 0012E254   0012E468 0040AE57 00000003 00431403 00000003  
> 004A9074 00457DB8 0062D20C 0012E278 6B737061
>    0040AE57 0012E468   0012E47C 00431418 005F6C57 005F45B8 00000000
>    00431418 0012E47C   0012E4A8 00414F0A 004BB347 00000000 00000056  
> 00000000 00000000 00000D02 00000000 00000051
>    00414F0A 0012E4A8   0012E6BC 00409DE5 00000003 00402061 00000008  
> 004A8C44 00D28010 0012E4D0 0044CB7C 00D28010
>    00409DE5 0012E6BC   0012E6D0 00402076 004BB347 004A7404 00000000
>    00402076 0012E6D0   0012E6FC 00414F0A 00CB2C90 00000008 00000009  
> 00000000 00000000 00000E6D 00000000 0000004D
>    00414F0A 0012E6FC   004A8C44 0044AB34 00000008 00000000 00000000  
> 00000001 0012E74C 0044A7D4 00000002 004C9F28
>    0044AB34 004A8C44   004C6600 00000201 00402061 00C74F14 004C660F  
> 00000201 00402117 00C74F34 004C661A 00000201
>    00000201 004C6600   5F504552 414E4953 494C414E 5300455A 53544E49  
> 4C444D55 49440047 45505A44 444F4952 00474C44
>
> Operacija: AEVAL
>
> Stekas:
>    AEVAL(0)                    ([A27], [B], 1, 14)
>    REP_SINANALIZE(3377)        ([O:CLS_REPSRV,NID=1200], 1), NIL,  
> "20000000001", 14, NIL, [A27], [H], [H], "20 Atsargos"
>    (b)REP_SINANALIZE(3333)     ([O:CLS_REPSRV,NID=1200], 1, 0)
>    REPORT(169)                 (1200, "Sintetin? analiz?", [B]),  
> NIL, NIL, .T., NIL, NIL, 2, [O:CLS_DIALOG,NID=31002],  
> [O:CLS_REPSRV,NID=1200]
>    REP_SINANALIZE(3333)        ([H], 1200, NIL, NIL, NIL, NIL, NIL,  
> [H]), [H], NIL
>    HB_EXECFROMARRAY(0)         ([P], [A8])
>    EVALEX(3694)                ([P], [H], 1200), NIL, NIL, NIL, NIL,  
> NIL, NIL, "P"
>    DLGSETMENU(386)             ("Sintetin? analiz?"), 1200, [P],  
> [P], [H], [A2], 65553, [O:CLS_DIALOG,NID=1200], [O:CLS_REGAREA]
>    (b)ADDREQUEST(214)          ([H])
>    USER_WND_PROC(297)          (273, 1200, 0), 11, 65553
>    FRAME_WND_PROC(128)         (106759484, 273, 1200, 0), NIL, 1200,  
> NIL, NIL, 0, [O:TAPPLICATION], NIL, 273
>    (b)TAPPLICATION:FRAME(33)   (106759484, 273, 1200, 0)
>    DISPATCHMESSAGE(0)          ("<]?????????U?  
> ????I???")
>    CHECK_ACCEL(83)             ("<]?????????U?  
> ????I???"), [A4], NIL, NIL, NIL, NIL
>    TAPPLICATION:FRAME(62)      (), [A4], "<]??????? 
> ??U? ????I???", 282001408, 0, 65557
>    WINMAIN(127)                ("DEBUG"), 31524389, "", NIL
>
> EXE failas:  D:\Kesto\ApskaitW.W32\apsk_w32.exe
> Versijos:
>  OS: Windows XP Home Edition 5.01.2600 Service Pack 2
>  xHarbour: xHarbour build 0.99.61 Intl. (SimpLex), Nov 16 2006  
> 17:18:09
>  CAWI32: Nov 29 2006, 19:27:49
>  head.lib: Jun 15 2007, 11:46:12
>  apskaita-prj: ver. 3.01,Jun 19 2007 20:05:05
>  db kelias - duomenys: D:\Kesto\Bazes\Vaineta.new\
>  db kelias - sarasai: D:\Kesto\Bazes\Vaineta.new\
>  db kelias - ataskaitos: D:\Kesto\Bazes\Vaineta.new\Blankai\
>
> Kompiuteris: TOSHIBA
> Vartotojas: LapTopas
>
> Duomen? sritys:
>    Einamoji: 8  KVITAS
>    Filtras:
>    Ry?io i?rai?ka:
>    Indekso raktas: TIPAS
>
>     1 NUMERIS       : [C14]:"              "
>     2 PAVADINIMA    : [C60]:"                    "
>     3 MATOVNT       : [C10]:"          "
>     4 KIEKIS        : [N]:       0.000
>     5 KAINAP        : [N]:        0.00
>     6 SUMA          : [N]:          0.00
>     7 SIUNTEJAS     : [C8]:"        "
>     8 SKYRIUS       : [N]: 0
>     9 PADALINYS     : [C60]:"                    "
>    10 UNIFO         : [C40]:"                                        "
>    11 MOKESTIS      : [N]:  0
>    12 KASOS_MOK     : [N]:0
>    13 PAPILDOM1     : [C50]:"          "
>    14 PAPILDOM2     : [C50]:"          "
>    15 PAPILDOM3     : [C50]:"          "
>    16 PAPILDOM4     : [C50]:"          "
>    17 IRASAS        : [N]:       0
>    18 KAINA         : [N]:        0.00
>    19 NUOLAIDA      : [N]: 0
>    20 TIPAS         : [C1]:" "
>    21 TURINYS       : [C60]:"                    "
>    22 PAKUOTE       : [N]:     0
>
>     1 DBFCDX LIKUCIAI              192/      1868 Indeksas NUMERIS(1)
>     2 DBFCDX KVITAI               3933/      3933
>     3 DBFCDX SUDETIS              6399/      6399 Indeksas NUMERIS(2)
>     4 DBFCDX MOKESCIA                1/         8 Indeksas NUMERIS2(4)
>     5 DBFCDX SKYRIAI                 7/         8 Indeksas  
> KASAKODAS(1)
>     6 DBFCDX KLASIFIK_N            100/      4522 Indeksas NUMERIS(1)
>     7 DBFCDX ATSKAIT_K             534/       825 Indeksas KODAS(1)
>     8 DBFCDX KVITAS                  1/         0 Indeksas TIPAS(1)
>     9 DBFCDX TLIKUCIAI               1/      1868 Indeksas NUMERIS(1)
>    10 DBFCDX IMONE                   1/         1
> ==================================================================
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Jun 26 19:54:47 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 26 19:55:42 2008
Subject: [Harbour] OT - E-Mail Address Verification
In-Reply-To: <18143143.post@talk.nabble.com>
References: <18143143.post@talk.nabble.com>
Message-ID: <3D54DC9A-0D2D-446A-8494-1D4959D14996@syenar.hu>

You'd need to directly mess with the DNS servers
(to get the MX records) than you'd have to query
the SMTP server(s) to find this out (also I'm not
sure how reliable this is nowadays that servers
are using all kinds of hacks to avoid SPAM).
So, probably possible to some extent, but such
code is rare to find for some reason.

Brgds,
Viktor

On 2008.06.26., at 23:34, Pritpal Bedi wrote:

>
> Hello All,
>
> Is there a way to verify if an email address is valid or fake ?
>
> I am looking for pure Harbour solution.
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/OT---E-Mail-Address-Verification-tp18143143p18143143.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From myorg63 at mail.ru  Thu Jun 26 20:24:11 2008
From: myorg63 at mail.ru (Petr Chornyj)
Date: Thu Jun 26 20:24:14 2008
Subject: [Harbour] [SPAM]  Method ClassName:MethodName( ... )
In-Reply-To: <18144599.post@talk.nabble.com>
References: <18142377.post@talk.nabble.com>
	<20080626213100.GA16939@34-mo7-2.acn.waw.pl>
	<18144599.post@talk.nabble.com>
Message-ID: <18146004.post@talk.nabble.com>




Pritpal Bedi wrote:
> 
> <<<
>    #xcommand METHOD <!ClassName!>:<MethodName> => ;
>              METHOD <MethodName> CLASS <ClassName>
> 
> If you find it useful then we can add it to our hbclass.ch
>>>>
> 
> Please do it. It is extremely useful.
> 

For what extremely?  IMHO it's "sugar" and if we want to add this to
hbclass.ch we must use #ifdef HB_CLS_XPP or in another way we can add it to
hbcompat.ch because it is supported in xHarbour.


Regards,
Petr


-- 
View this message in context: http://www.nabble.com/Method-ClassName%3AMethodName%28-...-%29-tp18142377p18146004.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From philb at philb.us  Thu Jun 26 20:26:01 2008
From: philb at philb.us (Phil Barnett)
Date: Thu Jun 26 20:26:09 2008
Subject: [Harbour] OT - E-Mail Address Verification
In-Reply-To: <18143143.post@talk.nabble.com>
References: <18143143.post@talk.nabble.com>
Message-ID: <200806262026.01567.philb@philb.us>

On Thursday 26 June 2008 05:34:04 pm Pritpal Bedi wrote:
> Hello All,
>
> Is there a way to verify if an email address is valid or fake ?
>
> I am looking for pure Harbour solution.
>
> Regards
> Pritpal Bedi

I have a php form that does it if it could help.

At least it would walk you through the concepts... It leaves you to solve the 
need to query the DNS for the MX list.

# cat do_sendfeedback.php3
<?
// Change the info on the next two lines of code
$mailto = "philb@philb.us";             // give me the email to address
$mail_subject = "Feedback Form from The-Oasis"; // give me the subject line of 
mail note
$feedback_message = "For taking the time to write a message We will get back 
to you as soon as
possible I appreciate your message.";

// ******************************************
// DO NOT change any code below this line   *
// ******************************************
$error = "";

// This script was origionally written to accept variables directly from the 
post method
// The method now passes arguments in a array called $_POST
// Store array eliments in ordigional variables so we don't have to rewrite 
function.
$message = $_POST[message];
$sender_name = $_POST[sender_name];
$sender_email = $_POST[sender_email];


// Test the customer to see if he passed us the stuff..
if( $message === "" )
{
   echo "<P align=center>Why send an empty message?</P>";
   return;
}

if( $sender_name === "" )
{
   echo "<P align=center>You didn't provide your name...</P>";
   return;
}

if( $sender_email === "" )
{
   echo "<P align=center>You didn't provide your email address...</P>";
   return;
}

if( verifyEmail( $sender_email, $error ) === TRUE )
{

   $msg  = "Sender's Full Name:\t$sender_name\n";
   $msg .= "Sender's Email:\t\t$sender_email\n";
   $msg .= "Additional Message:\t$message\n\n";

   $mailheaders  = "From: $sender_email\n";
   $mailheaders .= "Reply-To: $sender_email\n\n";

   mail( "$mailto", "$mail_subject", strip_tags(stripslashes( $msg ) ), 
$mailheaders );

   echo "<H1 align=center>Thank You, $sender_name</H1>";
   echo "<P align=center>$feedback_message</P>";
}
else
{
   echo "<CENTER>There is a problem with your email
address:<P> <B>$sender_email</B><P>$error</CENTER>";
}

  /*
        ** Function: verifyEmail
        ** Input: STRING address, REFERENCE error
        ** Output: BOOLEAN
        ** Description: Attempts to verify an email address by
        ** contacting a mail exchanger.  Registered mail
        ** exchangers are requested from the domain controler first,
        ** then the exact domain itself.  The error argument will
        ** contain relevant text if the address could not be
        ** verified.
        */

        function verifyEmail($address, &$error)
        {
                global $SERVER_NAME;

                list($user, $domain) = split("@", $address, 2);

                //make sure the domain has a mail exchanger
                if(checkdnsrr($domain, "MX"))
                {
                        //get mail exchanger records
                        if(!getmxrr($domain, $mxhost, $mxweight))
                        {
                                $error = "Could not retrieve mail 
exchangers!<BR>\n";
                                return(FALSE);
                        }
                }
                else
                {
                        //if no mail exchanger, maybe the host itself
                        //will accept mail
                        $mxhost[] = $domain;
                        $mxweight[] = 1;
                }

                //create sorted array of hosts
                for($i = 0; $i < count($mxhost); $i++)
                {
                        $weighted_host[($mxweight[$i])] = $mxhost[$i];
                }
                ksort($weighted_host);

                //loop over each host
                foreach($weighted_host as $host)
                {
                        //connect to host on SMTP port
                        if(!($fp = fsockopen($host, 25)))
                        {
                                //couldn't connect to this host, but
                                //the next might work
                                continue;
                        }


                        /*
                        ** skip over 220 messages
                        ** give up if no response for 10 seconds
                        */
                        set_socket_blocking($fp, FALSE);

                        $stopTime = time() + 10;
                        $gotResponse = FALSE;

                        while(TRUE)
                        {
                                //try to get a line from mail server
                                $line = fgets($fp, 1024);

                                if(substr($line, 0, 3) == "220")
                                {
                                        //reset timer
                                        $stopTime = time() + 10;
                                        $gotResponse = TRUE;
                                }
                                elseif(($line == "") AND ($gotResponse))
                                {
                                        break;
                                }
                                elseif( time() > $stopTime )
                                {
                                        break;
                                }
                        }

                        if(!$gotResponse)
                        {
                                //this host was unresponsive, but
                                //maybe the next will be better
                                continue;
                        }

                        set_socket_blocking ($fp, TRUE);

                        //sign in
                        fputs($fp, "HELO $SERVER_NAME\r\n");
                        fgets($fp, 1024);

                        //set from
                        fputs($fp, "MAIL FROM: <info@$domain>\r\n");
                        fgets($fp, 1024);

                        //try address
                        fputs($fp, "RCPT TO: <$address>\r\n");
                        $line = fgets($fp, 1024);

                        //close connection
                        fputs($fp, "QUIT\r\n");
                        fclose($fp);

                        if(substr($line, 0, 3) != "250")
                        {
                                //mail server doesn't recognize
                                //this address, so it must be bad
                                $error = $line;
                                return(FALSE);
                        }
                        else
                        {
                                //address recognized
                                return(TRUE);
                        }
                }

                $error = "Unable to reach a mail exchanger!";
                return(FALSE);
        }

?>


-- 
Waiting for sunspots.
From bedipritpal at hotmail.com  Thu Jun 26 20:44:34 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jun 26 20:44:37 2008
Subject: [Harbour] 2008-06-26 11:21 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <DB873542-F660-4F7C-AA2D-BB7DCE4F8D22@syenar.hu>
References: <01c8d76e$Blat.v2.6.2$e44fe5f8$12bc81945730@127.0.0.1>
	<18137140.post@talk.nabble.com>
	<DB873542-F660-4F7C-AA2D-BB7DCE4F8D22@syenar.hu>
Message-ID: <18146183.post@talk.nabble.com>


Hello

<<<
I'm seeing lots of "WVT"s in filenames (sources, headers),
>>>

I am fine with changes in filenames.

<<<
function names, 
>>>

Absolutely NO, as it is the central idea behind.

<<<
other strings. 
>>>

I am fine with these changes, again.

<<<
They might be similar, but
they are not at all the same, so they should have distinct
names. Sometime I even don't know which we are talking about
on this list, it's that confusing. All GTs are replaceable,
that's their main point, but if they are different, they
should be named differently.
>>>

Sure all GT's are replaceable but the exception is GTWVT and GTWVG.
Both are mutually exclusive.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-26-11%3A21-UTC%2B0200-Viktor-Szakats-%28harbour.01-syenar-hu%29-tp18129952p18146183.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From myorg63 at mail.ru  Thu Jun 26 20:47:32 2008
From: myorg63 at mail.ru (Petr Chornyj)
Date: Thu Jun 26 20:47:36 2008
Subject: [Harbour] Errore irrecuperabile 9024
In-Reply-To: <4863A096.8080507@2bm.it>
References: <48590864.2080406@2bm.it>
	<25074C89-1E03-43D3-8A5B-EC7CB70F6D82@syenar.hu>
	<4861FB23.4070105@2bm.it> <18108095.post@talk.nabble.com>
	<4863A096.8080507@2bm.it>
Message-ID: <18146207.post@talk.nabble.com>




Paolo Russignan wrote:
> 
> 
> as we must change the code you sent? 
> Another question: where can I find documentation and examples of
> hbhpdf? 
> 
> 

Paolo, we must change not hb_xrealloc, we must change yours own code. I do
not know what library you use with pdfcreator, but I think a problem  is in
C wrapper functions. Without a yours code I can not help to you and others
guys also.  

About a documentation it's good question :-) 
Maybe original harupdf documentation can help to you. You can find a 
examples  in contrib\hbhpdf\tests folder.

Regards,
Petr

-- 
View this message in context: http://www.nabble.com/Errore-irrecuperabile-9024-tp17982216p18146207.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Jun 26 21:17:44 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 26 21:18:39 2008
Subject: [Harbour] 2008-06-26 11:21 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <18146183.post@talk.nabble.com>
References: <01c8d76e$Blat.v2.6.2$e44fe5f8$12bc81945730@127.0.0.1>
	<18137140.post@talk.nabble.com>
	<DB873542-F660-4F7C-AA2D-BB7DCE4F8D22@syenar.hu>
	<18146183.post@talk.nabble.com>
Message-ID: <04186BB9-77EA-4609-822F-1CC30549EAFD@syenar.hu>

> <<<
> function names,
>>>>
>
> Absolutely NO, as it is the central idea behind.

It's a compatibility issue, but how come naming
GTWVG functions as GTWVT is the central idea?
I don't understand.

[ I thought the central idea is that GTWVG is a GUI
which allows me to use Clipper legacy console output
commands to generate GUI (or hybrid) apps. The fact
that it's technically based on GTWVT, and that it
shares a lot of code with it, really doesn't matter
in regards to the final user (developer) experience
IMO. It's just an implementation detail. ]

> They might be similar, but
> they are not at all the same, so they should have distinct
> names. Sometime I even don't know which we are talking about
> on this list, it's that confusing. All GTs are replaceable,
> that's their main point, but if they are different, they
> should be named differently.
>>>>
>
> Sure all GT's are replaceable but the exception is GTWVT and GTWVG.
> Both are mutually exclusive.

I can understand that. Still, it's extremely
confusing to name GTWVG functions as GTWVT.

Names are also used quite inconsistently right now,
some are named WVG and some WVT, so I think we should
somehow transition things to WVG. To not break app
compatibility, a simple #define layer could be added
to translate WVT to WVG for the application level code,
optionally with a notice that code is recommended to
be updated.

Right now if a casual Harbour user sees "WVT_SetClipboard()",
he/she would logically look for this function in the
core, they would naturally expect it to require gtwvt.lib.
It's unlikely they could easily figure that gtwvg.lib is
what they really need.

Names are very important.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jun 26 21:21:39 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 26 21:22:35 2008
Subject: [Harbour] [SPAM]  Method ClassName:MethodName( ... )
In-Reply-To: <18146004.post@talk.nabble.com>
References: <18142377.post@talk.nabble.com>
	<20080626213100.GA16939@34-mo7-2.acn.waw.pl>
	<18144599.post@talk.nabble.com> <18146004.post@talk.nabble.com>
Message-ID: <437EFF14-754F-4BA2-A1F9-9BF31F51DB36@syenar.hu>

I agree.

I'd also suggest to add some arguments why a given
feature is useful, before adding it to core, even
if it's easy to implement. This is important to keep
the language straightforward and to avoid bloat.

This feature's only merit IMO is that it's an XBase++
compatibility one (otherwise it's just a 3rd/4th synonym
for an existing statement), so we should mark it as
HB_COMPAT_XPP.

We still have it pending to switch to a more flexible
way to add/remove compatibility layers for different
Clipper dialects, possibly at compile/link time,
rather than Harbour build time. We can do this after
1.0. This is also important to make sure that no
Harbour code (and possible contrib) code is using
any such optional extensions. Right now it's quite
cumbersome to find out these problems (like such
a simple thing as using SToD() instead of hb_SToD()).

Brgds,
Viktor

On 2008.06.27., at 2:24, Petr Chornyj wrote:

>
>
>
> Pritpal Bedi wrote:
>>
>> <<<
>>   #xcommand METHOD <!ClassName!>:<MethodName> => ;
>>             METHOD <MethodName> CLASS <ClassName>
>>
>> If you find it useful then we can add it to our hbclass.ch
>>>>>
>>
>> Please do it. It is extremely useful.
>>
>
> For what extremely?  IMHO it's "sugar" and if we want to add this to
> hbclass.ch we must use #ifdef HB_CLS_XPP or in another way we can  
> add it to
> hbcompat.ch because it is supported in xHarbour.
>
>
> Regards,
> Petr
>
>
> -- 
> View this message in context: http://www.nabble.com/Method-ClassName%3AMethodName%28-...-%29-tp18142377p18146004.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Jun 26 21:51:50 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jun 26 21:51:52 2008
Subject: [Harbour] 2008-06-27 03:27 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d7f8$Blat.v2.6.2$5dc5ac9a$1a2cee45546e@127.0.0.1>

2008-06-27 03:27 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/gtwvg/Makefile
   * contrib/gtwvg/common.mak
   - contrib/gtwvg/wvtclass.prg
   + contrib/gtwvg/wvgclass.prg
   - contrib/gtwvg/wvtpaint.prg
   + contrib/gtwvg/wvgpaint.prg
   - contrib/gtwvg/wvtcore.c
   + contrib/gtwvg/wvgcore.c
   - contrib/gtwvg/wvtutils.c
   + contrib/gtwvg/wvgutils.c
   * contrib/gtwvg/hbgtwvg.ch
   * contrib/gtwvg/wvtwin.ch
     + Added self-guards for headers.
     ! Added missing SVN header and copyright to hbgtwvg.ch.
     ! Deleted ISBLOCK() from wvtwin.ch since it's already  
       #defined in common.ch.
     * Renamed local source files from wvt*.* -> wvg*.*
--
Brgds,
Viktor

From bedipritpal at hotmail.com  Thu Jun 26 22:18:00 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jun 26 22:18:03 2008
Subject: [Harbour] 2008-06-26 11:21 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <04186BB9-77EA-4609-822F-1CC30549EAFD@syenar.hu>
References: <01c8d76e$Blat.v2.6.2$e44fe5f8$12bc81945730@127.0.0.1>
	<18137140.post@talk.nabble.com>
	<DB873542-F660-4F7C-AA2D-BB7DCE4F8D22@syenar.hu>
	<18146183.post@talk.nabble.com>
	<04186BB9-77EA-4609-822F-1CC30549EAFD@syenar.hu>
Message-ID: <18146982.post@talk.nabble.com>


Hello Viktor

<<<
It's a compatibility issue, but how come naming
GTWVG functions as GTWVT is the central idea?
I don't understand.
>>>

:-(((

<<<
[ I thought the central idea is that GTWVG is a GUI
which allows me to use Clipper legacy console output
commands to generate GUI (or hybrid) apps. The fact
that it's technically based on GTWVT, and that it
shares a lot of code with it, really doesn't matter
in regards to the final user (developer) experience
IMO. It's just an implementation detail. ]
>>>

User is not concerner nor he cares. I agree.

<<<
I can understand that. Still, it's extremely
confusing to name GTWVG functions as GTWVT.
>>>

Why confusing. Since its inception it is being used as is.
More we are in a process the pull out the core part out of 
GTWVG and totally base it on GTWVT, just like it existed
in xHarbour for so many years.

<<<
Names are also used quite inconsistently right now,
some are named WVG and some WVT, so I think we should
somehow transition things to WVG. To not break app
compatibility, a simple #define layer could be added
to translate WVT to WVG for the application level code,
optionally with a notice that code is recommended to
be updated.
>>>

Again please I strongly oppose this. 
As already agreed upon, contribs are the private areas 
and so I would not like it to be changed just because 
it does not confirm to some standards.

<<<
Right now if a casual Harbour user sees "WVT_SetClipboard()",
he/she would logically look for this function in the
core, they would naturally expect it to require gtwvt.lib.
It's unlikely they could easily figure that gtwvg.lib is
what they really need.
>>>

This has to be documented in a better way. That's it.

<<<
Names are very important.
>>>

Surely yes. But in case GTWVG, no.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/2008-06-26-11%3A21-UTC%2B0200-Viktor-Szakats-%28harbour.01-syenar-hu%29-tp18129952p18146982.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Jun 26 22:21:25 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jun 26 22:21:28 2008
Subject: [Harbour] 2008-06-26 11:21 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <18146982.post@talk.nabble.com>
References: <01c8d76e$Blat.v2.6.2$e44fe5f8$12bc81945730@127.0.0.1>
	<18137140.post@talk.nabble.com>
	<DB873542-F660-4F7C-AA2D-BB7DCE4F8D22@syenar.hu>
	<18146183.post@talk.nabble.com>
	<04186BB9-77EA-4609-822F-1CC30549EAFD@syenar.hu>
	<18146982.post@talk.nabble.com>
Message-ID: <18147002.post@talk.nabble.com>


Hello again,

<<<
Names are also used quite inconsistently right now,
some are named WVG and some WVT, so I think we should
somehow transition things to WVG. To not break app
compatibility, a simple #define layer could be added
to translate WVT to WVG for the application level code,
optionally with a notice that code is recommended to
be updated.
>>>

It is not so simple to exploit translates.
All my applications are highly end-user configurable
and a lot of code is centered around macros distributed
in local as well as application defined data-dictionaries.

Hope it is sufficient to put my argument.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/2008-06-26-11%3A21-UTC%2B0200-Viktor-Szakats-%28harbour.01-syenar-hu%29-tp18129952p18147002.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From gabor.salai at euroherc.hr  Fri Jun 27 02:43:12 2008
From: gabor.salai at euroherc.hr (gabor salai [intranet242])
Date: Fri Jun 27 02:40:32 2008
Subject: [Harbour] OT - E-Mail Address Verification
References: <18143143.post@talk.nabble.com>
Message-ID: <005f01c8d821$171dabc0$7e00520a@euroherc.ba>

----- Original Message -----
From: "Pritpal Bedi" <bedipritpal@hotmail.com>
To: <harbour@harbour-project.org>
Sent: Thursday, June 26, 2008 11:34 PM
Subject: [Harbour] OT - E-Mail Address Verification


> Is there a way to verify if an email address is valid or fake ?

what do you mean, to know is, for example, alfa.beta@gama.delta a real,
existing address?

you may check everything [address forming, mail servers, ...], but the final
test, is there a mail box named "alfa.beta" on domain "gama.delta", is not
possible. as i remember [maybe phil wrote few years ago] there *is* a mail
protocol query upon which the server should answer "yes, i have an inbox for
that mail address", but for security [anti-spam] reason mail admins often
[allways?] disable that response.

so, sending coded message to tested address, and waiting for somebody
response is the only way to test that address is real

i would like to know if i am wrong


From mbelgrano at deltain.it  Fri Jun 27 04:31:41 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun 27 04:31:57 2008
Subject: [Harbour] 2008-06-26 11:21 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
In-Reply-To: <18147002.post@talk.nabble.com>
References: <01c8d76e$Blat.v2.6.2$e44fe5f8$12bc81945730@127.0.0.1><18137140.post@talk.nabble.com><DB873542-F660-4F7C-AA2D-BB7DCE4F8D22@syenar.hu><18146183.post@talk.nabble.com><04186BB9-77EA-4609-822F-1CC30549EAFD@syenar.hu><18146982.post@talk.nabble.com>
	<18147002.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EDAD@SRV02.deltain.net>

THis library is like an extension  library for gtwvt 
if tomorrow Przemyslaw Czerpak give capability of integrate without copy
and past
So I agree maintain original name function if made same works


My dream
Imo a gt will have a standard way for adding in c standard gui component
(tab,textbox,combo,richedit)
Will harbour have something Like vlc for delphi?

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: Friday, June 27, 2008 4:21 AM
To: harbour@harbour-project.org
Subject: Re: [Harbour] 2008-06-26 11:21 UTC+0200 Viktor Szakats
(harbour.01syenar hu)


Hello again,

<<<
Names are also used quite inconsistently right now,
some are named WVG and some WVT, so I think we should
somehow transition things to WVG. To not break app
compatibility, a simple #define layer could be added
to translate WVT to WVG for the application level code,
optionally with a notice that code is recommended to
be updated.
>>>

It is not so simple to exploit translates.
All my applications are highly end-user configurable
and a lot of code is centered around macros distributed
in local as well as application defined data-dictionaries.

Hope it is sufficient to put my argument.

Regards
Pritpal Bedi

-- 
View this message in context:
http://www.nabble.com/2008-06-26-11%3A21-UTC%2B0200-Viktor-Szakats-%28ha
rbour.01-syenar-hu%29-tp18129952p18147002.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Fri Jun 27 04:59:29 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 27 05:00:24 2008
Subject: [Harbour] 2008-06-26 11:21 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <18146982.post@talk.nabble.com>
References: <01c8d76e$Blat.v2.6.2$e44fe5f8$12bc81945730@127.0.0.1>
	<18137140.post@talk.nabble.com>
	<DB873542-F660-4F7C-AA2D-BB7DCE4F8D22@syenar.hu>
	<18146183.post@talk.nabble.com>
	<04186BB9-77EA-4609-822F-1CC30549EAFD@syenar.hu>
	<18146982.post@talk.nabble.com>
Message-ID: <E361F34A-882B-4E88-BF1F-E47EB76D8BE8@syenar.hu>

>>>>
>>>>
>
Hi Pritpal,

> Why confusing. Since its inception it is being used as is.
> More we are in a process the pull out the core part out of
> GTWVG and totally base it on GTWVT, just like it existed
> in xHarbour for so many years.

Being wrong for many years, doesn't justify it IMO.
This just means an additional compatibility issue to
be solved.

>>>> Again please I strongly oppose this.
> As already agreed upon, contribs are the private areas
> and so I would not like it to be changed just because
> it does not confirm to some standards.

Maybe you've noticed we've spent many weeks/months
trying to raise the quality of contribs, to be closer
to core, to not break builds, not have bugs.
Just compare the current state to the one
say two years ago. This is - I suppose - a common
interest for Harbour, and us developers. That's also the
reason why I didn't care anymore to separate contribs
from core in distribution (like xhb does, or as we
wanted to do before, there was even discussion about
moving contribs to a different sf.net project). If
contrib quality is comparable to core, this is not
a problem. But this needs cooperation sometimes, and
this means problems to solve sometimes. We've solved
many such already.

A contrib is a private area, but what if it contains
problems influencing builds, containing bugs or
creating other sorts of problems (like support ones
or using internals, etc)? What if original contributor
lost interest in maintaining a contrib? Should we leave
it there untouched forever? Software is a living
thing, so we cannot do this.

[ As an other example hbwhat32 looks a bit abandoned
IMO, I've reported several potential bugs in it, but
you don't seem to be interested :( ]

>>>>
> This has to be documented in a better way. That's it.

Well sure, but until this happens (which can be anything
from 2 to 10 years) it will be a constant source of
misunderstandings, since we have no documentation even
for the core. Even if core has one, it will be a source
of misunderstanding since wvt_SetClipboard() will look
as undocumented core. I think names should help users
to more easily find what they need, rather than
creating extra effort.

> Surely yes. But in case GTWVG, no.

That sounds a bit strange for me :)

Please think about it this naming issue, it can be
solved without breaking any code.

Finally, I'd like to ask one thing, I'd like to rename
wvtwin.ch to wvgwin.ch, do you think I can do this one
change?

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Jun 27 05:07:29 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 27 05:08:24 2008
Subject: [Harbour] OT - E-Mail Address Verification
In-Reply-To: <005f01c8d821$171dabc0$7e00520a@euroherc.ba>
References: <18143143.post@talk.nabble.com>
	<005f01c8d821$171dabc0$7e00520a@euroherc.ba>
Message-ID: <C655CCAB-0E53-401D-A758-93B43BD659C9@syenar.hu>

No, I think you're right. If this would be possible
in a reliable sort of way, a spammer could just find
out all existing mailboxes on an SMTP server using
brute force, or any lookup tables. This can be solved
with limiting the number of queries from a given IP,
but a zombie network could get around this limitation
easily. It would be good to know how reliable this
method is nowadays? Does it work with gmail server
for example?

Actually, not even a response is a sure proof for
an existing sender, as mail can be sent with a fake
sender very easily.

Brgds,
Viktor

On 2008.06.27., at 8:43, gabor salai [intranet242] wrote:

> ----- Original Message -----
> From: "Pritpal Bedi" <bedipritpal@hotmail.com>
> To: <harbour@harbour-project.org>
> Sent: Thursday, June 26, 2008 11:34 PM
> Subject: [Harbour] OT - E-Mail Address Verification
>
>
>> Is there a way to verify if an email address is valid or fake ?
>
> what do you mean, to know is, for example, alfa.beta@gama.delta a  
> real,
> existing address?
>
> you may check everything [address forming, mail servers, ...], but  
> the final
> test, is there a mail box named "alfa.beta" on domain "gama.delta",  
> is not
> possible. as i remember [maybe phil wrote few years ago] there *is*  
> a mail
> protocol query upon which the server should answer "yes, i have an  
> inbox for
> that mail address", but for security [anti-spam] reason mail admins  
> often
> [allways?] disable that response.
>
> so, sending coded message to tested address, and waiting for somebody
> response is the only way to test that address is real
>
> i would like to know if i am wrong
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From guy.roussin at teledetection.fr  Fri Jun 27 05:15:24 2008
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Fri Jun 27 05:15:46 2008
Subject: [Harbour] Re: hbgfgtk errors ...
In-Reply-To: <80b05d460806261019j5ce2d636l715054fbe7cbbebd@mail.gmail.com>
References: <80b05d460806261019j5ce2d636l715054fbe7cbbebd@mail.gmail.com>
Message-ID: <4864AFAC.5070705@teledetection.fr>

Hi,

> The gtk_menu_bar_set_shadow_type is deprecated in gtk+2.0, it's only
> available in version 1.

Thank you Rodrigo.

So i suggest to change  :
C_USR += `pkg-config --cflags gtk+-2.0`
with
C_USR += `pkg-config --cflags gtk+`

in  harbour/contrib/hbgf/hbgfgtk/Makefile

Guy


From harbour.01 at syenar.hu  Fri Jun 27 05:21:22 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 27 05:22:16 2008
Subject: [Harbour] Re: hbgfgtk errors ...
In-Reply-To: <4864AFAC.5070705@teledetection.fr>
References: <80b05d460806261019j5ce2d636l715054fbe7cbbebd@mail.gmail.com>
	<4864AFAC.5070705@teledetection.fr>
Message-ID: <868A71F0-C36E-4233-8F0A-0473CE7F0FC0@syenar.hu>

Hi folks,

Isn't it better to remove this call? Or guard it
with an #ifdef? If the latter, what #ifdef is need?

Brgds,
Viktor

On 2008.06.27., at 11:15, Guy Roussin wrote:

> Hi,
>
>> The gtk_menu_bar_set_shadow_type is deprecated in gtk+2.0, it's only
>> available in version 1.
>
> Thank you Rodrigo.
>
> So i suggest to change  :
> C_USR += `pkg-config --cflags gtk+-2.0`
> with
> C_USR += `pkg-config --cflags gtk+`
>
> in  harbour/contrib/hbgf/hbgfgtk/Makefile
>
> Guy
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From m.lacecilia at gmail.com  Fri Jun 27 05:22:30 2008
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Fri Jun 27 05:22:44 2008
Subject: R: [Harbour] Define for version recognition
In-Reply-To: <3DD21F2E-1AFB-4AAC-9333-F80CEE0DD5B3@syenar.hu>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAACC5Fhe0ToVEj3j9an88JKABAAAAAA==@gmail.com>
	<3DD21F2E-1AFB-4AAC-9333-F80CEE0DD5B3@syenar.hu>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAIiMX/tLhrdDqqL2nwEKnugBAAAAAA==@gmail.com>

Hi Viktor, to be clearer i'm searching something allowing a code as:

#ifdef __HARBOUR__
#ifdef __HARBOUR_SVN__
.... Code with new feautured funcs ....
#else
.... Code with old fashioned funcs ....
#endif
#endif

#ifdef __XHARBOUR__
#ifdef __XHARBOUR_CVS__
.... Code with new feautured funcs ....
#else
.... Code with old fashioned funcs ....
#endif
#endif

or something doing the same job.
You see, i need this flags at compile time ( of HwGUI, of course...  ;) ),
just for avoid to mantain compatibility with Harbour SVN only.
Best regards.
Maurizio
 
 

> -----Messaggio originale-----
> Da: harbour-bounces@harbour-project.org 
> [mailto:harbour-bounces@harbour-project.org] Per conto di 
> Szak?ts Viktor
> Inviato: venerd? 27 giugno 2008 1.44
> A: Harbour Project Main Developer List.
> Oggetto: Re: [Harbour] Define for version recognition
> 
> Hi Maurizio,
> 
> Pls check the version #defines in include/hbver.h,
> on .prg level __HARBOUR__ has the version as its value.
> 
> Brgds,
> Viktor
> 
> On 2008.06.26., at 19:19, Maurizio la Cecilia wrote:
> 
> > I don't know if is possible, but i would know if ther'is in 
> Harbour  
> > a pre
> > defined constant telling at compile time what version (and hopefully
> > subversion) of the compiler is in use.
> > This could allow me to take care of features implemented in newer  
> > version
> > and lacking in older version (the stable, by example...).
> > TIA.
> > Best regards.
> > Maurizio la Cecilia
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From mbelgrano at deltain.it  Fri Jun 27 05:34:19 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun 27 05:34:26 2008
Subject: [Harbour] 2008-06-26 11:21 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
In-Reply-To: <E361F34A-882B-4E88-BF1F-E47EB76D8BE8@syenar.hu>
References: <01c8d76e$Blat.v2.6.2$e44fe5f8$12bc81945730@127.0.0.1><18137140.post@talk.nabble.com><DB873542-F660-4F7C-AA2D-BB7DCE4F8D22@syenar.hu><18146183.post@talk.nabble.com><04186BB9-77EA-4609-822F-1CC30549EAFD@syenar.hu><18146982.post@talk.nabble.com>
	<E361F34A-882B-4E88-BF1F-E47EB76D8BE8@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EDAE@SRV02.deltain.net>

>Maybe you've noticed we've spent many weeks/months
>trying to raise the quality of contribs, to be closer
>to core, to not break builds, not have bugs.
>Just compare the current state to the one
>say two years ago. This is - I suppose - a common
>interest for Harbour, and us developers. That's also the
>reason why I didn't care anymore to separate contribs
>from core in distribution (like xhb does, or as we
>wanted to do before, there was even discussion about
>moving contribs to a different sf.net project). If
>contrib quality is comparable to core, this is not
>a problem. But this needs cooperation sometimes, and
>this means problems to solve sometimes. We've solved
>many such already.

I think that Pritpal have give his cooperation
Thank for your work that give quality to harbour
What is your work (for money)?

>A contrib is a private area, but what if it contains
>problems influencing builds, containing bugs or
>creating other sorts of problems (like support ones
>or using internals, etc)? What if original contributor
>lost interest in maintaining a contrib? Should we leave
>it there untouched forever? Software is a living
>thing, so we cannot do this.

This is the situation of xharbour with gtwvg that seem not updatable
from a lot of month

>>>>
> This has to be documented in a better way. That's it.

>Well sure, but until this happens (which can be anything
>from 2 to 10 years) it will be a constant source of
>misunderstandings, since we have no documentation even
>for the core. Even if core has one, it will be a source
>of misunderstanding since wvt_SetClipboard() will look
>as undocumented core. I think names should help users
>to more easily find what they need, rather than
>creating extra effort.

IMO the documentation and a standard make are biggest problem of harbour
to having mode big user base


From mbelgrano at deltain.it  Fri Jun 27 05:36:34 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun 27 05:36:39 2008
Subject: [Harbour] Define for version recognition
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAIiMX/tLhrdDqqL2nwEKnugBAAAAAA==@gmail.com>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAACC5Fhe0ToVEj3j9an88JKABAAAAAA==@gmail.com><3DD21F2E-1AFB-4AAC-9333-F80CEE0DD5B3@syenar.hu>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAIiMX/tLhrdDqqL2nwEKnugBAAAAAA==@gmail.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EDAF@SRV02.deltain.net>

#ifdef __HARBOUR__
If return true in Harbour and xharbour!

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Maurizio la Cecilia
Sent: Friday, June 27, 2008 11:23 AM
To: 'Harbour Project Main Developer List.'
Subject: R: [Harbour] Define for version recognition

Hi Viktor, to be clearer i'm searching something allowing a code as:

#ifdef __HARBOUR__
#ifdef __HARBOUR_SVN__
.... Code with new feautured funcs ....
#else
.... Code with old fashioned funcs ....
#endif
#endif

#ifdef __XHARBOUR__
#ifdef __XHARBOUR_CVS__
.... Code with new feautured funcs ....
#else
.... Code with old fashioned funcs ....
#endif
#endif

or something doing the same job.
You see, i need this flags at compile time ( of HwGUI, of course...  ;) ),
just for avoid to mantain compatibility with Harbour SVN only.
Best regards.
Maurizio
 
 

> -----Messaggio originale-----
> Da: harbour-bounces@harbour-project.org 
> [mailto:harbour-bounces@harbour-project.org] Per conto di 
> Szak?ts Viktor
> Inviato: venerd? 27 giugno 2008 1.44
> A: Harbour Project Main Developer List.
> Oggetto: Re: [Harbour] Define for version recognition
> 
> Hi Maurizio,
> 
> Pls check the version #defines in include/hbver.h,
> on .prg level __HARBOUR__ has the version as its value.
> 
> Brgds,
> Viktor
> 
> On 2008.06.26., at 19:19, Maurizio la Cecilia wrote:
> 
> > I don't know if is possible, but i would know if ther'is in 
> Harbour  
> > a pre
> > defined constant telling at compile time what version (and hopefully
> > subversion) of the compiler is in use.
> > This could allow me to take care of features implemented in newer  
> > version
> > and lacking in older version (the stable, by example...).
> > TIA.
> > Best regards.
> > Maurizio la Cecilia
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Fri Jun 27 05:40:32 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 27 05:41:28 2008
Subject: R: [Harbour] Define for version recognition
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAIiMX/tLhrdDqqL2nwEKnugBAAAAAA==@gmail.com>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAACC5Fhe0ToVEj3j9an88JKABAAAAAA==@gmail.com>
	<3DD21F2E-1AFB-4AAC-9333-F80CEE0DD5B3@syenar.hu>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAIiMX/tLhrdDqqL2nwEKnugBAAAAAA==@gmail.com>
Message-ID: <45B5D0D3-21F4-4253-9207-A1C1BC3F9B5F@syenar.hu>

Hi Maurizio,

I was suggesting these for app/lib compile time.
Even for that there is the C level and the .prg
level, and they are different.

On .prg level __HARBOUR__ returns 256, which
means 0x0100, like 1.00.

On .c level you can use HB_VERSION after #including
"hbver.h".

You cannot access SVN revision from by default, since
our goal is not to break in the same version.

[ You can hack this around by including hbverbld.h to
your .prg/.c files. But this is not a recommended way
of doing it, and may change in the future without
notice. ]

NOTE: I'll add __HARBOUR__ to C level too, with similar
content to .prg level __HARBOUR__. I'll also add hbver.h
to be included by Harbour headers automatically. So
after that you can use __HARBOUR__ for both .c and .prg
the exact same way.

Brgds,
Viktor

On 2008.06.27., at 11:22, Maurizio la Cecilia wrote:

> Hi Viktor, to be clearer i'm searching something allowing a code as:
>
> #ifdef __HARBOUR__
> #ifdef __HARBOUR_SVN__
> .... Code with new feautured funcs ....
> #else
> .... Code with old fashioned funcs ....
> #endif
> #endif
>
> #ifdef __XHARBOUR__
> #ifdef __XHARBOUR_CVS__
> .... Code with new feautured funcs ....
> #else
> .... Code with old fashioned funcs ....
> #endif
> #endif
>
> or something doing the same job.
> You see, i need this flags at compile time ( of HwGUI, of  
> course...  ;) ),
> just for avoid to mantain compatibility with Harbour SVN only.
> Best regards.
> Maurizio
>
>
>
>> -----Messaggio originale-----
>> Da: harbour-bounces@harbour-project.org
>> [mailto:harbour-bounces@harbour-project.org] Per conto di
>> Szak?ts Viktor
>> Inviato: venerd? 27 giugno 2008 1.44
>> A: Harbour Project Main Developer List.
>> Oggetto: Re: [Harbour] Define for version recognition
>>
>> Hi Maurizio,
>>
>> Pls check the version #defines in include/hbver.h,
>> on .prg level __HARBOUR__ has the version as its value.
>>
>> Brgds,
>> Viktor
>>
>> On 2008.06.26., at 19:19, Maurizio la Cecilia wrote:
>>
>>> I don't know if is possible, but i would know if ther'is in
>> Harbour
>>> a pre
>>> defined constant telling at compile time what version (and hopefully
>>> subversion) of the compiler is in use.
>>> This could allow me to take care of features implemented in newer
>>> version
>>> and lacking in older version (the stable, by example...).
>>> TIA.
>>> Best regards.
>>> Maurizio la Cecilia
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Jun 27 06:27:41 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 27 06:27:44 2008
Subject: [Harbour] 2008-06-27 12:24 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d840$Blat.v2.6.2$6dff17c0$19c06283af84@127.0.0.1>

2008-06-27 12:24 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbstdgen.ch
   * include/hbver.h
   * include/hbdefs.h
   * source/pp/pplib.c
   * source/pp/ppcore.c
   * source/pp/hbpp.c
   * source/common/hbver.c
   * source/common/hbverdsp.c
   * contrib/hbsqlit3/hbsqlit3.c
   * contrib/examples/pp/hbppdef.h
     * Changed .c level __HARBOUR__ to have the same value 
       as the existing .prg level one.
     * PP now gets the __HARBOUR__ define directly from the .c 
       level instead of generating it locally.
     ; QUESTION: Should or shouldn't we change __HARBOUR__ 
       to contain revision number too? (0x0100 -> 0x01000)
       This would allow for a greater level of development 
       opportunities between minor revisions, more "agile" 
       development.

   * include/hbpp.h
   * source/pp/ppcore.c
     - Two __XHARBOUR__ guards removed.
--
Brgds,
Viktor

From guy.roussin at teledetection.fr  Fri Jun 27 06:42:04 2008
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Fri Jun 27 06:42:08 2008
Subject: [Harbour] Re: hbgfgtk errors ...
In-Reply-To: <868A71F0-C36E-4233-8F0A-0473CE7F0FC0@syenar.hu>
References: <80b05d460806261019j5ce2d636l715054fbe7cbbebd@mail.gmail.com>	<4864AFAC.5070705@teledetection.fr>
	<868A71F0-C36E-4233-8F0A-0473CE7F0FC0@syenar.hu>
Message-ID: <4864C3FC.9020901@teledetection.fr>

Hi,

For example in debian, the package libgtk1.2-dev depend
on package pkg-config. So we can't install libgtk1.2-dev
without pkg-config.

I think, if there is no pkg-config *or* no gtk+,
`pkg-config --cflags gtk+` return empty string
and nothing is added to C_USR. So no need to
protect this line ...

I suggest the change because hbgfgtk is an old
developpement (2001 ?) with gtk+ and not gtk+2.0.

Guy

Szak?ts Viktor a ?crit :
> Hi folks,
> 
> Isn't it better to remove this call? Or guard it
> with an #ifdef? If the latter, what #ifdef is need?
> 
> Brgds,
> Viktor
> 
> On 2008.06.27., at 11:15, Guy Roussin wrote:
> 
>> Hi,
>>
>>> The gtk_menu_bar_set_shadow_type is deprecated in gtk+2.0, it's only
>>> available in version 1.
>>
>> Thank you Rodrigo.
>>
>> So i suggest to change  :
>> C_USR += `pkg-config --cflags gtk+-2.0`
>> with
>> C_USR += `pkg-config --cflags gtk+`
>>
>> in  harbour/contrib/hbgf/hbgfgtk/Makefile
>>
>> Guy
>>
From lorenzo.fiorini at gmail.com  Fri Jun 27 07:07:59 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jun 27 07:08:12 2008
Subject: [Harbour] gnu Makefiles issue under Linux
Message-ID: <9257026e0806270407k57500654od58d5d93a7ba2bd5@mail.gmail.com>

Now a "make -s clean" under Linux gives:

make[2]: *** No rule to make target `clean'.  Stop.
make[2]: *** No rule to make target `clean'.  Stop.
make[2]: *** No rule to make target `clean'.  Stop.
make[2]: *** No rule to make target `clean'.  Stop.
make[2]: *** No rule to make target `clean'.  Stop.
make[2]: *** No rule to make target `clean'.  Stop.

the reason seems for example in contrib/gtwvg/Makefile:

ifeq ($(HB_ARCHITECTURE),w32)

...

include $(TOP)$(ROOT)config/lib.cf

endif

the problem is that if the arch is different from w32 there are no
targets defined.

My suggestion is to remove all that checks of the arch inside the
single Makefiles and leave to the developer to add the contribs to
build to the HB_CONTRIBLIBS envvar.

best regards,
Lorenzo
From mbelgrano at deltain.it  Fri Jun 27 07:21:11 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun 27 07:21:16 2008
Subject: [Harbour] icanm  for harbour world?
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EDB0@SRV02.deltain.net>

At its meeting in Paris, the Internet Corporation for Assigned Names and
Numbers (ICANN), a not-for-profit organisation that oversees the naming
scheme for websites, voted to accept a proposal that will allow
companies to purchase new top-level domain names ending in almost
whatever suffix they choose.

 

So, for example, instead of being restricted to sites ending in .com or
.org., eBay could have a site that ends in .ebay, or New York City could
end its website address with .nyc.

 

The new naming process will begin in 2009. The first suffixes will
probably be given to businesses and other major organisations. Countries
are expected to keep their specific suffixes, but, as in the example
above, cities could also get individualised URLs, such as .london or
.chicago.

 

Can we give .exe domain estension?

will harbour support also IP6?

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080627/d3a21997/attachment.html
From harbour.01 at syenar.hu  Fri Jun 27 07:23:44 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 27 07:23:46 2008
Subject: [Harbour] 2008-06-27 13:22 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d848$Blat.v2.6.2$4284eff4$109c352d538@127.0.0.1>

2008-06-27 13:22 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbstdgen.ch
   * include/hbver.h
     * Cleanups to previous change.
     ! Fixed HB_STD_CH_ to not be #defined in .prgs by default.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Jun 27 07:30:08 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 27 07:31:03 2008
Subject: [Harbour] gnu Makefiles issue under Linux
In-Reply-To: <9257026e0806270407k57500654od58d5d93a7ba2bd5@mail.gmail.com>
References: <9257026e0806270407k57500654od58d5d93a7ba2bd5@mail.gmail.com>
Message-ID: <D533C600-75DA-4992-BCB1-18294CA075A5@syenar.hu>

Hi Lorenzo,

Welcome back!

> My suggestion is to remove all that checks of the arch inside the
> single Makefiles and leave to the developer to add the contribs to
> build to the HB_CONTRIBLIBS envvar.

That's what I was trying to avoid in the first place.
Or if you mean to not add _any_ contribs to the default
contrib list, that's also an option. But it just makes
builder's life more difficult and error prone IMO.

If the above error doesn't cause the build process to
stop, I'd vote to leave it as is. (or find some
workaround to avoid this error)

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Jun 27 07:41:54 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 27 07:42:50 2008
Subject: R: [Harbour] Define for version recognition
In-Reply-To: <45B5D0D3-21F4-4253-9207-A1C1BC3F9B5F@syenar.hu>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAACC5Fhe0ToVEj3j9an88JKABAAAAAA==@gmail.com>
	<3DD21F2E-1AFB-4AAC-9333-F80CEE0DD5B3@syenar.hu>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAIiMX/tLhrdDqqL2nwEKnugBAAAAAA==@gmail.com>
	<45B5D0D3-21F4-4253-9207-A1C1BC3F9B5F@syenar.hu>
Message-ID: <67AA38B1-1540-4BFD-96F4-E4D328C7A0FB@syenar.hu>

I've changed Harbour to support __HARBOUR__ with
the same value in .c and .prg code.

> [ You can hack this around by including hbverbld.h to
> your .prg/.c files. But this is not a recommended way
> of doing it, and may change in the future without
> notice. ]

Minor correction, you only need to explicitly include
hbverbld.h in .c, in .prg it's always available.
(it's included in a tricky way, and I didn't knotice)

One question remains:

Should we change __HARBOUR__ to return 0x01000
(versus current 0x0100). [ My vote it is yes. ]

This may break some compatibility with existing
.prg which expects the value to be in 0x???? format.

Opinions?

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Fri Jun 27 07:54:52 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jun 27 07:54:56 2008
Subject: [Harbour] gnu Makefiles issue under Linux
In-Reply-To: <D533C600-75DA-4992-BCB1-18294CA075A5@syenar.hu>
References: <9257026e0806270407k57500654od58d5d93a7ba2bd5@mail.gmail.com>
	<D533C600-75DA-4992-BCB1-18294CA075A5@syenar.hu>
Message-ID: <9257026e0806270454h51b0b5f9u7d854d2e7220a42c@mail.gmail.com>

On Fri, Jun 27, 2008 at 1:30 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Welcome back!

Thanks.

> That's what I was trying to avoid in the first place.
> Or if you mean to not add _any_ contribs to the default
> contrib list, that's also an option. But it just makes
> builder's life more difficult and error prone IMO.

As I said before the only contrib which could be considered more or
less "standard" is hbct.

All the others have to be decided "manually" by developer because many
require external dependences and I also found a waste of time to build
a contrib that itI'll never be used.
I daily build my apps under w32 but I'll never use hbw32 or hbw32ddr.

> If the above error doesn't cause the build process to
> stop, I'd vote to leave it as is. (or find some
> workaround to avoid this error)

IMHO it gives really a bad impression that even a simple make clean
gives errors.

I'll change it locally.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Fri Jun 27 06:53:05 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 27 07:56:43 2008
Subject: [Harbour] 2008-06-27 12:51 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d843$Blat.v2.6.2$fa499496$1c84803d033c@127.0.0.1>

2008-06-27 12:51 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbgf/hbgfgtk/creamenu.c
     - Removed deprecated pre GTK2 API call with no equivalent 
       in newer versions.
       If someone needs the menu shadow functionality for GTK1, 
       please give some hint how to guard it, and we can add it 
       back.
--
Brgds,
Viktor

From sscc at mweb.co.za  Fri Jun 27 08:04:58 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Jun 27 08:05:05 2008
Subject: [Harbour] Socket status
Message-ID: <4864D76A.1030808@mweb.co.za>

Hi

Perhaps someone can help me.

I open a socket to a device. I poll the socket every 0.25s to see if 
there is data, if ther is no data I get a timeout, which is fine. 
However, if the socket is broken (as a test I pull the cable from the 
device out of the switch) I still receive a timeout.

So I don't know if there is a problem or if there is no data.

Is there some status I may check to see if the connection still exists?

Sorry, it is off-topic.

Regards
Alex
From harbour.01 at syenar.hu  Fri Jun 27 08:29:02 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 27 08:29:03 2008
Subject: [Harbour] 2008-06-27 14:27 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d851$Blat.v2.6.2$61ba1116$deca0efce00@127.0.0.1>

2008-06-27 14:27 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/Makefile
     * After this change, HB_CONTRIBLIBS will _override_ the 
       default list of contribs, rather than adding them to 
       the default list (which BTW contains everything since 
       this week, so there's no much point anyway, besides if 
       someone was hosting local contribs in the Harbour contrib 
       dir).

   * include/hbver.h
     - Removed recenly added HB_VERSION 0x010000.
     * Instead I've changed both .prg level and .c level __HARBOUR__ 
       to contain this more granular (full) version number.
     ; NOTE: If someone is relying on the value of __HARBOUR__ in 
             .prg code, the values should be multiplied by 256.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Fri Jun 27 08:31:45 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jun 27 08:31:51 2008
Subject: [Harbour] gnu Makefiles issue under Linux
In-Reply-To: <D533C600-75DA-4992-BCB1-18294CA075A5@syenar.hu>
References: <9257026e0806270407k57500654od58d5d93a7ba2bd5@mail.gmail.com>
	<D533C600-75DA-4992-BCB1-18294CA075A5@syenar.hu>
Message-ID: <20080627123145.GA5792@34-mo7-2.acn.waw.pl>

On Fri, 27 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> >My suggestion is to remove all that checks of the arch inside the
> >single Makefiles and leave to the developer to add the contribs to
> >build to the HB_CONTRIBLIBS envvar.
> That's what I was trying to avoid in the first place.
> Or if you mean to not add _any_ contribs to the default
> contrib list, that's also an option. But it just makes
> builder's life more difficult and error prone IMO.
> If the above error doesn't cause the build process to
> stop, I'd vote to leave it as is. (or find some
> workaround to avoid this error)

It broke build process and this is a problem. For sure current
state cannot be kept.
We have to resolve few things:
1. automatic detection which library should be created.
   It's not easy. Windows, DOS and OS2 builds probably
   can be easy hacked because here number of possible
   differences is relatively small. But in *nixes it's
   not such easy. We are not using autoconf so we will
   have to create sth like that for our own use though
   it will be probably hard because we do not have enough
   developers with knowledge about different *nix based
   OSes.
2. We need an easy way to define whole contrib library
   list externally to GNU Makefile(s) so builder can
   exclude some libraries even if they are defined in
   contrib/Makefile. It's necessary because each time
   new library is added to this file it breaks some
   packaging build systems like RPM.
3. Each library needing external references added to RPM/DEB
   or similar packaging system which controls dependences
   will force installing such external library with Harbour
   packages even if user will not want to use it at all.
   It's very bad situation and we will have to divide Harbour
   packages into smaller peaces with external libraries.
   I can make it for RPMs but someone else will have to
   update DEB packages.
   BTW such harbour libraries even if very useful should
   always be located in contrib tree to not effect core
   code with external references.
4. Some contrib library like HBCT for many users should
   be part of default build. A lot of people bought CA-Clipper
   with CA-Tools and think about this library like integrated
   part of Clipper. Maybe we should even think about moving
   this library to core code. It will resolve also some other
   things, f.e. HBRUN/HBDOT will support CT functions by default.

IMHO the list of libraries defined in contrib/Makefile should
contain _only_ this libraries which can be compiled on all
platforms and maybe some additional one which can be compiled
only for chosen platforms but does not need any external references
covered by HB_ARCHITECTURE/HB_COMPILERS macros. Other libraries
should be enabled optionally (HB_CONTRIBLIBS). In fact we already
had sth like that in previous version and for me it was necessary
to only clean the list of libraries and add support for an option
to disable all default ones so HB_CONTRIBLIBS can fully control
contrib library list from external packaging system.
We should also very carefully use
   ifeq ($(HB_ARCHITECTURE),...)
in specific library Makefiles because sometimes it's possible
to compile this library even in foreign systems using some
cross builds or emulation level libraries and such definition
blocks it so user have to manually update Makefiles. In summary
IMO this modification instead of help us made things harder and
I vote to restore the previous contrib/Makefile and only clean
it.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Jun 27 08:17:12 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 27 08:33:19 2008
Subject: [Harbour] gnu Makefiles issue under Linux
In-Reply-To: <9257026e0806270454h51b0b5f9u7d854d2e7220a42c@mail.gmail.com>
References: <9257026e0806270407k57500654od58d5d93a7ba2bd5@mail.gmail.com>
	<D533C600-75DA-4992-BCB1-18294CA075A5@syenar.hu>
	<9257026e0806270454h51b0b5f9u7d854d2e7220a42c@mail.gmail.com>
Message-ID: <03042B33-287E-48CD-900D-822E49403DFE@syenar.hu>

>> That's what I was trying to avoid in the first place.
>> Or if you mean to not add _any_ contribs to the default
>> contrib list, that's also an option. But it just makes
>> builder's life more difficult and error prone IMO.
>
> As I said before the only contrib which could be considered more or
> less "standard" is hbct.
>
> All the others have to be decided "manually" by developer because many
> require external dependences and I also found a waste of time to build
> a contrib that itI'll never be used.
> I daily build my apps under w32 but I'll never use hbw32 or hbw32ddr.

This is pretty much independent from the problem you've
raised, you can run into a contrib you cannot build,
even if you manually specify the contrib list.

The other problem to be solved is how to enable/disable
contribs is our parallel make systems. In non-GNU, it's
solved, but we'd need something more generic. I've made
steps to use HB_INC_* envvars to help this, but that's
not yet implemented for GNU make, as I'm not sure how
it would interfere with existing inclusion/exclusion
logic in the Linux .sh files. Przeemek, what do you think?

I can change contrib/Makefile to allow for full contrib
list override, using HB_CONTRIBLIBS. (instead of adding
to the full list, which doesn't have much point anyway
right now)

>> If the above error doesn't cause the build process to
>> stop, I'd vote to leave it as is. (or find some
>> workaround to avoid this error)
>
> IMHO it gives really a bad impression that even a simple make clean
> gives errors.

Any suggestions how to solve this in a way that all special
inclusion logic is self-contained in local contrib Makefiles
(contrib/*/Makefile), yet come out error-free from a 'make clean'?

Brgds,
Viktor

From guy.roussin at teledetection.fr  Fri Jun 27 08:35:41 2008
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Fri Jun 27 08:35:45 2008
Subject: [Harbour] 2008-06-27 12:51 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8d843$Blat.v2.6.2$fa499496$1c84803d033c@127.0.0.1>
References: <01c8d843$Blat.v2.6.2$fa499496$1c84803d033c@127.0.0.1>
Message-ID: <4864DE9D.7030508@teledetection.fr>

Thank you Viktor, good fix. It works for me.
Now i get this error for some prg from contrib/hbgf/tests :

Harbour 1.0.0RC1 Intl. (Rev. 8838)
Copyright (c) 1999-2008, http://www.harbour-project.org/
Compiling 'form3.prg'...
Lines 836, Functions/Procedures 3
Generating C source output to 'form3.c'... Done.
/usr/lib/harbour/libhbgfgtk.a(msginfo.o): In function `HB_FUN_MSGINFO':
(.text+0x70): undefined reference to `MultiLineDelimiters'
collect2: ld returned 1 exit status

Guy


Szak?ts Viktor a ?crit :
> 2008-06-27 12:51 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>    * contrib/hbgf/hbgfgtk/creamenu.c
>      - Removed deprecated pre GTK2 API call with no equivalent 
>        in newer versions.
>        If someone needs the menu shadow functionality for GTK1, 
>        please give some hint how to guard it, and we can add it 
>        back.
> --
> Brgds,
> Viktor

From druzus at acn.waw.pl  Fri Jun 27 08:44:41 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jun 27 08:44:47 2008
Subject: [Harbour] Socket status
In-Reply-To: <4864D76A.1030808@mweb.co.za>
References: <4864D76A.1030808@mweb.co.za>
Message-ID: <20080627124441.GB5792@34-mo7-2.acn.waw.pl>

On Fri, 27 Jun 2008, Alex Strickland wrote:

Hi Alex,

> Perhaps someone can help me.
> I open a socket to a device. I poll the socket every 0.25s to see if 
> there is data, if ther is no data I get a timeout, which is fine. 
> However, if the socket is broken (as a test I pull the cable from the 
> device out of the switch) I still receive a timeout.

Yes because connection still exists. You can connect cable again
and still work - nothing wrong will happen. It's very important
IP feature.

> So I don't know if there is a problem or if there is no data.
> Is there some status I may check to see if the connection still exists?

You have to temporary send/receive control package.
In IP protocol you can make it automatically setting
SO_KEEPALIVE socket option.

best regards,
Przemek
From sscc at mweb.co.za  Fri Jun 27 08:53:21 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Jun 27 08:53:28 2008
Subject: [Harbour] Socket status
In-Reply-To: <20080627124441.GB5792@34-mo7-2.acn.waw.pl>
References: <4864D76A.1030808@mweb.co.za>
	<20080627124441.GB5792@34-mo7-2.acn.waw.pl>
Message-ID: <4864E2C1.2080201@mweb.co.za>

Przemyslaw Czerpak wrote:

> You have to temporary send/receive control package.
> In IP protocol you can make it automatically setting
> SO_KEEPALIVE socket option.

Thank you, I might have read for a week ...

Regards
Alex
From harbour.01 at syenar.hu  Fri Jun 27 08:55:02 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 27 08:56:01 2008
Subject: [Harbour] gnu Makefiles issue under Linux
In-Reply-To: <20080627123145.GA5792@34-mo7-2.acn.waw.pl>
References: <9257026e0806270407k57500654od58d5d93a7ba2bd5@mail.gmail.com>
	<D533C600-75DA-4992-BCB1-18294CA075A5@syenar.hu>
	<20080627123145.GA5792@34-mo7-2.acn.waw.pl>
Message-ID: <0C754F49-31AF-4D76-880D-0C3C1FB6B53B@syenar.hu>

Hi Przemek,

>> If the above error doesn't cause the build process to
>> stop, I'd vote to leave it as is. (or find some
>> workaround to avoid this error)
>
> It broke build process and this is a problem. For sure current
> state cannot be kept.
> We have to resolve few things:
> 1. automatic detection which library should be created.
>   It's not easy. Windows, DOS and OS2 builds probably
>   can be easy hacked because here number of possible
>   differences is relatively small. But in *nixes it's
>   not such easy. We are not using autoconf so we will
>   have to create sth like that for our own use though
>   it will be probably hard because we do not have enough
>   developers with knowledge about different *nix based
>   OSes.

Yes, I know. But we need to work on this together,
that's why I left a TODO in the ChangeLog.

> 2. We need an easy way to define whole contrib library
>   list externally to GNU Makefile(s) so builder can
>   exclude some libraries even if they are defined in
>   contrib/Makefile. It's necessary because each time
>   new library is added to this file it breaks some
>   packaging build systems like RPM.

Okay, see my last change. HB_CONTRIBLIBS does a
full override now. Maybe this helps.

> 3. Each library needing external references added to RPM/DEB
>   or similar packaging system which controls dependences
>   will force installing such external library with Harbour
>   packages even if user will not want to use it at all.
>   It's very bad situation and we will have to divide Harbour
>   packages into smaller peaces with external libraries.
>   I can make it for RPMs but someone else will have to
>   update DEB packages.
>   BTW such harbour libraries even if very useful should
>   always be located in contrib tree to not effect core
>   code with external references.

Yes, but this is a matter of deciding which contribs
to build by default, and maybe another issue: How
to distribute contribs completely separately.

> 4. Some contrib library like HBCT for many users should
>   be part of default build. A lot of people bought CA-Clipper
>   with CA-Tools and think about this library like integrated
>   part of Clipper. Maybe we should even think about moving
>   this library to core code. It will resolve also some other
>   things, f.e. HBRUN/HBDOT will support CT functions by default.

I've already suggested this. Now I'm not sure if I like
it, as it would easily cause core code to depend on
CT functions, which is not very good and may even break
compatibility (namespace issues).

In general I think it would be better to concentrate on
properly solving contrib inclusion/exclusion. Making one
exception just delays the problem.

> IMHO the list of libraries defined in contrib/Makefile should
> contain _only_ this libraries which can be compiled on all
> platforms and maybe some additional one which can be compiled
> only for chosen platforms but does not need any external references
> covered by HB_ARCHITECTURE/HB_COMPILERS macros. Other libraries
> should be enabled optionally (HB_CONTRIBLIBS). In fact we already
> had sth like that in previous version and for me it was necessary
> to only clean the list of libraries and add support for an option
> to disable all default ones so HB_CONTRIBLIBS can fully control
> contrib library list from external packaging system.
> We should also very carefully use
>   ifeq ($(HB_ARCHITECTURE),...)
> in specific library Makefiles because sometimes it's possible
> to compile this library even in foreign systems using some
> cross builds or emulation level libraries and such definition
> blocks it so user have to manually update Makefiles. In summary
> IMO this modification instead of help us made things harder and
> I vote to restore the previous contrib/Makefile and only clean
> it.

We have two independent problems here IMO:

1) Deciding the default list of contribs.

    This can be debated for years. Everyone needs a different
    list. I for one couldn't care less about CT, but I'd need
    hbcurl for example. Personal needs are different, so we
    need a way to make selection easy, but I wouldn't hardwire
    any personal preference to Harbour. 'All contribs are equal'
    is IMO the motto.

2) Automatic control to build or not build a given contrib
    in a given environment.

    IMO such logic should better places in local contrib dirs.
    The actual logic is now limited to HB_ARCHITECTURE and
    HB_COMPILER. We still need to deal with cross-platform
    problem you raised, plus _external dependencies_.
    For the latter, what do you think about adding the
    simple and working HB_INC_*=/pkg/include kind of logic,
    which is working for non-GNU make systems pretty well.
    All we'd need to do is adding guarding the external
    dependent contribs with HB_INC_* guards, and adding
    C_USR += -I$(HB_INC_*) to the contrib local Makefile.

    What remains, is to build a list of package dependency
    for Linux packages. I dunno how to solve this, but it's
    probably doable somewhere along this line.

    As a huge plus, we'd finally sync this important aspect
    for GNU and non-GNU builds.

    What do you think?

Brgds,
Viktor

From druzus at acn.waw.pl  Fri Jun 27 08:58:36 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jun 27 08:58:41 2008
Subject: [Harbour] 2008-06-27 14:58 UTC+0200 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200806271258.m5RCwa3J006915@31-mo5-4.acn.waw.pl>

2008-06-27 14:58 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/pp/ppcore.c
    ! fixed GPF in expressions like:
         #command CMD => #translate abc => \
      problem located by Ron in xHarbour

  * harbour/source/pp/hbpp.c
    * extended string escaping to also quote " and ? (possible trigraph)

  * harbour/source/compiler/gencc.c
    ; comment formatting

best regards
Przemek
From lorenzo.fiorini at gmail.com  Fri Jun 27 09:09:00 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jun 27 09:09:12 2008
Subject: [Harbour] gnu Makefiles issue under Linux
In-Reply-To: <03042B33-287E-48CD-900D-822E49403DFE@syenar.hu>
References: <9257026e0806270407k57500654od58d5d93a7ba2bd5@mail.gmail.com>
	<D533C600-75DA-4992-BCB1-18294CA075A5@syenar.hu>
	<9257026e0806270454h51b0b5f9u7d854d2e7220a42c@mail.gmail.com>
	<03042B33-287E-48CD-900D-822E49403DFE@syenar.hu>
Message-ID: <9257026e0806270609k3dc9bbd9i17b559437f0ed5c7@mail.gmail.com>

On Fri, Jun 27, 2008 at 2:17 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> This is pretty much independent from the problem you've
> raised, you can run into a contrib you cannot build,
> even if you manually specify the contrib list.

Yes but if I add a contrib to an envvar because I need it ( and I'm
not insane ) I am also prepared to do the necessary make it work.
Instead having pitfalls for things that I don't even know what they
are is only a waste of time.

> Any suggestions how to solve this in a way that all special
> inclusion logic is self-contained in local contrib Makefiles
> (contrib/*/Makefile), yet come out error-free from a 'make clean'?

I still think that contrib/Makefile should only look at HB_CONTRIBLIBS.

For the make rpm I would expect to use --with-adsrdd, --with--xyz, ...

I'll even remove all the "WITHOUT" and I'll keep only "WITH".

best regards,
Lorenzo
From harbour.01 at syenar.hu  Fri Jun 27 09:25:45 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 27 09:26:43 2008
Subject: [Harbour] gnu Makefiles issue under Linux
In-Reply-To: <9257026e0806270609k3dc9bbd9i17b559437f0ed5c7@mail.gmail.com>
References: <9257026e0806270407k57500654od58d5d93a7ba2bd5@mail.gmail.com>
	<D533C600-75DA-4992-BCB1-18294CA075A5@syenar.hu>
	<9257026e0806270454h51b0b5f9u7d854d2e7220a42c@mail.gmail.com>
	<03042B33-287E-48CD-900D-822E49403DFE@syenar.hu>
	<9257026e0806270609k3dc9bbd9i17b559437f0ed5c7@mail.gmail.com>
Message-ID: <B14CD897-2DB2-469A-8399-190C05858481@syenar.hu>

>> This is pretty much independent from the problem you've
>> raised, you can run into a contrib you cannot build,
>> even if you manually specify the contrib list.
>
> Yes but if I add a contrib to an envvar because I need it ( and I'm
> not insane ) I am also prepared to do the necessary make it work.
> Instead having pitfalls for things that I don't even know what they
> are is only a waste of time.

I hope to get Harbour to a state where we have the less
such pitfalls. Compiling a contrib should work as smoothly
as possible, for anyone.

>> Any suggestions how to solve this in a way that all special
>> inclusion logic is self-contained in local contrib Makefiles
>> (contrib/*/Makefile), yet come out error-free from a 'make clean'?
>
> I still think that contrib/Makefile should only look at  
> HB_CONTRIBLIBS.

That's a different problem. Harbour shouldn't break because
someone specified a contrib, which is not suitable for
a given environment. Adding a contrib with external dependency to
HB_CONTRIBLIBS without specifying a header dir is a good way to
break it, and I think we should avoid it. The best end-user (builder)
experience if that there is an external header location specified
for a contrib, the contrib builds, if not, it doesn't build.
It cannot be any simpler than that, unless we find a way to autodetect
external libs. If we can, like in Linux (?), you don't have to
do anything extra, and everything could build without extra setup.

> For the make rpm I would expect to use --with-adsrdd, --with--xyz, ...
>
> I'll even remove all the "WITHOUT" and I'll keep only "WITH".

I guess both can be done now. All it has to do is to build a
customized HB_CONTRIBLIBS and pass it to the GNU-make system.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Jun 27 09:45:40 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 27 09:45:42 2008
Subject: [Harbour] 2008-06-27 15:43 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d85c$Blat.v2.6.2$166c42e6$1f2830bc9e@127.0.0.1>

2008-06-27 15:43 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbwhat32/wincorec.c
   * contrib/hbwhat32/_winwnd.c
   * contrib/hbwhat32/wincore.prg
     + hb_retnl()/hb_parnl() calls replaced with hb_retptr()/hb_parptr().
       This way it won't break on Win64.
     ; NOTE1: Functions dealing with wndproc/dlgproc functions on the 
              Harbour level will now return/require POINTER types instead 
              of numerics. App level code should be updated accordingly.
              INCOMPATIBLE.
     ; NOTE2: There might be other places in hbwhat32 where such conversion 
              would be necessary.
     ; Please test.
--
Brgds,
Viktor

From dbtopas at dbtopas.lt  Fri Jun 27 10:06:46 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Jun 27 10:08:53 2008
Subject: [Harbour] Set( _SET_HBOUTLOGHEADER ) opinions
In-Reply-To: <2E699911-A395-4EB7-BAA8-3912CDA717C2@syenar.hu>
References: <9681146C-F9E4-4DEB-A44D-59282FAAB2BE@syenar.hu>	<4863B1C4.8060606@dbtopas.lt>
	<2E699911-A395-4EB7-BAA8-3912CDA717C2@syenar.hu>
Message-ID: <4864F3F6.4070004@dbtopas.lt>

Hi,


> Your code could be a very nice addition to Harbour BTW.
> I wonder if you've considered donating it to the project :)

My exception handler code is below. I've never proposed it to be 
standard Harbour's code, because my knowledge about exception handling 
is limited. I know Linux can get much more types of signals, not only 
GPF. BTW, C stack trace is valid for standard stack frame addressed by 
ebp. It works on Win32 (and I guess for 32bit Linux), but it's not 
multiplatform.

I've also add error log creation code (it prepares log data inside 
string writing to file is done by separate function). I was never sure 
if we have generate error log in Clipper compatible way, or we can 
extend it.

The last past of error management is GUI interface + sockets code to 
send it via email. It is Win32 API based. I can send it also, but I'm 
not sure if it is useful


 > (The only thing I'd not include is any variable contents
 > as they may contains business sensitive or other confidential
 > data, which is not very good to include in log files IMO,
 > other than it's of course also useful)

I'm not sure that is useful, what is compatibility issue, etc. So, feel 
free to take any code or just ideas from the code below.


Best regards,
Mindaugas



LONG WINAPI CAWIUnhandledExceptionFilter(struct _EXCEPTION_POINTERS 
*pExceptionInfo)
{
    PHB_ITEM             pError;
    char                 *errmsg, buf[32];
    char                 szOperation[HB_SYMBOL_NAME_LEN + 
HB_SYMBOL_NAME_LEN + 5];
    PEXCEPTION_RECORD    pExceptionRecord = pExceptionInfo->ExceptionRecord;
    PCONTEXT             pCtx = pExceptionInfo->ContextRecord;
    DWORD                dwExceptCode = 
(pExceptionInfo->ExceptionRecord)->ExceptionCode;
    LONG                 lResult;
    unsigned char        *pc;
    unsigned int         *sc, *ebp, eip, j;
    int                  i;

    errmsg = (char*) HeapAlloc( GetProcessHeap(), 
HEAP_GENERATE_EXCEPTIONS, 4096 );
    sprintf(errmsg, "GPF\r\n"
                    "    Exception Code:%08X\r\n"
                    "    Exception Address:%08X\r\n"
                    "    EAX:%08X  EBX:%08X  ECX:%08X  EDX:%08X\r\n"
                    "    ESI:%08X  EDI:%08X EBP:%08X\r\n"
                    "    CS:EIP:%04X:%08X  SS:ESP:%04X:%08X\r\n"
                    "    DS:%04X  ES:%04X  FS:%04X  GS:%04X\r\n"
                    "    Flags:%08X\r\n",
                    dwExceptCode, pExceptionRecord->ExceptionAddress,
                    pCtx->Eax, pCtx->Ebx, pCtx->Ecx, pCtx->Edx, 
pCtx->Esi, pCtx->Edi, pCtx->Ebp,
                    pCtx->SegCs, pCtx->Eip, pCtx->SegSs, pCtx->Esp, 
pCtx->SegDs, pCtx->SegEs, pCtx->SegFs, pCtx->SegGs,
                    pCtx->EFlags);

    strcat(errmsg, "    CS:EIP:");
    pc = (void*)(pCtx->Eip);
    for ( i = 0; i < 16; i++ )
    {
       if ( IsBadReadPtr(pc, 1) )
          break;
       sprintf(buf, " %02X", (int)pc[i]);
       strcat(errmsg, buf);
    }
    strcat(errmsg, "\r\n    SS:ESP:");
    sc = (void*)(pCtx->Esp);
    for ( i = 0; i < 16; i++ )
    {
       if ( IsBadReadPtr(sc, 4) )
          break;
       sprintf(buf, " %08X", sc[i]);
       strcat(errmsg, buf);
    }
    strcat(errmsg, "\r\n\r\n");
    strcat(errmsg, "    C stack:\r\n");
    strcat(errmsg, "    EIP:     EBP:       Frame: OldEBP, RetAddr, 
Params...\r\n");
    eip = pCtx->Eip;
    ebp = (unsigned int*)(pCtx->Ebp);
    if ( ! IsBadWritePtr(ebp, 8) )
    {
       for ( i = 0; i < 20; i++ )
       {
          if ( (unsigned int)ebp % 4 != 0 || IsBadWritePtr(ebp, 40) || 
(unsigned int)ebp >= ebp[0] )  break;
          sprintf(buf, "    %08X %08X  ", (int)eip, (int)ebp);
          strcat(errmsg, buf);
          for ( j = 0; j < 10 && (unsigned int)(ebp + j) < ebp[0]; j++ )
          {
             sprintf(buf, " %08X", ebp[j]);
             strcat(errmsg, buf);
          }
          strcat(errmsg, "\r\n");
          eip = ebp[1];
          ebp = (unsigned int*)(ebp[0]);
       }
    }

    hb_procinfo(0, szOperation, NULL, NULL);

    pError = hb_errRT_New( ES_ERROR, "CAWI", EG_MEM, 0, errmsg, 
szOperation, 0, EF_NONE );
    hb_errLaunch( pError );
    hb_itemRelease( pError );
    HeapFree( GetProcessHeap(), 0, errmsg );
    return EXCEPTION_EXECUTE_HANDLER;
}


FUNC GetErrorDesc(oErr)
LOCAL cRet, cI, nI, nJ, aPar, xI

   cRet := ""
   cRet += DTOC(DATE()) + " " + TIME() + CR_LF + CR_LF

   cRet += "Klaida: " + oErr:subsystem + "/" + ErrDescCode(oErr:genCode) 
+ "(" + TSTR(oErr:genCode) + ")   " + TSTR(oErr:subcode) + CR_LF
   IF !EMPTY(oErr:filename);      cRet += "Failas: " + oErr:filename + CR_LF
   ENDIF
   IF !EMPTY(oErr:description);   cRet += "Apra?ymas: " + 
oErr:description + CR_LF
   ENDIF
   IF !EMPTY(oErr:operation);     cRet += "Operacija: " + oErr:operation 
+ CR_LF
   ENDIF
   IF !EMPTY(oErr:osCode);        cRet += "OS klaida: " + 
TSTR(oErr:osCode) + CR_LF
   ENDIF
   IF VALTYPE(oErr:args) == "A"
     cRet += "Argumentai:" + CR_LF
     AEVAL(oErr:args, {|X, Y| cRet += STR(Y, 5) + ": " + cvt2str(X) + 
CR_LF})
   ENDIF
   cRet += CR_LF

   cRet += "Stekas: " + CR_LF
   nI := 2
   DO WHILE ! EMPTY(PROCNAME(++nI))
     cI := "    " + PROCNAME(nI) + "(" + TSTR(PROCLINE(nI)) + ")"
     cI := PADR(cI, MAX(32, LEN(cI) + 1))
     cI += "("
     aPar := __vmParLList(nI)
     FOR nJ := 1 TO LEN(aPar)
       cI += cvt2str(aPar[nJ])
       IF nJ < LEN(aPar);  cI += ", "
       ENDIF
     NEXT
     cI += ")"
     nJ := LEN(aPar)
     DO WHILE VALTYPE(xI := __vmVarLGet(nI, ++nJ)) != "S"
       cI += ", " + cvt2str(xI)
     ENDDO
     xI := NIL
     cRet += cI + CR_LF
   ENDDO
   cRet += CR_LF

   cI := GetModuleFileName()
   cRet += "EXE failas:  " + cI + CR_LF
   cRet += "Versijos:" + CR_LF
   cRet += "  OS: " + OS() + CR_LF
   cRet += "  Harbour: " + VERSION() + ", " + HB_BUILDDATE() + CR_LF
   cRet += "  CAWI32: " + goCAWI:GetVersion() + CR_LF
   FOR nI := 1 TO LEN(goCAWI:aLibraryVersion)
     cRet += "  " + goCAWI:aLibraryVersion[nI, 1] + ": " + 
goCAWI:aLibraryVersion[nI, 2] + CR_LF
   NEXT
   cRet += CR_LF

   cRet += "Kompiuteris: " + GetComputerName() + CR_LF
   IF (cI := GetUserName()) != NIL;  cRet += "Vartotojas: " + cI + CR_LF
   ENDIF
   cRet += CR_LF

   IF oErr:genCode != EG_MEM  // GPF nesifruokim RDD ir taip viskas suknista
     cRet += "Duomen? sritys:" + CR_LF
     cRet += "    Einamoji: " + TSTR(SELECT()) + "  " + ALIAS() + CR_LF

     BEGIN SEQUENCE WITH {|o| BREAK(o)}
       IF !EMPTY(ALIAS())
         cRet += "    Filtras: " + DBFILTER() + CR_LF
         cRet += "    Ry?io i?rai?ka: " + DBRELATION() + CR_LF
         cRet += "    Indekso raktas: " + ORDKEY(ORDSETFOCUS()) + CR_LF
         cRet += CR_LF
         BEGIN SEQUENCE WITH {|o| BREAK(o)}
           FOR nI := 1 to FCOUNT()
             cRet += STR(nI, 6) + " " + PADR(FIELDNAME(nI), 14) + ": " + 
cvt2str(FIELDGET(nI), .T.) + CR_LF
           NEXT 
                                    errorsys.prg
         RECOVER
           cRet += "!!! Klaida skaitant duomen? baz?s laukus !!!" + CR_LF
         END SEQUENCE
         cRet += CR_LF
       ENDIF
     RECOVER
       cRet += "!!! Klaida apra?ant einam?j? srit? !!!" + CR_LF
     END SEQUENCE

     FOR nI := 1 to 250
       BEGIN SEQUENCE WITH {|o| BREAK(o)}
         IF ! EMPTY(ALIAS(nI))
           DBSELECTAREA(nI)
           cI := ORDSETFOCUS()
           cRet += STR(nI, 6) + " " + RDDNAME() + " " + PADR(ALIAS(), 
15) + ;
                   STR(RECNO()) + "/" + STR(LASTREC()) + ;
                   IF(EMPTY(cI), "", " Indeksas " + cI + "(" + 
TSTR(ORDNUMBER(cI)) + ")") + CR_LF
           DBCLOSEAREA()
         ENDIF
       RECOVER
         cRet += "!!! Klaida apra?ant srit? numeris: " + STR(nI, 4) + 
"!!!" + CR_LF
       END SEQUENCE
     NEXT
     cRet += CR_LF
   ENDIF
RETURN cRet
From harbour.01 at syenar.hu  Fri Jun 27 11:08:52 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 27 11:08:56 2008
Subject: [Harbour] 2008-06-27 17:07 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d867$Blat.v2.6.2$b5de3e32$14cc301d8c04@127.0.0.1>

2008-06-27 17:07 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbgf/hbgfgtk/msginfo.c
     ! Blind fix for missing MultiLineDelimiters definition.
--
Brgds,
Viktor

From miguelangel at marchuet.net  Fri Jun 27 11:20:41 2008
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Fri Jun 27 11:16:26 2008
Subject: [Harbour] 2008-06-27 17:13 UTC+0100 Miguel Angel Marchuet
	<miguelangel@marchuet.net>
Message-ID: <48650549.9090606@marchuet.net>

2008-06-27 17:13 UTC+0100 Miguel Angel Marchuet <miguelangel@marchuet.net>
   * contrib/hbtip/client.prg
   * contrib/hbtip/ftpcln.prg
   * contrib/hbtip/httpcln.prg
   * contrib/hbtip/mail.prg
   * contrib/hbtip/sendmail.prg
     + Added methods setget to interrogate buffer size send/recive
	   METHOD InetRcvBufSize( SocketCon, nSizeBuff )
	   METHOD InetSndBufSize( SocketCon, nSizeBuff )
     + Added data members to assign default buffer sizes
	   DATA nDefaultRcvBuffSize
	   DATA nDefaultSndBuffSize
     + Asigned default buffer size to 64kb only for FTP transfer, previous to open sockets
            ::nDefaultSndBuffSize := 65536
            ::nDefaultRcvBuffSize := 65536
     * Fixed port ftp protocol.
   * source/rtl/hbinet.c
     * now works with default system buffer, for example 8kb at W2000. instead of harcoded 1400

Best regards,
Miguel Angel Marchuet
From harbour.01 at syenar.hu  Fri Jun 27 13:25:23 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jun 27 13:26:22 2008
Subject: R: [Harbour] Define for version recognition
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAIiMX/tLhrdDqqL2nwEKnugBAAAAAA==@gmail.com>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAACC5Fhe0ToVEj3j9an88JKABAAAAAA==@gmail.com>
	<3DD21F2E-1AFB-4AAC-9333-F80CEE0DD5B3@syenar.hu>
	<!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAIiMX/tLhrdDqqL2nwEKnugBAAAAAA==@gmail.com>
Message-ID: <153A07DF-ABD4-4D99-89CC-996AF1E10122@syenar.hu>

> #ifdef __HARBOUR__
> #ifdef __HARBOUR_SVN__
> .... Code with new feautured funcs ....
> #else
> .... Code with old fashioned funcs ....
> #endif
> #endif
>
> #ifdef __XHARBOUR__
> #ifdef __XHARBOUR_CVS__
> .... Code with new feautured funcs ....
> #else
> .... Code with old fashioned funcs ....
> #endif
> #endif


With latest Harbour SVN:

#ifdef __XHARBOUR__
    do xhb stuff, use xhb version defines.
#elif __HARBOUR__
    do Harbour stuff
    /* supported method */
    #if __HARBOUR__ > 0x010100
        do some Harbour stuff available in or after version 1.1.0
    #endif
    /* unsupported method. not recommended.
       (since we might for example change to different repository  
system in the future) */
    #if HB_VER_SVNID >= 8830
        do this way
    #else
        do that way
    #endif
#endif

Brgds,
Viktor

From m.lacecilia at gmail.com  Fri Jun 27 16:07:56 2008
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Fri Jun 27 16:08:12 2008
Subject: R: [Harbour] Define for version recognition
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EDAF@SRV02.deltain.net>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAACC5Fhe0ToVEj3j9an88JKABAAAAAA==@gmail.com><3DD21F2E-1AFB-4AAC-9333-F80CEE0DD5B3@syenar.hu><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAIiMX/tLhrdDqqL2nwEKnugBAAAAAA==@gmail.com>
	<AFB948164110ED43B5EB849E8DEEF03815EDAF@SRV02.deltain.net>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAG7voRKUO+pLgynXzYC8WocBAAAAAA==@gmail.com>

Thanks Massimo.
Luckly i've always used the __XHARBOUR__ before  the __HARBOUR__ test (or
only it) and the things have worked.
Never thought __HARBOUR__ have same behaviour in both compilers... Now i
stay tuned.
Best regards.

Maurizio la Cecilia               
 

> -----Messaggio originale-----
> Da: harbour-bounces@harbour-project.org 
> [mailto:harbour-bounces@harbour-project.org] Per conto di 
> Massimo Belgrano
> Inviato: venerd? 27 giugno 2008 11.37
> A: Harbour Project Main Developer List.
> Oggetto: RE: [Harbour] Define for version recognition
> 
> #ifdef __HARBOUR__
> If return true in Harbour and xharbour!
> 
> -----Original Message-----
> From: harbour-bounces@harbour-project.org 
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of 
> Maurizio la Cecilia
> Sent: Friday, June 27, 2008 11:23 AM
> To: 'Harbour Project Main Developer List.'
> Subject: R: [Harbour] Define for version recognition
> 
> Hi Viktor, to be clearer i'm searching something allowing a code as:
> 
> #ifdef __HARBOUR__
> #ifdef __HARBOUR_SVN__
> .... Code with new feautured funcs ....
> #else
> .... Code with old fashioned funcs ....
> #endif
> #endif
> 
> #ifdef __XHARBOUR__
> #ifdef __XHARBOUR_CVS__
> .... Code with new feautured funcs ....
> #else
> .... Code with old fashioned funcs ....
> #endif
> #endif
> 
> or something doing the same job.
> You see, i need this flags at compile time ( of HwGUI, of 
> course...  ;) ),
> just for avoid to mantain compatibility with Harbour SVN only.
> Best regards.
> Maurizio
>  
>  
> 
> > -----Messaggio originale-----
> > Da: harbour-bounces@harbour-project.org 
> > [mailto:harbour-bounces@harbour-project.org] Per conto di 
> > Szak?ts Viktor
> > Inviato: venerd? 27 giugno 2008 1.44
> > A: Harbour Project Main Developer List.
> > Oggetto: Re: [Harbour] Define for version recognition
> > 
> > Hi Maurizio,
> > 
> > Pls check the version #defines in include/hbver.h,
> > on .prg level __HARBOUR__ has the version as its value.
> > 
> > Brgds,
> > Viktor
> > 
> > On 2008.06.26., at 19:19, Maurizio la Cecilia wrote:
> > 
> > > I don't know if is possible, but i would know if ther'is in 
> > Harbour  
> > > a pre
> > > defined constant telling at compile time what version 
> (and hopefully
> > > subversion) of the compiler is in use.
> > > This could allow me to take care of features implemented 
> in newer  
> > > version
> > > and lacking in older version (the stable, by example...).
> > > TIA.
> > > Best regards.
> > > Maurizio la Cecilia
> > >
> > > _______________________________________________
> > > Harbour mailing list
> > > Harbour@harbour-project.org
> > > http://lists.harbour-project.org/mailman/listinfo/harbour
> > 
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> > 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From m.lacecilia at gmail.com  Fri Jun 27 16:13:43 2008
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Fri Jun 27 16:13:57 2008
Subject: R: R: [Harbour] Define for version recognition
In-Reply-To: <153A07DF-ABD4-4D99-89CC-996AF1E10122@syenar.hu>
References: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAACC5Fhe0ToVEj3j9an88JKABAAAAAA==@gmail.com><3DD21F2E-1AFB-4AAC-9333-F80CEE0DD5B3@syenar.hu><!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAAIiMX/tLhrdDqqL2nwEKnugBAAAAAA==@gmail.com>
	<153A07DF-ABD4-4D99-89CC-996AF1E10122@syenar.hu>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAESGsVuZMAhNnqDOKdTTUVyipAEAEAAAABYypxzwK7dKkU3xfwqRsZsBAAAAAA==@gmail.com>

Hi Viktor, this confirm what i'm making after the alert of Massimo.
Luckly i've always used the __XHARBOUR__ before the __HARBOUR__ test and the
things have worked.
Never thought __HARBOUR__ have same behaviour in both compilers.
Your arrangement allow to fine tune the source of HwGUI with newer feature
more timely.
My thanks for your courtesy and collaboration: same question posted to
xHarbour group before this thread started never answered...
Best regards.
Maurizio la Cecilia               

 

> -----Messaggio originale-----
> Da: harbour-bounces@harbour-project.org 
> [mailto:harbour-bounces@harbour-project.org] Per conto di 
> Szak?ts Viktor
> Inviato: venerd? 27 giugno 2008 19.25
> A: Harbour Project Main Developer List.
> Oggetto: Re: R: [Harbour] Define for version recognition
> 
> > #ifdef __HARBOUR__
> > #ifdef __HARBOUR_SVN__
> > .... Code with new feautured funcs ....
> > #else
> > .... Code with old fashioned funcs ....
> > #endif
> > #endif
> >
> > #ifdef __XHARBOUR__
> > #ifdef __XHARBOUR_CVS__
> > .... Code with new feautured funcs ....
> > #else
> > .... Code with old fashioned funcs ....
> > #endif
> > #endif
> 
> 
> With latest Harbour SVN:
> 
> #ifdef __XHARBOUR__
>     do xhb stuff, use xhb version defines.
> #elif __HARBOUR__
>     do Harbour stuff
>     /* supported method */
>     #if __HARBOUR__ > 0x010100
>         do some Harbour stuff available in or after version 1.1.0
>     #endif
>     /* unsupported method. not recommended.
>        (since we might for example change to different repository  
> system in the future) */
>     #if HB_VER_SVNID >= 8830
>         do this way
>     #else
>         do that way
>     #endif
> #endif
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From mbelgrano at deltain.it  Fri Jun 27 19:58:37 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jun 27 19:58:50 2008
Subject: R: [Harbour] Define for version recognition
Message-ID: <000001c8d8b1$bb6c93ea$0400a8c0@deltain.net>

Victor can you post the list of envar,compile switch used by harbour like __harbour__ and somethink like STRICTLY52
Or tell me What must search for find it

----- Messaggio originale -----
Da: Maurizio la Cecilia <m.lacecilia@gmail.com>
Inviato: venerd? 27 giugno 2008 22.08
A: 'Harbour Project Main Developer List.' <harbour@harbour-project.org>
Oggetto: R: [Harbour] Define for version recognition

Thanks Massimo.
Luckly i've always used the __XHARBOUR__ before  the __HARBOUR__ test (or
only it) and the things have worked.
Never thought __HARBOUR__ have same behaviour in both compilers... Now i
stay tuned.
Best regards.

Maurizio la Cecilia               
 

> -----Messaggio originale-----
> Da: harbour-bounces@harbour-project.org 
> [mailto:harbour-bounces@harbour-project.org] Per conto di 
> Massimo Belgrano
> Inviato: venerd? 27 giugno 2008 11.37
> A: Harbour Project Main Developer List.
> Oggetto: RE: [Harbour] Define for version recognition
> 
> #ifdef __HARBOUR__
> If return true in Harbour and xharbour!
> 
> -----Original Message-----
> From: harbour-bounces@harbour-project.org 
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of 
> Maurizio la Cecilia
> Sent: Friday, June 27, 2008 11:23 AM
> To: 'Harbour Project Main Developer List.'
> Subject: R: [Harbour] Define for version recognition
> 
> Hi Viktor, to be clearer i'm searching something allowing a code as:
> 
> #ifdef __HARBOUR__
> #ifdef __HARBOUR_SVN__
> .... Code with new feautured funcs ....
> #else
> .... Code with old fashioned funcs ....
> #endif
> #endif
> 
> #ifdef __XHARBOUR__
> #ifdef __XHARBOUR_CVS__
> .... Code with new feautured funcs ....
> #else
> .... Code with old fashioned funcs ....
> #endif
> #endif
> 
> or something doing the same job.
> You see, i need this flags at compile time ( of HwGUI, of 
> course...  ;) ),
> just for avoid to mantain compatibility with Harbour SVN only.
> Best regards.
> Maurizio
>  
>  
> 
> > -----Messaggio originale-----
> > Da: harbour-bounces@harbour-project.org 
> > [mailto:harbour-bounces@harbour-project.org] Per conto di 
> > Szak?ts Viktor
> > Inviato: venerd? 27 giugno 2008 1.44
> > A: Harbour Project Main Developer List.
> > Oggetto: Re: [Harbour] Define for version recognition
> > 
> > Hi Maurizio,
> > 
> > Pls check the version #defines in include/hbver.h,
> > on .prg level __HARBOUR__ has the version as its value.
> > 
> > Brgds,
> > Viktor
> > 
> > On 2008.06.26., at 19:19, Maurizio la Cecilia wrote:
> > 
> > > I don't know if is possible, but i would know if ther'is in 
> > Harbour  
> > > a pre
> > > defined constant telling at compile time what version 
> (and hopefully
> > > subversion) of the compiler is in use.
> > > This could allow me to take care of features implemented 
> in newer  
> > > version
> > > and lacking in older version (the stable, by example...).
> > > TIA.
> > > Best regards.
> > > Maurizio la Cecilia
> > >
> > > _______________________________________________
> > > Harbour mailing list
> > > Harbour@harbour-project.org
> > > http://lists.harbour-project.org/mailman/listinfo/harbour
> > 
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> > 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Sat Jun 28 02:59:44 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 28 03:13:26 2008
Subject: [Harbour] 2008-06-28 08:53 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d8ec$Blat.v2.6.2$8b90e24e$b58a0926320@127.0.0.1>

2008-06-28 08:53 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/set.ch
   * include/hbset.h
   * source/rtl/set.c
   * source/vm/fm.c
   * source/vm/extrap.c
     + Added: Set( _SET_HBOUTLOGINFO[, <cValue>] ) -> <cOldValue>
       Default value: ""
       This user defined text will be included in each hb_out.log 
       messages. This way it's possible to include custom information 
       in these entries to help identify and locate them.
     ! Fixed a few string not marked with HB_I_() translation 
       marker.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 28 04:53:02 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 28 04:53:03 2008
Subject: [Harbour] 2008-06-28 10:44 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d8fc$Blat.v2.6.2$5f67e824$14643991cd54@127.0.0.1>

2008-06-28 10:44 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * tests/extend2.c
   * source/debug/dbgentry.c
   * contrib/hbodbc/odbc.c
   * contrib/hbw32/tprinter.c
   * contrib/hbziparch/hbziparc.c
   * contrib/hbziparch/hbzipnew.cpp
   * contrib/hbpgsql/postgres.c
     ! Changed strcpy() -> hb_strncpy()
     ! Changed strcat() -> hb_strncat()
     ! Some possible buffer overruns fixed along the way in hbziparch.lib
     ! Fixed some filename buffer sizes in hbziparch.lib
     ; TOFIX: There are still some remaining strcpy()/strcat() 
              calls in Harbour code:
              core: dbgentry.c, hbwince.c
              contrib: hbnf, hbw32, hbwhat32, hbtip
              foreign code: zlib, sqlite2/3
              Not all of these are necessarily bugs (but it's 
              difficult to know without checking each).
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 28 05:19:50 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 28 05:19:50 2008
Subject: [Harbour] 2008-06-28 11:17 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8d900$Blat.v2.6.2$1de2c58c$1d682da6b2ac@127.0.0.1>

2008-06-28 11:17 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/vm/extrap.c
     + Added Windows GPF detailed information dump (with some 
       modifications) provided by Mindaugas Kavaliauskas.
       Many thanks.
     ; It would be very nice to have similar for Linux, OS/2, 
       Darwin.

--
Brgds,
Viktor

From mbelgrano at deltain.it  Sat Jun 28 11:35:11 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun 28 11:35:22 2008
Subject: R: [Harbour] 2008-06-28 11:17 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
Message-ID: <000101c8d934$919b5884$0400a8c0@deltain.net>

How can be used?

----- Messaggio originale -----
Da: Szak?ts Viktor <harbour.01@syenar.hu>
Inviato: sabato 28 giugno 2008 11.19
A: harbour@harbour-project.org <harbour@harbour-project.org>
Oggetto: [Harbour] 2008-06-28 11:17 UTC+0200 Viktor Szakats (harbour.01syenar hu)

2008-06-28 11:17 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/vm/extrap.c
     + Added Windows GPF detailed information dump (with some 
       modifications) provided by Mindaugas Kavaliauskas.
       Many thanks.
     ; It would be very nice to have similar for Linux, OS/2, 
       Darwin.

--
Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From bedipritpal at hotmail.com  Sat Jun 28 14:02:46 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Jun 28 14:02:51 2008
Subject: [Harbour] Comparing TYPE with Harbour API
Message-ID: <18173365.post@talk.nabble.com>


Hello All

Please forgive me if I am asking something silly!

We use:
if( hb_itemType( pInfo->pNewVal ) & HB_IT_NUMERIC )

Now if pInfo->pNewVal is an array, then what it should be like ...
if( hb_itemType( hb_arrayGetCPtr->pNewVal,2 ) & HB_IT_NUMERIC )  // does not
work

I need to establish the type of an element in an array item.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Comparing-TYPE-with-Harbour-API-tp18173365p18173365.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sat Jun 28 14:05:06 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Jun 28 14:05:09 2008
Subject: [Harbour] Comparing TYPE with Harbour API
In-Reply-To: <18173365.post@talk.nabble.com>
References: <18173365.post@talk.nabble.com>
Message-ID: <18173391.post@talk.nabble.com>


Sorry

>if( hb_itemType( hb_arrayGetCPtr->pNewVal,2 ) & HB_IT_NUMERIC )  // does
not work

if( hb_itemType( hb_arrayGetCPtr( pInfo->pNewVal, 2 ) & HB_IT_NUMERIC )

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Comparing-TYPE-with-Harbour-API-tp18173365p18173391.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sat Jun 28 14:52:13 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Jun 28 14:52:16 2008
Subject: [Harbour] 2008-06-28 11:37 UTC-0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <18173799.post@talk.nabble.com>


2008-06-28 11:37 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/gtwvg/gtwvg.c
  * contrib/gtwvg/gtwvg.h
  * contrib/gtwvg/hbgtwvg.ch
    + Implemented application to run as a System Tray Icon.
    ; IMPLEMENTATION:
      Hb_GtInfo( HB_GTI_SPEC, HB_GTS_SYSTRAYICON, ;
                 { nMode /*NIM_ADD/MODIFY/DELETE*/, ;
                    nIconType /*NIT_FILE/RESOURCEBYNAME/RESOURCEBYID*/, ;
                     cnFileNameOrResourceName|Id, ;
                      cTooltip } )

      Right-click on SysTrayIcon will restore the appln in its original
state.

    : TOKNOW: Does it qualify for GTWVT? 

  * tests/wvtext.prg
    ! Modified to show the SysTrayIcon feature if linked with GTWVG.
      Link Guarded againt __GTWVG__ define.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-28-11%3A37-UTC-0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp18173799p18173799.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Sat Jun 28 15:33:24 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun 28 15:33:37 2008
Subject: R: [Harbour] 2008-06-28 11:37 UTC-0800 Pritpal
	Bedi(pritpal@vouchcac.com)
Message-ID: <000201c8d955$d9f731f4$0400a8c0@deltain.net>

Very good!

Is possible enable/disable maximize?
In wvtext.prg

----- Messaggio originale -----
Da: Pritpal Bedi <bedipritpal@hotmail.com>
Inviato: sabato 28 giugno 2008 20.52
A: harbour@harbour-project.org <harbour@harbour-project.org>
Oggetto: [Harbour] 2008-06-28 11:37 UTC-0800 Pritpal Bedi(pritpal@vouchcac.com)


2008-06-28 11:37 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/gtwvg/gtwvg.c
  * contrib/gtwvg/gtwvg.h
  * contrib/gtwvg/hbgtwvg.ch
    + Implemented application to run as a System Tray Icon.
    ; IMPLEMENTATION:
      Hb_GtInfo( HB_GTI_SPEC, HB_GTS_SYSTRAYICON, ;
                 { nMode /*NIM_ADD/MODIFY/DELETE*/, ;
                    nIconType /*NIT_FILE/RESOURCEBYNAME/RESOURCEBYID*/, ;
                     cnFileNameOrResourceName|Id, ;
                      cTooltip } )

      Right-click on SysTrayIcon will restore the appln in its original
state.

    : TOKNOW: Does it qualify for GTWVT? 

  * tests/wvtext.prg
    ! Modified to show the SysTrayIcon feature if linked with GTWVG.
      Link Guarded againt __GTWVG__ define.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/2008-06-28-11%3A37-UTC-0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp18173799p18173799.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Sat Jun 28 15:39:35 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun 28 15:39:46 2008
Subject: R: Re: [Harbour] Group opinion on RC2 from RC1 or main branch?
Message-ID: <000301c8d956$b5a5aec5$0400a8c0@deltain.net>

What about pritpal modification for multiple windows gt?
Can be part of rc2

----- Messaggio originale -----
Da: Szak?ts Viktor <harbour.01@syenar.hu>
Inviato: mercoled? 25 giugno 2008 7.51
A: Harbour Project Main Developer List. <harbour@harbour-project.org>
Oggetto: Re: [Harbour] Group opinion on RC2 from RC1 or main branch?

Hi Phil,

Yes ASAP, but IMO we should wait for Przemek to
review latest changes and do tests on Linux.

So I think next Monday / early next week could
be the RC2-day.

Brgds,
Viktor

On 2008.06.25., at 1:18, Phil Barnett wrote:

> On Tuesday 24 June 2008 12:10:19 pm Szak?ts Viktor wrote:
>> Sorry Phil, I'm not sure I understand you, you
>> said 'No' first, but here you seem to agree with
>> my same, but more detailed proposal (also agreed
>> on by those commenting).
>>
>> Can we move forward into this direction?
>
> Yes, that's fine.
>
> Do you want to mark RC2?
>
> -- 
> Waiting for sunspots.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From bedipritpal at hotmail.com  Sat Jun 28 15:55:03 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Jun 28 15:55:06 2008
Subject: [Harbour] R: 2008-06-28 11:37 UTC-0800 Pritpal
	Bedi(pritpal@vouchcac.com)
In-Reply-To: <000201c8d955$d9f731f4$0400a8c0@deltain.net>
References: <000201c8d955$d9f731f4$0400a8c0@deltain.net>
Message-ID: <18174285.post@talk.nabble.com>




Massimo Belgrano-3 wrote:
> 
> 
> Is possible enable/disable maximize?
> In wvtext.prg
> 

Hb_GtInfo( HB_GTI_RESIZABLE, .F. )

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/R%3A-2008-06-28-11%3A37-UTC-0800-Pritpal-Bedi%28pritpal%40vouchcac.com%29-tp18174105p18174285.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From jarabal at ya.com  Sat Jun 28 16:06:11 2008
From: jarabal at ya.com (Javier)
Date: Sat Jun 28 16:06:31 2008
Subject: [Harbour] Comparing TYPE with Harbour API
In-Reply-To: <18173391.post@talk.nabble.com>
References: <18173365.post@talk.nabble.com> <18173391.post@talk.nabble.com>
Message-ID: <486699B3.6010409@ya.com>

Sorry I don't understand nothing but if you want the PHB_ITEM to second 
element of a array "pInfo->pNewVal" will be.-

    hb_arrayGetItemPtr( pInfo->pNewVal, 2 )

because, if not change, hb_arrayGetCPtr() return (char *) not PHB_ITEM. 
and if change, I want to know it.-

   if( hb_itemType( hb_arrayGetItemPtr(pInfo->pNewVal, 2) ) & 
HB_IT_NUMERIC )

Best regards.
Xavi

Pritpal Bedi escribi?:
> Sorry
>
>   
>> if( hb_itemType( hb_arrayGetCPtr->pNewVal,2 ) & HB_IT_NUMERIC )  // does
>>     
> not work
>
> if( hb_itemType( hb_arrayGetCPtr( pInfo->pNewVal, 2 ) & HB_IT_NUMERIC )
>
> Regards
> Pritpal Bedi
>
>   
From bedipritpal at hotmail.com  Sat Jun 28 16:27:56 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Jun 28 16:27:59 2008
Subject: [Harbour] Comparing TYPE with Harbour API
In-Reply-To: <486699B3.6010409@ya.com>
References: <18173365.post@talk.nabble.com> <18173391.post@talk.nabble.com>
	<486699B3.6010409@ya.com>
Message-ID: <18174513.post@talk.nabble.com>


Hi


Javier-28 wrote:
> 
> Sorry I don't understand nothing but if you want the PHB_ITEM to second 
> element of a array "pInfo->pNewVal" will be.-
> 
>     hb_arrayGetItemPtr( pInfo->pNewVal, 2 )
> 
> because, if not change, hb_arrayGetCPtr() return (char *) not PHB_ITEM. 
> and if change, I want to know it.-
> 
>    if( hb_itemType( hb_arrayGetItemPtr(pInfo->pNewVal, 2) ) & 
> HB_IT_NUMERIC )
> 

You understood correctly. This is what I wanted.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Comparing-TYPE-with-Harbour-API-tp18173365p18174513.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Jun 28 17:03:35 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 28 17:04:32 2008
Subject: [Harbour] Comparing TYPE with Harbour API
In-Reply-To: <18173365.post@talk.nabble.com>
References: <18173365.post@talk.nabble.com>
Message-ID: <D70A5E27-1A03-4860-9C3D-CA9BE660FA0C@syenar.hu>

>
Hi Pripal,

> We use:
> if( hb_itemType( pInfo->pNewVal ) & HB_IT_NUMERIC )
>
> Now if pInfo->pNewVal is an array, then what it should be like ...
> if( hb_itemType( hb_arrayGetCPtr->pNewVal,2 ) & HB_IT_NUMERIC )  //  
> does not

Try:
if( hb_itemType( hb_arrayGetItemPtr( pArray, nIndex ) ) &  
HB_IT_NUMERIC )

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 28 16:59:11 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 28 17:14:31 2008
Subject: [Harbour] WIN64: ULONG not equal to size_t
Message-ID: <0982D0B9-092E-4B4B-82A2-BE4304F99C51@syenar.hu>

Hi Przemek,

What to do with hundreds of warnings like in subject,
when compiled in _WIN64 mode? Any practices to avoid it?

[I'm again getting these undelivered message errors. So, this
is a resend in hope it will work this time.]

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jun 28 17:14:20 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 28 17:15:15 2008
Subject: R: [Harbour] 2008-06-28 11:17 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
In-Reply-To: <000101c8d934$919b5884$0400a8c0@deltain.net>
References: <000101c8d934$919b5884$0400a8c0@deltain.net>
Message-ID: <D00BE845-AE64-468A-8ED8-8315C30264D7@syenar.hu>

Just do a GPF (you'll need some faulty C code to make
this easily) in your program and look into hb_out.log.

[ As for how to use this detailed information, you'll
need a .map file, and from that point there are probably
some tutorials on this on the net better explaining it
than I could ever do. ]

Brgds,
Viktor

On 2008.06.28., at 17:35, Massimo Belgrano wrote:

> How can be used?
>
> ----- Messaggio originale -----
> Da: Szak?ts Viktor <harbour.01@syenar.hu>
> Inviato: sabato 28 giugno 2008 11.19
> A: harbour@harbour-project.org <harbour@harbour-project.org>
> Oggetto: [Harbour] 2008-06-28 11:17 UTC+0200 Viktor Szakats (harbour. 
> 01syenar hu)
>
> 2008-06-28 11:17 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>   * source/vm/extrap.c
>     + Added Windows GPF detailed information dump (with some
>       modifications) provided by Mindaugas Kavaliauskas.
>       Many thanks.
>     ; It would be very nice to have similar for Linux, OS/2,
>       Darwin.
>
> --
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Jun 28 17:17:56 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 28 17:18:50 2008
Subject: R: Re: [Harbour] Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <000301c8d956$b5a5aec5$0400a8c0@deltain.net>
References: <000301c8d956$b5a5aec5$0400a8c0@deltain.net>
Message-ID: <32196488-8DE5-4204-9CCB-A31D933EE742@syenar.hu>

No. Only after release 1.0.

Notice however, that this could technically be
implemented completely outside the core, say,
for example in GTWVG. Later on we can move some
logic to core, when we see and agree on what we
really need and want.

Brgds,
Viktor

On 2008.06.28., at 21:39, Massimo Belgrano wrote:

> What about pritpal modification for multiple windows gt?
> Can be part of rc2
>
> ----- Messaggio originale -----
> Da: Szak?ts Viktor <harbour.01@syenar.hu>
> Inviato: mercoled? 25 giugno 2008 7.51
> A: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Oggetto: Re: [Harbour] Group opinion on RC2 from RC1 or main branch?
>
> Hi Phil,
>
> Yes ASAP, but IMO we should wait for Przemek to
> review latest changes and do tests on Linux.
>
> So I think next Monday / early next week could
> be the RC2-day.
>
> Brgds,
> Viktor
>
> On 2008.06.25., at 1:18, Phil Barnett wrote:
>
>> On Tuesday 24 June 2008 12:10:19 pm Szak?ts Viktor wrote:
>>> Sorry Phil, I'm not sure I understand you, you
>>> said 'No' first, but here you seem to agree with
>>> my same, but more detailed proposal (also agreed
>>> on by those commenting).
>>>
>>> Can we move forward into this direction?
>>
>> Yes, that's fine.
>>
>> Do you want to mark RC2?
>>
>> -- 
>> Waiting for sunspots.
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Jun 28 17:24:33 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 28 17:25:32 2008
Subject: R: [Harbour] Define for version recognition
In-Reply-To: <000001c8d8b1$bb6c93ea$0400a8c0@deltain.net>
References: <000001c8d8b1$bb6c93ea$0400a8c0@deltain.net>
Message-ID: <57D90A18-996E-4913-8037-519B7097FCED@syenar.hu>

Hi Massimo,

I have no complete list, but you can find the
officially supported ones in hbsetup.h. There
has been a lot of talk about this a few weeks
ago on this list, with some very detailed
descriptions on some rare switches, I suggest
to look into those.

If you mean the predefined macros on .prg
level, pls look into include/hbstdgen.ch,
and its dependencies. Plus there are a few
ones defined directly in the pp. If you make
a search for __DATE__ in the source/pp dir
you'll find the rest of those, too. (I have
no sources with me at this moment)

Brgds,
Viktor

On 2008.06.28., at 1:58, Massimo Belgrano wrote:

> Victor can you post the list of envar,compile switch used by harbour  
> like __harbour__ and somethink like STRICTLY52
> Or tell me What must search for find it
>
> ----- Messaggio originale -----
> Da: Maurizio la Cecilia <m.lacecilia@gmail.com>
> Inviato: venerd? 27 giugno 2008 22.08
> A: 'Harbour Project Main Developer List.' <harbour@harbour- 
> project.org>
> Oggetto: R: [Harbour] Define for version recognition
>
> Thanks Massimo.
> Luckly i've always used the __XHARBOUR__ before  the __HARBOUR__  
> test (or
> only it) and the things have worked.
> Never thought __HARBOUR__ have same behaviour in both compilers...  
> Now i
> stay tuned.
> Best regards.
>
> Maurizio la Cecilia
>
>
>> -----Messaggio originale-----
>> Da: harbour-bounces@harbour-project.org
>> [mailto:harbour-bounces@harbour-project.org] Per conto di
>> Massimo Belgrano
>> Inviato: venerd? 27 giugno 2008 11.37
>> A: Harbour Project Main Developer List.
>> Oggetto: RE: [Harbour] Define for version recognition
>>
>> #ifdef __HARBOUR__
>> If return true in Harbour and xharbour!
>>
>> -----Original Message-----
>> From: harbour-bounces@harbour-project.org
>> [mailto:harbour-bounces@harbour-project.org] On Behalf Of
>> Maurizio la Cecilia
>> Sent: Friday, June 27, 2008 11:23 AM
>> To: 'Harbour Project Main Developer List.'
>> Subject: R: [Harbour] Define for version recognition
>>
>> Hi Viktor, to be clearer i'm searching something allowing a code as:
>>
>> #ifdef __HARBOUR__
>> #ifdef __HARBOUR_SVN__
>> .... Code with new feautured funcs ....
>> #else
>> .... Code with old fashioned funcs ....
>> #endif
>> #endif
>>
>> #ifdef __XHARBOUR__
>> #ifdef __XHARBOUR_CVS__
>> .... Code with new feautured funcs ....
>> #else
>> .... Code with old fashioned funcs ....
>> #endif
>> #endif
>>
>> or something doing the same job.
>> You see, i need this flags at compile time ( of HwGUI, of
>> course...  ;) ),
>> just for avoid to mantain compatibility with Harbour SVN only.
>> Best regards.
>> Maurizio
>>
>>
>>
>>> -----Messaggio originale-----
>>> Da: harbour-bounces@harbour-project.org
>>> [mailto:harbour-bounces@harbour-project.org] Per conto di
>>> Szak?ts Viktor
>>> Inviato: venerd? 27 giugno 2008 1.44
>>> A: Harbour Project Main Developer List.
>>> Oggetto: Re: [Harbour] Define for version recognition
>>>
>>> Hi Maurizio,
>>>
>>> Pls check the version #defines in include/hbver.h,
>>> on .prg level __HARBOUR__ has the version as its value.
>>>
>>> Brgds,
>>> Viktor
>>>
>>> On 2008.06.26., at 19:19, Maurizio la Cecilia wrote:
>>>
>>>> I don't know if is possible, but i would know if ther'is in
>>> Harbour
>>>> a pre
>>>> defined constant telling at compile time what version
>> (and hopefully
>>>> subversion) of the compiler is in use.
>>>> This could allow me to take care of features implemented
>> in newer
>>>> version
>>>> and lacking in older version (the stable, by example...).
>>>> TIA.
>>>> Best regards.
>>>> Maurizio la Cecilia
>>>>
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Sat Jun 28 18:55:09 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun 28 18:55:21 2008
Subject: R: Re: [Harbour] R: 2008-06-28 11:37 UTC-0800
	PritpalBedi(pritpal@vouchcac.com)
Message-ID: <000001c8d972$07ac51e4$0400a8c0@deltain.net>

Maximize and resize are same function?

----- Messaggio originale -----
Da: Pritpal Bedi <bedipritpal@hotmail.com>
Inviato: sabato 28 giugno 2008 21.55
A: harbour@harbour-project.org <harbour@harbour-project.org>
Oggetto: Re: [Harbour] R: 2008-06-28 11:37 UTC-0800 PritpalBedi(pritpal@vouchcac.com)




Massimo Belgrano-3 wrote:
> 
> 
> Is possible enable/disable maximize?
> In wvtext.prg
> 

Hb_GtInfo( HB_GTI_RESIZABLE, .F. )

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/R%3A-2008-06-28-11%3A37-UTC-0800-Pritpal-Bedi%28pritpal%40vouchcac.com%29-tp18174105p18174285.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Sat Jun 28 19:04:56 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Jun 28 19:05:06 2008
Subject: R: Re: R: Re: [Harbour] Group opinion on RC2 from RC1 or main branch?
Message-ID: <000101c8d973$6558c70c$0400a8c0@deltain.net>

Very thank for all info
Confirmed the rc2 days?

----- Messaggio originale -----
Da: Szak?ts Viktor <harbour.01@syenar.hu>
Inviato: sabato 28 giugno 2008 23.19
A: Harbour Project Main Developer List. <harbour@harbour-project.org>
Oggetto: Re: R: Re: [Harbour] Group opinion on RC2 from RC1 or main branch?

No. Only after release 1.0.

Notice however, that this could technically be
implemented completely outside the core, say,
for example in GTWVG. Later on we can move some
logic to core, when we see and agree on what we
really need and want.

Brgds,
Viktor

On 2008.06.28., at 21:39, Massimo Belgrano wrote:

> What about pritpal modification for multiple windows gt?
> Can be part of rc2
>
> ----- Messaggio originale -----
> Da: Szak?ts Viktor <harbour.01@syenar.hu>
> Inviato: mercoled? 25 giugno 2008 7.51
> A: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Oggetto: Re: [Harbour] Group opinion on RC2 from RC1 or main branch?
>
> Hi Phil,
>
> Yes ASAP, but IMO we should wait for Przemek to
> review latest changes and do tests on Linux.
>
> So I think next Monday / early next week could
> be the RC2-day.
>
> Brgds,
> Viktor
>
> On 2008.06.25., at 1:18, Phil Barnett wrote:
>
>> On Tuesday 24 June 2008 12:10:19 pm Szak?ts Viktor wrote:
>>> Sorry Phil, I'm not sure I understand you, you
>>> said 'No' first, but here you seem to agree with
>>> my same, but more detailed proposal (also agreed
>>> on by those commenting).
>>>
>>> Can we move forward into this direction?
>>
>> Yes, that's fine.
>>
>> Do you want to mark RC2?
>>
>> -- 
>> Waiting for sunspots.
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Fri Jun 27 09:31:18 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jun 28 21:10:38 2008
Subject: [Harbour] WIN64: ULONG != size_t
Message-ID: <1D323C9B-D02F-49D4-8100-92C6558A6EB6@syenar.hu>

Hi Przemek,

What to do with hundreds of warnings like in subject,
when compiled in _WIN64 mode? Any practices to avoid it?

Brgds,
Viktor

From bedipritpal at hotmail.com  Sun Jun 29 12:03:17 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Jun 29 12:03:20 2008
Subject: [Harbour] R: Re: R: 2008-06-28 11:37 UTC-0800
	PritpalBedi(pritpal@vouchcac.com)
In-Reply-To: <000001c8d972$07ac51e4$0400a8c0@deltain.net>
References: <000001c8d972$07ac51e4$0400a8c0@deltain.net>
Message-ID: <18182380.post@talk.nabble.com>


>Maximize and resize are same function?

Maximize is equivalent to resizing to maximum extent possible.

-- 
View this message in context: http://www.nabble.com/R%3A-Re%3A-R%3A-2008-06-28-11%3A37-UTC-0800-PritpalBedi%28pritpal%40vouchcac.com%29-tp18175644p18182380.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sun Jun 29 12:09:08 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Jun 29 12:09:10 2008
Subject: [Harbour] R: Re: Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <32196488-8DE5-4204-9CCB-A31D933EE742@syenar.hu>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
	<000301c8d956$b5a5aec5$0400a8c0@deltain.net>
	<32196488-8DE5-4204-9CCB-A31D933EE742@syenar.hu>
Message-ID: <18182432.post@talk.nabble.com>


Hello


Szak?ts Viktor wrote:
> 
> Notice however, that this could technically be
> implemented completely outside the core, say,
> for example in GTWVG. Later on we can move some
> logic to core, when we see and agree on what we
> really need and want.
> 

For this to happen we need three mor emethods in core 
as I showed up. Without them it is not easier to do so.
I am looking for Przemek's opinions on this regard.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Group-opinion-on-RC2-from-RC1-or-main-branch--tp18064808p18182432.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sun Jun 29 13:19:18 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 29 13:20:16 2008
Subject: [Harbour] R: Re: Group opinion on RC2 from RC1 or main branch?
In-Reply-To: <18182432.post@talk.nabble.com>
References: <4DC8DAFC-67D1-404A-841D-35D4D951E9B9@syenar.hu>
	<000301c8d956$b5a5aec5$0400a8c0@deltain.net>
	<32196488-8DE5-4204-9CCB-A31D933EE742@syenar.hu>
	<18182432.post@talk.nabble.com>
Message-ID: <37EC80D6-FFB0-41B5-9B8E-1C5B5502B2BB@syenar.hu>

>
Hi Pritpal,

> Szak?ts Viktor wrote:
>>
>> Notice however, that this could technically be
>> implemented completely outside the core, say,
>> for example in GTWVG. Later on we can move some
>> logic to core, when we see and agree on what we
>> really need and want.
>>
>
> For this to happen we need three mor emethods in core
> as I showed up. Without them it is not easier to do so.
> I am looking for Przemek's opinions on this regard.

CTWIN did it (I also did it locally), so it's doable.

If you use the wndSelect() method, you can even
continue to use all existing Harbour level display
functions, just like in CTWIN.

You only need to change the core, if you want to
extend existing core functions, or if you want to
add new ones. But this is completely unnecessary
for this feature to be perfectly usable IMO, or
if you want to move ahead right now with GTWVG.
In fact it would be a very good experience, since
we could better see the obstacles and point where
we need to concentrate on, and how to get the best
amalgamation of different windowing needs.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Jun 29 13:21:09 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jun 29 13:22:01 2008
Subject: R: Re: R: Re: [Harbour] Group opinion on RC2 from RC1 or main
	branch?
In-Reply-To: <000101c8d973$6558c70c$0400a8c0@deltain.net>
References: <000101c8d973$6558c70c$0400a8c0@deltain.net>
Message-ID: <134815E3-912C-4975-BA29-340BF77BB812@syenar.hu>

Early next week (Mon-Wed).

On 2008.06.29., at 1:04, Massimo Belgrano wrote:

> Very thank for all info
> Confirmed the rc2 days?
>
> ----- Messaggio originale -----
> Da: Szak?ts Viktor <harbour.01@syenar.hu>
> Inviato: sabato 28 giugno 2008 23.19
> A: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Oggetto: Re: R: Re: [Harbour] Group opinion on RC2 from RC1 or main  
> branch?
>
> No. Only after release 1.0.
>
> Notice however, that this could technically be
> implemented completely outside the core, say,
> for example in GTWVG. Later on we can move some
> logic to core, when we see and agree on what we
> really need and want.
>
> Brgds,
> Viktor
>
> On 2008.06.28., at 21:39, Massimo Belgrano wrote:
>
>> What about pritpal modification for multiple windows gt?
>> Can be part of rc2
>>
>> ----- Messaggio originale -----
>> Da: Szak?ts Viktor <harbour.01@syenar.hu>
>> Inviato: mercoled? 25 giugno 2008 7.51
>> A: Harbour Project Main Developer List. <harbour@harbour-project.org>
>> Oggetto: Re: [Harbour] Group opinion on RC2 from RC1 or main branch?
>>
>> Hi Phil,
>>
>> Yes ASAP, but IMO we should wait for Przemek to
>> review latest changes and do tests on Linux.
>>
>> So I think next Monday / early next week could
>> be the RC2-day.
>>
>> Brgds,
>> Viktor
>>
>> On 2008.06.25., at 1:18, Phil Barnett wrote:
>>
>>> On Tuesday 24 June 2008 12:10:19 pm Szak?ts Viktor wrote:
>>>> Sorry Phil, I'm not sure I understand you, you
>>>> said 'No' first, but here you seem to agree with
>>>> my same, but more detailed proposal (also agreed
>>>> on by those commenting).
>>>>
>>>> Can we move forward into this direction?
>>>
>>> Yes, that's fine.
>>>
>>> Do you want to mark RC2?
>>>
>>> -- 
>>> Waiting for sunspots.
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Sun Jun 29 13:28:05 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Jun 29 13:28:12 2008
Subject: R: Re: R: Re: [Harbour] Group opinion on RC2 from RC1 or
	mainbranch?
In-Reply-To: <134815E3-912C-4975-BA29-340BF77BB812@syenar.hu>
References: <000101c8d973$6558c70c$0400a8c0@deltain.net>
	<134815E3-912C-4975-BA29-340BF77BB812@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EDB6@SRV02.deltain.net>

How can i get rc2 witch toroisesvn?

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Sunday, June 29, 2008 7:21 PM
To: Harbour Project Main Developer List.
Subject: Re: R: Re: R: Re: [Harbour] Group opinion on RC2 from RC1 or mainbranch?

Early next week (Mon-Wed).

On 2008.06.29., at 1:04, Massimo Belgrano wrote:

> Very thank for all info
> Confirmed the rc2 days?
>
> ----- Messaggio originale -----
> Da: Szak?ts Viktor <harbour.01@syenar.hu>
> Inviato: sabato 28 giugno 2008 23.19
> A: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Oggetto: Re: R: Re: [Harbour] Group opinion on RC2 from RC1 or main  
> branch?
>
> No. Only after release 1.0.
>
> Notice however, that this could technically be
> implemented completely outside the core, say,
> for example in GTWVG. Later on we can move some
> logic to core, when we see and agree on what we
> really need and want.
>
> Brgds,
> Viktor
>
> On 2008.06.28., at 21:39, Massimo Belgrano wrote:
>
>> What about pritpal modification for multiple windows gt?
>> Can be part of rc2
>>
>> ----- Messaggio originale -----
>> Da: Szak?ts Viktor <harbour.01@syenar.hu>
>> Inviato: mercoled? 25 giugno 2008 7.51
>> A: Harbour Project Main Developer List. <harbour@harbour-project.org>
>> Oggetto: Re: [Harbour] Group opinion on RC2 from RC1 or main branch?
>>
>> Hi Phil,
>>
>> Yes ASAP, but IMO we should wait for Przemek to
>> review latest changes and do tests on Linux.
>>
>> So I think next Monday / early next week could
>> be the RC2-day.
>>
>> Brgds,
>> Viktor
>>
>> On 2008.06.25., at 1:18, Phil Barnett wrote:
>>
>>> On Tuesday 24 June 2008 12:10:19 pm Szak?ts Viktor wrote:
>>>> Sorry Phil, I'm not sure I understand you, you
>>>> said 'No' first, but here you seem to agree with
>>>> my same, but more detailed proposal (also agreed
>>>> on by those commenting).
>>>>
>>>> Can we move forward into this direction?
>>>
>>> Yes, that's fine.
>>>
>>> Do you want to mark RC2?
>>>
>>> -- 
>>> Waiting for sunspots.
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From antonioharbour at gmail.com  Mon Jun 30 01:41:43 2008
From: antonioharbour at gmail.com (Antonio Linares)
Date: Mon Jun 30 01:41:46 2008
Subject: R: Re: R: Re: [Harbour] Group opinion on RC2 from RC1 or main
	branch?
In-Reply-To: <000101c8d973$6558c70c$0400a8c0@deltain.net>
References: <000101c8d973$6558c70c$0400a8c0@deltain.net>
Message-ID: <9471afc80806292241r14ebc06ai4959e0799db5bfdf@mail.gmail.com>

If all Harbour RDDs are named now rdd... (rddntx.lib, rddcdx.lib,
rddfpt.lib, rddado.lib), shouldn't we use rddusr.lib instead of
current hbusrrdd.lib name ?

Thanks,
From harbour.01 at syenar.hu  Mon Jun 30 02:49:16 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 02:50:10 2008
Subject: R: Re: R: Re: [Harbour] Group opinion on RC2 from RC1 or main
	branch?
In-Reply-To: <9471afc80806292241r14ebc06ai4959e0799db5bfdf@mail.gmail.com>
References: <000101c8d973$6558c70c$0400a8c0@deltain.net>
	<9471afc80806292241r14ebc06ai4959e0799db5bfdf@mail.gmail.com>
Message-ID: <237FE81B-ACC2-431B-A3F6-CC4E9AF7D16D@syenar.hu>

Hi Antonio,

IMO no, because usrrdd is not a standalone RDD,
but rather the infrastructure (API) for standalone
RDDs. IOW if you link in usrrdd to an app, you
won't get a ready-to-use RDD.

Brgds,
Viktor

On 2008.06.30., at 7:41, Antonio Linares wrote:

> If all Harbour RDDs are named now rdd... (rddntx.lib, rddcdx.lib,
> rddfpt.lib, rddado.lib), shouldn't we use rddusr.lib instead of
> current hbusrrdd.lib name ?
>
> Thanks,
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From miguelangel at marchuet.net  Mon Jun 30 03:53:11 2008
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Mon Jun 30 03:48:50 2008
Subject: [Harbour] OT - E-Mail Address Verification
In-Reply-To: <18143143.post@talk.nabble.com>
References: <18143143.post@talk.nabble.com>
Message-ID: <486890E7.1090507@marchuet.net>

I use the next function:

////////////////////////////////////////////////////////////////////////////////////////////////
   //
   // Function    : tep_validate_email
   //
   // Arguments   : email   email address to be checked
   //
   // Return      : true  - valid email address
   //               false - invalid email address
   //
   // Description : function for validating email address that conforms to RFC 822 specs
   //
   //               This function is converted from a JavaScript written by
   //               Sandeep V. Tamhankar (stamhankar@hotmail.com). The original JavaScript
   //               is available at http://javascript.internet.com
   //
   // Sample Valid Addresses:
   //
   //    first.last@host.com
   //    firstlast@host.to
   //    "first last"@host.com
   //    "first@last"@host.com
   //    first-last@host.com
   //    first.last@[123.123.123.123]
   //
   // Invalid Addresses:
   //
   //    first last@host.com
   //
   //
   ////////////////////////////////////////////////////////////////////////////////////////////////
   function tep_validate_email($email) {
     $valid_address = true;

     $mail_pat = '^(.+)@(.+)$';
     $valid_chars = "[^] \(\)<>@,;:\.\\\"\[]";
     $atom = "$valid_chars+";
     $quoted_user='(\"[^\"]*\")';
     $word = "($atom|$quoted_user)";
     $user_pat = "^$word(\.$word)*$";
     $ip_domain_pat='^\[([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\]$';
     $domain_pat = "^$atom(\.$atom)*$";

     if (eregi($mail_pat, $email, $components)) {
       $user = $components[1];
       $domain = $components[2];
       // validate user
       if (eregi($user_pat, $user)) {
         // validate domain
         if (eregi($ip_domain_pat, $domain, $ip_components)) {
           // this is an IP address
       	  for ($i=1;$i<=4;$i++) {
       	    if ($ip_components[$i] > 255) {
       	      $valid_address = false;
       	      break;
       	    }
           }
         }
         else {
           // Domain is a name, not an IP
           if (eregi($domain_pat, $domain)) {
             /* domain name seems valid, but now make sure that it ends in a valid TLD or ccTLD
                and that there's a hostname preceding the domain or country. */
             $domain_components = explode(".", $domain);
             // Make sure there's a host name preceding the domain.
             if (sizeof($domain_components) < 2) {
               $valid_address = false;
             } else {
               $top_level_domain = strtolower($domain_components[sizeof($domain_components)-1]);
               // Allow all 2-letter TLDs (ccTLDs)
               if (eregi('^[a-z][a-z]$', $top_level_domain) != 1) {
                 $tld_pattern = '';
                 // Get authorized TLDs from text file
                 $tlds = file(DIR_WS_INCLUDES . 'tld.txt');
                 while (list(,$line) = each($tlds)) {
                   // Get rid of comments
                   $words = explode('#', $line);
                   $tld = trim($words[0]);
                   // TLDs should be 3 letters or more
                   if (eregi('^[a-z]{3,}$', $tld) == 1) {
                     $tld_pattern .= '^' . $tld . '$|';
                   }
                 }
                 // Remove last '|'
                 $tld_pattern = substr($tld_pattern, 0, -1);
                 if (eregi("$tld_pattern", $top_level_domain) == 0) {
                     $valid_address = false;
                 }
               }
             }
           }
           else {
       	    $valid_address = false;
       	  }
       	}
       }
       else {
         $valid_address = false;
       }
     }
     else {
       $valid_address = false;
     }
     if ($valid_address && ENTRY_EMAIL_ADDRESS_CHECK == 'true') {
       if (!checkdnsrr($domain, "MX") && !checkdnsrr($domain, "A")) {
         $valid_address = false;
       }
     }
     return $valid_address;
   }
From harbour.01 at syenar.hu  Mon Jun 30 04:25:56 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 04:26:03 2008
Subject: [Harbour] 2008-06-30 10:08 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8da8a$Blat.v2.6.2$eb202f9a$1c707359354e@127.0.0.1>

2008-06-30 10:08 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/gtwvg/Makefile
   * contrib/hbapollo/Makefile
   * contrib/hbbtree/Makefile
   * contrib/hbclipsm/Makefile
   * contrib/hbct/Makefile
   * contrib/hbfbird/Makefile
   * contrib/hbfimage/Makefile
   * contrib/hbgd/Makefile
   * contrib/hbhpdf/Makefile
   * contrib/hbmisc/Makefile
   * contrib/hbmsql/Makefile
   * contrib/hbmysql/Makefile
   * contrib/hbmzip/Makefile
   * contrib/hbnf/Makefile
   * contrib/hbodbc/Makefile
   * contrib/hbpgsql/Makefile
   * contrib/hbsqlit2/Makefile
   * contrib/hbsqlit3/Makefile
   * contrib/hbtip/Makefile
   * contrib/hbtpathy/Makefile
   * contrib/hbvpdf/Makefile
   * contrib/hbw32/Makefile
   * contrib/hbw32ddr/Makefile
   * contrib/hbwhat32/Makefile
   * contrib/rddado/Makefile
   * contrib/rddads/Makefile
     ! CFLAGS -> C_USR
     * var = var + x -> var += x
     ! Added header install rules for all places where such 
       headers are defined. I wonder why isn't this the default 
       in our GNU-make system.
     * few other minor cleanups.

   * contrib/rddads/Makefile
     * Experimenting with HB_INC_ADS implementation in GNU-make system.
       HB_INC_ADS can now used to enable to rddads builds.
       In GNU-make HB_INC_ADS can contain a list of possible places 
       where headers may be found. GNU-make will validate these and 
       if the headers were found in any of these places, rddads will 
       be built. For Linux there are some default dirs which will 
       always be checked.
       'HB_WITHOUT_ADS' and 'ACE_DIRS' is not longer used.
     ; Please test. If this works out okay, we can use this method 
       for the rest of 3rd party dependent contribs.

   * contrib/rddads/Makefile
     % Don't define WIN32 in GNU-makefiles for w32.

   * contrib/hbmisc/Makefile
     ! Don't include non-existing 'test' dir in make.

   * contrib/gtwvg/Makefile
   * contrib/gtwvg/common.mak
     ! Not installing private .h file to common include dir.

   * contrib/hbw32ddr/w32_ddrw.cpp
     ! Fixed one GCC warning. (Some remain)
--
Brgds,
Viktor

From mbelgrano at deltain.it  Mon Jun 30 04:57:05 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun 30 04:59:01 2008
Subject: R: [Harbour] 2008-06-30 10:08 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
References: <01c8da8a$Blat.v2.6.2$eb202f9a$1c707359354e@127.0.0.1>
Message-ID: <AFB948164110ED43B5EB849E8DEEF0380375F9@SRV02.deltain.net>

He victor 
How are build all this makefile?

Massimo Belgrano
-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org per conto di Szak?ts Viktor
2008-06-30 10:08 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/gtwvg/Makefile
   * contrib/hbapollo/Makefile
   * contrib/hbbtree/Makefile
   * contrib/hbclipsm/Makefile
   * contrib/hbct/Makefile
   * contrib/hbfbird/Makefile
   * contrib/hbfimage/Makefile
   * contrib/hbgd/Makefile
   * contrib/hbhpdf/Makefile
   * contrib/hbmisc/Makefile
   * contrib/hbmsql/Makefile
   * contrib/hbmysql/Makefile
   * contrib/hbmzip/Makefile
   * contrib/hbnf/Makefile
   * contrib/hbodbc/Makefile
   * contrib/hbpgsql/Makefile
   * contrib/hbsqlit2/Makefile
   * contrib/hbsqlit3/Makefile
   * contrib/hbtip/Makefile
   * contrib/hbtpathy/Makefile
   * contrib/hbvpdf/Makefile
   * contrib/hbw32/Makefile
   * contrib/hbw32ddr/Makefile
   * contrib/hbwhat32/Makefile
   * contrib/rddado/Makefile
   * contrib/rddads/Makefile
   * contrib/rddads/Makefile
   * contrib/rddads/Makefile
   * contrib/hbmisc/Makefile
   * contrib/gtwvg/Makefile
Viktor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 2976 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080630/786a286e/attachment.bin
From harbour.01 at syenar.hu  Mon Jun 30 05:29:07 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 05:29:24 2008
Subject: [Harbour] 2008-06-30 11:16 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8da93$Blat.v2.6.2$beba7ec0$1d207847511c@127.0.0.1>

2008-06-30 11:16 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbapi.h
   * source/rtl/set.c
   * source/vm/fm.c
     ! Fixed _SET_HBOUTLOG, _SET_HBOUTLOGINFO handling in fm.c.
       hb_setget*() functions cannot be used here as the set 
       system is deinited at this point. So local buffers are 
       holding the values.
--
Brgds,
Viktor

From mbelgrano at deltain.it  Mon Jun 30 06:01:06 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun 30 06:05:10 2008
Subject: [Harbour] Fure of  MemoEdit is now?
References: <14554190.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF0380375FC@SRV02.deltain.net>

Hi Pritpal 
In sample i read
"you can expect cut/copy/past, search/replace in near future"
so the question is have you ready this?

Massimo Belgrano




-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org per conto di Pritpal Bedi
Inviato: lun 31/12/2007 5.23
A: harbour@harbour-project.org
Oggetto: [Harbour] Multi-Window GT - III - MemoEdit()
 

Hello Everybody

Please review MemoEdit() implementation for Multi-Window GT.

Executable :   http://www.nabble.com/file/p14554190/MultiWVT.zip
MultiWVT.zip  
Exe Source:   http://www.nabble.com/file/p14554190/MultiWVT.prg MultiWVT.prg 
Memoedit.prg:   http://www.nabble.com/file/p14554190/memoedit.prg
memoedit.prg 
Teditor.prg:   http://www.nabble.com/file/p14554190/teditor.prg teditor.prg 

MemoEdit() needs to be fixed a little to be exactly compatible with Clipper.
Please note that for Multi-Window protocol I have to do away with Do While
loop to process user input, instead I am returning fully configured MemoEdit
object which is processed by window events. This is the only difference. For
the time being I have kept out "user function" functionality and hopefully
it will be ready by next weekend. 

Just play with the editor, click anywhere on memo text, resize, maximize,
etc.

Regards
Pritpal Bedi, INDIA-USA
-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---III---MemoEdit%28%29-tp14554190p14554190.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 3318 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080630/8ce3a624/attachment.bin
From lorenzo.fiorini at gmail.com  Mon Jun 30 06:37:35 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Jun 30 06:37:39 2008
Subject: [Harbour] hbint.c build error under Linux
Message-ID: <9257026e0806300337m31d2c81dqfd8356b10b65ac2e@mail.gmail.com>

After

2008-06-27 17:13 UTC+0100 Miguel Angel Marchuet <miguelangel@marchuet.net>
  * contrib/hbtip/client.prg
  * contrib/hbtip/ftpcln.prg
  * contrib/hbtip/httpcln.prg
  * contrib/hbtip/mail.prg
  * contrib/hbtip/sendmail.prg
    + Added methods setget to interrogate buffer size send/recive
	   METHOD InetRcvBufSize( SocketCon, nSizeBuff )
	   METHOD InetSndBufSize( SocketCon, nSizeBuff )
    + Added data members to assign default buffer sizes
	   DATA nDefaultRcvBuffSize
	   DATA nDefaultSndBuffSize
    + Asigned default buffer size to 64kb only for FTP transfer,
previous to open sockets
           ::nDefaultSndBuffSize := 65536
           ::nDefaultRcvBuffSize := 65536
    * Fixed port ftp protocol.
  * source/rtl/hbinet.c
    * now works with default system buffer, for example 8kb at W2000.
instead of harcoded 1400

I get:

../../hbinet.c: In function 'hb_socketConnect':
../../hbinet.c:475: error: 'SOCKET_ERROR' undeclared (first use in
this function)
../../hbinet.c:475: error: (Each undeclared identifier is reported only once
../../hbinet.c:475: error: for each function it appears in.)

Changes in inet* core functions should be done carefully and well tested.
There are many smtp,pop,ftp,* servers outside.
How many tests have been done on server/client platforms beside W2000.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Mon Jun 30 06:37:54 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 06:38:46 2008
Subject: R: [Harbour] 2008-06-30 10:08 UTC+0200 Viktor Szakats
	(harbour.01syenar hu)
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF0380375F9@SRV02.deltain.net>
References: <01c8da8a$Blat.v2.6.2$eb202f9a$1c707359354e@127.0.0.1>
	<AFB948164110ED43B5EB849E8DEEF0380375F9@SRV02.deltain.net>
Message-ID: <B870644D-D701-4341-9D62-7888782DB12A@syenar.hu>

Hi Massimo,

These belong to the GNU make system.
Start make_gnu.bat to use it (under Windows).

Brgds,
Viktor

On 2008.06.30., at 10:57, Massimo Belgrano wrote:

> He victor
> How are build all this makefile?
>
> Massimo Belgrano
> -----Messaggio originale-----
> Da: harbour-bounces@harbour-project.org per conto di Szak?ts Viktor
> 2008-06-30 10:08 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>   * contrib/gtwvg/Makefile
>   * contrib/hbapollo/Makefile
>   * contrib/hbbtree/Makefile
>   * contrib/hbclipsm/Makefile
>   * contrib/hbct/Makefile
>   * contrib/hbfbird/Makefile
>   * contrib/hbfimage/Makefile
>   * contrib/hbgd/Makefile
>   * contrib/hbhpdf/Makefile
>   * contrib/hbmisc/Makefile
>   * contrib/hbmsql/Makefile
>   * contrib/hbmysql/Makefile
>   * contrib/hbmzip/Makefile
>   * contrib/hbnf/Makefile
>   * contrib/hbodbc/Makefile
>   * contrib/hbpgsql/Makefile
>   * contrib/hbsqlit2/Makefile
>   * contrib/hbsqlit3/Makefile
>   * contrib/hbtip/Makefile
>   * contrib/hbtpathy/Makefile
>   * contrib/hbvpdf/Makefile
>   * contrib/hbw32/Makefile
>   * contrib/hbw32ddr/Makefile
>   * contrib/hbwhat32/Makefile
>   * contrib/rddado/Makefile
>   * contrib/rddads/Makefile
>   * contrib/rddads/Makefile
>   * contrib/rddads/Makefile
>   * contrib/hbmisc/Makefile
>   * contrib/gtwvg/Makefile
> Viktor
>
> <winmail.dat>

From harbour.01 at syenar.hu  Mon Jun 30 07:29:29 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 07:29:31 2008
Subject: [Harbour] 2008-06-30 13:18 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8daa4$Blat.v2.6.2$8f5916b2$184023481958@127.0.0.1>

2008-06-30 13:18 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbapollo/Makefile
   * contrib/hbcurl/Makefile
   * contrib/hbfbird/Makefile
   * contrib/hbfimage/Makefile
   * contrib/hbgd/Makefile
   * contrib/hbhpdf/Makefile
   * contrib/hbmysql/Makefile
   * contrib/hbpgsql/Makefile
   * contrib/rddads/Makefile
     + Now possible to specify external header location using 
       the HB_INC_* envars (similar to the ones used in non-GNU 
       makefiles). In GNU make, multiple dirs can be specified, 
       and the make system will always autodetect whether the 
       headers are really there. If not, the build process will 
       be skipped for that contrib.
       Additionally in Linux, the HB_INC_* vars will be inited 
       with a default, if not specified by the builder. These 
       default should be verified by Linux users and extended/fixed 
       accordingly. Most of them were already initialized for 
       Linux, so there should be no big surprises here.

   * contrib/hbmysql/make_b32.bat
   * contrib/hbmysql/make_vc.bat
     + Synced C options with GNU make. (-DBIG_JOINS=1 added)

   * contrib/hbmysql/make_vc.bat
     - Removed -D__WIN32__. Now it seems to work without it.

   * contrib/hbcurl/make_gcc.sh
     ! Fixed example dir in comment.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun 30 07:34:50 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 07:34:56 2008
Subject: [Harbour] 2008-06-30 13:33 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8daa5$Blat.v2.6.2$4ea1e170$1284e8d75bb0@127.0.0.1>

2008-06-30 13:33 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbmysql/make_b32.bat
   * contrib/hbmysql/make_vc.bat
   * contrib/hbmysql/Makefile
     - Removed -DBIG_JOINS. If someone needs this, it can be 
       specified via C_USR, but to me it seem this is a MySQL 
       build-time switch, and it has no effect for interface 
       code.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Mon Jun 30 08:27:16 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun 30 08:27:22 2008
Subject: [Harbour] WIN64: ULONG not equal to size_t
In-Reply-To: <0982D0B9-092E-4B4B-82A2-BE4304F99C51@syenar.hu>
References: <0982D0B9-092E-4B4B-82A2-BE4304F99C51@syenar.hu>
Message-ID: <20080630122716.GA5615@34-mo7-2.acn.waw.pl>

On Sat, 28 Jun 2008, Szak?ts Viktor wrote:

Hi VIktor,

Sorry for late response, I was out of city during weekend.

> What to do with hundreds of warnings like in subject,
> when compiled in _WIN64 mode? Any practices to avoid it?

>From the beginning Harbour uses ULONG as string and array
indexes. In POSIX system 'long' should be big enough to
store pointer so it's not a problem but WIN64 does not respect
it and LONG is 32bit integer. It causes limitation on maximum
string and array size in WIN64. Probably in the future we should
intorduce separated type for indexes which will be platform dependent.
It should be signed integer to avoid problems we have now with
negative values in some string/array manipulation functions.
Anyhow I do not think we should make this modifications now because
it will affect too much of code.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Jun 30 08:48:17 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 08:48:17 2008
Subject: [Harbour] 2008-06-30 14:46 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8daaf$Blat.v2.6.2$916fddfe$116ce93334dc@127.0.0.1>

2008-06-30 14:46 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * include/hbextern.ch
     + New inet functions added.

   * source/rtl/hbinet.c
     ! Blind fix for Linux compile error.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun 30 09:01:54 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 09:02:46 2008
Subject: [Harbour] hbint.c build error under Linux
In-Reply-To: <9257026e0806300337m31d2c81dqfd8356b10b65ac2e@mail.gmail.com>
References: <9257026e0806300337m31d2c81dqfd8356b10b65ac2e@mail.gmail.com>
Message-ID: <C01D8289-1797-4456-B9BE-3CDC2F84AA61@syenar.hu>

Hi Lorenzo,

Can you check now?

Brgds,
Viktor

On 2008.06.30., at 12:37, Lorenzo Fiorini wrote:

> After
>
> 2008-06-27 17:13 UTC+0100 Miguel Angel Marchuet <miguelangel@marchuet.net 
> >
>  * contrib/hbtip/client.prg
>  * contrib/hbtip/ftpcln.prg
>  * contrib/hbtip/httpcln.prg
>  * contrib/hbtip/mail.prg
>  * contrib/hbtip/sendmail.prg
>    + Added methods setget to interrogate buffer size send/recive
> 	   METHOD InetRcvBufSize( SocketCon, nSizeBuff )
> 	   METHOD InetSndBufSize( SocketCon, nSizeBuff )
>    + Added data members to assign default buffer sizes
> 	   DATA nDefaultRcvBuffSize
> 	   DATA nDefaultSndBuffSize
>    + Asigned default buffer size to 64kb only for FTP transfer,
> previous to open sockets
>           ::nDefaultSndBuffSize := 65536
>           ::nDefaultRcvBuffSize := 65536
>    * Fixed port ftp protocol.
>  * source/rtl/hbinet.c
>    * now works with default system buffer, for example 8kb at W2000.
> instead of harcoded 1400
>
> I get:
>
> ../../hbinet.c: In function 'hb_socketConnect':
> ../../hbinet.c:475: error: 'SOCKET_ERROR' undeclared (first use in
> this function)
> ../../hbinet.c:475: error: (Each undeclared identifier is reported  
> only once
> ../../hbinet.c:475: error: for each function it appears in.)
>
> Changes in inet* core functions should be done carefully and well  
> tested.
> There are many smtp,pop,ftp,* servers outside.
> How many tests have been done on server/client platforms beside W2000.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From tomaz.zupan at orpo.si  Mon Jun 30 09:09:07 2008
From: tomaz.zupan at orpo.si (=?utf-8?q?Toma=C5=BE_Zupan?=)
Date: Mon Jun 30 09:09:14 2008
Subject: [Harbour] make_rpm.sh not successful
Message-ID: <200806301509.07713.tomaz.zupan@orpo.si>

With current svn rpms doesn't build successfuly.

Lp, Toma?

RPM build errors:
    File not 
found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/libhbnf.a
    File not 
found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/libhbbtree.a
    File not 
found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/libhbmisc.a
    File not 
found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/libhbmzip.a
    File not 
found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/libhbct.a
    File not 
found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/libhbtip.a
    File not 
found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/libxhb.a
    File not 
found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/libhbvpdf.a
    File not 
found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/libhbgt.a
    File not 
found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/libhbbmcdx.a
    File not 
found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/libhbclipsm.a
From harbour.01 at syenar.hu  Mon Jun 30 09:18:56 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 09:19:49 2008
Subject: [Harbour] make_rpm.sh not successful
In-Reply-To: <200806301509.07713.tomaz.zupan@orpo.si>
References: <200806301509.07713.tomaz.zupan@orpo.si>
Message-ID: <5848A10E-5818-4EA4-A55C-076ABEFAF7EF@syenar.hu>

Any more pointers (like build std/err log)? I can't
see any trends in this list, which could help trace
these back to any recent modifications.

libhbmisc.a is the simplest lib without any Makefile
tricks, so I wonder how could it fail like this.

Brgds,
Viktor

On 2008.06.30., at 15:09, Toma? Zupan wrote:

> With current svn rpms doesn't build successfuly.
>
> Lp, Toma?
>
> RPM build errors:
>    File not
> found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/ 
> libhbnf.a
>    File not
> found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/ 
> libhbbtree.a
>    File not
> found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/ 
> libhbmisc.a
>    File not
> found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/ 
> libhbmzip.a
>    File not
> found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/ 
> libhbct.a
>    File not
> found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/ 
> libhbtip.a
>    File not
> found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/ 
> libxhb.a
>    File not
> found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/ 
> libhbvpdf.a
>    File not
> found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/ 
> libhbgt.a
>    File not
> found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/ 
> libhbbmcdx.a
>    File not
> found: /var/tmp/harbour-1.0.0-RC1mdv20080-buildroot/usr/lib/harbour/ 
> libhbclipsm.a
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Mon Jun 30 09:38:51 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Jun 30 09:38:56 2008
Subject: [Harbour] hbint.c build error under Linux
In-Reply-To: <C01D8289-1797-4456-B9BE-3CDC2F84AA61@syenar.hu>
References: <9257026e0806300337m31d2c81dqfd8356b10b65ac2e@mail.gmail.com>
	<C01D8289-1797-4456-B9BE-3CDC2F84AA61@syenar.hu>
Message-ID: <9257026e0806300638y6d537648lbee79a203d33be83@mail.gmail.com>

On Mon, Jun 30, 2008 at 3:01 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Can you check now?

Of course it builds now, but I'm wondering if the changes have been
tested enough.

I'm using the tip tests that you've ported to check the various
protocols and so far I've found that the ftp client is broken ( BTW
there is a cFile[1] == "+" left in tiptest.prg ).

The main problem I saw so far is that many RETURN NIL have been
changed with RETURN .T. or .F. but in the caller still check of cData
== NIL and so Len( cData ) fails with a RT.

I'll do a full report at the end of the tests.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Mon Jun 30 09:39:58 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 09:40:52 2008
Subject: [Harbour] WIN64: ULONG not equal to size_t
In-Reply-To: <20080630122716.GA5615@34-mo7-2.acn.waw.pl>
References: <0982D0B9-092E-4B4B-82A2-BE4304F99C51@syenar.hu>
	<20080630122716.GA5615@34-mo7-2.acn.waw.pl>
Message-ID: <A8F254D8-D6A2-487E-9083-0D956661DEDA@syenar.hu>

Thanks Przemek.

I agree to leave this after 1.0.

(although we could lay the ground anytime, by introducing
the new necessary types)

Brgds,
Viktor

On 2008.06.30., at 14:27, Przemyslaw Czerpak wrote:

> On Sat, 28 Jun 2008, Szak?ts Viktor wrote:
>
> Hi VIktor,
>
> Sorry for late response, I was out of city during weekend.
>
>> What to do with hundreds of warnings like in subject,
>> when compiled in _WIN64 mode? Any practices to avoid it?
>
>> From the beginning Harbour uses ULONG as string and array
> indexes. In POSIX system 'long' should be big enough to
> store pointer so it's not a problem but WIN64 does not respect
> it and LONG is 32bit integer. It causes limitation on maximum
> string and array size in WIN64. Probably in the future we should
> intorduce separated type for indexes which will be platform dependent.
> It should be signed integer to avoid problems we have now with
> negative values in some string/array manipulation functions.
> Anyhow I do not think we should make this modifications now because
> it will affect too much of code.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Jun 30 09:48:58 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 09:49:51 2008
Subject: [Harbour] hbint.c build error under Linux
In-Reply-To: <9257026e0806300638y6d537648lbee79a203d33be83@mail.gmail.com>
References: <9257026e0806300337m31d2c81dqfd8356b10b65ac2e@mail.gmail.com>
	<C01D8289-1797-4456-B9BE-3CDC2F84AA61@syenar.hu>
	<9257026e0806300638y6d537648lbee79a203d33be83@mail.gmail.com>
Message-ID: <36E49224-047B-4B17-99DA-46C193100386@syenar.hu>

>> Can you check now?
>
> Of course it builds now, but I'm wondering if the changes have been
> tested enough.

I have no idea, but if you could do some tests it would be great.

AFAICS behaviour shouldn't have changed if you don't mess with the
new manual buffer settings.

> I'm using the tip tests that you've ported to check the various
> protocols and so far I've found that the ftp client is broken ( BTW
> there is a cFile[1] == "+" left in tiptest.prg ).

Thanks, I'll change this.

> The main problem I saw so far is that many RETURN NIL have been
> changed with RETURN .T. or .F. but in the caller still check of cData
> == NIL and so Len( cData ) fails with a RT.

Where and when did this happen?

> I'll do a full report at the end of the tests.

Thanks.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Jun 30 09:55:28 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun 30 09:55:33 2008
Subject: [Harbour] make_rpm.sh not successful
In-Reply-To: <5848A10E-5818-4EA4-A55C-076ABEFAF7EF@syenar.hu>
References: <200806301509.07713.tomaz.zupan@orpo.si>
	<5848A10E-5818-4EA4-A55C-076ABEFAF7EF@syenar.hu>
Message-ID: <20080630135528.GA5829@34-mo7-2.acn.waw.pl>

On Mon, 30 Jun 2008, Szak?ts Viktor wrote:

Hi Viktor,

> Any more pointers (like build std/err log)? I can't
> see any trends in this list, which could help trace
> these back to any recent modifications.
> libhbmisc.a is the simplest lib without any Makefile
> tricks, so I wonder how could it fail like this.

The modifications in contrib make files completely broke
RPM creation process and now it has to be changed. I'll
try to look at it and maybe I'll be able to fix it.
Anyhow some of recent modifications will make this process
harder. Please note that moving build conditions into
separate Makefile(s) in contrib tree makes this process
harder. It also seriously interacts with cross builds.
Don't also forget that most of libraries which can be
compiled in Linux can also be ported to other *nixes
(BSD, MacOSX, SunOS, HPUX, AIX, ...) and most of statements
like:
   ifeq ($(HB_ARCHITECTURE),linux)
should be updated for this systems, too.
These modification also make adding autoconf support much
harder because now I will have to add support for it into
each library. It will be much easier to check dependences
and create contrib library list in one place instead of
updating each library.

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Mon Jun 30 09:55:55 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Jun 30 09:56:00 2008
Subject: [Harbour] 2008-06-30 13:18 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8daa4$Blat.v2.6.2$8f5916b2$184023481958@127.0.0.1>
References: <01c8daa4$Blat.v2.6.2$8f5916b2$184023481958@127.0.0.1>
Message-ID: <9257026e0806300655q6cae5180m7a818df89be09759@mail.gmail.com>

On Mon, Jun 30, 2008 at 1:29 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:
> 2008-06-30 13:18 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>   * contrib/hbapollo/Makefile
...

the "problem" I still see is that we need not only the INCLUDE path
but also the LIB path expecially under Windows mingw.

Under *nix all the libs are are in the /usr/lib but under Windows we
cannot count on it.
So if we take gnuwin32 as a reference, we would need to define the
"prefix" sth like c:\gnu\pgsql and use c:\gnu\pgsql\include in C_USR
+= -I... and c:\gnu\pgsql\lib in the hb-func.sh so that hbmk can
create an executable that uses pgsql.

Also we have other architectures f.e. darwin so adding default paths
only for linux inside the single Makefiles is not enough.

best regards,
Lorenzo
From miguelangel at marchuet.net  Mon Jun 30 10:34:19 2008
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Mon Jun 30 10:30:05 2008
Subject: [Harbour] hbint.c build error under Linux
In-Reply-To: <9257026e0806300337m31d2c81dqfd8356b10b65ac2e@mail.gmail.com>
References: <9257026e0806300337m31d2c81dqfd8356b10b65ac2e@mail.gmail.com>
Message-ID: <4868EEEB.10306@marchuet.net>

It has more than 6 months running OK over windows platform.
Increasing more than 50% speed. Now we are using half default system buffer size.

We only use the half for security. at windows platforms this buffer is 8kb or lower
then we use 4kb instead of 1kb. Some times when low memory system, the default can
be lower than 1kb, then the old code simply crashes (GPF).

The default transfer buffer is stablished to 64kb to increase speed, in the same way as work
CuteFTP and other's.

I can't test it over linux.

Best regards,
Miguel Angel Marchuet

Lorenzo Fiorini escribi?:
> After
> 
> 2008-06-27 17:13 UTC+0100 Miguel Angel Marchuet <miguelangel@marchuet.net>
>   * contrib/hbtip/client.prg
>   * contrib/hbtip/ftpcln.prg
>   * contrib/hbtip/httpcln.prg
>   * contrib/hbtip/mail.prg
>   * contrib/hbtip/sendmail.prg
>     + Added methods setget to interrogate buffer size send/recive
> 	   METHOD InetRcvBufSize( SocketCon, nSizeBuff )
> 	   METHOD InetSndBufSize( SocketCon, nSizeBuff )
>     + Added data members to assign default buffer sizes
> 	   DATA nDefaultRcvBuffSize
> 	   DATA nDefaultSndBuffSize
>     + Asigned default buffer size to 64kb only for FTP transfer,
> previous to open sockets
>            ::nDefaultSndBuffSize := 65536
>            ::nDefaultRcvBuffSize := 65536
>     * Fixed port ftp protocol.
>   * source/rtl/hbinet.c
>     * now works with default system buffer, for example 8kb at W2000.
> instead of harcoded 1400
> 
> I get:
> 
> ../../hbinet.c: In function 'hb_socketConnect':
> ../../hbinet.c:475: error: 'SOCKET_ERROR' undeclared (first use in
> this function)
> ../../hbinet.c:475: error: (Each undeclared identifier is reported only once
> ../../hbinet.c:475: error: for each function it appears in.)
> 
> Changes in inet* core functions should be done carefully and well tested.
> There are many smtp,pop,ftp,* servers outside.
> How many tests have been done on server/client platforms beside W2000.
> 
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From harbour.01 at syenar.hu  Mon Jun 30 10:29:15 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 10:30:26 2008
Subject: [Harbour] make_rpm.sh not successful
In-Reply-To: <20080630135528.GA5829@34-mo7-2.acn.waw.pl>
References: <200806301509.07713.tomaz.zupan@orpo.si>
	<5848A10E-5818-4EA4-A55C-076ABEFAF7EF@syenar.hu>
	<20080630135528.GA5829@34-mo7-2.acn.waw.pl>
Message-ID: <DD1BA536-B53B-4E11-82AF-1C47875D4C29@syenar.hu>

Hi Przemek,

>>
>> Any more pointers (like build std/err log)? I can't
>> see any trends in this list, which could help trace
>> these back to any recent modifications.
>> libhbmisc.a is the simplest lib without any Makefile
>> tricks, so I wonder how could it fail like this.
>
> The modifications in contrib make files completely broke
> RPM creation process and now it has to be changed. I'll
> try to look at it and maybe I'll be able to fix it.
> Anyhow some of recent modifications will make this process
> harder. Please note that moving build conditions into
> separate Makefile(s) in contrib tree makes this process
> harder. It also seriously interacts with cross builds.
> Don't also forget that most of libraries which can be
> compiled in Linux can also be ported to other *nixes

I'd appreciate if you could help, as it's extremely
difficult to oversee the .rpm creation.

My changes seemed humble to me, most of them should
have kept existing functionality (in regards to
the include path stuff), the rest (header file
installation) were clear bugs in previous revisions.

I'm sorry if I'm messing up something, but this is
exactly the part, where we need to work together.

If you have any details to share, why it did fail
now, I can give a shot to correct it.

For cross-builds, we probably should have a way to
detect it. But at this moment I have no idea how
contrib cross-builds work in the GNU-make system.

> (BSD, MacOSX, SunOS, HPUX, AIX, ...) and most of statements
> like:
>   ifeq ($(HB_ARCHITECTURE),linux)
> should be updated for this systems, too.
> These modification also make adding autoconf support much
> harder because now I will have to add support for it into
> each library. It will be much easier to check dependences
> and create contrib library list in one place instead of
> updating each library.

I'd still insist on keeping the logic local. It must be
possible to do and the benefits are clear.

Before I started this, most contribs didn't even compile,
and rules were fully chaotic. It might have worked for
the "most important" contribs in Linux, but the goal would
be to make this flexible and not let some contribs rot
and to make them work on all OSes equally well. I'd also find
it important to close the gap between GNU and non-GNU make.
If we can make GNU flexible a properly working enough, we
might even drop the non-GNU version, which would also make
maintenance much easier and usage much clearer. Also notice
that before today's changes, each externally dependent
contrib was using a slightly unique technique to solve
these problems, and I think it would be nice to generalize
these, as the problem is the same, the solution should also
be generic.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun 30 10:34:09 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 10:35:02 2008
Subject: [Harbour] 2008-06-30 13:18 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <9257026e0806300655q6cae5180m7a818df89be09759@mail.gmail.com>
References: <01c8daa4$Blat.v2.6.2$8f5916b2$184023481958@127.0.0.1>
	<9257026e0806300655q6cae5180m7a818df89be09759@mail.gmail.com>
Message-ID: <C00DFAF6-FF3D-48ED-9005-F363C0FB59BC@syenar.hu>

Thanks for these insights.

I know about darwin, but first of all I don't know
how to create more complicate 'if' expressions with
GNU make. The other problem is that I don't know
what would be the default for those other architecture.

We're talking about 8 contribs where we have external
dependencies. (Strange that even hbmisc failed for Tomas)

As for the lib dir, I wonder why do we need the LIB path
in Makefile for mingw? Do you mean we should also deal
with .a files for .dlls?

[ I did this (debated) thing for non-GNU make, which uses
HB_DIR_* (instead of HB_INC_*) so that libs can also be
found. ]

Brgds,
Viktor

On 2008.06.30., at 15:55, Lorenzo Fiorini wrote:

> On Mon, Jun 30, 2008 at 1:29 PM, Szak?ts Viktor <harbour. 
> 01@syenar.hu> wrote:
>> 2008-06-30 13:18 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>>  * contrib/hbapollo/Makefile
> ...
>
> the "problem" I still see is that we need not only the INCLUDE path
> but also the LIB path expecially under Windows mingw.
>
> Under *nix all the libs are are in the /usr/lib but under Windows we
> cannot count on it.
> So if we take gnuwin32 as a reference, we would need to define the
> "prefix" sth like c:\gnu\pgsql and use c:\gnu\pgsql\include in C_USR
> += -I... and c:\gnu\pgsql\lib in the hb-func.sh so that hbmk can
> create an executable that uses pgsql.
>
> Also we have other architectures f.e. darwin so adding default paths
> only for linux inside the single Makefiles is not enough.
>
> best regards,
> Lorenzo

From harbour.01 at syenar.hu  Mon Jun 30 10:37:41 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 10:37:45 2008
Subject: [Harbour] 2008-06-30 16:36 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8dabe$Blat.v2.6.2$d9e065a4$3ec41979a02@127.0.0.1>

2008-06-30 16:36 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbtip/tests/tiptest.prg
     ! Remove strings as arrays access. Thanks Lorenzo.
--
Brgds,
Viktor

From miguelangel at marchuet.net  Mon Jun 30 10:47:53 2008
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Mon Jun 30 10:43:32 2008
Subject: [Harbour] 2008-06-30 14:46 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <01c8daaf$Blat.v2.6.2$916fddfe$116ce93334dc@127.0.0.1>
References: <01c8daaf$Blat.v2.6.2$916fddfe$116ce93334dc@127.0.0.1>
Message-ID: <4868F219.3030102@marchuet.net>

please put this change better

// some compilers has missing this define
#ifndef SOCKET_ERROR
#define SOCKET_ERROR            (-1)
#endif

  at the top of hbinet.c

instead of substitute

             if ( getsockopt( Socket->com, SOL_SOCKET, SO_SNDBUF, (char *) &value, &len ) != SOCKET_ERROR )

for

             if( getsockopt( Socket->com, SOL_SOCKET, SO_SNDBUF, (char *) &value, &len ) == 0 )


The major part of compilers has defined SOCKET_ERROR. It's more clear to read and prevent for future different returns
of getsockopt.

Best regards,
Miguel Angel Marchuet




Szak?ts Viktor escribi?:
> 2008-06-30 14:46 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>    * include/hbextern.ch
>      + New inet functions added.
> 
>    * source/rtl/hbinet.c
>      ! Blind fix for Linux compile error.
> --
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From harbour.01 at syenar.hu  Mon Jun 30 10:45:26 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 10:46:18 2008
Subject: [Harbour] 2008-06-30 14:46 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <4868F219.3030102@marchuet.net>
References: <01c8daaf$Blat.v2.6.2$916fddfe$116ce93334dc@127.0.0.1>
	<4868F219.3030102@marchuet.net>
Message-ID: <23B6A830-8958-4343-BAEC-7812FA2B17FD@syenar.hu>

Hi Miguel,

Can you pls commit this?

Brgds,
Viktor

On 2008.06.30., at 16:47, Miguel Angel Marchuet wrote:

> please put this change better
>
> // some compilers has missing this define
> #ifndef SOCKET_ERROR
> #define SOCKET_ERROR            (-1)
> #endif
>
> at the top of hbinet.c
>
> instead of substitute
>
>            if ( getsockopt( Socket->com, SOL_SOCKET, SO_SNDBUF,  
> (char *) &value, &len ) != SOCKET_ERROR )
>
> for
>
>            if( getsockopt( Socket->com, SOL_SOCKET, SO_SNDBUF, (char  
> *) &value, &len ) == 0 )
>
>
> The major part of compilers has defined SOCKET_ERROR. It's more  
> clear to read and prevent for future different returns
> of getsockopt.
>
> Best regards,
> Miguel Angel Marchuet
>
>
>
>
> Szak?ts Viktor escribi?:
>> 2008-06-30 14:46 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>>   * include/hbextern.ch
>>     + New inet functions added.
>>   * source/rtl/hbinet.c
>>     ! Blind fix for Linux compile error.
>> --
>> Brgds,
>> Viktor
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>

From miguelangel at marchuet.net  Mon Jun 30 10:52:56 2008
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Mon Jun 30 10:48:34 2008
Subject: [Harbour] 2008-06-30 14:46 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
In-Reply-To: <23B6A830-8958-4343-BAEC-7812FA2B17FD@syenar.hu>
References: <01c8daaf$Blat.v2.6.2$916fddfe$116ce93334dc@127.0.0.1>
	<4868F219.3030102@marchuet.net>
	<23B6A830-8958-4343-BAEC-7812FA2B17FD@syenar.hu>
Message-ID: <4868F348.7040607@marchuet.net>

yes of course.

in 5 minutes ;)


Szak?ts Viktor escribi?:
> Hi Miguel,
> 
> Can you pls commit this?
> 
> Brgds,
> Viktor
> 
> On 2008.06.30., at 16:47, Miguel Angel Marchuet wrote:
> 
>> please put this change better
>>
>> // some compilers has missing this define
>> #ifndef SOCKET_ERROR
>> #define SOCKET_ERROR            (-1)
>> #endif
>>
>> at the top of hbinet.c
>>
>> instead of substitute
>>
>>            if ( getsockopt( Socket->com, SOL_SOCKET, SO_SNDBUF, (char 
>> *) &value, &len ) != SOCKET_ERROR )
>>
>> for
>>
>>            if( getsockopt( Socket->com, SOL_SOCKET, SO_SNDBUF, (char 
>> *) &value, &len ) == 0 )
>>
>>
>> The major part of compilers has defined SOCKET_ERROR. It's more clear 
>> to read and prevent for future different returns
>> of getsockopt.
>>
>> Best regards,
>> Miguel Angel Marchuet
>>
>>
>>
>>
>> Szak?ts Viktor escribi?:
>>> 2008-06-30 14:46 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>>>   * include/hbextern.ch
>>>     + New inet functions added.
>>>   * source/rtl/hbinet.c
>>>     ! Blind fix for Linux compile error.
>>> -- 
>>> Brgds,
>>> Viktor
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 
> 

From miguelangel at marchuet.net  Mon Jun 30 11:02:33 2008
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Mon Jun 30 10:58:10 2008
Subject: [Harbour] 2008-06-30 17:00 UTC+0100 Miguel Angel Marchuet
	<miguelangel@marchuet.net>
Message-ID: <4868F589.4000607@marchuet.net>

2008-06-30 17:00 UTC+0100 Miguel Angel Marchuet <miguelangel@marchuet.net>
   * source/rtl/hbinet.c
     + Added define SOCKET_ERROR, that is missing in some compilers.

Best regards,
Miguel Angel marchuet
From druzus at acn.waw.pl  Mon Jun 30 11:00:28 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jun 30 11:00:33 2008
Subject: [Harbour] hbint.c build error under Linux
In-Reply-To: <9257026e0806300638y6d537648lbee79a203d33be83@mail.gmail.com>
References: <9257026e0806300337m31d2c81dqfd8356b10b65ac2e@mail.gmail.com>
	<C01D8289-1797-4456-B9BE-3CDC2F84AA61@syenar.hu>
	<9257026e0806300638y6d537648lbee79a203d33be83@mail.gmail.com>
Message-ID: <20080630150028.GA11091@34-mo7-2.acn.waw.pl>

On Mon, 30 Jun 2008, Lorenzo Fiorini wrote:

Hi Lorenzo,

> Of course it builds now, but I'm wondering if the changes have been
> tested enough.

In general the send and receive loop in hbinet.c for mode == 1 is
from the beginning technical nonsense and this modifications instead
of fixing it added workaround which partially eliminates overhead
introduced by data fragmentation.
We should simply remove iRcvBufSize/iSndBufSize members from
HB_SOCKET_STRUCT and always use iMaxLen/iSend number of bytes.
The select() functions used before recv()/send() operation
informs us the it will be unblocked operation and system will
accept as much data as it will need choosing optimal value
without blocking application.

Of course we can keep new function to set internal buffer size
(SO_RCVBUF/SO_SNDBUF) for users which will want to change it.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Jun 30 11:00:11 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 11:01:08 2008
Subject: [Harbour] 2008-06-30 17:00 UTC+0100 Miguel Angel Marchuet
	<miguelangel@marchuet.net>
In-Reply-To: <4868F589.4000607@marchuet.net>
References: <4868F589.4000607@marchuet.net>
Message-ID: <D734CA15-C3B4-4A9E-B95E-1083C6FED7BC@syenar.hu>

Thanks!

On 2008.06.30., at 17:02, Miguel Angel Marchuet wrote:

> 2008-06-30 17:00 UTC+0100 Miguel Angel Marchuet <miguelangel@marchuet.net 
> >
>  * source/rtl/hbinet.c
>    + Added define SOCKET_ERROR, that is missing in some compilers.
>
> Best regards,
> Miguel Angel marchuet
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Jun 30 11:16:56 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 11:16:54 2008
Subject: [Harbour] 2008-06-30 17:15 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8dac4$Blat.v2.6.2$5593437e$1a9c39a47bec@127.0.0.1>

2008-06-30 17:15 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * source/rtl/hbinet.c
     ! Fixed non-ANSI comment.
--
Brgds,
Viktor

From josemisu at yahoo.com.ar  Mon Jun 30 11:36:39 2008
From: josemisu at yahoo.com.ar (Jose Miguel)
Date: Mon Jun 30 11:37:34 2008
Subject: [Harbour] Wvt_SetFont( 'Lucida Console',18, 11, 0 )
Message-ID: <361636.685.qm@web32804.mail.mud.yahoo.com>

Hola


Somebody knows to use this commando



Wvt_SetFont( 'Lucida Console',18, 11, 0 )
gtwvt.lib even gives
error Me connecting the bookstore I perhaps connect it bad
is for a mixed program hmg -ext + console
--------------------------------------------------
Alguien sabe utilizar este comando

Wvt_SetFont( 'Lucida Console',18, 11, 0 )

Me da error incluso enlazando la libreria gtwvt.lib

quizas la enlazo mal, nose.

Es para un programa mixto hmg ext + console



Saludos

Jose Miguel



Ejemplos y programas para Harbour + MiniGUI Extended 
http://www.embalajesterra.com/misdoc/programas/programas.html




      ____________________________________________________________________________________
?Busc? desde tu celular!

Yahoo! oneSEARCH ahora est? en Claro

http://ar.mobile.yahoo.com/onesearch
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080630/b8725469/attachment.html
From harbour.01 at syenar.hu  Mon Jun 30 11:41:55 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 11:42:47 2008
Subject: [Harbour] Wvt_SetFont( 'Lucida Console',18, 11, 0 )
In-Reply-To: <361636.685.qm@web32804.mail.mud.yahoo.com>
References: <361636.685.qm@web32804.mail.mud.yahoo.com>
Message-ID: <CDFE64A0-4F9C-4AEC-9BDB-CD75EA781B4A@syenar.hu>

[ I don't know the answer, but that's exactly the
confusion I was referring to when dealing with WVT
vs. WVG naming. ]

Brgds,
Viktor

On 2008.06.30., at 17:36, Jose Miguel wrote:

> Hola
>
> Somebody knows to use this commando
> Wvt_SetFont( 'Lucida Console',18, 11, 0 )
> gtwvt.lib even gives error Me connecting the bookstore I perhaps  
> connect it bad
> is for a mixed program hmg -ext + console
> --------------------------------------------------
> Alguien sabe utilizar este comando
> Wvt_SetFont( 'Lucida Console',18, 11, 0 )
> Me da error incluso enlazando la libreria gtwvt.lib
> quizas la enlazo mal, nose.
> Es para un programa mixto hmg ext + console
>
> Saludos
> Jose Miguel
>
>
>
> Ejemplos y programas para Harbour + MiniGUI Extended
> http://www.embalajesterra.com/misdoc/programas/programas.html
>
>
>
> ?Busc? desde tu celular! Yahoo! oneSEARCH ahora est? en Claro
> http://ar.mobile.yahoo.com/onesearch_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Mon Jun 30 11:50:55 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun 30 11:51:03 2008
Subject: [Harbour] Wvt_SetFont( 'Lucida Console',18, 11, 0 )
In-Reply-To: <CDFE64A0-4F9C-4AEC-9BDB-CD75EA781B4A@syenar.hu>
References: <361636.685.qm@web32804.mail.mud.yahoo.com>
	<CDFE64A0-4F9C-4AEC-9BDB-CD75EA781B4A@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EDBF@SRV02.deltain.net>

AFAIK WVT_SETFONT is not supported you can try with 

  Hb_GtInfo( HB_GTI_FONTNAME,..)
  Hb_GtInfo( HB_GTI_FONTWIDTH, .. )
  Hb_GtInfo( HB_GTI_FONTSIZE ,.. )


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Monday, June 30, 2008 5:42 PM
To: josemisu@yahoo.com.ar; Harbour Project Main Developer List.
Subject: Re: [Harbour] Wvt_SetFont( 'Lucida Console',18, 11, 0 )

[ I don't know the answer, but that's exactly the
confusion I was referring to when dealing with WVT
vs. WVG naming. ]

Brgds,
Viktor

On 2008.06.30., at 17:36, Jose Miguel wrote:

> Hola
>
> Somebody knows to use this commando
> Wvt_SetFont( 'Lucida Console',18, 11, 0 )
> gtwvt.lib even gives error Me connecting the bookstore I perhaps  
> connect it bad
> is for a mixed program hmg -ext + console
> --------------------------------------------------
> Alguien sabe utilizar este comando
> Wvt_SetFont( 'Lucida Console',18, 11, 0 )
> Me da error incluso enlazando la libreria gtwvt.lib
> quizas la enlazo mal, nose.
> Es para un programa mixto hmg ext + console
>
> Saludos
> Jose Miguel
>
>
>
> Ejemplos y programas para Harbour + MiniGUI Extended
> http://www.embalajesterra.com/misdoc/programas/programas.html
>
>
>
> ?Busc? desde tu celular! Yahoo! oneSEARCH ahora est? en Claro
> http://ar.mobile.yahoo.com/onesearch_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Mon Jun 30 11:54:33 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun 30 11:54:51 2008
Subject: [Harbour] Wvt_SetFont( 'Lucida Console',18, 11, 0 )
In-Reply-To: <CDFE64A0-4F9C-4AEC-9BDB-CD75EA781B4A@syenar.hu>
References: <361636.685.qm@web32804.mail.mud.yahoo.com>
	<CDFE64A0-4F9C-4AEC-9BDB-CD75EA781B4A@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EDC0@SRV02.deltain.net>

But if gtwvg use a include (suggested from you) for maintain same function name the problem remain same
Is possible inherit gtwvg from gtwvt without rewriting
Is possible create a structure for extend gtwvt with library like gtwvg without rewriting gtwvg?

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Monday, June 30, 2008 5:42 PM
To: josemisu@yahoo.com.ar; Harbour Project Main Developer List.
Subject: Re: [Harbour] Wvt_SetFont( 'Lucida Console',18, 11, 0 )

[ I don't know the answer, but that's exactly the
confusion I was referring to when dealing with WVT
vs. WVG naming. ]

Brgds,
Viktor

On 2008.06.30., at 17:36, Jose Miguel wrote:

> Hola
>
> Somebody knows to use this commando
> Wvt_SetFont( 'Lucida Console',18, 11, 0 )
> gtwvt.lib even gives error Me connecting the bookstore I perhaps  
> connect it bad
> is for a mixed program hmg -ext + console
> --------------------------------------------------
> Alguien sabe utilizar este comando
> Wvt_SetFont( 'Lucida Console',18, 11, 0 )
> Me da error incluso enlazando la libreria gtwvt.lib
> quizas la enlazo mal, nose.
> Es para un programa mixto hmg ext + console
>
> Saludos
> Jose Miguel
>
>
>
> Ejemplos y programas para Harbour + MiniGUI Extended
> http://www.embalajesterra.com/misdoc/programas/programas.html
>
>
>
> ?Busc? desde tu celular! Yahoo! oneSEARCH ahora est? en Claro
> http://ar.mobile.yahoo.com/onesearch_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Mon Jun 30 12:08:54 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 12:09:46 2008
Subject: [Harbour] Wvt_SetFont( 'Lucida Console',18, 11, 0 )
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EDC0@SRV02.deltain.net>
References: <361636.685.qm@web32804.mail.mud.yahoo.com>
	<CDFE64A0-4F9C-4AEC-9BDB-CD75EA781B4A@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815EDC0@SRV02.deltain.net>
Message-ID: <34FD6737-DEAD-41AA-B028-599E534612BA@syenar.hu>

> But if gtwvg use a include (suggested from you) for maintain same  
> function name the problem remain same

It's one step to the right direction.

> Is possible inherit gtwvg from gtwvt without rewriting
> Is possible create a structure for extend gtwvt with library like  
> gtwvg without rewriting gtwvg?

I'd think it's possible to inherit more GTWVT features
rather than keeping a local copy of it in GTWVG. Other
than that the current structure looks alright.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Jun 30 13:25:34 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 13:25:35 2008
Subject: [Harbour] 2008-06-30 19:20 UTC+0200 Viktor Szakats (harbour.01
	syenar hu)
Message-ID: <01c8dad6$Blat.v2.6.2$4ddefcd8$1440635b646a@127.0.0.1>

2008-06-30 19:20 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
   * contrib/hbapollo/Makefile
   * contrib/hbcurl/Makefile
   * contrib/hbfbird/Makefile
   * contrib/hbfimage/Makefile
   * contrib/hbgd/Makefile
   * contrib/hbhpdf/Makefile
   * contrib/hbmysql/Makefile
   * contrib/hbpgsql/Makefile
   * contrib/rddads/Makefile
     * Changed to use default for all architecture.
       Let's hope that checking existence for mixed platform 
       paths won't create problems on any platforms.
     + Added include path detection logic to hbapollo, too.
     + Added Darwin path to hbgd include path list.
     + Added std Linux path to hbfbird include path list.
     ; TOFIX: Seems that 'ifneq ($(HB_INC_*_OK),)' doesn't 
              really work if no path in the path list is valid.

--
Brgds,
Viktor

From bedipritpal at hotmail.com  Mon Jun 30 14:48:20 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Jun 30 14:48:24 2008
Subject: [Harbour] Wvt_SetFont( 'Lucida Console',18, 11, 0 )
In-Reply-To: <CDFE64A0-4F9C-4AEC-9BDB-CD75EA781B4A@syenar.hu>
References: <361636.685.qm@web32804.mail.mud.yahoo.com>
	<CDFE64A0-4F9C-4AEC-9BDB-CD75EA781B4A@syenar.hu>
Message-ID: <18201852.post@talk.nabble.com>


Hello Viktor


Szak?ts Viktor wrote:
> 
> [ I don't know the answer, but that's exactly the
> confusion I was referring to when dealing with WVT
> vs. WVG naming. ]
> 

I understand the problem. It is a matter of proper documentation.
If we change to WVT->WVG then future merging and upgradation 
will be a tedius affair. Even then we must be having wrappers
for old functions to avoid application crashes ( as I explained earier ).

Ok, I will post a basic help .chm in probbaly next two weeks 
covering HB_GtInfo() in general and GTWVT/GTWVG in specific.

Because I have HelpAndManual licensed with me, it will be faster
to write and port to other formats. 

I invite everybody to put forth your suggessions on the 
design/contents/layout/etc of GT help manual.

To make the process visible to everybody I intend to publish
it also as an online help at http://harbour_gt.vouch.info/ besides .chm.
.pdf
formats.

I will start this help project after I gather more information from all of
you.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Wvt_SetFont%28-%27Lucida-Console%27%2C18%2C-11%2C-0-%29-tp18198327p18201852.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Mon Jun 30 14:52:48 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Jun 30 14:52:51 2008
Subject: [Harbour] Wvt_SetFont( 'Lucida Console',18, 11, 0 )
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815EDBF@SRV02.deltain.net>
References: <361636.685.qm@web32804.mail.mud.yahoo.com>
	<CDFE64A0-4F9C-4AEC-9BDB-CD75EA781B4A@syenar.hu>
	<AFB948164110ED43B5EB849E8DEEF03815EDBF@SRV02.deltain.net>
Message-ID: <18201942.post@talk.nabble.com>


Not exactly.


Massimo Belgrano-3 wrote:
> 
> AFAIK WVT_SETFONT is not supported you can try with 
> 
>   Hb_GtInfo( HB_GTI_FONTNAME,..)
>   Hb_GtInfo( HB_GTI_FONTWIDTH, .. )
>   Hb_GtInfo( HB_GTI_FONTSIZE ,.. )
> 

If above approach is to be followed, then 
  Hb_GtInfo( HB_GTI_FONTSIZE ,.. ) 
call must be the last one. But still you may miss exat same behavior
what Wvt_SetFont() accomplishes if you use font weight and quality
different then the defaults.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Wvt_SetFont%28-%27Lucida-Console%27%2C18%2C-11%2C-0-%29-tp18198327p18201942.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Jun 30 14:58:11 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 14:59:06 2008
Subject: [Harbour] Wvt_SetFont( 'Lucida Console',18, 11, 0 )
In-Reply-To: <18201852.post@talk.nabble.com>
References: <361636.685.qm@web32804.mail.mud.yahoo.com>
	<CDFE64A0-4F9C-4AEC-9BDB-CD75EA781B4A@syenar.hu>
	<18201852.post@talk.nabble.com>
Message-ID: <E0E8D6D2-B68A-4AF6-92B5-D56559647E33@syenar.hu>

>
Hi Priptal,

> Szak?ts Viktor wrote:
>>
>> [ I don't know the answer, but that's exactly the
>> confusion I was referring to when dealing with WVT
>> vs. WVG naming. ]
>>
>
> I understand the problem. It is a matter of proper documentation.
> If we change to WVT->WVG then future merging and upgradation
> will be a tedius affair. Even then we must be having wrappers
> for old functions to avoid application crashes ( as I explained  
> earier ).

That's okay, but then we can say that "WVT_*() functions
are deprecated, please use WVG_*() functions instead."
This is very important. I can even create a small batch
file which would do the conversion in a few seconds.

If we don't correct mistakes like this early enough, Harbour
will look like the Windows API...

> Ok, I will post a basic help .chm in probbaly next two weeks
> covering HB_GtInfo() in general and GTWVT/GTWVG in specific.

That won't really help IMO (at least not to this
problem). Code is best if self documenting, and
unambiguous by itself. And the problem is with such
posts as we got today: No one on the list can be sure
what is the issue, and with what. With and without
a documentation.

I'd suggest to document the new names, and also do
some steps to support those new names in the code.

If you're documenting the easy-to-misunderstood ones,
it will just add "insult to injury", and conserve the
problem forever.

> Because I have HelpAndManual licensed with me, it will be faster
> to write and port to other formats.
>
> I invite everybody to put forth your suggessions on the
> design/contents/layout/etc of GT help manual.
>
> To make the process visible to everybody I intend to publish
> it also as an online help at http://harbour_gt.vouch.info/  
> besides .chm.
> .pdf
> formats.
>
> I will start this help project after I gather more information from  
> all of
> you.

That's good, but I think we should discuss the tools
to use, before we jump into Harbour core documentation.

If it's for GTWVG only, it's all good.

Brgds,
Viktor

From miguelangel at marchuet.net  Mon Jun 30 15:51:16 2008
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Mon Jun 30 15:52:43 2008
Subject: [Harbour] hbint.c build error under Linux
In-Reply-To: <20080630150028.GA11091@34-mo7-2.acn.waw.pl>
References: <9257026e0806300337m31d2c81dqfd8356b10b65ac2e@mail.gmail.com>	<C01D8289-1797-4456-B9BE-3CDC2F84AA61@syenar.hu>	<9257026e0806300638y6d537648lbee79a203d33be83@mail.gmail.com>
	<20080630150028.GA11091@34-mo7-2.acn.waw.pl>
Message-ID: <48693934.4080706@marchuet.net>


> In general the send and receive loop in hbinet.c for mode == 1 is
> from the beginning technical nonsense and this modifications instead
> of fixing it added workaround which partially eliminates overhead
> introduced by data fragmentation.
> We should simply remove iRcvBufSize/iSndBufSize members from
> HB_SOCKET_STRUCT and always use iMaxLen/iSend number of bytes.
> The select() functions used before recv()/send() operation
> informs us the it will be unblocked operation and system will
> accept as much data as it will need choosing optimal value
> without blocking application.
>
> Of course we can keep new function to set internal buffer size
> (SO_RCVBUF/SO_SNDBUF) for users which will want to change it.
>
>
>   
iRcvBufSize/oSndBufSize now contents the maximum buffer assigned by 
system, we need to know this value
saved at iRcvBufSize/oSndBufSize, because we can use only half of this 
buffer for safe, almost
meanwhile we work with synchronous buffers.

IMPORTANT this buffers don't have a fix size almost at windows platform, 
it depends of the free memory
system, by default 8kb. Normally we can try to increase it as necessary. 
for example we have good rates
using 64kb bytes to transfer ftp and 16kb for http.

for this reason we can't remove iRcvBufSize/oSndBufSize, we need to know 
this values to not use more
than half buffer to save.

Test using more size some time produce lost of data (windows platforms) 
is possible that linux works better
and is possible to use full system buffer size.

You can say to me what is the default system buffer size at linux 
platforms ?

Best regards,
Miguel Angel Marchuet
From bedipritpal at hotmail.com  Mon Jun 30 16:02:04 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Jun 30 16:02:08 2008
Subject: [Harbour] Wvt_SetFont( 'Lucida Console',18, 11, 0 )
In-Reply-To: <E0E8D6D2-B68A-4AF6-92B5-D56559647E33@syenar.hu>
References: <361636.685.qm@web32804.mail.mud.yahoo.com>
	<CDFE64A0-4F9C-4AEC-9BDB-CD75EA781B4A@syenar.hu>
	<18201852.post@talk.nabble.com>
	<E0E8D6D2-B68A-4AF6-92B5-D56559647E33@syenar.hu>
Message-ID: <18203232.post@talk.nabble.com>


Sorry Viktor


Szak?ts Viktor wrote:
> 
> That's okay, but then we can say that "WVT_*() functions
> are deprecated, please use WVG_*() functions instead."
> This is very important. I can even create a small batch
> file which would do the conversion in a few seconds.
> 

I am not geared up to change everything in my code.
At least not as per now. I have to look into more details
about my data-dictionaries and user base. Until I find a solution
to it I cannot change the namespace.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Wvt_SetFont%28-%27Lucida-Console%27%2C18%2C-11%2C-0-%29-tp18198327p18203232.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Mon Jun 30 17:41:53 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun 30 17:42:00 2008
Subject: [Harbour] Wvt_SetFont( 'Lucida Console',18, 11, 0 )
In-Reply-To: <18201852.post@talk.nabble.com>
References: <361636.685.qm@web32804.mail.mud.yahoo.com><CDFE64A0-4F9C-4AEC-9BDB-CD75EA781B4A@syenar.hu>
	<18201852.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EDC3@SRV02.deltain.net>

My suggestion for structure of gt help manual:

What is a gt? What is common to all gt and what the differences between gt?
How use multiple gt
One Sample that using all gt
At least one Screenshoot for each gt/platform
How Ct3 function can be used ad Viagra for gt (open and close)
What can do a gt: set font, codepage, size of windows,resize, ecc)
History of gt


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: Monday, June 30, 2008 8:48 PM
To: harbour@harbour-project.org
Subject: Re: [Harbour] Wvt_SetFont( 'Lucida Console',18, 11, 0 )

Because I have HelpAndManual licensed with me, it will be faster
to write and port to other formats. 

I invite everybody to put forth your suggessions on the 
design/contents/layout/etc of GT help manual.

To make the process visible to everybody I intend to publish
it also as an online help at http://harbour_gt.vouch.info/ besides .chm.
.pdf
formats.

I will start this help project after I gather more information from all of
you.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Wvt_SetFont%28-%27Lucida-Console%27%2C18%2C-11%2C-0-%29-tp18198327p18201852.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Mon Jun 30 17:49:36 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jun 30 17:50:32 2008
Subject: [Harbour] Wvt_SetFont( 'Lucida Console',18, 11, 0 )
In-Reply-To: <18203232.post@talk.nabble.com>
References: <361636.685.qm@web32804.mail.mud.yahoo.com>
	<CDFE64A0-4F9C-4AEC-9BDB-CD75EA781B4A@syenar.hu>
	<18201852.post@talk.nabble.com>
	<E0E8D6D2-B68A-4AF6-92B5-D56559647E33@syenar.hu>
	<18203232.post@talk.nabble.com>
Message-ID: <FFA89868-94DB-49D5-BD84-68EC9DB1D886@syenar.hu>

Okay, take your time. [ For possible methods to ease
transition, you can have a look at xhb.lib, which
contains most such ideas (hbcompat.ch). With some
clever rearrangement, this can be made quite smooth. ]

Brgds,
Viktor

On 2008.06.30., at 22:02, Pritpal Bedi wrote:

>
> Sorry Viktor
>
>
> Szak?ts Viktor wrote:
>>
>> That's okay, but then we can say that "WVT_*() functions
>> are deprecated, please use WVG_*() functions instead."
>> This is very important. I can even create a small batch
>> file which would do the conversion in a few seconds.
>>
>
> I am not geared up to change everything in my code.
> At least not as per now. I have to look into more details
> about my data-dictionaries and user base. Until I find a solution
> to it I cannot change the namespace.
>
> Regards
> Pritpal Bedi
>
> -- 
> View this message in context: http://www.nabble.com/Wvt_SetFont%28-%27Lucida-Console%27%2C18%2C-11%2C-0-%29-tp18198327p18203232.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Mon Jun 30 17:51:38 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jun 30 17:51:44 2008
Subject: [Harbour] Wvt_SetFont( 'Lucida Console',18, 11, 0 )
In-Reply-To: <E0E8D6D2-B68A-4AF6-92B5-D56559647E33@syenar.hu>
References: <361636.685.qm@web32804.mail.mud.yahoo.com><CDFE64A0-4F9C-4AEC-9BDB-CD75EA781B4A@syenar.hu><18201852.post@talk.nabble.com>
	<E0E8D6D2-B68A-4AF6-92B5-D56559647E33@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815EDC4@SRV02.deltain.net>

What tools  pritpal plan use?
Doxygen seem a open source solution for extract documentation from source
I think that good documentation can be write also with openoffice writer
Imo as final format pdf is better than hlp.


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Monday, June 30, 2008 8:58 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Wvt_SetFont( 'Lucida Console',18, 11, 0 )

>
> I will start this help project after I gather more information from  
> all of
> you.

That's good, but I think we should discuss the tools
to use, before we jump into Harbour core documentation.

If it's for GTWVG only, it's all good.

Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
